"use strict";(self.webpackChunkcode_example=self.webpackChunkcode_example||[]).push([[897],{5676:(e,t,s)=>{s.d(t,{Z:()=>r});var o=s(4848);const r=new class{constructor(){this.store=(0,o.Z)()}fetch(){return this.store.fetch()}}},4848:(e,t,s)=>{s.d(t,{Z:()=>i});s(7658);var o=s(830),r=s(2822);const a=$http.create();a.interceptors.response.use((e=>(e.data&&e.headers["content-type"].includes("application/json")&&(e.data=r.Z.formatter.normalizePropNames(e.data)),e)));const n={async fetch(){const{data:e}=await a.get("/vehicle/routes-data.json");return e}},d=new Map,l=new Map,i=(0,o.Q_)("vehicle",{state:()=>({routes:[],stops:[],stopsWithForward:[]}),getters:{getRoute:e=>t=>{const s=d.get(t);return null==s?null:e.routes[s.index]},getStopWithForward:()=>(e,t)=>{const s=l.get(e);return null==s?null:s[t]}},actions:{async fetch(){this.resetState();const e=await n.fetch(),t=[],s=[];e.forEach(((e,o)=>{d.set(e.id,{index:o}),e.stopIds=e.stops.map((o=>{let r=l.get(o.id);if(null==r){r={index:t.length};const{routeId:e,forward:s,...a}=o;t.push(a)}if(null==r[o.forward]){const e={stop:t[r.index],forward:o.forward,routeIds:[]};s.push(e),r[o.forward]=e}return r[o.forward].routeIds.push(e.id),l.set(o.id,r),{id:o.id,forward:o.forward}})),delete e.stops})),this.routes=e,this.stops=t,this.stopsWithForward=s},resetState(){this.$reset(),d.clear(),l.clear()}}})},5860:(e,t,s)=>{s.d(t,{Z:()=>n});var o=s(6252);const r=["type"];const a={inheritAttrs:!1,props:{type:{type:String,default:"button"}}};const n=(0,s(3744).Z)(a,[["render",function(e,t,s,a,n,d){return(0,o.wg)(),(0,o.iD)("button",(0,o.dG)({type:s.type},e.$attrs),[(0,o.WI)(e.$slots,"default",{},void 0,!0)],16,r)}],["__scopeId","data-v-30cbe47a"]])},1490:(e,t,s)=>{s.d(t,{Z:()=>i});var o=s(6252);const r={class:"row"},a={class:"col-12"},n={class:"text-center"},d=["href"];const l={},i=(0,s(3744).Z)(l,[["render",function(e,t){return(0,o.wg)(),(0,o.iD)("div",r,[(0,o._)("div",a,[(0,o._)("p",n,[(0,o._)("a",{href:e.productionAbsoluteUrl+"/code-example"},"#code-example",8,d)])])])}]])},9629:(e,t,s)=>{s.d(t,{Z:()=>a});var o=s(6252);function r(e,t){let{wrapTag:s}=e,{attrs:r,slots:a}=t;return""!==s?(0,o.h)(s,r,a.default()):a.default()}r.inheritAttrs=!1,r.props={wrapTag:{type:String,default:""}};const a=r},3065:(e,t,s)=>{s.d(t,{Z:()=>l});var o=s(9629),r=s(9487),a=s(6252),n=s(3577);const d={components:{Promised:s(2450).o},inheritAttrs:!1,props:{multiRoot:{type:Boolean,default:!1},showPreloader:{type:Boolean,default:!0}}};const l=(0,s(3744).Z)(d,[["render",function(e,t,s,d,l,i){const c=r.Z,p=(0,a.up)("promised"),u=o.Z;return(0,a.wg)(),(0,a.j4)(u,{"wrap-tag":s.multiRoot?"":"div",class:(0,n.normalizeClass)({"h-100":!s.multiRoot})},{default:(0,a.w5)((()=>[(0,a.Wm)(p,(0,a.dG)(e.$attrs,{"pending-delay":0}),(0,a.Nv)({_:2},[e.$slots.combined?{name:"combined",fn:(0,a.w5)((t=>[s.showPreloader&&t.isPending&&t.isDelayElapsed?((0,a.wg)(),(0,a.j4)(c,{key:0,"add-wrapper":s.multiRoot},null,8,["add-wrapper"])):(0,a.kq)("",!0),(0,a.WI)(e.$slots,"combined",(0,n.normalizeProps)((0,a.F4)(t)))])),key:"0"}:void 0,e.$slots.combined?void 0:{name:"pending",fn:(0,a.w5)((()=>[(0,a.WI)(e.$slots,"pending",{},(()=>[s.showPreloader?((0,a.wg)(),(0,a.j4)(c,{key:0,"add-wrapper":s.multiRoot},null,8,["add-wrapper"])):(0,a.kq)("",!0)]))])),key:"1"},e.$slots.combined?void 0:{name:"default",fn:(0,a.w5)((()=>[(0,a.WI)(e.$slots,"default")])),key:"2"},e.$slots.combined?void 0:{name:"rejected",fn:(0,a.w5)((()=>[(0,a.WI)(e.$slots,"rejected")])),key:"3"}]),1040)])),_:3},8,["wrap-tag","class"])}]])},1238:(e,t,s)=>{s.d(t,{Z:()=>l});var o=s(6252),r=s(9963);const a=(0,o._)("p",{class:"help-text"},"При получении данных произошла ошибка.",-1),n={class:"help-text"};const d={emits:{"page-refresh":null}};const l=(0,s(3744).Z)(d,[["render",function(e,t,s,d,l,i){return(0,o.wg)(),(0,o.iD)(o.HY,null,[a,(0,o._)("p",n,[(0,o.Uk)(" Попробуйте "),(0,o._)("a",{href:"#",onClick:t[0]||(t[0]=(0,r.withModifiers)((t=>e.$emit("page-refresh")),["prevent"]))},"обновить страницу"),(0,o.Uk)(" через некоторое время. ")])],64)}]])},9487:(e,t,s)=>{s.d(t,{Z:()=>l});var o=s(9629),r=s(6252),a=s(3577);const n={class:"ball-pulse"};const d={props:{addWrapper:{type:Boolean,default:!1}},data:()=>({ballColor:"black"})};const l=(0,s(3744).Z)(d,[["render",function(e,t,s,d,l,i){const c=o.Z;return(0,r.wg)(),(0,r.j4)(c,{"wrap-tag":s.addWrapper?"div":"",class:(0,a.normalizeClass)({wrapper:s.addWrapper})},{default:(0,r.w5)((()=>[(0,r._)("div",{class:(0,a.normalizeClass)(["ball-container",{"h-100":!s.addWrapper}])},[(0,r._)("div",n,[((0,r.wg)(),(0,r.iD)(r.HY,null,(0,r.Ko)(3,(e=>(0,r._)("div",{key:e,style:(0,a.normalizeStyle)({"background-color":l.ballColor})},null,4))),64))])],2)])),_:1},8,["wrap-tag","class"])}],["__scopeId","data-v-044483c0"]])},891:(e,t,s)=>{s.d(t,{Z:()=>c});var o=s(6252),r=s(9963);const a={class:"wrapper-page"},n={key:0,class:"main-header"},d={key:1,class:"main"},l={key:2,class:"main-footer"};const i={props:{show:{type:Boolean,default:!0}}};const c=(0,s(3744).Z)(i,[["render",function(e,t,s,i,c,p){return(0,o.wy)(((0,o.wg)(),(0,o.iD)("div",a,[e.$slots.header?((0,o.wg)(),(0,o.iD)("header",n,[(0,o.WI)(e.$slots,"header",{},void 0,!0)])):(0,o.kq)("",!0),e.$slots.default?((0,o.wg)(),(0,o.iD)("main",d,[(0,o.WI)(e.$slots,"default",{},void 0,!0)])):(0,o.kq)("",!0),e.$slots.footer?((0,o.wg)(),(0,o.iD)("footer",l,[(0,o.WI)(e.$slots,"footer",{},void 0,!0)])):(0,o.kq)("",!0)],512)),[[r.vShow,s.show]])}],["__scopeId","data-v-aeb90b02"]])}}]);
//# sourceMappingURL=53f379f.chunk.js.map