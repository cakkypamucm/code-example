/*! For license information please see a17a06d.js.LICENSE.txt */
(self.webpackChunkcode_example=self.webpackChunkcode_example||[]).push([[216],{7713:(t,e,i)=>{"use strict";i.d(e,{$R:()=>at,Gs:()=>Et,Hw:()=>Ct,P6:()=>dt,iA:()=>it});var o=i(6252),n=i(2262),r=i(9963);const s=t=>{for(const e of Object.keys(t)){const i=t[e];i&&l(i.cancel)&&i.cancel()}},a=t=>t&&"function"==typeof t.charAt?t.charAt(0).toUpperCase()+t.slice(1):t,l=t=>"function"==typeof t,c=(t,e,i)=>{for(const n in i){const r="set"+a(n);t[r]?(0,o.YP)((()=>i[n]),((e,i)=>{t[r](e,i)})):e[r]&&(0,o.YP)((()=>i[n]),(t=>{e[r](t)}))}},u=(t,e,i={})=>{const o={...i};for(const i in t){const n=e[i],r=t[i];n&&(n&&!0===n.custom||void 0!==r&&(o[i]=r))}return o},h=t=>{const e={};for(const i in t)if(i.startsWith("on")&&!i.startsWith("onUpdate")&&"onReady"!==i){e[i.slice(2).toLocaleLowerCase()]=t[i]}return e},d=t=>{const e=(0,n.iH)(((...e)=>console.warn(`Method ${t} has been invoked without being replaced`))),i=(...t)=>e.value(...t);return i.wrapped=e,(0,o.JJ)(t,i),i},p=(t,e)=>t.wrapped.value=e,f="object"==typeof self&&self.self===self&&self||"object"==typeof i.g&&i.g.global===i.g&&i.g||globalThis,g=t=>{const e=(0,o.f3)(t);if(!e)throw new Error(`Attempt to inject ${t} before it was provided.`);return e},m=Symbol(),y=Symbol(),v=Symbol(),_=Symbol(),C=Symbol(),b=Symbol(),E=Symbol(),S=Symbol(),w=Symbol(),O=Symbol(),x=Symbol(),P=Symbol(),T={options:{type:Object,default:()=>({}),custom:!0}},M=t=>({options:t.options,methods:{}}),D={...T,pane:{type:String},attribution:{type:String},name:{type:String,custom:!0},layerType:{type:String,custom:!0},visible:{type:Boolean,custom:!0,default:!0}},A=(t,e,i)=>{const n=g(y),r=g(v),{options:s,methods:a}=M(t),c=u(t,D,s),h=()=>n({leafletObject:e.value}),d=()=>r({leafletObject:e.value}),p={...a,setAttribution(i){d(),e.value.options.attribution=i,t.visible&&h()},setName(){d(),t.visible&&h()},setLayerType(){d(),t.visible&&h()},setVisible(t){e.value&&(t?h():d())},bindPopup(t){e.value&&l(e.value.bindPopup)?e.value.bindPopup(t):console.warn("Attempt to bind popup before bindPopup method available on layer.")},bindTooltip(t){e.value&&l(e.value.bindTooltip)?e.value.bindTooltip(t):console.warn("Attempt to bind tooltip before bindTooltip method available on layer.")},unbindTooltip(){e.value&&(l(e.value.closeTooltip)&&e.value.closeTooltip(),l(e.value.unbindTooltip)&&e.value.unbindTooltip())},unbindPopup(){e.value&&(l(e.value.closePopup)&&e.value.closePopup(),l(e.value.unbindPopup)&&e.value.unbindPopup())},updateVisibleProp(t){i.emit("update:visible",t)}};return(0,o.JJ)(w,p.bindPopup),(0,o.JJ)(O,p.bindTooltip),(0,o.JJ)(x,p.unbindPopup),(0,o.JJ)(P,p.unbindTooltip),(0,o.Ah)((()=>{p.unbindPopup(),p.unbindTooltip(),d()})),{options:c,methods:p}},R=(t,e)=>{if(t&&e.default)return(0,o.h)("div",{style:{display:"none"}},e.default())},L={...D,interactive:{type:Boolean,default:void 0},bubblingMouseEvents:{type:Boolean,default:void 0}},I={...L,stroke:{type:Boolean,default:void 0},color:{type:String},weight:{type:Number},opacity:{type:Number},lineCap:{type:String},lineJoin:{type:String},dashArray:{type:String},dashOffset:{type:String},fill:{type:Boolean,default:void 0},fillColor:{type:String},fillOpacity:{type:Number},fillRule:{type:String},className:{type:String}},N=(t,e,i)=>{const{options:n,methods:r}=((t,e,i)=>{const{options:o,methods:n}=A(t,e,i);return{options:u(t,L,o),methods:n}})(t,e,i),s=u(t,I,n),a=g(v),l={...r,setStroke(t){e.value.setStyle({stroke:t})},setColor(t){e.value.setStyle({color:t})},setWeight(t){e.value.setStyle({weight:t})},setOpacity(t){e.value.setStyle({opacity:t})},setLineCap(t){e.value.setStyle({lineCap:t})},setLineJoin(t){e.value.setStyle({lineJoin:t})},setDashArray(t){e.value.setStyle({dashArray:t})},setDashOffset(t){e.value.setStyle({dashOffset:t})},setFill(t){e.value.setStyle({fill:t})},setFillColor(t){e.value.setStyle({fillColor:t})},setFillOpacity(t){e.value.setStyle({fillOpacity:t})},setFillRule(t){e.value.setStyle({fillRule:t})},setClassName(t){e.value.setStyle({className:t})}};return(0,o.Jd)((()=>{a({leafletObject:e.value})})),{options:s,methods:l}},k={...I,radius:{type:Number},latLng:{type:[Object,Array],required:!0,custom:!0}},F=(t,e,i)=>{const{options:o,methods:n}=N(t,e,i);return{options:u(t,k,o),methods:{...n,setRadius(t){e.value.setRadius(t)},setLatLng(t){e.value.setLatLng(t)}}}},B={...k,radius:{type:Number}},G=((0,o.aZ)({name:"LCircle",props:B,setup(t,e){const r=(0,n.iH)(),s=(0,n.iH)(!1),a=(0,o.f3)(m),l=g(y),{options:d,methods:p}=((t,e,i)=>{const{options:o,methods:n}=F(t,e,i);return{options:u(t,B,o),methods:{...n}}})(t,r,e);return(0,o.bv)((async()=>{const{circle:u}=a?f.L:await i.e(216).then(i.bind(i,6633));r.value=(0,n.Xl)(u(t.latLng,d));const g=h(e.attrs);r.value.on(g),c(p,r.value,t),l({...t,...p,leafletObject:r.value}),s.value=!0,(0,o.Y3)((()=>e.emit("ready",r.value)))})),{ready:s,leafletObject:r}},render(){return R(this.ready,this.$slots)}}),(0,o.aZ)({name:"LCircleMarker",props:k,setup(t,e){const r=(0,n.iH)(),s=(0,n.iH)(!1),a=(0,o.f3)(m),l=g(y),{options:u,methods:d}=F(t,r,e);return(0,o.bv)((async()=>{const{circleMarker:p}=a?f.L:await i.e(216).then(i.bind(i,6633));r.value=(0,n.Xl)(p(t.latLng,u));const g=h(e.attrs);r.value.on(g),c(d,r.value,t),l({...t,...d,leafletObject:r.value}),s.value=!0,(0,o.Y3)((()=>e.emit("ready",r.value)))})),{ready:s,leafletObject:r}},render(){return R(this.ready,this.$slots)}}),{...T,position:{type:String}}),j=(t,e)=>{const{options:i,methods:n}=M(t),r=u(t,G,i),s={...n,setPosition(t){e.value&&e.value.setPosition(t)}};return(0,o.Ah)((()=>{e.value&&e.value.remove()})),{options:r,methods:s}},V=((0,o.aZ)({name:"LControl",props:{...G,disableClickPropagation:{type:Boolean,custom:!0,default:!0},disableScrollPropagation:{type:Boolean,custom:!0,default:!1}},setup(t,e){const r=(0,n.iH)(),s=(0,n.iH)(),a=(0,o.f3)(m),l=g(_),{options:u,methods:h}=j(t,r);return(0,o.bv)((async()=>{const{Control:d,DomEvent:p}=a?f.L:await i.e(216).then(i.bind(i,6633)),g=d.extend({onAdd:()=>s.value});r.value=(0,n.Xl)(new g(u)),c(h,r.value,t),l({leafletObject:r.value}),t.disableClickPropagation&&s.value&&p.disableClickPropagation(s.value),t.disableScrollPropagation&&s.value&&p.disableScrollPropagation(s.value),(0,o.Y3)((()=>e.emit("ready",r.value)))})),{root:s,leafletObject:r}},render(){return(t=this.$slots).default?(0,o.h)("div",{ref:"root"},t.default()):null;var t}}),{...G,prefix:{type:String}}),U=((0,o.aZ)({name:"LControlAttribution",props:V,setup(t,e){const r=(0,n.iH)(),s=(0,o.f3)(m),a=g(_),{options:l,methods:h}=((t,e)=>{const{options:i,methods:o}=j(t,e);return{options:u(t,V,i),methods:{...o,setPrefix(t){e.value.setPrefix(t)}}}})(t,r);return(0,o.bv)((async()=>{const{control:u}=s?f.L:await i.e(216).then(i.bind(i,6633));r.value=(0,n.Xl)(u.attribution(l)),c(h,r.value,t),a({leafletObject:r.value}),(0,o.Y3)((()=>e.emit("ready",r.value)))})),{leafletObject:r}},render:()=>null}),{...G,collapsed:{type:Boolean,default:void 0},autoZIndex:{type:Boolean,default:void 0},hideSingleBase:{type:Boolean,default:void 0},sortLayers:{type:Boolean,default:void 0},sortFunction:{type:Function}}),W=((0,o.aZ)({name:"LControlLayers",props:U,setup(t,e){const r=(0,n.iH)(),s=(0,o.f3)(m),a=g(C),{options:l,methods:h}=((t,e)=>{const{options:i}=j(t,e);return{options:u(t,U,i),methods:{addLayer(t){"base"===t.layerType?e.value.addBaseLayer(t.leafletObject,t.name):"overlay"===t.layerType&&e.value.addOverlay(t.leafletObject,t.name)},removeLayer(t){e.value.removeLayer(t.leafletObject)}}}})(t,r);return(0,o.bv)((async()=>{const{control:u}=s?f.L:await i.e(216).then(i.bind(i,6633));r.value=(0,n.Xl)(u.layers(void 0,void 0,l)),c(h,r.value,t),a({...t,...h,leafletObject:r.value}),(0,o.Y3)((()=>e.emit("ready",r.value)))})),{leafletObject:r}},render:()=>null}),{...G,maxWidth:{type:Number},metric:{type:Boolean,default:void 0},imperial:{type:Boolean,default:void 0},updateWhenIdle:{type:Boolean,default:void 0}}),H=((0,o.aZ)({name:"LControlScale",props:W,setup(t,e){const r=(0,n.iH)(),s=(0,o.f3)(m),a=g(_),{options:l,methods:h}=((t,e)=>{const{options:i,methods:o}=j(t,e);return{options:u(t,W,i),methods:o}})(t,r);return(0,o.bv)((async()=>{const{control:u}=s?f.L:await i.e(216).then(i.bind(i,6633));r.value=(0,n.Xl)(u.scale(l)),c(h,r.value,t),a({leafletObject:r.value}),(0,o.Y3)((()=>e.emit("ready",r.value)))})),{leafletObject:r}},render:()=>null}),{...G,zoomInText:{type:String},zoomInTitle:{type:String},zoomOutText:{type:String},zoomOutTitle:{type:String}}),$=((0,o.aZ)({name:"LControlZoom",props:H,setup(t,e){const r=(0,n.iH)(),s=(0,o.f3)(m),a=g(_),{options:l,methods:h}=((t,e)=>{const{options:i,methods:o}=j(t,e);return{options:u(t,H,i),methods:o}})(t,r);return(0,o.bv)((async()=>{const{control:u}=s?f.L:await i.e(216).then(i.bind(i,6633));r.value=(0,n.Xl)(u.zoom(l)),c(h,r.value,t),a({leafletObject:r.value}),(0,o.Y3)((()=>e.emit("ready",r.value)))})),{leafletObject:r}},render:()=>null}),{...D}),z=(t,e,i)=>{const{options:n,methods:r}=A(t,e,i),s=u(t,$,n),a={...r,addLayer(t){e.value.addLayer(t.leafletObject)},removeLayer(t){e.value.removeLayer(t.leafletObject)}};return(0,o.JJ)(y,a.addLayer),(0,o.JJ)(v,a.removeLayer),{options:s,methods:a}},K={...$},Y=((0,o.aZ)({props:K,setup(t,e){const r=(0,n.iH)(),s=(0,n.iH)(!1),a=(0,o.f3)(m),l=g(y),{methods:d,options:p}=((t,e,i)=>{const{options:o,methods:n}=z(t,e,i);return{options:u(t,K,o),methods:{...n}}})(t,r,e);return(0,o.bv)((async()=>{const{featureGroup:u}=a?f.L:await i.e(216).then(i.bind(i,6633));r.value=(0,n.Xl)(u(void 0,p));const g=h(e.attrs);r.value.on(g),c(d,r.value,t),l({...t,...d,leafletObject:r.value}),s.value=!0,(0,o.Y3)((()=>e.emit("ready",r.value)))})),{ready:s,leafletObject:r}},render(){return R(this.ready,this.$slots)}}),{...$,geojson:{type:[Object,Array],custom:!0},optionsStyle:{type:Function,custom:!0}}),X=((0,o.aZ)({props:Y,setup(t,e){const r=(0,n.iH)(),s=(0,n.iH)(!1),a=(0,o.f3)(m),l=g(y),{methods:d,options:p}=((t,e,i)=>{const{options:o,methods:n}=z(t,e,i),r=u(t,Y,o);return Object.prototype.hasOwnProperty.call(t,"optionsStyle")&&(r.style=t.optionsStyle),{options:r,methods:{...n,setGeojson(t){e.value.clearLayers(),e.value.addData(t)},setOptionsStyle(t){e.value.setStyle(t)},getGeoJSONData:()=>e.value.toGeoJSON(),getBounds:()=>e.value.getBounds()}}})(t,r,e);return(0,o.bv)((async()=>{const{geoJSON:u}=a?f.L:await i.e(216).then(i.bind(i,6633));r.value=(0,n.Xl)(u(t.geojson,p));const g=h(e.attrs);r.value.on(g),c(d,r.value,t),l({...t,...d,leafletObject:r.value}),s.value=!0,(0,o.Y3)((()=>e.emit("ready",r.value)))})),{ready:s,leafletObject:r}},render(){return R(this.ready,this.$slots)}}),{...D,opacity:{type:Number},zIndex:{type:Number},tileSize:{type:[Number,Array,Object]},noWrap:{type:Boolean,default:void 0},minZoom:{type:Number},maxZoom:{type:Number}}),Z=(t,e,i)=>{const{options:n,methods:r}=A(t,e,i),s=u(t,X,n),a={...r,setTileComponent(){var t;null==(t=e.value)||t.redraw()}};return(0,o.Ah)((()=>{e.value.off()})),{options:s,methods:a}},q=(t,e,i,n)=>t.extend({initialize(t){this.tileComponents={},this.on("tileunload",this._unloadTile),i.setOptions(this,t)},createTile(t){const i=this._tileCoordsToKey(t);this.tileComponents[i]=e.create("div");const s=(0,o.h)({setup:n,props:["coords"]},{coords:t});return(0,r.render)(s,this.tileComponents[i]),this.tileComponents[i]},_unloadTile(t){const e=this._tileCoordsToKey(t.coords);this.tileComponents[e]&&(this.tileComponents[e].innerHTML="",this.tileComponents[e]=void 0)}}),J=((0,o.aZ)({props:{...X,childRender:{type:Function,required:!0}},setup(t,e){const r=(0,n.iH)(),s=(0,n.iH)(null),a=(0,n.iH)(!1),l=(0,o.f3)(m),u=g(y),{options:d,methods:p}=Z(t,r,e);return(0,o.bv)((async()=>{const{GridLayer:s,DomUtil:g,Util:m}=l?f.L:await i.e(216).then(i.bind(i,6633)),y=q(s,g,m,t.childRender);r.value=(0,n.Xl)(new y(d));const v=h(e.attrs);r.value.on(v),c(p,r.value,t),u({...t,...p,leafletObject:r.value}),a.value=!0,(0,o.Y3)((()=>e.emit("ready",r.value)))})),{root:s,ready:a,leafletObject:r}},render(){return this.ready?(0,o.h)("div",{style:{display:"none"},ref:"root"}):null}}),{iconUrl:{type:String},iconRetinaUrl:{type:String},iconSize:{type:[Object,Array]},iconAnchor:{type:[Object,Array]},popupAnchor:{type:[Object,Array]},tooltipAnchor:{type:[Object,Array]},shadowUrl:{type:String},shadowRetinaUrl:{type:String},shadowSize:{type:[Object,Array]},shadowAnchor:{type:[Object,Array]},bgPos:{type:[Object,Array]},className:{type:String}}),Q=((0,o.aZ)({name:"LIcon",props:{...J,...T},setup(t,e){const r=(0,n.iH)(),s=(0,o.f3)(m),a=g(b),l=g(E),d=g(S);let p,y,v,_,C;const w=(i,o,n)=>{const r=i&&i.innerHTML;if(!o)return void(n&&C&&a()&&l(r));const s=h(e.attrs);C&&y(C,s);const{options:c}=M(t),f=u(t,J,c);r&&(f.html=r),C=f.html?v(f):_(f),p(C,s),d(C)},O=()=>{(0,o.Y3)((()=>w(r.value,!0,!1)))},x=()=>{(0,o.Y3)((()=>w(r.value,!1,!0)))},P={setIconUrl:O,setIconRetinaUrl:O,setIconSize:O,setIconAnchor:O,setPopupAnchor:O,setTooltipAnchor:O,setShadowUrl:O,setShadowRetinaUrl:O,setShadowAnchor:O,setBgPos:O,setClassName:O,setHtml:O};return(0,o.bv)((async()=>{const{DomEvent:e,divIcon:o,icon:n}=s?f.L:await i.e(216).then(i.bind(i,6633));p=e.on,y=e.off,v=o,_=n,c(P,{},t),new MutationObserver(x).observe(r.value,{attributes:!0,childList:!0,characterData:!0,subtree:!0}),O()})),{root:r}},render(){const t=this.$slots.default?this.$slots.default():void 0;return(0,o.h)("div",{ref:"root"},t)}}),{...D,opacity:{type:Number},alt:{type:String},interactive:{type:Boolean,default:void 0},crossOrigin:{type:Boolean,default:void 0},errorOverlayUrl:{type:String},zIndex:{type:Number},className:{type:String},url:{type:String,required:!0,custom:!0},bounds:{type:[Array,Object],required:!0,custom:!0}});(0,o.aZ)({name:"LImageOverlay",props:Q,setup(t,e){const r=(0,n.iH)(),s=(0,n.iH)(!1),a=(0,o.f3)(m),l=g(y),{options:d,methods:p}=((t,e,i)=>{const{options:o,methods:n}=A(t,e,i);return{options:u(t,Q,o),methods:{...n,setOpacity:t=>e.value.setOpacity(t),setUrl:t=>e.value.setUrl(t),setBounds:t=>e.value.setBounds(t),getBounds:()=>e.value.getBounds(),getElement:()=>e.value.getElement(),bringToFront:()=>e.value.bringToFront(),bringToBack:()=>e.value.bringToBack(),setZIndex:t=>e.value.setZIndex(t)}}})(t,r,e);return(0,o.bv)((async()=>{const{imageOverlay:u}=a?f.L:await i.e(216).then(i.bind(i,6633));r.value=(0,n.Xl)(u(t.url,t.bounds,d));const g=h(e.attrs);r.value.on(g),c(p,r.value,t),l({...t,...p,leafletObject:r.value}),s.value=!0,(0,o.Y3)((()=>e.emit("ready",r.value)))})),{ready:s,leafletObject:r}},render(){return R(this.ready,this.$slots)}}),(0,o.aZ)({props:$,setup(t,e){const r=(0,n.iH)(),s=(0,n.iH)(!1),a=(0,o.f3)(m),l=g(y),{methods:u}=z(t,r,e);return(0,o.bv)((async()=>{const{layerGroup:d}=a?f.L:await i.e(216).then(i.bind(i,6633));r.value=(0,n.Xl)(d(void 0,t.options));const p=h(e.attrs);r.value.on(p),c(u,r.value,t),l({...t,...u,leafletObject:r.value}),s.value=!0,(0,o.Y3)((()=>e.emit("ready",r.value)))})),{ready:s,leafletObject:r}},render(){return R(this.ready,this.$slots)}});function tt(t,e,i){var o,n,r;void 0===e&&(e=50),void 0===i&&(i={});var s=null!=(o=i.isImmediate)&&o,a=null!=(n=i.callback)&&n,l=i.maxWait,c=Date.now(),u=[];var h=function(){var i=[].slice.call(arguments),o=this;return new Promise((function(n,h){var d=s&&void 0===r;if(void 0!==r&&clearTimeout(r),r=setTimeout((function(){if(r=void 0,c=Date.now(),!s){var e=t.apply(o,i);a&&a(e),u.forEach((function(t){return(0,t.resolve)(e)})),u=[]}}),function(){if(void 0!==l){var t=Date.now()-c;if(t+e>=l)return l-t}return e}()),d){var p=t.apply(o,i);return a&&a(p),n(p)}u.push({resolve:n,reject:h})}))};return h.cancel=function(t){void 0!==r&&clearTimeout(r),u.forEach((function(e){return(0,e.reject)(t)})),u=[]},h}const et={...T,center:{type:[Object,Array]},bounds:{type:[Array,Object]},maxBounds:{type:[Array,Object]},zoom:{type:Number},minZoom:{type:Number},maxZoom:{type:Number},paddingBottomRight:{type:[Object,Array]},paddingTopLeft:{type:Object},padding:{type:Object},worldCopyJump:{type:Boolean,default:void 0},crs:{type:[String,Object]},maxBoundsViscosity:{type:Number},inertia:{type:Boolean,default:void 0},inertiaDeceleration:{type:Number},inertiaMaxSpeed:{type:Number},easeLinearity:{type:Number},zoomAnimation:{type:Boolean,default:void 0},zoomAnimationThreshold:{type:Number},fadeAnimation:{type:Boolean,default:void 0},markerZoomAnimation:{type:Boolean,default:void 0},noBlockingAnimations:{type:Boolean,default:void 0},useGlobalLeaflet:{type:Boolean,default:!0,custom:!0}},it=(0,o.aZ)({emits:["ready","update:zoom","update:center","update:bounds"],props:et,setup(t,e){const r=(0,n.iH)(),a=(0,n.qj)({ready:!1,layersToAdd:[],layersInControl:[]}),{options:l}=M(t),g=u(t,et,l),b=d(y),E=d(v),S=d(_),w=d(C);(0,o.JJ)(m,t.useGlobalLeaflet);const O=(0,o.Fl)((()=>{const e={};return t.noBlockingAnimations&&(e.animate=!1),e})),x=(0,o.Fl)((()=>{const e=O.value;return t.padding&&(e.padding=t.padding),t.paddingTopLeft&&(e.paddingTopLeft=t.paddingTopLeft),t.paddingBottomRight&&(e.paddingBottomRight=t.paddingBottomRight),e})),P={moveend:tt((t=>{a.leafletRef&&(e.emit("update:zoom",a.leafletRef.getZoom()),e.emit("update:center",a.leafletRef.getCenter()),e.emit("update:bounds",a.leafletRef.getBounds()))})),overlayadd(t){const e=a.layersInControl.find((e=>e.name===t.name));e&&e.updateVisibleProp(!0)},overlayremove(t){const e=a.layersInControl.find((e=>e.name===t.name));e&&e.updateVisibleProp(!1)}};(0,o.bv)((async()=>{t.useGlobalLeaflet&&(f.L=f.L||await Promise.resolve().then(i.t.bind(i,5243,23)));const{map:s,CRS:l,Icon:u,latLngBounds:d,latLng:m,DomEvent:y,stamp:v}=t.useGlobalLeaflet?f.L:await i.e(216).then(i.bind(i,6633));try{g.beforeMapMount&&await g.beforeMapMount()}catch(t){console.error(`The following error occurred running the provided beforeMapMount hook ${t.message}`)}await(async t=>{const e=await Promise.all([i.e(216).then(i.t.bind(i,7852,17)),i.e(216).then(i.t.bind(i,8586,17)),i.e(216).then(i.t.bind(i,3498,17))]);delete t.Default.prototype._getIconUrl,t.Default.mergeOptions({iconRetinaUrl:e[0].default,iconUrl:e[1].default,shadowUrl:e[2].default})})(u);const _="string"==typeof g.crs?l[g.crs]:g.crs;g.crs=_||l.EPSG3857;const C={addLayer(t){void 0!==t.layerType&&(void 0===a.layerControl?a.layersToAdd.push(t):a.layersInControl.find((e=>v(e.leafletObject)===v(t.leafletObject)))||(a.layerControl.addLayer(t),a.layersInControl.push(t))),!1!==t.visible&&a.leafletRef.addLayer(t.leafletObject)},removeLayer(t){void 0!==t.layerType&&(void 0===a.layerControl?a.layersToAdd=a.layersToAdd.filter((e=>e.name!==t.name)):(a.layerControl.removeLayer(t.leafletObject),a.layersInControl=a.layersInControl.filter((e=>v(e.leafletObject)!==v(t.leafletObject))))),a.leafletRef.removeLayer(t.leafletObject)},registerLayerControl(t){a.layerControl=t,a.layersToAdd.forEach((t=>{a.layerControl.addLayer(t)})),a.layersToAdd=[],S(t)},registerControl(t){a.leafletRef.addControl(t.leafletObject)},setZoom(t){t!==a.leafletRef.getZoom()&&a.leafletRef.setZoom(t,O.value)},setCrs(t){const e=a.leafletRef.getBounds();a.leafletRef.options.crs=t,a.leafletRef.fitBounds(e,{animate:!1,padding:[0,0]})},fitBounds(t){a.leafletRef.fitBounds(t,x.value)},setBounds(t){if(!t)return;const e=d(t);e.isValid()&&!(a.lastSetBounds||a.leafletRef.getBounds()).equals(e,0)&&(a.lastSetBounds=e,a.leafletRef.fitBounds(e))},setCenter(t){if(null==t)return;const e=m(t),i=a.lastSetCenter||a.leafletRef.getCenter();(i.lat!==e.lat||i.lng!==e.lng)&&(a.lastSetCenter=e,a.leafletRef.panTo(e,O.value))}};p(b,C.addLayer),p(E,C.removeLayer),p(S,C.registerControl),p(w,C.registerLayerControl),a.leafletRef=(0,n.Xl)(s(r.value,g)),c(C,a.leafletRef,t);const T=h(e.attrs);((t,e)=>{for(const i of Object.keys(e))t.on(i,e[i])})(a.leafletRef,P),y.on(a.leafletRef.getContainer(),T),a.ready=!0,(0,o.Y3)((()=>e.emit("ready",a.leafletRef)))})),(0,o.Jd)((()=>{s(P),a.leafletRef&&(a.leafletRef.off(),a.leafletRef.remove())}));const T=(0,o.Fl)((()=>a.leafletRef)),D=(0,o.Fl)((()=>a.ready));return{root:r,ready:D,leafletObject:T}},render(){return(0,o.h)("div",{style:{width:"100%",height:"100%"},ref:"root"},this.ready&&this.$slots.default?this.$slots.default():{})}}),ot=["Symbol(Comment)","Symbol(Text)"],nt=["LTooltip","LPopup"],rt={...D,draggable:{type:Boolean,default:void 0},icon:{type:[Object]},zIndexOffset:{type:Number},latLng:{type:[Object,Array],custom:!0,required:!0}};function st(t){return!(ot.includes(t.type.toString())||nt.includes(t.type.name))}const at=(0,o.aZ)({name:"LMarker",props:rt,setup(t,e){const r=(0,n.iH)(),a=(0,n.iH)(!1),d=(0,o.f3)(m),p=g(y);(0,o.JJ)(b,(()=>{var t;return!(null==(t=r.value)||!t.getElement())})),(0,o.JJ)(E,(t=>{var e,i;const o=l(null==(e=r.value)?void 0:e.getElement)&&(null==(i=r.value)?void 0:i.getElement());o&&(o.innerHTML=t)})),(0,o.JJ)(S,(t=>{var e;return(null==(e=r.value)?void 0:e.setIcon)&&r.value.setIcon(t)}));const{options:v,methods:_}=((t,e,i)=>{const{options:o,methods:n}=A(t,e,i);return{options:u(t,rt,o),methods:{...n,setDraggable(t){e.value.dragging&&(t?e.value.dragging.enable():e.value.dragging.disable())},latLngSync(t){i.emit("update:latLng",t.latlng),i.emit("update:lat-lng",t.latlng)},setLatLng(t){if(null!=t&&e.value){const i=e.value.getLatLng();(!i||!i.equals(t))&&e.value.setLatLng(t)}}}}})(t,r,e),C={moveHandler:tt(_.latLngSync)};return(0,o.bv)((async()=>{const{marker:s,divIcon:l}=d?f.L:await i.e(216).then(i.bind(i,6633));((t,e)=>{const i=e.slots.default&&e.slots.default();return i&&i.length&&i.some(st)})(0,e)&&(v.icon=l({className:""})),r.value=(0,n.Xl)(s(t.latLng,v));const u=h(e.attrs);r.value.on(u),r.value.on("move",C.moveHandler),c(_,r.value,t),p({...t,..._,leafletObject:r.value}),a.value=!0,(0,o.Y3)((()=>e.emit("ready",r.value)))})),(0,o.Jd)((()=>s(C))),{ready:a,leafletObject:r}},render(){return R(this.ready,this.$slots)}}),lt={...I,smoothFactor:{type:Number},noClip:{type:Boolean,default:void 0},latLngs:{type:Array,required:!0,custom:!0}},ct=(t,e,i)=>{const{options:o,methods:n}=N(t,e,i);return{options:u(t,lt,o),methods:{...n,setSmoothFactor(t){e.value.setStyle({smoothFactor:t})},setNoClip(t){e.value.setStyle({noClip:t})},addLatLng(t){e.value.addLatLng(t)}}}},ut={...lt},ht=(t,e,i)=>{const{options:o,methods:n}=ct(t,e,i);return{options:u(t,ut,o),methods:{...n,toGeoJSON:t=>e.value.toGeoJSON(t)}}},dt=((0,o.aZ)({name:"LPolygon",props:ut,setup(t,e){const r=(0,n.iH)(),s=(0,n.iH)(!1),a=(0,o.f3)(m),l=g(y),{options:u,methods:d}=ht(t,r,e);return(0,o.bv)((async()=>{const{polygon:p}=a?f.L:await i.e(216).then(i.bind(i,6633));r.value=(0,n.Xl)(p(t.latLngs,u));const g=h(e.attrs);r.value.on(g),c(d,r.value,t),l({...t,...d,leafletObject:r.value}),s.value=!0,(0,o.Y3)((()=>e.emit("ready",r.value)))})),{ready:s,leafletObject:r}},render(){return R(this.ready,this.$slots)}}),(0,o.aZ)({name:"LPolyline",props:lt,setup(t,e){const r=(0,n.iH)(),s=(0,n.iH)(!1),a=(0,o.f3)(m),l=g(y),{options:u,methods:d}=ct(t,r,e);return(0,o.bv)((async()=>{const{polyline:p}=a?f.L:await i.e(216).then(i.bind(i,6633));r.value=(0,n.Xl)(p(t.latLngs,u));const g=h(e.attrs);r.value.on(g),c(d,r.value,t),l({...t,...d,leafletObject:r.value}),s.value=!0,(0,o.Y3)((()=>e.emit("ready",r.value)))})),{ready:s,leafletObject:r}},render(){return R(this.ready,this.$slots)}})),pt={...T,content:{type:String,default:null}},ft=(t,e)=>{const{options:i,methods:o}=M(t);return{options:i,methods:{...o,setContent(t){e.value&&null!=t&&e.value.setContent(t)}}}},gt=t=>t.default?(0,o.h)("div",{ref:"root"},t.default()):null,mt={...pt,latLng:{type:[Object,Array],default:()=>[]}},yt=((0,o.aZ)({name:"LPopup",props:mt,setup(t,e){const r=(0,n.iH)(),s=(0,n.iH)(null),a=(0,o.f3)(m),l=g(w),u=g(x),{options:d,methods:p}=((t,e)=>{const{options:i,methods:o}=ft(t,e);return{options:i,methods:o}})(t,r);return(0,o.bv)((async()=>{const{popup:u}=a?f.L:await i.e(216).then(i.bind(i,6633));r.value=(0,n.Xl)(u(d)),void 0!==t.latLng&&r.value.setLatLng(t.latLng),c(p,r.value,t);const g=h(e.attrs);r.value.on(g),r.value.setContent(t.content||s.value||""),l(r.value),(0,o.Y3)((()=>e.emit("ready",r.value)))})),(0,o.Jd)((()=>{u()})),{root:s,leafletObject:r}},render(){return gt(this.$slots)}}),{...ut,latLngs:{...ut.latLngs,required:!1},bounds:{type:Object,custom:!0}}),vt=((0,o.aZ)({name:"LRectangle",props:yt,setup(t,e){const r=(0,n.iH)(),s=(0,n.iH)(!1),a=(0,o.f3)(m),l=g(y),{options:d,methods:p}=((t,e,i)=>{const{options:o,methods:n}=ht(t,e,i);return{options:u(t,yt,o),methods:{...n,setBounds(t){e.value.setBounds(t)},setLatLngs(t){e.value.setBounds(t)}}}})(t,r,e);return(0,o.bv)((async()=>{const{rectangle:u,latLngBounds:g}=a?f.L:await i.e(216).then(i.bind(i,6633)),m=t.bounds?g(t.bounds):g(t.latLngs||[]);r.value=(0,n.Xl)(u(m,d));const y=h(e.attrs);r.value.on(y),c(p,r.value,t),l({...t,...p,leafletObject:r.value}),s.value=!0,(0,o.Y3)((()=>e.emit("ready",r.value)))})),{ready:s,leafletObject:r}},render(){return R(this.ready,this.$slots)}}),{...X,tms:{type:Boolean,default:void 0},subdomains:{type:[String,Array],validator:t=>"string"==typeof t||!!Array.isArray(t)&&t.every((t=>"string"==typeof t))},detectRetina:{type:Boolean,default:void 0},url:{type:String,required:!0,custom:!0}}),_t=(t,e,i)=>{const{options:o,methods:n}=Z(t,e,i);return{options:u(t,vt,o),methods:{...n}}},Ct=(0,o.aZ)({props:vt,setup(t,e){const r=(0,n.iH)(),s=(0,o.f3)(m),a=g(y),{options:l,methods:u}=_t(t,r,e);return(0,o.bv)((async()=>{const{tileLayer:d}=s?f.L:await i.e(216).then(i.bind(i,6633));r.value=(0,n.Xl)(d(t.url,l));const p=h(e.attrs);r.value.on(p),c(u,r.value,t),a({...t,...u,leafletObject:r.value}),(0,o.Y3)((()=>e.emit("ready",r.value)))})),{leafletObject:r}},render:()=>null}),bt={...pt},Et=(0,o.aZ)({name:"LTooltip",props:bt,setup(t,e){const r=(0,n.iH)(),s=(0,n.iH)(null),a=(0,o.f3)(m),l=g(O),{options:u,methods:d}=((t,e)=>{const{options:i,methods:n}=ft(t,e),r=g(P);return(0,o.Jd)((()=>{r()})),{options:i,methods:n}})(t,r);return(0,o.bv)((async()=>{const{tooltip:p}=a?f.L:await i.e(216).then(i.bind(i,6633));r.value=(0,n.Xl)(p(u)),c(d,r.value,t);const g=h(e.attrs);r.value.on(g),r.value.setContent(t.content||s.value||""),l(r.value),(0,o.Y3)((()=>e.emit("ready",r.value)))})),{root:s,leafletObject:r}},render(){return gt(this.$slots)}}),St={...vt,layers:{type:String,required:!0},styles:{type:String},format:{type:String},transparent:{type:Boolean,default:void 0},version:{type:String},crs:{type:Object},uppercase:{type:Boolean,default:void 0}};(0,o.aZ)({props:St,setup(t,e){const r=(0,n.iH)(),s=(0,o.f3)(m),a=g(y),{options:l,methods:d}=((t,e,i)=>{const{options:o,methods:n}=_t(t,e,i);return{options:u(t,St,o),methods:{...n}}})(t,r,e);return(0,o.bv)((async()=>{const{tileLayer:u}=s?f.L:await i.e(216).then(i.bind(i,6633));r.value=(0,n.Xl)(u.wms(t.url,l));const p=h(e.attrs);r.value.on(p),c(d,r.value,t),a({...t,...d,leafletObject:r.value}),(0,o.Y3)((()=>e.emit("ready",r.value)))})),{leafletObject:r}},render:()=>null})},5003:(t,e,i)=>{"use strict";i.r(e),i.d(e,{BASE_TRANSITION:()=>h,CAMELIZE:()=>N,CAPITALIZE:()=>k,CREATE_BLOCK:()=>p,CREATE_COMMENT:()=>y,CREATE_ELEMENT_BLOCK:()=>f,CREATE_ELEMENT_VNODE:()=>m,CREATE_SLOTS:()=>P,CREATE_STATIC:()=>_,CREATE_TEXT:()=>v,CREATE_VNODE:()=>g,DOMDirectiveTransforms:()=>To,DOMNodeTransforms:()=>Po,FRAGMENT:()=>a,GUARD_REACTIVE_PROPS:()=>L,IS_MEMO_SAME:()=>$,IS_REF:()=>W,KEEP_ALIVE:()=>u,MERGE_PROPS:()=>M,NORMALIZE_CLASS:()=>D,NORMALIZE_PROPS:()=>R,NORMALIZE_STYLE:()=>A,OPEN_BLOCK:()=>d,POP_SCOPE_ID:()=>j,PUSH_SCOPE_ID:()=>G,RENDER_LIST:()=>O,RENDER_SLOT:()=>x,RESOLVE_COMPONENT:()=>C,RESOLVE_DIRECTIVE:()=>E,RESOLVE_DYNAMIC_COMPONENT:()=>b,RESOLVE_FILTER:()=>S,SET_BLOCK_TRACKING:()=>B,SUSPENSE:()=>c,TELEPORT:()=>l,TO_DISPLAY_STRING:()=>T,TO_HANDLERS:()=>I,TO_HANDLER_KEY:()=>F,TRANSITION:()=>po,TRANSITION_GROUP:()=>fo,UNREF:()=>U,V_MODEL_CHECKBOX:()=>ro,V_MODEL_DYNAMIC:()=>lo,V_MODEL_RADIO:()=>no,V_MODEL_SELECT:()=>ao,V_MODEL_TEXT:()=>so,V_ON_WITH_KEYS:()=>uo,V_ON_WITH_MODIFIERS:()=>co,V_SHOW:()=>ho,WITH_CTX:()=>V,WITH_DIRECTIVES:()=>w,WITH_MEMO:()=>H,advancePositionWithClone:()=>Ot,advancePositionWithMutation:()=>xt,assert:()=>Pt,baseCompile:()=>io,baseParse:()=>te,buildDirectiveArgs:()=>Li,buildProps:()=>Di,buildSlots:()=>Si,checkCompatEnabled:()=>Xt,compile:()=>Mo,createArrayExpression:()=>q,createAssignmentExpression:()=>ut,createBlockStatement:()=>at,createCacheExpression:()=>st,createCallExpression:()=>ot,createCompilerError:()=>s,createCompoundExpression:()=>it,createConditionalExpression:()=>rt,createDOMCompilerError:()=>Co,createForLoopParams:()=>vi,createFunctionExpression:()=>nt,createIfStatement:()=>ct,createInterpolation:()=>et,createObjectExpression:()=>J,createObjectProperty:()=>Q,createReturnStatement:()=>dt,createRoot:()=>X,createSequenceExpression:()=>ht,createSimpleExpression:()=>tt,createStructuralDirectiveTransform:()=>ke,createTemplateLiteral:()=>lt,createTransformContext:()=>Le,createVNodeCall:()=>Z,extractIdentifiers:()=>Qe,findDir:()=>Tt,findProp:()=>Mt,generate:()=>je,generateCodeFrame:()=>o.generateCodeFrame,getBaseTransformPreset:()=>eo,getConstantType:()=>Pe,getInnerRange:()=>wt,getMemoedVNodeCall:()=>Ht,getVNodeBlockHelper:()=>Ft,getVNodeHelper:()=>kt,hasDynamicKeyVBind:()=>At,hasScopeRef:()=>Wt,helperNameMap:()=>z,injectProp:()=>jt,isBuiltInType:()=>ft,isCoreComponent:()=>gt,isFunctionType:()=>ti,isInDestructureAssignment:()=>Ze,isMemberExpression:()=>St,isMemberExpressionBrowser:()=>bt,isMemberExpressionNode:()=>Et,isReferencedIdentifier:()=>Xe,isSimpleIdentifier:()=>yt,isSlotOutlet:()=>Nt,isStaticArgOf:()=>Dt,isStaticExp:()=>pt,isStaticProperty:()=>ei,isStaticPropertyKey:()=>ii,isTemplateNode:()=>It,isText:()=>Rt,isVSlot:()=>Lt,locStub:()=>Y,makeBlock:()=>$t,noopDirectiveTransform:()=>oo,parse:()=>Do,parserOptions:()=>yo,processExpression:()=>ni,processFor:()=>di,processIf:()=>ai,processSlotOutlet:()=>Bi,registerRuntimeHelpers:()=>K,resolveComponentType:()=>Mi,stringifyExpression:()=>ri,toValidAssetId:()=>Ut,trackSlotScopes:()=>Ci,trackVForSlotScopes:()=>bi,transform:()=>Ie,transformBind:()=>Vi,transformElement:()=>Ti,transformExpression:()=>oi,transformModel:()=>zi,transformOn:()=>ji,transformStyle:()=>vo,traverseNode:()=>Ne,walkBlockDeclarations:()=>Je,walkFunctionParams:()=>qe,walkIdentifiers:()=>Ye,warnDeprecation:()=>Zt});var o=i(3577);function n(t){throw t}function r(t){}function s(t,e,i,o){const n=new SyntaxError(String(t));return n.code=t,n.loc=e,n}const a=Symbol(""),l=Symbol(""),c=Symbol(""),u=Symbol(""),h=Symbol(""),d=Symbol(""),p=Symbol(""),f=Symbol(""),g=Symbol(""),m=Symbol(""),y=Symbol(""),v=Symbol(""),_=Symbol(""),C=Symbol(""),b=Symbol(""),E=Symbol(""),S=Symbol(""),w=Symbol(""),O=Symbol(""),x=Symbol(""),P=Symbol(""),T=Symbol(""),M=Symbol(""),D=Symbol(""),A=Symbol(""),R=Symbol(""),L=Symbol(""),I=Symbol(""),N=Symbol(""),k=Symbol(""),F=Symbol(""),B=Symbol(""),G=Symbol(""),j=Symbol(""),V=Symbol(""),U=Symbol(""),W=Symbol(""),H=Symbol(""),$=Symbol(""),z={[a]:"Fragment",[l]:"Teleport",[c]:"Suspense",[u]:"KeepAlive",[h]:"BaseTransition",[d]:"openBlock",[p]:"createBlock",[f]:"createElementBlock",[g]:"createVNode",[m]:"createElementVNode",[y]:"createCommentVNode",[v]:"createTextVNode",[_]:"createStaticVNode",[C]:"resolveComponent",[b]:"resolveDynamicComponent",[E]:"resolveDirective",[S]:"resolveFilter",[w]:"withDirectives",[O]:"renderList",[x]:"renderSlot",[P]:"createSlots",[T]:"toDisplayString",[M]:"mergeProps",[D]:"normalizeClass",[A]:"normalizeStyle",[R]:"normalizeProps",[L]:"guardReactiveProps",[I]:"toHandlers",[N]:"camelize",[k]:"capitalize",[F]:"toHandlerKey",[B]:"setBlockTracking",[G]:"pushScopeId",[j]:"popScopeId",[V]:"withCtx",[U]:"unref",[W]:"isRef",[H]:"withMemo",[$]:"isMemoSame"};function K(t){Object.getOwnPropertySymbols(t).forEach((e=>{z[e]=t[e]}))}const Y={source:"",start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0}};function X(t,e=Y){return{type:0,children:t,helpers:new Set,components:[],directives:[],hoists:[],imports:[],cached:0,temps:0,codegenNode:void 0,loc:e}}function Z(t,e,i,o,n,r,s,a=!1,l=!1,c=!1,u=Y){return t&&(a?(t.helper(d),t.helper(Ft(t.inSSR,c))):t.helper(kt(t.inSSR,c)),s&&t.helper(w)),{type:13,tag:e,props:i,children:o,patchFlag:n,dynamicProps:r,directives:s,isBlock:a,disableTracking:l,isComponent:c,loc:u}}function q(t,e=Y){return{type:17,loc:e,elements:t}}function J(t,e=Y){return{type:15,loc:e,properties:t}}function Q(t,e){return{type:16,loc:Y,key:(0,o.isString)(t)?tt(t,!0):t,value:e}}function tt(t,e=!1,i=Y,o=0){return{type:4,loc:i,content:t,isStatic:e,constType:e?3:o}}function et(t,e){return{type:5,loc:e,content:(0,o.isString)(t)?tt(t,!1,e):t}}function it(t,e=Y){return{type:8,loc:e,children:t}}function ot(t,e=[],i=Y){return{type:14,loc:i,callee:t,arguments:e}}function nt(t,e=void 0,i=!1,o=!1,n=Y){return{type:18,params:t,returns:e,newline:i,isSlot:o,loc:n}}function rt(t,e,i,o=!0){return{type:19,test:t,consequent:e,alternate:i,newline:o,loc:Y}}function st(t,e,i=!1){return{type:20,index:t,value:e,isVNode:i,loc:Y}}function at(t){return{type:21,body:t,loc:Y}}function lt(t){return{type:22,elements:t,loc:Y}}function ct(t,e,i){return{type:23,test:t,consequent:e,alternate:i,loc:Y}}function ut(t,e){return{type:24,left:t,right:e,loc:Y}}function ht(t){return{type:25,expressions:t,loc:Y}}function dt(t){return{type:26,returns:t,loc:Y}}const pt=t=>4===t.type&&t.isStatic,ft=(t,e)=>t===e||t===(0,o.hyphenate)(e);function gt(t){return ft(t,"Teleport")?l:ft(t,"Suspense")?c:ft(t,"KeepAlive")?u:ft(t,"BaseTransition")?h:void 0}const mt=/^\d|[^\$\w]/,yt=t=>!mt.test(t),vt=/[A-Za-z_$\xA0-\uFFFF]/,_t=/[\.\?\w$\xA0-\uFFFF]/,Ct=/\s+[.[]\s*|\s*[.[]\s+/g,bt=t=>{t=t.trim().replace(Ct,(t=>t.trim()));let e=0,i=[],o=0,n=0,r=null;for(let s=0;s<t.length;s++){const a=t.charAt(s);switch(e){case 0:if("["===a)i.push(e),e=1,o++;else if("("===a)i.push(e),e=2,n++;else if(!(0===s?vt:_t).test(a))return!1;break;case 1:"'"===a||'"'===a||"`"===a?(i.push(e),e=3,r=a):"["===a?o++:"]"===a&&(--o||(e=i.pop()));break;case 2:if("'"===a||'"'===a||"`"===a)i.push(e),e=3,r=a;else if("("===a)n++;else if(")"===a){if(s===t.length-1)return!1;--n||(e=i.pop())}break;case 3:a===r&&(e=i.pop(),r=null)}}return!o&&!n},Et=o.NOOP,St=bt;function wt(t,e,i){const o={source:t.source.slice(e,e+i),start:Ot(t.start,t.source,e),end:t.end};return null!=i&&(o.end=Ot(t.start,t.source,e+i)),o}function Ot(t,e,i=e.length){return xt((0,o.extend)({},t),e,i)}function xt(t,e,i=e.length){let o=0,n=-1;for(let t=0;t<i;t++)10===e.charCodeAt(t)&&(o++,n=t);return t.offset+=i,t.line+=o,t.column=-1===n?t.column+i:i-n,t}function Pt(t,e){if(!t)throw new Error(e||"unexpected compiler condition")}function Tt(t,e,i=!1){for(let n=0;n<t.props.length;n++){const r=t.props[n];if(7===r.type&&(i||r.exp)&&((0,o.isString)(e)?r.name===e:e.test(r.name)))return r}}function Mt(t,e,i=!1,o=!1){for(let n=0;n<t.props.length;n++){const r=t.props[n];if(6===r.type){if(i)continue;if(r.name===e&&(r.value||o))return r}else if("bind"===r.name&&(r.exp||o)&&Dt(r.arg,e))return r}}function Dt(t,e){return!(!t||!pt(t)||t.content!==e)}function At(t){return t.props.some((t=>!(7!==t.type||"bind"!==t.name||t.arg&&4===t.arg.type&&t.arg.isStatic)))}function Rt(t){return 5===t.type||2===t.type}function Lt(t){return 7===t.type&&"slot"===t.name}function It(t){return 1===t.type&&3===t.tagType}function Nt(t){return 1===t.type&&2===t.tagType}function kt(t,e){return t||e?g:m}function Ft(t,e){return t||e?p:f}const Bt=new Set([R,L]);function Gt(t,e=[]){if(t&&!(0,o.isString)(t)&&14===t.type){const i=t.callee;if(!(0,o.isString)(i)&&Bt.has(i))return Gt(t.arguments[0],e.concat(t))}return[t,e]}function jt(t,e,i){let n,r,s=13===t.type?t.props:t.arguments[2],a=[];if(s&&!(0,o.isString)(s)&&14===s.type){const t=Gt(s);s=t[0],a=t[1],r=a[a.length-1]}if(null==s||(0,o.isString)(s))n=J([e]);else if(14===s.type){const t=s.arguments[0];(0,o.isString)(t)||15!==t.type?s.callee===I?n=ot(i.helper(M),[J([e]),s]):s.arguments.unshift(J([e])):Vt(e,t)||t.properties.unshift(e),!n&&(n=s)}else 15===s.type?(Vt(e,s)||s.properties.unshift(e),n=s):(n=ot(i.helper(M),[J([e]),s]),r&&r.callee===L&&(r=a[a.length-2]));13===t.type?r?r.arguments[0]=n:t.props=n:r?r.arguments[0]=n:t.arguments[2]=n}function Vt(t,e){let i=!1;if(4===t.key.type){const o=t.key.content;i=e.properties.some((t=>4===t.key.type&&t.key.content===o))}return i}function Ut(t,e){return`_${e}_${t.replace(/[^\w]/g,((e,i)=>"-"===e?"_":t.charCodeAt(i).toString()))}`}function Wt(t,e){if(!t||0===Object.keys(e).length)return!1;switch(t.type){case 1:for(let i=0;i<t.props.length;i++){const o=t.props[i];if(7===o.type&&(Wt(o.arg,e)||Wt(o.exp,e)))return!0}return t.children.some((t=>Wt(t,e)));case 11:return!!Wt(t.source,e)||t.children.some((t=>Wt(t,e)));case 9:return t.branches.some((t=>Wt(t,e)));case 10:return!!Wt(t.condition,e)||t.children.some((t=>Wt(t,e)));case 4:return!t.isStatic&&yt(t.content)&&!!e[t.content];case 8:return t.children.some((t=>(0,o.isObject)(t)&&Wt(t,e)));case 5:case 12:return Wt(t.content,e);default:return!1}}function Ht(t){return 14===t.type&&t.callee===H?t.arguments[1].returns:t}function $t(t,{helper:e,removeHelper:i,inSSR:o}){t.isBlock||(t.isBlock=!0,i(kt(o,t.isComponent)),e(d),e(Ft(o,t.isComponent)))}const zt={COMPILER_IS_ON_ELEMENT:{message:'Platform-native elements with "is" prop will no longer be treated as components in Vue 3 unless the "is" value is explicitly prefixed with "vue:".',link:"https://v3-migration.vuejs.org/breaking-changes/custom-elements-interop.html"},COMPILER_V_BIND_SYNC:{message:t=>`.sync modifier for v-bind has been removed. Use v-model with argument instead. \`v-bind:${t}.sync\` should be changed to \`v-model:${t}\`.`,link:"https://v3-migration.vuejs.org/breaking-changes/v-model.html"},COMPILER_V_BIND_PROP:{message:".prop modifier for v-bind has been removed and no longer necessary. Vue 3 will automatically set a binding as DOM property when appropriate."},COMPILER_V_BIND_OBJECT_ORDER:{message:'v-bind="obj" usage is now order sensitive and behaves like JavaScript object spread: it will now overwrite an existing non-mergeable attribute that appears before v-bind in the case of conflict. To retain 2.x behavior, move v-bind to make it the first attribute. You can also suppress this warning if the usage is intended.',link:"https://v3-migration.vuejs.org/breaking-changes/v-bind.html"},COMPILER_V_ON_NATIVE:{message:".native modifier for v-on has been removed as is no longer necessary.",link:"https://v3-migration.vuejs.org/breaking-changes/v-on-native-modifier-removed.html"},COMPILER_V_IF_V_FOR_PRECEDENCE:{message:"v-if / v-for precedence when used on the same element has changed in Vue 3: v-if now takes higher precedence and will no longer have access to v-for scope variables. It is best to avoid the ambiguity with <template> tags or use a computed property that filters v-for data source.",link:"https://v3-migration.vuejs.org/breaking-changes/v-if-v-for.html"},COMPILER_NATIVE_TEMPLATE:{message:"<template> with no special directives will render as a native template element instead of its inner content in Vue 3."},COMPILER_INLINE_TEMPLATE:{message:'"inline-template" has been removed in Vue 3.',link:"https://v3-migration.vuejs.org/breaking-changes/inline-template-attribute.html"},COMPILER_FILTER:{message:'filters have been removed in Vue 3. The "|" symbol will be treated as native JavaScript bitwise OR operator. Use method calls or computed properties instead.',link:"https://v3-migration.vuejs.org/breaking-changes/filters.html"}};function Kt(t,e){const i=e.options?e.options.compatConfig:e.compatConfig,o=i&&i[t];return"MODE"===t?o||3:o}function Yt(t,e){const i=Kt("MODE",e),o=Kt(t,e);return 3===i?!0===o:!1!==o}function Xt(t,e,i,...o){return Yt(t,e)}function Zt(t,e,i,...o){if("suppress-warning"===Kt(t,e))return;const{message:n,link:r}=zt[t],s=`(deprecation ${t}) ${"function"==typeof n?n(...o):n}${r?`\n  Details: ${r}`:""}`,a=new SyntaxError(s);a.code=t,i&&(a.loc=i),e.onWarn(a)}const qt=/&(gt|lt|amp|apos|quot);/g,Jt={gt:">",lt:"<",amp:"&",apos:"'",quot:'"'},Qt={delimiters:["{{","}}"],getNamespace:()=>0,getTextMode:()=>0,isVoidTag:o.NO,isPreTag:o.NO,isCustomElement:o.NO,decodeEntities:t=>t.replace(qt,((t,e)=>Jt[e])),onError:n,onWarn:r,comments:!1};function te(t,e={}){const i=function(t,e){const i=(0,o.extend)({},Qt);let n;for(n in e)i[n]=void 0===e[n]?Qt[n]:e[n];return{options:i,column:1,line:1,offset:0,originalSource:t,source:t,inPre:!1,inVPre:!1,onWarn:i.onWarn}}(t,e),n=fe(i);return X(ee(i,0,[]),ge(i,n))}function ee(t,e,i){const n=me(i),r=n?n.ns:0,s=[];for(;!Ee(t,e,i);){const a=t.source;let l;if(0===e||1===e)if(!t.inVPre&&ye(a,t.options.delimiters[0]))l=he(t,e);else if(0===e&&"<"===a[0])if(1===a.length)be(t,5,1);else if("!"===a[1])ye(a,"\x3c!--")?l=ne(t):ye(a,"<!DOCTYPE")?l=re(t):ye(a,"<![CDATA[")?0!==r?l=oe(t,i):(be(t,1),l=re(t)):(be(t,11),l=re(t));else if("/"===a[1])if(2===a.length)be(t,5,2);else{if(">"===a[2]){be(t,14,2),ve(t,3);continue}if(/[a-z]/i.test(a[2])){be(t,23),le(t,1,n);continue}be(t,12,2),l=re(t)}else/[a-z]/i.test(a[1])?(l=se(t,i),Yt("COMPILER_NATIVE_TEMPLATE",t)&&l&&"template"===l.tag&&!l.props.some((t=>7===t.type&&ae(t.name)))&&(l=l.children)):"?"===a[1]?(be(t,21,1),l=re(t)):be(t,12,1);if(l||(l=de(t,e)),(0,o.isArray)(l))for(let t=0;t<l.length;t++)ie(s,l[t]);else ie(s,l)}let a=!1;if(2!==e&&1!==e){const e="preserve"!==t.options.whitespace;for(let i=0;i<s.length;i++){const o=s[i];if(2===o.type)if(t.inPre)o.content=o.content.replace(/\r\n/g,"\n");else if(/[^\t\r\n\f ]/.test(o.content))e&&(o.content=o.content.replace(/[\t\r\n\f ]+/g," "));else{const t=s[i-1],n=s[i+1];!t||!n||e&&(3===t.type&&3===n.type||3===t.type&&1===n.type||1===t.type&&3===n.type||1===t.type&&1===n.type&&/[\r\n]/.test(o.content))?(a=!0,s[i]=null):o.content=" "}else 3!==o.type||t.options.comments||(a=!0,s[i]=null)}if(t.inPre&&n&&t.options.isPreTag(n.tag)){const t=s[0];t&&2===t.type&&(t.content=t.content.replace(/^\r?\n/,""))}}return a?s.filter(Boolean):s}function ie(t,e){if(2===e.type){const i=me(t);if(i&&2===i.type&&i.loc.end.offset===e.loc.start.offset)return i.content+=e.content,i.loc.end=e.loc.end,void(i.loc.source+=e.loc.source)}t.push(e)}function oe(t,e){ve(t,9);const i=ee(t,3,e);return 0===t.source.length?be(t,6):ve(t,3),i}function ne(t){const e=fe(t);let i;const o=/--(\!)?>/.exec(t.source);if(o){o.index<=3&&be(t,0),o[1]&&be(t,10),i=t.source.slice(4,o.index);const e=t.source.slice(0,o.index);let n=1,r=0;for(;-1!==(r=e.indexOf("\x3c!--",n));)ve(t,r-n+1),r+4<e.length&&be(t,16),n=r+1;ve(t,o.index+o[0].length-n+1)}else i=t.source.slice(4),ve(t,t.source.length),be(t,7);return{type:3,content:i,loc:ge(t,e)}}function re(t){const e=fe(t),i="?"===t.source[1]?1:2;let o;const n=t.source.indexOf(">");return-1===n?(o=t.source.slice(i),ve(t,t.source.length)):(o=t.source.slice(i,n),ve(t,n+1)),{type:3,content:o,loc:ge(t,e)}}function se(t,e){const i=t.inPre,o=t.inVPre,n=me(e),r=le(t,0,n),s=t.inPre&&!i,a=t.inVPre&&!o;if(r.isSelfClosing||t.options.isVoidTag(r.tag))return s&&(t.inPre=!1),a&&(t.inVPre=!1),r;e.push(r);const l=t.options.getTextMode(r,n),c=ee(t,l,e);e.pop();{const e=r.props.find((t=>6===t.type&&"inline-template"===t.name));if(e&&Xt("COMPILER_INLINE_TEMPLATE",t,e.loc)){const i=ge(t,r.loc.end);e.value={type:2,content:i.source,loc:i}}}if(r.children=c,Se(t.source,r.tag))le(t,1,n);else if(be(t,24,0,r.loc.start),0===t.source.length&&"script"===r.tag.toLowerCase()){const e=c[0];e&&ye(e.loc.source,"\x3c!--")&&be(t,8)}return r.loc=ge(t,r.loc.start),s&&(t.inPre=!1),a&&(t.inVPre=!1),r}const ae=(0,o.makeMap)("if,else,else-if,for,slot");function le(t,e,i){const n=fe(t),r=/^<\/?([a-z][^\t\r\n\f />]*)/i.exec(t.source),s=r[1],a=t.options.getNamespace(s,i);ve(t,r[0].length),_e(t);const l=fe(t),c=t.source;t.options.isPreTag(s)&&(t.inPre=!0);let u=ce(t,e);0===e&&!t.inVPre&&u.some((t=>7===t.type&&"pre"===t.name))&&(t.inVPre=!0,(0,o.extend)(t,l),t.source=c,u=ce(t,e).filter((t=>"v-pre"!==t.name)));let h=!1;if(0===t.source.length?be(t,9):(h=ye(t.source,"/>"),1===e&&h&&be(t,4),ve(t,h?2:1)),1===e)return;let d=0;return t.inVPre||("slot"===s?d=2:"template"===s?u.some((t=>7===t.type&&ae(t.name)))&&(d=3):function(t,e,i){const o=i.options;if(o.isCustomElement(t))return!1;if("component"===t||/^[A-Z]/.test(t)||gt(t)||o.isBuiltInComponent&&o.isBuiltInComponent(t)||o.isNativeTag&&!o.isNativeTag(t))return!0;for(let t=0;t<e.length;t++){const o=e[t];if(6===o.type){if("is"===o.name&&o.value){if(o.value.content.startsWith("vue:"))return!0;if(Xt("COMPILER_IS_ON_ELEMENT",i,o.loc))return!0}}else{if("is"===o.name)return!0;if("bind"===o.name&&Dt(o.arg,"is")&&Xt("COMPILER_IS_ON_ELEMENT",i,o.loc))return!0}}}(s,u,t)&&(d=1)),{type:1,ns:a,tag:s,tagType:d,props:u,isSelfClosing:h,children:[],loc:ge(t,n),codegenNode:void 0}}function ce(t,e){const i=[],o=new Set;for(;t.source.length>0&&!ye(t.source,">")&&!ye(t.source,"/>");){if(ye(t.source,"/")){be(t,22),ve(t,1),_e(t);continue}1===e&&be(t,3);const n=ue(t,o);6===n.type&&n.value&&"class"===n.name&&(n.value.content=n.value.content.replace(/\s+/g," ").trim()),0===e&&i.push(n),/^[^\t\r\n\f />]/.test(t.source)&&be(t,15),_e(t)}return i}function ue(t,e){const i=fe(t),o=/^[^\t\r\n\f />][^\t\r\n\f />=]*/.exec(t.source)[0];e.has(o)&&be(t,2),e.add(o),"="===o[0]&&be(t,19);{const e=/["'<]/g;let i;for(;i=e.exec(o);)be(t,17,i.index)}let n;ve(t,o.length),/^[\t\r\n\f ]*=/.test(t.source)&&(_e(t),ve(t,1),_e(t),n=function(t){const e=fe(t);let i;const o=t.source[0],n='"'===o||"'"===o;if(n){ve(t,1);const e=t.source.indexOf(o);-1===e?i=pe(t,t.source.length,4):(i=pe(t,e,4),ve(t,1))}else{const e=/^[^\t\r\n\f >]+/.exec(t.source);if(!e)return;const o=/["'<=`]/g;let n;for(;n=o.exec(e[0]);)be(t,18,n.index);i=pe(t,e[0].length,4)}return{content:i,isQuoted:n,loc:ge(t,e)}}(t),n||be(t,13));const r=ge(t,i);if(!t.inVPre&&/^(v-[A-Za-z0-9-]|:|\.|@|#)/.test(o)){const e=/(?:^v-([a-z0-9-]+))?(?:(?::|^\.|^@|^#)(\[[^\]]+\]|[^\.]+))?(.+)?$/i.exec(o);let s,a=ye(o,"."),l=e[1]||(a||ye(o,":")?"bind":ye(o,"@")?"on":"slot");if(e[2]){const n="slot"===l,r=o.lastIndexOf(e[2]),a=ge(t,Ce(t,i,r),Ce(t,i,r+e[2].length+(n&&e[3]||"").length));let c=e[2],u=!0;c.startsWith("[")?(u=!1,c.endsWith("]")?c=c.slice(1,c.length-1):(be(t,27),c=c.slice(1))):n&&(c+=e[3]||""),s={type:4,content:c,isStatic:u,constType:u?3:0,loc:a}}if(n&&n.isQuoted){const t=n.loc;t.start.offset++,t.start.column++,t.end=Ot(t.start,n.content),t.source=t.source.slice(1,-1)}const c=e[3]?e[3].slice(1).split("."):[];return a&&c.push("prop"),"bind"===l&&s&&c.includes("sync")&&Xt("COMPILER_V_BIND_SYNC",t,0,s.loc.source)&&(l="model",c.splice(c.indexOf("sync"),1)),{type:7,name:l,exp:n&&{type:4,content:n.content,isStatic:!1,constType:0,loc:n.loc},arg:s,modifiers:c,loc:r}}return!t.inVPre&&ye(o,"v-")&&be(t,26),{type:6,name:o,value:n&&{type:2,content:n.content,loc:n.loc},loc:r}}function he(t,e){const[i,o]=t.options.delimiters,n=t.source.indexOf(o,i.length);if(-1===n)return void be(t,25);const r=fe(t);ve(t,i.length);const s=fe(t),a=fe(t),l=n-i.length,c=t.source.slice(0,l),u=pe(t,l,e),h=u.trim(),d=u.indexOf(h);d>0&&xt(s,c,d);return xt(a,c,l-(u.length-h.length-d)),ve(t,o.length),{type:5,content:{type:4,isStatic:!1,constType:0,content:h,loc:ge(t,s,a)},loc:ge(t,r)}}function de(t,e){const i=3===e?["]]>"]:["<",t.options.delimiters[0]];let o=t.source.length;for(let e=0;e<i.length;e++){const n=t.source.indexOf(i[e],1);-1!==n&&o>n&&(o=n)}const n=fe(t);return{type:2,content:pe(t,o,e),loc:ge(t,n)}}function pe(t,e,i){const o=t.source.slice(0,e);return ve(t,e),2!==i&&3!==i&&o.includes("&")?t.options.decodeEntities(o,4===i):o}function fe(t){const{column:e,line:i,offset:o}=t;return{column:e,line:i,offset:o}}function ge(t,e,i){return{start:e,end:i=i||fe(t),source:t.originalSource.slice(e.offset,i.offset)}}function me(t){return t[t.length-1]}function ye(t,e){return t.startsWith(e)}function ve(t,e){const{source:i}=t;xt(t,i,e),t.source=i.slice(e)}function _e(t){const e=/^[\t\r\n\f ]+/.exec(t.source);e&&ve(t,e[0].length)}function Ce(t,e,i){return Ot(e,t.originalSource.slice(e.offset,i),i)}function be(t,e,i,o=fe(t)){i&&(o.offset+=i,o.column+=i),t.options.onError(s(e,{start:o,end:o,source:""}))}function Ee(t,e,i){const o=t.source;switch(e){case 0:if(ye(o,"</"))for(let t=i.length-1;t>=0;--t)if(Se(o,i[t].tag))return!0;break;case 1:case 2:{const t=me(i);if(t&&Se(o,t.tag))return!0;break}case 3:if(ye(o,"]]>"))return!0}return!o}function Se(t,e){return ye(t,"</")&&t.slice(2,2+e.length).toLowerCase()===e.toLowerCase()&&/[\t\r\n\f />]/.test(t[2+e.length]||">")}function we(t,e){xe(t,e,Oe(t,t.children[0]))}function Oe(t,e){const{children:i}=t;return 1===i.length&&1===e.type&&!Nt(e)}function xe(t,e,i=!1){const{children:n}=t,r=n.length;let s=0;for(let t=0;t<n.length;t++){const o=n[t];if(1===o.type&&0===o.tagType){const t=i?0:Pe(o,e);if(t>0){if(t>=2){o.codegenNode.patchFlag="-1",o.codegenNode=e.hoist(o.codegenNode),s++;continue}}else{const t=o.codegenNode;if(13===t.type){const i=Re(t);if((!i||512===i||1===i)&&De(o,e)>=2){const i=Ae(o);i&&(t.props=e.hoist(i))}t.dynamicProps&&(t.dynamicProps=e.hoist(t.dynamicProps))}}}if(1===o.type){const t=1===o.tagType;t&&e.scopes.vSlot++,xe(o,e),t&&e.scopes.vSlot--}else if(11===o.type)xe(o,e,1===o.children.length);else if(9===o.type)for(let t=0;t<o.branches.length;t++)xe(o.branches[t],e,1===o.branches[t].children.length)}s&&e.transformHoist&&e.transformHoist(n,e,t),s&&s===r&&1===t.type&&0===t.tagType&&t.codegenNode&&13===t.codegenNode.type&&(0,o.isArray)(t.codegenNode.children)&&(t.codegenNode.children=e.hoist(q(t.codegenNode.children)))}function Pe(t,e){const{constantCache:i}=e;switch(t.type){case 1:if(0!==t.tagType)return 0;const n=i.get(t);if(void 0!==n)return n;const r=t.codegenNode;if(13!==r.type)return 0;if(r.isBlock&&"svg"!==t.tag&&"foreignObject"!==t.tag)return 0;if(Re(r))return i.set(t,0),0;{let o=3;const n=De(t,e);if(0===n)return i.set(t,0),0;n<o&&(o=n);for(let n=0;n<t.children.length;n++){const r=Pe(t.children[n],e);if(0===r)return i.set(t,0),0;r<o&&(o=r)}if(o>1)for(let n=0;n<t.props.length;n++){const r=t.props[n];if(7===r.type&&"bind"===r.name&&r.exp){const n=Pe(r.exp,e);if(0===n)return i.set(t,0),0;n<o&&(o=n)}}if(r.isBlock){for(let e=0;e<t.props.length;e++){if(7===t.props[e].type)return i.set(t,0),0}e.removeHelper(d),e.removeHelper(Ft(e.inSSR,r.isComponent)),r.isBlock=!1,e.helper(kt(e.inSSR,r.isComponent))}return i.set(t,o),o}case 2:case 3:return 3;case 9:case 11:case 10:default:return 0;case 5:case 12:return Pe(t.content,e);case 4:return t.constType;case 8:let s=3;for(let i=0;i<t.children.length;i++){const n=t.children[i];if((0,o.isString)(n)||(0,o.isSymbol)(n))continue;const r=Pe(n,e);if(0===r)return 0;r<s&&(s=r)}return s}}const Te=new Set([D,A,R,L]);function Me(t,e){if(14===t.type&&!(0,o.isString)(t.callee)&&Te.has(t.callee)){const i=t.arguments[0];if(4===i.type)return Pe(i,e);if(14===i.type)return Me(i,e)}return 0}function De(t,e){let i=3;const o=Ae(t);if(o&&15===o.type){const{properties:t}=o;for(let o=0;o<t.length;o++){const{key:n,value:r}=t[o],s=Pe(n,e);if(0===s)return s;let a;if(s<i&&(i=s),a=4===r.type?Pe(r,e):14===r.type?Me(r,e):0,0===a)return a;a<i&&(i=a)}}return i}function Ae(t){const e=t.codegenNode;if(13===e.type)return e.props}function Re(t){const e=t.patchFlag;return e?parseInt(e,10):void 0}function Le(t,{filename:e="",prefixIdentifiers:i=!1,hoistStatic:s=!1,cacheHandlers:a=!1,nodeTransforms:l=[],directiveTransforms:c={},transformHoist:u=null,isBuiltInComponent:h=o.NOOP,isCustomElement:d=o.NOOP,expressionPlugins:p=[],scopeId:f=null,slotted:g=!0,ssr:m=!1,inSSR:y=!1,ssrCssVars:v="",bindingMetadata:_=o.EMPTY_OBJ,inline:C=!1,isTS:b=!1,onError:E=n,onWarn:S=r,compatConfig:w}){const O=e.replace(/\?.*$/,"").match(/([^/\\]+)\.\w+$/),x={selfName:O&&(0,o.capitalize)((0,o.camelize)(O[1])),prefixIdentifiers:i,hoistStatic:s,cacheHandlers:a,nodeTransforms:l,directiveTransforms:c,transformHoist:u,isBuiltInComponent:h,isCustomElement:d,expressionPlugins:p,scopeId:f,slotted:g,ssr:m,inSSR:y,ssrCssVars:v,bindingMetadata:_,inline:C,isTS:b,onError:E,onWarn:S,compatConfig:w,root:t,helpers:new Map,components:new Set,directives:new Set,hoists:[],imports:[],constantCache:new Map,temps:0,cached:0,identifiers:Object.create(null),scopes:{vFor:0,vSlot:0,vPre:0,vOnce:0},parent:null,currentNode:t,childIndex:0,inVOnce:!1,helper(t){const e=x.helpers.get(t)||0;return x.helpers.set(t,e+1),t},removeHelper(t){const e=x.helpers.get(t);if(e){const i=e-1;i?x.helpers.set(t,i):x.helpers.delete(t)}},helperString:t=>`_${z[x.helper(t)]}`,replaceNode(t){x.parent.children[x.childIndex]=x.currentNode=t},removeNode(t){const e=x.parent.children,i=t?e.indexOf(t):x.currentNode?x.childIndex:-1;t&&t!==x.currentNode?x.childIndex>i&&(x.childIndex--,x.onNodeRemoved()):(x.currentNode=null,x.onNodeRemoved()),x.parent.children.splice(i,1)},onNodeRemoved:()=>{},addIdentifiers(t){},removeIdentifiers(t){},hoist(t){(0,o.isString)(t)&&(t=tt(t)),x.hoists.push(t);const e=tt(`_hoisted_${x.hoists.length}`,!1,t.loc,2);return e.hoisted=t,e},cache:(t,e=!1)=>st(x.cached++,t,e)};return x.filters=new Set,x}function Ie(t,e){const i=Le(t,e);Ne(t,i),e.hoistStatic&&we(t,i),e.ssr||function(t,e){const{helper:i}=e,{children:n}=t;if(1===n.length){const i=n[0];if(Oe(t,i)&&i.codegenNode){const o=i.codegenNode;13===o.type&&$t(o,e),t.codegenNode=o}else t.codegenNode=i}else if(n.length>1){let n=64;o.PatchFlagNames[64];0,t.codegenNode=Z(e,i(a),void 0,t.children,n+"",void 0,void 0,!0,void 0,!1)}}(t,i),t.helpers=new Set([...i.helpers.keys()]),t.components=[...i.components],t.directives=[...i.directives],t.imports=i.imports,t.hoists=i.hoists,t.temps=i.temps,t.cached=i.cached,t.filters=[...i.filters]}function Ne(t,e){e.currentNode=t;const{nodeTransforms:i}=e,n=[];for(let r=0;r<i.length;r++){const s=i[r](t,e);if(s&&((0,o.isArray)(s)?n.push(...s):n.push(s)),!e.currentNode)return;t=e.currentNode}switch(t.type){case 3:e.ssr||e.helper(y);break;case 5:e.ssr||e.helper(T);break;case 9:for(let i=0;i<t.branches.length;i++)Ne(t.branches[i],e);break;case 10:case 11:case 1:case 0:!function(t,e){let i=0;const n=()=>{i--};for(;i<t.children.length;i++){const r=t.children[i];(0,o.isString)(r)||(e.parent=t,e.childIndex=i,e.onNodeRemoved=n,Ne(r,e))}}(t,e)}e.currentNode=t;let r=n.length;for(;r--;)n[r]()}function ke(t,e){const i=(0,o.isString)(t)?e=>e===t:e=>t.test(e);return(t,o)=>{if(1===t.type){const{props:n}=t;if(3===t.tagType&&n.some(Lt))return;const r=[];for(let s=0;s<n.length;s++){const a=n[s];if(7===a.type&&i(a.name)){n.splice(s,1),s--;const i=e(t,a,o);i&&r.push(i)}}return r}}}const Fe="/*#__PURE__*/",Be=t=>`${z[t]}: _${z[t]}`;function Ge(t,{mode:e="function",prefixIdentifiers:i="module"===e,sourceMap:o=!1,filename:n="template.vue.html",scopeId:r=null,optimizeImports:s=!1,runtimeGlobalName:a="Vue",runtimeModuleName:l="vue",ssrRuntimeModuleName:c="vue/server-renderer",ssr:u=!1,isTS:h=!1,inSSR:d=!1}){const p={mode:e,prefixIdentifiers:i,sourceMap:o,filename:n,scopeId:r,optimizeImports:s,runtimeGlobalName:a,runtimeModuleName:l,ssrRuntimeModuleName:c,ssr:u,isTS:h,inSSR:d,source:t.loc.source,code:"",column:1,line:1,offset:0,indentLevel:0,pure:!1,map:void 0,helper:t=>`_${z[t]}`,push(t,e){p.code+=t},indent(){f(++p.indentLevel)},deindent(t=!1){t?--p.indentLevel:f(--p.indentLevel)},newline(){f(p.indentLevel)}};function f(t){p.push("\n"+"  ".repeat(t))}return p}function je(t,e={}){const i=Ge(t,e);e.onContextCreated&&e.onContextCreated(i);const{mode:o,push:n,prefixIdentifiers:r,indent:s,deindent:a,newline:l,scopeId:c,ssr:u}=i,h=Array.from(t.helpers),d=h.length>0,p=!r&&"module"!==o,f=i;!function(t,e){const{ssr:i,prefixIdentifiers:o,push:n,newline:r,runtimeModuleName:s,runtimeGlobalName:a,ssrRuntimeModuleName:l}=e,c=a,u=Array.from(t.helpers);if(u.length>0&&(n(`const _Vue = ${c}\n`),t.hoists.length)){n(`const { ${[g,m,y,v,_].filter((t=>u.includes(t))).map(Be).join(", ")} } = _Vue\n`)}(function(t,e){if(!t.length)return;e.pure=!0;const{push:i,newline:o,helper:n,scopeId:r,mode:s}=e;o();for(let n=0;n<t.length;n++){const r=t[n];r&&(i(`const _hoisted_${n+1} = `),He(r,e),o())}e.pure=!1})(t.hoists,e),r(),n("return ")}(t,f);if(n(`function ${u?"ssrRender":"render"}(${(u?["_ctx","_push","_parent","_attrs"]:["_ctx","_cache"]).join(", ")}) {`),s(),p&&(n("with (_ctx) {"),s(),d&&(n(`const { ${h.map(Be).join(", ")} } = _Vue`),n("\n"),l())),t.components.length&&(Ve(t.components,"component",i),(t.directives.length||t.temps>0)&&l()),t.directives.length&&(Ve(t.directives,"directive",i),t.temps>0&&l()),t.filters&&t.filters.length&&(l(),Ve(t.filters,"filter",i),l()),t.temps>0){n("let ");for(let e=0;e<t.temps;e++)n(`${e>0?", ":""}_temp${e}`)}return(t.components.length||t.directives.length||t.temps)&&(n("\n"),l()),u||n("return "),t.codegenNode?He(t.codegenNode,i):n("null"),p&&(a(),n("}")),a(),n("}"),{ast:t,code:i.code,preamble:"",map:i.map?i.map.toJSON():void 0}}function Ve(t,e,{helper:i,push:o,newline:n,isTS:r}){const s=i("filter"===e?S:"component"===e?C:E);for(let i=0;i<t.length;i++){let a=t[i];const l=a.endsWith("__self");l&&(a=a.slice(0,-6)),o(`const ${Ut(a,e)} = ${s}(${JSON.stringify(a)}${l?", true":""})${r?"!":""}`),i<t.length-1&&n()}}function Ue(t,e){const i=t.length>3||!1;e.push("["),i&&e.indent(),We(t,e,i),i&&e.deindent(),e.push("]")}function We(t,e,i=!1,n=!0){const{push:r,newline:s}=e;for(let a=0;a<t.length;a++){const l=t[a];(0,o.isString)(l)?r(l):(0,o.isArray)(l)?Ue(l,e):He(l,e),a<t.length-1&&(i?(n&&r(","),s()):n&&r(", "))}}function He(t,e){if((0,o.isString)(t))e.push(t);else if((0,o.isSymbol)(t))e.push(e.helper(t));else switch(t.type){case 1:case 9:case 11:case 12:He(t.codegenNode,e);break;case 2:!function(t,e){e.push(JSON.stringify(t.content),t)}(t,e);break;case 4:$e(t,e);break;case 5:!function(t,e){const{push:i,helper:o,pure:n}=e;n&&i(Fe);i(`${o(T)}(`),He(t.content,e),i(")")}(t,e);break;case 8:ze(t,e);break;case 3:!function(t,e){const{push:i,helper:o,pure:n}=e;n&&i(Fe);i(`${o(y)}(${JSON.stringify(t.content)})`,t)}(t,e);break;case 13:!function(t,e){const{push:i,helper:o,pure:n}=e,{tag:r,props:s,children:a,patchFlag:l,dynamicProps:c,directives:u,isBlock:h,disableTracking:p,isComponent:f}=t;u&&i(o(w)+"(");h&&i(`(${o(d)}(${p?"true":""}), `);n&&i(Fe);const g=h?Ft(e.inSSR,f):kt(e.inSSR,f);i(o(g)+"(",t),We(function(t){let e=t.length;for(;e--&&null==t[e];);return t.slice(0,e+1).map((t=>t||"null"))}([r,s,a,l,c]),e),i(")"),h&&i(")");u&&(i(", "),He(u,e),i(")"))}(t,e);break;case 14:!function(t,e){const{push:i,helper:n,pure:r}=e,s=(0,o.isString)(t.callee)?t.callee:n(t.callee);r&&i(Fe);i(s+"(",t),We(t.arguments,e),i(")")}(t,e);break;case 15:!function(t,e){const{push:i,indent:o,deindent:n,newline:r}=e,{properties:s}=t;if(!s.length)return void i("{}",t);const a=s.length>1||!1;i(a?"{":"{ "),a&&o();for(let t=0;t<s.length;t++){const{key:o,value:n}=s[t];Ke(o,e),i(": "),He(n,e),t<s.length-1&&(i(","),r())}a&&n(),i(a?"}":" }")}(t,e);break;case 17:!function(t,e){Ue(t.elements,e)}(t,e);break;case 18:!function(t,e){const{push:i,indent:n,deindent:r}=e,{params:s,returns:a,body:l,newline:c,isSlot:u}=t;u&&i(`_${z[V]}(`);i("(",t),(0,o.isArray)(s)?We(s,e):s&&He(s,e);i(") => "),(c||l)&&(i("{"),n());a?(c&&i("return "),(0,o.isArray)(a)?Ue(a,e):He(a,e)):l&&He(l,e);(c||l)&&(r(),i("}"));u&&(t.isNonScopedSlot&&i(", undefined, true"),i(")"))}(t,e);break;case 19:!function(t,e){const{test:i,consequent:o,alternate:n,newline:r}=t,{push:s,indent:a,deindent:l,newline:c}=e;if(4===i.type){const t=!yt(i.content);t&&s("("),$e(i,e),t&&s(")")}else s("("),He(i,e),s(")");r&&a(),e.indentLevel++,r||s(" "),s("? "),He(o,e),e.indentLevel--,r&&c(),r||s(" "),s(": ");const u=19===n.type;u||e.indentLevel++;He(n,e),u||e.indentLevel--;r&&l(!0)}(t,e);break;case 20:!function(t,e){const{push:i,helper:o,indent:n,deindent:r,newline:s}=e;i(`_cache[${t.index}] || (`),t.isVNode&&(n(),i(`${o(B)}(-1),`),s());i(`_cache[${t.index}] = `),He(t.value,e),t.isVNode&&(i(","),s(),i(`${o(B)}(1),`),s(),i(`_cache[${t.index}]`),r());i(")")}(t,e);break;case 21:We(t.body,e,!0,!1)}}function $e(t,e){const{content:i,isStatic:o}=t;e.push(o?JSON.stringify(i):i,t)}function ze(t,e){for(let i=0;i<t.children.length;i++){const n=t.children[i];(0,o.isString)(n)?e.push(n):He(n,e)}}function Ke(t,e){const{push:i}=e;if(8===t.type)i("["),ze(t,e),i("]");else if(t.isStatic){i(yt(t.content)?t.content:JSON.stringify(t.content),t)}else i(`[${t.content}]`,t)}function Ye(t,e,i=!1,o=[],n=Object.create(null)){}function Xe(t,e,i){return!1}function Ze(t,e){if(t&&("ObjectProperty"===t.type||"ArrayPattern"===t.type)){let t=e.length;for(;t--;){const i=e[t];if("AssignmentExpression"===i.type)return!0;if("ObjectProperty"!==i.type&&!i.type.endsWith("Pattern"))break}}return!1}function qe(t,e){for(const i of t.params)for(const t of Qe(i))e(t)}function Je(t,e){for(const i of t.body)if("VariableDeclaration"===i.type){if(i.declare)continue;for(const t of i.declarations)for(const i of Qe(t.id))e(i)}else if("FunctionDeclaration"===i.type||"ClassDeclaration"===i.type){if(i.declare||!i.id)continue;e(i.id)}}function Qe(t,e=[]){switch(t.type){case"Identifier":e.push(t);break;case"MemberExpression":let i=t;for(;"MemberExpression"===i.type;)i=i.object;e.push(i);break;case"ObjectPattern":for(const i of t.properties)"RestElement"===i.type?Qe(i.argument,e):Qe(i.value,e);break;case"ArrayPattern":t.elements.forEach((t=>{t&&Qe(t,e)}));break;case"RestElement":Qe(t.argument,e);break;case"AssignmentPattern":Qe(t.left,e)}return e}const ti=t=>/Function(?:Expression|Declaration)$|Method$/.test(t.type),ei=t=>t&&("ObjectProperty"===t.type||"ObjectMethod"===t.type)&&!t.computed,ii=(t,e)=>ei(e)&&e.key===t;new RegExp("\\b"+"arguments,await,break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,let,new,return,super,switch,throw,try,var,void,while,with,yield".split(",").join("\\b|\\b")+"\\b");const oi=(t,e)=>{if(5===t.type)t.content=ni(t.content,e);else if(1===t.type)for(let i=0;i<t.props.length;i++){const o=t.props[i];if(7===o.type&&"for"!==o.name){const t=o.exp,i=o.arg;!t||4!==t.type||"on"===o.name&&i||(o.exp=ni(t,e,"slot"===o.name)),i&&4===i.type&&!i.isStatic&&(o.arg=ni(i,e))}}};function ni(t,e,i=!1,o=!1,n=Object.create(e.identifiers)){return t}function ri(t){return(0,o.isString)(t)?t:4===t.type?t.content:t.children.map(ri).join("")}const si=ke(/^(if|else|else-if)$/,((t,e,i)=>ai(t,e,i,((t,e,o)=>{const n=i.parent.children;let r=n.indexOf(t),s=0;for(;r-- >=0;){const t=n[r];t&&9===t.type&&(s+=t.branches.length)}return()=>{if(o)t.codegenNode=ci(e,s,i);else{const o=function(t){for(;;)if(19===t.type){if(19!==t.alternate.type)return t;t=t.alternate}else 20===t.type&&(t=t.value)}(t.codegenNode);o.alternate=ci(e,s+t.branches.length-1,i)}}}))));function ai(t,e,i,o){if(!("else"===e.name||e.exp&&e.exp.content.trim())){const o=e.exp?e.exp.loc:t.loc;i.onError(s(28,e.loc)),e.exp=tt("true",!1,o)}if("if"===e.name){const n=li(t,e),r={type:9,loc:t.loc,branches:[n]};if(i.replaceNode(r),o)return o(r,n,!0)}else{const n=i.parent.children;let r=n.indexOf(t);for(;r-- >=-1;){const a=n[r];if(a&&3===a.type)i.removeNode(a);else{if(!a||2!==a.type||a.content.trim().length){if(a&&9===a.type){"else-if"===e.name&&void 0===a.branches[a.branches.length-1].condition&&i.onError(s(30,t.loc)),i.removeNode();const n=li(t,e);0,a.branches.push(n);const r=o&&o(a,n,!1);Ne(n,i),r&&r(),i.currentNode=null}else i.onError(s(30,t.loc));break}i.removeNode(a)}}}}function li(t,e){const i=3===t.tagType;return{type:10,loc:t.loc,condition:"else"===e.name?void 0:e.exp,children:i&&!Tt(t,"for")?t.children:[t],userKey:Mt(t,"key"),isTemplateIf:i}}function ci(t,e,i){return t.condition?rt(t.condition,ui(t,e,i),ot(i.helper(y),['""',"true"])):ui(t,e,i)}function ui(t,e,i){const{helper:n}=i,r=Q("key",tt(`${e}`,!1,Y,2)),{children:s}=t,l=s[0];if(1!==s.length||1!==l.type){if(1===s.length&&11===l.type){const t=l.codegenNode;return jt(t,r,i),t}{let e=64;o.PatchFlagNames[64];return Z(i,n(a),J([r]),s,e+"",void 0,void 0,!0,!1,!1,t.loc)}}{const t=l.codegenNode,e=Ht(t);return 13===e.type&&$t(e,i),jt(e,r,i),t}}const hi=ke("for",((t,e,i)=>{const{helper:o,removeHelper:n}=i;return di(t,e,i,(e=>{const r=ot(o(O),[e.source]),s=It(t),l=Tt(t,"memo"),c=Mt(t,"key"),u=c&&(6===c.type?tt(c.value.content,!0):c.exp),h=c?Q("key",u):null,p=4===e.source.type&&e.source.constType>0,f=p?64:c?128:256;return e.codegenNode=Z(i,o(a),void 0,r,f+"",void 0,void 0,!0,!p,!1,t.loc),()=>{let c;const{children:f}=e;const g=1!==f.length||1!==f[0].type,m=Nt(t)?t:s&&1===t.children.length&&Nt(t.children[0])?t.children[0]:null;if(m?(c=m.codegenNode,s&&h&&jt(c,h,i)):g?c=Z(i,o(a),h?J([h]):void 0,t.children,"64",void 0,void 0,!0,void 0,!1):(c=f[0].codegenNode,s&&h&&jt(c,h,i),c.isBlock!==!p&&(c.isBlock?(n(d),n(Ft(i.inSSR,c.isComponent))):n(kt(i.inSSR,c.isComponent))),c.isBlock=!p,c.isBlock?(o(d),o(Ft(i.inSSR,c.isComponent))):o(kt(i.inSSR,c.isComponent))),l){const t=nt(vi(e.parseResult,[tt("_cached")]));t.body=at([it(["const _memo = (",l.exp,")"]),it(["if (_cached",...u?[" && _cached.key === ",u]:[],` && ${i.helperString($)}(_cached, _memo)) return _cached`]),it(["const _item = ",c]),tt("_item.memo = _memo"),tt("return _item")]),r.arguments.push(t,tt("_cache"),tt(String(i.cached++)))}else r.arguments.push(nt(vi(e.parseResult),c,!0))}}))}));function di(t,e,i,o){if(!e.exp)return void i.onError(s(31,e.loc));const n=mi(e.exp,i);if(!n)return void i.onError(s(32,e.loc));const{addIdentifiers:r,removeIdentifiers:a,scopes:l}=i,{source:c,value:u,key:h,index:d}=n,p={type:11,loc:e.loc,source:c,valueAlias:u,keyAlias:h,objectIndexAlias:d,parseResult:n,children:It(t)?t.children:[t]};i.replaceNode(p),l.vFor++;const f=o&&o(p);return()=>{l.vFor--,f&&f()}}const pi=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,fi=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,gi=/^\(|\)$/g;function mi(t,e){const i=t.loc,o=t.content,n=o.match(pi);if(!n)return;const[,r,s]=n,a={source:yi(i,s.trim(),o.indexOf(s,r.length)),value:void 0,key:void 0,index:void 0};let l=r.trim().replace(gi,"").trim();const c=r.indexOf(l),u=l.match(fi);if(u){l=l.replace(fi,"").trim();const t=u[1].trim();let e;if(t&&(e=o.indexOf(t,c+l.length),a.key=yi(i,t,e)),u[2]){const n=u[2].trim();n&&(a.index=yi(i,n,o.indexOf(n,a.key?e+t.length:c+l.length)))}}return l&&(a.value=yi(i,l,c)),a}function yi(t,e,i){return tt(e,!1,wt(t,i,e.length))}function vi({value:t,key:e,index:i},o=[]){return function(t){let e=t.length;for(;e--&&!t[e];);return t.slice(0,e+1).map(((t,e)=>t||tt("_".repeat(e+1),!1)))}([t,e,i,...o])}const _i=tt("undefined",!1),Ci=(t,e)=>{if(1===t.type&&(1===t.tagType||3===t.tagType)){const i=Tt(t,"slot");if(i)return i.exp,e.scopes.vSlot++,()=>{e.scopes.vSlot--}}},bi=(t,e)=>{let i;if(It(t)&&t.props.some(Lt)&&(i=Tt(t,"for"))){const t=i.parseResult=mi(i.exp);if(t){const{value:i,key:o,index:n}=t,{addIdentifiers:r,removeIdentifiers:s}=e;return i&&r(i),o&&r(o),n&&r(n),()=>{i&&s(i),o&&s(o),n&&s(n)}}}},Ei=(t,e,i)=>nt(t,e,!1,!0,e.length?e[0].loc:i);function Si(t,e,i=Ei){e.helper(V);const{children:o,loc:n}=t,r=[],a=[];let l=e.scopes.vSlot>0||e.scopes.vFor>0;const c=Tt(t,"slot",!0);if(c){const{arg:t,exp:e}=c;t&&!pt(t)&&(l=!0),r.push(Q(t||tt("default",!0),i(e,o,n)))}let u=!1,h=!1;const d=[],p=new Set;let f=0;for(let t=0;t<o.length;t++){const n=o[t];let g;if(!It(n)||!(g=Tt(n,"slot",!0))){3!==n.type&&d.push(n);continue}if(c){e.onError(s(37,g.loc));break}u=!0;const{children:m,loc:y}=n,{arg:v=tt("default",!0),exp:_,loc:C}=g;let b;pt(v)?b=v?v.content:"default":l=!0;const E=i(_,m,y);let S,w,x;if(S=Tt(n,"if"))l=!0,a.push(rt(S.exp,wi(v,E,f++),_i));else if(w=Tt(n,/^else(-if)?$/,!0)){let i,n=t;for(;n--&&(i=o[n],3===i.type););if(i&&It(i)&&Tt(i,"if")){o.splice(t,1),t--;let e=a[a.length-1];for(;19===e.alternate.type;)e=e.alternate;e.alternate=w.exp?rt(w.exp,wi(v,E,f++),_i):wi(v,E,f++)}else e.onError(s(30,w.loc))}else if(x=Tt(n,"for")){l=!0;const t=x.parseResult||mi(x.exp);t?a.push(ot(e.helper(O),[t.source,nt(vi(t),wi(v,E),!0)])):e.onError(s(32,x.loc))}else{if(b){if(p.has(b)){e.onError(s(38,C));continue}p.add(b),"default"===b&&(h=!0)}r.push(Q(v,E))}}if(!c){const t=(t,o)=>{const r=i(t,o,n);return e.compatConfig&&(r.isNonScopedSlot=!0),Q("default",r)};u?d.length&&d.some((t=>xi(t)))&&(h?e.onError(s(39,d[0].loc)):r.push(t(void 0,d))):r.push(t(void 0,o))}const g=l?2:Oi(t.children)?3:1;let m=J(r.concat(Q("_",tt(g+"",!1))),n);return a.length&&(m=ot(e.helper(P),[m,q(a)])),{slots:m,hasDynamicSlots:l}}function wi(t,e,i){const o=[Q("name",t),Q("fn",e)];return null!=i&&o.push(Q("key",tt(String(i),!0))),J(o)}function Oi(t){for(let e=0;e<t.length;e++){const i=t[e];switch(i.type){case 1:if(2===i.tagType||Oi(i.children))return!0;break;case 9:if(Oi(i.branches))return!0;break;case 10:case 11:if(Oi(i.children))return!0}}return!1}function xi(t){return 2!==t.type&&12!==t.type||(2===t.type?!!t.content.trim():xi(t.content))}const Pi=new WeakMap,Ti=(t,e)=>function(){if(1!==(t=e.currentNode).type||0!==t.tagType&&1!==t.tagType)return;const{tag:i,props:n}=t,r=1===t.tagType;let s=r?Mi(t,e):`"${i}"`;const a=(0,o.isObject)(s)&&s.callee===b;let h,d,p,f,g,m,y=0,v=a||s===l||s===c||!r&&("svg"===i||"foreignObject"===i);if(n.length>0){const i=Di(t,e,void 0,r,a);h=i.props,y=i.patchFlag,g=i.dynamicPropNames;const o=i.directives;m=o&&o.length?q(o.map((t=>Li(t,e)))):void 0,i.shouldUseBlock&&(v=!0)}if(t.children.length>0){s===u&&(v=!0,y|=1024);if(r&&s!==l&&s!==u){const{slots:i,hasDynamicSlots:o}=Si(t,e);d=i,o&&(y|=1024)}else if(1===t.children.length&&s!==l){const i=t.children[0],o=i.type,n=5===o||8===o;n&&0===Pe(i,e)&&(y|=1),d=n||2===o?i:t.children}else d=t.children}0!==y&&(p=String(y),g&&g.length&&(f=function(t){let e="[";for(let i=0,o=t.length;i<o;i++)e+=JSON.stringify(t[i]),i<o-1&&(e+=", ");return e+"]"}(g))),t.codegenNode=Z(e,s,h,d,p,f,m,!!v,!1,r,t.loc)};function Mi(t,e,i=!1){let{tag:o}=t;const n=Ii(o),r=Mt(t,"is");if(r)if(n||Yt("COMPILER_IS_ON_ELEMENT",e)){const t=6===r.type?r.value&&tt(r.value.content,!0):r.exp;if(t)return ot(e.helper(b),[t])}else 6===r.type&&r.value.content.startsWith("vue:")&&(o=r.value.content.slice(4));const s=!n&&Tt(t,"is");if(s&&s.exp)return ot(e.helper(b),[s.exp]);const a=gt(o)||e.isBuiltInComponent(o);return a?(i||e.helper(a),a):(e.helper(C),e.components.add(o),Ut(o,"component"))}function Di(t,e,i=t.props,n,r,a=!1){const{tag:l,loc:c,children:u}=t;let h=[];const d=[],p=[],f=u.length>0;let g=!1,m=0,y=!1,v=!1,_=!1,C=!1,b=!1,E=!1;const S=[],w=t=>{h.length&&(d.push(J(Ai(h),c)),h=[]),t&&d.push(t)},O=({key:t,value:i})=>{if(pt(t)){const s=t.content,a=(0,o.isOn)(s);if(!a||n&&!r||"onclick"===s.toLowerCase()||"onUpdate:modelValue"===s||(0,o.isReservedProp)(s)||(C=!0),a&&(0,o.isReservedProp)(s)&&(E=!0),20===i.type||(4===i.type||8===i.type)&&Pe(i,e)>0)return;"ref"===s?y=!0:"class"===s?v=!0:"style"===s?_=!0:"key"===s||S.includes(s)||S.push(s),!n||"class"!==s&&"style"!==s||S.includes(s)||S.push(s)}else b=!0};for(let r=0;r<i.length;r++){const u=i[r];if(6===u.type){const{loc:t,name:i,value:o}=u;let n=!0;if("ref"===i&&(y=!0,e.scopes.vFor>0&&h.push(Q(tt("ref_for",!0),tt("true")))),"is"===i&&(Ii(l)||o&&o.content.startsWith("vue:")||Yt("COMPILER_IS_ON_ELEMENT",e)))continue;h.push(Q(tt(i,!0,wt(t,0,i.length)),tt(o?o.content:"",n,o?o.loc:t)))}else{const{name:i,arg:r,exp:m,loc:y}=u,v="bind"===i,_="on"===i;if("slot"===i){n||e.onError(s(40,y));continue}if("once"===i||"memo"===i)continue;if("is"===i||v&&Dt(r,"is")&&(Ii(l)||Yt("COMPILER_IS_ON_ELEMENT",e)))continue;if(_&&a)continue;if((v&&Dt(r,"key")||_&&f&&Dt(r,"vue:before-update"))&&(g=!0),v&&Dt(r,"ref")&&e.scopes.vFor>0&&h.push(Q(tt("ref_for",!0),tt("true"))),!r&&(v||_)){if(b=!0,m)if(v){if(w(),Yt("COMPILER_V_BIND_OBJECT_ORDER",e)){d.unshift(m);continue}d.push(m)}else w({type:14,loc:y,callee:e.helper(I),arguments:n?[m]:[m,"true"]});else e.onError(s(v?34:35,y));continue}const C=e.directiveTransforms[i];if(C){const{props:i,needRuntime:n}=C(u,t,e);!a&&i.forEach(O),_&&r&&!pt(r)?w(J(i,c)):h.push(...i),n&&(p.push(u),(0,o.isSymbol)(n)&&Pi.set(u,n))}else(0,o.isBuiltInDirective)(i)||(p.push(u),f&&(g=!0))}}let x;if(d.length?(w(),x=d.length>1?ot(e.helper(M),d,c):d[0]):h.length&&(x=J(Ai(h),c)),b?m|=16:(v&&!n&&(m|=2),_&&!n&&(m|=4),S.length&&(m|=8),C&&(m|=32)),g||0!==m&&32!==m||!(y||E||p.length>0)||(m|=512),!e.inSSR&&x)switch(x.type){case 15:let t=-1,i=-1,o=!1;for(let e=0;e<x.properties.length;e++){const n=x.properties[e].key;pt(n)?"class"===n.content?t=e:"style"===n.content&&(i=e):n.isHandlerKey||(o=!0)}const n=x.properties[t],r=x.properties[i];o?x=ot(e.helper(R),[x]):(n&&!pt(n.value)&&(n.value=ot(e.helper(D),[n.value])),r&&(_||4===r.value.type&&"["===r.value.content.trim()[0]||17===r.value.type)&&(r.value=ot(e.helper(A),[r.value])));break;case 14:break;default:x=ot(e.helper(R),[ot(e.helper(L),[x])])}return{props:x,directives:p,patchFlag:m,dynamicPropNames:S,shouldUseBlock:g}}function Ai(t){const e=new Map,i=[];for(let n=0;n<t.length;n++){const r=t[n];if(8===r.key.type||!r.key.isStatic){i.push(r);continue}const s=r.key.content,a=e.get(s);a?("style"===s||"class"===s||(0,o.isOn)(s))&&Ri(a,r):(e.set(s,r),i.push(r))}return i}function Ri(t,e){17===t.value.type?t.value.elements.push(e.value):t.value=q([t.value,e.value],t.loc)}function Li(t,e){const i=[],o=Pi.get(t);o?i.push(e.helperString(o)):(e.helper(E),e.directives.add(t.name),i.push(Ut(t.name,"directive")));const{loc:n}=t;if(t.exp&&i.push(t.exp),t.arg&&(t.exp||i.push("void 0"),i.push(t.arg)),Object.keys(t.modifiers).length){t.arg||(t.exp||i.push("void 0"),i.push("void 0"));const e=tt("true",!1,n);i.push(J(t.modifiers.map((t=>Q(t,e))),n))}return q(i,t.loc)}function Ii(t){return"component"===t||"Component"===t}const Ni=/-(\w)/g,ki=(t=>{const e=Object.create(null);return i=>e[i]||(e[i]=t(i))})((t=>t.replace(Ni,((t,e)=>e?e.toUpperCase():"")))),Fi=(t,e)=>{if(Nt(t)){const{children:i,loc:o}=t,{slotName:n,slotProps:r}=Bi(t,e),s=[e.prefixIdentifiers?"_ctx.$slots":"$slots",n,"{}","undefined","true"];let a=2;r&&(s[2]=r,a=3),i.length&&(s[3]=nt([],i,!1,!1,o),a=4),e.scopeId&&!e.slotted&&(a=5),s.splice(a),t.codegenNode=ot(e.helper(x),s,o)}};function Bi(t,e){let i,o='"default"';const n=[];for(let e=0;e<t.props.length;e++){const i=t.props[e];6===i.type?i.value&&("name"===i.name?o=JSON.stringify(i.value.content):(i.name=ki(i.name),n.push(i))):"bind"===i.name&&Dt(i.arg,"name")?i.exp&&(o=i.exp):("bind"===i.name&&i.arg&&pt(i.arg)&&(i.arg.content=ki(i.arg.content)),n.push(i))}if(n.length>0){const{props:o,directives:r}=Di(t,e,n,!1,!1);i=o,r.length&&e.onError(s(36,r[0].loc))}return{slotName:o,slotProps:i}}const Gi=/^\s*([\w$_]+|(async\s*)?\([^)]*?\))\s*(:[^=]+)?=>|^\s*(async\s+)?function(?:\s+[\w$]+)?\s*\(/,ji=(t,e,i,n)=>{const{loc:r,modifiers:a,arg:l}=t;let c;if(t.exp||a.length||i.onError(s(35,r)),4===l.type)if(l.isStatic){let t=l.content;t.startsWith("vue:")&&(t=`vnode-${t.slice(4)}`);c=tt(0!==e.tagType||t.startsWith("vnode")||!/[A-Z]/.test(t)?(0,o.toHandlerKey)((0,o.camelize)(t)):`on:${t}`,!0,l.loc)}else c=it([`${i.helperString(F)}(`,l,")"]);else c=l,c.children.unshift(`${i.helperString(F)}(`),c.children.push(")");let u=t.exp;u&&!u.content.trim()&&(u=void 0);let h=i.cacheHandlers&&!u&&!i.inVOnce;if(u){const t=St(u.content),e=!(t||Gi.test(u.content)),i=u.content.includes(";");0,(e||h&&t)&&(u=it([`${e?"$event":"(...args)"} => ${i?"{":"("}`,u,i?"}":")"]))}let d={props:[Q(c,u||tt("() => {}",!1,r))]};return n&&(d=n(d)),h&&(d.props[0].value=i.cache(d.props[0].value)),d.props.forEach((t=>t.key.isHandlerKey=!0)),d},Vi=(t,e,i)=>{const{exp:n,modifiers:r,loc:a}=t,l=t.arg;return 4!==l.type?(l.children.unshift("("),l.children.push(') || ""')):l.isStatic||(l.content=`${l.content} || ""`),r.includes("camel")&&(4===l.type?l.isStatic?l.content=(0,o.camelize)(l.content):l.content=`${i.helperString(N)}(${l.content})`:(l.children.unshift(`${i.helperString(N)}(`),l.children.push(")"))),i.inSSR||(r.includes("prop")&&Ui(l,"."),r.includes("attr")&&Ui(l,"^")),!n||4===n.type&&!n.content.trim()?(i.onError(s(34,a)),{props:[Q(l,tt("",!0,a))]}):{props:[Q(l,n)]}},Ui=(t,e)=>{4===t.type?t.isStatic?t.content=e+t.content:t.content=`\`${e}\${${t.content}}\``:(t.children.unshift(`'${e}' + (`),t.children.push(")"))},Wi=(t,e)=>{if(0===t.type||1===t.type||11===t.type||10===t.type)return()=>{const i=t.children;let o,n=!1;for(let t=0;t<i.length;t++){const e=i[t];if(Rt(e)){n=!0;for(let n=t+1;n<i.length;n++){const r=i[n];if(!Rt(r)){o=void 0;break}o||(o=i[t]=it([e],e.loc)),o.children.push(" + ",r),i.splice(n,1),n--}}}if(n&&(1!==i.length||0!==t.type&&(1!==t.type||0!==t.tagType||t.props.find((t=>7===t.type&&!e.directiveTransforms[t.name]))||"template"===t.tag)))for(let t=0;t<i.length;t++){const o=i[t];if(Rt(o)||8===o.type){const n=[];2===o.type&&" "===o.content||n.push(o),e.ssr||0!==Pe(o,e)||n.push("1"),i[t]={type:12,content:o,loc:o.loc,codegenNode:ot(e.helper(v),n)}}}}},Hi=new WeakSet,$i=(t,e)=>{if(1===t.type&&Tt(t,"once",!0)){if(Hi.has(t)||e.inVOnce)return;return Hi.add(t),e.inVOnce=!0,e.helper(B),()=>{e.inVOnce=!1;const t=e.currentNode;t.codegenNode&&(t.codegenNode=e.cache(t.codegenNode,!0))}}},zi=(t,e,i)=>{const{exp:n,arg:r}=t;if(!n)return i.onError(s(41,t.loc)),Ki();const a=n.loc.source,l=4===n.type?n.content:a,c=i.bindingMetadata[a];if("props"===c||"props-aliased"===c)return i.onError(s(44,n.loc)),Ki();if(!l.trim()||!St(l))return i.onError(s(42,n.loc)),Ki();const u=r||tt("modelValue",!0),h=r?pt(r)?`onUpdate:${(0,o.camelize)(r.content)}`:it(['"onUpdate:" + ',r]):"onUpdate:modelValue";let d;d=it([`${i.isTS?"($event: any)":"$event"} => ((`,n,") = $event)"]);const p=[Q(u,t.exp),Q(h,d)];if(t.modifiers.length&&1===e.tagType){const e=t.modifiers.map((t=>(yt(t)?t:JSON.stringify(t))+": true")).join(", "),i=r?pt(r)?`${r.content}Modifiers`:it([r,' + "Modifiers"']):"modelModifiers";p.push(Q(i,tt(`{ ${e} }`,!1,t.loc,2)))}return Ki(p)};function Ki(t=[]){return{props:t}}const Yi=/[\w).+\-_$\]]/,Xi=(t,e)=>{Yt("COMPILER_FILTER",e)&&(5===t.type&&Zi(t.content,e),1===t.type&&t.props.forEach((t=>{7===t.type&&"for"!==t.name&&t.exp&&Zi(t.exp,e)})))};function Zi(t,e){if(4===t.type)qi(t,e);else for(let i=0;i<t.children.length;i++){const o=t.children[i];"object"==typeof o&&(4===o.type?qi(o,e):8===o.type?Zi(t,e):5===o.type&&Zi(o.content,e))}}function qi(t,e){const i=t.content;let o,n,r,s,a=!1,l=!1,c=!1,u=!1,h=0,d=0,p=0,f=0,g=[];for(r=0;r<i.length;r++)if(n=o,o=i.charCodeAt(r),a)39===o&&92!==n&&(a=!1);else if(l)34===o&&92!==n&&(l=!1);else if(c)96===o&&92!==n&&(c=!1);else if(u)47===o&&92!==n&&(u=!1);else if(124!==o||124===i.charCodeAt(r+1)||124===i.charCodeAt(r-1)||h||d||p){switch(o){case 34:l=!0;break;case 39:a=!0;break;case 96:c=!0;break;case 40:p++;break;case 41:p--;break;case 91:d++;break;case 93:d--;break;case 123:h++;break;case 125:h--}if(47===o){let t,e=r-1;for(;e>=0&&(t=i.charAt(e)," "===t);e--);t&&Yi.test(t)||(u=!0)}}else void 0===s?(f=r+1,s=i.slice(0,r).trim()):m();function m(){g.push(i.slice(f,r).trim()),f=r+1}if(void 0===s?s=i.slice(0,r).trim():0!==f&&m(),g.length){for(r=0;r<g.length;r++)s=Ji(s,g[r],e);t.content=s}}function Ji(t,e,i){i.helper(S);const o=e.indexOf("(");if(o<0)return i.filters.add(e),`${Ut(e,"filter")}(${t})`;{const n=e.slice(0,o),r=e.slice(o+1);return i.filters.add(n),`${Ut(n,"filter")}(${t}${")"!==r?","+r:r}`}}const Qi=new WeakSet,to=(t,e)=>{if(1===t.type){const i=Tt(t,"memo");if(!i||Qi.has(t))return;return Qi.add(t),()=>{const o=t.codegenNode||e.currentNode.codegenNode;o&&13===o.type&&(1!==t.tagType&&$t(o,e),t.codegenNode=ot(e.helper(H),[i.exp,nt(void 0,o),"_cache",String(e.cached++)]))}}};function eo(t){return[[$i,si,to,hi,Xi,Fi,Ti,Ci,Wi],{on:ji,bind:Vi,model:zi}]}function io(t,e={}){const i=e.onError||n,r="module"===e.mode;!0===e.prefixIdentifiers?i(s(47)):r&&i(s(48));e.cacheHandlers&&i(s(49)),e.scopeId&&!r&&i(s(50));const a=(0,o.isString)(t)?te(t,e):t,[l,c]=eo();return Ie(a,(0,o.extend)({},e,{prefixIdentifiers:false,nodeTransforms:[...l,...e.nodeTransforms||[]],directiveTransforms:(0,o.extend)({},c,e.directiveTransforms||{})})),je(a,(0,o.extend)({},e,{prefixIdentifiers:false}))}const oo=()=>({props:[]}),no=Symbol(""),ro=Symbol(""),so=Symbol(""),ao=Symbol(""),lo=Symbol(""),co=Symbol(""),uo=Symbol(""),ho=Symbol(""),po=Symbol(""),fo=Symbol("");let go;K({[no]:"vModelRadio",[ro]:"vModelCheckbox",[so]:"vModelText",[ao]:"vModelSelect",[lo]:"vModelDynamic",[co]:"withModifiers",[uo]:"withKeys",[ho]:"vShow",[po]:"Transition",[fo]:"TransitionGroup"});const mo=(0,o.makeMap)("style,iframe,script,noscript",!0),yo={isVoidTag:o.isVoidTag,isNativeTag:t=>(0,o.isHTMLTag)(t)||(0,o.isSVGTag)(t),isPreTag:t=>"pre"===t,decodeEntities:function(t,e=!1){return go||(go=document.createElement("div")),e?(go.innerHTML=`<div foo="${t.replace(/"/g,"&quot;")}">`,go.children[0].getAttribute("foo")):(go.innerHTML=t,go.textContent)},isBuiltInComponent:t=>ft(t,"Transition")?po:ft(t,"TransitionGroup")?fo:void 0,getNamespace(t,e){let i=e?e.ns:0;if(e&&2===i)if("annotation-xml"===e.tag){if("svg"===t)return 1;e.props.some((t=>6===t.type&&"encoding"===t.name&&null!=t.value&&("text/html"===t.value.content||"application/xhtml+xml"===t.value.content)))&&(i=0)}else/^m(?:[ions]|text)$/.test(e.tag)&&"mglyph"!==t&&"malignmark"!==t&&(i=0);else e&&1===i&&("foreignObject"!==e.tag&&"desc"!==e.tag&&"title"!==e.tag||(i=0));if(0===i){if("svg"===t)return 1;if("math"===t)return 2}return i},getTextMode({tag:t,ns:e}){if(0===e){if("textarea"===t||"title"===t)return 1;if(mo(t))return 2}return 0}},vo=t=>{1===t.type&&t.props.forEach(((e,i)=>{6===e.type&&"style"===e.name&&e.value&&(t.props[i]={type:7,name:"bind",arg:tt("style",!0,e.loc),exp:_o(e.value.content,e.loc),modifiers:[],loc:e.loc})}))},_o=(t,e)=>{const i=(0,o.parseStringStyle)(t);return tt(JSON.stringify(i),!1,e,3)};function Co(t,e){return s(t,e)}const bo=(0,o.makeMap)("passive,once,capture"),Eo=(0,o.makeMap)("stop,prevent,self,ctrl,shift,alt,meta,exact,middle"),So=(0,o.makeMap)("left,right"),wo=(0,o.makeMap)("onkeyup,onkeydown,onkeypress",!0),Oo=(t,e)=>pt(t)&&"onclick"===t.content.toLowerCase()?tt(e,!0):4!==t.type?it(["(",t,`) === "onClick" ? "${e}" : (`,t,")"]):t;const xo=(t,e)=>{1!==t.type||0!==t.tagType||"script"!==t.tag&&"style"!==t.tag||(e.onError(Co(61,t.loc)),e.removeNode())},Po=[vo],To={cloak:oo,html:(t,e,i)=>{const{exp:o,loc:n}=t;return o||i.onError(Co(51,n)),e.children.length&&(i.onError(Co(52,n)),e.children.length=0),{props:[Q(tt("innerHTML",!0,n),o||tt("",!0))]}},text:(t,e,i)=>{const{exp:o,loc:n}=t;return o||i.onError(Co(53,n)),e.children.length&&(i.onError(Co(54,n)),e.children.length=0),{props:[Q(tt("textContent",!0),o?Pe(o,i)>0?o:ot(i.helperString(T),[o],n):tt("",!0))]}},model:(t,e,i)=>{const o=zi(t,e,i);if(!o.props.length||1===e.tagType)return o;t.arg&&i.onError(Co(56,t.arg.loc));const{tag:n}=e,r=i.isCustomElement(n);if("input"===n||"textarea"===n||"select"===n||r){let s=so,a=!1;if("input"===n||r){const o=Mt(e,"type");if(o){if(7===o.type)s=lo;else if(o.value)switch(o.value.content){case"radio":s=no;break;case"checkbox":s=ro;break;case"file":a=!0,i.onError(Co(57,t.loc))}}else At(e)&&(s=lo)}else"select"===n&&(s=ao);a||(o.needRuntime=i.helper(s))}else i.onError(Co(55,t.loc));return o.props=o.props.filter((t=>!(4===t.key.type&&"modelValue"===t.key.content))),o},on:(t,e,i)=>ji(t,e,i,(e=>{const{modifiers:n}=t;if(!n.length)return e;let{key:r,value:s}=e.props[0];const{keyModifiers:a,nonKeyModifiers:l,eventOptionModifiers:c}=((t,e,i,o)=>{const n=[],r=[],s=[];for(let o=0;o<e.length;o++){const a=e[o];"native"===a&&Xt("COMPILER_V_ON_NATIVE",i)||bo(a)?s.push(a):So(a)?pt(t)?wo(t.content)?n.push(a):r.push(a):(n.push(a),r.push(a)):Eo(a)?r.push(a):n.push(a)}return{keyModifiers:n,nonKeyModifiers:r,eventOptionModifiers:s}})(r,n,i,t.loc);if(l.includes("right")&&(r=Oo(r,"onContextmenu")),l.includes("middle")&&(r=Oo(r,"onMouseup")),l.length&&(s=ot(i.helper(co),[s,JSON.stringify(l)])),!a.length||pt(r)&&!wo(r.content)||(s=ot(i.helper(uo),[s,JSON.stringify(a)])),c.length){const t=c.map(o.capitalize).join("");r=pt(r)?tt(`${r.content}${t}`,!0):it(["(",r,`) + "${t}"`])}return{props:[Q(r,s)]}})),show:(t,e,i)=>{const{exp:o,loc:n}=t;return o||i.onError(Co(59,n)),{props:[],needRuntime:i.helper(ho)}}};function Mo(t,e={}){return io(t,(0,o.extend)({},yo,e,{nodeTransforms:[xo,...Po,...e.nodeTransforms||[]],directiveTransforms:(0,o.extend)({},To,e.directiveTransforms||{}),transformHoist:null}))}function Do(t,e={}){return te(t,(0,o.extend)({},yo,e))}},2262:(t,e,i)=>{"use strict";i.d(e,{$y:()=>Tt,B:()=>s,BK:()=>Yt,Bj:()=>r,EB:()=>c,Fl:()=>Qt,IU:()=>At,Jd:()=>x,OT:()=>wt,PG:()=>Pt,SU:()=>Wt,Um:()=>St,Vh:()=>Zt,WL:()=>$t,X$:()=>D,X3:()=>Dt,XI:()=>Gt,Xl:()=>Rt,YS:()=>Ot,ZM:()=>Kt,cE:()=>E,dq:()=>Ft,iH:()=>Bt,j:()=>T,lk:()=>P,nZ:()=>l,oR:()=>Ut,qj:()=>Et,qq:()=>C,sT:()=>S,yT:()=>Mt});var o=i(3577);let n;class r{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=n,!t&&n&&(this.index=(n.scopes||(n.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const e=n;try{return n=this,t()}finally{n=e}}else 0}on(){n=this}off(){n=this.parent}stop(t){if(this._active){let e,i;for(e=0,i=this.effects.length;e<i;e++)this.effects[e].stop();for(e=0,i=this.cleanups.length;e<i;e++)this.cleanups[e]();if(this.scopes)for(e=0,i=this.scopes.length;e<i;e++)this.scopes[e].stop(!0);if(!this.detached&&this.parent&&!t){const t=this.parent.scopes.pop();t&&t!==this&&(this.parent.scopes[this.index]=t,t.index=this.index)}this.parent=void 0,this._active=!1}}}function s(t){return new r(t)}function a(t,e=n){e&&e.active&&e.effects.push(t)}function l(){return n}function c(t){n&&n.cleanups.push(t)}const u=t=>{const e=new Set(t);return e.w=0,e.n=0,e},h=t=>(t.w&g)>0,d=t=>(t.n&g)>0,p=new WeakMap;let f=0,g=1;const m=30;let y;const v=Symbol(""),_=Symbol("");class C{constructor(t,e=null,i){this.fn=t,this.scheduler=e,this.active=!0,this.deps=[],this.parent=void 0,a(this,i)}run(){if(!this.active)return this.fn();let t=y,e=w;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=y,y=this,w=!0,g=1<<++f,f<=m?(({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=g})(this):b(this),this.fn()}finally{f<=m&&(t=>{const{deps:e}=t;if(e.length){let i=0;for(let o=0;o<e.length;o++){const n=e[o];h(n)&&!d(n)?n.delete(t):e[i++]=n,n.w&=~g,n.n&=~g}e.length=i}})(this),g=1<<--f,y=this.parent,w=e,this.parent=void 0,this.deferStop&&this.stop()}}stop(){y===this?this.deferStop=!0:this.active&&(b(this),this.onStop&&this.onStop(),this.active=!1)}}function b(t){const{deps:e}=t;if(e.length){for(let i=0;i<e.length;i++)e[i].delete(t);e.length=0}}function E(t,e){t.effect&&(t=t.effect.fn);const i=new C(t);e&&((0,o.extend)(i,e),e.scope&&a(i,e.scope)),e&&e.lazy||i.run();const n=i.run.bind(i);return n.effect=i,n}function S(t){t.effect.stop()}let w=!0;const O=[];function x(){O.push(w),w=!1}function P(){const t=O.pop();w=void 0===t||t}function T(t,e,i){if(w&&y){let e=p.get(t);e||p.set(t,e=new Map);let o=e.get(i);o||e.set(i,o=u());M(o,void 0)}}function M(t,e){let i=!1;f<=m?d(t)||(t.n|=g,i=!h(t)):i=!t.has(y),i&&(t.add(y),y.deps.push(t))}function D(t,e,i,n,r,s){const a=p.get(t);if(!a)return;let l=[];if("clear"===e)l=[...a.values()];else if("length"===i&&(0,o.isArray)(t)){const t=Number(n);a.forEach(((e,i)=>{("length"===i||i>=t)&&l.push(e)}))}else switch(void 0!==i&&l.push(a.get(i)),e){case"add":(0,o.isArray)(t)?(0,o.isIntegerKey)(i)&&l.push(a.get("length")):(l.push(a.get(v)),(0,o.isMap)(t)&&l.push(a.get(_)));break;case"delete":(0,o.isArray)(t)||(l.push(a.get(v)),(0,o.isMap)(t)&&l.push(a.get(_)));break;case"set":(0,o.isMap)(t)&&l.push(a.get(v))}if(1===l.length)l[0]&&A(l[0]);else{const t=[];for(const e of l)e&&t.push(...e);A(u(t))}}function A(t,e){const i=(0,o.isArray)(t)?t:[...t];for(const t of i)t.computed&&R(t,e);for(const t of i)t.computed||R(t,e)}function R(t,e){(t!==y||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}const L=(0,o.makeMap)("__proto__,__v_isRef,__isVue"),I=new Set(Object.getOwnPropertyNames(Symbol).filter((t=>"arguments"!==t&&"caller"!==t)).map((t=>Symbol[t])).filter(o.isSymbol)),N=U(),k=U(!1,!0),F=U(!0),B=U(!0,!0),G=j();function j(){const t={};return["includes","indexOf","lastIndexOf"].forEach((e=>{t[e]=function(...t){const i=At(this);for(let t=0,e=this.length;t<e;t++)T(i,0,t+"");const o=i[e](...t);return-1===o||!1===o?i[e](...t.map(At)):o}})),["push","pop","shift","unshift","splice"].forEach((e=>{t[e]=function(...t){x();const i=At(this)[e].apply(this,t);return P(),i}})),t}function V(t){const e=At(this);return T(e,0,t),e.hasOwnProperty(t)}function U(t=!1,e=!1){return function(i,n,r){if("__v_isReactive"===n)return!t;if("__v_isReadonly"===n)return t;if("__v_isShallow"===n)return e;if("__v_raw"===n&&r===(t?e?bt:Ct:e?_t:vt).get(i))return i;const s=(0,o.isArray)(i);if(!t){if(s&&(0,o.hasOwn)(G,n))return Reflect.get(G,n,r);if("hasOwnProperty"===n)return V}const a=Reflect.get(i,n,r);return((0,o.isSymbol)(n)?I.has(n):L(n))?a:(t||T(i,0,n),e?a:Ft(a)?s&&(0,o.isIntegerKey)(n)?a:a.value:(0,o.isObject)(a)?t?wt(a):Et(a):a)}}const W=$(),H=$(!0);function $(t=!1){return function(e,i,n,r){let s=e[i];if(Tt(s)&&Ft(s)&&!Ft(n))return!1;if(!t&&(Mt(n)||Tt(n)||(s=At(s),n=At(n)),!(0,o.isArray)(e)&&Ft(s)&&!Ft(n)))return s.value=n,!0;const a=(0,o.isArray)(e)&&(0,o.isIntegerKey)(i)?Number(i)<e.length:(0,o.hasOwn)(e,i),l=Reflect.set(e,i,n,r);return e===At(r)&&(a?(0,o.hasChanged)(n,s)&&D(e,"set",i,n):D(e,"add",i,n)),l}}const z={get:N,set:W,deleteProperty:function(t,e){const i=(0,o.hasOwn)(t,e),n=(t[e],Reflect.deleteProperty(t,e));return n&&i&&D(t,"delete",e,void 0),n},has:function(t,e){const i=Reflect.has(t,e);return(0,o.isSymbol)(e)&&I.has(e)||T(t,0,e),i},ownKeys:function(t){return T(t,0,(0,o.isArray)(t)?"length":v),Reflect.ownKeys(t)}},K={get:F,set:(t,e)=>!0,deleteProperty:(t,e)=>!0},Y=(0,o.extend)({},z,{get:k,set:H}),X=(0,o.extend)({},K,{get:B}),Z=t=>t,q=t=>Reflect.getPrototypeOf(t);function J(t,e,i=!1,o=!1){const n=At(t=t.__v_raw),r=At(e);i||(e!==r&&T(n,0,e),T(n,0,r));const{has:s}=q(n),a=o?Z:i?It:Lt;return s.call(n,e)?a(t.get(e)):s.call(n,r)?a(t.get(r)):void(t!==n&&t.get(e))}function Q(t,e=!1){const i=this.__v_raw,o=At(i),n=At(t);return e||(t!==n&&T(o,0,t),T(o,0,n)),t===n?i.has(t):i.has(t)||i.has(n)}function tt(t,e=!1){return t=t.__v_raw,!e&&T(At(t),0,v),Reflect.get(t,"size",t)}function et(t){t=At(t);const e=At(this);return q(e).has.call(e,t)||(e.add(t),D(e,"add",t,t)),this}function it(t,e){e=At(e);const i=At(this),{has:n,get:r}=q(i);let s=n.call(i,t);s||(t=At(t),s=n.call(i,t));const a=r.call(i,t);return i.set(t,e),s?(0,o.hasChanged)(e,a)&&D(i,"set",t,e):D(i,"add",t,e),this}function ot(t){const e=At(this),{has:i,get:o}=q(e);let n=i.call(e,t);n||(t=At(t),n=i.call(e,t));o&&o.call(e,t);const r=e.delete(t);return n&&D(e,"delete",t,void 0),r}function nt(){const t=At(this),e=0!==t.size,i=t.clear();return e&&D(t,"clear",void 0,void 0),i}function rt(t,e){return function(i,o){const n=this,r=n.__v_raw,s=At(r),a=e?Z:t?It:Lt;return!t&&T(s,0,v),r.forEach(((t,e)=>i.call(o,a(t),a(e),n)))}}function st(t,e,i){return function(...n){const r=this.__v_raw,s=At(r),a=(0,o.isMap)(s),l="entries"===t||t===Symbol.iterator&&a,c="keys"===t&&a,u=r[t](...n),h=i?Z:e?It:Lt;return!e&&T(s,0,c?_:v),{next(){const{value:t,done:e}=u.next();return e?{value:t,done:e}:{value:l?[h(t[0]),h(t[1])]:h(t),done:e}},[Symbol.iterator](){return this}}}}function at(t){return function(...e){return"delete"!==t&&this}}function lt(){const t={get(t){return J(this,t)},get size(){return tt(this)},has:Q,add:et,set:it,delete:ot,clear:nt,forEach:rt(!1,!1)},e={get(t){return J(this,t,!1,!0)},get size(){return tt(this)},has:Q,add:et,set:it,delete:ot,clear:nt,forEach:rt(!1,!0)},i={get(t){return J(this,t,!0)},get size(){return tt(this,!0)},has(t){return Q.call(this,t,!0)},add:at("add"),set:at("set"),delete:at("delete"),clear:at("clear"),forEach:rt(!0,!1)},o={get(t){return J(this,t,!0,!0)},get size(){return tt(this,!0)},has(t){return Q.call(this,t,!0)},add:at("add"),set:at("set"),delete:at("delete"),clear:at("clear"),forEach:rt(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach((n=>{t[n]=st(n,!1,!1),i[n]=st(n,!0,!1),e[n]=st(n,!1,!0),o[n]=st(n,!0,!0)})),[t,i,e,o]}const[ct,ut,ht,dt]=lt();function pt(t,e){const i=e?t?dt:ht:t?ut:ct;return(e,n,r)=>"__v_isReactive"===n?!t:"__v_isReadonly"===n?t:"__v_raw"===n?e:Reflect.get((0,o.hasOwn)(i,n)&&n in e?i:e,n,r)}const ft={get:pt(!1,!1)},gt={get:pt(!1,!0)},mt={get:pt(!0,!1)},yt={get:pt(!0,!0)};const vt=new WeakMap,_t=new WeakMap,Ct=new WeakMap,bt=new WeakMap;function Et(t){return Tt(t)?t:xt(t,!1,z,ft,vt)}function St(t){return xt(t,!1,Y,gt,_t)}function wt(t){return xt(t,!0,K,mt,Ct)}function Ot(t){return xt(t,!0,X,yt,bt)}function xt(t,e,i,n,r){if(!(0,o.isObject)(t))return t;if(t.__v_raw&&(!e||!t.__v_isReactive))return t;const s=r.get(t);if(s)return s;const a=(l=t).__v_skip||!Object.isExtensible(l)?0:function(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}((0,o.toRawType)(l));var l;if(0===a)return t;const c=new Proxy(t,2===a?n:i);return r.set(t,c),c}function Pt(t){return Tt(t)?Pt(t.__v_raw):!(!t||!t.__v_isReactive)}function Tt(t){return!(!t||!t.__v_isReadonly)}function Mt(t){return!(!t||!t.__v_isShallow)}function Dt(t){return Pt(t)||Tt(t)}function At(t){const e=t&&t.__v_raw;return e?At(e):t}function Rt(t){return(0,o.def)(t,"__v_skip",!0),t}const Lt=t=>(0,o.isObject)(t)?Et(t):t,It=t=>(0,o.isObject)(t)?wt(t):t;function Nt(t){w&&y&&M((t=At(t)).dep||(t.dep=u()))}function kt(t,e){const i=(t=At(t)).dep;i&&A(i)}function Ft(t){return!(!t||!0!==t.__v_isRef)}function Bt(t){return jt(t,!1)}function Gt(t){return jt(t,!0)}function jt(t,e){return Ft(t)?t:new Vt(t,e)}class Vt{constructor(t,e){this.__v_isShallow=e,this.dep=void 0,this.__v_isRef=!0,this._rawValue=e?t:At(t),this._value=e?t:Lt(t)}get value(){return Nt(this),this._value}set value(t){const e=this.__v_isShallow||Mt(t)||Tt(t);t=e?t:At(t),(0,o.hasChanged)(t,this._rawValue)&&(this._rawValue=t,this._value=e?t:Lt(t),kt(this))}}function Ut(t){kt(t)}function Wt(t){return Ft(t)?t.value:t}const Ht={get:(t,e,i)=>Wt(Reflect.get(t,e,i)),set:(t,e,i,o)=>{const n=t[e];return Ft(n)&&!Ft(i)?(n.value=i,!0):Reflect.set(t,e,i,o)}};function $t(t){return Pt(t)?t:new Proxy(t,Ht)}class zt{constructor(t){this.dep=void 0,this.__v_isRef=!0;const{get:e,set:i}=t((()=>Nt(this)),(()=>kt(this)));this._get=e,this._set=i}get value(){return this._get()}set value(t){this._set(t)}}function Kt(t){return new zt(t)}function Yt(t){const e=(0,o.isArray)(t)?new Array(t.length):{};for(const i in t)e[i]=Zt(t,i);return e}class Xt{constructor(t,e,i){this._object=t,this._key=e,this._defaultValue=i,this.__v_isRef=!0}get value(){const t=this._object[this._key];return void 0===t?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return function(t,e){var i;return null===(i=p.get(t))||void 0===i?void 0:i.get(e)}(At(this._object),this._key)}}function Zt(t,e,i){const o=t[e];return Ft(o)?o:new Xt(t,e,i)}var qt;class Jt{constructor(t,e,i,o){this._setter=e,this.dep=void 0,this.__v_isRef=!0,this[qt]=!1,this._dirty=!0,this.effect=new C(t,(()=>{this._dirty||(this._dirty=!0,kt(this))})),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=i}get value(){const t=At(this);return Nt(t),!t._dirty&&t._cacheable||(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function Qt(t,e,i=!1){let n,r;const s=(0,o.isFunction)(t);s?(n=t,r=o.NOOP):(n=t.get,r=t.set);return new Jt(n,r,s||!r,i)}qt="__v_isReadonly"},6252:(t,e,i)=>{"use strict";i.d(e,{$d:()=>l,$y:()=>o.$y,Ah:()=>Vt,B:()=>o.B,BK:()=>o.BK,Bj:()=>o.Bj,Bz:()=>no,C3:()=>_i,C_:()=>n.normalizeClass,Cn:()=>G,EB:()=>o.EB,Eo:()=>Ke,F4:()=>xi,FN:()=>ji,Fl:()=>io,G:()=>bo,HX:()=>j,HY:()=>oi,Ho:()=>Pi,IU:()=>o.IU,JJ:()=>et,Jd:()=>jt,KU:()=>a,Ko:()=>ie,LL:()=>Jt,MW:()=>oo,MX:()=>vo,Mr:()=>yo,Nv:()=>oe,OT:()=>o.OT,Ob:()=>xt,P$:()=>ft,PG:()=>o.PG,Q2:()=>Qt,Q6:()=>Ct,RC:()=>St,Rh:()=>nt,Rr:()=>ao,S3:()=>c,SU:()=>o.SU,U2:()=>mt,Uc:()=>go,Uk:()=>Ti,Um:()=>o.Um,Us:()=>ze,Vh:()=>o.Vh,WI:()=>ne,WL:()=>o.WL,WY:()=>ro,Wm:()=>wi,Wu:()=>s,X3:()=>o.X3,XI:()=>o.XI,Xl:()=>o.Xl,Xn:()=>Bt,Y1:()=>Xi,Y3:()=>_,Y8:()=>dt,YP:()=>at,YS:()=>o.YS,Yq:()=>Wt,ZK:()=>r,ZM:()=>o.ZM,Zq:()=>mo,_:()=>Si,_A:()=>n.camelize,aZ:()=>bt,b9:()=>so,bT:()=>Ht,bv:()=>Ft,cE:()=>o.cE,d1:()=>$t,dD:()=>B,dG:()=>Ii,dl:()=>Tt,dq:()=>o.dq,ec:()=>A,eq:()=>Eo,f3:()=>it,h:()=>fo,hR:()=>n.toHandlerKey,i8:()=>Co,iD:()=>gi,iH:()=>o.iH,ic:()=>Gt,j4:()=>mi,j5:()=>n.normalizeStyle,kC:()=>n.capitalize,kq:()=>Di,l1:()=>lo,lA:()=>yi,lR:()=>ei,m0:()=>ot,mW:()=>T,mv:()=>po,mx:()=>se,n4:()=>X,nK:()=>_t,nQ:()=>_o,nZ:()=>o.nZ,oR:()=>o.oR,of:()=>Zi,p1:()=>ho,qG:()=>si,qZ:()=>pi,qb:()=>E,qj:()=>o.qj,qq:()=>o.qq,ry:()=>So,sT:()=>o.sT,se:()=>Mt,sv:()=>ri,uE:()=>Mi,u_:()=>uo,up:()=>Zt,vl:()=>Ut,vs:()=>n.normalizeProps,w5:()=>V,wF:()=>kt,wg:()=>ci,wy:()=>zt,xv:()=>ni,yT:()=>o.yT,yX:()=>rt,zw:()=>n.toDisplayString});var o=i(2262),n=i(3577);function r(t,...e){}function s(t,e){}function a(t,e,i,o){let n;try{n=o?t(...o):t()}catch(t){c(t,e,i)}return n}function l(t,e,i,o){if((0,n.isFunction)(t)){const r=a(t,e,i,o);return r&&(0,n.isPromise)(r)&&r.catch((t=>{c(t,e,i)})),r}const r=[];for(let n=0;n<t.length;n++)r.push(l(t[n],e,i,o));return r}function c(t,e,i,o=!0){e&&e.vnode;if(e){let o=e.parent;const n=e.proxy,r=i;for(;o;){const e=o.ec;if(e)for(let i=0;i<e.length;i++)if(!1===e[i](t,n,r))return;o=o.parent}const s=e.appContext.config.errorHandler;if(s)return void a(s,null,10,[t,n,r])}!function(t,e,i,o=!0){console.error(t)}(t,0,0,o)}let u=!1,h=!1;const d=[];let p=0;const f=[];let g=null,m=0;const y=Promise.resolve();let v=null;function _(t){const e=v||y;return t?e.then(this?t.bind(this):t):e}function C(t){d.length&&d.includes(t,u&&t.allowRecurse?p+1:p)||(null==t.id?d.push(t):d.splice(function(t){let e=p+1,i=d.length;for(;e<i;){const o=e+i>>>1;O(d[o])<t?e=o+1:i=o}return e}(t.id),0,t),b())}function b(){u||h||(h=!0,v=y.then(P))}function E(t){(0,n.isArray)(t)?f.push(...t):g&&g.includes(t,t.allowRecurse?m+1:m)||f.push(t),b()}function S(t,e=(u?p+1:0)){for(0;e<d.length;e++){const t=d[e];t&&t.pre&&(d.splice(e,1),e--,t())}}function w(t){if(f.length){const t=[...new Set(f)];if(f.length=0,g)return void g.push(...t);for(g=t,g.sort(((t,e)=>O(t)-O(e))),m=0;m<g.length;m++)g[m]();g=null,m=0}}const O=t=>null==t.id?1/0:t.id,x=(t,e)=>{const i=O(t)-O(e);if(0===i){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return i};function P(t){h=!1,u=!0,d.sort(x);n.NOOP;try{for(p=0;p<d.length;p++){const t=d[p];t&&!1!==t.active&&a(t,null,14)}}finally{p=0,d.length=0,w(),u=!1,v=null,(d.length||f.length)&&P(t)}}new Set;new Map;let T,M=[],D=!1;function A(t,e){var i,o;if(T=t,T)T.enabled=!0,M.forEach((({event:t,args:e})=>T.emit(t,...e))),M=[];else if("undefined"!=typeof window&&window.HTMLElement&&!(null===(o=null===(i=window.navigator)||void 0===i?void 0:i.userAgent)||void 0===o?void 0:o.includes("jsdom"))){(e.__VUE_DEVTOOLS_HOOK_REPLAY__=e.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push((t=>{A(t,e)})),setTimeout((()=>{T||(e.__VUE_DEVTOOLS_HOOK_REPLAY__=null,D=!0,M=[])}),3e3)}else D=!0,M=[]}function R(t,e,...i){if(t.isUnmounted)return;const o=t.vnode.props||n.EMPTY_OBJ;let r=i;const s=e.startsWith("update:"),a=s&&e.slice(7);if(a&&a in o){const t=`${"modelValue"===a?"model":a}Modifiers`,{number:e,trim:s}=o[t]||n.EMPTY_OBJ;s&&(r=i.map((t=>(0,n.isString)(t)?t.trim():t))),e&&(r=i.map(n.looseToNumber))}let c;let u=o[c=(0,n.toHandlerKey)(e)]||o[c=(0,n.toHandlerKey)((0,n.camelize)(e))];!u&&s&&(u=o[c=(0,n.toHandlerKey)((0,n.hyphenate)(e))]),u&&l(u,t,6,r);const h=o[c+"Once"];if(h){if(t.emitted){if(t.emitted[c])return}else t.emitted={};t.emitted[c]=!0,l(h,t,6,r)}}function L(t,e,i=!1){const o=e.emitsCache,r=o.get(t);if(void 0!==r)return r;const s=t.emits;let a={},l=!1;if(!(0,n.isFunction)(t)){const o=t=>{const i=L(t,e,!0);i&&(l=!0,(0,n.extend)(a,i))};!i&&e.mixins.length&&e.mixins.forEach(o),t.extends&&o(t.extends),t.mixins&&t.mixins.forEach(o)}return s||l?((0,n.isArray)(s)?s.forEach((t=>a[t]=null)):(0,n.extend)(a,s),(0,n.isObject)(t)&&o.set(t,a),a):((0,n.isObject)(t)&&o.set(t,null),null)}function I(t,e){return!(!t||!(0,n.isOn)(e))&&(e=e.slice(2).replace(/Once$/,""),(0,n.hasOwn)(t,e[0].toLowerCase()+e.slice(1))||(0,n.hasOwn)(t,(0,n.hyphenate)(e))||(0,n.hasOwn)(t,e))}let N=null,k=null;function F(t){const e=N;return N=t,k=t&&t.type.__scopeId||null,e}function B(t){k=t}function G(){k=null}const j=t=>V;function V(t,e=N,i){if(!e)return t;if(t._n)return t;const o=(...i)=>{o._d&&pi(-1);const n=F(e);let r;try{r=t(...i)}finally{F(n),o._d&&pi(1)}return r};return o._n=!0,o._c=!0,o._d=!0,o}function U(t){const{type:e,vnode:i,proxy:o,withProxy:r,props:s,propsOptions:[a],slots:l,attrs:u,emit:h,render:d,renderCache:p,data:f,setupState:g,ctx:m,inheritAttrs:y}=t;let v,_;const C=F(t);try{if(4&i.shapeFlag){const t=r||o;v=Ai(d.call(t,t,p,s,g,f,m)),_=u}else{const t=e;0,v=Ai(t.length>1?t(s,{attrs:u,slots:l,emit:h}):t(s,null)),_=e.props?u:H(u)}}catch(e){ai.length=0,c(e,t,1),v=wi(ri)}let b=v;if(_&&!1!==y){const t=Object.keys(_),{shapeFlag:e}=b;t.length&&7&e&&(a&&t.some(n.isModelListener)&&(_=$(_,a)),b=Pi(b,_))}return i.dirs&&(b=Pi(b),b.dirs=b.dirs?b.dirs.concat(i.dirs):i.dirs),i.transition&&(b.transition=i.transition),v=b,F(C),v}function W(t){let e;for(let i=0;i<t.length;i++){const o=t[i];if(!yi(o))return;if(o.type!==ri||"v-if"===o.children){if(e)return;e=o}}return e}const H=t=>{let e;for(const i in t)("class"===i||"style"===i||(0,n.isOn)(i))&&((e||(e={}))[i]=t[i]);return e},$=(t,e)=>{const i={};for(const o in t)(0,n.isModelListener)(o)&&o.slice(9)in e||(i[o]=t[o]);return i};function z(t,e,i){const o=Object.keys(e);if(o.length!==Object.keys(t).length)return!0;for(let n=0;n<o.length;n++){const r=o[n];if(e[r]!==t[r]&&!I(i,r))return!0}return!1}function K({vnode:t,parent:e},i){for(;e&&e.subTree===t;)(t=e.vnode).el=i,e=e.parent}const Y=t=>t.__isSuspense,X={name:"Suspense",__isSuspense:!0,process(t,e,i,o,n,r,s,a,l,c){null==t?function(t,e,i,o,n,r,s,a,l){const{p:c,o:{createElement:u}}=l,h=u("div"),d=t.suspense=q(t,n,o,e,h,i,r,s,a,l);c(null,d.pendingBranch=t.ssContent,h,null,o,d,r,s),d.deps>0?(Z(t,"onPending"),Z(t,"onFallback"),c(null,t.ssFallback,e,i,o,null,r,s),tt(d,t.ssFallback)):d.resolve()}(e,i,o,n,r,s,a,l,c):function(t,e,i,o,n,r,s,a,{p:l,um:c,o:{createElement:u}}){const h=e.suspense=t.suspense;h.vnode=e,e.el=t.el;const d=e.ssContent,p=e.ssFallback,{activeBranch:f,pendingBranch:g,isInFallback:m,isHydrating:y}=h;if(g)h.pendingBranch=d,vi(d,g)?(l(g,d,h.hiddenContainer,null,n,h,r,s,a),h.deps<=0?h.resolve():m&&(l(f,p,i,o,n,null,r,s,a),tt(h,p))):(h.pendingId++,y?(h.isHydrating=!1,h.activeBranch=g):c(g,n,h),h.deps=0,h.effects.length=0,h.hiddenContainer=u("div"),m?(l(null,d,h.hiddenContainer,null,n,h,r,s,a),h.deps<=0?h.resolve():(l(f,p,i,o,n,null,r,s,a),tt(h,p))):f&&vi(d,f)?(l(f,d,i,o,n,h,r,s,a),h.resolve(!0)):(l(null,d,h.hiddenContainer,null,n,h,r,s,a),h.deps<=0&&h.resolve()));else if(f&&vi(d,f))l(f,d,i,o,n,h,r,s,a),tt(h,d);else if(Z(e,"onPending"),h.pendingBranch=d,h.pendingId++,l(null,d,h.hiddenContainer,null,n,h,r,s,a),h.deps<=0)h.resolve();else{const{timeout:t,pendingId:e}=h;t>0?setTimeout((()=>{h.pendingId===e&&h.fallback(p)}),t):0===t&&h.fallback(p)}}(t,e,i,o,n,s,a,l,c)},hydrate:function(t,e,i,o,n,r,s,a,l){const c=e.suspense=q(e,o,i,t.parentNode,document.createElement("div"),null,n,r,s,a,!0),u=l(t,c.pendingBranch=e.ssContent,i,c,r,s);0===c.deps&&c.resolve();return u},create:q,normalize:function(t){const{shapeFlag:e,children:i}=t,o=32&e;t.ssContent=J(o?i.default:i),t.ssFallback=o?J(i.fallback):wi(ri)}};function Z(t,e){const i=t.props&&t.props[e];(0,n.isFunction)(i)&&i()}function q(t,e,i,o,r,s,a,l,u,h,d=!1){const{p,m:f,um:g,n:m,o:{parentNode:y,remove:v}}=h,_=t.props?(0,n.toNumber)(t.props.timeout):void 0;const C={vnode:t,parent:e,parentComponent:i,isSVG:a,container:o,hiddenContainer:r,anchor:s,deps:0,pendingId:0,timeout:"number"==typeof _?_:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:d,isUnmounted:!1,effects:[],resolve(t=!1){const{vnode:e,activeBranch:i,pendingBranch:o,pendingId:n,effects:r,parentComponent:s,container:a}=C;if(C.isHydrating)C.isHydrating=!1;else if(!t){const t=i&&o.transition&&"out-in"===o.transition.mode;t&&(i.transition.afterLeave=()=>{n===C.pendingId&&f(o,a,e,0)});let{anchor:e}=C;i&&(e=m(i),g(i,s,C,!0)),t||f(o,a,e,0)}tt(C,o),C.pendingBranch=null,C.isInFallback=!1;let l=C.parent,c=!1;for(;l;){if(l.pendingBranch){l.effects.push(...r),c=!0;break}l=l.parent}c||E(r),C.effects=[],Z(e,"onResolve")},fallback(t){if(!C.pendingBranch)return;const{vnode:e,activeBranch:i,parentComponent:o,container:n,isSVG:r}=C;Z(e,"onFallback");const s=m(i),a=()=>{C.isInFallback&&(p(null,t,n,s,o,null,r,l,u),tt(C,t))},c=t.transition&&"out-in"===t.transition.mode;c&&(i.transition.afterLeave=a),C.isInFallback=!0,g(i,o,null,!0),c||a()},move(t,e,i){C.activeBranch&&f(C.activeBranch,t,e,i),C.container=t},next:()=>C.activeBranch&&m(C.activeBranch),registerDep(t,e){const i=!!C.pendingBranch;i&&C.deps++;const o=t.vnode.el;t.asyncDep.catch((e=>{c(e,t,0)})).then((n=>{if(t.isUnmounted||C.isUnmounted||C.pendingId!==t.suspenseId)return;t.asyncResolved=!0;const{vnode:r}=t;Yi(t,n,!1),o&&(r.el=o);const s=!o&&t.subTree.el;e(t,r,y(o||t.subTree.el),o?null:m(t.subTree),C,a,u),s&&v(s),K(t,r.el),i&&0==--C.deps&&C.resolve()}))},unmount(t,e){C.isUnmounted=!0,C.activeBranch&&g(C.activeBranch,i,t,e),C.pendingBranch&&g(C.pendingBranch,i,t,e)}};return C}function J(t){let e;if((0,n.isFunction)(t)){const i=di&&t._c;i&&(t._d=!1,ci()),t=t(),i&&(t._d=!0,e=li,ui())}if((0,n.isArray)(t)){const e=W(t);0,t=e}return t=Ai(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter((e=>e!==t))),t}function Q(t,e){e&&e.pendingBranch?(0,n.isArray)(t)?e.effects.push(...t):e.effects.push(t):E(t)}function tt(t,e){t.activeBranch=e;const{vnode:i,parentComponent:o}=t,n=i.el=e.el;o&&o.subTree===i&&(o.vnode.el=n,K(o,n))}function et(t,e){if(Gi){let i=Gi.provides;const o=Gi.parent&&Gi.parent.provides;o===i&&(i=Gi.provides=Object.create(o)),i[t]=e}else 0}function it(t,e,i=!1){const o=Gi||N;if(o){const r=null==o.parent?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides;if(r&&t in r)return r[t];if(arguments.length>1)return i&&(0,n.isFunction)(e)?e.call(o.proxy):e}else 0}function ot(t,e){return lt(t,null,e)}function nt(t,e){return lt(t,null,{flush:"post"})}function rt(t,e){return lt(t,null,{flush:"sync"})}const st={};function at(t,e,i){return lt(t,e,i)}function lt(t,e,{immediate:i,deep:r,flush:s,onTrack:c,onTrigger:u}=n.EMPTY_OBJ){const h=(0,o.nZ)()===(null==Gi?void 0:Gi.scope)?Gi:null;let d,p,f=!1,g=!1;if((0,o.dq)(t)?(d=()=>t.value,f=(0,o.yT)(t)):(0,o.PG)(t)?(d=()=>t,r=!0):(0,n.isArray)(t)?(g=!0,f=t.some((t=>(0,o.PG)(t)||(0,o.yT)(t))),d=()=>t.map((t=>(0,o.dq)(t)?t.value:(0,o.PG)(t)?ht(t):(0,n.isFunction)(t)?a(t,h,2):void 0))):d=(0,n.isFunction)(t)?e?()=>a(t,h,2):()=>{if(!h||!h.isUnmounted)return p&&p(),l(t,h,3,[y])}:n.NOOP,e&&r){const t=d;d=()=>ht(t())}let m,y=t=>{p=E.onStop=()=>{a(t,h,4)}};if(zi){if(y=n.NOOP,e?i&&l(e,h,3,[d(),g?[]:void 0,y]):d(),"sync"!==s)return n.NOOP;{const t=mo();m=t.__watcherHandles||(t.__watcherHandles=[])}}let v=g?new Array(t.length).fill(st):st;const _=()=>{if(E.active)if(e){const t=E.run();(r||f||(g?t.some(((t,e)=>(0,n.hasChanged)(t,v[e]))):(0,n.hasChanged)(t,v)))&&(p&&p(),l(e,h,3,[t,v===st?void 0:g&&v[0]===st?[]:v,y]),v=t)}else E.run()};let b;_.allowRecurse=!!e,"sync"===s?b=_:"post"===s?b=()=>$e(_,h&&h.suspense):(_.pre=!0,h&&(_.id=h.uid),b=()=>C(_));const E=new o.qq(d,b);e?i?_():v=E.run():"post"===s?$e(E.run.bind(E),h&&h.suspense):E.run();const S=()=>{E.stop(),h&&h.scope&&(0,n.remove)(h.scope.effects,E)};return m&&m.push(S),S}function ct(t,e,i){const o=this.proxy,r=(0,n.isString)(t)?t.includes(".")?ut(o,t):()=>o[t]:t.bind(o,o);let s;(0,n.isFunction)(e)?s=e:(s=e.handler,i=e);const a=Gi;Vi(this);const l=lt(r,s.bind(o),i);return a?Vi(a):Ui(),l}function ut(t,e){const i=e.split(".");return()=>{let e=t;for(let t=0;t<i.length&&e;t++)e=e[i[t]];return e}}function ht(t,e){if(!(0,n.isObject)(t)||t.__v_skip)return t;if((e=e||new Set).has(t))return t;if(e.add(t),(0,o.dq)(t))ht(t.value,e);else if((0,n.isArray)(t))for(let i=0;i<t.length;i++)ht(t[i],e);else if((0,n.isSet)(t)||(0,n.isMap)(t))t.forEach((t=>{ht(t,e)}));else if((0,n.isPlainObject)(t))for(const i in t)ht(t[i],e);return t}function dt(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Ft((()=>{t.isMounted=!0})),jt((()=>{t.isUnmounting=!0})),t}const pt=[Function,Array],ft={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:pt,onEnter:pt,onAfterEnter:pt,onEnterCancelled:pt,onBeforeLeave:pt,onLeave:pt,onAfterLeave:pt,onLeaveCancelled:pt,onBeforeAppear:pt,onAppear:pt,onAfterAppear:pt,onAppearCancelled:pt},setup(t,{slots:e}){const i=ji(),n=dt();let r;return()=>{const s=e.default&&Ct(e.default(),!0);if(!s||!s.length)return;let a=s[0];if(s.length>1){let t=!1;for(const e of s)if(e.type!==ri){0,a=e,t=!0;break}}const l=(0,o.IU)(t),{mode:c}=l;if(n.isLeaving)return yt(a);const u=vt(a);if(!u)return yt(a);const h=mt(u,l,n,i);_t(u,h);const d=i.subTree,p=d&&vt(d);let f=!1;const{getTransitionKey:g}=u.type;if(g){const t=g();void 0===r?r=t:t!==r&&(r=t,f=!0)}if(p&&p.type!==ri&&(!vi(u,p)||f)){const t=mt(p,l,n,i);if(_t(p,t),"out-in"===c)return n.isLeaving=!0,t.afterLeave=()=>{n.isLeaving=!1,!1!==i.update.active&&i.update()},yt(a);"in-out"===c&&u.type!==ri&&(t.delayLeave=(t,e,i)=>{gt(n,p)[String(p.key)]=p,t._leaveCb=()=>{e(),t._leaveCb=void 0,delete h.delayedLeave},h.delayedLeave=i})}return a}}};function gt(t,e){const{leavingVNodes:i}=t;let o=i.get(e.type);return o||(o=Object.create(null),i.set(e.type,o)),o}function mt(t,e,i,o){const{appear:r,mode:s,persisted:a=!1,onBeforeEnter:c,onEnter:u,onAfterEnter:h,onEnterCancelled:d,onBeforeLeave:p,onLeave:f,onAfterLeave:g,onLeaveCancelled:m,onBeforeAppear:y,onAppear:v,onAfterAppear:_,onAppearCancelled:C}=e,b=String(t.key),E=gt(i,t),S=(t,e)=>{t&&l(t,o,9,e)},w=(t,e)=>{const i=e[1];S(t,e),(0,n.isArray)(t)?t.every((t=>t.length<=1))&&i():t.length<=1&&i()},O={mode:s,persisted:a,beforeEnter(e){let o=c;if(!i.isMounted){if(!r)return;o=y||c}e._leaveCb&&e._leaveCb(!0);const n=E[b];n&&vi(t,n)&&n.el._leaveCb&&n.el._leaveCb(),S(o,[e])},enter(t){let e=u,o=h,n=d;if(!i.isMounted){if(!r)return;e=v||u,o=_||h,n=C||d}let s=!1;const a=t._enterCb=e=>{s||(s=!0,S(e?n:o,[t]),O.delayedLeave&&O.delayedLeave(),t._enterCb=void 0)};e?w(e,[t,a]):a()},leave(e,o){const n=String(t.key);if(e._enterCb&&e._enterCb(!0),i.isUnmounting)return o();S(p,[e]);let r=!1;const s=e._leaveCb=i=>{r||(r=!0,o(),S(i?m:g,[e]),e._leaveCb=void 0,E[n]===t&&delete E[n])};E[n]=t,f?w(f,[e,s]):s()},clone:t=>mt(t,e,i,o)};return O}function yt(t){if(Ot(t))return(t=Pi(t)).children=null,t}function vt(t){return Ot(t)?t.children?t.children[0]:void 0:t}function _t(t,e){6&t.shapeFlag&&t.component?_t(t.component.subTree,e):128&t.shapeFlag?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Ct(t,e=!1,i){let o=[],n=0;for(let r=0;r<t.length;r++){let s=t[r];const a=null==i?s.key:String(i)+String(null!=s.key?s.key:r);s.type===oi?(128&s.patchFlag&&n++,o=o.concat(Ct(s.children,e,a))):(e||s.type!==ri)&&o.push(null!=a?Pi(s,{key:a}):s)}if(n>1)for(let t=0;t<o.length;t++)o[t].patchFlag=-2;return o}function bt(t){return(0,n.isFunction)(t)?{setup:t,name:t.name}:t}const Et=t=>!!t.type.__asyncLoader;function St(t){(0,n.isFunction)(t)&&(t={loader:t});const{loader:e,loadingComponent:i,errorComponent:r,delay:s=200,timeout:a,suspensible:l=!0,onError:u}=t;let h,d=null,p=0;const f=()=>{let t;return d||(t=d=e().catch((t=>{if(t=t instanceof Error?t:new Error(String(t)),u)return new Promise(((e,i)=>{u(t,(()=>e((p++,d=null,f()))),(()=>i(t)),p+1)}));throw t})).then((e=>t!==d&&d?d:(e&&(e.__esModule||"Module"===e[Symbol.toStringTag])&&(e=e.default),h=e,e))))};return bt({name:"AsyncComponentWrapper",__asyncLoader:f,get __asyncResolved(){return h},setup(){const t=Gi;if(h)return()=>wt(h,t);const e=e=>{d=null,c(e,t,13,!r)};if(l&&t.suspense||zi)return f().then((e=>()=>wt(e,t))).catch((t=>(e(t),()=>r?wi(r,{error:t}):null)));const n=(0,o.iH)(!1),u=(0,o.iH)(),p=(0,o.iH)(!!s);return s&&setTimeout((()=>{p.value=!1}),s),null!=a&&setTimeout((()=>{if(!n.value&&!u.value){const t=new Error(`Async component timed out after ${a}ms.`);e(t),u.value=t}}),a),f().then((()=>{n.value=!0,t.parent&&Ot(t.parent.vnode)&&C(t.parent.update)})).catch((t=>{e(t),u.value=t})),()=>n.value&&h?wt(h,t):u.value&&r?wi(r,{error:u.value}):i&&!p.value?wi(i):void 0}})}function wt(t,e){const{ref:i,props:o,children:n,ce:r}=e.vnode,s=wi(t,o,n);return s.ref=i,s.ce=r,delete e.vnode.ce,s}const Ot=t=>t.type.__isKeepAlive,xt={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const i=ji(),o=i.ctx;if(!o.renderer)return()=>{const t=e.default&&e.default();return t&&1===t.length?t[0]:t};const r=new Map,s=new Set;let a=null;const l=i.suspense,{renderer:{p:c,m:u,um:h,o:{createElement:d}}}=o,p=d("div");function f(t){Rt(t),h(t,i,l,!0)}function g(t){r.forEach(((e,i)=>{const o=to(e.type);!o||t&&t(o)||m(i)}))}function m(t){const e=r.get(t);a&&vi(e,a)?a&&Rt(a):f(e),r.delete(t),s.delete(t)}o.activate=(t,e,i,o,r)=>{const s=t.component;u(t,e,i,0,l),c(s.vnode,t,e,i,s,l,o,t.slotScopeIds,r),$e((()=>{s.isDeactivated=!1,s.a&&(0,n.invokeArrayFns)(s.a);const e=t.props&&t.props.onVnodeMounted;e&&Ni(e,s.parent,t)}),l)},o.deactivate=t=>{const e=t.component;u(t,p,null,1,l),$e((()=>{e.da&&(0,n.invokeArrayFns)(e.da);const i=t.props&&t.props.onVnodeUnmounted;i&&Ni(i,e.parent,t),e.isDeactivated=!0}),l)},at((()=>[t.include,t.exclude]),(([t,e])=>{t&&g((e=>Pt(t,e))),e&&g((t=>!Pt(e,t)))}),{flush:"post",deep:!0});let y=null;const v=()=>{null!=y&&r.set(y,Lt(i.subTree))};return Ft(v),Gt(v),jt((()=>{r.forEach((t=>{const{subTree:e,suspense:o}=i,n=Lt(e);if(t.type!==n.type||t.key!==n.key)f(t);else{Rt(n);const t=n.component.da;t&&$e(t,o)}}))})),()=>{if(y=null,!e.default)return null;const i=e.default(),o=i[0];if(i.length>1)return a=null,i;if(!(yi(o)&&(4&o.shapeFlag||128&o.shapeFlag)))return a=null,o;let n=Lt(o);const l=n.type,c=to(Et(n)?n.type.__asyncResolved||{}:l),{include:u,exclude:h,max:d}=t;if(u&&(!c||!Pt(u,c))||h&&c&&Pt(h,c))return a=n,o;const p=null==n.key?l:n.key,f=r.get(p);return n.el&&(n=Pi(n),128&o.shapeFlag&&(o.ssContent=n)),y=p,f?(n.el=f.el,n.component=f.component,n.transition&&_t(n,n.transition),n.shapeFlag|=512,s.delete(p),s.add(p)):(s.add(p),d&&s.size>parseInt(d,10)&&m(s.values().next().value)),n.shapeFlag|=256,a=n,Y(o.type)?o:n}}};function Pt(t,e){return(0,n.isArray)(t)?t.some((t=>Pt(t,e))):(0,n.isString)(t)?t.split(",").includes(e):!!(0,n.isRegExp)(t)&&t.test(e)}function Tt(t,e){Dt(t,"a",e)}function Mt(t,e){Dt(t,"da",e)}function Dt(t,e,i=Gi){const o=t.__wdc||(t.__wdc=()=>{let e=i;for(;e;){if(e.isDeactivated)return;e=e.parent}return t()});if(It(e,o,i),i){let t=i.parent;for(;t&&t.parent;)Ot(t.parent.vnode)&&At(o,e,i,t),t=t.parent}}function At(t,e,i,o){const r=It(e,t,o,!0);Vt((()=>{(0,n.remove)(o[e],r)}),i)}function Rt(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function Lt(t){return 128&t.shapeFlag?t.ssContent:t}function It(t,e,i=Gi,n=!1){if(i){const r=i[t]||(i[t]=[]),s=e.__weh||(e.__weh=(...n)=>{if(i.isUnmounted)return;(0,o.Jd)(),Vi(i);const r=l(e,i,t,n);return Ui(),(0,o.lk)(),r});return n?r.unshift(s):r.push(s),s}}const Nt=t=>(e,i=Gi)=>(!zi||"sp"===t)&&It(t,((...t)=>e(...t)),i),kt=Nt("bm"),Ft=Nt("m"),Bt=Nt("bu"),Gt=Nt("u"),jt=Nt("bum"),Vt=Nt("um"),Ut=Nt("sp"),Wt=Nt("rtg"),Ht=Nt("rtc");function $t(t,e=Gi){It("ec",t,e)}function zt(t,e){const i=N;if(null===i)return t;const o=Qi(i)||i.proxy,r=t.dirs||(t.dirs=[]);for(let t=0;t<e.length;t++){let[i,s,a,l=n.EMPTY_OBJ]=e[t];i&&((0,n.isFunction)(i)&&(i={mounted:i,updated:i}),i.deep&&ht(s),r.push({dir:i,instance:o,value:s,oldValue:void 0,arg:a,modifiers:l}))}return t}function Kt(t,e,i,n){const r=t.dirs,s=e&&e.dirs;for(let a=0;a<r.length;a++){const c=r[a];s&&(c.oldValue=s[a].value);let u=c.dir[n];u&&((0,o.Jd)(),l(u,i,8,[t.el,c,t,e]),(0,o.lk)())}}const Yt="components",Xt="directives";function Zt(t,e){return te(Yt,t,!0,e)||t}const qt=Symbol();function Jt(t){return(0,n.isString)(t)?te(Yt,t,!1)||t:t||qt}function Qt(t){return te(Xt,t)}function te(t,e,i=!0,o=!1){const r=N||Gi;if(r){const i=r.type;if(t===Yt){const t=to(i,!1);if(t&&(t===e||t===(0,n.camelize)(e)||t===(0,n.capitalize)((0,n.camelize)(e))))return i}const s=ee(r[t]||i[t],e)||ee(r.appContext[t],e);return!s&&o?i:s}}function ee(t,e){return t&&(t[e]||t[(0,n.camelize)(e)]||t[(0,n.capitalize)((0,n.camelize)(e))])}function ie(t,e,i,o){let r;const s=i&&i[o];if((0,n.isArray)(t)||(0,n.isString)(t)){r=new Array(t.length);for(let i=0,o=t.length;i<o;i++)r[i]=e(t[i],i,void 0,s&&s[i])}else if("number"==typeof t){0,r=new Array(t);for(let i=0;i<t;i++)r[i]=e(i+1,i,void 0,s&&s[i])}else if((0,n.isObject)(t))if(t[Symbol.iterator])r=Array.from(t,((t,i)=>e(t,i,void 0,s&&s[i])));else{const i=Object.keys(t);r=new Array(i.length);for(let o=0,n=i.length;o<n;o++){const n=i[o];r[o]=e(t[n],n,o,s&&s[o])}}else r=[];return i&&(i[o]=r),r}function oe(t,e){for(let i=0;i<e.length;i++){const o=e[i];if((0,n.isArray)(o))for(let e=0;e<o.length;e++)t[o[e].name]=o[e].fn;else o&&(t[o.name]=o.key?(...t)=>{const e=o.fn(...t);return e&&(e.key=o.key),e}:o.fn)}return t}function ne(t,e,i={},o,n){if(N.isCE||N.parent&&Et(N.parent)&&N.parent.isCE)return"default"!==e&&(i.name=e),wi("slot",i,o&&o());let r=t[e];r&&r._c&&(r._d=!1),ci();const s=r&&re(r(i)),a=mi(oi,{key:i.key||s&&s.key||`_${e}`},s||(o?o():[]),s&&1===t._?64:-2);return!n&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),r&&r._c&&(r._d=!0),a}function re(t){return t.some((t=>!yi(t)||t.type!==ri&&!(t.type===oi&&!re(t.children))))?t:null}function se(t,e){const i={};for(const o in t)i[e&&/[A-Z]/.test(o)?`on:${o}`:(0,n.toHandlerKey)(o)]=t[o];return i}const ae=t=>t?Wi(t)?Qi(t)||t.proxy:ae(t.parent):null,le=(0,n.extend)(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>ae(t.parent),$root:t=>ae(t.root),$emit:t=>t.emit,$options:t=>me(t),$forceUpdate:t=>t.f||(t.f=()=>C(t.update)),$nextTick:t=>t.n||(t.n=_.bind(t.proxy)),$watch:t=>ct.bind(t)}),ce=(t,e)=>t!==n.EMPTY_OBJ&&!t.__isScriptSetup&&(0,n.hasOwn)(t,e),ue={get({_:t},e){const{ctx:i,setupState:r,data:s,props:a,accessCache:l,type:c,appContext:u}=t;let h;if("$"!==e[0]){const o=l[e];if(void 0!==o)switch(o){case 1:return r[e];case 2:return s[e];case 4:return i[e];case 3:return a[e]}else{if(ce(r,e))return l[e]=1,r[e];if(s!==n.EMPTY_OBJ&&(0,n.hasOwn)(s,e))return l[e]=2,s[e];if((h=t.propsOptions[0])&&(0,n.hasOwn)(h,e))return l[e]=3,a[e];if(i!==n.EMPTY_OBJ&&(0,n.hasOwn)(i,e))return l[e]=4,i[e];de&&(l[e]=0)}}const d=le[e];let p,f;return d?("$attrs"===e&&(0,o.j)(t,"get",e),d(t)):(p=c.__cssModules)&&(p=p[e])?p:i!==n.EMPTY_OBJ&&(0,n.hasOwn)(i,e)?(l[e]=4,i[e]):(f=u.config.globalProperties,(0,n.hasOwn)(f,e)?f[e]:void 0)},set({_:t},e,i){const{data:o,setupState:r,ctx:s}=t;return ce(r,e)?(r[e]=i,!0):o!==n.EMPTY_OBJ&&(0,n.hasOwn)(o,e)?(o[e]=i,!0):!(0,n.hasOwn)(t.props,e)&&(("$"!==e[0]||!(e.slice(1)in t))&&(s[e]=i,!0))},has({_:{data:t,setupState:e,accessCache:i,ctx:o,appContext:r,propsOptions:s}},a){let l;return!!i[a]||t!==n.EMPTY_OBJ&&(0,n.hasOwn)(t,a)||ce(e,a)||(l=s[0])&&(0,n.hasOwn)(l,a)||(0,n.hasOwn)(o,a)||(0,n.hasOwn)(le,a)||(0,n.hasOwn)(r.config.globalProperties,a)},defineProperty(t,e,i){return null!=i.get?t._.accessCache[e]=0:(0,n.hasOwn)(i,"value")&&this.set(t,e,i.value,null),Reflect.defineProperty(t,e,i)}};const he=(0,n.extend)({},ue,{get(t,e){if(e!==Symbol.unscopables)return ue.get(t,e,t)},has:(t,e)=>"_"!==e[0]&&!(0,n.isGloballyWhitelisted)(e)});let de=!0;function pe(t){const e=me(t),i=t.proxy,r=t.ctx;de=!1,e.beforeCreate&&fe(e.beforeCreate,t,"bc");const{data:s,computed:a,methods:l,watch:c,provide:u,inject:h,created:d,beforeMount:p,mounted:f,beforeUpdate:g,updated:m,activated:y,deactivated:v,beforeDestroy:_,beforeUnmount:C,destroyed:b,unmounted:E,render:S,renderTracked:w,renderTriggered:O,errorCaptured:x,serverPrefetch:P,expose:T,inheritAttrs:M,components:D,directives:A,filters:R}=e;if(h&&function(t,e,i=n.NOOP,r=!1){(0,n.isArray)(t)&&(t=Ce(t));for(const i in t){const s=t[i];let a;a=(0,n.isObject)(s)?"default"in s?it(s.from||i,s.default,!0):it(s.from||i):it(s),(0,o.dq)(a)&&r?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>a.value,set:t=>a.value=t}):e[i]=a}}(h,r,null,t.appContext.config.unwrapInjectedRef),l)for(const t in l){const e=l[t];(0,n.isFunction)(e)&&(r[t]=e.bind(i))}if(s){0;const e=s.call(i,i);0,(0,n.isObject)(e)&&(t.data=(0,o.qj)(e))}if(de=!0,a)for(const t in a){const e=a[t],o=(0,n.isFunction)(e)?e.bind(i,i):(0,n.isFunction)(e.get)?e.get.bind(i,i):n.NOOP;0;const s=!(0,n.isFunction)(e)&&(0,n.isFunction)(e.set)?e.set.bind(i):n.NOOP,l=io({get:o,set:s});Object.defineProperty(r,t,{enumerable:!0,configurable:!0,get:()=>l.value,set:t=>l.value=t})}if(c)for(const t in c)ge(c[t],r,i,t);if(u){const t=(0,n.isFunction)(u)?u.call(i):u;Reflect.ownKeys(t).forEach((e=>{et(e,t[e])}))}function L(t,e){(0,n.isArray)(e)?e.forEach((e=>t(e.bind(i)))):e&&t(e.bind(i))}if(d&&fe(d,t,"c"),L(kt,p),L(Ft,f),L(Bt,g),L(Gt,m),L(Tt,y),L(Mt,v),L($t,x),L(Ht,w),L(Wt,O),L(jt,C),L(Vt,E),L(Ut,P),(0,n.isArray)(T))if(T.length){const e=t.exposed||(t.exposed={});T.forEach((t=>{Object.defineProperty(e,t,{get:()=>i[t],set:e=>i[t]=e})}))}else t.exposed||(t.exposed={});S&&t.render===n.NOOP&&(t.render=S),null!=M&&(t.inheritAttrs=M),D&&(t.components=D),A&&(t.directives=A)}function fe(t,e,i){l((0,n.isArray)(t)?t.map((t=>t.bind(e.proxy))):t.bind(e.proxy),e,i)}function ge(t,e,i,o){const r=o.includes(".")?ut(i,o):()=>i[o];if((0,n.isString)(t)){const i=e[t];(0,n.isFunction)(i)&&at(r,i)}else if((0,n.isFunction)(t))at(r,t.bind(i));else if((0,n.isObject)(t))if((0,n.isArray)(t))t.forEach((t=>ge(t,e,i,o)));else{const o=(0,n.isFunction)(t.handler)?t.handler.bind(i):e[t.handler];(0,n.isFunction)(o)&&at(r,o,t)}else 0}function me(t){const e=t.type,{mixins:i,extends:o}=e,{mixins:r,optionsCache:s,config:{optionMergeStrategies:a}}=t.appContext,l=s.get(e);let c;return l?c=l:r.length||i||o?(c={},r.length&&r.forEach((t=>ye(c,t,a,!0))),ye(c,e,a)):c=e,(0,n.isObject)(e)&&s.set(e,c),c}function ye(t,e,i,o=!1){const{mixins:n,extends:r}=e;r&&ye(t,r,i,!0),n&&n.forEach((e=>ye(t,e,i,!0)));for(const n in e)if(o&&"expose"===n);else{const o=ve[n]||i&&i[n];t[n]=o?o(t[n],e[n]):e[n]}return t}const ve={data:_e,props:Ee,emits:Ee,methods:Ee,computed:Ee,beforeCreate:be,created:be,beforeMount:be,mounted:be,beforeUpdate:be,updated:be,beforeDestroy:be,beforeUnmount:be,destroyed:be,unmounted:be,activated:be,deactivated:be,errorCaptured:be,serverPrefetch:be,components:Ee,directives:Ee,watch:function(t,e){if(!t)return e;if(!e)return t;const i=(0,n.extend)(Object.create(null),t);for(const o in e)i[o]=be(t[o],e[o]);return i},provide:_e,inject:function(t,e){return Ee(Ce(t),Ce(e))}};function _e(t,e){return e?t?function(){return(0,n.extend)((0,n.isFunction)(t)?t.call(this,this):t,(0,n.isFunction)(e)?e.call(this,this):e)}:e:t}function Ce(t){if((0,n.isArray)(t)){const e={};for(let i=0;i<t.length;i++)e[t[i]]=t[i];return e}return t}function be(t,e){return t?[...new Set([].concat(t,e))]:e}function Ee(t,e){return t?(0,n.extend)((0,n.extend)(Object.create(null),t),e):e}function Se(t,e,i,r){const[s,a]=t.propsOptions;let l,c=!1;if(e)for(let o in e){if((0,n.isReservedProp)(o))continue;const u=e[o];let h;s&&(0,n.hasOwn)(s,h=(0,n.camelize)(o))?a&&a.includes(h)?(l||(l={}))[h]=u:i[h]=u:I(t.emitsOptions,o)||o in r&&u===r[o]||(r[o]=u,c=!0)}if(a){const e=(0,o.IU)(i),r=l||n.EMPTY_OBJ;for(let o=0;o<a.length;o++){const l=a[o];i[l]=we(s,e,l,r[l],t,!(0,n.hasOwn)(r,l))}}return c}function we(t,e,i,o,r,s){const a=t[i];if(null!=a){const t=(0,n.hasOwn)(a,"default");if(t&&void 0===o){const t=a.default;if(a.type!==Function&&(0,n.isFunction)(t)){const{propsDefaults:n}=r;i in n?o=n[i]:(Vi(r),o=n[i]=t.call(null,e),Ui())}else o=t}a[0]&&(s&&!t?o=!1:!a[1]||""!==o&&o!==(0,n.hyphenate)(i)||(o=!0))}return o}function Oe(t,e,i=!1){const o=e.propsCache,r=o.get(t);if(r)return r;const s=t.props,a={},l=[];let c=!1;if(!(0,n.isFunction)(t)){const o=t=>{c=!0;const[i,o]=Oe(t,e,!0);(0,n.extend)(a,i),o&&l.push(...o)};!i&&e.mixins.length&&e.mixins.forEach(o),t.extends&&o(t.extends),t.mixins&&t.mixins.forEach(o)}if(!s&&!c)return(0,n.isObject)(t)&&o.set(t,n.EMPTY_ARR),n.EMPTY_ARR;if((0,n.isArray)(s))for(let t=0;t<s.length;t++){0;const e=(0,n.camelize)(s[t]);xe(e)&&(a[e]=n.EMPTY_OBJ)}else if(s){0;for(const t in s){const e=(0,n.camelize)(t);if(xe(e)){const i=s[t],o=a[e]=(0,n.isArray)(i)||(0,n.isFunction)(i)?{type:i}:Object.assign({},i);if(o){const t=Me(Boolean,o.type),i=Me(String,o.type);o[0]=t>-1,o[1]=i<0||t<i,(t>-1||(0,n.hasOwn)(o,"default"))&&l.push(e)}}}}const u=[a,l];return(0,n.isObject)(t)&&o.set(t,u),u}function xe(t){return"$"!==t[0]}function Pe(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:null===t?"null":""}function Te(t,e){return Pe(t)===Pe(e)}function Me(t,e){return(0,n.isArray)(e)?e.findIndex((e=>Te(e,t))):(0,n.isFunction)(e)&&Te(e,t)?0:-1}const De=t=>"_"===t[0]||"$stable"===t,Ae=t=>(0,n.isArray)(t)?t.map(Ai):[Ai(t)],Re=(t,e,i)=>{if(e._n)return e;const o=V(((...t)=>Ae(e(...t))),i);return o._c=!1,o},Le=(t,e,i)=>{const o=t._ctx;for(const i in t){if(De(i))continue;const r=t[i];if((0,n.isFunction)(r))e[i]=Re(0,r,o);else if(null!=r){0;const t=Ae(r);e[i]=()=>t}}},Ie=(t,e)=>{const i=Ae(e);t.slots.default=()=>i},Ne=(t,e)=>{if(32&t.vnode.shapeFlag){const i=e._;i?(t.slots=(0,o.IU)(e),(0,n.def)(e,"_",i)):Le(e,t.slots={})}else t.slots={},e&&Ie(t,e);(0,n.def)(t.slots,Ci,1)},ke=(t,e,i)=>{const{vnode:o,slots:r}=t;let s=!0,a=n.EMPTY_OBJ;if(32&o.shapeFlag){const t=e._;t?i&&1===t?s=!1:((0,n.extend)(r,e),i||1!==t||delete r._):(s=!e.$stable,Le(e,r)),a=e}else e&&(Ie(t,e),a={default:1});if(s)for(const t in r)De(t)||t in a||delete r[t]};function Fe(){return{app:null,config:{isNativeTag:n.NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Be=0;function Ge(t,e){return function(i,o=null){(0,n.isFunction)(i)||(i=Object.assign({},i)),null==o||(0,n.isObject)(o)||(o=null);const r=Fe(),s=new Set;let a=!1;const l=r.app={_uid:Be++,_component:i,_props:o,_container:null,_context:r,_instance:null,version:Co,get config(){return r.config},set config(t){0},use:(t,...e)=>(s.has(t)||(t&&(0,n.isFunction)(t.install)?(s.add(t),t.install(l,...e)):(0,n.isFunction)(t)&&(s.add(t),t(l,...e))),l),mixin:t=>(r.mixins.includes(t)||r.mixins.push(t),l),component:(t,e)=>e?(r.components[t]=e,l):r.components[t],directive:(t,e)=>e?(r.directives[t]=e,l):r.directives[t],mount(n,s,c){if(!a){0;const u=wi(i,o);return u.appContext=r,s&&e?e(u,n):t(u,n,c),a=!0,l._container=n,n.__vue_app__=l,Qi(u.component)||u.component.proxy}},unmount(){a&&(t(null,l._container),delete l._container.__vue_app__)},provide:(t,e)=>(r.provides[t]=e,l)};return l}}function je(t,e,i,r,s=!1){if((0,n.isArray)(t))return void t.forEach(((t,o)=>je(t,e&&((0,n.isArray)(e)?e[o]:e),i,r,s)));if(Et(r)&&!s)return;const l=4&r.shapeFlag?Qi(r.component)||r.component.proxy:r.el,c=s?null:l,{i:u,r:h}=t;const d=e&&e.r,p=u.refs===n.EMPTY_OBJ?u.refs={}:u.refs,f=u.setupState;if(null!=d&&d!==h&&((0,n.isString)(d)?(p[d]=null,(0,n.hasOwn)(f,d)&&(f[d]=null)):(0,o.dq)(d)&&(d.value=null)),(0,n.isFunction)(h))a(h,u,12,[c,p]);else{const e=(0,n.isString)(h),r=(0,o.dq)(h);if(e||r){const o=()=>{if(t.f){const i=e?(0,n.hasOwn)(f,h)?f[h]:p[h]:h.value;s?(0,n.isArray)(i)&&(0,n.remove)(i,l):(0,n.isArray)(i)?i.includes(l)||i.push(l):e?(p[h]=[l],(0,n.hasOwn)(f,h)&&(f[h]=p[h])):(h.value=[l],t.k&&(p[t.k]=h.value))}else e?(p[h]=c,(0,n.hasOwn)(f,h)&&(f[h]=c)):r&&(h.value=c,t.k&&(p[t.k]=c))};c?(o.id=-1,$e(o,i)):o()}else 0}}let Ve=!1;const Ue=t=>/svg/.test(t.namespaceURI)&&"foreignObject"!==t.tagName,We=t=>8===t.nodeType;function He(t){const{mt:e,p:i,o:{patchProp:o,createText:r,nextSibling:s,parentNode:a,remove:l,insert:c,createComment:u}}=t,h=(i,o,n,l,u,y=!1)=>{const v=We(i)&&"["===i.data,_=()=>g(i,o,n,l,u,v),{type:C,ref:b,shapeFlag:E,patchFlag:S}=o;let w=i.nodeType;o.el=i,-2===S&&(y=!1,o.dynamicChildren=null);let O=null;switch(C){case ni:3!==w?""===o.children?(c(o.el=r(""),a(i),i),O=i):O=_():(i.data!==o.children&&(Ve=!0,i.data=o.children),O=s(i));break;case ri:O=8!==w||v?_():s(i);break;case si:if(v&&(w=(i=s(i)).nodeType),1===w||3===w){O=i;const t=!o.children.length;for(let e=0;e<o.staticCount;e++)t&&(o.children+=1===O.nodeType?O.outerHTML:O.data),e===o.staticCount-1&&(o.anchor=O),O=s(O);return v?s(O):O}_();break;case oi:O=v?f(i,o,n,l,u,y):_();break;default:if(1&E)O=1!==w||o.type.toLowerCase()!==i.tagName.toLowerCase()?_():d(i,o,n,l,u,y);else if(6&E){o.slotScopeIds=u;const t=a(i);if(e(o,t,null,n,l,Ue(t),y),O=v?m(i):s(i),O&&We(O)&&"teleport end"===O.data&&(O=s(O)),Et(o)){let e;v?(e=wi(oi),e.anchor=O?O.previousSibling:t.lastChild):e=3===i.nodeType?Ti(""):wi("div"),e.el=i,o.component.subTree=e}}else 64&E?O=8!==w?_():o.type.hydrate(i,o,n,l,u,y,t,p):128&E&&(O=o.type.hydrate(i,o,n,l,Ue(a(i)),u,y,t,h))}return null!=b&&je(b,null,l,o),O},d=(t,e,i,r,s,a)=>{a=a||!!e.dynamicChildren;const{type:c,props:u,patchFlag:h,shapeFlag:d,dirs:f}=e,g="input"===c&&f||"option"===c;if(g||-1!==h){if(f&&Kt(e,null,i,"created"),u)if(g||!a||48&h)for(const e in u)(g&&e.endsWith("value")||(0,n.isOn)(e)&&!(0,n.isReservedProp)(e))&&o(t,e,null,u[e],!1,void 0,i);else u.onClick&&o(t,"onClick",null,u.onClick,!1,void 0,i);let c;if((c=u&&u.onVnodeBeforeMount)&&Ni(c,i,e),f&&Kt(e,null,i,"beforeMount"),((c=u&&u.onVnodeMounted)||f)&&Q((()=>{c&&Ni(c,i,e),f&&Kt(e,null,i,"mounted")}),r),16&d&&(!u||!u.innerHTML&&!u.textContent)){let o=p(t.firstChild,e,t,i,r,s,a);for(;o;){Ve=!0;const t=o;o=o.nextSibling,l(t)}}else 8&d&&t.textContent!==e.children&&(Ve=!0,t.textContent=e.children)}return t.nextSibling},p=(t,e,o,n,r,s,a)=>{a=a||!!e.dynamicChildren;const l=e.children,c=l.length;for(let e=0;e<c;e++){const c=a?l[e]:l[e]=Ai(l[e]);if(t)t=h(t,c,n,r,s,a);else{if(c.type===ni&&!c.children)continue;Ve=!0,i(null,c,o,null,n,r,Ue(o),s)}}return t},f=(t,e,i,o,n,r)=>{const{slotScopeIds:l}=e;l&&(n=n?n.concat(l):l);const h=a(t),d=p(s(t),e,h,i,o,n,r);return d&&We(d)&&"]"===d.data?s(e.anchor=d):(Ve=!0,c(e.anchor=u("]"),h,d),d)},g=(t,e,o,n,r,c)=>{if(Ve=!0,e.el=null,c){const e=m(t);for(;;){const i=s(t);if(!i||i===e)break;l(i)}}const u=s(t),h=a(t);return l(t),i(null,e,h,u,o,n,Ue(h),r),u},m=t=>{let e=0;for(;t;)if((t=s(t))&&We(t)&&("["===t.data&&e++,"]"===t.data)){if(0===e)return s(t);e--}return t};return[(t,e)=>{if(!e.hasChildNodes())return i(null,t,e),w(),void(e._vnode=t);Ve=!1,h(e.firstChild,t,null,null,null),w(),e._vnode=t,Ve&&console.error("Hydration completed but contains mismatches.")},h]}const $e=Q;function ze(t){return Ye(t)}function Ke(t){return Ye(t,He)}function Ye(t,e){(0,n.getGlobalThis)().__VUE__=!0;const{insert:i,remove:r,patchProp:s,createElement:a,createText:l,createComment:c,setText:u,setElementText:h,parentNode:f,nextSibling:g,setScopeId:m=n.NOOP,insertStaticContent:y}=t,v=(t,e,i,o=null,n=null,r=null,s=!1,a=null,l=!!e.dynamicChildren)=>{if(t===e)return;t&&!vi(t,e)&&(o=J(t),$(t,n,r,!0),t=null),-2===e.patchFlag&&(l=!1,e.dynamicChildren=null);const{type:c,ref:u,shapeFlag:h}=e;switch(c){case ni:_(t,e,i,o);break;case ri:b(t,e,i,o);break;case si:null==t&&E(e,i,o,s);break;case oi:L(t,e,i,o,n,r,s,a,l);break;default:1&h?x(t,e,i,o,n,r,s,a,l):6&h?N(t,e,i,o,n,r,s,a,l):(64&h||128&h)&&c.process(t,e,i,o,n,r,s,a,l,tt)}null!=u&&n&&je(u,t&&t.ref,r,e||t,!e)},_=(t,e,o,n)=>{if(null==t)i(e.el=l(e.children),o,n);else{const i=e.el=t.el;e.children!==t.children&&u(i,e.children)}},b=(t,e,o,n)=>{null==t?i(e.el=c(e.children||""),o,n):e.el=t.el},E=(t,e,i,o)=>{[t.el,t.anchor]=y(t.children,e,i,o,t.el,t.anchor)},O=({el:t,anchor:e})=>{let i;for(;t&&t!==e;)i=g(t),r(t),t=i;r(e)},x=(t,e,i,o,n,r,s,a,l)=>{s=s||"svg"===e.type,null==t?P(e,i,o,n,r,s,a,l):D(t,e,n,r,s,a,l)},P=(t,e,o,r,l,c,u,d)=>{let p,f;const{type:g,props:m,shapeFlag:y,transition:v,dirs:_}=t;if(p=t.el=a(t.type,c,m&&m.is,m),8&y?h(p,t.children):16&y&&M(t.children,p,null,r,l,c&&"foreignObject"!==g,u,d),_&&Kt(t,null,r,"created"),T(p,t,t.scopeId,u,r),m){for(const e in m)"value"===e||(0,n.isReservedProp)(e)||s(p,e,null,m[e],c,t.children,r,l,q);"value"in m&&s(p,"value",null,m.value),(f=m.onVnodeBeforeMount)&&Ni(f,r,t)}_&&Kt(t,null,r,"beforeMount");const C=(!l||l&&!l.pendingBranch)&&v&&!v.persisted;C&&v.beforeEnter(p),i(p,e,o),((f=m&&m.onVnodeMounted)||C||_)&&$e((()=>{f&&Ni(f,r,t),C&&v.enter(p),_&&Kt(t,null,r,"mounted")}),l)},T=(t,e,i,o,n)=>{if(i&&m(t,i),o)for(let e=0;e<o.length;e++)m(t,o[e]);if(n){if(e===n.subTree){const e=n.vnode;T(t,e,e.scopeId,e.slotScopeIds,n.parent)}}},M=(t,e,i,o,n,r,s,a,l=0)=>{for(let c=l;c<t.length;c++){const l=t[c]=a?Ri(t[c]):Ai(t[c]);v(null,l,e,i,o,n,r,s,a)}},D=(t,e,i,o,r,a,l)=>{const c=e.el=t.el;let{patchFlag:u,dynamicChildren:d,dirs:p}=e;u|=16&t.patchFlag;const f=t.props||n.EMPTY_OBJ,g=e.props||n.EMPTY_OBJ;let m;i&&Xe(i,!1),(m=g.onVnodeBeforeUpdate)&&Ni(m,i,e,t),p&&Kt(e,t,i,"beforeUpdate"),i&&Xe(i,!0);const y=r&&"foreignObject"!==e.type;if(d?A(t.dynamicChildren,d,c,i,o,y,a):l||j(t,e,c,null,i,o,y,a,!1),u>0){if(16&u)R(c,e,f,g,i,o,r);else if(2&u&&f.class!==g.class&&s(c,"class",null,g.class,r),4&u&&s(c,"style",f.style,g.style,r),8&u){const n=e.dynamicProps;for(let e=0;e<n.length;e++){const a=n[e],l=f[a],u=g[a];u===l&&"value"!==a||s(c,a,l,u,r,t.children,i,o,q)}}1&u&&t.children!==e.children&&h(c,e.children)}else l||null!=d||R(c,e,f,g,i,o,r);((m=g.onVnodeUpdated)||p)&&$e((()=>{m&&Ni(m,i,e,t),p&&Kt(e,t,i,"updated")}),o)},A=(t,e,i,o,n,r,s)=>{for(let a=0;a<e.length;a++){const l=t[a],c=e[a],u=l.el&&(l.type===oi||!vi(l,c)||70&l.shapeFlag)?f(l.el):i;v(l,c,u,null,o,n,r,s,!0)}},R=(t,e,i,o,r,a,l)=>{if(i!==o){if(i!==n.EMPTY_OBJ)for(const c in i)(0,n.isReservedProp)(c)||c in o||s(t,c,i[c],null,l,e.children,r,a,q);for(const c in o){if((0,n.isReservedProp)(c))continue;const u=o[c],h=i[c];u!==h&&"value"!==c&&s(t,c,h,u,l,e.children,r,a,q)}"value"in o&&s(t,"value",i.value,o.value)}},L=(t,e,o,n,r,s,a,c,u)=>{const h=e.el=t?t.el:l(""),d=e.anchor=t?t.anchor:l("");let{patchFlag:p,dynamicChildren:f,slotScopeIds:g}=e;g&&(c=c?c.concat(g):g),null==t?(i(h,o,n),i(d,o,n),M(e.children,o,d,r,s,a,c,u)):p>0&&64&p&&f&&t.dynamicChildren?(A(t.dynamicChildren,f,o,r,s,a,c),(null!=e.key||r&&e===r.subTree)&&Ze(t,e,!0)):j(t,e,o,d,r,s,a,c,u)},N=(t,e,i,o,n,r,s,a,l)=>{e.slotScopeIds=a,null==t?512&e.shapeFlag?n.ctx.activate(e,i,o,s,l):k(e,i,o,n,r,s,l):F(t,e,l)},k=(t,e,i,o,n,r,s)=>{const a=t.component=Bi(t,o,n);if(Ot(t)&&(a.ctx.renderer=tt),Ki(a),a.asyncDep){if(n&&n.registerDep(a,B),!t.el){const t=a.subTree=wi(ri);b(null,t,e,i)}}else B(a,t,e,i,n,r,s)},F=(t,e,i)=>{const o=e.component=t.component;if(function(t,e,i){const{props:o,children:n,component:r}=t,{props:s,children:a,patchFlag:l}=e,c=r.emitsOptions;if(e.dirs||e.transition)return!0;if(!(i&&l>=0))return!(!n&&!a||a&&a.$stable)||o!==s&&(o?!s||z(o,s,c):!!s);if(1024&l)return!0;if(16&l)return o?z(o,s,c):!!s;if(8&l){const t=e.dynamicProps;for(let e=0;e<t.length;e++){const i=t[e];if(s[i]!==o[i]&&!I(c,i))return!0}}return!1}(t,e,i)){if(o.asyncDep&&!o.asyncResolved)return void G(o,e,i);o.next=e,function(t){const e=d.indexOf(t);e>p&&d.splice(e,1)}(o.update),o.update()}else e.el=t.el,o.vnode=e},B=(t,e,i,r,s,a,l)=>{const c=t.effect=new o.qq((()=>{if(t.isMounted){let e,{next:i,bu:o,u:r,parent:c,vnode:u}=t,h=i;0,Xe(t,!1),i?(i.el=u.el,G(t,i,l)):i=u,o&&(0,n.invokeArrayFns)(o),(e=i.props&&i.props.onVnodeBeforeUpdate)&&Ni(e,c,i,u),Xe(t,!0);const d=U(t);0;const p=t.subTree;t.subTree=d,v(p,d,f(p.el),J(p),t,s,a),i.el=d.el,null===h&&K(t,d.el),r&&$e(r,s),(e=i.props&&i.props.onVnodeUpdated)&&$e((()=>Ni(e,c,i,u)),s)}else{let o;const{el:l,props:c}=e,{bm:u,m:h,parent:d}=t,p=Et(e);if(Xe(t,!1),u&&(0,n.invokeArrayFns)(u),!p&&(o=c&&c.onVnodeBeforeMount)&&Ni(o,d,e),Xe(t,!0),l&&it){const i=()=>{t.subTree=U(t),it(l,t.subTree,t,s,null)};p?e.type.__asyncLoader().then((()=>!t.isUnmounted&&i())):i()}else{0;const o=t.subTree=U(t);0,v(null,o,i,r,t,s,a),e.el=o.el}if(h&&$e(h,s),!p&&(o=c&&c.onVnodeMounted)){const t=e;$e((()=>Ni(o,d,t)),s)}(256&e.shapeFlag||d&&Et(d.vnode)&&256&d.vnode.shapeFlag)&&t.a&&$e(t.a,s),t.isMounted=!0,e=i=r=null}}),(()=>C(u)),t.scope),u=t.update=()=>c.run();u.id=t.uid,Xe(t,!0),u()},G=(t,e,i)=>{e.component=t;const r=t.vnode.props;t.vnode=e,t.next=null,function(t,e,i,r){const{props:s,attrs:a,vnode:{patchFlag:l}}=t,c=(0,o.IU)(s),[u]=t.propsOptions;let h=!1;if(!(r||l>0)||16&l){let o;Se(t,e,s,a)&&(h=!0);for(const r in c)e&&((0,n.hasOwn)(e,r)||(o=(0,n.hyphenate)(r))!==r&&(0,n.hasOwn)(e,o))||(u?!i||void 0===i[r]&&void 0===i[o]||(s[r]=we(u,c,r,void 0,t,!0)):delete s[r]);if(a!==c)for(const t in a)e&&(0,n.hasOwn)(e,t)||(delete a[t],h=!0)}else if(8&l){const i=t.vnode.dynamicProps;for(let o=0;o<i.length;o++){let r=i[o];if(I(t.emitsOptions,r))continue;const l=e[r];if(u)if((0,n.hasOwn)(a,r))l!==a[r]&&(a[r]=l,h=!0);else{const e=(0,n.camelize)(r);s[e]=we(u,c,e,l,t,!1)}else l!==a[r]&&(a[r]=l,h=!0)}}h&&(0,o.X$)(t,"set","$attrs")}(t,e.props,r,i),ke(t,e.children,i),(0,o.Jd)(),S(),(0,o.lk)()},j=(t,e,i,o,n,r,s,a,l=!1)=>{const c=t&&t.children,u=t?t.shapeFlag:0,d=e.children,{patchFlag:p,shapeFlag:f}=e;if(p>0){if(128&p)return void W(c,d,i,o,n,r,s,a,l);if(256&p)return void V(c,d,i,o,n,r,s,a,l)}8&f?(16&u&&q(c,n,r),d!==c&&h(i,d)):16&u?16&f?W(c,d,i,o,n,r,s,a,l):q(c,n,r,!0):(8&u&&h(i,""),16&f&&M(d,i,o,n,r,s,a,l))},V=(t,e,i,o,r,s,a,l,c)=>{t=t||n.EMPTY_ARR,e=e||n.EMPTY_ARR;const u=t.length,h=e.length,d=Math.min(u,h);let p;for(p=0;p<d;p++){const o=e[p]=c?Ri(e[p]):Ai(e[p]);v(t[p],o,i,null,r,s,a,l,c)}u>h?q(t,r,s,!0,!1,d):M(e,i,o,r,s,a,l,c,d)},W=(t,e,i,o,r,s,a,l,c)=>{let u=0;const h=e.length;let d=t.length-1,p=h-1;for(;u<=d&&u<=p;){const o=t[u],n=e[u]=c?Ri(e[u]):Ai(e[u]);if(!vi(o,n))break;v(o,n,i,null,r,s,a,l,c),u++}for(;u<=d&&u<=p;){const o=t[d],n=e[p]=c?Ri(e[p]):Ai(e[p]);if(!vi(o,n))break;v(o,n,i,null,r,s,a,l,c),d--,p--}if(u>d){if(u<=p){const t=p+1,n=t<h?e[t].el:o;for(;u<=p;)v(null,e[u]=c?Ri(e[u]):Ai(e[u]),i,n,r,s,a,l,c),u++}}else if(u>p)for(;u<=d;)$(t[u],r,s,!0),u++;else{const f=u,g=u,m=new Map;for(u=g;u<=p;u++){const t=e[u]=c?Ri(e[u]):Ai(e[u]);null!=t.key&&m.set(t.key,u)}let y,_=0;const C=p-g+1;let b=!1,E=0;const S=new Array(C);for(u=0;u<C;u++)S[u]=0;for(u=f;u<=d;u++){const o=t[u];if(_>=C){$(o,r,s,!0);continue}let n;if(null!=o.key)n=m.get(o.key);else for(y=g;y<=p;y++)if(0===S[y-g]&&vi(o,e[y])){n=y;break}void 0===n?$(o,r,s,!0):(S[n-g]=u+1,n>=E?E=n:b=!0,v(o,e[n],i,null,r,s,a,l,c),_++)}const w=b?function(t){const e=t.slice(),i=[0];let o,n,r,s,a;const l=t.length;for(o=0;o<l;o++){const l=t[o];if(0!==l){if(n=i[i.length-1],t[n]<l){e[o]=n,i.push(o);continue}for(r=0,s=i.length-1;r<s;)a=r+s>>1,t[i[a]]<l?r=a+1:s=a;l<t[i[r]]&&(r>0&&(e[o]=i[r-1]),i[r]=o)}}r=i.length,s=i[r-1];for(;r-- >0;)i[r]=s,s=e[s];return i}(S):n.EMPTY_ARR;for(y=w.length-1,u=C-1;u>=0;u--){const t=g+u,n=e[t],d=t+1<h?e[t+1].el:o;0===S[u]?v(null,n,i,d,r,s,a,l,c):b&&(y<0||u!==w[y]?H(n,i,d,2):y--)}}},H=(t,e,o,n,r=null)=>{const{el:s,type:a,transition:l,children:c,shapeFlag:u}=t;if(6&u)return void H(t.component.subTree,e,o,n);if(128&u)return void t.suspense.move(e,o,n);if(64&u)return void a.move(t,e,o,tt);if(a===oi){i(s,e,o);for(let t=0;t<c.length;t++)H(c[t],e,o,n);return void i(t.anchor,e,o)}if(a===si)return void(({el:t,anchor:e},o,n)=>{let r;for(;t&&t!==e;)r=g(t),i(t,o,n),t=r;i(e,o,n)})(t,e,o);if(2!==n&&1&u&&l)if(0===n)l.beforeEnter(s),i(s,e,o),$e((()=>l.enter(s)),r);else{const{leave:t,delayLeave:n,afterLeave:r}=l,a=()=>i(s,e,o),c=()=>{t(s,(()=>{a(),r&&r()}))};n?n(s,a,c):c()}else i(s,e,o)},$=(t,e,i,o=!1,n=!1)=>{const{type:r,props:s,ref:a,children:l,dynamicChildren:c,shapeFlag:u,patchFlag:h,dirs:d}=t;if(null!=a&&je(a,null,i,t,!0),256&u)return void e.ctx.deactivate(t);const p=1&u&&d,f=!Et(t);let g;if(f&&(g=s&&s.onVnodeBeforeUnmount)&&Ni(g,e,t),6&u)Z(t.component,i,o);else{if(128&u)return void t.suspense.unmount(i,o);p&&Kt(t,null,e,"beforeUnmount"),64&u?t.type.remove(t,e,i,n,tt,o):c&&(r!==oi||h>0&&64&h)?q(c,e,i,!1,!0):(r===oi&&384&h||!n&&16&u)&&q(l,e,i),o&&Y(t)}(f&&(g=s&&s.onVnodeUnmounted)||p)&&$e((()=>{g&&Ni(g,e,t),p&&Kt(t,null,e,"unmounted")}),i)},Y=t=>{const{type:e,el:i,anchor:o,transition:n}=t;if(e===oi)return void X(i,o);if(e===si)return void O(t);const s=()=>{r(i),n&&!n.persisted&&n.afterLeave&&n.afterLeave()};if(1&t.shapeFlag&&n&&!n.persisted){const{leave:e,delayLeave:o}=n,r=()=>e(i,s);o?o(t.el,s,r):r()}else s()},X=(t,e)=>{let i;for(;t!==e;)i=g(t),r(t),t=i;r(e)},Z=(t,e,i)=>{const{bum:o,scope:r,update:s,subTree:a,um:l}=t;o&&(0,n.invokeArrayFns)(o),r.stop(),s&&(s.active=!1,$(a,t,e,i)),l&&$e(l,e),$e((()=>{t.isUnmounted=!0}),e),e&&e.pendingBranch&&!e.isUnmounted&&t.asyncDep&&!t.asyncResolved&&t.suspenseId===e.pendingId&&(e.deps--,0===e.deps&&e.resolve())},q=(t,e,i,o=!1,n=!1,r=0)=>{for(let s=r;s<t.length;s++)$(t[s],e,i,o,n)},J=t=>6&t.shapeFlag?J(t.component.subTree):128&t.shapeFlag?t.suspense.next():g(t.anchor||t.el),Q=(t,e,i)=>{null==t?e._vnode&&$(e._vnode,null,null,!0):v(e._vnode||null,t,e,null,null,null,i),S(),w(),e._vnode=t},tt={p:v,um:$,m:H,r:Y,mt:k,mc:M,pc:j,pbc:A,n:J,o:t};let et,it;return e&&([et,it]=e(tt)),{render:Q,hydrate:et,createApp:Ge(Q,et)}}function Xe({effect:t,update:e},i){t.allowRecurse=e.allowRecurse=i}function Ze(t,e,i=!1){const o=t.children,r=e.children;if((0,n.isArray)(o)&&(0,n.isArray)(r))for(let t=0;t<o.length;t++){const e=o[t];let n=r[t];1&n.shapeFlag&&!n.dynamicChildren&&((n.patchFlag<=0||32===n.patchFlag)&&(n=r[t]=Ri(r[t]),n.el=e.el),i||Ze(e,n)),n.type===ni&&(n.el=e.el)}}const qe=t=>t&&(t.disabled||""===t.disabled),Je=t=>"undefined"!=typeof SVGElement&&t instanceof SVGElement,Qe=(t,e)=>{const i=t&&t.to;if((0,n.isString)(i)){if(e){const t=e(i);return t}return null}return i};function ti(t,e,i,{o:{insert:o},m:n},r=2){0===r&&o(t.targetAnchor,e,i);const{el:s,anchor:a,shapeFlag:l,children:c,props:u}=t,h=2===r;if(h&&o(s,e,i),(!h||qe(u))&&16&l)for(let t=0;t<c.length;t++)n(c[t],e,i,2);h&&o(a,e,i)}const ei={__isTeleport:!0,process(t,e,i,o,n,r,s,a,l,c){const{mc:u,pc:h,pbc:d,o:{insert:p,querySelector:f,createText:g,createComment:m}}=c,y=qe(e.props);let{shapeFlag:v,children:_,dynamicChildren:C}=e;if(null==t){const t=e.el=g(""),c=e.anchor=g("");p(t,i,o),p(c,i,o);const h=e.target=Qe(e.props,f),d=e.targetAnchor=g("");h&&(p(d,h),s=s||Je(h));const m=(t,e)=>{16&v&&u(_,t,e,n,r,s,a,l)};y?m(i,c):h&&m(h,d)}else{e.el=t.el;const o=e.anchor=t.anchor,u=e.target=t.target,p=e.targetAnchor=t.targetAnchor,g=qe(t.props),m=g?i:u,v=g?o:p;if(s=s||Je(u),C?(d(t.dynamicChildren,C,m,n,r,s,a),Ze(t,e,!0)):l||h(t,e,m,v,n,r,s,a,!1),y)g||ti(e,i,o,c,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const t=e.target=Qe(e.props,f);t&&ti(e,t,null,c,0)}else g&&ti(e,u,p,c,1)}ii(e)},remove(t,e,i,o,{um:n,o:{remove:r}},s){const{shapeFlag:a,children:l,anchor:c,targetAnchor:u,target:h,props:d}=t;if(h&&r(u),(s||!qe(d))&&(r(c),16&a))for(let t=0;t<l.length;t++){const o=l[t];n(o,e,i,!0,!!o.dynamicChildren)}},move:ti,hydrate:function(t,e,i,o,n,r,{o:{nextSibling:s,parentNode:a,querySelector:l}},c){const u=e.target=Qe(e.props,l);if(u){const l=u._lpa||u.firstChild;if(16&e.shapeFlag)if(qe(e.props))e.anchor=c(s(t),e,a(t),i,o,n,r),e.targetAnchor=l;else{e.anchor=s(t);let a=l;for(;a;)if(a=s(a),a&&8===a.nodeType&&"teleport anchor"===a.data){e.targetAnchor=a,u._lpa=e.targetAnchor&&s(e.targetAnchor);break}c(l,e,u,i,o,n,r)}ii(e)}return e.anchor&&s(e.anchor)}};function ii(t){const e=t.ctx;if(e&&e.ut){let i=t.children[0].el;for(;i!==t.targetAnchor;)1===i.nodeType&&i.setAttribute("data-v-owner",e.uid),i=i.nextSibling;e.ut()}}const oi=Symbol(void 0),ni=Symbol(void 0),ri=Symbol(void 0),si=Symbol(void 0),ai=[];let li=null;function ci(t=!1){ai.push(li=t?null:[])}function ui(){ai.pop(),li=ai[ai.length-1]||null}let hi,di=1;function pi(t){di+=t}function fi(t){return t.dynamicChildren=di>0?li||n.EMPTY_ARR:null,ui(),di>0&&li&&li.push(t),t}function gi(t,e,i,o,n,r){return fi(Si(t,e,i,o,n,r,!0))}function mi(t,e,i,o,n){return fi(wi(t,e,i,o,n,!0))}function yi(t){return!!t&&!0===t.__v_isVNode}function vi(t,e){return t.type===e.type&&t.key===e.key}function _i(t){hi=t}const Ci="__vInternal",bi=({key:t})=>null!=t?t:null,Ei=({ref:t,ref_key:e,ref_for:i})=>null!=t?(0,n.isString)(t)||(0,o.dq)(t)||(0,n.isFunction)(t)?{i:N,r:t,k:e,f:!!i}:t:null;function Si(t,e=null,i=null,o=0,r=null,s=(t===oi?0:1),a=!1,l=!1){const c={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&bi(e),ref:e&&Ei(e),scopeId:k,slotScopeIds:null,children:i,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:o,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:N};return l?(Li(c,i),128&s&&t.normalize(c)):i&&(c.shapeFlag|=(0,n.isString)(i)?8:16),di>0&&!a&&li&&(c.patchFlag>0||6&s)&&32!==c.patchFlag&&li.push(c),c}const wi=Oi;function Oi(t,e=null,i=null,r=0,s=null,a=!1){if(t&&t!==qt||(t=ri),yi(t)){const o=Pi(t,e,!0);return i&&Li(o,i),di>0&&!a&&li&&(6&o.shapeFlag?li[li.indexOf(t)]=o:li.push(o)),o.patchFlag|=-2,o}if(eo(t)&&(t=t.__vccOpts),e){e=xi(e);let{class:t,style:i}=e;t&&!(0,n.isString)(t)&&(e.class=(0,n.normalizeClass)(t)),(0,n.isObject)(i)&&((0,o.X3)(i)&&!(0,n.isArray)(i)&&(i=(0,n.extend)({},i)),e.style=(0,n.normalizeStyle)(i))}return Si(t,e,i,r,s,(0,n.isString)(t)?1:Y(t)?128:(t=>t.__isTeleport)(t)?64:(0,n.isObject)(t)?4:(0,n.isFunction)(t)?2:0,a,!0)}function xi(t){return t?(0,o.X3)(t)||Ci in t?(0,n.extend)({},t):t:null}function Pi(t,e,i=!1){const{props:o,ref:r,patchFlag:s,children:a}=t,l=e?Ii(o||{},e):o;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:l,key:l&&bi(l),ref:e&&e.ref?i&&r?(0,n.isArray)(r)?r.concat(Ei(e)):[r,Ei(e)]:Ei(e):r,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==oi?-1===s?16:16|s:s,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Pi(t.ssContent),ssFallback:t.ssFallback&&Pi(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function Ti(t=" ",e=0){return wi(ni,null,t,e)}function Mi(t,e){const i=wi(si,null,t);return i.staticCount=e,i}function Di(t="",e=!1){return e?(ci(),mi(ri,null,t)):wi(ri,null,t)}function Ai(t){return null==t||"boolean"==typeof t?wi(ri):(0,n.isArray)(t)?wi(oi,null,t.slice()):"object"==typeof t?Ri(t):wi(ni,null,String(t))}function Ri(t){return null===t.el&&-1!==t.patchFlag||t.memo?t:Pi(t)}function Li(t,e){let i=0;const{shapeFlag:o}=t;if(null==e)e=null;else if((0,n.isArray)(e))i=16;else if("object"==typeof e){if(65&o){const i=e.default;return void(i&&(i._c&&(i._d=!1),Li(t,i()),i._c&&(i._d=!0)))}{i=32;const o=e._;o||Ci in e?3===o&&N&&(1===N.slots._?e._=1:(e._=2,t.patchFlag|=1024)):e._ctx=N}}else(0,n.isFunction)(e)?(e={default:e,_ctx:N},i=32):(e=String(e),64&o?(i=16,e=[Ti(e)]):i=8);t.children=e,t.shapeFlag|=i}function Ii(...t){const e={};for(let i=0;i<t.length;i++){const o=t[i];for(const t in o)if("class"===t)e.class!==o.class&&(e.class=(0,n.normalizeClass)([e.class,o.class]));else if("style"===t)e.style=(0,n.normalizeStyle)([e.style,o.style]);else if((0,n.isOn)(t)){const i=e[t],r=o[t];!r||i===r||(0,n.isArray)(i)&&i.includes(r)||(e[t]=i?[].concat(i,r):r)}else""!==t&&(e[t]=o[t])}return e}function Ni(t,e,i,o=null){l(t,e,7,[i,o])}const ki=Fe();let Fi=0;function Bi(t,e,i){const r=t.type,s=(e?e.appContext:t.appContext)||ki,a={uid:Fi++,vnode:t,type:r,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new o.Bj(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Oe(r,s),emitsOptions:L(r,s),emit:null,emitted:null,propsDefaults:n.EMPTY_OBJ,inheritAttrs:r.inheritAttrs,ctx:n.EMPTY_OBJ,data:n.EMPTY_OBJ,props:n.EMPTY_OBJ,attrs:n.EMPTY_OBJ,slots:n.EMPTY_OBJ,refs:n.EMPTY_OBJ,setupState:n.EMPTY_OBJ,setupContext:null,suspense:i,suspenseId:i?i.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=e?e.root:a,a.emit=R.bind(null,a),t.ce&&t.ce(a),a}let Gi=null;const ji=()=>Gi||N,Vi=t=>{Gi=t,t.scope.on()},Ui=()=>{Gi&&Gi.scope.off(),Gi=null};function Wi(t){return 4&t.vnode.shapeFlag}let Hi,$i,zi=!1;function Ki(t,e=!1){zi=e;const{props:i,children:r}=t.vnode,s=Wi(t);!function(t,e,i,r=!1){const s={},a={};(0,n.def)(a,Ci,1),t.propsDefaults=Object.create(null),Se(t,e,s,a);for(const e in t.propsOptions[0])e in s||(s[e]=void 0);i?t.props=r?s:(0,o.Um)(s):t.type.props?t.props=s:t.props=a,t.attrs=a}(t,i,s,e),Ne(t,r);const l=s?function(t,e){const i=t.type;0;t.accessCache=Object.create(null),t.proxy=(0,o.Xl)(new Proxy(t.ctx,ue)),!1;const{setup:r}=i;if(r){const i=t.setupContext=r.length>1?Ji(t):null;Vi(t),(0,o.Jd)();const s=a(r,t,0,[t.props,i]);if((0,o.lk)(),Ui(),(0,n.isPromise)(s)){if(s.then(Ui,Ui),e)return s.then((i=>{Yi(t,i,e)})).catch((e=>{c(e,t,0)}));t.asyncDep=s}else Yi(t,s,e)}else qi(t,e)}(t,e):void 0;return zi=!1,l}function Yi(t,e,i){(0,n.isFunction)(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:(0,n.isObject)(e)&&(t.setupState=(0,o.WL)(e)),qi(t,i)}function Xi(t){Hi=t,$i=t=>{t.render._rc&&(t.withProxy=new Proxy(t.ctx,he))}}const Zi=()=>!Hi;function qi(t,e,i){const r=t.type;if(!t.render){if(!e&&Hi&&!r.render){const e=r.template||me(t).template;if(e){0;const{isCustomElement:i,compilerOptions:o}=t.appContext.config,{delimiters:s,compilerOptions:a}=r,l=(0,n.extend)((0,n.extend)({isCustomElement:i,delimiters:s},o),a);r.render=Hi(e,l)}}t.render=r.render||n.NOOP,$i&&$i(t)}Vi(t),(0,o.Jd)(),pe(t),(0,o.lk)(),Ui()}function Ji(t){const e=e=>{t.exposed=e||{}};let i;return{get attrs(){return i||(i=function(t){return new Proxy(t.attrs,{get:(e,i)=>((0,o.j)(t,"get","$attrs"),e[i])})}(t))},slots:t.slots,emit:t.emit,expose:e}}function Qi(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy((0,o.WL)((0,o.Xl)(t.exposed)),{get:(e,i)=>i in e?e[i]:i in le?le[i](t):void 0,has:(t,e)=>e in t||e in le}))}function to(t,e=!0){return(0,n.isFunction)(t)?t.displayName||t.name:t.name||e&&t.__name}function eo(t){return(0,n.isFunction)(t)&&"__vccOpts"in t}const io=(t,e)=>(0,o.Fl)(t,e,zi);function oo(){return null}function no(){return null}function ro(t){0}function so(t,e){return null}function ao(){return co().slots}function lo(){return co().attrs}function co(){const t=ji();return t.setupContext||(t.setupContext=Ji(t))}function uo(t,e){const i=(0,n.isArray)(t)?t.reduce(((t,e)=>(t[e]={},t)),{}):t;for(const t in e){const o=i[t];o?(0,n.isArray)(o)||(0,n.isFunction)(o)?i[t]={type:o,default:e[t]}:o.default=e[t]:null===o&&(i[t]={default:e[t]})}return i}function ho(t,e){const i={};for(const o in t)e.includes(o)||Object.defineProperty(i,o,{enumerable:!0,get:()=>t[o]});return i}function po(t){const e=ji();let i=t();return Ui(),(0,n.isPromise)(i)&&(i=i.catch((t=>{throw Vi(e),t}))),[i,()=>Vi(e)]}function fo(t,e,i){const o=arguments.length;return 2===o?(0,n.isObject)(e)&&!(0,n.isArray)(e)?yi(e)?wi(t,null,[e]):wi(t,e):wi(t,null,e):(o>3?i=Array.prototype.slice.call(arguments,2):3===o&&yi(i)&&(i=[i]),wi(t,e,i))}const go=Symbol(""),mo=()=>{{const t=it(go);return t}};function yo(){return void 0}function vo(t,e,i,o){const n=i[o];if(n&&_o(n,t))return n;const r=e();return r.memo=t.slice(),i[o]=r}function _o(t,e){const i=t.memo;if(i.length!=e.length)return!1;for(let t=0;t<i.length;t++)if((0,n.hasChanged)(i[t],e[t]))return!1;return di>0&&li&&li.push(t),!0}const Co="3.2.47",bo={createComponentInstance:Bi,setupComponent:Ki,renderComponentRoot:U,setCurrentRenderingInstance:F,isVNode:yi,normalizeVNode:Ai},Eo=null,So=null},9963:(t,e,i)=>{"use strict";i.r(e),i.d(e,{BaseTransition:()=>n.P$,Comment:()=>n.sv,EffectScope:()=>n.Bj,Fragment:()=>n.HY,KeepAlive:()=>n.Ob,ReactiveEffect:()=>n.qq,Static:()=>n.qG,Suspense:()=>n.n4,Teleport:()=>n.lR,Text:()=>n.xv,Transition:()=>A,TransitionGroup:()=>Z,VueElement:()=>w,assertNumber:()=>n.Wu,callWithAsyncErrorHandling:()=>n.$d,callWithErrorHandling:()=>n.KU,camelize:()=>n._A,capitalize:()=>n.kC,cloneVNode:()=>n.Ho,compatUtils:()=>n.ry,computed:()=>n.Fl,createApp:()=>Tt,createBlock:()=>n.j4,createCommentVNode:()=>n.kq,createElementBlock:()=>n.iD,createElementVNode:()=>n._,createHydrationRenderer:()=>n.Eo,createPropsRestProxy:()=>n.p1,createRenderer:()=>n.Us,createSSRApp:()=>Mt,createSlots:()=>n.Nv,createStaticVNode:()=>n.uE,createTextVNode:()=>n.Uk,createVNode:()=>n.Wm,customRef:()=>n.ZM,defineAsyncComponent:()=>n.RC,defineComponent:()=>n.aZ,defineCustomElement:()=>b,defineEmits:()=>n.Bz,defineExpose:()=>n.WY,defineProps:()=>n.MW,defineSSRCustomElement:()=>E,devtools:()=>n.mW,effect:()=>n.cE,effectScope:()=>n.B,getCurrentInstance:()=>n.FN,getCurrentScope:()=>n.nZ,getTransitionRawChildren:()=>n.Q6,guardReactiveProps:()=>n.F4,h:()=>n.h,handleError:()=>n.S3,hydrate:()=>Pt,initCustomFormatter:()=>n.Mr,initDirectivesForSSR:()=>Rt,inject:()=>n.f3,isMemoSame:()=>n.nQ,isProxy:()=>n.X3,isReactive:()=>n.PG,isReadonly:()=>n.$y,isRef:()=>n.dq,isRuntimeOnly:()=>n.of,isShallow:()=>n.yT,isVNode:()=>n.lA,markRaw:()=>n.Xl,mergeDefaults:()=>n.u_,mergeProps:()=>n.dG,nextTick:()=>n.Y3,normalizeClass:()=>n.C_,normalizeProps:()=>n.vs,normalizeStyle:()=>n.j5,onActivated:()=>n.dl,onBeforeMount:()=>n.wF,onBeforeUnmount:()=>n.Jd,onBeforeUpdate:()=>n.Xn,onDeactivated:()=>n.se,onErrorCaptured:()=>n.d1,onMounted:()=>n.bv,onRenderTracked:()=>n.bT,onRenderTriggered:()=>n.Yq,onScopeDispose:()=>n.EB,onServerPrefetch:()=>n.vl,onUnmounted:()=>n.Ah,onUpdated:()=>n.ic,openBlock:()=>n.wg,popScopeId:()=>n.Cn,provide:()=>n.JJ,proxyRefs:()=>n.WL,pushScopeId:()=>n.dD,queuePostFlushCb:()=>n.qb,reactive:()=>n.qj,readonly:()=>n.OT,ref:()=>n.iH,registerRuntimeCompiler:()=>n.Y1,render:()=>xt,renderList:()=>n.Ko,renderSlot:()=>n.WI,resolveComponent:()=>n.up,resolveDirective:()=>n.Q2,resolveDynamicComponent:()=>n.LL,resolveFilter:()=>n.eq,resolveTransitionHooks:()=>n.U2,setBlockTracking:()=>n.qZ,setDevtoolsHook:()=>n.ec,setTransitionHooks:()=>n.nK,shallowReactive:()=>n.Um,shallowReadonly:()=>n.YS,shallowRef:()=>n.XI,ssrContextKey:()=>n.Uc,ssrUtils:()=>n.G,stop:()=>n.sT,toDisplayString:()=>n.zw,toHandlerKey:()=>n.hR,toHandlers:()=>n.mx,toRaw:()=>n.IU,toRef:()=>n.Vh,toRefs:()=>n.BK,transformVNodeArgs:()=>n.C3,triggerRef:()=>n.oR,unref:()=>n.SU,useAttrs:()=>n.l1,useCssModule:()=>O,useCssVars:()=>x,useSSRContext:()=>n.Zq,useSlots:()=>n.Rr,useTransitionState:()=>n.Y8,vModelCheckbox:()=>nt,vModelDynamic:()=>ht,vModelRadio:()=>st,vModelSelect:()=>at,vModelText:()=>ot,vShow:()=>_t,version:()=>n.i8,warn:()=>n.ZK,watch:()=>n.YP,watchEffect:()=>n.m0,watchPostEffect:()=>n.Rh,watchSyncEffect:()=>n.yX,withAsyncContext:()=>n.mv,withCtx:()=>n.w5,withDefaults:()=>n.b9,withDirectives:()=>n.wy,withKeys:()=>vt,withMemo:()=>n.MX,withModifiers:()=>mt,withScopeId:()=>n.HX});var o=i(3577),n=i(6252),r=i(2262);const s="undefined"!=typeof document?document:null,a=s&&s.createElement("template"),l={insert:(t,e,i)=>{e.insertBefore(t,i||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,i,o)=>{const n=e?s.createElementNS("http://www.w3.org/2000/svg",t):s.createElement(t,i?{is:i}:void 0);return"select"===t&&o&&null!=o.multiple&&n.setAttribute("multiple",o.multiple),n},createText:t=>s.createTextNode(t),createComment:t=>s.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>s.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,i,o,n,r){const s=i?i.previousSibling:e.lastChild;if(n&&(n===r||n.nextSibling))for(;e.insertBefore(n.cloneNode(!0),i),n!==r&&(n=n.nextSibling););else{a.innerHTML=o?`<svg>${t}</svg>`:t;const n=a.content;if(o){const t=n.firstChild;for(;t.firstChild;)n.appendChild(t.firstChild);n.removeChild(t)}e.insertBefore(n,i)}return[s?s.nextSibling:e.firstChild,i?i.previousSibling:e.lastChild]}};const c=/\s*!important$/;function u(t,e,i){if((0,o.isArray)(i))i.forEach((i=>u(t,e,i)));else if(null==i&&(i=""),e.startsWith("--"))t.setProperty(e,i);else{const n=function(t,e){const i=d[e];if(i)return i;let n=(0,o.camelize)(e);if("filter"!==n&&n in t)return d[e]=n;n=(0,o.capitalize)(n);for(let i=0;i<h.length;i++){const o=h[i]+n;if(o in t)return d[e]=o}return e}(t,e);c.test(i)?t.setProperty((0,o.hyphenate)(n),i.replace(c,""),"important"):t[n]=i}}const h=["Webkit","Moz","ms"],d={};const p="http://www.w3.org/1999/xlink";function f(t,e,i,o){t.addEventListener(e,i,o)}function g(t,e,i,r,s=null){const a=t._vei||(t._vei={}),l=a[e];if(r&&l)l.value=r;else{const[i,c]=function(t){let e;if(m.test(t)){let i;for(e={};i=t.match(m);)t=t.slice(0,t.length-i[0].length),e[i[0].toLowerCase()]=!0}const i=":"===t[2]?t.slice(3):(0,o.hyphenate)(t.slice(2));return[i,e]}(e);if(r){const l=a[e]=function(t,e){const i=t=>{if(t._vts){if(t._vts<=i.attached)return}else t._vts=Date.now();(0,n.$d)(function(t,e){if((0,o.isArray)(e)){const i=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{i.call(t),t._stopped=!0},e.map((t=>e=>!e._stopped&&t&&t(e)))}return e}(t,i.value),e,5,[t])};return i.value=t,i.attached=_(),i}(r,s);f(t,i,l,c)}else l&&(!function(t,e,i,o){t.removeEventListener(e,i,o)}(t,i,l,c),a[e]=void 0)}}const m=/(?:Once|Passive|Capture)$/;let y=0;const v=Promise.resolve(),_=()=>y||(v.then((()=>y=0)),y=Date.now());const C=/^on[a-z]/;function b(t,e){const i=(0,n.aZ)(t);class o extends w{constructor(t){super(i,t,e)}}return o.def=i,o}const E=t=>b(t,Pt),S="undefined"!=typeof HTMLElement?HTMLElement:class{};class w extends S{constructor(t,e={},i){super(),this._def=t,this._props=e,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&i?i(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,(0,n.Y3)((()=>{this._connected||(xt(null,this.shadowRoot),this._instance=null)}))}_resolveDef(){this._resolved=!0;for(let t=0;t<this.attributes.length;t++)this._setAttr(this.attributes[t].name);new MutationObserver((t=>{for(const e of t)this._setAttr(e.attributeName)})).observe(this,{attributes:!0});const t=(t,e=!1)=>{const{props:i,styles:n}=t;let r;if(i&&!(0,o.isArray)(i))for(const t in i){const e=i[t];(e===Number||e&&e.type===Number)&&(t in this._props&&(this._props[t]=(0,o.toNumber)(this._props[t])),(r||(r=Object.create(null)))[(0,o.camelize)(t)]=!0)}this._numberProps=r,e&&this._resolveProps(t),this._applyStyles(n),this._update()},e=this._def.__asyncLoader;e?e().then((e=>t(e,!0))):t(this._def)}_resolveProps(t){const{props:e}=t,i=(0,o.isArray)(e)?e:Object.keys(e||{});for(const t of Object.keys(this))"_"!==t[0]&&i.includes(t)&&this._setProp(t,this[t],!0,!1);for(const t of i.map(o.camelize))Object.defineProperty(this,t,{get(){return this._getProp(t)},set(e){this._setProp(t,e)}})}_setAttr(t){let e=this.getAttribute(t);const i=(0,o.camelize)(t);this._numberProps&&this._numberProps[i]&&(e=(0,o.toNumber)(e)),this._setProp(i,e,!1)}_getProp(t){return this._props[t]}_setProp(t,e,i=!0,n=!0){e!==this._props[t]&&(this._props[t]=e,n&&this._instance&&this._update(),i&&(!0===e?this.setAttribute((0,o.hyphenate)(t),""):"string"==typeof e||"number"==typeof e?this.setAttribute((0,o.hyphenate)(t),e+""):e||this.removeAttribute((0,o.hyphenate)(t))))}_update(){xt(this._createVNode(),this.shadowRoot)}_createVNode(){const t=(0,n.Wm)(this._def,(0,o.extend)({},this._props));return this._instance||(t.ce=t=>{this._instance=t,t.isCE=!0;const e=(t,e)=>{this.dispatchEvent(new CustomEvent(t,{detail:e}))};t.emit=(t,...i)=>{e(t,i),(0,o.hyphenate)(t)!==t&&e((0,o.hyphenate)(t),i)};let i=this;for(;i=i&&(i.parentNode||i.host);)if(i instanceof w){t.parent=i._instance,t.provides=i._instance.provides;break}}),t}_applyStyles(t){t&&t.forEach((t=>{const e=document.createElement("style");e.textContent=t,this.shadowRoot.appendChild(e)}))}}function O(t="$style"){{const e=(0,n.FN)();if(!e)return o.EMPTY_OBJ;const i=e.type.__cssModules;if(!i)return o.EMPTY_OBJ;const r=i[t];return r||o.EMPTY_OBJ}}function x(t){const e=(0,n.FN)();if(!e)return;const i=e.ut=(i=t(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach((t=>T(t,i)))},o=()=>{const o=t(e.proxy);P(e.subTree,o),i(o)};(0,n.Rh)(o),(0,n.bv)((()=>{const t=new MutationObserver(o);t.observe(e.subTree.el.parentNode,{childList:!0}),(0,n.Ah)((()=>t.disconnect()))}))}function P(t,e){if(128&t.shapeFlag){const i=t.suspense;t=i.activeBranch,i.pendingBranch&&!i.isHydrating&&i.effects.push((()=>{P(i.activeBranch,e)}))}for(;t.component;)t=t.component.subTree;if(1&t.shapeFlag&&t.el)T(t.el,e);else if(t.type===n.HY)t.children.forEach((t=>P(t,e)));else if(t.type===n.qG){let{el:i,anchor:o}=t;for(;i&&(T(i,e),i!==o);)i=i.nextSibling}}function T(t,e){if(1===t.nodeType){const i=t.style;for(const t in e)i.setProperty(`--${t}`,e[t])}}const M="transition",D="animation",A=(t,{slots:e})=>(0,n.h)(n.P$,k(t),e);A.displayName="Transition";const R={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},L=A.props=(0,o.extend)({},n.P$.props,R),I=(t,e=[])=>{(0,o.isArray)(t)?t.forEach((t=>t(...e))):t&&t(...e)},N=t=>!!t&&((0,o.isArray)(t)?t.some((t=>t.length>1)):t.length>1);function k(t){const e={};for(const i in t)i in R||(e[i]=t[i]);if(!1===t.css)return e;const{name:i="v",type:n,duration:r,enterFromClass:s=`${i}-enter-from`,enterActiveClass:a=`${i}-enter-active`,enterToClass:l=`${i}-enter-to`,appearFromClass:c=s,appearActiveClass:u=a,appearToClass:h=l,leaveFromClass:d=`${i}-leave-from`,leaveActiveClass:p=`${i}-leave-active`,leaveToClass:f=`${i}-leave-to`}=t,g=function(t){if(null==t)return null;if((0,o.isObject)(t))return[F(t.enter),F(t.leave)];{const e=F(t);return[e,e]}}(r),m=g&&g[0],y=g&&g[1],{onBeforeEnter:v,onEnter:_,onEnterCancelled:C,onLeave:b,onLeaveCancelled:E,onBeforeAppear:S=v,onAppear:w=_,onAppearCancelled:O=C}=e,x=(t,e,i)=>{G(t,e?h:l),G(t,e?u:a),i&&i()},P=(t,e)=>{t._isLeaving=!1,G(t,d),G(t,f),G(t,p),e&&e()},T=t=>(e,i)=>{const o=t?w:_,r=()=>x(e,t,i);I(o,[e,r]),j((()=>{G(e,t?c:s),B(e,t?h:l),N(o)||U(e,n,m,r)}))};return(0,o.extend)(e,{onBeforeEnter(t){I(v,[t]),B(t,s),B(t,a)},onBeforeAppear(t){I(S,[t]),B(t,c),B(t,u)},onEnter:T(!1),onAppear:T(!0),onLeave(t,e){t._isLeaving=!0;const i=()=>P(t,e);B(t,d),z(),B(t,p),j((()=>{t._isLeaving&&(G(t,d),B(t,f),N(b)||U(t,n,y,i))})),I(b,[t,i])},onEnterCancelled(t){x(t,!1),I(C,[t])},onAppearCancelled(t){x(t,!0),I(O,[t])},onLeaveCancelled(t){P(t),I(E,[t])}})}function F(t){return(0,o.toNumber)(t)}function B(t,e){e.split(/\s+/).forEach((e=>e&&t.classList.add(e))),(t._vtc||(t._vtc=new Set)).add(e)}function G(t,e){e.split(/\s+/).forEach((e=>e&&t.classList.remove(e)));const{_vtc:i}=t;i&&(i.delete(e),i.size||(t._vtc=void 0))}function j(t){requestAnimationFrame((()=>{requestAnimationFrame(t)}))}let V=0;function U(t,e,i,o){const n=t._endId=++V,r=()=>{n===t._endId&&o()};if(i)return setTimeout(r,i);const{type:s,timeout:a,propCount:l}=W(t,e);if(!s)return o();const c=s+"end";let u=0;const h=()=>{t.removeEventListener(c,d),r()},d=e=>{e.target===t&&++u>=l&&h()};setTimeout((()=>{u<l&&h()}),a+1),t.addEventListener(c,d)}function W(t,e){const i=window.getComputedStyle(t),o=t=>(i[t]||"").split(", "),n=o(`${M}Delay`),r=o(`${M}Duration`),s=H(n,r),a=o(`${D}Delay`),l=o(`${D}Duration`),c=H(a,l);let u=null,h=0,d=0;e===M?s>0&&(u=M,h=s,d=r.length):e===D?c>0&&(u=D,h=c,d=l.length):(h=Math.max(s,c),u=h>0?s>c?M:D:null,d=u?u===M?r.length:l.length:0);return{type:u,timeout:h,propCount:d,hasTransform:u===M&&/\b(transform|all)(,|$)/.test(o(`${M}Property`).toString())}}function H(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map(((e,i)=>$(e)+$(t[i]))))}function $(t){return 1e3*Number(t.slice(0,-1).replace(",","."))}function z(){return document.body.offsetHeight}const K=new WeakMap,Y=new WeakMap,X={name:"TransitionGroup",props:(0,o.extend)({},L,{tag:String,moveClass:String}),setup(t,{slots:e}){const i=(0,n.FN)(),o=(0,n.Y8)();let s,a;return(0,n.ic)((()=>{if(!s.length)return;const e=t.moveClass||`${t.name||"v"}-move`;if(!function(t,e,i){const o=t.cloneNode();t._vtc&&t._vtc.forEach((t=>{t.split(/\s+/).forEach((t=>t&&o.classList.remove(t)))}));i.split(/\s+/).forEach((t=>t&&o.classList.add(t))),o.style.display="none";const n=1===e.nodeType?e:e.parentNode;n.appendChild(o);const{hasTransform:r}=W(o);return n.removeChild(o),r}(s[0].el,i.vnode.el,e))return;s.forEach(q),s.forEach(J);const o=s.filter(Q);z(),o.forEach((t=>{const i=t.el,o=i.style;B(i,e),o.transform=o.webkitTransform=o.transitionDuration="";const n=i._moveCb=t=>{t&&t.target!==i||t&&!/transform$/.test(t.propertyName)||(i.removeEventListener("transitionend",n),i._moveCb=null,G(i,e))};i.addEventListener("transitionend",n)}))})),()=>{const l=(0,r.IU)(t),c=k(l);let u=l.tag||n.HY;s=a,a=e.default?(0,n.Q6)(e.default()):[];for(let t=0;t<a.length;t++){const e=a[t];null!=e.key&&(0,n.nK)(e,(0,n.U2)(e,c,o,i))}if(s)for(let t=0;t<s.length;t++){const e=s[t];(0,n.nK)(e,(0,n.U2)(e,c,o,i)),K.set(e,e.el.getBoundingClientRect())}return(0,n.Wm)(u,null,a)}}},Z=X;function q(t){const e=t.el;e._moveCb&&e._moveCb(),e._enterCb&&e._enterCb()}function J(t){Y.set(t,t.el.getBoundingClientRect())}function Q(t){const e=K.get(t),i=Y.get(t),o=e.left-i.left,n=e.top-i.top;if(o||n){const e=t.el.style;return e.transform=e.webkitTransform=`translate(${o}px,${n}px)`,e.transitionDuration="0s",t}}const tt=t=>{const e=t.props["onUpdate:modelValue"]||!1;return(0,o.isArray)(e)?t=>(0,o.invokeArrayFns)(e,t):e};function et(t){t.target.composing=!0}function it(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const ot={created(t,{modifiers:{lazy:e,trim:i,number:n}},r){t._assign=tt(r);const s=n||r.props&&"number"===r.props.type;f(t,e?"change":"input",(e=>{if(e.target.composing)return;let n=t.value;i&&(n=n.trim()),s&&(n=(0,o.looseToNumber)(n)),t._assign(n)})),i&&f(t,"change",(()=>{t.value=t.value.trim()})),e||(f(t,"compositionstart",et),f(t,"compositionend",it),f(t,"change",it))},mounted(t,{value:e}){t.value=null==e?"":e},beforeUpdate(t,{value:e,modifiers:{lazy:i,trim:n,number:r}},s){if(t._assign=tt(s),t.composing)return;if(document.activeElement===t&&"range"!==t.type){if(i)return;if(n&&t.value.trim()===e)return;if((r||"number"===t.type)&&(0,o.looseToNumber)(t.value)===e)return}const a=null==e?"":e;t.value!==a&&(t.value=a)}},nt={deep:!0,created(t,e,i){t._assign=tt(i),f(t,"change",(()=>{const e=t._modelValue,i=ct(t),n=t.checked,r=t._assign;if((0,o.isArray)(e)){const t=(0,o.looseIndexOf)(e,i),s=-1!==t;if(n&&!s)r(e.concat(i));else if(!n&&s){const i=[...e];i.splice(t,1),r(i)}}else if((0,o.isSet)(e)){const t=new Set(e);n?t.add(i):t.delete(i),r(t)}else r(ut(t,n))}))},mounted:rt,beforeUpdate(t,e,i){t._assign=tt(i),rt(t,e,i)}};function rt(t,{value:e,oldValue:i},n){t._modelValue=e,(0,o.isArray)(e)?t.checked=(0,o.looseIndexOf)(e,n.props.value)>-1:(0,o.isSet)(e)?t.checked=e.has(n.props.value):e!==i&&(t.checked=(0,o.looseEqual)(e,ut(t,!0)))}const st={created(t,{value:e},i){t.checked=(0,o.looseEqual)(e,i.props.value),t._assign=tt(i),f(t,"change",(()=>{t._assign(ct(t))}))},beforeUpdate(t,{value:e,oldValue:i},n){t._assign=tt(n),e!==i&&(t.checked=(0,o.looseEqual)(e,n.props.value))}},at={deep:!0,created(t,{value:e,modifiers:{number:i}},n){const r=(0,o.isSet)(e);f(t,"change",(()=>{const e=Array.prototype.filter.call(t.options,(t=>t.selected)).map((t=>i?(0,o.looseToNumber)(ct(t)):ct(t)));t._assign(t.multiple?r?new Set(e):e:e[0])})),t._assign=tt(n)},mounted(t,{value:e}){lt(t,e)},beforeUpdate(t,e,i){t._assign=tt(i)},updated(t,{value:e}){lt(t,e)}};function lt(t,e){const i=t.multiple;if(!i||(0,o.isArray)(e)||(0,o.isSet)(e)){for(let n=0,r=t.options.length;n<r;n++){const r=t.options[n],s=ct(r);if(i)(0,o.isArray)(e)?r.selected=(0,o.looseIndexOf)(e,s)>-1:r.selected=e.has(s);else if((0,o.looseEqual)(ct(r),e))return void(t.selectedIndex!==n&&(t.selectedIndex=n))}i||-1===t.selectedIndex||(t.selectedIndex=-1)}}function ct(t){return"_value"in t?t._value:t.value}function ut(t,e){const i=e?"_trueValue":"_falseValue";return i in t?t[i]:e}const ht={created(t,e,i){pt(t,e,i,null,"created")},mounted(t,e,i){pt(t,e,i,null,"mounted")},beforeUpdate(t,e,i,o){pt(t,e,i,o,"beforeUpdate")},updated(t,e,i,o){pt(t,e,i,o,"updated")}};function dt(t,e){switch(t){case"SELECT":return at;case"TEXTAREA":return ot;default:switch(e){case"checkbox":return nt;case"radio":return st;default:return ot}}}function pt(t,e,i,o,n){const r=dt(t.tagName,i.props&&i.props.type)[n];r&&r(t,e,i,o)}const ft=["ctrl","shift","alt","meta"],gt={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&0!==t.button,middle:t=>"button"in t&&1!==t.button,right:t=>"button"in t&&2!==t.button,exact:(t,e)=>ft.some((i=>t[`${i}Key`]&&!e.includes(i)))},mt=(t,e)=>(i,...o)=>{for(let t=0;t<e.length;t++){const o=gt[e[t]];if(o&&o(i,e))return}return t(i,...o)},yt={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},vt=(t,e)=>i=>{if(!("key"in i))return;const n=(0,o.hyphenate)(i.key);return e.some((t=>t===n||yt[t]===n))?t(i):void 0},_t={beforeMount(t,{value:e},{transition:i}){t._vod="none"===t.style.display?"":t.style.display,i&&e?i.beforeEnter(t):Ct(t,e)},mounted(t,{value:e},{transition:i}){i&&e&&i.enter(t)},updated(t,{value:e,oldValue:i},{transition:o}){!e!=!i&&(o?e?(o.beforeEnter(t),Ct(t,!0),o.enter(t)):o.leave(t,(()=>{Ct(t,!1)})):Ct(t,e))},beforeUnmount(t,{value:e}){Ct(t,e)}};function Ct(t,e){t.style.display=e?t._vod:"none"}const bt=(0,o.extend)({patchProp:(t,e,i,n,r=!1,s,a,l,c)=>{"class"===e?function(t,e,i){const o=t._vtc;o&&(e=(e?[e,...o]:[...o]).join(" ")),null==e?t.removeAttribute("class"):i?t.setAttribute("class",e):t.className=e}(t,n,r):"style"===e?function(t,e,i){const n=t.style,r=(0,o.isString)(i);if(i&&!r){if(e&&!(0,o.isString)(e))for(const t in e)null==i[t]&&u(n,t,"");for(const t in i)u(n,t,i[t])}else{const o=n.display;r?e!==i&&(n.cssText=i):e&&t.removeAttribute("style"),"_vod"in t&&(n.display=o)}}(t,i,n):(0,o.isOn)(e)?(0,o.isModelListener)(e)||g(t,e,0,n,a):("."===e[0]?(e=e.slice(1),1):"^"===e[0]?(e=e.slice(1),0):function(t,e,i,n){if(n)return"innerHTML"===e||"textContent"===e||!!(e in t&&C.test(e)&&(0,o.isFunction)(i));if("spellcheck"===e||"draggable"===e||"translate"===e)return!1;if("form"===e)return!1;if("list"===e&&"INPUT"===t.tagName)return!1;if("type"===e&&"TEXTAREA"===t.tagName)return!1;if(C.test(e)&&(0,o.isString)(i))return!1;return e in t}(t,e,n,r))?function(t,e,i,n,r,s,a){if("innerHTML"===e||"textContent"===e)return n&&a(n,r,s),void(t[e]=null==i?"":i);if("value"===e&&"PROGRESS"!==t.tagName&&!t.tagName.includes("-")){t._value=i;const o=null==i?"":i;return t.value===o&&"OPTION"!==t.tagName||(t.value=o),void(null==i&&t.removeAttribute(e))}let l=!1;if(""===i||null==i){const n=typeof t[e];"boolean"===n?i=(0,o.includeBooleanAttr)(i):null==i&&"string"===n?(i="",l=!0):"number"===n&&(i=0,l=!0)}try{t[e]=i}catch(t){}l&&t.removeAttribute(e)}(t,e,n,s,a,l,c):("true-value"===e?t._trueValue=n:"false-value"===e&&(t._falseValue=n),function(t,e,i,n,r){if(n&&e.startsWith("xlink:"))null==i?t.removeAttributeNS(p,e.slice(6,e.length)):t.setAttributeNS(p,e,i);else{const n=(0,o.isSpecialBooleanAttr)(e);null==i||n&&!(0,o.includeBooleanAttr)(i)?t.removeAttribute(e):t.setAttribute(e,n?"":i)}}(t,e,n,r))}},l);let Et,St=!1;function wt(){return Et||(Et=(0,n.Us)(bt))}function Ot(){return Et=St?Et:(0,n.Eo)(bt),St=!0,Et}const xt=(...t)=>{wt().render(...t)},Pt=(...t)=>{Ot().hydrate(...t)},Tt=(...t)=>{const e=wt().createApp(...t);const{mount:i}=e;return e.mount=t=>{const n=Dt(t);if(!n)return;const r=e._component;(0,o.isFunction)(r)||r.render||r.template||(r.template=n.innerHTML),n.innerHTML="";const s=i(n,!1,n instanceof SVGElement);return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),s},e},Mt=(...t)=>{const e=Ot().createApp(...t);const{mount:i}=e;return e.mount=t=>{const e=Dt(t);if(e)return i(e,!0,e instanceof SVGElement)},e};function Dt(t){if((0,o.isString)(t)){return document.querySelector(t)}return t}let At=!1;const Rt=()=>{At||(At=!0,ot.getSSRProps=({value:t})=>({value:t}),st.getSSRProps=({value:t},e)=>{if(e.props&&(0,o.looseEqual)(e.props.value,t))return{checked:!0}},nt.getSSRProps=({value:t},e)=>{if((0,o.isArray)(t)){if(e.props&&(0,o.looseIndexOf)(t,e.props.value)>-1)return{checked:!0}}else if((0,o.isSet)(t)){if(e.props&&t.has(e.props.value))return{checked:!0}}else if(t)return{checked:!0}},ht.getSSRProps=(t,e)=>{if("string"!=typeof e.type)return;const i=dt(e.type.toUpperCase(),e.props&&e.props.type);return i.getSSRProps?i.getSSRProps(t,e):void 0},_t.getSSRProps=({value:t})=>{if(!t)return{style:{display:"none"}}})}},3577:(t,e,i)=>{"use strict";function o(t,e){const i=Object.create(null),o=t.split(",");for(let t=0;t<o.length;t++)i[o[t]]=!0;return e?t=>!!i[t.toLowerCase()]:t=>!!i[t]}i.r(e),i.d(e,{EMPTY_ARR:()=>G,EMPTY_OBJ:()=>B,NO:()=>V,NOOP:()=>j,PatchFlagNames:()=>n,camelize:()=>ft,capitalize:()=>yt,def:()=>bt,escapeHtml:()=>A,escapeHtmlComment:()=>L,extend:()=>$,genPropsAccessExp:()=>Pt,generateCodeFrame:()=>l,getGlobalThis:()=>Ot,hasChanged:()=>_t,hasOwn:()=>Y,hyphenate:()=>mt,includeBooleanAttr:()=>S,invokeArrayFns:()=>Ct,isArray:()=>X,isBooleanAttr:()=>E,isBuiltInDirective:()=>ht,isDate:()=>J,isFunction:()=>tt,isGloballyWhitelisted:()=>s,isHTMLTag:()=>y,isIntegerKey:()=>ct,isKnownHtmlAttr:()=>T,isKnownSvgAttr:()=>M,isMap:()=>Z,isModelListener:()=>H,isObject:()=>ot,isOn:()=>W,isPlainObject:()=>lt,isPromise:()=>nt,isRegExp:()=>Q,isReservedProp:()=>ut,isSSRSafeAttrName:()=>x,isSVGTag:()=>v,isSet:()=>q,isSpecialBooleanAttr:()=>b,isString:()=>et,isSymbol:()=>it,isVoidTag:()=>_,looseEqual:()=>I,looseIndexOf:()=>N,looseToNumber:()=>Et,makeMap:()=>o,normalizeClass:()=>g,normalizeProps:()=>m,normalizeStyle:()=>c,objectToString:()=>rt,parseStringStyle:()=>p,propsToAttrMap:()=>P,remove:()=>z,slotFlagsText:()=>r,stringifyStyle:()=>f,toDisplayString:()=>k,toHandlerKey:()=>vt,toNumber:()=>St,toRawType:()=>at,toTypeString:()=>st});const n={1:"TEXT",2:"CLASS",4:"STYLE",8:"PROPS",16:"FULL_PROPS",32:"HYDRATE_EVENTS",64:"STABLE_FRAGMENT",128:"KEYED_FRAGMENT",256:"UNKEYED_FRAGMENT",512:"NEED_PATCH",1024:"DYNAMIC_SLOTS",2048:"DEV_ROOT_FRAGMENT",[-1]:"HOISTED",[-2]:"BAIL"},r={1:"STABLE",2:"DYNAMIC",3:"FORWARDED"},s=o("Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt"),a=2;function l(t,e=0,i=t.length){let o=t.split(/(\r?\n)/);const n=o.filter(((t,e)=>e%2==1));o=o.filter(((t,e)=>e%2==0));let r=0;const s=[];for(let t=0;t<o.length;t++)if(r+=o[t].length+(n[t]&&n[t].length||0),r>=e){for(let l=t-a;l<=t+a||i>r;l++){if(l<0||l>=o.length)continue;const a=l+1;s.push(`${a}${" ".repeat(Math.max(3-String(a).length,0))}|  ${o[l]}`);const c=o[l].length,u=n[l]&&n[l].length||0;if(l===t){const t=e-(r-(c+u)),o=Math.max(1,i>r?c-t:i-e);s.push("   |  "+" ".repeat(t)+"^".repeat(o))}else if(l>t){if(i>r){const t=Math.max(Math.min(i-r,c),1);s.push("   |  "+"^".repeat(t))}r+=c+u}}break}return s.join("\n")}function c(t){if(X(t)){const e={};for(let i=0;i<t.length;i++){const o=t[i],n=et(o)?p(o):c(o);if(n)for(const t in n)e[t]=n[t]}return e}return et(t)||ot(t)?t:void 0}const u=/;(?![^(]*\))/g,h=/:([^]+)/,d=/\/\*.*?\*\//gs;function p(t){const e={};return t.replace(d,"").split(u).forEach((t=>{if(t){const i=t.split(h);i.length>1&&(e[i[0].trim()]=i[1].trim())}})),e}function f(t){let e="";if(!t||et(t))return e;for(const i in t){const o=t[i],n=i.startsWith("--")?i:mt(i);(et(o)||"number"==typeof o)&&(e+=`${n}:${o};`)}return e}function g(t){let e="";if(et(t))e=t;else if(X(t))for(let i=0;i<t.length;i++){const o=g(t[i]);o&&(e+=o+" ")}else if(ot(t))for(const i in t)t[i]&&(e+=i+" ");return e.trim()}function m(t){if(!t)return null;let{class:e,style:i}=t;return e&&!et(e)&&(t.class=g(e)),i&&(t.style=c(i)),t}const y=o("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot"),v=o("svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view"),_=o("area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr"),C="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",b=o(C),E=o(C+",async,autofocus,autoplay,controls,default,defer,disabled,hidden,loop,open,required,reversed,scoped,seamless,checked,muted,multiple,selected");function S(t){return!!t||""===t}const w=/[>/="'\u0009\u000a\u000c\u0020]/,O={};function x(t){if(O.hasOwnProperty(t))return O[t];const e=w.test(t);return e&&console.error(`unsafe attribute name: ${t}`),O[t]=!e}const P={acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},T=o("accept,accept-charset,accesskey,action,align,allow,alt,async,autocapitalize,autocomplete,autofocus,autoplay,background,bgcolor,border,buffered,capture,challenge,charset,checked,cite,class,code,codebase,color,cols,colspan,content,contenteditable,contextmenu,controls,coords,crossorigin,csp,data,datetime,decoding,default,defer,dir,dirname,disabled,download,draggable,dropzone,enctype,enterkeyhint,for,form,formaction,formenctype,formmethod,formnovalidate,formtarget,headers,height,hidden,high,href,hreflang,http-equiv,icon,id,importance,integrity,ismap,itemprop,keytype,kind,label,lang,language,loading,list,loop,low,manifest,max,maxlength,minlength,media,min,multiple,muted,name,novalidate,open,optimum,pattern,ping,placeholder,poster,preload,radiogroup,readonly,referrerpolicy,rel,required,reversed,rows,rowspan,sandbox,scope,scoped,selected,shape,size,sizes,slot,span,spellcheck,src,srcdoc,srclang,srcset,start,step,style,summary,tabindex,target,title,translate,type,usemap,value,width,wrap"),M=o("xmlns,accent-height,accumulate,additive,alignment-baseline,alphabetic,amplitude,arabic-form,ascent,attributeName,attributeType,azimuth,baseFrequency,baseline-shift,baseProfile,bbox,begin,bias,by,calcMode,cap-height,class,clip,clipPathUnits,clip-path,clip-rule,color,color-interpolation,color-interpolation-filters,color-profile,color-rendering,contentScriptType,contentStyleType,crossorigin,cursor,cx,cy,d,decelerate,descent,diffuseConstant,direction,display,divisor,dominant-baseline,dur,dx,dy,edgeMode,elevation,enable-background,end,exponent,fill,fill-opacity,fill-rule,filter,filterRes,filterUnits,flood-color,flood-opacity,font-family,font-size,font-size-adjust,font-stretch,font-style,font-variant,font-weight,format,from,fr,fx,fy,g1,g2,glyph-name,glyph-orientation-horizontal,glyph-orientation-vertical,glyphRef,gradientTransform,gradientUnits,hanging,height,href,hreflang,horiz-adv-x,horiz-origin-x,id,ideographic,image-rendering,in,in2,intercept,k,k1,k2,k3,k4,kernelMatrix,kernelUnitLength,kerning,keyPoints,keySplines,keyTimes,lang,lengthAdjust,letter-spacing,lighting-color,limitingConeAngle,local,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mask,maskContentUnits,maskUnits,mathematical,max,media,method,min,mode,name,numOctaves,offset,opacity,operator,order,orient,orientation,origin,overflow,overline-position,overline-thickness,panose-1,paint-order,path,pathLength,patternContentUnits,patternTransform,patternUnits,ping,pointer-events,points,pointsAtX,pointsAtY,pointsAtZ,preserveAlpha,preserveAspectRatio,primitiveUnits,r,radius,referrerPolicy,refX,refY,rel,rendering-intent,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,result,rotate,rx,ry,scale,seed,shape-rendering,slope,spacing,specularConstant,specularExponent,speed,spreadMethod,startOffset,stdDeviation,stemh,stemv,stitchTiles,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,string,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,style,surfaceScale,systemLanguage,tabindex,tableValues,target,targetX,targetY,text-anchor,text-decoration,text-rendering,textLength,to,transform,transform-origin,type,u1,u2,underline-position,underline-thickness,unicode,unicode-bidi,unicode-range,units-per-em,v-alphabetic,v-hanging,v-ideographic,v-mathematical,values,vector-effect,version,vert-adv-y,vert-origin-x,vert-origin-y,viewBox,viewTarget,visibility,width,widths,word-spacing,writing-mode,x,x-height,x1,x2,xChannelSelector,xlink:actuate,xlink:arcrole,xlink:href,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,y,y1,y2,yChannelSelector,z,zoomAndPan"),D=/["'&<>]/;function A(t){const e=""+t,i=D.exec(e);if(!i)return e;let o,n,r="",s=0;for(n=i.index;n<e.length;n++){switch(e.charCodeAt(n)){case 34:o="&quot;";break;case 38:o="&amp;";break;case 39:o="&#39;";break;case 60:o="&lt;";break;case 62:o="&gt;";break;default:continue}s!==n&&(r+=e.slice(s,n)),s=n+1,r+=o}return s!==n?r+e.slice(s,n):r}const R=/^-?>|<!--|-->|--!>|<!-$/g;function L(t){return t.replace(R,"")}function I(t,e){if(t===e)return!0;let i=J(t),o=J(e);if(i||o)return!(!i||!o)&&t.getTime()===e.getTime();if(i=it(t),o=it(e),i||o)return t===e;if(i=X(t),o=X(e),i||o)return!(!i||!o)&&function(t,e){if(t.length!==e.length)return!1;let i=!0;for(let o=0;i&&o<t.length;o++)i=I(t[o],e[o]);return i}(t,e);if(i=ot(t),o=ot(e),i||o){if(!i||!o)return!1;if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const i in t){const o=t.hasOwnProperty(i),n=e.hasOwnProperty(i);if(o&&!n||!o&&n||!I(t[i],e[i]))return!1}}return String(t)===String(e)}function N(t,e){return t.findIndex((t=>I(t,e)))}const k=t=>et(t)?t:null==t?"":X(t)||ot(t)&&(t.toString===rt||!tt(t.toString))?JSON.stringify(t,F,2):String(t),F=(t,e)=>e&&e.__v_isRef?F(t,e.value):Z(e)?{[`Map(${e.size})`]:[...e.entries()].reduce(((t,[e,i])=>(t[`${e} =>`]=i,t)),{})}:q(e)?{[`Set(${e.size})`]:[...e.values()]}:!ot(e)||X(e)||lt(e)?e:String(e),B={},G=[],j=()=>{},V=()=>!1,U=/^on[^a-z]/,W=t=>U.test(t),H=t=>t.startsWith("onUpdate:"),$=Object.assign,z=(t,e)=>{const i=t.indexOf(e);i>-1&&t.splice(i,1)},K=Object.prototype.hasOwnProperty,Y=(t,e)=>K.call(t,e),X=Array.isArray,Z=t=>"[object Map]"===st(t),q=t=>"[object Set]"===st(t),J=t=>"[object Date]"===st(t),Q=t=>"[object RegExp]"===st(t),tt=t=>"function"==typeof t,et=t=>"string"==typeof t,it=t=>"symbol"==typeof t,ot=t=>null!==t&&"object"==typeof t,nt=t=>ot(t)&&tt(t.then)&&tt(t.catch),rt=Object.prototype.toString,st=t=>rt.call(t),at=t=>st(t).slice(8,-1),lt=t=>"[object Object]"===st(t),ct=t=>et(t)&&"NaN"!==t&&"-"!==t[0]&&""+parseInt(t,10)===t,ut=o(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ht=o("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),dt=t=>{const e=Object.create(null);return i=>e[i]||(e[i]=t(i))},pt=/-(\w)/g,ft=dt((t=>t.replace(pt,((t,e)=>e?e.toUpperCase():"")))),gt=/\B([A-Z])/g,mt=dt((t=>t.replace(gt,"-$1").toLowerCase())),yt=dt((t=>t.charAt(0).toUpperCase()+t.slice(1))),vt=dt((t=>t?`on${yt(t)}`:"")),_t=(t,e)=>!Object.is(t,e),Ct=(t,e)=>{for(let i=0;i<t.length;i++)t[i](e)},bt=(t,e,i)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:i})},Et=t=>{const e=parseFloat(t);return isNaN(e)?t:e},St=t=>{const e=et(t)?Number(t):NaN;return isNaN(e)?t:e};let wt;const Ot=()=>wt||(wt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==i.g?i.g:{}),xt=/^[_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*$/;function Pt(t){return xt.test(t)?`__props.${t}`:`__props[${JSON.stringify(t)}]`}},1731:(t,e,i)=>{"use strict";function o(t){return null==t||""===t?null:t}function n(t,e){return void 0===e&&(e=!1),null!=t&&(""!==t||e)}function r(t){return!n(t)}function s(t){return null==t||0===t.length}function a(t){return null!=t&&"function"==typeof t.toString?t.toString():null}function l(t){if(void 0!==t){if(null===t||""===t)return null;if("number"==typeof t)return isNaN(t)?void 0:t;var e=parseInt(t,10);return isNaN(e)?void 0:e}}function c(t){if(void 0!==t)return null!==t&&""!==t&&("boolean"==typeof t?t:/true/i.test(t))}function u(t){if(t instanceof Set||t instanceof Map){var e=[];return t.forEach((function(t){return e.push(t)})),e}return Object.values(t)}i.d(e,{$j7:()=>W,$zI:()=>Hd,AGU:()=>kn,AS9:()=>jt,BxR:()=>Pd,CPJ:()=>sp,Cvn:()=>Qa,D_6:()=>Tn,Dkq:()=>Xh,EHG:()=>ny,Ekq:()=>Il,F$j:()=>ry,FXL:()=>$,FiY:()=>Y,Fxk:()=>Ss,GXE:()=>J,Gxm:()=>Ln,H1u:()=>_d,IFn:()=>Xm,INo:()=>xr,IUB:()=>ey,J8Z:()=>Vn,KTm:()=>ht,LQq:()=>or,Lm6:()=>ll,MQo:()=>Hn,Nk3:()=>Xg,NlK:()=>qh,NqP:()=>H,O3h:()=>ot,O_3:()=>Ad,POd:()=>et,QVL:()=>Gr,Qk6:()=>_h,RXH:()=>ss,StC:()=>cl,VDZ:()=>Uo,Vu6:()=>z,WD6:()=>vh,WKU:()=>Wm,WU2:()=>Jg,YaM:()=>Jm,ZST:()=>Gn,_:()=>on,aCu:()=>cm,aVm:()=>Hm,at1:()=>nn,cqo:()=>mn,d2Z:()=>Qg,eHy:()=>ge,fKL:()=>ed,fQL:()=>eu,fsG:()=>K,h7_:()=>md,hhW:()=>Zg,jMC:()=>Qm,jUB:()=>Rs,j_S:()=>sn,jkc:()=>er,nN0:()=>cd,nPL:()=>As,plv:()=>Qt,rjZ:()=>Kg,rvo:()=>Rr,rwP:()=>Xr,sJC:()=>Fd,sO1:()=>qg,sgG:()=>ct,vA3:()=>cp,wA2:()=>gn,wGv:()=>Zn,wSp:()=>jd,z0n:()=>Um,zW2:()=>zt});var h=Object.freeze({__proto__:null,makeNull:o,exists:n,missing:r,missingOrEmpty:s,toStringOrNull:a,attrToNumber:l,attrToBoolean:c,attrToString:function(t){if(null!=t&&""!==t)return t},referenceCompare:function(t,e){return null==t&&null==e||(null!=t||null==e)&&((null==t||null!=e)&&t===e)},jsonEquals:function(t,e){return(t?JSON.stringify(t):null)===(e?JSON.stringify(e):null)},defaultComparator:function(t,e,i){void 0===i&&(i=!1);var o=null==t,n=null==e;if(t&&t.toNumber&&(t=t.toNumber()),e&&e.toNumber&&(e=e.toNumber()),o&&n)return 0;if(o)return-1;if(n)return 1;function r(t,e){return t>e?1:t<e?-1:0}if("string"!=typeof t)return r(t,e);if(!i)return r(t,e);try{return t.localeCompare(e)}catch(i){return r(t,e)}},values:u}),d=function(){function t(){this.existingKeys={}}return t.prototype.addExistingKeys=function(t){for(var e=0;e<t.length;e++)this.existingKeys[t[e]]=!0},t.prototype.getUniqueKey=function(t,e){t=a(t);for(var i=0;;){var o=void 0;if(t?(o=t,0!==i&&(o+="_"+i)):e?(o=e,0!==i&&(o+="_"+i)):o=""+i,!this.existingKeys[o])return this.existingKeys[o]=!0,o;i++}},t}();function p(t,e){null!=t&&(Array.isArray(t)?t.forEach((function(t,i){return e(""+i,t)})):Object.keys(t).forEach((function(i){return e(i,t[i])})))}function f(t){for(var e={},i=Object.keys(t),o=0;o<i.length;o++){var n=i[o],r=t[n];e[n]=r}return e}function g(t,e){if(t){var i=t,o={};return Object.keys(i).forEach((function(t){if(!(e&&e.indexOf(t)>=0)){var n=i[t],r=w(n)&&n.constructor===Object;o[t]=r?g(n):n}})),o}}function m(t,e){return t[e]}function y(t,e,i){t[e]=i}function v(t,e,i,o){var n=m(t,i);void 0!==n&&y(e,i,o?o(n):n)}function _(t){var e={};return t.filter((function(t){return null!=t})).forEach((function(t){Object.keys(t).forEach((function(t){return e[t]=null}))})),Object.keys(e)}function C(t){if(!t)return[];var e=Object;if("function"==typeof e.values)return e.values(t);var i=[];for(var o in t)t.hasOwnProperty(o)&&t.propertyIsEnumerable(o)&&i.push(t[o]);return i}function b(t,e,i,o){void 0===i&&(i=!0),void 0===o&&(o=!1),n(e)&&p(e,(function(e,n){var r=t[e];if(r!==n){if(o)if(null==r&&null!=n)"object"==typeof n&&n.constructor===Object&&(r={},t[e]=r);w(n)&&w(r)&&!Array.isArray(r)?b(r,n,i,o):(i||void 0!==n)&&(t[e]=n)}}))}function E(t,e,i){if(e&&t){if(!i)return t[e];for(var o=e.split("."),n=t,r=0;r<o.length;r++){if(null==n)return;n=n[o[r]]}return n}}function S(t,e){Object.keys(t).forEach((function(e){"object"==typeof t[e]&&(t[e]=void 0)}));var i=Object.getPrototypeOf(t),o={};Object.keys(i).forEach((function(t){if("function"==typeof i[t]){o[t]={value:function(){console.warn("AG Grid: "+e+" function "+t+"() cannot be called as the grid has been destroyed.\n                     Please don't call grid API functions on destroyed grids - as a matter of fact you shouldn't\n                     be keeping the API reference, your application has a memory leak! Remove the API reference\n                     when the grid is destroyed.")},writable:!0}}})),Object.defineProperties(t,o)}function w(t){return"object"==typeof t&&null!==t}var O=Object.freeze({__proto__:null,iterateObject:p,cloneObject:f,deepCloneObject:function(t){return JSON.parse(JSON.stringify(t))},deepCloneDefinition:g,getProperty:m,setProperty:y,copyPropertiesIfPresent:function(t,e){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];i.forEach((function(i){return v(t,e,i)}))},copyPropertyIfPresent:v,getAllKeysInObjects:_,getAllValuesInObject:C,mergeDeep:b,missingOrEmptyObject:function(t){return r(t)||0===Object.keys(t).length},get:function(t,e,i){if(null==t)return i;for(var o=e.split("."),n=t;o.length>1;)if(null==(n=n[o.shift()]))return i;var r=n[o[0]];return null!=r?r:i},set:function(t,e,i){if(null!=t){var o=e.split("."),n=t;o.forEach((function(t,e){n[t]||(n[t]={}),e<o.length-1&&(n=n[t])})),n[o[o.length-1]]=i}},getValueUsingField:E,removeAllReferences:S,isNonNullObject:w}),x={};function P(t,e){x[e]||(t(),x[e]=!0)}function T(t){if(t.name)return t.name;var e=/function\s+([^\(]+)/.exec(t.toString());return e&&2===e.length?e[1].trim():null}function M(t){return!!(t&&t.constructor&&t.call&&t.apply)}function D(t){I(t,400)}var A=[],R=!1;function L(t){A.push(t),R||(R=!0,window.setTimeout((function(){var t=A.slice();A.length=0,R=!1,t.forEach((function(t){return t()}))}),0))}function I(t,e){void 0===e&&(e=0),t.length>0&&window.setTimeout((function(){return t.forEach((function(t){return t()}))}),e)}function N(t,e){var i;return function(){for(var o=[],n=0;n<arguments.length;n++)o[n]=arguments[n];var r=this;window.clearTimeout(i),i=window.setTimeout((function(){t.apply(r,o)}),e)}}function k(t,e){var i=0;return function(){for(var o=[],n=0;n<arguments.length;n++)o[n]=arguments[n];var r=(new Date).getTime();r-i<e||(i=r,t.apply(this,o))}}function F(t,e,i,o){void 0===i&&(i=100);var n=(new Date).getTime(),r=null,s=!1,a=function(){var a=(new Date).getTime()-n>i;(t()||a)&&(e(),s=!0,null!=r&&(window.clearInterval(r),r=null),a&&o&&console.warn(o))};a(),s||(r=window.setInterval(a,10))}function B(t){t&&t()}var G=Object.freeze({__proto__:null,doOnce:P,getFunctionName:T,isFunction:M,executeInAWhile:D,executeNextVMTurn:L,executeAfter:I,debounce:N,throttle:k,waitUntil:F,compose:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return t.reduce((function(t,e){return e(t)}),e)}},callIfPresent:B,noop:function(){}}),j=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,n,r=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return s},V=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(j(arguments[e]));return t},U=function(){function t(t,e){if(this.beanWrappers={},this.destroyed=!1,t&&t.beanClasses){this.contextParams=t,this.logger=e,this.logger.log(">> creating ag-Application Context"),this.createBeans();var i=this.getBeanInstances();this.wireBeans(i),this.logger.log(">> ag-Application Context ready - component is alive")}}return t.prototype.getBeanInstances=function(){return u(this.beanWrappers).map((function(t){return t.beanInstance}))},t.prototype.createBean=function(t,e){if(!t)throw Error("Can't wire to bean since it is null");return this.wireBeans([t],e),t},t.prototype.wireBeans=function(t,e){this.autoWireBeans(t),this.methodWireBeans(t),this.callLifeCycleMethods(t,"preConstructMethods"),n(e)&&t.forEach(e),this.callLifeCycleMethods(t,"postConstructMethods")},t.prototype.createBeans=function(){var t=this;this.contextParams.beanClasses.forEach(this.createBeanWrapper.bind(this)),p(this.beanWrappers,(function(e,i){var o;i.bean.__agBeanMetaData&&i.bean.__agBeanMetaData.autowireMethods&&i.bean.__agBeanMetaData.autowireMethods.agConstructor&&(o=i.bean.__agBeanMetaData.autowireMethods.agConstructor);var n=t.getBeansForParameters(o,i.bean.name),r=new(i.bean.bind.apply(i.bean,V([null],n)));i.beanInstance=r}));var e=Object.keys(this.beanWrappers).join(", ");this.logger.log("created beans: "+e)},t.prototype.createBeanWrapper=function(t){var e=t.__agBeanMetaData;if(!e){var i=void 0;return i=t.prototype.constructor?T(t.prototype.constructor):""+t,void console.error("Context item "+i+" is not a bean")}var o={bean:t,beanInstance:null,beanName:e.beanName};this.beanWrappers[e.beanName]=o},t.prototype.autoWireBeans=function(t){var e=this;t.forEach((function(t){e.forEachMetaDataInHierarchy(t,(function(i,o){var n=i.agClassAttributes;n&&n.forEach((function(i){var n=e.lookupBeanInstance(o,i.beanName,i.optional);t[i.attributeName]=n}))}))}))},t.prototype.methodWireBeans=function(t){var e=this;t.forEach((function(t){e.forEachMetaDataInHierarchy(t,(function(i,o){p(i.autowireMethods,(function(i,n){if("agConstructor"!==i){var r=e.getBeansForParameters(n,o);t[i].apply(t,r)}}))}))}))},t.prototype.forEachMetaDataInHierarchy=function(t,e){for(var i=Object.getPrototypeOf(t);null!=i;){var o=i.constructor;if(o.hasOwnProperty("__agBeanMetaData"))e(o.__agBeanMetaData,this.getBeanName(o));i=Object.getPrototypeOf(i)}},t.prototype.getBeanName=function(t){if(t.__agBeanMetaData&&t.__agBeanMetaData.beanName)return t.__agBeanMetaData.beanName;var e=t.toString();return e.substring(9,e.indexOf("("))},t.prototype.getBeansForParameters=function(t,e){var i=this,o=[];return t&&p(t,(function(t,n){var r=i.lookupBeanInstance(e,n);o[Number(t)]=r})),o},t.prototype.lookupBeanInstance=function(t,e,i){if(void 0===i&&(i=!1),"context"===e)return this;if(this.contextParams.providedBeanInstances&&this.contextParams.providedBeanInstances.hasOwnProperty(e))return this.contextParams.providedBeanInstances[e];var o=this.beanWrappers[e];return o?o.beanInstance:(i||console.error("AG Grid: unable to find bean reference "+e+" while initialising "+t),null)},t.prototype.callLifeCycleMethods=function(t,e){var i=this;t.forEach((function(t){return i.callLifeCycleMethodsOnBean(t,e)}))},t.prototype.callLifeCycleMethodsOnBean=function(t,e,i){var o={};this.forEachMetaDataInHierarchy(t,(function(t){var n=t[e];n&&n.forEach((function(t){t!=i&&(o[t]=!0)}))})),Object.keys(o).forEach((function(e){return t[e]()}))},t.prototype.getBean=function(t){return this.lookupBeanInstance("getBean",t,!0)},t.prototype.destroy=function(){if(!this.destroyed){this.logger.log(">> Shutting down ag-Application Context");var t=this.getBeanInstances();this.destroyBeans(t),this.contextParams.providedBeanInstances=null,this.destroyed=!0,this.logger.log(">> ag-Application Context shut down - component is dead")}},t.prototype.destroyBean=function(t){t&&this.destroyBeans([t])},t.prototype.destroyBeans=function(t){var e=this;return t?(t.forEach((function(t){e.callLifeCycleMethodsOnBean(t,"preDestroyMethods","destroy");var i=t;"function"==typeof i.destroy&&i.destroy()})),[]):[]},t}();function W(t,e,i){var o=q(t.constructor);o.preConstructMethods||(o.preConstructMethods=[]),o.preConstructMethods.push(e)}function H(t,e,i){var o=q(t.constructor);o.postConstructMethods||(o.postConstructMethods=[]),o.postConstructMethods.push(e)}function $(t,e,i){var o=q(t.constructor);o.preDestroyMethods||(o.preDestroyMethods=[]),o.preDestroyMethods.push(e)}function z(t){return function(e){q(e).beanName=t}}function K(t){return function(e,i,o){X(e,t,!1,e,i,null)}}function Y(t){return function(e,i,o){X(e,t,!0,e,i,null)}}function X(t,e,i,o,n,r){if(null!==e)if("number"!=typeof r){var s=q(t.constructor);s.agClassAttributes||(s.agClassAttributes=[]),s.agClassAttributes.push({attributeName:n,beanName:e,optional:i})}else console.error("AG Grid: Autowired should be on an attribute");else console.error("AG Grid: Autowired name should not be null")}function Z(t){return function(e,i,o){var n,r="function"==typeof e?e:e.constructor;if("number"==typeof o){var s=void 0;i?(n=q(r),s=i):(n=q(r),s="agConstructor"),n.autowireMethods||(n.autowireMethods={}),n.autowireMethods[s]||(n.autowireMethods[s]={}),n.autowireMethods[s][o]=t}}}function q(t){return t.hasOwnProperty("__agBeanMetaData")||(t.__agBeanMetaData={}),t.__agBeanMetaData}var J,Q=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},tt=function(t,e){return function(i,o){e(i,o,t)}},et=function(){function t(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}return t.prototype.setBeans=function(t,e,i,o){if(void 0===o&&(o=null),this.frameworkOverrides=i,this.gridOptionsService=e,o){var n=e.useAsyncEvents();this.addGlobalListener(o,n)}},t.prototype.getListeners=function(t,e,i){var o=e?this.allAsyncListeners:this.allSyncListeners,n=o.get(t);return!n&&i&&(n=new Set,o.set(t,n)),n},t.prototype.noRegisteredListenersExist=function(){return 0===this.allSyncListeners.size&&0===this.allAsyncListeners.size&&0===this.globalSyncListeners.size&&0===this.globalAsyncListeners.size},t.prototype.addEventListener=function(t,e,i){void 0===i&&(i=!1),this.getListeners(t,i,!0).add(e)},t.prototype.removeEventListener=function(t,e,i){void 0===i&&(i=!1);var o=this.getListeners(t,i,!1);o&&(o.delete(e),0===o.size&&(i?this.allAsyncListeners:this.allSyncListeners).delete(t))},t.prototype.addGlobalListener=function(t,e){void 0===e&&(e=!1),(e?this.globalAsyncListeners:this.globalSyncListeners).add(t)},t.prototype.removeGlobalListener=function(t,e){void 0===e&&(e=!1),(e?this.globalAsyncListeners:this.globalSyncListeners).delete(t)},t.prototype.dispatchEvent=function(t){var e=t;if(this.gridOptionsService){var i=this.gridOptionsService,o=i.api,n=i.columnApi,r=i.context;e.api=o,e.columnApi=n,e.context=r}this.dispatchToListeners(e,!0),this.dispatchToListeners(e,!1),this.firedEvents[e.type]=!0},t.prototype.dispatchEventOnce=function(t){this.firedEvents[t.type]||this.dispatchEvent(t)},t.prototype.dispatchToListeners=function(t,e){var i=this,o=t.type;if(e&&"event"in t){var n=t.event;n instanceof Event&&(t.eventPath=n.composedPath())}var r=this.getListeners(o,e,!1);r&&function(o){o.forEach((function(o){e?i.dispatchAsync((function(){return o(t)})):o(t)}))}(r),(e?this.globalAsyncListeners:this.globalSyncListeners).forEach((function(n){e?i.dispatchAsync((function(){return i.frameworkOverrides.dispatchEvent(o,(function(){return n(o,t)}),!0)})):i.frameworkOverrides.dispatchEvent(o,(function(){return n(o,t)}),!0)}))},t.prototype.dispatchAsync=function(t){this.asyncFunctionsQueue.push(t),this.scheduled||(window.setTimeout(this.flushAsyncQueue.bind(this),0),this.scheduled=!0)},t.prototype.flushAsyncQueue=function(){this.scheduled=!1;var t=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],t.forEach((function(t){return t()}))},Q([tt(0,Z("loggerFactory")),tt(1,Z("gridOptionsService")),tt(2,Z("frameworkOverrides")),tt(3,Z("globalEventListener"))],t.prototype,"setBeans",null),t=Q([z("eventService")],t)}();!function(t){t.CommunityCoreModule="@ag-grid-community/core",t.InfiniteRowModelModule="@ag-grid-community/infinite-row-model",t.ClientSideRowModelModule="@ag-grid-community/client-side-row-model",t.CsvExportModule="@ag-grid-community/csv-export",t.EnterpriseCoreModule="@ag-grid-enterprise/core",t.RowGroupingModule="@ag-grid-enterprise/row-grouping",t.ColumnsToolPanelModule="@ag-grid-enterprise/column-tool-panel",t.FiltersToolPanelModule="@ag-grid-enterprise/filter-tool-panel",t.MenuModule="@ag-grid-enterprise/menu",t.SetFilterModule="@ag-grid-enterprise/set-filter",t.MultiFilterModule="@ag-grid-enterprise/multi-filter",t.StatusBarModule="@ag-grid-enterprise/status-bar",t.SideBarModule="@ag-grid-enterprise/side-bar",t.RangeSelectionModule="@ag-grid-enterprise/range-selection",t.MasterDetailModule="@ag-grid-enterprise/master-detail",t.RichSelectModule="@ag-grid-enterprise/rich-select",t.GridChartsModule="@ag-grid-enterprise/charts",t.ViewportRowModelModule="@ag-grid-enterprise/viewport-row-model",t.ServerSideRowModelModule="@ag-grid-enterprise/server-side-row-model",t.ExcelExportModule="@ag-grid-enterprise/excel-export",t.ClipboardModule="@ag-grid-enterprise/clipboard",t.SparklinesModule="@ag-grid-enterprise/sparklines",t.AngularModule="@ag-grid-community/angular",t.ReactModule="@ag-grid-community/react",t.VueModule="@ag-grid-community/vue"}(J||(J={}));var it=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,n,r=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return s},ot=function(){function t(){}return t.register=function(e,i){void 0===i&&(i=!0),t.runVersionChecks(e),t.modulesMap[e.moduleName]=e,t.setModuleBased(i)},t.runVersionChecks=function(e){if(t.currentModuleVersion||(t.currentModuleVersion=e.version),e.version?e.version!==t.currentModuleVersion&&console.error("AG Grid: You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. '"+e.moduleName+"' is version "+e.version+" but the other modules are version "+this.currentModuleVersion+". Please update all modules to the same version."):console.error("AG Grid: You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. '"+e.moduleName+"' is incompatible. Please update all modules to the same version."),e.validate){var i=e.validate();if(!i.isValid){var o=i;console.error("AG Grid: "+o.message)}}},t.setModuleBased=function(e){void 0===t.moduleBased?t.moduleBased=e:t.moduleBased!==e&&P((function(){console.warn("AG Grid: You are mixing modules (i.e. @ag-grid-community/core) and packages (ag-grid-community) - you can only use one or the other of these mechanisms."),console.warn("Please see https://www.ag-grid.com/javascript-grid/packages-modules/ for more information.")}),"ModulePackageCheck")},t.setIsBundled=function(){t.isBundled=!0},t.registerModules=function(e,i){void 0===i&&(i=!0),t.setModuleBased(i),e&&e.forEach((function(e){return t.register(e,i)}))},t.assertRegistered=function(e,i){var o;if(this.isRegistered(e))return!0;var n,r=i+e;if(t.isBundled)n="AG Grid: unable to use "+i+" as 'ag-grid-enterprise' has not been loaded. Check you are using the Enterprise bundle:\n        \n        <script src=\"https://cdn.jsdelivr.net/npm/ag-grid-enterprise@AG_GRID_VERSION/dist/ag-grid-enterprise.min.js\"><\/script>\n        \nFor more info see: https://ag-grid.com/javascript-data-grid/getting-started/#getting-started-with-ag-grid-enterprise";else if(t.moduleBased||void 0===t.moduleBased){var s=null===(o=Object.entries(J).find((function(t){var i=it(t,2);return i[0],i[1]===e})))||void 0===o?void 0:o[0];n="AG Grid: unable to use "+i+" as the "+s+" is not registered. Check if you have registered the module:\n           \n    import { ModuleRegistry } from '@ag-grid-community/core';\n    import { "+s+" } from '"+e+"';\n    \n    ModuleRegistry.registerModules([ "+s+" ]);\n\nFor more info see: https://www.ag-grid.com/javascript-grid/modules/"}else n="AG Grid: unable to use "+i+" as package 'ag-grid-enterprise' has not been imported. Check that you have imported the package:\n            \n    import 'ag-grid-enterprise';\n            \nFor more info see: https://www.ag-grid.com/javascript-grid/packages/";return P((function(){console.warn(n)}),r),!1},t.isRegistered=function(e){return!!t.modulesMap[e]},t.getRegisteredModules=function(){return u(t.modulesMap)},t.isPackageBased=function(){return!t.moduleBased},t.modulesMap={},t}(),nt=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},rt=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,n,r=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return s},st=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(rt(arguments[e]));return t},at=0;function lt(){return at++}var ct=function(){function t(t,e,i,o){this.instanceId=lt(),this.autoHeaderHeight=null,this.moving=!1,this.menuVisible=!1,this.filterActive=!1,this.eventService=new et,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.colDef=t,this.userProvidedColDef=e,this.colId=i,this.primary=o,this.setState(t)}return t.prototype.getInstanceId=function(){return this.instanceId},t.prototype.setState=function(t){void 0!==t.sort?"asc"!==t.sort&&"desc"!==t.sort||(this.sort=t.sort):"asc"!==t.initialSort&&"desc"!==t.initialSort||(this.sort=t.initialSort);var e=l(t.sortIndex),i=l(t.initialSortIndex);void 0!==e?null!==e&&(this.sortIndex=e):null!==i&&(this.sortIndex=i);var o=c(t.hide),n=c(t.initialHide);this.visible=void 0!==o?!o:!n,void 0!==t.pinned?this.setPinned(t.pinned):this.setPinned(t.initialPinned);var r=l(t.flex),s=l(t.initialFlex);void 0!==r?this.flex=r:void 0!==s&&(this.flex=s)},t.prototype.setColDef=function(t,e){this.colDef=t,this.userProvidedColDef=e,this.initMinAndMaxWidths(),this.initDotNotation(),this.eventService.dispatchEvent(this.createColumnEvent("colDefChanged","api"))},t.prototype.getUserProvidedColDef=function(){return this.userProvidedColDef},t.prototype.setParent=function(t){this.parent=t},t.prototype.getParent=function(){return this.parent},t.prototype.setOriginalParent=function(t){this.originalParent=t},t.prototype.getOriginalParent=function(){return this.originalParent},t.prototype.initialise=function(){this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip(),this.validate()},t.prototype.initDotNotation=function(){var t=this.gridOptionsService.is("suppressFieldDotNotation");this.fieldContainsDots=n(this.colDef.field)&&this.colDef.field.indexOf(".")>=0&&!t,this.tooltipFieldContainsDots=n(this.colDef.tooltipField)&&this.colDef.tooltipField.indexOf(".")>=0&&!t},t.prototype.initMinAndMaxWidths=function(){var t=this.colDef;this.minWidth=this.columnUtils.calculateColMinWidth(t),this.maxWidth=this.columnUtils.calculateColMaxWidth(t)},t.prototype.initTooltip=function(){this.tooltipEnabled=n(this.colDef.tooltipField)||n(this.colDef.tooltipValueGetter)||n(this.colDef.tooltipComponent)||n(this.colDef.tooltipComponentFramework)},t.prototype.resetActualWidth=function(t){void 0===t&&(t="api");var e=this.columnUtils.calculateColInitialWidth(this.colDef);this.setActualWidth(e,t,!0)},t.prototype.isEmptyGroup=function(){return!1},t.prototype.isRowGroupDisplayed=function(t){if(r(this.colDef)||r(this.colDef.showRowGroup))return!1;var e=!0===this.colDef.showRowGroup,i=this.colDef.showRowGroup===t;return e||i},t.prototype.isPrimary=function(){return this.primary},t.prototype.isFilterAllowed=function(){return!!this.colDef.filter||!!this.colDef.filterFramework},t.prototype.isFieldContainsDots=function(){return this.fieldContainsDots},t.prototype.isTooltipEnabled=function(){return this.tooltipEnabled},t.prototype.isTooltipFieldContainsDots=function(){return this.tooltipFieldContainsDots},t.prototype.validate=function(){var t=this.colDef;function e(t,e,i){P((function(){i?console.warn(t,i):P((function(){return console.warn(t)}),e)}),e)}if(this.gridOptionsService.isRowModelType("clientSide")&&!ot.isRegistered(J.RowGroupingModule)){(i=["enableRowGroup","rowGroup","rowGroupIndex","enablePivot","enableValue","pivot","pivotIndex","aggFunc"].filter((function(e){return n(t[e])}))).length>0&&ot.assertRegistered(J.RowGroupingModule,i.map((function(t){return"colDef."+t})).join(", "))}if("agRichSelect"!==this.colDef.cellEditor&&"agRichSelectCellEditor"!==this.colDef.cellEditor||ot.assertRegistered(J.RichSelectModule,this.colDef.cellEditor),this.gridOptionsService.isTreeData()){(i=["rowGroup","rowGroupIndex","pivot","pivotIndex"].filter((function(e){return n(t[e])}))).length>0&&e("AG Grid: "+i.join()+" is not possible when doing tree data, your column definition should not have "+i.join(),"TreeDataCannotRowGroup")}if(n(t.menuTabs))if(Array.isArray(t.menuTabs)){var i,o=["filterMenuTab"],r=["columnsMenuTab","generalMenuTab"];(i=r.filter((function(e){return t.menuTabs.includes(e)}))).length>0&&ot.assertRegistered(J.MenuModule,"menuTab(s): "+i.map((function(t){return"'"+t+"'"})).join()),t.menuTabs.forEach((function(t){r.includes(t)||o.includes(t)||e("AG Grid: '"+t+"' is not valid for 'colDef.menuTabs'. Valid values are: "+st(o,r).map((function(t){return"'"+t+"'"})).join()+".","wrongValue_menuTabs_"+t)}))}else e("AG Grid: The typeof 'colDef.menuTabs' should be an array not:"+typeof t.menuTabs,"wrongType_menuTabs");n(t.columnsMenuParams)&&ot.assertRegistered(J.MenuModule,"columnsMenuParams"),n(t.columnsMenuParams)&&ot.assertRegistered(J.ColumnsToolPanelModule,"columnsMenuParams"),n(this.colDef.width)&&"number"!=typeof this.colDef.width&&e("AG Grid: colDef.width should be a number, not "+typeof this.colDef.width,"ColumnCheck"),(t.pinnedRowCellRenderer||t.pinnedRowCellRendererParams||t.pinnedRowCellRendererFramework)&&e("AG Grid: pinnedRowCellRenderer[Params,Framework] no longer exist. Use cellRendererSelector if you want a different Cell Renderer for pinned rows. Check params.node.rowPinned.","colDef.pinnedRowCellRenderer-deprecated"),n(t.columnGroupShow)&&"closed"!==t.columnGroupShow&&"open"!==t.columnGroupShow&&e("AG Grid: '"+t.columnGroupShow+"' is not valid for columnGroupShow. Valid values are 'open', 'closed', undefined, null","columnGroupShow_invalid")},t.prototype.addEventListener=function(t,e){this.eventService.addEventListener(t,e)},t.prototype.removeEventListener=function(t,e){this.eventService.removeEventListener(t,e)},t.prototype.createColumnFunctionCallbackParams=function(t){return{node:t,data:t.data,column:this,colDef:this.colDef,context:this.gridOptionsService.context,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi}},t.prototype.isSuppressNavigable=function(t){if("boolean"==typeof this.colDef.suppressNavigable)return this.colDef.suppressNavigable;if("function"==typeof this.colDef.suppressNavigable){var e=this.createColumnFunctionCallbackParams(t);return(0,this.colDef.suppressNavigable)(e)}return!1},t.prototype.isCellEditable=function(t){return!(t.group&&!this.gridOptionsService.is("enableGroupEdit"))&&this.isColumnFunc(t,this.colDef.editable)},t.prototype.isSuppressFillHandle=function(){return!!c(this.colDef.suppressFillHandle)},t.prototype.isAutoHeight=function(){return!!c(this.colDef.autoHeight)},t.prototype.isAutoHeaderHeight=function(){return!!c(this.colDef.autoHeaderHeight)},t.prototype.isRowDrag=function(t){return this.isColumnFunc(t,this.colDef.rowDrag)},t.prototype.isDndSource=function(t){return this.isColumnFunc(t,this.colDef.dndSource)},t.prototype.isCellCheckboxSelection=function(t){return this.isColumnFunc(t,this.colDef.checkboxSelection)},t.prototype.isSuppressPaste=function(t){return this.isColumnFunc(t,this.colDef?this.colDef.suppressPaste:null)},t.prototype.isResizable=function(){return!!c(this.colDef.resizable)},t.prototype.isColumnFunc=function(t,e){return"boolean"==typeof e?e:"function"==typeof e&&e(this.createColumnFunctionCallbackParams(t))},t.prototype.setMoving=function(t,e){void 0===e&&(e="api"),this.moving=t,this.eventService.dispatchEvent(this.createColumnEvent("movingChanged",e))},t.prototype.createColumnEvent=function(t,e){return{type:t,column:this,columns:[this],source:e,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context}},t.prototype.isMoving=function(){return this.moving},t.prototype.getSort=function(){return this.sort},t.prototype.setSort=function(t,e){void 0===e&&(e="api"),this.sort!==t&&(this.sort=t,this.eventService.dispatchEvent(this.createColumnEvent("sortChanged",e)))},t.prototype.setMenuVisible=function(t,e){void 0===e&&(e="api"),this.menuVisible!==t&&(this.menuVisible=t,this.eventService.dispatchEvent(this.createColumnEvent("menuVisibleChanged",e)))},t.prototype.isMenuVisible=function(){return this.menuVisible},t.prototype.isSortAscending=function(){return"asc"===this.sort},t.prototype.isSortDescending=function(){return"desc"===this.sort},t.prototype.isSortNone=function(){return r(this.sort)},t.prototype.isSorting=function(){return n(this.sort)},t.prototype.getSortIndex=function(){return this.sortIndex},t.prototype.setSortIndex=function(t){this.sortIndex=t},t.prototype.setAggFunc=function(t){this.aggFunc=t},t.prototype.getAggFunc=function(){return this.aggFunc},t.prototype.getLeft=function(){return this.left},t.prototype.getOldLeft=function(){return this.oldLeft},t.prototype.getRight=function(){return this.left+this.actualWidth},t.prototype.setLeft=function(t,e){void 0===e&&(e="api"),this.oldLeft=this.left,this.left!==t&&(this.left=t,this.eventService.dispatchEvent(this.createColumnEvent("leftChanged",e)))},t.prototype.isFilterActive=function(){return this.filterActive},t.prototype.setFilterActive=function(t,e,i){void 0===e&&(e="api"),this.filterActive!==t&&(this.filterActive=t,this.eventService.dispatchEvent(this.createColumnEvent("filterActiveChanged",e)));var o=this.createColumnEvent("filterChanged",e);i&&b(o,i),this.eventService.dispatchEvent(o)},t.prototype.isHovered=function(){return this.columnHoverService.isHovered(this)},t.prototype.setPinned=function(t){this.pinned=!0===t||"left"===t?"left":"right"===t?"right":null},t.prototype.setFirstRightPinned=function(t,e){void 0===e&&(e="api"),this.firstRightPinned!==t&&(this.firstRightPinned=t,this.eventService.dispatchEvent(this.createColumnEvent("firstRightPinnedChanged",e)))},t.prototype.setLastLeftPinned=function(t,e){void 0===e&&(e="api"),this.lastLeftPinned!==t&&(this.lastLeftPinned=t,this.eventService.dispatchEvent(this.createColumnEvent("lastLeftPinnedChanged",e)))},t.prototype.isFirstRightPinned=function(){return this.firstRightPinned},t.prototype.isLastLeftPinned=function(){return this.lastLeftPinned},t.prototype.isPinned=function(){return"left"===this.pinned||"right"===this.pinned},t.prototype.isPinnedLeft=function(){return"left"===this.pinned},t.prototype.isPinnedRight=function(){return"right"===this.pinned},t.prototype.getPinned=function(){return this.pinned},t.prototype.setVisible=function(t,e){void 0===e&&(e="api");var i=!0===t;this.visible!==i&&(this.visible=i,this.eventService.dispatchEvent(this.createColumnEvent("visibleChanged",e)))},t.prototype.isVisible=function(){return this.visible},t.prototype.isSpanHeaderHeight=function(){return!!this.getColDef().spanHeaderHeight},t.prototype.getColDef=function(){return this.colDef},t.prototype.getColumnGroupShow=function(){return this.colDef.columnGroupShow},t.prototype.getColId=function(){return this.colId},t.prototype.getId=function(){return this.colId},t.prototype.getUniqueId=function(){return this.colId},t.prototype.getDefinition=function(){return this.colDef},t.prototype.getActualWidth=function(){return this.actualWidth},t.prototype.getAutoHeaderHeight=function(){return this.autoHeaderHeight},t.prototype.setAutoHeaderHeight=function(t){var e=t!==this.autoHeaderHeight;return this.autoHeaderHeight=t,e},t.prototype.createBaseColDefParams=function(t){return{node:t,data:t.data,colDef:this.colDef,column:this,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context}},t.prototype.getColSpan=function(t){if(r(this.colDef.colSpan))return 1;var e=this.createBaseColDefParams(t),i=this.colDef.colSpan(e);return Math.max(i,1)},t.prototype.getRowSpan=function(t){if(r(this.colDef.rowSpan))return 1;var e=this.createBaseColDefParams(t),i=this.colDef.rowSpan(e);return Math.max(i,1)},t.prototype.setActualWidth=function(t,e,i){void 0===e&&(e="api"),void 0===i&&(i=!1),null!=this.minWidth&&(t=Math.max(t,this.minWidth)),null!=this.maxWidth&&(t=Math.min(t,this.maxWidth)),this.actualWidth!==t&&(this.actualWidth=t,this.flex&&"flex"!==e&&"gridInitializing"!==e&&(this.flex=null),i||this.fireColumnWidthChangedEvent(e))},t.prototype.fireColumnWidthChangedEvent=function(t){this.eventService.dispatchEvent(this.createColumnEvent("widthChanged",t))},t.prototype.isGreaterThanMax=function(t){return null!=this.maxWidth&&t>this.maxWidth},t.prototype.getMinWidth=function(){return this.minWidth},t.prototype.getMaxWidth=function(){return this.maxWidth},t.prototype.getFlex=function(){return this.flex||0},t.prototype.setFlex=function(t){this.flex!==t&&(this.flex=t)},t.prototype.setMinimum=function(t){void 0===t&&(t="api"),n(this.minWidth)&&this.setActualWidth(this.minWidth,t)},t.prototype.setRowGroupActive=function(t,e){void 0===e&&(e="api"),this.rowGroupActive!==t&&(this.rowGroupActive=t,this.eventService.dispatchEvent(this.createColumnEvent("columnRowGroupChanged",e)))},t.prototype.isRowGroupActive=function(){return this.rowGroupActive},t.prototype.setPivotActive=function(t,e){void 0===e&&(e="api"),this.pivotActive!==t&&(this.pivotActive=t,this.eventService.dispatchEvent(this.createColumnEvent("columnPivotChanged",e)))},t.prototype.isPivotActive=function(){return this.pivotActive},t.prototype.isAnyFunctionActive=function(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()},t.prototype.isAnyFunctionAllowed=function(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()},t.prototype.setValueActive=function(t,e){void 0===e&&(e="api"),this.aggregationActive!==t&&(this.aggregationActive=t,this.eventService.dispatchEvent(this.createColumnEvent("columnValueChanged",e)))},t.prototype.isValueActive=function(){return this.aggregationActive},t.prototype.isAllowPivot=function(){return!0===this.colDef.enablePivot},t.prototype.isAllowValue=function(){return!0===this.colDef.enableValue},t.prototype.isAllowRowGroup=function(){return!0===this.colDef.enableRowGroup},t.prototype.getMenuTabs=function(t){var e=this.getColDef().menuTabs;return null==e&&(e=t),e},t.EVENT_MOVING_CHANGED="movingChanged",t.EVENT_LEFT_CHANGED="leftChanged",t.EVENT_WIDTH_CHANGED="widthChanged",t.EVENT_LAST_LEFT_PINNED_CHANGED="lastLeftPinnedChanged",t.EVENT_FIRST_RIGHT_PINNED_CHANGED="firstRightPinnedChanged",t.EVENT_VISIBLE_CHANGED="visibleChanged",t.EVENT_FILTER_CHANGED="filterChanged",t.EVENT_FILTER_ACTIVE_CHANGED="filterActiveChanged",t.EVENT_SORT_CHANGED="sortChanged",t.EVENT_COL_DEF_CHANGED="colDefChanged",t.EVENT_MENU_VISIBLE_CHANGED="menuVisibleChanged",t.EVENT_ROW_GROUP_CHANGED="columnRowGroupChanged",t.EVENT_PIVOT_CHANGED="columnPivotChanged",t.EVENT_VALUE_CHANGED="columnValueChanged",nt([K("gridOptionsService")],t.prototype,"gridOptionsService",void 0),nt([K("columnUtils")],t.prototype,"columnUtils",void 0),nt([K("columnHoverService")],t.prototype,"columnHoverService",void 0),nt([H],t.prototype,"initialise",null),t}(),ut=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},ht=function(){function t(t,e,i,o){this.localEventService=new et,this.expandable=!1,this.instanceId=lt(),this.expandableListenerRemoveCallback=null,this.colGroupDef=t,this.groupId=e,this.expanded=!!t&&!!t.openByDefault,this.padding=i,this.level=o}return t.prototype.destroy=function(){this.expandableListenerRemoveCallback&&this.reset(null,void 0)},t.prototype.reset=function(t,e){this.colGroupDef=t,this.level=e,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0},t.prototype.getInstanceId=function(){return this.instanceId},t.prototype.setOriginalParent=function(t){this.originalParent=t},t.prototype.getOriginalParent=function(){return this.originalParent},t.prototype.getLevel=function(){return this.level},t.prototype.isVisible=function(){return!!this.children&&this.children.some((function(t){return t.isVisible()}))},t.prototype.isPadding=function(){return this.padding},t.prototype.setExpanded=function(e){this.expanded=void 0!==e&&e;var i={type:t.EVENT_EXPANDED_CHANGED};this.localEventService.dispatchEvent(i)},t.prototype.isExpandable=function(){return this.expandable},t.prototype.isExpanded=function(){return this.expanded},t.prototype.getGroupId=function(){return this.groupId},t.prototype.getId=function(){return this.getGroupId()},t.prototype.setChildren=function(t){this.children=t},t.prototype.getChildren=function(){return this.children},t.prototype.getColGroupDef=function(){return this.colGroupDef},t.prototype.getLeafColumns=function(){var t=[];return this.addLeafColumns(t),t},t.prototype.addLeafColumns=function(e){this.children&&this.children.forEach((function(i){i instanceof ct?e.push(i):i instanceof t&&i.addLeafColumns(e)}))},t.prototype.getColumnGroupShow=function(){var t=this.colGroupDef;if(t)return t.columnGroupShow},t.prototype.setupExpandable=function(){var t=this;this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();var e=this.onColumnVisibilityChanged.bind(this);this.getLeafColumns().forEach((function(t){return t.addEventListener("visibleChanged",e)})),this.expandableListenerRemoveCallback=function(){t.getLeafColumns().forEach((function(t){return t.removeEventListener("visibleChanged",e)})),t.expandableListenerRemoveCallback=null}},t.prototype.setExpandable=function(){if(!this.isPadding()){for(var e=!1,i=!1,o=!1,n=this.findChildrenRemovingPadding(),r=0,s=n.length;r<s;r++){var a=n[r];if(a.isVisible()){var l=a.getColumnGroupShow();"open"===l?(e=!0,o=!0):"closed"===l?(i=!0,o=!0):(e=!0,i=!0)}}var c=e&&i&&o;if(this.expandable!==c){this.expandable=c;var u={type:t.EVENT_EXPANDABLE_CHANGED};this.localEventService.dispatchEvent(u)}}},t.prototype.findChildrenRemovingPadding=function(){var e=[],i=function(o){o.forEach((function(o){o instanceof t&&o.isPadding()?i(o.children):e.push(o)}))};return i(this.children),e},t.prototype.onColumnVisibilityChanged=function(){this.setExpandable()},t.prototype.addEventListener=function(t,e){this.localEventService.addEventListener(t,e)},t.prototype.removeEventListener=function(t,e){this.localEventService.removeEventListener(t,e)},t.EVENT_EXPANDED_CHANGED="expandedChanged",t.EVENT_EXPANDABLE_CHANGED="expandableChanged",ut([$],t.prototype,"destroy",null),t}(),dt={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}};function pt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var i=0;i<t.length;i++){var o=t[i];if(n(o))return o}return null}function ft(t){if(t&&t.length)return t[t.length-1]}function gt(t,e,i){return null==t&&null==e||null!=t&&null!=e&&t.length===e.length&&t.every((function(t,o){return i?i(t,e[o]):e[o]===t}))}function mt(t){return t.sort((function(t,e){return t-e}))}function yt(t,e){var i=t.indexOf(e);i>=0&&t.splice(i,1)}function vt(t,e){e.forEach((function(e){return yt(t,e)}))}function _t(t,e,i){t.splice(i,0,e)}function Ct(t,e,i){vt(t,e),e.slice().reverse().forEach((function(e){return _t(t,e,i)}))}function bt(t,e){return t.indexOf(e)>-1}function Et(t){return[].concat.apply([],t)}function St(t,e){null!=e&&null!=t&&e.forEach((function(e){return t.push(e)}))}var wt=Object.freeze({__proto__:null,firstExistingValue:pt,existsAndNotEmpty:function(t){return null!=t&&t.length>0},last:ft,areEqual:gt,shallowCompare:function(t,e){return gt(t,e)},sortNumerically:mt,removeRepeatsFromArray:function(t,e){if(t)for(var i=t.length-2;i>=0;i--){var o=t[i]===e,n=t[i+1]===e;o&&n&&t.splice(i+1,1)}},removeFromArray:yt,removeAllFromArray:vt,insertIntoArray:_t,insertArrayIntoArray:function(t,e,i){if(null!=t&&null!=e)for(var o=e.length-1;o>=0;o--){_t(t,e[o],i)}},moveInArray:Ct,includes:bt,flatten:Et,pushAll:St,toStrings:function(t){return t.map(a)},forEachReverse:function(t,e){if(null!=t)for(var i=t.length-1;i>=0;i--)e(t[i],i)}}),Ot="__ag_Grid_Stop_Propagation",xt=["touchstart","touchend","touchmove","touchcancel","scroll"],Pt={};function Tt(t){t[Ot]=!0}function Mt(t){return!0===t[Ot]}var Dt,At=(Dt={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"},function(t){if("boolean"==typeof Pt[t])return Pt[t];var e=document.createElement(Dt[t]||"div");return Pt[t="on"+t]=t in e});function Rt(t,e,i){for(var o=e;o;){var n=t.getDomData(o,i);if(n)return n;o=o.parentElement}return null}function Lt(t,e){return!(!e||!t)&&Nt(e).indexOf(t)>=0}function It(t){for(var e=[],i=t.target;i;)e.push(i),i=i.parentElement;return e}function Nt(t){var e=t;return e.path?e.path:e.composedPath?e.composedPath():It(e)}function kt(t,e,i,o){var n=bt(xt,i)?{passive:!0}:void 0;t&&t.addEventListener&&t.addEventListener(e,i,o,n)}var Ft,Bt=Object.freeze({__proto__:null,stopPropagationForAgGrid:Tt,isStopPropagationForAgGrid:Mt,isEventSupported:At,getCtrlForEventTarget:Rt,isElementInEventPath:Lt,createEventPath:It,getEventPath:Nt,addSafePassiveEventListener:kt}),Gt=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},jt=function(){function t(){var t=this;this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.isAlive=function(){return!t.destroyed}}return t.prototype.getFrameworkOverrides=function(){return this.frameworkOverrides},t.prototype.getContext=function(){return this.context},t.prototype.destroy=function(){this.destroyFunctions.forEach((function(t){return t()})),this.destroyFunctions.length=0,this.destroyed=!0,this.dispatchEvent({type:t.EVENT_DESTROYED})},t.prototype.addEventListener=function(t,e){this.localEventService||(this.localEventService=new et),this.localEventService.addEventListener(t,e)},t.prototype.removeEventListener=function(t,e){this.localEventService&&this.localEventService.removeEventListener(t,e)},t.prototype.dispatchEventAsync=function(t){var e=this;window.setTimeout((function(){return e.dispatchEvent(t)}),0)},t.prototype.dispatchEvent=function(t){this.localEventService&&this.localEventService.dispatchEvent(t)},t.prototype.addManagedListener=function(t,e,i){var o=this;if(!this.destroyed){t instanceof HTMLElement?kt(this.getFrameworkOverrides(),t,e,i):t.addEventListener(e,i);var n=function(){return t.removeEventListener(e,i),o.destroyFunctions=o.destroyFunctions.filter((function(t){return t!==n})),null};return this.destroyFunctions.push(n),n}},t.prototype.addManagedPropertyListener=function(t,e){var i=this;if(!this.destroyed){this.gridOptionsService.addEventListener(t,e);var o=function(){return i.gridOptionsService.removeEventListener(t,e),i.destroyFunctions=i.destroyFunctions.filter((function(t){return t!==o})),null};return this.destroyFunctions.push(o),o}},t.prototype.addDestroyFunc=function(t){this.isAlive()?this.destroyFunctions.push(t):t()},t.prototype.createManagedBean=function(t,e){var i=this.createBean(t,e);return this.addDestroyFunc(this.destroyBean.bind(this,t,e)),i},t.prototype.createBean=function(t,e,i){return(e||this.getContext()).createBean(t,i)},t.prototype.destroyBean=function(t,e){return(e||this.getContext()).destroyBean(t)},t.prototype.destroyBeans=function(t,e){var i=this;return t&&t.forEach((function(t){return i.destroyBean(t,e)})),[]},t.EVENT_DESTROYED="destroyed",Gt([K("frameworkOverrides")],t.prototype,"frameworkOverrides",void 0),Gt([K("context")],t.prototype,"context",void 0),Gt([K("eventService")],t.prototype,"eventService",void 0),Gt([K("gridOptionsService")],t.prototype,"gridOptionsService",void 0),Gt([K("localeService")],t.prototype,"localeService",void 0),Gt([K("environment")],t.prototype,"environment",void 0),Gt([$],t.prototype,"destroy",null),t}(),Vt=(Ft=function(t,e){return Ft=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},Ft(t,e)},function(t,e){function i(){this.constructor=t}Ft(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),Ut=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},Wt=function(t,e){return function(i,o){e(i,o,t)}},Ht=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Vt(e,t),e.prototype.setBeans=function(t){this.logger=t.create("ColumnFactory")},e.prototype.createColumnTree=function(t,e,i){var o=new d,n=this.extractExistingTreeData(i),r=n.existingCols,s=n.existingGroups,a=n.existingColKeys;o.addExistingKeys(a);var l=this.recursivelyCreateColumns(t,0,e,r,o,s),c=this.findMaxDept(l,0);this.logger.log("Number of levels for grouped columns is "+c);var u=this.balanceColumnTree(l,0,c,o);return this.columnUtils.depthFirstOriginalTreeSearch(null,u,(function(t,e){t instanceof ht&&t.setupExpandable(),t.setOriginalParent(e)})),{columnTree:u,treeDept:c}},e.prototype.extractExistingTreeData=function(t){var e=[],i=[],o=[];return t&&this.columnUtils.depthFirstOriginalTreeSearch(null,t,(function(t){if(t instanceof ht){var n=t;i.push(n)}else{var r=t;o.push(r.getId()),e.push(r)}})),{existingCols:e,existingGroups:i,existingColKeys:o}},e.prototype.createForAutoGroups=function(t,e){var i=this;return t.map((function(t){return i.createAutoGroupTreeItem(e,t)}))},e.prototype.createAutoGroupTreeItem=function(t,e){for(var i=e,o=this.findDepth(t)-1;o>=0;o--){var n=new ht(null,"FAKE_PATH_"+e.getId()+"}_"+o,!0,o);this.createBean(n),n.setChildren([i]),i.setOriginalParent(n),i=n}return i},e.prototype.findDepth=function(t){for(var e=0,i=t;i&&i[0]&&i[0]instanceof ht;)e++,i=i[0].getChildren();return e},e.prototype.balanceColumnTree=function(t,e,i,o){for(var n=[],r=0;r<t.length;r++){var s=t[r];if(s instanceof ht){var a=s,l=this.balanceColumnTree(a.getChildren(),e+1,i,o);a.setChildren(l),n.push(a)}else{for(var c=void 0,u=void 0,h=i-1;h>=e;h--){var d=o.getUniqueKey(null,null),p=this.createMergedColGroupDef(null),f=new ht(p,d,!0,e);this.createBean(f),u&&u.setChildren([f]),u=f,c||(c=u)}if(c&&u){if(n.push(c),t.some((function(t){return t instanceof ht}))){u.setChildren([s]);continue}u.setChildren(t);break}n.push(s)}}return n},e.prototype.findMaxDept=function(t,e){for(var i=e,o=0;o<t.length;o++){var n=t[o];if(n instanceof ht){var r=n,s=this.findMaxDept(r.getChildren(),e+1);i<s&&(i=s)}}return i},e.prototype.recursivelyCreateColumns=function(t,e,i,o,n,r){var s=this;return(t||[]).map((function(t){return s.isColumnGroup(t)?s.createColumnGroup(i,t,e,o,n,r):s.createColumn(i,t,o,n)}))},e.prototype.createColumnGroup=function(t,e,i,o,n,r){var s=this.createMergedColGroupDef(e),a=n.getUniqueKey(s.groupId||null,null),l=new ht(s,a,!1,i);this.createBean(l);var c=this.findExistingGroup(e,r);c&&yt(r,c),c&&c.isExpanded()&&l.setExpanded(!0);var u=this.recursivelyCreateColumns(s.children,i+1,t,o,n,r);return l.setChildren(u),l},e.prototype.createMergedColGroupDef=function(t){var e={};return Object.assign(e,this.gridOptionsService.get("defaultColGroupDef")),Object.assign(e,t),e},e.prototype.createColumn=function(t,e,i,o){var n=this.mergeColDefs(e),r=this.findExistingColumn(e,i);if(i&&r&&yt(i,r),r)r.setColDef(n,e),this.applyColumnState(r,n);else{var s=o.getUniqueKey(n.colId,n.field);r=new ct(n,e,s,t),this.context.createBean(r)}return r},e.prototype.applyColumnState=function(t,e){var i=l(e.flex);if(void 0!==i&&t.setFlex(i),t.getFlex()<=0){var o=l(e.width);if(null!=o)t.setActualWidth(o);else{var n=t.getActualWidth();t.setActualWidth(n)}}void 0!==e.sort&&("asc"==e.sort||"desc"==e.sort?t.setSort(e.sort):t.setSort(void 0));var r=l(e.sortIndex);void 0!==r&&t.setSortIndex(r);var s=c(e.hide);void 0!==s&&t.setVisible(!s),void 0!==e.pinned&&t.setPinned(e.pinned)},e.prototype.findExistingColumn=function(t,e){return(e||[]).find((function(e){var i=e.getUserProvidedColDef();if(!i)return!1;var o=null!=t.colId,n=null!=t.field;return o?e.getId()===t.colId:n?i.field===t.field:i===t}))},e.prototype.findExistingGroup=function(t,e){return e.find((function(e){return!!e.getColGroupDef()&&(!(null==t.groupId)&&e.getId()===t.groupId)}))},e.prototype.mergeColDefs=function(t){var e={},i=this.gridOptionsService.get("defaultColDef");b(e,i,!1,!0);var o=t.type;o||(o=i&&i.type),o&&this.assignColumnTypes(o,e),b(e,t,!1,!0);var n=this.gridOptionsService.get("autoGroupColumnDef"),r=this.gridOptionsService.isColumnsSortingCoupledToGroup();return t.rowGroup&&n&&r&&b(e,{sort:n.sort,initialSort:n.initialSort},!1,!0),e},e.prototype.assignColumnTypes=function(t,e){var i=[];if(t instanceof Array){t.some((function(t){return"string"!=typeof t}))?console.warn("AG Grid: if colDef.type is supplied an array it should be of type 'string[]'"):i=t}else{if("string"!=typeof t)return void console.warn("AG Grid: colDef.type should be of type 'string' | 'string[]'");i=t.split(",")}var o=Object.assign({},dt);p(this.gridOptionsService.get("columnTypes")||{},(function(t,e){t in o?console.warn("AG Grid: the column type '"+t+"' is a default column type and cannot be overridden."):o[t]=e})),i.forEach((function(t){var i=o[t.trim()];i?b(e,i,!1,!0):console.warn("AG Grid: colDef.type '"+t+"' does not correspond to defined gridOptions.columnTypes")}))},e.prototype.isColumnGroup=function(t){return void 0!==t.children},Ut([K("columnUtils")],e.prototype,"columnUtils",void 0),Ut([Wt(0,Z("loggerFactory"))],e.prototype,"setBeans",null),e=Ut([z("columnFactory")],e)}(jt),$t=function(){function t(){}return t.ColDefPropertyMap={headerName:void 0,columnGroupShow:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentFramework:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellRendererFramework:void 0,cellEditor:void 0,cellEditorFramework:void 0,cellEditorParams:void 0,filterFramework:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentFramework:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,floatingFilterComponentFramework:void 0,tooltipComponentParams:void 0,tooltipComponentFramework:void 0,refData:void 0,columnsMenuParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressCellFlash:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,stickyLabel:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressMenu:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0,spanHeaderHeight:void 0},t.ALL_PROPERTIES=Object.keys(t.ColDefPropertyMap),t.FRAMEWORK_PROPERTIES=["__ob__","__v_skip","__metadata__","mappedColumnProperties","hasChildColumns","toColDef","createColDefFromGridColumn"],t}(),zt=function(){function t(){}return t.EVENT_COLUMN_EVERYTHING_CHANGED="columnEverythingChanged",t.EVENT_NEW_COLUMNS_LOADED="newColumnsLoaded",t.EVENT_COLUMN_PIVOT_MODE_CHANGED="columnPivotModeChanged",t.EVENT_COLUMN_ROW_GROUP_CHANGED="columnRowGroupChanged",t.EVENT_EXPAND_COLLAPSE_ALL="expandOrCollapseAll",t.EVENT_COLUMN_PIVOT_CHANGED="columnPivotChanged",t.EVENT_GRID_COLUMNS_CHANGED="gridColumnsChanged",t.EVENT_COLUMN_VALUE_CHANGED="columnValueChanged",t.EVENT_COLUMN_MOVED="columnMoved",t.EVENT_COLUMN_VISIBLE="columnVisible",t.EVENT_COLUMN_PINNED="columnPinned",t.EVENT_COLUMN_GROUP_OPENED="columnGroupOpened",t.EVENT_COLUMN_RESIZED="columnResized",t.EVENT_DISPLAYED_COLUMNS_CHANGED="displayedColumnsChanged",t.EVENT_VIRTUAL_COLUMNS_CHANGED="virtualColumnsChanged",t.EVENT_ASYNC_TRANSACTIONS_FLUSHED="asyncTransactionsFlushed",t.EVENT_ROW_GROUP_OPENED="rowGroupOpened",t.EVENT_ROW_DATA_CHANGED="rowDataChanged",t.EVENT_ROW_DATA_UPDATED="rowDataUpdated",t.EVENT_PINNED_ROW_DATA_CHANGED="pinnedRowDataChanged",t.EVENT_RANGE_SELECTION_CHANGED="rangeSelectionChanged",t.EVENT_CHART_CREATED="chartCreated",t.EVENT_CHART_RANGE_SELECTION_CHANGED="chartRangeSelectionChanged",t.EVENT_CHART_OPTIONS_CHANGED="chartOptionsChanged",t.EVENT_CHART_DESTROYED="chartDestroyed",t.EVENT_TOOL_PANEL_VISIBLE_CHANGED="toolPanelVisibleChanged",t.EVENT_TOOL_PANEL_SIZE_CHANGED="toolPanelSizeChanged",t.EVENT_INTERNAL_TOOL_PANEL_VISIBLE_CHANGED="internalToolPanelVisibleChanged",t.EVENT_COLUMN_PANEL_ITEM_DRAG_START="columnPanelItemDragStart",t.EVENT_COLUMN_PANEL_ITEM_DRAG_END="columnPanelItemDragEnd",t.EVENT_MODEL_UPDATED="modelUpdated",t.EVENT_PASTE_START="pasteStart",t.EVENT_PASTE_END="pasteEnd",t.EVENT_FILL_START="fillStart",t.EVENT_FILL_END="fillEnd",t.EVENT_UNDO_STARTED="undoStarted",t.EVENT_UNDO_ENDED="undoEnded",t.EVENT_REDO_STARTED="redoStarted",t.EVENT_REDO_ENDED="redoEnded",t.EVENT_KEY_SHORTCUT_CHANGED_CELL_START="keyShortcutChangedCellStart",t.EVENT_KEY_SHORTCUT_CHANGED_CELL_END="keyShortcutChangedCellEnd",t.EVENT_CELL_CLICKED="cellClicked",t.EVENT_CELL_DOUBLE_CLICKED="cellDoubleClicked",t.EVENT_CELL_MOUSE_DOWN="cellMouseDown",t.EVENT_CELL_CONTEXT_MENU="cellContextMenu",t.EVENT_CELL_VALUE_CHANGED="cellValueChanged",t.EVENT_CELL_EDIT_REQUEST="cellEditRequest",t.EVENT_ROW_VALUE_CHANGED="rowValueChanged",t.EVENT_CELL_FOCUSED="cellFocused",t.EVENT_CELL_FOCUS_CLEARED="cellFocusCleared",t.EVENT_FULL_WIDTH_ROW_FOCUSED="fullWidthRowFocused",t.EVENT_ROW_SELECTED="rowSelected",t.EVENT_SELECTION_CHANGED="selectionChanged",t.EVENT_CELL_KEY_DOWN="cellKeyDown",t.EVENT_CELL_KEY_PRESS="cellKeyPress",t.EVENT_CELL_MOUSE_OVER="cellMouseOver",t.EVENT_CELL_MOUSE_OUT="cellMouseOut",t.EVENT_FILTER_CHANGED="filterChanged",t.EVENT_FILTER_MODIFIED="filterModified",t.EVENT_FILTER_OPENED="filterOpened",t.EVENT_SORT_CHANGED="sortChanged",t.EVENT_VIRTUAL_ROW_REMOVED="virtualRowRemoved",t.EVENT_ROW_CLICKED="rowClicked",t.EVENT_ROW_DOUBLE_CLICKED="rowDoubleClicked",t.EVENT_GRID_READY="gridReady",t.EVENT_GRID_SIZE_CHANGED="gridSizeChanged",t.EVENT_VIEWPORT_CHANGED="viewportChanged",t.EVENT_SCROLLBAR_WIDTH_CHANGED="scrollbarWidthChanged",t.EVENT_FIRST_DATA_RENDERED="firstDataRendered",t.EVENT_DRAG_STARTED="dragStarted",t.EVENT_DRAG_STOPPED="dragStopped",t.EVENT_CHECKBOX_CHANGED="checkboxChanged",t.EVENT_ROW_EDITING_STARTED="rowEditingStarted",t.EVENT_ROW_EDITING_STOPPED="rowEditingStopped",t.EVENT_CELL_EDITING_STARTED="cellEditingStarted",t.EVENT_CELL_EDITING_STOPPED="cellEditingStopped",t.EVENT_BODY_SCROLL="bodyScroll",t.EVENT_BODY_SCROLL_END="bodyScrollEnd",t.EVENT_HEIGHT_SCALE_CHANGED="heightScaleChanged",t.EVENT_PAGINATION_CHANGED="paginationChanged",t.EVENT_COMPONENT_STATE_CHANGED="componentStateChanged",t.EVENT_STORE_REFRESHED="storeRefreshed",t.EVENT_BODY_HEIGHT_CHANGED="bodyHeightChanged",t.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED="displayedColumnsWidthChanged",t.EVENT_SCROLL_VISIBILITY_CHANGED="scrollVisibilityChanged",t.EVENT_COLUMN_HOVER_CHANGED="columnHoverChanged",t.EVENT_FLASH_CELLS="flashCells",t.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED="paginationPixelOffsetChanged",t.EVENT_DISPLAYED_ROWS_CHANGED="displayedRowsChanged",t.EVENT_LEFT_PINNED_WIDTH_CHANGED="leftPinnedWidthChanged",t.EVENT_RIGHT_PINNED_WIDTH_CHANGED="rightPinnedWidthChanged",t.EVENT_ROW_CONTAINER_HEIGHT_CHANGED="rowContainerHeightChanged",t.EVENT_HEADER_HEIGHT_CHANGED="headerHeightChanged",t.EVENT_COLUMN_HEADER_HEIGHT_CHANGED="columnHeaderHeightChanged",t.EVENT_ROW_DRAG_ENTER="rowDragEnter",t.EVENT_ROW_DRAG_MOVE="rowDragMove",t.EVENT_ROW_DRAG_LEAVE="rowDragLeave",t.EVENT_ROW_DRAG_END="rowDragEnd",t.EVENT_GRID_STYLES_CHANGED="gridStylesChanged",t.EVENT_POPUP_TO_FRONT="popupToFront",t.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST="columnRowGroupChangeRequest",t.EVENT_COLUMN_PIVOT_CHANGE_REQUEST="columnPivotChangeRequest",t.EVENT_COLUMN_VALUE_CHANGE_REQUEST="columnValueChangeRequest",t.EVENT_COLUMN_AGG_FUNC_CHANGE_REQUEST="columnAggFuncChangeRequest",t.EVENT_KEYBOARD_FOCUS="keyboardFocus",t.EVENT_MOUSE_FOCUS="mouseFocus",t.EVENT_STORE_UPDATED="storeUpdated",t.EVENT_FILTER_DESTROYED="filterDestroyed",t}(),Kt=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,n,r=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return s},Yt=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Kt(arguments[e]));return t},Xt=function(){function t(){}return t.STRING_PROPERTIES=["rowSelection","overlayLoadingTemplate","overlayNoRowsTemplate","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","serverSideStoreType","groupDisplayType","treeDataDisplayType","colResizeDefault"],t.OBJECT_PROPERTIES=["components","frameworkComponents","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","statusBar","sideBar","chartThemeOverrides","customChartThemes","chartToolPanelsDef"],t.ARRAY_PROPERTIES=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass"],t.NUMBER_PROPERTIES=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDelay","cellFadeDelay","tabIndex"],t.BOOLEAN_PROPERTIES=["suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellSelection","suppressCellFocus","suppressHorizontalScroll","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupSelectsChildren","groupIncludeFooter","groupIncludeTotalFooter","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressParentsInRowNodes","suppressColumnMoveAnimation","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","suppressAsyncEvents","allowContextMenuWithControlKey","suppressContextMenu","rememberGroupStateWhenNewData","enableCellChangeFlash","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","suppressAggAtRootLevel","suppressFocusAfterRefresh","functionsPassive","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","excludeHiddenColumnsFromQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","treeData","masterDetail","suppressMultiRangeSelection","enterMovesDownAfterEdit","enterMovesDown","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","enableChartToolPanelsButton","suppressChartToolPanelsButton","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","immutableData","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideFilteringAlwaysResets","serverSideSortingAlwaysResets","serverSideSortAllLevels","serverSideFilterAllLevels","serverSideSortOnServer","serverSideFilterOnServer","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","maintainColumnOrder","groupMaintainOrder","columnHoverHighlight","reactUi","suppressReactUi","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","groupRowsSticky","suppressServerSideInfiniteScroll","rowGroupPanelSuppressSort","allowShowChangeAfterFilter","suppressCutToClipboard"],t.FUNCTIONAL_PROPERTIES=["localeTextFunc","doesExternalFilterPass","groupRowAggNodes","isFullWidthCell","processSecondaryColDef","processSecondaryColGroupDef","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","postSort","defaultGroupOrderComparator","rowDragText","groupRowRenderer","groupRowRendererFramework","fullWidthCellRenderer","fullWidthCellRendererFramework","loadingCellRenderer","loadingCellRendererFramework","loadingOverlayComponent","loadingOverlayComponentFramework","noRowsOverlayComponent","noRowsOverlayComponentFramework","detailCellRenderer","detailCellRendererFramework"],t.CALLBACK_PROPERTIES=["getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","getRowNodeId","isFullWidthRow","sendToClipboard","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideStoreParams","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","loadingCellRendererSelector","getRowId","groupAggFiltering"],t.FUNCTION_PROPERTIES=Yt(t.FUNCTIONAL_PROPERTIES,t.CALLBACK_PROPERTIES),t.ALL_PROPERTIES=Yt(t.ARRAY_PROPERTIES,t.OBJECT_PROPERTIES,t.STRING_PROPERTIES,t.NUMBER_PROPERTIES,t.FUNCTION_PROPERTIES,t.BOOLEAN_PROPERTIES),t.FRAMEWORK_PROPERTIES=["__ob__","__v_skip","__metadata__","mappedColumnProperties","hasChildColumns","toColDef","createColDefFromGridColumn"],t}(),Zt=function(){return Zt=Object.assign||function(t){for(var e,i=1,o=arguments.length;i<o;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},Zt.apply(this,arguments)},qt=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,n,r=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return s},Jt=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(qt(arguments[e]));return t},Qt=function(){function t(){}return t.getCallbackForEvent=function(t){return!t||t.length<2?t:"on"+t[0].toUpperCase()+t.substr(1)},t.getCoercionLookup=function(){var e={};return Jt(t.ARRAY_PROPERTIES,t.OBJECT_PROPERTIES,t.STRING_PROPERTIES,t.FUNCTION_PROPERTIES,t.EVENT_CALLBACKS).forEach((function(t){return e[t]="none"})),t.BOOLEAN_PROPERTIES.forEach((function(t){return e[t]="boolean"})),t.NUMBER_PROPERTIES.forEach((function(t){return e[t]="number"})),e},t.getValue=function(e,i){var o=t.coercionLookup[e];if(o){var n=i;switch(o){case"number":n=t.toNumber(i);break;case"boolean":n=t.toBoolean(i);break;case"none":"groupAggFiltering"===e&&"function"!=typeof i&&(n=t.toBoolean(i))}return n}},t.getGridOptionKeys=function(e,i){return i?Object.keys(t.coercionLookup):Object.keys(e)},t.copyAttributesToGridOptions=function(e,i,o){void 0===o&&(o=!1),"object"!=typeof e&&(e={});var n=e;return t.getGridOptionKeys(i,o).forEach((function(e){var o=i[e];if(void 0!==o){var r=t.getValue(e,o);void 0!==r&&(n[e]=r)}})),e},t.processOnChange=function(e,i){if(e&&0!==Object.keys(e).length){var o=Zt({},e);o.columnTypes&&(i.setColumnTypes(o.columnTypes.currentValue,"gridOptionsChanged"),delete o.columnTypes),o.autoGroupColumnDef&&(i.setAutoGroupColumnDef(o.autoGroupColumnDef.currentValue,"gridOptionsChanged"),delete o.autoGroupColumnDef),o.defaultColDef&&(i.setDefaultColDef(o.defaultColDef.currentValue,"gridOptionsChanged"),delete o.defaultColDef),o.columnDefs&&(i.setColumnDefs(o.columnDefs.currentValue,"gridOptionsChanged"),delete o.columnDefs),Object.keys(o).forEach((function(e){var n=e,r=t.getValue(n,o[n].currentValue);i.__setProperty(n,r)}));var n={type:zt.EVENT_COMPONENT_STATE_CHANGED};p(e,(function(t,e){n[t]=e})),i.dispatchEvent(n)}},t.toBoolean=function(t){return"boolean"==typeof t?t:"string"==typeof t&&("TRUE"===t.toUpperCase()||""==t)},t.toNumber=function(t){return"number"==typeof t?t:"string"==typeof t?Number(t):void 0},t.EVENTS=u(zt),t.EXCLUDED_INTERNAL_EVENTS=[zt.EVENT_SCROLLBAR_WIDTH_CHANGED,zt.EVENT_CHECKBOX_CHANGED,zt.EVENT_HEIGHT_SCALE_CHANGED,zt.EVENT_BODY_HEIGHT_CHANGED,zt.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,zt.EVENT_SCROLL_VISIBILITY_CHANGED,zt.EVENT_COLUMN_HOVER_CHANGED,zt.EVENT_FLASH_CELLS,zt.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,zt.EVENT_DISPLAYED_ROWS_CHANGED,zt.EVENT_LEFT_PINNED_WIDTH_CHANGED,zt.EVENT_RIGHT_PINNED_WIDTH_CHANGED,zt.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,zt.EVENT_POPUP_TO_FRONT,zt.EVENT_KEYBOARD_FOCUS,zt.EVENT_MOUSE_FOCUS,zt.EVENT_STORE_UPDATED,zt.EVENT_COLUMN_PANEL_ITEM_DRAG_START,zt.EVENT_COLUMN_PANEL_ITEM_DRAG_END,zt.EVENT_FILL_START,zt.EVENT_FILL_END,zt.EVENT_KEY_SHORTCUT_CHANGED_CELL_START,zt.EVENT_KEY_SHORTCUT_CHANGED_CELL_END,zt.EVENT_FULL_WIDTH_ROW_FOCUSED,zt.EVENT_HEADER_HEIGHT_CHANGED,zt.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,zt.EVENT_INTERNAL_TOOL_PANEL_VISIBLE_CHANGED,zt.EVENT_CELL_FOCUS_CLEARED,zt.EVENT_GRID_STYLES_CHANGED,zt.EVENT_FILTER_DESTROYED],t.PUBLIC_EVENTS=t.EVENTS.filter((function(e){return!bt(t.EXCLUDED_INTERNAL_EVENTS,e)})),t.EVENT_CALLBACKS=t.EVENTS.map((function(e){return t.getCallbackForEvent(e)})),t.STRING_PROPERTIES=Xt.STRING_PROPERTIES,t.OBJECT_PROPERTIES=Xt.OBJECT_PROPERTIES,t.ARRAY_PROPERTIES=Xt.ARRAY_PROPERTIES,t.NUMBER_PROPERTIES=Xt.NUMBER_PROPERTIES,t.BOOLEAN_PROPERTIES=Xt.BOOLEAN_PROPERTIES,t.FUNCTION_PROPERTIES=Xt.FUNCTION_PROPERTIES,t.ALL_PROPERTIES=Xt.ALL_PROPERTIES,t.ALL_PROPERTIES_SET=new Set(Xt.ALL_PROPERTIES),t.coercionLookup=t.getCoercionLookup(),t}();function te(t,e,i){var o={},n=t.filter((function(t){return!e.some((function(e){return e===t}))}));return n.length>0&&n.forEach((function(t){return o[t]=ee(t,i)})),o}function ee(t,e,i,o){var n=e.map((function(e){return{value:e,relevance:ie(t.toLowerCase(),e.toLocaleLowerCase())}}));if(n.sort((function(t,e){return e.relevance-t.relevance})),i&&(n=n.filter((function(t){return 0!==t.relevance}))),o&&o>0){var r=n[0].relevance*o;n=n.filter((function(t){return r-t.relevance<0}))}return n.map((function(t){return t.value}))}function ie(t,e){for(var i=t.replace(/\s/g,""),o=e.replace(/\s/g,""),n=0,r=-1,s=0;s<i.length;s++){var a=o.indexOf(i[s],r+1);-1!==a&&(n+=100-100*(r=a)/1e4*100)}return n}var oe=Object.freeze({__proto__:null,fuzzyCheckStrings:te,fuzzySuggestions:ee}),ne=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},re=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,n,r=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return s},se=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(re(arguments[e]));return t};function ae(t,e,i,o){var n=i?"Please use '"+i+"' instead. ":"";P((function(){return console.warn("AG Grid: since v"+t+", '"+e+"' is deprecated. "+n+(null!=o?o:""))}),"Deprecated_"+e)}var le=function(){function t(){this.deprecatedProperties={serverSideInfiniteScroll:{version:"29",message:"Infinite Scrolling is now the default behaviour. This can be suppressed with `suppressServerSideInfiniteScroll`."},rememberGroupStateWhenNewData:{version:"24",message:"Now that transaction updates are possible and they keep group state, this feature is no longer needed."},suppressEnterpriseResetOnNewColumns:{version:"25",message:"Now that it is possible to dynamically change columns in the grid, this is no longer needed."},suppressColumnStateEvents:{version:"25",message:'Events should be ignored based on the `event.source`, which will be "api" if the event was due to setting column state via the API.'},defaultExportParams:{version:"25.2",message:"The property `defaultExportParams` has been replaced by `defaultCsvExportParams` and `defaultExcelExportParams`"},stopEditingWhenGridLosesFocus:{version:"25.2.2",newProp:"stopEditingWhenCellsLoseFocus",copyToNewProp:!0},applyColumnDefOrder:{version:"26",message:"The property `applyColumnDefOrder` is no longer needed, as this is the default behaviour. To turn this behaviour off, set maintainColumnOrder=true"},groupMultiAutoColumn:{version:"26",newProp:"groupDisplayType",copyToNewProp:!0,newPropValue:"multipleColumns"},groupUseEntireRow:{version:"26",newProp:"groupDisplayType",copyToNewProp:!0,newPropValue:"groupRows"},defaultGroupSortComparator:{version:"26",newProp:"initialGroupOrderComparator"},enableMultiRowDragging:{version:"26.1",newProp:"rowDragMultiRow",copyToNewProp:!0},colWidth:{version:"26.1",newProp:"defaultColDef.width"},minColWidth:{version:"26.1",newProp:"defaultColDef.minWidth"},maxColWidth:{version:"26.1",newProp:"defaultColDef.maxWidth"},reactUi:{version:"26.1",message:"React UI is on by default, so no need for reactUi=true. To turn it off, set suppressReactUi=true."},suppressCellSelection:{version:"27",newProp:"suppressCellFocus",copyToNewProp:!0},clipboardDeliminator:{version:"27.1",newProp:"clipboardDelimiter",copyToNewProp:!0},getRowNodeId:{version:"27.1",newProp:"getRowId",message:"The difference: if getRowId() is implemented then immutable data is enabled by default."},defaultGroupOrderComparator:{version:"27.2",newProp:"initialGroupOrderComparator"},groupRowAggNodes:{version:"27.2",newProp:"getGroupRowAgg"},postSort:{version:"27.2",newProp:"postSortRows"},isFullWidthCell:{version:"27.2",newProp:"isFullWidthRow"},localeTextFunc:{version:"27.2",newProp:"getLocaleText"},serverSideFilteringAlwaysResets:{version:"28.0",newProp:"serverSideFilterAllLevels",copyToNewProp:!0},serverSideSortingAlwaysResets:{version:"28.0",newProp:"serverSideSortAllLevels",copyToNewProp:!0},suppressReactUi:{version:"28",message:"The legacy React rendering engine is deprecated and will be removed in the next major version of the grid."},processSecondaryColDef:{version:"28",newProp:"processPivotResultColDef",copyToNewProp:!0},processSecondaryColGroupDef:{version:"28",newProp:"processPivotResultColGroupDef",copyToNewProp:!0},getServerSideStoreParams:{version:"28",newProp:"getServerSideGroupLevelParams",copyToNewProp:!0},enableChartToolPanelsButton:{version:"29",message:"The Chart Tool Panels button is now enabled by default. To hide the Chart Tool Panels button and display the hamburger button instead, set suppressChartToolPanelsButton=true."},functionsPassive:{version:"29.2"},onColumnRowGroupChangeRequest:{version:"29.2"},onColumnPivotChangeRequest:{version:"29.2"},onColumnValueChangeRequest:{version:"29.2"},onColumnAggFuncChangeRequest:{version:"29.2"}}}return t.prototype.pickOneWarning=function(t,e){console.warn("AG Grid: "+t+" and "+e+" do not work with each other, you need to pick one.")},t.prototype.init=function(){var t=this;if(this.checkForDeprecated(),this.checkForViolations(),!0!==this.gridOptions.suppressPropertyNamesCheck&&(this.checkGridOptionsProperties(),this.checkColumnDefProperties()),this.checkColumnDefViolations(),this.gridOptionsService.is("groupSelectsChildren")&&this.gridOptionsService.is("suppressParentsInRowNodes")&&console.warn("AG Grid: 'groupSelectsChildren' does not work with 'suppressParentsInRowNodes', this selection method needs the part in rowNode to work"),this.gridOptionsService.is("groupSelectsChildren")&&"multiple"!==this.gridOptionsService.get("rowSelection")&&console.warn("AG Grid: rowSelection must be 'multiple' for groupSelectsChildren to make sense"),this.gridOptionsService.is("groupRemoveSingleChildren")&&this.gridOptionsService.is("groupHideOpenParents")&&this.pickOneWarning("groupRemoveSingleChildren","groupHideOpenParents"),"autoHeight"!==this.gridOptionsService.get("domLayout")||this.gridOptionsService.isRowModelType("clientSide")||this.gridOptionsService.is("pagination")||(console.warn("AG Grid: domLayout='autoHeight' was ignored as it is only supported by the Client-Side row model, unless using pagination."),this.gridOptions.domLayout="normal"),this.gridOptionsService.isRowModelType("serverSide")){var e=function(t,e){return"AG Grid: '"+t+"' is not supported on the Server-Side Row Model."+(e?" Please use "+e+" instead.":"")};this.gridOptionsService.exists("groupDefaultExpanded")&&console.warn(e("groupDefaultExpanded","isServerSideGroupOpenByDefault callback")),this.gridOptionsService.exists("groupIncludeFooter")&&console.warn(e("groupIncludeFooter")),this.gridOptionsService.exists("groupIncludeTotalFooter")&&console.warn(e("groupIncludeTotalFooter"))}this.gridOptionsService.is("enableRangeSelection")?ot.assertRegistered(J.RangeSelectionModule,"enableRangeSelection"):(this.gridOptionsService.is("enableRangeHandle")||this.gridOptionsService.is("enableFillHandle"))&&console.warn("AG Grid: 'enableRangeHandle' or 'enableFillHandle' will not work unless 'enableRangeSelection' is set to true");var i=function(e,i){return t.gridOptionsService.exists(e)&&ot.assertRegistered(i,e)};i("sideBar",J.SideBarModule),i("statusBar",J.StatusBarModule),i("enableCharts",J.GridChartsModule),i("getMainMenuItems",J.MenuModule),i("getContextMenuItems",J.MenuModule),i("allowContextMenuWithControlKey",J.MenuModule),this.gridOptionsService.is("groupRowsSticky")&&(this.gridOptionsService.is("groupHideOpenParents")&&this.pickOneWarning("groupRowsSticky","groupHideOpenParents"),this.gridOptionsService.is("masterDetail")&&this.pickOneWarning("groupRowsSticky","masterDetail"),this.gridOptionsService.is("pagination")&&this.pickOneWarning("groupRowsSticky","pagination"))},t.prototype.checkColumnDefProperties=function(){var t=this;if(null!=this.gridOptions.columnDefs){var e=se($t.ALL_PROPERTIES,$t.FRAMEWORK_PROPERTIES),i=function(o,n){var r=Object.getOwnPropertyNames(o);t.checkProperties(r,e,e,n,"https://www.ag-grid.com/javascript-data-grid/column-properties/"),o.children&&o.children.forEach((function(t){return i(t,"columnDefs.children")}))};this.gridOptions.columnDefs.forEach((function(t){return i(t,"columnDefs")})),this.gridOptions.defaultColDef&&i(this.gridOptions.defaultColDef,"defaultColDef")}},t.prototype.checkColumnDefViolations=function(){var t,e=null!==(t=this.gridOptionsService.get("rowModelType"))&&void 0!==t?t:"clientSide",i={infinite:["headerCheckboxSelection","headerCheckboxSelectionFilteredOnly","headerCheckboxSelectionCurrentPageOnly"],viewport:["headerCheckboxSelection","headerCheckboxSelectionFilteredOnly","headerCheckboxSelectionCurrentPageOnly"],serverSide:["headerCheckboxSelectionFilteredOnly","headerCheckboxSelectionCurrentPageOnly"],clientSide:[]}[e];if(null==i?void 0:i.length){var o=function(t){i.forEach((function(i){i in t&&t[i]&&console.warn("AG Grid: Column property "+i+" is not supported with the row model type "+e+".")}))};null!=this.gridOptions.columnDefs&&this.gridOptions.columnDefs.forEach((function(t){return o(t)})),null!=this.gridOptions.autoGroupColumnDef&&o(this.gridOptions.autoGroupColumnDef),null!=this.gridOptions.defaultColDef&&o(this.gridOptions.defaultColDef)}},t.prototype.checkGridOptionsProperties=function(){var t=Object.getOwnPropertyNames(this.gridOptions),e=se(Xt.ALL_PROPERTIES,Xt.FRAMEWORK_PROPERTIES,Qt.EVENT_CALLBACKS),i=se(e,["api","columnApi"],Object.keys(this.deprecatedProperties));this.checkProperties(t,i,e,"gridOptions","https://www.ag-grid.com/javascript-data-grid/grid-options/")},t.prototype.checkProperties=function(t,e,i,o,n){var r=te(t,e,i);p(r,(function(t,e){P((function(){return console.warn("AG Grid: invalid "+o+" property '"+t+"' did you mean any of these: "+e.slice(0,8).join(", "))}),"invalidProperty"+o+t)})),Object.keys(r).length>0&&P((function(){return console.warn("AG Grid: to see all the valid "+o+" properties please check: "+n)}),"invalidProperties"+o+n)},t.prototype.checkForDeprecated=function(){var t=this.gridOptions;if(Object.entries(this.deprecatedProperties).forEach((function(e){var i,o=re(e,2),n=o[0],r=o[1],s=t[n];s&&(ae(r.version,n,r.newProp,r.message),r.copyToNewProp&&r.newProp&&null==t[r.newProp]&&(t[r.newProp]=null!==(i=r.newPropValue)&&void 0!==i?i:s))})),t.groupSuppressAutoColumn){var e=t.treeData?"treeDataDisplayType":"groupDisplayType";console.warn("AG Grid: since v26.0, the grid property `groupSuppressAutoColumn` has been replaced by `"+e+" = 'custom'`"),t[e]="custom"}t.immutableData&&(t.getRowId?console.warn("AG Grid: since v27.1, `immutableData` is deprecated. With the `getRowId` callback implemented, immutable data is enabled by default so you can remove `immutableData=true`."):console.warn("AG Grid: since v27.1, `immutableData` is deprecated. To enable immutable data you must implement the `getRowId()` callback.")),t.serverSideStoreType&&(console.warn("AG Grid: since v29.0, `serverSideStoreType` has been replaced by `suppressServerSideInfiniteScroll`. Set to false to use Partial Store, and true to use Full Store."),t.suppressServerSideInfiniteScroll="partial"!==t.serverSideStoreType)},t.prototype.checkForViolations=function(){this.gridOptionsService.is("treeData")&&this.treeDataViolations()},t.prototype.treeDataViolations=function(){this.gridOptionsService.isRowModelType("clientSide")&&(this.gridOptionsService.exists("getDataPath")||console.warn("AG Grid: property usingTreeData=true with rowModel=clientSide, but you did not provide getDataPath function, please provide getDataPath function if using tree data.")),this.gridOptionsService.isRowModelType("serverSide")&&(this.gridOptionsService.exists("isServerSideGroup")||console.warn("AG Grid: property usingTreeData=true with rowModel=serverSide, but you did not provide isServerSideGroup function, please provide isServerSideGroup function if using tree data."),this.gridOptionsService.exists("getServerSideGroupKey")||console.warn("AG Grid: property usingTreeData=true with rowModel=serverSide, but you did not provide getServerSideGroupKey function, please provide getServerSideGroupKey function if using tree data."))},ne([K("gridOptions")],t.prototype,"gridOptions",void 0),ne([K("gridOptionsService")],t.prototype,"gridOptionsService",void 0),ne([H],t.prototype,"init",null),t=ne([z("gridOptionsValidator")],t)}();function ce(t,e){var i=["groupRows","multipleColumns","custom","singleColumn"];return i.indexOf(e)<0?(console.warn("AG Grid: '"+e+"' is not a valid groupDisplayType value - possible values are: '"+i.join("', '")+"'"),!1):e===t}var ue=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},he=function(){function t(t,e,i,o){this.displayedChildren=[],this.localEventService=new et,this.groupId=e,this.partId=i,this.providedColumnGroup=t,this.pinned=o}return t.createUniqueId=function(t,e){return t+"_"+e},t.prototype.reset=function(){this.parent=null,this.children=null,this.displayedChildren=null},t.prototype.getParent=function(){return this.parent},t.prototype.setParent=function(t){this.parent=t},t.prototype.getUniqueId=function(){return t.createUniqueId(this.groupId,this.partId)},t.prototype.isEmptyGroup=function(){return 0===this.displayedChildren.length},t.prototype.isMoving=function(){var t=this.getProvidedColumnGroup().getLeafColumns();return!(!t||0===t.length)&&t.every((function(t){return t.isMoving()}))},t.prototype.checkLeft=function(){if(this.displayedChildren.forEach((function(e){e instanceof t&&e.checkLeft()})),this.displayedChildren.length>0)if(this.gridOptionsService.is("enableRtl")){var e=ft(this.displayedChildren).getLeft();this.setLeft(e)}else{var i=this.displayedChildren[0].getLeft();this.setLeft(i)}else this.setLeft(null)},t.prototype.getLeft=function(){return this.left},t.prototype.getOldLeft=function(){return this.oldLeft},t.prototype.setLeft=function(e){this.oldLeft=e,this.left!==e&&(this.left=e,this.localEventService.dispatchEvent(this.createAgEvent(t.EVENT_LEFT_CHANGED)))},t.prototype.getPinned=function(){return this.pinned},t.prototype.createAgEvent=function(t){return{type:t}},t.prototype.addEventListener=function(t,e){this.localEventService.addEventListener(t,e)},t.prototype.removeEventListener=function(t,e){this.localEventService.removeEventListener(t,e)},t.prototype.getGroupId=function(){return this.groupId},t.prototype.getPartId=function(){return this.partId},t.prototype.isChildInThisGroupDeepSearch=function(e){var i=!1;return this.children.forEach((function(o){e===o&&(i=!0),o instanceof t&&o.isChildInThisGroupDeepSearch(e)&&(i=!0)})),i},t.prototype.getActualWidth=function(){var t=0;return this.displayedChildren&&this.displayedChildren.forEach((function(e){t+=e.getActualWidth()})),t},t.prototype.isResizable=function(){if(!this.displayedChildren)return!1;var t=!1;return this.displayedChildren.forEach((function(e){e.isResizable()&&(t=!0)})),t},t.prototype.getMinWidth=function(){var t=0;return this.displayedChildren.forEach((function(e){t+=e.getMinWidth()||0})),t},t.prototype.addChild=function(t){this.children||(this.children=[]),this.children.push(t)},t.prototype.getDisplayedChildren=function(){return this.displayedChildren},t.prototype.getLeafColumns=function(){var t=[];return this.addLeafColumns(t),t},t.prototype.getDisplayedLeafColumns=function(){var t=[];return this.addDisplayedLeafColumns(t),t},t.prototype.getDefinition=function(){return this.providedColumnGroup.getColGroupDef()},t.prototype.getColGroupDef=function(){return this.providedColumnGroup.getColGroupDef()},t.prototype.isPadding=function(){return this.providedColumnGroup.isPadding()},t.prototype.isExpandable=function(){return this.providedColumnGroup.isExpandable()},t.prototype.isExpanded=function(){return this.providedColumnGroup.isExpanded()},t.prototype.setExpanded=function(t){this.providedColumnGroup.setExpanded(t)},t.prototype.addDisplayedLeafColumns=function(e){this.displayedChildren.forEach((function(i){i instanceof ct?e.push(i):i instanceof t&&i.addDisplayedLeafColumns(e)}))},t.prototype.addLeafColumns=function(e){this.children.forEach((function(i){i instanceof ct?e.push(i):i instanceof t&&i.addLeafColumns(e)}))},t.prototype.getChildren=function(){return this.children},t.prototype.getColumnGroupShow=function(){return this.providedColumnGroup.getColumnGroupShow()},t.prototype.getProvidedColumnGroup=function(){return this.providedColumnGroup},t.prototype.getOriginalColumnGroup=function(){return ae("27","getOriginalColumnGroup","getProvidedColumnGroup"),this.getProvidedColumnGroup()},t.prototype.getPaddingLevel=function(){var t=this.getParent();return this.isPadding()&&t&&t.isPadding()?1+t.getPaddingLevel():0},t.prototype.calculateDisplayedColumns=function(){var e=this;this.displayedChildren=[];for(var i=this;null!=i&&i.isPadding();)i=i.getParent();if(!(!!i&&i.providedColumnGroup.isExpandable()))return this.displayedChildren=this.children,void this.localEventService.dispatchEvent(this.createAgEvent(t.EVENT_DISPLAYED_CHILDREN_CHANGED));this.children.forEach((function(o){if(!(o instanceof t&&(!o.displayedChildren||!o.displayedChildren.length)))switch(o.getColumnGroupShow()){case"open":i.providedColumnGroup.isExpanded()&&e.displayedChildren.push(o);break;case"closed":i.providedColumnGroup.isExpanded()||e.displayedChildren.push(o);break;default:e.displayedChildren.push(o)}})),this.localEventService.dispatchEvent(this.createAgEvent(t.EVENT_DISPLAYED_CHILDREN_CHANGED))},t.EVENT_LEFT_CHANGED="leftChanged",t.EVENT_DISPLAYED_CHILDREN_CHANGED="displayedChildrenChanged",ue([K("gridOptionsService")],t.prototype,"gridOptionsService",void 0),t}(),de=function(){function t(){this.existingIds={}}return t.prototype.getInstanceIdForKey=function(t){var e,i=this.existingIds[t];return e="number"!=typeof i?0:i+1,this.existingIds[t]=e,e},t}(),pe=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),fe=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},ge="ag-Grid-AutoColumn",me=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return pe(e,t),e.prototype.createAutoGroupColumns=function(t,e){var i=this,o=[],n=this.gridOptionsService.isTreeData(),r=this.gridOptionsService.isGroupMultiAutoColumn();return n&&r&&(console.warn('AG Grid: you cannot mix groupDisplayType = "multipleColumns" with treeData, only one column can be used to display groups when doing tree data'),r=!1),r?e.forEach((function(e,n){o.push(i.createOneAutoGroupColumn(t,e,n))})):o.push(this.createOneAutoGroupColumn(t)),o},e.prototype.createOneAutoGroupColumn=function(t,e,i){var o,n=this.generateDefaultColDef(e);(o=e?ge+"-"+e.getId():ge,b(n,this.gridOptionsService.get("autoGroupColumnDef")),(n=this.columnFactory.mergeColDefs(n)).colId=o,this.gridOptionsService.isTreeData())||r(n.field)&&r(n.valueGetter)&&r(n.filterValueGetter)&&"agGroupColumnFilter"!==n.filter&&(n.filter=!1);i&&i>0&&(n.headerCheckboxSelection=!1);var s=t.find((function(t){return t.getId()==o}));if(s)return s.setColDef(n,null),this.columnFactory.applyColumnState(s,n),s;this.gridOptionsService.isColumnsSortingCoupledToGroup()&&(n.sort||n.initialSort)&&!n.field&&b(n,{sort:null,initialSort:null},!0,!0);var a=new ct(n,null,o,!0);return this.context.createBean(a),a},e.prototype.generateDefaultColDef=function(t){var e=this.gridOptionsService.get("autoGroupColumnDef"),i={headerName:this.localeService.getLocaleTextFunc()("group","Group")};if(e&&(e.cellRenderer||e.cellRendererFramework||e.cellRendererSelector)||(i.cellRenderer="agGroupCellRenderer"),t){var o=t.getColDef();Object.assign(i,{headerName:this.columnModel.getDisplayNameForColumn(t,"header"),headerValueGetter:o.headerValueGetter}),(o.cellRenderer||o.cellRendererFramework)&&Object.assign(i,{cellRendererParams:{innerRenderer:o.cellRenderer,innerRendererFramework:o.cellRendererFramework,innerRendererParams:o.cellRendererParams}}),i.showRowGroup=t.getColId()}else i.showRowGroup=!0;return i},fe([K("columnModel")],e.prototype,"columnModel",void 0),fe([K("columnFactory")],e.prototype,"columnFactory",void 0),e=fe([z("autoGroupColService")],e)}(jt),ye=/[&<>"']/g,ve={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function _e(t){return t[0].toUpperCase()+t.substr(1).toLowerCase()}function Ce(t,e){if(null==t)return null;var i=t.toString().toString();return e?i:i.replace(ye,(function(t){return ve[t]}))}function be(t){if(!t||null==t)return null;return t.replace(/([a-z])([A-Z])/g,"$1 $2").replace(/([A-Z]+)([A-Z])([a-z])/g,"$1 $2$3").replace(/\./g," ").split(" ").map((function(t){return t.substring(0,1).toUpperCase()+(t.length>1?t.substring(1,t.length):"")})).join(" ")}var Ee=Object.freeze({__proto__:null,utf8_encode:function(t){var e=String.fromCharCode;function i(t,i){return e(t>>i&63|128)}function o(t){if(t>=0&&t<=31&&10!==t)return"_x"+t.toString(16).toUpperCase().padStart(4,"0")+"_";if(0==(4294967168&t))return e(t);var o="";return 0==(4294965248&t)?o=e(t>>6&31|192):0==(4294901760&t)?(!function(t){if(t>=55296&&t<=57343)throw Error("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}(t),o=e(t>>12&15|224),o+=i(t,6)):0==(4292870144&t)&&(o=e(t>>18&7|240),o+=i(t,12),o+=i(t,6)),o+=e(63&t|128)}for(var n=function(t){var e=[];if(!t)return[];for(var i,o,n=t.length,r=0;r<n;)(i=t.charCodeAt(r++))>=55296&&i<=56319&&r<n?56320==(64512&(o=t.charCodeAt(r++)))?e.push(((1023&i)<<10)+(1023&o)+65536):(e.push(i),r--):e.push(i);return e}(t),r=n.length,s=-1,a="";++s<r;)a+=o(n[s]);return a},capitalise:_e,escapeString:Ce,camelCaseToHumanText:be});function Se(t){var e=new Map;return t.forEach((function(t){return e.set(t[0],t[1])})),e}var we=Object.freeze({__proto__:null,convertToMap:Se,mapById:function(t,e){var i=new Map;return t.forEach((function(t){return i.set(e(t),t)})),i},keys:function(t){var e=[];return t.forEach((function(t,i){return e.push(i)})),e}}),Oe=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),xe=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},Pe=function(t,e){return function(i,o){e(i,o,t)}},Te=function(t,e){var i={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(i[o]=t[o]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(o=Object.getOwnPropertySymbols(t);n<o.length;n++)e.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(t,o[n])&&(i[o[n]]=t[o[n]])}return i},Me=function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],o=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},De=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,n,r=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return s},Ae=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(De(arguments[e]));return t},Re=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.primaryHeaderRowCount=0,e.secondaryHeaderRowCount=0,e.gridHeaderRowCount=0,e.displayedColumnsLeft=[],e.displayedColumnsRight=[],e.displayedColumnsCenter=[],e.displayedColumns=[],e.displayedColumnsAndGroupsMap={},e.viewportColumns=[],e.viewportColumnsHash="",e.headerViewportColumns=[],e.viewportColumnsCenter=[],e.headerViewportColumnsCenter=[],e.autoHeightActiveAtLeastOnce=!1,e.rowGroupColumns=[],e.valueColumns=[],e.pivotColumns=[],e.ready=!1,e.autoGroupsNeedBuilding=!1,e.forceRecreateAutoGroups=!1,e.pivotMode=!1,e.bodyWidth=0,e.leftWidth=0,e.rightWidth=0,e.bodyWidthDirty=!0,e}return Oe(e,t),e.prototype.init=function(){var t=this;this.suppressColumnVirtualisation=this.gridOptionsService.is("suppressColumnVirtualisation");var e=this.gridOptionsService.is("pivotMode");this.isPivotSettingAllowed(e)&&(this.pivotMode=e),this.usingTreeData=this.gridOptionsService.isTreeData(),this.addManagedPropertyListener("groupDisplayType",(function(){return t.onAutoGroupColumnDefChanged()})),this.addManagedPropertyListener("autoGroupColumnDef",(function(){return t.onAutoGroupColumnDefChanged()})),this.addManagedPropertyListener("defaultColDef",(function(e){return t.onSharedColDefChanged(e.source)})),this.addManagedPropertyListener("columnTypes",(function(e){return t.onSharedColDefChanged(e.source)}))},e.prototype.onAutoGroupColumnDefChanged=function(){this.autoGroupsNeedBuilding=!0,this.forceRecreateAutoGroups=!0,this.updateGridColumns(),this.updateDisplayedColumns("gridOptionsChanged")},e.prototype.onSharedColDefChanged=function(t){void 0===t&&(t="api"),this.forceRecreateAutoGroups=!0,this.createColumnsFromColumnDefs(!0,t)},e.prototype.setColumnDefs=function(t,e){void 0===e&&(e="api");var i=!!this.columnDefs;this.columnDefs=t,this.createColumnsFromColumnDefs(i,e)},e.prototype.destroyOldColumns=function(t,e){var i={};if(t){this.columnUtils.depthFirstOriginalTreeSearch(null,t,(function(t){i[t.getInstanceId()]=t})),e&&this.columnUtils.depthFirstOriginalTreeSearch(null,e,(function(t){i[t.getInstanceId()]=null}));var o=Object.values(i).filter((function(t){return null!=t}));this.destroyBeans(o)}},e.prototype.destroyColumns=function(){this.destroyOldColumns(this.primaryColumnTree),this.destroyOldColumns(this.secondaryBalancedTree),this.destroyOldColumns(this.groupAutoColsBalancedTree)},e.prototype.createColumnsFromColumnDefs=function(t,e){var i=this;void 0===e&&(e="api");var o=t?this.compareColumnStatesAndDispatchEvents(e):void 0;this.valueCache.expire(),this.autoGroupsNeedBuilding=!0;var n=this.primaryColumns,r=this.primaryColumnTree,s=this.columnFactory.createColumnTree(this.columnDefs,!0,r);this.destroyOldColumns(this.primaryColumnTree,s.columnTree),this.primaryColumnTree=s.columnTree,this.primaryHeaderRowCount=s.treeDept+1,this.primaryColumns=this.getColumnsFromTree(this.primaryColumnTree),this.primaryColumnsMap={},this.primaryColumns.forEach((function(t){return i.primaryColumnsMap[t.getId()]=t})),this.extractRowGroupColumns(e,n),this.extractPivotColumns(e,n),this.extractValueColumns(e,n),this.ready=!0;var a=void 0===this.gridColsArePrimary;(this.gridColsArePrimary||a)&&(this.updateGridColumns(),t&&!this.gridOptionsService.is("maintainColumnOrder")&&this.orderGridColumnsLikePrimary(),this.updateDisplayedColumns(e),this.checkViewportColumns()),this.dispatchEverythingChanged(e),o&&o(),this.dispatchNewColumnsLoaded()},e.prototype.dispatchNewColumnsLoaded=function(){var t={type:zt.EVENT_NEW_COLUMNS_LOADED};this.eventService.dispatchEvent(t)},e.prototype.dispatchEverythingChanged=function(t){void 0===t&&(t="api");var e={type:zt.EVENT_COLUMN_EVERYTHING_CHANGED,source:t};this.eventService.dispatchEvent(e)},e.prototype.orderGridColumnsLikePrimary=function(){var t=this,e=this.primaryColumns;e&&(this.gridColumns.sort((function(i,o){var n=e.indexOf(i),r=e.indexOf(o),s=n>=0,a=r>=0;return s&&a?n-r:s?1:a?-1:t.gridColumns.indexOf(i)-t.gridColumns.indexOf(o)})),this.gridColumns=this.placeLockedColumns(this.gridColumns))},e.prototype.getAllDisplayedAutoHeightCols=function(){return this.displayedAutoHeightCols},e.prototype.setViewport=function(){this.gridOptionsService.is("enableRtl")?(this.viewportLeft=this.bodyWidth-this.scrollPosition-this.scrollWidth,this.viewportRight=this.bodyWidth-this.scrollPosition):(this.viewportLeft=this.scrollPosition,this.viewportRight=this.scrollWidth+this.scrollPosition)},e.prototype.getDisplayedColumnsStartingAt=function(t){for(var e=t,i=[];null!=e;)i.push(e),e=this.getDisplayedColAfter(e);return i},e.prototype.checkViewportColumns=function(){if(null!=this.displayedColumnsCenter&&this.extractViewport()){var t={type:zt.EVENT_VIRTUAL_COLUMNS_CHANGED};this.eventService.dispatchEvent(t)}},e.prototype.setViewportPosition=function(t,e){(t!==this.scrollWidth||e!==this.scrollPosition||this.bodyWidthDirty)&&(this.scrollWidth=t,this.scrollPosition=e,this.bodyWidthDirty=!0,this.setViewport(),this.ready&&this.checkViewportColumns())},e.prototype.isPivotMode=function(){return this.pivotMode},e.prototype.isPivotSettingAllowed=function(t){return!t||!this.gridOptionsService.isTreeData()||(console.warn("AG Grid: Pivot mode not available in conjunction Tree Data i.e. 'gridOptions.treeData: true'"),!1)},e.prototype.setPivotMode=function(t,e){if(void 0===e&&(e="api"),t!==this.pivotMode&&this.isPivotSettingAllowed(this.pivotMode)){this.pivotMode=t,this.autoGroupsNeedBuilding=!0,this.updateGridColumns(),this.updateDisplayedColumns(e);var i={type:zt.EVENT_COLUMN_PIVOT_MODE_CHANGED};this.eventService.dispatchEvent(i)}},e.prototype.getSecondaryPivotColumn=function(t,e){if(r(this.secondaryColumns))return null;var i=this.getPrimaryColumn(e),o=null;return this.secondaryColumns.forEach((function(e){var n=e.getColDef().pivotKeys,r=e.getColDef().pivotValueColumn;gt(n,t)&&r===i&&(o=e)})),o},e.prototype.setBeans=function(t){this.logger=t.create("columnModel")},e.prototype.setFirstRightAndLastLeftPinned=function(t){var e,i;this.gridOptionsService.is("enableRtl")?(e=this.displayedColumnsLeft?this.displayedColumnsLeft[0]:null,i=this.displayedColumnsRight?ft(this.displayedColumnsRight):null):(e=this.displayedColumnsLeft?ft(this.displayedColumnsLeft):null,i=this.displayedColumnsRight?this.displayedColumnsRight[0]:null),this.gridColumns.forEach((function(o){o.setLastLeftPinned(o===e,t),o.setFirstRightPinned(o===i,t)}))},e.prototype.autoSizeColumns=function(t){var e=this,i=t.columns,o=t.skipHeader,n=t.skipHeaderGroups,r=t.stopAtGroup,s=t.source,a=void 0===s?"api":s;this.animationFrameService.flushAllFrames();for(var l=[],c=-1,u=null!=o?o:this.gridOptionsService.is("skipHeaderOnAutoSize"),h=null!=n?n:u;0!==c;)c=0,this.actionOnGridColumns(i,(function(t){if(l.indexOf(t)>=0)return!1;var i=e.autoWidthCalculator.getPreferredWidthForColumn(t,u);if(i>0){var o=e.normaliseColumnWidth(t,i);t.setActualWidth(o,a),l.push(t),c++}return!0}),a);h||this.autoSizeColumnGroupsByColumns(i,a,r),this.dispatchColumnResizedEvent(l,!0,"autosizeColumns")},e.prototype.dispatchColumnResizedEvent=function(t,e,i,o){if(void 0===o&&(o=null),t&&t.length){var n={type:zt.EVENT_COLUMN_RESIZED,columns:t,column:1===t.length?t[0]:null,flexColumns:o,finished:e,source:i};this.eventService.dispatchEvent(n)}},e.prototype.dispatchColumnChangedEvent=function(t,e,i){var o={type:t,columns:e,column:e&&1==e.length?e[0]:null,source:i};this.eventService.dispatchEvent(o)},e.prototype.dispatchColumnMovedEvent=function(t){var e=t.movedColumns,i=t.source,o=t.toIndex,n=t.finished,r={type:zt.EVENT_COLUMN_MOVED,columns:e,column:e&&1===e.length?e[0]:null,toIndex:o,finished:n,source:i};this.eventService.dispatchEvent(r)},e.prototype.dispatchColumnPinnedEvent=function(t,e){if(t.length){var i=1===t.length?t[0]:null,o=this.getCommonValue(t,(function(t){return t.getPinned()})),n={type:zt.EVENT_COLUMN_PINNED,pinned:null!=o?o:null,columns:t,column:i,source:e};this.eventService.dispatchEvent(n)}},e.prototype.dispatchColumnVisibleEvent=function(t,e){if(t.length){var i=1===t.length?t[0]:null,o=this.getCommonValue(t,(function(t){return t.isVisible()})),n={type:zt.EVENT_COLUMN_VISIBLE,visible:o,columns:t,column:i,source:e};this.eventService.dispatchEvent(n)}},e.prototype.autoSizeColumn=function(t,e,i){void 0===i&&(i="api"),t&&this.autoSizeColumns({columns:[t],skipHeader:e,skipHeaderGroups:!0,source:i})},e.prototype.autoSizeColumnGroupsByColumns=function(t,e,i){var o,n,r,s,a,l=new Set;this.getGridColumns(t).forEach((function(t){for(var e=t.getParent();e&&e!=i;)e.isPadding()||l.add(e),e=e.getParent()}));try{for(var c=Me(l),u=c.next();!u.done;u=c.next()){var h=u.value;try{for(var d=(r=void 0,Me(this.ctrlsService.getHeaderRowContainerCtrls())),p=d.next();!p.done;p=d.next()){if(a=p.value.getHeaderCtrlForColumn(h))break}}catch(t){r={error:t}}finally{try{p&&!p.done&&(s=d.return)&&s.call(d)}finally{if(r)throw r.error}}a&&a.resizeLeafColumnsToFit(e)}}catch(t){o={error:t}}finally{try{u&&!u.done&&(n=c.return)&&n.call(c)}finally{if(o)throw o.error}}return[]},e.prototype.autoSizeAllColumns=function(t,e){void 0===e&&(e="api");var i=this.getAllDisplayedColumns();this.autoSizeColumns({columns:i,skipHeader:t,source:e})},e.prototype.getColumnsFromTree=function(t){var e=[],i=function(t){for(var o=0;o<t.length;o++){var n=t[o];n instanceof ct?e.push(n):n instanceof ht&&i(n.getChildren())}};return i(t),e},e.prototype.getAllDisplayedTrees=function(){return this.displayedTreeLeft&&this.displayedTreeRight&&this.displayedTreeCentre?this.displayedTreeLeft.concat(this.displayedTreeCentre).concat(this.displayedTreeRight):null},e.prototype.getPrimaryColumnTree=function(){return this.primaryColumnTree},e.prototype.getHeaderRowCount=function(){return this.gridHeaderRowCount},e.prototype.getDisplayedTreeLeft=function(){return this.displayedTreeLeft},e.prototype.getDisplayedTreeRight=function(){return this.displayedTreeRight},e.prototype.getDisplayedTreeCentre=function(){return this.displayedTreeCentre},e.prototype.isColumnDisplayed=function(t){return this.getAllDisplayedColumns().indexOf(t)>=0},e.prototype.getAllDisplayedColumns=function(){return this.displayedColumns},e.prototype.getViewportColumns=function(){return this.viewportColumns},e.prototype.getDisplayedLeftColumnsForRow=function(t){return this.colSpanActive?this.getDisplayedColumnsForRow(t,this.displayedColumnsLeft):this.displayedColumnsLeft},e.prototype.getDisplayedRightColumnsForRow=function(t){return this.colSpanActive?this.getDisplayedColumnsForRow(t,this.displayedColumnsRight):this.displayedColumnsRight},e.prototype.isColSpanActive=function(){return this.colSpanActive},e.prototype.getDisplayedColumnsForRow=function(t,e,i,o){for(var n,r=[],s=null,a=function(a){var l,c=e[a],u=e.length-a,h=Math.min(c.getColSpan(t),u),d=[c];if(h>1){for(var p=h-1,f=1;f<=p;f++)d.push(e[a+f]);a+=p}if(i?(l=!1,d.forEach((function(t){i(t)&&(l=!0)}))):l=!0,l){if(0===r.length&&s)!!o&&o(c)&&r.push(s);r.push(c)}s=c,n=a},l=0;l<e.length;l++)a(l),l=n;return r},e.prototype.getViewportCenterColumnsForRow=function(t){var e=this;if(!this.colSpanActive)return this.viewportColumnsCenter;var i=this.suppressColumnVirtualisation?null:this.isColumnInRowViewport.bind(this);return this.getDisplayedColumnsForRow(t,this.displayedColumnsCenter,i,(function(t){var i=t.getLeft();return n(i)&&i>e.viewportLeft}))},e.prototype.getAriaColumnIndex=function(t){return this.getAllGridColumns().indexOf(t)+1},e.prototype.isColumnInHeaderViewport=function(t){return!!t.isAutoHeaderHeight()||this.isColumnInRowViewport(t)},e.prototype.isColumnInRowViewport=function(t){if(t.isAutoHeight())return!0;var e=t.getLeft()||0,i=e+t.getActualWidth(),o=this.viewportLeft-200,n=this.viewportRight+200;return!(e<o&&i<o)&&!(e>n&&i>n)},e.prototype.getDisplayedColumnsLeftWidth=function(){return this.getWidthOfColsInList(this.displayedColumnsLeft)},e.prototype.getDisplayedColumnsRightWidth=function(){return this.getWidthOfColsInList(this.displayedColumnsRight)},e.prototype.updatePrimaryColumnList=function(t,e,i,o,n,r){var a=this;if(void 0===r&&(r="api"),t&&!s(t)){var l=!1;if(t.forEach((function(t){var n=a.getPrimaryColumn(t);if(n){if(i){if(e.indexOf(n)>=0)return;e.push(n)}else{if(e.indexOf(n)<0)return;yt(e,n)}o(n),l=!0}})),l){this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(r);var c={type:n,columns:e,column:1===e.length?e[0]:null,source:r};this.eventService.dispatchEvent(c)}}},e.prototype.setRowGroupColumns=function(t,e){void 0===e&&(e="api"),this.autoGroupsNeedBuilding=!0,this.setPrimaryColumnList(t,this.rowGroupColumns,zt.EVENT_COLUMN_ROW_GROUP_CHANGED,this.setRowGroupActive.bind(this),e)},e.prototype.setRowGroupActive=function(t,e,i){t!==e.isRowGroupActive()&&(e.setRowGroupActive(t,i),t&&!this.gridOptionsService.is("suppressRowGroupHidesColumns")&&this.setColumnVisible(e,!1,i),t||this.gridOptionsService.is("suppressMakeColumnVisibleAfterUnGroup")||this.setColumnVisible(e,!0,i))},e.prototype.addRowGroupColumn=function(t,e){void 0===e&&(e="api"),t&&this.addRowGroupColumns([t],e)},e.prototype.addRowGroupColumns=function(t,e){void 0===e&&(e="api"),this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(t,this.rowGroupColumns,!0,this.setRowGroupActive.bind(this,!0),zt.EVENT_COLUMN_ROW_GROUP_CHANGED,e)},e.prototype.removeRowGroupColumns=function(t,e){void 0===e&&(e="api"),this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(t,this.rowGroupColumns,!1,this.setRowGroupActive.bind(this,!1),zt.EVENT_COLUMN_ROW_GROUP_CHANGED,e)},e.prototype.removeRowGroupColumn=function(t,e){void 0===e&&(e="api"),t&&this.removeRowGroupColumns([t],e)},e.prototype.addPivotColumns=function(t,e){void 0===e&&(e="api"),this.updatePrimaryColumnList(t,this.pivotColumns,!0,(function(t){return t.setPivotActive(!0,e)}),zt.EVENT_COLUMN_PIVOT_CHANGED,e)},e.prototype.setPivotColumns=function(t,e){void 0===e&&(e="api"),this.setPrimaryColumnList(t,this.pivotColumns,zt.EVENT_COLUMN_PIVOT_CHANGED,(function(t,i){i.setPivotActive(t,e)}),e)},e.prototype.addPivotColumn=function(t,e){void 0===e&&(e="api"),this.addPivotColumns([t],e)},e.prototype.removePivotColumns=function(t,e){void 0===e&&(e="api"),this.updatePrimaryColumnList(t,this.pivotColumns,!1,(function(t){return t.setPivotActive(!1,e)}),zt.EVENT_COLUMN_PIVOT_CHANGED,e)},e.prototype.removePivotColumn=function(t,e){void 0===e&&(e="api"),this.removePivotColumns([t],e)},e.prototype.setPrimaryColumnList=function(t,e,i,o,r){var s=this;e.length=0,n(t)&&t.forEach((function(t){var i=s.getPrimaryColumn(t);i&&e.push(i)})),(this.primaryColumns||[]).forEach((function(t){var i=e.indexOf(t)>=0;o(i,t)})),this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(r),this.dispatchColumnChangedEvent(i,e,r)},e.prototype.setValueColumns=function(t,e){void 0===e&&(e="api"),this.setPrimaryColumnList(t,this.valueColumns,zt.EVENT_COLUMN_VALUE_CHANGED,this.setValueActive.bind(this),e)},e.prototype.setValueActive=function(t,e,i){if(t!==e.isValueActive()&&(e.setValueActive(t,i),t&&!e.getAggFunc())){var o=this.aggFuncService.getDefaultAggFunc(e);e.setAggFunc(o)}},e.prototype.addValueColumns=function(t,e){void 0===e&&(e="api"),this.updatePrimaryColumnList(t,this.valueColumns,!0,this.setValueActive.bind(this,!0),zt.EVENT_COLUMN_VALUE_CHANGED,e)},e.prototype.addValueColumn=function(t,e){void 0===e&&(e="api"),t&&this.addValueColumns([t],e)},e.prototype.removeValueColumn=function(t,e){void 0===e&&(e="api"),this.removeValueColumns([t],e)},e.prototype.removeValueColumns=function(t,e){void 0===e&&(e="api"),this.updatePrimaryColumnList(t,this.valueColumns,!1,this.setValueActive.bind(this,!1),zt.EVENT_COLUMN_VALUE_CHANGED,e)},e.prototype.normaliseColumnWidth=function(t,e){var i=t.getMinWidth();n(i)&&e<i&&(e=i);var o=t.getMaxWidth();return n(o)&&t.isGreaterThanMax(e)&&(e=o),e},e.prototype.getPrimaryOrGridColumn=function(t){return this.getPrimaryColumn(t)||this.getGridColumn(t)},e.prototype.setColumnWidths=function(t,e,i,o){var n=this;void 0===o&&(o="api");var r=[];t.forEach((function(t){var i=n.getPrimaryOrGridColumn(t.key);if(i&&(r.push({width:t.newWidth,ratios:[1],columns:[i]}),"shift"===n.gridOptionsService.get("colResizeDefault")&&(e=!e),e)){var o=n.getDisplayedColAfter(i);if(!o)return;var s=i.getActualWidth()-t.newWidth,a=o.getActualWidth()+s;r.push({width:a,ratios:[1],columns:[o]})}})),0!==r.length&&this.resizeColumnSets({resizeSets:r,finished:i,source:o})},e.prototype.checkMinAndMaxWidthsForSet=function(t){var e=t.columns,i=t.width,o=0,r=0,s=!0;return e.forEach((function(t){var e=t.getMinWidth();o+=e||0;var i=t.getMaxWidth();n(i)&&i>0?r+=i:s=!1})),i>=o&&(!s||i<=r)},e.prototype.resizeColumnSets=function(t){var e=this,i=t.resizeSets,o=t.finished,r=t.source;if(!i||i.every((function(t){return e.checkMinAndMaxWidthsForSet(t)}))){var s=[],a=[];i.forEach((function(t){var e=t.width,i=t.columns,o=t.ratios,l={},c={};i.forEach((function(t){return a.push(t)}));for(var u=!0,h=0,d=function(){if(++h>1e3)return console.error("AG Grid: infinite loop in resizeColumnSets"),"break";u=!1;var t=[],r=0,s=e;i.forEach((function(e,i){if(c[e.getId()])s-=l[e.getId()];else{t.push(e);var n=o[i];r+=n}}));var a=1/r;t.forEach((function(i,r){var h;r===t.length-1?h=s:(h=Math.round(o[r]*e*a),s-=h);var d=i.getMinWidth(),p=i.getMaxWidth();n(d)&&h<d?(h=d,c[i.getId()]=!0,u=!0):n(p)&&p>0&&h>p&&(h=p,c[i.getId()]=!0,u=!0),l[i.getId()]=h}))};u;){if("break"===d())break}i.forEach((function(t){var e=l[t.getId()];t.getActualWidth()!==e&&(t.setActualWidth(e,r),s.push(t))}))}));var l=s.length>0,c=[];l&&(c=this.refreshFlexedColumns({resizingCols:a,skipSetLeft:!0}),this.setLeftValues(r),this.updateBodyWidths(),this.checkViewportColumns());var u=a.concat(c);(l||o)&&this.dispatchColumnResizedEvent(u,o,r,c)}else if(o){var h=i&&i.length>0?i[0].columns:null;this.dispatchColumnResizedEvent(h,o,r)}},e.prototype.setColumnAggFunc=function(t,e,i){if(void 0===i&&(i="api"),t){var o=this.getPrimaryColumn(t);o&&(o.setAggFunc(e),this.dispatchColumnChangedEvent(zt.EVENT_COLUMN_VALUE_CHANGED,[o],i))}},e.prototype.moveRowGroupColumn=function(t,e,i){void 0===i&&(i="api");var o=this.rowGroupColumns[t];this.rowGroupColumns.splice(t,1),this.rowGroupColumns.splice(e,0,o);var n={type:zt.EVENT_COLUMN_ROW_GROUP_CHANGED,columns:this.rowGroupColumns,column:1===this.rowGroupColumns.length?this.rowGroupColumns[0]:null,source:i};this.eventService.dispatchEvent(n)},e.prototype.moveColumns=function(t,e,i,o){if(void 0===i&&(i="api"),void 0===o&&(o=!0),this.columnAnimationService.start(),e>this.gridColumns.length-t.length)return console.warn("AG Grid: tried to insert columns in invalid location, toIndex = "+e),void console.warn("AG Grid: remember that you should not count the moving columns when calculating the new index");var n=this.getGridColumns(t);!this.doesMovePassRules(n,e)||(Ct(this.gridColumns,n,e),this.updateDisplayedColumns(i),this.dispatchColumnMovedEvent({movedColumns:n,source:i,toIndex:e,finished:o}),this.columnAnimationService.finish())},e.prototype.doesMovePassRules=function(t,e){var i=this.getProposedColumnOrder(t,e);return this.doesOrderPassRules(i)},e.prototype.doesOrderPassRules=function(t){return!!this.doesMovePassMarryChildren(t)&&!!this.doesMovePassLockedPositions(t)},e.prototype.getProposedColumnOrder=function(t,e){var i=this.gridColumns.slice();return Ct(i,t,e),i},e.prototype.sortColumnsLikeGridColumns=function(t){var e=this;!t||t.length<=1||(t.filter((function(t){return e.gridColumns.indexOf(t)<0})).length>0||t.sort((function(t,i){return e.gridColumns.indexOf(t)-e.gridColumns.indexOf(i)})))},e.prototype.doesMovePassLockedPositions=function(t){var e=0,i=!0;return t.forEach((function(t){var o,n=(o=t.getColDef().lockPosition)?!0===o||"left"===o?0:2:1;n<e&&(i=!1),e=n})),i},e.prototype.doesMovePassMarryChildren=function(t){var e=!0;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,(function(i){if(i instanceof ht){var o=i,n=o.getColGroupDef();if(n&&n.marryChildren){var r=[];o.getLeafColumns().forEach((function(e){var i=t.indexOf(e);r.push(i)})),Math.max.apply(Math,r)-Math.min.apply(Math,r)>o.getLeafColumns().length-1&&(e=!1)}}})),e},e.prototype.moveColumn=function(t,e,i){void 0===i&&(i="api"),this.moveColumns([t],e,i)},e.prototype.moveColumnByIndex=function(t,e,i){void 0===i&&(i="api");var o=this.gridColumns[t];this.moveColumn(o,e,i)},e.prototype.getColumnDefs=function(){var t=this;if(this.primaryColumns){var e=this.primaryColumns.slice();return this.gridColsArePrimary?e.sort((function(e,i){return t.gridColumns.indexOf(e)-t.gridColumns.indexOf(i)})):this.lastPrimaryOrder&&e.sort((function(e,i){return t.lastPrimaryOrder.indexOf(e)-t.lastPrimaryOrder.indexOf(i)})),this.columnDefFactory.buildColumnDefs(e,this.rowGroupColumns,this.pivotColumns)}},e.prototype.getBodyContainerWidth=function(){return this.bodyWidth},e.prototype.getContainerWidth=function(t){switch(t){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}},e.prototype.updateBodyWidths=function(){var t=this.getWidthOfColsInList(this.displayedColumnsCenter),e=this.getWidthOfColsInList(this.displayedColumnsLeft),i=this.getWidthOfColsInList(this.displayedColumnsRight);if(this.bodyWidthDirty=this.bodyWidth!==t,this.bodyWidth!==t||this.leftWidth!==e||this.rightWidth!==i){this.bodyWidth=t,this.leftWidth=e,this.rightWidth=i;var o={type:zt.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED};this.eventService.dispatchEvent(o)}},e.prototype.getValueColumns=function(){return this.valueColumns?this.valueColumns:[]},e.prototype.getPivotColumns=function(){return this.pivotColumns?this.pivotColumns:[]},e.prototype.isPivotActive=function(){return this.pivotColumns&&this.pivotColumns.length>0&&this.pivotMode},e.prototype.getRowGroupColumns=function(){return this.rowGroupColumns?this.rowGroupColumns:[]},e.prototype.getDisplayedCenterColumns=function(){return this.displayedColumnsCenter},e.prototype.getDisplayedLeftColumns=function(){return this.displayedColumnsLeft},e.prototype.getDisplayedRightColumns=function(){return this.displayedColumnsRight},e.prototype.getDisplayedColumns=function(t){switch(t){case"left":return this.getDisplayedLeftColumns();case"right":return this.getDisplayedRightColumns();default:return this.getDisplayedCenterColumns()}},e.prototype.getAllPrimaryColumns=function(){return this.primaryColumns?this.primaryColumns.slice():null},e.prototype.getSecondaryColumns=function(){return this.secondaryColumns?this.secondaryColumns.slice():null},e.prototype.getAllColumnsForQuickFilter=function(){return this.columnsForQuickFilter},e.prototype.getAllGridColumns=function(){return this.gridColumns},e.prototype.isEmpty=function(){return s(this.gridColumns)},e.prototype.isRowGroupEmpty=function(){return s(this.rowGroupColumns)},e.prototype.setColumnVisible=function(t,e,i){void 0===i&&(i="api"),this.setColumnsVisible([t],e,i)},e.prototype.setColumnsVisible=function(t,e,i){void 0===e&&(e=!1),void 0===i&&(i="api"),this.applyColumnState({state:t.map((function(t){return{colId:"string"==typeof t?t:t.getColId(),hide:!e}}))},i)},e.prototype.setColumnPinned=function(t,e,i){void 0===i&&(i="api"),t&&this.setColumnsPinned([t],e,i)},e.prototype.setColumnsPinned=function(t,e,i){var o;(void 0===i&&(i="api"),this.gridOptionsService.isDomLayout("print"))?console.warn("AG Grid: Changing the column pinning status is not allowed with domLayout='print'"):(this.columnAnimationService.start(),o=!0===e||"left"===e?"left":"right"===e?"right":null,this.actionOnGridColumns(t,(function(t){return t.getPinned()!==o&&(t.setPinned(o),!0)}),i,(function(){return{type:zt.EVENT_COLUMN_PINNED,pinned:o,column:null,columns:null,source:i}})),this.columnAnimationService.finish())},e.prototype.actionOnGridColumns=function(t,e,i,o){var r=this;if(!s(t)){var a=[];if(t.forEach((function(t){var i=r.getGridColumn(t);i&&(!1!==e(i)&&a.push(i))})),a.length&&(this.updateDisplayedColumns(i),n(o)&&o)){var l=o();l.columns=a,l.column=1===a.length?a[0]:null,this.eventService.dispatchEvent(l)}}},e.prototype.getDisplayedColBefore=function(t){var e=this.getAllDisplayedColumns(),i=e.indexOf(t);return i>0?e[i-1]:null},e.prototype.getDisplayedColAfter=function(t){var e=this.getAllDisplayedColumns(),i=e.indexOf(t);return i<e.length-1?e[i+1]:null},e.prototype.getDisplayedGroupAfter=function(t){return this.getDisplayedGroupAtDirection(t,"After")},e.prototype.getDisplayedGroupBefore=function(t){return this.getDisplayedGroupAtDirection(t,"Before")},e.prototype.getDisplayedGroupAtDirection=function(t,e){for(var i=t.getProvidedColumnGroup().getLevel()+t.getPaddingLevel(),o=t.getDisplayedLeafColumns(),n="After"===e?ft(o):o[0],r="getDisplayedCol"+e;;){var s=this[r](n);if(!s)return null;var a=this.getColumnGroupAtLevel(s,i);if(a!==t)return a}},e.prototype.getColumnGroupAtLevel=function(t,e){for(var i=t.getParent();;){if(i.getProvidedColumnGroup().getLevel()+i.getPaddingLevel()<=e)break;i=i.getParent()}return i},e.prototype.isPinningLeft=function(){return this.displayedColumnsLeft.length>0},e.prototype.isPinningRight=function(){return this.displayedColumnsRight.length>0},e.prototype.getPrimaryAndSecondaryAndAutoColumns=function(){var t;return(t=[]).concat.apply(t,Ae([this.primaryColumns||[],this.groupAutoColumns||[],this.secondaryColumns||[]]))},e.prototype.createStateItemFromColumn=function(t){var e=t.isRowGroupActive()?this.rowGroupColumns.indexOf(t):null,i=t.isPivotActive()?this.pivotColumns.indexOf(t):null,o=t.isValueActive()?t.getAggFunc():null,n=null!=t.getSort()?t.getSort():null,r=null!=t.getSortIndex()?t.getSortIndex():null,s=null!=t.getFlex()&&t.getFlex()>0?t.getFlex():null;return{colId:t.getColId(),width:t.getActualWidth(),hide:!t.isVisible(),pinned:t.getPinned(),sort:n,sortIndex:r,aggFunc:o,rowGroup:t.isRowGroupActive(),rowGroupIndex:e,pivot:t.isPivotActive(),pivotIndex:i,flex:s}},e.prototype.getColumnState=function(){if(r(this.primaryColumns)||!this.isAlive())return[];var t=this.getPrimaryAndSecondaryAndAutoColumns().map(this.createStateItemFromColumn.bind(this));return this.orderColumnStateList(t),t},e.prototype.orderColumnStateList=function(t){var e=Se(this.gridColumns.map((function(t,e){return[t.getColId(),e]})));t.sort((function(t,i){return(e.has(t.colId)?e.get(t.colId):-1)-(e.has(i.colId)?e.get(i.colId):-1)}))},e.prototype.resetColumnState=function(t){void 0===t&&(t="api");var e=this.getColumnsFromTree(this.primaryColumnTree),i=[],o=1e3,n=1e3,s=[];this.groupAutoColumns&&(s=s.concat(this.groupAutoColumns)),e&&(s=s.concat(e)),s.forEach((function(t){var e=function(t,e){return null!=t?t:null!=e?e:null},s=t.getColDef(),a=e(s.sort,s.initialSort),l=e(s.sortIndex,s.initialSortIndex),c=e(s.hide,s.initialHide),u=e(s.pinned,s.initialPinned),h=e(s.width,s.initialWidth),d=e(s.flex,s.initialFlex),p=e(s.rowGroupIndex,s.initialRowGroupIndex),f=e(s.rowGroup,s.initialRowGroup);null!=p||null!=f&&0!=f||(p=null,f=null);var g=e(s.pivotIndex,s.initialPivotIndex),m=e(s.pivot,s.initialPivot);null!=g||null!=m&&0!=m||(g=null,m=null);var y=e(s.aggFunc,s.initialAggFunc),v={colId:t.getColId(),sort:a,sortIndex:l,hide:c,pinned:u,width:h,flex:d,rowGroup:f,rowGroupIndex:p,pivot:m,pivotIndex:g,aggFunc:y};r(p)&&f&&(v.rowGroupIndex=o++),r(g)&&m&&(v.pivotIndex=n++),i.push(v)})),this.applyColumnState({state:i,applyOrder:!0},t)},e.prototype.applyColumnState=function(t,e){var i=this;if(s(this.primaryColumns))return!1;if(t&&t.state&&!t.state.forEach)return console.warn("AG Grid: applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state."),!1;var o=function(o,n,r){var s=i.compareColumnStatesAndDispatchEvents(e);i.autoGroupsNeedBuilding=!0;var a=n.slice(),l={},c={},u=[],h=[],d=0,p=i.rowGroupColumns.slice(),f=i.pivotColumns.slice();o.forEach((function(o){var n=o.colId||"";if(n.startsWith(ge))return u.push(o),void h.push(o);var s=r(n);s?(i.syncColumnWithStateItem(s,o,t.defaultState,l,c,!1,e),yt(a,s)):(h.push(o),d+=1)}));var g=function(o){return i.syncColumnWithStateItem(o,null,t.defaultState,l,c,!1,e)};a.forEach(g);var m=function(t,e,i,o){var n=t[i.getId()],r=t[o.getId()],s=null!=n,a=null!=r;if(s&&a)return n-r;if(s)return-1;if(a)return 1;var l=e.indexOf(i),c=e.indexOf(o),u=l>=0;return u&&c>=0?l-c:u?-1:1};i.rowGroupColumns.sort(m.bind(i,l,p)),i.pivotColumns.sort(m.bind(i,c,f)),i.updateGridColumns();var y=i.groupAutoColumns?i.groupAutoColumns.slice():[];return u.forEach((function(o){var n=i.getAutoColumn(o.colId);yt(y,n),i.syncColumnWithStateItem(n,o,t.defaultState,null,null,!0,e)})),y.forEach(g),i.applyOrderAfterApplyState(t),i.updateDisplayedColumns(e),i.dispatchEverythingChanged(e),s(),{unmatchedAndAutoStates:h,unmatchedCount:d}};this.columnAnimationService.start();var r=o(t.state||[],this.primaryColumns||[],(function(t){return i.getPrimaryColumn(t)})),a=r.unmatchedAndAutoStates,l=r.unmatchedCount;return(a.length>0||n(t.defaultState))&&(l=o(a,this.secondaryColumns||[],(function(t){return i.getSecondaryColumn(t)})).unmatchedCount),this.columnAnimationService.finish(),0===l},e.prototype.applyOrderAfterApplyState=function(t){var e=this;if(t.applyOrder&&t.state){var i=[],o={};t.state.forEach((function(t){if(t.colId&&!o[t.colId]){var n=e.gridColumnsMap[t.colId];n&&(i.push(n),o[t.colId]=!0)}}));var n=0;this.gridColumns.forEach((function(t){var e=t.getColId();null!=o[e]||(e.startsWith(ge)?_t(i,t,n++):i.push(t))})),i=this.placeLockedColumns(i),this.doesMovePassMarryChildren(i)?this.gridColumns=i:console.warn("AG Grid: Applying column order broke a group where columns should be married together. Applying new order has been discarded.")}},e.prototype.compareColumnStatesAndDispatchEvents=function(t){var e=this,i={rowGroupColumns:this.rowGroupColumns.slice(),pivotColumns:this.pivotColumns.slice(),valueColumns:this.valueColumns.slice()},o=this.getColumnState(),n={};return o.forEach((function(t){n[t.colId]=t})),function(){var r=e.getPrimaryAndSecondaryAndAutoColumns(),s=function(i,o,n,r){if(!gt(o.map(r),n.map(r))){var s={type:i,columns:n,column:1===n.length?n[0]:null,source:t};e.eventService.dispatchEvent(s)}},a=function(t){var e=[];return r.forEach((function(i){var o=n[i.getColId()];o&&t(o,i)&&e.push(i)})),e},l=function(t){return t.getColId()};s(zt.EVENT_COLUMN_ROW_GROUP_CHANGED,i.rowGroupColumns,e.rowGroupColumns,l),s(zt.EVENT_COLUMN_PIVOT_CHANGED,i.pivotColumns,e.pivotColumns,l);a((function(t,e){var i=null!=t.aggFunc,o=i!=e.isValueActive(),n=i&&t.aggFunc!=e.getAggFunc();return o||n})).length>0&&e.dispatchColumnChangedEvent(zt.EVENT_COLUMN_VALUE_CHANGED,e.valueColumns,t);e.dispatchColumnResizedEvent(a((function(t,e){return t.width!=e.getActualWidth()})),!0,t);e.dispatchColumnPinnedEvent(a((function(t,e){return t.pinned!=e.getPinned()})),t);e.dispatchColumnVisibleEvent(a((function(t,e){return t.hide==e.isVisible()})),t);a((function(t,e){return t.sort!=e.getSort()||t.sortIndex!=e.getSortIndex()})).length>0&&e.sortController.dispatchSortChangedEvents(t),e.normaliseColumnMovedEventForColumnState(o,t)}},e.prototype.getCommonValue=function(t,e){if(t&&0!=t.length){for(var i=e(t[0]),o=1;o<t.length;o++)if(i!==e(t[o]))return;return i}},e.prototype.normaliseColumnMovedEventForColumnState=function(t,e){var i=this,o=this.getColumnState(),n={};o.forEach((function(t){return n[t.colId]=t}));var r={};t.forEach((function(t){n[t.colId]&&(r[t.colId]=!0)}));var s=t.filter((function(t){return r[t.colId]})),a=o.filter((function(t){return r[t.colId]})),l=[];a.forEach((function(t,e){var o=s&&s[e];if(o&&o.colId!==t.colId){var n=i.getGridColumn(o.colId);n&&l.push(n)}})),l.length&&this.dispatchColumnMovedEvent({movedColumns:l,source:e,finished:!0})},e.prototype.syncColumnWithStateItem=function(t,e,i,o,r,s,a){if(t){var l=function(t,o){var r={value1:void 0,value2:void 0},s=!1;return e&&(void 0!==e[t]&&(r.value1=e[t],s=!0),n(o)&&void 0!==e[o]&&(r.value2=e[o],s=!0)),!s&&i&&(void 0!==i[t]&&(r.value1=i[t]),n(o)&&void 0!==i[o]&&(r.value2=i[o])),r},c=l("hide").value1;void 0!==c&&t.setVisible(!c,a);var u=l("pinned").value1;void 0!==u&&t.setPinned(u);var h=this.columnUtils.calculateColMinWidth(t.getColDef()),d=l("flex").value1;if(void 0!==d&&t.setFlex(d),t.getFlex()<=0){var p=l("width").value1;null!=p&&null!=h&&p>=h&&t.setActualWidth(p,a)}var f=l("sort").value1;void 0!==f&&("desc"===f||"asc"===f?t.setSort(f,a):t.setSort(void 0,a));var g=l("sortIndex").value1;if(void 0!==g&&t.setSortIndex(g),!s&&t.isPrimary()){var m=l("aggFunc").value1;void 0!==m&&("string"==typeof m?(t.setAggFunc(m),t.isValueActive()||(t.setValueActive(!0,a),this.valueColumns.push(t))):(n(m)&&console.warn("AG Grid: stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON."),t.isValueActive()&&(t.setValueActive(!1,a),yt(this.valueColumns,t))));var y=l("rowGroup","rowGroupIndex"),v=y.value1,_=y.value2;void 0===v&&void 0===_||("number"==typeof _||v?(t.isRowGroupActive()||(t.setRowGroupActive(!0,a),this.rowGroupColumns.push(t)),o&&"number"==typeof _&&(o[t.getId()]=_)):t.isRowGroupActive()&&(t.setRowGroupActive(!1,a),yt(this.rowGroupColumns,t)));var C=l("pivot","pivotIndex"),b=C.value1,E=C.value2;void 0===b&&void 0===E||("number"==typeof E||b?(t.isPivotActive()||(t.setPivotActive(!0,a),this.pivotColumns.push(t)),r&&"number"==typeof E&&(r[t.getId()]=E)):t.isPivotActive()&&(t.setPivotActive(!1,a),yt(this.pivotColumns,t)))}}},e.prototype.getGridColumns=function(t){return this.getColumns(t,this.getGridColumn.bind(this))},e.prototype.getColumns=function(t,e){var i=[];return t&&t.forEach((function(t){var o=e(t);o&&i.push(o)})),i},e.prototype.getColumnWithValidation=function(t){if(null==t)return null;var e=this.getGridColumn(t);return e||console.warn("AG Grid: could not find column "+t),e},e.prototype.getPrimaryColumn=function(t){return this.primaryColumns?this.getColumn(t,this.primaryColumns,this.primaryColumnsMap):null},e.prototype.getGridColumn=function(t){return this.getColumn(t,this.gridColumns,this.gridColumnsMap)},e.prototype.getSecondaryColumn=function(t){return this.secondaryColumns?this.getColumn(t,this.secondaryColumns,this.secondaryColumnsMap):null},e.prototype.getColumn=function(t,e,i){if(!t)return null;if("string"==typeof t&&i[t])return i[t];for(var o=0;o<e.length;o++)if(this.columnsMatch(e[o],t))return e[o];return this.getAutoColumn(t)},e.prototype.getSourceColumnsForGroupColumn=function(t){var e=t.getColDef().showRowGroup;if(!e)return null;if(!0===e)return this.rowGroupColumns.slice(0);var i=this.getPrimaryColumn(e);return i?[i]:null},e.prototype.getAutoColumn=function(t){var e=this;return this.groupAutoColumns&&n(this.groupAutoColumns)&&!r(this.groupAutoColumns)&&this.groupAutoColumns.find((function(i){return e.columnsMatch(i,t)}))||null},e.prototype.columnsMatch=function(t,e){var i=t===e,o=t.getColDef()===e,n=t.getColId()==e;return i||o||n},e.prototype.getDisplayNameForColumn=function(t,e,i){if(void 0===i&&(i=!1),!t)return null;var o=this.getHeaderName(t.getColDef(),t,null,null,e);return i?this.wrapHeaderNameWithAggFunc(t,o):o},e.prototype.getDisplayNameForProvidedColumnGroup=function(t,e,i){var o=e?e.getColGroupDef():null;return o?this.getHeaderName(o,null,t,e,i):null},e.prototype.getDisplayNameForColumnGroup=function(t,e){return this.getDisplayNameForProvidedColumnGroup(t,t.getProvidedColumnGroup(),e)},e.prototype.getHeaderName=function(t,e,i,o,n){var r=t.headerValueGetter;if(r){var s={colDef:t,column:e,columnGroup:i,providedColumnGroup:o,location:n,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};return"function"==typeof r?r(s):"string"==typeof r?this.expressionService.evaluate(r,s):(console.warn("AG Grid: headerValueGetter must be a function or a string"),"")}return null!=t.headerName?t.headerName:t.field?be(t.field):""},e.prototype.wrapHeaderNameWithAggFunc=function(t,e){if(this.gridOptionsService.is("suppressAggFuncInHeader"))return e;var i,o=t.getColDef().pivotValueColumn,r=null;if(n(o)){var s=this.gridOptionsService.is("removePivotHeaderRowWhenSingleValueColumn")&&1===this.valueColumns.length,a=void 0!==t.getColDef().pivotTotalColumnIds;if(s&&!a)return e;r=o?o.getAggFunc():null,i=!0}else{var l=t.isValueActive(),c=this.pivotMode||!this.isRowGroupEmpty();l&&c?(r=t.getAggFunc(),i=!0):i=!1}if(i){var u="string"==typeof r?r:"func";return this.localeService.getLocaleTextFunc()(u,u)+"("+e+")"}return e},e.prototype.getColumnGroup=function(t,e){if(!t)return null;if(t instanceof he)return t;var i=this.getAllDisplayedTrees(),o="number"==typeof e,n=null;return this.columnUtils.depthFirstAllColumnTreeSearch(i,(function(i){if(i instanceof he){var r=i;(o?t===r.getGroupId()&&e===r.getPartId():t===r.getGroupId())&&(n=r)}})),n},e.prototype.isReady=function(){return this.ready},e.prototype.extractValueColumns=function(t,e){this.valueColumns=this.extractColumns(e,this.valueColumns,(function(e,i){return e.setValueActive(i,t)}),(function(){}),(function(){}),(function(t){var e=t.aggFunc;return null===e||""===e?null:void 0!==e?!!e:void 0}),(function(t){return null!=t.initialAggFunc&&""!=t.initialAggFunc})),this.valueColumns.forEach((function(t){var e=t.getColDef();null!=e.aggFunc&&""!=e.aggFunc?t.setAggFunc(e.aggFunc):t.getAggFunc()||t.setAggFunc(e.initialAggFunc)}))},e.prototype.extractRowGroupColumns=function(t,e){this.rowGroupColumns=this.extractColumns(e,this.rowGroupColumns,(function(e,i){return e.setRowGroupActive(i,t)}),(function(t){return t.rowGroupIndex}),(function(t){return t.initialRowGroupIndex}),(function(t){return t.rowGroup}),(function(t){return t.initialRowGroup}))},e.prototype.extractColumns=function(t,e,i,o,n,r,s){void 0===t&&(t=[]),void 0===e&&(e=[]);var a=[],u=[];(this.primaryColumns||[]).forEach((function(i){var h=t.indexOf(i)<0,d=i.getColDef(),p=c(r(d)),f=c(s(d)),g=l(o(d)),m=l(n(d));(void 0!==p?p:void 0!==g?null!==g&&g>=0:h?void 0!==f?f:!!(void 0!==m)&&(null!=m&&m>=0):e.indexOf(i)>=0)&&((h?null!=g||null!=m:null!=g)?a.push(i):u.push(i))}));var h=function(t){var e=o(t.getColDef()),i=n(t.getColDef());return null!=e?e:i};a.sort((function(t,e){var i=h(t),o=h(e);return i===o?0:i<o?-1:1}));var d=[].concat(a);return e.forEach((function(t){u.indexOf(t)>=0&&d.push(t)})),u.forEach((function(t){d.indexOf(t)<0&&d.push(t)})),e.forEach((function(t){d.indexOf(t)<0&&i(t,!1)})),d.forEach((function(t){e.indexOf(t)<0&&i(t,!0)})),d},e.prototype.extractPivotColumns=function(t,e){this.pivotColumns=this.extractColumns(e,this.pivotColumns,(function(e,i){return e.setPivotActive(i,t)}),(function(t){return t.pivotIndex}),(function(t){return t.initialPivotIndex}),(function(t){return t.pivot}),(function(t){return t.initialPivot}))},e.prototype.resetColumnGroupState=function(t){void 0===t&&(t="api");var e=[];this.columnUtils.depthFirstOriginalTreeSearch(null,this.primaryColumnTree,(function(t){if(t instanceof ht){var i=t.getColGroupDef(),o={groupId:t.getGroupId(),open:i?i.openByDefault:void 0};e.push(o)}})),this.setColumnGroupState(e,t)},e.prototype.getColumnGroupState=function(){var t=[];return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,(function(e){e instanceof ht&&t.push({groupId:e.getGroupId(),open:e.isExpanded()})})),t},e.prototype.setColumnGroupState=function(t,e){var i=this;void 0===e&&(e="api"),this.columnAnimationService.start();var o=[];t.forEach((function(t){var e=t.groupId,n=t.open,r=i.getProvidedColumnGroup(e);r&&r.isExpanded()!==n&&(i.logger.log("columnGroupOpened("+r.getGroupId()+","+n+")"),r.setExpanded(n),o.push(r))})),this.updateGroupsAndDisplayedColumns(e),this.setFirstRightAndLastLeftPinned(e),o.forEach((function(t){var e={type:zt.EVENT_COLUMN_GROUP_OPENED,columnGroup:t};i.eventService.dispatchEvent(e)})),this.columnAnimationService.finish()},e.prototype.setColumnGroupOpened=function(t,e,i){var o;void 0===i&&(i="api"),o=t instanceof ht?t.getId():t||"",this.setColumnGroupState([{groupId:o,open:e}],i)},e.prototype.getProvidedColumnGroup=function(t){"string"!=typeof t&&console.error("AG Grid: group key must be a string");var e=null;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,(function(i){i instanceof ht&&i.getId()===t&&(e=i)})),e},e.prototype.calculateColumnsForDisplay=function(){var t=this;return this.pivotMode&&r(this.secondaryColumns)?this.gridColumns.filter((function(e){var i=t.groupAutoColumns&&bt(t.groupAutoColumns,e),o=t.valueColumns&&bt(t.valueColumns,e);return i||o})):this.gridColumns.filter((function(e){return t.groupAutoColumns&&bt(t.groupAutoColumns,e)||e.isVisible()}))},e.prototype.checkColSpanActiveInCols=function(t){var e=!1;return t.forEach((function(t){n(t.getColDef().colSpan)&&(e=!0)})),e},e.prototype.calculateColumnsForGroupDisplay=function(){var t=this;this.groupDisplayColumns=[],this.groupDisplayColumnsMap={};var e=function(e){var i=e.getColDef(),o=i.showRowGroup;i&&n(o)&&(t.groupDisplayColumns.push(e),"string"==typeof o?t.groupDisplayColumnsMap[o]=e:!0===o&&t.getRowGroupColumns().forEach((function(i){t.groupDisplayColumnsMap[i.getId()]=e})))};this.gridColumns.forEach(e),this.groupAutoColumns&&this.groupAutoColumns.forEach(e)},e.prototype.getGroupDisplayColumns=function(){return this.groupDisplayColumns},e.prototype.getGroupDisplayColumnForGroup=function(t){return this.groupDisplayColumnsMap[t]},e.prototype.updateDisplayedColumns=function(t){var e=this.calculateColumnsForDisplay();this.buildDisplayedTrees(e),this.calculateColumnsForGroupDisplay(),this.updateGroupsAndDisplayedColumns(t),this.setFirstRightAndLastLeftPinned(t)},e.prototype.isSecondaryColumnsPresent=function(){return n(this.secondaryColumns)},e.prototype.setSecondaryColumns=function(t,e){var i=this;void 0===e&&(e="api");var o=t&&t.length>0;if(o||!r(this.secondaryColumns)){if(o){this.processSecondaryColumnDefinitions(t);var n=this.columnFactory.createColumnTree(t,!1,this.secondaryBalancedTree||this.previousSecondaryColumns||void 0);this.destroyOldColumns(this.secondaryBalancedTree,n.columnTree),this.secondaryBalancedTree=n.columnTree,this.secondaryHeaderRowCount=n.treeDept+1,this.secondaryColumns=this.getColumnsFromTree(this.secondaryBalancedTree),this.secondaryColumnsMap={},this.secondaryColumns.forEach((function(t){return i.secondaryColumnsMap[t.getId()]=t})),this.previousSecondaryColumns=null}else this.previousSecondaryColumns=this.secondaryBalancedTree,this.secondaryBalancedTree=null,this.secondaryHeaderRowCount=-1,this.secondaryColumns=null,this.secondaryColumnsMap={};this.updateGridColumns(),this.updateDisplayedColumns(e)}},e.prototype.processSecondaryColumnDefinitions=function(t){var e=this.gridOptionsService.get("processPivotResultColDef")||this.gridOptionsService.get("processSecondaryColDef"),i=this.gridOptionsService.get("processPivotResultColGroupDef")||this.gridOptionsService.get("processSecondaryColGroupDef");if(e||i){var o=function(t){t.forEach((function(t){if(n(t.children)){var r=t;i&&i(r),o(r.children)}else{e&&e(t)}}))};t&&o(t)}},e.prototype.updateGridColumns=function(){var t,e=this,i=this.gridBalancedTree;if(this.gridColsArePrimary?this.lastPrimaryOrder=this.gridColumns:this.lastSecondaryOrder=this.gridColumns,this.secondaryColumns&&this.secondaryBalancedTree){var o=this.secondaryColumns.every((function(t){return void 0!==e.gridColumnsMap[t.getColId()]}));this.gridBalancedTree=this.secondaryBalancedTree.slice(),this.gridHeaderRowCount=this.secondaryHeaderRowCount,this.gridColumns=this.secondaryColumns.slice(),this.gridColsArePrimary=!1,o&&(t=this.lastSecondaryOrder)}else this.primaryColumns&&(this.gridBalancedTree=this.primaryColumnTree.slice(),this.gridHeaderRowCount=this.primaryHeaderRowCount,this.gridColumns=this.primaryColumns.slice(),this.gridColsArePrimary=!0,t=this.lastPrimaryOrder);if(this.createGroupAutoColumnsIfNeeded()&&t){var n=Se(this.groupAutoColumns.map((function(t){return[t,!0]})));t=t.filter((function(t){return!n.has(t)})),t=Ae(this.groupAutoColumns,t)}if(this.addAutoGroupToGridColumns(),this.orderGridColsLike(t),this.gridColumns=this.placeLockedColumns(this.gridColumns),this.refreshQuickFilterColumns(),this.clearDisplayedAndViewportColumns(),this.colSpanActive=this.checkColSpanActiveInCols(this.gridColumns),this.gridColumnsMap={},this.gridColumns.forEach((function(t){return e.gridColumnsMap[t.getId()]=t})),this.setAutoHeightActive(),!gt(i,this.gridBalancedTree)){var r={type:zt.EVENT_GRID_COLUMNS_CHANGED};this.eventService.dispatchEvent(r)}},e.prototype.setAutoHeightActive=function(){if((this.autoHeightActive=this.gridColumns.filter((function(t){return t.isAutoHeight()})).length>0,this.autoHeightActive)&&(this.autoHeightActiveAtLeastOnce=!0,!(this.gridOptionsService.isRowModelType("clientSide")||this.gridOptionsService.isRowModelType("serverSide")))){P((function(){return console.warn("AG Grid - autoHeight columns only work with Client Side Row Model and Server Side Row Model.")}),"autoHeightActive.wrongRowModel")}},e.prototype.orderGridColsLike=function(t){if(!r(t)){var e=Se(t.map((function(t,e){return[t,e]}))),i=!0;if(this.gridColumns.forEach((function(t){e.has(t)&&(i=!1)})),!i){var o=Se(this.gridColumns.map((function(t){return[t,!0]}))),n=t.filter((function(t){return o.has(t)})),s=Se(n.map((function(t){return[t,!0]}))),a=this.gridColumns.filter((function(t){return!s.has(t)})),l=n.slice();a.forEach((function(t){var e=t.getOriginalParent();if(e){for(var i=[];!i.length&&e;){e.getLeafColumns().forEach((function(t){var e=l.indexOf(t)>=0,o=i.indexOf(t)<0;e&&o&&i.push(t)})),e=e.getOriginalParent()}if(i.length){var o=i.map((function(t){return l.indexOf(t)})),n=Math.max.apply(Math,Ae(o));_t(l,t,n+1)}else l.push(t)}else l.push(t)})),this.gridColumns=l}}},e.prototype.isPrimaryColumnGroupsPresent=function(){return this.primaryHeaderRowCount>1},e.prototype.refreshQuickFilterColumns=function(){var t,e;this.groupAutoColumns?e=(null!==(t=this.primaryColumns)&&void 0!==t?t:[]).concat(this.groupAutoColumns):this.primaryColumns&&(e=this.primaryColumns),e=null!=e?e:[],this.columnsForQuickFilter=this.gridOptionsService.is("excludeHiddenColumnsFromQuickFilter")?e.filter((function(t){return t.isVisible()||t.isRowGroupActive()})):e},e.prototype.placeLockedColumns=function(t){var e=[],i=[],o=[];return t.forEach((function(t){var n=t.getColDef().lockPosition;"right"===n?o.push(t):"left"===n||!0===n?e.push(t):i.push(t)})),Ae(e,i,o)},e.prototype.addAutoGroupToGridColumns=function(){if(r(this.groupAutoColumns))return this.destroyOldColumns(this.groupAutoColsBalancedTree),void(this.groupAutoColsBalancedTree=null);this.gridColumns=this.groupAutoColumns?this.groupAutoColumns.concat(this.gridColumns):this.gridColumns;var t=this.columnFactory.createForAutoGroups(this.groupAutoColumns,this.gridBalancedTree);this.destroyOldColumns(this.groupAutoColsBalancedTree,t),this.groupAutoColsBalancedTree=t,this.gridBalancedTree=t.concat(this.gridBalancedTree)},e.prototype.clearDisplayedAndViewportColumns=function(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={},this.displayedColumnsLeft=[],this.displayedColumnsRight=[],this.displayedColumnsCenter=[],this.displayedColumns=[],this.viewportColumns=[],this.headerViewportColumns=[],this.viewportColumnsHash=""},e.prototype.updateGroupsAndDisplayedColumns=function(t){this.updateOpenClosedVisibilityInColumnGroups(),this.deriveDisplayedColumns(t),this.refreshFlexedColumns(),this.extractViewport(),this.updateBodyWidths();var e={type:zt.EVENT_DISPLAYED_COLUMNS_CHANGED};this.eventService.dispatchEvent(e)},e.prototype.deriveDisplayedColumns=function(t){this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeLeft,this.displayedColumnsLeft),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeCentre,this.displayedColumnsCenter),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeRight,this.displayedColumnsRight),this.joinDisplayedColumns(),this.setLeftValues(t),this.displayedAutoHeightCols=this.displayedColumns.filter((function(t){return t.isAutoHeight()}))},e.prototype.isAutoRowHeightActive=function(){return this.autoHeightActive},e.prototype.wasAutoRowHeightEverActive=function(){return this.autoHeightActiveAtLeastOnce},e.prototype.joinDisplayedColumns=function(){this.gridOptionsService.is("enableRtl")?this.displayedColumns=this.displayedColumnsRight.concat(this.displayedColumnsCenter).concat(this.displayedColumnsLeft):this.displayedColumns=this.displayedColumnsLeft.concat(this.displayedColumnsCenter).concat(this.displayedColumnsRight)},e.prototype.setLeftValues=function(t){this.setLeftValuesOfColumns(t),this.setLeftValuesOfGroups()},e.prototype.setLeftValuesOfColumns=function(t){var e=this;if(this.primaryColumns){var i=this.primaryColumns.slice(0),o=this.gridOptionsService.is("enableRtl");[this.displayedColumnsLeft,this.displayedColumnsRight,this.displayedColumnsCenter].forEach((function(n){if(o){var r=e.getWidthOfColsInList(n);n.forEach((function(e){r-=e.getActualWidth(),e.setLeft(r,t)}))}else{var s=0;n.forEach((function(e){e.setLeft(s,t),s+=e.getActualWidth()}))}vt(i,n)})),i.forEach((function(e){e.setLeft(null,t)}))}},e.prototype.setLeftValuesOfGroups=function(){[this.displayedTreeLeft,this.displayedTreeRight,this.displayedTreeCentre].forEach((function(t){t.forEach((function(t){t instanceof he&&t.checkLeft()}))}))},e.prototype.derivedDisplayedColumnsFromDisplayedTree=function(t,e){e.length=0,this.columnUtils.depthFirstDisplayedColumnTreeSearch(t,(function(t){t instanceof ct&&e.push(t)}))},e.prototype.extractViewportColumns=function(){this.suppressColumnVirtualisation?(this.viewportColumnsCenter=this.displayedColumnsCenter,this.headerViewportColumnsCenter=this.displayedColumnsCenter):(this.viewportColumnsCenter=this.displayedColumnsCenter.filter(this.isColumnInRowViewport.bind(this)),this.headerViewportColumnsCenter=this.displayedColumnsCenter.filter(this.isColumnInHeaderViewport.bind(this))),this.viewportColumns=this.viewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight),this.headerViewportColumns=this.headerViewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight)},e.prototype.getVirtualHeaderGroupRow=function(t,e){var i;switch(t){case"left":i=this.viewportRowLeft[e];break;case"right":i=this.viewportRowRight[e];break;default:i=this.viewportRowCenter[e]}return r(i)&&(i=[]),i},e.prototype.calculateHeaderRows=function(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={};var t={};this.headerViewportColumns.forEach((function(e){return t[e.getId()]=!0}));var e=function(i,o,n){for(var r=!1,s=0;s<i.length;s++){var a=i[s],l=!1;if(a instanceof ct)l=!0===t[a.getId()];else{var c=a.getDisplayedChildren();c&&(l=e(c,o,n+1))}l&&(r=!0,o[n]||(o[n]=[]),o[n].push(a))}return r};e(this.displayedTreeLeft,this.viewportRowLeft,0),e(this.displayedTreeRight,this.viewportRowRight,0),e(this.displayedTreeCentre,this.viewportRowCenter,0)},e.prototype.extractViewport=function(){this.extractViewportColumns();var t=this.viewportColumns.map((function(t){return t.getId()+"-"+(t.getPinned()||"normal")})).join("#"),e=this.viewportColumnsHash!==t;return e&&(this.viewportColumnsHash=t,this.calculateHeaderRows()),e},e.prototype.refreshFlexedColumns=function(t){var e=this;void 0===t&&(t={});var i=t.source?t.source:"flex";if(null!=t.viewportWidth&&(this.flexViewportWidth=t.viewportWidth),!this.flexViewportWidth)return[];var o=-1;t.resizingCols&&t.resizingCols.forEach((function(t){var i=e.displayedColumnsCenter.indexOf(t);o<i&&(o=i)}));var r=function(t){var i=e.displayedColumnsCenter.indexOf(t)>o;return t.getFlex()&&i},s=this.displayedColumnsCenter.filter((function(t){return!r(t)})),a=this.displayedColumnsCenter.filter((function(t){return r(t)})),l=[];if(!a.length)return[];var c,u=[];t:for(;;){var h=a.reduce((function(t,e){return t+e.getFlex()}),0);c=this.flexViewportWidth-this.getWidthOfColsInList(s);for(var d=0;d<a.length;d++){var p=a[d],f=c*p.getFlex()/h,g=0,m=p.getMinWidth(),y=p.getMaxWidth();if(n(m)&&f<m?g=m:n(y)&&f>y&&(g=y),g){p.setActualWidth(g,i),yt(a,p),l.push(p),s.push(p);continue t}u[d]=Math.round(f)}break}var v=c;return a.forEach((function(t,e){t.setActualWidth(Math.min(u[e],v),i),l.push(t),v-=u[e]})),t.skipSetLeft||this.setLeftValues(i),t.updateBodyWidths&&this.updateBodyWidths(),t.fireResizedEvent&&this.dispatchColumnResizedEvent(l,!0,i,a),a},e.prototype.sizeColumnsToFit=function(t,e,i,o){var r,s,a,l,c;void 0===e&&(e="sizeColumnsToFit");var u={};o&&(null===(r=null==o?void 0:o.columnLimits)||void 0===r||r.forEach((function(t){var e=t.key,i=Te(t,["key"]);u["string"==typeof e?e:e.getColId()]=i})));var h=this.getAllDisplayedColumns(),d=t===this.getWidthOfColsInList(h);if(!(t<=0||!h.length||d)){var p=[],f=[];h.forEach((function(t){!0===t.getColDef().suppressSizeToFit?f.push(t):p.push(t)}));var g=p.slice(0),m=!1,y=function(t){yt(p,t),f.push(t)};for(p.forEach((function(t){return t.resetActualWidth(e)}));!m;){m=!0;var v=t-this.getWidthOfColsInList(f);if(v<=0)p.forEach((function(t){var i,n,r=null!==(n=null===(i=null==u?void 0:u[t.getId()])||void 0===i?void 0:i.minWidth)&&void 0!==n?n:null==o?void 0:o.defaultMinWidth;"number"!=typeof r?t.setMinimum(e):t.setActualWidth(r)}));else for(var _=v/this.getWidthOfColsInList(p),C=v,b=p.length-1;b>=0;b--){var E=p[b],S=null==u?void 0:u[E.getId()],w=null!==(s=null==S?void 0:S.minWidth)&&void 0!==s?s:null==o?void 0:o.defaultMinWidth,O=null!==(a=null==S?void 0:S.maxWidth)&&void 0!==a?a:null==o?void 0:o.defaultMaxWidth,x=null!==(l=E.getMinWidth())&&void 0!==l?l:0,P=null!==(c=E.getMaxWidth())&&void 0!==c?c:Number.MAX_VALUE,T="number"==typeof w&&w>x?w:E.getMinWidth(),M="number"==typeof O&&O<P?O:E.getMaxWidth(),D=Math.round(E.getActualWidth()*_);n(T)&&D<T?(D=T,y(E),m=!1):n(M)&&D>M?(D=M,y(E),m=!1):0===b&&(D=C),E.setActualWidth(D,e,!0),C-=D}}g.forEach((function(t){t.fireColumnWidthChangedEvent(e)})),this.setLeftValues(e),this.updateBodyWidths(),i||this.dispatchColumnResizedEvent(g,!0,e)}},e.prototype.buildDisplayedTrees=function(t){var e=[],i=[],o=[];t.forEach((function(t){switch(t.getPinned()){case"left":e.push(t);break;case"right":i.push(t);break;default:o.push(t)}}));var n=new de;this.displayedTreeLeft=this.displayedGroupCreator.createDisplayedGroups(e,this.gridBalancedTree,n,"left",this.displayedTreeLeft),this.displayedTreeRight=this.displayedGroupCreator.createDisplayedGroups(i,this.gridBalancedTree,n,"right",this.displayedTreeRight),this.displayedTreeCentre=this.displayedGroupCreator.createDisplayedGroups(o,this.gridBalancedTree,n,null,this.displayedTreeCentre),this.updateDisplayedMap()},e.prototype.updateDisplayedMap=function(){var t=this;this.displayedColumnsAndGroupsMap={};var e=function(e){t.displayedColumnsAndGroupsMap[e.getUniqueId()]=e};this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeCentre,e),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeLeft,e),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeRight,e)},e.prototype.isDisplayed=function(t){return this.displayedColumnsAndGroupsMap[t.getUniqueId()]===t},e.prototype.updateOpenClosedVisibilityInColumnGroups=function(){var t=this.getAllDisplayedTrees();this.columnUtils.depthFirstAllColumnTreeSearch(t,(function(t){t instanceof he&&t.calculateDisplayedColumns()}))},e.prototype.getGroupAutoColumns=function(){return this.groupAutoColumns},e.prototype.createGroupAutoColumnsIfNeeded=function(){if(!this.autoGroupsNeedBuilding)return!1;this.autoGroupsNeedBuilding=!1;var t=this.gridOptionsService.isGroupUseEntireRow(this.pivotMode),e=this.pivotMode?this.gridOptionsService.is("pivotSuppressAutoColumn"):this.isGroupSuppressAutoColumn();if((this.rowGroupColumns.length>0||this.usingTreeData)&&!e&&!t){var i=this.groupAutoColumns||[],o=this.autoGroupColService.createAutoGroupColumns(i,this.rowGroupColumns);if(!this.autoColsEqual(o,this.groupAutoColumns)||this.forceRecreateAutoGroups)return this.groupAutoColumns=o,!0}else this.groupAutoColumns=null;return!1},e.prototype.isGroupSuppressAutoColumn=function(){var t=this.gridOptionsService.get("groupDisplayType");if(!!t&&ce("custom",t))return!0;var e,i,o,n=this.gridOptionsService.get("treeDataDisplayType");return!!n&&(e="custom",(o=["auto","custom"]).indexOf(i=n)<0?(console.warn("AG Grid: '"+i+"' is not a valid treeDataDisplayType value - possible values are: '"+o.join("', '")+"'"),!1):i===e)},e.prototype.autoColsEqual=function(t,e){return gt(t,e,(function(t,e){return t.getColId()===e.getColId()}))},e.prototype.getWidthOfColsInList=function(t){return t.reduce((function(t,e){return t+e.getActualWidth()}),0)},e.prototype.getGridBalancedTree=function(){return this.gridBalancedTree},e.prototype.hasFloatingFilters=function(){return!!this.gridColumns&&this.gridColumns.some((function(t){return t.getColDef().floatingFilter}))},e.prototype.getFirstDisplayedColumn=function(){var t=this.gridOptionsService.is("enableRtl"),e=["getDisplayedLeftColumns","getDisplayedCenterColumns","getDisplayedRightColumns"];t&&e.reverse();for(var i=0;i<e.length;i++){var o=this[e[i]]();if(o.length)return t?ft(o):o[0]}return null},e.prototype.setColumnHeaderHeight=function(t,e){if(t.setAutoHeaderHeight(e)){var i={type:zt.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,column:t,columns:[t],source:"autosizeColumnHeaderHeight"};this.eventService.dispatchEvent(i)}},e.prototype.getColumnGroupHeaderRowHeight=function(){return this.isPivotMode()?this.getPivotGroupHeaderHeight():this.getGroupHeaderHeight()},e.prototype.getColumnHeaderRowHeight=function(){var t=this.isPivotMode()?this.getPivotHeaderHeight():this.getHeaderHeight(),e=this.getAllDisplayedColumns().filter((function(t){return t.isAutoHeaderHeight()})).map((function(t){return t.getAutoHeaderHeight()||0}));return Math.max.apply(Math,Ae([t],e))},e.prototype.getHeaderHeight=function(){var t;return null!==(t=this.gridOptionsService.getNum("headerHeight"))&&void 0!==t?t:this.environment.getFromTheme(25,"headerHeight")},e.prototype.getFloatingFiltersHeight=function(){var t;return null!==(t=this.gridOptionsService.getNum("floatingFiltersHeight"))&&void 0!==t?t:this.getHeaderHeight()},e.prototype.getGroupHeaderHeight=function(){var t;return null!==(t=this.gridOptionsService.getNum("groupHeaderHeight"))&&void 0!==t?t:this.getHeaderHeight()},e.prototype.getPivotHeaderHeight=function(){var t;return null!==(t=this.gridOptionsService.getNum("pivotHeaderHeight"))&&void 0!==t?t:this.getHeaderHeight()},e.prototype.getPivotGroupHeaderHeight=function(){var t;return null!==(t=this.gridOptionsService.getNum("pivotGroupHeaderHeight"))&&void 0!==t?t:this.getGroupHeaderHeight()},xe([K("expressionService")],e.prototype,"expressionService",void 0),xe([K("columnFactory")],e.prototype,"columnFactory",void 0),xe([K("displayedGroupCreator")],e.prototype,"displayedGroupCreator",void 0),xe([K("ctrlsService")],e.prototype,"ctrlsService",void 0),xe([K("autoWidthCalculator")],e.prototype,"autoWidthCalculator",void 0),xe([K("columnUtils")],e.prototype,"columnUtils",void 0),xe([K("columnAnimationService")],e.prototype,"columnAnimationService",void 0),xe([K("autoGroupColService")],e.prototype,"autoGroupColService",void 0),xe([Y("aggFuncService")],e.prototype,"aggFuncService",void 0),xe([Y("valueCache")],e.prototype,"valueCache",void 0),xe([Y("animationFrameService")],e.prototype,"animationFrameService",void 0),xe([K("sortController")],e.prototype,"sortController",void 0),xe([K("columnDefFactory")],e.prototype,"columnDefFactory",void 0),xe([H],e.prototype,"init",null),xe([$],e.prototype,"destroyColumns",null),xe([Pe(0,Z("loggerFactory"))],e.prototype,"setBeans",null),e=xe([z("columnModel")],e)}(jt),Le=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),Ie=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},Ne=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Le(e,t),e.prototype.calculateColMinWidth=function(t){return null!=t.minWidth?t.minWidth:this.environment.getMinColWidth()},e.prototype.calculateColMaxWidth=function(t){return null!=t.maxWidth?t.maxWidth:Number.MAX_SAFE_INTEGER},e.prototype.calculateColInitialWidth=function(t){var e,i=this.calculateColMinWidth(t),o=this.calculateColMaxWidth(t),n=l(t.width),r=l(t.initialWidth);return e=null!=n?n:null!=r?r:200,Math.max(Math.min(e,o),i)},e.prototype.getOriginalPathForColumn=function(t,e){var i=[],o=!1,n=function(e,r){for(var s=0;s<e.length;s++){if(o)return;var a=e[s];if(a instanceof ht)n(a.getChildren(),r+1),i[r]=a;else a===t&&(o=!0)}};return n(e,0),o?i:null},e.prototype.depthFirstOriginalTreeSearch=function(t,e,i){var o=this;e&&e.forEach((function(e){e instanceof ht&&o.depthFirstOriginalTreeSearch(e,e.getChildren(),i),i(e,t)}))},e.prototype.depthFirstAllColumnTreeSearch=function(t,e){var i=this;t&&t.forEach((function(t){t instanceof he&&i.depthFirstAllColumnTreeSearch(t.getChildren(),e),e(t)}))},e.prototype.depthFirstDisplayedColumnTreeSearch=function(t,e){var i=this;t&&t.forEach((function(t){t instanceof he&&i.depthFirstDisplayedColumnTreeSearch(t.getDisplayedChildren(),e),e(t)}))},e=Ie([z("columnUtils")],e)}(jt),ke=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),Fe=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},Be=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ke(e,t),e.prototype.createDisplayedGroups=function(t,e,i,o,n){var r,s,a=this,l=[],c=this.mapOldGroupsById(n);return t.forEach((function(t){for(var n=a.getOriginalPathForColumn(e,t),u=[],h=!s,d=0;d<n.length;d++)if(h||n[d]!==s[d]){var p=a.createColumnGroup(n[d],i,c,o);u[d]=p,0==d?l.push(p):u[d-1].addChild(p)}else u[d]=r[d];0===u.length?l.push(t):ft(u).addChild(t);r=u,s=n})),this.setupParentsIntoColumns(l,null),l},e.prototype.createColumnGroup=function(t,e,i,o){var r=t.getGroupId(),s=e.getInstanceIdForKey(r),a=i[he.createUniqueId(r,s)];return a&&a.getProvidedColumnGroup()!==t&&(a=null),n(a)?a.reset():(a=new he(t,r,s,o),this.context.createBean(a)),a},e.prototype.mapOldGroupsById=function(t){var e={},i=function(t){t.forEach((function(t){if(t instanceof he){var o=t;e[t.getUniqueId()]=o,i(o.getChildren())}}))};return t&&i(t),e},e.prototype.setupParentsIntoColumns=function(t,e){var i=this;t.forEach((function(t){if(t.setParent(e),t instanceof he){var o=t;i.setupParentsIntoColumns(o.getChildren(),o)}}))},e.prototype.getOriginalPathForColumn=function(t,e){var i=[],o=!1,n=function(t,r){for(var s=0;s<t.length;s++){if(o)return;var a=t[s];a instanceof ht?(n(a.getChildren(),r+1),i[r]=a):a===e&&(o=!0)}};return n(t,0),o?i:(console.warn("AG Grid: could not get path"),null)},e=Fe([z("displayedGroupCreator")],e)}(jt),Ge=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),je=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},Ve=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.componentsMappedByName={},e}return Ge(e,t),e.prototype.setupComponents=function(t){var e=this;t&&t.forEach((function(t){return e.addComponent(t)}))},e.prototype.addComponent=function(t){var e=t.componentName.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase().toUpperCase();this.componentsMappedByName[e]=t.componentClass},e.prototype.getComponentClass=function(t){return this.componentsMappedByName[t]},e=je([z("agStackComponentsRegistry")],e)}(jt);function Ue(t,e,i){null==i||""==i?He(t,e):We(t,e,i)}function We(t,e,i){t.setAttribute($e(e),i.toString())}function He(t,e){t.removeAttribute($e(e))}function $e(t){return"aria-"+t}function ze(t,e){e?t.setAttribute("role",e):t.removeAttribute("role")}function Ke(t){return"asc"===t?"ascending":"desc"===t?"descending":"mixed"===t?"other":"none"}function Ye(t){return parseInt(t.getAttribute("aria-level"),10)}function Xe(t){return parseInt(t.getAttribute("aria-posinset"),10)}function Ze(t,e){Ue(t,"label",e)}function qe(t,e){Ue(t,"labelledby",e)}function Je(t,e){Ue(t,"description",e)}function Qe(t,e){Ue(t,"describedby",e)}function ti(t,e){Ue(t,"level",e)}function ei(t,e){Ue(t,"disabled",e)}function ii(t,e){Ue(t,"hidden",e)}function oi(t,e){We(t,"expanded",e)}function ni(t){He(t,"expanded")}function ri(t,e){We(t,"setsize",e)}function si(t,e){We(t,"posinset",e)}function ai(t,e){We(t,"multiselectable",e)}function li(t,e){We(t,"rowcount",e)}function ci(t,e){We(t,"rowindex",e)}function ui(t,e){We(t,"colcount",e)}function hi(t,e){We(t,"colindex",e)}function di(t,e){We(t,"colspan",e)}function pi(t,e){We(t,"sort",e)}function fi(t){He(t,"sort")}function gi(t,e){Ue(t,"selected",e)}function mi(t,e){We(t,"checked",void 0===e?"mixed":e)}var yi,vi,_i,Ci,bi,Ei,Si,wi,Oi=Object.freeze({__proto__:null,setAriaRole:ze,getAriaSortState:Ke,getAriaLevel:Ye,getAriaPosInSet:Xe,getAriaDescribedBy:function(t){return t.getAttribute("aria-describedby")||""},setAriaLabel:Ze,setAriaLabelledBy:qe,setAriaDescription:Je,setAriaDescribedBy:Qe,setAriaLive:function(t,e){Ue(t,"live",e)},setAriaLevel:ti,setAriaDisabled:ei,setAriaHidden:ii,setAriaExpanded:oi,removeAriaExpanded:ni,setAriaSetSize:ri,setAriaPosInSet:si,setAriaMultiSelectable:ai,setAriaRowCount:li,setAriaRowIndex:ci,setAriaColCount:ui,setAriaColIndex:hi,setAriaColSpan:di,setAriaSort:pi,removeAriaSort:fi,setAriaSelected:gi,setAriaChecked:mi});function xi(){return void 0===yi&&(yi=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),yi}function Pi(){if(void 0===vi)if(xi()){var t=navigator.userAgent.match(/version\/(\d+)/i);t&&(vi=null!=t[1]?parseFloat(t[1]):0)}else vi=0;return vi}function Ti(){if(void 0===_i){var t=window;_i=!!t.chrome&&(!!t.chrome.webstore||!!t.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return _i}function Mi(){return void 0===Ci&&(Ci=/(firefox)/i.test(navigator.userAgent)),Ci}function Di(){return void 0===bi&&(bi=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),bi}function Ai(){return void 0===Ei&&(Ei=/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1),Ei}function Ri(){return!xi()||Pi()>=15}function Li(t){if(!t)return null;var e=t.tabIndex,i=t.getAttribute("tabIndex");return-1!==e||null!==i&&(""!==i||Mi())?e.toString():null}function Ii(){if(!document.body)return-1;var t=1e6,e=navigator.userAgent.toLowerCase().match(/firefox/)?6e6:1e9,i=document.createElement("div");for(document.body.appendChild(i);;){var o=2*t;if(i.style.height=o+"px",o>e||i.clientHeight!==o)break;t=o}return document.body.removeChild(i),t}function Ni(){var t,e,i;return null!==(e=null===(t=document.body)||void 0===t?void 0:t.clientWidth)&&void 0!==e?e:window.innerHeight||(null===(i=document.documentElement)||void 0===i?void 0:i.clientWidth)||-1}function ki(){var t,e,i;return null!==(e=null===(t=document.body)||void 0===t?void 0:t.clientHeight)&&void 0!==e?e:window.innerHeight||(null===(i=document.documentElement)||void 0===i?void 0:i.clientHeight)||-1}function Fi(){return null==wi&&Bi(),wi}function Bi(){var t=document.body,e=document.createElement("div");e.style.width=e.style.height="100px",e.style.opacity="0",e.style.overflow="scroll",e.style.msOverflowStyle="scrollbar",e.style.position="absolute",t.appendChild(e);var i=e.offsetWidth-e.clientWidth;0===i&&0===e.clientWidth&&(i=null),e.parentNode&&e.parentNode.removeChild(e),null!=i&&(wi=i,Si=0===i)}function Gi(){return null==Si&&Bi(),Si}var ji=Object.freeze({__proto__:null,isBrowserSafari:xi,getSafariVersion:Pi,isBrowserChrome:Ti,isBrowserFirefox:Mi,isMacOsUserAgent:Di,isIOSUserAgent:Ai,browserSupportsPreventScroll:Ri,getTabIndex:Li,getMaxDivHeight:Ii,getBodyWidth:Ni,getBodyHeight:ki,getScrollbarWidth:Fi,isInvisibleScrollbar:Gi});function Vi(t,e){return t.toString().padStart(e,"0")}function Ui(t,e){for(var i=[],o=t;o<=e;o++)i.push(o);return i}function Wi(t,e,i){return"number"!=typeof t?"":t.toString().replace(".",i).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+e)}var Hi=Object.freeze({__proto__:null,padStartWidthZeros:Vi,createArrayOfNumbers:Ui,cleanNumber:function(t){return"string"==typeof t&&(t=parseInt(t,10)),"number"==typeof t?Math.floor(t):null},decToHex:function(t,e){for(var i="",o=0;o<e;o++)i+=String.fromCharCode(255&t),t>>>=8;return i},formatNumberTwoDecimalPlacesAndCommas:function(t,e,i){return"number"!=typeof t?"":Wi(Math.round(100*t)/100,e,i)},formatNumberCommas:Wi,sum:function(t){return null==t?null:t.reduce((function(t,e){return t+e}),0)},zeroOrGreater:function(t,e){return t>=0?t:e},oneOrGreater:function(t,e){var i=parseInt(t,10);return!isNaN(i)&&isFinite(i)&&i>0?i:e}}),$i=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,n,r=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return s};function zi(t,e,i){if(void 0===e&&(e=!0),void 0===i&&(i="-"),!t)return null;var o=[t.getFullYear(),t.getMonth()+1,t.getDate()].map((function(t){return Vi(t,2)})).join(i);return e&&(o+=" "+[t.getHours(),t.getMinutes(),t.getSeconds()].map((function(t){return Vi(t,2)})).join(":")),o}var Ki=function(t){if(t>3&&t<21)return"th";switch(t%10){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"};function Yi(t,e){void 0===e&&(e="YYYY-MM-DD");var i=Vi(t.getFullYear(),4),o=["January","February","March","April","May","June","July","August","September","October","November","December"],n=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],r={YYYY:function(){return i.slice(i.length-4,i.length)},YY:function(){return i.slice(i.length-2,i.length)},Y:function(){return""+t.getFullYear()},MMMM:function(){return o[t.getMonth()]},MMM:function(){return o[t.getMonth()].slice(0,3)},MM:function(){return Vi(t.getMonth()+1,2)},Mo:function(){return""+(t.getMonth()+1)+Ki(t.getMonth()+1)},M:function(){return""+(t.getMonth()+1)},Do:function(){return""+t.getDate()+Ki(t.getDate())},DD:function(){return Vi(t.getDate(),2)},D:function(){return""+t.getDate()},dddd:function(){return n[t.getDay()]},ddd:function(){return n[t.getDay()].slice(0,3)},dd:function(){return n[t.getDay()].slice(0,2)},do:function(){return""+t.getDay()+Ki(t.getDay())},d:function(){return""+t.getDay()}},s=new RegExp(Object.keys(r).join("|"),"g");return e.replace(s,(function(t){return t in r?r[t]():t}))}function Xi(t){if(!t)return null;var e=$i(t.split(" "),2),i=e[0],o=e[1];if(!i)return null;var n=i.split("-").map((function(t){return parseInt(t,10)}));if(3!==n.filter((function(t){return!isNaN(t)})).length)return null;var r=$i(n,3),s=r[0],a=r[1],l=r[2],c=new Date(s,a-1,l);if(c.getFullYear()!==s||c.getMonth()!==a-1||c.getDate()!==l)return null;if(!o||"00:00:00"===o)return c;var u=$i(o.split(":").map((function(t){return parseInt(t,10)})),3),h=u[0],d=u[1],p=u[2];return h>=0&&h<24&&c.setHours(h),d>=0&&d<60&&c.setMinutes(d),p>=0&&p<60&&c.setSeconds(p),c}var Zi,qi=Object.freeze({__proto__:null,serialiseDate:zi,dateToFormattedString:Yi,parseDateTimeFromString:Xi}),Ji=function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],o=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Qi=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,n,r=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return s};var to="[tabindex], input, select, button, textarea, [href]",eo=".ag-hidden, .ag-hidden *, [disabled], .ag-disabled, .ag-disabled *";function io(t){var e=Element.prototype.matches||Element.prototype.msMatchesSelector,i=e.call(t,"input, select, button, textarea"),o=e.call(t,eo),n=vo(t);return i&&!o&&n}function oo(t,e,i){void 0===i&&(i={});var o=i.skipAriaHidden;t.classList.toggle("ag-hidden",!e),o||ii(t,!e)}function no(t,e,i){void 0===i&&(i={});var o=i.skipAriaHidden;t.classList.toggle("ag-invisible",!e),o||ii(t,!e)}function ro(t,e){var i="disabled",o=e?function(t){return t.setAttribute(i,"")}:function(t){return t.removeAttribute(i)};o(t),ko(t.querySelectorAll("input"),(function(t){return o(t)}))}function so(t,e,i){for(var o=0;t;){if(t.classList.contains(e))return!0;if(t=t.parentElement,"number"==typeof i){if(++o>i)break}else if(t===i)break}return!1}function ao(t){var e=window.getComputedStyle(t),i=e.height,o=e.width,n=e.borderTopWidth,r=e.borderRightWidth,s=e.borderBottomWidth,a=e.borderLeftWidth,l=e.paddingTop,c=e.paddingRight,u=e.paddingBottom,h=e.paddingLeft,d=e.marginTop,p=e.marginRight,f=e.marginBottom,g=e.marginLeft,m=e.boxSizing;return{height:parseFloat(i),width:parseFloat(o),borderTopWidth:parseFloat(n),borderRightWidth:parseFloat(r),borderBottomWidth:parseFloat(s),borderLeftWidth:parseFloat(a),paddingTop:parseFloat(l),paddingRight:parseFloat(c),paddingBottom:parseFloat(u),paddingLeft:parseFloat(h),marginTop:parseFloat(d),marginRight:parseFloat(p),marginBottom:parseFloat(f),marginLeft:parseFloat(g),boxSizing:m}}function lo(t){var e=ao(t);return"border-box"===e.boxSizing?e.height-e.paddingTop-e.paddingBottom:e.height}function co(t){var e=ao(t);return"border-box"===e.boxSizing?e.width-e.paddingLeft-e.paddingRight:e.width}function uo(t){var e=ao(t),i=e.marginBottom+e.marginTop;return Math.ceil(t.offsetHeight+i)}function ho(t){var e=ao(t),i=e.marginLeft+e.marginRight;return Math.ceil(t.offsetWidth+i)}function po(){if("boolean"==typeof Zi)return Zi;var t=document.createElement("div");return t.style.direction="rtl",t.style.width="1px",t.style.height="1px",t.style.position="fixed",t.style.top="0px",t.style.overflow="hidden",t.dir="rtl",t.innerHTML='<div style="width: 2px">\n            <span style="display: inline-block; width: 1px"></span>\n            <span style="display: inline-block; width: 1px"></span>\n        </div>',document.body.appendChild(t),t.scrollLeft=1,Zi=0===Math.floor(t.scrollLeft),document.body.removeChild(t),Zi}function fo(t,e){var i=t.scrollLeft;return e&&(i=Math.abs(i),Ti()&&!po()&&(i=t.scrollWidth-t.clientWidth-i)),i}function go(t,e,i){i&&(po()?e*=-1:(xi()||Ti())&&(e=t.scrollWidth-t.clientWidth-e)),t.scrollLeft=e}function mo(t){for(;t&&t.firstChild;)t.removeChild(t.firstChild)}function yo(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function vo(t){return null!==t.offsetParent}function _o(t){var e=document.createElement("div");return e.innerHTML=(t||"").trim(),e.firstChild}function Co(t){return t&&t.clientHeight?t.clientHeight:0}function bo(t){return t&&t.clientWidth?t.clientWidth:0}function Eo(t,e,i){if(!i||i.nextSibling!==e){var o=document.activeElement,n=e.contains(o);i?i.nextSibling?t.insertBefore(e,i.nextSibling):t.appendChild(e):t.firstChild&&t.firstChild!==e&&t.insertAdjacentElement("afterbegin",e),n&&o&&Ri()&&o.focus({preventScroll:!0})}}function So(t,e){for(var i=0;i<e.length;i++){var o=e[i],n=t.children[i];n!==o&&t.insertBefore(o,n)}}function wo(t,e,i){i?i.insertAdjacentElement("afterend",e):t.firstChild?t.insertAdjacentElement("afterbegin",e):t.appendChild(e)}function Oo(t,e){var i,o;if(e)try{for(var n=Ji(Object.entries(e)),r=n.next();!r.done;r=n.next()){var s=Qi(r.value,2),a=s[0],l=s[1];if(a&&a.length&&null!=l){var c=a.replace(/[A-Z]/g,(function(t){return"-"+t.toLocaleLowerCase()})),u=l.toString(),h=u.replace(/\s*!important/g,"").length!=u.length?"important":void 0;t.style.setProperty(c,l,h)}}}catch(t){i={error:t}}finally{try{r&&!r.done&&(o=n.return)&&o.call(n)}finally{if(i)throw i.error}}}function xo(t){return t.clientWidth<t.scrollWidth}function Po(t){return t.clientHeight<t.scrollHeight}function To(t,e){"flex"===e?(t.style.removeProperty("width"),t.style.removeProperty("minWidth"),t.style.removeProperty("maxWidth"),t.style.flex="1 1 auto"):Mo(t,e)}function Mo(t,e){e=Ao(e),t.style.width=e.toString(),t.style.maxWidth=e.toString(),t.style.minWidth=e.toString()}function Do(t,e){e=Ao(e),t.style.height=e.toString(),t.style.maxHeight=e.toString(),t.style.minHeight=e.toString()}function Ao(t){return"number"==typeof t?t+"px":t}function Ro(t){return t instanceof Node||t instanceof HTMLElement}function Lo(t){if(null==t)return[];var e=[];return ko(t,(function(t){return e.push(t)})),e}function Io(t,e){if(t)for(var i=0;i<t.length;i++){var o=t[i];e(o.name,o.value)}}function No(t,e,i){null==i?t.removeAttribute(e):t.setAttribute(e,i.toString())}function ko(t,e){if(null!=t)for(var i=0;i<t.length;i++)e(t[i])}var Fo=Object.freeze({__proto__:null,radioCssClass:function(t,e,i){for(var o=t.parentElement,n=o&&o.firstChild;n;)e&&n.classList.toggle(e,n===t),i&&n.classList.toggle(i,n!==t),n=n.nextSibling},FOCUSABLE_SELECTOR:to,FOCUSABLE_EXCLUDE:eo,isFocusableFormField:io,setDisplayed:oo,setVisible:no,setDisabled:ro,isElementChildOfClass:so,getElementSize:ao,getInnerHeight:lo,getInnerWidth:co,getAbsoluteHeight:uo,getAbsoluteWidth:ho,isRtlNegativeScroll:po,getScrollLeft:fo,setScrollLeft:go,clearElement:mo,removeElement:function(t,e){yo(t.querySelector(e))},removeFromParent:yo,isVisible:vo,loadTemplate:_o,appendHtml:function(t,e){t.lastChild?t.insertAdjacentHTML("afterbegin",e):t.innerHTML=e},getElementAttribute:function(t,e){return t.attributes&&t.attributes[e]?t.attributes[e].value:null},offsetHeight:Co,offsetWidth:bo,ensureDomOrder:Eo,setDomChildOrder:So,insertWithDomOrder:wo,prependDC:function(t,e){n(t.firstChild)?t.insertBefore(e,t.firstChild):t.appendChild(e)},addStylesToElement:Oo,isHorizontalScrollShowing:xo,isVerticalScrollShowing:Po,setElementWidth:To,setFixedWidth:Mo,setElementHeight:function(t,e){"flex"===e?(t.style.removeProperty("height"),t.style.removeProperty("minHeight"),t.style.removeProperty("maxHeight"),t.style.flex="1 1 auto"):Do(t,e)},setFixedHeight:Do,formatSize:Ao,isNodeOrElement:Ro,copyNodeList:Lo,iterateNamedNodeMap:Io,addOrRemoveAttribute:No,nodeListForEach:ko}),Bo={columnGroupOpened:"expanded",columnGroupClosed:"contracted",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate",columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",groupContracted:"tree-closed",groupExpanded:"tree-open",setFilterGroupClosed:"tree-closed",setFilterGroupOpen:"tree-open",setFilterGroupIndeterminate:"tree-indeterminate",chart:"chart",close:"cross",cancel:"cancel",check:"tick",first:"first",previous:"previous",next:"next",last:"last",linked:"linked",unlinked:"unlinked",colorPicker:"color-picker",groupLoading:"loading",menu:"menu",filter:"filter",columns:"columns",maximize:"maximize",minimize:"minimize",menuPin:"pin",menuValue:"aggregation",menuAddRowGroup:"group",menuRemoveRowGroup:"group",clipboardCopy:"copy",clipboardCut:"cut",clipboardPaste:"paste",pivotPanel:"pivot",rowGroupPanel:"group",valuePanel:"aggregation",columnDrag:"grip",rowDrag:"grip",save:"save",csvExport:"csv",excelExport:"excel",smallDown:"small-down",smallLeft:"small-left",smallRight:"small-right",smallUp:"small-up",sortAscending:"asc",sortDescending:"desc",sortUnSort:"none"};function Go(t,e,i){var o=jo(t,e,i);if(o){var n=o.className;if("string"==typeof n&&n.indexOf("ag-icon")>-1||"object"==typeof n&&n["ag-icon"])return o}var r=document.createElement("span");return r.appendChild(o),r}function jo(t,e,i,o){var n=null,r=i&&i.getColDef().icons;if(r&&(n=r[t]),e&&!n){var s=e.get("icons");s&&(n=s[t])}if(!n){var a=document.createElement("span"),l=Bo[t];return l||(o?l=t:(console.warn("AG Grid: Did not find icon "+t),l="")),a.setAttribute("class","ag-icon ag-icon-"+l),a.setAttribute("unselectable","on"),ze(a,"presentation"),a}var c=void 0;if("function"==typeof n)c=n();else{if("string"!=typeof n)throw new Error("icon from grid options needs to be a string or a function");c=n}return"string"==typeof c?_o(c):Ro(c)?c:void console.warn("AG Grid: iconRenderer should return back a string or a dom object")}var Vo=Object.freeze({__proto__:null,iconNameClassMap:Bo,createIcon:Go,createIconNoSpan:jo}),Uo=function(){function t(){}return t.BACKSPACE="Backspace",t.TAB="Tab",t.ENTER="Enter",t.ESCAPE="Escape",t.SPACE=" ",t.LEFT="ArrowLeft",t.UP="ArrowUp",t.RIGHT="ArrowRight",t.DOWN="ArrowDown",t.DELETE="Delete",t.F2="F2",t.PAGE_UP="PageUp",t.PAGE_DOWN="PageDown",t.PAGE_HOME="Home",t.PAGE_END="End",t.A="KeyA",t.C="KeyC",t.D="KeyD",t.V="KeyV",t.X="KeyX",t.Y="KeyY",t.Z="KeyZ",t}();function Wo(t){return!(t.altKey||t.ctrlKey||t.metaKey)&&1===t.key.length}function Ho(t,e,i,o,n){var r=o?o.getColDef().suppressKeyboardEvent:void 0;if(!r)return!1;var s={event:e,editing:n,column:o,api:t.api,node:i,data:i.data,colDef:o.getColDef(),context:t.context,columnApi:t.columnApi};if(r&&r(s))return!0;return!1}function $o(t,e,i,o){var r=o.getDefinition(),s=r&&r.suppressHeaderKeyboardEvent;return!!n(s)&&!!s({api:t.api,columnApi:t.columnApi,context:t.context,colDef:r,column:o,headerRowIndex:i,event:e})}function zo(t){var e;switch(t.keyCode){case 65:e=Uo.A;break;case 67:e=Uo.C;break;case 86:e=Uo.V;break;case 68:e=Uo.D;break;case 90:e=Uo.Z;break;case 89:e=Uo.Y;break;default:e=t.code}return e}function Ko(t,e){return void 0===e&&(e=!1),t===Uo.DELETE||!e&&t===Uo.BACKSPACE&&Di()}var Yo=Object.freeze({__proto__:null,isEventFromPrintableCharacter:Wo,isUserSuppressingKeyboardEvent:Ho,isUserSuppressingHeaderKeyboardEvent:$o,normaliseQwertyAzerty:zo,isDeleteKey:Ko});function Xo(t,e,i){if(0===i)return!1;var o=Math.abs(t.clientX-e.clientX),n=Math.abs(t.clientY-e.clientY);return Math.max(o,n)<=i}var Zo=Object.freeze({__proto__:null,areEventsNear:Xo});var qo=Object.freeze({__proto__:null,sortRowNodesByOrder:function(t,e){if(!t)return!1;for(var i=function(t,i){var o=e[t.id],n=e[i.id],r=void 0!==o,s=void 0!==n;return r&&s?o-n:!r&&!s?t.__objectId-i.__objectId:r?1:-1},o=!1,n=0;n<t.length-1;n++)if(i(t[n],t[n+1])>0){o=!0;break}return!!o&&(t.sort(i),!0)},traverseNodesWithKey:function(t,e){var i=[];!function t(o){if(!o)return;o.forEach((function(o){if(o.group||o.hasChildren()){i.push(o.key);var n=i.join("|");e(o,n),t(o.childrenAfterGroup),i.pop()}}))}(t)}});function Jo(t){var e=new Set;return t.forEach((function(t){return e.add(t)})),e}var Qo,tn=Object.freeze({__proto__:null,convertToSet:Jo}),en=function(){return en=Object.assign||function(t){for(var e,i=1,o=arguments.length;i<o;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},en.apply(this,arguments)},on=en(en(en(en(en(en(en(en(en(en(en(en(en(en(en(en(en(en({},Oi),wt),ji),qi),Fo),Bt),G),oe),h),Vo),Yo),we),Zo),Hi),O),qo),tn),Ee),nn=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=1),this.nextValue=t,this.step=e}return t.prototype.next=function(){var t=this.nextValue;return this.nextValue+=this.step,t},t.prototype.peek=function(){return this.nextValue},t.prototype.skip=function(t){this.nextValue+=t},t}();!function(t){t[t.IN_PROGRESS=0]="IN_PROGRESS",t[t.RESOLVED=1]="RESOLVED"}(Qo||(Qo={}));var rn,sn=function(){function t(t){var e=this;this.status=Qo.IN_PROGRESS,this.resolution=null,this.waiters=[],t((function(t){return e.onDone(t)}),(function(t){return e.onReject(t)}))}return t.all=function(e){return new t((function(t){var i=e.length,o=new Array(i);e.forEach((function(e,n){e.then((function(e){o[n]=e,0===--i&&t(o)}))}))}))},t.resolve=function(e){return void 0===e&&(e=null),new t((function(t){return t(e)}))},t.prototype.then=function(e){var i=this;return new t((function(t){i.status===Qo.RESOLVED?t(e(i.resolution)):i.waiters.push((function(i){return t(e(i))}))}))},t.prototype.resolveNow=function(t,e){return this.status===Qo.RESOLVED?e(this.resolution):t},t.prototype.onDone=function(t){this.status=Qo.RESOLVED,this.resolution=t,this.waiters.forEach((function(e){return e(t)}))},t.prototype.onReject=function(t){console.warn("TBI")},t}(),an=(function(){function t(){this.timestamp=(new Date).getTime()}t.prototype.print=function(t){var e=(new Date).getTime()-this.timestamp;console.info(t+" = "+e),this.timestamp=(new Date).getTime()}}(),function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}()),ln=function(){return ln=Object.assign||function(t){for(var e,i=1,o=arguments.length;i<o;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},ln.apply(this,arguments)},cn=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s};!function(t){t[t.NOTHING=0]="NOTHING",t[t.WAITING_TO_SHOW=1]="WAITING_TO_SHOW",t[t.SHOWING=2]="SHOWING"}(rn||(rn={}));var un=function(t){function e(e){var i=t.call(this)||this;return i.DEFAULT_SHOW_TOOLTIP_DELAY=2e3,i.DEFAULT_HIDE_TOOLTIP_DELAY=1e4,i.SHOW_QUICK_TOOLTIP_DIFF=1e3,i.FADE_OUT_TOOLTIP_TIMEOUT=1e3,i.state=rn.NOTHING,i.tooltipInstanceCount=0,i.tooltipMouseTrack=!1,i.parentComp=e,i}return an(e,t),e.prototype.postConstruct=function(){this.tooltipShowDelay=this.getTooltipDelay("show")||this.DEFAULT_SHOW_TOOLTIP_DELAY,this.tooltipHideDelay=this.getTooltipDelay("hide")||this.DEFAULT_HIDE_TOOLTIP_DELAY,this.tooltipMouseTrack=this.gridOptionsService.is("tooltipMouseTrack");var t=this.parentComp.getGui();this.addManagedListener(t,"mouseenter",this.onMouseEnter.bind(this)),this.addManagedListener(t,"mouseleave",this.onMouseLeave.bind(this)),this.addManagedListener(t,"mousemove",this.onMouseMove.bind(this)),this.addManagedListener(t,"mousedown",this.onMouseDown.bind(this)),this.addManagedListener(t,"keydown",this.onKeyDown.bind(this))},e.prototype.destroy=function(){this.setToDoNothing(),t.prototype.destroy.call(this)},e.prototype.onMouseEnter=function(t){if(!Ai()&&this.state==rn.NOTHING){var e=this.isLastTooltipHiddenRecently()?200:this.tooltipShowDelay;this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),e),this.lastMouseEvent=t,this.state=rn.WAITING_TO_SHOW}},e.prototype.onMouseLeave=function(){this.setToDoNothing()},e.prototype.onKeyDown=function(){this.setToDoNothing()},e.prototype.setToDoNothing=function(){this.state===rn.SHOWING&&this.hideTooltip(),this.clearTimeouts(),this.state=rn.NOTHING},e.prototype.onMouseMove=function(t){this.lastMouseEvent=t,this.tooltipMouseTrack&&this.state===rn.SHOWING&&this.tooltipComp&&this.positionTooltipUnderLastMouseEvent()},e.prototype.onMouseDown=function(){this.setToDoNothing()},e.prototype.getTooltipDelay=function(t){var e=this.gridOptionsService.getNum("tooltipShowDelay"),i=this.gridOptionsService.getNum("tooltipHideDelay"),o="show"===t?e:i,r=_e(t);return n(o)?(o<0&&P((function(){return console.warn("AG Grid: tooltip"+r+"Delay should not be lower than 0")}),"tooltip"+r+"DelayWarn"),Math.max(200,o)):null},e.prototype.hideTooltip=function(){this.tooltipComp&&(this.destroyTooltipComp(),e.lastTooltipHideTime=(new Date).getTime()),this.state=rn.NOTHING},e.prototype.destroyTooltipComp=function(){var t=this;this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");var e=this.tooltipPopupDestroyFunc,i=this.tooltipComp;window.setTimeout((function(){e(),t.getContext().destroyBean(i)}),this.FADE_OUT_TOOLTIP_TIMEOUT),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0},e.prototype.isLastTooltipHiddenRecently=function(){return(new Date).getTime()-e.lastTooltipHideTime<this.SHOW_QUICK_TOOLTIP_DIFF},e.prototype.showTooltip=function(){var t=ln({},this.parentComp.getTooltipParams());if(n(t.value)){this.state=rn.SHOWING,this.tooltipInstanceCount++;var e=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);this.userComponentFactory.getTooltipCompDetails(t).newAgStackInstance().then(e)}else this.setToDoNothing()},e.prototype.newTooltipComponentCallback=function(t,e){if(this.state!==rn.SHOWING||this.tooltipInstanceCount!==t)this.getContext().destroyBean(e);else{var i=e.getGui();this.tooltipComp=e,i.classList.contains("ag-tooltip")||i.classList.add("ag-tooltip-custom");var o=this.localeService.getLocaleTextFunc(),n=this.popupService.addPopup({eChild:i,ariaLabel:o("ariaLabelTooltip","Tooltip")});n&&(this.tooltipPopupDestroyFunc=n.hideFunc),this.positionTooltipUnderLastMouseEvent(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.tooltipHideDelay)}},e.prototype.positionTooltipUnderLastMouseEvent=function(){this.popupService.positionPopupUnderMouseEvent({type:"tooltip",mouseEvent:this.lastMouseEvent,ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack})},e.prototype.clearTimeouts=function(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0),this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)},cn([K("popupService")],e.prototype,"popupService",void 0),cn([K("userComponentFactory")],e.prototype,"userComponentFactory",void 0),cn([H],e.prototype,"postConstruct",null),e}(jt),hn=function(){function t(t){this.cssClassStates={},this.getGui=t}return t.prototype.addCssClass=function(t){var e=this,i=(t||"").split(" ");if(i.length>1)i.forEach((function(t){return e.addCssClass(t)}));else if(!0!==this.cssClassStates[t]&&t.length){var o=this.getGui();o&&o.classList.add(t),this.cssClassStates[t]=!0}},t.prototype.removeCssClass=function(t){var e=this,i=(t||"").split(" ");if(i.length>1)i.forEach((function(t){return e.removeCssClass(t)}));else if(!1!==this.cssClassStates[t]&&t.length){var o=this.getGui();o&&o.classList.remove(t),this.cssClassStates[t]=!1}},t.prototype.containsCssClass=function(t){var e=this.getGui();return!!e&&e.classList.contains(t)},t.prototype.addOrRemoveCssClass=function(t,e){var i=this;if(t){if(t.indexOf(" ")>=0){var o=(t||"").split(" ");if(o.length>1)return void o.forEach((function(t){return i.addOrRemoveCssClass(t,e)}))}if(this.cssClassStates[t]!==e&&t.length){var n=this.getGui();n&&n.classList.toggle(t,e),this.cssClassStates[t]=e}}},t}(),dn=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),pn=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},fn=new nn,gn=function(t){function e(e){var i=t.call(this)||this;return i.displayed=!0,i.visible=!0,i.compId=fn.next(),i.cssClassManager=new hn((function(){return i.eGui})),e&&i.setTemplate(e),i}return dn(e,t),e.prototype.preConstructOnComponent=function(){this.usingBrowserTooltips=this.gridOptionsService.is("enableBrowserTooltips")},e.prototype.getCompId=function(){return this.compId},e.prototype.getTooltipParams=function(){return{value:this.tooltipText,location:"UNKNOWN"}},e.prototype.setTooltip=function(t){var e=this;this.tooltipText!=t&&(this.tooltipText&&(e.usingBrowserTooltips?e.getGui().removeAttribute("title"):e.tooltipFeature=e.destroyBean(e.tooltipFeature)),null!=t&&(this.tooltipText=t,this.tooltipText&&(e.usingBrowserTooltips?e.getGui().setAttribute("title",e.tooltipText):e.tooltipFeature=e.createBean(new un(e)))))},e.prototype.createChildComponentsFromTags=function(t,e){var i=this;Lo(t.childNodes).forEach((function(o){if(o instanceof HTMLElement){var n=i.createComponentFromElement(o,(function(t){t.getGui()&&i.copyAttributesFromNode(o,t.getGui())}),e);if(n){if(n.addItems&&o.children.length){i.createChildComponentsFromTags(o,e);var r=Array.prototype.slice.call(o.children);n.addItems(r)}i.swapComponentForNode(n,t,o)}else o.childNodes&&i.createChildComponentsFromTags(o,e)}}))},e.prototype.createComponentFromElement=function(t,i,o){var n=t.nodeName,r=o?o[t.getAttribute("ref")]:void 0,s=this.agStackComponentsRegistry.getComponentClass(n);if(s){e.elementGettingCreated=t;var a=new s(r);return a.setParentComponent(this),this.createBean(a,null,i),a}return null},e.prototype.copyAttributesFromNode=function(t,e){Io(t.attributes,(function(t,i){return e.setAttribute(t,i)}))},e.prototype.swapComponentForNode=function(t,e,i){var o=t.getGui();e.replaceChild(o,i),e.insertBefore(document.createComment(i.nodeName),o),this.addDestroyFunc(this.destroyBean.bind(this,t)),this.swapInComponentForQuerySelectors(t,i)},e.prototype.swapInComponentForQuerySelectors=function(t,e){var i=this;this.iterateOverQuerySelectors((function(o){i[o.attributeName]===e&&(i[o.attributeName]=t)}))},e.prototype.iterateOverQuerySelectors=function(t){for(var e=Object.getPrototypeOf(this);null!=e;){var i=e.__agComponentMetaData,o=T(e.constructor);i&&i[o]&&i[o].querySelectors&&i[o].querySelectors.forEach((function(e){return t(e)})),e=Object.getPrototypeOf(e)}},e.prototype.setTemplate=function(t,e){var i=_o(t);this.setTemplateFromElement(i,e)},e.prototype.setTemplateFromElement=function(t,e){this.eGui=t,this.eGui.__agComponent=this,this.wireQuerySelectors(),this.getContext()&&this.createChildComponentsFromTags(this.getGui(),e)},e.prototype.createChildComponentsPreConstruct=function(){this.getGui()&&this.createChildComponentsFromTags(this.getGui())},e.prototype.wireQuerySelectors=function(){var t=this;if(this.eGui){var e=this;this.iterateOverQuerySelectors((function(i){var o=function(t){return e[i.attributeName]=t};if(i.refSelector&&t.eGui.getAttribute("ref")===i.refSelector)o(t.eGui);else{var n=t.eGui.querySelector(i.querySelector);n&&o(n.__agComponent||n)}}))}},e.prototype.getGui=function(){return this.eGui},e.prototype.getFocusableElement=function(){return this.eGui},e.prototype.setParentComponent=function(t){this.parentComponent=t},e.prototype.getParentComponent=function(){return this.parentComponent},e.prototype.setGui=function(t){this.eGui=t},e.prototype.queryForHtmlElement=function(t){return this.eGui.querySelector(t)},e.prototype.queryForHtmlInputElement=function(t){return this.eGui.querySelector(t)},e.prototype.appendChild=function(t,e){if(null!=t)if(e||(e=this.eGui),Ro(t))e.appendChild(t);else{var i=t;e.appendChild(i.getGui())}},e.prototype.isDisplayed=function(){return this.displayed},e.prototype.setVisible=function(t,e){if(void 0===e&&(e={}),t!==this.visible){this.visible=t;var i=e.skipAriaHidden;no(this.eGui,t,{skipAriaHidden:i})}},e.prototype.setDisplayed=function(t,i){if(void 0===i&&(i={}),t!==this.displayed){this.displayed=t;var o=i.skipAriaHidden;oo(this.eGui,t,{skipAriaHidden:o});var n={type:e.EVENT_DISPLAYED_CHANGED,visible:this.displayed};this.dispatchEvent(n)}},e.prototype.destroy=function(){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),this.parentComponent&&(this.parentComponent=void 0);var e=this.eGui;e&&e.__agComponent&&(e.__agComponent=void 0),t.prototype.destroy.call(this)},e.prototype.addGuiEventListener=function(t,e,i){var o=this;this.eGui.addEventListener(t,e,i),this.addDestroyFunc((function(){return o.eGui.removeEventListener(t,e)}))},e.prototype.addCssClass=function(t){this.cssClassManager.addCssClass(t)},e.prototype.removeCssClass=function(t){this.cssClassManager.removeCssClass(t)},e.prototype.containsCssClass=function(t){return this.cssClassManager.containsCssClass(t)},e.prototype.addOrRemoveCssClass=function(t,e){this.cssClassManager.addOrRemoveCssClass(t,e)},e.prototype.getAttribute=function(t){var e=this.eGui;return e?e.getAttribute(t):null},e.prototype.getRefElement=function(t){return this.queryForHtmlElement('[ref="'+t+'"]')},e.EVENT_DISPLAYED_CHANGED="displayedChanged",pn([K("agStackComponentsRegistry")],e.prototype,"agStackComponentsRegistry",void 0),pn([W],e.prototype,"preConstructOnComponent",null),pn([W],e.prototype,"createChildComponentsPreConstruct",null),e}(jt);function mn(t){return yn.bind(this,"[ref="+t+"]",t)}function yn(t,e,i,o,n){null!==t?"number"!=typeof n?function(t,e,i){var o=function(t,e){t.__agComponentMetaData||(t.__agComponentMetaData={});t.__agComponentMetaData[e]||(t.__agComponentMetaData[e]={});return t.__agComponentMetaData[e]}(t,T(t.constructor));o[e]||(o[e]=[]);o[e].push(i)}(i,"querySelectors",{attributeName:o,querySelector:t,refSelector:e}):console.error("AG Grid: QuerySelector should be on an attribute"):console.error("AG Grid: QuerySelector selector should not be null")}var vn=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),_n=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},Cn=function(t){function e(){return t.call(this,'\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eFloatingFilterText"></ag-input-text-field>\n            </div>')||this}return vn(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this)},e.prototype.init=function(t){this.params=t;var e=this.columnModel.getDisplayNameForColumn(t.column,"header",!0),i=this.localeService.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(e+" "+i("ariaFilterInput","Filter Input"))},e.prototype.onParentModelChanged=function(t){var e=this;t?this.params.parentFilterInstance((function(i){if(i.getModelAsString){var o=i.getModelAsString(t);e.eFloatingFilterText.setValue(o)}})):this.eFloatingFilterText.setValue("")},_n([mn("eFloatingFilterText")],e.prototype,"eFloatingFilterText",void 0),_n([K("columnModel")],e.prototype,"columnModel",void 0),e}(gn),bn=function(){function t(t,e,i,o){var n=this;this.alive=!0,this.context=t,this.eParent=o,e.getDateCompDetails(i).newAgStackInstance().then((function(e){n.alive?(n.dateComp=e,e&&(o.appendChild(e.getGui()),e.afterGuiAttached&&e.afterGuiAttached(),n.tempValue&&e.setDate(n.tempValue),null!=n.disabled&&n.setDateCompDisabled(n.disabled))):t.destroyBean(e)}))}return t.prototype.destroy=function(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)},t.prototype.getDate=function(){return this.dateComp?this.dateComp.getDate():this.tempValue},t.prototype.setDate=function(t){this.dateComp?this.dateComp.setDate(t):this.tempValue=t},t.prototype.setDisabled=function(t){this.dateComp?this.setDateCompDisabled(t):this.disabled=t},t.prototype.setDisplayed=function(t){oo(this.eParent,t)},t.prototype.setInputPlaceholder=function(t){this.dateComp&&this.dateComp.setInputPlaceholder&&this.dateComp.setInputPlaceholder(t)},t.prototype.setInputAriaLabel=function(t){this.dateComp&&this.dateComp.setInputAriaLabel&&this.dateComp.setInputAriaLabel(t)},t.prototype.afterGuiAttached=function(t){this.dateComp&&"function"==typeof this.dateComp.afterGuiAttached&&this.dateComp.afterGuiAttached(t)},t.prototype.setDateCompDisabled=function(t){null!=this.dateComp&&null!=this.dateComp.setDisabled&&this.dateComp.setDisabled(t)},t}(),En=function(){return En=Object.assign||function(t){for(var e,i=1,o=arguments.length;i<o;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},En.apply(this,arguments)},Sn=function(){function t(){this.customFilterOptions={}}return t.prototype.init=function(t,e){this.filterOptions=t.filterOptions||e,this.mapCustomOptions(),this.selectDefaultItem(t),this.checkForDeprecatedParams()},t.prototype.checkForDeprecatedParams=function(){this.filterOptions.some((function(t){return"string"!=typeof t&&null!=t.test}))&&console.warn("AG Grid: [IFilterOptionDef] since v26.2.0, test() has been replaced with predicate()."),this.filterOptions.some((function(t){return"string"!=typeof t&&null!=t.hideFilterInput}))&&console.warn("AG Grid: [IFilterOptionDef] since v26.2.0, useOfHideFilterInput has been replaced with numberOfInputs.")},t.prototype.getFilterOptions=function(){return this.filterOptions},t.prototype.mapCustomOptions=function(){var t=this;this.filterOptions&&this.filterOptions.forEach((function(e){if("string"!=typeof e){if([["displayKey"],["displayName"],["predicate","test"]].every((function(t){return!!t.some((function(t){return null!=e[t]}))||(console.warn("AG Grid: ignoring FilterOptionDef as it doesn't contain one of '"+t+"'"),!1)}))){var i=e.test,o=En({},e);null!=i&&null==e.predicate&&(o.predicate=function(t,e){return i(t[0],e)},delete o.test),o.hideFilterInput&&null==o.numberOfInputs&&(o.numberOfInputs=0,delete o.hideFilterInput),t.customFilterOptions[e.displayKey]=o}else t.filterOptions=t.filterOptions.filter((function(t){return t===e}))||[]}}))},t.prototype.selectDefaultItem=function(t){if(t.defaultOption)this.defaultOption=t.defaultOption;else if(this.filterOptions.length>=1){var e=this.filterOptions[0];"string"==typeof e?this.defaultOption=e:e.displayKey?this.defaultOption=e.displayKey:console.warn("AG Grid: invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'")}else console.warn("AG Grid: no filter options for filter")},t.prototype.getDefaultOption=function(){return this.defaultOption},t.prototype.getCustomOption=function(t){return this.customFilterOptions[t]},t}(),wn={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose One",equals:"Equals",notEqual:"Not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"In range",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equals",greaterThanOrEqual:"Greater than or equals",contains:"Contains",notContains:"Not contains",startsWith:"Starts with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"},On=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),xn=function(){return xn=Object.assign||function(t){for(var e,i=1,o=arguments.length;i<o;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},xn.apply(this,arguments)},Pn=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},Tn=function(t){function e(e,i){void 0===i&&(i={});var o=t.call(this)||this;return o.eFocusableElement=e,o.callbacks=i,o.callbacks=xn({shouldStopEventPropagation:function(){return!1},onTabKeyDown:function(t){if(!t.defaultPrevented){var e=o.focusService.findNextFocusableElement(o.eFocusableElement,!1,t.shiftKey);e&&(e.focus(),t.preventDefault())}}},i),o}return On(e,t),e.prototype.postConstruct=function(){this.eFocusableElement.classList.add(e.FOCUS_MANAGED_CLASS),this.addKeyDownListeners(this.eFocusableElement),this.callbacks.onFocusIn&&this.addManagedListener(this.eFocusableElement,"focusin",this.callbacks.onFocusIn),this.callbacks.onFocusOut&&this.addManagedListener(this.eFocusableElement,"focusout",this.callbacks.onFocusOut)},e.prototype.addKeyDownListeners=function(t){var e=this;this.addManagedListener(t,"keydown",(function(t){t.defaultPrevented||Mt(t)||(e.callbacks.shouldStopEventPropagation(t)?Tt(t):t.key===Uo.TAB?e.callbacks.onTabKeyDown(t):e.callbacks.handleKeyDown&&e.callbacks.handleKeyDown(t))}))},e.FOCUS_MANAGED_CLASS="ag-focus-managed",Pn([K("focusService")],e.prototype,"focusService",void 0),Pn([H],e.prototype,"postConstruct",null),e}(jt),Mn=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),Dn=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},An="ag-resizer-wrapper",Rn='<div class="'+An+'">\n        <div ref="eTopLeftResizer" class="ag-resizer ag-resizer-topLeft"></div>\n        <div ref="eTopResizer" class="ag-resizer ag-resizer-top"></div>\n        <div ref="eTopRightResizer" class="ag-resizer ag-resizer-topRight"></div>\n        <div ref="eRightResizer" class="ag-resizer ag-resizer-right"></div>\n        <div ref="eBottomRightResizer" class="ag-resizer ag-resizer-bottomRight"></div>\n        <div ref="eBottomResizer" class="ag-resizer ag-resizer-bottom"></div>\n        <div ref="eBottomLeftResizer" class="ag-resizer ag-resizer-bottomLeft"></div>\n        <div ref="eLeftResizer" class="ag-resizer ag-resizer-left"></div>\n    </div>',Ln=function(t){function e(e,i){var o=t.call(this)||this;return o.element=e,o.dragStartPosition={x:0,y:0},o.position={x:0,y:0},o.lastSize={width:-1,height:-1},o.positioned=!1,o.resizersAdded=!1,o.resizeListeners=[],o.boundaryEl=null,o.isResizing=!1,o.isMoving=!1,o.resizable={},o.movable=!1,o.currentResizer=null,o.config=Object.assign({},{popup:!1},i),o}return Mn(e,t),e.prototype.center=function(){var t=this.offsetParent,e=t.clientHeight,i=t.clientWidth/2-this.getWidth()/2,o=e/2-this.getHeight()/2;this.offsetElement(i,o)},e.prototype.initialisePosition=function(){if(!this.positioned){var t=this.config,e=t.centered,i=t.forcePopupParentAsOffsetParent,o=t.minWidth,n=t.width,r=t.minHeight,s=t.height,a=t.x,l=t.y;this.offsetParent||this.setOffsetParent();var c=0,u=0,h=!!this.element.offsetParent;if(h){var d=this.findBoundaryElement(),p=window.getComputedStyle(d);if(null!=p.minWidth){var f=d.offsetWidth-this.element.offsetWidth;u=parseInt(p.minWidth,10)-f}if(null!=p.minHeight){var g=d.offsetHeight-this.element.offsetHeight;c=parseInt(p.minHeight,10)-g}}if(this.minHeight=r||c,this.minWidth=o||u,n&&this.setWidth(n),s&&this.setHeight(s),n&&s||this.refreshSize(),e)this.center();else if(a||l)this.offsetElement(a,l);else if(h&&i&&this.boundaryEl){var m=parseFloat(this.boundaryEl.style.top),y=parseFloat(this.boundaryEl.style.left);this.offsetElement(isNaN(y)?0:y,isNaN(m)?0:m)}this.positioned=!!this.offsetParent}},e.prototype.isPositioned=function(){return this.positioned},e.prototype.getPosition=function(){return this.position},e.prototype.setMovable=function(t,e){if(this.config.popup&&t!==this.movable){this.movable=t;var i=this.moveElementDragListener||{eElement:e,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};t?(this.dragService.addDragSource(i),this.moveElementDragListener=i):(this.dragService.removeDragSource(i),this.moveElementDragListener=void 0)}},e.prototype.setResizable=function(t){var e=this;if(this.clearResizeListeners(),t?this.addResizers():this.removeResizers(),"boolean"==typeof t){if(!1===t)return;t={topLeft:t,top:t,topRight:t,right:t,bottomRight:t,bottom:t,bottomLeft:t,left:t}}Object.keys(t).forEach((function(i){var o=!!t[i],n=e.getResizerElement(i),r={dragStartPixels:0,eElement:n,onDragStart:function(t){return e.onResizeStart(t,i)},onDragging:e.onResize.bind(e),onDragStop:function(t){return e.onResizeEnd(t,i)}};(o||!e.isAlive()&&!o)&&(o?(e.dragService.addDragSource(r),e.resizeListeners.push(r),n.style.pointerEvents="all"):n.style.pointerEvents="none",e.resizable[i]=o)}))},e.prototype.removeSizeFromEl=function(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")},e.prototype.restoreLastSize=function(){this.element.style.flex="0 0 auto";var t=this.lastSize,e=t.height,i=t.width;-1!==i&&(this.element.style.width=i+"px"),-1!==e&&(this.element.style.height=e+"px")},e.prototype.getHeight=function(){return this.element.offsetHeight},e.prototype.setHeight=function(t){var e=this.config.popup,i=this.element,o=!1;if("string"==typeof t&&-1!==t.indexOf("%"))Do(i,t),t=uo(i),o=!0;else if(this.positioned){t=Math.max(this.minHeight,t);var n=this.getAvailableHeight();n&&t>n&&(t=n)}this.getHeight()!==t&&(o?(i.style.maxHeight="unset",i.style.minHeight="unset"):e?Do(i,t):(i.style.height=t+"px",i.style.flex="0 0 auto",this.lastSize.height="number"==typeof t?t:parseFloat(t)))},e.prototype.getAvailableHeight=function(){var t=this.config,e=t.popup,i=t.forcePopupParentAsOffsetParent;this.positioned||this.initialisePosition();var o=this.offsetParent.clientHeight;if(!o)return null;var n=this.element.getBoundingClientRect(),r=this.offsetParent.getBoundingClientRect(),s=e?this.position.y:n.top,a=e?0:r.top,l=0;if(i){var c=this.element.parentElement;if(c)l=c.getBoundingClientRect().bottom-n.bottom}return o+a-s-l},e.prototype.getWidth=function(){return this.element.offsetWidth},e.prototype.setWidth=function(t){var e=this.element,i=this.config.popup,o=!1;if("string"==typeof t&&-1!==t.indexOf("%"))Mo(e,t),t=ho(e),o=!0;else if(this.positioned){t=Math.max(this.minWidth,t);var n=this.offsetParent.clientWidth,r=i?this.position.x:this.element.getBoundingClientRect().left;n&&t+r>n&&(t=n-r)}this.getWidth()!==t&&(o?(e.style.maxWidth="unset",e.style.minWidth="unset"):this.config.popup?Mo(e,t):(e.style.width=t+"px",e.style.flex=" unset",this.lastSize.width="number"==typeof t?t:parseFloat(t)))},e.prototype.offsetElement=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0);var i=this.config.forcePopupParentAsOffsetParent?this.boundaryEl:this.element;this.popupService.positionPopup({ePopup:i,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:function(){return{x:t,y:e}}}),this.setPosition(parseFloat(i.style.left),parseFloat(i.style.top))},e.prototype.constrainSizeToAvailableHeight=function(t){var e=this;if(this.config.forcePopupParentAsOffsetParent){t?this.resizeObserverSubscriber=this.resizeObserverService.observeResize(this.popupService.getPopupParent(),(function(){var t=e.getAvailableHeight();e.element.style.setProperty("max-height",t+"px")})):(this.element.style.removeProperty("max-height"),this.resizeObserverSubscriber&&(this.resizeObserverSubscriber(),this.resizeObserverSubscriber=void 0))}},e.prototype.setPosition=function(t,e){this.position.x=t,this.position.y=e},e.prototype.updateDragStartPosition=function(t,e){this.dragStartPosition={x:t,y:e}},e.prototype.calculateMouseMovement=function(t){var e=t.e,i=t.isLeft,o=t.isTop,n=t.anywhereWithin,r=t.topBuffer,s=e.clientX-this.dragStartPosition.x,a=e.clientY-this.dragStartPosition.y;return{movementX:this.shouldSkipX(e,!!i,!!n,s)?0:s,movementY:this.shouldSkipY(e,!!o,r,a)?0:a}},e.prototype.shouldSkipX=function(t,e,i,o){var n=this.element.getBoundingClientRect(),r=this.offsetParent.getBoundingClientRect(),s=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.x:n.left,l=a<=0&&r.left>=t.clientX||r.right<=t.clientX&&r.right<=s.right;return!!l||(l=e?o<0&&t.clientX>a+r.left||o>0&&t.clientX<a+r.left:i?o<0&&t.clientX>s.right||o>0&&t.clientX<a+r.left:o<0&&t.clientX>s.right||o>0&&t.clientX<s.right)},e.prototype.shouldSkipY=function(t,e,i,o){void 0===i&&(i=0);var n=this.element.getBoundingClientRect(),r=this.offsetParent.getBoundingClientRect(),s=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.y:n.top,l=a<=0&&r.top>=t.clientY||r.bottom<=t.clientY&&r.bottom<=s.bottom;return!!l||(l=e?o<0&&t.clientY>a+r.top+i||o>0&&t.clientY<a+r.top:o<0&&t.clientY>s.bottom||o>0&&t.clientY<s.bottom)},e.prototype.createResizeMap=function(){var t=this.element;this.resizerMap={topLeft:{element:t.querySelector("[ref=eTopLeftResizer]")},top:{element:t.querySelector("[ref=eTopResizer]")},topRight:{element:t.querySelector("[ref=eTopRightResizer]")},right:{element:t.querySelector("[ref=eRightResizer]")},bottomRight:{element:t.querySelector("[ref=eBottomRightResizer]")},bottom:{element:t.querySelector("[ref=eBottomResizer]")},bottomLeft:{element:t.querySelector("[ref=eBottomLeftResizer]")},left:{element:t.querySelector("[ref=eLeftResizer]")}}},e.prototype.addResizers=function(){if(!this.resizersAdded){var t=this.element;if(t){var e=(new DOMParser).parseFromString(Rn,"text/html").body;t.appendChild(e.firstChild),this.createResizeMap(),this.resizersAdded=!0}}},e.prototype.removeResizers=function(){this.resizerMap=void 0;var t=this.element.querySelector("."+An);t&&this.element.removeChild(t),this.resizersAdded=!1},e.prototype.getResizerElement=function(t){return this.resizerMap[t].element},e.prototype.onResizeStart=function(t,e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!e.match(/top/i),isRight:!!e.match(/right/i),isBottom:!!e.match(/bottom/i),isLeft:!!e.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[e].element.classList.add("ag-active");var i=this.config,o=i.popup,n=i.forcePopupParentAsOffsetParent;o||n||this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(t.clientX,t.clientY)},e.prototype.getSiblings=function(){var t=this.element.parentElement;return t?Array.prototype.slice.call(t.children).filter((function(t){return!t.classList.contains("ag-hidden")})):null},e.prototype.getMinSizeOfSiblings=function(){for(var t=this.getSiblings()||[],e=0,i=0,o=0;o<t.length;o++){var n=t[o],r=!!n.style.flex&&"0 0 auto"!==n.style.flex;if(n!==this.element){var s=this.minHeight||0,a=this.minWidth||0;if(r){var l=window.getComputedStyle(n);l.minHeight&&(s=parseInt(l.minHeight,10)),l.minWidth&&(a=parseInt(l.minWidth,10))}else s=n.offsetHeight,a=n.offsetWidth;e+=s,i+=a}}return{height:e,width:i}},e.prototype.applySizeToSiblings=function(t){var e=null,i=this.getSiblings();if(i){for(var o=0;o<i.length;o++){var n=i[o];n!==e&&(t?n.style.height=n.offsetHeight+"px":n.style.width=n.offsetWidth+"px",n.style.flex="0 0 auto",n===this.element&&(e=i[o+1]))}e&&(e.style.removeProperty("height"),e.style.removeProperty("min-height"),e.style.removeProperty("max-height"),e.style.flex="1 1 auto")}},e.prototype.isResizable=function(){return Object.values(this.resizable).some((function(t){return t}))},e.prototype.onResize=function(t){if(this.isResizing&&this.currentResizer){var e=this.config,i=e.popup,o=e.forcePopupParentAsOffsetParent,n=this.currentResizer,r=n.isTop,s=n.isRight,a=n.isBottom,l=n.isLeft,c=s||l,u=a||r,h=this.calculateMouseMovement({e:t,isLeft:l,isTop:r}),d=h.movementX,p=h.movementY,f=this.position.x,g=this.position.y,m=0,y=0;if(c&&d){var v=l?-1:1,_=this.getWidth(),C=_+d*v,b=!1;l&&(f+(m=_-C)<=0||C<=this.minWidth)&&(b=!0,m=0),b||this.setWidth(C)}if(u&&p){v=r?-1:1;var E=this.getHeight(),S=E+p*v,w=!1;r?(g+(y=E-S)<=0||S<=this.minHeight)&&(w=!0,y=0):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&E<S&&this.getMinSizeOfSiblings().height+S>this.element.parentElement.offsetHeight&&(w=!0),w||this.setHeight(S)}this.updateDragStartPosition(t.clientX,t.clientY),((i||o)&&m||y)&&this.offsetElement(f+m,g+y)}},e.prototype.onResizeEnd=function(t,e){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null;var i={type:"resize",api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi};this.element.classList.remove("ag-resizing"),this.resizerMap[e].element.classList.remove("ag-active"),this.dispatchEvent(i)},e.prototype.refreshSize=function(){var t=this.element;this.config.popup&&(this.config.width||this.setWidth(t.offsetWidth),this.config.height||this.setHeight(t.offsetHeight))},e.prototype.onMoveStart=function(t){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(t.clientX,t.clientY)},e.prototype.onMove=function(t){if(this.isMoving){var e,i=this.position,o=i.x,n=i.y;this.config.calculateTopBuffer&&(e=this.config.calculateTopBuffer());var r=this.calculateMouseMovement({e:t,isTop:!0,anywhereWithin:!0,topBuffer:e}),s=r.movementX,a=r.movementY;this.offsetElement(o+s,n+a),this.updateDragStartPosition(t.clientX,t.clientY)}},e.prototype.onMoveEnd=function(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")},e.prototype.setOffsetParent=function(){this.config.forcePopupParentAsOffsetParent?this.offsetParent=this.popupService.getPopupParent():this.offsetParent=this.element.offsetParent},e.prototype.findBoundaryElement=function(){for(var t=this.element;t;){if("static"!==window.getComputedStyle(t).position)return t;t=t.parentElement}return this.element},e.prototype.clearResizeListeners=function(){for(;this.resizeListeners.length;){var t=this.resizeListeners.pop();this.dragService.removeDragSource(t)}},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.moveElementDragListener&&this.dragService.removeDragSource(this.moveElementDragListener),this.constrainSizeToAvailableHeight(!1),this.clearResizeListeners(),this.removeResizers()},Dn([K("popupService")],e.prototype,"popupService",void 0),Dn([K("resizeObserverService")],e.prototype,"resizeObserverService",void 0),Dn([K("dragService")],e.prototype,"dragService",void 0),e}(jt),In=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),Nn=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},kn=function(t){function e(e){var i=t.call(this)||this;return i.filterNameKey=e,i.applyActive=!1,i.hidePopup=null,i.debouncePending=!1,i.appliedModel=null,i}return In(e,t),e.prototype.postConstruct=function(){this.resetTemplate(),this.createManagedBean(new Tn(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.positionableFeature=new Ln(this.getPositionableElement(),{forcePopupParentAsOffsetParent:!0}),this.createBean(this.positionableFeature)},e.prototype.handleKeyDown=function(t){},e.prototype.getFilterTitle=function(){return this.translate(this.filterNameKey)},e.prototype.isFilterActive=function(){return!!this.appliedModel},e.prototype.resetTemplate=function(t){var e=this.getGui();e&&e.removeEventListener("submit",this.onFormSubmit);var i='\n            <form class="ag-filter-wrapper">\n                <div class="ag-filter-body-wrapper ag-'+this.getCssIdentifier()+'-body-wrapper" ref="eFilterBody">\n                    '+this.createBodyTemplate()+"\n                </div>\n            </form>";this.setTemplate(i,t),(e=this.getGui())&&e.addEventListener("submit",this.onFormSubmit)},e.prototype.isReadOnly=function(){return!!this.providedFilterParams.readOnly},e.prototype.init=function(t){var e=this;this.setParams(t),this.resetUiToDefaults(!0).then((function(){e.updateUiVisibility(),e.setupOnBtApplyDebounce()}))},e.prototype.setParams=function(t){this.providedFilterParams=t,this.applyActive=e.isUseApplyButton(t),this.createButtonPanel()},e.prototype.createButtonPanel=function(){var t=this,e=this.providedFilterParams.buttons;if(!(!e||e.length<1||this.isReadOnly())){var i=document.createElement("div");i.classList.add("ag-filter-apply-panel");Jo(e).forEach((function(e){return function(e){var o,n;switch(e){case"apply":o=t.translate("applyFilter"),n=function(e){return t.onBtApply(!1,!1,e)};break;case"clear":o=t.translate("clearFilter"),n=function(){return t.onBtClear()};break;case"reset":o=t.translate("resetFilter"),n=function(){return t.onBtReset()};break;case"cancel":o=t.translate("cancelFilter"),n=function(e){t.onBtCancel(e)};break;default:return void console.warn("AG Grid: Unknown button type specified")}var r=_o('<button\n                    type="'+("apply"===e?"submit":"button")+'"\n                    ref="'+e+'FilterButton"\n                    class="ag-standard-button ag-filter-apply-panel-button"\n                >'+o+"\n                </button>");i.appendChild(r),t.addManagedListener(r,"click",n)}(e)})),this.getGui().appendChild(i)}},e.prototype.getDefaultDebounceMs=function(){return 0},e.prototype.setupOnBtApplyDebounce=function(){var t=this,i=e.getDebounceMs(this.providedFilterParams,this.getDefaultDebounceMs()),o=N(this.checkApplyDebounce.bind(this),i);this.onBtApplyDebounce=function(){t.debouncePending=!0,o()}},e.prototype.checkApplyDebounce=function(){this.debouncePending&&(this.debouncePending=!1,this.onBtApply())},e.prototype.getModel=function(){return this.appliedModel?this.appliedModel:null},e.prototype.setModel=function(t){var e=this;return(null!=t?this.setModelIntoUi(t):this.resetUiToDefaults()).then((function(){e.updateUiVisibility(),e.applyModel("api")}))},e.prototype.onBtCancel=function(t){var e=this;this.resetUiToActiveModel(this.getModel(),(function(){e.handleCancelEnd(t)}))},e.prototype.handleCancelEnd=function(t){this.providedFilterParams.closeOnApply&&this.close(t)},e.prototype.resetUiToActiveModel=function(t,e){var i=this,o=function(){i.onUiChanged(!1,"prevent"),null==e||e()};null!=t?this.setModelIntoUi(t).then(o):this.resetUiToDefaults().then(o)},e.prototype.onBtClear=function(){var t=this;this.resetUiToDefaults().then((function(){return t.onUiChanged()}))},e.prototype.onBtReset=function(){this.onBtClear(),this.onBtApply()},e.prototype.applyModel=function(t){var e=this.getModelFromUi();if(!this.isModelValid(e))return!1;var i=this.appliedModel;return this.appliedModel=e,!this.areModelsEqual(i,e)},e.prototype.isModelValid=function(t){return!0},e.prototype.onFormSubmit=function(t){t.preventDefault()},e.prototype.onBtApply=function(t,e,i){void 0===t&&(t=!1),void 0===e&&(e=!1),i&&i.preventDefault(),this.applyModel(e?"rowDataUpdated":"ui")&&this.providedFilterParams.filterChangedCallback({afterFloatingFilter:t,afterDataChange:e}),this.providedFilterParams.closeOnApply&&this.applyActive&&!t&&!e&&this.close(i)},e.prototype.onNewRowsLoaded=function(){},e.prototype.close=function(t){if(this.hidePopup){var e,i=t,o=i&&i.key;"Enter"!==o&&"Space"!==o||(e={keyboardEvent:i}),this.hidePopup(e),this.hidePopup=null}},e.prototype.onUiChanged=function(t,e){if(void 0===t&&(t=!1),this.updateUiVisibility(),this.providedFilterParams.filterModifiedCallback(),this.applyActive&&!this.isReadOnly()){var i=this.isModelValid(this.getModelFromUi());ro(this.getRefElement("applyFilterButton"),!i)}t&&!e||"immediately"===e?this.onBtApply(t):(this.applyActive||e)&&"debounce"!==e||this.onBtApplyDebounce()},e.prototype.afterGuiAttached=function(t){t&&(this.hidePopup=t.hidePopup),this.refreshFilterResizer(null==t?void 0:t.container)},e.prototype.refreshFilterResizer=function(t){if(this.positionableFeature&&"toolPanel"!==t){var e="floatingFilter"===t,i=this.positionableFeature,o=this.gridOptionsService;e?(i.restoreLastSize(),i.setResizable(o.is("enableRtl")?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0})):(this.positionableFeature.removeSizeFromEl(),this.positionableFeature.setResizable(!1)),this.positionableFeature.constrainSizeToAvailableHeight(!0)}},e.prototype.afterGuiDetached=function(){this.checkApplyDebounce(),this.positionableFeature&&this.positionableFeature.constrainSizeToAvailableHeight(!1)},e.getDebounceMs=function(t,i){return e.isUseApplyButton(t)?(null!=t.debounceMs&&console.warn("AG Grid: debounceMs is ignored when apply button is present"),0):null!=t.debounceMs?t.debounceMs:i},e.isUseApplyButton=function(t){return!!t.buttons&&t.buttons.indexOf("apply")>=0},e.prototype.destroy=function(){var e=this.getGui();e&&e.removeEventListener("submit",this.onFormSubmit),this.hidePopup=null,this.positionableFeature&&(this.positionableFeature=this.destroyBean(this.positionableFeature)),t.prototype.destroy.call(this)},e.prototype.translate=function(t){return this.localeService.getLocaleTextFunc()(t,wn[t])},e.prototype.getCellValue=function(t){var e=this.providedFilterParams,i=e.api,o=e.colDef,n=e.column,r=e.columnApi,s=e.context;return this.providedFilterParams.valueGetter({api:i,colDef:o,column:n,columnApi:r,context:s,data:t.data,getValue:function(e){return t.data[e]},node:t})},e.prototype.getPositionableElement=function(){return this.eFilterBody},Nn([K("rowModel")],e.prototype,"rowModel",void 0),Nn([mn("eFilterBody")],e.prototype,"eFilterBody",void 0),Nn([H],e.prototype,"postConstruct",null),e}(gn),Fn=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),Bn=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},Gn=function(t){function e(e,i){var o=t.call(this,i)||this;return o.labelSeparator="",o.labelAlignment="left",o.disabled=!1,o.label="",o.config=e||{},o}return Fn(e,t),e.prototype.postConstruct=function(){this.addCssClass("ag-labeled"),this.eLabel.classList.add("ag-label");var t=this.config,e=t.labelSeparator,i=t.label,o=t.labelWidth,n=t.labelAlignment;null!=e&&this.setLabelSeparator(e),null!=i&&this.setLabel(i),null!=o&&this.setLabelWidth(o),this.setLabelAlignment(n||this.labelAlignment),this.refreshLabel()},e.prototype.refreshLabel=function(){mo(this.eLabel),"string"==typeof this.label?this.eLabel.innerText=this.label+this.labelSeparator:this.label&&this.eLabel.appendChild(this.label),""===this.label?(oo(this.eLabel,!1),ze(this.eLabel,"presentation")):(oo(this.eLabel,!0),ze(this.eLabel,null))},e.prototype.setLabelSeparator=function(t){return this.labelSeparator===t||(this.labelSeparator=t,null!=this.label&&this.refreshLabel()),this},e.prototype.getLabelId=function(){return this.eLabel.id=this.eLabel.id||"ag-"+this.getCompId()+"-label",this.eLabel.id},e.prototype.getLabel=function(){return this.label},e.prototype.setLabel=function(t){return this.label===t||(this.label=t,this.refreshLabel()),this},e.prototype.setLabelAlignment=function(t){var e=this.getGui().classList;return e.toggle("ag-label-align-left","left"===t),e.toggle("ag-label-align-right","right"===t),e.toggle("ag-label-align-top","top"===t),this},e.prototype.setLabelEllipsis=function(t){return this.eLabel.classList.toggle("ag-label-ellipsis",t),this},e.prototype.setLabelWidth=function(t){return null==this.label||To(this.eLabel,t),this},e.prototype.setDisabled=function(t){t=!!t;var e=this.getGui();return ro(e,t),e.classList.toggle("ag-disabled",t),this.disabled=t,this},e.prototype.isDisabled=function(){return!!this.disabled},Bn([H],e.prototype,"postConstruct",null),e}(gn),jn=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),Vn=function(t){function e(e,i,o){var n=t.call(this,e,i)||this;return n.className=o,n}return jn(e,t),e.prototype.postConstruct=function(){t.prototype.postConstruct.call(this),this.className&&this.addCssClass(this.className)},e.prototype.onValueChange=function(t){var i=this;return this.addManagedListener(this,e.EVENT_CHANGED,(function(){return t(i.getValue())})),this},e.prototype.getWidth=function(){return this.getGui().clientWidth},e.prototype.setWidth=function(t){return Mo(this.getGui(),t),this},e.prototype.getPreviousValue=function(){return this.previousValue},e.prototype.getValue=function(){return this.value},e.prototype.setValue=function(t,i){return this.value===t||(this.previousValue=this.value,this.value=t,i||this.dispatchEvent({type:e.EVENT_CHANGED})),this},e.EVENT_CHANGED="valueChange",e}(Gn),Un=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),Wn=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},Hn=function(t){function e(e,i,o,n){var r=t.call(this,e,'<div class="ag-picker-field" role="presentation">\n                <div ref="eLabel"></div>\n                <div ref="eWrapper"\n                    class="ag-wrapper ag-picker-field-wrapper"\n                    tabIndex="-1"\n                    aria-expanded="false"\n                    '+(n?'role="'+n+'"':"")+'\n                >\n                    <div ref="eDisplayField" class="ag-picker-field-display"></div>\n                    <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>\n                </div>\n            </div>',i)||this;return r.pickerIcon=o,r.isPickerDisplayed=!1,r.isDestroyingPicker=!1,r.skipClick=!1,r}return Un(e,t),e.prototype.postConstruct=function(){var e=this;t.prototype.postConstruct.call(this);var i=this.getCompId()+"-display";this.eDisplayField.setAttribute("id",i),Qe(this.eWrapper,i);var o=function(){e.skipClick?e.skipClick=!1:e.isDisabled()||(e.pickerComponent=e.showPicker())},n=this.getGui();if(this.addManagedListener(n,"mousedown",(function(t){!e.skipClick&&e.pickerComponent&&e.pickerComponent.isAlive()&&vo(e.pickerComponent.getGui())&&n.contains(t.target)&&(e.skipClick=!0)})),this.addManagedListener(n,"keydown",(function(t){switch(t.key){case Uo.UP:case Uo.DOWN:case Uo.ENTER:case Uo.SPACE:o();case Uo.ESCAPE:e.isPickerDisplayed&&t.preventDefault()}})),this.addManagedListener(this.eWrapper,"click",o),this.addManagedListener(this.eLabel,"click",o),this.pickerIcon){var r=jo(this.pickerIcon,this.gridOptionsService);r&&this.eIcon.appendChild(r)}},e.prototype.refreshLabel=function(){n(this.getLabel())?qe(this.eWrapper,this.getLabelId()):this.eWrapper.removeAttribute("aria-labelledby"),t.prototype.refreshLabel.call(this)},e.prototype.setAriaLabel=function(t){return Ze(this.eWrapper,t),this},e.prototype.setInputWidth=function(t){return To(this.eWrapper,t),this},e.prototype.getFocusableElement=function(){return this.eWrapper},Wn([mn("eLabel")],e.prototype,"eLabel",void 0),Wn([mn("eWrapper")],e.prototype,"eWrapper",void 0),Wn([mn("eDisplayField")],e.prototype,"eDisplayField",void 0),Wn([mn("eIcon")],e.prototype,"eIcon",void 0),e}(Vn),$n=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),zn=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},Kn=function(t){function e(e){void 0===e&&(e="default");var i=t.call(this,'<div class="ag-list ag-'+e+'-list" role="listbox"></div>')||this;return i.cssIdentifier=e,i.options=[],i.itemEls=[],i}return $n(e,t),e.prototype.init=function(){this.addManagedListener(this.getGui(),"keydown",this.handleKeyDown.bind(this))},e.prototype.handleKeyDown=function(t){var e=t.key;switch(e){case Uo.ENTER:if(this.highlightedEl){var i=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(i)}else this.setValue(this.getValue());break;case Uo.DOWN:case Uo.UP:var o=e===Uo.DOWN,n=void 0;if(t.preventDefault(),this.highlightedEl){var r=this.itemEls.indexOf(this.highlightedEl)+(o?1:-1);r=Math.min(Math.max(r,0),this.itemEls.length-1),n=this.itemEls[r]}else n=this.itemEls[o?0:this.itemEls.length-1];this.highlightItem(n)}},e.prototype.addOptions=function(t){var e=this;return t.forEach((function(t){return e.addOption(t)})),this},e.prototype.addOption=function(t){var e=t.value,i=Ce(t.text||e);return this.options.push({value:e,text:i}),this.renderOption(e,i),this.updateIndices(),this},e.prototype.updateIndices=function(){var t=this.getGui().querySelectorAll(".ag-list-item");t.forEach((function(e,i){si(e,i+1),ri(e,t.length)}))},e.prototype.renderOption=function(t,e){var i=this,o=document.createElement("div");ze(o,"option"),o.classList.add("ag-list-item","ag-"+this.cssIdentifier+"-list-item"),o.innerHTML="<span>"+e+"</span>",o.tabIndex=-1,this.itemEls.push(o),this.addManagedListener(o,"mouseover",(function(){return i.highlightItem(o)})),this.addManagedListener(o,"mouseleave",(function(){return i.clearHighlighted()})),this.addManagedListener(o,"click",(function(){return i.setValue(t)})),this.getGui().appendChild(o)},e.prototype.setValue=function(t,e){if(this.value===t)return this.fireItemSelected(),this;if(null==t)return this.reset(),this;var i=this.options.findIndex((function(e){return e.value===t}));if(-1!==i){var o=this.options[i];this.value=o.value,this.displayValue=null!=o.text?o.text:o.value,this.highlightItem(this.itemEls[i]),e||this.fireChangeEvent()}return this},e.prototype.setValueByIndex=function(t){return this.setValue(this.options[t].value)},e.prototype.getValue=function(){return this.value},e.prototype.getDisplayValue=function(){return this.displayValue},e.prototype.refreshHighlighted=function(){var t=this;this.clearHighlighted();var e=this.options.findIndex((function(e){return e.value===t.value}));-1!==e&&this.highlightItem(this.itemEls[e])},e.prototype.reset=function(){this.value=null,this.displayValue=null,this.clearHighlighted(),this.fireChangeEvent()},e.prototype.highlightItem=function(t){t.offsetParent&&(this.clearHighlighted(),this.highlightedEl=t,this.highlightedEl.classList.add(e.ACTIVE_CLASS),gi(this.highlightedEl,!0),this.highlightedEl.focus())},e.prototype.clearHighlighted=function(){this.highlightedEl&&this.highlightedEl.offsetParent&&(this.highlightedEl.classList.remove(e.ACTIVE_CLASS),gi(this.highlightedEl,!1),this.highlightedEl=null)},e.prototype.fireChangeEvent=function(){this.dispatchEvent({type:Vn.EVENT_CHANGED}),this.fireItemSelected()},e.prototype.fireItemSelected=function(){this.dispatchEvent({type:e.EVENT_ITEM_SELECTED})},e.EVENT_ITEM_SELECTED="selectedItem",e.ACTIVE_CLASS="ag-active-item",zn([H],e.prototype,"init",null),e}(gn),Yn=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),Xn=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},Zn=function(t){function e(e){return t.call(this,e,"ag-select","smallDown","listbox")||this}return Yn(e,t),e.prototype.init=function(){var t=this;this.listComponent=this.createBean(new Kn("select")),this.listComponent.setParentComponent(this),this.eWrapper.tabIndex=0,this.listComponent.addManagedListener(this.listComponent,Kn.EVENT_ITEM_SELECTED,(function(){t.hideList&&t.hideList(),t.dispatchEvent({type:e.EVENT_ITEM_SELECTED})})),this.listComponent.addManagedListener(this.listComponent,Vn.EVENT_CHANGED,(function(){t.setValue(t.listComponent.getValue(),!1,!0),t.hideList&&t.hideList()}))},e.prototype.showPicker=function(){var t=this,e=this.listComponent.getGui(),i=this.gridOptionsService.getDocument(),o=this.addManagedListener(i.body,"wheel",(function(i){!e.contains(i.target)&&t.hideList&&t.hideList()})),n=this.addManagedListener(e,"focusout",(function(i){!e.contains(i.relatedTarget)&&t.hideList&&t.hideList()})),r=this.localeService.getLocaleTextFunc(),s=this.popupService.addPopup({modal:!0,eChild:e,closeOnEsc:!0,closedCallback:function(){t.hideList=null,t.isPickerDisplayed=!1,n(),o(),t.isAlive()&&(oi(t.eWrapper,!1),t.getFocusableElement().focus())},ariaLabel:r("ariaLabelSelectField","Select Field")});return s&&(this.hideList=s.hideFunc),this.isPickerDisplayed=!0,To(e,ho(this.eWrapper)),oi(this.eWrapper,!0),e.style.maxHeight=lo(this.popupService.getPopupParent())+"px",e.style.position="absolute",this.popupService.positionPopupByComponent({type:"ag-list",eventSource:this.eWrapper,ePopup:e,position:"under",keepWithinBounds:!0}),this.listComponent.refreshHighlighted(),this.listComponent},e.prototype.addOptions=function(t){var e=this;return t.forEach((function(t){return e.addOption(t)})),this},e.prototype.addOption=function(t){return this.listComponent.addOption(t),this},e.prototype.setValue=function(e,i,o){return this.value===e?this:(o||this.listComponent.setValue(e,!0),this.listComponent.getValue()===this.getValue()?this:(this.eDisplayField.innerHTML=this.listComponent.getDisplayValue(),t.prototype.setValue.call(this,e,i)))},e.prototype.destroy=function(){this.hideList&&this.hideList(),this.destroyBean(this.listComponent),t.prototype.destroy.call(this)},e.EVENT_ITEM_SELECTED="selectedItem",Xn([K("popupService")],e.prototype,"popupService",void 0),Xn([H],e.prototype,"init",null),e}(Hn),qn=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),Jn=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},Qn=function(t){function e(e,i,o,n){void 0===o&&(o="text"),void 0===n&&(n="input");var r=t.call(this,e,'\n            <div role="presentation">\n                <div ref="eLabel" class="ag-input-field-label"></div>\n                <div ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">\n                    <'+n+' ref="eInput" class="ag-input-field-input"></'+n+">\n                </div>\n            </div>",i)||this;return r.inputType=o,r.displayFieldTag=n,r}return qn(e,t),e.prototype.postConstruct=function(){t.prototype.postConstruct.call(this),this.setInputType(),this.eLabel.classList.add(this.className+"-label"),this.eWrapper.classList.add(this.className+"-input-wrapper"),this.eInput.classList.add(this.className+"-input"),this.addCssClass("ag-input-field"),this.eInput.id=this.eInput.id||"ag-"+this.getCompId()+"-input";var e=this.config,i=e.width,o=e.value;null!=i&&this.setWidth(i),null!=o&&this.setValue(o),this.addInputListeners()},e.prototype.refreshLabel=function(){n(this.getLabel())?qe(this.eInput,this.getLabelId()):this.eInput.removeAttribute("aria-labelledby"),t.prototype.refreshLabel.call(this)},e.prototype.addInputListeners=function(){var t=this;this.addManagedListener(this.eInput,"input",(function(e){return t.setValue(e.target.value)}))},e.prototype.setInputType=function(){"input"===this.displayFieldTag&&this.eInput.setAttribute("type",this.inputType)},e.prototype.getInputElement=function(){return this.eInput},e.prototype.setInputWidth=function(t){return To(this.eWrapper,t),this},e.prototype.setInputName=function(t){return this.getInputElement().setAttribute("name",t),this},e.prototype.getFocusableElement=function(){return this.eInput},e.prototype.setMaxLength=function(t){return this.eInput.maxLength=t,this},e.prototype.setInputPlaceholder=function(t){return No(this.eInput,"placeholder",t),this},e.prototype.setInputAriaLabel=function(t){return Ze(this.eInput,t),this},e.prototype.setDisabled=function(e){return ro(this.eInput,e),t.prototype.setDisabled.call(this,e)},Jn([mn("eLabel")],e.prototype,"eLabel",void 0),Jn([mn("eWrapper")],e.prototype,"eWrapper",void 0),Jn([mn("eInput")],e.prototype,"eInput",void 0),e}(Vn),tr=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),er=function(t){function e(e,i,o){void 0===i&&(i="ag-checkbox"),void 0===o&&(o="checkbox");var n=t.call(this,e,i,o)||this;return n.labelAlignment="right",n.selected=!1,n.readOnly=!1,n.passive=!1,n}return tr(e,t),e.prototype.addInputListeners=function(){this.addManagedListener(this.eInput,"click",this.onCheckboxClick.bind(this)),this.addManagedListener(this.eLabel,"click",this.toggle.bind(this))},e.prototype.getNextValue=function(){return void 0===this.selected||!this.selected},e.prototype.setPassive=function(t){this.passive=t},e.prototype.isReadOnly=function(){return this.readOnly},e.prototype.setReadOnly=function(t){this.eWrapper.classList.toggle("ag-disabled",t),this.eInput.disabled=t,this.readOnly=t},e.prototype.setDisabled=function(e){return this.eWrapper.classList.toggle("ag-disabled",e),t.prototype.setDisabled.call(this,e)},e.prototype.toggle=function(){if(!this.eInput.disabled){var t=this.isSelected(),e=this.getNextValue();this.passive?this.dispatchChange(e,t):this.setValue(e)}},e.prototype.getValue=function(){return this.isSelected()},e.prototype.setValue=function(t,e){return this.refreshSelectedClass(t),this.setSelected(t,e),this},e.prototype.setName=function(t){return this.getInputElement().name=t,this},e.prototype.isSelected=function(){return this.selected},e.prototype.setSelected=function(t,e){this.isSelected()!==t&&(this.previousValue=this.isSelected(),t=this.selected="boolean"==typeof t?t:void 0,this.eInput.checked=t,this.eInput.indeterminate=void 0===t,e||this.dispatchChange(this.selected,this.previousValue))},e.prototype.dispatchChange=function(t,i,o){this.dispatchEvent({type:e.EVENT_CHANGED,selected:t,previousValue:i,event:o});var n=this.getInputElement(),r={type:zt.EVENT_CHECKBOX_CHANGED,id:n.id,name:n.name,selected:t,previousValue:i};this.eventService.dispatchEvent(r)},e.prototype.onCheckboxClick=function(t){if(!this.passive&&!this.eInput.disabled){var e=this.isSelected(),i=this.selected=t.target.checked;this.refreshSelectedClass(i),this.dispatchChange(i,e,t)}},e.prototype.refreshSelectedClass=function(t){this.eWrapper.classList.toggle("ag-checked",!0===t),this.eWrapper.classList.toggle("ag-indeterminate",null==t)},e}(Qn),ir=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),or=function(t){function e(e){return t.call(this,e,"ag-radio-button","radio")||this}return ir(e,t),e.prototype.isSelected=function(){return this.eInput.checked},e.prototype.toggle=function(){this.eInput.disabled||this.isSelected()||this.setValue(!0)},e.prototype.addInputListeners=function(){t.prototype.addInputListeners.call(this),this.addManagedListener(this.eventService,zt.EVENT_CHECKBOX_CHANGED,this.onChange.bind(this))},e.prototype.onChange=function(t){t.selected&&t.name&&this.eInput.name&&this.eInput.name===t.name&&t.id&&this.eInput.id!==t.id&&this.setValue(!1,!0)},e}(er),nr=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),rr=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,n,r=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return s},sr=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(rr(arguments[e]));return t},ar=function(){function t(t,e){this.localeService=t,this.optionsFactory=e}return t.prototype.getModelAsString=function(t){var e=this;if(!t)return null;var i=null!=t.operator,o=this.localeService.getLocaleTextFunc();if(i){var n=t,r=n.conditions;if(!r)r=[n.condition1,n.condition2];var s=r.map((function(t){return e.getModelAsString(t)})),a="AND"===n.operator?"andCondition":"orCondition";return s.join(" "+o(a,wn[a])+" ")}if(t.type===lr.BLANK||t.type===lr.NOT_BLANK)return o(t.type,t.type);var l=t,c=this.optionsFactory.getCustomOption(l.type),u=c||{},h=u.displayKey,d=u.displayName,p=u.numberOfInputs;return h&&d&&0===p?(o(h,d),d):this.conditionToString(l,c)},t}(),lr=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.eTypes=[],e.eJoinOperatorPanels=[],e.eJoinOperatorsAnd=[],e.eJoinOperatorsOr=[],e.eConditionBodies=[],e.listener=function(){return e.onUiChanged()},e.lastUiCompletePosition=null,e.joinOperatorId=0,e}return nr(e,t),e.prototype.getNumberOfInputs=function(t){var i=this.optionsFactory.getCustomOption(t);if(i){var o=i.numberOfInputs;return null!=o?o:1}var n=[e.EMPTY,e.NOT_BLANK,e.BLANK];return t&&n.indexOf(t)>=0?0:t===e.IN_RANGE?2:1},e.prototype.onFloatingFilterChanged=function(t,e){this.setTypeFromFloatingFilter(t),this.setValueFromFloatingFilter(e),this.onUiChanged(!0)},e.prototype.setTypeFromFloatingFilter=function(t){var e=this;this.eTypes.forEach((function(i,o){0===o?i.setValue(t,!0):i.setValue(e.optionsFactory.getDefaultOption(),!0)}))},e.prototype.getModelFromUi=function(){var t=this.getUiCompleteConditions();return 0===t.length?null:this.maxNumConditions>1&&t.length>1?{filterType:this.getFilterType(),operator:this.getJoinOperator(),condition1:t[0],condition2:t[1],conditions:t}:t[0]},e.prototype.getConditionTypes=function(){return this.eTypes.map((function(t){return t.getValue()}))},e.prototype.getConditionType=function(t){return this.eTypes[t].getValue()},e.prototype.getJoinOperator=function(){return 0===this.eJoinOperatorsOr.length?this.defaultJoinOperator:!0===this.eJoinOperatorsOr[0].getValue()?"OR":"AND"},e.prototype.areModelsEqual=function(t,e){var i=this;if(!t&&!e)return!0;if(!t&&e||t&&!e)return!1;var o,n=!t.operator,r=!e.operator;if(!n&&r||n&&!r)return!1;if(n){var s=t,a=e;o=this.areSimpleModelsEqual(s,a)}else{var l=t,c=e;o=l.operator===c.operator&&gt(l.conditions,c.conditions,(function(t,e){return i.areSimpleModelsEqual(t,e)}))}return o},e.prototype.setModelIntoUi=function(t){var e=this;if(t.operator){var i=t;i.conditions||(i.conditions=[i.condition1,i.condition2]);var o=this.validateAndUpdateConditions(i.conditions),n=this.getNumConditions();if(o<n)this.removeConditionsAndOperators(o);else if(o>n)for(var r=n;r<o;r++)this.createJoinOperatorPanel(),this.createOption();var s="OR"===i.operator;this.eJoinOperatorsAnd.forEach((function(t){return t.setValue(!s,!0)})),this.eJoinOperatorsOr.forEach((function(t){return t.setValue(s,!0)})),i.conditions.forEach((function(t,i){e.eTypes[i].setValue(t.type,!0),e.setConditionIntoUi(t,i)}))}else{var a=t;this.getNumConditions()>1&&this.removeConditionsAndOperators(1),this.eTypes[0].setValue(a.type,!0),this.setConditionIntoUi(a,0)}return this.lastUiCompletePosition=this.getNumConditions()-1,this.createMissingConditionsAndOperators(),this.onUiChanged(),sn.resolve()},e.prototype.validateAndUpdateConditions=function(t){var e=t.length;return e>this.maxNumConditions&&(t.splice(this.maxNumConditions),P((function(){return console.warn('AG Grid: Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.')}),"simpleFilterSetModelMaxNumConditions"),e=this.maxNumConditions),e},e.prototype.doesFilterPass=function(t){var e,i=this,o=this.getModel();if(null==o)return!0;var n=o.operator,r=[];if(n){var s=o;r.push.apply(r,sr(null!==(e=s.conditions)&&void 0!==e?e:[]))}else r.push(o);return r[n&&"OR"===n?"some":"every"]((function(e){return i.individualConditionPasses(t,e)}))},e.prototype.setParams=function(e){t.prototype.setParams.call(this,e),this.setNumConditions(e),this.defaultJoinOperator=this.getDefaultJoinOperator(e.defaultJoinOperator),this.filterPlaceholder=e.filterPlaceholder,this.optionsFactory=new Sn,this.optionsFactory.init(e,this.getDefaultFilterOptions()),this.createOption(),this.createMissingConditionsAndOperators()},e.prototype.setNumConditions=function(t){var e,i;null!=t.suppressAndOrCondition&&P((function(){return console.warn('AG Grid: Since v29.2 "filterParams.suppressAndOrCondition" is deprecated. Use "filterParams.maxNumConditions = 1" instead.')}),"simpleFilterSuppressAndOrCondition"),null!=t.alwaysShowBothConditions&&P((function(){return console.warn('AG Grid: Since v29.2 "filterParams.alwaysShowBothConditions" is deprecated. Use "filterParams.numAlwaysVisibleConditions = 2" instead.')}),"simpleFilterAlwaysShowBothConditions"),this.maxNumConditions=null!==(e=t.maxNumConditions)&&void 0!==e?e:t.suppressAndOrCondition?1:2,this.maxNumConditions<1&&(P((function(){return console.warn('AG Grid: "filterParams.maxNumConditions" must be greater than or equal to zero.')}),"simpleFilterMaxNumConditions"),this.maxNumConditions=1),this.numAlwaysVisibleConditions=null!==(i=t.numAlwaysVisibleConditions)&&void 0!==i?i:t.alwaysShowBothConditions?2:1,this.numAlwaysVisibleConditions<1&&(P((function(){return console.warn('AG Grid: "filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.')}),"simpleFilterNumAlwaysVisibleConditions"),this.numAlwaysVisibleConditions=1),this.numAlwaysVisibleConditions>this.maxNumConditions&&(P((function(){return console.warn('AG Grid: "filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".')}),"simpleFilterNumAlwaysVisibleGreaterThanMaxNumConditions"),this.numAlwaysVisibleConditions=this.maxNumConditions)},e.prototype.createOption=function(){var t=this,e=this.createManagedBean(new Zn);this.eTypes.push(e),e.addCssClass("ag-filter-select"),this.eFilterBody.appendChild(e.getGui());var i=this.createValueElement();this.eConditionBodies.push(i),this.eFilterBody.appendChild(i),this.putOptionsIntoDropdown(e),this.resetType(e);var o=this.getNumConditions()-1;this.forEachPositionInput(o,(function(e){return t.resetInput(e)})),this.addChangedListeners(e,o)},e.prototype.createJoinOperatorPanel=function(){var t=document.createElement("div");this.eJoinOperatorPanels.push(t),t.classList.add("ag-filter-condition");var e=this.createJoinOperator(this.eJoinOperatorsAnd,t,"and"),i=this.createJoinOperator(this.eJoinOperatorsOr,t,"or");this.eFilterBody.appendChild(t);var o=this.eJoinOperatorPanels.length-1,n=this.joinOperatorId++;this.resetJoinOperatorAnd(e,o,n),this.resetJoinOperatorOr(i,o,n),this.isReadOnly()||(e.onValueChange(this.listener),i.onValueChange(this.listener))},e.prototype.createJoinOperator=function(t,e,i){var o=this.createManagedBean(new or);return t.push(o),o.addCssClass("ag-filter-condition-operator"),o.addCssClass("ag-filter-condition-operator-"+i),e.appendChild(o.getGui()),o},e.prototype.getDefaultJoinOperator=function(t){return"AND"===t||"OR"===t?t:"AND"},e.prototype.putOptionsIntoDropdown=function(t){var e=this,i=this.optionsFactory.getFilterOptions();i.forEach((function(i){var o="string"==typeof i?e.createBoilerplateListOption(i):e.createCustomListOption(i);t.addOption(o)})),t.setDisabled(i.length<=1)},e.prototype.createBoilerplateListOption=function(t){return{value:t,text:this.translate(t)}},e.prototype.createCustomListOption=function(t){var e=t.displayKey,i=this.optionsFactory.getCustomOption(t.displayKey);return{value:e,text:i?this.localeService.getLocaleTextFunc()(i.displayKey,i.displayName):this.translate(e)}},e.prototype.isAllowTwoConditions=function(){return this.maxNumConditions>=2},e.prototype.createBodyTemplate=function(){return""},e.prototype.getCssIdentifier=function(){return"simple-filter"},e.prototype.updateUiVisibility=function(){var t=this.getJoinOperator();this.updateNumConditions(),this.updateConditionStatusesAndValues(this.lastUiCompletePosition,t)},e.prototype.updateNumConditions=function(){for(var t,e=-1,i=!0,o=0;o<this.getNumConditions();o++)this.isConditionUiComplete(o)?e=o:i=!1;if(this.shouldAddNewConditionAtEnd(i))this.createJoinOperatorPanel(),this.createOption();else{var n=null!==(t=this.lastUiCompletePosition)&&void 0!==t?t:this.getNumConditions()-2;if(e<n){this.removeConditionsAndOperators(n+1);var r=e+1,s=n-r;s>0&&this.removeConditionsAndOperators(r,s),this.createMissingConditionsAndOperators()}}this.lastUiCompletePosition=e},e.prototype.updateConditionStatusesAndValues=function(t,e){var i=this;this.eTypes.forEach((function(e,o){var n=i.isConditionDisabled(o,t);(1===o?[e,i.eJoinOperatorPanels[0],i.eJoinOperatorsAnd[0],i.eJoinOperatorsOr[0]]:[e]).forEach((function(t){t instanceof Qn||t instanceof Zn?t.setDisabled(n):ro(t,n)}))})),this.eConditionBodies.forEach((function(t,e){oo(t,i.isConditionBodyVisible(e))}));var o="OR"===(null!=e?e:this.getJoinOperator());this.eJoinOperatorsAnd.forEach((function(t,e){t.setValue(!o,!0)})),this.eJoinOperatorsOr.forEach((function(t,e){t.setValue(o,!0)})),this.forEachInput((function(e,o,n,r){i.setElementDisplayed(e,o<r),i.setElementDisabled(e,i.isConditionDisabled(n,t))})),this.resetPlaceholder()},e.prototype.shouldAddNewConditionAtEnd=function(t){return t&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly()},e.prototype.removeConditionsAndOperators=function(t,e){if(!(t>=this.getNumConditions())){this.removeComponents(this.eTypes,t,e),this.removeElements(this.eConditionBodies,t,e),this.removeValueElements(t,e);var i=Math.max(t-1,0);this.removeElements(this.eJoinOperatorPanels,i,e),this.removeComponents(this.eJoinOperatorsAnd,i,e),this.removeComponents(this.eJoinOperatorsOr,i,e)}},e.prototype.removeElements=function(t,e,i){this.removeItems(t,e,i).forEach((function(t){return yo(t)}))},e.prototype.removeComponents=function(t,e,i){var o=this;this.removeItems(t,e,i).forEach((function(t){yo(t.getGui()),o.destroyBean(t)}))},e.prototype.removeItems=function(t,e,i){return null==i?t.splice(e):t.splice(e,i)},e.prototype.afterGuiAttached=function(e){if(t.prototype.afterGuiAttached.call(this,e),this.resetPlaceholder(),!e||!e.suppressFocus&&!this.isReadOnly()){var i=this.getInputs(0)[0];if(!i)return;i instanceof Qn&&i.getInputElement().focus()}},e.prototype.afterGuiDetached=function(){t.prototype.afterGuiDetached.call(this);var e=this.getModel();this.areModelsEqual(e,this.getModelFromUi())||this.resetUiToActiveModel(e);for(var i=-1,o=-1,n=!1,r=this.getJoinOperator(),s=this.getNumConditions()-1;s>=0;s--)if(this.isConditionUiComplete(s))-1===i&&(i=s,o=s);else{var a=s<i;(s>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(s-1)||a)&&(this.removeConditionsAndOperators(s,1),n=!0,a&&o--)}var l=!1;this.getNumConditions()<this.numAlwaysVisibleConditions&&(this.createMissingConditionsAndOperators(),l=!0),this.shouldAddNewConditionAtEnd(o===this.getNumConditions()-1)&&(this.createJoinOperatorPanel(),this.createOption(),l=!0),l&&this.updateConditionStatusesAndValues(o,r),n&&this.updateJoinOperatorsDisabled(),this.lastUiCompletePosition=o},e.prototype.getPlaceholderText=function(t,e){var i=this.translate(t);if(M(this.filterPlaceholder)){var o=this.filterPlaceholder,n=this.eTypes[e].getValue();i=o({filterOptionKey:n,filterOption:this.translate(n),placeholder:i})}else"string"==typeof this.filterPlaceholder&&(i=this.filterPlaceholder);return i},e.prototype.resetPlaceholder=function(){var t=this,e=this.localeService.getLocaleTextFunc();this.forEachInput((function(i,o,n,r){if(i instanceof Qn){var s=0===o&&r>1?"inRangeStart":0===o?"filterOoo":"inRangeEnd",a=0===o&&r>1?e("ariaFilterFromValue","Filter from value"):0===o?e("ariaFilterValue","Filter Value"):e("ariaFilterToValue","Filter to Value");i.setInputPlaceholder(t.getPlaceholderText(s,n)),i.setInputAriaLabel(a)}}))},e.prototype.setElementValue=function(t,e){t instanceof Qn&&t.setValue(null!=e?String(e):null,!0)},e.prototype.setElementDisplayed=function(t,e){t instanceof gn&&oo(t.getGui(),e)},e.prototype.setElementDisabled=function(t,e){t instanceof gn&&ro(t.getGui(),e)},e.prototype.attachElementOnChange=function(t,e){t instanceof Qn&&t.onValueChange(e)},e.prototype.forEachInput=function(t){var e=this;this.getConditionTypes().forEach((function(i,o){e.forEachPositionTypeInput(o,i,t)}))},e.prototype.forEachPositionInput=function(t,e){var i=this.getConditionType(t);this.forEachPositionTypeInput(t,i,e)},e.prototype.forEachPositionTypeInput=function(t,e,i){for(var o=this.getNumberOfInputs(e),n=this.getInputs(t),r=0;r<n.length;r++){var s=n[r];null!=s&&i(s,r,t,o)}},e.prototype.isConditionDisabled=function(t,e){return!!this.isReadOnly()||0!==t&&t>e+1},e.prototype.isConditionBodyVisible=function(t){var e=this.getConditionType(t);return this.getNumberOfInputs(e)>0},e.prototype.isConditionUiComplete=function(t){return!(t>=this.getNumConditions())&&(this.getConditionType(t)!==e.EMPTY&&!this.getValues(t).some((function(t){return null==t})))},e.prototype.getNumConditions=function(){return this.eTypes.length},e.prototype.getUiCompleteConditions=function(){for(var t=[],e=0;e<this.getNumConditions();e++)this.isConditionUiComplete(e)&&t.push(this.createCondition(e));return t},e.prototype.createMissingConditionsAndOperators=function(){if(!this.isReadOnly())for(var t=this.getNumConditions();t<this.numAlwaysVisibleConditions;t++)this.createJoinOperatorPanel(),this.createOption()},e.prototype.resetUiToDefaults=function(t){var e=this;return this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions),this.eTypes.forEach((function(t){return e.resetType(t)})),this.eJoinOperatorsAnd.forEach((function(t,i){return e.resetJoinOperatorAnd(t,i,e.joinOperatorId+i)})),this.eJoinOperatorsOr.forEach((function(t,i){return e.resetJoinOperatorOr(t,i,e.joinOperatorId+i)})),this.joinOperatorId++,this.forEachInput((function(t){return e.resetInput(t)})),this.resetPlaceholder(),this.createMissingConditionsAndOperators(),this.lastUiCompletePosition=null,t||this.onUiChanged(),sn.resolve()},e.prototype.resetType=function(t){var e=this.localeService.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator");t.setValue(this.optionsFactory.getDefaultOption(),!0).setAriaLabel(e).setDisabled(this.isReadOnly())},e.prototype.resetJoinOperatorAnd=function(t,e,i){this.resetJoinOperator(t,e,this.isDefaultOperator("AND"),this.translate("andCondition"),i)},e.prototype.resetJoinOperatorOr=function(t,e,i){this.resetJoinOperator(t,e,this.isDefaultOperator("OR"),this.translate("orCondition"),i)},e.prototype.resetJoinOperator=function(t,e,i,o,n){this.updateJoinOperatorDisabled(t.setValue(i,!0).setName("ag-simple-filter-and-or-"+this.getCompId()+"-"+n).setLabel(o),e)},e.prototype.updateJoinOperatorsDisabled=function(){var t=this;this.eJoinOperatorsAnd.forEach((function(e,i){return t.updateJoinOperatorDisabled(e,i)})),this.eJoinOperatorsOr.forEach((function(e,i){return t.updateJoinOperatorDisabled(e,i)}))},e.prototype.updateJoinOperatorDisabled=function(t,e){t.setDisabled(this.isReadOnly()||e>0)},e.prototype.resetInput=function(t){this.setElementValue(t,null),this.setElementDisabled(t,this.isReadOnly())},e.prototype.setConditionIntoUi=function(t,e){var i=this,o=this.mapValuesFromModel(t);this.forEachInput((function(t,n,r,s){r===e&&i.setElementValue(t,null!=o[n]?o[n]:null)}))},e.prototype.setValueFromFloatingFilter=function(t){var e=this;this.forEachInput((function(i,o,n,r){e.setElementValue(i,0===o&&0===n?t:null)}))},e.prototype.isDefaultOperator=function(t){return t===this.defaultJoinOperator},e.prototype.addChangedListeners=function(t,e){var i=this;this.isReadOnly()||(t.onValueChange(this.listener),this.forEachPositionInput(e,(function(t){i.attachElementOnChange(t,i.listener)})))},e.prototype.individualConditionPasses=function(t,e){var i=this.getCellValue(t.node),o=this.mapValuesFromModel(e),n=this.optionsFactory.getCustomOption(e.type),r=this.evaluateCustomFilter(n,o,i);return null!=r?r:null==i?this.evaluateNullValue(e.type):this.evaluateNonNullValue(o,i,e,t)},e.prototype.evaluateCustomFilter=function(t,e,i){if(null!=t){var o=t.predicate;return null==o||e.some((function(t){return null==t}))?void 0:o(e,i)}},e.prototype.isBlank=function(t){return null==t||"string"==typeof t&&0===t.trim().length},e.EMPTY="empty",e.BLANK="blank",e.NOT_BLANK="notBlank",e.EQUALS="equals",e.NOT_EQUAL="notEqual",e.LESS_THAN="lessThan",e.LESS_THAN_OR_EQUAL="lessThanOrEqual",e.GREATER_THAN="greaterThan",e.GREATER_THAN_OR_EQUAL="greaterThanOrEqual",e.IN_RANGE="inRange",e.CONTAINS="contains",e.NOT_CONTAINS="notContains",e.STARTS_WITH="startsWith",e.ENDS_WITH="endsWith",e}(kn),cr=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),ur=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return cr(e,t),e.prototype.setParams=function(e){t.prototype.setParams.call(this,e),this.scalarFilterParams=e},e.prototype.evaluateNullValue=function(t){switch(t){case e.EQUALS:case e.NOT_EQUAL:if(this.scalarFilterParams.includeBlanksInEquals)return!0;break;case e.GREATER_THAN:case e.GREATER_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInGreaterThan)return!0;break;case e.LESS_THAN:case e.LESS_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInLessThan)return!0;break;case e.IN_RANGE:if(this.scalarFilterParams.includeBlanksInRange)return!0;break;case e.BLANK:return!0;case e.NOT_BLANK:return!1}return!1},e.prototype.evaluateNonNullValue=function(t,i,o){var n=this.comparator(),r=null!=t[0]?n(t[0],i):0;switch(o.type){case e.EQUALS:return 0===r;case e.NOT_EQUAL:return 0!==r;case e.GREATER_THAN:return r>0;case e.GREATER_THAN_OR_EQUAL:return r>=0;case e.LESS_THAN:return r<0;case e.LESS_THAN_OR_EQUAL:return r<=0;case e.IN_RANGE:var s=n(t[1],i);return this.scalarFilterParams.inRangeInclusive?r>=0&&s<=0:r>0&&s<0;case e.BLANK:return this.isBlank(i);case e.NOT_BLANK:return!this.isBlank(i);default:return console.warn('AG Grid: Unexpected type of filter "'+o.type+'", it looks like the filter was configured with incorrect Filter Options'),!0}},e}(lr),hr=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),dr=function(){return dr=Object.assign||function(t){for(var e,i=1,o=arguments.length;i<o;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},dr.apply(this,arguments)},pr=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},fr=1/0,gr=function(t){function e(e,i,o){var n=t.call(this,i,o)||this;return n.dateFilterParams=e,n}return hr(e,t),e.prototype.conditionToString=function(t,e){var i=t.type,o=(e||{}).numberOfInputs,n=i==lr.IN_RANGE||2===o,r=Xi(t.dateFrom),s=Xi(t.dateTo),a=this.dateFilterParams.inRangeFloatingFilterDateFormat;return n?(null!==r?Yi(r,a):"null")+"-"+(null!==s?Yi(s,a):"null"):null!=r?Yi(r,a):""+i},e}(ar),mr=function(t){function e(){var e=t.call(this,"dateFilter")||this;return e.eConditionPanelsFrom=[],e.eConditionPanelsTo=[],e.dateConditionFromComps=[],e.dateConditionToComps=[],e.minValidYear=1e3,e.maxValidYear=fr,e}return hr(e,t),e.prototype.afterGuiAttached=function(e){t.prototype.afterGuiAttached.call(this,e),this.dateConditionFromComps[0].afterGuiAttached(e)},e.prototype.mapValuesFromModel=function(t){var e=t||{},i=e.dateFrom,o=e.dateTo,n=e.type;return[i&&Xi(i)||null,o&&Xi(o)||null].slice(0,this.getNumberOfInputs(n))},e.prototype.comparator=function(){return this.dateFilterParams.comparator?this.dateFilterParams.comparator:this.defaultComparator.bind(this)},e.prototype.defaultComparator=function(t,e){return null==e||e<t?-1:e>t?1:0},e.prototype.setParams=function(e){this.dateFilterParams=e,t.prototype.setParams.call(this,e);var i=function(t,i){if(null!=e[t]){if(!isNaN(e[t]))return null==e[t]?i:Number(e[t]);console.warn("AG Grid: DateFilter "+t+" is not a number")}return i};this.minValidYear=i("minValidYear",1e3),this.maxValidYear=i("maxValidYear",fr),this.minValidYear>this.maxValidYear&&console.warn("AG Grid: DateFilter minValidYear should be <= maxValidYear"),this.filterModelFormatter=new gr(this.dateFilterParams,this.localeService,this.optionsFactory)},e.prototype.createDateCompWrapper=function(t){var e=this,i=new bn(this.getContext(),this.userComponentFactory,{onDateChanged:function(){return e.onUiChanged()},filterParams:this.dateFilterParams},t);return this.addDestroyFunc((function(){return i.destroy()})),i},e.prototype.setElementValue=function(t,e){t.setDate(e)},e.prototype.setElementDisplayed=function(t,e){t.setDisplayed(e)},e.prototype.setElementDisabled=function(t,e){t.setDisabled(e)},e.prototype.getDefaultFilterOptions=function(){return e.DEFAULT_FILTER_OPTIONS},e.prototype.createValueElement=function(){var t=document.createElement("div");return t.classList.add("ag-filter-body"),this.createFromToElement(t,this.eConditionPanelsFrom,this.dateConditionFromComps,"from"),this.createFromToElement(t,this.eConditionPanelsTo,this.dateConditionToComps,"to"),t},e.prototype.createFromToElement=function(t,e,i,o){var n=document.createElement("div");n.classList.add("ag-filter-"+o),n.classList.add("ag-filter-date-"+o),e.push(n),t.appendChild(n),i.push(this.createDateCompWrapper(n))},e.prototype.removeValueElements=function(t,e){this.removeDateComps(this.dateConditionFromComps,t,e),this.removeDateComps(this.dateConditionToComps,t,e),this.removeItems(this.eConditionPanelsFrom,t,e),this.removeItems(this.eConditionPanelsTo,t,e)},e.prototype.removeDateComps=function(t,e,i){this.removeItems(t,e,i).forEach((function(t){return t.destroy()}))},e.prototype.isConditionUiComplete=function(e){var i=this;if(!t.prototype.isConditionUiComplete.call(this,e))return!1;var o=!0;return this.forEachInput((function(t,n,r,s){var a;r!==e||!o||n>=s||(o=o&&(null!=(a=t.getDate())&&a.getUTCFullYear()>=i.minValidYear&&a.getUTCFullYear()<=i.maxValidYear))})),o},e.prototype.areSimpleModelsEqual=function(t,e){return t.dateFrom===e.dateFrom&&t.dateTo===e.dateTo&&t.type===e.type},e.prototype.getFilterType=function(){return"date"},e.prototype.createCondition=function(t){var e=this.getConditionType(t),i={},o=this.getValues(t);return o.length>0&&(i.dateFrom=zi(o[0])),o.length>1&&(i.dateTo=zi(o[1])),dr({dateFrom:null,dateTo:null,filterType:this.getFilterType(),type:e},i)},e.prototype.resetPlaceholder=function(){var t=this.localeService.getLocaleTextFunc(),e=this.translate("dateFormatOoo"),i=t("ariaFilterValue","Filter Value");this.forEachInput((function(t){t.setInputPlaceholder(e),t.setInputAriaLabel(i)}))},e.prototype.getInputs=function(t){return t>=this.dateConditionFromComps.length?[null,null]:[this.dateConditionFromComps[t],this.dateConditionToComps[t]]},e.prototype.getValues=function(t){var e=[];return this.forEachPositionInput(t,(function(t,i,o,n){i<n&&e.push(t.getDate())})),e},e.prototype.getModelAsString=function(t){var e;return null!==(e=this.filterModelFormatter.getModelAsString(t))&&void 0!==e?e:""},e.DEFAULT_FILTER_OPTIONS=[ur.EQUALS,ur.GREATER_THAN,ur.LESS_THAN,ur.NOT_EQUAL,ur.IN_RANGE,ur.BLANK,ur.NOT_BLANK],pr([K("userComponentFactory")],e.prototype,"userComponentFactory",void 0),e}(ur),yr=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),vr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return yr(e,t),e.prototype.getDefaultDebounceMs=function(){return 0},e.prototype.destroy=function(){t.prototype.destroy.call(this)},e.prototype.isEventFromFloatingFilter=function(t){return t&&t.afterFloatingFilter},e.prototype.isEventFromDataChange=function(t){return null==t?void 0:t.afterDataChange},e.prototype.getLastType=function(){return this.lastType},e.prototype.isReadOnly=function(){return this.readOnly},e.prototype.setLastTypeFromModel=function(t){if(t){var e;if(t.operator)e=t.conditions[0];else e=t;this.lastType=e.type}else this.lastType=this.optionsFactory.getDefaultOption()},e.prototype.canWeEditAfterModelFromParentFilter=function(t){if(!t)return this.isTypeEditable(this.lastType);if(t.operator)return!1;var e=t;return this.isTypeEditable(e.type)},e.prototype.init=function(t){this.optionsFactory=new Sn,this.optionsFactory.init(t.filterParams,this.getDefaultFilterOptions()),this.lastType=this.optionsFactory.getDefaultOption(),this.readOnly=!!t.filterParams.readOnly;var e=this.isTypeEditable(this.lastType);this.setEditable(e)},e.prototype.doesFilterHaveSingleInput=function(t){var e=(this.optionsFactory.getCustomOption(t)||{}).numberOfInputs;return null==e||1==e},e.prototype.isTypeEditable=function(t){var e=[lr.IN_RANGE,lr.EMPTY,lr.BLANK,lr.NOT_BLANK];return!!t&&!this.isReadOnly()&&this.doesFilterHaveSingleInput(t)&&e.indexOf(t)<0},e}(gn),_r=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),Cr=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},br=function(t){function e(){return t.call(this,'\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eReadOnlyText"></ag-input-text-field>\n                <div ref="eDateWrapper" style="display: flex;"></div>\n            </div>')||this}return _r(e,t),e.prototype.getDefaultFilterOptions=function(){return mr.DEFAULT_FILTER_OPTIONS},e.prototype.init=function(e){t.prototype.init.call(this,e),this.params=e,this.filterParams=e.filterParams,this.createDateComponent();var i=this.localeService.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(i("ariaDateFilterInput","Date Filter Input")),this.filterModelFormatter=new gr(this.filterParams,this.localeService,this.optionsFactory)},e.prototype.setEditable=function(t){oo(this.eDateWrapper,t),oo(this.eReadOnlyText.getGui(),!t)},e.prototype.onParentModelChanged=function(e,i){if(!this.isEventFromFloatingFilter(i)&&!this.isEventFromDataChange(i)){t.prototype.setLastTypeFromModel.call(this,e);var o=!this.isReadOnly()&&this.canWeEditAfterModelFromParentFilter(e);if(this.setEditable(o),o){if(e){var n=e;this.dateComp.setDate(Xi(n.dateFrom))}else this.dateComp.setDate(null);this.eReadOnlyText.setValue("")}else this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(e)),this.dateComp.setDate(null)}},e.prototype.onDateChanged=function(){var t=this,e=zi(this.dateComp.getDate());this.params.parentFilterInstance((function(i){if(i){var o=Xi(e);i.onFloatingFilterChanged(t.getLastType()||null,o)}}))},e.prototype.createDateComponent=function(){var t=this,e=kn.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),i={onDateChanged:N(this.onDateChanged.bind(this),e),filterParams:this.params.column.getColDef().filterParams};this.dateComp=new bn(this.getContext(),this.userComponentFactory,i,this.eDateWrapper),this.addDestroyFunc((function(){return t.dateComp.destroy()}))},e.prototype.getFilterModelFormatter=function(){return this.filterModelFormatter},Cr([K("userComponentFactory")],e.prototype,"userComponentFactory",void 0),Cr([mn("eReadOnlyText")],e.prototype,"eReadOnlyText",void 0),Cr([mn("eDateWrapper")],e.prototype,"eDateWrapper",void 0),e}(vr),Er=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),Sr=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},wr=function(t){function e(){return t.call(this,'\n            <div class="ag-filter-filter">\n                <ag-input-text-field class="ag-date-filter" ref="eDateInput"></ag-input-text-field>\n            </div>')||this}return Er(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this)},e.prototype.init=function(t){var e=this,i=this.gridOptionsService.getDocument(),o=this.eDateInput.getInputElement(),n=this.shouldUseBrowserDatePicker(t);n&&(o.type="date");var r=n&&xi();this.addManagedListener(o,"mousedown",(function(){e.eDateInput.isDisabled()||r||o.focus()})),this.addManagedListener(o,"input",(function(o){o.target===i.activeElement&&(e.eDateInput.isDisabled()||t.onDateChanged())}));var s=t.filterParams||{},a=s.minValidYear,l=s.maxValidYear;a&&(o.min=a+"-01-01"),l&&(o.max=l+"-12-31")},e.prototype.getDate=function(){return Xi(this.eDateInput.getValue())},e.prototype.setDate=function(t){this.eDateInput.setValue(zi(t,!1))},e.prototype.setInputPlaceholder=function(t){this.eDateInput.setInputPlaceholder(t)},e.prototype.setDisabled=function(t){this.eDateInput.setDisabled(t)},e.prototype.afterGuiAttached=function(t){t&&t.suppressFocus||this.eDateInput.getInputElement().focus()},e.prototype.shouldUseBrowserDatePicker=function(t){return t.filterParams&&null!=t.filterParams.browserDatePicker?t.filterParams.browserDatePicker:Ti()||Mi()||xi()&&Pi()>=14.1},Sr([mn("eDateInput")],e.prototype,"eDateInput",void 0),e}(gn),Or=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),xr=function(t){function e(e,i,o){return void 0===i&&(i="ag-text-field"),void 0===o&&(o="text"),t.call(this,e,i,o)||this}return Or(e,t),e.prototype.postConstruct=function(){t.prototype.postConstruct.call(this),this.config.allowedCharPattern&&this.preventDisallowedCharacters()},e.prototype.setValue=function(e,i){var o=t.prototype.setValue.call(this,e,i);return this.eInput.value!==e&&(this.eInput.value=n(e)?e:""),o},e.prototype.preventDisallowedCharacters=function(){var t=new RegExp("["+this.config.allowedCharPattern+"]");this.addManagedListener(this.eInput,"keypress",(function(e){e.ctrlKey||e.metaKey||e.key&&!t.test(e.key)&&e.preventDefault()})),this.addManagedListener(this.eInput,"paste",(function(e){var i,o=null===(i=e.clipboardData)||void 0===i?void 0:i.getData("text");o&&o.split("").some((function(e){return!t.test(e)}))&&e.preventDefault()}))},e}(Qn),Pr=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),Tr=function(t){function e(e){return t.call(this,e,"ag-number-field","number")||this}return Pr(e,t),e.prototype.postConstruct=function(){var e=this;t.prototype.postConstruct.call(this),this.addManagedListener(this.eInput,"blur",(function(){var t=parseFloat(e.eInput.value),i=isNaN(t)?"":e.normalizeValue(t.toString());e.value!==i&&e.setValue(i)})),this.addManagedListener(this.eInput,"wheel",this.onWheel.bind(this)),this.eInput.step="any"},e.prototype.onWheel=function(t){document.activeElement===this.eInput&&t.preventDefault()},e.prototype.normalizeValue=function(t){if(""===t)return"";this.precision&&(t=this.adjustPrecision(t));var e=parseFloat(t);return null!=this.min&&e<this.min?t=this.min.toString():null!=this.max&&e>this.max&&(t=this.max.toString()),t},e.prototype.adjustPrecision=function(t){if(this.precision){var e=parseFloat(t).toFixed(this.precision);t=parseFloat(e).toString()}return t},e.prototype.setMin=function(t){return this.min===t||(this.min=t,No(this.eInput,"min",t)),this},e.prototype.setMax=function(t){return this.max===t||(this.max=t,No(this.eInput,"max",t)),this},e.prototype.setPrecision=function(t){return this.precision=t,this},e.prototype.setStep=function(t){return this.step===t||(this.step=t,No(this.eInput,"step",t)),this},e.prototype.setValue=function(e,i){if(null!=e&&(e=this.adjustPrecision(e))!=this.normalizeValue(e))return this;return t.prototype.setValue.call(this,e,i)},e}(xr),Mr=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),Dr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Mr(e,t),e.prototype.conditionToString=function(t,e){var i=(e||{}).numberOfInputs;return t.type==lr.IN_RANGE||2===i?t.filter+"-"+t.filterTo:null!=t.filter?""+t.filter:""+t.type},e}(ar);function Ar(t){var e=(null!=t?t:{}).allowedCharPattern;return e||(Ti()?null:"\\d\\-\\.")}var Rr,Lr,Ir,Nr=function(t){function e(){var e=t.call(this,"numberFilter")||this;return e.eValuesFrom=[],e.eValuesTo=[],e}return Mr(e,t),e.prototype.mapValuesFromModel=function(t){var e=t||{},i=e.filter,o=e.filterTo,n=e.type;return[this.processValue(i),this.processValue(o)].slice(0,this.getNumberOfInputs(n))},e.prototype.getDefaultDebounceMs=function(){return 500},e.prototype.comparator=function(){return function(t,e){return t===e?0:t<e?1:-1}},e.prototype.setParams=function(e){this.numberFilterParams=e,t.prototype.setParams.call(this,e),this.filterModelFormatter=new Dr(this.localeService,this.optionsFactory)},e.prototype.getDefaultFilterOptions=function(){return e.DEFAULT_FILTER_OPTIONS},e.prototype.createValueElement=function(){var t=Ar(this.numberFilterParams),e=document.createElement("div");return e.classList.add("ag-filter-body"),ze(e,"presentation"),this.createFromToElement(e,this.eValuesFrom,"from",t),this.createFromToElement(e,this.eValuesTo,"to",t),e},e.prototype.createFromToElement=function(t,e,i,o){var n=this.createManagedBean(o?new xr({allowedCharPattern:o}):new Tr);n.addCssClass("ag-filter-"+i),n.addCssClass("ag-filter-filter"),e.push(n),t.appendChild(n.getGui())},e.prototype.removeValueElements=function(t,e){this.removeComponents(this.eValuesFrom,t,e),this.removeComponents(this.eValuesTo,t,e)},e.prototype.getValues=function(t){var e=this,i=[];return this.forEachPositionInput(t,(function(t,o,n,r){o<r&&i.push(e.processValue(e.stringToFloat(t.getValue())))})),i},e.prototype.areSimpleModelsEqual=function(t,e){return t.filter===e.filter&&t.filterTo===e.filterTo&&t.type===e.type},e.prototype.getFilterType=function(){return"number"},e.prototype.processValue=function(t){return null==t||isNaN(t)?null:t},e.prototype.stringToFloat=function(t){if("number"==typeof t)return t;var e=o(t);return null!=e&&""===e.trim()&&(e=null),this.numberFilterParams.numberParser?this.numberFilterParams.numberParser(e):null==e||"-"===e.trim()?null:parseFloat(e)},e.prototype.createCondition=function(t){var e=this.getConditionType(t),i={filterType:this.getFilterType(),type:e},o=this.getValues(t);return o.length>0&&(i.filter=o[0]),o.length>1&&(i.filterTo=o[1]),i},e.prototype.getInputs=function(t){return t>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[t],this.eValuesTo[t]]},e.prototype.getModelAsString=function(t){var e;return null!==(e=this.filterModelFormatter.getModelAsString(t))&&void 0!==e?e:""},e.DEFAULT_FILTER_OPTIONS=[ur.EQUALS,ur.NOT_EQUAL,ur.LESS_THAN,ur.LESS_THAN_OR_EQUAL,ur.GREATER_THAN,ur.GREATER_THAN_OR_EQUAL,ur.IN_RANGE,ur.BLANK,ur.NOT_BLANK],e}(ur),kr=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),Fr=function(){return Fr=Object.assign||function(t){for(var e,i=1,o=arguments.length;i<o;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},Fr.apply(this,arguments)},Br=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return kr(e,t),e.prototype.conditionToString=function(t,e){var i=(e||{}).numberOfInputs;return t.type==lr.IN_RANGE||2===i?t.filter+"-"+t.filterTo:null!=t.filter?""+t.filter:""+t.type},e}(ar),Gr=function(t){function e(){var e=t.call(this,"textFilter")||this;return e.eValuesFrom=[],e.eValuesTo=[],e}return kr(e,t),e.trimInput=function(t){var e=t&&t.trim();return""===e?t:e},e.prototype.getDefaultDebounceMs=function(){return 500},e.prototype.setParams=function(i){this.textFilterParams=i,t.prototype.setParams.call(this,i),this.matcher=this.getTextMatcher(),this.formatter=this.textFilterParams.textFormatter||(this.textFilterParams.caseSensitive?e.DEFAULT_FORMATTER:e.DEFAULT_LOWERCASE_FORMATTER),this.filterModelFormatter=new Br(this.localeService,this.optionsFactory)},e.prototype.getTextMatcher=function(){var t=this.textFilterParams.textCustomComparator;return t?(on.doOnce((function(){return console.warn("AG Grid - textCustomComparator is deprecated, use textMatcher instead.")}),"textCustomComparator.deprecated"),function(e){var i=e.filterOption,o=e.value,n=e.filterText;return t(i,o,n)}):this.textFilterParams.textMatcher||e.DEFAULT_MATCHER},e.prototype.createCondition=function(t){var e=this.getConditionType(t),i={filterType:this.getFilterType(),type:e},o=this.getValues(t);return o.length>0&&(i.filter=o[0]),o.length>1&&(i.filterTo=o[1]),i},e.prototype.getFilterType=function(){return"text"},e.prototype.areSimpleModelsEqual=function(t,e){return t.filter===e.filter&&t.filterTo===e.filterTo&&t.type===e.type},e.prototype.getInputs=function(t){return t>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[t],this.eValuesTo[t]]},e.prototype.getValues=function(t){var i=this,n=[];return this.forEachPositionInput(t,(function(t,r,s,a){if(r<a){var l=o(t.getValue()),c=(i.textFilterParams.trimInput?e.trimInput(l):l)||null;n.push(c),t.setValue(c,!0)}})),n},e.prototype.getDefaultFilterOptions=function(){return e.DEFAULT_FILTER_OPTIONS},e.prototype.createValueElement=function(){var t=document.createElement("div");return t.classList.add("ag-filter-body"),ze(t,"presentation"),this.createFromToElement(t,this.eValuesFrom,"from"),this.createFromToElement(t,this.eValuesTo,"to"),t},e.prototype.createFromToElement=function(t,e,i){var o=this.createManagedBean(new xr);o.addCssClass("ag-filter-"+i),o.addCssClass("ag-filter-filter"),e.push(o),t.appendChild(o.getGui())},e.prototype.removeValueElements=function(t,e){this.removeComponents(this.eValuesFrom,t,e),this.removeComponents(this.eValuesTo,t,e)},e.prototype.mapValuesFromModel=function(t){var e=t||{},i=e.filter,o=e.filterTo,n=e.type;return[i||null,o||null].slice(0,this.getNumberOfInputs(n))},e.prototype.evaluateNullValue=function(t){var e=[lr.NOT_EQUAL,lr.NOT_CONTAINS,lr.BLANK];return!!t&&e.indexOf(t)>=0},e.prototype.evaluateNonNullValue=function(t,e,i,o){var n=this,r=t.map((function(t){return n.formatter(t)}))||[],s=this.formatter(e),a=this.textFilterParams,l=a.api,c=a.colDef,u=a.column,h=a.columnApi,d=a.context,p=a.textFormatter;if(i.type===lr.BLANK)return this.isBlank(e);if(i.type===lr.NOT_BLANK)return!this.isBlank(e);var f={api:l,colDef:c,column:u,columnApi:h,context:d,node:o.node,data:o.data,filterOption:i.type,value:s,textFormatter:p};return r.some((function(t){return n.matcher(Fr(Fr({},f),{filterText:t}))}))},e.prototype.getModelAsString=function(t){var e;return null!==(e=this.filterModelFormatter.getModelAsString(t))&&void 0!==e?e:""},e.DEFAULT_FILTER_OPTIONS=[lr.CONTAINS,lr.NOT_CONTAINS,lr.EQUALS,lr.NOT_EQUAL,lr.STARTS_WITH,lr.ENDS_WITH,lr.BLANK,lr.NOT_BLANK],e.DEFAULT_FORMATTER=function(t){return t},e.DEFAULT_LOWERCASE_FORMATTER=function(t){return null==t?null:t.toString().toLowerCase()},e.DEFAULT_MATCHER=function(t){var i=t.filterOption,o=t.value,n=t.filterText;if(null==n)return!1;switch(i){case e.CONTAINS:return o.indexOf(n)>=0;case e.NOT_CONTAINS:return o.indexOf(n)<0;case e.EQUALS:return o===n;case e.NOT_EQUAL:return o!=n;case e.STARTS_WITH:return 0===o.indexOf(n);case e.ENDS_WITH:var r=o.lastIndexOf(n);return r>=0&&r===o.length-n.length;default:return!1}},e}(lr),jr=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),Vr=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},Ur=function(t){function e(e){var i=t.call(this)||this;return i.params=e,i}return jr(e,t),e.prototype.setupGui=function(t){this.eFloatingFilterTextInput=this.createManagedBean(new xr(this.params.config)),this.eFloatingFilterTextInput.setInputAriaLabel(this.params.ariaLabel),t.appendChild(this.eFloatingFilterTextInput.getGui())},e.prototype.setEditable=function(t){this.eFloatingFilterTextInput.setDisabled(!t)},e.prototype.getValue=function(){return this.eFloatingFilterTextInput.getValue()},e.prototype.setValue=function(t,e){this.eFloatingFilterTextInput.setValue(t,e)},e.prototype.addValueChangedListener=function(t){var e=this.eFloatingFilterTextInput.getGui();this.addManagedListener(e,"input",t),this.addManagedListener(e,"keypress",t),this.addManagedListener(e,"keydown",t)},e}(jt),Wr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return jr(e,t),e.prototype.postConstruct=function(){this.setTemplate('\n            <div class="ag-floating-filter-input" role="presentation" ref="eFloatingFilterInputContainer"></div>\n        ')},e.prototype.getDefaultDebounceMs=function(){return 500},e.prototype.onParentModelChanged=function(t,e){this.isEventFromFloatingFilter(e)||this.isEventFromDataChange(e)||(this.setLastTypeFromModel(t),this.setEditable(this.canWeEditAfterModelFromParentFilter(t)),this.floatingFilterInputService.setValue(this.getFilterModelFormatter().getModelAsString(t)))},e.prototype.init=function(e){this.params=e;var i=this.columnModel.getDisplayNameForColumn(e.column,"header",!0)+" "+this.localeService.getLocaleTextFunc()("ariaFilterInput","Filter Input");if(this.floatingFilterInputService=this.createFloatingFilterInputService(i),this.floatingFilterInputService.setupGui(this.eFloatingFilterInputContainer),t.prototype.init.call(this,e),this.applyActive=kn.isUseApplyButton(this.params.filterParams),!this.isReadOnly()){var o=kn.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),n=N(this.syncUpWithParentFilter.bind(this),o);this.floatingFilterInputService.addValueChangedListener(n)}},e.prototype.syncUpWithParentFilter=function(t){var e=this,i=t.key===Uo.ENTER;if(!this.applyActive||i){var o=this.floatingFilterInputService.getValue();this.params.filterParams.trimInput&&(o=Gr.trimInput(o),this.floatingFilterInputService.setValue(o,!0)),this.params.parentFilterInstance((function(t){t&&t.onFloatingFilterChanged(e.getLastType()||null,o||null)}))}},e.prototype.setEditable=function(t){this.floatingFilterInputService.setEditable(t)},Vr([K("columnModel")],e.prototype,"columnModel",void 0),Vr([mn("eFloatingFilterInputContainer")],e.prototype,"eFloatingFilterInputContainer",void 0),Vr([H],e.prototype,"postConstruct",null),e}(vr),Hr=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),$r=function(t){function e(e){var i=t.call(this)||this;return i.params=e,i.numberInputActive=!0,i}return Hr(e,t),e.prototype.setupGui=function(t){this.eFloatingFilterNumberInput=this.createManagedBean(new Tr),this.eFloatingFilterTextInput=this.createManagedBean(new xr),this.eFloatingFilterTextInput.setDisabled(!0),this.eFloatingFilterNumberInput.setInputAriaLabel(this.params.ariaLabel),this.eFloatingFilterTextInput.setInputAriaLabel(this.params.ariaLabel),t.appendChild(this.eFloatingFilterNumberInput.getGui()),t.appendChild(this.eFloatingFilterTextInput.getGui())},e.prototype.setEditable=function(t){this.numberInputActive=t,this.eFloatingFilterNumberInput.setDisplayed(this.numberInputActive),this.eFloatingFilterTextInput.setDisplayed(!this.numberInputActive)},e.prototype.getValue=function(){return this.getActiveInputElement().getValue()},e.prototype.setValue=function(t,e){this.getActiveInputElement().setValue(t,e)},e.prototype.getActiveInputElement=function(){return this.numberInputActive?this.eFloatingFilterNumberInput:this.eFloatingFilterTextInput},e.prototype.addValueChangedListener=function(t){this.setupListeners(this.eFloatingFilterNumberInput.getGui(),t),this.setupListeners(this.eFloatingFilterTextInput.getGui(),t)},e.prototype.setupListeners=function(t,e){this.addManagedListener(t,"input",e),this.addManagedListener(t,"keypress",e),this.addManagedListener(t,"keydown",e)},e}(jt),zr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Hr(e,t),e.prototype.init=function(e){t.prototype.init.call(this,e),this.filterModelFormatter=new Dr(this.localeService,this.optionsFactory)},e.prototype.getDefaultFilterOptions=function(){return Nr.DEFAULT_FILTER_OPTIONS},e.prototype.getFilterModelFormatter=function(){return this.filterModelFormatter},e.prototype.createFloatingFilterInputService=function(t){var e=Ar(this.params.filterParams);return e?this.createManagedBean(new Ur({config:{allowedCharPattern:e},ariaLabel:t})):this.createManagedBean(new $r({ariaLabel:t}))},e}(Wr),Kr=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),Yr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Kr(e,t),e.prototype.init=function(e){t.prototype.init.call(this,e),this.filterModelFormatter=new Br(this.localeService,this.optionsFactory)},e.prototype.getDefaultFilterOptions=function(){return Gr.DEFAULT_FILTER_OPTIONS},e.prototype.getFilterModelFormatter=function(){return this.filterModelFormatter},e.prototype.createFloatingFilterInputService=function(t){return this.createManagedBean(new Ur({ariaLabel:t}))},e}(Wr),Xr=function(){function t(t,e){var i=this;void 0===e&&(e=!1),this.destroyFuncs=[],this.touching=!1,this.eventService=new et,this.eElement=t,this.preventMouseClick=e;var o=this.onTouchStart.bind(this),n=this.onTouchMove.bind(this),r=this.onTouchEnd.bind(this);this.eElement.addEventListener("touchstart",o,{passive:!0}),this.eElement.addEventListener("touchmove",n,{passive:!0}),this.eElement.addEventListener("touchend",r,{passive:!1}),this.destroyFuncs.push((function(){i.eElement.removeEventListener("touchstart",o,{passive:!0}),i.eElement.removeEventListener("touchmove",n,{passive:!0}),i.eElement.removeEventListener("touchend",r,{passive:!1})}))}return t.prototype.getActiveTouch=function(t){for(var e=0;e<t.length;e++){if(t[e].identifier===this.touchStart.identifier)return t[e]}return null},t.prototype.addEventListener=function(t,e){this.eventService.addEventListener(t,e)},t.prototype.removeEventListener=function(t,e){this.eventService.removeEventListener(t,e)},t.prototype.onTouchStart=function(e){var i=this;if(!this.touching){this.touchStart=e.touches[0],this.touching=!0,this.moved=!1;var o=this.touchStart;window.setTimeout((function(){var n=i.touchStart===o;if(i.touching&&n&&!i.moved){i.moved=!0;var r={type:t.EVENT_LONG_TAP,touchStart:i.touchStart,touchEvent:e};i.eventService.dispatchEvent(r)}}),500)}},t.prototype.onTouchMove=function(t){if(this.touching){var e=this.getActiveTouch(t.touches);if(e)!Xo(e,this.touchStart,4)&&(this.moved=!0)}},t.prototype.onTouchEnd=function(e){if(this.touching){if(!this.moved){var i={type:t.EVENT_TAP,touchStart:this.touchStart};this.eventService.dispatchEvent(i),this.checkForDoubleTap()}this.preventMouseClick&&e.cancelable&&e.preventDefault(),this.touching=!1}},t.prototype.checkForDoubleTap=function(){var e=(new Date).getTime();if(this.lastTapTime&&this.lastTapTime>0)if(e-this.lastTapTime>t.DOUBLE_TAP_MILLIS){var i={type:t.EVENT_DOUBLE_TAP,touchStart:this.touchStart};this.eventService.dispatchEvent(i),this.lastTapTime=null}else this.lastTapTime=e;else this.lastTapTime=e},t.prototype.destroy=function(){this.destroyFuncs.forEach((function(t){return t()}))},t.EVENT_TAP="tap",t.EVENT_DOUBLE_TAP="doubleTap",t.EVENT_LONG_TAP="longTap",t.DOUBLE_TAP_MILLIS=500,t}(),Zr=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),qr=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},Jr=function(t){function e(i){var o=t.call(this)||this;return i||o.setTemplate(e.TEMPLATE),o}return Zr(e,t),e.prototype.attachCustomElements=function(t,e,i,o,n){this.eSortOrder=t,this.eSortAsc=e,this.eSortDesc=i,this.eSortMixed=o,this.eSortNone=n},e.prototype.setupSort=function(t,e){var i=this;void 0===e&&(e=!1),this.column=t,this.suppressOrder=e,this.setupMultiSortIndicator(),!!this.column.getColDef().sortable&&(this.addInIcon("sortAscending",this.eSortAsc,t),this.addInIcon("sortDescending",this.eSortDesc,t),this.addInIcon("sortUnSort",this.eSortNone,t),this.addManagedListener(this.eventService,zt.EVENT_SORT_CHANGED,(function(){return i.onSortChanged()})),this.addManagedListener(this.eventService,zt.EVENT_COLUMN_ROW_GROUP_CHANGED,(function(){return i.onSortChanged()})),this.onSortChanged())},e.prototype.addInIcon=function(t,e,i){if(null!=e){var o=jo(t,this.gridOptionsService,i);o&&e.appendChild(o)}},e.prototype.onSortChanged=function(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()},e.prototype.updateIcons=function(){var t=this.sortController.getDisplaySortForColumn(this.column);if(this.eSortAsc){var e="asc"===t;oo(this.eSortAsc,e,{skipAriaHidden:!0})}if(this.eSortDesc){var i="desc"===t;oo(this.eSortDesc,i,{skipAriaHidden:!0})}if(this.eSortNone){var o=!this.column.getColDef().unSortIcon&&!this.gridOptionsService.is("unSortIcon"),n=null==t;oo(this.eSortNone,!o&&n,{skipAriaHidden:!0})}},e.prototype.setupMultiSortIndicator=function(){var t=this;this.addInIcon("sortUnSort",this.eSortMixed,this.column);var e=this.column.getColDef().showRowGroup;this.gridOptionsService.isColumnsSortingCoupledToGroup()&&e&&(this.addManagedListener(this.eventService,zt.EVENT_SORT_CHANGED,(function(){return t.updateMultiSortIndicator()})),this.addManagedListener(this.eventService,zt.EVENT_COLUMN_ROW_GROUP_CHANGED,(function(){return t.updateMultiSortIndicator()})),this.updateMultiSortIndicator())},e.prototype.updateMultiSortIndicator=function(){if(this.eSortMixed){var t="mixed"===this.sortController.getDisplaySortForColumn(this.column);oo(this.eSortMixed,t,{skipAriaHidden:!0})}},e.prototype.updateSortOrder=function(){var t,e=this;if(this.eSortOrder){var i=this.sortController.getColumnsWithSortingOrdered(),o=null!==(t=this.sortController.getDisplaySortIndexForColumn(this.column))&&void 0!==t?t:-1,n=i.some((function(t){var i;return null!==(i=e.sortController.getDisplaySortIndexForColumn(t))&&void 0!==i&&i})),r=o>=0&&n;oo(this.eSortOrder,r,{skipAriaHidden:!0}),o>=0?this.eSortOrder.innerHTML=(o+1).toString():mo(this.eSortOrder)}},e.TEMPLATE='<span class="ag-sort-indicator-container">\n            <span ref="eSortOrder" class="ag-sort-indicator-icon ag-sort-order ag-hidden" aria-hidden="true"></span>\n            <span ref="eSortAsc" class="ag-sort-indicator-icon ag-sort-ascending-icon ag-hidden" aria-hidden="true"></span>\n            <span ref="eSortDesc" class="ag-sort-indicator-icon ag-sort-descending-icon ag-hidden" aria-hidden="true"></span>\n            <span ref="eSortMixed" class="ag-sort-indicator-icon ag-sort-mixed-icon ag-hidden" aria-hidden="true"></span>\n            <span ref="eSortNone" class="ag-sort-indicator-icon ag-sort-none-icon ag-hidden" aria-hidden="true"></span>\n        </span>',qr([mn("eSortOrder")],e.prototype,"eSortOrder",void 0),qr([mn("eSortAsc")],e.prototype,"eSortAsc",void 0),qr([mn("eSortDesc")],e.prototype,"eSortDesc",void 0),qr([mn("eSortMixed")],e.prototype,"eSortMixed",void 0),qr([mn("eSortNone")],e.prototype,"eSortNone",void 0),qr([K("columnModel")],e.prototype,"columnModel",void 0),qr([K("sortController")],e.prototype,"sortController",void 0),e}(gn),Qr=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),ts=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},es=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lastMovingChanged=0,e}return Qr(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this)},e.prototype.refresh=function(t){return this.params=t,this.workOutTemplate()==this.currentTemplate&&(this.workOutShowMenu()==this.currentShowMenu&&(this.workOutSort()==this.currentSort&&(this.setDisplayName(t),!0)))},e.prototype.workOutTemplate=function(){var t=pt(this.params.template,e.TEMPLATE);return t=t&&t.trim?t.trim():t},e.prototype.init=function(t){this.params=t,this.currentTemplate=this.workOutTemplate(),this.setTemplate(this.currentTemplate),this.setupTap(),this.setupIcons(t.column),this.setMenu(),this.setupSort(),this.setupFilterIcon(),this.setDisplayName(t)},e.prototype.setDisplayName=function(t){if(this.currentDisplayName!=t.displayName){this.currentDisplayName=t.displayName;var e=Ce(this.currentDisplayName);this.eText&&(this.eText.innerHTML=e)}},e.prototype.setupIcons=function(t){this.addInIcon("menu",this.eMenu,t),this.addInIcon("filter",this.eFilter,t)},e.prototype.addInIcon=function(t,e,i){if(null!=e){var o=jo(t,this.gridOptionsService,i);o&&e.appendChild(o)}},e.prototype.setupTap=function(){var t=this,e=this.gridOptionsService;if(!e.is("suppressTouch")){var i=new Xr(this.getGui(),!0),o=e.is("suppressMenuHide"),r=o&&n(this.eMenu),s=r?new Xr(this.eMenu,!0):i;if(this.params.enableMenu){var a=r?"EVENT_TAP":"EVENT_LONG_TAP";this.addManagedListener(s,Xr[a],(function(i){e.api.showColumnMenuAfterMouseClick(t.params.column,i.touchStart)}))}if(this.params.enableSorting){this.addManagedListener(i,Xr.EVENT_TAP,(function(e){var i=e.touchStart.target;o&&t.eMenu.contains(i)||t.sortController.progressSort(t.params.column,!1,"uiColumnSorted")}))}this.addDestroyFunc((function(){return i.destroy()})),r&&this.addDestroyFunc((function(){return s.destroy()}))}},e.prototype.workOutShowMenu=function(){var t=!this.gridOptionsService.is("suppressMenuHide"),e=Ai()&&t;return this.params.enableMenu&&!e},e.prototype.setMenu=function(){var t=this;if(this.eMenu)if(this.currentShowMenu=this.workOutShowMenu(),this.currentShowMenu){var e=this.gridOptionsService.is("suppressMenuHide");this.addManagedListener(this.eMenu,"click",(function(){return t.showMenu(t.eMenu)})),this.eMenu.classList.toggle("ag-header-menu-always-show",e)}else yo(this.eMenu)},e.prototype.showMenu=function(t){t||(t=this.eMenu),this.menuFactory.showMenuAfterButtonClick(this.params.column,t,"columnMenu")},e.prototype.workOutSort=function(){return this.params.enableSorting},e.prototype.setupSort=function(){var t=this;if(this.currentSort=this.params.enableSorting,this.eSortIndicator||(this.eSortIndicator=this.context.createBean(new Jr(!0)),this.eSortIndicator.attachCustomElements(this.eSortOrder,this.eSortAsc,this.eSortDesc,this.eSortMixed,this.eSortNone)),this.eSortIndicator.setupSort(this.params.column),this.currentSort){var e="ctrl"===this.gridOptionsService.get("multiSortKey");this.addManagedListener(this.params.column,ct.EVENT_MOVING_CHANGED,(function(){t.lastMovingChanged=(new Date).getTime()})),this.eLabel&&this.addManagedListener(this.eLabel,"click",(function(i){var o=t.params.column.isMoving(),n=(new Date).getTime()-t.lastMovingChanged<50;if(!(o||n)){var r=e?i.ctrlKey||i.metaKey:i.shiftKey;t.params.progressSort(r)}}));var i=function(){if(t.addOrRemoveCssClass("ag-header-cell-sorted-asc",t.params.column.isSortAscending()),t.addOrRemoveCssClass("ag-header-cell-sorted-desc",t.params.column.isSortDescending()),t.addOrRemoveCssClass("ag-header-cell-sorted-none",t.params.column.isSortNone()),t.params.column.getColDef().showRowGroup){var e=t.columnModel.getSourceColumnsForGroupColumn(t.params.column),i=!(null==e?void 0:e.every((function(e){return t.params.column.getSort()==e.getSort()})));t.addOrRemoveCssClass("ag-header-cell-sorted-mixed",i)}};this.addManagedListener(this.eventService,zt.EVENT_SORT_CHANGED,i),this.addManagedListener(this.eventService,zt.EVENT_COLUMN_ROW_GROUP_CHANGED,i)}},e.prototype.setupFilterIcon=function(){this.eFilter&&(this.addManagedListener(this.params.column,ct.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.onFilterChanged())},e.prototype.onFilterChanged=function(){var t=this.params.column.isFilterActive();oo(this.eFilter,t,{skipAriaHidden:!0})},e.TEMPLATE='<div class="ag-cell-label-container" role="presentation">\n            <span ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>\n            <div ref="eLabel" class="ag-header-cell-label" role="presentation">\n                <span ref="eText" class="ag-header-cell-text"></span>\n                <span ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>\n                <ag-sort-indicator ref="eSortIndicator"></ag-sort-indicator>\n            </div>\n        </div>',ts([K("sortController")],e.prototype,"sortController",void 0),ts([K("menuFactory")],e.prototype,"menuFactory",void 0),ts([K("columnModel")],e.prototype,"columnModel",void 0),ts([mn("eFilter")],e.prototype,"eFilter",void 0),ts([mn("eSortIndicator")],e.prototype,"eSortIndicator",void 0),ts([mn("eMenu")],e.prototype,"eMenu",void 0),ts([mn("eLabel")],e.prototype,"eLabel",void 0),ts([mn("eText")],e.prototype,"eText",void 0),ts([mn("eSortOrder")],e.prototype,"eSortOrder",void 0),ts([mn("eSortAsc")],e.prototype,"eSortAsc",void 0),ts([mn("eSortDesc")],e.prototype,"eSortDesc",void 0),ts([mn("eSortMixed")],e.prototype,"eSortMixed",void 0),ts([mn("eSortNone")],e.prototype,"eSortNone",void 0),e}(gn),is=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),os=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},ns=function(t){function e(){return t.call(this,e.TEMPLATE)||this}return is(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this)},e.prototype.init=function(t){this.params=t,this.checkWarnings(),this.setupLabel(),this.addGroupExpandIcon(),this.setupExpandIcons()},e.prototype.checkWarnings=function(){if(this.params.template){P((function(){return console.warn("AG Grid: A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)")}),"HeaderGroupComp.templateNotSupported")}},e.prototype.setupExpandIcons=function(){var t=this;this.addInIcon("columnGroupOpened","agOpened"),this.addInIcon("columnGroupClosed","agClosed");var e=function(e){if(!Mt(e)){var i=!t.params.columnGroup.isExpanded();t.columnModel.setColumnGroupOpened(t.params.columnGroup.getProvidedColumnGroup(),i,"uiColumnExpanded")}};this.addTouchAndClickListeners(this.eCloseIcon,e),this.addTouchAndClickListeners(this.eOpenIcon,e);var i=function(t){Tt(t)};this.addManagedListener(this.eCloseIcon,"dblclick",i),this.addManagedListener(this.eOpenIcon,"dblclick",i),this.addManagedListener(this.getGui(),"dblclick",e),this.updateIconVisibility();var o=this.params.columnGroup.getProvidedColumnGroup();this.addManagedListener(o,ht.EVENT_EXPANDED_CHANGED,this.updateIconVisibility.bind(this)),this.addManagedListener(o,ht.EVENT_EXPANDABLE_CHANGED,this.updateIconVisibility.bind(this))},e.prototype.addTouchAndClickListeners=function(t,e){var i=new Xr(t,!0);this.addManagedListener(i,Xr.EVENT_TAP,e),this.addDestroyFunc((function(){return i.destroy()})),this.addManagedListener(t,"click",e)},e.prototype.updateIconVisibility=function(){if(this.params.columnGroup.isExpandable()){var t=this.params.columnGroup.isExpanded();oo(this.eOpenIcon,t),oo(this.eCloseIcon,!t)}else oo(this.eOpenIcon,!1),oo(this.eCloseIcon,!1)},e.prototype.addInIcon=function(t,e){var i=jo(t,this.gridOptionsService,null);i&&this.getRefElement(e).appendChild(i)},e.prototype.addGroupExpandIcon=function(){if(!this.params.columnGroup.isExpandable())return oo(this.eOpenIcon,!1),void oo(this.eCloseIcon,!1)},e.prototype.setupLabel=function(){var t,e=this.params,i=e.displayName,o=e.columnGroup;if(n(i)){var r=Ce(i);this.getRefElement("agLabel").innerHTML=r}this.addOrRemoveCssClass("ag-sticky-label",!!(null===(t=o.getColGroupDef())||void 0===t?void 0:t.stickyLabel))},e.TEMPLATE='<div class="ag-header-group-cell-label" ref="agContainer" role="presentation">\n            <span ref="agLabel" class="ag-header-group-text" role="presentation"></span>\n            <span ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>\n            <span ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>\n        </div>',os([K("columnModel")],e.prototype,"columnModel",void 0),os([mn("agOpened")],e.prototype,"eOpenIcon",void 0),os([mn("agClosed")],e.prototype,"eCloseIcon",void 0),e}(gn),rs=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),ss=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return rs(e,t),e.prototype.isPopup=function(){return!0},e.prototype.setParentComponent=function(e){e.addCssClass("ag-has-popup"),t.prototype.setParentComponent.call(this,e)},e.prototype.destroy=function(){var e=this.parentComponent;e&&e.isAlive()&&e.getGui().classList.remove("ag-has-popup"),t.prototype.destroy.call(this)},e}(gn),as=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),ls=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},cs=function(t){function e(){return t.call(this,e.TEMPLATE)||this}return as(e,t),e.prototype.init=function(t){this.params=t,this.focusAfterAttached=t.cellStartedEdit,this.eTextArea.setMaxLength(t.maxLength||200).setCols(t.cols||60).setRows(t.rows||10),n(t.value,!0)&&this.eTextArea.setValue(t.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this))},e.prototype.onKeyDown=function(t){var e=t.key;(e===Uo.LEFT||e===Uo.UP||e===Uo.RIGHT||e===Uo.DOWN||t.shiftKey&&e===Uo.ENTER)&&t.stopPropagation()},e.prototype.afterGuiAttached=function(){var t=this.localeService.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(t("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()},e.prototype.getValue=function(){return this.params.parseValue(this.eTextArea.getValue())},e.TEMPLATE='<div class="ag-large-text" tabindex="0">\n            <ag-input-text-area ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>\n        </div>',ls([mn("eTextArea")],e.prototype,"eTextArea",void 0),e}(ss),us=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),hs=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},ds=function(t){function e(){var e=t.call(this,'<div class="ag-cell-edit-wrapper"><ag-select class="ag-cell-editor" ref="eSelect"></ag-select></div>')||this;return e.startedByEnter=!1,e}return us(e,t),e.prototype.init=function(t){var e=this;if(this.focusAfterAttached=t.cellStartedEdit,r(t.values))console.warn("AG Grid: no values found for select cellEditor");else{this.startedByEnter=null!=t.eventKey&&t.eventKey===Uo.ENTER;var i=!1;t.values.forEach((function(o){var n={value:o},r=e.valueFormatterService.formatValue(t.column,null,o),s=null!=r;n.text=s?r:o,e.eSelect.addOption(n),i=i||t.value===o})),i?this.eSelect.setValue(t.value,!0):t.values.length&&this.eSelect.setValue(t.values[0],!0),"fullRow"!==this.gridOptionsService.get("editType")&&this.addManagedListener(this.eSelect,Zn.EVENT_ITEM_SELECTED,(function(){return t.stopEditing()}))}},e.prototype.afterGuiAttached=function(){this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&this.eSelect.showPicker()},e.prototype.focusIn=function(){this.eSelect.getFocusableElement().focus()},e.prototype.getValue=function(){return this.eSelect.getValue()},e.prototype.isPopup=function(){return!1},hs([K("valueFormatterService")],e.prototype,"valueFormatterService",void 0),hs([mn("eSelect")],e.prototype,"eSelect",void 0),e}(ss),ps=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),fs=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},gs=function(t){function e(){return t.call(this,e.TEMPLATE)||this}return ps(e,t),e.prototype.init=function(t){this.params=t;var e,i=this.eInput;t.cellStartedEdit?(this.focusAfterAttached=!0,t.eventKey===Uo.BACKSPACE||t.eventKey===Uo.DELETE?e="":t.charPress?e=t.charPress:(e=this.getStartValue(t),t.eventKey!==Uo.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,e=this.getStartValue(t)),null!=e&&i.setValue(e,!0),null!=t.maxLength&&i.setMaxLength(t.maxLength),this.addManagedListener(i.getGui(),"keydown",(function(t){var e=t.key;e!==Uo.PAGE_UP&&e!==Uo.PAGE_DOWN||t.preventDefault()}))},e.prototype.afterGuiAttached=function(){var t=this.localeService.getLocaleTextFunc(),e=this.eInput;if(e.setInputAriaLabel(t("ariaInputEditor","Input Editor")),this.focusAfterAttached){xi()||e.getFocusableElement().focus();var i=e.getInputElement();if(this.highlightAllOnFocus)i.select();else{var o=e.getValue(),r=n(o)&&o.length||0;r&&i.setSelectionRange(r,r)}}},e.prototype.focusIn=function(){var t=this.eInput,e=t.getFocusableElement(),i=t.getInputElement();e.focus(),i.select()},e.prototype.getValue=function(){var t=this.eInput;return this.params.parseValue(t.getValue())},e.prototype.getStartValue=function(t){return t.useFormatter||t.column.getColDef().refData?t.formatValue(t.value):t.value},e.prototype.isPopup=function(){return!1},e.TEMPLATE='<div class="ag-cell-edit-wrapper">\n            <ag-input-text-field class="ag-cell-editor" ref="eInput"></ag-input-text-field>\n        </div>',fs([mn("eInput")],e.prototype,"eInput",void 0),e}(ss),ms=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),ys=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},vs=function(t){function e(){var i=t.call(this,e.TEMPLATE)||this;return i.refreshCount=0,i}return ms(e,t),e.prototype.init=function(t){this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(t)},e.prototype.showDelta=function(t,e){var i=Math.abs(e),o=t.formatValue(i),r=n(o)?o:i,s=e>=0;this.eDelta.innerHTML=s?"↑"+r:"↓"+r,this.eDelta.classList.toggle("ag-value-change-delta-up",s),this.eDelta.classList.toggle("ag-value-change-delta-down",!s)},e.prototype.setTimerToRemoveDelta=function(){var t=this;this.refreshCount++;var e=this.refreshCount;window.setTimeout((function(){e===t.refreshCount&&t.hideDeltaValue()}),2e3)},e.prototype.hideDeltaValue=function(){this.eValue.classList.remove("ag-value-change-value-highlight"),mo(this.eDelta)},e.prototype.refresh=function(t){var e=t.value;if(e===this.lastValue)return!1;if(n(t.valueFormatted)?this.eValue.innerHTML=t.valueFormatted:n(t.value)?this.eValue.innerHTML=e:mo(this.eValue),this.filterManager.isSuppressFlashingCellsBecauseFiltering())return!1;if("number"==typeof e&&"number"==typeof this.lastValue){var i=e-this.lastValue;this.showDelta(t,i)}return this.lastValue&&this.eValue.classList.add("ag-value-change-value-highlight"),this.setTimerToRemoveDelta(),this.lastValue=e,!0},e.TEMPLATE='<span><span class="ag-value-change-delta"></span><span class="ag-value-change-value"></span></span>',ys([K("filterManager")],e.prototype,"filterManager",void 0),e}(gn),_s=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),Cs=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},bs=function(t){function e(){var i=t.call(this,e.TEMPLATE)||this;return i.refreshCount=0,i.eCurrent=i.queryForHtmlElement(".ag-value-slide-current"),i}return _s(e,t),e.prototype.init=function(t){this.refresh(t)},e.prototype.addSlideAnimation=function(){var t=this;this.refreshCount++;var e=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious),this.ePrevious=_o('<span class="ag-value-slide-previous ag-value-slide-out"></span>'),this.ePrevious.innerHTML=this.eCurrent.innerHTML,this.getGui().insertBefore(this.ePrevious,this.eCurrent),window.setTimeout((function(){e===t.refreshCount&&t.ePrevious.classList.add("ag-value-slide-out-end")}),50),window.setTimeout((function(){e===t.refreshCount&&(t.getGui().removeChild(t.ePrevious),t.ePrevious=null)}),3e3)},e.prototype.refresh=function(t){var e=t.value;return r(e)&&(e=""),e!==this.lastValue&&(!this.filterManager.isSuppressFlashingCellsBecauseFiltering()&&(this.addSlideAnimation(),this.lastValue=e,n(t.valueFormatted)?this.eCurrent.innerHTML=t.valueFormatted:n(t.value)?this.eCurrent.innerHTML=e:mo(this.eCurrent),!0))},e.TEMPLATE='<span>\n            <span class="ag-value-slide-current"></span>\n        </span>',Cs([K("filterManager")],e.prototype,"filterManager",void 0),e}(gn),Es=function(){return Es=Object.assign||function(t){for(var e,i=1,o=arguments.length;i<o;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},Es.apply(this,arguments)},Ss=function(){function t(e){this.rowIndex=null,this.key=null,this.childrenMapped={},this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=t.OBJECT_ID_SEQUENCE++,this.__autoHeights={},this.alreadyRendered=!1,this.highlighted=null,this.hovered=!1,this.selected=!1,this.beans=e}return t.prototype.setData=function(t){this.setDataCommon(t,!1)},t.prototype.updateData=function(t){this.setDataCommon(t,!0)},t.prototype.setDataCommon=function(t,e){var i=this.data;this.data=t,this.beans.valueCache.onDataChanged(),this.updateDataOnDetailNode(),this.checkRowSelectable(),this.resetQuickFilterAggregateText();var o=this.createDataChangedEvent(t,i,e);this.dispatchLocalEvent(o)},t.prototype.updateDataOnDetailNode=function(){this.detailNode&&(this.detailNode.data=this.data)},t.prototype.createDataChangedEvent=function(e,i,o){return{type:t.EVENT_DATA_CHANGED,node:this,oldData:i,newData:e,update:o}},t.prototype.createLocalRowEvent=function(t){return{type:t,node:this}},t.prototype.getRowIndexString=function(){return"top"===this.rowPinned?"t-"+this.rowIndex:"bottom"===this.rowPinned?"b-"+this.rowIndex:this.rowIndex.toString()},t.prototype.createDaemonNode=function(){var e=new t(this.beans);return e.id=this.id,e.data=this.data,e.__daemon=!0,e.selected=this.selected,e.level=this.level,e},t.prototype.setDataAndId=function(t,e){var i=n(this.id)?this.createDaemonNode():null,o=this.data;this.data=t,this.updateDataOnDetailNode(),this.setId(e),this.beans.selectionService.syncInRowNode(this,i),this.checkRowSelectable();var r=this.createDataChangedEvent(t,o,!1);this.dispatchLocalEvent(r)},t.prototype.checkRowSelectable=function(){var t=this.beans.gridOptionsService.get("isRowSelectable");this.setRowSelectable(!t||t(this))},t.prototype.setRowSelectable=function(e){if(this.selectable!==e&&(this.selectable=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_SELECTABLE_CHANGED)),this.beans.gridOptionsService.is("groupSelectsChildren"))){var i=this.calculateSelectedFromChildren();this.setSelectedParams({newValue:null!=i&&i,source:"selectableChanged"})}},t.prototype.setId=function(e){var i=this.beans.gridOptionsService.getRowIdFunc();if(i)if(this.data){var o=this.getGroupKeys(!0);this.id=i({data:this.data,parentKeys:o.length>0?o:void 0,level:this.level}),null!==this.id&&"string"==typeof this.id&&this.id.startsWith(t.ID_PREFIX_ROW_GROUP)&&console.error("AG Grid: Row IDs cannot start with "+t.ID_PREFIX_ROW_GROUP+", this is a reserved prefix for AG Grid's row grouping feature."),null!==this.id&&"string"!=typeof this.id&&(this.id=""+this.id)}else this.id=void 0;else this.id=e},t.prototype.getGroupKeys=function(t){void 0===t&&(t=!1);var e=[],i=this;for(t&&(i=i.parent);i&&i.level>=0;)e.push(i.key),i=i.parent;return e.reverse(),e},t.prototype.isPixelInRange=function(t){return!(!n(this.rowTop)||!n(this.rowHeight))&&(t>=this.rowTop&&t<this.rowTop+this.rowHeight)},t.prototype.setFirstChild=function(e){this.firstChild!==e&&(this.firstChild=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_FIRST_CHILD_CHANGED)))},t.prototype.setLastChild=function(e){this.lastChild!==e&&(this.lastChild=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_LAST_CHILD_CHANGED)))},t.prototype.setChildIndex=function(e){this.childIndex!==e&&(this.childIndex=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_CHILD_INDEX_CHANGED)))},t.prototype.setRowTop=function(e){this.oldRowTop=this.rowTop,this.rowTop!==e&&(this.rowTop=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_TOP_CHANGED)),this.setDisplayed(null!==e))},t.prototype.clearRowTopAndRowIndex=function(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)},t.prototype.setDisplayed=function(e){this.displayed!==e&&(this.displayed=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_DISPLAYED_CHANGED)))},t.prototype.setDragging=function(e){this.dragging!==e&&(this.dragging=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_DRAGGING_CHANGED)))},t.prototype.setHighlighted=function(e){e!==this.highlighted&&(this.highlighted=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_HIGHLIGHT_CHANGED)))},t.prototype.setHovered=function(t){this.hovered!==t&&(this.hovered=t)},t.prototype.isHovered=function(){return this.hovered},t.prototype.setAllChildrenCount=function(e){this.allChildrenCount!==e&&(this.allChildrenCount=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_ALL_CHILDREN_COUNT_CHANGED)))},t.prototype.setMaster=function(e){this.master!==e&&(this.master&&!e&&(this.expanded=!1),this.master=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_MASTER_CHANGED)))},t.prototype.setGroup=function(e){this.group!==e&&(this.group&&!e&&(this.expanded=!1),this.group=e,this.updateHasChildren(),this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_GROUP_CHANGED)))},t.prototype.setRowHeight=function(e,i){void 0===i&&(i=!1),this.rowHeight=e,this.rowHeightEstimated=i,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_HEIGHT_CHANGED))},t.prototype.setRowAutoHeight=function(t,e){this.__autoHeights||(this.__autoHeights={}),this.__autoHeights[e.getId()]=t,null!=t&&(null==this.checkAutoHeightsDebounced&&(this.checkAutoHeightsDebounced=N(this.checkAutoHeights.bind(this),1)),this.checkAutoHeightsDebounced())},t.prototype.checkAutoHeights=function(){var t=this,e=!1,i=!0,o=0,n=this.__autoHeights;if(null!=n&&(this.beans.columnModel.getAllDisplayedAutoHeightCols().forEach((function(r){var s=n[r.getId()];if(null==s){if(!t.beans.columnModel.isColSpanActive())return void(e=!0);var a=[];switch(r.getPinned()){case"left":a=t.beans.columnModel.getDisplayedLeftColumnsForRow(t);break;case"right":a=t.beans.columnModel.getDisplayedRightColumnsForRow(t);break;case null:a=t.beans.columnModel.getViewportCenterColumnsForRow(t)}if(a.includes(r))return void(e=!0);s=-1}else i=!1;s>o&&(o=s)})),!e&&((i||o<10)&&(o=this.beans.gridOptionsService.getRowHeightForNode(this).height),o!=this.rowHeight))){this.setRowHeight(o);var r=this.beans.rowModel;r.onRowHeightChangedDebounced&&r.onRowHeightChangedDebounced()}},t.prototype.setRowIndex=function(e){this.rowIndex!==e&&(this.rowIndex=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_ROW_INDEX_CHANGED)))},t.prototype.setUiLevel=function(e){this.uiLevel!==e&&(this.uiLevel=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_UI_LEVEL_CHANGED)))},t.prototype.setExpanded=function(e,i){if(this.expanded!==e){this.expanded=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_EXPANDED_CHANGED));var o=Object.assign({},this.createGlobalRowEvent(zt.EVENT_ROW_GROUP_OPENED),{expanded:e,event:i||null});this.beans.rowNodeEventThrottle.dispatchExpanded(o),this.beans.gridOptionsService.is("groupIncludeFooter")&&this.beans.rowRenderer.refreshCells({rowNodes:[this]})}},t.prototype.createGlobalRowEvent=function(t){return{type:t,node:this,data:this.data,rowIndex:this.rowIndex,rowPinned:this.rowPinned,context:this.beans.gridOptionsService.context,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi}},t.prototype.dispatchLocalEvent=function(t){this.eventService&&this.eventService.dispatchEvent(t)},t.prototype.setDataValue=function(t,e,i){var o,n=this,r="string"!=typeof t?t:null!==(o=n.beans.columnModel.getGridColumn(t))&&void 0!==o?o:n.beans.columnModel.getPrimaryColumn(t),s=this.getValueFromValueService(r);if(this.beans.gridOptionsService.is("readOnlyEdit"))return this.dispatchEventForSaveValueReadOnly(r,s,e,i),!1;var a=this.beans.valueService.setValue(this,r,e,i);return this.dispatchCellChangedEvent(r,e,s),this.checkRowSelectable(),a},t.prototype.getValueFromValueService=function(t){var e=this.leafGroup&&this.beans.columnModel.isPivotMode(),i=this.group&&this.expanded&&!this.footer&&!e,o=this.beans.gridOptionsService.is("groupIncludeFooter"),n=this.beans.gridOptionsService.is("groupSuppressBlankHeader"),r=i&&o&&!n;return this.beans.valueService.getValue(t,this,!1,r)},t.prototype.dispatchEventForSaveValueReadOnly=function(t,e,i,o){var n={type:zt.EVENT_CELL_EDIT_REQUEST,event:null,rowIndex:this.rowIndex,rowPinned:this.rowPinned,column:t,colDef:t.getColDef(),context:this.beans.gridOptionsService.context,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,data:this.data,node:this,oldValue:e,newValue:i,value:i,source:o};this.beans.eventService.dispatchEvent(n)},t.prototype.setGroupValue=function(t,e){var i=this.beans.columnModel.getGridColumn(t);r(this.groupData)&&(this.groupData={});var o=i.getColId(),n=this.groupData[o];n!==e&&(this.groupData[o]=e,this.dispatchCellChangedEvent(i,e,n))},t.prototype.setAggData=function(t){var e=this,i=_([this.aggData,t]),o=this.aggData;this.aggData=t,this.eventService&&i.forEach((function(t){var i=e.beans.columnModel.getGridColumn(t),n=e.aggData?e.aggData[t]:void 0,r=o?o[t]:void 0;e.dispatchCellChangedEvent(i,n,r)}))},t.prototype.updateHasChildren=function(){var e=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;if(this.beans.gridOptionsService.isRowModelType("serverSide")){var i=this.beans.gridOptionsService.isTreeData(),o=this.beans.gridOptionsService.get("isServerSideGroup");e=!this.stub&&!this.footer&&(i?!!o&&o(this.data):!!this.group)}e!==this.__hasChildren&&(this.__hasChildren=!!e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_HAS_CHILDREN_CHANGED)))},t.prototype.hasChildren=function(){return null==this.__hasChildren&&this.updateHasChildren(),this.__hasChildren},t.prototype.isEmptyRowGroupNode=function(){return this.group&&s(this.childrenAfterGroup)},t.prototype.dispatchCellChangedEvent=function(e,i,o){var n={type:t.EVENT_CELL_CHANGED,node:this,column:e,newValue:i,oldValue:o};this.dispatchLocalEvent(n)},t.prototype.resetQuickFilterAggregateText=function(){this.quickFilterAggregateText=null},t.prototype.isExpandable=function(){return!!(this.hasChildren()&&!this.footer||this.master)},t.prototype.isSelected=function(){return this.footer?this.sibling.isSelected():this.selected},t.prototype.depthFirstSearch=function(t){this.childrenAfterGroup&&this.childrenAfterGroup.forEach((function(e){return e.depthFirstSearch(t)})),t(this)},t.prototype.calculateSelectedFromChildren=function(){var t,e=!1,i=!1,o=!1;if(!(null===(t=this.childrenAfterGroup)||void 0===t?void 0:t.length))return this.selectable?this.selected:null;for(var n=0;n<this.childrenAfterGroup.length;n++){var r=this.childrenAfterGroup[n],s=r.isSelected();if(!r.selectable){var a=r.calculateSelectedFromChildren();if(null===a)continue;s=a}switch(s){case!0:e=!0;break;case!1:i=!0;break;default:o=!0}}return o||e&&i?void 0:!!e||!i&&(this.selectable?this.selected:null)},t.prototype.setSelectedInitialValue=function(t){this.selected=t},t.prototype.selectThisNode=function(e,i,o){void 0===o&&(o="api");var n=!this.selectable&&e,r=this.selected===e;if(n||r)return!1;this.selected=e,this.eventService&&this.dispatchLocalEvent(this.createLocalRowEvent(t.EVENT_ROW_SELECTED));var s=Es(Es({},this.createGlobalRowEvent(zt.EVENT_ROW_SELECTED)),{event:i||null,source:o});return this.beans.eventService.dispatchEvent(s),!0},t.prototype.setSelected=function(t,e,i,o){void 0===e&&(e=!1),void 0===i&&(i=!1),void 0===o&&(o="api"),this.setSelectedParams({newValue:t,clearSelection:e,suppressFinishActions:i,rangeSelect:!1,source:o})},t.prototype.setSelectedParams=function(t){return this.rowPinned?(console.warn("AG Grid: cannot select pinned rows"),0):void 0===this.id?(console.warn("AG Grid: cannot select node until id for node is known"),0):this.beans.selectionService.setNodeSelected(Es(Es({},t),{node:this.footer?this.sibling:this}))},t.prototype.isRowPinned=function(){return"top"===this.rowPinned||"bottom"===this.rowPinned},t.prototype.isParentOfNode=function(t){for(var e=this.parent;e;){if(e===t)return!0;e=e.parent}return!1},t.prototype.addEventListener=function(t,e){this.eventService||(this.eventService=new et),this.eventService.addEventListener(t,e)},t.prototype.removeEventListener=function(t,e){this.eventService&&(this.eventService.removeEventListener(t,e),this.eventService.noRegisteredListenersExist()&&(this.eventService=null))},t.prototype.onMouseEnter=function(){this.dispatchLocalEvent(this.createLocalRowEvent(t.EVENT_MOUSE_ENTER))},t.prototype.onMouseLeave=function(){this.dispatchLocalEvent(this.createLocalRowEvent(t.EVENT_MOUSE_LEAVE))},t.prototype.getFirstChildOfFirstChild=function(t){for(var e=this,i=!0,o=!1,r=null;i&&!o;){var s=e.parent;n(s)&&e.firstChild?s.rowGroupColumn===t&&(o=!0,r=s):i=!1,e=s}return o?r:null},t.prototype.isFullWidthCell=function(){var t=this.getIsFullWidthCellFunc();return!!t&&t({rowNode:this})},t.prototype.getIsFullWidthCellFunc=function(){var t=this.beans.gridOptionsService.getCallback("isFullWidthRow");if(t)return t;var e=this.beans.gridOptionsService.get("isFullWidthCell");return e?function(t){return e(t.rowNode)}:void 0},t.prototype.getRoute=function(){if(null!=this.key){for(var t=[],e=this;null!=e.key;)t.push(e.key),e=e.parent;return t.reverse()}},t.prototype.createFooter=function(){var e=this;if(!this.sibling){var i=new t(this.beans);Object.keys(this).forEach((function(t){i[t]=e[t]})),i.footer=!0,i.setRowTop(null),i.setRowIndex(null),i.oldRowTop=null,i.id="rowGroupFooter_"+this.id,i.sibling=this,this.sibling=i}},t.ID_PREFIX_ROW_GROUP="row-group-",t.ID_PREFIX_TOP_PINNED="t-",t.ID_PREFIX_BOTTOM_PINNED="b-",t.OBJECT_ID_SEQUENCE=0,t.EVENT_ROW_SELECTED="rowSelected",t.EVENT_DATA_CHANGED="dataChanged",t.EVENT_CELL_CHANGED="cellChanged",t.EVENT_ALL_CHILDREN_COUNT_CHANGED="allChildrenCountChanged",t.EVENT_MASTER_CHANGED="masterChanged",t.EVENT_GROUP_CHANGED="groupChanged",t.EVENT_MOUSE_ENTER="mouseEnter",t.EVENT_MOUSE_LEAVE="mouseLeave",t.EVENT_HEIGHT_CHANGED="heightChanged",t.EVENT_TOP_CHANGED="topChanged",t.EVENT_DISPLAYED_CHANGED="displayedChanged",t.EVENT_FIRST_CHILD_CHANGED="firstChildChanged",t.EVENT_LAST_CHILD_CHANGED="lastChildChanged",t.EVENT_CHILD_INDEX_CHANGED="childIndexChanged",t.EVENT_ROW_INDEX_CHANGED="rowIndexChanged",t.EVENT_EXPANDED_CHANGED="expandedChanged",t.EVENT_HAS_CHILDREN_CHANGED="hasChildrenChanged",t.EVENT_SELECTABLE_CHANGED="selectableChanged",t.EVENT_UI_LEVEL_CHANGED="uiLevelChanged",t.EVENT_HIGHLIGHT_CHANGED="rowHighlightChanged",t.EVENT_DRAGGING_CHANGED="draggingChanged",t}(),ws=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),Os=function(){return Os=Object.assign||function(t){for(var e,i=1,o=arguments.length;i<o;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},Os.apply(this,arguments)},xs=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},Ps=function(t){function e(){return t.call(this,'\n            <div class="ag-selection-checkbox" role="presentation">\n                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>\n            </div>')||this}return ws(e,t),e.prototype.postConstruct=function(){this.eCheckbox.setPassive(!0)},e.prototype.getCheckboxId=function(){return this.eCheckbox.getInputElement().id},e.prototype.onDataChanged=function(){this.onSelectionChanged()},e.prototype.onSelectableChanged=function(){this.showOrHideSelect()},e.prototype.onSelectionChanged=function(){var t=this.localeService.getLocaleTextFunc(),e=this.rowNode.isSelected(),i=void 0===e?t("ariaIndeterminate","indeterminate"):!0===e?t("ariaChecked","checked"):t("ariaUnchecked","unchecked"),o=t("ariaRowToggleSelection","Press Space to toggle row selection");this.eCheckbox.setValue(e,!0),this.eCheckbox.setInputAriaLabel(o+" ("+i+")")},e.prototype.onCheckedClicked=function(t){var e=this.gridOptionsService.is("groupSelectsFiltered");return this.rowNode.setSelectedParams({newValue:!1,rangeSelect:t.shiftKey,groupSelectsFiltered:e,event:t,source:"checkboxSelected"})},e.prototype.onUncheckedClicked=function(t){var e=this.gridOptionsService.is("groupSelectsFiltered");return this.rowNode.setSelectedParams({newValue:!0,rangeSelect:t.shiftKey,groupSelectsFiltered:e,event:t,source:"checkboxSelected"})},e.prototype.init=function(t){var e=this;if(this.rowNode=t.rowNode,this.column=t.column,this.overrides=t.overrides,this.onSelectionChanged(),this.addManagedListener(this.eCheckbox.getInputElement(),"dblclick",(function(t){Tt(t)})),this.addManagedListener(this.eCheckbox.getInputElement(),"click",(function(t){Tt(t),e.eCheckbox.getValue()?e.onCheckedClicked(t):e.onUncheckedClicked(t||{})})),this.addManagedListener(this.rowNode,Ss.EVENT_ROW_SELECTED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.rowNode,Ss.EVENT_DATA_CHANGED,this.onDataChanged.bind(this)),this.addManagedListener(this.rowNode,Ss.EVENT_SELECTABLE_CHANGED,this.onSelectableChanged.bind(this)),this.gridOptionsService.get("isRowSelectable")||"function"==typeof this.getIsVisible()){var i=this.showOrHideSelect.bind(this);this.addManagedListener(this.eventService,zt.EVENT_DISPLAYED_COLUMNS_CHANGED,i),this.addManagedListener(this.rowNode,Ss.EVENT_DATA_CHANGED,i),this.addManagedListener(this.rowNode,Ss.EVENT_CELL_CHANGED,i),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")},e.prototype.showOrHideSelect=function(){var t,e,i,o,n=this.rowNode.selectable,r=this.getIsVisible();if(n)if("function"==typeof r){var s=null===(t=this.overrides)||void 0===t?void 0:t.callbackParams,a=null===(e=this.column)||void 0===e?void 0:e.createColumnFunctionCallbackParams(this.rowNode);n=!!a&&r(Os(Os({},s),a))}else n=null!=r&&r;if(null===(i=this.column)||void 0===i?void 0:i.getColDef().showDisabledCheckboxes)return this.eCheckbox.setDisabled(!n),this.setVisible(!0),void this.setDisplayed(!0);(null===(o=this.overrides)||void 0===o?void 0:o.removeHidden)?this.setDisplayed(n):this.setVisible(n)},e.prototype.getIsVisible=function(){var t,e;return this.overrides?this.overrides.isVisible:null===(e=null===(t=this.column)||void 0===t?void 0:t.getColDef())||void 0===e?void 0:e.checkboxSelection},xs([mn("eCheckbox")],e.prototype,"eCheckbox",void 0),xs([H],e.prototype,"postConstruct",null),e}(gn),Ts=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),Ms=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},Ds=function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],o=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};!function(t){t[t.ToolPanel=0]="ToolPanel",t[t.HeaderCell=1]="HeaderCell",t[t.RowDrag=2]="RowDrag",t[t.ChartPanel=3]="ChartPanel"}(Rr||(Rr={})),function(t){t[t.Up=0]="Up",t[t.Down=1]="Down"}(Lr||(Lr={})),function(t){t[t.Left=0]="Left",t[t.Right=1]="Right"}(Ir||(Ir={}));var As,Rs=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dragSourceAndParamsList=[],e.dropTargets=[],e}var i;return Ts(e,t),i=e,e.prototype.init=function(){this.ePinnedIcon=Go("columnMovePin",this.gridOptionsService,null),this.eHideIcon=Go("columnMoveHide",this.gridOptionsService,null),this.eMoveIcon=Go("columnMoveMove",this.gridOptionsService,null),this.eLeftIcon=Go("columnMoveLeft",this.gridOptionsService,null),this.eRightIcon=Go("columnMoveRight",this.gridOptionsService,null),this.eGroupIcon=Go("columnMoveGroup",this.gridOptionsService,null),this.eAggregateIcon=Go("columnMoveValue",this.gridOptionsService,null),this.ePivotIcon=Go("columnMovePivot",this.gridOptionsService,null),this.eDropNotAllowedIcon=Go("dropNotAllowed",this.gridOptionsService,null)},e.prototype.addDragSource=function(t,e){void 0===e&&(e=!1);var i={eElement:t.eElement,dragStartPixels:t.dragStartPixels,onDragStart:this.onDragStart.bind(this,t),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this)};this.dragSourceAndParamsList.push({params:i,dragSource:t}),this.dragService.addDragSource(i,e)},e.prototype.removeDragSource=function(t){var e=this.dragSourceAndParamsList.find((function(e){return e.dragSource===t}));e&&(this.dragService.removeDragSource(e.params),yt(this.dragSourceAndParamsList,e))},e.prototype.clearDragSourceParamsList=function(){var t=this;this.dragSourceAndParamsList.forEach((function(e){return t.dragService.removeDragSource(e.params)})),this.dragSourceAndParamsList.length=0,this.dropTargets.length=0},e.prototype.nudge=function(){this.dragging&&this.onDragging(this.eventLastTime,!0)},e.prototype.onDragStart=function(t,e){this.dragging=!0,this.dragSource=t,this.eventLastTime=e,this.dragItem=this.dragSource.getDragItem(),this.lastDropTarget=this.dragSource.dragSourceDropTarget,this.dragSource.onDragStarted&&this.dragSource.onDragStarted(),this.createGhost()},e.prototype.onDragStop=function(t){if(this.eventLastTime=null,this.dragging=!1,this.dragSource.onDragStopped&&this.dragSource.onDragStopped(),this.lastDropTarget&&this.lastDropTarget.onDragStop){var e=this.createDropTargetEvent(this.lastDropTarget,t,null,null,!1);this.lastDropTarget.onDragStop(e)}this.lastDropTarget=null,this.dragItem=null,this.removeGhost()},e.prototype.onDragging=function(t,e){var i,o,n,r,s=this,a=this.getHorizontalDirection(t),l=this.getVerticalDirection(t);this.eventLastTime=t,this.positionGhost(t);var c=this.dropTargets.filter((function(e){return s.isMouseOnDropTarget(t,e)})),u=this.findCurrentDropTarget(t,c);if(u!==this.lastDropTarget)this.leaveLastTargetIfExists(t,a,l,e),null!==this.lastDropTarget&&null===u&&(null===(o=(i=this.dragSource).onGridExit)||void 0===o||o.call(i,this.dragItem)),null===this.lastDropTarget&&null!==u&&(null===(r=(n=this.dragSource).onGridEnter)||void 0===r||r.call(n,this.dragItem)),this.enterDragTargetIfExists(u,t,a,l,e),this.lastDropTarget=u;else if(u&&u.onDragging){var h=this.createDropTargetEvent(u,t,a,l,e);u.onDragging(h)}},e.prototype.getAllContainersFromDropTarget=function(t){var e=t.getSecondaryContainers?t.getSecondaryContainers():null,i=[[t.getContainer()]];return e?i.concat(e):i},e.prototype.allContainersIntersect=function(t,e){var i,o;try{for(var n=Ds(e),r=n.next();!r.done;r=n.next()){var s=r.value.getBoundingClientRect();if(0===s.width||0===s.height)return!1;var a=t.clientX>=s.left&&t.clientX<s.right,l=t.clientY>=s.top&&t.clientY<s.bottom;if(!a||!l)return!1}}catch(t){i={error:t}}finally{try{r&&!r.done&&(o=n.return)&&o.call(n)}finally{if(i)throw i.error}}return!0},e.prototype.isMouseOnDropTarget=function(t,e){var i,o,n=this.getAllContainersFromDropTarget(e),r=!1;try{for(var s=Ds(n),a=s.next();!a.done;a=s.next()){var l=a.value;if(this.allContainersIntersect(t,l)){r=!0;break}}}catch(t){i={error:t}}finally{try{a&&!a.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}return!(e.targetContainsSource&&!e.getContainer().contains(this.dragSource.eElement))&&(r&&e.isInterestedIn(this.dragSource.type,this.dragSource.eElement))},e.prototype.findCurrentDropTarget=function(t,e){var i,o,n,r,s=e.length;if(0===s)return null;if(1===s)return e[0];var a=this.gridOptionsService.getRootNode().elementsFromPoint(t.clientX,t.clientY);try{for(var l=Ds(a),c=l.next();!c.done;c=l.next()){var u=c.value;try{for(var h=(n=void 0,Ds(e)),d=h.next();!d.done;d=h.next()){var p=d.value;if(-1!==Et(this.getAllContainersFromDropTarget(p)).indexOf(u))return p}}catch(t){n={error:t}}finally{try{d&&!d.done&&(r=h.return)&&r.call(h)}finally{if(n)throw n.error}}}}catch(t){i={error:t}}finally{try{c&&!c.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}return null},e.prototype.enterDragTargetIfExists=function(t,e,i,o,n){if(t){if(t.onDragEnter){var r=this.createDropTargetEvent(t,e,i,o,n);t.onDragEnter(r)}this.setGhostIcon(t.getIconName?t.getIconName():null)}},e.prototype.leaveLastTargetIfExists=function(t,e,i,o){if(this.lastDropTarget){if(this.lastDropTarget.onDragLeave){var n=this.createDropTargetEvent(this.lastDropTarget,t,e,i,o);this.lastDropTarget.onDragLeave(n)}this.setGhostIcon(null)}},e.prototype.addDropTarget=function(t){this.dropTargets.push(t)},e.prototype.removeDropTarget=function(t){this.dropTargets=this.dropTargets.filter((function(e){return e.getContainer()!==t.getContainer()}))},e.prototype.hasExternalDropZones=function(){return this.dropTargets.some((function(t){return t.external}))},e.prototype.findExternalZone=function(t){return this.dropTargets.filter((function(t){return t.external})).find((function(e){return e.getContainer()===t.getContainer()}))||null},e.prototype.getHorizontalDirection=function(t){var e=this.eventLastTime&&this.eventLastTime.clientX,i=t.clientX;return e===i?null:e>i?Ir.Left:Ir.Right},e.prototype.getVerticalDirection=function(t){var e=this.eventLastTime&&this.eventLastTime.clientY,i=t.clientY;return e===i?null:e>i?Lr.Up:Lr.Down},e.prototype.createDropTargetEvent=function(t,e,i,o,n){var r=t.getContainer(),s=r.getBoundingClientRect(),a=this,l=a.gridApi,c=a.columnApi,u=a.dragItem,h=a.dragSource;return{event:e,x:e.clientX-s.left,y:e.clientY-s.top,vDirection:o,hDirection:i,dragSource:h,fromNudge:n,dragItem:u,api:l,columnApi:c,dropZoneTarget:r}},e.prototype.positionGhost=function(t){var e=this.eGhost;if(e){var i=e.getBoundingClientRect().height,o=Ni()-2,n=ki()-2,r=t.pageY-i/2,s=t.pageX-10,a=this.gridOptionsService.getDocument(),l=a.defaultView||window,c=l.pageYOffset||a.documentElement.scrollTop,u=l.pageXOffset||a.documentElement.scrollLeft;o>0&&s+e.clientWidth>o+u&&(s=o+u-e.clientWidth),s<0&&(s=0),n>0&&r+e.clientHeight>n+c&&(r=n+c-e.clientHeight),r<0&&(r=0),e.style.left=s+"px",e.style.top=r+"px"}},e.prototype.removeGhost=function(){this.eGhost&&this.eGhostParent&&this.eGhostParent.removeChild(this.eGhost),this.eGhost=null},e.prototype.createGhost=function(){this.eGhost=_o(i.GHOST_TEMPLATE),this.mouseEventService.stampTopLevelGridCompWithGridInstance(this.eGhost);var t=this.environment.getTheme().theme;t&&this.eGhost.classList.add(t),this.eGhostIcon=this.eGhost.querySelector(".ag-dnd-ghost-icon"),this.setGhostIcon(null);var e=this.eGhost.querySelector(".ag-dnd-ghost-label"),o=this.dragSource.dragItemName;M(o)&&(o=o()),e.innerHTML=Ce(o)||"",this.eGhost.style.height="25px",this.eGhost.style.top="20px",this.eGhost.style.left="20px";var n=this.gridOptionsService.getDocument(),r=null;try{r=n.fullscreenElement}catch(t){}finally{if(!r){var s=this.gridOptionsService.getRootNode(),a=s.querySelector("body");r=a||(s instanceof ShadowRoot?s:null==s?void 0:s.documentElement)}}this.eGhostParent=r,this.eGhostParent?this.eGhostParent.appendChild(this.eGhost):console.warn("AG Grid: could not find document body, it is needed for dragging columns")},e.prototype.setGhostIcon=function(t,e){void 0===e&&(e=!1),mo(this.eGhostIcon);var o=null;switch(t||(t=this.dragSource.defaultIconName||i.ICON_NOT_ALLOWED),t){case i.ICON_PINNED:o=this.ePinnedIcon;break;case i.ICON_MOVE:o=this.eMoveIcon;break;case i.ICON_LEFT:o=this.eLeftIcon;break;case i.ICON_RIGHT:o=this.eRightIcon;break;case i.ICON_GROUP:o=this.eGroupIcon;break;case i.ICON_AGGREGATE:o=this.eAggregateIcon;break;case i.ICON_PIVOT:o=this.ePivotIcon;break;case i.ICON_NOT_ALLOWED:o=this.eDropNotAllowedIcon;break;case i.ICON_HIDE:o=this.eHideIcon}this.eGhostIcon.classList.toggle("ag-shake-left-to-right",e),o===this.eHideIcon&&this.gridOptionsService.is("suppressDragLeaveHidesColumns")||o&&this.eGhostIcon.appendChild(o)},e.ICON_PINNED="pinned",e.ICON_MOVE="move",e.ICON_LEFT="left",e.ICON_RIGHT="right",e.ICON_GROUP="group",e.ICON_AGGREGATE="aggregate",e.ICON_PIVOT="pivot",e.ICON_NOT_ALLOWED="notAllowed",e.ICON_HIDE="hide",e.GHOST_TEMPLATE='<div class="ag-dnd-ghost ag-unselectable">\n            <span class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>\n            <div class="ag-dnd-ghost-label"></div>\n        </div>',Ms([K("dragService")],e.prototype,"dragService",void 0),Ms([K("mouseEventService")],e.prototype,"mouseEventService",void 0),Ms([K("columnApi")],e.prototype,"columnApi",void 0),Ms([K("gridApi")],e.prototype,"gridApi",void 0),Ms([H],e.prototype,"init",null),Ms([$],e.prototype,"clearDragSourceParamsList",null),e=i=Ms([z("dragAndDropService")],e)}(jt),Ls=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),Is=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},Ns=function(t){function e(e,i,o,n,r,s){var a=t.call(this)||this;return a.cellValueFn=e,a.rowNode=i,a.column=o,a.customGui=n,a.dragStartPixels=r,a.suppressVisibilityChange=s,a.dragSource=null,a}return Ls(e,t),e.prototype.isCustomGui=function(){return null!=this.customGui},e.prototype.postConstruct=function(){if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate('<div class="ag-drag-handle ag-row-drag" aria-hidden="true"></div>'),this.getGui().appendChild(jo("rowDrag",this.beans.gridOptionsService,null)),this.addDragSource()),this.checkCompatibility(),!this.suppressVisibilityChange){var t=this.beans.gridOptionsService.is("rowDragManaged")?new Bs(this,this.beans,this.rowNode,this.column):new Fs(this,this.beans,this.rowNode,this.column);this.createManagedBean(t,this.beans.context)}},e.prototype.setDragElement=function(t,e){this.setTemplateFromElement(t),this.addDragSource(e)},e.prototype.getSelectedNodes=function(){if(!this.beans.gridOptionsService.is("rowDragMultiRow"))return[this.rowNode];var t=this.beans.selectionService.getSelectedNodes();return-1!==t.indexOf(this.rowNode)?t:[this.rowNode]},e.prototype.checkCompatibility=function(){var t=this.beans.gridOptionsService.is("rowDragManaged");this.beans.gridOptionsService.isTreeData()&&t&&P((function(){return console.warn("AG Grid: If using row drag with tree data, you cannot have rowDragManaged=true")}),"RowDragComp.managedAndTreeData")},e.prototype.getDragItem=function(){return{rowNode:this.rowNode,rowNodes:this.getSelectedNodes(),columns:this.column?[this.column]:void 0,defaultTextValue:this.cellValueFn()}},e.prototype.getRowDragText=function(t){if(t){var e=t.getColDef();if(e.rowDragText)return e.rowDragText}return this.gridOptionsService.get("rowDragText")},e.prototype.addDragSource=function(t){var e=this;void 0===t&&(t=4),this.dragSource&&this.removeDragSource();var i=this.getRowDragText(this.column),o=this.localeService.getLocaleTextFunc();this.dragSource={type:Rr.RowDrag,eElement:this.getGui(),dragItemName:function(){var t,n=e.getDragItem(),r=(null===(t=n.rowNodes)||void 0===t?void 0:t.length)||1;return i?i(n,r):1===r?e.cellValueFn():r+" "+o("rowDragRows","rows")},getDragItem:function(){return e.getDragItem()},dragStartPixels:t,dragSourceDomDataKey:this.beans.gridOptionsService.getDomDataKey()},this.beans.dragAndDropService.addDragSource(this.dragSource,!0)},e.prototype.removeDragSource=function(){this.dragSource&&this.beans.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null},Is([K("beans")],e.prototype,"beans",void 0),Is([H],e.prototype,"postConstruct",null),Is([$],e.prototype,"removeDragSource",null),e}(gn),ks=function(t){function e(e,i,o){var n=t.call(this)||this;return n.parent=e,n.rowNode=i,n.column=o,n}return Ls(e,t),e.prototype.setDisplayedOrVisible=function(t){var e={skipAriaHidden:!0};if(t)this.parent.setDisplayed(!1,e);else{var i=!0,o=!1;this.column&&(i=this.column.isRowDrag(this.rowNode)||this.parent.isCustomGui(),o=M(this.column.getColDef().rowDrag)),o?(this.parent.setDisplayed(!0,e),this.parent.setVisible(i,e)):(this.parent.setDisplayed(i,e),this.parent.setVisible(!0,e))}},e}(jt),Fs=function(t){function e(e,i,o,n){var r=t.call(this,e,o,n)||this;return r.beans=i,r}return Ls(e,t),e.prototype.postConstruct=function(){this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.addManagedListener(this.rowNode,Ss.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Ss.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Ss.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,zt.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.workOutVisibility()},e.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},e.prototype.workOutVisibility=function(){var t=this.beans.gridOptionsService.is("suppressRowDrag");this.setDisplayedOrVisible(t)},Is([H],e.prototype,"postConstruct",null),e}(ks),Bs=function(t){function e(e,i,o,n){var r=t.call(this,e,o,n)||this;return r.beans=i,r}return Ls(e,t),e.prototype.postConstruct=function(){this.addManagedListener(this.beans.eventService,zt.EVENT_SORT_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,zt.EVENT_FILTER_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,zt.EVENT_COLUMN_ROW_GROUP_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,zt.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Ss.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Ss.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()},e.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},e.prototype.workOutVisibility=function(){var t=this.beans.ctrlsService.getGridBodyCtrl().getRowDragFeature(),e=t&&t.shouldPreventRowMove(),i=this.beans.gridOptionsService.is("suppressRowDrag"),o=this.beans.dragAndDropService.hasExternalDropZones(),n=e&&!o||i;this.setDisplayedOrVisible(n)},Is([H],e.prototype,"postConstruct",null),e}(ks),Gs=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),js=function(){return js=Object.assign||function(t){for(var e,i=1,o=arguments.length;i<o;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},js.apply(this,arguments)},Vs=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},Us=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Gs(e,t),e.prototype.init=function(t,e,i,o,n,r,s){this.params=s,this.eGui=e,this.eCheckbox=i,this.eExpanded=o,this.eContracted=n,this.comp=t,this.compClass=r;var a=this.isTopLevelFooter(),l=this.isEmbeddedRowMismatch(),c=null==s.value&&!s.node.master,u=!1;if(this.gridOptionsService.is("groupIncludeFooter")&&this.gridOptionsService.is("groupHideOpenParents")){var h=s.node;if(h.footer)u=(s.colDef&&s.colDef.showRowGroup)!==(h.rowGroupColumn&&h.rowGroupColumn.getColId())}this.cellIsBlank=!a&&(l||c&&!s.node.master||u),this.cellIsBlank||(this.setupShowingValueForOpenedParent(),this.findDisplayedGroupNode(),this.addFullWidthRowDraggerIfNeeded(),this.addExpandAndContract(),this.addCheckboxIfNeeded(),this.addValueElement(),this.setupIndent(),this.refreshAriaExpanded())},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.expandListener=null},e.prototype.refreshAriaExpanded=function(){var t=this.params,e=t.node,i=t.eParentOfValue;if(this.expandListener&&(this.expandListener=this.expandListener()),this.isExpandable()){var o=function(){oi(i,!!e.expanded)};this.expandListener=this.addManagedListener(e,Ss.EVENT_EXPANDED_CHANGED,o)||null,o()}else ni(i)},e.prototype.isTopLevelFooter=function(){if(!this.gridOptionsService.is("groupIncludeTotalFooter"))return!1;if(null!=this.params.value||-1!=this.params.node.level)return!1;var t=this.params.colDef;if(null==t)return!0;if(!0===t.showRowGroup)return!0;var e=this.columnModel.getRowGroupColumns();return!e||0===e.length||e[0].getId()===t.showRowGroup},e.prototype.isEmbeddedRowMismatch=function(){if(!this.params.fullWidth||!this.gridOptionsService.is("embedFullWidthRows"))return!1;var t="left"===this.params.pinned,e="right"===this.params.pinned,i=!t&&!e;return this.gridOptionsService.is("enableRtl")?this.columnModel.isPinningLeft()?!e:!i:this.columnModel.isPinningLeft()?!t:!i},e.prototype.findDisplayedGroupNode=function(){var t=this.params.column,e=this.params.node;if(this.showingValueForOpenedParent)for(var i=e.parent;null!=i;){if(i.rowGroupColumn&&t.isRowGroupDisplayed(i.rowGroupColumn.getId())){this.displayedGroupNode=i;break}i=i.parent}r(this.displayedGroupNode)&&(this.displayedGroupNode=e)},e.prototype.setupShowingValueForOpenedParent=function(){var t=this.params.node,e=this.params.column;if(this.gridOptionsService.is("groupHideOpenParents"))if(t.groupData){if(null!=t.rowGroupColumn){var i=t.rowGroupColumn.getId();if(e.isRowGroupDisplayed(i))return void(this.showingValueForOpenedParent=!1)}var o=null!=t.groupData[e.getId()];this.showingValueForOpenedParent=o}else this.showingValueForOpenedParent=!1;else this.showingValueForOpenedParent=!1},e.prototype.addValueElement=function(){this.displayedGroupNode.footer?this.addFooterValue():(this.addGroupValue(),this.addChildCount())},e.prototype.addGroupValue=function(){var t=this.adjustParamsWithDetailsFromRelatedColumn(),e=this.getInnerCompDetails(t),i=t.valueFormatted,o=t.value,n=i;null==n&&(n=""===o&&this.params.node.group?this.localeService.getLocaleTextFunc()("blanks","(Blanks)"):null!=o?o:null);this.comp.setInnerRenderer(e,n)},e.prototype.adjustParamsWithDetailsFromRelatedColumn=function(){var t=this.displayedGroupNode.rowGroupColumn,e=this.params.column;if(!t)return this.params;if(null!=e&&!e.isRowGroupDisplayed(t.getId()))return this.params;var i=this.params,o=this.params,n=o.value,r=o.node,s=this.valueFormatterService.formatValue(t,r,n);return js(js({},i),{valueFormatted:s})},e.prototype.addFooterValue=function(){var t=this.params.footerValueGetter,e="";if(t){var i=f(this.params);i.value=this.params.value,"function"==typeof t?e=t(i):"string"==typeof t?e=this.expressionService.evaluate(t,i):console.warn("AG Grid: footerValueGetter should be either a function or a string (expression)")}else e="Total "+(null!=this.params.value?this.params.value:"");var o=this.getInnerCompDetails(this.params);this.comp.setInnerRenderer(o,e)},e.prototype.getInnerCompDetails=function(t){var e=this;if(t.fullWidth)return this.userComponentFactory.getFullWidthGroupRowInnerCellRenderer(this.gridOptionsService.get("groupRowRendererParams"),t);var i=this.userComponentFactory.getInnerRendererDetails(t,t),o=function(t){return t&&t.componentClass==e.compClass};if(i&&!o(i))return i;var n=this.displayedGroupNode.rowGroupColumn,r=n?n.getColDef():void 0;if(r){var s=this.userComponentFactory.getCellRendererDetails(r,t);if(s&&!o(s))return s;if(o(s)&&r.cellRendererParams&&r.cellRendererParams.innerRenderer)return this.userComponentFactory.getInnerRendererDetails(r.cellRendererParams,t)}},e.prototype.addChildCount=function(){this.params.suppressCount||(this.addManagedListener(this.displayedGroupNode,Ss.EVENT_ALL_CHILDREN_COUNT_CHANGED,this.updateChildCount.bind(this)),this.updateChildCount())},e.prototype.updateChildCount=function(){var t=this.displayedGroupNode.allChildrenCount,e=this.isShowRowGroupForThisRow()&&null!=t&&t>=0?"("+t+")":"";this.comp.setChildCount(e)},e.prototype.isShowRowGroupForThisRow=function(){if(this.gridOptionsService.isTreeData())return!0;var t=this.displayedGroupNode.rowGroupColumn;if(!t)return!1;var e=this.params.column;return null==e||e.isRowGroupDisplayed(t.getId())},e.prototype.addExpandAndContract=function(){var t,e=this.params,i=jo("groupExpanded",this.gridOptionsService,null),o=jo("groupContracted",this.gridOptionsService,null);i&&this.eExpanded.appendChild(i),o&&this.eContracted.appendChild(o);var n=e.eGridCell;(null===(t=this.params.column)||void 0===t?void 0:t.isCellEditable(e.node))&&this.gridOptionsService.is("enableGroupEdit")||!this.isExpandable()||e.suppressDoubleClickExpand||this.addManagedListener(n,"dblclick",this.onCellDblClicked.bind(this)),this.addManagedListener(this.eExpanded,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eContracted,"click",this.onExpandClicked.bind(this)),this.addManagedListener(n,"keydown",this.onKeyDown.bind(this)),this.addManagedListener(e.node,Ss.EVENT_EXPANDED_CHANGED,this.showExpandAndContractIcons.bind(this)),this.showExpandAndContractIcons();var r=this.onRowNodeIsExpandableChanged.bind(this);this.addManagedListener(this.displayedGroupNode,Ss.EVENT_ALL_CHILDREN_COUNT_CHANGED,r),this.addManagedListener(this.displayedGroupNode,Ss.EVENT_MASTER_CHANGED,r),this.addManagedListener(this.displayedGroupNode,Ss.EVENT_GROUP_CHANGED,r),this.addManagedListener(this.displayedGroupNode,Ss.EVENT_HAS_CHILDREN_CHANGED,r)},e.prototype.onExpandClicked=function(t){Mt(t)||(Tt(t),this.onExpandOrContract(t))},e.prototype.onExpandOrContract=function(t){var e=this.displayedGroupNode,i=!e.expanded;!i&&e.sticky&&this.scrollToStickyNode(e),e.setExpanded(i,t)},e.prototype.scrollToStickyNode=function(t){this.ctrlsService.getGridBodyCtrl().getScrollFeature().setVerticalScrollPosition(t.rowTop-t.stickyRowTop)},e.prototype.isExpandable=function(){if(this.showingValueForOpenedParent)return!0;var t=this.displayedGroupNode,e=this.columnModel.isPivotMode()&&t.leafGroup;if(!(t.isExpandable()&&!t.footer&&!e))return!1;var i=this.params.column;return null==i||"string"!=typeof i.getColDef().showRowGroup||this.isShowRowGroupForThisRow()},e.prototype.showExpandAndContractIcons=function(){var t=this,e=t.params,i=t.displayedGroupNode,o=t.columnModel,n=e.node,r=this.isExpandable();if(r){var s=!!this.showingValueForOpenedParent||n.expanded;this.comp.setExpandedDisplayed(s),this.comp.setContractedDisplayed(!s)}else this.comp.setExpandedDisplayed(!1),this.comp.setContractedDisplayed(!1);var a=o.isPivotMode(),l=a&&i.leafGroup,c=r&&!l,u=n.footer&&-1===n.level;this.comp.addOrRemoveCssClass("ag-cell-expandable",c),this.comp.addOrRemoveCssClass("ag-row-group",c),a?this.comp.addOrRemoveCssClass("ag-pivot-leaf-group",l):u||this.comp.addOrRemoveCssClass("ag-row-group-leaf-indent",!c)},e.prototype.onRowNodeIsExpandableChanged=function(){this.showExpandAndContractIcons(),this.setIndent(),this.refreshAriaExpanded()},e.prototype.setupIndent=function(){var t=this.params.node;this.params.suppressPadding||(this.addManagedListener(t,Ss.EVENT_UI_LEVEL_CHANGED,this.setIndent.bind(this)),this.setIndent())},e.prototype.setIndent=function(){if(!this.gridOptionsService.is("groupHideOpenParents")){var t=this.params,e=t.node,i=!!t.colDef,o=this.gridOptionsService.isTreeData(),n=!i||o||!0===t.colDef.showRowGroup?e.uiLevel:0;this.indentClass&&this.comp.addOrRemoveCssClass(this.indentClass,!1),this.indentClass="ag-row-group-indent-"+n,this.comp.addOrRemoveCssClass(this.indentClass,!0)}},e.prototype.addFullWidthRowDraggerIfNeeded=function(){var t=this;if(this.params.fullWidth&&this.params.rowDrag){var e=new Ns((function(){return t.params.value}),this.params.node);this.createManagedBean(e,this.context),this.eGui.insertAdjacentElement("afterbegin",e.getGui())}},e.prototype.isUserWantsSelected=function(){var t=this.params.checkbox;return"function"==typeof t||!0===t},e.prototype.addCheckboxIfNeeded=function(){var t=this,e=this.displayedGroupNode,i=this.isUserWantsSelected()&&!e.footer&&!e.rowPinned&&!e.detail;if(i){var o=new Ps;this.getContext().createBean(o),o.init({rowNode:e,column:this.params.column,overrides:{isVisible:this.params.checkbox,callbackParams:this.params,removeHidden:!0}}),this.eCheckbox.appendChild(o.getGui()),this.addDestroyFunc((function(){return t.getContext().destroyBean(o)}))}this.comp.setCheckboxVisible(i)},e.prototype.onKeyDown=function(t){t.key!==Uo.ENTER||this.params.suppressEnterExpand||(this.params.column&&this.params.column.isCellEditable(this.params.node)||this.onExpandOrContract(t))},e.prototype.onCellDblClicked=function(t){Mt(t)||(Lt(this.eExpanded,t)||Lt(this.eContracted,t)||this.onExpandOrContract(t))},Vs([K("expressionService")],e.prototype,"expressionService",void 0),Vs([K("valueFormatterService")],e.prototype,"valueFormatterService",void 0),Vs([K("columnModel")],e.prototype,"columnModel",void 0),Vs([K("userComponentFactory")],e.prototype,"userComponentFactory",void 0),Vs([K("ctrlsService")],e.prototype,"ctrlsService",void 0),e}(jt),Ws=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),Hs=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},$s=function(t){function e(){return t.call(this,e.TEMPLATE)||this}return Ws(e,t),e.prototype.init=function(t){var e=this,i={setInnerRenderer:function(t,i){return e.setRenderDetails(t,i)},setChildCount:function(t){return e.eChildCount.innerHTML=t},addOrRemoveCssClass:function(t,i){return e.addOrRemoveCssClass(t,i)},setContractedDisplayed:function(t){return oo(e.eContracted,t)},setExpandedDisplayed:function(t){return oo(e.eExpanded,t)},setCheckboxVisible:function(t){return e.eCheckbox.classList.toggle("ag-invisible",!t)}},o=this.createManagedBean(new Us),n=!t.colDef,r=this.getGui();o.init(i,r,this.eCheckbox,this.eExpanded,this.eContracted,this.constructor,t),n&&ze(r,"gridcell")},e.prototype.setRenderDetails=function(t,e){var i=this;if(t){var o=t.newAgStackInstance();if(!o)return;o.then((function(t){if(t){var e=function(){return i.context.destroyBean(t)};i.isAlive()?(i.eValue.appendChild(t.getGui()),i.addDestroyFunc(e)):e()}}))}else this.eValue.innerText=e},e.prototype.destroy=function(){this.getContext().destroyBean(this.innerCellRenderer),t.prototype.destroy.call(this)},e.prototype.refresh=function(){return!1},e.TEMPLATE='<span class="ag-cell-wrapper">\n            <span class="ag-group-expanded" ref="eExpanded"></span>\n            <span class="ag-group-contracted" ref="eContracted"></span>\n            <span class="ag-group-checkbox ag-invisible" ref="eCheckbox"></span>\n            <span class="ag-group-value" ref="eValue"></span>\n            <span class="ag-group-child-count" ref="eChildCount"></span>\n        </span>',Hs([mn("eExpanded")],e.prototype,"eExpanded",void 0),Hs([mn("eContracted")],e.prototype,"eContracted",void 0),Hs([mn("eCheckbox")],e.prototype,"eCheckbox",void 0),Hs([mn("eValue")],e.prototype,"eValue",void 0),Hs([mn("eChildCount")],e.prototype,"eChildCount",void 0),e}(gn),zs=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),Ks=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},Ys=function(t){function e(){return t.call(this,e.TEMPLATE)||this}return zs(e,t),e.prototype.init=function(t){t.node.failedLoad?this.setupFailed():this.setupLoading()},e.prototype.setupFailed=function(){var t=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=t("loadingError","ERR")},e.prototype.setupLoading=function(){var t=jo("groupLoading",this.gridOptionsService,null);t&&this.eLoadingIcon.appendChild(t);var e=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=e("loadingOoo","Loading")},e.prototype.refresh=function(t){return!1},e.prototype.destroy=function(){t.prototype.destroy.call(this)},e.TEMPLATE='<div class="ag-loading">\n            <span class="ag-loading-icon" ref="eLoadingIcon"></span>\n            <span class="ag-loading-text" ref="eLoadingText"></span>\n        </div>',Ks([mn("eLoadingIcon")],e.prototype,"eLoadingIcon",void 0),Ks([mn("eLoadingText")],e.prototype,"eLoadingText",void 0),e}(gn),Xs=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),Zs=function(t){function e(){return t.call(this)||this}return Xs(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this)},e.prototype.init=function(t){var i,o=null!==(i=this.gridOptionsService.get("overlayLoadingTemplate"))&&void 0!==i?i:e.DEFAULT_LOADING_OVERLAY_TEMPLATE,n=this.localeService.getLocaleTextFunc(),r=o.replace("[LOADING...]",n("loadingOoo","Loading..."));this.setTemplate(r)},e.DEFAULT_LOADING_OVERLAY_TEMPLATE='<span class="ag-overlay-loading-center">[LOADING...]</span>',e}(gn),qs=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),Js=function(t){function e(){return t.call(this)||this}return qs(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this)},e.prototype.init=function(t){var i,o=null!==(i=this.gridOptionsService.get("overlayNoRowsTemplate"))&&void 0!==i?i:e.DEFAULT_NO_ROWS_TEMPLATE,n=this.localeService.getLocaleTextFunc(),r=o.replace("[NO_ROWS_TO_SHOW]",n("noRowsToShow","No Rows To Show"));this.setTemplate(r)},e.DEFAULT_NO_ROWS_TEMPLATE='<span class="ag-overlay-no-rows-center">[NO_ROWS_TO_SHOW]</span>',e}(gn),Qs=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),ta=function(t){function e(){return t.call(this,'<div class="ag-tooltip"></div>')||this}return Qs(e,t),e.prototype.init=function(t){var e=t.value;this.getGui().innerHTML=Ce(e)},e}(ss),ea=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),ia=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},oa=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,n,r=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return s},na=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(oa(arguments[e]));return t},ra=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.agGridDefaults={agDateInput:wr,agColumnHeader:es,agColumnGroupHeader:ns,agSortIndicator:Jr,agTextColumnFloatingFilter:Yr,agNumberColumnFloatingFilter:zr,agDateColumnFloatingFilter:br,agReadOnlyFloatingFilter:Cn,agAnimateShowChangeCellRenderer:vs,agAnimateSlideCellRenderer:bs,agGroupCellRenderer:$s,agGroupRowRenderer:$s,agLoadingCellRenderer:Ys,agCellEditor:gs,agTextCellEditor:gs,agSelectCellEditor:ds,agLargeTextCellEditor:cs,agTextColumnFilter:Gr,agNumberColumnFilter:Nr,agDateColumnFilter:mr,agLoadingOverlay:Zs,agNoRowsOverlay:Js,agTooltipComponent:ta},e.enterpriseAgDefaultCompsModule={agSetColumnFilter:J.SetFilterModule,agSetColumnFloatingFilter:J.SetFilterModule,agMultiColumnFilter:J.MultiFilterModule,agMultiColumnFloatingFilter:J.MultiFilterModule,agGroupColumnFilter:J.RowGroupingModule,agGroupColumnFloatingFilter:J.RowGroupingModule,agRichSelect:J.RichSelectModule,agRichSelectCellEditor:J.RichSelectModule,agDetailCellRenderer:J.MasterDetailModule,agSparklineCellRenderer:J.SparklinesModule},e.deprecatedAgGridDefaults={agPopupTextCellEditor:'AG Grid: Since v27.1 The agPopupTextCellEditor is deprecated. Instead use { cellEditor: "agTextCellEditor", cellEditorPopup: true }',agPopupSelectCellEditor:'AG Grid: Since v27.1 the agPopupSelectCellEditor is deprecated. Instead use { cellEditor: "agSelectCellEditor", cellEditorPopup: true }'},e.jsComps={},e.fwComps={},e}return ea(e,t),e.prototype.init=function(){var t=this;null!=this.gridOptions.components&&p(this.gridOptions.components,(function(e,i){return t.registerJsComponent(e,i)})),null!=this.gridOptions.frameworkComponents&&p(this.gridOptions.frameworkComponents,(function(e,i){return t.registerFwComponent(e,i)}))},e.prototype.registerDefaultComponent=function(t,e){this.agGridDefaults[t]?console.error("Trying to overwrite a default component. You should call registerComponent"):this.agGridDefaults[t]=e},e.prototype.registerJsComponent=function(t,e){this.fwComps[t]?console.error("Trying to register a component that you have already registered for frameworks: "+t):this.jsComps[t]=e},e.prototype.registerFwComponent=function(t,e){P((function(){return console.warn("AG Grid: As of v27, registering components via grid property frameworkComponents is deprecated. Instead register both JavaScript AND Framework Components via the components property.")}),"UserComponentRegistry.frameworkComponentsDeprecated"),this.fwComps[t]=e},e.prototype.retrieve=function(t,e){var i=this,o=function(t,e){return{componentFromFramework:e,component:t}},n=this.getFrameworkOverrides().frameworkComponent(e,this.gridOptions.components);if(null!=n)return o(n,!0);var r=this.fwComps[e];if(r)return o(r,!0);var s=this.jsComps[e];if(s)return o(s,this.getFrameworkOverrides().isFrameworkComponent(s));var a=this.agGridDefaults[e];if(a)return o(a,!1);var l=this.enterpriseAgDefaultCompsModule[e];return l?ot.assertRegistered(l,"AG Grid '"+t+"' component: "+e):this.deprecatedAgGridDefaults[e]?P((function(){return console.warn(i.deprecatedAgGridDefaults[e])}),e):P((function(){i.warnAboutMissingComponent(t,e)}),"MissingComp"+e),null},e.prototype.warnAboutMissingComponent=function(t,e){var i=ee(e,na(Object.keys(this.agGridDefaults).filter((function(t){return!["agCellEditor","agGroupRowRenderer","agSortIndicator"].includes(t)})),Object.keys(this.jsComps),Object.keys(this.fwComps)),!0,.8);console.warn("AG Grid: Could not find '"+e+"' component. It was configured as \""+t+": '"+e+"'\" but it wasn't found in the list of registered components."),i.length>0&&console.warn("         Did you mean: ["+i.slice(0,3)+"]?"),console.warn("If using a custom component check it has been registered as described in: https://ag-grid.com/javascript-data-grid/components/")},ia([K("gridOptions")],e.prototype,"gridOptions",void 0),ia([H],e.prototype,"init",null),e=ia([z("userComponentRegistry")],e)}(jt),sa={propertyName:"dateComponent",cellRenderer:!1},aa={propertyName:"headerComponent",cellRenderer:!1},la={propertyName:"headerGroupComponent",cellRenderer:!1},ca={propertyName:"cellRenderer",cellRenderer:!0},ua={propertyName:"cellEditor",cellRenderer:!1},ha={propertyName:"innerRenderer",cellRenderer:!0},da={propertyName:"loadingOverlayComponent",cellRenderer:!1},pa={propertyName:"noRowsOverlayComponent",cellRenderer:!1},fa={propertyName:"tooltipComponent",cellRenderer:!1},ga={propertyName:"filter",cellRenderer:!1},ma={propertyName:"floatingFilterComponent",cellRenderer:!1},ya={propertyName:"toolPanel",cellRenderer:!1},va={propertyName:"statusPanel",cellRenderer:!1},_a={propertyName:"fullWidthCellRenderer",cellRenderer:!0},Ca={propertyName:"loadingCellRenderer",cellRenderer:!0},ba={propertyName:"groupRowRenderer",cellRenderer:!0},Ea={propertyName:"detailCellRenderer",cellRenderer:!0},Sa=function(){function t(){}return t.getFloatingFilterType=function(t){return this.filterToFloatingFilterMapping[t]},t.filterToFloatingFilterMapping={set:"agSetColumnFloatingFilter",agSetColumnFilter:"agSetColumnFloatingFilter",multi:"agMultiColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",group:"agGroupColumnFloatingFilter",agGroupColumnFilter:"agGroupColumnFloatingFilter",number:"agNumberColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",date:"agDateColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",text:"agTextColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"},t}(),wa=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),Oa=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},xa=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return wa(e,t),e.prototype.getHeaderCompDetails=function(t,e){return this.getCompDetails(t,aa,"agColumnHeader",e)},e.prototype.getHeaderGroupCompDetails=function(t){var e=t.columnGroup.getColGroupDef();return this.getCompDetails(e,la,"agColumnGroupHeader",t)},e.prototype.getFullWidthCellRendererDetails=function(t){return this.getCompDetails(this.gridOptions,_a,null,t,!0)},e.prototype.getFullWidthLoadingCellRendererDetails=function(t){return this.getCompDetails(this.gridOptions,Ca,"agLoadingCellRenderer",t,!0)},e.prototype.getFullWidthGroupCellRendererDetails=function(t){return this.getCompDetails(this.gridOptions,ba,"agGroupRowRenderer",t,!0)},e.prototype.getFullWidthDetailCellRendererDetails=function(t){return this.getCompDetails(this.gridOptions,Ea,"agDetailCellRenderer",t,!0)},e.prototype.getInnerRendererDetails=function(t,e){return this.getCompDetails(t,ha,null,e)},e.prototype.getFullWidthGroupRowInnerCellRenderer=function(t,e){return this.getCompDetails(t,ha,null,e)},e.prototype.getCellRendererDetails=function(t,e){return this.getCompDetails(t,ca,null,e)},e.prototype.getCellEditorDetails=function(t,e){return this.getCompDetails(t,ua,"agCellEditor",e,!0)},e.prototype.getFilterDetails=function(t,e,i){return this.getCompDetails(t,ga,i,e,!0)},e.prototype.getDateCompDetails=function(t){return this.getCompDetails(this.gridOptions,sa,"agDateInput",t,!0)},e.prototype.getLoadingOverlayCompDetails=function(t){return this.getCompDetails(this.gridOptions,da,"agLoadingOverlay",t,!0)},e.prototype.getNoRowsOverlayCompDetails=function(t){return this.getCompDetails(this.gridOptions,pa,"agNoRowsOverlay",t,!0)},e.prototype.getTooltipCompDetails=function(t){return this.getCompDetails(t.colDef,fa,"agTooltipComponent",t,!0)},e.prototype.getSetFilterCellRendererDetails=function(t,e){return this.getCompDetails(t,ca,null,e)},e.prototype.getFloatingFilterCompDetails=function(t,e,i){return this.getCompDetails(t,ma,i,e)},e.prototype.getToolPanelCompDetails=function(t,e){return this.getCompDetails(t,ya,null,e,!0)},e.prototype.getStatusPanelCompDetails=function(t,e){return this.getCompDetails(t,va,null,e,!0)},e.prototype.getCompDetails=function(t,e,i,o,n){var r=this;void 0===n&&(n=!1);var s=e.propertyName,a=e.cellRenderer,l=this.getCompKeys(t,e,o),c=l.compName,u=l.jsComp,h=l.fwComp,d=l.paramsFromSelector,p=l.popupFromSelector,f=l.popupPositionFromSelector,g=function(t){var e=r.userComponentRegistry.retrieve(s,t);e&&(u=e.componentFromFramework?void 0:e.component,h=e.componentFromFramework?e.component:void 0)};if(null!=c&&g(c),null==u&&null==h&&null!=i&&g(i),u&&a&&!this.agComponentUtils.doesImplementIComponent(u)&&(u=this.agComponentUtils.adaptFunction(s,u)),u||h){var m=this.mergeParamsWithApplicationProvidedParams(t,e,o,d),y=null==u,v=u||h;return{componentFromFramework:y,componentClass:v,params:m,type:e,popupFromSelector:p,popupPositionFromSelector:f,newAgStackInstance:function(){return r.newAgStackInstance(v,y,m,e)}}}n&&console.error("AG Grid: Could not find component "+c+", did you forget to configure this component?")},e.prototype.getCompKeys=function(t,e,i){var o,n,r,s,a,l,c=this,u=e.propertyName;if(t){var h=t,d=h[u+"Selector"],p=d?d(i):null,f=function(t,e){var i=function(){var t="AG Grid: As of v27, the property "+u+"Framework is deprecated. The property "+u+" can now be used for JavaScript AND Framework Components.";P((function(){return console.warn(t)}),"UserComponentFactory."+u+"FrameworkDeprecated")};if("string"==typeof t)o=t;else if("string"==typeof e)i(),o=e;else if(null!=t&&!0!==t){c.getFrameworkOverrides().isFrameworkComponent(t)?r=t:n=t}else null!=e&&(i(),r=e)};if(p){if(null!=p.frameworkComponent){var g="AG Grid: As of v27, the return for "+u+"Selector has attributes [component, params] only. The attribute frameworkComponent is deprecated. You should now return back Framework Components using the 'component' attribute and the grid works out if it's a framework component or not.";P((function(){return console.warn(g)}),"UserComponentFactory."+u+"FrameworkSelectorDeprecated"),f(p.frameworkComponent,void 0)}else f(p.component,void 0);s=p.params,a=p.popup,l=p.popupPosition}else f(h[u],h[u+"Framework"])}return{compName:o,jsComp:n,fwComp:r,paramsFromSelector:s,popupFromSelector:a,popupPositionFromSelector:l}},e.prototype.newAgStackInstance=function(t,e,i,o){var n,r=o.propertyName;if(!e)n=new t;else{var s=this.componentMetadataProvider.retrieve(r);n=this.frameworkComponentWrapper.wrap(t,s.mandatoryMethodList,s.optionalMethodList,o)}var a=this.initComponent(n,i);return null==a?sn.resolve(n):a.then((function(){return n}))},e.prototype.mergeParamsWithApplicationProvidedParams=function(t,e,i,o){void 0===o&&(o=null);var n={context:this.gridOptionsService.context,columnApi:this.gridOptionsService.columnApi,api:this.gridOptionsService.api};b(n,i);var r=t&&t[e.propertyName+"Params"];"function"==typeof r?b(n,r(i)):"object"==typeof r&&b(n,r);return b(n,o),n},e.prototype.initComponent=function(t,e){if(this.context.createBean(t),null!=t.init)return t.init(e)},e.prototype.getDefaultFloatingFilterType=function(t){if(null==t)return null;var e=null,i=this.getCompKeys(t,ga),o=i.compName,n=i.jsComp,r=i.fwComp;o?e=Sa.getFloatingFilterType(o):null==n&&null==r&&!0===t.filter&&(e=ot.isRegistered(J.SetFilterModule)?"agSetColumnFloatingFilter":"agTextColumnFloatingFilter");return e},Oa([K("gridOptions")],e.prototype,"gridOptions",void 0),Oa([K("agComponentUtils")],e.prototype,"agComponentUtils",void 0),Oa([K("componentMetadataProvider")],e.prototype,"componentMetadataProvider",void 0),Oa([K("userComponentRegistry")],e.prototype,"userComponentRegistry",void 0),Oa([Y("frameworkComponentWrapper")],e.prototype,"frameworkComponentWrapper",void 0),e=Oa([z("userComponentFactory")],e)}(jt);!function(t){t[t.SINGLE_SHEET=0]="SINGLE_SHEET",t[t.MULTI_SHEET=1]="MULTI_SHEET"}(As||(As={}));var Pa,Ta,Ma=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),Da=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},Aa=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dragEndFunctions=[],e.dragSources=[],e}return Ma(e,t),e.prototype.removeAllListeners=function(){this.dragSources.forEach(this.removeListener.bind(this)),this.dragSources.length=0},e.prototype.removeListener=function(t){var e=t.dragSource.eElement,i=t.mouseDownListener;if(e.removeEventListener("mousedown",i),t.touchEnabled){var o=t.touchStartListener;e.removeEventListener("touchstart",o,{passive:!0})}},e.prototype.removeDragSource=function(t){var e=this.dragSources.find((function(e){return e.dragSource===t}));e&&(this.removeListener(e),yt(this.dragSources,e))},e.prototype.isDragging=function(){return this.dragging},e.prototype.addDragSource=function(t,e){var i=this;void 0===e&&(e=!1);var o=this.onMouseDown.bind(this,t);t.eElement.addEventListener("mousedown",o);var n=null,r=this.gridOptionsService.is("suppressTouch");e&&!r&&(n=function(e){io(e.target)||(e.cancelable&&(e.preventDefault(),e.stopPropagation()),i.onTouchStart(t,e))},t.eElement.addEventListener("touchstart",n,{passive:!1})),this.dragSources.push({dragSource:t,mouseDownListener:o,touchStartListener:n,touchEnabled:e})},e.prototype.getStartTarget=function(){return this.startTarget},e.prototype.onTouchStart=function(t,e){var i=this;this.currentDragParams=t,this.dragging=!1;var o=e.touches[0];this.touchLastTime=o,this.touchStart=o;var n=function(e){return i.onTouchUp(e,t.eElement)},r=e.target,s=[{target:this.gridOptionsService.getRootNode(),type:"touchmove",listener:function(t){t.cancelable&&t.preventDefault()},options:{passive:!1}},{target:r,type:"touchmove",listener:function(e){return i.onTouchMove(e,t.eElement)},options:{passive:!0}},{target:r,type:"touchend",listener:n,options:{passive:!0}},{target:r,type:"touchcancel",listener:n,options:{passive:!0}}];this.addTemporaryEvents(s),0===t.dragStartPixels&&this.onCommonMove(o,this.touchStart,t.eElement)},e.prototype.onMouseDown=function(t,e){var i=this,o=e;if(!(t.skipMouseEvent&&t.skipMouseEvent(e)||o._alreadyProcessedByDragService||(o._alreadyProcessedByDragService=!0,0!==e.button))){this.currentDragParams=t,this.dragging=!1,this.mouseStartEvent=e,this.startTarget=e.target;var n=this.gridOptionsService.getRootNode(),r=[{target:n,type:"mousemove",listener:function(e){return i.onMouseMove(e,t.eElement)}},{target:n,type:"mouseup",listener:function(e){return i.onMouseUp(e,t.eElement)}},{target:n,type:"contextmenu",listener:function(t){return t.preventDefault()}}];this.addTemporaryEvents(r),0===t.dragStartPixels&&this.onMouseMove(e,t.eElement)}},e.prototype.addTemporaryEvents=function(t){t.forEach((function(t){var e=t.target,i=t.type,o=t.listener,n=t.options;e.addEventListener(i,o,n)})),this.dragEndFunctions.push((function(){t.forEach((function(t){var e=t.target,i=t.type,o=t.listener,n=t.options;e.removeEventListener(i,o,n)}))}))},e.prototype.isEventNearStartEvent=function(t,e){var i=this.currentDragParams.dragStartPixels;return Xo(t,e,n(i)?i:4)},e.prototype.getFirstActiveTouch=function(t){for(var e=0;e<t.length;e++)if(t[e].identifier===this.touchStart.identifier)return t[e];return null},e.prototype.onCommonMove=function(t,e,i){if(!this.dragging){if(!this.dragging&&this.isEventNearStartEvent(t,e))return;this.dragging=!0;var o={type:zt.EVENT_DRAG_STARTED,target:i};this.eventService.dispatchEvent(o),this.currentDragParams.onDragStart(e),this.currentDragParams.onDragging(e)}this.currentDragParams.onDragging(t)},e.prototype.onTouchMove=function(t,e){var i=this.getFirstActiveTouch(t.touches);i&&this.onCommonMove(i,this.touchStart,e)},e.prototype.onMouseMove=function(t,e){(this.gridOptionsService.is("enableCellTextSelection")||xi())&&"mousemove"===t.type&&t.cancelable&&this.mouseEventService.isEventFromThisGrid(t)&&!this.isOverFormFieldElement(t)&&t.preventDefault(),this.onCommonMove(t,this.mouseStartEvent,e)},e.prototype.isOverFormFieldElement=function(t){var e=t.target,i=null==e?void 0:e.tagName.toLocaleLowerCase();return!!(null==i?void 0:i.match("^a$|textarea|input|select|button"))},e.prototype.onTouchUp=function(t,e){var i=this.getFirstActiveTouch(t.changedTouches);i||(i=this.touchLastTime),this.onUpCommon(i,e)},e.prototype.onMouseUp=function(t,e){this.onUpCommon(t,e)},e.prototype.onUpCommon=function(t,e){if(this.dragging){this.dragging=!1,this.currentDragParams.onDragStop(t);var i={type:zt.EVENT_DRAG_STOPPED,target:e};this.eventService.dispatchEvent(i)}this.mouseStartEvent=null,this.startTarget=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null,this.dragEndFunctions.forEach((function(t){return t()})),this.dragEndFunctions.length=0},Da([K("mouseEventService")],e.prototype,"mouseEventService",void 0),Da([$],e.prototype,"removeAllListeners",null),e=Da([z("dragService")],e)}(jt);!function(t){t[t.Above=0]="Above",t[t.Below=1]="Below"}(Pa||(Pa={})),function(t){t.EVERYTHING="group",t.FILTER="filter",t.SORT="sort",t.MAP="map",t.AGGREGATE="aggregate",t.FILTER_AGGREGATES="filter_aggregates",t.PIVOT="pivot",t.NOTHING="nothing"}(Ta||(Ta={}));var Ra=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s};function La(t){var e=t;return null!=e&&null!=e.getFrameworkComponentInstance?e.getFrameworkComponentInstance():t}var Ia,Na=function(){function t(){this.detailGridInfoMap={},this.destroyCalled=!1}return t.prototype.registerOverlayWrapperComp=function(t){this.overlayWrapperComp=t},t.prototype.registerSideBarComp=function(t){this.sideBarComp=t},t.prototype.init=function(){var t=this;switch(this.rowModel.getType()){case"clientSide":this.clientSideRowModel=this.rowModel;break;case"infinite":this.infiniteRowModel=this.rowModel;break;case"serverSide":this.serverSideRowModel=this.rowModel}this.ctrlsService.whenReady((function(){t.gridBodyCtrl=t.ctrlsService.getGridBodyCtrl()}))},t.prototype.__getAlignedGridService=function(){return this.alignedGridsService},t.prototype.__getContext=function(){return this.context},t.prototype.getSetterMethod=function(t){return"set"+t.charAt(0).toUpperCase()+t.substring(1)},t.prototype.__setProperty=function(t,e){this.gridOptionsService.set(t,e);var i=this.getSetterMethod(t);this[i]&&this[i](e)},t.prototype.addDetailGridInfo=function(t,e){this.detailGridInfoMap[t]=e},t.prototype.removeDetailGridInfo=function(t){this.detailGridInfoMap[t]=void 0},t.prototype.getDetailGridInfo=function(t){return this.detailGridInfoMap[t]},t.prototype.forEachDetailGridInfo=function(t){var e=0;p(this.detailGridInfoMap,(function(i,o){n(o)&&(t(o,e),e++)}))},t.prototype.getDataAsCsv=function(t){if(ot.assertRegistered(J.CsvExportModule,"api.getDataAsCsv"))return this.csvCreator.getDataAsCsv(t)},t.prototype.exportDataAsCsv=function(t){ot.assertRegistered(J.CsvExportModule,"api.exportDataAsCSv")&&this.csvCreator.exportDataAsCsv(t)},t.prototype.getExcelExportMode=function(t){var e=this.gridOptionsService.get("defaultExcelExportParams");return Object.assign({exportMode:"xlsx"},e,t).exportMode},t.prototype.assertNotExcelMultiSheet=function(t,e){if(!ot.assertRegistered(J.ExcelExportModule,"api."+t))return!1;var i=this.getExcelExportMode(e);return this.excelCreator.getFactoryMode(i)!==As.MULTI_SHEET||(console.warn("AG Grid: The Excel Exporter is currently on Multi Sheet mode. End that operation by calling 'api.getMultipleSheetAsExcel()' or 'api.exportMultipleSheetsAsExcel()'"),!1)},t.prototype.getDataAsExcel=function(t){if(this.assertNotExcelMultiSheet("getDataAsExcel",t))return this.excelCreator.getDataAsExcel(t)},t.prototype.exportDataAsExcel=function(t){this.assertNotExcelMultiSheet("exportDataAsExcel",t)&&this.excelCreator.exportDataAsExcel(t)},t.prototype.getSheetDataForExcel=function(t){if(ot.assertRegistered(J.ExcelExportModule,"api.getSheetDataForExcel")){var e=this.getExcelExportMode(t);return this.excelCreator.setFactoryMode(As.MULTI_SHEET,e),this.excelCreator.getSheetDataForExcel(t)}},t.prototype.getMultipleSheetsAsExcel=function(t){if(ot.assertRegistered(J.ExcelExportModule,"api.getMultipleSheetsAsExcel"))return this.excelCreator.getMultipleSheetsAsExcel(t)},t.prototype.exportMultipleSheetsAsExcel=function(t){if(ot.assertRegistered(J.ExcelExportModule,"api.exportMultipleSheetsAsExcel"))return this.excelCreator.exportMultipleSheetsAsExcel(t)},t.prototype.setGridAriaProperty=function(t,e){if(t){var i=this.ctrlsService.getGridBodyCtrl().getGui(),o="aria-"+t;null===e?i.removeAttribute(o):i.setAttribute(o,e)}},t.prototype.logMissingRowModel=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];console.error("AG Grid: api."+t+" can only be called when gridOptions.rowModelType is "+e.join(" or "))},t.prototype.setServerSideDatasource=function(t){this.serverSideRowModel?this.serverSideRowModel.setDatasource(t):this.logMissingRowModel("setServerSideDatasource","serverSide")},t.prototype.setCacheBlockSize=function(t){this.serverSideRowModel?(this.gridOptionsService.set("cacheBlockSize",t),this.serverSideRowModel.resetRootStore()):this.logMissingRowModel("setCacheBlockSize","serverSide")},t.prototype.setDatasource=function(t){this.gridOptionsService.isRowModelType("infinite")?this.rowModel.setDatasource(t):this.logMissingRowModel("setDatasource","infinite")},t.prototype.setViewportDatasource=function(t){this.gridOptionsService.isRowModelType("viewport")?this.rowModel.setViewportDatasource(t):this.logMissingRowModel("setViewportDatasource","viewport")},t.prototype.setRowData=function(t){null==this.immutableService?this.logMissingRowModel("setRowData","clientSide"):this.immutableService.isActive()?this.immutableService.setRowData(t):(this.selectionService.reset(),this.clientSideRowModel.setRowData(t))},t.prototype.setPinnedTopRowData=function(t){this.pinnedRowModel.setPinnedTopRowData(t)},t.prototype.setPinnedBottomRowData=function(t){this.pinnedRowModel.setPinnedBottomRowData(t)},t.prototype.getPinnedTopRowCount=function(){return this.pinnedRowModel.getPinnedTopRowCount()},t.prototype.getPinnedBottomRowCount=function(){return this.pinnedRowModel.getPinnedBottomRowCount()},t.prototype.getPinnedTopRow=function(t){return this.pinnedRowModel.getPinnedTopRow(t)},t.prototype.getPinnedBottomRow=function(t){return this.pinnedRowModel.getPinnedBottomRow(t)},t.prototype.setColumnDefs=function(t,e){void 0===e&&(e="api"),this.columnModel.setColumnDefs(t,e),this.gridOptionsService.set("columnDefs",t,!0,{source:e})},t.prototype.setAutoGroupColumnDef=function(t,e){void 0===e&&(e="api"),this.gridOptionsService.set("autoGroupColumnDef",t,!0,{source:e})},t.prototype.setDefaultColDef=function(t,e){void 0===e&&(e="api"),this.gridOptionsService.set("defaultColDef",t,!0,{source:e})},t.prototype.setColumnTypes=function(t,e){void 0===e&&(e="api"),this.gridOptionsService.set("columnTypes",t,!0,{source:e})},t.prototype.expireValueCache=function(){this.valueCache.expire()},t.prototype.getVerticalPixelRange=function(){return this.gridBodyCtrl.getScrollFeature().getVScrollPosition()},t.prototype.getHorizontalPixelRange=function(){return this.gridBodyCtrl.getScrollFeature().getHScrollPosition()},t.prototype.setAlwaysShowHorizontalScroll=function(t){this.gridOptionsService.set("alwaysShowHorizontalScroll",t)},t.prototype.setAlwaysShowVerticalScroll=function(t){this.gridOptionsService.set("alwaysShowVerticalScroll",t)},t.prototype.refreshCells=function(t){void 0===t&&(t={}),this.rowRenderer.refreshCells(t)},t.prototype.flashCells=function(t){void 0===t&&(t={}),this.rowRenderer.flashCells(t)},t.prototype.redrawRows=function(t){void 0===t&&(t={});var e=t?t.rowNodes:void 0;this.rowRenderer.redrawRows(e)},t.prototype.setFunctionsReadOnly=function(t){this.gridOptionsService.set("functionsReadOnly",t)},t.prototype.refreshHeader=function(){this.ctrlsService.getHeaderRowContainerCtrls().forEach((function(t){return t.refresh()}))},t.prototype.isAnyFilterPresent=function(){return this.filterManager.isAnyFilterPresent()},t.prototype.isColumnFilterPresent=function(){return this.filterManager.isColumnFilterPresent()||this.filterManager.isAggregateFilterPresent()},t.prototype.isQuickFilterPresent=function(){return this.filterManager.isQuickFilterPresent()},t.prototype.getModel=function(){return this.rowModel},t.prototype.setRowNodeExpanded=function(t,e,i){t&&(i&&t.parent&&-1!==t.parent.level&&this.setRowNodeExpanded(t.parent,e,i),t.setExpanded(e))},t.prototype.onGroupExpandedOrCollapsed=function(){r(this.clientSideRowModel)?this.logMissingRowModel("onGroupExpandedOrCollapsed","clientSide"):this.clientSideRowModel.refreshModel({step:Ta.MAP})},t.prototype.refreshClientSideRowModel=function(t){r(this.clientSideRowModel)?this.logMissingRowModel("refreshClientSideRowModel","clientSide"):this.clientSideRowModel.refreshModel(t)},t.prototype.isAnimationFrameQueueEmpty=function(){return this.animationFrameService.isQueueEmpty()},t.prototype.flushAllAnimationFrames=function(){this.animationFrameService.flushAllFrames()},t.prototype.getRowNode=function(t){return this.rowModel.getRowNode(t)},t.prototype.getSizesForCurrentTheme=function(){return{rowHeight:this.gridOptionsService.getRowHeightAsNumber(),headerHeight:this.columnModel.getHeaderHeight()}},t.prototype.expandAll=function(){this.clientSideRowModel?this.clientSideRowModel.expandOrCollapseAll(!0):this.serverSideRowModel?this.serverSideRowModel.expandAll(!0):this.logMissingRowModel("expandAll","clientSide","serverSide")},t.prototype.collapseAll=function(){this.clientSideRowModel?this.clientSideRowModel.expandOrCollapseAll(!1):this.serverSideRowModel?this.serverSideRowModel.expandAll(!1):this.logMissingRowModel("expandAll","clientSide","serverSide")},t.prototype.addRenderedRowListener=function(t,e,i){this.rowRenderer.addRenderedRowListener(t,e,i)},t.prototype.getQuickFilter=function(){return this.gridOptionsService.get("quickFilterText")},t.prototype.setQuickFilter=function(t){this.gridOptionsService.set("quickFilterText",t)},t.prototype.setExcludeHiddenColumnsFromQuickFilter=function(t){this.gridOptionsService.set("excludeHiddenColumnsFromQuickFilter",t)},t.prototype.selectAll=function(t){void 0===t&&(t="apiSelectAll"),this.selectionService.selectAllRowNodes({source:t})},t.prototype.deselectAll=function(t){void 0===t&&(t="apiSelectAll"),this.selectionService.deselectAllRowNodes({source:t})},t.prototype.selectAllFiltered=function(t){void 0===t&&(t="apiSelectAllFiltered"),this.selectionService.selectAllRowNodes({source:t,justFiltered:!0})},t.prototype.deselectAllFiltered=function(t){void 0===t&&(t="apiSelectAllFiltered"),this.selectionService.deselectAllRowNodes({source:t,justFiltered:!0})},t.prototype.getServerSideSelectionState=function(){return r(this.serverSideRowModel)?(this.logMissingRowModel("getServerSideSelectionState","serverSide"),null):this.selectionService.getServerSideSelectionState()},t.prototype.setServerSideSelectionState=function(t){r(this.serverSideRowModel)?this.logMissingRowModel("setServerSideSelectionState","serverSide"):this.selectionService.setServerSideSelectionState(t)},t.prototype.selectAllOnCurrentPage=function(t){void 0===t&&(t="apiSelectAllCurrentPage"),this.selectionService.selectAllRowNodes({source:t,justCurrentPage:!0})},t.prototype.deselectAllOnCurrentPage=function(t){void 0===t&&(t="apiSelectAllCurrentPage"),this.selectionService.deselectAllRowNodes({source:t,justCurrentPage:!0})},t.prototype.sizeColumnsToFit=function(t){this.gridBodyCtrl.sizeColumnsToFit(t)},t.prototype.showLoadingOverlay=function(){this.overlayWrapperComp.showLoadingOverlay()},t.prototype.showNoRowsOverlay=function(){this.overlayWrapperComp.showNoRowsOverlay()},t.prototype.hideOverlay=function(){this.overlayWrapperComp.hideOverlay()},t.prototype.getSelectedNodes=function(){return this.selectionService.getSelectedNodes()},t.prototype.getSelectedRows=function(){return this.selectionService.getSelectedRows()},t.prototype.getBestCostNodeSelection=function(){if(!r(this.clientSideRowModel))return this.selectionService.getBestCostNodeSelection();this.logMissingRowModel("getBestCostNodeSelection","clientSide")},t.prototype.getRenderedNodes=function(){return this.rowRenderer.getRenderedNodes()},t.prototype.ensureColumnVisible=function(t,e){void 0===e&&(e="auto"),this.gridBodyCtrl.getScrollFeature().ensureColumnVisible(t,e)},t.prototype.ensureIndexVisible=function(t,e){this.gridBodyCtrl.getScrollFeature().ensureIndexVisible(t,e)},t.prototype.ensureNodeVisible=function(t,e){void 0===e&&(e=null),this.gridBodyCtrl.getScrollFeature().ensureNodeVisible(t,e)},t.prototype.forEachLeafNode=function(t){r(this.clientSideRowModel)?this.logMissingRowModel("forEachLeafNode","clientSide"):this.clientSideRowModel.forEachLeafNode(t)},t.prototype.forEachNode=function(t,e){this.rowModel.forEachNode(t,e)},t.prototype.forEachNodeAfterFilter=function(t){r(this.clientSideRowModel)?this.logMissingRowModel("forEachNodeAfterFilter","clientSide"):this.clientSideRowModel.forEachNodeAfterFilter(t)},t.prototype.forEachNodeAfterFilterAndSort=function(t){r(this.clientSideRowModel)?this.logMissingRowModel("forEachNodeAfterFilterAndSort","clientSide"):this.clientSideRowModel.forEachNodeAfterFilterAndSort(t)},t.prototype.getFilterInstance=function(t,e){var i=this.getFilterInstanceImpl(t,(function(t){if(e){var i=La(t);e(i)}}));return La(i)},t.prototype.getFilterInstanceImpl=function(t,e){var i=this.columnModel.getPrimaryColumn(t);if(i){var o=this.filterManager.getFilterComponent(i,"NO_UI"),n=o&&o.resolveNow(null,(function(t){return t}));return n?setTimeout(e,0,n):o&&o.then((function(t){e(t)})),n}},t.prototype.destroyFilter=function(t){var e=this.columnModel.getPrimaryColumn(t);if(e)return this.filterManager.destroyFilter(e,"api")},t.prototype.getStatusPanel=function(t){if(ot.assertRegistered(J.StatusBarModule,"api.getStatusPanel"))return La(this.statusBarService.getStatusPanel(t))},t.prototype.getColumnDef=function(t){var e=this.columnModel.getPrimaryColumn(t);return e?e.getColDef():null},t.prototype.getColumnDefs=function(){return this.columnModel.getColumnDefs()},t.prototype.onFilterChanged=function(){this.filterManager.onFilterChanged()},t.prototype.onSortChanged=function(){this.sortController.onSortChanged("api")},t.prototype.setFilterModel=function(t){this.filterManager.setFilterModel(t)},t.prototype.getFilterModel=function(){return this.filterManager.getFilterModel()},t.prototype.getFocusedCell=function(){return this.focusService.getFocusedCell()},t.prototype.clearFocusedCell=function(){return this.focusService.clearFocusedCell()},t.prototype.setFocusedCell=function(t,e,i){this.focusService.setFocusedCell({rowIndex:t,column:e,rowPinned:i,forceBrowserFocus:!0})},t.prototype.setSuppressRowDrag=function(t){this.gridOptionsService.set("suppressRowDrag",t)},t.prototype.setSuppressMoveWhenRowDragging=function(t){this.gridOptionsService.set("suppressMoveWhenRowDragging",t)},t.prototype.setSuppressRowClickSelection=function(t){this.gridOptionsService.set("suppressRowClickSelection",t)},t.prototype.addRowDropZone=function(t){this.gridBodyCtrl.getRowDragFeature().addRowDropZone(t)},t.prototype.removeRowDropZone=function(t){var e=this.dragAndDropService.findExternalZone(t);e&&this.dragAndDropService.removeDropTarget(e)},t.prototype.getRowDropZoneParams=function(t){return this.gridBodyCtrl.getRowDragFeature().getRowDropZone(t)},t.prototype.setHeaderHeight=function(t){this.gridOptionsService.set("headerHeight",t)},t.prototype.setDomLayout=function(t){this.clientSideRowModel||"autoHeight"!==t||this.gridOptionsService.is("pagination")?this.gridOptionsService.set("domLayout",t):console.error("AG Grid: domLayout can only be set to 'autoHeight' when using the client side row model or when using pagination.")},t.prototype.setEnableCellTextSelection=function(t){this.gridBodyCtrl.setCellTextSelection(t)},t.prototype.setFillHandleDirection=function(t){this.gridOptionsService.set("fillHandleDirection",t)},t.prototype.setGroupHeaderHeight=function(t){this.gridOptionsService.set("groupHeaderHeight",t)},t.prototype.setFloatingFiltersHeight=function(t){this.gridOptionsService.set("floatingFiltersHeight",t)},t.prototype.setPivotHeaderHeight=function(t){this.gridOptionsService.set("pivotHeaderHeight",t)},t.prototype.setPivotGroupHeaderHeight=function(t){this.gridOptionsService.set("pivotGroupHeaderHeight",t)},t.prototype.setPivotMode=function(t){this.columnModel.setPivotMode(t)},t.prototype.setAnimateRows=function(t){this.gridOptionsService.set("animateRows",t)},t.prototype.setIsExternalFilterPresent=function(t){this.gridOptionsService.set("isExternalFilterPresent",t)},t.prototype.setDoesExternalFilterPass=function(t){this.gridOptionsService.set("doesExternalFilterPass",t)},t.prototype.setNavigateToNextCell=function(t){this.gridOptionsService.set("navigateToNextCell",t)},t.prototype.setTabToNextCell=function(t){this.gridOptionsService.set("tabToNextCell",t)},t.prototype.setTabToNextHeader=function(t){this.gridOptionsService.set("tabToNextHeader",t)},t.prototype.setNavigateToNextHeader=function(t){this.gridOptionsService.set("navigateToNextHeader",t)},t.prototype.setRowGroupPanelShow=function(t){this.gridOptionsService.set("rowGroupPanelShow",t)},t.prototype.setGroupRowAggNodes=function(t){ae("27.2","setGroupRowAggNodes","setGetGroupRowAgg"),this.gridOptionsService.set("groupRowAggNodes",t)},t.prototype.setGetGroupRowAgg=function(t){this.gridOptionsService.set("getGroupRowAgg",t)},t.prototype.setGetBusinessKeyForNode=function(t){this.gridOptionsService.set("getBusinessKeyForNode",t)},t.prototype.setGetChildCount=function(t){this.gridOptionsService.set("getChildCount",t)},t.prototype.setProcessRowPostCreate=function(t){this.gridOptionsService.set("processRowPostCreate",t)},t.prototype.setGetRowNodeId=function(t){ae("27.1","setGetRowNodeId","setGetRowId"),this.gridOptionsService.set("getRowNodeId",t)},t.prototype.setGetRowId=function(t){this.gridOptionsService.set("getRowId",t)},t.prototype.setGetRowClass=function(t){this.gridOptionsService.set("getRowClass",t)},t.prototype.setIsFullWidthCell=function(t){ae("27.2","setIsFullWidthCell","setIsFullWidthRow"),this.gridOptionsService.set("isFullWidthCell",t)},t.prototype.setIsFullWidthRow=function(t){this.gridOptionsService.set("isFullWidthRow",t)},t.prototype.setIsRowSelectable=function(t){this.gridOptionsService.set("isRowSelectable",t)},t.prototype.setIsRowMaster=function(t){this.gridOptionsService.set("isRowMaster",t)},t.prototype.setPostSort=function(t){ae("27.2","setPostSort","setPostSortRows"),this.gridOptionsService.set("postSort",t)},t.prototype.setPostSortRows=function(t){this.gridOptionsService.set("postSortRows",t)},t.prototype.setGetDocument=function(t){this.gridOptionsService.set("getDocument",t)},t.prototype.setGetContextMenuItems=function(t){this.gridOptionsService.set("getContextMenuItems",t)},t.prototype.setGetMainMenuItems=function(t){this.gridOptionsService.set("getMainMenuItems",t)},t.prototype.setProcessCellForClipboard=function(t){this.gridOptionsService.set("processCellForClipboard",t)},t.prototype.setSendToClipboard=function(t){this.gridOptionsService.set("sendToClipboard",t)},t.prototype.setProcessCellFromClipboard=function(t){this.gridOptionsService.set("processCellFromClipboard",t)},t.prototype.setProcessSecondaryColDef=function(t){ae("28.0","setProcessSecondaryColDef","setProcessPivotResultColDef"),this.setProcessPivotResultColDef(t)},t.prototype.setProcessSecondaryColGroupDef=function(t){ae("28.0","setProcessSecondaryColGroupDef","setProcessPivotResultColGroupDef"),this.setProcessPivotResultColGroupDef(t)},t.prototype.setProcessPivotResultColDef=function(t){this.gridOptionsService.set("processPivotResultColDef",t)},t.prototype.setProcessPivotResultColGroupDef=function(t){this.gridOptionsService.set("processPivotResultColGroupDef",t)},t.prototype.setPostProcessPopup=function(t){this.gridOptionsService.set("postProcessPopup",t)},t.prototype.setDefaultGroupOrderComparator=function(t){ae("27.2","setDefaultGroupOrderComparator","setInitialGroupOrderComparator"),this.gridOptionsService.set("defaultGroupOrderComparator",t)},t.prototype.setInitialGroupOrderComparator=function(t){this.gridOptionsService.set("initialGroupOrderComparator",t)},t.prototype.setGetChartToolbarItems=function(t){this.gridOptionsService.set("getChartToolbarItems",t)},t.prototype.setPaginationNumberFormatter=function(t){this.gridOptionsService.set("paginationNumberFormatter",t)},t.prototype.setGetServerSideStoreParams=function(t){ae("28.0","setGetServerSideStoreParams","setGetServerSideGroupLevelParams"),this.setGetServerSideGroupLevelParams(t)},t.prototype.setGetServerSideGroupLevelParams=function(t){this.gridOptionsService.set("getServerSideGroupLevelParams",t)},t.prototype.setIsServerSideGroupOpenByDefault=function(t){this.gridOptionsService.set("isServerSideGroupOpenByDefault",t)},t.prototype.setIsApplyServerSideTransaction=function(t){this.gridOptionsService.set("isApplyServerSideTransaction",t)},t.prototype.setIsServerSideGroup=function(t){this.gridOptionsService.set("isServerSideGroup",t)},t.prototype.setGetServerSideGroupKey=function(t){this.gridOptionsService.set("getServerSideGroupKey",t)},t.prototype.setGetRowStyle=function(t){this.gridOptionsService.set("getRowStyle",t)},t.prototype.setGetRowHeight=function(t){this.gridOptionsService.set("getRowHeight",t)},t.prototype.assertSideBarLoaded=function(t){return ot.assertRegistered(J.SideBarModule,"api."+t)},t.prototype.isSideBarVisible=function(){return this.assertSideBarLoaded("isSideBarVisible")&&this.sideBarComp.isDisplayed()},t.prototype.setSideBarVisible=function(t){this.assertSideBarLoaded("setSideBarVisible")&&this.sideBarComp.setDisplayed(t)},t.prototype.setSideBarPosition=function(t){this.assertSideBarLoaded("setSideBarPosition")&&this.sideBarComp.setSideBarPosition(t)},t.prototype.openToolPanel=function(t){this.assertSideBarLoaded("openToolPanel")&&this.sideBarComp.openToolPanel(t,"api")},t.prototype.closeToolPanel=function(){this.assertSideBarLoaded("closeToolPanel")&&this.sideBarComp.close("api")},t.prototype.getOpenedToolPanel=function(){return this.assertSideBarLoaded("getOpenedToolPanel")?this.sideBarComp.openedItem():null},t.prototype.refreshToolPanel=function(){this.assertSideBarLoaded("refreshToolPanel")&&this.sideBarComp.refresh()},t.prototype.isToolPanelShowing=function(){return this.assertSideBarLoaded("isToolPanelShowing")&&this.sideBarComp.isToolPanelShowing()},t.prototype.getToolPanelInstance=function(t){if(this.assertSideBarLoaded("getToolPanelInstance"))return La(this.sideBarComp.getToolPanelInstance(t))},t.prototype.getSideBar=function(){if(this.assertSideBarLoaded("getSideBar"))return this.sideBarComp.getDef()},t.prototype.setSideBar=function(t){this.gridOptionsService.set("sideBar",t)},t.prototype.setSuppressClipboardPaste=function(t){this.gridOptionsService.set("suppressClipboardPaste",t)},t.prototype.resetRowHeights=function(){if(n(this.clientSideRowModel)){if(this.columnModel.isAutoRowHeightActive())return void console.warn("AG Grid: calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.");this.clientSideRowModel.resetRowHeights()}},t.prototype.setGroupRemoveSingleChildren=function(t){this.gridOptionsService.set("groupRemoveSingleChildren",t)},t.prototype.setGroupRemoveLowestSingleChildren=function(t){this.gridOptionsService.set("groupRemoveLowestSingleChildren",t)},t.prototype.setGroupDisplayType=function(t){this.gridOptionsService.set("groupDisplayType",t)},t.prototype.setRowClass=function(t){this.gridOptionsService.set("rowClass",t)},t.prototype.setDeltaSort=function(t){this.gridOptionsService.set("deltaSort",t)},t.prototype.setRowCount=function(t,e){if(this.serverSideRowModel)return this.columnModel.isRowGroupEmpty()?void this.serverSideRowModel.setRowCount(t,e):void console.error("AG Grid: setRowCount cannot be used while using row grouping.");this.infiniteRowModel?this.infiniteRowModel.setRowCount(t,e):this.logMissingRowModel("setRowCount","infinite","serverSide")},t.prototype.onRowHeightChanged=function(){this.clientSideRowModel?this.clientSideRowModel.onRowHeightChanged():this.serverSideRowModel&&this.serverSideRowModel.onRowHeightChanged()},t.prototype.getValue=function(t,e){var i=this.columnModel.getPrimaryColumn(t);return r(i)&&(i=this.columnModel.getGridColumn(t)),r(i)?null:this.valueService.getValue(i,e)},t.prototype.addEventListener=function(t,e){var i=this.gridOptionsService.useAsyncEvents();this.eventService.addEventListener(t,e,i)},t.prototype.addGlobalListener=function(t){var e=this.gridOptionsService.useAsyncEvents();this.eventService.addGlobalListener(t,e)},t.prototype.removeEventListener=function(t,e){var i=this.gridOptionsService.useAsyncEvents();this.eventService.removeEventListener(t,e,i)},t.prototype.removeGlobalListener=function(t){var e=this.gridOptionsService.useAsyncEvents();this.eventService.removeGlobalListener(t,e)},t.prototype.dispatchEvent=function(t){this.eventService.dispatchEvent(t)},t.prototype.destroy=function(){if(!this.destroyCalled){this.destroyCalled=!0;var t=this.ctrlsService.getGridCtrl();t&&t.destroyGridUi(),this.context.destroy()}},t.prototype.cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid=function(){setTimeout(S.bind(window,this,"Grid API"),100)},t.prototype.warnIfDestroyed=function(t){return this.destroyCalled&&console.warn("AG Grid: Grid API method "+t+" was called on a grid that was destroyed."),this.destroyCalled},t.prototype.resetQuickFilter=function(){this.warnIfDestroyed("resetQuickFilter")||this.filterManager.resetQuickFilterCache()},t.prototype.getCellRanges=function(){return this.rangeService?this.rangeService.getCellRanges():(ot.assertRegistered(J.RangeSelectionModule,"api.getCellRanges"),null)},t.prototype.addCellRange=function(t){this.rangeService?this.rangeService.addCellRange(t):ot.assertRegistered(J.RangeSelectionModule,"api.addCellRange")},t.prototype.clearRangeSelection=function(){this.rangeService&&this.rangeService.removeAllCellRanges(),ot.assertRegistered(J.RangeSelectionModule,"gridApi.clearRangeSelection")},t.prototype.undoCellEditing=function(){this.undoRedoService.undo("api")},t.prototype.redoCellEditing=function(){this.undoRedoService.redo("api")},t.prototype.getCurrentUndoSize=function(){return this.undoRedoService.getCurrentUndoStackSize()},t.prototype.getCurrentRedoSize=function(){return this.undoRedoService.getCurrentRedoStackSize()},t.prototype.getChartModels=function(){if(ot.assertRegistered(J.GridChartsModule,"api.getChartModels"))return this.chartService.getChartModels()},t.prototype.getChartRef=function(t){if(ot.assertRegistered(J.GridChartsModule,"api.getChartRef"))return this.chartService.getChartRef(t)},t.prototype.getChartImageDataURL=function(t){if(ot.assertRegistered(J.GridChartsModule,"api.getChartImageDataURL"))return this.chartService.getChartImageDataURL(t)},t.prototype.downloadChart=function(t){if(ot.assertRegistered(J.GridChartsModule,"api.downloadChart"))return this.chartService.downloadChart(t)},t.prototype.openChartToolPanel=function(t){if(ot.assertRegistered(J.GridChartsModule,"api.openChartToolPanel"))return this.chartService.openChartToolPanel(t)},t.prototype.closeChartToolPanel=function(t){if(ot.assertRegistered(J.GridChartsModule,"api.closeChartToolPanel"))return this.chartService.closeChartToolPanel(t.chartId)},t.prototype.createRangeChart=function(t){if(ot.assertRegistered(J.GridChartsModule,"api.createRangeChart"))return this.chartService.createRangeChart(t)},t.prototype.createCrossFilterChart=function(t){if(ot.assertRegistered(J.GridChartsModule,"api.createCrossFilterChart"))return this.chartService.createCrossFilterChart(t)},t.prototype.restoreChart=function(t,e){if(ot.assertRegistered(J.GridChartsModule,"api.restoreChart"))return this.chartService.restoreChart(t,e)},t.prototype.createPivotChart=function(t){if(ot.assertRegistered(J.GridChartsModule,"api.createPivotChart"))return this.chartService.createPivotChart(t)},t.prototype.copyToClipboard=function(t){ot.assertRegistered(J.ClipboardModule,"api.copyToClipboard")&&this.clipboardService.copyToClipboard(t)},t.prototype.cutToClipboard=function(t){ot.assertRegistered(J.ClipboardModule,"api.cutToClipboard")&&this.clipboardService.cutToClipboard(t)},t.prototype.copySelectedRowsToClipboard=function(t){ot.assertRegistered(J.ClipboardModule,"api.copySelectedRowsToClipboard")&&this.clipboardService.copySelectedRowsToClipboard(t)},t.prototype.copySelectedRangeToClipboard=function(t){ot.assertRegistered(J.ClipboardModule,"api.copySelectedRangeToClipboard")&&this.clipboardService.copySelectedRangeToClipboard(t)},t.prototype.copySelectedRangeDown=function(){ot.assertRegistered(J.ClipboardModule,"api.copySelectedRangeDown")&&this.clipboardService.copyRangeDown()},t.prototype.showColumnMenuAfterButtonClick=function(t,e){var i=this.columnModel.getGridColumn(t);this.menuFactory.showMenuAfterButtonClick(i,e,"columnMenu")},t.prototype.showColumnMenuAfterMouseClick=function(t,e){var i=this.columnModel.getGridColumn(t);i||(i=this.columnModel.getPrimaryColumn(t)),i?this.menuFactory.showMenuAfterMouseEvent(i,e):console.error("AG Grid: column '"+t+"' not found")},t.prototype.hidePopupMenu=function(){this.contextMenuFactory&&this.contextMenuFactory.hideActiveMenu(),this.menuFactory.hideActiveMenu()},t.prototype.setPopupParent=function(t){this.gridOptionsService.set("popupParent",t)},t.prototype.tabToNextCell=function(t){return this.navigationService.tabToNextCell(!1,t)},t.prototype.tabToPreviousCell=function(t){return this.navigationService.tabToNextCell(!0,t)},t.prototype.getCellRendererInstances=function(t){return void 0===t&&(t={}),this.rowRenderer.getCellRendererInstances(t).map(La)},t.prototype.getCellEditorInstances=function(t){return void 0===t&&(t={}),this.rowRenderer.getCellEditorInstances(t).map(La)},t.prototype.getEditingCells=function(){return this.rowRenderer.getEditingCells()},t.prototype.stopEditing=function(t){void 0===t&&(t=!1),this.rowRenderer.stopEditing(t)},t.prototype.startEditingCell=function(t){var e=this.columnModel.getGridColumn(t.colKey);if(e){var i={rowIndex:t.rowIndex,rowPinned:t.rowPinned||null,column:e};null==t.rowPinned&&this.gridBodyCtrl.getScrollFeature().ensureIndexVisible(t.rowIndex);var o=this.navigationService.getCellByPosition(i);o&&o.startRowOrCellEdit(t.key,t.charPress)}else console.warn("AG Grid: no column found for "+t.colKey)},t.prototype.addAggFunc=function(t,e){this.aggFuncService&&this.aggFuncService.addAggFunc(t,e)},t.prototype.addAggFuncs=function(t){this.aggFuncService&&this.aggFuncService.addAggFuncs(t)},t.prototype.clearAggFuncs=function(){this.aggFuncService&&this.aggFuncService.clear()},t.prototype.applyServerSideTransaction=function(t){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.applyTransaction(t);this.logMissingRowModel("applyServerSideTransaction","serverSide")},t.prototype.applyServerSideTransactionAsync=function(t,e){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.applyTransactionAsync(t,e);this.logMissingRowModel("applyServerSideTransactionAsync","serverSide")},t.prototype.retryServerSideLoads=function(){this.serverSideRowModel?this.serverSideRowModel.retryLoads():this.logMissingRowModel("retryServerSideLoads","serverSide")},t.prototype.flushServerSideAsyncTransactions=function(){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.flushAsyncTransactions();this.logMissingRowModel("flushServerSideAsyncTransactions","serverSide")},t.prototype.applyTransaction=function(t){if(this.clientSideRowModel){var e=this.clientSideRowModel.updateRowData(t);return this.gridOptionsService.is("suppressChangeDetection")||this.rowRenderer.refreshCells(),e}this.logMissingRowModel("applyTransaction","clientSide")},t.prototype.applyTransactionAsync=function(t,e){this.clientSideRowModel?this.clientSideRowModel.batchUpdateRowData(t,e):this.logMissingRowModel("applyTransactionAsync","clientSide")},t.prototype.flushAsyncTransactions=function(){this.clientSideRowModel?this.clientSideRowModel.flushAsyncTransactions():this.logMissingRowModel("flushAsyncTransactions","clientSide")},t.prototype.setSuppressModelUpdateAfterUpdateTransaction=function(t){this.gridOptionsService.set("suppressModelUpdateAfterUpdateTransaction",t)},t.prototype.refreshInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.refreshCache():this.logMissingRowModel("refreshInfiniteCache","infinite")},t.prototype.purgeInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.purgeCache():this.logMissingRowModel("purgeInfiniteCache","infinite")},t.prototype.refreshServerSide=function(t){this.serverSideRowModel?this.serverSideRowModel.refreshStore(t):this.logMissingRowModel("refreshServerSide","serverSide")},t.prototype.refreshServerSideStore=function(t){return ae("28.0","refreshServerSideStore","refreshServerSide"),this.refreshServerSide(t)},t.prototype.getServerSideStoreState=function(){return ae("28.0","getServerSideStoreState","getServerSideGroupLevelState"),this.getServerSideGroupLevelState()},t.prototype.getServerSideGroupLevelState=function(){return this.serverSideRowModel?this.serverSideRowModel.getStoreState():(this.logMissingRowModel("getServerSideGroupLevelState","serverSide"),[])},t.prototype.getInfiniteRowCount=function(){if(this.infiniteRowModel)return this.infiniteRowModel.getRowCount();this.logMissingRowModel("getInfiniteRowCount","infinite")},t.prototype.isLastRowIndexKnown=function(){if(this.infiniteRowModel)return this.infiniteRowModel.isLastRowIndexKnown();this.logMissingRowModel("isLastRowIndexKnown","infinite")},t.prototype.getCacheBlockState=function(){return this.rowNodeBlockLoader.getBlockState()},t.prototype.getFirstDisplayedRow=function(){return this.rowRenderer.getFirstVirtualRenderedRow()},t.prototype.getLastDisplayedRow=function(){return this.rowRenderer.getLastVirtualRenderedRow()},t.prototype.getDisplayedRowAtIndex=function(t){return this.rowModel.getRow(t)},t.prototype.getDisplayedRowCount=function(){return this.rowModel.getRowCount()},t.prototype.setPagination=function(t){this.clientSideRowModel||"autoHeight"!==this.gridOptionsService.get("domLayout")||t?this.gridOptionsService.set("pagination",t):console.error("AG Grid: Pagination cannot be disabled when using domLayout set to 'autoHeight' unless using the client-side row model.")},t.prototype.paginationIsLastPageFound=function(){return this.paginationProxy.isLastPageFound()},t.prototype.paginationGetPageSize=function(){return this.paginationProxy.getPageSize()},t.prototype.paginationSetPageSize=function(t){this.gridOptionsService.set("paginationPageSize",t)},t.prototype.paginationGetCurrentPage=function(){return this.paginationProxy.getCurrentPage()},t.prototype.paginationGetTotalPages=function(){return this.paginationProxy.getTotalPages()},t.prototype.paginationGetRowCount=function(){return this.paginationProxy.getMasterRowCount()},t.prototype.paginationGoToNextPage=function(){this.paginationProxy.goToNextPage()},t.prototype.paginationGoToPreviousPage=function(){this.paginationProxy.goToPreviousPage()},t.prototype.paginationGoToFirstPage=function(){this.paginationProxy.goToFirstPage()},t.prototype.paginationGoToLastPage=function(){this.paginationProxy.goToLastPage()},t.prototype.paginationGoToPage=function(t){this.paginationProxy.goToPage(t)},Ra([Y("immutableService")],t.prototype,"immutableService",void 0),Ra([Y("csvCreator")],t.prototype,"csvCreator",void 0),Ra([Y("excelCreator")],t.prototype,"excelCreator",void 0),Ra([K("rowRenderer")],t.prototype,"rowRenderer",void 0),Ra([K("navigationService")],t.prototype,"navigationService",void 0),Ra([K("filterManager")],t.prototype,"filterManager",void 0),Ra([K("columnModel")],t.prototype,"columnModel",void 0),Ra([K("selectionService")],t.prototype,"selectionService",void 0),Ra([K("gridOptionsService")],t.prototype,"gridOptionsService",void 0),Ra([K("valueService")],t.prototype,"valueService",void 0),Ra([K("alignedGridsService")],t.prototype,"alignedGridsService",void 0),Ra([K("eventService")],t.prototype,"eventService",void 0),Ra([K("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),Ra([K("context")],t.prototype,"context",void 0),Ra([K("rowModel")],t.prototype,"rowModel",void 0),Ra([K("sortController")],t.prototype,"sortController",void 0),Ra([K("paginationProxy")],t.prototype,"paginationProxy",void 0),Ra([K("focusService")],t.prototype,"focusService",void 0),Ra([K("dragAndDropService")],t.prototype,"dragAndDropService",void 0),Ra([Y("rangeService")],t.prototype,"rangeService",void 0),Ra([Y("clipboardService")],t.prototype,"clipboardService",void 0),Ra([Y("aggFuncService")],t.prototype,"aggFuncService",void 0),Ra([K("menuFactory")],t.prototype,"menuFactory",void 0),Ra([Y("contextMenuFactory")],t.prototype,"contextMenuFactory",void 0),Ra([K("valueCache")],t.prototype,"valueCache",void 0),Ra([K("animationFrameService")],t.prototype,"animationFrameService",void 0),Ra([Y("statusBarService")],t.prototype,"statusBarService",void 0),Ra([Y("chartService")],t.prototype,"chartService",void 0),Ra([Y("undoRedoService")],t.prototype,"undoRedoService",void 0),Ra([Y("rowNodeBlockLoader")],t.prototype,"rowNodeBlockLoader",void 0),Ra([Y("ssrmTransactionManager")],t.prototype,"serverSideTransactionManager",void 0),Ra([K("ctrlsService")],t.prototype,"ctrlsService",void 0),Ra([H],t.prototype,"init",null),Ra([$],t.prototype,"cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid",null),t=Ra([z("gridApi")],t)}(),ka=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),Fa=function(){return Fa=Object.assign||function(t){for(var e,i=1,o=arguments.length;i<o;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},Fa.apply(this,arguments)},Ba=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},Ga=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.allColumnFilters=new Map,e.activeAggregateFilters=[],e.activeColumnFilters=[],e.quickFilter=null,e.quickFilterParts=null,e.processingFilterChange=!1,e}var i;return ka(e,t),i=e,e.prototype.init=function(){var t=this;this.addManagedListener(this.eventService,zt.EVENT_GRID_COLUMNS_CHANGED,(function(){return t.onColumnsChanged()})),this.addManagedListener(this.eventService,zt.EVENT_COLUMN_VALUE_CHANGED,(function(){return t.refreshFiltersForAggregations()})),this.addManagedListener(this.eventService,zt.EVENT_COLUMN_PIVOT_CHANGED,(function(){return t.refreshFiltersForAggregations()})),this.addManagedListener(this.eventService,zt.EVENT_COLUMN_PIVOT_MODE_CHANGED,(function(){t.refreshFiltersForAggregations(),t.resetQuickFilterCache()})),this.addManagedListener(this.eventService,zt.EVENT_NEW_COLUMNS_LOADED,(function(){return t.resetQuickFilterCache()})),this.addManagedListener(this.eventService,zt.EVENT_COLUMN_ROW_GROUP_CHANGED,(function(){return t.resetQuickFilterCache()})),this.addManagedListener(this.eventService,zt.EVENT_COLUMN_VISIBLE,(function(){t.gridOptionsService.is("excludeHiddenColumnsFromQuickFilter")&&t.resetQuickFilterCache()})),this.addManagedPropertyListener("quickFilterText",(function(e){return t.setQuickFilter(e.currentValue)})),this.addManagedPropertyListener("excludeHiddenColumnsFromQuickFilter",(function(){return t.onExcludeHiddenColumnsFromQuickFilterChanged()})),this.quickFilter=this.parseQuickFilter(this.gridOptionsService.get("quickFilterText")),this.setQuickFilterParts(),this.allowShowChangeAfterFilter=this.gridOptionsService.is("allowShowChangeAfterFilter"),this.externalFilterPresent=this.isExternalFilterPresentCallback()},e.prototype.isExternalFilterPresentCallback=function(){var t=this.gridOptionsService.getCallback("isExternalFilterPresent");return"function"==typeof t&&t({})},e.prototype.doesExternalFilterPass=function(t){var e=this.gridOptionsService.get("doesExternalFilterPass");return"function"==typeof e&&e(t)},e.prototype.setQuickFilterParts=function(){this.quickFilterParts=this.quickFilter?this.quickFilter.split(" "):null},e.prototype.setFilterModel=function(t){var e=this,i=[],o=this.getFilterModel();if(t){var n=Jo(Object.keys(t));this.allColumnFilters.forEach((function(o,r){var s=t[r];i.push(e.setModelOnFilterWrapper(o.filterPromise,s)),n.delete(r)})),n.forEach((function(o){var n=e.columnModel.getPrimaryColumn(o)||e.columnModel.getGridColumn(o);if(n)if(n.isFilterAllowed()){var r=e.getOrCreateFilterWrapper(n,"NO_UI");r?i.push(e.setModelOnFilterWrapper(r.filterPromise,t[o])):console.warn("AG-Grid: setFilterModel() - unable to fully apply model, unable to create filter for colId: "+o)}else console.warn("AG Grid: setFilterModel() - unable to fully apply model, filtering disabled for colId: "+o);else console.warn("AG Grid: setFilterModel() - no column found for colId: "+o)}))}else this.allColumnFilters.forEach((function(t){i.push(e.setModelOnFilterWrapper(t.filterPromise,null))}));sn.all(i).then((function(){var t=e.getFilterModel(),i=[];e.allColumnFilters.forEach((function(e,n){var r=o?o[n]:null,s=t?t[n]:null;on.jsonEquals(r,s)||i.push(e.column)})),i.length>0&&e.onFilterChanged({columns:i})}))},e.prototype.setModelOnFilterWrapper=function(t,e){return new sn((function(i){t.then((function(t){"function"!=typeof t.setModel&&(console.warn("AG Grid: filter missing setModel method, which is needed for setFilterModel"),i()),(t.setModel(e)||sn.resolve()).then((function(){return i()}))}))}))},e.prototype.getFilterModel=function(){var t={};return this.allColumnFilters.forEach((function(e,i){var o=e.filterPromise.resolveNow(null,(function(t){return t}));if(null==o)return null;if("function"==typeof o.getModel){var r=o.getModel();n(r)&&(t[i]=r)}else console.warn("AG Grid: filter API missing getModel method, which is needed for getFilterModel")})),t},e.prototype.isColumnFilterPresent=function(){return this.activeColumnFilters.length>0},e.prototype.isAggregateFilterPresent=function(){return!!this.activeAggregateFilters.length},e.prototype.isExternalFilterPresent=function(){return this.externalFilterPresent},e.prototype.doAggregateFiltersPass=function(t,e){return this.doColumnFiltersPass(t,e,!0)},e.prototype.updateActiveFilters=function(){var t=this;this.activeColumnFilters.length=0,this.activeAggregateFilters.length=0;var e=function(t){return!!t&&(t.isFilterActive?t.isFilterActive():(console.warn("AG Grid: Filter is missing isFilterActive() method"),!1))},i=!!this.gridOptionsService.getGroupAggFiltering();this.allColumnFilters.forEach((function(o){if(o.filterPromise.resolveNow(!1,e)){var n=o.filterPromise.resolveNow(null,(function(t){return t}));!function(e){if(!e.isPrimary())return!0;var o=!t.columnModel.isPivotActive();return!(!e.isValueActive()||!o)&&(!!t.columnModel.isPivotMode()||i)}(o.column)?t.activeColumnFilters.push(n):t.activeAggregateFilters.push(n)}}))},e.prototype.updateFilterFlagInColumns=function(t,e){this.allColumnFilters.forEach((function(i){var o=i.filterPromise.resolveNow(!1,(function(t){return t.isFilterActive()}));i.column.setFilterActive(o,t,e)}))},e.prototype.isAnyFilterPresent=function(){return this.isQuickFilterPresent()||this.isColumnFilterPresent()||this.isAggregateFilterPresent()||this.isExternalFilterPresent()},e.prototype.doColumnFiltersPass=function(t,e,i){for(var o=t.data,n=t.aggData,r=i?this.activeAggregateFilters:this.activeColumnFilters,s=i?n:o,a=0;a<r.length;a++){var l=r[a];if(null!=l&&l!==e){if("function"!=typeof l.doesFilterPass)throw new Error("Filter is missing method doesFilterPass");if(!l.doesFilterPass({node:t,data:s}))return!1}}return!0},e.prototype.parseQuickFilter=function(t){return n(t)?this.gridOptionsService.isRowModelType("clientSide")?t.toUpperCase():(console.warn("AG Grid - Quick filtering only works with the Client-Side Row Model"),null):null},e.prototype.setQuickFilter=function(t){if(null==t||"string"==typeof t){var e=this.parseQuickFilter(t);this.quickFilter!==e&&(this.quickFilter=e,this.setQuickFilterParts(),this.onFilterChanged())}else console.warn("AG Grid - setQuickFilter() only supports string inputs, received: "+typeof t)},e.prototype.resetQuickFilterCache=function(){this.rowModel.forEachNode((function(t){return t.quickFilterAggregateText=null}))},e.prototype.onExcludeHiddenColumnsFromQuickFilterChanged=function(){this.columnModel.refreshQuickFilterColumns(),this.resetQuickFilterCache(),this.isQuickFilterPresent()&&this.onFilterChanged()},e.prototype.refreshFiltersForAggregations=function(){this.gridOptionsService.getGroupAggFiltering()&&this.onFilterChanged()},e.prototype.callOnFilterChangedOutsideRenderCycle=function(t){var e=this;void 0===t&&(t={});var i=function(){return e.onFilterChanged(t)};this.rowRenderer.isRefreshInProgress()?setTimeout(i,0):i()},e.prototype.onFilterChanged=function(t){void 0===t&&(t={});var e=t.filterInstance,i=t.additionalEventAttributes,o=t.columns;this.updateDependantFilters(),this.updateActiveFilters(),this.updateFilterFlagInColumns("filterChanged",i),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.allColumnFilters.forEach((function(t){t.filterPromise&&t.filterPromise.then((function(t){t&&t!==e&&t.onAnyFilterChanged&&t.onAnyFilterChanged()}))}));var n={type:zt.EVENT_FILTER_CHANGED,columns:o||[]};i&&b(n,i),this.processingFilterChange=!0,this.eventService.dispatchEvent(n),this.processingFilterChange=!1},e.prototype.isSuppressFlashingCellsBecauseFiltering=function(){return!this.allowShowChangeAfterFilter&&this.processingFilterChange},e.prototype.isQuickFilterPresent=function(){return null!==this.quickFilter},e.prototype.doesRowPassOtherFilters=function(t,e){return this.doesRowPassFilter({rowNode:e,filterInstanceToSkip:t})},e.prototype.doesRowPassQuickFilterNoCache=function(t,e){var i=this;return this.columnModel.getAllColumnsForQuickFilter().some((function(o){var r=i.getQuickFilterTextForColumn(o,t);return n(r)&&r.indexOf(e)>=0}))},e.prototype.doesRowPassQuickFilterCache=function(t,e){return t.quickFilterAggregateText||this.aggregateRowForQuickFilter(t),t.quickFilterAggregateText.indexOf(e)>=0},e.prototype.doesRowPassQuickFilter=function(t){var e=this,i=this.gridOptionsService.is("cacheQuickFilter");return this.quickFilterParts.every((function(o){return i?e.doesRowPassQuickFilterCache(t,o):e.doesRowPassQuickFilterNoCache(t,o)}))},e.prototype.doesRowPassAggregateFilters=function(t){return!(this.isAggregateFilterPresent()&&!this.doAggregateFiltersPass(t.rowNode,t.filterInstanceToSkip))},e.prototype.doesRowPassFilter=function(t){return!(this.isQuickFilterPresent()&&!this.doesRowPassQuickFilter(t.rowNode))&&(!(this.isExternalFilterPresent()&&!this.doesExternalFilterPass(t.rowNode))&&!(this.isColumnFilterPresent()&&!this.doColumnFiltersPass(t.rowNode,t.filterInstanceToSkip)))},e.prototype.getQuickFilterTextForColumn=function(t,e){var i=this.valueService.getValue(t,e,!0),o=t.getColDef();if(o.getQuickFilterText){var r={value:i,node:e,data:e.data,column:t,colDef:o,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};i=o.getQuickFilterText(r)}return n(i)?i.toString().toUpperCase():null},e.prototype.aggregateRowForQuickFilter=function(t){var e=this,o=[];this.columnModel.getAllColumnsForQuickFilter().forEach((function(i){var r=e.getQuickFilterTextForColumn(i,t);n(r)&&o.push(r)})),t.quickFilterAggregateText=o.join(i.QUICK_FILTER_SEPARATOR)},e.prototype.onNewRowsLoaded=function(t){this.allColumnFilters.forEach((function(t){t.filterPromise.then((function(t){t.onNewRowsLoaded&&t.onNewRowsLoaded()}))})),this.updateFilterFlagInColumns(t,{afterDataChange:!0}),this.updateActiveFilters()},e.prototype.createValueGetter=function(t){var e=this;return function(i){var o=i.node;return e.valueService.getValue(t,o,!0)}},e.prototype.getFilterComponent=function(t,e,i){var o;if(void 0===i&&(i=!0),i)return(null===(o=this.getOrCreateFilterWrapper(t,e))||void 0===o?void 0:o.filterPromise)||null;var n=this.cachedFilter(t);return n?n.filterPromise:null},e.prototype.isFilterActive=function(t){var e=this.cachedFilter(t);return!!e&&e.filterPromise.resolveNow(!1,(function(t){return t.isFilterActive()}))},e.prototype.getOrCreateFilterWrapper=function(t,e){if(!t.isFilterAllowed())return null;var i=this.cachedFilter(t);return i?"NO_UI"!==e&&this.putIntoGui(i,e):(i=this.createFilterWrapper(t,e),this.allColumnFilters.set(t.getColId(),i)),i},e.prototype.cachedFilter=function(t){return this.allColumnFilters.get(t.getColId())},e.prototype.createFilterInstance=function(t){var e,i=this,o=ot.isRegistered(J.SetFilterModule)?"agSetColumnFilter":"agTextColumnFilter",n=t.getColDef(),r=Fa(Fa({},this.createFilterParams(t,n)),{filterModifiedCallback:function(){var o={type:zt.EVENT_FILTER_MODIFIED,column:t,filterInstance:e};i.eventService.dispatchEvent(o)},filterChangedCallback:function(o){var n={filterInstance:e,additionalEventAttributes:o,columns:[t]};i.callOnFilterChangedOutsideRenderCycle(n)},doesRowPassOtherFilter:function(t){return i.doesRowPassOtherFilters(e,t)}}),s=this.userComponentFactory.getFilterDetails(n,r,o);if(!s)return null;var a=s.newAgStackInstance();return a&&a.then((function(t){return e=t})),a},e.prototype.createFilterParams=function(t,e){return{column:t,colDef:f(e),rowModel:this.rowModel,filterChangedCallback:function(){},filterModifiedCallback:function(){},valueGetter:this.createValueGetter(t),doesRowPassOtherFilter:function(){return!0},api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context}},e.prototype.createFilterWrapper=function(t,e){var i={column:t,filterPromise:null,compiledElement:null,guiPromise:sn.resolve(null)};return i.filterPromise=this.createFilterInstance(t),i.filterPromise&&this.putIntoGui(i,e),i},e.prototype.putIntoGui=function(t,e){var i=this,o=document.createElement("div");o.className="ag-filter",t.guiPromise=new sn((function(r){t.filterPromise.then((function(s){var a=s.getGui();n(a)||console.warn("AG Grid: getGui method from filter returned "+a+", it should be a DOM element or an HTML template string."),"string"==typeof a&&(a=_o(a)),o.appendChild(a),r(o);var l={type:zt.EVENT_FILTER_OPENED,column:t.column,source:e,eGui:o};i.eventService.dispatchEvent(l)}))}))},e.prototype.onColumnsChanged=function(){var t=this,e=[];this.allColumnFilters.forEach((function(i,o){(i.column.isPrimary()?t.columnModel.getPrimaryColumn(o):t.columnModel.getGridColumn(o))||(e.push(i.column),t.disposeFilterWrapper(i,"columnChanged"))})),e.length>0?this.onFilterChanged({columns:e}):this.updateDependantFilters()},e.prototype.updateDependantFilters=function(){var t=this,e=this.columnModel.getGroupAutoColumns();null==e||e.forEach((function(e){"agGroupColumnFilter"===e.getColDef().filter&&t.getOrCreateFilterWrapper(e,"NO_UI")}))},e.prototype.isFilterAllowed=function(t){var e,i;if(!t.isFilterAllowed())return!1;var o=this.allColumnFilters.get(t.getColId());return null===(i=null===(e=null==o?void 0:o.filterPromise)||void 0===e?void 0:e.resolveNow(!0,(function(t){var e,i;return"function"!=typeof(null===(e=t)||void 0===e?void 0:e.isFilterAllowed)||(null===(i=t)||void 0===i?void 0:i.isFilterAllowed())})))||void 0===i||i},e.prototype.getFloatingFilterCompDetails=function(t,e){var i=this,o=t.getColDef(),n=this.createFilterParams(t,o),r=this.userComponentFactory.mergeParamsWithApplicationProvidedParams(o,ga,n),s=this.userComponentFactory.getDefaultFloatingFilterType(o);null==s&&(s="agReadOnlyFloatingFilter");var a={column:t,filterParams:r,currentParentModel:function(){return i.getCurrentFloatingFilterParentModel(t)},parentFilterInstance:function(e){var o=i.getFilterComponent(t,"NO_UI");null!=o&&o.then((function(t){e(La(t))}))},showParentFilter:e,suppressFilterButton:!1};return this.userComponentFactory.getFloatingFilterCompDetails(o,a,s)},e.prototype.getCurrentFloatingFilterParentModel=function(t){var e=this.getFilterComponent(t,"NO_UI",!1);return e?e.resolveNow(null,(function(t){return t&&t.getModel()})):null},e.prototype.destroyFilter=function(t,e){void 0===e&&(e="api");var i=this.allColumnFilters.get(t.getColId());i&&(this.disposeFilterWrapper(i,e),this.onFilterChanged({columns:[t]}))},e.prototype.disposeFilterWrapper=function(t,e){var i=this;t.filterPromise.then((function(o){(o.setModel(null)||sn.resolve()).then((function(){i.getContext().destroyBean(o),t.column.setFilterActive(!1,"filterDestroyed"),i.allColumnFilters.delete(t.column.getColId());var n={type:zt.EVENT_FILTER_DESTROYED,source:e,column:t.column};i.eventService.dispatchEvent(n)}))}))},e.prototype.destroy=function(){var e=this;t.prototype.destroy.call(this),this.allColumnFilters.forEach((function(t){return e.disposeFilterWrapper(t,"gridDestroyed")}))},e.QUICK_FILTER_SEPARATOR="\n",Ba([K("valueService")],e.prototype,"valueService",void 0),Ba([K("columnModel")],e.prototype,"columnModel",void 0),Ba([K("rowModel")],e.prototype,"rowModel",void 0),Ba([K("userComponentFactory")],e.prototype,"userComponentFactory",void 0),Ba([K("rowRenderer")],e.prototype,"rowRenderer",void 0),Ba([H],e.prototype,"init",null),e=i=Ba([z("filterManager")],e)}(jt),ja=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),Va=function(t){function e(e,i){var o=t.call(this,e)||this;return o.ctrl=i,o}return ja(e,t),e.prototype.getCtrl=function(){return this.ctrl},e}(gn),Ua=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),Wa=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},Ha=function(t){function e(i){return t.call(this,e.TEMPLATE,i)||this}return Ua(e,t),e.prototype.postConstruct=function(){var t=this,e=this.getGui(),i={addOrRemoveCssClass:function(e,i){return t.addOrRemoveCssClass(e,i)},addOrRemoveBodyCssClass:function(e,i){return t.eFloatingFilterBody.classList.toggle(e,i)},setButtonWrapperDisplayed:function(e){return oo(t.eButtonWrapper,e)},setCompDetails:function(e){return t.setCompDetails(e)},getFloatingFilterComp:function(){return t.compPromise},setWidth:function(t){return e.style.width=t},setMenuIcon:function(e){return t.eButtonShowMainFilter.appendChild(e)}};this.ctrl.setComp(i,e,this.eButtonShowMainFilter,this.eFloatingFilterBody)},e.prototype.setCompDetails=function(t){var e=this;this.compPromise=t.newAgStackInstance(),this.compPromise.then((function(t){return e.afterCompCreated(t)}))},e.prototype.afterCompCreated=function(t){var e=this;t&&(this.addDestroyFunc((function(){return e.context.destroyBean(t)})),this.isAlive()&&(this.eFloatingFilterBody.appendChild(t.getGui()),t.afterGuiAttached&&t.afterGuiAttached()))},e.TEMPLATE='<div class="ag-header-cell ag-floating-filter" role="gridcell" tabindex="-1">\n            <div ref="eFloatingFilterBody" role="presentation"></div>\n            <div class="ag-floating-filter-button ag-hidden" ref="eButtonWrapper" role="presentation">\n                <button type="button" aria-label="Open Filter Menu" class="ag-floating-filter-button-button" ref="eButtonShowMainFilter" tabindex="-1"></button>\n            </div>\n        </div>',Wa([mn("eFloatingFilterBody")],e.prototype,"eFloatingFilterBody",void 0),Wa([mn("eButtonWrapper")],e.prototype,"eButtonWrapper",void 0),Wa([mn("eButtonShowMainFilter")],e.prototype,"eButtonShowMainFilter",void 0),Wa([H],e.prototype,"postConstruct",null),e}(Va),$a=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),za=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s};!function(t){t.AUTO_HEIGHT="ag-layout-auto-height",t.NORMAL="ag-layout-normal",t.PRINT="ag-layout-print"}(Ia||(Ia={}));var Ka,Ya=function(t){function e(e){var i=t.call(this)||this;return i.view=e,i}return $a(e,t),e.prototype.postConstruct=function(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()},e.prototype.updateLayoutClasses=function(){var t=this.getDomLayout(),e={autoHeight:"autoHeight"===t,normal:"normal"===t,print:"print"===t},i=e.autoHeight?Ia.AUTO_HEIGHT:e.print?Ia.PRINT:Ia.NORMAL;this.view.updateLayoutClasses(i,e)},e.prototype.getDomLayout=function(){var t,e=null!==(t=this.gridOptionsService.get("domLayout"))&&void 0!==t?t:"normal";return-1===["normal","print","autoHeight"].indexOf(e)?(P((function(){return console.warn("AG Grid: "+e+" is not valid for DOM Layout, valid values are 'normal', 'autoHeight', 'print'.")}),"warn about dom layout values"),"normal"):e},za([H],e.prototype,"postConstruct",null),e}(jt),Xa=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),Za=function(){return Za=Object.assign||function(t){for(var e,i=1,o=arguments.length;i<o;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},Za.apply(this,arguments)},qa=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},Ja=function(t){function e(e){var i=t.call(this)||this;return i.scrollLeft=-1,i.nextScrollTop=-1,i.scrollTop=-1,i.eBodyViewport=e,i.resetLastHScrollDebounced=N((function(){return i.eLastHScroll=null}),500),i.resetLastVScrollDebounced=N((function(){return i.eLastVScroll=null}),500),i}return Xa(e,t),e.prototype.postConstruct=function(){var t=this;this.enableRtl=this.gridOptionsService.is("enableRtl"),this.addManagedListener(this.eventService,zt.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this)),this.ctrlsService.whenReady((function(e){t.centerRowContainerCtrl=e.centerRowContainerCtrl,t.onDisplayedColumnsWidthChanged(),t.addScrollListener()}))},e.prototype.addScrollListener=function(){var t=this.ctrlsService.getFakeHScrollComp(),e=this.ctrlsService.getFakeVScrollComp();this.addManagedListener(this.centerRowContainerCtrl.getViewportElement(),"scroll",this.onHScroll.bind(this)),this.addManagedListener(t.getViewport(),"scroll",this.onFakeHScroll.bind(this));var i=this.gridOptionsService.is("debounceVerticalScrollbar"),o=i?N(this.onVScroll.bind(this),100):this.onVScroll.bind(this),n=i?N(this.onFakeVScroll.bind(this),100):this.onFakeVScroll.bind(this);this.addManagedListener(this.eBodyViewport,"scroll",o),this.addManagedListener(e.getViewport(),"scroll",n)},e.prototype.onDisplayedColumnsWidthChanged=function(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()},e.prototype.horizontallyScrollHeaderCenterAndFloatingCenter=function(t){if(!(null==this.centerRowContainerCtrl)){void 0===t&&(t=this.centerRowContainerCtrl.getCenterViewportScrollLeft());var e=this.enableRtl?t:-t,i=this.ctrlsService.getTopCenterRowContainerCtrl(),o=this.ctrlsService.getStickyTopCenterRowContainerCtrl(),n=this.ctrlsService.getBottomCenterRowContainerCtrl(),r=this.ctrlsService.getFakeHScrollComp();this.ctrlsService.getHeaderRowContainerCtrl().setHorizontalScroll(-e),n.setContainerTranslateX(e),i.setContainerTranslateX(e),o.setContainerTranslateX(e);var s=this.centerRowContainerCtrl.getViewportElement();go(this.eLastHScroll===s?r.getViewport():this.centerRowContainerCtrl.getViewportElement(),Math.abs(t),this.enableRtl)}},e.prototype.isControllingHScroll=function(t){return this.eLastHScroll?t===this.eLastHScroll:(this.eLastHScroll=t,!0)},e.prototype.isControllingVScroll=function(t){return this.eLastVScroll?t===this.eLastVScroll:(this.eLastVScroll=t,!0)},e.prototype.onFakeHScroll=function(){var t=this.ctrlsService.getFakeHScrollComp().getViewport();this.isControllingHScroll(t)&&this.onHScrollCommon(t)},e.prototype.onHScroll=function(){var t=this.centerRowContainerCtrl.getViewportElement();this.isControllingHScroll(t)&&this.onHScrollCommon(t)},e.prototype.onHScrollCommon=function(t){var e=this.centerRowContainerCtrl.getViewportElement().scrollLeft;this.shouldBlockScrollUpdate("horizontal",e,!0)||(this.doHorizontalScroll(Math.round(fo(t,this.enableRtl))),this.resetLastHScrollDebounced())},e.prototype.onFakeVScroll=function(){var t=this.ctrlsService.getFakeVScrollComp().getViewport();this.isControllingVScroll(t)&&this.onVScrollCommon(t)},e.prototype.onVScroll=function(){this.isControllingVScroll(this.eBodyViewport)&&this.onVScrollCommon(this.eBodyViewport)},e.prototype.onVScrollCommon=function(t){var e=t.scrollTop;if(!this.shouldBlockScrollUpdate("vertical",e,!0)){if(this.animationFrameService.setScrollTop(e),this.nextScrollTop=e,t===this.eBodyViewport)this.ctrlsService.getFakeVScrollComp().getViewport().scrollTop=e;else this.eBodyViewport.scrollTop=e;this.gridOptionsService.is("suppressAnimationFrame")?this.scrollGridIfNeeded():this.animationFrameService.schedule(),this.resetLastVScrollDebounced()}},e.prototype.doHorizontalScroll=function(t){var e=fo(this.ctrlsService.getFakeHScrollComp().getViewport(),this.enableRtl);this.scrollLeft===t&&t===e||(this.scrollLeft=t,this.fireScrollEvent("horizontal"),this.horizontallyScrollHeaderCenterAndFloatingCenter(t),this.onHorizontalViewportChanged())},e.prototype.fireScrollEvent=function(t){var e=this,i={type:zt.EVENT_BODY_SCROLL,direction:t,left:this.scrollLeft,top:this.scrollTop};this.eventService.dispatchEvent(i),window.clearTimeout(this.scrollTimer),this.scrollTimer=void 0,this.scrollTimer=window.setTimeout((function(){var t=Za(Za({},i),{type:zt.EVENT_BODY_SCROLL_END});e.eventService.dispatchEvent(t)}),100)},e.prototype.shouldBlockScrollUpdate=function(t,e,i){return void 0===i&&(i=!1),!(i&&!Ai())&&("vertical"===t?this.shouldBlockVerticalScroll(e):this.shouldBlockHorizontalScroll(e))},e.prototype.shouldBlockVerticalScroll=function(t){var e=lo(this.eBodyViewport),i=this.eBodyViewport.scrollHeight;return t<0||t+e>i},e.prototype.shouldBlockHorizontalScroll=function(t){var e=this.centerRowContainerCtrl.getCenterWidth(),i=this.centerRowContainerCtrl.getViewportElement().scrollWidth;if(this.enableRtl&&po()){if(t>0)return!0}else if(t<0)return!0;return Math.abs(t)+e>i},e.prototype.redrawRowsAfterScroll=function(){this.fireScrollEvent("vertical")},e.prototype.onHorizontalViewportChanged=function(){this.centerRowContainerCtrl.onHorizontalViewportChanged()},e.prototype.checkScrollLeft=function(){this.scrollLeft!==this.centerRowContainerCtrl.getCenterViewportScrollLeft()&&this.onHScrollCommon(this.centerRowContainerCtrl.getViewportElement())},e.prototype.scrollGridIfNeeded=function(){var t=this.scrollTop!=this.nextScrollTop;return t&&(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()),t},e.prototype.setHorizontalScrollPosition=function(t){var e=this.centerRowContainerCtrl.getViewportElement().scrollWidth-this.centerRowContainerCtrl.getCenterWidth();this.shouldBlockScrollUpdate("horizontal",t)&&(t=this.enableRtl&&po()?t>0?0:e:Math.min(Math.max(t,0),e)),go(this.centerRowContainerCtrl.getViewportElement(),Math.abs(t),this.enableRtl),this.doHorizontalScroll(t)},e.prototype.setVerticalScrollPosition=function(t){this.eBodyViewport.scrollTop=t},e.prototype.getVScrollPosition=function(){return{top:this.eBodyViewport.scrollTop,bottom:this.eBodyViewport.scrollTop+this.eBodyViewport.offsetHeight}},e.prototype.getHScrollPosition=function(){return this.centerRowContainerCtrl.getHScrollPosition()},e.prototype.isHorizontalScrollShowing=function(){return this.centerRowContainerCtrl.isHorizontalScrollShowing()},e.prototype.scrollHorizontally=function(t){var e=this.centerRowContainerCtrl.getViewportElement().scrollLeft;return this.setHorizontalScrollPosition(e+t),this.centerRowContainerCtrl.getViewportElement().scrollLeft-e},e.prototype.scrollToTop=function(){this.eBodyViewport.scrollTop=0},e.prototype.ensureNodeVisible=function(t,e){void 0===e&&(e=null);for(var i=this.rowModel.getRowCount(),o=-1,n=0;n<i;n++){var r=this.rowModel.getRow(n);if("function"==typeof t){if(r&&t(r)){o=n;break}}else if(t===r||t===r.data){o=n;break}}o>=0&&this.ensureIndexVisible(o,e)},e.prototype.ensureIndexVisible=function(t,e){if(!this.gridOptionsService.isDomLayout("print")){var i=this.paginationProxy.getRowCount();if("number"!=typeof t||t<0||t>=i)console.warn("AG Grid: Invalid row index for ensureIndexVisible: "+t);else{this.gridOptionsService.is("pagination")&&!this.gridOptionsService.is("suppressPaginationPanel")||this.paginationProxy.goToPageWithIndex(t);var o,n=this.ctrlsService.getGridBodyCtrl().getStickyTopHeight(),r=this.paginationProxy.getRow(t);do{var s=r.rowTop,a=r.rowHeight,l=this.paginationProxy.getPixelOffset(),c=r.rowTop-l,u=c+r.rowHeight,h=this.getVScrollPosition(),d=this.heightScaler.getDivStretchOffset(),p=h.top+d,f=h.bottom+d,g=f-p,m=this.heightScaler.getScrollPositionForPixel(c),y=this.heightScaler.getScrollPositionForPixel(u-g),v=Math.min((m+y)/2,c),_=null;"top"===e?_=m:"bottom"===e?_=y:"middle"===e?_=v:p+n>c?_=m-n:f<u&&(_=y),null!==_&&(this.eBodyViewport.scrollTop=_,this.rowRenderer.redrawAfterScroll()),o=s!==r.rowTop||a!==r.rowHeight}while(o);this.animationFrameService.flushAllFrames()}}},e.prototype.ensureColumnVisible=function(t,e){void 0===e&&(e="auto");var i=this.columnModel.getGridColumn(t);if(i&&!i.isPinned()&&this.columnModel.isColumnDisplayed(i)){var o=this.getPositionedHorizontalScroll(i,e);null!==o&&this.centerRowContainerCtrl.setCenterViewportScrollLeft(o),this.centerRowContainerCtrl.onHorizontalViewportChanged(),this.animationFrameService.flushAllFrames()}},e.prototype.getPositionedHorizontalScroll=function(t,e){var i=this.isColumnOutsideViewport(t),o=i.columnBeforeStart,n=i.columnAfterEnd,r=this.centerRowContainerCtrl.getCenterWidth()<t.getActualWidth(),s=this.centerRowContainerCtrl.getCenterWidth(),a=this.enableRtl,l=(a?o:n)||r,c=a?n:o;"auto"!==e&&(l="start"===e,c="end"===e);var u="middle"===e;if(l||c||u){var h=this.getColumnBounds(t),d=h.colLeft,p=h.colMiddle,f=h.colRight;return u?p-s/2:l?a?f:d:a?d-s:f-s}return null},e.prototype.isColumnOutsideViewport=function(t){var e=this.getViewportBounds(),i=e.start,o=e.end,n=this.getColumnBounds(t),r=n.colLeft,s=n.colRight,a=this.enableRtl;return{columnBeforeStart:a?i>s:o<s,columnAfterEnd:a?o<r:i>r}},e.prototype.getColumnBounds=function(t){var e=this.enableRtl,i=this.columnModel.getBodyContainerWidth(),o=t.getActualWidth(),n=t.getLeft(),r=e?-1:1,s=e?i-n:n;return{colLeft:s,colMiddle:s+o/2*r,colRight:s+o*r}},e.prototype.getViewportBounds=function(){var t=this.centerRowContainerCtrl.getCenterWidth(),e=this.centerRowContainerCtrl.getCenterViewportScrollLeft();return{start:e,end:t+e,width:t}},qa([K("ctrlsService")],e.prototype,"ctrlsService",void 0),qa([K("animationFrameService")],e.prototype,"animationFrameService",void 0),qa([K("paginationProxy")],e.prototype,"paginationProxy",void 0),qa([K("rowModel")],e.prototype,"rowModel",void 0),qa([K("rowContainerHeightService")],e.prototype,"heightScaler",void 0),qa([K("rowRenderer")],e.prototype,"rowRenderer",void 0),qa([K("columnModel")],e.prototype,"columnModel",void 0),qa([H],e.prototype,"postConstruct",null),e}(jt),Qa=function(){function t(t){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=t.scrollContainer,this.scrollHorizontally=-1!==t.scrollAxis.indexOf("x"),this.scrollVertically=-1!==t.scrollAxis.indexOf("y"),this.scrollByTick=null!=t.scrollByTick?t.scrollByTick:20,t.onScrollCallback&&(this.onScrollCallback=t.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=t.getVerticalPosition,this.setVerticalPosition=t.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=t.getHorizontalPosition,this.setHorizontalPosition=t.setHorizontalPosition),this.shouldSkipVerticalScroll=t.shouldSkipVerticalScroll||function(){return!1},this.shouldSkipHorizontalScroll=t.shouldSkipHorizontalScroll||function(){return!1}}return t.prototype.check=function(t,e){void 0===e&&(e=!1);var i=e||this.shouldSkipVerticalScroll();if(!i||!this.shouldSkipHorizontalScroll()){var o=this.scrollContainer.getBoundingClientRect(),n=this.scrollByTick;this.tickLeft=t.clientX<o.left+n,this.tickRight=t.clientX>o.right-n,this.tickUp=t.clientY<o.top+n&&!i,this.tickDown=t.clientY>o.bottom-n&&!i,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}},t.prototype.ensureTickingStarted=function(){null===this.tickingInterval&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)},t.prototype.doTick=function(){var t;if(this.tickCount++,t=this.tickCount>20?200:this.tickCount>10?80:40,this.scrollVertically){var e=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(e-t),this.tickDown&&this.setVerticalPosition(e+t)}if(this.scrollHorizontally){var i=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(i-t),this.tickRight&&this.setHorizontalPosition(i+t)}this.onScrollCallback&&this.onScrollCallback()},t.prototype.ensureCleared=function(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)},t}(),tl=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),el=function(){return el=Object.assign||function(t){for(var e,i=1,o=arguments.length;i<o;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},el.apply(this,arguments)},il=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},ol=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,n,r=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return s},nl=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(ol(arguments[e]));return t},rl=function(t){function e(e){var i=t.call(this)||this;return i.isMultiRowDrag=!1,i.isGridSorted=!1,i.isGridFiltered=!1,i.isRowGroupActive=!1,i.eContainer=e,i}return tl(e,t),e.prototype.postConstruct=function(){var t=this;this.gridOptionsService.isRowModelType("clientSide")&&(this.clientSideRowModel=this.rowModel);var e=function(){t.onSortChanged(),t.onFilterChanged(),t.onRowGroupChanged()};this.addManagedListener(this.eventService,zt.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,zt.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,zt.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,zt.EVENT_MODEL_UPDATED,(function(){e()})),e(),this.ctrlsService.whenReady((function(){var e=t.ctrlsService.getGridBodyCtrl();t.autoScrollService=new Qa({scrollContainer:e.getBodyViewportElement(),scrollAxis:"y",getVerticalPosition:function(){return e.getScrollFeature().getVScrollPosition().top},setVerticalPosition:function(t){return e.getScrollFeature().setVerticalScrollPosition(t)},onScrollCallback:function(){t.onDragging(t.lastDraggingEvent)}})}))},e.prototype.onSortChanged=function(){this.isGridSorted=this.sortController.isSortActive()},e.prototype.onFilterChanged=function(){this.isGridFiltered=this.filterManager.isAnyFilterPresent()},e.prototype.onRowGroupChanged=function(){var t=this.columnModel.getRowGroupColumns();this.isRowGroupActive=!s(t)},e.prototype.getContainer=function(){return this.eContainer},e.prototype.isInterestedIn=function(t){return t===Rr.RowDrag},e.prototype.getIconName=function(){return this.gridOptionsService.is("rowDragManaged")&&this.shouldPreventRowMove()?Rs.ICON_NOT_ALLOWED:Rs.ICON_MOVE},e.prototype.shouldPreventRowMove=function(){return this.isGridSorted||this.isGridFiltered||this.isRowGroupActive},e.prototype.getRowNodes=function(t){var e=this;if(!this.isFromThisGrid(t))return t.dragItem.rowNodes||[];var i=this.gridOptionsService.is("rowDragMultiRow"),o=nl(this.selectionService.getSelectedNodes()).sort((function(t,i){return null==t.rowIndex||null==i.rowIndex?0:e.getRowIndexNumber(t)-e.getRowIndexNumber(i)})),n=t.dragItem.rowNode;return i&&-1!==o.indexOf(n)?(this.isMultiRowDrag=!0,o):(this.isMultiRowDrag=!1,[n])},e.prototype.onDragEnter=function(t){t.dragItem.rowNodes=this.getRowNodes(t),this.dispatchGridEvent(zt.EVENT_ROW_DRAG_ENTER,t),this.getRowNodes(t).forEach((function(t){t.setDragging(!0)})),this.onEnterOrDragging(t)},e.prototype.onDragging=function(t){this.onEnterOrDragging(t)},e.prototype.isFromThisGrid=function(t){return t.dragSource.dragSourceDomDataKey===this.gridOptionsService.getDomDataKey()},e.prototype.isDropZoneWithinThisGrid=function(t){var e=this.ctrlsService.getGridBodyCtrl().getGui(),i=t.dropZoneTarget;return!e.contains(i)},e.prototype.onEnterOrDragging=function(t){this.dispatchGridEvent(zt.EVENT_ROW_DRAG_MOVE,t),this.lastDraggingEvent=t;var e=this.mouseEventService.getNormalisedPosition(t).y;this.gridOptionsService.is("rowDragManaged")&&this.doManagedDrag(t,e),this.autoScrollService.check(t.event)},e.prototype.doManagedDrag=function(t,e){var i=this.isFromThisGrid(t),o=this.gridOptionsService.is("rowDragManaged"),n=t.dragItem.rowNodes;o&&this.shouldPreventRowMove()||(this.gridOptionsService.is("suppressMoveWhenRowDragging")||!i?this.isDropZoneWithinThisGrid(t)||this.clientSideRowModel.highlightRowAtPixel(n[0],e):this.moveRows(n,e))},e.prototype.getRowIndexNumber=function(t){return parseInt(ft(t.getRowIndexString().split("-")),10)},e.prototype.moveRowAndClearHighlight=function(t){var e=this,i=this.clientSideRowModel.getLastHighlightedRowNode(),o=i&&i.highlighted===Pa.Below,n=this.mouseEventService.getNormalisedPosition(t).y,r=t.dragItem.rowNodes,s=o?1:0;if(this.isFromThisGrid(t))r.forEach((function(t){t.rowTop<n&&(s-=1)})),this.moveRows(r,n,s);else{var a=this.gridOptionsService.getRowIdFunc(),l=this.clientSideRowModel.getRowIndexAtPixel(n)+1;this.clientSideRowModel.getHighlightPosition(n)===Pa.Above&&l--,this.clientSideRowModel.updateRowData({add:r.map((function(t){return t.data})).filter((function(t){return!e.clientSideRowModel.getRowNode(a?a({data:t,level:0}):t.id)})),addIndex:l})}this.clearRowHighlight()},e.prototype.clearRowHighlight=function(){this.clientSideRowModel.highlightRowAtPixel(null)},e.prototype.moveRows=function(t,e,i){void 0===i&&(i=0),this.clientSideRowModel.ensureRowsAtPixel(t,e,i)&&(this.focusService.clearFocusedCell(),this.rangeService&&this.rangeService.removeAllCellRanges())},e.prototype.addRowDropZone=function(t){var e=this;if(t.getContainer())if(this.dragAndDropService.findExternalZone(t))console.warn("AG Grid: addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.");else{var i={getContainer:t.getContainer};t.fromGrid?(t.fromGrid=void 0,i=t):(t.onDragEnter&&(i.onDragEnter=function(i){t.onDragEnter(e.draggingToRowDragEvent(zt.EVENT_ROW_DRAG_ENTER,i))}),t.onDragLeave&&(i.onDragLeave=function(i){t.onDragLeave(e.draggingToRowDragEvent(zt.EVENT_ROW_DRAG_LEAVE,i))}),t.onDragging&&(i.onDragging=function(i){t.onDragging(e.draggingToRowDragEvent(zt.EVENT_ROW_DRAG_MOVE,i))}),t.onDragStop&&(i.onDragStop=function(i){t.onDragStop(e.draggingToRowDragEvent(zt.EVENT_ROW_DRAG_END,i))})),this.dragAndDropService.addDropTarget(el({isInterestedIn:function(t){return t===Rr.RowDrag},getIconName:function(){return Rs.ICON_MOVE},external:!0},i))}else P((function(){return console.warn("AG Grid: addRowDropZone - A container target needs to be provided")}),"add-drop-zone-empty-target")},e.prototype.getRowDropZone=function(t){var e=this,i=this.getContainer.bind(this),o=this.onDragEnter.bind(this),n=this.onDragLeave.bind(this),r=this.onDragging.bind(this),s=this.onDragStop.bind(this);return t?{getContainer:i,onDragEnter:t.onDragEnter?function(i){o(i),t.onDragEnter(e.draggingToRowDragEvent(zt.EVENT_ROW_DRAG_ENTER,i))}:o,onDragLeave:t.onDragLeave?function(i){n(i),t.onDragLeave(e.draggingToRowDragEvent(zt.EVENT_ROW_DRAG_LEAVE,i))}:n,onDragging:t.onDragging?function(i){r(i),t.onDragging(e.draggingToRowDragEvent(zt.EVENT_ROW_DRAG_MOVE,i))}:r,onDragStop:t.onDragStop?function(i){s(i),t.onDragStop(e.draggingToRowDragEvent(zt.EVENT_ROW_DRAG_END,i))}:s,fromGrid:!0}:{getContainer:i,onDragEnter:o,onDragLeave:n,onDragging:r,onDragStop:s,fromGrid:!0}},e.prototype.draggingToRowDragEvent=function(t,e){var i,o,n=this.mouseEventService.getNormalisedPosition(e).y,r=-1;switch(n>this.paginationProxy.getCurrentPageHeight()||(r=this.rowModel.getRowIndexAtPixel(n),i=this.rowModel.getRow(r)),e.vDirection){case Lr.Down:o="down";break;case Lr.Up:o="up";break;default:o=null}return{type:t,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,event:e.event,node:e.dragItem.rowNode,nodes:e.dragItem.rowNodes,overIndex:r,overNode:i,y:n,vDirection:o}},e.prototype.dispatchGridEvent=function(t,e){var i=this.draggingToRowDragEvent(t,e);this.eventService.dispatchEvent(i)},e.prototype.onDragLeave=function(t){this.dispatchGridEvent(zt.EVENT_ROW_DRAG_LEAVE,t),this.stopDragging(t),this.gridOptionsService.is("rowDragManaged")&&this.clearRowHighlight(),this.isFromThisGrid(t)&&(this.isMultiRowDrag=!1)},e.prototype.onDragStop=function(t){this.dispatchGridEvent(zt.EVENT_ROW_DRAG_END,t),this.stopDragging(t),!this.gridOptionsService.is("rowDragManaged")||!this.gridOptionsService.is("suppressMoveWhenRowDragging")&&this.isFromThisGrid(t)||this.isDropZoneWithinThisGrid(t)||this.moveRowAndClearHighlight(t)},e.prototype.stopDragging=function(t){this.autoScrollService.ensureCleared(),this.getRowNodes(t).forEach((function(t){t.setDragging(!1)}))},il([K("dragAndDropService")],e.prototype,"dragAndDropService",void 0),il([K("rowModel")],e.prototype,"rowModel",void 0),il([K("paginationProxy")],e.prototype,"paginationProxy",void 0),il([K("columnModel")],e.prototype,"columnModel",void 0),il([K("focusService")],e.prototype,"focusService",void 0),il([K("sortController")],e.prototype,"sortController",void 0),il([K("filterManager")],e.prototype,"filterManager",void 0),il([K("selectionService")],e.prototype,"selectionService",void 0),il([K("mouseEventService")],e.prototype,"mouseEventService",void 0),il([K("ctrlsService")],e.prototype,"ctrlsService",void 0),il([Y("rangeService")],e.prototype,"rangeService",void 0),il([H],e.prototype,"postConstruct",null),e}(jt),sl=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),al=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s};!function(t){t.ANIMATION_ON="ag-row-animation",t.ANIMATION_OFF="ag-row-no-animation"}(Ka||(Ka={}));var ll,cl,ul="ag-selectable",hl="ag-force-vertical-scroll",dl=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stickyTopHeight=0,e}return sl(e,t),e.prototype.getScrollFeature=function(){return this.bodyScrollFeature},e.prototype.getBodyViewportElement=function(){return this.eBodyViewport},e.prototype.setComp=function(t,e,i,o,n,r){this.comp=t,this.eGridBody=e,this.eBodyViewport=i,this.eTop=o,this.eBottom=n,this.eStickyTop=r,this.setCellTextSelection(this.gridOptionsService.is("enableCellTextSelection")),this.createManagedBean(new Ya(this.comp)),this.bodyScrollFeature=this.createManagedBean(new Ja(this.eBodyViewport)),this.addRowDragListener(),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([o,i,n,r]),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.ctrlsService.registerGridBodyCtrl(this)},e.prototype.getComp=function(){return this.comp},e.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,zt.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,zt.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.addManagedListener(this.eventService,zt.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,zt.EVENT_HEADER_HEIGHT_CHANGED,this.onHeaderHeightChanged.bind(this))},e.prototype.addFocusListeners=function(t){var e=this;t.forEach((function(t){e.addManagedListener(t,"focusin",(function(e){var i=so(e.target,"ag-root",t);t.classList.toggle("ag-has-focus",!i)})),e.addManagedListener(t,"focusout",(function(e){var i=e.target,o=e.relatedTarget,n=t.contains(o),r=so(o,"ag-root",t);so(i,"ag-root",t)||n&&!r||t.classList.remove("ag-has-focus")}))}))},e.prototype.setColumnMovingCss=function(t){this.comp.setColumnMovingCss("ag-column-moving",t)},e.prototype.setCellTextSelection=function(t){void 0===t&&(t=!1);var e=t?ul:null;this.comp.setCellSelectableCss(e,t)},e.prototype.onScrollVisibilityChanged=function(){var t=this.scrollVisibleService.isVerticalScrollShowing();this.setVerticalScrollPaddingVisible(t),this.setStickyTopWidth(t);var e="calc(100% + "+((t&&this.gridOptionsService.getScrollbarWidth()||0)+(Gi()?16:0))+"px)";this.comp.setBodyViewportWidth(e)},e.prototype.onGridColumnsChanged=function(){var t=this.columnModel.getAllGridColumns();this.comp.setColumnCount(t?t.length:0)},e.prototype.disableBrowserDragging=function(){this.addManagedListener(this.eGridBody,"dragstart",(function(t){if(t.target instanceof HTMLImageElement)return t.preventDefault(),!1}))},e.prototype.addStopEditingWhenGridLosesFocus=function(){var t=this;if(this.gridOptionsService.is("stopEditingWhenCellsLoseFocus")){var e=function(e){var o=e.relatedTarget;if(null!==Li(o)){var n=i.some((function(t){return t.contains(o)}))&&t.mouseEventService.isElementInThisGrid(o);if(!n){var r=t.popupService;n=r.getActivePopups().some((function(t){return t.contains(o)}))||r.isElementWithinCustomPopup(o)}n||t.rowRenderer.stopEditing()}else t.rowRenderer.stopEditing()},i=[this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop];i.forEach((function(i){return t.addManagedListener(i,"focusout",e)}))}},e.prototype.updateRowCount=function(){var t=this.headerNavigationService.getHeaderRowCount(),e=this.rowModel.isLastRowIndexKnown()?this.rowModel.getRowCount():-1,i=-1===e?-1:t+e;this.comp.setRowCount(i)},e.prototype.registerBodyViewportResizeListener=function(t){this.comp.registerBodyViewportResizeListener(t)},e.prototype.setVerticalScrollPaddingVisible=function(t){var e=t?"scroll":"hidden";this.comp.setPinnedTopBottomOverflowY(e)},e.prototype.isVerticalScrollShowing=function(){var t=this.gridOptionsService.is("alwaysShowVerticalScroll"),e=t?hl:null,i=this.gridOptionsService.isDomLayout("normal");return this.comp.setAlwaysVerticalScrollClass(e,t),t||i&&Po(this.eBodyViewport)},e.prototype.setupRowAnimationCssClass=function(){var t=this,e=function(){var e=t.gridOptionsService.isAnimateRows()&&!t.rowContainerHeightService.isStretching(),i=e?Ka.ANIMATION_ON:Ka.ANIMATION_OFF;t.comp.setRowAnimationCssOnBodyViewport(i,e)};e(),this.addManagedListener(this.eventService,zt.EVENT_HEIGHT_SCALE_CHANGED,e),this.addManagedPropertyListener("animateRows",e)},e.prototype.getGridBodyElement=function(){return this.eGridBody},e.prototype.addBodyViewportListener=function(){var t=this.onBodyViewportContextMenu.bind(this);this.addManagedListener(this.eBodyViewport,"contextmenu",t),this.mockContextMenuForIPad(t),this.addManagedListener(this.eBodyViewport,"wheel",this.onBodyViewportWheel.bind(this)),this.addManagedListener(this.eStickyTop,"wheel",this.onStickyTopWheel.bind(this)),this.addFullWidthContainerWheelListener()},e.prototype.addFullWidthContainerWheelListener=function(){var t=this,e=this.eBodyViewport.querySelector(".ag-full-width-container"),i=this.eBodyViewport.querySelector(".ag-center-cols-viewport");e&&i&&this.addManagedListener(e,"wheel",(function(e){return t.onFullWidthContainerWheel(e,i)}))},e.prototype.onFullWidthContainerWheel=function(t,e){!t.deltaX||Math.abs(t.deltaY)>Math.abs(t.deltaX)||(t.preventDefault(),e.scrollBy({left:t.deltaX}))},e.prototype.onBodyViewportContextMenu=function(t,e,i){if(t||i){if(this.gridOptionsService.is("preventDefaultOnContextMenu"))(t||i).preventDefault();var o=(t||e).target;if(o===this.eBodyViewport||o===this.ctrlsService.getCenterRowContainerCtrl().getViewportElement()){if(!this.contextMenuFactory)return;t?this.contextMenuFactory.onContextMenu(t,null,null,null,null,this.eGridBody):i&&this.contextMenuFactory.onContextMenu(null,i,null,null,null,this.eGridBody)}}},e.prototype.mockContextMenuForIPad=function(t){if(Ai()){var e=new Xr(this.eBodyViewport);this.addManagedListener(e,Xr.EVENT_LONG_TAP,(function(e){t(void 0,e.touchStart,e.touchEvent)})),this.addDestroyFunc((function(){return e.destroy()}))}},e.prototype.onBodyViewportWheel=function(t){this.gridOptionsService.is("suppressScrollWhenPopupsAreOpen")&&this.popupService.hasAnchoredPopup()&&t.preventDefault()},e.prototype.onStickyTopWheel=function(t){t.preventDefault(),t.offsetY&&this.scrollVertically(t.deltaY)},e.prototype.getGui=function(){return this.eGridBody},e.prototype.scrollVertically=function(t){var e=this.eBodyViewport.scrollTop;return this.bodyScrollFeature.setVerticalScrollPosition(e+t),this.eBodyViewport.scrollTop-e},e.prototype.addRowDragListener=function(){this.rowDragFeature=this.createManagedBean(new rl(this.eBodyViewport)),this.dragAndDropService.addDropTarget(this.rowDragFeature)},e.prototype.getRowDragFeature=function(){return this.rowDragFeature},e.prototype.onPinnedRowDataChanged=function(){this.setFloatingHeights()},e.prototype.setFloatingHeights=function(){var t=this.pinnedRowModel,e=t.getPinnedTopTotalHeight();e&&(e+=1);var i=t.getPinnedBottomTotalHeight();i&&(i+=1),this.comp.setTopHeight(e),this.comp.setBottomHeight(i),this.comp.setTopDisplay(e?"inherit":"none"),this.comp.setBottomDisplay(i?"inherit":"none"),this.setStickyTopOffsetTop()},e.prototype.setStickyTopHeight=function(t){void 0===t&&(t=0),this.comp.setStickyTopHeight(t+"px"),this.stickyTopHeight=t},e.prototype.getStickyTopHeight=function(){return this.stickyTopHeight},e.prototype.setStickyTopWidth=function(t){if(t){var e=this.gridOptionsService.getScrollbarWidth();this.comp.setStickyTopWidth("calc(100% - "+e+"px)")}else this.comp.setStickyTopWidth("100%")},e.prototype.onHeaderHeightChanged=function(){this.setStickyTopOffsetTop()},e.prototype.setStickyTopOffsetTop=function(){var t=this.ctrlsService.getGridHeaderCtrl().getHeaderHeight(),e=this.pinnedRowModel.getPinnedTopTotalHeight(),i=0;t>0&&(i+=t+1),e>0&&(i+=e+1),this.comp.setStickyTopTop(i+"px")},e.prototype.sizeColumnsToFit=function(t,e){var i=this,o=this.isVerticalScrollShowing()?this.gridOptionsService.getScrollbarWidth():0,n=co(this.eGridBody)-o;n>0?this.columnModel.sizeColumnsToFit(n,"sizeColumnsToFit",!1,t):void 0===e?window.setTimeout((function(){i.sizeColumnsToFit(t,100)}),0):100===e?window.setTimeout((function(){i.sizeColumnsToFit(t,500)}),100):500===e?window.setTimeout((function(){i.sizeColumnsToFit(t,-1)}),500):console.warn("AG Grid: tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?")},e.prototype.addScrollEventListener=function(t){this.eBodyViewport.addEventListener("scroll",t,{passive:!0})},e.prototype.removeScrollEventListener=function(t){this.eBodyViewport.removeEventListener("scroll",t)},al([K("rowContainerHeightService")],e.prototype,"rowContainerHeightService",void 0),al([K("ctrlsService")],e.prototype,"ctrlsService",void 0),al([K("columnModel")],e.prototype,"columnModel",void 0),al([K("scrollVisibleService")],e.prototype,"scrollVisibleService",void 0),al([Y("contextMenuFactory")],e.prototype,"contextMenuFactory",void 0),al([K("headerNavigationService")],e.prototype,"headerNavigationService",void 0),al([K("dragAndDropService")],e.prototype,"dragAndDropService",void 0),al([K("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),al([K("rowRenderer")],e.prototype,"rowRenderer",void 0),al([K("popupService")],e.prototype,"popupService",void 0),al([K("mouseEventService")],e.prototype,"mouseEventService",void 0),al([K("rowModel")],e.prototype,"rowModel",void 0),e}(jt);!function(t){t[t.FILL=0]="FILL",t[t.RANGE=1]="RANGE"}(ll||(ll={})),function(t){t[t.VALUE=0]="VALUE",t[t.DIMENSION=1]="DIMENSION"}(cl||(cl={}));var pl,fl="ag-cell-range-selected",gl=function(){function t(t,e){this.beans=t,this.cellCtrl=e}return t.prototype.setComp=function(t,e){this.cellComp=t,this.eGui=e,this.onRangeSelectionChanged()},t.prototype.onRangeSelectionChanged=function(){this.cellComp&&(this.rangeCount=this.beans.rangeService.getCellRangeCount(this.cellCtrl.getCellPosition()),this.hasChartRange=this.getHasChartRange(),this.cellComp.addOrRemoveCssClass(fl,0!==this.rangeCount),this.cellComp.addOrRemoveCssClass(fl+"-1",1===this.rangeCount),this.cellComp.addOrRemoveCssClass(fl+"-2",2===this.rangeCount),this.cellComp.addOrRemoveCssClass(fl+"-3",3===this.rangeCount),this.cellComp.addOrRemoveCssClass(fl+"-4",this.rangeCount>=4),this.cellComp.addOrRemoveCssClass("ag-cell-range-chart",this.hasChartRange),gi(this.eGui,this.rangeCount>0||void 0),this.cellComp.addOrRemoveCssClass("ag-cell-range-single-cell",this.isSingleCell()),this.updateRangeBorders(),this.refreshHandle())},t.prototype.updateRangeBorders=function(){var t=this.getRangeBorders(),e=this.isSingleCell(),i=!e&&t.top,o=!e&&t.right,n=!e&&t.bottom,r=!e&&t.left;this.cellComp.addOrRemoveCssClass("ag-cell-range-top",i),this.cellComp.addOrRemoveCssClass("ag-cell-range-right",o),this.cellComp.addOrRemoveCssClass("ag-cell-range-bottom",n),this.cellComp.addOrRemoveCssClass("ag-cell-range-left",r)},t.prototype.isSingleCell=function(){var t=this.beans.rangeService;return 1===this.rangeCount&&t&&!t.isMoreThanOneCell()},t.prototype.getHasChartRange=function(){var t=this.beans.rangeService;if(!this.rangeCount||!t)return!1;var e=t.getCellRanges();return e.length>0&&e.every((function(t){return bt([cl.DIMENSION,cl.VALUE],t.type)}))},t.prototype.updateRangeBordersIfRangeCount=function(){this.rangeCount>0&&(this.updateRangeBorders(),this.refreshHandle())},t.prototype.getRangeBorders=function(){var t,e,i=this,o=this.beans.gridOptionsService.is("enableRtl"),n=!1,r=!1,s=!1,a=!1,l=this.cellCtrl.getCellPosition().column,c=this.beans,u=c.rangeService,h=c.columnModel;o?(t=h.getDisplayedColAfter(l),e=h.getDisplayedColBefore(l)):(t=h.getDisplayedColBefore(l),e=h.getDisplayedColAfter(l));var d=u.getCellRanges().filter((function(t){return u.isCellInSpecificRange(i.cellCtrl.getCellPosition(),t)}));t||(a=!0),e||(r=!0);for(var p=0;p<d.length&&!(n&&r&&s&&a);p++){var f=d[p],g=u.getRangeStartRow(f),m=u.getRangeEndRow(f);!n&&this.beans.rowPositionUtils.sameRow(g,this.cellCtrl.getCellPosition())&&(n=!0),!s&&this.beans.rowPositionUtils.sameRow(m,this.cellCtrl.getCellPosition())&&(s=!0),!a&&t&&f.columns.indexOf(t)<0&&(a=!0),!r&&e&&f.columns.indexOf(e)<0&&(r=!0)}return{top:n,right:r,bottom:s,left:a}},t.prototype.refreshHandle=function(){if(this.beans.rangeService){var t=this.shouldHaveSelectionHandle();this.selectionHandle&&!t&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),t&&this.addSelectionHandle(),this.cellComp.addOrRemoveCssClass("ag-cell-range-handle",!!this.selectionHandle)}},t.prototype.shouldHaveSelectionHandle=function(){var t=this.beans,e=t.gridOptionsService,i=t.rangeService,o=i.getCellRanges(),n=o.length;if(this.rangeCount<1||n<1)return!1;var r=ft(o),s=this.cellCtrl.getCellPosition(),a=e.is("enableFillHandle")&&!this.cellCtrl.isSuppressFillHandle(),l=e.is("enableRangeHandle"),c=1===n&&!this.cellCtrl.isEditing()&&(a||l);if(this.hasChartRange){var u=o[0].type===cl.DIMENSION&&i.isCellInSpecificRange(s,o[0]);this.cellComp.addOrRemoveCssClass("ag-cell-range-chart-category",u),c=r.type===cl.VALUE}return c&&null!=r.endRow&&i.isContiguousRange(r)&&i.isBottomRightCell(r,s)},t.prototype.addSelectionHandle=function(){var t=this.beans,e=t.gridOptionsService,i=ft(t.rangeService.getCellRanges()).type,o=e.is("enableFillHandle")&&r(i)?ll.FILL:ll.RANGE;this.selectionHandle&&this.selectionHandle.getType()!==o&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),this.selectionHandle||(this.selectionHandle=this.beans.selectionHandleFactory.createSelectionHandle(o)),this.selectionHandle.refresh(this.cellCtrl)},t.prototype.destroy=function(){this.beans.context.destroyBean(this.selectionHandle)},t}(),ml=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),yl=function(t){function e(e,i){var o=t.call(this)||this;return o.cellCtrl=e,o.beans=i,o.column=e.getColumn(),o.rowNode=e.getRowNode(),o.setupColSpan(),o.setupRowSpan(),o}return ml(e,t),e.prototype.setupRowSpan=function(){this.rowSpan=this.column.getRowSpan(this.rowNode)},e.prototype.setComp=function(t){this.eGui=t,this.onLeftChanged(),this.onWidthChanged(),this.applyRowSpan()},e.prototype.onDisplayColumnsChanged=function(){var t=this.getColSpanningList();gt(this.colsSpanning,t)||(this.colsSpanning=t,this.onWidthChanged(),this.onLeftChanged())},e.prototype.setupColSpan=function(){null!=this.column.getColDef().colSpan&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListener(this.beans.eventService,zt.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayColumnsChanged.bind(this)),this.addManagedListener(this.beans.eventService,zt.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onWidthChanged.bind(this)))},e.prototype.onWidthChanged=function(){if(this.eGui){var t=this.getCellWidth();this.eGui.style.width=t+"px"}},e.prototype.getCellWidth=function(){return this.colsSpanning?this.colsSpanning.reduce((function(t,e){return t+e.getActualWidth()}),0):this.column.getActualWidth()},e.prototype.getColSpanningList=function(){var t=this.column.getColSpan(this.rowNode),e=[];if(1===t)e.push(this.column);else for(var i=this.column,o=this.column.getPinned(),n=0;i&&n<t&&(e.push(i),(i=this.beans.columnModel.getDisplayedColAfter(i))&&!r(i))&&o===i.getPinned();n++);return e},e.prototype.onLeftChanged=function(){if(this.eGui){var t=this.modifyLeftForPrintLayout(this.getCellLeft());this.eGui.style.left=t+"px"}},e.prototype.getCellLeft=function(){return(this.beans.gridOptionsService.is("enableRtl")&&this.colsSpanning?ft(this.colsSpanning):this.column).getLeft()},e.prototype.modifyLeftForPrintLayout=function(t){if(!this.cellCtrl.isPrintLayout()||"left"===this.column.getPinned())return t;var e=this.beans.columnModel.getDisplayedColumnsLeftWidth();return"right"===this.column.getPinned()?e+this.beans.columnModel.getBodyContainerWidth()+(t||0):e+(t||0)},e.prototype.applyRowSpan=function(){if(1!==this.rowSpan){var t=this.beans.gridOptionsService.getRowHeightAsNumber()*this.rowSpan;this.eGui.style.height=t+"px",this.eGui.style.zIndex="1"}},e.prototype.destroy=function(){t.prototype.destroy.call(this)},e}(jt),vl=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),_l=function(t){function e(e,i){var o=t.call(this)||this;return o.staticClasses=[],o.cellCtrl=e,o.beans=i,o.column=e.getColumn(),o.rowNode=e.getRowNode(),o}return vl(e,t),e.prototype.setComp=function(t){this.cellComp=t,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()},e.prototype.applyCellClassRules=function(){var t=this,e=this.column.getColDef(),i={value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,colDef:e,column:this.column,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context};this.beans.stylingService.processClassRules(e.cellClassRules,i,(function(e){return t.cellComp.addOrRemoveCssClass(e,!0)}),(function(e){return t.cellComp.addOrRemoveCssClass(e,!1)}))},e.prototype.applyUserStyles=function(){var t=this.column.getColDef();if(t.cellStyle){var e;if("function"==typeof t.cellStyle){var i={column:this.column,value:this.cellCtrl.getValue(),colDef:t,data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context};e=(0,t.cellStyle)(i)}else e=t.cellStyle;e&&this.cellComp.setUserStyles(e)}},e.prototype.applyClassesFromColDef=function(){var t=this,e=this.column.getColDef(),i={value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,column:this.column,colDef:e,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context};this.staticClasses.length&&this.staticClasses.forEach((function(e){return t.cellComp.addOrRemoveCssClass(e,!1)})),this.staticClasses=this.beans.stylingService.getStaticCellClasses(e,i),this.staticClasses.length&&this.staticClasses.forEach((function(e){return t.cellComp.addOrRemoveCssClass(e,!0)}))},e.prototype.destroy=function(){t.prototype.destroy.call(this)},e}(jt),Cl=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),bl=function(t){function e(e,i){var o=t.call(this)||this;return o.ctrl=e,o.beans=i,o}return Cl(e,t),e.prototype.setComp=function(t){this.comp=t,this.setupTooltip()},e.prototype.setupTooltip=function(){this.browserTooltips=this.beans.gridOptionsService.is("enableBrowserTooltips"),this.updateTooltipText(),this.browserTooltips?this.comp.setTitle(null!=this.tooltip?this.tooltip:void 0):this.createTooltipFeatureIfNeeded()},e.prototype.updateTooltipText=function(){this.tooltip=this.ctrl.getTooltipValue()},e.prototype.createTooltipFeatureIfNeeded=function(){var t=this;if(null==this.genericTooltipFeature){var e={getTooltipParams:function(){return t.getTooltipParams()},getGui:function(){return t.ctrl.getGui()}};this.genericTooltipFeature=this.createManagedBean(new un(e),this.beans.context)}},e.prototype.refreshToolTip=function(){this.updateTooltipText(),this.browserTooltips&&this.comp.setTitle(null!=this.tooltip?this.tooltip:void 0)},e.prototype.getTooltipParams=function(){var t=this.ctrl,e=t.getColumn?t.getColumn():void 0,i=t.getColDef?t.getColDef():void 0,o=t.getRowNode?t.getRowNode():void 0;return{location:t.getLocation(),colDef:i,column:e,rowIndex:t.getRowIndex?t.getRowIndex():void 0,node:o,data:o?o.data:void 0,value:this.getTooltipText(),valueFormatted:t.getValueFormatted?t.getValueFormatted():void 0}},e.prototype.getTooltipText=function(){return this.tooltip},e.prototype.destroy=function(){t.prototype.destroy.call(this)},e}(jt),El=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},Sl=function(){function t(){}return t.prototype.postConstruct=function(){this.doingMasterDetail=this.gridOptionsService.isMasterDetail(),this.gridOptionsService.isRowModelType("clientSide")&&(this.clientSideRowModel=this.rowModel),this.gridOptionsService.isRowModelType("serverSide")&&(this.serverSideRowModel=this.rowModel)},El([K("resizeObserverService")],t.prototype,"resizeObserverService",void 0),El([K("paginationProxy")],t.prototype,"paginationProxy",void 0),El([K("context")],t.prototype,"context",void 0),El([K("columnApi")],t.prototype,"columnApi",void 0),El([K("gridApi")],t.prototype,"gridApi",void 0),El([K("gridOptionsService")],t.prototype,"gridOptionsService",void 0),El([K("expressionService")],t.prototype,"expressionService",void 0),El([K("environment")],t.prototype,"environment",void 0),El([K("rowRenderer")],t.prototype,"rowRenderer",void 0),El([K("templateService")],t.prototype,"templateService",void 0),El([K("valueService")],t.prototype,"valueService",void 0),El([K("eventService")],t.prototype,"eventService",void 0),El([K("columnModel")],t.prototype,"columnModel",void 0),El([K("headerNavigationService")],t.prototype,"headerNavigationService",void 0),El([K("navigationService")],t.prototype,"navigationService",void 0),El([K("columnAnimationService")],t.prototype,"columnAnimationService",void 0),El([Y("rangeService")],t.prototype,"rangeService",void 0),El([K("focusService")],t.prototype,"focusService",void 0),El([Y("contextMenuFactory")],t.prototype,"contextMenuFactory",void 0),El([K("popupService")],t.prototype,"popupService",void 0),El([K("valueFormatterService")],t.prototype,"valueFormatterService",void 0),El([K("stylingService")],t.prototype,"stylingService",void 0),El([K("columnHoverService")],t.prototype,"columnHoverService",void 0),El([K("userComponentFactory")],t.prototype,"userComponentFactory",void 0),El([K("userComponentRegistry")],t.prototype,"userComponentRegistry",void 0),El([K("animationFrameService")],t.prototype,"animationFrameService",void 0),El([K("dragService")],t.prototype,"dragService",void 0),El([K("dragAndDropService")],t.prototype,"dragAndDropService",void 0),El([K("sortController")],t.prototype,"sortController",void 0),El([K("filterManager")],t.prototype,"filterManager",void 0),El([K("rowContainerHeightService")],t.prototype,"rowContainerHeightService",void 0),El([K("frameworkOverrides")],t.prototype,"frameworkOverrides",void 0),El([K("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),El([K("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),El([K("selectionService")],t.prototype,"selectionService",void 0),El([Y("selectionHandleFactory")],t.prototype,"selectionHandleFactory",void 0),El([K("rowCssClassCalculator")],t.prototype,"rowCssClassCalculator",void 0),El([K("rowModel")],t.prototype,"rowModel",void 0),El([K("ctrlsService")],t.prototype,"ctrlsService",void 0),El([K("ctrlsFactory")],t.prototype,"ctrlsFactory",void 0),El([K("agStackComponentsRegistry")],t.prototype,"agStackComponentsRegistry",void 0),El([K("valueCache")],t.prototype,"valueCache",void 0),El([K("rowNodeEventThrottle")],t.prototype,"rowNodeEventThrottle",void 0),El([K("localeService")],t.prototype,"localeService",void 0),El([H],t.prototype,"postConstruct",null),t=El([z("beans")],t)}(),wl=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),Ol=function(t){function e(e,i,o){var n=t.call(this)||this;return n.cellCtrl=e,n.beans=i,n.column=o,n}return wl(e,t),e.prototype.onMouseEvent=function(t,e){if(!Mt(e))switch(t){case"click":this.onCellClicked(e);break;case"mousedown":case"touchstart":this.onMouseDown(e);break;case"dblclick":this.onCellDoubleClicked(e);break;case"mouseout":this.onMouseOut(e);break;case"mouseover":this.onMouseOver(e)}},e.prototype.onCellClicked=function(t){if(this.isDoubleClickOnIPad())return this.onCellDoubleClicked(t),void t.preventDefault();var e=this.beans,i=e.eventService,o=e.rangeService,n=e.gridOptionsService,r=t.ctrlKey||t.metaKey;o&&r&&o.getCellRangeCount(this.cellCtrl.getCellPosition())>1&&o.intersectLastRange(!0);var s=this.cellCtrl.createEvent(t,zt.EVENT_CELL_CLICKED);i.dispatchEvent(s);var a=this.column.getColDef();a.onCellClicked&&window.setTimeout((function(){return a.onCellClicked(s)}),0),(n.is("singleClickEdit")||a.singleClickEdit)&&!n.is("suppressClickEdit")&&this.cellCtrl.startRowOrCellEdit()},e.prototype.isDoubleClickOnIPad=function(){if(!Ai()||At("dblclick"))return!1;var t=(new Date).getTime(),e=t-this.lastIPadMouseClickEvent<200;return this.lastIPadMouseClickEvent=t,e},e.prototype.onCellDoubleClicked=function(t){var e=this.column.getColDef(),i=this.cellCtrl.createEvent(t,zt.EVENT_CELL_DOUBLE_CLICKED);this.beans.eventService.dispatchEvent(i),"function"==typeof e.onCellDoubleClicked&&window.setTimeout((function(){return e.onCellDoubleClicked(i)}),0),!this.beans.gridOptionsService.is("singleClickEdit")&&!this.beans.gridOptionsService.is("suppressClickEdit")&&this.cellCtrl.startRowOrCellEdit(null,null,t)},e.prototype.onMouseDown=function(t){var e=t.ctrlKey,i=t.metaKey,o=t.shiftKey,n=t.target,r=this.beans,s=r.eventService,a=r.rangeService;if(!this.isRightClickInExistingRange(t)){var l=a&&0!=a.getCellRanges().length;if(!o||!l){var c=xi()&&!this.cellCtrl.isEditing()&&!io(n);this.cellCtrl.focusCell(c)}if(o&&l&&t.preventDefault(),!this.containsWidget(n)){if(a){var u=this.cellCtrl.getCellPosition();if(o)a.extendLatestRangeToCell(u);else{var h=e||i;a.setRangeToCell(u,h)}}s.dispatchEvent(this.cellCtrl.createEvent(t,zt.EVENT_CELL_MOUSE_DOWN))}}},e.prototype.isRightClickInExistingRange=function(t){var e=this.beans.rangeService;if(e&&(e.isCellInAnyRange(this.cellCtrl.getCellPosition())&&2===t.button))return!0;return!1},e.prototype.containsWidget=function(t){return so(t,"ag-selection-checkbox",3)},e.prototype.onMouseOut=function(t){if(!this.mouseStayingInsideCell(t)){var e=this.cellCtrl.createEvent(t,zt.EVENT_CELL_MOUSE_OUT);this.beans.eventService.dispatchEvent(e),this.beans.columnHoverService.clearMouseOver()}},e.prototype.onMouseOver=function(t){if(!this.mouseStayingInsideCell(t)){var e=this.cellCtrl.createEvent(t,zt.EVENT_CELL_MOUSE_OVER);this.beans.eventService.dispatchEvent(e),this.beans.columnHoverService.setMouseOver([this.column])}},e.prototype.mouseStayingInsideCell=function(t){if(!t.target||!t.relatedTarget)return!1;var e=this.cellCtrl.getGui(),i=e.contains(t.target),o=e.contains(t.relatedTarget);return i&&o},e.prototype.destroy=function(){},e}(Sl),xl=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),Pl=function(t){function e(e,i,o,n,r){var s=t.call(this)||this;return s.cellCtrl=e,s.beans=i,s.rowNode=n,s.rowCtrl=r,s}return xl(e,t),e.prototype.setComp=function(t){this.eGui=t},e.prototype.onKeyDown=function(t){var e=t.key;switch(e){case Uo.ENTER:this.onEnterKeyDown(t);break;case Uo.F2:this.onF2KeyDown(t);break;case Uo.ESCAPE:this.onEscapeKeyDown(t);break;case Uo.TAB:this.onTabKeyDown(t);break;case Uo.BACKSPACE:case Uo.DELETE:this.onBackspaceOrDeleteKeyPressed(e,t);break;case Uo.DOWN:case Uo.UP:case Uo.RIGHT:case Uo.LEFT:this.onNavigationKeyPressed(t,e)}},e.prototype.onNavigationKeyPressed=function(t,e){this.cellCtrl.isEditing()||(t.shiftKey&&this.cellCtrl.isRangeSelectionEnabled()?this.onShiftRangeSelect(t):this.beans.navigationService.navigateToNextCell(t,e,this.cellCtrl.getCellPosition(),!0),t.preventDefault())},e.prototype.onShiftRangeSelect=function(t){if(this.beans.rangeService){var e=this.beans.rangeService.extendLatestRangeInDirection(t);e&&this.beans.navigationService.ensureCellVisible(e)}},e.prototype.onTabKeyDown=function(t){this.beans.navigationService.onTabKeyDown(this.cellCtrl,t)},e.prototype.onBackspaceOrDeleteKeyPressed=function(t,e){var i=this,o=i.cellCtrl,n=i.beans,r=i.rowNode,s=n.gridOptionsService,a=n.rangeService,l=n.eventService;o.isEditing()||(l.dispatchEvent({type:zt.EVENT_KEY_SHORTCUT_CHANGED_CELL_START}),Ko(t,s.is("enableCellEditingOnBackspace"))?a&&s.isEnableRangeSelection()?a.clearCellRangeCellValues():o.isCellEditable()&&r.setDataValue(o.getColumn(),null,"cellClear"):o.startRowOrCellEdit(t,void 0,e),l.dispatchEvent({type:zt.EVENT_KEY_SHORTCUT_CHANGED_CELL_END}))},e.prototype.onEnterKeyDown=function(t){this.cellCtrl.isEditing()||this.rowCtrl.isEditing()?this.cellCtrl.stopEditingAndFocus():this.beans.gridOptionsService.is("enterMovesDown")?this.beans.navigationService.navigateToNextCell(null,Uo.DOWN,this.cellCtrl.getCellPosition(),!1):(this.cellCtrl.startRowOrCellEdit(Uo.ENTER,void 0,t),this.cellCtrl.isEditing()&&t.preventDefault())},e.prototype.onF2KeyDown=function(t){this.cellCtrl.isEditing()||this.cellCtrl.startRowOrCellEdit(Uo.F2,void 0,t)},e.prototype.onEscapeKeyDown=function(t){this.cellCtrl.isEditing()&&(this.cellCtrl.stopRowOrCellEdit(!0),this.cellCtrl.focusCell(!0))},e.prototype.onKeyPress=function(t){if(!(t.target!==this.eGui)&&!this.cellCtrl.isEditing()){var e=String.fromCharCode(t.charCode);" "===e?this.onSpaceKeyPressed(t):Wo(t)&&(this.cellCtrl.startRowOrCellEdit(null,e,t),t.preventDefault())}},e.prototype.onSpaceKeyPressed=function(t){var e=this.beans.gridOptionsService;if(!this.cellCtrl.isEditing()&&e.isRowSelection()){var i=this.rowNode.isSelected(),o=!i;if(o||!e.is("suppressRowDeselection")){var n=this.beans.gridOptionsService.is("groupSelectsFiltered"),r=this.rowNode.setSelectedParams({newValue:o,rangeSelect:t.shiftKey,groupSelectsFiltered:n,event:t,source:"spacePressed"});void 0===i&&0===r&&this.rowNode.setSelectedParams({newValue:!1,rangeSelect:t.shiftKey,groupSelectsFiltered:n,event:t,source:"spacePressed"})}}t.preventDefault()},e.prototype.destroy=function(){t.prototype.destroy.call(this)},e}(jt),Tl=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),Ml=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},Dl=function(t){function e(e,i,o,n){var r=t.call(this,'<div class="ag-drag-handle ag-row-drag" draggable="true"></div>')||this;return r.rowNode=e,r.column=i,r.beans=o,r.eCell=n,r}return Tl(e,t),e.prototype.postConstruct=function(){this.getGui().appendChild(jo("rowDrag",this.beans.gridOptionsService,null)),this.addGuiEventListener("mousedown",(function(t){t.stopPropagation()})),this.addDragSource(),this.checkVisibility()},e.prototype.addDragSource=function(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))},e.prototype.onDragStart=function(t){var e=this,i=this.column.getColDef().dndSourceOnRowDrag;t.dataTransfer.setDragImage(this.eCell,0,0);i?i({rowNode:this.rowNode,dragEvent:t,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context}):function(){try{var i=JSON.stringify(e.rowNode.data);t.dataTransfer.setData("application/json",i),t.dataTransfer.setData("text/plain",i)}catch(t){}}()},e.prototype.checkVisibility=function(){var t=this.column.isDndSource(this.rowNode);this.setDisplayed(t)},Ml([H],e.prototype,"postConstruct",null),e}(gn),Al=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),Rl=function(){return Rl=Object.assign||function(t){for(var e,i=1,o=arguments.length;i<o;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},Rl.apply(this,arguments)},Ll=0,Il=function(t){function e(e,i,o,n){var r=t.call(this)||this;return r.cellRangeFeature=null,r.cellPositionFeature=null,r.cellCustomStyleFeature=null,r.tooltipFeature=null,r.cellMouseListenerFeature=null,r.cellKeyboardListenerFeature=null,r.suppressRefreshCell=!1,r.onCellCompAttachedFuncs=[],r.column=e,r.rowNode=i,r.beans=o,r.rowCtrl=n,r.instanceId=e.getId()+"-"+Ll++,r.createCellPosition(),r.addFeatures(),r}return Al(e,t),e.prototype.addFeatures=function(){var t=this;this.cellPositionFeature=new yl(this,this.beans),this.addDestroyFunc((function(){var e;null===(e=t.cellPositionFeature)||void 0===e||e.destroy(),t.cellPositionFeature=null})),this.cellCustomStyleFeature=new _l(this,this.beans),this.addDestroyFunc((function(){var e;null===(e=t.cellCustomStyleFeature)||void 0===e||e.destroy(),t.cellCustomStyleFeature=null})),this.cellMouseListenerFeature=new Ol(this,this.beans,this.column),this.addDestroyFunc((function(){var e;null===(e=t.cellMouseListenerFeature)||void 0===e||e.destroy(),t.cellMouseListenerFeature=null})),this.cellKeyboardListenerFeature=new Pl(this,this.beans,this.column,this.rowNode,this.rowCtrl),this.addDestroyFunc((function(){var e;null===(e=t.cellKeyboardListenerFeature)||void 0===e||e.destroy(),t.cellKeyboardListenerFeature=null})),this.beans.rangeService&&this.beans.gridOptionsService.isEnableRangeSelection()&&(this.cellRangeFeature=new gl(this.beans,this),this.addDestroyFunc((function(){var e;null===(e=t.cellRangeFeature)||void 0===e||e.destroy(),t.cellRangeFeature=null}))),this.column.isTooltipEnabled()&&this.addTooltipFeature()},e.prototype.addTooltipFeature=function(){var t=this,e={getColumn:function(){return t.column},getColDef:function(){return t.column.getColDef()},getRowIndex:function(){return t.cellPosition.rowIndex},getRowNode:function(){return t.rowNode},getGui:function(){return t.getGui()},getLocation:function(){return"cell"},getTooltipValue:function(){var e=t.column.getColDef(),i=t.rowNode.data;if(e.tooltipField&&n(i))return E(i,e.tooltipField,t.column.isTooltipFieldContainsDots());var o=e.tooltipValueGetter;return o?o({location:"cell",api:t.beans.gridOptionsService.api,columnApi:t.beans.gridOptionsService.columnApi,context:t.beans.gridOptionsService.context,colDef:t.column.getColDef(),column:t.column,rowIndex:t.cellPosition.rowIndex,node:t.rowNode,data:t.rowNode.data,value:t.value,valueFormatted:t.valueFormatted}):null},getValueFormatted:function(){return t.valueFormatted}};this.tooltipFeature=new bl(e,this.beans),this.addDestroyFunc((function(){var e;null===(e=t.tooltipFeature)||void 0===e||e.destroy(),t.tooltipFeature=null}))},e.prototype.setComp=function(t,e,i,o,n){var r,s,a,l;this.cellComp=t,this.eGui=e,this.printLayout=o,this.updateAndFormatValue(!0),this.addDomData(),this.onCellFocused(),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),i&&this.setupAutoHeight(i),this.setAriaColIndex(),this.beans.gridOptionsService.is("suppressCellFocus")||this.cellComp.setTabIndex(-1);var c=Ce(this.column.getId());this.cellComp.setColId(c),this.cellComp.setRole("gridcell"),null===(r=this.cellPositionFeature)||void 0===r||r.setComp(e),null===(s=this.cellCustomStyleFeature)||void 0===s||s.setComp(t),null===(a=this.tooltipFeature)||void 0===a||a.setComp(t),null===(l=this.cellKeyboardListenerFeature)||void 0===l||l.setComp(this.eGui),this.cellRangeFeature&&this.cellRangeFeature.setComp(t,e),n&&this.isCellEditable()?this.startEditing():this.showValue(),this.onCellCompAttachedFuncs.length&&(this.onCellCompAttachedFuncs.forEach((function(t){return t()})),this.onCellCompAttachedFuncs=[])},e.prototype.setupAutoHeight=function(t){var e=this;if(this.column.isAutoHeight()){var i=t.parentElement,o=this.beans.gridOptionsService.getRowHeightForNode(this.rowNode).height,n=function(r){if(!e.editing&&e.isAlive()){var s=ao(i),a=s.paddingTop+s.paddingBottom+s.borderBottomWidth+s.borderTopWidth,l=t.offsetHeight+a;if(r<5){var c=e.beans.gridOptionsService.getDocument();if(!c||!c.contains(t)||0==l)return void e.beans.frameworkOverrides.setTimeout((function(){return n(r+1)}),0)}var u=Math.max(l,o);e.rowNode.setRowAutoHeight(u,e.column)}},r=function(){return n(0)};r();var s=this.beans.resizeObserverService.observeResize(t,r);this.addDestroyFunc((function(){s(),e.rowNode.setRowAutoHeight(void 0,e.column)}))}},e.prototype.getInstanceId=function(){return this.instanceId},e.prototype.showValue=function(t){void 0===t&&(t=!1);var e=null!=this.valueFormatted?this.valueFormatted:this.value,i=this.createCellRendererParams(),o=this.beans.userComponentFactory.getCellRendererDetails(this.column.getColDef(),i);this.cellComp.setRenderDetails(o,e,t),this.refreshHandle()},e.prototype.setupControlComps=function(){var t=this.column.getColDef();this.includeSelection=this.isIncludeControl(t.checkboxSelection),this.includeRowDrag=this.isIncludeControl(t.rowDrag),this.includeDndSource=this.isIncludeControl(t.dndSource),this.cellComp.setIncludeSelection(this.includeSelection),this.cellComp.setIncludeDndSource(this.includeDndSource),this.cellComp.setIncludeRowDrag(this.includeRowDrag)},e.prototype.isForceWrapper=function(){return this.beans.gridOptionsService.is("enableCellTextSelection")||this.column.isAutoHeight()},e.prototype.isIncludeControl=function(t){return!(null!=this.rowNode.rowPinned)&&("function"==typeof t||!0===t)},e.prototype.refreshShouldDestroy=function(){var t=this.column.getColDef(),e=this.includeSelection!=this.isIncludeControl(t.checkboxSelection),i=this.includeRowDrag!=this.isIncludeControl(t.rowDrag),o=this.includeDndSource!=this.isIncludeControl(t.dndSource);return e||i||o},e.prototype.startEditing=function(t,e,i,o){var n=this;if(void 0===t&&(t=null),void 0===e&&(e=null),void 0===i&&(i=!1),void 0===o&&(o=null),this.isCellEditable()&&!this.editing)if(this.cellComp){var r=this.createCellEditorParams(t,e,i),s=this.column.getColDef(),a=this.beans.userComponentFactory.getCellEditorDetails(s,r),l=null!=(null==a?void 0:a.popupFromSelector)?a.popupFromSelector:!!s.cellEditorPopup,c=null!=(null==a?void 0:a.popupPositionFromSelector)?a.popupPositionFromSelector:s.cellEditorPopupPosition;this.setEditing(!0),this.cellComp.setEditDetails(a,l,c);var u=this.createEvent(o,zt.EVENT_CELL_EDITING_STARTED);this.beans.eventService.dispatchEvent(u)}else this.onCellCompAttachedFuncs.push((function(){n.startEditing(t,e,i,o)}))},e.prototype.setEditing=function(t){this.editing!==t&&(this.editing=t,this.refreshHandle())},e.prototype.stopRowOrCellEdit=function(t){void 0===t&&(t=!1),"fullRow"===this.beans.gridOptionsService.get("editType")?this.rowCtrl.stopRowEditing(t):this.stopEditing(t)},e.prototype.onPopupEditorClosed=function(){this.isEditing()&&this.stopEditingAndFocus()},e.prototype.takeValueFromCellEditor=function(t){var e={newValueExists:!1};if(t)return e;var i=this.cellComp.getCellEditor();return i?i.isCancelAfterEnd&&i.isCancelAfterEnd()?e:{newValue:i.getValue(),newValueExists:!0}:e},e.prototype.saveNewValue=function(t,e){if(e===t)return!1;this.suppressRefreshCell=!0;var i=this.rowNode.setDataValue(this.column,e,"edit");return this.suppressRefreshCell=!1,i},e.prototype.stopEditing=function(t){if(void 0===t&&(t=!1),!this.editing)return!1;var e=this.takeValueFromCellEditor(t),i=e.newValue,o=e.newValueExists,n=this.rowNode.getValueFromValueService(this.column),r=!1;return o&&(r=this.saveNewValue(n,i)),this.setEditing(!1),this.cellComp.setEditDetails(),this.updateAndFormatValue(),this.refreshCell({forceRefresh:!0,suppressFlash:!0}),this.dispatchEditingStoppedEvent(n,i,!t&&!!r),r},e.prototype.dispatchEditingStoppedEvent=function(t,e,i){var o=Rl(Rl({},this.createEvent(null,zt.EVENT_CELL_EDITING_STOPPED)),{oldValue:t,newValue:e,valueChanged:i});this.beans.eventService.dispatchEvent(o)},e.prototype.createCellEditorParams=function(t,e,i){return{value:this.rowNode.getValueFromValueService(this.column),eventKey:t,charPress:e,column:this.column,colDef:this.column.getColDef(),rowIndex:this.getCellPosition().rowIndex,node:this.rowNode,data:this.rowNode.data,api:this.beans.gridOptionsService.api,cellStartedEdit:i,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context,onKeyDown:this.onKeyDown.bind(this),stopEditing:this.stopEditingAndFocus.bind(this),eGridCell:this.getGui(),parseValue:this.parseValue.bind(this),formatValue:this.formatValue.bind(this)}},e.prototype.createCellRendererParams=function(){var t=this;return{value:this.value,valueFormatted:this.valueFormatted,getValue:function(){return t.rowNode.getValueFromValueService(t.column)},setValue:function(e){return t.beans.valueService.setValue(t.rowNode,t.column,e)},formatValue:this.formatValue.bind(this),data:this.rowNode.data,node:this.rowNode,pinned:this.column.getPinned(),colDef:this.column.getColDef(),column:this.column,rowIndex:this.getCellPosition().rowIndex,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context,refreshCell:this.refreshCell.bind(this),eGridCell:this.getGui(),eParentOfValue:this.cellComp.getParentOfValue(),registerRowDragger:function(e,i,o,n){return t.registerRowDragger(e,i,n)}}},e.prototype.parseValue=function(t){var e=this.column.getColDef(),i={node:this.rowNode,data:this.rowNode.data,oldValue:this.getValue(),newValue:t,colDef:e,column:this.column,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context},o=e.valueParser;return n(o)?"function"==typeof o?o(i):this.beans.expressionService.evaluate(o,i):t},e.prototype.setFocusOutOnEditor=function(){if(this.editing){var t=this.cellComp.getCellEditor();t&&t.focusOut&&t.focusOut()}},e.prototype.setFocusInOnEditor=function(){if(this.editing){var t=this.cellComp.getCellEditor();t&&t.focusIn?t.focusIn():this.focusCell(!0)}},e.prototype.onCellChanged=function(t){this.cellComp&&(t.column===this.column&&this.refreshCell({}))},e.prototype.refreshCell=function(t){var e,i,o;if(!this.suppressRefreshCell&&!this.editing&&this.cellComp){var n=this.column.getColDef(),r=null!=t&&!!t.newData,s=null!=t&&!!t.suppressFlash||!!n.suppressCellFlash,a=null==n.field&&null==n.valueGetter&&null==n.showRowGroup,l=t&&t.forceRefresh||a||r,c=this.updateAndFormatValue();if(l||c){this.showValue(r);var u=this.beans.filterManager.isSuppressFlashingCellsBecauseFiltering();!s&&!u&&(this.beans.gridOptionsService.is("enableCellChangeFlash")||n.enableCellChangeFlash)&&this.flashCell(),null===(e=this.cellCustomStyleFeature)||void 0===e||e.applyUserStyles(),null===(i=this.cellCustomStyleFeature)||void 0===i||i.applyClassesFromColDef()}this.refreshToolTip(),null===(o=this.cellCustomStyleFeature)||void 0===o||o.applyCellClassRules()}},e.prototype.stopEditingAndFocus=function(t){void 0===t&&(t=!1),this.stopRowOrCellEdit(),this.focusCell(!0),t||this.navigateAfterEdit()},e.prototype.navigateAfterEdit=function(){"fullRow"===this.beans.gridOptionsService.get("editType")||this.beans.gridOptionsService.is("enterMovesDownAfterEdit")&&this.beans.navigationService.navigateToNextCell(null,Uo.DOWN,this.getCellPosition(),!1)},e.prototype.flashCell=function(t){var e=t&&t.flashDelay,i=t&&t.fadeDelay;this.animateCell("data-changed",e,i)},e.prototype.animateCell=function(t,e,i){var o,r,s=this,a="ag-cell-"+t,l="ag-cell-"+t+"-animation",c=this.beans.gridOptionsService;e||(e=null!==(o=c.getNum("cellFlashDelay"))&&void 0!==o?o:500),n(i)||(i=null!==(r=c.getNum("cellFadeDelay"))&&void 0!==r?r:1e3),this.cellComp.addOrRemoveCssClass(a,!0),this.cellComp.addOrRemoveCssClass(l,!1),window.setTimeout((function(){s.isAlive()&&(s.cellComp.addOrRemoveCssClass(a,!1),s.cellComp.addOrRemoveCssClass(l,!0),s.eGui.style.transition="background-color "+i+"ms",window.setTimeout((function(){s.isAlive()&&(s.cellComp.addOrRemoveCssClass(l,!1),s.eGui.style.transition="")}),i))}),e)},e.prototype.onFlashCells=function(t){if(this.cellComp){var e=this.beans.cellPositionUtils.createId(this.getCellPosition());t.cells[e]&&this.animateCell("highlight")}},e.prototype.isCellEditable=function(){return this.column.isCellEditable(this.rowNode)},e.prototype.isSuppressFillHandle=function(){return this.column.isSuppressFillHandle()},e.prototype.formatValue=function(t){var e=this.callValueFormatter(t);return null!=e?e:t},e.prototype.callValueFormatter=function(t){return this.beans.valueFormatterService.formatValue(this.column,this.rowNode,t)},e.prototype.updateAndFormatValue=function(t){void 0===t&&(t=!1);var e=this.value,i=this.valueFormatted;return this.value=this.rowNode.getValueFromValueService(this.column),this.valueFormatted=this.callValueFormatter(this.value),!!t||(!this.valuesAreEqual(e,this.value)||this.valueFormatted!=i)},e.prototype.valuesAreEqual=function(t,e){var i=this.column.getColDef();return i.equals?i.equals(t,e):t===e},e.prototype.getComp=function(){return this.cellComp},e.prototype.getValue=function(){return this.value},e.prototype.getValueFormatted=function(){return this.valueFormatted},e.prototype.addDomData=function(){var t=this,i=this.getGui();this.beans.gridOptionsService.setDomData(i,e.DOM_DATA_KEY_CELL_CTRL,this),this.addDestroyFunc((function(){return t.beans.gridOptionsService.setDomData(i,e.DOM_DATA_KEY_CELL_CTRL,null)}))},e.prototype.createEvent=function(t,e){return{type:e,node:this.rowNode,data:this.rowNode.data,value:this.value,column:this.column,colDef:this.column.getColDef(),context:this.beans.gridOptionsService.context,api:this.beans.gridApi,columnApi:this.beans.columnApi,rowPinned:this.rowNode.rowPinned,event:t,rowIndex:this.rowNode.rowIndex}},e.prototype.onKeyPress=function(t){var e;null===(e=this.cellKeyboardListenerFeature)||void 0===e||e.onKeyPress(t)},e.prototype.onKeyDown=function(t){var e;null===(e=this.cellKeyboardListenerFeature)||void 0===e||e.onKeyDown(t)},e.prototype.onMouseEvent=function(t,e){var i;null===(i=this.cellMouseListenerFeature)||void 0===i||i.onMouseEvent(t,e)},e.prototype.getGui=function(){return this.eGui},e.prototype.refreshToolTip=function(){var t;null===(t=this.tooltipFeature)||void 0===t||t.refreshToolTip()},e.prototype.getColSpanningList=function(){return this.cellPositionFeature.getColSpanningList()},e.prototype.onLeftChanged=function(){var t;this.cellComp&&(null===(t=this.cellPositionFeature)||void 0===t||t.onLeftChanged())},e.prototype.onDisplayedColumnsChanged=function(){this.eGui&&this.setAriaColIndex()},e.prototype.setAriaColIndex=function(){var t=this.beans.columnModel.getAriaColumnIndex(this.column);hi(this.getGui(),t)},e.prototype.isSuppressNavigable=function(){return this.column.isSuppressNavigable(this.rowNode)},e.prototype.onWidthChanged=function(){var t;return null===(t=this.cellPositionFeature)||void 0===t?void 0:t.onWidthChanged()},e.prototype.getColumn=function(){return this.column},e.prototype.getRowNode=function(){return this.rowNode},e.prototype.getBeans=function(){return this.beans},e.prototype.isPrintLayout=function(){return this.printLayout},e.prototype.appendChild=function(t){this.eGui.appendChild(t)},e.prototype.refreshHandle=function(){this.cellRangeFeature&&this.cellRangeFeature.refreshHandle()},e.prototype.getCellPosition=function(){return this.cellPosition},e.prototype.isEditing=function(){return this.editing},e.prototype.startRowOrCellEdit=function(t,e,i){void 0===i&&(i=null),this.cellComp&&("fullRow"===this.beans.gridOptionsService.get("editType")?this.rowCtrl.startRowEditing(t,e,this):this.startEditing(t,e,!0,i))},e.prototype.getRowCtrl=function(){return this.rowCtrl},e.prototype.getRowPosition=function(){return{rowIndex:this.cellPosition.rowIndex,rowPinned:this.cellPosition.rowPinned}},e.prototype.updateRangeBordersIfRangeCount=function(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.updateRangeBordersIfRangeCount()},e.prototype.onRangeSelectionChanged=function(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()},e.prototype.isRangeSelectionEnabled=function(){return null!=this.cellRangeFeature},e.prototype.focusCell=function(t){void 0===t&&(t=!1),this.beans.focusService.setFocusedCell({rowIndex:this.getCellPosition().rowIndex,column:this.column,rowPinned:this.rowNode.rowPinned,forceBrowserFocus:t})},e.prototype.onRowIndexChanged=function(){this.createCellPosition(),this.onCellFocused(),this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()},e.prototype.onFirstRightPinnedChanged=function(){if(this.cellComp){var t=this.column.isFirstRightPinned();this.cellComp.addOrRemoveCssClass("ag-cell-first-right-pinned",t)}},e.prototype.onLastLeftPinnedChanged=function(){if(this.cellComp){var t=this.column.isLastLeftPinned();this.cellComp.addOrRemoveCssClass("ag-cell-last-left-pinned",t)}},e.prototype.onCellFocused=function(t){if(this.cellComp&&!this.beans.gridOptionsService.is("suppressCellFocus")){var e=this.beans.focusService.isCellFocused(this.cellPosition);if(this.cellComp.addOrRemoveCssClass("ag-cell-focus",e),e&&t&&t.forceBrowserFocus)this.cellComp.getFocusableElement().focus({preventScroll:!!t.preventScrollOnBrowserFocus});var i="fullRow"===this.beans.gridOptionsService.get("editType");e||i||!this.editing||this.stopRowOrCellEdit()}},e.prototype.createCellPosition=function(){this.cellPosition={rowIndex:this.rowNode.rowIndex,rowPinned:o(this.rowNode.rowPinned),column:this.column}},e.prototype.applyStaticCssClasses=function(){this.cellComp.addOrRemoveCssClass("ag-cell",!0),this.cellComp.addOrRemoveCssClass("ag-cell-not-inline-editing",!0);var t=1==this.column.isAutoHeight();this.cellComp.addOrRemoveCssClass("ag-cell-auto-height",t),this.cellComp.addOrRemoveCssClass("ag-cell-normal-height",!t)},e.prototype.onColumnHover=function(){if(this.cellComp&&this.beans.gridOptionsService.is("columnHoverHighlight")){var t=this.beans.columnHoverService.isHovered(this.column);this.cellComp.addOrRemoveCssClass("ag-column-hover",t)}},e.prototype.onColDefChanged=function(){this.cellComp&&(this.setWrapText(),this.editing||this.refreshCell({forceRefresh:!0,suppressFlash:!0}))},e.prototype.setWrapText=function(){var t=1==this.column.getColDef().wrapText;this.cellComp.addOrRemoveCssClass("ag-cell-wrap-text",t)},e.prototype.dispatchCellContextMenuEvent=function(t){var e=this.column.getColDef(),i=this.createEvent(t,zt.EVENT_CELL_CONTEXT_MENU);this.beans.eventService.dispatchEvent(i),e.onCellContextMenu&&window.setTimeout((function(){return e.onCellContextMenu(i)}),0)},e.prototype.getCellRenderer=function(){return this.cellComp?this.cellComp.getCellRenderer():null},e.prototype.getCellEditor=function(){return this.cellComp?this.cellComp.getCellEditor():null},e.prototype.destroy=function(){this.onCellCompAttachedFuncs=[],t.prototype.destroy.call(this)},e.prototype.createSelectionCheckbox=function(){var t=new Ps;return this.beans.context.createBean(t),t.init({rowNode:this.rowNode,column:this.column}),t},e.prototype.createDndSource=function(){var t=new Dl(this.rowNode,this.column,this.beans,this.eGui);return this.beans.context.createBean(t),t},e.prototype.registerRowDragger=function(t,e,i){var o=this;if(this.customRowDragComp)this.customRowDragComp.setDragElement(t,e);else{var n=this.createRowDragComp(t,e,i);n&&(this.customRowDragComp=n,this.addDestroyFunc((function(){o.beans.context.destroyBean(n),o.customRowDragComp=null})))}},e.prototype.createRowDragComp=function(t,e,i){var o=this,n=this.beans.gridOptionsService.is("pagination"),r=this.beans.gridOptionsService.is("rowDragManaged"),s=this.beans.gridOptionsService.isRowModelType("clientSide");if(r){if(!s)return void P((function(){return console.warn("AG Grid: managed row dragging is only allowed in the Client Side Row Model")}),"CellComp.addRowDragging");if(n)return void P((function(){return console.warn("AG Grid: managed row dragging is not possible when doing pagination")}),"CellComp.addRowDragging")}var a=new Ns((function(){return o.value}),this.rowNode,this.column,t,e,i);return this.beans.context.createBean(a),a},e.DOM_DATA_KEY_CELL_CTRL="cellCtrl",e}(jt),Nl=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),kl=function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],o=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Fl=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,n,r=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return s},Bl=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Fl(arguments[e]));return t};!function(t){t.Normal="Normal",t.FullWidth="FullWidth",t.FullWidthLoading="FullWidthLoading",t.FullWidthGroup="FullWidthGroup",t.FullWidthDetail="FullWidthDetail"}(pl||(pl={}));var Gl,jl,Vl=0,Ul=function(t){function e(e,i,o,n,r){var s=t.call(this)||this;return s.allRowGuis=[],s.active=!0,s.centerCellCtrls={list:[],map:{}},s.leftCellCtrls={list:[],map:{}},s.rightCellCtrls={list:[],map:{}},s.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},s.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},s.lastMouseDownOnDragger=!1,s.updateColumnListsPending=!1,s.businessKeySanitised=null,s.beans=i,s.rowNode=e,s.paginationPage=s.beans.paginationProxy.getCurrentPage(),s.useAnimationFrameForCreate=n,s.printLayout=r,s.instanceId=e.id+"-"+Vl++,s.setAnimateFlags(o),s.initRowBusinessKey(),s.rowFocused=s.beans.focusService.isRowFocused(s.rowNode.rowIndex,s.rowNode.rowPinned),s.rowLevel=s.beans.rowCssClassCalculator.calculateRowLevel(s.rowNode),s.setRowType(),s.addListeners(),s}return Nl(e,t),e.prototype.initRowBusinessKey=function(){var t=this.beans.gridOptionsService.get("getBusinessKeyForNode");if("function"==typeof t){var e=t(this.rowNode);this.businessKeySanitised=Ce(e)}},e.prototype.isSticky=function(){return this.rowNode.sticky},e.prototype.getBeans=function(){return this.beans},e.prototype.getInstanceId=function(){return this.instanceId},e.prototype.setComp=function(t,e,i){var o={rowComp:t,element:e,containerType:i};this.allRowGuis.push(o),i===jl.LEFT?this.leftGui=o:i===jl.RIGHT?this.rightGui=o:i===jl.FULL_WIDTH?this.fullWidthGui=o:this.centerGui=o,this.initialiseRowComp(o),"FullWidthLoading"===this.rowType||this.rowNode.rowPinned||this.beans.rowRenderer.dispatchFirstDataRenderedEvent()},e.prototype.unsetComp=function(t){this.allRowGuis=this.allRowGuis.filter((function(e){return e.containerType!==t})),t===jl.LEFT?this.leftGui=void 0:t===jl.RIGHT?this.rightGui=void 0:t===jl.FULL_WIDTH&&(this.fullWidthGui=void 0)},e.prototype.isCacheable=function(){return this.rowType===pl.FullWidthDetail&&this.beans.gridOptionsService.is("keepDetailRows")},e.prototype.setCached=function(t){var e=t?"none":"";this.allRowGuis.forEach((function(t){return t.element.style.display=e}))},e.prototype.initialiseRowComp=function(t){var i=this,o=this.beans.gridOptionsService;this.onRowHeightChanged(t),this.updateRowIndexes(t),this.setFocusedClasses(t),this.setStylesFromGridOptions(t),o.isRowSelection()&&this.rowNode.selectable&&this.onRowSelected(t),this.updateColumnLists(!this.useAnimationFrameForCreate);var n=t.rowComp;n.setRole("row"),this.getInitialRowClasses(t.containerType).forEach((function(t){return n.addOrRemoveCssClass(t,!0)})),this.executeSlideAndFadeAnimations(t),this.rowNode.group&&oi(t.element,1==this.rowNode.expanded);var r=Ce(this.rowNode.id);null!=r&&n.setRowId(r),null!=this.businessKeySanitised&&n.setRowBusinessKey(this.businessKeySanitised),this.isFullWidth()&&!this.beans.gridOptionsService.is("suppressCellFocus")&&n.setTabIndex(-1),o.setDomData(t.element,e.DOM_DATA_KEY_ROW_CTRL,this),this.addDestroyFunc((function(){return o.setDomData(t.element,e.DOM_DATA_KEY_ROW_CTRL,null)})),this.useAnimationFrameForCreate?this.beans.animationFrameService.createTask(this.addHoverFunctionality.bind(this,t.element),this.rowNode.rowIndex,"createTasksP2"):this.addHoverFunctionality(t.element),this.isFullWidth()&&this.setupFullWidth(t),o.is("rowDragEntireRow")&&this.addRowDraggerToRow(t),this.useAnimationFrameForCreate&&this.beans.animationFrameService.addDestroyTask((function(){i.isAlive()&&t.rowComp.addOrRemoveCssClass("ag-after-created",!0)})),this.executeProcessRowPostCreateFunc()},e.prototype.executeSlideAndFadeAnimations=function(t){var e=this,i=t.containerType;this.slideInAnimation[i]&&(L((function(){e.onTopChanged()})),this.slideInAnimation[i]=!1),this.fadeInAnimation[i]&&(L((function(){t.rowComp.addOrRemoveCssClass("ag-opacity-zero",!1)})),this.fadeInAnimation[i]=!1)},e.prototype.addRowDraggerToRow=function(t){if(this.beans.gridOptionsService.isEnableRangeSelection())P((function(){console.warn("AG Grid: Setting `rowDragEntireRow: true` in the gridOptions doesn't work with `enableRangeSelection: true`")}),"rowDragAndRangeSelectionEnabled");else{var e=this.beans.localeService.getLocaleTextFunc(),i=new Ns((function(){return"1 "+e("rowDragRow","row")}),this.rowNode,void 0,t.element,void 0,!0);this.createManagedBean(i,this.beans.context)}},e.prototype.setupFullWidth=function(t){var e=this.getPinnedForContainer(t.containerType),i=this.createFullWidthParams(t.element,e);if(this.rowType!=pl.FullWidthDetail||ot.assertRegistered(J.MasterDetailModule,"cell renderer 'agDetailCellRenderer' (for master detail)")){var o;switch(this.rowType){case pl.FullWidthDetail:o=this.beans.userComponentFactory.getFullWidthDetailCellRendererDetails(i);break;case pl.FullWidthGroup:o=this.beans.userComponentFactory.getFullWidthGroupCellRendererDetails(i);break;case pl.FullWidthLoading:o=this.beans.userComponentFactory.getFullWidthLoadingCellRendererDetails(i);break;default:o=this.beans.userComponentFactory.getFullWidthCellRendererDetails(i)}t.rowComp.showFullWidth(o)}},e.prototype.isPrintLayout=function(){return this.printLayout},e.prototype.getFullWidthCellRenderer=function(){var t,e;return null===(e=null===(t=this.fullWidthGui)||void 0===t?void 0:t.rowComp)||void 0===e?void 0:e.getFullWidthCellRenderer()},e.prototype.getCellElement=function(t){var e=this.getCellCtrl(t);return e?e.getGui():null},e.prototype.executeProcessRowPostCreateFunc=function(){var t,e=this.beans.gridOptionsService.getCallback("processRowPostCreate");e&&this.areAllContainersReady()&&e({eRow:null===(t=this.centerGui)||void 0===t?void 0:t.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)})},e.prototype.areAllContainersReady=function(){var t=!!this.leftGui||!this.beans.columnModel.isPinningLeft(),e=!!this.centerGui,i=!!this.rightGui||!this.beans.columnModel.isPinningRight();return t&&e&&i},e.prototype.setRowType=function(){var t=this.rowNode.stub,e=this.rowNode.isFullWidthCell(),i=this.beans.doingMasterDetail&&this.rowNode.detail,o=this.beans.columnModel.isPivotMode(),n=!!this.rowNode.group&&!this.rowNode.footer&&this.beans.gridOptionsService.isGroupUseEntireRow(o);this.rowType=t?pl.FullWidthLoading:i?pl.FullWidthDetail:e?pl.FullWidth:n?pl.FullWidthGroup:pl.Normal},e.prototype.updateColumnLists=function(t,e){var i=this;(void 0===t&&(t=!1),void 0===e&&(e=!1),this.isFullWidth())||(t||this.beans.gridOptionsService.is("suppressAnimationFrame")||this.printLayout?this.updateColumnListsImpl(e):this.updateColumnListsPending||(this.beans.animationFrameService.createTask((function(){i.active&&i.updateColumnListsImpl(!0)}),this.rowNode.rowIndex,"createTasksP1"),this.updateColumnListsPending=!0))},e.prototype.createCellCtrls=function(t,e,i){var o=this;void 0===i&&(i=null);var n={list:[],map:{}},r=function(t,e){n.list.push(e),n.map[t]=e};return e.forEach((function(e){var i=e.getInstanceId(),n=t.map[i];n||(n=new Il(e,o.rowNode,o.beans,o)),r(i,n)})),t.list.forEach((function(t){null!=n.map[t.getColumn().getInstanceId()]||(!o.isCellEligibleToBeRemoved(t,i)?r(t.getColumn().getInstanceId(),t):t.destroy())})),n},e.prototype.updateColumnListsImpl=function(t){var e=this;void 0===t&&(t=!1),this.updateColumnListsPending=!1;var i=this.beans.columnModel;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,i.getAllDisplayedColumns()),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{var o=i.getViewportCenterColumnsForRow(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,o);var n=i.getDisplayedLeftColumnsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,n,"left");var r=i.getDisplayedRightColumnsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,r,"right")}this.allRowGuis.forEach((function(i){var o=i.containerType===jl.LEFT?e.leftCellCtrls:i.containerType===jl.RIGHT?e.rightCellCtrls:e.centerCellCtrls;i.rowComp.setCellCtrls(o.list,t)}))},e.prototype.isCellEligibleToBeRemoved=function(t,e){var i=!0;if(t.getColumn().getPinned()!=e)return i;var o=t.isEditing(),n=this.beans.focusService.isCellFocused(t.getCellPosition());if(o||n){var r=t.getColumn();return!(this.beans.columnModel.getAllDisplayedColumns().indexOf(r)>=0)&&i}return i},e.prototype.setAnimateFlags=function(t){if(!this.isSticky()&&t){var e=n(this.rowNode.oldRowTop),i=this.beans.columnModel.isPinningLeft(),o=this.beans.columnModel.isPinningRight();e?(this.slideInAnimation.center=!0,this.slideInAnimation.left=i,this.slideInAnimation.right=o):(this.fadeInAnimation.center=!0,this.fadeInAnimation.left=i,this.fadeInAnimation.right=o)}},e.prototype.isEditing=function(){return this.editingRow},e.prototype.stopRowEditing=function(t){this.stopEditing(t)},e.prototype.isFullWidth=function(){return this.rowType!==pl.Normal},e.prototype.getRowType=function(){return this.rowType},e.prototype.refreshFullWidth=function(){var t=this,e=function(e,i){if(!e)return!0;var o=e.rowComp.getFullWidthCellRenderer();if(!o)return!1;if(!o.refresh)return!1;var n=t.createFullWidthParams(e.element,i);return o.refresh(n)},i=e(this.fullWidthGui,null),o=e(this.centerGui,null),n=e(this.leftGui,"left"),r=e(this.rightGui,"right");return i&&o&&n&&r},e.prototype.addListeners=function(){var t=this;this.addManagedListener(this.rowNode,Ss.EVENT_HEIGHT_CHANGED,(function(){return t.onRowHeightChanged()})),this.addManagedListener(this.rowNode,Ss.EVENT_ROW_SELECTED,(function(){return t.onRowSelected()})),this.addManagedListener(this.rowNode,Ss.EVENT_ROW_INDEX_CHANGED,this.onRowIndexChanged.bind(this)),this.addManagedListener(this.rowNode,Ss.EVENT_TOP_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(this.rowNode,Ss.EVENT_EXPANDED_CHANGED,this.updateExpandedCss.bind(this)),this.addManagedListener(this.rowNode,Ss.EVENT_HAS_CHILDREN_CHANGED,this.updateExpandedCss.bind(this)),this.addManagedListener(this.rowNode,Ss.EVENT_DATA_CHANGED,this.onRowNodeDataChanged.bind(this)),this.addManagedListener(this.rowNode,Ss.EVENT_CELL_CHANGED,this.onRowNodeCellChanged.bind(this)),this.addManagedListener(this.rowNode,Ss.EVENT_HIGHLIGHT_CHANGED,this.onRowNodeHighlightChanged.bind(this)),this.addManagedListener(this.rowNode,Ss.EVENT_DRAGGING_CHANGED,this.onRowNodeDraggingChanged.bind(this)),this.addManagedListener(this.rowNode,Ss.EVENT_UI_LEVEL_CHANGED,this.onUiLevelChanged.bind(this));var e=this.beans.eventService;this.addManagedListener(e,zt.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,this.onPaginationPixelOffsetChanged.bind(this)),this.addManagedListener(e,zt.EVENT_HEIGHT_SCALE_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(e,zt.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(e,zt.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(e,zt.EVENT_CELL_FOCUSED,this.onCellFocused.bind(this)),this.addManagedListener(e,zt.EVENT_CELL_FOCUS_CLEARED,this.onCellFocusCleared.bind(this)),this.addManagedListener(e,zt.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),this.addManagedListener(e,zt.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedListener(e,zt.EVENT_COLUMN_MOVED,this.onColumnMoved.bind(this)),this.addListenersForCellComps()},e.prototype.onColumnMoved=function(){this.updateColumnLists()},e.prototype.addListenersForCellComps=function(){var t=this;this.addManagedListener(this.rowNode,Ss.EVENT_ROW_INDEX_CHANGED,(function(){t.getAllCellCtrls().forEach((function(t){return t.onRowIndexChanged()}))})),this.addManagedListener(this.rowNode,Ss.EVENT_CELL_CHANGED,(function(e){t.getAllCellCtrls().forEach((function(t){return t.onCellChanged(e)}))}))},e.prototype.onRowNodeDataChanged=function(t){this.rowNode.detailNode&&this.beans.rowRenderer.refreshFullWidthRow(this.rowNode.detailNode),this.isFullWidth()?this.beans.rowRenderer.refreshFullWidthRow(this.rowNode):(this.getAllCellCtrls().forEach((function(e){return e.refreshCell({suppressFlash:!t.update,newData:!t.update})})),this.onRowSelected(),this.postProcessCss())},e.prototype.onRowNodeCellChanged=function(){this.postProcessCss()},e.prototype.postProcessCss=function(){this.setStylesFromGridOptions(),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()},e.prototype.onRowNodeHighlightChanged=function(){var t=this.rowNode.highlighted;this.allRowGuis.forEach((function(e){var i=t===Pa.Above,o=t===Pa.Below;e.rowComp.addOrRemoveCssClass("ag-row-highlight-above",i),e.rowComp.addOrRemoveCssClass("ag-row-highlight-below",o)}))},e.prototype.onRowNodeDraggingChanged=function(){this.postProcessRowDragging()},e.prototype.postProcessRowDragging=function(){var t=this.rowNode.dragging;this.allRowGuis.forEach((function(e){return e.rowComp.addOrRemoveCssClass("ag-row-dragging",t)}))},e.prototype.updateExpandedCss=function(){var t=this.rowNode.isExpandable(),e=1==this.rowNode.expanded;this.allRowGuis.forEach((function(i){i.rowComp.addOrRemoveCssClass("ag-row-group",t),i.rowComp.addOrRemoveCssClass("ag-row-group-expanded",t&&e),i.rowComp.addOrRemoveCssClass("ag-row-group-contracted",t&&!e),oi(i.element,t&&e)}))},e.prototype.onDisplayedColumnsChanged=function(){this.updateColumnLists(!0),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights()},e.prototype.onVirtualColumnsChanged=function(){this.updateColumnLists(!1,!0)},e.prototype.getRowPosition=function(){return{rowPinned:o(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}},e.prototype.onKeyboardNavigate=function(t){var e=this.allRowGuis.find((function(e){return e.element.contains(t.target)}));if((e?e.element:null)===t.target){var i=this.rowNode,o=this.beans.focusService.getFocusedCell(),n={rowIndex:i.rowIndex,rowPinned:i.rowPinned,column:o&&o.column};this.beans.navigationService.navigateToNextCell(t,t.key,n,!0),t.preventDefault()}},e.prototype.onTabKeyDown=function(t){if(!t.defaultPrevented&&!Mt(t)){var e=this.allRowGuis.find((function(e){return e.element.contains(t.target)})),i=e?e.element:null,o=i===t.target,n=null;o||(n=this.beans.focusService.findNextFocusableElement(i,!1,t.shiftKey)),(this.isFullWidth()&&o||!n)&&this.beans.navigationService.onTabKeyDown(this,t)}},e.prototype.onFullWidthRowFocused=function(t){var e,i=this.rowNode,o=!!t&&(this.isFullWidth()&&t.rowIndex===i.rowIndex&&t.rowPinned==i.rowPinned),n=this.fullWidthGui?this.fullWidthGui.element:null===(e=this.centerGui)||void 0===e?void 0:e.element;n&&(n.classList.toggle("ag-full-width-focus",o),o&&n.focus({preventScroll:!0}))},e.prototype.refreshCell=function(t){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,t),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,t),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,t),this.updateColumnLists()},e.prototype.removeCellCtrl=function(t,e){var i={list:[],map:{}};return t.list.forEach((function(t){t!==e&&(i.list.push(t),i.map[t.getInstanceId()]=t)})),i},e.prototype.onMouseEvent=function(t,e){switch(t){case"dblclick":this.onRowDblClick(e);break;case"click":this.onRowClick(e);break;case"touchstart":case"mousedown":this.onRowMouseDown(e)}},e.prototype.createRowEvent=function(t,e){return{type:t,node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,context:this.beans.gridOptionsService.context,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,event:e}},e.prototype.createRowEventWithSource=function(t,e){var i=this.createRowEvent(t,e);return i.source=this,i},e.prototype.onRowDblClick=function(t){if(!Mt(t)){var e=this.createRowEventWithSource(zt.EVENT_ROW_DOUBLE_CLICKED,t);this.beans.eventService.dispatchEvent(e)}},e.prototype.onRowMouseDown=function(t){if(this.lastMouseDownOnDragger=so(t.target,"ag-row-drag",3),this.isFullWidth()){var e=this.rowNode,i=this.beans.columnModel;this.beans.rangeService&&this.beans.rangeService.removeAllCellRanges(),this.beans.focusService.setFocusedCell({rowIndex:e.rowIndex,column:i.getAllDisplayedColumns()[0],rowPinned:e.rowPinned,forceBrowserFocus:!0})}},e.prototype.onRowClick=function(t){if(!(Mt(t)||this.lastMouseDownOnDragger)){var e=this.createRowEventWithSource(zt.EVENT_ROW_CLICKED,t);this.beans.eventService.dispatchEvent(e);var i=t.ctrlKey||t.metaKey,o=t.shiftKey;if(!(this.beans.gridOptionsService.is("groupSelectsChildren")&&this.rowNode.group||!this.rowNode.selectable||this.rowNode.rowPinned||!this.beans.gridOptionsService.isRowSelection()||this.beans.gridOptionsService.is("suppressRowClickSelection"))){var n=this.beans.gridOptionsService.is("rowMultiSelectWithClick"),r=!this.beans.gridOptionsService.is("suppressRowDeselection"),s="rowClicked";if(this.rowNode.isSelected())n?this.rowNode.setSelectedParams({newValue:!1,event:t,source:s}):i?r&&this.rowNode.setSelectedParams({newValue:!1,event:t,source:s}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!o,rangeSelect:o,event:t,source:s});else{var a=!n&&!i;this.rowNode.setSelectedParams({newValue:!0,clearSelection:a,rangeSelect:o,event:t,source:s})}}}},e.prototype.setupDetailRowAutoHeight=function(t){var e=this;if(this.rowType===pl.FullWidthDetail&&this.beans.gridOptionsService.is("detailRowAutoHeight")){var i=function(){var i=t.clientHeight;if(null!=i&&i>0){e.beans.frameworkOverrides.setTimeout((function(){e.rowNode.setRowHeight(i),e.beans.clientSideRowModel?e.beans.clientSideRowModel.onRowHeightChanged():e.beans.serverSideRowModel&&e.beans.serverSideRowModel.onRowHeightChanged()}),0)}},o=this.beans.resizeObserverService.observeResize(t,i);this.addDestroyFunc(o),i()}},e.prototype.createFullWidthParams=function(t,e){var i=this;return{fullWidth:!0,data:this.rowNode.data,node:this.rowNode,value:this.rowNode.key,valueFormatted:this.rowNode.key,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context,eGridCell:t,eParentOfValue:t,pinned:e,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:function(t,e,o,n){return i.addFullWidthRowDragging(t,e,o,n)}}},e.prototype.addFullWidthRowDragging=function(t,e,i,o){if(void 0===i&&(i=""),this.isFullWidth()){var n=new Ns((function(){return i}),this.rowNode,void 0,t,e,o);this.createManagedBean(n,this.beans.context)}},e.prototype.onUiLevelChanged=function(){var t=this.beans.rowCssClassCalculator.calculateRowLevel(this.rowNode);if(this.rowLevel!=t){var e="ag-row-level-"+t,i="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach((function(t){t.rowComp.addOrRemoveCssClass(e,!0),t.rowComp.addOrRemoveCssClass(i,!1)}))}this.rowLevel=t},e.prototype.isFirstRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageFirstRow()},e.prototype.isLastRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageLastRow()},e.prototype.onModelUpdated=function(){this.refreshFirstAndLastRowStyles()},e.prototype.refreshFirstAndLastRowStyles=function(){var t=this.isFirstRowOnPage(),e=this.isLastRowOnPage();this.firstRowOnPage!==t&&(this.firstRowOnPage=t,this.allRowGuis.forEach((function(e){return e.rowComp.addOrRemoveCssClass("ag-row-first",t)}))),this.lastRowOnPage!==e&&(this.lastRowOnPage=e,this.allRowGuis.forEach((function(t){return t.rowComp.addOrRemoveCssClass("ag-row-last",e)})))},e.prototype.stopEditing=function(t){var e,i;if(void 0===t&&(t=!1),!this.stoppingRowEdit){var o=this.getAllCellCtrls(),n=this.editingRow;this.stoppingRowEdit=!0;var r=!1;try{for(var s=kl(o),a=s.next();!a.done;a=s.next()){var l=a.value.stopEditing(t);n&&!t&&!r&&l&&(r=!0)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(e)throw e.error}}if(r){var c=this.createRowEvent(zt.EVENT_ROW_VALUE_CHANGED);this.beans.eventService.dispatchEvent(c)}n&&this.setEditingRow(!1),this.stoppingRowEdit=!1}},e.prototype.setInlineEditingCss=function(t){this.allRowGuis.forEach((function(e){e.rowComp.addOrRemoveCssClass("ag-row-inline-editing",t),e.rowComp.addOrRemoveCssClass("ag-row-not-inline-editing",!t)}))},e.prototype.setEditingRow=function(t){this.editingRow=t,this.allRowGuis.forEach((function(e){return e.rowComp.addOrRemoveCssClass("ag-row-editing",t)}));var e=t?this.createRowEvent(zt.EVENT_ROW_EDITING_STARTED):this.createRowEvent(zt.EVENT_ROW_EDITING_STOPPED);this.beans.eventService.dispatchEvent(e)},e.prototype.startRowEditing=function(t,e,i,o){(void 0===t&&(t=null),void 0===e&&(e=null),void 0===i&&(i=null),void 0===o&&(o=null),this.editingRow)||this.getAllCellCtrls().reduce((function(n,r){var s=r===i;return s?r.startEditing(t,e,s,o):r.startEditing(null,null,s,o),!!n||r.isEditing()}),!1)&&this.setEditingRow(!0)},e.prototype.getAllCellCtrls=function(){return 0===this.leftCellCtrls.list.length&&0===this.rightCellCtrls.list.length?this.centerCellCtrls.list:Bl(this.centerCellCtrls.list,this.leftCellCtrls.list,this.rightCellCtrls.list)},e.prototype.postProcessClassesFromGridOptions=function(){var t=this,e=this.beans.rowCssClassCalculator.processClassesFromGridOptions(this.rowNode);e&&e.length&&e.forEach((function(e){t.allRowGuis.forEach((function(t){return t.rowComp.addOrRemoveCssClass(e,!0)}))}))},e.prototype.postProcessRowClassRules=function(){var t=this;this.beans.rowCssClassCalculator.processRowClassRules(this.rowNode,(function(e){t.allRowGuis.forEach((function(t){return t.rowComp.addOrRemoveCssClass(e,!0)}))}),(function(e){t.allRowGuis.forEach((function(t){return t.rowComp.addOrRemoveCssClass(e,!1)}))}))},e.prototype.setStylesFromGridOptions=function(t){var e=this.processStylesFromGridOptions();this.forEachGui(t,(function(t){return t.rowComp.setUserStyles(e)}))},e.prototype.getPinnedForContainer=function(t){return t===jl.LEFT?"left":t===jl.RIGHT?"right":null},e.prototype.getInitialRowClasses=function(t){var e=this.getPinnedForContainer(t),i={rowNode:this.rowNode,rowFocused:this.rowFocused,fadeRowIn:this.fadeInAnimation[t],rowIsEven:this.rowNode.rowIndex%2==0,rowLevel:this.rowLevel,fullWidthRow:this.isFullWidth(),firstRowOnPage:this.isFirstRowOnPage(),lastRowOnPage:this.isLastRowOnPage(),printLayout:this.printLayout,expandable:this.rowNode.isExpandable(),pinned:e};return this.beans.rowCssClassCalculator.getInitialRowClasses(i)},e.prototype.processStylesFromGridOptions=function(){var t=this.beans.gridOptionsService.get("rowStyle");if(!t||"function"!=typeof t){var e,i=this.beans.gridOptionsService.getCallback("getRowStyle");if(i)e=i({data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex});return Object.assign({},t,e)}console.warn("AG Grid: rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead")},e.prototype.onRowSelected=function(t){var e=this,i=!!this.rowNode.isSelected();this.forEachGui(t,(function(t){t.rowComp.addOrRemoveCssClass("ag-row-selected",i),gi(t.element,!!i||void 0);var o=e.createAriaLabel();Ze(t.element,null==o?"":o)}))},e.prototype.createAriaLabel=function(){var t=this.rowNode.isSelected();if(!t||!this.beans.gridOptionsService.is("suppressRowDeselection"))return this.beans.localeService.getLocaleTextFunc()(t?"ariaRowDeselect":"ariaRowSelect","Press SPACE to "+(t?"deselect":"select")+" this row.")},e.prototype.isUseAnimationFrameForCreate=function(){return this.useAnimationFrameForCreate},e.prototype.addHoverFunctionality=function(t){var e=this;this.active&&(this.addManagedListener(t,"mouseenter",(function(){return e.rowNode.onMouseEnter()})),this.addManagedListener(t,"mouseleave",(function(){return e.rowNode.onMouseLeave()})),this.addManagedListener(this.rowNode,Ss.EVENT_MOUSE_ENTER,(function(){e.beans.dragService.isDragging()||e.beans.gridOptionsService.is("suppressRowHoverHighlight")||(t.classList.add("ag-row-hover"),e.rowNode.setHovered(!0))})),this.addManagedListener(this.rowNode,Ss.EVENT_MOUSE_LEAVE,(function(){t.classList.remove("ag-row-hover"),e.rowNode.setHovered(!1)})))},e.prototype.roundRowTopToBounds=function(t){var e=this.beans.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),i=this.applyPaginationOffset(e.top,!0)-100,o=this.applyPaginationOffset(e.bottom,!0)+100;return Math.min(Math.max(i,t),o)},e.prototype.getFrameworkOverrides=function(){return this.beans.frameworkOverrides},e.prototype.forEachGui=function(t,e){(t?[t]:this.allRowGuis).forEach(e)},e.prototype.onRowHeightChanged=function(t){if(null!=this.rowNode.rowHeight){var e=this.rowNode.rowHeight,i=this.beans.environment.getDefaultRowHeight(),o=this.beans.gridOptionsService.isGetRowHeightFunction()?this.beans.gridOptionsService.getRowHeightForNode(this.rowNode).height:void 0,n=o?Math.min(i,o)-2+"px":void 0;this.forEachGui(t,(function(t){t.element.style.height=e+"px",n&&t.element.style.setProperty("--ag-line-height",n)}))}},e.prototype.addEventListener=function(e,i){t.prototype.addEventListener.call(this,e,i)},e.prototype.removeEventListener=function(e,i){t.prototype.removeEventListener.call(this,e,i)},e.prototype.destroyFirstPass=function(){this.active=!1,this.beans.gridOptionsService.isAnimateRows()&&this.setupRemoveAnimation(),this.rowNode.setHovered(!1);var e=this.createRowEvent(zt.EVENT_VIRTUAL_ROW_REMOVED);this.dispatchEvent(e),this.beans.eventService.dispatchEvent(e),t.prototype.destroy.call(this)},e.prototype.setupRemoveAnimation=function(){if(!this.isSticky())if(null!=this.rowNode.rowTop){var t=this.roundRowTopToBounds(this.rowNode.rowTop);this.setRowTop(t)}else this.allRowGuis.forEach((function(t){return t.rowComp.addOrRemoveCssClass("ag-opacity-zero",!0)}))},e.prototype.destroySecondPass=function(){this.allRowGuis.length=0;var t=function(t){return t.list.forEach((function(t){return t.destroy()})),{list:[],map:{}}};this.centerCellCtrls=t(this.centerCellCtrls),this.leftCellCtrls=t(this.leftCellCtrls),this.rightCellCtrls=t(this.rightCellCtrls)},e.prototype.setFocusedClasses=function(t){var e=this;this.forEachGui(t,(function(t){t.rowComp.addOrRemoveCssClass("ag-row-focus",e.rowFocused),t.rowComp.addOrRemoveCssClass("ag-row-no-focus",!e.rowFocused)}))},e.prototype.onCellFocused=function(){this.onCellFocusChanged()},e.prototype.onCellFocusCleared=function(){this.onCellFocusChanged()},e.prototype.onCellFocusChanged=function(){var t=this.beans.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);t!==this.rowFocused&&(this.rowFocused=t,this.setFocusedClasses()),!t&&this.editingRow&&this.stopEditing(!1)},e.prototype.onPaginationChanged=function(){var t=this.beans.paginationProxy.getCurrentPage();this.paginationPage!==t&&(this.paginationPage=t,this.onTopChanged()),this.refreshFirstAndLastRowStyles()},e.prototype.onTopChanged=function(){this.setRowTop(this.rowNode.rowTop)},e.prototype.onPaginationPixelOffsetChanged=function(){this.onTopChanged()},e.prototype.applyPaginationOffset=function(t,e){return void 0===e&&(e=!1),this.rowNode.isRowPinned()?t:t+this.beans.paginationProxy.getPixelOffset()*(e?1:-1)},e.prototype.setRowTop=function(t){if(!this.printLayout&&n(t)){var e=this.applyPaginationOffset(t),i=(this.rowNode.isRowPinned()?e:this.beans.rowContainerHeightService.getRealPixelPosition(e))+"px";this.setRowTopStyle(i)}},e.prototype.getInitialRowTop=function(t){return this.beans.gridOptionsService.is("suppressRowTransform")?this.getInitialRowTopShared(t):void 0},e.prototype.getInitialTransform=function(t){return this.beans.gridOptionsService.is("suppressRowTransform")?void 0:"translateY("+this.getInitialRowTopShared(t)+")"},e.prototype.getInitialRowTopShared=function(t){if(this.printLayout)return"";var e;if(this.isSticky())e=this.rowNode.stickyRowTop;else{var i=this.slideInAnimation[t]?this.roundRowTopToBounds(this.rowNode.oldRowTop):this.rowNode.rowTop,o=this.applyPaginationOffset(i);e=this.rowNode.isRowPinned()?o:this.beans.rowContainerHeightService.getRealPixelPosition(o)}return e+"px"},e.prototype.setRowTopStyle=function(t){var e=this.beans.gridOptionsService.is("suppressRowTransform");this.allRowGuis.forEach((function(i){return e?i.rowComp.setTop(t):i.rowComp.setTransform("translateY("+t+")")}))},e.prototype.getRowNode=function(){return this.rowNode},e.prototype.getCellCtrl=function(t){var e=null;return this.getAllCellCtrls().forEach((function(i){i.getColumn()==t&&(e=i)})),null!=e||this.getAllCellCtrls().forEach((function(i){i.getColSpanningList().indexOf(t)>=0&&(e=i)})),e},e.prototype.onRowIndexChanged=function(){null!=this.rowNode.rowIndex&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())},e.prototype.updateRowIndexes=function(t){var e=this.rowNode.getRowIndexString(),i=this.beans.headerNavigationService.getHeaderRowCount(),o=this.rowNode.rowIndex%2==0,n=i+this.rowNode.rowIndex+1;this.forEachGui(t,(function(t){t.rowComp.setRowIndex(e),t.rowComp.addOrRemoveCssClass("ag-row-even",o),t.rowComp.addOrRemoveCssClass("ag-row-odd",!o),ci(t.element,n)}))},e.prototype.getPinnedLeftRowElement=function(){return this.leftGui?this.leftGui.element:void 0},e.prototype.getPinnedRightRowElement=function(){return this.rightGui?this.rightGui.element:void 0},e.prototype.getBodyRowElement=function(){return this.centerGui?this.centerGui.element:void 0},e.prototype.getFullWidthRowElement=function(){return this.fullWidthGui?this.fullWidthGui.element:void 0},e.DOM_DATA_KEY_ROW_CTRL="renderedRow",e}(jt),Wl=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),Hl=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},$l=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,n,r=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return s},zl=function(t){function e(e){var i=t.call(this)||this;return i.element=e,i}return Wl(e,t),e.prototype.postConstruct=function(){this.addMouseListeners(),this.mockContextMenuForIPad(),this.addKeyboardEvents()},e.prototype.addKeyboardEvents=function(){var t=this;["keydown","keypress"].forEach((function(e){var i=t.processKeyboardEvent.bind(t,e);t.addManagedListener(t.element,e,i)}))},e.prototype.addMouseListeners=function(){var t=this;["dblclick","contextmenu","mouseover","mouseout","click",At("touchstart")?"touchstart":"mousedown"].forEach((function(e){var i=t.processMouseEvent.bind(t,e);t.addManagedListener(t.element,e,i)}))},e.prototype.processMouseEvent=function(t,e){if(this.mouseEventService.isEventFromThisGrid(e)&&!Mt(e)){var i=this.getRowForEvent(e),o=this.mouseEventService.getRenderedCellForEvent(e);"contextmenu"===t?this.handleContextMenuMouseEvent(e,null,i,o):(o&&o.onMouseEvent(t,e),i&&i.onMouseEvent(t,e))}},e.prototype.mockContextMenuForIPad=function(){var t=this;if(Ai()){var e=new Xr(this.element);this.addManagedListener(e,Xr.EVENT_LONG_TAP,(function(e){var i=t.getRowForEvent(e.touchEvent),o=t.mouseEventService.getRenderedCellForEvent(e.touchEvent);t.handleContextMenuMouseEvent(null,e.touchEvent,i,o)})),this.addDestroyFunc((function(){return e.destroy()}))}},e.prototype.getRowForEvent=function(t){for(var e=t.target;e;){var i=this.gridOptionsService.getDomData(e,Ul.DOM_DATA_KEY_ROW_CTRL);if(i)return i;e=e.parentElement}return null},e.prototype.handleContextMenuMouseEvent=function(t,e,i,o){var n=i?i.getRowNode():null,r=o?o.getColumn():null,s=null;if(r){var a=t||e;o.dispatchCellContextMenuEvent(a),s=this.valueService.getValue(r,n)}var l=this.ctrlsService.getGridBodyCtrl(),c=o?o.getGui():l.getGridBodyElement();this.contextMenuFactory&&this.contextMenuFactory.onContextMenu(t,e,n,r,s,c)},e.prototype.processKeyboardEvent=function(t,e){var i=Rt(this.gridOptionsService,e.target,Il.DOM_DATA_KEY_CELL_CTRL),o=Rt(this.gridOptionsService,e.target,Ul.DOM_DATA_KEY_ROW_CTRL);e.defaultPrevented||(i?this.processCellKeyboardEvent(i,t,e):o&&o.isFullWidth()&&this.processFullWidthRowKeyboardEvent(o,t,e))},e.prototype.processCellKeyboardEvent=function(t,e,i){var o=t.getRowNode(),n=t.getColumn(),r=t.isEditing();if(!Ho(this.gridOptionsService,i,o,n,r))switch(e){case"keydown":!r&&this.navigationService.handlePageScrollingKey(i)||t.onKeyDown(i),this.doGridOperations(i,t.isEditing());break;case"keypress":t.onKeyPress(i)}if("keydown"===e){var s=t.createEvent(i,zt.EVENT_CELL_KEY_DOWN);this.eventService.dispatchEvent(s)}if("keypress"===e){var a=t.createEvent(i,zt.EVENT_CELL_KEY_PRESS);this.eventService.dispatchEvent(a)}},e.prototype.processFullWidthRowKeyboardEvent=function(t,e,i){var o=t.getRowNode(),n=this.focusService.getFocusedCell(),r=n&&n.column;if(!Ho(this.gridOptionsService,i,o,r,!1)){var s=i.key;if("keydown"===e)switch(s){case Uo.PAGE_HOME:case Uo.PAGE_END:this.navigationService.handlePageScrollingKey(i);break;case Uo.UP:case Uo.DOWN:t.onKeyboardNavigate(i);break;case Uo.TAB:t.onTabKeyDown(i)}}if("keydown"===e){var a=t.createRowEvent(zt.EVENT_CELL_KEY_DOWN,i);this.eventService.dispatchEvent(a)}if("keypress"===e){var l=t.createRowEvent(zt.EVENT_CELL_KEY_PRESS,i);this.eventService.dispatchEvent(l)}},e.prototype.doGridOperations=function(t,e){if((t.ctrlKey||t.metaKey)&&!e&&this.mouseEventService.isEventFromThisGrid(t)){var i=zo(t);return i===Uo.A?this.onCtrlAndA(t):i===Uo.C?this.onCtrlAndC(t):i===Uo.X?this.onCtrlAndX(t):i===Uo.V?this.onCtrlAndV():i===Uo.D?this.onCtrlAndD(t):i===Uo.Z?this.onCtrlAndZ(t):i===Uo.Y?this.onCtrlAndY():void 0}},e.prototype.onCtrlAndA=function(t){var e=this,i=e.pinnedRowModel,o=e.paginationProxy,n=e.rangeService;if(n&&o.isRowsToRender()){var r=$l([i.isEmpty("top"),i.isEmpty("bottom")],2),a=r[0]?null:"top",l=void 0,c=void 0;r[1]?(l=null,c=this.paginationProxy.getRowCount()-1):(l="bottom",c=i.getPinnedBottomRowData().length-1);var u=this.columnModel.getAllDisplayedColumns();if(s(u))return;n.setCellRange({rowStartIndex:0,rowStartPinned:a,rowEndIndex:c,rowEndPinned:l,columnStart:u[0],columnEnd:ft(u)})}t.preventDefault()},e.prototype.onCtrlAndC=function(t){this.clipboardService&&!this.gridOptionsService.is("enableCellTextSelection")&&(this.clipboardService.copyToClipboard(),t.preventDefault())},e.prototype.onCtrlAndX=function(t){!this.clipboardService||this.gridOptionsService.is("enableCellTextSelection")||this.gridOptionsService.is("suppressCutToClipboard")||(this.clipboardService.cutToClipboard(),t.preventDefault())},e.prototype.onCtrlAndV=function(){ot.isRegistered(J.ClipboardModule)&&!this.gridOptionsService.is("suppressClipboardPaste")&&this.clipboardService.pasteFromClipboard()},e.prototype.onCtrlAndD=function(t){ot.isRegistered(J.ClipboardModule)&&!this.gridOptionsService.is("suppressClipboardPaste")&&this.clipboardService.copyRangeDown(),t.preventDefault()},e.prototype.onCtrlAndZ=function(t){this.gridOptionsService.is("undoRedoCellEditing")&&(t.preventDefault(),t.shiftKey?this.undoRedoService.redo("ui"):this.undoRedoService.undo("ui"))},e.prototype.onCtrlAndY=function(){this.undoRedoService.redo("ui")},Hl([K("mouseEventService")],e.prototype,"mouseEventService",void 0),Hl([K("valueService")],e.prototype,"valueService",void 0),Hl([Y("contextMenuFactory")],e.prototype,"contextMenuFactory",void 0),Hl([K("ctrlsService")],e.prototype,"ctrlsService",void 0),Hl([K("navigationService")],e.prototype,"navigationService",void 0),Hl([K("focusService")],e.prototype,"focusService",void 0),Hl([K("undoRedoService")],e.prototype,"undoRedoService",void 0),Hl([K("columnModel")],e.prototype,"columnModel",void 0),Hl([K("paginationProxy")],e.prototype,"paginationProxy",void 0),Hl([K("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),Hl([Y("rangeService")],e.prototype,"rangeService",void 0),Hl([Y("clipboardService")],e.prototype,"clipboardService",void 0),Hl([H],e.prototype,"postConstruct",null),e}(jt),Kl=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),Yl=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},Xl=function(t){function e(e){var i=t.call(this)||this;return i.centerContainerCtrl=e,i}return Kl(e,t),e.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady((function(){t.gridBodyCtrl=t.ctrlsService.getGridBodyCtrl(),t.listenForResize()})),this.addManagedListener(this.eventService,zt.EVENT_SCROLLBAR_WIDTH_CHANGED,this.onScrollbarWidthChanged.bind(this))},e.prototype.listenForResize=function(){var t=this,e=function(){return t.onCenterViewportResized()};this.centerContainerCtrl.registerViewportResizeListener(e),this.gridBodyCtrl.registerBodyViewportResizeListener(e)},e.prototype.onScrollbarWidthChanged=function(){this.checkViewportAndScrolls()},e.prototype.onCenterViewportResized=function(){if(this.centerContainerCtrl.isViewportVisible()){this.checkViewportAndScrolls();var t=this.centerContainerCtrl.getCenterWidth();t!==this.centerWidth&&(this.centerWidth=t,this.columnModel.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0},e.prototype.checkViewportAndScrolls=function(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.getScrollFeature().checkScrollLeft()},e.prototype.getBodyHeight=function(){return this.bodyHeight},e.prototype.checkBodyHeight=function(){var t=lo(this.gridBodyCtrl.getBodyViewportElement());if(this.bodyHeight!==t){this.bodyHeight=t;var e={type:zt.EVENT_BODY_HEIGHT_CHANGED};this.eventService.dispatchEvent(e)}},e.prototype.updateScrollVisibleService=function(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)},e.prototype.updateScrollVisibleServiceImpl=function(){var t={horizontalScrollShowing:this.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleService.setScrollsVisible(t)},e.prototype.isHorizontalScrollShowing=function(){return this.centerContainerCtrl.isHorizontalScrollShowing()},e.prototype.onHorizontalViewportChanged=function(){var t=this.centerContainerCtrl.getCenterWidth(),e=this.centerContainerCtrl.getViewportScrollLeft();this.columnModel.setViewportPosition(t,e)},Yl([K("ctrlsService")],e.prototype,"ctrlsService",void 0),Yl([K("columnModel")],e.prototype,"columnModel",void 0),Yl([K("scrollVisibleService")],e.prototype,"scrollVisibleService",void 0),Yl([H],e.prototype,"postConstruct",null),e}(jt),Zl=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),ql=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},Jl=function(t){function e(e){var i=t.call(this)||this;return i.element=e,i}return Zl(e,t),e.prototype.postConstruct=function(){this.addManagedListener(this.eventService,zt.EVENT_LEFT_PINNED_WIDTH_CHANGED,this.onPinnedLeftWidthChanged.bind(this))},e.prototype.onPinnedLeftWidthChanged=function(){var t=this.pinnedWidthService.getPinnedLeftWidth(),e=t>0;oo(this.element,e),Mo(this.element,t)},e.prototype.getWidth=function(){return this.pinnedWidthService.getPinnedLeftWidth()},ql([K("pinnedWidthService")],e.prototype,"pinnedWidthService",void 0),ql([H],e.prototype,"postConstruct",null),e}(jt),Ql=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),tc=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},ec=function(t){function e(e){var i=t.call(this)||this;return i.element=e,i}return Ql(e,t),e.prototype.postConstruct=function(){this.addManagedListener(this.eventService,zt.EVENT_RIGHT_PINNED_WIDTH_CHANGED,this.onPinnedRightWidthChanged.bind(this))},e.prototype.onPinnedRightWidthChanged=function(){var t=this.pinnedWidthService.getPinnedRightWidth(),e=t>0;oo(this.element,e),Mo(this.element,t)},e.prototype.getWidth=function(){return this.pinnedWidthService.getPinnedRightWidth()},tc([K("pinnedWidthService")],e.prototype,"pinnedWidthService",void 0),tc([H],e.prototype,"postConstruct",null),e}(jt),ic=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),oc=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},nc=function(t){function e(e,i){var o=t.call(this)||this;return o.eContainer=e,o.eWrapper=i,o}return ic(e,t),e.prototype.postConstruct=function(){this.addManagedListener(this.eventService,zt.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,this.onHeightChanged.bind(this))},e.prototype.onHeightChanged=function(){var t=this.maxDivHeightScaler.getUiContainerHeight(),e=null!=t?t+"px":"";this.eContainer.style.height=e,this.eWrapper&&(this.eWrapper.style.height=e)},oc([K("rowContainerHeightService")],e.prototype,"maxDivHeightScaler",void 0),oc([H],e.prototype,"postConstruct",null),e}(jt),rc=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),sc=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},ac=function(t){function e(e){var i=t.call(this)||this;return i.eContainer=e,i}return rc(e,t),e.prototype.postConstruct=function(){var t=this;if(this.gridOptionsService.isEnableRangeSelection()&&!r(this.rangeService)){var e={eElement:this.eContainer,onDragStart:this.rangeService.onDragStart.bind(this.rangeService),onDragStop:this.rangeService.onDragStop.bind(this.rangeService),onDragging:this.rangeService.onDragging.bind(this.rangeService)};this.dragService.addDragSource(e),this.addDestroyFunc((function(){return t.dragService.removeDragSource(e)}))}},sc([Y("rangeService")],e.prototype,"rangeService",void 0),sc([K("dragService")],e.prototype,"dragService",void 0),sc([H],e.prototype,"postConstruct",null),e}(jt),lc=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),cc=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},uc=function(t){function e(e,i){void 0===i&&(i=!1);var o=t.call(this)||this;return o.callback=e,o.addSpacer=i,o}return lc(e,t),e.prototype.postConstruct=function(){var t=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",t),this.addManagedListener(this.eventService,zt.EVENT_DISPLAYED_COLUMNS_CHANGED,t),this.addManagedListener(this.eventService,zt.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,t),this.addManagedListener(this.eventService,zt.EVENT_LEFT_PINNED_WIDTH_CHANGED,t),this.addSpacer&&(this.addManagedListener(this.eventService,zt.EVENT_RIGHT_PINNED_WIDTH_CHANGED,t),this.addManagedListener(this.eventService,zt.EVENT_SCROLL_VISIBILITY_CHANGED,t),this.addManagedListener(this.eventService,zt.EVENT_SCROLLBAR_WIDTH_CHANGED,t)),this.setWidth()},e.prototype.setWidth=function(){var t,e=this.columnModel,i=this.gridOptionsService.isDomLayout("print"),o=e.getBodyContainerWidth(),n=e.getDisplayedColumnsLeftWidth(),r=e.getDisplayedColumnsRightWidth();i?t=o+n+r:(t=o,this.addSpacer&&0===(this.gridOptionsService.is("enableRtl")?n:r)&&this.scrollVisibleService.isVerticalScrollShowing()&&(t+=this.gridOptionsService.getScrollbarWidth()));this.callback(t)},cc([K("columnModel")],e.prototype,"columnModel",void 0),cc([K("scrollVisibleService")],e.prototype,"scrollVisibleService",void 0),cc([H],e.prototype,"postConstruct",null),e}(jt),hc=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),dc=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},pc=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,n,r=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return s},fc=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(pc(arguments[e]));return t};!function(t){t.LEFT="left",t.RIGHT="right",t.CENTER="center",t.FULL_WIDTH="fullWidth",t.TOP_LEFT="topLeft",t.TOP_RIGHT="topRight",t.TOP_CENTER="topCenter",t.TOP_FULL_WIDTH="topFullWidth",t.STICKY_TOP_LEFT="stickyTopLeft",t.STICKY_TOP_RIGHT="stickyTopRight",t.STICKY_TOP_CENTER="stickyTopCenter",t.STICKY_TOP_FULL_WIDTH="stickyTopFullWidth",t.BOTTOM_LEFT="bottomLeft",t.BOTTOM_RIGHT="bottomRight",t.BOTTOM_CENTER="bottomCenter",t.BOTTOM_FULL_WIDTH="bottomFullWidth"}(Gl||(Gl={})),function(t){t.LEFT="left",t.RIGHT="right",t.CENTER="center",t.FULL_WIDTH="fullWidth"}(jl||(jl={}));var gc=Se([[Gl.CENTER,"ag-center-cols-container"],[Gl.LEFT,"ag-pinned-left-cols-container"],[Gl.RIGHT,"ag-pinned-right-cols-container"],[Gl.FULL_WIDTH,"ag-full-width-container"],[Gl.TOP_CENTER,"ag-floating-top-container"],[Gl.TOP_LEFT,"ag-pinned-left-floating-top"],[Gl.TOP_RIGHT,"ag-pinned-right-floating-top"],[Gl.TOP_FULL_WIDTH,"ag-floating-top-full-width-container"],[Gl.STICKY_TOP_CENTER,"ag-sticky-top-container"],[Gl.STICKY_TOP_LEFT,"ag-pinned-left-sticky-top"],[Gl.STICKY_TOP_RIGHT,"ag-pinned-right-sticky-top"],[Gl.STICKY_TOP_FULL_WIDTH,"ag-sticky-top-full-width-container"],[Gl.BOTTOM_CENTER,"ag-floating-bottom-container"],[Gl.BOTTOM_LEFT,"ag-pinned-left-floating-bottom"],[Gl.BOTTOM_RIGHT,"ag-pinned-right-floating-bottom"],[Gl.BOTTOM_FULL_WIDTH,"ag-floating-bottom-full-width-container"]]),mc=Se([[Gl.CENTER,"ag-center-cols-viewport"],[Gl.TOP_CENTER,"ag-floating-top-viewport"],[Gl.STICKY_TOP_CENTER,"ag-sticky-top-viewport"],[Gl.BOTTOM_CENTER,"ag-floating-bottom-viewport"]]),yc=Se([[Gl.CENTER,"ag-center-cols-clipper"]]),vc=function(t){function e(e){var i=t.call(this)||this;return i.visible=!0,i.EMPTY_CTRLS=[],i.name=e,i.isFullWithContainer=i.name===Gl.TOP_FULL_WIDTH||i.name===Gl.STICKY_TOP_FULL_WIDTH||i.name===Gl.BOTTOM_FULL_WIDTH||i.name===Gl.FULL_WIDTH,i}return hc(e,t),e.getRowContainerCssClasses=function(t){return{container:gc.get(t),viewport:mc.get(t),wrapper:yc.get(t)}},e.getPinned=function(t){switch(t){case Gl.BOTTOM_LEFT:case Gl.TOP_LEFT:case Gl.STICKY_TOP_LEFT:case Gl.LEFT:return"left";case Gl.BOTTOM_RIGHT:case Gl.TOP_RIGHT:case Gl.STICKY_TOP_RIGHT:case Gl.RIGHT:return"right";default:return null}},e.prototype.postConstruct=function(){var t=this;this.enableRtl=this.gridOptionsService.is("enableRtl"),this.embedFullWidthRows=this.gridOptionsService.is("embedFullWidthRows"),this.forContainers([Gl.CENTER],(function(){return t.viewportSizeFeature=t.createManagedBean(new Xl(t))}))},e.prototype.registerWithCtrlsService=function(){switch(this.name){case Gl.CENTER:this.ctrlsService.registerCenterRowContainerCtrl(this);break;case Gl.LEFT:this.ctrlsService.registerLeftRowContainerCtrl(this);break;case Gl.RIGHT:this.ctrlsService.registerRightRowContainerCtrl(this);break;case Gl.TOP_CENTER:this.ctrlsService.registerTopCenterRowContainerCtrl(this);break;case Gl.TOP_LEFT:this.ctrlsService.registerTopLeftRowContainerCon(this);break;case Gl.TOP_RIGHT:this.ctrlsService.registerTopRightRowContainerCtrl(this);break;case Gl.STICKY_TOP_CENTER:this.ctrlsService.registerStickyTopCenterRowContainerCtrl(this);break;case Gl.STICKY_TOP_LEFT:this.ctrlsService.registerStickyTopLeftRowContainerCon(this);break;case Gl.STICKY_TOP_RIGHT:this.ctrlsService.registerStickyTopRightRowContainerCtrl(this);break;case Gl.BOTTOM_CENTER:this.ctrlsService.registerBottomCenterRowContainerCtrl(this);break;case Gl.BOTTOM_LEFT:this.ctrlsService.registerBottomLeftRowContainerCtrl(this);break;case Gl.BOTTOM_RIGHT:this.ctrlsService.registerBottomRightRowContainerCtrl(this)}},e.prototype.forContainers=function(t,e){t.indexOf(this.name)>=0&&e()},e.prototype.getContainerElement=function(){return this.eContainer},e.prototype.getViewportSizeFeature=function(){return this.viewportSizeFeature},e.prototype.setComp=function(t,e,i,o){var n=this;this.comp=t,this.eContainer=e,this.eViewport=i,this.eWrapper=o,this.createManagedBean(new zl(this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder(),this.stopHScrollOnPinnedRows();var r=[Gl.TOP_CENTER,Gl.TOP_LEFT,Gl.TOP_RIGHT],s=[Gl.STICKY_TOP_CENTER,Gl.STICKY_TOP_LEFT,Gl.STICKY_TOP_RIGHT],a=[Gl.BOTTOM_CENTER,Gl.BOTTOM_LEFT,Gl.BOTTOM_RIGHT],l=[Gl.CENTER,Gl.LEFT,Gl.RIGHT],c=fc(r,a,l,s),u=[Gl.CENTER,Gl.LEFT,Gl.RIGHT,Gl.FULL_WIDTH],h=[Gl.CENTER,Gl.TOP_CENTER,Gl.STICKY_TOP_CENTER,Gl.BOTTOM_CENTER],d=[Gl.LEFT,Gl.BOTTOM_LEFT,Gl.TOP_LEFT,Gl.STICKY_TOP_LEFT],p=[Gl.RIGHT,Gl.BOTTOM_RIGHT,Gl.TOP_RIGHT,Gl.STICKY_TOP_RIGHT];this.forContainers(d,(function(){n.pinnedWidthFeature=n.createManagedBean(new Jl(n.eContainer)),n.addManagedListener(n.eventService,zt.EVENT_LEFT_PINNED_WIDTH_CHANGED,(function(){return n.onPinnedWidthChanged()}))})),this.forContainers(p,(function(){n.pinnedWidthFeature=n.createManagedBean(new ec(n.eContainer)),n.addManagedListener(n.eventService,zt.EVENT_RIGHT_PINNED_WIDTH_CHANGED,(function(){return n.onPinnedWidthChanged()}))})),this.forContainers(u,(function(){return n.createManagedBean(new nc(n.eContainer,n.eWrapper))})),this.forContainers(c,(function(){return n.createManagedBean(new ac(n.eContainer))})),this.forContainers(h,(function(){return n.createManagedBean(new uc((function(t){return n.comp.setContainerWidth(t+"px")})))})),Gi()&&(this.forContainers([Gl.CENTER],(function(){var t=n.enableRtl?zt.EVENT_LEFT_PINNED_WIDTH_CHANGED:zt.EVENT_RIGHT_PINNED_WIDTH_CHANGED;n.addManagedListener(n.eventService,t,(function(){return n.refreshPaddingForFakeScrollbar()}))})),this.refreshPaddingForFakeScrollbar()),this.addListeners(),this.registerWithCtrlsService()},e.prototype.refreshPaddingForFakeScrollbar=function(){var t=this,e=t.enableRtl,i=t.columnModel,o=t.name,n=t.eWrapper,r=t.eContainer,s=e?Gl.LEFT:Gl.RIGHT;this.forContainers([Gl.CENTER,s],(function(){var t=i.getContainerWidth(s),a=e?"marginLeft":"marginRight";o===Gl.CENTER?n.style[a]=t?"0px":"16px":r.style[a]=t?"16px":"0px"}))},e.prototype.addListeners=function(){var t=this;this.addManagedListener(this.eventService,zt.EVENT_SCROLL_VISIBILITY_CHANGED,(function(){return t.onScrollVisibilityChanged()})),this.addManagedListener(this.eventService,zt.EVENT_DISPLAYED_COLUMNS_CHANGED,(function(){return t.onDisplayedColumnsChanged()})),this.addManagedListener(this.eventService,zt.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,(function(){return t.onDisplayedColumnsWidthChanged()})),this.addManagedListener(this.eventService,zt.EVENT_DISPLAYED_ROWS_CHANGED,(function(e){return t.onDisplayedRowsChanged(e.afterScroll)})),this.onScrollVisibilityChanged(),this.onDisplayedColumnsChanged(),this.onDisplayedColumnsWidthChanged(),this.onDisplayedRowsChanged()},e.prototype.listenOnDomOrder=function(){var t=this;if([Gl.STICKY_TOP_CENTER,Gl.STICKY_TOP_LEFT,Gl.STICKY_TOP_RIGHT,Gl.STICKY_TOP_FULL_WIDTH].indexOf(this.name)>=0)this.comp.setDomOrder(!0);else{var e=function(){var e=t.gridOptionsService.is("ensureDomOrder"),i=t.gridOptionsService.isDomLayout("print");t.comp.setDomOrder(e||i)};this.addManagedPropertyListener("domLayout",e),e()}},e.prototype.stopHScrollOnPinnedRows=function(){var t=this;this.forContainers([Gl.TOP_CENTER,Gl.STICKY_TOP_CENTER,Gl.BOTTOM_CENTER],(function(){t.addManagedListener(t.eViewport,"scroll",(function(){return t.eViewport.scrollLeft=0}))}))},e.prototype.onDisplayedColumnsChanged=function(){var t=this;this.forContainers([Gl.CENTER],(function(){return t.onHorizontalViewportChanged()}))},e.prototype.onDisplayedColumnsWidthChanged=function(){var t=this;this.forContainers([Gl.CENTER],(function(){return t.onHorizontalViewportChanged()}))},e.prototype.onScrollVisibilityChanged=function(){var t=this.gridOptionsService.getScrollbarWidth()||0;if(this.name===Gl.CENTER){var e=this.scrollVisibleService.isHorizontalScrollShowing()?t:0,i=0==e?"100%":"calc(100% + "+e+"px)";this.comp.setViewportHeight(i)}if(this.name===Gl.FULL_WIDTH){i="calc(100% - "+(Gi()?16:0)+"px)";this.eContainer.style.setProperty("width",i)}},e.prototype.addPreventScrollWhileDragging=function(){var t=this,e=function(e){t.dragService.isDragging()&&e.cancelable&&e.preventDefault()};this.eContainer.addEventListener("touchmove",e,{passive:!1}),this.addDestroyFunc((function(){return t.eContainer.removeEventListener("touchmove",e)}))},e.prototype.onHorizontalViewportChanged=function(){var t=this.getCenterWidth(),e=this.getCenterViewportScrollLeft();this.columnModel.setViewportPosition(t,e)},e.prototype.getCenterWidth=function(){return co(this.eViewport)},e.prototype.getCenterViewportScrollLeft=function(){return fo(this.eViewport,this.enableRtl)},e.prototype.registerViewportResizeListener=function(t){var e=this.resizeObserverService.observeResize(this.eViewport,t);this.addDestroyFunc((function(){return e()}))},e.prototype.isViewportVisible=function(){return vo(this.eViewport)},e.prototype.getViewportScrollLeft=function(){return fo(this.eViewport,this.enableRtl)},e.prototype.isHorizontalScrollShowing=function(){return this.gridOptionsService.is("alwaysShowHorizontalScroll")||xo(this.eViewport)},e.prototype.getViewportElement=function(){return this.eViewport},e.prototype.setContainerTranslateX=function(t){this.eContainer.style.transform="translateX("+t+"px)"},e.prototype.getHScrollPosition=function(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}},e.prototype.setCenterViewportScrollLeft=function(t){go(this.eViewport,t,this.enableRtl)},e.prototype.isContainerVisible=function(){return!e.getPinned(this.name)||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0},e.prototype.onPinnedWidthChanged=function(){var t=this.isContainerVisible();this.visible!=t&&(this.visible=t,this.onDisplayedRowsChanged()),Gi()&&this.refreshPaddingForFakeScrollbar()},e.prototype.onDisplayedRowsChanged=function(t){var e=this;if(void 0===t&&(t=!1),this.visible){var i=this.gridOptionsService.isDomLayout("print"),o=this.getRowCtrls().filter((function(t){var o=t.isFullWidth(),n=e.embedFullWidthRows||i;return e.isFullWithContainer?!n&&o:n||!o}));this.comp.setRowCtrls(o,t)}else this.comp.setRowCtrls(this.EMPTY_CTRLS,!1)},e.prototype.getRowCtrls=function(){switch(this.name){case Gl.TOP_CENTER:case Gl.TOP_LEFT:case Gl.TOP_RIGHT:case Gl.TOP_FULL_WIDTH:return this.rowRenderer.getTopRowCtrls();case Gl.STICKY_TOP_CENTER:case Gl.STICKY_TOP_LEFT:case Gl.STICKY_TOP_RIGHT:case Gl.STICKY_TOP_FULL_WIDTH:return this.rowRenderer.getStickyTopRowCtrls();case Gl.BOTTOM_CENTER:case Gl.BOTTOM_LEFT:case Gl.BOTTOM_RIGHT:case Gl.BOTTOM_FULL_WIDTH:return this.rowRenderer.getBottomRowCtrls();default:return this.rowRenderer.getRowCtrls()}},dc([K("scrollVisibleService")],e.prototype,"scrollVisibleService",void 0),dc([K("dragService")],e.prototype,"dragService",void 0),dc([K("ctrlsService")],e.prototype,"ctrlsService",void 0),dc([K("columnModel")],e.prototype,"columnModel",void 0),dc([K("resizeObserverService")],e.prototype,"resizeObserverService",void 0),dc([K("rowRenderer")],e.prototype,"rowRenderer",void 0),dc([H],e.prototype,"postConstruct",null),e}(jt),_c=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),Cc=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},bc='<div class="ag-root ag-unselectable" role="treegrid">\n        <ag-header-root ref="gridHeader"></ag-header-root>\n        <div class="ag-floating-top" ref="eTop" role="presentation">\n            <ag-row-container ref="topLeftContainer" name="'+Gl.TOP_LEFT+'"></ag-row-container>\n            <ag-row-container ref="topCenterContainer" name="'+Gl.TOP_CENTER+'"></ag-row-container>\n            <ag-row-container ref="topRightContainer" name="'+Gl.TOP_RIGHT+'"></ag-row-container>\n            <ag-row-container ref="topFullWidthContainer" name="'+Gl.TOP_FULL_WIDTH+'"></ag-row-container>\n        </div>\n        <div class="ag-body" ref="eBody" role="presentation">\n            <div class="ag-body-clipper" ref="eBodyClipper" role="presentation">\n                <div class="ag-body-viewport" ref="eBodyViewport" role="presentation">\n                    <ag-row-container ref="leftContainer" name="'+Gl.LEFT+'"></ag-row-container>\n                    <ag-row-container ref="centerContainer" name="'+Gl.CENTER+'"></ag-row-container>\n                    <ag-row-container ref="rightContainer" name="'+Gl.RIGHT+'"></ag-row-container>\n                    <ag-row-container ref="fullWidthContainer" name="'+Gl.FULL_WIDTH+'"></ag-row-container>\n                </div>\n            </div>\n            <ag-fake-vertical-scroll></ag-fake-vertical-scroll>\n        </div>\n        <div class="ag-sticky-top" ref="eStickyTop" role="presentation">\n            <ag-row-container ref="stickyTopLeftContainer" name="'+Gl.STICKY_TOP_LEFT+'"></ag-row-container>\n            <ag-row-container ref="stickyTopCenterContainer" name="'+Gl.STICKY_TOP_CENTER+'"></ag-row-container>\n            <ag-row-container ref="stickyTopRightContainer" name="'+Gl.STICKY_TOP_RIGHT+'"></ag-row-container>\n            <ag-row-container ref="stickyTopFullWidthContainer" name="'+Gl.STICKY_TOP_FULL_WIDTH+'"></ag-row-container>\n        </div>\n        <div class="ag-floating-bottom" ref="eBottom" role="presentation">\n            <ag-row-container ref="bottomLeftContainer" name="'+Gl.BOTTOM_LEFT+'"></ag-row-container>\n            <ag-row-container ref="bottomCenterContainer" name="'+Gl.BOTTOM_CENTER+'"></ag-row-container>\n            <ag-row-container ref="bottomRightContainer" name="'+Gl.BOTTOM_RIGHT+'"></ag-row-container>\n            <ag-row-container ref="bottomFullWidthContainer" name="'+Gl.BOTTOM_FULL_WIDTH+'"></ag-row-container>\n        </div>\n        <ag-fake-horizontal-scroll></ag-fake-horizontal-scroll>\n        <ag-overlay-wrapper></ag-overlay-wrapper>\n    </div>',Ec=function(t){function e(){return t.call(this,bc)||this}return _c(e,t),e.prototype.init=function(){var t=this,e=function(t,e){var i=t+"px";e.style.minHeight=i,e.style.height=i},i={setRowAnimationCssOnBodyViewport:function(e,i){return t.setRowAnimationCssOnBodyViewport(e,i)},setColumnCount:function(e){return ui(t.getGui(),e)},setRowCount:function(e){return li(t.getGui(),e)},setTopHeight:function(i){return e(i,t.eTop)},setBottomHeight:function(i){return e(i,t.eBottom)},setTopDisplay:function(e){return t.eTop.style.display=e},setBottomDisplay:function(e){return t.eBottom.style.display=e},setStickyTopHeight:function(e){return t.eStickyTop.style.height=e},setStickyTopTop:function(e){return t.eStickyTop.style.top=e},setStickyTopWidth:function(e){return t.eStickyTop.style.width=e},setColumnMovingCss:function(e,i){return t.addOrRemoveCssClass(e,i)},updateLayoutClasses:function(e,i){[t.eBodyViewport.classList,t.eBodyClipper.classList,t.eBody.classList].forEach((function(t){t.toggle(Ia.AUTO_HEIGHT,i.autoHeight),t.toggle(Ia.NORMAL,i.normal),t.toggle(Ia.PRINT,i.print)})),t.addOrRemoveCssClass(Ia.AUTO_HEIGHT,i.autoHeight),t.addOrRemoveCssClass(Ia.NORMAL,i.normal),t.addOrRemoveCssClass(Ia.PRINT,i.print)},setAlwaysVerticalScrollClass:function(e,i){return t.eBodyViewport.classList.toggle(hl,i)},registerBodyViewportResizeListener:function(e){var i=t.resizeObserverService.observeResize(t.eBodyViewport,e);t.addDestroyFunc((function(){return i()}))},setPinnedTopBottomOverflowY:function(e){return t.eTop.style.overflowY=t.eBottom.style.overflowY=e},setCellSelectableCss:function(e,i){[t.eTop,t.eBodyViewport,t.eBottom].forEach((function(t){return t.classList.toggle(ul,i)}))},setBodyViewportWidth:function(e){return t.eBodyViewport.style.width=e}};this.ctrl=this.createManagedBean(new dl),this.ctrl.setComp(i,this.getGui(),this.eBodyViewport,this.eTop,this.eBottom,this.eStickyTop),(this.rangeService||"multiple"===this.gridOptionsService.get("rowSelection"))&&ai(this.getGui(),!0)},e.prototype.setRowAnimationCssOnBodyViewport=function(t,e){var i=this.eBodyViewport.classList;i.toggle(Ka.ANIMATION_ON,e),i.toggle(Ka.ANIMATION_OFF,!e)},e.prototype.getFloatingTopBottom=function(){return[this.eTop,this.eBottom]},Cc([K("resizeObserverService")],e.prototype,"resizeObserverService",void 0),Cc([Y("rangeService")],e.prototype,"rangeService",void 0),Cc([mn("eBodyViewport")],e.prototype,"eBodyViewport",void 0),Cc([mn("eStickyTop")],e.prototype,"eStickyTop",void 0),Cc([mn("eTop")],e.prototype,"eTop",void 0),Cc([mn("eBottom")],e.prototype,"eBottom",void 0),Cc([mn("gridHeader")],e.prototype,"headerRootComp",void 0),Cc([mn("eBodyClipper")],e.prototype,"eBodyClipper",void 0),Cc([mn("eBody")],e.prototype,"eBody",void 0),Cc([H],e.prototype,"init",null),e}(gn),Sc=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),wc=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},Oc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Sc(e,t),e.prototype.postConstruct=function(){this.addManagedListener(this.eventService,zt.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,zt.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this))},e.prototype.onDisplayedColumnsChanged=function(){this.update()},e.prototype.onDisplayedColumnsWidthChanged=function(){this.update()},e.prototype.update=function(){this.updateImpl(),setTimeout(this.updateImpl.bind(this),500)},e.prototype.updateImpl=function(){var t=this.ctrlsService.getCenterRowContainerCtrl();if(t){var e={horizontalScrollShowing:t.isHorizontalScrollShowing(),verticalScrollShowing:this.isVerticalScrollShowing()};this.setScrollsVisible(e)}},e.prototype.setScrollsVisible=function(t){if(this.horizontalScrollShowing!==t.horizontalScrollShowing||this.verticalScrollShowing!==t.verticalScrollShowing){this.horizontalScrollShowing=t.horizontalScrollShowing,this.verticalScrollShowing=t.verticalScrollShowing;var e={type:zt.EVENT_SCROLL_VISIBILITY_CHANGED};this.eventService.dispatchEvent(e)}},e.prototype.isHorizontalScrollShowing=function(){return this.horizontalScrollShowing},e.prototype.isVerticalScrollShowing=function(){return this.verticalScrollShowing},wc([K("ctrlsService")],e.prototype,"ctrlsService",void 0),wc([H],e.prototype,"postConstruct",null),e=wc([z("scrollVisibleService")],e)}(jt),xc=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),Pc=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},Tc=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.gridInstanceId=i.gridInstanceSequence.next(),e}var i;return xc(e,t),i=e,e.prototype.stampTopLevelGridCompWithGridInstance=function(t){t[i.GRID_DOM_KEY]=this.gridInstanceId},e.prototype.getRenderedCellForEvent=function(t){return Rt(this.gridOptionsService,t.target,Il.DOM_DATA_KEY_CELL_CTRL)},e.prototype.isEventFromThisGrid=function(t){return this.isElementInThisGrid(t.target)},e.prototype.isElementInThisGrid=function(t){for(var e=t;e;){var o=e[i.GRID_DOM_KEY];if(n(o))return o===this.gridInstanceId;e=e.parentElement}return!1},e.prototype.getCellPositionForEvent=function(t){var e=this.getRenderedCellForEvent(t);return e?e.getCellPosition():null},e.prototype.getNormalisedPosition=function(t){var e,i,o=this.gridOptionsService.isDomLayout("normal"),n=t;if(null!=n.clientX||null!=n.clientY?(e=n.clientX,i=n.clientY):(e=n.x,i=n.y),o){var r=this.ctrlsService.getGridBodyCtrl(),s=r.getScrollFeature().getVScrollPosition();e+=r.getScrollFeature().getHScrollPosition().left,i+=s.top}return{x:e,y:i}},e.gridInstanceSequence=new nn,e.GRID_DOM_KEY="__ag_grid_instance",Pc([K("ctrlsService")],e.prototype,"ctrlsService",void 0),e=i=Pc([z("mouseEventService")],e)}(jt),Mc=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),Dc=function(){return Dc=Object.assign||function(t){for(var e,i=1,o=arguments.length;i<o;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},Dc.apply(this,arguments)},Ac=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},Rc=function(t){function e(){var e=t.call(this)||this;return e.onPageDown=k(e.onPageDown,100),e.onPageUp=k(e.onPageUp,100),e}return Mc(e,t),e.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady((function(e){t.gridBodyCon=e.gridBodyCtrl}))},e.prototype.handlePageScrollingKey=function(t){var e=t.key,i=t.altKey,o=t.ctrlKey||t.metaKey,n=!!this.rangeService&&t.shiftKey,r=this.mouseEventService.getCellPositionForEvent(t),s=!1;switch(e){case Uo.PAGE_HOME:case Uo.PAGE_END:o||i||(this.onHomeOrEndKey(e),s=!0);break;case Uo.LEFT:case Uo.RIGHT:case Uo.UP:case Uo.DOWN:if(!r)return!1;!o||i||n||(this.onCtrlUpDownLeftRight(e,r),s=!0);break;case Uo.PAGE_DOWN:if(!r)return!1;o||i||(this.onPageDown(r),s=!0);break;case Uo.PAGE_UP:if(!r)return!1;o||i||(this.onPageUp(r),s=!0)}return s&&t.preventDefault(),s},e.prototype.navigateTo=function(t){var e=t.scrollIndex,i=t.scrollType,o=t.scrollColumn,r=t.focusIndex,s=t.focusColumn;if(n(o)&&!o.isPinned()&&this.gridBodyCon.getScrollFeature().ensureColumnVisible(o),n(e)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(e,i),t.isAsync||this.gridBodyCon.getScrollFeature().ensureIndexVisible(r),this.focusService.setFocusedCell({rowIndex:r,column:s,rowPinned:null,forceBrowserFocus:!0}),this.rangeService){var a={rowIndex:r,rowPinned:null,column:s};this.rangeService.setRangeToCell(a)}},e.prototype.onPageDown=function(t){var e=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),i=this.getViewportHeight(),o=this.paginationProxy.getPixelOffset(),n=e.top+i,r=this.paginationProxy.getRowIndexAtPixel(n+o);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(t,r):this.navigateToNextPage(t,r)},e.prototype.onPageUp=function(t){var e=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),i=this.paginationProxy.getPixelOffset(),o=e.top,n=this.paginationProxy.getRowIndexAtPixel(o+i);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(t,n,!0):this.navigateToNextPage(t,n,!0)},e.prototype.navigateToNextPage=function(t,e,i){void 0===i&&(i=!1);var o,n=this.getViewportHeight(),r=this.paginationProxy.getPageFirstRow(),s=this.paginationProxy.getPageLastRow(),a=this.paginationProxy.getPixelOffset(),l=this.paginationProxy.getRow(t.rowIndex),c=i?(null==l?void 0:l.rowHeight)-n-a:n-a,u=(null==l?void 0:l.rowTop)+c,h=this.paginationProxy.getRowIndexAtPixel(u+a);if(h===t.rowIndex){var d=i?-1:1;e=h=t.rowIndex+d}i?(o="bottom",h<r&&(h=r),e<r&&(e=r)):(o="top",h>s&&(h=s),e>s&&(e=s)),this.isRowTallerThanView(h)&&(e=h,o="top"),this.navigateTo({scrollIndex:e,scrollType:o,scrollColumn:null,focusIndex:h,focusColumn:t.column})},e.prototype.navigateToNextPageWithAutoHeight=function(t,e,i){var o=this;void 0===i&&(i=!1),this.navigateTo({scrollIndex:e,scrollType:i?"bottom":"top",scrollColumn:null,focusIndex:e,focusColumn:t.column}),setTimeout((function(){var n=o.getNextFocusIndexForAutoHeight(t,i);o.navigateTo({scrollIndex:e,scrollType:i?"bottom":"top",scrollColumn:null,focusIndex:n,focusColumn:t.column,isAsync:!0})}),50)},e.prototype.getNextFocusIndexForAutoHeight=function(t,e){var i;void 0===e&&(e=!1);for(var o=e?-1:1,n=this.getViewportHeight(),r=this.paginationProxy.getPageLastRow(),s=0,a=t.rowIndex;a>=0&&a<=r;){var l=this.paginationProxy.getRow(a);if(l){var c=null!==(i=l.rowHeight)&&void 0!==i?i:0;if(s+c>n)break;s+=c}a+=o}return Math.max(0,Math.min(a,r))},e.prototype.getViewportHeight=function(){var t=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),e=this.gridOptionsService.getScrollbarWidth(),i=t.bottom-t.top;return this.ctrlsService.getCenterRowContainerCtrl().isHorizontalScrollShowing()&&(i-=e),i},e.prototype.isRowTallerThanView=function(t){var e=this.paginationProxy.getRow(t);if(!e)return!1;var i=e.rowHeight;return"number"==typeof i&&i>this.getViewportHeight()},e.prototype.onCtrlUpDownLeftRight=function(t,e){var i=this.cellNavigationService.getNextCellToFocus(t,e,!0),o=i.rowIndex,n=i.column;this.navigateTo({scrollIndex:o,scrollType:null,scrollColumn:n,focusIndex:o,focusColumn:n})},e.prototype.onHomeOrEndKey=function(t){var e=t===Uo.PAGE_HOME,i=this.columnModel.getAllDisplayedColumns(),o=e?i[0]:ft(i),n=e?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow();this.navigateTo({scrollIndex:n,scrollType:null,scrollColumn:o,focusIndex:n,focusColumn:o})},e.prototype.onTabKeyDown=function(t,e){var i=e.shiftKey;if(this.tabToNextCellCommon(t,i,e))e.preventDefault();else if(i){var o=t.getRowPosition(),n=o.rowIndex;(o.rowPinned?0===n:n===this.paginationProxy.getPageFirstRow())&&(0===this.gridOptionsService.getNum("headerHeight")?this.focusService.focusNextGridCoreContainer(!0,!0):(e.preventDefault(),this.focusService.focusLastHeader(e)))}else t instanceof Il&&t.focusCell(!0),this.focusService.focusNextGridCoreContainer(i)&&e.preventDefault()},e.prototype.tabToNextCell=function(t,e){var i=this.focusService.getFocusedCell();if(!i)return!1;var o=this.getCellByPosition(i);return!!(o||(o=this.rowRenderer.getRowByPosition(i))&&o.isFullWidth())&&this.tabToNextCellCommon(o,t,e)},e.prototype.tabToNextCellCommon=function(t,e,i){var o=t.isEditing();if(!o&&t instanceof Il){var n=t.getRowCtrl();n&&(o=n.isEditing())}return(o?"fullRow"===this.gridOptionsService.get("editType")?this.moveToNextEditingRow(t,e,i):this.moveToNextEditingCell(t,e,i):this.moveToNextCellNotEditing(t,e))||!!this.focusService.getFocusedHeader()},e.prototype.moveToNextEditingCell=function(t,e,i){void 0===i&&(i=null);var o=t.getCellPosition();t.getGui().focus(),t.stopEditing();var n=this.findNextCellToFocusOn(o,e,!0);return null!=n&&(n.startEditing(null,null,!0,i),n.focusCell(!1),!0)},e.prototype.moveToNextEditingRow=function(t,e,i){void 0===i&&(i=null);var o=t.getCellPosition(),n=this.findNextCellToFocusOn(o,e,!0);if(null==n)return!1;var r=n.getCellPosition(),s=this.isCellEditable(o),a=this.isCellEditable(r),l=r&&o.rowIndex===r.rowIndex&&o.rowPinned===r.rowPinned;(s&&t.setFocusOutOnEditor(),l)||(t.getRowCtrl().stopEditing(),n.getRowCtrl().startRowEditing(void 0,void 0,void 0,i));return a?(n.setFocusInOnEditor(),n.focusCell()):n.focusCell(!0),!0},e.prototype.moveToNextCellNotEditing=function(t,e){var i,o=this.columnModel.getAllDisplayedColumns();i=t instanceof Ul?Dc(Dc({},t.getRowPosition()),{column:e?o[0]:ft(o)}):t.getCellPosition();var r=this.findNextCellToFocusOn(i,e,!1);if(r instanceof Il)r.focusCell(!0);else if(r)return this.tryToFocusFullWidthRow(r.getRowPosition(),e);return n(r)},e.prototype.findNextCellToFocusOn=function(t,e,i){for(var o=t;;){t!==o&&(t=o),e||(o=this.getLastCellOfColSpan(o)),o=this.cellNavigationService.getNextTabbedCell(o,e);var r=this.gridOptionsService.getCallback("tabToNextCell");if(n(r)){var s=r({backwards:e,editing:i,previousCellPosition:t,nextCellPosition:o||null});n(s)?(s.floating&&(P((function(){console.warn("AG Grid: tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?")}),"no floating in userCell"),s.rowPinned=s.floating),o={rowIndex:s.rowIndex,column:s.column,rowPinned:s.rowPinned}):o=null}if(!o)return null;if(o.rowIndex<0){var a=this.headerNavigationService.getHeaderRowCount();return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:a+o.rowIndex,column:o.column}}),null}var l="fullRow"===this.gridOptionsService.get("editType");if(i&&!l)if(!this.isCellEditable(o))continue;this.ensureCellVisible(o);var c=this.getCellByPosition(o);if(!c){var u=this.rowRenderer.getRowByPosition(o);if(!u||!u.isFullWidth()||i)continue;return u}if(!c.isSuppressNavigable())return this.rangeService&&this.rangeService.setRangeToCell(o),c}},e.prototype.isCellEditable=function(t){var e=this.lookupRowNodeForCell(t);return!!e&&t.column.isCellEditable(e)},e.prototype.getCellByPosition=function(t){var e=this.rowRenderer.getRowByPosition(t);return e?e.getCellCtrl(t.column):null},e.prototype.lookupRowNodeForCell=function(t){return"top"===t.rowPinned?this.pinnedRowModel.getPinnedTopRow(t.rowIndex):"bottom"===t.rowPinned?this.pinnedRowModel.getPinnedBottomRow(t.rowIndex):this.paginationProxy.getRow(t.rowIndex)},e.prototype.navigateToNextCell=function(t,e,i,o){for(var s=i,a=!1;s&&(s===i||!this.isValidNavigateCell(s));)this.gridOptionsService.is("enableRtl")?e===Uo.LEFT&&(s=this.getLastCellOfColSpan(s)):e===Uo.RIGHT&&(s=this.getLastCellOfColSpan(s)),a=r(s=this.cellNavigationService.getNextCellToFocus(e,s));if(a&&t&&t.key===Uo.UP&&(s={rowIndex:-1,rowPinned:null,column:i.column}),o){var l=this.gridOptionsService.getCallback("navigateToNextCell");if(n(l)){var c=l({key:e,previousCellPosition:i,nextCellPosition:s||null,event:t});n(c)?(c.floating&&(P((function(){console.warn("AG Grid: tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?")}),"no floating in userCell"),c.rowPinned=c.floating),s={rowPinned:c.rowPinned,rowIndex:c.rowIndex,column:c.column}):s=null}}if(s)if(s.rowIndex<0){var u=this.headerNavigationService.getHeaderRowCount();this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:u+s.rowIndex,column:i.column},event:t||void 0})}else{var h=this.getNormalisedPosition(s);h?this.focusPosition(h):this.tryToFocusFullWidthRow(s)}},e.prototype.getNormalisedPosition=function(t){this.ensureCellVisible(t);var e=this.getCellByPosition(t);return e?(t=e.getCellPosition(),this.ensureCellVisible(t),t):null},e.prototype.tryToFocusFullWidthRow=function(t,e){void 0===e&&(e=!1);var i=this.columnModel.getAllDisplayedColumns(),o=this.rowRenderer.getRowByPosition(t);if(!o||!o.isFullWidth())return!1;var n=this.focusService.getFocusedCell(),r={rowIndex:t.rowIndex,rowPinned:t.rowPinned,column:t.column||(e?ft(i):i[0])};this.focusPosition(r);var s=null!=n&&this.rowPositionUtils.before(r,n),a={type:zt.EVENT_FULL_WIDTH_ROW_FOCUSED,rowIndex:r.rowIndex,rowPinned:r.rowPinned,column:r.column,isFullWidthCell:!0,floating:r.rowPinned,fromBelow:s};return this.eventService.dispatchEvent(a),!0},e.prototype.focusPosition=function(t){this.focusService.setFocusedCell({rowIndex:t.rowIndex,column:t.column,rowPinned:t.rowPinned,forceBrowserFocus:!0}),this.rangeService&&this.rangeService.setRangeToCell(t)},e.prototype.isValidNavigateCell=function(t){return!!this.rowPositionUtils.getRowNode(t)},e.prototype.getLastCellOfColSpan=function(t){var e=this.getCellByPosition(t);if(!e)return t;var i=e.getColSpanningList();return 1===i.length?t:{rowIndex:t.rowIndex,column:ft(i),rowPinned:t.rowPinned}},e.prototype.ensureCellVisible=function(t){var e=this.gridOptionsService.is("groupRowsSticky"),i=this.rowModel.getRow(t.rowIndex);!(e&&(null==i?void 0:i.sticky))&&r(t.rowPinned)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(t.rowIndex),t.column.isPinned()||this.gridBodyCon.getScrollFeature().ensureColumnVisible(t.column)},Ac([K("mouseEventService")],e.prototype,"mouseEventService",void 0),Ac([K("paginationProxy")],e.prototype,"paginationProxy",void 0),Ac([K("focusService")],e.prototype,"focusService",void 0),Ac([Y("rangeService")],e.prototype,"rangeService",void 0),Ac([K("columnModel")],e.prototype,"columnModel",void 0),Ac([K("rowModel")],e.prototype,"rowModel",void 0),Ac([K("ctrlsService")],e.prototype,"ctrlsService",void 0),Ac([K("rowRenderer")],e.prototype,"rowRenderer",void 0),Ac([K("headerNavigationService")],e.prototype,"headerNavigationService",void 0),Ac([K("rowPositionUtils")],e.prototype,"rowPositionUtils",void 0),Ac([K("cellNavigationService")],e.prototype,"cellNavigationService",void 0),Ac([K("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),Ac([H],e.prototype,"postConstruct",null),e=Ac([z("navigationService")],e)}(jt),Lc=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),Ic=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},Nc=function(t){function e(e){var i=t.call(this,'<div class="ag-popup-editor" tabindex="-1"/>')||this;return i.params=e,i}return Lc(e,t),e.prototype.postConstruct=function(){this.gridOptionsService.setDomData(this.getGui(),e.DOM_KEY_POPUP_EDITOR_WRAPPER,!0),this.addKeyDownListener()},e.prototype.addKeyDownListener=function(){var t=this,e=this.getGui(),i=this.params;this.addManagedListener(e,"keydown",(function(e){Ho(t.gridOptionsService,e,i.node,i.column,!0)||i.onKeyDown(e)}))},e.DOM_KEY_POPUP_EDITOR_WRAPPER="popupEditorWrapper",Ic([H],e.prototype,"postConstruct",null),e}(ss),kc=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),Fc=function(t){function e(e,i,o,n,r){var s=t.call(this)||this;s.rendererVersion=0,s.editorVersion=0,s.beans=e,s.column=i.getColumn(),s.rowNode=i.getRowNode(),s.rowCtrl=i.getRowCtrl(),s.eRow=n,s.setTemplate('<div comp-id="'+s.getCompId()+'"/>');var a=s.getGui();s.forceWrapper=i.isForceWrapper(),s.refreshWrapper(!1);var l=function(t,e,i){var o=i||a;null!=e&&""!=e?o.setAttribute(t,e):o.removeAttribute(t)},c={addOrRemoveCssClass:function(t,e){return s.addOrRemoveCssClass(t,e)},setUserStyles:function(t){return Oo(a,t)},getFocusableElement:function(){return s.getFocusableElement()},setTabIndex:function(t){return l("tabindex",t.toString())},setRole:function(t){return ze(a,t)},setColId:function(t){return l("col-id",t)},setTitle:function(t){return l("title",t)},setIncludeSelection:function(t){return s.includeSelection=t},setIncludeRowDrag:function(t){return s.includeRowDrag=t},setIncludeDndSource:function(t){return s.includeDndSource=t},setRenderDetails:function(t,e,i){return s.setRenderDetails(t,e,i)},setEditDetails:function(t,e,i){return s.setEditDetails(t,e,i)},getCellEditor:function(){return s.cellEditor||null},getCellRenderer:function(){return s.cellRenderer||null},getParentOfValue:function(){return s.getParentOfValue()}};return s.cellCtrl=i,i.setComp(c,s.getGui(),s.eCellWrapper,o,r),s}return kc(e,t),e.prototype.getParentOfValue=function(){return this.eCellValue?this.eCellValue:this.eCellWrapper?this.eCellWrapper:this.getGui()},e.prototype.setRenderDetails=function(t,e,i){if(!(this.cellEditor&&!this.cellEditorPopupWrapper)){this.firstRender=null==this.firstRender;var o=this.refreshWrapper(!1);if(this.refreshEditStyles(!1),t)!(i||o)&&this.refreshCellRenderer(t)||(this.destroyRenderer(),this.createCellRendererInstance(t));else this.destroyRenderer(),this.insertValueWithoutCellRenderer(e)}},e.prototype.setEditDetails=function(t,e,i){t?this.createCellEditorInstance(t,e,i):this.destroyEditor()},e.prototype.removeControls=function(){this.checkboxSelectionComp=this.beans.context.destroyBean(this.checkboxSelectionComp),this.dndSourceComp=this.beans.context.destroyBean(this.dndSourceComp),this.rowDraggingComp=this.beans.context.destroyBean(this.rowDraggingComp)},e.prototype.refreshWrapper=function(t){var e=this.includeRowDrag||this.includeDndSource||this.includeSelection,i=e||this.forceWrapper,o=i&&null==this.eCellWrapper;o&&(this.eCellWrapper=_o('<div class="ag-cell-wrapper" role="presentation"></div>'),this.getGui().appendChild(this.eCellWrapper));var n=!i&&null!=this.eCellWrapper;n&&(yo(this.eCellWrapper),this.eCellWrapper=void 0),this.addOrRemoveCssClass("ag-cell-value",!i);var r=!t&&i,s=r&&null==this.eCellValue;s&&(this.eCellValue=_o('<span class="ag-cell-value" role="presentation"></span>'),this.eCellWrapper.appendChild(this.eCellValue));var a=!r&&null!=this.eCellValue;a&&(yo(this.eCellValue),this.eCellValue=void 0);var l=o||n||s||a;return l&&this.removeControls(),t||e&&this.addControls(),l},e.prototype.addControls=function(){this.includeRowDrag&&null==this.rowDraggingComp&&(this.rowDraggingComp=this.cellCtrl.createRowDragComp(),this.rowDraggingComp&&this.eCellWrapper.insertBefore(this.rowDraggingComp.getGui(),this.eCellValue)),this.includeDndSource&&null==this.dndSourceComp&&(this.dndSourceComp=this.cellCtrl.createDndSource(),this.eCellWrapper.insertBefore(this.dndSourceComp.getGui(),this.eCellValue)),this.includeSelection&&null==this.checkboxSelectionComp&&(this.checkboxSelectionComp=this.cellCtrl.createSelectionCheckbox(),this.eCellWrapper.insertBefore(this.checkboxSelectionComp.getGui(),this.eCellValue))},e.prototype.createCellEditorInstance=function(t,e,i){var o=this,n=this.editorVersion,s=t.newAgStackInstance();if(s){var a=t.params;s.then((function(t){return o.afterCellEditorCreated(n,t,a,e,i)})),r(this.cellEditor)&&a.cellStartedEdit&&this.cellCtrl.focusCell(!0)}},e.prototype.insertValueWithoutCellRenderer=function(t){var e=this.getParentOfValue();mo(e);var i=null!=t?Ce(t):null;null!=i&&(e.innerHTML=i)},e.prototype.destroyEditorAndRenderer=function(){this.destroyRenderer(),this.destroyEditor()},e.prototype.destroyRenderer=function(){var t=this.beans.context;this.cellRenderer=t.destroyBean(this.cellRenderer),yo(this.cellRendererGui),this.cellRendererGui=null,this.rendererVersion++},e.prototype.destroyEditor=function(){var t=this.beans.context;this.hideEditorPopup&&this.hideEditorPopup(),this.hideEditorPopup=void 0,this.cellEditor=t.destroyBean(this.cellEditor),this.cellEditorPopupWrapper=t.destroyBean(this.cellEditorPopupWrapper),yo(this.cellEditorGui),this.cellEditorGui=null,this.editorVersion++},e.prototype.refreshCellRenderer=function(t){if(null==this.cellRenderer||null==this.cellRenderer.refresh)return!1;if(this.cellRendererClass!==t.componentClass)return!1;var e=this.cellRenderer.refresh(t.params);return!0===e||void 0===e},e.prototype.createCellRendererInstance=function(t){var e=this,i=!this.beans.gridOptionsService.is("suppressAnimationFrame"),o=this.rendererVersion,n=t.componentClass,r=function(){if(!(e.rendererVersion!==o||!e.isAlive())){var i=t.newAgStackInstance(),r=e.afterCellRendererCreated.bind(e,o,n);i&&i.then(r)}};i&&this.firstRender?this.beans.animationFrameService.createTask(r,this.rowNode.rowIndex,"createTasksP2"):r()},e.prototype.getCtrl=function(){return this.cellCtrl},e.prototype.getRowCtrl=function(){return this.rowCtrl},e.prototype.getCellRenderer=function(){return this.cellRenderer},e.prototype.getCellEditor=function(){return this.cellEditor},e.prototype.afterCellRendererCreated=function(t,e,i){if(!this.isAlive()||t!==this.rendererVersion)this.beans.context.destroyBean(i);else if(this.cellRenderer=i,this.cellRendererClass=e,this.cellRendererGui=this.cellRenderer.getGui(),null!=this.cellRendererGui){var o=this.getParentOfValue();mo(o),o.appendChild(this.cellRendererGui)}},e.prototype.afterCellEditorCreated=function(t,e,i,o,n){if(t!==this.editorVersion)this.beans.context.destroyBean(e);else{if(e.isCancelBeforeStart&&e.isCancelBeforeStart())return this.beans.context.destroyBean(e),void this.cellCtrl.stopEditing(!0);if(!e.getGui)return console.warn("AG Grid: cellEditor for column "+this.column.getId()+" is missing getGui() method"),void this.beans.context.destroyBean(e);this.cellEditor=e,this.cellEditorGui=e.getGui();var r=o||void 0!==e.isPopup&&e.isPopup();r?this.addPopupCellEditor(i,n):this.addInCellEditor(),this.refreshEditStyles(!0,r),e.afterGuiAttached&&e.afterGuiAttached()}},e.prototype.refreshEditStyles=function(t,e){var i;this.addOrRemoveCssClass("ag-cell-inline-editing",t&&!e),this.addOrRemoveCssClass("ag-cell-popup-editing",t&&!!e),this.addOrRemoveCssClass("ag-cell-not-inline-editing",!t||!!e),null===(i=this.rowCtrl)||void 0===i||i.setInlineEditingCss(t)},e.prototype.addInCellEditor=function(){var t=this.getGui(),e=this.beans.gridOptionsService.getDocument();(t.contains(e.activeElement)&&t.focus(),this.destroyRenderer(),this.refreshWrapper(!0),this.clearParentOfValue(),this.cellEditorGui)&&this.getParentOfValue().appendChild(this.cellEditorGui)},e.prototype.addPopupCellEditor=function(t,e){var i=this;"fullRow"===this.beans.gridOptionsService.get("editType")&&console.warn("AG Grid: popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.");var o=this.cellEditor;this.cellEditorPopupWrapper=this.beans.context.createBean(new Nc(t));var n=this.cellEditorPopupWrapper.getGui();this.cellEditorGui&&n.appendChild(this.cellEditorGui);var r=this.beans.popupService,s=this.beans.gridOptionsService.is("stopEditingWhenCellsLoseFocus"),a=null!=e?e:o.getPopupPosition?o.getPopupPosition():"over",l=this.beans.gridOptionsService.is("enableRtl"),c={ePopup:n,column:this.column,rowNode:this.rowNode,type:"popupCellEditor",eventSource:this.getGui(),position:a,alignSide:l?"right":"left",keepWithinBounds:!0},u=r.positionPopupByComponent.bind(r,c),h=this.beans.localeService.getLocaleTextFunc(),d=r.addPopup({modal:s,eChild:n,closeOnEsc:!0,closedCallback:function(){i.cellCtrl.onPopupEditorClosed()},anchorToElement:this.getGui(),positionCallback:u,ariaLabel:h("ariaLabelCellEditor","Cell Editor")});d&&(this.hideEditorPopup=d.hideFunc)},e.prototype.detach=function(){this.eRow.removeChild(this.getGui())},e.prototype.destroy=function(){this.cellCtrl.stopEditing(),this.destroyEditorAndRenderer(),this.removeControls(),t.prototype.destroy.call(this)},e.prototype.clearParentOfValue=function(){var t=this.getGui(),e=this.beans.gridOptionsService.getDocument();t.contains(e.activeElement)&&Ri()&&t.focus({preventScroll:!0}),mo(this.getParentOfValue())},e}(gn),Bc=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),Gc=function(t){function e(e,i,o){var n=t.call(this)||this;n.cellComps={},n.beans=i,n.rowCtrl=e,n.setTemplate('<div comp-id="'+n.getCompId()+'" style="'+n.getInitialStyle(o)+'"/>');var r=n.getGui(),s=r.style,a={setDomOrder:function(t){return n.domOrder=t},setCellCtrls:function(t){return n.setCellCtrls(t)},showFullWidth:function(t){return n.showFullWidth(t)},getFullWidthCellRenderer:function(){return n.getFullWidthCellRenderer()},addOrRemoveCssClass:function(t,e){return n.addOrRemoveCssClass(t,e)},setUserStyles:function(t){return Oo(r,t)},setTop:function(t){return s.top=t},setTransform:function(t){return s.transform=t},setRowIndex:function(t){return r.setAttribute("row-index",t)},setRole:function(t){return ze(r,t)},setRowId:function(t){return r.setAttribute("row-id",t)},setRowBusinessKey:function(t){return r.setAttribute("row-business-key",t)},setTabIndex:function(t){return r.setAttribute("tabindex",t.toString())}};return e.setComp(a,n.getGui(),o),n.addDestroyFunc((function(){e.unsetComp(o)})),n}return Bc(e,t),e.prototype.getInitialStyle=function(t){var e=this.rowCtrl.getInitialTransform(t),i=this.rowCtrl.getInitialRowTop(t);return e?"transform: "+e:"top: "+i},e.prototype.showFullWidth=function(t){var e=this,i=t.newAgStackInstance();i&&i.then((function(t){if(e.isAlive()){var i=t.getGui();e.getGui().appendChild(i),e.rowCtrl.setupDetailRowAutoHeight(i),e.setFullWidthRowComp(t)}else e.beans.context.destroyBean(t)}))},e.prototype.setCellCtrls=function(t){var e=this,i=Object.assign({},this.cellComps);t.forEach((function(t){var o=t.getInstanceId();null==e.cellComps[o]?e.newCellComp(t):i[o]=null}));var o=C(i).filter((function(t){return null!=t}));this.destroyCells(o),this.ensureDomOrder(t)},e.prototype.ensureDomOrder=function(t){var e=this;if(this.domOrder){var i=[];t.forEach((function(t){var o=e.cellComps[t.getInstanceId()];o&&i.push(o.getGui())})),So(this.getGui(),i)}},e.prototype.newCellComp=function(t){var e=new Fc(this.beans,t,this.rowCtrl.isPrintLayout(),this.getGui(),this.rowCtrl.isEditing());this.cellComps[t.getInstanceId()]=e,this.getGui().appendChild(e.getGui())},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.destroyAllCells()},e.prototype.destroyAllCells=function(){var t=C(this.cellComps).filter((function(t){return null!=t}));this.destroyCells(t)},e.prototype.setFullWidthRowComp=function(t){var e=this;this.fullWidthCellRenderer&&console.error("AG Grid - should not be setting fullWidthRowComponent twice"),this.fullWidthCellRenderer=t,this.addDestroyFunc((function(){e.fullWidthCellRenderer=e.beans.context.destroyBean(e.fullWidthCellRenderer)}))},e.prototype.getFullWidthCellRenderer=function(){return this.fullWidthCellRenderer},e.prototype.destroyCells=function(t){var e=this;t.forEach((function(t){if(t){var i=t.getCtrl().getInstanceId();e.cellComps[i]===t&&(t.detach(),t.destroy(),e.cellComps[i]=null)}}))},e}(gn),jc=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),Vc=function(){return Vc=Object.assign||function(t){for(var e,i=1,o=arguments.length;i<o;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},Vc.apply(this,arguments)},Uc=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s};var Wc,Hc=function(t){function e(){var e,i,o,n,r=t.call(this,(e=gn.elementGettingCreated.getAttribute("name"),i=vc.getRowContainerCssClasses(e),o=e===Gl.CENTER,n=e===Gl.TOP_CENTER||e===Gl.STICKY_TOP_CENTER||e===Gl.BOTTOM_CENTER,o?'<div class="'+i.wrapper+'" ref="eWrapper" role="presentation">\n                <div class="'+i.viewport+'" ref="eViewport" role="presentation">\n                    <div class="'+i.container+'" ref="eContainer"></div>\n                </div>\n            </div>':n?'<div class="'+i.viewport+'" ref="eViewport" role="presentation">\n                <div class="'+i.container+'" ref="eContainer"></div>\n            </div>':'<div class="'+i.container+'" ref="eContainer"></div>'))||this;return r.rowComps={},r.name=gn.elementGettingCreated.getAttribute("name"),r.type=function(t){switch(t){case Gl.CENTER:case Gl.TOP_CENTER:case Gl.STICKY_TOP_CENTER:case Gl.BOTTOM_CENTER:return jl.CENTER;case Gl.LEFT:case Gl.TOP_LEFT:case Gl.STICKY_TOP_LEFT:case Gl.BOTTOM_LEFT:return jl.LEFT;case Gl.RIGHT:case Gl.TOP_RIGHT:case Gl.STICKY_TOP_RIGHT:case Gl.BOTTOM_RIGHT:return jl.RIGHT;case Gl.FULL_WIDTH:case Gl.TOP_FULL_WIDTH:case Gl.STICKY_TOP_FULL_WIDTH:case Gl.BOTTOM_FULL_WIDTH:return jl.FULL_WIDTH;default:throw Error("Invalid Row Container Type")}}(r.name),r}return jc(e,t),e.prototype.postConstruct=function(){var t=this,e={setViewportHeight:function(e){return t.eViewport.style.height=e},setRowCtrls:function(e){return t.setRowCtrls(e)},setDomOrder:function(e){t.domOrder=e},setContainerWidth:function(e){return t.eContainer.style.width=e}};this.createManagedBean(new vc(this.name)).setComp(e,this.eContainer,this.eViewport,this.eWrapper)},e.prototype.preDestroy=function(){this.setRowCtrls([])},e.prototype.setRowCtrls=function(t){var e=this,i=Vc({},this.rowComps);this.rowComps={},this.lastPlacedElement=null;t.forEach((function(t){var o=t.getInstanceId(),n=i[o];if(n)e.rowComps[o]=n,delete i[o],e.ensureDomOrder(n.getGui());else{var r=new Gc(t,e.beans,e.type);e.rowComps[o]=r,e.appendRow(r.getGui())}})),C(i).forEach((function(t){e.eContainer.removeChild(t.getGui()),t.destroy()})),ze(this.eContainer,t.length?"rowgroup":"presentation")},e.prototype.appendRow=function(t){this.domOrder?wo(this.eContainer,t,this.lastPlacedElement):this.eContainer.appendChild(t),this.lastPlacedElement=t},e.prototype.ensureDomOrder=function(t){this.domOrder&&(Eo(this.eContainer,t,this.lastPlacedElement),this.lastPlacedElement=t)},Uc([K("beans")],e.prototype,"beans",void 0),Uc([mn("eViewport")],e.prototype,"eViewport",void 0),Uc([mn("eContainer")],e.prototype,"eContainer",void 0),Uc([mn("eWrapper")],e.prototype,"eWrapper",void 0),Uc([H],e.prototype,"postConstruct",null),Uc([$],e.prototype,"preDestroy",null),e}(gn),$c=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},zc=function(){function t(t){this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[],this.pinned=t}return t.prototype.onDragEnter=function(t){var e=this;if(this.clearColumnsList(),!this.gridOptionsService.is("functionsReadOnly")){var i=t.dragItem.columns;i&&i.forEach((function(t){t.isPrimary()&&(t.isAnyFunctionActive()||(t.isAllowValue()?e.columnsToAggregate.push(t):t.isAllowRowGroup()?e.columnsToGroup.push(t):t.isAllowPivot()&&e.columnsToPivot.push(t)))}))}},t.prototype.getIconName=function(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?Rs.ICON_PINNED:Rs.ICON_MOVE:null},t.prototype.onDragLeave=function(t){this.clearColumnsList()},t.prototype.clearColumnsList=function(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0},t.prototype.onDragging=function(t){},t.prototype.onDragStop=function(t){this.columnsToAggregate.length>0&&this.columnModel.addValueColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&this.columnModel.addRowGroupColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&this.columnModel.addPivotColumns(this.columnsToPivot,"toolPanelDragAndDrop")},$c([K("columnModel")],t.prototype,"columnModel",void 0),$c([K("gridOptionsService")],t.prototype,"gridOptionsService",void 0),t}(),Kc=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},Yc=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,n,r=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return s},Xc=function(){function t(t,e){this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.pinned=t,this.eContainer=e,this.centerContainer=!n(t)}return t.prototype.init=function(){var t=this;this.ctrlsService.whenReady((function(){t.gridBodyCon=t.ctrlsService.getGridBodyCtrl()}))},t.prototype.getIconName=function(){return this.pinned?Rs.ICON_PINNED:Rs.ICON_MOVE},t.prototype.onDragEnter=function(t){var e=t.dragItem.columns;if(t.dragSource.type===Rr.ToolPanel)this.setColumnsVisible(e,!0,"uiColumnDragged");else{var i=t.dragItem.visibleState,o=(e||[]).filter((function(t){return i[t.getId()]}));this.setColumnsVisible(o,!0,"uiColumnDragged")}this.setColumnsPinned(e,this.pinned,"uiColumnDragged"),this.onDragging(t,!0,!0)},t.prototype.onDragLeave=function(){this.ensureIntervalCleared(),this.lastMovedInfo=null},t.prototype.setColumnsVisible=function(t,e,i){if(void 0===i&&(i="api"),t){var o=t.filter((function(t){return!t.getColDef().lockVisible}));this.columnModel.setColumnsVisible(o,e,i)}},t.prototype.setColumnsPinned=function(t,e,i){if(void 0===i&&(i="api"),t){var o=t.filter((function(t){return!t.getColDef().lockPinned}));this.columnModel.setColumnsPinned(o,e,i)}},t.prototype.onDragStop=function(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null},t.prototype.normaliseX=function(t){this.gridOptionsService.is("enableRtl")&&(t=this.eContainer.clientWidth-t);return this.centerContainer&&(t+=this.ctrlsService.getCenterRowContainerCtrl().getCenterViewportScrollLeft()),t},t.prototype.checkCenterForScrolling=function(t){if(this.centerContainer){var e=this.ctrlsService.getCenterRowContainerCtrl().getCenterViewportScrollLeft(),i=e+this.ctrlsService.getCenterRowContainerCtrl().getCenterWidth();this.gridOptionsService.is("enableRtl")?(this.needToMoveRight=t<e+50,this.needToMoveLeft=t>i-50):(this.needToMoveLeft=t<e+50,this.needToMoveRight=t>i-50),this.needToMoveLeft||this.needToMoveRight?this.ensureIntervalStarted():this.ensureIntervalCleared()}},t.prototype.onDragging=function(t,e,i,o){var n,s=this;if(void 0===t&&(t=this.lastDraggingEvent),void 0===e&&(e=!1),void 0===i&&(i=!1),void 0===o&&(o=!1),o){if(this.lastMovedInfo){var a=this.lastMovedInfo,l=a.columns,c=a.toIndex;this.moveColumns(l,c,"uiColumnMoved",!0)}}else if(this.lastDraggingEvent=t,!r(t.hDirection)){var u=this.normaliseX(t.x);e||this.checkCenterForScrolling(u);var h=this.normaliseDirection(t.hDirection),d=t.dragSource.type,p=(null===(n=t.dragSource.getDragItem().columns)||void 0===n?void 0:n.filter((function(t){return!t.getColDef().lockPinned||t.getPinned()==s.pinned})))||[];this.attemptMoveColumns({dragSourceType:d,allMovingColumns:p,hDirection:h,mouseX:u,fromEnter:e,fakeEvent:i})}},t.prototype.normaliseDirection=function(t){if(!this.gridOptionsService.is("enableRtl"))return t;switch(t){case Ir.Left:return Ir.Right;case Ir.Right:return Ir.Left;default:console.error("AG Grid: Unknown direction "+t)}},t.prototype.attemptMoveColumns=function(t){var e=t.dragSourceType,i=t.hDirection,o=t.mouseX,n=t.fromEnter,r=t.fakeEvent,s=i===Ir.Left,a=i===Ir.Right,l=t.allMovingColumns;if(e===Rr.HeaderCell){var c=[];l.forEach((function(t){for(var e=null,i=t.getParent();null!=i&&1===i.getDisplayedLeafColumns().length;)e=i,i=i.getParent();null!=e?e.getLeafColumns().forEach((function(t){c.includes(t)||c.push(t)})):c.includes(t)||c.push(t)})),l=c}var u=l.slice();this.columnModel.sortColumnsLikeGridColumns(u);var h=this.calculateValidMoves(u,a,o),d=this.calculateOldIndex(u);if(0!==h.length){var p=h[0],f=null!==d&&!n;if(e==Rr.HeaderCell&&(f=null!==d),f&&!r){if(s&&p>=d)return;if(a&&p<=d)return}for(var g=this.columnModel.getAllDisplayedColumns(),m=[],y=null,v=0;v<h.length;v++){var _=h[v],C=this.columnModel.getProposedColumnOrder(u,_);if(this.columnModel.doesOrderPassRules(C)){var b=C.filter((function(t){return g.includes(t)}));if(null===y)y=b;else if(!on.areEqual(b,y))break;var E=this.groupFragCount(C);m.push({move:_,fragCount:E})}}0!==m.length&&(m.sort((function(t,e){return t.fragCount-e.fragCount})),this.moveColumns(l,m[0].move,"uiColumnMoved",!1))}},t.prototype.calculateOldIndex=function(t){var e=this.columnModel.getAllGridColumns(),i=mt(t.map((function(t){return e.indexOf(t)}))),o=i[0];return ft(i)-o!==i.length-1?null:o},t.prototype.moveColumns=function(t,e,i,o){this.columnModel.moveColumns(t,e,i,o),this.lastMovedInfo=o?null:{columns:t,toIndex:e}},t.prototype.groupFragCount=function(t){function e(t){for(var e=[],i=t.getOriginalParent();null!=i;)e.push(i),i=i.getOriginalParent();return e}for(var i=0,o=function(o){var n,r=e(t[o]),s=e(t[o+1]);r=(n=Yc(r.length>s.length?[r,s]:[s,r],2))[0],s=n[1],r.forEach((function(t){-1===s.indexOf(t)&&i++}))},n=0;n<t.length-1;n++)o(n);return i},t.prototype.calculateValidMoves=function(t,e,i){var o=this.gridOptionsService.is("suppressMovableColumns")||t.some((function(t){return t.getColDef().suppressMovable}));if(o)return[];var n,r=this.columnModel.getDisplayedColumns(this.pinned),s=this.columnModel.getAllGridColumns(),a=r.filter((function(e){return bt(t,e)})),l=r.filter((function(e){return!bt(t,e)})),c=s.filter((function(e){return!bt(t,e)})),u=0,h=i;if(e){var d=0;a.forEach((function(t){return d+=t.getActualWidth()})),h-=d}if(h>0){for(var p=0;p<l.length;p++){if((h-=l[p].getActualWidth())<0)break;u++}e&&u++}if(u>0){var f=l[u-1];n=c.indexOf(f)+1}else-1===(n=c.indexOf(l[0]))&&(n=0);var g=[n],m=function(t,e){return t-e};if(e){for(var y=n+1,v=s.length-1;y<=v;)g.push(y),y++;g.sort(m)}else{y=n,v=s.length-1;for(var _=s[y];y<=v&&this.isColumnHidden(r,_);)y++,g.push(y),_=s[y];y=n-1;for(;y>=0;)g.push(y),y--;g.sort(m).reverse()}return g},t.prototype.isColumnHidden=function(t,e){return t.indexOf(e)<0},t.prototype.ensureIntervalStarted=function(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),100),this.needToMoveLeft?this.dragAndDropService.setGhostIcon(Rs.ICON_LEFT,!0):this.dragAndDropService.setGhostIcon(Rs.ICON_RIGHT,!0))},t.prototype.ensureIntervalCleared=function(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.dragAndDropService.setGhostIcon(Rs.ICON_MOVE))},t.prototype.moveInterval=function(){var t;this.intervalCount++,(t=10+5*this.intervalCount)>100&&(t=100);var e=null,i=this.gridBodyCon.getScrollFeature();if(this.needToMoveLeft?e=i.scrollHorizontally(-t):this.needToMoveRight&&(e=i.scrollHorizontally(t)),0!==e)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;var o=this.lastDraggingEvent.dragItem.columns.filter((function(t){return!t.getColDef().lockPinned}));if(o.length>0&&(this.dragAndDropService.setGhostIcon(Rs.ICON_PINNED),this.failedMoveAttempts>7)){var n=this.needToMoveLeft?"left":"right";this.setColumnsPinned(o,n,"uiColumnDragged"),this.dragAndDropService.nudge()}}},Kc([K("columnModel")],t.prototype,"columnModel",void 0),Kc([K("dragAndDropService")],t.prototype,"dragAndDropService",void 0),Kc([K("gridOptionsService")],t.prototype,"gridOptionsService",void 0),Kc([K("ctrlsService")],t.prototype,"ctrlsService",void 0),Kc([H],t.prototype,"init",null),t}(),Zc=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),qc=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},Jc=function(t){function e(e,i){var o=t.call(this)||this;return o.pinned=e,o.eContainer=i,o}return Zc(e,t),e.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady((function(e){switch(t.pinned){case"left":t.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.leftRowContainerCtrl.getContainerElement()],[e.bottomLeftRowContainerCtrl.getContainerElement()],[e.topLeftRowContainerCtrl.getContainerElement()]];break;case"right":t.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.rightRowContainerCtrl.getContainerElement()],[e.bottomRightRowContainerCtrl.getContainerElement()],[e.topRightRowContainerCtrl.getContainerElement()]];break;default:t.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.centerRowContainerCtrl.getViewportElement()],[e.bottomCenterRowContainerCtrl.getViewportElement()],[e.topCenterRowContainerCtrl.getViewportElement()]]}}))},e.prototype.isInterestedIn=function(t){return t===Rr.HeaderCell||t===Rr.ToolPanel&&this.gridOptionsService.is("allowDragFromColumnsToolPanel")},e.prototype.getSecondaryContainers=function(){return this.eSecondaryContainers},e.prototype.getContainer=function(){return this.eContainer},e.prototype.init=function(){this.moveColumnFeature=this.createManagedBean(new Xc(this.pinned,this.eContainer)),this.bodyDropPivotTarget=this.createManagedBean(new zc(this.pinned)),this.dragAndDropService.addDropTarget(this)},e.prototype.getIconName=function(){return this.currentDropListener.getIconName()},e.prototype.isDropColumnInPivotMode=function(t){return this.columnModel.isPivotMode()&&t.dragSource.type===Rr.ToolPanel},e.prototype.onDragEnter=function(t){this.currentDropListener=this.isDropColumnInPivotMode(t)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(t)},e.prototype.onDragLeave=function(t){this.currentDropListener.onDragLeave(t)},e.prototype.onDragging=function(t){this.currentDropListener.onDragging(t)},e.prototype.onDragStop=function(t){this.currentDropListener.onDragStop(t)},qc([K("dragAndDropService")],e.prototype,"dragAndDropService",void 0),qc([K("columnModel")],e.prototype,"columnModel",void 0),qc([K("ctrlsService")],e.prototype,"ctrlsService",void 0),qc([H],e.prototype,"postConstruct",null),qc([H],e.prototype,"init",null),e}(jt),Qc=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,n,r=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return s},tu=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Qc(arguments[e]));return t},eu=function(){function t(){}return t.getHeaderClassesFromColDef=function(t,e,i,o){return r(t)?[]:this.getColumnClassesFromCollDef(t.headerClass,t,e,i,o)},t.getToolPanelClassesFromColDef=function(t,e,i,o){return r(t)?[]:this.getColumnClassesFromCollDef(t.toolPanelClass,t,e,i,o)},t.getClassParams=function(t,e,i,o){return{colDef:t,column:i,columnGroup:o,api:e.api,columnApi:e.columnApi,context:e.context}},t.getColumnClassesFromCollDef=function(t,e,i,o,n){if(r(t))return[];var s;"function"==typeof t?s=t(this.getClassParams(e,i,o,n)):s=t;return"string"==typeof s?[s]:Array.isArray(s)?tu(s):[]},t}(),iu=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),ou=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},nu=function(t){function e(i){var o=t.call(this,e.TEMPLATE,i)||this;return o.headerCompVersion=0,o.column=i.getColumnGroupChild(),o.pinned=i.getPinned(),o}return iu(e,t),e.prototype.postConstruct=function(){var t=this,e=this.getGui(),i=function(t,i,o){var n=o||e;null!=i&&""!=i?n.setAttribute(t,i):n.removeAttribute(t)},o={setWidth:function(t){return e.style.width=t},addOrRemoveCssClass:function(e,i){return t.addOrRemoveCssClass(e,i)},setColId:function(t){return i("col-id",t)},setTitle:function(t){return i("title",t)},setAriaDescription:function(t){return Je(e,t)},setAriaSort:function(t){return t?pi(e,t):fi(e)},setUserCompDetails:function(e){return t.setUserCompDetails(e)},getUserCompInstance:function(){return t.headerComp}};this.ctrl.setComp(o,this.getGui(),this.eResize,this.eHeaderCompWrapper);var n=this.ctrl.getSelectAllGui();this.eResize.insertAdjacentElement("afterend",n)},e.prototype.destroyHeaderComp=function(){this.headerComp&&(this.eHeaderCompWrapper.removeChild(this.headerCompGui),this.headerComp=this.destroyBean(this.headerComp),this.headerCompGui=void 0)},e.prototype.setUserCompDetails=function(t){var e=this;this.headerCompVersion++;var i=this.headerCompVersion;t.newAgStackInstance().then((function(t){return e.afterCompCreated(i,t)}))},e.prototype.afterCompCreated=function(t,e){t==this.headerCompVersion&&this.isAlive()?(this.destroyHeaderComp(),this.headerComp=e,this.headerCompGui=e.getGui(),this.eHeaderCompWrapper.appendChild(this.headerCompGui),this.ctrl.setDragSource(this.getGui())):this.destroyBean(e)},e.TEMPLATE='<div class="ag-header-cell" role="columnheader" tabindex="-1">\n            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>\n            <div ref="eHeaderCompWrapper" class="ag-header-cell-comp-wrapper" role="presentation"></div>\n        </div>',ou([mn("eResize")],e.prototype,"eResize",void 0),ou([mn("eHeaderCompWrapper")],e.prototype,"eHeaderCompWrapper",void 0),ou([H],e.prototype,"postConstruct",null),ou([$],e.prototype,"destroyHeaderComp",null),e}(Va),ru=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),su=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},au=function(t){function e(i){return t.call(this,e.TEMPLATE,i)||this}return ru(e,t),e.prototype.postConstruct=function(){var t=this,e=this.getGui(),i=function(t,i){return null!=i?e.setAttribute(t,i):e.removeAttribute(t)},o={addOrRemoveCssClass:function(e,i){return t.addOrRemoveCssClass(e,i)},setResizableDisplayed:function(e){return oo(t.eResize,e)},setWidth:function(t){return e.style.width=t},setColId:function(t){return e.setAttribute("col-id",t)},setAriaExpanded:function(t){return i("aria-expanded",t)},setTitle:function(t){return i("title",t)},setUserCompDetails:function(e){return t.setUserCompDetails(e)}};this.ctrl.setComp(o,e,this.eResize)},e.prototype.setUserCompDetails=function(t){var e=this;t.newAgStackInstance().then((function(t){return e.afterHeaderCompCreated(t)}))},e.prototype.afterHeaderCompCreated=function(t){var e=this,i=function(){return e.destroyBean(t)};this.isAlive()?(this.getGui().appendChild(t.getGui()),this.addDestroyFunc(i),this.ctrl.setDragSource(t.getGui())):i()},e.TEMPLATE='<div class="ag-header-group-cell" role="columnheader" tabindex="-1">\n            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>\n        </div>',su([K("userComponentFactory")],e.prototype,"userComponentFactory",void 0),su([mn("eResize")],e.prototype,"eResize",void 0),su([H],e.prototype,"postConstruct",null),e}(Va),lu=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),cu=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s};!function(t){t.COLUMN_GROUP="group",t.COLUMN="column",t.FLOATING_FILTER="filter"}(Wc||(Wc={}));var uu,hu=function(t){function e(e){var i=t.call(this)||this;i.headerComps={};var o=e.getType()==Wc.COLUMN_GROUP?"ag-header-row-column-group":e.getType()==Wc.FLOATING_FILTER?"ag-header-row-column-filter":"ag-header-row-column";return i.setTemplate('<div class="ag-header-row '+o+'" role="row"></div>'),i.ctrl=e,i}return lu(e,t),e.prototype.init=function(){var t=this,e={setTransform:function(e){return t.getGui().style.transform=e},setHeight:function(e){return t.getGui().style.height=e},setTop:function(e){return t.getGui().style.top=e},setHeaderCtrls:function(e){return t.setHeaderCtrls(e)},setWidth:function(e){return t.getGui().style.width=e},setAriaRowIndex:function(e){return ci(t.getGui(),e)}};this.ctrl.setComp(e)},e.prototype.destroyHeaderCtrls=function(){this.setHeaderCtrls([])},e.prototype.setHeaderCtrls=function(t){var e=this;if(this.isAlive()){var i=this.headerComps;this.headerComps={},t.forEach((function(t){var o=t.getInstanceId(),n=i[o];delete i[o],null==n&&(n=e.createHeaderComp(t),e.getGui().appendChild(n.getGui())),e.headerComps[o]=n})),p(i,(function(t,i){e.getGui().removeChild(i.getGui()),e.destroyBean(i)}));var o=this.gridOptionsService.is("ensureDomOrder"),n=this.gridOptionsService.isDomLayout("print");if(o||n){var r=C(this.headerComps);r.sort((function(t,e){return t.getCtrl().getColumnGroupChild().getLeft()-e.getCtrl().getColumnGroupChild().getLeft()}));var s=r.map((function(t){return t.getGui()}));So(this.getGui(),s)}}},e.prototype.createHeaderComp=function(t){var e;switch(this.ctrl.getType()){case Wc.COLUMN_GROUP:e=new au(t);break;case Wc.FLOATING_FILTER:e=new Ha(t);break;default:e=new nu(t)}return this.createBean(e),e.setParentComponent(this),e},cu([H],e.prototype,"init",null),cu([$],e.prototype,"destroyHeaderCtrls",null),e}(gn),du=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),pu=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},fu=0,gu=function(t){function e(e,i){var o=t.call(this)||this;return o.lastFocusEvent=null,o.columnGroupChild=e,o.parentRowCtrl=i,o.instanceId=e.getUniqueId()+"-"+fu++,o}return du(e,t),e.prototype.shouldStopEventPropagation=function(t){var e=this.focusService.getFocusedHeader(),i=e.headerRowIndex,o=e.column;return $o(this.gridOptionsService,t,i,o)},e.prototype.getWrapperHasFocus=function(){return this.gridOptionsService.getDocument().activeElement===this.eGui},e.prototype.setGui=function(t){this.eGui=t,this.addDomData()},e.prototype.handleKeyDown=function(t){var e=this.getWrapperHasFocus();switch(t.key){case Uo.PAGE_DOWN:case Uo.PAGE_UP:case Uo.PAGE_HOME:case Uo.PAGE_END:e&&t.preventDefault()}},e.prototype.addDomData=function(){var t=this,i=e.DOM_DATA_KEY_HEADER_CTRL;this.gridOptionsService.setDomData(this.eGui,i,this),this.addDestroyFunc((function(){return t.gridOptionsService.setDomData(t.eGui,i,null)}))},e.prototype.getGui=function(){return this.eGui},e.prototype.focus=function(t){return!!this.eGui&&(this.lastFocusEvent=t||null,this.eGui.focus(),!0)},e.prototype.getRowIndex=function(){return this.parentRowCtrl.getRowIndex()},e.prototype.getParentRowCtrl=function(){return this.parentRowCtrl},e.prototype.getPinned=function(){return this.parentRowCtrl.getPinned()},e.prototype.getInstanceId=function(){return this.instanceId},e.prototype.getColumnGroupChild=function(){return this.columnGroupChild},e.DOM_DATA_KEY_HEADER_CTRL="headerCtrl",pu([K("focusService")],e.prototype,"focusService",void 0),pu([K("beans")],e.prototype,"beans",void 0),pu([K("userComponentFactory")],e.prototype,"userComponentFactory",void 0),e}(jt),mu=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),yu=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},vu=function(t){function e(e,i,o,n){var r=t.call(this)||this;return r.columnOrGroup=e,r.eCell=i,r.ariaEl=r.eCell.querySelector("[role=columnheader]")||r.eCell,r.colsSpanning=n,r.beans=o,r}return mu(e,t),e.prototype.setColsSpanning=function(t){this.colsSpanning=t,this.onLeftChanged()},e.prototype.getColumnOrGroup=function(){return this.beans.gridOptionsService.is("enableRtl")&&this.colsSpanning?ft(this.colsSpanning):this.columnOrGroup},e.prototype.postConstruct=function(){this.addManagedListener(this.columnOrGroup,ct.EVENT_LEFT_CHANGED,this.onLeftChanged.bind(this)),this.setLeftFirstTime(),this.addManagedListener(this.eventService,zt.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onLeftChanged.bind(this)),this.addManagedPropertyListener("domLayout",this.onLeftChanged.bind(this))},e.prototype.setLeftFirstTime=function(){var t=this.beans.gridOptionsService.is("suppressColumnMoveAnimation"),e=n(this.columnOrGroup.getOldLeft());this.beans.columnAnimationService.isActive()&&e&&!t?this.animateInLeft():this.onLeftChanged()},e.prototype.animateInLeft=function(){var t=this,e=this.getColumnOrGroup(),i=e.getLeft(),o=e.getOldLeft(),n=this.modifyLeftForPrintLayout(e,o),r=this.modifyLeftForPrintLayout(e,i);this.setLeft(n),this.actualLeft=r,this.beans.columnAnimationService.executeNextVMTurn((function(){t.actualLeft===r&&t.setLeft(r)}))},e.prototype.onLeftChanged=function(){var t=this.getColumnOrGroup(),e=t.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(t,e),this.setLeft(this.actualLeft)},e.prototype.modifyLeftForPrintLayout=function(t,e){if(!this.beans.gridOptionsService.isDomLayout("print"))return e;if("left"===t.getPinned())return e;var i=this.beans.columnModel.getDisplayedColumnsLeftWidth();return"right"===t.getPinned()?i+this.beans.columnModel.getBodyContainerWidth()+e:i+e},e.prototype.setLeft=function(t){var e;if(n(t)&&(this.eCell.style.left=t+"px"),this.columnOrGroup instanceof ct)e=this.columnOrGroup;else{var i=this.columnOrGroup.getLeafColumns();if(!i.length)return;i.length>1&&di(this.ariaEl,i.length),e=i[0]}var o=this.beans.columnModel.getAriaColumnIndex(e);hi(this.ariaEl,o)},yu([H],e.prototype,"postConstruct",null),e}(jt),_u=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),Cu=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},bu=function(t){function e(e,i){var o=t.call(this)||this;return o.columns=e,o.element=i,o}return _u(e,t),e.prototype.postConstruct=function(){this.gridOptionsService.is("columnHoverHighlight")&&this.addMouseHoverListeners()},e.prototype.addMouseHoverListeners=function(){this.addManagedListener(this.element,"mouseout",this.onMouseOut.bind(this)),this.addManagedListener(this.element,"mouseover",this.onMouseOver.bind(this))},e.prototype.onMouseOut=function(){this.columnHoverService.clearMouseOver()},e.prototype.onMouseOver=function(){this.columnHoverService.setMouseOver(this.columns)},Cu([K("columnHoverService")],e.prototype,"columnHoverService",void 0),Cu([H],e.prototype,"postConstruct",null),e}(jt),Eu=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),Su=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},wu=function(t){function e(e,i){var o=t.call(this,e,i)||this;return o.column=e,o}return Eu(e,t),e.prototype.setComp=function(e,i,o,n){t.prototype.setGui.call(this,i),this.comp=e,this.eButtonShowMainFilter=o,this.eFloatingFilterBody=n;var r=this.column.getColDef(),s=!!r.filter||!!r.filterFramework,a=!!r.floatingFilter;this.active=s&&a,this.setupWidth(),this.setupLeft(),this.setupHover(),this.setupFocus(),this.setupUserComp(),this.setupSyncWithFilter(),this.setupUi(),this.addManagedListener(this.eButtonShowMainFilter,"click",this.showParentFilter.bind(this)),this.active&&this.addManagedListener(this.column,ct.EVENT_FILTER_CHANGED,this.updateFilterButton.bind(this))},e.prototype.setupUi=function(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.active){this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton);var t=jo("filter",this.gridOptionsService,this.column);t&&this.eButtonShowMainFilter.appendChild(t)}},e.prototype.setupFocus=function(){this.createManagedBean(new Tn(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))},e.prototype.onTabKeyDown=function(t){if(!(this.gridOptionsService.getDocument().activeElement===this.eGui)){var e=this.focusService.findNextFocusableElement(this.eGui,null,t.shiftKey);if(e)return this.beans.headerNavigationService.scrollToColumn(this.column),t.preventDefault(),void e.focus();var i=this.findNextColumnWithFloatingFilter(t.shiftKey);i&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:this.getParentRowCtrl().getRowIndex(),column:i},event:t})&&t.preventDefault()}},e.prototype.findNextColumnWithFloatingFilter=function(t){var e=this.beans.columnModel,i=this.column;do{if(!(i=t?e.getDisplayedColBefore(i):e.getDisplayedColAfter(i)))break}while(!i.getColDef().filter||!i.getColDef().floatingFilter);return i},e.prototype.handleKeyDown=function(e){t.prototype.handleKeyDown.call(this,e);var i=this.getWrapperHasFocus();switch(e.key){case Uo.UP:case Uo.DOWN:i||e.preventDefault();case Uo.LEFT:case Uo.RIGHT:if(i)return;e.stopPropagation();case Uo.ENTER:i&&this.focusService.focusInto(this.eGui)&&e.preventDefault();break;case Uo.ESCAPE:i||this.eGui.focus()}},e.prototype.onFocusIn=function(t){if(!this.eGui.contains(t.relatedTarget)){var e=!!t.relatedTarget&&!t.relatedTarget.classList.contains("ag-floating-filter"),i=!!t.relatedTarget&&so(t.relatedTarget,"ag-floating-filter");if(e&&i&&t.target===this.eGui){var o=this.lastFocusEvent,n=!(!o||o.key!==Uo.TAB);if(o&&n){var r=o.shiftKey;this.focusService.focusInto(this.eGui,r)}}var s=this.getRowIndex();this.beans.focusService.setFocusedHeader(s,this.column)}},e.prototype.setupHover=function(){var t=this;this.createManagedBean(new bu([this.column],this.eGui));var e=function(){if(t.gridOptionsService.is("columnHoverHighlight")){var e=t.columnHoverService.isHovered(t.column);t.comp.addOrRemoveCssClass("ag-column-hover",e)}};this.addManagedListener(this.eventService,zt.EVENT_COLUMN_HOVER_CHANGED,e),e()},e.prototype.setupLeft=function(){var t=new vu(this.column,this.eGui,this.beans);this.createManagedBean(t)},e.prototype.setupUserComp=function(){var t=this;if(this.active){var e=this.column.getColDef();this.suppressFilterButton=!!e.floatingFilterComponentParams&&!!e.floatingFilterComponentParams.suppressFilterButton;var i=this.filterManager.getFloatingFilterCompDetails(this.column,(function(){return t.showParentFilter()}));i&&this.comp.setCompDetails(i)}},e.prototype.showParentFilter=function(){var t=this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter;this.menuFactory.showMenuAfterButtonClick(this.column,t,"floatingFilter","filterMenuTab",["filterMenuTab"])},e.prototype.setupSyncWithFilter=function(){var t=this;if(this.active){var e=function(e){var i=t.comp.getFloatingFilterComp();if(i){var o=t.filterManager.getCurrentFloatingFilterParentModel(t.column);i.then((function(t){t&&t.onParentModelChanged(o,e)}))}};this.addManagedListener(this.column,ct.EVENT_FILTER_CHANGED,e),this.filterManager.isFilterActive(this.column)&&e(null)}},e.prototype.setupWidth=function(){var t=this,e=function(){var e=t.column.getActualWidth()+"px";t.comp.setWidth(e)};this.addManagedListener(this.column,ct.EVENT_WIDTH_CHANGED,e),e()},e.prototype.updateFilterButton=function(){!this.suppressFilterButton&&this.comp&&this.comp.setButtonWrapperDisplayed(this.filterManager.isFilterAllowed(this.column))},Su([K("filterManager")],e.prototype,"filterManager",void 0),Su([K("columnHoverService")],e.prototype,"columnHoverService",void 0),Su([K("menuFactory")],e.prototype,"menuFactory",void 0),e}(gu),Ou=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),xu=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},Pu=function(t){function e(e,i,o,n,r){var s=t.call(this)||this;return s.pinned=e,s.column=i,s.eResize=o,s.comp=n,s.ctrl=r,s}return Ou(e,t),e.prototype.postConstruct=function(){var t,e,i=this,o=this.column.getColDef(),n=[],r=function(){n.forEach((function(t){return t()})),n.length=0},s=function(){var s=i.column.isResizable(),a=!i.gridOptionsService.is("suppressAutoSize")&&!o.suppressAutoSize;(s!==t||a!==e)&&(t=s,e=a,r(),function(){if(oo(i.eResize,t),t){var o=i.horizontalResizeService.addResizeBar({eResizeBar:i.eResize,onResizeStart:i.onResizeStart.bind(i),onResizing:i.onResizing.bind(i,!1),onResizeEnd:i.onResizing.bind(i,!0)});if(n.push(o),e){var r=i.gridOptionsService.is("skipHeaderOnAutoSize"),s=function(){i.columnModel.autoSizeColumn(i.column,r,"uiColumnResized")};i.eResize.addEventListener("dblclick",s);var a=new Xr(i.eResize);a.addEventListener(Xr.EVENT_DOUBLE_TAP,s),i.addDestroyFunc((function(){i.eResize.removeEventListener("dblclick",s),a.removeEventListener(Xr.EVENT_DOUBLE_TAP,s),a.destroy()}))}}}())};s(),this.addDestroyFunc(r),this.ctrl.addRefreshFunction(s)},e.prototype.onResizing=function(t,e){var i=this.normaliseResizeAmount(e),o=[{key:this.column,newWidth:this.resizeStartWidth+i}];this.columnModel.setColumnWidths(o,this.resizeWithShiftKey,t,"uiColumnResized"),t&&this.comp.addOrRemoveCssClass("ag-column-resizing",!1)},e.prototype.onResizeStart=function(t){this.resizeStartWidth=this.column.getActualWidth(),this.resizeWithShiftKey=t,this.comp.addOrRemoveCssClass("ag-column-resizing",!0)},e.prototype.normaliseResizeAmount=function(t){var e=t,i="left"!==this.pinned,o="right"===this.pinned;return this.gridOptionsService.is("enableRtl")?i&&(e*=-1):o&&(e*=-1),e},xu([K("horizontalResizeService")],e.prototype,"horizontalResizeService",void 0),xu([K("columnModel")],e.prototype,"columnModel",void 0),xu([H],e.prototype,"postConstruct",null),e}(jt),Tu=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),Mu=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},Du=function(t){function e(e){var i=t.call(this)||this;i.cbSelectAllVisible=!1,i.processingEventFromCheckbox=!1,i.column=e;var o=e.getColDef();return i.filteredOnly=!!(null==o?void 0:o.headerCheckboxSelectionFilteredOnly),i.currentPageOnly=!!(null==o?void 0:o.headerCheckboxSelectionCurrentPageOnly),i}return Tu(e,t),e.prototype.onSpaceKeyPressed=function(t){var e=this.cbSelectAll,i=this.gridOptionsService.getDocument();e.isDisplayed()&&!e.getGui().contains(i.activeElement)&&(t.preventDefault(),e.setValue(!e.getValue()))},e.prototype.getCheckboxGui=function(){return this.cbSelectAll.getGui()},e.prototype.setComp=function(t){this.headerCellCtrl=t,this.cbSelectAll=this.createManagedBean(new er),this.cbSelectAll.addCssClass("ag-header-select-all"),ze(this.cbSelectAll.getGui(),"presentation"),this.showOrHideSelectAll(),this.addManagedListener(this.eventService,zt.EVENT_NEW_COLUMNS_LOADED,this.showOrHideSelectAll.bind(this)),this.addManagedListener(this.eventService,zt.EVENT_DISPLAYED_COLUMNS_CHANGED,this.showOrHideSelectAll.bind(this)),this.addManagedListener(this.eventService,zt.EVENT_SELECTION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,zt.EVENT_PAGINATION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,zt.EVENT_MODEL_UPDATED,this.onModelChanged.bind(this)),this.addManagedListener(this.cbSelectAll,er.EVENT_CHANGED,this.onCbSelectAll.bind(this)),ii(this.cbSelectAll.getGui(),!0),this.cbSelectAll.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()},e.prototype.showOrHideSelectAll=function(){this.cbSelectAllVisible=this.isCheckboxSelection(),this.cbSelectAll.setDisplayed(this.cbSelectAllVisible,{skipAriaHidden:!0}),this.cbSelectAllVisible&&(this.checkRightRowModelType("selectAllCheckbox"),this.updateStateOfCheckbox()),this.refreshSelectAllLabel()},e.prototype.onModelChanged=function(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()},e.prototype.onSelectionChanged=function(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()},e.prototype.updateStateOfCheckbox=function(){if(!this.processingEventFromCheckbox){this.processingEventFromCheckbox=!0;var t=this.selectionService.getSelectAllState(this.filteredOnly,this.currentPageOnly);this.cbSelectAll.setValue(t),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}},e.prototype.refreshSelectAllLabel=function(){if(this.cbSelectAllVisible){var t=this.localeService.getLocaleTextFunc(),e=this.cbSelectAll.getValue()?t("ariaChecked","checked"):t("ariaUnchecked","unchecked"),i=t("ariaRowSelectAll","Press Space to toggle all rows selection");this.headerCellCtrl.setAriaDescriptionProperty("selectAll",i+" ("+e+")"),this.cbSelectAll.setInputAriaLabel(i+" ("+e+")")}else this.headerCellCtrl.setAriaDescriptionProperty("selectAll",null),this.cbSelectAll.setInputAriaLabel(null);this.headerCellCtrl.refreshAriaDescription()},e.prototype.checkRightRowModelType=function(t){var e=this.rowModel.getType();return!("clientSide"!==e&&"serverSide"!==e)||(console.warn("AG Grid: "+t+" is only available if using 'clientSide' or 'serverSide' rowModelType, you are using "+e+"."),!1)},e.prototype.onCbSelectAll=function(){if(!this.processingEventFromCheckbox&&this.cbSelectAllVisible){var t=this.cbSelectAll.getValue(),e="uiSelectAll";this.currentPageOnly?e="uiSelectAllCurrentPage":this.filteredOnly&&(e="uiSelectAllFiltered");var i={source:e,justFiltered:this.filteredOnly,justCurrentPage:this.currentPageOnly};t?this.selectionService.selectAllRowNodes(i):this.selectionService.deselectAllRowNodes(i)}},e.prototype.isCheckboxSelection=function(){var t=this.column.getColDef().headerCheckboxSelection;"function"==typeof t&&(t=t({column:this.column,colDef:this.column.getColDef(),columnApi:this.columnApi,api:this.gridApi,context:this.gridOptionsService.context}));return!!t&&this.checkRightRowModelType("headerCheckboxSelection")},Mu([K("gridApi")],e.prototype,"gridApi",void 0),Mu([K("columnApi")],e.prototype,"columnApi",void 0),Mu([K("rowModel")],e.prototype,"rowModel",void 0),Mu([K("selectionService")],e.prototype,"selectionService",void 0),e}(jt),Au=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),Ru=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},Lu=function(t){function e(e,i){var o=t.call(this,e,i)||this;return o.refreshFunctions=[],o.userHeaderClasses=new Set,o.ariaDescriptionProperties=new Map,o.column=e,o}return Au(e,t),e.prototype.setComp=function(e,i,o,n){var r=this;t.prototype.setGui.call(this,i),this.comp=e,this.updateState(),this.setupWidth(),this.setupMovingCss(),this.setupMenuClass(),this.setupSortableClass(),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight(n),this.addColumnHoverListener(),this.setupFilterCss(),this.setupColId(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(),this.setupSelectAll(),this.setupUserComp(),this.refreshAria(),this.createManagedBean(new Pu(this.getPinned(),this.column,o,e,this)),this.createManagedBean(new bu([this.column],i)),this.createManagedBean(new vu(this.column,i,this.beans)),this.createManagedBean(new Tn(i,{shouldStopEventPropagation:function(t){return r.shouldStopEventPropagation(t)},onTabKeyDown:function(){return null},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedListener(this.column,ct.EVENT_COL_DEF_CHANGED,this.onColDefChanged.bind(this)),this.addManagedListener(this.eventService,zt.EVENT_COLUMN_VALUE_CHANGED,this.onColumnValueChanged.bind(this)),this.addManagedListener(this.eventService,zt.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onColumnRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,zt.EVENT_COLUMN_PIVOT_CHANGED,this.onColumnPivotChanged.bind(this)),this.addManagedListener(this.eventService,zt.EVENT_HEADER_HEIGHT_CHANGED,this.onHeaderHeightChanged.bind(this))},e.prototype.setupUserComp=function(){var t=this.lookupUserCompDetails();this.setCompDetails(t)},e.prototype.setCompDetails=function(t){this.userCompDetails=t,this.comp.setUserCompDetails(t)},e.prototype.lookupUserCompDetails=function(){var t=this.createParams(),e=this.column.getColDef();return this.userComponentFactory.getHeaderCompDetails(e,t)},e.prototype.createParams=function(){var t=this,e=this.column.getColDef();return{column:this.column,displayName:this.displayName,enableSorting:e.sortable,enableMenu:this.menuEnabled,showColumnMenu:function(e){t.gridApi.showColumnMenuAfterButtonClick(t.column,e)},progressSort:function(e){t.sortController.progressSort(t.column,!!e,"uiColumnSorted")},setSort:function(e,i){t.sortController.setSortForColumn(t.column,e,!!i,"uiColumnSorted")},api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsService.context,eGridHeader:this.getGui()}},e.prototype.setupSelectAll=function(){this.selectAllFeature=this.createManagedBean(new Du(this.column)),this.selectAllFeature.setComp(this)},e.prototype.getSelectAllGui=function(){return this.selectAllFeature.getCheckboxGui()},e.prototype.handleKeyDown=function(e){t.prototype.handleKeyDown.call(this,e),e.key===Uo.SPACE&&this.selectAllFeature.onSpaceKeyPressed(e),e.key===Uo.ENTER&&this.onEnterKeyPressed(e)},e.prototype.onEnterKeyPressed=function(t){var e=this.comp.getUserCompInstance();if(e)if(t.ctrlKey||t.metaKey)this.menuEnabled&&e.showMenu&&(t.preventDefault(),e.showMenu());else if(this.sortable){var i=t.shiftKey;this.sortController.progressSort(this.column,i,"uiColumnSorted")}},e.prototype.isMenuEnabled=function(){return this.menuEnabled},e.prototype.onFocusIn=function(t){if(!this.getGui().contains(t.relatedTarget)){var e=this.getRowIndex();this.focusService.setFocusedHeader(e,this.column)}this.setActiveHeader(!0)},e.prototype.onFocusOut=function(t){this.getGui().contains(t.relatedTarget)||this.setActiveHeader(!1)},e.prototype.setupTooltip=function(){var t=this,e={getColumn:function(){return t.column},getColDef:function(){return t.column.getColDef()},getGui:function(){return t.eGui},getLocation:function(){return"header"},getTooltipValue:function(){return t.column.getColDef().headerTooltip}},i=this.createManagedBean(new bl(e,this.beans));i.setComp(this.comp),this.refreshFunctions.push((function(){return i.refreshToolTip()}))},e.prototype.setupClassesFromColDef=function(){var t=this,e=function(){var e=t.column.getColDef(),i=eu.getHeaderClassesFromColDef(e,t.gridOptionsService,t.column,null),o=t.userHeaderClasses;t.userHeaderClasses=new Set(i),i.forEach((function(e){o.has(e)?o.delete(e):t.comp.addOrRemoveCssClass(e,!0)})),o.forEach((function(e){return t.comp.addOrRemoveCssClass(e,!1)}))};this.refreshFunctions.push(e),e()},e.prototype.setDragSource=function(t){var e=this;if(this.dragSourceElement=t,this.removeDragSource(),t&&this.draggable){var i=!this.gridOptionsService.is("suppressDragLeaveHidesColumns");this.moveDragSource={type:Rr.HeaderCell,eElement:t,defaultIconName:i?Rs.ICON_HIDE:Rs.ICON_NOT_ALLOWED,getDragItem:function(){return e.createDragItem()},dragItemName:this.displayName,onDragStarted:function(){return e.column.setMoving(!0,"uiColumnMoved")},onDragStopped:function(){return e.column.setMoving(!1,"uiColumnMoved")},onGridEnter:function(t){var o;if(i){var n=(null===(o=null==t?void 0:t.columns)||void 0===o?void 0:o.filter((function(t){return!t.getColDef().lockVisible})))||[];e.columnModel.setColumnsVisible(n,!0,"uiColumnMoved")}},onGridExit:function(t){var o;if(i){var n=(null===(o=null==t?void 0:t.columns)||void 0===o?void 0:o.filter((function(t){return!t.getColDef().lockVisible})))||[];e.columnModel.setColumnsVisible(n,!1,"uiColumnMoved")}}},this.dragAndDropService.addDragSource(this.moveDragSource,!0)}},e.prototype.createDragItem=function(){var t={};return t[this.column.getId()]=this.column.isVisible(),{columns:[this.column],visibleState:t}},e.prototype.removeDragSource=function(){this.moveDragSource&&(this.dragAndDropService.removeDragSource(this.moveDragSource),this.moveDragSource=void 0)},e.prototype.onColDefChanged=function(){this.refresh()},e.prototype.updateState=function(){var t=this.column.getColDef();this.menuEnabled=this.menuFactory.isMenuEnabled(this.column)&&!t.suppressMenu,this.sortable=t.sortable,this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()},e.prototype.addRefreshFunction=function(t){this.refreshFunctions.push(t)},e.prototype.refresh=function(){this.updateState(),this.refreshHeaderComp(),this.refreshAria(),this.refreshFunctions.forEach((function(t){return t()}))},e.prototype.refreshHeaderComp=function(){var t=this.lookupUserCompDetails();!!(null!=this.comp.getUserCompInstance()&&this.userCompDetails.componentClass==t.componentClass)&&this.attemptHeaderCompRefresh(t.params)?this.setDragSource(this.dragSourceElement):this.setCompDetails(t)},e.prototype.attemptHeaderCompRefresh=function(t){var e=this.comp.getUserCompInstance();return!!e&&(!!e.refresh&&e.refresh(t))},e.prototype.calculateDisplayName=function(){return this.columnModel.getDisplayNameForColumn(this.column,"header",!0)},e.prototype.checkDisplayName=function(){this.displayName!==this.calculateDisplayName()&&this.refresh()},e.prototype.workOutDraggable=function(){var t=this.column.getColDef();return!!(!this.gridOptionsService.is("suppressMovableColumns")&&!t.suppressMovable&&!t.lockPosition)||!!t.enableRowGroup||!!t.enablePivot},e.prototype.onColumnRowGroupChanged=function(){this.checkDisplayName()},e.prototype.onColumnPivotChanged=function(){this.checkDisplayName()},e.prototype.onColumnValueChanged=function(){this.checkDisplayName()},e.prototype.setupWidth=function(){var t=this,e=function(){var e=t.column.getActualWidth();t.comp.setWidth(e+"px")};this.addManagedListener(this.column,ct.EVENT_WIDTH_CHANGED,e),e()},e.prototype.setupMovingCss=function(){var t=this,e=function(){t.comp.addOrRemoveCssClass("ag-header-cell-moving",t.column.isMoving())};this.addManagedListener(this.column,ct.EVENT_MOVING_CHANGED,e),e()},e.prototype.setupMenuClass=function(){var t=this,e=function(){t.comp.addOrRemoveCssClass("ag-column-menu-visible",t.column.isMenuVisible())};this.addManagedListener(this.column,ct.EVENT_MENU_VISIBLE_CHANGED,e),e()},e.prototype.setupSortableClass=function(){var t=this,e=function(){t.comp.addOrRemoveCssClass("ag-header-cell-sortable",!!t.sortable)};e(),this.addRefreshFunction(e),this.addManagedListener(this.eventService,ct.EVENT_SORT_CHANGED,this.refreshAriaSort.bind(this))},e.prototype.setupWrapTextClass=function(){var t=this,e=function(){var e=!!t.column.getColDef().wrapHeaderText;t.comp.addOrRemoveCssClass("ag-header-cell-wrap-text",e)};e(),this.addRefreshFunction(e)},e.prototype.onHeaderHeightChanged=function(){this.refreshSpanHeaderHeight()},e.prototype.refreshSpanHeaderHeight=function(){var t=this,e=t.eGui,i=t.column,o=t.comp,n=t.columnModel,r=t.gridOptionsService;if(i.isSpanHeaderHeight()){var s=this.getColumnGroupPaddingInfo(),a=s.numberOfParents,l=s.isSpanningTotal;if(o.addOrRemoveCssClass("ag-header-span-height",a>0),0!==a){o.addOrRemoveCssClass("ag-header-span-total",l);var c=r.is("pivotMode")?n.getPivotGroupHeaderHeight():n.getGroupHeaderHeight(),u=n.getColumnHeaderRowHeight(),h=a*c;e.style.setProperty("top",-h+"px"),e.style.setProperty("height",u+h+"px")}}},e.prototype.getColumnGroupPaddingInfo=function(){var t=this.column.getParent();if(!t||!t.isPadding())return{numberOfParents:0,isSpanningTotal:!1};for(var e=t.getPaddingLevel()+1,i=!0;t;){if(!t.isPadding()){i=!1;break}t=t.getParent()}return{numberOfParents:e,isSpanningTotal:i}},e.prototype.setupAutoHeight=function(t){var e,i=this,o=function(e){if(i.isAlive()){var n=ao(i.getGui()),r=n.paddingTop+n.paddingBottom+n.borderBottomWidth+n.borderTopWidth,s=t.offsetHeight+r;if(e<5){var a=i.beans.gridOptionsService.getDocument();if(!a||!a.contains(t)||0==s)return void i.beans.frameworkOverrides.setTimeout((function(){return o(e+1)}),0)}i.columnModel.setColumnHeaderHeight(i.column,s)}},n=!1,r=function(){var t=i.column.isSpanHeaderHeight(),e=i.column.isAutoHeaderHeight();if(t){if(a(),e){P((function(){return console.warn("AG Grid: The properties `spanHeaderHeight` and `autoHeaderHeight` cannot be used together in the same column.")}),"HeaderCellCtrl.spanHeaderHeightAndAutoHeaderHeight")}}else e&&!n&&s(),!e&&n&&a()},s=function(){n=!0,o(0),i.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!0),e=i.resizeObserverService.observeResize(t,(function(){return o(0)}))},a=function(){n=!1,e&&e(),i.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!1),e=void 0};r(),this.addDestroyFunc((function(){return a()})),this.addManagedListener(this.column,ct.EVENT_WIDTH_CHANGED,(function(){return n&&o(0)})),this.addManagedListener(this.eventService,ct.EVENT_SORT_CHANGED,(function(){n&&i.beans.frameworkOverrides.setTimeout((function(){return o(0)}))})),this.addRefreshFunction(r)},e.prototype.refreshAriaSort=function(){if(this.sortable){var t=this.localeService.getLocaleTextFunc(),e=this.sortController.getDisplaySortForColumn(this.column)||null;this.comp.setAriaSort(Ke(e)),this.setAriaDescriptionProperty("sort",t("ariaSortableColumn","Press ENTER to sort."))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)},e.prototype.refreshAriaMenu=function(){if(this.menuEnabled){var t=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",t("ariaMenuColumn","Press CTRL ENTER to open column menu."))}else this.setAriaDescriptionProperty("menu",null)},e.prototype.setAriaDescriptionProperty=function(t,e){null!=e?this.ariaDescriptionProperties.set(t,e):this.ariaDescriptionProperties.delete(t)},e.prototype.refreshAriaDescription=function(){var t=Array.from(this.ariaDescriptionProperties.values());this.comp.setAriaDescription(t.length?t.join(" "):void 0)},e.prototype.refreshAria=function(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaDescription()},e.prototype.addColumnHoverListener=function(){var t=this,e=function(){if(t.gridOptionsService.is("columnHoverHighlight")){var e=t.columnHoverService.isHovered(t.column);t.comp.addOrRemoveCssClass("ag-column-hover",e)}};this.addManagedListener(this.eventService,zt.EVENT_COLUMN_HOVER_CHANGED,e),e()},e.prototype.setupFilterCss=function(){var t=this,e=function(){t.comp.addOrRemoveCssClass("ag-header-cell-filtered",t.column.isFilterActive())};this.addManagedListener(this.column,ct.EVENT_FILTER_ACTIVE_CHANGED,e),e()},e.prototype.setupColId=function(){this.comp.setColId(this.column.getColId())},e.prototype.addActiveHeaderMouseListeners=function(){var t=this,e=function(e){return t.setActiveHeader("mouseenter"===e.type)};this.addManagedListener(this.getGui(),"mouseenter",e),this.addManagedListener(this.getGui(),"mouseleave",e)},e.prototype.setActiveHeader=function(t){this.comp.addOrRemoveCssClass("ag-header-active",t)},Ru([K("columnModel")],e.prototype,"columnModel",void 0),Ru([K("columnHoverService")],e.prototype,"columnHoverService",void 0),Ru([K("sortController")],e.prototype,"sortController",void 0),Ru([K("menuFactory")],e.prototype,"menuFactory",void 0),Ru([K("dragAndDropService")],e.prototype,"dragAndDropService",void 0),Ru([K("resizeObserverService")],e.prototype,"resizeObserverService",void 0),Ru([K("gridApi")],e.prototype,"gridApi",void 0),Ru([K("columnApi")],e.prototype,"columnApi",void 0),Ru([$],e.prototype,"removeDragSource",null),e}(gu),Iu=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),Nu=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},ku=function(t){function e(e,i,o,n){var r=t.call(this)||this;return r.eResize=i,r.comp=e,r.pinned=o,r.columnGroup=n,r}return Iu(e,t),e.prototype.postConstruct=function(){var t=this;if(this.columnGroup.isResizable()){var e=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(this.addDestroyFunc(e),!this.gridOptionsService.is("suppressAutoSize")){var i=this.gridOptionsService.is("skipHeaderOnAutoSize");this.eResize.addEventListener("dblclick",(function(){var e=[];t.columnGroup.getDisplayedLeafColumns().forEach((function(t){t.getColDef().suppressAutoSize||e.push(t.getColId())})),e.length>0&&t.columnModel.autoSizeColumns({columns:e,skipHeader:i,stopAtGroup:t.columnGroup,source:"uiColumnResized"}),t.resizeLeafColumnsToFit("uiColumnResized")}))}}else this.comp.setResizableDisplayed(!1)},e.prototype.onResizeStart=function(t){var e=this;this.calculateInitialValues();var i=null;if(t&&(i=this.columnModel.getDisplayedGroupAfter(this.columnGroup)),i){var o=i.getDisplayedLeafColumns();this.resizeTakeFromCols=o.filter((function(t){return t.isResizable()})),this.resizeTakeFromStartWidth=0,this.resizeTakeFromCols.forEach((function(t){return e.resizeTakeFromStartWidth+=t.getActualWidth()})),this.resizeTakeFromRatios=[],this.resizeTakeFromCols.forEach((function(t){return e.resizeTakeFromRatios.push(t.getActualWidth()/e.resizeTakeFromStartWidth)}))}else this.resizeTakeFromCols=null,this.resizeTakeFromStartWidth=null,this.resizeTakeFromRatios=null;this.comp.addOrRemoveCssClass("ag-column-resizing",!0)},e.prototype.onResizing=function(t,e,i){void 0===i&&(i="uiColumnResized");var o=this.normaliseDragChange(e),n=this.resizeStartWidth+o;this.resizeColumns(n,i,t)},e.prototype.resizeLeafColumnsToFit=function(t){var e=this.autoWidthCalculator.getPreferredWidthForColumnGroup(this.columnGroup);this.calculateInitialValues(),e>this.resizeStartWidth&&this.resizeColumns(e,t,!0)},e.prototype.resizeColumns=function(t,e,i){void 0===i&&(i=!0);var o=[];if(o.push({columns:this.resizeCols,ratios:this.resizeRatios,width:t}),this.resizeTakeFromCols){var n=t-this.resizeStartWidth;o.push({columns:this.resizeTakeFromCols,ratios:this.resizeTakeFromRatios,width:this.resizeTakeFromStartWidth-n})}this.columnModel.resizeColumnSets({resizeSets:o,finished:i,source:e}),i&&this.comp.addOrRemoveCssClass("ag-column-resizing",!1)},e.prototype.calculateInitialValues=function(){var t=this,e=this.columnGroup.getDisplayedLeafColumns();this.resizeCols=e.filter((function(t){return t.isResizable()})),this.resizeStartWidth=0,this.resizeCols.forEach((function(e){return t.resizeStartWidth+=e.getActualWidth()})),this.resizeRatios=[],this.resizeCols.forEach((function(e){return t.resizeRatios.push(e.getActualWidth()/t.resizeStartWidth)}))},e.prototype.normaliseDragChange=function(t){var e=t;return this.gridOptionsService.is("enableRtl")?"left"!==this.pinned&&(e*=-1):"right"===this.pinned&&(e*=-1),e},Nu([K("horizontalResizeService")],e.prototype,"horizontalResizeService",void 0),Nu([K("autoWidthCalculator")],e.prototype,"autoWidthCalculator",void 0),Nu([K("columnModel")],e.prototype,"columnModel",void 0),Nu([H],e.prototype,"postConstruct",null),e}(jt),Fu=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),Bu=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},Gu=function(t){function e(e,i){var o=t.call(this)||this;return o.removeChildListenersFuncs=[],o.columnGroup=i,o.comp=e,o}return Fu(e,t),e.prototype.postConstruct=function(){this.addListenersToChildrenColumns(),this.addManagedListener(this.columnGroup,he.EVENT_DISPLAYED_CHILDREN_CHANGED,this.onDisplayedChildrenChanged.bind(this)),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))},e.prototype.addListenersToChildrenColumns=function(){var t=this;this.removeListenersOnChildrenColumns();var e=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach((function(i){i.addEventListener("widthChanged",e),i.addEventListener("visibleChanged",e),t.removeChildListenersFuncs.push((function(){i.removeEventListener("widthChanged",e),i.removeEventListener("visibleChanged",e)}))}))},e.prototype.removeListenersOnChildrenColumns=function(){this.removeChildListenersFuncs.forEach((function(t){return t()})),this.removeChildListenersFuncs=[]},e.prototype.onDisplayedChildrenChanged=function(){this.addListenersToChildrenColumns(),this.onWidthChanged()},e.prototype.onWidthChanged=function(){var t=this.columnGroup.getActualWidth();this.comp.setWidth(t+"px"),this.comp.addOrRemoveCssClass("ag-hidden",0===t)},Bu([H],e.prototype,"postConstruct",null),e}(jt),ju=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),Vu=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},Uu=function(t){function e(e,i){var o=t.call(this,e,i)||this;return o.columnGroup=e,o}return ju(e,t),e.prototype.setComp=function(e,i,o){t.prototype.setGui.call(this,i),this.comp=e,this.displayName=this.columnModel.getDisplayNameForColumnGroup(this.columnGroup,"header"),this.addClasses(),this.addAttributes(),this.setupMovingCss(),this.setupExpandable(),this.setupTooltip(),this.setupUserComp();var n=this.getParentRowCtrl().getPinned(),r=this.columnGroup.getProvidedColumnGroup().getLeafColumns();this.createManagedBean(new bu(r,i)),this.createManagedBean(new vu(this.columnGroup,i,this.beans)),this.createManagedBean(new Gu(e,this.columnGroup)),this.groupResizeFeature=this.createManagedBean(new ku(e,o,n,this.columnGroup)),this.createManagedBean(new Tn(i,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:function(){},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))},e.prototype.resizeLeafColumnsToFit=function(t){var e,i;null===(e=this.groupResizeFeature)||void 0===e||e.onResizeStart(!1),null===(i=this.groupResizeFeature)||void 0===i||i.resizeLeafColumnsToFit(t)},e.prototype.setupUserComp=function(){var t=this,e=this.displayName,i={displayName:this.displayName,columnGroup:this.columnGroup,setExpanded:function(e){t.columnModel.setColumnGroupOpened(t.columnGroup.getProvidedColumnGroup(),e,"gridInitializing")},api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsService.context};if(!e){for(var o=this.columnGroup,n=o.getLeafColumns();o.getParent()&&o.getParent().getLeafColumns().length===n.length;)o=o.getParent();var r=o.getColGroupDef();r&&(e=r.headerName),e||(e=n?this.columnModel.getDisplayNameForColumn(n[0],"header",!0):"")}var s=this.userComponentFactory.getHeaderGroupCompDetails(i);this.comp.setUserCompDetails(s)},e.prototype.setupTooltip=function(){var t=this,e=this.columnGroup.getColGroupDef(),i={getColumn:function(){return t.columnGroup},getGui:function(){return t.eGui},getLocation:function(){return"headerGroup"},getTooltipValue:function(){return e&&e.headerTooltip}};e&&(i.getColDef=function(){return e}),this.createManagedBean(new bl(i,this.beans)).setComp(this.comp)},e.prototype.setupExpandable=function(){var t=this.columnGroup.getProvidedColumnGroup();this.refreshExpanded(),this.addManagedListener(t,ht.EVENT_EXPANDABLE_CHANGED,this.refreshExpanded.bind(this)),this.addManagedListener(t,ht.EVENT_EXPANDED_CHANGED,this.refreshExpanded.bind(this))},e.prototype.refreshExpanded=function(){var t=this.columnGroup;this.expandable=t.isExpandable();var e=t.isExpanded();this.expandable?this.comp.setAriaExpanded(e?"true":"false"):this.comp.setAriaExpanded(void 0)},e.prototype.addAttributes=function(){this.comp.setColId(this.columnGroup.getUniqueId())},e.prototype.addClasses=function(){var t=this,e=this.columnGroup.getColGroupDef(),i=eu.getHeaderClassesFromColDef(e,this.gridOptionsService,null,this.columnGroup);this.columnGroup.isPadding()?(i.push("ag-header-group-cell-no-group"),this.columnGroup.getLeafColumns().every((function(t){return t.isSpanHeaderHeight()}))&&i.push("ag-header-span-height")):i.push("ag-header-group-cell-with-group");i.forEach((function(e){return t.comp.addOrRemoveCssClass(e,!0)}))},e.prototype.setupMovingCss=function(){var t=this,e=this.columnGroup.getProvidedColumnGroup().getLeafColumns(),i=function(){return t.comp.addOrRemoveCssClass("ag-header-cell-moving",t.columnGroup.isMoving())};e.forEach((function(e){t.addManagedListener(e,ct.EVENT_MOVING_CHANGED,i)})),i()},e.prototype.onFocusIn=function(t){if(!this.eGui.contains(t.relatedTarget)){var e=this.getRowIndex();this.beans.focusService.setFocusedHeader(e,this.columnGroup)}},e.prototype.handleKeyDown=function(e){t.prototype.handleKeyDown.call(this,e);var i=this.getWrapperHasFocus();if(this.expandable&&i&&e.key===Uo.ENTER){var o=this.columnGroup,n=!o.isExpanded();this.columnModel.setColumnGroupOpened(o.getProvidedColumnGroup(),n,"uiColumnExpanded")}},e.prototype.setDragSource=function(t){var e=this;if(!this.isSuppressMoving()){var i=this.columnGroup.getProvidedColumnGroup().getLeafColumns(),o=!this.gridOptionsService.is("suppressDragLeaveHidesColumns"),n={type:Rr.HeaderCell,eElement:t,defaultIconName:o?Rs.ICON_HIDE:Rs.ICON_NOT_ALLOWED,dragItemName:this.displayName,getDragItem:this.getDragItemForGroup.bind(this),onDragStarted:function(){return i.forEach((function(t){return t.setMoving(!0,"uiColumnDragged")}))},onDragStopped:function(){return i.forEach((function(t){return t.setMoving(!1,"uiColumnDragged")}))},onGridEnter:function(t){var i;if(o){var n=(null===(i=null==t?void 0:t.columns)||void 0===i?void 0:i.filter((function(t){return!t.getColDef().lockVisible})))||[];e.columnModel.setColumnsVisible(n,!0,"uiColumnMoved")}},onGridExit:function(t){var i;if(o){var n=(null===(i=null==t?void 0:t.columns)||void 0===i?void 0:i.filter((function(t){return!t.getColDef().lockVisible})))||[];e.columnModel.setColumnsVisible(n,!1,"uiColumnMoved")}}};this.dragAndDropService.addDragSource(n,!0),this.addDestroyFunc((function(){return e.dragAndDropService.removeDragSource(n)}))}},e.prototype.getDragItemForGroup=function(){var t=this.columnGroup.getProvidedColumnGroup().getLeafColumns(),e={};t.forEach((function(t){return e[t.getId()]=t.isVisible()}));var i=[];return this.columnModel.getAllDisplayedColumns().forEach((function(e){t.indexOf(e)>=0&&(i.push(e),yt(t,e))})),t.forEach((function(t){return i.push(t)})),{columns:i,visibleState:e}},e.prototype.isSuppressMoving=function(){var t=!1;return this.columnGroup.getLeafColumns().forEach((function(e){(e.getColDef().suppressMovable||e.getColDef().lockPosition)&&(t=!0)})),t||this.gridOptionsService.is("suppressMovableColumns")},Vu([K("columnModel")],e.prototype,"columnModel",void 0),Vu([K("dragAndDropService")],e.prototype,"dragAndDropService",void 0),Vu([K("gridApi")],e.prototype,"gridApi",void 0),Vu([K("columnApi")],e.prototype,"columnApi",void 0),e}(gu),Wu=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),Hu=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},$u=0,zu=function(t){function e(e,i,o){var n=t.call(this)||this;return n.instanceId=$u++,n.headerCellCtrls={},n.rowIndex=e,n.pinned=i,n.type=o,n}return Wu(e,t),e.prototype.getInstanceId=function(){return this.instanceId},e.prototype.setComp=function(t){this.comp=t,this.onRowHeightChanged(),this.onVirtualColumnsChanged(),this.setWidth(),this.addEventListeners(),xi()&&this.comp.setTransform("translateZ(0)"),t.setAriaRowIndex(this.rowIndex+1)},e.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,zt.EVENT_COLUMN_RESIZED,this.onColumnResized.bind(this)),this.addManagedListener(this.eventService,zt.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,zt.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(this.eventService,zt.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.eventService,zt.EVENT_GRID_STYLES_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("domLayout",this.onDisplayedColumnsChanged.bind(this)),this.addManagedPropertyListener("headerHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("pivotHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("groupHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("pivotGroupHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("floatingFiltersHeight",this.onRowHeightChanged.bind(this))},e.prototype.getHeaderCellCtrl=function(t){return u(this.headerCellCtrls).find((function(e){return e.getColumnGroupChild()===t}))},e.prototype.onDisplayedColumnsChanged=function(){this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()},e.prototype.getType=function(){return this.type},e.prototype.onColumnResized=function(){this.setWidth()},e.prototype.setWidth=function(){var t=this.getWidthForRow();this.comp.setWidth(t+"px")},e.prototype.getWidthForRow=function(){return this.gridOptionsService.isDomLayout("print")?null!=this.pinned?0:this.columnModel.getContainerWidth("right")+this.columnModel.getContainerWidth("left")+this.columnModel.getContainerWidth(null):this.columnModel.getContainerWidth(this.pinned)},e.prototype.onRowHeightChanged=function(){var t=this.columnModel.getHeaderRowCount(),e=[],i=0;this.columnModel.hasFloatingFilters()&&(t++,i=1);for(var o=this.columnModel.getColumnGroupHeaderRowHeight(),n=this.columnModel.getColumnHeaderRowHeight(),r=t-(1+i),s=0;s<r;s++)e.push(o);e.push(n);for(s=0;s<i;s++)e.push(this.columnModel.getFloatingFiltersHeight());var a=0;for(s=0;s<this.rowIndex;s++)a+=e[s];var l=e[this.rowIndex]+"px";this.comp.setTop(a+"px"),this.comp.setHeight(l)},e.prototype.getPinned=function(){return this.pinned},e.prototype.getRowIndex=function(){return this.rowIndex},e.prototype.onVirtualColumnsChanged=function(){var t=this,e=this.headerCellCtrls;this.headerCellCtrls={},this.getColumnsInViewport().forEach((function(i){if(!i.isEmptyGroup()){var o=i.getUniqueId(),n=e[o];if(delete e[o],n&&n.getColumnGroupChild()!=i&&(t.destroyBean(n),n=void 0),null==n)switch(t.type){case Wc.FLOATING_FILTER:n=t.createBean(new wu(i,t));break;case Wc.COLUMN_GROUP:n=t.createBean(new Uu(i,t));break;default:n=t.createBean(new Lu(i,t))}t.headerCellCtrls[o]=n}}));p(e,(function(e,i){var o;(o=i,!!t.focusService.isHeaderWrapperFocused(o)&&t.columnModel.isDisplayed(o.getColumnGroupChild()))?t.headerCellCtrls[e]=i:t.destroyBean(i)}));var i=C(this.headerCellCtrls);this.comp.setHeaderCtrls(i)},e.prototype.getColumnsInViewport=function(){return this.gridOptionsService.isDomLayout("print")?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()},e.prototype.getColumnsInViewportPrintLayout=function(){var t=this;if(null!=this.pinned)return[];var e=[],i=this.getActualDepth();return["left",null,"right"].forEach((function(o){var n=t.columnModel.getVirtualHeaderGroupRow(o,i);e=e.concat(n)})),e},e.prototype.getActualDepth=function(){return this.type==Wc.FLOATING_FILTER?this.rowIndex-1:this.rowIndex},e.prototype.getColumnsInViewportNormalLayout=function(){return this.columnModel.getVirtualHeaderGroupRow(this.pinned,this.getActualDepth())},e.prototype.focusHeader=function(t,e){var i=C(this.headerCellCtrls).find((function(e){return e.getColumnGroupChild()==t}));return!!i&&(i.focus(e),!0)},e.prototype.destroy=function(){var e=this;p(this.headerCellCtrls,(function(t,i){e.destroyBean(i)})),this.headerCellCtrls={},t.prototype.destroy.call(this)},Hu([K("columnModel")],e.prototype,"columnModel",void 0),Hu([K("focusService")],e.prototype,"focusService",void 0),e}(jt),Ku=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),Yu=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},Xu=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,n,r=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return s},Zu=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Xu(arguments[e]));return t},qu=function(t){function e(e){var i=t.call(this)||this;return i.hidden=!1,i.groupsRowCtrls=[],i.pinned=e,i}return Ku(e,t),e.prototype.setComp=function(t,e){this.comp=t,this.eViewport=e,this.setupCenterWidth(),this.setupPinnedWidth(),this.setupDragAndDrop(this.eViewport),this.addManagedListener(this.eventService,zt.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.ctrlsService.registerHeaderContainer(this,this.pinned),this.columnModel.isReady()&&this.refresh()},e.prototype.setupDragAndDrop=function(t){var e=new Jc(this.pinned,t);this.createManagedBean(e)},e.prototype.refresh=function(t){var e=this;void 0===t&&(t=!1);var i,o,n=new nn,r=this.focusService.getFocusHeaderToUseAfterRefresh();!function(){var t=e.columnModel.getHeaderRowCount()-1;e.groupsRowCtrls=e.destroyBeans(e.groupsRowCtrls);for(var i=0;i<t;i++){var o=e.createBean(new zu(n.next(),e.pinned,Wc.COLUMN_GROUP));e.groupsRowCtrls.push(o)}}(),i=n.next(),((o=!(e.hidden||null!=e.columnsRowCtrl&&t&&e.columnsRowCtrl.getRowIndex()===i))||e.hidden)&&(e.columnsRowCtrl=e.destroyBean(e.columnsRowCtrl)),o&&(e.columnsRowCtrl=e.createBean(new zu(i,e.pinned,Wc.COLUMN))),function(){var i=function(){e.filtersRowCtrl=e.destroyBean(e.filtersRowCtrl)};if(e.columnModel.hasFloatingFilters()&&!e.hidden){var o=n.next();if(e.filtersRowCtrl){var r=e.filtersRowCtrl.getRowIndex()!==o;t&&!r||i()}e.filtersRowCtrl||(e.filtersRowCtrl=e.createBean(new zu(o,e.pinned,Wc.FLOATING_FILTER)))}else i()}();var s=this.getAllCtrls();this.comp.setCtrls(s),this.restoreFocusOnHeader(r)},e.prototype.restoreFocusOnHeader=function(t){null!=t&&t.column.getPinned()==this.pinned&&this.focusService.focusHeaderPosition({headerPosition:t})},e.prototype.getAllCtrls=function(){var t=Zu(this.groupsRowCtrls);return this.columnsRowCtrl&&t.push(this.columnsRowCtrl),this.filtersRowCtrl&&t.push(this.filtersRowCtrl),t},e.prototype.onGridColumnsChanged=function(){this.refresh(!0)},e.prototype.setupCenterWidth=function(){var t=this;null==this.pinned&&this.createManagedBean(new uc((function(e){return t.comp.setCenterWidth(e+"px")}),!0))},e.prototype.setHorizontalScroll=function(t){this.comp.setViewportScrollLeft(t)},e.prototype.setupPinnedWidth=function(){var t=this;if(null!=this.pinned){var e="left"===this.pinned,i="right"===this.pinned;this.hidden=!0;var o=function(){var o=e?t.pinnedWidthService.getPinnedLeftWidth():t.pinnedWidthService.getPinnedRightWidth();if(null!=o){var n=0==o,r=t.hidden!==n,s=t.gridOptionsService.is("enableRtl"),a=t.gridOptionsService.getScrollbarWidth(),l=t.scrollVisibleService.isVerticalScrollShowing()&&(s&&e||!s&&i)?o+a:o;t.comp.setPinnedContainerWidth(l+"px"),t.comp.setDisplayed(!n),r&&(t.hidden=n,t.refresh())}};this.addManagedListener(this.eventService,zt.EVENT_LEFT_PINNED_WIDTH_CHANGED,o),this.addManagedListener(this.eventService,zt.EVENT_RIGHT_PINNED_WIDTH_CHANGED,o),this.addManagedListener(this.eventService,zt.EVENT_SCROLL_VISIBILITY_CHANGED,o),this.addManagedListener(this.eventService,zt.EVENT_SCROLLBAR_WIDTH_CHANGED,o)}},e.prototype.getHeaderCtrlForColumn=function(t){if(t instanceof ct){if(!this.columnsRowCtrl)return;return this.columnsRowCtrl.getHeaderCellCtrl(t)}if(0!==this.groupsRowCtrls.length)for(var e=0;e<this.groupsRowCtrls.length;e++){var i=this.groupsRowCtrls[e].getHeaderCellCtrl(t);if(i)return i}},e.prototype.getHtmlElementForColumnHeader=function(t){var e=this.getHeaderCtrlForColumn(t);return e?e.getGui():null},e.prototype.getRowType=function(t){var e=this.getAllCtrls()[t];return e?e.getType():void 0},e.prototype.focusHeader=function(t,e,i){var o=this.getAllCtrls()[t];return!!o&&o.focusHeader(e,i)},e.prototype.getRowCount=function(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)},e.prototype.destroy=function(){this.filtersRowCtrl&&(this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)),this.columnsRowCtrl&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),this.groupsRowCtrls&&this.groupsRowCtrls.length&&(this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls)),t.prototype.destroy.call(this)},Yu([K("ctrlsService")],e.prototype,"ctrlsService",void 0),Yu([K("scrollVisibleService")],e.prototype,"scrollVisibleService",void 0),Yu([K("pinnedWidthService")],e.prototype,"pinnedWidthService",void 0),Yu([K("columnModel")],e.prototype,"columnModel",void 0),Yu([K("focusService")],e.prototype,"focusService",void 0),e}(jt),Ju=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),Qu=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},th=function(t){function e(e){var i=t.call(this)||this;return i.headerRowComps={},i.rowCompsList=[],i.pinned=e,i}return Ju(e,t),e.prototype.init=function(){var t=this;this.selectAndSetTemplate();var e={setDisplayed:function(e){return t.setDisplayed(e)},setCtrls:function(e){return t.setCtrls(e)},setCenterWidth:function(e){return t.eCenterContainer.style.width=e},setViewportScrollLeft:function(e){return t.getGui().scrollLeft=e},setPinnedContainerWidth:function(e){var i=t.getGui();i.style.width=e,i.style.maxWidth=e,i.style.minWidth=e}};this.createManagedBean(new qu(this.pinned)).setComp(e,this.getGui())},e.prototype.selectAndSetTemplate=function(){var t="left"==this.pinned,i="right"==this.pinned,o=t?e.PINNED_LEFT_TEMPLATE:i?e.PINNED_RIGHT_TEMPLATE:e.CENTER_TEMPLATE;this.setTemplate(o),this.eRowContainer=this.eCenterContainer?this.eCenterContainer:this.getGui()},e.prototype.destroyRowComps=function(){this.setCtrls([])},e.prototype.destroyRowComp=function(t){this.destroyBean(t),this.eRowContainer.removeChild(t.getGui())},e.prototype.setCtrls=function(t){var e,i=this,o=this.headerRowComps;this.headerRowComps={},this.rowCompsList=[];t.forEach((function(t){var n=t.getInstanceId(),r=o[n];delete o[n];var s=r||i.createBean(new hu(t));i.headerRowComps[n]=s,i.rowCompsList.push(s),function(t){var o=t.getGui();o.parentElement!=i.eRowContainer&&i.eRowContainer.appendChild(o),e&&Eo(i.eRowContainer,o,e),e=o}(s)})),C(o).forEach((function(t){return i.destroyRowComp(t)}))},e.PINNED_LEFT_TEMPLATE='<div class="ag-pinned-left-header" role="presentation"></div>',e.PINNED_RIGHT_TEMPLATE='<div class="ag-pinned-right-header" role="presentation"></div>',e.CENTER_TEMPLATE='<div class="ag-header-viewport" role="presentation">\n            <div class="ag-header-container" ref="eCenterContainer" role="rowgroup"></div>\n        </div>',Qu([mn("eCenterContainer")],e.prototype,"eCenterContainer",void 0),Qu([H],e.prototype,"init",null),Qu([$],e.prototype,"destroyRowComps",null),e}(gn),eh=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),ih=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s};!function(t){t[t.UP=0]="UP",t[t.DOWN=1]="DOWN",t[t.LEFT=2]="LEFT",t[t.RIGHT=3]="RIGHT"}(uu||(uu={}));var oh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return eh(e,t),e.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady((function(e){t.gridBodyCon=e.gridBodyCtrl}))},e.prototype.getHeaderRowCount=function(){var t=this.ctrlsService.getHeaderRowContainerCtrl();return t?t.getRowCount():0},e.prototype.navigateVertically=function(t,e,i){if(e||(e=this.focusService.getFocusedHeader()),!e)return!1;var o=e.headerRowIndex,n=e.column,r=this.getHeaderRowCount(),s=t===uu.UP?this.headerPositionUtils.getColumnVisibleParent(n,o):this.headerPositionUtils.getColumnVisibleChild(n,o),a=s.nextRow,l=s.nextFocusColumn,c=!1;return a<0&&(a=0,l=n,c=!0),a>=r&&(a=-1),!(!c&&!l)&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:a,column:l},allowUserOverride:!0,event:i})},e.prototype.navigateHorizontally=function(t,e,i){void 0===e&&(e=!1);var o,n,r=this.focusService.getFocusedHeader();return t===uu.LEFT!==this.gridOptionsService.is("enableRtl")?(n="Before",o=this.headerPositionUtils.findHeader(r,n)):(n="After",o=this.headerPositionUtils.findHeader(r,n)),o||!e?this.focusService.focusHeaderPosition({headerPosition:o,direction:n,fromTab:e,allowUserOverride:!0,event:i}):this.focusNextHeaderRow(r,n,i)},e.prototype.focusNextHeaderRow=function(t,e,i){var o,n=t.headerRowIndex,r=null;return"Before"===e?n>0&&(o=n-1,r=this.headerPositionUtils.findColAtEdgeForHeaderRow(o,"end")):(o=n+1,r=this.headerPositionUtils.findColAtEdgeForHeaderRow(o,"start")),this.focusService.focusHeaderPosition({headerPosition:r,direction:e,fromTab:!0,allowUserOverride:!0,event:i})},e.prototype.scrollToColumn=function(t,e){if(void 0===e&&(e="After"),!t.getPinned()){var i;if(t instanceof he){var o=t.getDisplayedLeafColumns();i="Before"===e?ft(o):o[0]}else i=t;this.gridBodyCon.getScrollFeature().ensureColumnVisible(i)}},ih([K("focusService")],e.prototype,"focusService",void 0),ih([K("headerPositionUtils")],e.prototype,"headerPositionUtils",void 0),ih([K("ctrlsService")],e.prototype,"ctrlsService",void 0),ih([H],e.prototype,"postConstruct",null),e=ih([z("headerNavigationService")],e)}(jt),nh=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),rh=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},sh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return nh(e,t),e.prototype.setComp=function(t,e,i){this.comp=t,this.eGui=e,this.createManagedBean(new Tn(i,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedListener(this.eventService,zt.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onPivotModeChanged.bind(this)),this.addManagedListener(this.eventService,zt.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.onPivotModeChanged(),this.setupHeaderHeight(),this.ctrlsService.registerGridHeaderCtrl(this)},e.prototype.setupHeaderHeight=function(){var t=this.setHeaderHeight.bind(this);t(),this.addManagedPropertyListener("headerHeight",t),this.addManagedPropertyListener("pivotHeaderHeight",t),this.addManagedPropertyListener("groupHeaderHeight",t),this.addManagedPropertyListener("pivotGroupHeaderHeight",t),this.addManagedPropertyListener("floatingFiltersHeight",t),this.addManagedListener(this.eventService,zt.EVENT_DISPLAYED_COLUMNS_CHANGED,t),this.addManagedListener(this.eventService,zt.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,t),this.addManagedListener(this.eventService,zt.EVENT_GRID_STYLES_CHANGED,t)},e.prototype.getHeaderHeight=function(){return this.headerHeight},e.prototype.setHeaderHeight=function(){var t,e=this.columnModel,i=0,o=e.getHeaderRowCount();e.hasFloatingFilters()&&(o++,i=1);var n=this.columnModel.getColumnGroupHeaderRowHeight(),r=this.columnModel.getColumnHeaderRowHeight(),s=o-(1+i);if(t=i*e.getFloatingFiltersHeight(),t+=s*n,t+=r,this.headerHeight!==t){this.headerHeight=t;var a=t+1+"px";this.comp.setHeightAndMinHeight(a),this.eventService.dispatchEvent({type:zt.EVENT_HEADER_HEIGHT_CHANGED})}},e.prototype.onPivotModeChanged=function(){var t=this.columnModel.isPivotMode();this.comp.addOrRemoveCssClass("ag-pivot-on",t),this.comp.addOrRemoveCssClass("ag-pivot-off",!t)},e.prototype.onDisplayedColumnsChanged=function(){var t=this.columnModel.getAllDisplayedColumns().some((function(t){return t.isSpanHeaderHeight()}));this.comp.addOrRemoveCssClass("ag-header-allow-overflow",t)},e.prototype.onTabKeyDown=function(t){var e=this.gridOptionsService.is("enableRtl"),i=t.shiftKey!==e?uu.LEFT:uu.RIGHT;(this.headerNavigationService.navigateHorizontally(i,!0,t)||this.focusService.focusNextGridCoreContainer(t.shiftKey))&&t.preventDefault()},e.prototype.handleKeyDown=function(t){var e=null;switch(t.key){case Uo.LEFT:e=uu.LEFT;case Uo.RIGHT:n(e)||(e=uu.RIGHT),this.headerNavigationService.navigateHorizontally(e,!1,t);break;case Uo.UP:e=uu.UP;case Uo.DOWN:n(e)||(e=uu.DOWN),this.headerNavigationService.navigateVertically(e,null,t)&&t.preventDefault();break;default:return}},e.prototype.onFocusOut=function(t){var e=this.gridOptionsService.getDocument(),i=t.relatedTarget;!i&&this.eGui.contains(e.activeElement)||this.eGui.contains(i)||this.focusService.clearFocusedHeader()},rh([K("headerNavigationService")],e.prototype,"headerNavigationService",void 0),rh([K("focusService")],e.prototype,"focusService",void 0),rh([K("columnModel")],e.prototype,"columnModel",void 0),rh([K("ctrlsService")],e.prototype,"ctrlsService",void 0),e}(jt),ah=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),lh=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},ch=function(t){function e(){return t.call(this,e.TEMPLATE)||this}return ah(e,t),e.prototype.postConstruct=function(){var t=this,e={addOrRemoveCssClass:function(e,i){return t.addOrRemoveCssClass(e,i)},setHeightAndMinHeight:function(e){t.getGui().style.height=e,t.getGui().style.minHeight=e}};this.createManagedBean(new sh).setComp(e,this.getGui(),this.getFocusableElement());var i=function(e){t.createManagedBean(e),t.appendChild(e)};i(new th("left")),i(new th(null)),i(new th("right"))},e.TEMPLATE='<div class="ag-header" role="presentation"/>',lh([H],e.prototype,"postConstruct",null),e}(gn),uh=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),hh=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},dh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return uh(e,t),e.prototype.addResizeBar=function(t){var e=this,i={dragStartPixels:t.dragStartPixels||0,eElement:t.eResizeBar,onDragStart:this.onDragStart.bind(this,t),onDragStop:this.onDragStop.bind(this,t),onDragging:this.onDragging.bind(this,t)};this.dragService.addDragSource(i,!0);return function(){return e.dragService.removeDragSource(i)}},e.prototype.onDragStart=function(t,e){this.dragStartX=e.clientX,this.setResizeIcons();var i=e instanceof MouseEvent&&!0===e.shiftKey;t.onResizeStart(i)},e.prototype.setResizeIcons=function(){var t=this.ctrlsService.getGridCtrl();t.setResizeCursor(!0),t.disableUserSelect(!0)},e.prototype.onDragStop=function(t,e){t.onResizeEnd(this.resizeAmount),this.resetIcons()},e.prototype.resetIcons=function(){var t=this.ctrlsService.getGridCtrl();t.setResizeCursor(!1),t.disableUserSelect(!1)},e.prototype.onDragging=function(t,e){this.resizeAmount=e.clientX-this.dragStartX,t.onResizing(this.resizeAmount)},hh([K("dragService")],e.prototype,"dragService",void 0),hh([K("ctrlsService")],e.prototype,"ctrlsService",void 0),e=hh([z("horizontalResizeService")],e)}(jt),ph=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),fh=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},gh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ph(e,t),e.prototype.hideActiveMenu=function(){this.hidePopup&&this.hidePopup()},e.prototype.showMenuAfterMouseEvent=function(t,e){var i=this;this.showPopup(t,(function(o){i.popupService.positionPopupUnderMouseEvent({column:t,type:"columnMenu",mouseEvent:e,ePopup:o})}),"columnMenu",e.target)},e.prototype.showMenuAfterButtonClick=function(t,e,i){var o=this;this.showPopup(t,(function(n){o.popupService.positionPopupByComponent({type:i,eventSource:e,ePopup:n,keepWithinBounds:!0,position:"under",column:t})}),i,e)},e.prototype.showPopup=function(t,e,i,o){var n=this,r=this.filterManager.getOrCreateFilterWrapper(t,"COLUMN_MENU");if(!r)throw new Error("AG Grid - unable to show popup filter, filter instantiation failed");var s,a=document.createElement("div");ze(a,"presentation"),a.classList.add("ag-menu"),this.tabListener=this.addManagedListener(a,"keydown",(function(t){return n.trapFocusWithin(t,a)})),r.guiPromise.then((function(t){return a.appendChild(t)}));var l=o||this.ctrlsService.getGridBodyCtrl().getGui(),c=this.localeService.getLocaleTextFunc(),u=this.popupService.addPopup({modal:!0,eChild:a,closeOnEsc:!0,closedCallback:function(e){t.setMenuVisible(!1,"contextMenu");var i,s=e instanceof KeyboardEvent;if(n.tabListener&&(n.tabListener=n.tabListener()),s&&o&&vo(o)){var a=n.focusService.findTabbableParent(o);a&&a.focus()}null===(i=r.filterPromise)||void 0===i||i.then((function(t){var e;return null===(e=null==t?void 0:t.afterGuiDetached)||void 0===e?void 0:e.call(t)}))},positionCallback:function(){return e(a)},anchorToElement:l,ariaLabel:c("ariaLabelColumnMenu","Column Menu")});u&&(this.hidePopup=s=u.hideFunc),r.filterPromise.then((function(t){e(a),t.afterGuiAttached&&t.afterGuiAttached({container:i,hidePopup:s})})),t.setMenuVisible(!0,"contextMenu")},e.prototype.trapFocusWithin=function(t,e){t.key!==Uo.TAB||t.defaultPrevented||this.focusService.findNextFocusableElement(e,!1,t.shiftKey)||(t.preventDefault(),this.focusService.focusInto(e,t.shiftKey))},e.prototype.isMenuEnabled=function(t){return t.isFilterAllowed()&&t.getMenuTabs(["filterMenuTab"]).includes("filterMenuTab")},fh([K("filterManager")],e.prototype,"filterManager",void 0),fh([K("popupService")],e.prototype,"popupService",void 0),fh([K("focusService")],e.prototype,"focusService",void 0),fh([K("ctrlsService")],e.prototype,"ctrlsService",void 0),e=fh([z("menuFactory")],e)}(jt),mh=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),yh=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},vh=function(t){function e(i){var o=t.call(this,e.getTemplate(i.cssClass))||this;return o.items=[],o.tabbedItemScrollMap=new Map,o.params=i,i.items&&i.items.forEach((function(t){return o.addItem(t)})),o}return mh(e,t),e.prototype.postConstruct=function(){var t=this;this.createManagedBean(new Tn(this.getFocusableElement(),{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this)})),this.addDestroyFunc((function(){var e,i,o;return null===(o=null===(i=null===(e=t.activeItem)||void 0===e?void 0:e.tabbedItem)||void 0===i?void 0:i.afterDetachedCallback)||void 0===o?void 0:o.call(i)}))},e.getTemplate=function(t){return'<div class="ag-tabs '+t+'">\n            <div ref="eHeader" role="tablist" class="ag-tabs-header '+(t?t+"-header":"")+'"></div>\n            <div ref="eBody" role="presentation" class="ag-tabs-body '+(t?t+"-body":"")+'"></div>\n        </div>'},e.prototype.handleKeyDown=function(t){var e=this.gridOptionsService.getDocument();switch(t.key){case Uo.RIGHT:case Uo.LEFT:if(!this.eHeader.contains(e.activeElement))return;var i=t.key===Uo.RIGHT,o=this.gridOptionsService.is("enableRtl"),n=this.items.indexOf(this.activeItem),r=i!==o?Math.min(n+1,this.items.length-1):Math.max(n-1,0);if(n===r)return;t.preventDefault();var s=this.items[r];this.showItemWrapper(s),s.eHeaderButton.focus();break;case Uo.UP:case Uo.DOWN:t.stopPropagation()}},e.prototype.onTabKeyDown=function(t){if(!t.defaultPrevented){var e=this,i=e.focusService,o=e.eHeader,n=e.eBody,r=e.activeItem,s=this.gridOptionsService.getDocument().activeElement,a=t.target;if(t.preventDefault(),o.contains(s))i.focusInto(n,t.shiftKey);else{var l=null;i.isTargetUnderManagedComponent(n,a)&&(t.shiftKey&&(l=this.focusService.findFocusableElementBeforeTabGuard(n,a)),l||(l=r.eHeaderButton)),!l&&n.contains(s)&&((l=i.findNextFocusableElement(n,!1,t.shiftKey))||(l=r.eHeaderButton)),l&&l.focus()}}},e.prototype.setAfterAttachedParams=function(t){this.afterAttachedParams=t},e.prototype.showFirstItem=function(){this.items.length>0&&this.showItemWrapper(this.items[0])},e.prototype.addItem=function(t){var e=document.createElement("span");ze(e,"tab"),e.setAttribute("tabIndex","-1"),e.appendChild(t.title),e.classList.add("ag-tab"),this.eHeader.appendChild(e),Ze(e,t.titleLabel);var i={tabbedItem:t,eHeaderButton:e};this.items.push(i),e.addEventListener("click",this.showItemWrapper.bind(this,i))},e.prototype.showItem=function(t){var e=this.items.find((function(e){return e.tabbedItem===t}));e&&this.showItemWrapper(e)},e.prototype.showItemWrapper=function(t){var e,i,o=this,n=t.tabbedItem,r=t.eHeaderButton;this.params.onItemClicked&&this.params.onItemClicked({item:n}),this.activeItem!==t?(this.lastScrollListener&&(this.lastScrollListener=this.lastScrollListener()),mo(this.eBody),n.bodyPromise.then((function(t){o.eBody.appendChild(t);var e=!o.focusService.isKeyboardMode();if(o.focusService.focusInto(o.eBody,!1,e),n.afterAttachedCallback&&n.afterAttachedCallback(o.afterAttachedParams),o.params.keepScrollPosition){var i=n.getScrollableContainer&&n.getScrollableContainer()||t;o.lastScrollListener=o.addManagedListener(i,"scroll",(function(){o.tabbedItemScrollMap.set(n.name,i.scrollTop)}));var r=o.tabbedItemScrollMap.get(n.name);void 0!==r&&setTimeout((function(){i.scrollTop=r}),0)}})),this.activeItem&&(this.activeItem.eHeaderButton.classList.remove("ag-tab-selected"),null===(i=(e=this.activeItem.tabbedItem).afterDetachedCallback)||void 0===i||i.call(e)),r.classList.add("ag-tab-selected"),this.activeItem=t):B(this.params.onActiveItemClicked)},yh([K("focusService")],e.prototype,"focusService",void 0),yh([mn("eHeader")],e.prototype,"eHeader",void 0),yh([mn("eBody")],e.prototype,"eBody",void 0),yh([H],e.prototype,"postConstruct",null),e}(gn);var _h,Ch=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),bh=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},Eh=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.polyfillFunctions=[],e}return Ch(e,t),e.prototype.observeResize=function(t,e){var i,o,n,r,s,a=this,l=this.gridOptionsService.getDocument().defaultView||window,c=this.gridOptionsService.is("suppressBrowserResizeObserver");return!!l.ResizeObserver&&!c?((i=new l.ResizeObserver(e)).observe(t),function(){return i.disconnect()}):(o=bo(t),n=Co(t),r=!0,(s=function(){if(r){var i=bo(t),l=Co(t);(i!==o||l!==n)&&(o=i,n=l,e()),a.doNextPolyfillTurn(s)}})(),function(){return r=!1})},e.prototype.doNextPolyfillTurn=function(t){this.polyfillFunctions.push(t),this.schedulePolyfill()},e.prototype.schedulePolyfill=function(){var t=this;if(!this.polyfillScheduled){this.polyfillScheduled=!0,this.getFrameworkOverrides().setTimeout((function(){var e=t.polyfillFunctions;t.polyfillScheduled=!1,t.polyfillFunctions=[],e.forEach((function(t){return t()}))}),50)}},e=bh([z("resizeObserverService")],e)}(jt),Sh=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),wh=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},Oh=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.createTasksP1={list:[],sorted:!1},e.createTasksP2={list:[],sorted:!1},e.destroyTasks=[],e.ticking=!1,e.scrollGoingDown=!0,e.lastPage=0,e.lastScrollTop=0,e.taskCount=0,e.cancelledTasks=new Set,e}return Sh(e,t),e.prototype.setScrollTop=function(t){var e=this.gridOptionsService.is("pagination");if(this.scrollGoingDown=t>=this.lastScrollTop,e&&0===t){var i=this.paginationProxy.getCurrentPage();i!==this.lastPage&&(this.lastPage=i,this.scrollGoingDown=!0)}this.lastScrollTop=t},e.prototype.init=function(){this.useAnimationFrame=!this.gridOptionsService.is("suppressAnimationFrame")},e.prototype.isOn=function(){return this.useAnimationFrame},e.prototype.verifyAnimationFrameOn=function(t){!1===this.useAnimationFrame&&console.warn("AG Grid: AnimationFrameService."+t+" called but animation frames are off")},e.prototype.createTask=function(t,e,i){this.verifyAnimationFrameOn(i);var o={task:t,index:e,createOrder:++this.taskCount};this.addTaskToList(this[i],o),this.schedule()},e.prototype.cancelTask=function(t){this.cancelledTasks.add(t)},e.prototype.addTaskToList=function(t,e){t.list.push(e),t.sorted=!1},e.prototype.sortTaskList=function(t){if(!t.sorted){var e=this.scrollGoingDown?1:-1;t.list.sort((function(t,i){return t.index!==i.index?e*(i.index-t.index):i.createOrder-t.createOrder})),t.sorted=!0}},e.prototype.addDestroyTask=function(t){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(t),this.schedule()},e.prototype.executeFrame=function(t){this.verifyAnimationFrameOn("executeFrame");for(var e=this.createTasksP1,i=e.list,o=this.createTasksP2,n=o.list,r=this.destroyTasks,s=(new Date).getTime(),a=(new Date).getTime()-s,l=t<=0,c=this.ctrlsService.getGridBodyCtrl();l||a<t;){if(!c.getScrollFeature().scrollGridIfNeeded()){var u=void 0;if(i.length)this.sortTaskList(e),u=i.pop().task;else if(n.length)this.sortTaskList(o),u=n.pop().task;else{if(!r.length){this.cancelledTasks.clear();break}u=r.pop()}this.cancelledTasks.has(u)||u()}a=(new Date).getTime()-s}i.length||n.length||r.length?this.requestFrame():this.stopTicking()},e.prototype.stopTicking=function(){this.ticking=!1},e.prototype.flushAllFrames=function(){this.useAnimationFrame&&this.executeFrame(-1)},e.prototype.schedule=function(){this.useAnimationFrame&&(this.ticking||(this.ticking=!0,this.requestFrame()))},e.prototype.requestFrame=function(){var t=this.executeFrame.bind(this,60),e=this.gridOptionsService.getDocument().defaultView||window;e.requestAnimationFrame?e.requestAnimationFrame(t):e.webkitRequestAnimationFrame?e.webkitRequestAnimationFrame(t):e.setTimeout(t,0)},e.prototype.isQueueEmpty=function(){return!this.ticking},e.prototype.debounce=function(t){var e=this,i=!1;return function(){e.isOn()?i||(i=!0,e.addDestroyTask((function(){i=!1,t()}))):e.getFrameworkOverrides().setTimeout(t,0)}},wh([K("ctrlsService")],e.prototype,"ctrlsService",void 0),wh([K("paginationProxy")],e.prototype,"paginationProxy",void 0),wh([H],e.prototype,"init",null),e=wh([z("animationFrameService")],e)}(jt),xh=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),Ph=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},Th=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return xh(e,t),e.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady((function(e){t.centerRowContainerCtrl=e.centerRowContainerCtrl}))},e.prototype.getPreferredWidthForColumn=function(t,e){var i=this.getHeaderCellForColumn(t);if(!i)return-1;var o=this.rowRenderer.getAllCellsForColumn(t);return e||o.push(i),this.addElementsToContainerAndGetWidth(o)},e.prototype.getPreferredWidthForColumnGroup=function(t){var e=this.getHeaderCellForColumn(t);return e?this.addElementsToContainerAndGetWidth([e]):-1},e.prototype.addElementsToContainerAndGetWidth=function(t){var e=this,i=document.createElement("form");i.style.position="fixed";var o=this.centerRowContainerCtrl.getContainerElement();o.appendChild(i),t.forEach((function(t){return e.cloneItemIntoDummy(t,i)}));var n=i.offsetWidth;return o.removeChild(i),n+this.getAutoSizePadding()},e.prototype.getAutoSizePadding=function(){var t=this.gridOptionsService.getNum("autoSizePadding");return null!=t&&t>=0?t:20},e.prototype.getHeaderCellForColumn=function(t){var e=null;return this.ctrlsService.getHeaderRowContainerCtrls().forEach((function(i){var o=i.getHtmlElementForColumnHeader(t);null!=o&&(e=o)})),e},e.prototype.cloneItemIntoDummy=function(t,e){var i=t.cloneNode(!0);i.style.width="",i.style.position="static",i.style.left="";var o=document.createElement("div"),n=o.classList;["ag-header-cell","ag-header-group-cell"].some((function(t){return i.classList.contains(t)}))?(n.add("ag-header","ag-header-row"),o.style.position="static"):n.add("ag-row");for(var r=t.parentElement;r;){if(["ag-header-row","ag-row"].some((function(t){return r.classList.contains(t)}))){for(var s=0;s<r.classList.length;s++){var a=r.classList[s];"ag-row-position-absolute"!=a&&n.add(a)}break}r=r.parentElement}o.appendChild(i),e.appendChild(o)},Ph([K("rowRenderer")],e.prototype,"rowRenderer",void 0),Ph([K("ctrlsService")],e.prototype,"ctrlsService",void 0),Ph([K("rowCssClassCalculator")],e.prototype,"rowCssClassCalculator",void 0),Ph([H],e.prototype,"postConstruct",null),e=Ph([z("autoWidthCalculator")],e)}(jt),Mh=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),Dh=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},Ah=function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],o=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Rh=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,n,r=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return s},Lh=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Rh(arguments[e]));return t},Ih=function(t){function e(e,i){var o=t.call(this)||this;return o.createRowCon=e,o.destroyRowCtrls=i,o.stickyRowCtrls=[],o.containerHeight=0,o}return Mh(e,t),e.prototype.postConstruct=function(){var t=this;this.isClientSide="clientSide"===this.rowModel.getType(),this.ctrlsService.whenReady((function(e){t.gridBodyCtrl=e.gridBodyCtrl}))},e.prototype.getStickyRowCtrls=function(){return this.stickyRowCtrls},e.prototype.checkStickyRows=function(){var t=this,e=0;if(this.gridOptionsService.is("groupRowsSticky")){for(var i=[],o=this.rowRenderer.getFirstVisibleVerticalPixel(),n=function(n){var r,s,a,l;if(i.push(n),t.isClientSide){for(var c=n;c.expanded;)if(c.master)c=c.detailNode;else if(c.childrenAfterSort){if(0===c.childrenAfterSort.length)break;c=ft(c.childrenAfterSort)}l=c.rowTop+c.rowHeight}else{var u=null===(r=n.childStore)||void 0===r?void 0:r.getStoreBounds();l=(null!==(s=null==u?void 0:u.heightPx)&&void 0!==s?s:0)+(null!==(a=null==u?void 0:u.topPx)&&void 0!==a?a:0)}var h=o+e+n.rowHeight;n.stickyRowTop=l<h?e+(l-h):e,e=0,i.forEach((function(t){var i=t.stickyRowTop+t.rowHeight;e<i&&(e=i)}))};;){var r=o+e,s=this.rowModel.getRowIndexAtPixel(r),a=this.rowModel.getRow(s);if(null==a)break;if(a.level<0)break;for(var l=[],c=a.parent;c.level>=0;)l.push(c),c=c.parent;var u=l.reverse().find((function(t){return i.indexOf(t)<0&&t.displayed}));if(u)n(u);else{if(!(a.isExpandable()&&a.expanded&&a.rowTop<r))break;n(a)}}this.refreshNodesAndContainerHeight(i,e)}else this.refreshNodesAndContainerHeight([],e)},e.prototype.refreshStickyNode=function(t){for(var e=[],i=0;i<this.stickyRowCtrls.length;i++){var o=this.stickyRowCtrls[i].getRowNode();o!==t&&e.push(o)}this.refreshNodesAndContainerHeight(e,this.containerHeight),this.checkStickyRows()},e.prototype.refreshNodesAndContainerHeight=function(t,e){var i,o,n,r=this,s=this.stickyRowCtrls.filter((function(e){return-1===t.indexOf(e.getRowNode())})),a=t.filter((function(t){return-1===r.stickyRowCtrls.findIndex((function(e){return e.getRowNode()===t}))})),l={};s.forEach((function(t){l[t.getRowNode().id]=t,r.stickyRowCtrls=r.stickyRowCtrls.filter((function(e){return e!==t}))}));try{for(var c=Ah(Object.values(l)),u=c.next();!u.done;u=c.next()){u.value.getRowNode().sticky=!1}}catch(t){i={error:t}}finally{try{u&&!u.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}this.destroyRowCtrls(l,!1);var h=a.map((function(t){return t.sticky=!0,r.createRowCon(t,!1,!1)}));(n=this.stickyRowCtrls).push.apply(n,Lh(h)),this.stickyRowCtrls.forEach((function(t){return t.setRowTop(t.getRowNode().stickyRowTop)})),this.stickyRowCtrls.sort((function(t,e){return e.getRowNode().rowIndex-t.getRowNode().rowIndex})),this.containerHeight!==e&&(this.containerHeight=e,this.gridBodyCtrl.setStickyTopHeight(e))},Dh([K("rowModel")],e.prototype,"rowModel",void 0),Dh([K("rowRenderer")],e.prototype,"rowRenderer",void 0),Dh([K("ctrlsService")],e.prototype,"ctrlsService",void 0),Dh([H],e.prototype,"postConstruct",null),e}(jt),Nh=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),kh=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},Fh=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,n,r=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return s},Bh=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Fh(arguments[e]));return t},Gh=function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],o=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},jh=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.destroyFuncsForColumnListeners=[],e.rowCtrlsByRowIndex={},e.zombieRowCtrls={},e.allRowCtrls=[],e.topRowCtrls=[],e.bottomRowCtrls=[],e.refreshInProgress=!1,e.dataFirstRenderedFired=!1,e}return Nh(e,t),e.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady((function(){t.gridBodyCtrl=t.ctrlsService.getGridBodyCtrl(),t.initialise()}))},e.prototype.initialise=function(){if(this.addManagedListener(this.eventService,zt.EVENT_PAGINATION_CHANGED,this.onPageLoaded.bind(this)),this.addManagedListener(this.eventService,zt.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,zt.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,zt.EVENT_BODY_SCROLL,this.onBodyScroll.bind(this)),this.addManagedListener(this.eventService,zt.EVENT_BODY_HEIGHT_CHANGED,this.redrawAfterScroll.bind(this)),this.addManagedPropertyListener("domLayout",this.onDomLayoutChanged.bind(this)),this.addManagedPropertyListener("rowClass",this.redrawRows.bind(this)),this.gridOptionsService.is("groupRowsSticky")){var t=this.rowModel.getType();"clientSide"!=t&&"serverSide"!=t?P((function(){return console.warn("AG Grid: The feature Sticky Row Groups only works with the Client Side or Server Side Row Model")}),"rowRenderer.stickyWorksWithCsrmOnly"):this.stickyRowFeature=this.createManagedBean(new Ih(this.createRowCon.bind(this),this.destroyRowCtrls.bind(this)))}this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=this.gridOptionsService.isDomLayout("print"),this.embedFullWidthRows=this.printLayout||this.gridOptionsService.is("embedFullWidthRows"),this.redrawAfterModelUpdate()},e.prototype.initialiseCache=function(){if(this.gridOptionsService.is("keepDetailRows")){var t=this.getKeepDetailRowsCount(),e=null!=t?t:3;this.cachedRowCtrls=new Vh(e)}},e.prototype.getKeepDetailRowsCount=function(){var t=this.gridOptionsService.getNum("keepDetailRowsCount");return n(t)&&t>0?t:10},e.prototype.getRowCtrls=function(){return this.allRowCtrls},e.prototype.getStickyTopRowCtrls=function(){return this.stickyRowFeature?this.stickyRowFeature.getStickyRowCtrls():[]},e.prototype.updateAllRowCtrls=function(){var t=C(this.rowCtrlsByRowIndex),e=this.gridOptionsService.is("ensureDomOrder"),i=this.gridOptionsService.isDomLayout("print");(e||i)&&t.sort((function(t,e){return t.getRowNode().rowIndex-e.getRowNode.rowIndex}));var o=C(this.zombieRowCtrls),n=this.cachedRowCtrls?this.cachedRowCtrls.getEntries():[];this.allRowCtrls=Bh(t,o,n)},e.prototype.onCellFocusChanged=function(t){this.getAllCellCtrls().forEach((function(e){return e.onCellFocused(t)})),this.getFullWidthRowCtrls().forEach((function(e){return e.onFullWidthRowFocused(t)}))},e.prototype.registerCellEventListeners=function(){var t=this;this.addManagedListener(this.eventService,zt.EVENT_CELL_FOCUSED,(function(e){t.onCellFocusChanged(e)})),this.addManagedListener(this.eventService,zt.EVENT_CELL_FOCUS_CLEARED,(function(){t.onCellFocusChanged()})),this.addManagedListener(this.eventService,zt.EVENT_FLASH_CELLS,(function(e){t.getAllCellCtrls().forEach((function(t){return t.onFlashCells(e)}))})),this.addManagedListener(this.eventService,zt.EVENT_COLUMN_HOVER_CHANGED,(function(){t.getAllCellCtrls().forEach((function(t){return t.onColumnHover()}))})),this.addManagedListener(this.eventService,zt.EVENT_DISPLAYED_COLUMNS_CHANGED,(function(){t.getAllCellCtrls().forEach((function(t){return t.onDisplayedColumnsChanged()}))})),this.addManagedListener(this.eventService,zt.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,(function(){t.printLayout&&t.getAllCellCtrls().forEach((function(t){return t.onLeftChanged()}))})),this.gridOptionsService.isEnableRangeSelection()&&(this.addManagedListener(this.eventService,zt.EVENT_RANGE_SELECTION_CHANGED,(function(){t.getAllCellCtrls().forEach((function(t){return t.onRangeSelectionChanged()}))})),this.addManagedListener(this.eventService,zt.EVENT_COLUMN_MOVED,(function(){t.getAllCellCtrls().forEach((function(t){return t.updateRangeBordersIfRangeCount()}))})),this.addManagedListener(this.eventService,zt.EVENT_COLUMN_PINNED,(function(){t.getAllCellCtrls().forEach((function(t){return t.updateRangeBordersIfRangeCount()}))})),this.addManagedListener(this.eventService,zt.EVENT_COLUMN_VISIBLE,(function(){t.getAllCellCtrls().forEach((function(t){return t.updateRangeBordersIfRangeCount()}))}))),this.refreshListenersToColumnsForCellComps(),this.addManagedListener(this.eventService,zt.EVENT_GRID_COLUMNS_CHANGED,this.refreshListenersToColumnsForCellComps.bind(this)),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))},e.prototype.removeGridColumnListeners=function(){this.destroyFuncsForColumnListeners.forEach((function(t){return t()})),this.destroyFuncsForColumnListeners.length=0},e.prototype.refreshListenersToColumnsForCellComps=function(){var t=this;this.removeGridColumnListeners();var e=this.columnModel.getAllGridColumns();e&&e.forEach((function(e){var i=function(i){t.getAllCellCtrls().forEach((function(t){t.getColumn()===e&&i(t)}))},o=function(){i((function(t){return t.onLeftChanged()}))},n=function(){i((function(t){return t.onWidthChanged()}))},r=function(){i((function(t){return t.onFirstRightPinnedChanged()}))},s=function(){i((function(t){return t.onLastLeftPinnedChanged()}))},a=function(){i((function(t){return t.onColDefChanged()}))};e.addEventListener("leftChanged",o),e.addEventListener("widthChanged",n),e.addEventListener("firstRightPinnedChanged",r),e.addEventListener("lastLeftPinnedChanged",s),e.addEventListener("colDefChanged",a),t.destroyFuncsForColumnListeners.push((function(){e.removeEventListener("leftChanged",o),e.removeEventListener("widthChanged",n),e.removeEventListener("firstRightPinnedChanged",r),e.removeEventListener("lastLeftPinnedChanged",s),e.removeEventListener("colDefChanged",a)}))}))},e.prototype.onDomLayoutChanged=function(){var t=this.gridOptionsService.isDomLayout("print"),e=t||this.gridOptionsService.is("embedFullWidthRows"),i=e!==this.embedFullWidthRows||this.printLayout!==t;this.printLayout=t,this.embedFullWidthRows=e,i&&this.redrawAfterModelUpdate({domLayoutChanged:!0})},e.prototype.datasourceChanged=function(){this.firstRenderedRow=0,this.lastRenderedRow=-1;var t=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(t)},e.prototype.onPageLoaded=function(t){var e={recycleRows:t.keepRenderedRows,animate:t.animate,newData:t.newData,newPage:t.newPage,onlyBody:!0};this.redrawAfterModelUpdate(e)},e.prototype.getAllCellsForColumn=function(t){var e=[];return this.getAllRowCtrls().forEach((function(i){var o=i.getCellElement(t);o&&e.push(o)})),e},e.prototype.refreshFloatingRowComps=function(){this.refreshFloatingRows(this.topRowCtrls,this.pinnedRowModel.getPinnedTopRowData()),this.refreshFloatingRows(this.bottomRowCtrls,this.pinnedRowModel.getPinnedBottomRowData())},e.prototype.getTopRowCtrls=function(){return this.topRowCtrls},e.prototype.getBottomRowCtrls=function(){return this.bottomRowCtrls},e.prototype.refreshFloatingRows=function(t,e){var i=this;t.forEach((function(t){t.destroyFirstPass(),t.destroySecondPass()})),t.length=0,e&&e.forEach((function(e){var o=new Ul(e,i.beans,!1,!1,i.printLayout);t.push(o)}))},e.prototype.onPinnedRowDataChanged=function(){this.redrawAfterModelUpdate({recycleRows:!0})},e.prototype.getRenderedIndexesForRowNodes=function(t){var e=[];return r(t)||p(this.rowCtrlsByRowIndex,(function(i,o){var n=o.getRowNode();t.indexOf(n)>=0&&e.push(i)})),e},e.prototype.redrawRows=function(t){var e=null!=t&&t.length>0;if(e){var i=this.getRenderedIndexesForRowNodes(t);this.removeRowCtrls(i)}this.redrawAfterModelUpdate({recycleRows:e})},e.prototype.getCellToRestoreFocusToAfterRefresh=function(t){var e=(null==t?void 0:t.suppressKeepFocus)?null:this.focusService.getFocusCellToUseAfterRefresh();if(null==e)return null;var i=this.gridOptionsService.getDocument().activeElement,o=this.gridOptionsService.getDomData(i,Il.DOM_DATA_KEY_CELL_CTRL),n=this.gridOptionsService.getDomData(i,Ul.DOM_DATA_KEY_ROW_CTRL);return o||n?e:null},e.prototype.redrawAfterModelUpdate=function(t){void 0===t&&(t={}),this.getLockOnRefresh();var e=this.getCellToRestoreFocusToAfterRefresh(t);this.updateContainerHeights(),this.scrollToTopIfNewData(t);var i=!t.domLayoutChanged&&!!t.recycleRows,o=t.animate&&this.gridOptionsService.isAnimateRows(),n=i?this.recycleRows():null;i||this.removeAllRowComps(),this.redraw(n,o),this.gridBodyCtrl.updateRowCount(),t.onlyBody||this.refreshFloatingRowComps(),this.dispatchDisplayedRowsChanged(),null!=e&&this.restoreFocusedCell(e),this.releaseLockOnRefresh()},e.prototype.scrollToTopIfNewData=function(t){var e=t.newData||t.newPage,i=this.gridOptionsService.is("suppressScrollOnNewData");e&&!i&&this.gridBodyCtrl.getScrollFeature().scrollToTop()},e.prototype.updateContainerHeights=function(){if(this.printLayout)this.rowContainerHeightService.setModelHeight(null);else{var t=this.paginationProxy.getCurrentPageHeight();0===t&&(t=1),this.rowContainerHeightService.setModelHeight(t)}},e.prototype.getLockOnRefresh=function(){if(this.refreshInProgress)throw new Error("AG Grid: cannot get grid to draw rows when it is in the middle of drawing rows. Your code probably called a grid API method while the grid was in the render stage. To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). To see what part of your code that caused the refresh check this stacktrace.");this.refreshInProgress=!0},e.prototype.releaseLockOnRefresh=function(){this.refreshInProgress=!1},e.prototype.isRefreshInProgress=function(){return this.refreshInProgress},e.prototype.restoreFocusedCell=function(t){t&&this.onCellFocusChanged({rowIndex:t.rowIndex,column:t.column,rowPinned:t.rowPinned,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,api:this.beans.gridApi,columnApi:this.beans.columnApi,context:this.beans.gridOptionsService.context,type:"mock"})},e.prototype.stopEditing=function(t){void 0===t&&(t=!1),this.getAllRowCtrls().forEach((function(e){e.stopEditing(t)}))},e.prototype.getAllCellCtrls=function(){for(var t=[],e=this.getAllRowCtrls(),i=e.length,o=0;o<i;o++)for(var n=e[o].getAllCellCtrls(),r=n.length,s=0;s<r;s++)t.push(n[s]);return t},e.prototype.getAllRowCtrls=function(){var t,e,i=this.stickyRowFeature&&this.stickyRowFeature.getStickyRowCtrls()||[],o=Bh(this.topRowCtrls,this.bottomRowCtrls,i);try{for(var n=Gh(Object.keys(this.rowCtrlsByRowIndex)),r=n.next();!r.done;r=n.next()){var s=r.value;o.push(this.rowCtrlsByRowIndex[s])}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}return o},e.prototype.addRenderedRowListener=function(t,e,i){var o=this.rowCtrlsByRowIndex[e];o&&o.addEventListener(t,i)},e.prototype.flashCells=function(t){void 0===t&&(t={});var e=t.flashDelay,i=t.fadeDelay;this.getCellCtrls(t.rowNodes,t.columns).forEach((function(t){return t.flashCell({flashDelay:e,fadeDelay:i})}))},e.prototype.refreshCells=function(t){void 0===t&&(t={});var e={forceRefresh:t.force,newData:!1,suppressFlash:t.suppressFlash};this.getCellCtrls(t.rowNodes,t.columns).forEach((function(t){if(t.refreshShouldDestroy()){var i=t.getRowCtrl();i&&i.refreshCell(t)}else t.refreshCell(e)})),this.getFullWidthRowCtrls(t.rowNodes).forEach((function(t){t.refreshFullWidth()}))},e.prototype.getCellRendererInstances=function(t){var e,i=this,o=this.getCellCtrls(t.rowNodes,t.columns).map((function(t){return t.getCellRenderer()})).filter((function(t){return null!=t}));if(null===(e=t.columns)||void 0===e?void 0:e.length)return o;var n=[],r=this.mapRowNodes(t.rowNodes);return this.getAllRowCtrls().forEach((function(t){if((!r||i.isRowInMap(t.getRowNode(),r))&&t.isFullWidth()){var e=t.getFullWidthCellRenderer();e&&n.push(e)}})),Bh(n,o)},e.prototype.getCellEditorInstances=function(t){var e=[];return this.getCellCtrls(t.rowNodes,t.columns).forEach((function(t){var i=t.getCellEditor();i&&e.push(i)})),e},e.prototype.getEditingCells=function(){var t=[];return this.getAllCellCtrls().forEach((function(e){if(e.isEditing()){var i=e.getCellPosition();t.push(i)}})),t},e.prototype.mapRowNodes=function(t){if(t){var e={top:{},bottom:{},normal:{}};return t.forEach((function(t){var i=t.id;"top"===t.rowPinned?e.top[i]=t:"bottom"===t.rowPinned?e.bottom[i]=t:e.normal[i]=t})),e}},e.prototype.isRowInMap=function(t,e){var i=t.id,o=t.rowPinned;return"bottom"===o?null!=e.bottom[i]:"top"===o?null!=e.top[i]:null!=e.normal[i]},e.prototype.getCellCtrls=function(t,e){var i,o=this,r=this.mapRowNodes(t),s=[];n(e)&&(i={},e.forEach((function(t){var e=o.columnModel.getGridColumn(t);n(e)&&(i[e.getId()]=!0)})));return this.getAllRowCtrls().forEach((function(t){return n=(e=t).getRowNode(),void((null==r||o.isRowInMap(n,r))&&e.getAllCellCtrls().forEach((function(t){var e=t.getColumn().getId();i&&!i[e]||s.push(t)})));var e,n})),s},e.prototype.destroy=function(){this.removeAllRowComps(),t.prototype.destroy.call(this)},e.prototype.removeAllRowComps=function(){var t=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(t)},e.prototype.recycleRows=function(){var t=[];p(this.rowCtrlsByRowIndex,(function(e,i){null==i.getRowNode().id&&t.push(e)})),this.removeRowCtrls(t);var e={};return p(this.rowCtrlsByRowIndex,(function(t,i){var o=i.getRowNode();e[o.id]=i})),this.rowCtrlsByRowIndex={},e},e.prototype.removeRowCtrls=function(t){var e=this;t.forEach((function(t){var i=e.rowCtrlsByRowIndex[t];i&&(i.destroyFirstPass(),i.destroySecondPass()),delete e.rowCtrlsByRowIndex[t]}))},e.prototype.onBodyScroll=function(t){"vertical"===t.direction&&this.redrawAfterScroll()},e.prototype.redrawAfterScroll=function(){var t;if(this.stickyRowFeature&&Ri()&&(t=this.getCellToRestoreFocusToAfterRefresh()||void 0),this.getLockOnRefresh(),this.redraw(null,!1,!0),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(!0),null!=t){var e=this.getCellToRestoreFocusToAfterRefresh();null!=t&&null==e&&(this.animationFrameService.flushAllFrames(),this.restoreFocusedCell(t))}},e.prototype.removeRowCompsNotToDraw=function(t){var e={};t.forEach((function(t){return e[t]=!0}));var i=Object.keys(this.rowCtrlsByRowIndex).filter((function(t){return!e[t]}));this.removeRowCtrls(i)},e.prototype.calculateIndexesToDraw=function(t){var e=this,i=Ui(this.firstRenderedRow,this.lastRenderedRow),o=function(t,o){var n=o.getRowNode().rowIndex;null!=n&&(n<e.firstRenderedRow||n>e.lastRenderedRow)&&e.doNotUnVirtualiseRow(o)&&i.push(n)};return p(this.rowCtrlsByRowIndex,o),p(t,o),i.sort((function(t,e){return t-e})),i=i.filter((function(t){var i=e.paginationProxy.getRow(t);return i&&!i.sticky}))},e.prototype.redraw=function(t,e,i){var o=this;void 0===e&&(e=!1),void 0===i&&(i=!1),this.rowContainerHeightService.updateOffset(),this.workOutFirstAndLastRowsToRender(),this.stickyRowFeature&&this.stickyRowFeature.checkStickyRows();var r=this.calculateIndexesToDraw(t);(this.removeRowCompsNotToDraw(r),this.printLayout&&(e=!1),r.forEach((function(r){n(o.createOrUpdateRowCtrl(r,t,e,i))})),t)&&(i&&!this.gridOptionsService.is("suppressAnimationFrame")&&!this.printLayout?this.beans.animationFrameService.addDestroyTask((function(){o.destroyRowCtrls(t,e),o.updateAllRowCtrls(),o.dispatchDisplayedRowsChanged()})):this.destroyRowCtrls(t,e));this.updateAllRowCtrls()},e.prototype.dispatchDisplayedRowsChanged=function(t){void 0===t&&(t=!1);var e={type:zt.EVENT_DISPLAYED_ROWS_CHANGED,afterScroll:t};this.eventService.dispatchEvent(e)},e.prototype.onDisplayedColumnsChanged=function(){var t=this.columnModel.isPinningLeft(),e=this.columnModel.isPinningRight();(this.pinningLeft!==t||e!==this.pinningRight)&&(this.pinningLeft=t,this.pinningRight=e,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())},e.prototype.redrawFullWidthEmbeddedRows=function(){var t=[];this.getFullWidthRowCtrls().forEach((function(e){var i=e.getRowNode().rowIndex;t.push(i.toString())})),this.refreshFloatingRowComps(),this.removeRowCtrls(t),this.redrawAfterScroll()},e.prototype.getFullWidthRowCtrls=function(t){var e=this,i=this.mapRowNodes(t);return this.getAllRowCtrls().filter((function(t){if(!t.isFullWidth())return!1;var o=t.getRowNode();return!(null!=i&&!e.isRowInMap(o,i))}))},e.prototype.refreshFullWidthRow=function(t){var e=this.getFullWidthRowCtrls().find((function(e){return e.getRowNode()===t}));e&&(e.refreshFullWidth()||(t.sticky?this.stickyRowFeature.refreshStickyNode(t):this.removeRowCtrls([t.rowIndex]),this.redrawAfterScroll()))},e.prototype.createOrUpdateRowCtrl=function(t,e,i,o){var r,s=this.rowCtrlsByRowIndex[t];if(s||n(r=this.paginationProxy.getRow(t))&&n(e)&&e[r.id]&&r.alreadyRendered&&(s=e[r.id],e[r.id]=null),!s){if(r||(r=this.paginationProxy.getRow(t)),!n(r))return;s=this.createRowCon(r,i,o)}return r&&(r.alreadyRendered=!0),this.rowCtrlsByRowIndex[t]=s,s},e.prototype.destroyRowCtrls=function(t,e){var i=this,o=[];p(t,(function(t,n){n&&(i.cachedRowCtrls&&n.isCacheable()?i.cachedRowCtrls.addRow(n):(n.destroyFirstPass(),e?(i.zombieRowCtrls[n.getInstanceId()]=n,o.push((function(){n.destroySecondPass(),delete i.zombieRowCtrls[n.getInstanceId()]}))):n.destroySecondPass()))})),e&&(o.push((function(){i.updateAllRowCtrls(),i.dispatchDisplayedRowsChanged()})),D(o))},e.prototype.getRowBuffer=function(){var t=this.gridOptionsService.getNum("rowBuffer");return"number"==typeof t?t<0&&(P((function(){return console.warn("AG Grid: rowBuffer should not be negative")}),"warn rowBuffer negative"),t=0,this.gridOptionsService.set("rowBuffer",0)):t=10,t},e.prototype.getRowBufferInPixels=function(){return this.getRowBuffer()*this.gridOptionsService.getRowHeightAsNumber()},e.prototype.workOutFirstAndLastRowsToRender=function(){var t,e;if(this.paginationProxy.isRowsToRender())if(this.printLayout)t=this.paginationProxy.getPageFirstRow(),e=this.paginationProxy.getPageLastRow();else{var i=this.getRowBufferInPixels(),o=this.ctrlsService.getGridBodyCtrl(),n=this.gridOptionsService.is("suppressRowVirtualisation"),r=!1,s=void 0,a=void 0;do{var l=this.paginationProxy.getPixelOffset(),c=this.paginationProxy.getCurrentPagePixelRange(),u=c.pageFirstPixel,h=c.pageLastPixel,d=this.rowContainerHeightService.getDivStretchOffset(),p=o.getScrollFeature().getVScrollPosition(),f=p.top,g=p.bottom;n?(s=u+d,a=h+d):(s=Math.max(f+l-i,u)+d,a=Math.min(g+l+i,h)+d),this.firstVisibleVPixel=Math.max(f+l,u)+d,r=this.ensureAllRowsInRangeHaveHeightsCalculated(s,a)}while(r);var m=this.paginationProxy.getRowIndexAtPixel(s),y=this.paginationProxy.getRowIndexAtPixel(a),v=this.paginationProxy.getPageFirstRow(),_=this.paginationProxy.getPageLastRow();m<v&&(m=v),y>_&&(y=_),t=m,e=y}else t=0,e=-1;var C=this.gridOptionsService.isDomLayout("normal"),b=this.gridOptionsService.is("suppressMaxRenderedRowRestriction"),E=Math.max(this.getRowBuffer(),500);C&&!b&&e-t>E&&(e=t+E);var S=t!==this.firstRenderedRow,w=e!==this.lastRenderedRow;if(S||w){this.firstRenderedRow=t,this.lastRenderedRow=e;var O={type:zt.EVENT_VIEWPORT_CHANGED,firstRow:t,lastRow:e};this.eventService.dispatchEvent(O)}},e.prototype.dispatchFirstDataRenderedEvent=function(){var t=this;if(!this.dataFirstRenderedFired){this.dataFirstRenderedFired=!0;var e={type:zt.EVENT_FIRST_DATA_RENDERED,firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow};window.requestAnimationFrame((function(){t.beans.eventService.dispatchEvent(e)}))}},e.prototype.ensureAllRowsInRangeHaveHeightsCalculated=function(t,e){var i=this.paginationProxy.ensureRowHeightsValid(t,e,-1,-1);return i&&this.updateContainerHeights(),i},e.prototype.getFirstVisibleVerticalPixel=function(){return this.firstVisibleVPixel},e.prototype.getFirstVirtualRenderedRow=function(){return this.firstRenderedRow},e.prototype.getLastVirtualRenderedRow=function(){return this.lastRenderedRow},e.prototype.doNotUnVirtualiseRow=function(t){var e=t.getRowNode(),i=this.focusService.isRowNodeFocused(e),o=t.isEditing(),n=e.detail;return!!(i||o||n)&&!!this.paginationProxy.isRowPresent(e)},e.prototype.createRowCon=function(t,e,i){var o=this.cachedRowCtrls?this.cachedRowCtrls.getRow(t):null;if(o)return o;var n=this.gridOptionsService.is("suppressAnimationFrame"),r=i&&!n&&!this.printLayout;return new Ul(t,this.beans,e,r,this.printLayout)},e.prototype.getRenderedNodes=function(){var t=this.rowCtrlsByRowIndex;return Object.keys(t).map((function(e){return t[e].getRowNode()}))},e.prototype.getRowByPosition=function(t){var e,i=t.rowIndex;switch(t.rowPinned){case"top":e=this.topRowCtrls[i];break;case"bottom":e=this.bottomRowCtrls[i];break;default:(e=this.rowCtrlsByRowIndex[i])||(e=this.getStickyTopRowCtrls().find((function(t){return t.getRowNode().rowIndex===i}))||null)}return e},e.prototype.getRowNode=function(t){switch(t.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[t.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[t.rowIndex];default:return this.rowModel.getRow(t.rowIndex)}},e.prototype.isRangeInRenderedViewport=function(t,e){if(null==t||null==e)return!1;var i=t>this.lastRenderedRow;return!(e<this.firstRenderedRow)&&!i},kh([K("animationFrameService")],e.prototype,"animationFrameService",void 0),kh([K("paginationProxy")],e.prototype,"paginationProxy",void 0),kh([K("columnModel")],e.prototype,"columnModel",void 0),kh([K("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),kh([K("rowModel")],e.prototype,"rowModel",void 0),kh([K("focusService")],e.prototype,"focusService",void 0),kh([K("beans")],e.prototype,"beans",void 0),kh([K("rowContainerHeightService")],e.prototype,"rowContainerHeightService",void 0),kh([K("ctrlsService")],e.prototype,"ctrlsService",void 0),kh([H],e.prototype,"postConstruct",null),e=kh([z("rowRenderer")],e)}(jt),Vh=function(){function t(t){this.entriesMap={},this.entriesList=[],this.maxCount=t}return t.prototype.addRow=function(t){if(this.entriesMap[t.getRowNode().id]=t,this.entriesList.push(t),t.setCached(!0),this.entriesList.length>this.maxCount){var e=this.entriesList[0];e.destroyFirstPass(),e.destroySecondPass(),this.removeFromCache(e)}},t.prototype.getRow=function(t){if(null==t||null==t.id)return null;var e=this.entriesMap[t.id];return e?(this.removeFromCache(e),e.setCached(!1),e.getRowNode()!=t?null:e):null},t.prototype.removeFromCache=function(t){var e=t.getRowNode().id;delete this.entriesMap[e],yt(this.entriesList,t)},t.prototype.getEntries=function(){return this.entriesList},t}(),Uh=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),Wh=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},Hh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Uh(e,t),e.prototype.formatValue=function(t,e,i,o,n){void 0===n&&(n=!0);var r,s=null,a=t.getColDef();if(o?r=o:n&&(r=a.valueFormatter),r){var l={value:i,node:e,data:e?e.data:null,colDef:a,column:t,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};s="function"==typeof r?r(l):this.expressionService.evaluate(r,l)}else if(a.refData)return a.refData[i]||"";return null==s&&Array.isArray(i)&&(s=i.join(", ")),s},Wh([K("expressionService")],e.prototype,"expressionService",void 0),e=Wh([z("valueFormatterService")],e)}(jt),$h=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),zh=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},Kh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return $h(e,t),e.prototype.init=function(){this.setPinnedTopRowData(this.gridOptionsService.get("pinnedTopRowData")),this.setPinnedBottomRowData(this.gridOptionsService.get("pinnedBottomRowData"))},e.prototype.isEmpty=function(t){return s("top"===t?this.pinnedTopRows:this.pinnedBottomRows)},e.prototype.isRowsToRender=function(t){return!this.isEmpty(t)},e.prototype.getRowAtPixel=function(t,e){var i="top"===e?this.pinnedTopRows:this.pinnedBottomRows;if(s(i))return 0;for(var o=0;o<i.length;o++){var n=i[o];if(n.rowTop+n.rowHeight-1>=t)return o}return i.length-1},e.prototype.setPinnedTopRowData=function(t){this.pinnedTopRows=this.createNodesFromData(t,!0);var e={type:zt.EVENT_PINNED_ROW_DATA_CHANGED};this.eventService.dispatchEvent(e)},e.prototype.setPinnedBottomRowData=function(t){this.pinnedBottomRows=this.createNodesFromData(t,!1);var e={type:zt.EVENT_PINNED_ROW_DATA_CHANGED};this.eventService.dispatchEvent(e)},e.prototype.createNodesFromData=function(t,e){var i=this,o=[];if(t){var n=0;t.forEach((function(t,r){var s=new Ss(i.beans);s.data=t;var a=e?Ss.ID_PREFIX_TOP_PINNED:Ss.ID_PREFIX_BOTTOM_PINNED;s.id=a+r,s.rowPinned=e?"top":"bottom",s.setRowTop(n),s.setRowHeight(i.gridOptionsService.getRowHeightForNode(s).height),s.setRowIndex(r),n+=s.rowHeight,o.push(s)}))}return o},e.prototype.getPinnedTopRowData=function(){return this.pinnedTopRows},e.prototype.getPinnedBottomRowData=function(){return this.pinnedBottomRows},e.prototype.getPinnedTopTotalHeight=function(){return this.getTotalHeight(this.pinnedTopRows)},e.prototype.getPinnedTopRowCount=function(){return this.pinnedTopRows?this.pinnedTopRows.length:0},e.prototype.getPinnedBottomRowCount=function(){return this.pinnedBottomRows?this.pinnedBottomRows.length:0},e.prototype.getPinnedTopRow=function(t){return this.pinnedTopRows[t]},e.prototype.getPinnedBottomRow=function(t){return this.pinnedBottomRows[t]},e.prototype.forEachPinnedTopRow=function(t){s(this.pinnedTopRows)||this.pinnedTopRows.forEach(t)},e.prototype.forEachPinnedBottomRow=function(t){s(this.pinnedBottomRows)||this.pinnedBottomRows.forEach(t)},e.prototype.getPinnedBottomTotalHeight=function(){return this.getTotalHeight(this.pinnedBottomRows)},e.prototype.getTotalHeight=function(t){if(!t||0===t.length)return 0;var e=ft(t);return e.rowTop+e.rowHeight},zh([K("beans")],e.prototype,"beans",void 0),zh([H],e.prototype,"init",null),e=zh([z("pinnedRowModel")],e)}(jt);!function(t){t.Applied="Applied",t.StoreNotFound="StoreNotFound",t.StoreLoading="StoreLoading",t.StoreWaitingToLoad="StoreWaitingToLoad",t.StoreLoadingFailed="StoreLoadingFailed",t.StoreWrongType="StoreWrongType",t.Cancelled="Cancelled"}(_h||(_h={}));var Yh,Xh=function(){function t(t,e){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=t,this.pathRoot={rowNode:e,children:null},this.mapToItems[e.id]=this.pathRoot}return t.prototype.setInactive=function(){this.active=!1},t.prototype.isActive=function(){return this.active},t.prototype.depthFirstSearchChangedPath=function(t,e){if(t.children)for(var i=0;i<t.children.length;i++)this.depthFirstSearchChangedPath(t.children[i],e);e(t.rowNode)},t.prototype.depthFirstSearchEverything=function(t,e,i){if(t.childrenAfterGroup)for(var o=0;o<t.childrenAfterGroup.length;o++){var n=t.childrenAfterGroup[o];n.childrenAfterGroup?this.depthFirstSearchEverything(t.childrenAfterGroup[o],e,i):i&&e(n)}e(t)},t.prototype.forEachChangedNodeDepthFirst=function(t,e,i){void 0===e&&(e=!1),void 0===i&&(i=!1),this.active&&!i?this.depthFirstSearchChangedPath(this.pathRoot,t):this.depthFirstSearchEverything(this.pathRoot.rowNode,t,e)},t.prototype.executeFromRootNode=function(t){t(this.pathRoot.rowNode)},t.prototype.createPathItems=function(t){for(var e=t,i=0;!this.mapToItems[e.id];){var o={rowNode:e,children:null};this.mapToItems[e.id]=o,i++,e=e.parent}return i},t.prototype.populateColumnsMap=function(t,e){var i=this;if(this.keepingColumns&&e)for(var o=t;o;)this.nodeIdsToColumns[o.id]||(this.nodeIdsToColumns[o.id]={}),e.forEach((function(t){return i.nodeIdsToColumns[o.id][t.getId()]=!0})),o=o.parent},t.prototype.linkPathItems=function(t,e){for(var i=t,o=0;o<e;o++){var n=this.mapToItems[i.id],r=this.mapToItems[i.parent.id];r.children||(r.children=[]),r.children.push(n),i=i.parent}},t.prototype.addParentNode=function(t,e){if(t&&!t.isRowPinned()){var i=this.createPathItems(t);this.linkPathItems(t,i),this.populateColumnsMap(t,e)}},t.prototype.canSkip=function(t){return this.active&&!this.mapToItems[t.id]},t.prototype.getValueColumnsForNode=function(t,e){if(!this.keepingColumns)return e;var i=this.nodeIdsToColumns[t.id];return e.filter((function(t){return i[t.getId()]}))},t.prototype.getNotValueColumnsForNode=function(t,e){if(!this.keepingColumns)return null;var i=this.nodeIdsToColumns[t.id];return e.filter((function(t){return!i[t.getId()]}))},t}(),Zh=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),qh=function(t){function e(i){var o=t.call(this)||this;return o.state=e.STATE_WAITING_TO_LOAD,o.version=0,o.id=i,o}return Zh(e,t),e.prototype.getId=function(){return this.id},e.prototype.load=function(){this.state=e.STATE_LOADING,this.loadFromDatasource()},e.prototype.getVersion=function(){return this.version},e.prototype.setStateWaitingToLoad=function(){this.version++,this.state=e.STATE_WAITING_TO_LOAD},e.prototype.getState=function(){return this.state},e.prototype.pageLoadFailed=function(t){this.isRequestMostRecentAndLive(t)&&(this.state=e.STATE_FAILED,this.processServerFail()),this.dispatchLoadCompleted(!1)},e.prototype.success=function(t,e){this.successCommon(t,e)},e.prototype.pageLoaded=function(t,e,i){this.successCommon(t,{rowData:e,rowCount:i})},e.prototype.isRequestMostRecentAndLive=function(t){var e=t===this.version,i=this.isAlive();return e&&i},e.prototype.successCommon=function(t,i){this.dispatchLoadCompleted(),this.isRequestMostRecentAndLive(t)&&(this.state=e.STATE_LOADED,this.processServerResult(i))},e.prototype.dispatchLoadCompleted=function(t){void 0===t&&(t=!0);var i={type:e.EVENT_LOAD_COMPLETE,success:t,block:this};this.dispatchEvent(i)},e.EVENT_LOAD_COMPLETE="loadComplete",e.STATE_WAITING_TO_LOAD="needsLoading",e.STATE_LOADING="loading",e.STATE_LOADED="loaded",e.STATE_FAILED="failed",e}(jt),Jh=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),Qh=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},td=function(t,e){return function(i,o){e(i,o,t)}},ed=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.activeBlockLoadsCount=0,e.blocks=[],e.active=!0,e}var i;return Jh(e,t),i=e,e.prototype.postConstruct=function(){this.maxConcurrentRequests=this.getMaxConcurrentDatasourceRequests();var t=this.gridOptionsService.getNum("blockLoadDebounceMillis");t&&t>0&&(this.checkBlockToLoadDebounce=on.debounce(this.performCheckBlocksToLoad.bind(this),t))},e.prototype.setBeans=function(t){this.logger=t.create("RowNodeBlockLoader")},e.prototype.getMaxConcurrentDatasourceRequests=function(){var t=this.gridOptionsService.getNum("maxConcurrentDatasourceRequests");return null==t?2:t<=0?void 0:t},e.prototype.addBlock=function(t){this.blocks.push(t),t.addEventListener(qh.EVENT_LOAD_COMPLETE,this.loadComplete.bind(this)),this.checkBlockToLoad()},e.prototype.removeBlock=function(t){on.removeFromArray(this.blocks,t)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.active=!1},e.prototype.loadComplete=function(){this.activeBlockLoadsCount--,this.checkBlockToLoad(),this.dispatchEvent({type:i.BLOCK_LOADED_EVENT}),0==this.activeBlockLoadsCount&&this.dispatchEvent({type:i.BLOCK_LOADER_FINISHED_EVENT})},e.prototype.checkBlockToLoad=function(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()},e.prototype.performCheckBlocksToLoad=function(){if(this.active)if(this.printCacheStatus(),null!=this.maxConcurrentRequests&&this.activeBlockLoadsCount>=this.maxConcurrentRequests)this.logger.log("checkBlockToLoad: max loads exceeded");else{var t=this.getAvailableLoadingCount(),e=this.blocks.filter((function(t){return t.getState()===qh.STATE_WAITING_TO_LOAD})).slice(0,t);this.registerLoads(e.length),e.forEach((function(t){return t.load()})),this.printCacheStatus()}},e.prototype.getBlockState=function(){if(this.gridOptionsService.isRowModelType("serverSide"))return this.rowModel.getBlockStates();var t={};return this.blocks.forEach((function(e){var i=e.getBlockStateJson(),o=i.id,n=i.state;t[o]=n})),t},e.prototype.printCacheStatus=function(){this.logger.isLogging()&&this.logger.log("printCacheStatus: activePageLoadsCount = "+this.activeBlockLoadsCount+", blocks = "+JSON.stringify(this.getBlockState()))},e.prototype.isLoading=function(){return this.activeBlockLoadsCount>0},e.prototype.registerLoads=function(t){this.activeBlockLoadsCount+=t},e.prototype.getAvailableLoadingCount=function(){return void 0!==this.maxConcurrentRequests?this.maxConcurrentRequests-this.activeBlockLoadsCount:void 0},e.BLOCK_LOADED_EVENT="blockLoaded",e.BLOCK_LOADER_FINISHED_EVENT="blockLoaderFinished",Qh([K("rowModel")],e.prototype,"rowModel",void 0),Qh([H],e.prototype,"postConstruct",null),Qh([td(0,Z("loggerFactory"))],e.prototype,"setBeans",null),e=i=Qh([z("rowNodeBlockLoader")],e)}(jt),id=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),od=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},nd=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.currentPage=0,e.topDisplayedRowIndex=0,e.bottomDisplayedRowIndex=0,e.pixelOffset=0,e.masterRowCount=0,e}return id(e,t),e.prototype.postConstruct=function(){this.active=this.gridOptionsService.is("pagination"),this.paginateChildRows=this.isPaginateChildRows(),this.addManagedListener(this.eventService,zt.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedPropertyListener("pagination",this.onPaginationPageSizeChanged.bind(this)),this.addManagedPropertyListener("paginationPageSize",this.onPaginationPageSizeChanged.bind(this)),this.onModelUpdated()},e.prototype.ensureRowHeightsValid=function(t,e,i,o){var n=this.rowModel.ensureRowHeightsValid(t,e,this.getPageFirstRow(),this.getPageLastRow());return n&&this.calculatePages(),n},e.prototype.isPaginateChildRows=function(){return!(!this.gridOptionsService.is("groupRemoveSingleChildren")&&!this.gridOptionsService.is("groupRemoveLowestSingleChildren"))||this.gridOptionsService.is("paginateChildRows")},e.prototype.onModelUpdated=function(t){this.calculatePages();var e={type:zt.EVENT_PAGINATION_CHANGED,animate:!!t&&t.animate,newData:!!t&&t.newData,newPage:!!t&&t.newPage,keepRenderedRows:!!t&&t.keepRenderedRows};this.eventService.dispatchEvent(e)},e.prototype.onPaginationPageSizeChanged=function(){this.active=this.gridOptionsService.is("pagination"),this.calculatePages();var t={type:zt.EVENT_PAGINATION_CHANGED,animate:!1,newData:!1,newPage:!1,keepRenderedRows:!0};this.eventService.dispatchEvent(t)},e.prototype.goToPage=function(t){if(this.active&&this.currentPage!==t&&"number"==typeof this.currentPage){this.currentPage=t;var e={type:zt.EVENT_MODEL_UPDATED,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!0};this.onModelUpdated(e)}},e.prototype.getPixelOffset=function(){return this.pixelOffset},e.prototype.getRow=function(t){return this.rowModel.getRow(t)},e.prototype.getRowNode=function(t){return this.rowModel.getRowNode(t)},e.prototype.getRowIndexAtPixel=function(t){return this.rowModel.getRowIndexAtPixel(t)},e.prototype.getCurrentPageHeight=function(){return r(this.topRowBounds)||r(this.bottomRowBounds)?0:Math.max(this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight-this.topRowBounds.rowTop,0)},e.prototype.getCurrentPagePixelRange=function(){return{pageFirstPixel:this.topRowBounds?this.topRowBounds.rowTop:0,pageLastPixel:this.bottomRowBounds?this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight:0}},e.prototype.isRowPresent=function(t){return!!this.rowModel.isRowPresent(t)&&(t.rowIndex>=this.topDisplayedRowIndex&&t.rowIndex<=this.bottomDisplayedRowIndex)},e.prototype.isEmpty=function(){return this.rowModel.isEmpty()},e.prototype.isRowsToRender=function(){return this.rowModel.isRowsToRender()},e.prototype.forEachNode=function(t){return this.rowModel.forEachNode(t)},e.prototype.forEachNodeOnPage=function(t){for(var e=this.getPageFirstRow(),i=this.getPageLastRow(),o=e;o<=i;o++){var n=this.getRow(o);n&&t(n)}},e.prototype.getType=function(){return this.rowModel.getType()},e.prototype.getRowBounds=function(t){var e=this.rowModel.getRowBounds(t);return e.rowIndex=t,e},e.prototype.getPageFirstRow=function(){return this.topRowBounds?this.topRowBounds.rowIndex:-1},e.prototype.getPageLastRow=function(){return this.bottomRowBounds?this.bottomRowBounds.rowIndex:-1},e.prototype.getRowCount=function(){return this.rowModel.getRowCount()},e.prototype.getPageForIndex=function(t){return Math.floor(t/this.pageSize)},e.prototype.goToPageWithIndex=function(t){if(this.active){var e=this.getPageForIndex(t);this.goToPage(e)}},e.prototype.isRowInPage=function(t){return!this.active||this.getPageForIndex(t.rowIndex)===this.currentPage},e.prototype.isLastPageFound=function(){return this.rowModel.isLastRowIndexKnown()},e.prototype.getCurrentPage=function(){return this.currentPage},e.prototype.goToNextPage=function(){this.goToPage(this.currentPage+1)},e.prototype.goToPreviousPage=function(){this.goToPage(this.currentPage-1)},e.prototype.goToFirstPage=function(){this.goToPage(0)},e.prototype.goToLastPage=function(){var t=this.rowModel.getRowCount(),e=Math.floor(t/this.pageSize);this.goToPage(e)},e.prototype.getPageSize=function(){return this.pageSize},e.prototype.getTotalPages=function(){return this.totalPages},e.prototype.setPageSize=function(){this.pageSize=this.gridOptionsService.getNum("paginationPageSize"),(null==this.pageSize||this.pageSize<1)&&(this.pageSize=100)},e.prototype.calculatePages=function(){this.active?(this.setPageSize(),this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly()):this.calculatedPagesNotActive(),this.topRowBounds=this.rowModel.getRowBounds(this.topDisplayedRowIndex),this.topRowBounds&&(this.topRowBounds.rowIndex=this.topDisplayedRowIndex),this.bottomRowBounds=this.rowModel.getRowBounds(this.bottomDisplayedRowIndex),this.bottomRowBounds&&(this.bottomRowBounds.rowIndex=this.bottomDisplayedRowIndex),this.setPixelOffset(n(this.topRowBounds)?this.topRowBounds.rowTop:0)},e.prototype.setPixelOffset=function(t){this.pixelOffset!==t&&(this.pixelOffset=t,this.eventService.dispatchEvent({type:zt.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED}))},e.prototype.setZeroRows=function(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0},e.prototype.adjustCurrentPageIfInvalid=function(){this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!isFinite(this.currentPage)||isNaN(this.currentPage)||this.currentPage<0)&&(this.currentPage=0)},e.prototype.calculatePagesMasterRowsOnly=function(){if(this.masterRowCount=this.rowModel.getTopLevelRowCount(),this.masterRowCount<=0)this.setZeroRows();else{var t=this.masterRowCount-1;this.totalPages=Math.floor(t/this.pageSize)+1,this.adjustCurrentPageIfInvalid();var e=this.pageSize*this.currentPage,i=this.pageSize*(this.currentPage+1)-1;if(i>t&&(i=t),this.topDisplayedRowIndex=this.rowModel.getTopLevelRowDisplayedIndex(e),i===t)this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1;else{var o=this.rowModel.getTopLevelRowDisplayedIndex(i+1);this.bottomDisplayedRowIndex=o-1}}},e.prototype.getMasterRowCount=function(){return this.masterRowCount},e.prototype.calculatePagesAllRows=function(){if(this.masterRowCount=this.rowModel.getRowCount(),0!==this.masterRowCount){var t=this.masterRowCount-1;this.totalPages=Math.floor(t/this.pageSize)+1,this.adjustCurrentPageIfInvalid(),this.topDisplayedRowIndex=this.pageSize*this.currentPage,this.bottomDisplayedRowIndex=this.pageSize*(this.currentPage+1)-1,this.bottomDisplayedRowIndex>t&&(this.bottomDisplayedRowIndex=t)}else this.setZeroRows()},e.prototype.calculatedPagesNotActive=function(){this.pageSize=this.rowModel.getRowCount(),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1},od([K("rowModel")],e.prototype,"rowModel",void 0),od([H],e.prototype,"postConstruct",null),e=od([z("paginationProxy")],e)}(jt),rd=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),sd=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},ad=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return rd(e,t),e.prototype.processAllCellClasses=function(t,e,i,o){this.processClassRules(t.cellClassRules,e,i,o),this.processStaticCellClasses(t,e,i)},e.prototype.processClassRules=function(t,e,i,o){if(null!=t){for(var n=Object.keys(t),r={},s={},a=function(i){var o,a=n[i],c=t[a];"string"==typeof c?o=l.expressionService.evaluate(c,e):"function"==typeof c&&(o=c(e)),a.split(" ").forEach((function(t){null!=t&&""!=t.trim()&&(o?r[t]=!0:s[t]=!0)}))},l=this,c=0;c<n.length;c++)a(c);o&&Object.keys(s).forEach(o),Object.keys(r).forEach(i)}},e.prototype.getStaticCellClasses=function(t,e){var i,o=t.cellClass;if(!o)return[];"function"==typeof o?i=o(e):i=o;return"string"==typeof i&&(i=[i]),i||[]},e.prototype.processStaticCellClasses=function(t,e,i){this.getStaticCellClasses(t,e).forEach((function(t){i(t)}))},sd([K("expressionService")],e.prototype,"expressionService",void 0),e=sd([z("stylingService")],e)}(jt),ld=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),cd=function(t){function e(e){return t.call(this,e,"ag-toggle-button")||this}return ld(e,t),e.prototype.setValue=function(e,i){return t.prototype.setValue.call(this,e,i),this.addOrRemoveCssClass("ag-selected",this.getValue()),this},e}(er),ud=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),hd=function(t){function e(e){return t.call(this,e,"ag-text-area",null,"textarea")||this}return ud(e,t),e.prototype.setValue=function(e,i){var o=t.prototype.setValue.call(this,e,i);return this.eInput.value=e,o},e.prototype.setCols=function(t){return this.eInput.cols=t,this},e.prototype.setRows=function(t){return this.eInput.rows=t,this},e}(Qn),dd=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),pd=function(t){function e(e){return t.call(this,e,"ag-range-field","range")||this}return dd(e,t),e.prototype.postConstruct=function(){t.prototype.postConstruct.call(this);var e=this.config,i=e.min,o=e.max,n=e.step;null!=i&&this.setMinValue(i),null!=o&&this.setMaxValue(o),this.setStep(n||1)},e.prototype.addInputListeners=function(){var t=this;this.addManagedListener(this.eInput,"input",(function(e){var i=e.target.value;t.setValue(i)}))},e.prototype.setMinValue=function(t){return this.min=t,this.eInput.setAttribute("min",t.toString()),this},e.prototype.setMaxValue=function(t){return this.max=t,this.eInput.setAttribute("max",t.toString()),this},e.prototype.setStep=function(t){return this.eInput.setAttribute("step",t.toString()),this},e.prototype.setValue=function(e,i){null!=this.min&&(e=Math.max(parseFloat(e),this.min).toString()),null!=this.max&&(e=Math.min(parseFloat(e),this.max).toString());var o=t.prototype.setValue.call(this,e,i);return this.eInput.value=e,o},e}(Qn),fd=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),gd=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},md=function(t){function e(i){var o=t.call(this,i,e.TEMPLATE)||this;return o.labelAlignment="top",o}return fd(e,t),e.prototype.init=function(){this.eSlider.addCssClass("ag-slider-field")},e.prototype.onValueChange=function(t){var e=this,i=Vn.EVENT_CHANGED;return this.addManagedListener(this.eText,i,(function(){var i=parseFloat(e.eText.getValue());e.eSlider.setValue(i.toString(),!0),t(i||0)})),this.addManagedListener(this.eSlider,i,(function(){var i=e.eSlider.getValue();e.eText.setValue(i,!0),t(parseFloat(i))})),this},e.prototype.setSliderWidth=function(t){return this.eSlider.setWidth(t),this},e.prototype.setTextFieldWidth=function(t){return this.eText.setWidth(t),this},e.prototype.setMinValue=function(t){return this.eSlider.setMinValue(t),this.eText.setMin(t),this},e.prototype.setMaxValue=function(t){return this.eSlider.setMaxValue(t),this.eText.setMax(t),this},e.prototype.getValue=function(){return this.eText.getValue()},e.prototype.setValue=function(t){return this.getValue()===t||(this.eText.setValue(t,!0),this.eSlider.setValue(t,!0),this.dispatchEvent({type:Vn.EVENT_CHANGED})),this},e.prototype.setStep=function(t){return this.eSlider.setStep(t),this.eText.setStep(t),this},e.TEMPLATE='<div class="ag-slider">\n            <label ref="eLabel"></label>\n            <div class="ag-wrapper ag-slider-wrapper">\n                <ag-input-range ref="eSlider"></ag-input-range>\n                <ag-input-number-field ref="eText"></ag-input-number-field>\n            </div>\n        </div>',gd([mn("eLabel")],e.prototype,"eLabel",void 0),gd([mn("eSlider")],e.prototype,"eSlider",void 0),gd([mn("eText")],e.prototype,"eText",void 0),gd([H],e.prototype,"init",null),e}(Gn),yd=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),vd=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},_d=function(t){function e(i){void 0===i&&(i={});var o=t.call(this,e.getTemplate(i))||this;o.suppressEnabledCheckbox=!0,o.suppressOpenCloseIcons=!1;var n=i.title,r=i.enabled,s=i.items,a=i.suppressEnabledCheckbox,l=i.suppressOpenCloseIcons;return o.title=n,o.cssIdentifier=i.cssIdentifier||"default",o.enabled=null==r||r,o.items=s||[],o.alignItems=i.alignItems||"center",null!=a&&(o.suppressEnabledCheckbox=a),null!=l&&(o.suppressOpenCloseIcons=l),o}return yd(e,t),e.getTemplate=function(t){var e=t.cssIdentifier||"default";return'<div class="ag-group ag-'+e+'-group" role="presentation">\n            <div class="ag-group-title-bar ag-'+e+'-group-title-bar ag-unselectable" ref="eTitleBar" role="button">\n                <span class="ag-group-title-bar-icon ag-'+e+'-group-title-bar-icon" ref="eGroupOpenedIcon" role="presentation"></span>\n                <span class="ag-group-title-bar-icon ag-'+e+'-group-title-bar-icon" ref="eGroupClosedIcon" role="presentation"></span>\n                <span ref="eTitle" class="ag-group-title ag-'+e+'-group-title"></span>\n            </div>\n            <div ref="eToolbar" class="ag-group-toolbar ag-'+e+'-group-toolbar">\n                <ag-checkbox ref="cbGroupEnabled"></ag-checkbox>\n            </div>\n            <div ref="eContainer" class="ag-group-container ag-group-container-'+(t.direction||"vertical")+" ag-"+e+'-group-container"></div>\n        </div>'},e.prototype.postConstruct=function(){if(this.items.length){var t=this.items;this.items=[],this.addItems(t)}var e=this.localeService.getLocaleTextFunc();this.cbGroupEnabled.setLabel(e("enabled","Enabled")),this.title&&this.setTitle(this.title),this.enabled&&this.setEnabled(this.enabled),this.setAlignItems(this.alignItems),this.hideEnabledCheckbox(this.suppressEnabledCheckbox),this.hideOpenCloseIcons(this.suppressOpenCloseIcons),this.setupExpandContract(),this.refreshAriaStatus(),this.refreshChildDisplay()},e.prototype.setupExpandContract=function(){var t=this;this.eGroupClosedIcon.appendChild(Go("columnSelectClosed",this.gridOptionsService,null)),this.eGroupOpenedIcon.appendChild(Go("columnSelectOpen",this.gridOptionsService,null)),this.addManagedListener(this.eTitleBar,"click",(function(){return t.toggleGroupExpand()})),this.addManagedListener(this.eTitleBar,"keydown",(function(e){switch(e.key){case Uo.ENTER:case Uo.SPACE:e.preventDefault(),t.toggleGroupExpand();break;case Uo.RIGHT:case Uo.LEFT:e.preventDefault(),t.toggleGroupExpand(e.key===Uo.RIGHT)}}))},e.prototype.refreshAriaStatus=function(){this.suppressOpenCloseIcons||oi(this.eTitleBar,this.expanded)},e.prototype.refreshChildDisplay=function(){var t=!this.suppressOpenCloseIcons;oo(this.eToolbar,this.expanded&&!this.suppressEnabledCheckbox),oo(this.eGroupOpenedIcon,t&&this.expanded),oo(this.eGroupClosedIcon,t&&!this.expanded)},e.prototype.isExpanded=function(){return this.expanded},e.prototype.setAlignItems=function(t){this.alignItems!==t&&this.removeCssClass("ag-group-item-alignment-"+this.alignItems),this.alignItems=t;var e="ag-group-item-alignment-"+this.alignItems;return this.addCssClass(e),this},e.prototype.toggleGroupExpand=function(t){return this.suppressOpenCloseIcons?(this.expanded=!0,this.refreshChildDisplay(),oo(this.eContainer,!0),this):(t=null!=t?t:!this.expanded,this.expanded===t||(this.expanded=t,this.refreshAriaStatus(),this.refreshChildDisplay(),oo(this.eContainer,t),this.dispatchEvent({type:this.expanded?e.EVENT_EXPANDED:e.EVENT_COLLAPSED})),this)},e.prototype.addItems=function(t){var e=this;t.forEach((function(t){return e.addItem(t)}))},e.prototype.addItem=function(t){var e=this.eContainer,i=t instanceof gn?t.getGui():t;i.classList.add("ag-group-item","ag-"+this.cssIdentifier+"-group-item"),e.appendChild(i),this.items.push(i)},e.prototype.hideItem=function(t,e){oo(this.items[e],!t)},e.prototype.setTitle=function(t){return this.eTitle.innerText=t,this},e.prototype.addCssClassToTitleBar=function(t){this.eTitleBar.classList.add(t)},e.prototype.setEnabled=function(t,e){return this.enabled=t,this.refreshDisabledStyles(),this.toggleGroupExpand(t),e||this.cbGroupEnabled.setValue(t),this},e.prototype.isEnabled=function(){return this.enabled},e.prototype.onEnableChange=function(t){var e=this;return this.cbGroupEnabled.onValueChange((function(i){e.setEnabled(i,!0),t(i)})),this},e.prototype.hideEnabledCheckbox=function(t){return this.suppressEnabledCheckbox=t,this.refreshChildDisplay(),this.refreshDisabledStyles(),this},e.prototype.hideOpenCloseIcons=function(t){return this.suppressOpenCloseIcons=t,t&&this.toggleGroupExpand(!0),this},e.prototype.refreshDisabledStyles=function(){this.addOrRemoveCssClass("ag-disabled",!this.enabled),this.suppressEnabledCheckbox&&!this.enabled?(this.eTitleBar.classList.add("ag-disabled-group-title-bar"),this.eTitleBar.removeAttribute("tabindex")):(this.eTitleBar.classList.remove("ag-disabled-group-title-bar"),this.eTitleBar.setAttribute("tabindex","0")),this.eContainer.classList.toggle("ag-disabled-group-container",!this.enabled)},e.EVENT_EXPANDED="expanded",e.EVENT_COLLAPSED="collapsed",vd([mn("eTitleBar")],e.prototype,"eTitleBar",void 0),vd([mn("eGroupOpenedIcon")],e.prototype,"eGroupOpenedIcon",void 0),vd([mn("eGroupClosedIcon")],e.prototype,"eGroupClosedIcon",void 0),vd([mn("eToolbar")],e.prototype,"eToolbar",void 0),vd([mn("cbGroupEnabled")],e.prototype,"cbGroupEnabled",void 0),vd([mn("eTitle")],e.prototype,"eTitle",void 0),vd([mn("eContainer")],e.prototype,"eContainer",void 0),vd([H],e.prototype,"postConstruct",null),e}(gn),Cd=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),bd=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s};!function(t){t.TAB_GUARD="ag-tab-guard",t.TAB_GUARD_TOP="ag-tab-guard-top",t.TAB_GUARD_BOTTOM="ag-tab-guard-bottom"}(Yh||(Yh={}));var Ed,Sd=function(t){function e(e){var i=t.call(this)||this;i.skipTabGuardFocus=!1;var o=e.comp,n=e.eTopGuard,r=e.eBottomGuard,s=e.focusInnerElement,a=e.onFocusIn,l=e.onFocusOut,c=e.shouldStopEventPropagation,u=e.onTabKeyDown,h=e.handleKeyDown,d=e.eFocusableElement;return i.comp=o,i.eTopGuard=n,i.eBottomGuard=r,i.providedFocusInnerElement=s,i.eFocusableElement=d,i.providedFocusIn=a,i.providedFocusOut=l,i.providedShouldStopEventPropagation=c,i.providedOnTabKeyDown=u,i.providedHandleKeyDown=h,i}return Cd(e,t),e.prototype.postConstruct=function(){var t=this;this.createManagedBean(new Tn(this.eFocusableElement,{shouldStopEventPropagation:function(){return t.shouldStopEventPropagation()},onTabKeyDown:function(e){return t.onTabKeyDown(e)},handleKeyDown:function(e){return t.handleKeyDown(e)},onFocusIn:function(e){return t.onFocusIn(e)},onFocusOut:function(e){return t.onFocusOut(e)}})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach((function(e){return t.addManagedListener(e,"focus",t.onFocus.bind(t))}))},e.prototype.handleKeyDown=function(t){this.providedHandleKeyDown&&this.providedHandleKeyDown(t)},e.prototype.tabGuardsAreActive=function(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")},e.prototype.shouldStopEventPropagation=function(){return!!this.providedShouldStopEventPropagation&&this.providedShouldStopEventPropagation()},e.prototype.activateTabGuards=function(){this.comp.setTabIndex(this.getGridTabIndex())},e.prototype.deactivateTabGuards=function(){this.comp.setTabIndex()},e.prototype.onFocus=function(t){if(this.skipTabGuardFocus)this.skipTabGuardFocus=!1;else{var e=t.target===this.eBottomGuard;this.providedFocusInnerElement?this.providedFocusInnerElement(e):this.focusInnerElement(e)}},e.prototype.onFocusIn=function(t){this.providedFocusIn&&this.providedFocusIn(t)||this.deactivateTabGuards()},e.prototype.onFocusOut=function(t){this.providedFocusOut&&this.providedFocusOut(t)||this.eFocusableElement.contains(t.relatedTarget)||this.activateTabGuards()},e.prototype.onTabKeyDown=function(t){var e=this;if(this.providedOnTabKeyDown)this.providedOnTabKeyDown(t);else if(!t.defaultPrevented){var i=this.tabGuardsAreActive();i&&this.deactivateTabGuards();var o=this.getNextFocusableElement(t.shiftKey);i&&setTimeout((function(){return e.activateTabGuards()}),0),o&&(o.focus(),t.preventDefault())}},e.prototype.getGridTabIndex=function(){return(this.gridOptionsService.getNum("tabIndex")||0).toString()},e.prototype.focusInnerElement=function(t){void 0===t&&(t=!1);var e=this.focusService.findFocusableElements(this.eFocusableElement);this.tabGuardsAreActive()&&(e.splice(0,1),e.splice(e.length-1,1)),e.length&&e[t?e.length-1:0].focus({preventScroll:!0})},e.prototype.getNextFocusableElement=function(t){return this.focusService.findNextFocusableElement(this.eFocusableElement,!1,t)},e.prototype.forceFocusOutOfContainer=function(t){void 0===t&&(t=!1);var e=t?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,e.focus()},bd([K("focusService")],e.prototype,"focusService",void 0),bd([H],e.prototype,"postConstruct",null),e}(jt),wd=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),Od=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,n,r=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return s},xd=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Od(arguments[e]));return t},Pd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return wd(e,t),e.prototype.initialiseTabGuard=function(t){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.getFocusableElement();var e=[this.eTopGuard,this.eBottomGuard],i={setTabIndex:function(t){e.forEach((function(e){return null!=t?e.setAttribute("tabIndex",t):e.removeAttribute("tabIndex")}))}};this.addTabGuards(this.eTopGuard,this.eBottomGuard),this.tabGuardCtrl=this.createManagedBean(new Sd({comp:i,eTopGuard:this.eTopGuard,eBottomGuard:this.eBottomGuard,eFocusableElement:this.eFocusableElement,onFocusIn:t.onFocusIn,onFocusOut:t.onFocusOut,focusInnerElement:t.focusInnerElement,handleKeyDown:t.handleKeyDown,onTabKeyDown:t.onTabKeyDown,shouldStopEventPropagation:t.shouldStopEventPropagation}))},e.prototype.createTabGuard=function(t){var e=document.createElement("div"),i="top"===t?Yh.TAB_GUARD_TOP:Yh.TAB_GUARD_BOTTOM;return e.classList.add(Yh.TAB_GUARD,i),ze(e,"presentation"),e},e.prototype.addTabGuards=function(t,e){this.eFocusableElement.insertAdjacentElement("afterbegin",t),this.eFocusableElement.insertAdjacentElement("beforeend",e)},e.prototype.removeAllChildrenExceptTabGuards=function(){var t=[this.eTopGuard,this.eBottomGuard];mo(this.getFocusableElement()),this.addTabGuards.apply(this,xd(t))},e.prototype.forceFocusOutOfContainer=function(t){void 0===t&&(t=!1),this.tabGuardCtrl.forceFocusOutOfContainer(t)},e.prototype.appendChild=function(e,i){Ro(e)||(e=e.getGui());var o=this.eBottomGuard;o?o.insertAdjacentElement("beforebegin",e):t.prototype.appendChild.call(this,e,i)},e}(gn),Td=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),Md=function(){return Md=Object.assign||function(t){for(var e,i=1,o=arguments.length;i<o;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},Md.apply(this,arguments)},Dd=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},Ad=function(t){function e(e){void 0===e&&(e=1);var i=t.call(this,'<div class="ag-menu-list" role="tree"></div>')||this;return i.level=e,i.menuItems=[],i}return Td(e,t),e.prototype.postConstruct=function(){var t=this;this.initialiseTabGuard({onTabKeyDown:function(e){return t.onTabKeyDown(e)},handleKeyDown:function(e){return t.handleKeyDown(e)}})},e.prototype.onTabKeyDown=function(t){var e=this.getParentComponent(),i=e&&e.getGui();i&&i.classList.contains("ag-focus-managed")||t.preventDefault(),t.shiftKey&&this.closeIfIsChild(t)},e.prototype.handleKeyDown=function(t){switch(t.key){case Uo.UP:case Uo.RIGHT:case Uo.DOWN:case Uo.LEFT:t.preventDefault(),this.handleNavKey(t.key);break;case Uo.ESCAPE:var e=this.findTopMenu();e&&this.focusService.focusInto(e.getGui())}},e.prototype.clearActiveItem=function(){this.activeMenuItem&&(this.activeMenuItem.deactivate(),this.activeMenuItem=null)},e.prototype.addMenuItems=function(t){var e=this;null!=t&&t.forEach((function(t){"separator"===t?e.addSeparator():"string"==typeof t?console.warn("AG Grid: unrecognised menu item "+t):e.addItem(t)}))},e.prototype.addItem=function(t){var e=this,i=this.createManagedBean(new Fd(Md(Md({},t),{isAnotherSubMenuOpen:function(){return e.menuItems.some((function(t){return t.isSubMenuOpen()}))}})));i.setParentComponent(this),ti(i.getGui(),this.level),this.menuItems.push(i),this.appendChild(i.getGui()),this.addManagedListener(i,Fd.EVENT_MENU_ITEM_SELECTED,(function(t){e.dispatchEvent(t)})),this.addManagedListener(i,Fd.EVENT_MENU_ITEM_ACTIVATED,(function(t){e.activeMenuItem&&e.activeMenuItem!==t.menuItem&&e.activeMenuItem.deactivate(),e.activeMenuItem=t.menuItem}))},e.prototype.activateFirstItem=function(){var t=this.menuItems.filter((function(t){return!t.isDisabled()}))[0];t&&t.activate()},e.prototype.addSeparator=function(){this.appendChild(_o('\n            <div class="ag-menu-separator" aria-hidden="true">\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n            </div>'))},e.prototype.findTopMenu=function(){var t=this.getParentComponent();if(!t&&this instanceof e)return this;for(;;){var i=t&&t.getParentComponent&&t.getParentComponent();if(!i||!(i instanceof e||i instanceof Fd))break;t=i}return t instanceof e?t:void 0},e.prototype.handleNavKey=function(t){switch(t){case Uo.UP:case Uo.DOWN:var e=this.findNextItem(t===Uo.UP);return void(e&&e!==this.activeMenuItem&&e.activate())}t===(this.gridOptionsService.is("enableRtl")?Uo.RIGHT:Uo.LEFT)?this.closeIfIsChild():this.openChild()},e.prototype.closeIfIsChild=function(t){var e=this.getParentComponent();e&&e instanceof Fd&&(t&&t.preventDefault(),e.closeSubMenu(),e.getGui().focus())},e.prototype.openChild=function(){this.activeMenuItem&&this.activeMenuItem.openSubMenu(!0)},e.prototype.findNextItem=function(t){var e=this.menuItems.filter((function(t){return!t.isDisabled()}));if(e.length){if(!this.activeMenuItem)return t?ft(e):e[0];var i;t&&e.reverse();for(var o=!1,n=0;n<e.length;n++){var r=e[n];if(o){i=r;break}r===this.activeMenuItem&&(o=!0)}return i||this.activeMenuItem}},e.prototype.destroy=function(){this.clearActiveItem(),t.prototype.destroy.call(this)},Dd([K("focusService")],e.prototype,"focusService",void 0),Dd([H],e.prototype,"postConstruct",null),e}(Pd),Rd=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),Ld=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},Id=function(t){function e(e){var i=t.call(this)||this;return i.wrappedComponent=e,i.setTemplateFromElement(e.getGui()),i}return Rd(e,t),e.prototype.postConstruct=function(){var t=this;this.initialiseTabGuard({onTabKeyDown:function(e){return t.onTabKeyDown(e)},handleKeyDown:function(e){return t.handleKeyDown(e)}})},e.prototype.handleKeyDown=function(t){t.key===Uo.ESCAPE&&this.closePanel()},e.prototype.onTabKeyDown=function(t){t.defaultPrevented||(this.closePanel(),t.preventDefault())},e.prototype.closePanel=function(){var t=this.parentComponent;t.closeSubMenu(),setTimeout((function(){return t.getGui().focus()}),0)},Ld([H],e.prototype,"postConstruct",null),e}(Pd),Nd=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),kd=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},Fd=function(t){function e(e){var i=t.call(this)||this;return i.params=e,i.isActive=!1,i.subMenuIsOpen=!1,i.setTemplate('<div class="'+i.getClassName()+'" tabindex="-1" role="treeitem"></div>'),i}return Nd(e,t),e.prototype.init=function(){var t=this;this.addIcon(),this.addName(),this.addShortcut(),this.addSubMenu(),this.addTooltip();var e=this.getGui();this.params.disabled?(this.addCssClass(this.getClassName("disabled")),ei(e,!0)):(this.addGuiEventListener("click",(function(e){return t.onItemSelected(e)})),this.addGuiEventListener("keydown",(function(e){e.key!==Uo.ENTER&&e.key!==Uo.SPACE||(e.preventDefault(),t.onItemSelected(e))})),this.addGuiEventListener("mousedown",(function(t){t.stopPropagation(),t.preventDefault()})),this.addGuiEventListener("mouseenter",(function(){return t.onMouseEnter()})),this.addGuiEventListener("mouseleave",(function(){return t.onMouseLeave()}))),this.params.cssClasses&&this.params.cssClasses.forEach((function(e){return t.addCssClass(e)}))},e.prototype.isDisabled=function(){return!!this.params.disabled},e.prototype.openSubMenu=function(t){var i=this;if(void 0===t&&(t=!1),this.closeSubMenu(),this.params.subMenu){var o,n=_o('<div class="ag-menu" role="presentation"></div>');if(this.params.subMenu instanceof Array){var r=Ye(this.getGui()),s=isNaN(r)?1:r+1,a=this.createBean(new Ad(s));a.setParentComponent(this),a.addMenuItems(this.params.subMenu),n.appendChild(a.getGui()),this.addManagedListener(a,e.EVENT_MENU_ITEM_SELECTED,(function(t){return i.dispatchEvent(t)})),a.addGuiEventListener("mouseenter",(function(){return i.cancelDeactivate()})),o=function(){return i.destroyBean(a)},t&&setTimeout((function(){return a.activateFirstItem()}),0)}else{var l=this.params.subMenu,c=this.createBean(new Id(l));c.setParentComponent(this);var u=c.getGui(),h="mouseenter",d=function(){return i.cancelDeactivate()};u.addEventListener(h,d),o=function(){return u.removeEventListener(h,d)},n.appendChild(u),l.afterGuiAttached&&setTimeout((function(){return l.afterGuiAttached()}),0)}var p=this.getGui(),f=this.popupService.positionPopupForMenu.bind(this.popupService,{eventSource:p,ePopup:n}),g=this.localeService.getLocaleTextFunc(),m=this.popupService.addPopup({modal:!0,eChild:n,positionCallback:f,anchorToElement:p,ariaLabel:g("ariaLabelSubMenu","SubMenu")});this.subMenuIsOpen=!0,oi(p,!0),this.hideSubMenu=function(){m&&m.hideFunc(),i.subMenuIsOpen=!1,oi(p,!1),o()}}},e.prototype.closeSubMenu=function(){this.hideSubMenu&&(this.hideSubMenu(),this.hideSubMenu=null,oi(this.getGui(),!1))},e.prototype.isSubMenuOpen=function(){return this.subMenuIsOpen},e.prototype.activate=function(t){var e=this;this.cancelActivate(),this.params.disabled||(this.isActive=!0,this.addCssClass(this.getClassName("active")),this.getGui().focus(),t&&this.params.subMenu&&window.setTimeout((function(){e.isAlive()&&e.isActive&&e.openSubMenu()}),300),this.onItemActivated())},e.prototype.deactivate=function(){this.cancelDeactivate(),this.removeCssClass(this.getClassName("active")),this.isActive=!1,this.subMenuIsOpen&&this.hideSubMenu()},e.prototype.addIcon=function(){if(this.params.checked||this.params.icon||!this.params.isCompact){var t=_o('<span ref="eIcon" class="'+this.getClassName("part")+" "+this.getClassName("icon")+'" role="presentation"></span>');this.params.checked?t.appendChild(jo("check",this.gridOptionsService)):this.params.icon&&(Ro(this.params.icon)?t.appendChild(this.params.icon):"string"==typeof this.params.icon?t.innerHTML=this.params.icon:console.warn("AG Grid: menu item icon must be DOM node or string")),this.getGui().appendChild(t)}},e.prototype.addName=function(){if(this.params.name||!this.params.isCompact){var t=_o('<span ref="eName" class="'+this.getClassName("part")+" "+this.getClassName("text")+'">'+(this.params.name||"")+"</span>");this.getGui().appendChild(t)}},e.prototype.addTooltip=function(){this.params.tooltip&&(this.tooltip=this.params.tooltip,this.gridOptionsService.is("enableBrowserTooltips")?this.getGui().setAttribute("title",this.tooltip):this.createManagedBean(new un(this)))},e.prototype.getTooltipParams=function(){return{location:"menu",value:this.tooltip}},e.prototype.addShortcut=function(){if(this.params.shortcut||!this.params.isCompact){var t=_o('<span ref="eShortcut" class="'+this.getClassName("part")+" "+this.getClassName("shortcut")+'">'+(this.params.shortcut||"")+"</span>");this.getGui().appendChild(t)}},e.prototype.addSubMenu=function(){if(this.params.subMenu||!this.params.isCompact){var t=_o('<span ref="ePopupPointer" class="'+this.getClassName("part")+" "+this.getClassName("popup-pointer")+'"></span>'),e=this.getGui();if(this.params.subMenu){var i=this.gridOptionsService.is("enableRtl")?"smallLeft":"smallRight";oi(e,!1),t.appendChild(jo(i,this.gridOptionsService))}e.appendChild(t)}},e.prototype.onItemSelected=function(t){if(this.params.action?this.params.action():this.openSubMenu(t&&"keydown"===t.type),!this.params.subMenu||this.params.action){var i={type:e.EVENT_MENU_ITEM_SELECTED,action:this.params.action,checked:this.params.checked,cssClasses:this.params.cssClasses,disabled:this.params.disabled,icon:this.params.icon,name:this.params.name,shortcut:this.params.shortcut,subMenu:this.params.subMenu,tooltip:this.params.tooltip,event:t};this.dispatchEvent(i)}},e.prototype.onItemActivated=function(){var t={type:e.EVENT_MENU_ITEM_ACTIVATED,menuItem:this};this.dispatchEvent(t)},e.prototype.cancelActivate=function(){this.activateTimeoutId&&(window.clearTimeout(this.activateTimeoutId),this.activateTimeoutId=0)},e.prototype.cancelDeactivate=function(){this.deactivateTimeoutId&&(window.clearTimeout(this.deactivateTimeoutId),this.deactivateTimeoutId=0)},e.prototype.onMouseEnter=function(){var t=this;this.cancelDeactivate(),this.params.isAnotherSubMenuOpen()?this.activateTimeoutId=window.setTimeout((function(){return t.activate(!0)}),e.ACTIVATION_DELAY):this.activate(!0)},e.prototype.onMouseLeave=function(){var t=this;this.cancelActivate(),this.isSubMenuOpen()?this.deactivateTimeoutId=window.setTimeout((function(){return t.deactivate()}),e.ACTIVATION_DELAY):this.deactivate()},e.prototype.getClassName=function(t){var e=this.params.isCompact?"ag-compact-menu-option":"ag-menu-option";return t?e+"-"+t:e},e.EVENT_MENU_ITEM_SELECTED="menuItemSelected",e.EVENT_MENU_ITEM_ACTIVATED="menuItemActivated",e.ACTIVATION_DELAY=80,kd([K("popupService")],e.prototype,"popupService",void 0),kd([H],e.prototype,"init",null),e}(gn),Bd=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),Gd=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},jd=function(t){function e(i){var o=t.call(this,e.getTemplate(i))||this;return o.closable=!0,o.config=i,o}return Bd(e,t),e.getTemplate=function(t){var e=t&&t.cssIdentifier||"default";return'<div class="ag-panel ag-'+e+'-panel" tabindex="-1">\n            <div ref="eTitleBar" class="ag-panel-title-bar ag-'+e+'-panel-title-bar ag-unselectable">\n                <span ref="eTitle" class="ag-panel-title-bar-title ag-'+e+'-panel-title-bar-title"></span>\n                <div ref="eTitleBarButtons" class="ag-panel-title-bar-buttons ag-'+e+'-panel-title-bar-buttons"></div>\n            </div>\n            <div ref="eContentWrapper" class="ag-panel-content-wrapper ag-'+e+'-panel-content-wrapper"></div>\n        </div>'},e.prototype.postConstruct=function(){var t=this,e=this.config,i=e.component,o=e.closable,n=e.hideTitleBar,r=e.title,s=e.minWidth,a=void 0===s?250:s,l=e.width,c=e.minHeight,u=void 0===c?250:c,h=e.height,d=e.centered,p=e.popup,f=e.x,g=e.y;this.positionableFeature=new Ln(this.getGui(),{minWidth:a,width:l,minHeight:u,height:h,centered:d,x:f,y:g,popup:p,calculateTopBuffer:function(){return t.positionableFeature.getHeight()-t.getBodyHeight()}}),this.createManagedBean(this.positionableFeature);var m=this.getGui();i&&this.setBodyComponent(i),n?oo(this.eTitleBar,!1):(r&&this.setTitle(r),this.setClosable(null!=o?o:this.closable)),this.addManagedListener(this.eTitleBar,"mousedown",(function(e){var i=t.gridOptionsService.getDocument();if(m.contains(e.relatedTarget)||m.contains(i.activeElement)||t.eTitleBarButtons.contains(e.target))e.preventDefault();else{var o=t.eContentWrapper.querySelector("button, [href], input, select, textarea, [tabindex]");o&&o.focus()}})),p&&this.positionableFeature.isPositioned()||(this.renderComponent&&this.renderComponent(),this.positionableFeature.initialisePosition(),this.eContentWrapper.style.height="0")},e.prototype.renderComponent=function(){var t=this,e=this.getGui();e.focus(),this.close=function(){e.parentElement.removeChild(e),t.destroy()}},e.prototype.getHeight=function(){return this.positionableFeature.getHeight()},e.prototype.setHeight=function(t){this.positionableFeature.setHeight(t)},e.prototype.getWidth=function(){return this.positionableFeature.getWidth()},e.prototype.setWidth=function(t){this.positionableFeature.setWidth(t)},e.prototype.setClosable=function(t){if(t!==this.closable&&(this.closable=t),t){var i=this.closeButtonComp=new gn(e.CLOSE_BTN_TEMPLATE);this.getContext().createBean(i);var o=i.getGui(),n=jo("close",this.gridOptionsService);n.classList.add("ag-panel-title-bar-button-icon"),o.appendChild(n),this.addTitleBarButton(i),i.addManagedListener(o,"click",this.onBtClose.bind(this))}else if(this.closeButtonComp){(o=this.closeButtonComp.getGui()).parentElement.removeChild(o),this.closeButtonComp=this.destroyBean(this.closeButtonComp)}},e.prototype.setBodyComponent=function(t){t.setParentComponent(this),this.eContentWrapper.appendChild(t.getGui())},e.prototype.addTitleBarButton=function(t,e){var i=this.eTitleBarButtons,o=i.children,n=o.length;null==e&&(e=n),e=Math.max(0,Math.min(e,n)),t.addCssClass("ag-panel-title-bar-button");var r=t.getGui();0===e?i.insertAdjacentElement("afterbegin",r):e===n?i.insertAdjacentElement("beforeend",r):o[e-1].insertAdjacentElement("afterend",r),t.setParentComponent(this)},e.prototype.getBodyHeight=function(){return lo(this.eContentWrapper)},e.prototype.getBodyWidth=function(){return co(this.eContentWrapper)},e.prototype.setTitle=function(t){this.eTitle.innerText=t},e.prototype.onBtClose=function(){this.close()},e.prototype.destroy=function(){this.closeButtonComp&&(this.closeButtonComp=this.destroyBean(this.closeButtonComp));var e=this.getGui();e&&e.offsetParent&&this.close(),t.prototype.destroy.call(this)},e.CLOSE_BTN_TEMPLATE='<div class="ag-button"></div>',Gd([mn("eContentWrapper")],e.prototype,"eContentWrapper",void 0),Gd([mn("eTitleBar")],e.prototype,"eTitleBar",void 0),Gd([mn("eTitleBarButtons")],e.prototype,"eTitleBarButtons",void 0),Gd([mn("eTitle")],e.prototype,"eTitle",void 0),Gd([H],e.prototype,"postConstruct",null),e}(gn),Vd=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),Ud=function(){return Ud=Object.assign||function(t){for(var e,i=1,o=arguments.length;i<o;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},Ud.apply(this,arguments)},Wd=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},Hd=function(t){function e(e){var i=t.call(this,Ud(Ud({},e),{popup:!0}))||this;return i.isMaximizable=!1,i.isMaximized=!1,i.maximizeListeners=[],i.resizeListenerDestroy=null,i.lastPosition={x:0,y:0,width:0,height:0},i}return Vd(e,t),e.prototype.postConstruct=function(){var e=this,i=this.getGui(),o=this.config,n=o.movable,r=o.resizable,s=o.maximizable;this.addCssClass("ag-dialog"),t.prototype.postConstruct.call(this),this.addManagedListener(i,"focusin",(function(t){i.contains(t.relatedTarget)||e.popupService.bringPopupToFront(i)})),n&&this.setMovable(n),s&&this.setMaximizable(s),r&&this.setResizable(r)},e.prototype.renderComponent=function(){var t=this.getGui(),e=this.config,i=e.alwaysOnTop,o=e.modal,n=e.title,r=this.localeService.getLocaleTextFunc(),s=this.popupService.addPopup({modal:o,eChild:t,closeOnEsc:!0,closedCallback:this.destroy.bind(this),alwaysOnTop:i,ariaLabel:n||r("ariaLabelDialog","Dialog")});s&&(this.close=s.hideFunc)},e.prototype.toggleMaximize=function(){var t=this.positionableFeature.getPosition();if(this.isMaximized){var e=this.lastPosition,i=e.x,o=e.y,n=e.width,r=e.height;this.setWidth(n),this.setHeight(r),this.positionableFeature.offsetElement(i,o)}else this.lastPosition.width=this.getWidth(),this.lastPosition.height=this.getHeight(),this.lastPosition.x=t.x,this.lastPosition.y=t.y,this.positionableFeature.offsetElement(0,0),this.setHeight("100%"),this.setWidth("100%");this.isMaximized=!this.isMaximized,this.refreshMaximizeIcon()},e.prototype.refreshMaximizeIcon=function(){oo(this.maximizeIcon,!this.isMaximized),oo(this.minimizeIcon,this.isMaximized)},e.prototype.clearMaximizebleListeners=function(){this.maximizeListeners.length&&(this.maximizeListeners.forEach((function(t){return t()})),this.maximizeListeners.length=0),this.resizeListenerDestroy&&(this.resizeListenerDestroy(),this.resizeListenerDestroy=null)},e.prototype.destroy=function(){this.maximizeButtonComp=this.destroyBean(this.maximizeButtonComp),this.clearMaximizebleListeners(),t.prototype.destroy.call(this)},e.prototype.setResizable=function(t){this.positionableFeature.setResizable(t)},e.prototype.setMovable=function(t){this.positionableFeature.setMovable(t,this.eTitleBar)},e.prototype.setMaximizable=function(t){var e=this;if(!t)return this.clearMaximizebleListeners(),void(this.maximizeButtonComp&&(this.destroyBean(this.maximizeButtonComp),this.maximizeButtonComp=this.maximizeIcon=this.minimizeIcon=void 0));var i=this.eTitleBar;if(i&&t!==this.isMaximizable){var o=this.buildMaximizeAndMinimizeElements();this.refreshMaximizeIcon(),o.addManagedListener(o.getGui(),"click",this.toggleMaximize.bind(this)),this.addTitleBarButton(o,0),this.maximizeListeners.push(this.addManagedListener(i,"dblclick",this.toggleMaximize.bind(this))),this.resizeListenerDestroy=this.addManagedListener(this,"resize",(function(){e.isMaximized=!1,e.refreshMaximizeIcon()}))}},e.prototype.buildMaximizeAndMinimizeElements=function(){var t=this.maximizeButtonComp=this.createBean(new gn('<div class="ag-dialog-button"></span>')),e=t.getGui();return this.maximizeIcon=jo("maximize",this.gridOptionsService),e.appendChild(this.maximizeIcon),this.maximizeIcon.classList.add("ag-panel-title-bar-button-icon"),this.minimizeIcon=jo("minimize",this.gridOptionsService),e.appendChild(this.minimizeIcon),this.minimizeIcon.classList.add("ag-panel-title-bar-button-icon"),t},Wd([K("popupService")],e.prototype,"popupService",void 0),e}(jd),$d=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),zd=function(){return zd=Object.assign||function(t){for(var e,i=1,o=arguments.length;i<o;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},zd.apply(this,arguments)},Kd=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},Yd=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,n,r=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return s},Xd=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Yd(arguments[e]));return t},Zd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var i;return $d(e,t),i=e,e.addKeyboardModeEvents=function(t,e){var o=i.instancesMonitored.get(t);o&&o.length>0?-1===o.indexOf(e)&&o.push(e):(i.instancesMonitored.set(t,[e]),t.addEventListener("keydown",i.toggleKeyboardMode),t.addEventListener("mousedown",i.toggleKeyboardMode))},e.removeKeyboardModeEvents=function(t,e){var o=i.instancesMonitored.get(t),n=[];o&&o.length&&(n=Xd(o).filter((function(t){return t!==e})),i.instancesMonitored.set(t,n)),0===n.length&&(t.removeEventListener("keydown",i.toggleKeyboardMode),t.removeEventListener("mousedown",i.toggleKeyboardMode))},e.toggleKeyboardMode=function(t){var e=i.keyboardModeActive,o="keydown"===t.type;if(!(o&&(t.ctrlKey||t.metaKey||t.altKey)||e&&o||!e&&!o)){i.keyboardModeActive=o;var n=t.target.ownerDocument;if(n){var r=i.instancesMonitored.get(n);r&&r.forEach((function(t){t.dispatchEvent({type:o?zt.EVENT_KEYBOARD_FOCUS:zt.EVENT_MOUSE_FOCUS})}))}}},e.prototype.init=function(){var t=this,e=this.clearFocusedCell.bind(this);this.addManagedListener(this.eventService,zt.EVENT_COLUMN_PIVOT_MODE_CHANGED,e),this.addManagedListener(this.eventService,zt.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverythingChanged.bind(this)),this.addManagedListener(this.eventService,zt.EVENT_COLUMN_GROUP_OPENED,e),this.addManagedListener(this.eventService,zt.EVENT_COLUMN_ROW_GROUP_CHANGED,e),this.ctrlsService.whenReady((function(e){t.gridCtrl=e.gridCtrl;var o=t.gridOptionsService.getDocument();i.addKeyboardModeEvents(o,t.gridCtrl),t.addDestroyFunc((function(){return t.unregisterGridCompController(t.gridCtrl)}))}))},e.prototype.unregisterGridCompController=function(t){var e=this.gridOptionsService.getDocument();i.removeKeyboardModeEvents(e,t)},e.prototype.onColumnEverythingChanged=function(){if(this.focusedCellPosition){var t=this.focusedCellPosition.column,e=this.columnModel.getGridColumn(t.getId());t!==e&&this.clearFocusedCell()}},e.prototype.isKeyboardMode=function(){return i.keyboardModeActive},e.prototype.getFocusCellToUseAfterRefresh=function(){var t=this.gridOptionsService.getDocument();return this.gridOptionsService.is("suppressFocusAfterRefresh")||!this.focusedCellPosition||this.isDomDataMissingInHierarchy(t.activeElement,Ul.DOM_DATA_KEY_ROW_CTRL)?null:this.focusedCellPosition},e.prototype.getFocusHeaderToUseAfterRefresh=function(){var t=this.gridOptionsService.getDocument();return this.gridOptionsService.is("suppressFocusAfterRefresh")||!this.focusedHeaderPosition||this.isDomDataMissingInHierarchy(t.activeElement,gu.DOM_DATA_KEY_HEADER_CTRL)?null:this.focusedHeaderPosition},e.prototype.isDomDataMissingInHierarchy=function(t,e){for(var i=t;i;){if(this.gridOptionsService.getDomData(i,e))return!1;i=i.parentNode}return!0},e.prototype.getFocusedCell=function(){return this.focusedCellPosition},e.prototype.getFocusEventParams=function(){var t=this.focusedCellPosition,e=t.rowIndex,i=t.rowPinned,o={rowIndex:e,rowPinned:i,column:t.column,isFullWidthCell:!1},n=this.rowRenderer.getRowByPosition({rowIndex:e,rowPinned:i});return n&&(o.isFullWidthCell=n.isFullWidth()),o},e.prototype.clearFocusedCell=function(){if(null!=this.focusedCellPosition){var t=zd({type:zt.EVENT_CELL_FOCUS_CLEARED},this.getFocusEventParams());this.focusedCellPosition=null,this.eventService.dispatchEvent(t)}},e.prototype.setFocusedCell=function(t){var e=t.column,i=t.rowIndex,n=t.rowPinned,r=t.forceBrowserFocus,s=void 0!==r&&r,a=t.preventScrollOnBrowserFocus,l=void 0!==a&&a,c=this.columnModel.getGridColumn(e);if(c){this.focusedCellPosition=c?{rowIndex:i,rowPinned:o(n),column:c}:null;var u=zd(zd({type:zt.EVENT_CELL_FOCUSED},this.getFocusEventParams()),{forceBrowserFocus:s,preventScrollOnBrowserFocus:l,floating:null});this.eventService.dispatchEvent(u)}else this.focusedCellPosition=null},e.prototype.isCellFocused=function(t){return null!=this.focusedCellPosition&&(this.focusedCellPosition.column===t.column&&this.isRowFocused(t.rowIndex,t.rowPinned))},e.prototype.isRowNodeFocused=function(t){return this.isRowFocused(t.rowIndex,t.rowPinned)},e.prototype.isHeaderWrapperFocused=function(t){if(null==this.focusedHeaderPosition)return!1;var e=t.getColumnGroupChild(),i=t.getRowIndex(),o=t.getPinned(),n=this.focusedHeaderPosition,r=n.column,s=n.headerRowIndex;return e===r&&i===s&&o==r.getPinned()},e.prototype.clearFocusedHeader=function(){this.focusedHeaderPosition=null},e.prototype.getFocusedHeader=function(){return this.focusedHeaderPosition},e.prototype.setFocusedHeader=function(t,e){this.focusedHeaderPosition={headerRowIndex:t,column:e}},e.prototype.focusHeaderPosition=function(t){var e=t.direction,i=t.fromTab,o=t.allowUserOverride,n=t.event,r=t.headerPosition;if(o){var s,a=this.getFocusedHeader(),l=this.headerNavigationService.getHeaderRowCount();if(i){if(s=this.gridOptionsService.getCallback("tabToNextHeader"))r=s({backwards:"Before"===e,previousHeaderPosition:a,nextHeaderPosition:r,headerRowCount:l})}else if((s=this.gridOptionsService.getCallback("navigateToNextHeader"))&&n)r=s({key:n.key,previousHeaderPosition:a,nextHeaderPosition:r,headerRowCount:l,event:n})}return!!r&&(-1===r.headerRowIndex?this.focusGridView(r.column):(this.headerNavigationService.scrollToColumn(r.column,e),this.ctrlsService.getHeaderRowContainerCtrl(r.column.getPinned()).focusHeader(r.headerRowIndex,r.column,n)))},e.prototype.focusFirstHeader=function(){var t=this.columnModel.getAllDisplayedColumns()[0];return!!t&&(t.getParent()&&(t=this.columnModel.getColumnGroupAtLevel(t,0)),this.focusHeaderPosition({headerPosition:{headerRowIndex:0,column:t}}))},e.prototype.focusLastHeader=function(t){var e=this.headerNavigationService.getHeaderRowCount()-1,i=ft(this.columnModel.getAllDisplayedColumns());return this.focusHeaderPosition({headerPosition:{headerRowIndex:e,column:i},event:t})},e.prototype.isAnyCellFocused=function(){return!!this.focusedCellPosition},e.prototype.isRowFocused=function(t,e){return null!=this.focusedCellPosition&&(this.focusedCellPosition.rowIndex===t&&this.focusedCellPosition.rowPinned===o(e))},e.prototype.findFocusableElements=function(t,e,i){void 0===i&&(i=!1);var o=to,n=eo;e&&(n+=", "+e),i&&(n+=', [tabindex="-1"]');var r=Array.prototype.slice.apply(t.querySelectorAll(o)),s=Array.prototype.slice.apply(t.querySelectorAll(n));if(!s.length)return r;var a;return a=s,r.filter((function(t){return-1===a.indexOf(t)}))},e.prototype.focusInto=function(t,e,i){void 0===e&&(e=!1),void 0===i&&(i=!1);var o=this.findFocusableElements(t,null,i),n=e?ft(o):o[0];return!!n&&(n.focus({preventScroll:!0}),!0)},e.prototype.findFocusableElementBeforeTabGuard=function(t,e){if(!e)return null;var i=this.findFocusableElements(t),o=i.indexOf(e);if(-1===o)return null;for(var n=-1,r=o-1;r>=0;r--)if(i[r].classList.contains(Yh.TAB_GUARD_TOP)){n=r;break}return n<=0?null:i[n-1]},e.prototype.findNextFocusableElement=function(t,e,i){void 0===t&&(t=this.eGridDiv);var o=this.findFocusableElements(t,e?':not([tabindex="-1"])':null),n=this.gridOptionsService.getDocument().activeElement,r=(e?o.findIndex((function(t){return t.contains(n)})):o.indexOf(n))+(i?-1:1);return r<0||r>=o.length?null:o[r]},e.prototype.isTargetUnderManagedComponent=function(t,e){if(!e)return!1;var i=t.querySelectorAll("."+Tn.FOCUS_MANAGED_CLASS);if(!i.length)return!1;for(var o=0;o<i.length;o++)if(i[o].contains(e))return!0;return!1},e.prototype.findTabbableParent=function(t,e){void 0===e&&(e=5);for(var i=0;t&&null===Li(t)&&++i<=e;)t=t.parentElement;return null===Li(t)?null:t},e.prototype.focusGridView=function(t,e){if(this.gridOptionsService.is("suppressCellFocus"))return e?this.focusLastHeader():this.focusNextGridCoreContainer(!1);var i=e?this.rowPositionUtils.getLastRow():this.rowPositionUtils.getFirstRow();if(!i)return!1;var n=i.rowIndex,r=i.rowPinned,s=this.getFocusedHeader();if(!t&&s&&(t=s.column),null==n||!t)return!1;if(this.navigationService.ensureCellVisible({rowIndex:n,column:t,rowPinned:r}),this.setFocusedCell({rowIndex:n,column:t,rowPinned:o(r),forceBrowserFocus:!0}),this.rangeService){var a={rowIndex:n,rowPinned:r,column:t};this.rangeService.setRangeToCell(a)}return!0},e.prototype.focusNextGridCoreContainer=function(t,e){return void 0===e&&(e=!1),!(e||!this.gridCtrl.focusNextInnerContainer(t))||((e||!t&&!this.gridCtrl.isDetailGrid())&&this.gridCtrl.forceFocusOutOfContainer(t),!1)},e.AG_KEYBOARD_FOCUS="ag-keyboard-focus",e.keyboardModeActive=!1,e.instancesMonitored=new Map,Kd([K("eGridDiv")],e.prototype,"eGridDiv",void 0),Kd([K("columnModel")],e.prototype,"columnModel",void 0),Kd([K("headerNavigationService")],e.prototype,"headerNavigationService",void 0),Kd([K("rowRenderer")],e.prototype,"rowRenderer",void 0),Kd([K("rowPositionUtils")],e.prototype,"rowPositionUtils",void 0),Kd([Y("rangeService")],e.prototype,"rangeService",void 0),Kd([K("navigationService")],e.prototype,"navigationService",void 0),Kd([K("ctrlsService")],e.prototype,"ctrlsService",void 0),Kd([H],e.prototype,"init",null),e=i=Kd([z("focusService")],e)}(jt),qd=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),Jd=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},Qd=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,n,r=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return s},tp=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Qd(arguments[e]));return t};!function(t){t[t.vertical=0]="vertical",t[t.horizontal=1]="horizontal"}(Ed||(Ed={}));var ep,ip=0,op=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.popupList=[],e}var i;return qd(e,t),i=e,e.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady((function(e){t.gridCtrl=e.gridCtrl,t.addManagedListener(t.gridCtrl,zt.EVENT_KEYBOARD_FOCUS,(function(){t.popupList.forEach((function(t){return t.element.classList.add(Zd.AG_KEYBOARD_FOCUS)}))})),t.addManagedListener(t.gridCtrl,zt.EVENT_MOUSE_FOCUS,(function(){t.popupList.forEach((function(t){return t.element.classList.remove(Zd.AG_KEYBOARD_FOCUS)}))}))}))},e.prototype.getPopupParent=function(){var t=this.gridOptionsService.get("popupParent");return t||this.gridCtrl.getGui()},e.prototype.positionPopupForMenu=function(t){var e=t.eventSource.getBoundingClientRect(),i=this.getParentRect(),o=this.keepXYWithinBounds(t.ePopup,e.top-i.top,Ed.vertical),n=t.ePopup.clientWidth>0?t.ePopup.clientWidth:200;t.ePopup.style.minWidth=n+"px";var r,s=i.right-i.left-n;function a(){return e.right-i.left-2}function l(){return e.left-i.left-n}this.gridOptionsService.is("enableRtl")?((r=l())<0&&(r=a()),r>s&&(r=0)):((r=a())>s&&(r=l()),r<0&&(r=0)),t.ePopup.style.left=r+"px",t.ePopup.style.top=o+"px"},e.prototype.positionPopupUnderMouseEvent=function(t){var e=this,i=t.ePopup,o=t.nudgeX,n=t.nudgeY,r=t.skipObserver;this.positionPopup({ePopup:i,nudgeX:o,nudgeY:n,keepWithinBounds:!0,skipObserver:r,updatePosition:function(){return e.calculatePointerAlign(t.mouseEvent)},postProcessCallback:function(){return e.callPostProcessPopup(t.type,t.ePopup,null,t.mouseEvent,t.column,t.rowNode)}})},e.prototype.calculatePointerAlign=function(t){var e=this.getParentRect();return{x:t.clientX-e.left,y:t.clientY-e.top}},e.prototype.positionPopupByComponent=function(t){var e=this,i=t.eventSource.getBoundingClientRect(),o=t.alignSide||"left",n=t.position||"over",r=this.getParentRect();this.positionPopup({ePopup:t.ePopup,nudgeX:t.nudgeX,nudgeY:t.nudgeY,keepWithinBounds:t.keepWithinBounds,updatePosition:function(){var e=i.left-r.left;return"right"===o&&(e-=t.ePopup.offsetWidth-i.width),{x:e,y:"over"===n?i.top-r.top:i.top-r.top+i.height}},postProcessCallback:function(){return e.callPostProcessPopup(t.type,t.ePopup,t.eventSource,null,t.column,t.rowNode)}})},e.prototype.callPostProcessPopup=function(t,e,i,o,n,r){var s=this.gridOptionsService.getCallback("postProcessPopup");s&&s({column:n,rowNode:r,ePopup:e,type:t,eventSource:i,mouseEvent:o})},e.prototype.positionPopup=function(t){var e=this,o=t.ePopup,n=t.keepWithinBounds,r=t.nudgeX,s=t.nudgeY,a=t.skipObserver,l=t.updatePosition,c={width:0,height:0},u=function(i){void 0===i&&(i=!1);var a=l(),u=a.x,h=a.y;i&&o.clientWidth===c.width&&o.clientHeight===c.height||(c.width=o.clientWidth,c.height=o.clientHeight,r&&(u+=r),s&&(h+=s),n&&(u=e.keepXYWithinBounds(o,u,Ed.horizontal),h=e.keepXYWithinBounds(o,h,Ed.vertical)),o.style.left=u+"px",o.style.top=h+"px",t.postProcessCallback&&t.postProcessCallback())};if(u(),!a){var h=this.resizeObserverService.observeResize(o,(function(){return u(!0)}));setTimeout((function(){return h()}),i.WAIT_FOR_POPUP_CONTENT_RESIZE)}},e.prototype.getActivePopups=function(){return this.popupList.map((function(t){return t.element}))},e.prototype.getPopupList=function(){return this.popupList},e.prototype.getParentRect=function(){var t=this.gridOptionsService.getDocument(),e=this.getPopupParent();e===t.body?e=t.documentElement:"static"===getComputedStyle(e).position&&(e=e.offsetParent);var i=getComputedStyle(e),o=e.getBoundingClientRect();return{top:o.top+parseFloat(i.borderTopWidth)||0,left:o.left+parseFloat(i.borderLeftWidth)||0,right:o.right+parseFloat(i.borderRightWidth)||0,bottom:o.bottom+parseFloat(i.borderBottomWidth)||0}},e.prototype.keepXYWithinBounds=function(t,e,i){var o=i===Ed.vertical,n=o?"clientHeight":"clientWidth",r=o?"top":"left",s=o?"offsetHeight":"offsetWidth",a=o?"scrollTop":"scrollLeft",l=this.gridOptionsService.getDocument(),c=l.documentElement,u=this.getPopupParent(),h=u.getBoundingClientRect(),d=l.documentElement.getBoundingClientRect(),p=u===l.body,f=t[s],g=p?(o?uo:ho)(c)+c[a]:u[n];p&&(g-=Math.abs(d[r]-h[r]));var m=g-f;return Math.min(Math.max(e,0),Math.abs(m))},e.prototype.keepPopupPositionedRelativeTo=function(t){var e=this,i=this.getPopupParent(),o=i.getBoundingClientRect(),n=t.element.getBoundingClientRect(),r=o.top-n.top,s=o.left-n.left,a=r,l=s,c=t.ePopup.style.top,u=parseInt(c.substring(0,c.length-1),10),h=t.ePopup.style.left,d=parseInt(h.substring(0,h.length-1),10);return new sn((function(o){e.getFrameworkOverrides().setInterval((function(){var o=i.getBoundingClientRect(),n=t.element.getBoundingClientRect();if(0==n.top&&0==n.left&&0==n.height&&0==n.width)t.hidePopup();else{var c=o.top-n.top;if(c!=a){var h=e.keepXYWithinBounds(t.ePopup,u+r-c,Ed.vertical);t.ePopup.style.top=h+"px"}a=c;var p=o.left-n.left;if(p!=l){var f=e.keepXYWithinBounds(t.ePopup,d+s-p,Ed.horizontal);t.ePopup.style.left=f+"px"}l=p}}),200).then((function(t){o((function(){null!=t&&window.clearInterval(t)}))}))}))},e.prototype.addPopup=function(t){var e,i=this,o=t.modal,n=t.eChild,r=t.closeOnEsc,s=t.closedCallback,a=t.click,l=t.alwaysOnTop,c=t.afterGuiAttached,u=t.positionCallback,h=t.anchorToElement,d=t.ariaLabel,p=this.gridOptionsService.getDocument(),f=new sn((function(t){return t((function(){}))}));if(!p)return console.warn("AG Grid: could not find the document, document is empty"),{hideFunc:function(){},stopAnchoringPromise:f};var g=this.popupList.findIndex((function(t){return t.element===n}));if(-1!==g){var m=this.popupList[g];return{hideFunc:m.hideFunc,stopAnchoringPromise:m.stopAnchoringPromise}}var y=this.getPopupParent();null==n.style.top&&(n.style.top="0px"),null==n.style.left&&(n.style.left="0px");var v=document.createElement("div"),_=this.environment.getTheme().allThemes;_.length&&(e=v.classList).add.apply(e,tp(_)),v.classList.add("ag-popup"),n.classList.add(this.gridOptionsService.is("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child"),n.hasAttribute("role")||ze(n,"dialog"),Ze(n,d),this.focusService.isKeyboardMode()&&n.classList.add(Zd.AG_KEYBOARD_FOCUS),v.appendChild(n),y.appendChild(v),l?this.setAlwaysOnTop(v,!0):this.bringPopupToFront(v);var C=!1,b=function(t){v.contains(p.activeElement)&&(t.key===Uo.ESCAPE&&w({keyboardEvent:t}))},E=function(t){return w({mouseEvent:t})},S=function(t){return w({touchEvent:t})},w=function(t){void 0===t&&(t={});var e=t.mouseEvent,o=t.touchEvent,r=t.keyboardEvent;i.isEventFromCurrentPopup({mouseEvent:e,touchEvent:o},n)||i.isEventSameChainAsOriginalEvent({originalMouseEvent:a,mouseEvent:e,touchEvent:o})||C||(C=!0,y.removeChild(v),p.removeEventListener("keydown",b),p.removeEventListener("mousedown",E),p.removeEventListener("touchstart",S),p.removeEventListener("contextmenu",E),i.eventService.removeEventListener(zt.EVENT_DRAG_STARTED,E),s&&s(e||o||r),i.popupList=i.popupList.filter((function(t){return t.element!==n})),f&&f.then((function(t){return t&&t()})))};return c&&c({hidePopup:w}),window.setTimeout((function(){r&&p.addEventListener("keydown",b),o&&(p.addEventListener("mousedown",E),i.eventService.addEventListener(zt.EVENT_DRAG_STARTED,E),p.addEventListener("touchstart",S),p.addEventListener("contextmenu",E))}),0),u&&u(),h&&(f=this.keepPopupPositionedRelativeTo({element:h,ePopup:n,hidePopup:w})),this.popupList.push({element:n,wrapper:v,hideFunc:w,stopAnchoringPromise:f,instanceId:ip++,isAnchored:!!h}),{hideFunc:w,stopAnchoringPromise:f}},e.prototype.hasAnchoredPopup=function(){return this.popupList.some((function(t){return t.isAnchored}))},e.prototype.isEventFromCurrentPopup=function(t,e){var i=t.mouseEvent,o=t.touchEvent,n=i||o;if(!n)return!1;var r=this.popupList.findIndex((function(t){return t.element===e}));if(-1===r)return!1;for(var s=r;s<this.popupList.length;s++){if(Lt(this.popupList[s].element,n))return!0}return this.isElementWithinCustomPopup(n.target)},e.prototype.isElementWithinCustomPopup=function(t){for(var e=this.gridOptionsService.getDocument();t&&t!==e.body;){if(t.classList.contains("ag-custom-component-popup")||null===t.parentElement)return!0;t=t.parentElement}return!1},e.prototype.isEventSameChainAsOriginalEvent=function(t){var e=t.originalMouseEvent,i=t.mouseEvent,o=t.touchEvent,n=null;if(i?n=i:o&&(n=o.touches[0]),n&&e){var r=i?i.screenX:0,s=i?i.screenY:0,a=Math.abs(e.screenX-r)<5,l=Math.abs(e.screenY-s)<5;if(a&&l)return!0}return!1},e.prototype.getWrapper=function(t){for(;!t.classList.contains("ag-popup")&&t.parentElement;)t=t.parentElement;return t.classList.contains("ag-popup")?t:null},e.prototype.setAlwaysOnTop=function(t,e){var i=this.getWrapper(t);i&&(i.classList.toggle("ag-always-on-top",!!e),e&&this.bringPopupToFront(i))},e.prototype.bringPopupToFront=function(t){var e=this.getPopupParent(),i=Array.prototype.slice.call(e.querySelectorAll(".ag-popup")),o=i.length,n=Array.prototype.slice.call(e.querySelectorAll(".ag-popup.ag-always-on-top")),r=n.length,s=this.getWrapper(t);if(s&&!(o<=1)&&e.contains(t)){var a=i.indexOf(s),l=s.querySelectorAll("div"),c=[];if(l.forEach((function(t){0!==t.scrollTop&&c.push([t,t.scrollTop])})),r)s.classList.contains("ag-always-on-top")?a!==o-1&&ft(n).insertAdjacentElement("afterend",s):a!==o-r-1&&n[0].insertAdjacentElement("beforebegin",s);else a!==o-1&&ft(i).insertAdjacentElement("afterend",s);for(;c.length;){var u=c.pop();u[0].scrollTop=u[1]}var h={type:"popupToFront",api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,eWrapper:s};this.eventService.dispatchEvent(h)}},e.WAIT_FOR_POPUP_CONTENT_RESIZE=200,Jd([K("focusService")],e.prototype,"focusService",void 0),Jd([K("ctrlsService")],e.prototype,"ctrlsService",void 0),Jd([K("resizeObserverService")],e.prototype,"resizeObserverService",void 0),Jd([H],e.prototype,"postConstruct",null),e=i=Jd([z("popupService")],e)}(jt),np=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),rp=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},sp=function(t){function e(i,o,n){void 0===i&&(i="default"),void 0===o&&(o="listbox");var r=t.call(this,e.getTemplate(i))||this;return r.cssIdentifier=i,r.ariaRole=o,r.listName=n,r.renderedRows=new Map,r.rowHeight=20,r}return np(e,t),e.prototype.postConstruct=function(){var t=this;this.addScrollListener(),this.rowHeight=this.getItemHeight(),this.addResizeObserver(),this.initialiseTabGuard({onFocusIn:function(e){return t.onFocusIn(e)},onFocusOut:function(e){return t.onFocusOut(e)},focusInnerElement:function(e){return t.focusInnerElement(e)},onTabKeyDown:function(e){return t.onTabKeyDown(e)},handleKeyDown:function(e){return t.handleKeyDown(e)}}),this.setAriaProperties(),this.addManagedListener(this.eventService,zt.EVENT_GRID_STYLES_CHANGED,this.onGridStylesChanged.bind(this))},e.prototype.onGridStylesChanged=function(){this.rowHeight=this.getItemHeight(),this.refresh()},e.prototype.setAriaProperties=function(){var t=this.localeService.getLocaleTextFunc()("ariaDefaultListName",this.listName||"List"),e=this.eContainer;ze(e,this.ariaRole),Ze(e,t)},e.prototype.addResizeObserver=function(){var t=this,e=this.resizeObserverService.observeResize(this.getGui(),(function(){return t.drawVirtualRows()}));this.addDestroyFunc(e)},e.prototype.focusInnerElement=function(t){this.focusRow(t?this.model.getRowCount()-1:0)},e.prototype.onFocusIn=function(t){var e=t.target;return e.classList.contains("ag-virtual-list-item")&&(this.lastFocusedRowIndex=Xe(e)-1),!1},e.prototype.onFocusOut=function(t){return this.getFocusableElement().contains(t.relatedTarget)||(this.lastFocusedRowIndex=null),!1},e.prototype.handleKeyDown=function(t){switch(t.key){case Uo.UP:case Uo.DOWN:this.navigate(t.key===Uo.UP)&&t.preventDefault()}},e.prototype.onTabKeyDown=function(t){this.navigate(t.shiftKey)?t.preventDefault():this.forceFocusOutOfContainer(t.shiftKey)},e.prototype.navigate=function(t){if(null==this.lastFocusedRowIndex)return!1;var e=this.lastFocusedRowIndex+(t?-1:1);return!(e<0||e>=this.model.getRowCount())&&(this.focusRow(e),!0)},e.prototype.getLastFocusedRow=function(){return this.lastFocusedRowIndex},e.prototype.focusRow=function(t){var e=this;this.ensureIndexVisible(t),window.setTimeout((function(){if(e.isAlive()){var i=e.renderedRows.get(t);i&&i.eDiv.focus()}}),10)},e.prototype.getComponentAt=function(t){var e=this.renderedRows.get(t);return e&&e.rowComponent},e.prototype.forEachRenderedRow=function(t){this.renderedRows.forEach((function(e,i){return t(e.rowComponent,i)}))},e.getTemplate=function(t){return'\n            <div class="ag-virtual-list-viewport ag-'+t+'-virtual-list-viewport" role="presentation">\n                <div class="ag-virtual-list-container ag-'+t+'-virtual-list-container" ref="eContainer"></div>\n            </div>'},e.prototype.getItemHeight=function(){return this.environment.getListItemHeight()},e.prototype.ensureIndexVisible=function(t){var e=this.model.getRowCount();if("number"!=typeof t||t<0||t>=e)console.warn("AG Grid: invalid row index for ensureIndexVisible: "+t);else{var i=t*this.rowHeight,o=i+this.rowHeight,n=this.getGui(),r=n.scrollTop,s=n.offsetHeight,a=r+s<o;if(r>i)n.scrollTop=i;else if(a){var l=o-s;n.scrollTop=l}}},e.prototype.setComponentCreator=function(t){this.componentCreator=t},e.prototype.setComponentUpdater=function(t){this.componentUpdater=t},e.prototype.getRowHeight=function(){return this.rowHeight},e.prototype.getScrollTop=function(){return this.getGui().scrollTop},e.prototype.setRowHeight=function(t){this.rowHeight=t,this.refresh()},e.prototype.refresh=function(t){var e=this;if(null!=this.model&&this.isAlive()){var i=this.model.getRowCount();this.eContainer.style.height=i*this.rowHeight+"px",F((function(){return e.eContainer.clientHeight>=i*e.rowHeight}),(function(){e.isAlive()&&(e.canSoftRefresh(t)?e.drawVirtualRows(!0):(e.clearVirtualRows(),e.drawVirtualRows()))}))}},e.prototype.canSoftRefresh=function(t){return!!(t&&this.renderedRows.size&&"function"==typeof this.model.areRowsEqual&&this.componentUpdater)},e.prototype.clearVirtualRows=function(){var t=this;this.renderedRows.forEach((function(e,i){return t.removeRow(i)}))},e.prototype.drawVirtualRows=function(t){if(this.isAlive()){var e=this.getGui(),i=e.scrollTop,o=i+e.offsetHeight,n=Math.floor(i/this.rowHeight),r=Math.floor(o/this.rowHeight);this.ensureRowsRendered(n,r,t)}},e.prototype.ensureRowsRendered=function(t,e,i){var o=this;this.renderedRows.forEach((function(i,n){(n<t||n>e)&&n!==o.lastFocusedRowIndex&&o.removeRow(n)})),i&&this.refreshRows();for(var n=t;n<=e;n++)this.renderedRows.has(n)||n<this.model.getRowCount()&&this.insertRow(n)},e.prototype.insertRow=function(t){var e=this,i=this.model.getRow(t),o=document.createElement("div");if(o.classList.add("ag-virtual-list-item","ag-"+this.cssIdentifier+"-virtual-list-item"),ze(o,"tree"===this.ariaRole?"treeitem":"option"),ri(o,this.model.getRowCount()),si(o,t+1),o.setAttribute("tabindex","-1"),"function"==typeof this.model.isRowSelected){var n=this.model.isRowSelected(t);gi(o,!!n),mi(o,n)}o.style.height=this.rowHeight+"px",o.style.top=this.rowHeight*t+"px";var r=this.componentCreator(i,o);r.addGuiEventListener("focusin",(function(){return e.lastFocusedRowIndex=t})),o.appendChild(r.getGui()),this.renderedRows.has(t-1)?this.renderedRows.get(t-1).eDiv.insertAdjacentElement("afterend",o):this.renderedRows.has(t+1)?this.renderedRows.get(t+1).eDiv.insertAdjacentElement("beforebegin",o):this.eContainer.appendChild(o),this.renderedRows.set(t,{rowComponent:r,eDiv:o,value:i})},e.prototype.removeRow=function(t){var e=this.renderedRows.get(t);this.eContainer.removeChild(e.eDiv),this.destroyBean(e.rowComponent),this.renderedRows.delete(t)},e.prototype.refreshRows=function(){var t=this,e=this.model.getRowCount();this.renderedRows.forEach((function(i,o){var n,r;if(o>=e)t.removeRow(o);else{var s=t.model.getRow(o);(null===(r=(n=t.model).areRowsEqual)||void 0===r?void 0:r.call(n,i.value,s))?t.componentUpdater(s,i.rowComponent):t.removeRow(o)}}))},e.prototype.addScrollListener=function(){var t=this;this.addGuiEventListener("scroll",(function(){return t.drawVirtualRows()}),{passive:!0})},e.prototype.setModel=function(t){this.model=t},e.prototype.destroy=function(){this.isAlive()&&(this.clearVirtualRows(),t.prototype.destroy.call(this))},rp([K("resizeObserverService")],e.prototype,"resizeObserverService",void 0),rp([mn("eContainer")],e.prototype,"eContainer",void 0),rp([H],e.prototype,"postConstruct",null),e}(Pd),ap=["mouseover","mouseout","mouseenter","mouseleave"],lp=["touchstart","touchend","touchmove","touchcancel"],cp=function(){function t(){this.isOutsideAngular=function(t){return bt(ap,t)}}return t.prototype.setTimeout=function(t,e){window.setTimeout(t,e)},t.prototype.setInterval=function(t,e){return new sn((function(i){i(window.setInterval(t,e))}))},t.prototype.addEventListener=function(t,e,i,o){var n=bt(lp,e);t.addEventListener(e,i,{capture:!!o,passive:n})},t.prototype.dispatchEvent=function(t,e,i){e()},t.prototype.frameworkComponent=function(t){return null},t.prototype.isFrameworkComponent=function(t){return!1},t}(),up=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),hp=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},dp=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,n,r=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return s},pp=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(dp(arguments[e]));return t},fp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return up(e,t),e.prototype.getNextCellToFocus=function(t,e,i){return void 0===i&&(i=!1),i?this.getNextCellToFocusWithCtrlPressed(t,e):this.getNextCellToFocusWithoutCtrlPressed(t,e)},e.prototype.getNextCellToFocusWithCtrlPressed=function(t,e){var i,o,n=t===Uo.UP,r=t===Uo.DOWN,s=t===Uo.LEFT;if(n||r)o=n?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow(),i=e.column;else{var a=this.columnModel.getAllDisplayedColumns(),l=this.gridOptionsService.is("enableRtl");o=e.rowIndex,i=s!==l?a[0]:ft(a)}return{rowIndex:o,rowPinned:null,column:i}},e.prototype.getNextCellToFocusWithoutCtrlPressed=function(t,e){for(var i=e,o=!1;!o;){switch(t){case Uo.UP:i=this.getCellAbove(i);break;case Uo.DOWN:i=this.getCellBelow(i);break;case Uo.RIGHT:i=this.gridOptionsService.is("enableRtl")?this.getCellToLeft(i):this.getCellToRight(i);break;case Uo.LEFT:i=this.gridOptionsService.is("enableRtl")?this.getCellToRight(i):this.getCellToLeft(i);break;default:i=null,console.warn("AG Grid: unknown key for navigation "+t)}o=!i||this.isCellGoodToFocusOn(i)}return i},e.prototype.isCellGoodToFocusOn=function(t){var e,i=t.column;switch(t.rowPinned){case"top":e=this.pinnedRowModel.getPinnedTopRow(t.rowIndex);break;case"bottom":e=this.pinnedRowModel.getPinnedBottomRow(t.rowIndex);break;default:e=this.rowModel.getRow(t.rowIndex)}return!!e&&!i.isSuppressNavigable(e)},e.prototype.getCellToLeft=function(t){if(!t)return null;var e=this.columnModel.getDisplayedColBefore(t.column);return e?{rowIndex:t.rowIndex,column:e,rowPinned:t.rowPinned}:null},e.prototype.getCellToRight=function(t){if(!t)return null;var e=this.columnModel.getDisplayedColAfter(t.column);return e?{rowIndex:t.rowIndex,column:e,rowPinned:t.rowPinned}:null},e.prototype.getRowBelow=function(t){var e=t.rowIndex,i=t.rowPinned;if(this.isLastRowInContainer(t))switch(i){case"bottom":return null;case"top":return this.rowModel.isRowsToRender()?{rowIndex:this.paginationProxy.getPageFirstRow(),rowPinned:null}:this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;default:return this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null}var o=this.rowModel.getRow(t.rowIndex),n=this.getNextStickyPosition(o);return n||{rowIndex:e+1,rowPinned:i}},e.prototype.getNextStickyPosition=function(t,e){if(this.gridOptionsService.is("groupRowsSticky")&&t&&t.sticky){var i=pp(this.rowRenderer.getStickyTopRowCtrls()).sort((function(t,e){return t.getRowNode().rowIndex-e.getRowNode().rowIndex})),o=e?-1:1,n=i.findIndex((function(e){return e.getRowNode().rowIndex===t.rowIndex})),r=i[n+o];return r?{rowIndex:r.getRowNode().rowIndex,rowPinned:null}:void 0}},e.prototype.getCellBelow=function(t){if(!t)return null;var e=this.getRowBelow(t);return e?{rowIndex:e.rowIndex,column:t.column,rowPinned:e.rowPinned}:null},e.prototype.isLastRowInContainer=function(t){var e=t.rowPinned,i=t.rowIndex;return"top"===e?this.pinnedRowModel.getPinnedTopRowData().length-1<=i:"bottom"===e?this.pinnedRowModel.getPinnedBottomRowData().length-1<=i:this.paginationProxy.getPageLastRow()<=i},e.prototype.getRowAbove=function(t){var e=t.rowIndex,i=t.rowPinned;if(i?0===e:e===this.paginationProxy.getPageFirstRow())return"top"===i?null:i&&this.rowModel.isRowsToRender()?this.getLastBodyCell():this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null;var o=this.rowModel.getRow(t.rowIndex),n=this.getNextStickyPosition(o,!0);return n||{rowIndex:e-1,rowPinned:i}},e.prototype.getCellAbove=function(t){if(!t)return null;var e=this.getRowAbove({rowIndex:t.rowIndex,rowPinned:t.rowPinned});return e?{rowIndex:e.rowIndex,column:t.column,rowPinned:e.rowPinned}:null},e.prototype.getLastBodyCell=function(){return{rowIndex:this.paginationProxy.getPageLastRow(),rowPinned:null}},e.prototype.getLastFloatingTopRow=function(){return{rowIndex:this.pinnedRowModel.getPinnedTopRowData().length-1,rowPinned:"top"}},e.prototype.getNextTabbedCell=function(t,e){return e?this.getNextTabbedCellBackwards(t):this.getNextTabbedCellForwards(t)},e.prototype.getNextTabbedCellForwards=function(t){var e=this.columnModel.getAllDisplayedColumns(),i=t.rowIndex,o=t.rowPinned,n=this.columnModel.getDisplayedColAfter(t.column);if(!n){n=e[0];var s=this.getRowBelow(t);if(r(s))return null;if(!s.rowPinned&&!this.paginationProxy.isRowInPage(s))return null;i=s?s.rowIndex:null,o=s?s.rowPinned:null}return{rowIndex:i,column:n,rowPinned:o}},e.prototype.getNextTabbedCellBackwards=function(t){var e=this.columnModel.getAllDisplayedColumns(),i=t.rowIndex,o=t.rowPinned,n=this.columnModel.getDisplayedColBefore(t.column);if(!n){n=ft(e);var s=this.getRowAbove({rowIndex:t.rowIndex,rowPinned:t.rowPinned});if(r(s))return null;if(!s.rowPinned&&!this.paginationProxy.isRowInPage(s))return null;i=s?s.rowIndex:null,o=s?s.rowPinned:null}return{rowIndex:i,column:n,rowPinned:o}},hp([K("columnModel")],e.prototype,"columnModel",void 0),hp([K("rowModel")],e.prototype,"rowModel",void 0),hp([K("rowRenderer")],e.prototype,"rowRenderer",void 0),hp([K("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),hp([K("paginationProxy")],e.prototype,"paginationProxy",void 0),e=hp([z("cellNavigationService")],e)}(jt),gp=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),mp=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},yp=function(t,e){return function(i,o){e(i,o,t)}},vp=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.consuming=!1,e}return gp(e,t),e.prototype.setBeans=function(t){this.logger=t.create("AlignedGridsService")},e.prototype.init=function(){this.addManagedListener(this.eventService,zt.EVENT_COLUMN_MOVED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,zt.EVENT_COLUMN_VISIBLE,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,zt.EVENT_COLUMN_PINNED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,zt.EVENT_COLUMN_GROUP_OPENED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,zt.EVENT_COLUMN_RESIZED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,zt.EVENT_BODY_SCROLL,this.fireScrollEvent.bind(this))},e.prototype.fireEvent=function(t){if(!this.consuming){var e=this.gridOptionsService.get("alignedGrids");e&&e.forEach((function(e){if(e.api){var i=e.api.__getAlignedGridService();t(i)}}))}},e.prototype.onEvent=function(t){this.consuming=!0,t(),this.consuming=!1},e.prototype.fireColumnEvent=function(t){this.fireEvent((function(e){e.onColumnEvent(t)}))},e.prototype.fireScrollEvent=function(t){"horizontal"===t.direction&&this.fireEvent((function(e){e.onScrollEvent(t)}))},e.prototype.onScrollEvent=function(t){var e=this;this.onEvent((function(){e.ctrlsService.getGridBodyCtrl().getScrollFeature().setHorizontalScrollPosition(t.left)}))},e.prototype.getMasterColumns=function(t){var e=[];return t.columns?t.columns.forEach((function(t){e.push(t)})):t.column&&e.push(t.column),e},e.prototype.getColumnIds=function(t){var e=[];return t.columns?t.columns.forEach((function(t){e.push(t.getColId())})):t.column&&e.push(t.column.getColId()),e},e.prototype.onColumnEvent=function(t){var e=this;this.onEvent((function(){switch(t.type){case zt.EVENT_COLUMN_MOVED:case zt.EVENT_COLUMN_VISIBLE:case zt.EVENT_COLUMN_PINNED:case zt.EVENT_COLUMN_RESIZED:var i=t;e.processColumnEvent(i);break;case zt.EVENT_COLUMN_GROUP_OPENED:var o=t;e.processGroupOpenedEvent(o);break;case zt.EVENT_COLUMN_PIVOT_CHANGED:console.warn("AG Grid: pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.")}}))},e.prototype.processGroupOpenedEvent=function(t){var e=t.columnGroup,i=null;if(e){var o=e.getGroupId();i=this.columnModel.getProvidedColumnGroup(o)}e&&!i||(this.logger.log("onColumnEvent-> processing "+t+" expanded = "+e.isExpanded()),this.columnModel.setColumnGroupOpened(i,e.isExpanded(),"alignedGridChanged"))},e.prototype.processColumnEvent=function(t){var e,i=this,o=t.column,n=null;if(o&&(n=this.columnModel.getPrimaryColumn(o.getColId())),!o||n){var r=this.getMasterColumns(t);switch(t.type){case zt.EVENT_COLUMN_MOVED:var s=t,a=t.columnApi.getColumnState().map((function(t){return{colId:t.colId}}));this.columnModel.applyColumnState({state:a,applyOrder:!0},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing "+t.type+" toIndex = "+s.toIndex);break;case zt.EVENT_COLUMN_VISIBLE:var l=t;a=t.columnApi.getColumnState().map((function(t){return{colId:t.colId,hide:t.hide}}));this.columnModel.applyColumnState({state:a},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing "+t.type+" visible = "+l.visible);break;case zt.EVENT_COLUMN_PINNED:var c=t;a=t.columnApi.getColumnState().map((function(t){return{colId:t.colId,pinned:t.pinned}}));this.columnModel.applyColumnState({state:a},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing "+t.type+" pinned = "+c.pinned);break;case zt.EVENT_COLUMN_RESIZED:var u=t,h={};r.forEach((function(e){i.logger.log("onColumnEvent-> processing "+t.type+" actualWidth = "+e.getActualWidth()),h[e.getId()]={key:e.getColId(),newWidth:e.getActualWidth()}})),null===(e=u.flexColumns)||void 0===e||e.forEach((function(t){h[t.getId()]&&delete h[t.getId()]})),this.columnModel.setColumnWidths(Object.values(h),!1,u.finished,"alignedGridChanged")}var d=this.ctrlsService.getGridBodyCtrl().isVerticalScrollShowing(),p=this.gridOptionsService.get("alignedGrids");p&&p.forEach((function(t){t.api&&t.api.setAlwaysShowVerticalScroll(d)}))}},mp([K("columnModel")],e.prototype,"columnModel",void 0),mp([K("ctrlsService")],e.prototype,"ctrlsService",void 0),mp([yp(0,Z("loggerFactory"))],e.prototype,"setBeans",null),mp([H],e.prototype,"init",null),e=mp([z("alignedGridsService")],e)}(jt),_p=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),Cp=function(){return Cp=Object.assign||function(t){for(var e,i=1,o=arguments.length;i<o;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},Cp.apply(this,arguments)},bp=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},Ep=function(t,e){return function(i,o){e(i,o,t)}},Sp=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,n,r=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return s},wp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return _p(e,t),e.prototype.setBeans=function(t){this.logger=t.create("selectionService"),this.reset()},e.prototype.init=function(){var t=this;this.groupSelectsChildren=this.gridOptionsService.is("groupSelectsChildren"),this.addManagedPropertyListener("groupSelectsChildren",(function(e){return t.groupSelectsChildren=e.currentValue})),this.rowSelection=this.gridOptionsService.get("rowSelection"),this.addManagedPropertyListener("rowSelection",(function(e){return t.rowSelection=e.currentValue})),this.addManagedListener(this.eventService,zt.EVENT_ROW_SELECTED,this.onRowSelected.bind(this))},e.prototype.isMultiselect=function(){return"multiple"===this.rowSelection},e.prototype.setNodeSelected=function(t){var e,i=t.newValue,o=t.clearSelection,n=t.suppressFinishActions,r=t.rangeSelect;t.event;var s=t.node,a=t.source,l=void 0===a?"api":a,c=this.groupSelectsChildren&&!0===t.groupSelectsFiltered;if(void 0===s.id)return console.warn("AG Grid: cannot select node until id for node is known"),0;if(s.rowPinned)return console.warn("AG Grid: cannot select pinned rows"),0;if(s.footer)return this.setNodeSelected(Cp(Cp({},t),{node:s.sibling}));var u=this.getLastSelectedNode();if(r&&u&&(u!==s&&this.isMultiselect())){var h=this.selectRange(s,u,t.newValue,l);return this.setLastSelectedNode(s),h}var d=0;c&&s.group||s.selectThisNode(i,t.event,l)&&d++;if(this.groupSelectsChildren&&(null===(e=s.childrenAfterGroup)||void 0===e?void 0:e.length)&&(d+=this.selectChildren(s,i,c,l)),!n){if(i&&(o||!this.isMultiselect())&&(d+=this.clearOtherNodes(s,l)),d>0){this.updateGroupsFromChildrenSelections(l);var p={type:zt.EVENT_SELECTION_CHANGED,source:l};this.eventService.dispatchEvent(p)}i&&this.setLastSelectedNode(s)}return d},e.prototype.selectRange=function(t,e,i,o){var n=this;void 0===i&&(i=!0);var r=this.rowModel.getNodesInRangeForSelection(t,e),s=0;r.forEach((function(e){e.group&&n.groupSelectsChildren||!1===i&&t===e||e.selectThisNode(i,void 0,o)&&s++})),this.updateGroupsFromChildrenSelections(o);var a={type:zt.EVENT_SELECTION_CHANGED,source:o};return this.eventService.dispatchEvent(a),s},e.prototype.selectChildren=function(t,e,i,o){var n=i?t.childrenAfterAggFilter:t.childrenAfterGroup;if(on.missing(n))return 0;for(var r=0,s=0;s<n.length;s++)r+=n[s].setSelectedParams({newValue:e,clearSelection:!1,suppressFinishActions:!0,groupSelectsFiltered:i,source:o});return r},e.prototype.setLastSelectedNode=function(t){this.lastSelectedNode=t},e.prototype.getLastSelectedNode=function(){return this.lastSelectedNode},e.prototype.getSelectedNodes=function(){var t=[];return p(this.selectedNodes,(function(e,i){i&&t.push(i)})),t},e.prototype.getSelectedRows=function(){var t=[];return p(this.selectedNodes,(function(e,i){i&&i.data&&t.push(i.data)})),t},e.prototype.getSelectionCount=function(){return Object.values(this.selectedNodes).length},e.prototype.filterFromSelection=function(t){var e={};Object.entries(this.selectedNodes).forEach((function(i){var o=Sp(i,2),n=o[0],r=o[1];r&&t(r)&&(e[n]=r)})),this.selectedNodes=e},e.prototype.updateGroupsFromChildrenSelections=function(t,e){if(!this.groupSelectsChildren)return!1;if("clientSide"!==this.rowModel.getType())return!1;var i=this.rowModel.getRootNode();e||(e=new Xh(!0,i)).setInactive();var o=!1;return e.forEachChangedNodeDepthFirst((function(e){if(e!==i){var n=e.calculateSelectedFromChildren();o=e.selectThisNode(null!==n&&n,void 0,t)||o}})),o},e.prototype.clearOtherNodes=function(t,e){var i=this,o={},n=0;return p(this.selectedNodes,(function(r,s){if(s&&s.id!==t.id){var a=i.selectedNodes[s.id];n+=a.setSelectedParams({newValue:!1,clearSelection:!1,suppressFinishActions:!0,source:e}),i.groupSelectsChildren&&s.parent&&(o[s.parent.id]=s.parent)}})),p(o,(function(t,i){var o=i.calculateSelectedFromChildren();i.selectThisNode(null!==o&&o,void 0,e)})),n},e.prototype.onRowSelected=function(t){var e=t.node;this.groupSelectsChildren&&e.group||(e.isSelected()?this.selectedNodes[e.id]=e:delete this.selectedNodes[e.id])},e.prototype.syncInRowNode=function(t,e){this.syncInOldRowNode(t,e),this.syncInNewRowNode(t)},e.prototype.syncInOldRowNode=function(t,e){if(n(e)&&t.id!==e.id&&e){var i=e.id;this.selectedNodes[i]==t&&(this.selectedNodes[e.id]=e)}},e.prototype.syncInNewRowNode=function(t){n(this.selectedNodes[t.id])?(t.setSelectedInitialValue(!0),this.selectedNodes[t.id]=t):t.setSelectedInitialValue(!1)},e.prototype.reset=function(){this.logger.log("reset"),this.selectedNodes={},this.lastSelectedNode=null},e.prototype.getBestCostNodeSelection=function(){if("clientSide"===this.rowModel.getType()){var t=this.rowModel.getTopLevelNodes();if(null!==t){var e=[];return function t(i){for(var o=0,n=i.length;o<n;o++){var r=i[o];if(r.isSelected())e.push(r);else{var s=r;s.group&&s.children&&t(s.children)}}}(t),e}}},e.prototype.isEmpty=function(){var t=0;return p(this.selectedNodes,(function(e,i){i&&t++})),0===t},e.prototype.deselectAllRowNodes=function(t){var e=function(t){return t.selectThisNode(!1,void 0,o)},i="clientSide"===this.rowModel.getType(),o=t.source,n=t.justFiltered,r=t.justCurrentPage;if(r||n){if(!i)return void console.error("AG Grid: selecting just filtered only works when gridOptions.rowModelType='clientSide'");this.getNodesToSelect(n,r).forEach(e)}else p(this.selectedNodes,(function(t,i){i&&e(i)})),this.reset();i&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(o);var s={type:zt.EVENT_SELECTION_CHANGED,source:o};this.eventService.dispatchEvent(s)},e.prototype.getSelectAllState=function(t,e){var i=this,o=0,n=0;return this.getNodesToSelect(t,e).forEach((function(t){i.groupSelectsChildren&&t.group||(t.isSelected()?o++:t.selectable&&n++)})),(0!==o||0!==n)&&(o>0&&n>0?null:o>0)},e.prototype.getNodesToSelect=function(t,e){var i=this;if(void 0===t&&(t=!1),void 0===e&&(e=!1),"clientSide"!==this.rowModel.getType())throw new Error("selectAll only available when rowModelType='clientSide', ie not "+this.rowModel.getType());var o=[];if(e)return this.paginationProxy.forEachNodeOnPage((function(t){if(t.group)if(t.expanded)i.groupSelectsChildren||o.push(t);else{var e=function(t){var i;o.push(t),(null===(i=t.childrenAfterFilter)||void 0===i?void 0:i.length)&&t.childrenAfterFilter.forEach(e)};e(t)}else o.push(t)})),o;var n=this.rowModel;return t?(n.forEachNodeAfterFilter((function(t){o.push(t)})),o):(n.forEachNode((function(t){o.push(t)})),o)},e.prototype.selectAllRowNodes=function(t){if("clientSide"!==this.rowModel.getType())throw new Error("selectAll only available when rowModelType='clientSide', ie not "+this.rowModel.getType());var e=t.source,i=t.justFiltered,o=t.justCurrentPage;this.getNodesToSelect(i,o).forEach((function(t){return t.selectThisNode(!0,void 0,e)})),"clientSide"===this.rowModel.getType()&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(e);var n={type:zt.EVENT_SELECTION_CHANGED,source:e};this.eventService.dispatchEvent(n)},e.prototype.getServerSideSelectionState=function(){return null},e.prototype.setServerSideSelectionState=function(t){},bp([K("rowModel")],e.prototype,"rowModel",void 0),bp([K("paginationProxy")],e.prototype,"paginationProxy",void 0),bp([Ep(0,Z("loggerFactory"))],e.prototype,"setBeans",null),bp([H],e.prototype,"init",null),e=bp([z("selectionService")],e)}(jt),Op=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},xp=function(){function t(){}return t.prototype.sizeColumnsToFit=function(t){void 0===t&&console.error("AG Grid: missing parameter to columnApi.sizeColumnsToFit(gridWidth)"),this.columnModel.sizeColumnsToFit(t,"api")},t.prototype.setColumnGroupOpened=function(t,e){this.columnModel.setColumnGroupOpened(t,e,"api")},t.prototype.getColumnGroup=function(t,e){return this.columnModel.getColumnGroup(t,e)},t.prototype.getProvidedColumnGroup=function(t){return this.columnModel.getProvidedColumnGroup(t)},t.prototype.getDisplayNameForColumn=function(t,e){return this.columnModel.getDisplayNameForColumn(t,e)||""},t.prototype.getDisplayNameForColumnGroup=function(t,e){return this.columnModel.getDisplayNameForColumnGroup(t,e)||""},t.prototype.getColumn=function(t){return this.columnModel.getPrimaryColumn(t)},t.prototype.getColumns=function(){return this.columnModel.getAllPrimaryColumns()},t.prototype.applyColumnState=function(t){return this.columnModel.applyColumnState(t,"api")},t.prototype.getColumnState=function(){return this.columnModel.getColumnState()},t.prototype.resetColumnState=function(){this.columnModel.resetColumnState("api")},t.prototype.getColumnGroupState=function(){return this.columnModel.getColumnGroupState()},t.prototype.setColumnGroupState=function(t){this.columnModel.setColumnGroupState(t,"api")},t.prototype.resetColumnGroupState=function(){this.columnModel.resetColumnGroupState("api")},t.prototype.isPinning=function(){return this.columnModel.isPinningLeft()||this.columnModel.isPinningRight()},t.prototype.isPinningLeft=function(){return this.columnModel.isPinningLeft()},t.prototype.isPinningRight=function(){return this.columnModel.isPinningRight()},t.prototype.getDisplayedColAfter=function(t){return this.columnModel.getDisplayedColAfter(t)},t.prototype.getDisplayedColBefore=function(t){return this.columnModel.getDisplayedColBefore(t)},t.prototype.setColumnVisible=function(t,e){this.columnModel.setColumnVisible(t,e,"api")},t.prototype.setColumnsVisible=function(t,e){this.columnModel.setColumnsVisible(t,e,"api")},t.prototype.setColumnPinned=function(t,e){this.columnModel.setColumnPinned(t,e,"api")},t.prototype.setColumnsPinned=function(t,e){this.columnModel.setColumnsPinned(t,e,"api")},t.prototype.getAllGridColumns=function(){return this.columnModel.getAllGridColumns()},t.prototype.getDisplayedLeftColumns=function(){return this.columnModel.getDisplayedLeftColumns()},t.prototype.getDisplayedCenterColumns=function(){return this.columnModel.getDisplayedCenterColumns()},t.prototype.getDisplayedRightColumns=function(){return this.columnModel.getDisplayedRightColumns()},t.prototype.getAllDisplayedColumns=function(){return this.columnModel.getAllDisplayedColumns()},t.prototype.getAllDisplayedVirtualColumns=function(){return this.columnModel.getViewportColumns()},t.prototype.moveColumn=function(t,e){this.columnModel.moveColumn(t,e,"api")},t.prototype.moveColumnByIndex=function(t,e){this.columnModel.moveColumnByIndex(t,e,"api")},t.prototype.moveColumns=function(t,e){this.columnModel.moveColumns(t,e,"api")},t.prototype.moveRowGroupColumn=function(t,e){this.columnModel.moveRowGroupColumn(t,e)},t.prototype.setColumnAggFunc=function(t,e){this.columnModel.setColumnAggFunc(t,e)},t.prototype.setColumnWidth=function(t,e,i,o){void 0===i&&(i=!0),this.columnModel.setColumnWidths([{key:t,newWidth:e}],!1,i,o)},t.prototype.setColumnWidths=function(t,e,i){void 0===e&&(e=!0),this.columnModel.setColumnWidths(t,!1,e,i)},t.prototype.setPivotMode=function(t){this.columnModel.setPivotMode(t)},t.prototype.isPivotMode=function(){return this.columnModel.isPivotMode()},t.prototype.getPivotResultColumn=function(t,e){return this.columnModel.getSecondaryPivotColumn(t,e)},t.prototype.setValueColumns=function(t){this.columnModel.setValueColumns(t,"api")},t.prototype.getValueColumns=function(){return this.columnModel.getValueColumns()},t.prototype.removeValueColumn=function(t){this.columnModel.removeValueColumn(t,"api")},t.prototype.removeValueColumns=function(t){this.columnModel.removeValueColumns(t,"api")},t.prototype.addValueColumn=function(t){this.columnModel.addValueColumn(t,"api")},t.prototype.addValueColumns=function(t){this.columnModel.addValueColumns(t,"api")},t.prototype.setRowGroupColumns=function(t){this.columnModel.setRowGroupColumns(t,"api")},t.prototype.removeRowGroupColumn=function(t){this.columnModel.removeRowGroupColumn(t,"api")},t.prototype.removeRowGroupColumns=function(t){this.columnModel.removeRowGroupColumns(t,"api")},t.prototype.addRowGroupColumn=function(t){this.columnModel.addRowGroupColumn(t,"api")},t.prototype.addRowGroupColumns=function(t){this.columnModel.addRowGroupColumns(t,"api")},t.prototype.getRowGroupColumns=function(){return this.columnModel.getRowGroupColumns()},t.prototype.setPivotColumns=function(t){this.columnModel.setPivotColumns(t,"api")},t.prototype.removePivotColumn=function(t){this.columnModel.removePivotColumn(t,"api")},t.prototype.removePivotColumns=function(t){this.columnModel.removePivotColumns(t,"api")},t.prototype.addPivotColumn=function(t){this.columnModel.addPivotColumn(t,"api")},t.prototype.addPivotColumns=function(t){this.columnModel.addPivotColumns(t,"api")},t.prototype.getPivotColumns=function(){return this.columnModel.getPivotColumns()},t.prototype.getLeftDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeLeft()},t.prototype.getCenterDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeCentre()},t.prototype.getRightDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeRight()},t.prototype.getAllDisplayedColumnGroups=function(){return this.columnModel.getAllDisplayedTrees()},t.prototype.autoSizeColumn=function(t,e){return this.columnModel.autoSizeColumn(t,e,"api")},t.prototype.autoSizeColumns=function(t,e){this.columnModel.autoSizeColumns({columns:t,skipHeader:e})},t.prototype.autoSizeAllColumns=function(t){this.columnModel.autoSizeAllColumns(t,"api")},t.prototype.setPivotResultColumns=function(t){this.columnModel.setSecondaryColumns(t,"api")},t.prototype.getPivotResultColumns=function(){return this.columnModel.getSecondaryColumns()},t.prototype.cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid=function(){setTimeout(on.removeAllReferences.bind(window,this,"Column API"),100)},t.prototype.getAllColumns=function(){return ae("28.0","getAllColumns","getColumns"),this.getColumns()},t.prototype.getOriginalColumnGroup=function(t){return ae("27.0","getOriginalColumnGroup","getProvidedColumnGroup"),this.columnModel.getProvidedColumnGroup(t)},t.prototype.getPrimaryColumns=function(){return ae("28.0","getPrimaryColumns","getColumns"),this.getColumns()},t.prototype.getSecondaryColumns=function(){return ae("28.0","getSecondaryColumns","getPivotResultColumns"),this.getPivotResultColumns()},t.prototype.setSecondaryColumns=function(t){ae("28.0","setSecondaryColumns","setPivotResultColumns"),this.setPivotResultColumns(t)},t.prototype.getSecondaryPivotColumn=function(t,e){return ae("28.0","getSecondaryPivotColumn","getPivotResultColumn"),this.getPivotResultColumn(t,e)},Op([K("columnModel")],t.prototype,"columnModel",void 0),Op([$],t.prototype,"cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid",null),t=Op([z("columnApi")],t)}(),Pp=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),Tp=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},Mp=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.initialised=!1,e}return Pp(e,t),e.prototype.init=function(){var t=this;this.cellExpressions=this.gridOptionsService.is("enableCellExpressions"),this.isTreeData=this.gridOptionsService.is("treeData"),this.initialised=!0,this.eventService.addEventListener(zt.EVENT_CELL_VALUE_CHANGED,(function(e){return t.callColumnCellValueChangedHandler(e)}),this.gridOptionsService.useAsyncEvents()),this.addManagedPropertyListener("treeData",(function(e){return t.isTreeData=e.currentValue}))},e.prototype.getValue=function(t,e,i,o){if(void 0===i&&(i=!1),void 0===o&&(o=!1),this.initialised||this.init(),e){var n,r=t.getColDef(),s=r.field,a=t.getColId(),l=e.data,c=e.groupData&&void 0!==e.groupData[a],u=!o&&e.aggData&&void 0!==e.aggData[a];if(i&&r.filterValueGetter?n=this.executeFilterValueGetter(r.filterValueGetter,l,t,e):this.isTreeData&&u?n=e.aggData[a]:this.isTreeData&&r.valueGetter?n=this.executeValueGetter(r.valueGetter,l,t,e):this.isTreeData&&s&&l?n=E(l,s,t.isFieldContainsDots()):c?n=e.groupData[a]:u?n=e.aggData[a]:r.valueGetter?n=this.executeValueGetter(r.valueGetter,l,t,e):s&&l&&(n=E(l,s,t.isFieldContainsDots())),this.cellExpressions&&"string"==typeof n&&0===n.indexOf("=")){var h=n.substring(1);n=this.executeValueGetter(h,l,t,e)}if(null==n){var d=this.getOpenedGroup(e,t);if(null!=d)return d}return n}},e.prototype.getOpenedGroup=function(t,e){if(this.gridOptionsService.is("showOpenedGroup")&&e.getColDef().showRowGroup)for(var i=e.getColDef().showRowGroup,o=t.parent;null!=o;){if(o.rowGroupColumn&&(!0===i||i===o.rowGroupColumn.getColId()))return o.key;o=o.parent}},e.prototype.setValue=function(t,e,i,o){var s=this.columnModel.getPrimaryColumn(e);if(!t||!s)return!1;r(t.data)&&(t.data={});var a=s.getColDef(),l=a.field,c=a.valueSetter;if(r(l)&&r(c))return console.warn("AG Grid: you need either field or valueSetter set on colDef for editing to work"),!1;var u,h={node:t,data:t.data,oldValue:this.getValue(s,t),newValue:i,colDef:s.getColDef(),column:s,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};if(h.newValue=i,void 0===(u=n(c)?"function"==typeof c?c(h):this.expressionService.evaluate(c,h):this.setValueUsingField(t.data,l,i,s.isFieldContainsDots()))&&(u=!0),!u)return!1;t.resetQuickFilterAggregateText(),this.valueCache.onDataChanged(),h.newValue=this.getValue(s,t);var d={type:zt.EVENT_CELL_VALUE_CHANGED,event:null,rowIndex:t.rowIndex,rowPinned:t.rowPinned,column:h.column,api:h.api,columnApi:h.columnApi,colDef:h.colDef,context:h.context,data:t.data,node:t,oldValue:h.oldValue,newValue:h.newValue,value:h.newValue,source:o};return this.eventService.dispatchEvent(d),!0},e.prototype.callColumnCellValueChangedHandler=function(t){var e=t.colDef.onCellValueChanged;"function"==typeof e&&e({node:t.node,data:t.data,oldValue:t.oldValue,newValue:t.newValue,colDef:t.colDef,column:t.column,api:t.api,columnApi:t.columnApi,context:t.context})},e.prototype.setValueUsingField=function(t,e,i,o){if(!e)return!1;var n=!1;if(o)for(var r=e.split("."),s=t;r.length>0&&s;){var a=r.shift();0===r.length?(n=s[a]==i)||(s[a]=i):s=s[a]}else(n=t[e]==i)||(t[e]=i);return!n},e.prototype.executeFilterValueGetter=function(t,e,i,o){var n={data:e,node:o,column:i,colDef:i.getColDef(),api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,getValue:this.getValueCallback.bind(this,o)};return"function"==typeof t?t(n):this.expressionService.evaluate(t,n)},e.prototype.executeValueGetter=function(t,e,i,o){var n=i.getColId(),r=this.valueCache.getValue(o,n);if(void 0!==r)return r;var s,a={data:e,node:o,column:i,colDef:i.getColDef(),api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,getValue:this.getValueCallback.bind(this,o)};return s="function"==typeof t?t(a):this.expressionService.evaluate(t,a),this.valueCache.setValue(o,n,s),s},e.prototype.getValueCallback=function(t,e){var i=this.columnModel.getPrimaryColumn(e);return i?this.getValue(i,t):null},e.prototype.getKeyForNode=function(t,e){var i=this.getValue(t,e),o=t.getColDef().keyCreator,n=i;o&&(n=o({value:i,colDef:t.getColDef(),column:t,node:e,data:e.data,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context}));return"string"==typeof n||null==n||"[object Object]"===(n=String(n))&&P((function(){console.warn("AG Grid: a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (se AG Grid docs) or b) to toString() on the object to return a key")}),"getKeyForNode - warn about [object,object]"),n},Tp([K("expressionService")],e.prototype,"expressionService",void 0),Tp([K("columnModel")],e.prototype,"columnModel",void 0),Tp([K("valueCache")],e.prototype,"valueCache",void 0),Tp([H],e.prototype,"init",null),e=Tp([z("valueService")],e)}(jt),Dp=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),Ap=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},Rp=function(t,e){return function(i,o){e(i,o,t)}},Lp=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.expressionToFunctionCache={},e}return Dp(e,t),e.prototype.setBeans=function(t){this.logger=t.create("ExpressionService")},e.prototype.evaluate=function(t,e){if("string"==typeof t)return this.evaluateExpression(t,e);console.error("AG Grid: value should be either a string or a function",t)},e.prototype.evaluateExpression=function(t,e){try{return this.createExpressionFunction(t)(e.value,e.context,e.oldValue,e.newValue,e.value,e.node,e.data,e.colDef,e.rowIndex,e.api,e.columnApi,e.getValue,e.column,e.columnGroup)}catch(i){return console.log("Processing of the expression failed"),console.log("Expression = "+t),console.log("Params =",e),console.log("Exception = "+i),null}},e.prototype.createExpressionFunction=function(t){if(this.expressionToFunctionCache[t])return this.expressionToFunctionCache[t];var e=this.createFunctionBody(t),i=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, columnApi, getValue, column, columnGroup",e);return this.expressionToFunctionCache[t]=i,i},e.prototype.createFunctionBody=function(t){return t.indexOf("return")>=0?t:"return "+t+";"},Ap([Rp(0,Z("loggerFactory"))],e.prototype,"setBeans",null),e=Ap([z("expressionService")],e)}(jt),Ip=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),Np=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},kp=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.templateCache={},e.waitingCallbacks={},e}return Ip(e,t),e.prototype.getTemplate=function(t,e){var i=this.templateCache[t];if(i)return i;var o=this.waitingCallbacks[t],n=this;if(!o){o=[],this.waitingCallbacks[t]=o;var r=new XMLHttpRequest;r.onload=function(){n.handleHttpResult(this,t)},r.open("GET",t),r.send()}return e&&o.push(e),null},e.prototype.handleHttpResult=function(t,e){if(200===t.status&&null!==t.response){this.templateCache[e]=t.response||t.responseText;for(var i=this.waitingCallbacks[e],o=0;o<i.length;o++){(0,i[o])()}}else console.warn("AG Grid: Unable to get template error "+t.status+" - "+e)},e=Np([z("templateService")],e)}(jt),Fp=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),Bp=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},Gp=function(t,e){return function(i,o){e(i,o,t)}},jp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Fp(e,t),e.prototype.setBeans=function(t){this.logging=t.is("debug")},e.prototype.create=function(t){return new Vp(t,this.isLogging.bind(this))},e.prototype.isLogging=function(){return this.logging},Bp([Gp(0,Z("gridOptionsService"))],e.prototype,"setBeans",null),e=Bp([z("loggerFactory")],e)}(jt),Vp=function(){function t(t,e){this.name=t,this.isLoggingFunc=e}return t.prototype.isLogging=function(){return this.isLoggingFunc()},t.prototype.log=function(t){this.isLoggingFunc()&&console.log("AG Grid."+this.name+": "+t)},t}(),Up=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),Wp=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},Hp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Up(e,t),e.prototype.setComp=function(t,e,i){var o=this;this.view=t,this.eGridHostDiv=e,this.eGui=i,this.dragAndDropService.addDropTarget({getContainer:function(){return o.eGui},isInterestedIn:function(t){return t===Rr.HeaderCell||t===Rr.ToolPanel},getIconName:function(){return Rs.ICON_NOT_ALLOWED}}),this.mouseEventService.stampTopLevelGridCompWithGridInstance(e),this.createManagedBean(new Ya(this.view)),this.addRtlSupport(),this.addManagedListener(this,zt.EVENT_KEYBOARD_FOCUS,(function(){o.view.addOrRemoveKeyboardFocusClass(!0)})),this.addManagedListener(this,zt.EVENT_MOUSE_FOCUS,(function(){o.view.addOrRemoveKeyboardFocusClass(!1)}));var n=this.resizeObserverService.observeResize(this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc((function(){return n()})),this.ctrlsService.registerGridCtrl(this)},e.prototype.isDetailGrid=function(){var t,e=this.focusService.findTabbableParent(this.getGui());return(null===(t=null==e?void 0:e.getAttribute("row-id"))||void 0===t?void 0:t.startsWith("detail"))||!1},e.prototype.showDropZones=function(){return ot.isRegistered(J.RowGroupingModule)},e.prototype.showSideBar=function(){return ot.isRegistered(J.SideBarModule)},e.prototype.showStatusBar=function(){return ot.isRegistered(J.StatusBarModule)},e.prototype.showWatermark=function(){return ot.isRegistered(J.EnterpriseCoreModule)},e.prototype.onGridSizeChanged=function(){var t={type:zt.EVENT_GRID_SIZE_CHANGED,clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight};this.eventService.dispatchEvent(t)},e.prototype.addRtlSupport=function(){var t=this.gridOptionsService.is("enableRtl")?"ag-rtl":"ag-ltr";this.view.setRtlClass(t)},e.prototype.destroyGridUi=function(){this.view.destroyGridUi()},e.prototype.getGui=function(){return this.eGui},e.prototype.setResizeCursor=function(t){this.view.setCursor(t?"ew-resize":null)},e.prototype.disableUserSelect=function(t){this.view.setUserSelect(t?"none":null)},e.prototype.focusNextInnerContainer=function(t){var e=this.gridOptionsService.getDocument(),i=this.view.getFocusableContainers(),o=i.findIndex((function(t){return t.contains(e.activeElement)}))+(t?-1:1);return!(o<=0||o>=i.length)&&this.focusService.focusInto(i[o])},e.prototype.focusInnerElement=function(t){var e=this.view.getFocusableContainers(),i=this.columnModel.getAllDisplayedColumns();if(t){if(e.length>1)return this.focusService.focusInto(ft(e),!0);var o=ft(i);if(this.focusService.focusGridView(o,!0))return!0}return 0===this.gridOptionsService.getNum("headerHeight")?this.focusService.focusGridView(i[0]):this.focusService.focusFirstHeader()},e.prototype.forceFocusOutOfContainer=function(t){void 0===t&&(t=!1),this.view.forceFocusOutOfContainer(t)},Wp([K("focusService")],e.prototype,"focusService",void 0),Wp([K("resizeObserverService")],e.prototype,"resizeObserverService",void 0),Wp([K("columnModel")],e.prototype,"columnModel",void 0),Wp([K("ctrlsService")],e.prototype,"ctrlsService",void 0),Wp([K("mouseEventService")],e.prototype,"mouseEventService",void 0),Wp([K("dragAndDropService")],e.prototype,"dragAndDropService",void 0),e}(jt),$p=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),zp=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},Kp=function(t){function e(e){var i=t.call(this)||this;return i.eGridDiv=e,i}return $p(e,t),e.prototype.postConstruct=function(){var t=this;this.logger=this.loggerFactory.create("GridComp");var e={destroyGridUi:function(){return t.destroyBean(t)},setRtlClass:function(e){return t.addCssClass(e)},addOrRemoveKeyboardFocusClass:function(e){return t.addOrRemoveCssClass(Zd.AG_KEYBOARD_FOCUS,e)},forceFocusOutOfContainer:this.forceFocusOutOfContainer.bind(this),updateLayoutClasses:this.updateLayoutClasses.bind(this),getFocusableContainers:this.getFocusableContainers.bind(this),setUserSelect:function(e){t.getGui().style.userSelect=null!=e?e:"",t.getGui().style.webkitUserSelect=null!=e?e:""},setCursor:function(e){t.getGui().style.cursor=null!=e?e:""}};this.ctrl=this.createManagedBean(new Hp);var i=this.createTemplate();this.setTemplate(i),this.ctrl.setComp(e,this.eGridDiv,this.getGui()),this.insertGridIntoDom(),this.initialiseTabGuard({onTabKeyDown:function(){},focusInnerElement:function(e){return t.ctrl.focusInnerElement(e)}})},e.prototype.insertGridIntoDom=function(){var t=this,e=this.getGui();this.eGridDiv.appendChild(e),this.addDestroyFunc((function(){t.eGridDiv.removeChild(e),t.logger.log("Grid removed from DOM")}))},e.prototype.updateLayoutClasses=function(t,e){var i=this.eRootWrapperBody.classList;i.toggle(Ia.AUTO_HEIGHT,e.autoHeight),i.toggle(Ia.NORMAL,e.normal),i.toggle(Ia.PRINT,e.print),this.addOrRemoveCssClass(Ia.AUTO_HEIGHT,e.autoHeight),this.addOrRemoveCssClass(Ia.NORMAL,e.normal),this.addOrRemoveCssClass(Ia.PRINT,e.print)},e.prototype.createTemplate=function(){return'<div class="ag-root-wrapper" role="presentation">\n                '+(this.ctrl.showDropZones()?"<ag-grid-header-drop-zones></ag-grid-header-drop-zones>":"")+'\n                <div class="ag-root-wrapper-body" ref="rootWrapperBody" role="presentation">\n                    <ag-grid-body ref="gridBody"></ag-grid-body>\n                    '+(this.ctrl.showSideBar()?'<ag-side-bar ref="sideBar"></ag-side-bar>':"")+"\n                </div>\n                "+(this.ctrl.showStatusBar()?'<ag-status-bar ref="statusBar"></ag-status-bar>':"")+"\n                <ag-pagination></ag-pagination>\n                "+(this.ctrl.showWatermark()?"<ag-watermark></ag-watermark>":"")+"\n            </div>"},e.prototype.getFocusableElement=function(){return this.eRootWrapperBody},e.prototype.getFocusableContainers=function(){var t=[this.gridBodyComp.getGui()];return this.sideBarComp&&t.push(this.sideBarComp.getGui()),t.filter((function(t){return vo(t)}))},zp([K("loggerFactory")],e.prototype,"loggerFactory",void 0),zp([mn("gridBody")],e.prototype,"gridBodyComp",void 0),zp([mn("sideBar")],e.prototype,"sideBarComp",void 0),zp([mn("rootWrapperBody")],e.prototype,"eRootWrapperBody",void 0),zp([H],e.prototype,"postConstruct",null),e}(Pd),Yp=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),Xp=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},Zp=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,n,r=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return s},qp=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Zp(arguments[e]));return t},Jp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var i;return Yp(e,t),i=e,e.prototype.progressSort=function(t,e,i){var o=this.getNextSortDirection(t);this.setSortForColumn(t,o,e,i)},e.prototype.setSortForColumn=function(t,e,i,o){"asc"!==e&&"desc"!==e&&(e=null);var n=[t];if(this.gridOptionsService.isColumnsSortingCoupledToGroup()&&t.getColDef().showRowGroup){t.getColDef().field||(n=[]);var r=this.columnModel.getSourceColumnsForGroupColumn(t),s=null==r?void 0:r.filter((function(t){return t.getColDef().sortable}));s&&(n=qp(n,s))}n.forEach((function(t){return t.setSort(e,o)})),(i||this.gridOptionsService.is("alwaysMultiSort"))&&!this.gridOptionsService.is("suppressMultiSort")||this.clearSortBarTheseColumns(n,o),this.updateSortIndex(t),this.dispatchSortChangedEvents(o)},e.prototype.updateSortIndex=function(t){var e=this.gridOptionsService.isColumnsSortingCoupledToGroup(),i=this.columnModel.getGroupDisplayColumnForGroup(t.getId()),o=e&&i||t,n=this.getColumnsWithSortingOrdered(!0);this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach((function(t){return t.setSortIndex(null)}));var r=n.filter((function(t){return t!==o}));(o.getSort()?qp(r,[o]):r).forEach((function(t,e){return t.setSortIndex(e)}))},e.prototype.onSortChanged=function(t){this.dispatchSortChangedEvents(t)},e.prototype.isSortActive=function(){var t=this.columnModel.getPrimaryAndSecondaryAndAutoColumns().filter((function(t){return!!t.getSort()}));return t&&t.length>0},e.prototype.dispatchSortChangedEvents=function(t){var e={type:zt.EVENT_SORT_CHANGED,source:t};this.eventService.dispatchEvent(e)},e.prototype.clearSortBarTheseColumns=function(t,e){this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach((function(i){t.includes(i)||i.setSort(void 0,e)}))},e.prototype.getNextSortDirection=function(t){var e;if(e=t.getColDef().sortingOrder?t.getColDef().sortingOrder:this.gridOptionsService.get("sortingOrder")?this.gridOptionsService.get("sortingOrder"):i.DEFAULT_SORTING_ORDER,!Array.isArray(e)||e.length<=0)return console.warn("AG Grid: sortingOrder must be an array with at least one element, currently it's "+e),null;var o=t.getColDef().field?t.getSort():this.getDisplaySortForColumn(t),n=e[0];if("mixed"!==o){var r=e.indexOf(o),s=r<0,a=r==e.length-1;n=s||a?e[0]:e[r+1]}return i.DEFAULT_SORTING_ORDER.indexOf(n)<0?(console.warn("AG Grid: invalid sort type "+n),null):n},e.prototype.getIndexedSortMap=function(t){var e=this;void 0===t&&(t=!1);var i=this.columnModel.getPrimaryAndSecondaryAndAutoColumns().filter((function(t){return!!t.getSort()}));!t&&this.columnModel.isPivotMode()&&(i=i.filter((function(t){return!!t.getAggFunc()||!t.isPrimary()||e.columnModel.getGroupDisplayColumnForGroup(t.getId())})));var o=this.columnModel.getRowGroupColumns().filter((function(t){return!!t.getSort()})),n=this.gridOptionsService.isColumnsSortingCoupledToGroup()&&!!o.length;n&&(i=qp(new Set(i.map((function(t){var i;return null!==(i=e.columnModel.getGroupDisplayColumnForGroup(t.getId()))&&void 0!==i?i:t})))));var r={};i.forEach((function(t,e){return r[t.getId()]=e})),i.sort((function(t,e){var i=t.getSortIndex(),o=e.getSortIndex();return null!=i&&null!=o?i-o:null==i&&null==o?r[t.getId()]>r[e.getId()]?1:-1:null==o?-1:1}));var s=new Map;return i.forEach((function(t,e){return s.set(t,e)})),n&&o.forEach((function(t){var i=e.columnModel.getGroupDisplayColumnForGroup(t.getId());s.set(t,s.get(i))})),s},e.prototype.getColumnsWithSortingOrdered=function(t){return void 0===t&&(t=!1),qp(this.getIndexedSortMap(t).entries()).sort((function(t,e){var i=Zp(t,2);i[0];var o=i[1],n=Zp(e,2);return n[0],o-n[1]})).map((function(t){return Zp(t,1)[0]}))},e.prototype.getSortModel=function(){return this.getColumnsWithSortingOrdered(!0).map((function(t){return{sort:t.getSort(),colId:t.getId()}}))},e.prototype.getSortOptions=function(){return this.getColumnsWithSortingOrdered().map((function(t){return{sort:t.getSort(),column:t}}))},e.prototype.canColumnDisplayMixedSort=function(t){var e=this.gridOptionsService.isColumnsSortingCoupledToGroup(),i=!!t.getColDef().showRowGroup;return e&&i},e.prototype.getDisplaySortForColumn=function(t){var e=this.columnModel.getSourceColumnsForGroupColumn(t);if(!this.canColumnDisplayMixedSort(t)||!(null==e?void 0:e.length))return t.getSort();var i=!!t.getColDef().field?qp([t],e):e,o=i[0].getSort();return i.every((function(t){return t.getSort()==o}))?o:"mixed"},e.prototype.getDisplaySortIndexForColumn=function(t){return this.getIndexedSortMap().get(t)},e.DEFAULT_SORTING_ORDER=["asc","desc",null],Xp([K("columnModel")],e.prototype,"columnModel",void 0),e=i=Xp([z("sortController")],e)}(jt),Qp=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),tf=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},ef=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Qp(e,t),e.prototype.setMouseOver=function(t){this.selectedColumns=t;var e={type:zt.EVENT_COLUMN_HOVER_CHANGED};this.eventService.dispatchEvent(e)},e.prototype.clearMouseOver=function(){this.selectedColumns=null;var t={type:zt.EVENT_COLUMN_HOVER_CHANGED};this.eventService.dispatchEvent(t)},e.prototype.isHovered=function(t){return!!this.selectedColumns&&this.selectedColumns.indexOf(t)>=0},e=tf([z("columnHoverService")],e)}(jt),of=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),nf=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},rf=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.executeNextFuncs=[],e.executeLaterFuncs=[],e.active=!1,e.animationThreadCount=0,e}return of(e,t),e.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady((function(e){return t.gridBodyCtrl=e.gridBodyCtrl}))},e.prototype.isActive=function(){return this.active},e.prototype.start=function(){this.active||this.gridOptionsService.is("suppressColumnMoveAnimation")||this.gridOptionsService.is("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0)},e.prototype.finish=function(){this.active&&(this.flush(),this.active=!1)},e.prototype.executeNextVMTurn=function(t){this.active?this.executeNextFuncs.push(t):t()},e.prototype.executeLaterVMTurn=function(t){this.active?this.executeLaterFuncs.push(t):t()},e.prototype.ensureAnimationCssClassPresent=function(){var t=this;this.animationThreadCount++;var e=this.animationThreadCount;this.gridBodyCtrl.setColumnMovingCss(!0),this.executeLaterFuncs.push((function(){t.animationThreadCount===e&&t.gridBodyCtrl.setColumnMovingCss(!1)}))},e.prototype.flush=function(){var t=this.executeNextFuncs;this.executeNextFuncs=[];var e=this.executeLaterFuncs;this.executeLaterFuncs=[],0===t.length&&0===e.length||(window.setTimeout((function(){return t.forEach((function(t){return t()}))}),0),window.setTimeout((function(){return e.forEach((function(t){return t()}))}),300))},nf([K("ctrlsService")],e.prototype,"ctrlsService",void 0),nf([H],e.prototype,"postConstruct",null),e=nf([z("columnAnimationService")],e)}(jt),sf=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),af=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},lf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return sf(e,t),e.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady((function(e){t.centerRowContainerCon=e.centerRowContainerCtrl,t.addManagedListener(t.eventService,zt.EVENT_BODY_HEIGHT_CHANGED,t.checkPageSize.bind(t)),t.addManagedListener(t.eventService,zt.EVENT_SCROLL_VISIBILITY_CHANGED,t.checkPageSize.bind(t)),t.checkPageSize()}))},e.prototype.notActive=function(){return!this.gridOptionsService.is("paginationAutoPageSize")||null==this.centerRowContainerCon},e.prototype.checkPageSize=function(){var t=this;if(!this.notActive()){var e=this.centerRowContainerCon.getViewportSizeFeature().getBodyHeight();if(e>0){var i=function(){var i=t.gridOptionsService.getRowHeightAsNumber(),o=Math.floor(e/i);t.gridOptionsService.set("paginationPageSize",o)};this.isBodyRendered?N((function(){return i()}),50)():(i(),this.isBodyRendered=!0)}else this.isBodyRendered=!1}},af([K("ctrlsService")],e.prototype,"ctrlsService",void 0),af([H],e.prototype,"postConstruct",null),e=af([z("paginationAutoPageSizeService")],e)}(jt),cf=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),uf=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},hf=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cacheVersion=0,e}return cf(e,t),e.prototype.init=function(){this.active=this.gridOptionsService.is("valueCache"),this.neverExpires=this.gridOptionsService.is("valueCacheNeverExpires")},e.prototype.onDataChanged=function(){this.neverExpires||this.expire()},e.prototype.expire=function(){this.cacheVersion++},e.prototype.setValue=function(t,e,i){this.active&&(t.__cacheVersion!==this.cacheVersion&&(t.__cacheVersion=this.cacheVersion,t.__cacheData={}),t.__cacheData[e]=i)},e.prototype.getValue=function(t,e){if(this.active&&t.__cacheVersion===this.cacheVersion)return t.__cacheData[e]},uf([H],e.prototype,"init",null),e=uf([z("valueCache")],e)}(jt),df=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),pf=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},ff=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return df(e,t),e.prototype.init=function(){"clientSide"===this.rowModel.getType()&&(this.clientSideRowModel=this.rowModel),this.addManagedListener(this.eventService,zt.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged.bind(this))},e.prototype.onCellValueChanged=function(t){"paste"!==t.source&&this.doChangeDetection(t.node,t.column)},e.prototype.doChangeDetection=function(t,e){if(!this.gridOptionsService.is("suppressChangeDetection")){if(this.clientSideRowModel&&!t.isRowPinned()){var i=this.gridOptionsService.is("aggregateOnlyChangedColumns"),o=new Xh(i,this.clientSideRowModel.getRootNode());o.addParentNode(t.parent,[e]),this.clientSideRowModel.doAggregate(o)}this.rowRenderer.refreshCells()}},pf([K("rowModel")],e.prototype,"rowModel",void 0),pf([K("rowRenderer")],e.prototype,"rowRenderer",void 0),pf([H],e.prototype,"init",null),e=pf([z("changeDetectionService")],e)}(jt),gf=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),mf=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},yf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return gf(e,t),e.prototype.adaptFunction=function(t,e){var i=this.componentMetadataProvider.retrieve(t);return i&&i.functionAdapter?i.functionAdapter(e):null},e.prototype.adaptCellRendererFunction=function(t){return function(){function e(){}return e.prototype.refresh=function(t){return!1},e.prototype.getGui=function(){return this.eGui},e.prototype.init=function(e){var i=t(e),o=typeof i;this.eGui="string"!==o&&"number"!==o&&"boolean"!==o?null!=i?i:_o("<span></span>"):_o("<span>"+i+"</span>")},e}()},e.prototype.doesImplementIComponent=function(t){return!!t&&(t.prototype&&"getGui"in t.prototype)},mf([K("componentMetadataProvider")],e.prototype,"componentMetadataProvider",void 0),e=mf([z("agComponentUtils")],e)}(jt),vf=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),_f=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},Cf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return vf(e,t),e.prototype.postConstruct=function(){this.componentMetaData={dateComponent:{mandatoryMethodList:["getDate","setDate"],optionalMethodList:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel"]},detailCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},headerComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},headerGroupComponent:{mandatoryMethodList:[],optionalMethodList:[]},loadingCellRenderer:{mandatoryMethodList:[],optionalMethodList:[]},loadingOverlayComponent:{mandatoryMethodList:[],optionalMethodList:[]},noRowsOverlayComponent:{mandatoryMethodList:[],optionalMethodList:[]},floatingFilterComponent:{mandatoryMethodList:["onParentModelChanged"],optionalMethodList:["afterGuiAttached"]},floatingFilterWrapperComponent:{mandatoryMethodList:[],optionalMethodList:[]},cellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},cellEditor:{mandatoryMethodList:["getValue"],optionalMethodList:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached"]},innerRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},fullWidthCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},groupRowRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},filter:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged"]},filterComponent:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged"]},statusPanel:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"]},toolPanel:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"]},tooltipComponent:{mandatoryMethodList:[],optionalMethodList:[]}}},e.prototype.retrieve=function(t){return this.componentMetaData[t]},_f([K("agComponentUtils")],e.prototype,"agComponentUtils",void 0),_f([H],e.prototype,"postConstruct",null),e=_f([z("componentMetadataProvider")],e)}(jt),bf=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),Ef=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},Sf=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,n,r=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return s},wf=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Sf(arguments[e]));return t},Of={"ag-theme-custom":{headerHeight:25,headerCellMinWidth:24,listItemHeight:20,rowHeight:25,chartMenuPanelWidth:220},"ag-theme-material":{headerHeight:56,headerCellMinWidth:48,listItemHeight:32,rowHeight:48,chartMenuPanelWidth:240},"ag-theme-balham":{headerHeight:32,headerCellMinWidth:24,listItemHeight:24,rowHeight:28,chartMenuPanelWidth:220},"ag-theme-alpine":{headerHeight:48,headerCellMinWidth:36,listItemHeight:24,rowHeight:42,chartMenuPanelWidth:240}},xf={headerHeight:["ag-header-row"],headerCellMinWidth:["ag-header-cell"],listItemHeight:["ag-virtual-list-item"],rowHeight:["ag-row"],chartMenuPanelWidth:["ag-chart-docked-container"]},Pf=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.calculatedSizes={},e}return bf(e,t),e.prototype.postConstruct=function(){var t,e=this,i=null!==(t=this.getTheme().el)&&void 0!==t?t:this.eGridDiv;this.mutationObserver=new MutationObserver((function(){e.calculatedSizes={},e.fireGridStylesChangedEvent()})),this.mutationObserver.observe(i||this.eGridDiv,{attributes:!0,attributeFilter:["class"]})},e.prototype.fireGridStylesChangedEvent=function(){var t={type:zt.EVENT_GRID_STYLES_CHANGED};this.eventService.dispatchEvent(t)},e.prototype.getSassVariable=function(t){var e=this.getTheme(),i=e.themeFamily,o=e.el;if(i&&0===i.indexOf("ag-theme")){this.calculatedSizes||(this.calculatedSizes={}),this.calculatedSizes[i]||(this.calculatedSizes[i]={});var n=this.calculatedSizes[i][t];return null!=n?n:(this.calculatedSizes[i][t]=this.calculateValueForSassProperty(t,i,o),this.calculatedSizes[i][t])}},e.prototype.calculateValueForSassProperty=function(t,e,i){var o,n="ag-theme-"+(e.match("material")?"material":e.match("balham")?"balham":e.match("alpine")?"alpine":"custom"),r=Of[n][t],s=this.gridOptionsService.getDocument();if(i||(i=this.eGridDiv),!xf[t])return r;var a=xf[t],l=s.createElement("div"),c=Array.from(i.classList);(o=l.classList).add.apply(o,wf([e],c)),l.style.position="absolute";var u=a.reduce((function(t,e){var i=s.createElement("div");return i.style.position="static",i.classList.add(e),t.appendChild(i),i}),l),h=0;if(s.body){s.body.appendChild(l);var d=-1!==t.toLowerCase().indexOf("height")?"height":"width";h=parseInt(window.getComputedStyle(u)[d],10),s.body.removeChild(l)}return h||r},e.prototype.isThemeDark=function(){var t=this.getTheme().theme;return!!t&&t.indexOf("dark")>=0},e.prototype.chartMenuPanelWidth=function(){return this.getSassVariable("chartMenuPanelWidth")},e.prototype.getTheme=function(){for(var t=/\bag-(material|(?:theme-([\w\-]*)))\b/g,e=this.eGridDiv,i=null,o=[];e;){if(i=t.exec(e.className)){var n=e.className.match(t);n&&(o=n);break}e=e.parentElement||void 0}if(!i)return{allThemes:o};var r=i[0];return{theme:r,el:e,themeFamily:r.replace(/-dark$/,""),allThemes:o}},e.prototype.getFromTheme=function(t,e){var i;return null!==(i=this.getSassVariable(e))&&void 0!==i?i:t},e.prototype.getDefaultRowHeight=function(){return this.getFromTheme(25,"rowHeight")},e.prototype.getListItemHeight=function(){return this.getFromTheme(20,"listItemHeight")},e.prototype.setRowHeightVariable=function(t){var e=t+"px";this.eGridDiv.style.getPropertyValue("--ag-line-height").trim()!=e&&this.eGridDiv.style.setProperty("--ag-line-height",e)},e.prototype.getMinColWidth=function(){var t=this.getFromTheme(null,"headerCellMinWidth");return n(t)?Math.max(t,10):10},e.prototype.destroy=function(){this.calculatedSizes=null,this.mutationObserver&&this.mutationObserver.disconnect(),t.prototype.destroy.call(this)},Ef([K("eGridDiv")],e.prototype,"eGridDiv",void 0),Ef([H],e.prototype,"postConstruct",null),e=Ef([z("environment")],e)}(jt),Tf=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),Mf=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},Df=function(t,e){return function(i,o){e(i,o,t)}},Af=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.scrollY=0,e.uiBodyHeight=0,e}return Tf(e,t),e.prototype.agWire=function(t){this.logger=t.create("RowContainerHeightService")},e.prototype.postConstruct=function(){this.addManagedListener(this.eventService,zt.EVENT_BODY_HEIGHT_CHANGED,this.updateOffset.bind(this)),this.maxDivHeight=Ii(),this.logger.log("maxDivHeight = "+this.maxDivHeight)},e.prototype.isStretching=function(){return this.stretching},e.prototype.getDivStretchOffset=function(){return this.divStretchOffset},e.prototype.updateOffset=function(){if(this.stretching){var t=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition().top,e=this.getUiBodyHeight();(t!==this.scrollY||e!==this.uiBodyHeight)&&(this.scrollY=t,this.uiBodyHeight=e,this.calculateOffset())}},e.prototype.calculateOffset=function(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;var t=this.scrollY/this.maxScrollY,e=t*this.pixelsToShave;this.logger.log("Div Stretch Offset = "+e+" ("+this.pixelsToShave+" * "+t+")"),this.setDivStretchOffset(e)},e.prototype.setUiContainerHeight=function(t){t!==this.uiContainerHeight&&(this.uiContainerHeight=t,this.eventService.dispatchEvent({type:zt.EVENT_ROW_CONTAINER_HEIGHT_CHANGED}))},e.prototype.clearOffset=function(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)},e.prototype.setDivStretchOffset=function(t){var e="number"==typeof t?Math.floor(t):null;this.divStretchOffset!==e&&(this.divStretchOffset=e,this.eventService.dispatchEvent({type:zt.EVENT_HEIGHT_SCALE_CHANGED}))},e.prototype.setModelHeight=function(t){this.modelHeight=t,this.stretching=null!=t&&this.maxDivHeight>0&&t>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()},e.prototype.getUiContainerHeight=function(){return this.uiContainerHeight},e.prototype.getRealPixelPosition=function(t){return t-this.divStretchOffset},e.prototype.getUiBodyHeight=function(){var t=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition();return t.bottom-t.top},e.prototype.getScrollPositionForPixel=function(t){if(this.pixelsToShave<=0)return t;var e=t/(this.modelHeight-this.getUiBodyHeight());return this.maxScrollY*e},Mf([K("ctrlsService")],e.prototype,"ctrlsService",void 0),Mf([Df(0,Z("loggerFactory"))],e.prototype,"agWire",null),Mf([H],e.prototype,"postConstruct",null),e=Mf([z("rowContainerHeightService")],e)}(jt),Rf=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),Lf=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},If=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Rf(e,t),e.prototype.init=function(){this.groupSelectsChildren=this.gridOptionsService.is("groupSelectsChildren"),this.isRowSelectableFunc=this.gridOptionsService.get("isRowSelectable")},e.prototype.updateSelectableAfterGrouping=function(t){if(this.isRowSelectableFunc){this.recurseDown(t.childrenAfterGroup,(function(t){return t.childrenAfterGroup}))}},e.prototype.recurseDown=function(t,e){var i=this;t&&t.forEach((function(t){if(t.group){var o;if(t.hasChildren()&&i.recurseDown(e(t),e),i.groupSelectsChildren)o=n((e(t)||[]).find((function(t){return!0===t.selectable})));else o=!!i.isRowSelectableFunc&&i.isRowSelectableFunc(t);t.setRowSelectable(o)}}))},Lf([H],e.prototype,"init",null),e=Lf([z("selectableService")],e)}(jt),Nf=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),kf=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},Ff=function(t){function e(){var e=t.call(this)||this;return e.previousAndFirstButtonsDisabled=!1,e.nextButtonDisabled=!1,e.lastButtonDisabled=!1,e.areListenersSetup=!1,e}return Nf(e,t),e.prototype.postConstruct=function(){var t=this.gridOptionsService.is("enableRtl");this.setTemplate(this.getTemplate()),this.btFirst.insertAdjacentElement("afterbegin",jo(t?"last":"first",this.gridOptionsService)),this.btPrevious.insertAdjacentElement("afterbegin",jo(t?"next":"previous",this.gridOptionsService)),this.btNext.insertAdjacentElement("afterbegin",jo(t?"previous":"next",this.gridOptionsService)),this.btLast.insertAdjacentElement("afterbegin",jo(t?"first":"last",this.gridOptionsService)),this.addManagedPropertyListener("pagination",this.onPaginationChanged.bind(this)),this.addManagedPropertyListener("suppressPaginationPanel",this.onPaginationChanged.bind(this)),this.onPaginationChanged()},e.prototype.onPaginationChanged=function(){var t=this.gridOptionsService.is("pagination")&&!this.gridOptionsService.is("suppressPaginationPanel");this.setDisplayed(t),t&&(this.setupListeners(),this.enableOrDisableButtons(),this.updateRowLabels(),this.setCurrentPageLabel(),this.setTotalLabels())},e.prototype.setupListeners=function(){var t=this;this.areListenersSetup||(this.addManagedListener(this.eventService,zt.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach((function(e){var i=e.el,o=e.fn;t.addManagedListener(i,"click",o),t.addManagedListener(i,"keydown",(function(t){t.key!==Uo.ENTER&&t.key!==Uo.SPACE||(t.preventDefault(),o())}))})),this.areListenersSetup=!0)},e.prototype.onBtFirst=function(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToFirstPage()},e.prototype.setCurrentPageLabel=function(){var t=this.paginationProxy.getTotalPages()>0,e=this.paginationProxy.getCurrentPage(),i=t?e+1:0;this.lbCurrent.innerHTML=this.formatNumber(i)},e.prototype.formatNumber=function(t){var e=this.gridOptionsService.getCallback("paginationNumberFormatter");if(e)return e({value:t});var i=this.localeService.getLocaleTextFunc();return Wi(t,i("thousandSeparator",","),i("decimalSeparator","."))},e.prototype.getTemplate=function(){var t=this.localeService.getLocaleTextFunc(),e=t("page","Page"),i=t("to","to"),o=t("of","of"),n=t("firstPage","First Page"),r=t("previousPage","Previous Page"),s=t("nextPage","Next Page"),a=t("lastPage","Last Page"),l=this.getCompId();return'<div class="ag-paging-panel ag-unselectable" id="ag-'+l+'">\n                <span class="ag-paging-row-summary-panel" role="status">\n                    <span id="ag-'+l+'-first-row" ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    <span id="ag-'+l+'-to">'+i+'</span>\n                    <span id="ag-'+l+'-last-row" ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    <span id="ag-'+l+'-of">'+o+'</span>\n                    <span id="ag-'+l+'-row-count" ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>\n                </span>\n                <span class="ag-paging-page-summary-panel" role="presentation">\n                    <div ref="btFirst" class="ag-paging-button" role="button" aria-label="'+n+'"></div>\n                    <div ref="btPrevious" class="ag-paging-button" role="button" aria-label="'+r+'"></div>\n                    <span class="ag-paging-description" role="status">\n                        <span id="ag-'+l+'-start-page">'+e+'</span>\n                        <span id="ag-'+l+'-start-page-number" ref="lbCurrent" class="ag-paging-number"></span>\n                        <span id="ag-'+l+'-of-page">'+o+'</span>\n                        <span id="ag-'+l+'-of-page-number" ref="lbTotal" class="ag-paging-number"></span>\n                    </span>\n                    <div ref="btNext" class="ag-paging-button" role="button" aria-label="'+s+'"></div>\n                    <div ref="btLast" class="ag-paging-button" role="button" aria-label="'+a+'"></div>\n                </span>\n            </div>'},e.prototype.onBtNext=function(){this.nextButtonDisabled||this.paginationProxy.goToNextPage()},e.prototype.onBtPrevious=function(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToPreviousPage()},e.prototype.onBtLast=function(){this.lastButtonDisabled||this.paginationProxy.goToLastPage()},e.prototype.enableOrDisableButtons=function(){var t=this.paginationProxy.getCurrentPage(),e=this.paginationProxy.isLastPageFound(),i=this.paginationProxy.getTotalPages();this.previousAndFirstButtonsDisabled=0===t,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);var o=this.isZeroPagesToDisplay(),n=e&&t===i-1;this.nextButtonDisabled=n||o,this.lastButtonDisabled=!e||o||t===i-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)},e.prototype.toggleButtonDisabled=function(t,e){ei(t,e),t.classList.toggle("ag-disabled",e),e?t.removeAttribute("tabindex"):t.setAttribute("tabindex","0")},e.prototype.updateRowLabels=function(){var t,e,i=this.paginationProxy.getCurrentPage(),o=this.paginationProxy.getPageSize(),n=this.paginationProxy.isLastPageFound(),r=this.paginationProxy.isLastPageFound()?this.paginationProxy.getMasterRowCount():null;if(this.isZeroPagesToDisplay()?t=e=0:(e=(t=o*i+1)+o-1,n&&e>r&&(e=r)),this.lbFirstRowOnPage.innerHTML=this.formatNumber(t),this.rowNodeBlockLoader.isLoading()){var s=this.localeService.getLocaleTextFunc();this.lbLastRowOnPage.innerHTML=s("pageLastRowUnknown","?")}else this.lbLastRowOnPage.innerHTML=this.formatNumber(e)},e.prototype.isZeroPagesToDisplay=function(){var t=this.paginationProxy.isLastPageFound(),e=this.paginationProxy.getTotalPages();return t&&0===e},e.prototype.setTotalLabels=function(){var t=this.paginationProxy.isLastPageFound(),e=this.paginationProxy.getTotalPages(),i=t?this.paginationProxy.getMasterRowCount():null;if(1===i){var o=this.paginationProxy.getRow(0);if(o&&o.group&&!(o.groupData||o.aggData))return void this.setTotalLabelsToZero()}if(t)this.lbTotal.innerHTML=this.formatNumber(e),this.lbRecordCount.innerHTML=this.formatNumber(i);else{var n=this.localeService.getLocaleTextFunc()("more","more");this.lbTotal.innerHTML=n,this.lbRecordCount.innerHTML=n}},e.prototype.setTotalLabelsToZero=function(){this.lbFirstRowOnPage.innerHTML=this.formatNumber(0),this.lbCurrent.innerHTML=this.formatNumber(0),this.lbLastRowOnPage.innerHTML=this.formatNumber(0),this.lbTotal.innerHTML=this.formatNumber(0),this.lbRecordCount.innerHTML=this.formatNumber(0)},kf([K("paginationProxy")],e.prototype,"paginationProxy",void 0),kf([K("rowNodeBlockLoader")],e.prototype,"rowNodeBlockLoader",void 0),kf([mn("btFirst")],e.prototype,"btFirst",void 0),kf([mn("btPrevious")],e.prototype,"btPrevious",void 0),kf([mn("btNext")],e.prototype,"btNext",void 0),kf([mn("btLast")],e.prototype,"btLast",void 0),kf([mn("lbRecordCount")],e.prototype,"lbRecordCount",void 0),kf([mn("lbFirstRowOnPage")],e.prototype,"lbFirstRowOnPage",void 0),kf([mn("lbLastRowOnPage")],e.prototype,"lbLastRowOnPage",void 0),kf([mn("lbCurrent")],e.prototype,"lbCurrent",void 0),kf([mn("lbTotal")],e.prototype,"lbTotal",void 0),kf([H],e.prototype,"postConstruct",null),e}(gn),Bf=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),Gf=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s};!function(t){t[t.Loading=0]="Loading",t[t.NoRows=1]="NoRows"}(ep||(ep={}));var jf=function(t){function e(){var i=t.call(this,e.TEMPLATE)||this;return i.inProgress=!1,i.destroyRequested=!1,i.manuallyDisplayed=!1,i}return Bf(e,t),e.prototype.updateLayoutClasses=function(t,e){var i=this.eOverlayWrapper.classList;i.toggle(Ia.AUTO_HEIGHT,e.autoHeight),i.toggle(Ia.NORMAL,e.normal),i.toggle(Ia.PRINT,e.print)},e.prototype.postConstruct=function(){this.createManagedBean(new Ya(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.addManagedListener(this.eventService,zt.EVENT_ROW_DATA_UPDATED,this.onRowDataUpdated.bind(this)),this.addManagedListener(this.eventService,zt.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.gridOptionsService.isRowModelType("clientSide")&&!this.gridOptionsService.get("rowData")&&this.showLoadingOverlay(),this.gridApi.registerOverlayWrapperComp(this)},e.prototype.setWrapperTypeClass=function(t){var e=this.eOverlayWrapper.classList;e.toggle("ag-overlay-loading-wrapper",t===ep.Loading),e.toggle("ag-overlay-no-rows-wrapper",t===ep.NoRows)},e.prototype.showLoadingOverlay=function(){if(!this.gridOptionsService.is("suppressLoadingOverlay")){var t=this.userComponentFactory.getLoadingOverlayCompDetails({}).newAgStackInstance();this.showOverlay(t,ep.Loading)}},e.prototype.showNoRowsOverlay=function(){if(!this.gridOptionsService.is("suppressNoRowsOverlay")){var t=this.userComponentFactory.getNoRowsOverlayCompDetails({}).newAgStackInstance();this.showOverlay(t,ep.NoRows)}},e.prototype.showOverlay=function(t,e){var i=this;this.inProgress||(this.setWrapperTypeClass(e),this.destroyActiveOverlay(),this.inProgress=!0,t&&t.then((function(t){i.inProgress=!1,i.eOverlayWrapper.appendChild(t.getGui()),i.activeOverlay=t,i.destroyRequested&&(i.destroyRequested=!1,i.destroyActiveOverlay())})),this.manuallyDisplayed=this.columnModel.isReady()&&!this.paginationProxy.isEmpty(),this.setDisplayed(!0,{skipAriaHidden:!0}))},e.prototype.destroyActiveOverlay=function(){this.inProgress?this.destroyRequested=!0:this.activeOverlay&&(this.activeOverlay=this.getContext().destroyBean(this.activeOverlay),mo(this.eOverlayWrapper))},e.prototype.hideOverlay=function(){this.manuallyDisplayed=!1,this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})},e.prototype.destroy=function(){this.destroyActiveOverlay(),t.prototype.destroy.call(this)},e.prototype.showOrHideOverlay=function(){var t=this.paginationProxy.isEmpty(),e=this.gridOptionsService.is("suppressNoRowsOverlay");t&&!e?this.showNoRowsOverlay():this.hideOverlay()},e.prototype.onRowDataUpdated=function(){this.showOrHideOverlay()},e.prototype.onNewColumnsLoaded=function(){!this.columnModel.isReady()||this.paginationProxy.isEmpty()||this.manuallyDisplayed||this.hideOverlay()},e.TEMPLATE='\n        <div class="ag-overlay" aria-hidden="true">\n            <div class="ag-overlay-panel">\n                <div class="ag-overlay-wrapper" ref="eOverlayWrapper"></div>\n            </div>\n        </div>',Gf([K("userComponentFactory")],e.prototype,"userComponentFactory",void 0),Gf([K("paginationProxy")],e.prototype,"paginationProxy",void 0),Gf([K("gridApi")],e.prototype,"gridApi",void 0),Gf([K("columnModel")],e.prototype,"columnModel",void 0),Gf([mn("eOverlayWrapper")],e.prototype,"eOverlayWrapper",void 0),Gf([H],e.prototype,"postConstruct",null),e}(gn),Vf=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),Uf=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},Wf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Vf(e,t),e.prototype.getFirstRow=function(){var t,e=0;return this.pinnedRowModel.getPinnedTopRowCount()?t="top":this.rowModel.getRowCount()?(t=null,e=this.paginationProxy.getPageFirstRow()):this.pinnedRowModel.getPinnedBottomRowCount()&&(t="bottom"),void 0===t?null:{rowIndex:e,rowPinned:t}},e.prototype.getLastRow=function(){var t,e=null,i=this.pinnedRowModel.getPinnedBottomRowCount(),o=this.pinnedRowModel.getPinnedTopRowCount();return i?(e="bottom",t=i-1):this.rowModel.getRowCount()?(e=null,t=this.paginationProxy.getPageLastRow()):o&&(e="top",t=o-1),void 0===t?null:{rowIndex:t,rowPinned:e}},e.prototype.getRowNode=function(t){switch(t.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[t.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[t.rowIndex];default:return this.rowModel.getRow(t.rowIndex)}},e.prototype.sameRow=function(t,e){return!t&&!e||!(t&&!e||!t&&e)&&(t.rowIndex===e.rowIndex&&t.rowPinned==e.rowPinned)},e.prototype.before=function(t,e){switch(t.rowPinned){case"top":if("top"!==e.rowPinned)return!0;break;case"bottom":if("bottom"!==e.rowPinned)return!1;break;default:if(n(e.rowPinned))return"top"!==e.rowPinned}return t.rowIndex<e.rowIndex},e.prototype.rowMax=function(t){var e,i=this;return t.forEach((function(t){(void 0===e||i.before(e,t))&&(e=t)})),e},e.prototype.rowMin=function(t){var e,i=this;return t.forEach((function(t){(void 0===e||i.before(t,e))&&(e=t)})),e},Uf([K("rowModel")],e.prototype,"rowModel",void 0),Uf([K("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),Uf([K("paginationProxy")],e.prototype,"paginationProxy",void 0),e=Uf([z("rowPositionUtils")],e)}(jt),Hf=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),$f=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},zf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Hf(e,t),e.prototype.createId=function(t){var e=t.rowIndex,i=t.rowPinned,o=t.column;return this.createIdFromValues({rowIndex:e,column:o,rowPinned:i})},e.prototype.createIdFromValues=function(t){var e=t.rowIndex,i=t.rowPinned;return e+"."+(null==i?"null":i)+"."+t.column.getId()},e.prototype.equals=function(t,e){var i=t.column===e.column,o=t.rowPinned===e.rowPinned,n=t.rowIndex===e.rowIndex;return i&&o&&n},e=$f([z("cellPositionUtils")],e)}(jt),Kf=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),Yf=function(t){this.cellValueChanges=t},Xf=function(t){function e(e,i,o,n){var r=t.call(this,e)||this;return r.initialRange=i,r.finalRange=o,r.ranges=n,r}return Kf(e,t),e}(Yf),Zf=function(){function t(e){this.actionStack=[],this.maxStackSize=e||t.DEFAULT_STACK_SIZE,this.actionStack=new Array(this.maxStackSize)}return t.prototype.pop=function(){return this.actionStack.pop()},t.prototype.push=function(t){t.cellValueChanges&&t.cellValueChanges.length>0&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(t))},t.prototype.clear=function(){this.actionStack=[]},t.prototype.getCurrentStackSize=function(){return this.actionStack.length},t.DEFAULT_STACK_SIZE=10,t}(),qf=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),Jf=function(){return Jf=Object.assign||function(t){for(var e,i=1,o=arguments.length;i<o;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},Jf.apply(this,arguments)},Qf=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},tg=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,n,r=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return s},eg=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(tg(arguments[e]));return t},ig=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cellValueChanges=[],e.activeCellEdit=null,e.activeRowEdit=null,e.isPasting=!1,e.isRangeInAction=!1,e.onCellValueChanged=function(t){var i={column:t.column,rowIndex:t.rowIndex,rowPinned:t.rowPinned},o=null!==e.activeCellEdit&&e.cellPositionUtils.equals(e.activeCellEdit,i),n=null!==e.activeRowEdit&&e.rowPositionUtils.sameRow(e.activeRowEdit,i);if(o||n||e.isPasting||e.isRangeInAction){var r=t.rowPinned,s=t.rowIndex,a=t.column,l=t.oldValue,c=t.value,u={rowPinned:r,rowIndex:s,columnId:a.getColId(),newValue:c,oldValue:l};e.cellValueChanges.push(u)}},e.clearStacks=function(){e.undoStack.clear(),e.redoStack.clear()},e}return qf(e,t),e.prototype.init=function(){var t=this;if(this.gridOptionsService.is("undoRedoCellEditing")){var e=this.gridOptionsService.getNum("undoRedoCellEditingLimit");e<=0||(this.undoStack=new Zf(e),this.redoStack=new Zf(e),this.addRowEditingListeners(),this.addCellEditingListeners(),this.addPasteListeners(),this.addFillListeners(),this.addCellKeyListeners(),this.addManagedListener(this.eventService,zt.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged),this.addManagedListener(this.eventService,zt.EVENT_MODEL_UPDATED,(function(e){e.keepUndoRedoStack||t.clearStacks()})),this.addManagedListener(this.eventService,zt.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,zt.EVENT_NEW_COLUMNS_LOADED,this.clearStacks),this.addManagedListener(this.eventService,zt.EVENT_COLUMN_GROUP_OPENED,this.clearStacks),this.addManagedListener(this.eventService,zt.EVENT_COLUMN_ROW_GROUP_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,zt.EVENT_COLUMN_MOVED,this.clearStacks),this.addManagedListener(this.eventService,zt.EVENT_COLUMN_PINNED,this.clearStacks),this.addManagedListener(this.eventService,zt.EVENT_COLUMN_VISIBLE,this.clearStacks),this.addManagedListener(this.eventService,zt.EVENT_ROW_DRAG_END,this.clearStacks),this.ctrlsService.whenReady((function(){t.gridBodyCtrl=t.ctrlsService.getGridBodyCtrl()})))}},e.prototype.getCurrentUndoStackSize=function(){return this.undoStack?this.undoStack.getCurrentStackSize():0},e.prototype.getCurrentRedoStackSize=function(){return this.redoStack?this.redoStack.getCurrentStackSize():0},e.prototype.undo=function(t){var e={type:zt.EVENT_UNDO_STARTED,source:t};this.eventService.dispatchEvent(e);var i=this.undoRedo(this.undoStack,this.redoStack,"initialRange","oldValue","undo"),o={type:zt.EVENT_UNDO_ENDED,source:t,operationPerformed:i};this.eventService.dispatchEvent(o)},e.prototype.redo=function(t){var e={type:zt.EVENT_REDO_STARTED,source:t};this.eventService.dispatchEvent(e);var i=this.undoRedo(this.redoStack,this.undoStack,"finalRange","newValue","redo"),o={type:zt.EVENT_REDO_ENDED,source:t,operationPerformed:i};this.eventService.dispatchEvent(o)},e.prototype.undoRedo=function(t,e,i,o,n){if(!t)return!1;var r=t.pop();return!(!r||!r.cellValueChanges)&&(this.processAction(r,(function(t){return t[o]}),n),r instanceof Xf?this.processRange(r.ranges||[r[i]]):this.processCell(r.cellValueChanges),e.push(r),!0)},e.prototype.processAction=function(t,e,i){var o=this;t.cellValueChanges.forEach((function(t){var n=t.rowIndex,r=t.rowPinned,s=t.columnId,a={rowIndex:n,rowPinned:r},l=o.getRowNode(a);l.displayed&&l.setDataValue(s,e(t),i)}))},e.prototype.processRange=function(t){var e,i=this;this.rangeService.removeAllCellRanges(!0),t.forEach((function(o,n){if(o){var r=o.startRow,s=o.endRow;n===t.length-1&&(e={rowPinned:r.rowPinned,rowIndex:r.rowIndex,columnId:o.startColumn.getColId()},i.setLastFocusedCell(e));var a={rowStartIndex:r.rowIndex,rowStartPinned:r.rowPinned,rowEndIndex:s.rowIndex,rowEndPinned:s.rowPinned,columnStart:o.startColumn,columns:o.columns};i.rangeService.addCellRange(a)}}))},e.prototype.processCell=function(t){var e=t[0],i={rowIndex:e.rowIndex,rowPinned:e.rowPinned},o=this.getRowNode(i),n={rowPinned:e.rowPinned,rowIndex:o.rowIndex,columnId:e.columnId};this.setLastFocusedCell(n,!!this.rangeService)},e.prototype.setLastFocusedCell=function(t,e){var i=t.rowIndex,o=t.columnId,n=t.rowPinned,r=this.gridBodyCtrl.getScrollFeature(),s=this.columnModel.getGridColumn(o);if(s){r.ensureIndexVisible(i),r.ensureColumnVisible(s);var a={rowIndex:i,column:s,rowPinned:n};this.focusService.setFocusedCell(Jf(Jf({},a),{forceBrowserFocus:!0})),e&&this.rangeService.setRangeToCell(a)}},e.prototype.addRowEditingListeners=function(){var t=this;this.addManagedListener(this.eventService,zt.EVENT_ROW_EDITING_STARTED,(function(e){t.activeRowEdit={rowIndex:e.rowIndex,rowPinned:e.rowPinned}})),this.addManagedListener(this.eventService,zt.EVENT_ROW_EDITING_STOPPED,(function(){var e=new Yf(t.cellValueChanges);t.pushActionsToUndoStack(e),t.activeRowEdit=null}))},e.prototype.addCellEditingListeners=function(){var t=this;this.addManagedListener(this.eventService,zt.EVENT_CELL_EDITING_STARTED,(function(e){t.activeCellEdit={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned}})),this.addManagedListener(this.eventService,zt.EVENT_CELL_EDITING_STOPPED,(function(e){if(t.activeCellEdit=null,e.valueChanged&&!t.activeRowEdit&&!t.isPasting&&!t.isRangeInAction){var i=new Yf(t.cellValueChanges);t.pushActionsToUndoStack(i)}}))},e.prototype.addPasteListeners=function(){var t=this;this.addManagedListener(this.eventService,zt.EVENT_PASTE_START,(function(){t.isPasting=!0})),this.addManagedListener(this.eventService,zt.EVENT_PASTE_END,(function(){var e=new Yf(t.cellValueChanges);t.pushActionsToUndoStack(e),t.isPasting=!1}))},e.prototype.addFillListeners=function(){var t=this;this.addManagedListener(this.eventService,zt.EVENT_FILL_START,(function(){t.isRangeInAction=!0})),this.addManagedListener(this.eventService,zt.EVENT_FILL_END,(function(e){var i=new Xf(t.cellValueChanges,e.initialRange,e.finalRange);t.pushActionsToUndoStack(i),t.isRangeInAction=!1}))},e.prototype.addCellKeyListeners=function(){var t=this;this.addManagedListener(this.eventService,zt.EVENT_KEY_SHORTCUT_CHANGED_CELL_START,(function(){t.isRangeInAction=!0})),this.addManagedListener(this.eventService,zt.EVENT_KEY_SHORTCUT_CHANGED_CELL_END,(function(){var e;e=t.rangeService&&t.gridOptionsService.isEnableRangeSelection()?new Xf(t.cellValueChanges,void 0,void 0,eg(t.rangeService.getCellRanges())):new Yf(t.cellValueChanges),t.pushActionsToUndoStack(e),t.isRangeInAction=!1}))},e.prototype.pushActionsToUndoStack=function(t){this.undoStack.push(t),this.cellValueChanges=[],this.redoStack.clear()},e.prototype.getRowNode=function(t){switch(t.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[t.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[t.rowIndex];default:return this.rowModel.getRow(t.rowIndex)}},Qf([K("focusService")],e.prototype,"focusService",void 0),Qf([K("ctrlsService")],e.prototype,"ctrlsService",void 0),Qf([K("rowModel")],e.prototype,"rowModel",void 0),Qf([K("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),Qf([K("cellPositionUtils")],e.prototype,"cellPositionUtils",void 0),Qf([K("rowPositionUtils")],e.prototype,"rowPositionUtils",void 0),Qf([K("columnModel")],e.prototype,"columnModel",void 0),Qf([Y("rangeService")],e.prototype,"rangeService",void 0),Qf([H],e.prototype,"init",null),e=Qf([z("undoRedoService")],e)}(jt),og=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),ng=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},rg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return og(e,t),e.prototype.findHeader=function(t,e){var i,o,n;if(t.column instanceof he?(o="getDisplayedGroup"+e,i=this.columnModel[o](t.column)):(n="getDisplayedCol"+e,i=this.columnModel[n](t.column)),i){var r=t.headerRowIndex;if(this.getHeaderRowType(r)===Wc.COLUMN_GROUP){var s=i;if(s.isPadding()&&this.isAnyChildSpanningHeaderHeight(s)){var a=this.getColumnVisibleChild(s,r,e),l=a.nextFocusColumn,c=a.nextRow;l&&(i=l,r=c)}}return{column:i,headerRowIndex:r}}},e.prototype.isAnyChildSpanningHeaderHeight=function(t){return!!t&&t.getLeafColumns().some((function(t){return t.isSpanHeaderHeight()}))},e.prototype.getColumnVisibleParent=function(t,e){var i=this.getHeaderRowType(e),o=i===Wc.FLOATING_FILTER,n=i===Wc.COLUMN,r=o?t:t.getParent(),s=e-1;if(n&&this.isAnyChildSpanningHeaderHeight(t.getParent())){for(;r&&r.isPadding();)r=r.getParent(),s--;s<0&&(r=t,s=e)}return{nextFocusColumn:r,nextRow:s}},e.prototype.getColumnVisibleChild=function(t,e,i){void 0===i&&(i="After");var o=t,n=e+1;if(this.getHeaderRowType(e)===Wc.COLUMN_GROUP){var r=t.getLeafColumns(),s="After"===i?r[0]:ft(r);if(this.isAnyChildSpanningHeaderHeight(s.getParent())){o=s;for(var a=s.getParent();a&&a!==t;)a=a.getParent(),n++}else o=t.getDisplayedChildren()[0]}return{nextFocusColumn:o,nextRow:n}},e.prototype.getHeaderRowType=function(t){var e=this.ctrlsService.getHeaderRowContainerCtrl();if(e)return e.getRowType(t)},e.prototype.findColAtEdgeForHeaderRow=function(t,e){var i=this.columnModel.getAllDisplayedColumns(),o=i["start"===e?0:i.length-1];if(o){var n=this.ctrlsService.getHeaderRowContainerCtrl(o.getPinned()).getRowType(t);return n==Wc.COLUMN_GROUP?{headerRowIndex:t,column:this.columnModel.getColumnGroupAtLevel(o,t)}:{headerRowIndex:null==n?-1:t,column:o}}},ng([K("columnModel")],e.prototype,"columnModel",void 0),ng([K("ctrlsService")],e.prototype,"ctrlsService",void 0),e=ng([z("headerPositionUtils")],e)}(jt),sg=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},ag=function(){function t(){}return t.prototype.buildColumnDefs=function(t,e,i){var o=this,n=[],r={};return t.forEach((function(t){for(var s=!0,a=o.createDefFromColumn(t,e,i),l=t.getOriginalParent();l;){var c=null;if(l.isPadding())l=l.getOriginalParent();else{var u=r[l.getGroupId()];if(u){u.children.push(a),s=!1;break}(c=o.createDefFromGroup(l))&&(c.children=[a],r[c.groupId]=c,a=c,l=l.getOriginalParent())}}s&&n.push(a)})),n},t.prototype.createDefFromGroup=function(t){var e=g(t.getColGroupDef(),["children"]);return e&&(e.groupId=t.getGroupId()),e},t.prototype.createDefFromColumn=function(t,e,i){var o=g(t.getColDef());return o.colId=t.getColId(),o.width=t.getActualWidth(),o.rowGroup=t.isRowGroupActive(),o.rowGroupIndex=t.isRowGroupActive()?e.indexOf(t):null,o.pivot=t.isPivotActive(),o.pivotIndex=t.isPivotActive()?i.indexOf(t):null,o.aggFunc=t.isValueActive()?t.getAggFunc():null,o.hide=!t.isVisible()||void 0,o.pinned=t.isPinned()?t.getPinned():null,o.sort=t.getSort()?t.getSort():null,o.sortIndex=null!=t.getSortIndex()?t.getSortIndex():null,o},t=sg([z("columnDefFactory")],t)}(),lg=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},cg=function(){function t(){}return t.prototype.getInitialRowClasses=function(t){var e=[];return n(t.extraCssClass)&&e.push(t.extraCssClass),e.push("ag-row"),e.push(t.rowFocused?"ag-row-focus":"ag-row-no-focus"),t.fadeRowIn&&e.push("ag-opacity-zero"),e.push(t.rowIsEven?"ag-row-even":"ag-row-odd"),t.rowNode.isRowPinned()&&e.push("ag-row-pinned"),t.rowNode.isSelected()&&e.push("ag-row-selected"),t.rowNode.footer&&e.push("ag-row-footer"),e.push("ag-row-level-"+t.rowLevel),t.rowNode.stub&&e.push("ag-row-loading"),t.fullWidthRow&&e.push("ag-full-width-row"),t.expandable&&(e.push("ag-row-group"),e.push(t.rowNode.expanded?"ag-row-group-expanded":"ag-row-group-contracted")),t.rowNode.dragging&&e.push("ag-row-dragging"),St(e,this.processClassesFromGridOptions(t.rowNode)),St(e,this.preProcessRowClassRules(t.rowNode)),e.push(t.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),t.firstRowOnPage&&e.push("ag-row-first"),t.lastRowOnPage&&e.push("ag-row-last"),t.fullWidthRow&&("left"===t.pinned&&e.push("ag-cell-last-left-pinned"),"right"===t.pinned&&e.push("ag-cell-first-right-pinned")),e},t.prototype.processClassesFromGridOptions=function(t){var e=[],i=function(t){"string"==typeof t?e.push(t):Array.isArray(t)&&t.forEach((function(t){return e.push(t)}))},o=this.gridOptionsService.get("rowClass");if(o){if("function"==typeof o)return console.warn("AG Grid: rowClass should not be a function, please use getRowClass instead"),[];i(o)}var n=this.gridOptionsService.getCallback("getRowClass");n&&i(n({data:t.data,node:t,rowIndex:t.rowIndex}));return e},t.prototype.preProcessRowClassRules=function(t){var e=[];return this.processRowClassRules(t,(function(t){e.push(t)}),(function(t){})),e},t.prototype.processRowClassRules=function(t,e,i){var o={data:t.data,node:t,rowIndex:t.rowIndex,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};this.stylingService.processClassRules(this.gridOptionsService.get("rowClassRules"),o,e,i)},t.prototype.calculateRowLevel=function(t){return t.group?t.level:t.parent?t.parent.level+1:0},lg([K("stylingService")],t.prototype,"stylingService",void 0),lg([K("gridOptionsService")],t.prototype,"gridOptionsService",void 0),t=lg([z("rowCssClassCalculator")],t)}(),ug=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),hg=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},dg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ug(e,t),e.prototype.init=function(){var t=this;this.isAccentedSort=this.gridOptionsService.is("accentedSort"),this.primaryColumnsSortGroups=this.gridOptionsService.isColumnsSortingCoupledToGroup(),this.addManagedPropertyListener("accentedSort",(function(e){return t.isAccentedSort=e.currentValue})),this.addManagedPropertyListener("autoGroupColumnDef",(function(){return t.primaryColumnsSortGroups=t.gridOptionsService.isColumnsSortingCoupledToGroup()}))},e.prototype.doFullSort=function(t,e){var i=t.map((function(t,e){return{currentPos:e,rowNode:t}}));return i.sort(this.compareRowNodes.bind(this,e)),i.map((function(t){return t.rowNode}))},e.prototype.compareRowNodes=function(t,e,i){for(var o=e.rowNode,n=i.rowNode,r=0,s=t.length;r<s;r++){var a=t[r],l="desc"===a.sort,c=this.getValue(o,a.column),u=this.getValue(n,a.column),h=void 0,d=this.getComparator(a,o);if(h=d?d(c,u,o,n,l):on.defaultComparator(c,u,this.isAccentedSort),!isNaN(h)&&0!==h)return"asc"===a.sort?h:-1*h}return e.currentPos-i.currentPos},e.prototype.getComparator=function(t,e){var i=t.column,o=i.getColDef().comparator;if(null!=o)return o;if(i.getColDef().showRowGroup){var n=!e.group&&i.getColDef().field;if(n){var r=this.columnModel.getPrimaryColumn(n);if(r)return r.getColDef().comparator}}},e.prototype.getValue=function(t,e){var i,o;if(!this.primaryColumnsSortGroups)return this.valueService.getValue(e,t,!1,!1);if(t.rowGroupColumn===e){if(this.gridOptionsService.isGroupUseEntireRow(this.columnModel.isPivotActive())){if(e.getColDef().keyCreator)return t.key;var n=null===(i=t.allLeafChildren)||void 0===i?void 0:i[0];return n?this.valueService.getValue(e,n,!1,!1):void 0}var r=this.columnModel.getGroupDisplayColumnForGroup(e.getId());if(!r)return;return null===(o=t.groupData)||void 0===o?void 0:o[r.getId()]}return t.group&&e.getColDef().showRowGroup?void 0:this.valueService.getValue(e,t,!1,!1)},hg([K("valueService")],e.prototype,"valueService",void 0),hg([K("columnModel")],e.prototype,"columnModel",void 0),hg([H],e.prototype,"init",null),e=hg([z("rowNodeSorter")],e)}(jt),pg=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),fg=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},gg=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ready=!1,e.readyCallbacks=[],e}var i;return pg(e,t),i=e,e.prototype.checkReady=function(){if(this.ready=null!=this.gridCtrl&&null!=this.gridBodyCtrl&&null!=this.centerRowContainerCtrl&&null!=this.leftRowContainerCtrl&&null!=this.rightRowContainerCtrl&&null!=this.bottomCenterRowContainerCtrl&&null!=this.bottomLeftRowContainerCtrl&&null!=this.bottomRightRowContainerCtrl&&null!=this.topCenterRowContainerCtrl&&null!=this.topLeftRowContainerCtrl&&null!=this.topRightRowContainerCtrl&&null!=this.stickyTopCenterRowContainerCtrl&&null!=this.stickyTopLeftRowContainerCtrl&&null!=this.stickyTopRightRowContainerCtrl&&null!=this.centerHeaderRowContainerCtrl&&null!=this.leftHeaderRowContainerCtrl&&null!=this.rightHeaderRowContainerCtrl&&null!=this.fakeHScrollComp&&null!=this.fakeVScrollComp&&null!=this.gridHeaderCtrl,this.ready){var t=this.createReadyParams();this.readyCallbacks.forEach((function(e){return e(t)})),this.readyCallbacks.length=0}},e.prototype.whenReady=function(t){this.ready?t(this.createReadyParams()):this.readyCallbacks.push(t)},e.prototype.createReadyParams=function(){return{centerRowContainerCtrl:this.centerRowContainerCtrl,leftRowContainerCtrl:this.leftRowContainerCtrl,rightRowContainerCtrl:this.rightRowContainerCtrl,bottomCenterRowContainerCtrl:this.bottomCenterRowContainerCtrl,bottomLeftRowContainerCtrl:this.bottomLeftRowContainerCtrl,bottomRightRowContainerCtrl:this.bottomRightRowContainerCtrl,topCenterRowContainerCtrl:this.topCenterRowContainerCtrl,topLeftRowContainerCtrl:this.topLeftRowContainerCtrl,topRightRowContainerCtrl:this.topRightRowContainerCtrl,stickyTopCenterRowContainerCtrl:this.stickyTopCenterRowContainerCtrl,stickyTopLeftRowContainerCtrl:this.stickyTopLeftRowContainerCtrl,stickyTopRightRowContainerCtrl:this.stickyTopRightRowContainerCtrl,centerHeaderRowContainerCtrl:this.centerHeaderRowContainerCtrl,leftHeaderRowContainerCtrl:this.leftHeaderRowContainerCtrl,rightHeaderRowContainerCtrl:this.rightHeaderRowContainerCtrl,fakeHScrollComp:this.fakeHScrollComp,fakeVScrollComp:this.fakeVScrollComp,gridBodyCtrl:this.gridBodyCtrl,gridCtrl:this.gridCtrl,gridHeaderCtrl:this.gridHeaderCtrl}},e.prototype.registerFakeHScrollComp=function(t){this.fakeHScrollComp=t,this.checkReady()},e.prototype.registerFakeVScrollComp=function(t){this.fakeVScrollComp=t,this.checkReady()},e.prototype.registerGridHeaderCtrl=function(t){this.gridHeaderCtrl=t,this.checkReady()},e.prototype.registerCenterRowContainerCtrl=function(t){this.centerRowContainerCtrl=t,this.checkReady()},e.prototype.registerLeftRowContainerCtrl=function(t){this.leftRowContainerCtrl=t,this.checkReady()},e.prototype.registerRightRowContainerCtrl=function(t){this.rightRowContainerCtrl=t,this.checkReady()},e.prototype.registerTopCenterRowContainerCtrl=function(t){this.topCenterRowContainerCtrl=t,this.checkReady()},e.prototype.registerTopLeftRowContainerCon=function(t){this.topLeftRowContainerCtrl=t,this.checkReady()},e.prototype.registerTopRightRowContainerCtrl=function(t){this.topRightRowContainerCtrl=t,this.checkReady()},e.prototype.registerStickyTopCenterRowContainerCtrl=function(t){this.stickyTopCenterRowContainerCtrl=t,this.checkReady()},e.prototype.registerStickyTopLeftRowContainerCon=function(t){this.stickyTopLeftRowContainerCtrl=t,this.checkReady()},e.prototype.registerStickyTopRightRowContainerCtrl=function(t){this.stickyTopRightRowContainerCtrl=t,this.checkReady()},e.prototype.registerBottomCenterRowContainerCtrl=function(t){this.bottomCenterRowContainerCtrl=t,this.checkReady()},e.prototype.registerBottomLeftRowContainerCtrl=function(t){this.bottomLeftRowContainerCtrl=t,this.checkReady()},e.prototype.registerBottomRightRowContainerCtrl=function(t){this.bottomRightRowContainerCtrl=t,this.checkReady()},e.prototype.registerHeaderContainer=function(t,e){switch(e){case"left":this.leftHeaderRowContainerCtrl=t;break;case"right":this.rightHeaderRowContainerCtrl=t;break;default:this.centerHeaderRowContainerCtrl=t}this.checkReady()},e.prototype.registerGridBodyCtrl=function(t){this.gridBodyCtrl=t,this.checkReady()},e.prototype.registerGridCtrl=function(t){this.gridCtrl=t,this.checkReady()},e.prototype.getFakeHScrollComp=function(){return this.fakeHScrollComp},e.prototype.getFakeVScrollComp=function(){return this.fakeVScrollComp},e.prototype.getGridHeaderCtrl=function(){return this.gridHeaderCtrl},e.prototype.getGridCtrl=function(){return this.gridCtrl},e.prototype.getCenterRowContainerCtrl=function(){return this.centerRowContainerCtrl},e.prototype.getTopCenterRowContainerCtrl=function(){return this.topCenterRowContainerCtrl},e.prototype.getBottomCenterRowContainerCtrl=function(){return this.bottomCenterRowContainerCtrl},e.prototype.getStickyTopCenterRowContainerCtrl=function(){return this.stickyTopCenterRowContainerCtrl},e.prototype.getGridBodyCtrl=function(){return this.gridBodyCtrl},e.prototype.getHeaderRowContainerCtrls=function(){return[this.leftHeaderRowContainerCtrl,this.rightHeaderRowContainerCtrl,this.centerHeaderRowContainerCtrl]},e.prototype.getHeaderRowContainerCtrl=function(t){switch(t){case"left":return this.leftHeaderRowContainerCtrl;case"right":return this.rightHeaderRowContainerCtrl;default:return this.centerHeaderRowContainerCtrl}},e.NAME="ctrlsService",e=i=fg([z(i.NAME)],e)}(jt),mg=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),yg=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},vg=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.registry={},e}return mg(e,t),e.prototype.register=function(t){this.registry[t.controllerName]=t.controllerClass},e.prototype.getInstance=function(t){var e=this.registry[t];if(null!=e)return new e},e=yg([z("ctrlsFactory")],e)}(jt),_g=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),Cg=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},bg=function(t){function e(e,i){var o=t.call(this,e)||this;return o.direction=i,o.hideTimeout=null,o}return _g(e,t),e.prototype.postConstruct=function(){this.addManagedListener(this.eventService,zt.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.onScrollVisibilityChanged(),this.addOrRemoveCssClass("ag-apple-scrollbar",Di()||Ai())},e.prototype.initialiseInvisibleScrollbar=function(){void 0===this.invisibleScrollbar&&(this.invisibleScrollbar=Gi(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))},e.prototype.addActiveListenerToggles=function(){var t=this,e=this.getGui();["mouseenter","mousedown","touchstart"].forEach((function(i){return t.addManagedListener(e,i,(function(){return t.addOrRemoveCssClass("ag-scrollbar-active",!0)}))})),["mouseleave","touchend"].forEach((function(i){return t.addManagedListener(e,i,(function(){return t.addOrRemoveCssClass("ag-scrollbar-active",!1)}))}))},e.prototype.onScrollVisibilityChanged=function(){void 0===this.invisibleScrollbar&&this.initialiseInvisibleScrollbar(),this.setScrollVisible()},e.prototype.hideAndShowInvisibleScrollAsNeeded=function(){var t=this;this.addManagedListener(this.eventService,zt.EVENT_BODY_SCROLL,(function(e){e.direction===t.direction&&(null!==t.hideTimeout&&(window.clearTimeout(t.hideTimeout),t.hideTimeout=null),t.addOrRemoveCssClass("ag-scrollbar-scrolling",!0))})),this.addManagedListener(this.eventService,zt.EVENT_BODY_SCROLL_END,(function(){t.hideTimeout=window.setTimeout((function(){t.addOrRemoveCssClass("ag-scrollbar-scrolling",!1),t.hideTimeout=null}),400)}))},e.prototype.getViewport=function(){return this.eViewport},e.prototype.getContainer=function(){return this.eContainer},Cg([mn("eViewport")],e.prototype,"eViewport",void 0),Cg([mn("eContainer")],e.prototype,"eContainer",void 0),Cg([K("scrollVisibleService")],e.prototype,"scrollVisibleService",void 0),Cg([K("ctrlsService")],e.prototype,"ctrlsService",void 0),e}(gn),Eg=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),Sg=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},wg=function(t){function e(){return t.call(this,e.TEMPLATE,"horizontal")||this}return Eg(e,t),e.prototype.postConstruct=function(){var e=this;t.prototype.postConstruct.call(this);var i=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedListener(this.eventService,zt.EVENT_DISPLAYED_COLUMNS_CHANGED,i),this.addManagedListener(this.eventService,zt.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,i),this.addManagedListener(this.eventService,zt.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedPropertyListener("domLayout",i),this.ctrlsService.registerFakeHScrollComp(this),this.createManagedBean(new uc((function(t){return e.eContainer.style.width=t+"px"})))},e.prototype.initialiseInvisibleScrollbar=function(){void 0===this.invisibleScrollbar&&(this.enableRtl=this.gridOptionsService.is("enableRtl"),t.prototype.initialiseInvisibleScrollbar.call(this),this.invisibleScrollbar&&this.refreshCompBottom())},e.prototype.onPinnedRowDataChanged=function(){this.refreshCompBottom()},e.prototype.refreshCompBottom=function(){if(this.invisibleScrollbar){var t=this.pinnedRowModel.getPinnedBottomTotalHeight();this.getGui().style.bottom=t+"px"}},e.prototype.onScrollVisibilityChanged=function(){t.prototype.onScrollVisibilityChanged.call(this),this.setFakeHScrollSpacerWidths()},e.prototype.setFakeHScrollSpacerWidths=function(){var t=this.scrollVisibleService.isVerticalScrollShowing(),e=this.columnModel.getDisplayedColumnsRightWidth(),i=!this.enableRtl&&t,o=this.gridOptionsService.getScrollbarWidth();i&&(e+=o),Mo(this.eRightSpacer,e),this.eRightSpacer.classList.toggle("ag-scroller-corner",e<=o);var n=this.columnModel.getDisplayedColumnsLeftWidth();this.enableRtl&&t&&(n+=o),Mo(this.eLeftSpacer,n),this.eLeftSpacer.classList.toggle("ag-scroller-corner",n<=o)},e.prototype.setScrollVisible=function(){var t=this.scrollVisibleService.isHorizontalScrollShowing(),e=this.invisibleScrollbar,i=this.gridOptionsService.is("suppressHorizontalScroll"),o=t&&this.gridOptionsService.getScrollbarWidth()||0,n=i?0:0===o&&e?16:o;this.addOrRemoveCssClass("ag-scrollbar-invisible",e),Do(this.getGui(),n),Do(this.eViewport,n),Do(this.eContainer,n),this.setDisplayed(t,{skipAriaHidden:!0})},e.TEMPLATE='<div class="ag-body-horizontal-scroll" aria-hidden="true">\n            <div class="ag-horizontal-left-spacer" ref="eLeftSpacer"></div>\n            <div class="ag-body-horizontal-scroll-viewport" ref="eViewport">\n                <div class="ag-body-horizontal-scroll-container" ref="eContainer"></div>\n            </div>\n            <div class="ag-horizontal-right-spacer" ref="eRightSpacer"></div>\n        </div>',Sg([mn("eLeftSpacer")],e.prototype,"eLeftSpacer",void 0),Sg([mn("eRightSpacer")],e.prototype,"eRightSpacer",void 0),Sg([K("columnModel")],e.prototype,"columnModel",void 0),Sg([K("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),Sg([H],e.prototype,"postConstruct",null),e}(bg),Og=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),xg=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},Pg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Og(e,t),e.prototype.postConstruct=function(){var t=this.checkContainerWidths.bind(this);this.addManagedListener(this.eventService,zt.EVENT_DISPLAYED_COLUMNS_CHANGED,t),this.addManagedListener(this.eventService,zt.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,t),this.addManagedPropertyListener("domLayout",t)},e.prototype.checkContainerWidths=function(){var t=this.gridOptionsService.isDomLayout("print"),e=t?0:this.columnModel.getDisplayedColumnsLeftWidth(),i=t?0:this.columnModel.getDisplayedColumnsRightWidth();e!=this.leftWidth&&(this.leftWidth=e,this.eventService.dispatchEvent({type:zt.EVENT_LEFT_PINNED_WIDTH_CHANGED})),i!=this.rightWidth&&(this.rightWidth=i,this.eventService.dispatchEvent({type:zt.EVENT_RIGHT_PINNED_WIDTH_CHANGED}))},e.prototype.getPinnedRightWidth=function(){return this.rightWidth},e.prototype.getPinnedLeftWidth=function(){return this.leftWidth},xg([K("columnModel")],e.prototype,"columnModel",void 0),xg([H],e.prototype,"postConstruct",null),e=xg([z("pinnedWidthService")],e)}(jt),Tg=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),Mg=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},Dg=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.events=[],e}return Tg(e,t),e.prototype.postConstruct=function(){"clientSide"==this.rowModel.getType()&&(this.clientSideRowModel=this.rowModel)},e.prototype.dispatchExpanded=function(t){var e=this;if(null!=this.clientSideRowModel){this.events.push(t);null==this.dispatchExpandedDebounced&&(this.dispatchExpandedDebounced=this.animationFrameService.debounce((function(){e.clientSideRowModel&&e.clientSideRowModel.onRowGroupOpened(),e.events.forEach((function(t){return e.eventService.dispatchEvent(t)})),e.events=[]}))),this.dispatchExpandedDebounced()}else this.eventService.dispatchEvent(t)},Mg([K("animationFrameService")],e.prototype,"animationFrameService",void 0),Mg([K("rowModel")],e.prototype,"rowModel",void 0),Mg([H],e.prototype,"postConstruct",null),e=Mg([z("rowNodeEventThrottle")],e)}(jt),Ag=function(){return Ag=Object.assign||function(t){for(var e,i=1,o=arguments.length;i<o;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},Ag.apply(this,arguments)},Rg=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},Lg=function(t,e){return function(i,o){e(i,o,t)}},Ig=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,n,r=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return s},Ng=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Ig(arguments[e]));return t};function kg(t){return!0===t||"true"===t}var Fg,Bg=function(){function t(){this.destroyed=!1,this.domDataKey="__AG_"+Math.random().toString(),this.propertyEventService=new et}return Object.defineProperty(t.prototype,"context",{get:function(){return this.gridOptions.context},enumerable:!1,configurable:!0}),t.prototype.agWire=function(t,e){this.gridOptions.api=t,this.gridOptions.columnApi=e,this.api=t,this.columnApi=e},t.prototype.init=function(){this.gridOptionLookup=new Set(Ng(Qt.ALL_PROPERTIES,Qt.EVENT_CALLBACKS));var t=!this.is("suppressAsyncEvents");this.eventService.addGlobalListener(this.globalEventHandler.bind(this),t),this.getScrollbarWidth()},t.prototype.destroy=function(){this.gridOptions.api=null,this.gridOptions.columnApi=null,this.destroyed=!0},t.prototype.is=function(t){return kg(this.gridOptions[t])},t.prototype.get=function(t){return this.gridOptions[t]},t.prototype.getNum=function(t){return"number"==typeof(e=this.gridOptions[t])?e:"string"==typeof e?parseInt(e,10):void 0;var e},t.prototype.getCallback=function(t){return this.mergeGridCommonParams(this.gridOptions[t])},t.prototype.exists=function(t){return n(this.gridOptions[t])},t.prototype.mergeGridCommonParams=function(t){var e=this;if(t){return function(i){var o=i;return o.api=e.api,o.columnApi=e.columnApi,o.context=e.context,t(o)}}return t},t.prototype.set=function(t,e,i,o){if(void 0===i&&(i=!1),void 0===o&&(o={}),this.gridOptionLookup.has(t)){var n=this.gridOptions[t];if(i||n!==e){this.gridOptions[t]=e;var r=Ag({type:t,currentValue:e,previousValue:n},o);this.propertyEventService.dispatchEvent(r)}}},t.prototype.addEventListener=function(t,e){this.propertyEventService.addEventListener(t,e)},t.prototype.removeEventListener=function(t,e){this.propertyEventService.removeEventListener(t,e)},t.prototype.globalEventHandler=function(t,e){if(!this.destroyed){var i=Qt.getCallbackForEvent(t);"function"==typeof this.gridOptions[i]&&this.gridOptions[i](e)}},t.prototype.getScrollbarWidth=function(){if(null==this.scrollbarWidth){var t="number"==typeof this.gridOptions.scrollbarWidth&&this.gridOptions.scrollbarWidth>=0?this.gridOptions.scrollbarWidth:Fi();null!=t&&(this.scrollbarWidth=t,this.eventService.dispatchEvent({type:zt.EVENT_SCROLLBAR_WIDTH_CHANGED}))}return this.scrollbarWidth},t.prototype.isRowModelType=function(t){return this.gridOptions.rowModelType===t||"clientSide"===t&&r(this.gridOptions.rowModelType)},t.prototype.isDomLayout=function(t){var e;return(null!==(e=this.gridOptions.domLayout)&&void 0!==e?e:"normal")===t},t.prototype.isRowSelection=function(){return"single"===this.gridOptions.rowSelection||"multiple"===this.gridOptions.rowSelection},t.prototype.useAsyncEvents=function(){return!this.is("suppressAsyncEvents")},t.prototype.isGetRowHeightFunction=function(){return"function"==typeof this.gridOptions.getRowHeight},t.prototype.getRowHeightForNode=function(t,e,i){if(void 0===e&&(e=!1),null==i&&(i=this.environment.getDefaultRowHeight()),this.isGetRowHeightFunction()){if(e)return{height:i,estimated:!0};var o={node:t,data:t.data},n=this.getCallback("getRowHeight")(o);if(this.isNumeric(n))return 0===n&&P((function(){return console.warn("AG Grid: The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead.")}),"invalidRowHeight"),{height:Math.max(1,n),estimated:!1}}return t.detail&&this.is("masterDetail")?this.getMasterDetailRowHeight():{height:this.gridOptions.rowHeight&&this.isNumeric(this.gridOptions.rowHeight)?this.gridOptions.rowHeight:i,estimated:!1}},t.prototype.getMasterDetailRowHeight=function(){return this.is("detailRowAutoHeight")?{height:1,estimated:!1}:this.isNumeric(this.gridOptions.detailRowHeight)?{height:this.gridOptions.detailRowHeight,estimated:!1}:{height:300,estimated:!1}},t.prototype.getRowHeightAsNumber=function(){if(!this.gridOptions.rowHeight||r(this.gridOptions.rowHeight))return this.environment.getDefaultRowHeight();var t=this.gridOptions.rowHeight;return t&&this.isNumeric(t)?(this.environment.setRowHeightVariable(t),t):(console.warn("AG Grid row height must be a number if not using standard row model"),this.environment.getDefaultRowHeight())},t.prototype.isNumeric=function(t){return!isNaN(t)&&"number"==typeof t&&isFinite(t)},t.prototype.getDomDataKey=function(){return this.domDataKey},t.prototype.getDomData=function(t,e){var i=t[this.getDomDataKey()];return i?i[e]:void 0},t.prototype.setDomData=function(t,e,i){var o=this.getDomDataKey(),n=t[o];r(n)&&(n={},t[o]=n),n[e]=i},t.prototype.getDocument=function(){var t=null;return this.gridOptions.getDocument&&n(this.gridOptions.getDocument)?t=this.gridOptions.getDocument():this.eGridDiv&&(t=this.eGridDiv.ownerDocument),t&&n(t)?t:document},t.prototype.getRootNode=function(){return this.eGridDiv.getRootNode()},t.prototype.getRowIdFunc=function(){var t=this.getCallback("getRowId");if(t)return t;var e=this.gridOptions.getRowNodeId;return e?function(t){return e(t.data)}:void 0},t.prototype.getAsyncTransactionWaitMillis=function(){return n(this.gridOptions.asyncTransactionWaitMillis)?this.gridOptions.asyncTransactionWaitMillis:50},t.prototype.isAnimateRows=function(){return!this.is("ensureDomOrder")&&this.is("animateRows")},t.prototype.isTreeData=function(){return this.is("treeData")&&ot.assertRegistered(J.RowGroupingModule,"Tree Data")},t.prototype.isMasterDetail=function(){return this.is("masterDetail")&&ot.assertRegistered(J.MasterDetailModule,"masterDetail")},t.prototype.isEnableRangeSelection=function(){return this.is("enableRangeSelection")&&ot.isRegistered(J.RangeSelectionModule)},t.prototype.isColumnsSortingCoupledToGroup=function(){var t=this.gridOptions.autoGroupColumnDef;return this.isRowModelType("clientSide")&&!(null==t?void 0:t.comparator)&&!this.isTreeData()},t.prototype.getGroupAggFiltering=function(){var t=this.gridOptions.groupAggFiltering;return"function"==typeof t?this.getCallback("groupAggFiltering"):kg(t)?function(){return!0}:void 0},t.prototype.isGroupMultiAutoColumn=function(){return this.gridOptions.groupDisplayType?ce("multipleColumns",this.gridOptions.groupDisplayType):this.is("groupHideOpenParents")},t.prototype.isGroupUseEntireRow=function(t){return!t&&(!!this.gridOptions.groupDisplayType&&ce("groupRows",this.gridOptions.groupDisplayType))},Rg([K("gridOptions")],t.prototype,"gridOptions",void 0),Rg([K("eventService")],t.prototype,"eventService",void 0),Rg([K("environment")],t.prototype,"environment",void 0),Rg([K("eGridDiv")],t.prototype,"eGridDiv",void 0),Rg([Lg(0,Z("gridApi")),Lg(1,Z("columnApi"))],t.prototype,"agWire",null),Rg([H],t.prototype,"init",null),Rg([$],t.prototype,"destroy",null),t=Rg([z("gridOptionsService")],t)}(),Gg=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),jg=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},Vg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Gg(e,t),e.prototype.getLocaleTextFunc=function(){var t=this.gridOptionsService.getCallback("getLocaleText");if(t)return function(e,i,o){return t({key:e,defaultValue:i,variableValues:o})};var e=this.gridOptionsService.get("localeTextFunc");if(e)return e;var i=this.gridOptionsService.get("localeText");return function(t,e,o){var n=i&&i[t];if(n&&o&&o.length)for(var r=0;!(r>=o.length);){if(-1===n.indexOf("${variable}"))break;n=n.replace("${variable}",o[r++])}return null!=n?n:e}},e=jg([z("localeService")],e)}(jt),Ug=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),Wg=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},Hg=function(t){function e(){return t.call(this,e.TEMPLATE,"vertical")||this}return Ug(e,t),e.prototype.postConstruct=function(){t.prototype.postConstruct.call(this),this.createManagedBean(new nc(this.eContainer)),this.ctrlsService.registerFakeVScrollComp(this)},e.prototype.setScrollVisible=function(){var t=this.scrollVisibleService.isVerticalScrollShowing(),e=this.invisibleScrollbar,i=t&&this.gridOptionsService.getScrollbarWidth()||0,o=0===i&&e?16:i;this.addOrRemoveCssClass("ag-scrollbar-invisible",e),Mo(this.getGui(),o),Mo(this.eViewport,o),Mo(this.eContainer,o),this.setDisplayed(t,{skipAriaHidden:!0})},e.TEMPLATE='<div class="ag-body-vertical-scroll" aria-hidden="true">\n            <div class="ag-body-vertical-scroll-viewport" ref="eViewport">\n                <div class="ag-body-vertical-scroll-container" ref="eContainer"></div>\n            </div>\n        </div>',Wg([H],e.prototype,"postConstruct",null),e}(bg),$g=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,n,r=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return s},zg=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat($g(arguments[e]));return t},Kg=function(){function t(t,e,i){e?(this.gridOptions=e,(new Yg).create(t,e,(function(e){var i=new Kp(t);e.createBean(i)}),void 0,i)):console.error("AG Grid: no gridOptions provided to the grid")}return t.prototype.destroy=function(){this.gridOptions&&this.gridOptions.api&&this.gridOptions.api.destroy()},t}(),Yg=function(){function t(){}return t.prototype.create=function(t,e,i,o,n){var r=this,s=!!e.debug,a=this.getRegisteredModules(n),l=this.createBeansList(e.rowModelType,a),c=this.createProvidedBeans(t,e,n);if(l){var u={providedBeanInstances:c,beanClasses:l,debug:s},h=new Vp("AG Grid",(function(){return e.debug})),d=new Vp("Context",(function(){return u.debug})),p=new U(u,d),f=p.getBean("beans");this.registerModuleUserComponents(f,a),this.registerStackComponents(f,a),this.registerControllers(f,a),i(p),f.ctrlsService.whenReady((function(){r.setColumnsAndData(f),r.dispatchGridReadyEvent(f);var t=ot.isRegistered(J.EnterpriseCoreModule);h.log("initialised successfully, enterprise = "+t)})),o&&o(p)}},t.prototype.registerControllers=function(t,e){e.forEach((function(e){e.controllers&&e.controllers.forEach((function(e){return t.ctrlsFactory.register(e)}))}))},t.prototype.registerStackComponents=function(t,e){var i=this.createAgStackComponentsList(e);t.agStackComponentsRegistry.setupComponents(i)},t.prototype.getRegisteredModules=function(t){var e=t?t.modules:null,i=ot.getRegisteredModules(),o=[],n={};function r(t,e){var i;n[(i=e).moduleName]||(n[i.moduleName]=!0,o.push(i),ot.register(i,t)),e.dependantModules&&e.dependantModules.forEach(r.bind(null,t))}return e&&e.forEach(r.bind(null,!0)),i&&i.forEach(r.bind(null,!ot.isPackageBased())),o},t.prototype.registerModuleUserComponents=function(t,e){this.extractModuleEntity(e,(function(t){return t.userComponents?t.userComponents:[]})).forEach((function(e){t.userComponentRegistry.registerDefaultComponent(e.componentName,e.componentClass)}))},t.prototype.createProvidedBeans=function(t,e,i){var o=i?i.frameworkOverrides:null;r(o)&&(o=new cp);var n={gridOptions:e,eGridDiv:t,globalEventListener:i?i.globalEventListener:null,frameworkOverrides:o};return i&&i.providedBeanInstances&&Object.assign(n,i.providedBeanInstances),n},t.prototype.createAgStackComponentsList=function(t){var e=[{componentName:"AgCheckbox",componentClass:er},{componentName:"AgRadioButton",componentClass:or},{componentName:"AgToggleButton",componentClass:cd},{componentName:"AgInputTextField",componentClass:xr},{componentName:"AgInputTextArea",componentClass:hd},{componentName:"AgInputNumberField",componentClass:Tr},{componentName:"AgInputRange",componentClass:pd},{componentName:"AgSelect",componentClass:Zn},{componentName:"AgSlider",componentClass:md},{componentName:"AgGridBody",componentClass:Ec},{componentName:"AgHeaderRoot",componentClass:ch},{componentName:"AgSortIndicator",componentClass:Jr},{componentName:"AgPagination",componentClass:Ff},{componentName:"AgOverlayWrapper",componentClass:jf},{componentName:"AgGroupComponent",componentClass:_d},{componentName:"AgPanel",componentClass:jd},{componentName:"AgDialog",componentClass:Hd},{componentName:"AgRowContainer",componentClass:Hc},{componentName:"AgFakeHorizontalScroll",componentClass:wg},{componentName:"AgFakeVerticalScroll",componentClass:Hg}],i=this.extractModuleEntity(t,(function(t){return t.agStackComponents?t.agStackComponents:[]}));return e=e.concat(i)},t.prototype.createBeansList=function(t,e){void 0===t&&(t="clientSide");var i=e.filter((function(e){return!e.rowModel||e.rowModel===t})),o={clientSide:J.ClientSideRowModelModule,infinite:J.InfiniteRowModelModule,serverSide:J.ServerSideRowModelModule,viewport:J.ViewportRowModelModule};if(o[t]){if(ot.assertRegistered(o[t],"rowModelType = '"+t+"'")){var n=[Sl,Wf,zf,rg,lf,Na,ra,yf,Cf,Eh,xa,Af,dh,Vg,le,Kh,Aa,Be,et,Bg,op,wp,Ga,Re,oh,nd,jh,Lp,Ht,kp,vp,Rc,hf,Mp,jp,Ne,Th,gh,Rs,xp,Zd,Tc,Pf,fp,Hh,ad,Oc,Jp,ef,rf,If,me,ff,Oh,ig,Ve,ag,cg,ed,dg,gg,Pg,Dg,vg],r=this.extractModuleEntity(i,(function(t){return t.beans?t.beans:[]}));n.push.apply(n,zg(r));var s=[];return n.forEach((function(t){s.indexOf(t)<0&&s.push(t)})),s}}else console.error("AG Grid: could not find row model for rowModelType = "+t)},t.prototype.extractModuleEntity=function(t,e){return[].concat.apply([],zg(t.map(e)))},t.prototype.setColumnsAndData=function(t){var e=t.gridOptionsService.get("columnDefs");t.columnModel.setColumnDefs(e||[],"gridInitializing"),t.rowModel.start()},t.prototype.dispatchGridReadyEvent=function(t){var e={type:zt.EVENT_GRID_READY};t.eventService.dispatchEvent(e)},t}(),Xg=function(){function t(){}return t.prototype.wrap=function(t,e,i,o){var n=this;void 0===i&&(i=[]);var r=this.createWrapper(t,o);return e.forEach((function(t){n.createMethod(r,t,!0)})),i.forEach((function(t){n.createMethod(r,t,!1)})),r},t.prototype.unwrap=function(t){return t},t.prototype.createMethod=function(t,e,i){t.addMethod(e,this.createMethodProxy(t,e,i))},t.prototype.createMethodProxy=function(t,e,i){return function(){return t.hasMethod(e)?t.callMethod(e,arguments):(i&&console.warn("AG Grid: Framework component is missing the method "+e+"()"),null)}},t}(),Zg={columnGroup:["column","stackedColumn","normalizedColumn"],barGroup:["bar","stackedBar","normalizedBar"],pieGroup:["pie","doughnut"],lineGroup:["line"],scatterGroup:["scatter","bubble"],areaGroup:["area","stackedArea","normalizedArea"],histogramGroup:["histogram"],combinationGroup:["columnLineCombo","areaColumnCombo","customCombo"]},qg=["chartSettings","chartData","chartFormat"],Jg=["chartUnlink","chartLink","chartDownload"],Qg={settings:"chartSettings",data:"chartData",format:"chartFormat"};!function(t){t.InsideBase="insideBase",t.InsideEnd="insideEnd",t.Center="center",t.OutsideEnd="outsideEnd"}(Fg||(Fg={}));var tm=void 0===i.g?{}:i.g;tm.HTMLElement="undefined"==typeof HTMLElement?{}:HTMLElement,tm.HTMLButtonElement="undefined"==typeof HTMLButtonElement?{}:HTMLButtonElement,tm.HTMLSelectElement="undefined"==typeof HTMLSelectElement?{}:HTMLSelectElement,tm.HTMLInputElement="undefined"==typeof HTMLInputElement?{}:HTMLInputElement,tm.Node="undefined"==typeof Node?{}:Node,tm.MouseEvent="undefined"==typeof MouseEvent?{}:MouseEvent;var em,im=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,n,r=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return s},om=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(im(arguments[e]));return t},nm=function(){function t(e,i,o,n,r,s){this.nextId=0,this.allNodesMap={},this.rootNode=e,this.gridOptionsService=i,this.eventService=o,this.columnModel=n,this.beans=s,this.selectionService=r,this.rootNode.group=!0,this.rootNode.level=-1,this.rootNode.id=t.ROOT_NODE_ID,this.rootNode.allLeafChildren=[],this.rootNode.childrenAfterGroup=[],this.rootNode.childrenAfterSort=[],this.rootNode.childrenAfterAggFilter=[],this.rootNode.childrenAfterFilter=[],this.postConstruct()}return t.prototype.postConstruct=function(){this.suppressParentsInRowNodes=this.gridOptionsService.is("suppressParentsInRowNodes"),this.isRowMasterFunc=this.gridOptionsService.get("isRowMaster"),this.doingTreeData=this.gridOptionsService.isTreeData(),this.doingMasterDetail=this.gridOptionsService.isMasterDetail()},t.prototype.getCopyOfNodesMap=function(){return on.cloneObject(this.allNodesMap)},t.prototype.getRowNode=function(t){return this.allNodesMap[t]},t.prototype.setRowData=function(e){var i=this;if("string"!=typeof e){var o=this.rootNode,n=this.rootNode.sibling;o.childrenAfterFilter=null,o.childrenAfterGroup=null,o.childrenAfterAggFilter=null,o.childrenAfterSort=null,o.childrenMapped=null,o.updateHasChildren(),this.nextId=0,this.allNodesMap={},e?o.allLeafChildren=e.map((function(e){return i.createNode(e,i.rootNode,t.TOP_LEVEL)})):(o.allLeafChildren=[],o.childrenAfterGroup=[]),n&&(n.childrenAfterFilter=o.childrenAfterFilter,n.childrenAfterGroup=o.childrenAfterGroup,n.childrenAfterAggFilter=o.childrenAfterAggFilter,n.childrenAfterSort=o.childrenAfterSort,n.childrenMapped=o.childrenMapped,n.allLeafChildren=o.allLeafChildren)}else console.warn("AG Grid: rowData must be an array, however you passed in a string. If you are loading JSON, make sure you convert the JSON string to JavaScript objects first")},t.prototype.updateRowData=function(t,e){var i={remove:[],update:[],add:[]},o=[];return this.executeRemove(t,i,o),this.executeUpdate(t,i,o),this.executeAdd(t,i),this.updateSelection(o,"rowDataChanged"),e&&on.sortRowNodesByOrder(this.rootNode.allLeafChildren,e),i},t.prototype.updateSelection=function(t,e){var i=t.length>0;if(i&&t.forEach((function(t){t.setSelected(!1,!1,!0,e)})),this.selectionService.updateGroupsFromChildrenSelections(e),i){var o={type:zt.EVENT_SELECTION_CHANGED,source:e};this.eventService.dispatchEvent(o)}},t.prototype.executeAdd=function(e,i){var o,n=this,r=e.add,s=e.addIndex;if(!on.missingOrEmpty(r)){var a=r.map((function(e){return n.createNode(e,n.rootNode,t.TOP_LEVEL)}));if("number"==typeof s&&s>=0){var l=this.rootNode.allLeafChildren,c=l.length,u=s;if(this.doingTreeData&&s>0&&c>0)for(var h=0;h<c;h++)if((null===(o=l[h])||void 0===o?void 0:o.rowIndex)==s-1){u=h+1;break}var d=l.slice(0,u),p=l.slice(u,l.length);this.rootNode.allLeafChildren=om(d,a,p)}else this.rootNode.allLeafChildren=om(this.rootNode.allLeafChildren,a);this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren),i.add=a}},t.prototype.executeRemove=function(t,e,i){var o=this,n=t.remove;if(!on.missingOrEmpty(n)){var r={};n.forEach((function(t){var n=o.lookupRowNode(t);n&&(n.isSelected()&&i.push(n),n.clearRowTopAndRowIndex(),r[n.id]=!0,delete o.allNodesMap[n.id],e.remove.push(n))})),this.rootNode.allLeafChildren=this.rootNode.allLeafChildren.filter((function(t){return!r[t.id]})),this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren)}},t.prototype.executeUpdate=function(e,i,o){var n=this,r=e.update;on.missingOrEmpty(r)||r.forEach((function(e){var r=n.lookupRowNode(e);r&&(r.updateData(e),!r.selectable&&r.isSelected()&&o.push(r),n.setMasterForRow(r,e,t.TOP_LEVEL,!1),i.update.push(r))}))},t.prototype.lookupRowNode=function(t){var e,i=this.gridOptionsService.getRowIdFunc();if(i){var o=i({data:t,level:0});if(!(e=this.allNodesMap[o]))return console.error("AG Grid: could not find row id="+o+", data item was not found for this id"),null}else if(!(e=this.rootNode.allLeafChildren.find((function(e){return e.data===t}))))return console.error("AG Grid: could not find data item as object was not found",t),console.error("Consider using getRowId to help the Grid find matching row data"),null;return e||null},t.prototype.createNode=function(t,e,i){var o=new Ss(this.beans);return o.group=!1,this.setMasterForRow(o,t,i,!0),e&&!this.suppressParentsInRowNodes&&(o.parent=e),o.level=i,o.setDataAndId(t,this.nextId.toString()),this.allNodesMap[o.id]&&console.warn("AG Grid: duplicate node id '"+o.id+"' detected from getRowId callback, this could cause issues in your grid."),this.allNodesMap[o.id]=o,this.nextId++,o},t.prototype.setMasterForRow=function(t,e,i,o){if(this.doingTreeData)t.setMaster(!1),o&&(t.expanded=!1);else if(this.doingMasterDetail?this.isRowMasterFunc?t.setMaster(this.isRowMasterFunc(e)):t.setMaster(!0):t.setMaster(!1),o){var n=this.columnModel.getRowGroupColumns(),r=i+(n?n.length:0);t.expanded=!!t.master&&this.isExpanded(r)}},t.prototype.isExpanded=function(t){var e=this.gridOptionsService.getNum("groupDefaultExpanded");return-1===e||t<e},t.TOP_LEVEL=0,t.ROOT_NODE_ID="ROOT_NODE_ID",t}(),rm=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),sm=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},am=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,n,r=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return s},lm=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(am(arguments[e]));return t};!function(t){t[t.Normal=0]="Normal",t[t.AfterFilter=1]="AfterFilter",t[t.AfterFilterAndSort=2]="AfterFilterAndSort",t[t.PivotNodes=3]="PivotNodes"}(em||(em={}));var cm,um=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.onRowHeightChanged_debounced=on.debounce(e.onRowHeightChanged.bind(e),100),e.rowsToDisplay=[],e}return rm(e,t),e.prototype.init=function(){var t=this.refreshModel.bind(this,{step:Ta.EVERYTHING}),e=!this.gridOptionsService.is("suppressAnimationFrame"),i=this.refreshModel.bind(this,{step:Ta.EVERYTHING,afterColumnsChanged:!0,keepRenderedRows:!0,animate:e});this.addManagedListener(this.eventService,zt.EVENT_NEW_COLUMNS_LOADED,i),this.addManagedListener(this.eventService,zt.EVENT_COLUMN_ROW_GROUP_CHANGED,t),this.addManagedListener(this.eventService,zt.EVENT_COLUMN_VALUE_CHANGED,this.onValueChanged.bind(this)),this.addManagedListener(this.eventService,zt.EVENT_COLUMN_PIVOT_CHANGED,this.refreshModel.bind(this,{step:Ta.PIVOT})),this.addManagedListener(this.eventService,zt.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,zt.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,zt.EVENT_COLUMN_PIVOT_MODE_CHANGED,t),this.addManagedListener(this.eventService,zt.EVENT_GRID_STYLES_CHANGED,this.onGridStylesChanges.bind(this));var o=this.refreshModel.bind(this,{step:Ta.MAP,keepRenderedRows:!0,animate:e});this.addManagedPropertyListener("groupRemoveSingleChildren",o),this.addManagedPropertyListener("groupRemoveLowestSingleChildren",o),this.rootNode=new Ss(this.beans),this.nodeManager=new nm(this.rootNode,this.gridOptionsService,this.eventService,this.columnModel,this.selectionService,this.beans)},e.prototype.start=function(){var t=this.gridOptionsService.get("rowData");t&&this.setRowData(t)},e.prototype.ensureRowHeightsValid=function(t,e,i,o){var n,r=!1;do{n=!1;for(var s=this.getRowIndexAtPixel(t),a=this.getRowIndexAtPixel(e),l=Math.max(s,i),c=Math.min(a,o),u=l;u<=c;u++){var h=this.getRow(u);if(h.rowHeightEstimated){var d=this.gridOptionsService.getRowHeightForNode(h);h.setRowHeight(d.height),n=!0,r=!0}}n&&this.setRowTopAndRowIndex()}while(n);return r},e.prototype.setRowTopAndRowIndex=function(){for(var t=this.environment.getDefaultRowHeight(),e=0,i=new Set,o=this.gridOptionsService.isDomLayout("normal"),n=0;n<this.rowsToDisplay.length;n++){var r=this.rowsToDisplay[n];if(null!=r.id&&i.add(r.id),null==r.rowHeight){var s=this.gridOptionsService.getRowHeightForNode(r,o,t);r.setRowHeight(s.height,s.estimated)}r.setRowTop(e),r.setRowIndex(n),e+=r.rowHeight}return i},e.prototype.clearRowTopAndRowIndex=function(t,e){var i=t.isActive(),o=function(t){t&&null!=t.id&&!e.has(t.id)&&t.clearRowTopAndRowIndex()},n=function(t){if(o(t),o(t.detailNode),o(t.sibling),t.hasChildren()&&t.childrenAfterGroup){var e=-1==t.level;i&&!e&&!t.expanded||t.childrenAfterGroup.forEach(n)}};n(this.rootNode)},e.prototype.ensureRowsAtPixel=function(t,e,i){var o=this;void 0===i&&(i=0);var n=this.getRowIndexAtPixel(e),r=this.getRow(n),s=!this.gridOptionsService.is("suppressAnimationFrame");return r!==t[0]&&(t.forEach((function(t){on.removeFromArray(o.rootNode.allLeafChildren,t)})),t.forEach((function(t,e){on.insertIntoArray(o.rootNode.allLeafChildren,t,Math.max(n+i,0)+e)})),this.refreshModel({step:Ta.EVERYTHING,keepRenderedRows:!0,keepEditingRows:!0,animate:s}),!0)},e.prototype.highlightRowAtPixel=function(t,e){var i=null!=e?this.getRowIndexAtPixel(e):null,o=null!=i?this.getRow(i):null;if(o&&t&&o!==t&&null!=e){var n=this.getHighlightPosition(e,o);this.lastHighlightedRow&&this.lastHighlightedRow!==o&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null),o.setHighlighted(n),this.lastHighlightedRow=o}else this.lastHighlightedRow&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null)},e.prototype.getHighlightPosition=function(t,e){if(!e){var i=this.getRowIndexAtPixel(t);if(!(e=this.getRow(i||0)))return Pa.Below}return t-e.rowTop<e.rowHeight/2?Pa.Above:Pa.Below},e.prototype.getLastHighlightedRowNode=function(){return this.lastHighlightedRow},e.prototype.isLastRowIndexKnown=function(){return!0},e.prototype.getRowCount=function(){return this.rowsToDisplay?this.rowsToDisplay.length:0},e.prototype.getTopLevelRowCount=function(){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return 1;var t=this.rootNode.childrenAfterAggFilter;return t?t.length:0},e.prototype.getTopLevelRowDisplayedIndex=function(t){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return t;var e=this.rootNode.childrenAfterSort[t];if(this.gridOptionsService.is("groupHideOpenParents"))for(;e.expanded&&e.childrenAfterSort&&e.childrenAfterSort.length>0;)e=e.childrenAfterSort[0];return e.rowIndex},e.prototype.getRowBounds=function(t){if(on.missing(this.rowsToDisplay))return null;var e=this.rowsToDisplay[t];return e?{rowTop:e.rowTop,rowHeight:e.rowHeight}:null},e.prototype.onRowGroupOpened=function(){var t=this.gridOptionsService.isAnimateRows();this.refreshModel({step:Ta.MAP,keepRenderedRows:!0,animate:t})},e.prototype.onFilterChanged=function(t){if(!t.afterDataChange){var e=this.gridOptionsService.isAnimateRows(),i=0===t.columns.length||t.columns.some((function(t){return t.isPrimary()}))?Ta.FILTER:Ta.FILTER_AGGREGATES;this.refreshModel({step:i,keepRenderedRows:!0,animate:e})}},e.prototype.onSortChanged=function(){var t=this.gridOptionsService.isAnimateRows();this.refreshModel({step:Ta.SORT,keepRenderedRows:!0,animate:t,keepEditingRows:!0})},e.prototype.getType=function(){return"clientSide"},e.prototype.onValueChanged=function(){this.columnModel.isPivotActive()?this.refreshModel({step:Ta.PIVOT}):this.refreshModel({step:Ta.AGGREGATE})},e.prototype.createChangePath=function(t){var e=on.missingOrEmpty(t),i=new Xh(!1,this.rootNode);return(e||this.gridOptionsService.isTreeData())&&i.setInactive(),i},e.prototype.isSuppressModelUpdateAfterUpdateTransaction=function(t){if(!this.gridOptionsService.is("suppressModelUpdateAfterUpdateTransaction"))return!1;if(null==t.rowNodeTransactions)return!1;var e=t.rowNodeTransactions.filter((function(t){return null!=t.add&&t.add.length>0||null!=t.remove&&t.remove.length>0}));return null==e||0==e.length},e.prototype.buildRefreshModelParams=function(t){var e=Ta.EVERYTHING,i={everything:Ta.EVERYTHING,group:Ta.EVERYTHING,filter:Ta.FILTER,map:Ta.MAP,aggregate:Ta.AGGREGATE,sort:Ta.SORT,pivot:Ta.PIVOT};if(on.exists(t)&&(e=i[t]),!on.missing(e))return{step:e,keepRenderedRows:!0,keepEditingRows:!0,animate:!this.gridOptionsService.is("suppressAnimationFrame")};console.error("AG Grid: invalid step "+t+", available steps are "+Object.keys(i).join(", "))},e.prototype.refreshModel=function(t){var e="object"==typeof t&&"step"in t?t:this.buildRefreshModelParams(t);if(e&&!this.isSuppressModelUpdateAfterUpdateTransaction(e)){var i=this.createChangePath(e.rowNodeTransactions);switch(e.step){case Ta.EVERYTHING:this.doRowGrouping(e.groupState,e.rowNodeTransactions,e.rowNodeOrder,i,!!e.afterColumnsChanged);case Ta.FILTER:this.doFilter(i);case Ta.PIVOT:this.doPivot(i);case Ta.AGGREGATE:this.doAggregate(i);case Ta.FILTER_AGGREGATES:this.doFilterAggregates(i);case Ta.SORT:this.doSort(e.rowNodeTransactions,i);case Ta.MAP:this.doRowsToDisplay()}var o=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(i,o);var n={type:zt.EVENT_MODEL_UPDATED,animate:e.animate,keepRenderedRows:e.keepRenderedRows,newData:e.newData,newPage:!1,keepUndoRedoStack:e.keepUndoRedoStack};this.eventService.dispatchEvent(n)}},e.prototype.isEmpty=function(){var t=on.missing(this.rootNode.allLeafChildren)||0===this.rootNode.allLeafChildren.length;return on.missing(this.rootNode)||t||!this.columnModel.isReady()},e.prototype.isRowsToRender=function(){return on.exists(this.rowsToDisplay)&&this.rowsToDisplay.length>0},e.prototype.getNodesInRangeForSelection=function(t,e){var i,o=!e,n=!1,r=[],s=this.gridOptionsService.is("groupSelectsChildren");return this.forEachNodeAfterFilterAndSort((function(a){var l=o&&!n;if(o||a!==e&&a!==t||(o=!0),!(a.group&&s)){var c=o&&!n,u=a.isParentOfNode(i);(c||u)&&r.push(a)}l&&(a!==e&&a!==t||(n=!0,i=a===e?e:t))})),r},e.prototype.setDatasource=function(t){console.error("AG Grid: should never call setDatasource on clientSideRowController")},e.prototype.getTopLevelNodes=function(){return this.rootNode?this.rootNode.childrenAfterGroup:null},e.prototype.getRootNode=function(){return this.rootNode},e.prototype.getRow=function(t){return this.rowsToDisplay[t]},e.prototype.isRowPresent=function(t){return this.rowsToDisplay.indexOf(t)>=0},e.prototype.getRowIndexAtPixel=function(t){if(this.isEmpty()||0===this.rowsToDisplay.length)return-1;var e=0,i=this.rowsToDisplay.length-1;if(t<=0)return 0;if(on.last(this.rowsToDisplay).rowTop<=t)return this.rowsToDisplay.length-1;for(var o=-1,n=-1;;){var r=Math.floor((e+i)/2),s=this.rowsToDisplay[r];if(this.isRowInPixel(s,t))return r;if(s.rowTop<t?e=r+1:s.rowTop>t&&(i=r-1),o===e&&n===i)return r;o=e,n=i}},e.prototype.isRowInPixel=function(t,e){var i=t.rowTop,o=t.rowTop+t.rowHeight;return i<=e&&o>e},e.prototype.forEachLeafNode=function(t){this.rootNode.allLeafChildren&&this.rootNode.allLeafChildren.forEach((function(e,i){return t(e,i)}))},e.prototype.forEachNode=function(t,e){void 0===e&&(e=!1),this.recursivelyWalkNodesAndCallback({nodes:lm(this.rootNode.childrenAfterGroup||[]),callback:t,recursionType:em.Normal,index:0,includeFooterNodes:e})},e.prototype.forEachNodeAfterFilter=function(t,e){void 0===e&&(e=!1),this.recursivelyWalkNodesAndCallback({nodes:lm(this.rootNode.childrenAfterAggFilter||[]),callback:t,recursionType:em.AfterFilter,index:0,includeFooterNodes:e})},e.prototype.forEachNodeAfterFilterAndSort=function(t,e){void 0===e&&(e=!1),this.recursivelyWalkNodesAndCallback({nodes:lm(this.rootNode.childrenAfterSort||[]),callback:t,recursionType:em.AfterFilterAndSort,index:0,includeFooterNodes:e})},e.prototype.forEachPivotNode=function(t,e){void 0===e&&(e=!1),this.recursivelyWalkNodesAndCallback({nodes:[this.rootNode],callback:t,recursionType:em.PivotNodes,index:0,includeFooterNodes:e})},e.prototype.recursivelyWalkNodesAndCallback=function(t){var e,i=t.nodes,o=t.callback,n=t.recursionType,r=t.includeFooterNodes,s=t.index,a=i[0];r&&(null===(e=null==a?void 0:a.parent)||void 0===e?void 0:e.sibling)&&i.push(a.parent.sibling);for(var l=0;l<i.length;l++){var c=i[l];if(o(c,s++),c.hasChildren()&&!c.footer){var u=null;switch(n){case em.Normal:u=c.childrenAfterGroup;break;case em.AfterFilter:u=c.childrenAfterAggFilter;break;case em.AfterFilterAndSort:u=c.childrenAfterSort;break;case em.PivotNodes:u=c.leafGroup?null:c.childrenAfterSort}u&&(s=this.recursivelyWalkNodesAndCallback({nodes:lm(u),callback:o,recursionType:n,index:s,includeFooterNodes:r}))}}return s},e.prototype.doAggregate=function(t){this.aggregationStage&&this.aggregationStage.execute({rowNode:this.rootNode,changedPath:t})},e.prototype.doFilterAggregates=function(t){this.filterAggregatesStage?this.filterAggregatesStage.execute({rowNode:this.rootNode,changedPath:t}):this.rootNode.childrenAfterAggFilter=this.rootNode.childrenAfterFilter},e.prototype.expandOrCollapseAll=function(t){var e=this.gridOptionsService.isTreeData(),i=this.columnModel.isPivotActive(),o=function(n){n&&n.forEach((function(n){var r=function(){n.expanded=t,o(n.childrenAfterGroup)};e?on.exists(n.childrenAfterGroup)&&r():i?!n.leafGroup&&r():n.group&&r()}))};this.rootNode&&o(this.rootNode.childrenAfterGroup),this.refreshModel({step:Ta.MAP});var n=t?"expandAll":"collapseAll",r={type:zt.EVENT_EXPAND_COLLAPSE_ALL,source:n};this.eventService.dispatchEvent(r)},e.prototype.doSort=function(t,e){this.sortStage.execute({rowNode:this.rootNode,rowNodeTransactions:t,changedPath:e})},e.prototype.doRowGrouping=function(t,e,i,o,n){if(this.groupStage){if(e?this.groupStage.execute({rowNode:this.rootNode,rowNodeTransactions:e,rowNodeOrder:i,changedPath:o}):(this.groupStage.execute({rowNode:this.rootNode,changedPath:o,afterColumnsChanged:n}),this.restoreGroupState(t)),this.gridOptionsService.is("groupSelectsChildren")&&this.selectionService.updateGroupsFromChildrenSelections("rowGroupChanged",o)){var r={type:zt.EVENT_SELECTION_CHANGED,source:"rowGroupChanged"};this.eventService.dispatchEvent(r)}}else this.rootNode.childrenAfterGroup=this.rootNode.allLeafChildren,this.rootNode.sibling&&(this.rootNode.sibling.childrenAfterGroup=this.rootNode.childrenAfterGroup),this.rootNode.updateHasChildren()},e.prototype.restoreGroupState=function(t){t&&on.traverseNodesWithKey(this.rootNode.childrenAfterGroup,(function(e,i){"boolean"==typeof t[i]&&(e.expanded=t[i])}))},e.prototype.doFilter=function(t){this.filterStage.execute({rowNode:this.rootNode,changedPath:t})},e.prototype.doPivot=function(t){this.pivotStage&&this.pivotStage.execute({rowNode:this.rootNode,changedPath:t})},e.prototype.getGroupState=function(){if(!this.rootNode.childrenAfterGroup||!this.gridOptionsService.is("rememberGroupStateWhenNewData"))return null;var t={};return on.traverseNodesWithKey(this.rootNode.childrenAfterGroup,(function(e,i){return t[i]=e.expanded})),t},e.prototype.getCopyOfNodesMap=function(){return this.nodeManager.getCopyOfNodesMap()},e.prototype.getRowNode=function(t){if("string"==typeof t&&0==t.indexOf(Ss.ID_PREFIX_ROW_GROUP)){var e=void 0;return this.forEachNode((function(i){i.id===t&&(e=i)})),e}return this.nodeManager.getRowNode(t)},e.prototype.setRowData=function(t){var e=this.getGroupState();this.nodeManager.setRowData(t),this.selectionService.reset(),this.filterManager.onNewRowsLoaded("rowDataUpdated");var i={type:zt.EVENT_ROW_DATA_UPDATED};this.eventService.dispatchEvent(i),this.refreshModel({step:Ta.EVERYTHING,groupState:e,newData:!0})},e.prototype.batchUpdateRowData=function(t,e){var i=this;if(null==this.applyAsyncTransactionsTimeout){this.rowDataTransactionBatch=[];var o=this.gridOptionsService.getAsyncTransactionWaitMillis();this.applyAsyncTransactionsTimeout=window.setTimeout((function(){i.executeBatchUpdateRowData()}),o)}this.rowDataTransactionBatch.push({rowDataTransaction:t,callback:e})},e.prototype.flushAsyncTransactions=function(){null!=this.applyAsyncTransactionsTimeout&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())},e.prototype.executeBatchUpdateRowData=function(){var t=this;this.valueCache.onDataChanged();var e=[],i=[],o=!1;if(this.rowDataTransactionBatch&&this.rowDataTransactionBatch.forEach((function(n){var r=t.nodeManager.updateRowData(n.rowDataTransaction,void 0);i.push(r),n.callback&&e.push(n.callback.bind(null,r)),"number"==typeof n.rowDataTransaction.addIndex&&(o=!0)})),this.commonUpdateRowData(i,void 0,o),e.length>0&&window.setTimeout((function(){e.forEach((function(t){return t()}))}),0),i.length>0){var n={type:zt.EVENT_ASYNC_TRANSACTIONS_FLUSHED,results:i};this.eventService.dispatchEvent(n)}this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0},e.prototype.updateRowData=function(t,e){this.valueCache.onDataChanged();var i=this.nodeManager.updateRowData(t,e),o="number"==typeof t.addIndex;return this.commonUpdateRowData([i],e,o),i},e.prototype.createRowNodeOrder=function(){if(!this.gridOptionsService.is("suppressMaintainUnsortedOrder")){var t={};if(this.rootNode&&this.rootNode.allLeafChildren)for(var e=0;e<this.rootNode.allLeafChildren.length;e++){t[this.rootNode.allLeafChildren[e].id]=e}return t}},e.prototype.commonUpdateRowData=function(t,e,i){var o=!this.gridOptionsService.is("suppressAnimationFrame");i&&(e=this.createRowNodeOrder()),this.refreshModel({step:Ta.EVERYTHING,rowNodeTransactions:t,rowNodeOrder:e,keepRenderedRows:!0,keepEditingRows:!0,animate:o}),this.filterManager.onNewRowsLoaded("rowDataUpdated");var n={type:zt.EVENT_ROW_DATA_UPDATED};this.eventService.dispatchEvent(n)},e.prototype.doRowsToDisplay=function(){this.rowsToDisplay=this.flattenStage.execute({rowNode:this.rootNode})},e.prototype.onRowHeightChanged=function(){this.refreshModel({step:Ta.MAP,keepRenderedRows:!0,keepEditingRows:!0,keepUndoRedoStack:!0})},e.prototype.onRowHeightChangedDebounced=function(){this.onRowHeightChanged_debounced()},e.prototype.resetRowHeights=function(){var t=this.resetRowHeightsForAllRowNodes();this.rootNode.setRowHeight(this.rootNode.rowHeight,!0),t&&this.onRowHeightChanged()},e.prototype.resetRowHeightsForAllRowNodes=function(){var t=!1;return this.forEachNode((function(e){e.setRowHeight(e.rowHeight,!0);var i=e.detailNode;i&&i.setRowHeight(i.rowHeight,!0),t=!0})),t},e.prototype.onGridStylesChanges=function(){this.columnModel.isAutoRowHeightActive()||this.resetRowHeights()},sm([K("columnModel")],e.prototype,"columnModel",void 0),sm([K("selectionService")],e.prototype,"selectionService",void 0),sm([K("filterManager")],e.prototype,"filterManager",void 0),sm([K("valueCache")],e.prototype,"valueCache",void 0),sm([K("beans")],e.prototype,"beans",void 0),sm([K("filterStage")],e.prototype,"filterStage",void 0),sm([K("sortStage")],e.prototype,"sortStage",void 0),sm([K("flattenStage")],e.prototype,"flattenStage",void 0),sm([Y("groupStage")],e.prototype,"groupStage",void 0),sm([Y("aggregationStage")],e.prototype,"aggregationStage",void 0),sm([Y("pivotStage")],e.prototype,"pivotStage",void 0),sm([Y("filterAggregatesStage")],e.prototype,"filterAggregatesStage",void 0),sm([H],e.prototype,"init",null),e=sm([z("rowModel")],e)}(jt),hm=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),dm=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},pm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return hm(e,t),e.prototype.execute=function(t){var e=t.changedPath;this.filterService.filter(e)},dm([K("filterService")],e.prototype,"filterService",void 0),e=dm([z("filterStage")],e)}(jt),fm=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),gm=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},mm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return fm(e,t),e.prototype.execute=function(t){var e=this,i=this.sortController.getSortOptions(),o=on.exists(i)&&i.length>0,n=o&&on.exists(t.rowNodeTransactions)&&this.gridOptionsService.is("deltaSort"),r=i.some((function(t){return!!e.columnModel.getGroupDisplayColumnForGroup(t.column.getId())}));this.sortService.sort(i,o,n,t.rowNodeTransactions,t.changedPath,r)},gm([K("sortService")],e.prototype,"sortService",void 0),gm([K("sortController")],e.prototype,"sortController",void 0),gm([K("columnModel")],e.prototype,"columnModel",void 0),e=gm([z("sortStage")],e)}(jt),ym=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),vm=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},_m=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ym(e,t),e.prototype.execute=function(t){var e=t.rowNode,i=[],o={value:0},n=this.columnModel.isPivotMode(),r=n&&e.leafGroup,s=r?[e]:e.childrenAfterSort;return this.recursivelyAddToRowsToDisplay(s,i,o,n,0),!r&&i.length>0&&this.gridOptionsService.is("groupIncludeTotalFooter")&&(e.createFooter(),this.addRowNodeToRowsToDisplay(e.sibling,i,o,0)),i},e.prototype.recursivelyAddToRowsToDisplay=function(t,e,i,o,n){if(!on.missingOrEmpty(t))for(var r=this.gridOptionsService.is("groupHideOpenParents"),s=this.gridOptionsService.is("groupRemoveSingleChildren"),a=!s&&this.gridOptionsService.is("groupRemoveLowestSingleChildren"),l=0;l<t.length;l++){var c=t[l],u=c.hasChildren(),h=o&&!u,d=s&&u&&1===c.childrenAfterGroup.length,p=a&&u&&c.leafGroup&&1===c.childrenAfterGroup.length,f=o&&c.leafGroup,g=r&&c.expanded&&!c.master&&!f;if(!(h||g||d||p)&&this.addRowNodeToRowsToDisplay(c,e,i,n),!o||!c.leafGroup)if(u){var m=d||p;if(c.expanded||m){var y=m?n:n+1;this.recursivelyAddToRowsToDisplay(c.childrenAfterSort,e,i,o,y),this.gridOptionsService.is("groupIncludeFooter")&&this.addRowNodeToRowsToDisplay(c.sibling,e,i,n)}}else if(c.master&&c.expanded){var v=this.createDetailNode(c);this.addRowNodeToRowsToDisplay(v,e,i,n)}}},e.prototype.addRowNodeToRowsToDisplay=function(t,e,i,o){var n=this.gridOptionsService.isGroupMultiAutoColumn();e.push(t),t.setUiLevel(n?0:o)},e.prototype.createDetailNode=function(t){if(on.exists(t.detailNode))return t.detailNode;var e=new Ss(this.beans);return e.detail=!0,e.selectable=!1,e.parent=t,on.exists(t.id)&&(e.id="detail_"+t.id),e.data=t.data,e.level=t.level+1,t.detailNode=e,e},vm([K("columnModel")],e.prototype,"columnModel",void 0),vm([K("beans")],e.prototype,"beans",void 0),e=vm([z("flattenStage")],e)}(jt),Cm=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),bm=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},Em=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Cm(e,t),e.prototype.init=function(){this.postSortFunc=this.getPostSortFunc()},e.prototype.sort=function(t,e,i,o,n,r){var s=this,a=this.gridOptionsService.is("groupMaintainOrder"),l=this.columnModel.getAllGridColumns().some((function(t){return t.isRowGroupActive()})),c={};i&&o&&(c=this.calculateDirtyNodes(o));var u=this.columnModel.isPivotMode();n&&n.forEachChangedNodeDepthFirst((function(o){s.pullDownGroupDataForHideOpenParents(o.childrenAfterAggFilter,!0);var h=u&&o.leafGroup;if(a&&l&&!o.leafGroup&&!r){var d=o.childrenAfterAggFilter.slice(0);if(o.childrenAfterSort){var p={};o.childrenAfterSort.forEach((function(t,e){p[t.id]=e})),d.sort((function(t,e){var i,o;return(null!==(i=p[t.id])&&void 0!==i?i:0)-(null!==(o=p[e.id])&&void 0!==o?o:0)}))}o.childrenAfterSort=d}else o.childrenAfterSort=!e||h?o.childrenAfterAggFilter.slice(0):i?s.doDeltaSort(o,c,n,t):s.rowNodeSorter.doFullSort(o.childrenAfterAggFilter,t);if(o.sibling&&(o.sibling.childrenAfterSort=o.childrenAfterSort),s.updateChildIndexes(o),s.postSortFunc){var f={nodes:o.childrenAfterSort};s.postSortFunc(f)}})),this.updateGroupDataForHideOpenParents(n)},e.prototype.getPostSortFunc=function(){var t=this.gridOptionsService.getCallback("postSortRows");if(t)return t;var e=this.gridOptionsService.get("postSort");return e?function(t){return e(t.nodes)}:void 0},e.prototype.calculateDirtyNodes=function(t){var e={},i=function(t){t&&t.forEach((function(t){return e[t.id]=!0}))};return t&&t.forEach((function(t){i(t.add),i(t.update),i(t.remove)})),e},e.prototype.doDeltaSort=function(t,e,i,o){var n=this,r=t.childrenAfterAggFilter,s=t.childrenAfterSort;if(!s)return this.rowNodeSorter.doFullSort(r,o);var a={},l=[];r.forEach((function(t){e[t.id]||!i.canSkip(t)?l.push(t):a[t.id]=!0}));var c=s.filter((function(t){return a[t.id]})),u=function(t,e){return{currentPos:e,rowNode:t}},h=l.map(u).sort((function(t,e){return n.rowNodeSorter.compareRowNodes(o,t,e)}));return this.mergeSortedArrays(o,h,c.map(u)).map((function(t){return t.rowNode}))},e.prototype.mergeSortedArrays=function(t,e,i){for(var o=[],n=0,r=0;n<e.length&&r<i.length;){this.rowNodeSorter.compareRowNodes(t,e[n],i[r])<0?o.push(e[n++]):o.push(i[r++])}for(;n<e.length;)o.push(e[n++]);for(;r<i.length;)o.push(i[r++]);return o},e.prototype.updateChildIndexes=function(t){if(!on.missing(t.childrenAfterSort))for(var e=t.childrenAfterSort,i=0;i<e.length;i++){var o=e[i],n=0===i,r=i===t.childrenAfterSort.length-1;o.setFirstChild(n),o.setLastChild(r),o.setChildIndex(i)}},e.prototype.updateGroupDataForHideOpenParents=function(t){var e=this;if(this.gridOptionsService.is("groupHideOpenParents")){if(this.gridOptionsService.isTreeData()){return on.doOnce((function(){return console.warn("AG Grid: The property hideOpenParents dose not work with Tree Data. This is because Tree Data has values at the group level, it doesn't make sense to hide them (as opposed to Row Grouping, which only has Aggregated Values at the group level).")}),"sortService.hideOpenParentsWithTreeData"),!1}var i=function(t){e.pullDownGroupDataForHideOpenParents(t.childrenAfterSort,!1),t.childrenAfterSort.forEach((function(t){t.hasChildren()&&i(t)}))};t&&t.executeFromRootNode((function(t){return i(t)}))}},e.prototype.pullDownGroupDataForHideOpenParents=function(t,e){var i=this;this.gridOptionsService.is("groupHideOpenParents")&&!on.missing(t)&&t.forEach((function(t){i.columnModel.getGroupDisplayColumns().forEach((function(o){var n=o.getColDef().showRowGroup;if("string"==typeof n){var r=n,s=i.columnModel.getPrimaryColumn(r);if(!(s===t.rowGroupColumn))if(e)t.setGroupValue(o.getId(),void 0);else{var a=t.getFirstChildOfFirstChild(s);a&&t.setGroupValue(o.getId(),a.key)}}else console.error("AG Grid: groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup")}))}))},bm([K("columnModel")],e.prototype,"columnModel",void 0),bm([K("rowNodeSorter")],e.prototype,"rowNodeSorter",void 0),bm([H],e.prototype,"init",null),e=bm([z("sortService")],e)}(jt),Sm=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),wm=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},Om=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Sm(e,t),e.prototype.filter=function(t){var e=this.filterManager.isColumnFilterPresent()||this.filterManager.isQuickFilterPresent()||this.filterManager.isExternalFilterPresent();this.filterNodes(e,t)},e.prototype.filterNodes=function(t,e){var i=this,o=function(e,o){e.hasChildren()?e.childrenAfterFilter=t&&!o?e.childrenAfterGroup.filter((function(t){var e=t.childrenAfterFilter&&t.childrenAfterFilter.length>0,o=t.data&&i.filterManager.doesRowPassFilter({rowNode:t});return e||o})):e.childrenAfterGroup:e.childrenAfterFilter=e.childrenAfterGroup,e.sibling&&(e.sibling.childrenAfterFilter=e.childrenAfterFilter)};if(this.doingTreeDataFiltering()){var n=function(t,e){if(t.childrenAfterGroup)for(var r=0;r<t.childrenAfterGroup.length;r++){var s=t.childrenAfterGroup[r],a=e||i.filterManager.doesRowPassFilter({rowNode:s});s.childrenAfterGroup?n(t.childrenAfterGroup[r],a):o(s,a)}o(t,e)};e.executeFromRootNode((function(t){return n(t,!1)}))}else{e.forEachChangedNodeDepthFirst((function(t){return o(t,!1)}),!0)}},e.prototype.doingTreeDataFiltering=function(){return this.gridOptionsService.isTreeData()&&!this.gridOptionsService.is("excludeChildrenWhenTreeDataFiltering")},wm([K("filterManager")],e.prototype,"filterManager",void 0),e=wm([z("filterService")],e)}(jt),xm=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),Pm=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},Tm=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,n,r=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return s},Mm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return xm(e,t),e.prototype.postConstruct=function(){"clientSide"===this.rowModel.getType()&&(this.clientSideRowModel=this.rowModel)},e.prototype.isActive=function(){var t=this.gridOptionsService.exists("getRowId"),e=this.gridOptionsService.is("immutableData");return!this.gridOptionsService.is("resetRowDataOnUpdate")&&(t||e)},e.prototype.setRowData=function(t){var e=this.createTransactionForRowData(t);if(e){var i=Tm(e,2),o=i[0],n=i[1];this.clientSideRowModel.updateRowData(o,n)}},e.prototype.createTransactionForRowData=function(t){if(on.missing(this.clientSideRowModel))console.error("AG Grid: ImmutableService only works with ClientSideRowModel");else{var e=this.gridOptionsService.getRowIdFunc();if(null!=e){var i={remove:[],update:[],add:[]},o=this.clientSideRowModel.getCopyOfNodesMap(),n=this.gridOptionsService.is("suppressMaintainUnsortedOrder")?void 0:{};return on.exists(t)&&t.forEach((function(t,r){var s=e({data:t,level:0}),a=o[s];(n&&(n[s]=r),a)?(a.data!==t&&i.update.push(t),o[s]=void 0):i.add.push(t)})),on.iterateObject(o,(function(t,e){e&&i.remove.push(e.data)})),[i,n]}console.error("AG Grid: ImmutableService requires getRowId() callback to be implemented, your row data needs IDs!")}},Pm([K("rowModel")],e.prototype,"rowModel",void 0),Pm([K("rowRenderer")],e.prototype,"rowRenderer",void 0),Pm([H],e.prototype,"postConstruct",null),e=Pm([z("immutableService")],e)}(jt),Dm={version:"29.3.4",moduleName:J.ClientSideRowModelModule,rowModel:"clientSide",beans:[um,pm,mm,_m,Em,Om,Mm]},Am=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),Rm=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},Lm=function(t){function e(e,i,o){var n=t.call(this,e)||this;return n.parentCache=i,n.params=o,n.startRow=e*o.blockSize,n.endRow=n.startRow+o.blockSize,n}return Am(e,t),e.prototype.postConstruct=function(){this.createRowNodes()},e.prototype.getBlockStateJson=function(){return{id:""+this.getId(),state:{blockNumber:this.getId(),startRow:this.getStartRow(),endRow:this.getEndRow(),pageStatus:this.getState()}}},e.prototype.setDataAndId=function(t,e,i){!t.id&&t.alreadyRendered&&(t.alreadyRendered=!1),on.exists(e)?t.setDataAndId(e,i.toString()):t.setDataAndId(void 0,void 0)},e.prototype.loadFromDatasource=function(){var t=this,e=this.createLoadParams();on.missing(this.params.datasource.getRows)?console.warn("AG Grid: datasource is missing getRows method"):window.setTimeout((function(){t.params.datasource.getRows(e)}),0)},e.prototype.processServerFail=function(){},e.prototype.createLoadParams=function(){return{startRow:this.getStartRow(),endRow:this.getEndRow(),successCallback:this.pageLoaded.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),sortModel:this.params.sortModel,filterModel:this.params.filterModel,context:this.gridOptionsService.context}},e.prototype.forEachNode=function(t,e,i){var o=this;this.rowNodes.forEach((function(n,r){o.startRow+r<i&&t(n,e.next())}))},e.prototype.getLastAccessed=function(){return this.lastAccessed},e.prototype.getRow=function(t,e){void 0===e&&(e=!1),e||(this.lastAccessed=this.params.lastAccessedSequence.next());var i=t-this.startRow;return this.rowNodes[i]},e.prototype.getStartRow=function(){return this.startRow},e.prototype.getEndRow=function(){return this.endRow},e.prototype.createRowNodes=function(){this.rowNodes=[];for(var t=0;t<this.params.blockSize;t++){var e=this.startRow+t,i=new Ss(this.beans);i.setRowHeight(this.params.rowHeight),i.uiLevel=0,i.setRowIndex(e),i.setRowTop(this.params.rowHeight*e),this.rowNodes.push(i)}},e.prototype.processServerResult=function(t){var e=this;this.rowNodes.forEach((function(i,o){var n=t.rowData?t.rowData[o]:void 0;e.setDataAndId(i,n,e.startRow+o)}));var i=null!=t.rowCount&&t.rowCount>=0?t.rowCount:void 0;this.parentCache.pageLoaded(this,i)},e.prototype.destroyRowNodes=function(){this.rowNodes.forEach((function(t){t.clearRowTopAndRowIndex()}))},Rm([K("beans")],e.prototype,"beans",void 0),Rm([H],e.prototype,"postConstruct",null),Rm([$],e.prototype,"destroyRowNodes",null),e}(qh),Im=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),Nm=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},km=function(t,e){return function(i,o){e(i,o,t)}},Fm=function(t){function e(e){var i=t.call(this)||this;return i.lastRowIndexKnown=!1,i.blocks={},i.blockCount=0,i.rowCount=e.initialRowCount,i.params=e,i}return Im(e,t),e.prototype.setBeans=function(t){this.logger=t.create("InfiniteCache")},e.prototype.getRow=function(t,e){void 0===e&&(e=!1);var i=Math.floor(t/this.params.blockSize),o=this.blocks[i];if(!o){if(e)return;o=this.createBlock(i)}return o.getRow(t)},e.prototype.createBlock=function(t){var e=this.createBean(new Lm(t,this,this.params));return this.blocks[e.getId()]=e,this.blockCount++,this.purgeBlocksIfNeeded(e),this.params.rowNodeBlockLoader.addBlock(e),e},e.prototype.refreshCache=function(){0==this.blockCount?this.purgeCache():(this.getBlocksInOrder().forEach((function(t){return t.setStateWaitingToLoad()})),this.params.rowNodeBlockLoader.checkBlockToLoad())},e.prototype.destroyAllBlocks=function(){var t=this;this.getBlocksInOrder().forEach((function(e){return t.destroyBlock(e)}))},e.prototype.getRowCount=function(){return this.rowCount},e.prototype.isLastRowIndexKnown=function(){return this.lastRowIndexKnown},e.prototype.pageLoaded=function(t,e){this.isAlive()&&(this.logger.log("onPageLoaded: page = "+t.getId()+", lastRow = "+e),this.checkRowCount(t,e),this.onCacheUpdated())},e.prototype.purgeBlocksIfNeeded=function(t){var i=this,o=this.getBlocksInOrder().filter((function(e){return e!=t}));o.sort((function(t,e){return e.getLastAccessed()-t.getLastAccessed()}));var n=this.params.maxBlocksInCache>0,r=n?this.params.maxBlocksInCache-1:null,s=e.MAX_EMPTY_BLOCKS_TO_KEEP-1;o.forEach((function(t,e){if(t.getState()===Lm.STATE_WAITING_TO_LOAD&&e>=s||!!n&&e>=r){if(i.isBlockCurrentlyDisplayed(t))return;if(i.isBlockFocused(t))return;i.removeBlockFromCache(t)}}))},e.prototype.isBlockFocused=function(t){var e=this.focusService.getFocusCellToUseAfterRefresh();if(!e)return!1;if(null!=e.rowPinned)return!1;var i=t.getStartRow(),o=t.getEndRow();return e.rowIndex>=i&&e.rowIndex<o},e.prototype.isBlockCurrentlyDisplayed=function(t){var e=t.getStartRow(),i=t.getEndRow()-1;return this.rowRenderer.isRangeInRenderedViewport(e,i)},e.prototype.removeBlockFromCache=function(t){t&&this.destroyBlock(t)},e.prototype.checkRowCount=function(t,e){if("number"==typeof e&&e>=0)this.rowCount=e,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){var i=(t.getId()+1)*this.params.blockSize+this.params.overflowSize;this.rowCount<i&&(this.rowCount=i)}},e.prototype.setRowCount=function(t,e){this.rowCount=t,on.exists(e)&&(this.lastRowIndexKnown=e),this.lastRowIndexKnown||this.rowCount%this.params.blockSize==0&&this.rowCount++,this.onCacheUpdated()},e.prototype.forEachNodeDeep=function(t){var e=this,i=new nn;this.getBlocksInOrder().forEach((function(o){return o.forEachNode(t,i,e.rowCount)}))},e.prototype.getBlocksInOrder=function(){return on.getAllValuesInObject(this.blocks).sort((function(t,e){return t.getId()-e.getId()}))},e.prototype.destroyBlock=function(t){delete this.blocks[t.getId()],this.destroyBean(t),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(t)},e.prototype.onCacheUpdated=function(){if(this.isAlive()){this.destroyAllBlocksPastVirtualRowCount();var t={type:zt.EVENT_STORE_UPDATED};this.eventService.dispatchEvent(t)}},e.prototype.destroyAllBlocksPastVirtualRowCount=function(){var t=this,e=[];this.getBlocksInOrder().forEach((function(i){i.getId()*t.params.blockSize>=t.rowCount&&e.push(i)})),e.length>0&&e.forEach((function(e){return t.destroyBlock(e)}))},e.prototype.purgeCache=function(){var t=this;this.getBlocksInOrder().forEach((function(e){return t.removeBlockFromCache(e)})),this.lastRowIndexKnown=!1,0===this.rowCount&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()},e.prototype.getRowNodesInRange=function(t,e){var i=this,o=[],n=-1,r=!1,s=new nn;on.missing(t)&&(r=!0);var a=!1;return this.getBlocksInOrder().forEach((function(l){a||(r&&n+1!==l.getId()?a=!0:(n=l.getId(),l.forEachNode((function(i){var n=i===t||i===e;(r||n)&&o.push(i),n&&(r=!r)}),s,i.rowCount)))})),a||r?[]:o},e.MAX_EMPTY_BLOCKS_TO_KEEP=2,Nm([K("rowRenderer")],e.prototype,"rowRenderer",void 0),Nm([K("focusService")],e.prototype,"focusService",void 0),Nm([km(0,Z("loggerFactory"))],e.prototype,"setBeans",null),Nm([$],e.prototype,"destroyAllBlocks",null),e}(jt),Bm=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),Gm=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},jm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Bm(e,t),e.prototype.getRowBounds=function(t){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*t}},e.prototype.ensureRowHeightsValid=function(t,e,i,o){return!1},e.prototype.init=function(){var t=this;this.gridOptionsService.isRowModelType("infinite")&&(this.rowHeight=this.gridOptionsService.getRowHeightAsNumber(),this.addEventListeners(),this.addDestroyFunc((function(){return t.destroyCache()})),this.verifyProps())},e.prototype.verifyProps=function(){if(this.gridOptionsService.exists("initialGroupOrderComparator")||this.gridOptionsService.exists("defaultGroupOrderComparator")){on.doOnce((function(){return console.warn("AG Grid: initialGroupOrderComparator cannot be used with Infinite Row Model. If using Infinite Row Model, then sorting is done on the server side, nothing to do with the client.")}),"IRM.InitialGroupOrderComparator")}},e.prototype.start=function(){this.setDatasource(this.gridOptionsService.get("datasource"))},e.prototype.destroyDatasource=function(){this.datasource&&(this.getContext().destroyBean(this.datasource),this.rowRenderer.datasourceChanged(),this.datasource=null)},e.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,zt.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,zt.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,zt.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverything.bind(this)),this.addManagedListener(this.eventService,zt.EVENT_STORE_UPDATED,this.onCacheUpdated.bind(this))},e.prototype.onFilterChanged=function(){this.reset()},e.prototype.onSortChanged=function(){this.reset()},e.prototype.onColumnEverything=function(){(!this.cacheParams||this.isSortModelDifferent())&&this.reset()},e.prototype.isSortModelDifferent=function(){return!on.jsonEquals(this.cacheParams.sortModel,this.sortController.getSortModel())},e.prototype.getType=function(){return"infinite"},e.prototype.setDatasource=function(t){this.destroyDatasource(),this.datasource=t,t&&this.reset()},e.prototype.isEmpty=function(){return!this.infiniteCache},e.prototype.isRowsToRender=function(){return!!this.infiniteCache},e.prototype.getNodesInRangeForSelection=function(t,e){return this.infiniteCache?this.infiniteCache.getRowNodesInRange(t,e):[]},e.prototype.reset=function(){if(this.datasource){null!=this.gridOptionsService.getRowIdFunc()||this.selectionService.reset(),this.resetCache();var t=this.createModelUpdatedEvent();this.eventService.dispatchEvent(t)}},e.prototype.createModelUpdatedEvent=function(){return{type:zt.EVENT_MODEL_UPDATED,newPage:!1,newData:!1,keepRenderedRows:!0,animate:!1}},e.prototype.resetCache=function(){this.destroyCache(),this.cacheParams={datasource:this.datasource,filterModel:this.filterManager.getFilterModel(),sortModel:this.sortController.getSortModel(),rowNodeBlockLoader:this.rowNodeBlockLoader,initialRowCount:this.defaultIfInvalid(this.gridOptionsService.getNum("infiniteInitialRowCount"),1),maxBlocksInCache:this.gridOptionsService.getNum("maxBlocksInCache"),rowHeight:this.gridOptionsService.getRowHeightAsNumber(),overflowSize:this.defaultIfInvalid(this.gridOptionsService.getNum("cacheOverflowSize"),1),blockSize:this.defaultIfInvalid(this.gridOptionsService.getNum("cacheBlockSize"),100),lastAccessedSequence:new nn},this.infiniteCache=this.createBean(new Fm(this.cacheParams))},e.prototype.defaultIfInvalid=function(t,e){return t>0?t:e},e.prototype.destroyCache=function(){this.infiniteCache&&(this.infiniteCache=this.destroyBean(this.infiniteCache))},e.prototype.onCacheUpdated=function(){var t=this.createModelUpdatedEvent();this.eventService.dispatchEvent(t)},e.prototype.getRow=function(t){if(this.infiniteCache&&!(t>=this.infiniteCache.getRowCount()))return this.infiniteCache.getRow(t)},e.prototype.getRowNode=function(t){var e;return this.forEachNode((function(i){i.id===t&&(e=i)})),e},e.prototype.forEachNode=function(t){this.infiniteCache&&this.infiniteCache.forEachNodeDeep(t)},e.prototype.getTopLevelRowCount=function(){return this.getRowCount()},e.prototype.getTopLevelRowDisplayedIndex=function(t){return t},e.prototype.getRowIndexAtPixel=function(t){if(0!==this.rowHeight){var e=Math.floor(t/this.rowHeight),i=this.getRowCount()-1;return e>i?i:e}return 0},e.prototype.getRowCount=function(){return this.infiniteCache?this.infiniteCache.getRowCount():0},e.prototype.isRowPresent=function(t){return!!this.getRowNode(t.id)},e.prototype.refreshCache=function(){this.infiniteCache&&this.infiniteCache.refreshCache()},e.prototype.purgeCache=function(){this.infiniteCache&&this.infiniteCache.purgeCache()},e.prototype.isLastRowIndexKnown=function(){return!!this.infiniteCache&&this.infiniteCache.isLastRowIndexKnown()},e.prototype.setRowCount=function(t,e){this.infiniteCache&&this.infiniteCache.setRowCount(t,e)},Gm([K("filterManager")],e.prototype,"filterManager",void 0),Gm([K("sortController")],e.prototype,"sortController",void 0),Gm([K("selectionService")],e.prototype,"selectionService",void 0),Gm([K("rowRenderer")],e.prototype,"rowRenderer",void 0),Gm([K("rowNodeBlockLoader")],e.prototype,"rowNodeBlockLoader",void 0),Gm([H],e.prototype,"init",null),Gm([$],e.prototype,"destroyDatasource",null),e=Gm([z("rowModel")],e)}(jt),Vm={version:"29.3.4",moduleName:J.InfiniteRowModelModule,rowModel:"infinite",beans:[jm]},Um=function(){function t(){}return t.prototype.setBeans=function(t){this.beans=t},t.prototype.getFileName=function(t){var e=this.getDefaultFileExtension();return null!=t&&t.length||(t=this.getDefaultFileName()),-1===t.indexOf(".")?t+"."+e:t},t.prototype.getData=function(t){var e=this.createSerializingSession(t);return this.beans.gridSerializer.serialize(e,t)},t}(),Wm=function(){function t(t){this.groupColumns=[];var e=t.columnModel,i=t.valueService,o=t.gridOptionsService,n=t.processCellCallback,r=t.processHeaderCallback,s=t.processGroupHeaderCallback,a=t.processRowGroupCallback;this.columnModel=e,this.valueService=i,this.gridOptionsService=o,this.processCellCallback=n,this.processHeaderCallback=r,this.processGroupHeaderCallback=s,this.processRowGroupCallback=a}return t.prototype.prepare=function(t){this.groupColumns=t.filter((function(t){return!!t.getColDef().showRowGroup}))},t.prototype.extractHeaderValue=function(t){var e=this.getHeaderName(this.processHeaderCallback,t);return null!=e?e:""},t.prototype.extractRowCellValue=function(t,e,i,o,n){var r=this.gridOptionsService.is("groupHideOpenParents")&&!n.footer||!this.shouldRenderGroupSummaryCell(n,t,e)?this.valueService.getValue(t,n):this.createValueForGroupNode(n),s=this.processCell({accumulatedRowIndex:i,rowNode:n,column:t,value:r,processCellCallback:this.processCellCallback,type:o});return null!=s?s:""},t.prototype.shouldRenderGroupSummaryCell=function(t,e,i){var o;if(!(t&&t.group))return!1;if(-1!==this.groupColumns.indexOf(e)){if(null===(o=t.groupData)||void 0===o?void 0:o[e.getId()])return!0;if(t.footer&&-1===t.level){var n=e.getColDef();return null==n||!0===n.showRowGroup||n.showRowGroup===this.columnModel.getRowGroupColumns()[0].getId()}}var r=this.gridOptionsService.isGroupUseEntireRow(this.columnModel.isPivotMode());return 0===i&&r},t.prototype.getHeaderName=function(t,e){return t?t({column:e,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context}):this.columnModel.getDisplayNameForColumn(e,"csv",!0)},t.prototype.createValueForGroupNode=function(t){if(this.processRowGroupCallback)return this.processRowGroupCallback({node:t,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context});var e=t.footer,i=[t.key];if(!this.gridOptionsService.isGroupMultiAutoColumn())for(;t.parent;)t=t.parent,i.push(t.key);var o=i.reverse().join(" -> ");return e?"Total "+o:o},t.prototype.processCell=function(t){var e=t.accumulatedRowIndex,i=t.rowNode,o=t.column,n=t.value,r=t.processCellCallback,s=t.type;return r?r({accumulatedRowIndex:e,column:o,node:i,value:n,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,type:s}):null!=n?n:""},t}(),Hm=function(){function t(){}return t.download=function(t,e){var i=document.defaultView||window;if(i){var o=document.createElement("a"),n=i.URL.createObjectURL(e);o.setAttribute("href",n),o.setAttribute("download",t),o.style.display="none",document.body.appendChild(o),o.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:i})),document.body.removeChild(o),i.setTimeout((function(){i.URL.revokeObjectURL(n)}),0)}else console.warn("AG Grid: There is no `window` associated with the current `document`")},t}(),$m=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),zm=function(t){function e(e){var i=t.call(this,e)||this;i.isFirstLine=!0,i.result="";var o=e.suppressQuotes,n=e.columnSeparator;return i.suppressQuotes=o,i.columnSeparator=n,i}return $m(e,t),e.prototype.addCustomContent=function(t){var e=this;t&&("string"==typeof t?(/^\s*\n/.test(t)||this.beginNewLine(),t=t.replace(/\r?\n/g,"\r\n"),this.result+=t):t.forEach((function(t){e.beginNewLine(),t.forEach((function(t,i){0!==i&&(e.result+=e.columnSeparator),e.result+=e.putInQuotes(t.data.value||""),t.mergeAcross&&e.appendEmptyCells(t.mergeAcross)}))})))},e.prototype.onNewHeaderGroupingRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}},e.prototype.onNewHeaderGroupingRowColumn=function(t,e,i,o){0!=i&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(e),this.appendEmptyCells(o)},e.prototype.appendEmptyCells=function(t){for(var e=1;e<=t;e++)this.result+=this.columnSeparator+this.putInQuotes("")},e.prototype.onNewHeaderRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}},e.prototype.onNewHeaderRowColumn=function(t,e){0!=e&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(t))},e.prototype.onNewBodyRow=function(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}},e.prototype.onNewBodyRowColumn=function(t,e,i){0!=e&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractRowCellValue(t,e,e,"csv",i))},e.prototype.putInQuotes=function(t){return this.suppressQuotes?t:null==t?'""':("string"==typeof t?e=t:"function"==typeof t.toString?e=t.toString():(console.warn("AG Grid: unknown value type during csv conversion"),e=""),'"'+e.replace(/"/g,'""')+'"');var e},e.prototype.parse=function(){return this.result},e.prototype.beginNewLine=function(){this.isFirstLine||(this.result+="\r\n"),this.isFirstLine=!1},e}(Wm),Km=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),Ym=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},Xm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Km(e,t),e.prototype.postConstruct=function(){this.setBeans({gridSerializer:this.gridSerializer,gridOptionsService:this.gridOptionsService})},e.prototype.getMergedParams=function(t){var e=this.gridOptionsService.get("defaultCsvExportParams");return Object.assign({},e,t)},e.prototype.export=function(t){if(this.isExportSuppressed())return console.warn("AG Grid: Export cancelled. Export is not allowed as per your configuration."),"";var e=this.getMergedParams(t),i=this.getData(e),o=new Blob(["\ufeff",i],{type:"text/plain"});return Hm.download(this.getFileName(e.fileName),o),i},e.prototype.exportDataAsCsv=function(t){return this.export(t)},e.prototype.getDataAsCsv=function(t,e){void 0===e&&(e=!1);var i=e?Object.assign({},t):this.getMergedParams(t);return this.getData(i)},e.prototype.getDefaultFileName=function(){return"export.csv"},e.prototype.getDefaultFileExtension=function(){return"csv"},e.prototype.createSerializingSession=function(t){var e=this,i=e.columnModel,o=e.valueService,n=e.gridOptionsService,r=t,s=r.processCellCallback,a=r.processHeaderCallback,l=r.processGroupHeaderCallback,c=r.processRowGroupCallback,u=r.suppressQuotes,h=r.columnSeparator;return new zm({columnModel:i,valueService:o,gridOptionsService:n,processCellCallback:s||void 0,processHeaderCallback:a||void 0,processGroupHeaderCallback:l||void 0,processRowGroupCallback:c||void 0,suppressQuotes:u||!1,columnSeparator:h||","})},e.prototype.isExportSuppressed=function(){return this.gridOptionsService.is("suppressCsvExport")},Ym([K("columnModel")],e.prototype,"columnModel",void 0),Ym([K("valueService")],e.prototype,"valueService",void 0),Ym([K("gridSerializer")],e.prototype,"gridSerializer",void 0),Ym([K("gridOptionsService")],e.prototype,"gridOptionsService",void 0),Ym([H],e.prototype,"postConstruct",null),e=Ym([z("csvCreator")],e)}(Um),Zm=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),qm=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s};!function(t){t[t.HEADER_GROUPING=0]="HEADER_GROUPING",t[t.HEADER=1]="HEADER",t[t.BODY=2]="BODY"}(cm||(cm={}));var Jm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Zm(e,t),e.prototype.serialize=function(t,e){void 0===e&&(e={});var i=this.getColumnsToExport(e.allColumns,e.columnKeys);return on.compose(this.prepareSession(i),this.prependContent(e),this.exportColumnGroups(e,i),this.exportHeaders(e,i),this.processPinnedTopRows(e,i),this.processRows(e,i),this.processPinnedBottomRows(e,i),this.appendContent(e))(t).parse()},e.prototype.processRow=function(t,e,i,o){var n=e.shouldRowBeSkipped||function(){return!1},r=this.gridOptionsService.context,s=this.gridOptionsService.api,a=this.gridOptionsService.columnApi,l=this.gridOptionsService.is("groupRemoveSingleChildren"),c=this.gridOptionsService.is("groupRemoveLowestSingleChildren"),u=null!=e.rowPositions||!!e.onlySelected,h=this.gridOptionsService.is("groupHideOpenParents")&&!u,d=this.columnModel.isPivotMode()?o.leafGroup:!o.group,p=!!o.footer,f=e.skipGroups||e.skipRowGroups,g=c&&o.leafGroup,m=1===o.allChildrenCount&&(l||g);if((f&&e.skipGroups&&on.doOnce((function(){return console.warn("AG Grid: Since v25.2 `skipGroups` has been renamed to `skipRowGroups`.")}),"gridSerializer-skipGroups"),!(!d&&!p&&(e.skipRowGroups||m||h)||e.onlySelected&&!o.isSelected()||e.skipPinnedTop&&"top"===o.rowPinned||e.skipPinnedBottom&&"bottom"===o.rowPinned))&&((!(-1===o.level)||d||p)&&!n({node:o,api:s,columnApi:a,context:r}))){var y=t.onNewBodyRow();if(i.forEach((function(t,e){y.onColumn(t,e,o)})),e.getCustomContentBelowRow){var v=e.getCustomContentBelowRow({node:o,api:s,columnApi:a,context:r});v&&t.addCustomContent(v)}}},e.prototype.appendContent=function(t){return function(e){var i=t.customFooter||t.appendContent;return i&&(t.customFooter&&on.doOnce((function(){return console.warn("AG Grid: Since version 25.2.0 the `customFooter` param has been deprecated. Use `appendContent` instead.")}),"gridSerializer-customFooter"),e.addCustomContent(i)),e}},e.prototype.prependContent=function(t){return function(e){var i=t.customHeader||t.prependContent;return i&&(t.customHeader&&on.doOnce((function(){return console.warn("AG Grid: Since version 25.2.0 the `customHeader` param has been deprecated. Use `prependContent` instead.")}),"gridSerializer-customHeader"),e.addCustomContent(i)),e}},e.prototype.prepareSession=function(t){return function(e){return e.prepare(t),e}},e.prototype.exportColumnGroups=function(t,e){var i=this;return function(o){if(t.skipColumnGroupHeaders)t.columnGroups&&on.doOnce((function(){return console.warn("AG Grid: Since v25.2 the `columnGroups` param has deprecated, and groups are exported by default.")}),"gridSerializer-columnGroups");else{var n=new de,r=i.displayedGroupCreator.createDisplayedGroups(e,i.columnModel.getGridBalancedTree(),n,null);i.recursivelyAddHeaderGroups(r,o,t.processGroupHeaderCallback)}return o}},e.prototype.exportHeaders=function(t,e){return function(i){if(t.skipHeader||t.skipColumnHeaders)t.skipHeader&&on.doOnce((function(){return console.warn("AG Grid: Since v25.2 the `skipHeader` param has been renamed to `skipColumnHeaders`.")}),"gridSerializer-skipHeader");else{var o=i.onNewHeaderRow();e.forEach((function(t,e){o.onColumn(t,e,void 0)}))}return i}},e.prototype.processPinnedTopRows=function(t,e){var i=this;return function(o){var n=i.processRow.bind(i,o,t,e);return t.rowPositions?t.rowPositions.filter((function(t){return"top"===t.rowPinned})).sort((function(t,e){return t.rowIndex-e.rowIndex})).map((function(t){return i.pinnedRowModel.getPinnedTopRow(t.rowIndex)})).forEach(n):i.pinnedRowModel.forEachPinnedTopRow(n),o}},e.prototype.processRows=function(t,e){var i=this;return function(o){var n=i.rowModel,r=n.getType(),s="clientSide"===r,a="serverSide"===r,l=!s&&t.onlySelected,c=i.processRow.bind(i,o,t,e),u=t.exportedRows,h=void 0===u?"filteredAndSorted":u;if(t.rowPositions)t.rowPositions.filter((function(t){return null==t.rowPinned})).sort((function(t,e){return t.rowIndex-e.rowIndex})).map((function(t){return n.getRow(t.rowIndex)})).forEach(c);else if(i.columnModel.isPivotMode())s?n.forEachPivotNode(c,!0):n.forEachNode(c);else if(t.onlySelectedAllPages||l){var d=i.selectionService.getSelectedNodes();i.replicateSortedOrder(d),d.forEach(c)}else"all"===h?n.forEachNode(c):s?n.forEachNodeAfterFilterAndSort(c,!0):a?n.forEachNodeAfterFilterAndSort(c):n.forEachNode(c);return o}},e.prototype.replicateSortedOrder=function(t){var e=this,i=this.sortController.getSortOptions(),o=function(t,n){var r,s,a,l;return null!=t.rowIndex&&null!=n.rowIndex?t.rowIndex-n.rowIndex:t.level===n.level?(null===(r=t.parent)||void 0===r?void 0:r.id)===(null===(s=n.parent)||void 0===s?void 0:s.id)?e.rowNodeSorter.compareRowNodes(i,{rowNode:t,currentPos:null!==(a=t.rowIndex)&&void 0!==a?a:-1},{rowNode:n,currentPos:null!==(l=n.rowIndex)&&void 0!==l?l:-1}):o(t.parent,n.parent):t.level>n.level?o(t.parent,n):o(t,n.parent)};t.sort(o)},e.prototype.processPinnedBottomRows=function(t,e){var i=this;return function(o){var n=i.processRow.bind(i,o,t,e);return t.rowPositions?t.rowPositions.filter((function(t){return"bottom"===t.rowPinned})).sort((function(t,e){return t.rowIndex-e.rowIndex})).map((function(t){return i.pinnedRowModel.getPinnedBottomRow(t.rowIndex)})).forEach(n):i.pinnedRowModel.forEachPinnedBottomRow(n),o}},e.prototype.getColumnsToExport=function(t,e){void 0===t&&(t=!1);var i=this.columnModel.isPivotMode();return e&&e.length?this.columnModel.getGridColumns(e):t&&!i?(this.gridOptionsService.isTreeData()?this.columnModel.getGridColumns([ge]):[]).concat(this.columnModel.getAllPrimaryColumns()||[]):this.columnModel.getAllDisplayedColumns()},e.prototype.recursivelyAddHeaderGroups=function(t,e,i){var o=[];t.forEach((function(t){var e=t;e.getChildren&&e.getChildren().forEach((function(t){return o.push(t)}))})),t.length>0&&t[0]instanceof he&&this.doAddHeaderHeader(e,t,i),o&&o.length>0&&this.recursivelyAddHeaderGroups(o,e,i)},e.prototype.doAddHeaderHeader=function(t,e,i){var o=this,n=t.onNewHeaderGroupingRow(),r=0;e.forEach((function(t){var e,s=t;e=i?i({columnGroup:s,api:o.gridOptionsService.api,columnApi:o.gridOptionsService.columnApi,context:o.gridOptionsService.context}):o.columnModel.getDisplayNameForColumnGroup(s,"header");var a=s.getLeafColumns().reduce((function(t,e,i,o){var n=on.last(t);return"open"===e.getColumnGroupShow()?n&&null==n[1]||(n=[i],t.push(n)):n&&null==n[1]&&(n[1]=i-1),i===o.length-1&&n&&null==n[1]&&(n[1]=i),t}),[]);n.onColumn(s,e||"",r++,s.getLeafColumns().length-1,a)}))},qm([K("displayedGroupCreator")],e.prototype,"displayedGroupCreator",void 0),qm([K("columnModel")],e.prototype,"columnModel",void 0),qm([K("rowModel")],e.prototype,"rowModel",void 0),qm([K("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),qm([K("selectionService")],e.prototype,"selectionService",void 0),qm([K("rowNodeSorter")],e.prototype,"rowNodeSorter",void 0),qm([K("sortController")],e.prototype,"sortController",void 0),e=qm([z("gridSerializer")],e)}(jt),Qm={version:"29.3.4",moduleName:J.CsvExportModule,beans:[Xm,Jm]},ty="\r\n",ey=function(){function t(){}return t.createHeader=function(t){void 0===t&&(t={});var e=["version"];return t.version||(t.version="1.0"),t.encoding&&e.push("encoding"),t.standalone&&e.push("standalone"),"<?xml "+e.map((function(e){return e+'="'+t[e]+'"'})).join(" ")+" ?>"},t.createXml=function(t,e){var i=this,o="";t.properties&&(t.properties.prefixedAttributes&&t.properties.prefixedAttributes.forEach((function(t){Object.keys(t.map).forEach((function(n){o+=i.returnAttributeIfPopulated(t.prefix+n,t.map[n],e)}))})),t.properties.rawMap&&Object.keys(t.properties.rawMap).forEach((function(n){o+=i.returnAttributeIfPopulated(n,t.properties.rawMap[n],e)})));var n="<"+t.name+o;return t.children||null!=t.textNode?null!=t.textNode?n+">"+t.textNode+"</"+t.name+">"+ty:(n+=">\r\n",t.children&&t.children.forEach((function(t){n+=i.createXml(t,e)})),n+"</"+t.name+">"+ty):n+"/>"+ty},t.returnAttributeIfPopulated=function(t,e,i){if(!e&&""!==e&&0!==e)return"";var o=e;return"boolean"==typeof e&&i&&(o=i(e))," "+t+'="'+o+'"'},t}(),iy=function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],o=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},oy=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]),ny=function(){function t(){}return t.addFolders=function(t){t.forEach(this.addFolder.bind(this))},t.addFolder=function(t){this.folders.push({path:t,created:new Date,isBase64:!1})},t.addFile=function(t,e,i){void 0===i&&(i=!1),this.files.push({path:t,created:new Date,content:e,isBase64:i})},t.getContent=function(t){void 0===t&&(t="application/zip");var e=this.buildFileStream(),i=this.buildUint8Array(e);return this.clearStream(),new Blob([i],{type:t})},t.clearStream=function(){this.folders=[],this.files=[]},t.buildFileStream=function(t){var e,i;void 0===t&&(t="");var o=this.folders.concat(this.files),n=o.length,r="",s=0,a=0;try{for(var l=iy(o),c=l.next();!c.done;c=l.next()){var u=c.value,h=this.getHeader(u,s),d=h.fileHeader,p=h.folderHeader,f=h.content;s+=d.length+f.length,a+=p.length,t+=d+f,r+=p}}catch(t){e={error:t}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(e)throw e.error}}return t+r+this.buildFolderEnd(n,a,s)},t.getHeader=function(t,e){var i=t.content,o=t.path,n=t.created,r=t.isBase64,s=on.utf8_encode,a=on.decToHex,l=s(o),c=l!==o,u=this.convertTime(n),h=this.convertDate(n),d="";if(c){var p=a(1,1)+a(this.getFromCrc32Table(l),4)+l;d="up"+a(p.length,2)+p}var f=i?this.getConvertedContent(i,r):{size:0,content:""},g=f.size,m=f.content,y="\n\0"+(c?"\0\b":"\0\0")+"\0\0"+a(u,2)+a(h,2)+a(g?this.getFromCrc32Table(m):0,4)+a(g,4)+a(g,4)+a(l.length,2)+a(d.length,2);return{fileHeader:"PK"+y+l+d,folderHeader:"PK\0"+y+"\0\0\0\0\0\0"+(i?"\0\0\0\0":"\0\0\0")+a(e,4)+l+d,content:m||""}},t.getConvertedContent=function(t,e){return void 0===e&&(e=!1),e&&(t=t.split(";base64,")[1]),{size:(t=e?atob(t):t).length,content:t}},t.buildFolderEnd=function(t,e,i){var o=on.decToHex;return"PK\0\0\0\0"+o(t,2)+o(t,2)+o(e,4)+o(i,4)+"\0\0"},t.buildUint8Array=function(t){for(var e=new Uint8Array(t.length),i=0;i<e.length;i++)e[i]=t.charCodeAt(i);return e},t.getFromCrc32Table=function(t){if(!t.length)return 0;for(var e=t.length,i=new Uint8Array(e),o=0;o<e;o++)i[o]=t.charCodeAt(o);var n=-1,r=0;for(o=0;o<e;o++)r=i[o],n=n>>>8^oy[255&(n^r)];return-1^n},t.convertTime=function(t){var e=t.getHours();return e<<=6,e|=t.getMinutes(),e<<=5,e|=t.getSeconds()/2},t.convertDate=function(t){var e=t.getFullYear()-1980;return e<<=4,e|=t.getMonth()+1,e<<=5,e|=t.getDate()},t.folders=[],t.files=[],t}(),ry=[Dm,Vm,Qm];ot.registerModules(ry)},1906:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";var ag_grid_community__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1731),MD5=function(){function t(){this.ieCompatibility=!1}return t.prototype.init=function(){this.ieCompatibility="5d41402abc4b2a76b9719d911017c592"!=this.md5("hello")},t.prototype.md5cycle=function(t,e){var i=t[0],o=t[1],n=t[2],r=t[3];i=this.ff(i,o,n,r,e[0],7,-680876936),r=this.ff(r,i,o,n,e[1],12,-389564586),n=this.ff(n,r,i,o,e[2],17,606105819),o=this.ff(o,n,r,i,e[3],22,-1044525330),i=this.ff(i,o,n,r,e[4],7,-176418897),r=this.ff(r,i,o,n,e[5],12,1200080426),n=this.ff(n,r,i,o,e[6],17,-1473231341),o=this.ff(o,n,r,i,e[7],22,-45705983),i=this.ff(i,o,n,r,e[8],7,1770035416),r=this.ff(r,i,o,n,e[9],12,-1958414417),n=this.ff(n,r,i,o,e[10],17,-42063),o=this.ff(o,n,r,i,e[11],22,-1990404162),i=this.ff(i,o,n,r,e[12],7,1804603682),r=this.ff(r,i,o,n,e[13],12,-40341101),n=this.ff(n,r,i,o,e[14],17,-1502002290),o=this.ff(o,n,r,i,e[15],22,1236535329),i=this.gg(i,o,n,r,e[1],5,-165796510),r=this.gg(r,i,o,n,e[6],9,-1069501632),n=this.gg(n,r,i,o,e[11],14,643717713),o=this.gg(o,n,r,i,e[0],20,-373897302),i=this.gg(i,o,n,r,e[5],5,-701558691),r=this.gg(r,i,o,n,e[10],9,38016083),n=this.gg(n,r,i,o,e[15],14,-660478335),o=this.gg(o,n,r,i,e[4],20,-405537848),i=this.gg(i,o,n,r,e[9],5,568446438),r=this.gg(r,i,o,n,e[14],9,-1019803690),n=this.gg(n,r,i,o,e[3],14,-187363961),o=this.gg(o,n,r,i,e[8],20,1163531501),i=this.gg(i,o,n,r,e[13],5,-1444681467),r=this.gg(r,i,o,n,e[2],9,-51403784),n=this.gg(n,r,i,o,e[7],14,1735328473),o=this.gg(o,n,r,i,e[12],20,-1926607734),i=this.hh(i,o,n,r,e[5],4,-378558),r=this.hh(r,i,o,n,e[8],11,-2022574463),n=this.hh(n,r,i,o,e[11],16,1839030562),o=this.hh(o,n,r,i,e[14],23,-35309556),i=this.hh(i,o,n,r,e[1],4,-1530992060),r=this.hh(r,i,o,n,e[4],11,1272893353),n=this.hh(n,r,i,o,e[7],16,-155497632),o=this.hh(o,n,r,i,e[10],23,-1094730640),i=this.hh(i,o,n,r,e[13],4,681279174),r=this.hh(r,i,o,n,e[0],11,-358537222),n=this.hh(n,r,i,o,e[3],16,-722521979),o=this.hh(o,n,r,i,e[6],23,76029189),i=this.hh(i,o,n,r,e[9],4,-640364487),r=this.hh(r,i,o,n,e[12],11,-421815835),n=this.hh(n,r,i,o,e[15],16,530742520),o=this.hh(o,n,r,i,e[2],23,-995338651),i=this.ii(i,o,n,r,e[0],6,-198630844),r=this.ii(r,i,o,n,e[7],10,1126891415),n=this.ii(n,r,i,o,e[14],15,-1416354905),o=this.ii(o,n,r,i,e[5],21,-57434055),i=this.ii(i,o,n,r,e[12],6,1700485571),r=this.ii(r,i,o,n,e[3],10,-1894986606),n=this.ii(n,r,i,o,e[10],15,-1051523),o=this.ii(o,n,r,i,e[1],21,-2054922799),i=this.ii(i,o,n,r,e[8],6,1873313359),r=this.ii(r,i,o,n,e[15],10,-30611744),n=this.ii(n,r,i,o,e[6],15,-1560198380),o=this.ii(o,n,r,i,e[13],21,1309151649),i=this.ii(i,o,n,r,e[4],6,-145523070),r=this.ii(r,i,o,n,e[11],10,-1120210379),n=this.ii(n,r,i,o,e[2],15,718787259),o=this.ii(o,n,r,i,e[9],21,-343485551),t[0]=this.add32(i,t[0]),t[1]=this.add32(o,t[1]),t[2]=this.add32(n,t[2]),t[3]=this.add32(r,t[3])},t.prototype.cmn=function(t,e,i,o,n,r){return e=this.add32(this.add32(e,t),this.add32(o,r)),this.add32(e<<n|e>>>32-n,i)},t.prototype.ff=function(t,e,i,o,n,r,s){return this.cmn(e&i|~e&o,t,e,n,r,s)},t.prototype.gg=function(t,e,i,o,n,r,s){return this.cmn(e&o|i&~o,t,e,n,r,s)},t.prototype.hh=function(t,e,i,o,n,r,s){return this.cmn(e^i^o,t,e,n,r,s)},t.prototype.ii=function(t,e,i,o,n,r,s){return this.cmn(i^(e|~o),t,e,n,r,s)},t.prototype.md51=function(t){var e,i=t.length,o=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)this.md5cycle(o,this.md5blk(t.substring(e-64,e)));t=t.substring(e-64);var n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)n[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(n[e>>2]|=128<<(e%4<<3),e>55)for(this.md5cycle(o,n),e=0;e<16;e++)n[e]=0;return n[14]=8*i,this.md5cycle(o,n),o},t.prototype.md5blk=function(t){for(var e=[],i=0;i<64;i+=4)e[i>>2]=t.charCodeAt(i)+(t.charCodeAt(i+1)<<8)+(t.charCodeAt(i+2)<<16)+(t.charCodeAt(i+3)<<24);return e},t.prototype.rhex=function(t){for(var e="0123456789abcdef".split(""),i="",o=0;o<4;o++)i+=e[t>>8*o+4&15]+e[t>>8*o&15];return i},t.prototype.hex=function(t){for(var e=0;e<t.length;e++)t[e]=this.rhex(t[e]);return t.join("")},t.prototype.md5=function(t){return this.hex(this.md51(t))},t.prototype.add32=function(t,e){return this.ieCompatibility?this.add32Compat(t,e):this.add32Std(t,e)},t.prototype.add32Std=function(t,e){return t+e&4294967295},t.prototype.add32Compat=function(t,e){var i=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(i>>16)<<16|65535&i},t}(),__read$1c=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,n,r=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return s};function missingOrEmpty(t){return null==t||0===t.length}function exists(t,e){return void 0===e&&(e=!1),null!=t&&(""!==t||e)}var LicenseManager=function(){function t(t){this.watermarkMessage=void 0,this.document=t,this.md5=new MD5,this.md5.init()}return t.prototype.validateLicense=function(){if(missingOrEmpty(t.licenseKey))this.isWebsiteUrl()||this.outputMissingLicenseKey();else if(t.licenseKey.length>32)if(-1!==t.licenseKey.indexOf("For_Trialing_ag-Grid_Only"))this.outputInvalidLicenseKey();else{var e=t.extractLicenseComponents(t.licenseKey),i=e.md5,o=e.license,n=e.version,r=e.isTrial;i===this.md5.md5(o)?exists(n)&&n?this.validateLicenseKeyForVersion(n,!!r,o):this.validateLegacyKey(o):this.outputInvalidLicenseKey()}else this.outputInvalidLicenseKey()},t.extractExpiry=function(e){var i=e.substring(e.lastIndexOf("_")+1,e.length);return new Date(parseInt(t.decode(i),10))},t.extractLicenseComponents=function(e){var i=e.replace(/[\u200B-\u200D\uFEFF]/g,""),o=(i=i.replace(/\r?\n|\r/g,"")).length-32,n=i.substring(o),r=i.substring(0,o),s=__read$1c(t.extractBracketedInformation(i),2);return{md5:n,license:r,version:s[0],isTrial:s[1]}},t.prototype.getLicenseDetails=function(e){var i=t.extractLicenseComponents(e),o=i.md5,n=i.license,r=i.version,s=i.isTrial,a=o===this.md5.md5(n)&&-1===e.indexOf("For_Trialing_ag-Grid_Only"),l=null,c=null;a&&(c=t.extractExpiry(n),a=!isNaN(c.getTime()),s&&(l=c<new Date));return{licenseKey:e,valid:a,expiry:a?t.formatDate(c):null,version:r||"legacy",isTrial:s,trialExpired:l}},t.prototype.isDisplayWatermark=function(){return!this.isLocalhost()&&!this.isWebsiteUrl()&&!missingOrEmpty(this.watermarkMessage)},t.prototype.getWatermarkMessage=function(){return this.watermarkMessage||""},t.prototype.getHostname=function(){var t=(this.document.defaultView||window).location.hostname;return void 0===t?"":t},t.prototype.isWebsiteUrl=function(){return null!==this.getHostname().match(/^((?:\w+\.)?ag-grid\.com)$/)},t.prototype.isLocalhost=function(){return null!==this.getHostname().match(/^(?:127\.0\.0\.1|localhost)$/)},t.formatDate=function(t){var e=t.getDate(),i=t.getMonth(),o=t.getFullYear();return e+" "+["January","February","March","April","May","June","July","August","September","October","November","December"][i]+" "+o},t.getGridReleaseDate=function(){return new Date(parseInt(t.decode(t.RELEASE_INFORMATION),10))},t.decode=function(e){for(var i,o,n,r,s,a,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c="",u=0,h=e.replace(/[^A-Za-z0-9+/=]/g,"");u<h.length;)i=l.indexOf(h.charAt(u++))<<2|(r=l.indexOf(h.charAt(u++)))>>4,o=(15&r)<<4|(s=l.indexOf(h.charAt(u++)))>>2,n=(3&s)<<6|(a=l.indexOf(h.charAt(u++))),c+=String.fromCharCode(i),64!=s&&(c+=String.fromCharCode(o)),64!=a&&(c+=String.fromCharCode(n));return c=t.utf8_decode(c)},t.utf8_decode=function(t){t=t.replace(/rn/g,"n");for(var e="",i=0;i<t.length;i++){var o=t.charCodeAt(i);o<128?e+=String.fromCharCode(o):o>127&&o<2048?(e+=String.fromCharCode(o>>6|192),e+=String.fromCharCode(63&o|128)):(e+=String.fromCharCode(o>>12|224),e+=String.fromCharCode(o>>6&63|128),e+=String.fromCharCode(63&o|128))}return e},t.setLicenseKey=function(t){this.licenseKey=t},t.extractBracketedInformation=function(t){var e=t.split("[").filter((function(t){return t.indexOf("]")>-1})).map((function(t){return t.split("]")[0]}));if(!e||0===e.length)return[null,null];var i=1===e.filter((function(t){return"TRIAL"===t})).length;return[e.filter((function(t){return 0===t.indexOf("v")})).map((function(t){return t.replace(/^v/,"")}))[0],i]},t.prototype.validateLicenseKeyForVersion=function(t,e,i){"2"===t&&(e?this.validateForTrial(i):this.validateLegacyKey(i))},t.prototype.validateLegacyKey=function(e){var i=t.getGridReleaseDate(),o=t.extractExpiry(e),n=!1,r=!1;if(isNaN(o.getTime())||(n=!0,r=i<o),n){if(!r){var s=t.formatDate(o),a=t.formatDate(i);this.outputIncompatibleVersion(s,a)}}else this.outputInvalidLicenseKey()},t.prototype.validateForTrial=function(e){var i=t.extractExpiry(e),o=new Date,n=!1,r=!1;if(isNaN(i.getTime())||(n=!0,r=i>o),n){if(!r){var s=t.formatDate(i);this.outputExpiredTrialKey(s)}}else this.outputInvalidLicenseKey()},t.prototype.outputInvalidLicenseKey=function(){console.error("*****************************************************************************************************************"),console.error("***************************************** AG Grid Enterprise License ********************************************"),console.error("********************************************* Invalid License ***************************************************"),console.error("* Your license for AG Grid Enterprise is not valid - please contact info@ag-grid.com to obtain a valid license. *"),console.error("*****************************************************************************************************************"),console.error("*****************************************************************************************************************"),this.watermarkMessage="Invalid License"},t.prototype.outputExpiredTrialKey=function(t){console.error("****************************************************************************************************************"),console.error("***************************************** AG Grid Enterprise License *******************************************"),console.error("*****************************************   Trial Period Expired.    *******************************************"),console.error("* Your license for AG Grid Enterprise expired on "+t+".                                                *"),console.error("* Please email info@ag-grid.com to purchase a license.                                                         *"),console.error("****************************************************************************************************************"),console.error("****************************************************************************************************************"),this.watermarkMessage="Trial Period Expired"},t.prototype.outputMissingLicenseKey=function(){console.error("****************************************************************************************************************"),console.error("***************************************** AG Grid Enterprise License *******************************************"),console.error("****************************************** License Key Not Found ***********************************************"),console.error("* All AG Grid Enterprise features are unlocked.                                                                *"),console.error("* This is an evaluation only version, it is not licensed for development projects intended for production.     *"),console.error("* If you want to hide the watermark, please email info@ag-grid.com for a trial license.                        *"),console.error("****************************************************************************************************************"),console.error("****************************************************************************************************************"),this.watermarkMessage="For Trial Use Only"},t.prototype.outputIncompatibleVersion=function(t,e){console.error("****************************************************************************************************************************"),console.error("****************************************************************************************************************************"),console.error("*                                             AG Grid Enterprise License                                                   *"),console.error("*                           License not compatible with installed version of AG Grid Enterprise.                           *"),console.error("*                                                                                                                          *"),console.error("* Your AG Grid License entitles you to all versions of AG Grid that we release within the time covered by your license     *"),console.error("* - typically we provide one year licenses which entitles you to all releases / updates of AG Grid within that year.       *"),console.error("* Your license has an end (expiry) date which stops the license key working with versions of AG Grid released after the    *"),console.error("* license end date. The license key that you have expires on "+t+", however the version of AG Grid you    *"),console.error("* are trying to use was released on "+e+".                                                               *"),console.error("*                                                                                                                          *"),console.error("* Please contact info@ag-grid.com to renew your subscription to new versions and get a new license key to work with this   *"),console.error("* version of AG Grid.                                                                                                      *"),console.error("****************************************************************************************************************************"),console.error("****************************************************************************************************************************"),this.watermarkMessage="License Expired"},t.RELEASE_INFORMATION="MTY4MzExMjAxODQyNA==",t}(),__extends$3l=(extendStatics=function(t,e){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},extendStatics(t,e)},function(t,e){function i(){this.constructor=t}extendStatics(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),extendStatics,__decorate$2w=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},GridLicenseManager=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$3l(e,t),e.prototype.validateLicense=function(){this.licenseManager=new LicenseManager(this.gridOptionsService.getDocument()),this.licenseManager.validateLicense()},e.getLicenseDetails=function(t){return new LicenseManager(null).getLicenseDetails(t)},e.prototype.isDisplayWatermark=function(){return this.licenseManager.isDisplayWatermark()},e.prototype.getWatermarkMessage=function(){return this.licenseManager.getWatermarkMessage()},e.setLicenseKey=function(t){LicenseManager.setLicenseKey(t)},__decorate$2w([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.$j7],e.prototype,"validateLicense",null),e=__decorate$2w([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("licenseManager")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$3k=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$2v=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},WatermarkComp=function(t){function e(){return t.call(this,'<div class="ag-watermark">\n                    <div ref="eLicenseTextRef" class="ag-watermark-text"></div>\n               </div>')||this}return __extends$3k(e,t),e.prototype.postConstruct=function(){var t=this,e=this.shouldDisplayWatermark();this.setDisplayed(e),e&&(this.eLicenseTextRef.innerText=this.licenseManager.getWatermarkMessage(),window.setTimeout((function(){return t.addCssClass("ag-opacity-zero")}),0),window.setTimeout((function(){return t.setDisplayed(!1)}),5e3))},e.prototype.shouldDisplayWatermark=function(){var t=(this.gridOptionsService.getDocument().defaultView||window).location.pathname,e=this.licenseManager.isDisplayWatermark();return!!t&&-1!==t.indexOf("forceWatermark")||e},__decorate$2v([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("licenseManager")],e.prototype,"licenseManager",void 0),__decorate$2v([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eLicenseTextRef")],e.prototype,"eLicenseTextRef",void 0),__decorate$2v([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),VERSION$i="29.3.4",EnterpriseCoreModule={version:VERSION$i,moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.EnterpriseCoreModule,beans:[GridLicenseManager],agStackComponents:[{componentName:"AgWatermark",componentClass:WatermarkComp}]},__extends$3j=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$2u=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},__values$D=function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],o=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},SOURCE_PASTE="paste",EXPORT_TYPE_DRAG_COPY="dragCopy",EXPORT_TYPE_CLIPBOARD="clipboard",CellClearType;!function(t){t[t.CellRange=0]="CellRange",t[t.SelectedRows=1]="SelectedRows",t[t.FocusedCell=2]="FocusedCell"}(CellClearType||(CellClearType={}));var ClipboardService=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lastPasteOperationTime=0,e.navigatorApiFailed=!1,e}var i;return __extends$3j(e,t),i=e,e.prototype.init=function(){var t=this;this.logger=this.loggerFactory.create("ClipboardService"),"clientSide"===this.rowModel.getType()&&(this.clientSideRowModel=this.rowModel),this.ctrlsService.whenReady((function(e){t.gridCtrl=e.gridCtrl}))},e.prototype.pasteFromClipboard=function(){var t=this;this.logger.log("pasteFromClipboard"),!this.gridOptionsService.is("suppressClipboardApi")&&!this.navigatorApiFailed&&navigator.clipboard&&navigator.clipboard.readText?navigator.clipboard.readText().then(this.processClipboardData.bind(this)).catch((function(e){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce((function(){console.warn(e),console.warn("AG Grid: Unable to use the Clipboard API (navigator.clipboard.readText()). The reason why it could not be used has been logged in the previous line. For this reason the grid has defaulted to using a workaround which doesn't perform as well. Either fix why Clipboard API is blocked, OR stop this message from appearing by setting grid property suppressClipboardApi=true (which will default the grid to using the workaround rather than the API")}),"clipboardApiError"),t.navigatorApiFailed=!0,t.pasteFromClipboardLegacy()})):this.pasteFromClipboardLegacy()},e.prototype.pasteFromClipboardLegacy=function(){var t=this,e=!1,i=function(i){var o=(new Date).getTime();o-t.lastPasteOperationTime<50&&(e=!0,i.preventDefault()),t.lastPasteOperationTime=o};this.executeOnTempElement((function(t){t.addEventListener("paste",i),t.focus({preventScroll:!0})}),(function(o){var n=o.value;e?t.refocusLastFocusedCell():t.processClipboardData(n),o.removeEventListener("paste",i)}))},e.prototype.refocusLastFocusedCell=function(){var t=this.focusService.getFocusedCell();t&&this.focusService.setFocusedCell({rowIndex:t.rowIndex,column:t.column,rowPinned:t.rowPinned,forceBrowserFocus:!0})},e.prototype.getClipboardDelimiter=function(){var t=this.gridOptionsService.get("clipboardDelimiter");return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(t)?t:"\t"},e.prototype.processClipboardData=function(t){var e=this;if(null!=t){var o=i.stringToArray(t,this.getClipboardDelimiter()),n=this.gridOptionsService.getCallback("processDataFromClipboard");if(n&&(o=n({data:o})),null!=o){this.gridOptionsService.is("suppressLastEmptyLineOnPaste")&&this.removeLastLineIfBlank(o);this.doPasteOperation((function(t,i,n,r){e.rangeService&&e.rangeService.isMoreThanOneCell()&&!e.hasOnlyOneValueToPaste(o)?e.pasteIntoActiveRange(o,t,i,r):e.pasteStartingFromFocusedCell(o,t,i,n,r)}))}}},e.stringToArray=function(t,e){void 0===e&&(e=",");var i=[],o=function(t){return"\r"===t||"\n"===t},n=!1;if(""===t)return[[""]];for(var r,s,a,l=function(l,c,u){var h=t[u-1],d=t[u],p=t[u+1],f=function(){i[l]||(i[l]=[]),i[l][c]||(i[l][c]="")};if(f(),'"'===d){if(n)return'"'===p?(i[l][c]+='"',u++):n=!1,r=l,s=c,a=u,"continue";if(void 0===h||h===e||o(h))return n=!0,r=l,s=c,a=u,"continue"}if(!n){if(d===e)return c++,f(),r=l,s=c,a=u,"continue";if(o(d))return c=0,l++,f(),"\r"===d&&"\n"===p&&u++,r=l,s=c,a=u,"continue"}i[l][c]+=d,r=l,s=c,a=u},c=0,u=0,h=0;h<t.length;h++)l(c,u,h),c=r,u=s,h=a;return i},e.prototype.doPasteOperation=function(t){var e,i=this.gridOptionsService.api,o=this.gridOptionsService.columnApi,n="clipboard";if(this.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_PASTE_START,api:i,columnApi:o,source:n}),this.clientSideRowModel){var r=this.gridOptionsService.is("aggregateOnlyChangedColumns");e=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Dkq(r,this.clientSideRowModel.getRootNode())}var s={},a=[];t(s,a,this.focusService.getFocusedCell(),e),e&&this.clientSideRowModel.doAggregate(e),this.rowRenderer.refreshCells(),this.dispatchFlashCells(s),this.fireRowChanged(a),this.refocusLastFocusedCell();var l={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_PASTE_END,source:n};this.eventService.dispatchEvent(l)},e.prototype.pasteIntoActiveRange=function(t,e,i,o){var n=this,r=this.getRangeSize()%t.length!=0,s=0,a=0;this.iterateActiveRanges(!1,(function(l,c,u,h){if(h-s>=t.length){if(r)return;s+=a,a=0}var d=t[h-s];i.push(c);var p=n.gridOptionsService.getCallback("processCellFromClipboard");u.forEach((function(t,i){if(t.isCellEditable(c)&&!t.isSuppressPaste(c)){i>=d.length&&(i%=d.length);var r=n.processCell(c,t,d[i],EXPORT_TYPE_DRAG_COPY,p);c.setDataValue(t,r,SOURCE_PASTE),o&&o.addParentNode(c.parent,[t]);var s=l.rowIndex,a=l.rowPinned,u=n.cellPositionUtils.createIdFromValues({rowIndex:s,column:t,rowPinned:a});e[u]=!0}})),a++}))},e.prototype.pasteStartingFromFocusedCell=function(t,e,i,o,n){if(o){var r={rowIndex:o.rowIndex,rowPinned:o.rowPinned},s=this.columnModel.getDisplayedColumnsStartingAt(o.column);this.isPasteSingleValueIntoRange(t)?this.pasteSingleValueIntoRange(t,i,e,n):this.pasteMultipleValues(t,r,i,s,e,EXPORT_TYPE_CLIPBOARD,n)}},e.prototype.isPasteSingleValueIntoRange=function(t){return this.hasOnlyOneValueToPaste(t)&&null!=this.rangeService&&!this.rangeService.isEmpty()},e.prototype.pasteSingleValueIntoRange=function(t,e,i,o){var n=this,r=t[0][0];this.iterateActiveRanges(!1,(function(t,s,a){e.push(s),a.forEach((function(t){return n.updateCellValue(s,t,r,i,EXPORT_TYPE_CLIPBOARD,o)}))}))},e.prototype.hasOnlyOneValueToPaste=function(t){return 1===t.length&&1===t[0].length},e.prototype.copyRangeDown=function(){var t=this;if(this.rangeService&&!this.rangeService.isEmpty()){var e=[];this.doPasteOperation((function(i,o,n,r){var s=t.gridOptionsService.getCallback("processCellForClipboard"),a=t.gridOptionsService.getCallback("processCellFromClipboard");t.iterateActiveRanges(!0,(function(n,l,c){e.length?(o.push(l),c.forEach((function(o,s){if(o.isCellEditable(l)&&!o.isSuppressPaste(l)){var c=t.processCell(l,o,e[s],EXPORT_TYPE_DRAG_COPY,a);l.setDataValue(o,c,SOURCE_PASTE),r&&r.addParentNode(l.parent,[o]);var u=n.rowIndex,h=n.rowPinned,d=t.cellPositionUtils.createIdFromValues({rowIndex:u,column:o,rowPinned:h});i[d]=!0}}))):c.forEach((function(i){var o=t.processCell(l,i,t.valueService.getValue(i,l),EXPORT_TYPE_DRAG_COPY,s);e.push(o)}))}))}))}},e.prototype.removeLastLineIfBlank=function(t){var e=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(t);if(e&&1===e.length&&""===e[0]){if(1===t.length)return;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromArray(t,e)}},e.prototype.fireRowChanged=function(t){var e=this;"fullRow"===this.gridOptionsService.get("editType")&&t.forEach((function(t){var i={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_ROW_VALUE_CHANGED,node:t,data:t.data,rowIndex:t.rowIndex,rowPinned:t.rowPinned};e.eventService.dispatchEvent(i)}))},e.prototype.pasteMultipleValues=function(t,e,i,o,n,r,s){var a=this,l=e,c=null!=this.clientSideRowModel&&!this.gridOptionsService.isTreeData();t.forEach((function(t){var e=function(){for(;;){if(!l)return null;var t=a.rowPositionUtils.getRowNode(l);if(l=a.cellNavigationService.getRowBelow({rowPinned:l.rowPinned,rowIndex:l.rowIndex}),null==t)return null;if(!(t.detail||t.footer||c&&t.group))return t}}();e&&(t.forEach((function(t,i){return a.updateCellValue(e,o[i],t,n,r,s)})),i.push(e))}))},e.prototype.updateCellValue=function(t,e,i,o,n,r){if(t&&e&&e.isCellEditable(t)&&!e.isSuppressPaste(t)){var s=this.processCell(t,e,i,n,this.gridOptionsService.getCallback("processCellFromClipboard"));t.setDataValue(e,s,SOURCE_PASTE);var a=t.rowIndex,l=t.rowPinned;o[this.cellPositionUtils.createIdFromValues({rowIndex:a,column:e,rowPinned:l})]=!0,r&&r.addParentNode(t.parent,[e])}},e.prototype.copyToClipboard=function(t){void 0===t&&(t={}),this.copyOrCutToClipboard(t)},e.prototype.cutToClipboard=function(t){void 0===t&&(t={}),this.gridOptionsService.is("suppressCutToClipboard")||this.copyOrCutToClipboard(t,!0)},e.prototype.copyOrCutToClipboard=function(t,e){var i=t.includeHeaders,o=t.includeGroupHeaders;this.logger.log("copyToClipboard: includeHeaders = "+i),null==i&&(i=this.gridOptionsService.is("copyHeadersToClipboard")),null==o&&(o=this.gridOptionsService.is("copyGroupHeadersToClipboard"));var n={includeHeaders:i,includeGroupHeaders:o},r=!this.gridOptionsService.is("suppressCopyRowsToClipboard"),s=null;!this.rangeService||this.rangeService.isEmpty()||this.shouldSkipSingleCellRange()?r&&!this.selectionService.isEmpty()?(this.copySelectedRowsToClipboard(n),s=CellClearType.SelectedRows):this.focusService.isAnyCellFocused()&&(this.copyFocusedCellToClipboard(n),s=CellClearType.FocusedCell):(this.copySelectedRangeToClipboard(n),s=CellClearType.CellRange),e&&null!==s&&this.clearCellsAfterCopy(s)},e.prototype.clearCellsAfterCopy=function(t){if(this.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_KEY_SHORTCUT_CHANGED_CELL_START}),t===CellClearType.CellRange)this.rangeService.clearCellRangeCellValues(void 0,"clipboardService");else if(t===CellClearType.SelectedRows)this.clearSelectedRows();else{var e=this.focusService.getFocusedCell();if(null==e)return;var i=this.rowPositionUtils.getRowNode(e);i&&this.clearCellValue(i,e.column)}this.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_KEY_SHORTCUT_CHANGED_CELL_END})},e.prototype.clearSelectedRows=function(){var t,e,i,o,n=this.selectionService.getSelectedNodes(),r=this.columnModel.getAllDisplayedColumns();try{for(var s=__values$D(n),a=s.next();!a.done;a=s.next()){var l=a.value;try{for(var c=(i=void 0,__values$D(r)),u=c.next();!u.done;u=c.next()){var h=u.value;this.clearCellValue(l,h)}}catch(t){i={error:t}}finally{try{u&&!u.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}}}catch(e){t={error:e}}finally{try{a&&!a.done&&(e=s.return)&&e.call(s)}finally{if(t)throw t.error}}},e.prototype.clearCellValue=function(t,e){e.isCellEditable(t)&&t.setDataValue(e,null,"clipboardService")},e.prototype.shouldSkipSingleCellRange=function(){return this.gridOptionsService.is("suppressCopySingleCellRanges")&&!this.rangeService.isMoreThanOneCell()},e.prototype.iterateActiveRanges=function(t,e,i){var o=this;if(this.rangeService&&!this.rangeService.isEmpty()){var n=this.rangeService.getCellRanges();t?this.iterateActiveRange(n[0],e,i,!0):n.forEach((function(t,r){return o.iterateActiveRange(t,e,i,r===n.length-1)}))}},e.prototype.iterateActiveRange=function(t,e,i,o){if(this.rangeService){var n=this.rangeService.getRangeStartRow(t),r=this.rangeService.getRangeEndRow(t);i&&t.columns&&i(t.columns);for(var s=0,a=!1;!a&&null!=n;){var l=this.rowPositionUtils.getRowNode(n);a=this.rowPositionUtils.sameRow(n,r),e(n,l,t.columns,s++,a&&o),n=this.cellNavigationService.getRowBelow(n)}}},e.prototype.copySelectedRangeToClipboard=function(t){if(void 0===t&&(t={}),this.rangeService&&!this.rangeService.isEmpty()){var e=this.rangeService.areAllRangesAbleToMerge()?this.buildDataFromMergedRanges(t):this.buildDataFromRanges(t),i=e.data,o=e.cellsToFlash;this.copyDataToClipboard(i),this.dispatchFlashCells(o)}},e.prototype.buildDataFromMergedRanges=function(t){var e=this,i=new Set,o=this.rangeService.getCellRanges(),n=new Map,r=[],s={};o.forEach((function(t){t.columns.forEach((function(t){return i.add(t)}));var o=e.getRangeRowPositionsAndCellsToFlash(t),a=o.rowPositions,l=o.cellsToFlash;a.forEach((function(t){var e=t.rowIndex+"-"+(t.rowPinned||"null");n.get(e)||(n.set(e,!0),r.push(t))})),Object.assign(s,l)}));var a=this.columnModel.getAllDisplayedColumns(),l=Array.from(i);return l.sort((function(t,e){return a.indexOf(t)-a.indexOf(e)})),{data:this.buildExportParams({columns:l,rowPositions:r,includeHeaders:t.includeHeaders,includeGroupHeaders:t.includeGroupHeaders}),cellsToFlash:s}},e.prototype.buildDataFromRanges=function(t){var e=this,i=this.rangeService.getCellRanges(),o=[],n={};return i.forEach((function(i){var r=e.getRangeRowPositionsAndCellsToFlash(i),s=r.rowPositions,a=r.cellsToFlash;Object.assign(n,a),o.push(e.buildExportParams({columns:i.columns,rowPositions:s,includeHeaders:t.includeHeaders,includeGroupHeaders:t.includeGroupHeaders}))})),{data:o.join("\n"),cellsToFlash:n}},e.prototype.getRangeRowPositionsAndCellsToFlash=function(t){for(var e=this,i=[],o={},n=this.rangeService.getRangeStartRow(t),r=this.rangeService.getRangeEndRow(t),s=n;s&&(i.push(s),t.columns.forEach((function(t){var i=s,n=i.rowIndex,r=i.rowPinned,a=e.cellPositionUtils.createIdFromValues({rowIndex:n,column:t,rowPinned:r});o[a]=!0})),!this.rowPositionUtils.sameRow(s,r));)s=this.cellNavigationService.getRowBelow(s);return{rowPositions:i,cellsToFlash:o}},e.prototype.copyFocusedCellToClipboard=function(t){var e;void 0===t&&(t={});var i=this.focusService.getFocusedCell();if(null!=i){var o=this.cellPositionUtils.createId(i),n={rowPinned:i.rowPinned,rowIndex:i.rowIndex},r=i.column,s=this.buildExportParams({columns:[r],rowPositions:[n],includeHeaders:t.includeHeaders,includeGroupHeaders:t.includeGroupHeaders});this.copyDataToClipboard(s),this.dispatchFlashCells(((e={})[o]=!0,e))}},e.prototype.copySelectedRowsToClipboard=function(t){void 0===t&&(t={});var e=t.columnKeys,i=t.includeHeaders,o=t.includeGroupHeaders,n=this.buildExportParams({columns:e,includeHeaders:i,includeGroupHeaders:o});this.copyDataToClipboard(n)},e.prototype.buildExportParams=function(t){var e=this,i=t.columns,o=t.rowPositions,n=t.includeHeaders,r=void 0!==n&&n,s=t.includeGroupHeaders,a={columnKeys:i,rowPositions:o,skipColumnHeaders:!r,skipColumnGroupHeaders:!(void 0!==s&&s),suppressQuotes:!0,columnSeparator:this.getClipboardDelimiter(),onlySelected:!o,processCellCallback:this.gridOptionsService.getCallback("processCellForClipboard"),processRowGroupCallback:function(t){return e.processRowGroupCallback(t)},processHeaderCallback:this.gridOptionsService.getCallback("processHeaderForClipboard"),processGroupHeaderCallback:this.gridOptionsService.getCallback("processGroupHeaderForClipboard")};return this.csvCreator.getDataAsCsv(a,!0)},e.prototype.processRowGroupCallback=function(t){var e=t.node,i=e.key,o=null!=i?i:"";if(t.node.footer){var n="";i&&i.length&&(n=" "+i),o="Total"+n}var r=this.gridOptionsService.getCallback("processCellForClipboard");if(r){var s=e.rowGroupColumn;return!s&&e.footer&&-1===e.level&&(s=this.columnModel.getRowGroupColumns()[0]),r({value:o,node:e,column:s,type:"clipboard"})}return o},e.prototype.dispatchFlashCells=function(t){var e=this;window.setTimeout((function(){var i={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_FLASH_CELLS,cells:t};e.eventService.dispatchEvent(i)}),0)},e.prototype.processCell=function(t,e,i,o,n){return n?n({column:e,node:t,value:i,type:o}):i},e.prototype.copyDataToClipboard=function(t){var e=this,i=this.gridOptionsService.getCallback("sendToClipboard");i?i({data:t}):!this.gridOptionsService.is("suppressClipboardApi")&&navigator.clipboard?navigator.clipboard.writeText(t).catch((function(i){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce((function(){console.warn(i),console.warn("AG Grid: Unable to use the Clipboard API (navigator.clipboard.writeText()). The reason why it could not be used has been logged in the previous line. For this reason the grid has defaulted to using a workaround which doesn't perform as well. Either fix why Clipboard API is blocked, OR stop this message from appearing by setting grid property suppressClipboardApi=true (which will default the grid to using the workaround rather than the API.")}),"clipboardApiError"),e.copyDataToClipboardLegacy(t)})):this.copyDataToClipboardLegacy(t)},e.prototype.copyDataToClipboardLegacy=function(t){var e=this;this.executeOnTempElement((function(i){var o=e.gridOptionsService.getDocument(),n=o.activeElement;i.value=t||" ",i.select(),i.focus({preventScroll:!0}),o.execCommand("copy")||console.warn("AG Grid: Browser did not allow document.execCommand('copy'). Ensure api.copySelectedRowsToClipboard() is invoked via a user event, i.e. button click, otherwise the browser will prevent it for security reasons."),null!=n&&null!=n.focus&&n.focus({preventScroll:!0})}))},e.prototype.executeOnTempElement=function(t,e){var i=this.gridOptionsService.getDocument(),o=i.createElement("textarea");o.style.width="1px",o.style.height="1px",o.style.top=i.documentElement.scrollTop+"px",o.style.left=i.documentElement.scrollLeft+"px",o.style.position="absolute",o.style.opacity="0";var n=this.gridCtrl.getGui();n.appendChild(o);try{t(o)}catch(t){console.warn("AG Grid: Browser does not support document.execCommand('copy') for clipboard operations")}e?window.setTimeout((function(){e(o),n.removeChild(o)}),100):n.removeChild(o)},e.prototype.getRangeSize=function(){var t=this.rangeService.getCellRanges(),e=0,i=0;return t.length>0&&(e=this.rangeService.getRangeStartRow(t[0]).rowIndex,i=this.rangeService.getRangeEndRow(t[0]).rowIndex),e-i+1},__decorate$2u([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("csvCreator")],e.prototype,"csvCreator",void 0),__decorate$2u([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("loggerFactory")],e.prototype,"loggerFactory",void 0),__decorate$2u([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("selectionService")],e.prototype,"selectionService",void 0),__decorate$2u([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FiY)("rangeService")],e.prototype,"rangeService",void 0),__decorate$2u([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowModel")],e.prototype,"rowModel",void 0),__decorate$2u([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ctrlsService")],e.prototype,"ctrlsService",void 0),__decorate$2u([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("valueService")],e.prototype,"valueService",void 0),__decorate$2u([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("focusService")],e.prototype,"focusService",void 0),__decorate$2u([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowRenderer")],e.prototype,"rowRenderer",void 0),__decorate$2u([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$2u([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("cellNavigationService")],e.prototype,"cellNavigationService",void 0),__decorate$2u([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("cellPositionUtils")],e.prototype,"cellPositionUtils",void 0),__decorate$2u([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowPositionUtils")],e.prototype,"rowPositionUtils",void 0),__decorate$2u([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e=i=__decorate$2u([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("clipboardService")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),VERSION$h="29.3.4",ClipboardModule={version:VERSION$h,moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.ClipboardModule,beans:[ClipboardService],dependantModules:[EnterpriseCoreModule,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jMC]},__extends$3i=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$2t=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},ExpandState;!function(t){t[t.EXPANDED=0]="EXPANDED",t[t.COLLAPSED=1]="COLLAPSED",t[t.INDETERMINATE=2]="INDETERMINATE"}(ExpandState||(ExpandState={}));var PrimaryColsHeaderPanel=function(t){function e(){return t.call(this,e.TEMPLATE)||this}return __extends$3i(e,t),e.prototype.postConstruct=function(){var t=this;this.createExpandIcons(),this.addManagedListener(this.eExpand,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eExpand,"keydown",(function(e){e.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.SPACE&&(e.preventDefault(),t.onExpandClicked())})),this.addManagedListener(this.eSelect.getInputElement(),"click",this.onSelectClicked.bind(this)),this.eFilterTextField.onValueChange((function(){return t.onFilterTextChanged()})),this.addManagedListener(this.eFilterTextField.getInputElement(),"keypress",this.onMiniFilterKeyPress.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_NEW_COLUMNS_LOADED,this.showOrHideOptions.bind(this));var e=this.localeService.getLocaleTextFunc();this.eSelect.setInputAriaLabel(e("ariaColumnSelectAll","Toggle Select All Columns")),this.eFilterTextField.setInputAriaLabel(e("ariaFilterColumnsInput","Filter Columns Input"))},e.prototype.init=function(t){this.params=t,this.columnModel.isReady()&&this.showOrHideOptions()},e.prototype.createExpandIcons=function(){this.eExpand.appendChild(this.eExpandChecked=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("columnSelectOpen",this.gridOptionsService)),this.eExpand.appendChild(this.eExpandUnchecked=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("columnSelectClosed",this.gridOptionsService)),this.eExpand.appendChild(this.eExpandIndeterminate=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("columnSelectIndeterminate",this.gridOptionsService)),this.setExpandState(ExpandState.EXPANDED)},e.prototype.showOrHideOptions=function(){var t=!this.params.suppressColumnFilter,e=!this.params.suppressColumnSelectAll,i=!this.params.suppressColumnExpandAll,o=this.columnModel.isPrimaryColumnGroupsPresent(),n=this.localeService.getLocaleTextFunc();this.eFilterTextField.setInputPlaceholder(n("searchOoo","Search...")),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eFilterTextField.getGui(),t),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eSelect.getGui(),e),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eExpand,i&&o)},e.prototype.onFilterTextChanged=function(){var t=this;this.onFilterTextChangedDebounced||(this.onFilterTextChangedDebounced=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.debounce((function(){var e=t.eFilterTextField.getValue();t.dispatchEvent({type:"filterChanged",filterText:e})}),e.DEBOUNCE_DELAY)),this.onFilterTextChangedDebounced()},e.prototype.onMiniFilterKeyPress=function(t){var i=this;t.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.ENTER&&setTimeout((function(){return i.onSelectClicked()}),e.DEBOUNCE_DELAY)},e.prototype.onSelectClicked=function(){this.dispatchEvent({type:this.selectState?"unselectAll":"selectAll"})},e.prototype.onExpandClicked=function(){this.dispatchEvent({type:this.expandState===ExpandState.EXPANDED?"collapseAll":"expandAll"})},e.prototype.setExpandState=function(t){this.expandState=t,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eExpandChecked,this.expandState===ExpandState.EXPANDED),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eExpandUnchecked,this.expandState===ExpandState.COLLAPSED),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eExpandIndeterminate,this.expandState===ExpandState.INDETERMINATE)},e.prototype.setSelectionState=function(t){this.selectState=t,this.eSelect.setValue(this.selectState)},e.DEBOUNCE_DELAY=300,e.TEMPLATE='<div class="ag-column-select-header" role="presentation">\n            <div ref="eExpand" class="ag-column-select-header-icon" tabindex="0"></div>\n            <ag-checkbox ref="eSelect" class="ag-column-select-header-checkbox"></ag-checkbox>\n            <ag-input-text-field class="ag-column-select-header-filter-wrapper" ref="eFilterTextField"></ag-input-text-field>\n        </div>',__decorate$2t([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$2t([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eExpand")],e.prototype,"eExpand",void 0),__decorate$2t([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eSelect")],e.prototype,"eSelect",void 0),__decorate$2t([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eFilterTextField")],e.prototype,"eFilterTextField",void 0),__decorate$2t([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),ColumnModelItem=function(){function t(t,e,i,o,n){void 0===o&&(o=!1),this.eventService=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.POd,this.displayName=t,this.dept=i,this.group=o,o?(this.columnGroup=e,this.expanded=n,this.children=[]):this.column=e}return t.prototype.isGroup=function(){return this.group},t.prototype.getDisplayName=function(){return this.displayName},t.prototype.getColumnGroup=function(){return this.columnGroup},t.prototype.getColumn=function(){return this.column},t.prototype.getDept=function(){return this.dept},t.prototype.isExpanded=function(){return!!this.expanded},t.prototype.getChildren=function(){return this.children},t.prototype.isPassesFilter=function(){return this.passesFilter},t.prototype.setExpanded=function(e){e!==this.expanded&&(this.expanded=e,this.eventService.dispatchEvent({type:t.EVENT_EXPANDED_CHANGED}))},t.prototype.setPassesFilter=function(t){this.passesFilter=t},t.prototype.addEventListener=function(t,e){this.eventService.addEventListener(t,e)},t.prototype.removeEventListener=function(t,e){this.eventService.removeEventListener(t,e)},t.EVENT_EXPANDED_CHANGED="expandedChanged",t}(),__extends$3h=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$2s=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},__read$1b=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,n,r=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return s},__spread$J=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$1b(arguments[e]));return t},__values$C=function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],o=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ToolPanelContextMenu=function(t){function e(e,i,o){var n=t.call(this,'<div class="ag-menu"></div>')||this;return n.column=e,n.mouseEvent=i,n.parentEl=o,n.displayName=null,n}return __extends$3h(e,t),e.prototype.postConstruct=function(){this.initializeProperties(this.column),this.buildMenuItemMap(),this.column instanceof ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sgG?this.displayName=this.columnModel.getDisplayNameForColumn(this.column,"columnToolPanel"):this.displayName=this.columnModel.getDisplayNameForProvidedColumnGroup(null,this.column,"columnToolPanel"),this.isActive()&&(this.mouseEvent.preventDefault(),this.displayContextMenu())},e.prototype.initializeProperties=function(t){t instanceof ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KTm?this.columns=t.getLeafColumns():this.columns=[t],this.allowGrouping=this.columns.some((function(t){return t.isPrimary()&&t.isAllowRowGroup()})),this.allowValues=this.columns.some((function(t){return t.isPrimary()&&t.isAllowValue()})),this.allowPivoting=this.columnModel.isPivotMode()&&this.columns.some((function(t){return t.isPrimary()&&t.isAllowPivot()}))},e.prototype.buildMenuItemMap=function(){var t=this,e=this.localeService.getLocaleTextFunc();this.menuItemMap=new Map,this.menuItemMap.set("rowGroup",{allowedFunction:function(t){return t.isPrimary()&&t.isAllowRowGroup()},activeFunction:function(t){return t.isRowGroupActive()},activateLabel:function(){return e("groupBy","Group by")+" "+t.displayName},deactivateLabel:function(){return e("ungroupBy","Un-Group by")+" "+t.displayName},activateFunction:function(){var e=t.columnModel.getRowGroupColumns();t.columnModel.setRowGroupColumns(t.addColumnsToList(e),"toolPanelUi")},deActivateFunction:function(){var e=t.columnModel.getRowGroupColumns();t.columnModel.setRowGroupColumns(t.removeColumnsFromList(e),"toolPanelUi")},addIcon:"menuAddRowGroup",removeIcon:"menuRemoveRowGroup"}),this.menuItemMap.set("value",{allowedFunction:function(t){return t.isPrimary()&&t.isAllowValue()},activeFunction:function(t){return t.isValueActive()},activateLabel:function(){return e("addToValues","Add "+t.displayName+" to values",[t.displayName])},deactivateLabel:function(){return e("removeFromValues","Remove "+t.displayName+" from values",[t.displayName])},activateFunction:function(){var e=t.columnModel.getValueColumns();t.columnModel.setValueColumns(t.addColumnsToList(e),"toolPanelUi")},deActivateFunction:function(){var e=t.columnModel.getValueColumns();t.columnModel.setValueColumns(t.removeColumnsFromList(e),"toolPanelUi")},addIcon:"valuePanel",removeIcon:"valuePanel"}),this.menuItemMap.set("pivot",{allowedFunction:function(e){return t.columnModel.isPivotMode()&&e.isPrimary()&&e.isAllowPivot()},activeFunction:function(t){return t.isPivotActive()},activateLabel:function(){return e("addToLabels","Add "+t.displayName+" to labels",[t.displayName])},deactivateLabel:function(){return e("removeFromLabels","Remove "+t.displayName+" from labels",[t.displayName])},activateFunction:function(){var e=t.columnModel.getPivotColumns();t.columnModel.setPivotColumns(t.addColumnsToList(e),"toolPanelUi")},deActivateFunction:function(){var e=t.columnModel.getPivotColumns();t.columnModel.setPivotColumns(t.removeColumnsFromList(e),"toolPanelUi")},addIcon:"pivotPanel",removeIcon:"pivotPanel"})},e.prototype.addColumnsToList=function(t){return __spread$J(t).concat(this.columns.filter((function(e){return-1===t.indexOf(e)})))},e.prototype.removeColumnsFromList=function(t){var e=this;return t.filter((function(t){return-1===e.columns.indexOf(t)}))},e.prototype.displayContextMenu=function(){var t=this,e=this.getGui(),i=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O_3),o=this.getMappedMenuItems(),n=this.localeService.getLocaleTextFunc(),r=function(){};e.appendChild(i.getGui()),i.addMenuItems(o),i.addManagedListener(i,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sJC.EVENT_MENU_ITEM_SELECTED,(function(){t.parentEl.focus(),r()}));var s=this.popupService.addPopup({modal:!0,eChild:e,closeOnEsc:!0,afterGuiAttached:function(){return t.focusService.focusInto(i.getGui())},ariaLabel:n("ariaLabelContextMenu","Context Menu"),closedCallback:function(e){e instanceof KeyboardEvent&&t.parentEl.focus(),t.destroyBean(i)}});s&&(r=s.hideFunc),this.popupService.positionPopupUnderMouseEvent({type:"columnContextMenu",mouseEvent:this.mouseEvent,ePopup:e})},e.prototype.isActive=function(){return this.allowGrouping||this.allowValues||this.allowPivoting},e.prototype.getMappedMenuItems=function(){var t,e,i=[],o=function(t){var e=n.columns.some((function(e){return t.allowedFunction(e)&&!t.activeFunction(e)})),o=n.columns.some((function(e){return t.allowedFunction(e)&&t.activeFunction(e)}));e&&i.push({name:t.activateLabel(n.displayName),icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan(t.addIcon,n.gridOptionsService,null),action:function(){return t.activateFunction()}}),o&&i.push({name:t.deactivateLabel(n.displayName),icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan(t.removeIcon,n.gridOptionsService,null),action:function(){return t.deActivateFunction()}})},n=this;try{for(var r=__values$C(this.menuItemMap.values()),s=r.next();!s.done;s=r.next()){o(s.value)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return i},__decorate$2s([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$2s([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("popupService")],e.prototype,"popupService",void 0),__decorate$2s([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("focusService")],e.prototype,"focusService",void 0),__decorate$2s([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$3g=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$2r=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},ToolPanelColumnGroupComp=function(t){function e(e,i,o,n){var r=t.call(this)||this;return r.modelItem=e,r.allowDragging=i,r.eventType=o,r.focusWrapper=n,r.processingColumnStateChange=!1,r.modelItem=e,r.columnGroup=e.getColumnGroup(),r.columnDept=e.getDept(),r.allowDragging=i,r}return __extends$3g(e,t),e.prototype.init=function(){var t=this;this.setTemplate(e.TEMPLATE),this.eDragHandle=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("columnDrag",this.gridOptionsService),this.eDragHandle.classList.add("ag-drag-handle","ag-column-select-column-group-drag-handle");var i=this.cbSelect.getGui(),o=this.cbSelect.getInputElement();i.insertAdjacentElement("afterend",this.eDragHandle),o.setAttribute("tabindex","-1"),this.displayName=this.columnModel.getDisplayNameForProvidedColumnGroup(null,this.columnGroup,this.eventType),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(this.displayName)&&(this.displayName=">>"),this.eLabel.innerHTML=this.displayName?this.displayName:"",this.setupExpandContract(),this.addCssClass("ag-column-select-indent-"+this.columnDept),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.eLabel,"click",this.onLabelClicked.bind(this)),this.addManagedListener(this.cbSelect,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jkc.EVENT_CHANGED,this.onCheckboxChanged.bind(this)),this.addManagedListener(this.modelItem,ColumnModelItem.EVENT_EXPANDED_CHANGED,this.onExpandChanged.bind(this)),this.addManagedListener(this.focusWrapper,"keydown",this.handleKeyDown.bind(this)),this.addManagedListener(this.focusWrapper,"contextmenu",this.onContextMenu.bind(this)),this.setOpenClosedIcons(),this.setupDragging(),this.onColumnStateChanged(),this.addVisibilityListenersToAllChildren(),this.refreshAriaExpanded(),this.refreshAriaLabel(),this.setupTooltip(),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fQL.getToolPanelClassesFromColDef(this.columnGroup.getColGroupDef(),this.gridOptionsService,null,this.columnGroup).forEach((function(e){return t.addOrRemoveCssClass(e,!0)}))},e.prototype.getColumns=function(){return this.columnGroup.getLeafColumns()},e.prototype.setupTooltip=function(){var t=this,e=this.columnGroup.getColGroupDef();if(e){var i=function(){var i=e.headerTooltip;t.setTooltip(i)};i(),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_NEW_COLUMNS_LOADED,i)}},e.prototype.getTooltipParams=function(){var e=t.prototype.getTooltipParams.call(this);return e.location="columnToolPanelColumnGroup",e},e.prototype.handleKeyDown=function(t){switch(t.key){case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.LEFT:t.preventDefault(),this.modelItem.setExpanded(!1);break;case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.RIGHT:t.preventDefault(),this.modelItem.setExpanded(!0);break;case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.SPACE:t.preventDefault(),this.isSelectable()&&this.onSelectAllChanged(!this.isSelected())}},e.prototype.onContextMenu=function(t){var e=this,i=this.columnGroup;if(!this.gridOptionsService.is("functionsReadOnly")){var o=this.createBean(new ToolPanelContextMenu(i,t,this.focusWrapper));this.addDestroyFunc((function(){o.isAlive()&&e.destroyBean(o)}))}},e.prototype.addVisibilityListenersToAllChildren=function(){var t=this;this.columnGroup.getLeafColumns().forEach((function(e){t.addManagedListener(e,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sgG.EVENT_VISIBLE_CHANGED,t.onColumnStateChanged.bind(t)),t.addManagedListener(e,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sgG.EVENT_VALUE_CHANGED,t.onColumnStateChanged.bind(t)),t.addManagedListener(e,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sgG.EVENT_PIVOT_CHANGED,t.onColumnStateChanged.bind(t)),t.addManagedListener(e,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sgG.EVENT_ROW_GROUP_CHANGED,t.onColumnStateChanged.bind(t))}))},e.prototype.setupDragging=function(){var t=this;if(this.allowDragging){var e=!this.gridOptionsService.is("suppressDragLeaveHidesColumns"),i={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.rvo.ToolPanel,eElement:this.eDragHandle,dragItemName:this.displayName,defaultIconName:e?ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jUB.ICON_HIDE:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jUB.ICON_NOT_ALLOWED,getDragItem:function(){return t.createDragItem()},onDragStarted:function(){var e={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PANEL_ITEM_DRAG_START,column:t.columnGroup};t.eventService.dispatchEvent(e)},onDragStopped:function(){var e={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PANEL_ITEM_DRAG_END};t.eventService.dispatchEvent(e)},onGridEnter:function(){e&&t.onChangeCommon(!0)},onGridExit:function(){e&&t.onChangeCommon(!1)}};this.dragAndDropService.addDragSource(i,!0),this.addDestroyFunc((function(){return t.dragAndDropService.removeDragSource(i)}))}else ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eDragHandle,!1)},e.prototype.createDragItem=function(){var t={};return this.columnGroup.getLeafColumns().forEach((function(e){t[e.getId()]=e.isVisible()})),{columns:this.columnGroup.getLeafColumns(),visibleState:t}},e.prototype.setupExpandContract=function(){this.eGroupClosedIcon.appendChild(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIcon("columnSelectClosed",this.gridOptionsService,null)),this.eGroupOpenedIcon.appendChild(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIcon("columnSelectOpen",this.gridOptionsService,null)),this.addManagedListener(this.eGroupClosedIcon,"click",this.onExpandOrContractClicked.bind(this)),this.addManagedListener(this.eGroupOpenedIcon,"click",this.onExpandOrContractClicked.bind(this));var t=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.rwP(this.eColumnGroupIcons,!0);this.addManagedListener(t,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.rwP.EVENT_TAP,this.onExpandOrContractClicked.bind(this)),this.addDestroyFunc(t.destroy.bind(t))},e.prototype.onLabelClicked=function(){var t=!this.cbSelect.getValue();this.onChangeCommon(t)},e.prototype.onCheckboxChanged=function(t){this.onChangeCommon(t.selected)},e.prototype.getVisibleLeafColumns=function(){var t=[],e=function(i){i.forEach((function(i){i.isPassesFilter()&&(i.isGroup()?e(i.getChildren()):t.push(i.getColumn()))}))};return e(this.modelItem.getChildren()),t},e.prototype.onChangeCommon=function(t){this.refreshAriaLabel(),this.processingColumnStateChange||this.modelItemUtils.selectAllChildren(this.modelItem.getChildren(),t,this.eventType)},e.prototype.refreshAriaLabel=function(){var t=this.localeService.getLocaleTextFunc(),e=t("ariaColumnGroup","Column Group"),i=this.cbSelect.getValue(),o=void 0===i?t("ariaIndeterminate","indeterminate"):i?t("ariaVisible","visible"):t("ariaHidden","hidden"),n=t("ariaToggleVisibility","Press SPACE to toggle visibility");ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaLabel(this.focusWrapper,this.displayName+" "+e),this.cbSelect.setInputAriaLabel(n+" ("+o+")"),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaDescribedBy(this.focusWrapper,this.cbSelect.getInputElement().id)},e.prototype.onColumnStateChanged=function(){var t=this.workOutSelectedValue(),e=this.workOutReadOnlyValue();this.processingColumnStateChange=!0,this.cbSelect.setValue(t),this.cbSelect.setReadOnly(e),this.addOrRemoveCssClass("ag-column-select-column-group-readonly",e),this.processingColumnStateChange=!1},e.prototype.workOutSelectedValue=function(){var t=this,e=this.columnModel.isPivotMode(),i=this.getVisibleLeafColumns(),o=0,n=0;if(i.forEach((function(i){!e&&i.getColDef().lockVisible||(t.isColumnChecked(i,e)?o++:n++)})),!(o>0&&n>0))return o>0},e.prototype.workOutReadOnlyValue=function(){var t=this.columnModel.isPivotMode(),e=0;return this.columnGroup.getLeafColumns().forEach((function(i){t?i.isAnyFunctionAllowed()&&e++:i.getColDef().lockVisible||e++})),0===e},e.prototype.isColumnChecked=function(t,e){if(e){var i=t.isPivotActive(),o=t.isRowGroupActive(),n=t.isValueActive();return i||o||n}return t.isVisible()},e.prototype.onExpandOrContractClicked=function(){var t=this.modelItem.isExpanded();this.modelItem.setExpanded(!t)},e.prototype.onExpandChanged=function(){this.setOpenClosedIcons(),this.refreshAriaExpanded()},e.prototype.setOpenClosedIcons=function(){var t=this.modelItem.isExpanded();ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eGroupClosedIcon,!t),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eGroupOpenedIcon,t)},e.prototype.refreshAriaExpanded=function(){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaExpanded(this.focusWrapper,this.modelItem.isExpanded())},e.prototype.getDisplayName=function(){return this.displayName},e.prototype.onSelectAllChanged=function(t){var e=this.cbSelect.getValue();!this.cbSelect.isReadOnly()&&(t&&!e||!t&&e)&&this.cbSelect.toggle()},e.prototype.isSelected=function(){return this.cbSelect.getValue()},e.prototype.isSelectable=function(){return!this.cbSelect.isReadOnly()},e.prototype.setSelected=function(t){this.cbSelect.setValue(t,!0)},e.TEMPLATE='<div class="ag-column-select-column-group" aria-hidden="true">\n            <span class="ag-column-group-icons" ref="eColumnGroupIcons" >\n                <span class="ag-column-group-closed-icon" ref="eGroupClosedIcon"></span>\n                <span class="ag-column-group-opened-icon" ref="eGroupOpenedIcon"></span>\n            </span>\n            <ag-checkbox ref="cbSelect" class="ag-column-select-checkbox"></ag-checkbox>\n            <span class="ag-column-select-column-label" ref="eLabel"></span>\n        </div>',__decorate$2r([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$2r([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("dragAndDropService")],e.prototype,"dragAndDropService",void 0),__decorate$2r([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("modelItemUtils")],e.prototype,"modelItemUtils",void 0),__decorate$2r([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("cbSelect")],e.prototype,"cbSelect",void 0),__decorate$2r([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eLabel")],e.prototype,"eLabel",void 0),__decorate$2r([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eGroupOpenedIcon")],e.prototype,"eGroupOpenedIcon",void 0),__decorate$2r([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eGroupClosedIcon")],e.prototype,"eGroupClosedIcon",void 0),__decorate$2r([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eColumnGroupIcons")],e.prototype,"eColumnGroupIcons",void 0),__decorate$2r([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$3f=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$2q=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},PRIMARY_COLS_LIST_ITEM_HOVERED="ag-list-item-hovered",PrimaryColsListPanelItemDragFeature=function(t){function e(e,i){var o=t.call(this)||this;return o.comp=e,o.virtualList=i,o.currentDragColumn=null,o.lastHoveredColumnItem=null,o}return __extends$3f(e,t),e.prototype.postConstruct=function(){this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PANEL_ITEM_DRAG_START,this.columnPanelItemDragStart.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PANEL_ITEM_DRAG_END,this.columnPanelItemDragEnd.bind(this)),this.createDropTarget(),this.createAutoScrollService()},e.prototype.columnPanelItemDragStart=function(t){var e=t.column;this.currentDragColumn=e,this.getCurrentColumns().find((function(t){var e=t.getColDef();return!!e.suppressMovable||!!e.lockPosition}))&&(this.moveBlocked=!0)},e.prototype.columnPanelItemDragEnd=function(){var t=this;window.setTimeout((function(){t.currentDragColumn=null,t.moveBlocked=!1}),10)},e.prototype.createDropTarget=function(){var t=this,e={isInterestedIn:function(t){return t===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.rvo.ToolPanel},getIconName:function(){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jUB[t.moveBlocked?"ICON_NOT_ALLOWED":"ICON_MOVE"]},getContainer:function(){return t.comp.getGui()},onDragging:function(e){return t.onDragging(e)},onDragStop:function(){return t.onDragStop()},onDragLeave:function(){return t.onDragLeave()}};this.dragAndDropService.addDropTarget(e)},e.prototype.createAutoScrollService=function(){var t=this.virtualList.getGui();this.autoScrollService=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Cvn({scrollContainer:t,scrollAxis:"y",getVerticalPosition:function(){return t.scrollTop},setVerticalPosition:function(e){return t.scrollTop=e}})},e.prototype.onDragging=function(t){if(this.currentDragColumn&&!this.moveBlocked){var e=this.getDragColumnItem(t),i=this.virtualList.getComponentAt(e.rowIndex);if(i){var o=i.getGui().parentElement;this.lastHoveredColumnItem&&this.lastHoveredColumnItem.rowIndex===e.rowIndex&&this.lastHoveredColumnItem.position===e.position||(this.autoScrollService.check(t.event),this.clearHoveredItems(),this.lastHoveredColumnItem=e,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.radioCssClass(o,""+PRIMARY_COLS_LIST_ITEM_HOVERED),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.radioCssClass(o,"ag-item-highlight-"+e.position))}}},e.prototype.getDragColumnItem=function(t){var e=this.virtualList.getGui(),i=parseFloat(window.getComputedStyle(e).paddingTop),o=this.virtualList.getRowHeight(),n=this.virtualList.getScrollTop(),r=Math.max(0,(t.y-i+n)/o),s=this.comp.getDisplayedColsList().length-1,a=0|Math.min(s,r);return{rowIndex:a,position:Math.round(r)>r||r>s?"bottom":"top",component:this.virtualList.getComponentAt(a)}},e.prototype.onDragStop=function(){if(!this.moveBlocked){var t=this.getTargetIndex(),e=this.getCurrentColumns();null!=t&&this.columnModel.moveColumns(e,t,"toolPanelUi"),this.clearHoveredItems(),this.autoScrollService.ensureCleared()}},e.prototype.getMoveDiff=function(t){var e=this.columnModel.getAllGridColumns(),i=this.getCurrentColumns(),o=i[0],n=i.length;return e.indexOf(o)<t?n:0},e.prototype.getCurrentColumns=function(){return this.currentDragColumn instanceof ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KTm?this.currentDragColumn.getLeafColumns():[this.currentDragColumn]},e.prototype.getTargetIndex=function(){if(!this.lastHoveredColumnItem)return null;var t,e=this.lastHoveredColumnItem.component,i="top"===this.lastHoveredColumnItem.position;e instanceof ToolPanelColumnGroupComp?(t=e.getColumns()[0],i=!0):t=e.getColumn();var o=this.columnModel.getAllGridColumns().indexOf(t),n=i?o:o+1;return n-this.getMoveDiff(n)},e.prototype.onDragLeave=function(){this.clearHoveredItems(),this.autoScrollService.ensureCleared()},e.prototype.clearHoveredItems=function(){this.virtualList.getGui().querySelectorAll("."+PRIMARY_COLS_LIST_ITEM_HOVERED).forEach((function(t){[PRIMARY_COLS_LIST_ITEM_HOVERED,"ag-item-highlight-top","ag-item-highlight-bottom"].forEach((function(e){t.classList.remove(e)}))})),this.lastHoveredColumnItem=null},__decorate$2q([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$2q([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("dragAndDropService")],e.prototype,"dragAndDropService",void 0),__decorate$2q([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$3e=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$2p=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},ToolPanelColumnComp=function(t){function e(e,i,o,n,r){var s=t.call(this)||this;return s.column=e,s.columnDept=i,s.allowDragging=o,s.groupsExist=n,s.focusWrapper=r,s.processingColumnStateChange=!1,s}return __extends$3e(e,t),e.prototype.init=function(){var t=this;this.setTemplate(e.TEMPLATE),this.eDragHandle=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("columnDrag",this.gridOptionsService),this.eDragHandle.classList.add("ag-drag-handle","ag-column-select-column-drag-handle");var i=this.cbSelect.getGui(),o=this.cbSelect.getInputElement();i.insertAdjacentElement("afterend",this.eDragHandle),o.setAttribute("tabindex","-1"),this.displayName=this.columnModel.getDisplayNameForColumn(this.column,"columnToolPanel");var n=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.escapeString(this.displayName);this.eLabel.innerHTML=n;var r=this.columnDept;this.groupsExist&&this.addCssClass("ag-column-select-add-group-indent"),this.addCssClass("ag-column-select-indent-"+r),this.setupDragging(),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.column,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sgG.EVENT_VALUE_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.column,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sgG.EVENT_PIVOT_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.column,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sgG.EVENT_ROW_GROUP_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.column,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sgG.EVENT_VISIBLE_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.focusWrapper,"keydown",this.handleKeyDown.bind(this)),this.addManagedListener(this.focusWrapper,"contextmenu",this.onContextMenu.bind(this)),this.addManagedPropertyListener("functionsReadOnly",this.onColumnStateChanged.bind(this)),this.addManagedListener(this.cbSelect,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jkc.EVENT_CHANGED,this.onCheckboxChanged.bind(this)),this.addManagedListener(this.eLabel,"click",this.onLabelClicked.bind(this)),this.onColumnStateChanged(),this.refreshAriaLabel(),this.setupTooltip(),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fQL.getToolPanelClassesFromColDef(this.column.getColDef(),this.gridOptionsService,this.column,null).forEach((function(e){return t.addOrRemoveCssClass(e,!0)}))},e.prototype.getColumn=function(){return this.column},e.prototype.setupTooltip=function(){var t=this,e=function(){var e=t.column.getColDef().headerTooltip;t.setTooltip(e)};e(),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_NEW_COLUMNS_LOADED,e)},e.prototype.getTooltipParams=function(){var e=t.prototype.getTooltipParams.call(this);return e.location="columnToolPanelColumn",e.colDef=this.column.getColDef(),e},e.prototype.onContextMenu=function(t){var e=this,i=this.column;if(!this.gridOptionsService.is("functionsReadOnly")){var o=this.createBean(new ToolPanelContextMenu(i,t,this.focusWrapper));this.addDestroyFunc((function(){o.isAlive()&&e.destroyBean(o)}))}},e.prototype.handleKeyDown=function(t){t.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.SPACE&&(t.preventDefault(),this.isSelectable()&&this.onSelectAllChanged(!this.isSelected()))},e.prototype.onLabelClicked=function(){if(!this.gridOptionsService.is("functionsReadOnly")){var t=!this.cbSelect.getValue();this.onChangeCommon(t)}},e.prototype.onCheckboxChanged=function(t){this.onChangeCommon(t.selected)},e.prototype.onChangeCommon=function(t){this.cbSelect.isReadOnly()||(this.refreshAriaLabel(),this.processingColumnStateChange||this.modelItemUtils.setColumn(this.column,t,"toolPanelUi"))},e.prototype.refreshAriaLabel=function(){var t=this.localeService.getLocaleTextFunc(),e=t("ariaColumn","Column"),i=this.cbSelect.getValue()?t("ariaVisible","visible"):t("ariaHidden","hidden"),o=t("ariaToggleVisibility","Press SPACE to toggle visibility");ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaLabel(this.focusWrapper,this.displayName+" "+e),this.cbSelect.setInputAriaLabel(o+" ("+i+")"),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaDescribedBy(this.focusWrapper,this.cbSelect.getInputElement().id)},e.prototype.setupDragging=function(){var t=this;if(this.allowDragging){var e=!this.gridOptionsService.is("suppressDragLeaveHidesColumns"),i={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.rvo.ToolPanel,eElement:this.eDragHandle,dragItemName:this.displayName,defaultIconName:e?ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jUB.ICON_HIDE:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jUB.ICON_NOT_ALLOWED,getDragItem:function(){return t.createDragItem()},onDragStarted:function(){var e={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PANEL_ITEM_DRAG_START,column:t.column};t.eventService.dispatchEvent(e)},onDragStopped:function(){var e={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PANEL_ITEM_DRAG_END};t.eventService.dispatchEvent(e)},onGridEnter:function(){e&&t.onChangeCommon(!0)},onGridExit:function(){e&&t.onChangeCommon(!1)}};this.dragAndDropService.addDragSource(i,!0),this.addDestroyFunc((function(){return t.dragAndDropService.removeDragSource(i)}))}else ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eDragHandle,!1)},e.prototype.createDragItem=function(){var t={};return t[this.column.getId()]=this.column.isVisible(),{columns:[this.column],visibleState:t}},e.prototype.onColumnStateChanged=function(){this.processingColumnStateChange=!0;var t=this.columnModel.isPivotMode();if(t){var e=this.column.isAnyFunctionActive();this.cbSelect.setValue(e)}else this.cbSelect.setValue(this.column.isVisible());var i=!0,o=!0;if(t){var n=this.gridOptionsService.is("functionsReadOnly"),r=!this.column.isAnyFunctionAllowed();o=i=!n&&!r}else{var s=this.column.getColDef(),a=s.enableRowGroup,l=s.enableValue,c=s.lockPosition,u=s.suppressMovable;i=!s.lockVisible,o=!!a||!!l||!(!!c||!!u)}this.cbSelect.setReadOnly(!i),this.eDragHandle.classList.toggle("ag-column-select-column-readonly",!o),this.addOrRemoveCssClass("ag-column-select-column-readonly",!o&&!i);var h=t&&this.gridOptionsService.is("functionsPassive");this.cbSelect.setPassive(h),this.processingColumnStateChange=!1},e.prototype.getDisplayName=function(){return this.displayName},e.prototype.onSelectAllChanged=function(t){t!==this.cbSelect.getValue()&&(this.cbSelect.isReadOnly()||this.cbSelect.toggle())},e.prototype.isSelected=function(){return this.cbSelect.getValue()},e.prototype.isSelectable=function(){return!this.cbSelect.isReadOnly()},e.prototype.isExpandable=function(){return!1},e.prototype.setExpanded=function(t){console.warn("AG Grid: can not expand a column item that does not represent a column group header")},e.TEMPLATE='<div class="ag-column-select-column" aria-hidden="true">\n            <ag-checkbox ref="cbSelect" class="ag-column-select-checkbox"></ag-checkbox>\n            <span class="ag-column-select-column-label" ref="eLabel"></span>\n        </div>',__decorate$2p([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$2p([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("dragAndDropService")],e.prototype,"dragAndDropService",void 0),__decorate$2p([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("modelItemUtils")],e.prototype,"modelItemUtils",void 0),__decorate$2p([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eLabel")],e.prototype,"eLabel",void 0),__decorate$2p([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("cbSelect")],e.prototype,"cbSelect",void 0),__decorate$2p([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$3d=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$2o=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},UIColumnModel=function(){function t(t){this.items=t}return t.prototype.getRowCount=function(){return this.items.length},t.prototype.getRow=function(t){return this.items[t]},t}(),PRIMARY_COLS_LIST_PANEL_CLASS="ag-column-select-list",PrimaryColsListPanel=function(t){function e(){var i=t.call(this,e.TEMPLATE)||this;return i.destroyColumnItemFuncs=[],i}return __extends$3d(e,t),e.prototype.destroyColumnTree=function(){this.allColsTree=[],this.destroyColumnItemFuncs.forEach((function(t){return t()})),this.destroyColumnItemFuncs=[]},e.prototype.init=function(t,e,i){var o=this;this.params=t,this.allowDragging=e,this.eventType=i,this.params.suppressSyncLayoutWithGrid||this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_MOVED,this.onColumnsChanged.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_NEW_COLUMNS_LOADED,this.onColumnsChanged.bind(this)),[ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PIVOT_CHANGED,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PIVOT_MODE_CHANGED,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_ROW_GROUP_CHANGED,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_VALUE_CHANGED,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_VISIBLE,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_NEW_COLUMNS_LOADED].forEach((function(t){o.addManagedListener(o.eventService,t,o.fireSelectionChangedEvent.bind(o))})),this.expandGroupsByDefault=!this.params.contractColumnSelection;var n=this.localeService.getLocaleTextFunc()("ariaColumnList","Column List");this.virtualList=this.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.CPJ("column-select","tree",n)),this.appendChild(this.virtualList.getGui()),this.virtualList.setComponentCreator((function(t,e){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaLevel(e,t.getDept()+1),o.createComponentFromItem(t,e)})),this.columnModel.isReady()&&this.onColumnsChanged(),t.suppressColumnMove||this.gridOptionsService.is("suppressMovableColumns")||this.createManagedBean(new PrimaryColsListPanelItemDragFeature(this,this.virtualList))},e.prototype.createComponentFromItem=function(t,e){if(t.isGroup()){var i=new ToolPanelColumnGroupComp(t,this.allowDragging,this.eventType,e);return this.getContext().createBean(i),i}var o=new ToolPanelColumnComp(t.getColumn(),t.getDept(),this.allowDragging,this.groupsExist,e);return this.getContext().createBean(o),o},e.prototype.onColumnsChanged=function(){var t=this.getExpandedStates(),e=this.columnModel.isPivotMode();!this.params.suppressSyncLayoutWithGrid&&!e?this.buildTreeFromWhatGridIsDisplaying():this.buildTreeFromProvidedColumnDefs(),this.setExpandedStates(t),this.markFilteredColumns(),this.flattenAndFilterModel()},e.prototype.getDisplayedColsList=function(){return this.displayedColsList},e.prototype.getExpandedStates=function(){if(!this.allColsTree)return{};var t={};return this.forEachItem((function(e){if(e.isGroup()){var i=e.getColumnGroup();i&&(t[i.getId()]=e.isExpanded())}})),t},e.prototype.setExpandedStates=function(t){this.allColsTree&&this.forEachItem((function(e){if(e.isGroup()){var i=e.getColumnGroup();if(i){var o=t[i.getId()];null!=o&&e.setExpanded(o)}}}))},e.prototype.buildTreeFromWhatGridIsDisplaying=function(){this.colDefService.syncLayoutWithGrid(this.setColumnLayout.bind(this))},e.prototype.setColumnLayout=function(t){var e=this.colDefService.createColumnTree(t);this.buildListModel(e),this.groupsExist=t.some((function(t){return t&&void 0!==t.children})),this.markFilteredColumns(),this.flattenAndFilterModel()},e.prototype.buildTreeFromProvidedColumnDefs=function(){this.buildListModel(this.columnModel.getPrimaryColumnTree()),this.groupsExist=this.columnModel.isPrimaryColumnGroupsPresent()},e.prototype.buildListModel=function(t){var e=this,i=this.onColumnExpanded.bind(this),o=function(t,e,i){t.forEach((function(t){t instanceof ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KTm?n(t,e,i):r(t,e,i)}))},n=function(t,n,r){var s=t.getColGroupDef();if(!(s&&s.suppressColumnsToolPanel))if(t.isPadding())o(t.getChildren(),n,r);else{var a=e.columnModel.getDisplayNameForProvidedColumnGroup(null,t,e.eventType),l=new ColumnModelItem(a,t,n,!0,e.expandGroupsByDefault);r.push(l),function(t){t.addEventListener(ColumnModelItem.EVENT_EXPANDED_CHANGED,i);var o=t.removeEventListener.bind(t,ColumnModelItem.EVENT_EXPANDED_CHANGED,i);e.destroyColumnItemFuncs.push(o)}(l),o(t.getChildren(),n+1,l.getChildren())}},r=function(t,i,o){if(!(t.getColDef()&&t.getColDef().suppressColumnsToolPanel)){var n=e.columnModel.getDisplayNameForColumn(t,"columnToolPanel");o.push(new ColumnModelItem(n,t,i))}};this.destroyColumnTree(),o(t,0,this.allColsTree)},e.prototype.onColumnExpanded=function(){this.flattenAndFilterModel()},e.prototype.flattenAndFilterModel=function(){var t=this;this.displayedColsList=[];var e=function(i){i.isPassesFilter()&&(t.displayedColsList.push(i),i.isGroup()&&i.isExpanded()&&i.getChildren().forEach(e))};this.allColsTree.forEach(e),this.virtualList.setModel(new UIColumnModel(this.displayedColsList));var i=this.virtualList.getLastFocusedRow();this.virtualList.refresh(),null!=i&&this.focusRowIfAlive(i),this.notifyListeners()},e.prototype.focusRowIfAlive=function(t){var e=this;window.setTimeout((function(){e.isAlive()&&e.virtualList.focusRow(t)}),0)},e.prototype.forEachItem=function(t){var e=function(i){i.forEach((function(i){t(i),i.isGroup()&&e(i.getChildren())}))};e(this.allColsTree)},e.prototype.doSetExpandedAll=function(t){this.forEachItem((function(e){e.isGroup()&&e.setExpanded(t)}))},e.prototype.setGroupsExpanded=function(t,e){if(e){var i=[];this.forEachItem((function(o){if(o.isGroup()){var n=o.getColumnGroup().getId();e.indexOf(n)>=0&&(o.setExpanded(t),i.push(n))}}));var o=e.filter((function(t){return!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(i,t)}));o.length>0&&console.warn("AG Grid: unable to find group(s) for supplied groupIds:",o)}else this.doSetExpandedAll(t)},e.prototype.getExpandState=function(){var t=0,e=0;return this.forEachItem((function(i){i.isGroup()&&(i.isExpanded()?t++:e++)})),t>0&&e>0?ExpandState.INDETERMINATE:e>0?ExpandState.COLLAPSED:ExpandState.EXPANDED},e.prototype.doSetSelectedAll=function(t){this.modelItemUtils.selectAllChildren(this.allColsTree,t,this.eventType)},e.prototype.getSelectionState=function(){var t=0,e=0,i=this.columnModel.isPivotMode();if(this.forEachItem((function(o){if(!o.isGroup()&&o.isPassesFilter()){var n,r=o.getColumn(),s=r.getColDef();if(i){if(!r.isAllowPivot()&&!r.isAllowRowGroup()&&!r.isAllowValue())return;n=r.isValueActive()||r.isPivotActive()||r.isRowGroupActive()}else{if(s.lockVisible)return;n=r.isVisible()}n?t++:e++}})),!(t>0&&e>0))return!(0===t||e>0)},e.prototype.setFilterText=function(t){this.filterText=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(t)?t.toLowerCase():null,this.markFilteredColumns(),this.flattenAndFilterModel()},e.prototype.markFilteredColumns=function(){var t=this,e=function(e){if(!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(t.filterText))return!0;var i=e.getDisplayName();return null==i||-1!==i.toLowerCase().indexOf(t.filterText)},i=function(t,o){var n=!1;if(t.isGroup()){var r=e(t);t.getChildren().forEach((function(t){var e=i(t,r||o);e&&(n=e)}))}var s=!(!o&&!n)||e(t);return t.setPassesFilter(s),s};this.allColsTree.forEach((function(t){return i(t,!1)}))},e.prototype.notifyListeners=function(){this.fireGroupExpandedEvent(),this.fireSelectionChangedEvent()},e.prototype.fireGroupExpandedEvent=function(){var t=this.getExpandState();this.dispatchEvent({type:"groupExpanded",state:t})},e.prototype.fireSelectionChangedEvent=function(){var t=this.getSelectionState();this.dispatchEvent({type:"selectionChanged",state:t})},e.TEMPLATE='<div class="'+PRIMARY_COLS_LIST_PANEL_CLASS+'" role="presentation"></div>',__decorate$2o([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$2o([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("toolPanelColDefService")],e.prototype,"colDefService",void 0),__decorate$2o([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("modelItemUtils")],e.prototype,"modelItemUtils",void 0),__decorate$2o([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FXL],e.prototype,"destroyColumnTree",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$3c=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$2n=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},PivotModePanel=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$3c(e,t),e.prototype.createTemplate=function(){return'<div class="ag-pivot-mode-panel">\n                <ag-toggle-button ref="cbPivotMode" class="ag-pivot-mode-select"></ag-toggle-button>\n            </div>'},e.prototype.init=function(){this.setTemplate(this.createTemplate()),this.cbPivotMode.setValue(this.columnModel.isPivotMode());var t=this.localeService.getLocaleTextFunc();this.cbPivotMode.setLabel(t("pivotMode","Pivot Mode")),this.addManagedListener(this.cbPivotMode,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jkc.EVENT_CHANGED,this.onBtPivotMode.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_NEW_COLUMNS_LOADED,this.onPivotModeChanged.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onPivotModeChanged.bind(this))},e.prototype.onBtPivotMode=function(){var t=!!this.cbPivotMode.getValue();if(t!==this.columnModel.isPivotMode()){this.columnModel.setPivotMode(t,"toolPanelUi");var e=this.gridOptionsService.api;e&&e.refreshHeader()}},e.prototype.onPivotModeChanged=function(){var t=this.columnModel.isPivotMode();this.cbPivotMode.setValue(t)},__decorate$2n([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$2n([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("cbPivotMode")],e.prototype,"cbPivotMode",void 0),__decorate$2n([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.$j7],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$3b=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$2m=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},AggregationStage=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$3b(e,t),e.prototype.execute=function(t){var e=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missingOrEmpty(this.columnModel.getValueColumns()),i=!this.getGroupRowAggFunc(),o=t.changedPath&&t.changedPath.isActive();if(!(e&&i&&o)){var n=this.createAggDetails(t);this.recursivelyCreateAggData(n)}},e.prototype.getGroupRowAggFunc=function(){var t=this.gridOptionsService.getCallback("getGroupRowAgg");if(t)return t;var e=this.gridOptionsService.get("groupRowAggNodes");return e?function(t){return e(t.nodes)}:void 0},e.prototype.createAggDetails=function(t){var e=this.columnModel.isPivotActive(),i=this.columnModel.getValueColumns(),o=e?this.columnModel.getPivotColumns():[];return{changedPath:t.changedPath,valueColumns:i,pivotColumns:o}},e.prototype.isSuppressAggFilteredOnly=function(){return void 0!==this.gridOptionsService.getGroupAggFiltering()||this.gridOptionsService.is("suppressAggFilteredOnly")},e.prototype.recursivelyCreateAggData=function(t){var e=this;this.filteredOnly=!this.isSuppressAggFilteredOnly();t.changedPath.forEachChangedNodeDepthFirst((function(i){if(!i.hasChildren())i.aggData&&i.setAggData(null);else{if(-1===i.level){var o=!e.columnModel.isPivotMode();if(e.gridOptionsService.is("suppressAggAtRootLevel")&&o)return}e.aggregateRowNode(i,t)}}),!0)},e.prototype.aggregateRowNode=function(t,e){var i,o=0===e.valueColumns.length,n=0===e.pivotColumns.length,r=this.getGroupRowAggFunc();r?i=r({nodes:t.childrenAfterFilter}):i=o?null:n?this.aggregateRowNodeUsingValuesOnly(t,e):this.aggregateRowNodeUsingValuesAndPivot(t);t.setAggData(i),t.sibling&&t.sibling.setAggData(i)},e.prototype.aggregateRowNodeUsingValuesAndPivot=function(t){var e,i=this,o={},n=null!==(e=this.columnModel.getSecondaryColumns())&&void 0!==e?e:[];return n.forEach((function(e){var n=e.getColDef(),r=n.pivotValueColumn,s=n.pivotTotalColumnIds,a=n.colId,l=n.pivotKeys;if(!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(s)){var c,u=null!=l?l:[];c=t.leafGroup?i.getValuesFromMappedSet(t.childrenMapped,u,r):i.getValuesPivotNonLeaf(t,a),o[a]=i.aggregateValues(c,r.getAggFunc(),r,t,e)}})),n.forEach((function(e){var n=e.getColDef(),r=n.pivotValueColumn,s=n.pivotTotalColumnIds,a=n.colId;if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(s)){var l=[];s&&s.length&&(s.forEach((function(t){l.push(o[t])})),o[a]=i.aggregateValues(l,r.getAggFunc(),r,t,e))}})),o},e.prototype.aggregateRowNodeUsingValuesOnly=function(t,e){var i=this,o={},n=e.changedPath.isActive()?e.changedPath.getValueColumnsForNode(t,e.valueColumns):e.valueColumns,r=e.changedPath.isActive()?e.changedPath.getNotValueColumnsForNode(t,e.valueColumns):null,s=this.getValuesNormal(t,n),a=t.aggData;return n.forEach((function(e,n){o[e.getId()]=i.aggregateValues(s[n],e.getAggFunc(),e,t)})),r&&a&&r.forEach((function(t){o[t.getId()]=a[t.getId()]})),o},e.prototype.getValuesPivotNonLeaf=function(t,e){var i=[];return t.childrenAfterFilter.forEach((function(t){var o=t.aggData[e];i.push(o)})),i},e.prototype.getValuesFromMappedSet=function(t,e,i){var o=this,n=t;if(e.forEach((function(t){return n=n?n[t]:null})),!n)return[];var r=[];return n.forEach((function(t){var e=o.valueService.getValue(i,t);r.push(e)})),r},e.prototype.getValuesNormal=function(t,e){var i=[];e.forEach((function(){return i.push([])}));for(var o=e.length,n=this.filteredOnly?t.childrenAfterFilter:t.childrenAfterGroup,r=n.length,s=0;s<r;s++)for(var a=n[s],l=0;l<o;l++){var c=e[l],u=this.valueService.getValue(c,a);i[l].push(u)}return i},e.prototype.aggregateValues=function(t,e,i,o,n){var r="string"==typeof e?this.aggFuncService.getAggFunc(e):e;return"function"!=typeof r?(console.error("AG Grid: unrecognised aggregation function "+e),null):r({values:t,column:i,colDef:i?i.getColDef():void 0,pivotResultColumn:n,rowNode:o,data:o?o.data:void 0,api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsService.context})},__decorate$2m([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$2m([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("valueService")],e.prototype,"valueService",void 0),__decorate$2m([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("aggFuncService")],e.prototype,"aggFuncService",void 0),__decorate$2m([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],e.prototype,"gridApi",void 0),__decorate$2m([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnApi")],e.prototype,"columnApi",void 0),e=__decorate$2m([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("aggregationStage")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),BatchRemover=function(){function t(){this.allSets={},this.allParents=[]}return t.prototype.removeFromChildrenAfterGroup=function(t,e){this.getSet(t).removeFromChildrenAfterGroup[e.id]=!0},t.prototype.isRemoveFromAllLeafChildren=function(t,e){return!!this.getSet(t).removeFromAllLeafChildren[e.id]},t.prototype.preventRemoveFromAllLeafChildren=function(t,e){delete this.getSet(t).removeFromAllLeafChildren[e.id]},t.prototype.removeFromAllLeafChildren=function(t,e){this.getSet(t).removeFromAllLeafChildren[e.id]=!0},t.prototype.getSet=function(t){return this.allSets[t.id]||(this.allSets[t.id]={removeFromAllLeafChildren:{},removeFromChildrenAfterGroup:{}},this.allParents.push(t)),this.allSets[t.id]},t.prototype.getAllParents=function(){return this.allParents},t.prototype.flush=function(){var t=this;this.allParents.forEach((function(e){var i=t.allSets[e.id];e.childrenAfterGroup=e.childrenAfterGroup.filter((function(t){return!i.removeFromChildrenAfterGroup[t.id]})),e.allLeafChildren=e.allLeafChildren.filter((function(t){return!i.removeFromAllLeafChildren[t.id]})),e.updateHasChildren(),e.sibling&&(e.sibling.childrenAfterGroup=e.childrenAfterGroup,e.sibling.allLeafChildren=e.allLeafChildren)})),this.allSets={},this.allParents.length=0},t}(),__extends$3a=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$2l=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},__read$1a=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,n,r=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return s},__spread$I=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$1a(arguments[e]));return t},GroupStage=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.groupIdSequence=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.at1,e}return __extends$3a(e,t),e.prototype.postConstruct=function(){this.usingTreeData=this.gridOptionsService.isTreeData(),this.usingTreeData&&(this.getDataPath=this.gridOptionsService.get("getDataPath"))},e.prototype.execute=function(t){var e=this.createGroupingDetails(t);if(e.transactions)this.handleTransaction(e);else{var i=!0===t.afterColumnsChanged;this.shotgunResetEverything(e,i)}this.positionLeafsAndGroups(t.changedPath),this.orderGroups(e.rootNode),this.selectableService.updateSelectableAfterGrouping(e.rootNode)},e.prototype.positionLeafsAndGroups=function(t){this.usingTreeData||t.forEachChangedNodeDepthFirst((function(t){if(t.childrenAfterGroup){var e,i=[],o=[];t.childrenAfterGroup.forEach((function(t){var n;(null===(n=t.childrenAfterGroup)||void 0===n?void 0:n.length)?""!==t.key||e?o.push(t):e=t:i.push(t)})),e&&o.push(e),t.childrenAfterGroup=__spread$I(i,o)}}),!1)},e.prototype.createGroupingDetails=function(t){var e=t.rowNode,i=t.changedPath,o=t.rowNodeTransactions,n=t.rowNodeOrder,r=this.usingTreeData?null:this.columnModel.getRowGroupColumns();return{includeParents:!this.gridOptionsService.is("suppressParentsInRowNodes"),expandByDefault:this.gridOptionsService.getNum("groupDefaultExpanded"),groupedCols:r,rootNode:e,pivotMode:this.columnModel.isPivotMode(),groupedColCount:this.usingTreeData||!r?0:r.length,rowNodeOrder:n,transactions:o,changedPath:i}},e.prototype.handleTransaction=function(t){var e=this;t.transactions.forEach((function(i){var o=e.usingTreeData?void 0:new BatchRemover;if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.existsAndNotEmpty(i.remove)&&e.removeNodes(i.remove,t,o),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.existsAndNotEmpty(i.update)&&e.moveNodesInWrongPath(i.update,t,o),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.existsAndNotEmpty(i.add)&&e.insertNodes(i.add,t,!1),o){var n=o.getAllParents().slice();o.flush(),e.removeEmptyGroups(n,t)}})),t.rowNodeOrder&&this.sortChildren(t)},e.prototype.sortChildren=function(t){t.changedPath.forEachChangedNodeDepthFirst((function(e){e.childrenAfterGroup&&(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.sortRowNodesByOrder(e.childrenAfterGroup,t.rowNodeOrder)&&t.changedPath.addParentNode(e))}),!1,!0)},e.prototype.orderGroups=function(t){if(!this.usingTreeData){var e=this.getInitialGroupOrderComparator();ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(e)&&function t(i){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(i.childrenAfterGroup)&&!i.leafGroup&&(i.childrenAfterGroup.sort((function(t,i){return e({nodeA:t,nodeB:i})})),i.childrenAfterGroup.forEach((function(e){return t(e)})))}(t)}},e.prototype.getInitialGroupOrderComparator=function(){var t=this.gridOptionsService.getCallback("initialGroupOrderComparator");if(t)return t;var e=this.gridOptionsService.get("defaultGroupOrderComparator");return e?function(t){return e(t.nodeA,t.nodeB)}:void 0},e.prototype.getExistingPathForNode=function(t,e){for(var i=[],o=this.usingTreeData?t:t.parent;o&&o!==e.rootNode;)i.push({key:o.key,rowGroupColumn:o.rowGroupColumn,field:o.field}),o=o.parent;return i.reverse(),i},e.prototype.moveNodesInWrongPath=function(t,e,i){var o=this;t.forEach((function(t){e.changedPath.isActive()&&e.changedPath.addParentNode(t.parent);var n=function(t){return t.key},r=o.getExistingPathForNode(t,e).map(n),s=o.getGroupInfo(t,e).map(n);ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.areEqual(r,s)||o.moveNode(t,e,i)}))},e.prototype.moveNode=function(t,e,i){if(this.removeNodesInStages([t],e,i),this.insertOneNode(t,e,!0,i),t.setData(t.data),e.changedPath.isActive()){var o=t.parent;e.changedPath.addParentNode(o)}},e.prototype.removeNodes=function(t,e,i){this.removeNodesInStages(t,e,i),e.changedPath.isActive()&&t.forEach((function(t){return e.changedPath.addParentNode(t.parent)}))},e.prototype.removeNodesInStages=function(t,e,i){if(this.removeNodesFromParents(t,e,i),this.usingTreeData){this.postRemoveCreateFillerNodes(t,e);var o=t.map((function(t){return t.parent}));this.removeEmptyGroups(o,e)}},e.prototype.forEachParentGroup=function(t,e,i){for(var o=e;o&&o!==t.rootNode;)i(o),o=o.parent},e.prototype.removeNodesFromParents=function(t,e,i){var o=this,n=null==i,r=i||new BatchRemover;t.forEach((function(t){o.removeFromParent(t,r),o.forEachParentGroup(e,t.parent,(function(e){r.removeFromAllLeafChildren(e,t)}))})),n&&r.flush()},e.prototype.postRemoveCreateFillerNodes=function(t,e){var i=this;t.forEach((function(t){if(t.hasChildren()){var o=i.getExistingPathForNode(t,e),n=i.findParentForNode(t,o,e);n.expanded=t.expanded,n.allLeafChildren=t.allLeafChildren,n.childrenAfterGroup=t.childrenAfterGroup,n.childrenMapped=t.childrenMapped,n.updateHasChildren(),n.childrenAfterGroup.forEach((function(t){return t.parent=n}))}}))},e.prototype.removeEmptyGroups=function(t,e){for(var i=this,o=!0,n=function(){o=!1;var n=new BatchRemover;t.forEach((function(t){i.forEachParentGroup(e,t,(function(t){(function(t){var e=i.getChildrenMappedKey(t.key,t.rowGroupColumn),o=t.parent;return!!(o&&o.childrenMapped&&o.childrenMapped[e]&&t.isEmptyRowGroupNode())})(t)&&(o=!0,i.removeFromParent(t,n),t.setSelectedParams({newValue:!1,source:"rowGroupChanged"}))}))})),n.flush()};o;)n()},e.prototype.removeFromParent=function(t,e){t.parent&&(e?e.removeFromChildrenAfterGroup(t.parent,t):(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromArray(t.parent.childrenAfterGroup,t),t.parent.updateHasChildren()));var i=this.getChildrenMappedKey(t.key,t.rowGroupColumn);t.parent&&t.parent.childrenMapped&&(t.parent.childrenMapped[i]=void 0),t.setRowTop(null),t.setRowIndex(null)},e.prototype.addToParent=function(t,e){var i=this.getChildrenMappedKey(t.key,t.rowGroupColumn);e&&(null!=e.childrenMapped&&(e.childrenMapped[i]=t),e.childrenAfterGroup.push(t),e.updateHasChildren())},e.prototype.areGroupColsEqual=function(t,e){return null!=t&&null!=e&&t.pivotMode===e.pivotMode&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.areEqual(t.groupedCols,e.groupedCols)},e.prototype.checkAllGroupDataAfterColsChanged=function(t){var e=this,i=function(t){t&&t.forEach((function(t){if(!(!e.usingTreeData&&!t.group)){var o={field:t.field,key:t.key,rowGroupColumn:t.rowGroupColumn};e.setGroupData(t,o),i(t.childrenAfterGroup)}}))};i(t.rootNode.childrenAfterGroup)},e.prototype.shotgunResetEverything=function(t,e){if(!this.noChangeInGroupingColumns(t,e)){this.selectionService.filterFromSelection((function(t){return t&&!t.group}));var i=t.rootNode,o=t.groupedCols;i.leafGroup=!this.usingTreeData&&0===o.length,i.childrenAfterGroup=[],i.childrenMapped={},i.updateHasChildren();var n=i.sibling;n&&(n.childrenAfterGroup=i.childrenAfterGroup,n.childrenMapped=i.childrenMapped),this.insertNodes(i.allLeafChildren,t,!1)}},e.prototype.noChangeInGroupingColumns=function(t,e){var i=!1,o=this.columnModel.getGroupDisplayColumns(),n=o?o.map((function(t){return t.getId()})).join("-"):"";return e&&(i=this.usingTreeData||this.areGroupColsEqual(t,this.oldGroupingDetails),this.oldGroupDisplayColIds!==n&&this.checkAllGroupDataAfterColsChanged(t)),this.oldGroupingDetails=t,this.oldGroupDisplayColIds=n,i},e.prototype.insertNodes=function(t,e,i){var o=this;t.forEach((function(t){o.insertOneNode(t,e,i),e.changedPath.isActive()&&e.changedPath.addParentNode(t.parent)}))},e.prototype.insertOneNode=function(t,e,i,o){var n=this.getGroupInfo(t,e),r=this.findParentForNode(t,n,e,o);r.group||console.warn("AG Grid: duplicate group keys for row data, keys should be unique",[r.data,t.data]),this.usingTreeData?this.swapGroupWithUserNode(r,t,i):(t.parent=r,t.level=n.length,r.childrenAfterGroup.push(t),r.updateHasChildren())},e.prototype.findParentForNode=function(t,e,i,o){var n=this,r=i.rootNode;return e.forEach((function(e,s){r=n.getOrCreateNextNode(r,e,s,i),(null==o?void 0:o.isRemoveFromAllLeafChildren(r,t))?null==o||o.preventRemoveFromAllLeafChildren(r,t):r.allLeafChildren.push(t)})),r},e.prototype.swapGroupWithUserNode=function(t,e,i){e.parent=t.parent,e.key=t.key,e.field=t.field,e.groupData=t.groupData,e.level=t.level,i||(e.expanded=t.expanded),e.leafGroup=t.leafGroup,e.rowGroupIndex=t.rowGroupIndex,e.allLeafChildren=t.allLeafChildren,e.childrenAfterGroup=t.childrenAfterGroup,e.childrenMapped=t.childrenMapped,e.sibling=t.sibling,e.updateHasChildren(),this.removeFromParent(t),e.childrenAfterGroup.forEach((function(t){return t.parent=e})),this.addToParent(e,t.parent)},e.prototype.getOrCreateNextNode=function(t,e,i,o){var n=this.getChildrenMappedKey(e.key,e.rowGroupColumn),r=t.childrenMapped?t.childrenMapped[n]:void 0;return r||(r=this.createGroup(e,t,i,o),this.addToParent(r,t)),r},e.prototype.createGroup=function(t,e,i,o){var n=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Fxk(this.beans);return n.group=!0,n.field=t.field,n.rowGroupColumn=t.rowGroupColumn,this.setGroupData(n,t),n.id=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Fxk.ID_PREFIX_ROW_GROUP+this.groupIdSequence.next(),n.key=t.key,n.level=i,n.leafGroup=!this.usingTreeData&&i===o.groupedColCount-1,n.allLeafChildren=[],n.setAllChildrenCount(0),n.rowGroupIndex=this.usingTreeData?null:i,n.childrenAfterGroup=[],n.childrenMapped={},n.updateHasChildren(),n.parent=o.includeParents?e:null,this.setExpandedInitialValue(o,n),this.gridOptionsService.is("groupIncludeFooter")&&n.createFooter(),n},e.prototype.setGroupData=function(t,e){var i=this;t.groupData={},this.columnModel.getGroupDisplayColumns().forEach((function(o){(i.usingTreeData||!!t.rowGroupColumn&&o.isRowGroupDisplayed(t.rowGroupColumn.getId()))&&(t.groupData[o.getColId()]=e.key)}))},e.prototype.getChildrenMappedKey=function(t,e){return e?e.getId()+"-"+t:t},e.prototype.setExpandedInitialValue=function(t,e){if(t.pivotMode&&e.leafGroup)e.expanded=!1;else{var i=this.gridOptionsService.getCallback("isGroupOpenByDefault");if(i){var o={rowNode:e,field:e.field,key:e.key,level:e.level,rowGroupColumn:e.rowGroupColumn};e.expanded=1==i(o)}else{var n=t.expandByDefault;-1!==t.expandByDefault?e.expanded=e.level<n:e.expanded=!0}}},e.prototype.getGroupInfo=function(t,e){return this.usingTreeData?this.getGroupInfoFromCallback(t):this.getGroupInfoFromGroupColumns(t,e)},e.prototype.getGroupInfoFromCallback=function(t){var e=this.getDataPath?this.getDataPath(t.data):null;null!=e&&0!==e.length||ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce((function(){return console.warn("AG Grid: getDataPath() should not return an empty path for data",t.data)}),"groupStage.getGroupInfoFromCallback");return e?e.map((function(t){return{key:t,field:null,rowGroupColumn:null}})):[]},e.prototype.getGroupInfoFromGroupColumns=function(t,e){var i=this,o=[];return e.groupedCols.forEach((function(n){var r=i.valueService.getKeyForNode(n,t),s=null!=r&&""!==r;if((e.pivotMode||!i.gridOptionsService.is("groupAllowUnbalanced"))&&!s&&(r="",s=!0),s){var a={key:r,field:n.getColDef().field,rowGroupColumn:n};o.push(a)}})),o},__decorate$2l([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$2l([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("selectableService")],e.prototype,"selectableService",void 0),__decorate$2l([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("valueService")],e.prototype,"valueService",void 0),__decorate$2l([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("beans")],e.prototype,"beans",void 0),__decorate$2l([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("selectionService")],e.prototype,"selectionService",void 0),__decorate$2l([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),e=__decorate$2l([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("groupStage")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$39=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__assign$O=function(){return __assign$O=Object.assign||function(t){for(var e,i=1,o=arguments.length;i<o;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},__assign$O.apply(this,arguments)},__decorate$2k=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},__read$19=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,n,r=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return s},__spread$H=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$19(arguments[e]));return t},PivotColDefService=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var i;return __extends$39(e,t),i=e,e.prototype.createPivotColumnDefs=function(t){var e=this.columnModel.getPivotColumns(),i=this.columnModel.getValueColumns(),o=e.length,n=this.recursiveBuildGroup(0,t,[],o,e);var r=function t(e,i){return void 0===i&&(i=[]),e.forEach((function(e){void 0!==e.children?t(e.children,i):i.push(e)})),i}(n);return this.addRowGroupTotals(n,r,i),this.addExpandablePivotGroups(n,r),this.addPivotTotalsToGroups(n,r),{pivotColumnGroupDefs:n,pivotColumnDefs:r.map((function(t){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.cloneObject(t)}))}},e.prototype.recursiveBuildGroup=function(t,e,i,o,n){var r=this,s=this.columnModel.getValueColumns();if(t>=o)return this.buildMeasureCols(i);var a=n[t].getColDef(),l=this.headerNameComparator.bind(this,a.pivotComparator);if(1===s.length&&this.gridOptionsService.is("removePivotHeaderRowWhenSingleValueColumn")&&t===o-1){var c=[];return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.iterateObject(e,(function(t){var e=__spread$H(i,[t]);c.push(__assign$O(__assign$O({},r.createColDef(s[0],t,e)),{columnGroupShow:"open"}))})),c.sort(l),c}var u=[];return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.iterateObject(e,(function(e,s){var a=__spread$H(i,[e]);u.push({children:r.recursiveBuildGroup(t+1,s,a,o,n),headerName:e,pivotKeys:a,columnGroupShow:"open",groupId:r.generateColumnGroupId(a)})})),u.sort(l),u},e.prototype.buildMeasureCols=function(t){var e=this,i=this.columnModel.getValueColumns();return 0===i.length?[this.createColDef(null,"-",t)]:i.map((function(i){var o=e.columnModel.getDisplayNameForColumn(i,"header");return __assign$O(__assign$O({},e.createColDef(i,o,t)),{columnGroupShow:"open"})}))},e.prototype.addExpandablePivotGroups=function(t,e){var i=this;if(!this.gridOptionsService.is("suppressExpandablePivotGroups")&&!this.gridOptionsService.get("pivotColumnGroupTotals")){var o=function(t,e,n){var r=t;if(r.children){var s=new Map;r.children.forEach((function(t){o(t,e,s)}));var a=!r.children.some((function(t){return t.children}));i.columnModel.getValueColumns().forEach((function(o){var n=i.columnModel.getDisplayNameForColumn(o,"header"),r=i.createColDef(o,n,t.pivotKeys);(r.pivotTotalColumnIds=s.get(o.getColId()),r.columnGroupShow="closed",r.aggFunc=o.getAggFunc(),a)||(t.children.push(r),e.push(r))})),i.merge(n,s)}else{var l=t;if(!l.pivotValueColumn)return;var c=l.pivotValueColumn.getColId(),u=n.has(c)?n.get(c):[];u.push(l.colId),n.set(c,u)}};t.forEach((function(t){o(t,e,new Map)}))}},e.prototype.addPivotTotalsToGroups=function(t,e){var i=this;if(this.gridOptionsService.get("pivotColumnGroupTotals")){var o="after"===this.gridOptionsService.get("pivotColumnGroupTotals"),n=this.columnModel.getValueColumns(),r=n.map((function(t){return t.getAggFunc()}));if(r&&!(r.length<1)&&this.sameAggFuncs(r)){var s=n[0];t.forEach((function(t){i.recursivelyAddPivotTotal(t,e,s,o)}))}}},e.prototype.recursivelyAddPivotTotal=function(t,e,i,o){var n=this,r=t;if(!r.children){var s=t;return s.colId?[s.colId]:null}var a=[];if(r.children.forEach((function(t){var r=n.recursivelyAddPivotTotal(t,e,i,o);r&&(a=a.concat(r))})),r.children.length>1){var l=this.localeService.getLocaleTextFunc()("pivotColumnGroupTotals","Total"),c=this.createColDef(i,l,t.pivotKeys,!0);c.pivotTotalColumnIds=a,c.aggFunc=i.getAggFunc();var u=t.children;o?u.push(c):u.unshift(c),e.push(c)}return a},e.prototype.addRowGroupTotals=function(t,e,i){var o=this;if(this.gridOptionsService.get("pivotRowTotals"))for(var n="after"===this.gridOptionsService.get("pivotRowTotals"),r=n?i.slice():i.slice().reverse(),s=function(i){var s=r[i],l=[];t.forEach((function(t){l=l.concat(o.extractColIdsForValueColumn(t,s))}));var c=r.length>1||!a.gridOptionsService.is("removePivotHeaderRowWhenSingleValueColumn");a.createRowGroupTotal(t,e,s,l,n,c)},a=this,l=0;l<r.length;l++)s(l)},e.prototype.extractColIdsForValueColumn=function(t,e){var i=this,o=t;if(!o.children){var n=o;return n.pivotValueColumn===e&&n.colId?[n.colId]:[]}var r=[];return o.children.forEach((function(t){i.extractColIdsForValueColumn(t,e);var o=i.extractColIdsForValueColumn(t,e);r=r.concat(o)})),r},e.prototype.createRowGroupTotal=function(t,e,o,n,r,s){var a;if(0===this.columnModel.getValueColumns().length)a=this.createColDef(null,"-",[]);else{var l=this.columnModel.getDisplayNameForColumn(o,"header");(a=this.createColDef(o,l,[])).pivotTotalColumnIds=n}a.colId=i.PIVOT_ROW_TOTAL_PREFIX+a.colId,e.push(a);var c=s?{children:[a],pivotKeys:[],groupId:i.PIVOT_ROW_TOTAL_PREFIX+"_pivotGroup_"+o.getColId()}:a;r?t.push(c):t.unshift(c)},e.prototype.createColDef=function(t,e,i,o){void 0===o&&(o=!1);var n={};if(t){var r=t.getColDef();Object.assign(n,r),n.hide=!1}return n.headerName=e,n.colId=this.generateColumnId(i||[],t&&!o?t.getColId():""),n.field=n.colId,n.valueGetter=function(t){var e;return null===(e=t.data)||void 0===e?void 0:e[t.colDef.field]},n.pivotKeys=i,n.pivotValueColumn=t,!0===n.filter&&(n.filter="agNumberColumnFilter"),n},e.prototype.sameAggFuncs=function(t){if(1==t.length)return!0;for(var e=1;e<t.length;e++)if(t[e]!==t[0])return!1;return!0},e.prototype.headerNameComparator=function(t,e,i){return t?t(e.headerName,i.headerName):e.headerName&&!i.headerName?1:!e.headerName&&i.headerName?-1:e.headerName&&i.headerName?e.headerName<i.headerName?-1:e.headerName>i.headerName?1:0:0},e.prototype.merge=function(t,e){e.forEach((function(e,i,o){var n=t.has(i)?t.get(i):[],r=__spread$H(n,e);t.set(i,r)}))},e.prototype.generateColumnGroupId=function(t){return"pivotGroup_"+this.columnModel.getPivotColumns().map((function(t){return t.getColId()})).join("-")+"_"+t.join("-")},e.prototype.generateColumnId=function(t,e){return"pivot_"+this.columnModel.getPivotColumns().map((function(t){return t.getColId()})).join("-")+"_"+t.join("-")+"_"+e},e.PIVOT_ROW_TOTAL_PREFIX="PivotRowTotal_",__decorate$2k([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),e=i=__decorate$2k([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("pivotColDefService")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$38=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$2j=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},PivotStage=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.uniqueValues={},e}return __extends$38(e,t),e.prototype.execute=function(t){var e=t.changedPath;this.columnModel.isPivotActive()?this.executePivotOn(e):this.executePivotOff(e)},e.prototype.executePivotOff=function(t){this.aggregationColumnsHashLastTime=null,this.uniqueValues={},this.columnModel.isSecondaryColumnsPresent()&&(this.columnModel.setSecondaryColumns(null,"rowModelUpdated"),t&&t.setInactive())},e.prototype.executePivotOn=function(t){var e=this.bucketUpRowNodes(t),i=this.setUniqueValues(e),o=this.columnModel.getValueColumns(),n=o.map((function(t){return t.getId()+"-"+t.getColDef().headerName})).join("#"),r=o.map((function(t){return t.getAggFunc().toString()})).join("#"),s=this.aggregationColumnsHashLastTime!==n,a=this.aggregationFuncsHashLastTime!==r;this.aggregationColumnsHashLastTime=n,this.aggregationFuncsHashLastTime=r;var l=this.columnModel.getRowGroupColumns().map((function(t){return t.getId()})).join("#"),c=l!==this.groupColumnsHashLastTime;if(this.groupColumnsHashLastTime=l,i||s||c||a){var u=this.pivotColDefService.createPivotColumnDefs(this.uniqueValues),h=u.pivotColumnGroupDefs,d=u.pivotColumnDefs;this.pivotColumnDefs=d,this.columnModel.setSecondaryColumns(h,"rowModelUpdated"),t&&t.setInactive()}},e.prototype.setUniqueValues=function(t){return!!(JSON.stringify(t)!==JSON.stringify(this.uniqueValues))&&(this.uniqueValues=t,!0)},e.prototype.bucketUpRowNodes=function(t){var e=this,i={};t.forEachChangedNodeDepthFirst((function(t){t.leafGroup&&(t.childrenMapped=null)}));var o=function(t){var n;t.leafGroup?e.bucketRowNode(t,i):null===(n=t.childrenAfterFilter)||void 0===n||n.forEach(o)};return t.executeFromRootNode(o),i},e.prototype.bucketRowNode=function(t,e){var i=this.columnModel.getPivotColumns();0===i.length?t.childrenMapped=null:t.childrenMapped=this.bucketChildren(t.childrenAfterFilter,i,0,e),t.sibling&&(t.sibling.childrenMapped=t.childrenMapped)},e.prototype.bucketChildren=function(t,e,i,o){var n=this,r={},s=e[i];if(t.forEach((function(t){var e=n.valueService.getKeyForNode(s,t);ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(e)&&(e=""),o[e]||(o[e]={}),r[e]||(r[e]=[]),r[e].push(t)})),i===e.length-1)return r;var a={};return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.iterateObject(r,(function(t,r){a[t]=n.bucketChildren(r,e,i+1,o[t])})),a},e.prototype.getPivotColumnDefs=function(){return this.pivotColumnDefs},__decorate$2j([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("valueService")],e.prototype,"valueService",void 0),__decorate$2j([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$2j([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("pivotColDefService")],e.prototype,"pivotColDefService",void 0),e=__decorate$2j([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("pivotStage")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$37=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$2i=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},AGBigInt="undefined"==typeof BigInt?null:BigInt,AggFuncService=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.aggFuncsMap={},e.initialised=!1,e}var i;return __extends$37(e,t),i=e,e.prototype.init=function(){this.initialised||(this.initialiseWithDefaultAggregations(),this.addAggFuncs(this.gridOptionsService.get("aggFuncs")))},e.prototype.initialiseWithDefaultAggregations=function(){this.aggFuncsMap[i.AGG_SUM]=aggSum,this.aggFuncsMap[i.AGG_FIRST]=aggFirst,this.aggFuncsMap[i.AGG_LAST]=aggLast,this.aggFuncsMap[i.AGG_MIN]=aggMin,this.aggFuncsMap[i.AGG_MAX]=aggMax,this.aggFuncsMap[i.AGG_COUNT]=aggCount,this.aggFuncsMap[i.AGG_AVG]=aggAvg,this.initialised=!0},e.prototype.isAggFuncPossible=function(t,e){var i=this.getFuncNames(t),o=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(i,e),n=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(this.aggFuncsMap[e]);return o&&n},e.prototype.getDefaultAggFunc=function(t){var e=t.getColDef().defaultAggFunc;if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(e)&&this.isAggFuncPossible(t,e))return e;if(this.isAggFuncPossible(t,i.AGG_SUM))return i.AGG_SUM;var o=this.getFuncNames(t);return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.existsAndNotEmpty(o)?o[0]:null},e.prototype.addAggFuncs=function(t){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.iterateObject(t,this.addAggFunc.bind(this))},e.prototype.addAggFunc=function(t,e){this.init(),this.aggFuncsMap[t]=e},e.prototype.getAggFunc=function(t){return this.init(),this.aggFuncsMap[t]},e.prototype.getFuncNames=function(t){var e=t.getColDef().allowedAggFuncs;return null==e?Object.keys(this.aggFuncsMap).sort():e},e.prototype.clear=function(){this.aggFuncsMap={}},e.AGG_SUM="sum",e.AGG_FIRST="first",e.AGG_LAST="last",e.AGG_MIN="min",e.AGG_MAX="max",e.AGG_COUNT="count",e.AGG_AVG="avg",__decorate$2i([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e=i=__decorate$2i([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("aggFuncService")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9);function aggSum(t){for(var e=t.values,i=null,o=0;o<e.length;o++){var n=e[o];"number"==typeof n?null===i?i=n:i+=AGBigInt?"number"==typeof i?n:AGBigInt(n):n:"bigint"==typeof n&&(i=null===i?n:("bigint"==typeof i?i:AGBigInt(i))+n)}return i}function aggFirst(t){return t.values.length>0?t.values[0]:null}function aggLast(t){return t.values.length>0?ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(t.values):null}function aggMin(t){for(var e=t.values,i=null,o=0;o<e.length;o++){var n=e[o];"number"!=typeof n&&"bigint"!=typeof n||!(null===i||i>n)||(i=n)}return i}function aggMax(t){for(var e=t.values,i=null,o=0;o<e.length;o++){var n=e[o];"number"!=typeof n&&"bigint"!=typeof n||!(null===i||i<n)||(i=n)}return i}function aggCount(t){for(var e=t.values,i=0,o=0;o<e.length;o++){var n=e[o];i+=null!=n&&"number"==typeof n.value?n.value:1}return i}function aggAvg(t){for(var e,i,o,n=t.values,r=0,s=0,a=0;a<n.length;a++){var l=n[a],c=null;"number"==typeof l||"bigint"==typeof l?(c=l,s++):null==l||"number"!=typeof l.value&&"bigint"!=typeof l.value||"number"!=typeof l.count||(c=AGBigInt?l.value*("number"==typeof l.value?l.count:AGBigInt(l.count)):l.value*l.count,s+=l.count),"number"==typeof c?r+=AGBigInt?"number"==typeof r?c:AGBigInt(c):c:"bigint"==typeof c&&(r=("bigint"==typeof r?r:AGBigInt(r))+c)}var u=null;s>0&&(u=AGBigInt?r/("number"==typeof r?s:AGBigInt(s)):r/s);var h=null===(i=null===(e=t.rowNode)||void 0===e?void 0:e.aggData)||void 0===i?void 0:i[null===(o=t.column)||void 0===o?void 0:o.getColId()];return h&&h.count===s&&h.value===u?h:{count:s,value:u,toString:function(){return"number"==typeof this.value||"bigint"==typeof this.value?this.value.toString():""},toNumber:function(){return this.value}}}var __extends$36=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$2h=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},DropZoneColumnComp=function(t){function e(e,i,o,n,r){var s=t.call(this)||this;return s.column=e,s.dragSourceDropTarget=i,s.ghost=o,s.dropZonePurpose=n,s.horizontal=r,s.popupShowing=!1,s}return __extends$36(e,t),e.prototype.init=function(){var t=this;this.setTemplate(e.TEMPLATE);var i=this.getGui(),o=this.gridOptionsService.is("functionsReadOnly");this.addElementClasses(i),this.addElementClasses(this.eDragHandle,"drag-handle"),this.addElementClasses(this.eText,"text"),this.addElementClasses(this.eButton,"button"),this.eDragHandle.appendChild(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("columnDrag",this.gridOptionsService)),this.eButton.appendChild(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("cancel",this.gridOptionsService)),this.setupSort(),this.displayName=this.columnModel.getDisplayNameForColumn(this.column,"columnDrop"),this.setupComponents(),this.ghost||o||this.addDragSource(),this.setupAria(),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sgG.EVENT_SORT_CHANGED,(function(){t.setupAria()})),this.setupTooltip()},e.prototype.setupAria=function(){var t=this.localeService.getLocaleTextFunc(),e=this.getColumnAndAggFuncName(),i=e.name,o=e.aggFuncName,n=t("ariaDropZoneColumnComponentAggFuncSeperator"," of "),r={asc:t("ariaDropZoneColumnComponentSortAscending","ascending"),desc:t("ariaDropZoneColumnComponentSortDescending","descending")},s=this.column.getSort(),a=this.gridOptionsService.is("rowGroupPanelSuppressSort"),l=[[o&&""+o+n,i,this.isGroupingZone()&&!a&&s&&", "+r[s]].filter((function(t){return!!t})).join("")],c=this.gridOptionsService.is("functionsReadOnly");if(this.isAggregationZone()&&!c){var u=t("ariaDropZoneColumnValueItemDescription","Press ENTER to change the aggregation type");l.push(u)}if(this.isGroupingZone()&&this.column.getColDef().sortable&&!a){var h=t("ariaDropZoneColumnGroupItemDescription","Press ENTER to sort");l.push(h)}var d=t("ariaDropZoneColumnComponentDescription","Press DELETE to remove");l.push(d),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaLabel(this.getGui(),l.join(". "))},e.prototype.setupTooltip=function(){var t=this,e=function(){var e=t.column.getColDef().headerTooltip;t.setTooltip(e)};e(),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_NEW_COLUMNS_LOADED,e)},e.prototype.setupSort=function(){var t=this,e=this.column.getColDef().sortable,i=this.isGroupingZone();if(e&&i&&!this.gridOptionsService.is("rowGroupPanelSuppressSort")){this.eSortIndicator.setupSort(this.column,!0);var o=function(e){e.preventDefault();var i="ctrl"===t.gridOptionsService.get("multiSortKey")?e.ctrlKey||e.metaKey:e.shiftKey;t.sortController.progressSort(t.column,i,"uiColumnSorted")};this.addGuiEventListener("click",o),this.addGuiEventListener("keydown",(function(e){e.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.ENTER&&t.isGroupingZone()&&o(e)}))}},e.prototype.addDragSource=function(){var t=this,e={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.rvo.ToolPanel,eElement:this.eDragHandle,defaultIconName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jUB.ICON_HIDE,getDragItem:function(){return t.createDragItem()},dragItemName:this.displayName,dragSourceDropTarget:this.dragSourceDropTarget};this.dragAndDropService.addDragSource(e,!0),this.addDestroyFunc((function(){return t.dragAndDropService.removeDragSource(e)}))},e.prototype.createDragItem=function(){var t={};return t[this.column.getId()]=this.column.isVisible(),{columns:[this.column],visibleState:t}},e.prototype.setupComponents=function(){this.setTextValue(),this.setupRemove(),this.ghost&&this.addCssClass("ag-column-drop-cell-ghost"),this.isAggregationZone()&&!this.gridOptionsService.is("functionsReadOnly")&&this.addGuiEventListener("click",this.onShowAggFuncSelection.bind(this))},e.prototype.setupRemove=function(){var t=this;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eButton,!this.gridOptionsService.is("functionsReadOnly"));var i={type:e.EVENT_COLUMN_REMOVE};this.addGuiEventListener("keydown",(function(e){var o=e.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.ENTER;e.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.DELETE&&(e.preventDefault(),t.dispatchEvent(i)),o&&t.isAggregationZone()&&!t.gridOptionsService.is("functionsReadOnly")&&(e.preventDefault(),t.onShowAggFuncSelection())})),this.addManagedListener(this.eButton,"click",(function(e){t.dispatchEvent(i),e.stopPropagation()}));var o=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.rwP(this.eButton);this.addManagedListener(o,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.rwP.EVENT_TAP,(function(){t.dispatchEvent(i)})),this.addDestroyFunc(o.destroy.bind(o))},e.prototype.getColumnAndAggFuncName=function(){var t=this.displayName,e="";if(this.isAggregationZone()){var i=this.column.getAggFunc(),o="string"==typeof i?i:"agg";e=this.localeService.getLocaleTextFunc()(o,o)}return{name:t,aggFuncName:e}},e.prototype.setTextValue=function(){var t=this.getColumnAndAggFuncName(),e=t.name,i=t.aggFuncName,o=this.isAggregationZone()?i+"("+e+")":e,n=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.escapeString(o);this.eText.innerHTML=n},e.prototype.onShowAggFuncSelection=function(){var t=this;if(!this.popupShowing){this.popupShowing=!0;var e=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.CPJ("select-agg-func"),i=this.aggFuncService.getFuncNames(this.column),o=this.getGui(),n=e.getGui();e.setModel({getRow:function(t){return i[t]},getRowCount:function(){return i.length}}),this.getContext().createBean(e);var r=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.loadTemplate('<div class="ag-select-agg-func-popup"></div>');r.style.top="0px",r.style.left="0px",r.appendChild(n),r.style.width=o.clientWidth+"px";var s=this.localeService.getLocaleTextFunc(),a=this.popupService.addPopup({modal:!0,eChild:r,closeOnEsc:!0,closedCallback:function(){t.destroyBean(e),t.popupShowing=!1,o.focus()},ariaLabel:s("ariaLabelAggregationFunction","Aggregation Function")});a&&e.setComponentCreator(this.createAggSelect.bind(this,a.hideFunc)),e.addGuiEventListener("keydown",(function(t){if(t.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.ENTER||t.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.SPACE){var i=e.getLastFocusedRow();if(null==i)return;var o=e.getComponentAt(i);o&&o.selectItem()}})),this.popupService.positionPopupByComponent({type:"aggFuncSelect",eventSource:o,ePopup:r,keepWithinBounds:!0,column:this.column,position:"under"}),e.refresh();var l=i.findIndex((function(e){return e===t.column.getAggFunc()}));-1===l&&(l=0),e.focusRow(l)}},e.prototype.createAggSelect=function(t,e){var i=this,o=this.localeService.getLocaleTextFunc(),n=e.toString(),r=o(n,n);return new AggItemComp((function(){if(t(),i.gridOptionsService.is("functionsPassive")){var o={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_AGG_FUNC_CHANGE_REQUEST,columns:[i.column],aggFunc:e};i.eventService.dispatchEvent(o)}else i.columnModel.setColumnAggFunc(i.column,e,"toolPanelDragAndDrop")}),r)},e.prototype.addElementClasses=function(t,e){e=e?"-"+e:"";var i=this.horizontal?"horizontal":"vertical";t.classList.add("ag-column-drop-cell"+e,"ag-column-drop-"+i+"-cell"+e)},e.prototype.isAggregationZone=function(){return"aggregation"===this.dropZonePurpose},e.prototype.isGroupingZone=function(){return"rowGroup"===this.dropZonePurpose},e.EVENT_COLUMN_REMOVE="columnRemove",e.TEMPLATE='<span role="option" tabindex="0">\n          <span ref="eDragHandle" class="ag-drag-handle ag-column-drop-cell-drag-handle" role="presentation"></span>\n          <span ref="eText" class="ag-column-drop-cell-text" aria-hidden="true"></span>\n          <ag-sort-indicator ref="eSortIndicator"></ag-sort-indicator>\n          <span ref="eButton" class="ag-column-drop-cell-button" role="presentation"></span>\n        </span>',__decorate$2h([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("dragAndDropService")],e.prototype,"dragAndDropService",void 0),__decorate$2h([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$2h([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("popupService")],e.prototype,"popupService",void 0),__decorate$2h([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FiY)("aggFuncService")],e.prototype,"aggFuncService",void 0),__decorate$2h([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("sortController")],e.prototype,"sortController",void 0),__decorate$2h([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eText")],e.prototype,"eText",void 0),__decorate$2h([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eDragHandle")],e.prototype,"eDragHandle",void 0),__decorate$2h([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eButton")],e.prototype,"eButton",void 0),__decorate$2h([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eSortIndicator")],e.prototype,"eSortIndicator",void 0),__decorate$2h([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),AggItemComp=function(t){function e(e,i){var o=t.call(this,'<div class="ag-select-agg-func-item"/>')||this;return o.selectItem=e,o.getGui().innerText=i,o.addGuiEventListener("click",o.selectItem),o}return __extends$36(e,t),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$35=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$2g=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},__read$18=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,n,r=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return s},__spread$G=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$18(arguments[e]));return t},BaseDropZonePanel=function(t){function e(i,o){var n=t.call(this,'<div class="ag-unselectable" role="presentation"></div>')||this;return n.horizontal=i,n.dropZonePurpose=o,n.state=e.STATE_NOT_DRAGGING,n.guiDestroyFunctions=[],n.childColumnComponents=[],n.resizeEnabled=!1,n.addElementClasses(n.getGui()),n.eColumnDropList=document.createElement("div"),n.addElementClasses(n.eColumnDropList,"list"),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaRole(n.eColumnDropList,"listbox"),n}return __extends$35(e,t),e.prototype.isHorizontal=function(){return this.horizontal},e.prototype.toggleResizable=function(t){this.positionableFeature.setResizable(!!t&&{bottom:!0}),this.resizeEnabled=t},e.prototype.setBeans=function(t){this.beans=t},e.prototype.destroy=function(){this.destroyGui(),t.prototype.destroy.call(this)},e.prototype.destroyGui=function(){this.guiDestroyFunctions.forEach((function(t){return t()})),this.guiDestroyFunctions.length=0,this.childColumnComponents.length=0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.clearElement(this.getGui()),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.clearElement(this.eColumnDropList)},e.prototype.init=function(t){this.params=t,this.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.D_6(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.addManagedListener(this.beans.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_NEW_COLUMNS_LOADED,this.refreshGui.bind(this)),this.addManagedPropertyListener("functionsReadOnly",this.refreshGui.bind(this)),this.setupDropTarget(),this.positionableFeature=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Gxm(this.getGui(),{minHeight:100}),this.createManagedBean(this.positionableFeature),this.refreshGui(),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaLabel(this.eColumnDropList,this.getAriaLabel())},e.prototype.handleKeyDown=function(t){var e=!this.horizontal,i=t.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.DOWN,o=t.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.UP;if(!e){var n=this.gridOptionsService.is("enableRtl");i=!n&&t.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.RIGHT||n&&t.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.LEFT,o=!n&&t.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.LEFT||n&&t.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.RIGHT}if(i||o){var r=this.focusService.findNextFocusableElement(this.getFocusableElement(),!1,o);r&&(t.preventDefault(),r.focus())}},e.prototype.addElementClasses=function(t,e){e=e?"-"+e:"";var i=this.horizontal?"horizontal":"vertical";t.classList.add("ag-column-drop"+e,"ag-column-drop-"+i+e)},e.prototype.setupDropTarget=function(){this.dropTarget={getContainer:this.getGui.bind(this),getIconName:this.getIconName.bind(this),onDragging:this.onDragging.bind(this),onDragEnter:this.onDragEnter.bind(this),onDragLeave:this.onDragLeave.bind(this),onDragStop:this.onDragStop.bind(this),isInterestedIn:this.isInterestedIn.bind(this)},this.beans.dragAndDropService.addDropTarget(this.dropTarget)},e.prototype.isInterestedIn=function(t){return t===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.rvo.HeaderCell||t===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.rvo.ToolPanel},e.prototype.checkInsertIndex=function(t){var e=this.getNewInsertIndex(t);if(e<0)return!1;var i=e!==this.insertIndex;return i&&(this.insertIndex=e),i},e.prototype.getNewInsertIndex=function(t){var e=this,i=t.event,o=this.horizontal?i.clientX:i.clientY,n=this.childColumnComponents.map((function(t){return t.getGui().getBoundingClientRect()})),r=n.findIndex((function(t){return e.horizontal?t.right>o&&t.left<o:t.top<o&&t.bottom>o}));if(-1===r){var s=this.beans.gridOptionsService.is("enableRtl");return n.every((function(t){return o>(e.horizontal?t.right:t.bottom)}))?s&&this.horizontal?0:this.childColumnComponents.length:n.every((function(t){return o<(e.horizontal?t.left:t.top)}))?s&&this.horizontal?this.childColumnComponents.length:0:this.insertIndex}return this.insertIndex<=r?r+1:r},e.prototype.checkDragStartedBySelf=function(t){this.state===e.STATE_NOT_DRAGGING&&(this.state=e.STATE_REARRANGE_COLUMNS,this.potentialDndColumns=t.dragSource.getDragItem().columns||[],this.refreshGui(),this.checkInsertIndex(t),this.refreshGui())},e.prototype.onDragging=function(t){this.checkDragStartedBySelf(t),this.checkInsertIndex(t)&&this.refreshGui()},e.prototype.onDragEnter=function(t){var i=t.dragSource.getDragItem().columns||[];this.state=e.STATE_NEW_COLUMNS_IN;var o=i.filter(this.isColumnDroppable.bind(this));if(o.length>0){if(this.isRowGroupPanel()&&!this.gridOptionsService.is("suppressRowGroupHidesColumns")&&!t.fromNudge){var n=t.dragSource.getDragItem().columns;this.setColumnsVisible(n,!1,"uiColumnDragged")}this.potentialDndColumns=o,this.checkInsertIndex(t),this.refreshGui()}},e.prototype.setColumnsVisible=function(t,e,i){if(void 0===i&&(i="api"),t){var o=t.filter((function(t){return!t.getColDef().lockVisible}));this.colModel.setColumnsVisible(o,e,i)}},e.prototype.isPotentialDndColumns=function(){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.existsAndNotEmpty(this.potentialDndColumns)},e.prototype.isRowGroupPanel=function(){return"rowGroup"===this.dropZonePurpose},e.prototype.onDragLeave=function(t){if(this.state===e.STATE_REARRANGE_COLUMNS){var i=t.dragSource.getDragItem().columns||[];this.removeColumns(i)}if(this.isPotentialDndColumns()){if(this.isRowGroupPanel()&&!this.gridOptionsService.is("suppressMakeColumnVisibleAfterUnGroup")&&!t.fromNudge){var o=t.dragSource.getDragItem();this.setColumnsVisible(o.columns,!0,"uiColumnDragged")}this.potentialDndColumns=[],this.refreshGui()}this.state=e.STATE_NOT_DRAGGING},e.prototype.onDragStop=function(){if(this.isPotentialDndColumns()){var t=!1;this.state===e.STATE_NEW_COLUMNS_IN?(this.addColumns(this.potentialDndColumns),t=!0):t=this.rearrangeColumns(this.potentialDndColumns),this.potentialDndColumns=[],this.beans.gridOptionsService.is("functionsPassive")&&t||this.refreshGui()}this.state=e.STATE_NOT_DRAGGING},e.prototype.removeColumns=function(t){var e=this.getExistingColumns().filter((function(e){return!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(t,e)}));this.updateColumns(e)},e.prototype.addColumns=function(t){if(t){var e=this.getExistingColumns().slice(),i=t.filter((function(t){return e.indexOf(t)<0}));ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.insertArrayIntoArray(e,i,this.insertIndex),this.updateColumns(e)}},e.prototype.rearrangeColumns=function(t){var e=this.getNonGhostColumns().slice();return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.insertArrayIntoArray(e,t,this.insertIndex),!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.areEqual(e,this.getExistingColumns())&&(this.updateColumns(e),!0)},e.prototype.refreshGui=function(){var t=this.eColumnDropList.scrollTop,e=this.resizeEnabled,i=this.getFocusedItem(),o=this.focusService.findNextFocusableElement();o||(o=this.focusService.findNextFocusableElement(void 0,!1,!0)),this.toggleResizable(!1),this.destroyGui(),this.addIconAndTitleToGui(),this.addEmptyMessageToGui(),this.addColumnsToGui(),this.isHorizontal()||(this.eColumnDropList.scrollTop=t),e&&this.toggleResizable(e),this.focusService.isKeyboardMode()&&this.restoreFocus(i,o)},e.prototype.getFocusedItem=function(){var t=this.getGui(),e=this.gridOptionsService.getDocument().activeElement;return t.contains(e)?Array.from(t.querySelectorAll(".ag-column-drop-cell")).indexOf(e):-1},e.prototype.restoreFocus=function(t,e){var i=this.getGui(),o=Array.from(i.querySelectorAll(".ag-column-drop-cell"));if(-1!==t){0===o.length&&e.focus();var n=o[Math.min(o.length-1,t)];n&&n.focus()}},e.prototype.getNonGhostColumns=function(){var t=this,e=this.getExistingColumns();return this.isPotentialDndColumns()?e.filter((function(e){return!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(t.potentialDndColumns,e)})):e},e.prototype.addColumnsToGui=function(){var t=this,e=this.getNonGhostColumns().map((function(e){return t.createColumnComponent(e,!1)}));if(this.isPotentialDndColumns()){var i=this.potentialDndColumns.map((function(e){return t.createColumnComponent(e,!0)}));this.insertIndex>=e.length?e.push.apply(e,__spread$G(i)):e.splice.apply(e,__spread$G([this.insertIndex,0],i))}this.appendChild(this.eColumnDropList),e.forEach((function(e,i){i>0&&t.addArrow(t.eColumnDropList),t.eColumnDropList.appendChild(e.getGui())})),this.addAriaLabelsToComponents()},e.prototype.addAriaLabelsToComponents=function(){var t=this;this.childColumnComponents.forEach((function(e,i){var o=e.getGui();ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaPosInSet(o,i+1),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaSetSize(o,t.childColumnComponents.length)}))},e.prototype.createColumnComponent=function(t,e){var i=this,o=new DropZoneColumnComp(t,this.dropTarget,e,this.dropZonePurpose,this.horizontal);return o.addEventListener(DropZoneColumnComp.EVENT_COLUMN_REMOVE,this.removeColumns.bind(this,[t])),this.beans.context.createBean(o),this.guiDestroyFunctions.push((function(){return i.destroyBean(o)})),e||this.childColumnComponents.push(o),o},e.prototype.addIconAndTitleToGui=function(){var t=this.params.icon,e=document.createElement("div");if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaHidden(e,!0),this.addElementClasses(e,"title-bar"),this.addElementClasses(t,"icon"),this.addOrRemoveCssClass("ag-column-drop-empty",this.isExistingColumnsEmpty()),e.appendChild(t),!this.horizontal){var i=document.createElement("span");this.addElementClasses(i,"title"),i.innerHTML=this.params.title,e.appendChild(i)}this.appendChild(e)},e.prototype.isExistingColumnsEmpty=function(){return 0===this.getExistingColumns().length},e.prototype.addEmptyMessageToGui=function(){if(this.isExistingColumnsEmpty()&&!this.isPotentialDndColumns()){var t=document.createElement("span");t.innerHTML=this.params.emptyMessage,this.addElementClasses(t,"empty-message"),this.eColumnDropList.appendChild(t)}},e.prototype.addArrow=function(t){if(this.horizontal){var e=this.beans.gridOptionsService.is("enableRtl"),i=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan(e?"smallLeft":"smallRight",this.beans.gridOptionsService);this.addElementClasses(i,"cell-separator"),t.appendChild(i)}},e.STATE_NOT_DRAGGING="notDragging",e.STATE_NEW_COLUMNS_IN="newColumnsIn",e.STATE_REARRANGE_COLUMNS="rearrangeColumns",__decorate$2g([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"colModel",void 0),__decorate$2g([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("focusService")],e.prototype,"focusService",void 0),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$34=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$2f=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},RowGroupDropZonePanel=function(t){function e(e){return t.call(this,e,"rowGroup")||this}return __extends$34(e,t),e.prototype.passBeansUp=function(){t.prototype.setBeans.call(this,{gridOptionsService:this.gridOptionsService,eventService:this.eventService,context:this.getContext(),loggerFactory:this.loggerFactory,dragAndDropService:this.dragAndDropService});var e=this.localeService.getLocaleTextFunc(),i=e("rowGroupColumnsEmptyMessage","Drag here to set row groups"),o=e("groups","Row Groups");t.prototype.init.call(this,{dragAndDropIcon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jUB.ICON_GROUP,icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("rowGroupPanel",this.gridOptionsService,null),emptyMessage:i,title:o}),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_ROW_GROUP_CHANGED,this.refreshGui.bind(this))},e.prototype.getAriaLabel=function(){return this.localeService.getLocaleTextFunc()("ariaRowGroupDropZonePanelLabel","Row Groups")},e.prototype.getTooltipParams=function(){var e=t.prototype.getTooltipParams.call(this);return e.location="rowGroupColumnsList",e},e.prototype.isColumnDroppable=function(t){return!(this.gridOptionsService.is("functionsReadOnly")||!t.isPrimary())&&(t.isAllowRowGroup()&&!t.isRowGroupActive())},e.prototype.updateColumns=function(t){if(this.gridOptionsService.is("functionsPassive")){var e={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST,columns:t};this.eventService.dispatchEvent(e)}else this.columnModel.setRowGroupColumns(t,"toolPanelUi")},e.prototype.getIconName=function(){return this.isPotentialDndColumns()?ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jUB.ICON_GROUP:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jUB.ICON_NOT_ALLOWED},e.prototype.getExistingColumns=function(){return this.columnModel.getRowGroupColumns()},__decorate$2f([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$2f([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("loggerFactory")],e.prototype,"loggerFactory",void 0),__decorate$2f([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("dragAndDropService")],e.prototype,"dragAndDropService",void 0),__decorate$2f([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"passBeansUp",null),e}(BaseDropZonePanel),__extends$33=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$2e=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},PivotDropZonePanel=function(t){function e(e){return t.call(this,e,"pivot")||this}return __extends$33(e,t),e.prototype.passBeansUp=function(){t.prototype.setBeans.call(this,{gridOptionsService:this.gridOptionsService,eventService:this.eventService,context:this.getContext(),loggerFactory:this.loggerFactory,dragAndDropService:this.dragAndDropService});var e=this.localeService.getLocaleTextFunc(),i=e("pivotColumnsEmptyMessage","Drag here to set column labels"),o=e("pivots","Column Labels");t.prototype.init.call(this,{dragAndDropIcon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jUB.ICON_GROUP,icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("pivotPanel",this.gridOptionsService,null),emptyMessage:i,title:o}),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_NEW_COLUMNS_LOADED,this.refresh.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PIVOT_CHANGED,this.refresh.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.checkVisibility.bind(this)),this.refresh()},e.prototype.getAriaLabel=function(){return this.localeService.getLocaleTextFunc()("ariaPivotDropZonePanelLabel","Column Labels")},e.prototype.getTooltipParams=function(){var e=t.prototype.getTooltipParams.call(this);return e.location="pivotColumnsList",e},e.prototype.refresh=function(){this.checkVisibility(),this.refreshGui()},e.prototype.checkVisibility=function(){var t=this.columnModel.isPivotMode();if(this.isHorizontal())switch(this.gridOptionsService.get("pivotPanelShow")){case"always":this.setDisplayed(t);break;case"onlyWhenPivoting":var e=this.columnModel.isPivotActive();this.setDisplayed(t&&e);break;default:this.setDisplayed(!1)}else this.setDisplayed(t)},e.prototype.isColumnDroppable=function(t){return!(this.gridOptionsService.is("functionsReadOnly")||!t.isPrimary())&&(t.isAllowPivot()&&!t.isPivotActive())},e.prototype.updateColumns=function(t){if(this.gridOptionsService.is("functionsPassive")){var e={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PIVOT_CHANGE_REQUEST,columns:t};this.eventService.dispatchEvent(e)}else this.columnModel.setPivotColumns(t,"toolPanelUi")},e.prototype.getIconName=function(){return this.isPotentialDndColumns()?ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jUB.ICON_PIVOT:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jUB.ICON_NOT_ALLOWED},e.prototype.getExistingColumns=function(){return this.columnModel.getPivotColumns()},__decorate$2e([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$2e([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("loggerFactory")],e.prototype,"loggerFactory",void 0),__decorate$2e([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("dragAndDropService")],e.prototype,"dragAndDropService",void 0),__decorate$2e([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"passBeansUp",null),e}(BaseDropZonePanel),__extends$32=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$2d=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},GridHeaderDropZones=function(t){function e(){return t.call(this)||this}return __extends$32(e,t),e.prototype.postConstruct=function(){this.setGui(this.createNorthPanel()),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_NEW_COLUMNS_LOADED,this.onRowGroupChanged.bind(this)),this.addManagedPropertyListener("rowGroupPanelShow",this.onRowGroupChanged.bind(this)),this.onRowGroupChanged()},e.prototype.createNorthPanel=function(){var t=document.createElement("div"),e=this.onDropPanelVisible.bind(this);return t.classList.add("ag-column-drop-wrapper"),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaRole(t,"presentation"),this.rowGroupComp=new RowGroupDropZonePanel(!0),this.createManagedBean(this.rowGroupComp),this.pivotComp=new PivotDropZonePanel(!0),this.createManagedBean(this.pivotComp),t.appendChild(this.rowGroupComp.getGui()),t.appendChild(this.pivotComp.getGui()),this.addManagedListener(this.rowGroupComp,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2.EVENT_DISPLAYED_CHANGED,e),this.addManagedListener(this.pivotComp,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2.EVENT_DISPLAYED_CHANGED,e),this.onDropPanelVisible(),t},e.prototype.onDropPanelVisible=function(){var t=this.rowGroupComp.isDisplayed()&&this.pivotComp.isDisplayed();this.rowGroupComp.addOrRemoveCssClass("ag-column-drop-horizontal-half-width",t),this.pivotComp.addOrRemoveCssClass("ag-column-drop-horizontal-half-width",t)},e.prototype.onRowGroupChanged=function(){if(this.rowGroupComp){var t=this.gridOptionsService.get("rowGroupPanelShow");if("always"===t)this.rowGroupComp.setDisplayed(!0);else if("onlyWhenGrouping"===t){var e=!this.columnModel.isRowGroupEmpty();this.rowGroupComp.setDisplayed(e)}else this.rowGroupComp.setDisplayed(!1)}},__decorate$2d([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$2d([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$31=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$2c=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},FilterAggregatesStage=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$31(e,t),e.prototype.execute=function(t){var e=this,i=this.columnModel.isPivotMode(),o=this.filterManager.isAggregateFilterPresent(),n=this.gridOptionsService.getGroupAggFiltering()||(i?function(t){return t.node.leafGroup}:function(t){return!t.node.group}),r=t.changedPath,s=function(t,i){void 0===i&&(i=!1),t.childrenAfterFilter&&(t.childrenAfterAggFilter=t.childrenAfterFilter,i&&t.childrenAfterAggFilter.forEach((function(t){return s(t,i)})),e.setAllChildrenCount(t)),t.sibling&&(t.sibling.childrenAfterAggFilter=t.childrenAfterAggFilter)};r.forEachChangedNodeDepthFirst(o?function(t){var i;t.childrenAfterAggFilter=(null===(i=t.childrenAfterFilter)||void 0===i?void 0:i.filter((function(t){var i;if(n({node:t})&&e.filterManager.doesRowPassAggregateFilters({rowNode:t}))return s(t,!0),!0;return null===(i=t.childrenAfterAggFilter)||void 0===i?void 0:i.length})))||null,e.setAllChildrenCount(t),t.sibling&&(t.sibling.childrenAfterAggFilter=t.childrenAfterAggFilter)}:s,!0)},e.prototype.setAllChildrenCountTreeData=function(t){var e=0;t.childrenAfterAggFilter.forEach((function(t){e++,e+=t.allChildrenCount})),t.setAllChildrenCount(e)},e.prototype.setAllChildrenCountGridGrouping=function(t){var e=0;t.childrenAfterAggFilter.forEach((function(t){t.group?e+=t.allChildrenCount:e++})),t.setAllChildrenCount(e)},e.prototype.setAllChildrenCount=function(t){t.hasChildren()?this.gridOptionsService.isTreeData()?this.setAllChildrenCountTreeData(t):this.setAllChildrenCountGridGrouping(t):t.setAllChildrenCount(null)},__decorate$2c([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("filterManager")],e.prototype,"filterManager",void 0),__decorate$2c([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),e=__decorate$2c([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("filterAggregatesStage")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),VERSION$g="29.3.4",__extends$30=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$2b=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},GroupFilter=function(t){function e(){return t.call(this,'\n            <div class="ag-group-filter">\n                <div ref="eGroupField"></div>\n                <div ref="eUnderlyingFilter"></div>\n            </div>\n        ')||this}return __extends$30(e,t),e.prototype.postConstruct=function(){this.initialiseTabGuard({})},e.prototype.init=function(t){var e=this;return this.params=t,this.validateParams(),this.updateGroups().then((function(){e.addManagedListener(e.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_ROW_GROUP_CHANGED,(function(){return e.onColumnRowGroupChanged()}))}))},e.prototype.validateParams=function(){var t=this.params.colDef;t.field&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce((function(){return console.warn('AG Grid: Group Column Filter does not work with the colDef property "field". This property will be ignored.')}),"groupFilterFieldParam"),t.filterValueGetter&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce((function(){return console.warn('AG Grid: Group Column Filter does not work with the colDef property "filterValueGetter". This property will be ignored.')}),"groupFilterFilterValueGetterParam"),t.filterParams&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce((function(){return console.warn('AG Grid: Group Column Filter does not work with the colDef property "filterParams". This property will be ignored.')}),"groupFilterFilterParams")},e.prototype.updateGroups=function(){var t=this.updateGroupField();return this.getUnderlyingFilters(t)},e.prototype.getSourceColumns=function(){if(this.groupColumn=this.params.column,this.gridOptionsService.is("treeData"))return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce((function(){return console.warn("AG Grid: Group Column Filter does not work with Tree Data enabled. Please disable Tree Data, or use a different filter.")}),"groupFilterTreeData"),[];var t=this.columnModel.getSourceColumnsForGroupColumn(this.groupColumn);return t||(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce((function(){return console.warn("AG Grid: Group Column Filter only works on group columns. Please use a different filter.")}),"groupFilterNotGroupColumn"),[])},e.prototype.updateGroupField=function(){var t=this;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.clearElement(this.eGroupField),this.eGroupFieldSelect&&this.destroyBean(this.eGroupFieldSelect);var e=this.getSourceColumns(),i=e.filter((function(t){return t.isFilterAllowed()}));return i.length?(1===e.length?(this.selectedColumn=i[0],ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eGroupField,!1)):(this.selectedColumn&&i.some((function(e){return e.getId()===t.selectedColumn.getId()}))||(this.selectedColumn=i[0]),this.createGroupFieldSelectElement(i),this.eGroupField.appendChild(this.eGroupFieldSelect.getGui()),this.eGroupField.appendChild(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.loadTemplate('<div class="ag-filter-separator"></div>')),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eGroupField,!0)),i):(this.selectedColumn=void 0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eGroupField,!1),null)},e.prototype.createGroupFieldSelectElement=function(t){var e=this;this.eGroupFieldSelect=this.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wGv);var i=this.localeService.getLocaleTextFunc();this.eGroupFieldSelect.setLabel(i("groupFilterSelect","Select field:")),this.eGroupFieldSelect.setLabelAlignment("top"),this.eGroupFieldSelect.addOptions(t.map((function(t){var i;return{value:t.getId(),text:null!==(i=e.columnModel.getDisplayNameForColumn(t,"groupFilter",!1))&&void 0!==i?i:void 0}}))),this.eGroupFieldSelect.setValue(this.selectedColumn.getId()),this.eGroupFieldSelect.onValueChange((function(t){return e.updateSelectedColumn(t)})),this.eGroupFieldSelect.addCssClass("ag-group-filter-field-select-wrapper"),1===t.length&&this.eGroupFieldSelect.setDisabled(!0)},e.prototype.getUnderlyingFilters=function(t){var e=this;if(!t)return this.filterColumnPairs=void 0,this.selectedFilter=void 0,this.groupColumn.setFilterActive(!1,"columnRowGroupChanged"),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S.resolve();var i=[],o=[];return t.forEach((function(t){var n=e.filterManager.getOrCreateFilterWrapper(t,"COLUMN_MENU");(null==n?void 0:n.filterPromise)&&i.push(n.filterPromise.then((function(i){return i&&o.push({filter:i,column:t}),t.getId()===e.selectedColumn.getId()&&(e.selectedFilter=null!=i?i:void 0),i})))})),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S.all(i).then((function(){e.filterColumnPairs=o,e.groupColumn.setFilterActive(e.isFilterActive(),"columnRowGroupChanged")}))},e.prototype.addUnderlyingFilterElement=function(){var t=this;if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.clearElement(this.eUnderlyingFilter),!this.selectedColumn)return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S.resolve();var e=this.filterManager.getOrCreateFilterWrapper(this.selectedColumn,"COLUMN_MENU");return e?e.guiPromise.then((function(i){var o;t.eUnderlyingFilter.appendChild(i),null===(o=e.filterPromise)||void 0===o||o.then((function(e){var i,o;null===(i=null==e?void 0:e.afterGuiAttached)||void 0===i||i.call(e,t.afterGuiAttachedParams),(null===(o=t.afterGuiAttachedParams)||void 0===o?void 0:o.suppressFocus)||!t.eGroupFieldSelect||t.eGroupFieldSelect.isDisabled()||t.eGroupFieldSelect.getFocusableElement().focus()}))})):ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S.resolve()},e.prototype.updateSelectedColumn=function(t){var i,o;if(t){null===(o=null===(i=this.selectedFilter)||void 0===i?void 0:i.afterGuiDetached)||void 0===o||o.call(i);var n=this.getFilterColumnPair(t);this.selectedColumn=null==n?void 0:n.column,this.selectedFilter=null==n?void 0:n.filter,this.dispatchEvent({type:e.EVENT_SELECTED_COLUMN_CHANGED}),this.addUnderlyingFilterElement()}},e.prototype.isFilterActive=function(){var t;return!!(null===(t=this.filterColumnPairs)||void 0===t?void 0:t.some((function(t){return t.filter.isFilterActive()})))},e.prototype.doesFilterPass=function(){return!0},e.prototype.getModel=function(){return null},e.prototype.setModel=function(){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S.resolve()},e.prototype.afterGuiAttached=function(t){this.afterGuiAttachedParams=t,this.addUnderlyingFilterElement()},e.prototype.afterGuiDetached=function(){var t,e;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.clearElement(this.eUnderlyingFilter),null===(e=null===(t=this.selectedFilter)||void 0===t?void 0:t.afterGuiDetached)||void 0===e||e.call(t)},e.prototype.onColumnRowGroupChanged=function(){var t=this;this.updateGroups().then((function(){t.dispatchEvent({type:e.EVENT_COLUMN_ROW_GROUP_CHANGED}),t.eventService.dispatchEvent({type:"filterAllowedUpdated"})}))},e.prototype.getFilterColumnPair=function(t){var e;if(t)return null===(e=this.filterColumnPairs)||void 0===e?void 0:e.find((function(e){return e.column.getId()===t}))},e.prototype.getSelectedFilter=function(){return this.selectedFilter},e.prototype.getSelectedColumn=function(){return this.selectedColumn},e.prototype.isFilterAllowed=function(){return!!this.selectedColumn},e.prototype.destroy=function(){t.prototype.destroy.call(this)},e.EVENT_COLUMN_ROW_GROUP_CHANGED="columnRowGroupChanged",e.EVENT_SELECTED_COLUMN_CHANGED="selectedColumnChanged",__decorate$2b([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("filterManager")],e.prototype,"filterManager",void 0),__decorate$2b([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$2b([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eGroupField")],e.prototype,"eGroupField",void 0),__decorate$2b([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eUnderlyingFilter")],e.prototype,"eUnderlyingFilter",void 0),__decorate$2b([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.BxR),__extends$2$=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$2a=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},GroupFloatingFilterComp=function(t){function e(){return t.call(this,'\n            <div ref="eFloatingFilter" class="ag-group-floating-filter ag-floating-filter-input" role="presentation"></div>\n        ')||this}return __extends$2$(e,t),e.prototype.init=function(t){var e=this;this.params=t;var i="multipleColumns"===this.gridOptionsService.get("groupDisplayType");return new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S((function(t){e.params.parentFilterInstance((function(o){e.parentFilterInstance=o,i?e.setupUnderlyingFloatingFilterElement().then((function(){return t()})):(e.setupReadOnlyFloatingFilterElement(),t())}))})).then((function(){e.addManagedListener(e.parentFilterInstance,GroupFilter.EVENT_SELECTED_COLUMN_CHANGED,(function(){return e.onSelectedColumnChanged()})),e.addManagedListener(e.parentFilterInstance,GroupFilter.EVENT_COLUMN_ROW_GROUP_CHANGED,(function(){return e.onColumnRowGroupChanged()}))}))},e.prototype.setupReadOnlyFloatingFilterElement=function(){var t=this;if(!this.eFloatingFilterText){this.eFloatingFilterText=this.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.INo);var e=this.columnModel.getDisplayNameForColumn(this.params.column,"header",!0),i=this.localeService.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(e+" "+i("ariaFilterInput","Filter Input")).addGuiEventListener("click",(function(){return t.params.showParentFilter()}))}this.updateDisplayedValue(),this.eFloatingFilter.appendChild(this.eFloatingFilterText.getGui())},e.prototype.setupUnderlyingFloatingFilterElement=function(){var t=this;this.showingUnderlyingFloatingFilter=!1,this.underlyingFloatingFilter=void 0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.clearElement(this.eFloatingFilter);var e=this.parentFilterInstance.getSelectedColumn();if(e&&!e.isVisible()){var i=this.filterManager.getFloatingFilterCompDetails(e,this.params.showParentFilter);if(i)return this.columnVisibleChangedListener||(this.columnVisibleChangedListener=this.addManagedListener(e,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sgG.EVENT_VISIBLE_CHANGED,this.onColumnVisibleChanged.bind(this))),i.newAgStackInstance().then((function(e){var i,o;t.underlyingFloatingFilter=e,null===(i=t.underlyingFloatingFilter)||void 0===i||i.onParentModelChanged(null===(o=t.parentFilterInstance.getSelectedFilter())||void 0===o?void 0:o.getModel()),t.appendChild(e.getGui()),t.showingUnderlyingFloatingFilter=!0}))}return this.setupReadOnlyFloatingFilterElement(),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S.resolve()},e.prototype.onColumnVisibleChanged=function(){this.setupUnderlyingFloatingFilterElement()},e.prototype.onParentModelChanged=function(t,e){var i,o;this.showingUnderlyingFloatingFilter?null===(i=this.underlyingFloatingFilter)||void 0===i||i.onParentModelChanged(null===(o=this.parentFilterInstance.getSelectedFilter())||void 0===o?void 0:o.getModel(),e):this.updateDisplayedValue()},e.prototype.updateDisplayedValue=function(){if(this.parentFilterInstance&&this.eFloatingFilterText){var t=this.parentFilterInstance.getSelectedFilter();if(!t)return this.eFloatingFilterText.setValue(""),void this.eFloatingFilterText.setDisplayed(!1);if(this.eFloatingFilterText.setDisplayed(!0),t.getModelAsString){var e=t.getModel();this.eFloatingFilterText.setValue(null==e?"":t.getModelAsString(e))}else this.eFloatingFilterText.setValue("")}},e.prototype.onSelectedColumnChanged=function(){this.showingUnderlyingFloatingFilter||this.updateDisplayedValue()},e.prototype.onColumnRowGroupChanged=function(){this.showingUnderlyingFloatingFilter||this.updateDisplayedValue()},e.prototype.destroy=function(){t.prototype.destroy.call(this)},__decorate$2a([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$2a([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("filterManager")],e.prototype,"filterManager",void 0),__decorate$2a([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eFloatingFilter")],e.prototype,"eFloatingFilter",void 0),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),RowGroupingModule={version:VERSION$g,moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.RowGroupingModule,beans:[AggregationStage,FilterAggregatesStage,GroupStage,PivotColDefService,PivotStage,AggFuncService],agStackComponents:[{componentName:"AgGridHeaderDropZones",componentClass:GridHeaderDropZones}],userComponents:[{componentName:"agGroupColumnFilter",componentClass:GroupFilter},{componentName:"agGroupColumnFloatingFilter",componentClass:GroupFloatingFilterComp}],dependantModules:[EnterpriseCoreModule]},__extends$2_=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$29=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},ValuesDropZonePanel=function(t){function e(e){return t.call(this,e,"aggregation")||this}return __extends$2_(e,t),e.prototype.passBeansUp=function(){t.prototype.setBeans.call(this,{gridOptionsService:this.gridOptionsService,eventService:this.eventService,context:this.getContext(),loggerFactory:this.loggerFactory,dragAndDropService:this.dragAndDropService});var e=this.localeService.getLocaleTextFunc(),i=e("valueColumnsEmptyMessage","Drag here to aggregate"),o=e("values","Values");t.prototype.init.call(this,{dragAndDropIcon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jUB.ICON_AGGREGATE,icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("valuePanel",this.gridOptionsService,null),emptyMessage:i,title:o}),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_VALUE_CHANGED,this.refreshGui.bind(this))},e.prototype.getAriaLabel=function(){return this.localeService.getLocaleTextFunc()("ariaValuesDropZonePanelLabel","Values")},e.prototype.getTooltipParams=function(){var e=t.prototype.getTooltipParams.call(this);return e.location="valueColumnsList",e},e.prototype.getIconName=function(){return this.isPotentialDndColumns()?ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jUB.ICON_AGGREGATE:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jUB.ICON_NOT_ALLOWED},e.prototype.isColumnDroppable=function(t){return!(this.gridOptionsService.is("functionsReadOnly")||!t.isPrimary())&&(t.isAllowValue()&&!t.isValueActive())},e.prototype.updateColumns=function(t){if(this.gridOptionsService.is("functionsPassive")){var e={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_VALUE_CHANGE_REQUEST,columns:t};this.eventService.dispatchEvent(e)}else this.columnModel.setValueColumns(t,"toolPanelUi")},e.prototype.getExistingColumns=function(){return this.columnModel.getValueColumns()},__decorate$29([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$29([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("loggerFactory")],e.prototype,"loggerFactory",void 0),__decorate$29([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("dragAndDropService")],e.prototype,"dragAndDropService",void 0),__decorate$29([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"passBeansUp",null),e}(BaseDropZonePanel),__extends$2Z=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$28=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},PrimaryColsPanel=function(t){function e(){return t.call(this,e.TEMPLATE)||this}return __extends$2Z(e,t),e.prototype.init=function(t,e,i){this.allowDragging=t,this.params=e,this.eventType=i,this.primaryColsHeaderPanel.init(this.params);var o=this.params.suppressColumnFilter,n=this.params.suppressColumnSelectAll;this.params.suppressColumnExpandAll&&o&&n&&this.primaryColsHeaderPanel.setDisplayed(!1),this.addManagedListener(this.primaryColsListPanel,"groupExpanded",this.onGroupExpanded.bind(this)),this.addManagedListener(this.primaryColsListPanel,"selectionChanged",this.onSelectionChange.bind(this)),this.primaryColsListPanel.init(this.params,this.allowDragging,this.eventType),this.addManagedListener(this.primaryColsHeaderPanel,"expandAll",this.onExpandAll.bind(this)),this.addManagedListener(this.primaryColsHeaderPanel,"collapseAll",this.onCollapseAll.bind(this)),this.addManagedListener(this.primaryColsHeaderPanel,"selectAll",this.onSelectAll.bind(this)),this.addManagedListener(this.primaryColsHeaderPanel,"unselectAll",this.onUnselectAll.bind(this)),this.addManagedListener(this.primaryColsHeaderPanel,"filterChanged",this.onFilterChanged.bind(this)),this.positionableFeature=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Gxm(this.getGui(),{minHeight:100}),this.createManagedBean(this.positionableFeature)},e.prototype.toggleResizable=function(t){this.positionableFeature.setResizable(!!t&&{bottom:!0})},e.prototype.onExpandAll=function(){this.primaryColsListPanel.doSetExpandedAll(!0)},e.prototype.onCollapseAll=function(){this.primaryColsListPanel.doSetExpandedAll(!1)},e.prototype.expandGroups=function(t){this.primaryColsListPanel.setGroupsExpanded(!0,t)},e.prototype.collapseGroups=function(t){this.primaryColsListPanel.setGroupsExpanded(!1,t)},e.prototype.setColumnLayout=function(t){this.primaryColsListPanel.setColumnLayout(t)},e.prototype.onFilterChanged=function(t){this.primaryColsListPanel.setFilterText(t.filterText)},e.prototype.syncLayoutWithGrid=function(){this.primaryColsListPanel.onColumnsChanged()},e.prototype.onSelectAll=function(){this.primaryColsListPanel.doSetSelectedAll(!0)},e.prototype.onUnselectAll=function(){this.primaryColsListPanel.doSetSelectedAll(!1)},e.prototype.onGroupExpanded=function(t){this.primaryColsHeaderPanel.setExpandState(t.state)},e.prototype.onSelectionChange=function(t){this.primaryColsHeaderPanel.setSelectionState(t.state)},e.TEMPLATE='<div class="ag-column-select">\n            <ag-primary-cols-header ref="primaryColsHeaderPanel"></ag-primary-cols-header>\n            <ag-primary-cols-list ref="primaryColsListPanel"></ag-primary-cols-list>\n        </div>',__decorate$28([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("primaryColsHeaderPanel")],e.prototype,"primaryColsHeaderPanel",void 0),__decorate$28([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("primaryColsListPanel")],e.prototype,"primaryColsListPanel",void 0),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$2Y=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__assign$N=function(){return __assign$N=Object.assign||function(t){for(var e,i=1,o=arguments.length;i<o;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},__assign$N.apply(this,arguments)},__decorate$27=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},ColumnToolPanel=function(t){function e(){var i=t.call(this,e.TEMPLATE)||this;return i.initialised=!1,i.childDestroyFuncs=[],i}return __extends$2Y(e,t),e.prototype.setVisible=function(e){t.prototype.setDisplayed.call(this,e),e&&!this.initialised&&this.init(this.params)},e.prototype.init=function(t){var e=this,i={suppressColumnMove:!1,suppressColumnSelectAll:!1,suppressColumnFilter:!1,suppressColumnExpandAll:!1,contractColumnSelection:!1,suppressPivotMode:!1,suppressRowGroups:!1,suppressValues:!1,suppressPivots:!1,suppressSyncLayoutWithGrid:!1,api:this.gridApi,columnApi:this.columnApi};if(this.params=__assign$N(__assign$N(__assign$N({},i),t),{context:this.gridOptionsService.context}),this.isRowGroupingModuleLoaded()&&!this.params.suppressPivotMode&&(this.pivotModePanel=this.createBean(new PivotModePanel),this.childDestroyFuncs.push((function(){return e.destroyBean(e.pivotModePanel)})),this.appendChild(this.pivotModePanel)),this.primaryColsPanel=this.createBean(new PrimaryColsPanel),this.childDestroyFuncs.push((function(){return e.destroyBean(e.primaryColsPanel)})),this.primaryColsPanel.init(!0,this.params,"toolPanelUi"),this.primaryColsPanel.addCssClass("ag-column-panel-column-select"),this.appendChild(this.primaryColsPanel),this.isRowGroupingModuleLoaded()){this.params.suppressRowGroups||(this.rowGroupDropZonePanel=this.createBean(new RowGroupDropZonePanel(!1)),this.childDestroyFuncs.push((function(){return e.destroyBean(e.rowGroupDropZonePanel)})),this.appendChild(this.rowGroupDropZonePanel)),this.params.suppressValues||(this.valuesDropZonePanel=this.createBean(new ValuesDropZonePanel(!1)),this.childDestroyFuncs.push((function(){return e.destroyBean(e.valuesDropZonePanel)})),this.appendChild(this.valuesDropZonePanel)),this.params.suppressPivots||(this.pivotDropZonePanel=this.createBean(new PivotDropZonePanel(!1)),this.childDestroyFuncs.push((function(){return e.destroyBean(e.pivotDropZonePanel)})),this.appendChild(this.pivotDropZonePanel)),this.setLastVisible();var o=this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PIVOT_MODE_CHANGED,(function(){e.resetChildrenHeight(),e.setLastVisible()}));this.childDestroyFuncs.push((function(){return o()}))}this.initialised=!0},e.prototype.setPivotModeSectionVisible=function(t){var e=this;this.isRowGroupingModuleLoaded()&&(this.pivotModePanel?this.pivotModePanel.setDisplayed(t):t&&(this.pivotModePanel=this.createBean(new PivotModePanel),this.getGui().insertBefore(this.pivotModePanel.getGui(),this.getGui().firstChild),this.childDestroyFuncs.push((function(){return e.destroyBean(e.pivotModePanel)}))),this.setLastVisible())},e.prototype.setRowGroupsSectionVisible=function(t){this.isRowGroupingModuleLoaded()&&(this.rowGroupDropZonePanel?this.rowGroupDropZonePanel.setDisplayed(t):t&&(this.rowGroupDropZonePanel=this.createManagedBean(new RowGroupDropZonePanel(!1)),this.appendChild(this.rowGroupDropZonePanel)),this.setLastVisible())},e.prototype.setValuesSectionVisible=function(t){this.isRowGroupingModuleLoaded()&&(this.valuesDropZonePanel?this.valuesDropZonePanel.setDisplayed(t):t&&(this.valuesDropZonePanel=this.createManagedBean(new ValuesDropZonePanel(!1)),this.appendChild(this.valuesDropZonePanel)),this.setLastVisible())},e.prototype.setPivotSectionVisible=function(t){this.isRowGroupingModuleLoaded()&&(this.pivotDropZonePanel?this.pivotDropZonePanel.setDisplayed(t):t&&(this.pivotDropZonePanel=this.createManagedBean(new PivotDropZonePanel(!1)),this.appendChild(this.pivotDropZonePanel),this.pivotDropZonePanel.setDisplayed(t)),this.setLastVisible())},e.prototype.setResizers=function(){[this.primaryColsPanel,this.rowGroupDropZonePanel,this.valuesDropZonePanel,this.pivotDropZonePanel].forEach((function(t){if(t){var e=t.getGui();t.toggleResizable(!e.classList.contains("ag-last-column-drop")&&!e.classList.contains("ag-hidden"))}}))},e.prototype.setLastVisible=function(){var t=this.getGui();Array.prototype.slice.call(t.querySelectorAll(".ag-column-drop")).forEach((function(t){return t.classList.remove("ag-last-column-drop")}));var e=t.querySelectorAll(".ag-column-drop:not(.ag-hidden)"),i=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(e);i&&i.classList.add("ag-last-column-drop"),this.setResizers()},e.prototype.resetChildrenHeight=function(){for(var t=this.getGui().children,e=0;e<t.length;e++){var i=t[e];i.style.removeProperty("height"),i.style.removeProperty("flex")}},e.prototype.isRowGroupingModuleLoaded=function(){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.assertRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.RowGroupingModule,"Row Grouping")},e.prototype.expandColumnGroups=function(t){this.primaryColsPanel.expandGroups(t)},e.prototype.collapseColumnGroups=function(t){this.primaryColsPanel.collapseGroups(t)},e.prototype.setColumnLayout=function(t){this.primaryColsPanel.setColumnLayout(t)},e.prototype.syncLayoutWithGrid=function(){this.primaryColsPanel.syncLayoutWithGrid()},e.prototype.destroyChildren=function(){this.childDestroyFuncs.forEach((function(t){return t()})),this.childDestroyFuncs.length=0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.clearElement(this.getGui())},e.prototype.refresh=function(){this.destroyChildren(),this.init(this.params)},e.prototype.destroy=function(){this.destroyChildren(),t.prototype.destroy.call(this)},e.TEMPLATE='<div class="ag-column-panel"></div>',__decorate$27([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],e.prototype,"gridApi",void 0),__decorate$27([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnApi")],e.prototype,"columnApi",void 0),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$2X=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$26=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},HorizontalResizeComp=function(t){function e(){var e=t.call(this,'<div class="ag-tool-panel-horizontal-resize"></div>')||this;return e.minWidth=100,e.maxWidth=null,e}return __extends$2X(e,t),e.prototype.setElementToResize=function(t){this.elementToResize=t},e.prototype.postConstruct=function(){var t=this.horizontalResizeService.addResizeBar({eResizeBar:this.getGui(),dragStartPixels:1,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this),onResizeEnd:this.onResizeEnd.bind(this)});this.addDestroyFunc(t),this.setInverted(this.gridOptionsService.is("enableRtl"))},e.prototype.dispatchResizeEvent=function(t,e,i){var o={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_TOOL_PANEL_SIZE_CHANGED,width:i,started:t,ended:e};this.eventService.dispatchEvent(o)},e.prototype.onResizeStart=function(){this.startingWidth=this.elementToResize.offsetWidth,this.dispatchResizeEvent(!0,!1,this.startingWidth)},e.prototype.onResizeEnd=function(t){return this.onResizing(t,!0)},e.prototype.onResizing=function(t,e){void 0===e&&(e=!1);var i=this.inverted?-1:1,o=Math.max(this.minWidth,Math.floor(this.startingWidth-t*i));null!=this.maxWidth&&(o=Math.min(this.maxWidth,o)),this.elementToResize.style.width=o+"px",this.dispatchResizeEvent(!1,e,o)},e.prototype.setInverted=function(t){this.inverted=t},e.prototype.setMaxWidth=function(t){this.maxWidth=t},e.prototype.setMinWidth=function(t){this.minWidth=null!=t?t:100},__decorate$26([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("horizontalResizeService")],e.prototype,"horizontalResizeService",void 0),__decorate$26([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$2W=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$25=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},SideBarButtonComp=function(t){function e(e){var i=t.call(this)||this;return i.toolPanelDef=e,i}return __extends$2W(e,t),e.prototype.getToolPanelId=function(){return this.toolPanelDef.id},e.prototype.postConstruct=function(){var t=this.createTemplate();this.setTemplate(t),this.setLabel(),this.setIcon(),this.addManagedListener(this.eToggleButton,"click",this.onButtonPressed.bind(this))},e.prototype.createTemplate=function(){return'<div class="ag-side-button" role="presentation">\n                <button type="button" ref="eToggleButton" tabindex="-1" role="tab" class="ag-side-button-button">\n                    <div ref="eIconWrapper" class="ag-side-button-icon-wrapper" aria-hidden="true"></div>\n                    <span ref ="eLabel" class="ag-side-button-label"></span>\n                </button>\n            </div>'},e.prototype.setLabel=function(){var t=this.localeService.getLocaleTextFunc(),e=this.toolPanelDef,i=t(e.labelKey,e.labelDefault);this.eLabel.innerText=i},e.prototype.setIcon=function(){this.eIconWrapper.insertAdjacentElement("afterbegin",ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan(this.toolPanelDef.iconKey,this.gridOptionsService))},e.prototype.onButtonPressed=function(){this.dispatchEvent({type:e.EVENT_TOGGLE_BUTTON_CLICKED})},e.prototype.setSelected=function(t){this.addOrRemoveCssClass("ag-selected",t)},e.EVENT_TOGGLE_BUTTON_CLICKED="toggleButtonClicked",__decorate$25([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eToggleButton")],e.prototype,"eToggleButton",void 0),__decorate$25([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eIconWrapper")],e.prototype,"eIconWrapper",void 0),__decorate$25([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eLabel")],e.prototype,"eLabel",void 0),__decorate$25([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$2V=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$24=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},SideBarButtonsComp=function(t){function e(){var i=t.call(this,e.TEMPLATE)||this;return i.buttonComps=[],i}return __extends$2V(e,t),e.prototype.postConstruct=function(){this.addManagedListener(this.getFocusableElement(),"keydown",this.handleKeyDown.bind(this))},e.prototype.handleKeyDown=function(t){if(t.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.TAB&&t.shiftKey){var e=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(this.columnModel.getAllDisplayedColumns());this.focusService.focusGridView(e,!0)&&t.preventDefault()}},e.prototype.setToolPanelDefs=function(t){t.forEach(this.addButtonComp.bind(this))},e.prototype.setActiveButton=function(t){this.buttonComps.forEach((function(e){e.setSelected(t===e.getToolPanelId())}))},e.prototype.addButtonComp=function(t){var i=this,o=this.createBean(new SideBarButtonComp(t));this.buttonComps.push(o),this.appendChild(o),o.addEventListener(SideBarButtonComp.EVENT_TOGGLE_BUTTON_CLICKED,(function(){i.dispatchEvent({type:e.EVENT_SIDE_BAR_BUTTON_CLICKED,toolPanelId:t.id})}))},e.prototype.clearButtons=function(){this.buttonComps=this.destroyBeans(this.buttonComps),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.clearElement(this.getGui())},e.EVENT_SIDE_BAR_BUTTON_CLICKED="sideBarButtonClicked",e.TEMPLATE='<div class="ag-side-buttons" role="tablist"></div>',__decorate$24([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("focusService")],e.prototype,"focusService",void 0),__decorate$24([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$24([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),__decorate$24([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FXL],e.prototype,"clearButtons",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),SideBarDefParser=function(){function t(){}return t.parse=function(e){if(e){if(!0===e)return{toolPanels:[t.DEFAULT_COLUMN_COMP,t.DEFAULT_FILTER_COMP],defaultToolPanel:"columns"};if("string"==typeof e)return t.parse([e]);if(Array.isArray(e)){var i=[];if(e.forEach((function(e){var o=t.DEFAULT_BY_KEY[e];o?i.push(o):console.warn("AG Grid: the key "+e+" is not a valid key for specifying a tool panel, valid keys are: "+Object.keys(t.DEFAULT_BY_KEY).join(","))})),0===i.length)return;return{toolPanels:i,defaultToolPanel:i[0].id}}return{toolPanels:t.parseComponents(e.toolPanels),defaultToolPanel:e.defaultToolPanel,hiddenByDefault:e.hiddenByDefault,position:e.position}}},t.parseComponents=function(e){var i=[];return e?(e.forEach((function(e){var o=null;if("string"==typeof e){var n=t.DEFAULT_BY_KEY[e];if(!n)return void console.warn("AG Grid: the key "+e+" is not a valid key for specifying a tool panel, valid keys are: "+Object.keys(t.DEFAULT_BY_KEY).join(","));o=n}else o=e;i.push(o)})),i):i},t.DEFAULT_COLUMN_COMP={id:"columns",labelDefault:"Columns",labelKey:"columns",iconKey:"columns",toolPanel:"agColumnsToolPanel"},t.DEFAULT_FILTER_COMP={id:"filters",labelDefault:"Filters",labelKey:"filters",iconKey:"filter",toolPanel:"agFiltersToolPanel"},t.DEFAULT_BY_KEY={columns:t.DEFAULT_COLUMN_COMP,filters:t.DEFAULT_FILTER_COMP},t}(),__extends$2U=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$23=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},ToolPanelWrapper=function(t){function e(){return t.call(this,e.TEMPLATE)||this}return __extends$2U(e,t),e.prototype.setupResize=function(){var t=this.getGui(),e=this.resizeBar=this.createManagedBean(new HorizontalResizeComp);e.setElementToResize(t),this.appendChild(e)},e.prototype.getToolPanelId=function(){return this.toolPanelId},e.prototype.setToolPanelDef=function(t){var e=t.id,i=t.minWidth,o=t.maxWidth,n=t.width;this.toolPanelId=e,this.width=n;var r=this.userComponentFactory.getToolPanelCompDetails(t,{}).newAgStackInstance();null!=r?(r.then(this.setToolPanelComponent.bind(this)),null!=i&&this.resizeBar.setMinWidth(i),null!=o&&this.resizeBar.setMaxWidth(o)):console.warn("AG Grid: error processing tool panel component "+e+". You need to specify either 'toolPanel' or 'toolPanelFramework'")},e.prototype.setToolPanelComponent=function(t){var e=this;this.toolPanelCompInstance=t,this.appendChild(t.getGui()),this.addDestroyFunc((function(){e.destroyBean(t)})),this.width&&(this.getGui().style.width=this.width+"px")},e.prototype.getToolPanelInstance=function(){return this.toolPanelCompInstance},e.prototype.setResizerSizerSide=function(t){var e="left"===t,i=this.gridOptionsService.is("enableRtl")?e:!e;this.resizeBar.setInverted(i)},e.prototype.refresh=function(){this.toolPanelCompInstance.refresh()},e.TEMPLATE='<div class="ag-tool-panel-wrapper"/>',__decorate$23([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("userComponentFactory")],e.prototype,"userComponentFactory",void 0),__decorate$23([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"setupResize",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$2T=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$22=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},SideBarComp=function(t){function e(){var i=t.call(this,e.TEMPLATE)||this;return i.toolPanelWrappers=[],i}return __extends$2T(e,t),e.prototype.postConstruct=function(){var t=this;this.sideBarButtonsComp.addEventListener(SideBarButtonsComp.EVENT_SIDE_BAR_BUTTON_CLICKED,this.onToolPanelButtonClicked.bind(this)),this.setSideBarDef(),this.addManagedPropertyListener("sideBar",(function(){t.clearDownUi(),t.setSideBarDef()})),this.gridApi.registerSideBarComp(this),this.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.D_6(this.getFocusableElement(),{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this)}))},e.prototype.onTabKeyDown=function(t){if(!t.defaultPrevented){var e=this.focusService,i=this.sideBarButtonsComp,o=this.getGui(),n=i.getGui(),r=this.gridOptionsService.getDocument().activeElement,s=o.querySelector(".ag-tool-panel-wrapper:not(.ag-hidden)"),a=t.target;if(s)if(n.contains(r))e.focusInto(s,t.shiftKey)&&t.preventDefault();else if(t.shiftKey){var l=null;s.contains(r)?l=this.focusService.findNextFocusableElement(s,void 0,!0):e.isTargetUnderManagedComponent(s,a)&&t.shiftKey&&(l=this.focusService.findFocusableElementBeforeTabGuard(s,a)),l||(l=n.querySelector(".ag-selected button")),l&&(t.preventDefault(),l.focus())}}},e.prototype.handleKeyDown=function(t){var e=this.gridOptionsService.getDocument();if(this.sideBarButtonsComp.getGui().contains(e.activeElement)){var i=this.sideBarButtonsComp.getGui(),o=Array.prototype.slice.call(i.querySelectorAll(".ag-side-button")),n=e.activeElement,r=o.findIndex((function(t){return t.contains(n)})),s=null;switch(t.key){case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.LEFT:case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.UP:s=Math.max(0,r-1);break;case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.RIGHT:case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.DOWN:s=Math.min(r+1,o.length-1)}if(null!==s){var a=o[s].querySelector("button");a&&(a.focus(),t.preventDefault())}}},e.prototype.onToolPanelButtonClicked=function(t){var e=t.toolPanelId;this.openedItem()===e?this.openToolPanel(void 0,"sideBarButtonClicked"):this.openToolPanel(e,"sideBarButtonClicked")},e.prototype.clearDownUi=function(){this.sideBarButtonsComp.clearButtons(),this.destroyToolPanelWrappers()},e.prototype.setSideBarDef=function(){this.setDisplayed(!1);var t=this.gridOptionsService.get("sideBar");if(this.sideBar=SideBarDefParser.parse(t),this.sideBar&&this.sideBar.toolPanels){var e=!this.sideBar.hiddenByDefault;this.setDisplayed(e);var i=this.sideBar.toolPanels;this.sideBarButtonsComp.setToolPanelDefs(i),this.setupToolPanels(i),this.setSideBarPosition(this.sideBar.position),this.sideBar.hiddenByDefault||this.openToolPanel(this.sideBar.defaultToolPanel,"sideBarInitializing")}},e.prototype.getDef=function(){return this.sideBar},e.prototype.setSideBarPosition=function(t){t||(t="right");var e="left"===t,i=e?"right":"left";return this.addOrRemoveCssClass("ag-side-bar-left",e),this.addOrRemoveCssClass("ag-side-bar-right",!e),this.toolPanelWrappers.forEach((function(t){t.setResizerSizerSide(i)})),this},e.prototype.setupToolPanels=function(t){var e=this;t.forEach((function(t){if(null!=t.id){if("agColumnsToolPanel"===t.toolPanel)if(!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.assertRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.ColumnsToolPanelModule,"Column Tool Panel"))return;if("agFiltersToolPanel"===t.toolPanel)if(!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.assertRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.FiltersToolPanelModule,"Filters Tool Panel"))return;var i=new ToolPanelWrapper;e.getContext().createBean(i),i.setToolPanelDef(t),i.setDisplayed(!1),e.getGui().appendChild(i.getGui()),e.toolPanelWrappers.push(i)}else console.warn("AG Grid: please review all your toolPanel components, it seems like at least one of them doesn't have an id")}))},e.prototype.refresh=function(){this.toolPanelWrappers.forEach((function(t){return t.refresh()}))},e.prototype.openToolPanel=function(t,e){void 0===e&&(e="api");var i=this.openedItem();i!==t&&(this.toolPanelWrappers.forEach((function(e){var i=t===e.getToolPanelId();e.setDisplayed(i)})),i!==this.openedItem()&&(this.sideBarButtonsComp.setActiveButton(t),this.raiseToolPanelVisibleEvent(t,null!=i?i:void 0,e)))},e.prototype.getToolPanelInstance=function(t){var e=this.toolPanelWrappers.filter((function(e){return e.getToolPanelId()===t}))[0];if(e)return e.getToolPanelInstance();console.warn("AG Grid: unable to lookup Tool Panel as invalid key supplied: "+t)},e.prototype.raiseToolPanelVisibleEvent=function(t,e,i){var o={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_TOOL_PANEL_VISIBLE_CHANGED,source:t};if(this.eventService.dispatchEvent(o),e){var n={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_INTERNAL_TOOL_PANEL_VISIBLE_CHANGED,source:i,key:e,visible:!1};this.eventService.dispatchEvent(n)}if(t){var r={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_INTERNAL_TOOL_PANEL_VISIBLE_CHANGED,source:i,key:t,visible:!0};this.eventService.dispatchEvent(r)}},e.prototype.close=function(t){void 0===t&&(t="api"),this.openToolPanel(void 0,t)},e.prototype.isToolPanelShowing=function(){return!!this.openedItem()},e.prototype.openedItem=function(){var t=null;return this.toolPanelWrappers.forEach((function(e){e.isDisplayed()&&(t=e.getToolPanelId())})),t},e.prototype.destroyToolPanelWrappers=function(){var t=this;this.toolPanelWrappers.forEach((function(e){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromParent(e.getGui()),t.destroyBean(e)})),this.toolPanelWrappers.length=0},e.prototype.destroy=function(){this.destroyToolPanelWrappers(),t.prototype.destroy.call(this)},e.TEMPLATE='<div class="ag-side-bar ag-unselectable">\n            <ag-side-bar-buttons ref="sideBarButtons"></ag-side-bar-buttons>\n        </div>',__decorate$22([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],e.prototype,"gridApi",void 0),__decorate$22([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("focusService")],e.prototype,"focusService",void 0),__decorate$22([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("sideBarButtons")],e.prototype,"sideBarButtonsComp",void 0),__decorate$22([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$2S=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$21=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},ToolPanelColDefService=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isColGroupDef=function(t){return t&&void 0!==t.children},e.getId=function(t){return e.isColGroupDef(t)?t.groupId:t.colId},e}return __extends$2S(e,t),e.prototype.createColumnTree=function(t){var e=this,i=[],o=function(t,n){if(e.isColGroupDef(t)){var r=t,s=void 0!==r.groupId?r.groupId:r.headerName,a=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KTm(r,s,!1,n),l=[];return r.children.forEach((function(t){var e=o(t,n+1);e&&l.push(e)})),a.setChildren(l),a}var c=t,u=c.colId?c.colId:c.field,h=e.columnModel.getPrimaryColumn(u);return h||i.push(c),h},n=[];return t.forEach((function(t){var e=o(t,0);e&&n.push(e)})),i.length>0&&console.warn("AG Grid: unable to find grid columns for the supplied colDef(s):",i),n},e.prototype.syncLayoutWithGrid=function(t){var e=this.getLeafPathTrees();t(this.mergeLeafPathTrees(e))},e.prototype.getLeafPathTrees=function(){var t=function(e,i){var o;if(e instanceof ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KTm)if(e.isPadding())o=i;else{var n=Object.assign({},e.getColGroupDef());n.groupId=e.getGroupId(),n.children=[i],o=n}else{var r=Object.assign({},e.getColDef());r.colId=e.getColId(),o=r}var s=e.getOriginalParent();return s?t(s,o):o},e=this.columnModel.getAllGridColumns().filter((function(t){var e=t.getColDef();return t.isPrimary()&&!e.showRowGroup}));return e.map((function(e){return t(e,e.getColDef())}))},e.prototype.mergeLeafPathTrees=function(t){for(var e,i,o=this,n=function(t,e){if(!o.isColGroupDef(e))return t;var i=t,r=e;if(r.children&&r.groupId&&o.addChildrenToGroup(i,r.groupId,r.children[0]))return i;return r.children.forEach((function(t){return n(i,t)})),i},r=[],s=1;s<=t.length;s++){var a=t[s-1],l=t[s];e=a,i=l,o.isColGroupDef(e)&&o.isColGroupDef(i)&&o.getId(e)===o.getId(i)?t[s]=n(a,l):r.push(a)}return r},e.prototype.addChildrenToGroup=function(t,e,i){var o=this;if(!this.isColGroupDef(t))return!0;var n=t,r=i;if(function(t,e){var i=t.children.map(o.getId),n=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(i,o.getId(e)),r=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(t.children),s=r&&o.getId(r)!==o.getId(e);return n&&s}(n,r))return n.children.push(r),!0;if(n.groupId===e){var s=n.children.map(this.getId);if(!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(s,this.getId(r)))return n.children.push(r),!0}return n.children.forEach((function(t){return o.addChildrenToGroup(t,e,i)})),!1},__decorate$21([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),e=__decorate$21([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("toolPanelColDefService")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),VERSION$f="29.3.4",SideBarModule={version:VERSION$f,moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.SideBarModule,beans:[ToolPanelColDefService],agStackComponents:[{componentName:"AgHorizontalResize",componentClass:HorizontalResizeComp},{componentName:"AgSideBar",componentClass:SideBarComp},{componentName:"AgSideBarButtons",componentClass:SideBarButtonsComp}],dependantModules:[EnterpriseCoreModule]},__decorate$20=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},ModelItemUtils=function(){function t(){}return t.prototype.selectAllChildren=function(t,e,i){var o=this.extractAllLeafColumns(t);this.setAllColumns(o,e,i)},t.prototype.setColumn=function(t,e,i){this.setAllColumns([t],e,i)},t.prototype.setAllColumns=function(t,e,i){this.columnModel.isPivotMode()?this.setAllPivot(t,e,i):this.setAllVisible(t,e,i)},t.prototype.extractAllLeafColumns=function(t){var e=[],i=function(t){t.forEach((function(t){t.isPassesFilter()&&(t.isGroup()?i(t.getChildren()):e.push(t.getColumn()))}))};return i(t),e},t.prototype.setAllVisible=function(t,e,i){var o=[];t.forEach((function(t){t.getColDef().lockVisible||t.isVisible()!=e&&o.push({colId:t.getId(),hide:!e})})),o.length>0&&this.columnModel.applyColumnState({state:o},i)},t.prototype.setAllPivot=function(t,e,i){this.gridOptionsService.is("functionsPassive")?this.setAllPivotPassive(t,e):this.setAllPivotActive(t,e,i)},t.prototype.setAllPivotPassive=function(t,e){var i=this.columnModel.getPivotColumns().slice(),o=this.columnModel.getValueColumns().slice(),n=this.columnModel.getRowGroupColumns().slice(),r=!1,s=!1,a=!1,l=e?function(t){t.isAnyFunctionActive()||(t.isAllowValue()?(o.push(t),s=!0):t.isAllowRowGroup()?(n.push(t),r=!0):t.isAllowPivot()&&(i.push(t),a=!0))}:function(t){t.isAnyFunctionActive()&&(i.indexOf(t)>=0&&(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromArray(i,t),r=!0),o.indexOf(t)>=0&&(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromArray(o,t),s=!0),n.indexOf(t)>=0&&(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromArray(n,t),a=!0))};if(t.forEach(l),r){var c={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PIVOT_CHANGE_REQUEST,columns:i};this.eventService.dispatchEvent(c)}if(a){var u={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST,columns:n};this.eventService.dispatchEvent(u)}if(s){var h={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_VALUE_CHANGE_REQUEST,columns:n};this.eventService.dispatchEvent(h)}},t.prototype.setAllPivotActive=function(t,e,i){var o=this,n=[],r=e?function(t){if(!t.isAnyFunctionActive())if(t.isAllowValue()){var e="string"==typeof t.getAggFunc()?t.getAggFunc():o.aggFuncService.getDefaultAggFunc(t);n.push({colId:t.getId(),aggFunc:e})}else t.isAllowRowGroup()?n.push({colId:t.getId(),rowGroup:!0}):t.isAllowPivot()&&n.push({colId:t.getId(),pivot:!0})}:function(t){(t.isPivotActive()||t.isRowGroupActive()||t.isValueActive())&&n.push({colId:t.getId(),pivot:!1,rowGroup:!1,aggFunc:null})};t.forEach(r),n.length>0&&this.columnModel.applyColumnState({state:n},i)},__decorate$20([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("aggFuncService")],t.prototype,"aggFuncService",void 0),__decorate$20([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],t.prototype,"columnModel",void 0),__decorate$20([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridOptionsService")],t.prototype,"gridOptionsService",void 0),__decorate$20([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("eventService")],t.prototype,"eventService",void 0),t=__decorate$20([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("modelItemUtils")],t)}(),VERSION$e="29.3.4",ColumnsToolPanelModule={version:VERSION$e,moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.ColumnsToolPanelModule,beans:[ModelItemUtils],agStackComponents:[{componentName:"AgPrimaryColsHeader",componentClass:PrimaryColsHeaderPanel},{componentName:"AgPrimaryColsList",componentClass:PrimaryColsListPanel},{componentName:"AgPrimaryCols",componentClass:PrimaryColsPanel}],userComponents:[{componentName:"agColumnsToolPanel",componentClass:ColumnToolPanel}],dependantModules:[EnterpriseCoreModule,RowGroupingModule,SideBarModule]},workbook={getTemplate:function(){return{name:"Workbook",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",html:"http://www.w3.org/TR/REC-html40"}}],rawMap:{xmlns:"urn:schemas-microsoft-com:office:spreadsheet"}}}}},excelWorkbook={getTemplate:function(){return{name:"ExcelWorkbook",properties:{rawMap:{xmlns:"urn:schemas-microsoft-com:office:excel"}},children:[{name:"WindowHeight",textNode:"8130"},{name:"WindowWidth",textNode:"15135"},{name:"WindowHeight",textNode:"8130"},{name:"WindowTopX",textNode:"120"},{name:"WindowTopY",textNode:"45"},{name:"ProtectStructure",textNode:"False"},{name:"ProtectWindow",textNode:"False"}]}}},column={getTemplate:function(t){return{name:"Column",properties:{prefixedAttributes:[{prefix:"ss:",map:{Width:t.width}}]}}}},cell={getTemplate:function(t){var e=t.mergeAcross,i=t.styleId,o=t.data,n={};return e&&(n.MergeAcross=e),i&&(n.StyleID=i),{name:"Cell",properties:{prefixedAttributes:[{prefix:"ss:",map:n}]},children:[{name:"Data",properties:{prefixedAttributes:[{prefix:"ss:",map:{Type:null==o?void 0:o.type}}]},textNode:null==o?void 0:o.value}]}}},row={getTemplate:function(t){return{name:"Row",children:t.cells.map((function(t){return cell.getTemplate(t)}))}}},worksheet={getTemplate:function(t){var e=t.table,i=t.name,o=e.columns,n=e.rows,r=o.map((function(t){return column.getTemplate(t)})),s=n.map((function(t){return row.getTemplate(t)}));return{name:"Worksheet",children:[{name:"Table",children:r.concat(s)}],properties:{prefixedAttributes:[{prefix:"ss:",map:{Name:i}}]}}}},documentProperties={getTemplate:function(){return{name:"DocumentProperties",properties:{rawMap:{xmlns:"urn:schemas-microsoft-com:office:office"}},children:[{name:"Version",textNode:"12.00"}]}}},alignment={getTemplate:function(t){var e=t.alignment;return{name:"Alignment",properties:{prefixedAttributes:[{prefix:"ss:",map:{Vertical:e.vertical,Horizontal:e.horizontal,Indent:e.indent,ReadingOrder:e.readingOrder,Rotate:e.rotate,ShrinkToFit:e.shrinkToFit,VerticalText:e.verticalText,WrapText:e.wrapText}}]}}}},borders={getTemplate:function(t){var e=t.borders;return{name:"Borders",children:[e.borderBottom,e.borderLeft,e.borderRight,e.borderTop].map((function(t,e){return{name:"Border",properties:{prefixedAttributes:[{prefix:"ss:",map:{Position:0==e?"Bottom":1==e?"Left":2==e?"Right":"Top",LineStyle:t.lineStyle,Weight:t.weight,Color:t.color}}]}}}))}}},font={getTemplate:function(t){var e=t.font;return{name:"Font",properties:{prefixedAttributes:[{prefix:"ss:",map:{Bold:e.bold,FontName:e.fontName,Italic:e.italic,Color:e.color,Outline:e.outline,Shadow:e.shadow,Size:e.size,StrikeThrough:e.strikeThrough,Underline:e.underline,VerticalAlign:e.verticalAlign}},{prefix:"x:",map:{CharSet:e.charSet,Family:e.family}}]}}}},interior={getTemplate:function(t){var e=t.interior;return{name:"Interior",properties:{prefixedAttributes:[{prefix:"ss:",map:{Color:e.color,Pattern:e.pattern,PatternColor:e.patternColor}}]}}}},protection={getTemplate:function(t){return{name:"Protection",properties:{prefixedAttributes:[{prefix:"ss:",map:{Protected:t.protection.protected,HideFormula:t.protection.hideFormula}}]}}}},numberFormat={getTemplate:function(t){return{name:"NumberFormat",properties:{prefixedAttributes:[{prefix:"ss:",map:{Format:t.numberFormat.format}}]}}}},style={getTemplate:function(t){var e=t.id,i=t.name;return{name:"Style",properties:{prefixedAttributes:[{prefix:"ss:",map:{ID:e,Name:i||e}}]}}}},ExcelXmlFactory=function(){function t(){}return t.createExcel=function(t,e){var i=this.excelXmlHeader(),o=documentProperties.getTemplate(),n=excelWorkbook.getTemplate(),r=this.workbook(o,n,t,e);return""+i+ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.IUB.createXml(r,(function(t){return t?"1":"0"}))},t.workbook=function(t,e,i,o){var n=[t,e,this.stylesXmlElement(i)].concat(worksheet.getTemplate(o));return Object.assign({},workbook.getTemplate(),{children:n})},t.excelXmlHeader=function(){return'<?xml version="1.0" ?>\n        <?mso-application progid="Excel.Sheet" ?>\n        '},t.stylesXmlElement=function(t){var e=this;return{name:"Styles",children:t?t.map((function(t){return e.styleXmlElement(t)})):[]}},t.styleXmlElement=function(t){var e=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.compose(this.addProperty("alignment",t),this.addProperty("borders",t),this.addProperty("font",t),this.addProperty("interior",t),this.addProperty("protection",t),this.addProperty("numberFormat",t))([]);return Object.assign({},style.getTemplate(t),{children:e})},t.addProperty=function(t,e){return function(i){if(!e[t])return i;var o={alignment,borders,font,interior,numberFormat,protection};return i.concat(o[t].getTemplate(e))}},t.factoryMode=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.nPL.SINGLE_SHEET,t}(),INCH_TO_EMU=9525,numberFormatMap={0:1,"0.00":2,"#,##0":3,"#,##0.00":4,"0%":9,"0.00%":10,"0.00E+00":11,"# ?/?":12,"# ??/??":13,"mm-dd-yy":14,"d-mmm-yy":15,"d-mmm":16,"mmm-yy":17,"h:mm AM/PM":18,"h:mm:ss AM/PM":19,"h:mm":20,"h:mm:ss":21,"m/d/yy h:mm":22,"#,##0 ;(#,##0)":37,"#,##0 ;[Red](#,##0)":38,"#,##0.00;(#,##0.00)":39,"#,##0.00;[Red](#,##0.00)":40,"mm:ss":45,"[h]:mm:ss":46,"mmss.0":47,"##0.0E+0":48,"@":49},pixelsToPoint=function(t){return Math.round(72*t/96)},pointsToPixel=function(t){return Math.round(96*t/72)},pixelsToEMU=function(t){return Math.ceil(t*INCH_TO_EMU)},getFontFamilyId=function(t){if(void 0!==t){var e=["Automatic","Roman","Swiss","Modern","Script","Decorative"].indexOf(t||"Automatic");return Math.max(e,0)}},getHeightFromProperty=function(t,e){if(e){var i;if("number"==typeof e)i=e;else i=e({rowIndex:t});return pixelsToPoint(i)}},setExcelImageTotalWidth=function(t,e){var i=t.position,o=i.colSpan,n=i.column;if(t.width)if(o)for(var r=e.slice(n-1,n+o-1),s=0,a=0;a<r.length;a++){var l=r[a].getActualWidth();if(t.width<s+l){t.position.colSpan=a+1,t.totalWidth=t.width,t.width=t.totalWidth-s;break}s+=l}else t.totalWidth=t.width},setExcelImageTotalHeight=function(t,e){var i=t.position,o=i.rowSpan,n=i.row;if(t.height)if(o)for(var r=0,s=0,a=n;a<n+o;a++){var l=pointsToPixel(getHeightFromProperty(a,e)||20);if(t.height<r+l){t.position.rowSpan=s+1,t.totalHeight=t.height,t.height=t.totalHeight-r;break}r+=l,s++}else t.totalHeight=t.height},createXmlPart=function(t){return""+ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.IUB.createHeader({encoding:"UTF-8",standalone:"yes"})+ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.IUB.createXml(t)},getExcelColumnName=function(t){var e=String.fromCharCode,i=Math.floor(t/26),o=t%26;return i&&26!==t?o?i<26?e(65+i-1)+e(65+o-1):getExcelColumnName(i)+e(65+o-1):getExcelColumnName(i-1)+"Z":e(65+t-1)},__extends$2R=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__assign$M=function(){return __assign$M=Object.assign||function(t){for(var e,i=1,o=arguments.length;i<o;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},__assign$M.apply(this,arguments)},__read$17=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,n,r=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return s},__spread$F=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$17(arguments[e]));return t},BaseExcelSerializingSession=function(t){function e(e){var i=t.call(this,e)||this;return i.mixedStyles={},i.mixedStyleCounter=0,i.rows=[],i.config=Object.assign({},e),i.stylesByIds={},i.config.baseExcelStyles.forEach((function(t){i.stylesByIds[t.id]=t})),i.excelStyles=__spread$F(i.config.baseExcelStyles),i}return __extends$2R(e,t),e.prototype.addCustomContent=function(t){var e=this;t.forEach((function(t){var i=e.rows.length+1,o={height:getHeightFromProperty(i,t.height||e.config.rowHeight),cells:(t.cells||[]).map((function(t,o){var n,r,s,a=e.addImage(i,e.columnsToExport[o],null===(n=t.data)||void 0===n?void 0:n.value),l=null;t.styleId&&(l="string"==typeof t.styleId?[t.styleId]:t.styleId);var c=e.getStyleId(l);if(a)return e.createCell(c,e.getDataTypeForValue(a.value),null==a.value?"":a.value);var u=null!==(s=null===(r=t.data)||void 0===r?void 0:r.value)&&void 0!==s?s:"",h=e.getDataTypeForValue(u);return t.mergeAcross?e.createMergedCell(c,h,u,t.mergeAcross):e.createCell(c,h,u)})),outlineLevel:t.outlineLevel||void 0};null!=t.collapsed&&(o.collapsed=t.collapsed),null!=t.hidden&&(o.hidden=t.hidden),e.rows.push(o)}))},e.prototype.onNewHeaderGroupingRow=function(){var t=this,e=[];return this.rows.push({cells:e,height:getHeightFromProperty(this.rows.length+1,this.config.headerRowHeight)}),{onColumn:function(i,o,n,r,s){var a=t.config.styleLinker({rowType:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.aCu.HEADER_GROUPING,rowIndex:1,value:"grouping-"+o,columnGroup:i});e.push(__assign$M(__assign$M({},t.createMergedCell(t.getStyleId(a),t.getDataTypeForValue("string"),o,r)),{collapsibleRanges:s}))}}},e.prototype.onNewHeaderRow=function(){return this.onNewRow(this.onNewHeaderColumn,this.config.headerRowHeight)},e.prototype.onNewBodyRow=function(){return this.onNewRow(this.onNewBodyColumn,this.config.rowHeight)},e.prototype.prepare=function(e){var i=this;t.prototype.prepare.call(this,e),this.columnsToExport=__spread$F(e),this.cols=e.map((function(t,e){return i.convertColumnToExcel(t,e)}))},e.prototype.parse=function(){for(var t=this.rows.reduce((function(t,e){return Math.max(t,e.cells.length)}),0);this.cols.length<t;)this.cols.push(this.convertColumnToExcel(null,this.cols.length+1));var e={name:this.config.sheetName,table:{columns:this.cols,rows:this.rows}};return this.createExcel(e)},e.prototype.isFormula=function(t){return null!=t&&(this.config.autoConvertFormulas&&t.toString().startsWith("="))},e.prototype.isNumerical=function(t){return isFinite(t)&&""!==t&&!isNaN(parseFloat(t))},e.prototype.getStyleById=function(t){return null==t?null:this.stylesByIds[t]||null},e.prototype.convertColumnToExcel=function(t,e){var i=this.config.columnWidth;if(i)return"number"==typeof i?{width:i}:{width:i({column:t,index:e})};if(t){return{width:Math.max(t.getActualWidth(),75)}}return{}},e.prototype.onNewHeaderColumn=function(t,e){var i=this;return function(o,n){var r=i.extractHeaderValue(o),s=i.config.styleLinker({rowType:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.aCu.HEADER,rowIndex:t,value:r,column:o});e.push(i.createCell(i.getStyleId(s),i.getDataTypeForValue("string"),r))}},e.prototype.onNewRow=function(t,e){var i=[];return this.rows.push({cells:i,height:getHeightFromProperty(this.rows.length+1,e)}),{onColumn:t.bind(this,this.rows.length,i)()}},e.prototype.onNewBodyColumn=function(t,e){var i=this,o=0;return function(n,r,s){if(o>0)o-=1;else{if(!i.config.gridOptionsService.is("groupHideOpenParents")&&null!=s.level){var a=s.footer?1:0;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(i.rows).outlineLevel=s.level+a}var l=i.extractRowCellValue(n,r,t,"excel",s),c=i.config.styleLinker({rowType:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.aCu.BODY,rowIndex:t,value:l,column:n,node:s}),u=i.getStyleId(c),h=n.getColSpan(s),d=i.addImage(t,n,l);d?e.push(i.createCell(u,i.getDataTypeForValue(d.value),null==d.value?"":d.value)):h>1?(o=h-1,e.push(i.createMergedCell(u,i.getDataTypeForValue(l),l,h-1))):e.push(i.createCell(u,i.getDataTypeForValue(l),l))}}},e.prototype.getStyleId=function(t){if(!t||!t.length)return null;if(1===t.length)return t[0];var e=t.join("-");return this.mixedStyles[e]||this.addNewMixedStyle(t),this.mixedStyles[e].excelID},e.prototype.addNewMixedStyle=function(t){var e=this;this.mixedStyleCounter+=1;var i="mixedStyle"+this.mixedStyleCounter,o={};t.forEach((function(t){e.excelStyles.forEach((function(e){e.id===t&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.mergeDeep(o,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.deepCloneObject(e))}))})),o.id=i,o.name=i;var n=t.join("-");this.mixedStyles[n]={excelID:i,key:n,result:o},this.excelStyles.push(o),this.stylesByIds[i]=o},e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.WKU),__extends$2Q=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),ExcelXmlSerializingSession=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$2Q(e,t),e.prototype.createExcel=function(t){return ExcelXmlFactory.createExcel(this.excelStyles,t)},e.prototype.getDataTypeForValue=function(t){return this.isNumerical(t)?"Number":"String"},e.prototype.getType=function(t,e,i){if(this.isFormula(i))return"Formula";if(e&&e.dataType)switch(e.dataType.toLocaleLowerCase()){case"string":return"Formula";case"number":return"Number";case"datetime":return"DateTime";case"error":return"Error";case"boolean":return"Boolean";default:console.warn("AG Grid: Unrecognized data type for excel export ["+e.id+".dataType="+e.dataType+"]")}return t},e.prototype.addImage=function(){},e.prototype.createCell=function(t,e,i){var o=this.getStyleById(t),n=this.getType(e,o,i)||e;return{styleId:o?t:void 0,data:{type:n,value:this.getValueTransformed(n,i)}}},e.prototype.getValueTransformed=function(t,e){var i,o=this;switch(t){case"String":return function(t){if(o.config.suppressTextAsCDATA)return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.escapeString(t);var e="<![CDATA[",i="]]>",n=new RegExp(i,"g");return e+String(t).replace(n,"]]"+i+e+">")+i}(e);case"Number":return Number(e).valueOf()+"";case"Boolean":return(i=e)&&"0"!==i&&"false"!==i?"1":"0";default:return e}},e.prototype.createMergedCell=function(t,e,i,o){return{styleId:this.getStyleById(t)?t:void 0,data:{type:e,value:i},mergeAcross:o}},e}(BaseExcelSerializingSession),coreFactory={getTemplate:function(t){var e=(new Date).toJSON();return{name:"cp:coreProperties",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{cp:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",xsi:"http://www.w3.org/2001/XMLSchema-instance"}}]},children:[{name:"dc:creator",textNode:t},{name:"dc:title",textNode:"Workbook"},{name:"dcterms:created",properties:{rawMap:{"xsi:type":"dcterms:W3CDTF"}},textNode:e},{name:"dcterms:modified",properties:{rawMap:{"xsi:type":"dcterms:W3CDTF"}},textNode:e}]}}},contentTypeFactory={getTemplate:function(t){var e=t.name,i=t.ContentType;return{name:e,properties:{rawMap:{Extension:t.Extension,PartName:t.PartName,ContentType:i}}}}},__read$16=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,n,r=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return s},__spread$E=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$16(arguments[e]));return t},contentTypesFactory={getTemplate:function(t){var e=new Array(t).fill(void 0).map((function(t,e){return{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",PartName:"/xl/worksheets/sheet"+(e+1)+".xml"}})),i=ExcelXlsxFactory.worksheetImages.size,o={};ExcelXlsxFactory.workbookImageIds.forEach((function(t){o[t.type]=!0}));var n=new Array(i).fill(void 0).map((function(t,e){return{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.drawing+xml",PartName:"/xl/drawings/drawing"+(e+1)+".xml"}})),r=Object.keys(o).map((function(t){return{name:"Default",ContentType:"image/"+t,Extension:t}}));return{name:"Types",properties:{rawMap:{xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"}},children:__spread$E(r,[{name:"Default",Extension:"rels",ContentType:"application/vnd.openxmlformats-package.relationships+xml"},{name:"Default",ContentType:"application/xml",Extension:"xml"},{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",PartName:"/xl/workbook.xml"}],e,[{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.theme+xml",PartName:"/xl/theme/theme1.xml"},{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",PartName:"/xl/styles.xml"},{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",PartName:"/xl/sharedStrings.xml"}],n,[{name:"Override",ContentType:"application/vnd.openxmlformats-package.core-properties+xml",PartName:"/docProps/core.xml"}]).map((function(t){return contentTypeFactory.getTemplate(t)}))}}},getAnchor=function(t,e){return{name:"xdr:"+t,children:[{name:"xdr:col",textNode:e.col.toString()},{name:"xdr:colOff",textNode:e.offsetX.toString()},{name:"xdr:row",textNode:e.row.toString()},{name:"xdr:rowOff",textNode:e.offsetY.toString()}]}},getExt=function(t){var e=[{name:"a:ext",properties:{rawMap:{uri:"{FF2B5EF4-FFF2-40B4-BE49-F238E27FC236}"}},children:[{name:"a16:creationId",properties:{rawMap:{id:"{822E6D20-D7BC-2841-A643-D49A6EF008A2}","xmlns:a16":"http://schemas.microsoft.com/office/drawing/2014/main"}}}]}];switch(t.recolor&&t.recolor.toLowerCase()){case"grayscale":case"sepia":case"washout":e.push({name:"a:ext",properties:{rawMap:{uri:"{C183D7F6-B498-43B3-948B-1728B52AA6E4}"}},children:[{name:"adec:decorative",properties:{rawMap:{val:"0","xmlns:adec":"http://schemas.microsoft.com/office/drawing/2017/decorative"}}}]})}return{name:"a:extLst",children:e}},getNvPicPr=function(t,e){return{name:"xdr:nvPicPr",children:[{name:"xdr:cNvPr",properties:{rawMap:{id:e,name:t.id,descr:null!=t.altText?t.altText:void 0}},children:[getExt(t)]},{name:"xdr:cNvPicPr",properties:{rawMap:{preferRelativeResize:"0"}},children:[{name:"a:picLocks"}]}]}},getColorDetails=function(t){if(t.saturation||t.tint){var e=[];return t.saturation&&e.push({name:"a:satMod",properties:{rawMap:{val:1e3*t.saturation}}}),t.tint&&e.push({name:"a:tint",properties:{rawMap:{val:1e3*t.tint}}}),e}},getDuoTone=function(t,e){return{name:"a:duotone",children:[{name:"a:prstClr",properties:{rawMap:{val:t.color}},children:getColorDetails(t)},{name:"a:srgbClr",properties:{rawMap:{val:e.color}},children:getColorDetails(e)}]}},getBlipFill=function(t,e){var i;if(t.transparency){var o=Math.min(Math.max(t.transparency,0),100);i=[{name:"a:alphaModFix",properties:{rawMap:{amt:1e5-Math.round(1e3*o)}}}]}if(t.recolor)switch(i||(i=[]),t.recolor.toLocaleLowerCase()){case"grayscale":i.push({name:"a:grayscl"});break;case"sepia":i.push(getDuoTone({color:"black"},{color:"D9C3A5",tint:50,saturation:180}));break;case"washout":i.push({name:"a:lum",properties:{rawMap:{bright:"70000",contrast:"-70000"}}})}return{name:"xdr:blipFill",children:[{name:"a:blip",properties:{rawMap:{cstate:"print","r:embed":"rId"+e,"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships"}},children:i},{name:"a:stretch",children:[{name:"a:fillRect"}]}]}},getSpPr=function(t,e){var i={name:"a:xfrm",children:[{name:"a:off",properties:{rawMap:{x:0,y:0}}},{name:"a:ext",properties:{rawMap:{cx:e.width,cy:e.height}}}]};if(t.rotation){var o=t.rotation;i.properties={rawMap:{rot:6e4*Math.min(Math.max(o,0),360)}}}return{name:"xdr:spPr",children:[i,{name:"a:prstGeom",properties:{rawMap:{prst:"rect"}},children:[{name:"a:avLst"}]}]}},getImageBoxSize=function(t){t.fitCell=!!t.fitCell||!t.width||!t.height;var e=t.position,i=void 0===e?{}:e,o=t.fitCell,n=t.width,r=void 0===n?0:n,s=t.height,a=void 0===s?0:s,l=t.totalHeight,c=t.totalWidth,u=i.offsetX,h=void 0===u?0:u,d=i.offsetY,p=void 0===d?0:d,f=i.row,g=void 0===f?1:f,m=i.rowSpan,y=void 0===m?1:m,v=i.column,_=void 0===v?1:v,C=i.colSpan,b=void 0===C?1:C;return{from:{row:g-1,col:_-1,offsetX:pixelsToEMU(h),offsetY:pixelsToEMU(p)},to:{row:g-1+(o?1:y-1),col:_-1+(o?1:b-1),offsetX:pixelsToEMU(r+h),offsetY:pixelsToEMU(a+p)},height:pixelsToEMU(l||a),width:pixelsToEMU(c||r)}},getPicture=function(t,e,i,o){return{name:"xdr:pic",children:[getNvPicPr(t,e+1),getBlipFill(t,i+1),getSpPr(t,o)]}},drawingFactory={getTemplate:function(t){var e=t.sheetIndex,i=ExcelXlsxFactory.worksheetImages.get(e),o=ExcelXlsxFactory.worksheetImageIds.get(e);return{name:"xdr:wsDr",properties:{rawMap:{"xmlns:a":"http://schemas.openxmlformats.org/drawingml/2006/main","xmlns:xdr":"http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing"}},children:i.map((function(t,e){var i=getImageBoxSize(t);return{name:"xdr:twoCellAnchor",properties:{rawMap:{editAs:"absolute"}},children:[getAnchor("from",i.from),getAnchor("to",i.to),getPicture(t,e,o.get(t.id).index,i),{name:"xdr:clientData"}]}}))}}},__read$15=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,n,r=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return s},getColorChildren=function(t){var e=__read$15(t,4);return{name:"a:"+e[0],children:[{name:"a:"+e[1],properties:{rawMap:{val:e[2],lastClr:e[3]}}}]}},colorScheme={getTemplate:function(){return{name:"a:clrScheme",properties:{rawMap:{name:"Office"}},children:[getColorChildren(["dk1","sysClr","windowText","000000"]),getColorChildren(["lt1","sysClr","window","FFFFFF"]),getColorChildren(["dk2","srgbClr","44546A"]),getColorChildren(["lt2","srgbClr","E7E6E6"]),getColorChildren(["accent1","srgbClr","4472C4"]),getColorChildren(["accent2","srgbClr","ED7D31"]),getColorChildren(["accent3","srgbClr","A5A5A5"]),getColorChildren(["accent4","srgbClr","FFC000"]),getColorChildren(["accent5","srgbClr","5B9BD5"]),getColorChildren(["accent6","srgbClr","70AD47"]),getColorChildren(["hlink","srgbClr","0563C1"]),getColorChildren(["folHlink","srgbClr","954F72"])]}}},__read$14=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,n,r=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return s},getFont$1=function(t){var e=__read$14(t,4),i=e[0],o=e[1];return{name:"a:"+i,properties:{rawMap:{script:e[2],typeface:o,panose:e[3]}}}},fontScheme={getTemplate:function(){var t=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.utf8_encode;return{name:"a:fontScheme",properties:{rawMap:{name:"Office"}},children:[{name:"a:majorFont",children:[getFont$1(["latin","Calibri Light",void 0,"020F0302020204030204"]),getFont$1(["ea",""]),getFont$1(["cs",""]),getFont$1(["font",t("游ゴシック Light"),"Jpan"]),getFont$1(["font",t("맑은 고딕"),"Hang"]),getFont$1(["font",t("等线 Light"),"Hans"]),getFont$1(["font",t("新細明體"),"Hant"]),getFont$1(["font","Times New Roman","Arab"]),getFont$1(["font","Times New Roman","Hebr"]),getFont$1(["font","Tahoma","Thai"]),getFont$1(["font","Nyala","Ethi"]),getFont$1(["font","Vrinda","Beng"]),getFont$1(["font","Shruti","Gujr"]),getFont$1(["font","MoolBoran","Khmr"]),getFont$1(["font","Tunga","Knda"]),getFont$1(["font","Raavi","Guru"]),getFont$1(["font","Euphemia","Cans"]),getFont$1(["font","Plantagenet Cherokee","Cher"]),getFont$1(["font","Microsoft Yi Baiti","Yiii"]),getFont$1(["font","Microsoft Himalaya","Tibt"]),getFont$1(["font","MV Boli","Thaa"]),getFont$1(["font","Mangal","Deva"]),getFont$1(["font","Gautami","Telu"]),getFont$1(["font","Latha","Taml"]),getFont$1(["font","Estrangelo Edessa","Syrc"]),getFont$1(["font","Kalinga","Orya"]),getFont$1(["font","Kartika","Mlym"]),getFont$1(["font","DokChampa","Laoo"]),getFont$1(["font","Iskoola Pota","Sinh"]),getFont$1(["font","Mongolian Baiti","Mong"]),getFont$1(["font","Times New Roman","Viet"]),getFont$1(["font","Microsoft Uighur","Uigh"]),getFont$1(["font","Sylfaen","Geor"]),getFont$1(["font","Arial","Armn"]),getFont$1(["font","Leelawadee UI","Bugi"]),getFont$1(["font","Microsoft JhengHei","Bopo"]),getFont$1(["font","Javanese Text","Java"]),getFont$1(["font","Segoe UI","Lisu"]),getFont$1(["font","Myanmar Text","Mymr"]),getFont$1(["font","Ebrima","Nkoo"]),getFont$1(["font","Nirmala UI","Olck"]),getFont$1(["font","Ebrima","Osma"]),getFont$1(["font","Phagspa","Phag"]),getFont$1(["font","Estrangelo Edessa","Syrn"]),getFont$1(["font","Estrangelo Edessa","Syrj"]),getFont$1(["font","Estrangelo Edessa","Syre"]),getFont$1(["font","Nirmala UI","Sora"]),getFont$1(["font","Microsoft Tai Le","Tale"]),getFont$1(["font","Microsoft New Tai Lue","Talu"]),getFont$1(["font","Ebrima","Tfng"])]},{name:"a:minorFont",children:[getFont$1(["latin","Calibri",void 0,"020F0502020204030204"]),getFont$1(["ea",""]),getFont$1(["cs",""]),getFont$1(["font",t("游ゴシック"),"Jpan"]),getFont$1(["font",t("맑은 고딕"),"Hang"]),getFont$1(["font",t("等线"),"Hans"]),getFont$1(["font",t("新細明體"),"Hant"]),getFont$1(["font","Arial","Arab"]),getFont$1(["font","Arial","Hebr"]),getFont$1(["font","Tahoma","Thai"]),getFont$1(["font","Nyala","Ethi"]),getFont$1(["font","Vrinda","Beng"]),getFont$1(["font","Shruti","Gujr"]),getFont$1(["font","DaunPenh","Khmr"]),getFont$1(["font","Tunga","Knda"]),getFont$1(["font","Raavi","Guru"]),getFont$1(["font","Euphemia","Cans"]),getFont$1(["font","Plantagenet Cherokee","Cher"]),getFont$1(["font","Microsoft Yi Baiti","Yiii"]),getFont$1(["font","Microsoft Himalaya","Tibt"]),getFont$1(["font","MV Boli","Thaa"]),getFont$1(["font","Mangal","Deva"]),getFont$1(["font","Gautami","Telu"]),getFont$1(["font","Latha","Taml"]),getFont$1(["font","Estrangelo Edessa","Syrc"]),getFont$1(["font","Kalinga","Orya"]),getFont$1(["font","Kartika","Mlym"]),getFont$1(["font","DokChampa","Laoo"]),getFont$1(["font","Iskoola Pota","Sinh"]),getFont$1(["font","Mongolian Baiti","Mong"]),getFont$1(["font","Arial","Viet"]),getFont$1(["font","Microsoft Uighur","Uigh"]),getFont$1(["font","Sylfaen","Geor"]),getFont$1(["font","Arial","Armn"]),getFont$1(["font","Leelawadee UI","Bugi"]),getFont$1(["font","Microsoft JhengHei","Bopo"]),getFont$1(["font","Javanese Text","Java"]),getFont$1(["font","Segoe UI","Lisu"]),getFont$1(["font","Myanmar Text","Mymr"]),getFont$1(["font","Ebrima","Nkoo"]),getFont$1(["font","Nirmala UI","Olck"]),getFont$1(["font","Ebrima","Osma"]),getFont$1(["font","Phagspa","Phag"]),getFont$1(["font","Estrangelo Edessa","Syrn"]),getFont$1(["font","Estrangelo Edessa","Syrj"]),getFont$1(["font","Estrangelo Edessa","Syre"]),getFont$1(["font","Nirmala UI","Sora"]),getFont$1(["font","Microsoft Tai Le","Tale"]),getFont$1(["font","Microsoft New Tai Lue","Talu"]),getFont$1(["font","Ebrima","Tfng"])]}]}}},__read$13=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,n,r=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return s},getPropertyVal=function(t,e,i){return{name:"a:"+t,properties:{rawMap:{val:e}},children:i}},getGs=function(t){var e=__read$13(t,6),i=e[0],o=e[1],n=e[2],r=e[3],s=e[4],a=e[5],l=[];return l.push(getPropertyVal("satMod",n)),r&&l.push(getPropertyVal("lumMod",r)),s&&l.push(getPropertyVal("tint",s)),a&&l.push(getPropertyVal("shade",a)),{name:"a:gs",properties:{rawMap:{pos:i}},children:[{name:"a:schemeClr",properties:{rawMap:{val:o}},children:l}]}},getSolidFill=function(t,e){return{name:"a:solidFill",children:[getPropertyVal("schemeClr",t,e)]}},getGradFill=function(t){var e=__read$13(t,5),i=e[0],o=e[1],n=e[2],r=e[3],s=e[4],a=__read$13(s,2),l=a[0],c=a[1];return{name:"a:gradFill",properties:{rawMap:{rotWithShape:i}},children:[{name:"a:gsLst",children:[getGs(o),getGs(n),getGs(r)]},{name:"a:lin",properties:{rawMap:{ang:l,scaled:c}}}]}},getLine=function(t){var e=__read$13(t,4);return{name:"a:ln",properties:{rawMap:{w:e[0],cap:e[1],cmpd:e[2],algn:e[3]}},children:[getSolidFill("phClr"),getPropertyVal("prstDash","solid"),{name:"a:miter",properties:{rawMap:{lim:"800000"}}}]}},getEffectStyle=function(t){var e=[];if(t){var i=__read$13(t,5),o=i[0],n=i[1],r=i[2],s=i[3],a=i[4];e.push({name:"a:outerShdw",properties:{rawMap:{blurRad:o,dist:n,dir:r,algn:s,rotWithShape:a}},children:[getPropertyVal("srgbClr","000000",[getPropertyVal("alpha","63000")])]})}return{name:"a:effectStyle",children:[Object.assign({},{name:"a:effectLst"},e.length?{children:e}:{})]}},getFillStyleList=function(){return{name:"a:fillStyleLst",children:[getSolidFill("phClr"),getGradFill(["1",["0","phClr","105000","110000","67000"],["50000","phClr","103000","105000","73000"],["100000","phClr","109000","105000","81000"],["5400000","0"]]),getGradFill(["1",["0","phClr","103000","102000","94000"],["50000","phClr","110000","100000",void 0,"100000"],["100000","phClr","120000","99000",void 0,"78000"],["5400000","0"]])]}},getLineStyleList=function(){return{name:"a:lnStyleLst",children:[getLine(["6350","flat","sng","ctr"]),getLine(["12700","flat","sng","ctr"]),getLine(["19050","flat","sng","ctr"])]}},getEffectStyleList=function(){return{name:"a:effectStyleLst",children:[getEffectStyle(),getEffectStyle(),getEffectStyle(["57150","19050","5400000","ctr","0"])]}},getBgFillStyleList=function(){return{name:"a:bgFillStyleLst",children:[getSolidFill("phClr"),getSolidFill("phClr",[getPropertyVal("tint","95000"),getPropertyVal("satMod","170000")]),getGradFill(["1",["0","phClr","150000","102000","93000","98000"],["50000","phClr","130000","103000","98000","90000"],["100000","phClr","120000",void 0,void 0,"63000"],["5400000","0"]])]}},formatScheme={getTemplate:function(){return{name:"a:fmtScheme",properties:{rawMap:{name:"Office"}},children:[getFillStyleList(),getLineStyleList(),getEffectStyleList(),getBgFillStyleList()]}}},themeElements={getTemplate:function(){return{name:"a:themeElements",children:[colorScheme.getTemplate(),fontScheme.getTemplate(),formatScheme.getTemplate()]}}},officeTheme={getTemplate:function(){return{name:"a:theme",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{a:"http://schemas.openxmlformats.org/drawingml/2006/main"}}],rawMap:{name:"Office Theme"}},children:[themeElements.getTemplate(),{name:"a:objectDefaults"},{name:"a:extraClrSchemeLst"}]}}},buildSharedString=function(t){var e=[];return t.forEach((function(t,i){var o=i.toString(),n={name:"t",textNode:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.utf8_encode(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.escapeString(o))};o.trim().length!==o.length&&(n.properties={rawMap:{"xml:space":"preserve"}}),e.push({name:"si",children:[n]})})),e},sharedStrings={getTemplate:function(t){return{name:"sst",properties:{rawMap:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main",count:t.size,uniqueCount:t.size}},children:buildSharedString(t)}}},numberFormatFactory={getTemplate:function(t){return{name:"numFmt",properties:{rawMap:{formatCode:t.formatCode,numFmtId:t.numFmtId}}}}},numberFormatsFactory={getTemplate:function(t){return{name:"numFmts",properties:{rawMap:{count:t.length}},children:t.map((function(t){return numberFormatFactory.getTemplate(t)}))}}},fontFactory={getTemplate:function(t){var e=t.size,i=t.colorTheme,o=t.color,n=void 0===o?"FF000000":o,r=t.fontName,s=void 0===r?"Calibri":r,a=t.family,l=t.scheme,c=t.italic,u=t.bold,h=t.strikeThrough,d=t.outline,p=t.shadow,f=t.underline,g=t.verticalAlign,m=[{name:"sz",properties:{rawMap:{val:e}}},{name:"color",properties:{rawMap:{theme:i,rgb:n}}},{name:"name",properties:{rawMap:{val:s}}}];return a&&m.push({name:"family",properties:{rawMap:{val:a}}}),l&&m.push({name:"scheme",properties:{rawMap:{val:l}}}),c&&m.push({name:"i"}),u&&m.push({name:"b"}),h&&m.push({name:"strike"}),d&&m.push({name:"outline"}),p&&m.push({name:"shadow"}),f&&m.push({name:"u",properties:{rawMap:{val:f}}}),g&&m.push({name:"vertAlign",properties:{rawMap:{val:g}}}),{name:"font",children:m}}},fontsFactory={getTemplate:function(t){return{name:"fonts",properties:{rawMap:{count:t.length}},children:t.map((function(t){return fontFactory.getTemplate(t)}))}}},fillFactory={getTemplate:function(t){var e=t.patternType,i=t.fgTheme,o=t.fgTint,n=t.fgRgb,r=t.bgRgb,s=t.bgIndexed,a={name:"patternFill",properties:{rawMap:{patternType:e}}};return(i||o||n)&&(a.children=[{name:"fgColor",properties:{rawMap:{theme:i,tint:o,rgb:n}}}]),(s||r)&&(a.children||(a.children=[]),a.children.push({name:"bgColor",properties:{rawMap:{indexed:s,rgb:r}}})),{name:"fill",children:[a]}}},fillsFactory={getTemplate:function(t){return{name:"fills",properties:{rawMap:{count:t.length}},children:t.map((function(t){return fillFactory.getTemplate(t)}))}}},getWeightName=function(t){switch(t){case 1:return"thin";case 2:return"medium";case 3:return"thick";default:return"hair"}},mappedBorderNames={None:"None",Dot:"Dotted",Dash:"Dashed",Double:"Double",DashDot:"DashDot",DashDotDot:"DashDotDot",SlantDashDot:"SlantDashDot"},mediumBorders=["Dashed","DashDot","DashDotDot"],colorMap={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinDiagStripe:"lightUp",ThinHorzCross:"lightGrid",ThinDiagCross:"lightTrellis",Gray125:"gray125",Gray0625:"gray0625"},horizontalAlignmentMap={Automatic:"general",Left:"left",Center:"center",Right:"right",Fill:"fill",Justify:"justify",CenterAcrossSelection:"centerContinuous",Distributed:"distributed",JustifyDistributed:"justify"},verticalAlignmentMap={Automatic:void 0,Top:"top",Bottom:"bottom",Center:"center",Justify:"justify",Distributed:"distributed",JustifyDistributed:"justify"},convertLegacyPattern=function(t){return t?colorMap[t]||t:"none"},convertLegacyColor=function(t){return null==t?t:("#"===t.charAt(0)&&(t=t.substr(1)),6===t.length?"FF"+t:t)},convertLegacyBorder=function(t,e){if(!t)return"thin";var i=getWeightName(e),o=mappedBorderNames[t];return"Continuous"===t?i:"medium"===i&&-1!==mediumBorders.indexOf(o)?"medium"+o:o.charAt(0).toLowerCase()+o.substr(1)},convertLegacyHorizontalAlignment=function(t){return horizontalAlignmentMap[t]||"general"},convertLegacyVerticalAlignment=function(t){return verticalAlignmentMap[t]||void 0},getBorderColor=function(t){return{name:"color",properties:{rawMap:{rgb:convertLegacyColor(t||"#000000")}}}},borderFactory$1={getTemplate:function(t){var e=t.left,i=t.right,o=t.top,n=t.bottom,r=t.diagonal,s=e?[getBorderColor(e.color)]:void 0,a=i?[getBorderColor(i.color)]:void 0,l=o?[getBorderColor(o.color)]:void 0,c=n?[getBorderColor(n.color)]:void 0,u=r?[getBorderColor(r.color)]:void 0;return{name:"border",children:[{name:"left",properties:{rawMap:{style:e&&e.style}},children:s},{name:"right",properties:{rawMap:{style:i&&i.style}},children:a},{name:"top",properties:{rawMap:{style:o&&o.style}},children:l},{name:"bottom",properties:{rawMap:{style:n&&n.style}},children:c},{name:"diagonal",properties:{rawMap:{style:r&&r.style}},children:u}]}}},bordersFactory={getTemplate:function(t){return{name:"borders",properties:{rawMap:{count:t.length}},children:t.map((function(t){return borderFactory$1.getTemplate(t)}))}}},getReadingOrderId=function(t){var e=["Context","LeftToRight","RightToLeft"].indexOf(t);return Math.max(e,0)},alignmentFactory={getTemplate:function(t){var e=t.horizontal,i=t.indent,o=t.readingOrder,n=t.rotate,r=t.shrinkToFit,s=t.vertical,a=t.wrapText;return{name:"alignment",properties:{rawMap:{horizontal:e&&convertLegacyHorizontalAlignment(e),indent:i,readingOrder:o&&getReadingOrderId(o),textRotation:n,shrinkToFit:r,vertical:s&&convertLegacyVerticalAlignment(s),wrapText:a}}}}},protectionFactory={getTemplate:function(t){var e=!1===t.protected?0:1;return{name:"protection",properties:{rawMap:{hidden:!0===t.hideFormula?1:0,locked:e}}}}},xfFactory={getTemplate:function(t){var e=t.alignment,i=t.borderId,o=t.fillId,n=t.fontId,r=t.numFmtId,s=t.protection,a=t.xfId,l=[];return e&&l.push(alignmentFactory.getTemplate(e)),s&&l.push(protectionFactory.getTemplate(s)),{name:"xf",properties:{rawMap:{applyAlignment:e?1:void 0,applyProtection:s?1:void 0,applyBorder:i?1:void 0,applyFill:o?1:void 0,borderId:i,fillId:o,applyFont:n?1:void 0,fontId:n,applyNumberFormat:r?1:void 0,numFmtId:r,xfId:a}},children:l.length?l:void 0}}},cellStylesXfsFactory={getTemplate:function(t){return{name:"cellStyleXfs",properties:{rawMap:{count:t.length}},children:t.map((function(t){return xfFactory.getTemplate(t)}))}}},cellXfsFactory={getTemplate:function(t){return{name:"cellXfs",properties:{rawMap:{count:t.length}},children:t.map((function(t){return xfFactory.getTemplate(t)}))}}},borderFactory={getTemplate:function(t){return{name:"cellStyle",properties:{rawMap:{builtinId:t.builtinId,name:t.name,xfId:t.xfId}}}}},cellStylesFactory={getTemplate:function(t){return{name:"cellStyles",properties:{rawMap:{count:t.length}},children:t.map((function(t){return borderFactory.getTemplate(t)}))}}},__assign$L=function(){return __assign$L=Object.assign||function(t){for(var e,i=1,o=arguments.length;i<o;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},__assign$L.apply(this,arguments)},stylesMap,registeredNumberFmts,registeredFonts,registeredFills,registeredBorders,registeredCellStyleXfs,registeredCellXfs,registeredCellStyles,currentSheet,getStyleName=function(t,e){return-1!==t.indexOf("mixedStyle")&&e>1&&(t+="_"+e),t},resetStylesheetValues=function(){stylesMap={base:0},registeredNumberFmts=[],registeredFonts=[{fontName:"Calibri",colorTheme:"1",family:"2",scheme:"minor"}],registeredFills=[{patternType:"none"},{patternType:"gray125"}],registeredBorders=[{left:void 0,right:void 0,top:void 0,bottom:void 0,diagonal:void 0}],registeredCellStyleXfs=[{borderId:0,fillId:0,fontId:0,numFmtId:0}],registeredCellXfs=[{borderId:0,fillId:0,fontId:0,numFmtId:0,xfId:0}],registeredCellStyles=[{builtinId:0,name:"Normal",xfId:0}]},registerFill=function(t){var e=convertLegacyPattern(t.pattern),i=convertLegacyColor(t.color),o=convertLegacyColor(t.patternColor),n=registeredFills.findIndex((function(t){var n=t.patternType,r=t.fgRgb,s=t.bgRgb;return n==e&&r==i&&s==o}));return-1===n&&(n=registeredFills.length,registeredFills.push({patternType:e,fgRgb:i,bgRgb:o})),n},registerNumberFmt=function(t){if(t=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.utf8_encode(t),numberFormatMap[t])return numberFormatMap[t];var e=registeredNumberFmts.findIndex((function(e){return e.formatCode===t}));return-1===e?(e=registeredNumberFmts.length+164,registeredNumberFmts.push({formatCode:t,numFmtId:e})):e=registeredNumberFmts[e].numFmtId,e},registerBorders=function(t){var e,i,o,n,r,s,a,l,c=t.borderBottom,u=t.borderTop,h=t.borderLeft,d=t.borderRight;h&&(o=convertLegacyBorder(h.lineStyle,h.weight),a=convertLegacyColor(h.color)),d&&(n=convertLegacyBorder(d.lineStyle,d.weight),l=convertLegacyColor(d.color)),c&&(e=convertLegacyBorder(c.lineStyle,c.weight),r=convertLegacyColor(c.color)),u&&(i=convertLegacyBorder(u.lineStyle,u.weight),s=convertLegacyColor(u.color));var p=registeredBorders.findIndex((function(t){var c=t.left,u=t.right,h=t.top,d=t.bottom;if(!c&&(o||a))return!1;if(!u&&(n||l))return!1;if(!h&&(i||s))return!1;if(!d&&(e||r))return!1;var p=c||{},f=p.style,g=p.color,m=u||{},y=m.style,v=m.color,_=h||{},C=_.style,b=_.color,E=d||{},S=E.style,w=E.color;return f==o&&g==a&&(y==n&&v==l&&(C==i&&b==s&&(S==e&&w==r)))}));return-1===p&&(p=registeredBorders.length,registeredBorders.push({left:{style:o,color:a},right:{style:n,color:l},top:{style:i,color:s},bottom:{style:e,color:r},diagonal:{style:void 0,color:void 0}})),p},registerFont=function(t){var e=t.fontName,i=void 0===e?"Calibri":e,o=t.color,n=t.size,r=t.bold,s=t.italic,a=t.outline,l=t.shadow,c=t.strikeThrough,u=t.underline,h=t.family,d=t.verticalAlign,p=i?ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.utf8_encode(i):i,f=convertLegacyColor(o),g=getFontFamilyId(h),m=u?u.toLocaleLowerCase():void 0,y=d?d.toLocaleLowerCase():void 0,v=registeredFonts.findIndex((function(t){return t.fontName==p&&t.color==f&&t.size==n&&t.bold==r&&t.italic==s&&t.outline==a&&t.shadow==l&&t.strikeThrough==c&&t.underline==m&&t.verticalAlign==y&&t.family==g}));return-1===v&&(v=registeredFonts.length,registeredFonts.push({fontName:p,color:f,size:n,bold:r,italic:s,outline:a,shadow:l,strikeThrough:c,underline:m,verticalAlign:y,family:null!=g?g.toString():void 0})),v},registerStyle=function(t){var e=t.alignment,i=t.borders,o=t.font,n=t.interior,r=t.numberFormat,s=t.protection,a=t.id,l=0,c=0,u=0,h=0;a&&(a=getStyleName(a,currentSheet),null==stylesMap[a]&&(n&&(l=registerFill(n)),i&&(c=registerBorders(i)),o&&(u=registerFont(o)),r&&(h=registerNumberFmt(r.format)),stylesMap[a]=registeredCellXfs.length,registeredCellXfs.push({alignment:e,borderId:c||0,fillId:l||0,fontId:u||0,numFmtId:h||0,protection:s,xfId:0})))},stylesheetFactory={getTemplate:function(t){var e=numberFormatsFactory.getTemplate(registeredNumberFmts),i=fontsFactory.getTemplate(registeredFonts.map((function(e){return __assign$L(__assign$L({},e),{size:null!=e.size?e.size:t})}))),o=fillsFactory.getTemplate(registeredFills),n=bordersFactory.getTemplate(registeredBorders),r=cellStylesXfsFactory.getTemplate(registeredCellStyleXfs),s=cellXfsFactory.getTemplate(registeredCellXfs),a=cellStylesFactory.getTemplate(registeredCellStyles);return resetStylesheetValues(),{name:"styleSheet",properties:{rawMap:{"mc:Ignorable":"x14ac x16r2 xr",xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac","xmlns:x16r2":"http://schemas.microsoft.com/office/spreadsheetml/2015/02/main","xmlns:xr":"http://schemas.microsoft.com/office/spreadsheetml/2014/revision"}},children:[e,i,o,n,r,s,a,{name:"tableStyles",properties:{rawMap:{count:0,defaultPivotStyle:"PivotStyleLight16",defaultTableStyle:"TableStyleMedium2"}}}]}}},getStyleId=function(t,e){return stylesMap[getStyleName(t,e)]||0},registerStyles=function(t,e){1===(currentSheet=e)&&resetStylesheetValues(),t.forEach(registerStyle)},sheetFactory={getTemplate:function(t,e){var i=(e+1).toString();return{name:"sheet",properties:{rawMap:{name:t,sheetId:i,"r:id":"rId"+i}}}}},sheetsFactory={getTemplate:function(t){return{name:"sheets",children:t.map((function(t,e){return sheetFactory.getTemplate(t,e)}))}}},workbookFactory={getTemplate:function(t){return{name:"workbook",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships"}}],rawMap:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},children:[sheetsFactory.getTemplate(t)]}}},getExcelCellWidth=function(t){return Math.ceil((t-12)/7+1)},columnFactory={getTemplate:function(t){var e=t.min,i=t.max,o=t.outlineLevel,n=t.s,r=t.width,s=t.hidden,a=t.bestFit,l=1,c="0";return r>1&&(l=getExcelCellWidth(r),c="1"),{name:"col",properties:{rawMap:{min:e,max:i,outlineLevel:null!=o?o:void 0,width:l,style:n,hidden:s?"1":"0",bestFit:a?"1":"0",customWidth:c}}}}},convertLegacyType=function(t){var e=t.charAt(0).toLowerCase();return"s"===e?"inlineStr":e},cellFactory={getTemplate:function(t,e,i){var o=t.ref,n=t.data,r=t.styleId,s=n||{type:"empty",value:null},a=s.type,l=s.value,c=a;"f"===a?c="str":a.charAt(0)===a.charAt(0).toUpperCase()&&(c=convertLegacyType(a));var u,h={name:"c",properties:{rawMap:{r:o,t:"empty"===c?void 0:c,s:r?getStyleId(r,i):void 0}}};return"empty"===c?h:(u="str"===c&&"f"===a?[{name:"f",textNode:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.escapeString(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.utf8_encode(l))}]:"inlineStr"===c?[{name:"is",children:[{name:"t",textNode:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.escapeString(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.utf8_encode(l))}]}]:[{name:"v",textNode:l}],Object.assign({},h,{children:u}))}},__read$12=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,n,r=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return s},__spread$D=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$12(arguments[e]));return t},addEmptyCells=function(t,e){for(var i=[],o=0,n=0;n<t.length;n++){(s=t[n]).mergeAcross&&(i.push({pos:n,excelPos:o}),o+=s.mergeAcross),o++}if(i.length)for(n=i.length-1;n>=0;n--){for(var r=[],s=t[i[n].pos],a=1;a<=s.mergeAcross;a++)r.push({ref:""+getExcelColumnName(i[n].excelPos+1+a)+(e+1),styleId:s.styleId,data:{type:"empty",value:null}});r.length&&t.splice.apply(t,__spread$D([i[n].pos+1,0],r))}},shouldDisplayCell=function(t){var e;return""!==(null===(e=t.data)||void 0===e?void 0:e.value)||void 0!==t.styleId},rowFactory={getTemplate:function(t,e,i){var o=t.collapsed,n=t.hidden,r=t.height,s=t.outlineLevel,a=t.cells,l=void 0===a?[]:a;addEmptyCells(l,e);var c=l.filter(shouldDisplayCell).map((function(t,e){return cellFactory.getTemplate(t,e,i)}));return{name:"row",properties:{rawMap:{r:e+1,collapsed:o,hidden:n?"1":"0",ht:r,customHeight:null!=r?"1":"0",spans:"1:1",outlineLevel:s||void 0}},children:c}}},mergeCellFactory={getTemplate:function(t){return{name:"mergeCell",properties:{rawMap:{ref:t}}}}},getMergedCellsAndAddColumnGroups=function(t,e){var i=[],o=[];t.forEach((function(t,n){var r,s=t.cells,a=0;s.forEach((function(t,s){var l=s+a+1,c=getExcelColumnName(l),u=n+1;if(t.mergeAcross){a+=t.mergeAcross;var h=getExcelColumnName(s+a+1);i.push(""+c+u+":"+h+u)}e[l-1]||(e[l-1]={});var d=t.collapsibleRanges;d&&d.forEach((function(t){o.push([l+t[0],l+t[1]])})),(r=e[l-1]).min=l,r.max=l,t.ref=""+c+u}))})),o.sort((function(t,e){return t[0]!==e[0]?t[0]-e[0]:e[1]-t[1]}));var n=new Map,r=new Map;return o.filter((function(t){var e=t.toString();return!n.get(e)&&(n.set(e,!0),!0)})).forEach((function(t){var i=e.find((function(e){return e.min==t[0]&&e.max==t[1]})),o=r.get(t[0]);e.push({min:t[0],max:t[1],outlineLevel:o||1,width:(i||{width:100}).width}),r.set(t[0],(o||0)+1)})),i},getPageOrientation=function(t){return!t||"Portrait"!==t&&"Landscape"!==t?"portrait":t.toLocaleLowerCase()},getPageSize=function(t){if(null==t)return 1;var e=["Letter","Letter Small","Tabloid","Ledger","Legal","Statement","Executive","A3","A4","A4 Small","A5","A6","B4","B5","Folio","Envelope","Envelope DL","Envelope C5","Envelope B5","Envelope C3","Envelope C4","Envelope C6","Envelope Monarch","Japanese Postcard","Japanese Double Postcard"].indexOf(t);return-1===e?1:e+1},addColumns=function(t){return function(e){return t.length&&e.push({name:"cols",children:t.map((function(t){return columnFactory.getTemplate(t)}))}),e}},addSheetData=function(t,e){return function(i){return t.length&&i.push({name:"sheetData",children:t.map((function(t,i){return rowFactory.getTemplate(t,i,e)}))}),i}},addMergeCells=function(t){return function(e){return t.length&&e.push({name:"mergeCells",properties:{rawMap:{count:t.length}},children:t.map((function(t){return mergeCellFactory.getTemplate(t)}))}),e}},addPageMargins=function(t){return function(e){var i=t.top,o=void 0===i?.75:i,n=t.right,r=void 0===n?.7:n,s=t.bottom,a=void 0===s?.75:s,l=t.left,c=void 0===l?.7:l,u=t.header,h=void 0===u?.3:u,d=t.footer,p=void 0===d?.3:d;return e.push({name:"pageMargins",properties:{rawMap:{bottom:a,footer:p,header:h,left:c,right:r,top:o}}}),e}},addPageSetup=function(t){return function(e){return t&&e.push({name:"pageSetup",properties:{rawMap:{horizontalDpi:0,verticalDpi:0,orientation:getPageOrientation(t.orientation),paperSize:getPageSize(t.pageSize)}}}),e}},replaceHeaderFooterTokens=function(t){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.iterateObject({"&[Page]":"&P","&[Pages]":"&N","&[Date]":"&D","&[Time]":"&T","&[Tab]":"&A","&[Path]":"&Z","&[File]":"&F"},(function(e,i){t=t.replace(e,i)})),t},getHeaderPosition=function(t){return"Center"===t?"C":"Right"===t?"R":"L"},applyHeaderFontStyle=function(t,e){return e?(t+="&amp;&quot;",t+=e.fontName||"Calibri",e.bold!==e.italic?t+=e.bold?",Bold":",Italic":e.bold?t+=",Bold Italic":t+=",Regular",t+="&quot;",e.size&&(t+="&amp;"+e.size),e.strikeThrough&&(t+="&amp;S"),e.underline&&(t+="&amp;"+("Double"===e.underline?"E":"U")),e.color&&(t+="&amp;K"+e.color.replace("#","").toUpperCase()),t):t},processHeaderFooterContent=function(t){return t.reduce((function(t,e){var i=getHeaderPosition(e.position);return""+applyHeaderFontStyle(t+"&amp;"+i,e.font)+ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.escapeString(replaceHeaderFooterTokens(e.value))}),"")},buildHeaderFooter=function(t){var e=[];return["all","first","even"].forEach((function(i){var o=t[i],n="all"===i?"odd":i;o&&(o.header||o.footer)&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.iterateObject(o,(function(t,i){var o=""+t.charAt(0).toUpperCase()+t.slice(1);i&&e.push({name:""+n+o,properties:{rawMap:{"xml:space":"preserve"}},textNode:processHeaderFooterContent(i)})}))})),e},addHeaderFooter=function(t){return function(e){if(!t)return e;var i=null!=t.first?1:0,o=null!=t.even?1:0;return e.push({name:"headerFooter",properties:{rawMap:{differentFirst:i,differentOddEven:o}},children:buildHeaderFooter(t)}),e}},addDrawingRel=function(t){return function(e){return ExcelXlsxFactory.worksheetImages.get(t)&&e.push({name:"drawing",properties:{rawMap:{"r:id":"rId1"}}}),e}},addSheetPr=function(){return function(t){return t.push({name:"sheetPr",children:[{name:"outlinePr",properties:{rawMap:{summaryBelow:0}}}]}),t}},addSheetFormatPr=function(t){return function(e){var i=t.reduce((function(t,e){return e.outlineLevel&&e.outlineLevel>t?e.outlineLevel:t}),0);return e.push({name:"sheetFormatPr",properties:{rawMap:{baseColWidth:10,defaultRowHeight:16,outlineLevelRow:i||void 0}}}),e}},worksheetFactory={getTemplate:function(t){var e=t.worksheet,i=t.currentSheet,o=t.margins,n=void 0===o?{}:o,r=t.pageSetup,s=t.headerFooterConfig,a=e.table,l=a.rows,c=a.columns,u=c&&c.length?getMergedCellsAndAddColumnGroups(l,c):[];return{name:"worksheet",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships"}}],rawMap:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},children:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.compose(addSheetPr(),addSheetFormatPr(l),addColumns(c),addSheetData(l,i+1),addMergeCells(u),addPageMargins(n),addPageSetup(r),addHeaderFooter(s),addDrawingRel(i))([])}}},relationshipFactory={getTemplate:function(t){return{name:"Relationship",properties:{rawMap:{Id:t.Id,Type:t.Type,Target:t.Target}}}}},relationshipsFactory={getTemplate:function(t){return{name:"Relationships",properties:{rawMap:{xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"}},children:t.map((function(t){return relationshipFactory.getTemplate(t)}))}}},__read$11=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,n,r=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return s},__spread$C=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$11(arguments[e]));return t},ExcelXlsxFactory=function(){function t(){}return t.createExcel=function(t,e,i,o,n){return this.addSheetName(e),registerStyles(t,this.sheetNames.length),this.createWorksheet(e,i,o,n)},t.buildImageMap=function(t,e,i,o,n){var r=this.sheetNames.length,s=this.images.get(t.id);t.position&&t.position.row&&t.position.column||(t.position||(t.position={}),t.position=Object.assign({},t.position,{row:e,column:o.indexOf(i)+1}));var a=t;if(setExcelImageTotalWidth(a,o),setExcelImageTotalHeight(a,n),s){var l=s.find((function(t){return t.sheetId===r}));l?l.image.push(a):s.push({sheetId:r,image:[a]})}else this.images.set(a.id,[{sheetId:r,image:[a]}]),this.workbookImageIds.set(a.id,{type:a.imageType,index:this.workbookImageIds.size});this.buildSheetImageMap(r,a)},t.buildSheetImageMap=function(t,e){var i=this.worksheetImageIds.get(t);i||(i=new Map,this.worksheetImageIds.set(t,i));var o=this.worksheetImages.get(t);o?(o.push(e),i.get(e.id)||i.set(e.id,{index:i.size,type:e.imageType})):(this.worksheetImages.set(t,[e]),i.set(e.id,{index:0,type:e.imageType}))},t.addSheetName=function(t){for(var e=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.escapeString(t.name)||"",i="";-1!==this.sheetNames.indexOf(""+e+i);)if(""===i)i="_1";else{var o=parseInt(i.slice(1),10);i="_"+(o+1)}t.name=""+e+i,this.sheetNames.push(t.name)},t.getStringPosition=function(t){return this.sharedStrings.has(t)?this.sharedStrings.get(t):(this.sharedStrings.set(t,this.sharedStrings.size),this.sharedStrings.size-1)},t.resetFactory=function(){this.sharedStrings=new Map,this.images=new Map,this.worksheetImages=new Map,this.workbookImageIds=new Map,this.worksheetImageIds=new Map,this.sheetNames=[],this.factoryMode=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.nPL.SINGLE_SHEET},t.createWorkbook=function(){return createXmlPart(workbookFactory.getTemplate(this.sheetNames))},t.createStylesheet=function(t){return createXmlPart(stylesheetFactory.getTemplate(t))},t.createSharedStrings=function(){return createXmlPart(sharedStrings.getTemplate(this.sharedStrings))},t.createCore=function(t){return createXmlPart(coreFactory.getTemplate(t))},t.createContentTypes=function(t){return createXmlPart(contentTypesFactory.getTemplate(t))},t.createRels=function(){var t=relationshipsFactory.getTemplate([{Id:"rId1",Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",Target:"xl/workbook.xml"},{Id:"rId2",Type:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",Target:"docProps/core.xml"}]);return createXmlPart(t)},t.createTheme=function(){return createXmlPart(officeTheme.getTemplate())},t.createWorkbookRels=function(t){var e=new Array(t).fill(void 0).map((function(t,e){return{Id:"rId"+(e+1),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet",Target:"worksheets/sheet"+(e+1)+".xml"}})),i=relationshipsFactory.getTemplate(__spread$C(e,[{Id:"rId"+(t+1),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",Target:"theme/theme1.xml"},{Id:"rId"+(t+2),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",Target:"styles.xml"},{Id:"rId"+(t+3),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",Target:"sharedStrings.xml"}]));return createXmlPart(i)},t.createDrawing=function(t){return createXmlPart(drawingFactory.getTemplate({sheetIndex:t}))},t.createDrawingRel=function(t){var e=this,i=this.worksheetImageIds.get(t),o=[];return i.forEach((function(t,i){o.push({Id:"rId"+(t.index+1),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",Target:"../media/image"+(e.workbookImageIds.get(i).index+1)+"."+t.type})})),createXmlPart(relationshipsFactory.getTemplate(o))},t.createWorksheetDrawingRel=function(t){var e=relationshipsFactory.getTemplate([{Id:"rId1",Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",Target:"../drawings/drawing"+(t+1)+".xml"}]);return createXmlPart(e)},t.createWorksheet=function(t,e,i,o){return createXmlPart(worksheetFactory.getTemplate({worksheet:t,currentSheet:this.sheetNames.length-1,margins:e,pageSetup:i,headerFooterConfig:o}))},t.sharedStrings=new Map,t.sheetNames=[],t.images=new Map,t.worksheetImages=new Map,t.workbookImageIds=new Map,t.worksheetImageIds=new Map,t.factoryMode=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.nPL.SINGLE_SHEET,t}(),__extends$2P=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),ExcelXlsxSerializingSession=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$2P(e,t),e.prototype.createExcel=function(t){var e=this.excelStyles,i=this.config,o=i.margins,n=i.pageSetup,r=i.headerFooterConfig;return ExcelXlsxFactory.createExcel(e,t,o,n,r)},e.prototype.getDataTypeForValue=function(t){return void 0===t?"empty":this.isNumerical(t)?"n":"s"},e.prototype.getType=function(t,e,i){if(this.isFormula(i))return"f";if(e&&e.dataType)switch(e.dataType.toLocaleLowerCase()){case"formula":return"f";case"string":return"s";case"number":return"n";case"datetime":return"d";case"error":return"e";case"boolean":return"b";default:console.warn("AG Grid: Unrecognized data type for excel export ["+e.id+".dataType="+e.dataType+"]")}return t},e.prototype.addImage=function(t,e,i){if(this.config.addImageToCell){var o=this.config.addImageToCell(t,e,i);if(o)return ExcelXlsxFactory.buildImageMap(o.image,t,e,this.columnsToExport,this.config.rowHeight),o}},e.prototype.createCell=function(t,e,i){var o=this.getStyleById(t),n=this.getType(e,o,i)||e;return{styleId:o?t:void 0,data:{type:n,value:this.getCellValue(n,i)}}},e.prototype.createMergedCell=function(t,e,i,o){var n=null==i?"":i;return{styleId:this.getStyleById(t)?t:void 0,data:{type:e,value:"s"===e?ExcelXlsxFactory.getStringPosition(n).toString():i},mergeAcross:o}},e.prototype.getCellValue=function(t,e){if(null==e)return ExcelXlsxFactory.getStringPosition("").toString();switch(t){case"s":return""===e?"":ExcelXlsxFactory.getStringPosition(e).toString();case"f":return e.slice(1);case"n":return Number(e).toString();default:return e}},e}(BaseExcelSerializingSession),__extends$2O=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__assign$K=function(){return __assign$K=Object.assign||function(t){for(var e,i=1,o=arguments.length;i<o;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},__assign$K.apply(this,arguments)},__decorate$1$=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},getMultipleSheetsAsExcel=function(t){var e=t.data,i=t.fontSize,o=void 0===i?11:i,n=t.author,r=void 0===n?"AG Grid":n,s=ExcelXlsxFactory.images.size>0;if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.EHG.addFolders(["_rels/","docProps/","xl/","xl/theme/","xl/_rels/","xl/worksheets/"]),s){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.EHG.addFolders(["xl/worksheets/_rels","xl/drawings/","xl/drawings/_rels","xl/media/"]);var a=0;ExcelXlsxFactory.images.forEach((function(t){var e=t[0].image[0],i=e.imageType;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.EHG.addFile("xl/media/image"+ ++a+"."+i,e.base64,!0)}))}if(!e||0===e.length)return console.warn("AG Grid: Invalid params supplied to getMultipleSheetsAsExcel() - `ExcelExportParams.data` is empty."),void ExcelXlsxFactory.resetFactory();var l=e.length,c=0;e.forEach((function(t,e){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.EHG.addFile("xl/worksheets/sheet"+(e+1)+".xml",t),s&&ExcelXlsxFactory.worksheetImages.get(e)&&createImageRelationsForSheet(e,c++)})),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.EHG.addFile("xl/workbook.xml",ExcelXlsxFactory.createWorkbook()),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.EHG.addFile("xl/styles.xml",ExcelXlsxFactory.createStylesheet(o)),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.EHG.addFile("xl/sharedStrings.xml",ExcelXlsxFactory.createSharedStrings()),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.EHG.addFile("xl/theme/theme1.xml",ExcelXlsxFactory.createTheme()),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.EHG.addFile("xl/_rels/workbook.xml.rels",ExcelXlsxFactory.createWorkbookRels(l)),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.EHG.addFile("docProps/core.xml",ExcelXlsxFactory.createCore(r)),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.EHG.addFile("[Content_Types].xml",ExcelXlsxFactory.createContentTypes(l)),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.EHG.addFile("_rels/.rels",ExcelXlsxFactory.createRels()),ExcelXlsxFactory.resetFactory();var u=t.mimeType||"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet";return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.EHG.getContent(u)},exportMultipleSheetsAsExcel=function(t){var e=t.fileName,i=void 0===e?"export.xlsx":e,o=getMultipleSheetsAsExcel(t);o&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.aVm.download(i,o)},createImageRelationsForSheet=function(t,e){var i="xl/drawings",o=i+"/drawing"+(e+1)+".xml",n=i+"/_rels/drawing"+(e+1)+".xml.rels",r="xl/worksheets/_rels/sheet"+(t+1)+".xml.rels";ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.EHG.addFile(n,ExcelXlsxFactory.createDrawingRel(t)),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.EHG.addFile(o,ExcelXlsxFactory.createDrawing(t)),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.EHG.addFile(r,ExcelXlsxFactory.createWorksheetDrawingRel(e))},ExcelCreator=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.exportMode="xlsx",e}return __extends$2O(e,t),e.prototype.postConstruct=function(){this.setBeans({gridSerializer:this.gridSerializer,gridOptionsService:this.gridOptionsService})},e.prototype.getMergedParams=function(t){var e=this.gridOptionsService.get("defaultExcelExportParams");return Object.assign({},e,t)},e.prototype.getData=function(e){return this.setExportMode(e.exportMode||"xlsx"),t.prototype.getData.call(this,e)},e.prototype.export=function(t){if(this.isExportSuppressed())return console.warn("AG Grid: Export cancelled. Export is not allowed as per your configuration."),"";var e=this.getMergedParams(t),i=this.getData(e),o={data:[i],fontSize:e.fontSize,author:e.author,mimeType:e.mimeType},n=this.packageFile(o);return n&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.aVm.download(this.getFileName(e.fileName),n),i},e.prototype.exportDataAsExcel=function(t){return this.export(t)},e.prototype.getDataAsExcel=function(t){var e=this.getMergedParams(t),i=this.getData(e);if(t&&"xml"===t.exportMode)return i;var o={data:[i],fontSize:e.fontSize,author:e.author,mimeType:e.mimeType};return this.packageFile(o)},e.prototype.setFactoryMode=function(t,e){void 0===e&&(e="xlsx"),("xlsx"===e?ExcelXlsxFactory:ExcelXmlFactory).factoryMode=t},e.prototype.getFactoryMode=function(t){return("xlsx"===t?ExcelXlsxFactory:ExcelXmlFactory).factoryMode},e.prototype.getSheetDataForExcel=function(t){var e=this.getMergedParams(t);return this.getData(e)},e.prototype.getMultipleSheetsAsExcel=function(t){return getMultipleSheetsAsExcel(t)},e.prototype.exportMultipleSheetsAsExcel=function(t){return exportMultipleSheetsAsExcel(t)},e.prototype.getDefaultFileName=function(){return"export."+this.getExportMode()},e.prototype.getDefaultFileExtension=function(){return this.getExportMode()},e.prototype.createSerializingSession=function(t){var e=this,i=e.columnModel,o=e.valueService,n=e.gridOptionsService,r="xlsx"===this.getExportMode(),s="ag-grid";null!=t.sheetName&&(s=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.utf8_encode(t.sheetName.toString().substr(0,31)));var a=__assign$K(__assign$K({},t),{sheetName:s,columnModel:i,valueService:o,gridOptionsService:n,headerRowHeight:t.headerRowHeight||t.rowHeight,baseExcelStyles:this.gridOptionsService.get("excelStyles")||[],styleLinker:this.styleLinker.bind(this)});return new(r?ExcelXlsxSerializingSession:ExcelXmlSerializingSession)(a)},e.prototype.styleLinker=function(t){var e=t.rowType,i=t.rowIndex,o=t.value,n=t.column,r=t.columnGroup,s=t.node,a=e===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.aCu.HEADER,l=e===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.aCu.HEADER_GROUPING,c=a?n:r,u=[];if(a||l)return u.push("header"),l&&u.push("headerGroup"),c&&(u=u.concat(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fQL.getHeaderClassesFromColDef(c.getDefinition(),this.gridOptionsService,n||null,r||null))),u;var h=this.gridOptionsService.get("excelStyles"),d=["cell"];if(!h||!h.length)return d;var p=h.map((function(t){return t.id}));return this.stylingService.processAllCellClasses(n.getDefinition(),{value:o,data:s.data,node:s,colDef:n.getDefinition(),column:n,rowIndex:i,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context},(function(t){p.indexOf(t)>-1&&d.push(t)})),d.sort((function(t,e){return p.indexOf(t)<p.indexOf(e)?-1:1}))},e.prototype.isExportSuppressed=function(){return this.gridOptionsService.is("suppressExcelExport")},e.prototype.setExportMode=function(t){this.exportMode=t},e.prototype.getExportMode=function(){return this.exportMode},e.prototype.packageFile=function(t){if("xml"===this.getExportMode()){var e=t.mimeType||"application/vnd.ms-excel";return new Blob(["\ufeff",t.data[0]],{type:e})}return getMultipleSheetsAsExcel(t)},__decorate$1$([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$1$([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("valueService")],e.prototype,"valueService",void 0),__decorate$1$([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("stylingService")],e.prototype,"stylingService",void 0),__decorate$1$([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridSerializer")],e.prototype,"gridSerializer",void 0),__decorate$1$([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridOptionsService")],e.prototype,"gridOptionsService",void 0),__decorate$1$([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),e=__decorate$1$([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("excelCreator")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.z0n),VERSION$d="29.3.4",ExcelExportModule={version:VERSION$d,moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.ExcelExportModule,beans:[ExcelCreator,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.YaM,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.IFn],dependantModules:[ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jMC,EnterpriseCoreModule]},__extends$2N=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$1_=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},EXPAND_STATE;!function(t){t[t.EXPANDED=0]="EXPANDED",t[t.COLLAPSED=1]="COLLAPSED",t[t.INDETERMINATE=2]="INDETERMINATE"}(EXPAND_STATE||(EXPAND_STATE={}));var FiltersToolPanelHeaderPanel=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$2N(e,t),e.prototype.preConstruct=function(){this.setTemplate('<div class="ag-filter-toolpanel-search" role="presentation">\n                <div ref="eExpand" class="ag-filter-toolpanel-expand"></div>\n                <ag-input-text-field ref="eFilterTextField" class="ag-filter-toolpanel-search-input"></ag-input-text-field>\n            </div>')},e.prototype.postConstruct=function(){var t=this.localeService.getLocaleTextFunc();this.eFilterTextField.onValueChange(this.onSearchTextChanged.bind(this)),this.eFilterTextField.setInputAriaLabel(t("ariaFilterColumnsInput","Filter Columns Input")),this.createExpandIcons(),this.setExpandState(EXPAND_STATE.EXPANDED),this.addManagedListener(this.eExpand,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_NEW_COLUMNS_LOADED,this.showOrHideOptions.bind(this))},e.prototype.init=function(t){this.params=t,this.columnModel.isReady()&&this.showOrHideOptions()},e.prototype.createExpandIcons=function(){this.eExpand.appendChild(this.eExpandChecked=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("columnSelectOpen",this.gridOptionsService)),this.eExpand.appendChild(this.eExpandUnchecked=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("columnSelectClosed",this.gridOptionsService)),this.eExpand.appendChild(this.eExpandIndeterminate=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("columnSelectIndeterminate",this.gridOptionsService))},e.prototype.showOrHideOptions=function(){var t=!this.params.suppressFilterSearch,e=!this.params.suppressExpandAll,i=this.localeService.getLocaleTextFunc();this.eFilterTextField.setInputPlaceholder(i("searchOoo","Search..."));var o=this.columnModel.getAllGridColumns().some((function(t){return t.getOriginalParent()&&t.isFilterAllowed()}));ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eFilterTextField.getGui(),t),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eExpand,e&&o)},e.prototype.onSearchTextChanged=function(){var t=this;this.onSearchTextChangedDebounced||(this.onSearchTextChangedDebounced=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.debounce((function(){t.dispatchEvent({type:"searchChanged",searchText:t.eFilterTextField.getValue()})}),300)),this.onSearchTextChangedDebounced()},e.prototype.onExpandClicked=function(){var t=this.currentExpandState===EXPAND_STATE.EXPANDED?{type:"collapseAll"}:{type:"expandAll"};this.dispatchEvent(t)},e.prototype.setExpandState=function(t){this.currentExpandState=t,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eExpandChecked,this.currentExpandState===EXPAND_STATE.EXPANDED),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eExpandUnchecked,this.currentExpandState===EXPAND_STATE.COLLAPSED),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eExpandIndeterminate,this.currentExpandState===EXPAND_STATE.INDETERMINATE)},__decorate$1_([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$1_([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eExpand")],e.prototype,"eExpand",void 0),__decorate$1_([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eFilterTextField")],e.prototype,"eFilterTextField",void 0),__decorate$1_([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.$j7],e.prototype,"preConstruct",null),__decorate$1_([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$2M=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$1Z=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},ToolPanelFilterComp=function(t){function e(i){void 0===i&&(i=!1);var o=t.call(this,e.TEMPLATE)||this;return o.expanded=!1,o.hideHeader=i,o}return __extends$2M(e,t),e.prototype.postConstruct=function(){this.eExpandChecked=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("columnSelectOpen",this.gridOptionsService),this.eExpandUnchecked=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("columnSelectClosed",this.gridOptionsService),this.eExpand.appendChild(this.eExpandChecked),this.eExpand.appendChild(this.eExpandUnchecked)},e.prototype.setColumn=function(t){var e=this;this.column=t,this.eFilterName.innerText=this.columnModel.getDisplayNameForColumn(this.column,"filterToolPanel",!1)||"",this.addManagedListener(this.eFilterToolPanelHeader,"click",this.toggleExpanded.bind(this)),this.addManagedListener(this.eFilterToolPanelHeader,"keydown",(function(t){t.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.ENTER&&e.toggleExpanded()})),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_FILTER_OPENED,this.onFilterOpened.bind(this)),this.addInIcon("filter",this.eFilterIcon,this.column),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eFilterIcon,this.isFilterActive(),{skipAriaHidden:!0}),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eExpandChecked,!1),this.hideHeader?(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eFilterToolPanelHeader,!1),this.eFilterToolPanelHeader.removeAttribute("tabindex")):this.eFilterToolPanelHeader.setAttribute("tabindex","0"),this.addManagedListener(this.column,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sgG.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_FILTER_DESTROYED,this.onFilterDestroyed.bind(this))},e.prototype.getColumn=function(){return this.column},e.prototype.getColumnFilterName=function(){return this.columnModel.getDisplayNameForColumn(this.column,"filterToolPanel",!1)},e.prototype.addCssClassToTitleBar=function(t){this.eFilterToolPanelHeader.classList.add(t)},e.prototype.addInIcon=function(t,e,i){if(null!=e){var o=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan(t,this.gridOptionsService,i);e.appendChild(o)}},e.prototype.isFilterActive=function(){return this.filterManager.isFilterActive(this.column)},e.prototype.onFilterChanged=function(){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eFilterIcon,this.isFilterActive(),{skipAriaHidden:!0}),this.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sgG.EVENT_FILTER_CHANGED})},e.prototype.onFilterDestroyed=function(t){this.expanded&&"api"===t.source&&t.column.getId()===this.column.getId()&&this.columnModel.getPrimaryColumn(this.column)&&(this.removeFilterElement(),this.addFilterElement())},e.prototype.toggleExpanded=function(){this.expanded?this.collapse():this.expand()},e.prototype.expand=function(){this.expanded||(this.expanded=!0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaExpanded(this.eFilterToolPanelHeader,!0),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eExpandChecked,!0),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eExpandUnchecked,!1),this.addFilterElement())},e.prototype.addFilterElement=function(){var t=this,e=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.loadTemplate('<div class="ag-filter-toolpanel-instance-filter"></div>'),i=this.filterManager.getOrCreateFilterWrapper(this.column,"TOOLBAR");if(i){var o=i.filterPromise,n=i.guiPromise;null==o||o.then((function(i){t.underlyingFilter=i,i&&n.then((function(o){o&&e.appendChild(o),t.agFilterToolPanelBody.appendChild(e),i.afterGuiAttached&&i.afterGuiAttached({container:"toolPanel"})}))}))}},e.prototype.collapse=function(){var t,e;this.expanded&&(this.expanded=!1,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaExpanded(this.eFilterToolPanelHeader,!1),this.removeFilterElement(),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eExpandChecked,!1),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eExpandUnchecked,!0),null===(e=null===(t=this.underlyingFilter)||void 0===t?void 0:t.afterGuiDetached)||void 0===e||e.call(t))},e.prototype.removeFilterElement=function(){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.clearElement(this.agFilterToolPanelBody)},e.prototype.isExpanded=function(){return this.expanded},e.prototype.refreshFilter=function(t){var e;if(this.expanded){var i=this.underlyingFilter;i&&(t?"function"==typeof i.refreshVirtualList&&i.refreshVirtualList():null===(e=i.afterGuiDetached)||void 0===e||e.call(i))}},e.prototype.onFilterOpened=function(t){"COLUMN_MENU"===t.source&&t.column===this.column&&this.expanded&&this.collapse()},e.TEMPLATE='\n        <div class="ag-filter-toolpanel-instance">\n            <div class="ag-filter-toolpanel-header ag-filter-toolpanel-instance-header" ref="eFilterToolPanelHeader" role="button" aria-expanded="false">\n                <div ref="eExpand" class="ag-filter-toolpanel-expand"></div>\n                <span ref="eFilterName" class="ag-header-cell-text"></span>\n                <span ref="eFilterIcon" class="ag-header-icon ag-filter-icon ag-filter-toolpanel-instance-header-icon" aria-hidden="true"></span>\n            </div>\n            <div class="ag-filter-toolpanel-instance-body ag-filter" ref="agFilterToolPanelBody"></div>\n        </div>',__decorate$1Z([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eFilterToolPanelHeader")],e.prototype,"eFilterToolPanelHeader",void 0),__decorate$1Z([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eFilterName")],e.prototype,"eFilterName",void 0),__decorate$1Z([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("agFilterToolPanelBody")],e.prototype,"agFilterToolPanelBody",void 0),__decorate$1Z([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eFilterIcon")],e.prototype,"eFilterIcon",void 0),__decorate$1Z([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eExpand")],e.prototype,"eExpand",void 0),__decorate$1Z([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("filterManager")],e.prototype,"filterManager",void 0),__decorate$1Z([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$1Z([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$2L=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$1Y=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},ToolPanelFilterGroupComp=function(t){function e(e,i,o,n,r){var s=t.call(this)||this;return s.columnGroup=e,s.childFilterComps=i,s.depth=n,s.expandedCallback=o,s.showingColumn=r,s}return __extends$2L(e,t),e.prototype.preConstruct=function(){this.setTemplate(e.TEMPLATE,{filterGroupComp:{cssIdentifier:"filter-toolpanel",direction:"vertical"}})},e.prototype.init=function(){var t=this;this.setGroupTitle(),this.filterGroupComp.setAlignItems("stretch"),this.filterGroupComp.addCssClass("ag-filter-toolpanel-group-level-"+this.depth),this.filterGroupComp.addCssClassToTitleBar("ag-filter-toolpanel-group-level-"+this.depth+"-header"),this.childFilterComps.forEach((function(e){t.filterGroupComp.addItem(e),e.addCssClassToTitleBar("ag-filter-toolpanel-group-level-"+(t.depth+1)+"-header")})),this.refreshFilterClass(),this.addExpandCollapseListeners(),this.addFilterChangedListeners(),this.setupTooltip()},e.prototype.setupTooltip=function(){var t=this;if(this.showingColumn){var e=function(){var e=t.columnGroup.getColDef().headerTooltip;t.setTooltip(e)};e(),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_NEW_COLUMNS_LOADED,e)}},e.prototype.getTooltipParams=function(){var e=t.prototype.getTooltipParams.call(this);return e.location="filterToolPanelColumnGroup",e},e.prototype.addCssClassToTitleBar=function(t){this.filterGroupComp.addCssClassToTitleBar(t)},e.prototype.refreshFilters=function(t){this.childFilterComps.forEach((function(i){i instanceof e?i.refreshFilters(t):i.refreshFilter(t)}))},e.prototype.isColumnGroup=function(){return this.columnGroup instanceof ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KTm},e.prototype.isExpanded=function(){return this.filterGroupComp.isExpanded()},e.prototype.getChildren=function(){return this.childFilterComps},e.prototype.getFilterGroupName=function(){return this.filterGroupName?this.filterGroupName:""},e.prototype.getFilterGroupId=function(){return this.columnGroup.getId()},e.prototype.hideGroupItem=function(t,e){this.filterGroupComp.hideItem(t,e)},e.prototype.hideGroup=function(t){this.setDisplayed(!t)},e.prototype.forEachToolPanelFilterChild=function(t){this.childFilterComps.forEach((function(e){e instanceof ToolPanelFilterComp&&t(e)}))},e.prototype.addExpandCollapseListeners=function(){var t=this,e=this.isColumnGroup()?function(){return t.expandedCallback()}:function(){return t.forEachToolPanelFilterChild((function(t){return t.expand()}))},i=this.isColumnGroup()?function(){return t.expandedCallback()}:function(){return t.forEachToolPanelFilterChild((function(t){return t.collapse()}))};this.addManagedListener(this.filterGroupComp,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.H1u.EVENT_EXPANDED,e),this.addManagedListener(this.filterGroupComp,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.H1u.EVENT_COLLAPSED,i)},e.prototype.getColumns=function(){return this.columnGroup instanceof ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KTm?this.columnGroup.getLeafColumns():[this.columnGroup]},e.prototype.addFilterChangedListeners=function(){var t=this;this.getColumns().forEach((function(e){t.addManagedListener(e,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sgG.EVENT_FILTER_CHANGED,(function(){return t.refreshFilterClass()}))})),this.columnGroup instanceof ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KTm||this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_FILTER_OPENED,this.onFilterOpened.bind(this))},e.prototype.refreshFilterClass=function(){var t=this.getColumns();this.filterGroupComp.addOrRemoveCssClass("ag-has-filter",t.some((function(t){return t.isFilterActive()})))},e.prototype.onFilterOpened=function(t){"COLUMN_MENU"===t.source&&t.column===this.columnGroup&&this.isExpanded()&&this.collapse()},e.prototype.expand=function(){this.filterGroupComp.toggleGroupExpand(!0)},e.prototype.collapse=function(){this.filterGroupComp.toggleGroupExpand(!1)},e.prototype.setGroupTitle=function(){this.filterGroupName=this.columnGroup instanceof ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KTm?this.getColumnGroupName(this.columnGroup):this.getColumnName(this.columnGroup),this.filterGroupComp.setTitle(this.filterGroupName||"")},e.prototype.getColumnGroupName=function(t){return this.columnModel.getDisplayNameForProvidedColumnGroup(null,t,"filterToolPanel")},e.prototype.getColumnName=function(t){return this.columnModel.getDisplayNameForColumn(t,"filterToolPanel",!1)},e.prototype.destroyFilters=function(){this.childFilterComps=this.destroyBeans(this.childFilterComps),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.clearElement(this.getGui())},e.prototype.destroy=function(){this.destroyFilters(),t.prototype.destroy.call(this)},e.TEMPLATE='<div class="ag-filter-toolpanel-group-wrapper">\n            <ag-group-component ref="filterGroupComp"></ag-group-component>\n        </div>',__decorate$1Y([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("filterGroupComp")],e.prototype,"filterGroupComp",void 0),__decorate$1Y([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$1Y([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.$j7],e.prototype,"preConstruct",null),__decorate$1Y([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$2K=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$1X=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},FiltersToolPanelListPanel=function(t){function e(){var i=t.call(this,e.TEMPLATE)||this;return i.initialised=!1,i.filterGroupComps=[],i}return __extends$2K(e,t),e.prototype.init=function(t){var e=this;this.initialised=!0;var i={suppressExpandAll:!1,suppressFilterSearch:!1,suppressSyncLayoutWithGrid:!1,api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsService.context};ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.mergeDeep(i,t),this.params=i,this.params.suppressSyncLayoutWithGrid||this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_MOVED,(function(){return e.onColumnsChanged()})),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_NEW_COLUMNS_LOADED,(function(){return e.onColumnsChanged()})),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_INTERNAL_TOOL_PANEL_VISIBLE_CHANGED,(function(t){"filters"===t.key&&e.refreshFilters(t.visible)})),this.columnModel.isReady()&&this.onColumnsChanged()},e.prototype.onColumnsChanged=function(){var t=this.columnModel.isPivotMode();!this.params.suppressSyncLayoutWithGrid&&!t?this.syncFilterLayout():this.buildTreeFromProvidedColumnDefs()},e.prototype.syncFilterLayout=function(){this.toolPanelColDefService.syncLayoutWithGrid(this.setFiltersLayout.bind(this))},e.prototype.buildTreeFromProvidedColumnDefs=function(){var t=this.columnModel.getPrimaryColumnTree();this.recreateFilters(t)},e.prototype.setFiltersLayout=function(t){var e=this.toolPanelColDefService.createColumnTree(t);this.recreateFilters(e)},e.prototype.recreateFilters=function(t){var e=this,i=this.gridOptionsService.getDocument().activeElement,o=this.getExpansionState();this.destroyFilters(),this.filterGroupComps=this.recursivelyAddComps(t,0,o);var n=this.filterGroupComps.length;n&&(this.filterGroupComps.forEach((function(t){return e.appendChild(t)})),this.setFirstAndLastVisible(0,n-1)),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(this.searchFilterText)&&this.searchFilters(this.searchFilterText),this.fireExpandedEvent(),this.getGui().contains(i)&&i.focus()},e.prototype.recursivelyAddComps=function(t,e,i){var o=this;return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.flatten(t.map((function(t){if(t instanceof ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KTm)return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.flatten(o.recursivelyAddFilterGroupComps(t,e,i));var n=t;if(!o.shouldDisplayFilter(n))return[];var r=new ToolPanelFilterComp(0===e);if(o.createBean(r),r.setColumn(n),i.get(n.getId())&&r.expand(),e>0)return r;var s=o.createBean(new ToolPanelFilterGroupComp(n,[r],o.onGroupExpanded.bind(o),e,!0));return s.addCssClassToTitleBar("ag-filter-toolpanel-header"),i.get(s.getFilterGroupId())||s.collapse(),s})))},e.prototype.recursivelyAddFilterGroupComps=function(t,e,i){if(this.filtersExistInChildren(t.getChildren())){var o=t.getColGroupDef();if(o&&o.suppressFiltersToolPanel)return[];var n=t.isPadding()?e:e+1,r=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.flatten(this.recursivelyAddComps(t.getChildren(),n,i));if(t.isPadding())return r;var s=new ToolPanelFilterGroupComp(t,r,this.onGroupExpanded.bind(this),e,!1);return this.createBean(s),s.addCssClassToTitleBar("ag-filter-toolpanel-header"),!1===i.get(s.getFilterGroupId())&&s.collapse(),[s]}},e.prototype.filtersExistInChildren=function(t){var e=this;return t.some((function(t){return t instanceof ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KTm?e.filtersExistInChildren(t.getChildren()):e.shouldDisplayFilter(t)}))},e.prototype.shouldDisplayFilter=function(t){var e=t.getColDef()&&t.getColDef().suppressFiltersToolPanel;return t.isFilterAllowed()&&!e},e.prototype.getExpansionState=function(){var t=new Map,e=function(i){t.set(i.getFilterGroupId(),i.isExpanded()),i.getChildren().forEach((function(i){i instanceof ToolPanelFilterGroupComp?e(i):t.set(i.getColumn().getId(),i.isExpanded())}))};return this.filterGroupComps.forEach(e),t},e.prototype.refresh=function(){},e.prototype.setVisible=function(e){t.prototype.setDisplayed.call(this,e),e&&!this.initialised&&this.init(this.params)},e.prototype.expandFilterGroups=function(t,e){var i=[],o=function(n){var r=n.getFilterGroupId();(!e||ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(e,r))&&(t&&n.isColumnGroup()?n.expand():n.collapse(),i.push(r)),n.getChildren().forEach((function(t){t instanceof ToolPanelFilterGroupComp&&o(t)}))};if(this.filterGroupComps.forEach(o),this.onGroupExpanded(),e){var n=e.filter((function(t){return i.indexOf(t)<0}));n.length>0&&console.warn("AG Grid: unable to find groups for these supplied groupIds:",n)}},e.prototype.expandFilters=function(t,e){var i=[],o=function(n){if(n instanceof ToolPanelFilterGroupComp){var r=!1;return n.getChildren().forEach((function(e){o(e)&&(t?(n.expand(),r=!0):n.isColumnGroup()||n.collapse())})),r}var s=n.getColumn().getColId(),a=!e||ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(e,s);return a&&(t?n.expand():n.collapse(),i.push(s)),a};if(this.filterGroupComps.forEach(o),this.onGroupExpanded(),e){var n=e.filter((function(t){return i.indexOf(t)<0}));n.length>0&&console.warn("AG Grid: unable to find columns for these supplied colIds:",n)}},e.prototype.onGroupExpanded=function(){this.fireExpandedEvent()},e.prototype.fireExpandedEvent=function(){var t,e=0,i=0,o=function(t){t.isColumnGroup()&&(t.isExpanded()?e++:i++,t.getChildren().forEach((function(t){t instanceof ToolPanelFilterGroupComp&&o(t)})))};this.filterGroupComps.forEach(o),t=e>0&&i>0?EXPAND_STATE.INDETERMINATE:i>0?EXPAND_STATE.COLLAPSED:EXPAND_STATE.EXPANDED,this.dispatchEvent({type:"groupExpanded",state:t})},e.prototype.performFilterSearch=function(t){this.searchFilterText=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(t)?t.toLowerCase():null,this.searchFilters(this.searchFilterText)},e.prototype.searchFilters=function(t){var e,i,o=function(e){return!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(t)||-1!==e.toLowerCase().indexOf(t)},n=function(t,e){if(!(t instanceof ToolPanelFilterGroupComp))return o(t.getColumnFilterName()||"");var i=t.getChildren(),r=o(t.getFilterGroupName()),s=e||r;if(s){t.hideGroup(!1);for(var a=0;a<i.length;a++)n(i[a],s),t.hideGroupItem(!1,a);return!0}var l=!1;return i.forEach((function(i,o){var r=n(i,e);t.hideGroupItem(!r,o),r&&(l=!0)})),t.hideGroup(!l),l};this.filterGroupComps.forEach((function(t,o){n(t,!1),void 0===e?t.containsCssClass("ag-hidden")||(e=o,i=o):t.containsCssClass("ag-hidden")||i===o||(i=o)})),this.setFirstAndLastVisible(e,i)},e.prototype.setFirstAndLastVisible=function(t,e){this.filterGroupComps.forEach((function(i,o){i.removeCssClass("ag-first-group-visible"),i.removeCssClass("ag-last-group-visible"),o===t&&i.addCssClass("ag-first-group-visible"),o===e&&i.addCssClass("ag-last-group-visible")}))},e.prototype.refreshFilters=function(t){this.filterGroupComps.forEach((function(e){return e.refreshFilters(t)}))},e.prototype.destroyFilters=function(){this.filterGroupComps=this.destroyBeans(this.filterGroupComps),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.clearElement(this.getGui())},e.prototype.destroy=function(){this.destroyFilters(),t.prototype.destroy.call(this)},e.TEMPLATE='<div class="ag-filter-list-panel"></div>',__decorate$1X([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],e.prototype,"gridApi",void 0),__decorate$1X([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnApi")],e.prototype,"columnApi",void 0),__decorate$1X([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("toolPanelColDefService")],e.prototype,"toolPanelColDefService",void 0),__decorate$1X([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$2J=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__assign$J=function(){return __assign$J=Object.assign||function(t){for(var e,i=1,o=arguments.length;i<o;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},__assign$J.apply(this,arguments)},__decorate$1W=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},FiltersToolPanel=function(t){function e(){var i=t.call(this,e.TEMPLATE)||this;return i.initialised=!1,i.listenerDestroyFuncs=[],i}return __extends$2J(e,t),e.prototype.init=function(t){this.initialised&&(this.listenerDestroyFuncs.forEach((function(t){return t()})),this.listenerDestroyFuncs=[]),this.initialised=!0;var e={suppressExpandAll:!1,suppressFilterSearch:!1,suppressSyncLayoutWithGrid:!1,api:this.gridApi,columnApi:this.columnApi};this.params=__assign$J(__assign$J(__assign$J({},e),t),{context:this.gridOptionsService.context}),this.filtersToolPanelHeaderPanel.init(this.params),this.filtersToolPanelListPanel.init(this.params);var i=this.params.suppressExpandAll,o=this.params.suppressFilterSearch;i&&o&&this.filtersToolPanelHeaderPanel.setDisplayed(!1),this.listenerDestroyFuncs.push(this.addManagedListener(this.filtersToolPanelHeaderPanel,"expandAll",this.onExpandAll.bind(this)),this.addManagedListener(this.filtersToolPanelHeaderPanel,"collapseAll",this.onCollapseAll.bind(this)),this.addManagedListener(this.filtersToolPanelHeaderPanel,"searchChanged",this.onSearchChanged.bind(this)),this.addManagedListener(this.filtersToolPanelListPanel,"groupExpanded",this.onGroupExpanded.bind(this)))},e.prototype.setVisible=function(e){t.prototype.setDisplayed.call(this,e),e&&!this.initialised&&this.init(this.params)},e.prototype.onExpandAll=function(){this.filtersToolPanelListPanel.expandFilterGroups(!0)},e.prototype.onCollapseAll=function(){this.filtersToolPanelListPanel.expandFilterGroups(!1)},e.prototype.onSearchChanged=function(t){this.filtersToolPanelListPanel.performFilterSearch(t.searchText)},e.prototype.setFilterLayout=function(t){this.filtersToolPanelListPanel.setFiltersLayout(t)},e.prototype.onGroupExpanded=function(t){this.filtersToolPanelHeaderPanel.setExpandState(t.state)},e.prototype.expandFilterGroups=function(t){this.filtersToolPanelListPanel.expandFilterGroups(!0,t)},e.prototype.collapseFilterGroups=function(t){this.filtersToolPanelListPanel.expandFilterGroups(!1,t)},e.prototype.expandFilters=function(t){this.filtersToolPanelListPanel.expandFilters(!0,t)},e.prototype.collapseFilters=function(t){this.filtersToolPanelListPanel.expandFilters(!1,t)},e.prototype.syncLayoutWithGrid=function(){this.filtersToolPanelListPanel.syncFilterLayout()},e.prototype.refresh=function(){this.init(this.params)},e.prototype.destroy=function(){t.prototype.destroy.call(this)},e.TEMPLATE='<div class="ag-filter-toolpanel">\n            <ag-filters-tool-panel-header ref="filtersToolPanelHeaderPanel"></ag-filters-tool-panel-header>\n            <ag-filters-tool-panel-list ref="filtersToolPanelListPanel"></ag-filters-tool-panel-list>\n         </div>',__decorate$1W([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("filtersToolPanelHeaderPanel")],e.prototype,"filtersToolPanelHeaderPanel",void 0),__decorate$1W([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("filtersToolPanelListPanel")],e.prototype,"filtersToolPanelListPanel",void 0),__decorate$1W([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],e.prototype,"gridApi",void 0),__decorate$1W([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnApi")],e.prototype,"columnApi",void 0),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),VERSION$c="29.3.4",FiltersToolPanelModule={version:VERSION$c,moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.FiltersToolPanelModule,beans:[],agStackComponents:[{componentName:"AgFiltersToolPanelHeader",componentClass:FiltersToolPanelHeaderPanel},{componentName:"AgFiltersToolPanelList",componentClass:FiltersToolPanelListPanel}],userComponents:[{componentName:"agFiltersToolPanel",componentClass:FiltersToolPanel}],dependantModules:[SideBarModule,EnterpriseCoreModule]},__extends$2I=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),TimeInterval=function(){function t(t,e,i){this._encode=t,this._decode=e,this._rangeCallback=i}return t.prototype.floor=function(t){var e=new Date(t),i=this._encode(e);return this._decode(i)},t.prototype.ceil=function(t){var e=new Date(Number(t)-1),i=this._encode(e);return this._decode(i+1)},t.prototype.range=function(t,e,i){var o,n=null===(o=this._rangeCallback)||void 0===o?void 0:o.call(this,t,e),r=this._encode(i?this.floor(t):this.ceil(t)),s=this._encode(i?this.ceil(e):this.floor(e));if(s<r)return[];for(var a=[],l=r;l<=s;l++){var c=this._decode(l);a.push(c)}return null==n||n(),a},t}(),CountableTimeInterval=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$2I(e,t),e.prototype.getOffset=function(t,e){var i="number"==typeof t||t instanceof Date?this._encode(new Date(t)):0;return Math.floor(i)%e},e.prototype.every=function(t,e){var i,o=this,n=0,r=(null!=e?e:{}).snapTo,s=void 0===r?"start":r;if("string"==typeof s){var a=n;i=function(e,i){var r="start"===s?e:i;return n=o.getOffset(r,t),function(){return n=a}}}else"number"==typeof s?n=this.getOffset(new Date(s),t):s instanceof Date&&(n=this.getOffset(s,t));return new TimeInterval((function(e){var i=o._encode(e);return Math.floor((i-n)/t)}),(function(e){return o._decode(e*t+n)}),i)},e}(TimeInterval);function encode$b(t){return t.getTime()}function decode$b(t){return new Date(t)}var millisecond=new CountableTimeInterval(encode$b,decode$b);new Date(0).getFullYear();var durationSecond=1e3,durationMinute=60*durationSecond,durationHour=60*durationMinute,durationDay=24*durationHour,durationWeek=7*durationDay,durationMonth=30*durationDay,durationYear=365*durationDay,offset$2=(new Date).getTimezoneOffset()*durationMinute;function encode$a(t){return Math.floor((t.getTime()-offset$2)/durationSecond)}function decode$a(t){return new Date(offset$2+t*durationSecond)}var second=new CountableTimeInterval(encode$a,decode$a),offset$1=(new Date).getTimezoneOffset()*durationMinute;function encode$9(t){return Math.floor((t.getTime()-offset$1)/durationMinute)}function decode$9(t){return new Date(offset$1+t*durationMinute)}var minute=new CountableTimeInterval(encode$9,decode$9),offset=(new Date).getTimezoneOffset()*durationMinute;function encode$8(t){return Math.floor((t.getTime()-offset)/durationHour)}function decode$8(t){return new Date(offset+t*durationHour)}var hour=new CountableTimeInterval(encode$8,decode$8);function encode$7(t){var e=Date.UTC(t.getFullYear(),t.getMonth(),t.getDate());return Math.floor(e/durationDay)}function decode$7(t){var e=new Date(0);return e.setDate(e.getDate()+t),e.setHours(0,0,0,0),e}var day=new CountableTimeInterval(encode$7,decode$7),baseSunday=new Date(2023,0,1);function weekday(t){var e=Date.UTC(baseSunday.getFullYear(),baseSunday.getMonth(),baseSunday.getDate())+t*durationDay;return new CountableTimeInterval((function(t){var i=Date.UTC(t.getFullYear(),t.getMonth(),t.getDate());return Math.floor((i-e)/durationWeek)}),(function(t){var i=new Date(e);return i.setDate(i.getDate()+7*t),i}))}var sunday=weekday(0),monday=weekday(1),tuesday=weekday(2),wednesday=weekday(3),thursday=weekday(4),friday=weekday(5),saturday=weekday(6);function encode$6(t){return 12*t.getFullYear()+t.getMonth()}function decode$6(t){var e=Math.floor(t/12);return new Date(e,t-12*e,1)}var month=new CountableTimeInterval(encode$6,decode$6);function encode$5(t){return t.getFullYear()}function decode$5(t){var e=new Date;return e.setFullYear(t),e.setMonth(0,1),e.setHours(0,0,0,0),e}var year=new CountableTimeInterval(encode$5,decode$5);function encode$4(t){return Math.floor(t.getTime()/durationMinute)}function decode$4(t){return new Date(t*durationMinute)}var utcMinute=new CountableTimeInterval(encode$4,decode$4);function encode$3(t){return Math.floor(t.getTime()/durationHour)}function decode$3(t){return new Date(t*durationHour)}var utcHour=new CountableTimeInterval(encode$3,decode$3);function encode$2(t){return Math.floor(t.getTime()/durationDay)}function decode$2(t){var e=new Date(0);return e.setUTCDate(e.getUTCDate()+t),e.setUTCHours(0,0,0,0),e}var utcDay=new CountableTimeInterval(encode$2,decode$2);function encode$1(t){return 12*t.getUTCFullYear()+t.getUTCMonth()}function decode$1(t){var e=Math.floor(t/12),i=t-12*e;return new Date(Date.UTC(e,i,1))}var utcMonth=new CountableTimeInterval(encode$1,decode$1);function encode(t){return t.getUTCFullYear()}function decode(t){var e=new Date;return e.setUTCFullYear(t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0),e}var utcYear=new CountableTimeInterval(encode,decode),time=Object.freeze({__proto__:null,millisecond,second,minute,hour,day,sunday,monday,tuesday,wednesday,thursday,friday,saturday,month,year,utcMinute,utcHour,utcDay,utcMonth,utcYear}),MOBILE=[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i];function isDesktop(){var t=navigator.userAgent;return!MOBILE.some((function(e){return e.test(t)}))}var HdpiCanvas=function(){function t(t){var e=t.document,i=void 0===e?window.document:e,o=t.width,n=void 0===o?600:o,r=t.height,s=void 0===r?300:r,a=t.domLayer,l=void 0!==a&&a,c=t.zIndex,u=void 0===c?0:c,h=t.name,d=void 0===h?void 0:h,p=t.overrideDevicePixelRatio,f=void 0===p?void 0:p;this._container=void 0,this._enabled=!0,this._pixelRatio=NaN,this._width=0,this._height=0,this.document=i,this.element=i.createElement("canvas"),this.element.width=n,this.element.height=s,this.context=this.element.getContext("2d"),this.imageSource=this.context.canvas;var g=this.element.style;g.userSelect="none",g.display="block",l&&(g.position="absolute",g.zIndex=String(u),g.top="0",g.left="0",g.pointerEvents="none",g.opacity="1",d&&(this.element.id=d)),this.setPixelRatio(f),this.resize(n,s)}return Object.defineProperty(t.prototype,"container",{get:function(){return this._container},set:function(t){this._container!==t&&(this.remove(),t&&t.appendChild(this.element),this._container=t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return this._enabled},set:function(t){this.element.style.display=t?"block":"none",this._enabled=!!t},enumerable:!1,configurable:!0}),t.prototype.remove=function(){var t=this.element.parentNode;null!=t&&t.removeChild(this.element)},t.prototype.destroy=function(){this.element.remove(),this.element.width=0,this.element.height=0,this.context.clearRect(0,0,0,0),Object.freeze(this)},t.prototype.snapshot=function(){},t.prototype.clear=function(){this.context.save(),this.context.resetTransform(),this.context.clearRect(0,0,this.width,this.height),this.context.restore()},t.prototype.toImage=function(){var t=this.document.createElement("img");return t.src=this.getDataURL(),t},t.prototype.getDataURL=function(t){return this.element.toDataURL(t)},t.prototype.download=function(t,e){void 0===e&&(e="image/png"),t=(t||"").trim()||"image";var i=this.getDataURL(e),o=this.document,n=o.createElement("a");n.href=i,n.download=t,n.style.display="none",o.body.appendChild(n),n.click(),o.body.removeChild(n)},Object.defineProperty(t.prototype,"pixelRatio",{get:function(){return this._pixelRatio},enumerable:!1,configurable:!0}),t.prototype.setPixelRatio=function(e){var i=null!=e?e:window.devicePixelRatio;isDesktop()||(i=1),t.overrideScale(this.context,i),this._pixelRatio=i},Object.defineProperty(t.prototype,"pixelated",{get:function(){return"pixelated"===this.element.style.imageRendering},set:function(t){this.element.style.imageRendering=t?"pixelated":"auto"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),t.prototype.resize=function(t,e){if(t>0&&e>0){var i=this,o=i.element,n=i.context,r=i.pixelRatio;o.width=Math.round(t*r),o.height=Math.round(e*r),o.style.width=t+"px",o.style.height=e+"px",n.resetTransform(),this._width=t,this._height=e}},Object.defineProperty(t,"textMeasuringContext",{get:function(){if(this._textMeasuringContext)return this._textMeasuringContext;var t=document.createElement("canvas");return this._textMeasuringContext=t.getContext("2d"),this._textMeasuringContext},enumerable:!1,configurable:!0}),Object.defineProperty(t,"svgText",{get:function(){if(this._svgText)return this._svgText;var t="http://www.w3.org/2000/svg",e=document.createElementNS(t,"svg");e.setAttribute("width","100"),e.setAttribute("height","100"),e.classList?e.classList.add("text-measuring-svg"):e.setAttribute("class","text-measuring-svg"),e.style.position="absolute",e.style.top="-1000px",e.style.visibility="hidden";var i=document.createElementNS(t,"text");return i.setAttribute("x","0"),i.setAttribute("y","30"),i.setAttribute("text","black"),e.appendChild(i),document.body.appendChild(e),this._svgText=i,i},enumerable:!1,configurable:!0}),Object.defineProperty(t,"has",{get:function(){if(this._has)return this._has;var t=navigator.userAgent.indexOf("Chrome")>-1,e=navigator.userAgent.indexOf("Firefox")>-1,i=!t&&navigator.userAgent.indexOf("Safari")>-1;return this._has=Object.freeze({textMetrics:void 0!==this.textMeasuringContext.measureText("test").actualBoundingBoxDescent&&!e&&!i,getTransform:void 0!==this.textMeasuringContext.getTransform}),this._has},enumerable:!1,configurable:!0}),t.measureText=function(t,e,i,o){var n=this.textMeasuringContext;return n.font=e,n.textBaseline=i,n.textAlign=o,n.measureText(t)},t.getTextSize=function(t,e){if(this.has.textMetrics){var i=this.textMeasuringContext;i.font=e;var o=i.measureText(t);return{width:o.width,height:o.actualBoundingBoxAscent+o.actualBoundingBoxDescent}}return this.measureSvgText(t,e)},t.measureSvgText=function(t,e){var i=this.textSizeCache,o=i[e];if(o){var n=o[t];if(n)return n}else i[e]={};var r=this.svgText;r.style.font=e,r.textContent=t;var s=r.getBBox(),a={width:s.width,height:s.height};return i[e][t]=a,a},t.overrideScale=function(t,e){var i=0,o={save:function(){this.$save(),i++},restore:function(){if(!(i>0))throw new Error("AG Charts - Unable to restore() past depth 0");this.$restore(),i--},setTransform:function(t,i,o,n,r,s){"object"==typeof t?this.$setTransform(t):this.$setTransform(t*e,i*e,o*e,n*e,r*e,s*e)},resetTransform:function(){this.$setTransform(e,0,0,e,0,0)},verifyDepthZero:function(){if(0!==i)throw new Error("AG Charts - Save/restore depth is non-zero: "+i)}};for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t["$"+n]||(t["$"+n]=t[n]),t[n]=o[n])},t.textSizeCache={},t}(),__assign$I=function(){return __assign$I=Object.assign||function(t){for(var e,i=1,o=arguments.length;i<o;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},__assign$I.apply(this,arguments)},__read$10=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,n,r=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return s},BBox=function(){function t(t,e,i,o){this.x=t,this.y=e,this.width=i,this.height=o}return t.prototype.clone=function(){var e=this;return new t(e.x,e.y,e.width,e.height)},t.prototype.equals=function(t){return this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height},t.prototype.containsPoint=function(t,e){return t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height},t.prototype.collidesBBox=function(t){return this.x<t.x+t.width&&this.x+this.width>t.x&&this.y<t.y+t.height&&this.y+this.height>t.y},t.prototype.isInfinite=function(){return Math.abs(this.x)===1/0||Math.abs(this.y)===1/0||Math.abs(this.width)===1/0||Math.abs(this.height)===1/0},t.prototype.shrink=function(t,e){var i=this,o=function(t,e){switch(t){case"top":i.y+=e;case"bottom":i.height-=e;break;case"left":i.x+=e;case"right":i.width-=e;break;case"vertical":i.y+=e,i.height-=2*e;break;case"horizontal":i.x+=e,i.width-=2*e;break;default:i.x+=e,i.width-=2*e,i.y+=e,i.height-=2*e}};return"number"==typeof t?o(e,t):Object.entries(t).forEach((function(t){var e=__read$10(t,2),i=e[0],n=e[1];return o(i,n)})),this},t.prototype.grow=function(t,e){if("number"==typeof t)this.shrink(-t,e);else{var i=__assign$I({},t);for(var o in i)i[o]*=-1;this.shrink(i)}return this},t.merge=function(e){var i=1/0,o=1/0,n=-1/0,r=-1/0;return e.forEach((function(t){t.x<i&&(i=t.x),t.y<o&&(o=t.y),t.x+t.width>n&&(n=t.x+t.width),t.y+t.height>r&&(r=t.y+t.height)})),new t(i,o,n-i,r-o)},t}(),__read$$=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,n,r=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return s},Matrix=function(){function t(t){void 0===t&&(t=[1,0,0,1,0,0]),this.elements=t}return t.prototype.setElements=function(t){var e=this.elements;return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],this},Object.defineProperty(t.prototype,"identity",{get:function(){var t=this.elements;return 1===t[0]&&0===t[1]&&0===t[2]&&1===t[3]&&0===t[4]&&0===t[5]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"a",{get:function(){return this.elements[0]},set:function(t){this.elements[0]=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"b",{get:function(){return this.elements[1]},set:function(t){this.elements[1]=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"c",{get:function(){return this.elements[2]},set:function(t){this.elements[2]=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"d",{get:function(){return this.elements[3]},set:function(t){this.elements[3]=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"e",{get:function(){return this.elements[4]},set:function(t){this.elements[4]=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"f",{get:function(){return this.elements[5]},set:function(t){this.elements[5]=t},enumerable:!1,configurable:!0}),t.prototype.AxB=function(t,e,i){var o=t[0]*e[0]+t[2]*e[1],n=t[1]*e[0]+t[3]*e[1],r=t[0]*e[2]+t[2]*e[3],s=t[1]*e[2]+t[3]*e[3],a=t[0]*e[4]+t[2]*e[5]+t[4],l=t[1]*e[4]+t[3]*e[5]+t[5];(i=i||t)[0]=o,i[1]=n,i[2]=r,i[3]=s,i[4]=a,i[5]=l},t.prototype.multiplySelf=function(t){return this.AxB(this.elements,t.elements),this},t.prototype.multiply=function(e){var i=new Array(6);return this.AxB(this.elements,e.elements,i),new t(i)},t.prototype.preMultiplySelf=function(t){return this.AxB(t.elements,this.elements,this.elements),this},t.prototype.inverse=function(){var e=this.elements,i=e[0],o=e[1],n=e[2],r=e[3],s=e[4],a=e[5],l=1/(i*r-o*n);return new t([r*=l,-(o*=l),-(n*=l),i*=l,n*a-r*s,o*s-i*a])},t.prototype.inverseTo=function(t){var e=this.elements,i=e[0],o=e[1],n=e[2],r=e[3],s=e[4],a=e[5],l=1/(i*r-o*n);return i*=l,o*=l,n*=l,r*=l,t.setElements([r,-o,-n,i,n*a-r*s,o*s-i*a]),this},t.prototype.invertSelf=function(){var t=this.elements,e=t[0],i=t[1],o=t[2],n=t[3],r=t[4],s=t[5],a=1/(e*n-i*o);return e*=a,i*=a,o*=a,n*=a,t[0]=n,t[1]=-i,t[2]=-o,t[3]=e,t[4]=o*s-n*r,t[5]=i*r-e*s,this},t.prototype.transformPoint=function(t,e){var i=this.elements;return{x:t*i[0]+e*i[2]+i[4],y:t*i[1]+e*i[3]+i[5]}},t.prototype.transformBBox=function(t,e){var i=this.elements,o=i[0],n=i[1],r=i[2],s=i[3],a=.5*t.width,l=.5*t.height,c=t.x+a,u=t.y+l,h=Math.abs(a*o)+Math.abs(l*r),d=Math.abs(a*n)+Math.abs(l*s);return e||(e=new BBox(0,0,0,0)),e.x=c*o+u*r+i[4]-h,e.y=c*n+u*s+i[5]-d,e.width=h+h,e.height=d+d,e},t.prototype.toContext=function(t){if(!this.identity){var e=this.elements;t.transform(e[0],e[1],e[2],e[3],e[4],e[5])}},t.flyweight=function(e){return t.instance.setElements(e.elements)},t.updateTransformMatrix=function(t,e,i,o,n,r,s){var a,l,c=__read$$([0,0],2),u=c[0],h=c[1],d=e,p=i;1===d&&1===p?(a=0,l=0):(a=null==(null==s?void 0:s.scalingCenterX)?u:null==s?void 0:s.scalingCenterX,l=null==(null==s?void 0:s.scalingCenterY)?h:null==s?void 0:s.scalingCenterY);var f,g,m=o,y=Math.cos(m),v=Math.sin(m);0===m?(f=0,g=0):(f=null==(null==s?void 0:s.rotationCenterX)?u:null==s?void 0:s.rotationCenterX,g=null==(null==s?void 0:s.rotationCenterY)?h:null==s?void 0:s.rotationCenterY);var _=n,C=r,b=a*(1-d)-f,E=l*(1-p)-g;return t.setElements([y*d,v*d,-v*p,y*p,y*b-v*E+f+_,v*b+y*E+g+C]),t},t.fromContext=function(e){var i=e.getTransform();return new t([i.a,i.b,i.c,i.d,i.e,i.f])},t.instance=new t,t}(),ID_MAP={},RedrawType;function createId$1(t){var e,i=t.constructor,o=Object.prototype.hasOwnProperty.call(i,"className")?i.className:i.name;if(!o)throw new Error("The "+i+" is missing the 'className' property.");var n=(null!==(e=ID_MAP[o])&&void 0!==e?e:0)+1;return ID_MAP[o]=n,o+"-"+n}function windowValue(t){var e="undefined"!=typeof window?window:void 0;return null==e?void 0:e[t]}function evalAvailable(){try{return eval(""),!0}catch(t){return!1}}!function(t){t[t.NONE=0]="NONE",t[t.TRIVIAL=1]="TRIVIAL",t[t.MINOR=2]="MINOR",t[t.MAJOR=3]="MAJOR"}(RedrawType||(RedrawType={}));var EVAL_USEABLE=evalAvailable();function SceneChangeDetection(opts){var _a=opts||{},_b=_a.redraw,redraw=void 0===_b?RedrawType.TRIVIAL:_b,_c=_a.type,type=void 0===_c?"normal":_c,changeCb=_a.changeCb,convertor=_a.convertor,_d=_a.checkDirtyOnAssignment,checkDirtyOnAssignment=void 0!==_d&&_d,debug=null!=windowValue("agChartsSceneChangeDetectionDebug");return function(target,key){var privateKey="__"+key;if(!target[key])if(EVAL_USEABLE){var setterJs="\n                "+(debug?"var setCount = 0;":"")+"\n                function set_"+key+"(value) {\n                    const oldValue = this."+privateKey+";\n                    "+(convertor?"value = convertor(value);":"")+"\n                    if (value !== oldValue) {\n                        this."+privateKey+" = value;\n                        "+(debug?"console.log({ t: this, property: '"+key+"', oldValue, value, stack: new Error().stack });":"")+"\n                        "+("normal"===type?"this.markDirty(this, "+redraw+");":"")+"\n                        "+("transform"===type?"this.markDirtyTransform("+redraw+");":"")+"\n                        "+("path"===type?"if (!this._dirtyPath) { this._dirtyPath = true; this.markDirty(this, "+redraw+"); }":"")+"\n                        "+("font"===type?"if (!this._dirtyFont) { this._dirtyFont = true; this.markDirty(this, "+redraw+"); }":"")+"\n                        "+(changeCb?"changeCb(this);":"")+"\n                    }\n                    "+(checkDirtyOnAssignment?"if (value != null && value._dirty > "+RedrawType.NONE+") { this.markDirty(value, value._dirty); }":"")+"\n                };\n                set_"+key+";\n            ",getterJs="\n                function get_"+key+"() {\n                    return this."+privateKey+";\n                };\n                get_"+key+";\n            ";Object.defineProperty(target,key,{set:eval(setterJs),get:eval(getterJs),enumerable:!0,configurable:!0})}else{var setter=function(t){var e=this[privateKey];(t=convertor?convertor(t):t)!==e&&(this[privateKey]=t,"normal"===type&&this.markDirty(this,redraw),"transform"===type&&this.markDirtyTransform(redraw),"path"!==type||this._dirtyPath||(this._dirtyPath=!0,this.markDirty(this,redraw)),"font"!==type||this._dirtyFont||(this._dirtyFont=!0,this.markDirty(this,redraw)),changeCb&&changeCb(this)),checkDirtyOnAssignment&&null!=t&&t._dirty>RedrawType.NONE&&this.markDirty(t,t._dirty)},getter=function(){return this[privateKey]};Object.defineProperty(target,key,{set:setter,get:getter,enumerable:!0,configurable:!0})}}}var ChangeDetectable=function(){function t(){this._dirty=RedrawType.MAJOR}return t.prototype.markDirty=function(t,e){void 0===e&&(e=RedrawType.TRIVIAL),this._dirty>e||(this._dirty=e)},t.prototype.markClean=function(t){this._dirty=RedrawType.NONE},t.prototype.isDirty=function(){return this._dirty>RedrawType.NONE},t}(),__extends$2H=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$1V=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},__values$B=function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],o=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},__read$_=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,n,r=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return s},__spread$B=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$_(arguments[e]));return t},PointerEvents;!function(t){t[t.All=0]="All",t[t.None=1]="None"}(PointerEvents||(PointerEvents={}));var zIndexChangedCallback=function(t){t.parent&&(t.parent.dirtyZIndex=!0),t.zIndexChanged()},Node=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.serialNumber=e._nextSerialNumber++,i.id=createId$1(i),i.tag=NaN,i.isContainerNode=!1,i._children=[],i.childSet={},i.matrix=new Matrix,i.inverseMatrix=new Matrix,i._dirtyTransform=!1,i.scalingX=1,i.scalingY=1,i.scalingCenterX=null,i.scalingCenterY=null,i.rotationCenterX=null,i.rotationCenterY=null,i.rotation=0,i.translationX=0,i.translationY=0,i.visible=!0,i.dirtyZIndex=!1,i.zIndex=0,i.zIndexSubOrder=void 0,i.pointerEvents=PointerEvents.All,i}return __extends$2H(e,t),Object.defineProperty(e.prototype,"datum",{get:function(){var t;return void 0!==this._datum?this._datum:null===(t=this._parent)||void 0===t?void 0:t.datum},set:function(t){this._datum=t},enumerable:!1,configurable:!0}),e.prototype._setLayerManager=function(t){var e,i;this._layerManager=t,this._debug=null==t?void 0:t.debug;try{for(var o=__values$B(this.children),n=o.next();!n.done;n=o.next()){n.value._setLayerManager(t)}}catch(t){e={error:t}}finally{try{n&&!n.done&&(i=o.return)&&i.call(o)}finally{if(e)throw e.error}}},Object.defineProperty(e.prototype,"layerManager",{get:function(){return this._layerManager},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this._parent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"children",{get:function(){return this._children},enumerable:!1,configurable:!0}),e.prototype.append=function(t){var e,i;Array.isArray(t)||(t=[t]);try{for(var o=__values$B(t),n=o.next();!n.done;n=o.next()){var r=n.value;if(r.parent)throw new Error(r+" already belongs to another parent: "+r.parent+".");if(r.layerManager)throw new Error(r+" already belongs to a scene: "+r.layerManager+".");if(this.childSet[r.id])throw new Error("Duplicate "+r.constructor.name+" node: "+r);this._children.push(r),this.childSet[r.id]=!0,r._parent=this,r._setLayerManager(this.layerManager)}}catch(t){e={error:t}}finally{try{n&&!n.done&&(i=o.return)&&i.call(o)}finally{if(e)throw e.error}}this.dirtyZIndex=!0,this.markDirty(this,RedrawType.MAJOR)},e.prototype.appendChild=function(t){return this.append(t),t},e.prototype.removeChild=function(t){if(t.parent===this){var e=this.children.indexOf(t);if(e>=0)return this._children.splice(e,1),delete this.childSet[t.id],t._parent=void 0,t._setLayerManager(),this.dirtyZIndex=!0,this.markDirty(t,RedrawType.MAJOR),t}throw new Error("The node to be removed is not a child of this node.")},e.prototype.insertBefore=function(t,e){var i=t.parent;if(t.parent&&t.parent.removeChild(t),e&&e.parent===this){var o=this.children.indexOf(e);if(!(o>=0))throw new Error(e+" has "+i+" as the parent, but is not in its list of children.");this._children.splice(o,0,t),this.childSet[t.id]=!0,t._parent=this,t._setLayerManager(this.layerManager),this.dirtyZIndex=!0,this.markDirty(t,RedrawType.MAJOR)}else this.append(t);return t},e.prototype.calculateCumulativeMatrix=function(){this.computeTransformMatrix();for(var t=Matrix.flyweight(this.matrix),e=this.parent;e;)e.computeTransformMatrix(),t.preMultiplySelf(e.matrix),e=e.parent;return t},e.prototype.transformPoint=function(t,e){return this.calculateCumulativeMatrix().invertSelf().transformPoint(t,e)},e.prototype.inverseTransformPoint=function(t,e){return this.calculateCumulativeMatrix().transformPoint(t,e)},e.prototype.transformBBox=function(t){return this.calculateCumulativeMatrix().invertSelf().transformBBox(t)},e.prototype.inverseTransformBBox=function(t){return this.calculateCumulativeMatrix().transformBBox(t)},e.prototype.markDirtyTransform=function(){this._dirtyTransform=!0,this.markDirty(this,RedrawType.MAJOR)},e.prototype.containsPoint=function(t,e){return!1},e.prototype.pickNode=function(t,e){var i;if(this.visible&&this.pointerEvents!==PointerEvents.None&&this.containsPoint(t,e)){var o=this.children;if(o.length>1e3)for(var n=o.length-1;n>=0;n--){if(r=(null===(i=o[n].computeBBox())||void 0===i?void 0:i.containsPoint(t,e))?o[n].pickNode(t,e):void 0)return r}else if(o.length)for(n=o.length-1;n>=0;n--){var r;if(r=o[n].pickNode(t,e))return r}else if(!this.isContainerNode)return this}},e.prototype.findNodes=function(t){var e,i,o=t(this)?[this]:[];try{for(var n=__values$B(this.children),r=n.next();!r.done;r=n.next()){var s=r.value.findNodes(t);s&&o.push.apply(o,__spread$B(s))}}catch(t){e={error:t}}finally{try{r&&!r.done&&(i=n.return)&&i.call(n)}finally{if(e)throw e.error}}return o},e.prototype.computeBBox=function(){},e.prototype.computeTransformedBBox=function(){var t=this.computeBBox();if(t){this.computeTransformMatrix();for(var e=Matrix.flyweight(this.matrix),i=this.parent;i;)i.computeTransformMatrix(),e.preMultiplySelf(i.matrix),i=i.parent;return e.transformBBox(t,t),t}},e.prototype.computeTransformMatrix=function(){if(this._dirtyTransform){var t=this,e=t.matrix,i=t.scalingX,o=t.scalingY,n=t.rotation,r=t.translationX,s=t.translationY,a=t.scalingCenterX,l=t.scalingCenterY,c=t.rotationCenterX,u=t.rotationCenterY;Matrix.updateTransformMatrix(e,i,o,n,r,s,{scalingCenterX:a,scalingCenterY:l,rotationCenterX:c,rotationCenterY:u}),e.inverseTo(this.inverseMatrix),this._dirtyTransform=!1}},e.prototype.render=function(t){var e=t.stats;this._dirty=RedrawType.NONE,e&&e.nodesRendered++},e.prototype.clearBBox=function(t){var e=this.computeBBox();if(null!=e){var i=e.x,o=e.y,n=e.width,r=e.height,s=this.transformPoint(i,o),a=this.transformPoint(i+n,o+r);t.clearRect(s.x,s.y,a.x-s.x,a.y-s.y)}},e.prototype.markDirty=function(t,e,i){void 0===e&&(e=RedrawType.TRIVIAL),void 0===i&&(i=e),this._dirty>e||this._dirty===e&&e===i||(this._dirty=e,this.parent?this.parent.markDirty(this,i):this.layerManager&&this.layerManager.markDirty())},Object.defineProperty(e.prototype,"dirty",{get:function(){return this._dirty},enumerable:!1,configurable:!0}),e.prototype.markClean=function(t){var e,i,o=t||{},n=o.force,r=void 0!==n&&n,s=o.recursive,a=void 0===s||s;if((this._dirty!==RedrawType.NONE||r)&&(this._dirty=RedrawType.NONE,a))try{for(var l=__values$B(this.children),c=l.next();!c.done;c=l.next()){c.value.markClean()}}catch(t){e={error:t}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(e)throw e.error}}},e.prototype.visibilityChanged=function(){},Object.defineProperty(e.prototype,"nodeCount",{get:function(){var t,e,i=1,o=this._dirty>=RedrawType.NONE||this._dirtyTransform?1:0,n=this.visible?1:0;try{for(var r=__values$B(this._children),s=r.next();!s.done;s=r.next()){var a=s.value.nodeCount,l=a.count,c=a.visibleCount,u=a.dirtyCount;i+=l,n+=c,o+=u}}catch(e){t={error:e}}finally{try{s&&!s.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return{count:i,visibleCount:n,dirtyCount:o}},enumerable:!1,configurable:!0}),e.prototype.zIndexChanged=function(){},e._nextSerialNumber=0,__decorate$1V([SceneChangeDetection({type:"transform"})],e.prototype,"scalingX",void 0),__decorate$1V([SceneChangeDetection({type:"transform"})],e.prototype,"scalingY",void 0),__decorate$1V([SceneChangeDetection({type:"transform"})],e.prototype,"scalingCenterX",void 0),__decorate$1V([SceneChangeDetection({type:"transform"})],e.prototype,"scalingCenterY",void 0),__decorate$1V([SceneChangeDetection({type:"transform"})],e.prototype,"rotationCenterX",void 0),__decorate$1V([SceneChangeDetection({type:"transform"})],e.prototype,"rotationCenterY",void 0),__decorate$1V([SceneChangeDetection({type:"transform"})],e.prototype,"rotation",void 0),__decorate$1V([SceneChangeDetection({type:"transform"})],e.prototype,"translationX",void 0),__decorate$1V([SceneChangeDetection({type:"transform"})],e.prototype,"translationY",void 0),__decorate$1V([SceneChangeDetection({redraw:RedrawType.MAJOR,changeCb:function(t){return t.visibilityChanged()}})],e.prototype,"visible",void 0),__decorate$1V([SceneChangeDetection({redraw:RedrawType.TRIVIAL,changeCb:zIndexChangedCallback})],e.prototype,"zIndex",void 0),__decorate$1V([SceneChangeDetection({redraw:RedrawType.TRIVIAL,changeCb:zIndexChangedCallback})],e.prototype,"zIndexSubOrder",void 0),e}(ChangeDetectable);function ascendingStringNumberUndefined(t,e){var i=0;return"number"==typeof t&&"number"==typeof e?i=t-e:"string"==typeof t&&"string"==typeof e?i=t.localeCompare(e):null==t&&null==e||(i=null==t?-1:null==e?1:String(t).localeCompare(String(e))),i}function compoundAscending(t,e,i){var o=function(t){return"function"==typeof t?t():t};for(var n in t){var r=i(o(t[n]),o(e[n]));if(0!==r)return r}return 0}var doOnceFlags$1={};function doOnce$1(t,e){doOnceFlags$1[e]||(t(),doOnceFlags$1[e]=!0)}var __read$Z=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,n,r=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return s},__spread$A=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$Z(arguments[e]));return t},Logger={debug:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];console.log.apply(console,__spread$A(t))},warn:function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];console.warn.apply(console,__spread$A(["AG Charts - "+t],e))},error:function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];console.error.apply(console,__spread$A(["AG Charts - "+t],e))},warnOnce:function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];doOnce$1((function(){return Logger.warn.apply(Logger,__spread$A([t],e))}),"Logger.warn: "+t)},errorOnce:function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];doOnce$1((function(){return Logger.error.apply(Logger,__spread$A([t],e))}),"Logger.warn: "+t)}},__extends$2G=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__assign$H=function(){return __assign$H=Object.assign||function(t){for(var e,i=1,o=arguments.length;i<o;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},__assign$H.apply(this,arguments)},__decorate$1U=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},__values$A=function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],o=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},__read$Y=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,n,r=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return s},__spread$z=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$Y(arguments[e]));return t},Group=function(t){function e(e){var i,o=t.call(this)||this;o.opts=e,o.opacity=1,o.lastBBox=void 0;var n=e||{},r=n.zIndex,s=n.zIndexSubOrder;return o.isContainerNode=!0,void 0!==r&&(o.zIndex=r),void 0!==s&&(o.zIndexSubOrder=s),o.name=null===(i=o.opts)||void 0===i?void 0:i.name,o}return __extends$2G(e,t),e.prototype.zIndexChanged=function(){var t;this.layer&&(null===(t=this._layerManager)||void 0===t||t.moveLayer(this.layer,this.zIndex,this.zIndexSubOrder))},e.prototype.isLayer=function(){return null!=this.layer},e.prototype._setLayerManager=function(e){var i,o=this;if(this._layerManager&&this.layer&&(this._layerManager.removeLayer(this.layer),this.layer=void 0),this.layer)throw new Error("AG Charts - unable to deregister scene rendering layer!");if(t.prototype._setLayerManager.call(this,e),e&&(null===(i=this.opts)||void 0===i?void 0:i.layer)){var n=this.opts||{},r=n.zIndex,s=n.zIndexSubOrder,a=n.name;this.layer=e.addLayer({zIndex:r,zIndexSubOrder:s,name:a,getComputedOpacity:function(){return o.getComputedOpacity()},getVisibility:function(){return o.getVisibility()}})}},e.prototype.getComputedOpacity=function(){var t=1,i=this;do{i instanceof e&&(t*=i.opacity)}while(i=i.parent);return t},e.prototype.getVisibility=function(){for(var t=this,e=this.visible;t=t.parent;)t.visible||(e=t.visible);return e},e.prototype.visibilityChanged=function(){this.layer&&(this.layer.enabled=this.visible)},e.prototype.markDirty=function(e,i){void 0===i&&(i=RedrawType.TRIVIAL);var o=i<=RedrawType.MINOR?RedrawType.TRIVIAL:i;t.prototype.markDirty.call(this,e,i,o)},e.prototype.containsPoint=function(t,e){return!0},e.prototype.computeBBox=function(){return this.computeTransformMatrix(),e.computeBBox(this.children)},e.prototype.computeTransformedBBox=function(){return this.computeBBox()},e.prototype.render=function(e){var i,o,n,r,s=this.opts,a=(void 0===s?{}:s).name,l=void 0===a?void 0:a,c=this._debug,u=(void 0===c?{}:c).consoleLog,h=void 0!==u&&u,d=this,p=d.dirty,f=d.dirtyZIndex,g=d.layer,m=d.children,y=d.clipRect,v=e.ctx,_=e.forceRender,C=e.clipBBox,b=e.resized,E=e.stats,S=v.getTransform(),w=p>=RedrawType.MINOR||f||b,O=w||m.some((function(t){return t.dirty>=RedrawType.TRIVIAL}));if(l&&h&&Logger.debug({name:l,group:this,isDirty:w,isChildDirty:O,renderCtx:e,forceRender:_}),g){var x=this.computeBBox();void 0!==this.lastBBox&&this.lastBBox.equals(x)?x.isInfinite()||(_=!1):(_=!0,this.lastBBox=x)}if(!w&&!O&&!_){if(l&&h&&E){var P=this.nodeCount;Logger.debug({name:l,result:"skipping",renderCtx:e,counts:P,group:this})}return g&&E&&(E.layersSkipped++,E.nodesSkipped+=this.nodeCount.count),void this.markClean({recursive:!1})}var T=this.visible;if(g){if((v=g.context).save(),v.resetTransform(),_=!0,g.clear(),C){var M=C.width,D=C.height,A=C.x,R=C.y;h&&Logger.debug({name:l,clipBBox:C,ctxTransform:v.getTransform(),renderCtx:e,group:this}),this.clipCtx(v,A,R,M,D)}v.setTransform(S)}else v.globalAlpha*=this.opacity;if(this.computeTransformMatrix(),this.matrix.toContext(v),y){A=y.x,R=y.y,M=y.width,D=y.height;v.save(),h&&Logger.debug({name:l,clipRect:y,ctxTransform:v.getTransform(),renderCtx:e,group:this}),this.clipCtx(v,A,R,M,D),C=this.matrix.inverse().transformBBox(y)}f&&(this.sortChildren(),_=!0);var L=_!==e.forceRender||C!==e.clipBBox||v!==e.ctx?__assign$H(__assign$H({},e),{ctx:v,forceRender:_,clipBBox:C}):e,I=0;try{for(var N=__values$A(m),k=N.next();!k.done;k=N.next()){var F=k.value;F.visible&&T?_||F.dirty!==RedrawType.NONE?(v.save(),F.render(L),v.restore()):E&&(I+=F.nodeCount.count):(F.markClean(),E&&(I+=F.nodeCount.count))}}catch(t){i={error:t}}finally{try{k&&!k.done&&(o=N.return)&&o.call(N)}finally{if(i)throw i.error}}if(E&&(E.nodesSkipped+=I),t.prototype.render.call(this,e),y&&v.restore(),g&&(E&&E.layersRendered++,v.restore(),g.snapshot(),null===(r=(n=g.context).verifyDepthZero)||void 0===r||r.call(n)),l&&h&&E){P=this.nodeCount;Logger.debug({name:l,result:"rendered",skipped:I,renderCtx:e,counts:P,group:this})}},e.prototype.sortChildren=function(){this.dirtyZIndex=!1,this.children.sort((function(t,e){var i,o;return compoundAscending(__spread$z([t.zIndex],null!==(i=t.zIndexSubOrder)&&void 0!==i?i:[void 0,void 0],[t.serialNumber]),__spread$z([e.zIndex],null!==(o=e.zIndexSubOrder)&&void 0!==o?o:[void 0,void 0],[e.serialNumber]),ascendingStringNumberUndefined)}))},e.prototype.clipCtx=function(t,e,i,o,n){t.beginPath(),t.moveTo(e,i),t.lineTo(e+o,i),t.lineTo(e+o,i+n),t.lineTo(e,i+n),t.closePath(),t.clip()},e.computeBBox=function(t){var e=1/0,i=-1/0,o=1/0,n=-1/0;return t.forEach((function(t){if(t.visible){var r=t.computeTransformedBBox();if(r){var s=r.x,a=r.y;s<e&&(e=s),a<o&&(o=a),s+r.width>i&&(i=s+r.width),a+r.height>n&&(n=a+r.height)}}})),new BBox(e,o,i-e,n-o)},e.prototype.setClipRectInGroupCoordinateSpace=function(t){this.clipRect=t?this.transformBBox(t):void 0},e.className="Group",__decorate$1U([SceneChangeDetection({convertor:function(t){return Math.min(1,Math.max(0,t))}})],e.prototype,"opacity",void 0),e}(Node),HdpiOffscreenCanvas=function(){function t(t){var e=t.width,i=void 0===e?600:e,o=t.height,n=void 0===o?300:o,r=t.overrideDevicePixelRatio,s=void 0===r?void 0:r;this.enabled=!0,this._pixelRatio=NaN,this._width=0,this._height=0,this.canvas=new OffscreenCanvas(i,n),this.context=this.canvas.getContext("2d"),this.imageSource=this.canvas.transferToImageBitmap(),this.setPixelRatio(s),this.resize(i,n)}return t.isSupported=function(){return null!=window.OffscreenCanvas},t.prototype.snapshot=function(){this.imageSource.close(),this.imageSource=this.canvas.transferToImageBitmap()},t.prototype.destroy=function(){this.imageSource.close(),this.canvas.width=0,this.canvas.height=0,this.context.clearRect(0,0,0,0)},t.prototype.clear=function(){this.context.save(),this.context.resetTransform(),this.context.clearRect(0,0,this.width,this.height),this.context.restore()},Object.defineProperty(t.prototype,"pixelRatio",{get:function(){return this._pixelRatio},enumerable:!1,configurable:!0}),t.prototype.setPixelRatio=function(t){var e=null!=t?t:window.devicePixelRatio;isDesktop()||(e=1),HdpiCanvas.overrideScale(this.context,e),this._pixelRatio=e},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),t.prototype.resize=function(t,e){if(t>0&&e>0){var i=this,o=i.canvas,n=i.context,r=i.pixelRatio;o.width=Math.round(t*r),o.height=Math.round(e*r),n.resetTransform(),this._width=t,this._height=e}},t}(),__assign$G=function(){return __assign$G=Object.assign||function(t){for(var e,i=1,o=arguments.length;i<o;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},__assign$G.apply(this,arguments)},__awaiter$f=function(t,e,i,o){return new(i||(i=Promise))((function(n,r){function s(t){try{l(o.next(t))}catch(t){r(t)}}function a(t){try{l(o.throw(t))}catch(t){r(t)}}function l(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(s,a)}l((o=o.apply(t,e||[])).next())}))},__generator$f=function(t,e){var i,o,n,r,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(n=2&r[0]?o.return:r[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,r[1])).done)return n;switch(o=0,n&&(r=[2&r[0],n.value]),r[0]){case 0:case 1:n=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(n=s.trys,(n=n.length>0&&n[n.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!n||r[1]>n[0]&&r[1]<n[3])){s.label=r[1];break}if(6===r[0]&&s.label<n[1]){s.label=n[1],n=r;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(r);break}n[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(t){r=[6,t],o=0}finally{i=n=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},__read$X=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,n,r=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return s},__spread$y=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$X(arguments[e]));return t},__values$z=function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],o=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function buildSceneNodeHighlight(){var t,e=null!==(t=windowValue("agChartsSceneDebug"))&&void 0!==t?t:[];"string"==typeof e&&(e=[e]);var i=[];return e.forEach((function(t){"layout"===t?i.push("seriesRoot","legend","root",/.*Axis-\d+-axis.*/):i.push(t)})),i}var Scene=function(){function t(t){var e,i;this.id=createId$1(this),this.layers=[],this._nextZIndex=0,this._nextLayerId=0,this._dirty=!1,this._root=null,this.debug={dirtyTree:!1,stats:!1,renderBoundingBoxes:!1,consoleLog:!1,sceneNodeHighlight:[]};var o=t.document,n=void 0===o?window.document:o,r=t.mode,s=void 0===r?windowValue("agChartsSceneRenderModel")||"adv-composite":r,a=t.width,l=t.height,c=t.overrideDevicePixelRatio,u=void 0===c?void 0:c;this.overrideDevicePixelRatio=u,this.opts={document:n,mode:s},this.debug.consoleLog=!0===windowValue("agChartsDebug"),this.debug.stats=null!==(e=windowValue("agChartsSceneStats"))&&void 0!==e&&e,this.debug.dirtyTree=null!==(i=windowValue("agChartsSceneDirtyTree"))&&void 0!==i&&i,this.debug.sceneNodeHighlight=buildSceneNodeHighlight(),this.canvas=new HdpiCanvas({document:n,width:a,height:l,overrideDevicePixelRatio:u})}return Object.defineProperty(t.prototype,"container",{get:function(){return this.canvas.container},set:function(t){this.canvas.container=t},enumerable:!1,configurable:!0}),t.prototype.download=function(t,e){this.canvas.download(t,e)},t.prototype.getDataURL=function(t){return this.canvas.getDataURL(t)},Object.defineProperty(t.prototype,"width",{get:function(){return this.pendingSize?this.pendingSize[0]:this.canvas.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.pendingSize?this.pendingSize[1]:this.canvas.height},enumerable:!1,configurable:!0}),t.prototype.resize=function(t,e){t=Math.round(t),e=Math.round(e);var i=t<=0||e<=0,o=isNaN(t)||isNaN(e);return!(t===this.width&&e===this.height||o||i)&&(this.pendingSize=[t,e],this.markDirty(),!0)},t.prototype.addLayer=function(t){var e,i=this.opts.mode;if(["composite","dom-composite","adv-composite"].includes(i)){var o=t.zIndex,n=void 0===o?this._nextZIndex++:o,r=t.name,s=t.zIndexSubOrder,a=t.getComputedOpacity,l=t.getVisibility,c=this,u=c.width,h=c.height,d=c.overrideDevicePixelRatio,p="dom-composite"===i,f="adv-composite"===i&&HdpiOffscreenCanvas.isSupported()?new HdpiOffscreenCanvas({width:u,height:h,overrideDevicePixelRatio:d}):new HdpiCanvas({document:this.opts.document,width:u,height:h,domLayer:p,zIndex:n,name:r,overrideDevicePixelRatio:d}),g={id:this._nextLayerId++,name:r,zIndex:n,zIndexSubOrder:s,canvas:f,getComputedOpacity:a,getVisibility:l};if(n>=this._nextZIndex&&(this._nextZIndex=n+1),this.layers.push(g),this.sortLayers(),p){var m=this.layers.map((function(t){return t.canvas})).filter((function(t){return t instanceof HdpiCanvas})),y=m.findIndex((function(t){return t===f}));(null!==(e=m[y-1])&&void 0!==e?e:this.canvas).element.insertAdjacentElement("afterend",f.element)}return this.debug.consoleLog&&Logger.debug({layers:this.layers}),g.canvas}},t.prototype.removeLayer=function(t){var e=this.layers.findIndex((function(e){return e.canvas===t}));e>=0&&(this.layers.splice(e,1),t.destroy(),this.markDirty(),this.debug.consoleLog&&Logger.debug({layers:this.layers}))},t.prototype.moveLayer=function(t,e,i){var o=this.layers.find((function(e){return e.canvas===t}));o&&(o.zIndex=e,o.zIndexSubOrder=i,this.sortLayers(),this.markDirty(),this.debug.consoleLog&&Logger.debug({layers:this.layers}))},t.prototype.sortLayers=function(){this.layers.sort((function(t,e){var i,o;return compoundAscending(__spread$y([t.zIndex],null!==(i=t.zIndexSubOrder)&&void 0!==i?i:[void 0,void 0],[t.id]),__spread$y([e.zIndex],null!==(o=e.zIndexSubOrder)&&void 0!==o?o:[void 0,void 0],[e.id]),ascendingStringNumberUndefined)}))},t.prototype.markDirty=function(){this._dirty=!0},Object.defineProperty(t.prototype,"dirty",{get:function(){return this._dirty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this._root},set:function(t){t!==this._root&&(this._root&&this._root._setLayerManager(),this._root=t,t&&(null===t.parent&&t.layerManager&&t.layerManager!==this&&(t.layerManager.root=null),t._setLayerManager(this)),this.markDirty())},enumerable:!1,configurable:!0}),t.prototype.strip=function(){var t,e,i=this.layers;try{for(var o=__values$z(i),n=o.next();!n.done;n=o.next()){var r=n.value;r.canvas.destroy(),delete r.canvas}}catch(e){t={error:e}}finally{try{n&&!n.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}i.splice(0,i.length),this.root=null,this._dirty=!1,this.canvas.context.resetTransform()},t.prototype.destroy=function(){this.container=void 0,this.strip(),this.canvas.destroy(),Object.assign(this,{canvas:void 0,ctx:void 0})},t.prototype.render=function(t){var e;return __awaiter$f(this,void 0,void 0,(function(){var i,o,n,r,s,a,l,c,u,h,d,p,f,g,m,y,v,_;return __generator$f(this,(function(C){return o=(i=t||{}).debugSplitTimes,n=void 0===o?[performance.now()]:o,r=i.extraDebugStats,s=void 0===r?{}:r,l=(a=this).canvas,c=a.canvas.context,u=a.root,h=a.layers,d=a.pendingSize,p=a.opts.mode,d&&((_=this.canvas).resize.apply(_,__spread$y(d)),this.layers.forEach((function(t){var e;return(e=t.canvas).resize.apply(e,__spread$y(d))})),this.pendingSize=void 0),u&&!u.visible?(this._dirty=!1,[2]):u&&!this.dirty?(this.debug.consoleLog&&Logger.debug("no-op",{redrawType:RedrawType[u.dirty],tree:this.buildTree(u)}),this.debugStats(n,c,void 0,s),[2]):(f={ctx:c,forceRender:!0,resized:!!d,debugNodes:{}},"detailed"===this.debug.stats&&(f.stats={layersRendered:0,layersSkipped:0,nodesRendered:0,nodesSkipped:0}),g=!1,(!u||u.dirty>=RedrawType.TRIVIAL)&&(g=!0,l.clear()),u&&this.debug.dirtyTree&&(m=this.buildDirtyTree(u),y=m.dirtyTree,v=m.paths,Logger.debug({dirtyTree:y,paths:v})),u&&g&&(this.debug.consoleLog&&Logger.debug("before",{redrawType:RedrawType[u.dirty],canvasCleared:g,tree:this.buildTree(u)}),u.visible&&(c.save(),u.render(f),c.restore())),"dom-composite"!==p&&h.length>0&&g&&(this.sortLayers(),c.save(),c.setTransform(1/l.pixelRatio,0,0,1/l.pixelRatio,0,0),h.forEach((function(t){var e=t.canvas,i=e.imageSource,o=e.enabled,n=t.getComputedOpacity,r=t.getVisibility;o&&r()&&(c.globalAlpha=n(),c.drawImage(i,0,0))})),c.restore()),null===(e=c.verifyDepthZero)||void 0===e||e.call(c),this._dirty=!1,this.debugStats(n,c,f.stats,s),this.debugSceneNodeHighlight(c,this.debug.sceneNodeHighlight,f.debugNodes),u&&this.debug.consoleLog&&Logger.debug("after",{redrawType:RedrawType[u.dirty],canvasCleared:g,tree:this.buildTree(u)}),[2])}))}))},t.prototype.debugStats=function(t,e,i,o){var n,r;void 0===o&&(o={});var s=performance.now();if(this.debug.stats){var a=t[0];t.push(s);var l=function(t,e){var i=t+e;return t+" / "+i+" ("+Math.round(100*t/i)+"%)"},c=function(t,e){return Math.round(100*(e-t))/100+"ms"},u=null!=i?i:{},h=u.layersRendered,d=void 0===h?0:h,p=u.layersSkipped,f=void 0===p?0:p,g=u.nodesRendered,m=void 0===g?0:g,y=u.nodesSkipped,v=void 0===y?0:y,_=t.map((function(e,i){return i>0?c(t[i-1],e):null})).filter((function(t){return null!=t})).join(" + "),C=Object.entries(o).map((function(t){var e=__read$X(t,2);return e[0]+": "+e[1]})).join(" ; "),b=[c(a,s)+" ("+_+")",""+C,"detailed"===this.debug.stats?"Layers: "+l(d,f):null,"detailed"===this.debug.stats?"Nodes: "+l(m,v):null].filter((function(t){return null!=t}));e.save(),e.fillStyle="white",e.fillRect(0,0,200,10+15*b.length),e.fillStyle="black";var E=0;try{for(var S=__values$z(b),w=S.next();!w.done;w=S.next()){var O=w.value;e.fillText(O,2,10+15*E++)}}catch(t){n={error:t}}finally{try{w&&!w.done&&(r=S.return)&&r.call(S)}finally{if(n)throw n.error}}e.restore()}},t.prototype.debugSceneNodeHighlight=function(t,e,i){var o,n,r,s,a,l,c,u=function(t){return function(e){return!!t.test(e.id)||e instanceof Group&&null!=e.name&&t.test(e.name)}},h=function(t){return function(e){return t===e.id||e instanceof Group&&null!=e.name&&t===e.name}};try{for(var d=__values$z(e),p=d.next();!p.done;p=d.next()){var f=p.value;if("string"!=typeof f||null==i[f]){var g="string"==typeof f?h(f):u(f),m=null===(c=this.root)||void 0===c?void 0:c.findNodes(g);if(m&&0!==m.length)try{for(var y=(r=void 0,__values$z(m)),v=y.next();!v.done;v=y.next()){(b=v.value)instanceof Group&&b.name?i[b.name]=b:i[b.id]=b}}catch(t){r={error:t}}finally{try{v&&!v.done&&(s=y.return)&&s.call(y)}finally{if(r)throw r.error}}else Logger.debug("no debugging node with id ["+f+"] in scene graph.")}}}catch(t){o={error:t}}finally{try{p&&!p.done&&(n=d.return)&&n.call(d)}finally{if(o)throw o.error}}t.save();try{for(var _=__values$z(Object.entries(i)),C=_.next();!C.done;C=_.next()){var b,E=__read$X(C.value,2),S=E[0],w=(b=E[1]).computeTransformedBBox();w?(t.globalAlpha=.8,t.strokeStyle="red",t.lineWidth=1,t.strokeRect(w.x,w.y,w.width,w.height),t.fillStyle="red",t.strokeStyle="white",t.font="16px sans-serif",t.textBaseline="top",t.textAlign="left",t.lineWidth=2,t.strokeText(S,w.x,w.y,w.width),t.fillText(S,w.x,w.y,w.width)):Logger.debug("no bbox for debugged node ["+S+"].")}}catch(t){a={error:t}}finally{try{C&&!C.done&&(l=_.return)&&l.call(_)}finally{if(a)throw a.error}}t.restore()},t.prototype.buildTree=function(t){var e,i=this,o=null!==(e=t instanceof Group?t.name:null)&&void 0!==e?e:t.id;return __assign$G({name:o,node:t,dirty:RedrawType[t.dirty]},t.children.map((function(t){return i.buildTree(t)})).reduce((function(t,e){var i=e.name,o=e.node,n=o.visible,r=o.opacity,s=o.zIndex,a=o.zIndexSubOrder,l=e.node;return(!n||r<=0)&&(i="("+i+")"),l instanceof Group&&l.isLayer()&&(i="*"+i+"*"),t[[""+(null!=i?i:"<unknown>"),"z: "+s,a&&"zo: "+a.join(" / ")].filter((function(t){return!!t})).join(" ")]=e,t}),{}))},t.prototype.buildDirtyTree=function(t){var e,i=this;if(t.dirty===RedrawType.NONE)return{dirtyTree:{},paths:[]};var o=t.children.map((function(t){return i.buildDirtyTree(t)})).filter((function(t){return t.paths.length>0})),n=null!==(e=t instanceof Group?t.name:null)&&void 0!==e?e:t.id,r=0===o.length?[n]:o.map((function(t){return t.paths})).reduce((function(t,e){return t.concat(e)}),[]).map((function(t){return n+"."+t}));return{dirtyTree:__assign$G({name:n,node:t,dirty:RedrawType[t.dirty]},o.map((function(t){return t.dirtyTree})).filter((function(t){return void 0!==t.dirty})).reduce((function(t,e){return t[e.name||"<unknown>"]=e,t}),{})),paths:r}},t.className="Scene",t}(),Observable=function(){function t(){this.allEventListeners=new Map}return t.prototype.addEventListener=function(t,e){if("function"!=typeof e)throw new Error("AG Charts - listener must be a Function");var i=this.allEventListeners,o=i.get(t);o||(o=new Set,i.set(t,o)),o.has(e)||o.add(e)},t.prototype.removeEventListener=function(t,e){var i=this.allEventListeners,o=i.get(t);o&&(o.delete(e),0===o.size&&i.delete(t))},t.prototype.hasEventListener=function(t){return this.allEventListeners.has(t)},t.prototype.clearEventListeners=function(){this.allEventListeners.clear()},t.prototype.fireEvent=function(t){var e=this.allEventListeners.get(t.type);null==e||e.forEach((function(e){return e(t)}))},t}(),isString$1=function(t){return"string"==typeof t},isStringObject$1=function(t){return!!t&&Object.prototype.hasOwnProperty.call(t,"toString")&&isString$1(t.toString())},isDate$1=function(t){return t instanceof Date&&!isNaN(+t)};function isDiscrete(t){return isString$1(t)||isStringObject$1(t)}function isContinuous(t){var e;return isNumber$4(t)||!!(e=t)&&Object.prototype.hasOwnProperty.call(e,"valueOf")&&isNumber$4(e.valueOf())||function(t){return t instanceof Date&&!isNaN(+t)}(t)}function checkDatum(t,e){return e&&isContinuous(t)?t:e?void 0:isDiscrete(t)?t:String(t)}var isNumber$4=function(t){return"number"==typeof t&&Number.isFinite(t)},__values$y=function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],o=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},BREAK_TRANSFORM_CHAIN=Symbol("BREAK"),CONFIG_KEY="__decorator_config";function initialiseConfig(t,e,i,o){null==Object.getOwnPropertyDescriptor(t,CONFIG_KEY)&&Object.defineProperty(t,CONFIG_KEY,{value:{}});var n=t[CONFIG_KEY];if(null!=n[i])return n[i];n[i]={setters:[],getters:[]};var r=Object.getOwnPropertyDescriptor(t,e),s=null==r?void 0:r.set,a=null==r?void 0:r.get;return Object.defineProperty(t,e,{set:function(t){var r,l,c,u,h,d=null!==(u=null===(c=n[i])||void 0===c?void 0:c.setters)&&void 0!==u?u:[];d.some((function(t){return t.length>2}))&&(h=a?a.call(this):this[o]);try{for(var p=__values$y(d),f=p.next();!f.done;f=p.next()){if((t=(0,f.value)(this,e,t,h))===BREAK_TRANSFORM_CHAIN)return}}catch(t){r={error:t}}finally{try{f&&!f.done&&(l=p.return)&&l.call(p)}finally{if(r)throw r.error}}s?s.call(this,t):this[o]=t},get:function(){var t,r,s,l,c=a?a.call(this):this[o];try{for(var u=__values$y(null!==(l=null===(s=n[i])||void 0===s?void 0:s.getters)&&void 0!==l?l:[]),h=u.next();!h.done;h=u.next()){if((c=(0,h.value)(this,e,c))===BREAK_TRANSFORM_CHAIN)return}}catch(e){t={error:e}}finally{try{h&&!h.done&&(r=u.return)&&r.call(u)}finally{if(t)throw t.error}}return c},enumerable:!0,configurable:!1}),n[i]}function addTransformToInstanceProperty(t,e){return function(i,o){var n=o.toString(),r=initialiseConfig(i,o,n,"__"+n),s=r.getters;r.setters.push(t),e&&s.splice(0,0,e)}}function createDeprecationWarning(){return function(t,e){var i=["Property ["+t+"] is deprecated.",e].filter((function(t){return null!=t})).join(" ");Logger.warnOnce(i)}}function Deprecated(t,e){var i=null==e?void 0:e.default,o=createDeprecationWarning();return addTransformToInstanceProperty((function(e,n,r){return r!==i&&o(n.toString(),t),r}))}function DeprecatedAndRenamedTo(t,e){var i=createDeprecationWarning();return addTransformToInstanceProperty((function(o,n,r){return r!==o[t]&&(i(n.toString(),"Use ["+t+"] instead."),o[t]=e?e(r):r),BREAK_TRANSFORM_CHAIN}),(function(e,o){return i(o.toString(),"Use ["+t+"] instead."),e[t]}))}var __read$W=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,n,r=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return s},Color=function(){function t(t,e,i,o){void 0===o&&(o=1),this.r=Math.min(1,Math.max(0,t||0)),this.g=Math.min(1,Math.max(0,e||0)),this.b=Math.min(1,Math.max(0,i||0)),this.a=Math.min(1,Math.max(0,o||0))}return t.validColorString=function(e){return e.indexOf("#")>=0?!!t.parseHex(e):e.indexOf("rgb")>=0?!!t.stringToRgba(e):!!t.nameToHex[e.toLowerCase()]},t.fromString=function(e){if(e.indexOf("#")>=0)return t.fromHexString(e);var i=t.nameToHex[e.toLowerCase()];if(i)return t.fromHexString(i);if(e.indexOf("rgb")>=0)return t.fromRgbaString(e);throw new Error("Invalid color string: '"+e+"'")},t.tryParseFromString=function(e){try{return t.fromString(e)}catch(i){return Logger.warnOnce("invalid color string: '"+e+"'."),t.fromArray([0,0,0])}},t.parseHex=function(t){var e;switch((t=t.replace(/ /g,"").slice(1)).length){case 6:case 8:e=[];for(var i=0;i<t.length;i+=2)e.push(parseInt(""+t[i]+t[i+1],16));break;case 3:case 4:e=t.split("").map((function(t){return parseInt(t,16)})).map((function(t){return t+16*t}))}if((null==e?void 0:e.length)>=3&&e.every((function(t){return t>=0})))return 3===e.length&&e.push(255),e},t.fromHexString=function(e){var i=t.parseHex(e);if(i){var o=__read$W(i,4);return new t(o[0]/255,o[1]/255,o[2]/255,o[3]/255)}throw new Error("Malformed hexadecimal color string: '"+e+"'")},t.stringToRgba=function(t){for(var e=__read$W([NaN,NaN],2),i=e[0],o=e[1],n=0;n<t.length;n++){var r=t[n];if(i||"("!==r){if(")"===r){o=n;break}}else i=n}var s=i&&o&&t.substring(i+1,o);if(s){var a=s.split(","),l=[];for(n=0;n<a.length;n++){var c=a[n],u=parseFloat(c);if(isNaN(u))return;c.indexOf("%")>=0?(u=Math.max(0,Math.min(100,u)),u/=100):3===n?u=Math.max(0,Math.min(1,u)):(u=Math.max(0,Math.min(255,u)),u/=255),l.push(u)}return l}},t.fromRgbaString=function(e){var i=t.stringToRgba(e);if(i){if(3===i.length)return new t(i[0],i[1],i[2]);if(4===i.length)return new t(i[0],i[1],i[2],i[3])}throw new Error("Malformed rgb/rgba color string: '"+e+"'")},t.fromArray=function(e){if(4===e.length)return new t(e[0],e[1],e[2],e[3]);if(3===e.length)return new t(e[0],e[1],e[2]);throw new Error("The given array should contain 3 or 4 color components (numbers).")},t.fromHSB=function(e,i,o,n){void 0===n&&(n=1);var r=t.HSBtoRGB(e,i,o);return new t(r[0],r[1],r[2],n)},t.padHex=function(t){return 1===t.length?"0"+t:t},t.prototype.toHexString=function(){var e="#"+t.padHex(Math.round(255*this.r).toString(16))+t.padHex(Math.round(255*this.g).toString(16))+t.padHex(Math.round(255*this.b).toString(16));return this.a<1&&(e+=t.padHex(Math.round(255*this.a).toString(16))),e},t.prototype.toRgbaString=function(t){void 0===t&&(t=3);var e=[Math.round(255*this.r),Math.round(255*this.g),Math.round(255*this.b)],i=Math.pow(10,t);return 1!==this.a?(e.push(Math.round(this.a*i)/i),"rgba("+e.join(", ")+")"):"rgb("+e.join(", ")+")"},t.prototype.toString=function(){return 1===this.a?this.toHexString():this.toRgbaString()},t.prototype.toHSB=function(){return t.RGBtoHSB(this.r,this.g,this.b)},t.RGBtoHSB=function(t,e,i){var o=Math.min(t,e,i),n=Math.max(t,e,i),r=NaN;if(o!==n){var s=n-o,a=(n-t)/s,l=(n-e)/s,c=(n-i)/s;r=t===n?c-l:e===n?2+a-c:4+l-a,(r/=6)<0&&(r+=1)}return[360*r,0!==n?(n-o)/n:0,n]},t.HSBtoRGB=function(t,e,i){isNaN(t)&&(t=0),t=(t%360+360)%360/360;var o=0,n=0,r=0;if(0===e)o=n=r=i;else{var s=6*(t-Math.floor(t)),a=s-Math.floor(s),l=i*(1-e),c=i*(1-e*a),u=i*(1-e*(1-a));switch(s>>0){case 0:o=i,n=u,r=l;break;case 1:o=c,n=i,r=l;break;case 2:o=l,n=i,r=u;break;case 3:o=l,n=c,r=i;break;case 4:o=u,n=l,r=i;break;case 5:o=i,n=l,r=c}}return[o,n,r]},t.prototype.derive=function(e,i,o,n){var r=t.RGBtoHSB(this.r,this.g,this.b),s=r[2];0==s&&o>1&&(s=.05);var a=((r[0]+e)%360+360)%360,l=Math.max(Math.min(r[1]*i,1),0);s=Math.max(Math.min(s*o,1),0);var c=Math.max(Math.min(this.a*n,1),0),u=t.HSBtoRGB(a,l,s);return u.push(c),t.fromArray(u)},t.prototype.brighter=function(){return this.derive(0,1,1/.7,1)},t.prototype.darker=function(){return this.derive(0,1,.7,1)},t.nameToHex=Object.freeze({aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",transparent:"#00000000",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"}),t}();function Validate(t){return addTransformToInstanceProperty((function(e,i,o){var n,r,s;if(t(o,{target:e}))return o;var a=i.toString().replace(/^_*/,""),l=null!==(r=null===(n=e.constructor)||void 0===n?void 0:n.className)&&void 0!==r?r:null===(s=e.constructor)||void 0===s?void 0:s.name;(null==l?void 0:l.length)<3&&(l=null);var c=l?"of ["+l+"] ":"";return t.message?Logger.warn("Property ["+a+"] "+c+"cannot be set to ["+JSON.stringify(o)+"]; "+t.message+", ignoring."):Logger.warn("Property ["+a+"] "+c+"cannot be set to ["+JSON.stringify(o)+"], ignoring."),BREAK_TRANSFORM_CHAIN}))}function predicateWithMessage(t,e){return t.message=e,t}var OPTIONAL=function(t,e,i){return void 0===t||i(t,e)},ARRAY=function(t,e){return predicateWithMessage((function(i,o){return Array.isArray(i)&&(!t||i.length===t)&&(!e||i.every((function(t){return e(t,o)})))}),"expecting an Array")},OPT_ARRAY=function(t){return predicateWithMessage((function(e,i){return OPTIONAL(e,i,ARRAY(t))}),"expecting an optional Array")},AND=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return predicateWithMessage((function(e,i){return t.every((function(t){return t(e,i)}))}),t.map((function(t){return t.message})).filter((function(t){return null!=t})).join(" AND "))},OR=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return predicateWithMessage((function(e,i){return t.some((function(t){return t(e,i)}))}),t.map((function(t){return t.message})).filter((function(t){return null!=t})).join(" OR "))},isComparable=function(t){return null!=t&&!isNaN(t)},LESS_THAN=function(t){return predicateWithMessage((function(e,i){return!isComparable(e)||!isComparable(i.target[t])||e<i.target[t]}),"expected to be less than "+t)},GREATER_THAN=function(t){return predicateWithMessage((function(e,i){return!isComparable(e)||!isComparable(i.target[t])||e>i.target[t]}),"expected to be greater than "+t)},FUNCTION=predicateWithMessage((function(t){return"function"==typeof t}),"expecting a Function"),OPT_FUNCTION=predicateWithMessage((function(t,e){return OPTIONAL(t,e,FUNCTION)}),"expecting an optional Function"),BOOLEAN=predicateWithMessage((function(t){return!0===t||!1===t}),"expecting a Boolean"),OPT_BOOLEAN=predicateWithMessage((function(t,e){return OPTIONAL(t,e,BOOLEAN)}),"expecting an optional Boolean"),STRING=predicateWithMessage((function(t){return"string"==typeof t}),"expecting a String"),OPT_STRING=predicateWithMessage((function(t,e){return OPTIONAL(t,e,STRING)}),"expecting an optional String"),DATE=predicateWithMessage((function(t){return t instanceof Date&&!isNaN(+t)}),"expecting a Date object"),OPT_DATE=predicateWithMessage((function(t,e){return OPTIONAL(t,e,DATE)}),"expecting an optional Date");predicateWithMessage(ARRAY(void 0,DATE),"expecting an Array of Date objects");var DATETIME_MS=NUMBER(0),OPT_DATETIME_MS=predicateWithMessage((function(t,e){return OPTIONAL(t,e,DATETIME_MS)}),"expecting an optional number"),OPT_DATE_OR_DATETIME_MS=OR(OPT_DATE,OPT_DATETIME_MS),colorMessage="A color string can be in one of the following formats to be valid: #rgb, #rrggbb, rgb(r, g, b), rgba(r, g, b, a) or a CSS color name such as 'white', 'orange', 'cyan', etc",COLOR_STRING=predicateWithMessage((function(t){return"string"==typeof t&&Color.validColorString(t)}),"expecting a color String. "+colorMessage),OPT_COLOR_STRING=predicateWithMessage((function(t,e){return OPTIONAL(t,e,COLOR_STRING)}),"expecting an optional color String. "+colorMessage),COLOR_STRING_ARRAY=predicateWithMessage(ARRAY(void 0,COLOR_STRING),"expecting an Array of color strings. "+colorMessage),OPT_COLOR_STRING_ARRAY=predicateWithMessage((function(t,e){return OPTIONAL(t,e,COLOR_STRING_ARRAY)}),"expecting an optional Array of color strings. "+colorMessage);function NUMBER(t,e){return predicateWithMessage((function(i){return"number"==typeof i&&Number.isFinite(i)&&(void 0===t||i>=t)&&(void 0===e||i<=e)}),"expecting a finite Number"+(void 0!==t?", more than or equal to "+t:"")+(void 0!==e?", less than or equal to "+e:""))}function OPT_NUMBER(t,e){return predicateWithMessage((function(i,o){return OPTIONAL(i,o,NUMBER(t,e))}),"expecting an optional finite Number"+(void 0!==t?", more than or equal to "+t:"")+(void 0!==e?", less than or equal to "+e:""))}function NUMBER_OR_NAN(t,e){return predicateWithMessage((function(i){return"number"==typeof i&&(isNaN(i)||Number.isFinite(i)&&(void 0===t||i>=t)&&(void 0===e||i<=e))}),"expecting a finite Number"+(void 0!==t?", more than or equal to "+t:"")+(void 0!==e?", less than or equal to "+e:""))}var NUMBER_ARRAY=predicateWithMessage(ARRAY(void 0,NUMBER()),"expecting an Array of numbers"),OPT_NUMBER_ARRAY=predicateWithMessage((function(t,e){return OPTIONAL(t,e,NUMBER_ARRAY)}),"expecting an optional Array of numbers"),STRING_ARRAY=predicateWithMessage(ARRAY(void 0,STRING),"expecting an Array of strings");function STRING_UNION(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return predicateWithMessage((function(e){return"string"==typeof e&&t.indexOf(e)>=0}),"expecting one of: "+t.join(", "))}predicateWithMessage((function(t,e){return OPTIONAL(t,e,STRING_ARRAY)}),"expecting an optional Array of strings");var BOOLEAN_ARRAY=predicateWithMessage(ARRAY(void 0,BOOLEAN),"expecting an Array of boolean values");predicateWithMessage((function(t,e){return OPTIONAL(t,e,BOOLEAN_ARRAY)}),"expecting an optional Array of boolean values");var FONT_WEIGHTS=["normal","bold","bolder","lighter","100","200","300","400","500","600","700","800","900"],FONT_STYLE=predicateWithMessage((function(t){return"normal"===t||"italic"===t||"oblique"===t}),"expecting a font style keyword such as 'normal', 'italic' or 'oblique'"),OPT_FONT_STYLE=predicateWithMessage((function(t,e){return OPTIONAL(t,e,FONT_STYLE)}),"expecting an optional font style keyword such as 'normal', 'italic' or 'oblique'"),FONT_WEIGHT=predicateWithMessage((function(t){return FONT_WEIGHTS.includes(t)}),"expecting a font weight keyword such as 'normal', 'bold' or 'bolder' or a numeric value such as 100, 300 or 600"),OPT_FONT_WEIGHT=predicateWithMessage((function(t,e){return OPTIONAL(t,e,FONT_WEIGHT)}),"expecting an optional font weight keyword such as 'normal', 'bold' or 'bolder' or a numeric value such as 100, 300 or 600"),LINE_DASH=predicateWithMessage(ARRAY(void 0,NUMBER(0)),"expecting an Array of numbers specifying the length in pixels of alternating dashes and gaps, for example, [6, 3] means dashes with a length of 6 pixels with gaps between of 3 pixels."),OPT_LINE_DASH=predicateWithMessage((function(t,e){return OPTIONAL(t,e,LINE_DASH)}),"expecting an optional Array of numbers specifying the length in pixels of alternating dashes and gaps, for example, [6, 3] means dashes with a length of 6 pixels with gaps between of 3 pixels."),LINE_CAPS=["butt","round","square"],LINE_CAP=predicateWithMessage((function(t){return LINE_CAPS.includes(t)}),"expecting a line cap keyword such as 'butt', 'round' or 'square'");predicateWithMessage((function(t,e){return OPTIONAL(t,e,LINE_CAP)}),"expecting an optional line cap keyword such as 'butt', 'round' or 'square'");var LINE_JOINS=["round","bevel","miter"],LINE_JOIN=predicateWithMessage((function(t){return LINE_JOINS.includes(t)}),"expecting a line join keyword such as 'round', 'bevel' or 'miter'");predicateWithMessage((function(t,e){return OPTIONAL(t,e,LINE_JOIN)}),"expecting an optional line join keyword such as 'round', 'bevel' or 'miter'");var POSITIONS=["top","right","bottom","left"],POSITION=predicateWithMessage((function(t){return POSITIONS.includes(t)}),"expecting a position keyword such as 'top', 'right', 'bottom' or 'left"),INTERACTION_RANGES=["exact","nearest"],INTERACTION_RANGE=predicateWithMessage((function(t){return"number"==typeof t&&Number.isFinite(t)||INTERACTION_RANGES.includes(t)}),"expecting an interaction range of 'exact', 'nearest' or a number"),Layers,ChartAxisDirection;!function(t){t[t.SERIES_BACKGROUND_ZINDEX=-10]="SERIES_BACKGROUND_ZINDEX",t[t.AXIS_GRID_ZINDEX=0]="AXIS_GRID_ZINDEX",t[t.AXIS_ZINDEX=20]="AXIS_ZINDEX",t[t.SERIES_CROSSLINE_RANGE_ZINDEX=30]="SERIES_CROSSLINE_RANGE_ZINDEX",t[t.SERIES_LAYER_ZINDEX=500]="SERIES_LAYER_ZINDEX",t[t.SERIES_CROSSHAIR_ZINDEX=1e3]="SERIES_CROSSHAIR_ZINDEX",t[t.SERIES_LABEL_ZINDEX=1500]="SERIES_LABEL_ZINDEX",t[t.SERIES_CROSSLINE_LINE_ZINDEX=2500]="SERIES_CROSSLINE_LINE_ZINDEX",t[t.LEGEND_ZINDEX=3e3]="LEGEND_ZINDEX"}(Layers||(Layers={})),function(t){t.X="x",t.Y="y"}(ChartAxisDirection||(ChartAxisDirection={}));var __decorate$1T=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},__values$x=function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],o=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},DEFAULT_TOOLTIP_CLASS="ag-chart-tooltip",defaultTooltipCss$1="\n."+DEFAULT_TOOLTIP_CLASS+" {\n    transition: transform 0.1s ease;\n    display: table;\n    position: fixed;\n    left: 0px;\n    top: 0px;\n    white-space: nowrap;\n    z-index: 99999;\n    font: 12px Verdana, sans-serif;\n    color: black;\n    background: rgb(244, 244, 244);\n    border-radius: 5px;\n    box-shadow: 0 0 1px rgba(3, 3, 3, 0.7), 0.5vh 0.5vh 1vh rgba(3, 3, 3, 0.25);\n}\n\n."+DEFAULT_TOOLTIP_CLASS+"-no-interaction {\n    pointer-events: none;\n    user-select: none;\n}\n\n."+DEFAULT_TOOLTIP_CLASS+"-no-animation {\n    transition: none !important;\n}\n\n."+DEFAULT_TOOLTIP_CLASS+"-hidden {\n    visibility: hidden;\n}\n\n."+DEFAULT_TOOLTIP_CLASS+"-title {\n    font-weight: bold;\n    padding: 7px;\n    border-top-left-radius: 5px;\n    border-top-right-radius: 5px;\n    color: white;\n    background-color: #888888;\n    border-top-left-radius: 5px;\n    border-top-right-radius: 5px;\n}\n\n."+DEFAULT_TOOLTIP_CLASS+"-content {\n    padding: 7px;\n    line-height: 1.7em;\n    border-bottom-left-radius: 5px;\n    border-bottom-right-radius: 5px;\n    overflow: hidden;\n}\n\n."+DEFAULT_TOOLTIP_CLASS+"-content:empty {\n    padding: 0;\n    height: 7px;\n}\n\n."+DEFAULT_TOOLTIP_CLASS+'-arrow::before {\n    content: "";\n\n    position: absolute;\n    top: 100%;\n    left: 50%;\n    transform: translateX(-50%);\n\n    border: 6px solid #989898;\n\n    border-left-color: transparent;\n    border-right-color: transparent;\n    border-top-color: #989898;\n    border-bottom-color: transparent;\n\n    width: 0;\n    height: 0;\n\n    margin: 0 auto;\n}\n\n.'+DEFAULT_TOOLTIP_CLASS+'-arrow::after {\n    content: "";\n\n    position: absolute;\n    top: 100%;\n    left: 50%;\n    transform: translateX(-50%);\n\n    border: 5px solid black;\n\n    border-left-color: transparent;\n    border-right-color: transparent;\n    border-top-color: rgb(244, 244, 244);\n    border-bottom-color: transparent;\n\n    width: 0;\n    height: 0;\n\n    margin: 0 auto;\n}\n\n.ag-chart-wrapper {\n    box-sizing: border-box;\n    overflow: hidden;\n}\n';function toTooltipHtml$1(t,e){if("string"==typeof t)return t;e=e||{};var i=t.content,o=void 0===i?e.content||"":i,n=t.title,r=void 0===n?e.title||void 0:n,s=t.color,a=void 0===s?e.color||"white":s,l=t.backgroundColor,c=void 0===l?e.backgroundColor||"#888":l;return(r?'<div class="'+DEFAULT_TOOLTIP_CLASS+'-title"\n        style="color: '+a+"; background-color: "+c+'">'+r+"</div>":"")+'<div class="'+DEFAULT_TOOLTIP_CLASS+'-content">'+o+"</div>"}var POSITION_TYPES=["pointer","node"],POSITION_TYPE=predicateWithMessage((function(t){return POSITION_TYPES.includes(t)}),"expecting a position type keyword such as 'pointer' or 'node'"),TooltipPosition=function(){function t(){this.type="pointer",this.xOffset=0,this.yOffset=0}return __decorate$1T([Validate(POSITION_TYPE)],t.prototype,"type",void 0),__decorate$1T([Validate(NUMBER())],t.prototype,"xOffset",void 0),__decorate$1T([Validate(NUMBER())],t.prototype,"yOffset",void 0),t}(),Tooltip=function(){function t(e,i,o){var n=this;this.enableInteraction=!1,this.enabled=!0,this.class=void 0,this.lastClass=void 0,this.delay=0,this.range="nearest",this.position=new TooltipPosition,this.showTimeout=0,this.showArrow=!0,this.tooltipRoot=o;var r=i.createElement("div");if(this.element=this.tooltipRoot.appendChild(r),this.element.classList.add(DEFAULT_TOOLTIP_CLASS),this.canvasElement=e,window.IntersectionObserver){var s=new IntersectionObserver((function(t){var e,i;try{for(var o=__values$x(t),r=o.next();!r.done;r=o.next()){var s=r.value;s.target===n.canvasElement&&0===s.intersectionRatio&&n.toggle(!1)}}catch(t){e={error:t}}finally{try{r&&!r.done&&(i=o.return)&&i.call(o)}finally{if(e)throw e.error}}}),{root:this.tooltipRoot});s.observe(this.canvasElement),this.observer=s}if(t.tooltipDocuments.indexOf(i)<0){var a=i.createElement("style");a.innerHTML=defaultTooltipCss$1,i.head.insertBefore(a,i.head.querySelector("style")),t.tooltipDocuments.push(i)}}return t.prototype.destroy=function(){var t=this.element.parentNode;t&&t.removeChild(this.element),this.observer&&this.observer.unobserve(this.canvasElement)},t.prototype.isVisible=function(){return!this.element.classList.contains(DEFAULT_TOOLTIP_CLASS+"-hidden")},t.prototype.updateClass=function(t,e){var i=this,o=i.element,n=i.class,r=i.lastClass,s=i.enableInteraction,a=function(t,e){var i=DEFAULT_TOOLTIP_CLASS+"-"+t;e?o.classList.add(i):o.classList.remove(i)};a("no-animation",!this.isVisible()&&!!t),a("no-interaction",!s),a("hidden",!t),a("arrow",!!e),n!==r&&(r&&o.classList.remove(r),n&&o.classList.add(n),this.lastClass=n)},t.prototype.show=function(t,e,i){var o,n,r,s,a,l=this;void 0===i&&(i=!1);var c=this.element,u=this.canvasElement;if(void 0!==e)c.innerHTML=e;else if(!c.innerHTML)return;var h=function(t,e,i){return Math.max(Math.min(e,i),t)},d=null!==(n=null===(o=t.position)||void 0===o?void 0:o.xOffset)&&void 0!==n?n:0,p=null!==(s=null===(r=t.position)||void 0===r?void 0:r.yOffset)&&void 0!==s?s:0,f=u.getBoundingClientRect(),g=f.left+t.offsetX-c.clientWidth/2+d,m=f.top+t.offsetY-c.clientHeight-8+p,y=this.getWindowBoundingBox(),v=y.x+y.width-c.clientWidth-1,_=y.y+y.height-c.clientHeight,C=h(y.x,g,v),b=h(y.y,m,_),E=0!==d||0!==p,S=C!==g||b!==m;if(this.showArrow=!S&&!E,c.style.transform="translate("+Math.round(C)+"px, "+Math.round(b)+"px)",this.enableInteraction=null!==(a=t.enableInteraction)&&void 0!==a&&a,this.delay>0&&!i)return this.toggle(!1),void(this.showTimeout=window.setTimeout((function(){l.toggle(!0)}),this.delay));this.toggle(!0)},t.prototype.getWindowBoundingBox=function(){return new BBox(0,0,window.innerWidth,window.innerHeight)},t.prototype.toggle=function(t){t||window.clearTimeout(this.showTimeout),this.updateClass(t,this.showArrow)},t.prototype.pointerLeftOntoTooltip=function(t){var e;if(!this.enableInteraction)return!1;var i=null===(e=t.sourceEvent.relatedTarget)||void 0===e?void 0:e.classList,o=Boolean(["","-title","-content"].filter((function(t){return null==i?void 0:i.contains(""+DEFAULT_TOOLTIP_CLASS+t)})));return void 0!==i&&o},t.tooltipDocuments=[],__decorate$1T([Validate(BOOLEAN)],t.prototype,"enabled",void 0),__decorate$1T([Validate(OPT_STRING)],t.prototype,"class",void 0),__decorate$1T([Validate(NUMBER(0))],t.prototype,"delay",void 0),__decorate$1T([DeprecatedAndRenamedTo("range",(function(t){return t?"nearest":"exact"}))],t.prototype,"tracking",void 0),__decorate$1T([Validate(INTERACTION_RANGE)],t.prototype,"range",void 0),t}(),__extends$2F=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__assign$F=function(){return __assign$F=Object.assign||function(t){for(var e,i=1,o=arguments.length;i<o;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},__assign$F.apply(this,arguments)},__decorate$1S=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},__values$w=function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],o=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},__read$V=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,n,r=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return s},__spread$x=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$V(arguments[e]));return t},SeriesNodePickMode;!function(t){t[t.EXACT_SHAPE_MATCH=0]="EXACT_SHAPE_MATCH",t[t.NEAREST_BY_MAIN_AXIS_FIRST=1]="NEAREST_BY_MAIN_AXIS_FIRST",t[t.NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST=2]="NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST",t[t.NEAREST_NODE=3]="NEAREST_NODE"}(SeriesNodePickMode||(SeriesNodePickMode={}));var warnDeprecated=createDeprecationWarning(),warnSeriesDeprecated=function(){return warnDeprecated("series","Use seriesId to get the series ID")};function keyProperty(t,e,i){return void 0===i&&(i={}),__assign$F(__assign$F({},i),{property:t,type:"key",valueType:e?"range":"category",validation:function(t){return null!=checkDatum(t,e)}})}function valueProperty(t,e,i){return void 0===i&&(i={}),__assign$F(__assign$F({},i),{property:t,type:"value",valueType:e?"range":"category",validation:function(t){return null!=checkDatum(t,e)}})}function sumProperties(t){return{properties:t,type:"sum"}}var SeriesNodeBaseClickEvent=function(){function t(t,e,i){this.type="nodeClick",this.event=t,this.datum=e.datum,this.seriesId=i.id,this._series=i}return Object.defineProperty(t.prototype,"series",{get:function(){return warnSeriesDeprecated(),this._series},enumerable:!1,configurable:!0}),t}(),SeriesNodeClickEvent=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$2F(e,t),e}(SeriesNodeBaseClickEvent),SeriesNodeDoubleClickEvent=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="nodeDoubleClick",e}return __extends$2F(e,t),e}(SeriesNodeBaseClickEvent),SeriesItemHighlightStyle=function(){function t(){this.fill="yellow",this.fillOpacity=void 0,this.stroke=void 0,this.strokeWidth=void 0}return __decorate$1S([Validate(OPT_COLOR_STRING)],t.prototype,"fill",void 0),__decorate$1S([Validate(OPT_NUMBER(0,1))],t.prototype,"fillOpacity",void 0),__decorate$1S([Validate(OPT_COLOR_STRING)],t.prototype,"stroke",void 0),__decorate$1S([Validate(OPT_NUMBER(0))],t.prototype,"strokeWidth",void 0),t}(),SeriesHighlightStyle=function(){function t(){this.strokeWidth=void 0,this.dimOpacity=void 0,this.enabled=void 0}return __decorate$1S([Validate(OPT_NUMBER(0))],t.prototype,"strokeWidth",void 0),__decorate$1S([Validate(OPT_NUMBER(0,1))],t.prototype,"dimOpacity",void 0),__decorate$1S([Validate(OPT_BOOLEAN)],t.prototype,"enabled",void 0),t}(),TextHighlightStyle=function(){function t(){this.color="black"}return __decorate$1S([Validate(OPT_COLOR_STRING)],t.prototype,"color",void 0),t}(),HighlightStyle=function(){this.item=new SeriesItemHighlightStyle,this.series=new SeriesHighlightStyle,this.text=new TextHighlightStyle},SeriesTooltip=function(){function t(){this.enabled=!0,this.interaction=new SeriesTooltipInteraction,this.position=new TooltipPosition}return __decorate$1S([Validate(BOOLEAN)],t.prototype,"enabled",void 0),t}(),SeriesTooltipInteraction=function(){function t(){this.enabled=!1}return __decorate$1S([Validate(BOOLEAN)],t.prototype,"enabled",void 0),t}(),Series=function(t){function e(e){var i=void 0===e?{}:e,o=i.useSeriesGroupLayer,n=void 0===o||o,r=i.useLabelLayer,s=void 0!==r&&r,a=i.pickModes,l=void 0===a?[SeriesNodePickMode.NEAREST_BY_MAIN_AXIS_FIRST]:a,c=i.directionKeys,u=void 0===c?{}:c,h=t.call(this)||this;h.id=createId$1(h),h.rootGroup=new Group({name:"seriesRoot"}),h.directions=[ChartAxisDirection.X,ChartAxisDirection.Y],h.nodeDataRefresh=!0,h._data=void 0,h._visible=!0,h.showInLegend=!0,h.cursor="default",h.nodeClickRange="exact",h._declarationOrder=-1,h.highlightStyle=new HighlightStyle;var d=h.rootGroup;return h.directionKeys=u,h.contentGroup=d.appendChild(new Group({name:h.id+"-content",layer:n,zIndex:Layers.SERIES_LAYER_ZINDEX,zIndexSubOrder:[function(){return h._declarationOrder},0]})),h.highlightGroup=d.appendChild(new Group({name:h.id+"-highlight",layer:!0,zIndex:Layers.SERIES_LAYER_ZINDEX,zIndexSubOrder:[function(){return h._declarationOrder},15e3]})),h.highlightNode=h.highlightGroup.appendChild(new Group({name:"highlightNode"})),h.highlightLabel=h.highlightGroup.appendChild(new Group({name:"highlightLabel"})),h.highlightNode.zIndex=0,h.highlightLabel.zIndex=10,h.pickModes=l,s&&(h.labelGroup=d.appendChild(new Group({name:h.id+"-series-labels",layer:!0,zIndex:Layers.SERIES_LABEL_ZINDEX}))),h}return __extends$2F(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this.constructor.type||""},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return this._data},set:function(t){this._data=t,this.nodeDataRefresh=!0},enumerable:!1,configurable:!0}),e.prototype.hasData=function(){var t=this.data;return t&&(!Array.isArray(t)||t.length>0)},Object.defineProperty(e.prototype,"visible",{get:function(){return this._visible},set:function(t){this._visible=t,this.visibleChanged()},enumerable:!1,configurable:!0}),e.prototype.getBandScalePadding=function(){return{inner:1,outer:0}},e.prototype.destroy=function(){},Object.defineProperty(e.prototype,"grouped",{set:function(t){if(!0===t)throw new Error("AG Charts - grouped: true is unsupported for series of type: "+this.type)},enumerable:!1,configurable:!0}),e.prototype.getKeys=function(t){var e=this,i=this.directionKeys,o=this.resolveKeyDirection(t),n=i&&i[o],r=[],s=function(){for(var t,e,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];try{for(var n=__values$w(i),r=n.next();!r.done;r=n.next()){var s=r.value;a(s)}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}},a=function(t){Array.isArray(t)?s.apply(void 0,__spread$x(t)):r.push(t)};return n?(n.forEach((function(t){var i=e[t];i&&a(i)})),r):r},e.prototype.resolveKeyDirection=function(t){return t},e.prototype.markNodeDataDirty=function(){this.nodeDataRefresh=!0},e.prototype.visibleChanged=function(){},e.prototype.getOpacity=function(t){var e=this.highlightStyle.series,i=e.dimOpacity,o=void 0===i?1:i,n=e.enabled;if(!1===(void 0===n||n)||1===o)return 1;switch(this.isItemIdHighlighted(t)){case"no-highlight":case"highlighted":return 1;case"peer-highlighted":case"other-highlighted":return o}},e.prototype.getStrokeWidth=function(t,e){var i=this.highlightStyle.series,o=i.strokeWidth,n=i.enabled;if(!1===(void 0===n||n)||void 0===o)return t;switch(this.isItemIdHighlighted(e)){case"highlighted":return o;case"no-highlight":case"other-highlighted":case"peer-highlighted":return t}},e.prototype.isItemIdHighlighted=function(t){var e,i=null===(e=this.highlightManager)||void 0===e?void 0:e.getActiveHighlight(),o=null!=i?i:{},n=o.series,r=o.itemId;return null!=n?n!==this?"other-highlighted":void 0===r?"highlighted":t&&i!==t&&r!==t.itemId?"peer-highlighted":"highlighted":"no-highlight"},e.prototype.pickNode=function(t,e){var i,o,n=this,r=n.pickModes,s=n.visible,a=n.rootGroup;if(s&&a.visible)try{for(var l=__values$w(r),c=l.next();!c.done;c=l.next()){var u=c.value;if(!e||e.includes(u)){var h=void 0;switch(u){case SeriesNodePickMode.EXACT_SHAPE_MATCH:h=this.pickNodeExactShape(t);break;case SeriesNodePickMode.NEAREST_BY_MAIN_AXIS_FIRST:case SeriesNodePickMode.NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST:h=this.pickNodeMainAxisFirst(t,u===SeriesNodePickMode.NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST);break;case SeriesNodePickMode.NEAREST_NODE:h=this.pickNodeClosestDatum(t)}if(h)return{pickMode:u,match:h.datum,distance:h.distance}}}}catch(t){i={error:t}}finally{try{c&&!c.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}},e.prototype.pickNodeExactShape=function(t){var e=this.contentGroup.pickNode(t.x,t.y);if(e)return{datum:e.datum,distance:0}},e.prototype.pickNodeClosestDatum=function(t){throw new Error("AG Charts - Series.pickNodeClosestDatum() not implemented")},e.prototype.pickNodeMainAxisFirst=function(t,e){throw new Error("AG Charts - Series.pickNodeMainAxisFirst() not implemented")},e.prototype.fireNodeClickEvent=function(t,e){var i=this.getNodeClickEvent(t,e);this.fireEvent(i)},e.prototype.fireNodeDoubleClickEvent=function(t,e){var i=this.getNodeDoubleClickEvent(t,e);this.fireEvent(i)},e.prototype.getNodeClickEvent=function(t,e){return new SeriesNodeClickEvent(t,e,this)},e.prototype.getNodeDoubleClickEvent=function(t,e){return new SeriesNodeDoubleClickEvent(t,e,this)},e.prototype.toggleSeriesItem=function(t,e){this.visible=e,this.nodeDataRefresh=!0},e.prototype.toggleOtherSeriesItems=function(t,e,i,o){},e.prototype.isEnabled=function(){return this.visible},e.prototype.fixNumericExtent=function(t,e){var i;if(void 0===t)return[];var o=__read$V(t,2),n=o[0],r=o[1];if(r=+r,0===(n=+n)&&0===r)return[0,1];if(n===1/0&&r===-1/0)return[];if(n===1/0&&(n=0),r===-1/0&&(r=0),n===r){var s=null!==(i=null==e?void 0:e.calculatePadding(n,r))&&void 0!==i?i:1;n-=s,r+=s}return isNumber$4(n)&&isNumber$4(r)?[n,r]:[]},e.highlightedZIndex=1e12,__decorate$1S([Validate(STRING)],e.prototype,"id",void 0),__decorate$1S([Validate(BOOLEAN)],e.prototype,"_visible",void 0),__decorate$1S([Validate(BOOLEAN)],e.prototype,"showInLegend",void 0),__decorate$1S([Validate(STRING)],e.prototype,"cursor",void 0),__decorate$1S([Validate(INTERACTION_RANGE)],e.prototype,"nodeClickRange",void 0),e}(Observable),__decorate$1R=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},Padding$1=function(){function t(t,e,i,o){void 0===t&&(t=0),void 0===e&&(e=t),void 0===i&&(i=t),void 0===o&&(o=e),this.top=t,this.right=e,this.bottom=i,this.left=o}return t.prototype.clear=function(){this.top=this.right=this.bottom=this.left=0},__decorate$1R([Validate(NUMBER(0))],t.prototype,"top",void 0),__decorate$1R([Validate(NUMBER(0))],t.prototype,"right",void 0),__decorate$1R([Validate(NUMBER(0))],t.prototype,"bottom",void 0),__decorate$1R([Validate(NUMBER(0))],t.prototype,"left",void 0),t}(),Selection=function(){function t(t,e){this._nodes=[],this._data=[],this._parent=t,this._factory=Object.prototype.isPrototypeOf.call(Node,e)?function(){return new e}:e}return t.select=function(e,i){return new t(e,i)},t.prototype.each=function(t){return this._nodes.forEach((function(e,i){return t(e,e.datum,i)})),this},t.prototype.update=function(t,e){var i=this,o=this._data,n=this._parent,r=this._factory;t.length>o.length?t.slice(o.length).forEach((function(t){var o=r(t);o.datum=t,e&&e(o),n.appendChild(o),i._nodes.push(o)})):t.length<o.length&&this._nodes.splice(t.length).forEach((function(t){n.removeChild(t)})),this._data=t.slice(0);for(var s=0;s<t.length;s++)this._nodes[s].datum=this._data[s];return this},t.prototype.clear=function(){return this.update([]),this},t.prototype.select=function(t){var e=[],i=function(o){t(o)&&e.push(o),o.children.forEach(i)};return i(this._parent),e},t.prototype.selectByClass=function(t){return this.select((function(e){return e instanceof t}))},t.prototype.selectByTag=function(t){return this.select((function(e){return e.tag===t}))},t.prototype.nodes=function(){return this._nodes},t}(),Gradient=function(){this.stops=[]},twoPi=2*Math.PI;function normalizeAngle360(t){return t%=twoPi,t+=twoPi,t%=twoPi}function normalizeAngle360Inclusive(t){return t%=twoPi,(t+=twoPi)!==twoPi&&(t%=twoPi),t}function normalizeAngle180(t){return(t%=twoPi)<-Math.PI?t+=twoPi:t>=Math.PI&&(t-=twoPi),t}function toRadians$1(t){return t/180*Math.PI}var __extends$2E=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),LinearGradient=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.angle=0,e}return __extends$2E(e,t),e.prototype.createGradient=function(t,e){var i=this.stops,o=normalizeAngle360(toRadians$1(this.angle+90)),n=Math.cos(o),r=Math.sin(o),s=e.width,a=e.height,l=e.x+.5*s,c=e.y+.5*a;if(s>0&&a>0){var u=Math.sqrt(a*a+s*s)/2,h=Math.atan2(a,s),d=void 0;d=o<Math.PI/2?o:o<Math.PI?Math.PI-o:o<3*Math.PI/2?o-Math.PI:2*Math.PI-o;var p=u*Math.abs(Math.cos(d-h)),f=t.createLinearGradient(l+n*p,c+r*p,l-n*p,c-r*p);return i.forEach((function(t){f.addColorStop(t.offset,t.color)})),f}return"black"},e}(Gradient),__extends$2D=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$1Q=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},LINEAR_GRADIENT_REGEXP=/^linear-gradient\((.*?)deg,\s*(.*?)\s*\)$/i,Shape=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.lastInstanceId=0,i.fillOpacity=1,i.strokeOpacity=1,i.fill=e.defaultStyles.fill,i.stroke=e.defaultStyles.stroke,i.strokeWidth=e.defaultStyles.strokeWidth,i.lineDash=e.defaultStyles.lineDash,i.lineDashOffset=e.defaultStyles.lineDashOffset,i.lineCap=e.defaultStyles.lineCap,i.lineJoin=e.defaultStyles.lineJoin,i.opacity=e.defaultStyles.opacity,i.fillShadow=e.defaultStyles.fillShadow,i}return __extends$2D(e,t),e.createInstance=function(t){var e=Object.create(t);return e._setParent(void 0),e.id=t.id+"-Instance-"+String(++t.lastInstanceId),e},e.prototype.restoreOwnStyles=function(){for(var t=this.constructor.defaultStyles,e=Object.getOwnPropertyNames(t),i=0,o=e.length;i<o;i++){var n=e[i];this[n]=t[n]}},e.prototype.restoreAllStyles=function(){var t=this.constructor.defaultStyles;for(var e in t)this[e]=t[e]},e.prototype.restoreOverriddenStyles=function(){var t=this.constructor.defaultStyles,e=Object.getPrototypeOf(t);for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&Object.prototype.hasOwnProperty.call(e,i)&&(this[i]=t[i])},e.prototype.updateGradient=function(){var t,e=this.fill;if((null==e?void 0:e.startsWith("linear-gradient"))&&(t=e.match(LINEAR_GRADIENT_REGEXP))){for(var i=parseFloat(t[1]),o=[],n=t[2],r=/(#[0-9a-f]+)|(rgba?\(.+?\))|([a-z]+)/gi,s=void 0;s=r.exec(n);)o.push(s[0]);this.gradient=new LinearGradient,this.gradient.angle=i,this.gradient.stops=o.map((function(t,e){return{offset:e/(o.length-1),color:t}}))}else this.gradient=void 0},e.prototype.align=function(t,e){var i,o,n,r=null!==(n=null===(o=null===(i=this.layerManager)||void 0===i?void 0:i.canvas)||void 0===o?void 0:o.pixelRatio)&&void 0!==n?n:1,s=Math.round(t*r)/r;return null==e?s:0===e?0:e<1?Math.ceil(e*r)/r:Math.round((e+t)*r)/r-s},e.prototype.fillStroke=function(t){this.renderFill(t),this.renderStroke(t)},e.prototype.renderFill=function(t){if(this.fill){var e=t.globalAlpha;this.applyFill(t),this.applyFillAlpha(t),this.applyShadow(t),t.fill(),t.globalAlpha=e}t.shadowColor="rgba(0, 0, 0, 0)"},e.prototype.applyFill=function(t){this.gradient?t.fillStyle=this.gradient.createGradient(t,this.computeBBox()):t.fillStyle=this.fill},e.prototype.applyFillAlpha=function(t){var e=t.globalAlpha;t.globalAlpha=e*this.opacity*this.fillOpacity},e.prototype.applyShadow=function(t){var e,i,o=null!==(i=null===(e=this.layerManager)||void 0===e?void 0:e.canvas.pixelRatio)&&void 0!==i?i:1,n=this.fillShadow;n&&n.enabled&&(t.shadowColor=n.color,t.shadowOffsetX=n.xOffset*o,t.shadowOffsetY=n.yOffset*o,t.shadowBlur=n.blur*o)},e.prototype.renderStroke=function(t){if(this.stroke&&this.strokeWidth){var e=t.globalAlpha;t.strokeStyle=this.stroke,t.globalAlpha=e*this.opacity*this.strokeOpacity,t.lineWidth=this.strokeWidth,this.lineDash&&t.setLineDash(this.lineDash),this.lineDashOffset&&(t.lineDashOffset=this.lineDashOffset),this.lineCap&&(t.lineCap=this.lineCap),this.lineJoin&&(t.lineJoin=this.lineJoin),t.stroke(),t.globalAlpha=e}},e.prototype.containsPoint=function(t,e){return this.isPointInPath(t,e)},e.defaultStyles=Object.assign({},{fill:"black",stroke:void 0,strokeWidth:0,lineDash:void 0,lineDashOffset:0,lineCap:void 0,lineJoin:void 0,opacity:1,fillShadow:void 0}),__decorate$1Q([SceneChangeDetection({redraw:RedrawType.MINOR})],e.prototype,"fillOpacity",void 0),__decorate$1Q([SceneChangeDetection({redraw:RedrawType.MINOR})],e.prototype,"strokeOpacity",void 0),__decorate$1Q([SceneChangeDetection({redraw:RedrawType.MINOR,changeCb:function(t){return t.updateGradient()}})],e.prototype,"fill",void 0),__decorate$1Q([SceneChangeDetection({redraw:RedrawType.MINOR})],e.prototype,"stroke",void 0),__decorate$1Q([SceneChangeDetection({redraw:RedrawType.MINOR})],e.prototype,"strokeWidth",void 0),__decorate$1Q([SceneChangeDetection({redraw:RedrawType.MINOR})],e.prototype,"lineDash",void 0),__decorate$1Q([SceneChangeDetection({redraw:RedrawType.MINOR})],e.prototype,"lineDashOffset",void 0),__decorate$1Q([SceneChangeDetection({redraw:RedrawType.MINOR})],e.prototype,"lineCap",void 0),__decorate$1Q([SceneChangeDetection({redraw:RedrawType.MINOR})],e.prototype,"lineJoin",void 0),__decorate$1Q([SceneChangeDetection({redraw:RedrawType.MINOR,convertor:function(t){return Math.min(1,Math.max(0,t))}})],e.prototype,"opacity",void 0),__decorate$1Q([SceneChangeDetection({redraw:RedrawType.MINOR,checkDirtyOnAssignment:!0})],e.prototype,"fillShadow",void 0),e}(Node),__extends$2C=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$1P=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s};function SceneFontChangeDetection(t){var e=t||{},i=e.redraw;return SceneChangeDetection({redraw:void 0===i?RedrawType.MAJOR:i,type:"font",changeCb:e.changeCb})}var Text=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.x=0,i.y=0,i.lines=[],i.text="",i._dirtyFont=!0,i.fontSize=10,i.fontFamily="sans-serif",i.textAlign=e.defaultStyles.textAlign,i.textBaseline=e.defaultStyles.textBaseline,i.lineHeight=void 0,i}return __extends$2C(e,t),e.prototype._splitText=function(){this.lines="string"==typeof this.text?this.text.split(/\r?\n/g):[]},Object.defineProperty(e.prototype,"font",{get:function(){return this._dirtyFont&&(this._dirtyFont=!1,this._font=getFont(this.fontSize,this.fontFamily,this.fontStyle,this.fontWeight)),this._font},enumerable:!1,configurable:!0}),e.prototype.computeBBox=function(){return HdpiCanvas.has.textMetrics?this.getPreciseBBox():this.getApproximateBBox()},e.prototype.getPreciseBBox=function(){for(var t,e,i=0,o=0,n=0,r=0,s=0,a=0;a<this.lines.length;a++){var l=HdpiCanvas.measureText(this.lines[a],this.font,this.textBaseline,this.textAlign);i=Math.max(i,l.actualBoundingBoxLeft),n=Math.max(n,l.width),0==a?(o+=l.actualBoundingBoxAscent,r+=l.actualBoundingBoxAscent):s+=null!==(t=l.fontBoundingBoxAscent)&&void 0!==t?t:l.emHeightAscent,a==this.lines.length-1?r+=l.actualBoundingBoxDescent:s+=null!==(e=l.fontBoundingBoxDescent)&&void 0!==e?e:l.emHeightDescent}return void 0!==this.lineHeight&&(s=(this.lines.length-1)*this.lineHeight),r+=s,o+=s*this.getVerticalOffset(),new BBox(this.x-i,this.y-o,n,r)},e.prototype.getVerticalOffset=function(){switch(this.textBaseline){case"top":case"hanging":return 0;case"bottom":case"alphabetic":case"ideographic":return 1;case"middle":return.5}},e.prototype.getApproximateBBox=function(){var t,e=0,i=0,o=0;this.lines.length>0&&(e=(r=HdpiCanvas.getTextSize(this.lines[0],this.font)).width,i=r.height);for(var n=1;n<this.lines.length;n++){var r=HdpiCanvas.getTextSize(this.lines[n],this.font);e=Math.max(e,r.width),o+=null!==(t=this.lineHeight)&&void 0!==t?t:r.height}var s=this.x,a=this.y;switch(this.textAlign){case"end":case"right":s-=e;break;case"center":s-=e/2}switch(this.textBaseline){case"alphabetic":a-=.7*i+.5*o;break;case"middle":a-=.45*i+.5*o;break;case"ideographic":case"bottom":a-=i+o;break;case"hanging":a-=.2*i+.5*o}return new BBox(s,a,e,i+o)},e.prototype.getLineHeight=function(t){var e,i;if(this.lineHeight)return this.lineHeight;if(HdpiCanvas.has.textMetrics){var o=HdpiCanvas.measureText(t,this.font,this.textBaseline,this.textAlign);return(null!==(e=o.fontBoundingBoxAscent)&&void 0!==e?e:o.emHeightAscent)+(null!==(i=o.fontBoundingBoxDescent)&&void 0!==i?i:o.emHeightDescent)}return HdpiCanvas.getTextSize(t,this.font).height},e.prototype.isPointInPath=function(t,e){var i=this.transformPoint(t,e),o=this.computeBBox();return!!o&&o.containsPoint(i.x,i.y)},e.prototype.render=function(e){var i=e.ctx,o=e.forceRender,n=e.stats;if(this.dirty!==RedrawType.NONE||o)if(this.lines.length&&this.layerManager){this.computeTransformMatrix(),this.matrix.toContext(i);var r=this,s=r.fill,a=r.stroke,l=r.strokeWidth;i.font=this.font,i.textAlign=this.textAlign,i.textBaseline=this.textBaseline;var c=this.layerManager.canvas.pixelRatio||1,u=i.globalAlpha;if(s){i.fillStyle=s,i.globalAlpha=u*this.opacity*this.fillOpacity;var h=this.fillShadow;h&&h.enabled&&(i.shadowColor=h.color,i.shadowOffsetX=h.xOffset*c,i.shadowOffsetY=h.yOffset*c,i.shadowBlur=h.blur*c),this.renderLines((function(t,e,o){return i.fillText(t,e,o)}))}if(a&&l){i.strokeStyle=a,i.lineWidth=l,i.globalAlpha=u*this.opacity*this.strokeOpacity;var d=this,p=d.lineDash,f=d.lineDashOffset,g=d.lineCap,m=d.lineJoin;p&&i.setLineDash(p),f&&(i.lineDashOffset=f),g&&(i.lineCap=g),m&&(i.lineJoin=m),this.renderLines((function(t,e,o){return i.strokeText(t,e,o)}))}t.prototype.render.call(this,e)}else n&&(n.nodesSkipped+=this.nodeCount.count);else n&&(n.nodesSkipped+=this.nodeCount.count)},e.prototype.renderLines=function(t){for(var e=this,i=this,o=i.lines,n=i.x,r=i.y,s=this.lines.map((function(t){return e.getLineHeight(t)})),a=-(s.reduce((function(t,e){return t+e}),0)-s[0])*this.getVerticalOffset(),l=0;l<o.length;l++)t(o[l],n,r+a),a+=s[l]},e.className="Text",e.defaultStyles=Object.assign({},Shape.defaultStyles,{textAlign:"start",fontStyle:void 0,fontWeight:void 0,fontSize:10,fontFamily:"sans-serif",textBaseline:"alphabetic"}),__decorate$1P([SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"x",void 0),__decorate$1P([SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"y",void 0),__decorate$1P([SceneChangeDetection({redraw:RedrawType.MAJOR,changeCb:function(t){return t._splitText()}})],e.prototype,"text",void 0),__decorate$1P([SceneFontChangeDetection()],e.prototype,"fontStyle",void 0),__decorate$1P([SceneFontChangeDetection()],e.prototype,"fontWeight",void 0),__decorate$1P([SceneFontChangeDetection()],e.prototype,"fontSize",void 0),__decorate$1P([SceneFontChangeDetection()],e.prototype,"fontFamily",void 0),__decorate$1P([SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"textAlign",void 0),__decorate$1P([SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"textBaseline",void 0),__decorate$1P([SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"lineHeight",void 0),e}(Shape);function getFont(t,e,i,o){return[i||"",o||"",t+"px",e].join(" ").trim()}function linearRoot(t,e){var i=-e/t;return 0!==t&&i>=0&&i<=1?[i]:[]}function quadraticRoots(t,e,i){if(0===t)return linearRoot(e,i);var o=e*e-4*t*i,n=[];if(0===o){var r=-e/(2*t);r>=0&&r<=1&&n.push(r)}else if(o>0){var s=Math.sqrt(o),a=(-e-s)/(2*t),l=(-e+s)/(2*t);a>=0&&a<=1&&n.push(a),l>=0&&l<=1&&n.push(l)}return n}function cubicRoots(t,e,i,o){if(0===t)return quadraticRoots(e,i,o);var n=e/t,r=i/t,s=(3*r-n*n)/9,a=(9*n*r-27*(o/t)-2*n*n*n)/54,l=s*s*s+a*a,c=1/3,u=[];if(l>=0){var h=Math.sqrt(l),d=Math.sign(a+h)*Math.pow(Math.abs(a+h),c),p=Math.sign(a-h)*Math.pow(Math.abs(a-h),c),f=Math.abs(Math.sqrt(3)*(d-p)/2),g=-c*n+(d+p);if(g>=0&&g<=1&&u.push(g),0===f){var m=-c*n-(d+p)/2;m>=0&&m<=1&&u.push(m)}}else{var y=Math.acos(a/Math.sqrt(-s*s*s)),v=c*n,_=2*Math.sqrt(-s),C=_*Math.cos(c*y)-v,b=_*Math.cos(c*(y+2*Math.PI))-v,E=_*Math.cos(c*(y+4*Math.PI))-v;C>=0&&C<=1&&u.push(C),b>=0&&b<=1&&u.push(b),E>=0&&E<=1&&u.push(E)}return u}var __values$v=function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],o=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function segmentIntersection(t,e,i,o,n,r,s,a){var l=(i-t)*(a-r)-(o-e)*(s-n);if(0===l)return null;var c=((s-n)*(e-r)-(t-n)*(a-r))/l,u=((i-t)*(e-r)-(o-e)*(t-n))/l;return c>=0&&c<=1&&u>=0&&u<=1?{x:t+c*(i-t),y:e+c*(o-e)}:null}function cubicSegmentIntersections(t,e,i,o,n,r,s,a,l,c,u,h){var d,p,f=[],g=c-h,m=u-l,y=l*(h-c)-c*(u-l),v=bezierCoefficients(t,i,n,s),_=bezierCoefficients(e,o,r,a),C=cubicRoots(g*v[0]+m*_[0],g*v[1]+m*_[1],g*v[2]+m*_[2],g*v[3]+m*_[3]+y);try{for(var b=__values$v(C),E=b.next();!E.done;E=b.next()){var S=E.value,w=S*S,O=S*w,x=v[0]*O+v[1]*w+v[2]*S+v[3],P=_[0]*O+_[1]*w+_[2]*S+_[3],T=void 0;(T=l!==u?(x-l)/(u-l):(P-c)/(h-c))>=0&&T<=1&&f.push({x,y:P})}}catch(t){d={error:t}}finally{try{E&&!E.done&&(p=b.return)&&p.call(b)}finally{if(d)throw d.error}}return f}function bezierCoefficients(t,e,i,o){return[3*e-t-3*i+o,3*t-6*e+3*i,-3*t+3*e,t]}function arcIntersections(t,e,i,o,n,r,s,a,l,c){var u=(c-a)/(l-s),h=a-u*s,d=Math.pow(u,2)+1,p=2*(u*(h-e)-t),f=Math.pow(t,2)+Math.pow(h-e,2)-Math.pow(i,2),g=Math.pow(p,2)-4*d*f;if(g<0)return[];var m=(-p+Math.sqrt(g))/2/d,y=(-p-Math.sqrt(g))/2/d,v=[];return[m,y].forEach((function(t){if(t>=Math.min(s,l)&&t<=Math.max(s,l)){var e=u*t,i=normalizeAngle360(r?n:o),a=normalizeAngle360(r?o:n),c=normalizeAngle360(Math.atan2(e,t));a<=i&&(a+=2*Math.PI),c<i&&(c+=2*Math.PI),c>=i&&c<=a&&v.push({x:t,y:e})}})),v}var __values$u=function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],o=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Command;!function(t){t[t.Move=0]="Move",t[t.Line=1]="Line",t[t.Arc=2]="Arc",t[t.Curve=3]="Curve",t[t.ClosePath=4]="ClosePath"}(Command||(Command={}));var Path2D=function(){function t(){this.previousCommands=[],this.previousParams=[],this.previousClosedPath=!1,this.commands=[],this.params=[],this._closedPath=!1}return t.prototype.isDirty=function(){if(this._closedPath!==this.previousClosedPath)return!0;if(this.previousCommands.length!==this.commands.length)return!0;if(this.previousParams.length!==this.params.length)return!0;for(var t=0;t<this.commands.length;t++)if(this.commands[t]!==this.previousCommands[t])return!0;for(t=0;t<this.params.length;t++)if(this.params[t]!==this.previousParams[t])return!0;return!1},t.prototype.draw=function(t){var e,i,o=this.commands,n=this.params,r=0;t.beginPath();try{for(var s=__values$u(o),a=s.next();!a.done;a=s.next()){switch(a.value){case Command.Move:t.moveTo(n[r++],n[r++]);break;case Command.Line:t.lineTo(n[r++],n[r++]);break;case Command.Curve:t.bezierCurveTo(n[r++],n[r++],n[r++],n[r++],n[r++],n[r++]);break;case Command.Arc:t.arc(n[r++],n[r++],n[r++],n[r++],n[r++],1===n[r++]);break;case Command.ClosePath:t.closePath()}}}catch(t){e={error:t}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(e)throw e.error}}0===o.length&&t.closePath()},t.prototype.moveTo=function(t,e){this.xy?(this.xy[0]=t,this.xy[1]=e):this.xy=[t,e],this.commands.push(Command.Move),this.params.push(t,e)},t.prototype.lineTo=function(t,e){this.xy?(this.commands.push(Command.Line),this.params.push(t,e),this.xy[0]=t,this.xy[1]=e):this.moveTo(t,e)},t.prototype.rect=function(t,e,i,o){this.moveTo(t,e),this.lineTo(t+i,e),this.lineTo(t+i,e+o),this.lineTo(t,e+o),this.closePath()},t.prototype.arc=function(t,e,i,o,n,r){void 0===r&&(r=!1);var s=t+i*Math.cos(n),a=e+i*Math.sin(n);this.xy?(this.xy[0]=s,this.xy[1]=a):this.xy=[s,a],this.commands.push(Command.Arc),this.params.push(t,e,i,o,n,r?1:0)},t.prototype.cubicCurveTo=function(t,e,i,o,n,r){this.xy||this.moveTo(t,e),this.commands.push(Command.Curve),this.params.push(t,e,i,o,n,r),this.xy[0]=n,this.xy[1]=r},Object.defineProperty(t.prototype,"closedPath",{get:function(){return this._closedPath},enumerable:!1,configurable:!0}),t.prototype.closePath=function(){this.xy&&(this.xy=void 0,this.commands.push(Command.ClosePath),this._closedPath=!0)},t.prototype.clear=function(t){(void 0===t?{trackChanges:!1}:t).trackChanges?(this.previousCommands=this.commands,this.previousParams=this.params,this.previousClosedPath=this._closedPath,this.commands=[],this.params=[]):(this.commands.length=0,this.params.length=0),this.xy=void 0,this._closedPath=!1},t.prototype.isPointInPath=function(t,e){for(var i=this.commands,o=this.params,n=i.length,r=-1e4,s=-1e4,a=NaN,l=NaN,c=0,u=0,h=0,d=0,p=0;d<n;d++)switch(i[d]){case Command.Move:isNaN(a)||segmentIntersection(a,l,c,u,r,s,t,e)&&h++,a=c=o[p++],l=u=o[p++];break;case Command.Line:segmentIntersection(c,u,o[p++],o[p++],r,s,t,e)&&h++,c=o[p-2],u=o[p-1];break;case Command.Curve:h+=cubicSegmentIntersections(c,u,o[p++],o[p++],o[p++],o[p++],o[p++],o[p++],r,s,t,e).length,c=o[p-2],u=o[p-1];break;case Command.Arc:h+=arcIntersections(o[p++],o[p++],o[p++],o[p++],o[p++],Boolean(o[p++]),r,s,t,e).length,c=o[p-2],u=o[p-1];break;case Command.ClosePath:isNaN(a)||segmentIntersection(a,l,c,u,r,s,t,e)&&h++}return h%2==1},t}(),__extends$2B=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$1O=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s};function ScenePathChangeDetection(t){var e=t||{},i=e.redraw,o=void 0===i?RedrawType.MAJOR:i,n=e.changeCb;return SceneChangeDetection({redraw:o,type:"path",convertor:e.convertor,changeCb:n})}var Path=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.path=new Path2D,e._dirtyPath=!0,e}return __extends$2B(e,t),Object.defineProperty(e.prototype,"dirtyPath",{get:function(){return this._dirtyPath},set:function(t){this._dirtyPath!==t&&(this._dirtyPath=t,t&&this.markDirty(this,RedrawType.MAJOR))},enumerable:!1,configurable:!0}),e.prototype.checkPathDirty=function(){var t,e;this._dirtyPath||(this.dirtyPath=this.path.isDirty()||null!==(e=null===(t=this.fillShadow)||void 0===t?void 0:t.isDirty())&&void 0!==e&&e)},e.prototype.isPointInPath=function(t,e){var i=this.transformPoint(t,e);return this.path.closedPath&&this.path.isPointInPath(i.x,i.y)},e.prototype.isDirtyPath=function(){return!1},e.prototype.updatePath=function(){},e.prototype.render=function(e){var i,o,n=e.ctx,r=e.forceRender,s=e.stats;if(this.dirty!==RedrawType.NONE||r){if(this.computeTransformMatrix(),this.matrix.toContext(n),(this.dirtyPath||this.isDirtyPath())&&(this.updatePath(),this.dirtyPath=!1),this.clipPath){if(n.save(),"normal"===this.clipMode&&(this.clipPath.draw(n),n.clip()),this.path.draw(n),this.fillStroke(n),"punch-out"===this.clipMode){this.clipPath.draw(n),n.clip();var a=null!==(i=this.computeBBox())&&void 0!==i?i:{},l=a.x,c=void 0===l?-1e4:l,u=a.y,h=void 0===u?-1e4:u,d=a.width,p=void 0===d?2e4:d,f=a.height,g=void 0===f?2e4:f;n.clearRect(c,h,p,g)}n.restore()}else this.path.draw(n),this.fillStroke(n);null===(o=this.fillShadow)||void 0===o||o.markClean(),t.prototype.render.call(this,e)}else s&&(s.nodesSkipped+=this.nodeCount.count)},e.className="Path",__decorate$1O([ScenePathChangeDetection()],e.prototype,"clipPath",void 0),__decorate$1O([ScenePathChangeDetection()],e.prototype,"clipMode",void 0),e}(Shape),__extends$2A=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$1N=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},__values$t=function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],o=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Marker=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.x=0,e.y=0,e.size=12,e}return __extends$2A(e,t),e.prototype.computeBBox=function(){var t=this,e=t.x,i=t.y,o=t.size,n=o/2;return new BBox(e-n,i-n,o,o)},e.prototype.applyPath=function(t,e){var i,o,n=this.path,r=this.x,s=this.y;n.clear();try{for(var a=__values$t(e),l=a.next();!l.done;l=a.next()){var c=l.value,u=c.x,h=c.y,d=c.t;r+=u*t,s+=h*t,"move"===d?n.moveTo(r,s):n.lineTo(r,s)}}catch(t){i={error:t}}finally{try{l&&!l.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}n.closePath()},__decorate$1N([ScenePathChangeDetection()],e.prototype,"x",void 0),__decorate$1N([ScenePathChangeDetection()],e.prototype,"y",void 0),__decorate$1N([ScenePathChangeDetection({convertor:Math.abs})],e.prototype,"size",void 0),e}(Path),__extends$2z=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),Square=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$2z(e,t),e.prototype.updatePath=function(){var t=this,e=t.path,i=t.x,o=t.y,n=this.size/2;e.clear(),e.moveTo(this.align(i-n),this.align(o-n)),e.lineTo(this.align(i+n),this.align(o-n)),e.lineTo(this.align(i+n),this.align(o+n)),e.lineTo(this.align(i-n),this.align(o+n)),e.closePath()},e.className="Square",e}(Marker);function ProxyPropertyOnWrite(t,e){return addTransformToInstanceProperty((function(i,o,n){return i[t][null!=e?e:o]=n,n}))}function ActionOnSet(t){var e=t.newValue,i=t.oldValue,o=t.changeValue;return addTransformToInstanceProperty((function(t,n,r,s){return r!==s&&(void 0!==s&&(null==i||i.call(t,s)),void 0!==r&&(null==e||e.call(t,r)),null==o||o.call(t,r,s)),r}))}var __extends$2y=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$1M=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},MarkerLabel=function(t){function e(){var e=t.call(this,{name:"markerLabelGroup"})||this;e.label=new Text,e._marker=new Square,e._markerSize=15,e._spacing=8;var i=e.label;return i.textBaseline="middle",i.fontSize=12,i.fontFamily="Verdana, sans-serif",i.fill="black",i.y=HdpiCanvas.has.textMetrics?1:0,e.append([e.marker,i]),e.update(),e}return __extends$2y(e,t),Object.defineProperty(e.prototype,"marker",{get:function(){return this._marker},set:function(t){this._marker!==t&&(this.removeChild(this._marker),this._marker=t,this.appendChild(t),this.update())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"markerSize",{get:function(){return this._markerSize},set:function(t){this._markerSize!==t&&(this._markerSize=t,this.update())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"spacing",{get:function(){return this._spacing},set:function(t){this._spacing!==t&&(this._spacing=t,this.update())},enumerable:!1,configurable:!0}),e.prototype.update=function(){var t=this.marker,e=this.markerSize;t.size=e,this.label.x=e/2+this.spacing},e.prototype.render=function(e){this.marker.opacity=this.opacity,this.label.opacity=this.opacity,t.prototype.render.call(this,e)},e.className="MarkerLabel",__decorate$1M([ProxyPropertyOnWrite("label")],e.prototype,"text",void 0),__decorate$1M([ProxyPropertyOnWrite("label")],e.prototype,"fontStyle",void 0),__decorate$1M([ProxyPropertyOnWrite("label")],e.prototype,"fontWeight",void 0),__decorate$1M([ProxyPropertyOnWrite("label")],e.prototype,"fontSize",void 0),__decorate$1M([ProxyPropertyOnWrite("label")],e.prototype,"fontFamily",void 0),__decorate$1M([ProxyPropertyOnWrite("label","fill")],e.prototype,"color",void 0),__decorate$1M([ProxyPropertyOnWrite("marker","fill")],e.prototype,"markerFill",void 0),__decorate$1M([ProxyPropertyOnWrite("marker","stroke")],e.prototype,"markerStroke",void 0),__decorate$1M([ProxyPropertyOnWrite("marker","strokeWidth")],e.prototype,"markerStrokeWidth",void 0),__decorate$1M([ProxyPropertyOnWrite("marker","fillOpacity")],e.prototype,"markerFillOpacity",void 0),__decorate$1M([ProxyPropertyOnWrite("marker","strokeOpacity")],e.prototype,"markerStrokeOpacity",void 0),e}(Group),__extends$2x=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),Circle=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$2x(e,t),e.prototype.updatePath=function(){var t=this,e=t.x,i=t.y,o=t.path,n=t.size/2;o.clear(),o.arc(e,i,n,0,2*Math.PI),o.closePath()},e.className="Circle",e}(Marker),__extends$2w=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),Cross=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$2w(e,t),e.prototype.updatePath=function(){var i=this.size/4.2;t.prototype.applyPath.call(this,i,e.moves)},e.className="Cross",e.moves=[{x:-1,y:0,t:"move"},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1},{x:1,y:1},{x:-1,y:1},{x:-1,y:-1},{x:-1,y:1},{x:-1,y:-1}],e}(Marker),__extends$2v=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),Diamond=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$2v(e,t),e.prototype.updatePath=function(){var i=this.size/2;t.prototype.applyPath.call(this,i,e.moves)},e.className="Diamond",e.moves=[{x:0,y:-1,t:"move"},{x:1,y:1},{x:-1,y:1},{x:-1,y:-1},{x:1,y:-1}],e}(Marker),__extends$2u=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),Heart=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$2u(e,t),e.prototype.rad=function(t){return t/180*Math.PI},e.prototype.updatePath=function(){var t=this,e=t.x,i=t.path,o=t.size,n=t.rad,r=o/4,s=this.y+r/2;i.clear(),i.arc(e-r,s-r,r,n(130),n(330)),i.arc(e+r,s-r,r,n(220),n(50)),i.lineTo(e,s+r),i.closePath()},e.className="Heart",e}(Marker),__extends$2t=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),Plus=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$2t(e,t),e.prototype.updatePath=function(){var i=this.size/3;t.prototype.applyPath.call(this,i,e.moves)},e.className="Plus",e.moves=[{x:-.5,y:-.5,t:"move"},{x:0,y:-1},{x:1,y:0},{x:0,y:1},{x:1,y:0},{x:0,y:1},{x:-1,y:0},{x:0,y:1},{x:-1,y:0},{x:0,y:-1},{x:-1,y:0},{x:0,y:-1}],e}(Marker),__extends$2s=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),Triangle=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$2s(e,t),e.prototype.updatePath=function(){var i=1.1*this.size;t.prototype.applyPath.call(this,i,e.moves)},e.className="Triangle",e.moves=[{x:0,y:-.48,t:"move"},{x:.5,y:.87},{x:-1,y:0}],e}(Marker),ChartUpdateType;function getMarker$1(t){if(void 0===t&&(t=Square),"string"==typeof t)switch(t){case"circle":return Circle;case"cross":return Cross;case"diamond":return Diamond;case"heart":return Heart;case"plus":return Plus;case"triangle":return Triangle;default:return Square}return"function"==typeof t?t:Square}!function(t){t[t.FULL=0]="FULL",t[t.PROCESS_DATA=1]="PROCESS_DATA",t[t.PERFORM_LAYOUT=2]="PERFORM_LAYOUT",t[t.SERIES_UPDATE=3]="SERIES_UPDATE",t[t.TOOLTIP_RECALCULATION=4]="TOOLTIP_RECALCULATION",t[t.SCENE_RENDER=5]="SCENE_RENDER",t[t.NONE=6]="NONE"}(ChartUpdateType||(ChartUpdateType={}));var __values$s=function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],o=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function gridLayout(t){for(var e=t.orientation,i=t.bboxes,o=t.maxHeight,n=t.maxWidth,r=t.itemPaddingY,s=void 0===r?0:r,a=t.itemPaddingX,l=void 0===a?0:a,c=t.forceResult,u=void 0!==c&&c,h="horizontal"===e,d={max:h?n:o,fn:h?function(t){return t.width}:function(t){return t.height},padding:h?l:s},p={max:h?o:n,fn:h?function(t){return t.height}:function(t){return t.width},padding:h?s:l},f=0,g=[];f<i.length;){var m=processBBoxes(i.slice(f),f,d,p,u);if(!m)return;f+=m.processedBBoxCount,g.push(m.pageIndices)}return buildPages(g,e,i,s,l)}function processBBoxes(t,e,i,o,n){var r=estimateStartingGuess(t,i);if(r<1){if(!n)return;r=1}for(var s=r;s>=1;s--){var a=calculatePage(t,e,s,i,o,n);if(null==a&&s<=1)return;if(null!=a){if("number"!=typeof a)return{processedBBoxCount:a.length*a[0].length,pageIndices:a};if(a<=1)return;s=a<s&&a>1?a:s}}}function calculatePage(t,e,i,o,n,r){for(var s,a=[],l=0,c=0,u=[],h=[],d=0;d<t.length;d++){var p=(d+i)%i;0===p&&(l+=c,c=0,u.length>0&&a.push(u),u=[]);var f=o.fn(t[d])+o.padding;h[p]=Math.max(null!==(s=h[p])&&void 0!==s?s:0,f);var g=l+(c=Math.max(c,n.fn(t[d])+n.padding)),m=!r||a.length>0;if(g>n.max&&m){u=[];break}if(h.reduce((function(t,e){return t+e}),0)>o.max&&!r)return h.length<i?h.length:void 0;u.push(d+e)}return u.length>0&&a.push(u),a.length>0?a:void 0}function buildPages(t,e,i,o,n){var r=0,s=0,a=t.map((function(t){"horizontal"===e&&(t=transpose(t));var a=0,l=t.map((function(t){var e=t.map((function(t){return a=Math.max(t,a),i[t]})),r=0,s=0;return e.forEach((function(t){r+=t.height+o,s=Math.max(s,t.width+n)})),{indices:t,bboxes:e,columnHeight:r,columnWidth:s}})),c=0,u=0;return l.forEach((function(t){c+=t.columnWidth,u=Math.max(u,t.columnHeight)})),r=Math.max(c,r),s=Math.max(u,s),{columns:l,startIndex:t[0][0],endIndex:a,pageWidth:c,pageHeight:u}}));return{pages:a,maxPageWidth:r,maxPageHeight:s}}function transpose(t){var e,i,o=[];try{for(var n=__values$s(t[0]),r=n.next();!r.done;r=n.next()){r.value;o.push([])}}catch(t){e={error:t}}finally{try{r&&!r.done&&(i=n.return)&&i.call(n)}finally{if(e)throw e.error}}return t.forEach((function(t,e){t.forEach((function(t,i){o[i][e]=t}))})),o}function estimateStartingGuess(t,e){for(var i=t.length,o=0,n=0;n<i;n++){if((o+=e.fn(t[n])+e.padding)>e.max)return i/n<2?Math.ceil(i/2):n}return i}var __decorate$1L=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},PaginationLabel=function(){function t(){this.color="black",this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif"}return __decorate$1L([Validate(COLOR_STRING)],t.prototype,"color",void 0),__decorate$1L([Validate(OPT_FONT_STYLE)],t.prototype,"fontStyle",void 0),__decorate$1L([Validate(OPT_FONT_WEIGHT)],t.prototype,"fontWeight",void 0),__decorate$1L([Validate(NUMBER(0))],t.prototype,"fontSize",void 0),__decorate$1L([Validate(STRING)],t.prototype,"fontFamily",void 0),t}(),PaginationMarkerStyle=function(){function t(){this.size=15,this.fill=void 0,this.fillOpacity=void 0,this.stroke=void 0,this.strokeWidth=1,this.strokeOpacity=1}return __decorate$1L([Validate(NUMBER(0))],t.prototype,"size",void 0),__decorate$1L([Validate(OPT_COLOR_STRING)],t.prototype,"fill",void 0),__decorate$1L([Validate(OPT_NUMBER(0,1))],t.prototype,"fillOpacity",void 0),__decorate$1L([Validate(OPT_COLOR_STRING)],t.prototype,"stroke",void 0),__decorate$1L([Validate(NUMBER(0))],t.prototype,"strokeWidth",void 0),__decorate$1L([Validate(NUMBER(0,1))],t.prototype,"strokeOpacity",void 0),t}(),PaginationMarker=function(){function t(){this.size=15,this._shape=Triangle,this.padding=8}return Object.defineProperty(t.prototype,"shape",{get:function(){return this._shape},set:function(t){var e;this._shape=t,null===(e=this.parent)||void 0===e||e.onMarkerShapeChange()},enumerable:!1,configurable:!0}),__decorate$1L([Validate(NUMBER(0))],t.prototype,"size",void 0),__decorate$1L([Validate(NUMBER(0))],t.prototype,"padding",void 0),t}(),Pagination=function(){function t(t,e,i,o){var n=this;this.chartUpdateCallback=t,this.pageUpdateCallback=e,this.interactionManager=i,this.cursorManager=o,this.id=createId$1(this),this.group=new Group({name:"pagination"}),this.labelNode=new Text,this.marker=new PaginationMarker,this.activeStyle=new PaginationMarkerStyle,this.inactiveStyle=new PaginationMarkerStyle,this.highlightStyle=new PaginationMarkerStyle,this.label=new PaginationLabel,this.totalPages=0,this.currentPage=0,this.nextButtonDisabled=!1,this.previousButtonDisabled=!1,this._visible=!0,this._enabled=!0,this._orientation="vertical",this._nextButton=new Triangle,this._previousButton=new Triangle;var r=this.labelNode;r.textBaseline="middle",r.fontSize=12,r.fontFamily="Verdana, sans-serif",r.fill="black",r.y=HdpiCanvas.has.textMetrics?1:0,this.group.append([this.nextButton,this.previousButton,r]),this.interactionManager.addListener("click",(function(t){return n.onPaginationClick(t)})),this.interactionManager.addListener("hover",(function(t){return n.onPaginationMouseMove(t)})),this.marker.parent=this,this.update(),this.updateMarkers()}return Object.defineProperty(t.prototype,"visible",{get:function(){return this._visible},set:function(t){this._visible=t,this.updateGroupVisibility()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return this._enabled},set:function(t){this._enabled=t,this.updateGroupVisibility()},enumerable:!1,configurable:!0}),t.prototype.updateGroupVisibility=function(){this.group.visible=this.enabled&&this.visible},Object.defineProperty(t.prototype,"orientation",{get:function(){return this._orientation},set:function(t){if(this._orientation=t,"horizontal"===t)this.previousButton.rotation=-Math.PI/2,this.nextButton.rotation=Math.PI/2;else this.previousButton.rotation=0,this.nextButton.rotation=Math.PI},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"translationX",{get:function(){return this.group.translationX},set:function(t){this.group.translationX=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"translationY",{get:function(){return this.group.translationY},set:function(t){this.group.translationY=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextButton",{get:function(){return this._nextButton},set:function(t){this._nextButton!==t&&(this.group.removeChild(this._nextButton),this._nextButton=t,this.group.appendChild(t))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"previousButton",{get:function(){return this._previousButton},set:function(t){this._previousButton!==t&&(this.group.removeChild(this._previousButton),this._previousButton=t,this.group.appendChild(t))},enumerable:!1,configurable:!0}),t.prototype.update=function(){this.updateLabel(),this.updatePositions(),this.enableOrDisableButtons()},t.prototype.updatePositions=function(){this.updateLabelPosition(),this.updateNextButtonPosition()},t.prototype.updateLabelPosition=function(){var t=this.marker,e=t.size,i=t.padding;this.nextButton.size=e,this.previousButton.size=e,this.labelNode.x=e/2+i},t.prototype.updateNextButtonPosition=function(){var t=this.labelNode.computeBBox();this.nextButton.translationX=t.x+t.width+this.marker.size/2+this.marker.padding},t.prototype.updateLabel=function(){var t=this,e=t.currentPage,i=t.totalPages,o=t.labelNode,n=t.label,r=n.color,s=n.fontStyle,a=n.fontWeight,l=n.fontSize,c=n.fontFamily;o.text=e+1+" / "+i,o.fill=r,o.fontStyle=s,o.fontWeight=a,o.fontSize=l,o.fontFamily=c},t.prototype.updateMarkers=function(){var t=this,e=t.nextButton,i=t.previousButton,o=t.nextButtonDisabled,n=t.previousButtonDisabled,r=t.activeStyle,s=t.inactiveStyle,a=t.highlightStyle,l=t.highlightActive,c=function(t,e){return e?s:t===l?a:r};this.updateMarker(e,c("next",o)),this.updateMarker(i,c("previous",n))},t.prototype.updateMarker=function(t,e){var i,o=this.marker.size;t.size=o,t.fill=e.fill,t.fillOpacity=null!==(i=e.fillOpacity)&&void 0!==i?i:1,t.stroke=e.stroke,t.strokeWidth=e.strokeWidth,t.strokeOpacity=e.strokeOpacity},t.prototype.enableOrDisableButtons=function(){var t=this.currentPage,e=this.totalPages,i=0===e,o=t===e-1,n=0===t;this.nextButtonDisabled=o||i,this.previousButtonDisabled=n||i},t.prototype.nextButtonContainsPoint=function(t,e){return!this.nextButtonDisabled&&this.nextButton.containsPoint(t,e)},t.prototype.previousButtonContainsPoint=function(t,e){return!this.previousButtonDisabled&&this.previousButton.containsPoint(t,e)},t.prototype.onPaginationClick=function(t){var e=t.offsetX,i=t.offsetY;this.nextButtonContainsPoint(e,i)?(this.incrementPage(),this.onPaginationChanged(),t.consume()):this.previousButtonContainsPoint(e,i)&&(this.decrementPage(),this.onPaginationChanged(),t.consume())},t.prototype.onPaginationMouseMove=function(t){var e=t.offsetX,i=t.offsetY;this.nextButtonContainsPoint(e,i)?(this.cursorManager.updateCursor(this.id,"pointer"),this.highlightActive="next"):this.previousButtonContainsPoint(e,i)?(this.cursorManager.updateCursor(this.id,"pointer"),this.highlightActive="previous"):(this.cursorManager.updateCursor(this.id),this.highlightActive=void 0),this.updateMarkers(),this.chartUpdateCallback(ChartUpdateType.SCENE_RENDER)},t.prototype.onPaginationChanged=function(){this.pageUpdateCallback(this.currentPage)},t.prototype.incrementPage=function(){this.currentPage=Math.min(this.currentPage+1,this.totalPages-1)},t.prototype.decrementPage=function(){this.currentPage=Math.max(this.currentPage-1,0)},t.prototype.onMarkerShapeChange=function(){var t=getMarker$1(this.marker.shape||Triangle);this.previousButton=new t,this.nextButton=new t,this.updatePositions(),this.updateMarkers(),this.chartUpdateCallback(ChartUpdateType.SCENE_RENDER)},t.prototype.attachPagination=function(t){t.append(this.group)},t.prototype.computeBBox=function(){return this.group.computeBBox()},t.className="Pagination",t}(),__decorate$1K=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},__read$U=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,n,r=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return s},__spread$w=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$U(arguments[e]));return t},__values$r=function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],o=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ORIENTATIONS=["horizontal","vertical"],OPT_ORIENTATION=predicateWithMessage((function(t,e){return OPTIONAL(t,e,(function(t){return ORIENTATIONS.includes(t)}))}),"expecting an orientation keyword such as 'horizontal' or 'vertical'"),LegendLabel=function(){function t(){this.maxLength=void 0,this.color="black",this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif",this.formatter=void 0}return t.prototype.getFont=function(){return getFont(this.fontSize,this.fontFamily,this.fontStyle,this.fontWeight)},__decorate$1K([Validate(OPT_NUMBER(0))],t.prototype,"maxLength",void 0),__decorate$1K([Validate(COLOR_STRING)],t.prototype,"color",void 0),__decorate$1K([Validate(OPT_FONT_STYLE)],t.prototype,"fontStyle",void 0),__decorate$1K([Validate(OPT_FONT_WEIGHT)],t.prototype,"fontWeight",void 0),__decorate$1K([Validate(NUMBER(0))],t.prototype,"fontSize",void 0),__decorate$1K([Validate(STRING)],t.prototype,"fontFamily",void 0),__decorate$1K([Validate(OPT_FUNCTION)],t.prototype,"formatter",void 0),t}(),LegendMarker=function(){function t(){this.size=15,this._shape=void 0,this.padding=8,this.strokeWidth=1}return Object.defineProperty(t.prototype,"shape",{get:function(){return this._shape},set:function(t){var e;this._shape=t,null===(e=this.parent)||void 0===e||e.onMarkerShapeChange()},enumerable:!1,configurable:!0}),__decorate$1K([Validate(NUMBER(0))],t.prototype,"size",void 0),__decorate$1K([Validate(NUMBER(0))],t.prototype,"padding",void 0),__decorate$1K([Validate(NUMBER(0))],t.prototype,"strokeWidth",void 0),t}(),LegendItem=function(){function t(){this.marker=new LegendMarker,this.label=new LegendLabel,this.maxWidth=void 0,this.paddingX=16,this.paddingY=8,this.toggleSeriesVisible=!0}return __decorate$1K([Validate(OPT_NUMBER(0))],t.prototype,"maxWidth",void 0),__decorate$1K([Validate(NUMBER(0))],t.prototype,"paddingX",void 0),__decorate$1K([Validate(NUMBER(0))],t.prototype,"paddingY",void 0),__decorate$1K([Validate(BOOLEAN)],t.prototype,"toggleSeriesVisible",void 0),t}(),LegendListeners=function(){function t(){this.legendItemClick=void 0,this.legendItemDoubleClick=void 0}return __decorate$1K([Validate(OPT_FUNCTION)],t.prototype,"legendItemClick",void 0),t}(),Legend=function(){function t(t,e,i,o,n,r){var s,a=this;this.chart=t,this.interactionManager=e,this.cursorManager=i,this.highlightManager=o,this.tooltipManager=n,this.layoutService=r,this.id=createId$1(this),this.group=new Group({name:"legend",layer:!0,zIndex:Layers.LEGEND_ZINDEX}),this.itemSelection=Selection.select(this.group,MarkerLabel),this.oldSize=[0,0],this.pages=[],this.maxPageSize=[0,0],this.paginationTrackingIndex=0,this.item=new LegendItem,this.listeners=new LegendListeners,this.truncatedItems=new Set,this._data=[],this._enabled=!0,this.position="right",this.maxWidth=void 0,this.maxHeight=void 0,this.reverseOrder=void 0,this.destroyFns=[],this.spacing=20,this.characterWidths=new Map,this.size=[0,0],this._visible=!0,this.item.marker.parent=this,this.pagination=new Pagination((function(t){return a.chart.update(t)}),(function(t){return a.updatePageNumber(t)}),this.interactionManager,this.cursorManager),this.pagination.attachPagination(this.group),this.item.marker.parent=this;var l=[this.interactionManager.addListener("click",(function(t){return a.checkLegendClick(t)})),this.interactionManager.addListener("dblclick",(function(t){return a.checkLegendDoubleClick(t)})),this.interactionManager.addListener("hover",(function(t){return a.handleLegendMouseMove(t)}))],c=[this.layoutService.addListener("start-layout",(function(t){return a.positionLegend(t.shrinkRect)}))];(s=this.destroyFns).push.apply(s,__spread$w(l.map((function(t){return function(){return a.interactionManager.removeListener(t)}})),c.map((function(t){return function(){return a.layoutService.removeListener(t)}}))))}return Object.defineProperty(t.prototype,"translationX",{get:function(){return this.group.translationX},set:function(t){this.group.translationX=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"translationY",{get:function(){return this.group.translationY},set:function(t){this.group.translationY=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this._data},set:function(t){this._data=t,this.updateGroupVisibility()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return this._enabled},set:function(t){this._enabled=t,this.updateGroupVisibility()},enumerable:!1,configurable:!0}),t.prototype.getOrientation=function(){if(void 0!==this.orientation)return this.orientation;switch(this.position){case"right":case"left":return"vertical";case"bottom":case"top":return"horizontal"}},t.prototype.destroy=function(){this.destroyFns.forEach((function(t){return t()}))},t.prototype.onMarkerShapeChange=function(){this.itemSelection.clear(),this.group.markDirty(this.group,RedrawType.MINOR)},t.prototype.getCharacterWidths=function(t){var e=this.characterWidths;if(e.has(t))return e.get(t);var i={"...":HdpiCanvas.getTextSize("...",t).width};return e.set(t,i),i},Object.defineProperty(t.prototype,"visible",{get:function(){return this._visible},set:function(t){this._visible=t,this.updateGroupVisibility()},enumerable:!1,configurable:!0}),t.prototype.updateGroupVisibility=function(){this.group.visible=this.enabled&&this.visible&&this.data.length>0},t.prototype.attachLegend=function(t){t.append(this.group)},t.prototype.performLayout=function(t,e){var i=this,o=this.item,n=o.paddingX,r=o.paddingY,s=o.label,a=o.maxWidth,l=o.marker,c=l.size,u=l.padding,h=l.shape,d=o.label,p=d.maxLength,f=void 0===p?1/0:p,g=d.fontStyle,m=d.fontWeight,y=d.fontSize,v=d.fontFamily,_=__spread$w(this.data);this.reverseOrder&&_.reverse(),this.itemSelection.update(_);var C=[],b=s.getFont(),E=null!=a?a:.8*t,S=c+u+n;if(this.itemSelection.each((function(t,e){var o,n=getMarker$1(h||e.marker.shape);t.marker&&t.marker instanceof n||(t.marker=new n),t.markerSize=c,t.spacing=u,t.fontStyle=g,t.fontWeight=m,t.fontSize=y,t.fontFamily=v;var r=e.itemId||e.id,s=(null!==(o=e.label.text)&&void 0!==o?o:"<unknown>").replace(/\r?\n/g," ");t.text=i.truncate(s,f,E,S,b,r),C.push(t.computeBBox())})),t=Math.max(1,t),e=Math.max(1,e),!isFinite(t))return!1;var w=this.size,O=this.oldSize;w[0]=t,w[1]=e,w[0]===O[0]&&w[1]===O[1]||(O[0]=w[0],O[1]=w[1]);var x=this.updatePagination(C,t,e),P=x.pages,T=x.maxPageHeight,M=x.maxPageWidth;this.pages=P,this.maxPageSize=[M-n,T-r];var D=this.pagination.currentPage,A=this.pages[D];this.pages.length<1||!A?this.visible=!1:(this.visible=!0,this.updatePositions(D),this.update())},t.prototype.truncate=function(t,e,i,o,n,r){var s,a,l=t.split(""),c=!1;if(t.length>e&&(t=""+t.substring(0,e),c=!0),Math.floor(o+HdpiCanvas.getTextSize(t,n).width)>i){var u="",h=this.getCharacterWidths(n),d=o+h["..."];try{for(var p=__values$r(l),f=p.next();!f.done;f=p.next()){var g=f.value;if(h[g]||(h[g]=HdpiCanvas.getTextSize(g,n).width),(d+=h[g])>i)break;u+=g}}catch(t){s={error:t}}finally{try{f&&!f.done&&(a=p.return)&&a.call(p)}finally{if(s)throw s.error}}t=u,c=!0}return c?(t+="...",this.truncatedItems.add(r)):this.truncatedItems.delete(r),t},t.prototype.updatePagination=function(t,e,i){var o=this.getOrientation(),n=Math.min(this.paginationTrackingIndex,t.length);this.pagination.orientation=o,this.pagination.translationX=0,this.pagination.translationY=0;var r=this.calculatePagination(t,e,i),s=r.pages,a=r.maxPageHeight,l=r.maxPageWidth,c=r.paginationBBox,u=r.paginationVertical,h=s.findIndex((function(t){return t.endIndex>=n}));this.pagination.currentPage=Math.min(Math.max(h,0),s.length-1);var d=this.item,p=l-d.paddingX,f=a-d.paddingY,g=0,m=-c.y-this.item.marker.size/2;return u?m+=f+8:(g+=-c.x+p+8,m+=(f-c.height)/2),this.pagination.translationX=g,this.pagination.translationY=m,this.pagination.update(),this.pagination.updateMarkers(),{maxPageHeight:a,maxPageWidth:l,pages:s}},t.prototype.calculatePagination=function(t,e,i){var o,n,r,s=this.item,a=s.paddingX,l=s.paddingY,c=this.getOrientation(),u=["left","right"].includes(this.position),h=this.pagination.computeBBox(),d=new BBox(0,0,0,0),p=[],f=0,g=0,m=0,y=function(t){var e=t.width,i=t.height;return e===h.width&&i===h.height},v=void 0!==this.maxWidth||void 0!==this.maxHeight;do{if(m++>10){Logger.warn("unable to find stable legend layout.");break}h=d;var _=e-(u?0:h.width),C=gridLayout({orientation:c,bboxes:t,maxHeight:i-(u?h.height:0),maxWidth:_,itemPaddingY:l,itemPaddingX:a,forceResult:v});p=null!==(o=null==C?void 0:C.pages)&&void 0!==o?o:[],f=null!==(n=null==C?void 0:C.maxPageWidth)&&void 0!==n?n:0,g=null!==(r=null==C?void 0:C.maxPageHeight)&&void 0!==r?r:0;var b=p.length;if(this.pagination.visible=b>1,this.pagination.totalPages=b,this.pagination.update(),d=this.pagination.computeBBox(),!this.pagination.visible)break}while(!y(d));return{maxPageWidth:f,maxPageHeight:g,pages:p,paginationBBox:h,paginationVertical:u}},t.prototype.updatePositions=function(t){void 0===t&&(t=0);var e=this,i=e.item.paddingY,o=e.itemSelection,n=e.pages;if(!(n.length<1)&&n[t]){var r=n[t],s=r.columns,a=r.startIndex,l=r.endIndex,c=0,u=0,h=s.length,d=s[0].indices.length,p="horizontal"===this.getOrientation(),f=s[0].bboxes[0].height+i,g=[];o.each((function(t,e,i){var o,n;if(i<a||i>l)t.visible=!1;else{var r=i-a,m=0,y=0;p?(m=r%h,y=Math.floor(r/h)):(m=Math.floor(r/d),y=r%d),t.visible=!0;var v=s[m];v&&(u=f*y,c=null!==(o=g[y])&&void 0!==o?o:0,g[y]=(null!==(n=g[y])&&void 0!==n?n:0)+v.columnWidth,t.translationX=Math.floor(c),t.translationY=Math.floor(u))}}))}},t.prototype.updatePageNumber=function(t){var e=this.pages,i=e[t],o=i.startIndex,n=i.endIndex;0===o?this.paginationTrackingIndex=0:t===e.length-1?this.paginationTrackingIndex=n:this.paginationTrackingIndex=Math.floor((o+n)/2),this.pagination.update(),this.pagination.updateMarkers(),this.updatePositions(t),this.chart.update(ChartUpdateType.SCENE_RENDER)},t.prototype.update=function(){var t=this.item,e=t.marker.strokeWidth,i=t.label.color;this.itemSelection.each((function(t,o){var n=o.marker;t.markerFill=n.fill,t.markerStroke=n.stroke,t.markerStrokeWidth=e,t.markerFillOpacity=n.fillOpacity,t.markerStrokeOpacity=n.strokeOpacity,t.opacity=o.enabled?1:.5,t.color=i}))},t.prototype.getDatumForPoint=function(t,e){var i,o,n=[],r={dist:1/0,datum:void 0};try{for(var s=__values$r(this.group.children),a=s.next();!a.done;a=s.next()){var l=a.value;if(l.visible&&l instanceof MarkerLabel){var c=l.computeBBox();if(c.grow(this.item.paddingX/2,"horizontal"),c.grow(this.item.paddingY/2,"vertical"),c.containsPoint(t,e))return l.datum;var u=t-c.x-this.item.paddingX/2,h=e-c.y-this.item.paddingY/2,d=Math.pow(u,2)+Math.pow(h,2);u>=0&&h>=0&&d<r.dist&&(r.dist=d,r.datum=l.datum),n.push(c)}}}catch(t){i={error:t}}finally{try{a&&!a.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}if(BBox.merge(n).containsPoint(t,e))return r.datum},t.prototype.computeBBox=function(){return this.group.computeBBox()},t.prototype.computePagedBBox=function(){var t=this.group.computeBBox();if(this.pages.length<=1)return t;var e=__read$U(this.maxPageSize,2),i=e[0],o=e[1];return t.height=Math.max(o,t.height),t.width=Math.max(i,t.width),t},t.prototype.checkLegendClick=function(t){var e=this,i=e.listeners.legendItemClick,o=e.chart,n=e.highlightManager,r=e.item.toggleSeriesVisible,s=this.getDatumForPoint(t.offsetX,t.offsetY);if(s){var a=s.id,l=s.itemId,c=s.enabled,u=o.series.find((function(t){return t.id===a}));if(u){t.consume();var h=c;r&&(h=!c,o.series.forEach((function(t){t.id===u.id?t.toggleSeriesItem(l,h):t.toggleOtherSeriesItems(u,s,h)}))),h?n.updateHighlight(this.id,{series:u,itemId:l,datum:void 0}):n.updateHighlight(this.id),this.chart.update(ChartUpdateType.PROCESS_DATA,{forceNodeDataRefresh:!0}),null==i||i({type:"click",enabled:h,itemId:l,seriesId:u.id})}}},t.prototype.checkLegendDoubleClick=function(t){var e,i,o=this,n=o.listeners.legendItemDoubleClick,r=o.chart,s=o.item.toggleSeriesVisible;if("integrated"!==r.mode){var a=this.getDatumForPoint(t.offsetX,t.offsetY);if(a){var l=a.id,c=a.itemId,u=a.seriesId,h=r.series.find((function(t){return t.id===l}));if(h){if(t.consume(),s){var d=r.series.reduce((function(t,e){return __spread$w(t,e.getLegendData())}),[]),p=d.filter((function(t){return t.enabled})).length,f=d.find((function(t){return t.itemId===c&&t.seriesId===u})),g=d.reduce((function(t,e){var i,o;return null!==(i=t[o=e.seriesId])&&void 0!==i||(t[o]=0),t[e.seriesId]++,t}),{}),m=d.reduce((function(t,e){var i,o;return e.enabled?(null!==(i=t[o=e.seriesId])&&void 0!==i||(t[o]=0),t[e.seriesId]++,t):t}),{}),y=0===Object.values(g).filter((function(t){return t>1})).length,v=0===Object.values(m).filter((function(t){return t>1})).length,_=1===p&&null!==(e=null==f?void 0:f.enabled)&&void 0!==e&&e,C=v&&null!==(i=null==f?void 0:f.enabled)&&void 0!==i&&i;r.series.forEach((function(t){t.getLegendData().forEach((function(e){var i=e.itemId===c&&e.seriesId===u||y&&_||!y&&C;t.toggleSeriesItem(e.itemId,i)})),t.id!==h.id&&t.toggleOtherSeriesItems(h,a,void 0,C)}))}this.chart.update(ChartUpdateType.PROCESS_DATA,{forceNodeDataRefresh:!0}),null==n||n({type:"dblclick",enabled:!0,itemId:c,seriesId:h.id})}}}},t.prototype.handleLegendMouseMove=function(t){var e=this,i=e.enabled,o=e.item.toggleSeriesVisible,n=e.listeners;if(i){var r=this.computeBBox(),s=t.pageX,a=t.pageY,l=t.offsetX,c=t.offsetY,u=this.group.visible&&r.containsPoint(l,c);if(!u)return this.cursorManager.updateCursor(this.id),this.highlightManager.updateHighlight(this.id),void this.tooltipManager.removeTooltip(this.id);t.consume();var h=this.getDatumForPoint(l,c);if(!(u&&void 0!==h))return this.cursorManager.updateCursor(this.id),void this.highlightManager.updateHighlight(this.id);var d=h?this.chart.series.find((function(t){return t.id===(null==h?void 0:h.id)})):void 0;h&&this.truncatedItems.has(h.itemId||h.id)?this.tooltipManager.updateTooltip(this.id,{pageX:s,pageY:a,offsetX:l,offsetY:c,event:t},toTooltipHtml$1({content:h.label.text})):this.tooltipManager.removeTooltip(this.id),(o||null!=n.legendItemClick)&&this.cursorManager.updateCursor(this.id,"pointer"),(null==h?void 0:h.enabled)&&d?this.highlightManager.updateHighlight(this.id,{series:d,itemId:null==h?void 0:h.itemId,datum:void 0}):this.highlightManager.updateHighlight(this.id)}},t.prototype.positionLegend=function(t){var e=this,i=t.clone();if(!this.enabled||!this.data.length)return{shrinkRect:i};var o=__read$U(this.calculateLegendDimensions(t),2),n=o[0],r=o[1],s=0,a=0;this.translationX=0,this.translationY=0,this.performLayout(n,r);var l=this.computePagedBBox(),c=function(){switch(e.position){case"top":case"left":return 0;case"bottom":return t.height-l.height;default:return t.width-l.width}};if(this.visible){switch(this.position){case"top":case"bottom":s=(t.width-l.width)/2,a=c(),i.shrink(l.height,this.position);break;default:s=c(),a=(t.height-l.height)/2,i.shrink(l.width,this.position)}this.translationX=Math.floor(-l.x+t.x+s),this.translationY=Math.floor(-l.y+t.y+a)}if(this.visible&&this.enabled&&this.data.length){var u=this.spacing;i.shrink(u,this.position);var h=l.clone();h.x+=this.translationX,h.y+=this.translationY,this.tooltipManager.updateExclusiveRect(this.id,h)}else this.tooltipManager.updateExclusiveRect(this.id);return{shrinkRect:i}},t.prototype.calculateLegendDimensions=function(t){var e=t.width,i=t.height,o=e/i,n=0,r=0;switch(this.position){case"top":case"bottom":var s=o<1?Math.min(.5,1/o*.2):.2;n=this.maxWidth?Math.min(this.maxWidth,e):e,r=this.maxHeight?Math.min(this.maxHeight,i):Math.round(i*s);break;default:var a=o>1?Math.min(.5,.25*o):.25;n=this.maxWidth?Math.min(this.maxWidth,e):Math.round(e*a),r=this.maxHeight?Math.min(this.maxHeight,i):i}return[n,r]},t.className="Legend",__decorate$1K([Validate(BOOLEAN)],t.prototype,"_enabled",void 0),__decorate$1K([Validate(POSITION)],t.prototype,"position",void 0),__decorate$1K([Validate(OPT_NUMBER(0))],t.prototype,"maxWidth",void 0),__decorate$1K([Validate(OPT_NUMBER(0))],t.prototype,"maxHeight",void 0),__decorate$1K([Validate(OPT_BOOLEAN)],t.prototype,"reverseOrder",void 0),__decorate$1K([Validate(OPT_ORIENTATION)],t.prototype,"orientation",void 0),__decorate$1K([Validate(NUMBER(0))],t.prototype,"spacing",void 0),t}(),__values$q=function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],o=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},SizeMonitor=function(){function t(){}return t.init=function(){var t=this,e=window.ResizeObserver;if(e)this.resizeObserver=new e((function(e){var i,o;try{for(var n=__values$q(e),r=n.next();!r.done;r=n.next()){var s=r.value,a=s.contentRect,l=a.width,c=a.height;t.checkSize(t.elements.get(s.target),s.target,l,c)}}catch(t){i={error:t}}finally{try{r&&!r.done&&(o=n.return)&&o.call(n)}finally{if(i)throw i.error}}}));else{window.setInterval((function(){t.elements.forEach((function(e,i){t.checkClientSize(i,e)}))}),100)}this.ready=!0},t.checkSize=function(t,e,i,o){t&&(t.size&&i===t.size.width&&o===t.size.height||(t.size={width:i,height:o},t.cb(t.size,e)))},t.observe=function(t,e){this.ready||this.init(),this.unobserve(t),this.resizeObserver&&this.resizeObserver.observe(t),this.elements.set(t,{cb:e}),this.checkClientSize(t,{cb:e})},t.unobserve=function(t){this.resizeObserver&&this.resizeObserver.unobserve(t),this.elements.delete(t)},t.checkClientSize=function(t,e){var i=t.clientWidth?t.clientWidth:0,o=t.clientHeight?t.clientHeight:0;this.checkSize(e,t,i,o)},t.elements=new Map,t.ready=!1,t}();function circleRectOverlap(t,e,i,o,n){var r=t.x<e?e:t.x>e+o?e+o:t.x,s=t.y<i?i:t.y>i+n?i+n:t.y,a=t.x-r,l=t.y-s;return Math.sqrt(a*a+l*l)<=.5*t.size}function rectRectOverlap(t,e,i,o,n){var r=t.x+t.width>e&&t.x<e+o,s=t.y+t.height>i&&t.y<i+n;return r&&s}function rectContainsRect(t,e,i,o,n){return e+o<t.x+t.width&&e>t.x&&i>t.y&&i+n<t.y+t.height}function isPointLabelDatum(t){return null!=t&&"object"==typeof t.point&&"object"==typeof t.label}function placeLabels(t,e,i){void 0===i&&(i=5);var o=[];t=t.map((function(t){return t.slice().sort((function(t,e){return e.point.size-t.point.size}))}));for(var n=0;n<t.length;n++){var r=o[n]=[],s=t[n];if(s&&s.length&&s[0].label)for(var a=function(n,a){var l=s[n],c=l.label,u=.5*l.point.size,h=l.point.x-.5*c.width,d=l.point.y-u-c.height-i,p=c.width,f=c.height;if(!(!e||rectContainsRect(e,h,d,p,f)))return"continue";var g=t.some((function(t){return t.some((function(t){return circleRectOverlap(t.point,h,d,p,f)}))}));if(g)return"continue";var m=o.some((function(t){return t.some((function(t){return rectRectOverlap(t,h,d,p,f)}))}));if(m)return"continue";r.push({index:n,text:c.text,x:h,y:d,width:p,height:f,datum:l})},l=0,c=s.length;l<c;l++)a(l)}return o}function axisLabelsOverlap(t,e){for(var i=[],o=function(o){var n=t[o],r=n.point,s=r.x,a=r.y,l=n.label.text,c=n.label,u=c.width,h=c.height;if(u+=null!=e?e:0,h+=null!=e?e:0,i.some((function(t){return rectRectOverlap(t,s,a,u,h)})))return{value:!0};i.push({index:o,text:l,x:s,y:a,width:u,height:h,datum:n})},n=0;n<t.length;n++){var r=o(n);if("object"==typeof r)return r.value}return!1}var __awaiter$e=function(t,e,i,o){return new(i||(i=Promise))((function(n,r){function s(t){try{l(o.next(t))}catch(t){r(t)}}function a(t){try{l(o.throw(t))}catch(t){r(t)}}function l(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(s,a)}l((o=o.apply(t,e||[])).next())}))},__generator$e=function(t,e){var i,o,n,r,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(n=2&r[0]?o.return:r[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,r[1])).done)return n;switch(o=0,n&&(r=[2&r[0],n.value]),r[0]){case 0:case 1:n=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(n=s.trys,(n=n.length>0&&n[n.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!n||r[1]>n[0]&&r[1]<n[3])){s.label=r[1];break}if(6===r[0]&&s.label<n[1]){s.label=n[1],n=r;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(r);break}n[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(t){r=[6,t],o=0}finally{i=n=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}};function debouncedAnimationFrame(t){return buildScheduler((function(t){return requestAnimationFrame(t)}),t)}function debouncedCallback(t){return buildScheduler((function(t){return setTimeout(t,0)}),t)}function buildScheduler(t,e){var i,o,n=0,r=!1,s=function(){return r},a=function(){r=!1,null==o||o(),o=void 0,i=void 0,n>0&&t(l)},l=function(){var t=n;n=0,r=!0;var i=e({count:t});i?i.then(a).catch(a):a()};return{schedule:function(){0!==n||s()||t(l),n++},await:function(){return __awaiter$e(this,void 0,void 0,(function(){return __generator$e(this,(function(t){switch(t.label){case 0:if(!s())return[2];i||(i=new Promise((function(t){o=t}))),t.label=1;case 1:return s()?[4,i]:[3,3];case 2:return t.sent(),[3,1];case 3:return[2]}}))}))}}}var __extends$2r=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$1J=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},MARKER_SHAPES=["circle","cross","diamond","heart","plus","square","triangle"],MARKER_SHAPE=predicateWithMessage((function(t){return MARKER_SHAPES.includes(t)||Object.getPrototypeOf(t)===Marker}),"expecting a marker shape keyword such as 'circle', 'diamond' or 'square' or an object extending the Marker class"),SeriesMarker=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.enabled=!0,e.shape=Circle,e.size=6,e.maxSize=30,e.domain=void 0,e.fill=void 0,e.stroke=void 0,e.strokeWidth=1,e.fillOpacity=void 0,e.strokeOpacity=void 0,e}return __extends$2r(e,t),__decorate$1J([Validate(BOOLEAN),SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"enabled",void 0),__decorate$1J([Validate(MARKER_SHAPE),SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"shape",void 0),__decorate$1J([Validate(NUMBER(0)),SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"size",void 0),__decorate$1J([Validate(NUMBER(0)),SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"maxSize",void 0),__decorate$1J([Validate(OPT_NUMBER_ARRAY),SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"domain",void 0),__decorate$1J([Validate(OPT_COLOR_STRING),SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"fill",void 0),__decorate$1J([Validate(OPT_COLOR_STRING),SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"stroke",void 0),__decorate$1J([Validate(OPT_NUMBER(0)),SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"strokeWidth",void 0),__decorate$1J([Validate(OPT_NUMBER(0,1)),SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"fillOpacity",void 0),__decorate$1J([Validate(OPT_NUMBER(0,1)),SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"strokeOpacity",void 0),e}(ChangeDetectable),__read$T=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,n,r=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return s},ContinuousScale=function(){function t(e,i){this.domain=e,this.range=i,this.nice=!1,this.tickCount=t.defaultTickCount,this.minTickCount=0,this.maxTickCount=1/0,this.niceDomain=null,this.strictClampByDefault=!1,this.cache=null,this.cacheProps=["domain","range","nice","tickCount","minTickCount","maxTickCount"]}return t.prototype.transform=function(t){return t},t.prototype.transformInvert=function(t){return t},t.prototype.fromDomain=function(t){return"number"==typeof t?t:t instanceof Date?t.getTime():NaN},t.prototype.getDomain=function(){return this.nice&&(this.refresh(),this.niceDomain)?this.niceDomain:this.domain},t.prototype.convert=function(t,e){var i,o=this;if(!this.domain||this.domain.length<2)return NaN;this.refresh();var n=null!==(i=null==e?void 0:e.strict)&&void 0!==i?i:this.strictClampByDefault,r=this.getDomain().map((function(t){return o.transform(t)})),s=__read$T(r,2),a=s[0],l=s[1],c=this.range,u=__read$T(c,2),h=u[0],d=u[1];return(t=this.transform(t))<a?n?NaN:h:t>l?n?NaN:d:a===l?(h+d)/2:t===a?h:t===l?d:h+(this.fromDomain(t)-this.fromDomain(a))/(this.fromDomain(l)-this.fromDomain(a))*(d-h)},t.prototype.invert=function(t){var e=this;this.refresh();var i,o=this.getDomain().map((function(t){return e.transform(t)})),n=__read$T(o,2),r=n[0],s=n[1],a=this.range,l=__read$T(a,2),c=l[0],u=l[1],h=c>u;return t<(h?u:c)?h?s:r:t>(h?c:u)?h?r:s:(i=c===u?this.toDomain((this.fromDomain(r)+this.fromDomain(s))/2):this.toDomain(this.fromDomain(r)+(t-c)/(u-c)*(this.fromDomain(s)-this.fromDomain(r))),this.transformInvert(i))},t.prototype.didChange=function(){var t=this,e=this.cache;return!(e&&!this.cacheProps.some((function(i){return t[i]!==e[i]})))&&(this.cache={},this.cacheProps.forEach((function(e){return t.cache[e]=t[e]})),!0)},t.prototype.refresh=function(){this.didChange()&&this.update()},t.prototype.isDenseInterval=function(t){var e=t.start,i=t.stop,o=t.interval,n=t.count,r=this.range,s=i-e,a=Math.min(r[0],r[1]);return null!=n||(n=s/("number"==typeof o?o:1)),n>=Math.max(r[0],r[1])-a&&(Logger.warn("the configured tick interval, "+JSON.stringify(o)+", results in more than 1 tick per pixel, ignoring. Supply a larger tick interval or omit this configuration."),!0)},t.defaultTickCount=5,t.defaultMaxTickCount=6,t}(),__read$S=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,n,r=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return s};function clamp(t,e,i){return Math.max(e,Math.min(i,t))}var BandScale$5=function(){function t(){this.type="band",this.cache=null,this.cacheProps=["_domain","range","_paddingInner","_paddingOuter","round","interval"],this.index=new Map,this.ordinalRange=[],this._domain=[],this.range=[0,1],this._bandwidth=1,this._rawBandwidth=1,this._paddingInner=0,this._paddingOuter=0,this.round=!1}return t.prototype.didChange=function(){var t=this,e=this.cache;return!(e&&!this.cacheProps.some((function(i){return t[i]!==e[i]})))&&(this.cache={},this.cacheProps.forEach((function(e){return t.cache[e]=t[e]})),!0)},t.prototype.refresh=function(){this.didChange()&&this.update()},Object.defineProperty(t.prototype,"domain",{get:function(){return this._domain},set:function(t){var e=[];this.index=new Map;var i=this.index;t.forEach((function(t){void 0===i.get(t)&&i.set(t,e.push(t)-1)})),this._domain=e},enumerable:!1,configurable:!0}),t.prototype.ticks=function(){this.refresh();var t=this.interval,e=void 0===t?1:t,i=Math.abs(Math.round(e));return this._domain.filter((function(t,e){return e%i==0}))},t.prototype.convert=function(t){this.refresh();var e=this.index.get(t);if(void 0===e)return NaN;var i=this.ordinalRange[e];return void 0===i?NaN:i},t.prototype.invert=function(t){this.refresh();var e=this.ordinalRange.findIndex((function(e){return e===t}));return this.domain[e]},Object.defineProperty(t.prototype,"bandwidth",{get:function(){return this.refresh(),this._bandwidth},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rawBandwidth",{get:function(){return this.refresh(),this._rawBandwidth},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"padding",{get:function(){return this._paddingInner},set:function(t){t=clamp(t,0,1),this._paddingInner=t,this._paddingOuter=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"paddingInner",{get:function(){return this._paddingInner},set:function(t){this._paddingInner=clamp(t,0,1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"paddingOuter",{get:function(){return this._paddingOuter},set:function(t){this._paddingOuter=clamp(t,0,1)},enumerable:!1,configurable:!0}),t.prototype.update=function(){var t=this._domain.length;if(0!==t){for(var e=this.round,i=this._paddingInner,o=this._paddingOuter,n=__read$S(this.range,2),r=n[0],s=n[1]-r,a=s/Math.max(1,t+2*o-i),l=e?Math.floor(a):a,c=r+(s-l*(t-i))/2,u=e?Math.round(c):c,h=l*(1-i),d=e?Math.round(h):h,p=a*(1-i),f=[],g=0;g<t;g++)f.push(u+l*g);this._bandwidth=d,this._rawBandwidth=p,this.ordinalRange=f}},t}(),__extends$2q=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$1I=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},Line=function(t){function e(){var e=t.call(this)||this;return e.x1=0,e.y1=0,e.x2=0,e.y2=0,e.restoreOwnStyles(),e}return __extends$2q(e,t),e.prototype.computeBBox=function(){return new BBox(this.x1,this.y1,this.x2-this.x1,this.y2-this.y1)},e.prototype.isPointInPath=function(t,e){return!1},e.prototype.render=function(e){var i,o=e.ctx,n=e.forceRender,r=e.stats;if(this.dirty!==RedrawType.NONE||n){this.computeTransformMatrix(),this.matrix.toContext(o);var s=this.x1,a=this.y1,l=this.x2,c=this.y2;if(s===l){var u=Math.round(s)+Math.floor(this.strokeWidth)%2/2;s=u,l=u}else if(a===c){var h=Math.round(a)+Math.floor(this.strokeWidth)%2/2;a=h,c=h}o.beginPath(),o.moveTo(s,a),o.lineTo(l,c),this.fillStroke(o),null===(i=this.fillShadow)||void 0===i||i.markClean(),t.prototype.render.call(this,e)}else r&&(r.nodesSkipped+=this.nodeCount.count)},e.className="Line",e.defaultStyles=Object.assign({},Shape.defaultStyles,{fill:void 0,strokeWidth:1}),__decorate$1I([SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"x1",void 0),__decorate$1I([SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"y1",void 0),__decorate$1I([SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"x2",void 0),__decorate$1I([SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"y2",void 0),e}(Shape);function isEqual$2(t,e,i){return void 0===i&&(i=1e-10),Math.abs(t-e)<i}function toFixed(t,e){void 0===e&&(e=2);var i=Math.floor(Math.log(Math.abs(t))/Math.LN10);return i>=0||!isFinite(i)?t.toFixed(e):t.toFixed(Math.abs(i)-1+e)}function mod(t,e){return t>=0?Math.floor(t%e):Math.floor(t%e+e)}var __extends$2p=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$1H=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},ArcType;!function(t){t[t.Open=0]="Open",t[t.Chord=1]="Chord",t[t.Round=2]="Round"}(ArcType||(ArcType={}));var Arc=function(t){function e(){var e=t.call(this)||this;return e.centerX=0,e.centerY=0,e.radius=10,e.startAngle=0,e.endAngle=2*Math.PI,e.counterClockwise=!1,e.type=ArcType.Open,e.restoreOwnStyles(),e}return __extends$2p(e,t),Object.defineProperty(e.prototype,"fullPie",{get:function(){return isEqual$2(normalizeAngle360(this.startAngle),normalizeAngle360(this.endAngle))},enumerable:!1,configurable:!0}),e.prototype.updatePath=function(){var t=this.path;t.clear(),t.arc(this.centerX,this.centerY,this.radius,this.startAngle,this.endAngle,this.counterClockwise),this.type===ArcType.Chord?t.closePath():this.type!==ArcType.Round||this.fullPie||(t.lineTo(this.centerX,this.centerY),t.closePath())},e.prototype.computeBBox=function(){return new BBox(this.centerX-this.radius,this.centerY-this.radius,2*this.radius,2*this.radius)},e.prototype.isPointInPath=function(t,e){var i=this.transformPoint(t,e),o=this.computeBBox();return this.type!==ArcType.Open&&o.containsPoint(i.x,i.y)&&this.path.isPointInPath(i.x,i.y)},e.className="Arc",e.defaultStyles=Object.assign({},Shape.defaultStyles,{lineWidth:1,fillStyle:null}),__decorate$1H([ScenePathChangeDetection()],e.prototype,"centerX",void 0),__decorate$1H([ScenePathChangeDetection()],e.prototype,"centerY",void 0),__decorate$1H([ScenePathChangeDetection()],e.prototype,"radius",void 0),__decorate$1H([ScenePathChangeDetection()],e.prototype,"startAngle",void 0),__decorate$1H([ScenePathChangeDetection()],e.prototype,"endAngle",void 0),__decorate$1H([ScenePathChangeDetection()],e.prototype,"counterClockwise",void 0),__decorate$1H([ScenePathChangeDetection()],e.prototype,"type",void 0),e}(Path),__decorate$1G=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},Caption=function(){function t(){this.node=new Text,this.enabled=!1,this.text="",this.fontSize=10,this.fontFamily="sans-serif",this.spacing=t.PADDING,this._lineHeight=void 0;var e=this.node;e.textAlign="center",e.pointerEvents=PointerEvents.None}return Object.defineProperty(t.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(t){this._lineHeight=t,this.node.lineHeight=t},enumerable:!1,configurable:!0}),t.PADDING=10,__decorate$1G([Validate(BOOLEAN)],t.prototype,"enabled",void 0),__decorate$1G([Validate(STRING),ProxyPropertyOnWrite("node")],t.prototype,"text",void 0),__decorate$1G([Validate(OPT_FONT_STYLE),ProxyPropertyOnWrite("node")],t.prototype,"fontStyle",void 0),__decorate$1G([Validate(OPT_FONT_WEIGHT),ProxyPropertyOnWrite("node")],t.prototype,"fontWeight",void 0),__decorate$1G([Validate(NUMBER(0)),ProxyPropertyOnWrite("node")],t.prototype,"fontSize",void 0),__decorate$1G([Validate(STRING),ProxyPropertyOnWrite("node")],t.prototype,"fontFamily",void 0),__decorate$1G([Validate(OPT_COLOR_STRING),ProxyPropertyOnWrite("node","fill")],t.prototype,"color",void 0),__decorate$1G([Validate(OPT_NUMBER(0))],t.prototype,"spacing",void 0),__decorate$1G([Validate(OPT_NUMBER(0))],t.prototype,"_lineHeight",void 0),t}();function areArrayItemsStrictlyEqual(t,e){return t.length===e.length&&t.every((function(t,i){var o=e[i];return Array.isArray(t)&&Array.isArray(o)?areArrayItemsStrictlyEqual(t,o):t===o}))}function areArrayNumbersEqual(t,e){return t.length===e.length&&t.every((function(t,i){return Number(t)===Number(e[i])}))}var __extends$2o=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}();function ticks(t,e,i,o,n){if(i<2)return range(t,e,e-t);var r=tickStep(t,e,i,o,n);return isNaN(r)?new NumericTicks(0):range(t=Math.ceil(t/r)*r,e=Math.floor(e/r)*r,r)}var tickMultipliers=[1,2,5,10];function tickStep(t,e,i,o,n){void 0===o&&(o=0),void 0===n&&(n=1/0);var r=(e-t)/i,s=Math.floor(Math.log10(r)),a=Math.pow(10,s),l=tickMultipliers.map((function(r){var s=r*a,l=Math.ceil((e-t)/s);return{multiplier:r,isWithinBounds:l>=o&&l<=n,diffCount:Math.abs(l-i)}})).sort((function(t,e){return t.isWithinBounds!==e.isWithinBounds?t.isWithinBounds?-1:1:t.diffCount-e.diffCount}))[0].multiplier;return!l||isNaN(l)?NaN:l*a}function singleTickDomain(t,e){var i=Math.floor(Math.log10(e-t)),o=Math.pow(10,i);return tickMultipliers.map((function(i){var n=i*o,r=Math.floor(t/n)*n,s=Math.ceil(e/n)*n;return{error:1-(e-t)/(s-r),domain:[r,s]}})).sort((function(t,e){return t.error-e.error}))[0].domain}var NumericTicks=function(t){function e(e,i){var o=t.call(this)||this;if(i)for(var n=0,r=i.length;n<r;n++)o[n]=i[n];return o.fractionDigits=e,o}return __extends$2o(e,t),e}(Array);function range(t,e,i){for(var o=function(t){var e,i,o=t.split("e");return Math.max((null!==(i=null===(e=o[0].split(".")[1])||void 0===e?void 0:e.length)&&void 0!==i?i:0)-Number(o[1]),0)}((i%1).toExponential()),n=Math.pow(10,o),r=Math.ceil((e-t)/i),s=new NumericTicks(o),a=0;a<=r;a++){var l=t+i*a;s.push(Math.round(l*n)/n)}return s}var CONSTANTS={periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]};function dayOfYear(t,e){void 0===e&&(e=new Date(t.getFullYear(),0,1));var i=t.getTimezoneOffset()-e.getTimezoneOffset(),o=t.getTime()-e.getTime()+6e4*i;return Math.floor(o/864e5)}function weekOfYear(t,e){var i=(e-new Date(t.getFullYear(),0,1).getDay()+7)%7,o=new Date(t.getFullYear(),0,i+1);return o<=t?Math.floor(dayOfYear(t,o)/7)+1:0}var SUNDAY=0,MONDAY=1,THURSDAY=4;function isoWeekOfYear(t,e){void 0===e&&(e=t.getFullYear());var i=new Date(e,0,1).getDay(),o=new Date(e,0,(THURSDAY-i+7)%7-(THURSDAY-MONDAY)+1);return o<=t?Math.floor(dayOfYear(t,o)/7)+1:isoWeekOfYear(t,e-1)}function timezone(t){var e=t.getTimezoneOffset(),i=Math.abs(e);return""+(e>0?"-":"+")+pad(Math.floor(i/60),2,"0")+pad(Math.floor(i%60),2,"0")}var FORMATTERS={a:function(t){return CONSTANTS.shortDays[t.getDay()]},A:function(t){return CONSTANTS.days[t.getDay()]},b:function(t){return CONSTANTS.shortMonths[t.getMonth()]},B:function(t){return CONSTANTS.months[t.getMonth()]},c:"%x, %X",d:function(t,e){return pad(t.getDate(),2,null!=e?e:"0")},e:"%_d",f:function(t,e){return pad(1e3*t.getMilliseconds(),6,null!=e?e:"0")},H:function(t,e){return pad(t.getHours(),2,null!=e?e:"0")},I:function(t,e){var i=t.getHours()%12;return 0===i?"12":pad(i,2,null!=e?e:"0")},j:function(t,e){return pad(dayOfYear(t)+1,3,null!=e?e:"0")},m:function(t,e){return pad(t.getMonth()+1,2,null!=e?e:"0")},M:function(t,e){return pad(t.getMinutes(),2,null!=e?e:"0")},L:function(t,e){return pad(t.getMilliseconds(),3,null!=e?e:"0")},p:function(t){return t.getHours()<12?"AM":"PM"},Q:function(t){return String(t.getTime())},s:function(t){return String(Math.floor(t.getTime()/1e3))},S:function(t,e){return pad(t.getSeconds(),2,null!=e?e:"0")},u:function(t){var e=t.getDay();return e<1&&(e+=7),String(e%7)},U:function(t,e){return pad(weekOfYear(t,SUNDAY),2,null!=e?e:"0")},V:function(t,e){return pad(isoWeekOfYear(t),2,null!=e?e:"0")},w:function(t,e){return pad(t.getDay(),2,null!=e?e:"0")},W:function(t,e){return pad(weekOfYear(t,MONDAY),2,null!=e?e:"0")},x:"%-m/%-d/%Y",X:"%-I:%M:%S %p",y:function(t,e){return pad(t.getFullYear()%100,2,null!=e?e:"0")},Y:function(t,e){return pad(t.getFullYear(),4,null!=e?e:"0")},Z:function(t){return timezone(t)},"%":function(){return"%"}},PADS={_:" ",0:"0","-":""};function pad(t,e,i){var o=String(Math.floor(t));return o.length>=e?o:""+i.repeat(e-o.length)+o}function buildFormatter(t){for(var e=[];t.length>0;){var i=t.indexOf("%");if(0!==i){var o=i>0?t.substring(0,i):t;e.push(o)}if(i<0)break;var n=t[i+1],r=PADS[n];null!=r&&i++;var s=t[i+1],a=FORMATTERS[s];if("function"==typeof a)e.push([a,r]);else if("string"==typeof a){var l=buildFormatter(a);e.push([l,r])}else e.push(""+(null!=r?r:"")+s);t=t.substring(i+2)}return function(t){var i="number"==typeof t?new Date(t):t;return e.map((function(t){return"string"==typeof t?t:t[0](i,t[1])})).join("")}}var __extends$2n=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__values$p=function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],o=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},__read$R=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,n,r=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return s},__spread$v=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$R(arguments[e]));return t},_a$2,DefaultTimeFormats;!function(t){t[t.MILLISECOND=0]="MILLISECOND",t[t.SECOND=1]="SECOND",t[t.MINUTE=2]="MINUTE",t[t.HOUR=3]="HOUR",t[t.WEEK_DAY=4]="WEEK_DAY",t[t.SHORT_MONTH=5]="SHORT_MONTH",t[t.MONTH=6]="MONTH",t[t.SHORT_YEAR=7]="SHORT_YEAR",t[t.YEAR=8]="YEAR"}(DefaultTimeFormats||(DefaultTimeFormats={}));var formatStrings=(_a$2={},_a$2[DefaultTimeFormats.MILLISECOND]=".%L",_a$2[DefaultTimeFormats.SECOND]=":%S",_a$2[DefaultTimeFormats.MINUTE]="%I:%M",_a$2[DefaultTimeFormats.HOUR]="%I %p",_a$2[DefaultTimeFormats.WEEK_DAY]="%a",_a$2[DefaultTimeFormats.SHORT_MONTH]="%b %d",_a$2[DefaultTimeFormats.MONTH]="%B",_a$2[DefaultTimeFormats.SHORT_YEAR]="%y",_a$2[DefaultTimeFormats.YEAR]="%Y",_a$2);function toNumber(t){return t instanceof Date?t.getTime():t}var TimeScale$1=function(t){function e(){var e=t.call(this,[new Date(2022,11,7),new Date(2022,11,8)],[0,1])||this;return e.type="time",e.cacheProps=["domain","range","nice","tickCount","interval","minTickCount","maxTickCount"],e.year=year,e.month=month,e.week=sunday,e.day=day,e.hour=hour,e.minute=minute,e.second=second,e.millisecond=millisecond,e.tickIntervals=[[e.second,1,durationSecond],[e.second,5,5*durationSecond],[e.second,15,15*durationSecond],[e.second,30,30*durationSecond],[e.minute,1,durationMinute],[e.minute,5,5*durationMinute],[e.minute,15,15*durationMinute],[e.minute,30,30*durationMinute],[e.hour,1,durationHour],[e.hour,3,3*durationHour],[e.hour,6,6*durationHour],[e.hour,12,12*durationHour],[e.day,1,durationDay],[e.day,2,2*durationDay],[e.week,1,durationWeek],[e.week,2,2*durationWeek],[e.week,3,3*durationWeek],[e.month,1,durationMonth],[e.month,2,2*durationMonth],[e.month,3,3*durationMonth],[e.month,4,4*durationMonth],[e.month,6,6*durationMonth],[e.year,1,durationYear]],e}return __extends$2n(e,t),e.prototype.toDomain=function(t){return new Date(t)},e.prototype.calculateDefaultTickFormat=function(t){var e,i;void 0===t&&(t=[]);var o=DefaultTimeFormats.YEAR,n=function(t){t<o&&(o=t)};try{for(var r=__values$p(t),s=r.next();!s.done;s=r.next()){var a=s.value;n(this.getLowestGranularityFormat(a))}}catch(t){e={error:t}}finally{try{s&&!s.done&&(i=r.return)&&i.call(r)}finally{if(e)throw e.error}}var l=toNumber(t[0]),c=toNumber(t[t.length-1]),u=new Date(l).getFullYear(),h=new Date(c).getFullYear()-u>0;return this.buildFormatString(o,h)},e.prototype.buildFormatString=function(t,e){var i=[formatStrings[t]],o=0,n=this.getDomain(),r=Math.min.apply(Math,__spread$v(n.map(toNumber))),s=Math.max.apply(Math,__spread$v(n.map(toNumber)))-r;switch(t){case DefaultTimeFormats.SECOND:s/durationMinute>1&&i.push(formatStrings[DefaultTimeFormats.MINUTE]);case DefaultTimeFormats.MINUTE:s/durationHour>1&&i.push(formatStrings[DefaultTimeFormats.HOUR]);case DefaultTimeFormats.HOUR:o=i.length,s/durationDay>1&&i.push(formatStrings[DefaultTimeFormats.WEEK_DAY]);case DefaultTimeFormats.WEEK_DAY:if(s/durationWeek>1||e){var a=i.indexOf(formatStrings[DefaultTimeFormats.WEEK_DAY]);a>-1&&i.splice(a,1,formatStrings[DefaultTimeFormats.SHORT_MONTH])}case DefaultTimeFormats.SHORT_MONTH:case DefaultTimeFormats.MONTH:(s/durationYear>1||e)&&i.push(formatStrings[DefaultTimeFormats.YEAR])}return o<i.length&&(i=__spread$v(i.slice(0,o),[i.slice(o).join(" ")])),o>0&&o<(i=__spread$v(i.slice(0,o).reverse(),i.slice(o))).length&&i.splice(o,0," "),i.join("")},e.prototype.getLowestGranularityFormat=function(t){return this.second.floor(t)<t?DefaultTimeFormats.MILLISECOND:this.minute.floor(t)<t?DefaultTimeFormats.SECOND:this.hour.floor(t)<t?DefaultTimeFormats.MINUTE:this.day.floor(t)<t?DefaultTimeFormats.HOUR:this.month.floor(t)<t?this.week.floor(t)<t?DefaultTimeFormats.WEEK_DAY:DefaultTimeFormats.SHORT_MONTH:this.year.floor(t)<t?DefaultTimeFormats.MONTH:DefaultTimeFormats.YEAR},e.prototype.defaultTickFormat=function(t){var e=this.calculateDefaultTickFormat(t);return function(t){return buildFormatter(e)(t)}},e.prototype.getTickInterval=function(t){for(var e,i,o,n=t.start,r=t.stop,s=t.count,a=t.minCount,l=t.maxCount,c=this.tickIntervals,u=null!=s?s:ContinuousScale.defaultTickCount,h=Math.abs(r-n)/Math.max(u,1),d=0;d<c.length&&h>c[d][2];)d++;if(0===d)o=Math.max(tickStep(n,r,u,a,l),1),i=this.millisecond;else if(d===c.length){o=tickStep(n/durationYear,r/durationYear,u,a,l),i=this.year}else{var p=h-c[d-1][2],f=c[d][2]-h;i=(e=__read$R(c[p<f?d-1:d],2))[0],o=e[1]}return i.every(o)},e.prototype.invert=function(e){return new Date(t.prototype.invert.call(this,e))},e.prototype.ticks=function(){if(!this.domain||this.domain.length<2)return[];this.refresh();var t=__read$R(this.getDomain().map(toNumber),2),e=t[0],i=t[1];if(void 0!==this.interval)return this.getTicksForInterval({start:e,stop:i});if(this.nice){var o=this.tickCount;if(2===o)return this.niceDomain;if(1===o)return this.niceDomain.slice(0,1)}return this.getDefaultTicks({start:e,stop:i})},e.prototype.getDefaultTicks=function(t){var e=t.start,i=t.stop,o=this.getTickInterval({start:e,stop:i,count:this.tickCount,minCount:this.minTickCount,maxCount:this.maxTickCount});return o?o.range(new Date(e),new Date(i)):[]},e.prototype.getTicksForInterval=function(t){var e=t.start,i=t.stop,o=this.interval,n=this.tickIntervals;if(!o)return[];if(o instanceof TimeInterval){var r=o.range(new Date(e),new Date(i));return this.isDenseInterval({start:e,stop:i,interval:o,count:r.length})?this.getDefaultTicks({start:e,stop:i}):r}var s=Math.abs(o);if(this.isDenseInterval({start:e,stop:i,interval:s}))return this.getDefaultTicks({start:e,stop:i});var a=__spread$v(n);a.reverse();var l=a.find((function(t){return s%t[2]==0}));if(l)return l[0].every(s/(l[2]/l[1])).range(new Date(e),new Date(i));for(var c=new Date(e),u=new Date(i),h=[];c<=u;)h.push(c),(c=new Date(c)).setMilliseconds(c.getMilliseconds()+s);return h},e.prototype.tickFormat=function(t){var e=t.ticks,i=t.specifier;return null==i?this.defaultTickFormat(e):buildFormatter(i)},e.prototype.update=function(){!this.domain||this.domain.length<2||this.nice&&this.updateNiceDomain()},e.prototype.updateNiceDomain=function(){for(var t=__read$R(this.domain,2),e=t[0],i=t[1],o=0;o<4;o++){this.updateNiceDomainIteration(e,i);var n=__read$R(this.niceDomain,2),r=n[0],s=n[1];if(toNumber(e)===toNumber(r)&&toNumber(i)===toNumber(s))break;e=r,i=s}},e.prototype.updateNiceDomainIteration=function(t,e){var i,o=toNumber(t),n=toNumber(e),r=this.interval;if(r instanceof TimeInterval)i=r;else{var s="number"==typeof r?(n-o)/Math.max(r,1):this.tickCount;i=this.getTickInterval({start:o,stop:n,count:s,minCount:this.minTickCount,maxCount:this.maxTickCount})}if(i){var a=i.range(t,e,!0),l=a[0],c=a[a.length-1];this.niceDomain=[l,c]}},e}(ContinuousScale),__read$Q=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,n,r=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return s},__spread$u=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$Q(arguments[e]));return t},_a$1,group=function(t){return"("+t+")"},optionalGroup=function(t){return group(t)+"?"},nonCapturingGroup=function(t){return optionalGroup("?:"+t)},formatRegEx=new RegExp(["^",nonCapturingGroup(""+optionalGroup(".")+group("[<>=^]")),optionalGroup("[+\\-( ]"),optionalGroup("[$€£¥₣₹#]"),optionalGroup("0"),optionalGroup("\\d+"),optionalGroup(","),nonCapturingGroup("\\."+group("\\d+")),optionalGroup("~"),optionalGroup("[%a-z]"),"$"].join(""),"i"),surroundedRegEx=new RegExp(["^",group(".*?"),"#\\{"+group(".+?")+"\\}",group(".*?"),"$"].join(""));function parseFormatter(t){var e,i,o,n=t.match(surroundedRegEx);n&&(i=(e=__read$Q(n,4))[1],t=e[2],o=e[3]);var r=t.match(formatRegEx);if(!r)throw new Error("The number formatter is invalid: "+t);var s=__read$Q(r,11),a=s[1],l=s[2],c=s[3],u=s[4],h=s[5],d=s[6],p=s[7],f=s[8],g=s[9],m=s[10];return{fill:a,align:l,sign:c,symbol:u,zero:h,width:parseInt(d),comma:p,precision:parseInt(f),trim:Boolean(g),type:m,prefix:i,suffix:o}}function format(t){var e,i="string"==typeof t?parseFormatter(t):t,o=i.fill,n=i.align,r=i.sign,s=void 0===r?"-":r,a=i.symbol,l=i.zero,c=i.width,u=i.comma,h=i.type,d=i.prefix,p=void 0===d?"":d,f=i.suffix,g=void 0===f?"":f,m=i.precision,y=i.trim;if(h)if(h in decimalTypes&&h in integerTypes)e=isNaN(m)?integerTypes[h]:decimalTypes[h];else if(h in decimalTypes)e=decimalTypes[h];else{if(!(h in integerTypes))throw new Error("The number formatter type is invalid: "+h);e=integerTypes[h]}else e=decimalTypes.g,y=!0;return isNaN(m)&&(m=h?6:12),function(t){var i=e(t,m);return y&&(i=removeTrailingZeros(i)),u&&(i=insertSeparator(i,u)),i=addSign(t,i,s),a&&"#"!==a&&(i=""+a+i),"#"===a&&"x"===h&&(i="0x"+i),"s"===h&&(i=""+i+getSIPrefix(t)),"%"!==h&&"p"!==h||(i+="%"),isNaN(c)||(i=addPadding(i,c,o||l,n)),i=""+p+i+g}}var absFloor=function(t){return Math.floor(Math.abs(t))},integerTypes={b:function(t){return absFloor(t).toString(2)},c:function(t){return String.fromCharCode(t)},d:function(t){return Math.round(Math.abs(t)).toFixed(0)},o:function(t){return absFloor(t).toString(8)},x:function(t){return absFloor(t).toString(16)},X:function(t){return integerTypes.x(t).toUpperCase()},n:function(t){return integerTypes.d(t)},"%":function(t){return""+absFloor(100*t).toFixed(0)}},decimalTypes={e:function(t,e){return Math.abs(t).toExponential(e)},E:function(t,e){return decimalTypes.e(t,e).toUpperCase()},f:function(t,e){return Math.abs(t).toFixed(e)},F:function(t,e){return decimalTypes.f(t,e).toUpperCase()},g:function(t,e){if(0===t)return"0";var i=Math.abs(t),o=Math.floor(Math.log10(i));return o>=-4&&o<e?i.toFixed(e-1-o):i.toExponential(e-1)},G:function(t,e){return decimalTypes.g(t,e).toUpperCase()},n:function(t,e){return decimalTypes.g(t,e)},p:function(t,e){return decimalTypes.r(100*t,e)},r:function(t,e){if(0===t)return"0";var i=Math.abs(t),o=Math.floor(Math.log10(i))-(e-1);if(o<=0)return i.toFixed(-o);var n=Math.pow(10,o);return(Math.round(i/n)*n).toFixed()},s:function(t,e){var i=getSIPrefixPower(t);return decimalTypes.r(t/Math.pow(10,i),e)},"%":function(t,e){return decimalTypes.f(100*t,e)}};function removeTrailingZeros(t){return t.replace(/\.0+$/,"").replace(/(\.[1-9])0+$/,"$1")}function insertSeparator(t,e){var i=t.indexOf(".");i<0&&(i=t.length);for(var o=t.substring(0,i).split(""),n=t.substring(i),r=o.length-3;r>0;r-=3)o.splice(r,0,e);return""+o.join("")+n}function getSIPrefix(t){return siPrefixes[getSIPrefixPower(t)]}function getSIPrefixPower(t){var e=Math.log10(Math.abs(t)),i=3*Math.floor(e/3);return Math.max(minSIPrefix,Math.min(maxSIPrefix,i))}var minSIPrefix=-24,maxSIPrefix=24,siPrefixes=(_a$1={},_a$1[minSIPrefix]="y",_a$1[-21]="z",_a$1[-18]="a",_a$1[-15]="f",_a$1[-12]="p",_a$1[-9]="n",_a$1[-6]="µ",_a$1[-3]="m",_a$1[0]="",_a$1[3]="k",_a$1[6]="M",_a$1[9]="G",_a$1[12]="T",_a$1[15]="P",_a$1[18]="E",_a$1[21]="Z",_a$1[maxSIPrefix]="Y",_a$1),minusSign="−";function addSign(t,e,i){return void 0===i&&(i=""),"("===i?t>=0?e:"("+e+")":""+(t>=0?"+"===i?"+":"":minusSign)+e}function addPadding(t,e,i,o){void 0===i&&(i=" "),void 0===o&&(o=">");var n=t;if(">"!==o&&o){if("<"===o)n=n.padEnd(e,i);else if("^"===o){var r=Math.max(0,e-n.length),s=Math.ceil(r/2),a=Math.floor(r/2);n=(n=n.padStart(s+n.length,i)).padEnd(a+n.length,i)}}else n=n.padStart(e,i);return n}function tickFormat(t,e){var i=parseFormatter(e||",f");isNaN(i.precision)&&("f"===i.type||"%"===i.type?i.precision=Math.max.apply(Math,__spread$u(t.map((function(t){if("number"!=typeof t||0===t)return 0;var e=Math.floor(Math.log10(Math.abs(t))),o=i.type?6:12,n=t.toExponential(o-1).replace(/\.?0+e/,"e"),r=n.indexOf(".");if(r<0)return e>=0?0:-e;var s=n.indexOf("e")-r;return Math.max(0,s-e-1)})))):i.type&&!(i.type in decimalTypes)||(i.precision=Math.max.apply(Math,__spread$u(t.map((function(t){if("number"!=typeof t)return 0;var e=t.toExponential((i.type?6:12)-1).replace(/\.?0+e/,"e");return e.substring(0,e.indexOf("e")).replace(".","").length}))))));var o=format(i);return function(t){return o(Number(t))}}var __extends$2m=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$1F=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},__read$P=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,n,r=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return s},__spread$t=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$P(arguments[e]));return t},identity=function(t){return t},LogScale=function(t){function e(){var e=t.call(this,[1,10],[0,1])||this;return e.type="log",e.base=10,e.cacheProps=["domain","range","nice","tickCount","base"],e.baseLog=identity,e.basePow=identity,e.log=function(t){return e.domain[0]>=0?e.baseLog(t):-e.baseLog(-t)},e.pow=function(t){return e.domain[0]>=0?e.basePow(t):-e.basePow(-t)},e}return __extends$2m(e,t),e.prototype.toDomain=function(t){return t},e.prototype.transform=function(t){return this.domain[0]>=0?Math.log(t):-Math.log(-t)},e.prototype.transformInvert=function(t){return this.domain[0]>=0?Math.exp(t):-Math.exp(-t)},e.prototype.update=function(){!this.domain||this.domain.length<2||(this.updateLogFn(),this.updatePowFn(),this.nice&&this.updateNiceDomain())},e.prototype.updateLogFn=function(){var t,e=this.base;if(10===e)t=Math.log10;else if(e===Math.E)t=Math.log;else if(2===e)t=Math.log2;else{var i=Math.log(e);t=function(t){return Math.log(t)/i}}this.baseLog=t},e.prototype.updatePowFn=function(){var t,i=this.base;t=10===i?e.pow10:i===Math.E?Math.exp:function(t){return Math.pow(i,t)},this.basePow=t},e.prototype.updateNiceDomain=function(){var t=__read$P(this.domain,2),e=t[0],i=t[1],o=this.pow(Math.floor(this.log(e))),n=this.pow(Math.ceil(this.log(i)));this.niceDomain=[o,n]},e.pow10=function(t){return t>=0?Math.pow(10,t):1/Math.pow(10,-t)},e.prototype.ticks=function(){var t,e=this,i=null!==(t=this.tickCount)&&void 0!==t?t:10;if(!this.domain||this.domain.length<2||i<1)return[];this.refresh();var o=this.base,n=__read$P(this.getDomain(),2),r=n[0],s=n[1],a=this.log(r),l=this.log(s);if(this.interval){var c=Math.abs(this.interval),u=Math.abs(l-a),h=range(a,l,Math.min(u,c)).map((function(t){return e.pow(t)})).filter((function(t){return t>=r&&t<=s}));if(!this.isDenseInterval({start:r,stop:s,interval:c,count:h.length}))return h}if(!(o%1==0)||l-a>=i)return ticks(a,l,Math.min(l-a,i)).map((function(t){return e.pow(t)}));var d=[],p=r>0;a=Math.floor(a)-1,l=Math.round(l)+1;for(var f=Math.min.apply(Math,__spread$t(this.range)),g=(Math.max.apply(Math,__spread$t(this.range))-f)/i,m=1/0,y=a;y<=l;y++)for(var v=this.convert(this.pow(y+1)),_=1;_<o;_++){var C=p?_:o-_+1,b=this.pow(y)*C,E=this.convert(b),S=Math.abs(m-E),w=Math.abs(E-v);b>=r&&b<=s&&(1===_||S>=g&&w>=g)&&(d.push(b),m=E)}return d},e.prototype.tickFormat=function(t){var e=t.count,i=t.ticks,o=t.specifier,n=this.base;return null==o&&(o=10===n?".0e":","),"function"!=typeof o&&(o=format(o)),e===1/0?o:(null==e&&(e=10),i=null!=i?i:this.ticks(),function(t){return o(t)})},__decorate$1F([Validate(NUMBER(0))],e.prototype,"base",void 0),e}(ContinuousScale);function Default(t,e){return void 0===e&&(e=[void 0]),addTransformToInstanceProperty((function(i,o,n){return e.includes(n)?t:n}))}function extent$4(t){var e=t.length;if(0!==e){for(var i=1/0,o=-1/0,n=0;n<e;n++){var r=t[n];r instanceof Date&&(r=r.getTime()),"number"==typeof r&&(r<i&&(i=r),r>o&&(o=r))}var s=[i,o];if(!s.some((function(t){return!isFinite(t)})))return s}}var __decorate$1E=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},Label$1=function(){function t(){this.enabled=!0,this.fontSize=12,this.fontFamily="Verdana, sans-serif",this.fontStyle=void 0,this.fontWeight=void 0,this.color="rgba(70, 70, 70, 1)"}return t.prototype.getFont=function(){return getFont(this.fontSize,this.fontFamily,this.fontStyle,this.fontWeight)},__decorate$1E([Validate(BOOLEAN)],t.prototype,"enabled",void 0),__decorate$1E([Validate(NUMBER(0))],t.prototype,"fontSize",void 0),__decorate$1E([Validate(STRING)],t.prototype,"fontFamily",void 0),__decorate$1E([Validate(OPT_FONT_STYLE)],t.prototype,"fontStyle",void 0),__decorate$1E([Validate(OPT_FONT_WEIGHT)],t.prototype,"fontWeight",void 0),__decorate$1E([Validate(COLOR_STRING)],t.prototype,"color",void 0),t}();function calculateLabelRotation(t){var e=t.parallelFlipRotation,i=void 0===e?0:e,o=t.regularFlipRotation,n=void 0===o?0:o,r=t.rotation?normalizeAngle360(toRadians$1(t.rotation)):0,s=!r&&i>=0&&i<=Math.PI?-1:1,a=!r&&n>=0&&n<=Math.PI?-1:1,l=0;return t.parallel?l=s*Math.PI/2:-1===a&&(l=Math.PI),{labelRotation:r,autoRotation:l,parallelFlipFlag:s,regularFlipFlag:a}}var __decorate$1D=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},__read$O=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,n,r=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return s},__spread$s=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$O(arguments[e]));return t},TICK_COUNT=predicateWithMessage((function(t,e){return NUMBER(0)(t,e)||t instanceof TimeInterval}),"expecting a tick count Number value or, for a time axis, a Time Interval such as 'agCharts.time.month'"),OPT_TICK_COUNT=predicateWithMessage((function(t,e){return OPTIONAL(t,e,TICK_COUNT)}),"expecting an optional tick count Number value or, for a time axis, a Time Interval such as 'agCharts.time.month'"),OPT_TICK_INTERVAL=predicateWithMessage((function(t,e){return OPTIONAL(t,e,(function(t,e){return 0!==t&&NUMBER(0)(t,e)||t instanceof TimeInterval}))}),"expecting an optional non-zero positive Number value or, for a time axis, a Time Interval such as 'agCharts.time.month'"),GRID_STYLE_KEYS=["stroke","lineDash"],GRID_STYLE=predicateWithMessage(ARRAY(void 0,(function(t){for(var e in t)if(!GRID_STYLE_KEYS.includes(e))return!1;return!0})),"expecting an Array of objects with gridline style properties such as 'stroke' and 'lineDash'"),Tags;!function(t){t[t.TickLine=0]="TickLine",t[t.TickLabel=1]="TickLabel",t[t.GridLine=2]="GridLine",t[t.GridArc=3]="GridArc",t[t.AxisLine=4]="AxisLine"}(Tags||(Tags={}));var AxisLine=function(){function t(){this.width=1,this.color="rgba(195, 195, 195, 1)"}return __decorate$1D([Validate(NUMBER(0))],t.prototype,"width",void 0),__decorate$1D([Validate(OPT_COLOR_STRING)],t.prototype,"color",void 0),t}(),AxisTick=function(){function t(){this.width=1,this.size=6,this.color="rgba(195, 195, 195, 1)",this.count=void 0,this.interval=void 0,this.values=void 0,this.minSpacing=NaN,this.maxSpacing=NaN}return __decorate$1D([Validate(NUMBER(0))],t.prototype,"width",void 0),__decorate$1D([Validate(NUMBER(0))],t.prototype,"size",void 0),__decorate$1D([Validate(OPT_COLOR_STRING)],t.prototype,"color",void 0),__decorate$1D([Validate(OPT_TICK_COUNT),Deprecated("Use tick.interval or tick.minSpacing and tick.maxSpacing instead")],t.prototype,"count",void 0),__decorate$1D([Validate(OPT_TICK_INTERVAL)],t.prototype,"interval",void 0),__decorate$1D([Validate(OPT_ARRAY())],t.prototype,"values",void 0),__decorate$1D([Validate(AND(NUMBER_OR_NAN(1),LESS_THAN("maxSpacing"))),Default(NaN)],t.prototype,"minSpacing",void 0),__decorate$1D([Validate(AND(NUMBER_OR_NAN(1),GREATER_THAN("minSpacing"))),Default(NaN)],t.prototype,"maxSpacing",void 0),t}(),AxisLabel=function(){function t(){this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif",this.padding=5,this.minSpacing=NaN,this.color="rgba(87, 87, 87, 1)",this.rotation=void 0,this.autoRotate=void 0,this.autoRotateAngle=335,this.avoidCollisions=!0,this.mirrored=!1,this.parallel=!1,this.formatter=void 0,this.format=void 0}return __decorate$1D([Validate(OPT_FONT_STYLE)],t.prototype,"fontStyle",void 0),__decorate$1D([Validate(OPT_FONT_WEIGHT)],t.prototype,"fontWeight",void 0),__decorate$1D([Validate(NUMBER(1))],t.prototype,"fontSize",void 0),__decorate$1D([Validate(STRING)],t.prototype,"fontFamily",void 0),__decorate$1D([Validate(NUMBER(0))],t.prototype,"padding",void 0),__decorate$1D([Validate(NUMBER_OR_NAN()),Default(NaN)],t.prototype,"minSpacing",void 0),__decorate$1D([Validate(OPT_COLOR_STRING)],t.prototype,"color",void 0),__decorate$1D([Validate(OPT_NUMBER(-360,360))],t.prototype,"rotation",void 0),__decorate$1D([Validate(OPT_BOOLEAN)],t.prototype,"autoRotate",void 0),__decorate$1D([Validate(NUMBER(-360,360))],t.prototype,"autoRotateAngle",void 0),__decorate$1D([Validate(BOOLEAN)],t.prototype,"avoidCollisions",void 0),__decorate$1D([Validate(BOOLEAN)],t.prototype,"mirrored",void 0),__decorate$1D([Validate(BOOLEAN)],t.prototype,"parallel",void 0),__decorate$1D([Validate(OPT_STRING)],t.prototype,"format",void 0),t}(),Axis=function(){function t(t){this.id=createId$1(this),this.nice=!0,this.dataDomain=[],this.axisGroup=new Group({name:this.id+"-axis",zIndex:Layers.AXIS_ZINDEX}),this.lineNode=this.axisGroup.appendChild(new Line),this.tickLineGroup=this.axisGroup.appendChild(new Group({name:this.id+"-Axis-tick-lines",zIndex:Layers.AXIS_ZINDEX})),this.tickLabelGroup=this.axisGroup.appendChild(new Group({name:this.id+"-Axis-tick-labels",zIndex:Layers.AXIS_ZINDEX})),this.crossLineGroup=new Group({name:this.id+"-CrossLines"}),this.gridGroup=new Group({name:this.id+"-Axis-grid"}),this.gridLineGroup=this.gridGroup.appendChild(new Group({name:this.id+"-gridLines",zIndex:Layers.AXIS_GRID_ZINDEX})),this.gridArcGroup=this.gridGroup.appendChild(new Group({name:this.id+"-gridArcs",zIndex:Layers.AXIS_GRID_ZINDEX})),this.tickLineGroupSelection=Selection.select(this.tickLineGroup,Line),this.tickLabelGroupSelection=Selection.select(this.tickLabelGroup,Text),this.gridLineGroupSelection=Selection.select(this.gridLineGroup,Line),this.gridArcGroupSelection=Selection.select(this.gridArcGroup,Arc),this._crossLines=[],this.line=new AxisLine,this.tick=new AxisTick,this.label=new AxisLabel,this.translation={x:0,y:0},this.rotation=0,this.layout={label:{align:"center",baseline:"middle",rotation:0,fractionDigits:0,padding:this.label.padding,format:this.label.format}},this.requestedRange=[0,1],this._visibleRange=[0,1],this._title=void 0,this._gridLength=0,this.gridStyle=[{stroke:"rgba(219, 219, 219, 1)",lineDash:[4,2]}],this._radialGrid=!1,this.fractionDigits=0,this.gridPadding=0,this.seriesAreaPadding=0,this.thickness=0,this._scale=t,this.refreshScale()}return Object.defineProperty(t.prototype,"scale",{get:function(){return this._scale},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"crossLines",{get:function(){return this._crossLines},set:function(t){var e,i,o=this;null===(e=this._crossLines)||void 0===e||e.forEach((function(t){return o.detachCrossLine(t)})),this._crossLines=t,null===(i=this._crossLines)||void 0===i||i.forEach((function(t){o.attachCrossLine(t),o.initCrossLine(t)}))},enumerable:!1,configurable:!0}),t.prototype.attachCrossLine=function(t){this.crossLineGroup.appendChild(t.group)},t.prototype.detachCrossLine=function(t){this.crossLineGroup.removeChild(t.group)},t.prototype.destroy=function(){},t.prototype.refreshScale=function(){var t,e=this;this.requestedRange=this.scale.range.slice(),null===(t=this.crossLines)||void 0===t||t.forEach((function(t){e.initCrossLine(t)}))},t.prototype.updateRange=function(){var t,e=this,i=e.requestedRange,o=e.visibleRange,n=e.scale,r=(i[1]-i[0])/(o[1]-o[0]),s=r*o[0],a=i[0]-s;n.range=[a,a+r],null===(t=this.crossLines)||void 0===t||t.forEach((function(t){t.clippedRange=[i[0],i[1]]}))},t.prototype.setCrossLinesVisible=function(t){this.crossLineGroup.visible=t},t.prototype.attachAxis=function(t,e){t.insertBefore(this.gridGroup,e),t.insertBefore(this.axisGroup,e),t.insertBefore(this.crossLineGroup,e)},t.prototype.detachAxis=function(t){t.removeChild(this.gridGroup),t.removeChild(this.axisGroup),t.removeChild(this.crossLineGroup)},t.prototype.inRange=function(t,e,i){return void 0===e&&(e=0),void 0===i&&(i=0),0===this.inRangeEx(t,e,i)},t.prototype.inRangeEx=function(t,e,i){void 0===e&&(e=0),void 0===i&&(i=0);var o=this.range,n=Math.min(o[0],o[1]),r=Math.max(o[0],o[1]);return t+e<n-i?-1:t>r+i?1:0},Object.defineProperty(t.prototype,"range",{get:function(){return this.requestedRange},set:function(t){this.requestedRange=t.slice(),this.updateRange()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visibleRange",{get:function(){return this._visibleRange.slice()},set:function(t){if(t&&2===t.length){var e=__read$O(t,2),i=e[0],o=e[1];i=Math.max(0,i),o=Math.min(1,o),i=Math.min(i,o),o=Math.max(i,o),this._visibleRange=[i,o],this.updateRange()}},enumerable:!1,configurable:!0}),t.prototype.onLabelFormatChange=function(t,e){var i=this.scale,o=this.fractionDigits,n=!(i instanceof LogScale)&&o>0?function(t){return"number"==typeof t?t.toFixed(o):String(t)}:function(t){return String(t)};if(e&&i&&i.tickFormat)try{this.labelFormatter=i.tickFormat({ticks:t,specifier:e})}catch(t){this.labelFormatter=n,Logger.warnOnce("the axis label format string "+e+" is invalid. No formatting will be applied")}else this.labelFormatter=n},Object.defineProperty(t.prototype,"title",{get:function(){return this._title},set:function(t){var e=this._title;e!==t&&(e&&this.axisGroup.removeChild(e.node),t&&(t.node.rotation=-Math.PI/2,this.axisGroup.appendChild(t.node)),this._title=t,this.setTickCount(this.tick.count),this.setTickInterval(this.tick.interval),this.updateTitle({ticks:this.scale.ticks()}))},enumerable:!1,configurable:!0}),t.prototype.setDomain=function(){var t,e=this,i=e.scale,o=e.dataDomain,n=e.tick.values;if(n&&i instanceof ContinuousScale){var r=__read$O(null!==(t=extent$4(n))&&void 0!==t?t:[1/0,-1/0],2),s=r[0],a=r[1],l=Math.min(i.fromDomain(o[0]),s),c=Math.max(i.fromDomain(o[1]),a);i.domain=[i.toDomain(l),i.toDomain(c)]}else i.domain=o},t.prototype.setTickInterval=function(t){var e;this.scale.interval=null!==(e=this.tick.interval)&&void 0!==e?e:t},t.prototype.setTickCount=function(t,e,i){var o=this.scale;if(t&&o instanceof ContinuousScale)return"number"==typeof t?(o.tickCount=t,o.minTickCount=null!=e?e:0,void(o.maxTickCount=null!=i?i:1/0)):void(o instanceof TimeScale$1&&this.setTickInterval(t))},Object.defineProperty(t.prototype,"gridLength",{get:function(){return this._gridLength},set:function(t){var e,i=this;(this._gridLength&&!t||!this._gridLength&&t)&&(this.gridLineGroupSelection=this.gridLineGroupSelection.clear(),this.gridArcGroupSelection=this.gridArcGroupSelection.clear()),this._gridLength=t,null===(e=this.crossLines)||void 0===e||e.forEach((function(t){i.initCrossLine(t)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"radialGrid",{get:function(){return this._radialGrid},set:function(t){this._radialGrid!==t&&(this._radialGrid=t,this.gridLineGroupSelection=this.gridLineGroupSelection.clear(),this.gridArcGroupSelection=this.gridArcGroupSelection.clear())},enumerable:!1,configurable:!0}),t.prototype.update=function(t){var e,i;this.calculateDomain();var o=this,n=o.scale,r=o.gridLength,s=o.tick,a=o.label,l=a.parallel,c=a.mirrored,u=a.avoidCollisions,h=o.requestedRange,d=Math.min.apply(Math,__spread$s(h)),p=Math.max.apply(Math,__spread$s(h)),f=toRadians$1(this.rotation),g=this.isAnySeriesActive(),m=c?1:-1,y=normalizeAngle360(f),v=normalizeAngle360(f-Math.PI/2),_=this.nice;this.setDomain(),this.setTickInterval(this.tick.interval),n instanceof ContinuousScale&&(n.nice=_,this.setTickCount(this.tick.count),n.update());var C=(n.bandwidth||0)/2;this.updatePosition(),this.updateLine();for(var b=0,E=!0,S=[],w=this.estimateTickCount({minSpacing:this.tick.minSpacing,maxSpacing:this.tick.maxSpacing}),O=w.maxTickCount,x=w.minTickCount,P=w.defaultTickCount,T=n instanceof ContinuousScale,M=void 0!==t,D=u&&void 0===this.tick.interval&&void 0===this.tick.values,A=!isNaN(this.tick.minSpacing)||!isNaN(this.tick.maxSpacing),R=this.tick.count||!T||isNaN(O)?10:O;E;){for(var L=!0,I=function(){if(b>R)return"break";var i=S,o=Math.max(P-b,x),s=D&&!(T&&void 0===N.tick.count)&&(A||0!==b);if(N.tick.values?S=N.tick.values:0===O?S=[]:0!==b&&s||(N.setTickCount(null!==(e=N.tick.count)&&void 0!==e?e:o,x,O),S=n.ticks()),s){var a=A?Math.ceil(S.length/o):2;S=S.filter((function(t,e){return e%a==0}))}var l=void 0;M&&(l=N.updateSecondaryAxisTicks(t),S=l),N.updateSelections({halfBandwidth:C,gridLength:r,ticks:S}),!M&&S.length>0&&(t=S.length),L=!!D&&areArrayNumbersEqual(S,i),b++},N=this;L;){if("break"===I())break}if(L)break;this.onLabelFormatChange(S,this.label.format);var k=this.updateLabels({parallelFlipRotation:y,regularFlipRotation:v,sideFlag:m,tickLabelGroupSelection:this.tickLabelGroupSelection,ticks:S}),F=k.labelData,B=k.rotated,G=this.getLabelSpacing(B);E=!!D&&axisLabelsOverlap(F,G)}this.updateGridLines({gridLength:r,halfBandwidth:C,sideFlag:m});var j=!1,V=function(t){var e=Math.floor(d),i=Math.ceil(p);if(e!==i){t.translationY>=e-1&&t.translationY<e&&(t.translationY=e),t.translationY>i&&t.translationY<=i+1&&(t.translationY=i);var o=t.translationY>=e&&t.translationY<=i;o&&(j=!0),t.visible=o}else t.visible=!1},U=this,W=U.gridLineGroupSelection,H=U.gridArcGroupSelection,$=U.tickLineGroupSelection,z=U.tickLabelGroupSelection;return W.each(V),H.each(V),$.each(V),z.each(V),this.tickLineGroup.visible=j,this.tickLabelGroup.visible=j,this.gridLineGroup.visible=j,this.gridArcGroup.visible=j,null===(i=this.crossLines)||void 0===i||i.forEach((function(t){t.sideFlag=-m,t.direction=f===-Math.PI/2?ChartAxisDirection.X:ChartAxisDirection.Y,t.label.parallel=void 0!==t.label.parallel?t.label.parallel:l,t.parallelFlipRotation=y,t.regularFlipRotation=v,t.update(g)})),this.updateTitle({ticks:S}),$.each((function(t){t.strokeWidth=s.width,t.stroke=s.color,t.visible=j,t.x1=m*s.size,t.x2=0,t.y1=0,t.y2=0})),t},t.prototype.estimateTickCount=function(e){var i=e.minSpacing,o=e.maxSpacing,n=this.requestedRange,r=Math.min.apply(Math,__spread$s(n)),s=Math.max.apply(Math,__spread$s(n))-r,a=Math.max(t.defaultTickMinSpacing,s/ContinuousScale.defaultMaxTickCount);isNaN(i)&&isNaN(o)?(i=a)>(o=s)&&(o=i):isNaN(i)?(i=a)>o&&(i=o):isNaN(o)&&i>(o=s)&&(o=i);var l=Math.max(1,Math.floor(s/i)),c=Math.min(l,Math.ceil(s/o)),u=ContinuousScale.defaultTickCount;return u>l?u=l:u<c&&(u=c),{minTickCount:c,maxTickCount:l,defaultTickCount:u}},t.prototype.getLabelSpacing=function(t){var e=this.label;return isNaN(e.minSpacing)?t?0:10:e.minSpacing},t.prototype.calculateDomain=function(){},t.prototype.updatePosition=function(){var t=this,e=t.label,i=t.crossLineGroup,o=t.axisGroup,n=t.gridGroup,r=t.translation,s=t.gridLineGroupSelection,a=t.gridPadding,l=t.gridLength,c=toRadians$1(this.rotation),u=e.mirrored?1:-1,h=Math.floor(r.x),d=Math.floor(r.y);i.translationX=h,i.translationY=d,i.rotation=c,o.translationX=h,o.translationY=d,o.rotation=c,n.translationX=h,n.translationY=d,n.rotation=c,s.each((function(t){t.x1=a,t.x2=-u*l+a,t.y1=0,t.y2=0}))},t.prototype.updateSecondaryAxisTicks=function(t){throw new Error("AG Charts - unexpected call to updateSecondaryAxisTicks() - check axes configuration.")},t.prototype.updateSelections=function(t){var e=t.ticks,i=t.halfBandwidth,o=t.gridLength,n=this.scale,r=e.map((function(t){return{tick:t,translationY:n.convert(t)+i}})),s=this.radialGrid?this.gridLineGroupSelection:this.gridLineGroupSelection.update(o?r:[],(function(t){var e=new Line;e.tag=Tags.GridLine,t.append(e)})),a=this.radialGrid?this.gridArcGroupSelection.update(o?r:[],(function(t){var e=new Arc;e.tag=Tags.GridArc,t.append(e)})):this.gridArcGroupSelection,l=this.tickLineGroupSelection.update(r,(function(t){var e=new Line;e.tag=Tags.TickLine,t.appendChild(e)})),c=this.tickLabelGroupSelection.update(r,(function(t){var e=new Text;e.tag=Tags.TickLabel,t.appendChild(e)})),u=function(t){return t.translationY=Math.round(t.datum.translationY)};s.each(u),a.each(u),l.each(u),c.each(u),this.tickLineGroupSelection=l,this.tickLabelGroupSelection=c,this.gridLineGroupSelection=s,this.gridArcGroupSelection=a},t.prototype.updateGridLines=function(t){var e=t.gridLength,i=t.halfBandwidth,o=t.sideFlag,n=this,r=n.gridStyle,s=n.scale,a=n.tick,l=n.gridPadding;if(e&&r.length){var c=r.length,u=void 0;if(this.radialGrid){var h=normalizeAngle360Inclusive(toRadians$1(e));u=this.gridArcGroupSelection.each((function(t,e){var o=Math.round(s.convert(e)+i);t.centerX=0,t.centerY=s.range[0]-o,t.endAngle=h,t.radius=o}))}else u=this.gridLineGroupSelection.each((function(t){t.x1=l,t.x2=-o*e+l,t.y1=0,t.y2=0}));u.each((function(t,e,i){var o=r[i%c];t.stroke=o.stroke,t.strokeWidth=a.width,t.lineDash=o.lineDash,t.fill=void 0}))}},t.prototype.updateLabels=function(t){var e=this,i=t.ticks,o=t.tickLabelGroupSelection,n=t.sideFlag,r=t.parallelFlipRotation,s=t.regularFlipRotation,a=this,l=a.label,c=a.label,u=c.parallel,h=c.rotation,d=a.tick,p=0,f=calculateLabelRotation({rotation:h,parallel:u,regularFlipRotation:s,parallelFlipRotation:r}),g=f.autoRotation,m=f.labelRotation,y=f.parallelFlipFlag,v=f.regularFlipFlag;this.fractionDigits=i.fractionDigits>=0?i.fractionDigits:0;var _=new Map,C=n*(d.size+l.padding+this.seriesAreaPadding),b=new Matrix;Matrix.updateTransformMatrix(b,1,1,g,0,0);var E=[],S=o.each((function(t,i,o){var n=i.tick,r=i.translationY;t.fontStyle=l.fontStyle,t.fontWeight=l.fontWeight,t.fontSize=l.fontSize,t.fontFamily=l.fontFamily,t.fill=l.color,t.text=e.formatTickDatum(n,o);var s=""===t.text||null==t.text,a=t.computeBBox(),c=a.width,u=a.height,h=new BBox(C,r,0,0);b.transformBBox(h,a);var d=a.x,p=void 0===d?0:d,f=a.y,g=void 0===f?0:f;a.width=c,a.height=u,_.set(o,s?null:a),s||E.push({point:{x:p,y:g,size:0},label:{width:c,height:u,text:""}})})),w=this.getLabelSpacing(),O=axisLabelsOverlap(E,w);void 0===l.rotation&&!0===l.autoRotate&&O&&(p=normalizeAngle360(toRadians$1(l.autoRotateAngle)));var x="middle";u&&!m&&(x=n*y==-1?"hanging":"bottom");var P=m>0&&m<=Math.PI,T=p>0&&p<=Math.PI,M="start";u?m||p?n*(P||T?-1:1)==-1&&(M="end"):M="center":n*v==-1&&(M="end");var D=g+m+p;return D&&Matrix.updateTransformMatrix(b,1,1,D,0,0),E=[],S.each((function(t,e,i){if(""!==t.text&&null!=t.text){t.textBaseline=x,t.textAlign=M,t.x=C,t.rotationCenterX=C,t.rotation=D;var o=_.get(i);if(o){t.visible=!0;var n=o.width,r=void 0===n?0:n,s=o.height,a=void 0===s?0:s,l=e.translationY,c=new BBox(C,l,0,0);b.transformBBox(c,o);var u=o.x,h=void 0===u?0:u,d=o.y,p=void 0===d?0:d;E.push({point:{x:h,y:p,size:0},label:{width:r,height:a,text:t.text}})}}else t.visible=!1})),this.layout.label={align:M,baseline:x,rotation:D,fractionDigits:this.fractionDigits,padding:this.label.padding,format:this.label.format},{labelData:E,rotated:!(!m&&!p)}},t.prototype.updateLine=function(){var t=this.lineNode,e=this.requestedRange;t.x1=0,t.x2=0,t.y1=e[0],t.y2=e[1],t.strokeWidth=this.line.width,t.stroke=this.line.color,t.visible=!0},t.prototype.updateTitle=function(t){var e=t.ticks,i=this,o=i.label,n=i.rotation,r=i.title,s=i.lineNode,a=i.requestedRange,l=i.tickLineGroup,c=i.tickLabelGroup;if(r){var u=!1;if(r.enabled&&s.visible){u=!0;var h=o.mirrored?1:-1,d=normalizeAngle360(n),p=Caption.PADDING,f=r.node,g=-1===h&&d>Math.PI&&d<2*Math.PI?-1:1;f.rotation=g*h*Math.PI/2,f.x=Math.floor(g*h*(a[0]+a[1])/2);var m=0;if((null==e?void 0:e.length)>0){var y=Group.computeBBox([l,c]),v=0===n?y.width:y.height;Math.abs(v)<1/0&&(m+=v)}f.y=-1===h?Math.floor(g*(-p-m)):Math.floor(-p-m),f.textBaseline=1===g?"bottom":"top"}r.node.visible=u}},t.prototype.formatTickDatum=function(t,e){var i=this,o=i.label,n=i.labelFormatter,r=i.fractionDigits;return o.formatter?o.formatter({value:r>0?t:String(t),index:e,fractionDigits:r,formatter:n}):n?n(t):String(t)},t.prototype.formatDatum=function(t){return String(t)},t.prototype.computeBBox=function(){return this.axisGroup.computeBBox()},t.prototype.initCrossLine=function(t){t.scale=this.scale,t.gridLength=this.gridLength},t.prototype.isAnySeriesActive=function(){return!1},t.prototype.clipTickLines=function(t,e,i,o){this.tickLineGroup.setClipRectInGroupCoordinateSpace(new BBox(t,e,i,o))},t.prototype.clipGrid=function(t,e,i,o){this.gridGroup.setClipRectInGroupCoordinateSpace(new BBox(t,e,i,o))},t.prototype.calculatePadding=function(t,e){return Math.abs(.01*t)},t.defaultTickMinSpacing=50,__decorate$1D([Validate(BOOLEAN)],t.prototype,"nice",void 0),__decorate$1D([Validate(GRID_STYLE)],t.prototype,"gridStyle",void 0),__decorate$1D([Validate(NUMBER(0))],t.prototype,"thickness",void 0),t}(),__extends$2l=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__read$N=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,n,r=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return s},LinearScale$1=function(t){function e(){var e=t.call(this,[0,1],[0,1])||this;return e.type="linear",e}return __extends$2l(e,t),e.prototype.toDomain=function(t){return t},e.prototype.ticks=function(){var t,e=null!==(t=this.tickCount)&&void 0!==t?t:ContinuousScale.defaultTickCount;if(!this.domain||this.domain.length<2||e<1||this.domain.some((function(t){return!isFinite(t)})))return[];this.refresh();var i=__read$N(this.getDomain(),2),o=i[0],n=i[1],r=this.interval;if(r){var s=Math.abs(r);if(!this.isDenseInterval({start:o,stop:n,interval:s}))return range(o,n,s)}return ticks(o,n,e,this.minTickCount,this.maxTickCount)},e.prototype.update=function(){!this.domain||this.domain.length<2||this.nice&&this.updateNiceDomain()},e.prototype.updateNiceDomain=function(){var t,e,i=null!==(t=this.tickCount)&&void 0!==t?t:ContinuousScale.defaultTickCount,o=__read$N(this.domain,2),n=o[0],r=o[1];if(i<1)this.niceDomain=[n,r];else if(1!==i){for(var s=n,a=r,l=0;l<4;l++){var c=null!==(e=this.interval)&&void 0!==e?e:tickStep(n,r,i,this.minTickCount,this.maxTickCount),u=__read$N(this.domain,2),h=u[0],d=u[1];if(c>=1)n=Math.floor(h/c)*c,r=Math.ceil(d/c)*c;else{var p=1/c;n=Math.floor(h*p)/p,r=Math.ceil(d*p)/p}if(n===s&&r===a)break;s=n,a=r}this.niceDomain=[n,r]}else this.niceDomain=singleTickDomain(n,r)},e.prototype.tickFormat=function(t){var e=t.ticks,i=t.specifier;return tickFormat(e||this.ticks(),i)},e}(ContinuousScale),__extends$2k=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__assign$E=function(){return __assign$E=Object.assign||function(t){for(var e,i=1,o=arguments.length;i<o;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},__assign$E.apply(this,arguments)},__decorate$1C=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},__read$M=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,n,r=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return s},__spread$r=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$M(arguments[e]));return t},__values$o=function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],o=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function flipChartAxisDirection(t){return t===ChartAxisDirection.X?ChartAxisDirection.Y:ChartAxisDirection.X}var ChartAxis=function(t){function e(e,i){var o=t.call(this,i)||this;return o.moduleCtx=e,o.keys=[],o.direction=ChartAxisDirection.Y,o.boundSeries=[],o.includeInvisibleDomains=!1,o.modules={},o._position="left",o}return __extends$2k(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this.constructor.type||""},enumerable:!1,configurable:!0}),e.prototype.useCalculatedTickCount=function(){return this.scale instanceof LinearScale$1},Object.defineProperty(e.prototype,"position",{get:function(){return this._position},set:function(t){if(this._position!==t){switch(this._position=t,t){case"top":this.direction=ChartAxisDirection.X,this.rotation=-90,this.label.mirrored=!0,this.label.parallel=!0;break;case"right":this.direction=ChartAxisDirection.Y,this.rotation=0,this.label.mirrored=!0,this.label.parallel=!1;break;case"bottom":this.direction=ChartAxisDirection.X,this.rotation=-90,this.label.mirrored=!1,this.label.parallel=!0;break;case"left":this.direction=ChartAxisDirection.Y,this.rotation=0,this.label.mirrored=!1,this.label.parallel=!1}this.axisContext&&(this.axisContext.position=t,this.axisContext.direction=this.direction)}},enumerable:!1,configurable:!0}),e.prototype.calculateDomain=function(){var t,e=this,i=e.direction,o=e.boundSeries,n=e.includeInvisibleDomains;if(this.linkedTo)this.dataDomain=this.linkedTo.dataDomain;else{var r=[];o.filter((function(t){return n||t.isEnabled()})).forEach((function(t){r.push(t.getDomain(i))}));var s=(t=new Array).concat.apply(t,__spread$r(r));this.dataDomain=this.normaliseDataDomain(s)}},e.prototype.normaliseDataDomain=function(t){return t},e.prototype.isAnySeriesActive=function(){var t=this;return this.boundSeries.some((function(e){return t.includeInvisibleDomains||e.isEnabled()}))},e.prototype.getLayoutState=function(){return __assign$E({rect:this.computeBBox(),gridPadding:this.gridPadding,seriesAreaPadding:this.seriesAreaPadding,tickSize:this.tick.size},this.layout)},e.prototype.addModule=function(t){var e=this;if(null!=this.modules[t.optionsKey])throw new Error("AG Charts - module already initialised: "+t.optionsKey);if(null==this.axisContext){this.axisContext={axisId:this.id,position:this.position,direction:this.direction,continuous:this.scale instanceof ContinuousScale,keys:function(){return e.boundSeries.map((function(t){return t.getKeys(e.direction)})).reduce((function(t,e){return t.push.apply(t,__spread$r(e)),t}),[])},scaleValueFormatter:function(t){var i,o,n;return null!==(n=null===(o=(i=e.scale).tickFormat)||void 0===o?void 0:o.call(i,{specifier:t}))&&void 0!==n?n:void 0},scaleBandwidth:function(){var t;return null!==(t=e.scale.bandwidth)&&void 0!==t?t:0},scaleConvert:function(t){return e.scale.convert(t)},scaleInvert:function(t){var i,o,n;return null!==(n=null===(o=(i=e.scale).invert)||void 0===o?void 0:o.call(i,t))&&void 0!==n?n:void 0}}}var i=t.initialiseModule(__assign$E(__assign$E({},this.moduleCtx),{parent:this.axisContext}));this.modules[t.optionsKey]=i,this[t.optionsKey]=i.instance},e.prototype.removeModule=function(t){var e,i;null===(i=null===(e=this.modules[t.optionsKey])||void 0===e?void 0:e.instance)||void 0===i||i.destroy(),delete this.modules[t.optionsKey],delete this[t.optionsKey]},e.prototype.isModuleEnabled=function(t){return null!=this.modules[t.optionsKey]},e.prototype.destroy=function(){var e,i;t.prototype.destroy.call(this);try{for(var o=__values$o(Object.entries(this.modules)),n=o.next();!n.done;n=o.next()){var r=__read$M(n.value,2),s=r[0];r[1].instance.destroy(),delete this.modules[s],delete this[s]}}catch(t){e={error:t}}finally{try{n&&!n.done&&(i=o.return)&&i.call(o)}finally{if(e)throw e.error}}},__decorate$1C([Validate(STRING_ARRAY)],e.prototype,"keys",void 0),__decorate$1C([Validate(POSITION)],e.prototype,"_position",void 0),e}(Axis),__extends$2j=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$1B=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},__read$L=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,n,r=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return s},__spread$q=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$L(arguments[e]));return t},CategoryAxis=function(t){function e(e){var i=t.call(this,e,new BandScale$5)||this;return i._paddingOverrideEnabled=!1,i.groupPaddingInner=.1,i.includeInvisibleDomains=!0,i}return __extends$2j(e,t),Object.defineProperty(e.prototype,"paddingInner",{get:function(){return this._paddingOverrideEnabled=!0,this.scale.paddingInner},set:function(t){this._paddingOverrideEnabled=!0,this.scale.paddingInner=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"paddingOuter",{get:function(){return this.scale.paddingOuter},set:function(t){this.scale.paddingOuter=t},enumerable:!1,configurable:!0}),e.prototype.normaliseDataDomain=function(t){var e=new Set(t);return new(Array.bind.apply(Array,__spread$q([void 0],e.values())))},e.prototype.calculateDomain=function(){if(!this._paddingOverrideEnabled){var e=this.boundSeries.map((function(t){var e;return null===(e=t.getBandScalePadding)||void 0===e?void 0:e.call(t)})).filter((function(t){return null!=t}));e.length>0&&(this.scale.paddingInner=Math.min.apply(Math,__spread$q(e.map((function(t){return t.inner})))),this.scale.paddingOuter=Math.max.apply(Math,__spread$q(e.map((function(t){return t.outer})))))}return t.prototype.calculateDomain.call(this)},e.className="CategoryAxis",e.type="category",__decorate$1B([Validate(NUMBER(0,1))],e.prototype,"groupPaddingInner",void 0),e}(ChartAxis),__assign$D=function(){return __assign$D=Object.assign||function(t){for(var e,i=1,o=arguments.length;i<o;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},__assign$D.apply(this,arguments)},__read$K=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,n,r=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return s},__spread$p=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$K(arguments[e]));return t},__values$n=function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],o=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function jsonDiff(t,e){var i,o,n=classify(t),r=classify(e);if("array"===r){var s=e;return"array"!==n||t.length!==s.length||s.some((function(e,i){var o;return null!=jsonDiff(null===(o=t)||void 0===o?void 0:o[i],e)}))?__spread$p(s):null}if("primitive"===r)return"primitive"!==n?__assign$D({},e):t!==e?e:null;var a=t||{},l=e||{},c=new Set(__spread$p(Object.keys(a),Object.keys(l))),u=0,h={},d=function(t){if(a[t]===l[t])return"continue";var e=function(e){h[t]=e,u++},i=classify(a[t]),o=classify(l[t]);if(i!==o)return e(l[t]),"continue";if("primitive"===o||null===o)return e(l[t]),"continue";if("array"===o&&a[t].length!==l[t].length)return e(l[t]),"continue";if("class-instance"===o)return e(l[t]),"continue";if("function"===o&&a[t]!==l[t])return e(l[t]),"continue";var n=jsonDiff(a[t],l[t]);null!==n&&e(n)};try{for(var p=__values$n(c),f=p.next();!f.done;f=p.next()){d(f.value)}}catch(t){i={error:t}}finally{try{f&&!f.done&&(o=p.return)&&o.call(p)}finally{if(i)throw i.error}}return 0===u?null:h}var DELETE=Symbol("<delete-property>"),NOT_SPECIFIED=Symbol("<unspecified-property>");function jsonMerge(t,e){var i,o,n=(null==e?void 0:e.avoidDeepClone)||[];if(t.map((function(t){return classify(t)})).some((function(t){return"array"===t}))){var r=t[t.length-1];return r instanceof Array?r.map((function(t){var i=classify(t);return"array"===i?jsonMerge([[],t],e):"object"===i?jsonMerge([{},t],e):t})):r}var s={},a=new Set(t.map((function(t){return null!=t?Object.keys(t):[]})).reduce((function(t,e){return t.concat(e)}),[])),l=function(i){var o=t.map((function(t){return null!=t&&i in t?t[i]:NOT_SPECIFIED})).filter((function(t){return t!==NOT_SPECIFIED}));if(0===o.length)return"continue";var r=o[o.length-1];if(r===DELETE)return"continue";var a=o.map((function(t){return classify(t)})),l=a[0];if(a.some((function(t){return t!==l})))return s[i]=r,"continue";"array"!==l&&"object"!==l||n.includes(i)?s[i]="array"===l?__spread$p(r):r:s[i]=jsonMerge(o,e)};try{for(var c=__values$n(a),u=c.next();!u.done;u=c.next()){l(u.value)}}catch(t){i={error:t}}finally{try{u&&!u.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}return s}function jsonApply(t,e,i){var o;void 0===i&&(i={});var n=i.path,r=void 0===n?void 0:n,s=i.matcherPath,a=void 0===s?r?r.replace(/(\[[0-9+]+\])/i,"[]"):void 0:s,l=i.skip,c=void 0===l?[]:l,u=i.constructors,h=void 0===u?{}:u,d=i.allowedTypes,p=void 0===d?{}:d,f=i.idx;if(null==t)throw new Error("AG Charts - target is uninitialised: "+(r||"<root>"));if(null==e)return t;var g=t;null!=f&&"_declarationOrder"in g&&(g._declarationOrder=f);var m=classify(t),y=function(n){var s=(a?a+".":"")+n;if(c.indexOf(s)>=0)return"continue";var l=e[n],u=(r?r+".":"")+n,d=g.constructor,f=g[n],y=null!==(o=h[n])&&void 0!==o?o:h[s];try{var v=classify(f),_=classify(l);if("class-instance"===m&&!(n in t)&&!Object.prototype.hasOwnProperty.call(g,n))return Logger.warn("unable to set ["+u+"] in "+(null==d?void 0:d.name)+" - property is unknown"),"continue";var C=p[s]||[v];if("class-instance"===v&&"object"===_);else if(null!=v&&null!=_&&!C.includes(_))return Logger.warn("unable to set ["+u+"] in "+(null==d?void 0:d.name)+" - can't apply type of ["+_+"], allowed types are: ["+C+"]"),"continue";if("array"===_)if(null!=(y=null!=y?y:h[s+"[]"])){var b=l;g[n]=b.map((function(t,e){return jsonApply(new y,t,__assign$D(__assign$D({},i),{path:u,matcherPath:s+"[]",idx:e}))}))}else g[n]=l;else"class-instance"===_?g[n]=l:"object"===_?null!=f?jsonApply(f,l,__assign$D(__assign$D({},i),{path:u,matcherPath:s,idx:void 0})):g[n]=null!=y?jsonApply(new y,l,__assign$D(__assign$D({},i),{path:u,matcherPath:s,idx:void 0})):l:g[n]=l}catch(t){var E=t;return Logger.warn("unable to set ["+u+"] in ["+(null==d?void 0:d.name)+"]; nested error is: "+E.message),"continue"}};for(var v in e)y(v);return t}function jsonWalk(t,e,i){for(var o=[],n=3;n<arguments.length;n++)o[n-3]=arguments[n];var r=classify(t),s=i.skip||[];if("array"!==r){if("object"===r){e.apply(void 0,__spread$p([r,t],o));var a=function(n){if(s.indexOf(n)>=0)return"continue";var r=t[n],a=null==o?void 0:o.map((function(t){return null==t?void 0:t[n]})),l=classify(r);"object"!==l&&"array"!==l||jsonWalk.apply(void 0,__spread$p([r,e,i],a))};for(var l in t)a(l)}}else t.forEach((function(t,n){jsonWalk.apply(void 0,__spread$p([t,e,i],(null!=o?o:[]).map((function(t){return null==t?void 0:t[n]}))))}))}function classify(t){return null==t?null:t instanceof HTMLElement?"primitive":t instanceof Array?"array":t instanceof Date?"primitive":"object"==typeof t&&t.constructor===Object?"object":"function"==typeof t?"function":"object"==typeof t&&null!=t.constructor?"class-instance":"primitive"}var __extends$2i=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$1A=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},__awaiter$d=function(t,e,i,o){return new(i||(i=Promise))((function(n,r){function s(t){try{l(o.next(t))}catch(t){r(t)}}function a(t){try{l(o.throw(t))}catch(t){r(t)}}function l(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(s,a)}l((o=o.apply(t,e||[])).next())}))},__generator$d=function(t,e){var i,o,n,r,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(n=2&r[0]?o.return:r[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,r[1])).done)return n;switch(o=0,n&&(r=[2&r[0],n.value]),r[0]){case 0:case 1:n=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(n=s.trys,(n=n.length>0&&n[n.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!n||r[1]>n[0]&&r[1]<n[3])){s.label=r[1];break}if(6===r[0]&&s.label<n[1]){s.label=n[1],n=r;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(r);break}n[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(t){r=[6,t],o=0}finally{i=n=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},__read$J=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,n,r=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return s},__spread$o=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$J(arguments[e]));return t},__values$m=function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],o=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},_a,DEFAULT_DIRECTION_KEYS=(_a={},_a[ChartAxisDirection.X]=["xKey"],_a[ChartAxisDirection.Y]=["yKey"],_a),CartesianSeriesNodeBaseClickEvent=function(t){function e(e,i,o,n,r){var s=t.call(this,o,n,r)||this;return s.xKey=e,s.yKey=i,s}return __extends$2i(e,t),e}(SeriesNodeBaseClickEvent),CartesianSeriesNodeClickEvent=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="nodeClick",e}return __extends$2i(e,t),e}(CartesianSeriesNodeBaseClickEvent),CartesianSeriesNodeDoubleClickEvent=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="nodeDoubleClick",e}return __extends$2i(e,t),e}(CartesianSeriesNodeBaseClickEvent),CartesianSeries=function(t){function e(e){var i;void 0===e&&(e={});var o=t.call(this,{useSeriesGroupLayer:!0,pickModes:e.pickModes,directionKeys:null!==(i=e.directionKeys)&&void 0!==i?i:DEFAULT_DIRECTION_KEYS})||this;o._contextNodeData=[],o.nodeDataDependencies={},o.highlightSelection=Selection.select(o.highlightNode,(function(){return o.opts.hasMarkers?o.markerFactory():o.nodeFactory()})),o.highlightLabelSelection=Selection.select(o.highlightLabel,Text),o.subGroups=[],o.subGroupId=0,o.seriesItemEnabled=new Map;var n=e.pathsPerSeries,r=void 0===n?1:n,s=e.hasMarkers,a=void 0!==s&&s,l=e.pathsZIndexSubOrderOffset,c=void 0===l?[]:l,u=e.renderLayerPerSubSeries,h=void 0===u||u;return o.opts={pathsPerSeries:r,hasMarkers:a,pathsZIndexSubOrderOffset:c,renderLayerPerSubSeries:h},o}return __extends$2i(e,t),Object.defineProperty(e.prototype,"contextNodeData",{get:function(){var t;return null===(t=this._contextNodeData)||void 0===t?void 0:t.slice()},enumerable:!1,configurable:!0}),e.prototype.destroy=function(){t.prototype.destroy.call(this),this._contextNodeData.splice(0,this._contextNodeData.length),this.subGroups.splice(0,this.subGroups.length)},e.prototype.checkDomainXY=function(t,e,i,o){return(i&&isContinuous(t)||!i&&isDiscrete(t))&&(o&&isContinuous(e)||!o&&isDiscrete(e))?[t,e]:void 0},e.prototype.checkRangeXY=function(t,e,i,o){return!isNaN(t)&&!isNaN(e)&&i.inRange(t)&&o.inRange(e)},e.prototype.update=function(t){var e,i,o=t.seriesRect;return __awaiter$d(this,void 0,void 0,(function(){var t,n,r,s,a,l,c;return __generator$d(this,(function(u){switch(u.label){case 0:return n=(t=this).seriesItemEnabled,r=t.visible,s=(null!==(i=null===(e=this.highlightManager)||void 0===e?void 0:e.getActiveHighlight())&&void 0!==i?i:{}).series,a=s?s===this:void 0,l=r&&0===n.size||__spread$o(n.values()).some((function(t){return!0===t})),c={seriesRectWidth:null==o?void 0:o.width,seriesRectHeight:null==o?void 0:o.height},null!=jsonDiff(this.nodeDataDependencies,c)&&(this.nodeDataDependencies=c,this.markNodeDataDirty()),[4,this.updateSelections(a,l)];case 1:return u.sent(),[4,this.updateNodes(a,l)];case 2:return u.sent(),[2]}}))}))},e.prototype.updateSelections=function(t,e){return __awaiter$d(this,void 0,void 0,(function(){var i,o=this;return __generator$d(this,(function(n){switch(n.label){case 0:return[4,this.updateHighlightSelection(t)];case 1:return n.sent(),e?this.nodeDataRefresh||this.isPathOrSelectionDirty()?this.nodeDataRefresh?(this.nodeDataRefresh=!1,i=this,[4,this.createNodeData()]):[3,4]:[2]:[2];case 2:return i._contextNodeData=n.sent(),[4,this.updateSeriesGroups()];case 3:n.sent(),n.label=4;case 4:return[4,Promise.all(this.subGroups.map((function(e,i){return o.updateSeriesGroupSelections(e,i,t)})))];case 5:return n.sent(),[2]}}))}))},e.prototype.updateSeriesGroupSelections=function(t,e,i){return __awaiter$d(this,void 0,void 0,(function(){var o,n,r,s,a,l,c,u,h,d,p;return __generator$d(this,(function(f){switch(f.label){case 0:return o=t.datumSelection,n=t.labelSelection,r=t.markerSelection,s=t.paths,a=this._contextNodeData[e],l=a.nodeData,c=a.labelData,u=a.itemId,[4,this.updatePaths({seriesHighlighted:i,itemId:u,contextData:a,paths:s,seriesIdx:e})];case 1:return f.sent(),h=t,[4,this.updateDatumSelection({nodeData:l,datumSelection:o,seriesIdx:e})];case 2:return h.datumSelection=f.sent(),d=t,[4,this.updateLabelSelection({labelData:c,labelSelection:n,seriesIdx:e})];case 3:return d.labelSelection=f.sent(),r?(p=t,[4,this.updateMarkerSelection({nodeData:l,markerSelection:r,seriesIdx:e})]):[3,5];case 4:p.markerSelection=f.sent(),f.label=5;case 5:return[2]}}))}))},e.prototype.nodeFactory=function(){return new Group},e.prototype.markerFactory=function(){return new(getMarker$1())},e.prototype.updateSeriesGroups=function(){var t;return __awaiter$d(this,void 0,void 0,(function(){var e,i,o,n,r,s,a,l,c,u,h,d,p,f,g,m,y,v,_,C=this;return __generator$d(this,(function(b){if(i=(e=this)._contextNodeData,o=e.contentGroup,n=e.subGroups,r=e.opts,s=r.pathsPerSeries,a=r.hasMarkers,l=r.pathsZIndexSubOrderOffset,c=r.renderLayerPerSubSeries,i.length===n.length)return[2];for(i.length<n.length&&n.splice(i.length).forEach((function(t){var e,i,n=t.dataNodeGroup,r=t.markerGroup,s=t.labelGroup,a=t.paths;o.removeChild(n),r&&o.removeChild(r),s&&o.removeChild(s);try{for(var l=__values$m(a),c=l.next();!c.done;c=l.next()){var u=c.value;o.removeChild(u)}}catch(t){e={error:t}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(e)throw e.error}}})),u=i.length;u>n.length;){for(h=c,d=this.subGroupId++,p=d,f=new Group({name:this.id+"-series-sub"+d+"-dataNodes",layer:h,zIndex:Layers.SERIES_LAYER_ZINDEX,zIndexSubOrder:[function(){return C._declarationOrder},p]}),g=a?new Group({name:this.id+"-series-sub"+this.subGroupId+++"-markers",layer:h,zIndex:Layers.SERIES_LAYER_ZINDEX,zIndexSubOrder:[function(){return C._declarationOrder},1e4+d]}):void 0,m=new Group({name:this.id+"-series-sub"+this.subGroupId+++"-labels",layer:h,zIndex:Layers.SERIES_LABEL_ZINDEX,zIndexSubOrder:[function(){return C._declarationOrder},d]}),o.appendChild(f),o.appendChild(m),g&&o.appendChild(g),y=c?f:o,v=[],_=0;_<s;_++)v[_]=new Path,v[_].zIndex=Layers.SERIES_LAYER_ZINDEX,v[_].zIndexSubOrder=[function(){return C._declarationOrder},(null!==(t=l[_])&&void 0!==t?t:0)+p],y.appendChild(v[_]);n.push({paths:v,dataNodeGroup:f,markerGroup:g,labelGroup:m,labelSelection:Selection.select(m,Text),datumSelection:Selection.select(f,(function(){return C.nodeFactory()})),markerSelection:g?Selection.select(g,(function(){return C.markerFactory()})):void 0})}return[2]}))}))},e.prototype.updateNodes=function(t,e){var i;return __awaiter$d(this,void 0,void 0,(function(){var o,n,r,s,a,l,c,u,h,d,p,f,g=this;return __generator$d(this,(function(m){switch(m.label){case 0:return n=(o=this).highlightSelection,r=o.highlightLabelSelection,s=o._contextNodeData,a=o.seriesItemEnabled,l=o.opts,c=l.hasMarkers,u=l.renderLayerPerSubSeries,h=this.visible&&(null===(i=this._contextNodeData)||void 0===i?void 0:i.length)>0&&e,this.rootGroup.visible=h,this.contentGroup.visible=h,this.highlightGroup.visible=h&&!!t,d=this.getOpacity(),p=this.subGroups.map((function(t,e){var i=s[e].itemId;return g.getOpacity({itemId:i})})),f=p.some((function(t){return t!==d})),this.contentGroup.opacity=f?1:d,c?[4,this.updateMarkerNodes({markerSelection:n,isHighlight:!0,seriesIdx:-1})]:[3,2];case 1:return m.sent(),[3,4];case 2:return[4,this.updateDatumNodes({datumSelection:n,isHighlight:!0,seriesIdx:-1})];case 3:m.sent(),m.label=4;case 4:return[4,this.updateLabelNodes({labelSelection:r,seriesIdx:-1})];case 5:return m.sent(),[4,Promise.all(this.subGroups.map((function(e,i){return __awaiter$d(g,void 0,void 0,(function(){var o,n,r,l,d,g,m,y,v,_,C,b,E,S,w,O;return __generator$d(this,(function(x){switch(x.label){case 0:o=e.dataNodeGroup,n=e.markerGroup,r=e.datumSelection,l=e.labelSelection,d=e.markerSelection,g=e.paths,m=e.labelGroup,y=s[i].itemId,v=h&&(null===(O=a.get(y))||void 0===O||O),_=f?p[i]:1,o.opacity=_,o.visible=v,m.visible=v,n&&(n.opacity=_,n.zIndex=o.zIndex>=Layers.SERIES_LAYER_ZINDEX?o.zIndex:o.zIndex+1,n.visible=v),m&&(m.opacity=_);try{for(C=__values$m(g),b=C.next();!b.done;b=C.next())E=b.value,u||(E.opacity=_,E.visible=v)}catch(t){S={error:t}}finally{try{b&&!b.done&&(w=C.return)&&w.call(C)}finally{if(S)throw S.error}}return o.visible?[4,this.updatePathNodes({seriesHighlighted:t,itemId:y,paths:g,seriesIdx:i})]:[2];case 1:return x.sent(),[4,this.updateDatumNodes({datumSelection:r,isHighlight:!1,seriesIdx:i})];case 2:return x.sent(),[4,this.updateLabelNodes({labelSelection:l,seriesIdx:i})];case 3:return x.sent(),c&&d?[4,this.updateMarkerNodes({markerSelection:d,isHighlight:!1,seriesIdx:i})]:[3,5];case 4:x.sent(),x.label=5;case 5:return[2]}}))}))})))];case 6:return m.sent(),[2]}}))}))},e.prototype.updateHighlightSelection=function(t){var e;return __awaiter$d(this,void 0,void 0,(function(){var i,o,n,r,s,a,l,c,u,h,d,p,f,g,m,y;return __generator$d(this,(function(v){switch(v.label){case 0:return o=(i=this).highlightSelection,n=i.highlightLabelSelection,r=i._contextNodeData,s=null===(e=this.highlightManager)||void 0===e?void 0:e.getActiveHighlight(),a=t&&(null==s?void 0:s.datum)?s:void 0,l=this,[4,this.updateHighlightSelectionItem({item:a,highlightSelection:o})];case 1:if(l.highlightSelection=v.sent(),this.isLabelEnabled()&&null!=a){u=a.itemId,h=void 0===u?void 0:u;try{for(d=__values$m(r),p=d.next();!p.done&&(f=p.value.labelData,null==(c=f.find((function(t){return t.datum===a.datum&&t.itemId===h}))));p=d.next());}catch(t){m={error:t}}finally{try{p&&!p.done&&(y=d.return)&&y.call(d)}finally{if(m)throw m.error}}}return g=this,[4,this.updateHighlightSelectionLabel({item:c,highlightLabelSelection:n})];case 2:return g.highlightLabelSelection=v.sent(),[2]}}))}))},e.prototype.pickNodeExactShape=function(e){var i,o,n=t.prototype.pickNodeExactShape.call(this,e);if(n)return n;var r=e.x,s=e.y,a=this.opts.hasMarkers;try{for(var l=__values$m(this.subGroups),c=l.next();!c.done;c=l.next()){var u=c.value,h=u.dataNodeGroup,d=u.markerGroup,p=h.pickNode(r,s);if(!p&&a&&(p=null==d?void 0:d.pickNode(r,s)),p)return{datum:p.datum,distance:0}}}catch(t){i={error:t}}finally{try{c&&!c.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}},e.prototype.pickNodeClosestDatum=function(t){var e,i,o,n,r,s,a,l=t.x,c=t.y,u=this,h=u.xAxis,d=u.yAxis,p=u.rootGroup,f=u._contextNodeData,g=p.transformPoint(l,c),m=1/0;try{for(var y=__values$m(f),v=y.next();!v.done;v=y.next()){var _=v.value;try{for(var C=(o=void 0,__values$m(_.nodeData)),b=C.next();!b.done;b=C.next()){var E,S=b.value,w=S.point,O=void 0===w?{}:w,x=O.x,P=void 0===x?NaN:x,T=O.y,M=void 0===T?NaN:T;if(!isNaN(P)&&!isNaN(M))if((null==h?void 0:h.inRange(P))&&(null==d?void 0:d.inRange(M)))(E=Math.max(Math.pow(g.x-P,2)+Math.pow(g.y-M,2),0))<m&&(m=E,a=S)}}catch(t){o={error:t}}finally{try{b&&!b.done&&(n=C.return)&&n.call(C)}finally{if(o)throw o.error}}}}catch(t){e={error:t}}finally{try{v&&!v.done&&(i=y.return)&&i.call(y)}finally{if(e)throw e.error}}if(a)return{datum:a,distance:E=Math.max(Math.sqrt(m)-(null!==(s=null===(r=a.point)||void 0===r?void 0:r.size)&&void 0!==s?s:0),0)}},e.prototype.pickNodeMainAxisFirst=function(t,e){var i,o,n,r,s,a,l=t.x,c=t.y,u=this,h=u.xAxis,d=u.yAxis,p=u.rootGroup,f=u._contextNodeData,g=[h,d].filter((function(t){return t instanceof CategoryAxis})).map((function(t){return t.direction}));if(!e||0!==g.length){var m=__read$J(g,1)[0],y=void 0===m?ChartAxisDirection.X:m,v=p.transformPoint(l,c),_=y===ChartAxisDirection.X?[v.x,v.y]:[v.y,v.x],C=[1/0,1/0],b=void 0;try{for(var E=__values$m(f),S=E.next();!S.done;S=E.next()){var w=S.value;try{for(var O=(n=void 0,__values$m(w.nodeData)),x=O.next();!x.done;x=O.next()){var P=x.value,T=P.point,M=void 0===T?{}:T,D=M.x,A=void 0===D?NaN:D,R=M.y,L=void 0===R?NaN:R;if(!isNaN(A)&&!isNaN(L))if((null==h?void 0:h.inRange(A))&&(null==d?void 0:d.inRange(L))){for(var I=y===ChartAxisDirection.X?[A,L]:[L,A],N=!0,k=0;k<I.length;k++){var F=Math.abs(I[k]-_[k]);if(F>C[k]){N=!1;break}F<C[k]&&(C[k]=F,C.fill(1/0,k+1,C.length))}N&&(b=P)}}}catch(t){n={error:t}}finally{try{x&&!x.done&&(r=O.return)&&r.call(O)}finally{if(n)throw n.error}}}}catch(t){i={error:t}}finally{try{S&&!S.done&&(o=E.return)&&o.call(E)}finally{if(i)throw i.error}}if(b)return{datum:b,distance:Math.max(Math.sqrt(Math.pow(C[0],2)+Math.pow(C[1],2))-(null!==(a=null===(s=b.point)||void 0===s?void 0:s.size)&&void 0!==a?a:0),0)}}},e.prototype.toggleSeriesItem=function(e,i){this.seriesItemEnabled.size>0?(this.seriesItemEnabled.set(e,i),this.nodeDataRefresh=!0):t.prototype.toggleSeriesItem.call(this,e,i)},e.prototype.isEnabled=function(){var e,i;if(this.seriesItemEnabled.size>0){try{for(var o=__values$m(this.seriesItemEnabled),n=o.next();!n.done;n=o.next()){if(__read$J(n.value,2)[1])return!0}}catch(t){e={error:t}}finally{try{n&&!n.done&&(i=o.return)&&i.call(o)}finally{if(e)throw e.error}}return!1}return t.prototype.isEnabled.call(this)},e.prototype.isPathOrSelectionDirty=function(){return!1},e.prototype.getLabelData=function(){return[]},e.prototype.isAnySeriesVisible=function(){var t,e;try{for(var i=__values$m(this.seriesItemEnabled.values()),o=i.next();!o.done;o=i.next()){if(o.value)return!0}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}return!1},e.prototype.validateXYData=function(t,e,i,o,n,r,s,a){var l;if(void 0===a&&(a=1),"integrated"===(null===(l=this.chart)||void 0===l?void 0:l.mode))return!0;if(!o||!n||0===i.length||this.seriesItemEnabled.size>0&&!this.isAnySeriesVisible())return!0;var c=function(t,e,i){return void 0===e&&(e=0),void 0===i&&(i=0),t.some(e===i?function(t){return isContinuous(t)}:function(t){return c(t,e+1,i)})},u=o.scale instanceof ContinuousScale,h=n.scale instanceof ContinuousScale,d=!0;return u&&!c(r)&&(Logger.warnOnce("the number axis has no numeric data supplied for xKey: ["+t+"]."),d=!1),h&&!c(s,0,a-1)&&(Logger.warnOnce("the number axis has no numeric data supplied for yKey: ["+e+"]."),d=!1),d},e.prototype.updatePaths=function(t){return __awaiter$d(this,void 0,void 0,(function(){return __generator$d(this,(function(e){return t.paths.forEach((function(t){return t.visible=!1})),[2]}))}))},e.prototype.updatePathNodes=function(t){return __awaiter$d(this,void 0,void 0,(function(){return __generator$d(this,(function(t){return[2]}))}))},e.prototype.updateHighlightSelectionItem=function(t){return __awaiter$d(this,void 0,void 0,(function(){var e,i,o,n,r;return __generator$d(this,(function(s){return e=this.opts.hasMarkers,i=t.item,o=t.highlightSelection,n=i?[i]:[],e?(r=o,[2,this.updateMarkerSelection({nodeData:n,markerSelection:r,seriesIdx:-1})]):[2,this.updateDatumSelection({nodeData:n,datumSelection:o,seriesIdx:-1})]}))}))},e.prototype.updateHighlightSelectionLabel=function(t){return __awaiter$d(this,void 0,void 0,(function(){var e,i,o;return __generator$d(this,(function(n){return e=t.item,i=t.highlightLabelSelection,o=e?[e]:[],[2,this.updateLabelSelection({labelData:o,labelSelection:i,seriesIdx:-1})]}))}))},e.prototype.updateDatumSelection=function(t){return __awaiter$d(this,void 0,void 0,(function(){return __generator$d(this,(function(e){return[2,t.datumSelection]}))}))},e.prototype.updateDatumNodes=function(t){return __awaiter$d(this,void 0,void 0,(function(){return __generator$d(this,(function(t){return[2]}))}))},e.prototype.updateMarkerSelection=function(t){return __awaiter$d(this,void 0,void 0,(function(){return __generator$d(this,(function(e){return[2,t.markerSelection]}))}))},e.prototype.updateMarkerNodes=function(t){return __awaiter$d(this,void 0,void 0,(function(){return __generator$d(this,(function(t){return[2]}))}))},e}(Series),CartesianSeriesMarker=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.formatter=void 0,e}return __extends$2i(e,t),__decorate$1A([Validate(OPT_FUNCTION),SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"formatter",void 0),e}(SeriesMarker);function sleep(t){return new Promise((function(e){setTimeout((function(){return e(void 0)}),t)}))}var __decorate$1z=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},Overlay=function(){function t(t,e){this.renderer=void 0,this.text=void 0,this.className=t,this.parentElement=e}return t.prototype.show=function(t){var e,i,o=this.element;if(this.element||((o=document.createElement("div")).className=this.className,this.element=o),o.style.position="absolute",o.style.left=t.x+"px",o.style.top=t.y+"px",o.style.width=t.width+"px",o.style.height=t.height+"px",this.renderer)this.element.innerHTML=this.renderer();else{var n=document.createElement("div");n.style.alignItems="center",n.style.boxSizing="border-box",n.style.display="flex",n.style.justifyContent="center",n.style.margin="8px",n.style.height="100%",n.style.font="12px Verdana, sans-serif",n.innerText=null!==(e=this.text)&&void 0!==e?e:"No data to display",o.append(n)}null===(i=this.parentElement)||void 0===i||i.append(o)},t.prototype.hide=function(){var t;null===(t=this.element)||void 0===t||t.remove(),this.element=void 0},__decorate$1z([Validate(OPT_FUNCTION)],t.prototype,"renderer",void 0),__decorate$1z([Validate(OPT_STRING)],t.prototype,"text",void 0),t}(),ChartOverlays=function(t){this.noData=new Overlay("ag-chart-no-data-overlay",t)},__read$I=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,n,r=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return s},__spread$n=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$I(arguments[e]));return t},__values$l=function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],o=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Listeners=function(){function t(){this.registeredListeners={}}return t.prototype.addListener=function(t,e){var i,o=Symbol(t);return this.registeredListeners[t]||(this.registeredListeners[t]=[]),null===(i=this.registeredListeners[t])||void 0===i||i.push({symbol:o,handler:e}),o},t.prototype.dispatch=function(t){for(var e,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];return(null!==(e=this.registeredListeners[t])&&void 0!==e?e:[]).map((function(t){return t.handler.apply(t,__spread$n(i))}))},t.prototype.cancellableDispatch=function(t,e){for(var i,o,n,r=[],s=2;s<arguments.length;s++)r[s-2]=arguments[s];var a=null!==(n=this.registeredListeners[t])&&void 0!==n?n:[],l=[];try{for(var c=__values$l(a),u=c.next();!u.done;u=c.next()){var h=u.value;if(e())break;l.push(h.handler.apply(h,__spread$n(r)))}}catch(t){i={error:t}}finally{try{u&&!u.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}return l},t.prototype.reduceDispatch=function(t,e){for(var i,o,n,r=[],s=2;s<arguments.length;s++)r[s-2]=arguments[s];var a=null!==(n=this.registeredListeners[t])&&void 0!==n?n:[],l=void 0;try{for(var c=__values$l(a),u=c.next();!u.done;u=c.next()){var h=u.value;l=h.handler.apply(h,__spread$n(r)),r=e.apply(void 0,__spread$n([l],r))}}catch(t){i={error:t}}finally{try{u&&!u.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}return l},t.prototype.removeListener=function(t){for(var e in this.registeredListeners){var i=this.registeredListeners[e],o=null==i?void 0:i.findIndex((function(e){return e.symbol===t}));null!=o&&o>=0&&(null==i||i.splice(o,1)),null!=o&&0===(null==i?void 0:i.length)&&delete this.registeredListeners[e]}},t}(),BaseManager=function(){function t(){this.listeners=new Listeners}return t.prototype.addListener=function(t,e){return this.listeners.addListener(t,e)},t.prototype.removeListener=function(t){this.listeners.removeListener(t)},t}(),__extends$2h=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__assign$C=function(){return __assign$C=Object.assign||function(t){for(var e,i=1,o=arguments.length;i<o;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},__assign$C.apply(this,arguments)},__awaiter$c=function(t,e,i,o){return new(i||(i=Promise))((function(n,r){function s(t){try{l(o.next(t))}catch(t){r(t)}}function a(t){try{l(o.throw(t))}catch(t){r(t)}}function l(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(s,a)}l((o=o.apply(t,e||[])).next())}))},__generator$c=function(t,e){var i,o,n,r,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(n=2&r[0]?o.return:r[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,r[1])).done)return n;switch(o=0,n&&(r=[2&r[0],n.value]),r[0]){case 0:case 1:n=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(n=s.trys,(n=n.length>0&&n[n.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!n||r[1]>n[0]&&r[1]<n[3])){s.label=r[1];break}if(6===r[0]&&s.label<n[1]){s.label=n[1],n=r;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(r);break}n[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(t){r=[6,t],o=0}finally{i=n=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},__values$k=function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],o=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},WINDOW_EVENT_HANDLERS=["pagehide","mousemove","mouseup","wheel"],EVENT_HANDLERS=["click","dblclick","contextmenu","mousedown","mouseout","mouseenter","touchstart","touchmove","touchend","touchcancel"],CSS="\n.ag-chart-wrapper {\n    touch-action: none;\n}\n",InteractionManager=function(t){function e(i,o){var n,r,s,a;void 0===o&&(o=document);var l=t.call(this)||this;l.eventHandler=function(t){return l.processEvent(t)},l.mouseDown=!1,l.touchDown=!1,l.rootElement=o.body,l.element=i;try{for(var c=__values$k(EVENT_HANDLERS),u=c.next();!u.done;u=c.next()){(p=u.value).startsWith("touch")?i.addEventListener(p,l.eventHandler,{passive:!0}):i.addEventListener(p,l.eventHandler)}}catch(t){n={error:t}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}try{for(var h=__values$k(WINDOW_EVENT_HANDLERS),d=h.next();!d.done;d=h.next()){var p=d.value;window.addEventListener(p,l.eventHandler)}}catch(t){s={error:t}}finally{try{d&&!d.done&&(a=h.return)&&a.call(h)}finally{if(s)throw s.error}}if(e.interactionDocuments.indexOf(o)<0){var f=document.createElement("style");f.innerHTML=CSS,document.head.insertBefore(f,document.head.querySelector("style")),e.interactionDocuments.push(o)}return l}return __extends$2h(e,t),e.prototype.destroy=function(){var t,e,i,o;try{for(var n=__values$k(WINDOW_EVENT_HANDLERS),r=n.next();!r.done;r=n.next()){var s=r.value;window.removeEventListener(s,this.eventHandler)}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}try{for(var a=__values$k(EVENT_HANDLERS),l=a.next();!l.done;l=a.next()){s=l.value;this.element.removeEventListener(s,this.eventHandler)}}catch(t){i={error:t}}finally{try{l&&!l.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}},e.prototype.processEvent=function(t){var e=this.decideInteractionEventTypes(t);e.length>0&&this.dispatchEvent(t,e)},e.prototype.dispatchEvent=function(t,e){return __awaiter$c(this,void 0,void 0,(function(){var i,o,n,r,s,a,l,c;return __generator$c(this,(function(u){if(null==(i=this.calculateCoordinates(t)))return[2];o=function(e){var o=n.buildEvent(__assign$C(__assign$C({event:t},i),{type:e}));n.listeners.cancellableDispatch(e,(function(){return o.consumed}),o)},n=this;try{for(r=__values$k(e),s=r.next();!s.done;s=r.next())a=s.value,o(a)}catch(t){l={error:t}}finally{try{s&&!s.done&&(c=r.return)&&c.call(r)}finally{if(l)throw l.error}}return[2]}))}))},e.prototype.decideInteractionEventTypes=function(t){switch(t.type){case"click":return["click"];case"dblclick":return["dblclick"];case"contextmenu":return["contextmenu"];case"mousedown":return this.mouseDown=!0,this.dragStartElement=t.target,["drag-start"];case"touchstart":return this.touchDown=!0,this.dragStartElement=t.target,["drag-start"];case"touchmove":case"mousemove":return this.mouseDown||this.touchDown||this.isEventOverElement(t)?this.mouseDown||this.touchDown?["drag"]:["hover"]:[];case"mouseup":return this.mouseDown||this.isEventOverElement(t)?(this.mouseDown=!1,this.dragStartElement=void 0,["drag-end"]):[];case"touchend":return this.touchDown||this.isEventOverElement(t)?(this.touchDown=!1,this.dragStartElement=void 0,["drag-end"]):[];case"mouseout":case"touchcancel":return["leave"];case"mouseenter":var e=t instanceof MouseEvent&&1==(1&t.buttons);return this.mouseDown!==e?(this.mouseDown=e,[e?"drag-start":"drag-end"]):[];case"pagehide":return["page-left"];case"wheel":return["wheel"]}return[]},e.prototype.isEventOverElement=function(t){var e;return t.target===this.element||(null===(e=t.target)||void 0===e?void 0:e.parentElement)===this.element},e.prototype.calculateCoordinates=function(t){var i;if(t instanceof MouseEvent){var o=t.clientX,n=t.clientY,r=t.pageX,s=t.pageY,a=t.offsetX,l=t.offsetY;return this.fixOffsets(t,{clientX:o,clientY:n,pageX:r,pageY:s,offsetX:a,offsetY:l})}if("undefined"!=typeof TouchEvent&&t instanceof TouchEvent){var c=null!==(i=t.touches[0])&&void 0!==i?i:t.changedTouches[0];o=c.clientX,n=c.clientY,r=c.pageX,s=c.pageY;return __assign$C(__assign$C({},e.NULL_COORDS),{clientX:o,clientY:n,pageX:r,pageY:s})}if(t instanceof PageTransitionEvent){if(t.persisted)return;return e.NULL_COORDS}},e.prototype.fixOffsets=function(t,e){var i=function(t){for(var e=0,i=0;t;)e+=t.offsetLeft,i+=t.offsetTop,t=t.offsetParent;return{x:e,y:i}};if(null!=this.dragStartElement&&t.target!==this.dragStartElement){var o=i(this.dragStartElement),n=i(t.target);e.offsetX-=o.x-n.x,e.offsetY-=o.y-n.y}return e},e.prototype.buildEvent=function(t){var e=t.type,i=t.event,o=t.clientX,n=t.clientY,r=t.offsetX,s=t.offsetY,a=t.pageX,l=t.pageY;if(!isNumber$4(r)||!isNumber$4(s)){var c=this.element.getBoundingClientRect();r=o-c.left,s=n-c.top}if(!isNumber$4(a)||!isNumber$4(l)){var u=this.rootElement.getBoundingClientRect();a=o-u.left,l=n-u.top}var h={type:e,offsetX:r,offsetY:s,pageX:a,pageY:l,sourceEvent:i,consumed:!1,consume:function(){return h.consumed=!0}};return h},e.interactionDocuments=[],e.NULL_COORDS={clientX:-1/0,clientY:-1/0,pageX:-1/0,pageY:-1/0,offsetX:-1/0,offsetY:-1/0},e}(BaseManager),__read$H=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,n,r=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return s},CursorManager=function(){function t(t){this.states={},this.element=t}return t.prototype.updateCursor=function(t,e){delete this.states[t],null!=e&&(this.states[t]={style:e}),this.applyStates()},t.prototype.applyStates=function(){var t="default";Object.entries(this.states).reverse().slice(0,1).forEach((function(e){var i=__read$H(e,2);i[0];var o=i[1].style;return t=o})),this.element.style.cursor=t},t}(),__extends$2g=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__read$G=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,n,r=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return s};function isEqual$1(t,e){return t===e||(null==t?void 0:t.series)===(null==e?void 0:e.series)&&((null==t?void 0:t.itemId)===(null==e?void 0:e.itemId)&&(null==t?void 0:t.datum)===(null==e?void 0:e.datum))}var HighlightManager=function(t){function e(){var e=t.call(this)||this;return e.states={},e.activeHighlight=void 0,e}return __extends$2g(e,t),e.prototype.updateHighlight=function(t,e){delete this.states[t],null!=e&&(this.states[t]={highlightedDatum:e}),this.applyStates()},e.prototype.getActiveHighlight=function(){return this.activeHighlight},e.prototype.applyStates=function(){var t=this.activeHighlight,e=void 0;if(Object.entries(this.states).reverse().slice(0,1).forEach((function(t){var i=__read$G(t,2);i[0];var o=i[1].highlightedDatum;return e=o})),this.activeHighlight=e,!isEqual$1(t,this.activeHighlight)){var i={type:"highlight-change",previousHighlight:t,currentHighlight:this.activeHighlight};this.listeners.dispatch("highlight-change",i)}},e}(BaseManager),__values$j=function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],o=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},__read$F=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,n,r=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return s},TooltipManager=function(){function t(t,e){var i=this;this.states={},this.exclusiveAreas={},this.destroyFns=[],this.tooltip=t;var o=e.addListener("hover",(function(t){return i.checkExclusiveRects(t)}));this.destroyFns.push((function(){return e.removeListener(o)}))}return t.prototype.updateTooltip=function(t,e,i){var o;null==i&&(i=null===(o=this.states[t])||void 0===o?void 0:o.content),this.states[t]={content:i,meta:e},this.applyStates()},t.prototype.updateExclusiveRect=function(t,e){e?this.exclusiveAreas[t]=e:delete this.exclusiveAreas[t]},t.prototype.removeTooltip=function(t){delete this.states[t],this.applyStates()},t.prototype.getTooltipMeta=function(t){var e;return null===(e=this.states[t])||void 0===e?void 0:e.meta},t.prototype.destroy=function(){var t,e;try{for(var i=__values$j(this.destroyFns),o=i.next();!o.done;o=i.next()){(0,o.value)()}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}},t.prototype.checkExclusiveRects=function(t){var e,i,o;try{for(var n=__values$j(Object.entries(this.exclusiveAreas)),r=n.next();!r.done;r=n.next()){var s=__read$F(r.value,2),a=s[0];if(s[1].containsPoint(t.offsetX,t.offsetY)){o=a;break}}}catch(t){e={error:t}}finally{try{r&&!r.done&&(i=n.return)&&i.call(n)}finally{if(e)throw e.error}}o!==this.appliedExclusiveArea&&(this.appliedExclusiveArea=o,this.applyStates())},t.prototype.applyStates=function(){var t,e=this,i=this.appliedExclusiveArea?[this.appliedExclusiveArea]:Object.keys(this.states),o=void 0,n=void 0;if(i.reverse().slice(0,1).forEach((function(t){var i,r=null!==(i=e.states[t])&&void 0!==i?i:{},s=r.content,a=r.meta;o=s,n=a})),void 0===n||void 0===o)return this.appliedState=void 0,void this.tooltip.toggle(!1);if((null===(t=this.appliedState)||void 0===t?void 0:t.content)===o){var r=this.tooltip.isVisible();this.tooltip.show(n,void 0,r)}else this.tooltip.show(n,o);this.appliedState={content:o,meta:n}},t}(),__extends$2f=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__assign$B=function(){return __assign$B=Object.assign||function(t){for(var e,i=1,o=arguments.length;i<o;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},__assign$B.apply(this,arguments)},__values$i=function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],o=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},__read$E=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,n,r=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return s};function isEqual(t,e){var i,o,n,r,s,a,l,c;return t===e||(null===(i=null==t?void 0:t.x)||void 0===i?void 0:i.min)===(null===(o=null==e?void 0:e.x)||void 0===o?void 0:o.min)&&((null===(n=null==t?void 0:t.x)||void 0===n?void 0:n.max)===(null===(r=null==e?void 0:e.x)||void 0===r?void 0:r.max)&&((null===(s=null==t?void 0:t.y)||void 0===s?void 0:s.max)===(null===(a=null==e?void 0:e.y)||void 0===a?void 0:a.max)&&(null===(l=null==t?void 0:t.y)||void 0===l?void 0:l.min)===(null===(c=null==e?void 0:e.y)||void 0===c?void 0:c.min)))}var ZoomManager=function(t){function e(){var e=t.call(this)||this;return e.states={},e.currentZoom=void 0,e}return __extends$2f(e,t),e.prototype.updateZoom=function(t,e){delete this.states[t],null!=e&&(this.states[t]=__assign$B({},e)),this.applyStates()},e.prototype.getZoom=function(){return this.currentZoom},e.prototype.applyStates=function(){var t,e,i=this.currentZoom,o={};try{for(var n=__values$i(Object.entries(this.states)),r=n.next();!r.done;r=n.next()){var s=__read$E(r.value,2),a=(s[0],s[1]),l=a.x,c=a.y;o.x=null!=l?l:o.x,o.y=null!=c?c:o.y}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}if(this.currentZoom=null!=o.x||null!=o.y?o:void 0,!isEqual(i,this.currentZoom)){var u=__assign$B({type:"zoom-change"},null!=i?i:{});this.listeners.dispatch("zoom-change",u)}},e}(BaseManager),__assign$A=function(){return __assign$A=Object.assign||function(t){for(var e,i=1,o=arguments.length;i<o;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},__assign$A.apply(this,arguments)};function isLayoutStage(t){return"layout-complete"!==t}function isLayoutComplete(t){return"layout-complete"===t}var LayoutService=function(){function t(){this.layoutProcessors=new Listeners,this.listeners=new Listeners}return t.prototype.addListener=function(t,e){if(isLayoutStage(t))return this.layoutProcessors.addListener(t,e);if(isLayoutComplete(t))return this.listeners.addListener(t,e);throw new Error("AG Charts - unsupported listener type: "+t)},t.prototype.removeListener=function(t){this.listeners.removeListener(t),this.layoutProcessors.removeListener(t)},t.prototype.dispatchPerformLayout=function(t,e){var i=this.layoutProcessors.reduceDispatch(t,(function(t,e){var i=t.shrinkRect;return[__assign$A(__assign$A({},e),{shrinkRect:i})]}),e);return null!=i?i:e},t.prototype.dispatchLayoutComplete=function(t){this.listeners.dispatch("layout-complete",t)},t}(),UpdateService=function(){function t(t){this.updateCallback=t}return t.prototype.update=function(t){void 0===t&&(t=ChartUpdateType.FULL),this.updateCallback(t)},t}(),__decorate$1y=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},ChartHighlight=function(){function t(){this.range="tooltip"}return __decorate$1y([Validate(STRING_UNION("tooltip","node"))],t.prototype,"range",void 0),t}(),__extends$2e=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__assign$z=function(){return __assign$z=Object.assign||function(t){for(var e,i=1,o=arguments.length;i<o;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},__assign$z.apply(this,arguments)},__decorate$1x=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},__awaiter$b=function(t,e,i,o){return new(i||(i=Promise))((function(n,r){function s(t){try{l(o.next(t))}catch(t){r(t)}}function a(t){try{l(o.throw(t))}catch(t){r(t)}}function l(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(s,a)}l((o=o.apply(t,e||[])).next())}))},__generator$b=function(t,e){var i,o,n,r,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(n=2&r[0]?o.return:r[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,r[1])).done)return n;switch(o=0,n&&(r=[2&r[0],n.value]),r[0]){case 0:case 1:n=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(n=s.trys,(n=n.length>0&&n[n.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!n||r[1]>n[0]&&r[1]<n[3])){s.label=r[1];break}if(6===r[0]&&s.label<n[1]){s.label=n[1],n=r;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(r);break}n[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(t){r=[6,t],o=0}finally{i=n=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},__values$h=function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],o=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},__read$D=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,n,r=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return s},__spread$m=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$D(arguments[e]));return t},Chart=function(t){function e(e,i,o){var n;void 0===e&&(e=window.document);var r=t.call(this)||this;r.id=createId$1(r),r.processedOptions={},r.userOptions={},r.queuedUserOptions=[],r.seriesRoot=new Group({name:r.id+"-Series-root"}),r.extraDebugStats={},r._container=void 0,r.data=[],r.padding=new Padding$1(20),r.seriesAreaPadding=new Padding$1(0),r.title=void 0,r.subtitle=void 0,r.footnote=void 0,r.mode="standalone",r._destroyed=!1,r.modules={},r._pendingFactoryUpdates=[],r._performUpdateNoRenderCount=0,r._performUpdateType=ChartUpdateType.NONE,r.seriesToUpdate=new Set,r.performUpdateTrigger=debouncedCallback((function(t){var e=t.count;return __awaiter$b(r,void 0,void 0,(function(){var t;return __generator$b(this,(function(i){switch(i.label){case 0:if(this._destroyed)return[2];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.performUpdate(e)];case 2:return i.sent(),[3,4];case 3:return t=i.sent(),this._lastPerformUpdateError=t,Logger.error("update error",t),[3,4];case 4:return[2]}}))}))})),r._axes=[],r._series=[],r.lastInteractionEvent=void 0,r.pointerScheduler=debouncedAnimationFrame((function(){r.lastInteractionEvent&&r.handlePointer(r.lastInteractionEvent),r.lastInteractionEvent=void 0})),r.onSeriesNodeClick=function(t){var e=__assign$z(__assign$z({},t),{type:"seriesNodeClick"});Object.defineProperty(e,"series",{enumerable:!1,get:function(){return t.series}}),r.fireEvent(e)},r.onSeriesNodeDoubleClick=function(t){var e=__assign$z(__assign$z({},t),{type:"seriesNodeDoubleClick"});r.fireEvent(e)};var s=null==o?void 0:o.scene,a=null!==(n=null==o?void 0:o.element)&&void 0!==n?n:e.createElement("div"),l=null==o?void 0:o.container,c=new Group({name:"root"});return c.visible=!1,c.append(r.seriesRoot),r.axisGroup=new Group({name:"Axes",layer:!0,zIndex:Layers.AXIS_ZINDEX}),c.appendChild(r.axisGroup),r.element=a,a.classList.add("ag-chart-wrapper"),a.style.position="relative",r.scene=null!=s?s:new Scene({document:e,overrideDevicePixelRatio:i}),r.debug=!1,r.scene.debug.consoleLog=!1,r.scene.root=c,r.scene.container=a,r.autoSize=!0,r.interactionManager=new InteractionManager(a),r.cursorManager=new CursorManager(a),r.highlightManager=new HighlightManager,r.zoomManager=new ZoomManager,r.layoutService=new LayoutService,r.updateService=new UpdateService((function(t){return void 0===t&&(t=ChartUpdateType.FULL),r.update(t)})),SizeMonitor.observe(r.element,(function(t){var e=t.width,i=t.height;r.autoSize&&(0===e&&0===i||e===r.width&&i===r.height||(r._lastAutoSize=[e,i],r.resize(e,i)))})),r.layoutService.addListener("start-layout",(function(t){return r.positionPadding(t.shrinkRect)})),r.layoutService.addListener("start-layout",(function(t){return r.positionCaptions(t.shrinkRect)})),r.tooltip=new Tooltip(r.scene.canvas.element,e,e.body),r.tooltipManager=new TooltipManager(r.tooltip,r.interactionManager),r.legend=new Legend(r,r.interactionManager,r.cursorManager,r.highlightManager,r.tooltipManager,r.layoutService),r.overlays=new ChartOverlays(r.element),r.highlight=new ChartHighlight,r.container=l,r.interactionManager.addListener("click",(function(t){return r.onClick(t)})),r.interactionManager.addListener("dblclick",(function(t){return r.onDoubleClick(t)})),r.interactionManager.addListener("hover",(function(t){return r.onMouseMove(t)})),r.interactionManager.addListener("leave",(function(t){return r.onLeave(t)})),r.interactionManager.addListener("page-left",(function(){return r.destroy()})),r.interactionManager.addListener("wheel",(function(){return r.disablePointer()})),r.zoomManager.addListener("zoom-change",(function(t){return r.update(ChartUpdateType.PROCESS_DATA,{forceNodeDataRefresh:!0})})),r.highlightManager.addListener("highlight-change",(function(t){return r.changeHighlightDatum(t)})),r}return __extends$2e(e,t),e.prototype.getOptions=function(){var t,e=this.queuedUserOptions;return jsonMerge([null!==(t=e[e.length-1])&&void 0!==t?t:this.userOptions])},Object.defineProperty(e.prototype,"container",{get:function(){return this._container},set:function(t){if(this._container!==t){var e=this.element.parentNode;null!=e&&e.removeChild(this.element),t&&!this.destroyed&&t.appendChild(this.element),this._container=t}},enumerable:!1,configurable:!0}),e.prototype.autoSizeChanged=function(t){var e=this.element.style;if(t){if(e.display="block",e.width="100%",e.height="100%",!this._lastAutoSize)return;this.resize(this._lastAutoSize[0],this._lastAutoSize[1])}else e.display="inline-block",e.width="auto",e.height="auto"},e.prototype.download=function(t,e){this.scene.download(t,e)},Object.defineProperty(e.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!1,configurable:!0}),e.prototype.addModule=function(t){if(null!=this.modules[t.optionsKey])throw new Error("AG Charts - module already initialised: "+t.optionsKey);var e=t.initialiseModule(this.getModuleContext());this.modules[t.optionsKey]=e,this[t.optionsKey]=e.instance},e.prototype.removeModule=function(t){var e,i;null===(i=null===(e=this.modules[t.optionsKey])||void 0===e?void 0:e.instance)||void 0===i||i.destroy(),delete this.modules[t.optionsKey],delete this[t.optionsKey]},e.prototype.isModuleEnabled=function(t){return null!=this.modules[t.optionsKey]},e.prototype.getModuleContext=function(){var t=this;return{scene:t.scene,interactionManager:t.interactionManager,zoomManager:t.zoomManager,cursorManager:t.cursorManager,highlightManager:t.highlightManager,tooltipManager:t.tooltipManager,layoutService:t.layoutService,updateService:t.updateService}},e.prototype.destroy=function(t){var e,i;if(!this._destroyed){var o=null==t?void 0:t.keepTransferableResources,n=void 0;this._performUpdateType=ChartUpdateType.NONE,this._pendingFactoryUpdates.splice(0),this.tooltipManager.destroy(),this.tooltip.destroy(),this.legend.destroy(),SizeMonitor.unobserve(this.element);try{for(var r=__values$h(Object.entries(this.modules)),s=r.next();!s.done;s=r.next()){var a=__read$D(s.value,2),l=a[0];a[1].instance.destroy(),delete this.modules[l],delete this[l]}}catch(t){e={error:t}}finally{try{s&&!s.done&&(i=r.return)&&i.call(r)}finally{if(e)throw e.error}}return this.interactionManager.destroy(),o?(this.scene.strip(),n={container:this.container,scene:this.scene,element:this.element}):(this.scene.destroy(),this.container=void 0),this.series.forEach((function(t){return t.destroy()})),this.series=[],this.axes.forEach((function(t){return t.destroy()})),this.axes=[],this._destroyed=!0,n}},e.prototype.log=function(t){this.debug&&Logger.debug(t)},e.prototype.disablePointer=function(t){void 0===t&&(t=!1),t||this.tooltipManager.removeTooltip(this.id),this.highlightManager.updateHighlight(this.id),this.lastInteractionEvent&&(this.lastInteractionEvent=void 0)},e.prototype.requestFactoryUpdate=function(t){var e=this._pendingFactoryUpdates,i=e.length;0===i?(e.push(t),this._processCallbacks()):e.splice(1,i-1,t)},e.prototype._processCallbacks=function(){return __awaiter$b(this,void 0,void 0,(function(){var t,e;return __generator$b(this,(function(i){switch(i.label){case 0:t=this._pendingFactoryUpdates,i.label=1;case 1:return t.length>0?this.updatePending?[4,sleep(1)]:[3,3]:[3,7];case 2:return i.sent(),[3,1];case 3:return i.trys.push([3,5,,6]),[4,t[0]()];case 4:return i.sent(),[3,6];case 5:return e=i.sent(),Logger.error("update error",e),[3,6];case 6:return t.shift(),[3,1];case 7:return[2]}}))}))},Object.defineProperty(e.prototype,"performUpdateType",{get:function(){return this._performUpdateType},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"updatePending",{get:function(){return this._performUpdateType!==ChartUpdateType.NONE||null!=this.lastInteractionEvent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastPerformUpdateError",{get:function(){return this._lastPerformUpdateError},enumerable:!1,configurable:!0}),e.prototype.awaitUpdateCompletion=function(){return __awaiter$b(this,void 0,void 0,(function(){return __generator$b(this,(function(t){switch(t.label){case 0:return[4,this.performUpdateTrigger.await()];case 1:return t.sent(),[2]}}))}))},e.prototype.update=function(t,e){var i,o;void 0===t&&(t=ChartUpdateType.FULL);var n=e||{},r=n.forceNodeDataRefresh,s=void 0!==r&&r,a=n.seriesToUpdate,l=void 0===a?this.series:a;s&&this.series.forEach((function(t){return t.markNodeDataDirty()}));try{for(var c=__values$h(l),u=c.next();!u.done;u=c.next()){var h=u.value;this.seriesToUpdate.add(h)}}catch(t){i={error:t}}finally{try{u&&!u.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}t<this._performUpdateType&&(this._performUpdateType=t,this.performUpdateTrigger.schedule())},e.prototype.performUpdate=function(t){var e;return __awaiter$b(this,void 0,void 0,(function(){var i,o,n,r,s,a,l,c;return __generator$b(this,(function(u){switch(u.label){case 0:switch(o=(i=this)._performUpdateType,n=i.extraDebugStats,r=[performance.now()],o){case ChartUpdateType.FULL:case ChartUpdateType.PROCESS_DATA:return[3,1];case ChartUpdateType.PERFORM_LAYOUT:return[3,3];case ChartUpdateType.SERIES_UPDATE:return[3,5];case ChartUpdateType.TOOLTIP_RECALCULATION:return[3,7];case ChartUpdateType.SCENE_RENDER:return[3,8];case ChartUpdateType.NONE:return[3,10]}return[3,11];case 1:return[4,this.processData()];case 2:u.sent(),this.disablePointer(!0),r.push(performance.now()),u.label=3;case 3:return this.autoSize&&!this._lastAutoSize&&this._performUpdateNoRenderCount++<5?(this._performUpdateType=ChartUpdateType.PERFORM_LAYOUT,this.performUpdateTrigger.schedule(),[3,11]):(this._performUpdateNoRenderCount=0,[4,this.performLayout()]);case 4:u.sent(),this.handleOverlays(),r.push(performance.now()),u.label=5;case 5:return s=this.seriesRect,a=__spread$m(this.seriesToUpdate).map((function(t){return t.update({seriesRect:s})})),this.seriesToUpdate.clear(),[4,Promise.all(a)];case 6:u.sent(),r.push(performance.now()),u.label=7;case 7:l=this.tooltipManager.getTooltipMeta(this.id),o<ChartUpdateType.SERIES_UPDATE&&"hover"===(null===(e=null==l?void 0:l.event)||void 0===e?void 0:e.type)&&this.handlePointer(l.event),u.label=8;case 8:return[4,this.scene.render({debugSplitTimes:r,extraDebugStats:n})];case 9:u.sent(),this.extraDebugStats={},u.label=10;case 10:this._performUpdateType=ChartUpdateType.NONE,u.label=11;case 11:return c=performance.now(),this.log({chart:this,durationMs:Math.round(100*(c-r[0]))/100,count:t,performUpdateType:ChartUpdateType[o]}),[2]}}))}))},Object.defineProperty(e.prototype,"axes",{get:function(){return this._axes},set:function(t){var e=this,i=new Set;this._axes.forEach((function(t){t.detachAxis(e.axisGroup),i.add(t)})),this._axes=t.filter((function(t){return!t.linkedTo})).concat(t.filter((function(t){return t.linkedTo}))),this._axes.forEach((function(t){t.attachAxis(e.axisGroup),i.delete(t)})),i.forEach((function(t){return t.destroy()}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"series",{get:function(){return this._series},set:function(t){var e=this;this.removeAllSeries(),t.forEach((function(t){return e.addSeries(t)}))},enumerable:!1,configurable:!0}),e.prototype.addSeries=function(t,e){var i=this.series,o=this.seriesRoot;if(i.indexOf(t)<0){var n=e?i.indexOf(e):-1;return n>=0?(i.splice(n,0,t),o.insertBefore(t.rootGroup,e.rootGroup)):(i.push(t),o.append(t.rootGroup)),this.initSeries(t),!0}return!1},e.prototype.initSeries=function(t){t.chart=this,t.highlightManager=this.highlightManager,t.data||(t.data=this.data),this.addSeriesListeners(t)},e.prototype.freeSeries=function(t){t.chart=void 0,t.removeEventListener("nodeClick",this.onSeriesNodeClick),t.removeEventListener("nodeDoubleClick",this.onSeriesNodeDoubleClick)},e.prototype.removeAllSeries=function(){var t=this;this.series.forEach((function(e){t.freeSeries(e),t.seriesRoot.removeChild(e.rootGroup)})),this._series=[]},e.prototype.addSeriesListeners=function(t){this.hasEventListener("seriesNodeClick")&&t.addEventListener("nodeClick",this.onSeriesNodeClick),this.hasEventListener("seriesNodeDoubleClick")&&t.addEventListener("nodeDoubleClick",this.onSeriesNodeDoubleClick)},e.prototype.updateAllSeriesListeners=function(){var t=this;this.series.forEach((function(e){e.removeEventListener("nodeClick",t.onSeriesNodeClick),e.removeEventListener("nodeDoubleClick",t.onSeriesNodeDoubleClick),t.addSeriesListeners(e)}))},e.prototype.assignSeriesToAxes=function(){var t=this;this.axes.forEach((function(e){e.boundSeries=t.series.filter((function(t){return(e.direction===ChartAxisDirection.X?t.xAxis:t.yAxis)===e}))}))},e.prototype.assignAxesToSeries=function(t){var e=this;void 0===t&&(t=!1);var i={};this.axes.forEach((function(t){var e=t.direction;(i[e]||(i[e]=[])).push(t)})),this.series.forEach((function(o){o.directions.forEach((function(n){if(!(n===ChartAxisDirection.X?o.xAxis:o.yAxis)||t){var r=i[n];if(r){var s=o.getKeys(n),a=e.findMatchingAxis(r,o.getKeys(n));a?n===ChartAxisDirection.X?o.xAxis=a:o.yAxis=a:Logger.warn("no matching axis for direction ["+n+"] and keys ["+s+"]; check series and axes configuration.")}else Logger.warn("no available axis for direction ["+n+"]; check series and axes configuration.")}}))}))},e.prototype.findMatchingAxis=function(t,e){var i,o,n,r;try{for(var s=__values$h(t),a=s.next();!a.done;a=s.next()){var l=a.value,c=l.keys;if(!c.length)return l;if(e)try{for(var u=(n=void 0,__values$h(e)),h=u.next();!h.done;h=u.next()){var d=h.value;if(c.indexOf(d)>=0)return l}}catch(t){n={error:t}}finally{try{h&&!h.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(t){i={error:t}}finally{try{a&&!a.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}},e.prototype.resize=function(t,e){t&&e&&Number.isFinite(t)&&Number.isFinite(e)&&this.scene.resize(t,e)&&(this.disablePointer(),this.update(ChartUpdateType.PERFORM_LAYOUT,{forceNodeDataRefresh:!0}))},e.prototype.processData=function(){return __awaiter$b(this,void 0,void 0,(function(){return __generator$b(this,(function(t){switch(t.label){case 0:return(this.axes.length>0||this.series.some((function(t){return t instanceof CartesianSeries})))&&(this.assignAxesToSeries(!0),this.assignSeriesToAxes()),[4,Promise.all(this.series.map((function(t){return t.processData()})))];case 1:return t.sent(),[4,this.updateLegend()];case 2:return t.sent(),[2]}}))}))},e.prototype.placeLabels=function(){var t,e,i=[],o=[];try{for(var n=__values$h(this.series),r=n.next();!r.done;r=n.next()){var s=r.value;if(s.visible){var a=s.getLabelData();a&&isPointLabelDatum(a[0])&&(o.push(a),i.push(s))}}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}var l=this.seriesRect,c=l&&o.length>0?placeLabels(o,{x:0,y:0,width:l.width,height:l.height}):[];return new Map(c.map((function(t,e){return[i[e],t]})))},e.prototype.updateLegend=function(){return __awaiter$b(this,void 0,void 0,(function(){var t,e;return __generator$b(this,(function(i){return t=[],this.series.filter((function(t){return t.showInLegend})).forEach((function(e){t.push.apply(t,__spread$m(e.getLegendData()))})),(e=this.legend.item.label.formatter)&&t.forEach((function(t){return t.label.text=e({get id(){return Logger.warnOnce("LegendLabelFormatterParams.id is deprecated, use seriesId instead"),t.seriesId},itemId:t.itemId,value:t.label.text,seriesId:t.seriesId})})),this.legend.data=t,[2]}))}))},e.prototype.performLayout=function(){return __awaiter$b(this,void 0,void 0,(function(){var t,e,i,o;return __generator$b(this,(function(n){return this.scene.root.visible=!0,t=this.scene,e=t.width,i=t.height,o=new BBox(0,0,e,i),o=this.layoutService.dispatchPerformLayout("start-layout",{shrinkRect:o}).shrinkRect,[2,o=this.layoutService.dispatchPerformLayout("before-series",{shrinkRect:o}).shrinkRect]}))}))},e.prototype.positionPadding=function(t){var e=this.padding;return t.shrink(e.left,"left"),t.shrink(e.top,"top"),t.shrink(e.right,"right"),t.shrink(e.bottom,"bottom"),{shrinkRect:t}},e.prototype.positionCaptions=function(t){var e=this,i=e.title,o=e.subtitle,n=e.footnote,r=t.clone(),s=function(t){var e,i=r.y;t.node.x=r.x+r.width/2,t.node.y=i,t.node.textBaseline="top";var o=t.node.computeBBox(),n=Math.ceil(o.y-i+o.height+(null!==(e=t.spacing)&&void 0!==e?e:0));r.shrink(n,"top")};return i&&(i.node.visible=i.enabled,i.node.visible&&s(i)),o&&(o.node.visible=void 0!==i&&i.enabled&&o.enabled,o.node.visible&&s(o)),n&&(n.node.visible=n.enabled,n.node.visible&&function(t){var e,i=r.y+r.height;t.node.x=r.x+r.width/2,t.node.y=i,t.node.textBaseline="bottom";var o=t.node.computeBBox(),n=Math.ceil(i-o.y+(null!==(e=t.spacing)&&void 0!==e?e:0));r.shrink(n,"bottom")}(n)),{shrinkRect:r}},e.prototype.getSeriesRect=function(){return this.seriesRect},e.prototype.pickSeriesNode=function(t,e,i){var o,n,r,s,a=performance.now(),l=e?[SeriesNodePickMode.EXACT_SHAPE_MATCH]:void 0,c=__spread$m(this.series).reverse(),u=void 0;try{for(var h=__values$h(c),d=h.next();!d.done;d=h.next()){var p=d.value;if(p.visible&&p.rootGroup.visible){var f=null!==(r=p.pickNode(t,l))&&void 0!==r?r:{},g=f.match,m=f.distance;if(g&&null!=m&&((!u||u.distance>m)&&m<=(null!=i?i:1/0)&&(u={series:p,distance:m,datum:g}),0===m))break}}}catch(t){o={error:t}}finally{try{d&&!d.done&&(n=h.return)&&n.call(h)}finally{if(o)throw o.error}}return this.extraDebugStats.pickSeriesNode=Math.round((null!==(s=this.extraDebugStats.pickSeriesNode)&&void 0!==s?s:0)+(performance.now()-a)),u},e.prototype.onMouseMove=function(t){this.lastInteractionEvent=t,this.pointerScheduler.schedule(),this.extraDebugStats.mouseX=t.offsetX,this.extraDebugStats.mouseY=t.offsetY,this.update(ChartUpdateType.SCENE_RENDER)},e.prototype.onLeave=function(t){this.tooltip.pointerLeftOntoTooltip(t)||this.disablePointer()},e.prototype.handlePointer=function(t){var e=this,i=this.lastPick,o=this.hoverRect,n=t.offsetX,r=t.offsetY,s=function(t){void 0===t&&(t=!1),i&&e.disablePointer(t)};(null==o?void 0:o.containsPoint(n,r))?(this.handlePointerTooltip(t,s),this.handlePointerNode(t)):s()},e.prototype.handlePointerTooltip=function(t,e){var i,o,n,r=this.lastPick,s=this.tooltip.range,a=t.pageX,l=t.pageY,c=t.offsetX,u=t.offsetY;"number"==typeof s&&Number.isFinite(s)&&(n=s);var h=this.pickSeriesNode({x:c,y:u},"exact"===s,n);if(!h)return this.tooltipManager.updateTooltip(this.id),void("tooltip"===this.highlight.range&&e(!0));var d,p="node"===this.highlight.range||!r||r.datum!==h.datum;p?(d=h.series.getTooltipHtml(h.datum),"tooltip"===this.highlight.range&&this.highlightManager.updateHighlight(this.id,h.datum)):r&&(r.event=t.sourceEvent);var f=null!=n,g=this.tooltip.enabled&&h.series.tooltip.enabled,m="exact"===s&&0===h.distance,y=g&&("nearest"===s||f||m)&&(!p||void 0!==d),v={xOffset:h.datum.series.tooltip.position.xOffset,yOffset:h.datum.series.tooltip.position.yOffset},_=this.mergePointerDatum({pageX:a,pageY:l,offsetX:c,offsetY:u,event:t,position:v},h.datum);_.enableInteraction=null!==(o=null===(i=h.series.tooltip.interaction)||void 0===i?void 0:i.enabled)&&void 0!==o&&o,y&&this.tooltipManager.updateTooltip(this.id,_,d)},e.prototype.handlePointerNode=function(t){var e=this;this.checkSeriesNodeRange(t,(function(t,i){(t.hasEventListener("nodeClick")||t.hasEventListener("nodeDoubleClick"))&&e.cursorManager.updateCursor("chart","pointer"),"node"===e.highlight.range&&e.highlightManager.updateHighlight(e.id,i)}))||(this.cursorManager.updateCursor("chart"),"node"===this.highlight.range&&this.highlightManager.updateHighlight(this.id))},e.prototype.onClick=function(t){this.checkSeriesNodeClick(t)?this.update(ChartUpdateType.SERIES_UPDATE):this.fireEvent({type:"click",event:t.sourceEvent})},e.prototype.onDoubleClick=function(t){this.checkSeriesNodeDoubleClick(t)?this.update(ChartUpdateType.SERIES_UPDATE):this.fireEvent({type:"doubleClick",event:t.sourceEvent})},e.prototype.checkSeriesNodeClick=function(t){return this.checkSeriesNodeRange(t,(function(e,i){return e.fireNodeClickEvent(t.sourceEvent,i)}))},e.prototype.checkSeriesNodeDoubleClick=function(t){return this.checkSeriesNodeRange(t,(function(e,i){return e.fireNodeDoubleClickEvent(t.sourceEvent,i)}))},e.prototype.checkSeriesNodeRange=function(t,e){var i,o=this.pickSeriesNode({x:t.offsetX,y:t.offsetY},!1),n=null==o?void 0:o.datum,r=null==n?void 0:n.series.nodeClickRange;if(n&&"nearest"===r)return e(n.series,n),!0;"number"==typeof r&&Number.isFinite(r)&&(i=r);var s=this.pickSeriesNode({x:t.offsetX,y:t.offsetY},"exact"===r,i);if(!s)return!1;var a=null!=i,l="exact"===r&&0===s.distance;return!(!a&&!l)&&(e(s.series,s.datum),!0)},e.prototype.mergePointerDatum=function(t,e){if("node"===e.series.tooltip.position.type&&e.nodeMidPoint){var i=e.nodeMidPoint,o=i.x,n=i.y,r=this.scene.canvas,s=e.series.rootGroup.inverseTransformPoint(o,n),a=r.element.getBoundingClientRect();return __assign$z(__assign$z({},t),{pageX:Math.round(a.left+window.scrollX+s.x),pageY:Math.round(a.top+window.scrollY+s.y),offsetX:Math.round(s.x),offsetY:Math.round(s.y)})}return t},e.prototype.changeHighlightDatum=function(t){var e=new Set,i=t.currentHighlight||{},o=i.series,n=void 0===o?void 0:o,r=i.datum,s=t.previousHighlight||{},a=s.series,l=void 0===a?void 0:a,c=s.datum;l&&e.add(l),n&&e.add(n),(null==l?void 0:l.cursor)&&c&&this.cursorManager.updateCursor(l.id),(null==n?void 0:n.cursor)&&r&&this.cursorManager.updateCursor(n.id,n.cursor),this.lastPick=t.currentHighlight?{datum:t.currentHighlight}:void 0,null==n||null==l?this.update(ChartUpdateType.SERIES_UPDATE):this.update(ChartUpdateType.SERIES_UPDATE,{seriesToUpdate:e})},e.prototype.waitForUpdate=function(t){return void 0===t&&(t=5e3),__awaiter$b(this,void 0,void 0,(function(){var e;return __generator$b(this,(function(i){switch(i.label){case 0:e=performance.now(),i.label=1;case 1:if(!(this._pendingFactoryUpdates.length>0||this.updatePending))return[3,3];if(performance.now()-e>t)throw new Error("waitForUpdate() timeout reached.");return[4,sleep(5)];case 2:return i.sent(),[3,1];case 3:return[4,this.awaitUpdateCompletion()];case 4:return i.sent(),[2]}}))}))},e.prototype.handleOverlays=function(){this.handleNoDataOverlay()},e.prototype.handleNoDataOverlay=function(){var t=!this.series.some((function(t){return t.hasData()})),e=this.getSeriesRect();t&&e?this.overlays.noData.show(e):this.overlays.noData.hide()},__decorate$1x([ActionOnSet({newValue:function(t){this.scene.debug.consoleLog=t}})],e.prototype,"debug",void 0),__decorate$1x([ActionOnSet({newValue:function(t){var e;null===(e=this.series)||void 0===e||e.forEach((function(e){return e.data=t}))}})],e.prototype,"data",void 0),__decorate$1x([ActionOnSet({newValue:function(t){this.autoSize=!1,this.resize(t,this.height)}})],e.prototype,"width",void 0),__decorate$1x([ActionOnSet({newValue:function(t){this.autoSize=!1,this.resize(this.width,t)}})],e.prototype,"height",void 0),__decorate$1x([ActionOnSet({changeValue:function(t){this.autoSizeChanged(t)}}),Validate(BOOLEAN)],e.prototype,"autoSize",void 0),__decorate$1x([ActionOnSet({newValue:function(t){var e;null===(e=this.scene.root)||void 0===e||e.appendChild(t.node)},oldValue:function(t){var e;null===(e=this.scene.root)||void 0===e||e.removeChild(t.node)}})],e.prototype,"title",void 0),__decorate$1x([ActionOnSet({newValue:function(t){var e;null===(e=this.scene.root)||void 0===e||e.appendChild(t.node)},oldValue:function(t){var e;null===(e=this.scene.root)||void 0===e||e.removeChild(t.node)}})],e.prototype,"subtitle",void 0),__decorate$1x([ActionOnSet({newValue:function(t){var e;null===(e=this.scene.root)||void 0===e||e.appendChild(t.node)},oldValue:function(t){var e;null===(e=this.scene.root)||void 0===e||e.removeChild(t.node)}})],e.prototype,"footnote",void 0),__decorate$1x([Validate(STRING_UNION("standalone","integrated"))],e.prototype,"mode",void 0),e}(Observable),TreeNode=function(){function t(t,e,i){void 0===t&&(t=""),void 0===i&&(i=0),this.x=0,this.y=0,this.subtreeLeft=NaN,this.subtreeRight=NaN,this.screenX=0,this.screenY=0,this.children=[],this.leafCount=0,this.prelim=0,this.mod=0,this.ancestor=this,this.change=0,this.shift=0,this.label=t,this.parent=e,this.depth=e?e.depth+1:0,this.number=i}return t.prototype.getLeftSibling=function(){return this.number>0&&this.parent?this.parent.children[this.number-1]:void 0},t.prototype.getLeftmostSibling=function(){return this.number>0&&this.parent?this.parent.children[0]:void 0},t.prototype.nextLeft=function(){return this.children?this.children[0]:this.thread},t.prototype.nextRight=function(){return this.children?this.children[this.children.length-1]:this.thread},t.prototype.getSiblings=function(){var t=this;return this.parent?this.parent.children.filter((function(e,i){return i!==t.number})):[]},t}();function ticksToTree(t,e){void 0===e&&(e=!0);var i=new TreeNode,o=0;return e&&t.forEach((function(t){return o=Math.max(o,t.labels.length)})),t.forEach((function(t){if(e)for(;t.labels.length<o;)t.labels.unshift("");insertTick(i,t)})),i}function insertTick(t,e){var i=e.labels.slice().reverse(),o=i.length-1;i.forEach((function(e,i){var n=t.children,r=n.find((function(t){return t.label===e})),s=i!==o;if(r&&s)t=r;else{var a=new TreeNode(e,t);a.number=n.length,n.push(a),s&&(t=a)}}))}function moveSubtree(t,e,i){var o=i/(e.number-t.number);e.change-=o,e.shift+=i,t.change+=o,e.prelim+=i,e.mod+=i}function ancestor(t,e,i){return e.getSiblings().indexOf(t.ancestor)>=0?t.ancestor:i}function executeShifts(t){var e=t.children;if(e)for(var i=0,o=0,n=e.length-1;n>=0;n--){var r=e[n];r.prelim+=i,r.mod+=i,o+=r.change,i+=r.shift+o}}function apportion(t,e,i){var o=t.getLeftSibling();if(o){for(var n=t,r=t,s=o,a=r.getLeftmostSibling(),l=r.mod,c=n.mod,u=s.mod,h=a.mod;s.nextRight()&&r.nextLeft();){s=s.nextRight(),r=r.nextLeft(),a=a.nextLeft(),(n=n.nextRight()).ancestor=t;var d=s.prelim+u-(r.prelim+l)+i;d>0&&(moveSubtree(ancestor(s,t,e),t,d),l+=d,c+=d),u+=s.mod,l+=r.mod,h+=a.mod,c+=n.mod}s.nextRight()&&!n.nextRight()?(n.thread=s.nextRight(),n.mod+=u-c):(r.nextLeft()&&!a.nextLeft()&&(a.thread=r.nextLeft(),a.mod+=l-h),e=t)}return e}function firstWalk(t,e){var i=t.children;if(i.length){var o=i[0];i.forEach((function(t){firstWalk(t,e),o=apportion(t,o,e)})),executeShifts(t);var n=(i[0].prelim+i[i.length-1].prelim)/2;(r=t.getLeftSibling())?(t.prelim=r.prelim+e,t.mod=t.prelim-n):t.prelim=n}else{var r=t.getLeftSibling();t.prelim=r?r.prelim+e:0}}var Dimensions=function(){function t(){this.top=1/0,this.right=-1/0,this.bottom=-1/0,this.left=1/0}return t.prototype.update=function(t,e){var i=e(t),o=i.x,n=i.y;o>this.right&&(this.right=o),o<this.left&&(this.left=o),n>this.bottom&&(this.bottom=n),n<this.top&&(this.top=n)},t}();function secondWalk(t,e,i){t.x=t.prelim+e,t.y=t.depth,i.update(t),t.children.forEach((function(o){return secondWalk(o,e+t.mod,i)}))}function thirdWalk(t){var e=t.children,i=0;e.forEach((function(t){thirdWalk(t),t.children.length?i+=t.leafCount:i++})),t.leafCount=i,e.length?(t.subtreeLeft=e[0].subtreeLeft,t.subtreeRight=e[t.children.length-1].subtreeRight,t.x=(t.subtreeLeft+t.subtreeRight)/2):(t.subtreeLeft=t.x,t.subtreeRight=t.x)}function treeLayout(t){var e=new TreeLayout;return firstWalk(t,1),secondWalk(t,-t.prelim,e),thirdWalk(t),e}var TreeLayout=function(){function t(){this.dimensions=new Dimensions,this.leafCount=0,this.nodes=[],this.leafNodes=[],this.nonLeafNodes=[],this.depth=0}return t.prototype.update=function(t){this.dimensions.update(t,(function(t){return{x:t.x,y:t.y}})),t.children.length?this.nonLeafNodes.push(t):(this.leafCount++,this.leafNodes.push(t)),t.depth>this.depth&&(this.depth=t.depth),this.nodes.push(t)},t.prototype.resize=function(t,e,i,o,n){void 0===i&&(i=0),void 0===o&&(o=0),void 0===n&&(n=!1);var r=this.leafCount-1,s=this.depth,a=this.dimensions,l=1,c=1;if(t>0&&r){var u=(a.right-a.left)/r;l=t/r/u,n&&(l=-l)}if(e>0&&s){var h=(a.bottom-a.top)/s;c=e/s/h}var d=new Dimensions;this.nodes.forEach((function(t){t.screenX=t.x*l,t.screenY=t.y*c,d.update(t,(function(t){return{x:t.screenX,y:t.screenY}}))}));var p=-d.left,f=-d.top;this.nodes.forEach((function(t){t.screenX+=p+i,t.screenY+=f+o}))},t}(),__extends$2d=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$1w=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},__read$C=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,n,r=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return s},__spread$l=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$C(arguments[e]));return t},GroupedCategoryAxisLabel=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.grid=!1,e}return __extends$2d(e,t),__decorate$1w([Validate(BOOLEAN)],e.prototype,"grid",void 0),e}(AxisLabel),GroupedCategoryAxis=function(t){function e(e){var i=t.call(this,e,new BandScale$5)||this;i.tickScale=new BandScale$5,i.translation={x:0,y:0},i.line=new AxisLine,i.label=new GroupedCategoryAxisLabel,i.labelColor="rgba(87, 87, 87, 1)",i.includeInvisibleDomains=!0;var o=i,n=o.tickLineGroup,r=o.tickLabelGroup,s=o.gridLineGroup,a=o.tickScale,l=o.scale;return l.paddingOuter=.1,l.paddingInner=2*l.paddingOuter,i.requestedRange=l.range.slice(),i.refreshScale(),a.paddingInner=1,a.paddingOuter=0,i.gridLineSelection=Selection.select(s,Line),i.axisLineSelection=Selection.select(n,Line),i.separatorSelection=Selection.select(n,Line),i.labelSelection=Selection.select(r,Text),i}return __extends$2d(e,t),Object.defineProperty(e.prototype,"range",{get:function(){return this.requestedRange.slice()},set:function(t){this.requestedRange=t.slice(),this.updateRange()},enumerable:!1,configurable:!0}),e.prototype.updateRange=function(){var t=this,e=t.requestedRange,i=t.visibleRange,o=t.scale,n=(e[1]-e[0])/(i[1]-i[0]),r=n*i[0],s=e[0]-r;this.tickScale.range=o.range=[s,s+n],this.resizeTickTree()},e.prototype.resizeTickTree=function(){var t=this.scale,e=t.domain.length?[t.convert(t.domain[0]),t.convert(t.domain[t.domain.length-1])]:t.range,i=this.tickTreeLayout,o=this.lineHeight;i&&i.resize(Math.abs(e[1]-e[0]),i.depth*o,(Math.min(e[0],e[1])||0)+(t.bandwidth||0)/2,-i.depth*o,e[1]-e[0]<0)},Object.defineProperty(e.prototype,"lineHeight",{get:function(){return 1.5*this.label.fontSize},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"gridLength",{get:function(){return this._gridLength},set:function(t){(this._gridLength&&!t||!this._gridLength&&t)&&(this.gridLineSelection.clear(),this.labelSelection.clear()),this._gridLength=t},enumerable:!1,configurable:!0}),e.prototype.calculateDomain=function(){var t,e=this.direction,i=this.boundSeries,o=[],n=void 0;i.filter((function(t){return t.visible})).forEach((function(t){if(e===ChartAxisDirection.X)if(void 0===n){var i=t.getDomain(e);o.push(i),n="number"==typeof i[0]}else n&&o.push(t.getDomain(e));else o.push(t.getDomain(e))}));var r=(t=new Array).concat.apply(t,__spread$l(o)),s=extent$4(r)||r;this.dataDomain=this.normaliseDataDomain(s)},e.prototype.normaliseDataDomain=function(t){var e=t.filter((function(t,e,i){return i.indexOf(t)===e})),i=ticksToTree(e);this.tickTreeLayout=treeLayout(i);var o=e.slice();return o.push(""),this.tickScale.domain=o,this.resizeTickTree(),e},e.prototype.update=function(t){var e=this;this.calculateDomain();var i=this,o=i.scale,n=i.label,r=i.label.parallel,s=i.tickScale,a=i.requestedRange;o.domain=this.dataDomain;var l=o.range[0],c=o.range[1],u=Math.abs(c-l)/o.domain.length||0,h=toRadians$1(this.rotation),d=Math.abs(Math.cos(h))<1e-8;this.updatePosition();var p=this.title;p&&(p.node.visible=!1);var f=this.lineHeight,g=this.tickTreeLayout,m=o.ticks(),y=g?g.nodes:[],v=!!g&&g.depth>1,_=s.ticks(),C=n.mirrored?1:-1,b=calculateLabelRotation({rotation:n.rotation,parallel:r,regularFlipRotation:normalizeAngle360(h-Math.PI/2),parallelFlipRotation:normalizeAngle360(h)}),E=b.autoRotation,S=b.labelRotation,w=b.parallelFlipFlag,O=this.gridLineSelection.update(this.gridLength?_:[]),x=this.labelSelection.update(y),P=n.formatter,T=new Map,M=0;x.each((function(t,e,i){t.fontStyle=n.fontStyle,t.fontWeight=n.fontWeight,t.fontSize=n.fontSize,t.fontFamily=n.fontFamily,t.fill=n.color,t.textBaseline=-1===w?"bottom":"hanging",t.textAlign="center",t.translationX=e.screenY-.25*n.fontSize,t.translationY=e.screenX,0===i?p&&p.enabled&&m.length>0?(t.visible=!0,t.text=p.text,t.fontSize=p.fontSize,t.fontStyle=p.fontStyle,t.fontWeight=p.fontWeight,t.fontFamily=p.fontFamily,t.textBaseline="hanging"):t.visible=!1:(t.text=P?P({value:String(e.label),index:i}):String(e.label),t.visible=e.screenX>=a[0]&&e.screenX<=a[1]);var o=t.computeBBox();T.set(t.id,o),o.width>M&&(M=o.width)}));var D=C*n.padding,A=this.label.grid,R=[];x.each((function(t,i,o){if(t.x=D,t.rotationCenterX=D,i.children.length){t.translationX-=M-f+e.label.padding;var n=i.leafCount*u;(r=T.get(t.id))&&r.width>n?t.visible=!1:t.rotation=d?E:-Math.PI/2}else{var r;t.rotation=S,t.textAlign="end",t.textBaseline="middle",(r=T.get(t.id))&&r.height>u&&(t.visible=!1)}if(i.parent&&v){var s=i.children.length?i.screenX-i.leafCount*u/2:i.screenX-u/2;if(i.children.length){var a=-M-2*e.label.padding+i.screenY;R.push({y:s,x1:a+f,x2:a,toString:function(){return String(o)}})}else(i.number!==i.children.length-1||A)&&R.push({y:s,x1:0,x2:-M-2*e.label.padding,toString:function(){return String(o)}})}}));var L=0;R.forEach((function(t){return L=Math.min(L,t.x2)})),R.push({y:Math.max(l,c),x1:0,x2:L,toString:function(){return String(R.length)}});var I=this.separatorSelection.update(R);I.each((function(t,i){t.x1=i.x1,t.x2=i.x2,t.y1=i.y,t.y2=i.y,t.visible=i.y>=a[0]-1e-7&&i.y<=a[1]+1e-7,t.stroke=e.tick.color,t.fill=void 0,t.strokeWidth=1})),this.gridLineSelection=O,this.labelSelection=x;for(var N=g?g.depth+1:1,k=[],F=0;F<N;F++)k.push(F);if(this.axisLineSelection.update(k).each((function(t,i,o){var n=o>0?-M-2*e.label.padding-(o-1)*f:0;t.x1=n,t.x2=n,t.y1=a[0],t.y2=a[1],t.strokeWidth=e.line.width,t.stroke=e.line.color,t.visible=m.length>0&&(0===o||A&&v)})),this.gridLength){var B=this.gridStyle,G=B.length;O.each((function(t,i,o){var n=Math.round(s.convert(i));t.x1=0,t.x2=-C*e.gridLength,t.y1=n,t.y2=n,t.visible=n>=a[0]&&n<=a[1];var r=B[o%G];t.stroke=r.stroke,t.strokeWidth=e.tick.width,t.lineDash=r.lineDash,t.fill=void 0}))}return t},e.className="GroupedCategoryAxis",e.type="groupedCategory",__decorate$1w([Validate(OPT_COLOR_STRING)],e.prototype,"labelColor",void 0),e}(ChartAxis),__extends$2c=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__assign$y=function(){return __assign$y=Object.assign||function(t){for(var e,i=1,o=arguments.length;i<o;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},__assign$y.apply(this,arguments)},__awaiter$a=function(t,e,i,o){return new(i||(i=Promise))((function(n,r){function s(t){try{l(o.next(t))}catch(t){r(t)}}function a(t){try{l(o.throw(t))}catch(t){r(t)}}function l(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(s,a)}l((o=o.apply(t,e||[])).next())}))},__generator$a=function(t,e){var i,o,n,r,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(n=2&r[0]?o.return:r[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,r[1])).done)return n;switch(o=0,n&&(r=[2&r[0],n.value]),r[0]){case 0:case 1:n=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(n=s.trys,(n=n.length>0&&n[n.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!n||r[1]>n[0]&&r[1]<n[3])){s.label=r[1];break}if(6===r[0]&&s.label<n[1]){s.label=n[1],n=r;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(r);break}n[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(t){r=[6,t],o=0}finally{i=n=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},__values$g=function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],o=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},__read$B=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,n,r=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return s},directions=["top","right","bottom","left"],CartesianChart=function(t){function e(e,i,o){void 0===e&&(e=window.document);var n=t.call(this,e,i,o)||this;n.paired=!0,n._lastAxisWidths={top:0,bottom:0,left:0,right:0},n._lastVisibility={crossLines:!0,series:!0};var r=n.scene.root;return n.legend.attachLegend(r),n}return __extends$2c(e,t),e.prototype.performLayout=function(){return __awaiter$a(this,void 0,void 0,(function(){var e,i,o,n,r,s,a,l,c,u;return __generator$a(this,(function(h){switch(h.label){case 0:return[4,t.prototype.performLayout.call(this)];case 1:return e=h.sent(),i=this.updateAxes(e),o=i.seriesRect,n=i.visibility,r=i.clipSeries,this.seriesRoot.visible=n.series,this.seriesRect=o,this.series.forEach((function(t){t.rootGroup.translationX=Math.floor(o.x),t.rootGroup.translationY=Math.floor(o.y)})),a=(s=this).seriesRoot,l=s.seriesAreaPadding,c=o.clone().grow(l),20,u=c.clone().grow(20),this.hoverRect=u,this.layoutService.dispatchLayoutComplete({type:"layout-complete",chart:{width:this.scene.width,height:this.scene.height},series:{rect:o,paddedRect:c,hoverRect:u,visible:n.series},axes:this.axes.map((function(t){return __assign$y({id:t.id},t.getLayoutState())}))}),r?a.setClipRectInGroupCoordinateSpace(c):a.setClipRectInGroupCoordinateSpace(),[2,e]}}))}))},e.prototype.updateAxes=function(t){var e,i,o,n=__assign$y({},this._lastAxisWidths),r=__assign$y({},this._lastVisibility),s=new Set(this._axes.map((function(t){return t.position})));try{for(var a=__values$g(Object.keys(n)),l=a.next();!l.done;l=a.next()){var c=l.value;s.has(c)||delete n[c]}}catch(t){e={error:t}}finally{try{l&&!l.done&&(i=a.return)&&i.call(a)}finally{if(e)throw e.error}}var u,h=function(t,e){return!Object.keys(t).some((function(t){return null==n[t]}))&&(r.crossLines===e.crossLines&&r.series===e.series&&Object.entries(n).every((function(e){var i=__read$B(e,2),o=i[0],n=i[1],r=t[o];return null==n&&null==r||n===r})))},d={},p={},f=!1,g=null===(o=this.seriesRect)||void 0===o?void 0:o.clone(),m=0;do{Object.assign(n,d),Object.assign(r,p);var y=this.updateAxesPass(n,t.clone(),g);if(u=y.axisWidths,d=Object.entries(u).reduce((function(t,e){var i=__read$B(e,2),o=i[0],n=i[1];return n&&Math.abs(n)===1/0&&(n=0),t[o]=null!=n?Math.ceil(n):n,t}),{}),p=y.visibility,f=y.clipSeries,g=y.seriesRect,m++>10){Logger.warn("unable to find stable axis layout.");break}}while(!h(d,p));return this.axes.forEach((function(e){if(e.setCrossLinesVisible(r.crossLines),g)switch(e.clipGrid(g.x,g.y,g.width+5,g.height+5),e.position){case"left":case"right":e.clipTickLines(t.x,g.y,t.width+5,g.height+5);break;case"top":case"bottom":e.clipTickLines(g.x,t.y,g.width+5,t.height+5)}})),this._lastAxisWidths=n,this._lastVisibility=r,{seriesRect:g,visibility:r,clipSeries:f}},e.prototype.updateAxesPass=function(t,e,i){var o=this,n=this.axes,r={},s={},a={series:!0,crossLines:!0},l=!1,c={},u=this.applySeriesPadding(e),h=i?this.buildCrossLinePadding(i,t):{},d=this.buildAxisBound(u,t,h,a),p=this.buildSeriesRect(d,t);return n.forEach((function(e){var i,n,a=e.position,u=o.calculateAxisDimensions({axis:e,seriesRect:p,axisWidths:t,newAxisWidths:s,primaryTickCounts:c,clipSeries:l,addInterAxisPadding:(null!==(i=r[a])&&void 0!==i?i:0)>0}),h=u.clipSeries,f=u.axisThickness,g=u.axisOffset;r[a]=(null!==(n=r[a])&&void 0!==n?n:0)+1,l=l||h,o.positionAxis({axis:e,axisBound:d,axisOffset:g,axisThickness:f,axisWidths:t,primaryTickCounts:c,seriesRect:p})})),{clipSeries:l,seriesRect:p,axisWidths:s,visibility:a}},e.prototype.buildCrossLinePadding=function(t,e){var i,o,n,r={};this.axes.forEach((function(e){e.crossLines&&e.crossLines.forEach((function(e){e.calculatePadding(r,t)}))}));try{for(var s=__values$g(Object.entries(r)),a=s.next();!a.done;a=s.next()){var l=__read$B(a.value,2),c=l[0],u=l[1],h=void 0===u?0:u;r[c]=Math.max(h-(null!==(n=e[c])&&void 0!==n?n:0),0)}}catch(t){i={error:t}}finally{try{a&&!a.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}return r},e.prototype.applySeriesPadding=function(t){var e=this,i=t.clone(),o=this.axes.slice().reverse();return directions.forEach((function(t){var n=e.seriesAreaPadding[t],r=o.find((function(e){return e.position===t}));r?r.seriesAreaPadding=n:i.shrink(n,t)})),i},e.prototype.buildAxisBound=function(t,e,i,o){var n,r,s,a,l=t.clone(),c=i.top,u=void 0===c?0:c,h=i.right,d=void 0===h?0:h,p=i.bottom,f=void 0===p?0:p,g=i.left,m=void 0===g?0:g,y=m+d,v=u+f,_=(null!==(n=e.left)&&void 0!==n?n:0)+(null!==(r=e.right)&&void 0!==r?r:0)+y,C=(null!==(s=e.top)&&void 0!==s?s:0)+(null!==(a=e.bottom)&&void 0!==a?a:0)+v;return l.width<=_||l.height<=C?(o.crossLines=!1,o.series=!1,l):(l.x+=m,l.y+=u,l.width-=y,l.height-=v,l)},e.prototype.buildSeriesRect=function(t,e){var i=t.clone(),o=e.top,n=e.bottom,r=e.left,s=e.right;return i.x+=null!=r?r:0,i.y+=null!=o?o:0,i.width-=(null!=r?r:0)+(null!=s?s:0),i.height-=(null!=o?o:0)+(null!=n?n:0),i.width=Math.max(0,i.width),i.height=Math.max(0,i.height),i},e.prototype.clampToOutsideSeriesRect=function(t,e,i,o){var n=t.x,r=t.y,s=[n,r,n+t.width,r+t.height];return(1===o?Math.min:Math.max)(e,s[("x"===i?0:1)+(1===o?0:2)])},e.prototype.calculateAxisDimensions=function(t){var e,i,o,n,r,s,a=t.axis,l=t.seriesRect,c=t.axisWidths,u=t.newAxisWidths,h=t.primaryTickCounts,d=t.addInterAxisPadding,p=t.clipSeries,f=a.position,g=a.direction;a.label.mirrored=["top","right"].includes(f);var m=null!==(e=u[f])&&void 0!==e?e:0;switch(f){case"top":case"bottom":a.range=[0,l.width],a.gridLength=l.height;break;case"right":case"left":a.range=function(t){return t instanceof CategoryAxis||t instanceof GroupedCategoryAxis?[0,l.height]:[l.height,0]}(a),a.gridLength=l.width}var y=null===(i=this.zoomManager.getZoom())||void 0===i?void 0:i[a.direction],v=null!=y?y:{},_=v.min,C=void 0===_?0:_,b=v.max,E=void 0===b?1:b;a.visibleRange=[C,E],!p&&(a.visibleRange[0]>0||a.visibleRange[1]<1)&&(p=!0);var S=a.nice?h[g]:void 0;S=a.update(S),h[g]=null!==(o=h[g])&&void 0!==o?o:S;var w=0;if(a.thickness)w=a.thickness;else{var O=a.computeBBox();w=g===ChartAxisDirection.X?O.height:O.width}return d&&(w+=15),w=Math.ceil(w),u[f]=(null!==(n=u[f])&&void 0!==n?n:0)+w,a.gridPadding=(null!==(r=c[f])&&void 0!==r?r:0)-(null!==(s=u[f])&&void 0!==s?s:0),{clipSeries:p,axisThickness:w,axisOffset:m}},e.prototype.positionAxis=function(t){var e,i,o,n,r=t.axis,s=t.axisBound,a=t.axisWidths,l=t.seriesRect,c=t.axisOffset,u=t.axisThickness;switch(r.position){case"top":r.translation.x=s.x+(null!==(e=a.left)&&void 0!==e?e:0),r.translation.y=this.clampToOutsideSeriesRect(l,s.y+1+c+u,"y",1);break;case"bottom":r.translation.x=s.x+(null!==(i=a.left)&&void 0!==i?i:0),r.translation.y=this.clampToOutsideSeriesRect(l,s.y+s.height+1-u-c,"y",-1);break;case"left":r.translation.y=s.y+(null!==(o=a.top)&&void 0!==o?o:0),r.translation.x=this.clampToOutsideSeriesRect(l,s.x+c+u,"x",1);break;case"right":r.translation.y=s.y+(null!==(n=a.top)&&void 0!==n?n:0),r.translation.x=this.clampToOutsideSeriesRect(l,s.x+s.width-u-c,"x",-1)}r.updatePosition()},e.className="CartesianChart",e.type="cartesian",e}(Chart),__extends$2b=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),PolarSeries=function(t){function e(e){var i,o=e.useLabelLayer,n=void 0!==o&&o,r=t.call(this,{useLabelLayer:n,pickModes:[SeriesNodePickMode.EXACT_SHAPE_MATCH],directionKeys:(i={},i[ChartAxisDirection.X]=["angleKey"],i[ChartAxisDirection.Y]=["radiusKey"],i)})||this;return r.centerX=0,r.centerY=0,r.radius=0,r}return __extends$2b(e,t),e.prototype.getLabelData=function(){return[]},e.prototype.computeLabelsBBox=function(t){return null},e}(Series),__extends$2a=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__awaiter$9=function(t,e,i,o){return new(i||(i=Promise))((function(n,r){function s(t){try{l(o.next(t))}catch(t){r(t)}}function a(t){try{l(o.throw(t))}catch(t){r(t)}}function l(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(s,a)}l((o=o.apply(t,e||[])).next())}))},__generator$9=function(t,e){var i,o,n,r,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(n=2&r[0]?o.return:r[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,r[1])).done)return n;switch(o=0,n&&(r=[2&r[0],n.value]),r[0]){case 0:case 1:n=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(n=s.trys,(n=n.length>0&&n[n.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!n||r[1]>n[0]&&r[1]<n[3])){s.label=r[1];break}if(6===r[0]&&s.label<n[1]){s.label=n[1],n=r;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(r);break}n[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(t){r=[6,t],o=0}finally{i=n=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},PolarChart=function(t){function e(e,i,o){void 0===e&&(e=window.document);var n=t.call(this,e,i,o)||this;n.padding=new Padding$1(40);var r=n.scene.root;return n.legend.attachLegend(r),n}return __extends$2a(e,t),e.prototype.performLayout=function(){return __awaiter$9(this,void 0,void 0,(function(){var e,i,o;return __generator$9(this,(function(n){switch(n.label){case 0:return[4,t.prototype.performLayout.call(this)];case 1:return e=n.sent(),i=e.clone(),this.computeSeriesRect(e),this.computeCircle(),20,o=e.clone().grow(20),this.hoverRect=o,this.layoutService.dispatchLayoutComplete({type:"layout-complete",chart:{width:this.scene.width,height:this.scene.height},series:{rect:i,paddedRect:e,hoverRect:o,visible:!0},axes:[]}),[2,e]}}))}))},e.prototype.computeSeriesRect=function(t){var e=this.seriesAreaPadding;t.shrink(e.left,"left"),t.shrink(e.top,"top"),t.shrink(e.right,"right"),t.shrink(e.bottom,"bottom"),this.seriesRect=t},e.prototype.computeCircle=function(){var t=this,e=this.seriesRect,i=this.series.filter((function(t){return t instanceof PolarSeries})),o=function(t,e,o){i.forEach((function(i){i.centerX=t,i.centerY=e,i.radius=o}))},n=e.x+e.width/2,r=e.y+e.height/2,s=Math.max(0,Math.min(e.width,e.height)/2),a=s;o(n,r,a);var l=function(e){var l=(void 0===e?{}:e).hideWhenNecessary,c=void 0!==l&&l,u=i.map((function(t){return t.computeLabelsBBox({hideWhenNecessary:c})})).filter((function(t){return null!=t}));if(0!==u.length){var h=BBox.merge(u),d=t.refineCircle(h,a);o(d.centerX,d.centerY,d.radius),d.radius!==a&&(a=d.radius)}else o(n,r,s)};l(),l(),l(),l({hideWhenNecessary:!0}),l({hideWhenNecessary:!0})},e.prototype.refineCircle=function(t,e){var i=this.seriesRect,o=-e,n=-e,r=e,s=e,a=Math.max(0,o-t.x),l=Math.max(0,n-t.y),c=Math.max(0,t.x+t.width-r),u=Math.max(0,t.y+t.height-s),h=i.width-a-c,d=i.height-l-u,p=Math.min(h,d)/2,f=.5*i.width/2,g=.5*i.height/2,m=Math.min(f,g);if(p<m){var y=a+c;if(2*(p=m)+(l+u)>i.height){var v=i.height-2*p;2*Math.min(l,u)>v?(l=v/2,u=v/2):l>u?l=v-u:u=v-l}if(2*p+y>i.width){var _=i.width-2*p;2*Math.min(a,c)>_?(a=_/2,c=_/2):a>c?a=_-c:c=_-a}}var C=a+2*p+c,b=l+2*p+u;return{centerX:i.x+(i.width-C)/2+a+p,centerY:i.y+(i.height-b)/2+l+p,radius:p}},e.className="PolarChart",e.type="polar",e}(Chart),__extends$29=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__awaiter$8=function(t,e,i,o){return new(i||(i=Promise))((function(n,r){function s(t){try{l(o.next(t))}catch(t){r(t)}}function a(t){try{l(o.throw(t))}catch(t){r(t)}}function l(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(s,a)}l((o=o.apply(t,e||[])).next())}))},__generator$8=function(t,e){var i,o,n,r,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(n=2&r[0]?o.return:r[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,r[1])).done)return n;switch(o=0,n&&(r=[2&r[0],n.value]),r[0]){case 0:case 1:n=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(n=s.trys,(n=n.length>0&&n[n.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!n||r[1]>n[0]&&r[1]<n[3])){s.label=r[1];break}if(6===r[0]&&s.label<n[1]){s.label=n[1],n=r;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(r);break}n[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(t){r=[6,t],o=0}finally{i=n=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},HierarchyChart=function(t){function e(e,i,o){void 0===e&&(e=window.document);var n=t.call(this,e,i,o)||this;n._data={};var r=n.scene.root;return n.legend.attachLegend(r),n}return __extends$29(e,t),e.prototype.performLayout=function(){return __awaiter$8(this,void 0,void 0,(function(){var e,i,o,n;return __generator$8(this,(function(r){switch(r.label){case 0:return[4,t.prototype.performLayout.call(this)];case 1:return e=r.sent(),i=this.seriesAreaPadding,o=e.clone(),e.shrink(i.left,"left"),e.shrink(i.top,"top"),e.shrink(i.right,"right"),e.shrink(i.bottom,"bottom"),this.seriesRect=e,20,n=e.clone().grow(20),this.hoverRect=n,this.series.forEach((function(t){t.rootGroup.translationX=Math.floor(e.x),t.rootGroup.translationY=Math.floor(e.y),t.update({seriesRect:e})})),this.seriesRoot.setClipRectInGroupCoordinateSpace(new BBox(e.x,e.y,e.width,e.height)),this.layoutService.dispatchLayoutComplete({type:"layout-complete",chart:{width:this.scene.width,height:this.scene.height},series:{rect:o,paddedRect:e,hoverRect:n,visible:!0},axes:[]}),[2,e]}}))}))},e.className="HierarchyChart",e.type="hierarchy",e}(Chart),__read$A=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,n,r=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return s},interpolatePattern=/(#\{(.*?)\})/g;function interpolate(t,e,i){return t.replace(interpolatePattern,(function(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];var n=t[2],r=__read$A(n.split(":"),2),s=r[0],a=r[1],l=e[s];if("number"==typeof l){var c;if(c=a&&i&&i[a]){var u=c,h=u.locales,d=u.options;return l.toLocaleString(h,d)}return String(l)}return l instanceof Date?"string"==typeof(c=a&&i&&i[a])?buildFormatter(c)(l):l.toDateString():"string"==typeof l||l&&l.toString?String(l):""}))}var element=null;function sanitizeHtml(t){return element=element||document.createElement("div"),t?(element.textContent=t,element.innerHTML):""}function calculateNiceSecondaryAxis(t,e){var i=Math.floor(t[0]),o=t[1],n=getTickStep(i=calculateNiceStart(i,o,e),o,e);return[[i,o=i+(e-1)*n],getTicks(i,n,e)]}function calculateNiceStart(t,e,i){var o=Math.abs(e-t)/(i-1),n=Math.floor(Math.log10(o)),r=Math.pow(10,n);return Math.floor(t/r)*r}function getTicks(t,e,i){for(var o=Math.floor(Math.log10(e)),n=e>0&&e<1?Math.abs(o):0,r=Math.pow(10,n),s=new NumericTicks(n),a=0;a<i;a++){var l=t+e*a;s[a]=Math.round(l*r)/r}return s}function getTickStep(t,e,i){return calculateNextNiceStep((e-t)/(i-1))}function calculateNextNiceStep(t){var e=Math.floor(Math.log10(t)),i=Math.pow(10,e),o=t/i*10;return o>0&&o<=1?i/10:o>1&&o<=2?2*i/10:o>1&&o<=5?5*i/10:o>5&&o<=10?10*i/10:o>10&&o<=20?20*i/10:o>20&&o<=40?40*i/10:o>40&&o<=50?50*i/10:o>50&&o<=100?100*i/10:o}var __extends$28=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$1v=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},__read$z=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,n,r=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return s},NumberAxis=function(t){function e(e,i){void 0===i&&(i=new LinearScale$1);var o=t.call(this,e,i)||this;return o.min=NaN,o.max=NaN,i.strictClampByDefault=!0,o}return __extends$28(e,t),e.prototype.normaliseDataDomain=function(t){var e=this.min,i=this.max;return t.length>2&&(t=extent$4(t)||[NaN,NaN]),isNaN(e)||(t=[e,t[1]]),isNaN(i)||(t=[t[0],i]),t[0]>t[1]&&(t=[]),t},e.prototype.formatDatum=function(t){return"number"==typeof t?t.toFixed(2):(Logger.warnOnce("data contains Date objects which are being plotted against a number axis, please only use a number axis for numbers."),String(t))},e.prototype.updateSecondaryAxisTicks=function(t){if(null==this.dataDomain)throw new Error("AG Charts - dataDomain not calculated, cannot perform tick calculation.");var e=__read$z(calculateNiceSecondaryAxis(this.dataDomain,null!=t?t:0),2),i=e[0],o=e[1];return this.scale.nice=!1,this.scale.domain=i,this.scale.update(),o},e.className="NumberAxis",e.type="number",__decorate$1v([Validate(AND(NUMBER_OR_NAN(),LESS_THAN("max"))),Default(NaN)],e.prototype,"min",void 0),__decorate$1v([Validate(AND(NUMBER_OR_NAN(),GREATER_THAN("min"))),Default(NaN)],e.prototype,"max",void 0),e}(ChartAxis),__extends$27=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$1u=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s};function NON_ZERO_NUMBER(){return predicateWithMessage((function(t){return"number"==typeof t&&0!==t}),"expecting a non-zero Number")}var LogAxis=function(t){function e(e){var i=t.call(this,e,new LogScale)||this;return i.min=NaN,i.max=NaN,i.scale.strictClampByDefault=!0,i}return __extends$27(e,t),e.prototype.normaliseDataDomain=function(t){var e=this.min,i=this.max;t.length>2&&(t=extent$4(t)||[NaN,NaN]),isNaN(e)||(t=[e,t[1]]),isNaN(i)||(t=[t[0],i]);var o=t[0]>t[1],n=t[0]<0&&t[1]>0,r=0===t[0]&&0===t[1];return(o||n||r)&&(t=[],n?Logger.warn("the data domain crosses zero, the chart data cannot be rendered. See log axis documentation for more information."):r&&Logger.warn("the data domain has 0 extent, no data is rendered.")),0===t[0]&&(t[0]=1),0===t[1]&&(t[1]=-1),t},Object.defineProperty(e.prototype,"base",{get:function(){return this.scale.base},set:function(t){this.scale.base=t},enumerable:!1,configurable:!0}),e.className="LogAxis",e.type="log",__decorate$1u([Validate(AND(NUMBER_OR_NAN(),LESS_THAN("max"),NON_ZERO_NUMBER())),Default(NaN)],e.prototype,"min",void 0),__decorate$1u([Validate(AND(NUMBER_OR_NAN(),GREATER_THAN("min"),NON_ZERO_NUMBER())),Default(NaN)],e.prototype,"max",void 0),e}(NumberAxis),__assign$x=function(){return __assign$x=Object.assign||function(t){for(var e,i=1,o=arguments.length;i<o;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},__assign$x.apply(this,arguments)},__values$f=function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],o=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},__read$y=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,n,r=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return s},__spread$k=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$y(arguments[e]));return t};function extendDomain(t,e){var i,o;void 0===e&&(e=[1/0,-1/0]);try{for(var n=__values$f(t),r=n.next();!r.done;r=n.next()){var s=r.value;"number"==typeof s&&(s<e[0]&&(e[0]=s),s>e[1]&&(e[1]=s))}}catch(t){i={error:t}}finally{try{r&&!r.done&&(o=n.return)&&o.call(n)}finally{if(i)throw i.error}}return e}function sumValues(t,e){var i,o;void 0===e&&(e=[0,0]);try{for(var n=__values$f(t),r=n.next();!r.done;r=n.next()){var s=r.value;"number"==typeof s&&(s<0&&(e[0]+=s),s>0&&(e[1]+=s))}}catch(t){i={error:t}}finally{try{r&&!r.done&&(o=n.return)&&o.call(n)}finally{if(i)throw i.error}}return e}function toKeyString(t){return t.map((function(t){return null==t||"number"==typeof t||"string"==typeof t||"boolean"==typeof t?t:"object"==typeof t?JSON.stringify(t):t})).join("-")}var SMALLEST_KEY_INTERVAL={type:"reducer",property:"smallestKeyInterval",initialValue:1/0,reducer:function(){var t=NaN;return function(e,i){var o=i.keys[0],n=Math.abs(o-t);return t=o,!isNaN(n)&&n>0&&n<e?n:e}}},SUM_VALUE_EXTENT={type:"processor",property:"sumValueExtent",calculate:function(t){var e,i,o,n,r,s,a=__spread$k(null!==(n=null===(o=t.domain.sumValues)||void 0===o?void 0:o[0])&&void 0!==n?n:[0,0]);try{for(var l=__values$f(null!==(s=null===(r=t.domain.sumValues)||void 0===r?void 0:r.slice(1))&&void 0!==s?s:[]),c=l.next();!c.done;c=l.next()){var u=__read$y(c.value,2),h=u[0],d=u[1];h<a[0]&&(a[0]=h),d>a[1]&&(a[1]=d)}}catch(t){e={error:t}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(e)throw e.error}}return a}},INVALID_VALUE=Symbol("invalid"),DataModel=function(){function t(t){var e,i,o,n,r,s=this,a=t.props,l=!0;try{for(var c=__values$f(a),u=c.next();!u.done;u=c.next()){var h=u.value;if("key"===h.type&&!l)throw new Error("AG Charts - internal config error: keys must come before values.");"value"===h.type&&l&&(l=!1)}}catch(t){e={error:t}}finally{try{u&&!u.done&&(i=c.return)&&i.call(c)}finally{if(e)throw e.error}}this.opts=__assign$x({dataVisible:!0},t),this.keys=a.filter((function(t){return"key"===t.type})).map((function(t,e){return __assign$x(__assign$x({},t),{index:e,missing:!1})})),this.values=a.filter((function(t){return"value"===t.type})).map((function(t,e){return __assign$x(__assign$x({},t),{index:e,missing:!1})})),this.sums=a.filter((function(t){return"sum"===t.type})),this.reducers=a.filter((function(t){return"reducer"===t.type})),this.processors=a.filter((function(t){return"processor"===t.type}));try{for(var d=__values$f(null!==(r=this.sums)&&void 0!==r?r:[]),p=d.next();!p.done;p=d.next()){var f=p.value.properties;if(0!==f.length&&!f.some((function(t){return s.values.some((function(e){return e.property===t}))})))throw new Error("AG Charts - internal config error: sum properties must match defined properties ("+f+").")}}catch(t){o={error:t}}finally{try{p&&!p.done&&(n=d.return)&&n.call(d)}finally{if(o)throw o.error}}}return t.prototype.resolveProcessedDataIndex=function(t){var e=this.resolveProcessedDataDef(t);if("key"===(null==e?void 0:e.type)||"value"===(null==e?void 0:e.type))return{type:e.type,index:e.index}},t.prototype.resolveProcessedDataDef=function(t){var e=this.keys,i=this.values,o=__spread$k(e,i).find((function(e){return e.property===t}));if(o)return o},t.prototype.getDomain=function(t,e){var i=this.resolveProcessedDataIndex(t);return i?e.domain["key"===i.type?"keys":"values"][i.index]:[]},t.prototype.processData=function(t){var e,i,o,n,r=this,s=r.opts,a=s.groupByKeys,l=s.normaliseTo,c=r.sums,u=r.reducers,h=r.processors,d=performance.now();try{for(var p=__values$f(__spread$k(this.keys,this.values)),f=p.next();!f.done;f=p.next()){(v=f.value).missing=!1}}catch(t){e={error:t}}finally{try{f&&!f.done&&(i=p.return)&&i.call(p)}finally{if(e)throw e.error}}if(!a||0!==this.keys.length){var g=this.extractData(t);a&&(g=this.groupData(g)),c.length>0&&this.sumData(g),"number"==typeof l&&this.normaliseData(g),u.length>0&&this.reduceData(g),h.length>0&&this.postProcessData(g);try{for(var m=__values$f(__spread$k(this.keys,this.values)),y=m.next();!y.done;y=m.next()){var v;(v=y.value).missing&&Logger.warnOnce("the key '"+v.property+"' was not found in at least one data element.")}}catch(t){o={error:t}}finally{try{y&&!y.done&&(n=m.return)&&n.call(m)}finally{if(o)throw o.error}}var _=performance.now();return g.time=_-d,g}},t.prototype.extractData=function(t){var e,i,o,n,r,s,a=this,l=a.keys,c=a.values,u=a.opts.dataVisible,h=this.initDataDomainProcessor(),d=h.dataDomain,p=h.processValue,f=new Array(u?t.length:0),g=0;try{t:for(var m=__values$f(t),y=m.next();!y.done;y=m.next()){var v=y.value,_=u?new Array(l.length):void 0,C=0;try{for(var b=(o=void 0,__values$f(l)),E=b.next();!E.done;E=b.next()){var S=p(E.value,v);if(S===INVALID_VALUE)continue t;_&&(_[C++]=S)}}catch(t){o={error:t}}finally{try{E&&!E.done&&(n=b.return)&&n.call(b)}finally{if(o)throw o.error}}var w=u?new Array(c.length):void 0,O=0;try{for(var x=(r=void 0,__values$f(c)),P=x.next();!P.done;P=x.next()){var T=p(P.value,v);if(T===INVALID_VALUE)continue t;w&&(w[O++]=T)}}catch(t){r={error:t}}finally{try{P&&!P.done&&(s=x.return)&&s.call(x)}finally{if(r)throw r.error}}u&&(f[g++]={datum:v,keys:_,values:w})}}catch(t){e={error:t}}finally{try{y&&!y.done&&(i=m.return)&&i.call(m)}finally{if(e)throw e.error}}f.length=g;var M=function(t){var e=d.get(t.property).domain;return Array.isArray(e)&&e[0]>e[1]?[]:__spread$k(e)};return{type:"ungrouped",data:f,domain:{keys:l.map((function(t){return M(t)})),values:c.map((function(t){return M(t)}))},indices:{keys:l.reduce((function(t,e){var i=e.property,o=e.index;return t[i]=o,t}),{}),values:c.reduce((function(t,e){var i=e.property,o=e.index;return t[i]=o,t}),{})},defs:{keys:l,values:c},time:0}},t.prototype.groupData=function(t){var e,i,o,n,r=new Map;try{for(var s=__values$f(t.data),a=s.next();!a.done;a=s.next()){var l=a.value,c=l.keys,u=l.values,h=l.datum,d=toKeyString(c);if(r.has(d)){var p=r.get(d);p.values.push(u),p.datum.push(h)}else r.set(d,{keys:c,values:[u],datum:[h]})}}catch(t){e={error:t}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(e)throw e.error}}var f=new Array(r.size),g=0;try{for(var m=__values$f(r.entries()),y=m.next();!y.done;y=m.next()){var v=__read$y(y.value,2)[1];c=v.keys,u=v.values,h=v.datum;f[g++]={keys:c,values:u,datum:h}}}catch(t){o={error:t}}finally{try{y&&!y.done&&(n=m.return)&&n.call(m)}finally{if(o)throw o.error}}return __assign$x(__assign$x({},t),{type:"grouped",data:f})},t.prototype.sumData=function(t){var e,i,o,n,r,s,a,l=this.values,c=this.sums;if(c){var u=c.map((function(){return[1/0,-1/0]})),h=c.map((function(t){return t.properties.map((function(t){return l.findIndex((function(e){return e.property===t}))}))}));try{for(var d=__values$f(t.data),p=d.next();!p.done;p=d.next()){var f=p.value,g=f.values;null!==(a=f.sumValues)&&void 0!==a||(f.sumValues=new Array(h.length)),"ungrouped"===t.type&&(g=[g]);var m=0;try{for(var y=(o=void 0,__values$f(h)),v=y.next();!v.done;v=y.next()){var _=v.value,C=extendDomain([]),b=function(t){var e=sumValues(_.map((function(e){return t[e]})));e&&extendDomain(e,C)};try{for(var E=(r=void 0,__values$f(g)),S=E.next();!S.done;S=E.next()){b(S.value)}}catch(t){r={error:t}}finally{try{S&&!S.done&&(s=E.return)&&s.call(E)}finally{if(r)throw r.error}}extendDomain(C,u[m]),f.sumValues[m++]=C}}catch(t){o={error:t}}finally{try{v&&!v.done&&(n=y.return)&&n.call(y)}finally{if(o)throw o.error}}}}catch(t){e={error:t}}finally{try{p&&!p.done&&(i=d.return)&&i.call(d)}finally{if(e)throw e.error}}t.domain.sumValues=u}},t.prototype.normaliseData=function(t){var e,i,o,n,r,s,a,l,c,u,h,d,p,f,g,m=this,y=m.sums,v=m.values,_=m.opts.normaliseTo;if(null!=_)for(var C=t.domain.sumValues,b=y.map((function(t){return t.properties.map((function(t){return v.findIndex((function(e){return e.property===t}))}))})),E=function(t,e){var i=t*_/e;return i>=0?Math.min(_,i):Math.max(-_,i)},S=0;S<y.length;S++){var w=null==C?void 0:C[S];if(null!=w){var O=-1/0;try{for(var x=(e=void 0,__values$f(w)),P=x.next();!P.done;P=x.next()){var T=P.value;O<(j=Math.abs(T))&&(O=j)}}catch(t){e={error:t}}finally{try{P&&!P.done&&(i=x.return)&&i.call(x)}finally{if(e)throw e.error}}var M=0;try{for(var D=(o=void 0,__values$f(w)),A=D.next();!A.done;A=D.next()){A.value;w[M]=E(w[M],O),M++}}catch(t){o={error:t}}finally{try{A&&!A.done&&(n=D.return)&&n.call(D)}finally{if(o)throw o.error}}try{for(var R=(r=void 0,__values$f(t.data)),L=R.next();!L.done;L=R.next()){var I=L.value,N=I.sumValues,k=I.values;"ungrouped"===t.type&&(k=[k]);var F=0;try{for(var B=(a=void 0,__values$f(null!==(g=null==N?void 0:N[S])&&void 0!==g?g:[])),G=B.next();!G.done;G=B.next()){var j;T=G.value;F<(j=Math.abs(T))&&(F=j)}}catch(t){a={error:t}}finally{try{G&&!G.done&&(l=B.return)&&l.call(B)}finally{if(a)throw a.error}}try{for(var V=(c=void 0,__values$f(k)),U=V.next();!U.done;U=V.next()){var W=U.value;try{for(var H=(h=void 0,__values$f(b[S])),$=H.next();!$.done;$=H.next()){var z=$.value;W[z]=E(W[z],F)}}catch(t){h={error:t}}finally{try{$&&!$.done&&(d=H.return)&&d.call(H)}finally{if(h)throw h.error}}}}catch(t){c={error:t}}finally{try{U&&!U.done&&(u=V.return)&&u.call(V)}finally{if(c)throw c.error}}if(null!=N){M=0;try{for(var K=(p=void 0,__values$f(N[S])),Y=K.next();!Y.done;Y=K.next()){Y.value;N[S][M]=E(N[S][M],F),M++}}catch(t){p={error:t}}finally{try{Y&&!Y.done&&(f=K.return)&&f.call(K)}finally{if(p)throw p.error}}}}}catch(t){r={error:t}}finally{try{L&&!L.done&&(s=R.return)&&s.call(R)}finally{if(r)throw r.error}}}}},t.prototype.reduceData=function(t){var e,i,o,n,r,s=this.reducers,a=s.map((function(t){return t.reducer()})),l=s.map((function(t){return t.initialValue}));try{for(var c=__values$f(t.data),u=c.next();!u.done;u=c.next()){var h=u.value,d=0;try{for(var p=(o=void 0,__values$f(a)),f=p.next();!f.done;f=p.next()){var g=f.value;l[d]=g(l[d],h),d++}}catch(t){o={error:t}}finally{try{f&&!f.done&&(n=p.return)&&n.call(p)}finally{if(o)throw o.error}}}}catch(t){e={error:t}}finally{try{u&&!u.done&&(i=c.return)&&i.call(c)}finally{if(e)throw e.error}}for(var m=0;m<l.length;m++)null!==(r=t.reduced)&&void 0!==r||(t.reduced={}),t.reduced[s[m].property]=l[m]},t.prototype.postProcessData=function(t){var e,i,o,n=this.processors;try{for(var r=__values$f(n),s=r.next();!s.done;s=r.next()){var a=s.value;null!==(o=t.reduced)&&void 0!==o||(t.reduced={}),t.reduced[a.property]=a.calculate(t)}}catch(t){e={error:t}}finally{try{s&&!s.done&&(i=r.return)&&i.call(r)}finally{if(e)throw e.error}}},t.prototype.initDataDomainProcessor=function(){var t=this.keys,e=this.values,i=new Map,o=function(t,e,i){"category"===e?i.set(t,{type:e,domain:new Set}):i.set(t,{type:e,domain:[1/0,-1/0]})},n=function(n){return void 0===n&&(n=i),t.forEach((function(t){return o(t.property,t.valueType,n)})),e.forEach((function(t){return o(t.property,t.valueType,n)})),n};n();return{dataDomain:i,processValue:function(t,e,o){var r,s;void 0===o&&(o=i);var a=t.property in e,l="missingValue"in t;t.missing||a||l||(t.missing=!0),o.has(t.property)||n(o);var c=a?e[t.property]:t.missingValue;if(a&&!(null===(s=null===(r=t.validation)||void 0===r?void 0:r.call(t,c))||void 0===s||s)){if(!("invalidValue"in t))return INVALID_VALUE;c=t.invalidValue}var u=o.get(t.property);return"category"===(null==u?void 0:u.type)?u.domain.add(c):"range"===(null==u?void 0:u.type)&&(u.domain[0]>c&&(u.domain[0]=c),u.domain[1]<c&&(u.domain[1]=c)),c},initDataDomain:n}},t}(),__extends$26=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$1t=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},TimeAxis=function(t){function e(e){var i=t.call(this,e,new TimeScale$1)||this;i.datumFormat="%m/%d/%y, %H:%M:%S",i.min=void 0,i.max=void 0;var o=i.scale;return o.strictClampByDefault=!0,i.refreshScale(),i.datumFormatter=o.tickFormat({specifier:i.datumFormat}),i}return __extends$26(e,t),e.prototype.normaliseDataDomain=function(t){var e=this.min,i=this.max;return"number"==typeof e&&(e=new Date(e)),"number"==typeof i&&(i=new Date(i)),t.length>2&&(t=(extent$4(t)||[0,1e3]).map((function(t){return new Date(t)}))),e instanceof Date&&(t=[e,t[1]]),i instanceof Date&&(t=[t[0],i]),t[0]>t[1]&&(t=[]),t},e.prototype.onLabelFormatChange=function(e,i){i?t.prototype.onLabelFormatChange.call(this,e,i):this.labelFormatter=this.scale.tickFormat({ticks:e})},e.prototype.formatDatum=function(t){return this.datumFormatter(t)},e.prototype.calculatePadding=function(t,e){return 1},e.className="TimeAxis",e.type="time",__decorate$1t([Validate(AND(OPT_DATE_OR_DATETIME_MS,LESS_THAN("max")))],e.prototype,"min",void 0),__decorate$1t([Validate(AND(OPT_DATE_OR_DATETIME_MS,GREATER_THAN("min")))],e.prototype,"max",void 0),e}(ChartAxis),__extends$25=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$1s=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},__awaiter$7=function(t,e,i,o){return new(i||(i=Promise))((function(n,r){function s(t){try{l(o.next(t))}catch(t){r(t)}}function a(t){try{l(o.throw(t))}catch(t){r(t)}}function l(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(s,a)}l((o=o.apply(t,e||[])).next())}))},__generator$7=function(t,e){var i,o,n,r,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(n=2&r[0]?o.return:r[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,r[1])).done)return n;switch(o=0,n&&(r=[2&r[0],n.value]),r[0]){case 0:case 1:n=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(n=s.trys,(n=n.length>0&&n[n.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!n||r[1]>n[0]&&r[1]<n[3])){s.label=r[1];break}if(6===r[0]&&s.label<n[1]){s.label=n[1],n=r;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(r);break}n[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(t){r=[6,t],o=0}finally{i=n=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},__read$x=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,n,r=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return s},__spread$j=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$x(arguments[e]));return t},__values$e=function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],o=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},AreaSeriesLabel=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.formatter=void 0,e}return __extends$25(e,t),__decorate$1s([Validate(OPT_FUNCTION)],e.prototype,"formatter",void 0),e}(Label$1),AreaSeriesTooltip=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.renderer=void 0,e.format=void 0,e}return __extends$25(e,t),__decorate$1s([Validate(OPT_FUNCTION)],e.prototype,"renderer",void 0),__decorate$1s([Validate(OPT_STRING)],e.prototype,"format",void 0),e}(SeriesTooltip),AreaSeriesTag;!function(t){t[t.Fill=0]="Fill",t[t.Stroke=1]="Stroke",t[t.Marker=2]="Marker",t[t.Label=3]="Label"}(AreaSeriesTag||(AreaSeriesTag={}));var AreaSeries=function(t){function e(){var e=t.call(this,{pathsPerSeries:2,pathsZIndexSubOrderOffset:[0,1e3],hasMarkers:!0,renderLayerPerSubSeries:!1,directionKeys:{x:["xKey"],y:["yKeys"]}})||this;e.tooltip=new AreaSeriesTooltip,e.marker=new CartesianSeriesMarker,e.label=new AreaSeriesLabel,e.fills=["#c16068","#a2bf8a","#ebcc87","#80a0c3","#b58dae","#85c0d1"],e.strokes=["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"],e.fillOpacity=1,e.strokeOpacity=1,e.lineDash=[0],e.lineDashOffset=0,e._xKey="",e.xName="",e._yKeys=[],e._visibles=[],e.yNames=[],e.strokeWidth=2,e.shadow=void 0;var i=e,o=i.marker,n=i.label;return o.enabled=!1,n.enabled=!1,e}return __extends$25(e,t),Object.defineProperty(e.prototype,"xKey",{get:function(){return this._xKey},set:function(t){this._xKey=t,this.processedData=void 0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"yKeys",{get:function(){return this._yKeys},set:function(t){areArrayItemsStrictlyEqual(this._yKeys,t)||(this._yKeys=t,this.processedData=void 0,this.processSeriesItemEnabled())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"visibles",{get:function(){return this._visibles},set:function(t){this._visibles=t,this.processSeriesItemEnabled()},enumerable:!1,configurable:!0}),e.prototype.processSeriesItemEnabled=function(){var t=this.seriesItemEnabled,e=this._visibles,i=void 0===e?[]:e;t.clear(),this._yKeys.forEach((function(e,o){var n;return t.set(e,null===(n=i[o])||void 0===n||n)}))},Object.defineProperty(e.prototype,"normalizedTo",{get:function(){return this._normalizedTo},set:function(t){var e=t?Math.abs(t):void 0;this._normalizedTo!==e&&(this._normalizedTo=e)},enumerable:!1,configurable:!0}),e.prototype.processData=function(){return __awaiter$7(this,void 0,void 0,(function(){var t,e,i,o,n,r,s,a,l,c,u,h;return __generator$7(this,(function(d){return e=(t=this).xKey,i=t.yKeys,o=t.seriesItemEnabled,n=t.xAxis,r=t.yAxis,s=t.normalizedTo,a=e&&i.length&&this.data?this.data:[],l=(null==n?void 0:n.scale)instanceof ContinuousScale,c=(null==r?void 0:r.scale)instanceof ContinuousScale,u=__spread$j(o.entries()).filter((function(t){return __read$x(t,2)[1]})).map((function(t){return __read$x(t,1)[0]})),h=s&&isFinite(s)?s:void 0,this.dataModel=new DataModel({props:__spread$j([keyProperty(e,l)],u.map((function(t){return valueProperty(t,c,{missingValue:NaN,invalidValue:void 0})})),[sumProperties(u),SUM_VALUE_EXTENT]),groupByKeys:!0,dataVisible:this.visible&&u.length>0,normaliseTo:h}),this.processedData=this.dataModel.processData(a),[2]}))}))},e.prototype.getDomain=function(t){var e=this,i=e.processedData,o=e.xAxis,n=e.yAxis;if(!i)return[];var r=i,s=__read$x(r.defs.keys,1)[0],a=r.domain,l=__read$x(a.keys,1)[0],c=__read$x(a.values,1)[0],u=r.reduced,h=(void 0===u?{}:u)[SUM_VALUE_EXTENT.property];return t===ChartAxisDirection.X?"category"===s.valueType?l:this.fixNumericExtent(extent$4(l),o):n instanceof LogAxis||n instanceof TimeAxis?this.fixNumericExtent(c,n):this.fixNumericExtent(h,n)},e.prototype.createNodeData=function(){return __awaiter$7(this,void 0,void 0,(function(){var t,e,i,o,n,r,s,a,l,c,u,h,d,p,f,g,m,y,v,_,C,b,E,S,w=this;return __generator$7(this,(function(O){return e=(t=this).xAxis,i=t.yAxis,o=t.data,n=t.processedData,r=(void 0===n?{}:n).data,e&&i&&o?(s=[],l=(a=this).yKeys,c=a.xKey,u=a.marker,h=a.label,d=a.fills,p=a.strokes,f=a.id,g=e.scale,m=i.scale,y=m instanceof ContinuousScale,v=(g.bandwidth||0)/2,_=o.length,C=new Array(_).fill(null).map((function(){return{left:0,right:0}})),b=new Array(_).fill(0),E=function(t,e,i,o){var n=g.convert(t)+v,r=C[i][o],s=C[i][o]+e,a=m.convert(r,{strict:!1}),l=m.convert(s,{strict:!1});return C[i][o]=s,[{x:n,y:l,size:u.size},{x:n,y:a,size:u.size}]},S=function(t,e,i,o){var n,r=w.normalizedTo&&isFinite(w.normalizedTo),s=r&&y&&isContinuous(o);return(!r&&!isNaN(o)||s)&&(n=b[i]+=e),{x:g.convert(t)+v,y:m.convert(n,{strict:!1}),size:u.size}},l.forEach((function(t,e){var i,o=null===(i=w.dataModel)||void 0===i?void 0:i.resolveProcessedDataIndex(t),n=[],a=[],l={itemId:t,points:[],yValues:[]},g={itemId:t,points:[]};if(s[e]={itemId:t,fillSelectionData:g,labelData:n,nodeData:a,strokeSelectionData:l},o){var m=g.points,y=[],v=l.points,_=l.yValues,C=-1;null==r||r.forEach((function(i,s){var l=__read$x(i.keys,1)[0],g=i.datum,O=i.values;O.forEach((function(x,P){C++;var T,M=g[P],D=x[o.index],A=isNaN(D)?void 0:D,R=P<O.length-1,L=R?i:r[s+1],I=null==L?void 0:L.keys[0],N=R?P+1:0,k=null==L?void 0:L.values[N][o.index],F=isNaN(k)?void 0:k,B=S(l,+A,C,M[t]);u&&a.push({index:C,series:w,itemId:t,datum:M,nodeMidPoint:{x:B.x,y:B.y},cumulativeValue:b[C],yValue:A,yKey:t,xKey:c,point:B,fill:d[e%d.length],stroke:p[e%p.length]}),T=h.formatter?h.formatter({value:A,seriesId:f}):isNumber$4(A)?Number(A).toFixed(2):String(A),h&&n.push({index:C,itemId:t,point:B,label:T?{text:T,fontStyle:h.fontStyle,fontWeight:h.fontWeight,fontSize:h.fontSize,fontFamily:h.fontFamily,textAlign:"center",textBaseline:"bottom",fill:h.color}:void 0});var G=[l,I],j=[A,F];if(!G.some((function(t){return null==t}))){j.some((function(t){return null==t}))&&(j[0]=0,j[1]=0);var V=E(G[0],+j[0],C,"right");m.push(V[0]),y.push(V[1]);var U=E(G[1],+j[1],C,"left");m.push(U[0]),y.push(U[1]),v.push({x:NaN,y:NaN}),_.push(void 0),v.push(V[0]),_.push(A),void 0!==F&&(v.push(U[0]),_.push(A))}}))}));for(var O=y.length-1;O>=0;O--)m.push(y[O])}})),[2,s]):[2,[]]}))}))},e.prototype.isPathOrSelectionDirty=function(){return this.marker.isDirty()},e.prototype.updatePaths=function(t){return __awaiter$7(this,void 0,void 0,(function(){var e,i,o,n,r,s;return __generator$7(this,(function(a){return e=t.contextData,i=e.fillSelectionData,o=e.strokeSelectionData,n=__read$x(t.paths,2),r=n[0],s=n[1],r.datum=i,r.tag=AreaSeriesTag.Fill,r.lineJoin="round",r.stroke=void 0,r.pointerEvents=PointerEvents.None,s.datum=o,s.tag=AreaSeriesTag.Stroke,s.fill=void 0,s.lineJoin=s.lineCap="round",s.pointerEvents=PointerEvents.None,[2]}))}))},e.prototype.updatePathNodes=function(t){return __awaiter$7(this,void 0,void 0,(function(){var e,i,o,n,r,s,a,l,c,u,h,d,p,f,g,m,y,v,_,C,b,E,S,w,O,x,P;return __generator$7(this,(function(T){e=__read$x(t.paths,2),i=e[0],o=e[1],n=t.seriesIdx,r=t.itemId,a=(s=this).strokes,l=s.fills,c=s.fillOpacity,u=s.strokeOpacity,h=s.strokeWidth,d=s.shadow,m=i.datum.points,i.fill=l[n%l.length],i.fillOpacity=c,i.strokeOpacity=u,i.strokeWidth=h,i.lineDash=this.lineDash,i.lineDashOffset=this.lineDashOffset,i.fillShadow=d,(_=i.path).clear({trackChanges:!0}),C=0;try{for(p=__values$e(m),f=p.next();!f.done;f=p.next())S=f.value,C++>0?_.lineTo(S.x,S.y):_.moveTo(S.x,S.y)}catch(t){w={error:t}}finally{try{f&&!f.done&&(O=p.return)&&O.call(p)}finally{if(w)throw w.error}}_.closePath(),i.checkPathDirty(),g=o.datum,m=g.points,y=g.yValues,v=!0,o.stroke=a[n%a.length],o.strokeWidth=this.getStrokeWidth(this.strokeWidth,{itemId:r}),o.strokeOpacity=u,o.lineDash=this.lineDash,o.lineDashOffset=this.lineDashOffset,(_=o.path).clear({trackChanges:!0}),C=0;try{for(b=__values$e(m),E=b.next();!E.done;E=b.next())S=E.value,void 0===y[C++]?v=!0:v?(_.moveTo(S.x,S.y),v=!1):_.lineTo(S.x,S.y)}catch(t){x={error:t}}finally{try{E&&!E.done&&(P=b.return)&&P.call(b)}finally{if(x)throw x.error}}return o.checkPathDirty(),[2]}))}))},e.prototype.markerFactory=function(){return new(getMarker$1(this.marker.shape))},e.prototype.updateMarkerSelection=function(t){return __awaiter$7(this,void 0,void 0,(function(){var e,i,o,n;return __generator$7(this,(function(r){return e=t.nodeData,i=t.markerSelection,o=this.marker.enabled,n=o&&e?e:[],this.marker.isDirty()&&i.clear(),[2,i.update(n,(function(t){t.tag=AreaSeriesTag.Marker}))]}))}))},e.prototype.updateMarkerNodes=function(t){return __awaiter$7(this,void 0,void 0,(function(){var e,i,o,n,r,s,a,l,c,u,h,d,p,f,g,m,y,v,_,C,b,E,S,w;return __generator$7(this,(function(O){return e=t.markerSelection,i=t.isHighlight,n=(o=this).id,r=o.xKey,s=o.marker,a=o.seriesItemEnabled,l=o.yKeys,c=o.fills,u=o.strokes,h=o.fillOpacity,d=o.marker.fillOpacity,p=void 0===d?h:d,f=o.strokeOpacity,g=o.highlightStyle.item,m=g.fill,y=g.fillOpacity,v=void 0===y?p:y,_=g.stroke,C=g.strokeWidth,b=s.size,E=s.formatter,S=void 0!==s.strokeWidth?s.strokeWidth:this.strokeWidth,w="function"==typeof s.shape,e.each((function(t,e){var o,h,d=l.indexOf(e.yKey),g=i&&void 0!==m?m:s.fill||c[d%c.length],y=i?v:p,O=i&&void 0!==_?_:s.stroke||u[d%c.length],x=i&&void 0!==C?C:S,P=void 0;E&&(P=E({datum:e.datum,xKey:r,yKey:e.yKey,fill:g,stroke:O,strokeWidth:x,size:b,highlighted:i,seriesId:n})),t.fill=P&&P.fill||g,t.stroke=P&&P.stroke||O,t.strokeWidth=P&&void 0!==P.strokeWidth?P.strokeWidth:x,t.fillOpacity=null!=y?y:1,t.strokeOpacity=null!==(h=null!==(o=s.strokeOpacity)&&void 0!==o?o:f)&&void 0!==h?h:1,t.size=P&&void 0!==P.size?P.size:b,t.translationX=e.point.x,t.translationY=e.point.y,t.visible=t.size>0&&!!a.get(e.yKey)&&!isNaN(e.point.x)&&!isNaN(e.point.y),w&&!t.dirtyPath&&(t.path.clear({trackChanges:!0}),t.updatePath(),t.checkPathDirty())})),i||this.marker.markClean(),[2]}))}))},e.prototype.updateLabelSelection=function(t){return __awaiter$7(this,void 0,void 0,(function(){var e;return __generator$7(this,(function(i){return e=t.labelData,[2,t.labelSelection.update(e,(function(t){t.tag=AreaSeriesTag.Label}))]}))}))},e.prototype.updateLabelNodes=function(t){return __awaiter$7(this,void 0,void 0,(function(){var e,i,o,n,r,s,a,l;return __generator$7(this,(function(c){return e=t.labelSelection,i=this.label,o=i.enabled,n=i.fontStyle,r=i.fontWeight,s=i.fontSize,a=i.fontFamily,l=i.color,e.each((function(t,e){var i=e.point,c=e.label;c&&o?(t.fontStyle=n,t.fontWeight=r,t.fontSize=s,t.fontFamily=a,t.textAlign=c.textAlign,t.textBaseline=c.textBaseline,t.text=c.text,t.x=i.x,t.y=i.y-10,t.fill=l,t.visible=!0):t.visible=!1})),[2]}))}))},e.prototype.getNodeClickEvent=function(t,e){return new CartesianSeriesNodeClickEvent(this.xKey,e.yKey,t,e,this)},e.prototype.getNodeDoubleClickEvent=function(t,e){return new CartesianSeriesNodeDoubleClickEvent(this.xKey,e.yKey,t,e,this)},e.prototype.getTooltipHtml=function(t){var e,i,o,n=this.xKey,r=this.id,s=t.yKey,a=null===(e=this.dataModel)||void 0===e?void 0:e.resolveProcessedDataIndex(s);if(!n||!s||!a)return"";var l=t.datum,c=l[n],u=l[s],h=this,d=h.xAxis,p=h.yAxis,f=h.yKeys;if(!(d&&p&&isNumber$4(u)&&a))return"";var g=this,m=g.xName,y=g.yNames,v=g.fills,_=g.strokes,C=g.tooltip,b=g.marker,E=b.size,S=b.formatter,w=b.strokeWidth,O=b.fill,x=b.stroke,P=d.formatDatum(c),T=p.formatDatum(u),M=f.indexOf(s),D=null===(o=null===(i=this.processedData)||void 0===i?void 0:i.data[t.index])||void 0===o?void 0:o.values[0][null==a?void 0:a.index],A=y[M],R=sanitizeHtml(A),L=sanitizeHtml(P+": "+T),I=void 0!==w?w:this.strokeWidth,N=O||v[M%v.length],k=x||_[M%v.length],F=void 0;S&&(F=S({datum:l,xKey:n,yKey:s,fill:N,stroke:k,strokeWidth:I,size:E,highlighted:!1,seriesId:r}));var B=F&&F.fill||N,G={title:R,backgroundColor:B,content:L},j=C.renderer,V=C.format;if(V||j){var U={datum:l,xKey:n,xName:m,xValue:c,yKey:s,yValue:u,processedYValue:D,yName:A,color:B,title:R,seriesId:r};if(V)return toTooltipHtml$1({content:interpolate(V,U)},G);if(j)return toTooltipHtml$1(j(U),G)}return toTooltipHtml$1(G)},e.prototype.getLegendData=function(){var t,e,i=this,o=i.data,n=i.id,r=i.xKey,s=i.yKeys,a=i.yNames,l=i.seriesItemEnabled,c=i.marker,u=i.fills,h=i.strokes,d=i.fillOpacity,p=i.strokeOpacity;if(!(o&&o.length&&r&&s.length))return[];for(var f=[],g=s.length-1;g>=0;g--){var m=s[g];f.push({id:n,itemId:m,seriesId:n,enabled:l.get(m)||!1,label:{text:a[g]||s[g]},marker:{shape:c.shape,fill:c.fill||u[g%u.length],stroke:c.stroke||h[g%h.length],fillOpacity:null!==(t=c.fillOpacity)&&void 0!==t?t:d,strokeOpacity:null!==(e=c.strokeOpacity)&&void 0!==e?e:p}})}return f},e.prototype.isLabelEnabled=function(){return this.label.enabled},e.className="AreaSeries",e.type="area",__decorate$1s([Validate(COLOR_STRING_ARRAY)],e.prototype,"fills",void 0),__decorate$1s([Validate(COLOR_STRING_ARRAY)],e.prototype,"strokes",void 0),__decorate$1s([Validate(NUMBER(0,1))],e.prototype,"fillOpacity",void 0),__decorate$1s([Validate(NUMBER(0,1))],e.prototype,"strokeOpacity",void 0),__decorate$1s([Validate(OPT_LINE_DASH)],e.prototype,"lineDash",void 0),__decorate$1s([Validate(NUMBER(0))],e.prototype,"lineDashOffset",void 0),__decorate$1s([Validate(STRING)],e.prototype,"_xKey",void 0),__decorate$1s([Validate(STRING)],e.prototype,"xName",void 0),__decorate$1s([Validate(STRING_ARRAY)],e.prototype,"_yKeys",void 0),__decorate$1s([Validate(BOOLEAN_ARRAY)],e.prototype,"_visibles",void 0),__decorate$1s([Validate(STRING_ARRAY)],e.prototype,"yNames",void 0),__decorate$1s([Validate(OPT_NUMBER())],e.prototype,"_normalizedTo",void 0),__decorate$1s([Validate(NUMBER(0))],e.prototype,"strokeWidth",void 0),e}(CartesianSeries),__extends$24=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$1r=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},Rect=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.borderPath=new Path2D,e.x=0,e.y=0,e.width=10,e.height=10,e.radius=0,e.crisp=!1,e.lastUpdatePathStrokeWidth=Shape.defaultStyles.strokeWidth,e.effectiveStrokeWidth=Shape.defaultStyles.strokeWidth,e.microPixelEffectOpacity=1,e}return __extends$24(e,t),e.prototype.isDirtyPath=function(){var t;return this.lastUpdatePathStrokeWidth!==this.strokeWidth||!!(this.path.isDirty()||this.borderPath.isDirty()||(null===(t=this.clipPath)||void 0===t?void 0:t.isDirty()))},e.prototype.updatePath=function(){var t,e,i,o=this,n=o.path,r=o.borderPath,s=o.crisp,a=this,l=a.x,c=a.y,u=a.width,h=a.height,d=a.strokeWidth,p=1/(null!==(e=null===(t=this.layerManager)||void 0===t?void 0:t.canvas.pixelRatio)&&void 0!==e?e:1),f=1;if(n.clear({trackChanges:!0}),r.clear({trackChanges:!0}),s&&(u<=p&&(f*=u/p),h<=p&&(f*=h/p),u=this.align(l,u),h=this.align(c,h),l=this.align(l),c=this.align(c)),d)if(u<p){var g=l+p/2;r.moveTo(g,c),r.lineTo(g,c+h),d=p,this.borderClipPath=void 0}else if(h<p){var m=c+p/2;r.moveTo(l,m),r.lineTo(l+u,m),d=p,this.borderClipPath=void 0}else if(d<u&&d<h){var y=d/2;l+=y,c+=y,u-=d,h-=d,this.borderClipPath=void 0,n.rect(l,c,u,h),r.rect(l,c,u,h)}else this.borderClipPath=null!==(i=this.borderClipPath)&&void 0!==i?i:new Path2D,this.borderClipPath.clear({trackChanges:!0}),this.borderClipPath.rect(l,c,u,h),r.rect(l,c,u,h);else this.borderClipPath=void 0,n.rect(l,c,u,h);this.effectiveStrokeWidth=d,this.lastUpdatePathStrokeWidth=d,this.microPixelEffectOpacity=f},e.prototype.computeBBox=function(){var t=this,e=t.x,i=t.y,o=t.width,n=t.height;return new BBox(e,i,o,n)},e.prototype.isPointInPath=function(t,e){var i=this.transformPoint(t,e);return this.computeBBox().containsPoint(i.x,i.y)},e.prototype.applyFillAlpha=function(t){var e=this,i=e.fillOpacity,o=e.microPixelEffectOpacity,n=e.opacity;t.globalAlpha=n*i*o},e.prototype.renderStroke=function(t){var e=this,i=e.stroke,o=e.effectiveStrokeWidth,n=e.borderPath,r=e.borderClipPath,s=e.opacity,a=e.microPixelEffectOpacity;if(!!i&&!!o){var l=this,c=l.strokeOpacity,u=l.lineDash,h=l.lineDashOffset,d=l.lineCap,p=l.lineJoin;r&&(r.draw(t),t.clip()),n.draw(t);var f=t.globalAlpha;t.strokeStyle=i,t.globalAlpha=f*s*c*a,t.lineWidth=o,u&&t.setLineDash(u),h&&(t.lineDashOffset=h),d&&(t.lineCap=d),p&&(t.lineJoin=p),t.stroke(),t.globalAlpha=f}},e.className="Rect",__decorate$1r([ScenePathChangeDetection()],e.prototype,"x",void 0),__decorate$1r([ScenePathChangeDetection()],e.prototype,"y",void 0),__decorate$1r([ScenePathChangeDetection()],e.prototype,"width",void 0),__decorate$1r([ScenePathChangeDetection()],e.prototype,"height",void 0),__decorate$1r([ScenePathChangeDetection()],e.prototype,"radius",void 0),__decorate$1r([ScenePathChangeDetection()],e.prototype,"crisp",void 0),e}(Path),__extends$23=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$1q=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},__awaiter$6=function(t,e,i,o){return new(i||(i=Promise))((function(n,r){function s(t){try{l(o.next(t))}catch(t){r(t)}}function a(t){try{l(o.throw(t))}catch(t){r(t)}}function l(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(s,a)}l((o=o.apply(t,e||[])).next())}))},__generator$6=function(t,e){var i,o,n,r,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(n=2&r[0]?o.return:r[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,r[1])).done)return n;switch(o=0,n&&(r=[2&r[0],n.value]),r[0]){case 0:case 1:n=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(n=s.trys,(n=n.length>0&&n[n.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!n||r[1]>n[0]&&r[1]<n[3])){s.label=r[1];break}if(6===r[0]&&s.label<n[1]){s.label=n[1],n=r;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(r);break}n[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(t){r=[6,t],o=0}finally{i=n=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},__read$w=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,n,r=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return s},__spread$i=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$w(arguments[e]));return t},BAR_LABEL_PLACEMENTS=["inside","outside"],OPT_BAR_LABEL_PLACEMENT=function(t,e){return OPTIONAL(t,e,(function(t){return BAR_LABEL_PLACEMENTS.includes(t)}))},BarSeriesNodeTag;!function(t){t[t.Bar=0]="Bar",t[t.Label=1]="Label"}(BarSeriesNodeTag||(BarSeriesNodeTag={}));var BarSeriesLabel=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.formatter=void 0,e.placement="inside",e}return __extends$23(e,t),__decorate$1q([Validate(OPT_FUNCTION)],e.prototype,"formatter",void 0),__decorate$1q([Validate(OPT_BAR_LABEL_PLACEMENT)],e.prototype,"placement",void 0),e}(Label$1),BarSeriesTooltip=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.renderer=void 0,e}return __extends$23(e,t),__decorate$1q([Validate(OPT_FUNCTION)],e.prototype,"renderer",void 0),e}(SeriesTooltip);function is2dArray$1(t){return t.length>0&&Array.isArray(t[0])}var BarSeries=function(t){function e(){var e,i=t.call(this,{pickModes:[SeriesNodePickMode.EXACT_SHAPE_MATCH],pathsPerSeries:0,directionKeys:(e={},e[ChartAxisDirection.X]=["xKey"],e[ChartAxisDirection.Y]=["yKeys"],e)})||this;return i.label=new BarSeriesLabel,i.tooltip=new BarSeriesTooltip,i.flipXY=!1,i.fills=["#c16068","#a2bf8a","#ebcc87","#80a0c3","#b58dae","#85c0d1"],i.strokes=["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"],i.fillOpacity=1,i.strokeOpacity=1,i.lineDash=[0],i.lineDashOffset=0,i.formatter=void 0,i.groupScale=new BandScale$5,i._xKey="",i.xName="",i.cumYKeyCount=[],i.flatYKeys=void 0,i.hideInLegend=[],i.yKeys=[],i.yKeysCache=[],i.visibles=[],i._grouped=!1,i.stackGroups={},i.yNames={},i.strokeWidth=1,i.shadow=void 0,i.smallestDataInterval=void 0,i.label.enabled=!1,i}return __extends$23(e,t),e.prototype.resolveKeyDirection=function(t){return this.flipXY?flipChartAxisDirection(t):t},Object.defineProperty(e.prototype,"xKey",{get:function(){return this._xKey},set:function(t){this._xKey=t,this.processedData=void 0},enumerable:!1,configurable:!0}),e.prototype.processYKeys=function(){var t=this,e=this.yKeys,i=void 0;is2dArray$1(e)||(i=e,e=this.grouped?i.map((function(t){return[t]})):[i]);var o=Object.values(this.stackGroups);if(o.length>0){var n=function(t){return t.reduce((function(t,e){return t.concat(e)}),[])},r=n(e),s=new Set(n(o)),a=r.filter((function(t){return!s.has(t)}));e=o.map((function(t){return t})),a.length>0&&e.push(a);var l=n(e),c=l.reduce((function(t,e,i){return t.set(e,i)}),new Map),u=function(t){var e=Array.from({length:t.length});return t.forEach((function(t,i){var o=r[i],n=c.get(o);e[n]=t})),e};this.fills=u(this.fills),this.strokes=u(this.strokes),this.visibles=u(this.visibles)}if(!areArrayItemsStrictlyEqual(this.yKeysCache,e)){this.flatYKeys=i||void 0,this.yKeys=e;var h=0;this.cumYKeyCount=[];var d=[];e.forEach((function(e,i){e.length>0&&d.push(String(i)),t.cumYKeyCount.push(h),h+=e.length})),this.processSeriesItemEnabled(),this.groupScale.domain=d}this.yKeysCache=e},e.prototype.processSeriesItemEnabled=function(){var t=this.seriesItemEnabled,e=this.visibles.reduce((function(t,e){return t.concat.apply(t,__spread$i(Array.isArray(e)?e:[e]))}),[]);t.clear();var i=0;this.yKeys.forEach((function(o){o.forEach((function(o){var n;return t.set(o,null===(n=e[i++])||void 0===n||n)}))}))},Object.defineProperty(e.prototype,"grouped",{get:function(){return this._grouped},set:function(t){this._grouped=t},enumerable:!1,configurable:!0}),e.prototype.getStackGroup=function(t){var e,i=this.stackGroups;return null===(e=Object.entries(i).find((function(e){var i=__read$w(e,2);return i[0],i[1].includes(t)})))||void 0===e?void 0:e[0]},e.prototype.processYNames=function(){var t=this.yNames;if(Array.isArray(t)&&this.flatYKeys){var e={};this.flatYKeys.forEach((function(i,o){e[i]=t[o]})),this.yNames=e}},Object.defineProperty(e.prototype,"normalizedTo",{get:function(){return this._normalizedTo},set:function(t){var e=t?Math.abs(t):void 0;this._normalizedTo=e},enumerable:!1,configurable:!0}),e.prototype.processData=function(){var t,e,i,o,n;return __awaiter$6(this,void 0,void 0,(function(){var r,s,a,l,c,u,h,d,p,f,g;return __generator$6(this,(function(m){return this.processYKeys(),this.processYNames(),s=(r=this).xKey,a=r.seriesItemEnabled,l=r.normalizedTo,c=r.data,u=void 0===c?[]:c,h=(null===(t=this.getCategoryAxis())||void 0===t?void 0:t.scale)instanceof ContinuousScale,d=(null===(e=this.getValueAxis())||void 0===e?void 0:e.scale)instanceof ContinuousScale,p=__spread$i(a.entries()).filter((function(t){return __read$w(t,2)[1]})).map((function(t){return __read$w(t,1)[0]})),f=this.yKeys.map((function(t){return t.filter((function(t){return a.get(t)}))})).filter((function(t){return t.length>0})),g=l&&isFinite(l)?l:void 0,this.dataModel=new DataModel({props:__spread$i([keyProperty(s,h)],p.map((function(t){return valueProperty(t,d,{invalidValue:null})})),f.map((function(t){return sumProperties(t)})),h?[SMALLEST_KEY_INTERVAL]:[],[SUM_VALUE_EXTENT]),groupByKeys:!0,dataVisible:this.visible&&p.length>0,normaliseTo:g}),this.processedData=this.dataModel.processData(u),this.smallestDataInterval={x:null!==(n=null===(o=null===(i=this.processedData)||void 0===i?void 0:i.reduced)||void 0===o?void 0:o[SMALLEST_KEY_INTERVAL.property])&&void 0!==n?n:1/0,y:1/0},[2]}))}))},e.prototype.getDomain=function(t){var e=this.flipXY,i=this.processedData;if(!i)return[];e&&(t=flipChartAxisDirection(t));var o=i,n=__read$w(o.defs.keys,1)[0],r=o.domain,s=__read$w(r.keys,1)[0],a=__read$w(r.values,1)[0],l=o.reduced,c=void 0===l?{}:l,u=c[SMALLEST_KEY_INTERVAL.property],h=c[SUM_VALUE_EXTENT.property];if(t===ChartAxisDirection.X){if("category"===n.valueType)return s;var d=extent$4(s)||[NaN,NaN];return e?[d[0]+-u,d[1]]:[d[0],d[1]+u]}return this.getValueAxis()instanceof LogAxis?this.fixNumericExtent(a):this.fixNumericExtent(h)},e.prototype.getNodeClickEvent=function(t,e){return new CartesianSeriesNodeClickEvent(this.xKey,e.yKey,t,e,this)},e.prototype.getNodeDoubleClickEvent=function(t,e){return new CartesianSeriesNodeDoubleClickEvent(this.xKey,e.yKey,t,e,this)},e.prototype.getCategoryAxis=function(){return this.flipXY?this.yAxis:this.xAxis},e.prototype.getValueAxis=function(){return this.flipXY?this.xAxis:this.yAxis},e.prototype.calculateStep=function(t){var e,i=this.smallestDataInterval,o=this.getCategoryAxis();if(o){var n=(o.dataDomain[1]-o.dataDomain[0])/(null!==(e=null==i?void 0:i.x)&&void 0!==e?e:1)+1,r=Math.floor(t),s=Math.min(n,r);return t/Math.max(1,s)}},e.prototype.createNodeData=function(){return __awaiter$6(this,void 0,void 0,(function(){var t,e,i,o,n,r,s,a,l,c,u,h,d,p,f,g,m,y,v,_,C,b,E,S,w,O,x,P,T,M,D,A,R=this;return __generator$6(this,(function(L){return e=(t=this).data,i=t.visible,o=this.getCategoryAxis(),n=this.getValueAxis(),e&&i&&o&&n?(r=o.scale,s=n.scale,l=(a=this).groupScale,c=a.yKeys,u=a.xKey,h=a.cumYKeyCount,d=a.fills,p=a.strokes,f=a.strokeWidth,g=a.seriesItemEnabled,m=a.label,y=a.flipXY,v=a.id,_=a.processedData,C=m.fontStyle,b=m.fontWeight,E=m.fontSize,S=m.fontFamily,w=m.color,O=m.formatter,x=m.placement,P=r.bandwidth,r instanceof ContinuousScale&&(T=Math.max(o.range[0],o.range[1]),M=this.calculateStep(T),P=M),l.range=[0,P],l.padding=o instanceof CategoryAxis?o.groupPaddingInner:o instanceof GroupedCategoryAxis?.1:0,0===l.padding?l.round=!1:l.round=!0,D=l.bandwidth>=1?l.bandwidth:l.rawBandwidth,A=[],null==_||_.data.forEach((function(t,e){for(var i,n,a,m,P,T,M=t.keys,L=t.datum,I=t.values,N=r.convert(M[0]),k=0;k<(null!==(i=null==c?void 0:c.length)&&void 0!==i?i:0);k++){var F=null!==(n=null==c?void 0:c[k])&&void 0!==n?n:[];null!==(a=A[k])&&void 0!==a||(A[k]=[]);for(var B=0,G=0,j=0;j<F.length;j++){var V=F[j],U=null!==(m=null==_?void 0:_.indices.values[V])&&void 0!==m?m:-1;if(null!==(P=(T=A[k])[j])&&void 0!==P||(T[j]={itemId:V,nodeData:[],labelData:[]}),void 0!==U){var W=I[0][U],H=+W,$=N+l.convert(String(k));if(o.inRange($,D)&&!isNaN(H)){var z=H<0?B:G,K=s.convert(z+H,{strict:!1}),Y=s.convert(z,{strict:!1}),X=void 0;X=O?O({value:isNumber$4(W)?W:void 0,seriesId:v}):isNumber$4(W)?W.toFixed(2):"";var Z=void 0,q=void 0;y?(q=$+D/2,Z="inside"===x?K+(W>=0?-1:1)*Math.abs(Y-K)/2:K+4*(W>=0?1:-1)):(Z=$+D/2,q="inside"===x?K+(W>=0?1:-1)*Math.abs(Y-K)/2:K+(W>=0?-3:4));var J=void 0,Q=void 0;"inside"===x?(J="center",Q="middle"):(J=y?W>=0?"start":"end":"center",Q=y?"middle":W>=0?"bottom":"top");var tt=h[k]+j,et={x:y?Math.min(K,Y):$,y:y?$:Math.min(K,Y),width:y?Math.abs(Y-K):D,height:y?D:Math.abs(Y-K)},it={x:et.x+et.width/2,y:et.y+et.height/2},ot={index:e,series:R,itemId:V,datum:L[0],cumulativeValue:z+H,yValue:W,yKey:V,xKey:u,x:et.x,y:et.y,width:et.width,height:et.height,nodeMidPoint:it,colorIndex:tt,fill:d[tt%d.length],stroke:p[tt%p.length],strokeWidth:f,label:g.get(V)&&X?{text:X,fontStyle:C,fontWeight:b,fontSize:E,fontFamily:S,textAlign:J,textBaseline:Q,fill:w,x:Z,y:q}:void 0};A[k][j].nodeData.push(ot),A[k][j].labelData.push(ot),H<0?B+=H:G+=H}}}}})),[2,A.reduce((function(t,e){return t.concat.apply(t,__spread$i(e))}),[])]):[2,[]]}))}))},e.prototype.nodeFactory=function(){return new Rect},e.prototype.updateDatumSelection=function(t){return __awaiter$6(this,void 0,void 0,(function(){var e;return __generator$6(this,(function(i){return e=t.nodeData,[2,t.datumSelection.update(e,(function(t){return t.tag=BarSeriesNodeTag.Bar}))]}))}))},e.prototype.updateDatumNodes=function(t){var e,i;return __awaiter$6(this,void 0,void 0,(function(){var o,n,r,s,a,l,c,u,h,d,p,f,g,m,y,v,_,C,b,E,S,w,O=this;return __generator$6(this,(function(x){return o=t.datumSelection,n=t.isHighlight,s=(r=this).fills,a=r.strokes,l=r.fillOpacity,c=r.strokeOpacity,u=r.shadow,h=r.formatter,d=r.xKey,p=r.flipXY,f=r.highlightStyle.item,g=f.fill,m=f.fillOpacity,y=void 0===m?l:m,v=f.stroke,_=f.strokeWidth,C=r.id,b=__read$w(null!==(i=null===(e=this.xAxis)||void 0===e?void 0:e.visibleRange)&&void 0!==i?i:[],2),E=b[0],S=b[1],w=!(0!==E||1!==S),o.each((function(t,e){var i=e.colorIndex,o=n&&void 0!==g?g:s[i%s.length],r=n&&void 0!==v?v:a[i%s.length],f=n&&void 0!==_?_:O.getStrokeWidth(O.strokeWidth,e),m=n?y:l,b=O.getStackGroup(e.yKey),E=void 0;h&&(E=h({datum:e.datum,fill:o,stroke:r,strokeWidth:f,highlighted:n,xKey:d,yKey:e.yKey,seriesId:C,stackGroup:b})),t.crisp=w,t.x=e.x,t.y=e.y,t.width=e.width,t.height=e.height,t.fill=E&&E.fill||o,t.stroke=E&&E.stroke||r,t.strokeWidth=E&&void 0!==E.strokeWidth?E.strokeWidth:f,t.fillOpacity=m,t.strokeOpacity=c,t.lineDash=O.lineDash,t.lineDashOffset=O.lineDashOffset,t.fillShadow=u,t.visible=p?e.width>0:e.height>0})),[2]}))}))},e.prototype.updateLabelSelection=function(t){return __awaiter$6(this,void 0,void 0,(function(){var e,i,o,n;return __generator$6(this,(function(r){return e=t.labelData,i=t.labelSelection,o=this.label.enabled,n=o?e:[],[2,i.update(n,(function(t){t.tag=BarSeriesNodeTag.Label,t.pointerEvents=PointerEvents.None}))]}))}))},e.prototype.updateLabelNodes=function(t){return __awaiter$6(this,void 0,void 0,(function(){var e,i,o,n,r,s,a,l;return __generator$6(this,(function(c){return e=t.labelSelection,i=this.label,o=i.enabled,n=i.fontStyle,r=i.fontWeight,s=i.fontSize,a=i.fontFamily,l=i.color,e.each((function(t,e){var i=e.label;i&&o?(t.fontStyle=n,t.fontWeight=r,t.fontSize=s,t.fontFamily=a,t.textAlign=i.textAlign,t.textBaseline=i.textBaseline,t.text=i.text,t.x=i.x,t.y=i.y,t.fill=l,t.visible=!0):t.visible=!1})),[2]}))}))},e.prototype.getTooltipHtml=function(t){var e=this,i=e.xKey,o=e.yKeys,n=e.processedData,r=this.getCategoryAxis(),s=this.getValueAxis(),a=t.yKey;if(!(n&&i&&a&&r&&s))return"";for(var l=0,c=0,u=0;u<o.length;u++){var h=o[u];if((c=h.indexOf(a))>=0){l+=c;break}l+=h.length}var d=this,p=d.xName,f=d.yNames,g=d.fills,m=d.strokes,y=d.tooltip,v=d.formatter,_=d.id,C=y.renderer,b=t.datum,E=f[a],S=this.getStackGroup(a),w=g[l%g.length],O=m[l%g.length],x=this.getStrokeWidth(this.strokeWidth),P=b[i],T=b[a],M=sanitizeHtml(r.formatDatum(P)),D=sanitizeHtml(s.formatDatum(T)),A=sanitizeHtml(E),R=M+": "+D,L=void 0;v&&(L=v({datum:b,fill:w,stroke:O,strokeWidth:x,highlighted:!1,xKey:i,yKey:a,seriesId:_,stackGroup:S}));var I=L&&L.fill||w,N={title:A,backgroundColor:I,content:R};return C?toTooltipHtml$1(C({datum:b,xKey:i,xValue:P,xName:p,yKey:a,yValue:T,yName:E,color:I,title:A,seriesId:_,stackGroup:S}),N):toTooltipHtml$1(N)},e.prototype.getLegendData=function(){var t=this,e=t.id,i=t.data,o=t.xKey,n=t.yKeys,r=t.yNames,s=t.cumYKeyCount,a=t.seriesItemEnabled,l=t.hideInLegend,c=t.fills,u=t.strokes,h=t.fillOpacity,d=t.strokeOpacity,p=t.flipXY;if(!(i&&i.length&&o&&n.length))return[];var f=[];return this.yKeys.forEach((function(t,i){for(var o=p?0:t.length-1,n=p?1:-1,g=o,m=0;m<t.length;g+=n,m++){var y=t[g];if(l.indexOf(y)>=0)return;var v=s[i]+g;f.push({id:e,itemId:y,seriesId:e,enabled:a.get(y)||!1,label:{text:r[y]||y},marker:{fill:c[v%c.length],stroke:u[v%u.length],fillOpacity:h,strokeOpacity:d}})}})),f},e.prototype.toggleSeriesItem=function(e,i){t.prototype.toggleSeriesItem.call(this,e,i);var o=this.yKeys.map((function(t){return t.slice()}));this.seriesItemEnabled.forEach((function(t,e){t||o.forEach((function(t){var i=t.indexOf(e);i>=0&&t.splice(i,1)}))}));var n=[];o.forEach((function(t,e){t.length>0&&n.push(String(e))})),this.groupScale.domain=n,this.nodeDataRefresh=!0},e.prototype.isLabelEnabled=function(){return this.label.enabled},e.prototype.getBandScalePadding=function(){return{inner:.2,outer:.3}},e.className="BarSeries",e.type="bar",__decorate$1q([Validate(BOOLEAN)],e.prototype,"flipXY",void 0),__decorate$1q([Validate(COLOR_STRING_ARRAY)],e.prototype,"fills",void 0),__decorate$1q([Validate(COLOR_STRING_ARRAY)],e.prototype,"strokes",void 0),__decorate$1q([Validate(NUMBER(0,1))],e.prototype,"fillOpacity",void 0),__decorate$1q([Validate(NUMBER(0,1))],e.prototype,"strokeOpacity",void 0),__decorate$1q([Validate(OPT_LINE_DASH)],e.prototype,"lineDash",void 0),__decorate$1q([Validate(NUMBER(0))],e.prototype,"lineDashOffset",void 0),__decorate$1q([Validate(OPT_FUNCTION)],e.prototype,"formatter",void 0),__decorate$1q([Validate(STRING)],e.prototype,"_xKey",void 0),__decorate$1q([Validate(STRING)],e.prototype,"xName",void 0),__decorate$1q([Validate(STRING_ARRAY)],e.prototype,"hideInLegend",void 0),__decorate$1q([Validate(BOOLEAN_ARRAY)],e.prototype,"visibles",void 0),__decorate$1q([Validate(BOOLEAN)],e.prototype,"_grouped",void 0),__decorate$1q([Validate(OPT_NUMBER())],e.prototype,"_normalizedTo",void 0),__decorate$1q([Validate(NUMBER(0))],e.prototype,"strokeWidth",void 0),e}(CartesianSeries),__extends$22=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$1p=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},__awaiter$5=function(t,e,i,o){return new(i||(i=Promise))((function(n,r){function s(t){try{l(o.next(t))}catch(t){r(t)}}function a(t){try{l(o.throw(t))}catch(t){r(t)}}function l(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(s,a)}l((o=o.apply(t,e||[])).next())}))},__generator$5=function(t,e){var i,o,n,r,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(n=2&r[0]?o.return:r[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,r[1])).done)return n;switch(o=0,n&&(r=[2&r[0],n.value]),r[0]){case 0:case 1:n=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(n=s.trys,(n=n.length>0&&n[n.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!n||r[1]>n[0]&&r[1]<n[3])){s.label=r[1];break}if(6===r[0]&&s.label<n[1]){s.label=n[1],n=r;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(r);break}n[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(t){r=[6,t],o=0}finally{i=n=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},__read$v=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,n,r=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return s},__spread$h=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$v(arguments[e]));return t},HISTOGRAM_AGGREGATIONS=["count","sum","mean"],HISTOGRAM_AGGREGATION=predicateWithMessage((function(t){return HISTOGRAM_AGGREGATIONS.includes(t)}),"expecting a histogram aggregation keyword such as 'count', 'sum' or 'mean"),HistogramSeriesNodeTag;!function(t){t[t.Bin=0]="Bin",t[t.Label=1]="Label"}(HistogramSeriesNodeTag||(HistogramSeriesNodeTag={}));var HistogramSeriesLabel=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.formatter=void 0,e}return __extends$22(e,t),__decorate$1p([Validate(OPT_FUNCTION)],e.prototype,"formatter",void 0),e}(Label$1),defaultBinCount=10,aggregationFunctions={count:function(t){return t.data.length},sum:function(t,e){return t.data.reduce((function(t,i){return t+i[e]}),0)},mean:function(t,e){return aggregationFunctions.sum(t,e)/aggregationFunctions.count(t,e)}},HistogramBin=function(){function t(t){var e=__read$v(t,2),i=e[0],o=e[1];this.data=[],this.aggregatedValue=0,this.frequency=0,this.domain=[i,o]}return t.prototype.addDatum=function(t){this.data.push(t),this.frequency++},Object.defineProperty(t.prototype,"domainWidth",{get:function(){var t=__read$v(this.domain,2),e=t[0];return t[1]-e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"relativeHeight",{get:function(){return this.aggregatedValue/this.domainWidth},enumerable:!1,configurable:!0}),t.prototype.calculateAggregatedValue=function(t,e){e||(t="count");var i=aggregationFunctions[t];this.aggregatedValue=i(this,e)},t.prototype.getY=function(t){return t?this.relativeHeight:this.aggregatedValue},t}(),HistogramSeriesTooltip=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.renderer=void 0,e}return __extends$22(e,t),__decorate$1p([Validate(OPT_FUNCTION)],e.prototype,"renderer",void 0),e}(SeriesTooltip),HistogramSeries=function(t){function e(){var e=t.call(this,{pickModes:[SeriesNodePickMode.EXACT_SHAPE_MATCH]})||this;return e.binnedData=[],e.xDomain=[],e.yDomain=[],e.label=new HistogramSeriesLabel,e.tooltip=new HistogramSeriesTooltip,e.fill=void 0,e.stroke=void 0,e.fillOpacity=1,e.strokeOpacity=1,e.lineDash=[0],e.lineDashOffset=0,e.xKey="",e.areaPlot=!1,e.bins=void 0,e.aggregation="count",e.binCount=void 0,e.xName="",e.yKey="",e.yName="",e.strokeWidth=1,e.shadow=void 0,e.label.enabled=!1,e}return __extends$22(e,t),e.prototype.deriveBins=function(){var t=this,e=this.bins;if(!this.data)return[];var i=this.data.map((function(e){return e[t.xKey]})),o=this.fixNumericExtent(extent$4(i));if(void 0===this.binCount){if(e)return e;var n=ticks(o[0],o[1],defaultBinCount),r=tickStep(o[0],o[1],defaultBinCount),s=n[0];return __spread$h([[s-r,s]],n.map((function(t){return[t,t+r]})))}return this.calculateNiceBins(o,this.binCount)},e.prototype.calculateNiceBins=function(t,e){var i=Math.floor(t[0]),o=t[1],n=e||1,r=this.calculateNiceStart(i,o,n),s=r.start,a=r.binSize;return this.getBins(s,o,a,n)},e.prototype.getBins=function(t,e,i,o){for(var n=[],r=0;r<o;r++){var s=Math.round(10*(t+r*i))/10,a=Math.round(10*(t+(r+1)*i))/10;r===o-1&&(a=Math.max(a,e)),n[r]=[s,a]}return n},e.prototype.calculateNiceStart=function(t,e,i){var o=Math.abs(e-t)/i,n=Math.floor(Math.log10(o)),r=Math.pow(10,n);return{start:Math.floor(t/r)*r,binSize:o}},e.prototype.placeDataInBins=function(t){var e=this,i=this.xKey,o=this.deriveBins();this.bins=o;for(var n=t.slice().sort((function(t,e){return t[i]<e[i]?-1:t[i]>e[i]?1:0})),r=[new HistogramBin(o[0])],s=0,a=0;a<n.length&&s<o.length;a++){for(var l=n[a];l[i]>o[s][1]&&s<o.length;)s++,r.push(new HistogramBin(o[s]));s<o.length&&r[s].addDatum(l)}return r.forEach((function(t){return t.calculateAggregatedValue(e.aggregation,e.yKey)})),r},Object.defineProperty(e.prototype,"xMax",{get:function(){var t=this;return this.data&&this.data.reduce((function(e,i){return Math.max(e,i[t.xKey])}),Number.NEGATIVE_INFINITY)},enumerable:!1,configurable:!0}),e.prototype.processData=function(){return __awaiter$5(this,void 0,void 0,(function(){var t,e,i,o,n,r,s,a,l,c=this;return __generator$5(this,(function(u){return e=(t=this).xKey,i=t.data,this.binnedData=this.placeDataInBins(e&&i?i:[]),o=this.binnedData.map((function(t){return t.getY(c.areaPlot)})),n=extent$4(o),this.yDomain=this.fixNumericExtent([0,n?n[1]:1]),r=this.binnedData[0],s=this.binnedData[this.binnedData.length-1],a=r.domain[0],l=s.domain[1],this.xDomain=[a,l],[2]}))}))},e.prototype.getDomain=function(t){return t===ChartAxisDirection.X?this.xDomain:this.yDomain},e.prototype.getNodeClickEvent=function(t,e){return new CartesianSeriesNodeClickEvent(this.xKey,this.yKey,t,e,this)},e.prototype.getNodeDoubleClickEvent=function(t,e){return new CartesianSeriesNodeDoubleClickEvent(this.xKey,this.yKey,t,e,this)},e.prototype.createNodeData=function(){return __awaiter$5(this,void 0,void 0,(function(){var t,e,i,o,n,r,s,a,l,c,u,h,d,p,f,g,m,y,v,_,C,b,E=this;return __generator$5(this,(function(S){return e=(t=this).xAxis,i=t.yAxis,this.seriesItemEnabled&&e&&i?(o=e.scale,n=i.scale,s=(r=this).fill,a=r.stroke,l=r.strokeWidth,c=r.id,u=r.yKey,h=r.xKey,d=[],p=function(t){return String(t.value)},f=this.label,g=f.formatter,m=void 0===g?p:g,y=f.fontStyle,v=f.fontWeight,_=f.fontSize,C=f.fontFamily,b=f.color,this.binnedData.forEach((function(t){var e=t.aggregatedValue,i=t.frequency,r=__read$v(t.domain,2),p=r[0],f=r[1],g=t.relativeHeight,S=o.convert(p),w=o.convert(f),O=E.areaPlot?g:u?e:i,x=n.convert(0),P=n.convert(O),T=w-S,M=Math.abs(P-x),D=0!==O?{text:m({value:t.aggregatedValue,seriesId:c}),fontStyle:y,fontWeight:v,fontSize:_,fontFamily:C,fill:b,x:S+T/2,y:P+M/2}:void 0,A={x:S+T/2,y:P+M/2};d.push({series:E,datum:t,aggregatedValue:t.aggregatedValue,domain:t.domain,yKey:u,xKey:h,x:S,y:P,width:T,height:M,nodeMidPoint:A,fill:s,stroke:a,strokeWidth:l,label:D})})),[2,[{itemId:this.yKey,nodeData:d,labelData:d}]]):[2,[]]}))}))},e.prototype.nodeFactory=function(){return new Rect},e.prototype.updateDatumSelection=function(t){return __awaiter$5(this,void 0,void 0,(function(){var e;return __generator$5(this,(function(i){return e=t.nodeData,[2,t.datumSelection.update(e,(function(t){t.tag=HistogramSeriesNodeTag.Bin,t.crisp=!0}))]}))}))},e.prototype.updateDatumNodes=function(t){return __awaiter$5(this,void 0,void 0,(function(){var e,i,o,n,r,s,a,l,c,u,h,d,p=this;return __generator$5(this,(function(f){return e=t.datumSelection,i=t.isHighlight,n=(o=this).fillOpacity,r=o.strokeOpacity,s=o.shadow,a=o.highlightStyle.item,l=a.fill,c=a.fillOpacity,u=void 0===c?n:c,h=a.stroke,d=a.strokeWidth,e.each((function(t,e,o){var a=i&&void 0!==d?d:e.strokeWidth,c=i?u:n;t.x=e.x,t.y=e.y,t.width=e.width,t.height=e.height,t.fill=i&&void 0!==l?l:e.fill,t.stroke=i&&void 0!==h?h:e.stroke,t.fillOpacity=c,t.strokeOpacity=r,t.strokeWidth=a,t.lineDash=p.lineDash,t.lineDashOffset=p.lineDashOffset,t.fillShadow=s,t.zIndex=i?Series.highlightedZIndex:o,t.visible=e.height>0})),[2]}))}))},e.prototype.updateLabelSelection=function(t){return __awaiter$5(this,void 0,void 0,(function(){var e;return __generator$5(this,(function(i){return e=t.labelData,[2,t.labelSelection.update(e,(function(t){t.tag=HistogramSeriesNodeTag.Label,t.pointerEvents=PointerEvents.None,t.textAlign="center",t.textBaseline="middle"}))]}))}))},e.prototype.updateLabelNodes=function(t){return __awaiter$5(this,void 0,void 0,(function(){var e,i;return __generator$5(this,(function(o){return e=t.labelSelection,i=this.label.enabled,e.each((function(t,e){var o=e.label;o&&i?(t.text=o.text,t.x=o.x,t.y=o.y,t.fontStyle=o.fontStyle,t.fontWeight=o.fontWeight,t.fontSize=o.fontSize,t.fontFamily=o.fontFamily,t.fill=o.fill,t.visible=!0):t.visible=!1})),[2]}))}))},e.prototype.getTooltipHtml=function(t){var e=this,i=e.xKey,o=e.yKey,n=e.xAxis,r=e.yAxis;if(!i||!n||!r)return"";var s=this,a=s.xName,l=s.yName,c=s.fill,u=s.tooltip,h=s.aggregation,d=s.id,p=u.renderer,f=t.datum,g=f.aggregatedValue,m=f.frequency,y=__read$v(f.domain,2),v=y[0],_=y[1],C=sanitizeHtml(a||i)+": "+n.formatDatum(v)+" - "+n.formatDatum(_),b=o?"<b>"+sanitizeHtml(l||o)+" ("+h+")</b>: "+r.formatDatum(g)+"<br>":"",E={title:C,backgroundColor:c,content:b+="<b>Frequency</b>: "+m};return p?toTooltipHtml$1(p({datum:f,xKey:i,xValue:f.domain,xName:a,yKey:o,yValue:f.aggregatedValue,yName:l,color:c,title:C,seriesId:d}),E):toTooltipHtml$1(E)},e.prototype.getLegendData=function(){var t=this,e=t.id,i=t.data,o=t.xKey,n=t.yName,r=t.visible,s=t.fill,a=t.stroke,l=t.fillOpacity,c=t.strokeOpacity;return i&&0!==i.length?[{id:e,itemId:o,seriesId:e,enabled:r,label:{text:n||o||"Frequency"},marker:{fill:s||"rgba(0, 0, 0, 0)",stroke:a||"rgba(0, 0, 0, 0)",fillOpacity:l,strokeOpacity:c}}]:[]},e.prototype.isLabelEnabled=function(){return this.label.enabled},e.className="HistogramSeries",e.type="histogram",__decorate$1p([Validate(OPT_COLOR_STRING)],e.prototype,"fill",void 0),__decorate$1p([Validate(OPT_COLOR_STRING)],e.prototype,"stroke",void 0),__decorate$1p([Validate(NUMBER(0,1))],e.prototype,"fillOpacity",void 0),__decorate$1p([Validate(NUMBER(0,1))],e.prototype,"strokeOpacity",void 0),__decorate$1p([Validate(OPT_LINE_DASH)],e.prototype,"lineDash",void 0),__decorate$1p([Validate(NUMBER(0))],e.prototype,"lineDashOffset",void 0),__decorate$1p([Validate(STRING)],e.prototype,"xKey",void 0),__decorate$1p([Validate(BOOLEAN)],e.prototype,"areaPlot",void 0),__decorate$1p([Validate(OPT_ARRAY())],e.prototype,"bins",void 0),__decorate$1p([Validate(HISTOGRAM_AGGREGATION)],e.prototype,"aggregation",void 0),__decorate$1p([Validate(OPT_NUMBER(0))],e.prototype,"binCount",void 0),__decorate$1p([Validate(STRING)],e.prototype,"xName",void 0),__decorate$1p([Validate(STRING)],e.prototype,"yKey",void 0),__decorate$1p([Validate(STRING)],e.prototype,"yName",void 0),__decorate$1p([Validate(NUMBER(0))],e.prototype,"strokeWidth",void 0),e}(CartesianSeries),__extends$21=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$1o=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},__awaiter$4=function(t,e,i,o){return new(i||(i=Promise))((function(n,r){function s(t){try{l(o.next(t))}catch(t){r(t)}}function a(t){try{l(o.throw(t))}catch(t){r(t)}}function l(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(s,a)}l((o=o.apply(t,e||[])).next())}))},__generator$4=function(t,e){var i,o,n,r,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(n=2&r[0]?o.return:r[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,r[1])).done)return n;switch(o=0,n&&(r=[2&r[0],n.value]),r[0]){case 0:case 1:n=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(n=s.trys,(n=n.length>0&&n[n.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!n||r[1]>n[0]&&r[1]<n[3])){s.label=r[1];break}if(6===r[0]&&s.label<n[1]){s.label=n[1],n=r;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(r);break}n[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(t){r=[6,t],o=0}finally{i=n=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},__values$d=function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],o=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},__read$u=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,n,r=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return s},LineSeriesLabel=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.formatter=void 0,e}return __extends$21(e,t),__decorate$1o([Validate(OPT_FUNCTION)],e.prototype,"formatter",void 0),e}(Label$1),LineSeriesTooltip=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.renderer=void 0,e.format=void 0,e}return __extends$21(e,t),__decorate$1o([Validate(OPT_FUNCTION)],e.prototype,"renderer",void 0),__decorate$1o([Validate(OPT_STRING)],e.prototype,"format",void 0),e}(SeriesTooltip),LineSeries=function(t){function e(){var e=t.call(this,{hasMarkers:!0,pickModes:[SeriesNodePickMode.NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST,SeriesNodePickMode.NEAREST_NODE,SeriesNodePickMode.EXACT_SHAPE_MATCH]})||this;e.xDomain=[],e.yDomain=[],e.pointsData=[],e.marker=new CartesianSeriesMarker,e.label=new LineSeriesLabel,e.title=void 0,e.stroke="#874349",e.lineDash=[0],e.lineDashOffset=0,e.strokeWidth=2,e.strokeOpacity=1,e.tooltip=new LineSeriesTooltip,e._xKey="",e.xName="",e._yKey="",e.yName="";var i=e,o=i.marker,n=i.label;return o.fill="#c16068",o.stroke="#874349",n.enabled=!1,e}return __extends$21(e,t),Object.defineProperty(e.prototype,"xKey",{get:function(){return this._xKey},set:function(t){this._xKey=t,this.pointsData.splice(0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"yKey",{get:function(){return this._yKey},set:function(t){this._yKey=t,this.pointsData.splice(0)},enumerable:!1,configurable:!0}),e.prototype.getDomain=function(t){return t===ChartAxisDirection.X?this.xDomain:this.yDomain},e.prototype.processData=function(){return __awaiter$4(this,void 0,void 0,(function(){var t,e,i,o,n,r,s,a,l,c,u,h,d,p,f,g,m,y,v,_;return __generator$4(this,(function(C){if(e=(t=this).xAxis,i=t.yAxis,o=t.xKey,n=t.yKey,r=t.pointsData,s=o&&n&&this.data?this.data:[],!e||!i)return[2];a=e.scale instanceof ContinuousScale,l=i.scale instanceof ContinuousScale,c=[],u=[],r.splice(0);try{for(h=__values$d(s),d=h.next();!d.done;d=h.next())p=d.value,f=p[o],g=p[n],m=checkDatum(f,a),a&&void 0===m||(y=checkDatum(g,l),c.push(m),u.push(y),r.push({xDatum:m,yDatum:y,datum:p}))}catch(t){v={error:t}}finally{try{d&&!d.done&&(_=h.return)&&_.call(h)}finally{if(v)throw v.error}}return this.validateXYData(this.xKey,this.yKey,s,e,i,c,u,1),this.xDomain=a?this.fixNumericExtent(extent$4(c),e):c,this.yDomain=l?this.fixNumericExtent(extent$4(u),i):u,[2]}))}))},e.prototype.createNodeData=function(){var t;return __awaiter$4(this,void 0,void 0,(function(){var e,i,o,n,r,s,a,l,c,u,h,d,p,f,g,m,y,v,_,C,b,E,S,w,O,x,P,T,M,D,A,R,L,I,N;return __generator$4(this,(function(k){if(i=(e=this).data,o=e.xAxis,n=e.yAxis,r=e.marker,s=r.enabled,a=r.size,l=r.strokeWidth,!i||!o||!n)return[2,[]];for(u=(c=this).pointsData,h=c.label,d=c.yKey,p=c.xKey,f=c.id,g=o.scale,m=n.scale,y=(g.bandwidth||0)/2,v=(m.bandwidth||0)/2,_=new Array(i.length),C=s?a:0,b=!0,E=void 0,S=void 0,w=0,O=0;O<u.length;O++)if(void 0===(x=S||u[O]).yDatum)E=void 0,b=!0;else{if(P=x.xDatum,T=x.yDatum,M=x.datum,D=g.convert(P)+y,isNaN(D)){E=void 0,b=!0;continue}if(A=(g.bandwidth||.5*a+(l||0))+1,S=void 0===(null===(t=u[O+1])||void 0===t?void 0:t.yDatum)?void 0:u[O+1],R=o.inRangeEx(D,0,A),L=S&&o.inRangeEx(g.convert(S.xDatum)+y,0,A),-1===R&&-1===L){b=!0;continue}if(1===R&&1===E){b=!0;continue}E=R,I=m.convert(T)+v,N=void 0,N=h.formatter?h.formatter({value:T,seriesId:f}):"number"==typeof T&&isFinite(T)?T.toFixed(2):T?String(T):"",_[w++]={series:this,datum:M,yKey:d,xKey:p,point:{x:D,y:I,moveTo:b,size:C},nodeMidPoint:{x:D,y:I},label:N?{text:N,fontStyle:h.fontStyle,fontWeight:h.fontWeight,fontSize:h.fontSize,fontFamily:h.fontFamily,textAlign:"center",textBaseline:"bottom",fill:h.color}:void 0},b=!1}return _.length=w,[2,[{itemId:d,nodeData:_,labelData:_}]]}))}))},e.prototype.isPathOrSelectionDirty=function(){return this.marker.isDirty()},e.prototype.updatePaths=function(t){return __awaiter$4(this,void 0,void 0,(function(){var e,i,o,n,r,s,a,l,c;return __generator$4(this,(function(u){e=t.contextData.nodeData,i=__read$u(t.paths,1),o=i[0],n=o.path,o.fill=void 0,o.lineJoin="round",o.pointerEvents=PointerEvents.None,n.clear({trackChanges:!0});try{for(r=__values$d(e),s=r.next();!s.done;s=r.next())(a=s.value).point.moveTo?n.moveTo(a.point.x,a.point.y):n.lineTo(a.point.x,a.point.y)}catch(t){l={error:t}}finally{try{s&&!s.done&&(c=r.return)&&c.call(r)}finally{if(l)throw l.error}}return o.checkPathDirty(),[2]}))}))},e.prototype.updatePathNodes=function(t){return __awaiter$4(this,void 0,void 0,(function(){var e,i;return __generator$4(this,(function(o){return e=__read$u(t.paths,1),(i=e[0]).stroke=this.stroke,i.strokeWidth=this.getStrokeWidth(this.strokeWidth),i.strokeOpacity=this.strokeOpacity,i.lineDash=this.lineDash,i.lineDashOffset=this.lineDashOffset,[2]}))}))},e.prototype.markerFactory=function(){return new(getMarker$1(this.marker.shape))},e.prototype.updateMarkerSelection=function(t){return __awaiter$4(this,void 0,void 0,(function(){var e,i,o,n,r;return __generator$4(this,(function(s){return e=t.nodeData,i=t.markerSelection,o=this.marker,n=o.shape,r=o.enabled,e=n&&r?e:[],this.marker.isDirty()&&i.clear(),[2,i.update(e)]}))}))},e.prototype.updateMarkerNodes=function(t){return __awaiter$4(this,void 0,void 0,(function(){var e,i,o,n,r,s,a,l,c,u,h,d,p,f,g,m,y,v,_,C;return __generator$4(this,(function(b){return e=t.markerSelection,i=t.isHighlight,n=(o=this).marker,r=o.marker.fillOpacity,s=o.xKey,a=o.yKey,l=o.stroke,c=o.strokeOpacity,u=o.highlightStyle.item,h=u.fill,d=u.fillOpacity,p=void 0===d?r:d,f=u.stroke,g=u.strokeWidth,m=o.id,y=n.size,v=n.formatter,_=void 0!==n.strokeWidth?n.strokeWidth:this.strokeWidth,C="function"==typeof n.shape,e.each((function(t,e){var o,u,d=i&&void 0!==h?h:n.fill,b=i?p:r,E=i&&void 0!==f?f:n.stroke||l,S=i&&void 0!==g?g:_,w=void 0;v&&(w=v({datum:e.datum,xKey:s,yKey:a,fill:d,stroke:E,strokeWidth:S,size:y,highlighted:i,seriesId:m})),t.fill=w&&w.fill||d,t.stroke=w&&w.stroke||E,t.strokeWidth=w&&void 0!==w.strokeWidth?w.strokeWidth:S,t.fillOpacity=null!=b?b:1,t.strokeOpacity=null!==(u=null!==(o=n.strokeOpacity)&&void 0!==o?o:c)&&void 0!==u?u:1,t.size=w&&void 0!==w.size?w.size:y,t.translationX=e.point.x,t.translationY=e.point.y,t.visible=t.size>0&&!isNaN(e.point.x)&&!isNaN(e.point.y),C&&!t.dirtyPath&&(t.path.clear({trackChanges:!0}),t.updatePath(),t.checkPathDirty())})),i||this.marker.markClean(),[2]}))}))},e.prototype.updateLabelSelection=function(t){return __awaiter$4(this,void 0,void 0,(function(){var e,i,o,n,r;return __generator$4(this,(function(s){return e=t.labelData,i=t.labelSelection,o=this.marker,n=o.shape,r=o.enabled,e=n&&r?e:[],[2,i.update(e)]}))}))},e.prototype.updateLabelNodes=function(t){return __awaiter$4(this,void 0,void 0,(function(){var e,i,o,n,r,s,a,l;return __generator$4(this,(function(c){return e=t.labelSelection,i=this.label,o=i.enabled,n=i.fontStyle,r=i.fontWeight,s=i.fontSize,a=i.fontFamily,l=i.color,e.each((function(t,e){var i=e.point,c=e.label;e&&c&&o?(t.fontStyle=n,t.fontWeight=r,t.fontSize=s,t.fontFamily=a,t.textAlign=c.textAlign,t.textBaseline=c.textBaseline,t.text=c.text,t.x=i.x,t.y=i.y-10,t.fill=l,t.visible=!0):t.visible=!1})),[2]}))}))},e.prototype.getNodeClickEvent=function(t,e){return new CartesianSeriesNodeClickEvent(this.xKey,this.yKey,t,e,this)},e.prototype.getNodeDoubleClickEvent=function(t,e){return new CartesianSeriesNodeDoubleClickEvent(this.xKey,this.yKey,t,e,this)},e.prototype.getTooltipHtml=function(t){var e=this,i=e.xKey,o=e.yKey,n=e.xAxis,r=e.yAxis;if(!(i&&o&&n&&r))return"";var s=this,a=s.xName,l=s.yName,c=s.tooltip,u=s.marker,h=s.id,d=c.renderer,p=c.format,f=t.datum,g=f[i],m=f[o],y=n.formatDatum(g),v=r.formatDatum(m),_=sanitizeHtml(this.title||l),C=sanitizeHtml(y+": "+v),b=u.formatter,E=u.fill,S=u.stroke,w=u.strokeWidth,O=u.size,x=void 0!==w?w:this.strokeWidth,P=void 0;b&&(P=b({datum:f,xKey:i,yKey:o,fill:E,stroke:S,strokeWidth:x,size:O,highlighted:!1,seriesId:h}));var T=P&&P.fill||E,M={title:_,backgroundColor:T,content:C};if(p||d){var D={datum:f,xKey:i,xValue:g,xName:a,yKey:o,yValue:m,yName:l,title:_,color:T,seriesId:h};if(p)return toTooltipHtml$1({content:interpolate(p,D)},M);if(d)return toTooltipHtml$1(d(D),M)}return toTooltipHtml$1(M)},e.prototype.getLegendData=function(){var t,e,i,o=this,n=o.id,r=o.data,s=o.xKey,a=o.yKey,l=o.yName,c=o.visible,u=o.title,h=o.marker,d=o.stroke,p=o.strokeOpacity;return r&&r.length&&s&&a?[{id:n,itemId:a,seriesId:n,enabled:c,label:{text:u||l||a},marker:{shape:h.shape,fill:h.fill||"rgba(0, 0, 0, 0)",stroke:h.stroke||d||"rgba(0, 0, 0, 0)",fillOpacity:null!==(t=h.fillOpacity)&&void 0!==t?t:1,strokeOpacity:null!==(i=null!==(e=h.strokeOpacity)&&void 0!==e?e:p)&&void 0!==i?i:1}}]:[]},e.prototype.isLabelEnabled=function(){return this.label.enabled},e.className="LineSeries",e.type="line",__decorate$1o([Validate(OPT_STRING)],e.prototype,"title",void 0),__decorate$1o([Validate(OPT_COLOR_STRING)],e.prototype,"stroke",void 0),__decorate$1o([Validate(OPT_LINE_DASH)],e.prototype,"lineDash",void 0),__decorate$1o([Validate(NUMBER(0))],e.prototype,"lineDashOffset",void 0),__decorate$1o([Validate(NUMBER(0))],e.prototype,"strokeWidth",void 0),__decorate$1o([Validate(NUMBER(0,1))],e.prototype,"strokeOpacity",void 0),__decorate$1o([Validate(STRING)],e.prototype,"_xKey",void 0),__decorate$1o([Validate(STRING)],e.prototype,"xName",void 0),__decorate$1o([Validate(STRING)],e.prototype,"_yKey",void 0),__decorate$1o([Validate(STRING)],e.prototype,"yName",void 0),e}(CartesianSeries),__extends$20=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__assign$w=function(){return __assign$w=Object.assign||function(t){for(var e,i=1,o=arguments.length;i<o;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},__assign$w.apply(this,arguments)},__decorate$1n=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},__awaiter$3=function(t,e,i,o){return new(i||(i=Promise))((function(n,r){function s(t){try{l(o.next(t))}catch(t){r(t)}}function a(t){try{l(o.throw(t))}catch(t){r(t)}}function l(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(s,a)}l((o=o.apply(t,e||[])).next())}))},__generator$3=function(t,e){var i,o,n,r,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(n=2&r[0]?o.return:r[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,r[1])).done)return n;switch(o=0,n&&(r=[2&r[0],n.value]),r[0]){case 0:case 1:n=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(n=s.trys,(n=n.length>0&&n[n.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!n||r[1]>n[0]&&r[1]<n[3])){s.label=r[1];break}if(6===r[0]&&s.label<n[1]){s.label=n[1],n=r;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(r);break}n[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(t){r=[6,t],o=0}finally{i=n=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},__read$t=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,n,r=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return s},__spread$g=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$t(arguments[e]));return t},__values$c=function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],o=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ScatterSeriesNodeBaseClickEvent=function(t){function e(e,i,o,n,r,s){var a=t.call(this,i,o,n,r,s)||this;return a.sizeKey=e,a}return __extends$20(e,t),e}(CartesianSeriesNodeBaseClickEvent),ScatterSeriesNodeClickEvent=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="nodeClick",e}return __extends$20(e,t),e}(ScatterSeriesNodeBaseClickEvent),ScatterSeriesNodeDoubleClickEvent=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="nodeDoubleClick",e}return __extends$20(e,t),e}(ScatterSeriesNodeBaseClickEvent),ScatterSeriesTooltip=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.renderer=void 0,e}return __extends$20(e,t),__decorate$1n([Validate(OPT_FUNCTION)],e.prototype,"renderer",void 0),e}(SeriesTooltip),ScatterSeries=function(t){function e(){var e=t.call(this,{pickModes:[SeriesNodePickMode.NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST,SeriesNodePickMode.NEAREST_NODE,SeriesNodePickMode.EXACT_SHAPE_MATCH],pathsPerSeries:0,hasMarkers:!0})||this;return e.sizeScale=new LinearScale$1,e.marker=new CartesianSeriesMarker,e.label=new Label$1,e.title=void 0,e.labelKey=void 0,e.xName="",e.yName="",e.sizeName="Size",e.labelName="Label",e._xKey="",e._yKey="",e._sizeKey=void 0,e.tooltip=new ScatterSeriesTooltip,e.label.enabled=!1,e}return __extends$20(e,t),Object.defineProperty(e.prototype,"xKey",{get:function(){return this._xKey},set:function(t){this._xKey=t,this.processedData=void 0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"yKey",{get:function(){return this._yKey},set:function(t){this._yKey=t,this.processedData=void 0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sizeKey",{get:function(){return this._sizeKey},set:function(t){this._sizeKey=t,this.processedData=void 0},enumerable:!1,configurable:!0}),e.prototype.processData=function(){var t,e,i,o;return __awaiter$3(this,void 0,void 0,(function(){var n,r,s,a,l,c,u,h,d,p,f,g;return __generator$3(this,(function(m){return r=(n=this).xKey,s=n.yKey,a=n.sizeKey,l=n.xAxis,c=n.yAxis,u=n.marker,h=n.data,d=(null==l?void 0:l.scale)instanceof ContinuousScale,p=(null==c?void 0:c.scale)instanceof ContinuousScale,this.dataModel=new DataModel({props:__spread$g([valueProperty(r,d),valueProperty(s,p)],a?[valueProperty(a,!0)]:[]),dataVisible:this.visible}),this.processedData=this.dataModel.processData(null!=h?h:[]),a&&(f=null!==(e=null===(t=this.dataModel.resolveProcessedDataIndex(a))||void 0===t?void 0:t.index)&&void 0!==e?e:-1,g=null!==(o=null===(i=this.processedData)||void 0===i?void 0:i.domain.values[f])&&void 0!==o?o:[],this.sizeScale.domain=u.domain?u.domain:g),[2]}))}))},e.prototype.getDomain=function(t){var e,i,o,n,r,s,a=null===(e=this.dataModel)||void 0===e?void 0:e.resolveProcessedDataIndex(this.xKey),l=null===(i=this.dataModel)||void 0===i?void 0:i.resolveProcessedDataIndex(this.yKey);return a&&l?t===ChartAxisDirection.X?null!==(n=null===(o=this.processedData)||void 0===o?void 0:o.domain.values[0])&&void 0!==n?n:[]:null!==(s=null===(r=this.processedData)||void 0===r?void 0:r.domain.values[1])&&void 0!==s?s:[]:[]},e.prototype.getNodeClickEvent=function(t,e){return new ScatterSeriesNodeClickEvent(this.sizeKey,this.xKey,this.yKey,t,e,this)},e.prototype.getNodeDoubleClickEvent=function(t,e){return new ScatterSeriesNodeDoubleClickEvent(this.sizeKey,this.xKey,this.yKey,t,e,this)},e.prototype.createNodeData=function(){var t,e,i,o,n,r;return __awaiter$3(this,void 0,void 0,(function(){var s,a,l,c,u,h,d,p,f,g,m,y,v,_,C,b,E,S,w,O,x,P,T,M,D,A,R,L,I,N,k,F;return __generator$3(this,(function(B){if(a=(s=this).visible,l=s.xAxis,c=s.yAxis,u=s.yKey,h=s.xKey,d=s.label,p=s.labelKey,f=null===(t=this.dataModel)||void 0===t?void 0:t.resolveProcessedDataIndex(h),g=null===(e=this.dataModel)||void 0===e?void 0:e.resolveProcessedDataIndex(u),!(f&&g&&a&&l&&c))return[2,[]];m=l.scale,y=c.scale,v=(m.bandwidth||0)/2,_=(y.bandwidth||0)/2,b=(C=this).sizeScale,E=C.marker,S=new Array(null!==(o=null===(i=this.processedData)||void 0===i?void 0:i.data.length)&&void 0!==o?o:0),b.range=[E.size,E.maxSize],w=d.getFont(),O=0;try{for(x=__values$c(null!==(r=null===(n=this.processedData)||void 0===n?void 0:n.data)&&void 0!==r?r:[]),P=x.next();!P.done;P=x.next())T=P.value,M=T.values,D=T.datum,A=m.convert(M[f.index])+v,R=y.convert(M[g.index])+_,this.checkRangeXY(A,R,l,c)&&(L=p?String(D[p]):"",I=HdpiCanvas.getTextSize(L,w),N=M.length>2?b.convert(M[2]):E.size,S[O++]={series:this,itemId:u,yKey:u,xKey:h,datum:D,point:{x:A,y:R,size:N},nodeMidPoint:{x:A,y:R},label:__assign$w({text:L},I)})}catch(t){k={error:t}}finally{try{P&&!P.done&&(F=x.return)&&F.call(x)}finally{if(k)throw k.error}}return S.length=O,[2,[{itemId:this.yKey,nodeData:S,labelData:S}]]}))}))},e.prototype.isPathOrSelectionDirty=function(){return this.marker.isDirty()},e.prototype.getLabelData=function(){var t;return null===(t=this.contextNodeData)||void 0===t?void 0:t.reduce((function(t,e){return t.concat(e.labelData)}),[])},e.prototype.markerFactory=function(){return new(getMarker$1(this.marker.shape))},e.prototype.updateMarkerSelection=function(t){return __awaiter$3(this,void 0,void 0,(function(){var e,i,o,n;return __generator$3(this,(function(r){return e=t.nodeData,i=t.markerSelection,o=this.marker.enabled,this.marker.isDirty()&&i.clear(),n=o?e:[],[2,i.update(n)]}))}))},e.prototype.updateMarkerNodes=function(t){return __awaiter$3(this,void 0,void 0,(function(){var e,i,o,n,r,s,a,l,c,u,h,d,p,f,g,m,y,v,_,C;return __generator$3(this,(function(b){return e=t.markerSelection,i=t.isHighlight,n=(o=this).marker,r=o.xKey,s=o.yKey,a=o.sizeScale,l=o.marker,c=l.fillOpacity,u=l.strokeOpacity,h=l.strokeWidth,d=o.highlightStyle.item,p=d.fill,f=d.fillOpacity,g=void 0===f?c:f,m=d.stroke,y=d.strokeWidth,v=o.id,_=n.formatter,a.range=[n.size,n.maxSize],C="function"==typeof n.shape,e.each((function(t,e){var o,a,l,d,f,b,E,S=i&&void 0!==p?p:n.fill,w=i?g:c,O=i&&void 0!==m?m:n.stroke,x=u,P=i&&void 0!==y?y:null!=h?h:1,T=null!==(a=null===(o=e.point)||void 0===o?void 0:o.size)&&void 0!==a?a:0,M=void 0;_&&(M=_({datum:e.datum,xKey:r,yKey:s,fill:S,stroke:O,strokeWidth:P,size:T,highlighted:i,seriesId:v})),t.fill=M&&M.fill||S,t.stroke=M&&M.stroke||O,t.strokeWidth=null!==(l=null==M?void 0:M.strokeWidth)&&void 0!==l?l:P,t.size=M&&void 0!==M.size?M.size:T,t.fillOpacity=null!=w?w:1,t.strokeOpacity=null!=x?x:1,t.translationX=null!==(f=null===(d=e.point)||void 0===d?void 0:d.x)&&void 0!==f?f:0,t.translationY=null!==(E=null===(b=e.point)||void 0===b?void 0:b.y)&&void 0!==E?E:0,t.visible=t.size>0,C&&!t.dirtyPath&&(t.path.clear({trackChanges:!0}),t.updatePath(),t.checkPathDirty())})),i||this.marker.markClean(),[2]}))}))},e.prototype.updateLabelSelection=function(t){var e,i;return __awaiter$3(this,void 0,void 0,(function(){var o,n,r,s;return __generator$3(this,(function(a){return o=t.labelSelection,n=this.label.enabled,r=n&&null!==(i=null===(e=this.chart)||void 0===e?void 0:e.placeLabels().get(this))&&void 0!==i?i:[],s=r.map((function(t){return __assign$w(__assign$w({},t.datum),{point:{x:t.x,y:t.y,size:t.datum.point.size}})})),[2,o.update(s)]}))}))},e.prototype.updateLabelNodes=function(t){return __awaiter$3(this,void 0,void 0,(function(){var e,i;return __generator$3(this,(function(o){return e=t.labelSelection,i=this.label,e.each((function(t,e){var o,n,r,s;t.text=e.label.text,t.fill=i.color,t.x=null!==(n=null===(o=e.point)||void 0===o?void 0:o.x)&&void 0!==n?n:0,t.y=null!==(s=null===(r=e.point)||void 0===r?void 0:r.y)&&void 0!==s?s:0,t.fontStyle=i.fontStyle,t.fontWeight=i.fontWeight,t.fontSize=i.fontSize,t.fontFamily=i.fontFamily,t.textAlign="left",t.textBaseline="top"})),[2]}))}))},e.prototype.getTooltipHtml=function(t){var e,i,o,n=this,r=n.xKey,s=n.yKey,a=n.xAxis,l=n.yAxis;if(!(r&&s&&a&&l))return"";var c=this,u=c.marker,h=c.tooltip,d=c.xName,p=c.yName,f=c.sizeKey,g=c.sizeName,m=c.labelKey,y=c.labelName,v=c.id,_=u.fill,C=u.stroke,b=this.getStrokeWidth(null!==(e=u.strokeWidth)&&void 0!==e?e:1),E=this.marker.formatter,S=void 0;E&&(S=E({datum:t,xKey:r,yKey:s,fill:_,stroke:C,strokeWidth:b,size:null!==(o=null===(i=t.point)||void 0===i?void 0:i.size)&&void 0!==o?o:0,highlighted:!1,seriesId:v}));var w=S&&S.fill||_||"gray",O=this.title||p,x=t.datum,P=x[r],T=x[s],M=sanitizeHtml(a.formatDatum(P)),D=sanitizeHtml(l.formatDatum(T)),A="<b>"+sanitizeHtml(d||r)+"</b>: "+M+"<br><b>"+sanitizeHtml(p||s)+"</b>: "+D;f&&(A+="<br><b>"+sanitizeHtml(g||f)+"</b>: "+sanitizeHtml(x[f])),m&&(A="<b>"+sanitizeHtml(y||m)+"</b>: "+sanitizeHtml(x[m])+"<br>"+A);var R={title:O,backgroundColor:w,content:A},L=h.renderer;return L?toTooltipHtml$1(L({datum:x,xKey:r,xValue:P,xName:d,yKey:s,yValue:T,yName:p,sizeKey:f,sizeName:g,labelKey:m,labelName:y,title:O,color:w,seriesId:v}),R):toTooltipHtml$1(R)},e.prototype.getLegendData=function(){var t=this,e=t.id,i=t.data,o=t.xKey,n=t.yKey,r=t.yName,s=t.title,a=t.visible,l=t.marker,c=l.fill,u=l.stroke,h=l.fillOpacity,d=l.strokeOpacity;return i&&i.length&&o&&n?[{id:e,itemId:n,seriesId:e,enabled:a,label:{text:s||r||n},marker:{shape:l.shape,fill:l.fill||c||"rgba(0, 0, 0, 0)",stroke:l.stroke||u||"rgba(0, 0, 0, 0)",fillOpacity:null!=h?h:1,strokeOpacity:null!=d?d:1}}]:[]},e.prototype.isLabelEnabled=function(){return this.label.enabled},e.className="ScatterSeries",e.type="scatter",__decorate$1n([Validate(OPT_STRING)],e.prototype,"title",void 0),__decorate$1n([Validate(OPT_STRING)],e.prototype,"labelKey",void 0),__decorate$1n([Validate(STRING)],e.prototype,"xName",void 0),__decorate$1n([Validate(STRING)],e.prototype,"yName",void 0),__decorate$1n([Validate(OPT_STRING)],e.prototype,"sizeName",void 0),__decorate$1n([Validate(OPT_STRING)],e.prototype,"labelName",void 0),__decorate$1n([Validate(STRING)],e.prototype,"_xKey",void 0),__decorate$1n([Validate(STRING)],e.prototype,"_yKey",void 0),__decorate$1n([Validate(OPT_STRING)],e.prototype,"_sizeKey",void 0),e}(CartesianSeries);function isPointInSector(t,e,i){var o=Math.sqrt(Math.pow(t,2)+Math.pow(e,2)),n=i.innerRadius,r=i.outerRadius;if(o<Math.min(n,r)||o>Math.max(n,r))return!1;var s=Math.atan2(e,t);s<-Math.PI/2&&(s+=2*Math.PI);var a=i.startAngle,l=i.endAngle;return l===-Math.PI/2?s<a:a===3*Math.PI/2?s>l:s>=l&&s<=a}function lineCollidesSector(t,e){var i=e.startAngle,o=e.endAngle,n=e.innerRadius,r=e.outerRadius,s={x:r*Math.cos(i),y:r*Math.sin(i)},a={x:r*Math.cos(o),y:r*Math.sin(o)},l=0===n?{x:0,y:0}:{x:n*Math.cos(i),y:n*Math.sin(i)},c=0===n?{x:0,y:0}:{x:n*Math.cos(o),y:n*Math.sin(o)};return null!=segmentIntersection(t.start.x,t.start.y,t.end.x,t.end.y,s.x,s.y,l.x,l.y)||null!=segmentIntersection(t.start.x,t.start.y,t.end.x,t.end.y,a.x,a.y,c.x,c.y)||arcIntersections(0,0,r,i,o,!0,t.start.x,t.start.y,t.end.x,t.end.y).length>0}function boxCollidesSector(t,e){var i={x:t.x,y:t.y},o={x:t.x+t.width,y:t.y},n={x:t.x,y:t.y+t.height},r={x:t.x+t.width,y:t.y+t.height};return lineCollidesSector({start:i,end:o},e)||lineCollidesSector({start:n,end:r},e)}var __extends$1$=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$1m=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},Sector=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.centerX=0,e.centerY=0,e.innerRadius=10,e.outerRadius=20,e.startAngle=0,e.endAngle=2*Math.PI,e.angleOffset=0,e}return __extends$1$(e,t),e.prototype.computeBBox=function(){var t=this.outerRadius;return new BBox(this.centerX-t,this.centerY-t,2*t,2*t)},e.prototype.updatePath=function(){var t=this.path,e=this.angleOffset,i=Math.min(this.startAngle,this.endAngle)+e,o=Math.max(this.startAngle,this.endAngle)+e,n=Math.min(this.innerRadius,this.outerRadius),r=Math.max(this.innerRadius,this.outerRadius),s=isEqual$2(normalizeAngle360(this.startAngle),normalizeAngle360(this.endAngle)),a=this.centerX,l=this.centerY;t.clear(),s?(t.arc(a,l,r,i,o),n>0&&(t.moveTo(a+n*Math.cos(o),l+n*Math.sin(o)),t.arc(a,l,n,o,i,!0))):(t.moveTo(a+n*Math.cos(i),l+n*Math.sin(i)),t.arc(a,l,r,i,o),n>0?t.arc(a,l,n,o,i,!0):t.lineTo(a,l)),t.closePath(),this.dirtyPath=!1},e.prototype.isPointInPath=function(t,e){var i=this.angleOffset,o=this.startAngle+i,n=this.endAngle+i,r=Math.min(this.innerRadius,this.outerRadius),s=Math.max(this.innerRadius,this.outerRadius),a=this.transformPoint(t,e);return isPointInSector(a.x,a.y,{startAngle:o,endAngle:n,innerRadius:r,outerRadius:s})},e.className="Sector",__decorate$1m([ScenePathChangeDetection()],e.prototype,"centerX",void 0),__decorate$1m([ScenePathChangeDetection()],e.prototype,"centerY",void 0),__decorate$1m([ScenePathChangeDetection()],e.prototype,"innerRadius",void 0),__decorate$1m([ScenePathChangeDetection()],e.prototype,"outerRadius",void 0),__decorate$1m([ScenePathChangeDetection()],e.prototype,"startAngle",void 0),__decorate$1m([ScenePathChangeDetection()],e.prototype,"endAngle",void 0),__decorate$1m([ScenePathChangeDetection()],e.prototype,"angleOffset",void 0),e}(Path),__extends$1_=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__assign$v=function(){return __assign$v=Object.assign||function(t){for(var e,i=1,o=arguments.length;i<o;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},__assign$v.apply(this,arguments)},__decorate$1l=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},__awaiter$2=function(t,e,i,o){return new(i||(i=Promise))((function(n,r){function s(t){try{l(o.next(t))}catch(t){r(t)}}function a(t){try{l(o.throw(t))}catch(t){r(t)}}function l(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(s,a)}l((o=o.apply(t,e||[])).next())}))},__generator$2=function(t,e){var i,o,n,r,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(n=2&r[0]?o.return:r[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,r[1])).done)return n;switch(o=0,n&&(r=[2&r[0],n.value]),r[0]){case 0:case 1:n=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(n=s.trys,(n=n.length>0&&n[n.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!n||r[1]>n[0]&&r[1]<n[3])){s.label=r[1];break}if(6===r[0]&&s.label<n[1]){s.label=n[1],n=r;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(r);break}n[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(t){r=[6,t],o=0}finally{i=n=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},__read$s=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,n,r=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return s},__spread$f=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$s(arguments[e]));return t},PieSeriesNodeBaseClickEvent=function(t){function e(e,i,o,n,r,s,a){var l=t.call(this,r,s,a)||this;return l.angleKey=e,l.calloutLabelKey=i,l.sectorLabelKey=o,l.radiusKey=n,l}return __extends$1_(e,t),__decorate$1l([DeprecatedAndRenamedTo("calloutLabelKey")],e.prototype,"labelKey",void 0),e}(SeriesNodeBaseClickEvent),PieSeriesNodeClickEvent=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="nodeClick",e}return __extends$1_(e,t),e}(PieSeriesNodeBaseClickEvent),PieSeriesNodeDoubleClickEvent=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="nodeDoubleClick",e}return __extends$1_(e,t),e}(PieSeriesNodeBaseClickEvent),PieNodeTag;!function(t){t[t.Sector=0]="Sector",t[t.Callout=1]="Callout",t[t.Label=2]="Label"}(PieNodeTag||(PieNodeTag={}));var PieSeriesCalloutLabel=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.offset=3,e.minAngle=0,e.formatter=void 0,e.minSpacing=4,e.maxCollisionOffset=50,e}return __extends$1_(e,t),__decorate$1l([Validate(NUMBER(0))],e.prototype,"offset",void 0),__decorate$1l([Validate(NUMBER(0))],e.prototype,"minAngle",void 0),__decorate$1l([Validate(OPT_FUNCTION)],e.prototype,"formatter",void 0),__decorate$1l([Validate(NUMBER(0))],e.prototype,"minSpacing",void 0),__decorate$1l([Validate(NUMBER(0))],e.prototype,"maxCollisionOffset",void 0),e}(Label$1),PieSeriesSectorLabel=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.positionOffset=0,e.positionRatio=.5,e.formatter=void 0,e}return __extends$1_(e,t),__decorate$1l([Validate(NUMBER())],e.prototype,"positionOffset",void 0),__decorate$1l([Validate(NUMBER(0,1))],e.prototype,"positionRatio",void 0),__decorate$1l([Validate(OPT_FUNCTION)],e.prototype,"formatter",void 0),e}(Label$1),PieSeriesCalloutLine=function(){function t(){this.colors=void 0,this.length=10,this.strokeWidth=1}return __decorate$1l([Validate(OPT_COLOR_STRING_ARRAY)],t.prototype,"colors",void 0),__decorate$1l([Validate(NUMBER(0))],t.prototype,"length",void 0),__decorate$1l([Validate(NUMBER(0))],t.prototype,"strokeWidth",void 0),t}(),PieSeriesTooltip=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.renderer=void 0,e}return __extends$1_(e,t),__decorate$1l([Validate(OPT_FUNCTION)],e.prototype,"renderer",void 0),e}(SeriesTooltip),PieTitle=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.showInLegend=!1,e}return __extends$1_(e,t),__decorate$1l([Validate(BOOLEAN)],e.prototype,"showInLegend",void 0),e}(Caption),DoughnutInnerLabel=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.text="",e.margin=2,e}return __extends$1_(e,t),__decorate$1l([Validate(STRING)],e.prototype,"text",void 0),__decorate$1l([Validate(NUMBER())],e.prototype,"margin",void 0),e}(Label$1),DoughnutInnerCircle=function(){function t(){this.fill="transparent",this.fillOpacity=1}return __decorate$1l([Validate(COLOR_STRING)],t.prototype,"fill",void 0),__decorate$1l([Validate(OPT_NUMBER(0,1))],t.prototype,"fillOpacity",void 0),t}(),PieSeries=function(t){function e(){var e,i=t.call(this,{useLabelLayer:!0})||this;i.radiusScale=new LinearScale$1,i.groupSelection=Selection.select(i.contentGroup,Group),i.highlightSelection=Selection.select(i.highlightGroup,Group),i.groupSelectionData=[],i.sectorFormatData=[],i.angleScale=((e=new LinearScale$1).domain=[0,1],e.range=[-Math.PI,Math.PI].map((function(t){return t+Math.PI/2})),e),i.seriesItemEnabled=[],i.calloutLabel=new PieSeriesCalloutLabel,i.label=i.calloutLabel,i.sectorLabel=new PieSeriesSectorLabel,i.calloutLine=new PieSeriesCalloutLine,i.callout=i.calloutLine,i.tooltip=new PieSeriesTooltip,i.angleKey="",i.angleName="",i.innerLabels=[],i.radiusKey=void 0,i.radiusName=void 0,i.radiusMin=void 0,i.radiusMax=void 0,i.calloutLabelKey=void 0,i.calloutLabelName=void 0,i.labelKey=void 0,i.labelName=void 0,i.sectorLabelKey=void 0,i.sectorLabelName=void 0,i.legendItemKey=void 0,i.fills=["#c16068","#a2bf8a","#ebcc87","#80a0c3","#b58dae","#85c0d1"],i.strokes=["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"],i.fillOpacity=1,i.strokeOpacity=1,i.lineDash=[0],i.lineDashOffset=0,i.formatter=void 0,i.rotation=0,i.outerRadiusOffset=0,i.outerRadiusRatio=1,i.innerRadiusOffset=0,i.innerRadiusRatio=1,i.strokeWidth=1,i.shadow=void 0,i.highlightStyle=new HighlightStyle,i.datumSectorRefs=new WeakMap,i.backgroundGroup=i.rootGroup.appendChild(new Group({name:i.id+"-background",layer:!0,zIndex:Layers.SERIES_BACKGROUND_ZINDEX}));var o=new Group({name:"pieCalloutLabels"}),n=new Group({name:"pieSectorLabels"}),r=new Group({name:"innerLabels"});return i.labelGroup.append(o),i.labelGroup.append(n),i.labelGroup.append(r),i.calloutLabelSelection=Selection.select(o,Group),i.sectorLabelSelection=Selection.select(n,Text),i.innerLabelsSelection=Selection.select(r,Text),i}return __extends$1_(e,t),Object.defineProperty(e.prototype,"title",{get:function(){return this._title},set:function(t){var e,i,o=this._title;o!==t&&(o&&(null===(e=this.labelGroup)||void 0===e||e.removeChild(o.node)),t&&(t.node.textBaseline="bottom",null===(i=this.labelGroup)||void 0===i||i.appendChild(t.node)),this._title=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return this._data},set:function(t){this._data=t,this.processSeriesItemEnabled()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"innerCircle",{get:function(){return this._innerCircleConfig},set:function(t){var e;if(this._innerCircleConfig!==t){var i=this._innerCircleNode,o=void 0;i&&this.backgroundGroup.removeChild(i),t&&((o=new Circle).fill=t.fill,o.fillOpacity=null!==(e=t.fillOpacity)&&void 0!==e?e:1,this.backgroundGroup.appendChild(o)),this._innerCircleConfig=t,this._innerCircleNode=o}},enumerable:!1,configurable:!0}),e.prototype.visibleChanged=function(){this.processSeriesItemEnabled()},e.prototype.processSeriesItemEnabled=function(){var t=this.data,e=this.visible;this.seriesItemEnabled=(null==t?void 0:t.map((function(){return e})))||[]},e.prototype.getDomain=function(t){return t===ChartAxisDirection.X?this.angleScale.domain:this.radiusScale.domain},e.prototype.processData=function(){return __awaiter$2(this,void 0,void 0,(function(){var t,e,i,o,n,r,s,a,l,c,u,h,d,p,f,g,m,y,v,_,C,b,E,S,w,O,x,P,T,M,D,A,R,L,I,N=this;return __generator$2(this,(function(k){var F;return e=(t=this).angleKey,i=t.radiusKey,o=t.seriesItemEnabled,n=t.angleScale,r=t.groupSelectionData,s=t.sectorFormatData,a=t.calloutLabel,l=t.sectorLabel,c=t.id,u=e&&this.data?this.data:[],h=u.map((function(t,i){return o[i]&&Math.abs(+t[e])||0})),d=h.reduce((function(t,e){return t+e}),0),F=0,p=h.map((function(t){return F+=t/d})),f=a.formatter,g=a.enabled?this.calloutLabelKey:void 0,m=l.enabled?this.sectorLabelKey:void 0,y=[],v=[],_=[],C=function(t){return{datum:t,angleKey:e,angleValue:t[e],angleName:N.angleName,radiusKey:i,radiusValue:i?t[i]:void 0,radiusName:N.radiusName,labelKey:g,labelValue:g?t[g]:void 0,labelName:N.calloutLabelName,calloutLabelKey:g,calloutLabelValue:g?t[g]:void 0,calloutLabelName:N.calloutLabelName,sectorLabelKey:m,sectorLabelValue:m?t[m]:void 0,sectorLabelName:N.sectorLabelName,seriesId:c}},g&&(f?(b=function(){return Logger.warnOnce("the use of { value } in the pie chart label formatter function is deprecated. Please use { datum, labelKey, ... } instead.")},y=u.map((function(t){var e=t[g],i=__assign$v(__assign$v({},C(t)),{get value(){return b(),e},set value(t){b(),e=t}});return f(i)}))):y=u.map((function(t){return String(t[g])}))),E=l.formatter,m&&(v=E?u.map((function(t){var e=C(t);return E(e)})):u.map((function(t){return String(t[m])}))),i&&(w=(S=this).radiusMin,O=S.radiusMax,x=u.map((function(t){return Math.abs(t[i])})),P=null!=w?w:0,T=O||Math.max.apply(Math,__spread$f(x)),M=T-P,_=x.map((function(t){return M?(t-P)/M:1}))),r.length=0,s.length=0,s.push.apply(s,__spread$f(u.map((function(t,e){return N.getSectorFormat(t,e,e,!1)})))),D=toRadians$1(this.rotation),A=Math.PI/2,R=0,L=[{textAlign:"center",textBaseline:"bottom"},{textAlign:"left",textBaseline:"middle"},{textAlign:"center",textBaseline:"hanging"},{textAlign:"right",textBaseline:"middle"}],I=0,p.forEach((function(t){if(!isNaN(t)){var e=i?_[R]:1,o=n.convert(t)+D,l=n.convert(I)+D,c=(o+l)/2,h=Math.abs(l-o),d=Math.cos(c),p=Math.sin(c),f=toRadians$1(a.minAngle),C=g&&h>f,b=normalizeAngle180(c)- -3*Math.PI/4,E=mod(Math.floor(b/A),L.length),S=L[E],w=S.textAlign,O=S.textBaseline,x=u[R],P=R;r.push({series:N,datum:x,itemId:P,index:R,radius:e,startAngle:o,endAngle:l,midAngle:c,midCos:d,midSin:p,calloutLabel:C?{text:y[R],textAlign:w,textBaseline:O,hidden:!1,collisionTextAlign:void 0,collisionOffsetY:0,box:void 0}:void 0,sectorLabel:m?{text:v[R]}:void 0,sectorFormat:s[R]}),R++,I=t}})),[2]}))}))},e.prototype.getSectorFormat=function(t,e,i,o){var n,r,s,a,l,c,u=this,h=u.angleKey,d=u.radiusKey,p=u.fills,f=u.strokes,g=u.fillOpacity,m=u.formatter,y=u.id,v=null===(n=this.highlightManager)||void 0===n?void 0:n.getActiveHighlight(),_=o&&(null==v?void 0:v.series)===this&&e===v.itemId,C=_?this.highlightStyle.item:null,b=(null==C?void 0:C.fill)||p[i%p.length],E=null!==(r=null==C?void 0:C.fillOpacity)&&void 0!==r?r:g,S=(null==C?void 0:C.stroke)||f[i%f.length],w=null!==(s=null==C?void 0:C.strokeWidth)&&void 0!==s?s:this.getStrokeWidth(this.strokeWidth);return m&&(c=m({datum:t,angleKey:h,radiusKey:d,fill:b,stroke:S,strokeWidth:w,highlighted:_,seriesId:y})),{fill:(null==c?void 0:c.fill)||b,fillOpacity:null!==(a=null==c?void 0:c.fillOpacity)&&void 0!==a?a:E,stroke:(null==c?void 0:c.stroke)||S,strokeWidth:null!==(l=null==c?void 0:c.strokeWidth)&&void 0!==l?l:w}},e.prototype.createNodeData=function(){return __awaiter$2(this,void 0,void 0,(function(){return __generator$2(this,(function(t){return[2,[]]}))}))},e.prototype.getInnerRadius=function(){var t=this,e=t.radius,i=t.innerRadiusRatio,o=t.innerRadiusOffset,n=e*(null!=i?i:1)+(o||0);return n===e||n<0?0:n},e.prototype.getOuterRadius=function(){var t=this,e=t.radius,i=t.outerRadiusRatio,o=t.outerRadiusOffset,n=e*(null!=i?i:1)+(o||0);return n<0?0:n},e.prototype.updateRadiusScale=function(){var t=this.getInnerRadius(),e=this.getOuterRadius();this.radiusScale.range=[t,e]},e.prototype.getTitleTranslationY=function(){var t,e,i=Math.max(0,this.radiusScale.range[1]);if(0===i)return NaN;var o=2+(null!==(e=null===(t=this.title)||void 0===t?void 0:t.spacing)&&void 0!==e?e:0),n=Math.min.apply(Math,__spread$f([0],this.groupSelectionData.map((function(t){var e,i;return(null===(i=null===(e=t.calloutLabel)||void 0===e?void 0:e.box)||void 0===i?void 0:i.y)||0}))));return-i-o-Math.max(0,-i-n)},e.prototype.update=function(){return __awaiter$2(this,void 0,void 0,(function(){var t,e;return __generator$2(this,(function(i){switch(i.label){case 0:return t=this.title,this.updateRadiusScale(),this.rootGroup.translationX=this.centerX,this.rootGroup.translationY=this.centerY,t&&(e=this.getTitleTranslationY(),isFinite(e)?(t.node.visible=t.enabled,t.node.translationY=e):t.node.visible=!1),this.updateNodeMidPoint(),[4,this.updateSelections()];case 1:return i.sent(),[4,this.updateNodes()];case 2:return i.sent(),[2]}}))}))},e.prototype.updateNodeMidPoint=function(){var t=this;this.groupSelectionData.forEach((function(e){var i=t.radiusScale.convert(e.radius);e.nodeMidPoint={x:e.midCos*Math.max(0,i/2),y:e.midSin*Math.max(0,i/2)}}))},e.prototype.updateSelections=function(){return __awaiter$2(this,void 0,void 0,(function(){return __generator$2(this,(function(t){switch(t.label){case 0:return[4,this.updateGroupSelection()];case 1:return t.sent(),[2]}}))}))},e.prototype.updateGroupSelection=function(){return __awaiter$2(this,void 0,void 0,(function(){var t,e,i,o,n,r,s,a=this;return __generator$2(this,(function(l){return e=(t=this).groupSelection,i=t.highlightSelection,o=t.calloutLabelSelection,n=t.sectorLabelSelection,r=t.innerLabelsSelection,s=function(t){return t.update(a.groupSelectionData,(function(t){var e=new Sector;e.tag=PieNodeTag.Sector,t.appendChild(e)}))},this.groupSelection=s(e),this.highlightSelection=s(i),o.update(this.groupSelectionData,(function(t){var e=new Line;e.tag=PieNodeTag.Callout,e.pointerEvents=PointerEvents.None,t.appendChild(e);var i=new Text;i.tag=PieNodeTag.Label,i.pointerEvents=PointerEvents.None,t.appendChild(i)})),n.update(this.groupSelectionData,(function(t){t.pointerEvents=PointerEvents.None})),r.update(this.innerLabels,(function(t){t.pointerEvents=PointerEvents.None})),[2]}))}))},e.prototype.updateNodes=function(){var t;return __awaiter$2(this,void 0,void 0,(function(){var e,i,o,n,r,s=this;return __generator$2(this,(function(a){return e=null===(t=this.highlightManager)||void 0===t?void 0:t.getActiveHighlight(),i=this.seriesItemEnabled.indexOf(!0)>=0,this.rootGroup.visible=i,this.backgroundGroup.visible=i,this.contentGroup.visible=i,this.highlightGroup.visible=i&&(null==e?void 0:e.series)===this,this.labelGroup.visible=i,this.contentGroup.opacity=this.getOpacity(),this.updateInnerCircle(),o=this.radiusScale,n=o.convert(0),r=function(t,e,i,r){var a=o.convert(e.radius),l=t.parent,c=null==l?void 0:l.parent;r&&l&&c&&(c.removeChild(l),c.appendChild(l)),t.innerRadius=Math.max(0,n),t.outerRadius=Math.max(0,a),t.startAngle=e.startAngle,t.endAngle=e.endAngle;var u=s.getSectorFormat(e.datum,e.itemId,i,r);t.fill=u.fill,t.stroke=u.stroke,t.strokeWidth=u.strokeWidth,t.fillOpacity=u.fillOpacity,t.strokeOpacity=s.strokeOpacity,t.lineDash=s.lineDash,t.lineDashOffset=s.lineDashOffset,t.fillShadow=s.shadow,t.lineJoin="round",t.visible=s.seriesItemEnabled[i],s.datumSectorRefs.set(e,t)},this.groupSelection.selectByTag(PieNodeTag.Sector).forEach((function(t,e){return r(t,t.datum,e,!1)})),this.highlightSelection.selectByTag(PieNodeTag.Sector).forEach((function(t,i){var o=(null==e?void 0:e.series)===s&&t.datum.itemId===e.itemId;t.visible=o,t.visible&&r(t,t.datum,i,o)})),this.updateCalloutLineNodes(),this.updateCalloutLabelNodes(),this.updateSectorLabelNodes(),this.updateInnerLabelNodes(),[2]}))}))},e.prototype.updateCalloutLineNodes=function(){var t=this.radiusScale,e=this.calloutLine,i=e.length,o=e.strokeWidth,n=e.colors||this.strokes,r=this.calloutLabel.offset;this.calloutLabelSelection.selectByTag(PieNodeTag.Callout).forEach((function(e,s){var a=e.datum,l=t.convert(a.radius),c=Math.max(0,l),u=a.calloutLabel;if(u&&u.text&&!u.hidden&&0!==c){e.visible=!0,e.strokeWidth=o,e.stroke=n[s%n.length],e.fill=void 0;var h=a.midCos*c,d=a.midSin*c,p=a.midCos*(c+i),f=a.midSin*(c+i);if(u.collisionTextAlign||0!==u.collisionOffsetY){var g=u.box,m=(p<g.x?g.x:p>g.x+g.width?g.x+g.width:p)-p,y=(f<g.y?g.y:f>g.y+g.height?g.y+g.height:f)-f,v=Math.sqrt(Math.pow(m,2)+Math.pow(y,2)),_=v-r;_>0&&(p+=m*_/v,f+=y*_/v)}e.x1=h,e.y1=d,e.x2=p,e.y2=f}else e.visible=!1}))},e.prototype.getLabelOverflow=function(t,e){var i=this.chart.getSeriesRect(),o=i.x-this.centerX,n=i.x+i.width-this.centerX,r=i.y-this.centerY,s=i.y+i.height-this.centerY,a=1;e.x+1<o?a=(e.x+e.width-o)/e.width:e.x+e.width-1>n&&(a=(n-e.x)/e.width);var l=e.y+1<r||e.y+e.height-1>s;return{visibleTextPart:a,textLength:Math.floor(t.length*a)-1,hasVerticalOverflow:l}},e.prototype.computeCalloutLabelCollisionOffsets=function(){var t=this,e=this,i=e.radiusScale,o=e.calloutLabel,n=e.calloutLine,r=o.offset,s=o.minSpacing,a=i.convert(0),l=this.groupSelectionData,c=this.groupSelectionData.filter((function(t){return o=(e=t).calloutLabel,n=i.convert(e.radius),r=Math.max(0,n),!(!o||0===r);var e,o,n,r}));if(c.forEach((function(t){var e=t.calloutLabel;e.hidden=!1,e.collisionTextAlign=void 0,e.collisionOffsetY=0})),!(c.length<=1)){var u=c.filter((function(t){return t.midCos<0})).sort((function(t,e){return t.midSin-e.midSin})),h=c.filter((function(t){return t.midCos>=0})).sort((function(t,e){return t.midSin-e.midSin})),d=c.filter((function(t){return t.midSin<0&&"center"===t.calloutLabel.textAlign})).sort((function(t,e){return t.midCos-e.midCos})),p=c.filter((function(t){return t.midSin>=0&&"center"===t.calloutLabel.textAlign})).sort((function(t,e){return t.midCos-e.midCos})),f=new Text,g=function(e){var o=e.calloutLabel,s=i.convert(e.radius),a=Math.max(0,s)+n.length+r,l=e.midCos*a,c=e.midSin*a+o.collisionOffsetY;return t.setTextDimensionalProps(f,l,c,t.calloutLabel,o),f.computeBBox()},m=function(t,e,i){var o=g(t).grow(s/2),n=g(e).grow(s/2);if(o.x<n.x+n.width&&o.x+o.width>n.x&&("to-top"===i?o.y<n.y+n.height:o.y+o.height>n.y)){var r="to-top"===i?o.y-n.y-n.height:o.y+o.height-n.y;e.calloutLabel.collisionOffsetY=r}},y=function(t){for(var e=t.slice().sort((function(t,e){return Math.abs(t.midSin)-Math.abs(e.midSin)}))[0],i=t.indexOf(e),o=i-1;o>=0;o--){var n=t[o+1],r=t[o];m(n,r,"to-top")}for(o=i+1;o<t.length;o++){n=t[o-1],r=t[o];m(n,r,"to-bottom")}},v=function(t){var e=c.some((function(t){return 0!==t.calloutLabel.collisionOffsetY})),o=t.map((function(t){return g(t)})),n=o.map((function(t){return t.clone().grow(s/2)})),r=!1;t:for(var u=0;u<n.length;u++)for(var h=n[u],d=u+1;d<t.length;d++){var p=n[d];if(h.collidesBBox(p)){r=!0;break t}}var f=l.map((function(t){var e=t.startAngle,o=t.endAngle,n=i.convert(t.radius),r=Math.max(0,n);return{startAngle:e,endAngle:o,innerRadius:a,outerRadius:r}})),m=o.some((function(t){return f.some((function(e){return boxCollidesSector(t,e)}))}));(r||e||m)&&t.filter((function(t){return"center"===t.calloutLabel.textAlign})).forEach((function(t){t.calloutLabel.collisionTextAlign=t.midCos<0?"right":t.midCos>0?"left":"center"}))};y(u),y(h),v(d),v(p)}},e.prototype.updateCalloutLabelNodes=function(){var t=this,e=this,i=e.radiusScale,o=e.calloutLabel,n=e.calloutLine.length,r=o.offset,s=o.color,a=new Text;this.calloutLabelSelection.selectByTag(PieNodeTag.Label).forEach((function(e){var o=e.datum,l=o.calloutLabel,c=i.convert(o.radius),u=Math.max(0,c);if(l&&l.text&&0!==u&&!l.hidden){var h=u+n+r,d=o.midCos*h,p=o.midSin*h+l.collisionOffsetY;t.setTextDimensionalProps(a,d,p,t.calloutLabel,l);var f=a.computeBBox(),g=t.getLabelOverflow(l.text,f),m=g.visibleTextPart,y=g.textLength,v=g.hasVerticalOverflow,_=1===m?l.text:l.text.substring(0,y)+"…";t.setTextDimensionalProps(e,d,p,t.calloutLabel,__assign$v(__assign$v({},l),{text:_})),e.fill=s,e.visible=!v}else e.visible=!1}))},e.prototype.computeLabelsBBox=function(t){var e=this,i=this,o=i.radiusScale,n=i.calloutLabel,r=i.calloutLine.length,s=n.offset,a=n.maxCollisionOffset;this.updateRadiusScale(),this.computeCalloutLabelCollisionOffsets();var l=new Text,c=this.groupSelectionData.map((function(i){var n=i.calloutLabel,c=o.convert(i.radius),u=Math.max(0,c);if(!n||0===u)return null;var h=u+r+s,d=i.midCos*h,p=i.midSin*h+n.collisionOffsetY;e.setTextDimensionalProps(l,d,p,e.calloutLabel,n);var f=l.computeBBox();if(n.box=f,Math.abs(n.collisionOffsetY)>a)return n.hidden=!0,null;if(t.hideWhenNecessary){var g=e.getLabelOverflow(n.text,f),m=g.textLength,y=g.hasVerticalOverflow,v=n.text.length>2&&m<2;if(y||v)return n.hidden=!0,null}return n.hidden=!1,f})).filter((function(t){return null!=t}));if(this.title&&this.title.text){var u=this.getTitleTranslationY();if(isFinite(u)){this.setTextDimensionalProps(l,0,u,this.title,{text:this.title.text,textBaseline:"bottom",textAlign:"center",hidden:!1,collisionTextAlign:void 0,collisionOffsetY:0});var h=l.computeBBox();c.push(h)}}return 0===c.length?null:BBox.merge(c)},e.prototype.setTextDimensionalProps=function(t,e,i,o,n){var r=o.fontStyle,s=o.fontWeight,a=o.fontSize,l=o.fontFamily;t.fontStyle=r,t.fontWeight=s,t.fontSize=a,t.fontFamily=l,t.text=n.text,t.x=e,t.y=i,t.textAlign=n.collisionTextAlign||n.textAlign,t.textBaseline=n.textBaseline},e.prototype.updateSectorLabelNodes=function(){var t=this,e=this.radiusScale,i=e.convert(0),o=this.sectorLabel,n=o.fontSize,r=o.fontStyle,s=o.fontWeight,a=o.fontFamily,l=o.positionOffset,c=o.positionRatio,u=o.color,h=i>0,d=1===this.seriesItemEnabled.filter(Boolean).length;this.sectorLabelSelection.each((function(o,p){var f=p.sectorLabel,g=e.convert(p.radius),m=Math.max(0,g),y=!1;if(f&&0!==m){var v=i*(1-c)+g*c+l;if(o.fill=u,o.fontStyle=r,o.fontWeight=s,o.fontSize=n,o.fontFamily=a,o.text=f.text,!h&&d?(o.x=0,o.y=0):(o.x=p.midCos*v,o.y=p.midSin*v),o.textAlign="center",o.textBaseline="middle",t.datumSectorRefs.get(p)){var _=o.computeBBox(),C=[[_.x,_.y],[_.x+_.width,_.y],[_.x+_.width,_.y+_.height],[_.x,_.y+_.height]],b={startAngle:p.startAngle,endAngle:p.endAngle,innerRadius:i,outerRadius:m};C.every((function(t){var e=__read$s(t,2);return isPointInSector(e[0],e[1],b)}))&&(y=!0)}}o.visible=y}))},e.prototype.updateInnerCircle=function(){var t=this._innerCircleNode;if(t){var e=this.getInnerRadius();if(0===e)t.size=0;else{var i=Math.min(e,this.getOuterRadius());t.size=Math.ceil(2*i+1)}}},e.prototype.updateInnerLabelNodes=function(){var t=[],e=[];this.innerLabelsSelection.each((function(i,o){var n=o.fontStyle,r=o.fontWeight,s=o.fontSize,a=o.fontFamily,l=o.color;i.fontStyle=n,i.fontWeight=r,i.fontSize=s,i.fontFamily=a,i.text=o.text,i.x=0,i.y=0,i.fill=l,i.textAlign="center",i.textBaseline="alphabetic",t.push(i.computeBBox()),e.push(o.margin)}));for(var i=function(t){return 0===t?0:e[t]},o=function(t){return t===e.length-1?0:e[t]},n=t.reduce((function(t,e,n){return t+e.height+i(n)+o(n)}),0),r=Math.max.apply(Math,__spread$f(t.map((function(t){return t.width})))),s=this.getInnerRadius(),a=Math.sqrt(Math.pow(r/2,2)+Math.pow(n/2,2))<=(s>0?s:this.getOuterRadius()),l=[],c=0,u=-n/2;c<t.length;c++){var h=t[c].height+u+i(c);l.push(h),u=h+o(c)}this.innerLabelsSelection.each((function(t,e,i){t.y=l[i],t.visible=a}))},e.prototype.getNodeClickEvent=function(t,e){return new PieSeriesNodeClickEvent(this.angleKey,this.calloutLabelKey,this.sectorLabelKey,this.radiusKey,t,e,this)},e.prototype.getNodeDoubleClickEvent=function(t,e){return new PieSeriesNodeDoubleClickEvent(this.angleKey,this.calloutLabelKey,this.sectorLabelKey,this.radiusKey,t,e,this)},e.prototype.getTooltipHtml=function(t){var e=this.angleKey;if(!e)return"";var i=this,o=i.tooltip,n=i.angleName,r=i.radiusKey,s=i.radiusName,a=i.calloutLabelKey,l=i.sectorLabelKey,c=i.calloutLabelName,u=i.sectorLabelName,h=i.id,d=o.renderer,p=t.sectorFormat.fill,f=t.datum,g=a?f[a]+": ":"",m=f[e],y="number"==typeof m?toFixed(m):m.toString(),v=this.title?this.title.text:void 0,_={title:v,backgroundColor:p,content:g+y};return d?toTooltipHtml$1(d({datum:f,angleKey:e,angleValue:m,angleName:n,radiusKey:r,radiusValue:r?f[r]:void 0,radiusName:s,labelKey:a,labelName:c,calloutLabelKey:a,calloutLabelName:c,sectorLabelKey:l,sectorLabelName:u,title:v,color:p,seriesId:h}),_):toTooltipHtml$1(_)},e.prototype.getLegendData=function(){var t=this,e=this,i=e.calloutLabelKey,o=e.legendItemKey,n=e.data,r=e.id,s=e.sectorFormatData;if(!n||0===n.length||!o&&!i)return[];var a=this.title&&this.title.showInLegend&&this.title.text;return n.map((function(e,n){var l=[];return a&&l.push(a),o?l.push(String(e[o])):i&&l.push(String(e[i])),{id:r,itemId:n,seriesId:r,enabled:t.seriesItemEnabled[n],label:{text:l.join(" - ")},marker:{fill:s[n].fill,stroke:s[n].stroke,fillOpacity:t.fillOpacity,strokeOpacity:t.strokeOpacity}}}))},e.prototype.toggleSeriesItem=function(t,e){this.seriesItemEnabled[t]=e,this.nodeDataRefresh=!0},e.prototype.toggleOtherSeriesItems=function(t,e,i,o){var n,r,s=this,a=this.legendItemKey;if("pie"===t.type&&void 0!==a){var l=t,c=e&&l.legendItemKey&&(null===(n=l.data)||void 0===n?void 0:n.find((function(t,i){return i===e.itemId}))[l.legendItemKey]);c&&(null===(r=this.data)||void 0===r||r.forEach((function(t,e){void 0!==i&&t[a]===c?s.toggleSeriesItem(e,i):void 0!==o&&s.toggleSeriesItem(e,o||t[a]===c)})))}},e.className="PieSeries",e.type="pie",__decorate$1l([DeprecatedAndRenamedTo("calloutLabel")],e.prototype,"label",void 0),__decorate$1l([DeprecatedAndRenamedTo("calloutLine")],e.prototype,"callout",void 0),__decorate$1l([Validate(STRING)],e.prototype,"angleKey",void 0),__decorate$1l([Validate(STRING)],e.prototype,"angleName",void 0),__decorate$1l([Validate(OPT_STRING)],e.prototype,"radiusKey",void 0),__decorate$1l([Validate(OPT_STRING)],e.prototype,"radiusName",void 0),__decorate$1l([Validate(OPT_NUMBER(0))],e.prototype,"radiusMin",void 0),__decorate$1l([Validate(OPT_NUMBER(0))],e.prototype,"radiusMax",void 0),__decorate$1l([Validate(OPT_STRING)],e.prototype,"calloutLabelKey",void 0),__decorate$1l([Validate(OPT_STRING)],e.prototype,"calloutLabelName",void 0),__decorate$1l([DeprecatedAndRenamedTo("calloutLabelKey")],e.prototype,"labelKey",void 0),__decorate$1l([DeprecatedAndRenamedTo("calloutLabelName")],e.prototype,"labelName",void 0),__decorate$1l([Validate(OPT_STRING)],e.prototype,"sectorLabelKey",void 0),__decorate$1l([Validate(OPT_STRING)],e.prototype,"sectorLabelName",void 0),__decorate$1l([Validate(OPT_STRING)],e.prototype,"legendItemKey",void 0),__decorate$1l([Validate(COLOR_STRING_ARRAY)],e.prototype,"fills",void 0),__decorate$1l([Validate(COLOR_STRING_ARRAY)],e.prototype,"strokes",void 0),__decorate$1l([Validate(NUMBER(0,1))],e.prototype,"fillOpacity",void 0),__decorate$1l([Validate(NUMBER(0,1))],e.prototype,"strokeOpacity",void 0),__decorate$1l([Validate(OPT_LINE_DASH)],e.prototype,"lineDash",void 0),__decorate$1l([Validate(NUMBER(0))],e.prototype,"lineDashOffset",void 0),__decorate$1l([Validate(OPT_FUNCTION)],e.prototype,"formatter",void 0),__decorate$1l([Validate(NUMBER(-360,360))],e.prototype,"rotation",void 0),__decorate$1l([Validate(NUMBER())],e.prototype,"outerRadiusOffset",void 0),__decorate$1l([Validate(NUMBER(0))],e.prototype,"outerRadiusRatio",void 0),__decorate$1l([Validate(NUMBER())],e.prototype,"innerRadiusOffset",void 0),__decorate$1l([Validate(NUMBER(0))],e.prototype,"innerRadiusRatio",void 0),__decorate$1l([Validate(NUMBER(0))],e.prototype,"strokeWidth",void 0),e}(PolarSeries),__extends$1Z=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),HierarchySeries=function(t){function e(){return t.call(this,{pickModes:[SeriesNodePickMode.EXACT_SHAPE_MATCH]})||this}return __extends$1Z(e,t),e.prototype.getLabelData=function(){return[]},e}(Series),__extends$1Y=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$1k=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},DropShadow=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.enabled=!0,e.color="rgba(0, 0, 0, 0.5)",e.xOffset=0,e.yOffset=0,e.blur=5,e}return __extends$1Y(e,t),__decorate$1k([Validate(BOOLEAN),SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"enabled",void 0),__decorate$1k([Validate(COLOR_STRING),SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"color",void 0),__decorate$1k([Validate(NUMBER()),SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"xOffset",void 0),__decorate$1k([Validate(NUMBER()),SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"yOffset",void 0),__decorate$1k([Validate(NUMBER(0)),SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"blur",void 0),e}(ChangeDetectable);function number(t,e){return t=+t,e=+e,function(i){return t*(1-i)+e*i}}function interpolateColor(t,e){if("string"==typeof t)try{t=Color.fromString(t)}catch(e){t=Color.fromArray([0,0,0])}if("string"==typeof e)try{e=Color.fromString(e)}catch(t){e=Color.fromArray([0,0,0])}var i=number(t.r,e.r),o=number(t.g,e.g),n=number(t.b,e.b),r=number(t.a,e.a);return function(t){return Color.fromArray([i(t),o(t),n(t),r(t)]).toRgbaString()}}var ColorScale=function(){function t(){this.domain=[0,1],this._range=["red","green"],this.parsedRange=this._range.map((function(t){return Color.fromString(t)}))}return Object.defineProperty(t.prototype,"range",{get:function(){return this._range},set:function(t){this._range=t,this.parsedRange=t.map((function(t){return Color.fromString(t)}))},enumerable:!1,configurable:!0}),t.prototype.convert=function(t){var e,i,o=this,n=o.domain,r=o.range,s=o.parsedRange,a=n[0],l=n[n.length-1],c=r[0],u=r[r.length-1];if(t<=a)return c;if(t>=l)return u;if(2===n.length){var h=(t-a)/(l-a),d=1/(r.length-1);i=(h-(e=r.length<=2?0:Math.min(Math.floor(h*(r.length-1)),r.length-2))*d)/d}else{for(e=0;e<n.length-2&&!(t<n[e+1]);e++);var p=n[e];i=(t-p)/(n[e+1]-p)}return interpolateColor(s[e],s[e+1])(i)},t}(),__extends$1X=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__assign$u=function(){return __assign$u=Object.assign||function(t){for(var e,i=1,o=arguments.length;i<o;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},__assign$u.apply(this,arguments)},__decorate$1j=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},__awaiter$1=function(t,e,i,o){return new(i||(i=Promise))((function(n,r){function s(t){try{l(o.next(t))}catch(t){r(t)}}function a(t){try{l(o.throw(t))}catch(t){r(t)}}function l(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(s,a)}l((o=o.apply(t,e||[])).next())}))},__generator$1=function(t,e){var i,o,n,r,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(n=2&r[0]?o.return:r[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,r[1])).done)return n;switch(o=0,n&&(r=[2&r[0],n.value]),r[0]){case 0:case 1:n=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(n=s.trys,(n=n.length>0&&n[n.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!n||r[1]>n[0]&&r[1]<n[3])){s.label=r[1];break}if(6===r[0]&&s.label<n[1]){s.label=n[1],n=r;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(r);break}n[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(t){r=[6,t],o=0}finally{i=n=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},TreemapSeriesTooltip=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.renderer=void 0,e}return __extends$1X(e,t),__decorate$1j([Validate(OPT_FUNCTION)],e.prototype,"renderer",void 0),e}(SeriesTooltip),TreemapSeriesNodeBaseClickEvent=function(t){function e(e,i,o,n,r,s){var a=t.call(this,n,r,s)||this;return a.labelKey=e,a.sizeKey=i,a.colorKey=o,a}return __extends$1X(e,t),e}(SeriesNodeBaseClickEvent),TreemapSeriesNodeClickEvent=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="nodeClick",e}return __extends$1X(e,t),e}(TreemapSeriesNodeBaseClickEvent),TreemapSeriesNodeDoubleClickEvent=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="nodeDoubleClick",e}return __extends$1X(e,t),e}(TreemapSeriesNodeBaseClickEvent),TreemapSeriesLabel=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.padding=10,e}return __extends$1X(e,t),__decorate$1j([Validate(NUMBER(0))],e.prototype,"padding",void 0),e}(Label$1),TreemapValueLabel=function(){function t(){var t;this.style=((t=new Label$1).color="white",t)}return __decorate$1j([Validate(OPT_STRING)],t.prototype,"key",void 0),__decorate$1j([Validate(OPT_STRING)],t.prototype,"name",void 0),__decorate$1j([Validate(OPT_FUNCTION)],t.prototype,"formatter",void 0),t}(),TextNodeTag;function getTextSize(t,e){return HdpiCanvas.getTextSize(t,[e.fontWeight,e.fontSize+"px",e.fontFamily].join(" "))}function validateColor(t){if("string"==typeof t&&!Color.validColorString(t)){return Logger.warnOnce('invalid Treemap tile colour string "'+t+'". Affected treemap tiles will be coloured black.'),"black"}return t}!function(t){t[t.Name=0]="Name",t[t.Value=1]="Value"}(TextNodeTag||(TextNodeTag={}));var TreemapTextHighlightStyle=function(){function t(){this.color="black"}return __decorate$1j([Validate(OPT_COLOR_STRING)],t.prototype,"color",void 0),t}(),TreemapHighlightStyle=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.text=new TreemapTextHighlightStyle,e}return __extends$1X(e,t),e}(HighlightStyle),TreemapSeries=function(t){function e(){var e,i=null!==t&&t.apply(this,arguments)||this;return i.groupSelection=Selection.select(i.contentGroup,Group),i.highlightSelection=Selection.select(i.highlightGroup,Group),i.title=((e=new TreemapSeriesLabel).color="white",e.fontWeight="bold",e.fontSize=12,e.fontFamily="Verdana, sans-serif",e.padding=15,e),i.subtitle=function(){var t=new TreemapSeriesLabel;return t.color="white",t.fontSize=9,t.fontFamily="Verdana, sans-serif",t.padding=13,t}(),i.labels={large:function(){var t=new Label$1;return t.color="white",t.fontWeight="bold",t.fontSize=18,t}(),medium:function(){var t=new Label$1;return t.color="white",t.fontWeight="bold",t.fontSize=14,t}(),small:function(){var t=new Label$1;return t.color="white",t.fontWeight="bold",t.fontSize=10,t}(),value:new TreemapValueLabel},i.nodePadding=2,i.labelKey="label",i.sizeKey="size",i.colorKey="color",i.colorDomain=[-5,5],i.colorRange=["#cb4b3f","#6acb64"],i.groupFill="#272931",i.groupStroke="black",i.groupStrokeWidth=1,i.tileStroke="black",i.tileStrokeWidth=1,i.gradient=!0,i.formatter=void 0,i.colorName="Change",i.rootName="Root",i.highlightGroups=!0,i.tileShadow=new DropShadow,i.labelShadow=new DropShadow,i.tooltip=new TreemapSeriesTooltip,i.highlightStyle=new TreemapHighlightStyle,i}return __extends$1X(e,t),e.prototype.getNodePaddingTop=function(t,e){var i=this,o=i.title,n=i.subtitle,r=i.nodePadding,s=t.label;if(t.isLeaf||!s||0===t.depth)return r;var a=t.depth>1?n:o,l=getTextSize(s,a);return a.fontSize>e.width/3||a.fontSize>e.height/3||l.height>=e.height?r:l.height+2*r},e.prototype.getNodePadding=function(t,e){var i=this.nodePadding;return{top:this.getNodePaddingTop(t,e),right:i,bottom:i,left:i}},e.prototype.squarify=function(t,e,i){void 0===i&&(i=new Map);var o=this.getNodePadding(t,e);i.set(t,e);var n=e.width-o.left-o.right,r=e.height-o.top-o.bottom;if(n<=0||r<=0||t.value<=0)return i;for(var s=0,a=0,l=1/0,c=t.value,u=t.children,h=new BBox(e.x+o.left,e.y+o.top,n,r),d=0;d<u.length;d++){var p=u[d].value,f=u[a].value,g=h.width<h.height;s+=p;var m=g?h.height:h.width,y=g?h.width:h.height,v=y*f/s,_=m*s/c,C=Math.max(v,_)/Math.min(v,_),b=Math.abs(1-C);if(b<l)l=b;else{_=m*(s-=p)/c;for(var E=g?h.x:h.y,S=a;S<d;S++){var w=u[S],O=g?E:h.x,x=g?h.y:E,P=y*w.value/s,T=new BBox(O,x,g?P:_,g?_:P);this.squarify(w,T,i),c-=w.value,E+=P}g?(h.y+=_,h.height-=_):(h.x+=_,h.width-=_),a=d,s=0,l=1/0,d--}}var M=h.width<h.height,D=M?h.x:h.y;for(d=a;d<u.length;d++){O=M?D:h.x,x=M?h.y:D;var A=u[d].value/c,R=h.width*(M?A:1),L=h.height*(M?1:A);T=new BBox(O,x,R,L);this.squarify(u[d],T,i),D+=M?R:L}return i},e.prototype.processData=function(){return __awaiter$1(this,void 0,void 0,(function(){var t,e,i,o,n,r,s,a,l,c,u=this;return __generator$1(this,(function(h){return this.data?(e=(t=this).data,i=t.sizeKey,o=t.labelKey,n=t.colorKey,r=t.colorDomain,s=t.colorRange,a=t.groupFill,(l=new ColorScale).domain=r,l.range=s,c=function(t,e,r){var s,h;void 0===e&&(e=0);var d=o&&t[o]||"",p=n&&null!==(s=t[n])&&void 0!==s?s:e;p=validateColor(p);var f=!t.children,g="string"==typeof p?p:f||!a?l.convert(p):a,m={datum:t,depth:e,parent:r,value:0,label:d,fill:g,series:u,isLeaf:f,children:[]};return f?m.value=i&&null!==(h=t[i])&&void 0!==h?h:1:(t.children.forEach((function(t){var i=c(t,e+1,m),o=i.value;!isNaN(o)&&isFinite(o)&&0!==o&&(m.value+=o,m.children.push(i))})),m.children.sort((function(t,e){return e.value-t.value}))),m},this.dataRoot=c(e),[2]):[2]}))}))},e.prototype.createNodeData=function(){return __awaiter$1(this,void 0,void 0,(function(){return __generator$1(this,(function(t){return[2,[]]}))}))},e.prototype.update=function(){return __awaiter$1(this,void 0,void 0,(function(){return __generator$1(this,(function(t){switch(t.label){case 0:return[4,this.updateSelections()];case 1:return t.sent(),[4,this.updateNodes()];case 2:return t.sent(),[2]}}))}))},e.prototype.updateSelections=function(){return __awaiter$1(this,void 0,void 0,(function(){var t,e,i,o,n,r,s,a,l;return __generator$1(this,(function(c){return this.nodeDataRefresh?(this.nodeDataRefresh=!1,e=(t=this).chart,i=t.dataRoot,e&&i&&e.getSeriesRect()?(o=[],n=function(t){var e;o.push(t),null===(e=t.children)||void 0===e||e.forEach(n)},n(this.dataRoot),s=(r=this).groupSelection,a=r.highlightSelection,l=function(t){return t.update(o,(function(t){var e=new Rect,i=new Text;i.tag=TextNodeTag.Name;var o=new Text;o.tag=TextNodeTag.Value,t.append([e,i,o])}))},this.groupSelection=l(s),this.highlightSelection=l(a),[2]):[2]):[2]}))}))},e.prototype.isDatumHighlighted=function(t){var e;return t===(null===(e=this.highlightManager)||void 0===e?void 0:e.getActiveHighlight())&&(t.isLeaf||this.highlightGroups)},e.prototype.getTileFormat=function(t,e){var i,o=this.formatter;if(!o)return{};var n=this,r=n.gradient,s=n.colorKey,a=n.labelKey,l=n.sizeKey,c=n.tileStroke,u=n.tileStrokeWidth,h=n.groupStroke,d=n.groupStrokeWidth,p=t.isLeaf?c:h,f=t.isLeaf?u:d;return o({seriesId:this.id,datum:t.datum,depth:t.depth,parent:null===(i=t.parent)||void 0===i?void 0:i.datum,colorKey:s,sizeKey:l,labelKey:a,fill:t.fill,stroke:p,strokeWidth:f,gradient:r,highlighted:e})},e.prototype.updateNodes=function(){return __awaiter$1(this,void 0,void 0,(function(){var t,e,i,o,n,r,s,a,l,c,u,h,d,p,f,g,m,y,v,_,C=this;return __generator$1(this,(function(b){return this.chart?(e=(t=this).gradient,i=t.highlightStyle,o=i.item,n=o.fill,r=o.fillOpacity,s=o.stroke,a=o.strokeWidth,l=i.text.color,c=t.tileStroke,u=t.tileStrokeWidth,h=t.groupStroke,d=t.groupStrokeWidth,p=t.tileShadow,f=t.labelShadow,g=this.chart.getSeriesRect(),m=this.squarify(this.dataRoot,new BBox(0,0,g.width,g.height)),y=this.buildLabelMeta(m),this.updateNodeMidPoint(m),v=function(t,i,o){var l,f,g,y,v,_,b=m.get(i);if(b){var E=o&&void 0!==n?n:i.fill,S=null!==(l=o?r:1)&&void 0!==l?l:1,w=o&&void 0!==s?s:i.isLeaf?c:h,O=o&&void 0!==a?a:i.isLeaf?u:d,x=C.getTileFormat(i,o),P=validateColor(null!==(f=null==x?void 0:x.fill)&&void 0!==f?f:E);if(null!==(g=null==x?void 0:x.gradient)&&void 0!==g?g:e){var T=Color.tryParseFromString(E).brighter().toString(),M=Color.tryParseFromString(E).darker().toString();t.fill="linear-gradient(180deg, "+T+", "+M+")"}else t.fill=P;if(t.fillOpacity=null!==(y=null==x?void 0:x.fillOpacity)&&void 0!==y?y:S,t.stroke=validateColor(null!==(v=null==x?void 0:x.stroke)&&void 0!==v?v:w),t.strokeWidth=null!==(_=null==x?void 0:x.strokeWidth)&&void 0!==_?_:O,t.fillShadow=p,t.crisp=!0,t.x=b.x,t.y=b.y,t.width=b.width,t.height=b.height,t.visible=!0,o&&!i.isLeaf){var D=C.getNodePadding(i,b),A=b.x+D.left,R=b.x+b.width-D.right,L=b.y+D.top,I=b.y+b.height-D.bottom;t.clipPath?t.clipPath.clear():t.clipPath=new Path2D,t.clipMode="punch-out",t.clipPath.moveTo(A,L),t.clipPath.lineTo(R,L),t.clipPath.lineTo(R,I),t.clipPath.lineTo(A,I),t.clipPath.lineTo(A,L),t.clipPath.closePath()}}else t.visible=!1},this.groupSelection.selectByClass(Rect).forEach((function(t){return v(t,t.datum,!1)})),this.highlightSelection.selectByClass(Rect).forEach((function(t){var e=C.isDatumHighlighted(t.datum);t.visible=e,t.visible&&v(t,t.datum,e)})),_=function(t,e,i,o){var n=y.get(e),r=null==n?void 0:n[o];r?(t.text=r.text,t.fontFamily=r.style.fontFamily,t.fontSize=r.style.fontSize,t.fontWeight=r.style.fontWeight,t.fill=i&&null!=l?l:r.style.color,t.fillShadow=i?void 0:f,t.textAlign=r.hAlign,t.textBaseline=r.vAlign,t.x=r.x,t.y=r.y,t.visible=!0):t.visible=!1},this.groupSelection.selectByTag(TextNodeTag.Name).forEach((function(t){return _(t,t.datum,!1,"label")})),this.highlightSelection.selectByTag(TextNodeTag.Name).forEach((function(t){var e=C.isDatumHighlighted(t.datum);t.visible=e,t.visible&&_(t,t.datum,e,"label")})),this.groupSelection.selectByTag(TextNodeTag.Value).forEach((function(t){return _(t,t.datum,!1,"value")})),this.highlightSelection.selectByTag(TextNodeTag.Value).forEach((function(t){var e=C.isDatumHighlighted(t.datum);t.visible=e,t.visible&&_(t,t.datum,e,"value")})),[2]):[2]}))}))},e.prototype.updateNodeMidPoint=function(t){t.forEach((function(t,e){e.nodeMidPoint={x:t.x+t.width/2,y:t.y}}))},e.prototype.buildLabelMeta=function(t){var e=this,i=e.labels,o=e.title,n=e.subtitle,r=e.nodePadding,s=e.labelKey,a=new Map;return t.forEach((function(t,e){if(s&&0!==e.depth){var l,c=e.isLeaf?e.label:e.label.toUpperCase();l=e.isLeaf?[i.large,i.medium,i.small].find((function(e){var i=getTextSize(c,e),o=i.width,n=i.height;return o<t.width&&n<t.height}))||i.small:1===e.depth?o:n;var u=getTextSize(c,l),h=t.width-2*r,d=t.height-2*r;if(!(l.fontSize>t.width/3||l.fontSize>t.height/3)){if(u.width>h){var p=Math.floor(c.length*h/u.width)-1;c=c.substring(0,p)+"…"}var f=i.value,g=f.style,m=(l.fontSize+g.fontSize)/8,y=String(e.isLeaf?f.formatter?f.formatter({datum:e.datum}):f.key?e.datum[f.key]:"":""),v=getTextSize(y,g),_=y&&v.width<h&&v.height+u.height+m<d;a.set(e,{label:__assign$u({text:c,style:l},e.isLeaf?{hAlign:"center",vAlign:"middle",x:t.x+t.width/2,y:t.y+t.height/2-(_?v.height/2+m/2:0)}:{hAlign:"left",vAlign:"top",x:t.x+r,y:t.y+r}),value:_?{text:y,style:g,hAlign:"center",vAlign:"middle",x:t.x+t.width/2,y:t.y+t.height/2+u.height/2+m/2}:void 0})}}})),a},e.prototype.getDomain=function(t){return[0,1]},e.prototype.getNodeClickEvent=function(t,e){return new TreemapSeriesNodeClickEvent(this.labelKey,this.sizeKey,this.colorKey,t,e,this)},e.prototype.getNodeDoubleClickEvent=function(t,e){return new TreemapSeriesNodeDoubleClickEvent(this.labelKey,this.sizeKey,this.colorKey,t,e,this)},e.prototype.getTooltipHtml=function(t){var e;if(!this.highlightGroups&&!t.isLeaf)return"";var i=this,o=i.tooltip,n=i.sizeKey,r=i.labelKey,s=i.colorKey,a=i.rootName,l=i.id,c=i.labels,u=t.datum,h=o.renderer,d=t.depth?u[r]:a||u[r],p="",f=this.getTileFormat(t,!1),g=(null==f?void 0:f.fill)||t.fill||"gray",m=c.value.key,y=c.value.formatter;if(m||y){var v="";if(y)v=y({datum:u});else{var _=u[m];"number"==typeof _&&isFinite(_)&&(v=toFixed(_))}v&&(c.value.name&&(p+="<b>"+c.value.name+":</b> "),p+=v)}var C={title:d,backgroundColor:g,content:p};return h?toTooltipHtml$1(h({datum:t.datum,parent:null===(e=t.parent)||void 0===e?void 0:e.datum,depth:t.depth,sizeKey:n,labelKey:r,colorKey:s,title:d,color:g,seriesId:l}),C):d||p?toTooltipHtml$1(C):""},e.prototype.getLegendData=function(){return[]},e.className="TreemapSeries",e.type="treemap",__decorate$1j([Validate(NUMBER(0))],e.prototype,"nodePadding",void 0),__decorate$1j([Validate(STRING)],e.prototype,"labelKey",void 0),__decorate$1j([Validate(OPT_STRING)],e.prototype,"sizeKey",void 0),__decorate$1j([Validate(OPT_STRING)],e.prototype,"colorKey",void 0),__decorate$1j([Validate(NUMBER_ARRAY)],e.prototype,"colorDomain",void 0),__decorate$1j([Validate(COLOR_STRING_ARRAY)],e.prototype,"colorRange",void 0),__decorate$1j([Validate(OPT_STRING)],e.prototype,"groupFill",void 0),__decorate$1j([Validate(OPT_COLOR_STRING)],e.prototype,"groupStroke",void 0),__decorate$1j([Validate(OPT_NUMBER(0))],e.prototype,"groupStrokeWidth",void 0),__decorate$1j([Validate(OPT_COLOR_STRING)],e.prototype,"tileStroke",void 0),__decorate$1j([Validate(OPT_NUMBER(0))],e.prototype,"tileStrokeWidth",void 0),__decorate$1j([Validate(BOOLEAN)],e.prototype,"gradient",void 0),__decorate$1j([Validate(OPT_FUNCTION)],e.prototype,"formatter",void 0),__decorate$1j([Validate(STRING)],e.prototype,"colorName",void 0),__decorate$1j([Validate(STRING)],e.prototype,"rootName",void 0),__decorate$1j([Validate(OPT_BOOLEAN)],e.prototype,"highlightGroups",void 0),e}(HierarchySeries),types$1={area:"cartesian",bar:"cartesian",column:"cartesian",histogram:"cartesian",line:"cartesian",scatter:"cartesian",treemap:"hierarchy",pie:"polar"},CHART_TYPES={add:function(t,e){types$1[t]=e},delete:function(t){delete types$1[t]},has:function(t){return Object.prototype.hasOwnProperty.call(types$1,t)},isCartesian:function(t){return"cartesian"===types$1[t]},isPolar:function(t){return"polar"===types$1[t]},isHierarchy:function(t){return"hierarchy"===types$1[t]},get seriesTypes(){return Object.keys(types$1)},get cartesianTypes(){var t=this;return this.seriesTypes.filter((function(e){return t.isCartesian(e)}))},get polarTypes(){var t=this;return this.seriesTypes.filter((function(e){return t.isPolar(e)}))},get hierarchyTypes(){var t=this;return this.seriesTypes.filter((function(e){return t.isHierarchy(e)}))}};function deepMerge$1(t,e){if(isPlainObject(t)&&isPlainObject(e)){var i={};return Object.keys(t).forEach((function(o){i[o]=o in e?deepMerge$1(t[o],e[o]):t[o]})),Object.keys(e).forEach((function(o){o in t||(i[o]=e[o])})),i}return Array.isArray(t)&&!Array.isArray(e)||isObject(t)&&!isObject(e)?t:e}function isObject(t){return t&&"object"==typeof t}function isPlainObject(t){return isObject(t)&&t.constructor===Object}var __assign$t=function(){return __assign$t=Object.assign||function(t){for(var e,i=1,o=arguments.length;i<o;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},__assign$t.apply(this,arguments)},__read$r=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,n,r=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return s},palette$8={fills:["#f3622d","#fba71b","#57b757","#41a9c9","#4258c9","#9a42c8","#c84164","#888888"],strokes:["#aa4520","#b07513","#3d803d","#2d768d","#2e3e8d","#6c2e8c","#8c2d46","#5f5f5f"]},BOLD="bold",INSIDE="inside",RIGHT="right",ChartTheme=function(){function t(t){var e=(t=deepMerge$1({},t||{})).overrides,i=void 0===e?null:e,o=t.palette,n=void 0===o?null:o,r=this.createChartConfigPerChartType(this.getDefaults());if(i){var s=i.common,a=i.cartesian,l=i.polar,c=i.hierarchy,u=function(t,e,i){i&&(r[t]=deepMerge$1(r[t],i),e.forEach((function(t){var e=t;r[e]=deepMerge$1(r[e],i)})))};u("common",Object.keys(r),s),u("cartesian",CHART_TYPES.cartesianTypes,a),u("polar",CHART_TYPES.polarTypes,l),u("hierarchy",CHART_TYPES.hierarchyTypes,c),CHART_TYPES.seriesTypes.forEach((function(t){var e,o=t,n=i[o];n&&(n.series&&(n.series=((e={})[o]=n.series,e)),r[o]=deepMerge$1(r[o],n))}))}this.palette=null!=n?n:this.getPalette(),this.config=Object.freeze(r)}return t.prototype.getPalette=function(){return palette$8},t.getAxisDefaults=function(){return{top:{},right:{},bottom:{},left:{},thickness:0,title:{enabled:!1,text:"Axis Title",fontStyle:void 0,fontWeight:BOLD,fontSize:12,fontFamily:this.fontFamily,color:"rgb(70, 70, 70)"},label:{fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:this.fontFamily,padding:5,rotation:void 0,color:"rgb(87, 87, 87)",formatter:void 0,autoRotate:!1,avoidCollisions:!0},line:{width:1,color:"rgb(195, 195, 195)"},tick:{width:1,size:6,color:"rgb(195, 195, 195)"},gridStyle:[{stroke:"rgb(219, 219, 219)",lineDash:[4,2]}],crossLines:{enabled:!1,fill:"rgb(187,221,232)",stroke:"rgb(70,162,192)",strokeWidth:1,label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:this.fontFamily,padding:5,color:"rgb(87, 87, 87)",rotation:void 0}}}},t.getSeriesDefaults=function(){return{tooltip:{enabled:!0,renderer:void 0},visible:!0,showInLegend:!0,highlightStyle:{item:{fill:"yellow",fillOpacity:1},series:{dimOpacity:1},text:{color:"black"}},nodeClickRange:"exact"}},t.getBarSeriesDefaults=function(){return __assign$t(__assign$t({},this.getSeriesDefaults()),{flipXY:!1,fillOpacity:1,strokeOpacity:1,xKey:"",xName:"",normalizedTo:void 0,strokeWidth:1,lineDash:[0],lineDashOffset:0,label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:this.fontFamily,color:"rgb(70, 70, 70)",formatter:void 0,placement:INSIDE},shadow:{enabled:!1,color:"rgba(0, 0, 0, 0.5)",xOffset:3,yOffset:3,blur:5}})},t.getLineSeriesDefaults=function(){var t=this.getSeriesDefaults();return __assign$t(__assign$t({},t),{tooltip:__assign$t(__assign$t({},t.tooltip),{format:void 0,position:{type:"node"}})})},t.getAreaSeriesDefaults=function(){var t=this.getSeriesDefaults();return __assign$t(__assign$t({},t),{nodeClickRange:"nearest",tooltip:__assign$t(__assign$t({},t.tooltip),{position:{type:"node"}})})},t.getScatterSeriesDefaults=function(){var t=this.getSeriesDefaults();return __assign$t(__assign$t({},t),{tooltip:__assign$t(__assign$t({},t.tooltip),{position:{type:"node"}})})},t.getCartesianSeriesMarkerDefaults=function(){return{enabled:!0,shape:"circle",size:6,maxSize:30,strokeWidth:1,formatter:void 0}},t.getChartDefaults=function(){return{background:{visible:!0,fill:"white"},padding:{top:20,right:20,bottom:20,left:20},title:{enabled:!1,text:"Title",fontStyle:void 0,fontWeight:BOLD,fontSize:16,fontFamily:this.fontFamily,color:"rgb(70, 70, 70)"},subtitle:{enabled:!1,text:"Subtitle",fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:this.fontFamily,color:"rgb(140, 140, 140)"},footnote:{enabled:!1,text:"Footnote",fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:this.fontFamily,color:"rgb(140, 140, 140)",spacing:30},legend:{enabled:!0,position:RIGHT,spacing:20,listeners:{},item:{paddingX:16,paddingY:8,marker:{shape:void 0,size:15,strokeWidth:1,padding:8},label:{color:"black",fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:this.fontFamily,formatter:void 0}},reverseOrder:!1,pagination:{marker:{size:12},activeStyle:{fill:"rgb(70, 70, 70)"},inactiveStyle:{fill:"rgb(219, 219, 219)"},highlightStyle:{fill:"rgb(70, 70, 70)"},label:{color:"rgb(70, 70, 70)"}}},tooltip:{enabled:!0,range:"nearest",delay:0},listeners:{}}},t.prototype.createChartConfigPerChartType=function(t){var e={cartesian:CHART_TYPES.cartesianTypes,polar:CHART_TYPES.polarTypes,hierarchy:CHART_TYPES.hierarchyTypes,groupedCategory:[]};return Object.entries(e).forEach((function(e){var i=__read$r(e,2),o=i[0];i[1].forEach((function(e){t[e]||(t[e]=deepMerge$1({},t[o]))}))})),t},t.prototype.getDefaults=function(){var e=deepMerge$1({},t.defaults),i=function(e){var i={};return i.series=e.reduce((function(e,i){return Object.prototype.hasOwnProperty.call(t.seriesThemeOverrides,i)&&(e[i]=t.seriesThemeOverrides[i]({seriesDefaults:t.getSeriesDefaults(),defaultFontFamily:t.fontFamily})),e}),{}),i};return deepMerge$1(e,{cartesian:i(CHART_TYPES.cartesianTypes),groupedCategory:i(CHART_TYPES.cartesianTypes),polar:i(CHART_TYPES.polarTypes),hierarchy:i(CHART_TYPES.hierarchyTypes)})},t.prototype.mergeWithParentDefaults=function(t,e){return deepMerge$1(t,e)},t.fontFamily="Verdana, sans-serif",t.seriesThemeOverrides={},t.cartesianDefaults=__assign$t(__assign$t({},t.getChartDefaults()),{axes:{number:__assign$t({},t.getAxisDefaults()),log:__assign$t(__assign$t({},t.getAxisDefaults()),{base:10}),category:__assign$t(__assign$t({},t.getAxisDefaults()),{groupPaddingInner:.1,label:__assign$t(__assign$t({},t.getAxisDefaults().label),{autoRotate:!0})}),groupedCategory:__assign$t({},t.getAxisDefaults()),time:__assign$t({},t.getAxisDefaults())},series:{column:__assign$t(__assign$t({},t.getBarSeriesDefaults()),{flipXY:!1}),bar:__assign$t(__assign$t({},t.getBarSeriesDefaults()),{flipXY:!0}),line:__assign$t(__assign$t({},t.getLineSeriesDefaults()),{title:void 0,xKey:"",xName:"",yKey:"",yName:"",strokeWidth:2,strokeOpacity:1,lineDash:[0],lineDashOffset:0,marker:__assign$t(__assign$t({},t.getCartesianSeriesMarkerDefaults()),{fillOpacity:1,strokeOpacity:1}),label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:t.fontFamily,color:"rgb(70, 70, 70)",formatter:void 0}}),scatter:__assign$t(__assign$t({},t.getScatterSeriesDefaults()),{title:void 0,xKey:"",yKey:"",sizeKey:void 0,labelKey:void 0,xName:"",yName:"",sizeName:"Size",labelName:"Label",marker:__assign$t({},t.getCartesianSeriesMarkerDefaults()),label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:t.fontFamily,color:"rgb(70, 70, 70)"}}),area:__assign$t(__assign$t({},t.getAreaSeriesDefaults()),{xKey:"",xName:"",normalizedTo:void 0,fillOpacity:.8,strokeOpacity:1,strokeWidth:2,lineDash:[0],lineDashOffset:0,shadow:{enabled:!1,color:"rgba(0, 0, 0, 0.5)",xOffset:3,yOffset:3,blur:5},marker:__assign$t(__assign$t({},t.getCartesianSeriesMarkerDefaults()),{fillOpacity:1,strokeOpacity:1,enabled:!1}),label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:t.fontFamily,color:"rgb(70, 70, 70)",formatter:void 0}}),histogram:__assign$t(__assign$t({},t.getSeriesDefaults()),{xKey:"",yKey:"",xName:"",yName:"",strokeWidth:1,fillOpacity:1,strokeOpacity:1,lineDash:[0],lineDashOffset:0,areaPlot:!1,bins:void 0,aggregation:"sum",label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:t.fontFamily,color:"rgb(70, 70, 70)",formatter:void 0},shadow:{enabled:!0,color:"rgba(0, 0, 0, 0.5)",xOffset:0,yOffset:0,blur:5}})},navigator:{enabled:!1,height:30,mask:{fill:"#999999",stroke:"#999999",strokeWidth:1,fillOpacity:.2},minHandle:{fill:"#f2f2f2",stroke:"#999999",strokeWidth:1,width:8,height:16,gripLineGap:2,gripLineLength:8},maxHandle:{fill:"#f2f2f2",stroke:"#999999",strokeWidth:1,width:8,height:16,gripLineGap:2,gripLineLength:8}}}),t.polarDefaults=__assign$t(__assign$t({},t.getChartDefaults()),{series:{pie:__assign$t(__assign$t({},t.getSeriesDefaults()),{title:{enabled:!0,text:"",fontStyle:void 0,fontWeight:"bold",fontSize:14,fontFamily:t.fontFamily,color:"rgb(70, 70, 70)"},angleKey:"",angleName:"",radiusKey:void 0,radiusName:void 0,calloutLabelKey:void 0,calloutLabelName:void 0,sectorLabelKey:void 0,sectorLabelName:void 0,calloutLabel:{enabled:!0,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:t.fontFamily,color:"rgb(70, 70, 70)",offset:3,minAngle:0},sectorLabel:{enabled:!0,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:t.fontFamily,color:"rgb(70, 70, 70)",positionOffset:0,positionRatio:.5},calloutLine:{length:10,strokeWidth:2},fillOpacity:1,strokeOpacity:1,strokeWidth:1,lineDash:[0],lineDashOffset:0,rotation:0,outerRadiusOffset:0,innerRadiusOffset:0,shadow:{enabled:!1,color:"rgba(0, 0, 0, 0.5)",xOffset:3,yOffset:3,blur:5},innerLabels:{fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:t.fontFamily,color:"rgb(70, 70, 70)",margin:2}})}}),t.hierarchyDefaults=__assign$t(__assign$t({},t.getChartDefaults()),{series:{treemap:__assign$t(__assign$t({},t.getSeriesDefaults()),{showInLegend:!1,labelKey:"label",sizeKey:"size",colorKey:"color",colorDomain:[-5,5],colorRange:["#cb4b3f","#6acb64"],groupFill:"#272931",groupStroke:"black",groupStrokeWidth:1,tileStroke:"black",tileStrokeWidth:1,gradient:!0,tileShadow:{enabled:!1,color:"rgba(0, 0, 0, 0.5)",xOffset:3,yOffset:3,blur:5},labelShadow:{enabled:!0,color:"rgba(0, 0, 0, 0.4)",xOffset:1.5,yOffset:1.5,blur:5},highlightGroups:!0,nodePadding:2,title:{enabled:!0,color:"white",fontStyle:void 0,fontWeight:"bold",fontSize:12,fontFamily:"Verdana, sans-serif",padding:15},subtitle:{enabled:!0,color:"white",fontStyle:void 0,fontWeight:void 0,fontSize:9,fontFamily:"Verdana, sans-serif",padding:13},labels:{large:{enabled:!0,fontStyle:void 0,fontWeight:"bold",fontSize:18,fontFamily:"Verdana, sans-serif",color:"white"},medium:{enabled:!0,fontStyle:void 0,fontWeight:"bold",fontSize:14,fontFamily:"Verdana, sans-serif",color:"white"},small:{enabled:!0,fontStyle:void 0,fontWeight:"bold",fontSize:10,fontFamily:"Verdana, sans-serif",color:"white"},value:{style:{enabled:!0,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:"Verdana, sans-serif",color:"white"}}}})}}),t.defaults={cartesian:t.cartesianDefaults,groupedCategory:t.cartesianDefaults,polar:t.polarDefaults,hierarchy:t.hierarchyDefaults},t}(),__extends$1W=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__assign$s=function(){return __assign$s=Object.assign||function(t){for(var e,i=1,o=arguments.length;i<o;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},__assign$s.apply(this,arguments)},DarkTheme=function(t){function e(e){return t.call(this,e)||this}return __extends$1W(e,t),e.prototype.getDefaults=function(){var i=e.fontColor,o=e.mutedFontColor,n={title:{color:i},label:{color:i},gridStyle:[{stroke:"rgb(88, 88, 88)",lineDash:[4,2]}]},r={label:{color:i}},s={axes:{number:__assign$s({},n),category:__assign$s({},n),time:__assign$s({},n)}},a={background:{fill:"rgb(34, 38, 41)"},title:{color:i},subtitle:{color:o},legend:{item:{label:{color:i}},pagination:{activeStyle:{fill:i},inactiveStyle:{fill:o},highlightStyle:{fill:i},label:{color:i}}}},l=function(t){return t.reduce((function(t,i){return Object.prototype.hasOwnProperty.call(e.seriesDarkThemeOverrides,i)&&(t[i]=e.seriesDarkThemeOverrides[i]({seriesLabelDefaults:e.seriesLabelDefaults})),t}),{})};return this.mergeWithParentDefaults(t.prototype.getDefaults.call(this),{cartesian:__assign$s(__assign$s(__assign$s({},a),s),{series:__assign$s({bar:__assign$s({},r),column:__assign$s({},r),histogram:__assign$s({},r)},l(CHART_TYPES.cartesianTypes))}),groupedCategory:__assign$s(__assign$s(__assign$s({},a),s),{series:__assign$s({bar:__assign$s({},r),column:__assign$s({},r),histogram:__assign$s({},r)},l(CHART_TYPES.cartesianTypes))}),polar:__assign$s(__assign$s({},a),{series:__assign$s({pie:{calloutLabel:{color:i},sectorLabel:{color:i},title:{color:i},innerLabels:{color:i}}},l(CHART_TYPES.polarTypes))}),hierarchy:__assign$s(__assign$s({},a),{series:__assign$s({treemap:{tileStroke:"white",groupStroke:"white",title:{color:i},subtitle:{color:o},labels:{large:{color:i},medium:{color:i},small:{color:i},value:{style:{color:i}}}}},l(CHART_TYPES.hierarchyTypes))})})},e.fontColor="rgb(200, 200, 200)",e.mutedFontColor="rgb(150, 150, 150)",e.seriesLabelDefaults={label:{color:e.fontColor}},e.seriesDarkThemeOverrides={},e}(ChartTheme),__values$b=function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],o=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},BaseModuleInstance=function(){function t(){this.destroyFns=[]}return t.prototype.destroy=function(){var t,e;try{for(var i=__values$b(this.destroyFns),o=i.next();!o.done;o=i.next()){(0,o.value)()}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}},t}(),REGISTERED_MODULES=[];function registerModule(t){var e=REGISTERED_MODULES.find((function(e){return t.type===e.type&&t.optionsKey===e.optionsKey}));if(e){if("enterprise"===t.packageType&&"community"===e.packageType){var i=REGISTERED_MODULES.indexOf(e);REGISTERED_MODULES.splice(i,1,t)}}else REGISTERED_MODULES.push(t)}var __extends$1V=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$1i=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},RangeHandle$1=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._fill="#f2f2f2",e._stroke="#999999",e._strokeWidth=1,e._lineCap="square",e._centerX=0,e._centerY=0,e._width=8,e._gripLineGap=2,e._gripLineLength=8,e._height=16,e}return __extends$1V(e,t),Object.defineProperty(e.prototype,"centerX",{get:function(){return this._centerX},set:function(t){this._centerX!==t&&(this._centerX=t,this.dirtyPath=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"centerY",{get:function(){return this._centerY},set:function(t){this._centerY!==t&&(this._centerY=t,this.dirtyPath=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(t){this._width!==t&&(this._width=t,this.dirtyPath=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"gripLineGap",{get:function(){return this._gripLineGap},set:function(t){this._gripLineGap!==t&&(this._gripLineGap=t,this.dirtyPath=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"gripLineLength",{get:function(){return this._gripLineLength},set:function(t){this._gripLineLength!==t&&(this._gripLineLength=t,this.dirtyPath=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(t){this._height!==t&&(this._height=t,this.dirtyPath=!0)},enumerable:!1,configurable:!0}),e.prototype.computeBBox=function(){var t=this,e=t.centerX,i=t.centerY,o=t.width,n=t.height;return new BBox(e-o/2,i-n/2,o,n)},e.prototype.isPointInPath=function(t,e){var i=this.transformPoint(t,e);return this.computeBBox().containsPoint(i.x,i.y)},e.prototype.updatePath=function(){var t=this,e=t.path,i=t.centerX,o=t.centerY,n=t.width,r=t.height;e.clear();var s=i-n/2,a=o-r/2,l=this.align(s),c=this.align(a),u=l+this.align(s,n),h=c+this.align(a,r);e.moveTo(l,c),e.lineTo(u,c),e.lineTo(u,h),e.lineTo(l,h),e.lineTo(l,c);var d=this.gripLineGap/2,p=this.gripLineLength/2;e.moveTo(this.align(i-d),this.align(o-p)),e.lineTo(this.align(i-d),this.align(o+p)),e.moveTo(this.align(i+d),this.align(o-p)),e.lineTo(this.align(i+d),this.align(o+p))},e.className="RangeHandle",__decorate$1i([Validate(COLOR_STRING)],e.prototype,"_fill",void 0),__decorate$1i([Validate(COLOR_STRING)],e.prototype,"_stroke",void 0),__decorate$1i([Validate(NUMBER(0))],e.prototype,"_strokeWidth",void 0),__decorate$1i([Validate(LINE_CAP)],e.prototype,"_lineCap",void 0),__decorate$1i([Validate(NUMBER(0))],e.prototype,"_width",void 0),__decorate$1i([Validate(NUMBER(0))],e.prototype,"_gripLineGap",void 0),__decorate$1i([Validate(NUMBER(0))],e.prototype,"_gripLineLength",void 0),__decorate$1i([Validate(NUMBER(0))],e.prototype,"_height",void 0),e}(Path),__extends$1U=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$1h=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},RangeMask=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._stroke="#999999",e._strokeWidth=1,e._fill="#999999",e._fillOpacity=.2,e._lineCap="square",e._x=0,e._y=0,e._width=200,e._height=30,e.minRange=.05,e._min=0,e._max=1,e}return __extends$1U(e,t),Object.defineProperty(e.prototype,"x",{get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.dirtyPath=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.dirtyPath=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(t){this._width!==t&&(this._width=t,this.dirtyPath=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(t){this._height!==t&&(this._height=t,this.dirtyPath=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"min",{get:function(){return this._min},set:function(t){var e;t=Math.min(Math.max(t,0),this.max-this.minRange),isNaN(t)||this._min!==t&&(this._min=t,this.dirtyPath=!0,null===(e=this.onRangeChange)||void 0===e||e.call(this))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"max",{get:function(){return this._max},set:function(t){var e;t=Math.max(Math.min(t,1),this.min+this.minRange),isNaN(t)||this._max!==t&&(this._max=t,this.dirtyPath=!0,null===(e=this.onRangeChange)||void 0===e||e.call(this))},enumerable:!1,configurable:!0}),e.prototype.computeBBox=function(){var t=this,e=t.x,i=t.y,o=t.width,n=t.height;return new BBox(e,i,o,n)},e.prototype.computeVisibleRangeBBox=function(){var t=this,e=t.x,i=t.y,o=t.width,n=t.height,r=t.min,s=t.max,a=e+o*r;return new BBox(a,i,e+o*s-a,n)},e.prototype.updatePath=function(){var t=this,e=t.path,i=t.x,o=t.y,n=t.width,r=t.height,s=t.min,a=t.max;e.clear();var l=this.align(i),c=this.align(o),u=l+this.align(i,n),h=c+this.align(o,r);e.moveTo(l,c),e.lineTo(u,c),e.lineTo(u,h),e.lineTo(l,h),e.lineTo(l,c);var d=this.align(i+n*s),p=this.align(i+n*a);e.moveTo(d,c),e.lineTo(d,h),e.lineTo(p,h),e.lineTo(p,c),e.lineTo(d,c)},e.className="RangeMask",__decorate$1h([Validate(COLOR_STRING)],e.prototype,"_stroke",void 0),__decorate$1h([Validate(NUMBER(0))],e.prototype,"_strokeWidth",void 0),__decorate$1h([Validate(COLOR_STRING)],e.prototype,"_fill",void 0),__decorate$1h([Validate(NUMBER(0,1))],e.prototype,"_fillOpacity",void 0),__decorate$1h([Validate(LINE_CAP)],e.prototype,"_lineCap",void 0),__decorate$1h([Validate(NUMBER(0))],e.prototype,"_width",void 0),__decorate$1h([Validate(NUMBER(0))],e.prototype,"_height",void 0),__decorate$1h([Validate(NUMBER())],e.prototype,"_min",void 0),__decorate$1h([Validate(NUMBER())],e.prototype,"_max",void 0),e}(Path),__extends$1T=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__assign$r=function(){return __assign$r=Object.assign||function(t){for(var e,i=1,o=arguments.length;i<o;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},__assign$r.apply(this,arguments)},RangeSelector=function(t){function e(){var i=t.call(this,{name:"rangeSelectorGroup"})||this;return i.minHandle=new RangeHandle$1,i.maxHandle=new RangeHandle$1,i.mask=function(){var t=e.defaults,o=t.x,n=t.y,r=t.width,s=t.height,a=t.min,l=t.max,c=new RangeMask;c.x=o,c.y=n,c.width=r,c.height=s,c.min=a,c.max=l;var u=i,h=u.minHandle,d=u.maxHandle;return h.centerX=o,d.centerX=o+r,h.centerY=d.centerY=n+s/2,i.append([c,h,d]),c.onRangeChange=function(){var t;i.updateHandles(),null===(t=i.onRangeChange)||void 0===t||t.call(i)},c}(),i._x=e.defaults.x,i._y=e.defaults.y,i._width=e.defaults.width,i._height=e.defaults.height,i._min=e.defaults.min,i._max=e.defaults.max,i.isContainerNode=!0,i}return __extends$1T(e,t),Object.defineProperty(e.prototype,"x",{get:function(){return this.mask.x},set:function(t){this.mask.x=t,this.updateHandles()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.mask.y},set:function(t){this.mask.y=t,this.updateHandles()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.mask.width},set:function(t){this.mask.width=t,this.updateHandles()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.mask.height},set:function(t){this.mask.height=t,this.updateHandles()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"min",{get:function(){return this.mask.min},set:function(t){this.mask.min=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"max",{get:function(){return this.mask.max},set:function(t){this.mask.max=t},enumerable:!1,configurable:!0}),e.prototype.updateHandles=function(){var t=this,e=t.minHandle,i=t.maxHandle,o=t.x,n=t.y,r=t.width,s=t.height,a=t.mask;e.centerX=o+r*a.min,i.centerX=o+r*a.max,e.centerY=i.centerY=n+s/2},e.prototype.computeBBox=function(){return this.mask.computeBBox()},e.prototype.computeVisibleRangeBBox=function(){return this.mask.computeVisibleRangeBBox()},e.prototype.render=function(t){var e=t.ctx,i=t.forceRender,o=t.stats;if(this.dirty!==RedrawType.NONE||i){this.computeTransformMatrix(),this.matrix.toContext(e);var n=this;[n.mask,n.minHandle,n.maxHandle].forEach((function(o){o.visible&&(i||o.dirty>RedrawType.NONE)&&(e.save(),o.render(__assign$r(__assign$r({},t),{ctx:e,forceRender:i})),e.restore())})),this.markClean({force:!0}),o&&o.nodesRendered++}else o&&o.nodesSkipped++},e.className="Range",e.defaults={x:0,y:0,width:200,height:30,min:0,max:1},e}(Group),NavigatorMask=function(){function t(t){this.rm=t}return Object.defineProperty(t.prototype,"fill",{get:function(){return this.rm.fill},set:function(t){this.rm.fill=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"stroke",{get:function(){return this.rm.stroke},set:function(t){this.rm.stroke=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"strokeWidth",{get:function(){return this.rm.strokeWidth},set:function(t){this.rm.strokeWidth=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fillOpacity",{get:function(){return this.rm.fillOpacity},set:function(t){this.rm.fillOpacity=t},enumerable:!1,configurable:!0}),t}(),NavigatorHandle=function(){function t(t){this.rh=t}return Object.defineProperty(t.prototype,"fill",{get:function(){return this.rh.fill},set:function(t){this.rh.fill=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"stroke",{get:function(){return this.rh.stroke},set:function(t){this.rh.stroke=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"strokeWidth",{get:function(){return this.rh.strokeWidth},set:function(t){this.rh.strokeWidth=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.rh.width},set:function(t){this.rh.width=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.rh.height},set:function(t){this.rh.height=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"gripLineGap",{get:function(){return this.rh.gripLineGap},set:function(t){this.rh.gripLineGap=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"gripLineLength",{get:function(){return this.rh.gripLineLength},set:function(t){this.rh.gripLineLength=t},enumerable:!1,configurable:!0}),t}(),__extends$1S=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$1g=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},Navigator=function(t){function e(e){var i=t.call(this)||this;return i.ctx=e,i.rs=new RangeSelector,i.mask=new NavigatorMask(i.rs.mask),i.minHandle=new NavigatorHandle(i.rs.minHandle),i.maxHandle=new NavigatorHandle(i.rs.maxHandle),i.minHandleDragging=!1,i.maxHandleDragging=!1,i.panHandleOffset=NaN,i._enabled=!1,i.margin=10,i._visible=!0,i.rs.onRangeChange=function(){return i.ctx.zoomManager.updateZoom("navigator",{x:{min:i.rs.min,max:i.rs.max}})},[e.interactionManager.addListener("drag-start",(function(t){return i.onDragStart(t)})),e.interactionManager.addListener("drag",(function(t){return i.onDrag(t)})),e.interactionManager.addListener("hover",(function(t){return i.onDrag(t)})),e.interactionManager.addListener("drag-end",(function(){return i.onDragStop()}))].forEach((function(t){return i.destroyFns.push((function(){return e.interactionManager.removeListener(t)}))})),[e.layoutService.addListener("before-series",(function(t){return i.layout(t)})),e.layoutService.addListener("layout-complete",(function(t){return i.layoutComplete(t)}))].forEach((function(t){return i.destroyFns.push((function(){return e.layoutService.removeListener(t)}))})),e.scene.root.appendChild(i.rs),i.destroyFns.push((function(){var t;return null===(t=e.scene.root)||void 0===t?void 0:t.removeChild(i.rs)})),i.updateGroupVisibility(),i}return __extends$1S(e,t),Object.defineProperty(e.prototype,"enabled",{get:function(){return this._enabled},set:function(t){this._enabled=t,this.updateGroupVisibility()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.rs.width},set:function(t){this.rs.width=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.rs.height},set:function(t){this.rs.height=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"min",{get:function(){return this.rs.min},set:function(t){this.rs.min=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"max",{get:function(){return this.rs.max},set:function(t){this.rs.max=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"visible",{get:function(){return this._visible},set:function(t){this._visible=t,this.updateGroupVisibility()},enumerable:!1,configurable:!0}),e.prototype.updateGroupVisibility=function(){this.rs.visible=this.enabled&&this.visible},e.prototype.layout=function(t){var e=t.shrinkRect;if(this.enabled){var i=this.rs.height+this.margin;e.shrink(i,"bottom"),this.rs.y=e.y+e.height+this.margin}return{shrinkRect:e}},e.prototype.layoutComplete=function(t){var e=t.series,i=e.rect,o=e.visible;this.enabled&&o&&(this.rs.x=i.x,this.rs.width=i.width),this.visible=o},e.prototype.update=function(){},e.prototype.onDragStart=function(t){if(this.enabled){var e=t.offsetX,i=t.offsetY,o=this.rs,n=o.minHandle,r=o.maxHandle,s=o.x,a=o.width,l=o.min,c=o.computeVisibleRangeBBox();this.minHandleDragging||this.maxHandleDragging||(n.containsPoint(e,i)?this.minHandleDragging=!0:r.containsPoint(e,i)?this.maxHandleDragging=!0:c.containsPoint(e,i)&&(this.panHandleOffset=(e-s)/a-l))}},e.prototype.onDrag=function(t){if(this.enabled){var e=this.rs,i=this.panHandleOffset,o=e.x,n=e.y,r=e.width,s=e.height,a=e.minHandle,l=e.maxHandle,c=t.offsetX,u=t.offsetY,h=o+r*e.min,d=o+r*e.max,p=new BBox(h,n,d-h,s),f=function(){return Math.min(Math.max((c-o)/r,0),1)};if(a.containsPoint(c,u)||l.containsPoint(c,u)?this.ctx.cursorManager.updateCursor("navigator","ew-resize"):p.containsPoint(c,u)?this.ctx.cursorManager.updateCursor("navigator","grab"):this.ctx.cursorManager.updateCursor("navigator"),this.minHandleDragging)e.min=f();else if(this.maxHandleDragging)e.max=f();else if(!isNaN(i)){var g=e.max-e.min,m=Math.min(f()-i,1-g);m<=e.min?(e.min=m,e.max=e.min+g):(e.max=m+g,e.min=e.max-g)}}},e.prototype.onDragStop=function(){this.stopHandleDragging()},e.prototype.stopHandleDragging=function(){this.minHandleDragging=this.maxHandleDragging=!1,this.panHandleOffset=NaN},__decorate$1g([Validate(BOOLEAN)],e.prototype,"_enabled",void 0),__decorate$1g([Validate(NUMBER(0))],e.prototype,"margin",void 0),e}(BaseModuleInstance),CHART_NAVIGATOR_MODULE={type:"root",optionsKey:"navigator",packageType:"community",chartTypes:["cartesian"],initialiseModule:function(t){return{instance:new Navigator(t)}}};registerModule(CHART_NAVIGATOR_MODULE);var __extends$1R=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$1f=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},Background=function(t){function e(e){var i,o=t.call(this)||this;o.onLayoutComplete=function(t){var e=t.chart,i=e.width,n=e.height;o.rectNode.width=i,o.rectNode.height=n},o.node=new Group({name:"background"}),o.node.zIndex=Layers.SERIES_BACKGROUND_ZINDEX,o.rectNode=new Rect,o.node.appendChild(o.rectNode),o.fill="white",o.visible=!0,null===(i=e.scene.root)||void 0===i||i.appendChild(o.node),o.destroyFns.push((function(){var t;return null===(t=e.scene.root)||void 0===t?void 0:t.removeChild(o.node)}));var n=e.layoutService.addListener("layout-complete",o.onLayoutComplete);return o.destroyFns.push((function(){return e.layoutService.removeListener(n)})),o}return __extends$1R(e,t),e.prototype.update=function(){},__decorate$1f([Validate(BOOLEAN),ProxyPropertyOnWrite("node","visible")],e.prototype,"visible",void 0),__decorate$1f([Validate(OPT_COLOR_STRING),ProxyPropertyOnWrite("rectNode","fill")],e.prototype,"fill",void 0),e}(BaseModuleInstance),CHART_BACKGROUND_MODULE={type:"root",optionsKey:"background",packageType:"community",chartTypes:["cartesian","polar","hierarchy"],initialiseModule:function(t){return{instance:new Background(t)}}};registerModule(CHART_BACKGROUND_MODULE);var builtinSeriesTypes={area:AreaSeries,bar:BarSeries,column:BarSeries,histogram:HistogramSeries,line:LineSeries,pie:PieSeries,scatter:ScatterSeries,treemap:TreemapSeries},extraSeriesFactories={},initialisedSeriesModules=new Map;function initialiseSeriesModules(){REGISTERED_MODULES.filter((function(t){return"series"===t.type})).filter((function(t){return!initialisedSeriesModules.has(t)})).forEach((function(t){return initialiseSeriesModule(t)}))}var seriesDefaults={};function initialiseSeriesModule(t){var e=t.optionsKey,i=t.initialiseModule({seriesFactory:{add:function(t){extraSeriesFactories[e]=t},delete:function(){delete extraSeriesFactories[e]}},defaults:{add:function(t){seriesDefaults[e]=t},delete:function(){delete seriesDefaults[e]}},themes:{chartTheme:{add:function(t){ChartTheme.seriesThemeOverrides[e]=t},delete:function(){delete ChartTheme.seriesThemeOverrides[e]}},darkTheme:{add:function(t){DarkTheme.seriesDarkThemeOverrides[e]=t},delete:function(){delete DarkTheme.seriesDarkThemeOverrides[e]}}}});initialisedSeriesModules.set(t,i);var o=t.chartTypes[0];CHART_TYPES.add(e,o)}function getSeries(t){if(Object.prototype.hasOwnProperty.call(extraSeriesFactories,t))return(0,extraSeriesFactories[t])();if(Object.prototype.hasOwnProperty.call(builtinSeriesTypes,t))return new(0,builtinSeriesTypes[t]);throw new Error("AG Charts - unknown series type: "+t)}var DEFAULT_CARTESIAN_CHART_OVERRIDES={axes:[{type:NumberAxis.type,position:"left"},{type:CategoryAxis.type,position:"bottom"}]},DEFAULT_BAR_CHART_OVERRIDES={axes:[{type:"number",position:"bottom"},{type:"category",position:"left"}]},DEFAULT_SCATTER_HISTOGRAM_CHART_OVERRIDES={axes:[{type:"number",position:"bottom"},{type:"number",position:"left"}]},__assign$q=function(){return __assign$q=Object.assign||function(t){for(var e,i=1,o=arguments.length;i<o;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},__assign$q.apply(this,arguments)};function transform(t,e){var i={};for(var o in t){var n=e[o]||function(t){return t};i[o]=n(t[o],t)}return i}function is2dArray(t){return null!=t&&t instanceof Array&&t[0]instanceof Array}function yNamesMapping(t,e){if(null==t)return{};if(!(t instanceof Array))return t;var i=e.yKeys;if(null==i||is2dArray(i))throw new Error("AG Charts - yNames and yKeys mismatching configuration.");var o={};return i.forEach((function(e,i){o[e]=t[i]})),o}function yKeysMapping(t,e){return null==t?[[]]:is2dArray(t)?t:e.grouped?t.map((function(t){return[t]})):[t]}function barSeriesTransform(t){var e=__assign$q({},t);return delete e.yKey,delete e.yName,transform(e,{yNames:yNamesMapping,yKeys:yKeysMapping})}function identityTransform(t){return t}var SERIES_TRANSFORMS={area:identityTransform,bar:barSeriesTransform,column:barSeriesTransform,histogram:identityTransform,line:identityTransform,pie:identityTransform,scatter:identityTransform,treemap:identityTransform};function applySeriesTransform(t){var e=t.type||"line",i=SERIES_TRANSFORMS[e];return(null!=i?i:identityTransform)(t)}var __extends$1Q=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),palette$7={fills:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4caf50","#8bc34a","#cddc39","#ffeb3b","#ffc107","#ff9800","#ff5722"],strokes:["#ab2f26","#a31545","#6d1b7b","#482980","#2c397f","#1769aa","#0276ab","#008494","#00695f","#357a38","#618834","#909a28","#b3a429","#b38705","#b36a00","#b33d18"]},MaterialLight=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$1Q(e,t),e.prototype.getPalette=function(){return palette$7},e}(ChartTheme),__extends$1P=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),palette$6={fills:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4caf50","#8bc34a","#cddc39","#ffeb3b","#ffc107","#ff9800","#ff5722"],strokes:["#ab2f26","#a31545","#6d1b7b","#482980","#2c397f","#1769aa","#0276ab","#008494","#00695f","#357a38","#618834","#909a28","#b3a429","#b38705","#b36a00","#b33d18"]},MaterialDark=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$1P(e,t),e.prototype.getPalette=function(){return palette$6},e}(DarkTheme),__extends$1O=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),palette$5={fills:["#c16068","#a2bf8a","#ebcc87","#80a0c3","#b58dae","#85c0d1"],strokes:["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"]},PastelLight=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$1O(e,t),e.prototype.getPalette=function(){return palette$5},e}(ChartTheme),__extends$1N=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),palette$4={fills:["#c16068","#a2bf8a","#ebcc87","#80a0c3","#b58dae","#85c0d1"],strokes:["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"]},PastelDark=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$1N(e,t),e.prototype.getPalette=function(){return palette$4},e}(DarkTheme),__extends$1M=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),palette$3={fills:["#febe76","#ff7979","#badc58","#f9ca23","#f0932b","#eb4c4b","#6ab04c","#7ed6df","#e056fd","#686de0"],strokes:["#b28553","#b35555","#829a3e","#ae8d19","#a8671e","#a43535","#4a7b35","#58969c","#9d3cb1","#494c9d"]},SolarLight=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$1M(e,t),e.prototype.getPalette=function(){return palette$3},e}(ChartTheme),__extends$1L=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),palette$2={fills:["#febe76","#ff7979","#badc58","#f9ca23","#f0932b","#eb4c4b","#6ab04c","#7ed6df","#e056fd","#686de0"],strokes:["#b28553","#b35555","#829a3e","#ae8d19","#a8671e","#a43535","#4a7b35","#58969c","#9d3cb1","#494c9d"]},SolarDark=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$1L(e,t),e.prototype.getPalette=function(){return palette$2},e}(DarkTheme),__extends$1K=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),palette$1={fills:["#5BC0EB","#FDE74C","#9BC53D","#E55934","#FA7921","#fa3081"],strokes:["#4086a4","#b1a235","#6c8a2b","#a03e24","#af5517","#af225a"]},VividLight=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$1K(e,t),e.prototype.getPalette=function(){return palette$1},e}(ChartTheme),__extends$1J=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),palette={fills:["#5BC0EB","#FDE74C","#9BC53D","#E55934","#FA7921","#fa3081"],strokes:["#4086a4","#b1a235","#6c8a2b","#a03e24","#af5517","#af225a"]},VividDark=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$1J(e,t),e.prototype.getPalette=function(){return palette},e}(DarkTheme),__assign$p=function(){return __assign$p=Object.assign||function(t){for(var e,i=1,o=arguments.length;i<o;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},__assign$p.apply(this,arguments)},lightTheme=function(){return new ChartTheme},darkTheme=function(){return new DarkTheme},lightThemes={undefined:lightTheme,null:lightTheme,"ag-default":lightTheme,"ag-material":function(){return new MaterialLight},"ag-pastel":function(){return new PastelLight},"ag-solar":function(){return new SolarLight},"ag-vivid":function(){return new VividLight}},darkThemes={undefined:darkTheme,null:darkTheme,"ag-default-dark":darkTheme,"ag-material-dark":function(){return new MaterialDark},"ag-pastel-dark":function(){return new PastelDark},"ag-solar-dark":function(){return new SolarDark},"ag-vivid-dark":function(){return new VividDark}},themes$1=__assign$p(__assign$p({},darkThemes),lightThemes);function getChartTheme(t){var e;if(t instanceof ChartTheme)return t;var i=themes$1[t];if(i)return i();for(var o,n=[];"object"==typeof t;)n.push(null!==(e=t.overrides)&&void 0!==e?e:{}),t.palette&&null==o&&(o=t.palette),t=t.baseTheme;n.reverse();var r=__assign$p({baseTheme:t,overrides:jsonMerge(n)},o?{palette:o}:{});return r.baseTheme||r.overrides?new(getChartTheme(r.baseTheme).constructor)(r):lightTheme()}var __assign$o=function(){return __assign$o=Object.assign||function(t){for(var e,i=1,o=arguments.length;i<o;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},__assign$o.apply(this,arguments)},__values$a=function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],o=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},__read$q=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,n,r=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return s},__spread$e=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$q(arguments[e]));return t};function groupSeriesByType(t){var e,i,o={},n=[];try{for(var r=__values$a(t),s=r.next();!s.done;s=r.next()){var a=s.value;if("column"===a.type||"bar"===a.type||"area"===a.type&&!0===a.stacked){var l=a.type||"line",c=a.stacked?"stacked":"grouped",u=l+"-"+a.xKey+"-"+c;null==o[u]&&(o[u]=[],n.push(o[u])),o[u].push(a)}else n.push([a])}}catch(t){e={error:t}}finally{try{s&&!s.done&&(i=r.return)&&i.call(r)}finally{if(e)throw e.error}}return n}var FAIL=Symbol(),SKIP=Symbol(),ARRAY_REDUCER=function(t){return function(e,i){var o;return e.concat.apply(e,__spread$e(null!==(o=i[t])&&void 0!==o?o:[]))}},BOOLEAN_OR_REDUCER=function(t,e){return function(i,o){return"boolean"==typeof o[t]?null!=i&&i||o[t]:null!=i?i:e}},DEFAULTING_ARRAY_REDUCER=function(t,e){return function(i,o,n,r){var s,a=e===SKIP||e===FAIL,l=null!==(s=o[t])&&void 0!==s?s:e;if(l===FAIL)throw new Error("AG Charts - missing value for property ["+t+"] on series config.");if(l===SKIP)return i;if(0===i.length&&!a)for(;i.length<r;)i=i.concat(e);return a?i.concat(l):(i[n]=l,i)}},YKEYS_REDUCER=function(t,e){return function(i,o){return o[t]===e?i.concat.apply(i,__spread$e(o.yKey?[o.yKey]:o.yKeys)):i}},STACK_GROUPS_REDUCER=function(){return function(t,e){var i;return __assign$o(__assign$o({},t),((i={})[e.stackGroup]=__spread$e(t[e.stackGroup]||[],[e.yKey]),i))}},REDUCE_CONFIG={hideInChart:{outputProp:"hideInChart",reducer:ARRAY_REDUCER("hideInChart"),start:[]},hideInLegend:{outputProp:"hideInLegend",reducer:ARRAY_REDUCER("hideInLegend"),start:[]},yKey:{outputProp:"yKeys",reducer:DEFAULTING_ARRAY_REDUCER("yKey",SKIP),start:[]},fill:{outputProp:"fills",reducer:DEFAULTING_ARRAY_REDUCER("fill",SKIP),start:[]},stroke:{outputProp:"strokes",reducer:DEFAULTING_ARRAY_REDUCER("stroke",SKIP),start:[]},yName:{outputProp:"yNames",reducer:DEFAULTING_ARRAY_REDUCER("yName",SKIP),start:[]},visible:{outputProp:"visibles",reducer:DEFAULTING_ARRAY_REDUCER("visible",!0),start:[]},grouped:{outputProp:"grouped",reducer:BOOLEAN_OR_REDUCER("grouped"),seriesType:["bar","column"],start:void 0},showInLegend:{outputProp:"hideInLegend",reducer:YKEYS_REDUCER("showInLegend",!1),seriesType:["bar","column"],start:[]},stackGroup:{outputProp:"stackGroups",reducer:STACK_GROUPS_REDUCER(),seriesType:["bar","column"],start:{}}};function reduceSeries(t){var e={};return t.forEach((function(i,o){Object.keys(i).forEach((function(n){var r,s=REDUCE_CONFIG[n],a=function(){var t,o;e[n]=null!==(o=null!==(t=i[n])&&void 0!==t?t:e[n])&&void 0!==o?o:void 0};if(s){var l=s.outputProp,c=s.reducer,u=s.start,h=void 0===u?void 0:u,d=s.seriesType;if((void 0===d?[i.type]:d).includes(i.type)){var p=c(null!==(r=e[l])&&void 0!==r?r:h,i,o,t.length);void 0!==p&&(e[l]=p)}else a()}else a()}))})),e}function processSeriesOptions(t){var e,i,o=[],n=t.map((function(t){return"bar"!==t.type&&"column"!==t.type||null==t.yKey||t.stacked?t:__assign$o(__assign$o({},t),{grouped:null==t.grouped||t.grouped})}));try{for(var r=__values$a(groupSeriesByType(n)),s=r.next();!s.done;s=r.next()){var a=s.value;switch(a[0].type){case"column":case"bar":case"area":o.push(reduceSeries(a));break;default:a.length>1&&Logger.warn("unexpected grouping of series type: "+a[0].type),o.push(a[0])}}}catch(t){e={error:t}}finally{try{s&&!s.done&&(i=r.return)&&i.call(r)}finally{if(e)throw e.error}}return o}var types={number:"number",time:"time",log:"log",category:"category",groupedCategory:"groupedCategory"},CHART_AXES_TYPES={has:function(t){return Object.prototype.hasOwnProperty.call(types,t)},get axesTypes(){return Object.keys(types)}},__assign$n=function(){return __assign$n=Object.assign||function(t){for(var e,i=1,o=arguments.length;i<o;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},__assign$n.apply(this,arguments)},__values$9=function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],o=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},__read$p=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,n,r=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return s},__spread$d=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$p(arguments[e]));return t};function optionsType(t){var e,i,o,n;return null!==(n=null!==(e=t.type)&&void 0!==e?e:null===(o=null===(i=t.series)||void 0===i?void 0:i[0])||void 0===o?void 0:o.type)&&void 0!==n?n:"line"}function isAgCartesianChartOptions(t){var e=optionsType(t);return null==e||("cartesian"===e?(Logger.warnOnce("type '"+e+"' is deprecated, use a series type instead"),!0):CHART_TYPES.isCartesian(e))}function isAgHierarchyChartOptions(t){var e=optionsType(t);return null!=e&&("hierarchy"===e?(Logger.warnOnce("type '"+e+"' is deprecated, use a series type instead"),!0):CHART_TYPES.isHierarchy(e))}function isAgPolarChartOptions(t){var e=optionsType(t);return null!=e&&("polar"===e?(Logger.warnOnce("type '"+e+"' is deprecated, use a series type instead"),!0):CHART_TYPES.isPolar(e))}function isSeriesOptionType(t){return null!=t&&CHART_TYPES.has(t)}function isAxisOptionType(t){return null!=t&&CHART_AXES_TYPES.has(t)}function countArrayElements(t){var e,i,o=0;try{for(var n=__values$9(t),r=n.next();!r.done;r=n.next()){var s=r.value;s instanceof Array&&(o+=countArrayElements(s)),null!=s&&o++}}catch(t){e={error:t}}finally{try{r&&!r.done&&(i=n.return)&&i.call(n)}finally{if(e)throw e.error}}return o}function takeColours(t,e,i){for(var o=[],n=0;n<i;n++)o.push(e[(n+t.colourIndex)%e.length]);return o}var noDataCloneMergeOptions={avoidDeepClone:["data"]};function prepareOptions(t,e,i){var o,n,r,s,a,l,c,u,h=jsonMerge([e,t],noDataCloneMergeOptions);sanityCheckOptions(h);var d=h.type,p=optionsType(h),f=(null===(a=h.tooltip)||void 0===a?void 0:a.position)||{},g=function(t){if(null!=t&&!isSeriesOptionType(t)&&!(null==i?void 0:i[t]))throw new Error("AG Charts - unknown series type: "+t+"; expected one of: "+CHART_TYPES.seriesTypes)};g(p);try{for(var m=__values$9(null!==(l=h.series)&&void 0!==l?l:[]),y=m.next();!y.done;y=m.next()){var v=y.value.type;null!=v&&g(v)}}catch(t){o={error:t}}finally{try{y&&!y.done&&(n=m.return)&&n.call(m)}finally{if(o)throw o.error}}h=__assign$n(__assign$n({},h),{type:p});var _="line";isAgCartesianChartOptions(h)?_="line":isAgHierarchyChartOptions(h)?_="treemap":isAgPolarChartOptions(h)&&(_="pie");var C={};i&&Object.prototype.hasOwnProperty.call(i,p)?C=i[p]:"bar"===p?C=DEFAULT_BAR_CHART_OVERRIDES:"scatter"===p||"histogram"===p?C=DEFAULT_SCATTER_HISTOGRAM_CHART_OVERRIDES:isAgCartesianChartOptions(h)&&(C=DEFAULT_CARTESIAN_CHART_OVERRIDES);var b=prepareMainOptions(C,h),E=b.context,S=b.mergedOptions,w=b.axesThemes,O=b.seriesThemes;S.series=processSeriesOptions((S.series||[]).map((function(t){var e=_;t.type?e=t.type:isSeriesOptionType(d)&&(e=d);var i=mergeSeriesOptions(t,e,O,f);return"pie"===e&&preparePieOptions(O.pie,t,i),i}))).map((function(t){return prepareSeries(E,t)}));var x=function(t){var e=isAxisOptionType(t);return e||Logger.warnOnce("AG Charts - unknown axis type: "+t+"; expected one of: "+CHART_AXES_TYPES.axesTypes+", ignoring."),e};if(isAgCartesianChartOptions(S)){var P=!0;try{for(var T=__values$9(null!==(c=S.axes)&&void 0!==c?c:[]),M=T.next();!M.done;M=T.next()){x(M.value.type)||(P=!1)}}catch(t){r={error:t}}finally{try{M&&!M.done&&(s=T.return)&&s.call(T)}finally{if(r)throw r.error}}S.axes=P?null===(u=S.axes)||void 0===u?void 0:u.map((function(t){var e=t.type;return prepareAxis(t,jsonMerge([w[e],w[e][t.position||"unknown"]||{}]))})):C.axes}return prepareEnabledOptions(h,S),S}function sanityCheckOptions(t){Object.entries({yKeys:"yKey",yNames:"yName"}).forEach((function(e){var i,o=__read$p(e,2),n=o[0],r=o[1];(null===(i=t.series)||void 0===i?void 0:i.some((function(t){return null!=t[n]})))&&Logger.warnOnce("property [series."+n+"] is deprecated, please use [series."+r+"] and multiple series instead.")}))}function mergeSeriesOptions(t,e,i,o){var n,r=jsonMerge([__assign$n({},o),null===(n=t.tooltip)||void 0===n?void 0:n.position],noDataCloneMergeOptions);return jsonMerge([i[e]||{},__assign$n(__assign$n({},t),{type:e,tooltip:__assign$n(__assign$n({},t.tooltip),{position:r})})],noDataCloneMergeOptions)}function prepareMainOptions(t,e){var i=prepareTheme(e),o=i.theme,n=i.cleanedTheme,r=i.axesThemes,s=i.seriesThemes;return{context:{colourIndex:0,palette:o.palette},mergedOptions:jsonMerge([t,n,e],noDataCloneMergeOptions),axesThemes:r,seriesThemes:s}}function prepareTheme(t){var e=getChartTheme(t.theme),i=e.config[optionsType(t)||"cartesian"],o=Object.entries(e.config).reduce((function(t,e){var i=__read$p(e,2),o=i[0],n=i[1].series;return t[o]=null==n?void 0:n[o],t}),{});return{theme:e,axesThemes:i.axes||{},seriesThemes:o,cleanedTheme:jsonMerge([i,{axes:DELETE,series:DELETE}])}}function prepareSeries(t,e){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var n=calculateSeriesPalette(t,e);return applySeriesTransform(jsonMerge(__spread$d(i,[n,e,{stacked:DELETE}]),noDataCloneMergeOptions))}function calculateSeriesPalette(t,e){var i={},o=t.palette,n=o.fills,r=o.strokes,s=countArrayElements(e.yKeys||[])||1;switch(e.type){case"pie":s=Math.max(n.length,r.length);case"area":case"bar":case"column":i.fills=takeColours(t,n,s),i.strokes=takeColours(t,r,s);break;case"histogram":i.fill=takeColours(t,n,1)[0],i.stroke=takeColours(t,r,1)[0];break;case"scatter":i.marker={stroke:takeColours(t,r,1)[0],fill:takeColours(t,n,1)[0]};break;case"line":i.stroke=takeColours(t,n,1)[0],i.marker={stroke:takeColours(t,r,1)[0],fill:takeColours(t,n,1)[0]}}return t.colourIndex+=s,i}function prepareAxis(t,e){var i={top:DELETE,bottom:DELETE,left:DELETE,right:DELETE};if(t.crossLines){Array.isArray(t.crossLines)||(Logger.warn("axis[].crossLines should be an array."),t.crossLines=[]);var o=e.crossLines;t.crossLines=t.crossLines.map((function(t){return jsonMerge([o,t])}))}return jsonMerge([e,{crossLines:DELETE},t,i],noDataCloneMergeOptions)}function prepareEnabledOptions(t,e){jsonWalk(t,(function(t,e,i){if(i){var o=i._enabledFromTheme;null!=o&&delete i._enabledFromTheme,"enabled"in i&&(o||null==e.enabled&&(i.enabled=!0))}}),{skip:["data","theme"]},e),jsonWalk(e,(function(t,e){null!=e._enabledFromTheme&&delete e._enabledFromTheme}),{skip:["data","theme"]})}function preparePieOptions(t,e,i){Array.isArray(e.innerLabels)?i.innerLabels=e.innerLabels.map((function(e){return jsonMerge([t.innerLabels,e])})):i.innerLabels=DELETE}var horizontalCrosslineTranslationDirections={top:{xTranslationDirection:0,yTranslationDirection:-1},bottom:{xTranslationDirection:0,yTranslationDirection:1},left:{xTranslationDirection:-1,yTranslationDirection:0},right:{xTranslationDirection:1,yTranslationDirection:0},topLeft:{xTranslationDirection:1,yTranslationDirection:-1},topRight:{xTranslationDirection:-1,yTranslationDirection:-1},bottomLeft:{xTranslationDirection:1,yTranslationDirection:1},bottomRight:{xTranslationDirection:-1,yTranslationDirection:1},inside:{xTranslationDirection:0,yTranslationDirection:0},insideLeft:{xTranslationDirection:1,yTranslationDirection:0},insideRight:{xTranslationDirection:-1,yTranslationDirection:0},insideTop:{xTranslationDirection:0,yTranslationDirection:1},insideBottom:{xTranslationDirection:0,yTranslationDirection:-1},insideTopLeft:{xTranslationDirection:1,yTranslationDirection:1},insideBottomLeft:{xTranslationDirection:1,yTranslationDirection:-1},insideTopRight:{xTranslationDirection:-1,yTranslationDirection:1},insideBottomRight:{xTranslationDirection:-1,yTranslationDirection:-1}},verticalCrossLineTranslationDirections={top:{xTranslationDirection:1,yTranslationDirection:0},bottom:{xTranslationDirection:-1,yTranslationDirection:0},left:{xTranslationDirection:0,yTranslationDirection:-1},right:{xTranslationDirection:0,yTranslationDirection:1},topLeft:{xTranslationDirection:-1,yTranslationDirection:-1},topRight:{xTranslationDirection:-1,yTranslationDirection:1},bottomLeft:{xTranslationDirection:1,yTranslationDirection:-1},bottomRight:{xTranslationDirection:1,yTranslationDirection:1},inside:{xTranslationDirection:0,yTranslationDirection:0},insideLeft:{xTranslationDirection:0,yTranslationDirection:1},insideRight:{xTranslationDirection:0,yTranslationDirection:-1},insideTop:{xTranslationDirection:-1,yTranslationDirection:0},insideBottom:{xTranslationDirection:1,yTranslationDirection:0},insideTopLeft:{xTranslationDirection:-1,yTranslationDirection:1},insideBottomLeft:{xTranslationDirection:1,yTranslationDirection:1},insideTopRight:{xTranslationDirection:-1,yTranslationDirection:-1},insideBottomRight:{xTranslationDirection:1,yTranslationDirection:-1}},calculateLabelTranslation=function(t){var e,i=t.yDirection,o=t.padding,n=void 0===o?0:o,r=t.position,s=t.bbox,a=i?horizontalCrosslineTranslationDirections:verticalCrossLineTranslationDirections,l=null!==(e=a[r])&&void 0!==e?e:a.top,c=l.xTranslationDirection,u=l.yTranslationDirection;return{xTranslation:c*(n+(i?s.width:s.height)/2),yTranslation:u*(n+(i?s.height:s.width)/2)}},POSITION_TOP_COORDINATES=function(t){var e=t.yDirection,i=t.xEnd,o=t.yStart,n=t.yEnd;return e?{x:i/2,y:o}:{x:i,y:isNaN(n)?o:(o+n)/2}},POSITION_LEFT_COORDINATES=function(t){var e=t.yDirection,i=t.xStart,o=t.xEnd,n=t.yStart,r=t.yEnd;return e?{x:i,y:isNaN(r)?n:(n+r)/2}:{x:o/2,y:n}},POSITION_RIGHT_COORDINATES=function(t){var e=t.yDirection,i=t.xEnd,o=t.yStart,n=t.yEnd;return e?{x:i,y:isNaN(n)?o:(o+n)/2}:{x:i/2,y:isNaN(n)?o:n}},POSITION_BOTTOM_COORDINATES=function(t){var e=t.yDirection,i=t.xStart,o=t.xEnd,n=t.yStart,r=t.yEnd;return e?{x:o/2,y:isNaN(r)?n:r}:{x:i,y:isNaN(r)?n:(n+r)/2}},POSITION_INSIDE_COORDINATES=function(t){var e=t.xEnd,i=t.yStart,o=t.yEnd;return{x:e/2,y:isNaN(o)?i:(i+o)/2}},POSITION_TOP_LEFT_COORDINATES=function(t){var e=t.yDirection,i=t.xStart,o=t.xEnd,n=t.yStart;return e?{x:i/2,y:n}:{x:o,y:n}},POSITION_BOTTOM_LEFT_COORDINATES=function(t){var e=t.yDirection,i=t.xStart,o=t.yStart,n=t.yEnd;return e?{x:i,y:isNaN(n)?o:n}:{x:i,y:o}},POSITION_TOP_RIGHT_COORDINATES=function(t){var e=t.yDirection,i=t.xEnd,o=t.yStart,n=t.yEnd;return e?{x:i,y:o}:{x:i,y:isNaN(n)?o:n}},POSITION_BOTTOM_RIGHT_COORDINATES=function(t){var e=t.yDirection,i=t.xStart,o=t.xEnd,n=t.yStart,r=t.yEnd;return e?{x:o,y:isNaN(r)?n:r}:{x:i,y:isNaN(r)?n:r}},labeldDirectionHandling={top:{c:POSITION_TOP_COORDINATES},bottom:{c:POSITION_BOTTOM_COORDINATES},left:{c:POSITION_LEFT_COORDINATES},right:{c:POSITION_RIGHT_COORDINATES},topLeft:{c:POSITION_TOP_LEFT_COORDINATES},topRight:{c:POSITION_TOP_RIGHT_COORDINATES},bottomLeft:{c:POSITION_BOTTOM_LEFT_COORDINATES},bottomRight:{c:POSITION_BOTTOM_RIGHT_COORDINATES},inside:{c:POSITION_INSIDE_COORDINATES},insideLeft:{c:POSITION_LEFT_COORDINATES},insideRight:{c:POSITION_RIGHT_COORDINATES},insideTop:{c:POSITION_TOP_COORDINATES},insideBottom:{c:POSITION_BOTTOM_COORDINATES},insideTopLeft:{c:POSITION_TOP_LEFT_COORDINATES},insideBottomLeft:{c:POSITION_BOTTOM_LEFT_COORDINATES},insideTopRight:{c:POSITION_TOP_RIGHT_COORDINATES},insideBottomRight:{c:POSITION_BOTTOM_RIGHT_COORDINATES}},__extends$1I=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__assign$m=function(){return __assign$m=Object.assign||function(t){for(var e,i=1,o=arguments.length;i<o;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},__assign$m.apply(this,arguments)},__decorate$1e=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},Range=function(t){function e(){var e=t.call(this)||this;return e.x1=0,e.y1=0,e.x2=0,e.y2=0,e.startLine=!1,e.endLine=!1,e.isRange=!1,e.restoreOwnStyles(),e}return __extends$1I(e,t),e.prototype.computeBBox=function(){return new BBox(this.x1,this.y1,this.x2-this.x1,this.y2-this.y1)},e.prototype.isPointInPath=function(t,e){return!1},e.prototype.render=function(e){var i,o=e.ctx,n=e.forceRender,r=e.stats;if(this.dirty!==RedrawType.NONE||n){this.computeTransformMatrix(),this.matrix.toContext(o);var s=this,a=s.x1,l=s.y1,c=s.x2,u=s.y2;a=this.align(a),l=this.align(l),c=this.align(c),u=this.align(u);var h=this,d=h.fill,p=h.opacity;if(!(!h.isRange||!d)){var f=this.fillOpacity;o.fillStyle=d,o.globalAlpha=p*f,o.beginPath(),o.moveTo(a,l),o.lineTo(c,l),o.lineTo(c,u),o.lineTo(a,u),o.closePath(),o.fill()}var g=this,m=g.stroke,y=g.strokeWidth,v=g.startLine,_=g.endLine;if(!(!v&&!_||!m||!y)){var C=this,b=C.strokeOpacity,E=C.lineDash,S=C.lineDashOffset,w=C.lineCap,O=C.lineJoin;o.strokeStyle=m,o.globalAlpha=p*b,o.lineWidth=y,E&&o.setLineDash(E),S&&(o.lineDashOffset=S),w&&(o.lineCap=w),O&&(o.lineJoin=O),o.beginPath(),v&&(o.moveTo(a,l),o.lineTo(c,l)),_&&(o.moveTo(c,u),o.lineTo(a,u)),o.stroke()}null===(i=this.fillShadow)||void 0===i||i.markClean(),t.prototype.render.call(this,e)}else r&&(r.nodesSkipped+=this.nodeCount.count)},e.className="Range",e.defaultStyles=__assign$m(__assign$m({},Shape.defaultStyles),{strokeWidth:1}),__decorate$1e([SceneChangeDetection({redraw:RedrawType.MINOR})],e.prototype,"x1",void 0),__decorate$1e([SceneChangeDetection({redraw:RedrawType.MINOR})],e.prototype,"y1",void 0),__decorate$1e([SceneChangeDetection({redraw:RedrawType.MINOR})],e.prototype,"x2",void 0),__decorate$1e([SceneChangeDetection({redraw:RedrawType.MINOR})],e.prototype,"y2",void 0),__decorate$1e([SceneChangeDetection({redraw:RedrawType.MINOR})],e.prototype,"startLine",void 0),__decorate$1e([SceneChangeDetection({redraw:RedrawType.MINOR})],e.prototype,"endLine",void 0),__decorate$1e([SceneChangeDetection({redraw:RedrawType.MINOR})],e.prototype,"isRange",void 0),e}(Shape),__decorate$1d=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},__read$o=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,n,r=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return s},__spread$c=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$o(arguments[e]));return t},CROSSLINE_LABEL_POSITIONS=["top","left","right","bottom","topLeft","topRight","bottomLeft","bottomRight","inside","insideLeft","insideRight","insideTop","insideBottom","insideTopLeft","insideBottomLeft","insideTopRight","insideBottomRight"],OPT_CROSSLINE_LABEL_POSITION=predicateWithMessage((function(t,e){return OPTIONAL(t,e,(function(t){return CROSSLINE_LABEL_POSITIONS.includes(t)}))}),"expecting an optional crossLine label position keyword such as 'topLeft', 'topRight' or 'inside'"),OPT_CROSSLINE_TYPE=predicateWithMessage((function(t,e){return OPTIONAL(t,e,(function(t){return"range"===t||"line"===t}))}),"expecting a crossLine type keyword such as 'range' or 'line'"),CrossLineLabel=function(){function t(){this.enabled=void 0,this.text=void 0,this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=14,this.fontFamily="Verdana, sans-serif",this.padding=5,this.color="rgba(87, 87, 87, 1)",this.position=void 0,this.rotation=void 0,this.parallel=void 0}return __decorate$1d([Validate(OPT_BOOLEAN)],t.prototype,"enabled",void 0),__decorate$1d([Validate(OPT_STRING)],t.prototype,"text",void 0),__decorate$1d([Validate(OPT_FONT_STYLE)],t.prototype,"fontStyle",void 0),__decorate$1d([Validate(OPT_FONT_WEIGHT)],t.prototype,"fontWeight",void 0),__decorate$1d([Validate(NUMBER(0))],t.prototype,"fontSize",void 0),__decorate$1d([Validate(STRING)],t.prototype,"fontFamily",void 0),__decorate$1d([Validate(NUMBER(0))],t.prototype,"padding",void 0),__decorate$1d([Validate(OPT_COLOR_STRING)],t.prototype,"color",void 0),__decorate$1d([Validate(OPT_CROSSLINE_LABEL_POSITION)],t.prototype,"position",void 0),__decorate$1d([Validate(OPT_NUMBER(-360,360))],t.prototype,"rotation",void 0),__decorate$1d([Validate(OPT_BOOLEAN)],t.prototype,"parallel",void 0),t}(),CrossLine=function(){function t(){this.id=createId$1(this),this.enabled=void 0,this.type=void 0,this.range=void 0,this.value=void 0,this.fill=void 0,this.fillOpacity=void 0,this.stroke=void 0,this.strokeWidth=void 0,this.strokeOpacity=void 0,this.lineDash=void 0,this.label=new CrossLineLabel,this.scale=void 0,this.clippedRange=[-1/0,1/0],this.gridLength=0,this.sideFlag=-1,this.parallelFlipRotation=0,this.regularFlipRotation=0,this.direction=ChartAxisDirection.X,this.group=new Group({name:""+this.id,layer:!0,zIndex:t.LINE_LAYER_ZINDEX}),this.crossLineRange=new Range,this.crossLineLabel=new Text,this.labelPoint=void 0,this.data=[],this.startLine=!1,this.endLine=!1,this.isRange=!1;var e=this,i=e.group,o=e.crossLineRange,n=e.crossLineLabel;i.append([o,n]),o.pointerEvents=PointerEvents.None}return t.prototype.update=function(t){this.enabled&&(this.group.visible=t,t&&(this.createNodeData()?(this.updateNodes(),this.group.zIndex=this.getZIndex(this.isRange)):this.group.visible=!1))},t.prototype.updateNodes=function(){this.updateRangeNode(),this.label.enabled&&(this.updateLabel(),this.positionLabel())},t.prototype.createNodeData=function(){var t,e,i,o,n,r=this,s=r.scale,a=r.gridLength,l=r.sideFlag,c=r.direction,u=r.label.position,h=void 0===u?"top":u,d=r.clippedRange,p=r.strokeWidth,f=void 0===p?0:p;if(!s)return!1;var g=null!==(o=s.bandwidth)&&void 0!==o?o:0,m=function(t){return Math.max(Math.min.apply(Math,__spread$c(d)),Math.min(Math.max.apply(Math,__spread$c(d)),t))},y=__read$o([0,l*a],2),v=y[0],_=y[1],C=__read$o(this.getRange(),2),b=C[0],E=C[1],S=__read$o([Number(s.convert(b,{strict:!1})),s.convert(E,{strict:!1})+g],2),w=S[0],O=S[1];w=m(w),O=m(O),b=(t=__read$o([Number(s.convert(b)),s.convert(E)+g],2))[0],E=t[1];var x=!isNaN(w)&&!isNaN(O)&&(b===w||E===O||w!==O)&&Math.abs(O-w)>0;x&&(w!==Math.min(w,O)&&(w=(e=__read$o([Math.min(w,O),Math.max(w,O)],2))[0],O=e[1],b=(i=__read$o([E,b],2))[0],E=i[1]));if(this.isRange=x,this.startLine=!isNaN(b)&&f>0&&b===w,this.endLine=!isNaN(E)&&f>0&&E===O,!x&&!this.startLine&&!this.endLine)return!1;if(this.data=[w,O],this.label.enabled){var P=c===ChartAxisDirection.Y,T=(null!==(n=labeldDirectionHandling[h])&&void 0!==n?n:{}).c,M=(void 0===T?POSITION_TOP_COORDINATES:T)({yDirection:P,xStart:v,xEnd:_,yStart:w,yEnd:O}),D=M.x,A=M.y;this.labelPoint={x:D,y:A}}return!0},t.prototype.updateRangeNode=function(){var t,e=this,i=e.crossLineRange,o=e.sideFlag,n=e.gridLength,r=e.data,s=e.startLine,a=e.endLine,l=e.isRange,c=e.fill,u=e.fillOpacity,h=e.stroke,d=e.strokeWidth,p=e.lineDash;i.x1=0,i.x2=o*n,i.y1=r[0],i.y2=r[1],i.startLine=s,i.endLine=a,i.isRange=l,i.fill=c,i.fillOpacity=null!=u?u:1,i.stroke=h,i.strokeWidth=null!=d?d:1,i.strokeOpacity=null!==(t=this.strokeOpacity)&&void 0!==t?t:1,i.lineDash=p},t.prototype.updateLabel=function(){var t=this.crossLineLabel,e=this.label;e.text&&(t.fontStyle=e.fontStyle,t.fontWeight=e.fontWeight,t.fontSize=e.fontSize,t.fontFamily=e.fontFamily,t.fill=e.color,t.text=e.text)},t.prototype.positionLabel=function(){var t=this,e=t.crossLineLabel,i=t.labelPoint,o=void 0===i?{}:i,n=o.x,r=void 0===n?void 0:n,s=o.y,a=void 0===s?void 0:s,l=t.label,c=l.parallel,u=l.rotation,h=l.position,d=void 0===h?"top":h,p=l.padding,f=void 0===p?0:p,g=t.direction,m=t.parallelFlipRotation,y=t.regularFlipRotation;if(void 0!==r&&void 0!==a){var v=calculateLabelRotation({rotation:u,parallel:c,regularFlipRotation:y,parallelFlipRotation:m}),_=v.autoRotation,C=v.labelRotation;e.rotation=_+C,e.textBaseline="middle",e.textAlign="center";var b=this.computeLabelBBox();if(b){var E=g===ChartAxisDirection.Y,S=calculateLabelTranslation({yDirection:E,padding:f,position:d,bbox:b}),w=S.xTranslation,O=S.yTranslation;e.translationX=r+w,e.translationY=a+O}}},t.prototype.getZIndex=function(e){return void 0===e&&(e=!1),e?t.RANGE_LAYER_ZINDEX:t.LINE_LAYER_ZINDEX},t.prototype.getRange=function(){var t,e=this,i=e.value,o=e.range,n=e.scale instanceof ContinuousScale,r=__read$o(null!=o?o:[i,void 0],2),s=r[0],a=r[1];return n||void 0!==a||(a=s),s=(t=__read$o([checkDatum(s,n),checkDatum(a,n)],2))[0],a=t[1],n&&s===a&&(a=void 0),void 0===s&&void 0!==a&&(s=a,a=void 0),[s,a]},t.prototype.computeLabelBBox=function(){return this.crossLineLabel.computeTransformedBBox()},t.prototype.calculatePadding=function(t,e){var i,o,n,r,s,a,l=this,c=l.isRange,u=l.startLine,h=l.endLine;if(c||u||h){var d=this.computeLabelBBox(),p=null==d?void 0:d.x,f=null==d?void 0:d.y;if(null!=p&&null!=f){var g=null!==(i=null==d?void 0:d.width)&&void 0!==i?i:0,m=null!==(o=null==d?void 0:d.height)&&void 0!==o?o:0;if(!(g>e.width||m>e.height)){if(p+g>=e.x+e.width){var y=p+g-(e.x+e.width);t.right=(null!==(n=t.right)&&void 0!==n?n:0)>=y?t.right:y}else if(p<=e.x){var v=e.x-p;t.left=(null!==(r=t.left)&&void 0!==r?r:0)>=v?t.left:v}if(f+m>=e.y+e.height){var _=f+m-(e.y+e.height);t.bottom=(null!==(s=t.bottom)&&void 0!==s?s:0)>=_?t.bottom:_}else if(f<=e.y){var C=e.y-f;t.top=(null!==(a=t.top)&&void 0!==a?a:0)>=C?t.top:C}}}}},t.LINE_LAYER_ZINDEX=Layers.SERIES_CROSSLINE_LINE_ZINDEX,t.RANGE_LAYER_ZINDEX=Layers.SERIES_CROSSLINE_RANGE_ZINDEX,t.className="CrossLine",__decorate$1d([Validate(OPT_BOOLEAN)],t.prototype,"enabled",void 0),__decorate$1d([Validate(OPT_CROSSLINE_TYPE)],t.prototype,"type",void 0),__decorate$1d([Validate(OPT_ARRAY(2))],t.prototype,"range",void 0),__decorate$1d([Validate(OPT_COLOR_STRING)],t.prototype,"fill",void 0),__decorate$1d([Validate(OPT_NUMBER(0,1))],t.prototype,"fillOpacity",void 0),__decorate$1d([Validate(OPT_COLOR_STRING)],t.prototype,"stroke",void 0),__decorate$1d([Validate(OPT_NUMBER())],t.prototype,"strokeWidth",void 0),__decorate$1d([Validate(OPT_NUMBER(0,1))],t.prototype,"strokeOpacity",void 0),__decorate$1d([Validate(OPT_LINE_DASH)],t.prototype,"lineDash",void 0),t}(),__extends$1H=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$1c=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},Image=function(t){function e(e){var i=t.call(this)||this;return i.x=0,i.y=0,i.width=0,i.height=0,i.opacity=1,i.sourceImage=e,i}return __extends$1H(e,t),e.prototype.render=function(e){var i=e.ctx,o=e.forceRender,n=e.stats;if(this.dirty!==RedrawType.NONE||o){this.computeTransformMatrix(),this.matrix.toContext(i);var r=this.sourceImage;i.globalAlpha=this.opacity,i.drawImage(r,0,0,r.width,r.height,this.x,this.y,this.width,this.height),t.prototype.render.call(this,e)}else n&&n.nodesSkipped++},__decorate$1c([SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"x",void 0),__decorate$1c([SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"y",void 0),__decorate$1c([SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"width",void 0),__decorate$1c([SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"height",void 0),__decorate$1c([SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"opacity",void 0),e}(Node),BackgroundImage=function(){function t(){var t=this;this._image=document.createElement("img"),this.loadedSynchronously=!0,this.left=void 0,this.top=void 0,this.right=void 0,this.bottom=void 0,this.width=void 0,this.height=void 0,this.opacity=1,this.containerWidth=0,this.containerHeight=0,this.onload=void 0,this.onImageLoad=function(){t.loadedSynchronously||(t.node.visible=!1,t.performLayout(t.containerWidth,t.containerHeight),t.onload&&t.onload())},this.node=new Image(this._image),this._image.onload=this.onImageLoad}return Object.defineProperty(t.prototype,"url",{get:function(){return this._image.src},set:function(t){this._image.src=t,this.loadedSynchronously=this.complete},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"complete",{get:function(){return this._image.width>0&&this._image.height>0},enumerable:!1,configurable:!0}),t.prototype.performLayout=function(t,e){if(this.containerWidth=t,this.containerHeight=e,this.complete){var i=this.calculatePosition(this._image.width,this._image.height);Object.assign(this.node,i),this.node.visible=!0,this.node.opacity=this.opacity}else this.node.visible=!1},t.prototype.calculatePosition=function(t,e){var i=this.left,o=this.right,n=this.width,r=this.top,s=this.bottom,a=this.height;return null!=i?null!=o?n=this.containerWidth-i-o:null!=n&&(o=this.containerWidth-i+n):null!=o&&null!=n&&(i=this.containerWidth-o-n),null!=r?null!=s?a=this.containerHeight-s-r:null!=a&&(s=this.containerHeight-r-a):null!=s&&null!=a&&(r=this.containerHeight-s-a),null==n?null==a?(n=t,a=e):n=Math.ceil(t*a/e):null==a&&(a=Math.ceil(e*n/t)),null==i&&(i=null==o?Math.floor((this.containerWidth-n)/2):this.containerWidth-o-n),null==r&&(r=null==s?Math.floor((this.containerHeight-a)/2):this.containerHeight-a-s),{x:i,y:r,width:n,height:a}},t}(),__assign$l=function(){return __assign$l=Object.assign||function(t){for(var e,i=1,o=arguments.length;i<o;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},__assign$l.apply(this,arguments)},__awaiter=function(t,e,i,o){return new(i||(i=Promise))((function(n,r){function s(t){try{l(o.next(t))}catch(t){r(t)}}function a(t){try{l(o.throw(t))}catch(t){r(t)}}function l(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(s,a)}l((o=o.apply(t,e||[])).next())}))},__generator=function(t,e){var i,o,n,r,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(n=2&r[0]?o.return:r[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,r[1])).done)return n;switch(o=0,n&&(r=[2&r[0],n.value]),r[0]){case 0:case 1:n=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(n=s.trys,(n=n.length>0&&n[n.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!n||r[1]>n[0]&&r[1]<n[3])){s.label=r[1];break}if(6===r[0]&&s.label<n[1]){s.label=n[1],n=r;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(r);break}n[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(t){r=[6,t],o=0}finally{i=n=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},__read$n=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,n,r=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return s},__spread$b=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$n(arguments[e]));return t},__values$8=function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],o=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function chartType(t){if(isAgCartesianChartOptions(t))return"cartesian";if(isAgPolarChartOptions(t))return"polar";if(isAgHierarchyChartOptions(t))return"hierarchy";throw new Error("AG Chart - unknown type of chart for options with type: "+t.type)}var AgChart=function(){function t(){}return t.create=function(t){return AgChartInternal.createOrUpdate(t)},t.update=function(t,e){if(!AgChartInstanceProxy.isInstance(t))throw new Error("AG Charts - invalid chart reference passed");AgChartInternal.createOrUpdate(e,t)},t.updateDelta=function(t,e){if(!AgChartInstanceProxy.isInstance(t))throw new Error("AG Charts - invalid chart reference passed");return AgChartInternal.updateUserDelta(t,e)},t.download=function(t,e){if(!(t instanceof AgChartInstanceProxy))throw new Error("AG Charts - invalid chart reference passed");return AgChartInternal.download(t,e)},t.getImageDataURL=function(t,e){if(!(t instanceof AgChartInstanceProxy))throw new Error("AG Charts - invalid chart reference passed");return AgChartInternal.getImageDataURL(t,e)},t}(),AgChartInstanceProxy=function(){function t(t){this.chart=t}return t.isInstance=function(e){var i,o;if(e instanceof t)return!0;if("AgChartInstanceProxy"===(null===(i=e.constructor)||void 0===i?void 0:i.name)&&null!=e.chart)return!0;var n=Object.keys(null===(o=e.constructor)||void 0===o?void 0:o.prototype);return!(!Object.keys(t.prototype).every((function(t){return n.includes(t)}))||null==e.chart)},t.prototype.getOptions=function(){return this.chart.getOptions()},t.prototype.destroy=function(){this.chart.destroy()},t}(),AgChartInternal=function(){function t(){}return t.createOrUpdate=function(e,i){var o=this;debug(">>> createOrUpdate() user options",e);var n={};!0===t.DEBUG()&&(n.debug=!0);var r=e.overrideDevicePixelRatio;delete e.overrideDevicePixelRatio,initialiseSeriesModules();var s=prepareOptions(e,n,seriesDefaults),a=null==i?void 0:i.chart;null!=a&&chartType(e)===chartType(a.processedOptions)||(a=t.createChartInstance(s,r,a)),null==i?i=new AgChartInstanceProxy(a):i.chart=a;var l=a;l.queuedUserOptions.push(e);var c=function(){var t=l.queuedUserOptions.indexOf(e);l.queuedUserOptions.splice(0,t)};return l.requestFactoryUpdate((function(){return __awaiter(o,void 0,void 0,(function(){var i;return __generator(this,(function(o){switch(o.label){case 0:return l.destroyed?[2]:null==(i=jsonDiff(l.processedOptions,s))?(c(),[2]):[4,t.updateDelta(l,i,e)];case 1:return o.sent(),c(),[2]}}))}))})),i},t.updateUserDelta=function(e,i){var o,n=e.chart,r=e.chart.queuedUserOptions,s=null!==(o=r[r.length-1])&&void 0!==o?o:n.userOptions,a=jsonMerge([s,i]);debug(">>> updateUserDelta() user delta",i),debug("base options",s),t.createOrUpdate(a,e)},t.download=function(e,i){__awaiter(this,void 0,void 0,(function(){var o;return __generator(this,(function(n){switch(n.label){case 0:return[4,t.prepareResizedChart(e,i)];case 1:return(o=n.sent()).chart.scene.download(null==i?void 0:i.fileName,null==i?void 0:i.fileFormat),o!==e&&o.destroy(),[2]}}))}))},t.getImageDataURL=function(e,i){return __awaiter(this,void 0,void 0,(function(){var o,n,r;return __generator(this,(function(s){switch(s.label){case 0:return[4,t.prepareResizedChart(e,i)];case 1:return o=s.sent(),n=o.chart,r=n.scene.canvas.getDataURL(null==i?void 0:i.fileFormat),o!==e&&o.destroy(),[2,r]}}))}))},t.prepareResizedChart=function(e,i){return __awaiter(this,void 0,void 0,(function(){var o,n,r,s,a,l,c,u;return __generator(this,(function(h){switch(h.label){case 0:return o=e.chart,r=(n=i||{}).width,s=n.height,a=o.width,l=o.height,void 0===r&&void 0===s||1===o.scene.canvas.pixelRatio&&a===r&&l===s?[2,e]:(r=null!=r?r:a,s=null!=s?s:l,c=__assign$l(__assign$l({},o.userOptions),{container:document.createElement("div"),width:r,height:s,autoSize:!1,overrideDevicePixelRatio:1}),[4,(u=t.createOrUpdate(c)).chart.waitForUpdate()]);case 1:return h.sent(),[2,u]}}))}))},t.createChartInstance=function(t,e,i){var o=null==i?void 0:i.destroy({keepTransferableResources:!0});if(isAgCartesianChartOptions(t))return new CartesianChart(document,e,o);if(isAgHierarchyChartOptions(t))return new HierarchyChart(document,e,o);if(isAgPolarChartOptions(t))return new PolarChart(document,e,o);throw new Error("AG Charts - couldn't apply configuration, check type of options: "+t.type)},t.updateDelta=function(t,e,i){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(o){switch(o.label){case 0:return null==e.type&&(e=__assign$l(__assign$l({},e),{type:t.processedOptions.type||optionsType(e)})),[4,t.awaitUpdateCompletion()];case 1:return o.sent(),t.destroyed?[2]:(debug("applying delta",e),applyChartOptions(t,e,i),[2])}}))}))},t.DEBUG=function(){var t;return null!==(t=windowValue("agChartsDebug"))&&void 0!==t&&t},t}();function debug(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];[!0,"opts"].includes(AgChartInternal.DEBUG())&&Logger.debug.apply(Logger,__spread$b([t],e))}function applyChartOptions(t,e,i){var o,n,r,s,a=jsonMerge([null!==(o=t.processedOptions)&&void 0!==o?o:{},e],noDataCloneMergeOptions),l=applyModules(t,a),c=["type","data","series","autoSize","listeners","theme","legend.listeners"];if(isAgCartesianChartOptions(e))c.push("axes");else if(!isAgPolarChartOptions(e)&&!isAgHierarchyChartOptions(e))throw new Error("AG Charts - couldn't apply configuration, check type of options and chart: "+e.type);e.listeners&&registerListeners(t,e.listeners),applyOptionValues(t,e,{skip:c});var u=!1;(e.series&&e.series.length>0&&(applySeries(t,e),u=!0),isAgCartesianChartOptions(e)&&e.axes)&&(applyAxes(t,e)&&(u=!0));var h=e.series,d=!!e.data||(null==h?void 0:h.some((function(t){return null!=t.data}))),p=e.legend||e.title||e.subtitle;u=u||d||!!p,e.data&&(t.data=e.data),null!=e.autoSize&&(t.autoSize=e.autoSize),(null===(n=e.legend)||void 0===n?void 0:n.listeners)&&Object.assign(t.legend.listeners,null!==(r=e.legend.listeners)&&void 0!==r?r:{}),e.listeners&&t.updateAllSeriesListeners(),t.processedOptions=a,t.userOptions=jsonMerge([null!==(s=t.userOptions)&&void 0!==s?s:{},i],noDataCloneMergeOptions);var f=u||l?ChartUpdateType.PROCESS_DATA:ChartUpdateType.PERFORM_LAYOUT;debug("chart update type",{updateType:ChartUpdateType[f]}),t.update(f,{forceNodeDataRefresh:u})}function applyModules(t,e){var i,o,n,r=!1,s=REGISTERED_MODULES.filter((function(t){return"root"===t.type}));try{for(var a=__values$8(s),l=a.next();!l.done;l=a.next()){var c=l.value,u=(n=c,(t instanceof CartesianChart&&n.chartTypes.includes("cartesian")||t instanceof PolarChart&&n.chartTypes.includes("polar")||t instanceof HierarchyChart&&n.chartTypes.includes("hierarchy"))&&null!=e[c.optionsKey]);u!==t.isModuleEnabled(c)&&(r=!0,u?t.addModule(c):t.removeModule(c))}}catch(t){i={error:t}}finally{try{l&&!l.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}return r}function applySeries(t,e){var i=e.series;if(i){var o=t.series.length===i.length&&t.series.every((function(t,e){var o;return t.type===(null===(o=i[e])||void 0===o?void 0:o.type)}));o?t.series.forEach((function(e,o){var n,r,s=jsonDiff((null===(r=null===(n=t.processedOptions)||void 0===n?void 0:n.series)||void 0===r?void 0:r[o])||{},i[o]||{});s&&(debug("applying series diff idx "+o,s),applySeriesValues(e,s,{path:"series["+o+"]",index:o}),e.markNodeDataDirty())})):t.series=createSeries(i)}}function applyAxes(t,e){var i=e.axes;if(!i)return!1;if(t.axes.length===i.length&&t.axes.every((function(t,e){return t.type===i[e].type}))){var o=t.processedOptions;if(isAgCartesianChartOptions(o))return t.axes.forEach((function(t,e){var n,r=jsonDiff((null===(n=o.axes)||void 0===n?void 0:n[e])||{},i[e]);debug("applying axis diff idx "+e,r);applyOptionValues(t,r,{path:"axes["+e+"]",skip:["axes[].type"]})})),!0}return t.axes=createAxis(t,i),!0}function createSeries(t){var e,i,o=[],n=0;try{for(var r=__values$8(t||[]),s=r.next();!s.done;s=r.next()){var a=s.value,l="series["+n+++"]",c=getSeries(a.type);applySeriesValues(c,a,{path:l,index:n}),o.push(c)}}catch(t){e={error:t}}finally{try{s&&!s.done&&(i=r.return)&&i.call(r)}finally{if(e)throw e.error}}return o}function createAxis(t,e){var i,o,n=[],r=["axes[].type"],s=t.getModuleContext(),a=0;try{for(var l=__values$8(e||[]),c=l.next();!c.done;c=l.next()){var u=c.value,h=void 0;switch(u.type){case"number":h=new NumberAxis(s);break;case LogAxis.type:h=new LogAxis(s);break;case CategoryAxis.type:h=new CategoryAxis(s);break;case GroupedCategoryAxis.type:h=new GroupedCategoryAxis(s);break;case TimeAxis.type:h=new TimeAxis(s);break;default:throw new Error("AG Charts - unknown axis type: "+u.type)}var d="axes["+a+++"]";applyAxisModules(h,u),applyOptionValues(h,u,{path:d,skip:r}),n.push(h)}}catch(t){i={error:t}}finally{try{c&&!c.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}return n}function applyAxisModules(t,e){var i,o,n=!1,r=REGISTERED_MODULES.filter((function(t){return"axis"===t.type}));try{for(var s=__values$8(r),a=s.next();!a.done;a=s.next()){var l=a.value,c=null!=e[l.optionsKey];c!==t.isModuleEnabled(l)&&(n=!0,c?t.addModule(l):t.removeModule(l))}}catch(t){i={error:t}}finally{try{a&&!a.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}return n}function registerListeners(t,e){for(var i in t.clearEventListeners(),e){var o=e[i];"function"==typeof o&&t.addEventListener(i,o)}}var JSON_APPLY_OPTIONS={constructors:{title:Caption,subtitle:Caption,footnote:Caption,shadow:DropShadow,innerCircle:DoughnutInnerCircle,"axes[].crossLines[]":CrossLine,"series[].innerLabels[]":DoughnutInnerLabel,"background.image":BackgroundImage},allowedTypes:{"legend.pagination.marker.shape":["primitive","function"],"series[].marker.shape":["primitive","function"],"axis[].tick.count":["primitive","class-instance"]}};function applyOptionValues(t,e,i){var o=void 0===i?{}:i,n=o.skip,r=o.path;return jsonApply(t,e,__assign$l(__assign$l(__assign$l({},JSON_APPLY_OPTIONS),{skip:n}),r?{path:r}:{}))}function applySeriesValues(t,e,i){var o=void 0===i?{}:i,n=o.path,r=o.index,s=(null==JSON_APPLY_OPTIONS?void 0:JSON_APPLY_OPTIONS.constructors)||{},a={constructors:__assign$l(__assign$l({},s),{title:"pie"===t.type?PieTitle:s.title})},l=jsonApply(t,e,__assign$l(__assign$l(__assign$l(__assign$l(__assign$l({},JSON_APPLY_OPTIONS),a),{skip:__spread$b(["series[].type"],["series[].listeners"]||[])}),n?{path:n}:{}),{idx:null!=r?r:-1})),c=null==e?void 0:e.listeners;return null!=c&&registerListeners(t,c),l}var VERSION$b="7.3.0",__read$m=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,n,r=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return s},themes=Object.entries(themes$1).reduce((function(t,e){var i=__read$m(e,2),o=i[0],n=i[1];return t[o]=n(),t}),{}),__extends$1G=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$1b=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},ChartDatasource=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$1G(e,t),e.prototype.getData=function(t){if(t.crossFiltering){if(t.grouping)return console.warn("AG Grid: crossing filtering with row grouping is not supported."),{chartData:[],columnNames:{}};if(!this.gridOptionsService.isRowModelType("clientSide"))return console.warn("AG Grid: crossing filtering is only supported in the client side row model."),{chartData:[],columnNames:{}}}this.gridOptionsService.isRowModelType("serverSide")&&t.pivoting&&this.updatePivotKeysForSSRM();var e=this.extractRowsFromGridRowModel(t);return e.chartData=this.aggregateRowsByDimension(t,e.chartData),e},e.prototype.extractRowsFromGridRowModel=function(t){var i,o=this,n=[],r={},s={},a={},l={},c=[];if(t.crossFiltering)l=this.getFilteredRowNodes(),i=(c=this.getAllRowNodes()).length;else{var u=this.gridRowModel.getRowCount()-1;i=(t.endRow>=0?Math.min(t.endRow,u):u)-t.startRow+1}for(var h=function(i){var u={},h=t.crossFiltering?c[i]:d.gridRowModel.getRow(i+t.startRow);t.dimensionCols.forEach((function(n){var r=n.colId,l=o.columnModel.getGridColumn(r);if(l){var c=o.valueService.getValue(l,h);if(t.grouping){var d=c&&c.toString?String(c.toString()):"",p=e.getGroupLabels(h,d);u[r]={labels:p,toString:function(){return this.labels.filter((function(t){return!!t})).reverse().join(" - ")}},h.group&&(s[p.toString()]=i);var f=p.slice(1,p.length).toString();f&&(a[f]=s[f])}else u[r]=c}else u[ChartDataModel.DEFAULT_CATEGORY]=i+1})),t.valueCols.forEach((function(e){var i=[],n=e.getColDef().pivotKeys;n&&(i=n.slice());var s=e.getColDef().headerName;s&&i.push(s),i.length>0&&(r[e.getId()]=i);var a=e.getColId();if(t.crossFiltering){var c=a+"-filtered-out",d=null!=(p=o.valueService.getValue(e,h))&&"function"==typeof p.toNumber?p.toNumber():p;l[h.id]?(u[a]=d,u[c]=t.aggFunc||t.isScatter?void 0:0):(u[a]=t.aggFunc||t.isScatter?void 0:0,u[c]=d)}else{var p;(p=o.valueService.getValue(e,h))&&p.hasOwnProperty("toString")&&(p=parseFloat(p.toString())),u[a]=null!=p&&"function"==typeof p.toNumber?p.toNumber():p}})),h.footer&&(u.footer=!0),n.push(u)},d=this,p=0;p<i;p++)h(p);if(t.grouping){var f=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.values(a);n=n.filter((function(t,e){return!t.footer&&!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(f,e)}))}return{chartData:n,columnNames:r}},e.prototype.aggregateRowsByDimension=function(t,e){var i=this,o=t.dimensionCols;if(!t.aggFunc||0===o.length)return e;var n=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(o),r=n&&n.colId,s={},a=[];return e.forEach((function(t){var e=s;o.forEach((function(i){var n=i.colId,s=t[n];if(n===r){var l=e[s];l||(l={__children:[]},o.forEach((function(e){var i=e.colId;l[i]=t[i]})),e[s]=l,a.push(l)),l.__children.push(t)}else e[s]||(e[s]={}),e=e[s]}))})),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.assertRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.RowGroupingModule,"Charting Aggregation")&&a.forEach((function(e){return t.valueCols.forEach((function(o){if(t.crossFiltering)t.valueCols.forEach((function(o){var n=o.getColId(),r=e.__children.filter((function(t){return void 0!==t[n]})).map((function(t){return t[n]})),s=i.aggregationStage.aggregateValues(r,t.aggFunc);e[o.getId()]=s&&void 0!==s.value?s.value:s;var a=n+"-filtered-out",l=e.__children.filter((function(t){return void 0!==t[a]})).map((function(t){return t[a]})),c=i.aggregationStage.aggregateValues(l,t.aggFunc);e[a]=c&&void 0!==c.value?c.value:c}));else{var n=e.__children.map((function(t){return t[o.getId()]})),r=0;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.assertRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.RowGroupingModule,"Charting Aggregation")&&(r=i.aggregationStage.aggregateValues(n,t.aggFunc)),e[o.getId()]=r&&void 0!==r.value?r.value:r}}))})),a},e.prototype.updatePivotKeysForSSRM=function(){var t=this.columnModel.getSecondaryColumns();if(t){var e=this.extractPivotKeySeparator(t);t.forEach((function(t){if(""===e)t.getColDef().pivotKeys=[];else{var i=t.getColId().split(e);t.getColDef().pivotKeys=i.slice(0,i.length-1)}}))}},e.prototype.extractPivotKeySeparator=function(t){if(0===t.length)return"";var e=function(t,i){var o=t.getGroupId();return t.getParent()?e(t.getParent(),o):i.split(o)[1][0]},i=t[0];return null==i.getParent()?"":e(i.getParent(),i.getColId())},e.getGroupLabels=function(t,e){for(var i=[e];t&&0!==t.level;)(t=t.parent)&&i.push(t.key);return i},e.prototype.getFilteredRowNodes=function(){var t={};return this.gridRowModel.forEachNodeAfterFilterAndSort((function(e){t[e.id]=e})),t},e.prototype.getAllRowNodes=function(){var t=[];return this.gridRowModel.forEachNode((function(e){t.push(e)})),this.sortRowNodes(t)},e.prototype.sortRowNodes=function(t){var e=this.sortController.getSortOptions();return!e||0==e.length?t:this.rowNodeSorter.doFullSort(t,e)},__decorate$1b([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowModel")],e.prototype,"gridRowModel",void 0),__decorate$1b([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("valueService")],e.prototype,"valueService",void 0),__decorate$1b([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$1b([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowNodeSorter")],e.prototype,"rowNodeSorter",void 0),__decorate$1b([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("sortController")],e.prototype,"sortController",void 0),__decorate$1b([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FiY)("aggregationStage")],e.prototype,"aggregationStage",void 0),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$1F=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$1a=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},__read$l=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,n,r=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return s},__spread$a=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$l(arguments[e]));return t},ChartDataModel=function(t){function e(e){var i=t.call(this)||this;return i.unlinked=!1,i.chartData=[],i.valueColState=[],i.dimensionColState=[],i.columnNames={},i.grouping=!1,i.crossFiltering=!1,i.suppressComboChartWarnings=!1,i.chartId=e.chartId,i.chartType=e.chartType,i.pivotChart=e.pivotChart,i.chartThemeName=e.chartThemeName,i.aggFunc=e.aggFunc,i.referenceCellRange=e.cellRange,i.suppliedCellRange=e.cellRange,i.suppressChartRanges=e.suppressChartRanges,i.unlinked=!!e.unlinkChart,i.crossFiltering=!!e.crossFiltering,i.seriesChartTypes=e.seriesChartTypes||[],i.initComboCharts(e),i}return __extends$1F(e,t),e.prototype.initComboCharts=function(t){var e=this.seriesChartTypes&&this.seriesChartTypes.length>0;("customCombo"===t.chartType||e)&&(this.chartType="customCombo",this.savedCustomSeriesChartTypes=this.seriesChartTypes||[])},e.prototype.init=function(){this.datasource=this.createManagedBean(new ChartDatasource),this.updateCellRanges()},e.prototype.updateCellRanges=function(t){this.valueCellRange&&(this.referenceCellRange=this.valueCellRange);var e=this.getAllChartColumns(),i=e.dimensionCols,o=e.valueCols,n=this.getAllColumnsFromRanges();t&&this.updateColumnState(t),this.setDimensionCellRange(i,n,t),this.setValueCellRange(o,n,t),t||(this.resetColumnState(),this.syncDimensionCellRange()),this.updateSeriesChartTypes(),this.updateData()},e.prototype.updateSeriesChartTypes=function(){this.isComboChart()&&(this.seriesChartTypes=this.seriesChartTypes.map((function(t){var e=["groupedColumn","stackedColumn","stackedArea"].includes(t.chartType);return t.secondaryAxis=!e&&t.secondaryAxis,t})),"customCombo"!==this.chartType?this.updateChartSeriesTypesForBuiltInCombos():this.updateSeriesChartTypesForCustomCombo())},e.prototype.updateSeriesChartTypesForCustomCombo=function(){var t=this;this.seriesChartTypes&&this.seriesChartTypes.length>0||this.suppressComboChartWarnings||console.warn("AG Grid: 'seriesChartTypes' are required when the 'customCombo' chart type is specified."),this.seriesChartTypes=this.seriesChartTypes.map((function(t){return e.SUPPORTED_COMBO_CHART_TYPES.includes(t.chartType)||(console.warn("AG Grid: invalid chartType '"+t.chartType+"' supplied in 'seriesChartTypes', converting to 'line' instead."),t.chartType="line"),t}));var i=this.valueColState.map((function(e){t.savedCustomSeriesChartTypes&&0!==t.savedCustomSeriesChartTypes.length||(t.savedCustomSeriesChartTypes=t.seriesChartTypes);var i=t.savedCustomSeriesChartTypes.find((function(t){return t.colId===e.colId}));return i||(e.selected&&!t.suppressComboChartWarnings&&console.warn("AG Grid: no 'seriesChartType' found for colId = '"+e.colId+"', defaulting to 'line'."),{colId:e.colId,chartType:"line",secondaryAxis:!1})}));this.seriesChartTypes=i,this.savedCustomSeriesChartTypes=i,this.suppressComboChartWarnings=!0},e.prototype.updateChartSeriesTypesForBuiltInCombos=function(){var t="columnLineCombo"===this.chartType?"groupedColumn":"stackedArea",e="columnLineCombo"===this.chartType?"line":"groupedColumn",i=this.valueColState.filter((function(t){return t.selected})),o=Math.ceil(i.length/2);this.seriesChartTypes=i.map((function(i,n){var r=n>=o?e:t;return{colId:i.colId,chartType:r,secondaryAxis:!1}}))},e.prototype.updateData=function(){var t=this.getRowIndexes(),e=t.startRow,i=t.endRow;this.pivotChart&&this.resetColumnState(),this.grouping=this.isGrouping();var o={aggFunc:this.aggFunc,dimensionCols:[this.getSelectedDimension()],grouping:this.grouping,pivoting:this.isPivotActive(),crossFiltering:this.crossFiltering,valueCols:this.getSelectedValueCols(),startRow:e,endRow:i,isScatter:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(["scatter","bubble"],this.chartType)},n=this.datasource.getData(o),r=n.chartData,s=n.columnNames;this.chartData=r,this.columnNames=s},e.prototype.isGrouping=function(){var t=this.gridOptionsService.isTreeData(),e=t?null:this.columnModel.getRowGroupColumns(),i=t||e&&e.length>0,o=this.getSelectedDimension().colId,n=this.columnModel.getGroupDisplayColumns().map((function(t){return t.getColId()})).some((function(t){return t===o}));return!!i&&n},e.prototype.getSelectedValueCols=function(){return this.valueColState.filter((function(t){return t.selected})).map((function(t){return t.column}))},e.prototype.getSelectedDimension=function(){return this.dimensionColState.filter((function(t){return t.selected}))[0]},e.prototype.getColDisplayName=function(t){return this.columnModel.getDisplayNameForColumn(t,"chart")},e.prototype.isPivotMode=function(){return this.columnModel.isPivotMode()},e.prototype.getChartDataType=function(t){var e=this.columnModel.getPrimaryColumn(t);return e?e.getColDef().chartDataType:void 0},e.prototype.isPivotActive=function(){return this.columnModel.isPivotActive()},e.prototype.createCellRange=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];return{id:this.chartId,startRow:this.referenceCellRange.startRow,endRow:this.referenceCellRange.endRow,columns:e,startColumn:t===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.StC.DIMENSION?e[0]:this.referenceCellRange.startColumn,type:t}},e.prototype.getAllColumnsFromRanges=function(){if(this.pivotChart)return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.convertToSet(this.columnModel.getAllDisplayedColumns());var t=this.dimensionCellRange||this.valueCellRange?[]:this.referenceCellRange.columns;return this.dimensionCellRange&&t.push.apply(t,__spread$a(this.dimensionCellRange.columns)),this.valueCellRange&&t.push.apply(t,__spread$a(this.valueCellRange.columns)),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.convertToSet(t)},e.prototype.getRowIndexes=function(){var t=0,e=0,i=this.rangeService,o=this.valueCellRange;if(i&&o){t=i.getRangeStartRow(o).rowIndex;var n=i.getRangeEndRow(o);e="bottom"===n.rowPinned?-1:n.rowIndex}return{startRow:t,endRow:e}},e.prototype.getAllChartColumns=function(){var t=this,e=this.columnModel.getAllDisplayedColumns(),i=new Set,o=new Set;return e.forEach((function(e){var n=e.getColDef(),r=n.chartDataType;if(r)switch(r){case"category":case"time":return void i.add(e);case"series":return void o.add(e);case"excluded":return;default:console.warn("AG Grid: unexpected chartDataType value '"+r+"' supplied, instead use 'category', 'series' or 'excluded'")}"ag-Grid-AutoColumn"!==n.colId?e.isPrimary()?(t.isNumberCol(e)?o:i).add(e):o.add(e):i.add(e)})),{dimensionCols:i,valueCols:o}},e.prototype.isNumberCol=function(t){if("ag-Grid-AutoColumn"===t.getColId())return!1;var e=this.rowRenderer.getRowNode({rowIndex:0,rowPinned:null});if(!e)return!1;var i=this.valueService.getValue(t,e);return null==i&&(i=this.extractLeafData(e,t)),null!=i&&"function"==typeof i.toNumber&&(i=i.toNumber()),"number"==typeof i},e.prototype.extractLeafData=function(t,e){if(!t.allLeafChildren)return null;for(var i=0;i<t.allLeafChildren.length;i++){var o=t.allLeafChildren[i],n=this.valueService.getValue(e,o);if(null!=n)return n}return null},e.prototype.resetColumnState=function(){var t=this,i=this.getAllChartColumns(),o=i.dimensionCols,n=i.valueCols,r=this.getAllColumnsFromRanges(),s=this.valueColState.length<1;this.dimensionColState=[],this.valueColState=[];var a=!1,l=1,c=this.suppliedCellRange.columns[0];o.forEach((function(e){var i="ag-Grid-AutoColumn"===e.getColId(),o=!1;t.crossFiltering&&t.aggFunc?c.getColId()===e.getColId()&&(o=!0):o=!!i||!a&&r.has(e),t.dimensionColState.push({column:e,colId:e.getColId(),displayName:t.getColDisplayName(e),selected:o,order:l++}),o&&(a=!0)}));var u={colId:e.DEFAULT_CATEGORY,displayName:this.chartTranslationService.translate("defaultCategory"),selected:!a,order:0};this.dimensionColState.unshift(u);var h=this.referenceCellRange.columns.filter((function(t){return n.has(t)}));n.forEach((function(e){s&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(t.referenceCellRange.columns,e)&&(e=h.shift()),t.valueColState.push({column:e,colId:e.getColId(),displayName:t.getColDisplayName(e),selected:r.has(e),order:l++})}))},e.prototype.updateColumnState=function(t){var e=function(e){return e.colId===t.colId},i=this.dimensionColState,o=this.valueColState;i.filter(e).length>0?i.forEach((function(t){return t.selected=e(t)})):o.filter(e).forEach((function(e){return e.selected=t.selected}));var n=__spread$a(i,o),r=[];n.forEach((function(e,i){i===t.order&&r.push(t.colId),e.colId!==t.colId&&r.push(e.colId)})),n.forEach((function(t){var e=r.indexOf(t.colId);t.order=e>=0?r.indexOf(t.colId):n.length-1})),this.reorderColState()},e.prototype.reorderColState=function(){var t=function(t,e){return t.order-e.order};this.dimensionColState.sort(t),this.valueColState.sort(t)},e.prototype.setDimensionCellRange=function(t,i,o){var n=this;if(this.dimensionCellRange=void 0,o||this.dimensionColState.length){var r=o;if(this.crossFiltering&&this.aggFunc){var s=this.suppliedCellRange.columns[0];r=this.dimensionColState.filter((function(t){return t.colId===s.getColId()}))[0]}else r&&t.has(r.column)||(r=this.dimensionColState.filter((function(t){return t.selected}))[0]);r&&r.colId!==e.DEFAULT_CATEGORY&&(this.dimensionCellRange=this.createCellRange(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.StC.DIMENSION,r.column))}else t.forEach((function(t){!n.dimensionCellRange&&i.has(t)&&(n.dimensionCellRange=n.createCellRange(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.StC.DIMENSION,t))}))},e.prototype.setValueCellRange=function(t,e,i){this.valueCellRange=void 0;var o=[];if(t.forEach((function(t){i&&i.colId===t.getColId()?i.selected&&o.push(i.column):e.has(t)&&o.push(t)})),o.length>0){var n=[];this.valueColState.length>0?n=this.valueColState.map((function(t){return t.colId})):e.forEach((function(t){return n.push(t.getColId())})),o.sort((function(t,e){return n.indexOf(t.getColId())-n.indexOf(e.getColId())})),this.valueCellRange=this.createCellRange.apply(this,__spread$a([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.StC.VALUE],o))}},e.prototype.syncDimensionCellRange=function(){var t=this.getSelectedDimension();t&&t.column&&(this.dimensionCellRange=this.createCellRange(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.StC.DIMENSION,t.column))},e.prototype.isComboChart=function(){return["columnLineCombo","areaColumnCombo","customCombo"].includes(this.chartType)},e.DEFAULT_CATEGORY="AG-GRID-DEFAULT-CATEGORY",e.SUPPORTED_COMBO_CHART_TYPES=["line","groupedColumn","stackedColumn","area","stackedArea"],__decorate$1a([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$1a([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("valueService")],e.prototype,"valueService",void 0),__decorate$1a([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rangeService")],e.prototype,"rangeService",void 0),__decorate$1a([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowRenderer")],e.prototype,"rowRenderer",void 0),__decorate$1a([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],e.prototype,"chartTranslationService",void 0),__decorate$1a([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),VALID_SERIES_TYPES=["area","bar","column","histogram","line","pie","scatter"];function getSeriesType(t){switch(t){case"bar":case"groupedBar":case"stackedBar":case"normalizedBar":return"bar";case"column":case"groupedColumn":case"stackedColumn":case"normalizedColumn":return"column";case"line":return"line";case"area":case"stackedArea":case"normalizedArea":return"area";case"scatter":case"bubble":return"scatter";case"histogram":return"histogram";case"pie":case"doughnut":return"pie";default:return"cartesian"}}var ALL_AXIS_TYPES=["number","category","groupedCategory","log","time"];function getLegacyAxisType(t){switch(t){case"bar":case"stackedBar":case"normalizedBar":return["number","category"];case"groupedBar":return["number","groupedCategory"];case"column":case"stackedColumn":case"normalizedColumn":case"line":case"area":case"stackedArea":case"normalizedArea":case"histogram":return["category","number"];case"groupedColumn":return["groupedCategory","number"];case"scatter":case"bubble":return["number","number"];default:return}}var __assign$k=function(){return __assign$k=Object.assign||function(t){for(var e,i=1,o=arguments.length;i<o;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},__assign$k.apply(this,arguments)};function createAgChartTheme(t,e){var i,o=t.chartOptionsToRestore,n=t.chartPaletteToRestore,r=t.chartThemeToRestore,s=getSelectedTheme(t),a=isStockTheme(s),l=a?{baseTheme:s}:null!==(i=lookupCustomChartTheme(t,s))&&void 0!==i?i:{},c=t.getGridOptionsChartThemeOverrides(),u=t.apiChartThemeOverrides,h="pie"===getSeriesType(t.chartType)?"polar":"cartesian",d=t.crossFiltering?createCrossFilterThemeOverrides(e,t,h):void 0,p=__assign$k({},null!=o?o:{}),f=[a?inbuiltStockThemeOverrides(t,function(){var t=function(t){return!!t&&Object.keys(t).some((function(e){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.get(t[e],"title.enabled",!1)}))};return t(c)||t(u)}()):void 0,d,c,u,p],g=f.filter((function(t){return!!t})).reduce((function(t,e){return{baseTheme:t,overrides:e}}),l);n&&s===r&&(isIdenticalPalette(n,getChartTheme(l).palette)||(g.palette=n));return g}function isIdenticalPalette(t,e){var i=function(t,e){return t.length===e.length&&t.every((function(t,i){return t===e[i]}))};return i(t.fills,e.fills)&&i(t.strokes,e.strokes)}function isStockTheme(t){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(Object.keys(themes),t)}function createCrossFilterThemeOverrides(t,e,i){var o,n={listeners:{legendItemClick:function(e){t.getChart().series.forEach((function(t){t.toggleSeriesItem(e.itemId,e.enabled),t.toggleSeriesItem(e.itemId+"-filtered-out",e.enabled)}))}}},r={};return"polar"===i&&(r.pie={tooltip:{renderer:function(t){var e=t.angleName,i=t.datum,o=t.calloutLabelKey,n=t.radiusKey,r=t.angleValue;return{title:e,content:i[o]+": "+r*i[n]}}}}),(o={})[i]={tooltip:{delay:500},legend:n,listeners:{click:function(t){return e.crossFilterCallback(t,!0)}},series:r},o}var STATIC_INBUILT_STOCK_THEME_AXES_OVERRIDES=ALL_AXIS_TYPES.reduce((function(t,e){var i;return __assign$k(__assign$k({},t),((i={})[e]={title:{_enabledFromTheme:!0}},i))}),{});function inbuiltStockThemeOverrides(t,e){var i=t.getExtraPaddingDirections();return{common:{axes:STATIC_INBUILT_STOCK_THEME_AXES_OVERRIDES,padding:{top:!e&&i.includes("top")?40:20,right:i.includes("right")?30:20,bottom:i.includes("bottom")?40:20,left:i.includes("left")?30:20}},pie:{series:{title:{_enabledFromTheme:!0},calloutLabel:{_enabledFromTheme:!0},sectorLabel:{enabled:!1,_enabledFromTheme:!0}}}}}function getSelectedTheme(t){var e=t.getChartThemeName(),i=t.getChartThemes();return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(i,e)||(e=i[0]),e}function lookupCustomChartTheme(t,e){var i=t.customChartThemes,o=i&&i[e];return o||console.warn("AG Grid: no stock theme exists with the name '"+e+"' and no custom chart theme with that name was supplied to 'customChartThemes'"),o}var __extends$1E=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$19=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},DEFAULT_THEMES=["ag-default","ag-material","ag-pastel","ag-vivid","ag-solar"],ChartController=function(t){function e(e){var i=t.call(this)||this;return i.model=e,i}return __extends$1E(e,t),e.prototype.init=function(){var t=this;this.setChartRange(),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_RANGE_SELECTION_CHANGED,(function(e){e.id&&e.id===t.model.chartId&&t.updateForRangeChange()})),this.model.unlinked&&this.rangeService&&this.rangeService.setCellRanges([]),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_MOVED,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PINNED,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_VISIBLE,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_ROW_GROUP_CHANGED,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_MODEL_UPDATED,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_CELL_VALUE_CHANGED,this.updateForDataChange.bind(this))},e.prototype.updateForGridChange=function(){this.model.unlinked||(this.model.updateCellRanges(),this.setChartRange())},e.prototype.updateForDataChange=function(){this.model.unlinked||(this.model.updateData(),this.raiseChartModelUpdateEvent())},e.prototype.updateForRangeChange=function(){this.updateForGridChange(),this.raiseChartRangeSelectionChangedEvent()},e.prototype.updateForPanelChange=function(t){this.model.updateCellRanges(t),this.setChartRange(),this.raiseChartRangeSelectionChangedEvent()},e.prototype.getChartUpdateParams=function(){var t=this.getSelectedValueColState().map((function(t){return{colId:t.colId,displayName:t.displayName}})),e=this.getChartData(),i=this.getSelectedDimension();return{data:e,grouping:this.isGrouping(),category:{id:i.colId,name:i.displayName,chartDataType:this.model.getChartDataType(i.colId)},fields:t,chartId:this.getChartId(),getCrossFilteringContext:function(){return{lastSelectedChartId:"xxx"}},seriesChartTypes:this.getSeriesChartTypes()}},e.prototype.getChartModel=function(){var t=this.model.pivotChart?"pivot":"range",e=this.isComboChart()?this.model.seriesChartTypes:void 0;return{modelType:t,chartId:this.model.chartId,chartType:this.model.chartType,chartThemeName:this.getChartThemeName(),chartOptions:this.chartProxy.getChartThemeOverrides(),chartPalette:this.chartProxy.getChartPalette(),cellRange:this.getCellRangeParams(),suppressChartRanges:this.model.suppressChartRanges,aggFunc:this.model.aggFunc,unlinkChart:this.model.unlinked,seriesChartTypes:e}},e.prototype.getChartId=function(){return this.model.chartId},e.prototype.getChartData=function(){return this.model.chartData},e.prototype.getChartType=function(){return this.model.chartType},e.prototype.setChartType=function(t){this.model.chartType=t,this.model.updateSeriesChartTypes(),this.raiseChartModelUpdateEvent(),this.raiseChartOptionsChangedEvent()},e.prototype.setChartThemeName=function(t){this.model.chartThemeName=t,this.raiseChartModelUpdateEvent(),this.raiseChartOptionsChangedEvent()},e.prototype.getChartThemeName=function(){return this.model.chartThemeName},e.prototype.isPivotChart=function(){return this.model.pivotChart},e.prototype.isPivotMode=function(){return this.model.isPivotMode()},e.prototype.isGrouping=function(){return this.model.isGrouping()},e.prototype.getThemes=function(){return this.gridOptionsService.get("chartThemes")||DEFAULT_THEMES},e.prototype.getPalettes=function(){var t=this;return this.getThemes().map((function(e){return getChartTheme(isStockTheme(e)?e:t.chartProxy.lookupCustomChartTheme(e)).palette}))},e.prototype.getValueColState=function(){return this.model.valueColState.map(this.displayNameMapper.bind(this))},e.prototype.getSelectedValueColState=function(){return this.getValueColState().filter((function(t){return t.selected}))},e.prototype.getDimensionColState=function(){return this.model.dimensionColState},e.prototype.getSelectedDimension=function(){return this.model.getSelectedDimension()},e.prototype.displayNameMapper=function(t){var e=this.model.columnNames[t.colId];return t.displayName=e?e.join(" - "):this.model.getColDisplayName(t.column),t},e.prototype.getColStateForMenu=function(){return{dimensionCols:this.model.dimensionColState,valueCols:this.getValueColState()}},e.prototype.isDefaultCategorySelected=function(){return this.model.getSelectedDimension().colId===ChartDataModel.DEFAULT_CATEGORY},e.prototype.setChartRange=function(t){void 0===t&&(t=!1),!this.rangeService||this.model.suppressChartRanges||this.model.unlinked||this.rangeService.setCellRanges(this.getCellRanges()),t||this.raiseChartModelUpdateEvent()},e.prototype.detachChartRange=function(){this.model.unlinked=!this.model.unlinked,this.model.unlinked?this.rangeService&&this.rangeService.setCellRanges([]):this.updateForGridChange()},e.prototype.setChartProxy=function(t){this.chartProxy=t},e.prototype.getChartProxy=function(){return this.chartProxy},e.prototype.isActiveXYChart=function(){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(["scatter","bubble"],this.getChartType())},e.prototype.isChartLinked=function(){return!this.model.unlinked},e.prototype.customComboExists=function(){return this.model.savedCustomSeriesChartTypes&&this.model.savedCustomSeriesChartTypes.length>0},e.prototype.getSeriesChartTypes=function(){return this.model.seriesChartTypes},e.prototype.isComboChart=function(){return this.model.isComboChart()},e.prototype.updateSeriesChartType=function(t,i,o){var n=this.model.seriesChartTypes.find((function(e){return e.colId===t}));if(n){var r="customCombo"!==this.model.chartType;r&&(this.model.chartType="customCombo");var s=n.chartType;null!=i&&(n.chartType=i),null!=o&&(n.secondaryAxis=o),this.model.savedCustomSeriesChartTypes=this.model.seriesChartTypes,this.model.updateSeriesChartTypes(),this.updateForDataChange(),r&&this.dispatchEvent({type:e.EVENT_CHART_TYPE_CHANGED}),s!==i&&this.dispatchEvent({type:e.EVENT_CHART_SERIES_CHART_TYPE_CHANGED}),this.raiseChartOptionsChangedEvent()}},e.prototype.getActiveSeriesChartTypes=function(){var t=this.getSelectedValueColState().map((function(t){return t.colId}));return this.getSeriesChartTypes().filter((function(e){return t.includes(e.colId)}))},e.prototype.getChartSeriesTypes=function(){return this.isComboChart()?["line","column","area"]:[getSeriesType(this.getChartType())]},e.prototype.getCellRanges=function(){return[this.model.dimensionCellRange,this.model.valueCellRange].filter((function(t){return t}))},e.prototype.getCellRangeParams=function(){var t=this.getCellRanges(),e=t[0],i=e&&e.startRow||null,o=e&&e.endRow||null;return{rowStartIndex:i&&i.rowIndex,rowStartPinned:i&&i.rowPinned,rowEndIndex:o&&o.rowIndex,rowEndPinned:o&&o.rowPinned,columns:t.reduce((function(t,e){return t.concat(e.columns.map((function(t){return t.getId()})))}),[])}},e.prototype.raiseChartModelUpdateEvent=function(){var t={type:e.EVENT_CHART_MODEL_UPDATE};this.dispatchEvent(t)},e.prototype.raiseChartUpdatedEvent=function(){var t={type:e.EVENT_CHART_UPDATED};this.dispatchEvent(t)},e.prototype.raiseChartOptionsChangedEvent=function(){var t=this.getChartModel(),e=t.chartId,i=t.chartType,o={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_CHART_OPTIONS_CHANGED,chartId:e,chartType:i,chartThemeName:this.getChartThemeName(),chartOptions:this.chartProxy.getChartThemeOverrides()};this.eventService.dispatchEvent(o)},e.prototype.raiseChartRangeSelectionChangedEvent=function(){var t={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_CHART_RANGE_SELECTION_CHANGED,id:this.model.chartId,chartId:this.model.chartId,cellRange:this.getCellRangeParams()};this.eventService.dispatchEvent(t)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.rangeService&&this.rangeService.setCellRanges([])},e.EVENT_CHART_UPDATED="chartUpdated",e.EVENT_CHART_MODEL_UPDATE="chartModelUpdate",e.EVENT_CHART_TYPE_CHANGED="chartTypeChanged",e.EVENT_CHART_SERIES_CHART_TYPE_CHANGED="chartSeriesChartTypeChanged",__decorate$19([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rangeService")],e.prototype,"rangeService",void 0),__decorate$19([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$1D=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$18=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},__read$k=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,n,r=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return s},__spread$9=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$k(arguments[e]));return t},__values$7=function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],o=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},DefaultDataPanelDef={groups:[{type:"categories",isOpen:!0},{type:"series",isOpen:!0},{type:"seriesChartType",isOpen:!0}]},ChartDataPanel=function(t){function e(i,o){var n=t.call(this,e.TEMPLATE)||this;return n.chartController=i,n.chartOptionsService=o,n.columnComps=new Map,n}return __extends$1D(e,t),e.prototype.init=function(){this.updatePanels(),this.addManagedListener(this.chartController,ChartController.EVENT_CHART_MODEL_UPDATE,this.updatePanels.bind(this)),this.createAutoScrollService()},e.prototype.destroy=function(){this.clearComponents(),t.prototype.destroy.call(this)},e.prototype.updatePanels=function(){var t,e,i=this,o=this.chartType,n=this.chartController.getColStateForMenu(),r=n.dimensionCols,s=n.valueCols,a=r.map((function(t){return t.colId})).concat(s.map((function(t){return t.colId})));this.chartType=this.chartController.getChartType();var l=this.getGroupExpandedState();if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.areEqual(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.keys(this.columnComps),a)&&this.chartType===o){if(__spread$9(r,s).forEach((function(t){i.columnComps.get(t.colId).setValue(t.selected,!0)})),this.chartController.isActiveXYChart()){var c=this.generateGetSeriesLabel();s.forEach((function(t){i.columnComps.get(t.colId).setLabel(c(t))}))}ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromParent(this.getGui().querySelector("#seriesChartTypeGroup")),this.seriesChartTypeGroupComp=this.destroyBean(this.seriesChartTypeGroupComp);var u=null===(t=this.getDataPanelDef().groups)||void 0===t?void 0:t.reduce((function(t,e,i){return"seriesChartType"===e.type?i:t}),-1);-1!==u&&this.createSeriesChartTypeGroup(s,u)}else this.clearComponents(),null===(e=this.getDataPanelDef().groups)||void 0===e||e.forEach((function(t){var e=t.type;"categories"===e?i.createCategoriesGroup(r):"series"===e?i.createSeriesGroup(s):"seriesChartType"===e?i.createSeriesChartTypeGroup(s):console.warn("AG Grid: invalid charts data panel group name supplied: '"+e+"'")}));this.restoreGroupExpandedState(l)},e.prototype.getGroupExpandedState=function(){var t=this;return[{groupType:"categories",comp:this.categoriesGroupComp},{groupType:"series",comp:this.seriesGroupComp},{groupType:"seriesChartType",comp:this.seriesChartTypeGroupComp}].map((function(e){var i,o,n=e.groupType,r=e.comp,s=Boolean(null===(o=null===(i=t.getDataPanelDef().groups)||void 0===i?void 0:i.find((function(t){return t.type===n})))||void 0===o?void 0:o.isOpen);return r?r.isExpanded():s}))},e.prototype.restoreGroupExpandedState=function(t){[this.categoriesGroupComp,this.seriesGroupComp,this.seriesChartTypeGroupComp].forEach((function(e,i){e&&e.toggleGroupExpand(t[i])}))},e.prototype.createAutoScrollService=function(){var t=this.getGui();this.autoScrollService=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Cvn({scrollContainer:t,scrollAxis:"y",getVerticalPosition:function(){return t.scrollTop},setVerticalPosition:function(e){return t.scrollTop=e}})},e.prototype.createComponent=function(t,e){var i=document.createElement("div");return i.id=e,i.className="ag-chart-data-section",i.appendChild(t.getGui()),i},e.prototype.addComponent=function(t,e,i){var o=this.createComponent(e,i);t.appendChild(o)},e.prototype.addComponentAtIndex=function(t,e,i,o){var n=this.createComponent(e,i);t.insertBefore(n,t.children[o])},e.prototype.addChangeListener=function(t,e){var i=this;this.addManagedListener(t,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.J8Z.EVENT_CHANGED,(function(){e.selected=t.getValue(),i.chartController.updateForPanelChange(e)}))},e.prototype.createCategoriesGroup=function(t){var e=this;this.categoriesGroupComp=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.H1u({title:this.getCategoryGroupTitle(),enabled:!0,suppressEnabledCheckbox:!0,suppressOpenCloseIcons:!1,cssIdentifier:"charts-data"}));var i="chartDimension"+this.getCompId();t.forEach((function(t){var o=e.categoriesGroupComp.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.LQq);o.setLabel(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.escapeString(t.displayName)),o.setValue(t.selected),o.setInputName(i),e.addChangeListener(o,t),e.categoriesGroupComp.addItem(o),e.columnComps.set(t.colId,o)})),this.addComponent(this.getGui(),this.categoriesGroupComp,"categoriesGroup")},e.prototype.createSeriesGroup=function(t){var e=this;if(this.seriesGroupComp=this.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.H1u({title:this.getSeriesGroupTitle(),enabled:!0,suppressEnabledCheckbox:!0,suppressOpenCloseIcons:!1,cssIdentifier:"charts-data"})),this.chartController.isActiveXYChart()){var i=this.seriesGroupComp.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.nN0);i.setLabel(this.chartTranslationService.translate("paired")).setLabelAlignment("left").setLabelWidth("flex").setInputWidth(45).setValue(this.chartOptionsService.getPairedMode()).onValueChange((function(t){e.chartOptionsService.setPairedMode(!!t),e.chartController.updateForGridChange()})),this.seriesGroupComp.addItem(i)}var o=this.generateGetSeriesLabel();t.forEach((function(t){var i=e.seriesGroupComp.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jkc);i.addCssClass("ag-data-select-checkbox");var n=o(t);i.setLabel(n),i.setValue(t.selected),e.addChangeListener(i,t),e.seriesGroupComp.addItem(i),e.columnComps.set(t.colId,i),e.addDragHandle(i,t)}));var n=this.getGui(),r=this.seriesGroupComp.getGui();this.addComponent(n,this.seriesGroupComp,"seriesGroup");var s={getIconName:function(){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jUB.ICON_MOVE},getContainer:function(){return r},onDragging:function(t){return e.onDragging(t)},onDragLeave:function(){return e.onDragLeave()},isInterestedIn:this.isInterestedIn.bind(this),targetContainsSource:!0};this.dragAndDropService.addDropTarget(s),this.addDestroyFunc((function(){return e.dragAndDropService.removeDropTarget(s)}))},e.prototype.createSeriesChartTypeGroup=function(t,e){var i=this;if(this.chartController.isComboChart()){this.seriesChartTypeGroupComp=this.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.H1u({title:this.chartTranslationService.translate("seriesChartType"),enabled:!0,suppressEnabledCheckbox:!0,suppressOpenCloseIcons:!1,cssIdentifier:"charts-data"}));var o=this.chartController.getSeriesChartTypes();t.forEach((function(t){if(t.selected){var e=o.filter((function(e){return e.colId===t.colId}))[0];if(e){var n=i.seriesChartTypeGroupComp.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.H1u({title:t.displayName,enabled:!0,suppressEnabledCheckbox:!0,suppressOpenCloseIcons:!0,cssIdentifier:"charts-format-sub-level"})),r=i.seriesChartTypeGroupComp.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jkc).setLabel(i.chartTranslationService.translate("secondaryAxis")).setLabelWidth("flex").setDisabled(["groupedColumn","stackedColumn","stackedArea"].includes(e.chartType)).setValue(!!e.secondaryAxis).onValueChange((function(e){return i.chartController.updateSeriesChartType(t.colId,void 0,e)}));n.addItem(r);var s=function(t,e){return i.chartTranslationService.translate(t,e)},a=[{value:"line",text:s("line","Line")},{value:"area",text:s("area","Area")},{value:"stackedArea",text:s("stackedArea","StackedArea")},{value:"groupedColumn",text:s("groupedColumn","Grouped Column")},{value:"stackedColumn",text:s("stackedColumn","Stacked Column")}],l=n.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wGv);l.setLabelAlignment("left").setLabelWidth("flex").addOptions(a).setValue(e.chartType).onValueChange((function(e){return i.chartController.updateSeriesChartType(t.colId,e)})),n.addItem(l),i.seriesChartTypeGroupComp.addItem(n)}}})),void 0===e?this.addComponent(this.getGui(),this.seriesChartTypeGroupComp,"seriesChartTypeGroup"):this.addComponentAtIndex(this.getGui(),this.seriesChartTypeGroupComp,"seriesChartTypeGroup",e)}},e.prototype.addDragHandle=function(t,e){var i=this,o=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("columnDrag",this.gridOptionsService);o.classList.add("ag-drag-handle","ag-chart-data-column-drag-handle"),t.getGui().insertAdjacentElement("beforeend",o);var n={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.rvo.ChartPanel,eElement:o,dragItemName:e.displayName,getDragItem:function(){return{columns:[e.column]}},onDragStopped:function(){return i.onDragStop()}};this.dragAndDropService.addDragSource(n,!0),this.addDestroyFunc((function(){return i.dragAndDropService.removeDragSource(n)}))},e.prototype.generateGetSeriesLabel=function(){if(!this.chartController.isActiveXYChart())return function(t){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.escapeString(t.displayName)};var t="bubble"===this.chartType,e=this.isInPairedMode(),i=0,o=new Map;return o.set(0,"X"),o.set(1,"Y"),o.set(2,"size"),function(n){var r,s=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.escapeString(n.displayName);return n.selected?(r=e?o.get(i%(t?3:2)):0===i?"X":t&&i%2==0?"size":"Y",i++,s+" ("+r+")"):s}},e.prototype.getCategoryGroupTitle=function(){return this.chartTranslationService.translate(this.chartController.isActiveXYChart()?"labels":"categories")},e.prototype.getSeriesGroupTitle=function(){return this.chartTranslationService.translate(this.chartController.isActiveXYChart()?"xyValues":"series")},e.prototype.getDataPanelDef=function(){var t,e=null===(t=this.gridOptionsService.get("chartToolPanelsDef"))||void 0===t?void 0:t.dataPanel;return e||DefaultDataPanelDef},e.prototype.isInPairedMode=function(){return this.chartController.isActiveXYChart()&&this.chartOptionsService.getSeriesOption("paired","scatter")},e.prototype.clearComponents=function(){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.clearElement(this.getGui()),this.categoriesGroupComp=this.destroyBean(this.categoriesGroupComp),this.seriesGroupComp=this.destroyBean(this.seriesGroupComp),this.seriesChartTypeGroupComp=this.destroyBean(this.seriesChartTypeGroupComp),this.columnComps.clear()},e.prototype.onDragging=function(t){var e=this.checkHoveredItem(t);if(e){this.lastDraggedColumn=t.dragItem.columns[0];var i=e.comp,o=e.position,n=this.lastHoveredItem||{},r=n.comp,s=n.position;if(i!==r||o!==s)this.autoScrollService.check(t.event),this.clearHoveredItems(),this.lastHoveredItem={comp:i,position:o},i.getGui().classList.add("ag-list-item-hovered","ag-item-highlight-"+o)}},e.prototype.checkHoveredItem=function(t){var e,i;if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(t.vDirection))return null;var o=t.event;try{for(var n=__values$7(this.columnComps.values()),r=n.next();!r.done;r=n.next()){var s=r.value,a=s.getGui();if(a.querySelector(".ag-chart-data-column-drag-handle")){var l=a.getBoundingClientRect();if(o.clientY>=l.top&&o.clientY<=l.bottom){var c=a.clientHeight;return{comp:s,position:o.clientY>l.top+c/2?"bottom":"top"}}}}}catch(t){e={error:t}}finally{try{r&&!r.done&&(i=n.return)&&i.call(n)}finally{if(e)throw e.error}}return null},e.prototype.onDragLeave=function(){this.clearHoveredItems()},e.prototype.onDragStop=function(){var t=this;if(this.lastHoveredItem){var e=this.chartController.getColStateForMenu(),i=e.dimensionCols,o=e.valueCols,n=__spread$9(i,o).find((function(e){return e.column===t.lastDraggedColumn}));if(n){var r=Array.from(this.columnComps.values()).indexOf(this.lastHoveredItem.comp);"bottom"===this.lastHoveredItem.position&&r++,n.order=r,this.chartController.updateForPanelChange(n)}}this.clearHoveredItems(),this.lastDraggedColumn=void 0,this.autoScrollService.ensureCleared()},e.prototype.clearHoveredItems=function(){this.columnComps.forEach((function(t){t.getGui().classList.remove("ag-list-item-hovered","ag-item-highlight-top","ag-item-highlight-bottom")})),this.lastHoveredItem=void 0},e.prototype.isInterestedIn=function(t){return t===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.rvo.ChartPanel},e.TEMPLATE='<div class="ag-chart-data-wrapper ag-scrollable-container"></div>',__decorate$18([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("dragAndDropService")],e.prototype,"dragAndDropService",void 0),__decorate$18([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],e.prototype,"chartTranslationService",void 0),__decorate$18([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$1C=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$17=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},FontPanel=function(t){function e(e){var i=t.call(this)||this;return i.activeComps=[],i.params=e,i}return __extends$1C(e,t),e.prototype.init=function(){this.setTemplate(e.TEMPLATE,{fontGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0}}),this.initGroup(),this.initFontFamilySelect(),this.initFontWeightStyleSelect(),this.initFontSizeSelect(),this.initFontColorPicker()},e.prototype.addCompToPanel=function(t){this.fontGroup.addItem(t),this.activeComps.push(t)},e.prototype.setEnabled=function(t){this.fontGroup.setEnabled(t)},e.prototype.initGroup=function(){var t=this;this.fontGroup.setTitle(this.params.name||this.chartTranslationService.translate("font")).setEnabled(this.params.enabled).hideEnabledCheckbox(!!this.params.suppressEnabledCheckbox).hideOpenCloseIcons(!0).onEnableChange((function(e){t.params.setEnabled&&t.params.setEnabled(e)}))},e.prototype.initFontFamilySelect=function(){var t=this,e=["Arial, sans-serif","Aria Black, sans-serif","Book Antiqua,  serif","Charcoal, sans-serif","Comic Sans MS, cursive","Courier, monospace","Courier New, monospace","Gadget, sans-serif","Geneva, sans-serif","Helvetica, sans-serif","Impact, sans-serif","Lucida Console, monospace","Lucida Grande, sans-serif","Lucida Sans Unicode,  sans-serif","Monaco, monospace","Palatino Linotype, serif","Palatino, serif","Times New Roman, serif","Times, serif","Verdana, sans-serif"],i=this.params.initialFont.family,o=e[0];if(i){var n=e.map((function(t){return t.toLowerCase()})).indexOf(i.toLowerCase());if(n>=0)o=e[n];else{var r=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.capitalise(i);e.push(r),o=r}}var s=e.sort().map((function(t){return{value:t,text:t}}));this.familySelect.addOptions(s).setInputWidth("flex").setValue(""+o).onValueChange((function(e){return t.params.setFont({family:e})}))},e.prototype.initFontSizeSelect=function(){var t=this,e=[8,10,12,14,16,18,20,22,24,26,28,30,32,34,36],i=this.params.initialFont.size;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(e,i)||e.push(i);var o=e.sort((function(t,e){return t-e})).map((function(t){return{value:""+t,text:""+t}}));this.sizeSelect.addOptions(o).setInputWidth("flex").setValue(""+i).onValueChange((function(e){return t.params.setFont({size:parseInt(e,10)})})),this.sizeSelect.setLabel(this.chartTranslationService.translate("size"))},e.prototype.initFontWeightStyleSelect=function(){var t=this,e=this.params.initialFont,i=e.weight,o=void 0===i?"normal":i,n=e.style,r=void 0===n?"normal":n,s=[{name:"normal",weight:"normal",style:"normal"},{name:"bold",weight:"bold",style:"normal"},{name:"italic",weight:"normal",style:"italic"},{name:"boldItalic",weight:"bold",style:"italic"}],a=s.find((function(t){return t.weight===o&&t.style===r}));a||(a={name:"predefined",weight:o,style:r},s.unshift(a));var l=s.map((function(e){return{value:e.name,text:t.chartTranslationService.translate(e.name)}}));this.weightStyleSelect.addOptions(l).setInputWidth("flex").setValue(a.name).onValueChange((function(e){var i=s.find((function(t){return t.name===e}));t.params.setFont({weight:i.weight,style:i.style})}))},e.prototype.initFontColorPicker=function(){var t=this;this.colorPicker.setLabel(this.chartTranslationService.translate("color")).setInputWidth(45).setValue(""+this.params.initialFont.color).onValueChange((function(e){return t.params.setFont({color:e})}))},e.prototype.addItemToPanel=function(t){this.fontGroup.addItem(t),this.activeComps.push(t)},e.prototype.destroyActiveComps=function(){var t=this;this.activeComps.forEach((function(e){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromParent(e.getGui()),t.destroyBean(e)}))},e.prototype.destroy=function(){this.destroyActiveComps(),t.prototype.destroy.call(this)},e.TEMPLATE='<div class="ag-font-panel">\n            <ag-group-component ref="fontGroup">\n                <ag-select ref="familySelect"></ag-select>\n                <ag-select ref="weightStyleSelect"></ag-select>\n                <div class="ag-charts-font-size-color">\n                    <ag-select ref="sizeSelect"></ag-select>\n                    <ag-color-picker ref="colorPicker"></ag-color-picker>\n                </div>\n            </ag-group-component>\n        </div>',__decorate$17([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("fontGroup")],e.prototype,"fontGroup",void 0),__decorate$17([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("familySelect")],e.prototype,"familySelect",void 0),__decorate$17([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("weightStyleSelect")],e.prototype,"weightStyleSelect",void 0),__decorate$17([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("sizeSelect")],e.prototype,"sizeSelect",void 0),__decorate$17([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("colorPicker")],e.prototype,"colorPicker",void 0),__decorate$17([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],e.prototype,"chartTranslationService",void 0),__decorate$17([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$1B=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$16=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},LegendPanel=function(t){function e(e){var i=e.chartOptionsService,o=e.isExpandedOnInit,n=void 0!==o&&o,r=t.call(this)||this;return r.activePanels=[],r.chartOptionsService=i,r.isExpandedOnInit=n,r}return __extends$1B(e,t),e.prototype.init=function(){this.setTemplate(e.TEMPLATE,{legendGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.initLegendGroup(),this.initLegendPosition(),this.initLegendPadding(),this.initLegendItems(),this.initLabelPanel()},e.prototype.initLegendGroup=function(){var t=this;this.legendGroup.setTitle(this.chartTranslationService.translate("legend")).hideEnabledCheckbox(!1).setEnabled(this.chartOptionsService.getChartOption("legend.enabled")||!1).toggleGroupExpand(this.isExpandedOnInit).onEnableChange((function(e){t.chartOptionsService.setChartOption("legend.enabled",e),t.legendGroup.toggleGroupExpand(!0)}))},e.prototype.initLegendPosition=function(){var t=this;this.legendPositionSelect.setLabel(this.chartTranslationService.translate("position")).setLabelWidth("flex").setInputWidth(80).addOptions(["top","right","bottom","left"].map((function(e){return{value:e,text:t.chartTranslationService.translate(e)}}))).setValue(this.chartOptionsService.getChartOption("legend.position")).onValueChange((function(e){return t.chartOptionsService.setChartOption("legend.position",e)}))},e.prototype.initLegendPadding=function(){var t=this,e=this.chartOptionsService.getChartOption("legend.spacing");this.legendPaddingSlider.setLabel(this.chartTranslationService.translate("spacing")).setMaxValue(getMaxValue(e,200)).setValue(""+e).setTextFieldWidth(45).onValueChange((function(e){return t.chartOptionsService.setChartOption("legend.spacing",e)}))},e.prototype.initLegendItems=function(){var t=this,e=function(e,i,o,n){var r=t.chartOptionsService.getChartOption("legend."+e);o.setLabel(t.chartTranslationService.translate(i)).setMaxValue(getMaxValue(r,n)).setValue(""+r).setTextFieldWidth(45).onValueChange((function(i){t.chartOptionsService.setChartOption("legend."+e,i)}))};e("item.marker.size","markerSize",this.markerSizeSlider,40),e("item.marker.strokeWidth","markerStroke",this.markerStrokeSlider,10),e("item.marker.padding","itemSpacing",this.markerPaddingSlider,20),e("item.paddingX","layoutHorizontalSpacing",this.itemPaddingXSlider,50),e("item.paddingY","layoutVerticalSpacing",this.itemPaddingYSlider,50)},e.prototype.initLabelPanel=function(){var t=this,e=this.chartOptionsService,i={enabled:!0,suppressEnabledCheckbox:!0,initialFont:{family:e.getChartOption("legend.item.label.fontFamily"),style:e.getChartOption("legend.item.label.fontStyle"),weight:e.getChartOption("legend.item.label.fontWeight"),size:e.getChartOption("legend.item.label.fontSize"),color:e.getChartOption("legend.item.label.color")},setFont:function(e){var i=t.chartOptionsService;e.family&&i.setChartOption("legend.item.label.fontFamily",e.family),e.weight&&i.setChartOption("legend.item.label.fontWeight",e.weight),e.style&&i.setChartOption("legend.item.label.fontStyle",e.style),e.size&&i.setChartOption("legend.item.label.fontSize",e.size),e.color&&i.setChartOption("legend.item.label.color",e.color)}},o=this.createBean(new FontPanel(i));this.legendGroup.addItem(o),this.activePanels.push(o)},e.prototype.destroyActivePanels=function(){var t=this;this.activePanels.forEach((function(e){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromParent(e.getGui()),t.destroyBean(e)}))},e.prototype.destroy=function(){this.destroyActivePanels(),t.prototype.destroy.call(this)},e.TEMPLATE='<div>\n            <ag-group-component ref="legendGroup">\n                <ag-select ref="legendPositionSelect"></ag-select>\n                <ag-slider ref="legendPaddingSlider"></ag-slider>\n                <ag-slider ref="markerSizeSlider"></ag-slider>\n                <ag-slider ref="markerStrokeSlider"></ag-slider>\n                <ag-slider ref="markerPaddingSlider"></ag-slider>\n                <ag-slider ref="itemPaddingXSlider"></ag-slider>\n                <ag-slider ref="itemPaddingYSlider"></ag-slider>\n            </ag-group-component>\n        </div>',__decorate$16([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("legendGroup")],e.prototype,"legendGroup",void 0),__decorate$16([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("legendPositionSelect")],e.prototype,"legendPositionSelect",void 0),__decorate$16([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("legendPaddingSlider")],e.prototype,"legendPaddingSlider",void 0),__decorate$16([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("markerSizeSlider")],e.prototype,"markerSizeSlider",void 0),__decorate$16([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("markerStrokeSlider")],e.prototype,"markerStrokeSlider",void 0),__decorate$16([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("markerPaddingSlider")],e.prototype,"markerPaddingSlider",void 0),__decorate$16([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("itemPaddingXSlider")],e.prototype,"itemPaddingXSlider",void 0),__decorate$16([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("itemPaddingYSlider")],e.prototype,"itemPaddingYSlider",void 0),__decorate$16([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],e.prototype,"chartTranslationService",void 0),__decorate$16([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$1A=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$15=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},AxisTicksPanel=function(t){function e(e){var i=t.call(this)||this;return i.chartOptionsService=e,i}return __extends$1A(e,t),e.prototype.init=function(){this.setTemplate(e.TEMPLATE,{axisTicksGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0}}),this.initAxisTicks()},e.prototype.initAxisTicks=function(){var t=this;this.axisTicksGroup.setTitle(this.chartTranslationService.translate("ticks")).hideOpenCloseIcons(!0).hideEnabledCheckbox(!0),this.axisTicksColorPicker.setLabel(this.chartTranslationService.translate("color")).setLabelWidth("flex").setInputWidth(45).setValue(this.chartOptionsService.getAxisProperty("tick.color")).onValueChange((function(e){return t.chartOptionsService.setAxisProperty("tick.color",e)}));var e=function(e,i,o,n){var r=t.chartOptionsService.getAxisProperty(e);i.setLabel(o).setMaxValue(getMaxValue(r,n)).setValue(""+r).setTextFieldWidth(45).onValueChange((function(i){return t.chartOptionsService.setAxisProperty(e,i)}))};e("tick.width",this.axisTicksWidthSlider,this.chartTranslationService.translate("width"),10),e("tick.size",this.axisTicksSizeSlider,this.chartTranslationService.translate("length"),30)},e.TEMPLATE='<div>\n            <ag-group-component ref="axisTicksGroup">\n                <ag-color-picker ref="axisTicksColorPicker"></ag-color-picker>\n                <ag-slider ref="axisTicksWidthSlider"></ag-slider>\n                <ag-slider ref="axisTicksSizeSlider"></ag-slider>\n            </ag-group-component>\n        </div>',__decorate$15([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("axisTicksGroup")],e.prototype,"axisTicksGroup",void 0),__decorate$15([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("axisTicksColorPicker")],e.prototype,"axisTicksColorPicker",void 0),__decorate$15([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("axisTicksWidthSlider")],e.prototype,"axisTicksWidthSlider",void 0),__decorate$15([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("axisTicksSizeSlider")],e.prototype,"axisTicksSizeSlider",void 0),__decorate$15([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],e.prototype,"chartTranslationService",void 0),__decorate$15([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$1z=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$14=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},AgAngleSelect=function(t){function e(i){var o=t.call(this,i,e.TEMPLATE)||this;return o.radius=0,o.offsetX=0,o.offsetY=0,o}return __extends$1z(e,t),e.prototype.postConstruct=function(){var e=this;t.prototype.postConstruct.call(this),this.dragListener={eElement:this.eParentCircle,dragStartPixels:0,onDragStart:function(t){e.parentCircleRect=e.eParentCircle.getBoundingClientRect()},onDragging:function(t){return e.calculateAngleDrag(t)},onDragStop:function(){}},this.dragService.addDragSource(this.dragListener),this.eAngleValue.setLabel("").setLabelWidth(5).setInputWidth(45).setMin(0).setMax(360).setValue(""+this.degrees).onValueChange((function(t){null!=t&&""!==t||(t="0"),t=e.eAngleValue.normalizeValue(t);var i=parseFloat(t);i>180&&(i-=360),e.setValue(i)})),this.updateNumberInput(),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(this.getValue())&&this.eAngleValue.setValue(this.normalizeNegativeValue(this.getValue()).toString()),this.addManagedListener(this,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.J8Z.EVENT_CHANGED,(function(){var t=e.gridOptionsService.getDocument();e.eAngleValue.getInputElement().contains(t.activeElement)||e.updateNumberInput()}))},e.prototype.updateNumberInput=function(){var t=this.normalizeNegativeValue(this.getValue());this.eAngleValue.setValue(t.toString())},e.prototype.positionChildCircle=function(t){var e=this.parentCircleRect||{width:24,height:24},i=this.eChildCircle,o=e.width/2,n=e.height/2;i.style.left=o+8*Math.cos(t)+"px",i.style.top=n+8*Math.sin(t)+"px"},e.prototype.calculatePolar=function(){var t=this.offsetX,e=this.offsetY,i=Math.atan2(e,t);this.degrees=this.toDegrees(i),this.radius=Math.sqrt(t*t+e*e),this.positionChildCircle(i)},e.prototype.calculateCartesian=function(){var t=this.toRadians(this.getValue()),e=this.getRadius();this.setOffsetX(Math.cos(t)*e).setOffsetY(Math.sin(t)*e)},e.prototype.setOffsetX=function(t){return this.offsetX!==t&&(this.offsetX=t,this.calculatePolar()),this},e.prototype.setOffsetY=function(t){return this.offsetY!==t&&(this.offsetY=t,this.calculatePolar()),this},e.prototype.calculateAngleDrag=function(t){var e=this.parentCircleRect,i=e.width/2,o=e.height/2,n=t.clientX-e.left-i,r=t.clientY-e.top-o,s=Math.atan2(r,n);this.setValue(s,!0)},e.prototype.toDegrees=function(t){return t/Math.PI*180},e.prototype.toRadians=function(t){return t/180*Math.PI},e.prototype.normalizeNegativeValue=function(t){return t<0?360+t:t},e.prototype.normalizeAngle180=function(t){return(t%=2*Math.PI)<-Math.PI?t+=2*Math.PI:t>=Math.PI&&(t-=2*Math.PI),t},e.prototype.getRadius=function(){return this.radius},e.prototype.setRadius=function(t){return this.radius===t||(this.radius=t,this.calculateCartesian()),this},e.prototype.onValueChange=function(t){var e=this;return this.addManagedListener(this,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.J8Z.EVENT_CHANGED,(function(){t(e.degrees)})),this},e.prototype.getValue=function(t){return t?this.toRadians(this.degrees):this.degrees},e.prototype.setValue=function(t,e){var i;return i=e?t:this.normalizeAngle180(this.toRadians(t)),t=this.toDegrees(i),this.degrees!==t&&(this.degrees=Math.floor(t),this.calculateCartesian(),this.positionChildCircle(i),this.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.J8Z.EVENT_CHANGED})),this},e.prototype.setWidth=function(t){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setFixedWidth(this.getGui(),t),this},e.prototype.setDisabled=function(e){return t.prototype.setDisabled.call(this,e),this.eAngleValue.setDisabled(e),this},e.prototype.destroy=function(){this.dragService.removeDragSource(this.dragListener),t.prototype.destroy.call(this)},e.TEMPLATE='<div class="ag-angle-select">\n            <div ref="eLabel"></div>\n            <div class="ag-wrapper ag-angle-select-wrapper">\n                <div ref="eAngleSelectField" class="ag-angle-select-field">\n                    <div ref="eParentCircle" class="ag-angle-select-parent-circle">\n                        <div ref="eChildCircle" class="ag-angle-select-child-circle"></div>\n                    </div>\n                </div>\n                <ag-input-number-field ref="eAngleValue"></ag-input-number-field>\n            </div>\n        </div>',__decorate$14([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eLabel")],e.prototype,"eLabel",void 0),__decorate$14([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eParentCircle")],e.prototype,"eParentCircle",void 0),__decorate$14([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eChildCircle")],e.prototype,"eChildCircle",void 0),__decorate$14([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eAngleValue")],e.prototype,"eAngleValue",void 0),__decorate$14([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("dragService")],e.prototype,"dragService",void 0),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.ZST),__extends$1y=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$13=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},AxisPanel=function(t){function e(e){var i=e.chartController,o=e.chartOptionsService,n=e.isExpandedOnInit,r=void 0!==n&&n,s=t.call(this)||this;return s.activePanels=[],s.axisLabelUpdateFuncs=[],s.prevXRotation=0,s.prevYRotation=0,s.chartController=i,s.chartOptionsService=o,s.isExpandedOnInit=r,s}return __extends$1y(e,t),e.prototype.init=function(){var t=this;this.setTemplate(e.TEMPLATE,{axisGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.initAxis(),this.initAxisTicks(),this.initAxisLabels();this.addManagedListener(this.chartController,ChartController.EVENT_CHART_UPDATED,(function(){return t.axisLabelUpdateFuncs.forEach((function(t){return t()}))}))},e.prototype.initAxis=function(){var t=this;this.axisGroup.setTitle(this.translate("axis")).toggleGroupExpand(this.isExpandedOnInit).hideEnabledCheckbox(!0),this.axisColorInput.setLabel(this.translate("color")).setLabelWidth("flex").setInputWidth(45).setValue(this.chartOptionsService.getAxisProperty("line.color")).onValueChange((function(e){return t.chartOptionsService.setAxisProperty("line.color",e)}));var e=this.chartOptionsService.getAxisProperty("line.width");this.axisLineWidthSlider.setMaxValue(getMaxValue(e,10)).setLabel(this.translate("thickness")).setTextFieldWidth(45).setValue(""+e).onValueChange((function(e){return t.chartOptionsService.setAxisProperty("line.width",e)}))},e.prototype.initAxisTicks=function(){var t=this.createBean(new AxisTicksPanel(this.chartOptionsService));this.axisGroup.addItem(t),this.activePanels.push(t)},e.prototype.initAxisLabels=function(){var t=this,e={family:this.chartOptionsService.getAxisProperty("label.fontFamily"),style:this.chartOptionsService.getAxisProperty("label.fontStyle"),weight:this.chartOptionsService.getAxisProperty("label.fontWeight"),size:this.chartOptionsService.getAxisProperty("label.fontSize"),color:this.chartOptionsService.getAxisProperty("label.color")},i={name:this.translate("labels"),enabled:!0,suppressEnabledCheckbox:!0,initialFont:e,setFont:function(e){e.family&&t.chartOptionsService.setAxisProperty("label.fontFamily",e.family),e.weight&&t.chartOptionsService.setAxisProperty("label.fontWeight",e.weight),e.style&&t.chartOptionsService.setAxisProperty("label.fontStyle",e.style),e.size&&t.chartOptionsService.setAxisProperty("label.fontSize",e.size),e.color&&t.chartOptionsService.setAxisProperty("label.color",e.color)}},o=this.createBean(new FontPanel(i));this.axisGroup.addItem(o),this.activePanels.push(o),this.addAdditionalLabelComps(o)},e.prototype.addAdditionalLabelComps=function(t){this.addLabelPadding(t);var e=this.createRotationWidgets(),i=e.xRotationComp,o=e.yRotationComp,n=this.initLabelRotations(i,o);t.addCompToPanel(n),t.addCompToPanel(i),t.addCompToPanel(o)},e.prototype.initLabelRotations=function(t,e){var i,o,n=this,r=function(t){return n.chartOptionsService.getLabelRotation(t)},s=function(t,e){n.chartOptionsService.setLabelRotation(t,e)},a=(i=r("xAxis"),o=r("yAxis"),null==i&&null==o&&n.chartOptionsService.getAxisProperty("label.autoRotate")),l=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jkc).setLabel(this.translate("autoRotate")).setValue(a).onValueChange((function(i){n.chartOptionsService.setAxisProperty("label.autoRotate",i),i?(n.prevXRotation=r("xAxis"),n.prevYRotation=r("yAxis"),s("xAxis",void 0),s("yAxis",void 0)):(s("xAxis",n.prevXRotation),s("yAxis",n.prevYRotation)),t.setDisabled(i),e.setDisabled(i)}));return t.setDisabled(a),e.setDisabled(a),l},e.prototype.createRotationWidgets=function(){var t=this,e=String.fromCharCode(176),i=function(i,o){var n=t.chartTranslationService.translate(i)+" "+e,r=t.chartOptionsService.getLabelRotation(o),s=(new AgAngleSelect).setLabel(n).setLabelWidth("flex").setValue(r||0).onValueChange((function(e){return t.chartOptionsService.setLabelRotation(o,e)}));return t.axisLabelUpdateFuncs.push((function(){var e=t.chartOptionsService.getLabelRotation(o);s.setValue(e||0)})),t.createBean(s)};return{xRotationComp:i("xRotation","xAxis"),yRotationComp:i("yRotation","yAxis")}},e.prototype.addLabelPadding=function(t){var e=this,i=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.h7_),o=this.chartOptionsService.getAxisProperty("label.padding");i.setLabel(this.chartTranslationService.translate("padding")).setMaxValue(getMaxValue(o,30)).setValue(""+o).setTextFieldWidth(45).onValueChange((function(t){return e.chartOptionsService.setAxisProperty("label.padding",t)})),t.addCompToPanel(i)},e.prototype.translate=function(t,e){return this.chartTranslationService.translate(t,e)},e.prototype.destroyActivePanels=function(){var t=this;this.activePanels.forEach((function(e){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromParent(e.getGui()),t.destroyBean(e)}))},e.prototype.destroy=function(){this.destroyActivePanels(),t.prototype.destroy.call(this)},e.TEMPLATE='<div>\n            <ag-group-component ref="axisGroup">\n                <ag-color-picker ref="axisColorInput"></ag-color-picker>\n                <ag-slider ref="axisLineWidthSlider"></ag-slider>\n            </ag-group-component>\n        </div>',__decorate$13([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("axisGroup")],e.prototype,"axisGroup",void 0),__decorate$13([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("axisColorInput")],e.prototype,"axisColorInput",void 0),__decorate$13([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("axisLineWidthSlider")],e.prototype,"axisLineWidthSlider",void 0),__decorate$13([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],e.prototype,"chartTranslationService",void 0),__decorate$13([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$1x=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$12=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},NavigatorPanel=function(t){function e(e){var i=e.chartOptionsService,o=e.isExpandedOnInit,n=void 0!==o&&o,r=t.call(this)||this;return r.chartOptionsService=i,r.isExpandedOnInit=n,r}return __extends$1x(e,t),e.prototype.init=function(){this.setTemplate(e.TEMPLATE,{navigatorGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.initNavigator()},e.prototype.initNavigator=function(){var t=this,e=this.chartTranslationService;this.navigatorGroup.setTitle(e.translate("navigator")).hideEnabledCheckbox(!1).setEnabled(this.chartOptionsService.getChartOption("navigator.enabled")||!1).onEnableChange((function(e){t.chartOptionsService.setChartOption("navigator.enabled",e),t.navigatorGroup.toggleGroupExpand(!0)})).toggleGroupExpand(this.isExpandedOnInit);var i=this.chartOptionsService.getChartOption("navigator.height");this.navigatorHeightSlider.setLabel(e.translate("height")).setMinValue(10).setMaxValue(getMaxValue(i,60)).setTextFieldWidth(45).setValue(""+(i||30)).onValueChange((function(e){return t.chartOptionsService.setChartOption("navigator.height",e)}))},e.prototype.destroy=function(){t.prototype.destroy.call(this)},e.TEMPLATE='<div>\n            <ag-group-component ref="navigatorGroup">\n                <ag-slider ref="navigatorHeightSlider"></ag-slider>\n            </ag-group-component>\n        </div>',__decorate$12([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("navigatorGroup")],e.prototype,"navigatorGroup",void 0),__decorate$12([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("navigatorHeightSlider")],e.prototype,"navigatorHeightSlider",void 0),__decorate$12([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],e.prototype,"chartTranslationService",void 0),__decorate$12([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$1w=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$11=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},PaddingPanel=function(t){function e(e,i){var o=t.call(this)||this;return o.chartOptionsService=e,o.chartController=i,o}return __extends$1w(e,t),e.prototype.init=function(){var t=this;this.setTemplate(e.TEMPLATE,{chartPaddingGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0}}),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_CHART_OPTIONS_CHANGED,(function(e){t.updateTopPadding(e.chartOptions)})),this.initGroup(),this.initChartPaddingItems()},e.prototype.initGroup=function(){this.chartPaddingGroup.setTitle(this.chartTranslationService.translate("padding")).hideOpenCloseIcons(!0).hideEnabledCheckbox(!0)},e.prototype.initChartPaddingItems=function(){var t=this,e=function(e,i){var o=t.chartOptionsService.getChartOption("padding."+e);i.setLabel(t.chartTranslationService.translate(e)).setMaxValue(getMaxValue(o,200)).setValue(""+o).setTextFieldWidth(45).onValueChange((function(i){return t.chartOptionsService.setChartOption("padding."+e,i)}))};e("top",this.paddingTopSlider),e("right",this.paddingRightSlider),e("bottom",this.paddingBottomSlider),e("left",this.paddingLeftSlider)},e.prototype.updateTopPadding=function(t){var e,i,o=null===(i=null===(e=t[this.chartController.getChartSeriesTypes()[0]])||void 0===e?void 0:e.padding)||void 0===i?void 0:i.top;null!=o&&this.paddingTopSlider.setValue(o)},e.TEMPLATE='<div>\n            <ag-group-component ref="chartPaddingGroup">\n                <ag-slider ref="paddingTopSlider"></ag-slider>\n                <ag-slider ref="paddingRightSlider"></ag-slider>\n                <ag-slider ref="paddingBottomSlider"></ag-slider>\n                <ag-slider ref="paddingLeftSlider"></ag-slider>\n            </ag-group-component>\n        <div>',__decorate$11([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("chartPaddingGroup")],e.prototype,"chartPaddingGroup",void 0),__decorate$11([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("paddingTopSlider")],e.prototype,"paddingTopSlider",void 0),__decorate$11([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("paddingRightSlider")],e.prototype,"paddingRightSlider",void 0),__decorate$11([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("paddingBottomSlider")],e.prototype,"paddingBottomSlider",void 0),__decorate$11([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("paddingLeftSlider")],e.prototype,"paddingLeftSlider",void 0),__decorate$11([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],e.prototype,"chartTranslationService",void 0),__decorate$11([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$1v=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$10=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},BackgroundPanel=function(t){function e(e){var i=t.call(this)||this;return i.chartOptionsService=e,i}return __extends$1v(e,t),e.prototype.init=function(){this.setTemplate(e.TEMPLATE,{chartBackgroundGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0}}),this.initGroup(),this.initColorPicker()},e.prototype.initGroup=function(){var t=this;this.group.setTitle(this.chartTranslationService.translate("background")).setEnabled(this.chartOptionsService.getChartOption("background.visible")).hideOpenCloseIcons(!0).hideEnabledCheckbox(!1).onEnableChange((function(e){return t.chartOptionsService.setChartOption("background.visible",e)}))},e.prototype.initColorPicker=function(){var t=this;this.colorPicker.setLabel(this.chartTranslationService.translate("color")).setLabelWidth("flex").setInputWidth(45).setValue(this.chartOptionsService.getChartOption("background.fill")).onValueChange((function(e){return t.chartOptionsService.setChartOption("background.fill",e)}))},e.TEMPLATE='<div>\n            <ag-group-component ref="chartBackgroundGroup">\n                <ag-color-picker ref="colorPicker"></ag-color-picker>\n            </ag-group-component>\n        <div>',__decorate$10([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("chartBackgroundGroup")],e.prototype,"group",void 0),__decorate$10([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("colorPicker")],e.prototype,"colorPicker",void 0),__decorate$10([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],e.prototype,"chartTranslationService",void 0),__decorate$10([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$1u=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$$=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},TitlePanel=function(t){function e(i){var o=t.call(this,e.TEMPLATE)||this;return o.chartOptionsService=i,o.activePanels=[],o}return __extends$1u(e,t),e.prototype.init=function(){this.initFontPanel(),this.titlePlaceholder=this.chartTranslationService.translate("titlePlaceholder")},e.prototype.hasTitle=function(){var t=this.getOption("title");return t&&t.enabled&&t.text&&t.text.length>0},e.prototype.initFontPanel=function(){var t=this,e=this.hasTitle(),i=function(e,i){e.family&&t.setOption("title.fontFamily",e.family,i),e.weight&&t.setOption("title.fontWeight",e.weight,i),e.style&&t.setOption("title.fontStyle",e.style,i),e.size&&t.setOption("title.fontSize",e.size,i),e.color&&t.setOption("title.color",e.color,i)},o={family:this.getOption("title.fontFamily"),style:this.getOption("title.fontStyle"),weight:this.getOption("title.fontWeight"),size:this.getOption("title.fontSize"),color:this.getOption("title.color")};e||i(o,!0);var n={name:this.chartTranslationService.translate("title"),enabled:e,suppressEnabledCheckbox:!1,initialFont:o,setFont:i,setEnabled:function(e){if(t.toolbarExists()){var i=t.getOption("padding.top");t.setOption("padding.top",e?i-20:i+20)}t.setOption("title.enabled",e);var o=t.getOption("title.text"),n="Title"===o||0===(null==o?void 0:o.trim().length);e&&n&&t.setOption("title.text",t.titlePlaceholder)}},r=this.createBean(new FontPanel(n));r.addItemToPanel(this.createSpacingSlicer()),this.getGui().appendChild(r.getGui()),this.activePanels.push(r),this.addManagedListener(this.eventService,"chartTitleEdit",(function(){r.setEnabled(t.hasTitle())}))},e.prototype.createSpacingSlicer=function(){var t=this,e=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.h7_),i=this.chartOptionsService.getChartOption("title.spacing");return e.setLabel(this.chartTranslationService.translate("spacing")).setMaxValue(Math.max(i,100)).setValue(""+i).setTextFieldWidth(45).onValueChange((function(e){return t.chartOptionsService.setChartOption("title.spacing",e)})),e},e.prototype.toolbarExists=function(){var t=this.gridOptionsService.getCallback("getChartToolbarItems");if(!t)return!0;var e={defaultItems:["chartUnlink","chartDownload"]};return["chartLink","chartUnlink","chartDownload"].some((function(i){var o;return null===(o=t&&t(e))||void 0===o?void 0:o.includes(i)}))},e.prototype.getOption=function(t){return this.chartOptionsService.getChartOption(t)},e.prototype.setOption=function(t,e,i){this.chartOptionsService.setChartOption(t,e,i)},e.prototype.destroyActivePanels=function(){var t=this;this.activePanels.forEach((function(e){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromParent(e.getGui()),t.destroyBean(e)}))},e.prototype.destroy=function(){this.destroyActivePanels(),t.prototype.destroy.call(this)},e.TEMPLATE="<div></div>",__decorate$$([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],e.prototype,"chartTranslationService",void 0),__decorate$$([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$1t=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$_=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},ChartPanel=function(t){function e(e){var i=e.chartController,o=e.chartOptionsService,n=e.isExpandedOnInit,r=void 0!==n&&n,s=t.call(this)||this;return s.activePanels=[],s.chartController=i,s.chartOptionsService=o,s.isExpandedOnInit=r,s}return __extends$1t(e,t),e.prototype.init=function(){this.setTemplate(e.TEMPLATE,{chartGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.initGroup(),this.initTitles(),this.initPaddingPanel(),this.initBackgroundPanel()},e.prototype.initGroup=function(){this.chartGroup.setTitle(this.chartTranslationService.translate("chart")).toggleGroupExpand(this.isExpandedOnInit).hideEnabledCheckbox(!0)},e.prototype.initTitles=function(){var t=this.createBean(new TitlePanel(this.chartOptionsService));this.chartGroup.addItem(t),this.activePanels.push(t)},e.prototype.initPaddingPanel=function(){var t=this.createBean(new PaddingPanel(this.chartOptionsService,this.chartController));this.chartGroup.addItem(t),this.activePanels.push(t)},e.prototype.initBackgroundPanel=function(){var t=this.createBean(new BackgroundPanel(this.chartOptionsService));this.chartGroup.addItem(t),this.activePanels.push(t)},e.prototype.destroyActivePanels=function(){var t=this;this.activePanels.forEach((function(e){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromParent(e.getGui()),t.destroyBean(e)}))},e.prototype.destroy=function(){this.destroyActivePanels(),t.prototype.destroy.call(this)},e.TEMPLATE='<div>\n            <ag-group-component ref="chartGroup"></ag-group-component>\n        </div>',__decorate$_([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("chartGroup")],e.prototype,"chartGroup",void 0),__decorate$_([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],e.prototype,"chartTranslationService",void 0),__decorate$_([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$1s=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$Z=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},ShadowPanel=function(t){function e(e,i){var o=t.call(this)||this;return o.chartOptionsService=e,o.getSelectedSeries=i,o}return __extends$1s(e,t),e.prototype.init=function(){this.setTemplate(e.TEMPLATE,{shadowGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0}}),this.shadowBlurSlider.setTextFieldWidth(45),this.shadowXOffsetSlider.setTextFieldWidth(45),this.shadowYOffsetSlider.setTextFieldWidth(45),this.initSeriesShadow()},e.prototype.initSeriesShadow=function(){var t=this;this.shadowGroup.setTitle(this.chartTranslationService.translate("shadow")).setEnabled(this.chartOptionsService.getSeriesOption("shadow.enabled",this.getSelectedSeries())).hideOpenCloseIcons(!0).hideEnabledCheckbox(!1).onEnableChange((function(e){return t.chartOptionsService.setSeriesOption("shadow.enabled",e,t.getSelectedSeries())})),this.shadowColorPicker.setLabel(this.chartTranslationService.translate("color")).setLabelWidth("flex").setInputWidth(45).setValue(this.chartOptionsService.getSeriesOption("shadow.color",this.getSelectedSeries())).onValueChange((function(e){return t.chartOptionsService.setSeriesOption("shadow.color",e,t.getSelectedSeries())}));var e=function(e,i,o,n){var r=t.chartOptionsService.getSeriesOption("shadow."+i,t.getSelectedSeries());e.setLabel(t.chartTranslationService.translate(i)).setMinValue(o).setMaxValue(getMaxValue(r,n)).setValue(""+r).onValueChange((function(e){return t.chartOptionsService.setSeriesOption("shadow."+i,e,t.getSelectedSeries())}))};e(this.shadowBlurSlider,"blur",0,20),e(this.shadowXOffsetSlider,"xOffset",-10,10),e(this.shadowYOffsetSlider,"yOffset",-10,10)},e.TEMPLATE='<div>\n            <ag-group-component ref="shadowGroup">\n                <ag-color-picker ref="shadowColorPicker"></ag-color-picker>\n                <ag-slider ref="shadowBlurSlider"></ag-slider>\n                <ag-slider ref="shadowXOffsetSlider"></ag-slider>\n                <ag-slider ref="shadowYOffsetSlider"></ag-slider>\n            </ag-group-component>\n        </div>',__decorate$Z([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("shadowGroup")],e.prototype,"shadowGroup",void 0),__decorate$Z([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("shadowColorPicker")],e.prototype,"shadowColorPicker",void 0),__decorate$Z([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("shadowBlurSlider")],e.prototype,"shadowBlurSlider",void 0),__decorate$Z([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("shadowXOffsetSlider")],e.prototype,"shadowXOffsetSlider",void 0),__decorate$Z([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("shadowYOffsetSlider")],e.prototype,"shadowYOffsetSlider",void 0),__decorate$Z([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],e.prototype,"chartTranslationService",void 0),__decorate$Z([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2);function initFontPanelParams(t){var e=t.labelName,i=t.chartOptionsService,o=t.getSelectedSeries,n=t.seriesOptionLabelProperty,r=function(t){return n+"."+t},s=function(t){var e=r(t);return i.getSeriesOption(e,o())},a=function(t,e){var n=r(t);i.setSeriesOption(n,e,o())},l={family:s("fontFamily"),style:s("fontStyle"),weight:s("fontWeight"),size:s("fontSize"),color:s("color")},c={name:e,enabled:s("enabled")||!1,setEnabled:function(t){return a("enabled",t)},suppressEnabledCheckbox:!1,initialFont:l,setFont:function(t){t.family&&a("fontFamily",t.family),t.weight&&a("fontWeight",t.weight),t.style&&a("fontStyle",t.style),t.size&&a("fontSize",t.size),t.color&&a("color",t.color)}};return c}var __extends$1r=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$Y=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},MarkersPanel=function(t){function e(e,i){var o=t.call(this)||this;return o.chartOptionsService=e,o.getSelectedSeries=i,o}return __extends$1r(e,t),e.prototype.init=function(){this.setTemplate(e.TEMPLATE,{seriesMarkersGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical"}}),this.initMarkers()},e.prototype.initMarkers=function(){var t=this;this.seriesMarkerShapeSelect.addOptions([{value:"square",text:"Square"},{value:"circle",text:"Circle"},{value:"cross",text:"Cross"},{value:"diamond",text:"Diamond"},{value:"plus",text:"Plus"},{value:"triangle",text:"Triangle"},{value:"heart",text:"Heart"}]).setLabel(this.chartTranslationService.translate("shape")).setValue(this.getSeriesOption("marker.shape")).onValueChange((function(e){return t.setSeriesOption("marker.shape",e)}));var e=this.chartOptionsService.getChartType(),i=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(["scatter","bubble"],e);this.seriesMarkersGroup.setTitle(this.chartTranslationService.translate("markers")).hideEnabledCheckbox(i).setEnabled(this.getSeriesOption("marker.enabled")||!1).hideOpenCloseIcons(!0).onEnableChange((function(e){return t.setSeriesOption("marker.enabled",e)}));var o=function(e,i,o,n){var r=t.getSeriesOption(e);i.setLabel(t.chartTranslationService.translate(o)).setMaxValue(getMaxValue(r,n)).setValue(""+r).setTextFieldWidth(45).onValueChange((function(i){return t.setSeriesOption(e,i)}))};"bubble"===e?(o("marker.maxSize",this.seriesMarkerMinSizeSlider,"maxSize",60),o("marker.size",this.seriesMarkerSizeSlider,"minSize",60)):(this.seriesMarkerMinSizeSlider.setDisplayed(!1),o("marker.size",this.seriesMarkerSizeSlider,"size",60)),o("marker.strokeWidth",this.seriesMarkerStrokeWidthSlider,"strokeWidth",10)},e.prototype.getSeriesOption=function(t){return this.chartOptionsService.getSeriesOption(t,this.getSelectedSeries())},e.prototype.setSeriesOption=function(t,e){this.chartOptionsService.setSeriesOption(t,e,this.getSelectedSeries())},e.TEMPLATE='<div>\n            <ag-group-component ref="seriesMarkersGroup">\n                <ag-select ref="seriesMarkerShapeSelect"></ag-select>\n                <ag-slider ref="seriesMarkerMinSizeSlider"></ag-slider>\n                <ag-slider ref="seriesMarkerSizeSlider"></ag-slider>\n                <ag-slider ref="seriesMarkerStrokeWidthSlider"></ag-slider>\n            </ag-group-component>\n        </div>',__decorate$Y([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("seriesMarkersGroup")],e.prototype,"seriesMarkersGroup",void 0),__decorate$Y([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("seriesMarkerShapeSelect")],e.prototype,"seriesMarkerShapeSelect",void 0),__decorate$Y([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("seriesMarkerSizeSlider")],e.prototype,"seriesMarkerSizeSlider",void 0),__decorate$Y([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("seriesMarkerMinSizeSlider")],e.prototype,"seriesMarkerMinSizeSlider",void 0),__decorate$Y([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("seriesMarkerStrokeWidthSlider")],e.prototype,"seriesMarkerStrokeWidthSlider",void 0),__decorate$Y([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],e.prototype,"chartTranslationService",void 0),__decorate$Y([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$1q=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$X=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},CalloutPanel=function(t){function e(e,i){var o=t.call(this)||this;return o.chartOptionsService=e,o.getSelectedSeries=i,o}return __extends$1q(e,t),e.prototype.init=function(){this.setTemplate(e.TEMPLATE,{calloutGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical"}}),this.initCalloutOptions()},e.prototype.initCalloutOptions=function(){var t=this;this.calloutGroup.setTitle(this.chartTranslationService.translate("callout")).setEnabled(!0).hideOpenCloseIcons(!0).hideEnabledCheckbox(!0);var e=function(e,i,o,n){var r=t.chartOptionsService.getSeriesOption(e,t.getSelectedSeries());i.setLabel(t.chartTranslationService.translate(o)).setMaxValue(getMaxValue(r,n)).setValue(""+r).setTextFieldWidth(45).onValueChange((function(i){return t.chartOptionsService.setSeriesOption(e,i,t.getSelectedSeries())}))};e("calloutLine.length",this.calloutLengthSlider,"length",40),e("calloutLine.strokeWidth",this.calloutStrokeWidthSlider,"strokeWidth",10),e("calloutLabel.offset",this.labelOffsetSlider,"offset",30)},e.TEMPLATE='<div>\n            <ag-group-component ref="calloutGroup">\n                <ag-slider ref="calloutLengthSlider"></ag-slider>\n                <ag-slider ref="calloutStrokeWidthSlider"></ag-slider>\n                <ag-slider ref="labelOffsetSlider"></ag-slider>\n            </ag-group-component>\n        </div>',__decorate$X([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("calloutGroup")],e.prototype,"calloutGroup",void 0),__decorate$X([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("calloutLengthSlider")],e.prototype,"calloutLengthSlider",void 0),__decorate$X([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("calloutStrokeWidthSlider")],e.prototype,"calloutStrokeWidthSlider",void 0),__decorate$X([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("labelOffsetSlider")],e.prototype,"labelOffsetSlider",void 0),__decorate$X([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],e.prototype,"chartTranslationService",void 0),__decorate$X([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$1p=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$W=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},SeriesPanel=function(t){function e(e){var i=e.chartController,o=e.chartOptionsService,n=e.seriesType,r=e.isExpandedOnInit,s=void 0!==r&&r,a=t.call(this)||this;return a.activePanels=[],a.widgetFuncs={lineWidth:function(){return a.initLineWidth()},strokeWidth:function(){return a.initStrokeWidth()},lineDash:function(){return a.initLineDash()},lineOpacity:function(){return a.initLineOpacity()},fillOpacity:function(){return a.initFillOpacity()},markers:function(){return a.initMarkers()},labels:function(){return a.initLabels()},shadow:function(){return a.initShadow()},tooltips:function(){return a.initTooltips()},bins:function(){return a.initBins()}},a.seriesWidgetMappings={area:["tooltips","lineWidth","lineDash","lineOpacity","fillOpacity","markers","labels","shadow"],bar:["tooltips","strokeWidth","lineDash","lineOpacity","fillOpacity","labels","shadow"],column:["tooltips","strokeWidth","lineDash","lineOpacity","fillOpacity","labels","shadow"],line:["tooltips","lineWidth","lineDash","lineOpacity","markers","labels"],histogram:["tooltips","bins","strokeWidth","lineDash","lineOpacity","fillOpacity","labels","shadow"],scatter:["tooltips","markers","labels"],pie:["tooltips","strokeWidth","lineOpacity","fillOpacity","labels","shadow"]},a.chartController=i,a.chartOptionsService=o,a.seriesType=n||a.getChartSeriesType(),a.isExpandedOnInit=s,a}return __extends$1p(e,t),e.prototype.init=function(){this.setTemplate(e.TEMPLATE,{seriesGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.seriesGroup.setTitle(this.translate("series")).toggleGroupExpand(this.isExpandedOnInit).hideEnabledCheckbox(!0),this.addManagedListener(this.chartController,ChartController.EVENT_CHART_SERIES_CHART_TYPE_CHANGED,this.refreshWidgets.bind(this)),this.refreshWidgets()},e.prototype.refreshWidgets=function(){var t=this;this.destroyActivePanels(),this.chartController.getChartProxy().getChart().waitForUpdate().then((function(){t.chartController.isComboChart()&&(t.updateSeriesType(),t.initSeriesSelect()),t.seriesWidgetMappings[t.seriesType].forEach((function(e){return t.widgetFuncs[e]()}))}))},e.prototype.initSeriesSelect=function(){var t=this,e=this.seriesGroup.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wGv);e.setLabel(this.translate("seriesType")).setLabelAlignment("left").setLabelWidth("flex").setInputWidth(100).addOptions(this.getSeriesSelectOptions()).setValue(""+this.seriesType).onValueChange((function(e){t.seriesType=e,t.refreshWidgets()})),this.seriesGroup.addItem(e),this.activePanels.push(e)},e.prototype.initTooltips=function(){var t=this,e=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.nN0);e.setLabel(this.translate("tooltips")).setLabelAlignment("left").setLabelWidth("flex").setInputWidth(45).setValue(this.getSeriesOption("tooltip.enabled")||!1).onValueChange((function(e){return t.setSeriesOption("tooltip.enabled",e)})),this.addWidget(e)},e.prototype.initStrokeWidth=function(){var t=this,e=this.getSeriesOption("strokeWidth"),i=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.h7_);i.setLabel(this.translate("strokeWidth")).setMaxValue(getMaxValue(e,10)).setTextFieldWidth(45).setValue(""+e).onValueChange((function(e){return t.setSeriesOption("strokeWidth",e)})),this.addWidget(i)},e.prototype.initLineWidth=function(){var t=this,e=this.getSeriesOption("strokeWidth"),i=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.h7_);i.setLabel(this.translate("lineWidth")).setMaxValue(getMaxValue(e,10)).setTextFieldWidth(45).setValue(""+e).onValueChange((function(e){return t.setSeriesOption("strokeWidth",e)})),this.addWidget(i)},e.prototype.initLineDash=function(){var t=this,e=this.getSeriesOption("lineDash"),i=e?e[0]:0,o=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.h7_);o.setLabel(this.translate("lineDash")).setMaxValue(getMaxValue(i,30)).setTextFieldWidth(45).setValue(""+i).onValueChange((function(e){return t.setSeriesOption("lineDash",[e])})),this.addWidget(o)},e.prototype.initLineOpacity=function(){var t=this,e=this.getSeriesOption("strokeOpacity"),i=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.h7_);i.setLabel(this.translate("strokeOpacity")).setStep(.05).setMaxValue(getMaxValue(e,1)).setTextFieldWidth(45).setValue(""+e).onValueChange((function(e){return t.setSeriesOption("strokeOpacity",e)})),this.addWidget(i)},e.prototype.initFillOpacity=function(){var t=this,e=this.getSeriesOption("fillOpacity"),i=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.h7_);i.setLabel(this.translate("fillOpacity")).setStep(.05).setMaxValue(getMaxValue(e,1)).setTextFieldWidth(45).setValue(""+e).onValueChange((function(e){return t.setSeriesOption("fillOpacity",e)})),this.addWidget(i)},e.prototype.initLabels=function(){var t=this,e="pie"===this.seriesType?"calloutLabel":"label",i=initFontPanelParams({labelName:"pie"===this.seriesType?this.chartTranslationService.translate("calloutLabels"):this.chartTranslationService.translate("labels"),chartOptionsService:this.chartOptionsService,getSelectedSeries:function(){return t.seriesType},seriesOptionLabelProperty:e}),o=this.createBean(new FontPanel(i));if("pie"===this.seriesType){var n=this.createBean(new CalloutPanel(this.chartOptionsService,(function(){return t.seriesType})));o.addCompToPanel(n),this.activePanels.push(n)}if(this.addWidget(o),"pie"===this.seriesType){var r=initFontPanelParams({labelName:this.chartTranslationService.translate("sectorLabels"),chartOptionsService:this.chartOptionsService,getSelectedSeries:function(){return t.seriesType},seriesOptionLabelProperty:"sectorLabel"}),s=this.createBean(new FontPanel(r)),a=this.getSectorLabelPositionRatio();s.addCompToPanel(a),this.addWidget(s)}},e.prototype.getSectorLabelPositionRatio=function(){var t=this,e="sectorLabel.positionRatio",i=this.chartOptionsService.getSeriesOption(e,this.seriesType);return this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.h7_).setLabel(this.translate("positionRatio")).setStep(.05).setMaxValue(getMaxValue(i,1)).setTextFieldWidth(45).setValue(""+i).onValueChange((function(i){return t.chartOptionsService.setSeriesOption(e,i,t.seriesType)}))},e.prototype.initShadow=function(){var t=this,e=this.createBean(new ShadowPanel(this.chartOptionsService,(function(){return t.seriesType})));this.addWidget(e)},e.prototype.initMarkers=function(){var t=this,e=this.createBean(new MarkersPanel(this.chartOptionsService,(function(){return t.seriesType})));this.addWidget(e)},e.prototype.initBins=function(){var t=this,e=this.getSeriesOption("bins").length,i=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.h7_);i.setLabel(this.translate("histogramBinCount")).setMinValue(0).setMaxValue(getMaxValue(e,20)).setTextFieldWidth(45).setValue(""+e).onValueChange((function(e){return t.setSeriesOption("binCount",e)})),this.addWidget(i)},e.prototype.addWidget=function(t){this.seriesGroup.addItem(t),this.activePanels.push(t)},e.prototype.getSeriesOption=function(t){return this.chartOptionsService.getSeriesOption(t,this.seriesType)},e.prototype.setSeriesOption=function(t,e){this.chartOptionsService.setSeriesOption(t,e,this.seriesType)},e.prototype.getChartSeriesType=function(){if(0===this.chartController.getSeriesChartTypes().length)return"column";var t=this.chartController.getSeriesChartTypes()[0].chartType;return"columnLineCombo"===t?"column":"areaColumnCombo"===t?"area":getSeriesType(t)},e.prototype.getSeriesSelectOptions=function(){var t=this;this.seriesSelectOptions||(this.seriesSelectOptions=new Map([["area",{value:"area",text:this.translate("area","Area")}],["bar",{value:"bar",text:this.translate("bar","Bar")}],["column",{value:"column",text:this.translate("column","Column")}],["line",{value:"line",text:this.translate("line","Line")}],["scatter",{value:"scatter",text:this.translate("scatter","Scatter")}],["histogram",{value:"histogram",text:this.translate("histogram","Histogram")}],["pie",{value:"pie",text:this.translate("pie","Pie")}]]));var e=new Set;return this.chartController.getActiveSeriesChartTypes().forEach((function(i){var o=getSeriesType(i.chartType);e.add(t.seriesSelectOptions.get(o))})),Array.from(e)},e.prototype.updateSeriesType=function(){var t=this.chartController.getActiveSeriesChartTypes().map((function(t){return getSeriesType(t.chartType)}));!t.includes(this.seriesType)&&t.length>0&&(this.seriesType=t[0])},e.prototype.translate=function(t,e){return this.chartTranslationService.translate(t,e)},e.prototype.destroyActivePanels=function(){var t=this;this.activePanels.forEach((function(e){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromParent(e.getGui()),t.destroyBean(e)}))},e.prototype.destroy=function(){this.destroyActivePanels(),t.prototype.destroy.call(this)},e.TEMPLATE='<div>\n            <ag-group-component ref="seriesGroup">\n            </ag-group-component>\n        </div>',__decorate$W([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("seriesGroup")],e.prototype,"seriesGroup",void 0),__decorate$W([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],e.prototype,"chartTranslationService",void 0),__decorate$W([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$1o=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$V=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s};function getMaxValue(t,e){return Math.max(t,e)}var DefaultFormatPanelDef={groups:[{type:"chart"},{type:"legend"},{type:"series"},{type:"axis"},{type:"navigator"}]},FormatPanel=function(t){function e(i,o){var n=t.call(this,e.TEMPLATE)||this;return n.chartController=i,n.chartOptionsService=o,n.panels=[],n.isGroupPanelShownInSeries=function(t,e){if(["chart","legend","series"].includes(t))return!0;return!(!["axis","navigator"].includes(t)||!["bar","column","line","area","scatter","histogram","cartesian"].includes(e))},n}return __extends$1o(e,t),e.prototype.init=function(){this.createPanels(),this.addManagedListener(this.chartController,ChartController.EVENT_CHART_UPDATED,this.createPanels.bind(this))},e.prototype.createPanels=function(){var t,e=this,i=this.chartController.getChartType(),o=this.chartController.isGrouping(),n=getSeriesType(i);i===this.chartType&&o===this.isGrouping||(this.destroyPanels(),null===(t=this.getFormatPanelDef().groups)||void 0===t||t.forEach((function(t){var i=t.type;if(e.isGroupPanelShownInSeries(i,n)){var o={chartController:e.chartController,chartOptionsService:e.chartOptionsService,isExpandedOnInit:t.isOpen,seriesType:n};"chart"===i?e.addComponent(new ChartPanel(o)):"legend"===i?e.addComponent(new LegendPanel(o)):"axis"===i?e.addComponent(new AxisPanel(o)):"series"===i?e.addComponent(new SeriesPanel(o)):"navigator"===i?e.addComponent(new NavigatorPanel(o)):console.warn("AG Grid: invalid charts format panel group name supplied: '"+t.type+"'")}})),this.chartType=i,this.isGrouping=o)},e.prototype.getFormatPanelDef=function(){var t,e=null===(t=this.gridOptionsService.get("chartToolPanelsDef"))||void 0===t?void 0:t.formatPanel;return e||DefaultFormatPanelDef},e.prototype.addComponent=function(t){this.createBean(t),this.panels.push(t),t.addCssClass("ag-chart-format-section"),this.getGui().appendChild(t.getGui())},e.prototype.destroyPanels=function(){var t=this;this.panels.forEach((function(e){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromParent(e.getGui()),t.destroyBean(e)}))},e.prototype.destroy=function(){this.destroyPanels(),t.prototype.destroy.call(this)},e.TEMPLATE='<div class="ag-chart-format-wrapper"></div>',__decorate$V([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$1n=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$U=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},MiniChart=function(t){function e(e,i){var o=t.call(this)||this;o.size=58,o.padding=5,o.root=new Group;var n=new Scene({document:window.document,width:o.size,height:o.size});return n.canvas.element.classList.add("ag-chart-mini-thumbnail-canvas"),n.root=o.root,n.container=e,o.scene=n,o.tooltipName=i,o}return __extends$1n(e,t),e.prototype.init=function(){this.scene.canvas.element.title=this.chartTranslationService.translate(this.tooltipName),this.scene.render()},__decorate$U([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],e.prototype,"chartTranslationService",void 0),__decorate$U([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$1m=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$T=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},MiniChartWithAxes=function(t){function e(e,i){var o=t.call(this,e,i)||this;return o.stroke="gray",o.axisOvershoot=3,o}return __extends$1m(e,t),e.prototype.addAxes=function(){var t=this.size,e=this.padding,i=new Line;i.x1=e,i.y1=e,i.x2=e,i.y2=t-e+this.axisOvershoot,i.stroke=this.stroke;var o=new Line;o.x1=e-this.axisOvershoot+1,o.y1=t-e,o.x2=t-e+1,o.y2=t-e,o.stroke=this.stroke;var n=this.root;n.append(i),n.append(o)},__decorate$T([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"addAxes",null),e}(MiniChart);function createColumnRects(t){var e=t.stacked,i=t.size,o=t.padding,n=t.xScalePadding,r=t.xScaleDomain,s=t.yScaleDomain,a=new BandScale$5;a.domain=r,a.range=[o,i-o],a.paddingInner=n,a.paddingOuter=n;var l=new LinearScale$1;l.domain=s,l.range=[i-o,o];var c=function(t,e,i){return t.map((function(t,o){var n=i.convert(t),r=new Rect;return r.x=e.convert(o),r.y=n,r.width=e.bandwidth,r.height=i.convert(0)-n,r.strokeWidth=1,r.crisp=!0,r}))};return e?t.data.map((function(t){return c(t,a,l)})):c(t.data,a,l)}function createLinePaths(t,e,i,o){var n=new LinearScale$1;n.domain=[0,4],n.range=[o,i-o];var r=new LinearScale$1;r.domain=[0,10],r.range=[i-o,o];var s=e.map((function(t){var e=new Path;return e.strokeWidth=3,e.lineCap="round",e.fill=void 0,t.forEach((function(t,i){e.path[i>0?"lineTo":"moveTo"](n.convert(i),r.convert(t))})),e})),a=new Group;return a.setClipRectInGroupCoordinateSpace(new BBox(o,o,i-2*o,i-2*o)),a.append(s),t.append(a),s}var __extends$1l=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),MiniColumn=function(t){function e(e,i,o){var n=t.call(this,e,"groupedColumnTooltip")||this;n.columnData=[2,3,4];var r=n,s=r.root,a=r.columnData,l=r.size,c=r.padding;return n.columns=createColumnRects({stacked:!1,root:s,data:a,size:l,padding:c,xScaleDomain:[0,1,2],yScaleDomain:[0,4],xScalePadding:.3}),s.append(n.columns),n.updateColors(i,o),n}return __extends$1l(e,t),e.prototype.updateColors=function(t,e){this.columns.forEach((function(i,o){i.fill=t[o],i.stroke=e[o]}))},e.chartType="groupedColumn",e}(MiniChartWithAxes),__extends$1k=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),MiniStackedColumn=function(t){function e(i,o,n,r,s,a){void 0===r&&(r=e.data),void 0===s&&(s=[0,16]),void 0===a&&(a="stackedColumnTooltip");var l=t.call(this,i,a)||this,c=l,u=c.root,h=c.size,d=c.padding;return l.stackedColumns=createColumnRects({stacked:!0,root:u,data:r,size:h,padding:d,xScaleDomain:[0,1,2],yScaleDomain:s,xScalePadding:.3}),u.append([].concat.apply([],l.stackedColumns)),l.updateColors(o,n),l}return __extends$1k(e,t),e.prototype.updateColors=function(t,e){this.stackedColumns.forEach((function(i,o){return i.forEach((function(i){i.fill=t[o],i.stroke=e[o]}))}))},e.chartType="stackedColumn",e.data=[[8,12,16],[6,9,12],[2,3,4]],e}(MiniChartWithAxes),__extends$1j=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),MiniNormalizedColumn=function(t){function e(i,o,n){return t.call(this,i,o,n,e.data,[0,10],"normalizedColumnTooltip")||this}return __extends$1j(e,t),e.chartType="normalizedColumn",e.data=[[10,10,10],[6,7,8],[2,4,6]],e}(MiniStackedColumn),__extends$1i=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),MiniBar=function(t){function e(e,i,o){var n=t.call(this,e,"groupedBarTooltip")||this,r=n.padding,s=n.size,a=new BandScale$5;a.domain=[0,1,2],a.range=[r,s-r],a.paddingInner=.3,a.paddingOuter=.3;var l=new LinearScale$1;l.domain=[0,4],l.range=[s-r,r];var c=l.convert(0),u=a.bandwidth;return n.bars=[2,3,4].map((function(t,e){var i=new Rect;return i.x=r,i.y=a.convert(e),i.width=c-l.convert(t),i.height=u,i.strokeWidth=1,i.crisp=!0,i})),n.updateColors(i,o),n.root.append(n.bars),n}return __extends$1i(e,t),e.prototype.updateColors=function(t,e){this.bars.forEach((function(i,o){i.fill=t[o],i.stroke=e[o]}))},e.chartType="groupedBar",e}(MiniChartWithAxes),__extends$1h=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),MiniStackedBar=function(t){function e(i,o,n,r,s,a){void 0===r&&(r=e.data),void 0===s&&(s=[0,16]),void 0===a&&(a="stackedBarTooltip");var l=t.call(this,i,a)||this,c=l.size,u=l.padding,h=new BandScale$5;h.domain=[0,1,2],h.range=[u,c-u],h.paddingInner=.3,h.paddingOuter=.3;var d=new LinearScale$1;d.domain=s,d.range=[c-u,u];var p=d.convert(0),f=h.bandwidth;return l.bars=r.map((function(t){return t.map((function(t,e){var i=new Rect;return i.x=u,i.y=h.convert(e),i.width=p-d.convert(t),i.height=f,i.strokeWidth=1,i.crisp=!0,i}))})),l.updateColors(o,n),l.root.append([].concat.apply([],l.bars)),l}return __extends$1h(e,t),e.prototype.updateColors=function(t,e){this.bars.forEach((function(i,o){return i.forEach((function(i){i.fill=t[o],i.stroke=e[o]}))}))},e.chartType="stackedBar",e.data=[[8,12,16],[6,9,12],[2,3,4]],e}(MiniChartWithAxes),__extends$1g=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),MiniNormalizedBar=function(t){function e(i,o,n){return t.call(this,i,o,n,e.data,[0,10],"normalizedBarTooltip")||this}return __extends$1g(e,t),e.chartType="normalizedBar",e.data=[[10,10,10],[6,7,8],[2,4,6]],e}(MiniStackedBar),__extends$1f=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__read$j=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,n,r=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return s},toRadians=toRadians$1,MiniDoughnut=function(t){function e(e,i,o,n,r){void 0===n&&(n=.6),void 0===r&&(r="doughnutTooltip");var s=t.call(this,e,r)||this,a=(s.size-2*s.padding)/2,l=a+s.padding,c=[[toRadians(-90),toRadians(30)],[toRadians(30),toRadians(120)],[toRadians(120),toRadians(180)],[toRadians(180),toRadians(210)],[toRadians(210),toRadians(240)],[toRadians(240),toRadians(270)]];return s.sectors=c.map((function(t){var e=__read$j(t,2),i=e[0],o=e[1],r=new Sector;return r.centerX=l,r.centerY=l,r.innerRadius=a*n,r.outerRadius=a,r.startAngle=i,r.endAngle=o,r.stroke=void 0,r.strokeWidth=1,r})),s.updateColors(i,o),s.root.append(s.sectors),s}return __extends$1f(e,t),e.prototype.updateColors=function(t,e){this.sectors.forEach((function(i,o){i.fill=t[o%t.length],i.stroke=e[o%e.length]}))},e.chartType="doughnut",e}(MiniChart),__extends$1e=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),MiniPie=function(t){function e(e,i,o){return t.call(this,e,i,o,0,"pieTooltip")||this}return __extends$1e(e,t),e.chartType="pie",e}(MiniDoughnut),__extends$1d=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),MiniLine=function(t){function e(e,i,o){var n=t.call(this,e,"lineTooltip")||this;return n.data=[[9,7,8,5,6],[5,6,3,4,1],[1,3,4,8,7]],n.lines=createLinePaths(n.root,n.data,n.size,n.padding),n.updateColors(i,o),n}return __extends$1d(e,t),e.prototype.updateColors=function(t,e){this.lines.forEach((function(e,i){e.stroke=t[i]}))},e.chartType="line",e}(MiniChartWithAxes),__extends$1c=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__read$i=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,n,r=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return s},MiniScatter=function(t){function e(e,i,o){var n=t.call(this,e,"scatterTooltip")||this,r=n.size,s=n.padding,a=new LinearScale$1;a.domain=[-.5,4],a.range=[2*s,r-s];var l=new LinearScale$1;l.domain=[-.5,3.5],l.range=[r-s,s];var c=[];[[[.3,3],[1.1,.9],[2,.4],[3.4,2.4]],[[0,.3],[1,2],[2.4,1.4],[3,0]]].forEach((function(t){t.forEach((function(t){var e=__read$i(t,2),i=e[0],o=e[1],n=new Arc;n.strokeWidth=1,n.centerX=a.convert(i),n.centerY=l.convert(o),n.radius=2.5,c.push(n)}))})),n.points=c,n.updateColors(i,o);var u=new Group;return u.setClipRectInGroupCoordinateSpace(new BBox(s,s,r-2*s,r-2*s)),u.append(n.points),n.root.append(u),n}return __extends$1c(e,t),e.prototype.updateColors=function(t,e){this.points.forEach((function(i,o){i.stroke=e[o%e.length],i.fill=t[o%t.length]}))},e.chartType="scatter",e}(MiniChartWithAxes),__extends$1b=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__read$h=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,n,r=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return s},MiniBubble=function(t){function e(e,i,o){var n=t.call(this,e,"bubbleTooltip")||this,r=n.size,s=n.padding,a=new LinearScale$1;a.domain=[0,1],a.range=[2*s,r-s];var l=new LinearScale$1;l.domain=[0,1],l.range=[r-s,s];var c=[];[[[.1,.3,5],[.5,.4,7],[.2,.8,7]],[[.8,.7,5],[.7,.3,9]]].forEach((function(t){t.forEach((function(t){var e=__read$h(t,3),i=e[0],o=e[1],n=e[2],r=new Arc;r.strokeWidth=1,r.centerX=a.convert(i),r.centerY=l.convert(o),r.radius=n,r.fillOpacity=.7,c.push(r)}))})),n.points=c,n.updateColors(i,o);var u=new Group;return u.setClipRectInGroupCoordinateSpace(new BBox(s,s,r-2*s,r-2*s)),u.append(n.points),n.root.append(u),n}return __extends$1b(e,t),e.prototype.updateColors=function(t,e){this.points.forEach((function(i,o){i.stroke=e[o%e.length],i.fill=t[o%t.length]}))},e.chartType="bubble",e}(MiniChartWithAxes),__extends$1a=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),MiniArea=function(t){function e(i,o,n,r){void 0===r&&(r=e.data);var s=t.call(this,i,"groupedAreaTooltip")||this,a=s.size,l=s.padding,c=new BandScale$5;c.domain=[0,1,2],c.paddingInner=1,c.paddingOuter=0,c.range=[l+.5,a-l-.5];var u=new LinearScale$1;u.domain=[0,6],u.range=[a-l+.5,l];var h=2*r.length-1,d=[],p=u.convert(0);return r.forEach((function(t,e){var i=c.convert(e);t.forEach((function(t,o){var n=u.convert(t),r=d[o]||(d[o]=[]);r[e]={x:i,y:n},r[h-e]={x:i,y:p}}))})),s.areas=d.reverse().map((function(t){var e=new Path;e.strokeWidth=1,e.fillOpacity=.7;var i=e.path;return i.clear(),t.forEach((function(t,e){return i[e>0?"lineTo":"moveTo"](t.x,t.y)})),i.closePath(),e})),s.updateColors(o,n),s.root.append(s.areas),s}return __extends$1a(e,t),e.prototype.updateColors=function(t,e){this.areas.forEach((function(i,o){i.fill=t[o],i.stroke=e[o]}))},e.chartType="area",e.data=[[1,3,5],[2,6,4],[5,3,1]],e}(MiniChartWithAxes),__extends$19=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),MiniStackedArea=function(t){function e(i,o,n,r,s){void 0===r&&(r=e.data),void 0===s&&(s="stackedAreaTooltip");var a=t.call(this,i,s)||this,l=a.size,c=a.padding,u=new BandScale$5;u.domain=[0,1,2],u.paddingInner=1,u.paddingOuter=0,u.range=[c+.5,l-c-.5];var h=new LinearScale$1;h.domain=[0,16],h.range=[l-c+.5,c+.5];var d=2*r.length-1,p=[];return r.forEach((function(t,e){var i=u.convert(e),o=0;t.forEach((function(t,n){var r=h.convert(o+t),s=p[n]||(p[n]=[]);s[e]={x:i,y:r},s[d-e]={x:i,y:h.convert(o)},o+=t}))})),a.areas=p.map((function(t){var e=new Path;e.strokeWidth=1;var i=e.path;return i.clear(),t.forEach((function(t,e){return i[e>0?"lineTo":"moveTo"](t.x,t.y)})),i.closePath(),e})),a.updateColors(o,n),a.root.append(a.areas),a}return __extends$19(e,t),e.prototype.updateColors=function(t,e){this.areas.forEach((function(i,o){i.fill=t[o],i.stroke=e[o]}))},e.chartType="stackedArea",e.data=[[2,3,2],[3,6,5],[6,2,2]],e}(MiniChartWithAxes),__extends$18=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),MiniNormalizedArea=function(t){function e(i,o,n,r){return void 0===r&&(r=e.data),t.call(this,i,o,n,r,"normalizedAreaTooltip")||this}return __extends$18(e,t),e.chartType="normalizedArea",e.data=MiniStackedArea.data.map((function(t){var e=t.reduce((function(t,e){return t+e}),0);return t.map((function(t){return t/e*16}))})),e}(MiniStackedArea),__extends$17=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__read$g=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,n,r=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return s},MiniHistogram=function(t){function e(e,i,o){var n=t.call(this,e,"histogramTooltip")||this,r=n.padding,s=n.size,a=[2,5,11,13,10,6,1],l=new LinearScale$1;l.domain=[0,a.length],l.range=[r,s-r];var c=new LinearScale$1;c.domain=[0,a.reduce((function(t,e){return Math.max(t,e)}),0)],c.range=[s-r,r];var u=c.convert(0);return n.bars=a.map((function(t,e){var i=c.convert(t),o=l.convert(e),n=l.convert(e+1),r=new Rect;return r.x=o,r.y=i,r.width=n-o,r.height=u-i,r.strokeWidth=1,r.crisp=!0,r})),n.updateColors(i,o),n.root.append(n.bars),n}return __extends$17(e,t),e.prototype.updateColors=function(t,e){var i=__read$g(t,1)[0],o=__read$g(e,1)[0];this.bars.forEach((function(t){t.fill=i,t.stroke=o}))},e.chartType="histogram",e}(MiniChartWithAxes),__extends$16=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),MiniColumnLineCombo=function(t){function e(e,i,o){var n=t.call(this,e,"columnLineComboTooltip")||this;n.columnData=[3,4],n.lineData=[[5,4,6,5,4]];var r=n,s=r.root,a=r.columnData,l=r.lineData,c=r.size,u=r.padding;return n.columns=createColumnRects({stacked:!1,root:s,data:a,size:c,padding:u,xScaleDomain:[0,1],yScaleDomain:[0,4],xScalePadding:.5}),s.append(n.columns),n.lines=createLinePaths(s,l,c,u),n.updateColors(i,o),n}return __extends$16(e,t),e.prototype.updateColors=function(t,e){this.columns.forEach((function(i,o){i.fill=t[o],i.stroke=e[o]})),this.lines.forEach((function(e,i){e.stroke=t[i+2]}))},e.chartType="columnLineCombo",e}(MiniChartWithAxes),__extends$15=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),MiniAreaColumnCombo=function(t){function e(e,i,o){var n=t.call(this,e,"areaColumnComboTooltip")||this;n.columnData=[3,4.5],n.areaData=[[5,4,6,5,4]];var r=n,s=r.root,a=r.columnData,l=r.areaData,c=r.size,u=r.padding;n.columns=createColumnRects({stacked:!1,root:s,data:a,size:c,padding:u,xScaleDomain:[0,1],yScaleDomain:[0,6],xScalePadding:.5});var h=new BandScale$5;h.range=[u,c-u],h.domain=[0,1,2,3,4],h.paddingInner=1,h.paddingOuter=0;var d=new LinearScale$1;d.range=[c-u,u],d.domain=[0,6];var p=[],f=d.convert(0),g=h.convert(0);return l.forEach((function(t,e){var i=p[e]||(p[e]=[]);t.forEach((function(t,e){var o=t,n=e,r=h.convert(n),s=d.convert(o);i[e]={x:r,y:s}}));var o=h.convert(t.length-1);p[e].push({x:o,y:f},{x:g,y:f})})),n.areas=p.map((function(t){var e=new Path;e.strokeWidth=1,e.fillOpacity=.8;var i=e.path;return t.forEach((function(t,e){return i[e>0?"lineTo":"moveTo"](t.x,t.y)})),e})),s.append(n.areas),s.append([].concat.apply([],n.columns)),n.updateColors(i,o),n}return __extends$15(e,t),e.prototype.updateColors=function(t,e){this.areas.forEach((function(i,o){i.fill=t[o],i.stroke=e[o]})),this.columns.forEach((function(i,o){i.fill=t[o+1],i.stroke=e[o+1]}))},e.chartType="areaColumnCombo",e}(MiniChartWithAxes),__extends$14=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),MiniCustomCombo=function(t){function e(e,i,o){var n=t.call(this,e,"customComboTooltip")||this;n.columnData=[3,4],n.lineData=[[5,4,6,5,4]];var r=n,s=r.root,a=r.columnData,l=r.lineData,c=r.size,u=r.padding;n.columns=createColumnRects({stacked:!1,root:s,data:a,size:c,padding:u,xScaleDomain:[0,1],yScaleDomain:[0,4],xScalePadding:.5}),s.append(n.columns),n.lines=createLinePaths(s,l,c,u);var h="grey",d=new Line;d.x1=u,d.y1=u,d.x2=u,d.y2=c-u+3,d.stroke=h;var p=new Line;p.x1=u-3+1,p.y1=c-u,p.x2=c-u+1,p.y2=c-u,p.stroke=h;var f=new Path;return n.buildPenIconPath(f),f.fill="whitesmoke",f.stroke="darkslategrey",f.strokeWidth=1,s.append([p,d,f]),n.updateColors(i,o),n}return __extends$14(e,t),e.prototype.updateColors=function(t,e){this.columns.forEach((function(i,o){i.fill=t[o],i.stroke=e[o]})),this.lines.forEach((function(e,i){e.stroke=t[i+2]}))},e.prototype.buildPenIconPath=function(t){var e=t.path;e.moveTo(25.76,43.46),e.lineTo(31.27,48.53),e.moveTo(49.86,22),e.lineTo(49.86,22),e.cubicCurveTo(49.01994659053345,21.317514933510974,47.89593834348529,21.09645997825817,46.86,21.41),e.lineTo(46.86,21.41),e.cubicCurveTo(45.55460035985361,21.77260167850787,44.38777081121966,22.517979360321792,43.51,23.55),e.lineTo(25.51,43.8),e.lineTo(25.43,43.89),e.lineTo(23.01,51.89),e.lineTo(22.83,52.46),e.lineTo(31.02,48.86),e.lineTo(49.02,28.52),e.lineTo(49.02,28.52),e.cubicCurveTo(49.940716461596224,27.521914221246085,50.54302631059587,26.2720342455763,50.75,24.93),e.lineTo(50.75,24.93),e.cubicCurveTo(50.95363374988308,23.866379846512814,50.62080640232334,22.77066734274871,49.86,22),e.closePath(),e.moveTo(41.76,25.5),e.lineTo(47.34,30.5),e.moveTo(40.74,26.65),e.lineTo(46.25,31.71)},e.chartType="customCombo",e}(MiniChart),__extends$13=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__assign$j=function(){return __assign$j=Object.assign||function(t){for(var e,i=1,o=arguments.length;i<o;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},__assign$j.apply(this,arguments)},__decorate$S=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},miniChartMapping={columnGroup:{column:MiniColumn,stackedColumn:MiniStackedColumn,normalizedColumn:MiniNormalizedColumn},barGroup:{bar:MiniBar,stackedBar:MiniStackedBar,normalizedBar:MiniNormalizedBar},pieGroup:{pie:MiniPie,doughnut:MiniDoughnut},lineGroup:{line:MiniLine},scatterGroup:{scatter:MiniScatter,bubble:MiniBubble},areaGroup:{area:MiniArea,stackedArea:MiniStackedArea,normalizedArea:MiniNormalizedArea},histogramGroup:{histogram:MiniHistogram},combinationGroup:{columnLineCombo:MiniColumnLineCombo,areaColumnCombo:MiniAreaColumnCombo,customCombo:MiniCustomCombo}},MiniChartsContainer=function(t){function e(i,o,n,r){void 0===r&&(r=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.hhW);var s=t.call(this,e.TEMPLATE)||this;return s.wrappers={},s.chartController=i,s.fills=o,s.strokes=n,s.chartGroups=__assign$j({},r),s}return __extends$13(e,t),e.prototype.init=function(){var t=this;!this.chartController.customComboExists()&&this.chartGroups.combinationGroup&&(this.chartGroups.combinationGroup=this.chartGroups.combinationGroup.filter((function(t){return"customCombo"!==t})));var e=this.getGui();Object.keys(this.chartGroups).forEach((function(i){var o=t.chartGroups[i],n=t.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.H1u({title:t.chartTranslationService.translate(i),suppressEnabledCheckbox:!0,enabled:!0,suppressOpenCloseIcons:!0,cssIdentifier:"charts-settings",direction:"horizontal"}));o.forEach((function(e){var o,r=null===(o=miniChartMapping[i])||void 0===o?void 0:o[e];if(r){var s=document.createElement("div");s.classList.add("ag-chart-mini-thumbnail");var a=r.chartType;t.addManagedListener(s,"click",(function(){t.chartController.setChartType(a),t.updateSelectedMiniChart()})),t.wrappers[a]=s,t.createBean(new r(s,t.fills,t.strokes)),n.addItem(s)}else miniChartMapping[i]?ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce((function(){return console.warn("AG Grid - invalid chartGroupsDef config '"+i+"."+e+"'")}),"invalid_chartGroupsDef"+e+"_"+i):ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce((function(){return console.warn("AG Grid - invalid chartGroupsDef config '"+i+"'")}),"invalid_chartGroupsDef"+i)})),e.appendChild(n.getGui())})),this.updateSelectedMiniChart()},e.prototype.updateSelectedMiniChart=function(){var t=this.chartController.getChartType();for(var e in this.wrappers){var i=e===t;this.wrappers[e].classList.toggle("ag-selected",i)}},e.TEMPLATE='<div class="ag-chart-settings-mini-wrapper"></div>',__decorate$S([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],e.prototype,"chartTranslationService",void 0),__decorate$S([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$12=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$R=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},ChartSettingsPanel=function(t){function e(i){var o=t.call(this,e.TEMPLATE)||this;return o.miniChartsContainers=[],o.cardItems=[],o.activePaletteIndex=0,o.palettes=[],o.themes=[],o.chartController=i,o}return __extends$12(e,t),e.prototype.postConstruct=function(){var t=this;this.resetPalettes(),this.ePrevBtn.insertAdjacentElement("afterbegin",ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("previous",this.gridOptionsService)),this.eNextBtn.insertAdjacentElement("afterbegin",ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("next",this.gridOptionsService)),this.addManagedListener(this.ePrevBtn,"click",(function(){return t.setActivePalette(t.getPrev(),"left")})),this.addManagedListener(this.eNextBtn,"click",(function(){return t.setActivePalette(t.getNext(),"right")})),this.addManagedListener(this.chartController,ChartController.EVENT_CHART_TYPE_CHANGED,(function(){return t.resetPalettes(!0)})),this.scrollSelectedIntoView()},e.prototype.scrollSelectedIntoView=function(){var t=this;setTimeout((function(){var e=t.miniChartsContainers.find((function(t){return!t.getGui().classList.contains("ag-hidden")})).getGui().querySelector(".ag-selected");if(e){var i=e.offsetParent;i&&t.eMiniChartsContainer.scrollTo(0,i.offsetTop)}}),250)},e.prototype.resetPalettes=function(t){var e,i,o=this,n=this.chartController.getPalettes(),r=null===(i=null===(e=this.gridOptionsService.get("chartToolPanelsDef"))||void 0===e?void 0:e.settingsPanel)||void 0===i?void 0:i.chartGroupsDef;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.shallowCompare(n,this.palettes)&&!t||this.isAnimating||(this.palettes=n,this.themes=this.chartController.getThemes(),this.activePaletteIndex=this.themes.findIndex((function(t){return t===o.chartController.getChartThemeName()})),this.cardItems=[],ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.clearElement(this.eCardSelector),this.destroyMiniCharts(),this.palettes.forEach((function(t,e){var i=o.activePaletteIndex===e,n=t.fills,s=t.strokes,a=o.createBean(new MiniChartsContainer(o.chartController,n,s,r));o.miniChartsContainers.push(a),o.eMiniChartsContainer.appendChild(a.getGui()),o.addCardLink(e),i?a.updateSelectedMiniChart():a.setDisplayed(!1)})),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eNavBar,this.palettes.length>1),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.radioCssClass(this.cardItems[this.activePaletteIndex],"ag-selected","ag-not-selected"))},e.prototype.addCardLink=function(t){var e=this,i=document.createElement("div");i.classList.add("ag-chart-settings-card-item"),this.addManagedListener(i,"click",(function(){e.setActivePalette(t,t<e.activePaletteIndex?"left":"right")})),this.eCardSelector.appendChild(i),this.cardItems.push(i)},e.prototype.getPrev=function(){var t=this.activePaletteIndex-1;return t<0&&(t=this.palettes.length-1),t},e.prototype.getNext=function(){var t=this.activePaletteIndex+1;return t>=this.palettes.length&&(t=0),t},e.prototype.setActivePalette=function(t,e){var i=this;if(!this.isAnimating&&this.activePaletteIndex!==t){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.radioCssClass(this.cardItems[t],"ag-selected","ag-not-selected");var o=this.miniChartsContainers[this.activePaletteIndex],n=o.getGui(),r=this.miniChartsContainers[t],s=r.getGui();o.updateSelectedMiniChart(),r.updateSelectedMiniChart();var a="left"===e?-1:1,l=s.style.left=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.getAbsoluteWidth(this.getGui())*a+"px";this.activePaletteIndex=t,this.isAnimating=!0;var c="ag-animating";r.setDisplayed(!0),o.addCssClass(c),r.addCssClass(c),this.chartController.setChartThemeName(this.themes[t]),window.setTimeout((function(){n.style.left=-parseFloat(l)+"px",s.style.left="0px"}),0),window.setTimeout((function(){i.isAnimating=!1,o.removeCssClass(c),r.removeCssClass(c),o.setDisplayed(!1)}),300)}},e.prototype.destroyMiniCharts=function(){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.clearElement(this.eMiniChartsContainer),this.miniChartsContainers=this.destroyBeans(this.miniChartsContainers)},e.prototype.destroy=function(){this.destroyMiniCharts(),t.prototype.destroy.call(this)},e.TEMPLATE='<div class="ag-chart-settings-wrapper">\n            <div ref="eMiniChartsContainer" class="ag-chart-settings-mini-charts-container ag-scrollable-container"></div>\n            <div ref="eNavBar" class="ag-chart-settings-nav-bar">\n                <div ref="ePrevBtn" class="ag-chart-settings-prev">\n                    <button type="button" class="ag-chart-settings-prev-button"></button>\n                </div>\n                <div ref="eCardSelector" class="ag-chart-settings-card-selector"></div>\n                <div ref="eNextBtn" class="ag-chart-settings-next">\n                    <button type="button" class="ag-chart-settings-next-button"></button>\n                </div>\n            </div>\n        </div>',__decorate$R([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("resizeObserverService")],e.prototype,"resizeObserverService",void 0),__decorate$R([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eMiniChartsContainer")],e.prototype,"eMiniChartsContainer",void 0),__decorate$R([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eNavBar")],e.prototype,"eNavBar",void 0),__decorate$R([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eCardSelector")],e.prototype,"eCardSelector",void 0),__decorate$R([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("ePrevBtn")],e.prototype,"ePrevBtn",void 0),__decorate$R([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eNextBtn")],e.prototype,"eNextBtn",void 0),__decorate$R([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$11=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$Q=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},TabbedChartMenu=function(t){function e(e){var i=t.call(this)||this;i.tabs=[];var o=e.controller,n=e.panels,r=e.chartOptionsService;return i.chartController=o,i.chartOptionsService=r,i.panels=n,i}return __extends$11(e,t),e.prototype.init=function(){var t=this;this.panels.forEach((function(e){var i=e.replace("chart","").toLowerCase(),o=t.createTab(e,i,t.getPanelClass(i)),n=o.comp,r=o.tab;t.tabs.push(r),t.addDestroyFunc((function(){return t.destroyBean(n)}))})),this.tabbedLayout=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.WD6({items:this.tabs,cssClass:"ag-chart-tabbed-menu",keepScrollPosition:!0}),this.getContext().createBean(this.tabbedLayout)},e.prototype.createTab=function(t,e,i){var o=document.createElement("div");o.classList.add("ag-chart-tab","ag-chart-"+e);var n=new i(this.chartController,this.chartOptionsService);this.getContext().createBean(n),o.appendChild(n.getGui());var r=document.createElement("div"),s=this.chartTranslationService.translate(e);return r.innerText=s,{comp:n,tab:{title:r,titleLabel:s,bodyPromise:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S.resolve(o),getScrollableContainer:function(){return o.querySelector(".ag-scrollable-container")||o},name:t}}},e.prototype.showTab=function(t){var e=this.tabs[t];this.tabbedLayout.showItem(e)},e.prototype.getGui=function(){return this.tabbedLayout&&this.tabbedLayout.getGui()},e.prototype.destroy=function(){this.parentComponent&&this.parentComponent.isAlive()&&this.destroyBean(this.parentComponent),t.prototype.destroy.call(this)},e.prototype.getPanelClass=function(t){switch(t){case e.TAB_DATA:return ChartDataPanel;case e.TAB_FORMAT:return FormatPanel;default:return ChartSettingsPanel}},e.TAB_DATA="data",e.TAB_FORMAT="format",__decorate$Q([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],e.prototype,"chartTranslationService",void 0),__decorate$Q([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$10=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$P=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},__read$f=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,n,r=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return s},__spread$8=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$f(arguments[e]));return t},ChartMenu=function(t){function e(i,o,n,r){var s=t.call(this,e.TEMPLATE)||this;return s.eChartContainer=i,s.eMenuPanelContainer=o,s.chartController=n,s.chartOptionsService=r,s.buttons={chartSettings:["menu",function(){return s.showMenu(s.defaultPanel)}],chartData:["menu",function(){return s.showMenu("chartData")}],chartFormat:["menu",function(){return s.showMenu("chartFormat")}],chartLink:["linked",function(t){return s.toggleDetached(t)}],chartUnlink:["unlinked",function(t){return s.toggleDetached(t)}],chartDownload:["save",function(){return s.saveChart()}]},s.panels=[],s.menuVisible=!1,s}return __extends$10(e,t),e.prototype.postConstruct=function(){var t=this;this.createButtons(),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_CHART_CREATED,(function(e){var i;e.chartId===t.chartController.getChartId()&&(Boolean(null===(i=t.gridOptionsService.get("chartToolPanelsDef"))||void 0===i?void 0:i.defaultToolPanel)&&t.showMenu(t.defaultPanel,!1))})),this.refreshMenuClasses(),!this.gridOptionsService.is("suppressChartToolPanelsButton")&&this.panels.length>0&&(this.getGui().classList.add("ag-chart-tool-panel-button-enable"),this.addManagedListener(this.eHideButton,"click",this.toggleMenu.bind(this)))},e.prototype.isVisible=function(){return this.menuVisible},e.prototype.getExtraPaddingDirections=function(){var t=this,e=[];return["chartLink","chartUnlink","chartDownload"].some((function(e){return t.chartToolbarOptions.includes(e)}))&&e.push("top"),["chartSettings","chartData","chartFormat"].some((function(e){return t.chartToolbarOptions.includes(e)}))&&e.push(this.gridOptionsService.is("enableRtl")?"left":"right"),e},e.prototype.getToolbarOptions=function(){var t,e,i,o=this;if(Boolean(this.gridOptionsService.get("chartToolPanelsDef"))){var n=[this.chartController.isChartLinked()?"chartLink":"chartUnlink","chartDownload"],r={defaultItems:n},s=(c=this.gridOptionsService.getCallback("getChartToolbarItems"))?c(r).filter((function(t){if(!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.WU2.includes(t)){var e=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sO1.includes(t)?"AG Grid: '"+t+"' is a Chart Tool Panel option and will be ignored since 'chartToolPanelsDef' is used. Please use 'chartToolPanelsDef.panels' grid option instead":"AG Grid: '"+t+"' is not a valid Chart Toolbar Option";return console.warn(e),!1}return!0})):n,a=null===(e=null===(t=this.gridOptionsService.get("chartToolPanelsDef"))||void 0===t?void 0:t.panels)||void 0===e?void 0:e.map((function(t){var e=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.d2Z[t];return e||console.warn("AG Grid - invalid panel in chartToolPanelsDef.panels: '"+t+"'"),e})).filter((function(t){return Boolean(t)}));this.panels=a||Object.values(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.d2Z),this.chartController.isPivotChart()&&(this.panels=this.panels.filter((function(t){return"chartData"!==t})));var l=null===(i=this.gridOptionsService.get("chartToolPanelsDef"))||void 0===i?void 0:i.defaultToolPanel;return this.defaultPanel=l&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.d2Z[l]||this.panels[0],this.panels.length>0?__spread$8([this.panels[0]],s):s}var c,u=["chartSettings","chartData","chartFormat",this.chartController.isChartLinked()?"chartLink":"chartUnlink","chartDownload"];if(c=this.gridOptionsService.getCallback("getChartToolbarItems")){var h=this.gridOptionsService.is("suppressChartToolPanelsButton");u=c(r={defaultItems:h?u:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.WU2}).filter((function(t){if(!o.buttons[t])return console.warn("AG Grid: '"+t+"' is not a valid Chart Toolbar Option"),!1;if(!h&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sO1.includes(t)){var e="AG Grid: '"+t+"' is a Chart Tool Panel option and will be ignored. Please use 'chartToolPanelsDef.panels' grid option instead";return console.warn(e),!1}return!0})),h||(u=u.concat(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sO1))}this.chartController.isPivotChart()&&(u=u.filter((function(t){return"chartData"!==t})));var d=["chartUnlink","chartLink","chartDownload"];return this.panels=u.filter((function(t){return-1===d.indexOf(t)})),this.defaultPanel=this.panels[0],u.filter((function(t){return-1!==d.indexOf(t)||o.panels.length&&t===o.panels[0]}))},e.prototype.toggleDetached=function(t){var e=t.target,i=e.classList.contains("ag-icon-linked");e.classList.toggle("ag-icon-linked",!i),e.classList.toggle("ag-icon-unlinked",i);var o=i?"chartUnlinkToolbarTooltip":"chartLinkToolbarTooltip",n=this.chartTranslationService.translate(o);n&&(e.title=n),this.chartController.detachChartRange()},e.prototype.createButtons=function(){var t=this;this.chartToolbarOptions=this.getToolbarOptions();var e=this.eMenu;this.chartToolbarOptions.forEach((function(i){var o=t.buttons[i],n=__read$f(o,2),r=n[0],s=n[1],a=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan(r,t.gridOptionsService,void 0,!0);a.classList.add("ag-chart-menu-icon");var l=t.chartTranslationService.translate(i+"ToolbarTooltip");l&&a instanceof HTMLElement&&(a.title=l),t.addManagedListener(a,"click",s),e.appendChild(a)}))},e.prototype.saveChart=function(){var t={type:e.EVENT_DOWNLOAD_CHART};this.dispatchEvent(t)},e.prototype.createMenuPanel=function(t){var e=this,i=this.environment.chartMenuPanelWidth(),o=this.menuPanel=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wSp({minWidth:i,width:i,height:"100%",closable:!0,hideTitleBar:!0,cssIdentifier:"chart-menu"}));return o.setParentComponent(this),this.eMenuPanelContainer.appendChild(o.getGui()),this.tabbedMenu=this.createBean(new TabbedChartMenu({controller:this.chartController,type:this.chartController.getChartType(),panels:this.panels,chartOptionsService:this.chartOptionsService})),this.addManagedListener(o,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2.EVENT_DESTROYED,(function(){return e.destroyBean(e.tabbedMenu)})),new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S((function(i){window.setTimeout((function(){o.setBodyComponent(e.tabbedMenu),e.tabbedMenu.showTab(t),i(o),e.addManagedListener(e.eChartContainer,"click",(function(t){e.getGui().contains(t.target)||e.menuVisible&&e.hideMenu()}))}),100)}))},e.prototype.showContainer=function(){this.menuPanel&&(this.menuVisible=!0,this.showParent(this.menuPanel.getWidth()),this.refreshMenuClasses())},e.prototype.toggleMenu=function(){this.menuVisible?this.hideMenu():this.showMenu()},e.prototype.showMenu=function(t,e){var i=this;if(void 0===e&&(e=!0),e||this.eMenuPanelContainer.classList.add("ag-no-transition"),this.menuPanel&&!t)this.showContainer();else{var o=t||this.defaultPanel,n=this.panels.indexOf(o);n<0&&(console.warn("AG Grid: '"+t+"' is not a valid Chart Tool Panel name"),n=this.panels.indexOf(this.defaultPanel)),this.menuPanel?(this.tabbedMenu.showTab(n),this.showContainer()):this.createMenuPanel(n).then(this.showContainer.bind(this))}e||setTimeout((function(){i.isAlive()&&i.eMenuPanelContainer.classList.remove("ag-no-transition")}),500)},e.prototype.hideMenu=function(){var t=this;this.hideParent(),window.setTimeout((function(){t.menuVisible=!1,t.refreshMenuClasses()}),500)},e.prototype.refreshMenuClasses=function(){this.eChartContainer.classList.toggle("ag-chart-menu-visible",this.menuVisible),this.eChartContainer.classList.toggle("ag-chart-menu-hidden",!this.menuVisible),this.gridOptionsService.is("suppressChartToolPanelsButton")||(this.eHideButtonIcon.classList.toggle("ag-icon-contracted",this.menuVisible),this.eHideButtonIcon.classList.toggle("ag-icon-expanded",!this.menuVisible))},e.prototype.showParent=function(t){this.eMenuPanelContainer.style.minWidth=t+"px"},e.prototype.hideParent=function(){this.eMenuPanelContainer.style.minWidth="0"},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.menuPanel&&this.menuPanel.isAlive()&&this.destroyBean(this.menuPanel),this.tabbedMenu&&this.tabbedMenu.isAlive()&&this.destroyBean(this.tabbedMenu)},e.EVENT_DOWNLOAD_CHART="downloadChart",e.TEMPLATE='<div>\n        <div class="ag-chart-menu" ref="eMenu"></div>\n        <button class="ag-chart-menu-close" ref="eHideButton">\n            <span class="ag-icon ag-icon-contracted" ref="eHideButtonIcon"></span>\n        </button>\n    </div>',__decorate$P([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],e.prototype,"chartTranslationService",void 0),__decorate$P([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eMenu")],e.prototype,"eMenu",void 0),__decorate$P([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eHideButton")],e.prototype,"eHideButton",void 0),__decorate$P([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eHideButtonIcon")],e.prototype,"eHideButtonIcon",void 0),__decorate$P([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$$=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__assign$i=function(){return __assign$i=Object.assign||function(t){for(var e,i=1,o=arguments.length;i<o;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},__assign$i.apply(this,arguments)},__decorate$O=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},__values$6=function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],o=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},TitleEdit=function(t){function e(i){var o=t.call(this,e.TEMPLATE)||this;return o.chartMenu=i,o.destroyableChartListeners=[],o.editing=!1,o}return __extends$$(e,t),e.prototype.init=function(){var t=this;this.addManagedListener(this.getGui(),"keypress",(function(e){t.editing&&"Enter"===e.key&&!e.shiftKey&&(t.handleEndEditing(),e.preventDefault())})),this.addManagedListener(this.getGui(),"input",(function(){t.editing&&t.updateHeight()})),this.addManagedListener(this.getGui(),"blur",(function(){return t.endEditing()}))},e.prototype.refreshTitle=function(t,e){var i,o,n=this;this.chartController=t,this.chartOptionsService=e;try{for(var r=__values$6(this.destroyableChartListeners),s=r.next();!s.done;s=r.next()){(0,s.value)()}}catch(t){i={error:t}}finally{try{s&&!s.done&&(o=r.return)&&o.call(r)}finally{if(i)throw i.error}}this.destroyableChartListeners=[];var a=this.chartController.getChartProxy().getChart(),l=a.scene.canvas.element,c=this.addManagedListener(l,"dblclick",(function(t){var e=a.title;if(e&&e.node.containsPoint(t.offsetX,t.offsetY)){var i=e.node.computeBBox(),o=e.node.inverseTransformPoint(i.x,i.y);n.startEditing(__assign$i(__assign$i({},i),o),l.width)}})),u=!1,h=this.addManagedListener(l,"mousemove",(function(t){var e=a.title,i=!!(e&&e.enabled&&e.node.containsPoint(t.offsetX,t.offsetY));u!==i&&(l.style.cursor=i?"pointer":""),u=i}));this.destroyableChartListeners=[c,h]},e.prototype.startEditing=function(t,e){if(!(this.chartMenu&&this.chartMenu.isVisible()||this.editing)){this.editing=!0;var i=Math.max(Math.min(t.width+20,e),300),o=this.getGui();o.classList.add("currently-editing");var n=o.style;n.fontFamily=this.chartOptionsService.getChartOption("title.fontFamily"),n.fontWeight=this.chartOptionsService.getChartOption("title.fontWeight"),n.fontStyle=this.chartOptionsService.getChartOption("title.fontStyle"),n.fontSize=this.chartOptionsService.getChartOption("title.fontSize")+"px",n.color=this.chartOptionsService.getChartOption("title.color");var r=this.chartOptionsService.getChartOption("title.text"),s=r===this.chartTranslationService.translate("titlePlaceholder");o.value=s?"":r;var a=r.split(/\r?\n/g).length;n.left=Math.round(t.x+t.width/2-i/2-1)+"px",n.top=Math.round(t.y+t.height/2-a*this.getLineHeight()/2-2)+"px",n.width=Math.round(i)+"px",n.lineHeight=this.getLineHeight()+"px",this.updateHeight(),o.focus()}},e.prototype.updateHeight=function(){var t=this.getGui(),e=this.chartOptionsService.getChartOption("title.text").split(/\r?\n/g).length,i=t.value.split(/\r?\n/g).length;t.style.height=Math.round(Math.max(e,i)*this.getLineHeight())+4+"px"},e.prototype.getLineHeight=function(){var t=this.chartOptionsService.getChartOption("title.lineHeight");return t?parseInt(t):Math.round(1.2*parseInt(this.chartOptionsService.getChartOption("title.fontSize")))},e.prototype.handleEndEditing=function(){var t=this,e=this.chartOptionsService.getChartOption("title.color");this.chartOptionsService.setChartOption("title.color","rgba(0, 0, 0, 0)"),this.chartOptionsService.awaitChartOptionUpdate((function(){return t.endEditing()})),this.chartOptionsService.awaitChartOptionUpdate((function(){t.chartOptionsService.setChartOption("title.color",e)}))},e.prototype.endEditing=function(){var t=this;if(this.editing){this.editing=!1;var e=this.getGui().value;e&&""!==e.trim()?(this.chartOptionsService.setChartOption("title.text",e),this.chartOptionsService.setChartOption("title.enabled",!0)):(this.chartOptionsService.setChartOption("title.text",""),this.chartOptionsService.setChartOption("title.enabled",!1)),this.getGui().classList.remove("currently-editing"),this.chartOptionsService.awaitChartOptionUpdate((function(){t.eventService.dispatchEvent({type:"chartTitleEdit"})}))}},e.TEMPLATE='<textarea\n             class="ag-chart-title-edit"\n             style="padding:0; border:none; border-radius: 0; min-height: 0; text-align: center; resize: none;" />\n        ',__decorate$O([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],e.prototype,"chartTranslationService",void 0),__decorate$O([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2);function deproxy(t){return null!=t.chart?t.chart:t}var __assign$h=function(){return __assign$h=Object.assign||function(t){for(var e,i=1,o=arguments.length;i<o;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},__assign$h.apply(this,arguments)},ChartProxy=function(){function t(t){this.chartProxyParams=t,this.clearThemeOverrides=!1,this.chart=t.chartInstance,this.chartType=t.chartType,this.crossFiltering=t.crossFiltering,this.crossFilterCallback=t.crossFilterCallback,this.standaloneChartType=getSeriesType(this.chartType),null==this.chart?this.chart=AgChart.create(this.getCommonChartOptions()):this.clearThemeOverrides=!0}return t.prototype.getChart=function(){return deproxy(this.chart)},t.prototype.getChartRef=function(){return this.chart},t.prototype.downloadChart=function(t,e,i){var o=this.chart,n=deproxy(o),r=e||(n.title?n.title.text:"chart"),s=t||{},a=s.width,l=s.height;AgChart.download(o,{width:a,height:l,fileName:r,fileFormat:i})},t.prototype.getChartImageDataURL=function(t){return this.getChart().scene.getDataURL(t)},t.prototype.getChartOptions=function(){return this.chart.getOptions()},t.prototype.getChartThemeOverrides=function(){var t;return null!==(t=this.getChartOptions().theme.overrides)&&void 0!==t?t:{}},t.prototype.getChartPalette=function(){return getChartTheme(this.getChartOptions().theme).palette},t.prototype.setPaired=function(t){var e,i=getSeriesType(this.chartProxyParams.chartType);AgChart.updateDelta(this.chart,{theme:{overrides:(e={},e[i]={paired:t},e)}})},t.prototype.isPaired=function(){var t=getSeriesType(this.chartProxyParams.chartType);return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.get(this.getChartThemeOverrides(),t+".paired",!0)},t.prototype.lookupCustomChartTheme=function(t){return lookupCustomChartTheme(this.chartProxyParams,t)},t.prototype.transformData=function(t,e,i){return i?t.map((function(t,i){var o=t[e],n=o&&o.toString?o.toString():"",r=__assign$h({},t);return r[e]={id:i,value:o,toString:function(){return n}},r})):t},t.prototype.getCommonChartOptions=function(){var t,e,i=this.clearThemeOverrides?{}:null!==(e=null===(t=this.chart)||void 0===t?void 0:t.getOptions())&&void 0!==e?e:{},o=null!=this.chart?{overrides:this.getActiveFormattingPanelOverrides()}:{};return this.clearThemeOverrides=!1,__assign$h(__assign$h({},i),{theme:__assign$h(__assign$h({},createAgChartTheme(this.chartProxyParams,this)),o),container:this.chartProxyParams.parentElement,mode:"integrated"})},t.prototype.getActiveFormattingPanelOverrides=function(){var t,e;if(this.clearThemeOverrides)return{};var i=null===(t=this.chart)||void 0===t?void 0:t.getOptions().theme;return null!==(e=null==i?void 0:i.overrides)&&void 0!==e?e:{}},t.prototype.destroy=function(t){var e=(void 0===t?{}:t).keepChartInstance;if(void 0!==e&&e)return this.chart;this.destroyChart()},t.prototype.destroyChart=function(){this.chart&&(this.chart.destroy(),this.chart=void 0)},t}(),__extends$_=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__assign$g=function(){return __assign$g=Object.assign||function(t){for(var e,i=1,o=arguments.length;i<o;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},__assign$g.apply(this,arguments)},CartesianChartProxy=function(t){function e(e){var i=t.call(this,e)||this;return i.crossFilteringAllPoints=new Set,i.crossFilteringSelectedPoints=[],i}return __extends$_(e,t),e.prototype.update=function(t){var e=this.getAxes(t),i=__assign$g(__assign$g({},this.getCommonChartOptions()),{data:this.getData(t,e),axes:e,series:this.getSeries(t)});AgChart.update(this.getChartRef(),i)},e.prototype.getData=function(t,e){var i,o=["area","line"].includes(this.standaloneChartType),n="bar"===this.standaloneChartType?"left":"bottom",r="category"===(null===(i=e.find((function(t){return t.position===n})))||void 0===i?void 0:i.type);return this.crossFiltering&&o?this.getCrossFilterData(t):this.getDataTransformedData(t,r)},e.prototype.getDataTransformedData=function(t,e){return this.transformData(t.data,t.category.id,e)},e.prototype.getXAxisType=function(t){return t.grouping?"groupedCategory":e.isTimeAxis(t)?"time":"category"},e.isTimeAxis=function(t){if(t.category&&t.category.chartDataType)return"time"===t.category.chartDataType;var e=t.data[0];return(e&&e[t.category.id])instanceof Date},e.prototype.crossFilteringReset=function(){this.crossFilteringSelectedPoints=[],this.crossFilteringAllPoints.clear()},e.prototype.crossFilteringPointSelected=function(t){return 0==this.crossFilteringSelectedPoints.length||this.crossFilteringSelectedPoints.includes(t)},e.prototype.crossFilteringDeselectedPoints=function(){return this.crossFilteringSelectedPoints.length>0&&this.crossFilteringAllPoints.size!==this.crossFilteringSelectedPoints.length},e.prototype.extractLineAreaCrossFilterSeries=function(t,e){var i=this;return t.map((function(t){var o;return t.yKey=(o=t.yKey,"area"===i.standaloneChartType?e.getCrossFilteringContext().lastSelectedChartId===e.chartId?o+"-total":o:o+"-total"),t.listeners={nodeClick:function(e){var o=e.datum[t.xKey],n=e.event.metaKey||e.event.ctrlKey;i.crossFilteringAddSelectedPoint(n,o),i.crossFilterCallback(e)}},t.marker={formatter:function(t){var o=t.datum[e.category.id];return{fill:t.highlighted?"yellow":t.fill,size:t.highlighted?14:i.crossFilteringPointSelected(o)?8:0}}},"area"===i.standaloneChartType&&(t.fillOpacity=i.crossFilteringDeselectedPoints()?.3:1),"line"===i.standaloneChartType&&(t.strokeOpacity=i.crossFilteringDeselectedPoints()?.3:1),t}))},e.prototype.getCrossFilterData=function(t){var e=this;this.crossFilteringAllPoints.clear();var i=t.fields[0].colId,o=i+"-filtered-out",n=t.getCrossFilteringContext().lastSelectedChartId;return t.data.map((function(r){var s=r[t.category.id];e.crossFilteringAllPoints.add(s);var a=e.crossFilteringPointSelected(s);return"area"===e.standaloneChartType&&n===t.chartId&&(r[i+"-total"]=a?r[i]:r[i]+r[o]),"line"===e.standaloneChartType&&(r[i+"-total"]=a?r[i]:r[i]+r[o]),r}))},e.prototype.crossFilteringAddSelectedPoint=function(t,e){t?this.crossFilteringSelectedPoints.push(e):this.crossFilteringSelectedPoints=[e]},e}(ChartProxy);function emptyTarget(t){return Array.isArray(t)?[]:{}}function cloneUnlessOtherwiseSpecified(t,e){return!1!==e.clone&&e.isMergeableObject(t)?deepMerge(emptyTarget(t),t,e):t}function defaultArrayMerge(t,e,i){return t.concat(e).map((function(t){return cloneUnlessOtherwiseSpecified(t,i)}))}function getMergeFunction(t,e){if(!e.customMerge)return deepMerge;var i=e.customMerge(t);return"function"==typeof i?i:deepMerge}function getEnumerableOwnPropertySymbols(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter((function(e){return t.propertyIsEnumerable(e)})):[]}function getKeys(t){return Object.keys(t).concat(getEnumerableOwnPropertySymbols(t))}function propertyIsOnObject(t,e){try{return e in t}catch(t){return!1}}function propertyIsUnsafe(t,e){return propertyIsOnObject(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))}function mergeObject(t,e,i){void 0===t&&(t={}),void 0===e&&(e={});var o={};return i.isMergeableObject(t)&&getKeys(t).forEach((function(e){o[e]=cloneUnlessOtherwiseSpecified(t[e],i)})),getKeys(e).forEach((function(n){propertyIsUnsafe(t,n)||(propertyIsOnObject(t,n)&&i.isMergeableObject(e[n])?o[n]=getMergeFunction(n,i)(t[n],e[n],i):o[n]=cloneUnlessOtherwiseSpecified(e[n],i))})),o}function defaultIsMergeableObject(t){return isNonNullObject(t)&&!isSpecial(t)}function isNonNullObject(t){return!!t&&"object"==typeof t}function isSpecial(t){var e=Object.prototype.toString.call(t);return"[object RegExp]"===e||"[object Date]"===e}function deepMerge(t,e,i){(i=i||{}).arrayMerge=i.arrayMerge||defaultArrayMerge,i.isMergeableObject=i.isMergeableObject||defaultIsMergeableObject,i.cloneUnlessOtherwiseSpecified=cloneUnlessOtherwiseSpecified;var o=Array.isArray(e);return o===Array.isArray(t)?o?i.arrayMerge(t,e,i):mergeObject(t,e,i):cloneUnlessOtherwiseSpecified(e,i)}function hexToRGBA(t,e){var i=parseInt(t.slice(1,3),16),o=parseInt(t.slice(3,5),16),n=parseInt(t.slice(5,7),16);return e?"rgba("+i+", "+o+", "+n+", "+e+")":"rgba("+i+", "+o+", "+n+")"}function changeOpacity(t,e){return t.map((function(t){var i=Color.fromString(t);return new Color(i.r,i.g,i.b,e).toHexString()}))}var __extends$Z=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__assign$f=function(){return __assign$f=Object.assign||function(t){for(var e,i=1,o=arguments.length;i<o;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},__assign$f.apply(this,arguments)},BarChartProxy=function(t){function e(e){return t.call(this,e)||this}return __extends$Z(e,t),e.prototype.getAxes=function(t){var e="bar"===this.standaloneChartType,i=[{type:this.getXAxisType(t),position:e?"left":"bottom"},{type:"number",position:e?"bottom":"left"}];if(this.isNormalised()){var o=i[1];o.label=__assign$f(__assign$f({},o.label),{formatter:function(t){return Math.round(t.value)+"%"}})}return i},e.prototype.getSeries=function(t){var e=this,i=!this.crossFiltering&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(["groupedColumn","groupedBar"],this.chartType),o=t.fields.map((function(o){return{type:e.standaloneChartType,grouped:i,normalizedTo:e.isNormalised()?100:void 0,xKey:t.category.id,xName:t.category.name,yKey:o.colId,yName:o.displayName}}));return this.crossFiltering?this.extractCrossFilterSeries(o):o},e.prototype.extractCrossFilterSeries=function(t){for(var e,i,o=this,n=this.getChartPalette(),r=function(t){var e=t.yKey+"-filtered-out";return __assign$f(__assign$f({},deepMerge({},t)),{yKey:e,fill:hexToRGBA(t.fill,"0.3"),stroke:hexToRGBA(t.stroke,"0.3"),hideInLegend:[e]})},s=[],a=0;a<t.length;a++){var l=(e=t[a],i=a,__assign$f(__assign$f({},e),{highlightStyle:{item:{fill:void 0}},fill:null==n?void 0:n.fills[i],stroke:null==n?void 0:n.strokes[i],listeners:{nodeClick:o.crossFilterCallback}}));s.push(l),s.push(r(l))}return s},e.prototype.isNormalised=function(){return!this.crossFiltering&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(["normalizedColumn","normalizedBar"],this.chartType)},e}(CartesianChartProxy),__extends$Y=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__assign$e=function(){return __assign$e=Object.assign||function(t){for(var e,i=1,o=arguments.length;i<o;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},__assign$e.apply(this,arguments)},AreaChartProxy=function(t){function e(e){return t.call(this,e)||this}return __extends$Y(e,t),e.prototype.getAxes=function(t){var e=[{type:this.getXAxisType(t),position:"bottom"},{type:"number",position:"left"}];if(this.isNormalised()){var i=e[1];i.label=__assign$e(__assign$e({},i.label),{formatter:function(t){return Math.round(t.value)+"%"}})}return e},e.prototype.getSeries=function(t){var e=this,i=t.fields.map((function(i){return{type:e.standaloneChartType,xKey:t.category.id,xName:t.category.name,yKey:i.colId,yName:i.displayName,normalizedTo:"normalizedArea"===e.chartType?100:void 0,stacked:["normalizedArea","stackedArea"].includes(e.chartType)}}));return this.crossFiltering?this.extractLineAreaCrossFilterSeries(i,t):i},e.prototype.isNormalised=function(){return!this.crossFiltering&&"normalizedArea"===this.chartType},e}(CartesianChartProxy),__extends$X=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),LineChartProxy=function(t){function e(e){return t.call(this,e)||this}return __extends$X(e,t),e.prototype.getAxes=function(t){return[{type:this.getXAxisType(t),position:"bottom"},{type:"number",position:"left"}]},e.prototype.getSeries=function(t){var e=this,i=t.fields.map((function(i){return{type:e.standaloneChartType,xKey:t.category.id,xName:t.category.name,yKey:i.colId,yName:i.displayName}}));return this.crossFiltering?this.extractLineAreaCrossFilterSeries(i,t):i},e}(CartesianChartProxy),__extends$W=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__assign$d=function(){return __assign$d=Object.assign||function(t){for(var e,i=1,o=arguments.length;i<o;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},__assign$d.apply(this,arguments)},PieChartProxy=function(t){function e(e){return t.call(this,e)||this}return __extends$W(e,t),e.prototype.update=function(t){var e=t.data,i=t.category,o=__assign$d(__assign$d({},this.getCommonChartOptions()),{data:this.crossFiltering?this.getCrossFilterData(t):this.transformData(e,i.id),series:this.getSeries(t)});AgChart.update(this.getChartRef(),o)},e.prototype.getSeries=function(t){var i=this,o=t.fields.length,n={currentOffset:0,offsetAmount:o>1?20:40},r=this.getFields(t).map((function(r){var s,a={type:i.standaloneChartType,angleKey:r.colId,angleName:r.displayName,sectorLabelKey:r.colId,calloutLabelKey:t.category.id,calloutLabelName:t.category.name};if("doughnut"===i.chartType){var l=e.calculateOffsets(n),c=l.outerRadiusOffset,u=l.innerRadiusOffset,h=r.displayName?{title:{text:r.displayName,showInLegend:o>1}}:void 0;return __assign$d(__assign$d(__assign$d(__assign$d({},a),{outerRadiusOffset:c,innerRadiusOffset:u}),h),{calloutLine:{colors:null===(s=i.getChartPalette())||void 0===s?void 0:s.strokes}})}return a}));return this.crossFiltering?this.extractCrossFilterSeries(r):r},e.prototype.getCrossFilterData=function(t){var e=t.fields[0].colId,i=e+"-filtered-out";return t.data.map((function(t){var o=t[e]+t[i];return t[e+"-total"]=o,t[i]=1,t[e]=t[e]/o,t}))},e.prototype.extractCrossFilterSeries=function(t){var e,i=this,o=this.getChartPalette(),n=t[0],r=n.angleKey,s=__assign$d(__assign$d({},e=n),{calloutLabel:{enabled:!1},highlightStyle:{item:{fill:void 0}},radiusKey:e.angleKey,angleKey:e.angleKey+"-total",radiusMin:0,radiusMax:1,listeners:{nodeClick:i.crossFilterCallback}});return[function(t,e){var i,n;return __assign$d(__assign$d({},deepMerge({},s)),{radiusKey:e+"-filtered-out",fills:changeOpacity(null!==(i=t.fills)&&void 0!==i?i:o.fills,.3),strokes:changeOpacity(null!==(n=t.strokes)&&void 0!==n?n:o.strokes,.3),showInLegend:!1})}(n,r),s]},e.calculateOffsets=function(t){var e=t.currentOffset;t.currentOffset-=t.offsetAmount;var i=t.currentOffset;return t.currentOffset-=t.offsetAmount,{outerRadiusOffset:e,innerRadiusOffset:i}},e.prototype.getFields=function(t){return"pie"===this.chartType?t.fields.slice(0,1):t.fields},e.prototype.crossFilteringReset=function(){},e}(ChartProxy),__extends$V=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__assign$c=function(){return __assign$c=Object.assign||function(t){for(var e,i=1,o=arguments.length;i<o;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},__assign$c.apply(this,arguments)},__values$5=function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],o=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},__read$e=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,n,r=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return s},__spread$7=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$e(arguments[e]));return t},ScatterChartProxy=function(t){function e(e){return t.call(this,e)||this}return __extends$V(e,t),e.prototype.getAxes=function(t){return[{type:"number",position:"bottom"},{type:"number",position:"left"}]},e.prototype.getSeries=function(t){var e=this,i=this.isPaired(),o=this.getSeriesDefinitions(t.fields,i),n=t.category.id===ChartDataModel.DEFAULT_CATEGORY?void 0:t.category,r=o.map((function(t){return{type:e.standaloneChartType,xKey:t.xField.colId,xName:t.xField.displayName,yKey:t.yField.colId,yName:t.yField.displayName,title:t.yField.displayName+" vs "+t.xField.displayName,sizeKey:t.sizeField?t.sizeField.colId:void 0,sizeName:t.sizeField?t.sizeField.displayName:void 0,labelKey:n?n.id:t.yField.colId,labelName:n?n.name:void 0}}));return this.crossFiltering?this.extractCrossFilterSeries(r,t):r},e.prototype.extractCrossFilterSeries=function(t,e){var i=this,o=e.data,n=this.getChartPalette(),r=function(t){return t+"-filtered-out"},s=t.map((function(t,e){var s=t.sizeKey,a=null==n?void 0:n.fills[e],l=null==n?void 0:n.strokes[e],c=function(t,e){var i,o,n,s=[1/0,-1/0];if(null!=e)try{for(var a=__values$5(t),l=a.next();!l.done;l=a.next()){var c=l.value,u=null!==(n=c[e])&&void 0!==n?n:c[r(e)];u<s[0]&&(s[0]=u),u>s[1]&&(s[1]=u)}}catch(t){i={error:t}}finally{try{l&&!l.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}if(s[0]<=s[1])return s}(o,s),u=__assign$c(__assign$c({},t.marker),{fill:a,stroke:l,domain:c});return __assign$c(__assign$c({},t),{marker:u,highlightStyle:{item:{fill:"yellow"}},listeners:__assign$c(__assign$c({},t.listeners),{nodeClick:i.crossFilterCallback})})}));return __spread$7(s,s.map((function(t){var e=t.sizeKey,o=t.yKey,n=t.xKey;return null!=e&&(e=r(e)),__assign$c(__assign$c({},t),{yKey:r(o),xKey:r(n),marker:__assign$c(__assign$c({},t.marker),{fillOpacity:.3,strokeOpacity:.3}),sizeKey:e,showInLegend:!1,listeners:__assign$c(__assign$c({},t.listeners),{nodeClick:function(t){var e,o=t.datum[r(n)],s=__assign$c(__assign$c({},t),{xKey:n,datum:__assign$c(__assign$c({},t.datum),(e={},e[n]=o,e))});i.crossFilterCallback(s)}})})})))},e.prototype.getSeriesDefinitions=function(t,e){if(t.length<2)return[];var i="bubble"===this.chartType;if(e)return i?t.map((function(e,i){return i%3==0?{xField:e,yField:t[i+1],sizeField:t[i+2]}:null})).filter((function(t){return t&&t.yField&&t.sizeField})):t.map((function(e,i){return i%2==0?{xField:e,yField:t[i+1]}:null})).filter((function(t){return t&&t.yField}));var o=t[0];return i?t.map((function(e,i){return i%2==1?{xField:o,yField:e,sizeField:t[i+1]}:null})).filter((function(t){return t&&t.sizeField})):t.filter((function(t,e){return e>0})).map((function(t){return{xField:o,yField:t}}))},e}(CartesianChartProxy),__extends$U=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),HistogramChartProxy=function(t){function e(e){return t.call(this,e)||this}return __extends$U(e,t),e.prototype.getSeries=function(t){var e=t.fields[0];return[{type:this.standaloneChartType,xKey:e.colId,xName:e.displayName,yName:this.chartProxyParams.translate("histogramFrequency"),areaPlot:!1}]},e.prototype.getAxes=function(t){return[{type:"number",position:"bottom"},{type:"number",position:"left"}]},e}(CartesianChartProxy),__extends$T=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),ChartOptionsService=function(t){function e(e){var i=t.call(this)||this;return i.chartController=e,i}return __extends$T(e,t),e.prototype.getChartOption=function(t){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.get(this.getChart(),t,void 0)},e.prototype.setChartOption=function(t,e,i){var o=this,n=this.chartController.getChartSeriesTypes();this.chartController.isComboChart()&&n.push("cartesian");var r={};n.forEach((function(i){r=deepMerge(r,o.createChartOptions({seriesType:i,expression:t,value:e}))})),this.updateChart(r),i||this.raiseChartOptionsChangedEvent()},e.prototype.awaitChartOptionUpdate=function(t){this.chartController.getChartProxy().getChart().waitForUpdate().then((function(){return t()}))},e.prototype.getAxisProperty=function(t){var e;return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.get(null===(e=this.getChart().axes)||void 0===e?void 0:e[0],t,void 0)},e.prototype.setAxisProperty=function(t,e){var i,o=this,n=this.getChart(),r={};null===(i=n.axes)||void 0===i||i.forEach((function(i){r=deepMerge(r,o.getUpdateAxisOptions(i,t,e))})),this.updateChart(r),this.raiseChartOptionsChangedEvent()},e.prototype.getLabelRotation=function(t){var e=this.getAxis(t);return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.get(e,"label.rotation",void 0)},e.prototype.setLabelRotation=function(t,e){var i=this.getAxis(t);if(i){var o=this.getUpdateAxisOptions(i,"label.rotation",e);this.updateChart(o),this.raiseChartOptionsChangedEvent()}},e.prototype.getSeriesOption=function(t,i){var o=this.getChart().series.find((function(t){return e.isMatchingSeries(i,t)}));return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.get(o,t,void 0)},e.prototype.setSeriesOption=function(t,e,i){var o=this.createChartOptions({seriesType:i,expression:"series."+t,value:e});this.updateChart(o),this.raiseChartOptionsChangedEvent()},e.prototype.getPairedMode=function(){return this.chartController.getChartProxy().isPaired()},e.prototype.setPairedMode=function(t){this.chartController.getChartProxy().setPaired(t)},e.prototype.getAxis=function(t){var e=this.getChart();if(e.axes&&!(e.axes.length<1))return"xAxis"===t?e.axes&&"x"===e.axes[0].direction?e.axes[0]:e.axes[1]:e.axes&&"y"===e.axes[1].direction?e.axes[1]:e.axes[0]},e.prototype.getUpdateAxisOptions=function(t,e,i){var o=getSeriesType(this.getChartType());return["number","category","time","groupedCategory"].includes(t.type)?this.createChartOptions({seriesType:o,expression:"axes."+t.type+"."+e,value:i}):{}},e.prototype.getChartType=function(){return this.chartController.getChartType()},e.prototype.getChart=function(){return this.chartController.getChartProxy().getChart()},e.prototype.updateChart=function(t){var e=this.chartController.getChartProxy().getChartRef();AgChart.updateDelta(e,t)},e.prototype.createChartOptions=function(t){var e=t.seriesType,i=t.expression,o=t.value,n={},r={theme:{overrides:n}};return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.set(n,e+"."+i,o),r},e.prototype.raiseChartOptionsChangedEvent=function(){var t=this.chartController.getChartModel(),e={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_CHART_OPTIONS_CHANGED,chartId:t.chartId,chartType:t.chartType,chartThemeName:this.chartController.getChartThemeName(),chartOptions:t.chartOptions};this.eventService.dispatchEvent(e)},e.isMatchingSeries=function(t,e){var i;return VALID_SERIES_TYPES.includes(t)&&e.type===("column"===(i=t)?"bar":i)},e.prototype.destroy=function(){t.prototype.destroy.call(this)},e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$S=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),ComboChartProxy=function(t){function e(e){return t.call(this,e)||this}return __extends$S(e,t),e.prototype.getAxes=function(t){var e=t?t.fields:[],i=new Map(e.map((function(t){return[t.colId,t]}))),o=this.getYKeys(e,t.seriesChartTypes),n=o.primaryYKeys,r=o.secondaryYKeys,s=[{type:this.getXAxisType(t),position:"bottom",gridStyle:[{stroke:void 0}]}];return n.length>0&&s.push({type:"number",keys:n,position:"left",title:{text:n.map((function(t){var e=i.get(t);return e?e.displayName:t})).join(" / ")}}),r.length>0&&r.forEach((function(t,e){var o=i.get(t);if(o&&o.colId===t){var a={type:"number",keys:[t],position:"right",title:{text:o?o.displayName:t}},l=n.some((function(t){return!!i.get(t)})),c=e===r.length-1;!l&&c||(a.gridStyle=[{stroke:void 0}]),s.push(a)}})),s},e.prototype.getSeries=function(t){var e=t.fields,i=t.category,o=t.seriesChartTypes;return e.map((function(t){var e=o.find((function(e){return e.colId===t.colId}));if(e){var n=e.chartType;return{type:getSeriesType(n),xKey:i.id,yKey:t.colId,yName:t.displayName,grouped:["groupedColumn","groupedBar","groupedArea"].includes(n),stacked:["stackedArea","stackedColumn"].includes(n)}}}))},e.prototype.getYKeys=function(t,e){var i=[],o=[];return t.forEach((function(t){var n=t.colId,r=e.find((function(t){return t.colId===n}));r&&(r.secondaryAxis?o.push(n):i.push(n))})),{primaryYKeys:i,secondaryYKeys:o}},e}(CartesianChartProxy),__extends$R=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$N=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},GridChartComp=function(t){function e(i){var o=t.call(this,e.TEMPLATE)||this;return o.params=i,o}return __extends$R(e,t),e.prototype.init=function(){var t=this,e=this.gridOptionsService.get("chartThemes")||DEFAULT_THEMES;if(e.length<1)throw new Error("Cannot create chart: no chart themes are available to be used.");var i=this.params.chartThemeName;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(e,i)||(i=e[0]);var o={chartId:this.params.chartId,pivotChart:this.params.pivotChart,chartType:this.params.chartType,chartThemeName:i,aggFunc:this.params.aggFunc,cellRange:this.params.cellRange,suppressChartRanges:this.params.suppressChartRanges,unlinkChart:this.params.unlinkChart,crossFiltering:this.params.crossFiltering,seriesChartTypes:this.params.seriesChartTypes},n=this.gridOptionsService.is("enableRtl");this.addCssClass(n?"ag-rtl":"ag-ltr");var r=this.createBean(new ChartDataModel(o));this.chartController=this.createManagedBean(new ChartController(r)),this.validateCustomThemes(),this.createChart(),this.params.insideDialog&&this.addDialog(),this.addMenu(),this.addTitleEditComp(),this.addManagedListener(this.getGui(),"focusin",this.setActiveChartCellRange.bind(this)),this.addManagedListener(this.chartController,ChartController.EVENT_CHART_MODEL_UPDATE,this.update.bind(this)),this.chartMenu&&this.addManagedListener(this.chartMenu,ChartMenu.EVENT_DOWNLOAD_CHART,(function(){return t.downloadChart()})),this.update(),this.raiseChartCreatedEvent()},e.prototype.validateCustomThemes=function(){var t=this.getChartThemes(),e=this.gridOptionsService.get("customChartThemes");e&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.getAllKeysInObjects([e]).forEach((function(e){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(t,e)||console.warn("AG Grid: a custom chart theme with the name '"+e+"' has been supplied but not added to the 'chartThemes' list")}))},e.prototype.createChart=function(){var t=this,i=void 0;this.chartProxy&&(i=this.chartProxy.destroy({keepChartInstance:!0}));var o=this.chartController.getChartType(),n={chartType:o,chartInstance:i,getChartThemeName:this.getChartThemeName.bind(this),getChartThemes:this.getChartThemes.bind(this),customChartThemes:this.gridOptionsService.get("customChartThemes"),getGridOptionsChartThemeOverrides:function(){return t.getGridOptionsChartThemeOverrides()},getExtraPaddingDirections:function(){var e,i;return null!==(i=null===(e=t.chartMenu)||void 0===e?void 0:e.getExtraPaddingDirections())&&void 0!==i?i:[]},apiChartThemeOverrides:this.params.chartThemeOverrides,crossFiltering:this.params.crossFiltering,crossFilterCallback:function(e,i){t.params.crossFilteringContext.lastSelectedChartId=i?"":t.chartController.getChartId(),i&&t.params.crossFilteringResetCallback(),t.crossFilterService.filter(e,i)},parentElement:this.eChart,grouping:this.chartController.isGrouping(),chartThemeToRestore:this.params.chartThemeName,chartOptionsToRestore:this.params.chartOptionsToRestore,chartPaletteToRestore:this.params.chartPaletteToRestore,seriesChartTypes:this.chartController.getSeriesChartTypes(),translate:function(e,i){return t.chartTranslationService.translate(e,i)}};if(this.params.chartOptionsToRestore=void 0,this.chartType=o,this.chartThemeName=this.chartController.getChartThemeName(),this.chartProxy=e.createChartProxy(n),this.chartProxy){var r=this.eChart.querySelector("canvas");r&&r.classList.add("ag-charts-canvas"),this.chartController.setChartProxy(this.chartProxy),this.chartOptionsService=this.createBean(new ChartOptionsService(this.chartController)),this.titleEdit&&this.titleEdit.refreshTitle(this.chartController,this.chartOptionsService)}else console.warn("AG Grid: invalid chart type supplied: ",n.chartType)},e.prototype.getChartThemeName=function(){return this.chartController.getChartThemeName()},e.prototype.getChartThemes=function(){return this.chartController.getThemes()},e.prototype.getGridOptionsChartThemeOverrides=function(){return this.gridOptionsService.get("chartThemeOverrides")},e.createChartProxy=function(t){switch(t.chartType){case"column":case"bar":case"groupedColumn":case"stackedColumn":case"normalizedColumn":case"groupedBar":case"stackedBar":case"normalizedBar":return new BarChartProxy(t);case"pie":case"doughnut":return new PieChartProxy(t);case"area":case"stackedArea":case"normalizedArea":return new AreaChartProxy(t);case"line":return new LineChartProxy(t);case"scatter":case"bubble":return new ScatterChartProxy(t);case"histogram":return new HistogramChartProxy(t);case"columnLineCombo":case"areaColumnCombo":case"customCombo":return new ComboChartProxy(t);default:throw"AG Grid: Unable to create chart as an invalid chartType = '"+t.chartType+"' was supplied."}},e.prototype.addDialog=function(){var t=this,e=this.chartTranslationService.translate(this.params.pivotChart?"pivotChartTitle":"rangeChartTitle"),i=this.getBestDialogSize(),o=i.width,n=i.height;this.chartDialog=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.$zI({resizable:!0,movable:!0,maximizable:!0,title:e,width:o,height:n,component:this,centered:!0,closable:!0}),this.getContext().createBean(this.chartDialog),this.chartDialog.addEventListener(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.$zI.EVENT_DESTROYED,(function(){return t.destroy()}))},e.prototype.getBestDialogSize=function(){var t=this.popupService.getPopupParent(),e=.75*ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.getAbsoluteWidth(t),i=.75*ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.getAbsoluteHeight(t),o=this.chartProxy.getChart(),n=this.params.insideDialog?850:o.width,r=this.params.insideDialog?470:o.height;return(n>e||r>i)&&(n=Math.min(n,e),(r=Math.round(.553*n))>i&&(r=i,n=Math.min(n,Math.round(r/.553)))),{width:n,height:r}},e.prototype.addMenu=function(){this.params.crossFiltering||(this.chartMenu=this.createBean(new ChartMenu(this.eChartContainer,this.eMenuContainer,this.chartController,this.chartOptionsService)),this.eChartContainer.appendChild(this.chartMenu.getGui()))},e.prototype.addTitleEditComp=function(){this.titleEdit=this.createBean(new TitleEdit(this.chartMenu)),this.eTitleEditContainer.appendChild(this.titleEdit.getGui()),this.chartProxy&&this.titleEdit.refreshTitle(this.chartController,this.chartOptionsService)},e.prototype.update=function(){this.shouldRecreateChart()&&this.createChart(),this.updateChart()},e.prototype.shouldRecreateChart=function(){return this.chartType!==this.chartController.getChartType()||this.chartThemeName!==this.chartController.getChartThemeName()},e.prototype.getCurrentChartType=function(){return this.chartType},e.prototype.getChartModel=function(){return this.chartController.getChartModel()},e.prototype.getChartImageDataURL=function(t){return this.chartProxy.getChartImageDataURL(t)},e.prototype.updateChart=function(){var t=this,e=this.chartProxy,i=this.chartController.getSelectedValueColState().map((function(t){return{colId:t.colId,displayName:t.displayName}})),o=this.chartController.getChartData();if(!this.handleEmptyChart(o,i)){var n=this.chartController.getChartUpdateParams();e.update(n),this.chartProxy.getChart().waitForUpdate().then((function(){t.chartController.raiseChartUpdatedEvent()})),this.titleEdit.refreshTitle(this.chartController,this.chartOptionsService)}},e.prototype.handleEmptyChart=function(t,e){var i=this.chartController.isPivotChart()&&!this.chartController.isPivotMode(),o=1;this.chartController.isActiveXYChart()&&(o="bubble"===this.chartController.getChartType()?3:2);var n=e.length<o||0===t.length;if(this.eChart){var r=i||n;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eChart,!r),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eEmpty,r)}return i?(this.eEmpty.innerText=this.chartTranslationService.translate("pivotChartRequiresPivotMode"),!0):!!n&&(this.eEmpty.innerText=this.chartTranslationService.translate("noDataToChart"),!0)},e.prototype.downloadChart=function(t,e,i){this.chartProxy.downloadChart(t,e,i)},e.prototype.openChartToolPanel=function(t){var e=t?ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.d2Z[t]:t;this.chartMenu.showMenu(e)},e.prototype.closeChartToolPanel=function(){this.chartMenu.hideMenu()},e.prototype.getChartId=function(){return this.chartController.getChartId()},e.prototype.getUnderlyingChart=function(){return this.chartProxy.getChartRef()},e.prototype.crossFilteringReset=function(){this.chartProxy.crossFilteringReset()},e.prototype.setActiveChartCellRange=function(t){this.getGui().contains(t.relatedTarget)||(this.chartController.setChartRange(!0),this.gridApi.focusService.clearFocusedCell())},e.prototype.raiseChartCreatedEvent=function(){var t=this,e={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_CHART_CREATED,chartId:this.chartController.getChartId()};this.chartProxy.getChart().waitForUpdate().then((function(){t.eventService.dispatchEvent(e)}))},e.prototype.raiseChartDestroyedEvent=function(){var t={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_CHART_DESTROYED,chartId:this.chartController.getChartId()};this.eventService.dispatchEvent(t)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.chartProxy&&this.chartProxy.destroy(),this.destroyBean(this.chartMenu),this.destroyBean(this.titleEdit),this.chartDialog&&this.chartDialog.isAlive()&&this.destroyBean(this.chartDialog);var e=this.getGui();ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.clearElement(e),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromParent(e),this.raiseChartDestroyedEvent()},e.TEMPLATE='<div class="ag-chart" tabindex="-1">\n            <div ref="eChartContainer" tabindex="-1" class="ag-chart-components-wrapper">\n                <div ref="eChart" class="ag-chart-canvas-wrapper"></div>\n                <div ref="eEmpty" class="ag-chart-empty-text ag-unselectable"></div>\n            </div>\n            <div ref="eTitleEditContainer"></div>\n            <div ref="eMenuContainer" class="ag-chart-docked-container"></div>\n        </div>',__decorate$N([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eChart")],e.prototype,"eChart",void 0),__decorate$N([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eChartContainer")],e.prototype,"eChartContainer",void 0),__decorate$N([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eMenuContainer")],e.prototype,"eMenuContainer",void 0),__decorate$N([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eEmpty")],e.prototype,"eEmpty",void 0),__decorate$N([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eTitleEditContainer")],e.prototype,"eTitleEditContainer",void 0),__decorate$N([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartCrossFilterService")],e.prototype,"crossFilterService",void 0),__decorate$N([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],e.prototype,"chartTranslationService",void 0),__decorate$N([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],e.prototype,"gridApi",void 0),__decorate$N([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("popupService")],e.prototype,"popupService",void 0),__decorate$N([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),VERSION$a="29.3.4",__assign$b=function(){return __assign$b=Object.assign||function(t){for(var e,i=1,o=arguments.length;i<o;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},__assign$b.apply(this,arguments)},__rest=function(t,e){var i={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(i[o]=t[o]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(o=Object.getOwnPropertySymbols(t);n<o.length;n++)e.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(t,o[n])&&(i[o[n]]=t[o[n]])}return i},__read$d=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,n,r=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return s},__values$4=function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],o=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function upgradeChartModel(t){return t.version,null==t.version&&(t.version=heuristicVersionDetection(t)),t=migrateIfBefore("23.0.0",t,migrateV23),t=migrateIfBefore("24.0.0",t,migrateV24),t=migrateIfBefore("25.1.0",t,migrateV25_1),t=migrateIfBefore("26.0.0",t,migrateV26),t=migrateIfBefore("26.1.0",t,migrateV26_1),t=migrateIfBefore("26.2.0",t,migrateV26_2),t=migrateIfBefore("28.0.0",t,migrateV28),t=migrateIfBefore("28.2.0",t,migrateV28_2),t=cleanup(t=migrateIfBefore("29.0.0",t,migrateV29)),t=migrateIfBefore(VERSION$a,t,(function(t){return t}))}function migrateV23(t){return t=jsonRename("chartOptions.legend.item.marker.type","shape",t),t=jsonRename("chartOptions.seriesDefaults.marker.type","shape",t),t=jsonRename("chartOptions.legend.padding","spacing",t)}function migrateV24(t){var e,i=t=jsonDelete("chartOptions.seriesDefaults.marker.minSize",t),o=i.chartType,n=i.chartPalette,r=i.chartOptions,s=r.xAxis,a=r.yAxis,l=__rest(r,["xAxis","yAxis"]),c=__rest(i,["chartType","chartPalette","chartOptions"]),u=getLegacyAxisType(o),h=null==u?void 0:u.map((function(t,e){return __assign$b({type:t},0===e?s:a)}));return __assign$b({chartType:o,chartThemeName:null!==(e=LEGACY_PALETTES[n])&&void 0!==e?e:"ag-default",chartOptions:__assign$b(__assign$b({},l),{axes:h,xAxis:s,yAxis:a})},c)}function migrateV25_1(t){return t=jsonRename("chartOptions.seriesDefaults.label.minRequiredAngle","minAngle",t)}function migrateV26(t){return t=jsonMutate("chartOptions.seriesDefaults.highlightStyle",t,(function(t){var e=t.dimOpacity,i=__rest(t,["dimOpacity"]);return __assign$b(__assign$b({},i),null!=e?{series:{dimOpacity:e}}:{})})),t=jsonDelete("chart",t),t=jsonDelete("chartOptions.seriesDefaults.tooltipClass",t),t=jsonDeleteDefault("chartOptions.axes[].label.rotation",0,t=jsonDelete("chartOptions.seriesDefaults.tooltipTracking",t)),t=jsonDeleteDefault("chartOptions.axes[].label.rotation",335,t)}function migrateV26_1(t){var e=function(t){var e=t.item,i=t.series,o=__rest(t,["item","series"]);return __assign$b({item:__assign$b(__assign$b({},o),e)},i?{series:i}:{})};return t=jsonMutate("chartOptions.seriesDefaults.highlightStyle",t,e),t=jsonMutate("chartOptions.series[].highlightStyle",t,e)}function migrateV26_2(t){t=jsonMove("chartOptions.seriesDefaults.fill.opacity","chartOptions.seriesDefaults.fillOpacity",t),t=jsonMove("chartOptions.seriesDefaults.stroke.opacity","chartOptions.seriesDefaults.strokeOpacity",t),t=jsonDelete("chartOptions.seriesDefaults.fill",t=jsonMove("chartOptions.seriesDefaults.stroke.width","chartOptions.seriesDefaults.strokeWidth",t)),t=jsonDelete("chartOptions.seriesDefaults.stroke",t),t=jsonDelete("chartOptions.seriesDefaults.callout.colors",t),t=jsonDelete("chartOptions.xAxis",t);var e=t=jsonDelete("chartOptions.yAxis",t),i=e.chartType,o=e.chartOptions,n=o.axes;o.series;var r=o.seriesDefaults,s=__rest(o,["axes","series","seriesDefaults"]),a=__rest(e,["chartType","chartOptions"]),l=[getSeriesType(i)],c={};if(!l.includes("pie")){var u={top:{},bottom:{},left:{},right:{}},h=n.map((function(t){var e,i=t.type,o=__rest(t,["type"]);return(e={})[i]=__assign$b(__assign$b({},u),o),e})).reduce(merge,{});ALL_AXIS_TYPES.filter((function(t){return null==h[t]})).forEach((function(t){h[t]=__assign$b({},u)})),c.axes=h}var d=l.map((function(t){var e;return(e={})[t]=__assign$b(__assign$b(__assign$b({},c),{series:r}),s),e})).reduce(merge,{});return t=__assign$b(__assign$b({},a),{chartType:i,chartOptions:d})}function migrateV28(t){return t=jsonDelete("chartOptions.*.title.padding",t),t=jsonDelete("chartOptions.*.subtitle.padding",t),t=jsonBackfill("chartOptions.*.axes.*.title.enabled",!1,t=jsonDelete("chartOptions.*.axes.*.title.padding",t))}function migrateV28_2(t){return t=jsonRename("chartOptions.pie.series.callout","calloutLine",t),t=jsonRename("chartOptions.pie.series.label","calloutLabel",t)}function migrateV29(t){return t=jsonMoveIfMissing("chartOptions.scatter.series.fill","chartOptions.scatter.series.marker.fill",t),t=jsonMoveIfMissing("chartOptions.scatter.series.fillOpacity","chartOptions.scatter.series.marker.fillOpacity",t),t=jsonMoveIfMissing("chartOptions.scatter.series.stroke","chartOptions.scatter.series.marker.stroke",t),t=jsonMoveIfMissing("chartOptions.scatter.series.strokeOpacity","chartOptions.scatter.series.marker.strokeOpacity",t),t=jsonMove("chartOptions.scatter.series.paired","chartOptions.scatter.paired",t=jsonMoveIfMissing("chartOptions.scatter.series.strokeWidth","chartOptions.scatter.series.marker.strokeWidth",t))}function cleanup(t){return t=jsonDelete("chartOptions.*.width",t),t=jsonBackfill("chartOptions.*.axes.category.label.autoRotate",!0,t=jsonDelete("chartOptions.*.height",t))}function heuristicVersionDetection(t){var e,i,o=t;if(null!=t.version)return t.version;var n=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];return Object.keys(t||{}).some((function(t){return e.includes(t)}))},r=o.chartOptions,s=n(r,"seriesDefaults")?null==r?void 0:r.seriesDefaults:null==r?void 0:r[Object.keys(r)[0]],a={"27.0.0":n(o,"seriesChartTypes"),"26.2.0":!n(r,"seriesDefaults"),"26.1.0":n(null==s?void 0:s.highlightStyle,"item"),"26.0.0":n(null==s?void 0:s.highlightStyle,"series"),"25.1.0":n(null==s?void 0:s.label,"minAngle"),"25.0.0":n(o,"modelType","aggFunc","unlinkChart","suppressChartRanges")||n(s,"lineDash","lineDashOffset"),"24.0.0":n(o,"chartThemeName","chart")||n(r,"series"),"23.2.0":n(r,"navigator"),"23.0.0":n(null===(i=null===(e=null==r?void 0:r.legend)||void 0===e?void 0:e.item)||void 0===i?void 0:i.marker,"shape"),"22.1.0":n(o,"chartPalette","chartType")},l=Object.entries(a).filter((function(t){var e=__read$d(t,2);return e[0],e[1]})),c=__read$d(l[0],1)[0];return void 0===c?"27.1.0":c}function migrateIfBefore(t,e,i){if(versionNumber(t)>versionNumber(e.version)){var o=i(e);return o.version=t,o}return e}function versionParts(t){var e="string"==typeof t?t.split(".").map((function(t){return Number(t)})):[];if(3!==e.length||e.some((function(t){return isNaN(t)})))throw new Error("AG Grid - Illegal version string: "+t);return{major:e[0],minor:e[1],patch:e[2]}}function versionNumber(t){var e=versionParts(t);return 1e4*e.major+100*e.minor+e.patch}function jsonDeleteDefault(t,e,i){return jsonMutateProperty(t,!0,i,(function(t,i){t[i]===e&&delete t[i]}))}function jsonBackfill(t,e,i){return jsonMutateProperty(t,!1,i,(function(t,i){null==t[i]&&(t[i]=e)}))}function jsonMove(t,e,i){var o=void 0,n=!1;return i=jsonMutateProperty(t,!0,i,(function(t,e){n=!0,o=t[e],delete t[e]})),n?jsonMutateProperty(e,!1,i,(function(t,e){t[e]=o})):i}function jsonMoveIfMissing(t,e,i){var o=void 0,n=!1;return i=jsonMutateProperty(t,!0,i,(function(t,e){n=!0,o=t[e],delete t[e]})),n?jsonMutateProperty(e,!1,i,(function(t,e){void 0===t[e]&&(t[e]=o)})):i}function jsonRename(t,e,i){return jsonMutateProperty(t,!0,i,(function(t,i){t[e]=t[i],delete t[i]}))}function jsonDelete(t,e){return jsonMutateProperty(t,!0,e,(function(t,e){return delete t[e]}))}function jsonMutateProperty(t,e,i,o){var n=t instanceof Array?t:t.split("."),r=n.slice(0,n.length-1),s=n[n.length-1];return jsonMutate(r,i,(function(t){var i=Object.keys(t).includes(s);if(e&&!i)return t;var n=__assign$b({},t);return o(n,s),n}))}function jsonMutate(t,e,i){var o,n,r=t instanceof Array?t:t.split(".");if(e=__assign$b({},e),0===r.length)return i(e);if(r[0].startsWith("{")){var s=r[0].substring(1,r[0].lastIndexOf("}")).split(",");try{for(var a=__values$4(s),l=a.next();!l.done;l=a.next()){var c=l.value;null!=e[c]&&(e[c]=jsonMutate(r.slice(1),e[c],i))}}catch(t){o={error:t}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}}else if(r[0].endsWith("[]")){var u=r[0].substring(0,t[0].indexOf("["));e[u]instanceof Array&&(e[u]=e[u].map((function(t){return jsonMutate(r.slice(1),t,i)})))}else if("*"===r[0])for(var h in e)e[h]=jsonMutate(r.slice(1),e[h],i);else null!=e[r[0]]&&(e[r[0]]=jsonMutate(r.slice(1),e[r[0]],i));return e}var merge=function(t,e){return __assign$b(__assign$b({},t),e)},LEGACY_PALETTES={borneo:"ag-default",material:"ag-material",pastel:"ag-pastel",bright:"ag-vivid",flat:"ag-solar"},__extends$Q=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__assign$a=function(){return __assign$a=Object.assign||function(t){for(var e,i=1,o=arguments.length;i<o;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},__assign$a.apply(this,arguments)},__decorate$M=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},ChartService=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.activeCharts=new Set,e.activeChartComps=new Set,e.crossFilteringContext={lastSelectedChartId:""},e}return __extends$Q(e,t),e.prototype.getChartModels=function(){var t=[];return this.activeChartComps.forEach((function(e){return t.push(function(t){return __assign$a(__assign$a({},t),{version:VERSION$a})}(e.getChartModel()))})),t},e.prototype.getChartRef=function(t){var e;return this.activeCharts.forEach((function(i){i.chartId===t&&(e=i)})),e},e.prototype.getChartImageDataURL=function(t){var e;return this.activeChartComps.forEach((function(i){i.getChartId()===t.chartId&&(e=i.getChartImageDataURL(t.fileFormat))})),e},e.prototype.downloadChart=function(t){var e=Array.from(this.activeChartComps).find((function(e){return e.getChartId()===t.chartId}));null==e||e.downloadChart(t.dimensions,t.fileName,t.fileFormat)},e.prototype.openChartToolPanel=function(t){var e=Array.from(this.activeChartComps).find((function(e){return e.getChartId()===t.chartId}));null==e||e.openChartToolPanel(t.panel)},e.prototype.closeChartToolPanel=function(t){var e=Array.from(this.activeChartComps).find((function(e){return e.getChartId()===t}));null==e||e.closeChartToolPanel()},e.prototype.createChartFromCurrentRange=function(t){void 0===t&&(t="groupedColumn");var e=this.getSelectedRange();return this.createChart(e,t)},e.prototype.restoreChart=function(t,e){var i=this;if(t){t.version!==VERSION$a&&(t=upgradeChartModel(t));var o={cellRange:t.cellRange,chartType:t.chartType,chartThemeName:t.chartThemeName,chartContainer:e,suppressChartRanges:t.suppressChartRanges,aggFunc:t.aggFunc,unlinkChart:t.unlinkChart,seriesChartTypes:t.seriesChartTypes},n=function(t){return i.rangeService?i.rangeService.createCellRangeFromCellRangeParams(t):void 0};if("pivot"===t.modelType){this.columnModel.isPivotMode()||this.columnModel.setPivotMode(!0,"pivotChart");var r=n({rowStartIndex:null,rowStartPinned:void 0,rowEndIndex:null,rowEndPinned:void 0,columns:this.columnModel.getAllDisplayedColumns().map((function(t){return t.getColId()}))});return r?this.createChart(r,o.chartType,o.chartThemeName,!0,!0,o.chartContainer,void 0,void 0,o.unlinkChart,!1,t.chartOptions):void console.warn("AG Grid - unable to create chart as there are no columns in the grid.")}var s=n(o.cellRange);if(s)return this.createChart(s,o.chartType,o.chartThemeName,!1,o.suppressChartRanges,o.chartContainer,o.aggFunc,void 0,o.unlinkChart,!1,t.chartOptions,t.chartPalette,o.seriesChartTypes);console.warn("AG Grid - unable to create chart as no range is selected")}else console.warn("AG Grid - unable to restore chart as no chart model is provided")},e.prototype.createRangeChart=function(t){var e=this.rangeService?this.rangeService.createCellRangeFromCellRangeParams(t.cellRange):void 0;if(e)return this.createChart(e,t.chartType,t.chartThemeName,!1,t.suppressChartRanges,t.chartContainer,t.aggFunc,t.chartThemeOverrides,t.unlinkChart,void 0,void 0,void 0,t.seriesChartTypes);console.warn("AG Grid - unable to create chart as no range is selected")},e.prototype.createPivotChart=function(t){this.columnModel.isPivotMode()||this.columnModel.setPivotMode(!0,"pivotChart");var e={rowStartIndex:null,rowStartPinned:void 0,rowEndIndex:null,rowEndPinned:void 0,columns:this.columnModel.getAllDisplayedColumns().map((function(t){return t.getColId()}))},i=this.rangeService?this.rangeService.createCellRangeFromCellRangeParams(e):void 0;if(i)return this.createChart(i,t.chartType,t.chartThemeName,!0,!0,t.chartContainer,void 0,t.chartThemeOverrides,t.unlinkChart);console.warn("AG Grid - unable to create chart as there are no columns in the grid.")},e.prototype.createCrossFilterChart=function(t){var e=this.rangeService?this.rangeService.createCellRangeFromCellRangeParams(t.cellRange):void 0;if(e){var i=!(void 0!==t.suppressChartRanges&&null!==t.suppressChartRanges)||t.suppressChartRanges;return this.createChart(e,t.chartType,t.chartThemeName,!1,i,t.chartContainer,t.aggFunc,t.chartThemeOverrides,t.unlinkChart,!0)}console.warn("AG Grid - unable to create chart as no range is selected")},e.prototype.createChart=function(t,e,i,o,n,r,s,a,l,c,u,h,d){var p=this;void 0===o&&(o=!1),void 0===n&&(n=!1),void 0===l&&(l=!1),void 0===c&&(c=!1);var f=this.gridOptionsService.getCallback("createChartContainer"),g={chartId:this.generateId(),pivotChart:o,cellRange:t,chartType:e,chartThemeName:i,insideDialog:!(r||f),suppressChartRanges:n,aggFunc:s,chartThemeOverrides:a,unlinkChart:l,crossFiltering:c,crossFilteringContext:this.crossFilteringContext,chartOptionsToRestore:u,chartPaletteToRestore:h,seriesChartTypes:d,crossFilteringResetCallback:function(){return p.activeChartComps.forEach((function(t){return t.crossFilteringReset()}))}},m=new GridChartComp(g);this.context.createBean(m);var y=this.createChartRef(m);if(r){r.appendChild(m.getGui());var v=this.environment.getTheme();v.el&&!v.el.contains(r)&&r.classList.add(v.theme)}else f?f(y):m.addEventListener(GridChartComp.EVENT_DESTROYED,(function(){p.activeChartComps.delete(m),p.activeCharts.delete(y)}));return y},e.prototype.createChartRef=function(t){var e=this,i={destroyChart:function(){e.activeCharts.has(i)&&(e.context.destroyBean(t),e.activeChartComps.delete(t),e.activeCharts.delete(i))},chartElement:t.getGui(),chart:t.getUnderlyingChart(),chartId:t.getChartModel().chartId};return this.activeCharts.add(i),this.activeChartComps.add(t),i},e.prototype.getSelectedRange=function(){var t=this.rangeService.getCellRanges();return t.length>0?t[0]:{}},e.prototype.generateId=function(){return"id-"+Math.random().toString(36).substr(2,16)},e.prototype.destroyAllActiveCharts=function(){this.activeCharts.forEach((function(t){return t.destroyChart()}))},e.CHARTS_VERSION=VERSION$b,__decorate$M([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FiY)("rangeService")],e.prototype,"rangeService",void 0),__decorate$M([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$M([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FXL],e.prototype,"destroyAllActiveCharts",null),e=__decorate$M([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("chartService")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$P=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$L=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},ChartTranslationService=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var i;return __extends$P(e,t),i=e,e.prototype.translate=function(t,e){return this.localeService.getLocaleTextFunc()(t,i.DEFAULT_TRANSLATIONS[t]||e)},e.DEFAULT_TRANSLATIONS={pivotChartTitle:"Pivot Chart",rangeChartTitle:"Range Chart",settings:"Settings",data:"Data",format:"Format",categories:"Categories",defaultCategory:"(None)",series:"Series",xyValues:"X Y Values",paired:"Paired Mode",axis:"Axis",navigator:"Navigator",color:"Color",thickness:"Thickness",xType:"X Type",automatic:"Automatic",category:"Category",number:"Number",time:"Time",autoRotate:"Auto Rotate",xRotation:"X Rotation",yRotation:"Y Rotation",ticks:"Ticks",width:"Width",height:"Height",length:"Length",padding:"Padding",spacing:"Spacing",chart:"Chart",title:"Title",titlePlaceholder:"Chart title - double click to edit",background:"Background",font:"Font",top:"Top",right:"Right",bottom:"Bottom",left:"Left",labels:"Labels",calloutLabels:"Callout Labels",sectorLabels:"Sector Labels",positionRatio:"Position Ratio",size:"Size",shape:"Shape",minSize:"Minimum Size",maxSize:"Maximum Size",legend:"Legend",position:"Position",markerSize:"Marker Size",markerStroke:"Marker Stroke",markerPadding:"Marker Padding",itemSpacing:"Item Spacing",itemPaddingX:"Item Padding X",itemPaddingY:"Item Padding Y",layoutHorizontalSpacing:"Horizontal Spacing",layoutVerticalSpacing:"Vertical Spacing",strokeWidth:"Stroke Width",offset:"Offset",offsets:"Offsets",tooltips:"Tooltips",callout:"Callout",markers:"Markers",shadow:"Shadow",blur:"Blur",xOffset:"X Offset",yOffset:"Y Offset",lineWidth:"Line Width",lineDash:"Line Dash",normal:"Normal",bold:"Bold",italic:"Italic",boldItalic:"Bold Italic",predefined:"Predefined",fillOpacity:"Fill Opacity",strokeOpacity:"Line Opacity",histogramBinCount:"Bin count",columnGroup:"Column",barGroup:"Bar",pieGroup:"Pie",lineGroup:"Line",scatterGroup:"X Y (Scatter)",areaGroup:"Area",histogramGroup:"Histogram",combinationGroup:"Combination",groupedColumnTooltip:"Grouped",stackedColumnTooltip:"Stacked",normalizedColumnTooltip:"100% Stacked",groupedBarTooltip:"Grouped",stackedBarTooltip:"Stacked",normalizedBarTooltip:"100% Stacked",pieTooltip:"Pie",doughnutTooltip:"Doughnut",lineTooltip:"Line",groupedAreaTooltip:"Area",stackedAreaTooltip:"Stacked",normalizedAreaTooltip:"100% Stacked",scatterTooltip:"Scatter",bubbleTooltip:"Bubble",histogramTooltip:"Histogram",columnLineComboTooltip:"Column & Line",areaColumnComboTooltip:"Area & Column",customComboTooltip:"Custom Combination",noDataToChart:"No data available to be charted.",pivotChartRequiresPivotMode:"Pivot Chart requires Pivot Mode enabled.",chartSettingsToolbarTooltip:"Menu",chartLinkToolbarTooltip:"Linked to Grid",chartUnlinkToolbarTooltip:"Unlinked from Grid",chartDownloadToolbarTooltip:"Download Chart",histogramFrequency:"Frequency",seriesChartType:"Series Chart Type",seriesType:"Series Type",secondaryAxis:"Secondary Axis"},e=i=__decorate$L([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("chartTranslationService")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$O=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$K=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},ChartCrossFilterService=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var i;return __extends$O(e,t),i=e,e.prototype.filter=function(t,e){void 0===e&&(e=!1);var o=this.gridApi.getFilterModel();if(e)this.resetFilters(o);else{var n=i.extractFilterColId(t);this.isValidColumnFilter(n)?this.updateFilters(o,t,n):console.warn("AG Grid: cross filtering requires a 'agSetColumnFilter' or 'agMultiColumnFilter' to be defined on the column with id: '"+n+"'")}},e.prototype.resetFilters=function(t){Object.keys(t).length>0&&(this.gridApi.setFilterModel(null),this.gridApi.onFilterChanged())},e.prototype.updateFilters=function(t,e,o){var n,r=i.extractFilterColId(e),s=e.datum[r];if(void 0!==s){var a=s.toString();if(e.event.metaKey||e.event.ctrlKey){var l=this.getCurrentGridValuesForCategory(o),c=void 0;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(l,a)?c=l.filter((function(t){return t!==a})):(c=l).push(a),t[o]=this.getUpdatedFilterModel(o,c)}else{c=[a];(n={})[o]=this.getUpdatedFilterModel(o,c),t=n}this.gridApi.setFilterModel(t)}},e.prototype.getUpdatedFilterModel=function(t,e){return"agMultiColumnFilter"===this.getColumnFilterType(t)?{filterType:"multi",filterModels:[null,{filterType:"set",values:e}]}:{filterType:"set",values:e}},e.prototype.getCurrentGridValuesForCategory=function(t){var e=this,i=[],o=this.getColumnById(t);return this.gridApi.forEachNodeAfterFilter((function(t){if(o&&!t.group){var n=e.valueService.getValue(o,t)+"";i.includes(n)||i.push(n)}})),i},e.extractFilterColId=function(t){return t.xKey||t.calloutLabelKey},e.prototype.isValidColumnFilter=function(t){t.indexOf("-filtered-out")&&(t=t.replace("-filtered-out",""));var e=this.getColumnFilterType(t);return"boolean"==typeof e?e:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(["agSetColumnFilter","agMultiColumnFilter"],e)},e.prototype.getColumnFilterType=function(t){var e=this.getColumnById(t);if(e){var i=e.getColDef();return null!=i.filter?i.filter:i.filterFramework}},e.prototype.getColumnById=function(t){return this.columnModel.getGridColumn(t)},__decorate$K([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],e.prototype,"gridApi",void 0),__decorate$K([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$K([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("valueService")],e.prototype,"valueService",void 0),e=i=__decorate$K([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("chartCrossFilterService")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$N=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__assign$9=function(){return __assign$9=Object.assign||function(t){for(var e,i=1,o=arguments.length;i<o;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},__assign$9.apply(this,arguments)},__decorate$J=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},__read$c=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,n,r=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return s},__spread$6=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$c(arguments[e]));return t},__values$3=function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],o=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},RangeService=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cellRanges=[],e.bodyScrollListener=e.onBodyScroll.bind(e),e.dragging=!1,e.intersectionRange=!1,e}return __extends$N(e,t),e.prototype.init=function(){var t=this;this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_NEW_COLUMNS_LOADED,(function(){return t.onColumnsChanged()})),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_VISIBLE,this.onColumnsChanged.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_VALUE_CHANGED,this.onColumnsChanged.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PIVOT_MODE_CHANGED,(function(){return t.removeAllCellRanges()})),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_ROW_GROUP_CHANGED,(function(){return t.removeAllCellRanges()})),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PIVOT_CHANGED,(function(){return t.removeAllCellRanges()})),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_GROUP_OPENED,this.refreshLastRangeStart.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_MOVED,this.refreshLastRangeStart.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PINNED,this.refreshLastRangeStart.bind(this)),this.ctrlsService.whenReady((function(){var e=t.ctrlsService.getGridBodyCtrl();t.autoScrollService=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Cvn({scrollContainer:e.getBodyViewportElement(),scrollAxis:"xy",getVerticalPosition:function(){return e.getScrollFeature().getVScrollPosition().top},setVerticalPosition:function(t){return e.getScrollFeature().setVerticalScrollPosition(t)},getHorizontalPosition:function(){return e.getScrollFeature().getHScrollPosition().left},setHorizontalPosition:function(t){return e.getScrollFeature().setHorizontalScrollPosition(t)},shouldSkipVerticalScroll:function(){return!t.gridOptionsService.isDomLayout("normal")},shouldSkipHorizontalScroll:function(){return!e.getScrollFeature().isHorizontalScrollShowing()}})}))},e.prototype.onColumnsChanged=function(){var t=this;this.refreshLastRangeStart();var e=this.columnModel.getAllDisplayedColumns();this.cellRanges.forEach((function(i){var o=i.columns;i.columns=i.columns.filter((function(t){return t.isVisible()&&-1!==e.indexOf(t)})),!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.areEqual(o,i.columns)&&t.dispatchChangedEvent(!1,!0,i.id)}));var i=this.cellRanges.length;this.cellRanges=this.cellRanges.filter((function(t){return t.columns.length>0})),i>this.cellRanges.length&&this.dispatchChangedEvent(!1,!0)},e.prototype.refreshLastRangeStart=function(){var t=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(this.cellRanges);t&&this.refreshRangeStart(t)},e.prototype.isContiguousRange=function(t){var e=t.columns;if(!e.length)return!1;var i=this.columnModel.getAllDisplayedColumns(),o=e.map((function(t){return i.indexOf(t)})).sort((function(t,e){return t-e}));return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(o)-o[0]+1===e.length},e.prototype.getRangeStartRow=function(t){return t.startRow&&t.endRow?this.rowPositionUtils.before(t.startRow,t.endRow)?t.startRow:t.endRow:{rowIndex:0,rowPinned:this.pinnedRowModel.getPinnedTopRowCount()>0?"top":null}},e.prototype.getRangeEndRow=function(t){if(t.startRow&&t.endRow)return this.rowPositionUtils.before(t.startRow,t.endRow)?t.endRow:t.startRow;var e=this.pinnedRowModel.getPinnedBottomRowCount();return e>0?{rowIndex:e-1,rowPinned:"bottom"}:{rowIndex:this.rowModel.getRowCount()-1,rowPinned:null}},e.prototype.setRangeToCell=function(t,e){if(void 0===e&&(e=!1),this.gridOptionsService.isEnableRangeSelection()){var i=this.calculateColumnsBetween(t.column,t.column);if(i){(this.gridOptionsService.is("suppressMultiRangeSelection")||!e||ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(this.cellRanges))&&this.removeAllCellRanges(!0);var o={rowIndex:t.rowIndex,rowPinned:t.rowPinned},n={startRow:o,endRow:o,columns:i,startColumn:t.column};this.cellRanges.push(n),this.setNewestRangeStartCell(t),this.onDragStop(),this.dispatchChangedEvent(!0,!0)}}},e.prototype.extendLatestRangeToCell=function(t){if(!this.isEmpty()&&this.newestRangeStartCell){var e=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(this.cellRanges);this.updateRangeEnd(e,t)}},e.prototype.updateRangeEnd=function(t,e,i){void 0===i&&(i=!1);var o=e.column,n=this.calculateColumnsBetween(t.startColumn,o);n&&!this.isLastCellOfRange(t,e)&&(t.columns=n,t.endRow={rowIndex:e.rowIndex,rowPinned:e.rowPinned},i||this.dispatchChangedEvent(!0,!0,t.id))},e.prototype.refreshRangeStart=function(t){var e=t.startColumn,i=t.columns,o=function(e,i){var o=t.columns.filter((function(t){return t!==e}));e?(t.startColumn=e,t.columns=i?__spread$6([e],o):__spread$6(o,[e])):t.columns=o},n=this.getRangeEdgeColumns(t),r=n.left,s=n.right;e===i[0]&&e!==r?o(r,!0):e===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(i)&&e===s&&o(s,!1)},e.prototype.getRangeEdgeColumns=function(t){var e=this.columnModel.getAllDisplayedColumns(),i=t.columns.map((function(t){return e.indexOf(t)})).filter((function(t){return t>-1})).sort((function(t,e){return t-e}));return{left:e[i[0]],right:e[ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(i)]}},e.prototype.extendLatestRangeInDirection=function(t){if(!this.isEmpty()&&this.newestRangeStartCell){var e=t.key,i=t.ctrlKey||t.metaKey,o=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(this.cellRanges),n=this.newestRangeStartCell,r=o.columns[0],s=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(o.columns),a=o.endRow.rowIndex,l=o.endRow.rowPinned,c={column:n.column===r?s:r,rowIndex:a,rowPinned:l},u=this.cellNavigationService.getNextCellToFocus(e,c,i);if(u)return this.setCellRange({rowStartIndex:n.rowIndex,rowStartPinned:n.rowPinned,rowEndIndex:u.rowIndex,rowEndPinned:u.rowPinned,columnStart:n.column,columnEnd:u.column}),u}},e.prototype.setCellRange=function(t){this.gridOptionsService.isEnableRangeSelection()&&(this.removeAllCellRanges(!0),this.addCellRange(t))},e.prototype.setCellRanges=function(t){var e=this;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.shallowCompare(this.cellRanges,t)||(this.removeAllCellRanges(!0),t.forEach((function(t){t.columns&&t.startRow&&e.setNewestRangeStartCell({rowIndex:t.startRow.rowIndex,rowPinned:t.startRow.rowPinned,column:t.columns[0]}),e.cellRanges.push(t)})),this.dispatchChangedEvent(!1,!0))},e.prototype.setNewestRangeStartCell=function(t){this.newestRangeStartCell=t},e.prototype.clearCellRangeCellValues=function(t,e){var i=this;void 0===e&&(e="rangeService"),t||(t=this.cellRanges),t.forEach((function(t){i.forEachRowInRange(t,(function(o){var n=i.rowPositionUtils.getRowNode(o);if(n)for(var r=0;r<t.columns.length;r++){var s=i.columnModel.getGridColumn(t.columns[r]);if(!s||!s.isCellEditable(n))return;n.setDataValue(s,null,e)}}))}))},e.prototype.createCellRangeFromCellRangeParams=function(t){var e,i=this,o=!1;if(t.columns)e=t.columns.map((function(t){return i.columnModel.getColumnWithValidation(t)})).filter((function(t){return t}));else{var n=this.columnModel.getColumnWithValidation(t.columnStart),r=this.columnModel.getColumnWithValidation(t.columnEnd);if(!n||!r)return;(e=this.calculateColumnsBetween(n,r))&&e.length&&(o=e[0]!==n)}if(e)return{startRow:null!=t.rowStartIndex?{rowIndex:t.rowStartIndex,rowPinned:t.rowStartPinned||null}:void 0,endRow:null!=t.rowEndIndex?{rowIndex:t.rowEndIndex,rowPinned:t.rowEndPinned||null}:void 0,columns:e,startColumn:o?ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(e):e[0]}},e.prototype.addCellRange=function(t){if(this.gridOptionsService.isEnableRangeSelection()){var e=this.createCellRangeFromCellRangeParams(t);e&&(e.startRow&&this.setNewestRangeStartCell({rowIndex:e.startRow.rowIndex,rowPinned:e.startRow.rowPinned,column:e.startColumn}),this.cellRanges.push(e),this.dispatchChangedEvent(!1,!0,e.id))}},e.prototype.getCellRanges=function(){return this.cellRanges},e.prototype.isEmpty=function(){return 0===this.cellRanges.length},e.prototype.isMoreThanOneCell=function(){var t=this.cellRanges.length;if(0===t)return!1;if(t>1)return!0;var e=this.cellRanges[0],i=this.getRangeStartRow(e),o=this.getRangeEndRow(e);return i.rowPinned!==o.rowPinned||i.rowIndex!==o.rowIndex||1!==e.columns.length},e.prototype.areAllRangesAbleToMerge=function(){var t,e,i,o=this,n=new Map;if(this.cellRanges.length<=1)return!0;this.cellRanges.forEach((function(t){o.forEachRowInRange(t,(function(e){var i=(e.rowPinned||"normal")+"_"+e.rowIndex,o=n.get(i),r=t.columns.map((function(t){return t.getId()}));if(o){var s=r.filter((function(t){return-1===o.indexOf(t)}));o.push.apply(o,__spread$6(s))}else n.set(i,r)}))}));try{for(var r=__values$3(n.values()),s=r.next();!s.done;s=r.next()){var a=s.value.sort().join();if(void 0!==i){if(i!==a)return!1}else i=a}}catch(e){t={error:e}}finally{try{s&&!s.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return!0},e.prototype.forEachRowInRange=function(t,e){for(var i=this.getRangeStartRow(t),o=this.getRangeEndRow(t),n=i;n&&(e(n),!this.rowPositionUtils.sameRow(n,o));)n=this.cellNavigationService.getRowBelow(n)},e.prototype.removeAllCellRanges=function(t){this.isEmpty()||(this.onDragStop(),this.cellRanges.length=0,t||this.dispatchChangedEvent(!1,!0))},e.prototype.onBodyScroll=function(){this.dragging&&this.lastMouseEvent&&this.onDragging(this.lastMouseEvent)},e.prototype.isCellInAnyRange=function(t){return this.getCellRangeCount(t)>0},e.prototype.isCellInSpecificRange=function(t,e){var i=null!==e.columns&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(e.columns,t.column),o=this.isRowInRange(t.rowIndex,t.rowPinned,e);return i&&o},e.prototype.isLastCellOfRange=function(t,e){var i=t.startRow,o=t.endRow,n=this.rowPositionUtils.before(i,o)?o:i,r=e.rowIndex===n.rowIndex&&e.rowPinned===n.rowPinned,s=t.columns[0],a=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(t.columns),l=t.startColumn===s?a:s;return e.column===l&&r},e.prototype.isBottomRightCell=function(t,e){var i=this.columnModel.getAllDisplayedColumns(),o=t.columns.map((function(t){return i.indexOf(t)})).sort((function(t,e){return t-e})),n=t.startRow,r=t.endRow,s=this.rowPositionUtils.before(n,r)?r:n,a=i.indexOf(e.column)===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(o),l=e.rowIndex===s.rowIndex&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.makeNull(e.rowPinned)===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.makeNull(s.rowPinned);return a&&l},e.prototype.getCellRangeCount=function(t){var e=this;return this.isEmpty()?0:this.cellRanges.filter((function(i){return e.isCellInSpecificRange(t,i)})).length},e.prototype.isRowInRange=function(t,e,i){var o=this.getRangeStartRow(i),n=this.getRangeEndRow(i),r={rowIndex:t,rowPinned:e||null},s=r.rowIndex===o.rowIndex&&r.rowPinned==o.rowPinned,a=r.rowIndex===n.rowIndex&&r.rowPinned==n.rowPinned;if(s||a)return!0;var l=!this.rowPositionUtils.before(r,o),c=this.rowPositionUtils.before(r,n);return l&&c},e.prototype.getDraggingRange=function(){return this.draggingRange},e.prototype.onDragStart=function(t){if(this.gridOptionsService.isEnableRangeSelection()){var e=t.ctrlKey,i=t.metaKey,o=t.shiftKey,n=e||i,r=!!!this.gridOptionsService.is("suppressMultiRangeSelection")&&n,s=o&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.existsAndNotEmpty(this.cellRanges);r||s&&!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(this.cellRanges).type)||this.removeAllCellRanges(!0);var a=this.dragService.getStartTarget();if(a&&this.updateValuesOnMove(a),this.lastCellHovered){if(this.dragging=!0,this.lastMouseEvent=t,this.intersectionRange=r&&this.getCellRangeCount(this.lastCellHovered)>1,s||this.setNewestRangeStartCell(this.lastCellHovered),this.cellRanges.length>0)this.draggingRange=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(this.cellRanges);else{var l={rowIndex:this.lastCellHovered.rowIndex,rowPinned:this.lastCellHovered.rowPinned};this.draggingRange={startRow:l,endRow:l,columns:[this.lastCellHovered.column],startColumn:this.newestRangeStartCell.column},this.cellRanges.push(this.draggingRange)}this.ctrlsService.getGridBodyCtrl().addScrollEventListener(this.bodyScrollListener),this.dispatchChangedEvent(!0,!1,this.draggingRange.id)}}},e.prototype.intersectLastRange=function(t){var e=this;if(!(t&&this.dragging||this.gridOptionsService.is("suppressMultiRangeSelection")||this.isEmpty())){var i=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(this.cellRanges),o=this.getRangeStartRow(i),n=this.getRangeEndRow(i),r=[];this.cellRanges.slice(0,-1).forEach((function(t){var s=e.getRangeStartRow(t),a=e.getRangeEndRow(t),l=t.columns,c=l.filter((function(t){return-1===i.columns.indexOf(t)}));if(c.length!==l.length)if(e.rowPositionUtils.before(n,s)||e.rowPositionUtils.before(a,o))r.push(t);else{var u=r.length;if(e.rowPositionUtils.before(s,o)){var h={columns:__spread$6(l),startColumn:i.startColumn,startRow:__assign$9({},s),endRow:e.cellNavigationService.getRowAbove(o)};r.push(h)}if(c.length>0){var d={columns:c,startColumn:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(c,i.startColumn)?i.startColumn:c[0],startRow:e.rowPositionUtils.rowMax([__assign$9({},o),__assign$9({},s)]),endRow:e.rowPositionUtils.rowMin([__assign$9({},n),__assign$9({},a)])};r.push(d)}e.rowPositionUtils.before(n,a)&&r.push({columns:__spread$6(l),startColumn:i.startColumn,startRow:e.cellNavigationService.getRowBelow(n),endRow:__assign$9({},a)}),r.length-u==1&&(r[r.length-1].id=t.id)}else r.push(t)})),this.cellRanges=r,t&&this.dispatchChangedEvent(!1,!0)}},e.prototype.updateValuesOnMove=function(t){var e=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.getCtrlForEventTarget(this.gridOptionsService,t,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Ekq.DOM_DATA_KEY_CELL_CTRL),i=null==e?void 0:e.getCellPosition();this.cellHasChanged=!1,!i||this.lastCellHovered&&this.cellPositionUtils.equals(i,this.lastCellHovered)||(this.lastCellHovered&&(this.cellHasChanged=!0),this.lastCellHovered=i)},e.prototype.onDragging=function(t){var e=this;if(this.dragging&&t){this.updateValuesOnMove(t.target),this.lastMouseEvent=t;var i=this.lastCellHovered,o=function(t){return i&&i.rowPinned===t&&e.newestRangeStartCell.rowPinned===t},n=o("top")||o("bottom");if(this.autoScrollService.check(t,n),this.cellHasChanged){var r=this.calculateColumnsBetween(this.newestRangeStartCell.column,i.column);r&&(this.draggingRange.endRow={rowIndex:i.rowIndex,rowPinned:i.rowPinned},this.draggingRange.columns=r,this.dispatchChangedEvent(!1,!1,this.draggingRange.id))}}},e.prototype.onDragStop=function(){if(this.dragging){var t=this.draggingRange.id;this.autoScrollService.ensureCleared(),this.ctrlsService.getGridBodyCtrl().removeScrollEventListener(this.bodyScrollListener),this.lastMouseEvent=null,this.dragging=!1,this.draggingRange=void 0,this.lastCellHovered=void 0,this.intersectionRange&&(this.intersectionRange=!1,this.intersectLastRange()),this.dispatchChangedEvent(!1,!0,t)}},e.prototype.dispatchChangedEvent=function(t,e,i){var o={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_RANGE_SELECTION_CHANGED,started:t,finished:e,id:i};this.eventService.dispatchEvent(o)},e.prototype.calculateColumnsBetween=function(t,e){var i=this.columnModel.getAllDisplayedColumns(),o=t===e,n=i.indexOf(t);if(n<0)console.warn("AG Grid: column "+t.getId()+" is not visible");else{var r=o?n:i.indexOf(e);if(!(r<0)){if(o)return[t];for(var s=Math.min(n,r),a=s===n?r:n,l=[],c=s;c<=a;c++)l.push(i[c]);return l}console.warn("AG Grid: column "+e.getId()+" is not visible")}},__decorate$J([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowModel")],e.prototype,"rowModel",void 0),__decorate$J([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("dragService")],e.prototype,"dragService",void 0),__decorate$J([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$J([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("cellNavigationService")],e.prototype,"cellNavigationService",void 0),__decorate$J([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),__decorate$J([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowPositionUtils")],e.prototype,"rowPositionUtils",void 0),__decorate$J([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("cellPositionUtils")],e.prototype,"cellPositionUtils",void 0),__decorate$J([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ctrlsService")],e.prototype,"ctrlsService",void 0),__decorate$J([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e=__decorate$J([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("rangeService")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$M=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$I=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},AbstractSelectionHandle=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.changedCalculatedValues=!1,e.dragging=!1,e.shouldDestroyOnEndDragging=!1,e}return __extends$M(e,t),e.prototype.init=function(){var t=this;this.dragService.addDragSource({dragStartPixels:0,eElement:this.getGui(),onDragStart:this.onDragStart.bind(this),onDragging:function(e){t.dragging=!0,t.rangeService.autoScrollService.check(e),t.changedCalculatedValues&&(t.onDrag(e),t.changedCalculatedValues=!1)},onDragStop:function(e){t.dragging=!1,t.onDragEnd(e),t.clearValues(),t.rangeService.autoScrollService.ensureCleared(),document.body.classList.remove(t.getDraggingCssClass()),t.shouldDestroyOnEndDragging&&t.destroy()}}),this.addManagedListener(this.getGui(),"mousedown",this.preventRangeExtension.bind(this))},e.prototype.isDragging=function(){return this.dragging},e.prototype.getCellCtrl=function(){return this.cellCtrl},e.prototype.setCellCtrl=function(t){this.cellCtrl=t},e.prototype.getCellRange=function(){return this.cellRange},e.prototype.setCellRange=function(t){this.cellRange=t},e.prototype.getRangeStartRow=function(){return this.rangeStartRow},e.prototype.setRangeStartRow=function(t){this.rangeStartRow=t},e.prototype.getRangeEndRow=function(){return this.rangeEndRow},e.prototype.setRangeEndRow=function(t){this.rangeEndRow=t},e.prototype.getLastCellHovered=function(){return this.lastCellHovered},e.prototype.preventRangeExtension=function(t){t.stopPropagation()},e.prototype.onDragStart=function(t){this.cellHoverListener=this.addManagedListener(this.ctrlsService.getGridCtrl().getGui(),"mousemove",this.updateValuesOnMove.bind(this)),document.body.classList.add(this.getDraggingCssClass())},e.prototype.getDraggingCssClass=function(){return"ag-dragging-"+(this.type===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Lm6.FILL?"fill":"range")+"-handle"},e.prototype.updateValuesOnMove=function(t){var e=this.mouseEventService.getCellPositionForEvent(t);!e||this.lastCellHovered&&this.cellPositionUtils.equals(e,this.lastCellHovered)||(this.lastCellHovered=e,this.changedCalculatedValues=!0)},e.prototype.getType=function(){return this.type},e.prototype.refresh=function(t){var e=this.getCellCtrl(),i=this.getGui(),o=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(this.rangeService.getCellRanges()),n=o.startRow,r=o.endRow;n&&r&&(this.rowPositionUtils.before(r,n)?(this.setRangeStartRow(r),this.setRangeEndRow(n)):(this.setRangeStartRow(n),this.setRangeEndRow(r)));if(e!==t||!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.isVisible(i)){this.setCellCtrl(t);var s=t.getComp().getParentOfValue();s&&s.appendChild(i)}this.setCellRange(o)},e.prototype.clearValues=function(){this.lastCellHovered=void 0,this.removeListeners()},e.prototype.removeListeners=function(){this.cellHoverListener&&(this.cellHoverListener(),this.cellHoverListener=void 0)},e.prototype.destroy=function(){if(!this.shouldDestroyOnEndDragging&&this.isDragging())return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.getGui(),!1),void(this.shouldDestroyOnEndDragging=!0);this.shouldDestroyOnEndDragging=!1,t.prototype.destroy.call(this),this.removeListeners();var e=this.getGui();e.parentElement&&e.parentElement.removeChild(e)},__decorate$I([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowRenderer")],e.prototype,"rowRenderer",void 0),__decorate$I([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("dragService")],e.prototype,"dragService",void 0),__decorate$I([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rangeService")],e.prototype,"rangeService",void 0),__decorate$I([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("mouseEventService")],e.prototype,"mouseEventService",void 0),__decorate$I([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$I([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("cellNavigationService")],e.prototype,"cellNavigationService",void 0),__decorate$I([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("navigationService")],e.prototype,"navigationService",void 0),__decorate$I([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowPositionUtils")],e.prototype,"rowPositionUtils",void 0),__decorate$I([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("cellPositionUtils")],e.prototype,"cellPositionUtils",void 0),__decorate$I([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ctrlsService")],e.prototype,"ctrlsService",void 0),__decorate$I([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2);function findLineByLeastSquares(t){var e=t.length,i=0;if(e<=1)return t;for(var o=0;o<t.length;o++){var n=t[o],r=n.toString().split("e-");r.length>1?i=Math.max(i,parseInt(r[1],10)):Math.floor(n)!==n&&(i=Math.max(i,n.toString().split(".")[1].length))}for(var s=0,a=0,l=0,c=0,u=0,h=0;h<e;h++)s+=h,a+=u=t[h],c+=h*h,l+=h*u;var d=(e*l-s*a)/(e*c-s*s),p=a/e-d*s/e,f=[];for(h=0;h<=e;h++)f.push(parseFloat((h*d+p).toFixed(i)));return f}var __extends$L=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__assign$8=function(){return __assign$8=Object.assign||function(t){for(var e,i=1,o=arguments.length;i<o;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},__assign$8.apply(this,arguments)},__decorate$H=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},__read$b=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,n,r=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return s},__spread$5=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$b(arguments[e]));return t},FillHandle=function(t){function e(){var i=t.call(this,e.TEMPLATE)||this;return i.markedCells=[],i.cellValues=[],i.isUp=!1,i.isLeft=!1,i.isReduce=!1,i.type=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Lm6.FILL,i}return __extends$L(e,t),e.prototype.updateValuesOnMove=function(e){t.prototype.updateValuesOnMove.call(this,e),this.initialXY||(this.initialXY=this.mouseEventService.getNormalisedPosition(e));var i,o=this.initialXY,n=o.x,r=o.y,s=this.mouseEventService.getNormalisedPosition(e),a=s.x,l=s.y,c=Math.abs(n-a),u=Math.abs(r-l),h=this.getFillHandleDirection();(i="xy"===h?c>u?"x":"y":h)!==this.dragAxis&&(this.dragAxis=i,this.changedCalculatedValues=!0)},e.prototype.onDrag=function(t){if(!this.initialPosition){var e=this.getCellCtrl();if(!e)return;this.initialPosition=e.getCellPosition()}var i=this.getLastCellHovered();i&&this.markPathFrom(this.initialPosition,i)},e.prototype.onDragEnd=function(t){if(this.initialXY=null,this.markedCells.length){var e,i="x"===this.dragAxis,o=this.getCellRange(),n=o.columns.length,r=this.getRangeStartRow(),s=this.getRangeEndRow();if(this.isUp||this.isLeft){var a=i?r:this.lastCellMarked;e=this.rangeService.createCellRangeFromCellRangeParams({rowStartIndex:a.rowIndex,rowStartPinned:a.rowPinned,columnStart:i?this.lastCellMarked.column:o.columns[0],rowEndIndex:s.rowIndex,rowEndPinned:s.rowPinned,columnEnd:o.columns[n-1]})}else e=this.rangeService.createCellRangeFromCellRangeParams({rowStartIndex:r.rowIndex,rowStartPinned:r.rowPinned,columnStart:o.columns[0],rowEndIndex:i?s.rowIndex:this.lastCellMarked.rowIndex,rowEndPinned:i?s.rowPinned:this.lastCellMarked.rowPinned,columnEnd:i?this.lastCellMarked.column:o.columns[n-1]});e&&(this.raiseFillStartEvent(),this.handleValueChanged(o,e,t),this.rangeService.setCellRanges([e]),this.raiseFillEndEvent(o,e))}},e.prototype.getFillHandleDirection=function(){var t=this.gridOptionsService.get("fillHandleDirection");return t?"x"!==t&&"y"!==t&&"xy"!==t?(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce((function(){return console.warn("AG Grid: valid values for fillHandleDirection are 'x', 'y' and 'xy'. Default to 'xy'.")}),"warn invalid fill direction"),"xy"):t:"xy"},e.prototype.raiseFillStartEvent=function(){var t={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_FILL_START};this.eventService.dispatchEvent(t)},e.prototype.raiseFillEndEvent=function(t,e){var i={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_FILL_END,initialRange:t,finalRange:e};this.eventService.dispatchEvent(i)},e.prototype.handleValueChanged=function(t,e,i){var o=this,n=this.rangeService.getRangeEndRow(t),r=this.rangeService.getRangeStartRow(t),s=this.rangeService.getRangeEndRow(e),a=this.rangeService.getRangeStartRow(e),l="y"===this.dragAxis;if(!this.isReduce||this.gridOptionsService.is("suppressClearOnFillReduction")){var c=!0,u=[],h=[],d=0,p=function(){u.length=0,h.length=0,d=0},f=function(e,i){var h=o.isUp?n:r,d=!1;l&&(c=!0,p());for(var f=function(){var f=o.rowPositionUtils.getRowNode(h);if(!f)return"break";l&&e?g(u,e,f,(function(){return!o.rowPositionUtils.sameRow(h,o.isUp?r:n)})):i&&(c=!0,p(),i.forEach((function(e){return g(u,e,f,(function(){return e!==(o.isLeft?t.columns[0]:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(t.columns))}))}))),d=o.rowPositionUtils.sameRow(h,o.isUp?a:s),h=o.isUp?o.cellNavigationService.getRowAbove(h):o.cellNavigationService.getRowBelow(h)};!d&&h;){if("break"===f())break}},g=function(t,e,n,r){var s,a=!1;if(c)s=o.valueService.getValue(e,n),h.push(s),c=r();else{var l=o.processValues(i,t,h,e,n,d++),u=l.value,p=l.fromUserFunction;if(s=u,e.isCellEditable(n)){var f=o.valueService.getValue(e,n);p&&f===s?a=!0:n.setDataValue(e,s,"rangeService")}}a||t.push(s)};if(l)t.columns.forEach((function(t){f(t)}));else{m=this.isLeft?__spread$5(e.columns).reverse():e.columns;f(void 0,m)}}else{var m=l?t.columns:t.columns.filter((function(t){return e.columns.indexOf(t)<0})),y=l?this.cellNavigationService.getRowBelow(s):a;y&&this.clearCellsInRange(y,n,m)}},e.prototype.clearCellsInRange=function(t,e,i){var o={startRow:t,endRow:e,columns:i,startColumn:i[0]};this.rangeService.clearCellRangeCellValues([o])},e.prototype.processValues=function(t,e,i,o,n,r){var s,a=this.gridOptionsService.getCallback("fillOperation");if(s="y"===this.dragAxis?this.isUp?"up":"down":this.isLeft?"left":"right",a){var l=a({event:t,values:e,initialValues:i,currentIndex:r,currentCellValue:this.valueService.getValue(o,n),direction:s,column:o,rowNode:n});if(!1!==l)return{value:l,fromUserFunction:!0}}var c=!e.some((function(t){var e=parseFloat(t);return isNaN(e)||e.toString()!==t.toString()}));if(t.altKey||!c){if(c&&1===i.length){var u=this.isUp||this.isLeft?-1:1;return{value:parseFloat(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(e))+1*u,fromUserFunction:!1}}return{value:e[r%e.length],fromUserFunction:!1}}return{value:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(findLineByLeastSquares(e.map(Number))),fromUserFunction:!1}},e.prototype.clearValues=function(){this.clearMarkedPath(),this.clearCellValues(),this.lastCellMarked=void 0,t.prototype.clearValues.call(this)},e.prototype.clearMarkedPath=function(){this.markedCells.forEach((function(t){if(t.isAlive()){var e=t.getComp();e.addOrRemoveCssClass("ag-selection-fill-top",!1),e.addOrRemoveCssClass("ag-selection-fill-right",!1),e.addOrRemoveCssClass("ag-selection-fill-bottom",!1),e.addOrRemoveCssClass("ag-selection-fill-left",!1)}})),this.markedCells.length=0,this.isUp=!1,this.isLeft=!1,this.isReduce=!1},e.prototype.clearCellValues=function(){this.cellValues.length=0},e.prototype.markPathFrom=function(t,e){if(this.clearMarkedPath(),this.clearCellValues(),"y"===this.dragAxis){if(this.rowPositionUtils.sameRow(e,t))return;var i=this.rowPositionUtils.before(e,t),o=this.getRangeStartRow(),n=this.getRangeEndRow();i&&(e.rowPinned==o.rowPinned&&e.rowIndex>=o.rowIndex||o.rowPinned!=n.rowPinned&&e.rowPinned==n.rowPinned&&e.rowIndex<=n.rowIndex)?(this.reduceVertical(t,e),this.isReduce=!0):(this.extendVertical(t,e,i),this.isReduce=!1)}else{var r=t.column,s=e.column;if(r===s)return;var a=this.columnModel.getAllDisplayedColumns(),l=a.indexOf(r),c=a.indexOf(s);c<=l&&c>=a.indexOf(this.getCellRange().columns[0])?(this.reduceHorizontal(t,e),this.isReduce=!0):(this.extendHorizontal(t,e,c<l),this.isReduce=!1)}this.lastCellMarked=e},e.prototype.extendVertical=function(t,e,i){var o=this.navigationService,n=this.rangeService,r=t;do{for(var s=this.getCellRange(),a=s.columns.length,l=0;l<a;l++){var c=s.columns[l],u={rowIndex:r.rowIndex,rowPinned:r.rowPinned},h=__assign$8(__assign$8({},u),{column:c}),d=n.isCellInSpecificRange(h,s),p=this.rowPositionUtils.sameRow(r,t);if(i&&(this.isUp=!0),!p){var f=o.getCellByPosition(h);if(f){this.markedCells.push(f);var g=f.getComp();d||(g.addOrRemoveCssClass("ag-selection-fill-left",0===l),g.addOrRemoveCssClass("ag-selection-fill-right",l===a-1)),g.addOrRemoveCssClass(i?"ag-selection-fill-top":"ag-selection-fill-bottom",this.rowPositionUtils.sameRow(r,e))}}}if(this.rowPositionUtils.sameRow(r,e))break}while(r=i?this.cellNavigationService.getRowAbove(r):this.cellNavigationService.getRowBelow(r))},e.prototype.reduceVertical=function(t,e){var i=t;do{for(var o=this.getCellRange(),n=o.columns.length,r=this.rowPositionUtils.sameRow(i,e),s=0;s<n;s++){var a={rowIndex:i.rowIndex,rowPinned:i.rowPinned},l=__assign$8(__assign$8({},a),{column:o.columns[s]}),c=this.navigationService.getCellByPosition(l);if(c)this.markedCells.push(c),c.getComp().addOrRemoveCssClass("ag-selection-fill-bottom",this.rowPositionUtils.sameRow(i,e))}if(r)break}while(i=this.cellNavigationService.getRowAbove(i))},e.prototype.extendHorizontal=function(t,e,i){var o=this,n=this.columnModel.getAllDisplayedColumns(),r=n.indexOf(i?e.column:t.column),s=n.indexOf(i?this.getCellRange().columns[0]:e.column),a=i?0:1,l=n.slice(r+a,s+a),c=this.getRangeStartRow(),u=this.getRangeEndRow();l.forEach((function(t){var e=c,n=!1;do{n=o.rowPositionUtils.sameRow(e,u);var r=o.navigationService.getCellByPosition({rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:t});if(r){o.markedCells.push(r);var s=r.getComp();s.addOrRemoveCssClass("ag-selection-fill-top",o.rowPositionUtils.sameRow(e,c)),s.addOrRemoveCssClass("ag-selection-fill-bottom",o.rowPositionUtils.sameRow(e,u)),i?(o.isLeft=!0,s.addOrRemoveCssClass("ag-selection-fill-left",t===l[0])):s.addOrRemoveCssClass("ag-selection-fill-right",t===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(l))}e=o.cellNavigationService.getRowBelow(e)}while(!n)}))},e.prototype.reduceHorizontal=function(t,e){var i=this,o=this.columnModel.getAllDisplayedColumns(),n=o.indexOf(e.column),r=o.indexOf(t.column),s=o.slice(n,r),a=this.getRangeStartRow(),l=this.getRangeEndRow();s.forEach((function(t){var e=a,o=!1;do{o=i.rowPositionUtils.sameRow(e,l);var n=i.navigationService.getCellByPosition({rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:t});if(n)i.markedCells.push(n),n.getComp().addOrRemoveCssClass("ag-selection-fill-right",t===s[0]);e=i.cellNavigationService.getRowBelow(e)}while(!o)}))},e.prototype.refresh=function(e){var i=this.rangeService.getCellRanges()[0];i.startRow&&i.endRow?t.prototype.refresh.call(this,e):this.destroy()},e.TEMPLATE='<div class="ag-fill-handle"></div>',__decorate$H([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("valueService")],e.prototype,"valueService",void 0),e}(AbstractSelectionHandle),__extends$K=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__assign$7=function(){return __assign$7=Object.assign||function(t){for(var e,i=1,o=arguments.length;i<o;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},__assign$7.apply(this,arguments)},RangeHandle=function(t){function e(){var i=t.call(this,e.TEMPLATE)||this;return i.type=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Lm6.RANGE,i.rangeFixed=!1,i}return __extends$K(e,t),e.prototype.onDrag=function(t){var e=this.getLastCellHovered();if(e){var i=this.rangeService.getCellRanges(),o=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(i);if(this.rangeFixed||(this.fixRangeStartEnd(o),this.rangeFixed=!0),this.endPosition={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column},2===i.length&&i[0].type===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.StC.DIMENSION&&o.type===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.StC.VALUE)!this.rowPositionUtils.sameRow(this.endPosition,this.rangeService.getRangeEndRow(o))&&this.rangeService.updateRangeEnd(i[0],__assign$7(__assign$7({},this.endPosition),{column:i[0].columns[0]}),!0);this.rangeService.extendLatestRangeToCell(this.endPosition)}},e.prototype.onDragEnd=function(t){var e=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(this.rangeService.getCellRanges());this.fixRangeStartEnd(e),this.rangeFixed=!1},e.prototype.fixRangeStartEnd=function(t){var e=this.rangeService.getRangeStartRow(t),i=this.rangeService.getRangeEndRow(t),o=t.columns[0];t.startRow=e,t.endRow=i,t.startColumn=o},e.TEMPLATE='<div class="ag-range-handle"></div>',e}(AbstractSelectionHandle),__extends$J=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$G=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},SelectionHandleFactory=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$J(e,t),e.prototype.createSelectionHandle=function(t){return this.createBean(t===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Lm6.RANGE?new RangeHandle:new FillHandle)},e=__decorate$G([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("selectionHandleFactory")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),VERSION$9="29.3.4",RangeSelectionModule={version:VERSION$9,moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.RangeSelectionModule,beans:[RangeService,SelectionHandleFactory],agStackComponents:[{componentName:"AgFillHandle",componentClass:FillHandle},{componentName:"AgRangeHandle",componentClass:RangeHandle}],dependantModules:[EnterpriseCoreModule]},__extends$I=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$F=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},__read$a=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,n,r=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return s},AgColorPanel=function(t){function e(i){var o=t.call(this,e.TEMPLATE)||this;return o.H=1,o.S=1,o.B=1,o.A=1,o.isSpectrumDragging=!1,o.isSpectrumHueDragging=!1,o.isSpectrumAlphaDragging=!1,o.colorChanged=!1,o.picker=i.picker,o}return __extends$I(e,t),e.prototype.postConstruct=function(){var t=this.getGui();this.initRecentColors(),this.addManagedListener(this.spectrumVal,"mousedown",this.onSpectrumDraggerDown.bind(this)),this.addManagedListener(t,"mousemove",this.onSpectrumDraggerMove.bind(this)),this.addManagedListener(this.spectrumHue,"mousedown",this.onSpectrumHueDown.bind(this)),this.addManagedListener(t,"mousemove",this.onSpectrumHueMove.bind(this)),this.addManagedListener(this.spectrumAlpha,"mousedown",this.onSpectrumAlphaDown.bind(this)),this.addManagedListener(t,"mousemove",this.onSpectrumAlphaMove.bind(this)),this.addManagedListener(document,"mouseup",this.onMouseUp.bind(this)),this.addManagedListener(this.recentColors,"click",this.onRecentColorClick.bind(this))},e.prototype.refreshSpectrumRect=function(){return this.spectrumValRect=this.spectrumVal.getBoundingClientRect()},e.prototype.refreshHueRect=function(){return this.spectrumHueRect=this.spectrumHue.getBoundingClientRect()},e.prototype.refreshAlphaRect=function(){return this.spectrumAlphaRect=this.spectrumAlpha.getBoundingClientRect()},e.prototype.onSpectrumDraggerDown=function(t){this.refreshSpectrumRect(),this.isSpectrumDragging=!0,this.moveDragger(t)},e.prototype.onSpectrumDraggerMove=function(t){this.isSpectrumDragging&&this.moveDragger(t)},e.prototype.onSpectrumHueDown=function(t){this.refreshHueRect(),this.isSpectrumHueDragging=!0,this.moveHueSlider(t)},e.prototype.onSpectrumHueMove=function(t){this.isSpectrumHueDragging&&this.moveHueSlider(t)},e.prototype.onSpectrumAlphaDown=function(t){this.refreshAlphaRect(),this.isSpectrumAlphaDragging=!0,this.moveAlphaSlider(t)},e.prototype.onSpectrumAlphaMove=function(t){this.isSpectrumAlphaDragging&&this.moveAlphaSlider(t)},e.prototype.onMouseUp=function(){this.isSpectrumDragging=!1,this.isSpectrumHueDragging=!1,this.isSpectrumAlphaDragging=!1},e.prototype.moveDragger=function(t){var e=this.spectrumValRect;if(e){var i=t.clientX-e.left,o=t.clientY-e.top;i=Math.max(i,0),i=Math.min(i,e.width),o=Math.max(o,0),o=Math.min(o,e.height),this.setSpectrumValue(i/e.width,1-o/e.height)}},e.prototype.moveHueSlider=function(t){var e=this.spectrumHueRect;if(e){var i=this.spectrumHueSlider,o=i.getBoundingClientRect(),n=t.clientX-e.left;n=Math.max(n,0),n=Math.min(n,e.width),this.H=1-n/e.width,i.style.left=n+o.width/2+"px",this.update()}},e.prototype.moveAlphaSlider=function(t){var e=this.spectrumAlphaRect;if(e){var i=this.spectrumAlphaSlider,o=i.getBoundingClientRect(),n=t.clientX-e.left;n=Math.max(n,0),n=Math.min(n,e.width),this.A=n/e.width,i.style.left=n+o.width/2+"px",this.update()}},e.prototype.update=function(){var t=Color.fromHSB(360*this.H,this.S,this.B,this.A),e=Color.fromHSB(360*this.H,1,1),i=t.toRgbaString(),o=this.picker;Color.fromString(o.getValue()).toRgbaString()!==i&&(this.colorChanged=!0),o.setValue(i),this.spectrumColor.style.backgroundColor=e.toRgbaString(),this.spectrumDragger.style.backgroundColor=i},e.prototype.setSpectrumValue=function(t,e){var i=this.spectrumValRect||this.refreshSpectrumRect();if(i){var o=this.spectrumDragger,n=o.getBoundingClientRect();t=Math.max(0,t),t=Math.min(1,t),e=Math.max(0,e),e=Math.min(1,e),this.S=t,this.B=e,o.style.left=t*i.width-n.width/2+"px",o.style.top=(1-e)*i.height-n.height/2+"px",this.update()}},e.prototype.initRecentColors=function(){var t=e.recentColors.map((function(t,e){return'<div class="ag-recent-color" id='+e+' style="background-color: '+t+'; width: 15px; height: 15px;" recent-color="'+t+'"></div>'}));this.recentColors.innerHTML=t.join("")},e.prototype.setValue=function(t){var e=Color.fromString(t),i=__read$a(e.toHSB(),3),o=i[0],n=i[1],r=i[2];this.H=(isNaN(o)?0:o)/360,this.A=e.a;var s=this.spectrumHueRect||this.refreshHueRect(),a=this.spectrumAlphaRect||this.refreshAlphaRect();this.spectrumHueSlider.style.left=(this.H-1)*-s.width+"px",this.spectrumAlphaSlider.style.left=this.A*a.width+"px",this.setSpectrumValue(n,r)},e.prototype.onRecentColorClick=function(t){var i=t.target;if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(i.id)){var o=parseInt(i.id,10);this.setValue(e.recentColors[o]),this.destroy()}},e.prototype.addRecentColor=function(){var t=Color.fromHSB(360*this.H,this.S,this.B,this.A).toRgbaString(),i=e.recentColors;this.colorChanged&&i[0]!==t&&(i=i.filter((function(e){return e!=t})),(i=[t].concat(i)).length>e.maxRecentColors&&(i=i.slice(0,e.maxRecentColors)),e.recentColors=i)},e.prototype.destroy=function(){this.addRecentColor(),t.prototype.destroy.call(this)},e.maxRecentColors=8,e.recentColors=[],e.TEMPLATE='<div class="ag-color-panel">\n            <div ref="spectrumColor" class="ag-spectrum-color">\n                <div class="ag-spectrum-sat ag-spectrum-fill">\n                    <div ref="spectrumVal" class="ag-spectrum-val ag-spectrum-fill">\n                        <div ref="spectrumDragger" class="ag-spectrum-dragger"></div>\n                    </div>\n                </div>\n            </div>\n            <div class="ag-spectrum-tools">\n                <div ref="spectrumHue" class="ag-spectrum-hue ag-spectrum-tool">\n                    <div class="ag-spectrum-hue-background"></div>\n                    <div ref="spectrumHueSlider" class="ag-spectrum-slider"></div>\n                </div>\n                <div ref="spectrumAlpha" class="ag-spectrum-alpha ag-spectrum-tool">\n                    <div class="ag-spectrum-alpha-background"></div>\n                    <div ref="spectrumAlphaSlider" class="ag-spectrum-slider"></div>\n                </div>\n                <div ref="recentColors" class="ag-recent-colors"></div>\n            </div>\n        </div>',__decorate$F([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("spectrumColor")],e.prototype,"spectrumColor",void 0),__decorate$F([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("spectrumVal")],e.prototype,"spectrumVal",void 0),__decorate$F([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("spectrumDragger")],e.prototype,"spectrumDragger",void 0),__decorate$F([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("spectrumHue")],e.prototype,"spectrumHue",void 0),__decorate$F([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("spectrumHueSlider")],e.prototype,"spectrumHueSlider",void 0),__decorate$F([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("spectrumAlpha")],e.prototype,"spectrumAlpha",void 0),__decorate$F([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("spectrumAlphaSlider")],e.prototype,"spectrumAlphaSlider",void 0),__decorate$F([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("recentColors")],e.prototype,"recentColors",void 0),__decorate$F([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$H=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),AgColorPicker=function(t){function e(e){var i=t.call(this,e,"ag-color-picker","colorPicker")||this;return e&&e.color&&(i.value=e.color),i}return __extends$H(e,t),e.prototype.postConstruct=function(){t.prototype.postConstruct.call(this),this.value&&this.setValue(this.value)},e.prototype.showPicker=function(){var t=this,e=this.getGui().getBoundingClientRect(),i=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.$zI({closable:!1,modal:!0,hideTitleBar:!0,minWidth:190,width:190,height:250,x:e.right-190,y:e.top-250}));this.isPickerDisplayed=!0,i.addCssClass("ag-color-dialog"),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaExpanded(this.eWrapper,!0);var o=this.createBean(new AgColorPanel({picker:this}));return o.addDestroyFunc((function(){i.isAlive()&&t.destroyBean(i)})),i.setParentComponent(this),i.setBodyComponent(o),o.setValue(this.getValue()),i.addDestroyFunc((function(){t.isDestroyingPicker?t.isDestroyingPicker=!1:(t.isDestroyingPicker=!0,o.isAlive()&&t.destroyBean(o)),t.isAlive()&&(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaExpanded(t.eWrapper,!1),t.getFocusableElement().focus()),t.isPickerDisplayed=!1})),i},e.prototype.setValue=function(e){return this.value===e?this:(this.eDisplayField.style.backgroundColor=e,t.prototype.setValue.call(this,e))},e.prototype.getValue=function(){return this.value},e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.MQo),__read$9=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,n,r=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return s},VERSION_CHECKING_FIRST_GRID_MAJOR_VERSION=28,VERSION_CHECKING_FIRST_CHARTS_MAJOR_VERSION=6;function isValidVersion(t){return t&&t.match(/\d+\.\d+\.\d+/)}function isValidMajorVersion(t){var e=t.gridMajorVersion,i=t.chartsMajorVersion,o=parseInt(e,10),n=parseInt(i,10),r=o-VERSION_CHECKING_FIRST_GRID_MAJOR_VERSION;return r===n-VERSION_CHECKING_FIRST_CHARTS_MAJOR_VERSION&&r>=0}function gridChartVersion(t){if(t&&isValidVersion(t)){var e=__read$9(t.split(".")||[],2),i=e[0],o=e[1],n=i+"."+o+".x",r=parseInt(i,10)-VERSION_CHECKING_FIRST_GRID_MAJOR_VERSION+VERSION_CHECKING_FIRST_CHARTS_MAJOR_VERSION;if(!(r<0))return{gridMajorMinor:n,chartsMajorMinor:r+"."+o+".x"}}}function validGridChartsVersionErrorMessage(t){var e=t.type,i=t.gridVersion,o=t.chartsVersion,n="AG Grid: AG Grid version is incompatible. Please see https://www.ag-grid.com/javascript-data-grid/modules/ for more information.";if(!i)return n;var r=gridChartVersion(i);if(!r)return n;var s=r.gridMajorMinor,a=r.chartsMajorMinor;return"incompatible"===e?"AG Grid version "+i+" and AG Charts version "+o+" is not supported. AG Grid version "+s+" should be used with AG Chart "+a+". Please see https://www.ag-grid.com/javascript-data-grid/modules/ for more information.":"invalidCharts"===e?"AG Grid version "+s+" should be used with AG Chart "+a+". Please see https://www.ag-grid.com/javascript-data-grid/modules/ for more information.":n}function validGridChartsVersion(t){var e=t.gridVersion,i=t.chartsVersion;if(!isValidVersion(i))return{isValid:!1,message:validGridChartsVersionErrorMessage({type:"invalidCharts",gridVersion:e,chartsVersion:i})};if(!isValidVersion(e))return{isValid:!1,message:validGridChartsVersionErrorMessage({type:"invalidGrid",gridVersion:e,chartsVersion:i})};var o=__read$9(e.split(".")||[],2),n=o[0],r=o[1],s=__read$9(i.split(".")||[],2),a=s[0],l=s[1],c=isValidMajorVersion({gridMajorVersion:n,chartsMajorVersion:a});return c&&r===l?{isValid:!0}:c&&r===l?{isValid:!1,message:validGridChartsVersionErrorMessage({type:"invalid",gridVersion:e,chartsVersion:i})}:{isValid:!1,message:validGridChartsVersionErrorMessage({type:"incompatible",gridVersion:e,chartsVersion:i})}}var GridChartsModule={version:VERSION$a,validate:function(){return validGridChartsVersion({gridVersion:VERSION$a,chartsVersion:ChartService.CHARTS_VERSION})},moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.GridChartsModule,beans:[ChartService,ChartTranslationService,ChartCrossFilterService],agStackComponents:[{componentName:"AgColorPicker",componentClass:AgColorPicker},{componentName:"AgAngleSelect",componentClass:AgAngleSelect}],dependantModules:[RangeSelectionModule,EnterpriseCoreModule]},__FORCE_MODULE_DETECTION_AG_GRID_CORE_EXT=0,agCharts={time,AgChart},__extends$G=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__assign$6=function(){return __assign$6=Object.assign||function(t){for(var e,i=1,o=arguments.length;i<o;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},__assign$6.apply(this,arguments)},__decorate$E=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},DetailCellRendererCtrl=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.loadRowDataVersion=0,e.needRefresh=!1,e}return __extends$G(e,t),e.prototype.init=function(t,e){var i=this;this.params=e,this.comp=t,null!=e.pinned||(this.setAutoHeightClasses(),this.setupRefreshStrategy(),this.addThemeToDetailGrid(),this.createDetailGrid(),this.loadRowData(),this.addManagedListener(e.node.parent,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Fxk.EVENT_DATA_CHANGED,(function(){i.needRefresh=!0})),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_FULL_WIDTH_ROW_FOCUSED,this.onFullWidthRowFocused.bind(this)))},e.prototype.onFullWidthRowFocused=function(t){var e=this.params,i={rowIndex:e.node.rowIndex,rowPinned:e.node.rowPinned},o={rowIndex:t.rowIndex,rowPinned:t.rowPinned};this.rowPositionUtils.sameRow(i,o)&&this.focusService.focusInto(this.comp.getGui(),t.fromBelow)},e.prototype.setAutoHeightClasses=function(){var t=this.gridOptionsService.is("detailRowAutoHeight"),e=t?"ag-details-row-auto-height":"ag-details-row-fixed-height",i=t?"ag-details-grid-auto-height":"ag-details-grid-fixed-height";this.comp.addOrRemoveCssClass(e,!0),this.comp.addOrRemoveDetailGridCssClass(i,!0)},e.prototype.setupRefreshStrategy=function(){var t=this.params.refreshStrategy;"everything"==t||"nothing"==t||"rows"==t?this.refreshStrategy=t:(null!=t&&console.warn("AG Grid: invalid cellRendererParams.refreshStrategy = '"+t+"' supplied, defaulting to refreshStrategy = 'rows'."),this.refreshStrategy="rows")},e.prototype.addThemeToDetailGrid=function(){var t=this.environment.getTheme().theme;t&&this.comp.addOrRemoveDetailGridCssClass(t,!0)},e.prototype.createDetailGrid=function(){if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(this.params.detailGridOptions))console.warn("AG Grid: could not find detail grid options for master detail, please set gridOptions.detailCellRendererParams.detailGridOptions");else{var t=this.gridOptionsService.is("detailRowAutoHeight"),e=__assign$6({},this.params.detailGridOptions);t&&(e.domLayout="autoHeight"),this.comp.setDetailGrid(e)}},e.prototype.registerDetailWithMaster=function(t,e){var i=this.params.node.id,o=this.params.api,n={id:i,api:t,columnApi:e},r=this.params.node;o.addDetailGridInfo(i,n),r.detailGridInfo=n,this.addDestroyFunc((function(){r.detailGridInfo===n&&(o.removeDetailGridInfo(i),r.detailGridInfo=null)}))},e.prototype.loadRowData=function(){var t=this;this.loadRowDataVersion++;var e=this.loadRowDataVersion,i=this.params.getDetailRowData;if(i){i({node:this.params.node,data:this.params.node.data,successCallback:function(i){t.loadRowDataVersion===e&&t.comp.setRowData(i)},context:this.gridOptionsService.context})}else console.warn("AG Grid: could not find getDetailRowData for master / detail, please set gridOptions.detailCellRendererParams.getDetailRowData")},e.prototype.refresh=function(){return!this.needRefresh||"nothing"===this.refreshStrategy||(this.needRefresh=!1,"everything"!==this.refreshStrategy&&(this.loadRowData(),true))},__decorate$E([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowPositionUtils")],e.prototype,"rowPositionUtils",void 0),__decorate$E([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("focusService")],e.prototype,"focusService",void 0),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$F=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$D=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},DetailCellRenderer=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$F(e,t),e.prototype.init=function(t){var e=this;this.params=t,this.selectAndSetTemplate();var i={addOrRemoveCssClass:function(t,i){return e.addOrRemoveCssClass(t,i)},addOrRemoveDetailGridCssClass:function(t,i){return e.eDetailGrid.classList.toggle(t,i)},setDetailGrid:function(t){return e.setDetailGrid(t)},setRowData:function(t){return e.setRowData(t)},getGui:function(){return e.eDetailGrid}};this.ctrl=this.createManagedBean(new DetailCellRendererCtrl),this.ctrl.init(i,t)},e.prototype.refresh=function(){return this.ctrl&&this.ctrl.refresh()},e.prototype.destroy=function(){t.prototype.destroy.call(this)},e.prototype.selectAndSetTemplate=function(){var t=this;if(this.params.pinned)this.setTemplate('<div class="ag-details-row"></div>');else{var i=function(){t.setTemplate(e.TEMPLATE)};if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(this.params.template))i();else if("string"==typeof this.params.template)this.setTemplate(this.params.template);else if("function"==typeof this.params.template){var o=(0,this.params.template)(this.params);this.setTemplate(o)}else console.warn("AG Grid: detailCellRendererParams.template should be function or string"),i();null==this.eDetailGrid&&console.warn('AG Grid: reference to eDetailGrid was missing from the details template. Please add ref="eDetailGrid" to the template.')}},e.prototype.setDetailGrid=function(t){if(this.eDetailGrid){var e=this.context.getBean("agGridReact"),i=e?ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.cloneObject(e):void 0,o=this.context.getBean("frameworkComponentWrapper"),n=this.getFrameworkOverrides();new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.rjZ(this.eDetailGrid,t,{frameworkOverrides:n,providedBeanInstances:{agGridReact:i,frameworkComponentWrapper:o}}),this.detailApi=t.api,this.ctrl.registerDetailWithMaster(t.api,t.columnApi),this.addDestroyFunc((function(){t.api&&t.api.destroy()}))}},e.prototype.setRowData=function(t){this.detailApi&&this.detailApi.setRowData(t)},e.TEMPLATE='<div class="ag-details-row" role="gridcell">\n            <div ref="eDetailGrid" class="ag-details-grid" role="presentation"></div>\n        </div>',__decorate$D([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eDetailGrid")],e.prototype,"eDetailGrid",void 0),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),VERSION$8="29.3.4",MasterDetailModule={version:VERSION$8,moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.MasterDetailModule,beans:[],userComponents:[{componentName:"agDetailCellRenderer",componentClass:DetailCellRenderer}],controllers:[{controllerName:"detailCellRenderer",controllerClass:DetailCellRendererCtrl}],dependantModules:[EnterpriseCoreModule]},__extends$E=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$C=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},EnterpriseMenuFactory=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$E(e,t),e.prototype.hideActiveMenu=function(){this.destroyBean(this.activeMenu)},e.prototype.showMenuAfterMouseEvent=function(t,e,i){var o=this;this.showMenu(t,(function(n){var r=n.getGui();o.popupService.positionPopupUnderMouseEvent({type:"columnMenu",column:t,mouseEvent:e,ePopup:r}),i&&n.showTab(i)}),"columnMenu",i,void 0,e.target)},e.prototype.showMenuAfterButtonClick=function(t,e,i,o,n){var r=this,s=-1,a="left";this.gridOptionsService.is("enableRtl")&&(s=1,a="right"),this.showMenu(t,(function(n){var l=n.getGui();r.popupService.positionPopupByComponent({type:i,column:t,eventSource:e,ePopup:l,alignSide:a,nudgeX:9*s,nudgeY:-23,position:"under",keepWithinBounds:!0}),o&&n.showTab(o)}),i,o,n,e)},e.prototype.showMenu=function(t,e,i,o,n,r){var s=this,a=this.getMenuParams(t,n,r),l=a.menu,c=a.eMenuGui,u=a.currentHeaderPosition,h=a.currentColumnIndex,d=a.anchorToElement,p=[];p.push(this.getClosedCallback(t,l,u,h,r));var f=this.localeService.getLocaleTextFunc(),g=this.popupService.addPopup({modal:!0,eChild:c,closeOnEsc:!0,closedCallback:function(t){p.forEach((function(e){return e(t)}))},afterGuiAttached:function(t){return l.afterGuiAttached(Object.assign({},{container:i},t))},positionCallback:o?function(){return e(l)}:void 0,anchorToElement:d,ariaLabel:f("ariaLabelColumnMenu","Column Menu")});this.addStopAnchoring(null==g?void 0:g.stopAnchoringPromise,t,p),o||(l.showTabBasedOnPreviousSelection(),e(l)),l.addEventListener(EnterpriseMenu.EVENT_TAB_SELECTED,(function(t){s.lastSelectedTab=t.key})),t.setMenuVisible(!0,"contextMenu"),this.activeMenu=l,l.addEventListener(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9.EVENT_DESTROYED,(function(){s.activeMenu===l&&(s.activeMenu=null)}))},e.prototype.getClosedCallback=function(t,e,i,o,n){var r=this;return function(s){if(r.destroyBean(e),t.setMenuVisible(!1,"contextMenu"),s instanceof KeyboardEvent&&n)if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.isVisible(n)){var a=r.focusService.findTabbableParent(n);a&&(t&&r.headerNavigationService.scrollToColumn(t),a.focus())}else if(i&&-1!==o){var l=r.columnModel.getAllDisplayedColumns(),c=l[o]||ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(l);c&&r.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:i.headerRowIndex,column:c}})}}},e.prototype.addStopAnchoring=function(t,e,i){t&&t.then((function(t){e.addEventListener("leftChanged",t),e.addEventListener("visibleChanged",t),i.push((function(){e.removeEventListener("leftChanged",t),e.removeEventListener("visibleChanged",t)}))}))},e.prototype.getMenuParams=function(t,e,i){var o=this.createBean(new EnterpriseMenu(t,this.lastSelectedTab,e));return{menu:o,eMenuGui:o.getGui(),currentHeaderPosition:this.focusService.getFocusedHeader(),currentColumnIndex:this.columnModel.getAllDisplayedColumns().indexOf(t),anchorToElement:i||this.ctrlsService.getGridBodyCtrl().getGui()}},e.prototype.isMenuEnabled=function(t){return t.getMenuTabs(EnterpriseMenu.TABS_DEFAULT).length>0},__decorate$C([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("popupService")],e.prototype,"popupService",void 0),__decorate$C([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("focusService")],e.prototype,"focusService",void 0),__decorate$C([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("headerNavigationService")],e.prototype,"headerNavigationService",void 0),__decorate$C([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ctrlsService")],e.prototype,"ctrlsService",void 0),__decorate$C([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),e=__decorate$C([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("menuFactory")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),EnterpriseMenu=function(t){function e(i,o,n){var r=t.call(this)||this;return r.tabFactories={},r.includeChecks={},r.column=i,r.initialSelection=o,r.tabFactories[e.TAB_GENERAL]=r.createMainPanel.bind(r),r.tabFactories[e.TAB_FILTER]=r.createFilterPanel.bind(r),r.tabFactories[e.TAB_COLUMNS]=r.createColumnsPanel.bind(r),r.includeChecks[e.TAB_GENERAL]=function(){return!0},r.includeChecks[e.TAB_FILTER]=function(){return r.filterManager.isFilterAllowed(i)},r.includeChecks[e.TAB_COLUMNS]=function(){return!0},r.restrictTo=n,r}return __extends$E(e,t),e.prototype.init=function(){var t=this,e=this.getTabsToCreate().map((function(e){return t.createTab(e)}));this.tabbedLayout=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.WD6({items:e,cssClass:"ag-menu",onActiveItemClicked:this.onHidePopup.bind(this),onItemClicked:this.onTabItemClicked.bind(this)}),this.createBean(this.tabbedLayout),this.mainMenuList&&this.mainMenuList.setParentComponent(this.tabbedLayout),this.addDestroyFunc((function(){return t.destroyBean(t.tabbedLayout)}))},e.prototype.getTabsToCreate=function(){var t=this;return this.restrictTo?this.restrictTo:this.column.getMenuTabs(e.TABS_DEFAULT).filter((function(e){return t.isValidMenuTabItem(e)})).filter((function(e){return t.isNotSuppressed(e)})).filter((function(e){return t.isModuleLoaded(e)}))},e.prototype.isModuleLoaded=function(t){return t!==e.TAB_COLUMNS||ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.isRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.ColumnsToolPanelModule)},e.prototype.isValidMenuTabItem=function(t){var i=!0,o=e.TABS_DEFAULT;return null!=this.restrictTo&&(i=this.restrictTo.indexOf(t)>-1,o=this.restrictTo),(i=i&&e.TABS_DEFAULT.indexOf(t)>-1)||console.warn("AG Grid: Trying to render an invalid menu item '"+t+"'. Check that your 'menuTabs' contains one of ["+o+"]"),i},e.prototype.isNotSuppressed=function(t){return this.includeChecks[t]()},e.prototype.createTab=function(t){return this.tabFactories[t]()},e.prototype.showTabBasedOnPreviousSelection=function(){this.showTab(this.initialSelection)},e.prototype.showTab=function(t){this.tabItemColumns&&t===e.TAB_COLUMNS?this.tabbedLayout.showItem(this.tabItemColumns):this.tabItemFilter&&t===e.TAB_FILTER?this.tabbedLayout.showItem(this.tabItemFilter):this.tabItemGeneral&&t===e.TAB_GENERAL?this.tabbedLayout.showItem(this.tabItemGeneral):this.tabbedLayout.showFirstItem()},e.prototype.onTabItemClicked=function(t){var i=null;switch(t.item){case this.tabItemColumns:i=e.TAB_COLUMNS;break;case this.tabItemFilter:i=e.TAB_FILTER;break;case this.tabItemGeneral:i=e.TAB_GENERAL}i&&this.activateTab(i)},e.prototype.activateTab=function(t){var i={type:e.EVENT_TAB_SELECTED,key:t};this.dispatchEvent(i)},e.prototype.getMenuItems=function(){var t,i=this.getDefaultMenuOptions(),o=this.gridOptionsService.getCallback("getMainMenuItems");return t=o?o({column:this.column,defaultItems:i}):i,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeRepeatsFromArray(t,e.MENU_ITEM_SEPARATOR),t},e.prototype.getDefaultMenuOptions=function(){var t=[],i=!this.column.getColDef().lockPinned,o=this.columnModel.getRowGroupColumns().length,n=o>0,r=this.columnModel.getRowGroupColumns().indexOf(this.column)>=0,s=this.column.isAllowValue(),a=this.column.isAllowRowGroup(),l=this.column.isPrimary(),c=this.columnModel.isPivotMode(),u="clientSide"===this.rowModel.getType(),h=this.gridOptionsService.isTreeData(),d=l&&n&&s||!l;return i&&t.push("pinSubMenu"),d&&t.push("valueAggSubMenu"),(i||d)&&t.push(e.MENU_ITEM_SEPARATOR),t.push("autoSizeThis"),t.push("autoSizeAll"),t.push(e.MENU_ITEM_SEPARATOR),a&&this.column.isPrimary()&&(r?t.push("rowUnGroup"):t.push("rowGroup")),t.push(e.MENU_ITEM_SEPARATOR),t.push("resetColumns"),u&&(h||o>(c?1:0))&&(t.push("expandAll"),t.push("contractAll")),t},e.prototype.createMainPanel=function(){this.mainMenuList=this.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O_3);var t=this.getMenuItems(),i=this.menuItemMapper.mapWithStockItems(t,this.column);return this.mainMenuList.addMenuItems(i),this.mainMenuList.addEventListener(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sJC.EVENT_MENU_ITEM_SELECTED,this.onHidePopup.bind(this)),this.tabItemGeneral={title:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("menu",this.gridOptionsService,this.column),titleLabel:e.TAB_GENERAL.replace("MenuTab",""),bodyPromise:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S.resolve(this.mainMenuList.getGui()),name:e.TAB_GENERAL},this.tabItemGeneral},e.prototype.onHidePopup=function(t){var e;t&&t.event&&t.event instanceof KeyboardEvent&&(e=t.event),this.hidePopupFunc(e&&{keyboardEvent:e});var i=this.focusService.getFocusedCell(),o=this.gridOptionsService.getDocument();if(o.activeElement===o.body&&i){var n=i.rowIndex,r=i.rowPinned,s=i.column;this.focusService.setFocusedCell({rowIndex:n,column:s,rowPinned:r,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}},e.prototype.createFilterPanel=function(){var t=this.filterManager.getOrCreateFilterWrapper(this.column,"COLUMN_MENU");if(!t)throw new Error("AG Grid - Unable to instantiate filter");return this.tabItemFilter={title:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("filter",this.gridOptionsService,this.column),titleLabel:e.TAB_FILTER.replace("MenuTab",""),bodyPromise:null==t?void 0:t.guiPromise,afterAttachedCallback:function(e){(null==t?void 0:t.filterPromise)&&t.filterPromise.then((function(t){t&&t.afterGuiAttached&&t.afterGuiAttached(e)}))},afterDetachedCallback:function(){var e;return null===(e=null==t?void 0:t.filterPromise)||void 0===e?void 0:e.then((function(t){var e;return null===(e=null==t?void 0:t.afterGuiDetached)||void 0===e?void 0:e.call(t)}))},name:e.TAB_FILTER},this.tabItemFilter},e.prototype.createColumnsPanel=function(){var t=document.createElement("div");t.classList.add("ag-menu-column-select-wrapper");var i=this.createManagedBean(new PrimaryColsPanel),o=this.column.getColDef().columnsMenuParams;o||(o={});var n=o.contractColumnSelection,r=o.suppressColumnExpandAll,s=o.suppressColumnFilter,a=o.suppressColumnSelectAll,l=o.suppressSyncLayoutWithGrid,c=o.columnLayout;i.init(!1,{suppressColumnMove:!1,suppressValues:!1,suppressPivots:!1,suppressRowGroups:!1,suppressPivotMode:!1,contractColumnSelection:!!n,suppressColumnExpandAll:!!r,suppressColumnFilter:!!s,suppressColumnSelectAll:!!a,suppressSyncLayoutWithGrid:!!c||!!l,api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsService.context},"columnMenu"),c&&i.setColumnLayout(c);var u=i.getGui();return u.classList.add("ag-menu-column-select"),t.appendChild(u),this.tabItemColumns={title:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("columns",this.gridOptionsService,this.column),titleLabel:e.TAB_COLUMNS.replace("MenuTab",""),bodyPromise:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S.resolve(t),name:e.TAB_COLUMNS},this.tabItemColumns},e.prototype.afterGuiAttached=function(t){var e=t.container,i=t.hidePopup;this.tabbedLayout.setAfterAttachedParams({container:e,hidePopup:i}),i&&(this.hidePopupFunc=i,this.addDestroyFunc(i))},e.prototype.getGui=function(){return this.tabbedLayout.getGui()},e.EVENT_TAB_SELECTED="tabSelected",e.TAB_FILTER="filterMenuTab",e.TAB_GENERAL="generalMenuTab",e.TAB_COLUMNS="columnsMenuTab",e.TABS_DEFAULT=[e.TAB_GENERAL,e.TAB_FILTER,e.TAB_COLUMNS],e.MENU_ITEM_SEPARATOR="separator",__decorate$C([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$C([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("filterManager")],e.prototype,"filterManager",void 0),__decorate$C([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],e.prototype,"gridApi",void 0),__decorate$C([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnApi")],e.prototype,"columnApi",void 0),__decorate$C([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("menuItemMapper")],e.prototype,"menuItemMapper",void 0),__decorate$C([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowModel")],e.prototype,"rowModel",void 0),__decorate$C([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("focusService")],e.prototype,"focusService",void 0),__decorate$C([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$D=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__assign$5=function(){return __assign$5=Object.assign||function(t){for(var e,i=1,o=arguments.length;i<o;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},__assign$5.apply(this,arguments)},__decorate$B=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},CSS_MENU="ag-menu",CSS_CONTEXT_MENU_OPEN="ag-context-menu-open",ContextMenuFactory=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$D(e,t),e.prototype.hideActiveMenu=function(){this.destroyBean(this.activeMenu)},e.prototype.getMenuItems=function(t,e,i){var o=[];if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(t)&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.isRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.ClipboardModule)&&e&&(this.gridOptionsService.is("suppressCutToClipboard")||o.push("cut"),o.push("copy","copyWithHeaders","copyWithGroupHeaders","paste","separator")),this.gridOptionsService.is("enableCharts")&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.isRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.GridChartsModule)&&(this.columnModel.isPivotMode()&&o.push("pivotChart"),this.rangeService&&!this.rangeService.isEmpty()&&o.push("chartRange")),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(t)){var n=!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.isRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.CsvExportModule),r=!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.isRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.ExcelExportModule),s=this.gridOptionsService.is("suppressExcelExport")||r,a=this.gridOptionsService.is("suppressCsvExport")||n;!(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.isIOSUserAgent()||s&&a)&&o.push("export")}var l=this.gridOptionsService.getCallback("getContextMenuItems");return l?l({node:t,column:e,value:i,defaultItems:o.length?o:void 0}):o},e.prototype.onContextMenu=function(t,e,i,o,n,r){if((this.gridOptionsService.is("allowContextMenuWithControlKey")||!t||!t.ctrlKey&&!t.metaKey)&&(t&&this.blockMiddleClickScrollsIfNeeded(t),!this.gridOptionsService.is("suppressContextMenu"))){var s=t||e.touches[0];if(this.showMenu(i,o,n,s,r))(t||e).preventDefault()}},e.prototype.blockMiddleClickScrollsIfNeeded=function(t){var e=this.gridOptionsService,i=t.which;e.is("suppressMiddleClickScrolls")&&2===i&&t.preventDefault()},e.prototype.showMenu=function(t,e,i,o,n){var r=this,s=this.getMenuItems(t,e,i),a=this.ctrlsService.getGridBodyCtrl().getGui();if(void 0===s||ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missingOrEmpty(s))return!1;var l=new ContextMenu(s);this.createBean(l);var c=l.getGui(),u={column:e,rowNode:t,type:"contextMenu",mouseEvent:o,ePopup:c,nudgeY:1},h=this.localeService.getLocaleTextFunc(),d=this.popupService.addPopup({modal:!0,eChild:c,closeOnEsc:!0,closedCallback:function(){a.classList.remove(CSS_CONTEXT_MENU_OPEN),r.destroyBean(l)},click:o,positionCallback:function(){var t=r.gridOptionsService.is("enableRtl");r.popupService.positionPopupUnderMouseEvent(__assign$5(__assign$5({},u),{nudgeX:t?-1*(c.offsetWidth+1):1}))},anchorToElement:n,ariaLabel:h("ariaLabelContextMenu","Context Menu")});return d&&(a.classList.add(CSS_CONTEXT_MENU_OPEN),l.afterGuiAttached({container:"contextMenu",hidePopup:d.hideFunc})),this.activeMenu&&this.hideActiveMenu(),this.activeMenu=l,l.addEventListener(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9.EVENT_DESTROYED,(function(){r.activeMenu===l&&(r.activeMenu=null)})),d&&l.addEventListener(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sJC.EVENT_MENU_ITEM_SELECTED,d.hideFunc),!0},__decorate$B([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("popupService")],e.prototype,"popupService",void 0),__decorate$B([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FiY)("rangeService")],e.prototype,"rangeService",void 0),__decorate$B([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ctrlsService")],e.prototype,"ctrlsService",void 0),__decorate$B([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),e=__decorate$B([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("contextMenuFactory")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),ContextMenu=function(t){function e(e){var i=t.call(this,'<div class="'+CSS_MENU+'" role="presentation"></div>')||this;return i.menuList=null,i.focusedCell=null,i.menuItems=e,i}return __extends$D(e,t),e.prototype.addMenuItems=function(){var t=this,e=this.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O_3),i=this.menuItemMapper.mapWithStockItems(this.menuItems,null);e.addMenuItems(i),this.appendChild(e),this.menuList=e,e.addEventListener(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sJC.EVENT_MENU_ITEM_SELECTED,(function(e){return t.dispatchEvent(e)}))},e.prototype.afterGuiAttached=function(t){t.hidePopup&&this.addDestroyFunc(t.hidePopup),this.focusedCell=this.focusService.getFocusedCell(),this.menuList&&this.focusService.focusInto(this.menuList.getGui())},e.prototype.restoreFocusedCell=function(){var t=this.focusService.getFocusedCell();if(t&&this.focusedCell&&this.cellPositionUtils.equals(t,this.focusedCell)){var e=this.focusedCell,i=e.rowIndex,o=e.rowPinned,n=e.column,r=this.gridOptionsService.getDocument();r.activeElement===r.body&&this.focusService.setFocusedCell({rowIndex:i,column:n,rowPinned:o,forceBrowserFocus:!0})}},e.prototype.destroy=function(){this.restoreFocusedCell(),t.prototype.destroy.call(this)},__decorate$B([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("menuItemMapper")],e.prototype,"menuItemMapper",void 0),__decorate$B([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("focusService")],e.prototype,"focusService",void 0),__decorate$B([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("cellPositionUtils")],e.prototype,"cellPositionUtils",void 0),__decorate$B([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"addMenuItems",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$C=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__assign$4=function(){return __assign$4=Object.assign||function(t){for(var e,i=1,o=arguments.length;i<o;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},__assign$4.apply(this,arguments)},__decorate$A=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},MenuItemMapper=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$C(e,t),e.prototype.mapWithStockItems=function(t,e){var i=this;if(!t)return[];var o=[];return t.forEach((function(t){var n;if(n="string"==typeof t?i.getStockMenuItem(t,e):__assign$4({},t)){var r=n,s=r.subMenu;s&&s instanceof Array&&(r.subMenu=i.mapWithStockItems(s,e)),null!=n&&o.push(n)}})),o},e.prototype.getStockMenuItem=function(t,e){var i,o=this,n=this.localeService.getLocaleTextFunc(),r=this.gridOptionsService.is("skipHeaderOnAutoSize");switch(t){case"pinSubMenu":return{name:n("pinColumn","Pin Column"),icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("menuPin",this.gridOptionsService,null),subMenu:["clearPinned","pinLeft","pinRight"]};case"pinLeft":return{name:n("pinLeft","Pin Left"),action:function(){return o.columnModel.setColumnPinned(e,"left","contextMenu")},checked:!!e&&e.isPinnedLeft()};case"pinRight":return{name:n("pinRight","Pin Right"),action:function(){return o.columnModel.setColumnPinned(e,"right","contextMenu")},checked:!!e&&e.isPinnedRight()};case"clearPinned":return{name:n("noPin","No Pin"),action:function(){return o.columnModel.setColumnPinned(e,null,"contextMenu")},checked:!!e&&!e.isPinned()};case"valueAggSubMenu":return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.assertRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.RowGroupingModule,"Aggregation from Menu")&&((null==e?void 0:e.isPrimary())||(null==e?void 0:e.getColDef().pivotValueColumn))?{name:n("valueAggregation","Value Aggregation"),icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("menuValue",this.gridOptionsService,null),subMenu:this.createAggregationSubMenu(e)}:null;case"autoSizeThis":return{name:n("autosizeThiscolumn","Autosize This Column"),action:function(){return o.columnModel.autoSizeColumn(e,r,"contextMenu")}};case"autoSizeAll":return{name:n("autosizeAllColumns","Autosize All Columns"),action:function(){return o.columnModel.autoSizeAllColumns(r,"contextMenu")}};case"rowGroup":return{name:n("groupBy","Group by")+" "+ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.escapeString(this.columnModel.getDisplayNameForColumn(e,"header")),action:function(){return o.columnModel.addRowGroupColumn(e,"contextMenu")},icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("menuAddRowGroup",this.gridOptionsService,null)};case"rowUnGroup":return{name:n("ungroupBy","Un-Group by")+" "+ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.escapeString(this.columnModel.getDisplayNameForColumn(e,"header")),action:function(){return o.columnModel.removeRowGroupColumn(e,"contextMenu")},icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("menuRemoveRowGroup",this.gridOptionsService,null)};case"resetColumns":return{name:n("resetColumns","Reset Columns"),action:function(){return o.columnModel.resetColumnState("contextMenu")}};case"expandAll":return{name:n("expandAll","Expand All"),action:function(){return o.gridApi.expandAll()}};case"contractAll":return{name:n("collapseAll","Collapse All"),action:function(){return o.gridApi.collapseAll()}};case"copy":return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.assertRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.ClipboardModule,"Copy from Menu")?{name:n("copy","Copy"),shortcut:n("ctrlC","Ctrl+C"),icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("clipboardCopy",this.gridOptionsService,null),action:function(){return o.clipboardService.copyToClipboard()}}:null;case"copyWithHeaders":return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.assertRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.ClipboardModule,"Copy with Headers from Menu")?{name:n("copyWithHeaders","Copy with Headers"),icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("clipboardCopy",this.gridOptionsService,null),action:function(){return o.clipboardService.copyToClipboard({includeHeaders:!0})}}:null;case"copyWithGroupHeaders":return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.assertRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.ClipboardModule,"Copy with Group Headers from Menu")?{name:n("copyWithGroupHeaders","Copy with Group Headers"),icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("clipboardCopy",this.gridOptionsService,null),action:function(){return o.clipboardService.copyToClipboard({includeHeaders:!0,includeGroupHeaders:!0})}}:null;case"cut":if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.assertRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.ClipboardModule,"Cut from Menu")){var s=this.focusService.getFocusedCell(),a=s?this.rowPositionUtils.getRowNode(s):null,l=!!a&&(null==s?void 0:s.column.isCellEditable(a));return{name:n("cut","Cut"),shortcut:n("ctrlX","Ctrl+X"),icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("clipboardCut",this.gridOptionsService,null),disabled:!l||this.gridOptionsService.is("suppressCutToClipboard"),action:function(){return o.clipboardService.cutToClipboard()}}}return null;case"paste":return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.assertRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.ClipboardModule,"Paste from Clipboard")?{name:n("paste","Paste"),shortcut:n("ctrlV","Ctrl+V"),disabled:!0,icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("clipboardPaste",this.gridOptionsService,null),action:function(){return o.clipboardService.pasteFromClipboard()}}:null;case"export":var c=[],u=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.isRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.CsvExportModule),h=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.isRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.ExcelExportModule);return!this.gridOptionsService.is("suppressCsvExport")&&u&&c.push("csvExport"),!this.gridOptionsService.is("suppressExcelExport")&&h&&c.push("excelExport"),{name:n("export","Export"),subMenu:c,icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("save",this.gridOptionsService,null)};case"csvExport":return{name:n("csvExport","CSV Export"),icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("csvExport",this.gridOptionsService,null),action:function(){return o.gridApi.exportDataAsCsv({})}};case"excelExport":return{name:n("excelExport","Excel Export"),icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("excelExport",this.gridOptionsService,null),action:function(){return o.gridApi.exportDataAsExcel()}};case"separator":return"separator";case"pivotChart":case"chartRange":return null!==(i=this.chartMenuItemMapper.getChartItems(t))&&void 0!==i?i:null;default:return console.warn("AG Grid: unknown menu item type "+t),null}},e.prototype.createAggregationSubMenu=function(t){var e,i=this,o=this.localeService.getLocaleTextFunc();if(t.isPrimary())e=t;else{var n=t.getColDef().pivotValueColumn;e=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(n)?n:void 0}var r=[];if(e){var s=e.isValueActive(),a=this.aggFuncService.getFuncNames(e);r.push({name:o("noAggregation","None"),action:function(){i.columnModel.removeValueColumn(e,"contextMenu"),i.columnModel.setColumnAggFunc(e,void 0,"contextMenu")},checked:!s}),a.forEach((function(t){r.push({name:o(t,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.capitalise(t)),action:function(){i.columnModel.setColumnAggFunc(e,t,"contextMenu"),i.columnModel.addValueColumn(e,"contextMenu")},checked:s&&e.getAggFunc()===t})}))}return r},__decorate$A([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$A([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],e.prototype,"gridApi",void 0),__decorate$A([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FiY)("clipboardService")],e.prototype,"clipboardService",void 0),__decorate$A([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FiY)("aggFuncService")],e.prototype,"aggFuncService",void 0),__decorate$A([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("focusService")],e.prototype,"focusService",void 0),__decorate$A([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowPositionUtils")],e.prototype,"rowPositionUtils",void 0),__decorate$A([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartMenuItemMapper")],e.prototype,"chartMenuItemMapper",void 0),e=__decorate$A([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("menuItemMapper")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),VERSION$7="29.3.4",__extends$B=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__assign$3=function(){return __assign$3=Object.assign||function(t){for(var e,i=1,o=arguments.length;i<o;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},__assign$3.apply(this,arguments)},__decorate$z=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},__read$8=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,n,r=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return s},ChartMenuItemMapper=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var i;return __extends$B(e,t),i=e,e.prototype.getChartItems=function(t){var e,o;if(this.chartService){var n="pivotChart"===t?new PivotMenuItemMapper(this.gridOptionsService,this.chartService,this.localeService):new RangeMenuItemMapper(this.gridOptionsService,this.chartService,this.localeService),r=n.getMenuItem(),s=null===(o=null===(e=this.gridOptionsService.get("chartToolPanelsDef"))||void 0===e?void 0:e.settingsPanel)||void 0===o?void 0:o.chartGroupsDef;return s&&(r=i.filterAndOrderChartMenu(r,s,n.getConfigLookup())),this.cleanInternals(r)}ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.assertRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.GridChartsModule,'the Context Menu key "'+t+'"')},e.prototype.cleanInternals=function(t){if(!t)return t;var e=function(t){var i;return null==t||delete t._key,null===(i=null==t?void 0:t.subMenu)||void 0===i||i.forEach((function(t){return e(t)})),t};return e(t)},e.buildLookup=function(t){var e={},i=function(t){e[t._key]=t,t.subMenu&&t.subMenu.forEach((function(t){return i(t)}))};return i(t),e},e.filterAndOrderChartMenu=function(t,e,i){var o,n=this.buildLookup(t),r=__assign$3(__assign$3({},t),{subMenu:[]});if(Object.entries(e).forEach((function(t){var e,o,s=__read$8(t,2),a=s[0],l=s[1],c=i[a];if(null!=c){var u=n[c._key];if(u)if(u.subMenu){var h=l.map((function(t){var e=c[t];if(null!=e)return n[e];ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce((function(){return console.warn("AG Grid - invalid chartGroupsDef config '"+a+"."+t+"'")}),"invalid_chartGroupsDef"+t+"_"+a)})).filter((function(t){return void 0!==t}));h.length>0&&(u.subMenu=h,null===(e=r.subMenu)||void 0===e||e.push(u))}else null===(o=r.subMenu)||void 0===o||o.push(u)}else ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce((function(){return console.warn("AG Grid - invalid chartGroupsDef config '"+a+"'")}),"invalid_chartGroupsDef"+a)})),0!=(null===(o=r.subMenu)||void 0===o?void 0:o.length))return r},__decorate$z([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FiY)("chartService")],e.prototype,"chartService",void 0),e=i=__decorate$z([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("chartMenuItemMapper")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),PivotMenuItemMapper=function(){function t(t,e,i){this.gridOptionsService=t,this.chartService=e,this.localeService=i}return t.prototype.getMenuItem=function(){var t=this,e=this.localeService.getLocaleTextFunc(),i=function(i,o,n,r){return{name:e(i,o),action:function(){return t.chartService.createPivotChart({chartType:n})},_key:r}};return{name:e("pivotChart","Pivot Chart"),_key:"pivotChart",subMenu:[{_key:"pivotColumnChart",name:e("columnChart","Column"),subMenu:[i("groupedColumn","Grouped&lrm;","groupedColumn","pivotGroupedColumn"),i("stackedColumn","Stacked&lrm;","stackedColumn","pivotStackedColumn"),i("normalizedColumn","100% Stacked&lrm;","normalizedColumn","pivotNormalizedColumn")]},{_key:"pivotBarChart",name:e("barChart","Bar"),subMenu:[i("groupedBar","Grouped&lrm;","groupedBar","pivotGroupedBar"),i("stackedBar","Stacked&lrm;","stackedBar","pivotStackedBar"),i("normalizedBar","100% Stacked&lrm;","normalizedBar","pivotNormalizedBar")]},{_key:"pivotPieChart",name:e("pieChart","Pie"),subMenu:[i("pie","Pie&lrm;","pie","pivotPie"),i("doughnut","Doughnut&lrm;","doughnut","pivotDoughnut")]},i("line","Line&lrm;","line","pivotLineChart"),{_key:"pivotXYChart",name:e("xyChart","X Y (Scatter)"),subMenu:[i("scatter","Scatter&lrm;","scatter","pivotScatter"),i("bubble","Bubble&lrm;","bubble","pivotBubble")]},{_key:"pivotAreaChart",name:e("areaChart","Area"),subMenu:[i("area","Area&lrm;","area","pivotArea"),i("stackedArea","Stacked&lrm;","stackedArea","pivotStackedArea"),i("normalizedArea","100% Stacked&lrm;","normalizedArea","pivotNormalizedArea")]},i("histogramChart","Histogram&lrm;","histogram","pivotHistogramChart"),{_key:"pivotCombinationChart",name:e("combinationChart","Combination"),subMenu:[i("columnLineCombo","Column & Line&lrm;","columnLineCombo","pivotColumnLineCombo"),i("AreaColumnCombo","Area & Column&lrm;","areaColumnCombo","pivotAreaColumnCombo")]}],icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("chart",this.gridOptionsService,void 0)}},t.prototype.getConfigLookup=function(){return{columnGroup:{_key:"pivotColumnChart",column:"pivotGroupedColumn",stackedColumn:"pivotStackedColumn",normalizedColumn:"pivotNormalizedColumn"},barGroup:{_key:"pivotBarChart",bar:"pivotGroupedBar",stackedBar:"pivotStackedBar",normalizedBar:"pivotNormalizedBar"},pieGroup:{_key:"pivotPieChart",pie:"pivotPie",doughnut:"pivotDoughnut"},lineGroup:{_key:"pivotLineChart",line:"pivotLineChart"},scatterGroup:{_key:"pivotXYChart",bubble:"pivotBubble",scatter:"pivotScatter"},areaGroup:{_key:"pivotAreaChart",area:"pivotArea",stackedArea:"pivotStackedArea",normalizedArea:"pivotNormalizedArea"},histogramGroup:{_key:"pivotHistogramChart",histogram:"pivotHistogramChart"},combinationGroup:{_key:"pivotCombinationChart",columnLineCombo:"pivotColumnLineCombo",areaColumnCombo:"pivotAreaColumnCombo",customCombo:""}}},t}(),RangeMenuItemMapper=function(){function t(t,e,i){this.gridOptionsService=t,this.chartService=e,this.localeService=i}return t.prototype.getMenuItem=function(){var t=this,e=this.localeService.getLocaleTextFunc(),i=function(i,o,n,r){return{name:e(i,o),action:function(){return t.chartService.createChartFromCurrentRange(n)},_key:r}};return{name:e("chartRange","Chart Range"),_key:"chartRange",subMenu:[{name:e("columnChart","Column"),subMenu:[i("groupedColumn","Grouped&lrm;","groupedColumn","rangeGroupedColumn"),i("stackedColumn","Stacked&lrm;","stackedColumn","rangeStackedColumn"),i("normalizedColumn","100% Stacked&lrm;","normalizedColumn","rangeNormalizedColumn")],_key:"rangeColumnChart"},{name:e("barChart","Bar"),subMenu:[i("groupedBar","Grouped&lrm;","groupedBar","rangeGroupedBar"),i("stackedBar","Stacked&lrm;","stackedBar","rangeStackedBar"),i("normalizedBar","100% Stacked&lrm;","normalizedBar","rangeNormalizedBar")],_key:"rangeBarChart"},{name:e("pieChart","Pie"),subMenu:[i("pie","Pie&lrm;","pie","rangePie"),i("doughnut","Doughnut&lrm;","doughnut","rangeDoughnut")],_key:"rangePieChart"},i("line","Line&lrm;","line","rangeLineChart"),{name:e("xyChart","X Y (Scatter)"),subMenu:[i("scatter","Scatter&lrm;","scatter","rangeScatter"),i("bubble","Bubble&lrm;","bubble","rangeBubble")],_key:"rangeXYChart"},{name:e("areaChart","Area"),subMenu:[i("area","Area&lrm;","area","rangeArea"),i("stackedArea","Stacked&lrm;","stackedArea","rangeStackedArea"),i("normalizedArea","100% Stacked&lrm;","normalizedArea","rangeNormalizedArea")],_key:"rangeAreaChart"},i("histogramChart","Histogram&lrm;","histogram","rangeHistogramChart"),{name:e("combinationChart","Combination"),subMenu:[i("columnLineCombo","Column & Line&lrm;","columnLineCombo","rangeColumnLineCombo"),i("AreaColumnCombo","Area & Column&lrm;","areaColumnCombo","rangeAreaColumnCombo")],_key:"rangeCombinationChart"}],icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("chart",this.gridOptionsService,void 0)}},t.prototype.getConfigLookup=function(){return{columnGroup:{_key:"rangeColumnChart",column:"rangeGroupedColumn",stackedColumn:"rangeStackedColumn",normalizedColumn:"rangeNormalizedColumn"},barGroup:{_key:"rangeBarChart",bar:"rangeGroupedBar",stackedBar:"rangeStackedBar",normalizedBar:"rangeNormalizedBar"},pieGroup:{_key:"rangePieChart",pie:"rangePie",doughnut:"rangeDoughnut"},lineGroup:{_key:"rangeLineChart",line:"rangeLineChart"},scatterGroup:{_key:"rangeXYChart",bubble:"rangeBubble",scatter:"rangeScatter"},areaGroup:{_key:"rangeAreaChart",area:"rangeArea",stackedArea:"rangeStackedArea",normalizedArea:"rangeNormalizedArea"},histogramGroup:{_key:"rangeHistogramChart",histogram:"rangeHistogramChart"},combinationGroup:{_key:"rangeCombinationChart",columnLineCombo:"rangeColumnLineCombo",areaColumnCombo:"rangeAreaColumnCombo",customCombo:""}}},t}(),MenuModule={version:VERSION$7,moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.MenuModule,beans:[EnterpriseMenuFactory,ContextMenuFactory,MenuItemMapper,ChartMenuItemMapper],dependantModules:[EnterpriseCoreModule]},__extends$A=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__assign$2=function(){return __assign$2=Object.assign||function(t){for(var e,i=1,o=arguments.length;i<o;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},__assign$2.apply(this,arguments)},__decorate$y=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},MultiFilter=function(t){function e(){var e=t.call(this,'<div class="ag-multi-filter ag-menu-list-compact"></div>')||this;return e.filterDefs=[],e.filters=[],e.guiDestroyFuncs=[],e.activeFilterIndices=[],e.lastActivatedMenuItem=null,e.afterFiltersReadyFuncs=[],e}return __extends$A(e,t),e.prototype.postConstruct=function(){var t=this;this.initialiseTabGuard({onFocusIn:function(e){return t.onFocusIn(e)}})},e.getFilterDefs=function(t){var e=t.filters;return e&&e.length>0?e:[{filter:"agTextColumnFilter"},{filter:"agSetColumnFilter"}]},e.prototype.init=function(t){var i=this;this.params=t,this.filterDefs=e.getFilterDefs(t);var o=t.column,n=t.filterChangedCallback;this.column=o,this.filterChangedCallback=n;var r=[];return this.filterDefs.forEach((function(t,e){var o=i.createFilter(t,e);null!=o&&r.push(o)})),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S.all(r).then((function(t){i.filters=t,i.refreshGui("columnMenu"),i.afterFiltersReadyFuncs.forEach((function(t){return t()})),i.afterFiltersReadyFuncs.length=0}))},e.prototype.refreshGui=function(t){var e=this;t!==this.lastOpenedInContainer&&(this.removeAllChildrenExceptTabGuards(),this.destroyChildren(),this.filters.forEach((function(i,o){o>0&&e.appendChild(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.loadTemplate('<div class="ag-filter-separator"></div>'));var n,r=e.filterDefs[o],s=e.getFilterTitle(i,r);if("subMenu"===r.display&&"toolPanel"!==t)n=e.insertFilterMenu(i,s).getGui();else if("subMenu"===r.display||"accordion"===r.display){n=e.insertFilterGroup(i,s).getGui()}else n=i.getGui();e.appendChild(n)})),this.lastOpenedInContainer=t)},e.prototype.getFilterTitle=function(t,e){if(null!=e.title)return e.title;var i=t;return"function"==typeof i.getFilterTitle?i.getFilterTitle():"Filter"},e.prototype.destroyChildren=function(){this.guiDestroyFuncs.forEach((function(t){return t()})),this.guiDestroyFuncs.length=0},e.prototype.insertFilterMenu=function(t,e){var i=this,o=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sJC({name:e,subMenu:t,cssClasses:["ag-multi-filter-menu-item"],isCompact:!0,isAnotherSubMenuOpen:function(){return!1}}));return o.setParentComponent(this),this.guiDestroyFuncs.push((function(){return i.destroyBean(o)})),this.addManagedListener(o,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sJC.EVENT_MENU_ITEM_ACTIVATED,(function(t){i.lastActivatedMenuItem&&i.lastActivatedMenuItem!==t.menuItem&&i.lastActivatedMenuItem.deactivate(),i.lastActivatedMenuItem=t.menuItem})),o.addGuiEventListener("focusin",(function(){return o.activate()})),o.addGuiEventListener("focusout",(function(){o.isSubMenuOpen()||o.deactivate()})),o},e.prototype.insertFilterGroup=function(t,e){var i=this,o=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.H1u({title:e,cssIdentifier:"multi-filter"}));if(this.guiDestroyFuncs.push((function(){return i.destroyBean(o)})),o.addItem(t.getGui()),o.toggleGroupExpand(!1),t.afterGuiAttached){var n={container:this.lastOpenedInContainer,suppressFocus:!0};o.addManagedListener(o,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.H1u.EVENT_EXPANDED,(function(){return t.afterGuiAttached(n)}))}return o},e.prototype.isFilterActive=function(){return this.filters.some((function(t){return t.isFilterActive()}))},e.prototype.getLastActiveFilterIndex=function(){return this.activeFilterIndices.length>0?this.activeFilterIndices[this.activeFilterIndices.length-1]:null},e.prototype.doesFilterPass=function(t,e){var i=!0;return this.filters.forEach((function(o){i&&o!==e&&o.isFilterActive()&&(i=o.doesFilterPass(t))})),i},e.prototype.getFilterType=function(){return"multi"},e.prototype.getModelFromUi=function(){return{filterType:this.getFilterType(),filterModels:this.filters.map((function(t){var e=t;return"function"==typeof e.getModelFromUi?e.getModelFromUi():null}))}},e.prototype.getModel=function(){return this.isFilterActive()?{filterType:this.getFilterType(),filterModels:this.filters.map((function(t){return t.isFilterActive()?t.getModel():null}))}:null},e.prototype.setModel=function(t){var e=this,i=function(t,e){return new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S((function(i){var o=t.setModel(e);o?o.then((function(){return i()})):i()}))},o=[];return null==t?o=this.filters.map((function(t,o){return i(t,null).then((function(){e.updateActiveList(o)}))})):this.filters.forEach((function(n,r){var s=t.filterModels.length>r?t.filterModels[r]:null,a=i(n,s).then((function(){e.updateActiveList(r)}));o.push(a)})),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S.all(o).then((function(){}))},e.prototype.applyModel=function(t){void 0===t&&(t="api");var e=!1;return this.filters.forEach((function(i){i instanceof ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AGU&&(e=i.applyModel(t)||e)})),e},e.prototype.getChildFilterInstance=function(t){return this.filters[t]},e.prototype.afterGuiAttached=function(t){t&&this.refreshGui(t.container);var e=this.params.filters,i=e&&e.some((function(t){return t.display&&"inline"!==t.display}));this.executeFunctionIfExists("afterGuiAttached",__assign$2(__assign$2({},t||{}),{suppressFocus:i}));var o=this.gridOptionsService.getDocument(),n=o.activeElement;i&&(n===o.body||this.getGui().contains(n))&&this.forceFocusOutOfContainer(!0)},e.prototype.afterGuiDetached=function(){this.executeFunctionIfExists("afterGuiDetached")},e.prototype.onAnyFilterChanged=function(){this.executeFunctionIfExists("onAnyFilterChanged")},e.prototype.onNewRowsLoaded=function(){this.executeFunctionIfExists("onNewRowsLoaded")},e.prototype.destroy=function(){var e=this;this.filters.forEach((function(t){t.setModel(null),e.destroyBean(t)})),this.filters.length=0,this.destroyChildren(),t.prototype.destroy.call(this)},e.prototype.executeFunctionIfExists=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.forEachReverse(this.filters,(function(i){var o=i[t];"function"==typeof o&&o.apply(i,e)}))},e.prototype.createFilter=function(t,e){var i,o=this,n=this.params,r=n.filterModifiedCallback,s=n.doesRowPassOtherFilter,a=__assign$2(__assign$2({},this.filterManager.createFilterParams(this.column,this.column.getColDef())),{filterModifiedCallback:r,filterChangedCallback:function(t){o.executeWhenAllFiltersReady((function(){return o.filterChanged(e,t)}))},doesRowPassOtherFilter:function(t){return s(t)&&o.doesFilterPass({node:t,data:t.data},i)}}),l=this.userComponentFactory.getFilterDetails(t,a,"agTextColumnFilter");if(!l)return null;var c=l.newAgStackInstance();return c&&c.then((function(t){return i=t})),c},e.prototype.executeWhenAllFiltersReady=function(t){this.filters&&this.filters.length>0?t():this.afterFiltersReadyFuncs.push(t)},e.prototype.updateActiveList=function(t){var e=this.filters[t];ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromArray(this.activeFilterIndices,t),e.isFilterActive()&&this.activeFilterIndices.push(t)},e.prototype.filterChanged=function(t,e){this.updateActiveList(t),this.filterChangedCallback(e);var i=this.filters[t];this.filters.forEach((function(t){t!==i&&"function"==typeof t.onAnyFilterChanged&&t.onAnyFilterChanged()}))},e.prototype.onFocusIn=function(t){return null==this.lastActivatedMenuItem||this.lastActivatedMenuItem.getGui().contains(t.target)||(this.lastActivatedMenuItem.deactivate(),this.lastActivatedMenuItem=null),!0},e.prototype.getModelAsString=function(t){var e,i,o,n;if(!this.filters||!(null===(e=null==t?void 0:t.filterModels)||void 0===e?void 0:e.length))return"";var r=null!==(i=this.getLastActiveFilterIndex())&&void 0!==i?i:0,s=this.filters[r];return null!==(n=null===(o=s.getModelAsString)||void 0===o?void 0:o.call(s,t.filterModels[r]))&&void 0!==n?n:""},__decorate$y([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("filterManager")],e.prototype,"filterManager",void 0),__decorate$y([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("userComponentFactory")],e.prototype,"userComponentFactory",void 0),__decorate$y([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.BxR),__extends$z=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__assign$1=function(){return __assign$1=Object.assign||function(t){for(var e,i=1,o=arguments.length;i<o;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},__assign$1.apply(this,arguments)},__decorate$x=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},MultiFloatingFilterComp=function(t){function e(){var e=t.call(this,'<div class="ag-multi-floating-filter ag-floating-filter-input"></div>')||this;return e.floatingFilters=[],e}return __extends$z(e,t),e.prototype.init=function(t){var e=this;this.params=t;var i=t.filterParams,o=[];return MultiFilter.getFilterDefs(i).forEach((function(i,n){var r=__assign$1(__assign$1({},t),{parentFilterInstance:function(t){e.parentMultiFilterInstance((function(e){var i=e.getChildFilterInstance(n);null!=i&&t(i)}))}});ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.mergeDeep(r.filterParams,i.filterParams);var s=e.createFloatingFilter(i,r);null!=s&&o.push(s)})),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S.all(o).then((function(t){t.forEach((function(t,i){e.floatingFilters.push(t);var o=t.getGui();e.appendChild(o),i>0&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(o,!1)}))}))},e.prototype.onParentModelChanged=function(t,e){var i=this;e&&e.afterFloatingFilter||this.parentMultiFilterInstance((function(o){if(null==t)i.floatingFilters.forEach((function(t,i){t.onParentModelChanged(null,e),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(t.getGui(),0===i)}));else{var n=o.getLastActiveFilterIndex();i.floatingFilters.forEach((function(i,o){var r=t.filterModels.length>o?t.filterModels[o]:null;i.onParentModelChanged(r,e);var s=null==n?0===o:o===n;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(i.getGui(),s)}))}}))},e.prototype.destroy=function(){this.destroyBeans(this.floatingFilters),this.floatingFilters.length=0,t.prototype.destroy.call(this)},e.prototype.createFloatingFilter=function(t,e){var i,o=null!==(i=this.userComponentFactory.getDefaultFloatingFilterType(t))&&void 0!==i?i:"agReadOnlyFloatingFilter",n=this.userComponentFactory.getFloatingFilterCompDetails(t,e,o);return n?n.newAgStackInstance():null},e.prototype.parentMultiFilterInstance=function(t){this.params.parentFilterInstance((function(e){if(!(e instanceof MultiFilter))throw new Error("AG Grid - MultiFloatingFilterComp expects MultiFilter as its parent");t(e)}))},__decorate$x([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("userComponentFactory")],e.prototype,"userComponentFactory",void 0),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),VERSION$6="29.3.4",MultiFilterModule={version:VERSION$6,moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.MultiFilterModule,beans:[],userComponents:[{componentName:"agMultiColumnFilter",componentClass:MultiFilter},{componentName:"agMultiColumnFloatingFilter",componentClass:MultiFloatingFilterComp}],dependantModules:[EnterpriseCoreModule]};function bindCellRendererToHtmlElement(t,e){t.then((function(t){var i=t.getGui();null!=i&&("object"==typeof i?e.appendChild(i):e.innerHTML=i)}))}var __extends$y=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$w=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},RichSelectRow=function(t){function e(e){var i=t.call(this,'<div class="ag-rich-select-row" role="presentation"></div>')||this;return i.params=e,i}return __extends$y(e,t),e.prototype.setState=function(t,e,i){this.populateWithRenderer(t,e)||this.populateWithoutRenderer(t,e),this.updateSelected(i)},e.prototype.updateSelected=function(t){this.addOrRemoveCssClass("ag-rich-select-row-selected",t)},e.prototype.populateWithoutRenderer=function(t,e){var i=null!=e?e:t;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(i)&&""!==i?this.getGui().textContent=i.toString():this.getGui().innerHTML="&nbsp;"},e.prototype.populateWithRenderer=function(t,e){var i=this,o={value:t,valueFormatted:e,api:this.gridOptionsService.api},n=this.userComponentFactory.getCellRendererDetails(this.params,o),r=n?n.newAgStackInstance():void 0;return null!=r?bindCellRendererToHtmlElement(r,this.getGui()):this.getGui().innerText=null!=o.valueFormatted?o.valueFormatted:o.value,!!r&&(r.then((function(t){i.addDestroyFunc((function(){i.getContext().destroyBean(t)}))})),!0)},__decorate$w([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("userComponentFactory")],e.prototype,"userComponentFactory",void 0),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$x=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$v=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},RichSelectCellEditor=function(t){function e(){var i=t.call(this,e.TEMPLATE)||this;return i.selectionConfirmed=!1,i.searchString="",i}return __extends$x(e,t),e.prototype.init=function(t){this.params=t,this.selectedValue=t.value,this.originalSelectedValue=t.value,this.focusAfterAttached=t.cellStartedEdit;var e=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("smallDown",this.gridOptionsService);if(e.classList.add("ag-rich-select-value-icon"),this.eValue.appendChild(e),this.virtualList=this.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.CPJ("rich-select")),this.virtualList.setComponentCreator(this.createRowComponent.bind(this)),this.eList.appendChild(this.virtualList.getGui()),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(this.params.cellHeight)&&this.virtualList.setRowHeight(this.params.cellHeight),this.renderSelectedValue(),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(t.values))console.warn("AG Grid: richSelectCellEditor requires values for it to work");else{var i=t.values;this.virtualList.setModel({getRowCount:function(){return i.length},getRow:function(t){return i[t]}}),this.addGuiEventListener("keydown",this.onKeyDown.bind(this));var o=this.virtualList.getGui();this.addManagedListener(o,"click",this.onClick.bind(this)),this.addManagedListener(o,"mousemove",this.onMouseMove.bind(this));var n=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(t.searchDebounceDelay)?t.searchDebounceDelay:300;this.clearSearchString=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.debounce(this.clearSearchString,n),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(t.charPress)&&this.searchText(t.charPress)}},e.prototype.onKeyDown=function(t){var e=t.key;switch(t.preventDefault(),e){case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.ENTER:this.onEnterKeyDown();break;case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.TAB:this.confirmSelection();break;case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.DOWN:case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.UP:this.onNavigationKeyPressed(t,e);break;default:this.searchText(t)}},e.prototype.confirmSelection=function(){this.selectionConfirmed=!0},e.prototype.onEnterKeyDown=function(){this.confirmSelection(),this.params.stopEditing()},e.prototype.onNavigationKeyPressed=function(t,e){t.preventDefault();var i=this.params.values.indexOf(this.selectedValue),o=e===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.UP?i-1:i+1;if(o>=0&&o<this.params.values.length){var n=this.params.values[o];this.setSelectedValue(n)}},e.prototype.searchText=function(t){if("string"==typeof t)this.searchString+=t,this.runSearch(),this.clearSearchString();else{var e=t.key;if(e===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.BACKSPACE)this.searchString=this.searchString.slice(0,-1),e="";else if(!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.isEventFromPrintableCharacter(t))return;this.searchText(e)}},e.prototype.runSearch=function(){var t,e=this,i=this.params.values;if("number"!=typeof i[0]&&"string"!=typeof i[0]||(t=i.map((function(t){return e.params.formatValue(t)}))),"object"==typeof i[0]&&this.params.colDef.keyCreator&&(t=i.map((function(t){var i={value:t,colDef:e.params.colDef,column:e.params.column,node:e.params.node,data:e.params.data,api:e.gridOptionsService.api,columnApi:e.gridOptionsService.columnApi,context:e.gridOptionsService.context};return e.params.colDef.keyCreator(i)}))),t){var o=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.fuzzySuggestions(this.searchString,t,!0)[0];if(o){var n=i[t.indexOf(o)];this.setSelectedValue(n)}}},e.prototype.clearSearchString=function(){this.searchString=""},e.prototype.renderSelectedValue=function(){var t=this,e=this.params.formatValue(this.selectedValue),i=this.eValue,o={value:this.selectedValue,valueFormatted:e,api:this.gridOptionsService.api},n=this.userComponentFactory.getCellRendererDetails(this.params,o),r=n?n.newAgStackInstance():void 0;r?(bindCellRendererToHtmlElement(r,i),r.then((function(e){t.addDestroyFunc((function(){return t.getContext().destroyBean(e)}))}))):ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(this.selectedValue)?i.innerText=e:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.clearElement(i)},e.prototype.setSelectedValue=function(t){if(this.selectedValue!==t){var e=this.params.values.indexOf(t);-1!==e&&(this.selectedValue=t,this.virtualList.ensureIndexVisible(e),this.virtualList.forEachRenderedRow((function(t,i){t.updateSelected(e===i)})),this.virtualList.focusRow(e))}},e.prototype.createRowComponent=function(t){var e=this.params.formatValue(t),i=new RichSelectRow(this.params);return this.getContext().createBean(i),i.setState(t,e,t===this.selectedValue),i},e.prototype.onMouseMove=function(t){var e=this.virtualList.getGui().getBoundingClientRect(),i=this.virtualList.getScrollTop(),o=t.clientY-e.top+i,n=Math.floor(o/this.virtualList.getRowHeight()),r=this.params.values[n];void 0!==r&&this.setSelectedValue(r)},e.prototype.onClick=function(){this.confirmSelection(),this.params.stopEditing()},e.prototype.afterGuiAttached=function(){var t=this.params.values.indexOf(this.selectedValue);if(this.virtualList.refresh(),t>=0&&this.virtualList.ensureIndexVisible(t),this.virtualList.refresh(),this.focusAfterAttached){var e=-1!==t?t:0;this.params.values.length?this.virtualList.focusRow(e):this.getGui().focus()}},e.prototype.getValue=function(){return this.selectionConfirmed?this.selectedValue:this.originalSelectedValue},e.TEMPLATE='<div class="ag-rich-select" tabindex="-1">\n            <div ref="eValue" class="ag-rich-select-value"></div>\n            <div ref="eList" class="ag-rich-select-list"></div>\n        </div>',__decorate$v([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("userComponentFactory")],e.prototype,"userComponentFactory",void 0),__decorate$v([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eValue")],e.prototype,"eValue",void 0),__decorate$v([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eList")],e.prototype,"eList",void 0),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RXH),VERSION$5="29.3.4",RichSelectModule={version:VERSION$5,moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.RichSelectModule,beans:[],userComponents:[{componentName:"agRichSelect",componentClass:RichSelectCellEditor},{componentName:"agRichSelectCellEditor",componentClass:RichSelectCellEditor}],dependantModules:[EnterpriseCoreModule]},__extends$w=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$u=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},FullStore=function(t){function e(e,i,o){var n=t.call(this,0)||this;return n.nodeIdSequence=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.at1,n.info={},n.ssrmParams=e,n.parentRowNode=o,n.level=o.level+1,n.groupLevel=e.rowGroupCols?n.level<e.rowGroupCols.length:void 0,n.leafGroup=!!e.rowGroupCols&&n.level===e.rowGroupCols.length-1,n}return __extends$w(e,t),e.prototype.postConstruct=function(){var t=this;if(this.usingTreeData=this.gridOptionsService.isTreeData(),this.nodeIdPrefix=this.blockUtils.createNodeIdPrefix(this.parentRowNode),!this.usingTreeData&&this.groupLevel){var e=this.ssrmParams.rowGroupCols[this.level];this.groupField=e.field,this.rowGroupColumn=this.columnModel.getRowGroupColumns()[this.level]}var i=1,o=-1===this.parentRowNode.level,n=this.storeUtils.getServerSideInitialRowCount();o&&void 0!==n&&(i=n),this.initialiseRowNodes(i),this.rowNodeBlockLoader.addBlock(this),this.addDestroyFunc((function(){return t.rowNodeBlockLoader.removeBlock(t)}))},e.prototype.destroyRowNodes=function(){this.blockUtils.destroyRowNodes(this.allRowNodes),this.allRowNodes=[],this.nodesAfterSort=[],this.nodesAfterFilter=[],this.allNodesMap={}},e.prototype.initialiseRowNodes=function(t,e){void 0===e&&(e=!1),this.destroyRowNodes();for(var i=0;i<t;i++){var o=this.blockUtils.createRowNode({field:this.groupField,group:this.groupLevel,leafGroup:this.leafGroup,level:this.level,parent:this.parentRowNode,rowGroupColumn:this.rowGroupColumn});e&&(o.failedLoad=!0),this.allRowNodes.push(o),this.nodesAfterFilter.push(o),this.nodesAfterSort.push(o)}},e.prototype.getBlockStateJson=function(){return{id:this.nodeIdPrefix?this.nodeIdPrefix:"",state:this.getState()}},e.prototype.loadFromDatasource=function(){this.storeUtils.loadFromDatasource({startRow:void 0,endRow:void 0,parentBlock:this,parentNode:this.parentRowNode,storeParams:this.ssrmParams,successCallback:this.pageLoaded.bind(this,this.getVersion()),success:this.success.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),fail:this.pageLoadFailed.bind(this,this.getVersion())})},e.prototype.getStartRow=function(){return 0},e.prototype.getEndRow=function(){return this.nodesAfterSort.length},e.prototype.createDataNode=function(t,e){var i=this.blockUtils.createRowNode({field:this.groupField,group:this.groupLevel,leafGroup:this.leafGroup,level:this.level,parent:this.parentRowNode,rowGroupColumn:this.rowGroupColumn});null!=e?ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.insertIntoArray(this.allRowNodes,i,e):this.allRowNodes.push(i);var o=this.prefixId(this.nodeIdSequence.next());return this.blockUtils.setDataIntoRowNode(i,t,o,void 0),this.nodeManager.addRowNode(i),this.blockUtils.checkOpenByDefault(i),this.allNodesMap[i.id]=i,i},e.prototype.prefixId=function(t){return this.nodeIdPrefix?this.nodeIdPrefix+"-"+t:t.toString()},e.prototype.processServerFail=function(){this.initialiseRowNodes(1,!0),this.fireStoreUpdatedEvent(),this.flushAsyncTransactions()},e.prototype.processServerResult=function(t){if(this.isAlive()){var e=t.storeInfo||t.groupLevelInfo;e&&Object.assign(this.info,e);var i=this.allRowNodes.length>0?this.allNodesMap:void 0;if(this.allRowNodes=[],this.nodesAfterSort=[],this.nodesAfterFilter=[],this.allNodesMap={},!t.rowData){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce((function(){return console.warn('AG Grid: "params.data" is missing from Server-Side Row Model success() callback. Please use the "data" attribute. If no data is returned, set an empty list.',t)}),"FullStore.noData")}this.createOrRecycleNodes(i,t.rowData),i&&this.blockUtils.destroyRowNodes(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.getAllValuesInObject(i)),this.filterAndSortNodes(),this.fireStoreUpdatedEvent(),this.flushAsyncTransactions()}},e.prototype.createOrRecycleNodes=function(t,e){var i=this;if(e){e.forEach((function(e){var o=function(e){if(t){var o=i.gridOptionsService.getRowIdFunc();if(o){var n=i.parentRowNode.getGroupKeys(),r=i.level,s=o({data:e,parentKeys:n.length>0?n:void 0,level:r}),a=t[s];if(a)return delete t[s],a}}}(e);o?function(t,e){i.allNodesMap[t.id]=t,i.blockUtils.updateDataIntoRowNode(t,e),i.allRowNodes.push(t)}(o,e):i.createDataNode(e)}))}},e.prototype.flushAsyncTransactions=function(){var t=this;window.setTimeout((function(){return t.transactionManager.flushAsyncTransactions()}),0)},e.prototype.filterAndSortNodes=function(){this.filterRowNodes(),this.sortRowNodes()},e.prototype.sortRowNodes=function(){var t=this.storeUtils.isServerSideSortAllLevels()||this.storeUtils.isServerSideSortOnServer(),e=this.sortController.getSortOptions(),i=!e||0==e.length;this.nodesAfterSort=t||i?this.nodesAfterFilter:this.rowNodeSorter.doFullSort(this.nodesAfterFilter,e)},e.prototype.filterRowNodes=function(){var t=this,e=this.storeUtils.isServerSideFilterAllLevels()||this.storeUtils.isServerSideFilterOnServer(),i=this.groupLevel;this.nodesAfterFilter=e||i?this.allRowNodes:this.allRowNodes.filter((function(e){return t.filterManager.doesRowPassFilter({rowNode:e})}))},e.prototype.clearDisplayIndexes=function(){var t=this;this.displayIndexStart=void 0,this.displayIndexEnd=void 0,this.allRowNodes.forEach((function(e){return t.blockUtils.clearDisplayIndex(e)}))},e.prototype.getDisplayIndexEnd=function(){return this.displayIndexEnd},e.prototype.isDisplayIndexInStore=function(t){return 0!==this.getRowCount()&&(t>=this.displayIndexStart&&t<this.displayIndexEnd)},e.prototype.setDisplayIndexes=function(t,e){var i=this;this.displayIndexStart=t.peek(),this.topPx=e.value;var o={};this.nodesAfterSort.forEach((function(n){i.blockUtils.setDisplayIndex(n,t,e),o[n.id]=!0})),this.allRowNodes.forEach((function(t){o[t.id]||i.blockUtils.clearDisplayIndex(t)})),this.displayIndexEnd=t.peek(),this.heightPx=e.value-this.topPx},e.prototype.forEachStoreDeep=function(t,e){void 0===e&&(e=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.at1),t(this,e.next()),this.allRowNodes.forEach((function(i){var o=i.childStore;o&&o.forEachStoreDeep(t,e)}))},e.prototype.forEachNodeDeep=function(t,e){void 0===e&&(e=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.at1),this.allRowNodes.forEach((function(i){t(i,e.next());var o=i.childStore;o&&o.forEachNodeDeep(t,e)}))},e.prototype.forEachNodeDeepAfterFilterAndSort=function(t,e){void 0===e&&(e=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.at1),this.nodesAfterSort.forEach((function(i){t(i,e.next());var o=i.childStore;o&&o.forEachNodeDeepAfterFilterAndSort(t,e)}))},e.prototype.getRowUsingDisplayIndex=function(t){if(this.isDisplayIndexInStore(t))return this.blockUtils.binarySearchForDisplayIndex(t,this.nodesAfterSort)},e.prototype.getRowBounds=function(t){for(var e=0;e<this.nodesAfterSort.length;e++){var i=this.nodesAfterSort[e],o=this.blockUtils.extractRowBounds(i,t);if(o)return o}return null},e.prototype.isPixelInRange=function(t){return t>=this.topPx&&t<this.topPx+this.heightPx},e.prototype.getRowIndexAtPixel=function(t){var e=this;if(t<=this.topPx)return this.nodesAfterSort[0].rowIndex;if(t>=this.topPx+this.heightPx){var i=this.nodesAfterSort[this.nodesAfterSort.length-1],o=i.rowTop+i.rowHeight;if(t>=o&&i.expanded){if(i.childStore&&i.childStore.getRowCount()>0)return i.childStore.getRowIndexAtPixel(t);if(i.detailNode)return i.detailNode.rowIndex}return i.rowIndex}var n=null;return this.nodesAfterSort.forEach((function(i){var o=e.blockUtils.getIndexAtPixel(i,t);null!=o&&(n=o)})),null==n?this.displayIndexEnd-1:n},e.prototype.getChildStore=function(t){var e=this;return this.storeUtils.getChildStore(t,this,(function(t){return e.allRowNodes.find((function(e){return e.key==t}))}))},e.prototype.forEachChildStoreShallow=function(t){this.allRowNodes.forEach((function(e){var i=e.childStore;i&&t(i)}))},e.prototype.refreshAfterFilter=function(t){var e=this.storeUtils.isServerSideFilterOnServer(),i=this.storeUtils.isServerRefreshNeeded(this.parentRowNode,this.ssrmParams.rowGroupCols,t);if(this.storeUtils.isServerSideFilterAllLevels()||e&&i)return this.refreshStore(!0),void this.sortRowNodes();this.filterRowNodes(),this.sortRowNodes(),this.forEachChildStoreShallow((function(e){return e.refreshAfterFilter(t)}))},e.prototype.refreshAfterSort=function(t){var e=this.storeUtils.isServerSideSortOnServer(),i=this.storeUtils.isServerRefreshNeeded(this.parentRowNode,this.ssrmParams.rowGroupCols,t);if(this.storeUtils.isServerSideSortAllLevels()||e&&i)return this.refreshStore(!0),void this.filterRowNodes();this.filterRowNodes(),this.sortRowNodes(),this.forEachChildStoreShallow((function(e){return e.refreshAfterSort(t)}))},e.prototype.applyTransaction=function(t){switch(this.getState()){case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NlK.STATE_FAILED:return{status:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Qk6.StoreLoadingFailed};case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NlK.STATE_LOADING:return{status:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Qk6.StoreLoading};case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NlK.STATE_WAITING_TO_LOAD:return{status:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Qk6.StoreWaitingToLoad}}var e=this.gridOptionsService.getCallback("isApplyServerSideTransaction");if(e&&!e({transaction:t,parentNode:this.parentRowNode,storeInfo:this.info,groupLevelInfo:this.info}))return{status:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Qk6.Cancelled};var i={status:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Qk6.Applied,remove:[],update:[],add:[]},o=[];return this.executeAdd(t,i),this.executeRemove(t,i,o),this.executeUpdate(t,i,o),this.filterAndSortNodes(),this.updateSelection(o),i},e.prototype.updateSelection=function(t){if(t.length>0){t.forEach((function(t){t.setSelected(!1,!1,!0,"rowDataChanged")}));var e={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_SELECTION_CHANGED,source:"rowDataChanged"};this.eventService.dispatchEvent(e)}},e.prototype.executeAdd=function(t,e){var i=this,o=t.add,n=t.addIndex;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missingOrEmpty(o)||("number"==typeof n&&n>=0?o.reverse().forEach((function(t){var o=i.createDataNode(t,n);e.add.push(o)})):o.forEach((function(t){var o=i.createDataNode(t);e.add.push(o)})))},e.prototype.executeRemove=function(t,e,i){var o=this,n=t.remove;if(null!=n){var r={};n.forEach((function(t){var n=o.lookupRowNode(t);n&&(n.isSelected()&&i.push(n),n.clearRowTopAndRowIndex(),r[n.id]=!0,delete o.allNodesMap[n.id],e.remove.push(n),o.nodeManager.removeNode(n))})),this.allRowNodes=this.allRowNodes.filter((function(t){return!r[t.id]}))}},e.prototype.executeUpdate=function(t,e,i){var o=this,n=t.update;null!=n&&n.forEach((function(t){var n=o.lookupRowNode(t);n&&(o.blockUtils.updateDataIntoRowNode(n,t),!n.selectable&&n.isSelected()&&i.push(n),e.update.push(n))}))},e.prototype.lookupRowNode=function(t){var e,i=this.gridOptionsService.getRowIdFunc();if(null!=i){var o=this.level,n=this.parentRowNode.getGroupKeys(),r=i({data:t,parentKeys:n.length>0?n:void 0,level:o});if(!(e=this.allNodesMap[r]))return console.error("AG Grid: could not find row id="+r+", data item was not found for this id"),null}else if(!(e=this.allRowNodes.find((function(e){return e.data===t}))))return console.error("AG Grid: could not find data item as object was not found",t),null;return e},e.prototype.addStoreStates=function(t){t.push({suppressInfiniteScroll:!0,route:this.parentRowNode.getGroupKeys(),rowCount:this.allRowNodes.length,info:this.info}),this.forEachChildStoreShallow((function(e){return e.addStoreStates(t)}))},e.prototype.refreshStore=function(t){if(t){var e=this.nodesAfterSort?this.nodesAfterSort.length:1;this.initialiseRowNodes(e)}this.scheduleLoad(),this.fireStoreUpdatedEvent()},e.prototype.retryLoads=function(){this.getState()===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NlK.STATE_FAILED&&(this.initialiseRowNodes(1),this.scheduleLoad()),this.forEachChildStoreShallow((function(t){return t.retryLoads()}))},e.prototype.scheduleLoad=function(){this.setStateWaitingToLoad(),this.rowNodeBlockLoader.checkBlockToLoad()},e.prototype.fireStoreUpdatedEvent=function(){var t={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_STORE_UPDATED};this.eventService.dispatchEvent(t)},e.prototype.getRowCount=function(){return this.nodesAfterSort.length},e.prototype.getTopLevelRowDisplayedIndex=function(t){return this.nodesAfterSort[t].rowIndex},e.prototype.isLastRowIndexKnown=function(){return this.getState()==ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NlK.STATE_LOADED},e.prototype.getRowNodesInRange=function(t,e){var i=[],o=!1;return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(t)&&(o=!0),this.nodesAfterSort.forEach((function(n){var r=n===t||n===e;(o||r)&&i.push(n),r&&(o=!o)})),o?[]:i},e.prototype.getStoreBounds=function(){return{topPx:this.topPx,heightPx:this.heightPx}},__decorate$u([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ssrmStoreUtils")],e.prototype,"storeUtils",void 0),__decorate$u([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ssrmBlockUtils")],e.prototype,"blockUtils",void 0),__decorate$u([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$u([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowNodeBlockLoader")],e.prototype,"rowNodeBlockLoader",void 0),__decorate$u([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowNodeSorter")],e.prototype,"rowNodeSorter",void 0),__decorate$u([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("sortController")],e.prototype,"sortController",void 0),__decorate$u([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ssrmNodeManager")],e.prototype,"nodeManager",void 0),__decorate$u([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("filterManager")],e.prototype,"filterManager",void 0),__decorate$u([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ssrmTransactionManager")],e.prototype,"transactionManager",void 0),__decorate$u([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),__decorate$u([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FXL],e.prototype,"destroyRowNodes",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NlK),__extends$v=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$t=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},__read$7=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,n,r=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return s},LazyBlockLoader=function(t){function e(e,i,o){var n=t.call(this)||this;return n.loadingNodes=new Set,n.checkForLoadQueued=!1,n.loaderTimeout=void 0,n.nextBlockToLoad=void 0,n.parentNode=i,n.cache=e,n.storeParams=o,n}return __extends$v(e,t),e.prototype.init=function(){var t=this;this.addManagedListener(this.rowNodeBlockLoader,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fKL.BLOCK_LOADED_EVENT,(function(){return t.queueLoadAction()}))},e.prototype.isRowLoading=function(t){return this.loadingNodes.has(t)},e.prototype.getBlockToLoad=function(){for(var t,e=this.api.getFirstDisplayedRow(),i=this.api.getLastDisplayedRow(),o=e;o<=i;o++){var n=this.cache.getNodeCachedByDisplayIndex(o);if(n){var r=this.cache.getNodes().getBy("node",n);if(r&&!this.isRowLoading(r.index)&&(n.__needsRefreshWhenVisible||n.stub&&!n.failedLoad))return this.getBlockStartIndexForIndex(r.index)}}var s=this.cache.getNodesToRefresh(),a=null,l=Number.MAX_SAFE_INTEGER;s.forEach((function(t){if(null!=t.rowIndex){var o=Math.abs(e-t.rowIndex),n=Math.abs(t.rowIndex-i);o<l&&(a=t,l=o),n<l&&(a=t,l=n)}else a=t}));var c=null===(t=this.cache.getNodes().getBy("node",a))||void 0===t?void 0:t.index;return null==c?void 0:this.getBlockStartIndexForIndex(c)},e.prototype.reset=function(){this.loadingNodes.clear(),clearTimeout(this.loaderTimeout),this.loaderTimeout=void 0},e.prototype.executeLoad=function(t,e){var i,o=this,n=this.cache.getSsrmParams(),r={startRow:t,endRow:e,rowGroupCols:n.rowGroupCols,valueCols:n.valueCols,pivotCols:n.pivotCols,pivotMode:n.pivotMode,groupKeys:this.parentNode.getGroupKeys(),filterModel:n.filterModel,sortModel:n.sortModel},s=function(){for(var i=0;i<e-t;i++)o.loadingNodes.delete(t+i)},a=function(i){o.rowNodeBlockLoader.loadComplete(),o.cache.onLoadSuccess(t,e-t,i),s(),o.queueLoadAction()},l=function(){o.rowNodeBlockLoader.loadComplete(),o.cache.onLoadFailed(t,e-t),s(),o.queueLoadAction()},c={request:r,successCallback:function(t,e){return a({rowData:t,rowCount:e})},success:a,failCallback:l,fail:l,parentNode:this.parentNode,api:this.api,columnApi:this.columnApi,context:this.gridOptionsService.context};!function(){for(var i=0;i<e-t;i++)o.loadingNodes.add(t+i)}(),null===(i=this.cache.getSsrmParams().datasource)||void 0===i||i.getRows(c)},e.prototype.getNextBlockToLoad=function(){var t=this.getBlockToLoad();return null!=t&&t<0&&this.getBlockToLoad(),null!=t?[String(t),t+this.getBlockSize()]:null},e.prototype.queueLoadCheck=function(){var t=this;this.checkForLoadQueued||(this.checkForLoadQueued=!0,window.queueMicrotask((function(){t.checkForLoadQueued=!1,t.queueLoadAction()})))},e.prototype.queueLoadAction=function(){var t,e=this,i=this.getNextBlockToLoad();if(!i)return window.clearTimeout(this.loaderTimeout),this.loaderTimeout=void 0,void(this.nextBlockToLoad=void 0);if(!this.nextBlockToLoad||this.nextBlockToLoad[0]!==i[0]&&this.nextBlockToLoad[1]!==i[1]){this.nextBlockToLoad=i,window.clearTimeout(this.loaderTimeout);var o=__read$7(this.nextBlockToLoad,2),n=o[0],r=o[1],s=Number(n);this.loaderTimeout=window.setTimeout((function(){e.cache.isAlive()&&(e.loaderTimeout=void 0,e.attemptLoad(s,r),e.nextBlockToLoad=void 0)}),null!==(t=this.gridOptionsService.getNum("blockLoadDebounceMillis"))&&void 0!==t?t:0)}},e.prototype.attemptLoad=function(t,e){var i=this.rowNodeBlockLoader.getAvailableLoadingCount();null!=i&&0===i||(this.rowNodeBlockLoader.registerLoads(1),this.executeLoad(t,e),this.queueLoadAction())},e.prototype.getBlockSize=function(){return this.storeParams.cacheBlockSize||e.DEFAULT_BLOCK_SIZE},e.prototype.getBlockStartIndexForIndex=function(t){return t-t%this.getBlockSize()},e.prototype.getBlockBoundsForIndex=function(t){var e=this.getBlockStartIndexForIndex(t);return[e,e+this.getBlockSize()]},e.DEFAULT_BLOCK_SIZE=100,__decorate$t([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],e.prototype,"api",void 0),__decorate$t([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnApi")],e.prototype,"columnApi",void 0),__decorate$t([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowNodeBlockLoader")],e.prototype,"rowNodeBlockLoader",void 0),__decorate$t([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),MultiIndexMap=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length<1)throw new Error("AG Grid: At least one index must be provided.");this.indexes=t,this.maps=new Map(this.indexes.map((function(t){return[t,new Map]})))}return t.prototype.getBy=function(t,e){var i=this.maps.get(t);if(!i)throw new Error("AG Grid: "+String(t)+" not found");return i.get(e)},t.prototype.set=function(t){var e=this;this.indexes.forEach((function(i){var o=e.maps.get(i);if(!o)throw new Error("AG Grid: "+String(i)+" not found");o.set(t[i],t)}))},t.prototype.delete=function(t){var e=this;this.indexes.forEach((function(i){var o=e.maps.get(i);if(!o)throw new Error("AG Grid: "+String(i)+" not found");o.delete(t[i])}))},t.prototype.clear=function(){this.maps.forEach((function(t){return t.clear()}))},t.prototype.getIterator=function(t){var e=this.maps.get(t);if(!e)throw new Error("AG Grid: "+String(t)+" not found");return e.values()},t.prototype.forEach=function(t){for(var e,i=this.getIterator(this.indexes[0]);(e=i.next())&&!e.done;)t(e.value)},t.prototype.find=function(t){for(var e,i=this.getIterator(this.indexes[0]);(e=i.next())&&!e.done;)if(t(e.value))return e.value},t.prototype.filter=function(t){for(var e,i=this.getIterator(this.indexes[0]),o=[];(e=i.next())&&!e.done;)t(e.value)&&o.push(e.value);return o},t}(),__extends$u=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$s=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},__read$6=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,n,r=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return s},__spread$4=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$6(arguments[e]));return t},LazyCache=function(t){function e(e,i,o){var n=t.call(this)||this;return n.live=!0,n.store=e,n.numberOfRows=i,n.isLastRowKnown=!1,n.storeParams=o,n}return __extends$u(e,t),e.prototype.init=function(){this.nodeMap=new MultiIndexMap("index","id","node"),this.nodeDisplayIndexMap=new Map,this.nodesToRefresh=new Set,this.defaultNodeIdPrefix=this.blockUtils.createNodeIdPrefix(this.store.getParentNode()),this.rowLoader=this.createManagedBean(new LazyBlockLoader(this,this.store.getParentNode(),this.storeParams)),this.getRowIdFunc=this.gridOptionsService.getRowIdFunc(),this.isMasterDetail=this.gridOptionsService.isMasterDetail()},e.prototype.destroyRowNodes=function(){var t=this;this.numberOfRows=0,this.nodeMap.forEach((function(e){return t.blockUtils.destroyRowNode(e.node)})),this.nodeMap.clear(),this.nodeDisplayIndexMap.clear(),this.nodesToRefresh.clear(),this.live=!1},e.prototype.getRowByDisplayIndex=function(t){var e,i,o,n;if(this.store.isDisplayIndexInStore(t)){var r=this.nodeDisplayIndexMap.get(t);if(r)return(r.stub||r.__needsRefreshWhenVisible)&&this.rowLoader.queueLoadCheck(),r;if(t===this.store.getDisplayIndexStart())return this.createStubNode(0,t);var s=this.nodeDisplayIndexMap.get(t-1);if(s){if(this.isMasterDetail&&s.master&&s.expanded)return s.detailNode;if(s.expanded&&(null===(e=s.childStore)||void 0===e?void 0:e.isDisplayIndexInStore(t)))return null===(i=s.childStore)||void 0===i?void 0:i.getRowUsingDisplayIndex(t);var a=this.nodeMap.getBy("node",s);return this.createStubNode(a.index+1,t)}var l=this.getSurroundingNodesByDisplayIndex(t);if(null==l){var c=this.store.getRowCount()-(this.store.getDisplayIndexEnd()-t);return this.createStubNode(c,t)}var u=l.previousNode,h=l.nextNode;if(u&&u.expanded&&(null===(o=u.childStore)||void 0===o?void 0:o.isDisplayIndexInStore(t)))return null===(n=u.childStore)||void 0===n?void 0:n.getRowUsingDisplayIndex(t);if(h){var d=this.nodeMap.getBy("node",h),p=h.rowIndex-t,f=d.index-p;return this.createStubNode(f,t)}var g=this.store.getRowCount()-(this.store.getDisplayIndexEnd()-t);return this.createStubNode(g,t)}},e.prototype.createStubNode=function(t,e){var i=this,o=this.store.getRowBounds(e),n=this.createRowAtIndex(t,null,(function(t){t.setRowIndex(e),t.setRowTop(o.rowTop),i.nodeDisplayIndexMap.set(e,t)}));return this.rowLoader.queueLoadCheck(),n},e.prototype.getRowByStoreIndex=function(t){var e;return null===(e=this.nodeMap.getBy("index",t))||void 0===e?void 0:e.node},e.prototype.skipDisplayIndexes=function(t,e,i){if(0!==t){var o=this.gridOptionsService.getRowHeightAsNumber();this.skippedDisplayIndexes.push({from:e.peek(),to:e.peek()+t}),e.skip(t),i.value+=t*o}},e.prototype.setDisplayIndexes=function(t,e){this.nodeDisplayIndexMap.clear(),this.skippedDisplayIndexes=[];var i={};this.nodeMap.forEach((function(t){i[t.index]=t.node}));var o=-1;for(var n in i){var r=i[n],s=Number(n),a=s-1-o;this.skipDisplayIndexes(a,t,e),this.blockUtils.setDisplayIndex(r,t,e),this.nodeDisplayIndexMap.set(r.rowIndex,r),t.peek()-r.rowIndex>1&&this.skippedDisplayIndexes.push({from:r.rowIndex+1,to:t.peek()}),o=s}var l=this.numberOfRows-1-o;this.skipDisplayIndexes(l,t,e),this.purgeExcessRows()},e.prototype.getRowCount=function(){return this.numberOfRows},e.prototype.setRowCount=function(t,e){if(t<0)throw new Error("AG Grid: setRowCount can only accept a positive row count.");this.numberOfRows=t,null!=e&&(this.isLastRowKnown=e,!1===e&&(this.numberOfRows+=1)),this.fireStoreUpdatedEvent()},e.prototype.getNodes=function(){return this.nodeMap},e.prototype.getNodeCachedByDisplayIndex=function(t){var e;return null!==(e=this.nodeDisplayIndexMap.get(t))&&void 0!==e?e:null},e.prototype.getNodesToRefresh=function(){return this.nodesToRefresh},e.prototype.getSurroundingNodesByDisplayIndex=function(t){for(var e in this.skippedDisplayIndexes){var i=this.skippedDisplayIndexes[e];if(i.from<=t&&i.to>=t)return{previousNode:this.nodeDisplayIndexMap.get(i.from-1),nextNode:this.nodeDisplayIndexMap.get(i.to+1)}}return null},e.prototype.getDisplayIndexFromStoreIndex=function(t){var e,i,o,n,r=this.nodeMap.getBy("index",t);return r?r.node.rowIndex:(this.nodeMap.forEach((function(e){t>e.index?(null==n||n.index<e.index)&&(n=e):(null==o||o.index>e.index)&&(o=e)})),o?n?null!==(i=null===(e=n.node.childStore)||void 0===e?void 0:e.getDisplayIndexEnd())&&void 0!==i?i:n.node.rowIndex+1:this.store.getDisplayIndexStart()+t:this.store.getDisplayIndexEnd()-(this.numberOfRows-t))},e.prototype.createRowAtIndex=function(t,e,i){var o=this.nodeMap.getBy("index",t);if(o){var n=o.node;if(this.nodesToRefresh.delete(n),n.__needsRefreshWhenVisible=!1,this.doesNodeMatch(e,n))return this.blockUtils.updateDataIntoRowNode(n,e),n;if(null==this.getRowIdFunc&&n.group&&n.expanded)return n;this.destroyRowAtIndex(t)}if(e&&null!=this.getRowIdFunc){var r=this.getRowId(e),s=this.nodeMap.getBy("id",r);if(s){this.nodeMap.delete(s);n=s.node;var a=s.index;return this.blockUtils.updateDataIntoRowNode(n,e),this.nodeMap.set({id:n.id,node:n,index:t}),this.markBlockForVerify(a),n}}var l=this.blockUtils.createRowNode(this.store.getRowDetails());if(null!=e){var c=this.getPrefixedId(this.store.getIdSequence().next());this.blockUtils.setDataIntoRowNode(l,e,c,void 0),this.blockUtils.checkOpenByDefault(l),this.nodeManager.addRowNode(l)}return this.nodeMap.set({id:l.id,node:l,index:t}),i&&i(l),l},e.prototype.getBlockStates=function(){var t=this,e={},i={},o=new Set;this.nodeMap.forEach((function(n){var r,s=n.node,a=n.index,l=t.rowLoader.getBlockStartIndexForIndex(a);s.stub||s.failedLoad||(e[l]=(null!==(r=e[l])&&void 0!==r?r:0)+1);var c="loaded";s.failedLoad?c="failed":t.rowLoader.isRowLoading(l)?c="loading":t.nodesToRefresh.has(s)&&(c="needsLoading"),(s.__needsRefreshWhenVisible||s.stub)&&o.add(l),i[l]||(i[l]=new Set),i[l].add(c)}));var n={loading:4,failed:3,needsLoading:2,loaded:1},r=this.blockUtils.createNodeIdPrefix(this.store.getParentNode()),s={};return Object.entries(i).forEach((function(i){var o,a=__read$6(i,2),l=a[0],c=a[1],u=__spread$4(c).sort((function(t,e){var i,o;return(null!==(i=n[t])&&void 0!==i?i:0)-(null!==(o=n[e])&&void 0!==o?o:0)})),h=u[0],d=Number(l)/t.rowLoader.getBlockSize(),p=r?r+"-"+d:String(d);s[p]={blockNumber:d,startRow:Number(l),endRow:Number(l)+t.rowLoader.getBlockSize(),pageStatus:h,loadedRowCount:null!==(o=e[l])&&void 0!==o?o:0}})),s},e.prototype.destroyRowAtIndex=function(t){var e=this.nodeMap.getBy("index",t);e&&(this.nodeMap.delete(e),this.nodeDisplayIndexMap.delete(e.node.rowIndex),this.nodesToRefresh.delete(e.node),this.blockUtils.destroyRowNode(e.node))},e.prototype.getSsrmParams=function(){return this.store.getSsrmParams()},e.prototype.getPrefixedId=function(t){return this.defaultNodeIdPrefix?this.defaultNodeIdPrefix+"-"+t:t.toString()},e.prototype.markBlockForVerify=function(t){var e=__read$6(this.rowLoader.getBlockBoundsForIndex(t),2),i=e[0],o=e[1];this.nodeMap.filter((function(t){return t.index>=i&&t.index<o})).forEach((function(t){t.node.__needsRefreshWhenVisible=!0}))},e.prototype.doesNodeMatch=function(t,e){if(e.stub)return!1;if(null!=this.getRowIdFunc){var i=this.getRowId(t);return e.id===i}return e.data===t},e.prototype.purgeStubsOutsideOfViewport=function(){var t=this,e=this.api.getFirstDisplayedRow(),i=this.api.getLastDisplayedRow(),o=this.rowLoader.getBlockStartIndexForIndex(e),n=__read$6(this.rowLoader.getBlockBoundsForIndex(i),2);n[0];var r=n[1];this.nodeMap.forEach((function(e){t.rowLoader.isRowLoading(e.index)||e.node.stub&&(e.index<o||e.index>r)&&t.destroyRowAtIndex(e.index)}))},e.prototype.getNumberOfRowsToRetain=function(t,e){var i=this.storeParams.maxBlocksInCache;if(null==i)return null;var o=this.rowLoader.getBlockSize(),n=Math.ceil((e-t)/o);return Math.max(i,n)*o},e.prototype.getBlocksDistanceFromRow=function(t,e){var i=this,o={};return t.forEach((function(t){var n=t.node,r=t.index,s=__read$6(i.rowLoader.getBlockBoundsForIndex(r),2),a=s[0],l=s[1];if(!(a in o)){var c,u=Math.abs(n.rowIndex-e),h=i.nodeMap.getBy("index",[l-1]);h&&(c=Math.abs(h.node.rowIndex-e));var d=null==c||u<c?u:c;o[a]=d}})),Object.entries(o)},e.prototype.purgeExcessRows=function(){var t=this;this.purgeStubsOutsideOfViewport();var e=this.api.getFirstDisplayedRow(),i=this.api.getLastDisplayedRow(),o=this.rowLoader.getBlockStartIndexForIndex(e),n=__read$6(this.rowLoader.getBlockBoundsForIndex(i),2);n[0];var r=n[1],s=this.getNumberOfRowsToRetain(o,r);if(null!=this.store.getDisplayIndexEnd()&&null!=s){var a=this.nodeMap.filter((function(e){var i=e.node;return!i.stub&&!t.isNodeCached(i)}));if(!(a.length<=s)){var l=a.filter((function(t){var e=t.node.rowIndex;if(null==e||-1===e)return!0;if(o<=e&&e<r)return!1;var i=e+h;return!(o<=i&&i<r)&&!(e<o&&i>=r)}));if(s-=a.length-l.length,l.length){var c=e+(i-e)/2,u=this.getBlocksDistanceFromRow(l,c),h=this.rowLoader.getBlockSize(),d=Math.ceil(s/h);if(!(u.length<=d)){u.sort((function(t,e){return Math.sign(e[1]-t[1])}));for(var p=u.length-Math.max(d,0),f=0;f<p;f++)for(var g=Number(u[f][0]),m=g;m<g+h;m++){var y=this.nodeMap.getBy("index",m);y&&!this.isNodeCached(y.node)&&this.destroyRowAtIndex(m)}}}}}},e.prototype.isNodeFocused=function(t){var e=this.focusService.getFocusCellToUseAfterRefresh();return!!e&&(null==e.rowPinned&&e.rowIndex===t.rowIndex)},e.prototype.isNodeCached=function(t){return!!t.group&&t.expanded||this.isNodeFocused(t)},e.prototype.extractDuplicateIds=function(t){var e=this;if(null==!this.getRowIdFunc)return[];var i=new Set,o=new Set;return t.forEach((function(t){var n=e.getRowId(t);i.has(n)?o.add(n):i.add(n)})),__spread$4(o)},e.prototype.onLoadSuccess=function(t,e,i){var o=this;if(this.live){if(null!=this.getRowIdFunc){var n=this.extractDuplicateIds(i.rowData);if(n.length>0){var r=n.join(", ");return console.warn("AG Grid: Unable to display rows as duplicate row ids ("+r+") were returned by the getRowId callback. Please modify the getRowId callback to provide unique ids."),void this.onLoadFailed(t,e)}}var s=this.nodesToRefresh.size>0;i.rowData.forEach((function(e,i){var n,r=t+i,s=o.nodeMap.getBy("index",r);if(!(null===(n=null==s?void 0:s.node)||void 0===n?void 0:n.stub))return s&&o.doesNodeMatch(e,s.node)?(o.blockUtils.updateDataIntoRowNode(s.node,e),o.nodesToRefresh.delete(s.node),void(s.node.__needsRefreshWhenVisible=!1)):void o.createRowAtIndex(r,e);o.createRowAtIndex(r,e)}));var a=0===this.nodesToRefresh.size;if(s&&a&&this.fireRefreshFinishedEvent(),null!=i.rowCount&&-1!==i.rowCount)this.numberOfRows=i.rowCount,this.isLastRowKnown=!0;else if(e>i.rowData.length)this.numberOfRows=t+i.rowData.length,this.isLastRowKnown=!0;else if(!this.isLastRowKnown){var l=t+i.rowData.length+1;l>this.numberOfRows&&(this.numberOfRows=l)}if(this.isLastRowKnown)this.nodeMap.filter((function(t){return t.index>=o.numberOfRows})).forEach((function(t){return o.destroyRowAtIndex(t.index)}));this.fireStoreUpdatedEvent()}},e.prototype.fireRefreshFinishedEvent=function(){0===this.nodesToRefresh.size&&this.store.fireRefreshFinishedEvent()},e.prototype.isLastRowIndexKnown=function(){return this.isLastRowKnown},e.prototype.onLoadFailed=function(t,e){this.live&&(this.nodeMap.filter((function(i){return i.index>=t&&i.index<t+e})).forEach((function(t){return t.node.failedLoad=!0})),this.fireStoreUpdatedEvent())},e.prototype.markNodesForRefresh=function(){var t=this;this.nodeMap.forEach((function(e){e.node.stub||t.nodesToRefresh.add(e.node)})),this.rowLoader.queueLoadCheck(),this.isLastRowKnown&&0===this.numberOfRows&&(this.numberOfRows=1,this.isLastRowKnown=!1,this.fireStoreUpdatedEvent())},e.prototype.isNodeInCache=function(t){return!!this.nodeMap.getBy("id",t)},e.prototype.fireStoreUpdatedEvent=function(){this.live&&this.store.fireStoreUpdatedEvent()},e.prototype.getRowId=function(t){if(null==this.getRowIdFunc)return null;var e=this.store.getRowDetails().level,i=this.store.getParentNode().getGroupKeys(),o=this.getRowIdFunc({data:t,parentKeys:i.length>0?i:void 0,level:e});return String(o)},e.prototype.updateRowNodes=function(t){var e=this;if(null==this.getRowIdFunc)throw new Error("AG Grid: Insert transactions can only be applied when row ids are supplied.");var i=[];return t.forEach((function(t){var o=e.getRowId(t),n=e.nodeMap.getBy("id",o);n&&(e.blockUtils.updateDataIntoRowNode(n.node,t),i.push(n.node))})),i},e.prototype.insertRowNodes=function(t,e){var i=this,o=null==e&&this.isLastRowKnown?this.store.getRowCount():e;if(null==o||this.store.getRowCount()<o)return[];if(null==this.getRowIdFunc)throw new Error("AG Grid: Insert transactions can only be applied when row ids are supplied.");var n={};t.forEach((function(t){var e=i.getRowId(t);e&&i.isNodeInCache(e)||(n[e]=t)}));var r=Object.values(n),s=r.length;if(0===s)return[];var a=this.nodeMap.filter((function(t){return t.index>=o}));return a.forEach((function(t){return i.nodeMap.delete(t)})),a.forEach((function(t){i.nodeMap.set({node:t.node,index:t.index+s,id:t.id})})),this.numberOfRows+=s,r.map((function(t,e){return i.createRowAtIndex(o+e,t)}))},e.prototype.getOrderedNodeMap=function(){var t={};return this.nodeMap.forEach((function(e){return t[e.index]=e})),t},e.prototype.clearDisplayIndexes=function(){this.nodeDisplayIndexMap.clear()},e.prototype.removeRowNodes=function(t){if(null==this.getRowIdFunc)throw new Error("AG Grid: Insert transactions can only be applied when row ids are supplied.");var e=[],i=[],o=0,n=__spread$4(t),r=this.getOrderedNodeMap(),s=-1,a=function(t){s+=1;var a=r[t],c=n.findIndex((function(t){return t===a.id}));if(-1!==c)return n.splice(c,1),l.destroyRowAtIndex(Number(t)),e.push(a.node),o+=1,"continue";if(0===o)return"continue";var u=Number(t);s!==u&&i.push(a.node),l.nodeMap.delete(r[t]),l.nodeMap.set({id:a.id,node:a.node,index:u-o})},l=this;for(var c in r)a(c);return this.numberOfRows-=this.isLastRowIndexKnown()?t.length:o,n.length>0&&i.length>0&&(i.forEach((function(t){return t.__needsRefreshWhenVisible=!0})),this.rowLoader.queueLoadCheck()),e},__decorate$s([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],e.prototype,"api",void 0),__decorate$s([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ssrmBlockUtils")],e.prototype,"blockUtils",void 0),__decorate$s([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("focusService")],e.prototype,"focusService",void 0),__decorate$s([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ssrmNodeManager")],e.prototype,"nodeManager",void 0),__decorate$s([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),__decorate$s([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FXL],e.prototype,"destroyRowNodes",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$t=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$r=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},__read$5=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,n,r=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return s},__spread$3=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$5(arguments[e]));return t},LazyStore=function(t){function e(e,i,o){var n=t.call(this)||this;return n.idSequence=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.at1,n.ssrmParams=e,n.parentRowNode=o,n.storeParams=i,n.level=o.level+1,n.group=!!e.rowGroupCols&&n.level<e.rowGroupCols.length,n.leafGroup=!!e.rowGroupCols&&n.level===e.rowGroupCols.length-1,n}return __extends$t(e,t),e.prototype.init=function(){var t=1;if(0===this.level&&(t=this.storeUtils.getServerSideInitialRowCount()),this.cache=this.createManagedBean(new LazyCache(this,t,this.storeParams)),!this.gridOptionsService.isTreeData()&&this.group){var e=this.ssrmParams.rowGroupCols[this.level];this.groupField=e.field,this.rowGroupColumn=this.columnModel.getRowGroupColumns()[this.level]}},e.prototype.destroyRowNodes=function(){this.displayIndexStart=void 0,this.displayIndexEnd=void 0,this.destroyBean(this.cache)},e.prototype.applyTransaction=function(t){var e,i,o,n=this,r=this.gridOptionsService.getRowIdFunc();if(!r)return console.warn("AG Grid: getRowId callback must be implemented for transactions to work. Transaction was ignored."),{status:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Qk6.Cancelled};var s=this.gridOptionsService.getCallback("isApplyServerSideTransaction");if(s&&!s({transaction:t,parentNode:this.parentRowNode,storeInfo:this.info,groupLevelInfo:this.info}))return{status:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Qk6.Cancelled};var a=void 0;(null===(e=t.update)||void 0===e?void 0:e.length)&&(a=this.cache.updateRowNodes(t.update));var l=void 0;if(null===(i=t.add)||void 0===i?void 0:i.length){var c=t.addIndex;null!=c&&c<0&&(c=void 0),l=this.cache.insertRowNodes(t.add,c)}var u=void 0;if(null===(o=t.remove)||void 0===o?void 0:o.length){var h=t.remove.map((function(t){return r({level:n.level,parentKeys:n.parentRowNode.getGroupKeys(),data:t})})),d=__spread$3(new Set(h));u=this.cache.removeRowNodes(d)}return this.updateSelectionAfterTransaction(a,u),{status:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Qk6.Applied,update:a,add:l,remove:u}},e.prototype.updateSelectionAfterTransaction=function(t,e){var i=!1;if(null==t||t.forEach((function(t){t.isSelected()&&!t.selectable&&(t.setSelected(!1,!1,!0,"rowDataChanged"),i=!0)})),null==e||e.forEach((function(t){t.isSelected()&&(t.setSelected(!1,!1,!0,"rowDataChanged"),i=!0)})),i){var o={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_SELECTION_CHANGED,source:"rowDataChanged"};this.eventService.dispatchEvent(o)}},e.prototype.clearDisplayIndexes=function(){var t=this;this.displayIndexStart=void 0,this.displayIndexEnd=void 0,this.cache.getNodes().forEach((function(e){return t.blockUtils.clearDisplayIndex(e.node)})),this.cache.clearDisplayIndexes()},e.prototype.getDisplayIndexStart=function(){return this.displayIndexStart},e.prototype.getDisplayIndexEnd=function(){return this.displayIndexEnd},e.prototype.getRowCount=function(){return this.cache.getRowCount()},e.prototype.setRowCount=function(t,e){this.cache.setRowCount(t,e)},e.prototype.isDisplayIndexInStore=function(t){return 0!==this.cache.getRowCount()&&(this.displayIndexStart<=t&&t<this.getDisplayIndexEnd())},e.prototype.setDisplayIndexes=function(t,e){this.displayIndexStart=t.peek(),this.topPx=e.value,this.cache.setDisplayIndexes(t,e),this.displayIndexEnd=t.peek(),this.heightPx=e.value-this.topPx},e.prototype.forEachStoreDeep=function(t,e){void 0===e&&(e=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.at1),t(this,e.next()),this.cache.getNodes().forEach((function(i){var o=i.node.childStore;o&&o.forEachStoreDeep(t,e)}))},e.prototype.forEachNodeDeep=function(t,e){void 0===e&&(e=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.at1),this.cache.getNodes().forEach((function(i){t(i.node,e.next());var o=i.node.childStore;o&&o.forEachNodeDeep(t,e)}))},e.prototype.forEachNodeDeepAfterFilterAndSort=function(t,e){void 0===e&&(e=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.at1);var i=this.cache.getOrderedNodeMap();for(var o in i){var n=i[o];t(n.node,e.next());var r=n.node.childStore;r&&r.forEachNodeDeepAfterFilterAndSort(t,e)}},e.prototype.retryLoads=function(){this.cache.getNodes().forEach((function(t){var e=t.node;e.failedLoad&&(e.failedLoad=!1,e.__needsRefreshWhenVisible=!0,e.stub=!0)})),this.forEachChildStoreShallow((function(t){return t.retryLoads()})),this.fireStoreUpdatedEvent()},e.prototype.getRowUsingDisplayIndex=function(t){return this.cache.getRowByDisplayIndex(t)},e.prototype.getRowBounds=function(t){var e;if(!this.isDisplayIndexInStore(t))return null;var i=this.cache.getNodeCachedByDisplayIndex(t);if(i&&(o=this.blockUtils.extractRowBounds(i,t)))return o;var o,n=null!==(e=this.cache.getSurroundingNodesByDisplayIndex(t))&&void 0!==e?e:{},r=n.previousNode,s=n.nextNode;if(r&&null!=(o=this.blockUtils.extractRowBounds(r,t)))return o;var a=this.gridOptionsService.getRowHeightAsNumber();if(s){var l=Math.floor((s.rowIndex-t)*a);return{rowTop:s.rowTop-l,rowHeight:a}}return{rowTop:this.topPx+this.heightPx-Math.floor((this.getDisplayIndexEnd()-t)*a),rowHeight:a}},e.prototype.isPixelInRange=function(t){return t>=this.topPx&&t<this.topPx+this.heightPx},e.prototype.getRowIndexAtPixel=function(t){if(t<this.topPx)return this.getDisplayIndexStart();if(t>=this.topPx+this.heightPx)return this.getDisplayIndexEnd()-1;var e=Number.MAX_SAFE_INTEGER,i=null,o=Number.MAX_SAFE_INTEGER,n=null;if(this.cache.getNodes().forEach((function(r){var s=r.node,a=Math.abs(t-s.rowTop);s.rowTop<t?a<e&&(e=a,i=s):a<o&&(o=a,n=s)})),i){var r=this.blockUtils.getIndexAtPixel(i,t);if(null!=r)return r}var s=this.gridOptionsService.getRowHeightAsNumber();if(n){var a=n.rowTop,l=Math.ceil((a-t)/s);return n.rowIndex-l}var c=this.topPx+this.heightPx,u=Math.floor((c-t)/s);return this.getDisplayIndexEnd()-u},e.prototype.getChildStore=function(t){var e=this;return this.storeUtils.getChildStore(t,this,(function(t){var i=e.cache.getNodes().find((function(e){return e.node.key==t}));return i?i.node:null}))},e.prototype.forEachChildStoreShallow=function(t){this.cache.getNodes().forEach((function(e){var i=e.node;i.childStore&&t(i.childStore)}))},e.prototype.refreshAfterSort=function(t){if(this.storeUtils.isServerSideSortAllLevels()||this.storeUtils.isServerRefreshNeeded(this.parentRowNode,this.ssrmParams.rowGroupCols,t)){var e=this.cache.getRowCount();return this.destroyBean(this.cache),this.cache=this.createManagedBean(new LazyCache(this,e,this.storeParams)),void this.fireStoreUpdatedEvent()}this.forEachChildStoreShallow((function(e){return e.refreshAfterSort(t)}))},e.prototype.refreshAfterFilter=function(t){this.storeUtils.isServerSideFilterAllLevels()||this.storeUtils.isServerRefreshNeeded(this.parentRowNode,this.ssrmParams.rowGroupCols,t)?this.refreshStore(!0):this.forEachChildStoreShallow((function(e){return e.refreshAfterFilter(t)}))},e.prototype.refreshStore=function(t){if(t)return this.destroyBean(this.cache),this.cache=this.createManagedBean(new LazyCache(this,1,this.storeParams)),void this.fireStoreUpdatedEvent();this.cache.markNodesForRefresh()},e.prototype.getTopLevelRowDisplayedIndex=function(t){var e=this.cache.getDisplayIndexFromStoreIndex(t);return null!=e?e:t},e.prototype.isLastRowIndexKnown=function(){return this.cache.isLastRowIndexKnown()},e.prototype.getRowNodesInRange=function(t,e){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(t),this.cache.getNodes().filter((function(i){var o=i.node;return o.rowIndex>=t.rowIndex&&o.rowIndex<=e.rowIndex})).map((function(t){return t.node}))},e.prototype.addStoreStates=function(t){t.push({suppressInfiniteScroll:!1,route:this.parentRowNode.getGroupKeys(),rowCount:this.getRowCount(),lastRowIndexKnown:this.isLastRowIndexKnown(),info:this.info,maxBlocksInCache:this.storeParams.maxBlocksInCache,cacheBlockSize:this.storeParams.cacheBlockSize}),this.forEachChildStoreShallow((function(e){return e.addStoreStates(t)}))},e.prototype.getIdSequence=function(){return this.idSequence},e.prototype.getParentNode=function(){return this.parentRowNode},e.prototype.getRowDetails=function(){return{field:this.groupField,group:this.group,leafGroup:this.leafGroup,level:this.level,parent:this.parentRowNode,rowGroupColumn:this.rowGroupColumn}},e.prototype.getSsrmParams=function(){return this.ssrmParams},e.prototype.setStoreInfo=function(t){this.info=t},e.prototype.fireStoreUpdatedEvent=function(){var t={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_STORE_UPDATED};this.eventService.dispatchEvent(t)},e.prototype.fireRefreshFinishedEvent=function(){var t={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_STORE_REFRESHED,route:this.parentRowNode.getRoute()};this.eventService.dispatchEvent(t)},e.prototype.getBlockStates=function(){return this.cache.getBlockStates()},e.prototype.getStoreBounds=function(){return{topPx:this.topPx,heightPx:this.heightPx}},__decorate$r([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ssrmBlockUtils")],e.prototype,"blockUtils",void 0),__decorate$r([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ssrmStoreUtils")],e.prototype,"storeUtils",void 0),__decorate$r([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$r([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),__decorate$r([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FXL],e.prototype,"destroyRowNodes",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$s=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$q=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},__read$4=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,n,r=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return s},ServerSideRowModel=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.onRowHeightChanged_debounced=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.debounce(e.onRowHeightChanged.bind(e),100),e.pauseStoreUpdateListening=!1,e.started=!1,e}return __extends$s(e,t),e.prototype.ensureRowHeightsValid=function(){return!1},e.prototype.start=function(){this.started=!0;var t=this.gridOptionsService.get("serverSideDatasource");t&&this.setDatasource(t)},e.prototype.destroyDatasource=function(){this.datasource&&(this.datasource.destroy&&this.datasource.destroy(),this.rowRenderer.datasourceChanged(),this.datasource=void 0)},e.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverything.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_STORE_UPDATED,this.onStoreUpdated.bind(this));var t=this.resetRootStore.bind(this);this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_VALUE_CHANGED,t),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PIVOT_CHANGED,t),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_ROW_GROUP_CHANGED,t),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PIVOT_MODE_CHANGED,t),this.verifyProps()},e.prototype.verifyProps=function(){if(this.gridOptionsService.exists("initialGroupOrderComparator")||this.gridOptionsService.exists("defaultGroupOrderComparator")){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce((function(){return console.warn("AG Grid: initialGroupOrderComparator cannot be used with Server Side Row Model. If using Full Store, then provide the rows to the grid in the desired sort order. If using Infinite Scroll, then sorting is done on the server side, nothing to do with the client.")}),"SSRM.InitialGroupOrderComparator")}if(this.gridOptionsService.isRowSelection()&&!this.gridOptionsService.exists("getRowId")){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce((function(){return console.warn("AG Grid: getRowId callback must be provided for Server Side Row Model selection to work correctly.")}),"SSRM.SelectionNeedsRowNodeIdFunc")}},e.prototype.setDatasource=function(t){this.started&&(this.destroyDatasource(),this.datasource=t,this.resetRootStore())},e.prototype.isLastRowIndexKnown=function(){var t=this.getRootStore();return!!t&&t.isLastRowIndexKnown()},e.prototype.onColumnEverything=function(){if(this.storeParams){var t=this.columnsToValueObjects(this.columnModel.getRowGroupColumns()),e=this.columnsToValueObjects(this.columnModel.getValueColumns()),i=this.columnsToValueObjects(this.columnModel.getPivotColumns()),o=function(t){var e={};t.oldCols.forEach((function(t){return e[t.id]=t}));var i=t.newCols.every((function(t){var i=e[t.id];return i&&delete e[t.id],i&&i.field===t.field&&i.aggFunc===t.aggFunc})),o=!t.allowRemovedColumns&&!!Object.values(e).length;return i&&!o},n=!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.jsonEquals(this.storeParams.sortModel,this.sortListener.extractSortModel()),r=!o({oldCols:this.storeParams.rowGroupCols,newCols:t}),s=!o({oldCols:this.storeParams.pivotCols,newCols:i}),a=!!(null==t?void 0:t.length)&&!o({oldCols:this.storeParams.valueCols,newCols:e,allowRemovedColumns:!0});if(n||r||s||a)this.resetRootStore();else{var l=this.createStoreParams();this.storeParams.rowGroupCols=l.rowGroupCols,this.storeParams.pivotCols=l.pivotCols,this.storeParams.valueCols=l.valueCols}}else this.resetRootStore()},e.prototype.destroyRootStore=function(){this.rootNode&&this.rootNode.childStore&&(this.rootNode.childStore=this.destroyBean(this.rootNode.childStore),this.nodeManager.clear())},e.prototype.refreshAfterSort=function(t,e){this.storeParams&&(this.storeParams.sortModel=t);var i=this.getRootStore();i&&(i.refreshAfterSort(e),this.onStoreUpdated())},e.prototype.resetRootStore=function(){this.destroyRootStore(),this.rootNode=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Fxk(this.beans),this.rootNode.group=!0,this.rootNode.level=-1,this.datasource&&(this.storeParams=this.createStoreParams(),this.rootNode.childStore=this.createBean(this.storeFactory.createStore(this.storeParams,this.rootNode)),this.updateRowIndexesAndBounds());var t={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_ROW_DATA_UPDATED};this.eventService.dispatchEvent(t),this.dispatchModelUpdated(!0)},e.prototype.columnsToValueObjects=function(t){var e=this;return t.map((function(t){return{id:t.getId(),aggFunc:t.getAggFunc(),displayName:e.columnModel.getDisplayNameForColumn(t,"model"),field:t.getColDef().field}}))},e.prototype.createStoreParams=function(){var t=this.columnsToValueObjects(this.columnModel.getRowGroupColumns()),e=this.columnsToValueObjects(this.columnModel.getValueColumns()),i=this.columnsToValueObjects(this.columnModel.getPivotColumns()),o=this.gridOptionsService.isGetRowHeightFunction();return{valueCols:e,rowGroupCols:t,pivotCols:i,pivotMode:this.columnModel.isPivotMode(),filterModel:this.filterManager.getFilterModel(),sortModel:this.sortListener.extractSortModel(),datasource:this.datasource,lastAccessedSequence:new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.at1,dynamicRowHeight:o}},e.prototype.getParams=function(){return this.storeParams},e.prototype.dispatchModelUpdated=function(t){void 0===t&&(t=!1);var e={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_MODEL_UPDATED,animate:!t,keepRenderedRows:!t,newPage:!1,newData:!1};this.eventService.dispatchEvent(e)},e.prototype.onStoreUpdated=function(){this.pauseStoreUpdateListening||(this.updateRowIndexesAndBounds(),this.dispatchModelUpdated())},e.prototype.onRowHeightChangedDebounced=function(){this.onRowHeightChanged_debounced()},e.prototype.onRowHeightChanged=function(){this.updateRowIndexesAndBounds(),this.dispatchModelUpdated()},e.prototype.updateRowIndexesAndBounds=function(){var t=this.getRootStore();t&&t.setDisplayIndexes(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.at1,{value:0})},e.prototype.retryLoads=function(){var t=this.getRootStore();t&&(t.retryLoads(),this.onStoreUpdated())},e.prototype.getRow=function(t){var e=this.getRootStore();if(e)return e.getRowUsingDisplayIndex(t)},e.prototype.expandAll=function(t){this.pauseStoreUpdateListening=!0,this.forEachNode((function(e){e.stub||e.hasChildren()&&e.setExpanded(t)})),this.pauseStoreUpdateListening=!1,this.onStoreUpdated()},e.prototype.refreshAfterFilter=function(t,e){this.storeParams&&(this.storeParams.filterModel=t);var i=this.getRootStore();i&&(i.refreshAfterFilter(e),this.onStoreUpdated())},e.prototype.getRootStore=function(){if(this.rootNode&&this.rootNode.childStore)return this.rootNode.childStore},e.prototype.getRowCount=function(){var t=this.getRootStore();return t?t.getDisplayIndexEnd():0},e.prototype.getTopLevelRowCount=function(){var t=this.getRootStore();return t?t.getRowCount():1},e.prototype.getTopLevelRowDisplayedIndex=function(t){var e=this.getRootStore();return e?e.getTopLevelRowDisplayedIndex(t):t},e.prototype.getRowBounds=function(t){var e=this.getRootStore();return e?e.getRowBounds(t):{rowTop:0,rowHeight:this.gridOptionsService.getRowHeightAsNumber()}},e.prototype.getBlockStates=function(){var t=this.getRootStore();if(t){var e={};return t.forEachStoreDeep((function(t){if(t instanceof FullStore){var i=t.getBlockStateJson(),o=i.id,n=i.state;e[o]=n}else{if(!(t instanceof LazyStore))throw new Error("AG Grid: Unsupported store type");Object.entries(t.getBlockStates()).forEach((function(t){var i=__read$4(t,2),o=i[0],n=i[1];e[o]=n}))}})),e}},e.prototype.getRowIndexAtPixel=function(t){var e=this.getRootStore();return t<=0||!e?0:e.getRowIndexAtPixel(t)},e.prototype.isEmpty=function(){return!1},e.prototype.isRowsToRender=function(){return null!=this.getRootStore()&&this.getRowCount()>0},e.prototype.getType=function(){return"serverSide"},e.prototype.forEachNode=function(t){var e=this.getRootStore();e&&e.forEachNodeDeep(t)},e.prototype.forEachNodeAfterFilterAndSort=function(t){var e=this.getRootStore();e&&e.forEachNodeDeepAfterFilterAndSort(t)},e.prototype.executeOnStore=function(t,e){var i=this.getRootStore();if(i){var o=i.getChildStore(t);o&&e(o)}},e.prototype.refreshStore=function(t){void 0===t&&(t={});var e=t.route?t.route:[];this.executeOnStore(e,(function(e){return e.refreshStore(1==t.purge)}))},e.prototype.getStoreState=function(){var t=[],e=this.getRootStore();return e&&e.addStoreStates(t),t},e.prototype.getNodesInRangeForSelection=function(t,e){if(!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(t))return[];if(!e)return[t];var i=t.rowIndex,o=e.rowIndex;if(null===i||null===o)return[t];var n=[],r=__read$4([i,o].sort((function(t,e){return t-e})),2),s=r[0],a=r[1];return this.forEachNode((function(t){var e=t.rowIndex;null==e||t.stub||e>=s&&e<=a&&n.push(t)})),n.every((function(t,e,i){return 0===e?t.rowIndex===s:i[e-1].rowIndex===t.rowIndex-1}))&&n.length===a-s+1?n:[t]},e.prototype.getRowNode=function(t){var e;return this.forEachNode((function(i){i.id===t&&(e=i),i.detailNode&&i.detailNode.id===t&&(e=i.detailNode)})),e},e.prototype.isRowPresent=function(t){return!!this.getRowNode(t.id)},e.prototype.setRowCount=function(t,e){var i=this.getRootStore();if(i){if(i instanceof LazyStore)return void i.setRowCount(t,e);console.error("AG Grid: Infinite scrolling must be enabled in order to set the row count.")}},__decorate$q([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$q([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("filterManager")],e.prototype,"filterManager",void 0),__decorate$q([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowRenderer")],e.prototype,"rowRenderer",void 0),__decorate$q([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ssrmSortService")],e.prototype,"sortListener",void 0),__decorate$q([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ssrmNodeManager")],e.prototype,"nodeManager",void 0),__decorate$q([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ssrmStoreFactory")],e.prototype,"storeFactory",void 0),__decorate$q([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("beans")],e.prototype,"beans",void 0),__decorate$q([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FXL],e.prototype,"destroyDatasource",null),__decorate$q([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"addEventListeners",null),__decorate$q([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FXL],e.prototype,"destroyRootStore",null),e=__decorate$q([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("rowModel")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$r=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$p=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},StoreUtils=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$r(e,t),e.prototype.loadFromDatasource=function(t){var e=t.storeParams,i=t.parentBlock,o=t.parentNode.getGroupKeys();if(e.datasource){var n={startRow:t.startRow,endRow:t.endRow,rowGroupCols:e.rowGroupCols,valueCols:e.valueCols,pivotCols:e.pivotCols,pivotMode:e.pivotMode,groupKeys:o,filterModel:e.filterModel,sortModel:e.sortModel},r={successCallback:t.successCallback,success:t.success,failCallback:t.failCallback,fail:t.fail,request:n,parentNode:t.parentNode,api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsService.context};window.setTimeout((function(){e.datasource&&i.isAlive()?e.datasource.getRows(r):t.failCallback()}),0)}},e.prototype.getChildStore=function(t,e,i){if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missingOrEmpty(t))return e;var o=i(t[0]);if(o){var n=t.slice(1,t.length),r=o.childStore;return r?r.getChildStore(n):null}return null},e.prototype.isServerRefreshNeeded=function(t,e,i){if(i.valueColChanged||i.secondaryColChanged)return!0;var o=t.level+1;if(!(o<e.length))return!0;var n=e[o].id;if(i.changedColumns.indexOf(n)>-1)return!0;var r=this.columnModel.getAllGridColumns().filter((function(t){return t.getColDef().showRowGroup&&i.changedColumns.includes(t.getId())})).map((function(t){return t.getColDef().showRowGroup})).some((function(t){return!0===t||t===n}));return r},e.prototype.getServerSideInitialRowCount=function(){var t=this.gridOptionsService.getNum("serverSideInitialRowCount");return"number"==typeof t&&t>0?t:1},e.prototype.assertRowModelIsServerSide=function(t){return!!this.gridOptionsService.isRowModelType("serverSide")||(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce((function(){return console.warn("AG Grid: The '"+t+"' property can only be used with the Server Side Row Model.")}),t),!1)},e.prototype.assertNotTreeData=function(t){return!this.gridOptionsService.is("treeData")||(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce((function(){return console.warn("AG Grid: The '"+t+"' property cannot be used while using tree data.")}),t+"_TreeData"),!1)},e.prototype.isServerSideSortAllLevels=function(){return this.gridOptionsService.is("serverSideSortAllLevels")&&this.assertRowModelIsServerSide("serverSideSortAllLevels")},e.prototype.isServerSideFilterAllLevels=function(){return this.gridOptionsService.is("serverSideFilterAllLevels")&&this.assertRowModelIsServerSide("serverSideFilterAllLevels")},e.prototype.isServerSideSortOnServer=function(){return this.gridOptionsService.is("serverSideSortOnServer")&&this.assertRowModelIsServerSide("serverSideSortOnServer")&&this.assertNotTreeData("serverSideSortOnServer")},e.prototype.isServerSideFilterOnServer=function(){return this.gridOptionsService.is("serverSideFilterOnServer")&&this.assertRowModelIsServerSide("serverSideFilterOnServer")&&this.assertNotTreeData("serverSideFilterOnServer")},__decorate$p([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnApi")],e.prototype,"columnApi",void 0),__decorate$p([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$p([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],e.prototype,"gridApi",void 0),e=__decorate$p([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("ssrmStoreUtils")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$q=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$o=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},GROUP_MISSING_KEY_ID="ag-Grid-MissingKey",BlockUtils=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$q(e,t),e.prototype.postConstruct=function(){this.rowHeight=this.gridOptionsService.getRowHeightAsNumber(),this.usingTreeData=this.gridOptionsService.isTreeData(),this.usingMasterDetail=this.gridOptionsService.isMasterDetail()},e.prototype.createRowNode=function(t){var e=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Fxk(this.beans),i=null!=t.rowHeight?t.rowHeight:this.rowHeight;return e.setRowHeight(i),e.group=t.group,e.leafGroup=t.leafGroup,e.level=t.level,e.uiLevel=t.level,e.parent=t.parent,e.stub=!0,e.__needsRefreshWhenVisible=!1,e.group&&(e.expanded=!1,e.field=t.field,e.rowGroupColumn=t.rowGroupColumn),e},e.prototype.destroyRowNodes=function(t){var e=this;t&&t.forEach((function(t){return e.destroyRowNode(t)}))},e.prototype.destroyRowNode=function(t,e){void 0===e&&(e=!1),t.childStore&&!e&&(this.destroyBean(t.childStore),t.childStore=null),t.clearRowTopAndRowIndex(),null!=t.id&&this.nodeManager.removeNode(t)},e.prototype.setTreeGroupInfo=function(t){t.updateHasChildren();var e=this.gridOptionsService.get("getServerSideGroupKey");t.hasChildren()&&null!=e&&(t.key=e(t.data)),t.hasChildren()||null==t.childStore||(this.destroyBean(t.childStore),t.childStore=null,t.expanded=!1)},e.prototype.setRowGroupInfo=function(t){t.key=this.valueService.getValue(t.rowGroupColumn,t),null!==t.key&&void 0!==t.key||ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce((function(){console.warn("AG Grid: null and undefined values are not allowed for server side row model keys"),t.rowGroupColumn&&console.warn("column = "+t.rowGroupColumn.getId()),console.warn("data is ",t.data)}),"ServerSideBlock-CannotHaveNullOrUndefinedForKey")},e.prototype.setMasterDetailInfo=function(t){var e=this.gridOptionsService.get("isRowMaster");t.master=null==e||e(t.data)},e.prototype.updateDataIntoRowNode=function(t,e){t.updateData(e),this.usingTreeData?(this.setTreeGroupInfo(t),this.setChildCountIntoRowNode(t)):t.group?this.setChildCountIntoRowNode(t):this.usingMasterDetail},e.prototype.setDataIntoRowNode=function(t,e,i,o){t.stub=!1,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(e)?(t.setDataAndId(e,i),this.usingTreeData?this.setTreeGroupInfo(t):t.group?this.setRowGroupInfo(t):this.usingMasterDetail&&this.setMasterDetailInfo(t)):(t.setDataAndId(void 0,void 0),t.key=null),(this.usingTreeData||t.group)&&(this.setGroupDataIntoRowNode(t),this.setChildCountIntoRowNode(t)),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(e)&&t.setRowHeight(this.gridOptionsService.getRowHeightForNode(t,!1,o).height)},e.prototype.setChildCountIntoRowNode=function(t){var e=this.gridOptionsService.get("getChildCount");e&&t.setAllChildrenCount(e(t.data))},e.prototype.setGroupDataIntoRowNode=function(t){var e=this,i=this.columnModel.getGroupDisplayColumns(),o=this.gridOptionsService.isTreeData();i.forEach((function(i){if(null==t.groupData&&(t.groupData={}),o)t.groupData[i.getColId()]=t.key;else if(i.isRowGroupDisplayed(t.rowGroupColumn.getId())){var n=e.valueService.getValue(t.rowGroupColumn,t);t.groupData[i.getColId()]=n}}))},e.prototype.clearDisplayIndex=function(t){(t.clearRowTopAndRowIndex(),t.hasChildren()&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(t.childStore))&&t.childStore.clearDisplayIndexes();t.master&&t.detailNode&&t.detailNode.clearRowTopAndRowIndex()},e.prototype.setDisplayIndex=function(t,e,i){if(t.setRowIndex(e.next()),t.setRowTop(i.value),i.value+=t.rowHeight,t.master&&(t.expanded&&t.detailNode?(t.detailNode.setRowIndex(e.next()),t.detailNode.setRowTop(i.value),i.value+=t.detailNode.rowHeight):t.detailNode&&t.detailNode.clearRowTopAndRowIndex()),t.hasChildren()&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(t.childStore)){var o=t.childStore;t.expanded?o.setDisplayIndexes(e,i):o.clearDisplayIndexes()}},e.prototype.binarySearchForDisplayIndex=function(t,e){var i=0,o=e.length-1;if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(o)||ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(i))console.warn("AG Grid: error: topPointer = "+o+", bottomPointer = "+i);else for(;;){var n=Math.floor((i+o)/2),r=e[n];if(r.rowIndex===t)return r;var s=r.master&&r.expanded,a=r.detailNode;if(s&&a&&a.rowIndex===t)return r.detailNode;var l=r.childStore;if(r.expanded&&l&&l.isDisplayIndexInStore(t))return l.getRowUsingDisplayIndex(t);if(r.rowIndex<t)i=n+1;else{if(!(r.rowIndex>t))return void console.warn("AG Grid: error: unable to locate rowIndex = "+t+" in cache");o=n-1}}},e.prototype.extractRowBounds=function(t,e){var i=function(t){return{rowHeight:t.rowHeight,rowTop:t.rowTop}};if(t.rowIndex===e)return i(t);if(t.hasChildren()&&t.expanded&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(t.childStore)){var o=t.childStore;if(o.isDisplayIndexInStore(e))return o.getRowBounds(e)}else if(t.master&&t.expanded&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(t.detailNode)&&t.detailNode.rowIndex===e)return i(t.detailNode)},e.prototype.getIndexAtPixel=function(t,e){if(t.isPixelInRange(e))return t.rowIndex;var i=t.master&&t.expanded,o=t.detailNode;if(i&&o&&o.isPixelInRange(e))return t.detailNode.rowIndex;if(t.hasChildren()&&t.expanded&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(t.childStore)){var n=t.childStore;if(n.isPixelInRange(e))return n.getRowIndexAtPixel(e)}return null},e.prototype.createNodeIdPrefix=function(t){for(var e=[],i=t;i&&i.level>=0;)""===i.key?e.push(GROUP_MISSING_KEY_ID):e.push(i.key),i=i.parent;if(e.length>0)return e.reverse().join("-")},e.prototype.checkOpenByDefault=function(t){if(t.isExpandable()){var e=this.gridOptionsService.getCallback("isServerSideGroupOpenByDefault");if(e)e({data:t.data,rowNode:t})&&window.setTimeout((function(){return t.setExpanded(!0)}),0)}},__decorate$o([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("valueService")],e.prototype,"valueService",void 0),__decorate$o([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$o([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ssrmNodeManager")],e.prototype,"nodeManager",void 0),__decorate$o([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("beans")],e.prototype,"beans",void 0),__decorate$o([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),e=__decorate$o([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("ssrmBlockUtils")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__decorate$n=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},NodeManager=function(){function t(){this.rowNodes={}}return t.prototype.addRowNode=function(t){var e=t.id;this.rowNodes[e]&&(console.warn("AG Grid: Duplicate node id "+t.id+". Row ID's are provided via the getRowId() callback. Please modify the getRowId() callback code to provide unique row id values."),console.warn("first instance",this.rowNodes[e].data),console.warn("second instance",t.data)),this.rowNodes[e]=t},t.prototype.removeNode=function(t){var e=t.id;this.rowNodes[e]&&(this.rowNodes[e]=void 0)},t.prototype.clear=function(){this.rowNodes={}},__decorate$n([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FXL],t.prototype,"clear",null),t=__decorate$n([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("ssrmNodeManager")],t)}(),__extends$p=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$m=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},TransactionManager=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.asyncTransactions=[],e}return __extends$p(e,t),e.prototype.postConstruct=function(){this.gridOptionsService.isRowModelType("serverSide")},e.prototype.applyTransactionAsync=function(t,e){null==this.asyncTransactionsTimeout&&this.scheduleExecuteAsync(),this.asyncTransactions.push({transaction:t,callback:e})},e.prototype.scheduleExecuteAsync=function(){var t=this,e=this.gridOptionsService.getAsyncTransactionWaitMillis();this.asyncTransactionsTimeout=window.setTimeout((function(){t.executeAsyncTransactions()}),e)},e.prototype.executeAsyncTransactions=function(){var t=this;if(this.asyncTransactions){var e=[],i=[],o=[],n=!1;if(this.asyncTransactions.forEach((function(r){var s;t.serverSideRowModel.executeOnStore(r.transaction.route,(function(t){s=t.applyTransaction(r.transaction)})),null==s&&(s={status:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Qk6.StoreNotFound}),i.push(s),s.status==ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Qk6.StoreLoading?o.push(r):(r.callback&&e.push((function(){return r.callback(s)})),s.status===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Qk6.Applied&&(n=!0))})),e.length>0&&window.setTimeout((function(){e.forEach((function(t){return t()}))}),0),this.asyncTransactionsTimeout=void 0,this.asyncTransactions=o,n&&(this.valueCache.onDataChanged(),this.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_STORE_UPDATED})),i.length>0){var r={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_ASYNC_TRANSACTIONS_FLUSHED,results:i};this.eventService.dispatchEvent(r)}}},e.prototype.flushAsyncTransactions=function(){null!=this.asyncTransactionsTimeout&&clearTimeout(this.asyncTransactionsTimeout),this.executeAsyncTransactions()},e.prototype.applyTransaction=function(t){var e;if(this.serverSideRowModel.executeOnStore(t.route,(function(i){e=i.applyTransaction(t)})),e){if(this.valueCache.onDataChanged(),e.remove){var i=e.remove.map((function(t){return t.id}));this.selectionService.deleteSelectionStateFromParent(t.route||[],i)}return this.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_STORE_UPDATED}),e}return{status:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Qk6.StoreNotFound}},__decorate$m([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowNodeBlockLoader")],e.prototype,"rowNodeBlockLoader",void 0),__decorate$m([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("valueCache")],e.prototype,"valueCache",void 0),__decorate$m([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowModel")],e.prototype,"serverSideRowModel",void 0),__decorate$m([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowRenderer")],e.prototype,"rowRenderer",void 0),__decorate$m([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("selectionService")],e.prototype,"selectionService",void 0),__decorate$m([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),e=__decorate$m([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("ssrmTransactionManager")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$o=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$l=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},ExpandListener=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$o(e,t),e.prototype.postConstruct=function(){this.gridOptionsService.isRowModelType("serverSide")&&this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_ROW_GROUP_OPENED,this.onRowGroupOpened.bind(this))},e.prototype.onRowGroupOpened=function(t){var e=t.node;if(e.expanded){if(e.master)this.createDetailNode(e);else if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(e.childStore)){var i=this.serverSideRowModel.getParams();e.childStore=this.createBean(this.storeFactory.createStore(i,e))}}else this.gridOptionsService.is("purgeClosedRowNodes")&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(e.childStore)&&(e.childStore=this.destroyBean(e.childStore));var o={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_STORE_UPDATED};this.eventService.dispatchEvent(o)},e.prototype.createDetailNode=function(t){if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(t.detailNode))return t.detailNode;var e=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Fxk(this.beans);e.detail=!0,e.selectable=!1,e.parent=t,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(t.id)&&(e.id="detail_"+t.id),e.data=t.data,e.level=t.level+1;var i=this.gridOptionsService.getRowHeightForNode(e).height;return e.rowHeight=i||200,t.detailNode=e,e},__decorate$l([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowModel")],e.prototype,"serverSideRowModel",void 0),__decorate$l([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ssrmStoreFactory")],e.prototype,"storeFactory",void 0),__decorate$l([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("beans")],e.prototype,"beans",void 0),__decorate$l([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),e=__decorate$l([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("ssrmExpandListener")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$n=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$k=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},SortListener=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$n(e,t),e.prototype.postConstruct=function(){this.gridOptionsService.isRowModelType("serverSide")&&this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_SORT_CHANGED,this.onSortChanged.bind(this))},e.prototype.extractSortModel=function(){var t=this.sortController.getSortModel();return this.gridOptionsService.isTreeData()||(this.replaceAutoGroupColumnWithActualRowGroupColumns(t),this.removeMultiColumnPrefixOnColumnIds(t)),t},e.prototype.removeMultiColumnPrefixOnColumnIds=function(t){if(this.gridOptionsService.isGroupMultiAutoColumn())for(var e=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.eHy+"-",i=0;i<t.length;++i)t[i].colId.indexOf(e)>-1&&(t[i].colId=t[i].colId.substr(e.length))},e.prototype.replaceAutoGroupColumnWithActualRowGroupColumns=function(t){var e=t.find((function(t){return t.colId==ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.eHy}));if(e){var i=t.indexOf(e);ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromArray(t,e);var o=this.columnModel.getRowGroupColumns().filter((function(e){return 0==t.filter((function(t){return t.colId===e.getColId()})).length})).map((function(t){return{colId:t.getId(),sort:e.sort}}));ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.insertArrayIntoArray(t,o,i)}},e.prototype.onSortChanged=function(){var t=this.serverSideRowModel.getParams();if(t){var e=this.extractSortModel(),i=t.sortModel,o=this.findChangedColumnsInSort(e,i),n={valueColChanged:this.listenerUtils.isSortingWithValueColumn(o),secondaryColChanged:this.listenerUtils.isSortingWithSecondaryColumn(o),changedColumns:o};this.serverSideRowModel.refreshAfterSort(e,n)}},e.prototype.findChangedColumnsInSort=function(t,e){var i=[];[t,e].forEach((function(t){if(t){var e=t.map((function(t){return t.colId}));i=i.concat(e)}}));return i.filter((function(i){var o=e.find((function(t){return t.colId===i})),n=t.find((function(t){return t.colId===i}));return function(t,e){return(t?t.sort:null)!==(e?e.sort:null)}(o,n)||function(i,o){return(i?e.indexOf(i):-1)!==(o?t.indexOf(o):-1)}(o,n)}))},__decorate$k([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("sortController")],e.prototype,"sortController",void 0),__decorate$k([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$k([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowModel")],e.prototype,"serverSideRowModel",void 0),__decorate$k([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ssrmListenerUtils")],e.prototype,"listenerUtils",void 0),__decorate$k([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),e=__decorate$k([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("ssrmSortService")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$m=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$j=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},FilterListener=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$m(e,t),e.prototype.postConstruct=function(){this.gridOptionsService.isRowModelType("serverSide")&&this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this))},e.prototype.onFilterChanged=function(){var t=this.serverSideRowModel.getParams();if(t){var e=this.filterManager.getFilterModel(),i=t?t.filterModel:{},o=this.findChangedColumns(e,i),n={valueColChanged:this.listenerUtils.isSortingWithValueColumn(o),secondaryColChanged:this.listenerUtils.isSortingWithSecondaryColumn(o),changedColumns:o};this.serverSideRowModel.refreshAfterFilter(e,n)}},e.prototype.findChangedColumns=function(t,e){var i={};Object.keys(t).forEach((function(t){return i[t]=!0})),Object.keys(e).forEach((function(t){return i[t]=!0}));var o=[];return Object.keys(i).forEach((function(i){JSON.stringify(t[i])!=JSON.stringify(e[i])&&o.push(i)})),o},__decorate$j([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowModel")],e.prototype,"serverSideRowModel",void 0),__decorate$j([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("filterManager")],e.prototype,"filterManager",void 0),__decorate$j([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ssrmListenerUtils")],e.prototype,"listenerUtils",void 0),__decorate$j([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),e=__decorate$j([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("ssrmFilterListener")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__decorate$i=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},StoreFactory=function(){function t(){}return t.prototype.createStore=function(t,e){var i=this.getStoreParams(t,e);return new(i.suppressInfiniteScroll?FullStore:LazyStore)(t,i,e)},t.prototype.getStoreParams=function(t,e){var i=this.getLevelSpecificParams(e),o=this.isInfiniteScroll(i);return{suppressInfiniteScroll:!o,cacheBlockSize:this.getBlockSize(o,i),maxBlocksInCache:this.getMaxBlocksInCache(o,t,i)}},t.prototype.getMaxBlocksInCache=function(t,e,i){if(t){var o=i&&null!=i.maxBlocksInCache?i.maxBlocksInCache:this.gridOptionsService.getNum("maxBlocksInCache");if(null!=o&&o>=0)if(e.dynamicRowHeight){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce((function(){return console.warn("AG Grid: Server Side Row Model does not support Dynamic Row Height and Cache Purging. Either a) remove getRowHeight() callback or b) remove maxBlocksInCache property. Purging has been disabled.")}),"storeFactory.maxBlocksInCache.dynamicRowHeight")}else{if(!this.columnModel.isAutoRowHeightActive())return o;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce((function(){return console.warn("AG Grid: Server Side Row Model does not support Auto Row Height and Cache Purging. Either a) remove colDef.autoHeight or b) remove maxBlocksInCache property. Purging has been disabled.")}),"storeFactory.maxBlocksInCache.autoRowHeightActive")}}},t.prototype.getBlockSize=function(t,e){if(t){var i=e&&null!=e.cacheBlockSize?e.cacheBlockSize:this.gridOptionsService.getNum("cacheBlockSize");return null!=i&&i>0?i:100}},t.prototype.getLevelSpecificParams=function(t){var e=this.gridOptionsService.getCallback("getServerSideGroupLevelParams");if(e){var i=e({level:t.level+1,parentRowNode:t.level>=0?t:void 0,rowGroupColumns:this.columnModel.getRowGroupColumns(),pivotColumns:this.columnModel.getPivotColumns(),pivotMode:this.columnModel.isPivotMode()});return null!=i.storeType&&(i.suppressInfiniteScroll="partial"!==i.storeType),i}},t.prototype.isInfiniteScroll=function(t){return!(t&&null!=t.suppressInfiniteScroll?t.suppressInfiniteScroll:this.isSuppressServerSideInfiniteScroll())},t.prototype.isSuppressServerSideInfiniteScroll=function(){return this.gridOptionsService.is("suppressServerSideInfiniteScroll")},__decorate$i([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridOptionsService")],t.prototype,"gridOptionsService",void 0),__decorate$i([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],t.prototype,"columnModel",void 0),t=__decorate$i([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("ssrmStoreFactory")],t)}(),__decorate$h=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},ListenerUtils=function(){function t(){}return t.prototype.isSortingWithValueColumn=function(t){for(var e=this.columnModel.getValueColumns().map((function(t){return t.getColId()})),i=0;i<t.length;i++)if(e.indexOf(t[i])>-1)return!0;return!1},t.prototype.isSortingWithSecondaryColumn=function(t){if(!this.columnModel.getSecondaryColumns())return!1;for(var e=this.columnModel.getSecondaryColumns().map((function(t){return t.getColId()})),i=0;i<t.length;i++)if(e.indexOf(t[i])>-1)return!0;return!1},__decorate$h([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],t.prototype,"columnModel",void 0),t=__decorate$h([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("ssrmListenerUtils")],t)}(),__extends$l=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$g=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},__read$3=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,n,r=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return s},__spread$2=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$3(arguments[e]));return t},DefaultStrategy=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.selectedState={selectAll:!1,toggledNodes:new Set},e.lastSelected=null,e.selectAllUsed=!1,e.selectedNodes={},e}return __extends$l(e,t),e.prototype.init=function(){var t=this;this.rowSelection=this.gridOptionsService.get("rowSelection"),this.addManagedPropertyListener("rowSelection",(function(e){t.rowSelection=e.currentValue}))},e.prototype.getSelectedState=function(){return{selectAll:this.selectedState.selectAll,toggledNodes:__spread$2(this.selectedState.toggledNodes)}},e.prototype.setSelectedState=function(t){var e={selectAll:!1,toggledNodes:new Set};"object"==typeof t?"selectAll"in t&&"boolean"==typeof t.selectAll?(e.selectAll=t.selectAll,"toggledNodes"in t&&Array.isArray(t.toggledNodes)?(t.toggledNodes.forEach((function(t){"string"==typeof t?e.toggledNodes.add(t):console.warn("AG Grid: Provided ids must be of string type. Invalid id provided: "+t)})),this.selectedState=e):console.error("AG Grid: `toggledNodes` must be an array of string ids.")):console.error("AG Grid: Select all status should be of boolean type."):console.error("AG Grid: The provided selection state should be an object.")},e.prototype.deleteSelectionStateFromParent=function(t,e){var i=this;if(0===this.selectedState.toggledNodes.size)return!1;var o=!1;return e.forEach((function(t){i.selectedState.toggledNodes.delete(t)&&(o=!0)})),o},e.prototype.setNodeSelected=function(t){var e,i=this,o=t.clearSelection&&t.newValue&&!t.rangeSelect;if("multiple"!==this.rowSelection||o)return t.newValue?(this.selectedNodes=((e={})[t.node.id]=t.node,e),this.selectedState={selectAll:!1,toggledNodes:new Set([t.node.id])}):(this.selectedNodes={},this.selectedState={selectAll:!1,toggledNodes:new Set}),this.lastSelected=t.node.id,1;var n=function(e){t.newValue?i.selectedNodes[e.id]=e:delete i.selectedNodes[e.id],t.newValue===i.selectedState.selectAll?i.selectedState.toggledNodes.delete(e.id):i.selectedState.toggledNodes.add(e.id)};if(t.rangeSelect&&this.lastSelected){var r=this.rowModel.getRowNode(this.lastSelected);return this.rowModel.getNodesInRangeForSelection(t.node,null!=r?r:null).forEach(n),this.lastSelected=t.node.id,1}return n(t.node),this.lastSelected=t.node.id,1},e.prototype.processNewRow=function(t){this.selectedNodes[t.id]&&(this.selectedNodes[t.id]=t)},e.prototype.isNodeSelected=function(t){var e=this.selectedState.toggledNodes.has(t.id);return this.selectedState.selectAll?!e:e},e.prototype.getSelectedNodes=function(){return this.selectAllUsed&&console.warn("AG Grid: getSelectedNodes and getSelectedRows functions cannot be used with select all functionality with the server-side row model.\n                Use `api.getServerSideSelectionState()` instead."),Object.values(this.selectedNodes)},e.prototype.getSelectedRows=function(){return this.getSelectedNodes().map((function(t){return t.data}))},e.prototype.getSelectionCount=function(){return this.selectedState.selectAll?-1:this.selectedState.toggledNodes.size},e.prototype.clearOtherNodes=function(t,e){var i=this.selectedState.selectAll?1:this.selectedState.toggledNodes.size-1;this.selectedState={selectAll:!1,toggledNodes:new Set([t.id])},this.rowModel.forEachNode((function(i){i!==t&&i.selectThisNode(!1,void 0,e)}));var o={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_SELECTION_CHANGED,source:e};return this.eventService.dispatchEvent(o),i},e.prototype.isEmpty=function(){var t;return!this.selectedState.selectAll&&!(null===(t=this.selectedState.toggledNodes)||void 0===t?void 0:t.size)},e.prototype.selectAllRowNodes=function(t){this.selectedState={selectAll:!0,toggledNodes:new Set},this.selectedNodes={},this.selectAllUsed=!0},e.prototype.deselectAllRowNodes=function(t){this.selectedState={selectAll:!1,toggledNodes:new Set},this.selectedNodes={}},e.prototype.getSelectAllState=function(t,e){return this.selectedState.selectAll?!(this.selectedState.toggledNodes.size>0)||null:this.selectedState.toggledNodes.size>0&&null},__decorate$g([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowModel")],e.prototype,"rowModel",void 0),__decorate$g([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$k=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$f=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},__read$2=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,n,r=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return s},__spread$1=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$2(arguments[e]));return t},GroupSelectsChildrenStrategy=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.selectedState={selectAllChildren:!1,toggledNodes:new Map},e.lastSelected=null,e}return __extends$k(e,t),e.prototype.init=function(){var t=this;this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_MODEL_UPDATED,(function(){return t.removeRedundantState()})),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_ROW_GROUP_CHANGED,(function(){return t.selectionService.reset()}))},e.prototype.getSelectedState=function(){var t=this,e=function(i,o,n){var r={nodeId:n};if(o<=t.columnModel.getRowGroupColumns().length&&(r.selectAllChildren=i.selectAllChildren),i.toggledNodes.size){var s=[];i.toggledNodes.forEach((function(t,i){var n=e(t,o+1,i);s.push(n)})),r.toggledNodes=s}return r};return e(this.selectedState,0)},e.prototype.setSelectedState=function(t){var e=function(t,i){var o,n;if("object"!=typeof t)throw new Error("AG Grid: Each provided state object must be an object.");if("selectAllChildren"in t&&"boolean"!=typeof t.selectAllChildren)throw new Error("AG Grid: `selectAllChildren` must be a boolean value or undefined.");if("toggledNodes"in t){if(!Array.isArray(t.toggledNodes))throw new Error("AG Grid: `toggledNodes` must be an array.");if(!t.toggledNodes.every((function(t){return"object"==typeof t&&"nodeId"in t&&"string"==typeof t.nodeId})))throw new Error("AG Grid: Every `toggledNode` requires an associated string id.")}var r=null!==(o=t.selectAllChildren)&&void 0!==o?o:!i,s=null===(n=t.toggledNodes)||void 0===n?void 0:n.map((function(t){return[t.nodeId,e(t,r)]})),a=null==s?void 0:s.some((function(t){var e=__read$2(t,2);e[0];var i=e[1];return r===i.selectAllChildren&&0===i.toggledNodes.size}));if(a)throw new Error("\n                    AG Grid: AG Grid: Row selection state could not be parsed due to invalid data. Ensure all child state has toggledNodes or does not conform with the parent rule.\n                    Please rebuild the selection state and reapply it.\n                ");return{selectAllChildren:r,toggledNodes:new Map(s)}};try{this.selectedState=e(t,!!t.selectAllChildren)}catch(t){console.error(t.message)}},e.prototype.deleteSelectionStateFromParent=function(t,e){for(var i=this.selectedState,o=__spread$1(t);i&&o.length;)i=i.toggledNodes.get(o.pop());if(!i)return!1;var n=!1;return e.forEach((function(t){(null==i?void 0:i.toggledNodes.delete(t))&&(n=!0)})),n&&this.removeRedundantState(),n},e.prototype.setNodeSelected=function(t){var e=this;if(t.rangeSelect){var i=this.rowModel.getNodesInRangeForSelection(t.node,this.lastSelected).map(this.getRouteToNode).sort((function(t,e){return e.length-t.length})),o=new Set;return i.forEach((function(i){o.has(i[i.length-1])||(i.forEach((function(t){return o.add(t)})),e.recursivelySelectNode(i,e.selectedState,t))})),this.removeRedundantState(),this.lastSelected=t.node,1}var n=this.getRouteToNode(t.node);return this.recursivelySelectNode(n,this.selectedState,t),this.removeRedundantState(),this.lastSelected=t.node,1},e.prototype.isNodeSelected=function(t){var e=this.getRouteToNode(t);return this.isNodePathSelected(e,this.selectedState)},e.prototype.isNodePathSelected=function(t,e){var i=__read$2(t),o=i[0],n=i.slice(1);if(0===n.length){var r=e.toggledNodes.has(o.id);if(o.hasChildren()){var s=e.toggledNodes.get(o.id);if(s&&s.toggledNodes.size)return}return e.selectAllChildren?!r:r}if(e.toggledNodes.has(o.id)){var a=e.toggledNodes.get(o.id);if(a)return this.isNodePathSelected(n,a)}return!!e.selectAllChildren},e.prototype.getRouteToNode=function(t){for(var e=[],i=t;i.parent;)e.push(i),i=i.parent;return e.reverse()},e.prototype.removeRedundantState=function(){var t=this;if(!this.filterManager.isAnyFilterPresent()){var e=function(i,o,n){void 0===i&&(i=t.selectedState),void 0===o&&(o=t.serverSideRowModel.getRootStore());var r=!0,s=!0;return i.toggledNodes.forEach((function(o,n){var a=t.rowModel.getRowNode(n);a||(r=!1);var l=null==a?void 0:a.childStore;l?(e(o,l,a)&&i.selectAllChildren===o.selectAllChildren&&i.toggledNodes.delete(n),o.toggledNodes.size>0&&(s=!1)):o.toggledNodes.size>0&&(s=!1)})),!(!o||!o.isLastRowIndexKnown()||o.getRowCount()!==i.toggledNodes.size)&&(!(!s||!r)&&(i.toggledNodes.clear(),i.selectAllChildren=!i.selectAllChildren,n&&(null==n?void 0:n.isSelected())!==i.selectAllChildren&&n.selectThisNode(i.selectAllChildren,void 0,"api"),!0))};e()}},e.prototype.recursivelySelectNode=function(t,e,i){var o=__read$2(t),n=o[0],r=o.slice(1);if(n)if(!r.length){if(e.selectAllChildren===i.newValue)return void e.toggledNodes.delete(n.id);var s={selectAllChildren:i.newValue,toggledNodes:new Map};e.toggledNodes.set(n.id,s)}else{var a=e.toggledNodes.has(n.id),l=a?e.toggledNodes.get(n.id):{selectAllChildren:e.selectAllChildren,toggledNodes:new Map};a||e.toggledNodes.set(n.id,l),this.recursivelySelectNode(r,l,i),e.selectAllChildren===l.selectAllChildren&&0===l.toggledNodes.size&&e.toggledNodes.delete(n.id)}},e.prototype.getSelectedNodes=function(){console.warn("AG Grid: `getSelectedNodes` and `getSelectedRows` functions cannot be used with `groupSelectsChildren` and the server-side row model.\n            Use `api.getServerSideSelectionState()` instead.");var t=[];return this.rowModel.forEachNode((function(e){e.isSelected()&&t.push(e)})),t},e.prototype.processNewRow=function(t){},e.prototype.getSelectedRows=function(){return this.getSelectedNodes().map((function(t){return t.data}))},e.prototype.getSelectionCount=function(){return-1},e.prototype.isEmpty=function(){var t;return!this.selectedState.selectAllChildren&&!(null===(t=this.selectedState.toggledNodes)||void 0===t?void 0:t.size)},e.prototype.selectAllRowNodes=function(t){this.selectedState={selectAllChildren:!0,toggledNodes:new Map}},e.prototype.deselectAllRowNodes=function(t){this.selectedState={selectAllChildren:!1,toggledNodes:new Map}},e.prototype.getSelectAllState=function(t,e){return this.selectedState.selectAllChildren?!(this.selectedState.toggledNodes.size>0)||null:this.selectedState.toggledNodes.size>0&&null},__decorate$f([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowModel")],e.prototype,"rowModel",void 0),__decorate$f([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$f([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("filterManager")],e.prototype,"filterManager",void 0),__decorate$f([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowModel")],e.prototype,"serverSideRowModel",void 0),__decorate$f([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("selectionService")],e.prototype,"selectionService",void 0),__decorate$f([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$j=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$e=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},ServerSideSelectionService=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$j(e,t),e.prototype.init=function(){var t=this,e=this.gridOptionsService.is("groupSelectsChildren");this.addManagedPropertyListener("groupSelectsChildren",(function(e){t.destroyBean(t.selectionStrategy);var i=e.currentValue?GroupSelectsChildrenStrategy:DefaultStrategy;t.selectionStrategy=t.createManagedBean(new i),t.shotgunResetNodeSelectionState();var o={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_SELECTION_CHANGED,source:"api"};t.eventService.dispatchEvent(o)}));var i=e?GroupSelectsChildrenStrategy:DefaultStrategy;this.selectionStrategy=this.createManagedBean(new i)},e.prototype.getServerSideSelectionState=function(){return this.selectionStrategy.getSelectedState()},e.prototype.setServerSideSelectionState=function(t){this.selectionStrategy.setSelectedState(t),this.shotgunResetNodeSelectionState();var e={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_SELECTION_CHANGED,source:"api"};this.eventService.dispatchEvent(e)},e.prototype.setNodeSelected=function(t){var e=this.selectionStrategy.setNodeSelected(t);this.shotgunResetNodeSelectionState(t.source);var i={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_SELECTION_CHANGED,source:t.source};return this.eventService.dispatchEvent(i),e},e.prototype.deleteSelectionStateFromParent=function(t,e){if(this.selectionStrategy.deleteSelectionStateFromParent(t,e)){this.shotgunResetNodeSelectionState();var i={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_SELECTION_CHANGED,source:"api"};this.eventService.dispatchEvent(i)}},e.prototype.shotgunResetNodeSelectionState=function(t){var e=this;this.rowModel.forEachNode((function(i){if(!i.stub){var o=e.selectionStrategy.isNodeSelected(i);o!==i.isSelected()&&i.selectThisNode(o,void 0,t)}}))},e.prototype.getSelectedNodes=function(){return this.selectionStrategy.getSelectedNodes()},e.prototype.getSelectedRows=function(){return this.selectionStrategy.getSelectedRows()},e.prototype.getSelectionCount=function(){return this.selectionStrategy.getSelectionCount()},e.prototype.syncInRowNode=function(t,e){this.selectionStrategy.processNewRow(t);var i=this.selectionStrategy.isNodeSelected(t);t.setSelectedInitialValue(i)},e.prototype.reset=function(){this.selectionStrategy.deselectAllRowNodes({source:"api"})},e.prototype.isEmpty=function(){return this.selectionStrategy.isEmpty()},e.prototype.selectAllRowNodes=function(t){(t.justCurrentPage||t.justFiltered)&&console.warn("AG Grid: selecting just filtered only works when gridOptions.rowModelType='clientSide'"),this.selectionStrategy.selectAllRowNodes(t),this.rowModel.forEachNode((function(e){e.stub||e.selectThisNode(!0,void 0,t.source)}));var e={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_SELECTION_CHANGED,source:t.source};this.eventService.dispatchEvent(e)},e.prototype.deselectAllRowNodes=function(t){(t.justCurrentPage||t.justFiltered)&&console.warn("AG Grid: selecting just filtered only works when gridOptions.rowModelType='clientSide'"),this.selectionStrategy.deselectAllRowNodes(t),this.rowModel.forEachNode((function(e){e.stub||e.selectThisNode(!1,void 0,t.source)}));var e={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_SELECTION_CHANGED,source:t.source};this.eventService.dispatchEvent(e)},e.prototype.getSelectAllState=function(t,e){return this.selectionStrategy.getSelectAllState(t,e)},e.prototype.updateGroupsFromChildrenSelections=function(t,e){return!1},e.prototype.getBestCostNodeSelection=function(){console.warn("AG Grid: calling gridApi.getBestCostNodeSelection() is only possible when using rowModelType=`clientSide`.")},e.prototype.filterFromSelection=function(){},__decorate$e([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowModel")],e.prototype,"rowModel",void 0),__decorate$e([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e=__decorate$e([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("selectionService")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),VERSION$4="29.3.4",ServerSideRowModelModule={version:VERSION$4,moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.ServerSideRowModelModule,rowModel:"serverSide",beans:[ServerSideRowModel,ExpandListener,SortListener,StoreUtils,BlockUtils,NodeManager,TransactionManager,FilterListener,StoreFactory,ListenerUtils,ServerSideSelectionService],dependantModules:[EnterpriseCoreModule]},ClientSideValuesExtractor=function(){function t(t,e,i,o,n,r,s,a,l){this.rowModel=t,this.filterParams=e,this.createKey=i,this.caseFormat=o,this.columnModel=n,this.valueService=r,this.treeDataOrGrouping=s,this.treeData=a,this.getDataPath=l}return t.prototype.extractUniqueValues=function(t,e){var i=this,o=new Map,n=this.extractExistingFormattedKeys(e),r=new Set,s=this.treeData&&!!this.getDataPath,a=this.columnModel.getRowGroupColumns(),l=function(t,s){var a=i.caseFormat(t);if(!r.has(a)){r.add(a);var l=t,c=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.makeNull(s),u=null==n?void 0:n.get(a);null!=u&&(l=u,c=e.get(u)),o.set(l,c)}};return this.rowModel.forEachLeafNode((function(e){if(e.data&&t(e))if(i.treeDataOrGrouping)i.addValueForTreeDataOrGrouping(e,s,a,l);else{var o=i.getValue(e);i.filterParams.convertValuesToStrings?i.addValueForConvertValuesToString(e,o,l):null!=o&&Array.isArray(o)?(o.forEach((function(t){l(i.createKey(t,e),t)})),0===o.length&&l(null,null)):l(i.createKey(o,e),o)}})),o},t.prototype.addValueForConvertValuesToString=function(t,e,i){var o=this.createKey(e,t);null!=o&&Array.isArray(o)?(o.forEach((function(t){var e=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.toStringOrNull(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.makeNull(t));i(e,e)})),0===o.length&&i(null,null)):i(o,o)},t.prototype.addValueForTreeDataOrGrouping=function(t,e,i,o){var n,r,s=this;if(e){if(null===(n=t.childrenAfterGroup)||void 0===n?void 0:n.length)return;r=this.getDataPath(t.data)}else(r=i.map((function(e){return s.valueService.getKeyForNode(e,t)}))).push(this.getValue(t));r&&(r=r.map((function(t){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.toStringOrNull(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.makeNull(t))}))),(null==r?void 0:r.some((function(t){return null==t})))&&(r=null),o(this.createKey(r),r)},t.prototype.getValue=function(t){var e=this.filterParams,i=e.api,o=e.colDef,n=e.column,r=e.columnApi,s=e.context;return this.filterParams.valueGetter({api:i,colDef:o,column:n,columnApi:r,context:s,data:t.data,getValue:function(e){return t.data[e]},node:t})},t.prototype.extractExistingFormattedKeys=function(t){var e=this;if(!t)return null;var i=new Map;return t.forEach((function(t,o){i.set(e.caseFormat(o),o)})),i},t}(),SetFilterDisplayValue=function(){function t(){}return t.SELECT_ALL="__AG_SELECT_ALL__",t}(),__values$2=function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],o=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},FlatSetDisplayValueModel=function(){function t(t,e,i,o){this.valueFormatterService=t,this.valueFormatter=e,this.formatter=i,this.column=o,this.displayedKeys=[]}return t.prototype.updateDisplayedValuesToAllAvailable=function(t,e,i){this.displayedKeys=Array.from(i)},t.prototype.updateDisplayedValuesToMatchMiniFilter=function(t,e,i,o,n){var r,s;this.displayedKeys=[];try{for(var a=__values$2(i),l=a.next();!l.done;l=a.next()){var c=l.value;if(null==c)n&&this.displayedKeys.push(c);else{var u=t(c),h=this.valueFormatterService.formatValue(this.column,null,u,this.valueFormatter,!1);o(this.formatter(h))&&this.displayedKeys.push(c)}}}catch(t){r={error:t}}finally{try{l&&!l.done&&(s=a.return)&&s.call(a)}finally{if(r)throw r.error}}},t.prototype.getDisplayedValueCount=function(){return this.displayedKeys.length},t.prototype.getDisplayedItem=function(t){return this.displayedKeys[t]},t.prototype.getSelectAllItem=function(){return SetFilterDisplayValue.SELECT_ALL},t.prototype.getDisplayedKeys=function(){return this.displayedKeys},t.prototype.forEachDisplayedKey=function(t){this.displayedKeys.forEach(t)},t.prototype.someDisplayedKey=function(t){return this.displayedKeys.some(t)},t.prototype.hasGroups=function(){return!1},t.prototype.refresh=function(){},t}(),__read$1=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,n,r=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return s},__spread=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$1(arguments[e]));return t},__values$1=function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],o=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},TreeSetDisplayValueModel=function(){function t(t,e,i,o){this.formatter=t,this.treeListPathGetter=e,this.treeListFormatter=i,this.treeDataOrGrouping=o,this.allDisplayedItemsTree=[],this.activeDisplayedItemsFlat=[],this.selectAllItem={depth:0,filterPasses:!0,available:!0,treeKey:SetFilterDisplayValue.SELECT_ALL,children:this.allDisplayedItemsTree,expanded:!0,key:SetFilterDisplayValue.SELECT_ALL,parentTreeKeys:[]}}return t.prototype.updateDisplayedValuesToAllAvailable=function(t,e,i,o){"reload"===o?this.generateItemTree(t,e,i):"otherFilter"===o?(this.updateAvailable(i),this.updateExpandAll()):"miniFilter"===o&&(this.resetFilter(),this.updateExpandAll()),this.flattenItems()},t.prototype.updateDisplayedValuesToMatchMiniFilter=function(t,e,i,o,n,r){"reload"===r?this.generateItemTree(t,e,i):"otherFilter"===r&&this.updateAvailable(i),this.updateFilter(o,n),this.updateExpandAll(),this.flattenItems()},t.prototype.generateItemTree=function(t,e,i){var o,n,r;this.allDisplayedItemsTree=[],this.groupsExist=!1;var s=this.getTreeListPathGetter(t,i),a=function(e){var o=t(e),n=null!==(r=s(o))&&void 0!==r?r:[null];n.length>1&&(l.groupsExist=!0);var a,c=i.has(e),u=l.allDisplayedItemsTree,h=[];n.forEach((function(t,i){u||(u=[],a.children=u),a=u.find((function(e){var i;return(null===(i=e.treeKey)||void 0===i?void 0:i.toUpperCase())===(null==t?void 0:t.toUpperCase())})),a||(a={treeKey:t,depth:i,filterPasses:!0,expanded:!1,available:c,parentTreeKeys:h},i===n.length-1&&(a.key=e),u.push(a)),u=a.children,h=__spread(h,[t])}))},l=this;try{for(var c=__values$1(e),u=c.next();!u.done;u=c.next()){a(u.value)}}catch(t){o={error:t}}finally{try{u&&!u.done&&(n=c.return)&&n.call(c)}finally{if(o)throw o.error}}this.updateAvailable(i),this.selectAllItem.children=this.allDisplayedItemsTree,this.selectAllItem.expanded=!1},t.prototype.getTreeListPathGetter=function(e,i){var o,n;if(this.treeListPathGetter)return this.treeListPathGetter;if(this.treeDataOrGrouping)return function(t){return t};var r=!1;try{for(var s=__values$1(i),a=s.next();!a.done;a=s.next()){var l=e(a.value);if(l instanceof Date){r=!0;break}if(null!=l)break}}catch(t){o={error:t}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(o)throw o.error}}return r?t.DATE_TREE_LIST_PATH_GETTER:(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce((function(){return console.warn("AG Grid: property treeList=true for Set Filter params, but you did not provide a treeListPathGetter or values of type Date.")}),"getTreeListPathGetter"),function(t){return[String(t)]})},t.prototype.flattenItems=function(){var t=this;this.activeDisplayedItemsFlat=[];var e=function(i){i.forEach((function(i){i.filterPasses&&i.available&&(t.activeDisplayedItemsFlat.push(i),i.children&&i.expanded&&e(i.children))}))};e(this.allDisplayedItemsTree)},t.prototype.resetFilter=function(){var t=function(e){e.children&&e.children.forEach((function(e){t(e)})),e.filterPasses=!0};this.allDisplayedItemsTree.forEach((function(e){return t(e)}))},t.prototype.updateFilter=function(t,e){var i=this,o=function(o){return!!o.available&&(null==o.treeKey?e:t(i.formatter(i.treeListFormatter?i.treeListFormatter(o.treeKey,o.depth,o.parentTreeKeys):o.treeKey)))};this.allDisplayedItemsTree.forEach((function(t){return i.recursiveItemCheck(t,!1,o,"filterPasses")}))},t.prototype.getDisplayedValueCount=function(){return this.activeDisplayedItemsFlat.length},t.prototype.getDisplayedItem=function(t){return this.activeDisplayedItemsFlat[t]},t.prototype.getSelectAllItem=function(){return this.selectAllItem},t.prototype.getDisplayedKeys=function(){var t=[];return this.forEachDisplayedKey((function(e){return t.push(e)})),t},t.prototype.forEachDisplayedKey=function(t){var e=function(i,o){i.children?i.expanded&&o||i.children.forEach((function(t){t.filterPasses&&e(t,!1)})):t(i.key)};this.activeDisplayedItemsFlat.forEach((function(t){return e(t,!0)}))},t.prototype.someDisplayedKey=function(t){var e=function(i,o){return i.children?(!i.expanded||!o)&&i.children.some((function(t){return!!t.filterPasses&&e(t,!1)})):t(i.key)};return this.activeDisplayedItemsFlat.some((function(t){return e(t,!0)}))},t.prototype.hasGroups=function(){return this.groupsExist},t.prototype.refresh=function(){this.updateExpandAll(),this.flattenItems()},t.prototype.updateExpandAll=function(){var t=function(e,i,o){var n,r;try{for(var s=__values$1(e),a=s.next();!a.done;a=s.next()){var l=a.value;if(l.filterPasses&&l.available&&l.children){if(i=i||!!l.expanded,o=o||!l.expanded,i&&o)return;var c=t(l.children,i,o);if(void 0===c)return;c?i=!0:o=!0}}}catch(t){n={error:t}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return i&&o?void 0:i},e=this.getSelectAllItem();e.expanded=t(e.children,!1,!1)},t.prototype.recursiveItemCheck=function(t,e,i,o){var n=this,r=!1;t.children&&t.children.forEach((function(s){var a=n.recursiveItemCheck(s,e||i(t),i,o);r=r||a}));var s=e||r||i(t);return t[o]=s,s},t.prototype.updateAvailable=function(t){var e=this,i=function(e){return t.has(e.key)};this.allDisplayedItemsTree.forEach((function(t){return e.recursiveItemCheck(t,!1,i,"available")}))},t.DATE_TREE_LIST_PATH_GETTER=function(t){return t?[String(t.getFullYear()),String(t.getMonth()+1),String(t.getDate())]:null},t}(),__read=function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var o,n,r=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return s},SetFilterModelValuesType;!function(t){t[t.PROVIDED_LIST=0]="PROVIDED_LIST",t[t.PROVIDED_CALLBACK=1]="PROVIDED_CALLBACK",t[t.TAKEN_FROM_GRID_VALUES=2]="TAKEN_FROM_GRID_VALUES"}(SetFilterModelValuesType||(SetFilterModelValuesType={}));var SetValueModel=function(){function t(t){var e,i=this;this.localEventService=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.POd,this.miniFilterText=null,this.providedValues=null,this.allValues=new Map,this.availableKeys=new Set,this.selectedKeys=new Set,this.initialised=!1;var o=t.usingComplexObjects,n=t.columnModel,r=t.valueService,s=t.treeDataTreeList,a=t.groupingTreeList,l=t.filterParams,c=t.gridOptionsService,u=t.valueFormatterService,h=t.valueFormatter,d=l.column,p=l.colDef,f=l.textFormatter,g=l.doesRowPassOtherFilter,m=l.suppressSorting,y=l.comparator,v=l.rowModel,_=l.values,C=l.caseSensitive,b=l.convertValuesToStrings,E=l.treeList,S=l.treeListPathGetter,w=l.treeListFormatter;this.filterParams=l,this.setIsLoading=t.setIsLoading,this.translate=t.translate,this.caseFormat=t.caseFormat,this.createKey=t.createKey,this.usingComplexObjects=!!t.usingComplexObjects,this.formatter=f||ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.QVL.DEFAULT_FORMATTER,this.doesRowPassOtherFilters=g,this.suppressSorting=m||!1,this.convertValuesToStrings=!!b;var O=null!=y?y:p.comparator,x=!!s||!!a;this.compareByValue=!!(o&&O||x||E&&!S),this.entryComparator=x&&!O?this.createTreeDataOrGroupingComparator():!E||S||O?function(t,e){var i=__read(t,2);i[0];var o=i[1],n=__read(e,2);n[0];var r=n[1];return O(o,r)}:function(t,e){var i=__read(t,2);i[0];var o=i[1],n=__read(e,2);n[0];var r=n[1];return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.defaultComparator(o,r)},this.keyComparator=null!==(e=O)&&void 0!==e?e:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.defaultComparator,this.caseSensitive=!!C;var P=c.get("getDataPath");"clientSide"===v.getType()&&(this.clientSideValuesExtractor=new ClientSideValuesExtractor(v,this.filterParams,this.createKey,this.caseFormat,n,r,x,!!s,P)),null==_?this.valuesType=SetFilterModelValuesType.TAKEN_FROM_GRID_VALUES:(this.valuesType=Array.isArray(_)?SetFilterModelValuesType.PROVIDED_LIST:SetFilterModelValuesType.PROVIDED_CALLBACK,this.providedValues=_),this.displayValueModel=E?new TreeSetDisplayValueModel(this.formatter,S,w,s||a):new FlatSetDisplayValueModel(u,h,this.formatter,d),this.updateAllValues().then((function(t){return i.resetSelectionState(t||[])}))}return t.prototype.addEventListener=function(t,e,i){this.localEventService.addEventListener(t,e,i)},t.prototype.removeEventListener=function(t,e,i){this.localEventService.removeEventListener(t,e,i)},t.prototype.refreshValues=function(){var t=this.getModel();return this.updateAllValues(),this.setModel(t)},t.prototype.overrideValues=function(t){var e=this;return new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S((function(i){e.allValuesPromise.then((function(){e.valuesType=SetFilterModelValuesType.PROVIDED_LIST,e.providedValues=t,e.refreshValues().then((function(){return i()}))}))}))},t.prototype.refreshAfterAnyFilterChanged=function(){var t=this;return this.showAvailableOnly()?this.allValuesPromise.then((function(e){return t.updateAvailableKeys(null!=e?e:[],"otherFilter"),!0})):ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S.resolve(!1)},t.prototype.isInitialised=function(){return this.initialised},t.prototype.updateAllValues=function(){var t=this;return this.allValuesPromise=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S((function(e){switch(t.valuesType){case SetFilterModelValuesType.TAKEN_FROM_GRID_VALUES:case SetFilterModelValuesType.PROVIDED_LIST:e(t.processAllKeys(t.valuesType===SetFilterModelValuesType.TAKEN_FROM_GRID_VALUES,t.providedValues));break;case SetFilterModelValuesType.PROVIDED_CALLBACK:t.setIsLoading(!0);var i=t.providedValues,o=t.filterParams,n=o.columnApi,r=o.api,s=o.context,a=o.column,l={success:function(i){t.setIsLoading(!1),e(t.processAllKeys(!1,i))},colDef:o.colDef,column:a,columnApi:n,api:r,context:s};window.setTimeout((function(){return i(l)}),0);break;default:throw new Error("Unrecognised valuesType")}})),this.allValuesPromise.then((function(e){return t.updateAvailableKeys(e||[],"reload")})).then((function(){return t.initialised=!0})),this.allValuesPromise},t.prototype.processAllKeys=function(t,e){var i=t?this.getValuesFromRows(!1):this.uniqueValues(this.validateProvidedValues(e)),o=this.sortKeys(i);return this.allValues=null!=i?i:new Map,o},t.prototype.validateProvidedValues=function(t){if(this.usingComplexObjects&&(null==t?void 0:t.length)){var e=t[0];if(e&&"object"!=typeof e&&"function"!=typeof e)null==this.createKey(e)?ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce((function(){return console.warn("Set Filter Key Creator is returning null for provided values and provided values are primitives. Please provide complex objects or set convertValuesToStrings=true in the filterParams. See https://www.ag-grid.com/javascript-data-grid/filter-set-filter-list/#filter-value-types")}),"setFilterComplexObjectsProvidedNull"):ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce((function(){return console.warn("AG Grid: Set Filter has a Key Creator, but provided values are primitives. Did you mean to provide complex objects or enable convertValuesToStrings?")}),"setFilterComplexObjectsProvidedPrimitive")}return t},t.prototype.setValuesType=function(t){this.valuesType=t},t.prototype.getValuesType=function(){return this.valuesType},t.prototype.isKeyAvailable=function(t){return this.availableKeys.has(t)},t.prototype.showAvailableOnly=function(){return this.valuesType===SetFilterModelValuesType.TAKEN_FROM_GRID_VALUES},t.prototype.updateAvailableKeys=function(e,i){var o=this.showAvailableOnly()?this.sortKeys(this.getValuesFromRows(!0)):e;this.availableKeys=new Set(o),this.localEventService.dispatchEvent({type:t.EVENT_AVAILABLE_VALUES_CHANGED}),this.updateDisplayedValues(i,e)},t.prototype.sortKeys=function(t){var e,i=null!=t?t:new Map;return this.suppressSorting?Array.from(i.keys()):(e=this.compareByValue?Array.from(i.entries()).sort(this.entryComparator).map((function(t){return __read(t,1)[0]})):Array.from(i.keys()).sort(this.keyComparator),this.filterParams.excelMode&&i.has(null)&&(e=e.filter((function(t){return null!=t}))).push(null),e)},t.prototype.getValuesFromRows=function(t){var e=this;if(void 0===t&&(t=!1),!this.clientSideValuesExtractor)return console.error("AG Grid: Set Filter cannot initialise because you are using a row model that does not contain all rows in the browser. Either use a different filter type, or configure Set Filter such that you provide it with values"),null;return this.clientSideValuesExtractor.extractUniqueValues((function(i){return!t||e.doesRowPassOtherFilters(i)}),t&&!this.caseSensitive?this.allValues:void 0)},t.prototype.setMiniFilter=function(t){return t=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.makeNull(t),this.miniFilterText!==t&&(this.miniFilterText=t,this.updateDisplayedValues("miniFilter"),!0)},t.prototype.getMiniFilter=function(){return this.miniFilterText},t.prototype.updateDisplayedValues=function(t,e){var i=this;if("expansion"!==t)if(null!=this.miniFilterText){var o=this.caseFormat(this.formatter(this.miniFilterText)||""),n=function(t){return null!=t&&i.caseFormat(t).indexOf(o)>=0},r=!!this.filterParams.excelMode&&n(this.translate("blanks"));this.displayValueModel.updateDisplayedValuesToMatchMiniFilter((function(t){return i.getValue(t)}),e,this.availableKeys,n,r,t)}else this.displayValueModel.updateDisplayedValuesToAllAvailable((function(t){return i.getValue(t)}),e,this.availableKeys,t);else this.displayValueModel.refresh()},t.prototype.getDisplayedValueCount=function(){return this.displayValueModel.getDisplayedValueCount()},t.prototype.getDisplayedItem=function(t){return this.displayValueModel.getDisplayedItem(t)},t.prototype.getSelectAllItem=function(){return this.displayValueModel.getSelectAllItem()},t.prototype.hasSelections=function(){return this.filterParams.defaultToNothingSelected?this.selectedKeys.size>0:this.allValues.size!==this.selectedKeys.size},t.prototype.getKeys=function(){return Array.from(this.allValues.keys())},t.prototype.getValues=function(){return Array.from(this.allValues.values())},t.prototype.getValue=function(t){return this.allValues.get(t)},t.prototype.selectAllMatchingMiniFilter=function(t){var e=this;void 0===t&&(t=!1),null==this.miniFilterText?this.selectedKeys=new Set(this.allValues.keys()):(t&&this.selectedKeys.clear(),this.displayValueModel.forEachDisplayedKey((function(t){return e.selectedKeys.add(t)})))},t.prototype.deselectAllMatchingMiniFilter=function(){var t=this;null==this.miniFilterText?this.selectedKeys.clear():this.displayValueModel.forEachDisplayedKey((function(e){return t.selectedKeys.delete(e)}))},t.prototype.selectKey=function(t){this.selectedKeys.add(t)},t.prototype.deselectKey=function(t){this.filterParams.excelMode&&this.isEverythingVisibleSelected()&&this.resetSelectionState(this.displayValueModel.getDisplayedKeys()),this.selectedKeys.delete(t)},t.prototype.isKeySelected=function(t){return this.selectedKeys.has(t)},t.prototype.isEverythingVisibleSelected=function(){var t=this;return!this.displayValueModel.someDisplayedKey((function(e){return!t.isKeySelected(e)}))},t.prototype.isNothingVisibleSelected=function(){var t=this;return!this.displayValueModel.someDisplayedKey((function(e){return t.isKeySelected(e)}))},t.prototype.getModel=function(){return this.hasSelections()?Array.from(this.selectedKeys):null},t.prototype.setModel=function(t){var e=this;return this.allValuesPromise.then((function(i){if(null==t)e.resetSelectionState(null!=i?i:[]);else{e.selectedKeys.clear();var o=new Map;e.allValues.forEach((function(t,i){o.set(e.caseFormat(i),i)})),t.forEach((function(t){var i=e.caseFormat(t),n=o.get(i);void 0!==n&&e.selectKey(n)}))}}))},t.prototype.uniqueValues=function(t){var e=this,i=new Map,o=new Set;return(null!=t?t:[]).forEach((function(t){var n=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.makeNull(t),r=e.convertAndGetKey(n),s=e.caseFormat(r);o.has(s)||(o.add(s),i.set(r,n))})),i},t.prototype.convertAndGetKey=function(t){return this.convertValuesToStrings?t:this.createKey(t)},t.prototype.resetSelectionState=function(t){this.filterParams.defaultToNothingSelected?this.selectedKeys.clear():this.selectedKeys=new Set(t)},t.prototype.hasGroups=function(){return this.displayValueModel.hasGroups()},t.prototype.createTreeDataOrGroupingComparator=function(){return function(t,e){var i=__read(t,2);i[0];var o=i[1],n=__read(e,2);n[0];var r=n[1];if(null==o)return null==r?0:-1;if(null==r)return 1;for(var s=0;s<o.length;s++){if(s>=r.length)return 1;var a=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.defaultComparator(o[s],r[s]);if(0!==a)return a}return 0}},t.EVENT_AVAILABLE_VALUES_CHANGED="availableValuesChanged",t}(),__extends$i=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$d=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},SetFilterListItem=function(t){function e(i){var o,n=t.call(this,i.isGroup?e.GROUP_TEMPLATE:e.TEMPLATE)||this;return n.focusWrapper=i.focusWrapper,n.value=i.value,n.params=i.params,n.translate=i.translate,n.valueFormatter=i.valueFormatter,n.item=i.item,n.isSelected=i.isSelected,n.isTree=i.isTree,n.depth=null!==(o=i.depth)&&void 0!==o?o:0,n.isGroup=i.isGroup,n.groupsExist=i.groupsExist,n.isExpanded=i.isExpanded,n.hasIndeterminateExpandState=i.hasIndeterminateExpandState,n}return __extends$i(e,t),e.prototype.init=function(){var t=this;this.render(),this.eCheckbox.setLabelEllipsis(!0),this.eCheckbox.setValue(this.isSelected,!0),this.eCheckbox.setDisabled(!!this.params.readOnly),this.eCheckbox.getInputElement().setAttribute("tabindex","-1"),this.refreshVariableAriaLabels(),this.isTree&&(this.depth>0&&this.addCssClass("ag-set-filter-indent-"+this.depth),this.isGroup?this.setupExpansion():this.groupsExist&&this.addCssClass("ag-set-filter-add-group-indent"),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaLevel(this.focusWrapper,this.depth+1)),this.params.readOnly||this.eCheckbox.onValueChange((function(e){return t.onCheckboxChanged(!!e)}))},e.prototype.setupExpansion=function(){this.eGroupClosedIcon.appendChild(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIcon("setFilterGroupClosed",this.gridOptionsService,null)),this.eGroupOpenedIcon.appendChild(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIcon("setFilterGroupOpen",this.gridOptionsService,null)),this.addManagedListener(this.eGroupClosedIcon,"click",this.onExpandOrContractClicked.bind(this)),this.addManagedListener(this.eGroupOpenedIcon,"click",this.onExpandOrContractClicked.bind(this)),this.hasIndeterminateExpandState&&(this.eGroupIndeterminateIcon.appendChild(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIcon("setFilterGroupIndeterminate",this.gridOptionsService,null)),this.addManagedListener(this.eGroupIndeterminateIcon,"click",this.onExpandOrContractClicked.bind(this))),this.setExpandedIcons(),this.refreshAriaExpanded()},e.prototype.onExpandOrContractClicked=function(){this.setExpanded(!this.isExpanded)},e.prototype.setExpanded=function(t,i){if(this.isGroup&&t!==this.isExpanded){this.isExpanded=t;var o={type:e.EVENT_EXPANDED_CHANGED,isExpanded:!!t,item:this.item};i||this.dispatchEvent(o),this.setExpandedIcons(),this.refreshAriaExpanded()}},e.prototype.refreshAriaExpanded=function(){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaExpanded(this.focusWrapper,!!this.isExpanded)},e.prototype.setExpandedIcons=function(){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eGroupClosedIcon,this.hasIndeterminateExpandState?!1===this.isExpanded:!this.isExpanded),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eGroupOpenedIcon,!0===this.isExpanded),this.hasIndeterminateExpandState&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eGroupIndeterminateIcon,void 0===this.isExpanded)},e.prototype.onCheckboxChanged=function(t){this.isSelected=t;var i={type:e.EVENT_SELECTION_CHANGED,isSelected:t,item:this.item};this.dispatchEvent(i),this.refreshVariableAriaLabels()},e.prototype.toggleSelected=function(){this.params.readOnly||this.setSelected(!this.isSelected)},e.prototype.setSelected=function(t,e){this.isSelected=t,this.eCheckbox.setValue(this.isSelected,e)},e.prototype.refreshVariableAriaLabels=function(){if(this.isTree){var t=this.localeService.getLocaleTextFunc(),e=this.eCheckbox.getValue(),i=void 0===e?t("ariaIndeterminate","indeterminate"):e?t("ariaVisible","visible"):t("ariaHidden","hidden"),o=t("ariaToggleVisibility","Press SPACE to toggle visibility");ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaLabelledBy(this.eCheckbox.getInputElement(),void 0),this.eCheckbox.setInputAriaLabel(o+" ("+i+")")}},e.prototype.setupFixedAriaLabels=function(t){if(this.isTree){var e=this.localeService.getLocaleTextFunc()("ariaFilterValue","Filter Value");ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaLabel(this.focusWrapper,t+" "+e),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaDescribedBy(this.focusWrapper,this.eCheckbox.getInputElement().id)}},e.prototype.refresh=function(t,e,i){var o,n;if(this.item=t,e!==this.isSelected&&this.setSelected(e,!0),this.setExpanded(i,!0),this.valueFunction){var r=this.valueFunction();this.setTooltipAndCellRendererParams(r,r),this.cellRendererComponent||this.renderCellWithoutCellRenderer()}null===(n=null===(o=this.cellRendererComponent)||void 0===o?void 0:o.refresh)||void 0===n||n.call(o,this.cellRendererParams)},e.prototype.render=function(){var t=this.params.column,e=this.value,i=null;"function"==typeof e?(this.valueFunction=e,e=i=this.valueFunction()):i=this.isTree?ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.toStringOrNull(e):this.getFormattedValue(t,e),this.setTooltipAndCellRendererParams(e,i),this.renderCell()},e.prototype.setTooltipAndCellRendererParams=function(t,e){if(this.params.showTooltips){var i=null!=e?e:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.toStringOrNull(t);this.setTooltip(i)}this.cellRendererParams={value:t,valueFormatted:e,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,colDef:this.params.colDef,column:this.params.column}},e.prototype.getTooltipParams=function(){var e=t.prototype.getTooltipParams.call(this);return e.location="setFilterValue",e.colDef=this.getComponentHolder(),this.isTree&&(e.level=this.depth),e},e.prototype.getFormattedValue=function(t,e){return this.valueFormatterService.formatValue(t,null,e,this.valueFormatter,!1)},e.prototype.renderCell=function(){var t=this,e=this.userComponentFactory.getSetFilterCellRendererDetails(this.params,this.cellRendererParams),i=e?e.newAgStackInstance():void 0;null!=i?i.then((function(e){e&&(t.cellRendererComponent=e,t.eCheckbox.setLabel(e.getGui()),t.addDestroyFunc((function(){return t.destroyBean(e)})))})):this.renderCellWithoutCellRenderer()},e.prototype.renderCellWithoutCellRenderer=function(){var t,e=null!==(t=null==this.cellRendererParams.valueFormatted?this.cellRendererParams.value:this.cellRendererParams.valueFormatted)&&void 0!==t?t:this.translate("blanks");"string"!=typeof e&&(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce((function(){return console.warn("AG Grid: Set Filter Value Formatter must return string values. Please ensure the Set Filter Value Formatter returns string values for complex objects, or set convertValuesToStrings=true in the filterParams. See https://www.ag-grid.com/javascript-data-grid/filter-set-filter-list/#filter-value-types")}),"setFilterComplexObjectsValueFormatter"),e=""),this.eCheckbox.setLabel(e),this.setupFixedAriaLabels(e)},e.prototype.getComponentHolder=function(){return this.params.column.getColDef()},e.EVENT_SELECTION_CHANGED="selectionChanged",e.EVENT_EXPANDED_CHANGED="expandedChanged",e.GROUP_TEMPLATE='\n        <div class="ag-set-filter-item" aria-hidden="true">\n            <span class="ag-set-filter-group-icons">\n                <span class="ag-set-filter-group-closed-icon" ref="eGroupClosedIcon"></span>\n                <span class="ag-set-filter-group-opened-icon" ref="eGroupOpenedIcon"></span>\n                <span class="ag-set-filter-group-indeterminate-icon" ref="eGroupIndeterminateIcon"></span>\n            </span>\n            <ag-checkbox ref="eCheckbox" class="ag-set-filter-item-checkbox"></ag-checkbox>\n        </div>',e.TEMPLATE='\n        <div class="ag-set-filter-item">\n            <ag-checkbox ref="eCheckbox" class="ag-set-filter-item-checkbox"></ag-checkbox>\n        </div>',__decorate$d([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("valueFormatterService")],e.prototype,"valueFormatterService",void 0),__decorate$d([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("userComponentFactory")],e.prototype,"userComponentFactory",void 0),__decorate$d([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eCheckbox")],e.prototype,"eCheckbox",void 0),__decorate$d([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eGroupOpenedIcon")],e.prototype,"eGroupOpenedIcon",void 0),__decorate$d([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eGroupClosedIcon")],e.prototype,"eGroupClosedIcon",void 0),__decorate$d([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eGroupIndeterminateIcon")],e.prototype,"eGroupIndeterminateIcon",void 0),__decorate$d([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),DEFAULT_LOCALE_TEXT={loadingOoo:"Loading...",blanks:"(Blanks)",searchOoo:"Search...",selectAll:"(Select All)",selectAllSearchResults:"(Select All Search Results)",noMatches:"No matches."},SetFilterModelFormatter=function(){function t(){}return t.prototype.getModelAsString=function(t,e){var i=(t||e.getModel()||{}).values,o=e.getValueModel();if(null==i||null==o)return"";var n=i.filter((function(t){return o.isKeyAvailable(t)})),r=n.length;return"("+r+") "+n.slice(0,10).map((function(t){return e.getFormattedValue(t)})).join(",")+(r>10?",...":"")},t}(),__extends$h=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$c=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},SetFilter=function(t){function e(){var e=t.call(this,"setFilter")||this;return e.valueModel=null,e.setFilterParams=null,e.virtualList=null,e.caseSensitive=!1,e.convertValuesToStrings=!1,e.treeDataTreeList=!1,e.groupingTreeList=!1,e.hardRefreshVirtualList=!1,e.noValueFormatterSupplied=!1,e.appliedModelKeys=null,e.noAppliedModelKeys=!1,e.filterModelFormatter=new SetFilterModelFormatter,e}return __extends$h(e,t),e.prototype.postConstruct=function(){t.prototype.postConstruct.call(this)},e.prototype.updateUiVisibility=function(){},e.prototype.createBodyTemplate=function(){return'\n            <div class="ag-set-filter">\n                <div ref="eFilterLoading" class="ag-filter-loading ag-hidden">'+this.translateForSetFilter("loadingOoo")+'</div>\n                <ag-input-text-field class="ag-mini-filter" ref="eMiniFilter"></ag-input-text-field>\n                <div ref="eFilterNoMatches" class="ag-filter-no-matches ag-hidden">'+this.translateForSetFilter("noMatches")+'</div>\n                <div ref="eSetFilterList" class="ag-set-filter-list" role="presentation"></div>\n            </div>'},e.prototype.handleKeyDown=function(e){if(t.prototype.handleKeyDown.call(this,e),!e.defaultPrevented)switch(e.key){case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.SPACE:this.handleKeySpace(e);break;case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.ENTER:this.handleKeyEnter(e);break;case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.LEFT:this.handleKeyLeft(e);break;case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.RIGHT:this.handleKeyRight(e)}},e.prototype.handleKeySpace=function(t){var e;null===(e=this.getComponentForKeyEvent(t))||void 0===e||e.toggleSelected()},e.prototype.handleKeyEnter=function(t){if(this.setFilterParams){var e=this.setFilterParams||{},i=e.excelMode,o=e.readOnly;i&&!o&&(t.preventDefault(),this.onBtApply(!1,!1,t),"mac"===this.setFilterParams.excelMode&&this.eMiniFilter.getInputElement().select())}},e.prototype.handleKeyLeft=function(t){var e;null===(e=this.getComponentForKeyEvent(t))||void 0===e||e.setExpanded(!1)},e.prototype.handleKeyRight=function(t){var e;null===(e=this.getComponentForKeyEvent(t))||void 0===e||e.setExpanded(!0)},e.prototype.getComponentForKeyEvent=function(t){var e,i=this.gridOptionsService.getDocument();if(this.eSetFilterList.contains(i.activeElement)&&this.virtualList){var o=this.virtualList.getLastFocusedRow();if(null!=o){var n=this.virtualList.getComponentAt(o);if(null!=n)if(t.preventDefault(),!(null!==(e=this.setFilterParams)&&void 0!==e?e:{}).readOnly)return n}}},e.prototype.getCssIdentifier=function(){return"set-filter"},e.prototype.setModel=function(e){var i;return null==e&&null==(null===(i=this.valueModel)||void 0===i?void 0:i.getModel())?(this.setMiniFilter(null),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S.resolve()):t.prototype.setModel.call(this,e)},e.prototype.setModelAndRefresh=function(t){var e=this;return this.valueModel?this.valueModel.setModel(t).then((function(){return e.refresh()})):ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S.resolve()},e.prototype.resetUiToDefaults=function(){return this.setMiniFilter(null),this.setModelAndRefresh(null)},e.prototype.setModelIntoUi=function(t){this.setMiniFilter(null);var e=null==t?null:t.values;return this.setModelAndRefresh(e)},e.prototype.getModelFromUi=function(){if(!this.valueModel)throw new Error("Value model has not been created.");var t=this.valueModel.getModel();return t?{values:t,filterType:this.getFilterType()}:null},e.prototype.getFilterType=function(){return"set"},e.prototype.getValueModel=function(){return this.valueModel},e.prototype.areModelsEqual=function(t,e){return null==t&&null==e||null!=t&&null!=e&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.areEqual(t.values,e.values)},e.prototype.setParams=function(e){var i,o=this;this.applyExcelModeOptions(e),t.prototype.setParams.call(this,e),this.setFilterParams=e,this.convertValuesToStrings=!!e.convertValuesToStrings,this.caseSensitive=!!e.caseSensitive;var n=null!==(i=e.keyCreator)&&void 0!==i?i:e.colDef.keyCreator;this.setValueFormatter(e.valueFormatter,n,this.convertValuesToStrings,!!e.treeList,!!e.colDef.refData);var r=e.column.getId().startsWith(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.eHy);this.treeDataTreeList=this.gridOptionsService.is("treeData")&&!!e.treeList&&r,this.getDataPath=this.gridOptionsService.get("getDataPath"),this.groupingTreeList=!!this.columnModel.getRowGroupColumns().length&&!!e.treeList&&r,this.createKey=this.generateCreateKey(n,this.convertValuesToStrings,this.treeDataTreeList||this.groupingTreeList),this.valueModel=new SetValueModel({filterParams:e,setIsLoading:function(t){return o.setIsLoading(t)},valueFormatterService:this.valueFormatterService,translate:function(t){return o.translateForSetFilter(t)},caseFormat:function(t){return o.caseFormat(t)},createKey:this.createKey,valueFormatter:this.valueFormatter,usingComplexObjects:!!n,gridOptionsService:this.gridOptionsService,columnModel:this.columnModel,valueService:this.valueService,treeDataTreeList:this.treeDataTreeList,groupingTreeList:this.groupingTreeList}),this.initialiseFilterBodyUi(),this.addEventListenersForDataChanges()},e.prototype.setValueFormatter=function(t,e,i,o,n){var r=t;if(!r){if(e&&!i&&!o)throw new Error("AG Grid: Must supply a Value Formatter in Set Filter params when using a Key Creator unless convertValuesToStrings is enabled");this.noValueFormatterSupplied=!0,n||(r=function(t){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.toStringOrNull(t.value)})}this.valueFormatter=r},e.prototype.generateCreateKey=function(t,e,i){var o=this;if(i&&!t)throw new Error("AG Grid: Must supply a Key Creator in Set Filter params when `treeList = true` on a group column, and Tree Data or Row Grouping is enabled.");return t?function(e,i){void 0===i&&(i=null);var n=o.getKeyCreatorParams(e,i);return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.makeNull(t(n))}:e?function(t){return Array.isArray(t)?t:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.makeNull(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.toStringOrNull(t))}:function(t){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.makeNull(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.toStringOrNull(t))}},e.prototype.getFormattedValue=function(t){var e,i=this.valueModel.getValue(t);this.noValueFormatterSupplied&&(this.treeDataTreeList||this.groupingTreeList)&&Array.isArray(i)&&(i=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(i));var o=this.valueFormatterService.formatValue(this.setFilterParams.column,null,i,this.valueFormatter,!1);return null!==(e=null==o?ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.toStringOrNull(i):o)&&void 0!==e?e:this.translateForSetFilter("blanks")},e.prototype.applyExcelModeOptions=function(t){"windows"===t.excelMode?(t.buttons||(t.buttons=["apply","cancel"]),null==t.closeOnApply&&(t.closeOnApply=!0)):"mac"===t.excelMode&&(t.buttons||(t.buttons=["reset"]),null==t.applyMiniFilterWhileTyping&&(t.applyMiniFilterWhileTyping=!0),null==t.debounceMs&&(t.debounceMs=500)),t.excelMode&&t.defaultToNothingSelected&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce((function(){return console.warn('AG Grid: The Set Filter Parameter "defaultToNothingSelected" does not work with "excelMode".')}),"setFilterExcelModeDefaultToNothingSelect")},e.prototype.addEventListenersForDataChanges=function(){var t=this;this.isValuesTakenFromGrid()&&this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_CELL_VALUE_CHANGED,(function(e){t.setFilterParams&&e.column===t.setFilterParams.column&&t.syncAfterDataChange()}))},e.prototype.syncAfterDataChange=function(){var t=this;if(!this.valueModel)throw new Error("Value model has not been created.");return this.valueModel.refreshValues().then((function(){t.refresh(),t.onBtApply(!1,!0)}))},e.prototype.setIsLoading=function(t){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eFilterLoading,t),t||(this.hardRefreshVirtualList=!0)},e.prototype.initialiseFilterBodyUi=function(){this.initVirtualList(),this.initMiniFilter()},e.prototype.initVirtualList=function(){var t=this;if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");var e=this.localeService.getLocaleTextFunc()("ariaFilterList","Filter List"),i=!!this.setFilterParams.treeList,o=this.virtualList=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.CPJ("filter",i?"tree":"listbox",e)),n=this.getRefElement("eSetFilterList");i&&n.classList.add("ag-set-filter-tree-list"),n&&n.appendChild(o.getGui());var r=this.setFilterParams.cellHeight;null!=r&&o.setRowHeight(r);o.setComponentCreator((function(e,o){return t.createSetListItem(e,i,o)}));var s;o.setComponentUpdater((function(e,i){return t.updateSetListItem(e,i)})),s=this.setFilterParams.suppressSelectAll?new ModelWrapper(this.valueModel):new ModelWrapperWithSelectAll(this.valueModel,(function(){return t.isSelectAllSelected()})),i&&(s=new TreeModelWrapper(s)),o.setModel(s)},e.prototype.getSelectAllLabel=function(){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");var t=null!=this.valueModel.getMiniFilter()&&this.setFilterParams.excelMode?"selectAllSearchResults":"selectAll";return this.translateForSetFilter(t)},e.prototype.createSetListItem=function(t,e,i){var o,n,r,s,a,l,c=this;if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");var u,h,d,p,f,g,m=this.valueModel.hasGroups();this.isSetFilterModelTreeItem(t)?(h=t.depth,t.key===SetFilterDisplayValue.SELECT_ALL?(u=function(){return c.getSelectAllLabel()},d=m,p=!0,f=function(t){return c.onSelectAll(t.isSelected)},g=function(t){return c.onExpandAll(t.item,t.isExpanded)}):t.children?(u=null!==(r=null===(n=(o=this.setFilterParams).treeListFormatter)||void 0===n?void 0:n.call(o,t.treeKey,t.depth,t.parentTreeKeys))&&void 0!==r?r:t.treeKey,d=!0,f=function(t){return c.onGroupItemSelected(t.item,t.isSelected)},g=function(t){return c.onExpandedChanged(t.item,t.isExpanded)}):(u=null!==(l=null===(a=(s=this.setFilterParams).treeListFormatter)||void 0===a?void 0:a.call(s,t.treeKey,t.depth,t.parentTreeKeys))&&void 0!==l?l:t.treeKey,f=function(t){return c.onItemSelected(t.item.key,t.isSelected)})):t===SetFilterDisplayValue.SELECT_ALL?(u=function(){return c.getSelectAllLabel()},f=function(t){return c.onSelectAll(t.isSelected)}):(u=this.valueModel.getValue(t),f=function(t){return c.onItemSelected(t.item,t.isSelected)});var y=this.isSelectedExpanded(t),v=y.isSelected,_=y.isExpanded,C={focusWrapper:i,value:u,params:this.setFilterParams,translate:function(t){return c.translateForSetFilter(t)},valueFormatter:this.valueFormatter,item:t,isSelected:v,isTree:e,depth:h,groupsExist:m,isGroup:d,isExpanded:_,hasIndeterminateExpandState:p},b=this.createBean(new SetFilterListItem(C));return b.addEventListener(SetFilterListItem.EVENT_SELECTION_CHANGED,f),g&&b.addEventListener(SetFilterListItem.EVENT_EXPANDED_CHANGED,g),b},e.prototype.updateSetListItem=function(t,e){var i=this.isSelectedExpanded(t),o=i.isSelected,n=i.isExpanded;e.refresh(t,o,n)},e.prototype.isSelectedExpanded=function(t){var e,i;return this.isSetFilterModelTreeItem(t)?(i=t.expanded,e=t.key===SetFilterDisplayValue.SELECT_ALL?this.isSelectAllSelected():t.children?this.areAllChildrenSelected(t):this.valueModel.isKeySelected(t.key)):e=t===SetFilterDisplayValue.SELECT_ALL?this.isSelectAllSelected():this.valueModel.isKeySelected(t),{isSelected:e,isExpanded:i}},e.prototype.isSetFilterModelTreeItem=function(t){return void 0!==(null==t?void 0:t.treeKey)},e.prototype.initMiniFilter=function(){var t=this;if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");var e=this.eMiniFilter,i=this.localeService.getLocaleTextFunc();e.setDisplayed(!this.setFilterParams.suppressMiniFilter),e.setValue(this.valueModel.getMiniFilter()),e.onValueChange((function(){return t.onMiniFilterInput()})),e.setInputAriaLabel(i("ariaSearchFilterValues","Search filter values")),this.addManagedListener(e.getInputElement(),"keypress",(function(e){return t.onMiniFilterKeyPress(e)}))},e.prototype.afterGuiAttached=function(e){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");t.prototype.afterGuiAttached.call(this,e),this.resetExpansion(),this.refreshVirtualList();var i=this.eMiniFilter;i.setInputPlaceholder(this.translateForSetFilter("searchOoo")),e&&e.suppressFocus||i.getFocusableElement().focus()},e.prototype.afterGuiDetached=function(){var e,i;t.prototype.afterGuiDetached.call(this),(null===(e=this.setFilterParams)||void 0===e?void 0:e.excelMode)&&this.resetMiniFilter();var o=this.getModel();!(null===(i=this.setFilterParams)||void 0===i?void 0:i.excelMode)&&this.areModelsEqual(o,this.getModelFromUi())||(this.resetUiToActiveModel(o),this.showOrHideResults())},e.prototype.applyModel=function(e){var i=this;if(void 0===e&&(e="api"),!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");this.setFilterParams.excelMode&&"rowDataUpdated"!==e&&this.valueModel.isEverythingVisibleSelected()&&this.valueModel.selectAllMatchingMiniFilter();var o=t.prototype.applyModel.call(this,e),n=this.getModel();return n?(this.appliedModelKeys=new Set,n.values.forEach((function(t){i.appliedModelKeys.add(i.caseFormat(t))}))):this.appliedModelKeys=null,this.noAppliedModelKeys=0===(null==n?void 0:n.values.length),o},e.prototype.isModelValid=function(t){return!this.setFilterParams||!this.setFilterParams.excelMode||(null==t||t.values.length>0)},e.prototype.doesFilterPass=function(t){var e=this;if(!this.setFilterParams||!this.valueModel||!this.appliedModelKeys)return!0;if(this.noAppliedModelKeys)return!1;var i=t.node,o=t.data;if(this.treeDataTreeList)return this.doesFilterPassForTreeData(i,o);if(this.groupingTreeList)return this.doesFilterPassForGrouping(i,o);var n=this.getValueFromNode(i,o);return this.convertValuesToStrings?this.doesFilterPassForConvertValuesToString(i,n):null!=n&&Array.isArray(n)?0===n.length?this.appliedModelKeys.has(null):n.some((function(t){return e.isInAppliedModel(e.createKey(t,i))})):this.isInAppliedModel(this.createKey(n,i))},e.prototype.doesFilterPassForConvertValuesToString=function(t,e){var i=this,o=this.createKey(e,t);return null!=o&&Array.isArray(o)?0===o.length?this.appliedModelKeys.has(null):o.some((function(t){return i.isInAppliedModel(t)})):this.isInAppliedModel(o)},e.prototype.doesFilterPassForTreeData=function(t,e){var i;return!(null===(i=t.childrenAfterGroup)||void 0===i?void 0:i.length)&&this.isInAppliedModel(this.createKey(this.checkMakeNullDataPath(this.getDataPath(e))))},e.prototype.doesFilterPassForGrouping=function(t,e){var i=this,o=this.columnModel.getRowGroupColumns().map((function(e){return i.valueService.getKeyForNode(e,t)}));return o.push(this.getValueFromNode(t,e)),this.isInAppliedModel(this.createKey(this.checkMakeNullDataPath(o)))},e.prototype.checkMakeNullDataPath=function(t){return t&&(t=t.map((function(t){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.toStringOrNull(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.makeNull(t))}))),(null==t?void 0:t.some((function(t){return null==t})))?null:t},e.prototype.isInAppliedModel=function(t){return this.appliedModelKeys.has(this.caseFormat(t))},e.prototype.getValueFromNode=function(t,e){var i=this.setFilterParams;return(0,i.valueGetter)({api:i.api,colDef:i.colDef,column:i.column,columnApi:i.columnApi,context:i.context,data:e,getValue:function(t){return e[t]},node:t})},e.prototype.getKeyCreatorParams=function(t,e){return void 0===e&&(e=null),{value:t,colDef:this.setFilterParams.colDef,column:this.setFilterParams.column,node:e,data:null==e?void 0:e.data,api:this.setFilterParams.api,columnApi:this.setFilterParams.columnApi,context:this.setFilterParams.context}},e.prototype.onNewRowsLoaded=function(){this.isValuesTakenFromGrid()&&this.syncAfterDataChange()},e.prototype.isValuesTakenFromGrid=function(){return!!this.valueModel&&this.valueModel.getValuesType()===SetFilterModelValuesType.TAKEN_FROM_GRID_VALUES},e.prototype.setFilterValues=function(t){var e=this;if(!this.valueModel)throw new Error("Value model has not been created.");this.valueModel.overrideValues(t).then((function(){e.refresh(),e.onUiChanged()}))},e.prototype.resetFilterValues=function(){if(!this.valueModel)throw new Error("Value model has not been created.");this.valueModel.setValuesType(SetFilterModelValuesType.TAKEN_FROM_GRID_VALUES),this.syncAfterDataChange()},e.prototype.refreshFilterValues=function(){var t=this;if(!this.valueModel)throw new Error("Value model has not been created.");this.valueModel.isInitialised()&&this.valueModel.refreshValues().then((function(){t.refresh(),t.onUiChanged()}))},e.prototype.onAnyFilterChanged=function(){var t=this;setTimeout((function(){if(t.isAlive()){if(!t.valueModel)throw new Error("Value model has not been created.");t.valueModel.refreshAfterAnyFilterChanged().then((function(e){e&&(t.refresh(),t.showOrHideResults())}))}}),0)},e.prototype.onMiniFilterInput=function(){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");if(this.valueModel.setMiniFilter(this.eMiniFilter.getValue())){var t=this.setFilterParams||{},e=t.applyMiniFilterWhileTyping;!t.readOnly&&e?this.filterOnAllVisibleValues(!1):this.updateUiAfterMiniFilterChange()}},e.prototype.updateUiAfterMiniFilterChange=function(){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");var t=this.setFilterParams||{},e=t.excelMode,i=t.readOnly;null==e||i?this.refresh():null==this.valueModel.getMiniFilter()?this.resetUiToActiveModel(this.getModel()):(this.valueModel.selectAllMatchingMiniFilter(!0),this.refresh(),this.onUiChanged()),this.showOrHideResults()},e.prototype.showOrHideResults=function(){if(!this.valueModel)throw new Error("Value model has not been created.");var t=null!=this.valueModel.getMiniFilter()&&this.valueModel.getDisplayedValueCount()<1;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eNoMatches,t),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eSetFilterList,!t)},e.prototype.resetMiniFilter=function(){var t;this.eMiniFilter.setValue(null,!0),null===(t=this.valueModel)||void 0===t||t.setMiniFilter(null)},e.prototype.resetUiToActiveModel=function(t,e){var i=this;this.setModelAndRefresh(null==t?null:t.values).then((function(){i.onUiChanged(!1,"prevent"),null==e||e()}))},e.prototype.handleCancelEnd=function(e){this.setMiniFilter(null),t.prototype.handleCancelEnd.call(this,e)},e.prototype.onMiniFilterKeyPress=function(t){var e=this.setFilterParams||{},i=e.excelMode,o=e.readOnly;t.key!==ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.ENTER||i||o||this.filterOnAllVisibleValues()},e.prototype.filterOnAllVisibleValues=function(t){void 0===t&&(t=!0);var e=(this.setFilterParams||{}).readOnly;if(!this.valueModel)throw new Error("Value model has not been created.");if(e)throw new Error("Unable to filter in readOnly mode.");this.valueModel.selectAllMatchingMiniFilter(!0),this.refresh(),this.onUiChanged(!1,t?"immediately":"debounce"),this.showOrHideResults()},e.prototype.focusRowIfAlive=function(t){var e=this;null!=t&&window.setTimeout((function(){if(!e.virtualList)throw new Error("Virtual list has not been created.");e.isAlive()&&e.virtualList.focusRow(t)}),0)},e.prototype.onSelectAll=function(t){if(!this.valueModel)throw new Error("Value model has not been created.");if(!this.virtualList)throw new Error("Virtual list has not been created.");t?this.valueModel.selectAllMatchingMiniFilter():this.valueModel.deselectAllMatchingMiniFilter(),this.refreshAfterSelection()},e.prototype.onGroupItemSelected=function(t,e){var i=this,o=function(t){t.children?t.children.forEach((function(t){return o(t)})):i.selectItem(t.key,e)};o(t),this.refreshAfterSelection()},e.prototype.onItemSelected=function(t,e){if(!this.valueModel)throw new Error("Value model has not been created.");if(!this.virtualList)throw new Error("Virtual list has not been created.");this.selectItem(t,e),this.refreshAfterSelection()},e.prototype.selectItem=function(t,e){e?this.valueModel.selectKey(t):this.valueModel.deselectKey(t)},e.prototype.onExpandAll=function(t,e){var i=function(t){t.filterPasses&&t.available&&t.children&&(t.children.forEach((function(t){return i(t)})),t.expanded=e)};i(t),this.refreshAfterExpansion()},e.prototype.onExpandedChanged=function(t,e){t.expanded=e,this.refreshAfterExpansion()},e.prototype.refreshAfterExpansion=function(){var t=this.virtualList.getLastFocusedRow();this.valueModel.updateDisplayedValues("expansion"),this.refresh(),this.focusRowIfAlive(t)},e.prototype.refreshAfterSelection=function(){var t=this.virtualList.getLastFocusedRow();this.refresh(),this.onUiChanged(),this.focusRowIfAlive(t)},e.prototype.setMiniFilter=function(t){this.eMiniFilter.setValue(t),this.onMiniFilterInput()},e.prototype.getMiniFilter=function(){return this.valueModel?this.valueModel.getMiniFilter():null},e.prototype.refresh=function(){if(!this.virtualList)throw new Error("Virtual list has not been created.");this.virtualList.refresh(!this.hardRefreshVirtualList),this.hardRefreshVirtualList&&(this.hardRefreshVirtualList=!1)},e.prototype.getFilterKeys=function(){return this.valueModel?this.valueModel.getKeys():[]},e.prototype.getFilterValues=function(){return this.valueModel?this.valueModel.getValues():[]},e.prototype.getValues=function(){return this.getFilterKeys()},e.prototype.refreshVirtualList=function(){this.setFilterParams&&this.setFilterParams.refreshValuesOnOpen?this.refreshFilterValues():this.refresh()},e.prototype.translateForSetFilter=function(t){return this.localeService.getLocaleTextFunc()(t,DEFAULT_LOCALE_TEXT[t])},e.prototype.isSelectAllSelected=function(){if(!this.setFilterParams||!this.valueModel)return!1;if(this.setFilterParams.defaultToNothingSelected){if(this.valueModel.hasSelections()&&this.valueModel.isEverythingVisibleSelected())return!0;if(this.valueModel.isNothingVisibleSelected())return!1}else{if(this.valueModel.hasSelections()&&this.valueModel.isNothingVisibleSelected())return!1;if(this.valueModel.isEverythingVisibleSelected())return!0}},e.prototype.areAllChildrenSelected=function(t){var e=this,i=function(t){if(t.children){var o=!1,n=!1;return t.children.some((function(t){if(!t.filterPasses||!t.available)return!1;var e=i(t);return void 0===e||(e?o=!0:n=!0,o&&n)}))?void 0:o}return e.valueModel.isKeySelected(t.key)};return this.setFilterParams.defaultToNothingSelected?this.valueModel.hasSelections()&&i(t):i(t)},e.prototype.destroy=function(){null!=this.virtualList&&(this.virtualList.destroy(),this.virtualList=null),t.prototype.destroy.call(this)},e.prototype.caseFormat=function(t){return null==t||"string"!=typeof t||this.caseSensitive?t:t.toUpperCase()},e.prototype.resetExpansion=function(){var t,e;if(null===(t=this.setFilterParams)||void 0===t?void 0:t.treeList){var i=null===(e=this.valueModel)||void 0===e?void 0:e.getSelectAllItem();if(this.isSetFilterModelTreeItem(i)){var o=function(t){t.children&&(t.children.forEach((function(t){return o(t)})),t.expanded=!1)};o(i),this.valueModel.updateDisplayedValues("expansion")}}},e.prototype.getModelAsString=function(t){return this.filterModelFormatter.getModelAsString(t,this)},e.prototype.getPositionableElement=function(){return this.eSetFilterList},__decorate$c([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eMiniFilter")],e.prototype,"eMiniFilter",void 0),__decorate$c([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eFilterLoading")],e.prototype,"eFilterLoading",void 0),__decorate$c([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eSetFilterList")],e.prototype,"eSetFilterList",void 0),__decorate$c([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eFilterNoMatches")],e.prototype,"eNoMatches",void 0),__decorate$c([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("valueFormatterService")],e.prototype,"valueFormatterService",void 0),__decorate$c([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$c([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("valueService")],e.prototype,"valueService",void 0),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AGU),ModelWrapper=function(){function t(t){this.model=t}return t.prototype.getRowCount=function(){return this.model.getDisplayedValueCount()},t.prototype.getRow=function(t){return this.model.getDisplayedItem(t)},t.prototype.isRowSelected=function(t){return this.model.isKeySelected(this.getRow(t))},t.prototype.areRowsEqual=function(t,e){return t===e},t}(),ModelWrapperWithSelectAll=function(){function t(t,e){this.model=t,this.isSelectAllSelected=e}return t.prototype.getRowCount=function(){return this.model.getDisplayedValueCount()+1},t.prototype.getRow=function(t){return 0===t?this.model.getSelectAllItem():this.model.getDisplayedItem(t-1)},t.prototype.isRowSelected=function(t){return 0===t?this.isSelectAllSelected():this.model.isKeySelected(this.getRow(t))},t.prototype.areRowsEqual=function(t,e){return t===e},t}(),TreeModelWrapper=function(){function t(t){this.model=t}return t.prototype.getRowCount=function(){return this.model.getRowCount()},t.prototype.getRow=function(t){return this.model.getRow(t)},t.prototype.areRowsEqual=function(t,e){return null==t&&null==e||null!=t&&null!=e&&t.treeKey===e.treeKey&&t.depth===e.depth},t}(),__extends$g=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$b=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},SetFloatingFilterComp=function(t){function e(){var e=t.call(this,'\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eFloatingFilterText"></ag-input-text-field>\n            </div>')||this;return e.availableValuesListenerAdded=!1,e.filterModelFormatter=new SetFilterModelFormatter,e}return __extends$g(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this)},e.prototype.init=function(t){var e=this.columnModel.getDisplayNameForColumn(t.column,"header",!0),i=this.localeService.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(e+" "+i("ariaFilterInput","Filter Input")).addGuiEventListener("click",(function(){return t.showParentFilter()})),this.params=t},e.prototype.onParentModelChanged=function(t){this.updateFloatingFilterText(t)},e.prototype.parentSetFilterInstance=function(t){this.params.parentFilterInstance((function(e){if(!(e instanceof SetFilter))throw new Error("AG Grid - SetFloatingFilter expects SetFilter as its parent");t(e)}))},e.prototype.addAvailableValuesListener=function(){var t=this;this.parentSetFilterInstance((function(e){var i=e.getValueModel();i&&t.addManagedListener(i,SetValueModel.EVENT_AVAILABLE_VALUES_CHANGED,(function(){return t.updateFloatingFilterText()}))})),this.availableValuesListenerAdded=!0},e.prototype.updateFloatingFilterText=function(t){var e=this;this.availableValuesListenerAdded||this.addAvailableValuesListener(),this.parentSetFilterInstance((function(i){e.eFloatingFilterText.setValue(e.filterModelFormatter.getModelAsString(t,i))}))},__decorate$b([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eFloatingFilterText")],e.prototype,"eFloatingFilterText",void 0),__decorate$b([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),VERSION$3="29.3.4",SetFilterModule={version:VERSION$3,moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.SetFilterModule,beans:[],userComponents:[{componentName:"agSetColumnFilter",componentClass:SetFilter},{componentName:"agSetColumnFloatingFilter",componentClass:SetFloatingFilterComp}],dependantModules:[EnterpriseCoreModule]},__extends$f=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$a=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},StatusBarService=function(t){function e(){var e=t.call(this)||this;return e.allComponents={},e}return __extends$f(e,t),e.prototype.registerStatusPanel=function(t,e){this.allComponents[t]=e},e.prototype.getStatusPanel=function(t){return this.allComponents[t]},e=__decorate$a([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("statusBarService")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$e=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$9=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},StatusBar=function(t){function e(){return t.call(this,e.TEMPLATE)||this}return __extends$e(e,t),e.prototype.postConstruct=function(){var t,e=null===(t=this.gridOptionsService.get("statusBar"))||void 0===t?void 0:t.statusPanels;if(e){var i=e.filter((function(t){return"left"===t.align}));this.createAndRenderComponents(i,this.eStatusBarLeft);var o=e.filter((function(t){return"center"===t.align}));this.createAndRenderComponents(o,this.eStatusBarCenter);var n=e.filter((function(t){return!t.align||"right"===t.align}));this.createAndRenderComponents(n,this.eStatusBarRight)}else this.setDisplayed(!1)},e.prototype.createAndRenderComponents=function(t,e){var i=this,o=[];t.forEach((function(t){var e=i.userComponentFactory.getStatusPanelCompDetails(t,{}).newAgStackInstance();e&&o.push({key:t.key||t.statusPanel,promise:e})})),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S.all(o.map((function(t){return t.promise}))).then((function(){o.forEach((function(t){t.promise.then((function(o){var n=function(){i.getContext().destroyBean(o)};i.isAlive()?(i.statusBarService.registerStatusPanel(t.key,o),e.appendChild(o.getGui()),i.addDestroyFunc(n)):n()}))}))}))},e.TEMPLATE='<div class="ag-status-bar">\n            <div ref="eStatusBarLeft" class="ag-status-bar-left" role="status"></div>\n            <div ref="eStatusBarCenter" class="ag-status-bar-center" role="status"></div>\n            <div ref="eStatusBarRight" class="ag-status-bar-right" role="status"></div>\n        </div>',__decorate$9([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("userComponentFactory")],e.prototype,"userComponentFactory",void 0),__decorate$9([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("statusBarService")],e.prototype,"statusBarService",void 0),__decorate$9([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eStatusBarLeft")],e.prototype,"eStatusBarLeft",void 0),__decorate$9([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eStatusBarCenter")],e.prototype,"eStatusBarCenter",void 0),__decorate$9([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eStatusBarRight")],e.prototype,"eStatusBarRight",void 0),__decorate$9([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$d=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$8=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},NameValueComp=function(t){function e(){return t.call(this,e.TEMPLATE)||this}return __extends$d(e,t),e.prototype.setLabel=function(t,e){this.setDisplayed(!1);var i=this.localeService.getLocaleTextFunc();this.eLabel.innerHTML=i(t,e)},e.prototype.setValue=function(t){this.eValue.innerHTML=t},e.TEMPLATE='<div class="ag-status-name-value">\n            <span ref="eLabel"></span>:&nbsp;\n            <span ref="eValue" class="ag-status-name-value-value"></span>\n        </div>',__decorate$8([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eLabel")],e.prototype,"eLabel",void 0),__decorate$8([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eValue")],e.prototype,"eValue",void 0),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$c=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$7=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},TotalAndFilteredRowsComp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$c(e,t),e.prototype.postConstruct=function(){"clientSide"===this.gridApi.getModel().getType()?(this.setLabel("totalAndFilteredRows","Rows"),this.addCssClass("ag-status-panel"),this.addCssClass("ag-status-panel-total-and-filtered-row-count"),this.setDisplayed(!0),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_MODEL_UPDATED,this.onDataChanged.bind(this)),this.onDataChanged()):console.warn("AG Grid: agTotalAndFilteredRowCountComponent should only be used with the client side row model.")},e.prototype.onDataChanged=function(){var t=this.localeService.getLocaleTextFunc(),e=t("thousandSeparator",","),i=t("decimalSeparator","."),o=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.formatNumberCommas(this.getFilteredRowCountValue(),e,i),n=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.formatNumberCommas(this.getTotalRowCount(),e,i);if(o===n)this.setValue(o);else{var r=this.localeService.getLocaleTextFunc();this.setValue(o+" "+r("of","of")+" "+n)}},e.prototype.getFilteredRowCountValue=function(){var t=0;return this.gridApi.forEachNodeAfterFilter((function(e){e.group||t++})),t},e.prototype.getTotalRowCount=function(){var t=0;return this.gridApi.forEachNode((function(e){e.group||t++})),t},e.prototype.init=function(){},e.prototype.destroy=function(){t.prototype.destroy.call(this)},__decorate$7([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],e.prototype,"gridApi",void 0),__decorate$7([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),e}(NameValueComp),__extends$b=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$6=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},FilteredRowsComp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$b(e,t),e.prototype.postConstruct=function(){if(this.setLabel("filteredRows","Filtered"),"clientSide"===this.gridApi.getModel().getType()){this.addCssClass("ag-status-panel"),this.addCssClass("ag-status-panel-filtered-row-count"),this.setDisplayed(!0);var t=this.onDataChanged.bind(this);this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_MODEL_UPDATED,t),t()}else console.warn("AG Grid: agFilteredRowCountComponent should only be used with the client side row model.")},e.prototype.onDataChanged=function(){var t=this.getTotalRowCountValue(),e=this.getFilteredRowCountValue(),i=this.localeService.getLocaleTextFunc(),o=i("thousandSeparator",","),n=i("decimalSeparator",".");this.setValue(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.formatNumberCommas(e,o,n)),this.setDisplayed(t!==e)},e.prototype.getTotalRowCountValue=function(){var t=0;return this.gridApi.forEachNode((function(e){return t+=1})),t},e.prototype.getFilteredRowCountValue=function(){var t=0;return this.gridApi.forEachNodeAfterFilter((function(e){e.group||(t+=1)})),t},e.prototype.init=function(){},e.prototype.destroy=function(){t.prototype.destroy.call(this)},__decorate$6([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],e.prototype,"gridApi",void 0),__decorate$6([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),e}(NameValueComp),__extends$a=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$5=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},TotalRowsComp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$a(e,t),e.prototype.postConstruct=function(){this.setLabel("totalRows","Total Rows"),"clientSide"===this.gridApi.getModel().getType()?(this.addCssClass("ag-status-panel"),this.addCssClass("ag-status-panel-total-row-count"),this.setDisplayed(!0),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_MODEL_UPDATED,this.onDataChanged.bind(this)),this.onDataChanged()):console.warn("AG Grid: agTotalRowCountComponent should only be used with the client side row model.")},e.prototype.onDataChanged=function(){var t=this.localeService.getLocaleTextFunc(),e=t("thousandSeparator",","),i=t("decimalSeparator",".");this.setValue(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.formatNumberCommas(this.getRowCountValue(),e,i))},e.prototype.getRowCountValue=function(){var t=0;return this.gridApi.forEachLeafNode((function(e){return t+=1})),t},e.prototype.init=function(){},e.prototype.destroy=function(){t.prototype.destroy.call(this)},__decorate$5([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],e.prototype,"gridApi",void 0),__decorate$5([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),e}(NameValueComp),__extends$9=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$4=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},SelectedRowsComp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$9(e,t),e.prototype.postConstruct=function(){if(this.isValidRowModel()){this.setLabel("selectedRows","Selected"),this.addCssClass("ag-status-panel"),this.addCssClass("ag-status-panel-selected-row-count"),this.onRowSelectionChanged();var t=this.onRowSelectionChanged.bind(this);this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_MODEL_UPDATED,t),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_SELECTION_CHANGED,t)}else console.warn("AG Grid: agSelectedRowCountComponent should only be used with the client and server side row model.")},e.prototype.isValidRowModel=function(){var t=this.gridApi.getModel().getType();return"clientSide"===t||"serverSide"===t},e.prototype.onRowSelectionChanged=function(){var t=this.selectionService.getSelectionCount();if(t<0)return this.setValue("?"),void this.setDisplayed(!0);var e=this.localeService.getLocaleTextFunc(),i=e("thousandSeparator",","),o=e("decimalSeparator",".");this.setValue(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.formatNumberCommas(t,i,o)),this.setDisplayed(t>0)},e.prototype.init=function(){},e.prototype.destroy=function(){t.prototype.destroy.call(this)},__decorate$4([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],e.prototype,"gridApi",void 0),__decorate$4([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("selectionService")],e.prototype,"selectionService",void 0),__decorate$4([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),e}(NameValueComp),__extends$8=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$3=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},AggregationComp=function(t){function e(){return t.call(this,e.TEMPLATE)||this}return __extends$8(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this)},e.prototype.postConstruct=function(){this.isValidRowModel()?(this.avgAggregationComp.setLabel("avg","Average"),this.countAggregationComp.setLabel("count","Count"),this.minAggregationComp.setLabel("min","Min"),this.maxAggregationComp.setLabel("max","Max"),this.sumAggregationComp.setLabel("sum","Sum"),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_RANGE_SELECTION_CHANGED,this.onRangeSelectionChanged.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_MODEL_UPDATED,this.onRangeSelectionChanged.bind(this))):console.warn("AG Grid: agAggregationComponent should only be used with the client and server side row model.")},e.prototype.isValidRowModel=function(){var t=this.gridApi.getModel().getType();return"clientSide"===t||"serverSide"===t},e.prototype.init=function(){},e.prototype.setAggregationComponentValue=function(t,e,i){var o=this.getAggregationValueComponent(t);if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(o)&&o){var n=this.localeService.getLocaleTextFunc(),r=n("thousandSeparator",","),s=n("decimalSeparator",".");o.setValue(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.formatNumberTwoDecimalPlacesAndCommas(e,r,s)),o.setDisplayed(i)}},e.prototype.getAggregationValueComponent=function(t){var e=t+"AggregationComp",i=null,o=this.gridOptionsService.get("statusBar"),n=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(o)&&o?o.statusPanels.find((function(t){return"agAggregationComponent"===t.statusPanel})):null;return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(n)&&n?(!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(n.statusPanelParams)||ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(n.statusPanelParams)&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(n.statusPanelParams.aggFuncs)&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(n.statusPanelParams.aggFuncs.find((function(e){return e===t}))))&&(i=this[e]):i=this[e],i},e.prototype.onRangeSelectionChanged=function(){var t=this,e=this.rangeService?this.rangeService.getCellRanges():void 0,i=0,o=0,n=0,r=null,s=null,a={};e&&!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missingOrEmpty(e)&&e.forEach((function(e){for(var l=t.rangeService.getRangeStartRow(e),c=t.rangeService.getRangeEndRow(e);;){if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(l)||!l||t.rowPositionUtils.before(c,l)||!l||!e.columns)break;e.columns.forEach((function(e){if(null!==l){var c=t.cellPositionUtils.createId({rowPinned:l.rowPinned,column:e,rowIndex:l.rowIndex});if(!a[c]){a[c]=!0;var u=t.rowRenderer.getRowNode(l);if(!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(u)){var h=t.valueService.getValue(e,u);ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(h)||""===h||("object"==typeof h&&"value"in h&&(h=h.value),"string"==typeof h&&(h=Number(h)),"number"!=typeof h||isNaN(h)||(i+=h,(null===s||h>s)&&(s=h),(null===r||h<r)&&(r=h),n++),o++)}}}})),l=t.cellNavigationService.getRowBelow(l)}}));var l=o>1,c=n>1;this.setAggregationComponentValue("count",o,l),this.setAggregationComponentValue("sum",i,c),this.setAggregationComponentValue("min",r,c),this.setAggregationComponentValue("max",s,c),this.setAggregationComponentValue("avg",i/n,c)},e.TEMPLATE='<div class="ag-status-panel ag-status-panel-aggregations">\n            <ag-name-value ref="avgAggregationComp"></ag-name-value>\n            <ag-name-value ref="countAggregationComp"></ag-name-value>\n            <ag-name-value ref="minAggregationComp"></ag-name-value>\n            <ag-name-value ref="maxAggregationComp"></ag-name-value>\n            <ag-name-value ref="sumAggregationComp"></ag-name-value>\n        </div>',__decorate$3([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FiY)("rangeService")],e.prototype,"rangeService",void 0),__decorate$3([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("valueService")],e.prototype,"valueService",void 0),__decorate$3([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("cellNavigationService")],e.prototype,"cellNavigationService",void 0),__decorate$3([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowRenderer")],e.prototype,"rowRenderer",void 0),__decorate$3([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],e.prototype,"gridApi",void 0),__decorate$3([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("cellPositionUtils")],e.prototype,"cellPositionUtils",void 0),__decorate$3([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowPositionUtils")],e.prototype,"rowPositionUtils",void 0),__decorate$3([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("sumAggregationComp")],e.prototype,"sumAggregationComp",void 0),__decorate$3([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("countAggregationComp")],e.prototype,"countAggregationComp",void 0),__decorate$3([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("minAggregationComp")],e.prototype,"minAggregationComp",void 0),__decorate$3([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("maxAggregationComp")],e.prototype,"maxAggregationComp",void 0),__decorate$3([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("avgAggregationComp")],e.prototype,"avgAggregationComp",void 0),__decorate$3([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),VERSION$2="29.3.4",StatusBarModule={version:VERSION$2,moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.StatusBarModule,beans:[StatusBarService],agStackComponents:[{componentName:"AgStatusBar",componentClass:StatusBar},{componentName:"AgNameValue",componentClass:NameValueComp}],userComponents:[{componentName:"agAggregationComponent",componentClass:AggregationComp},{componentName:"agSelectedRowCountComponent",componentClass:SelectedRowsComp},{componentName:"agTotalRowCountComponent",componentClass:TotalRowsComp},{componentName:"agFilteredRowCountComponent",componentClass:FilteredRowsComp},{componentName:"agTotalAndFilteredRowCountComponent",componentClass:TotalAndFilteredRowsComp}],dependantModules:[EnterpriseCoreModule]},VERSION$1="29.3.4",__extends$7=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate$2=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},DEFAULT_VIEWPORT_ROW_MODEL_PAGE_SIZE=5,DEFAULT_VIEWPORT_ROW_MODEL_BUFFER_SIZE=5,ViewportRowModel=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.firstRow=-1,e.lastRow=-1,e.rowCount=-1,e.rowNodesByIndex={},e}return __extends$7(e,t),e.prototype.ensureRowHeightsValid=function(t,e,i,o){return!1},e.prototype.init=function(){this.rowHeight=this.gridOptionsService.getRowHeightAsNumber(),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_VIEWPORT_CHANGED,this.onViewportChanged.bind(this))},e.prototype.start=function(){this.gridOptionsService.get("viewportDatasource")&&this.setViewportDatasource(this.gridOptionsService.get("viewportDatasource"))},e.prototype.isLastRowIndexKnown=function(){return!0},e.prototype.destroyDatasource=function(){this.viewportDatasource&&(this.viewportDatasource.destroy&&this.viewportDatasource.destroy(),this.rowRenderer.datasourceChanged(),this.firstRow=-1,this.lastRow=-1)},e.prototype.getViewportRowModelPageSize=function(){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.oneOrGreater(this.gridOptionsService.getNum("viewportRowModelPageSize"),DEFAULT_VIEWPORT_ROW_MODEL_PAGE_SIZE)},e.prototype.getViewportRowModelBufferSize=function(){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.zeroOrGreater(this.gridOptionsService.getNum("viewportRowModelBufferSize"),DEFAULT_VIEWPORT_ROW_MODEL_BUFFER_SIZE)},e.prototype.calculateFirstRow=function(t){var e=this.getViewportRowModelBufferSize(),i=this.getViewportRowModelPageSize(),o=t-e;return o<0?0:Math.floor(o/i)*i},e.prototype.calculateLastRow=function(t){if(-1===t)return t;var e=this.getViewportRowModelBufferSize(),i=this.getViewportRowModelPageSize(),o=t+e,n=Math.ceil(o/i)*i,r=this.rowCount-1;return Math.min(n,r)},e.prototype.onViewportChanged=function(t){var e=this.calculateFirstRow(t.firstRow),i=this.calculateLastRow(t.lastRow);this.firstRow===e&&this.lastRow===i||(this.firstRow=e,this.lastRow=i,this.purgeRowsNotInViewport(),this.viewportDatasource&&this.viewportDatasource.setViewportRange(this.firstRow,this.lastRow))},e.prototype.purgeRowsNotInViewport=function(){var t=this;Object.keys(this.rowNodesByIndex).forEach((function(e){var i=parseInt(e,10);if(i<t.firstRow||i>t.lastRow){if(t.isRowFocused(i))return;delete t.rowNodesByIndex[i]}}))},e.prototype.isRowFocused=function(t){var e=this.focusService.getFocusCellToUseAfterRefresh();return!!e&&(null==e.rowPinned&&e.rowIndex===t)},e.prototype.setViewportDatasource=function(t){this.destroyDatasource(),this.viewportDatasource=t,this.rowCount=-1,t.init?t.init({setRowCount:this.setRowCount.bind(this),setRowData:this.setRowData.bind(this),getRow:this.getRow.bind(this)}):console.warn("AG Grid: viewport is missing init method.")},e.prototype.getType=function(){return"viewport"},e.prototype.getRow=function(t){return this.rowNodesByIndex[t]||(this.rowNodesByIndex[t]=this.createBlankRowNode(t)),this.rowNodesByIndex[t]},e.prototype.getRowNode=function(t){var e;return this.forEachNode((function(i){i.id===t&&(e=i)})),e},e.prototype.getRowCount=function(){return-1===this.rowCount?0:this.rowCount},e.prototype.getRowIndexAtPixel=function(t){return 0!==this.rowHeight?Math.floor(t/this.rowHeight):0},e.prototype.getRowBounds=function(t){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*t}},e.prototype.getTopLevelRowCount=function(){return this.getRowCount()},e.prototype.getTopLevelRowDisplayedIndex=function(t){return t},e.prototype.isEmpty=function(){return this.rowCount>0},e.prototype.isRowsToRender=function(){return this.rowCount>0},e.prototype.getNodesInRangeForSelection=function(t,e){var i=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(t)?0:t.rowIndex,o=e.rowIndex,n=i<this.firstRow||i>this.lastRow,r=o<this.firstRow||o>this.lastRow;if(n||r)return[];for(var s=[],a=i<=o?o:i,l=i<=o?i:o;l<=a;l++)s.push(this.rowNodesByIndex[l]);return s},e.prototype.forEachNode=function(t){var e=this,i=0;Object.keys(this.rowNodesByIndex).forEach((function(o){var n=parseInt(o,10),r=e.rowNodesByIndex[n];t(r,i),i++}))},e.prototype.setRowData=function(t){var e=this;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.iterateObject(t,(function(t,i){var o=parseInt(t,10);if(o>=e.firstRow&&o<=e.lastRow){var n=e.rowNodesByIndex[o];ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(n)&&(n=e.createBlankRowNode(o),e.rowNodesByIndex[o]=n),n.setDataAndId(i,o.toString())}}))},e.prototype.createBlankRowNode=function(t){var e=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Fxk(this.beans);return e.setRowHeight(this.rowHeight),e.setRowTop(this.rowHeight*t),e.setRowIndex(t),e},e.prototype.setRowCount=function(t,e){if(void 0===e&&(e=!1),t!==this.rowCount){this.rowCount=t;var i={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_MODEL_UPDATED,newData:!1,newPage:!1,keepRenderedRows:e,animate:!1};this.eventService.dispatchEvent(i)}},e.prototype.isRowPresent=function(t){return!!this.getRowNode(t.id)},__decorate$2([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowRenderer")],e.prototype,"rowRenderer",void 0),__decorate$2([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("focusService")],e.prototype,"focusService",void 0),__decorate$2([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("beans")],e.prototype,"beans",void 0),__decorate$2([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),__decorate$2([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FXL],e.prototype,"destroyDatasource",null),e=__decorate$2([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("rowModel")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),ViewportRowModelModule={version:VERSION$1,moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.ViewportRowModelModule,rowModel:"viewport",beans:[ViewportRowModel],dependantModules:[EnterpriseCoreModule]},defaultTooltipCss="\n.ag-sparkline-tooltip-wrapper {\n    position: absolute;\n    user-select: none;\n    pointer-events: none;\n}\n\n.ag-sparkline-tooltip {\n    position: relative;\n    font: 12px arial,sans-serif;\n    border-radius: 2px;\n    box-shadow: 0 1px 3px rgb(0 0 0 / 20%), 0 1px 1px rgb(0 0 0 / 14%);\n    line-height: 1.7em;\n    overflow: hidden;\n    white-space: nowrap;\n    z-index: 99999;\n    background-color: rgb(255, 255, 255);\n    color: rgba(0,0,0, 0.67);\n}\n\n.ag-sparkline-tooltip-content {\n    padding: 0 7px;\n    opacity: 1;\n}\n\n.ag-sparkline-tooltip-title {\n    padding-left: 7px;\n    opacity: 1;\n}\n\n.ag-sparkline-tooltip-wrapper-hidden {\n    top: -10000px !important;\n}\n\n.ag-sparkline-wrapper {\n    box-sizing: border-box;\n    overflow: hidden;\n}\n",__values=function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],o=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},extent$3=extent$4,isNumber$3=isNumber$4,isString=isString$1,isStringObject=isStringObject$1,isDate=isDate$1,createId=createId$1,Padding=Padding$1,LinearScale=LinearScale$1,BandScale$4=BandScale$5,TimeScale=TimeScale$1,ZINDICIES;!function(t){t[t.SERIES_FILL_ZINDEX=50]="SERIES_FILL_ZINDEX",t[t.AXIS_LINE_ZINDEX=500]="AXIS_LINE_ZINDEX",t[t.SERIES_STROKE_ZINDEX=1e3]="SERIES_STROKE_ZINDEX",t[t.SERIES_LABEL_ZINDEX=1500]="SERIES_LABEL_ZINDEX",t[t.CROSSHAIR_ZINDEX=2e3]="CROSSHAIR_ZINDEX",t[t.SERIES_MARKERS_ZINDEX=2500]="SERIES_MARKERS_ZINDEX"}(ZINDICIES||(ZINDICIES={}));var SparklineAxis=function(){this.type="category",this.stroke="rgb(204, 214, 235)",this.strokeWidth=1},Sparkline=function(){function t(){this.id=createId(this),this.seriesRect={x:0,y:0,width:0,height:0},this._context=void 0,this._container=void 0,this._data=void 0,this.padding=new Padding(3),this.xKey="x",this.yKey="y",this.dataType=void 0,this.xData=[],this.yData=[],this.min=void 0,this.max=void 0,this.yScale=new LinearScale,this.axis=new SparklineAxis,this.highlightStyle={size:6,fill:"yellow",stroke:"silver",strokeWidth:1},this._width=100,this._height=100,this.smallestInterval=void 0,this.layoutId=0,this.defaultDateFormatter=new Intl.DateTimeFormat("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}),this._onMouseMove=this.onMouseMove.bind(this),this._onMouseOut=this.onMouseOut.bind(this);var e=new Group;this.rootGroup=e;var i=document.createElement("div");i.setAttribute("class","ag-sparkline-wrapper");var o=new Scene({document});if(this.scene=o,this.canvasElement=o.canvas.element,o.root=e,o.container=i,o.resize(this.width,this.height),this.seriesRect.width=this.width,this.seriesRect.height=this.height,-1===t.tooltipDocuments.indexOf(document)){var n=document.createElement("style");n.innerHTML=defaultTooltipCss,document.head.insertBefore(n,document.head.querySelector("style")),t.tooltipDocuments.push(document)}this.setupDomEventListeners(this.scene.canvas.element)}return Object.defineProperty(t.prototype,"context",{get:function(){return this._context},set:function(t){this._context!==t&&(this._context=t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"container",{get:function(){return this._container},set:function(t){if(this._container!==t){var e=this.canvasElement.parentNode;null!=e&&e.removeChild(this.canvasElement),t&&t.appendChild(this.canvasElement),this._container=t}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this._data},set:function(t){this._data!==t&&(this._data=t,this.processData(),this.mouseMoveEvent&&this.highlightedDatum&&this.updateHitPoint(this.mouseMoveEvent))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(t){this._width!==t&&(this._width=t,this.scene.resize(t,this.height),this.scheduleLayout())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(t){this._height!==t&&(this._height=t,this.scene.resize(this.width,t),this.scheduleLayout())},enumerable:!1,configurable:!0}),t.prototype.update=function(){},t.prototype.updateYScale=function(){this.updateYScaleRange(),this.updateYScaleDomain()},t.prototype.updateYScaleDomain=function(){},t.prototype.updateYScaleRange=function(){var t=this.yScale,e=this.seriesRect;t.range=[e.height,0]},t.prototype.updateXScale=function(){var t=this.axis.type;this.xScale=this.getXScale(t),this.updateXScaleRange(),this.updateXScaleDomain()},t.prototype.updateXScaleRange=function(){this.xScale.range=[0,this.seriesRect.width]},t.prototype.updateXScaleDomain=function(){var t,e=this.xData,i=this.xScale;(i instanceof LinearScale||i instanceof TimeScale)&&(t=extent$3(e)),this.xScale.domain=t?t.slice():e},t.prototype.getXScale=function(t){switch(void 0===t&&(t="category"),t){case"number":return new LinearScale;case"time":return new TimeScale;default:return new BandScale$4}},t.prototype.updateAxisLine=function(){},t.prototype.updateAxes=function(){this.updateYScale(),this.updateXScale(),this.updateAxisLine()},t.prototype.updateCrosshairs=function(){this.updateXCrosshairLine(),this.updateYCrosshairLine()},t.prototype.generateNodeData=function(){return[]},t.prototype.getNodeData=function(){return[]},t.prototype.updateNodes=function(){},t.prototype.updateXCrosshairLine=function(){},t.prototype.updateYCrosshairLine=function(){},t.prototype.highlightDatum=function(t){this.updateNodes()},t.prototype.dehighlightDatum=function(){this.highlightedDatum=void 0,this.updateNodes(),this.updateCrosshairs()},t.prototype.onMouseMove=function(t){this.mouseMoveEvent=t,this.updateHitPoint(t)},t.prototype.updateHitPoint=function(t){var e,i,o,n=this.pickClosestSeriesNodeDatum(t.offsetX,t.offsetY);if(n){var r=this.highlightedDatum;this.highlightedDatum=n,(this.highlightedDatum&&!r||this.highlightedDatum&&r&&this.highlightedDatum!==r)&&(this.highlightDatum(n),this.updateCrosshairs(),this.scene.render()),(null===(o=null===(i=null===(e=this.processedOptions)||void 0===e?void 0:e.tooltip)||void 0===i?void 0:i.enabled)||void 0===o||o)&&this.handleTooltip(t,n)}},t.prototype.onMouseOut=function(t){this.dehighlightDatum(),this.tooltip.toggle(!1),this.scene.render()},t.prototype.processData=function(){var t=this,e=this,i=e.data,o=e.yData,n=e.xData;if(i&&!this.invalidData(this.data)){o.length=0,n.length=0;var r=i.length,s=this.getDataType(i);this.dataType=s;var a,l=this.axis.type,c="number"!==l&&"time"!==l?"category":l,u="number"===c||"time"===c,h=function(e,i){null==t.smallestInterval&&(t.smallestInterval={x:1/0,y:1/0});var o=t.smallestInterval.x,n=Math.abs(e-i);n>0&&n<o&&(t.smallestInterval.x=n)};if("number"===s)for(var d=0;d<r;d++){var p=d,f=i[d],g=this.getDatum(p,c),m=this.getDatum(f,"number");u&&h(g,a),n.push(g),o.push(m),a=g}else if("array"===s)for(d=0;d<r;d++){var y=i[d];if(Array.isArray(y)){p=y[0],f=y[1],g=this.getDatum(p,c),m=this.getDatum(f,"number");if(null==g)continue;u&&h(g,a),n.push(g),o.push(m),a=g}}else if("object"===s){var v=this.yKey,_=this.xKey;for(d=0;d<r;d++){if("object"==typeof(y=i[d])&&!Array.isArray(y)){p=y[_],f=y[v],g=this.getDatum(p,c),m=this.getDatum(f,"number");if(null==g)continue;u&&h(g,a),n.push(g),o.push(m),a=g}}}this.updateAxes(),this.update(),this.scene.render()}},t.prototype.getDataType=function(t){var e,i;try{for(var o=__values(t),n=o.next();!n.done;n=o.next()){var r=n.value;if(null!=r){if(isNumber$3(r))return"number";if(Array.isArray(r))return"array";if("object"==typeof r)return"object"}}}catch(t){e={error:t}}finally{try{n&&!n.done&&(i=o.return)&&i.call(o)}finally{if(e)throw e.error}}},t.prototype.getDatum=function(t,e){if("number"===e&&isNumber$3(t)||"time"===e&&(isNumber$3(t)||isDate(t)))return t;if("category"===e){if(isString(t)||isDate(t)||isNumber$3(t))return{toString:function(){return String(t)}};if(isStringObject(t))return t}},Object.defineProperty(t.prototype,"layoutScheduled",{get:function(){return!!this.layoutId},enumerable:!1,configurable:!0}),t.prototype.scheduleLayout=function(){var t=this;this.layoutId&&cancelAnimationFrame(this.layoutId),this.layoutId=requestAnimationFrame((function(){t.setSparklineDimensions(),t.invalidData(t.data)||(t.updateXScaleRange(),t.updateYScaleRange(),t.updateAxisLine(),t.update(),t.scene.render(),t.layoutId=0)}))},t.prototype.setSparklineDimensions=function(){var t=this,e=t.width,i=t.height,o=t.padding,n=t.seriesRect,r=t.rootGroup,s=e-o.left-o.right,a=i-o.top-o.bottom;n.width=s,n.height=a,n.x=o.left,n.y=o.top,r.translationX=n.x,r.translationY=n.y},t.prototype.pickClosestSeriesNodeDatum=function(t,e){for(var i,o=1/0,n=this.rootGroup.transformPoint(t,e),r=this.getNodeData(),s=0;s<r.length;s++){var a=r[s];if(!a.point)return;var l=this.getDistance(n,a.point);l<=o&&(o=l,i=a)}return i},t.prototype.getDistance=function(t,e){return Math.abs(t.x-e.x)},t.prototype.handleTooltip=function(t,e){var i,o,n=e.seriesDatum,r=this.canvasElement,s=t.clientX,a=t.clientY,l=null===(i=this.processedOptions)||void 0===i?void 0:i.tooltip,c={pageX:s,pageY:a,position:{xOffset:null==l?void 0:l.xOffset,yOffset:null==l?void 0:l.yOffset},container:null==l?void 0:l.container};null==c.container&&(c.container=r);var u=n.y,h=n.x,d=null===(o=null==l?void 0:l.enabled)||void 0===o||o,p=null==l?void 0:l.renderer;if(p){var f=p({context:this.context,datum:n,yValue:u,xValue:h});d="string"!=typeof f&&void 0!==f.enabled?f.enabled:d}var g=d&&void 0!==n.y&&this.getTooltipHtml(e);g&&this.tooltip.show(c,g)},t.prototype.formatNumericDatum=function(t){return String(Math.round(10*t)/10)},t.prototype.formatDatum=function(t){var e=this.axis.type||"category";return"number"===e&&"number"==typeof t?this.formatNumericDatum(t):"time"===e&&(t instanceof Date||isNumber$3(t))?this.defaultDateFormatter.format(t):String(t)},t.prototype.setupDomEventListeners=function(t){t.addEventListener("mousemove",this._onMouseMove),t.addEventListener("mouseout",this._onMouseOut)},t.prototype.cleanupDomEventListeners=function(t){t.removeEventListener("mousemove",this._onMouseMove),t.removeEventListener("mouseout",this._onMouseOut)},t.prototype.invalidData=function(t){return!t||!Array.isArray(t)||0===t.length},t.prototype.destroy=function(){this.scene.container=void 0,this.container=void 0,this.cleanupDomEventListeners(this.scene.canvas.element)},t.tooltipDocuments=[],t}();function toTooltipHtml(t,e){if("string"==typeof t)return t;e=e||{};var i,o,n=t.content,r=void 0===n?e.content||"":n,s=t.title,a=void 0===s?e.title||void 0:s,l=t.color,c=void 0===l?e.color:l,u=t.backgroundColor,h=void 0===u?e.backgroundColor:u,d=t.opacity,p=void 0===d?e.opacity||1:d;c?(i=a?'<span class="'+SparklineTooltip.class+'-title"; style="color: '+c+'">'+a+"</span>":"",o='<span class="'+SparklineTooltip.class+'-content" style="color: '+c+'">'+r+"</span>"):(i=a?'<span class="'+SparklineTooltip.class+'-title">'+a+"</span>":"",o='<span class="'+SparklineTooltip.class+'-content">'+r+"</span>");var f="opacity: "+p;return h&&(f+="; background-color: "+h.toLowerCase()),'<div class="'+SparklineTooltip.class+'" style="'+f+'">\n                '+i+"\n                "+o+"\n            </div>"}var SparklineTooltip=function(){function t(){this.element=document.createElement("div"),document.body.appendChild(this.element)}return t.prototype.isVisible=function(){var e=this.element;if(e.classList)return!e.classList.contains(t.class+"-wrapper-hidden");var i=e.getAttribute("class");return!!i&&i.split(" ").indexOf(t.class+"-wrapper-hidden")<0},t.prototype.updateClass=function(e){var i=[t.class+"-wrapper"];!0!==e&&i.push(t.class+"-wrapper-hidden"),this.element.setAttribute("class",i.join(" "))},t.prototype.show=function(t,e){var i,o,n,r;this.toggle(!1);var s=this.element;if(void 0!==e)s.innerHTML=e;else if(!s.innerHTML)return;var a=null!==(o=null===(i=t.position)||void 0===i?void 0:i.xOffset)&&void 0!==o?o:10,l=null!==(r=null===(n=t.position)||void 0===n?void 0:n.yOffset)&&void 0!==r?r:0,c=t.pageX+a,u=t.pageY+l,h=s.getBoundingClientRect(),d=window.innerWidth-h.width;if(t.container){var p=t.container.getBoundingClientRect();d=p.left+(p.width-h.width)}c>d&&(c=t.pageX-s.clientWidth-a),"undefined"!=typeof scrollX&&(c+=scrollX),"undefined"!=typeof scrollY&&(u+=scrollY),s.style.left=Math.round(c)+"px",s.style.top=Math.round(u)+"px",this.toggle(!0)},t.prototype.toggle=function(t){this.updateClass(t)},t.prototype.destroy=function(){var t=this.element.parentNode;t&&t.removeChild(this.element)},t.class="ag-sparkline-tooltip",t}();function getMarker(t){switch(t){case"circle":default:return Circle;case"square":return Square;case"diamond":return Diamond}}function getLineDash(t,e){void 0===e&&(e="solid");var i={solid:[],dash:[4,3],dot:[1,3],dashDot:[4,3,1,3],dashDotDot:[4,3,1,3,1,3],shortDot:[1,1],shortDash:[3,1],shortDashDot:[3,1,1,1],shortDashDotDot:[3,1,1,1,1,1],longDash:[8,3],longDashDot:[8,3,1,3],longDashDotDot:[8,3,1,3,1,3]},o={solid:[],dash:[3,3],dot:[0,3],dashDot:[3,3,0,3],dashDotDot:[3,3,0,3,0,3],shortDot:[0,2],shortDash:[2,2],shortDashDot:[2,2,0,2],shortDashDotDot:[2,2,0,2,0,2],longDash:[7,3],longDashDot:[7,3,0,3],longDashDotDot:[7,3,0,3,0,3]};return"round"===t||"square"===t?null==o[e]?(console.warn("'"+e+"' is not a valid 'lineDash' option."),o.solid):o[e]:null==i[e]?(console.warn("'"+e+"' is not a valid 'lineDash' option."),i.solid):i[e]}var __extends$6=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),extent$2=extent$4,BandScale$3=BandScale$5,SparklineMarker$1=function(){this.enabled=!0,this.shape="circle",this.size=0,this.fill="rgb(124, 181, 236)",this.stroke="rgb(124, 181, 236)",this.strokeWidth=1,this.formatter=void 0},SparklineLine$1=function(){this.stroke="rgb(124, 181, 236)",this.strokeWidth=1},SparklineCrosshairs$1=function(){this.xLine={enabled:!0,stroke:"rgba(0,0,0, 0.54)",strokeWidth:1,lineDash:"solid",lineCap:void 0},this.yLine={enabled:!1,stroke:"rgba(0,0,0, 0.54)",strokeWidth:1,lineDash:"solid",lineCap:void 0}},AreaSparkline=function(t){function e(){var e=t.call(this)||this;return e.fill="rgba(124, 181, 236, 0.25)",e.strokePath=new Path,e.fillPath=new Path,e.xCrosshairLine=new Line,e.yCrosshairLine=new Line,e.areaSparklineGroup=new Group,e.xAxisLine=new Line,e.markers=new Group,e.markerSelection=Selection.select(e.markers,(function(){return e.markerFactory()})),e.markerSelectionData=[],e.marker=new SparklineMarker$1,e.line=new SparklineLine$1,e.crosshairs=new SparklineCrosshairs$1,e.rootGroup.append(e.areaSparklineGroup),e.xAxisLine.zIndex=ZINDICIES.AXIS_LINE_ZINDEX,e.fillPath.zIndex=ZINDICIES.SERIES_FILL_ZINDEX,e.strokePath.zIndex=ZINDICIES.SERIES_STROKE_ZINDEX,e.xCrosshairLine.zIndex=ZINDICIES.CROSSHAIR_ZINDEX,e.yCrosshairLine.zIndex=ZINDICIES.CROSSHAIR_ZINDEX,e.markers.zIndex=ZINDICIES.SERIES_MARKERS_ZINDEX,e.areaSparklineGroup.append([e.fillPath,e.xAxisLine,e.strokePath,e.xCrosshairLine,e.yCrosshairLine,e.markers]),e}return __extends$6(e,t),e.prototype.markerFactory=function(){return new(getMarker(this.marker.shape))},e.prototype.getNodeData=function(){return this.markerSelectionData},e.prototype.update=function(){var t=this.generateNodeData();if(t){var e=t.nodeData,i=t.fillData,o=t.strokeData;this.markerSelectionData=e,this.updateSelection(e),this.updateNodes(),this.updateStroke(o),this.updateFill(i)}},e.prototype.updateYScaleDomain=function(){var t=this.yData,e=this.yScale,i=extent$2(t),o=0,n=1;void 0!==i&&(o=this.min=i[0],n=this.max=i[1]),o=o<0?o:0,n=n<0?0:n,e.domain=[o,n]},e.prototype.generateNodeData=function(){var t=this,e=t.data,i=t.yData,o=t.xData,n=t.xScale,r=t.yScale;if(e){for(var s,a,l,c,u=!(n instanceof BandScale$3),h=u?0:n.bandwidth/2,d=i.length,p=[],f=[],g=[],m=r.convert(0),y=0;y<d;y++){var v=i[y],_=o[y],C=n.convert(u?n.toDomain(_):_)+h,b=void 0===v?NaN:r.convert(v);y+1<d&&(c=n.convert(u?n.toDomain(o[y+1]):o[y+1])+h),g.push({seriesDatum:{x:_,y:v},point:{x:C,y:b}}),void 0===v&&void 0!==l?(f.push({seriesDatum:void 0,point:{x:l,y:m}}),void 0!==c&&f.push({seriesDatum:void 0,point:{x:c,y:m}})):void 0!==v&&(f.push({seriesDatum:{x:_,y:v},point:{x:C,y:b}}),p.push({seriesDatum:{x:_,y:v},point:{x:C,y:b}}),s=void 0!==s?s:C,a=C),l=C}return f.push({seriesDatum:void 0,point:{x:a,y:m}},{seriesDatum:void 0,point:{x:s,y:m}}),{nodeData:p,fillData:f,strokeData:g}}},e.prototype.updateAxisLine=function(){var t=this,e=t.xScale,i=t.yScale,o=t.axis,n=t.xAxisLine;n.x1=e.range[0],n.x2=e.range[1],n.y1=n.y2=0,n.stroke=o.stroke,n.strokeWidth=o.strokeWidth;var r=i.convert(0);n.translationY=r},e.prototype.updateSelection=function(t){this.markerSelection.update(t)},e.prototype.updateNodes=function(){var t=this,e=this,i=e.highlightedDatum,o=e.highlightStyle,n=e.marker,r=o.size,s=o.fill,a=o.stroke,l=o.strokeWidth,c=n.formatter;this.markerSelection.each((function(e,o,u){var h=o.point,d=o.seriesDatum;if(h){var p,f=o===i,g=f&&void 0!==s?s:n.fill,m=f&&void 0!==a?a:n.stroke,y=f&&void 0!==l?l:n.strokeWidth,v=f&&void 0!==r?r:n.size;if(c){var _=0===u,C=u===t.markerSelectionData.length-1,b=d.y===t.min,E=d.y===t.max;p=c({datum:o,xValue:d.x,yValue:d.y,min:b,max:E,first:_,last:C,fill:g,stroke:m,strokeWidth:y,size:v,highlighted:f})}e.size=p&&null!=p.size?p.size:v,e.fill=p&&null!=p.fill?p.fill:g,e.stroke=p&&null!=p.stroke?p.stroke:m,e.strokeWidth=p&&null!=p.strokeWidth?p.strokeWidth:y,e.translationX=h.x,e.translationY=h.y,e.visible=p&&null!=p.enabled?p.enabled:n.enabled&&e.size>0}}))},e.prototype.updateStroke=function(t){var e=this,i=e.strokePath,o=e.yData,n=e.line;if(!(o.length<2)){var r=i.path,s=t.length,a=!0;r.clear();for(var l=0;l<s;l++){var c=t[l],u=c.point,h=c.seriesDatum,d=u.x,p=u.y;null==h.y?a=!0:a?(r.moveTo(d,p),a=!1):r.lineTo(d,p)}i.lineJoin=i.lineCap="round",i.fill=void 0,i.stroke=n.stroke,i.strokeWidth=n.strokeWidth}},e.prototype.updateFill=function(t){var e=this,i=e.fillPath,o=e.yData,n=e.fill,r=i.path,s=t.length;if(r.clear(),!(o.length<2)){for(var a=0;a<s;a++){var l=t[a].point,c=l.x,u=l.y;a>0?r.lineTo(c,u):r.moveTo(c,u)}r.closePath(),i.lineJoin="round",i.stroke=void 0,i.fill=n}},e.prototype.updateXCrosshairLine=function(){var t=this,e=t.yScale,i=t.xCrosshairLine,o=t.highlightedDatum,n=t.crosshairs.xLine;if(n.enabled&&null!=o){i.y1=e.range[0],i.y2=e.range[1],i.x1=i.x2=0,i.stroke=n.stroke,i.strokeWidth=n.strokeWidth||1,i.lineCap="round"===n.lineCap||"square"===n.lineCap?n.lineCap:void 0;var r=n.lineDash;i.lineDash=Array.isArray(r)?r:getLineDash(i.lineCap,n.lineDash),i.translationX=o.point.x}else i.strokeWidth=0},e.prototype.updateYCrosshairLine=function(){var t=this,e=t.xScale,i=t.yCrosshairLine,o=t.highlightedDatum,n=t.crosshairs.yLine;if(n.enabled&&null!=o){i.x1=e.range[0],i.x2=e.range[1],i.y1=i.y2=0,i.stroke=n.stroke,i.strokeWidth=n.strokeWidth||1,i.lineCap="round"===n.lineCap||"square"===n.lineCap?n.lineCap:void 0;var r=n.lineDash;i.lineDash=Array.isArray(r)?r:getLineDash(i.lineCap,n.lineDash),i.translationY=o.point.y}else i.strokeWidth=0},e.prototype.getTooltipHtml=function(t){var e,i,o=this.dataType,n=t.seriesDatum,r=n.y,s=n.x,a={content:this.formatNumericDatum(r),title:"array"===o||"object"===o?this.formatDatum(s):void 0},l=null===(i=null===(e=this.processedOptions)||void 0===e?void 0:e.tooltip)||void 0===i?void 0:i.renderer;return l?toTooltipHtml(l({context:this.context,datum:n,yValue:r,xValue:s}),a):toTooltipHtml(a)},e.className="AreaSparkline",e}(Sparkline),__extends$5=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),extent$1=extent$4,BandScale$2=BandScale$5,SparklineMarker=function(){this.enabled=!0,this.shape="circle",this.size=0,this.fill="rgb(124, 181, 236)",this.stroke="rgb(124, 181, 236)",this.strokeWidth=1,this.formatter=void 0},SparklineLine=function(){this.stroke="rgb(124, 181, 236)",this.strokeWidth=1},SparklineCrosshairs=function(){this.xLine={enabled:!0,stroke:"rgba(0,0,0, 0.54)",strokeWidth:1,lineDash:"solid",lineCap:void 0},this.yLine={enabled:!1,stroke:"rgba(0,0,0, 0.54)",strokeWidth:1,lineDash:"solid",lineCap:void 0}},LineSparkline=function(t){function e(){var e=t.call(this)||this;return e.linePath=new Path,e.xCrosshairLine=new Line,e.yCrosshairLine=new Line,e.lineSparklineGroup=new Group,e.markers=new Group,e.markerSelection=Selection.select(e.markers,(function(){return e.markerFactory()})),e.markerSelectionData=[],e.marker=new SparklineMarker,e.line=new SparklineLine,e.crosshairs=new SparklineCrosshairs,e.rootGroup.append(e.lineSparklineGroup),e.linePath.zIndex=ZINDICIES.SERIES_STROKE_ZINDEX,e.xCrosshairLine.zIndex=ZINDICIES.CROSSHAIR_ZINDEX,e.yCrosshairLine.zIndex=ZINDICIES.CROSSHAIR_ZINDEX,e.markers.zIndex=ZINDICIES.SERIES_MARKERS_ZINDEX,e.lineSparklineGroup.append([e.linePath,e.xCrosshairLine,e.yCrosshairLine,e.markers]),e}return __extends$5(e,t),e.prototype.getNodeData=function(){return this.markerSelectionData},e.prototype.markerFactory=function(){return new(getMarker(this.marker.shape))},e.prototype.onMarkerShapeChange=function(){this.markerSelection=this.markerSelection.clear(),this.scheduleLayout()},e.prototype.update=function(){var t=this.generateNodeData();t&&(this.markerSelectionData=t,this.updateSelection(t),this.updateNodes(),this.updateLine())},e.prototype.updateYScaleDomain=function(){var t=this.yData,e=this.yScale,i=extent$1(t),o=0,n=1;if(void 0!==i&&(o=this.min=i[0],n=this.max=i[1]),o===n){var r=Math.abs(.01*o);o-=r,n+=r}e.domain=[o,n]},e.prototype.generateNodeData=function(){var t=this,e=t.data,i=t.yData,o=t.xData,n=t.xScale,r=t.yScale;if(e){for(var s=!(n instanceof BandScale$2),a=s?0:n.bandwidth/2,l=[],c=0;c<i.length;c++){var u=i[c],h=o[c];if(null!=u){var d=n.convert(s?n.toDomain(h):h)+a,p=void 0===u?NaN:r.convert(u);l.push({seriesDatum:{x:h,y:u},point:{x:d,y:p}})}}return l}},e.prototype.updateSelection=function(t){this.markerSelection.update(t)},e.prototype.updateNodes=function(){var t=this,e=this,i=e.highlightedDatum,o=e.highlightStyle,n=e.marker,r=o.size,s=o.fill,a=o.stroke,l=o.strokeWidth,c=n.formatter;this.markerSelection.each((function(e,o,u){var h,d=o===i,p=d&&void 0!==s?s:n.fill,f=d&&void 0!==a?a:n.stroke,g=d&&void 0!==l?l:n.strokeWidth,m=d&&void 0!==r?r:n.size,y=o.seriesDatum,v=o.point;if(c){var _=0===u,C=u===t.markerSelectionData.length-1,b=y.y===t.min,E=y.y===t.max;h=c({datum:o,xValue:y.x,yValue:y.y,min:b,max:E,first:_,last:C,fill:p,stroke:f,strokeWidth:g,size:m,highlighted:d})}e.size=h&&null!=h.size?h.size:m,e.fill=h&&null!=h.fill?h.fill:p,e.stroke=h&&null!=h.stroke?h.stroke:f,e.strokeWidth=h&&null!=h.strokeWidth?h.strokeWidth:g,e.translationX=v.x,e.translationY=v.y,e.visible=h&&null!=h.enabled?h.enabled:n.enabled&&e.size>0}))},e.prototype.updateLine=function(){var t=this,e=t.linePath,i=t.yData,o=t.xData,n=t.xScale,r=t.yScale,s=t.line;if(!(i.length<2)){var a=!(n instanceof BandScale$2),l=e.path,c=i.length,u=a?0:n.bandwidth/2,h=!0;l.clear();for(var d=0;d<c;d++){var p=o[d],f=i[d],g=n.convert(a?n.toDomain(p):p)+u,m=void 0===f?NaN:r.convert(f);null==f?h=!0:h?(l.moveTo(g,m),h=!1):l.lineTo(g,m)}e.fill=void 0,e.stroke=s.stroke,e.strokeWidth=s.strokeWidth}},e.prototype.updateXCrosshairLine=function(){var t=this,e=t.yScale,i=t.xCrosshairLine,o=t.highlightedDatum,n=t.crosshairs.xLine;if(n.enabled&&null!=o){i.y1=e.range[0],i.y2=e.range[1],i.x1=i.x2=0,i.stroke=n.stroke,i.strokeWidth=n.strokeWidth||1,i.lineCap="round"===n.lineCap||"square"===n.lineCap?n.lineCap:void 0;var r=n.lineDash;i.lineDash=Array.isArray(r)?r:getLineDash(i.lineCap,n.lineDash),i.translationX=o.point.x}else i.strokeWidth=0},e.prototype.updateYCrosshairLine=function(){var t=this,e=t.xScale,i=t.yCrosshairLine,o=t.highlightedDatum,n=t.crosshairs.yLine;if(n.enabled&&null!=o){i.x1=e.range[0],i.x2=e.range[1],i.y1=i.y2=0,i.stroke=n.stroke,i.strokeWidth=n.strokeWidth||1,i.lineCap="round"===n.lineCap||"square"===n.lineCap?n.lineCap:void 0;var r=n.lineDash;i.lineDash=Array.isArray(r)?r:getLineDash(i.lineCap,n.lineDash),i.translationY=o.point.y}else i.strokeWidth=0},e.prototype.getTooltipHtml=function(t){var e,i,o=this.dataType,n=t.seriesDatum,r=n.y,s=n.x,a={content:this.formatNumericDatum(r),title:"array"===o||"object"===o?this.formatDatum(s):void 0},l=null===(i=null===(e=this.processedOptions)||void 0===e?void 0:e.tooltip)||void 0===i?void 0:i.renderer;return l?toTooltipHtml(l({context:this.context,datum:n,yValue:r,xValue:s}),a):toTooltipHtml(a)},e.className="LineSparkline",e}(Sparkline),Label=function(){this.enabled=!0,this.fontSize=8,this.fontFamily="Verdana, sans-serif",this.fontStyle=void 0,this.fontWeight=void 0,this.color="rgba(70, 70, 70, 1)"},__extends$4=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),extent=extent$4,BarColumnNodeTag,BarColumnLabelPlacement;!function(t){t[t.Rect=0]="Rect",t[t.Label=1]="Label"}(BarColumnNodeTag||(BarColumnNodeTag={})),function(t){t.InsideBase="insideBase",t.InsideEnd="insideEnd",t.Center="center",t.OutsideEnd="outsideEnd"}(BarColumnLabelPlacement||(BarColumnLabelPlacement={}));var BarColumnLabel=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.formatter=void 0,e.placement=BarColumnLabelPlacement.InsideEnd,e}return __extends$4(e,t),e}(Label),BarColumnSparkline=function(t){function e(){var e=t.call(this)||this;return e.fill="rgb(124, 181, 236)",e.stroke="silver",e.strokeWidth=0,e.paddingInner=.1,e.paddingOuter=.2,e.valueAxisDomain=void 0,e.formatter=void 0,e.axisLine=new Line,e.bandWidth=0,e.sparklineGroup=new Group,e.rectGroup=new Group,e.labelGroup=new Group,e.rectSelection=Selection.select(e.rectGroup,Rect),e.labelSelection=Selection.select(e.labelGroup,Text),e.nodeSelectionData=[],e.label=new BarColumnLabel,e.rootGroup.append(e.sparklineGroup),e.rectGroup.zIndex=ZINDICIES.SERIES_FILL_ZINDEX,e.axisLine.zIndex=ZINDICIES.AXIS_LINE_ZINDEX,e.labelGroup.zIndex=ZINDICIES.SERIES_LABEL_ZINDEX,e.sparklineGroup.append([e.rectGroup,e.axisLine,e.labelGroup]),e.axisLine.lineCap="round",e.label.enabled=!1,e}return __extends$4(e,t),e.prototype.getNodeData=function(){return this.nodeSelectionData},e.prototype.update=function(){this.updateSelections(),this.updateNodes()},e.prototype.updateSelections=function(){var t=this.generateNodeData();t&&(this.nodeSelectionData=t,this.updateRectSelection(t),this.updateLabelSelection(t))},e.prototype.updateNodes=function(){this.updateRectNodes(),this.updateLabelNodes()},e.prototype.calculateStep=function(t){var e,i=this,o=i.xScale,n=i.paddingInner,r=i.paddingOuter,s=i.smallestInterval,a=(o.domain[1]-o.domain[0])/(null!==(e=null==s?void 0:s.x)&&void 0!==e?e:1)+1,l=Math.min(a,50),c=l-1;return t/Math.max(1,2*r+c*n+l)},e.prototype.updateYScaleDomain=function(){var t=this,e=t.yScale,i=t.yData,o=t.valueAxisDomain,n=extent(i),r=0,s=1;void 0!==n&&(r=this.min=n[0],s=this.max=n[1]),r=r<0?r:0,s=s<0?0:s,o&&(o[1]<s&&(o[1]=s),o[0]>r&&(o[0]=r)),e.domain=o||[r,s]},e.prototype.updateRectSelection=function(t){this.rectSelection.update(t)},e.prototype.updateRectNodes=function(){var t=this,e=this,i=e.highlightedDatum,o=e.formatter,n=e.fill,r=e.stroke,s=e.strokeWidth,a=this.highlightStyle,l=a.fill,c=a.stroke,u=a.strokeWidth;this.rectSelection.each((function(e,a,h){var d,p=a===i,f=p&&void 0!==l?l:n,g=p&&void 0!==c?c:r,m=p&&void 0!==u?u:s,y=a.x,v=a.y,_=a.width,C=a.height,b=a.seriesDatum;if(o){var E=0===h,S=h===t.nodeSelectionData.length-1,w=b.y===t.min,O=b.y===t.max;d=o({datum:a,xValue:b.x,yValue:b.y,width:_,height:C,min:w,max:O,first:E,last:S,fill:f,stroke:g,strokeWidth:m,highlighted:p})}e.fill=d&&d.fill||f,e.stroke=d&&d.stroke||g,e.strokeWidth=d&&d.strokeWidth||m,e.x=e.y=0,e.width=_,e.height=C,e.visible=e.height>0,e.translationX=y,e.translationY=v}))},e.prototype.updateLabelSelection=function(t){this.labelSelection.update(t,(function(t){t.tag=BarColumnNodeTag.Label,t.pointerEvents=PointerEvents.None}))},e.prototype.updateLabelNodes=function(){var t=this.label,e=t.enabled,i=t.fontStyle,o=t.fontWeight,n=t.fontSize,r=t.fontFamily,s=t.color;this.labelSelection.each((function(t,a){var l=a.label;l&&e?(t.fontStyle=i,t.fontWeight=o,t.fontSize=n,t.fontFamily=r,t.textAlign=l.textAlign,t.textBaseline=l.textBaseline,t.text=l.text,t.x=l.x,t.y=l.y,t.fill=s,t.visible=!0):t.visible=!1}))},e.prototype.getTooltipHtml=function(t){var e,i,o=this.dataType,n=t.seriesDatum,r=n.y,s=n.x,a={content:this.formatNumericDatum(r),title:"array"===o||"object"===o?this.formatDatum(s):void 0},l=null===(i=null===(e=this.processedOptions)||void 0===e?void 0:e.tooltip)||void 0===i?void 0:i.renderer;return l?toTooltipHtml(l({context:this.context,datum:n,yValue:r,xValue:s}),a):toTooltipHtml(a)},e.prototype.formatLabelValue=function(t){return t%1!=0?t.toFixed(1):t.toFixed(0)},e}(Sparkline),__extends$3=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),isNumber$2=isNumber$4,BandScale$1=BandScale$5,BarSparkline=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$3(e,t),e.prototype.updateYScaleRange=function(){var t=this.seriesRect;this.yScale.range=[0,t.width]},e.prototype.updateXScaleRange=function(){var t=this,e=t.xScale,i=t.seriesRect,o=t.paddingOuter,n=t.paddingInner;if(e instanceof BandScale$1)e.range=[0,i.height],e.paddingInner=n,e.paddingOuter=o;else{var r=this.calculateStep(i.height),s=r*o;this.bandWidth=r*(1-n),e.range=[s,i.height-s-this.bandWidth]}},e.prototype.updateAxisLine=function(){var t=this,e=t.yScale,i=t.axis,o=t.axisLine,n=t.seriesRect,r=i.strokeWidth;o.x1=0,o.x2=0,o.y1=0,o.y2=n.height,o.stroke=i.stroke,o.strokeWidth=r+(r%2==1?1:0);var s=e.convert(0);o.translationX=s},e.prototype.generateNodeData=function(){var t=this,e=t.data,i=t.yData,o=t.xData,n=t.xScale,r=t.yScale,s=t.fill,a=t.stroke,l=t.strokeWidth,c=t.label;if(e){for(var u=c.fontStyle,h=c.fontWeight,d=c.fontSize,p=c.fontFamily,f=c.color,g=c.formatter,m=c.placement,y=[],v=r.convert(0),_=!(n instanceof BandScale$1),C=0,b=i.length;C<b;C++){var E=i[C],S=o[C],w=void 0===E;w&&(E=0);var O=n.convert(_?n.toDomain(S):S),x=Math.min(void 0===E?NaN:r.convert(E),v),P=Math.max(void 0===E?NaN:r.convert(E),v),T=_?this.bandWidth:n.bandwidth,M=P-x,D={x:v,y:O},A=void 0;A=g?g({value:E}):void 0!==E&&isNumber$2(E)?this.formatLabelValue(E):"";var R=O+T/2,L=void 0,I=void 0,N=void 0!==E&&E>=0;if(m===BarColumnLabelPlacement.Center)L=x+M/2,I="center";else if(m===BarColumnLabelPlacement.OutsideEnd)L=x+(N?M+4:-4),I=N?"start":"end";else if(m===BarColumnLabelPlacement.InsideEnd){L=x+(N?M-4:4),I=N?"end":"start";var k=HdpiCanvas.getTextSize(A,p).width||20;(N&&L<v+k||!N&&L>v-k)&&(L=v+4*(N?1:-1),I=N?"start":"end")}else L=v+4*(N?1:-1),I=N?"start":"end";y.push({x,y:O,width:M,height:T,fill:s,stroke:a,strokeWidth:l,seriesDatum:{x:S,y:w?void 0:E},point:D,label:{x:L,y:R,text:A,fontStyle:u,fontWeight:h,fontSize:d,fontFamily:p,textAlign:I,textBaseline:"middle",fill:f}})}return y}},e.prototype.getDistance=function(t,e){return Math.abs(t.y-e.y)},e.className="BarSparkline",e}(BarColumnSparkline),__extends$2=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),isNumber$1=isNumber$4,BandScale=BandScale$5,ColumnSparkline=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$2(e,t),e.prototype.updateYScaleRange=function(){var t=this.seriesRect;this.yScale.range=[t.height,0]},e.prototype.updateXScaleRange=function(){var t=this,e=t.xScale,i=t.seriesRect,o=t.paddingOuter,n=t.paddingInner;if(e instanceof BandScale)e.range=[0,i.width],e.paddingInner=n,e.paddingOuter=o;else{var r=this.calculateStep(i.width),s=r*o;this.bandWidth=r*(1-n),e.range=[s,i.width-s-this.bandWidth]}},e.prototype.updateAxisLine=function(){var t=this,e=t.yScale,i=t.axis,o=t.axisLine,n=t.seriesRect,r=i.strokeWidth;o.x1=0,o.x2=n.width,o.y1=0,o.y2=0,o.stroke=i.stroke,o.strokeWidth=r+(r%2==1?1:0);var s=e.convert(0);o.translationY=s},e.prototype.generateNodeData=function(){var t=this,e=t.data,i=t.yData,o=t.xData,n=t.xScale,r=t.yScale,s=t.fill,a=t.stroke,l=t.strokeWidth,c=t.label;if(e){for(var u=c.fontStyle,h=c.fontWeight,d=c.fontSize,p=c.fontFamily,f=c.color,g=c.formatter,m=c.placement,y=[],v=r.convert(0),_=!(n instanceof BandScale),C=0,b=i.length;C<b;C++){var E=i[C],S=o[C],w=void 0===E;w&&(E=0);var O=Math.min(void 0===E?NaN:r.convert(E),v),x=n.convert(_?n.toDomain(S):S),P=Math.max(void 0===E?NaN:r.convert(E),v),T=_?this.bandWidth:n.bandwidth,M=P-O,D={x:x+T/2,y:v},A=void 0;A=g?g({value:E}):void 0!==E&&isNumber$1(E)?this.formatLabelValue(E):"";var R=x+T/2,L=void 0,I=void 0,N=void 0!==E&&E>=0;if(m===BarColumnLabelPlacement.Center)L=O+M/2,I="middle";else if(m===BarColumnLabelPlacement.OutsideEnd)L=O+(N?-2:M+2),I=N?"bottom":"top";else if(m===BarColumnLabelPlacement.InsideEnd){L=O+(N?2:M-2),I=N?"top":"bottom";var k=HdpiCanvas.getTextSize(A,p).height||10;(N&&L>v-k||!N&&L<v+k)&&(L=v+2*(N?-1:1),I=N?"bottom":"top")}else L=v+2*(N?-1:1),I=N?"bottom":"top";y.push({x,y:O,width:T,height:M,fill:s,stroke:a,strokeWidth:l,seriesDatum:{x:S,y:w?void 0:E},point:D,label:{x:R,y:L,text:A,fontStyle:u,fontWeight:h,fontSize:d,fontFamily:p,textAlign:"center",textBaseline:I,fill:f}})}return y}},e.className="ColumnSparkline",e}(BarColumnSparkline),isNumber=isNumber$4,AgSparkline=function(){function t(){}return t.create=function(t,e){var i=getSparklineInstance((t=jsonMerge([t])).type);return e&&(i.tooltip=e),initSparkline(i,t),initSparklineByType(i,t),t.data&&(i.data=t.data),i.processedOptions=t,i},t}();function getSparklineInstance(t){switch(void 0===t&&(t="line"),t){case"column":return new ColumnSparkline;case"bar":return new BarSparkline;case"area":return new AreaSparkline;default:return new LineSparkline}}function initSparklineByType(t,e){switch(e.type){case"bar":case"column":initBarColumnSparkline(t,e);break;case"area":initAreaSparkline(t,e);break;default:initLineSparkline(t,e)}}function initSparkline(t,e){setValueIfPropertyExists(t,"context",e.context,e),setValueIfPropertyExists(t,"width",e.width,e),setValueIfPropertyExists(t,"height",e.height,e),setValueIfPropertyExists(t,"container",e.container,e),setValueIfPropertyExists(t,"xKey",e.xKey,e),setValueIfPropertyExists(t,"yKey",e.yKey,e),e.padding&&initPaddingOptions(t.padding,e.padding),e.axis&&initAxisOptions(t.axis,e.axis),e.highlightStyle&&initHighlightStyleOptions(t.highlightStyle,e.highlightStyle)}function initLineSparkline(t,e){e.marker&&initMarkerOptions(t.marker,e.marker),e.line&&initLineOptions(t.line,e.line),e.crosshairs&&initCrosshairsOptions(t.crosshairs,e.crosshairs)}function initAreaSparkline(t,e){setValueIfPropertyExists(t,"fill",e.fill,e),e.marker&&initMarkerOptions(t.marker,e.marker),e.line&&initLineOptions(t.line,e.line),e.crosshairs&&initCrosshairsOptions(t.crosshairs,e.crosshairs)}function initBarColumnSparkline(t,e){setValueIfPropertyExists(t,"valueAxisDomain",e.valueAxisDomain,e),setValueIfPropertyExists(t,"fill",e.fill,e),setValueIfPropertyExists(t,"stroke",e.stroke,e),setValueIfPropertyExists(t,"strokeWidth",e.strokeWidth,e),setValueIfPropertyExists(t,"paddingInner",e.paddingInner,e),setValueIfPropertyExists(t,"paddingOuter",e.paddingOuter,e),setValueIfPropertyExists(t,"formatter",e.formatter,e),e.label&&initLabelOptions(t.label,e.label)}function initPaddingOptions(t,e){setValueIfPropertyExists(t,"top",e.top,e),setValueIfPropertyExists(t,"right",e.right,e),setValueIfPropertyExists(t,"bottom",e.bottom,e),setValueIfPropertyExists(t,"left",e.left,e)}function initMarkerOptions(t,e){setValueIfPropertyExists(t,"enabled",e.enabled,e),setValueIfPropertyExists(t,"size",e.size,e),setValueIfPropertyExists(t,"shape",e.shape,e),setValueIfPropertyExists(t,"fill",e.fill,e),setValueIfPropertyExists(t,"stroke",e.stroke,e),setValueIfPropertyExists(t,"strokeWidth",e.strokeWidth,e),setValueIfPropertyExists(t,"formatter",e.formatter,e)}function initLabelOptions(t,e){setValueIfPropertyExists(t,"enabled",e.enabled,e),setValueIfPropertyExists(t,"fontStyle",e.fontStyle,e),setValueIfPropertyExists(t,"fontWeight",e.fontWeight,e),setValueIfPropertyExists(t,"fontSize",e.fontSize,e),setValueIfPropertyExists(t,"fontFamily",e.fontFamily,e),setValueIfPropertyExists(t,"textAlign",e.textAlign,e),setValueIfPropertyExists(t,"textBaseline",e.textBaseline,e),setValueIfPropertyExists(t,"color",e.color,e),setValueIfPropertyExists(t,"formatter",e.formatter,e),setValueIfPropertyExists(t,"placement",e.placement,e)}function initLineOptions(t,e){setValueIfPropertyExists(t,"stroke",e.stroke,e),setValueIfPropertyExists(t,"strokeWidth",e.strokeWidth,e)}function initAxisOptions(t,e){setValueIfPropertyExists(t,"type",e.type,e),setValueIfPropertyExists(t,"stroke",e.stroke,e),setValueIfPropertyExists(t,"strokeWidth",e.strokeWidth,e)}function initHighlightStyleOptions(t,e){setValueIfPropertyExists(t,"fill",e.fill,e),setValueIfPropertyExists(t,"size",e.size,e),setValueIfPropertyExists(t,"stroke",e.stroke,e),setValueIfPropertyExists(t,"strokeWidth",e.strokeWidth,e)}function initCrosshairsOptions(t,e){t.xLine&&e.xLine&&initCrosshairLineOptions(t.xLine,e.xLine),t.yLine&&e.yLine&&initCrosshairLineOptions(t.yLine,e.yLine)}function initCrosshairLineOptions(t,e){setValueIfPropertyExists(t,"enabled",e.enabled,e),setValueIfPropertyExists(t,"stroke",e.stroke,e),setValueIfPropertyExists(t,"strokeWidth",e.strokeWidth,e),setValueIfPropertyExists(t,"lineDash",e.lineDash,e),setValueIfPropertyExists(t,"lineCap",e.lineCap,e)}var doOnceFlags={};function doOnce(t,e){doOnceFlags[e]||(t(),doOnceFlags[e]=!0)}var offsetValidator=function(t,e,i){if(isNumber(e))return!0;var o="AG Charts: "+t+" must be a number, the value you provided is not a valid number. Using the default of "+i+"px.";return doOnce((function(){return console.warn(o)}),t+" not a number"),!1},validators={xOffset:offsetValidator,yOffset:offsetValidator};function setValueIfPropertyExists(t,e,i,o){if(e in o)if(e in t){var n=validators[e];(!n||n(e,i,t[e]))&&t[e]!==i&&(t[e]=i)}else console.warn("Property "+e+" does not exist on the target object.")}var __extends$1=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__assign=function(){return __assign=Object.assign||function(t){for(var e,i=1,o=arguments.length;i<o;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},__assign.apply(this,arguments)},__decorate$1=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},SparklineCellRenderer=function(t){function e(){return t.call(this,e.TEMPLATE)||this}return __extends$1(e,t),e.prototype.init=function(t){var e=this,i=!0,o=this.resizeObserverService.observeResize(this.getGui(),(function(){var o=e.getGui(),n=o.clientWidth,r=o.clientHeight;if(0!==n&&0!==r)if(i){var s=__assign({data:t.value,width:n,height:r,context:{data:t.data}},t.sparklineOptions);e.sparkline=AgSparkline.create(s,e.sparklineTooltipSingleton.getSparklineTooltip()),e.eSparkline.appendChild(e.sparkline.canvasElement),i=!1}else e.sparkline.width=n,e.sparkline.height=r}));this.addDestroyFunc((function(){return o()}))},e.prototype.refresh=function(t){return!!this.sparkline&&(this.sparkline.data=t.value,!0)},e.prototype.destroy=function(){this.sparkline&&this.sparkline.destroy(),t.prototype.destroy.call(this)},e.TEMPLATE='<div class="ag-sparkline-wrapper">\n            <span ref="eSparkline"></span>\n        </div>',__decorate$1([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eSparkline")],e.prototype,"eSparkline",void 0),__decorate$1([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("resizeObserverService")],e.prototype,"resizeObserverService",void 0),__decorate$1([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("sparklineTooltipSingleton")],e.prototype,"sparklineTooltipSingleton",void 0),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),__decorate=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s},SparklineTooltipSingleton=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.postConstruct=function(){this.tooltip=new SparklineTooltip},e.prototype.getSparklineTooltip=function(){return this.tooltip},e.prototype.destroyTooltip=function(){this.tooltip&&this.tooltip.destroy()},__decorate([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),__decorate([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FXL],e.prototype,"destroyTooltip",null),e=__decorate([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("sparklineTooltipSingleton")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),VERSION="29.3.4",SparklinesModule={version:VERSION,moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.SparklinesModule,beans:[SparklineTooltipSingleton],userComponents:[{componentName:"agSparklineCellRenderer",componentClass:SparklineCellRenderer}],dependantModules:[EnterpriseCoreModule]},AllEnterpriseModules=[ClipboardModule,ColumnsToolPanelModule,ExcelExportModule,FiltersToolPanelModule,GridChartsModule,MasterDetailModule,MenuModule,MultiFilterModule,RangeSelectionModule,RichSelectModule,RowGroupingModule,ServerSideRowModelModule,SetFilterModule,SideBarModule,StatusBarModule,ViewportRowModelModule,SparklinesModule],AllModules=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.F$j.concat(AllEnterpriseModules);ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.registerModules(AllEnterpriseModules)},7e3:(t,e,i)=>{"use strict";i.d(e,{n:()=>g});var o=i(6252),n=i(2262),r=i(1731),s=i(9963);class a{static getComponentDefinition(t,e){let i;return i="string"==typeof t?this.searchForComponentInstance(e,t):{extends:(0,o.aZ)(Object.assign({},t))},i||console.error(`Could not find component with name of ${t}. Is it in Vue.components?`),i.extends?(i.extends.setup&&(i.setup=i.extends.setup),i.extends.props=this.addParamsToProps(i.extends.props)):i.props=this.addParamsToProps(i.props),i}static addParamsToProps(t){return!t||Array.isArray(t)&&-1===t.indexOf("params")?t=["params",...t||[]]:"object"!=typeof t||t.params||(t.params={type:Object}),t}static createAndMountComponent(t,e,i,o){const n=a.getComponentDefinition(t,i);if(!n)return;const{vNode:r,destroy:s,el:l}=this.mount(n,{params:Object.freeze(e)},i,o||{});return{componentInstance:r.component.proxy,element:l,destroy:s}}static mount(t,e,i,n){let r=(0,o.Wm)(t,e);r.appContext=i.$.appContext,r.appContext.provides=Object.assign(Object.assign(Object.assign({},n),r.appContext.provides?r.appContext.provides:{}),i.$parent.$options.provide?i.$parent.$options.provide:{});let a=document.createElement("div");(0,s.render)(r,a);return{vNode:r,destroy:()=>{a&&(0,s.render)(null,a),a=null,r=null},el:a}}static searchForComponentInstance(t,e,i=10,o=!1){let n=null,r=t.$parent,s=0;for(;!n&&r&&r.$options&&++s<i;){const t=r;n=t.$options&&t.$options.components?t.$options.components[e]:null,r=r.$parent}if(!n){const i=t.$.appContext.components;i&&i[e]&&(n=i[e])}return n||o?n:(console.error(`Could not find component with name of ${e}. Is it in Vue.components?`),null)}}class l extends r.Nk3{constructor(t,e){super(),this.parent=t,l.provides||(l.provides=e)}createWrapper(t){const e=this;const i=new class extends c{init(t){super.init(t)}hasMethod(t){return null!=i.getFrameworkComponentInstance()[t]}callMethod(t,e){const o=this.getFrameworkComponentInstance();return i.getFrameworkComponentInstance()[t].apply(o,e)}addMethod(t,e){i[t]=e}overrideProcessing(t){return e.parent.autoParamsRefresh&&"refresh"===t}processMethod(t,e){return"refresh"===t&&(this.getFrameworkComponentInstance().params=e[0]),this.hasMethod(t)?this.callMethod(t,e):"refresh"===t}createComponent(i){return e.createComponent(t,i)}};return i}createComponent(t,e){return a.createAndMountComponent(t,e,this.parent,l.provides)}createMethodProxy(t,e,i){return function(){return t.overrideProcessing(e)?t.processMethod(e,arguments):t.hasMethod(e)?t.callMethod(e,arguments):(i&&console.warn("AG Grid: Framework component is missing the method "+e+"()"),null)}}destroy(){this.parent=null}}class c{getGui(){return this.element}destroy(){this.getFrameworkComponentInstance()&&"function"==typeof this.getFrameworkComponentInstance().destroy&&this.getFrameworkComponentInstance().destroy(),this.unmount()}getFrameworkComponentInstance(){return this.componentInstance}init(t){const{componentInstance:e,element:i,destroy:o}=this.createComponent(t);this.componentInstance=e,this.unmount=o,this.element=i.firstElementChild}}class u extends r.vA3{constructor(t){super(),this.parent=t}frameworkComponent(t,e){let i=a.searchForComponentInstance(this.parent,t,10,!0)?t:null;if(!i&&e&&e[t]){const o=e[t];i=a.searchForComponentInstance(this.parent,o,10,!0)?o:null}return i}isFrameworkComponent(t){return"object"==typeof t}}const h=["rowDataChanged","rowDataUpdated","cellValueChanged","rowValueChanged"],d="onUpdate:modelValue",[p,f]=(()=>{const t={};r.plv.PUBLIC_EVENTS.map((t=>{return`on${(e=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()).charAt(0).toUpperCase()}${e.substring(1,e.length)}`;var e})).forEach((e=>t[e]=void 0));const e={};return r.plv.ALL_PROPERTIES.filter((t=>"gridOptions"!=t)).forEach((i=>{t[i]={},e[i]={handler(t,e){this.processChanges(i,t,e)},deep:"popupParent"!==i&&"context"!==i}})),[t,e]})(),g=(0,o.aZ)({render:()=>(0,o.h)("div"),props:Object.assign({gridOptions:{type:Object,default:()=>({})},autoParamsRefresh:{type:Boolean,default:()=>!1},componentDependencies:{type:Array,default:()=>[]},plugins:[],modules:{type:Array,default:()=>[]},modelValue:{type:Array,default:void 0,required:!1}},p),data:()=>({gridCreated:!1,isDestroyed:!1,gridReadyFired:!1,emitRowModel:void 0}),watch:Object.assign({modelValue:{handler(t,e){this.processChanges("rowData",t,e)},deep:!0}},f),methods:{globalEventListener(t,e){this.isDestroyed||("gridReady"===t&&(this.gridReadyFired=!0),this.updateModelIfUsed(t))},processChanges(t,e,i){if(this.gridCreated){if(this.skipChange(t,e,i))return;const o={};o[t]={currentValue:"rowData"===t?Object.isFrozen(e)?e:(0,n.Xl)((0,n.IU)(e)):e,previousValue:i},r.plv.processOnChange(o,this.gridOptions.api)}},checkForBindingConflicts(){(this.rowData||this.gridOptions.rowData)&&this.modelValue&&console.warn("AG Grid: Using both rowData and v-model. rowData will be ignored.")},getRowData(){const t=[];return this.gridOptions.api.forEachNode((e=>{t.push(e.data)})),t},updateModelIfUsed(t){this.gridReadyFired&&this.$attrs[d]&&-1!==h.indexOf(t)&&this.emitRowModel&&this.emitRowModel()},getRowDataBasedOnBindings(){const t=this,e=t.modelValue;return e||(t.rowData?t.rowData:t.gridOptions.rowData)},getProvides(){let t=(0,o.FN)(),e={};for(;t;)t&&t.provides&&(e=Object.assign(Object.assign({},e),t.provides)),t=t.parent;return e},skipChange(t,e,i){if(this.gridReadyFired&&"rowData"===t&&this.$attrs[d]){if(e===i)return!0;if(e&&i){const t=e,o=i;if(t.length===o.length){for(let e=0;e<t.length;e++)if(t[e]!==o[e])return!1;return!0}}}return!1},debounce(t,e){let i;return()=>{window.clearTimeout(i),i=window.setTimeout((function(){t()}),e)}}},mounted(){this.emitRowModel=this.debounce((()=>{this.$emit("update:modelValue",Object.freeze(this.getRowData()))}),20);const t=this.getProvides(),e=new l(this,t),i=(0,n.Xl)(r.plv.copyAttributesToGridOptions((0,n.IU)(this.gridOptions),this,!0));this.checkForBindingConflicts();const o=this.getRowDataBasedOnBindings();i.rowData=o?Object.isFrozen(o)?o:(0,n.Xl)((0,n.IU)(o)):o;const s={globalEventListener:this.globalEventListener.bind(this),frameworkOverrides:new u(this),providedBeanInstances:{frameworkComponentWrapper:e},modules:this.modules};new r.rjZ(this.$el,i,s),this.gridCreated=!0},unmounted(){this.gridCreated&&(this.gridOptions.api&&this.gridOptions.api.destroy(),this.isDestroyed=!0)}})},1924:(t,e,i)=>{"use strict";var o=i(7141),n=i(5559),r=n(o("String.prototype.indexOf"));t.exports=function(t,e){var i=o(t,!!e);return"function"==typeof i&&r(t,".prototype.")>-1?n(i):i}},5559:(t,e,i)=>{"use strict";var o=i(8612),n=i(7141),r=n("%Function.prototype.apply%"),s=n("%Function.prototype.call%"),a=n("%Reflect.apply%",!0)||o.call(s,r),l=n("%Object.getOwnPropertyDescriptor%",!0),c=n("%Object.defineProperty%",!0),u=n("%Math.max%");if(c)try{c({},"a",{value:1})}catch(t){c=null}t.exports=function(t){var e=a(o,s,arguments);l&&c&&(l(e,"length").configurable&&c(e,"length",{value:1+u(0,t.length-(arguments.length-1))}));return e};var h=function(){return a(o,r,arguments)};c?c(t.exports,"apply",{value:h}):t.exports.apply=h},8168:(t,e,i)=>{const o=i(8874),n={};for(const t of Object.keys(o))n[o[t]]=t;const r={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};t.exports=r;for(const t of Object.keys(r)){if(!("channels"in r[t]))throw new Error("missing channels property: "+t);if(!("labels"in r[t]))throw new Error("missing channel labels property: "+t);if(r[t].labels.length!==r[t].channels)throw new Error("channel and label counts mismatch: "+t);const{channels:e,labels:i}=r[t];delete r[t].channels,delete r[t].labels,Object.defineProperty(r[t],"channels",{value:e}),Object.defineProperty(r[t],"labels",{value:i})}r.rgb.hsl=function(t){const e=t[0]/255,i=t[1]/255,o=t[2]/255,n=Math.min(e,i,o),r=Math.max(e,i,o),s=r-n;let a,l;r===n?a=0:e===r?a=(i-o)/s:i===r?a=2+(o-e)/s:o===r&&(a=4+(e-i)/s),a=Math.min(60*a,360),a<0&&(a+=360);const c=(n+r)/2;return l=r===n?0:c<=.5?s/(r+n):s/(2-r-n),[a,100*l,100*c]},r.rgb.hsv=function(t){let e,i,o,n,r;const s=t[0]/255,a=t[1]/255,l=t[2]/255,c=Math.max(s,a,l),u=c-Math.min(s,a,l),h=function(t){return(c-t)/6/u+.5};return 0===u?(n=0,r=0):(r=u/c,e=h(s),i=h(a),o=h(l),s===c?n=o-i:a===c?n=1/3+e-o:l===c&&(n=2/3+i-e),n<0?n+=1:n>1&&(n-=1)),[360*n,100*r,100*c]},r.rgb.hwb=function(t){const e=t[0],i=t[1];let o=t[2];const n=r.rgb.hsl(t)[0],s=1/255*Math.min(e,Math.min(i,o));return o=1-1/255*Math.max(e,Math.max(i,o)),[n,100*s,100*o]},r.rgb.cmyk=function(t){const e=t[0]/255,i=t[1]/255,o=t[2]/255,n=Math.min(1-e,1-i,1-o);return[100*((1-e-n)/(1-n)||0),100*((1-i-n)/(1-n)||0),100*((1-o-n)/(1-n)||0),100*n]},r.rgb.keyword=function(t){const e=n[t];if(e)return e;let i,r=1/0;for(const e of Object.keys(o)){const n=o[e],l=(a=n,((s=t)[0]-a[0])**2+(s[1]-a[1])**2+(s[2]-a[2])**2);l<r&&(r=l,i=e)}var s,a;return i},r.keyword.rgb=function(t){return o[t]},r.rgb.xyz=function(t){let e=t[0]/255,i=t[1]/255,o=t[2]/255;e=e>.04045?((e+.055)/1.055)**2.4:e/12.92,i=i>.04045?((i+.055)/1.055)**2.4:i/12.92,o=o>.04045?((o+.055)/1.055)**2.4:o/12.92;return[100*(.4124*e+.3576*i+.1805*o),100*(.2126*e+.7152*i+.0722*o),100*(.0193*e+.1192*i+.9505*o)]},r.rgb.lab=function(t){const e=r.rgb.xyz(t);let i=e[0],o=e[1],n=e[2];i/=95.047,o/=100,n/=108.883,i=i>.008856?i**(1/3):7.787*i+16/116,o=o>.008856?o**(1/3):7.787*o+16/116,n=n>.008856?n**(1/3):7.787*n+16/116;return[116*o-16,500*(i-o),200*(o-n)]},r.hsl.rgb=function(t){const e=t[0]/360,i=t[1]/100,o=t[2]/100;let n,r,s;if(0===i)return s=255*o,[s,s,s];n=o<.5?o*(1+i):o+i-o*i;const a=2*o-n,l=[0,0,0];for(let t=0;t<3;t++)r=e+1/3*-(t-1),r<0&&r++,r>1&&r--,s=6*r<1?a+6*(n-a)*r:2*r<1?n:3*r<2?a+(n-a)*(2/3-r)*6:a,l[t]=255*s;return l},r.hsl.hsv=function(t){const e=t[0];let i=t[1]/100,o=t[2]/100,n=i;const r=Math.max(o,.01);o*=2,i*=o<=1?o:2-o,n*=r<=1?r:2-r;return[e,100*(0===o?2*n/(r+n):2*i/(o+i)),100*((o+i)/2)]},r.hsv.rgb=function(t){const e=t[0]/60,i=t[1]/100;let o=t[2]/100;const n=Math.floor(e)%6,r=e-Math.floor(e),s=255*o*(1-i),a=255*o*(1-i*r),l=255*o*(1-i*(1-r));switch(o*=255,n){case 0:return[o,l,s];case 1:return[a,o,s];case 2:return[s,o,l];case 3:return[s,a,o];case 4:return[l,s,o];case 5:return[o,s,a]}},r.hsv.hsl=function(t){const e=t[0],i=t[1]/100,o=t[2]/100,n=Math.max(o,.01);let r,s;s=(2-i)*o;const a=(2-i)*n;return r=i*n,r/=a<=1?a:2-a,r=r||0,s/=2,[e,100*r,100*s]},r.hwb.rgb=function(t){const e=t[0]/360;let i=t[1]/100,o=t[2]/100;const n=i+o;let r;n>1&&(i/=n,o/=n);const s=Math.floor(6*e),a=1-o;r=6*e-s,0!=(1&s)&&(r=1-r);const l=i+r*(a-i);let c,u,h;switch(s){default:case 6:case 0:c=a,u=l,h=i;break;case 1:c=l,u=a,h=i;break;case 2:c=i,u=a,h=l;break;case 3:c=i,u=l,h=a;break;case 4:c=l,u=i,h=a;break;case 5:c=a,u=i,h=l}return[255*c,255*u,255*h]},r.cmyk.rgb=function(t){const e=t[0]/100,i=t[1]/100,o=t[2]/100,n=t[3]/100;return[255*(1-Math.min(1,e*(1-n)+n)),255*(1-Math.min(1,i*(1-n)+n)),255*(1-Math.min(1,o*(1-n)+n))]},r.xyz.rgb=function(t){const e=t[0]/100,i=t[1]/100,o=t[2]/100;let n,r,s;return n=3.2406*e+-1.5372*i+-.4986*o,r=-.9689*e+1.8758*i+.0415*o,s=.0557*e+-.204*i+1.057*o,n=n>.0031308?1.055*n**(1/2.4)-.055:12.92*n,r=r>.0031308?1.055*r**(1/2.4)-.055:12.92*r,s=s>.0031308?1.055*s**(1/2.4)-.055:12.92*s,n=Math.min(Math.max(0,n),1),r=Math.min(Math.max(0,r),1),s=Math.min(Math.max(0,s),1),[255*n,255*r,255*s]},r.xyz.lab=function(t){let e=t[0],i=t[1],o=t[2];e/=95.047,i/=100,o/=108.883,e=e>.008856?e**(1/3):7.787*e+16/116,i=i>.008856?i**(1/3):7.787*i+16/116,o=o>.008856?o**(1/3):7.787*o+16/116;return[116*i-16,500*(e-i),200*(i-o)]},r.lab.xyz=function(t){let e,i,o;i=(t[0]+16)/116,e=t[1]/500+i,o=i-t[2]/200;const n=i**3,r=e**3,s=o**3;return i=n>.008856?n:(i-16/116)/7.787,e=r>.008856?r:(e-16/116)/7.787,o=s>.008856?s:(o-16/116)/7.787,e*=95.047,i*=100,o*=108.883,[e,i,o]},r.lab.lch=function(t){const e=t[0],i=t[1],o=t[2];let n;n=360*Math.atan2(o,i)/2/Math.PI,n<0&&(n+=360);return[e,Math.sqrt(i*i+o*o),n]},r.lch.lab=function(t){const e=t[0],i=t[1],o=t[2]/360*2*Math.PI;return[e,i*Math.cos(o),i*Math.sin(o)]},r.rgb.ansi16=function(t,e=null){const[i,o,n]=t;let s=null===e?r.rgb.hsv(t)[2]:e;if(s=Math.round(s/50),0===s)return 30;let a=30+(Math.round(n/255)<<2|Math.round(o/255)<<1|Math.round(i/255));return 2===s&&(a+=60),a},r.hsv.ansi16=function(t){return r.rgb.ansi16(r.hsv.rgb(t),t[2])},r.rgb.ansi256=function(t){const e=t[0],i=t[1],o=t[2];if(e===i&&i===o)return e<8?16:e>248?231:Math.round((e-8)/247*24)+232;return 16+36*Math.round(e/255*5)+6*Math.round(i/255*5)+Math.round(o/255*5)},r.ansi16.rgb=function(t){let e=t%10;if(0===e||7===e)return t>50&&(e+=3.5),e=e/10.5*255,[e,e,e];const i=.5*(1+~~(t>50));return[(1&e)*i*255,(e>>1&1)*i*255,(e>>2&1)*i*255]},r.ansi256.rgb=function(t){if(t>=232){const e=10*(t-232)+8;return[e,e,e]}let e;t-=16;return[Math.floor(t/36)/5*255,Math.floor((e=t%36)/6)/5*255,e%6/5*255]},r.rgb.hex=function(t){const e=(((255&Math.round(t[0]))<<16)+((255&Math.round(t[1]))<<8)+(255&Math.round(t[2]))).toString(16).toUpperCase();return"000000".substring(e.length)+e},r.hex.rgb=function(t){const e=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];let i=e[0];3===e[0].length&&(i=i.split("").map((t=>t+t)).join(""));const o=parseInt(i,16);return[o>>16&255,o>>8&255,255&o]},r.rgb.hcg=function(t){const e=t[0]/255,i=t[1]/255,o=t[2]/255,n=Math.max(Math.max(e,i),o),r=Math.min(Math.min(e,i),o),s=n-r;let a,l;return a=s<1?r/(1-s):0,l=s<=0?0:n===e?(i-o)/s%6:n===i?2+(o-e)/s:4+(e-i)/s,l/=6,l%=1,[360*l,100*s,100*a]},r.hsl.hcg=function(t){const e=t[1]/100,i=t[2]/100,o=i<.5?2*e*i:2*e*(1-i);let n=0;return o<1&&(n=(i-.5*o)/(1-o)),[t[0],100*o,100*n]},r.hsv.hcg=function(t){const e=t[1]/100,i=t[2]/100,o=e*i;let n=0;return o<1&&(n=(i-o)/(1-o)),[t[0],100*o,100*n]},r.hcg.rgb=function(t){const e=t[0]/360,i=t[1]/100,o=t[2]/100;if(0===i)return[255*o,255*o,255*o];const n=[0,0,0],r=e%1*6,s=r%1,a=1-s;let l=0;switch(Math.floor(r)){case 0:n[0]=1,n[1]=s,n[2]=0;break;case 1:n[0]=a,n[1]=1,n[2]=0;break;case 2:n[0]=0,n[1]=1,n[2]=s;break;case 3:n[0]=0,n[1]=a,n[2]=1;break;case 4:n[0]=s,n[1]=0,n[2]=1;break;default:n[0]=1,n[1]=0,n[2]=a}return l=(1-i)*o,[255*(i*n[0]+l),255*(i*n[1]+l),255*(i*n[2]+l)]},r.hcg.hsv=function(t){const e=t[1]/100,i=e+t[2]/100*(1-e);let o=0;return i>0&&(o=e/i),[t[0],100*o,100*i]},r.hcg.hsl=function(t){const e=t[1]/100,i=t[2]/100*(1-e)+.5*e;let o=0;return i>0&&i<.5?o=e/(2*i):i>=.5&&i<1&&(o=e/(2*(1-i))),[t[0],100*o,100*i]},r.hcg.hwb=function(t){const e=t[1]/100,i=e+t[2]/100*(1-e);return[t[0],100*(i-e),100*(1-i)]},r.hwb.hcg=function(t){const e=t[1]/100,i=1-t[2]/100,o=i-e;let n=0;return o<1&&(n=(i-o)/(1-o)),[t[0],100*o,100*n]},r.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]},r.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]},r.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]},r.gray.hsl=function(t){return[0,0,t[0]]},r.gray.hsv=r.gray.hsl,r.gray.hwb=function(t){return[0,100,t[0]]},r.gray.cmyk=function(t){return[0,0,0,t[0]]},r.gray.lab=function(t){return[t[0],0,0]},r.gray.hex=function(t){const e=255&Math.round(t[0]/100*255),i=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".substring(i.length)+i},r.rgb.gray=function(t){return[(t[0]+t[1]+t[2])/3/255*100]}},2085:(t,e,i)=>{const o=i(8168),n=i(4111),r={};Object.keys(o).forEach((t=>{r[t]={},Object.defineProperty(r[t],"channels",{value:o[t].channels}),Object.defineProperty(r[t],"labels",{value:o[t].labels});const e=n(t);Object.keys(e).forEach((i=>{const o=e[i];r[t][i]=function(t){const e=function(...e){const i=e[0];if(null==i)return i;i.length>1&&(e=i);const o=t(e);if("object"==typeof o)for(let t=o.length,e=0;e<t;e++)o[e]=Math.round(o[e]);return o};return"conversion"in t&&(e.conversion=t.conversion),e}(o),r[t][i].raw=function(t){const e=function(...e){const i=e[0];return null==i?i:(i.length>1&&(e=i),t(e))};return"conversion"in t&&(e.conversion=t.conversion),e}(o)}))})),t.exports=r},4111:(t,e,i)=>{const o=i(8168);function n(t){const e=function(){const t={},e=Object.keys(o);for(let i=e.length,o=0;o<i;o++)t[e[o]]={distance:-1,parent:null};return t}(),i=[t];for(e[t].distance=0;i.length;){const t=i.pop(),n=Object.keys(o[t]);for(let o=n.length,r=0;r<o;r++){const o=n[r],s=e[o];-1===s.distance&&(s.distance=e[t].distance+1,s.parent=t,i.unshift(o))}}return e}function r(t,e){return function(i){return e(t(i))}}function s(t,e){const i=[e[t].parent,t];let n=o[e[t].parent][t],s=e[t].parent;for(;e[s].parent;)i.unshift(e[s].parent),n=r(o[e[s].parent][s],n),s=e[s].parent;return n.conversion=i,n}t.exports=function(t){const e=n(t),i={},o=Object.keys(e);for(let t=o.length,n=0;n<t;n++){const t=o[n];null!==e[t].parent&&(i[t]=s(t,e))}return i}},8874:t=>{"use strict";t.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},9818:(t,e,i)=>{var o=i(8874),n=i(6851),r=Object.hasOwnProperty,s=Object.create(null);for(var a in o)r.call(o,a)&&(s[o[a]]=a);var l=t.exports={to:{},get:{}};function c(t,e,i){return Math.min(Math.max(e,t),i)}function u(t){var e=Math.round(t).toString(16).toUpperCase();return e.length<2?"0"+e:e}l.get=function(t){var e,i;switch(t.substring(0,3).toLowerCase()){case"hsl":e=l.get.hsl(t),i="hsl";break;case"hwb":e=l.get.hwb(t),i="hwb";break;default:e=l.get.rgb(t),i="rgb"}return e?{model:i,value:e}:null},l.get.rgb=function(t){if(!t)return null;var e,i,n,s=[0,0,0,1];if(e=t.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(n=e[2],e=e[1],i=0;i<3;i++){var a=2*i;s[i]=parseInt(e.slice(a,a+2),16)}n&&(s[3]=parseInt(n,16)/255)}else if(e=t.match(/^#([a-f0-9]{3,4})$/i)){for(n=(e=e[1])[3],i=0;i<3;i++)s[i]=parseInt(e[i]+e[i],16);n&&(s[3]=parseInt(n+n,16)/255)}else if(e=t.match(/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)){for(i=0;i<3;i++)s[i]=parseInt(e[i+1],0);e[4]&&(e[5]?s[3]=.01*parseFloat(e[4]):s[3]=parseFloat(e[4]))}else{if(!(e=t.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)))return(e=t.match(/^(\w+)$/))?"transparent"===e[1]?[0,0,0,0]:r.call(o,e[1])?((s=o[e[1]])[3]=1,s):null:null;for(i=0;i<3;i++)s[i]=Math.round(2.55*parseFloat(e[i+1]));e[4]&&(e[5]?s[3]=.01*parseFloat(e[4]):s[3]=parseFloat(e[4]))}for(i=0;i<3;i++)s[i]=c(s[i],0,255);return s[3]=c(s[3],0,1),s},l.get.hsl=function(t){if(!t)return null;var e=t.match(/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(e){var i=parseFloat(e[4]);return[(parseFloat(e[1])%360+360)%360,c(parseFloat(e[2]),0,100),c(parseFloat(e[3]),0,100),c(isNaN(i)?1:i,0,1)]}return null},l.get.hwb=function(t){if(!t)return null;var e=t.match(/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(e){var i=parseFloat(e[4]);return[(parseFloat(e[1])%360+360)%360,c(parseFloat(e[2]),0,100),c(parseFloat(e[3]),0,100),c(isNaN(i)?1:i,0,1)]}return null},l.to.hex=function(){var t=n(arguments);return"#"+u(t[0])+u(t[1])+u(t[2])+(t[3]<1?u(Math.round(255*t[3])):"")},l.to.rgb=function(){var t=n(arguments);return t.length<4||1===t[3]?"rgb("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+")":"rgba("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+", "+t[3]+")"},l.to.rgb.percent=function(){var t=n(arguments),e=Math.round(t[0]/255*100),i=Math.round(t[1]/255*100),o=Math.round(t[2]/255*100);return t.length<4||1===t[3]?"rgb("+e+"%, "+i+"%, "+o+"%)":"rgba("+e+"%, "+i+"%, "+o+"%, "+t[3]+")"},l.to.hsl=function(){var t=n(arguments);return t.length<4||1===t[3]?"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)":"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+t[3]+")"},l.to.hwb=function(){var t=n(arguments),e="";return t.length>=4&&1!==t[3]&&(e=", "+t[3]),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+e+")"},l.to.keyword=function(t){return s[t.slice(0,3)]}},6767:(t,e,i)=>{const o=i(9818),n=i(2085),r=["keyword","gray","hex"],s={};for(const t of Object.keys(n))s[[...n[t].labels].sort().join("")]=t;const a={};function l(t,e){if(!(this instanceof l))return new l(t,e);if(e&&e in r&&(e=null),e&&!(e in n))throw new Error("Unknown model: "+e);let i,c;if(null==t)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(t instanceof l)this.model=t.model,this.color=[...t.color],this.valpha=t.valpha;else if("string"==typeof t){const e=o.get(t);if(null===e)throw new Error("Unable to parse color from string: "+t);this.model=e.model,c=n[this.model].channels,this.color=e.value.slice(0,c),this.valpha="number"==typeof e.value[c]?e.value[c]:1}else if(t.length>0){this.model=e||"rgb",c=n[this.model].channels;const i=Array.prototype.slice.call(t,0,c);this.color=d(i,c),this.valpha="number"==typeof t[c]?t[c]:1}else if("number"==typeof t)this.model="rgb",this.color=[t>>16&255,t>>8&255,255&t],this.valpha=1;else{this.valpha=1;const e=Object.keys(t);"alpha"in t&&(e.splice(e.indexOf("alpha"),1),this.valpha="number"==typeof t.alpha?t.alpha:0);const o=e.sort().join("");if(!(o in s))throw new Error("Unable to parse color from object: "+JSON.stringify(t));this.model=s[o];const{labels:r}=n[this.model],a=[];for(i=0;i<r.length;i++)a.push(t[r[i]]);this.color=d(a)}if(a[this.model])for(c=n[this.model].channels,i=0;i<c;i++){const t=a[this.model][i];t&&(this.color[i]=t(this.color[i]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}l.prototype={toString(){return this.string()},toJSON(){return this[this.model]()},string(t){let e=this.model in o.to?this:this.rgb();e=e.round("number"==typeof t?t:1);const i=1===e.valpha?e.color:[...e.color,this.valpha];return o.to[e.model](i)},percentString(t){const e=this.rgb().round("number"==typeof t?t:1),i=1===e.valpha?e.color:[...e.color,this.valpha];return o.to.rgb.percent(i)},array(){return 1===this.valpha?[...this.color]:[...this.color,this.valpha]},object(){const t={},{channels:e}=n[this.model],{labels:i}=n[this.model];for(let o=0;o<e;o++)t[i[o]]=this.color[o];return 1!==this.valpha&&(t.alpha=this.valpha),t},unitArray(){const t=this.rgb().color;return t[0]/=255,t[1]/=255,t[2]/=255,1!==this.valpha&&t.push(this.valpha),t},unitObject(){const t=this.rgb().object();return t.r/=255,t.g/=255,t.b/=255,1!==this.valpha&&(t.alpha=this.valpha),t},round(t){return t=Math.max(t||0,0),new l([...this.color.map(c(t)),this.valpha],this.model)},alpha(t){return void 0!==t?new l([...this.color,Math.max(0,Math.min(1,t))],this.model):this.valpha},red:u("rgb",0,h(255)),green:u("rgb",1,h(255)),blue:u("rgb",2,h(255)),hue:u(["hsl","hsv","hsl","hwb","hcg"],0,(t=>(t%360+360)%360)),saturationl:u("hsl",1,h(100)),lightness:u("hsl",2,h(100)),saturationv:u("hsv",1,h(100)),value:u("hsv",2,h(100)),chroma:u("hcg",1,h(100)),gray:u("hcg",2,h(100)),white:u("hwb",1,h(100)),wblack:u("hwb",2,h(100)),cyan:u("cmyk",0,h(100)),magenta:u("cmyk",1,h(100)),yellow:u("cmyk",2,h(100)),black:u("cmyk",3,h(100)),x:u("xyz",0,h(95.047)),y:u("xyz",1,h(100)),z:u("xyz",2,h(108.833)),l:u("lab",0,h(100)),a:u("lab",1),b:u("lab",2),keyword(t){return void 0!==t?new l(t):n[this.model].keyword(this.color)},hex(t){return void 0!==t?new l(t):o.to.hex(this.rgb().round().color)},hexa(t){if(void 0!==t)return new l(t);const e=this.rgb().round().color;let i=Math.round(255*this.valpha).toString(16).toUpperCase();return 1===i.length&&(i="0"+i),o.to.hex(e)+i},rgbNumber(){const t=this.rgb().color;return(255&t[0])<<16|(255&t[1])<<8|255&t[2]},luminosity(){const t=this.rgb().color,e=[];for(const[i,o]of t.entries()){const t=o/255;e[i]=t<=.04045?t/12.92:((t+.055)/1.055)**2.4}return.2126*e[0]+.7152*e[1]+.0722*e[2]},contrast(t){const e=this.luminosity(),i=t.luminosity();return e>i?(e+.05)/(i+.05):(i+.05)/(e+.05)},level(t){const e=this.contrast(t);return e>=7?"AAA":e>=4.5?"AA":""},isDark(){const t=this.rgb().color;return(2126*t[0]+7152*t[1]+722*t[2])/1e4<128},isLight(){return!this.isDark()},negate(){const t=this.rgb();for(let e=0;e<3;e++)t.color[e]=255-t.color[e];return t},lighten(t){const e=this.hsl();return e.color[2]+=e.color[2]*t,e},darken(t){const e=this.hsl();return e.color[2]-=e.color[2]*t,e},saturate(t){const e=this.hsl();return e.color[1]+=e.color[1]*t,e},desaturate(t){const e=this.hsl();return e.color[1]-=e.color[1]*t,e},whiten(t){const e=this.hwb();return e.color[1]+=e.color[1]*t,e},blacken(t){const e=this.hwb();return e.color[2]+=e.color[2]*t,e},grayscale(){const t=this.rgb().color,e=.3*t[0]+.59*t[1]+.11*t[2];return l.rgb(e,e,e)},fade(t){return this.alpha(this.valpha-this.valpha*t)},opaquer(t){return this.alpha(this.valpha+this.valpha*t)},rotate(t){const e=this.hsl();let i=e.color[0];return i=(i+t)%360,i=i<0?360+i:i,e.color[0]=i,e},mix(t,e){if(!t||!t.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof t);const i=t.rgb(),o=this.rgb(),n=void 0===e?.5:e,r=2*n-1,s=i.alpha()-o.alpha(),a=((r*s==-1?r:(r+s)/(1+r*s))+1)/2,c=1-a;return l.rgb(a*i.red()+c*o.red(),a*i.green()+c*o.green(),a*i.blue()+c*o.blue(),i.alpha()*n+o.alpha()*(1-n))}};for(const t of Object.keys(n)){if(r.includes(t))continue;const{channels:e}=n[t];l.prototype[t]=function(...e){return this.model===t?new l(this):e.length>0?new l(e,t):new l([...(i=n[this.model][t].raw(this.color),Array.isArray(i)?i:[i]),this.valpha],t);var i},l[t]=function(...i){let o=i[0];return"number"==typeof o&&(o=d(i,e)),new l(o,t)}}function c(t){return function(e){return function(t,e){return Number(t.toFixed(e))}(e,t)}}function u(t,e,i){t=Array.isArray(t)?t:[t];for(const o of t)(a[o]||(a[o]=[]))[e]=i;return t=t[0],function(o){let n;return void 0!==o?(i&&(o=i(o)),n=this[t](),n.color[e]=o,n):(n=this[t]().color[e],i&&(n=i(n)),n)}}function h(t){return function(e){return Math.max(0,Math.min(t,e))}}function d(t,e){for(let i=0;i<e;i++)"number"!=typeof t[i]&&(t[i]=0);return t}t.exports=l},9662:(t,e,i)=>{var o=i(614),n=i(6330),r=TypeError;t.exports=function(t){if(o(t))return t;throw r(n(t)+" is not a function")}},6077:(t,e,i)=>{var o=i(614),n=String,r=TypeError;t.exports=function(t){if("object"==typeof t||o(t))return t;throw r("Can't set "+n(t)+" as a prototype")}},9670:(t,e,i)=>{var o=i(111),n=String,r=TypeError;t.exports=function(t){if(o(t))return t;throw r(n(t)+" is not an object")}},1318:(t,e,i)=>{var o=i(5656),n=i(1400),r=i(6244),s=function(t){return function(e,i,s){var a,l=o(e),c=r(l),u=n(s,c);if(t&&i!=i){for(;c>u;)if((a=l[u++])!=a)return!0}else for(;c>u;u++)if((t||u in l)&&l[u]===i)return t||u||0;return!t&&-1}};t.exports={includes:s(!0),indexOf:s(!1)}},3658:(t,e,i)=>{"use strict";var o=i(9781),n=i(3157),r=TypeError,s=Object.getOwnPropertyDescriptor,a=o&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}();t.exports=a?function(t,e){if(n(t)&&!s(t,"length").writable)throw r("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e}},206:(t,e,i)=>{var o=i(1702);t.exports=o([].slice)},4326:(t,e,i)=>{var o=i(1702),n=o({}.toString),r=o("".slice);t.exports=function(t){return r(n(t),8,-1)}},648:(t,e,i)=>{var o=i(1694),n=i(614),r=i(4326),s=i(5112)("toStringTag"),a=Object,l="Arguments"==r(function(){return arguments}());t.exports=o?r:function(t){var e,i,o;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=function(t,e){try{return t[e]}catch(t){}}(e=a(t),s))?i:l?r(e):"Object"==(o=r(e))&&n(e.callee)?"Arguments":o}},9920:(t,e,i)=>{var o=i(2597),n=i(3887),r=i(1236),s=i(3070);t.exports=function(t,e,i){for(var a=n(e),l=s.f,c=r.f,u=0;u<a.length;u++){var h=a[u];o(t,h)||i&&o(i,h)||l(t,h,c(e,h))}}},8880:(t,e,i)=>{var o=i(9781),n=i(3070),r=i(9114);t.exports=o?function(t,e,i){return n.f(t,e,r(1,i))}:function(t,e,i){return t[e]=i,t}},9114:t=>{t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},8052:(t,e,i)=>{var o=i(614),n=i(3070),r=i(6339),s=i(3072);t.exports=function(t,e,i,a){a||(a={});var l=a.enumerable,c=void 0!==a.name?a.name:e;if(o(i)&&r(i,c,a),a.global)l?t[e]=i:s(e,i);else{try{a.unsafe?t[e]&&(l=!0):delete t[e]}catch(t){}l?t[e]=i:n.f(t,e,{value:i,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})}return t}},3072:(t,e,i)=>{var o=i(7854),n=Object.defineProperty;t.exports=function(t,e){try{n(o,t,{value:e,configurable:!0,writable:!0})}catch(i){o[t]=e}return e}},9781:(t,e,i)=>{var o=i(7293);t.exports=!o((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},4154:t=>{var e="object"==typeof document&&document.all,i=void 0===e&&void 0!==e;t.exports={all:e,IS_HTMLDDA:i}},317:(t,e,i)=>{var o=i(7854),n=i(111),r=o.document,s=n(r)&&n(r.createElement);t.exports=function(t){return s?r.createElement(t):{}}},7207:t=>{var e=TypeError;t.exports=function(t){if(t>9007199254740991)throw e("Maximum allowed index exceeded");return t}},9363:t=>{t.exports="function"==typeof Bun&&Bun&&"string"==typeof Bun.version},6833:(t,e,i)=>{var o=i(8113);t.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(o)},5268:(t,e,i)=>{var o=i(4326);t.exports="undefined"!=typeof process&&"process"==o(process)},8113:t=>{t.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},7392:(t,e,i)=>{var o,n,r=i(7854),s=i(8113),a=r.process,l=r.Deno,c=a&&a.versions||l&&l.version,u=c&&c.v8;u&&(n=(o=u.split("."))[0]>0&&o[0]<4?1:+(o[0]+o[1])),!n&&s&&(!(o=s.match(/Edge\/(\d+)/))||o[1]>=74)&&(o=s.match(/Chrome\/(\d+)/))&&(n=+o[1]),t.exports=n},748:t=>{t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},1060:(t,e,i)=>{var o=i(1702),n=Error,r=o("".replace),s=String(n("zxcasd").stack),a=/\n\s*at [^:]*:[^\n]*/,l=a.test(s);t.exports=function(t,e){if(l&&"string"==typeof t&&!n.prepareStackTrace)for(;e--;)t=r(t,a,"");return t}},5392:(t,e,i)=>{var o=i(8880),n=i(1060),r=i(2914),s=Error.captureStackTrace;t.exports=function(t,e,i,a){r&&(s?s(t,e):o(t,"stack",n(i,a)))}},2914:(t,e,i)=>{var o=i(7293),n=i(9114);t.exports=!o((function(){var t=Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",n(1,7)),7!==t.stack)}))},2109:(t,e,i)=>{var o=i(7854),n=i(1236).f,r=i(8880),s=i(8052),a=i(3072),l=i(9920),c=i(4705);t.exports=function(t,e){var i,u,h,d,p,f=t.target,g=t.global,m=t.stat;if(i=g?o:m?o[f]||a(f,{}):(o[f]||{}).prototype)for(u in e){if(d=e[u],h=t.dontCallGetSet?(p=n(i,u))&&p.value:i[u],!c(g?u:f+(m?".":"#")+u,t.forced)&&void 0!==h){if(typeof d==typeof h)continue;l(d,h)}(t.sham||h&&h.sham)&&r(d,"sham",!0),s(i,u,d,t)}}},7293:t=>{t.exports=function(t){try{return!!t()}catch(t){return!0}}},2104:(t,e,i)=>{var o=i(4374),n=Function.prototype,r=n.apply,s=n.call;t.exports="object"==typeof Reflect&&Reflect.apply||(o?s.bind(r):function(){return s.apply(r,arguments)})},9974:(t,e,i)=>{var o=i(1470),n=i(9662),r=i(4374),s=o(o.bind);t.exports=function(t,e){return n(t),void 0===e?t:r?s(t,e):function(){return t.apply(e,arguments)}}},4374:(t,e,i)=>{var o=i(7293);t.exports=!o((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},6916:(t,e,i)=>{var o=i(4374),n=Function.prototype.call;t.exports=o?n.bind(n):function(){return n.apply(n,arguments)}},6530:(t,e,i)=>{var o=i(9781),n=i(2597),r=Function.prototype,s=o&&Object.getOwnPropertyDescriptor,a=n(r,"name"),l=a&&"something"===function(){}.name,c=a&&(!o||o&&s(r,"name").configurable);t.exports={EXISTS:a,PROPER:l,CONFIGURABLE:c}},5668:(t,e,i)=>{var o=i(1702),n=i(9662);t.exports=function(t,e,i){try{return o(n(Object.getOwnPropertyDescriptor(t,e)[i]))}catch(t){}}},1470:(t,e,i)=>{var o=i(4326),n=i(1702);t.exports=function(t){if("Function"===o(t))return n(t)}},1702:(t,e,i)=>{var o=i(4374),n=Function.prototype,r=n.call,s=o&&n.bind.bind(r,r);t.exports=o?s:function(t){return function(){return r.apply(t,arguments)}}},5005:(t,e,i)=>{var o=i(7854),n=i(614);t.exports=function(t,e){return arguments.length<2?(i=o[t],n(i)?i:void 0):o[t]&&o[t][e];var i}},8173:(t,e,i)=>{var o=i(9662),n=i(8554);t.exports=function(t,e){var i=t[e];return n(i)?void 0:o(i)}},7854:(t,e,i)=>{var o=function(t){return t&&t.Math==Math&&t};t.exports=o("object"==typeof globalThis&&globalThis)||o("object"==typeof window&&window)||o("object"==typeof self&&self)||o("object"==typeof i.g&&i.g)||function(){return this}()||Function("return this")()},2597:(t,e,i)=>{var o=i(1702),n=i(7908),r=o({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return r(n(t),e)}},3501:t=>{t.exports={}},490:(t,e,i)=>{var o=i(5005);t.exports=o("document","documentElement")},4664:(t,e,i)=>{var o=i(9781),n=i(7293),r=i(317);t.exports=!o&&!n((function(){return 7!=Object.defineProperty(r("div"),"a",{get:function(){return 7}}).a}))},8361:(t,e,i)=>{var o=i(1702),n=i(7293),r=i(4326),s=Object,a=o("".split);t.exports=n((function(){return!s("z").propertyIsEnumerable(0)}))?function(t){return"String"==r(t)?a(t,""):s(t)}:s},9587:(t,e,i)=>{var o=i(614),n=i(111),r=i(7674);t.exports=function(t,e,i){var s,a;return r&&o(s=e.constructor)&&s!==i&&n(a=s.prototype)&&a!==i.prototype&&r(t,a),t}},2788:(t,e,i)=>{var o=i(1702),n=i(614),r=i(5465),s=o(Function.toString);n(r.inspectSource)||(r.inspectSource=function(t){return s(t)}),t.exports=r.inspectSource},8340:(t,e,i)=>{var o=i(111),n=i(8880);t.exports=function(t,e){o(e)&&"cause"in e&&n(t,"cause",e.cause)}},9909:(t,e,i)=>{var o,n,r,s=i(4811),a=i(7854),l=i(111),c=i(8880),u=i(2597),h=i(5465),d=i(6200),p=i(3501),f="Object already initialized",g=a.TypeError,m=a.WeakMap;if(s||h.state){var y=h.state||(h.state=new m);y.get=y.get,y.has=y.has,y.set=y.set,o=function(t,e){if(y.has(t))throw g(f);return e.facade=t,y.set(t,e),e},n=function(t){return y.get(t)||{}},r=function(t){return y.has(t)}}else{var v=d("state");p[v]=!0,o=function(t,e){if(u(t,v))throw g(f);return e.facade=t,c(t,v,e),e},n=function(t){return u(t,v)?t[v]:{}},r=function(t){return u(t,v)}}t.exports={set:o,get:n,has:r,enforce:function(t){return r(t)?n(t):o(t,{})},getterFor:function(t){return function(e){var i;if(!l(e)||(i=n(e)).type!==t)throw g("Incompatible receiver, "+t+" required");return i}}}},3157:(t,e,i)=>{var o=i(4326);t.exports=Array.isArray||function(t){return"Array"==o(t)}},614:(t,e,i)=>{var o=i(4154),n=o.all;t.exports=o.IS_HTMLDDA?function(t){return"function"==typeof t||t===n}:function(t){return"function"==typeof t}},4705:(t,e,i)=>{var o=i(7293),n=i(614),r=/#|\.prototype\./,s=function(t,e){var i=l[a(t)];return i==u||i!=c&&(n(e)?o(e):!!e)},a=s.normalize=function(t){return String(t).replace(r,".").toLowerCase()},l=s.data={},c=s.NATIVE="N",u=s.POLYFILL="P";t.exports=s},8554:t=>{t.exports=function(t){return null==t}},111:(t,e,i)=>{var o=i(614),n=i(4154),r=n.all;t.exports=n.IS_HTMLDDA?function(t){return"object"==typeof t?null!==t:o(t)||t===r}:function(t){return"object"==typeof t?null!==t:o(t)}},5564:t=>{t.exports=!1},2190:(t,e,i)=>{var o=i(5005),n=i(614),r=i(7976),s=i(3307),a=Object;t.exports=s?function(t){return"symbol"==typeof t}:function(t){var e=o("Symbol");return n(e)&&r(e.prototype,a(t))}},6244:(t,e,i)=>{var o=i(7466);t.exports=function(t){return o(t.length)}},6339:(t,e,i)=>{var o=i(1702),n=i(7293),r=i(614),s=i(2597),a=i(9781),l=i(6530).CONFIGURABLE,c=i(2788),u=i(9909),h=u.enforce,d=u.get,p=String,f=Object.defineProperty,g=o("".slice),m=o("".replace),y=o([].join),v=a&&!n((function(){return 8!==f((function(){}),"length",{value:8}).length})),_=String(String).split("String"),C=t.exports=function(t,e,i){"Symbol("===g(p(e),0,7)&&(e="["+m(p(e),/^Symbol\(([^)]*)\)/,"$1")+"]"),i&&i.getter&&(e="get "+e),i&&i.setter&&(e="set "+e),(!s(t,"name")||l&&t.name!==e)&&(a?f(t,"name",{value:e,configurable:!0}):t.name=e),v&&i&&s(i,"arity")&&t.length!==i.arity&&f(t,"length",{value:i.arity});try{i&&s(i,"constructor")&&i.constructor?a&&f(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}var o=h(t);return s(o,"source")||(o.source=y(_,"string"==typeof e?e:"")),t};Function.prototype.toString=C((function(){return r(this)&&d(this).source||c(this)}),"toString")},4758:t=>{var e=Math.ceil,i=Math.floor;t.exports=Math.trunc||function(t){var o=+t;return(o>0?i:e)(o)}},6277:(t,e,i)=>{var o=i(1340);t.exports=function(t,e){return void 0===t?arguments.length<2?"":e:o(t)}},3070:(t,e,i)=>{var o=i(9781),n=i(4664),r=i(3353),s=i(9670),a=i(4948),l=TypeError,c=Object.defineProperty,u=Object.getOwnPropertyDescriptor,h="enumerable",d="configurable",p="writable";e.f=o?r?function(t,e,i){if(s(t),e=a(e),s(i),"function"==typeof t&&"prototype"===e&&"value"in i&&p in i&&!i[p]){var o=u(t,e);o&&o[p]&&(t[e]=i.value,i={configurable:d in i?i[d]:o[d],enumerable:h in i?i[h]:o[h],writable:!1})}return c(t,e,i)}:c:function(t,e,i){if(s(t),e=a(e),s(i),n)try{return c(t,e,i)}catch(t){}if("get"in i||"set"in i)throw l("Accessors not supported");return"value"in i&&(t[e]=i.value),t}},1236:(t,e,i)=>{var o=i(9781),n=i(6916),r=i(5296),s=i(9114),a=i(5656),l=i(4948),c=i(2597),u=i(4664),h=Object.getOwnPropertyDescriptor;e.f=o?h:function(t,e){if(t=a(t),e=l(e),u)try{return h(t,e)}catch(t){}if(c(t,e))return s(!n(r.f,t,e),t[e])}},8006:(t,e,i)=>{var o=i(6324),n=i(748).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return o(t,n)}},5181:(t,e)=>{e.f=Object.getOwnPropertySymbols},7976:(t,e,i)=>{var o=i(1702);t.exports=o({}.isPrototypeOf)},6324:(t,e,i)=>{var o=i(1702),n=i(2597),r=i(5656),s=i(1318).indexOf,a=i(3501),l=o([].push);t.exports=function(t,e){var i,o=r(t),c=0,u=[];for(i in o)!n(a,i)&&n(o,i)&&l(u,i);for(;e.length>c;)n(o,i=e[c++])&&(~s(u,i)||l(u,i));return u}},5296:(t,e)=>{"use strict";var i={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,n=o&&!i.call({1:2},1);e.f=n?function(t){var e=o(this,t);return!!e&&e.enumerable}:i},7674:(t,e,i)=>{var o=i(5668),n=i(9670),r=i(6077);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,i={};try{(t=o(Object.prototype,"__proto__","set"))(i,[]),e=i instanceof Array}catch(t){}return function(i,o){return n(i),r(o),e?t(i,o):i.__proto__=o,i}}():void 0)},2140:(t,e,i)=>{var o=i(6916),n=i(614),r=i(111),s=TypeError;t.exports=function(t,e){var i,a;if("string"===e&&n(i=t.toString)&&!r(a=o(i,t)))return a;if(n(i=t.valueOf)&&!r(a=o(i,t)))return a;if("string"!==e&&n(i=t.toString)&&!r(a=o(i,t)))return a;throw s("Can't convert object to primitive value")}},3887:(t,e,i)=>{var o=i(5005),n=i(1702),r=i(8006),s=i(5181),a=i(9670),l=n([].concat);t.exports=o("Reflect","ownKeys")||function(t){var e=r.f(a(t)),i=s.f;return i?l(e,i(t)):e}},2626:(t,e,i)=>{var o=i(3070).f;t.exports=function(t,e,i){i in t||o(t,i,{configurable:!0,get:function(){return e[i]},set:function(t){e[i]=t}})}},4488:(t,e,i)=>{var o=i(8554),n=TypeError;t.exports=function(t){if(o(t))throw n("Can't call method on "+t);return t}},7152:(t,e,i)=>{"use strict";var o=i(7854),n=i(2104),r=i(614),s=i(9363),a=i(8113),l=i(206),c=i(8053),u=o.Function,h=/MSIE .\./.test(a)||s&&function(){var t=o.Bun.version.split(".");return t.length<3||0==t[0]&&(t[1]<3||3==t[1]&&0==t[2])}();t.exports=function(t,e){var i=e?2:1;return h?function(o,s){var a=c(arguments.length,1)>i,h=r(o)?o:u(o),d=a?l(arguments,i):[],p=a?function(){n(h,this,d)}:h;return e?t(p,s):t(p)}:t}},6200:(t,e,i)=>{var o=i(2309),n=i(9711),r=o("keys");t.exports=function(t){return r[t]||(r[t]=n(t))}},5465:(t,e,i)=>{var o=i(7854),n=i(3072),r="__core-js_shared__",s=o[r]||n(r,{});t.exports=s},2309:(t,e,i)=>{var o=i(5564),n=i(5465);(t.exports=function(t,e){return n[t]||(n[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.30.1",mode:o?"pure":"global",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.30.1/LICENSE",source:"https://github.com/zloirock/core-js"})},6293:(t,e,i)=>{var o=i(7392),n=i(7293);t.exports=!!Object.getOwnPropertySymbols&&!n((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&o&&o<41}))},261:(t,e,i)=>{var o,n,r,s,a=i(7854),l=i(2104),c=i(9974),u=i(614),h=i(2597),d=i(7293),p=i(490),f=i(206),g=i(317),m=i(8053),y=i(6833),v=i(5268),_=a.setImmediate,C=a.clearImmediate,b=a.process,E=a.Dispatch,S=a.Function,w=a.MessageChannel,O=a.String,x=0,P={},T="onreadystatechange";d((function(){o=a.location}));var M=function(t){if(h(P,t)){var e=P[t];delete P[t],e()}},D=function(t){return function(){M(t)}},A=function(t){M(t.data)},R=function(t){a.postMessage(O(t),o.protocol+"//"+o.host)};_&&C||(_=function(t){m(arguments.length,1);var e=u(t)?t:S(t),i=f(arguments,1);return P[++x]=function(){l(e,void 0,i)},n(x),x},C=function(t){delete P[t]},v?n=function(t){b.nextTick(D(t))}:E&&E.now?n=function(t){E.now(D(t))}:w&&!y?(s=(r=new w).port2,r.port1.onmessage=A,n=c(s.postMessage,s)):a.addEventListener&&u(a.postMessage)&&!a.importScripts&&o&&"file:"!==o.protocol&&!d(R)?(n=R,a.addEventListener("message",A,!1)):n=T in g("script")?function(t){p.appendChild(g("script"))[T]=function(){p.removeChild(this),M(t)}}:function(t){setTimeout(D(t),0)}),t.exports={set:_,clear:C}},1400:(t,e,i)=>{var o=i(9303),n=Math.max,r=Math.min;t.exports=function(t,e){var i=o(t);return i<0?n(i+e,0):r(i,e)}},5656:(t,e,i)=>{var o=i(8361),n=i(4488);t.exports=function(t){return o(n(t))}},9303:(t,e,i)=>{var o=i(4758);t.exports=function(t){var e=+t;return e!=e||0===e?0:o(e)}},7466:(t,e,i)=>{var o=i(9303),n=Math.min;t.exports=function(t){return t>0?n(o(t),9007199254740991):0}},7908:(t,e,i)=>{var o=i(4488),n=Object;t.exports=function(t){return n(o(t))}},7593:(t,e,i)=>{var o=i(6916),n=i(111),r=i(2190),s=i(8173),a=i(2140),l=i(5112),c=TypeError,u=l("toPrimitive");t.exports=function(t,e){if(!n(t)||r(t))return t;var i,l=s(t,u);if(l){if(void 0===e&&(e="default"),i=o(l,t,e),!n(i)||r(i))return i;throw c("Can't convert object to primitive value")}return void 0===e&&(e="number"),a(t,e)}},4948:(t,e,i)=>{var o=i(7593),n=i(2190);t.exports=function(t){var e=o(t,"string");return n(e)?e:e+""}},1694:(t,e,i)=>{var o={};o[i(5112)("toStringTag")]="z",t.exports="[object z]"===String(o)},1340:(t,e,i)=>{var o=i(648),n=String;t.exports=function(t){if("Symbol"===o(t))throw TypeError("Cannot convert a Symbol value to a string");return n(t)}},6330:t=>{var e=String;t.exports=function(t){try{return e(t)}catch(t){return"Object"}}},9711:(t,e,i)=>{var o=i(1702),n=0,r=Math.random(),s=o(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+s(++n+r,36)}},3307:(t,e,i)=>{var o=i(6293);t.exports=o&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},3353:(t,e,i)=>{var o=i(9781),n=i(7293);t.exports=o&&n((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},8053:t=>{var e=TypeError;t.exports=function(t,i){if(t<i)throw e("Not enough arguments");return t}},4811:(t,e,i)=>{var o=i(7854),n=i(614),r=o.WeakMap;t.exports=n(r)&&/native code/.test(String(r))},5112:(t,e,i)=>{var o=i(7854),n=i(2309),r=i(2597),s=i(9711),a=i(6293),l=i(3307),c=o.Symbol,u=n("wks"),h=l?c.for||c:c&&c.withoutSetter||s;t.exports=function(t){return r(u,t)||(u[t]=a&&r(c,t)?c[t]:h("Symbol."+t)),u[t]}},9191:(t,e,i)=>{"use strict";var o=i(5005),n=i(2597),r=i(8880),s=i(7976),a=i(7674),l=i(9920),c=i(2626),u=i(9587),h=i(6277),d=i(8340),p=i(5392),f=i(9781),g=i(5564);t.exports=function(t,e,i,m){var y="stackTraceLimit",v=m?2:1,_=t.split("."),C=_[_.length-1],b=o.apply(null,_);if(b){var E=b.prototype;if(!g&&n(E,"cause")&&delete E.cause,!i)return b;var S=o("Error"),w=e((function(t,e){var i=h(m?e:t,void 0),o=m?new b(t):new b;return void 0!==i&&r(o,"message",i),p(o,w,o.stack,2),this&&s(E,this)&&u(o,this,w),arguments.length>v&&d(o,arguments[v]),o}));if(w.prototype=E,"Error"!==C?a?a(w,S):l(w,S,{name:!0}):f&&y in b&&(c(w,b,y),c(w,b,"prepareStackTrace")),l(w,b),!g)try{E.name!==C&&r(E,"name",C),E.constructor=w}catch(t){}return w}}},7658:(t,e,i)=>{"use strict";var o=i(2109),n=i(7908),r=i(6244),s=i(3658),a=i(7207);o({target:"Array",proto:!0,arity:1,forced:i(7293)((function(){return 4294967297!==[].push.call({length:4294967296},1)}))||!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}}()},{push:function(t){var e=n(this),i=r(e),o=arguments.length;a(i+o);for(var l=0;l<o;l++)e[i]=arguments[l],i++;return s(e,i),i}})},1703:(t,e,i)=>{var o=i(2109),n=i(7854),r=i(2104),s=i(9191),a="WebAssembly",l=n[a],c=7!==Error("e",{cause:7}).cause,u=function(t,e){var i={};i[t]=s(t,e,c),o({global:!0,constructor:!0,arity:1,forced:c},i)},h=function(t,e){if(l&&l[t]){var i={};i[t]=s(a+"."+t,e,c),o({target:a,stat:!0,constructor:!0,arity:1,forced:c},i)}};u("Error",(function(t){return function(e){return r(t,this,arguments)}})),u("EvalError",(function(t){return function(e){return r(t,this,arguments)}})),u("RangeError",(function(t){return function(e){return r(t,this,arguments)}})),u("ReferenceError",(function(t){return function(e){return r(t,this,arguments)}})),u("SyntaxError",(function(t){return function(e){return r(t,this,arguments)}})),u("TypeError",(function(t){return function(e){return r(t,this,arguments)}})),u("URIError",(function(t){return function(e){return r(t,this,arguments)}})),h("CompileError",(function(t){return function(e){return r(t,this,arguments)}})),h("LinkError",(function(t){return function(e){return r(t,this,arguments)}})),h("RuntimeError",(function(t){return function(e){return r(t,this,arguments)}}))},1091:(t,e,i)=>{var o=i(2109),n=i(7854),r=i(261).clear;o({global:!0,bind:!0,enumerable:!0,forced:n.clearImmediate!==r},{clearImmediate:r})},4633:(t,e,i)=>{i(1091),i(2986)},2986:(t,e,i)=>{var o=i(2109),n=i(7854),r=i(261).set,s=i(7152),a=n.setImmediate?s(r,!1):r;o({global:!0,bind:!0,enumerable:!0,forced:n.setImmediate!==a},{setImmediate:a})},7484:function(t){t.exports=function(){"use strict";var t=1e3,e=6e4,i=36e5,o="millisecond",n="second",r="minute",s="hour",a="day",l="week",c="month",u="quarter",h="year",d="date",p="Invalid Date",f=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,g=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,m={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(t){var e=["th","st","nd","rd"],i=t%100;return"["+t+(e[(i-20)%10]||e[i]||e[0])+"]"}},y=function(t,e,i){var o=String(t);return!o||o.length>=e?t:""+Array(e+1-o.length).join(i)+t},v={s:y,z:function(t){var e=-t.utcOffset(),i=Math.abs(e),o=Math.floor(i/60),n=i%60;return(e<=0?"+":"-")+y(o,2,"0")+":"+y(n,2,"0")},m:function t(e,i){if(e.date()<i.date())return-t(i,e);var o=12*(i.year()-e.year())+(i.month()-e.month()),n=e.clone().add(o,c),r=i-n<0,s=e.clone().add(o+(r?-1:1),c);return+(-(o+(i-n)/(r?n-s:s-n))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:c,y:h,w:l,d:a,D:d,h:s,m:r,s:n,ms:o,Q:u}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},_="en",C={};C[_]=m;var b=function(t){return t instanceof O},E=function t(e,i,o){var n;if(!e)return _;if("string"==typeof e){var r=e.toLowerCase();C[r]&&(n=r),i&&(C[r]=i,n=r);var s=e.split("-");if(!n&&s.length>1)return t(s[0])}else{var a=e.name;C[a]=e,n=a}return!o&&n&&(_=n),n||!o&&_},S=function(t,e){if(b(t))return t.clone();var i="object"==typeof e?e:{};return i.date=t,i.args=arguments,new O(i)},w=v;w.l=E,w.i=b,w.w=function(t,e){return S(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var O=function(){function m(t){this.$L=E(t.locale,null,!0),this.parse(t)}var y=m.prototype;return y.parse=function(t){this.$d=function(t){var e=t.date,i=t.utc;if(null===e)return new Date(NaN);if(w.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var o=e.match(f);if(o){var n=o[2]-1||0,r=(o[7]||"0").substring(0,3);return i?new Date(Date.UTC(o[1],n,o[3]||1,o[4]||0,o[5]||0,o[6]||0,r)):new Date(o[1],n,o[3]||1,o[4]||0,o[5]||0,o[6]||0,r)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},y.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},y.$utils=function(){return w},y.isValid=function(){return!(this.$d.toString()===p)},y.isSame=function(t,e){var i=S(t);return this.startOf(e)<=i&&i<=this.endOf(e)},y.isAfter=function(t,e){return S(t)<this.startOf(e)},y.isBefore=function(t,e){return this.endOf(e)<S(t)},y.$g=function(t,e,i){return w.u(t)?this[e]:this.set(i,t)},y.unix=function(){return Math.floor(this.valueOf()/1e3)},y.valueOf=function(){return this.$d.getTime()},y.startOf=function(t,e){var i=this,o=!!w.u(e)||e,u=w.p(t),p=function(t,e){var n=w.w(i.$u?Date.UTC(i.$y,e,t):new Date(i.$y,e,t),i);return o?n:n.endOf(a)},f=function(t,e){return w.w(i.toDate()[t].apply(i.toDate("s"),(o?[0,0,0,0]:[23,59,59,999]).slice(e)),i)},g=this.$W,m=this.$M,y=this.$D,v="set"+(this.$u?"UTC":"");switch(u){case h:return o?p(1,0):p(31,11);case c:return o?p(1,m):p(0,m+1);case l:var _=this.$locale().weekStart||0,C=(g<_?g+7:g)-_;return p(o?y-C:y+(6-C),m);case a:case d:return f(v+"Hours",0);case s:return f(v+"Minutes",1);case r:return f(v+"Seconds",2);case n:return f(v+"Milliseconds",3);default:return this.clone()}},y.endOf=function(t){return this.startOf(t,!1)},y.$set=function(t,e){var i,l=w.p(t),u="set"+(this.$u?"UTC":""),p=(i={},i[a]=u+"Date",i[d]=u+"Date",i[c]=u+"Month",i[h]=u+"FullYear",i[s]=u+"Hours",i[r]=u+"Minutes",i[n]=u+"Seconds",i[o]=u+"Milliseconds",i)[l],f=l===a?this.$D+(e-this.$W):e;if(l===c||l===h){var g=this.clone().set(d,1);g.$d[p](f),g.init(),this.$d=g.set(d,Math.min(this.$D,g.daysInMonth())).$d}else p&&this.$d[p](f);return this.init(),this},y.set=function(t,e){return this.clone().$set(t,e)},y.get=function(t){return this[w.p(t)]()},y.add=function(o,u){var d,p=this;o=Number(o);var f=w.p(u),g=function(t){var e=S(p);return w.w(e.date(e.date()+Math.round(t*o)),p)};if(f===c)return this.set(c,this.$M+o);if(f===h)return this.set(h,this.$y+o);if(f===a)return g(1);if(f===l)return g(7);var m=(d={},d[r]=e,d[s]=i,d[n]=t,d)[f]||1,y=this.$d.getTime()+o*m;return w.w(y,this)},y.subtract=function(t,e){return this.add(-1*t,e)},y.format=function(t){var e=this,i=this.$locale();if(!this.isValid())return i.invalidDate||p;var o=t||"YYYY-MM-DDTHH:mm:ssZ",n=w.z(this),r=this.$H,s=this.$m,a=this.$M,l=i.weekdays,c=i.months,u=function(t,i,n,r){return t&&(t[i]||t(e,o))||n[i].slice(0,r)},h=function(t){return w.s(r%12||12,t,"0")},d=i.meridiem||function(t,e,i){var o=t<12?"AM":"PM";return i?o.toLowerCase():o},f={YY:String(this.$y).slice(-2),YYYY:this.$y,M:a+1,MM:w.s(a+1,2,"0"),MMM:u(i.monthsShort,a,c,3),MMMM:u(c,a),D:this.$D,DD:w.s(this.$D,2,"0"),d:String(this.$W),dd:u(i.weekdaysMin,this.$W,l,2),ddd:u(i.weekdaysShort,this.$W,l,3),dddd:l[this.$W],H:String(r),HH:w.s(r,2,"0"),h:h(1),hh:h(2),a:d(r,s,!0),A:d(r,s,!1),m:String(s),mm:w.s(s,2,"0"),s:String(this.$s),ss:w.s(this.$s,2,"0"),SSS:w.s(this.$ms,3,"0"),Z:n};return o.replace(g,(function(t,e){return e||f[t]||n.replace(":","")}))},y.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},y.diff=function(o,d,p){var f,g=w.p(d),m=S(o),y=(m.utcOffset()-this.utcOffset())*e,v=this-m,_=w.m(this,m);return _=(f={},f[h]=_/12,f[c]=_,f[u]=_/3,f[l]=(v-y)/6048e5,f[a]=(v-y)/864e5,f[s]=v/i,f[r]=v/e,f[n]=v/t,f)[g]||v,p?_:w.a(_)},y.daysInMonth=function(){return this.endOf(c).$D},y.$locale=function(){return C[this.$L]},y.locale=function(t,e){if(!t)return this.$L;var i=this.clone(),o=E(t,e,!0);return o&&(i.$L=o),i},y.clone=function(){return w.w(this.$d,this)},y.toDate=function(){return new Date(this.valueOf())},y.toJSON=function(){return this.isValid()?this.toISOString():null},y.toISOString=function(){return this.$d.toISOString()},y.toString=function(){return this.$d.toUTCString()},m}(),x=O.prototype;return S.prototype=x,[["$ms",o],["$s",n],["$m",r],["$H",s],["$W",a],["$M",c],["$y",h],["$D",d]].forEach((function(t){x[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),S.extend=function(t,e){return t.$i||(t(e,O,S),t.$i=!0),S},S.locale=E,S.isDayjs=b,S.unix=function(t){return S(1e3*t)},S.en=C[_],S.Ls=C,S.p={},S}()},600:function(t,e,i){t.exports=function(t){"use strict";function e(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var i=e(t),o="января_февраля_марта_апреля_мая_июня_июля_августа_сентября_октября_ноября_декабря".split("_"),n="январь_февраль_март_апрель_май_июнь_июль_август_сентябрь_октябрь_ноябрь_декабрь".split("_"),r="янв._февр._мар._апр._мая_июня_июля_авг._сент._окт._нояб._дек.".split("_"),s="янв._февр._март_апр._май_июнь_июль_авг._сент._окт._нояб._дек.".split("_"),a=/D[oD]?(\[[^[\]]*\]|\s)+MMMM?/;function l(t,e,i){var o,n;return"m"===i?e?"минута":"минуту":t+" "+(o=+t,n={mm:e?"минута_минуты_минут":"минуту_минуты_минут",hh:"час_часа_часов",dd:"день_дня_дней",MM:"месяц_месяца_месяцев",yy:"год_года_лет"}[i].split("_"),o%10==1&&o%100!=11?n[0]:o%10>=2&&o%10<=4&&(o%100<10||o%100>=20)?n[1]:n[2])}var c=function(t,e){return a.test(e)?o[t.month()]:n[t.month()]};c.s=n,c.f=o;var u=function(t,e){return a.test(e)?r[t.month()]:s[t.month()]};u.s=s,u.f=r;var h={name:"ru",weekdays:"воскресенье_понедельник_вторник_среда_четверг_пятница_суббота".split("_"),weekdaysShort:"вск_пнд_втр_срд_чтв_птн_сбт".split("_"),weekdaysMin:"вс_пн_вт_ср_чт_пт_сб".split("_"),months:c,monthsShort:u,weekStart:1,yearStart:4,formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY г.",LLL:"D MMMM YYYY г., H:mm",LLLL:"dddd, D MMMM YYYY г., H:mm"},relativeTime:{future:"через %s",past:"%s назад",s:"несколько секунд",m:l,mm:l,h:"час",hh:l,d:"день",dd:l,M:"месяц",MM:l,y:"год",yy:l},ordinal:function(t){return t},meridiem:function(t){return t<4?"ночи":t<12?"утра":t<17?"дня":"вечера"}};return i.default.locale(h,null,!0),h}(i(7484))},1646:function(t){t.exports=function(){"use strict";var t,e,i=1e3,o=6e4,n=36e5,r=864e5,s=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,a=31536e6,l=2592e6,c=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,u={years:a,months:l,days:r,hours:n,minutes:o,seconds:i,milliseconds:1,weeks:6048e5},h=function(t){return t instanceof v},d=function(t,e,i){return new v(t,i,e.$l)},p=function(t){return e.p(t)+"s"},f=function(t){return t<0},g=function(t){return f(t)?Math.ceil(t):Math.floor(t)},m=function(t){return Math.abs(t)},y=function(t,e){return t?f(t)?{negative:!0,format:""+m(t)+e}:{negative:!1,format:""+t+e}:{negative:!1,format:""}},v=function(){function f(t,e,i){var o=this;if(this.$d={},this.$l=i,void 0===t&&(this.$ms=0,this.parseFromMilliseconds()),e)return d(t*u[p(e)],this);if("number"==typeof t)return this.$ms=t,this.parseFromMilliseconds(),this;if("object"==typeof t)return Object.keys(t).forEach((function(e){o.$d[p(e)]=t[e]})),this.calMilliseconds(),this;if("string"==typeof t){var n=t.match(c);if(n){var r=n.slice(2).map((function(t){return null!=t?Number(t):0}));return this.$d.years=r[0],this.$d.months=r[1],this.$d.weeks=r[2],this.$d.days=r[3],this.$d.hours=r[4],this.$d.minutes=r[5],this.$d.seconds=r[6],this.calMilliseconds(),this}}return this}var m=f.prototype;return m.calMilliseconds=function(){var t=this;this.$ms=Object.keys(this.$d).reduce((function(e,i){return e+(t.$d[i]||0)*u[i]}),0)},m.parseFromMilliseconds=function(){var t=this.$ms;this.$d.years=g(t/a),t%=a,this.$d.months=g(t/l),t%=l,this.$d.days=g(t/r),t%=r,this.$d.hours=g(t/n),t%=n,this.$d.minutes=g(t/o),t%=o,this.$d.seconds=g(t/i),t%=i,this.$d.milliseconds=t},m.toISOString=function(){var t=y(this.$d.years,"Y"),e=y(this.$d.months,"M"),i=+this.$d.days||0;this.$d.weeks&&(i+=7*this.$d.weeks);var o=y(i,"D"),n=y(this.$d.hours,"H"),r=y(this.$d.minutes,"M"),s=this.$d.seconds||0;this.$d.milliseconds&&(s+=this.$d.milliseconds/1e3);var a=y(s,"S"),l=t.negative||e.negative||o.negative||n.negative||r.negative||a.negative,c=n.format||r.format||a.format?"T":"",u=(l?"-":"")+"P"+t.format+e.format+o.format+c+n.format+r.format+a.format;return"P"===u||"-P"===u?"P0D":u},m.toJSON=function(){return this.toISOString()},m.format=function(t){var i=t||"YYYY-MM-DDTHH:mm:ss",o={Y:this.$d.years,YY:e.s(this.$d.years,2,"0"),YYYY:e.s(this.$d.years,4,"0"),M:this.$d.months,MM:e.s(this.$d.months,2,"0"),D:this.$d.days,DD:e.s(this.$d.days,2,"0"),H:this.$d.hours,HH:e.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:e.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:e.s(this.$d.seconds,2,"0"),SSS:e.s(this.$d.milliseconds,3,"0")};return i.replace(s,(function(t,e){return e||String(o[t])}))},m.as=function(t){return this.$ms/u[p(t)]},m.get=function(t){var e=this.$ms,i=p(t);return"milliseconds"===i?e%=1e3:e="weeks"===i?g(e/u[i]):this.$d[i],0===e?0:e},m.add=function(t,e,i){var o;return o=e?t*u[p(e)]:h(t)?t.$ms:d(t,this).$ms,d(this.$ms+o*(i?-1:1),this)},m.subtract=function(t,e){return this.add(t,e,!0)},m.locale=function(t){var e=this.clone();return e.$l=t,e},m.clone=function(){return d(this.$ms,this)},m.humanize=function(e){return t().add(this.$ms,"ms").locale(this.$l).fromNow(!e)},m.milliseconds=function(){return this.get("milliseconds")},m.asMilliseconds=function(){return this.as("milliseconds")},m.seconds=function(){return this.get("seconds")},m.asSeconds=function(){return this.as("seconds")},m.minutes=function(){return this.get("minutes")},m.asMinutes=function(){return this.as("minutes")},m.hours=function(){return this.get("hours")},m.asHours=function(){return this.as("hours")},m.days=function(){return this.get("days")},m.asDays=function(){return this.as("days")},m.weeks=function(){return this.get("weeks")},m.asWeeks=function(){return this.as("weeks")},m.months=function(){return this.get("months")},m.asMonths=function(){return this.as("months")},m.years=function(){return this.get("years")},m.asYears=function(){return this.as("years")},f}();return function(i,o,n){t=n,e=n().$utils(),n.duration=function(t,e){var i=n.locale();return d(t,{$l:i},e)},n.isDuration=h;var r=o.prototype.add,s=o.prototype.subtract;o.prototype.add=function(t,e){return h(t)&&(t=t.asMilliseconds()),r.bind(this)(t,e)},o.prototype.subtract=function(t,e){return h(t)&&(t=t.asMilliseconds()),s.bind(this)(t,e)}}}()},6036:function(t){t.exports=function(){"use strict";return function(t,e,i){var o=e.prototype,n=function(t){return t&&(t.indexOf?t:t.s)},r=function(t,e,i,o,r){var s=t.name?t:t.$locale(),a=n(s[e]),l=n(s[i]),c=a||l.map((function(t){return t.slice(0,o)}));if(!r)return c;var u=s.weekStart;return c.map((function(t,e){return c[(e+(u||0))%7]}))},s=function(){return i.Ls[i.locale()]},a=function(t,e){return t.formats[e]||function(t){return t.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(t,e,i){return e||i.slice(1)}))}(t.formats[e.toUpperCase()])},l=function(){var t=this;return{months:function(e){return e?e.format("MMMM"):r(t,"months")},monthsShort:function(e){return e?e.format("MMM"):r(t,"monthsShort","months",3)},firstDayOfWeek:function(){return t.$locale().weekStart||0},weekdays:function(e){return e?e.format("dddd"):r(t,"weekdays")},weekdaysMin:function(e){return e?e.format("dd"):r(t,"weekdaysMin","weekdays",2)},weekdaysShort:function(e){return e?e.format("ddd"):r(t,"weekdaysShort","weekdays",3)},longDateFormat:function(e){return a(t.$locale(),e)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};o.localeData=function(){return l.bind(this)()},i.localeData=function(){var t=s();return{firstDayOfWeek:function(){return t.weekStart||0},weekdays:function(){return i.weekdays()},weekdaysShort:function(){return i.weekdaysShort()},weekdaysMin:function(){return i.weekdaysMin()},months:function(){return i.months()},monthsShort:function(){return i.monthsShort()},longDateFormat:function(e){return a(t,e)},meridiem:t.meridiem,ordinal:t.ordinal}},i.months=function(){return r(s(),"months")},i.monthsShort=function(){return r(s(),"monthsShort","months",3)},i.weekdays=function(t){return r(s(),"weekdays",null,null,t)},i.weekdaysShort=function(t){return r(s(),"weekdaysShort","weekdays",3,t)},i.weekdaysMin=function(t){return r(s(),"weekdaysMin","weekdays",2,t)}}}()},178:function(t){t.exports=function(){"use strict";var t="minute",e=/[+-]\d\d(?::?\d\d)?/g,i=/([+-]|\d\d)/g;return function(o,n,r){var s=n.prototype;r.utc=function(t){return new n({date:t,utc:!0,args:arguments})},s.utc=function(e){var i=r(this.toDate(),{locale:this.$L,utc:!0});return e?i.add(this.utcOffset(),t):i},s.local=function(){return r(this.toDate(),{locale:this.$L,utc:!1})};var a=s.parse;s.parse=function(t){t.utc&&(this.$u=!0),this.$utils().u(t.$offset)||(this.$offset=t.$offset),a.call(this,t)};var l=s.init;s.init=function(){if(this.$u){var t=this.$d;this.$y=t.getUTCFullYear(),this.$M=t.getUTCMonth(),this.$D=t.getUTCDate(),this.$W=t.getUTCDay(),this.$H=t.getUTCHours(),this.$m=t.getUTCMinutes(),this.$s=t.getUTCSeconds(),this.$ms=t.getUTCMilliseconds()}else l.call(this)};var c=s.utcOffset;s.utcOffset=function(o,n){var r=this.$utils().u;if(r(o))return this.$u?0:r(this.$offset)?c.call(this):this.$offset;if("string"==typeof o&&(o=function(t){void 0===t&&(t="");var o=t.match(e);if(!o)return null;var n=(""+o[0]).match(i)||["-",0,0],r=n[0],s=60*+n[1]+ +n[2];return 0===s?0:"+"===r?s:-s}(o),null===o))return this;var s=Math.abs(o)<=16?60*o:o,a=this;if(n)return a.$offset=s,a.$u=0===o,a;if(0!==o){var l=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(a=this.local().add(s+l,t)).$offset=s,a.$x.$localOffset=l}else a=this.utc();return a};var u=s.format;s.format=function(t){var e=t||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return u.call(this,e)},s.valueOf=function(){var t=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*t},s.isUTC=function(){return!!this.$u},s.toISOString=function(){return this.toDate().toISOString()},s.toString=function(){return this.toDate().toUTCString()};var h=s.toDate;s.toDate=function(t){return"s"===t&&this.$offset?r(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():h.call(this)};var d=s.diff;s.diff=function(t,e,i){if(t&&this.$u===t.$u)return d.call(this,t,e,i);var o=this.local(),n=r(t).local();return d.call(o,n,e,i)}}}()},7648:t=>{"use strict";var e=Array.prototype.slice,i=Object.prototype.toString;t.exports=function(t){var o=this;if("function"!=typeof o||"[object Function]"!==i.call(o))throw new TypeError("Function.prototype.bind called on incompatible "+o);for(var n,r=e.call(arguments,1),s=Math.max(0,o.length-r.length),a=[],l=0;l<s;l++)a.push("$"+l);if(n=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof n){var i=o.apply(this,r.concat(e.call(arguments)));return Object(i)===i?i:this}return o.apply(t,r.concat(e.call(arguments)))})),o.prototype){var c=function(){};c.prototype=o.prototype,n.prototype=new c,c.prototype=null}return n}},8612:(t,e,i)=>{"use strict";var o=i(7648);t.exports=Function.prototype.bind||o},7141:(t,e,i)=>{"use strict";var o,n=SyntaxError,r=Function,s=TypeError,a=function(t){try{return r('"use strict"; return ('+t+").constructor;")()}catch(t){}},l=Object.getOwnPropertyDescriptor;if(l)try{l({},"")}catch(t){l=null}var c=function(){throw new s},u=l?function(){try{return c}catch(t){try{return l(arguments,"callee").get}catch(t){return c}}}():c,h=i(1405)(),d=Object.getPrototypeOf||function(t){return t.__proto__},p={},f="undefined"==typeof Uint8Array?o:d(Uint8Array),g={"%AggregateError%":"undefined"==typeof AggregateError?o:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?o:ArrayBuffer,"%ArrayIteratorPrototype%":h?d([][Symbol.iterator]()):o,"%AsyncFromSyncIteratorPrototype%":o,"%AsyncFunction%":p,"%AsyncGenerator%":p,"%AsyncGeneratorFunction%":p,"%AsyncIteratorPrototype%":p,"%Atomics%":"undefined"==typeof Atomics?o:Atomics,"%BigInt%":"undefined"==typeof BigInt?o:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?o:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?o:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?o:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?o:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?o:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?o:FinalizationRegistry,"%Function%":r,"%GeneratorFunction%":p,"%Int8Array%":"undefined"==typeof Int8Array?o:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?o:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?o:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":h?d(d([][Symbol.iterator]())):o,"%JSON%":"object"==typeof JSON?JSON:o,"%Map%":"undefined"==typeof Map?o:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&h?d((new Map)[Symbol.iterator]()):o,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?o:Promise,"%Proxy%":"undefined"==typeof Proxy?o:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?o:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?o:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&h?d((new Set)[Symbol.iterator]()):o,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?o:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":h?d(""[Symbol.iterator]()):o,"%Symbol%":h?Symbol:o,"%SyntaxError%":n,"%ThrowTypeError%":u,"%TypedArray%":f,"%TypeError%":s,"%Uint8Array%":"undefined"==typeof Uint8Array?o:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?o:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?o:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?o:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?o:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?o:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?o:WeakSet};try{null.error}catch(t){var m=d(d(t));g["%Error.prototype%"]=m}var y=function t(e){var i;if("%AsyncFunction%"===e)i=a("async function () {}");else if("%GeneratorFunction%"===e)i=a("function* () {}");else if("%AsyncGeneratorFunction%"===e)i=a("async function* () {}");else if("%AsyncGenerator%"===e){var o=t("%AsyncGeneratorFunction%");o&&(i=o.prototype)}else if("%AsyncIteratorPrototype%"===e){var n=t("%AsyncGenerator%");n&&(i=d(n.prototype))}return g[e]=i,i},v={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},_=i(8612),C=i(7642),b=_.call(Function.call,Array.prototype.concat),E=_.call(Function.apply,Array.prototype.splice),S=_.call(Function.call,String.prototype.replace),w=_.call(Function.call,String.prototype.slice),O=_.call(Function.call,RegExp.prototype.exec),x=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,P=/\\(\\)?/g,T=function(t,e){var i,o=t;if(C(v,o)&&(o="%"+(i=v[o])[0]+"%"),C(g,o)){var r=g[o];if(r===p&&(r=y(o)),void 0===r&&!e)throw new s("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:i,name:o,value:r}}throw new n("intrinsic "+t+" does not exist!")};t.exports=function(t,e){if("string"!=typeof t||0===t.length)throw new s("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof e)throw new s('"allowMissing" argument must be a boolean');if(null===O(/^%?[^%]*%?$/,t))throw new n("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var i=function(t){var e=w(t,0,1),i=w(t,-1);if("%"===e&&"%"!==i)throw new n("invalid intrinsic syntax, expected closing `%`");if("%"===i&&"%"!==e)throw new n("invalid intrinsic syntax, expected opening `%`");var o=[];return S(t,x,(function(t,e,i,n){o[o.length]=i?S(n,P,"$1"):e||t})),o}(t),o=i.length>0?i[0]:"",r=T("%"+o+"%",e),a=r.name,c=r.value,u=!1,h=r.alias;h&&(o=h[0],E(i,b([0,1],h)));for(var d=1,p=!0;d<i.length;d+=1){var f=i[d],m=w(f,0,1),y=w(f,-1);if(('"'===m||"'"===m||"`"===m||'"'===y||"'"===y||"`"===y)&&m!==y)throw new n("property names with quotes must have matching quotes");if("constructor"!==f&&p||(u=!0),C(g,a="%"+(o+="."+f)+"%"))c=g[a];else if(null!=c){if(!(f in c)){if(!e)throw new s("base intrinsic for "+t+" exists, but the property is not available.");return}if(l&&d+1>=i.length){var v=l(c,f);c=(p=!!v)&&"get"in v&&!("originalValue"in v.get)?v.get:c[f]}else p=C(c,f),c=c[f];p&&!u&&(g[a]=c)}}return c}},1405:(t,e,i)=>{"use strict";var o="undefined"!=typeof Symbol&&Symbol,n=i(5419);t.exports=function(){return"function"==typeof o&&("function"==typeof Symbol&&("symbol"==typeof o("foo")&&("symbol"==typeof Symbol("bar")&&n())))}},5419:t=>{"use strict";t.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var t={},e=Symbol("test"),i=Object(e);if("string"==typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(i))return!1;for(e in t[e]=42,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var o=Object.getOwnPropertySymbols(t);if(1!==o.length||o[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var n=Object.getOwnPropertyDescriptor(t,e);if(42!==n.value||!0!==n.enumerable)return!1}return!0}},7642:(t,e,i)=>{"use strict";var o=i(8612);t.exports=o.call(Function.call,Object.prototype.hasOwnProperty)},5130:(t,e,i)=>{window,t.exports=function(t,e){return o=[function(e,i){e.exports=t},function(t,i){t.exports=e},function(t,e,i){"use strict";i.r(e),i.d(e,"Chart",(function(){return p})),i.d(e,"default",(function(){return f})),e=i(0);var o=i.n(e);function n(t,e){return function t(e,i,n){function r(r,s){!o.a.isObject(r,!n)||o.a.isClass(r)||o.a.isDOMElement(r)?e[s]=i[s]:e[s]=t(e[s]||o.a.isArray(r)?[]:{},r,n)}return o.a.isArray(i)?i.forEach(r):o.a.objectEach(i,r),e}({},t,e)}var r=i(1);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t){return function(t){if(Array.isArray(t))return l(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){var i;if(t)return"string"==typeof t?l(t,e):"Map"===(i="Object"===(i=Object.prototype.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:i)||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?l(t,e):void 0}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,o=new Array(e);i<e;i++)o[i]=t[i];return o}function c(t,e){var i,o=Object.keys(t);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(t),e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,i)),o}function u(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?c(Object(i),!0).forEach((function(e){var o,n;o=t,n=i[e],(e=function(t){return t=function(t,e){if("object"!==s(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0===i)return("string"===e?String:Number)(t);if("object"!==s(i=i.call(t,e||"default")))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string"),"symbol"===s(t)?t:String(t)}(e))in o?Object.defineProperty(o,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):o[e]=n})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):c(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var h={template:'<div ref="chart"></div>',props:{constructorType:{type:String,default:"chart"},options:{type:Object,required:!0},callback:Function,updateArgs:{type:Array,default:function(){return[!0,!0]}},highcharts:{type:Object},deepCopyOnUpdate:{type:Boolean,default:!0}}},d=function(t,e){return e.split(".")[0]<3?u(u({},h),{},{render:function(t){return t("div",{ref:"chart"})},beforeDestroy:function(){this.chart&&this.chart.destroy()},watch:{options:{handler:function(t){var e;(e=this.chart).update.apply(e,[n(t,this.deepCopyOnUpdate)].concat(a(this.updateArgs)))},deep:!0}},mounted:function(){var e=this.highcharts||t;this.options&&e[this.constructorType]?this.chart=e[this.constructorType](this.$refs.chart,n(this.options,!0),this.callback||null):this.options?console.warn("'".concat(this.constructorType,"' constructor-type is incorrect. Sometimes this error is caused by the fact, that the corresponding module wasn't imported.")):console.warn('The "options" parameter was not passed.')}}):u(u({},h),{},{render:function(){return Object(r.h)("div",{ref:"chart"})},setup:function(e){var i,o=Object(r.ref)(null);return Object(r.onMounted)((function(){var r=e.highcharts||t;e.options&&r[e.constructorType]?i=r[e.constructorType](o.value,n(e.options,!0),e.callback||null):e.options?console.warn("'".concat(e.constructorType,"' constructor-type is incorrect. Sometimes this error is caused by the fact, that the corresponding module wasn't imported.")):console.warn('The "options" parameter was not passed.')})),Object(r.watch)((function(){return e.options}),(function(t,o){i.update.apply(i,[n(t,e.deepCopyOnUpdate)].concat(a(e.updateArgs)))}),{deep:!0}),Object(r.onBeforeUnmount)((function(){i&&i.destroy()})),{chart:o,props:e}}})},p=d(o.a,r.version||i.n(r).a.version);function f(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};t.component(e.tagName||"highcharts",d(e.highcharts||o.a,t.version))}}],n={},i.m=o,i.c=n,i.d=function(t,e,o){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(o,n,function(e){return t[e]}.bind(null,n));return o},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=2);function i(t){var e;return(n[t]||(e=n[t]={i:t,l:!1,exports:{}},o[t].call(e.exports,e,e.exports,i),e.l=!0,e)).exports}var o,n}(i(8840),i(6765))},8840:function(t,e,i){"use strict";var o,n,r;n="undefined"!=typeof window?window:this,r=function(t){function e(e,i,o,n){e.hasOwnProperty(i)||(e[i]=n.apply(null,o),"function"==typeof CustomEvent&&t.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:i,module:e[i]}})))}var i={};return e(i,"Core/Globals.js",[],(function(){var e;return function(e){e.SVG_NS="http://www.w3.org/2000/svg",e.product="Highcharts",e.version="11.0.1",e.win=void 0!==t?t:{},e.doc=e.win.document,e.svg=e.doc&&e.doc.createElementNS&&!!e.doc.createElementNS(e.SVG_NS,"svg").createSVGRect,e.userAgent=e.win.navigator&&e.win.navigator.userAgent||"",e.isChrome=-1!==e.userAgent.indexOf("Chrome"),e.isFirefox=-1!==e.userAgent.indexOf("Firefox"),e.isMS=/(edge|msie|trident)/i.test(e.userAgent)&&!e.win.opera,e.isSafari=!e.isChrome&&-1!==e.userAgent.indexOf("Safari"),e.isTouchDevice=/(Mobile|Android|Windows Phone)/.test(e.userAgent),e.isWebKit=-1!==e.userAgent.indexOf("AppleWebKit"),e.deg2rad=2*Math.PI/360,e.hasBidiBug=e.isFirefox&&4>parseInt(e.userAgent.split("Firefox/")[1],10),e.hasTouch=!!e.win.TouchEvent,e.marginNames=["plotTop","marginRight","marginBottom","plotLeft"],e.noop=function(){},e.supportsPassiveEvents=function(){let t=!1;if(!e.isMS){const i=Object.defineProperty({},"passive",{get:function(){t=!0}});e.win.addEventListener&&e.win.removeEventListener&&(e.win.addEventListener("testPassive",e.noop,i),e.win.removeEventListener("testPassive",e.noop,i))}return t}(),e.charts=[],e.dateFormats={},e.seriesTypes={},e.symbolSizes={},e.chartCount=0}(e||(e={})),e})),e(i,"Core/Utilities.js",[i["Core/Globals.js"]],(function(t){function e(i,o,n,r){const s=o?"Highcharts error":"Highcharts warning";32===i&&(i=`${s}: Deprecated member`);const a=l(i);let c=a?`${s} #${i}: www.highcharts.com/errors/${i}/`:i.toString();if(void 0!==r){let t="";a&&(c+="?"),m(r,(function(e,i){t+=`\n - ${i}: ${e}`,a&&(c+=encodeURI(i)+"="+encodeURI(e))})),c+=t}v(t,"displayError",{chart:n,code:i,message:c,params:r},(function(){if(o)throw Error(c);b.console&&-1===e.messages.indexOf(c)&&console.warn(c)})),e.messages.push(c)}function i(t,e){return parseInt(t,e||10)}function o(t){return"string"==typeof t}function n(t){return"[object Array]"===(t=Object.prototype.toString.call(t))||"[object Array Iterator]"===t}function r(t,e){return!(!t||"object"!=typeof t||e&&n(t))}function s(t){return r(t)&&"number"==typeof t.nodeType}function a(t){const e=t&&t.constructor;return!(!r(t,!0)||s(t)||!e||!e.name||"Object"===e.name)}function l(t){return"number"==typeof t&&!isNaN(t)&&1/0>t&&-1/0<t}function c(t){return null!=t}function u(t,e,i){const n=o(e)&&!c(i);let r;const s=(e,i)=>{c(e)?t.setAttribute(i,e):n?(r=t.getAttribute(i))||"class"!==i||(r=t.getAttribute(i+"Name")):t.removeAttribute(i)};return o(e)?s(i,e):m(e,s),r}function h(t,e){let i;for(i in t||(t={}),e)t[i]=e[i];return t}function d(){const t=arguments,e=t.length;for(let i=0;i<e;i++){const e=t[i];if(null!=e)return e}}function p(e,i){t.isMS&&!t.svg&&i&&c(i.opacity)&&(i.filter=`alpha(opacity=${100*i.opacity})`),h(e.style,i)}function f(t){return Math.pow(10,Math.floor(Math.log(t)/Math.LN10))}function g(t,e){return 1e14<t?t:parseFloat(t.toPrecision(e||14))}function m(t,e,i){for(const o in t)Object.hasOwnProperty.call(t,o)&&e.call(i||t[o],t[o],o,t)}function y(t,e,i){function o(e,i){const o=t.removeEventListener;o&&o.call(t,e,i,!1)}function n(i){let n,r;t.nodeName&&(e?(n={},n[e]=!0):n=i,m(n,(function(t,e){if(i[e])for(r=i[e].length;r--;)o(e,i[e][r].fn)})))}var r="function"==typeof t&&t.prototype||t;if(Object.hasOwnProperty.call(r,"hcEvents")){const t=r.hcEvents;e?(r=t[e]||[],i?(t[e]=r.filter((function(t){return i!==t.fn})),o(e,i)):(n(t),t[e]=[])):(n(t),delete r.hcEvents)}}function v(e,i,o,n){if(o=o||{},C.createEvent&&(e.dispatchEvent||e.fireEvent&&e!==t)){var r=C.createEvent("Events");r.initEvent(i,!0,!0),o=h(r,o),e.dispatchEvent?e.dispatchEvent(o):e.fireEvent(i,o)}else if(e.hcEvents){o.target||h(o,{preventDefault:function(){o.defaultPrevented=!0},target:e,type:i}),r=[];let t=e,n=!1;for(;t.hcEvents;)Object.hasOwnProperty.call(t,"hcEvents")&&t.hcEvents[i]&&(r.length&&(n=!0),r.unshift.apply(r,t.hcEvents[i])),t=Object.getPrototypeOf(t);n&&r.sort(((t,e)=>t.order-e.order)),r.forEach((t=>{!1===t.fn.call(e,o)&&o.preventDefault()}))}n&&!o.defaultPrevented&&n.call(e,o)}const{charts:_,doc:C,win:b}=t;(e||(e={})).messages=[],Math.easeInOutSine=function(t){return-.5*(Math.cos(Math.PI*t)-1)};var E=Array.prototype.find?function(t,e){return t.find(e)}:function(t,e){let i;const o=t.length;for(i=0;i<o;i++)if(e(t[i],i))return t[i]};let S;m({map:"map",each:"forEach",grep:"filter",reduce:"reduce",some:"some"},(function(i,o){t[o]=function(t){return e(32,!1,void 0,{[`Highcharts.${o}`]:`use Array.${i}`}),Array.prototype[i].apply(t,[].slice.call(arguments,1))}}));const w=function(){const t=Math.random().toString(36).substring(2,9)+"-";let e=0;return function(){return"highcharts-"+(S?"":t)+e++}}();return b.jQuery&&(b.jQuery.fn.highcharts=function(){const e=[].slice.call(arguments);if(this[0])return e[0]?(new(t[o(e[0])?e.shift():"Chart"])(this[0],e[0],e[1]),this):_[u(this[0],"data-highcharts-chart")]}),E={addEvent:function(e,i,o,n={}){var r="function"==typeof e&&e.prototype||e;Object.hasOwnProperty.call(r,"hcEvents")||(r.hcEvents={}),r=r.hcEvents,t.Point&&e instanceof t.Point&&e.series&&e.series.chart&&(e.series.chart.runTrackerClick=!0);const s=e.addEventListener;return s&&s.call(e,i,o,!!t.supportsPassiveEvents&&{passive:void 0===n.passive?-1!==i.indexOf("touch"):n.passive,capture:!1}),r[i]||(r[i]=[]),r[i].push({fn:o,order:"number"==typeof n.order?n.order:1/0}),r[i].sort(((t,e)=>t.order-e.order)),function(){y(e,i,o)}},arrayMax:function(t){let e=t.length,i=t[0];for(;e--;)t[e]>i&&(i=t[e]);return i},arrayMin:function(t){let e=t.length,i=t[0];for(;e--;)t[e]<i&&(i=t[e]);return i},attr:u,clamp:function(t,e,i){return t>e?t<i?t:i:e},cleanRecursively:function t(e,i){const o={};return m(e,(function(n,s){r(e[s],!0)&&!e.nodeType&&i[s]?(n=t(e[s],i[s]),Object.keys(n).length&&(o[s]=n)):(r(e[s])||e[s]!==i[s]||s in e&&!(s in i))&&(o[s]=e[s])})),o},clearTimeout:function(t){c(t)&&clearTimeout(t)},correctFloat:g,createElement:function(t,e,i,o,n){return t=C.createElement(t),e&&h(t,e),n&&p(t,{padding:"0",border:"none",margin:"0"}),i&&p(t,i),o&&o.appendChild(t),t},css:p,defined:c,destroyObjectProperties:function(t,e){m(t,(function(i,o){i&&i!==e&&i.destroy&&i.destroy(),delete t[o]}))},discardElement:function(t){t&&t.parentElement&&t.parentElement.removeChild(t)},erase:function(t,e){let i=t.length;for(;i--;)if(t[i]===e){t.splice(i,1);break}},error:e,extend:h,extendClass:function(t,e){const i=function(){};return h(i.prototype=new t,e),i},find:E,fireEvent:v,getMagnitude:f,getNestedProperty:function(t,e){for(t=t.split(".");t.length&&c(e);){const i=t.shift();if(void 0===i||"__proto__"===i)return;if(!c(e=e[i])||"function"==typeof e||"number"==typeof e.nodeType||e===b)return}return e},getStyle:function t(e,o,n){let r;return"width"===o?(o=Math.min(e.offsetWidth,e.scrollWidth),(n=e.getBoundingClientRect&&e.getBoundingClientRect().width)<o&&n>=o-1&&(o=Math.floor(n)),Math.max(0,o-(t(e,"padding-left",!0)||0)-(t(e,"padding-right",!0)||0))):"height"===o?Math.max(0,Math.min(e.offsetHeight,e.scrollHeight)-(t(e,"padding-top",!0)||0)-(t(e,"padding-bottom",!0)||0)):((e=b.getComputedStyle(e,void 0))&&(r=e.getPropertyValue(o),d(n,"opacity"!==o)&&(r=i(r))),r)},inArray:function(t,i,o){return e(32,!1,void 0,{"Highcharts.inArray":"use Array.indexOf"}),i.indexOf(t,o)},isArray:n,isClass:a,isDOMElement:s,isFunction:function(t){return"function"==typeof t},isNumber:l,isObject:r,isString:o,keys:function(t){return e(32,!1,void 0,{"Highcharts.keys":"use Object.keys"}),Object.keys(t)},merge:function(){let t,e=arguments,i={};const o=function(t,e){return"object"!=typeof t&&(t={}),m(e,(function(i,n){"__proto__"!==n&&"constructor"!==n&&(!r(i,!0)||a(i)||s(i)?t[n]=e[n]:t[n]=o(t[n]||{},i))})),t};!0===e[0]&&(i=e[1],e=Array.prototype.slice.call(e,2));const n=e.length;for(t=0;t<n;t++)i=o(i,e[t]);return i},normalizeTickInterval:function(t,e,i,o,n){let r=t;const s=t/(i=d(i,f(t)));for(e||(e=n?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],!1===o&&(1===i?e=e.filter((function(t){return 0==t%1})):.1>=i&&(e=[1/i]))),o=0;o<e.length&&(r=e[o],!(n&&r*i>=t||!n&&s<=(e[o]+(e[o+1]||e[o]))/2));o++);return g(r*i,-Math.round(Math.log(.001)/Math.LN10))},objectEach:m,offset:function(t){const e=C.documentElement;return{top:(t=t.parentElement||t.parentNode?t.getBoundingClientRect():{top:0,left:0,width:0,height:0}).top+(b.pageYOffset||e.scrollTop)-(e.clientTop||0),left:t.left+(b.pageXOffset||e.scrollLeft)-(e.clientLeft||0),width:t.width,height:t.height}},pad:function(t,e,i){return Array((e||2)+1-String(t).replace("-","").length).join(i||"0")+t},pick:d,pInt:i,pushUnique:function(t,e){return 0>t.indexOf(e)&&!!t.push(e)},relativeLength:function(t,e,i){return/%$/.test(t)?e*parseFloat(t)/100+(i||0):parseFloat(t)},removeEvent:y,splat:function(t){return n(t)?t:[t]},stableSort:function(t,e){const i=t.length;let o,n;for(n=0;n<i;n++)t[n].safeI=n;for(t.sort((function(t,i){return o=e(t,i),0===o?t.safeI-i.safeI:o})),n=0;n<i;n++)delete t[n].safeI},syncTimeout:function(t,e,i){return 0<e?setTimeout(t,e,i):(t.call(0,i),-1)},timeUnits:{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},uniqueKey:w,useSerialIds:function(t){return S=d(t,S)},wrap:function(t,e,i){const o=t[e];t[e]=function(){const t=arguments,e=this;return i.apply(this,[function(){return o.apply(e,arguments.length?arguments:t)}].concat([].slice.call(arguments)))}}},E})),e(i,"Core/Chart/ChartDefaults.js",[],(function(){return{alignThresholds:!1,panning:{enabled:!1,type:"x"},styledMode:!1,borderRadius:0,colorCount:10,allowMutatingData:!0,ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}},reflow:!0,type:"line",zoomBySingleTouch:!1,zooming:{singleTouch:!1,resetButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}}},width:null,height:null,borderColor:"#334eff",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"}})),e(i,"Core/Color/Color.js",[i["Core/Globals.js"],i["Core/Utilities.js"]],(function(t,e){const{isNumber:i,merge:o,pInt:n}=e;class r{static parse(t){return t?new r(t):r.None}constructor(e){this.rgba=[NaN,NaN,NaN,NaN],this.input=e;const i=t.Color;if(i&&i!==r)return new i(e);this.init(e)}init(t){let e,i;if("object"==typeof t&&void 0!==t.stops)this.stops=t.stops.map((t=>new r(t[1])));else if("string"==typeof t){if(this.input=t=r.names[t.toLowerCase()]||t,"#"===t.charAt(0)){var o=t.length,n=parseInt(t.substr(1),16);7===o?e=[(16711680&n)>>16,(65280&n)>>8,255&n,1]:4===o&&(e=[(3840&n)>>4|(3840&n)>>8,(240&n)>>4|240&n,(15&n)<<4|15&n,1])}if(!e)for(n=r.parsers.length;n--&&!e;)i=r.parsers[n],(o=i.regex.exec(t))&&(e=i.parse(o))}e&&(this.rgba=e)}get(t){const e=this.input,n=this.rgba;if("object"==typeof e&&void 0!==this.stops){const i=o(e);return i.stops=[].slice.call(i.stops),this.stops.forEach(((e,o)=>{i.stops[o]=[i.stops[o][0],e.get(t)]})),i}return n&&i(n[0])?"rgb"===t||!t&&1===n[3]?"rgb("+n[0]+","+n[1]+","+n[2]+")":"a"===t?`${n[3]}`:"rgba("+n.join(",")+")":e}brighten(t){const e=this.rgba;if(this.stops)this.stops.forEach((function(e){e.brighten(t)}));else if(i(t)&&0!==t)for(let i=0;3>i;i++)e[i]+=n(255*t),0>e[i]&&(e[i]=0),255<e[i]&&(e[i]=255);return this}setOpacity(t){return this.rgba[3]=t,this}tweenTo(t,e){const o=this.rgba,n=t.rgba;return i(o[0])&&i(n[0])?((t=1!==n[3]||1!==o[3])?"rgba(":"rgb(")+Math.round(n[0]+(o[0]-n[0])*(1-e))+","+Math.round(n[1]+(o[1]-n[1])*(1-e))+","+Math.round(n[2]+(o[2]-n[2])*(1-e))+(t?","+(n[3]+(o[3]-n[3])*(1-e)):"")+")":t.input||"none"}}return r.names={white:"#ffffff",black:"#000000"},r.parsers=[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function(t){return[n(t[1]),n(t[2]),n(t[3]),parseFloat(t[4],10)]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(t){return[n(t[1]),n(t[2]),n(t[3]),1]}}],r.None=new r(""),r})),e(i,"Core/Color/Palettes.js",[],(function(){return{colors:"#2caffe #544fc5 #00e272 #fe6a35 #6b8abc #d568fb #2ee0ca #fa4b42 #feb56a #91e8e1".split(" ")}})),e(i,"Core/Time.js",[i["Core/Globals.js"],i["Core/Utilities.js"]],(function(t,e){const{win:i}=t,{defined:o,error:n,extend:r,isObject:s,merge:a,objectEach:l,pad:c,pick:u,splat:h,timeUnits:d}=e,p=t.isSafari&&i.Intl&&i.Intl.DateTimeFormat.prototype.formatRange,f=t.isSafari&&i.Intl&&!i.Intl.DateTimeFormat.prototype.formatRange;return class{constructor(t){this.options={},this.variableTimezone=this.useUTC=!1,this.Date=i.Date,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.update(t)}get(t,e){if(this.variableTimezone||this.timezoneOffset){const i=e.getTime(),o=i-this.getTimezoneOffset(e);return e.setTime(o),t=e["getUTC"+t](),e.setTime(i),t}return this.useUTC?e["getUTC"+t]():e["get"+t]()}set(t,e,i){if(this.variableTimezone||this.timezoneOffset){if("Milliseconds"===t||"Seconds"===t||"Minutes"===t&&0==this.getTimezoneOffset(e)%36e5)return e["setUTC"+t](i);var o=this.getTimezoneOffset(e);return o=e.getTime()-o,e.setTime(o),e["setUTC"+t](i),t=this.getTimezoneOffset(e),o=e.getTime()+t,e.setTime(o)}return this.useUTC||p&&"FullYear"===t?e["setUTC"+t](i):e["set"+t](i)}update(t={}){const e=u(t.useUTC,!0);this.options=t=a(!0,this.options,t),this.Date=t.Date||i.Date||Date,this.timezoneOffset=(this.useUTC=e)&&t.timezoneOffset||void 0,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.variableTimezone=e&&!(!t.getTimezoneOffset&&!t.timezone)}makeTime(t,e,i,o,n,r){let s,a,l;return this.useUTC?(s=this.Date.UTC.apply(0,arguments),a=this.getTimezoneOffset(s),s+=a,l=this.getTimezoneOffset(s),a!==l?s+=l-a:a-36e5!==this.getTimezoneOffset(s-36e5)||f||(s-=36e5)):s=new this.Date(t,e,u(i,1),u(o,0),u(n,0),u(r,0)).getTime(),s}timezoneOffsetFunction(){const t=this,e=this.options,o=e.getTimezoneOffset,r=e.moment||i.moment;if(!this.useUTC)return function(t){return 6e4*new Date(t.toString()).getTimezoneOffset()};if(e.timezone){if(r)return function(t){return 6e4*-r.tz(t,e.timezone).utcOffset()};n(25)}return this.useUTC&&o?function(t){return 6e4*o(t.valueOf())}:function(){return 6e4*(t.timezoneOffset||0)}}dateFormat(e,i,n){if(!o(i)||isNaN(i))return t.defaultOptions.lang&&t.defaultOptions.lang.invalidDate||"";e=u(e,"%Y-%m-%d %H:%M:%S");const s=this;var a=new this.Date(i);const h=this.get("Hours",a),d=this.get("Day",a),p=this.get("Date",a),f=this.get("Month",a),g=this.get("FullYear",a),m=t.defaultOptions.lang,y=m&&m.weekdays,v=m&&m.shortWeekdays;return a=r({a:v?v[d]:y[d].substr(0,3),A:y[d],d:c(p),e:c(p,2," "),w:d,b:m.shortMonths[f],B:m.months[f],m:c(f+1),o:f+1,y:g.toString().substr(2,2),Y:g,H:c(h),k:h,I:c(h%12||12),l:h%12||12,M:c(this.get("Minutes",a)),p:12>h?"AM":"PM",P:12>h?"am":"pm",S:c(a.getSeconds()),L:c(Math.floor(i%1e3),3)},t.dateFormats),l(a,(function(t,o){for(;-1!==e.indexOf("%"+o);)e=e.replace("%"+o,"function"==typeof t?t.call(s,i):t)})),n?e.substr(0,1).toUpperCase()+e.substr(1):e}resolveDTLFormat(t){return s(t,!0)?t:{main:(t=h(t))[0],from:t[1],to:t[2]}}getTimeTicks(t,e,i,n){const s=this,a=[],l={};var c=new s.Date(e);const h=t.unitRange,p=t.count||1;let f;if(n=u(n,1),o(e)){if(s.set("Milliseconds",c,h>=d.second?0:p*Math.floor(s.get("Milliseconds",c)/p)),h>=d.second&&s.set("Seconds",c,h>=d.minute?0:p*Math.floor(s.get("Seconds",c)/p)),h>=d.minute&&s.set("Minutes",c,h>=d.hour?0:p*Math.floor(s.get("Minutes",c)/p)),h>=d.hour&&s.set("Hours",c,h>=d.day?0:p*Math.floor(s.get("Hours",c)/p)),h>=d.day&&s.set("Date",c,h>=d.month?1:Math.max(1,p*Math.floor(s.get("Date",c)/p))),h>=d.month){s.set("Month",c,h>=d.year?0:p*Math.floor(s.get("Month",c)/p));var g=s.get("FullYear",c)}h>=d.year&&s.set("FullYear",c,g-g%p),h===d.week&&(g=s.get("Day",c),s.set("Date",c,s.get("Date",c)-g+n+(g<n?-7:0))),g=s.get("FullYear",c),n=s.get("Month",c);const t=s.get("Date",c),r=s.get("Hours",c);for(e=c.getTime(),!s.variableTimezone&&s.useUTC||!o(i)||(f=i-e>4*d.month||s.getTimezoneOffset(e)!==s.getTimezoneOffset(i)),e=c.getTime(),c=1;e<i;)a.push(e),e=h===d.year?s.makeTime(g+c*p,0):h===d.month?s.makeTime(g,n+c*p):!f||h!==d.day&&h!==d.week?f&&h===d.hour&&1<p?s.makeTime(g,n,t,r+c*p):e+h*p:s.makeTime(g,n,t+c*p*(h===d.day?1:7)),c++;a.push(e),h<=d.hour&&1e4>a.length&&a.forEach((function(t){0==t%18e5&&"000000000"===s.dateFormat("%H%M%S%L",t)&&(l[t]="day")}))}return a.info=r(t,{higherRanks:l,totalRange:h*p}),a}getDateFormat(t,e,i,o){const n=this.dateFormat("%m-%d %H:%M:%S.%L",e),r={millisecond:15,second:12,minute:9,hour:6,day:3};let s,a="millisecond";for(s in d){if(t===d.week&&+this.dateFormat("%w",e)===i&&"00:00:00.000"===n.substr(6)){s="week";break}if(d[s]>t){s=a;break}if(r[s]&&n.substr(r[s])!=="01-01 00:00:00.000".substr(r[s]))break;"week"!==s&&(a=s)}return this.resolveDTLFormat(o[s]).main}}})),e(i,"Core/Defaults.js",[i["Core/Chart/ChartDefaults.js"],i["Core/Color/Color.js"],i["Core/Globals.js"],i["Core/Color/Palettes.js"],i["Core/Time.js"],i["Core/Utilities.js"]],(function(t,e,i,o,n,r){const{isTouchDevice:s,svg:a}=i,{merge:l}=r,c={colors:o.colors,symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),decimalPoint:".",numericSymbols:"kMGTPE".split(""),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{},time:{Date:void 0,getTimezoneOffset:void 0,timezone:void 0,timezoneOffset:0,useUTC:!0},chart:t,title:{text:"Chart title",align:"center",margin:15,widthAdjust:-44},subtitle:{text:"",align:"center",widthAdjust:-44},caption:{margin:15,text:"",align:"left",verticalAlign:"bottom"},plotOptions:{},legend:{enabled:!0,align:"center",alignColumns:!0,className:"highcharts-no-tooltip",layout:"horizontal",itemMarginBottom:2,itemMarginTop:2,labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{style:{fontSize:"0.8em"},activeColor:"#0022ff",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",cursor:"pointer",fontSize:"0.8em",textDecoration:"none",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#666666",textDecoration:"line-through"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontSize:"0.8em",fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:a,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %e %b, %H:%M:%S.%L",second:"%A, %e %b, %H:%M:%S",minute:"%A, %e %b, %H:%M",hour:"%A, %e %b, %H:%M",day:"%A, %e %b %Y",week:"Week from %A, %e %b %Y",month:"%B %Y",year:"%Y"},footerFormat:"",headerShape:"callout",hideDelay:500,padding:8,shape:"callout",shared:!1,snap:s?25:10,headerFormat:'<span style="font-size: 0.8em">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.y}</b><br/>',backgroundColor:"#ffffff",borderWidth:void 0,shadow:!0,stickOnContact:!1,style:{color:"#333333",cursor:"default",fontSize:"0.8em"},useHTML:!1},credits:{enabled:!0,href:"https://www.highcharts.com?credits",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"0.6em"},text:"Highcharts.com"}};c.chart.styledMode=!1;const u=new n(c.time);return t={defaultOptions:c,defaultTime:u,getOptions:function(){return c},setOptions:function(t){return l(!0,c,t),(t.time||t.global)&&(i.time?i.time.update(l(c.global,c.time,t.global,t.time)):i.time=u),c}}})),e(i,"Core/Animation/Fx.js",[i["Core/Color/Color.js"],i["Core/Globals.js"],i["Core/Utilities.js"]],(function(t,e,i){const{parse:o}=t,{win:n}=e,{isNumber:r,objectEach:s}=i;class a{constructor(t,e,i){this.pos=NaN,this.options=e,this.elem=t,this.prop=i}dSetter(){var t=this.paths;const e=t&&t[0];t=t&&t[1];const i=this.now||0;let o=[];if(1!==i&&e&&t)if(e.length===t.length&&1>i)for(let n=0;n<t.length;n++){const s=e[n],a=t[n],l=[];for(let t=0;t<a.length;t++){const e=s[t],o=a[t];r(e)&&r(o)&&("A"!==a[0]||4!==t&&5!==t)?l[t]=e+i*(o-e):l[t]=o}o.push(l)}else o=t;else o=this.toD||[];this.elem.attr("d",o,void 0,!0)}update(){const t=this.elem,e=this.prop,i=this.now,o=this.options.step;this[e+"Setter"]?this[e+"Setter"]():t.attr?t.element&&t.attr(e,i,null,!0):t.style[e]=i+this.unit,o&&o.call(t,i,this)}run(t,e,i){const o=this,r=o.options,s=function(t){return!s.stopped&&o.step(t)},l=n.requestAnimationFrame||function(t){setTimeout(t,13)},c=function(){for(let t=0;t<a.timers.length;t++)a.timers[t]()||a.timers.splice(t--,1);a.timers.length&&l(c)};t!==e||this.elem["forceAnimate:"+this.prop]?(this.startTime=+new Date,this.start=t,this.end=e,this.unit=i,this.now=this.start,this.pos=0,s.elem=this.elem,s.prop=this.prop,s()&&1===a.timers.push(s)&&l(c)):(delete r.curAnim[this.prop],r.complete&&0===Object.keys(r.curAnim).length&&r.complete.call(this.elem))}step(t){const e=+new Date,i=this.options,o=this.elem,n=i.complete,r=i.duration,a=i.curAnim;let l;return o.attr&&!o.element?t=!1:t||e>=r+this.startTime?(this.now=this.end,this.pos=1,this.update(),l=a[this.prop]=!0,s(a,(function(t){!0!==t&&(l=!1)})),l&&n&&n.call(o),t=!1):(this.pos=i.easing((e-this.startTime)/r),this.now=this.start+(this.end-this.start)*this.pos,this.update(),t=!0),t}initPath(t,e,i){function o(t,e){for(;t.length<h;){var i=t[0];const o=e[h-t.length];o&&"M"===i[0]&&(t[0]="C"===o[0]?["C",i[1],i[2],i[1],i[2],i[1],i[2]]:["L",i[1],i[2]]),t.unshift(i),l&&(i=t.pop(),t.push(t[t.length-1],i))}}function n(t,e){for(;t.length<h;)if("C"===(e=t[Math.floor(t.length/c)-1].slice())[0]&&(e[1]=e[5],e[2]=e[6]),l){const i=t[Math.floor(t.length/c)].slice();t.splice(t.length/2,0,e,i)}else t.push(e)}const s=t.startX,a=t.endX;i=i.slice();const l=t.isArea,c=l?2:1;let u,h,d;if(!(e=e&&e.slice()))return[i,i];if(s&&a&&a.length){for(t=0;t<s.length;t++){if(s[t]===a[0]){u=t;break}if(s[0]===a[a.length-s.length+t]){u=t,d=!0;break}if(s[s.length-1]===a[a.length-s.length+t]){u=s.length-t;break}}void 0===u&&(e=[])}return e.length&&r(u)&&(h=i.length+u*c,d?(o(e,i),n(i,e)):(o(i,e),n(e,i))),[e,i]}fillSetter(){a.prototype.strokeSetter.apply(this,arguments)}strokeSetter(){this.elem.attr(this.prop,o(this.start).tweenTo(o(this.end),this.pos),void 0,!0)}}return a.timers=[],a})),e(i,"Core/Animation/AnimationUtilities.js",[i["Core/Animation/Fx.js"],i["Core/Utilities.js"]],(function(t,e){function i(t){return l(t)?c({duration:500,defer:0},t):{duration:t?500:0,defer:0}}function o(e,i){let o=t.timers.length;for(;o--;)t.timers[o].elem!==e||i&&i!==t.timers[o].prop||(t.timers[o].stopped=!0)}const{defined:n,getStyle:r,isArray:s,isNumber:a,isObject:l,merge:c,objectEach:u,pick:h}=e;return{animate:function(e,i,n){let h,d,p,f,g="";l(n)||(f=arguments,n={duration:f[2],easing:f[3],complete:f[4]}),a(n.duration)||(n.duration=400),n.easing="function"==typeof n.easing?n.easing:Math[n.easing]||Math.easeInOutSine,n.curAnim=c(i),u(i,(function(a,l){o(e,l),p=new t(e,n,l),d=void 0,"d"===l&&s(i.d)?(p.paths=p.initPath(e,e.pathArray,i.d),p.toD=i.d,h=0,d=1):e.attr?h=e.attr(l):(h=parseFloat(r(e,l))||0,"opacity"!==l&&(g="px")),d||(d=a),"string"==typeof d&&d.match("px")&&(d=d.replace(/px/g,"")),p.run(h,d,g)}))},animObject:i,getDeferredAnimation:function(t,e,o){const r=i(e);let s=0,a=0;return(o?[o]:t.series).forEach((t=>{t=i(t.options.animation),s=e&&n(e.defer)?r.defer:Math.max(s,t.duration+t.defer),a=Math.min(r.duration,t.duration)})),t.renderer.forExport&&(s=0),{defer:Math.max(0,s-a),duration:Math.min(s,a)}},setAnimation:function(t,e){e.renderer.globalAnimation=h(t,e.options.chart.animation,!0)},stop:o}})),e(i,"Core/Renderer/HTML/AST.js",[i["Core/Globals.js"],i["Core/Utilities.js"]],(function(t,e){const{SVG_NS:i,win:o}=t,{attr:n,createElement:r,css:s,error:a,isFunction:l,isString:c,objectEach:u,splat:h}=e;({trustedTypes:e}=o);const d=e&&l(e.createPolicy)&&e.createPolicy("highcharts",{createHTML:t=>t});e=d?d.createHTML(""):"";try{var p=!!(new DOMParser).parseFromString(e,"text/html")}catch(t){p=!1}const f=p;class g{static filterUserAttributes(t){return u(t,((e,i)=>{let o=!0;-1===g.allowedAttributes.indexOf(i)&&(o=!1),-1!==["background","dynsrc","href","lowsrc","src"].indexOf(i)&&(o=c(e)&&g.allowedReferences.some((t=>0===e.indexOf(t)))),o||(a(33,!1,void 0,{"Invalid attribute in config":`${i}`}),delete t[i]),c(e)&&t[i]&&(t[i]=e.replace(/</g,"&lt;"))})),t}static parseStyle(t){return t.split(";").reduce(((t,e)=>{const i=(e=e.split(":").map((t=>t.trim()))).shift();return i&&e.length&&(t[i.replace(/-([a-z])/g,(t=>t[1].toUpperCase()))]=e.join(":")),t}),{})}static setElementHTML(t,e){t.innerHTML=g.emptyHTML,e&&new g(e).addToDOM(t)}constructor(t){this.nodes="string"==typeof t?this.parseMarkup(t):t}addToDOM(e){return function e(o,r){let l;return h(o).forEach((function(o){var c=o.tagName;const h=o.textContent?t.doc.createTextNode(o.textContent):void 0,d=g.bypassHTMLFiltering;let p;if(c)if("#text"===c)p=h;else if(-1!==g.allowedTags.indexOf(c)||d){c=t.doc.createElementNS("svg"===c?i:r.namespaceURI||i,c);const a=o.attributes||{};u(o,(function(t,e){"tagName"!==e&&"attributes"!==e&&"children"!==e&&"style"!==e&&"textContent"!==e&&(a[e]=t)})),n(c,d?a:g.filterUserAttributes(a)),o.style&&s(c,o.style),h&&c.appendChild(h),e(o.children||[],c),p=c}else a(33,!1,void 0,{"Invalid tagName in config":c});p&&r.appendChild(p),l=p})),l}(this.nodes,e)}parseMarkup(t){const e=[];if(t=t.trim().replace(/ style=(["'])/g," data-style=$1"),f)t=(new DOMParser).parseFromString(d?d.createHTML(t):t,"text/html");else{const e=r("div");e.innerHTML=t,t={body:e}}const i=(t,e)=>{var o=t.nodeName.toLowerCase();const n={tagName:o};if("#text"===o&&(n.textContent=t.textContent||""),o=t.attributes){const t={};[].forEach.call(o,(e=>{"data-style"===e.name?n.style=g.parseStyle(e.value):t[e.name]=e.value})),n.attributes=t}if(t.childNodes.length){const e=[];[].forEach.call(t.childNodes,(t=>{i(t,e)})),e.length&&(n.children=e)}e.push(n)};return[].forEach.call(t.body.childNodes,(t=>i(t,e))),e}}return g.allowedAttributes="alt aria-controls aria-describedby aria-expanded aria-haspopup aria-hidden aria-label aria-labelledby aria-live aria-pressed aria-readonly aria-roledescription aria-selected class clip-path color colspan cx cy d dx dy disabled fill flood-color flood-opacity height href id in markerHeight markerWidth offset opacity orient padding paddingLeft paddingRight patternUnits r refX refY role scope slope src startOffset stdDeviation stroke stroke-linecap stroke-width style tableValues result rowspan summary target tabindex text-align text-anchor textAnchor textLength title type valign width x x1 x2 xlink:href y y1 y2 zIndex".split(" "),g.allowedReferences="https:// http:// mailto: / ../ ./ #".split(" "),g.allowedTags="a abbr b br button caption circle clipPath code dd defs div dl dt em feComponentTransfer feDropShadow feFuncA feFuncB feFuncG feFuncR feGaussianBlur feOffset feMerge feMergeNode filter h1 h2 h3 h4 h5 h6 hr i img li linearGradient marker ol p path pattern pre rect small span stop strong style sub sup svg table text textPath thead title tbody tspan td th tr u ul #text".split(" "),g.emptyHTML=e,g.bypassHTMLFiltering=!1,g})),e(i,"Core/FormatUtilities.js",[i["Core/Defaults.js"],i["Core/Utilities.js"]],(function(t,e){function i(t,e,i,n){t=+t||0,e=+e;const r=o.lang;var c=(t.toString().split(".")[1]||"").split("e")[0].length;const u=t.toString().split("e"),h=e;if(-1===e)e=Math.min(c,20);else if(s(e)){if(e&&u[1]&&0>u[1]){var d=e+ +u[1];0<=d?(u[0]=(+u[0]).toExponential(d).split("e")[0],e=d):(u[0]=u[0].split(".")[0]||0,t=20>e?(u[0]*Math.pow(10,u[1])).toFixed(e):0,u[1]=0)}}else e=2;d=(Math.abs(u[1]?u[0]:t)+Math.pow(10,-Math.max(e,c)-1)).toFixed(e);const p=3<(c=String(l(d))).length?c.length%3:0;return i=a(i,r.decimalPoint),n=a(n,r.thousandsSep),t=(0>t?"-":"")+(p?c.substr(0,p)+n:""),t=0>+u[1]&&!h?"0":t+c.substr(p).replace(/(\d{3})(?=\d)/g,"$1"+n),e&&(t+=i+d.slice(-e)),u[1]&&0!=+t&&(t+="e"+u[1]),t}const{defaultOptions:o,defaultTime:n}=t,{getNestedProperty:r,isNumber:s,pick:a,pInt:l}=e;return{dateFormat:function(t,e,i){return n.dateFormat(t,e,i)},format:function(t,e,s){var a="{";let l,c=!1;const u=/f$/,h=/\.([0-9])/,d=o.lang,p=s&&s.time||n;s=s&&s.numberFormatter||i;const f=[];for(;t&&(l=t.indexOf(a),-1!==l);){var g=t.slice(0,l);if(c){if(g=g.split(":"),a=r(g.shift()||"",e),g.length&&"number"==typeof a)if(g=g.join(":"),u.test(g)){const t=parseInt((g.match(h)||["","-1"])[1],10);null!==a&&(a=s(a,t,d.decimalPoint,-1<g.indexOf(",")?d.thousandsSep:""))}else a=p.dateFormat(g,a);f.push(a)}else f.push(g);t=t.slice(l+1),a=(c=!c)?"}":"{"}return f.push(t),f.join("")},numberFormat:i}})),e(i,"Core/Renderer/RendererUtilities.js",[i["Core/Utilities.js"]],(function(t){const{clamp:e,pick:i,stableSort:o}=t;var n;return function(t){t.distribute=function t(n,r,s){const a=n;var l=a.reducedLen||r,c=(t,e)=>(e.rank||0)-(t.rank||0);const u=(t,e)=>t.target-e.target;let h,d=!0,p=[],f=0;for(h=n.length;h--;)f+=n[h].size;if(f>l){for(o(n,c),f=h=0;f<=l;)f+=n[h].size,h++;p=n.splice(h-1,n.length)}for(o(n,u),n=n.map((t=>({size:t.size,targets:[t.target],align:i(t.align,.5)})));d;){for(h=n.length;h--;)l=n[h],c=(Math.min.apply(0,l.targets)+Math.max.apply(0,l.targets))/2,l.pos=e(c-l.size*l.align,0,r-l.size);for(h=n.length,d=!1;h--;)0<h&&n[h-1].pos+n[h-1].size>n[h].pos&&(n[h-1].size+=n[h].size,n[h-1].targets=n[h-1].targets.concat(n[h].targets),n[h-1].align=.5,n[h-1].pos+n[h-1].size>r&&(n[h-1].pos=r-n[h-1].size),n.splice(h,1),d=!0)}return a.push.apply(a,p),h=0,n.some((e=>{let i=0;return(e.targets||[]).some((()=>(a[h].pos=e.pos+i,void 0!==s&&Math.abs(a[h].pos-a[h].target)>s?(a.slice(0,h+1).forEach((t=>delete t.pos)),a.reducedLen=(a.reducedLen||r)-.1*r,a.reducedLen>.1*r&&t(a,r,s),!0):(i+=a[h].size,h++,!1))))})),o(a,u),a}}(n||(n={})),n})),e(i,"Core/Renderer/SVG/SVGElement.js",[i["Core/Animation/AnimationUtilities.js"],i["Core/Color/Color.js"],i["Core/Globals.js"],i["Core/Utilities.js"]],(function(t,e,i,o){const{animate:n,animObject:r,stop:s}=t,{deg2rad:a,doc:l,svg:c,SVG_NS:u,win:h}=i,{addEvent:d,attr:p,createElement:f,css:g,defined:m,erase:y,extend:v,fireEvent:_,isArray:C,isFunction:b,isObject:E,isString:S,merge:w,objectEach:O,pick:x,pInt:P,syncTimeout:T,uniqueKey:M}=o;class D{constructor(){this.element=void 0,this.onEvents={},this.opacity=1,this.renderer=void 0,this.SVG_NS=u}_defaultGetter(t){return t=x(this[t+"Value"],this[t],this.element?this.element.getAttribute(t):null,0),/^[\-0-9\.]+$/.test(t)&&(t=parseFloat(t)),t}_defaultSetter(t,e,i){i.setAttribute(e,t)}add(t){const e=this.renderer,i=this.element;let o;return t&&(this.parentGroup=t),void 0!==this.textStr&&"text"===this.element.nodeName&&e.buildText(this),this.added=!0,(!t||t.handleZ||this.zIndex)&&(o=this.zIndexSetter()),o||(t?t.element:e.box).appendChild(i),this.onAdd&&this.onAdd(),this}addClass(t,e){const i=e?"":this.attr("class")||"";return t=(t||"").split(/ /g).reduce((function(t,e){return-1===i.indexOf(e)&&t.push(e),t}),i?[i]:[]).join(" "),t!==i&&this.attr("class",t),this}afterSetters(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)}align(t,e,i){const o={};var n,r=this.renderer,s=r.alignedObjects;let a,l;t?(this.alignOptions=t,this.alignByTranslate=e,(!i||S(i))&&(this.alignTo=n=i||"renderer",y(s,this),s.push(this),i=void 0)):(t=this.alignOptions,e=this.alignByTranslate,n=this.alignTo),i=x(i,r[n],"scrollablePlotBox"===n?r.plotBox:void 0,r),n=t.align;const c=t.verticalAlign;return r=(i.x||0)+(t.x||0),s=(i.y||0)+(t.y||0),"right"===n?a=1:"center"===n&&(a=2),a&&(r+=(i.width-(t.width||0))/a),o[e?"translateX":"x"]=Math.round(r),"bottom"===c?l=1:"middle"===c&&(l=2),l&&(s+=(i.height-(t.height||0))/l),o[e?"translateY":"y"]=Math.round(s),this[this.placed?"animate":"attr"](o),this.placed=!0,this.alignAttr=o,this}alignSetter(t){const e={left:"start",center:"middle",right:"end"};e[t]&&(this.alignValue=t,this.element.setAttribute("text-anchor",e[t]))}animate(t,e,i){const o=r(x(e,this.renderer.globalAnimation,!0));return e=o.defer,l.hidden&&(o.duration=0),0!==o.duration?(i&&(o.complete=i),T((()=>{this.element&&n(this,t,o)}),e)):(this.attr(t,void 0,i||o.complete),O(t,(function(t,e){o.step&&o.step.call(this,t,{prop:e,pos:1,elem:this})}),this)),this}applyTextOutline(t){const e=this.element;-1!==t.indexOf("contrast")&&(t=t.replace(/contrast/g,this.renderer.getContrast(e.style.fill)));var o=t.split(" ");if(t=o[o.length-1],(o=o[0])&&"none"!==o&&i.svg){this.fakeTS=!0,o=o.replace(/(^[\d\.]+)(.*?)$/g,(function(t,e,i){return 2*Number(e)+i})),this.removeTextOutline();const i=l.createElementNS(u,"tspan");p(i,{class:"highcharts-text-outline",fill:t,stroke:t,"stroke-width":o,"stroke-linejoin":"round"}),t=e.querySelector("textPath")||e,[].forEach.call(t.childNodes,(t=>{const e=t.cloneNode(!0);e.removeAttribute&&["fill","stroke","stroke-width","stroke"].forEach((t=>e.removeAttribute(t))),i.appendChild(e)}));let n=0;[].forEach.call(t.querySelectorAll("text tspan"),(t=>{n+=Number(t.getAttribute("dy"))})),(o=l.createElementNS(u,"tspan")).textContent="​",p(o,{x:Number(e.getAttribute("x")),dy:-n}),i.appendChild(o),t.insertBefore(i,t.firstChild)}}attr(t,e,i,o){const n=this.element,r=D.symbolCustomAttribs;let a,l,c,u,h=this;return"string"==typeof t&&void 0!==e&&(a=t,(t={})[a]=e),"string"==typeof t?h=(this[t+"Getter"]||this._defaultGetter).call(this,t,n):(O(t,(function(e,i){c=!1,o||s(this,i),this.symbolName&&-1!==r.indexOf(i)&&(l||(this.symbolAttr(t),l=!0),c=!0),!this.rotation||"x"!==i&&"y"!==i||(this.doTransform=!0),c||(u=this[i+"Setter"]||this._defaultSetter,u.call(this,e,i,n))}),this),this.afterSetters()),i&&i.call(this),h}clip(t){return this.attr("clip-path",t?"url("+this.renderer.url+"#"+t.id+")":"none")}crisp(t,e){e=e||t.strokeWidth||0;const i=Math.round(e)%2/2;return t.x=Math.floor(t.x||this.x||0)+i,t.y=Math.floor(t.y||this.y||0)+i,t.width=Math.floor((t.width||this.width||0)-2*i),t.height=Math.floor((t.height||this.height||0)-2*i),m(t.strokeWidth)&&(t.strokeWidth=e),t}complexColor(t,i,o){const n=this.renderer;let r,s,a,l,c,u,h,d,p,f,g,y=[];_(this.renderer,"complexColor",{args:arguments},(function(){if(t.radialGradient?s="radialGradient":t.linearGradient&&(s="linearGradient"),s){if(a=t[s],c=n.gradients,u=t.stops,p=o.radialReference,C(a)&&(t[s]=a={x1:a[0],y1:a[1],x2:a[2],y2:a[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===s&&p&&!m(a.gradientUnits)&&(l=a,a=w(a,n.getRadialAttr(p,l),{gradientUnits:"userSpaceOnUse"})),O(a,(function(t,e){"id"!==e&&y.push(e,t)})),O(u,(function(t){y.push(t)})),y=y.join(","),c[y])f=c[y].attr("id");else{a.id=f=M();const t=c[y]=n.createElement(s).attr(a).add(n.defs);t.radAttr=l,t.stops=[],u.forEach((function(i){0===i[1].indexOf("rgba")?(r=e.parse(i[1]),h=r.get("rgb"),d=r.get("a")):(h=i[1],d=1),i=n.createElement("stop").attr({offset:i[0],"stop-color":h,"stop-opacity":d}).add(t),t.stops.push(i)}))}g="url("+n.url+"#"+f+")",o.setAttribute(i,g),o.gradient=y,t.toString=function(){return g}}}))}css(t){const e=this.styles,i={},o=this.element;let n,r=!e;if(t.color&&(t.fill=t.color),e&&O(t,(function(t,o){e&&e[o]!==t&&(i[o]=t,r=!0)})),r){e&&(t=v(e,i)),null===t.width||"auto"===t.width?delete this.textWidth:"text"===o.nodeName.toLowerCase()&&t.width&&(n=this.textWidth=P(t.width)),this.styles=t,n&&!c&&this.renderer.forExport&&delete t.width;const r=w(t);o.namespaceURI===this.SVG_NS&&["textOutline","textOverflow","width"].forEach((t=>r&&delete r[t])),g(o,r)}return this.added&&("text"===this.element.nodeName&&this.renderer.buildText(this),t.textOutline&&this.applyTextOutline(t.textOutline)),this}dashstyleSetter(t){let e=this["stroke-width"];if("inherit"===e&&(e=1),t=t&&t.toLowerCase()){const i=t.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(t=i.length;t--;)i[t]=""+P(i[t])*x(e,NaN);t=i.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",t)}}destroy(){const t=this;var e=t.element||{};const i=t.renderer;var o=e.ownerSVGElement;let n="SPAN"===e.nodeName&&t.parentGroup||void 0;if(e.onclick=e.onmouseout=e.onmouseover=e.onmousemove=e.point=null,s(t),t.clipPath&&o){const e=t.clipPath;[].forEach.call(o.querySelectorAll("[clip-path],[CLIP-PATH]"),(function(t){-1<t.getAttribute("clip-path").indexOf(e.element.id)&&t.removeAttribute("clip-path")})),t.clipPath=e.destroy()}if(t.stops){for(o=0;o<t.stops.length;o++)t.stops[o].destroy();t.stops.length=0,t.stops=void 0}for(t.safeRemoveChild(e);n&&n.div&&0===n.div.childNodes.length;)e=n.parentGroup,t.safeRemoveChild(n.div),delete n.div,n=e;t.alignTo&&y(i.alignedObjects,t),O(t,(function(e,i){t[i]&&t[i].parentGroup===t&&t[i].destroy&&t[i].destroy(),delete t[i]}))}dSetter(t,e,i){C(t)&&("string"==typeof t[0]&&(t=this.renderer.pathToSegments(t)),this.pathArray=t,t=t.reduce(((t,e,i)=>e&&e.join?(i?t+" ":"")+e.join(" "):(e||"").toString()),"")),/(NaN| {2}|^$)/.test(t)&&(t="M 0 0"),this[e]!==t&&(i.setAttribute(e,t),this[e]=t)}fadeOut(t){const e=this;e.animate({opacity:0},{duration:x(t,150),complete:function(){e.hide()}})}fillSetter(t,e,i){"string"==typeof t?i.setAttribute(e,t):t&&this.complexColor(t,e,i)}getBBox(t,e){const{alignValue:i,element:o,renderer:n,styles:r,textStr:s}=this,{cache:l,cacheKeys:c}=n;var u=o.namespaceURI===this.SVG_NS;e=x(e,this.rotation,0);var h=n.styledMode?o&&D.prototype.getStyle.call(o,"font-size"):r&&r.fontSize;let d,p;if(m(s)&&(p=s.toString(),-1===p.indexOf("<")&&(p=p.replace(/[0-9]/g,"0")),p+=["",n.rootFontSize,h,e,this.textWidth,i,r&&r.textOverflow,r&&r.fontWeight].join()),p&&!t&&(d=l[p]),!d){if(u||n.forExport){try{var f=this.fakeTS&&function(t){const e=o.querySelector(".highcharts-text-outline");e&&g(e,{display:t})};b(f)&&f("none"),d=o.getBBox?v({},o.getBBox()):{width:o.offsetWidth,height:o.offsetHeight,x:0,y:0},b(f)&&f("")}catch(t){}(!d||0>d.width)&&(d={x:0,y:0,width:0,height:0})}else d=this.htmlGetBBox();if(f=d.width,t=d.height,u&&(d.height=t={"11px,17":14,"13px,20":16}[`${h||""},${Math.round(t)}`]||t),e){u=Number(o.getAttribute("y")||0)-d.y,h={right:1,center:.5}[i||0]||0;var y=e*a,_=(e-90)*a,C=f*Math.cos(y);e=f*Math.sin(y);var E=Math.cos(_);y=Math.sin(_),C=(E=(_=(f=d.x+h*(f-C)+u*E)+C)-t*E)-C,e=(t=(h=(u=d.y+u-h*e+u*y)+e)-t*y)-e,d.x=Math.min(f,_,E,C),d.y=Math.min(u,h,t,e),d.width=Math.max(f,_,E,C)-d.x,d.height=Math.max(u,h,t,e)-d.y}}if(p&&(""===s||0<d.height)){for(;250<c.length;)delete l[c.shift()];l[p]||c.push(p),l[p]=d}return d}getStyle(t){return h.getComputedStyle(this.element||this,"").getPropertyValue(t)}hasClass(t){return-1!==(""+this.attr("class")).split(" ").indexOf(t)}hide(){return this.attr({visibility:"hidden"})}htmlGetBBox(){return{height:0,width:0,x:0,y:0}}init(t,e){this.element="span"===e?f(e):l.createElementNS(this.SVG_NS,e),this.renderer=t,_(this,"afterInit")}on(t,e){const{onEvents:i}=this;return i[t]&&i[t](),i[t]=d(this.element,t,e),this}opacitySetter(t,e,i){this.opacity=t=Number(Number(t).toFixed(3)),i.setAttribute(e,t)}removeClass(t){return this.attr("class",(""+this.attr("class")).replace(S(t)?new RegExp(`(^| )${t}( |$)`):t," ").replace(/ +/g," ").trim())}removeTextOutline(){const t=this.element.querySelector("tspan.highcharts-text-outline");t&&this.safeRemoveChild(t)}safeRemoveChild(t){const e=t.parentNode;e&&e.removeChild(t)}setRadialReference(t){const e=this.element.gradient&&this.renderer.gradients[this.element.gradient];return this.element.radialReference=t,e&&e.radAttr&&e.animate(this.renderer.getRadialAttr(t,e.radAttr)),this}setTextPath(t,e){e=w(!0,{enabled:!0,attributes:{dy:-5,startOffset:"50%",textAnchor:"middle"}},e);const i=this.renderer.url,o=this.text||this,n=o.textPath,{attributes:r,enabled:s}=e;return t=t||n&&n.path,n&&n.undo(),t&&s?(e=d(o,"afterModifyTree",(e=>{if(t&&s){let s=t.attr("id");s||t.attr("id",s=M());var n={x:0,y:0};m(r.dx)&&(n.dx=r.dx,delete r.dx),m(r.dy)&&(n.dy=r.dy,delete r.dy),o.attr(n),this.attr({transform:""}),this.box&&(this.box=this.box.destroy()),n=e.nodes.slice(0),e.nodes.length=0,e.nodes[0]={tagName:"textPath",attributes:v(r,{"text-anchor":r.textAnchor,href:`${i}#${s}`}),children:n}}})),o.textPath={path:t,undo:e}):(o.attr({dx:0,dy:0}),delete o.textPath),this.added&&(o.textCache="",this.renderer.buildText(o)),this}shadow(t){var e;const{renderer:i}=this,o=w(90===(null===(e=this.parentGroup)||void 0===e?void 0:e.rotation)?{offsetX:-1,offsetY:-1}:{},E(t)?t:{});return e=i.shadowDefinition(o),this.attr({filter:t?`url(${i.url}#${e})`:"none"})}show(t=!0){return this.attr({visibility:t?"inherit":"visible"})}"stroke-widthSetter"(t,e,i){this[e]=t,i.setAttribute(e,t)}strokeWidth(){if(!this.renderer.styledMode)return this["stroke-width"]||0;const t=this.getStyle("stroke-width");let e,i=0;return t.indexOf("px")===t.length-2?i=P(t):""!==t&&(e=l.createElementNS(u,"rect"),p(e,{width:t,"stroke-width":0}),this.element.parentNode.appendChild(e),i=e.getBBox().width,e.parentNode.removeChild(e)),i}symbolAttr(t){const e=this;D.symbolCustomAttribs.forEach((function(i){e[i]=x(t[i],e[i])})),e.attr({d:e.renderer.symbols[e.symbolName](e.x,e.y,e.width,e.height,e)})}textSetter(t){t!==this.textStr&&(delete this.textPxLength,this.textStr=t,this.added&&this.renderer.buildText(this))}titleSetter(t){const e=this.element,i=e.getElementsByTagName("title")[0]||l.createElementNS(this.SVG_NS,"title");e.insertBefore?e.insertBefore(i,e.firstChild):e.appendChild(i),i.textContent=String(x(t,"")).replace(/<[^>]*>/g,"").replace(/&lt;/g,"<").replace(/&gt;/g,">")}toFront(){const t=this.element;return t.parentNode.appendChild(t),this}translate(t,e){return this.attr({translateX:t,translateY:e})}updateTransform(){const{element:t,matrix:e,rotation:i=0,scaleX:o,scaleY:n,translateX:r=0,translateY:s=0}=this,a=["translate("+r+","+s+")"];m(e)&&a.push("matrix("+e.join(",")+")"),i&&a.push("rotate("+i+" "+x(this.rotationOriginX,t.getAttribute("x"),0)+" "+x(this.rotationOriginY,t.getAttribute("y")||0)+")"),(m(o)||m(n))&&a.push("scale("+x(o,1)+" "+x(n,1)+")"),a.length&&!(this.text||this).textPath&&t.setAttribute("transform",a.join(" "))}visibilitySetter(t,e,i){"inherit"===t?i.removeAttribute(e):this[e]!==t&&i.setAttribute(e,t),this[e]=t}xGetter(t){return"circle"===this.element.nodeName&&("x"===t?t="cx":"y"===t&&(t="cy")),this._defaultGetter(t)}zIndexSetter(t,e){var i=this.renderer,o=this.parentGroup;const n=(o||i).element||i.box,r=this.element;i=n===i.box;let s,a=!1;var l=this.added;let c;if(m(t)?(r.setAttribute("data-z-index",t),t=+t,this[e]===t&&(l=!1)):m(this[e])&&r.removeAttribute("data-z-index"),this[e]=t,l){for((t=this.zIndex)&&o&&(o.handleZ=!0),c=(e=n.childNodes).length-1;0<=c&&!a;c--)l=(o=e[c]).getAttribute("data-z-index"),s=!m(l),o!==r&&(0>t&&s&&!i&&!c?(n.insertBefore(r,e[c]),a=!0):(P(l)<=t||s&&(!m(t)||0<=t))&&(n.insertBefore(r,e[c+1]),a=!0));a||(n.insertBefore(r,e[i?3:0]),a=!0)}return a}}return D.symbolCustomAttribs="anchorX anchorY clockwise end height innerR r start width x y".split(" "),D.prototype.strokeSetter=D.prototype.fillSetter,D.prototype.yGetter=D.prototype.xGetter,D.prototype.matrixSetter=D.prototype.rotationOriginXSetter=D.prototype.rotationOriginYSetter=D.prototype.rotationSetter=D.prototype.scaleXSetter=D.prototype.scaleYSetter=D.prototype.translateXSetter=D.prototype.translateYSetter=D.prototype.verticalAlignSetter=function(t,e){this[e]=t,this.doTransform=!0},D})),e(i,"Core/Renderer/RendererRegistry.js",[i["Core/Globals.js"]],(function(t){var e;return function(e){let i;e.rendererTypes={},e.getRendererType=function(t=i){return e.rendererTypes[t]||e.rendererTypes[i]},e.registerRendererType=function(o,n,r){e.rendererTypes[o]=n,i&&!r||(i=o,t.Renderer=n)}}(e||(e={})),e})),e(i,"Core/Renderer/SVG/SVGLabel.js",[i["Core/Renderer/SVG/SVGElement.js"],i["Core/Utilities.js"]],(function(t,e){const{defined:i,extend:o,isNumber:n,merge:r,pick:s,removeEvent:a}=e;class l extends t{constructor(t,e,i,o,n,r,s,a,c,u){let h;super(),this.paddingRightSetter=this.paddingLeftSetter=this.paddingSetter,this.init(t,"g"),this.textStr=e,this.x=i,this.y=o,this.anchorX=r,this.anchorY=s,this.baseline=c,this.className=u,this.addClass("button"===u?"highcharts-no-tooltip":"highcharts-label"),u&&this.addClass("highcharts-"+u),this.text=t.text(void 0,0,0,a).attr({zIndex:1}),"string"==typeof n&&((h=/^url\((.*?)\)$/.test(n))||this.renderer.symbols[n])&&(this.symbolKey=n),this.bBox=l.emptyBBox,this.padding=3,this.baselineOffset=0,this.needsBox=t.styledMode||h,this.deferredAttr={},this.alignFactor=0}alignSetter(t){(t={left:0,center:.5,right:1}[t])!==this.alignFactor&&(this.alignFactor=t,this.bBox&&n(this.xSetting)&&this.attr({x:this.xSetting}))}anchorXSetter(t,e){this.anchorX=t,this.boxAttr(e,Math.round(t)-this.getCrispAdjust()-this.xSetting)}anchorYSetter(t,e){this.anchorY=t,this.boxAttr(e,t-this.ySetting)}boxAttr(t,e){this.box?this.box.attr(t,e):this.deferredAttr[t]=e}css(e){if(e){const t={};e=r(e),l.textProps.forEach((i=>{void 0!==e[i]&&(t[i]=e[i],delete e[i])})),this.text.css(t),"fontSize"in t||"fontWeight"in t?this.updateTextPadding():("width"in t||"textOverflow"in t)&&this.updateBoxSize()}return t.prototype.css.call(this,e)}destroy(){a(this.element,"mouseenter"),a(this.element,"mouseleave"),this.text&&this.text.destroy(),this.box&&(this.box=this.box.destroy()),t.prototype.destroy.call(this)}fillSetter(t,e){t&&(this.needsBox=!0),this.fill=t,this.boxAttr(e,t)}getBBox(){this.textStr&&0===this.bBox.width&&0===this.bBox.height&&this.updateBoxSize();const t=this.padding,e=s(this.paddingLeft,t);return{width:this.width,height:this.height,x:this.bBox.x-e,y:this.bBox.y-t}}getCrispAdjust(){return this.renderer.styledMode&&this.box?this.box.strokeWidth()%2/2:(this["stroke-width"]?parseInt(this["stroke-width"],10):0)%2/2}heightSetter(t){this.heightSetting=t}onAdd(){this.text.add(this),this.attr({text:s(this.textStr,""),x:this.x||0,y:this.y||0}),this.box&&i(this.anchorX)&&this.attr({anchorX:this.anchorX,anchorY:this.anchorY})}paddingSetter(t,e){n(t)?t!==this[e]&&(this[e]=t,this.updateTextPadding()):this[e]=void 0}rSetter(t,e){this.boxAttr(e,t)}strokeSetter(t,e){this.stroke=t,this.boxAttr(e,t)}"stroke-widthSetter"(t,e){t&&(this.needsBox=!0),this["stroke-width"]=t,this.boxAttr(e,t)}"text-alignSetter"(t){this.textAlign=t}textSetter(t){void 0!==t&&this.text.attr({text:t}),this.updateTextPadding()}updateBoxSize(){var t=this.text;const e={},r=this.padding,s=this.bBox=n(this.widthSetting)&&n(this.heightSetting)&&!this.textAlign||!i(t.textStr)?l.emptyBBox:t.getBBox();this.width=this.getPaddedWidth(),this.height=(this.heightSetting||s.height||0)+2*r;const a=this.renderer.fontMetrics(t);this.baselineOffset=r+Math.min((this.text.firstLineMetrics||a).b,s.height||1/0),this.heightSetting&&(this.baselineOffset+=(this.heightSetting-a.h)/2),this.needsBox&&!t.textPath&&(this.box||((t=this.box=this.symbolKey?this.renderer.symbol(this.symbolKey):this.renderer.rect()).addClass(("button"===this.className?"":"highcharts-label-box")+(this.className?" highcharts-"+this.className+"-box":"")),t.add(this)),t=this.getCrispAdjust(),e.x=t,e.y=(this.baseline?-this.baselineOffset:0)+t,e.width=Math.round(this.width),e.height=Math.round(this.height),this.box.attr(o(e,this.deferredAttr)),this.deferredAttr={})}updateTextPadding(){const t=this.text;if(!t.textPath){this.updateBoxSize();const e=this.baseline?0:this.baselineOffset;let o=s(this.paddingLeft,this.padding);i(this.widthSetting)&&this.bBox&&("center"===this.textAlign||"right"===this.textAlign)&&(o+={center:.5,right:1}[this.textAlign]*(this.widthSetting-this.bBox.width)),o===t.x&&e===t.y||(t.attr("x",o),t.hasBoxWidthChanged&&(this.bBox=t.getBBox(!0)),void 0!==e&&t.attr("y",e)),t.x=o,t.y=e}}widthSetter(t){this.widthSetting=n(t)?t:void 0}getPaddedWidth(){var t=this.padding;const e=s(this.paddingLeft,t);return t=s(this.paddingRight,t),(this.widthSetting||this.bBox.width||0)+e+t}xSetter(t){this.x=t,this.alignFactor&&(t-=this.alignFactor*this.getPaddedWidth(),this["forceAnimate:x"]=!0),this.xSetting=Math.round(t),this.attr("translateX",this.xSetting)}ySetter(t){this.ySetting=this.y=Math.round(t),this.attr("translateY",this.ySetting)}}return l.emptyBBox={width:0,height:0,x:0,y:0},l.textProps="color direction fontFamily fontSize fontStyle fontWeight lineHeight textAlign textDecoration textOutline textOverflow whiteSpace width".split(" "),l})),e(i,"Core/Renderer/SVG/Symbols.js",[i["Core/Utilities.js"]],(function(t){function e(t,e,i,o,r){const a=[];if(r){const l=r.start||0,c=s(r.r,i);i=s(r.r,o||i),o=(r.end||0)-.001;const u=r.innerR,h=s(r.open,.001>Math.abs((r.end||0)-l-2*Math.PI)),d=Math.cos(l),p=Math.sin(l),f=Math.cos(o),g=Math.sin(o),m=s(r.longArc,.001>o-l-Math.PI?0:1);let y=["A",c,i,0,m,s(r.clockwise,1),t+c*f,e+i*g];y.params={start:l,end:o,cx:t,cy:e},a.push(["M",t+c*d,e+i*p],y),n(u)&&(y=["A",u,u,0,m,n(r.clockwise)?1-r.clockwise:0,t+u*d,e+u*p],y.params={start:o,end:l,cx:t,cy:e},a.push(h?["M",t+u*f,e+u*g]:["L",t+u*f,e+u*g],y)),h||a.push(["Z"])}return a}function i(t,e,i,n,r){return r&&r.r?o(t,e,i,n,r):[["M",t,e],["L",t+i,e],["L",t+i,e+n],["L",t,e+n],["Z"]]}function o(t,e,i,o,n){return[["M",t+(n=(null==n?void 0:n.r)||0),e],["L",t+i-n,e],["A",n,n,0,0,1,t+i,e+n],["L",t+i,e+o-n],["A",n,n,0,0,1,t+i-n,e+o],["L",t+n,e+o],["A",n,n,0,0,1,t,e+o-n],["L",t,e+n],["A",n,n,0,0,1,t+n,e],["Z"]]}const{defined:n,isNumber:r,pick:s}=t;return{arc:e,callout:function(t,e,i,n,s){const a=Math.min(s&&s.r||0,i,n),l=a+6,c=s&&s.anchorX;s=s&&s.anchorY||0;const u=o(t,e,i,n,{r:a});return r(c)?(t+c>=i?s>e+l&&s<e+n-l?u.splice(3,1,["L",t+i,s-6],["L",t+i+6,s],["L",t+i,s+6],["L",t+i,e+n-a]):u.splice(3,1,["L",t+i,n/2],["L",c,s],["L",t+i,n/2],["L",t+i,e+n-a]):0>=t+c?s>e+l&&s<e+n-l?u.splice(7,1,["L",t,s+6],["L",t-6,s],["L",t,s-6],["L",t,e+a]):u.splice(7,1,["L",t,n/2],["L",c,s],["L",t,n/2],["L",t,e+a]):s&&s>n&&c>t+l&&c<t+i-l?u.splice(5,1,["L",c+6,e+n],["L",c,e+n+6],["L",c-6,e+n],["L",t+a,e+n]):s&&0>s&&c>t+l&&c<t+i-l&&u.splice(1,1,["L",c-6,e],["L",c,e-6],["L",c+6,e],["L",i-a,e]),u):u},circle:function(t,i,o,n){return e(t+o/2,i+n/2,o/2,n/2,{start:.5*Math.PI,end:2.5*Math.PI,open:!1})},diamond:function(t,e,i,o){return[["M",t+i/2,e],["L",t+i,e+o/2],["L",t+i/2,e+o],["L",t,e+o/2],["Z"]]},rect:i,roundedRect:o,square:i,triangle:function(t,e,i,o){return[["M",t+i/2,e],["L",t+i,e+o],["L",t,e+o],["Z"]]},"triangle-down":function(t,e,i,o){return[["M",t,e],["L",t+i,e],["L",t+i/2,e+o],["Z"]]}}})),e(i,"Core/Renderer/SVG/TextBuilder.js",[i["Core/Renderer/HTML/AST.js"],i["Core/Globals.js"],i["Core/Utilities.js"]],(function(t,e,i){const{doc:o,SVG_NS:n,win:r}=e,{attr:s,extend:a,fireEvent:l,isString:c,objectEach:u,pick:h}=i;return class{constructor(t){const e=t.styles;this.renderer=t.renderer,this.svgElement=t,this.width=t.textWidth,this.textLineHeight=e&&e.lineHeight,this.textOutline=e&&e.textOutline,this.ellipsis=!(!e||"ellipsis"!==e.textOverflow),this.noWrap=!(!e||"nowrap"!==e.whiteSpace)}buildSVG(){const e=this.svgElement,i=e.element;var n=e.renderer,r=h(e.textStr,"").toString();const s=-1!==r.indexOf("<"),a=i.childNodes;n=!e.added&&n.box;const l=/<br.*?>/g;var u=[r,this.ellipsis,this.noWrap,this.textLineHeight,this.textOutline,e.getStyle("font-size"),this.width].join();if(u!==e.textCache){for(e.textCache=u,delete e.actualWidth,u=a.length;u--;)i.removeChild(a[u]);s||this.ellipsis||this.width||e.textPath||-1!==r.indexOf(" ")&&(!this.noWrap||l.test(r))?""!==r&&(n&&n.appendChild(i),r=new t(r),this.modifyTree(r.nodes),r.addToDOM(i),this.modifyDOM(),this.ellipsis&&-1!==(i.textContent||"").indexOf("…")&&e.attr("title",this.unescapeEntities(e.textStr||"",["&lt;","&gt;"])),n&&n.removeChild(i)):i.appendChild(o.createTextNode(this.unescapeEntities(r))),c(this.textOutline)&&e.applyTextOutline&&e.applyTextOutline(this.textOutline)}}modifyDOM(){const t=this.svgElement,e=s(t.element,"x");let i;for(t.firstLineMetrics=void 0;(i=t.element.firstChild)&&/^[\s\u200B]*$/.test(i.textContent||" ");)t.element.removeChild(i);[].forEach.call(t.element.querySelectorAll("tspan.highcharts-br"),((i,o)=>{i.nextSibling&&i.previousSibling&&(0===o&&1===i.previousSibling.nodeType&&(t.firstLineMetrics=t.renderer.fontMetrics(i.previousSibling)),s(i,{dy:this.getLineHeight(i.nextSibling),x:e}))}));const a=this.width||0;if(a){var l=(i,r)=>{var l=i.textContent||"";const c=l.replace(/([^\^])-/g,"$1- ").split(" ");var u=!this.noWrap&&(1<c.length||1<t.element.childNodes.length);const h=this.getLineHeight(r);let d=0,p=t.actualWidth;if(this.ellipsis)l&&this.truncate(i,l,void 0,0,Math.max(0,a-.8*h),((t,e)=>t.substring(0,e)+"…"));else if(u){for(l=[],u=[];r.firstChild&&r.firstChild!==i;)u.push(r.firstChild),r.removeChild(r.firstChild);for(;c.length;)c.length&&!this.noWrap&&0<d&&(l.push(i.textContent||""),i.textContent=c.join(" ").replace(/- /g,"-")),this.truncate(i,void 0,c,0===d&&p||0,a,((t,e)=>c.slice(0,e).join(" ").replace(/- /g,"-"))),p=t.actualWidth,d++;u.forEach((t=>{r.insertBefore(t,i)})),l.forEach((t=>{r.insertBefore(o.createTextNode(t),i),(t=o.createElementNS(n,"tspan")).textContent="​",s(t,{dy:h,x:e}),r.insertBefore(t,i)}))}},c=e=>{[].slice.call(e.childNodes).forEach((i=>{i.nodeType===r.Node.TEXT_NODE?l(i,e):(-1!==i.className.baseVal.indexOf("highcharts-br")&&(t.actualWidth=0),c(i))}))};c(t.element)}}getLineHeight(t){return t=t.nodeType===r.Node.TEXT_NODE?t.parentElement:t,this.textLineHeight?parseInt(this.textLineHeight.toString(),10):this.renderer.fontMetrics(t||this.svgElement.element).h}modifyTree(t){const e=(i,o)=>{const{attributes:n={},children:r,style:s={},tagName:l}=i,c=this.renderer.styledMode;"b"===l||"strong"===l?c?n.class="highcharts-strong":s.fontWeight="bold":"i"!==l&&"em"!==l||(c?n.class="highcharts-emphasized":s.fontStyle="italic"),s&&s.color&&(s.fill=s.color),"br"===l?(n.class="highcharts-br",i.textContent="​",(o=t[o+1])&&o.textContent&&(o.textContent=o.textContent.replace(/^ +/gm,""))):"a"===l&&r&&r.some((t=>"#text"===t.tagName))&&(i.children=[{children:r,tagName:"tspan"}]),"#text"!==l&&"a"!==l&&(i.tagName="tspan"),a(i,{attributes:n,style:s}),r&&r.filter((t=>"#text"!==t.tagName)).forEach(e)};t.forEach(e),l(this.svgElement,"afterModifyTree",{nodes:t})}truncate(t,e,i,o,n,r){const s=this.svgElement,{rotation:a}=s,l=[];let c,u,h=i?1:0,d=(e||i||"").length,p=d;const f=function(e,n){if(e=n||e,(n=t.parentNode)&&void 0===l[e]&&n.getSubStringLength)try{l[e]=o+n.getSubStringLength(0,i?e+1:e)}catch(t){}return l[e]};if(s.rotation=0,u=f(t.textContent.length),o+u>n){for(;h<=d;)p=Math.ceil((h+d)/2),i&&(c=r(i,p)),u=f(p,c&&c.length-1),h===d?h=d+1:u>n?d=p-1:h=p;0===d?t.textContent="":e&&d===e.length-1||(t.textContent=c||r(e||i,p))}i&&i.splice(0,p),s.actualWidth=u,s.rotation=a}unescapeEntities(t,e){return u(this.renderer.escapes,(function(i,o){e&&-1!==e.indexOf(i)||(t=t.toString().replace(new RegExp(i,"g"),o))})),t}}})),e(i,"Core/Renderer/SVG/SVGRenderer.js",[i["Core/Renderer/HTML/AST.js"],i["Core/Color/Color.js"],i["Core/Globals.js"],i["Core/Renderer/RendererRegistry.js"],i["Core/Renderer/SVG/SVGElement.js"],i["Core/Renderer/SVG/SVGLabel.js"],i["Core/Renderer/SVG/Symbols.js"],i["Core/Renderer/SVG/TextBuilder.js"],i["Core/Utilities.js"]],(function(t,e,i,o,n,r,s,a,l){const{charts:c,deg2rad:u,doc:h,isFirefox:d,isMS:p,isWebKit:f,noop:g,SVG_NS:m,symbolSizes:y,win:v}=i,{addEvent:_,attr:C,createElement:b,css:E,defined:S,destroyObjectProperties:w,extend:O,isArray:x,isNumber:P,isObject:T,isString:M,merge:D,pick:A,pInt:R,uniqueKey:L}=l;let I;class N{constructor(t,e,i,o,n,r,s){this.width=this.url=this.style=this.imgCount=this.height=this.gradients=this.globalAnimation=this.defs=this.chartIndex=this.cacheKeys=this.cache=this.boxWrapper=this.box=this.alignedObjects=void 0,this.init(t,e,i,o,n,r,s)}init(t,e,i,o,n,r,s){const a=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"}),l=a.element;let c;s||a.css(this.getStyle(o)),t.appendChild(l),C(t,"dir","ltr"),-1===t.innerHTML.indexOf("xmlns")&&C(l,"xmlns",this.SVG_NS),this.box=l,this.boxWrapper=a,this.alignedObjects=[],this.url=this.getReferenceURL(),this.createElement("desc").add().element.appendChild(h.createTextNode("Created with Highcharts 11.0.1")),this.defs=this.createElement("defs").add(),this.allowHTML=r,this.forExport=n,this.styledMode=s,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.rootFontSize=a.getStyle("font-size"),this.setSize(e,i,!1),d&&t.getBoundingClientRect&&((e=function(){E(t,{left:0,top:0}),c=t.getBoundingClientRect(),E(t,{left:Math.ceil(c.left)-c.left+"px",top:Math.ceil(c.top)-c.top+"px"})})(),this.unSubPixelFix=_(v,"resize",e))}definition(e){return new t([e]).addToDOM(this.defs.element)}getReferenceURL(){if((d||f)&&h.getElementsByTagName("base").length){if(!S(I)){var e=L();e=new t([{tagName:"svg",attributes:{width:8,height:8},children:[{tagName:"defs",children:[{tagName:"clipPath",attributes:{id:e},children:[{tagName:"rect",attributes:{width:4,height:4}}]}]},{tagName:"rect",attributes:{id:"hitme",width:8,height:8,"clip-path":`url(#${e})`,fill:"rgba(0,0,0,0.001)"}}]}]).addToDOM(h.body),E(e,{position:"fixed",top:0,left:0,zIndex:9e5});const i=h.elementFromPoint(6,6);I="hitme"===(i&&i.id),h.body.removeChild(e)}if(I)return v.location.href.split("#")[0].replace(/<[^>]*>/g,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20")}return""}getStyle(t){return this.style=O({fontFamily:"Helvetica, Arial, sans-serif",fontSize:"1rem"},t)}setStyle(t){this.boxWrapper.css(this.getStyle(t))}isHidden(){return!this.boxWrapper.getBBox().width}destroy(){const t=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),w(this.gradients||{}),this.gradients=null,this.defs=t.destroy(),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null}createElement(t){const e=new this.Element;return e.init(this,t),e}getRadialAttr(t,e){return{cx:t[0]-t[2]/2+(e.cx||0)*t[2],cy:t[1]-t[2]/2+(e.cy||0)*t[2],r:(e.r||0)*t[2]}}shadowDefinition(t){const e=[`highcharts-drop-shadow-${this.chartIndex}`,...Object.keys(t).map((e=>t[e]))].join("-").replace(/[^a-z0-9\-]/g,""),i=D({color:"#000000",offsetX:1,offsetY:1,opacity:.15,width:5},t);return this.defs.element.querySelector(`#${e}`)||this.definition({tagName:"filter",attributes:{id:e},children:[{tagName:"feDropShadow",attributes:{dx:i.offsetX,dy:i.offsetY,"flood-color":i.color,"flood-opacity":Math.min(5*i.opacity,1),stdDeviation:i.width/2}}]}),e}buildText(t){new a(t).buildSVG()}getContrast(t){return 1.05/(.05+(t=.2126*(t=e.parse(t).rgba.map((t=>.03928>=(t/=255)?t/12.92:Math.pow((t+.055)/1.055,2.4))))[0]+.7152*t[1]+.0722*t[2]))>(t+.05)/.05?"#FFFFFF":"#000000"}button(e,i,o,n,r={},s,a,l,c,u){const h=this.label(e,i,o,c,void 0,void 0,u,void 0,"button"),d=this.styledMode;e=r.states||{};let f=0;delete(r=D(r)).states;const g=D({color:"#333333",cursor:"pointer",fontSize:"0.8em",fontWeight:"normal"},r.style);delete r.style;let m,y,v,C=t.filterUserAttributes(r);return h.attr(D({padding:8,r:2},C)),d||(C=D({fill:"#f7f7f7",stroke:"#cccccc","stroke-width":1},C),s=D(C,{fill:"#e6e6e6"},t.filterUserAttributes(s||e.hover||{})),m=s.style,delete s.style,a=D(C,{fill:"#e6e9ff",style:{color:"#000000",fontWeight:"bold"}},t.filterUserAttributes(a||e.select||{})),y=a.style,delete a.style,l=D(C,{style:{color:"#cccccc"}},t.filterUserAttributes(l||e.disabled||{})),v=l.style,delete l.style),_(h.element,p?"mouseover":"mouseenter",(function(){3!==f&&h.setState(1)})),_(h.element,p?"mouseout":"mouseleave",(function(){3!==f&&h.setState(f)})),h.setState=function(t){1!==t&&(h.state=f=t),h.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][t||0]),d||(h.attr([C,s,a,l][t||0]),T(t=[g,m,y,v][t||0])&&h.css(t))},d||(h.attr(C).css(O({cursor:"default"},g)),u&&h.text.css({pointerEvents:"none"})),h.on("touchstart",(t=>t.stopPropagation())).on("click",(function(t){3!==f&&n.call(h,t)}))}crispLine(t,e,i="round"){const o=t[0],n=t[1];return S(o[1])&&o[1]===n[1]&&(o[1]=n[1]=Math[i](o[1])-e%2/2),S(o[2])&&o[2]===n[2]&&(o[2]=n[2]=Math[i](o[2])+e%2/2),t}path(t){const e=this.styledMode?{}:{fill:"none"};return x(t)?e.d=t:T(t)&&O(e,t),this.createElement("path").attr(e)}circle(t,e,i){return t=T(t)?t:void 0===t?{}:{x:t,y:e,r:i},(e=this.createElement("circle")).xSetter=e.ySetter=function(t,e,i){i.setAttribute("c"+e,t)},e.attr(t)}arc(t,e,i,o,n,r){return T(t)?(e=(o=t).y,i=o.r,t=o.x):o={innerR:o,start:n,end:r},(t=this.symbol("arc",t,e,i,i,o)).r=i,t}rect(t,e,i,o,n,r){t=T(t)?t:void 0===t?{}:{x:t,y:e,r:n,width:Math.max(i||0,0),height:Math.max(o||0,0)};const s=this.createElement("rect");return this.styledMode||(void 0!==r&&(t["stroke-width"]=r,O(t,s.crisp(t))),t.fill="none"),s.rSetter=function(t,e,i){s.r=t,C(i,{rx:t,ry:t})},s.rGetter=function(){return s.r||0},s.attr(t)}roundedRect(t){return this.symbol("roundedRect").attr(t)}setSize(t,e,i){this.width=t,this.height=e,this.boxWrapper.animate({width:t,height:e},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:A(i,!0)?void 0:0}),this.alignElements()}g(t){const e=this.createElement("g");return t?e.attr({class:"highcharts-"+t}):e}image(t,e,i,o,n,r){const s={preserveAspectRatio:"none"},a=function(t,e){t.setAttributeNS?t.setAttributeNS("http://www.w3.org/1999/xlink","href",e):t.setAttribute("hc-svg-href",e)};P(e)&&(s.x=e),P(i)&&(s.y=i),P(o)&&(s.width=o),P(n)&&(s.height=n);const l=this.createElement("image").attr(s);return e=function(e){a(l.element,t),r.call(l,e)},r?(a(l.element,"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),i=new v.Image,_(i,"load",e),i.src=t,i.complete&&e({})):a(l.element,t),l}symbol(t,e,i,o,n,r){const s=this,a=/^url\((.*?)\)$/,l=a.test(t),u=!l&&(this.symbols[t]?t:"circle"),d=u&&this.symbols[u];let p,f,g,m;if(d)"number"==typeof e&&(f=d.call(this.symbols,Math.round(e||0),Math.round(i||0),o||0,n||0,r)),p=this.path(f),s.styledMode||p.attr("fill","none"),O(p,{symbolName:u||void 0,x:e,y:i,width:o,height:n}),r&&O(p,r);else if(l){g=t.match(a)[1];const o=p=this.image(g);o.imgwidth=A(r&&r.width,y[g]&&y[g].width),o.imgheight=A(r&&r.height,y[g]&&y[g].height),m=t=>t.attr({width:t.width,height:t.height}),["width","height"].forEach((function(t){o[t+"Setter"]=function(t,e){this[e]=t;const{alignByTranslate:i,element:o,width:n,height:s,imgwidth:a,imgheight:l}=this;if(t=this["img"+e],S(t)){let c=1;r&&"within"===r.backgroundSize&&n&&s?(c=Math.min(n/a,s/l),C(o,{width:Math.round(a*c),height:Math.round(l*c)})):o&&o.setAttribute(e,t),i||this.translate(((n||0)-a*c)/2,((s||0)-l*c)/2)}}})),S(e)&&o.attr({x:e,y:i}),o.isImg=!0,S(o.imgwidth)&&S(o.imgheight)?m(o):(o.attr({width:0,height:0}),b("img",{onload:function(){const t=c[s.chartIndex];0===this.width&&(E(this,{position:"absolute",top:"-999em"}),h.body.appendChild(this)),y[g]={width:this.width,height:this.height},o.imgwidth=this.width,o.imgheight=this.height,o.element&&m(o),this.parentNode&&this.parentNode.removeChild(this),s.imgCount--,s.imgCount||!t||t.hasLoaded||t.onload()},src:g}),this.imgCount++)}return p}clipRect(t,e,i,o){const n=L()+"-",r=this.createElement("clipPath").attr({id:n}).add(this.defs);return(t=this.rect(t,e,i,o,0).add(r)).id=n,t.clipPath=r,t.count=0,t}text(t,e,i,o){const n={};return!o||!this.allowHTML&&this.forExport?(n.x=Math.round(e||0),i&&(n.y=Math.round(i)),S(t)&&(n.text=t),t=this.createElement("text").attr(n),(!o||this.forExport&&!this.allowHTML)&&(t.xSetter=function(t,e,i){const o=i.getElementsByTagName("tspan"),n=i.getAttribute(e);for(let i,r=0;r<o.length;r++)i=o[r],i.getAttribute(e)===n&&i.setAttribute(e,t);i.setAttribute(e,t)}),t):this.html(t,e,i)}fontMetrics(t){const e=24>(t=R(n.prototype.getStyle.call(t,"font-size")||0))?t+3:Math.round(1.2*t);return{h:e,b:Math.round(.8*e),f:t}}rotCorr(t,e,i){let o=t;return e&&i&&(o=Math.max(o*Math.cos(e*u),4)),{x:-t/3*Math.sin(e*u),y:o}}pathToSegments(t){const e=[],i=[],o={A:8,C:7,H:2,L:3,M:3,Q:5,S:5,T:3,V:2};for(let n=0;n<t.length;n++)M(i[0])&&P(t[n])&&i.length===o[i[0].toUpperCase()]&&t.splice(n,0,i[0].replace("M","L").replace("m","l")),"string"==typeof t[n]&&(i.length&&e.push(i.slice(0)),i.length=0),i.push(t[n]);return e.push(i.slice(0)),e}label(t,e,i,o,n,s,a,l,c){return new r(this,t,e,i,o,n,s,a,l,c)}alignElements(){this.alignedObjects.forEach((t=>t.align()))}}return O(N.prototype,{Element:n,SVG_NS:m,escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},symbols:s,draw:g}),o.registerRendererType("svg",N,!0),N})),e(i,"Core/Renderer/HTML/HTMLElement.js",[i["Core/Globals.js"],i["Core/Renderer/SVG/SVGElement.js"],i["Core/Utilities.js"]],(function(t,e,i){const{isFirefox:o,isMS:n,isWebKit:r,win:s}=t,{css:a,defined:l,extend:c,pick:u,pInt:h}=i,d=[];class p extends e{static compose(t){if(i.pushUnique(d,t)){const e=p.prototype,i=t.prototype;i.getSpanCorrection=e.getSpanCorrection,i.htmlCss=e.htmlCss,i.htmlGetBBox=e.htmlGetBBox,i.htmlUpdateTransform=e.htmlUpdateTransform,i.setSpanRotation=e.setSpanRotation}return t}getSpanCorrection(t,e,i){this.xCorr=-t*i,this.yCorr=-e}htmlCss(t){const e="SPAN"===this.element.tagName&&t&&"width"in t,i=u(e&&t.width,void 0);let o;return e&&(delete t.width,this.textWidth=i,o=!0),t&&"ellipsis"===t.textOverflow&&(t.whiteSpace="nowrap",t.overflow="hidden"),this.styles=c(this.styles,t),a(this.element,t),o&&this.htmlUpdateTransform(),this}htmlGetBBox(){const t=this.element;return{x:t.offsetLeft,y:t.offsetTop,width:t.offsetWidth,height:t.offsetHeight}}htmlUpdateTransform(){if(this.added){var t=this.renderer,e=this.element,i=this.x||0,o=this.y||0,n=this.textAlign||"left",r={left:0,center:.5,right:1}[n],s=this.styles,c=s&&s.whiteSpace;if(a(e,{marginLeft:this.translateX||0,marginTop:this.translateY||0}),"SPAN"===e.tagName){s=this.rotation;const d=this.textWidth&&h(this.textWidth),p=[s,n,e.innerHTML,this.textWidth,this.textAlign].join();let f=!1;if(d!==this.oldTextWidth){if(this.textPxLength)var u=this.textPxLength;else a(e,{width:"",whiteSpace:c||"nowrap"}),u=e.offsetWidth;(d>this.oldTextWidth||u>d)&&(/[ \-]/.test(e.textContent||e.innerText)||"ellipsis"===e.style.textOverflow)&&(a(e,{width:u>d||s?d+"px":"auto",display:"block",whiteSpace:c||"normal"}),this.oldTextWidth=d,f=!0)}this.hasBoxWidthChanged=f,p!==this.cTT&&(t=t.fontMetrics(e).b,!l(s)||s===(this.oldRotation||0)&&n===this.oldAlign||this.setSpanRotation(s,r,t),this.getSpanCorrection(!l(s)&&this.textPxLength||e.offsetWidth,t,r,s,n)),a(e,{left:i+(this.xCorr||0)+"px",top:o+(this.yCorr||0)+"px"}),this.cTT=p,this.oldRotation=s,this.oldAlign=n}}else this.alignOnAdd=!0}setSpanRotation(t,e,i){const l={},c=n&&!/Edge/.test(s.navigator.userAgent)?"-ms-transform":r?"-webkit-transform":o?"MozTransform":s.opera?"-o-transform":void 0;c&&(l[c]=l.transform="rotate("+t+"deg)",l[c+(o?"Origin":"-origin")]=l.transformOrigin=100*e+"% "+i+"px",a(this.element,l))}}return p})),e(i,"Core/Renderer/HTML/HTMLRenderer.js",[i["Core/Renderer/HTML/AST.js"],i["Core/Renderer/SVG/SVGElement.js"],i["Core/Renderer/SVG/SVGRenderer.js"],i["Core/Utilities.js"]],(function(t,e,i,o){const{attr:n,createElement:r,extend:s,pick:a}=o,l=[];class c extends i{static compose(t){return o.pushUnique(l,t)&&(t.prototype.html=c.prototype.html),t}html(i,o,l){const c=this.createElement("span"),u=c.element,h=c.renderer,d=function(t,i){["opacity","visibility"].forEach((function(o){t[o+"Setter"]=function(n,r,s){const a=t.div?t.div.style:i;e.prototype[o+"Setter"].call(this,n,r,s),a&&(a[r]=n)}})),t.addedSetters=!0};return c.textSetter=function(e){e!==this.textStr&&(delete this.bBox,delete this.oldTextWidth,t.setElementHTML(this.element,a(e,"")),this.textStr=e,c.doTransform=!0)},d(c,c.element.style),c.xSetter=c.ySetter=c.alignSetter=c.rotationSetter=function(t,e){"align"===e?c.alignValue=c.textAlign=t:c[e]=t,c.doTransform=!0},c.afterSetters=function(){this.doTransform&&(this.htmlUpdateTransform(),this.doTransform=!1)},c.attr({text:i,x:Math.round(o),y:Math.round(l)}).css({position:"absolute"}),h.styledMode||c.css({fontFamily:this.style.fontFamily,fontSize:this.style.fontSize}),u.style.whiteSpace="nowrap",c.css=c.htmlCss,c.add=function(t){const e=h.box.parentNode,i=[];let o;if(this.parentGroup=t){if(o=t.div,!o){for(;t;)i.push(t),t=t.parentGroup;i.reverse().forEach((function(t){function a(e,i){t[i]=e,"translateX"===i?h.left=e+"px":h.top=e+"px",t.doTransform=!0}const l=n(t.element,"class"),u=t.styles||{};o=t.div=t.div||r("div",l?{className:l}:void 0,{position:"absolute",left:(t.translateX||0)+"px",top:(t.translateY||0)+"px",display:t.display,opacity:t.opacity,visibility:t.visibility},o||e);const h=o.style;s(t,{classSetter:function(t){return function(e){this.element.setAttribute("class",e),t.className=e}}(o),css:function(e){return c.css.call(t,e),["cursor","pointerEvents"].forEach((t=>{e[t]&&(h[t]=e[t])})),t},on:function(){return i[0].div&&c.on.apply({element:i[0].div,onEvents:t.onEvents},arguments),t},translateXSetter:a,translateYSetter:a}),t.addedSetters||d(t),t.css(u)}))}}else o=e;return o.appendChild(u),c.added=!0,c.alignOnAdd&&c.htmlUpdateTransform(),c},c}}return c})),e(i,"Core/Axis/AxisDefaults.js",[],(function(){var t;return function(t){t.defaultXAxisOptions={alignTicks:!0,allowDecimals:void 0,panningEnabled:!0,zIndex:2,zoomEnabled:!0,dateTimeLabelFormats:{millisecond:{main:"%H:%M:%S.%L",range:!1},second:{main:"%H:%M:%S",range:!1},minute:{main:"%H:%M",range:!1},hour:{main:"%H:%M",range:!1},day:{main:"%e %b"},week:{main:"%e %b"},month:{main:"%b '%y"},year:{main:"%Y"}},endOnTick:!1,gridLineDashStyle:"Solid",gridZIndex:1,labels:{autoRotation:void 0,autoRotationLimit:80,distance:15,enabled:!0,indentation:10,overflow:"justify",padding:5,reserveSpace:void 0,rotation:void 0,staggerLines:0,step:0,useHTML:!1,zIndex:7,style:{color:"#333333",cursor:"default",fontSize:"0.8em"}},maxPadding:.01,minorGridLineDashStyle:"Solid",minorTickLength:2,minorTickPosition:"outside",minorTicksPerMajor:5,minPadding:.01,offset:void 0,opposite:!1,reversed:void 0,reversedStacks:!1,showEmpty:!0,showFirstLabel:!0,showLastLabel:!0,startOfWeek:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickmarkPlacement:"between",tickPosition:"outside",title:{align:"middle",rotation:0,useHTML:!1,x:0,y:0,style:{color:"#666666",fontSize:"0.8em"}},type:"linear",uniqueNames:!0,visible:!0,minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#333333",lineWidth:1,gridLineColor:"#e6e6e6",gridLineWidth:void 0,tickColor:"#333333"},t.defaultYAxisOptions={reversedStacks:!0,endOnTick:!0,maxPadding:.05,minPadding:.05,tickPixelInterval:72,showLastLabel:!0,labels:{x:void 0},startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{animation:{},allowOverlap:!1,enabled:!1,crop:!0,overflow:"justify",formatter:function(){const{numberFormatter:t}=this.axis.chart;return t(this.total||0,-1)},style:{color:"#000000",fontSize:"0.7em",fontWeight:"bold",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0},t.defaultLeftAxisOptions={title:{rotation:270}},t.defaultRightAxisOptions={title:{rotation:90}},t.defaultBottomAxisOptions={labels:{autoRotation:[-45]},margin:15,title:{rotation:0}},t.defaultTopAxisOptions={labels:{autoRotation:[-45]},margin:15,title:{rotation:0}}}(t||(t={})),t})),e(i,"Core/Foundation.js",[i["Core/Utilities.js"]],(function(t){const{addEvent:e,isFunction:i,objectEach:o,removeEvent:n}=t;var r;return function(t){t.registerEventOptions=function(t,r){t.eventOptions=t.eventOptions||{},o(r.events,(function(o,r){t.eventOptions[r]!==o&&(t.eventOptions[r]&&(n(t,r,t.eventOptions[r]),delete t.eventOptions[r]),i(o)&&(t.eventOptions[r]=o,e(t,r,o,{order:0})))}))}}(r||(r={})),r})),e(i,"Core/Axis/Tick.js",[i["Core/FormatUtilities.js"],i["Core/Globals.js"],i["Core/Utilities.js"]],(function(t,e,i){const{deg2rad:o}=e,{clamp:n,correctFloat:r,defined:s,destroyObjectProperties:a,extend:l,fireEvent:c,isNumber:u,merge:h,objectEach:d,pick:p}=i;return class{constructor(t,e,i,o,n){this.isNewLabel=this.isNew=!0,this.axis=t,this.pos=e,this.type=i||"",this.parameters=n||{},this.tickmarkOffset=this.parameters.tickmarkOffset,this.options=this.parameters.options,c(this,"init"),i||o||this.addLabel()}addLabel(){const e=this,i=e.axis;var o=i.options;const n=i.chart;var a=i.categories;const h=i.logarithmic,d=i.names,f=e.pos,g=p(e.options&&e.options.labels,o.labels);var m=i.tickPositions;const y=f===m[0],v=f===m[m.length-1],_=(!g.step||1===g.step)&&1===i.tickInterval;m=m.info;let C,b,E,S=e.label;a=this.parameters.category||(a?p(a[f],d[f],f):f),h&&u(a)&&(a=r(h.lin2log(a))),i.dateTime&&(m?(b=n.time.resolveDTLFormat(o.dateTimeLabelFormats[!o.grid&&m.higherRanks[f]||m.unitName]),C=b.main):u(a)&&(C=i.dateTime.getXDateFormat(a,o.dateTimeLabelFormats||{}))),e.isFirst=y,e.isLast=v;const w={axis:i,chart:n,dateTimeLabelFormat:C,isFirst:y,isLast:v,pos:f,tick:e,tickPositionInfo:m,value:a};c(this,"labelFormat",w);const O=e=>g.formatter?g.formatter.call(e,e):g.format?(e.text=i.defaultLabelFormatter.call(e,e),t.format(g.format,e,n)):i.defaultLabelFormatter.call(e,e);o=O.call(w,w);const x=b&&b.list;e.shortenLabel=x?function(){for(E=0;E<x.length;E++)if(l(w,{dateTimeLabelFormat:x[E]}),S.attr({text:O.call(w,w)}),S.getBBox().width<i.getSlotWidth(e)-2*g.padding)return;S.attr({text:""})}:void 0,_&&i._addedPlotLB&&e.moveLabel(o,g),s(S)||e.movedLabel?S&&S.textStr!==o&&!_&&(!S.textWidth||g.style.width||S.styles.width||S.css({width:null}),S.attr({text:o}),S.textPxLength=S.getBBox().width):(e.label=S=e.createLabel({x:0,y:0},o,g),e.rotation=0)}createLabel(t,e,i){const o=this.axis,n=o.chart;return(t=s(e)&&i.enabled?n.renderer.text(e,t.x,t.y,i.useHTML).add(o.labelGroup):null)&&(n.styledMode||t.css(h(i.style)),t.textPxLength=t.getBBox().width),t}destroy(){a(this,this.axis)}getPosition(t,e,i,o){const s=this.axis,a=s.chart,l=o&&a.oldChartHeight||a.chartHeight;return(t={x:t?r(s.translate(e+i,void 0,void 0,o)+s.transB):s.left+s.offset+(s.opposite?(o&&a.oldChartWidth||a.chartWidth)-s.right-s.left:0),y:t?l-s.bottom+s.offset-(s.opposite?s.height:0):r(l-s.translate(e+i,void 0,void 0,o)-s.transB)}).y=n(t.y,-1e5,1e5),c(this,"afterGetPosition",{pos:t}),t}getLabelPosition(t,e,i,n,r,a,l,u){const h=this.axis,d=h.transA,f=h.isLinked&&h.linkedParent?h.linkedParent.reversed:h.reversed,g=h.staggerLines,m=h.tickRotCorr||{x:0,y:0},y=n||h.reserveSpaceDefault?0:-h.labelOffset*("center"===h.labelAlign?.5:1),v=r.distance,_={};return i=0===h.side?i.rotation?-v:-i.getBBox().height:2===h.side?m.y+v:Math.cos(i.rotation*o)*(m.y-i.getBBox(!1,0).height/2),s(r.y)&&(i=0===h.side&&h.horiz?r.y+i:r.y),t=t+p(r.x,[0,1,0,-1][h.side]*v)+y+m.x-(a&&n?a*d*(f?-1:1):0),e=e+i-(a&&!n?a*d*(f?1:-1):0),g&&(n=l/(u||1)%g,h.opposite&&(n=g-n-1),e+=h.labelOffset/g*n),_.x=t,_.y=Math.round(e),c(this,"afterGetLabelPosition",{pos:_,tickmarkOffset:a,index:l}),_}getLabelSize(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0}getMarkPath(t,e,i,o,n,r){return r.crispLine([["M",t,e],["L",t+(n?0:-i),e+(n?i:0)]],o)}handleOverflow(t){const e=this.axis,i=e.options.labels,n=t.x;var r=e.chart.chartWidth,s=e.chart.spacing;const a=p(e.labelLeft,Math.min(e.pos,s[3]));s=p(e.labelRight,Math.max(e.isRadial?0:e.pos+e.len,r-s[1]));const l=this.label,c=this.rotation,u={left:0,center:.5,right:1}[e.labelAlign||l.attr("align")],h=l.getBBox().width,d=e.getSlotWidth(this),f={};let g,m=d,y=1;c||"justify"!==i.overflow?0>c&&n-u*h<a?g=Math.round(n/Math.cos(c*o)-a):0<c&&n+u*h>s&&(g=Math.round((r-n)/Math.cos(c*o))):(r=n+(1-u)*h,n-u*h<a?m=t.x+m*(1-u)-a:r>s&&(m=s-t.x+m*u,y=-1),m=Math.min(d,m),m<d&&"center"===e.labelAlign&&(t.x+=y*(d-m-u*(d-Math.min(h,m)))),(h>m||e.autoRotation&&(l.styles||{}).width)&&(g=m)),g&&(this.shortenLabel?this.shortenLabel():(f.width=Math.floor(g)+"px",(i.style||{}).textOverflow||(f.textOverflow="ellipsis"),l.css(f)))}moveLabel(t,e){const i=this;var o=i.label;const n=i.axis;let r=!1;o&&o.textStr===t?(i.movedLabel=o,r=!0,delete i.label):d(n.ticks,(function(e){r||e.isNew||e===i||!e.label||e.label.textStr!==t||(i.movedLabel=e.label,r=!0,e.labelPos=i.movedLabel.xy,delete e.label)})),r||!i.labelPos&&!o||(o=i.labelPos||o.xy,i.movedLabel=i.createLabel(o,t,e),i.movedLabel&&i.movedLabel.attr({opacity:0}))}render(t,e,i){var o=this.axis,n=o.horiz,r=this.pos,s=p(this.tickmarkOffset,o.tickmarkOffset);s=(r=this.getPosition(n,r,s,e)).x;const a=r.y;o=n&&s===o.pos+o.len||!n&&a===o.pos?-1:1,n=p(i,this.label&&this.label.newOpacity,1),i=p(i,1),this.isActive=!0,this.renderGridLine(e,i,o),this.renderMark(r,i,o),this.renderLabel(r,e,n,t),this.isNew=!1,c(this,"afterRender")}renderGridLine(t,e,i){const o=this.axis,n=o.options,r={},s=this.pos,a=this.type,l=p(this.tickmarkOffset,o.tickmarkOffset),c=o.chart.renderer;let u=this.gridLine,h=n.gridLineWidth,d=n.gridLineColor,f=n.gridLineDashStyle;"minor"===this.type&&(h=n.minorGridLineWidth,d=n.minorGridLineColor,f=n.minorGridLineDashStyle),u||(o.chart.styledMode||(r.stroke=d,r["stroke-width"]=h||0,r.dashstyle=f),a||(r.zIndex=1),t&&(e=0),this.gridLine=u=c.path().attr(r).addClass("highcharts-"+(a?a+"-":"")+"grid-line").add(o.gridGroup)),u&&(i=o.getPlotLinePath({value:s+l,lineWidth:u.strokeWidth()*i,force:"pass",old:t,acrossPanes:!1}))&&u[t||this.isNew?"attr":"animate"]({d:i,opacity:e})}renderMark(t,e,i){const o=this.axis;var n=o.options;const r=o.chart.renderer,s=this.type,a=o.tickSize(s?s+"Tick":"tick"),l=t.x;t=t.y;const c=p(n["minor"!==s?"tickWidth":"minorTickWidth"],!s&&o.isXAxis?1:0);n=n["minor"!==s?"tickColor":"minorTickColor"];let u=this.mark;const h=!u;a&&(o.opposite&&(a[0]=-a[0]),u||(this.mark=u=r.path().addClass("highcharts-"+(s?s+"-":"")+"tick").add(o.axisGroup),o.chart.styledMode||u.attr({stroke:n,"stroke-width":c})),u[h?"attr":"animate"]({d:this.getMarkPath(l,t,a[0],u.strokeWidth()*i,o.horiz,r),opacity:e}))}renderLabel(t,e,i,o){var n=this.axis;const r=n.horiz,s=n.options,a=this.label,l=s.labels,c=l.step;n=p(this.tickmarkOffset,n.tickmarkOffset);const h=t.x;t=t.y;let d=!0;a&&u(h)&&(a.xy=t=this.getLabelPosition(h,t,a,r,l,n,o,c),this.isFirst&&!this.isLast&&!s.showFirstLabel||this.isLast&&!this.isFirst&&!s.showLastLabel?d=!1:!r||l.step||l.rotation||e||0===i||this.handleOverflow(t),c&&o%c&&(d=!1),d&&u(t.y)?(t.opacity=i,a[this.isNewLabel?"attr":"animate"](t).show(!0),this.isNewLabel=!1):(a.hide(),this.isNewLabel=!0))}replaceMovedLabel(){const t=this.label,e=this.axis;t&&!this.isNew&&(t.animate({opacity:0},void 0,t.destroy),delete this.label),e.isDirty=!0,this.label=this.movedLabel,delete this.movedLabel}}})),e(i,"Core/Axis/Axis.js",[i["Core/Animation/AnimationUtilities.js"],i["Core/Axis/AxisDefaults.js"],i["Core/Color/Color.js"],i["Core/Defaults.js"],i["Core/Foundation.js"],i["Core/Globals.js"],i["Core/Axis/Tick.js"],i["Core/Utilities.js"]],(function(t,e,i,o,n,r,s,a){const{animObject:l}=t,{defaultOptions:c}=o,{registerEventOptions:u}=n,{deg2rad:h}=r,{arrayMax:d,arrayMin:p,clamp:f,correctFloat:g,defined:m,destroyObjectProperties:y,erase:v,error:_,extend:C,fireEvent:b,isArray:E,isNumber:S,isString:w,merge:O,normalizeTickInterval:x,objectEach:P,pick:T,relativeLength:M,removeEvent:D,splat:A,syncTimeout:R}=a,L=(t,e)=>x(e,void 0,void 0,T(t.options.allowDecimals,.5>e||void 0!==t.tickAmount),!!t.tickAmount);class I{constructor(t,e){this.zoomEnabled=this.width=this.visible=this.userOptions=this.translationSlope=this.transB=this.transA=this.top=this.ticks=this.tickRotCorr=this.tickPositions=this.tickmarkOffset=this.tickInterval=this.tickAmount=this.side=this.series=this.right=this.positiveValuesOnly=this.pos=this.pointRangePadding=this.pointRange=this.plotLinesAndBandsGroups=this.plotLinesAndBands=this.paddedTicks=this.overlap=this.options=this.offset=this.names=this.minPixelPadding=this.minorTicks=this.minorTickInterval=this.min=this.maxLabelLength=this.max=this.len=this.left=this.labelFormatter=this.labelEdge=this.isLinked=this.height=this.hasVisibleSeries=this.hasNames=this.eventOptions=this.coll=this.closestPointRange=this.chart=this.bottom=this.alternateBands=void 0,this.init(t,e)}init(t,e){const i=e.isX;this.chart=t,this.horiz=t.inverted&&!this.isZAxis?!i:i,this.isXAxis=i,this.coll=this.coll||(i?"xAxis":"yAxis"),b(this,"init",{userOptions:e}),this.opposite=T(e.opposite,this.opposite),this.side=T(e.side,this.side,this.horiz?this.opposite?0:2:this.opposite?1:3),this.setOptions(e);const o=this.options,n=o.labels,r=o.type;this.userOptions=e,this.minPixelPadding=0,this.reversed=T(o.reversed,this.reversed),this.visible=o.visible,this.zoomEnabled=o.zoomEnabled,this.hasNames="category"===r||!0===o.categories,this.categories=o.categories||(this.hasNames?[]:void 0),this.names||(this.names=[],this.names.keys={}),this.plotLinesAndBandsGroups={},this.positiveValuesOnly=!!this.logarithmic,this.isLinked=m(o.linkedTo),this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len=0,this.minRange=this.userMinRange=o.minRange||o.maxZoom,this.range=o.range,this.offset=o.offset||0,this.min=this.max=null,e=T(o.crosshair,A(t.options.tooltip.crosshairs)[i?0:1]),this.crosshair=!0===e?{}:e,-1===t.axes.indexOf(this)&&(i?t.axes.splice(t.xAxis.length,0,this):t.axes.push(this),t[this.coll].push(this)),this.series=this.series||[],t.inverted&&!this.isZAxis&&i&&void 0===this.reversed&&(this.reversed=!0),this.labelRotation=S(n.rotation)?n.rotation:void 0,u(this,o),b(this,"afterInit")}setOptions(t){this.options=O(e.defaultXAxisOptions,"yAxis"===this.coll&&e.defaultYAxisOptions,[e.defaultTopAxisOptions,e.defaultRightAxisOptions,e.defaultBottomAxisOptions,e.defaultLeftAxisOptions][this.side],O(c[this.coll],t)),b(this,"afterSetOptions",{userOptions:t})}defaultLabelFormatter(t){var e=this.axis;({numberFormatter:t}=this.chart);const i=S(this.value)?this.value:NaN,o=e.chart.time,n=this.dateTimeLabelFormat;var r=c.lang;const s=r.numericSymbols;r=r.numericSymbolMagnitude||1e3;const a=e.logarithmic?Math.abs(i):e.tickInterval;let l,u=s&&s.length;if(e.categories)l=`${this.value}`;else if(n)l=o.dateFormat(n,i);else if(u&&1e3<=a)for(;u--&&void 0===l;)a>=(e=Math.pow(r,u+1))&&0==10*i%e&&null!==s[u]&&0!==i&&(l=t(i/e,-1)+s[u]);return void 0===l&&(l=1e4<=Math.abs(i)?t(i,-1):t(i,-1,void 0,"")),l}getSeriesExtremes(){const t=this,e=t.chart;let i;b(this,"getSeriesExtremes",null,(function(){t.hasVisibleSeries=!1,t.dataMin=t.dataMax=t.threshold=null,t.softThreshold=!t.isXAxis,t.series.forEach((function(o){if(o.visible||!e.options.chart.ignoreHiddenSeries){var n=o.options;let e,r,s=n.threshold;t.hasVisibleSeries=!0,t.positiveValuesOnly&&0>=s&&(s=null),t.isXAxis?(n=o.xData)&&n.length&&(n=t.logarithmic?n.filter((t=>0<t)):n,i=o.getXExtremes(n),e=i.min,r=i.max,S(e)||e instanceof Date||(n=n.filter(S),i=o.getXExtremes(n),e=i.min,r=i.max),n.length&&(t.dataMin=Math.min(T(t.dataMin,e),e),t.dataMax=Math.max(T(t.dataMax,r),r))):(o=o.applyExtremes(),S(o.dataMin)&&(e=o.dataMin,t.dataMin=Math.min(T(t.dataMin,e),e)),S(o.dataMax)&&(r=o.dataMax,t.dataMax=Math.max(T(t.dataMax,r),r)),m(s)&&(t.threshold=s),(!n.softThreshold||t.positiveValuesOnly)&&(t.softThreshold=!1))}}))})),b(this,"afterGetSeriesExtremes")}translate(t,e,i,o,n,r){const s=this.linkedParent||this,a=o&&s.old?s.old.min:s.min;if(!S(a))return NaN;const l=s.minPixelPadding;n=(s.isOrdinal||s.brokenAxis&&s.brokenAxis.hasBreaks||s.logarithmic&&n)&&s.lin2val;let c=1,u=0;return(o=o&&s.old?s.old.transA:s.transA)||(o=s.transA),i&&(c*=-1,u=s.len),s.reversed&&(c*=-1,u-=c*(s.sector||s.len)),e?(r=(t*c+u-l)/o+a,n&&(r=s.lin2val(r))):(n&&(t=s.val2lin(t)),t=c*(t-a)*o,r=(s.isRadial?t:g(t))+u+c*l+(S(r)?o*r:0)),r}toPixels(t,e){return this.translate(t,!1,!this.horiz,void 0,!0)+(e?0:this.pos)}toValue(t,e){return this.translate(t-(e?0:this.pos),!0,!this.horiz,void 0,!0)}getPlotLinePath(t){function e(t,e,i){return"pass"!==_&&(t<e||t>i)&&(_?t=f(t,e,i):y=!0),t}const i=this,o=i.chart,n=i.left,r=i.top,s=t.old,a=t.value,l=t.lineWidth,c=s&&o.oldChartHeight||o.chartHeight,u=s&&o.oldChartWidth||o.chartWidth,h=i.transB;let d,p,g,m,y,v=t.translatedValue,_=t.force;return t={value:a,lineWidth:l,old:s,force:_,acrossPanes:t.acrossPanes,translatedValue:v},b(this,"getPlotLinePath",t,(function(t){v=T(v,i.translate(a,void 0,void 0,s)),v=f(v,-1e5,1e5),d=g=Math.round(v+h),p=m=Math.round(c-v-h),S(v)?i.horiz?(p=r,m=c-i.bottom,d=g=e(d,n,n+i.width)):(d=n,g=u-i.right,p=m=e(p,r,r+i.height)):(y=!0,_=!1),t.path=y&&!_?null:o.renderer.crispLine([["M",d,p],["L",g,m]],l||1)})),t.path}getLinearTickPositions(t,e,i){const o=g(Math.floor(e/t)*t);i=g(Math.ceil(i/t)*t);const n=[];let r,s;if(g(o+t)===o&&(s=20),this.single)return[e];for(e=o;e<=i&&(n.push(e),(e=g(e+t,s))!==r);)r=e;return n}getMinorTickInterval(){const t=this.options;return!0===t.minorTicks?T(t.minorTickInterval,"auto"):!1===t.minorTicks?null:t.minorTickInterval}getMinorTickPositions(){var t=this.options;const e=this.tickPositions,i=this.minorTickInterval;var o=this.pointRangePadding||0;const n=this.min-o,r=(o=this.max+o)-n;let s=[];if(r&&r/i<this.len/3){const r=this.logarithmic;if(r)this.paddedTicks.forEach((function(t,e,o){e&&s.push.apply(s,r.getLogTickPositions(i,o[e-1],o[e],!0))}));else if(this.dateTime&&"auto"===this.getMinorTickInterval())s=s.concat(this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(i),n,o,t.startOfWeek));else for(t=n+(e[0]-n)%i;t<=o&&t!==s[0];t+=i)s.push(t)}return 0!==s.length&&this.trimTicks(s),s}adjustForMinRange(){const t=this.options,e=this.logarithmic;let i=this.min;var o=this.max;let n,r,s,a,l,c,u=0;if(this.isXAxis&&void 0===this.minRange&&!e&&(m(t.min)||m(t.max)||m(t.floor)||m(t.ceiling)?this.minRange=null:(this.series.forEach((function(t){if(a=t.xData,l=t.xIncrement?1:a.length-1,1<a.length)for(r=l;0<r;r--)s=a[r]-a[r-1],(!u||s<u)&&(u=s)})),this.minRange=Math.min(5*u,this.dataMax-this.dataMin))),o-i<this.minRange){n=this.dataMax-this.dataMin>=this.minRange,c=this.minRange;var h=(c-o+i)/2;h=[i-h,T(t.min,i-h)],n&&(h[2]=this.logarithmic?this.logarithmic.log2lin(this.dataMin):this.dataMin),i=d(h),o=[i+c,T(t.max,i+c)],n&&(o[2]=e?e.log2lin(this.dataMax):this.dataMax),(o=p(o))-i<c&&(h[0]=o-c,h[1]=T(t.min,o-c),i=d(h))}this.min=i,this.max=o}getClosest(){let t;return this.categories?t=1:this.series.forEach((function(e){const i=e.closestPointRange,o=e.visible||!e.chart.options.chart.ignoreHiddenSeries;!e.noSharedTooltip&&m(i)&&o&&(t=m(t)?Math.min(t,i):i)})),t}nameToX(t){const e=E(this.options.categories),i=e?this.categories:this.names;let o,n=t.options.x;return t.series.requireSorting=!1,m(n)||(n=this.options.uniqueNames&&i?e?i.indexOf(t.name):T(i.keys[t.name],-1):t.series.autoIncrement()),-1===n?!e&&i&&(o=i.length):o=n,void 0!==o?(this.names[o]=t.name,this.names.keys[t.name]=o):t.x&&(o=t.x),o}updateNames(){const t=this,e=this.names;0<e.length&&(Object.keys(e.keys).forEach((function(t){delete e.keys[t]})),e.length=0,this.minRange=this.userMinRange,(this.series||[]).forEach((function(e){e.xIncrement=null,e.points&&!e.isDirtyData||(t.max=Math.max(t.max,e.xData.length-1),e.processData(),e.generatePoints()),e.data.forEach((function(i,o){let n;i&&i.options&&void 0!==i.name&&(n=t.nameToX(i),void 0!==n&&n!==i.x&&(i.x=n,e.xData[o]=n))}))})))}setAxisTranslation(){const t=this,e=t.max-t.min;var i=t.linkedParent;const o=!!t.categories,n=t.isXAxis;let r,s=t.axisPointRange||0,a=0,l=0,c=t.transA;(n||o||s)&&(r=t.getClosest(),i?(a=i.minPointOffset,l=i.pointRangePadding):t.series.forEach((function(e){const i=o?1:n?T(e.options.pointRange,r,0):t.axisPointRange||0,c=e.options.pointPlacement;s=Math.max(s,i),t.single&&!o||(e=e.is("xrange")?!n:n,a=Math.max(a,e&&w(c)?0:i/2),l=Math.max(l,e&&"on"===c?0:i))})),i=t.ordinal&&t.ordinal.slope&&r?t.ordinal.slope/r:1,t.minPointOffset=a*=i,t.pointRangePadding=l*=i,t.pointRange=Math.min(s,t.single&&o?1:e),n&&(t.closestPointRange=r)),t.translationSlope=t.transA=c=t.staticScale||t.len/(e+l||1),t.transB=t.horiz?t.left:t.bottom,t.minPixelPadding=c*a,b(this,"afterSetAxisTranslation")}minFromRange(){return this.max-this.range}setTickInterval(t){var e=this.chart;const i=this.logarithmic,o=this.options,n=this.isXAxis,r=this.isLinked,s=o.tickPixelInterval,a=this.categories,l=this.softThreshold;let c,u,h,d=o.maxPadding,p=o.minPadding,f=S(o.tickInterval)&&0<=o.tickInterval?o.tickInterval:void 0,y=S(this.threshold)?this.threshold:null;if(this.dateTime||a||r||this.getTickAmount(),u=T(this.userMin,o.min),h=T(this.userMax,o.max),r){this.linkedParent=e[this.coll][o.linkedTo];var v=this.linkedParent.getExtremes();this.min=T(v.min,v.dataMin),this.max=T(v.max,v.dataMax),o.type!==this.linkedParent.options.type&&_(11,1,e)}else l&&m(y)&&(this.dataMin>=y?(v=y,p=0):this.dataMax<=y&&(c=y,d=0)),this.min=T(u,v,this.dataMin),this.max=T(h,c,this.dataMax);if(i&&(this.positiveValuesOnly&&!t&&0>=Math.min(this.min,T(this.dataMin,this.min))&&_(10,1,e),this.min=g(i.log2lin(this.min),16),this.max=g(i.log2lin(this.max),16)),this.range&&m(this.max)&&(this.userMin=this.min=u=Math.max(this.dataMin,this.minFromRange()),this.userMax=h=this.max,this.range=null),b(this,"foundExtremes"),this.beforePadding&&this.beforePadding(),this.adjustForMinRange(),!(a||this.axisPointRange||this.stacking&&this.stacking.usePercentage||r)&&m(this.min)&&m(this.max)&&(e=this.max-this.min)&&(!m(u)&&p&&(this.min-=e*p),!m(h)&&d&&(this.max+=e*d)),S(this.userMin)||(S(o.softMin)&&o.softMin<this.min&&(this.min=u=o.softMin),S(o.floor)&&(this.min=Math.max(this.min,o.floor))),S(this.userMax)||(S(o.softMax)&&o.softMax>this.max&&(this.max=h=o.softMax),S(o.ceiling)&&(this.max=Math.min(this.max,o.ceiling))),l&&m(this.dataMin)&&(y=y||0,!m(u)&&this.min<y&&this.dataMin>=y?this.min=this.options.minRange?Math.min(y,this.max-this.minRange):y:!m(h)&&this.max>y&&this.dataMax<=y&&(this.max=this.options.minRange?Math.max(y,this.min+this.minRange):y)),S(this.min)&&S(this.max)&&!this.chart.polar&&this.min>this.max&&(m(this.options.min)?this.max=this.min:m(this.options.max)&&(this.min=this.max)),this.tickInterval=this.min===this.max||void 0===this.min||void 0===this.max?1:r&&this.linkedParent&&!f&&s===this.linkedParent.options.tickPixelInterval?f=this.linkedParent.tickInterval:T(f,this.tickAmount?(this.max-this.min)/Math.max(this.tickAmount-1,1):void 0,a?1:(this.max-this.min)*s/Math.max(this.len,s)),n&&!t){const t=this.min!==(this.old&&this.old.min)||this.max!==(this.old&&this.old.max);this.series.forEach((function(e){e.forceCrop=e.forceCropping&&e.forceCropping(),e.processData(t)})),b(this,"postProcessData",{hasExtremesChanged:t})}this.setAxisTranslation(),b(this,"initialAxisTranslation"),this.pointRange&&!f&&(this.tickInterval=Math.max(this.pointRange,this.tickInterval)),t=T(o.minTickInterval,this.dateTime&&!this.series.some((t=>t.noSharedTooltip))?this.closestPointRange:0),!f&&this.tickInterval<t&&(this.tickInterval=t),this.dateTime||this.logarithmic||f||(this.tickInterval=L(this,this.tickInterval)),this.tickAmount||(this.tickInterval=this.unsquish()),this.setTickPositions()}setTickPositions(){var t=this.options;const e=t.tickPositions,i=t.tickPositioner;var o=this.getMinorTickInterval(),n=this.hasVerticalPanning(),r="colorAxis"===this.coll;const s=(r||!n)&&t.startOnTick;let a;if(n=(r||!n)&&t.endOnTick,r=[],this.tickmarkOffset=this.categories&&"between"===t.tickmarkPlacement&&1===this.tickInterval?.5:0,this.minorTickInterval="auto"===o&&this.tickInterval?this.tickInterval/t.minorTicksPerMajor:o,this.single=this.min===this.max&&m(this.min)&&!this.tickAmount&&(parseInt(this.min,10)===this.min||!1!==t.allowDecimals),e)r=e.slice();else if(S(this.min)&&S(this.max)){if(this.ordinal&&this.ordinal.positions||!((this.max-this.min)/this.tickInterval>Math.max(2*this.len,200)))if(this.dateTime)r=this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(this.tickInterval,t.units),this.min,this.max,t.startOfWeek,this.ordinal&&this.ordinal.positions,this.closestPointRange,!0);else if(this.logarithmic)r=this.logarithmic.getLogTickPositions(this.tickInterval,this.min,this.max);else for(o=t=this.tickInterval;o<=2*t&&(r=this.getLinearTickPositions(this.tickInterval,this.min,this.max),this.tickAmount&&r.length>this.tickAmount);)this.tickInterval=L(this,o*=1.1);else r=[this.min,this.max],_(19,!1,this.chart);r.length>this.len&&(r=[r[0],r[r.length-1]])[0]===r[1]&&(r.length=1),i&&(this.tickPositions=r,(a=i.apply(this,[this.min,this.max]))&&(r=a))}this.tickPositions=r,this.paddedTicks=r.slice(0),this.trimTicks(r,s,n),!this.isLinked&&S(this.min)&&S(this.max)&&(this.single&&2>r.length&&!this.categories&&!this.series.some((t=>t.is("heatmap")&&"between"===t.options.pointPlacement))&&(this.min-=.5,this.max+=.5),e||a||this.adjustTickAmount()),b(this,"afterSetTickPositions")}trimTicks(t,e,i){const o=t[0],n=t[t.length-1],r=!this.isOrdinal&&this.minPointOffset||0;if(b(this,"trimTicks"),!this.isLinked){if(e&&-1/0!==o)this.min=o;else for(;this.min-r>t[0];)t.shift();if(i)this.max=n;else for(;this.max+r<t[t.length-1];)t.pop();0===t.length&&m(o)&&!this.options.tickPositions&&t.push((n+o)/2)}}alignToOthers(){const t=this,e=[this],i=t.options,o="yAxis"===this.coll&&this.chart.options.chart.alignThresholds,n=[];let r;if(t.thresholdAlignment=void 0,(!1!==this.chart.options.chart.alignTicks&&i.alignTicks||o)&&!1!==i.startOnTick&&!1!==i.endOnTick&&!t.logarithmic){const i=t=>{const{horiz:e,options:i}=t;return[e?i.left:i.top,i.width,i.height,i.pane].join()},o=i(this);this.chart[this.coll].forEach((function(n){const{series:s}=n;s.length&&s.some((t=>t.visible))&&n!==t&&i(n)===o&&(r=!0,e.push(n))}))}if(r&&o){e.forEach((e=>{e=e.getThresholdAlignment(t),S(e)&&n.push(e)}));const i=1<n.length?n.reduce(((t,e)=>t+e),0)/n.length:void 0;e.forEach((t=>{t.thresholdAlignment=i}))}return r}getThresholdAlignment(t){if((!S(this.dataMin)||this!==t&&this.series.some((t=>t.isDirty||t.isDirtyData)))&&this.getSeriesExtremes(),S(this.threshold))return t=f((this.threshold-(this.dataMin||0))/((this.dataMax||0)-(this.dataMin||0)),0,1),this.options.reversed&&(t=1-t),t}getTickAmount(){const t=this.options,e=t.tickPixelInterval;let i=t.tickAmount;!m(t.tickInterval)&&!i&&this.len<e&&!this.isRadial&&!this.logarithmic&&t.startOnTick&&t.endOnTick&&(i=2),!i&&this.alignToOthers()&&(i=Math.ceil(this.len/e)+1),4>i&&(this.finalTickAmt=i,i=5),this.tickAmount=i}adjustTickAmount(){const t=this,{finalTickAmt:e,max:i,min:o,options:n,tickPositions:r,tickAmount:s,thresholdAlignment:a}=t,l=r&&r.length;var c=T(t.threshold,t.softThreshold?0:null),u=t.tickInterval;let h;if(S(a)&&(h=.5>a?Math.ceil(a*(s-1)):Math.floor(a*(s-1)),n.reversed&&(h=s-1-h)),t.hasData()&&S(o)&&S(i)){const a=()=>{t.transA*=(l-1)/(s-1),t.min=n.startOnTick?r[0]:Math.min(o,r[0]),t.max=n.endOnTick?r[r.length-1]:Math.max(i,r[r.length-1])};if(S(h)&&S(t.threshold)){for(;r[h]!==c||r.length!==s||r[0]>o||r[r.length-1]<i;){for(r.length=0,r.push(t.threshold);r.length<s;)void 0===r[h]||r[h]>t.threshold?r.unshift(g(r[0]-u)):r.push(g(r[r.length-1]+u));if(u>8*t.tickInterval)break;u*=2}a()}else if(l<s){for(;r.length<s;)r.length%2||o===c?r.push(g(r[r.length-1]+u)):r.unshift(g(r[0]-u));a()}if(m(e)){for(u=c=r.length;u--;)(3===e&&1==u%2||2>=e&&0<u&&u<c-1)&&r.splice(u,1);t.finalTickAmt=void 0}}}setScale(){let t=!1,e=!1;this.series.forEach((function(i){t=t||i.isDirtyData||i.isDirty,e=e||i.xAxis&&i.xAxis.isDirty||!1})),this.setAxisSize();const i=this.len!==(this.old&&this.old.len);i||t||e||this.isLinked||this.forceRedraw||this.userMin!==(this.old&&this.old.userMin)||this.userMax!==(this.old&&this.old.userMax)||this.alignToOthers()?(this.stacking&&(this.stacking.resetStacks(),this.stacking.buildStacks()),this.forceRedraw=!1,this.userMinRange||(this.minRange=void 0),this.getSeriesExtremes(),this.setTickInterval(),this.isDirty||(this.isDirty=i||this.min!==(this.old&&this.old.min)||this.max!==(this.old&&this.old.max))):this.stacking&&this.stacking.cleanStacks(),t&&this.panningState&&(this.panningState.isDirty=!0),b(this,"afterSetScale")}setExtremes(t,e,i,o,n){const r=this,s=r.chart;i=T(i,!0),r.series.forEach((function(t){delete t.kdTree})),n=C(n,{min:t,max:e}),b(r,"setExtremes",n,(function(){r.userMin=t,r.userMax=e,r.eventArgs=n,i&&s.redraw(o)}))}zoom(t,e){const i=this,o=this.dataMin,n=this.dataMax,r=this.options,s=Math.min(o,T(r.min,o)),a=Math.max(n,T(r.max,n));return b(this,"zoom",t={newMin:t,newMax:e},(function(t){let e=t.newMin,r=t.newMax;e===i.min&&r===i.max||(i.allowZoomOutside||(m(o)&&(e<s&&(e=s),e>a&&(e=a)),m(n)&&(r<s&&(r=s),r>a&&(r=a))),i.displayBtn=void 0!==e||void 0!==r,i.setExtremes(e,r,!1,void 0,{trigger:"zoom"})),t.zoomed=!0})),t.zoomed}setAxisSize(){const t=this.chart;var e=this.options;const i=e.offsets||[0,0,0,0],o=this.horiz,n=this.width=Math.round(M(T(e.width,t.plotWidth-i[3]+i[1]),t.plotWidth)),r=this.height=Math.round(M(T(e.height,t.plotHeight-i[0]+i[2]),t.plotHeight)),s=this.top=Math.round(M(T(e.top,t.plotTop+i[0]),t.plotHeight,t.plotTop));e=this.left=Math.round(M(T(e.left,t.plotLeft+i[3]),t.plotWidth,t.plotLeft)),this.bottom=t.chartHeight-r-s,this.right=t.chartWidth-n-e,this.len=Math.max(o?n:r,0),this.pos=o?e:s}getExtremes(){const t=this.logarithmic;return{min:t?g(t.lin2log(this.min)):this.min,max:t?g(t.lin2log(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}}getThreshold(t){var e=this.logarithmic;const i=e?e.lin2log(this.min):this.min;return e=e?e.lin2log(this.max):this.max,null===t||-1/0===t?t=i:1/0===t?t=e:i>t?t=i:e<t&&(t=e),this.translate(t,0,1,0,1)}autoLabelAlign(t){const e=(T(t,0)-90*this.side+720)%360;return b(this,"autoLabelAlign",t={align:"center"},(function(t){15<e&&165>e?t.align="right":195<e&&345>e&&(t.align="left")})),t.align}tickSize(t){const e=this.options,i=T(e["tick"===t?"tickWidth":"minorTickWidth"],"tick"===t&&this.isXAxis&&!this.categories?1:0);let o,n=e["tick"===t?"tickLength":"minorTickLength"];return i&&n&&("inside"===e[t+"Position"]&&(n=-n),o=[n,i]),b(this,"afterTickSize",t={tickSize:o}),t.tickSize}labelMetrics(){const t=this.chart.renderer;var e=this.ticks;return e=e[Object.keys(e)[0]]||{},this.chart.renderer.fontMetrics(e.label||e.movedLabel||t.box)}unsquish(){const t=this.options.labels;var e=this.horiz;const i=this.tickInterval,o=this.len/(((this.categories?1:0)+this.max-this.min)/i),n=t.rotation,r=.75*this.labelMetrics().h,s=Math.max(this.max-this.min,0),a=function(t){let e=t/(o||1);return e=1<e?Math.ceil(e):1,e*i>s&&1/0!==t&&1/0!==o&&s&&(e=Math.ceil(s/i)),g(e*i)};let l,c,u=i,d=Number.MAX_VALUE;if(e){if(t.staggerLines||(S(n)?c=[n]:o<t.autoRotationLimit&&(c=t.autoRotation)),c){let t;for(const i of c)(i===n||i&&-90<=i&&90>=i)&&(t=(e=a(Math.abs(r/Math.sin(h*i))))+Math.abs(i/360),t<d&&(d=t,l=i,u=e))}}else u=a(r);return this.autoRotation=c,this.labelRotation=T(l,S(n)?n:0),t.step?i:u}getSlotWidth(t){const e=this.chart,i=this.horiz,o=this.options.labels,n=Math.max(this.tickPositions.length-(this.categories?0:1),1),r=e.margin[3];if(t&&S(t.slotWidth))return t.slotWidth;if(i&&2>o.step)return o.rotation?0:(this.staggerLines||1)*this.len/n;if(!i){if(void 0!==(t=o.style.width))return parseInt(String(t),10);if(r)return r-e.spacing[3]}return.33*e.chartWidth}renderUnsquish(){const t=this.chart,e=t.renderer,i=this.tickPositions,o=this.ticks,n=this.options.labels,r=n.style,s=this.horiz,a=this.getSlotWidth();var l=Math.max(1,Math.round(a-2*n.padding));const c={},u=this.labelMetrics(),h=r.textOverflow;let d,p,f=0;if(w(n.rotation)||(c.rotation=n.rotation||0),i.forEach((function(t){(t=o[t]).movedLabel&&t.replaceMovedLabel(),t&&t.label&&t.label.textPxLength>f&&(f=t.label.textPxLength)})),this.maxLabelLength=f,this.autoRotation)f>l&&f>u.h?c.rotation=this.labelRotation:this.labelRotation=0;else if(a&&(d=l,!h))for(p="clip",l=i.length;!s&&l--;){var g=i[l];(g=o[g].label)&&(g.styles&&"ellipsis"===g.styles.textOverflow?g.css({textOverflow:"clip"}):g.textPxLength>a&&g.css({width:a+"px"}),g.getBBox().height>this.len/i.length-(u.h-u.f)&&(g.specificTextOverflow="ellipsis"))}c.rotation&&(d=f>.5*t.chartHeight?.33*t.chartHeight:f,h||(p="ellipsis")),(this.labelAlign=n.align||this.autoLabelAlign(this.labelRotation))&&(c.align=this.labelAlign),i.forEach((function(t){const e=(t=o[t])&&t.label,i=r.width,n={};e&&(e.attr(c),t.shortenLabel?t.shortenLabel():d&&!i&&"nowrap"!==r.whiteSpace&&(d<e.textPxLength||"SPAN"===e.element.tagName)?(n.width=d+"px",h||(n.textOverflow=e.specificTextOverflow||p),e.css(n)):e.styles&&e.styles.width&&!n.width&&!i&&e.css({width:null}),delete e.specificTextOverflow,t.rotation=c.rotation)}),this),this.tickRotCorr=e.rotCorr(u.b,this.labelRotation||0,0!==this.side)}hasData(){return this.series.some((function(t){return t.hasData()}))||this.options.showEmpty&&m(this.min)&&m(this.max)}addTitle(t){const e=this.chart.renderer,i=this.horiz,o=this.opposite,n=this.options.title,r=this.chart.styledMode;let s;this.axisTitle||((s=n.textAlign)||(s=(i?{low:"left",middle:"center",high:"right"}:{low:o?"right":"left",middle:"center",high:o?"left":"right"})[n.align]),this.axisTitle=e.text(n.text||"",0,0,n.useHTML).attr({zIndex:7,rotation:n.rotation,align:s}).addClass("highcharts-axis-title"),r||this.axisTitle.css(O(n.style)),this.axisTitle.add(this.axisGroup),this.axisTitle.isNew=!0),r||n.style.width||this.isRadial||this.axisTitle.css({width:this.len+"px"}),this.axisTitle[t?"show":"hide"](t)}generateTick(t){const e=this.ticks;e[t]?e[t].addLabel():e[t]=new s(this,t)}getOffset(){const t=this,{chart:e,horiz:i,options:o,side:n,ticks:r,tickPositions:s,coll:a,axisParent:l}=t,c=e.renderer,u=e.inverted&&!t.isZAxis?[1,0,3,2][n]:n;var h=t.hasData();const d=o.title;var p=o.labels;const f=S(o.crossing);var g=e.axisOffset;const y=e.clipOffset,v=[-1,1,1,-1][n],_=o.className;let C,E,w=0;var O=0;let x=0;if(t.showAxis=C=h||o.showEmpty,t.staggerLines=t.horiz&&p.staggerLines||void 0,!t.axisGroup){const e=(t,e,i)=>c.g(t).attr({zIndex:i}).addClass(`highcharts-${a.toLowerCase()}${e} `+(this.isRadial?`highcharts-radial-axis${e} `:"")+(_||"")).add(l);t.gridGroup=e("grid","-grid",o.gridZIndex),t.axisGroup=e("axis","",o.zIndex),t.labelGroup=e("axis-labels","-labels",p.zIndex)}h||t.isLinked?(s.forEach((function(e){t.generateTick(e)})),t.renderUnsquish(),t.reserveSpaceDefault=0===n||2===n||{1:"left",3:"right"}[n]===t.labelAlign,T(p.reserveSpace,!f&&null,"center"===t.labelAlign||null,t.reserveSpaceDefault)&&s.forEach((function(t){x=Math.max(r[t].getLabelSize(),x)})),t.staggerLines&&(x*=t.staggerLines),t.labelOffset=x*(t.opposite?-1:1)):P(r,(function(t,e){t.destroy(),delete r[e]})),d&&d.text&&!1!==d.enabled&&(t.addTitle(C),C&&!f&&!1!==d.reserveSpace&&(t.titleOffset=w=t.axisTitle.getBBox()[i?"height":"width"],E=d.offset,O=m(E)?0:T(d.margin,i?5:10))),t.renderLine(),t.offset=v*T(o.offset,g[n]?g[n]+(o.margin||0):0),t.tickRotCorr=t.tickRotCorr||{x:0,y:0},h=0===n?-t.labelMetrics().h:2===n?t.tickRotCorr.y:0,O=Math.abs(x)+O,x&&(O=O-h+v*(i?T(p.y,t.tickRotCorr.y+v*p.distance):T(p.x,v*p.distance))),t.axisTitleMargin=T(E,O),t.getMaxLabelDimensions&&(t.maxLabelDimensions=t.getMaxLabelDimensions(r,s)),"colorAxis"!==a&&(p=this.tickSize("tick"),g[n]=Math.max(g[n],(t.axisTitleMargin||0)+w+v*t.offset,O,s&&s.length&&p?p[0]+v*t.offset:0),g=!t.axisLine||o.offset?0:2*Math.floor(t.axisLine.strokeWidth()/2),y[u]=Math.max(y[u],g)),b(this,"afterGetOffset")}getLinePath(t){const e=this.chart,i=this.opposite;var o=this.offset;const n=this.horiz,r=this.left+(i?this.width:0)+o;return o=e.chartHeight-this.bottom-(i?this.height:0)+o,i&&(t*=-1),e.renderer.crispLine([["M",n?this.left:r,n?o:this.top],["L",n?e.chartWidth-this.right:r,n?o:e.chartHeight-this.bottom]],t)}renderLine(){this.axisLine||(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.chart.styledMode||this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))}getTitlePosition(t){var e=this.horiz,i=this.left;const o=this.top;var n=this.len;const r=this.options.title,s=e?i:o,a=this.opposite,l=this.offset,c=r.x,u=r.y,h=this.chart.renderer.fontMetrics(t);return t=t?Math.max(t.getBBox(!1,0).height-h.h-1,0):0,n={low:s+(e?0:n),middle:s+n/2,high:s+(e?n:0)}[r.align],i=(e?o+this.height:i)+(e?1:-1)*(a?-1:1)*(this.axisTitleMargin||0)+[-t,t,h.f,-t][this.side],e={x:e?n+c:i+(a?this.width:0)+l+c,y:e?i+u-(a?this.height:0)+l:n+u},b(this,"afterGetTitlePosition",{titlePosition:e}),e}renderMinorTick(t,e){const i=this.minorTicks;i[t]||(i[t]=new s(this,t,"minor")),e&&i[t].isNew&&i[t].render(null,!0),i[t].render(null,!1,1)}renderTick(t,e,i){const o=this.ticks;(!this.isLinked||t>=this.min&&t<=this.max||this.grid&&this.grid.isColumn)&&(o[t]||(o[t]=new s(this,t)),i&&o[t].isNew&&o[t].render(e,!0,-1),o[t].render(e))}render(){const t=this,e=t.chart,i=t.logarithmic,o=t.options,n=t.isLinked,a=t.tickPositions,c=t.axisTitle,u=t.ticks,h=t.minorTicks,d=t.alternateBands,p=o.stackLabels,f=o.alternateGridColor,g=o.crossing,m=t.tickmarkOffset,y=t.axisLine,v=t.showAxis,_=l(e.renderer.globalAnimation);let C,E;if(t.labelEdge.length=0,t.overlap=!1,[u,h,d].forEach((function(t){P(t,(function(t){t.isActive=!1}))})),S(g)){const t=this.isXAxis?e.yAxis[0]:e.xAxis[0],i=[1,-1,-1,1][this.side];t&&(this.offset=i*t.toPixels(g,!0))}if(t.hasData()||n){const n=t.chart.hasRendered&&t.old&&S(t.old.min);t.minorTickInterval&&!t.categories&&t.getMinorTickPositions().forEach((function(e){t.renderMinorTick(e,n)})),a.length&&(a.forEach((function(e,i){t.renderTick(e,i,n)})),m&&(0===t.min||t.single)&&(u[-1]||(u[-1]=new s(t,-1,null,!0)),u[-1].render(-1))),f&&a.forEach((function(o,n){E=void 0!==a[n+1]?a[n+1]+m:t.max-m,0==n%2&&o<t.max&&E<=t.max+(e.polar?-m:m)&&(d[o]||(d[o]=new r.PlotLineOrBand(t)),C=o+m,d[o].options={from:i?i.lin2log(C):C,to:i?i.lin2log(E):E,color:f,className:"highcharts-alternate-grid"},d[o].render(),d[o].isActive=!0)})),t._addedPlotLB||(t._addedPlotLB=!0,(o.plotLines||[]).concat(o.plotBands||[]).forEach((function(e){t.addPlotBandOrLine(e)})))}[u,h,d].forEach((function(t){const i=[],o=_.duration;P(t,(function(t,e){t.isActive||(t.render(e,!1,0),t.isActive=!1,i.push(e))})),R((function(){let e=i.length;for(;e--;)t[i[e]]&&!t[i[e]].isActive&&(t[i[e]].destroy(),delete t[i[e]])}),t!==d&&e.hasRendered&&o?o:0)})),y&&(y[y.isPlaced?"animate":"attr"]({d:this.getLinePath(y.strokeWidth())}),y.isPlaced=!0,y[v?"show":"hide"](v)),c&&v&&(c[c.isNew?"attr":"animate"](t.getTitlePosition(c)),c.isNew=!1),p&&p.enabled&&t.stacking&&t.stacking.renderStackTotals(),t.old={len:t.len,max:t.max,min:t.min,transA:t.transA,userMax:t.userMax,userMin:t.userMin},t.isDirty=!1,b(this,"afterRender")}redraw(){this.visible&&(this.render(),this.plotLinesAndBands.forEach((function(t){t.render()}))),this.series.forEach((function(t){t.isDirty=!0}))}getKeepProps(){return this.keepProps||I.keepProps}destroy(t){const e=this,i=e.plotLinesAndBands,o=this.eventOptions;if(b(this,"destroy",{keepEvents:t}),t||D(e),[e.ticks,e.minorTicks,e.alternateBands].forEach((function(t){y(t)})),i)for(t=i.length;t--;)i[t].destroy();"axisLine axisTitle axisGroup gridGroup labelGroup cross scrollbar".split(" ").forEach((function(t){e[t]&&(e[t]=e[t].destroy())}));for(const t in e.plotLinesAndBandsGroups)e.plotLinesAndBandsGroups[t]=e.plotLinesAndBandsGroups[t].destroy();P(e,(function(t,i){-1===e.getKeepProps().indexOf(i)&&delete e[i]})),this.eventOptions=o}drawCrosshair(t,e){const o=this.crosshair;var n=T(o&&o.snap,!0);const r=this.chart;let s,a=this.cross;if(b(this,"drawCrosshair",{e:t,point:e}),t||(t=this.cross&&this.cross.e),o&&!1!==(m(e)||!n)){if(n?m(e)&&(s=T("colorAxis"!==this.coll?e.crosshairPos:null,this.isXAxis?e.plotX:this.len-e.plotY)):s=t&&(this.horiz?t.chartX-this.pos:this.len-t.chartY+this.pos),m(s)){var l={value:e&&(this.isXAxis?e.x:T(e.stackY,e.y)),translatedValue:s};r.polar&&C(l,{isCrosshair:!0,chartX:t&&t.chartX,chartY:t&&t.chartY,point:e}),l=this.getPlotLinePath(l)||null}if(!m(l))return void this.hideCrosshair();n=this.categories&&!this.isRadial,a||(this.cross=a=r.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(n?"category ":"thin ")+(o.className||"")).attr({zIndex:T(o.zIndex,2)}).add(),r.styledMode||(a.attr({stroke:o.color||(n?i.parse("#ccd3ff").setOpacity(.25).get():"#cccccc"),"stroke-width":T(o.width,1)}).css({"pointer-events":"none"}),o.dashStyle&&a.attr({dashstyle:o.dashStyle}))),a.show().attr({d:l}),n&&!o.width&&a.attr({"stroke-width":this.transA}),this.cross.e=t}else this.hideCrosshair();b(this,"afterDrawCrosshair",{e:t,point:e})}hideCrosshair(){this.cross&&this.cross.hide(),b(this,"afterHideCrosshair")}hasVerticalPanning(){const t=this.chart.options.chart.panning;return!!(t&&t.enabled&&/y/.test(t.type))}update(t,e){const i=this.chart;t=O(this.userOptions,t),this.destroy(!0),this.init(i,t),i.isDirtyBox=!0,T(e,!0)&&i.redraw()}remove(t){const e=this.chart,i=this.coll,o=this.series;let n=o.length;for(;n--;)o[n]&&o[n].remove(!1);v(e.axes,this),v(e[i],this),e[i].forEach((function(t,e){t.options.index=t.userOptions.index=e})),this.destroy(),e.isDirtyBox=!0,T(t,!0)&&e.redraw()}setTitle(t,e){this.update({title:t},e)}setCategories(t,e){this.update({categories:t},e)}}return I.defaultOptions=e.defaultXAxisOptions,I.keepProps="extKey hcEvents names series userMax userMin".split(" "),I})),e(i,"Core/Axis/DateTimeAxis.js",[i["Core/Utilities.js"]],(function(t){const{addEvent:e,getMagnitude:i,normalizeTickInterval:o,timeUnits:n}=t;var r;return function(r){function s(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)}function a(t){"datetime"!==t.userOptions.type?this.dateTime=void 0:this.dateTime||(this.dateTime=new c(this))}const l=[];r.compose=function(i){return t.pushUnique(l,i)&&(i.keepProps.push("dateTime"),i.prototype.getTimeTicks=s,e(i,"init",a)),i};class c{constructor(t){this.axis=t}normalizeTimeTickInterval(t,e){const r=e||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]];e=r[r.length-1];let s,a=n[e[0]],l=e[1];for(s=0;s<r.length&&(e=r[s],a=n[e[0]],l=e[1],!(r[s+1]&&t<=(a*l[l.length-1]+n[r[s+1][0]])/2));s++);return a===n.year&&t<5*a&&(l=[1,2,5]),{unitRange:a,count:t=o(t/a,l,"year"===e[0]?Math.max(i(t/a),1):1),unitName:e[0]}}getXDateFormat(t,e){const{axis:i}=this,o=i.chart.time;return i.closestPointRange?o.getDateFormat(i.closestPointRange,t,i.options.startOfWeek,e)||o.resolveDTLFormat(e.year).main:o.resolveDTLFormat(e.day).main}}r.Additions=c}(r||(r={})),r})),e(i,"Core/Axis/LogarithmicAxis.js",[i["Core/Utilities.js"]],(function(t){const{addEvent:e,normalizeTickInterval:i,pick:o}=t;var n;return function(n){function r(t){let e=this.logarithmic;"logarithmic"!==t.userOptions.type?this.logarithmic=void 0:e||(this.logarithmic=new l(this))}function s(){const t=this.logarithmic;t&&(this.lin2val=function(e){return t.lin2log(e)},this.val2lin=function(e){return t.log2lin(e)})}const a=[];n.compose=function(i){return t.pushUnique(a,i)&&(i.keepProps.push("logarithmic"),e(i,"init",r),e(i,"afterInit",s)),i};class l{constructor(t){this.axis=t}getLogTickPositions(t,e,n,r){const s=this.axis;var a=s.len,l=s.options;let c=[];if(r||(this.minorAutoInterval=void 0),.5<=t)t=Math.round(t),c=s.getLinearTickPositions(t,e,n);else if(.08<=t){let i,o,s,u,h;for(l=Math.floor(e),a=.3<t?[1,2,4]:.15<t?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];l<n+1&&!h;l++)for(o=a.length,i=0;i<o&&!h;i++)s=this.log2lin(this.lin2log(l)*a[i]),s>e&&(!r||u<=n)&&void 0!==u&&c.push(u),u>n&&(h=!0),u=s}else e=this.lin2log(e),n=this.lin2log(n),t=r?s.getMinorTickInterval():l.tickInterval,t=o("auto"===t?null:t,this.minorAutoInterval,l.tickPixelInterval/(r?5:1)*(n-e)/((r?a/s.tickPositions.length:a)||1)),t=i(t),c=s.getLinearTickPositions(t,e,n).map(this.log2lin),r||(this.minorAutoInterval=t/5);return r||(s.tickInterval=t),c}lin2log(t){return Math.pow(10,t)}log2lin(t){return Math.log(t)/Math.LN10}}n.Additions=l}(n||(n={})),n})),e(i,"Core/Axis/PlotLineOrBand/PlotLineOrBandAxis.js",[i["Core/Utilities.js"]],(function(t){const{erase:e,extend:i,isNumber:o}=t;var n;return function(n){function r(t){return this.addPlotBandOrLine(t,"plotBands")}function s(t,e){const i=this.userOptions;let o=new p(this,t);if(this.visible&&(o=o.render()),o){if(this._addedPlotLB||(this._addedPlotLB=!0,(i.plotLines||[]).concat(i.plotBands||[]).forEach((t=>{this.addPlotBandOrLine(t)}))),e){const o=i[e]||[];o.push(t),i[e]=o}this.plotLinesAndBands.push(o)}return o}function a(t){return this.addPlotBandOrLine(t,"plotLines")}function l(t,e,i=this.options){const n=this.getPlotLinePath({value:e,force:!0,acrossPanes:i.acrossPanes}),r=[],s=this.horiz;let a;if(e=!o(this.min)||!o(this.max)||t<this.min&&e<this.min||t>this.max&&e>this.max,t=this.getPlotLinePath({value:t,force:!0,acrossPanes:i.acrossPanes}),i=1,t&&n)for(e&&(a=t.toString()===n.toString(),i=0),e=0;e<t.length;e+=2){const o=t[e],l=t[e+1],c=n[e],u=n[e+1];"M"!==o[0]&&"L"!==o[0]||"M"!==l[0]&&"L"!==l[0]||"M"!==c[0]&&"L"!==c[0]||"M"!==u[0]&&"L"!==u[0]||(s&&c[1]===o[1]?(c[1]+=i,u[1]+=i):s||c[2]!==o[2]||(c[2]+=i,u[2]+=i),r.push(["M",o[1],o[2]],["L",l[1],l[2]],["L",u[1],u[2]],["L",c[1],c[2]],["Z"])),r.isFlat=a}return r}function c(t){this.removePlotBandOrLine(t)}function u(t){const i=this.plotLinesAndBands,o=this.options,n=this.userOptions;if(i){let r=i.length;for(;r--;)i[r].id===t&&i[r].destroy();[o.plotLines||[],n.plotLines||[],o.plotBands||[],n.plotBands||[]].forEach((function(i){for(r=i.length;r--;)(i[r]||{}).id===t&&e(i,i[r])}))}}function h(t){this.removePlotBandOrLine(t)}const d=[];let p;n.compose=function(e,o){return p||(p=e),t.pushUnique(d,o)&&i(o.prototype,{addPlotBand:r,addPlotLine:a,addPlotBandOrLine:s,getPlotBandPath:l,removePlotBand:c,removePlotLine:h,removePlotBandOrLine:u}),o}}(n||(n={})),n})),e(i,"Core/Axis/PlotLineOrBand/PlotLineOrBand.js",[i["Core/Axis/PlotLineOrBand/PlotLineOrBandAxis.js"],i["Core/Utilities.js"]],(function(t,e){const{arrayMax:i,arrayMin:o,defined:n,destroyObjectProperties:r,erase:s,fireEvent:a,merge:l,objectEach:c,pick:u}=e;class h{static compose(e){return t.compose(h,e)}constructor(t,e){this.axis=t,e&&(this.options=e,this.id=e.id)}render(){a(this,"render");const t=this,e=t.axis,i=e.horiz;var o=e.logarithmic;const r=t.options,s=r.color,h=u(r.zIndex,0),d=r.events,p={},f=e.chart.renderer;let g=r.label,m=t.label,y=r.to,v=r.from,_=r.value,C=t.svgElem;var b=[];const E=n(v)&&n(y);b=n(_);const S=!C,w={class:"highcharts-plot-"+(E?"band ":"line ")+(r.className||"")};let O=E?"bands":"lines";if(o&&(v=o.log2lin(v),y=o.log2lin(y),_=o.log2lin(_)),e.chart.styledMode||(b?(w.stroke=s||"#999999",w["stroke-width"]=u(r.width,1),r.dashStyle&&(w.dashstyle=r.dashStyle)):E&&(w.fill=s||"#e6e9ff",r.borderWidth&&(w.stroke=r.borderColor,w["stroke-width"]=r.borderWidth))),p.zIndex=h,O+="-"+h,(o=e.plotLinesAndBandsGroups[O])||(e.plotLinesAndBandsGroups[O]=o=f.g("plot-"+O).attr(p).add()),S&&(t.svgElem=C=f.path().attr(w).add(o)),b)b=e.getPlotLinePath({value:_,lineWidth:C.strokeWidth(),acrossPanes:r.acrossPanes});else{if(!E)return;b=e.getPlotBandPath(v,y,r)}return!t.eventsAdded&&d&&(c(d,(function(e,i){C.on(i,(function(e){d[i].apply(t,[e])}))})),t.eventsAdded=!0),(S||!C.d)&&b&&b.length?C.attr({d:b}):C&&(b?(C.show(),C.animate({d:b})):C.d&&(C.hide(),m&&(t.label=m=m.destroy()))),g&&(n(g.text)||n(g.formatter))&&b&&b.length&&0<e.width&&0<e.height&&!b.isFlat?(g=l({align:i&&E&&"center",x:i?!E&&4:10,verticalAlign:!i&&E&&"middle",y:i?E?16:10:E?6:-4,rotation:i&&!E&&90},g),this.renderLabel(g,b,E,h)):m&&m.hide(),t}renderLabel(t,e,n,r){const s=this.axis;var a=s.chart.renderer;let c=this.label;c||(this.label=c=a.text(this.getLabelText(t),0,0,t.useHTML).attr({align:t.textAlign||t.align,rotation:t.rotation,class:"highcharts-plot-"+(n?"band":"line")+"-label "+(t.className||""),zIndex:r}).add(),s.chart.styledMode||c.css(l({fontSize:"0.8em",textOverflow:"ellipsis"},t.style))),r=e.xBounds||[e[0][1],e[1][1],n?e[2][1]:e[0][1]],e=e.yBounds||[e[0][2],e[1][2],n?e[2][2]:e[0][2]],n=o(r),a=o(e),c.align(t,!1,{x:n,y:a,width:i(r)-n,height:i(e)-a}),c.alignValue&&"left"!==c.alignValue||(t=t.clip?s.width:s.chart.chartWidth,c.css({width:(90===c.rotation?s.height-(c.alignAttr.y-s.top):t-(c.alignAttr.x-s.left))+"px"})),c.show(!0)}getLabelText(t){return n(t.formatter)?t.formatter.call(this):t.text}destroy(){s(this.axis.plotLinesAndBands,this),delete this.axis,r(this)}}return h})),e(i,"Core/Tooltip.js",[i["Core/FormatUtilities.js"],i["Core/Globals.js"],i["Core/Renderer/RendererUtilities.js"],i["Core/Renderer/RendererRegistry.js"],i["Core/Utilities.js"]],(function(t,e,i,o,n){const{format:r}=t,{doc:s,isSafari:a}=e,{distribute:l}=i,{addEvent:c,clamp:u,css:h,discardElement:d,extend:p,fireEvent:f,isArray:g,isNumber:m,isString:y,merge:v,pick:_,splat:C,syncTimeout:b}=n;class E{constructor(t,e){this.allowShared=!0,this.container=void 0,this.crosshairs=[],this.distance=0,this.isHidden=!0,this.isSticky=!1,this.now={},this.options={},this.outside=!1,this.chart=t,this.init(t,e)}bodyFormatter(t){return t.map((function(t){const e=t.series.tooltipOptions;return(e[(t.point.formatPrefix||"point")+"Formatter"]||t.point.tooltipFormatter).call(t.point,e[(t.point.formatPrefix||"point")+"Format"]||"")}))}cleanSplit(t){this.chart.series.forEach((function(e){const i=e&&e.tt;i&&(!i.isActive||t?e.tt=i.destroy():i.isActive=!1)}))}defaultFormatter(t){const e=this.points||C(this);let i;return i=[t.tooltipFooterHeaderFormatter(e[0])],i=i.concat(t.bodyFormatter(e)),i.push(t.tooltipFooterHeaderFormatter(e[0],!0)),i}destroy(){this.label&&(this.label=this.label.destroy()),this.split&&(this.cleanSplit(!0),this.tt&&(this.tt=this.tt.destroy())),this.renderer&&(this.renderer=this.renderer.destroy(),d(this.container)),n.clearTimeout(this.hideTimer),n.clearTimeout(this.tooltipTimeout)}getAnchor(t,e){var i=this.chart;const o=i.pointer,n=i.inverted,r=i.plotTop;if(i=i.plotLeft,(t=C(t))[0].series&&t[0].series.yAxis&&!t[0].series.yAxis.options.reversedStacks&&(t=t.slice().reverse()),this.followPointer&&e)void 0===e.chartX&&(e=o.normalize(e)),t=[e.chartX-i,e.chartY-r];else if(t[0].tooltipPos)t=t[0].tooltipPos;else{let o=0,s=0;t.forEach((function(t){(t=t.pos(!0))&&(o+=t[0],s+=t[1])})),o/=t.length,s/=t.length,this.shared&&1<t.length&&e&&(n?o=e.chartX:s=e.chartY),t=[o-i,s-r]}return t.map(Math.round)}getClassName(t,e,i){const o=t.series,n=o.options;return[this.options.className,"highcharts-label",i&&"highcharts-tooltip-header",e?"highcharts-tooltip-box":"highcharts-tooltip",!i&&"highcharts-color-"+_(t.colorIndex,o.colorIndex),n&&n.className].filter(y).join(" ")}getLabel(){const t=this,i=this.chart.styledMode,n=this.options,r=this.split&&this.allowShared,s=n.style.pointerEvents||(this.shouldStickOnContact()?"auto":"none");let a,l=this.chart.renderer;if(this.label){var c=!this.label.hasClass("highcharts-label");(!r&&c||r&&!c)&&this.destroy()}if(!this.label){if(this.outside){c=this.chart.options.chart.style;const t=o.getRendererType();this.container=a=e.doc.createElement("div"),a.className="highcharts-tooltip-container",h(a,{position:"absolute",top:"1px",pointerEvents:s,zIndex:Math.max(this.options.style.zIndex||0,(c&&c.zIndex||0)+3)}),e.doc.body.appendChild(a),this.renderer=l=new t(a,0,0,c,void 0,void 0,l.styledMode)}if(r?this.label=l.g("tooltip"):(this.label=l.label("",0,0,n.shape,void 0,void 0,n.useHTML,void 0,"tooltip").attr({padding:n.padding,r:n.borderRadius}),i||this.label.attr({fill:n.backgroundColor,"stroke-width":n.borderWidth||0}).css(n.style).css({pointerEvents:s})),t.outside){const e=this.label,{xSetter:i,ySetter:o}=e;e.xSetter=function(o){i.call(e,t.distance),a.style.left=o+"px"},e.ySetter=function(i){o.call(e,t.distance),a.style.top=i+"px"}}this.label.attr({zIndex:8}).shadow(n.shadow).add()}return this.label}getPlayingField(){const{body:t,documentElement:e}=s,{chart:i,distance:o,outside:n}=this;return{width:n?Math.max(t.scrollWidth,e.scrollWidth,t.offsetWidth,e.offsetWidth,e.clientWidth)-2*o:i.chartWidth,height:n?Math.max(t.scrollHeight,e.scrollHeight,t.offsetHeight,e.offsetHeight,e.clientHeight):i.chartHeight}}getPosition(t,e,i){const o=this.chart,n=this.distance,r={},s=o.inverted&&i.h||0,a=this.outside;var l=this.getPlayingField();const c=l.width,u=l.height,h=o.pointer.getChartPosition();l=r=>{const s="x"===r;return[r,s?c:u,s?t:e].concat(a?[s?t*h.scaleX:e*h.scaleY,s?h.left-n+(i.plotX+o.plotLeft)*h.scaleX:h.top-n+(i.plotY+o.plotTop)*h.scaleY,0,s?c:u]:[s?t:e,s?i.plotX+o.plotLeft:i.plotY+o.plotTop,s?o.plotLeft:o.plotTop,s?o.plotLeft+o.plotWidth:o.plotTop+o.plotHeight])};let d,p=l("y"),f=l("x");l=!!i.negative,!o.polar&&o.hoverSeries&&o.hoverSeries.yAxis&&o.hoverSeries.yAxis.reversed&&(l=!l);const g=!this.followPointer&&_(i.ttBelow,!o.inverted===l),m=function(t,e,i,o,l,c,u){const d=a?"y"===t?n*h.scaleY:n*h.scaleX:n,p=(i-o)/2,f=o<l-n,m=l+n+o<e,y=l-d-i+p;if(l=l+d-p,g&&m)r[t]=l;else if(!g&&f)r[t]=y;else if(f)r[t]=Math.min(u-o,0>y-s?y:y-s);else{if(!m)return!1;r[t]=Math.max(c,l+s+i>e?l:l+s)}},y=function(t,e,i,o,s){let a;return s<n||s>e-n?a=!1:r[t]=s<i/2?1:s>e-o/2?e-o-2:s-i/2,a},v=function(t){const e=p;p=f,f=e,d=t},C=function(){!1!==m.apply(0,p)?!1!==y.apply(0,f)||d||(v(!0),C()):d?r.x=r.y=0:(v(!0),C())};return(o.inverted||1<this.len)&&v(),C(),r}hide(t){const e=this;n.clearTimeout(this.hideTimer),t=_(t,this.options.hideDelay),this.isHidden||(this.hideTimer=b((function(){e.getLabel().fadeOut(t?void 0:t),e.isHidden=!0}),t))}init(t,e){this.chart=t,this.options=e,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.split=e.split&&!t.inverted&&!t.polar,this.shared=e.shared||this.split,this.outside=_(e.outside,!(!t.scrollablePixelsX&&!t.scrollablePixelsY))}shouldStickOnContact(t){return!(this.followPointer||!this.options.stickOnContact||t&&!this.chart.pointer.inClass(t.target,"highcharts-tooltip"))}move(t,e,i,o){const r=this,s=r.now,a=!1!==r.options.animation&&!r.isHidden&&(1<Math.abs(t-s.x)||1<Math.abs(e-s.y)),l=r.followPointer||1<r.len;p(s,{x:a?(2*s.x+t)/3:t,y:a?(s.y+e)/2:e,anchorX:l?void 0:a?(2*s.anchorX+i)/3:i,anchorY:l?void 0:a?(s.anchorY+o)/2:o}),r.getLabel().attr(s),r.drawTracker(),a&&(n.clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout((function(){r&&r.move(t,e,i,o)}),32))}refresh(t,e){const i=this.chart,o=this.options,r=i.pointer,s=C(t),a=s[0],l=[];var c=o.formatter||this.defaultFormatter,u=this.shared;const h=i.styledMode;let d={};if(o.enabled&&a.series){n.clearTimeout(this.hideTimer),this.allowShared=!(!g(t)&&t.series&&t.series.noSharedTooltip),this.followPointer=!this.split&&a.series.tooltipOptions.followPointer;var p=(t=this.getAnchor(t,e))[0],m=t[1];if(u&&this.allowShared?(r.applyInactiveState(s),s.forEach((function(t){t.setState("hover"),l.push(t.getLabelConfig())})),d={x:a.category,y:a.y},d.points=l):d=a.getLabelConfig(),this.len=l.length,c=c.call(d,this),u=a.series,this.distance=_(u.tooltipOptions.distance,16),!1===c)this.hide();else{if(this.split&&this.allowShared)this.renderSplit(c,s);else{let n=p,l=m;if(e&&r.isDirectTouch&&(n=e.chartX-i.plotLeft,l=e.chartY-i.plotTop),!i.polar&&!1!==u.options.clip&&!s.some((t=>r.isDirectTouch||t.series.shouldShowTooltip(n,l))))return void this.hide();e=this.getLabel(),o.style.width&&!h||e.css({width:(this.outside?this.getPlayingField():i.spacingBox).width+"px"}),e.attr({text:c&&c.join?c.join(""):c}),e.addClass(this.getClassName(a),!0),h||e.attr({stroke:o.borderColor||a.color||u.color||"#666666"}),this.updatePosition({plotX:p,plotY:m,negative:a.negative,ttBelow:a.ttBelow,h:t[2]||0})}this.isHidden&&this.label&&this.label.attr({opacity:1}).show(),this.isHidden=!1}f(this,"refresh")}}renderSplit(t,e){function i(t,e,i,n,r=!0){return i?(e=M?0:I,t=u(t-n/2,x.left,x.right-n-(o.outside?D:0))):(e-=R,t=u(t=r?t-n-S:t+S,r?t:x.left,x.right)),{x:t,y:e}}const o=this,{chart:n,chart:{chartWidth:r,chartHeight:c,plotHeight:h,plotLeft:d,plotTop:f,pointer:g,scrollablePixelsY:m=0,scrollablePixelsX:v,scrollingContainer:{scrollLeft:C,scrollTop:b}={scrollLeft:0,scrollTop:0},styledMode:E},distance:S,options:w,options:{positioner:O}}=o,x=o.outside&&"number"!=typeof v?s.documentElement.getBoundingClientRect():{left:C,right:C+r,top:b,bottom:b+c},P=o.getLabel(),T=this.renderer||n.renderer,M=!(!n.xAxis[0]||!n.xAxis[0].opposite),{left:D,top:A}=g.getChartPosition();let R=f+b,L=0,I=h-m;y(t)&&(t=[!1,t]),t=t.slice(0,e.length+1).reduce((function(t,n,r){if(!1!==n&&""!==n){const g=(r=e[r-1]||{isHeader:!0,plotX:e[0].plotX,plotY:h,series:{}}).isHeader;var s,a=g?o:r.series;{var l=r;n=n.toString();var c=a.tt;const{isHeader:t,series:e}=l;c||(c={padding:w.padding,r:w.borderRadius},E||(c.fill=w.backgroundColor,c["stroke-width"]=null!==(s=w.borderWidth)&&void 0!==s?s:1),c=T.label("",0,0,w[t?"headerShape":"shape"],void 0,void 0,w.useHTML).addClass(o.getClassName(l,!0,t)).attr(c).add(P)),c.isActive=!0,c.attr({text:n}),E||c.css(w.style).attr({stroke:w.borderColor||l.color||e.color||"#333333"}),s=c}s=a.tt=s,a=(l=s.getBBox()).width+s.strokeWidth(),g&&(L=l.height,I+=L,M&&(R-=L));{const{isHeader:t,plotX:e=0,plotY:i=0,series:o}=r;if(t){n=d+e;var p=f+h/2}else{const{xAxis:t,yAxis:r}=o;n=t.pos+u(e,-S,t.len+S),o.shouldShowTooltip(0,r.pos-f+i,{ignoreX:!0})&&(p=r.pos+i)}p={anchorX:n=u(n,x.left-S,x.right+S),anchorY:p}}const{anchorX:m,anchorY:y}=p;"number"==typeof y?(p=l.height+1,l=O?O.call(o,a,p,r):i(m,y,g,a),t.push({align:O?0:void 0,anchorX:m,anchorY:y,boxWidth:a,point:r,rank:_(l.rank,g?1:0),size:p,target:l.y,tt:s,x:l.x})):s.isActive=!1}return t}),[]),!O&&t.some((t=>{var{outside:e}=o;return(e=(e?D:0)+t.anchorX)<x.left&&e+t.boxWidth<x.right||e<D-x.left+t.boxWidth&&x.right-e>e}))&&(t=t.map((t=>{const{x:e,y:o}=i(t.anchorX,t.anchorY,t.point.isHeader,t.boxWidth,!1);return p(t,{target:o,x:e})}))),o.cleanSplit(),l(t,I);var N=D,k=D;t.forEach((function(t){const{x:e,boxWidth:i,isHeader:n}=t;n||(o.outside&&D+e<N&&(N=D+e),!n&&o.outside&&N+i>k&&(k=D+e))})),t.forEach((function(t){const{x:e,anchorX:i,anchorY:n,pos:r,point:{isHeader:s}}=t,a={visibility:void 0===r?"hidden":"inherit",x:e,y:(r||0)+R,anchorX:i,anchorY:n};if(o.outside&&e<i){const t=D-N;0<t&&(s||(a.x=e+t,a.anchorX=i+t),s&&(a.x=(k-N)/2,a.anchorX=i+t))}t.tt.attr(a)}));const{container:F,outside:B,renderer:G}=o;if(B&&F&&G){const{width:t,height:e,x:i,y:o}=P.getBBox();G.setSize(t+i,e+o,!1),F.style.left=N+"px",F.style.top=A+"px"}a&&P.attr({opacity:1===P.opacity?.999:1})}drawTracker(){if(this.shouldStickOnContact()){var t=this.chart,e=this.label,i=this.shared?t.hoverPoints:t.hoverPoint;if(e&&i){var o={x:0,y:0,width:0,height:0};i=this.getAnchor(i);var n=e.getBBox();i[0]+=t.plotLeft-e.translateX,i[1]+=t.plotTop-e.translateY,o.x=Math.min(0,i[0]),o.y=Math.min(0,i[1]),o.width=0>i[0]?Math.max(Math.abs(i[0]),n.width-i[0]):Math.max(Math.abs(i[0]),n.width),o.height=0>i[1]?Math.max(Math.abs(i[1]),n.height-Math.abs(i[1])):Math.max(Math.abs(i[1]),n.height),this.tracker?this.tracker.attr(o):(this.tracker=e.renderer.rect(o).addClass("highcharts-tracker").add(e),t.styledMode||this.tracker.attr({fill:"rgba(0,0,0,0)"}))}}else this.tracker&&(this.tracker=this.tracker.destroy())}styledModeFormat(t){return t.replace('style="font-size: 0.8em"','class="highcharts-header"').replace(/style="color:{(point|series)\.color}"/g,'class="highcharts-color-{$1.colorIndex} {series.options.className} {point.options.className}"')}tooltipFooterHeaderFormatter(t,e){const i=t.series,o=i.tooltipOptions;var n=i.xAxis;const s=n&&n.dateTime;n={isFooter:e,labelConfig:t};let a=o.xDateFormat,l=o[e?"footerFormat":"headerFormat"];return f(this,"headerFormatter",n,(function(e){s&&!a&&m(t.key)&&(a=s.getXDateFormat(t.key,o.dateTimeLabelFormats)),s&&a&&(t.point&&t.point.tooltipDateKeys||["key"]).forEach((function(t){l=l.replace("{point."+t+"}","{point."+t+":"+a+"}")})),i.chart.styledMode&&(l=this.styledModeFormat(l)),e.text=r(l,{point:t,series:i},this.chart)})),n.text}update(t){this.destroy(),v(!0,this.chart.options.tooltip.userOptions,t),this.init(this.chart,v(!0,this.options,t))}updatePosition(t){const{chart:e,distance:i,options:o}=this;var n=e.pointer;const r=this.getLabel(),{left:s,top:a,scaleX:l,scaleY:c}=n.getChartPosition();n=(o.positioner||this.getPosition).call(this,r.width,r.height,t);let u,d=(t.plotX||0)+e.plotLeft;t=(t.plotY||0)+e.plotTop,this.outside&&(o.positioner&&(n.x+=s-i,n.y+=a-i),u=(o.borderWidth||0)+2*i,this.renderer.setSize(r.width+u,r.height+u,!1),1===l&&1===c||(h(this.container,{transform:`scale(${l}, ${c})`}),d*=l,t*=c),d+=s-n.x,t+=a-n.y),this.move(Math.round(n.x),Math.round(n.y||0),d,t)}}return function(t){const e=[];t.compose=function(i){n.pushUnique(e,i)&&c(i,"afterInit",(function(){const e=this.chart;e.options.tooltip&&(e.tooltip=new t(e,e.options.tooltip))}))}}(E||(E={})),E})),e(i,"Core/Series/Point.js",[i["Core/Renderer/HTML/AST.js"],i["Core/Animation/AnimationUtilities.js"],i["Core/Defaults.js"],i["Core/FormatUtilities.js"],i["Core/Utilities.js"]],(function(t,e,i,o,n){const{animObject:r}=e,{defaultOptions:s}=i,{format:a}=o,{addEvent:l,defined:c,erase:u,extend:h,fireEvent:d,getNestedProperty:p,isArray:f,isFunction:g,isNumber:m,isObject:y,merge:v,objectEach:_,pick:C,syncTimeout:b,removeEvent:E,uniqueKey:S}=n;class w{constructor(){this.category=void 0,this.destroyed=!1,this.formatPrefix="point",this.id=void 0,this.isNull=!1,this.percentage=this.options=this.name=void 0,this.selected=!1,this.total=this.shapeArgs=this.series=void 0,this.visible=!0,this.x=void 0}animateBeforeDestroy(){const t=this,e={x:t.startXPos,opacity:0},i=t.getGraphicalProps();i.singular.forEach((function(i){t[i]=t[i].animate("dataLabel"===i?{x:t[i].startXPos,y:t[i].startYPos,opacity:0}:e)})),i.plural.forEach((function(e){t[e].forEach((function(e){e.element&&e.animate(h({x:t.startXPos},e.startYPos?{x:e.startXPos,y:e.startYPos}:{}))}))}))}applyOptions(t,e){const i=this.series,o=i.options.pointValKey||i.pointValKey;return t=w.prototype.optionsToObject.call(this,t),h(this,t),this.options=this.options?h(this.options,t):t,t.group&&delete this.group,t.dataLabels&&delete this.dataLabels,o&&(this.y=w.prototype.getNestedProperty.call(this,o)),this.formatPrefix=(this.isNull=this.isValid&&!this.isValid())?"null":"point",this.selected&&(this.state="select"),"name"in this&&void 0===e&&i.xAxis&&i.xAxis.hasNames&&(this.x=i.xAxis.nameToX(this)),void 0===this.x&&i?this.x=void 0===e?i.autoIncrement():e:m(t.x)&&i.options.relativeXValue&&(this.x=i.autoIncrement(t.x)),this}destroy(){if(!this.destroyed){const e=this;var t=e.series;const i=t.chart;t=t.options.dataSorting;const o=i.hoverPoints,n=r(e.series.chart.renderer.globalAnimation),s=()=>{(e.graphic||e.graphics||e.dataLabel||e.dataLabels)&&(E(e),e.destroyElements());for(const t in e)delete e[t]};e.legendItem&&i.legend.destroyItem(e),o&&(e.setState(),u(o,e),o.length||(i.hoverPoints=null)),e===i.hoverPoint&&e.onMouseOut(),t&&t.enabled?(this.animateBeforeDestroy(),b(s,n.duration)):s(),i.pointCount--}this.destroyed=!0}destroyElements(t){const e=this;(t=e.getGraphicalProps(t)).singular.forEach((function(t){e[t]=e[t].destroy()})),t.plural.forEach((function(t){e[t].forEach((function(t){t&&t.element&&t.destroy()})),delete e[t]}))}firePointEvent(t,e,i){const o=this,n=this.series.options;(n.point.events[t]||o.options&&o.options.events&&o.options.events[t])&&o.importEvents(),"click"===t&&n.allowPointSelect&&(i=function(t){o.select&&o.select(null,t.ctrlKey||t.metaKey||t.shiftKey)}),d(o,t,e,i)}getClassName(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(void 0!==this.colorIndex?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+(this.zone&&this.zone.className?" "+this.zone.className.replace("highcharts-negative",""):"")}getGraphicalProps(t){const e=this,i=[],o={singular:[],plural:[]};let n,r;for((t=t||{graphic:1,dataLabel:1}).graphic&&i.push("graphic"),t.dataLabel&&i.push("dataLabel","dataLabelPath","dataLabelUpper","connector"),r=i.length;r--;)n=i[r],e[n]&&o.singular.push(n);return["graphic","dataLabel","connector"].forEach((function(i){const n=i+"s";t[i]&&e[n]&&o.plural.push(n)})),o}getLabelConfig(){return{x:this.category,y:this.y,color:this.color,colorIndex:this.colorIndex,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}}getNestedProperty(t){if(t)return 0===t.indexOf("custom.")?p(t,this.options):this[t]}getZone(){var t=this.series;const e=t.zones;t=t.zoneAxis||"y";let i,o=0;for(i=e[o];this[t]>=i.value;)i=e[++o];return this.nonZonedColor||(this.nonZonedColor=this.color),this.color=i&&i.color&&!this.options.color?i.color:this.nonZonedColor,i}hasNewShapeType(){return(this.graphic&&(this.graphic.symbolName||this.graphic.element.nodeName))!==this.shapeType}init(t,e,i){return this.series=t,this.applyOptions(e,i),this.id=c(this.id)?this.id:S(),this.resolveColor(),t.chart.pointCount++,d(this,"afterInit"),this}isValid(){return null!==this.x&&m(this.y)}optionsToObject(t){var e=this.series;const i=e.options.keys,o=i||e.pointArrayMap||["y"],n=o.length;let r={},s=0,a=0;if(m(t)||null===t)r[o[0]]=t;else if(f(t))for(!i&&t.length>n&&("string"==(e=typeof t[0])?r.name=t[0]:"number"===e&&(r.x=t[0]),s++);a<n;)i&&void 0===t[s]||(0<o[a].indexOf(".")?w.prototype.setNestedProperty(r,t[s],o[a]):r[o[a]]=t[s]),s++,a++;else"object"==typeof t&&(r=t,t.dataLabels&&(e._hasPointLabels=!0),t.marker&&(e._hasPointMarkers=!0));return r}pos(t,e=this.plotY){if(!this.destroyed){const{plotX:i,series:o}=this,{chart:n,xAxis:r,yAxis:s}=o;let a=0,l=0;if(m(i)&&m(e))return t&&(a=r?r.pos:n.plotLeft,l=s?s.pos:n.plotTop),n.inverted&&r&&s?[s.len-e+l,r.len-i+a]:[i+a,e+l]}}resolveColor(){const t=this.series;var e=t.chart.styledMode;let i;var o=t.chart.options.chart.colorCount;delete this.nonZonedColor,t.options.colorByPoint?(e||(i=(o=t.options.colors||t.chart.options.colors)[t.colorCounter],o=o.length),e=t.colorCounter,t.colorCounter++,t.colorCounter===o&&(t.colorCounter=0)):(e||(i=t.color),e=t.colorIndex),this.colorIndex=C(this.options.colorIndex,e),this.color=C(this.options.color,i)}setNestedProperty(t,e,i){return i.split(".").reduce((function(t,i,o,n){return t[i]=n.length-1===o?e:y(t[i],!0)?t[i]:{},t[i]}),t),t}shouldDraw(){return!this.isNull}tooltipFormatter(t){const e=this.series,i=e.tooltipOptions,o=C(i.valueDecimals,""),n=i.valuePrefix||"",r=i.valueSuffix||"";return e.chart.styledMode&&(t=e.chart.tooltip.styledModeFormat(t)),(e.pointArrayMap||["y"]).forEach((function(e){e="{point."+e,(n||r)&&(t=t.replace(RegExp(e+"}","g"),n+e+"}"+r)),t=t.replace(RegExp(e+"}","g"),e+":,."+o+"f}")})),a(t,{point:this,series:this.series},e.chart)}update(t,e,i,o){function n(){r.applyOptions(t);var o=a&&r.hasMockGraphic;o=null===r.y?!o:o,a&&o&&(r.graphic=a.destroy(),delete r.hasMockGraphic),y(t,!0)&&(a&&a.element&&t&&t.marker&&void 0!==t.marker.symbol&&(r.graphic=a.destroy()),t&&t.dataLabels&&r.dataLabel&&(r.dataLabel=r.dataLabel.destroy()),r.connector&&(r.connector=r.connector.destroy())),u=r.index,s.updateParallelArrays(r,u),c.data[u]=y(c.data[u],!0)||y(t,!0)?r.options:C(t,c.data[u]),s.isDirty=s.isDirtyData=!0,!s.fixedBox&&s.hasCartesianSeries&&(l.isDirtyBox=!0),"point"===c.legendType&&(l.isDirtyLegend=!0),e&&l.redraw(i)}const r=this,s=r.series,a=r.graphic,l=s.chart,c=s.options;let u;e=C(e,!0),!1===o?n():r.firePointEvent("update",{options:t},n)}remove(t,e){this.series.removePoint(this.series.data.indexOf(this),t,e)}select(t,e){const i=this,o=i.series,n=o.chart;this.selectedStaging=t=C(t,!i.selected),i.firePointEvent(t?"select":"unselect",{accumulate:e},(function(){i.selected=i.options.selected=t,o.options.data[o.data.indexOf(i)]=i.options,i.setState(t&&"select"),e||n.getSelectedPoints().forEach((function(t){const e=t.series;t.selected&&t!==i&&(t.selected=t.options.selected=!1,e.options.data[e.data.indexOf(t)]=t.options,t.setState(n.hoverPoints&&e.options.inactiveOtherPoints?"inactive":""),t.firePointEvent("unselect"))}))})),delete this.selectedStaging}onMouseOver(t){const e=this.series.chart,i=e.pointer;t=t?i.normalize(t):i.getChartCoordinatesFromPoint(this,e.inverted),i.runPointActions(t,this)}onMouseOut(){const t=this.series.chart;this.firePointEvent("mouseOut"),this.series.options.inactiveOtherPoints||(t.hoverPoints||[]).forEach((function(t){t.setState()})),t.hoverPoints=t.hoverPoint=null}importEvents(){if(!this.hasImportedEvents){const t=this,e=v(t.series.options.point,t.options).events;t.events=e,_(e,(function(e,i){g(e)&&l(t,i,e)})),this.hasImportedEvents=!0}}setState(e,i){const o=this.series;var n=this.state,r=o.options.states[e||"normal"]||{},a=s.plotOptions[o.type].marker&&o.options.marker;const l=a&&!1===a.enabled,c=a&&a.states&&a.states[e||"normal"]||{},u=!1===c.enabled,p=this.marker||{},f=o.chart,g=a&&o.markerAttribs;let y=o.halo;var v;let _;var b=o.stateMarkerGraphic;if(!((e=e||"")===this.state&&!i||this.selected&&"select"!==e||!1===r.enabled||e&&(u||l&&!1===c.enabled)||e&&p.states&&p.states[e]&&!1===p.states[e].enabled)){if(this.state=e,g&&(v=o.markerAttribs(this,e)),this.graphic&&!this.hasMockGraphic){if(n&&this.graphic.removeClass("highcharts-point-"+n),e&&this.graphic.addClass("highcharts-point-"+e),!f.styledMode){n=o.pointAttribs(this,e),_=C(f.options.chart.animation,r.animation);const t=n.opacity;o.options.inactiveOtherPoints&&m(t)&&((this.dataLabels||[]).forEach((function(e){e&&!e.hasClass("highcharts-data-label-hidden")&&e.animate({opacity:t},_)})),this.connector&&this.connector.animate({opacity:t},_)),this.graphic.animate(n,_)}v&&this.graphic.animate(v,C(f.options.chart.animation,c.animation,a.animation)),b&&b.hide()}else e&&c&&(a=p.symbol||o.symbol,b&&b.currentSymbol!==a&&(b=b.destroy()),v&&(b?b[i?"animate":"attr"]({x:v.x,y:v.y}):a&&(o.stateMarkerGraphic=b=f.renderer.symbol(a,v.x,v.y,v.width,v.height).add(o.markerGroup),b.currentSymbol=a)),!f.styledMode&&b&&"inactive"!==this.state&&b.attr(o.pointAttribs(this,e))),b&&(b[e&&this.isInside?"show":"hide"](),b.element.point=this,b.addClass(this.getClassName(),!0));r=r.halo,v=(b=this.graphic||b)&&b.visibility||"inherit",r&&r.size&&b&&"hidden"!==v&&!this.isCluster?(y||(o.halo=y=f.renderer.path().add(b.parentGroup)),y.show()[i?"animate":"attr"]({d:this.haloPath(r.size)}),y.attr({class:"highcharts-halo highcharts-color-"+C(this.colorIndex,o.colorIndex)+(this.className?" "+this.className:""),visibility:v,zIndex:-1}),y.point=this,f.styledMode||y.attr(h({fill:this.color||o.color,"fill-opacity":r.opacity},t.filterUserAttributes(r.attributes||{})))):y&&y.point&&y.point.haloPath&&y.animate({d:y.point.haloPath(0)},null,y.hide),d(this,"afterSetState",{state:e})}}haloPath(t){const e=this.pos();return e?this.series.chart.renderer.symbols.circle(Math.floor(e[0])-t,e[1]-t,2*t,2*t):[]}}return w})),e(i,"Core/Pointer.js",[i["Core/Color/Color.js"],i["Core/Globals.js"],i["Core/Utilities.js"]],(function(t,e,i){const{parse:o}=t,{charts:n,noop:r}=e,{addEvent:s,attr:a,css:l,defined:c,extend:u,find:h,fireEvent:d,isNumber:p,isObject:f,objectEach:g,offset:m,pick:y,splat:v}=i;class _{constructor(t,e){this.lastValidTouch={},this.pinchDown=[],this.runChartClick=!1,this.eventsToUnbind=[],this.chart=t,this.hasDragged=!1,this.options=e,this.init(t,e)}applyInactiveState(t){let e,i=[];(t||[]).forEach((function(t){e=t.series,i.push(e),e.linkedParent&&i.push(e.linkedParent),e.linkedSeries&&(i=i.concat(e.linkedSeries)),e.navigatorSeries&&i.push(e.navigatorSeries)})),this.chart.series.forEach((function(t){-1===i.indexOf(t)?t.setState("inactive",!0):t.options.inactiveOtherPoints&&t.setAllPointsToState("inactive")}))}destroy(){const t=this;this.eventsToUnbind.forEach((t=>t())),this.eventsToUnbind=[],e.chartCount||(_.unbindDocumentMouseUp&&(_.unbindDocumentMouseUp=_.unbindDocumentMouseUp()),_.unbindDocumentTouchEnd&&(_.unbindDocumentTouchEnd=_.unbindDocumentTouchEnd())),clearInterval(t.tooltipTimeout),g(t,(function(e,i){t[i]=void 0}))}getSelectionMarkerAttrs(t,e){const i={args:{chartX:t,chartY:e},attrs:{},shapeType:"rect"};return d(this,"getSelectionMarkerAttrs",i,(i=>{const{chart:o,mouseDownX:n=0,mouseDownY:r=0,zoomHor:s,zoomVert:a}=this;let l;(i=i.attrs).x=o.plotLeft,i.y=o.plotTop,i.width=s?1:o.plotWidth,i.height=a?1:o.plotHeight,s&&(l=t-n,i.width=Math.abs(l),i.x=(0<l?0:l)+n),a&&(l=e-r,i.height=Math.abs(l),i.y=(0<l?0:l)+r)})),i}drag(t){const e=this.chart,i=e.options.chart;var n=e.plotLeft;const r=e.plotTop,s=e.plotWidth,a=e.plotHeight,l=this.mouseDownX||0,c=this.mouseDownY||0,u=f(i.panning)?i.panning&&i.panning.enabled:i.panning,h=i.panKey&&t[i.panKey+"Key"];let d=t.chartX,p=t.chartY,g=this.selectionMarker;if((!g||!g.touch)&&(d<n?d=n:d>n+s&&(d=n+s),p<r?p=r:p>r+a&&(p=r+a),this.hasDragged=Math.sqrt(Math.pow(l-d,2)+Math.pow(c-p,2)),10<this.hasDragged)){n=e.isInsidePlot(l-n,c-r,{visiblePlotOnly:!0});const{shapeType:s,attrs:a}=this.getSelectionMarkerAttrs(d,p);!e.hasCartesianSeries&&!e.mapView||!this.zoomX&&!this.zoomY||!n||h||g||(this.selectionMarker=g=e.renderer[s](),g.attr({class:"highcharts-selection-marker",zIndex:7}).add(),e.styledMode||g.attr({fill:i.selectionMarkerFill||o("#334eff").setOpacity(.25).get()})),g&&g.attr(a),n&&!g&&u&&e.pan(t,i.panning)}}dragStart(t){const e=this.chart;e.mouseIsDown=t.type,e.cancelClick=!1,e.mouseDownX=this.mouseDownX=t.chartX,e.mouseDownY=this.mouseDownY=t.chartY}getSelectionBox(t){const e={args:{marker:t},result:{}};return d(this,"getSelectionBox",e,(e=>{e.result={x:t.attr?+t.attr("x"):t.x,y:t.attr?+t.attr("y"):t.y,width:t.attr?t.attr("width"):t.width,height:t.attr?t.attr("height"):t.height}})),e.result}drop(t){const e=this,i=this.chart,o=this.hasPinched;if(this.selectionMarker){const{x:n,y:r,width:s,height:a}=this.getSelectionBox(this.selectionMarker),l={originalEvent:t,xAxis:[],yAxis:[],x:n,y:r,width:s,height:a};let h=!!i.mapView;(this.hasDragged||o)&&(i.axes.forEach((function(i){if(i.zoomEnabled&&c(i.min)&&(o||e[{xAxis:"zoomX",yAxis:"zoomY"}[i.coll]])&&p(n)&&p(r)&&p(s)&&p(a)){var u=i.horiz;const e="touchend"===t.type?i.minPixelPadding:0,o=i.toValue((u?n:r)+e);u=i.toValue((u?n+s:r+a)-e),l[i.coll].push({axis:i,min:Math.min(o,u),max:Math.max(o,u)}),h=!0}})),h&&d(i,"selection",l,(function(t){i.zoom(u(t,o?{animation:!1}:null))}))),p(i.index)&&(this.selectionMarker=this.selectionMarker.destroy()),o&&this.scaleGroups()}i&&p(i.index)&&(l(i.container,{cursor:i._cursor}),i.cancelClick=10<this.hasDragged,i.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])}findNearestKDPoint(t,e,i){let o;return t.forEach((function(t){var n=!(t.noSharedTooltip&&e)&&0>t.options.findNearestPointBy.indexOf("y");if(t=t.searchPoint(i,n),(n=f(t,!0)&&t.series)&&!(n=!f(o,!0))){{n=o.distX-t.distX;const i=o.dist-t.dist,r=(t.series.group&&t.series.group.zIndex)-(o.series.group&&o.series.group.zIndex);n=0!==n&&e?n:0!==i?i:0!==r?r:o.series.index>t.series.index?-1:1}n=0<n}n&&(o=t)})),o}getChartCoordinatesFromPoint(t,e){var i=t.series;const o=i.xAxis;i=i.yAxis;const n=t.shapeArgs;if(o&&i){let r=y(t.clientX,t.plotX),s=t.plotY||0;return t.isNode&&n&&p(n.x)&&p(n.y)&&(r=n.x,s=n.y),e?{chartX:i.len+i.pos-s,chartY:o.len+o.pos-r}:{chartX:r+o.pos,chartY:s+i.pos}}if(n&&n.x&&n.y)return{chartX:n.x,chartY:n.y}}getChartPosition(){if(this.chartPosition)return this.chartPosition;var{container:t}=this.chart;const e=m(t);this.chartPosition={left:e.left,top:e.top,scaleX:1,scaleY:1};const i=t.offsetWidth;return t=t.offsetHeight,2<i&&2<t&&(this.chartPosition.scaleX=e.width/i,this.chartPosition.scaleY=e.height/t),this.chartPosition}getCoordinates(t){const e={xAxis:[],yAxis:[]};return this.chart.axes.forEach((function(i){e[i.isXAxis?"xAxis":"yAxis"].push({axis:i,value:i.toValue(t[i.horiz?"chartX":"chartY"])})})),e}getHoverData(t,e,i,o,n,r){const s=[];o=!(!o||!t);const a=function(t){return t.visible&&!(!n&&t.directTouch)&&y(t.options.enableMouseTracking,!0)};let l,c={chartX:r?r.chartX:void 0,chartY:r?r.chartY:void 0,shared:n};d(this,"beforeGetHoverData",c),l=e&&!e.stickyTracking?[e]:i.filter((t=>t.stickyTracking&&(c.filter||a)(t)));const u=o||!r?t:this.findNearestKDPoint(l,n,r);return e=u&&u.series,u&&(n&&!e.noSharedTooltip?(l=i.filter((function(t){return c.filter?c.filter(t):a(t)&&!t.noSharedTooltip})),l.forEach((function(t){let e=h(t.points,(function(t){return t.x===u.x&&!t.isNull}));f(e)&&(t.boosted&&t.boost&&(e=t.boost.getPoint(e)),s.push(e))}))):s.push(u)),c={hoverPoint:u},d(this,"afterGetHoverData",c),{hoverPoint:c.hoverPoint,hoverSeries:e,hoverPoints:s}}getPointFromEvent(t){let e;for(t=t.target;t&&!e;)e=t.point,t=t.parentNode;return e}onTrackerMouseOut(t){t=t.relatedTarget;const e=this.chart.hoverSeries;this.isDirectTouch=!1,!e||!t||e.stickyTracking||this.inClass(t,"highcharts-tooltip")||this.inClass(t,"highcharts-series-"+e.index)&&this.inClass(t,"highcharts-tracker")||e.onMouseOut()}inClass(t,e){let i;for(;t;){if(i=a(t,"class")){if(-1!==i.indexOf(e))return!0;if(-1!==i.indexOf("highcharts-container"))return!1}t=t.parentElement}}init(t,e){this.options=e,this.chart=t,this.runChartClick=!(!e.chart.events||!e.chart.events.click),this.pinchDown=[],this.lastValidTouch={},this.setDOMEvents(),d(this,"afterInit")}normalize(t,e){var i=t.touches,o=i?i.length?i.item(0):y(i.changedTouches,t.changedTouches)[0]:t;return e||(e=this.getChartPosition()),i=o.pageX-e.left,o=o.pageY-e.top,i/=e.scaleX,o/=e.scaleY,u(t,{chartX:Math.round(i),chartY:Math.round(o)})}onContainerClick(t){const e=this.chart,i=e.hoverPoint;t=this.normalize(t);const o=e.plotLeft,n=e.plotTop;e.cancelClick||(i&&this.inClass(t.target,"highcharts-tracker")?(d(i.series,"click",u(t,{point:i})),e.hoverPoint&&i.firePointEvent("click",t)):(u(t,this.getCoordinates(t)),e.isInsidePlot(t.chartX-o,t.chartY-n,{visiblePlotOnly:!0})&&d(e,"click",t)))}onContainerMouseDown(t){const i=1==(1&(t.buttons||t.button));t=this.normalize(t),e.isFirefox&&0!==t.button&&this.onContainerMouseMove(t),(void 0===t.button||i)&&(this.zoomOption(t),i&&t.preventDefault&&t.preventDefault(),this.dragStart(t))}onContainerMouseLeave(t){const e=n[y(_.hoverChartIndex,-1)];t=this.normalize(t),e&&t.relatedTarget&&!this.inClass(t.relatedTarget,"highcharts-tooltip")&&(e.pointer.reset(),e.pointer.chartPosition=void 0)}onContainerMouseEnter(t){delete this.chartPosition}onContainerMouseMove(t){const e=this.chart,i=e.tooltip;t=this.normalize(t),this.setHoverChartIndex(),("mousedown"===e.mouseIsDown||this.touchSelect(t))&&this.drag(t),e.openMenu||!this.inClass(t.target,"highcharts-tracker")&&!e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop,{visiblePlotOnly:!0})||i&&i.shouldStickOnContact(t)||(this.inClass(t.target,"highcharts-no-tooltip")?this.reset(!1,0):this.runPointActions(t))}onDocumentTouchEnd(t){const e=n[y(_.hoverChartIndex,-1)];e&&e.pointer.drop(t)}onContainerTouchMove(t){this.touchSelect(t)?this.onContainerMouseMove(t):this.touch(t)}onContainerTouchStart(t){this.touchSelect(t)?this.onContainerMouseDown(t):(this.zoomOption(t),this.touch(t,!0))}onDocumentMouseMove(t){const e=this.chart,i=e.tooltip,o=this.chartPosition;t=this.normalize(t,o),!o||e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop,{visiblePlotOnly:!0})||i&&i.shouldStickOnContact(t)||this.inClass(t.target,"highcharts-tracker")||this.reset()}onDocumentMouseUp(t){const e=n[y(_.hoverChartIndex,-1)];e&&e.pointer.drop(t)}pinch(t){const e=this,i=e.chart,o=e.pinchDown,n=t.touches||[],s=n.length,a=e.lastValidTouch,l=e.hasZoom,c={},h=1===s&&(e.inClass(t.target,"highcharts-tracker")&&i.runTrackerClick||e.runChartClick),p={};var f=e.chart.tooltip;f=1===s&&y(f&&f.options.followTouchMove,!0);let g=e.selectionMarker;1<s?e.initiated=!0:f&&(e.initiated=!1),l&&e.initiated&&!h&&!1!==t.cancelable&&t.preventDefault(),[].map.call(n,(function(t){return e.normalize(t)})),"touchstart"===t.type?([].forEach.call(n,(function(t,e){o[e]={chartX:t.chartX,chartY:t.chartY}})),a.x=[o[0].chartX,o[1]&&o[1].chartX],a.y=[o[0].chartY,o[1]&&o[1].chartY],i.axes.forEach((function(t){if(t.zoomEnabled){const e=i.bounds[t.horiz?"h":"v"],o=t.minPixelPadding,n=t.toPixels(Math.min(y(t.options.min,t.dataMin),t.dataMin)),r=t.toPixels(Math.max(y(t.options.max,t.dataMax),t.dataMax)),s=Math.max(n,r);e.min=Math.min(t.pos,Math.min(n,r)-o),e.max=Math.max(t.pos+t.len,s+o)}})),e.res=!0):f?this.runPointActions(e.normalize(t)):o.length&&(d(i,"touchpan",{originalEvent:t},(()=>{g||(e.selectionMarker=g=u({destroy:r,touch:!0},i.plotBox)),e.pinchTranslate(o,n,c,g,p,a),e.hasPinched=l,e.scaleGroups(c,p)})),e.res&&(e.res=!1,this.reset(!1,0)))}pinchTranslate(t,e,i,o,n,r){this.zoomHor&&this.pinchTranslateDirection(!0,t,e,i,o,n,r),this.zoomVert&&this.pinchTranslateDirection(!1,t,e,i,o,n,r)}pinchTranslateDirection(t,e,i,o,n,r,s,a){const l=this.chart,c=t?"x":"y",u=t?"X":"Y",h="chart"+u,d=t?"width":"height",p=l["plot"+(t?"Left":"Top")],f=l.inverted,g=l.bounds[t?"h":"v"],m=1===e.length,y=e[0][h],v=!m&&e[1][h];e=function(){"number"==typeof w&&20<Math.abs(y-v)&&(E=a||Math.abs(S-w)/Math.abs(y-v)),C=(p-S)/E+y,_=l["plot"+(t?"Width":"Height")]/E};let _,C,b,E=a||1,S=i[0][h],w=!m&&i[1][h];e(),(i=C)<g.min?(i=g.min,b=!0):i+_>g.max&&(i=g.max-_,b=!0),b?(S-=.8*(S-s[c][0]),"number"==typeof w&&(w-=.8*(w-s[c][1])),e()):s[c]=[S,w],f||(r[c]=C-p,r[d]=_),r=f?1/E:E,n[d]=_,n[c]=i,o[f?t?"scaleY":"scaleX":"scale"+u]=E,o["translate"+u]=r*p+(S-r*y)}reset(t,e){const i=this.chart,o=i.hoverSeries,n=i.hoverPoint,r=i.hoverPoints,s=i.tooltip,a=s&&s.shared?r:n;t&&a&&v(a).forEach((function(e){e.series.isCartesian&&void 0===e.plotX&&(t=!1)})),t?s&&a&&v(a).length&&(s.refresh(a),s.shared&&r?r.forEach((function(t){t.setState(t.state,!0),t.series.isCartesian&&(t.series.xAxis.crosshair&&t.series.xAxis.drawCrosshair(null,t),t.series.yAxis.crosshair&&t.series.yAxis.drawCrosshair(null,t))})):n&&(n.setState(n.state,!0),i.axes.forEach((function(t){t.crosshair&&n.series[t.coll]===t&&t.drawCrosshair(null,n)})))):(n&&n.onMouseOut(),r&&r.forEach((function(t){t.setState()})),o&&o.onMouseOut(),s&&s.hide(e),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),i.axes.forEach((function(t){t.hideCrosshair()})),this.hoverX=i.hoverPoints=i.hoverPoint=null)}runPointActions(t,e,i){const o=this.chart,r=o.tooltip&&o.tooltip.options.enabled?o.tooltip:void 0,a=!!r&&r.shared;let l=e||o.hoverPoint,c=l&&l.series||o.hoverSeries;e=this.getHoverData(l,c,o.series,(!t||"touchmove"!==t.type)&&(!!e||c&&c.directTouch&&this.isDirectTouch),a,t),l=e.hoverPoint,c=e.hoverSeries;const u=e.hoverPoints;e=c&&c.tooltipOptions.followPointer&&!c.tooltipOptions.split;const d=a&&c&&!c.noSharedTooltip;if(l&&(i||l!==o.hoverPoint||r&&r.isHidden)){if((o.hoverPoints||[]).forEach((function(t){-1===u.indexOf(t)&&t.setState()})),o.hoverSeries!==c&&c.onMouseOver(),this.applyInactiveState(u),(u||[]).forEach((function(t){t.setState("hover")})),o.hoverPoint&&o.hoverPoint.firePointEvent("mouseOut"),!l.series)return;o.hoverPoints=u,o.hoverPoint=l,l.firePointEvent("mouseOver",void 0,(()=>{r&&l&&r.refresh(d?u:l,t)}))}else e&&r&&!r.isHidden&&(i=r.getAnchor([{}],t),o.isInsidePlot(i[0],i[1],{visiblePlotOnly:!0})&&r.updatePosition({plotX:i[0],plotY:i[1]}));this.unDocMouseMove||(this.unDocMouseMove=s(o.container.ownerDocument,"mousemove",(function(t){const e=n[_.hoverChartIndex];e&&e.pointer.onDocumentMouseMove(t)})),this.eventsToUnbind.push(this.unDocMouseMove)),o.axes.forEach((function(e){const i=y((e.crosshair||{}).snap,!0);let n;i&&((n=o.hoverPoint)&&n.series[e.coll]===e||(n=h(u,(t=>t.series&&t.series[e.coll]===e)))),n||!i?e.drawCrosshair(t,n):e.hideCrosshair()}))}scaleGroups(t,e){const i=this.chart;i.series.forEach((function(o){const n=t||o.getPlotBox();o.group&&(o.xAxis&&o.xAxis.zoomEnabled||i.mapView)&&(o.group.attr(n),o.markerGroup&&(o.markerGroup.attr(n),o.markerGroup.clip(e?i.clipRect:null)),o.dataLabelsGroup&&o.dataLabelsGroup.attr(n))})),i.clipRect.attr(e||i.clipBox)}setDOMEvents(){const t=this.chart.container,i=t.ownerDocument;t.onmousedown=this.onContainerMouseDown.bind(this),t.onmousemove=this.onContainerMouseMove.bind(this),t.onclick=this.onContainerClick.bind(this),this.eventsToUnbind.push(s(t,"mouseenter",this.onContainerMouseEnter.bind(this))),this.eventsToUnbind.push(s(t,"mouseleave",this.onContainerMouseLeave.bind(this))),_.unbindDocumentMouseUp||(_.unbindDocumentMouseUp=s(i,"mouseup",this.onDocumentMouseUp.bind(this)));let o=this.chart.renderTo.parentElement;for(;o&&"BODY"!==o.tagName;)this.eventsToUnbind.push(s(o,"scroll",(()=>{delete this.chartPosition}))),o=o.parentElement;e.hasTouch&&(this.eventsToUnbind.push(s(t,"touchstart",this.onContainerTouchStart.bind(this),{passive:!1})),this.eventsToUnbind.push(s(t,"touchmove",this.onContainerTouchMove.bind(this),{passive:!1})),_.unbindDocumentTouchEnd||(_.unbindDocumentTouchEnd=s(i,"touchend",this.onDocumentTouchEnd.bind(this),{passive:!1})))}setHoverChartIndex(){const t=this.chart,i=e.charts[y(_.hoverChartIndex,-1)];i&&i!==t&&i.pointer.onContainerMouseLeave({relatedTarget:t.container}),i&&i.mouseIsDown||(_.hoverChartIndex=t.index)}touch(t,e){const i=this.chart;let o,n;this.setHoverChartIndex(),1===t.touches.length?(t=this.normalize(t),(n=i.isInsidePlot(t.chartX-i.plotLeft,t.chartY-i.plotTop,{visiblePlotOnly:!0}))&&!i.openMenu?(e&&this.runPointActions(t),"touchmove"===t.type&&(o=!!(e=this.pinchDown)[0]&&4<=Math.sqrt(Math.pow(e[0].chartX-t.chartX,2)+Math.pow(e[0].chartY-t.chartY,2))),y(o,!0)&&this.pinch(t)):e&&this.reset()):2===t.touches.length&&this.pinch(t)}touchSelect(t){return!(!this.chart.options.chart.zooming.singleTouch||!t.touches||1!==t.touches.length)}zoomOption(t){var e=this.chart,i=e.options.chart;e=e.inverted;let o=i.zooming.type||"";/touch/.test(t.type)&&(o=y(i.zooming.pinchType,o)),this.zoomX=t=/x/.test(o),this.zoomY=i=/y/.test(o),this.zoomHor=t&&!e||i&&e,this.zoomVert=i&&!e||t&&e,this.hasZoom=t||i}}return function(t){const e=[],o=[];t.compose=function(e){i.pushUnique(o,e)&&s(e,"beforeRender",(function(){this.pointer=new t(this,this.options)}))},t.dissolve=function(){for(let t=0,i=e.length;t<i;++t)e[t]();e.length=0}}(_||(_={})),_})),e(i,"Core/Legend/Legend.js",[i["Core/Animation/AnimationUtilities.js"],i["Core/FormatUtilities.js"],i["Core/Globals.js"],i["Core/Series/Point.js"],i["Core/Renderer/RendererUtilities.js"],i["Core/Utilities.js"]],(function(t,e,i,o,n,r){const{animObject:s,setAnimation:a}=t,{format:l}=e,{marginNames:c}=i,{distribute:u}=n,{addEvent:h,createElement:d,css:p,defined:f,discardElement:g,find:m,fireEvent:y,isNumber:v,merge:_,pick:C,relativeLength:b,stableSort:E,syncTimeout:S}=r;class w{constructor(t,e){this.allItems=[],this.contentGroup=this.box=void 0,this.display=!1,this.group=void 0,this.offsetWidth=this.maxLegendWidth=this.maxItemWidth=this.legendWidth=this.legendHeight=this.lastLineHeight=this.lastItemY=this.itemY=this.itemX=this.itemMarginTop=this.itemMarginBottom=this.itemHeight=this.initialItemY=0,this.options=void 0,this.padding=0,this.pages=[],this.proximate=!1,this.scrollGroup=void 0,this.widthOption=this.totalItemWidth=this.titleHeight=this.symbolWidth=this.symbolHeight=0,this.chart=t,this.init(t,e)}init(t,e){this.chart=t,this.setOptions(e),e.enabled&&(this.render(),h(this.chart,"endResize",(function(){this.legend.positionCheckboxes()})),h(this.chart,"render",(()=>{this.proximate&&(this.proximatePositions(),this.positionItems())})))}setOptions(t){const e=C(t.padding,8);this.options=t,this.chart.styledMode||(this.itemStyle=t.itemStyle,this.itemHiddenStyle=_(this.itemStyle,t.itemHiddenStyle)),this.itemMarginTop=t.itemMarginTop,this.itemMarginBottom=t.itemMarginBottom,this.padding=e,this.initialItemY=e-5,this.symbolWidth=C(t.symbolWidth,16),this.pages=[],this.proximate="proximate"===t.layout&&!this.chart.inverted,this.baseline=void 0}update(t,e){const i=this.chart;this.setOptions(_(!0,this.options,t)),this.destroy(),i.isDirtyLegend=i.isDirtyBox=!0,C(e,!0)&&i.redraw(),y(this,"afterUpdate")}colorizeItem(t,e){const{group:i,label:o,line:n,symbol:r}=t.legendItem||{};if(i&&i[e?"removeClass":"addClass"]("highcharts-legend-item-hidden"),!this.chart.styledMode){var s=this.options;const i=this.itemHiddenStyle.color;s=e?s.itemStyle.color:i;const a=e&&t.color||i,l=t.options&&t.options.marker;let c={fill:a};o&&o.css({fill:s}),n&&n.attr({stroke:a}),r&&(l&&r.isMarker&&(c=t.pointAttribs(),e||(c.stroke=c.fill=i)),r.attr(c))}y(this,"afterColorizeItem",{item:t,visible:e})}positionItems(){this.allItems.forEach(this.positionItem,this),this.chart.isResizing||this.positionCheckboxes()}positionItem(t){const{group:e,x:i=0,y:o=0}=t.legendItem||{};var n=this.options,r=n.symbolPadding;const s=!n.rtl;n=t.checkbox,e&&e.element&&(r={translateX:s?i:this.legendWidth-i-2*r-4,translateY:o},e[f(e.translateY)?"animate":"attr"](r,void 0,(()=>{y(this,"afterPositionItem",{item:t})}))),n&&(n.x=i,n.y=o)}destroyItem(t){const e=t.checkbox,i=t.legendItem||{};for(const t of["group","label","line","symbol"])i[t]&&(i[t]=i[t].destroy());e&&g(e),t.legendItem=void 0}destroy(){for(const t of this.getAllItems())this.destroyItem(t);for(const t of"clipRect up down pager nav box title group".split(" "))this[t]&&(this[t]=this[t].destroy());this.display=null}positionCheckboxes(){const t=this.group&&this.group.alignAttr,e=this.clipHeight||this.legendHeight,i=this.titleHeight;let o;t&&(o=t.translateY,this.allItems.forEach((function(n){const r=n.checkbox;let s;r&&(s=o+i+r.y+(this.scrollOffset||0)+3,p(r,{left:t.translateX+n.checkboxOffset+r.x-20+"px",top:s+"px",display:this.proximate||s>o-6&&s<o+e-6?"":"none"}))}),this))}renderTitle(){var t=this.options;const e=this.padding,i=t.title;let o=0;i.text&&(this.title||(this.title=this.chart.renderer.label(i.text,e-3,e-4,void 0,void 0,void 0,t.useHTML,void 0,"legend-title").attr({zIndex:1}),this.chart.styledMode||this.title.css(i.style),this.title.add(this.group)),i.width||this.title.css({width:this.maxLegendWidth+"px"}),o=(t=this.title.getBBox()).height,this.offsetWidth=t.width,this.contentGroup.attr({translateY:o})),this.titleHeight=o}setText(t){const e=this.options;t.legendItem.label.attr({text:e.labelFormat?l(e.labelFormat,t,this.chart):e.labelFormatter.call(t)})}renderItem(t){const e=t.legendItem=t.legendItem||{};var i=this.chart,o=i.renderer;const n=this.options,r=this.symbolWidth,s=n.symbolPadding||0,a=this.itemStyle,l=this.itemHiddenStyle,c="horizontal"===n.layout?C(n.itemDistance,20):0,u=!n.rtl,h=!t.series,d=!h&&t.series.drawLegendSymbol?t.series:t;var p=d.options;const f=this.createCheckboxForItem&&p&&p.showCheckbox,g=n.useHTML,m=t.options.className;let y=e.label;p=r+s+c+(f?20:0),y||(e.group=o.g("legend-item").addClass("highcharts-"+d.type+"-series highcharts-color-"+t.colorIndex+(m?" "+m:"")+(h?" highcharts-series-"+t.index:"")).attr({zIndex:1}).add(this.scrollGroup),e.label=y=o.text("",u?r+s:-s,this.baseline||0,g),i.styledMode||y.css(_(t.visible?a:l)),y.attr({align:u?"left":"right",zIndex:2}).add(e.group),this.baseline||(this.fontMetrics=o.fontMetrics(y),this.baseline=this.fontMetrics.f+3+this.itemMarginTop,y.attr("y",this.baseline),this.symbolHeight=C(n.symbolHeight,this.fontMetrics.f),n.squareSymbol&&(this.symbolWidth=C(n.symbolWidth,Math.max(this.symbolHeight,16)),p=this.symbolWidth+s+c+(f?20:0),u&&y.attr("x",this.symbolWidth+s))),d.drawLegendSymbol(this,t),this.setItemEvents&&this.setItemEvents(t,y,g)),f&&!t.checkbox&&this.createCheckboxForItem&&this.createCheckboxForItem(t),this.colorizeItem(t,t.visible),!i.styledMode&&a.width||y.css({width:(n.itemWidth||this.widthOption||i.spacingBox.width)-p+"px"}),this.setText(t),i=y.getBBox(),o=this.fontMetrics&&this.fontMetrics.h||0,t.itemWidth=t.checkboxOffset=n.itemWidth||e.labelWidth||i.width+p,this.maxItemWidth=Math.max(this.maxItemWidth,t.itemWidth),this.totalItemWidth+=t.itemWidth,this.itemHeight=t.itemHeight=Math.round(e.labelHeight||(i.height>1.5*o?i.height:o))}layoutItem(t){var e=this.options;const i=this.padding,o="horizontal"===e.layout,n=t.itemHeight,r=this.itemMarginBottom,s=this.itemMarginTop,a=o?C(e.itemDistance,20):0,l=this.maxLegendWidth;e=e.alignColumns&&this.totalItemWidth>l?this.maxItemWidth:t.itemWidth;const c=t.legendItem||{};o&&this.itemX-i+e>l&&(this.itemX=i,this.lastLineHeight&&(this.itemY+=s+this.lastLineHeight+r),this.lastLineHeight=0),this.lastItemY=s+this.itemY+r,this.lastLineHeight=Math.max(n,this.lastLineHeight),c.x=this.itemX,c.y=this.itemY,o?this.itemX+=e:(this.itemY+=s+n+r,this.lastLineHeight=n),this.offsetWidth=this.widthOption||Math.max((o?this.itemX-i-(t.checkbox?0:a):e)+i,this.offsetWidth)}getAllItems(){let t=[];return this.chart.series.forEach((function(e){const i=e&&e.options;e&&C(i.showInLegend,!f(i.linkedTo)&&void 0,!0)&&(t=t.concat((e.legendItem||{}).labels||("point"===i.legendType?e.data:e)))})),y(this,"afterGetAllItems",{allItems:t}),t}getAlignment(){const t=this.options;return this.proximate?t.align.charAt(0)+"tv":t.floating?"":t.align.charAt(0)+t.verticalAlign.charAt(0)+t.layout.charAt(0)}adjustMargins(t,e){const i=this.chart,o=this.options,n=this.getAlignment();n&&[/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/].forEach((function(r,s){r.test(n)&&!f(t[s])&&(i[c[s]]=Math.max(i[c[s]],i.legend[(s+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][s]*o[s%2?"x":"y"]+C(o.margin,12)+e[s]+(i.titleOffset[s]||0)))}))}proximatePositions(){const t=this.chart,e=[],i="left"===this.options.align;let o;this.allItems.forEach((function(o){var n,r=i;let s;o.yAxis&&(o.xAxis.options.reversed&&(r=!r),o.points&&(n=m(r?o.points:o.points.slice(0).reverse(),(function(t){return v(t.plotY)}))),r=this.itemMarginTop+o.legendItem.label.getBBox().height+this.itemMarginBottom,s=o.yAxis.top-t.plotTop,o.visible?(n=n?n.plotY:o.yAxis.height,n+=s-.3*r):n=s+o.yAxis.height,e.push({target:n,size:r,item:o}))}),this);for(const i of u(e,t.plotHeight))o=i.item.legendItem||{},v(i.pos)&&(o.y=t.plotTop-t.spacing[0]+i.pos)}render(){const t=this.chart,e=t.renderer,i=this.options,o=this.padding;var n=this.getAllItems();let r,s=this.group,a=this.box;this.itemX=o,this.itemY=this.initialItemY,this.lastItemY=this.offsetWidth=0,this.widthOption=b(i.width,t.spacingBox.width-o);var l=t.spacingBox.width-2*o-i.x;-1<["rm","lm"].indexOf(this.getAlignment().substring(0,2))&&(l/=2),this.maxLegendWidth=this.widthOption||l,s||(this.group=s=e.g("legend").addClass(i.className||"").attr({zIndex:7}).add(),this.contentGroup=e.g().attr({zIndex:1}).add(s),this.scrollGroup=e.g().add(this.contentGroup)),this.renderTitle(),E(n,((t,e)=>(t.options&&t.options.legendIndex||0)-(e.options&&e.options.legendIndex||0))),i.reversed&&n.reverse(),this.allItems=n,this.display=l=!!n.length,this.itemHeight=this.totalItemWidth=this.maxItemWidth=this.lastLineHeight=0,n.forEach(this.renderItem,this),n.forEach(this.layoutItem,this),n=(this.widthOption||this.offsetWidth)+o,r=this.lastItemY+this.lastLineHeight+this.titleHeight,r=this.handleOverflow(r),r+=o,a||(this.box=a=e.rect().addClass("highcharts-legend-box").attr({r:i.borderRadius}).add(s)),t.styledMode||a.attr({stroke:i.borderColor,"stroke-width":i.borderWidth||0,fill:i.backgroundColor||"none"}).shadow(i.shadow),0<n&&0<r&&a[a.placed?"animate":"attr"](a.crisp.call({},{x:0,y:0,width:n,height:r},a.strokeWidth())),s[l?"show":"hide"](),t.styledMode&&"none"===s.getStyle("display")&&(n=r=0),this.legendWidth=n,this.legendHeight=r,l&&this.align(),this.proximate||this.positionItems(),y(this,"afterRender")}align(t=this.chart.spacingBox){const e=this.chart,i=this.options;let o=t.y;/(lth|ct|rth)/.test(this.getAlignment())&&0<e.titleOffset[0]?o+=e.titleOffset[0]:/(lbh|cb|rbh)/.test(this.getAlignment())&&0<e.titleOffset[2]&&(o-=e.titleOffset[2]),o!==t.y&&(t=_(t,{y:o})),e.hasRendered||(this.group.placed=!1),this.group.align(_(i,{width:this.legendWidth,height:this.legendHeight,verticalAlign:this.proximate?"top":i.verticalAlign}),!0,t)}handleOverflow(t){const e=this,i=this.chart,o=i.renderer,n=this.options;var r=n.y;const s="top"===n.verticalAlign,a=this.padding,l=n.maxHeight,c=n.navigation,u=C(c.animation,!0),h=c.arrowSize||12,d=this.pages,p=this.allItems,f=function(t){"number"==typeof t?b.attr({height:t}):b&&(e.clipRect=b.destroy(),e.contentGroup.clip()),e.contentGroup.div&&(e.contentGroup.div.style.clip=t?"rect("+a+"px,9999px,"+(a+t)+"px,0)":"auto")},g=function(t){return e[t]=o.circle(0,0,1.3*h).translate(h/2,h/2).add(_),i.styledMode||e[t].attr("fill","rgba(0,0,0,0.0001)"),e[t]};let m,y,v;r=i.spacingBox.height+(s?-r:r)-a;let _=this.nav,b=this.clipRect;return"horizontal"!==n.layout||"middle"===n.verticalAlign||n.floating||(r/=2),l&&(r=Math.min(r,l)),d.length=0,t&&0<r&&t>r&&!1!==c.enabled?(this.clipHeight=m=Math.max(r-20-this.titleHeight-a,0),this.currentPage=C(this.currentPage,1),this.fullHeight=t,p.forEach(((t,e)=>{v=t.legendItem||{},t=v.y||0;const i=Math.round(v.label.getBBox().height);let o=d.length;(!o||t-d[o-1]>m&&(y||t)!==d[o-1])&&(d.push(y||t),o++),v.pageIx=o-1,y&&((p[e-1].legendItem||{}).pageIx=o-1),e===p.length-1&&t+i-d[o-1]>m&&t>d[o-1]&&(d.push(t),v.pageIx=o),t!==y&&(y=t)})),b||(b=e.clipRect=o.clipRect(0,a-2,9999,0),e.contentGroup.clip(b)),f(m),_||(this.nav=_=o.g().attr({zIndex:1}).add(this.group),this.up=o.symbol("triangle",0,0,h,h).add(_),g("upTracker").on("click",(function(){e.scroll(-1,u)})),this.pager=o.text("",15,10).addClass("highcharts-legend-navigation"),!i.styledMode&&c.style&&this.pager.css(c.style),this.pager.add(_),this.down=o.symbol("triangle-down",0,0,h,h).add(_),g("downTracker").on("click",(function(){e.scroll(1,u)}))),e.scroll(0),t=r):_&&(f(),this.nav=_.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),t}scroll(t,e){const i=this.chart,o=this.pages,n=o.length,r=this.clipHeight,l=this.options.navigation,c=this.pager,u=this.padding;let h=this.currentPage+t;h>n&&(h=n),0<h&&(void 0!==e&&a(e,i),this.nav.attr({translateX:u,translateY:r+this.padding+7+this.titleHeight,visibility:"inherit"}),[this.up,this.upTracker].forEach((function(t){t.attr({class:1===h?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})})),c.attr({text:h+"/"+n}),[this.down,this.downTracker].forEach((function(t){t.attr({x:18+this.pager.getBBox().width,class:h===n?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})}),this),i.styledMode||(this.up.attr({fill:1===h?l.inactiveColor:l.activeColor}),this.upTracker.css({cursor:1===h?"default":"pointer"}),this.down.attr({fill:h===n?l.inactiveColor:l.activeColor}),this.downTracker.css({cursor:h===n?"default":"pointer"})),this.scrollOffset=-o[h-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=h,this.positionCheckboxes(),t=s(C(e,i.renderer.globalAnimation,!0)),S((()=>{y(this,"afterScroll",{currentPage:h})}),t.duration))}setItemEvents(t,e,i){const n=this,r=t.legendItem||{},s=n.chart.renderer.boxWrapper,a=t instanceof o,l="highcharts-legend-"+(a?"point":"series")+"-active",c=n.chart.styledMode;i=i?[e,r.symbol]:[r.group];const u=e=>{n.allItems.forEach((i=>{t!==i&&[i].concat(i.linkedSeries||[]).forEach((t=>{t.setState(e,!a)}))}))};for(const o of i)o&&o.on("mouseover",(function(){t.visible&&u("inactive"),t.setState("hover"),t.visible&&s.addClass(l),c||e.css(n.options.itemHoverStyle)})).on("mouseout",(function(){n.chart.styledMode||e.css(_(t.visible?n.itemStyle:n.itemHiddenStyle)),u(""),s.removeClass(l),t.setState()})).on("click",(function(e){const i=function(){t.setVisible&&t.setVisible(),u(t.visible?"inactive":"")};s.removeClass(l),e={browserEvent:e},t.firePointEvent?t.firePointEvent("legendItemClick",e,i):y(t,"legendItemClick",e,i)}))}createCheckboxForItem(t){t.checkbox=d("input",{type:"checkbox",className:"highcharts-legend-checkbox",checked:t.selected,defaultChecked:t.selected},this.options.itemCheckboxStyle,this.chart.container),h(t.checkbox,"click",(function(e){y(t.series||t,"checkboxClick",{checked:e.target.checked,item:t},(function(){t.select()}))}))}}return function(t){const e=[];t.compose=function(i){r.pushUnique(e,i)&&h(i,"beforeMargins",(function(){this.legend=new t(this,this.options.legend)}))}}(w||(w={})),w})),e(i,"Core/Series/SeriesRegistry.js",[i["Core/Globals.js"],i["Core/Defaults.js"],i["Core/Series/Point.js"],i["Core/Utilities.js"]],(function(t,e,i,o){const{defaultOptions:n}=e,{extendClass:r,merge:s}=o;var a;return function(e){function o(t,o){const r=n.plotOptions||{},s=o.defaultOptions,a=o.prototype;a.type=t,a.pointClass||(a.pointClass=i),s&&(r[t]=s),e.seriesTypes[t]=o}e.seriesTypes=t.seriesTypes,e.registerSeriesType=o,e.seriesType=function(t,a,l,c,u){const h=n.plotOptions||{};return a=a||"",h[t]=s(h[a],l),o(t,r(e.seriesTypes[a]||function(){},c)),e.seriesTypes[t].prototype.type=t,u&&(e.seriesTypes[t].prototype.pointClass=r(i,u)),e.seriesTypes[t]}}(a||(a={})),a})),e(i,"Core/Chart/Chart.js",[i["Core/Animation/AnimationUtilities.js"],i["Core/Axis/Axis.js"],i["Core/Defaults.js"],i["Core/FormatUtilities.js"],i["Core/Foundation.js"],i["Core/Globals.js"],i["Core/Renderer/RendererRegistry.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Renderer/SVG/SVGRenderer.js"],i["Core/Time.js"],i["Core/Utilities.js"],i["Core/Renderer/HTML/AST.js"]],(function(t,e,i,o,n,r,s,a,l,c,u,h){const{animate:d,animObject:p,setAnimation:f}=t,{defaultOptions:g,defaultTime:m}=i,{numberFormat:y}=o,{registerEventOptions:v}=n,{charts:_,doc:C,marginNames:b,svg:E,win:S}=r,{seriesTypes:w}=a,{addEvent:O,attr:x,cleanRecursively:P,createElement:T,css:M,defined:D,discardElement:A,erase:R,error:L,extend:I,find:N,fireEvent:k,getStyle:F,isArray:B,isNumber:G,isObject:j,isString:V,merge:U,objectEach:W,pick:H,pInt:$,relativeLength:z,removeEvent:K,splat:Y,syncTimeout:X,uniqueKey:Z}=u;class q{static chart(t,e,i){return new q(t,e,i)}constructor(t,e,i){this.series=this.renderTo=this.renderer=this.pointer=this.pointCount=this.plotWidth=this.plotTop=this.plotLeft=this.plotHeight=this.plotBox=this.options=this.numberFormatter=this.margin=this.labelCollectors=this.isResizing=this.index=this.eventOptions=this.container=this.colorCounter=this.clipBox=this.chartWidth=this.chartHeight=this.bounds=this.axisOffset=this.axes=void 0,this.sharedClips={},this.yAxis=this.xAxis=this.userOptions=this.titleOffset=this.time=this.symbolCounter=this.spacingBox=this.spacing=void 0,this.getArgs(t,e,i)}getArgs(t,e,i){V(t)||t.nodeName?(this.renderTo=t,this.init(e,i)):this.init(t,e)}init(t,e){const i=t.plotOptions||{};k(this,"init",{args:arguments},(function(){const o=U(g,t),n=o.chart;W(o.plotOptions,(function(t,e){j(t)&&(t.tooltip=i[e]&&U(i[e].tooltip)||void 0)})),o.tooltip.userOptions=t.chart&&t.chart.forExport&&t.tooltip.userOptions||t.tooltip,this.userOptions=t,this.margin=[],this.spacing=[],this.bounds={h:{},v:{}},this.labelCollectors=[],this.callback=e,this.isResizing=0;const s=n.zooming=n.zooming||{};t.chart&&!t.chart.zooming&&(s.resetButton=n.resetZoomButton),s.key=H(s.key,n.zoomKey),s.pinchType=H(s.pinchType,n.pinchType),s.singleTouch=H(s.singleTouch,n.zoomBySingleTouch),s.type=H(s.type,n.zoomType),this.options=o,this.axes=[],this.series=[],this.time=t.time&&Object.keys(t.time).length?new c(t.time):r.time,this.numberFormatter=n.numberFormatter||y,this.styledMode=n.styledMode,this.hasCartesianSeries=n.showAxes,this.index=_.length,_.push(this),r.chartCount++,v(this,n),this.xAxis=[],this.yAxis=[],this.pointCount=this.colorCounter=this.symbolCounter=0,k(this,"afterInit"),this.firstRender()}))}initSeries(t){var e=this.options.chart;e=t.type||e.type;const i=w[e];return i||L(17,!0,this,{missingModuleFor:e}),"function"==typeof(e=new i).init&&e.init(this,t),e}setSeriesData(){this.getSeriesOrderByLinks().forEach((function(t){t.points||t.data||!t.enabledDataSorting||t.setData(t.options.data,!1)}))}getSeriesOrderByLinks(){return this.series.concat().sort((function(t,e){return t.linkedSeries.length||e.linkedSeries.length?e.linkedSeries.length-t.linkedSeries.length:0}))}orderSeries(t){const e=this.series;for(let i=t||0,o=e.length;i<o;++i)e[i]&&(e[i].index=i,e[i].name=e[i].getName())}isInsidePlot(t,e,i={}){const{inverted:o,plotBox:n,plotLeft:r,plotTop:s,scrollablePlotBox:a}=this;var l=0;let c=0;i.visiblePlotOnly&&this.scrollingContainer&&({scrollLeft:l,scrollTop:c}=this.scrollingContainer);const u=i.series,h=i.visiblePlotOnly&&a||n;var d=i.inverted?e:t;if(t={x:d,y:e=i.inverted?t:e,isInsidePlot:!0,options:i},!i.ignoreX){const e=u&&(o&&!this.polar?u.yAxis:u.xAxis)||{pos:r,len:1/0};(d=i.paneCoordinates?e.pos+d:r+d)>=Math.max(l+r,e.pos)&&d<=Math.min(l+r+h.width,e.pos+e.len)||(t.isInsidePlot=!1)}return!i.ignoreY&&t.isInsidePlot&&(l=!o&&i.axis&&!i.axis.isXAxis&&i.axis||u&&(o?u.xAxis:u.yAxis)||{pos:s,len:1/0},(i=i.paneCoordinates?l.pos+e:s+e)>=Math.max(c+s,l.pos)&&i<=Math.min(c+s+h.height,l.pos+l.len)||(t.isInsidePlot=!1)),k(this,"afterIsInsidePlot",t),t.isInsidePlot}redraw(t){k(this,"beforeRedraw");const e=this.hasCartesianSeries?this.axes:this.colorAxis||[],i=this.series,o=this.pointer,n=this.legend,r=this.userOptions.legend,s=this.renderer,a=s.isHidden(),l=[];let c,u,h,d=this.isDirtyBox,p=this.isDirtyLegend;for(s.rootFontSize=s.boxWrapper.getStyle("font-size"),this.setResponsive&&this.setResponsive(!1),f(!!this.hasRendered&&t,this),a&&this.temporaryDisplay(),this.layOutTitles(),t=i.length;t--;)if(h=i[t],(h.options.stacking||h.options.centerInCategory)&&(u=!0,h.isDirty)){c=!0;break}if(c)for(t=i.length;t--;)h=i[t],h.options.stacking&&(h.isDirty=!0);i.forEach((function(t){t.isDirty&&("point"===t.options.legendType?("function"==typeof t.updateTotals&&t.updateTotals(),p=!0):r&&(r.labelFormatter||r.labelFormat)&&(p=!0)),t.isDirtyData&&k(t,"updatedData")})),p&&n&&n.options.enabled&&(n.render(),this.isDirtyLegend=!1),u&&this.getStacks(),e.forEach((function(t){t.updateNames(),t.setScale()})),this.getMargins(),e.forEach((function(t){t.isDirty&&(d=!0)})),e.forEach((function(t){const e=t.min+","+t.max;t.extKey!==e&&(t.extKey=e,l.push((function(){k(t,"afterSetExtremes",I(t.eventArgs,t.getExtremes())),delete t.eventArgs}))),(d||u)&&t.redraw()})),d&&this.drawChartBox(),k(this,"predraw"),i.forEach((function(t){(d||t.isDirty)&&t.visible&&t.redraw(),t.isDirtyData=!1})),o&&o.reset(!0),s.draw(),k(this,"redraw"),k(this,"render"),a&&this.temporaryDisplay(!0),l.forEach((function(t){t.call()}))}get(t){function e(e){return e.id===t||e.options&&e.options.id===t}const i=this.series;let o=N(this.axes,e)||N(this.series,e);for(let t=0;!o&&t<i.length;t++)o=N(i[t].points||[],e);return o}getAxes(){const t=this;var i=this.options;const o=i.xAxis=Y(i.xAxis||{});i=i.yAxis=Y(i.yAxis||{}),k(this,"getAxes"),o.forEach((function(t,e){t.index=e,t.isX=!0})),i.forEach((function(t,e){t.index=e})),o.concat(i).forEach((function(i){new e(t,i)})),k(this,"afterGetAxes")}getSelectedPoints(){return this.series.reduce(((t,e)=>(e.getPointsCollection().forEach((e=>{H(e.selectedStaging,e.selected)&&t.push(e)})),t)),[])}getSelectedSeries(){return this.series.filter((function(t){return t.selected}))}setTitle(t,e,i){this.applyDescription("title",t),this.applyDescription("subtitle",e),this.applyDescription("caption",void 0),this.layOutTitles(i)}applyDescription(t,e){const i=this;var o="title"===t?{color:"#333333",fontSize:this.options.isStock?"1em":"1.2em",fontWeight:"bold"}:{color:"#666666",fontSize:"0.8em"};o=this.options[t]=U(!this.styledMode&&{style:o},this.options[t],e);let n=this[t];n&&e&&(this[t]=n=n.destroy()),o&&!n&&(n=this.renderer.text(o.text,0,0,o.useHTML).attr({align:o.align,class:"highcharts-"+t,zIndex:o.zIndex||4}).add(),n.update=function(e){i[{title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"}[t]](e)},this.styledMode||n.css(o.style),this[t]=n)}layOutTitles(t){const e=[0,0,0],i=this.renderer,o=this.spacingBox;["title","subtitle","caption"].forEach((function(t){const n=this[t],r=this.options[t],s=r.verticalAlign||"top";if(t="title"===t?"top"===s?-3:0:"top"===s?e[0]+2:0,n){n.css({width:(r.width||o.width+(r.widthAdjust||0))+"px"});const a=i.fontMetrics(n).b,l=Math.round(n.getBBox(r.useHTML).height);n.align(I({y:"bottom"===s?a:t+a,height:l},r),!1,"spacingBox"),r.floating||("top"===s?e[0]=Math.ceil(e[0]+l):"bottom"===s&&(e[2]=Math.ceil(e[2]+l)))}}),this),e[0]&&"top"===(this.options.title.verticalAlign||"top")&&(e[0]+=this.options.title.margin),e[2]&&"bottom"===this.options.caption.verticalAlign&&(e[2]+=this.options.caption.margin);const n=!this.titleOffset||this.titleOffset.join(",")!==e.join(",");this.titleOffset=e,k(this,"afterLayOutTitles"),!this.isDirtyBox&&n&&(this.isDirtyBox=this.isDirtyLegend=n,this.hasRendered&&H(t,!0)&&this.isDirtyBox&&this.redraw())}getContainerBox(){return{width:F(this.renderTo,"width",!0)||0,height:F(this.renderTo,"height",!0)||0}}getChartSize(){var t=this.options.chart;const e=t.width;t=t.height;const i=this.getContainerBox();this.chartWidth=Math.max(0,e||i.width||600),this.chartHeight=Math.max(0,z(t,this.chartWidth)||(1<i.height?i.height:400)),this.containerBox=i}temporaryDisplay(t){let e=this.renderTo;if(t)for(;e&&e.style;)e.hcOrigStyle&&(M(e,e.hcOrigStyle),delete e.hcOrigStyle),e.hcOrigDetached&&(C.body.removeChild(e),e.hcOrigDetached=!1),e=e.parentNode;else for(;e&&e.style&&(C.body.contains(e)||e.parentNode||(e.hcOrigDetached=!0,C.body.appendChild(e)),("none"===F(e,"display",!1)||e.hcOricDetached)&&(e.hcOrigStyle={display:e.style.display,height:e.style.height,overflow:e.style.overflow},t={display:"block",overflow:"hidden"},e!==this.renderTo&&(t.height=0),M(e,t),e.offsetWidth||e.style.setProperty("display","block","important")),e=e.parentNode,e!==C.body););}setClassName(t){this.container.className="highcharts-container "+(t||"")}getContainer(){const t=this.options,e=t.chart;var i=Z();let o,n=this.renderTo;n||(this.renderTo=n=e.renderTo),V(n)&&(this.renderTo=n=C.getElementById(n)),n||L(13,!0,this);var r=$(x(n,"data-highcharts-chart"));G(r)&&_[r]&&_[r].hasRendered&&_[r].destroy(),x(n,"data-highcharts-chart",this.index),n.innerHTML=h.emptyHTML,e.skipClone||n.offsetWidth||this.temporaryDisplay(),this.getChartSize(),r=this.chartWidth;const a=this.chartHeight;if(M(n,{overflow:"hidden"}),this.styledMode||(o=I({position:"relative",overflow:"hidden",width:r+"px",height:a+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)",userSelect:"none","touch-action":"manipulation",outline:"none"},e.style||{})),this.container=i=T("div",{id:i},o,n),this._cursor=i.style.cursor,this.renderer=new(e.renderer||!E?s.getRendererType(e.renderer):l)(i,r,a,void 0,e.forExport,t.exporting&&t.exporting.allowHTML,this.styledMode),this.containerBox=this.getContainerBox(),f(void 0,this),this.setClassName(e.className),this.styledMode)for(const e in t.defs)this.renderer.definition(t.defs[e]);else this.renderer.setStyle(e.style);this.renderer.chartIndex=this.index,k(this,"afterGetContainer")}getMargins(t){const{spacing:e,margin:i,titleOffset:o}=this;this.resetMargins(),o[0]&&!D(i[0])&&(this.plotTop=Math.max(this.plotTop,o[0]+e[0])),o[2]&&!D(i[2])&&(this.marginBottom=Math.max(this.marginBottom,o[2]+e[2])),this.legend&&this.legend.display&&this.legend.adjustMargins(i,e),k(this,"getMargins"),t||this.getAxisMargins()}getAxisMargins(){const t=this,e=t.axisOffset=[0,0,0,0],i=t.colorAxis,o=t.margin,n=function(t){t.forEach((function(t){t.visible&&t.getOffset()}))};t.hasCartesianSeries?n(t.axes):i&&i.length&&n(i),b.forEach((function(i,n){D(o[n])||(t[i]+=e[n])})),t.setChartSize()}reflow(t){const e=this;var i=e.options.chart;i=D(i.width)&&D(i.height);const o=e.containerBox,n=e.getContainerBox();delete e.pointer.chartPosition,!i&&!e.isPrinting&&o&&n.width&&(n.width===o.width&&n.height===o.height||(u.clearTimeout(e.reflowTimeout),e.reflowTimeout=X((function(){e.container&&e.setSize(void 0,void 0,!1)}),t?100:0)),e.containerBox=n)}setReflow(){const t=this;var e=e=>{var i;null!==(i=t.options)&&void 0!==i&&i.chart.reflow&&t.hasLoaded&&t.reflow(e)};"function"==typeof ResizeObserver?new ResizeObserver(e).observe(t.renderTo):(e=O(S,"resize",e),O(this,"destroy",e))}setSize(t,e,i){const o=this,n=o.renderer;o.isResizing+=1,f(i,o),i=n.globalAnimation,o.oldChartHeight=o.chartHeight,o.oldChartWidth=o.chartWidth,void 0!==t&&(o.options.chart.width=t),void 0!==e&&(o.options.chart.height=e),o.getChartSize(),o.styledMode||(i?d:M)(o.container,{width:o.chartWidth+"px",height:o.chartHeight+"px"},i),o.setChartSize(!0),n.setSize(o.chartWidth,o.chartHeight,i),o.axes.forEach((function(t){t.isDirty=!0,t.setScale()})),o.isDirtyLegend=!0,o.isDirtyBox=!0,o.layOutTitles(),o.getMargins(),o.redraw(i),o.oldChartHeight=null,k(o,"resize"),X((function(){o&&k(o,"endResize",null,(function(){--o.isResizing}))}),p(i).duration)}setChartSize(t){var e=this.inverted;const i=this.renderer;var o=this.chartWidth,n=this.chartHeight;const r=this.options.chart,s=this.spacing,a=this.clipOffset;let l,c,u,h;this.plotLeft=l=Math.round(this.plotLeft),this.plotTop=c=Math.round(this.plotTop),this.plotWidth=u=Math.max(0,Math.round(o-l-this.marginRight)),this.plotHeight=h=Math.max(0,Math.round(n-c-this.marginBottom)),this.plotSizeX=e?h:u,this.plotSizeY=e?u:h,this.plotBorderWidth=r.plotBorderWidth||0,this.spacingBox=i.spacingBox={x:s[3],y:s[0],width:o-s[3]-s[1],height:n-s[0]-s[2]},this.plotBox=i.plotBox={x:l,y:c,width:u,height:h},e=2*Math.floor(this.plotBorderWidth/2),o=Math.ceil(Math.max(e,a[3])/2),n=Math.ceil(Math.max(e,a[0])/2),this.clipBox={x:o,y:n,width:Math.floor(this.plotSizeX-Math.max(e,a[1])/2-o),height:Math.max(0,Math.floor(this.plotSizeY-Math.max(e,a[2])/2-n))},t||(this.axes.forEach((function(t){t.setAxisSize(),t.setAxisTranslation()})),i.alignElements()),k(this,"afterSetChartSize",{skipAxes:t})}resetMargins(){k(this,"resetMargins");const t=this,e=t.options.chart;["margin","spacing"].forEach((function(i){const o=e[i],n=j(o)?o:[o,o,o,o];["Top","Right","Bottom","Left"].forEach((function(o,r){t[i][r]=H(e[i+o],n[r])}))})),b.forEach((function(e,i){t[e]=H(t.margin[i],t.spacing[i])})),t.axisOffset=[0,0,0,0],t.clipOffset=[0,0,0,0]}drawChartBox(){const t=this.options.chart,e=this.renderer,i=this.chartWidth,o=this.chartHeight,n=this.styledMode,r=this.plotBGImage;var s=t.backgroundColor;const a=t.plotBackgroundColor,l=t.plotBackgroundImage,c=this.plotLeft,u=this.plotTop,h=this.plotWidth,d=this.plotHeight,p=this.plotBox,f=this.clipRect,g=this.clipBox;let m,y,v=this.chartBackground,_=this.plotBackground,C=this.plotBorder,b="animate";v||(this.chartBackground=v=e.rect().addClass("highcharts-background").add(),b="attr"),n?m=y=v.strokeWidth():(m=t.borderWidth||0,y=m+(t.shadow?8:0),s={fill:s||"none"},(m||v["stroke-width"])&&(s.stroke=t.borderColor,s["stroke-width"]=m),v.attr(s).shadow(t.shadow)),v[b]({x:y/2,y:y/2,width:i-y-m%2,height:o-y-m%2,r:t.borderRadius}),b="animate",_||(b="attr",this.plotBackground=_=e.rect().addClass("highcharts-plot-background").add()),_[b](p),n||(_.attr({fill:a||"none"}).shadow(t.plotShadow),l&&(r?(l!==r.attr("href")&&r.attr("href",l),r.animate(p)):this.plotBGImage=e.image(l,c,u,h,d).add())),f?f.animate({width:g.width,height:g.height}):this.clipRect=e.clipRect(g),b="animate",C||(b="attr",this.plotBorder=C=e.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),n||C.attr({stroke:t.plotBorderColor,"stroke-width":t.plotBorderWidth||0,fill:"none"}),C[b](C.crisp({x:c,y:u,width:h,height:d},-C.strokeWidth())),this.isDirtyBox=!1,k(this,"afterDrawChartBox")}propFromSeries(){const t=this,e=t.options.chart,i=t.options.series;let o,n,r;["inverted","angular","polar"].forEach((function(s){for(n=w[e.type],r=e[s]||n&&n.prototype[s],o=i&&i.length;!r&&o--;)(n=w[i[o].type])&&n.prototype[s]&&(r=!0);t[s]=r}))}linkSeries(t){const e=this,i=e.series;i.forEach((function(t){t.linkedSeries.length=0})),i.forEach((function(t){let i=t.options.linkedTo;V(i)&&(i=":previous"===i?e.series[t.index-1]:e.get(i))&&i.linkedParent!==t&&(i.linkedSeries.push(t),t.linkedParent=i,i.enabledDataSorting&&t.setDataSortingOptions(),t.visible=H(t.options.visible,i.options.visible,t.visible))})),k(this,"afterLinkSeries",{isUpdating:t})}renderSeries(){this.series.forEach((function(t){t.translate(),t.render()}))}render(){const t=this.axes,e=this.colorAxis,i=this.renderer,o=function(t){t.forEach((function(t){t.visible&&t.render()}))};let n=0;this.setTitle(),k(this,"beforeMargins"),this.getStacks&&this.getStacks(),this.getMargins(!0),this.setChartSize();const r=this.plotWidth;t.some((function(t){if(t.horiz&&t.visible&&t.options.labels.enabled&&t.series.length)return n=21,!0}));const s=this.plotHeight=Math.max(this.plotHeight-n,0);t.forEach((function(t){t.setScale()})),this.getAxisMargins();const a=1.1<r/this.plotWidth,l=1.05<s/this.plotHeight;(a||l)&&(t.forEach((function(t){(t.horiz&&a||!t.horiz&&l)&&t.setTickInterval(!0)})),this.getMargins()),this.drawChartBox(),this.hasCartesianSeries?o(t):e&&e.length&&o(e),this.seriesGroup||(this.seriesGroup=i.g("series-group").attr({zIndex:3}).shadow(this.options.chart.seriesGroupShadow).add()),this.renderSeries(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0}addCredits(t){const e=this,i=U(!0,this.options.credits,t);i.enabled&&!this.credits&&(this.credits=this.renderer.text(i.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",(function(){i.href&&(S.location.href=i.href)})).attr({align:i.position.align,zIndex:8}),e.styledMode||this.credits.css(i.style),this.credits.add().align(i.position),this.credits.update=function(t){e.credits=e.credits.destroy(),e.addCredits(t)})}destroy(){const t=this,e=t.axes,i=t.series,o=t.container,n=o&&o.parentNode;let s;for(k(t,"destroy"),t.renderer.forExport?R(_,t):_[t.index]=void 0,r.chartCount--,t.renderTo.removeAttribute("data-highcharts-chart"),K(t),s=e.length;s--;)e[s]=e[s].destroy();for(this.scroller&&this.scroller.destroy&&this.scroller.destroy(),s=i.length;s--;)i[s]=i[s].destroy();"title subtitle chartBackground plotBackground plotBGImage plotBorder seriesGroup clipRect credits pointer rangeSelector legend resetZoomButton tooltip renderer".split(" ").forEach((function(e){const i=t[e];i&&i.destroy&&(t[e]=i.destroy())})),o&&(o.innerHTML=h.emptyHTML,K(o),n&&A(o)),W(t,(function(e,i){delete t[i]}))}firstRender(){const t=this,e=t.options;t.getContainer(),t.resetMargins(),t.setChartSize(),t.propFromSeries(),t.getAxes(),(B(e.series)?e.series:[]).forEach((function(e){t.initSeries(e)})),t.linkSeries(),t.setSeriesData(),k(t,"beforeRender"),t.render(),t.pointer.getChartPosition(),t.renderer.imgCount||t.hasLoaded||t.onload(),t.temporaryDisplay(!0)}onload(){this.callbacks.concat([this.callback]).forEach((function(t){t&&void 0!==this.index&&t.apply(this,[this])}),this),k(this,"load"),k(this,"render"),D(this.index)&&this.setReflow(),this.warnIfA11yModuleNotLoaded(),this.hasLoaded=!0}warnIfA11yModuleNotLoaded(){const{options:t,title:e}=this;t&&!this.accessibility&&(this.renderer.boxWrapper.attr({role:"img","aria-label":(e&&e.element.textContent||"").replace(/</g,"&lt;")}),t.accessibility&&!1===t.accessibility.enabled||L('Highcharts warning: Consider including the "accessibility.js" module to make your chart more usable for people with disabilities. Set the "accessibility.enabled" option to false to remove this warning. See https://www.highcharts.com/docs/accessibility/accessibility-module.',!1,this))}addSeries(t,e,i){const o=this;let n;return t&&(e=H(e,!0),k(o,"addSeries",{options:t},(function(){n=o.initSeries(t),o.isDirtyLegend=!0,o.linkSeries(),n.enabledDataSorting&&n.setData(t.data,!1),k(o,"afterAddSeries",{series:n}),e&&o.redraw(i)}))),n}addAxis(t,e,i,o){return this.createAxis(e?"xAxis":"yAxis",{axis:t,redraw:i,animation:o})}addColorAxis(t,e,i){return this.createAxis("colorAxis",{axis:t,redraw:e,animation:i})}createAxis(t,i){return t=new e(this,U(i.axis,{index:this[t].length,isX:"xAxis"===t})),H(i.redraw,!0)&&this.redraw(i.animation),t}showLoading(t){const e=this,i=e.options,o=i.loading,n=function(){r&&M(r,{left:e.plotLeft+"px",top:e.plotTop+"px",width:e.plotWidth+"px",height:e.plotHeight+"px"})};let r=e.loadingDiv,s=e.loadingSpan;r||(e.loadingDiv=r=T("div",{className:"highcharts-loading highcharts-loading-hidden"},null,e.container)),s||(e.loadingSpan=s=T("span",{className:"highcharts-loading-inner"},null,r),O(e,"redraw",n)),r.className="highcharts-loading",h.setElementHTML(s,H(t,i.lang.loading,"")),e.styledMode||(M(r,I(o.style,{zIndex:10})),M(s,o.labelStyle),e.loadingShown||(M(r,{opacity:0,display:""}),d(r,{opacity:o.style.opacity||.5},{duration:o.showDuration||0}))),e.loadingShown=!0,n()}hideLoading(){const t=this.options,e=this.loadingDiv;e&&(e.className="highcharts-loading highcharts-loading-hidden",this.styledMode||d(e,{opacity:0},{duration:t.loading.hideDuration||100,complete:function(){M(e,{display:"none"})}})),this.loadingShown=!1}update(t,e,i,o){const n=this,r={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"},s=t.isResponsiveOptions,a=[];let l,u;k(n,"update",{options:t}),s||n.setResponsive(!1,!0),t=P(t,n.options),n.userOptions=U(n.userOptions,t);var h=t.chart;if(h){if(U(!0,n.options.chart,h),"className"in h&&n.setClassName(h.className),"inverted"in h||"polar"in h||"type"in h){n.propFromSeries();var d=!0}"alignTicks"in h&&(d=!0),"events"in h&&v(this,h),W(h,(function(t,e){-1!==n.propsRequireUpdateSeries.indexOf("chart."+e)&&(l=!0),-1!==n.propsRequireDirtyBox.indexOf(e)&&(n.isDirtyBox=!0),-1!==n.propsRequireReflow.indexOf(e)&&(s?n.isDirtyBox=!0:u=!0)})),!n.styledMode&&h.style&&n.renderer.setStyle(n.options.chart.style||{})}!n.styledMode&&t.colors&&(this.options.colors=t.colors),t.time&&(this.time===m&&(this.time=new c(t.time)),U(!0,n.options.time,t.time)),W(t,(function(e,i){n[i]&&"function"==typeof n[i].update?n[i].update(e,!1):"function"==typeof n[r[i]]?n[r[i]](e):"colors"!==i&&-1===n.collectionsWithUpdate.indexOf(i)&&U(!0,n.options[i],t[i]),"chart"!==i&&-1!==n.propsRequireUpdateSeries.indexOf(i)&&(l=!0)})),this.collectionsWithUpdate.forEach((function(e){let o;t[e]&&(o=[],n[e].forEach((function(t,e){t.options.isInternal||o.push(H(t.options.index,e))})),Y(t[e]).forEach((function(t,r){const s=D(t.id);let a;s&&(a=n.get(t.id)),!a&&n[e]&&(a=n[e][o?o[r]:r])&&s&&D(a.options.id)&&(a=void 0),a&&a.coll===e&&(a.update(t,!1),i&&(a.touched=!0)),!a&&i&&n.collectionsWithInit[e]&&(n.collectionsWithInit[e][0].apply(n,[t].concat(n.collectionsWithInit[e][1]||[]).concat([!1])).touched=!0)})),i&&n[e].forEach((function(t){t.touched||t.options.isInternal?delete t.touched:a.push(t)})))})),a.forEach((function(t){t.chart&&t.remove&&t.remove(!1)})),d&&n.axes.forEach((function(t){t.update({},!1)})),l&&n.getSeriesOrderByLinks().forEach((function(t){t.chart&&t.update({},!1)}),this),d=h&&h.width,h=h&&(V(h.height)?z(h.height,d||n.chartWidth):h.height),u||G(d)&&d!==n.chartWidth||G(h)&&h!==n.chartHeight?n.setSize(d,h,o):H(e,!0)&&n.redraw(o),k(n,"afterUpdate",{options:t,redraw:e,animation:o})}setSubtitle(t,e){this.applyDescription("subtitle",t),this.layOutTitles(e)}setCaption(t,e){this.applyDescription("caption",t),this.layOutTitles(e)}showResetZoom(){function t(){e.zoomOut()}const e=this,i=g.lang,o=e.options.chart.zooming.resetButton,n=o.theme,r="chart"===o.relativeTo||"spacingBox"===o.relativeTo?null:"scrollablePlotBox";k(this,"beforeShowResetZoom",null,(function(){e.resetZoomButton=e.renderer.button(i.resetZoom,null,null,t,n).attr({align:o.position.align,title:i.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(o.position,!1,r)})),k(this,"afterShowResetZoom")}zoomOut(){k(this,"selection",{resetSelection:!0},this.zoom)}zoom(t){const e=this,i=e.pointer;let o,n=!1;!t||t.resetSelection?(e.axes.forEach((function(t){o=t.zoom()})),i.initiated=!1):t.xAxis.concat(t.yAxis).forEach((function(t){const r=t.axis;(i[r.isXAxis?"zoomX":"zoomY"]&&D(i.mouseDownX)&&D(i.mouseDownY)&&e.isInsidePlot(i.mouseDownX-e.plotLeft,i.mouseDownY-e.plotTop,{axis:r})||!D(e.inverted?i.mouseDownX:i.mouseDownY))&&(o=r.zoom(t.min,t.max),r.displayBtn&&(n=!0))}));const r=e.resetZoomButton;n&&!r?e.showResetZoom():!n&&j(r)&&(e.resetZoomButton=r.destroy()),o&&e.redraw(H(e.options.chart.animation,t&&t.animation,100>e.pointCount))}pan(t,e){const i=this,o=i.hoverPoints;e="object"==typeof e?e:{enabled:e,type:"x"};const n=i.options.chart;n&&n.panning&&(n.panning=e);const r=e.type;let s;k(this,"pan",{originalEvent:t},(function(){o&&o.forEach((function(t){t.setState()}));let e=i.xAxis;"xy"===r?e=e.concat(i.yAxis):"y"===r&&(e=i.yAxis);const n={};e.forEach((function(e){if(e.options.panningEnabled&&!e.options.isInternal){var o=e.horiz,a=t[o?"chartX":"chartY"],l=i[o=o?"mouseDownX":"mouseDownY"],c=e.minPointOffset||0,u=e.reversed&&!i.inverted||!e.reversed&&i.inverted?-1:1,h=e.getExtremes(),d=e.toValue(l-a,!0)+c*u,p=e.toValue(l+e.len-a,!0)-(c*u||e.isXAxis&&e.pointRangePadding||0),f=p<d;u=e.hasVerticalPanning(),l=f?p:d,d=f?d:p;var g=e.panningState;!u||e.isXAxis||g&&!g.isDirty||e.series.forEach((function(t){var e=t.getProcessedData(!0);e=t.getExtremes(e.yData,!0),g||(g={startMin:Number.MAX_VALUE,startMax:-Number.MAX_VALUE}),G(e.dataMin)&&G(e.dataMax)&&(g.startMin=Math.min(H(t.options.threshold,1/0),e.dataMin,g.startMin),g.startMax=Math.max(H(t.options.threshold,-1/0),e.dataMax,g.startMax))})),u=Math.min(H(g&&g.startMin,h.dataMin),c?h.min:e.toValue(e.toPixels(h.min)-e.minPixelPadding)),p=Math.max(H(g&&g.startMax,h.dataMax),c?h.max:e.toValue(e.toPixels(h.max)+e.minPixelPadding)),e.panningState=g,e.isOrdinal||(0<(c=u-l)&&(d+=c,l=u),0<(c=d-p)&&(d=p,l-=c),e.series.length&&l!==h.min&&d!==h.max&&l>=u&&d<=p&&(e.setExtremes(l,d,!1,!1,{trigger:"pan"}),!i.resetZoomButton&&l!==u&&d!==p&&r.match("y")&&(i.showResetZoom(),e.displayBtn=!1),s=!0),n[o]=a)}})),W(n,((t,e)=>{i[e]=t})),s&&i.redraw(!1),M(i.container,{cursor:"move"})}))}}return I(q.prototype,{callbacks:[],collectionsWithInit:{xAxis:[q.prototype.addAxis,[!0]],yAxis:[q.prototype.addAxis,[!1]],series:[q.prototype.addSeries]},collectionsWithUpdate:["xAxis","yAxis","series"],propsRequireDirtyBox:"backgroundColor borderColor borderWidth borderRadius plotBackgroundColor plotBackgroundImage plotBorderColor plotBorderWidth plotShadow shadow".split(" "),propsRequireReflow:"margin marginTop marginRight marginBottom marginLeft spacing spacingTop spacingRight spacingBottom spacingLeft".split(" "),propsRequireUpdateSeries:"chart.inverted chart.polar chart.ignoreHiddenSeries chart.type colors plotOptions time tooltip".split(" ")}),q})),e(i,"Core/Legend/LegendSymbol.js",[i["Core/Utilities.js"]],(function(t){const{extend:e,merge:i,pick:o}=t;var n;return function(t){t.lineMarker=function(t,n){n=this.legendItem=this.legendItem||{};var r=this.options;const s=t.symbolWidth,a=t.symbolHeight,l=a/2,c=this.chart.renderer,u=n.group;t=t.baseline-Math.round(.3*t.fontMetrics.b);let h={},d=r.marker,p=0;this.chart.styledMode||(h={"stroke-width":Math.min(r.lineWidth||0,24)},r.dashStyle?h.dashstyle=r.dashStyle:"square"!==r.linecap&&(h["stroke-linecap"]="round")),n.line=c.path().addClass("highcharts-graph").attr(h).add(u),h["stroke-linecap"]&&(p=Math.min(n.line.strokeWidth(),s)/2),s&&n.line.attr({d:[["M",p,t],["L",s-p,t]]}),d&&!1!==d.enabled&&s&&(r=Math.min(o(d.radius,l),l),0===this.symbol.indexOf("url")&&(d=i(d,{width:a,height:a}),r=0),n.symbol=n=c.symbol(this.symbol,s/2-r,t-r,2*r,2*r,e({context:"legend"},d)).addClass("highcharts-point").add(u),n.isMarker=!0)},t.rectangle=function(t,e){e=e.legendItem||{};const i=t.symbolHeight,n=t.options.squareSymbol;e.symbol=this.chart.renderer.rect(n?(t.symbolWidth-i)/2:0,t.baseline-i+1,n?i:t.symbolWidth,i,o(t.options.symbolRadius,i/2)).addClass("highcharts-point").attr({zIndex:3}).add(e.group)}}(n||(n={})),n})),e(i,"Core/Series/SeriesDefaults.js",[],(function(){return{lineWidth:1,allowPointSelect:!1,crisp:!0,showCheckbox:!1,animation:{duration:1e3},events:{},marker:{enabledThreshold:2,lineColor:"#ffffff",lineWidth:0,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:150},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{animation:{},align:"center",borderWidth:0,defer:!0,formatter:function(){const{numberFormatter:t}=this.series.chart;return"number"!=typeof this.y?"":t(this.y,-1)},padding:5,style:{fontSize:"0.7em",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0},cropThreshold:300,opacity:1,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:150},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{animation:{duration:0}},inactive:{animation:{duration:150},opacity:.2}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"}})),e(i,"Core/Series/Series.js",[i["Core/Animation/AnimationUtilities.js"],i["Core/Defaults.js"],i["Core/Foundation.js"],i["Core/Globals.js"],i["Core/Legend/LegendSymbol.js"],i["Core/Series/Point.js"],i["Core/Series/SeriesDefaults.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Renderer/SVG/SVGElement.js"],i["Core/Utilities.js"]],(function(t,e,i,o,n,r,s,a,l,c){const{animObject:u,setAnimation:h}=t,{defaultOptions:d}=e,{registerEventOptions:p}=i,{hasTouch:f,svg:g,win:m}=o,{seriesTypes:y}=a,{arrayMax:v,arrayMin:_,clamp:C,cleanRecursively:b,correctFloat:E,defined:S,erase:w,error:O,extend:x,find:P,fireEvent:T,getNestedProperty:M,isArray:D,isNumber:A,isString:R,merge:L,objectEach:I,pick:N,removeEvent:k,splat:F,syncTimeout:B}=c;class G{constructor(){this.zones=this.yAxis=this.xAxis=this.userOptions=this.tooltipOptions=this.processedYData=this.processedXData=this.points=this.options=this.linkedSeries=this.index=this.eventsToUnbind=this.eventOptions=this.data=this.chart=this._i=void 0}init(t,e){T(this,"init",{options:e});const i=this,o=t.series;this.eventsToUnbind=[],i.chart=t,i.options=i.setOptions(e),e=i.options,i.linkedSeries=[],i.bindAxes(),x(i,{name:e.name,state:"",visible:!1!==e.visible,selected:!0===e.selected}),p(this,e);const n=e.events;let r;(n&&n.click||e.point&&e.point.events&&e.point.events.click||e.allowPointSelect)&&(t.runTrackerClick=!0),i.getColor(),i.getSymbol(),i.parallelArrays.forEach((function(t){i[t+"Data"]||(i[t+"Data"]=[])})),i.isCartesian&&(t.hasCartesianSeries=!0),o.length&&(r=o[o.length-1]),i._i=N(r&&r._i,-1)+1,i.opacity=i.options.opacity,t.orderSeries(this.insert(o)),e.dataSorting&&e.dataSorting.enabled?i.setDataSortingOptions():i.points||i.data||i.setData(e.data,!1),T(this,"afterInit")}is(t){return y[t]&&this instanceof y[t]}insert(t){const e=this.options.index;let i;if(A(e)){for(i=t.length;i--;)if(e>=N(t[i].options.index,t[i]._i)){t.splice(i+1,0,this);break}-1===i&&t.unshift(this),i+=1}else t.push(this);return N(i,t.length-1)}bindAxes(){const t=this,e=t.options,i=t.chart;let o;T(this,"bindAxes",null,(function(){(t.axisTypes||[]).forEach((function(n){let r=0;i[n].forEach((function(i){o=i.options,(e[n]===r&&!o.isInternal||void 0!==e[n]&&e[n]===o.id||void 0===e[n]&&0===o.index)&&(t.insert(i.series),t[n]=i,i.isDirty=!0),o.isInternal||r++})),t[n]||t.optionalAxis===n||O(18,!0,i)}))})),T(this,"afterBindAxes")}updateParallelArrays(t,e,i){const o=t.series,n=A(e)?function(i){const n="y"===i&&o.toYData?o.toYData(t):t[i];o[i+"Data"][e]=n}:function(t){Array.prototype[e].apply(o[t+"Data"],i)};o.parallelArrays.forEach(n)}hasData(){return this.visible&&void 0!==this.dataMax&&void 0!==this.dataMin||this.visible&&this.yData&&0<this.yData.length}autoIncrement(t){var e=this.options;const i=e.pointIntervalUnit,o=e.relativeXValue,n=this.chart.time;let r,s=this.xIncrement;return s=N(s,e.pointStart,0),this.pointInterval=r=N(this.pointInterval,e.pointInterval,1),o&&A(t)&&(r*=t),i&&(e=new n.Date(s),"day"===i?n.set("Date",e,n.get("Date",e)+r):"month"===i?n.set("Month",e,n.get("Month",e)+r):"year"===i&&n.set("FullYear",e,n.get("FullYear",e)+r),r=e.getTime()-s),o&&A(t)?s+r:(this.xIncrement=s+r,s)}setDataSortingOptions(){const t=this.options;x(this,{requireSorting:!1,sorted:!1,enabledDataSorting:!0,allowDG:!1}),S(t.pointRange)||(t.pointRange=1)}setOptions(t){var e=this.chart,i=e.options,o=i.plotOptions,n=e.userOptions||{};t=L(t),e=e.styledMode;const r={plotOptions:o,userOptions:t};T(this,"setOptions",r);const s=r.plotOptions[this.type],a=n.plotOptions||{};return this.userOptions=r.userOptions,n=L(s,o.series,n.plotOptions&&n.plotOptions[this.type],t),this.tooltipOptions=L(d.tooltip,d.plotOptions.series&&d.plotOptions.series.tooltip,d.plotOptions[this.type].tooltip,i.tooltip.userOptions,o.series&&o.series.tooltip,o[this.type].tooltip,t.tooltip),this.stickyTracking=N(t.stickyTracking,a[this.type]&&a[this.type].stickyTracking,a.series&&a.series.stickyTracking,!(!this.tooltipOptions.shared||this.noSharedTooltip)||n.stickyTracking),null===s.marker&&delete n.marker,this.zoneAxis=n.zoneAxis,o=this.zones=(n.zones||[]).slice(),!n.negativeColor&&!n.negativeFillColor||n.zones||(i={value:n[this.zoneAxis+"Threshold"]||n.threshold||0,className:"highcharts-negative"},e||(i.color=n.negativeColor,i.fillColor=n.negativeFillColor),o.push(i)),o.length&&S(o[o.length-1].value)&&o.push(e?{}:{color:this.color,fillColor:this.fillColor}),T(this,"afterSetOptions",{options:n}),n}getName(){return N(this.options.name,"Series "+(this.index+1))}getCyclic(t,e,i){const o=this.chart,n=this.userOptions,r=t+"Index",s=t+"Counter",a=i?i.length:N(o.options.chart[t+"Count"],o[t+"Count"]);if(!e){var l=N(n[r],n["_"+r]);S(l)||(o.series.length||(o[s]=0),n["_"+r]=l=o[s]%a,o[s]+=1),i&&(e=i[l])}void 0!==l&&(this[r]=l),this[t]=e}getColor(){this.chart.styledMode?this.getCyclic("color"):this.options.colorByPoint?this.color="#cccccc":this.getCyclic("color",this.options.color||d.plotOptions[this.type].color,this.chart.options.colors)}getPointsCollection(){return(this.hasGroupedData?this.points:this.data)||[]}getSymbol(){this.getCyclic("symbol",this.options.marker.symbol,this.chart.options.symbols)}findPointIndex(t,e){const i=t.id,o=t.x,n=this.points;var s,a=this.options.dataSorting;let l,c;if(i)(a=this.chart.get(i))instanceof r&&(s=a);else if((this.linkedParent||this.enabledDataSorting||this.options.relativeXValue)&&(s=e=>!e.touched&&e.index===t.index,a&&a.matchByName?s=e=>!e.touched&&e.name===t.name:this.options.relativeXValue&&(s=e=>!e.touched&&e.options.x===t.x),!(s=P(n,s))))return;return s&&(c=s&&s.index,void 0!==c&&(l=!0)),void 0===c&&A(o)&&(c=this.xData.indexOf(o,e)),-1!==c&&void 0!==c&&this.cropped&&(c=c>=this.cropStart?c-this.cropStart:c),!l&&A(c)&&n[c]&&n[c].touched&&(c=void 0),c}updateData(t,e){const i=this.options,o=i.dataSorting,n=this.points,r=[],s=this.requireSorting,a=t.length===n.length;let l,c,u,h=!0;if(this.xIncrement=null,t.forEach((function(t,e){var c=S(t)&&this.pointClass.prototype.optionsToObject.call({series:this},t)||{};const h=c.x;c.id||A(h)?(-1===(c=this.findPointIndex(c,u))||void 0===c?r.push(t):n[c]&&t!==i.data[c]?(n[c].update(t,!1,null,!1),n[c].touched=!0,s&&(u=c+1)):n[c]&&(n[c].touched=!0),(!a||e!==c||o&&o.enabled||this.hasDerivedData)&&(l=!0)):r.push(t)}),this),l)for(t=n.length;t--;)(c=n[t])&&!c.touched&&c.remove&&c.remove(!1,e);else!a||o&&o.enabled?h=!1:(t.forEach((function(t,e){t===n[e].y||n[e].destroyed||n[e].update(t,!1,null,!1)})),r.length=0);return n.forEach((function(t){t&&(t.touched=!1)})),!!h&&(r.forEach((function(t){this.addPoint(t,!1,null,null,!1)}),this),null===this.xIncrement&&this.xData&&this.xData.length&&(this.xIncrement=v(this.xData),this.autoIncrement()),!0)}setData(t,e=!0,i,o){var n;const r=this,s=r.points,a=s&&s.length||0,l=r.options,c=r.chart,u=l.dataSorting,h=r.xAxis,d=l.turboThreshold,p=this.xData,f=this.yData;var g=r.pointArrayMap;g=g&&g.length;const m=l.keys;let y,v=0,_=1,C=null;if(!c.options.chart.allowMutatingData){l.data&&delete r.options.data,r.userOptions.data&&delete r.userOptions.data;var b=L(!0,t)}if(b=(t=b||t||[]).length,u&&u.enabled&&(t=this.sortData(t)),c.options.chart.allowMutatingData&&!1!==o&&b&&a&&!r.cropped&&!r.hasGroupedData&&r.visible&&!r.boosted&&(y=this.updateData(t,i)),!y){if(r.xIncrement=null,r.colorCounter=0,this.parallelArrays.forEach((function(t){r[t+"Data"].length=0})),d&&b>d)if(C=r.getFirstValidPoint(t),A(C))for(i=0;i<b;i++)p[i]=this.autoIncrement(),f[i]=t[i];else if(D(C))if(g)if(C.length===g)for(i=0;i<b;i++)p[i]=this.autoIncrement(),f[i]=t[i];else for(i=0;i<b;i++)o=t[i],p[i]=o[0],f[i]=o.slice(1,g+1);else if(m&&(v=m.indexOf("x"),_=m.indexOf("y"),v=0<=v?v:0,_=0<=_?_:1),1===C.length&&(_=0),v===_)for(i=0;i<b;i++)p[i]=this.autoIncrement(),f[i]=t[i][_];else for(i=0;i<b;i++)o=t[i],p[i]=o[v],f[i]=o[_];else O(12,!1,c);else for(i=0;i<b;i++)o={series:r},r.pointClass.prototype.applyOptions.apply(o,[t[i]]),r.updateParallelArrays(o,i);for(f&&R(f[0])&&O(14,!0,c),r.data=[],r.options.data=r.userOptions.data=t,i=a;i--;)null===(n=s[i])||void 0===n||n.destroy();h&&(h.minRange=h.userMinRange),r.isDirty=c.isDirtyBox=!0,r.isDirtyData=!!s,i=!1}"point"===l.legendType&&(this.processData(),this.generatePoints()),e&&c.redraw(i)}sortData(t){const e=this,i=e.options.dataSorting.sortKey||"y",o=function(t,e){return S(e)&&t.pointClass.prototype.optionsToObject.call({series:t},e)||{}};return t.forEach((function(i,n){t[n]=o(e,i),t[n].index=n}),this),t.concat().sort(((t,e)=>(t=M(i,t),(e=M(i,e))<t?-1:e>t?1:0))).forEach((function(t,e){t.x=e}),this),e.linkedSeries&&e.linkedSeries.forEach((function(e){const i=e.options,n=i.data;i.dataSorting&&i.dataSorting.enabled||!n||(n.forEach((function(i,r){n[r]=o(e,i),t[r]&&(n[r].x=t[r].x,n[r].index=r)})),e.setData(n,!1))})),t}getProcessedData(t){var e=this.xAxis,i=this.options,o=i.cropThreshold;const n=t||this.getExtremesFromAll||i.getExtremesFromAll,r=this.isCartesian;t=e&&e.val2lin,i=!(!e||!e.logarithmic);let s,a,l,c=0,u=this.xData,h=this.yData,d=this.requireSorting;var p=!1;const f=u.length;if(e&&(a=(p=e.getExtremes()).min,l=p.max,p=!(!e.categories||e.names.length)),r&&this.sorted&&!n&&(!o||f>o||this.forceCrop))if(u[f-1]<a||u[0]>l)u=[],h=[];else if(this.yData&&(u[0]<a||u[f-1]>l)){var g=this.cropData(this.xData,this.yData,a,l);u=g.xData,h=g.yData,c=g.start,g=!0}for(o=u.length||1;--o;)0<(e=i?t(u[o])-t(u[o-1]):u[o]-u[o-1])&&(void 0===s||e<s)?s=e:0>e&&d&&!p&&(O(15,!1,this.chart),d=!1);return{xData:u,yData:h,cropped:g,cropStart:c,closestPointRange:s}}processData(t){const e=this.xAxis;if(this.isCartesian&&!this.isDirty&&!e.isDirty&&!this.yAxis.isDirty&&!t)return!1;t=this.getProcessedData(),this.cropped=t.cropped,this.cropStart=t.cropStart,this.processedXData=t.xData,this.processedYData=t.yData,this.closestPointRange=this.basePointRange=t.closestPointRange,T(this,"afterProcessData")}cropData(t,e,i,o,n){const r=t.length;let s,a=0,l=r;for(n=N(n,this.cropShoulder),s=0;s<r;s++)if(t[s]>=i){a=Math.max(0,s-n);break}for(i=s;i<r;i++)if(t[i]>o){l=i+n;break}return{xData:t.slice(a,l),yData:e.slice(a,l),start:a,end:l}}generatePoints(){var t=this.options;const e=this.processedData||t.data,i=this.processedXData,o=this.processedYData,n=this.pointClass,r=i.length,s=this.cropStart||0,a=this.hasGroupedData,l=t.keys,c=[];let u;t=t.dataGrouping&&t.dataGrouping.groupAll?s:0;let h,d,p=this.data;if(!p&&!a){var f=[];f.length=e.length,p=this.data=f}for(l&&a&&(this.options.keys=!1),d=0;d<r;d++)f=s+d,a?(h=(new n).init(this,[i[d]].concat(F(o[d]))),h.dataGroup=this.groupMap[t+d],h.dataGroup.options&&(h.options=h.dataGroup.options,x(h,h.dataGroup.options),delete h.dataLabels)):(h=p[f])||void 0===e[f]||(p[f]=h=(new n).init(this,e[f],i[d])),h&&(h.index=a?t+d:f,c[d]=h);if(this.options.keys=l,p&&(r!==(u=p.length)||a))for(d=0;d<u;d++)d!==s||a||(d+=r),p[d]&&(p[d].destroyElements(),p[d].plotX=void 0);this.data=p,this.points=c,T(this,"afterGeneratePoints")}getXExtremes(t){return{min:_(t),max:v(t)}}getExtremes(t,e){const i=this.xAxis;var o=this.yAxis;const n=this.processedXData||this.xData,r=[],s=this.requireSorting?this.cropShoulder:0;o=!!o&&o.positiveValuesOnly;let a,l=0,c=0,u=0;const h=(t=t||this.stackedYData||this.processedYData||[]).length;if(i){var d=i.getExtremes();l=d.min,c=d.max}for(a=0;a<h;a++){var p=n[a];d=t[a];var f=(A(d)||D(d))&&(d.length||0<d||!o);if(p=e||this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||!i||(n[a+s]||p)>=l&&(n[a-s]||p)<=c,f&&p)if(f=d.length)for(;f--;)A(d[f])&&(r[u++]=d[f]);else r[u++]=d}return t={activeYData:r,dataMin:_(r),dataMax:v(r)},T(this,"afterGetExtremes",{dataExtremes:t}),t}applyExtremes(){const t=this.getExtremes();return this.dataMin=t.dataMin,this.dataMax=t.dataMax,t}getFirstValidPoint(t){const e=t.length;let i=0,o=null;for(;null===o&&i<e;)o=t[i],i++;return o}translate(){var t;this.processedXData||this.processData(),this.generatePoints();const e=this.options,i=e.stacking,o=this.xAxis,n=o.categories,r=this.enabledDataSorting,s=this.yAxis,a=this.points,l=a.length,c=this.pointPlacementToXValue(),u=!!c,h=e.threshold,d=e.startFromThreshold?h:0,p=this.zoneAxis||"y";let f,g,m,y,v=Number.MAX_VALUE;for(f=0;f<l;f++){const l=a[f],_=l.x;let b,w,O=l.y,x=l.low;const P=i&&(null===(t=s.stacking)||void 0===t?void 0:t.stacks[(this.negStacks&&O<(d?0:h)?"-":"")+this.stackKey]);let T;g=o.translate(_,!1,!1,!1,!0,c),l.plotX=A(g)?E(C(g,-1e5,1e5)):void 0,i&&this.visible&&P&&P[_]&&(y=this.getStackIndicator(y,_,this.index),!l.isNull&&y.key&&(b=P[_],w=b.points[y.key]),b&&D(w)&&(x=w[0],O=w[1],x===d&&y.key===P[_].base&&(x=N(A(h)?h:s.min)),s.positiveValuesOnly&&S(x)&&0>=x&&(x=void 0),l.total=l.stackTotal=N(b.total),l.percentage=S(l.y)&&b.total?l.y/b.total*100:void 0,l.stackY=O,this.irregularWidths||b.setOffset(this.pointXOffset||0,this.barW||0,void 0,void 0,void 0,this.xAxis))),l.yBottom=S(x)?C(s.translate(x,!1,!0,!1,!0),-1e5,1e5):void 0,this.dataModify&&(O=this.dataModify.modifyValue(O,f)),A(O)&&void 0!==l.plotX&&(T=s.translate(O,!1,!0,!1,!0),T=A(T)?C(T,-1e5,1e5):void 0),l.plotY=T,l.isInside=this.isPointInside(l),l.clientX=u?E(o.translate(_,!1,!1,!1,!0,c)):g,l.negative=l[p]<(e[p+"Threshold"]||h||0),l.category=N(n&&n[l.x],l.x),l.isNull||!1===l.visible||(void 0!==m&&(v=Math.min(v,Math.abs(g-m))),m=g),l.zone=this.zones.length?l.getZone():void 0,!l.graphic&&this.group&&r&&(l.isNew=!0)}this.closestPointRangePx=v,T(this,"afterTranslate")}getValidPoints(t,e,i){const o=this.chart;return(t||this.points||[]).filter((function(t){const{plotX:n,plotY:r}=t;return!(!(i||!t.isNull&&A(r))||e&&!o.isInsidePlot(n,r,{inverted:o.inverted}))&&!1!==t.visible}))}getClipBox(){const{chart:t,xAxis:e,yAxis:i}=this,o=L(t.clipBox);return e&&e.len!==t.plotSizeX&&(o.width=e.len),i&&i.len!==t.plotSizeY&&(o.height=i.len),o}getSharedClipKey(){return this.sharedClipKey=(this.options.xAxis||0)+","+(this.options.yAxis||0)}setClip(){const{chart:t,group:e,markerGroup:i}=this,o=t.sharedClips,n=t.renderer,r=this.getClipBox(),s=this.getSharedClipKey();let a=o[s];a?a.animate(r):o[s]=a=n.clipRect(r),e&&e.clip(!1===this.options.clip?void 0:a),i&&i.clip()}animate(t){const{chart:e,group:i,markerGroup:o}=this,n=e.inverted;var r=u(this.options.animation),s=[this.getSharedClipKey(),r.duration,r.easing,r.defer].join();let a=e.sharedClips[s],l=e.sharedClips[s+"m"];if(t&&i)r=this.getClipBox(),a?a.attr("height",r.height):(r.width=0,n&&(r.x=e.plotHeight),a=e.renderer.clipRect(r),e.sharedClips[s]=a,l=e.renderer.clipRect({x:-99,y:-99,width:n?e.plotWidth+199:99,height:n?99:e.plotHeight+199}),e.sharedClips[s+"m"]=l),i.clip(a),o&&o.clip(l);else if(a&&!a.hasClass("highcharts-animating")){s=this.getClipBox();const t=r.step;o&&o.element.childNodes.length&&(r.step=function(e,i){t&&t.apply(i,arguments),"width"===i.prop&&l&&l.element&&l.attr(n?"height":"width",e+99)}),a.addClass("highcharts-animating").animate(s,r)}}afterAnimate(){this.setClip(),I(this.chart.sharedClips,((t,e,i)=>{t&&!this.chart.container.querySelector(`[clip-path="url(#${t.id})"]`)&&(t.destroy(),delete i[e])})),this.finishedAnimating=!0,T(this,"afterAnimate")}drawPoints(t=this.points){const e=this.chart,i=e.styledMode,{colorAxis:o,options:n}=this,r=n.marker,s=this[this.specialGroup||"markerGroup"],a=this.xAxis,l=N(r.enabled,!(a&&!a.isRadial)||null,this.closestPointRangePx>=r.enabledThreshold*r.radius);let c,u,h,d,p,f;if(!1!==r.enabled||this._hasPointMarkers)for(c=0;c<t.length;c++){u=t[c],d=(h=u.graphic)?"animate":"attr";var g=u.marker||{};if(p=!!u.marker,(l&&void 0===g.enabled||g.enabled)&&!u.isNull&&!1!==u.visible){const t=N(g.symbol,this.symbol,"rect");f=this.markerAttribs(u,u.selected&&"select"),this.enabledDataSorting&&(u.startXPos=a.reversed?-(f.width||0):a.width);const n=!1!==u.isInside;!h&&n&&(0<(f.width||0)||u.hasImage)&&(u.graphic=h=e.renderer.symbol(t,f.x,f.y,f.width,f.height,p?g:r).add(s),this.enabledDataSorting&&e.hasRendered&&(h.attr({x:u.startXPos}),d="animate")),h&&"animate"===d&&h[n?"show":"hide"](n).animate(f),h&&(g=this.pointAttribs(u,i||!u.selected?void 0:"select"),i?o&&h.css({fill:g.fill}):h[d](g)),h&&h.addClass(u.getClassName(),!0)}else h&&(u.graphic=h.destroy())}}markerAttribs(t,e){const i=this.options;var o=i.marker;const n=t.marker||{},r=n.symbol||o.symbol,s={};let a=N(n.radius,o&&o.radius);return e&&(o=o.states[e],e=n.states&&n.states[e],a=N(e&&e.radius,o&&o.radius,a&&a+(o&&o.radiusPlus||0))),t.hasImage=r&&0===r.indexOf("url"),t.hasImage&&(a=0),t=t.pos(),A(a)&&t&&(s.x=t[0]-a,s.y=t[1]-a,i.crisp&&(s.x=Math.floor(s.x))),a&&(s.width=s.height=2*a),s}pointAttribs(t,e){var i=this.options.marker,o=t&&t.options;const n=o&&o.marker||{};var r=o&&o.color,s=t&&t.color;const a=t&&t.zone&&t.zone.color;let l=this.color;return t=N(n.lineWidth,i.lineWidth),o=1,l=r||a||s||l,r=n.fillColor||i.fillColor||l,s=n.lineColor||i.lineColor||l,e=e||"normal",i=i.states[e]||{},e=n.states&&n.states[e]||{},t=N(e.lineWidth,i.lineWidth,t+N(e.lineWidthPlus,i.lineWidthPlus,0)),r=e.fillColor||i.fillColor||r,{stroke:s=e.lineColor||i.lineColor||s,"stroke-width":t,fill:r,opacity:o=N(e.opacity,i.opacity,o)}}destroy(t){const e=this,i=e.chart,o=/AppleWebKit\/533/.test(m.navigator.userAgent),n=e.data||[];let r,s,a,u;for(T(e,"destroy",{keepEventsForUpdate:t}),this.removeEvents(t),(e.axisTypes||[]).forEach((function(t){(u=e[t])&&u.series&&(w(u.series,e),u.isDirty=u.forceRedraw=!0)})),e.legendItem&&e.chart.legend.destroyItem(e),s=n.length;s--;)(a=n[s])&&a.destroy&&a.destroy();e.clips&&e.clips.forEach((t=>t.destroy())),c.clearTimeout(e.animationTimeout),I(e,(function(t,e){t instanceof l&&!t.survive&&(r=o&&"group"===e?"hide":"destroy",t[r]())})),i.hoverSeries===e&&(i.hoverSeries=void 0),w(i.series,e),i.orderSeries(),I(e,(function(i,o){t&&"hcEvents"===o||delete e[o]}))}applyZones(){const t=this,e=this.chart,i=e.renderer,o=this.zones,n=this.clips||[],r=this.graph,s=this.area,a=Math.max(e.plotWidth,e.plotHeight),l=this[(this.zoneAxis||"y")+"Axis"],c=e.inverted;let u,h,d,p,f,g,m,y,v,_,b,E=!1;o.length&&(r||s)&&l&&void 0!==l.min?(f=l.reversed,g=l.horiz,r&&!this.showLine&&r.hide(),s&&s.hide(),p=l.getExtremes(),o.forEach((function(o,S){u=f?g?e.plotWidth:0:g?0:l.toPixels(p.min)||0,u=C(N(h,u),0,a),h=C(Math.round(l.toPixels(N(o.value,p.max),!0)||0),0,a),E&&(u=h=l.toPixels(p.max)),m=Math.abs(u-h),y=Math.min(u,h),v=Math.max(u,h),l.isXAxis?(d={x:c?v:y,y:0,width:m,height:a},g||(d.x=e.plotHeight-d.x)):(d={x:0,y:c?v:y,width:a,height:m},g&&(d.y=e.plotWidth-d.y)),n[S]?n[S].animate(d):n[S]=i.clipRect(d),_=t["zone-area-"+S],b=t["zone-graph-"+S],r&&b&&b.clip(n[S]),s&&_&&_.clip(n[S]),E=o.value>p.max,t.resetZones&&0===h&&(h=void 0)})),this.clips=n):t.visible&&(r&&r.show(),s&&s.show())}plotGroup(t,e,i,o,n){let r=this[t];const s=!r;return i={visibility:i,zIndex:o||.1},void 0===this.opacity||this.chart.styledMode||"inactive"===this.state||(i.opacity=this.opacity),s&&(this[t]=r=this.chart.renderer.g().add(n)),r.addClass("highcharts-"+e+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(S(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(r.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),r.attr(i)[s?"attr":"animate"](this.getPlotBox(e)),r}getPlotBox(t){let e=this.xAxis,i=this.yAxis;const o=this.chart;return t=o.inverted&&!o.polar&&e&&!1!==this.invertible&&"series"===t,o.inverted&&(e=i,i=this.xAxis),{translateX:e?e.left:o.plotLeft,translateY:i?i.top:o.plotTop,rotation:t?90:0,rotationOriginX:t?(e.len-i.len)/2:0,rotationOriginY:t?(e.len+i.len)/2:0,scaleX:t?-1:1,scaleY:1}}removeEvents(t){t||k(this),this.eventsToUnbind.length&&(this.eventsToUnbind.forEach((function(t){t()})),this.eventsToUnbind.length=0)}render(){const t=this;var e=t.chart;const i=t.options,o=u(i.animation),n=t.visible?"inherit":"hidden",r=i.zIndex,s=t.hasRendered;e=e.seriesGroup;let a=t.finishedAnimating?0:o.duration;T(this,"render"),t.plotGroup("group","series",n,r,e),t.markerGroup=t.plotGroup("markerGroup","markers",n,r,e),!1!==i.clip&&t.setClip(),t.animate&&a&&t.animate(!0),t.drawGraph&&(t.drawGraph(),t.applyZones()),t.visible&&t.drawPoints(),t.drawDataLabels&&t.drawDataLabels(),t.redrawPoints&&t.redrawPoints(),t.drawTracker&&!1!==t.options.enableMouseTracking&&t.drawTracker(),t.animate&&a&&t.animate(),s||(a&&o.defer&&(a+=o.defer),t.animationTimeout=B((function(){t.afterAnimate()}),a||0)),t.isDirty=!1,t.hasRendered=!0,T(t,"afterRender")}redraw(){const t=this.isDirty||this.isDirtyData;this.translate(),this.render(),t&&delete this.kdTree}searchPoint(t,e){const i=this.xAxis,o=this.yAxis,n=this.chart.inverted;return this.searchKDTree({clientX:n?i.len-t.chartY+i.pos:t.chartX-i.pos,plotY:n?o.len-t.chartX+o.pos:t.chartY-o.pos},e,t)}buildKDTree(t){function e(t,o,n){var r=t&&t.length;let s;if(r)return s=i.kdAxisArray[o%n],t.sort((function(t,e){return t[s]-e[s]})),{point:t[r=Math.floor(r/2)],left:e(t.slice(0,r),o+1,n),right:e(t.slice(r+1),o+1,n)}}this.buildingKdTree=!0;const i=this,o=-1<i.options.findNearestPointBy.indexOf("y")?2:1;delete i.kdTree,B((function(){i.kdTree=e(i.getValidPoints(null,!i.directTouch),o,o),i.buildingKdTree=!1}),i.options.kdNow||t&&"touchstart"===t.type?0:1)}searchKDTree(t,e,i){const o=this,n=this.kdAxisArray[0],r=this.kdAxisArray[1],s=e?"distX":"dist";if(e=-1<o.options.findNearestPointBy.indexOf("y")?2:1,this.kdTree||this.buildingKdTree||this.buildKDTree(i),this.kdTree)return function t(e,i,a,l){const c=i.point;var u=o.kdAxisArray[a%l];let h=c;var d=S(e[n])&&S(c[n])?Math.pow(e[n]-c[n],2):null,p=S(e[r])&&S(c[r])?Math.pow(e[r]-c[r],2):null;return p=(d||0)+(p||0),c.dist=S(p)?Math.sqrt(p):Number.MAX_VALUE,c.distX=S(d)?Math.sqrt(d):Number.MAX_VALUE,d=0>(u=e[u]-c[u])?"right":"left",i[p=0>u?"left":"right"]&&(h=(p=t(e,i[p],a+1,l))[s]<h[s]?p:c),i[d]&&Math.sqrt(u*u)<h[s]&&(h=(e=t(e,i[d],a+1,l))[s]<h[s]?e:h),h}(t,this.kdTree,e,e)}pointPlacementToXValue(){const{options:{pointPlacement:t,pointRange:e},xAxis:i}=this;let o=t;return"between"===o&&(o=i.reversed?-.5:.5),A(o)?o*(e||i.pointRange):0}isPointInside(t){const{chart:e,xAxis:i,yAxis:o}=this;return void 0!==t.plotY&&void 0!==t.plotX&&0<=t.plotY&&t.plotY<=(o?o.len:e.plotHeight)&&0<=t.plotX&&t.plotX<=(i?i.len:e.plotWidth)}drawTracker(){const t=this,e=t.options,i=e.trackByArea,o=[].concat(i?t.areaPath:t.graphPath),n=t.chart,r=n.pointer,s=n.renderer,a=n.options.tooltip.snap,l=t.tracker,c=function(e){n.hoverSeries!==t&&t.onMouseOver()},u="rgba(192,192,192,"+(g?1e-4:.002)+")";l?l.attr({d:o}):t.graph&&(t.tracker=s.path(o).attr({visibility:t.visible?"inherit":"hidden",zIndex:2}).addClass(i?"highcharts-tracker-area":"highcharts-tracker-line").add(t.group),n.styledMode||t.tracker.attr({"stroke-linecap":"round","stroke-linejoin":"round",stroke:u,fill:i?u:"none","stroke-width":t.graph.strokeWidth()+(i?0:2*a)}),[t.tracker,t.markerGroup,t.dataLabelsGroup].forEach((function(t){t&&(t.addClass("highcharts-tracker").on("mouseover",c).on("mouseout",(function(t){r.onTrackerMouseOut(t)})),e.cursor&&!n.styledMode&&t.css({cursor:e.cursor}),f)&&t.on("touchstart",c)}))),T(this,"afterDrawTracker")}addPoint(t,e,i,o,n){const r=this.options,s=this.data,a=this.chart;var l=this.xAxis;l=l&&l.hasNames&&l.names;const c=r.data,u=this.xData;let h,d;e=N(e,!0);const p={series:this};this.pointClass.prototype.applyOptions.apply(p,[t]);const f=p.x;if(d=u.length,this.requireSorting&&f<u[d-1])for(h=!0;d&&u[d-1]>f;)d--;this.updateParallelArrays(p,"splice",[d,0,0]),this.updateParallelArrays(p,d),l&&p.name&&(l[f]=p.name),c.splice(d,0,t),(h||this.processedData)&&(this.data.splice(d,0,null),this.processData()),"point"===r.legendType&&this.generatePoints(),i&&(s[0]&&s[0].remove?s[0].remove(!1):(s.shift(),this.updateParallelArrays(p,"shift"),c.shift())),!1!==n&&T(this,"addPoint",{point:p}),this.isDirtyData=this.isDirty=!0,e&&a.redraw(o)}removePoint(t,e,i){const o=this,n=o.data,r=n[t],s=o.points,a=o.chart,l=function(){s&&s.length===n.length&&s.splice(t,1),n.splice(t,1),o.options.data.splice(t,1),o.updateParallelArrays(r||{series:o},"splice",[t,1]),r&&r.destroy(),o.isDirty=!0,o.isDirtyData=!0,e&&a.redraw()};h(i,a),e=N(e,!0),r?r.firePointEvent("remove",null,l):l()}remove(t,e,i,o){function n(){r.destroy(o),s.isDirtyLegend=s.isDirtyBox=!0,s.linkSeries(o),N(t,!0)&&s.redraw(e)}const r=this,s=r.chart;!1!==i?T(r,"remove",null,n):n()}update(t,e){t=b(t,this.userOptions),T(this,"update",{options:t});const i=this,o=i.chart;var n=i.userOptions;const r=i.initialType||i.type;var s=o.options.plotOptions;const a=y[r].prototype;var l=i.finishedAnimating&&{animation:!1};const c={};let u,h=["eventOptions","navigatorSeries","baseSeries"],d=t.type||n.type||o.options.chart.type;const p=!(this.hasDerivedData||d&&d!==this.type||void 0!==t.pointStart||void 0!==t.pointInterval||void 0!==t.relativeXValue||t.joinBy||t.mapData||i.hasOptionChanged("dataGrouping")||i.hasOptionChanged("pointStart")||i.hasOptionChanged("pointInterval")||i.hasOptionChanged("pointIntervalUnit")||i.hasOptionChanged("keys"));if(d=d||r,p&&(h.push("data","isDirtyData","points","processedData","processedXData","processedYData","xIncrement","cropped","_hasPointMarkers","_hasPointLabels","clips","nodes","layout","level","mapMap","mapData","minY","maxY","minX","maxX"),!1!==t.visible&&h.push("area","graph"),i.parallelArrays.forEach((function(t){h.push(t+"Data")})),t.data&&(t.dataSorting&&x(i.options.dataSorting,t.dataSorting),this.setData(t.data,!1))),t=L(n,l,{index:void 0===n.index?i.index:n.index,pointStart:N(s&&s.series&&s.series.pointStart,n.pointStart,i.xData[0])},!p&&{data:i.options.data},t),p&&t.data&&(t.data=i.options.data),h=["group","markerGroup","dataLabelsGroup","transformGroup"].concat(h),h.forEach((function(t){h[t]=i[t],delete i[t]})),s=!1,y[d]){if(s=d!==i.type,i.remove(!1,!1,!1,!0),s)if(Object.setPrototypeOf)Object.setPrototypeOf(i,y[d].prototype);else{for(u in l=Object.hasOwnProperty.call(i,"hcEvents")&&i.hcEvents,a)i[u]=void 0;x(i,y[d].prototype),l?i.hcEvents=l:delete i.hcEvents}}else O(17,!0,o,{missingModuleFor:d});if(h.forEach((function(t){i[t]=h[t]})),i.init(o,t),p&&this.points){if(!1===(t=i.options).visible)c.graphic=1,c.dataLabel=1;else if(!i._hasPointLabels){const{marker:e,dataLabels:i}=t;n=n.marker||{},!e||!1!==e.enabled&&n.symbol===e.symbol&&n.height===e.height&&n.width===e.width||(c.graphic=1),i&&!1===i.enabled&&(c.dataLabel=1)}for(const e of this.points)e&&e.series&&(e.resolveColor(),Object.keys(c).length&&e.destroyElements(c),!1===t.showInLegend&&e.legendItem&&o.legend.destroyItem(e))}i.initialType=r,o.linkSeries(),s&&i.linkedSeries.length&&(i.isDirtyData=!0),T(this,"afterUpdate"),N(e,!0)&&o.redraw(!!p&&void 0)}setName(t){this.name=this.options.name=this.userOptions.name=t,this.chart.isDirtyLegend=!0}hasOptionChanged(t){const e=this.options[t],i=this.chart.options.plotOptions,o=this.userOptions[t];return o?e!==o:e!==N(i&&i[this.type]&&i[this.type][t],i&&i.series&&i.series[t],e)}onMouseOver(){const t=this.chart,e=t.hoverSeries;t.pointer.setHoverChartIndex(),e&&e!==this&&e.onMouseOut(),this.options.events.mouseOver&&T(this,"mouseOver"),this.setState("hover"),t.hoverSeries=this}onMouseOut(){const t=this.options,e=this.chart,i=e.tooltip,o=e.hoverPoint;e.hoverSeries=null,o&&o.onMouseOut(),this&&t.events.mouseOut&&T(this,"mouseOut"),!i||this.stickyTracking||i.shared&&!this.noSharedTooltip||i.hide(),e.series.forEach((function(t){t.setState("",!0)}))}setState(t,e){const i=this;var o=i.options;const n=i.graph,r=o.inactiveOtherPoints,s=o.states,a=N(s[t||"normal"]&&s[t||"normal"].animation,i.chart.options.chart.animation);let l=o.lineWidth,c=0,u=o.opacity;if(t=t||"",i.state!==t&&([i.group,i.markerGroup,i.dataLabelsGroup].forEach((function(e){e&&(i.state&&e.removeClass("highcharts-series-"+i.state),t&&e.addClass("highcharts-series-"+t))})),i.state=t,!i.chart.styledMode)){if(s[t]&&!1===s[t].enabled)return;if(t&&(l=s[t].lineWidth||l+(s[t].lineWidthPlus||0),u=N(s[t].opacity,u)),n&&!n.dashstyle&&A(l))for(o={"stroke-width":l},n.animate(o,a);i["zone-graph-"+c];)i["zone-graph-"+c].animate(o,a),c+=1;r||[i.group,i.markerGroup,i.dataLabelsGroup,i.labelBySeries].forEach((function(t){t&&t.animate({opacity:u},a)}))}e&&r&&i.points&&i.setAllPointsToState(t||void 0)}setAllPointsToState(t){this.points.forEach((function(e){e.setState&&e.setState(t)}))}setVisible(t,e){const i=this,o=i.chart,n=o.options.chart.ignoreHiddenSeries,r=i.visible,s=(i.visible=t=i.options.visible=i.userOptions.visible=void 0===t?!r:t)?"show":"hide";["group","dataLabelsGroup","markerGroup","tracker","tt"].forEach((function(t){i[t]&&i[t][s]()})),o.hoverSeries!==i&&(o.hoverPoint&&o.hoverPoint.series)!==i||i.onMouseOut(),i.legendItem&&o.legend.colorizeItem(i,t),i.isDirty=!0,i.options.stacking&&o.series.forEach((function(t){t.options.stacking&&t.visible&&(t.isDirty=!0)})),i.linkedSeries.forEach((function(e){e.setVisible(t,!1)})),n&&(o.isDirtyBox=!0),T(i,s),!1!==e&&o.redraw()}show(){this.setVisible(!0)}hide(){this.setVisible(!1)}select(t){this.selected=t=this.options.selected=void 0===t?!this.selected:t,this.checkbox&&(this.checkbox.checked=t),T(this,t?"select":"unselect")}shouldShowTooltip(t,e,i={}){return i.series=this,i.visiblePlotOnly=!0,this.chart.isInsidePlot(t,e,i)}drawLegendSymbol(t,e){var i;null===(i=n[this.options.legendSymbol||"rectangle"])||void 0===i||i.call(this,t,e)}}return G.defaultOptions=s,G.types=a.seriesTypes,G.registerType=a.registerSeriesType,x(G.prototype,{axisTypes:["xAxis","yAxis"],coll:"series",colorCounter:0,cropShoulder:1,directTouch:!1,isCartesian:!0,kdAxisArray:["clientX","plotY"],parallelArrays:["x","y"],pointClass:r,requireSorting:!0,sorted:!0}),a.series=G,G})),e(i,"Extensions/ScrollablePlotArea.js",[i["Core/Animation/AnimationUtilities.js"],i["Core/Axis/Axis.js"],i["Core/Chart/Chart.js"],i["Core/Series/Series.js"],i["Core/Renderer/RendererRegistry.js"],i["Core/Utilities.js"]],(function(t,e,i,o,n,r){const{stop:s}=t,{addEvent:a,createElement:l,defined:c,merge:u,pick:h}=r;a(i,"afterSetChartSize",(function(t){var i=this.options.chart.scrollablePlotArea,o=i&&i.minWidth;let n;i=i&&i.minHeight,this.renderer.forExport||(o?(this.scrollablePixelsX=o=Math.max(0,o-this.chartWidth))&&(this.scrollablePlotBox=this.renderer.scrollablePlotBox=u(this.plotBox),this.plotBox.width=this.plotWidth+=o,this.inverted?this.clipBox.height+=o:this.clipBox.width+=o,n={1:{name:"right",value:o}}):i&&(this.scrollablePixelsY=o=Math.max(0,i-this.chartHeight),c(o)&&(this.scrollablePlotBox=this.renderer.scrollablePlotBox=u(this.plotBox),this.plotBox.height=this.plotHeight+=o,this.inverted?this.clipBox.width+=o:this.clipBox.height+=o,n={2:{name:"bottom",value:o}})),n&&!t.skipAxes&&this.axes.forEach((function(t){n[t.side]?t.getPlotLinePath=function(){let i,o=n[t.side].name,r=this[o];return this[o]=r-n[t.side].value,i=e.prototype.getPlotLinePath.apply(this,arguments),this[o]=r,i}:(t.setAxisSize(),t.setAxisTranslation())})))})),a(i,"render",(function(){this.scrollablePixelsX||this.scrollablePixelsY?(this.setUpScrolling&&this.setUpScrolling(),this.applyFixed()):this.fixedDiv&&this.applyFixed()})),i.prototype.setUpScrolling=function(){const t={WebkitOverflowScrolling:"touch",overflowX:"hidden",overflowY:"hidden"};let e;this.scrollablePixelsX&&(t.overflowX="auto"),this.scrollablePixelsY&&(t.overflowY="auto"),this.scrollingParent=l("div",{className:"highcharts-scrolling-parent"},{position:"relative"},this.renderTo),this.scrollingContainer=l("div",{className:"highcharts-scrolling"},t,this.scrollingParent),a(this.scrollingContainer,"scroll",(()=>{this.pointer&&(delete this.pointer.chartPosition,this.hoverPoint&&(e=this.hoverPoint),this.pointer.runPointActions(void 0,e,!0))})),this.innerContainer=l("div",{className:"highcharts-inner-container"},null,this.scrollingContainer),this.innerContainer.appendChild(this.container),this.setUpScrolling=null},i.prototype.moveFixedElements=function(){let t,e=this.container,i=this.fixedRenderer,o=".highcharts-breadcrumbs-group .highcharts-contextbutton .highcharts-credits .highcharts-legend .highcharts-legend-checkbox .highcharts-navigator-series .highcharts-navigator-xaxis .highcharts-navigator-yaxis .highcharts-navigator .highcharts-reset-zoom .highcharts-drillup-button .highcharts-scrollbar .highcharts-subtitle .highcharts-title".split(" ");this.scrollablePixelsX&&!this.inverted?t=".highcharts-yaxis":this.scrollablePixelsX&&this.inverted||this.scrollablePixelsY&&!this.inverted?t=".highcharts-xaxis":this.scrollablePixelsY&&this.inverted&&(t=".highcharts-yaxis"),t&&o.push(`${t}:not(.highcharts-radial-axis)`,`${t}-labels:not(.highcharts-radial-axis-labels)`),o.forEach((function(t){[].forEach.call(e.querySelectorAll(t),(function(t){(t.namespaceURI===i.SVG_NS?i.box:i.box.parentNode).appendChild(t),t.style.pointerEvents="auto"}))}))},i.prototype.applyFixed=function(){var t=!this.fixedDiv,e=this.options.chart,i=e.scrollablePlotArea,o=n.getRendererType();t?(this.fixedDiv=l("div",{className:"highcharts-fixed"},{position:"absolute",overflow:"hidden",pointerEvents:"none",zIndex:(e.style&&e.style.zIndex||0)+2,top:0},null,!0),this.scrollingContainer&&this.scrollingContainer.parentNode.insertBefore(this.fixedDiv,this.scrollingContainer),this.renderTo.style.overflow="visible",this.fixedRenderer=e=new o(this.fixedDiv,this.chartWidth,this.chartHeight,this.options.chart.style),this.scrollableMask=e.path().attr({fill:this.options.chart.backgroundColor||"#fff","fill-opacity":h(i.opacity,.85),zIndex:-1}).addClass("highcharts-scrollable-mask").add(),a(this,"afterShowResetZoom",this.moveFixedElements),a(this,"afterApplyDrilldown",this.moveFixedElements),a(this,"afterLayOutTitles",this.moveFixedElements)):this.fixedRenderer.setSize(this.chartWidth,this.chartHeight),(this.scrollableDirty||t)&&(this.scrollableDirty=!1,this.moveFixedElements()),e=this.chartWidth+(this.scrollablePixelsX||0),o=this.chartHeight+(this.scrollablePixelsY||0),s(this.container),this.container.style.width=e+"px",this.container.style.height=o+"px",this.renderer.boxWrapper.attr({width:e,height:o,viewBox:[0,0,e,o].join(" ")}),this.chartBackground.attr({width:e,height:o}),this.scrollingContainer.style.height=this.chartHeight+"px",t&&(i.scrollPositionX&&(this.scrollingContainer.scrollLeft=this.scrollablePixelsX*i.scrollPositionX),i.scrollPositionY&&(this.scrollingContainer.scrollTop=this.scrollablePixelsY*i.scrollPositionY)),o=this.axisOffset,t=this.plotTop-o[0]-1,i=this.plotLeft-o[3]-1,e=this.plotTop+this.plotHeight+o[2]+1,o=this.plotLeft+this.plotWidth+o[1]+1;let r=this.plotLeft+this.plotWidth-(this.scrollablePixelsX||0),c=this.plotTop+this.plotHeight-(this.scrollablePixelsY||0);t=this.scrollablePixelsX?[["M",0,t],["L",this.plotLeft-1,t],["L",this.plotLeft-1,e],["L",0,e],["Z"],["M",r,t],["L",this.chartWidth,t],["L",this.chartWidth,e],["L",r,e],["Z"]]:this.scrollablePixelsY?[["M",i,0],["L",i,this.plotTop-1],["L",o,this.plotTop-1],["L",o,0],["Z"],["M",i,c],["L",i,this.chartHeight],["L",o,this.chartHeight],["L",o,c],["Z"]]:[["M",0,0]],"adjustHeight"!==this.redrawTrigger&&this.scrollableMask.attr({d:t})},a(e,"afterInit",(function(){this.chart.scrollableDirty=!0})),a(o,"show",(function(){this.chart.scrollableDirty=!0}))})),e(i,"Core/Axis/Stacking/StackItem.js",[i["Core/FormatUtilities.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],(function(t,e,i){const{format:o}=t,{series:n}=e,{destroyObjectProperties:r,fireEvent:s,isNumber:a,pick:l}=i;return class{constructor(t,e,i,o,n){const r=t.chart.inverted,s=t.reversed;this.axis=t,t=this.isNegative=!!i!=!!s,this.options=e=e||{},this.x=o,this.cumulative=this.total=null,this.points={},this.hasValidPoints=!1,this.stack=n,this.rightCliff=this.leftCliff=0,this.alignOptions={align:e.align||(r?t?"left":"right":"center"),verticalAlign:e.verticalAlign||(r?"middle":t?"bottom":"top"),y:e.y,x:e.x},this.textAlign=e.textAlign||(r?t?"right":"left":"center")}destroy(){r(this,this.axis)}render(t){const e=this.axis.chart,i=this.options;var n=i.format;n=n?o(n,this,e):i.formatter.call(this),this.label?this.label.attr({text:n,visibility:"hidden"}):(this.label=e.renderer.label(n,null,void 0,i.shape,void 0,void 0,i.useHTML,!1,"stack-labels"),n={r:i.borderRadius||0,text:n,padding:l(i.padding,5),visibility:"hidden"},e.styledMode||(n.fill=i.backgroundColor,n.stroke=i.borderColor,n["stroke-width"]=i.borderWidth,this.label.css(i.style||{})),this.label.attr(n),this.label.added||this.label.add(t)),this.label.labelrank=e.plotSizeY,s(this,"afterRender")}setOffset(t,e,i,o,r,c){const{alignOptions:u,axis:h,label:d,options:p,textAlign:f}=this,g=h.chart;i=this.getStackBox({xOffset:t,width:e,boxBottom:i,boxTop:o,defaultX:r,xAxis:c});var{verticalAlign:m}=u;if(d&&i){o=d.getBBox(),r=d.padding,c="justify"===l(p.overflow,"justify"),u.x=p.x||0,u.y=p.y||0;const{x:t,y:e}=this.adjustStackPosition({labelBox:o,verticalAlign:m,textAlign:f});i.x-=t,i.y-=e,d.align(u,!1,i),(m=g.isInsidePlot(d.alignAttr.x+u.x+t,d.alignAttr.y+u.y+e))||(c=!1),c&&n.prototype.justifyDataLabel.call(h,d,u,d.alignAttr,o,i),d.attr({x:d.alignAttr.x,y:d.alignAttr.y,rotation:p.rotation,rotationOriginX:o.width/2,rotationOriginY:o.height/2}),l(!c&&p.crop,!0)&&(m=a(d.x)&&a(d.y)&&g.isInsidePlot(d.x-r+d.width,d.y)&&g.isInsidePlot(d.x+r,d.y)),d[m?"show":"hide"]()}s(this,"afterSetOffset",{xOffset:t,width:e})}adjustStackPosition({labelBox:t,verticalAlign:e,textAlign:i}){const o={bottom:0,middle:1,top:2,right:1,center:0,left:-1};return{x:t.width/2+t.width/2*o[i],y:t.height/2*o[e]}}getStackBox(t){var e=this.axis;const i=e.chart,{boxTop:o,defaultX:n,xOffset:r,width:s,boxBottom:c}=t;var u=e.stacking.usePercentage?100:l(o,this.total,0);u=e.toPixels(u),t=t.xAxis||i.xAxis[0];const h=l(n,t.translate(this.x))+r;e=e.toPixels(c||a(e.min)&&e.logarithmic&&e.logarithmic.lin2log(e.min)||0),e=Math.abs(u-e);const d=this.isNegative;return i.inverted?{x:(d?u:u-e)-i.plotLeft,y:t.height-h-s,width:e,height:s}:{x:h+t.transB-i.plotLeft,y:(d?u-e:u)-i.plotTop,width:s,height:e}}}})),e(i,"Core/Axis/Stacking/StackingAxis.js",[i["Core/Animation/AnimationUtilities.js"],i["Core/Axis/Axis.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Axis/Stacking/StackItem.js"],i["Core/Utilities.js"]],(function(t,e,i,o,n){function r(){const t=this,e=t.inverted;t.yAxis.forEach((t=>{t.stacking&&t.stacking.stacks&&t.hasVisibleSeries&&(t.stacking.oldStacks=t.stacking.stacks)})),t.series.forEach((i=>{const o=i.xAxis&&i.xAxis.options||{};!i.options.stacking||!0!==i.visible&&!1!==t.options.chart.ignoreHiddenSeries||(i.stackKey=[i.type,S(i.options.stack,""),e?o.top:o.left,e?o.height:o.width].join())}))}function s(){const t=this.stacking;if(t){var e=t.stacks;E(e,(function(t,i){v(t),e[i]=null})),t&&t.stackTotalGroup&&t.stackTotalGroup.destroy()}}function a(){"yAxis"!==this.coll||this.stacking||(this.stacking=new w(this))}function l(t,e,i,o){return!y(t)||t.x!==e||o&&t.stackKey!==o?t={x:e,index:0,key:o,stackKey:o}:t.index++,t.key=[i,e,t.index].join(),t}function c(){const t=this,e=t.stackKey,i=t.yAxis.stacking.stacks,o=t.processedXData,n=t[t.options.stacking+"Stacker"];let r;n&&[e,"-"+e].forEach((e=>{let s,a=o.length;for(;a--;){var l=o[a];r=t.getStackIndicator(r,l,t.index,e),(s=(l=i[e]&&i[e][l])&&l.points[r.key])&&n.call(t,s,l,a)}}))}function u(t,e,i){e=e.total?100/e.total:0,t[0]=m(t[0]*e),t[1]=m(t[1]*e),this.stackedYData[i]=t[1]}function h(){const t=this.yAxis.stacking;this.options.centerInCategory&&(this.is("column")||this.is("columnrange"))&&!this.options.stacking&&1<this.chart.series.length?f.setStackedPoints.call(this,"group"):t&&E(t.stacks,((e,i)=>{"group"===i.slice(-5)&&(E(e,(t=>t.destroy())),delete t.stacks[i])}))}function d(t){var e=this.chart;const i=t||this.options.stacking;if(i&&(!0===this.visible||!1===e.options.chart.ignoreHiddenSeries)){var n=this.processedXData,r=this.processedYData,s=[],a=r.length,l=this.options,c=l.threshold,u=S(l.startFromThreshold&&c,0);l=l.stack;var h,d,p="-"+(t=t?`${this.type},${i}`:this.stackKey),f=this.negStacks,g=(e="group"===i?e.yAxis[0]:this.yAxis).stacking.stacks,v=e.stacking.oldStacks;for(e.stacking.stacksTouched+=1,d=0;d<a;d++){var _=n[d],b=r[d],E=this.getStackIndicator(E,_,this.index),w=E.key,O=(h=f&&b<(u?0:c))?p:t;g[O]||(g[O]={}),g[O][_]||(v[O]&&v[O][_]?(g[O][_]=v[O][_],g[O][_].total=null):g[O][_]=new o(e,e.options.stackLabels,!!h,_,l)),O=g[O][_],null!==b?(O.points[w]=O.points[this.index]=[S(O.cumulative,u)],y(O.cumulative)||(O.base=w),O.touched=e.stacking.stacksTouched,0<E.index&&!1===this.singleStacks&&(O.points[w][0]=O.points[this.index+","+_+",0"][0])):O.points[w]=O.points[this.index]=null,"percent"===i?(h=h?t:p,f&&g[h]&&g[h][_]?(h=g[h][_],O.total=h.total=Math.max(h.total,O.total)+Math.abs(b)||0):O.total=m(O.total+(Math.abs(b)||0))):"group"===i?(C(b)&&(b=b[0]),null!==b&&(O.total=(O.total||0)+1)):O.total=m(O.total+(b||0)),O.cumulative="group"===i?(O.total||1)-1:m(S(O.cumulative,u)+(b||0)),null!==b&&(O.points[w].push(O.cumulative),s[d]=O.cumulative,O.hasValidPoints=!0)}"percent"===i&&(e.stacking.usePercentage=!0),"group"!==i&&(this.stackedYData=s),e.stacking.oldStacks={}}}const{getDeferredAnimation:p}=t,{series:{prototype:f}}=i,{addEvent:g,correctFloat:m,defined:y,destroyObjectProperties:v,fireEvent:_,isArray:C,isNumber:b,objectEach:E,pick:S}=n;class w{constructor(t){this.oldStacks={},this.stacks={},this.stacksTouched=0,this.axis=t}buildStacks(){const t=this.axis,e=t.series,i=t.options.reversedStacks,o=e.length;let n,r;for(this.usePercentage=!1,r=o;r--;)n=e[i?r:o-r-1],n.setStackedPoints(),n.setGroupedPoints();for(r=0;r<o;r++)e[r].modifyStacks();_(t,"afterBuildStacks")}cleanStacks(){let t;this.oldStacks&&(t=this.stacks=this.oldStacks),E(t,(function(t){E(t,(function(t){t.cumulative=t.total}))}))}resetStacks(){E(this.stacks,(t=>{E(t,((e,i)=>{b(e.touched)&&e.touched<this.stacksTouched?(e.destroy(),delete t[i]):(e.total=null,e.cumulative=null)}))}))}renderStackTotals(){var t=this.axis;const e=t.chart,i=e.renderer,o=this.stacks;t=p(e,t.options.stackLabels&&t.options.stackLabels.animation||!1);const n=this.stackTotalGroup=this.stackTotalGroup||i.g("stack-labels").attr({zIndex:6,opacity:0}).add();n.translate(e.plotLeft,e.plotTop),E(o,(function(t){E(t,(function(t){t.render(n)}))})),n.animate({opacity:1},t)}}var O;return function(t){const e=[];t.compose=function(t,i,o){n.pushUnique(e,t)&&(g(t,"init",a),g(t,"destroy",s)),n.pushUnique(e,i)&&(i.prototype.getStacks=r),n.pushUnique(e,o)&&((t=o.prototype).getStackIndicator=l,t.modifyStacks=c,t.percentStacker=u,t.setGroupedPoints=h,t.setStackedPoints=d)}}(O||(O={})),O})),e(i,"Series/Line/LineSeries.js",[i["Core/Series/Series.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],(function(t,e,i){const{defined:o,merge:n}=i;class r extends t{constructor(){super(...arguments),this.points=this.options=this.data=void 0}drawGraph(){const t=this,e=this.options,i=(this.gappedPath||this.getGraphPath).call(this),o=this.chart.styledMode;let n=[["graph","highcharts-graph"]];o||n[0].push(e.lineColor||this.color||"#cccccc",e.dashStyle),n=t.getZonesGraphs(n),n.forEach((function(n,r){var s=n[0];let a=t[s];const l=a?"animate":"attr";a?(a.endX=t.preventGraphAnimation?null:i.xMap,a.animate({d:i})):i.length&&(t[s]=a=t.chart.renderer.path(i).addClass(n[1]).attr({zIndex:1}).add(t.group)),a&&!o&&(s={stroke:n[2],"stroke-width":e.lineWidth||0,fill:t.fillGraph&&t.color||"none"},n[3]?s.dashstyle=n[3]:"square"!==e.linecap&&(s["stroke-linecap"]=s["stroke-linejoin"]="round"),a[l](s).shadow(2>r&&e.shadow)),a&&(a.startX=i.xMap,a.isArea=i.isArea)}))}getGraphPath(t,e,i){const n=this,r=n.options,s=[],a=[];let l,c=r.step;const u=(t=t||n.points).reversed;return u&&t.reverse(),(c={right:1,center:2}[c]||c&&3)&&u&&(c=4-c),(t=this.getValidPoints(t,!1,!(r.connectNulls&&!e&&!i))).forEach((function(u,h){const d=u.plotX,p=u.plotY,f=t[h-1],g=u.isNull||"number"!=typeof p;(u.leftCliff||f&&f.rightCliff)&&!i&&(l=!0),g&&!o(e)&&0<h?l=!r.connectNulls:g&&!e?l=!0:(0===h||l?h=[["M",u.plotX,u.plotY]]:n.getPointSpline?h=[n.getPointSpline(t,u,h)]:c?(h=1===c?[["L",f.plotX,p]]:2===c?[["L",(f.plotX+d)/2,f.plotY],["L",(f.plotX+d)/2,p]]:[["L",d,f.plotY]]).push(["L",d,p]):h=[["L",d,p]],a.push(u.x),c&&(a.push(u.x),2===c&&a.push(u.x)),s.push.apply(s,h),l=!1)})),s.xMap=a,n.graphPath=s}getZonesGraphs(t){return this.zones.forEach((function(e,i){i=["zone-graph-"+i,"highcharts-graph highcharts-zone-graph-"+i+" "+(e.className||"")],this.chart.styledMode||i.push(e.color||this.color,e.dashStyle||this.options.dashStyle),t.push(i)}),this),t}}return r.defaultOptions=n(t.defaultOptions,{legendSymbol:"lineMarker"}),e.registerSeriesType("line",r),r})),e(i,"Series/Area/AreaSeries.js",[i["Core/Color/Color.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],(function(t,e,i){const{parse:o}=t,{seriesTypes:{line:n}}=e,{extend:r,merge:s,objectEach:a,pick:l}=i;class c extends n{constructor(){super(...arguments),this.points=this.options=this.data=void 0}drawGraph(){this.areaPath=[],super.drawGraph.apply(this);const t=this,e=this.areaPath,i=this.options,n=[["area","highcharts-area",this.color,i.fillColor]];this.zones.forEach((function(e,o){n.push(["zone-area-"+o,"highcharts-area highcharts-zone-area-"+o+" "+e.className,e.color||t.color,e.fillColor||i.fillColor])})),n.forEach((function(n){const r=n[0],s={};let a=t[r];const c=a?"animate":"attr";a?(a.endX=t.preventGraphAnimation?null:e.xMap,a.animate({d:e})):(s.zIndex=0,a=t[r]=t.chart.renderer.path(e).addClass(n[1]).add(t.group),a.isArea=!0),t.chart.styledMode||(s.fill=l(n[3],o(n[2]).setOpacity(l(i.fillOpacity,.75)).get())),a[c](s),a.startX=e.xMap,a.shiftUnit=i.step?2:1}))}getGraphPath(t){var e=n.prototype.getGraphPath,i=this.options;const o=i.stacking,r=this.yAxis,s=[],a=[],c=this.index,u=r.stacking.stacks[this.stackKey],h=i.threshold,d=Math.round(r.getThreshold(i.threshold));i=l(i.connectNulls,"percent"===o);var p=function(e,i,n){var l=t[e];e=o&&u[l.x].points[c];const p=l[n+"Null"]||0;let g,m;n=l[n+"Cliff"]||0,l=!0,n||p?(g=(p?e[0]:e[1])+n,m=e[0]+n,l=!!p):!o&&t[i]&&t[i].isNull&&(g=m=h),void 0!==g&&(a.push({plotX:f,plotY:null===g?d:r.getThreshold(g),isNull:l,isCliff:!0}),s.push({plotX:f,plotY:null===m?d:r.getThreshold(m),doCurve:!1}))};let f;t=t||this.points,o&&(t=this.getStackPoints(t));for(let e=0,n=t.length;e<n;++e){o||(t[e].leftCliff=t[e].rightCliff=t[e].leftNull=t[e].rightNull=void 0);var g=t[e].isNull;f=l(t[e].rectPlotX,t[e].plotX);var m=o?l(t[e].yBottom,d):d;g&&!i||(i||p(e,e-1,"left"),g&&!o&&i||(a.push(t[e]),s.push({x:e,plotX:f,plotY:m})),i||p(e,e+1,"right"))}return p=e.call(this,a,!0,!0),s.reversed=!0,(m=(g=e.call(this,s,!0,!0))[0])&&"M"===m[0]&&(g[0]=["L",m[1],m[2]]),(g=p.concat(g)).length&&g.push(["Z"]),e=e.call(this,a,!1,i),g.xMap=p.xMap,this.areaPath=g,e}getStackPoints(t){const e=this,i=[],o=[],n=this.xAxis,r=this.yAxis,s=r.stacking.stacks[this.stackKey],c={},u=r.series,h=u.length,d=r.options.reversedStacks?1:-1,p=u.indexOf(e);if(t=t||this.points,this.options.stacking){for(let e=0;e<t.length;e++)t[e].leftNull=t[e].rightNull=void 0,c[t[e].x]=t[e];a(s,(function(t,e){null!==t.total&&o.push(e)})),o.sort((function(t,e){return t-e}));const f=u.map((t=>t.visible));o.forEach((function(t,a){let g,m,y=0;if(c[t]&&!c[t].isNull)i.push(c[t]),[-1,1].forEach((function(i){const n=1===i?"rightNull":"leftNull",r=s[o[a+i]];let l=0;if(r){let i=p;for(;0<=i&&i<h;){const o=u[i].index;g=r.points[o],g||(o===e.index?c[t][n]=!0:f[i]&&(m=s[t].points[o])&&(l-=m[1]-m[0])),i+=d}}c[t][1===i?"rightCliff":"leftCliff"]=l}));else{let e=p;for(;0<=e&&e<h;){if(g=s[t].points[u[e].index]){y=g[1];break}e+=d}y=l(y,0),y=r.translate(y,0,1,0,1),i.push({isNull:!0,plotX:n.translate(t,0,0,0,1),x:t,plotY:y,yBottom:y})}}))}return i}}return c.defaultOptions=s(n.defaultOptions,{threshold:0,legendSymbol:"rectangle"}),r(c.prototype,{singleStacks:!1}),e.registerSeriesType("area",c),c})),e(i,"Series/Spline/SplineSeries.js",[i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],(function(t,e){const{line:i}=t.seriesTypes,{merge:o,pick:n}=e;class r extends i{constructor(){super(...arguments),this.points=this.options=this.data=void 0}getPointSpline(t,e,i){const o=e.plotX||0,r=e.plotY||0,s=t[i-1];let a,l,c;if(i=t[i+1],s&&!s.isNull&&!1!==s.doCurve&&!e.isCliff&&i&&!i.isNull&&!1!==i.doCurve&&!e.isCliff){t=s.plotY||0;var u=i.plotX||0;i=i.plotY||0;let n=0;a=(1.5*o+(s.plotX||0))/2.5,l=(1.5*r+t)/2.5,c=(1.5*r+i)/2.5,(u=(1.5*o+u)/2.5)!==a&&(n=(c-l)*(u-o)/(u-a)+r-c),l+=n,c+=n,l>t&&l>r?(l=Math.max(t,r),c=2*r-l):l<t&&l<r&&(l=Math.min(t,r),c=2*r-l),c>i&&c>r?(c=Math.max(i,r),l=2*r-c):c<i&&c<r&&(c=Math.min(i,r),l=2*r-c),e.rightContX=u,e.rightContY=c}return e=["C",n(s.rightContX,s.plotX,0),n(s.rightContY,s.plotY,0),n(a,o,0),n(l,r,0),o,r],s.rightContX=s.rightContY=void 0,e}}return r.defaultOptions=o(i.defaultOptions),t.registerSeriesType("spline",r),r})),e(i,"Series/AreaSpline/AreaSplineSeries.js",[i["Series/Spline/SplineSeries.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],(function(t,e,i){const{area:o,area:{prototype:n}}=e.seriesTypes,{extend:r,merge:s}=i;class a extends t{constructor(){super(...arguments),this.options=this.points=this.data=void 0}}return a.defaultOptions=s(t.defaultOptions,o.defaultOptions),r(a.prototype,{getGraphPath:n.getGraphPath,getStackPoints:n.getStackPoints,drawGraph:n.drawGraph}),e.registerSeriesType("areaspline",a),a})),e(i,"Series/Column/ColumnSeriesDefaults.js",[],(function(){return{borderRadius:3,centerInCategory:!1,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:void 0,verticalAlign:void 0,y:void 0},startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"}})),e(i,"Series/Column/ColumnSeries.js",[i["Core/Animation/AnimationUtilities.js"],i["Core/Color/Color.js"],i["Series/Column/ColumnSeriesDefaults.js"],i["Core/Globals.js"],i["Core/Series/Series.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],(function(t,e,i,o,n,r,s){const{animObject:a}=t,{parse:l}=e,{hasTouch:c,noop:u}=o,{clamp:h,defined:d,extend:p,fireEvent:f,isArray:g,isNumber:m,merge:y,pick:v,objectEach:_}=s;class C extends n{constructor(){super(...arguments),this.points=this.options=this.group=this.data=this.borderWidth=void 0}animate(t){const e=this,i=this.yAxis,o=i.pos,n=e.options,r=this.chart.inverted,s={},l=r?"translateX":"translateY";let c;t?(s.scaleY=.001,t=h(i.toPixels(n.threshold),o,o+i.len),r?s.translateX=t-i.len:s.translateY=t,e.clipBox&&e.setClip(),e.group.attr(s)):(c=Number(e.group.attr(l)),e.group.animate({scaleY:1},p(a(e.options.animation),{step:function(t,i){e.group&&(s[l]=c+i.pos*(o-c),e.group.attr(s))}})))}init(t,e){super.init.apply(this,arguments);const i=this;(t=i.chart).hasRendered&&t.series.forEach((function(t){t.type===i.type&&(t.isDirty=!0)}))}getColumnMetrics(){const t=this;var e=t.options;const i=t.xAxis,o=t.yAxis;var n=i.options.reversedStacks;n=i.reversed&&!n||!i.reversed&&n;const r={};let s,a=0;!1===e.grouping?a=1:t.chart.series.forEach((function(e){const i=e.yAxis,n=e.options;let l;e.type!==t.type||!e.visible&&t.chart.options.chart.ignoreHiddenSeries||o.len!==i.len||o.pos!==i.pos||(n.stacking&&"group"!==n.stacking?(s=e.stackKey,void 0===r[s]&&(r[s]=a++),l=r[s]):!1!==n.grouping&&(l=a++),e.columnIndex=l)}));const l=Math.min(Math.abs(i.transA)*(i.ordinal&&i.ordinal.slope||e.pointRange||i.closestPointRange||i.tickInterval||1),i.len),c=l*e.groupPadding,u=(l-2*c)/(a||1);return e=Math.min(e.maxPointWidth||i.len,v(e.pointWidth,u*(1-2*e.pointPadding))),t.columnMetrics={width:e,offset:(u-e)/2+(c+((t.columnIndex||0)+(n?1:0))*u-l/2)*(n?-1:1),paddedWidth:u,columnCount:a},t.columnMetrics}crispCol(t,e,i,o){var n=this.borderWidth,r=-(n%2?.5:0);return n=n%2?.5:1,this.options.crisp&&(i=Math.round(t+i)+r,i-=t=Math.round(t)+r),o=Math.round(e+o)+n,r=.5>=Math.abs(e)&&.5<o,o-=e=Math.round(e)+n,r&&o&&(--e,o+=1),{x:t,y:e,width:i,height:o}}adjustForMissingColumns(t,e,i,o){const n=this.options.stacking;if(!i.isNull&&1<o.columnCount){const r=this.yAxis.options.reversedStacks;let s=0,a=r?0:-o.columnCount;_(this.yAxis.stacking&&this.yAxis.stacking.stacks,(t=>{if("number"==typeof i.x){const e=t[i.x.toString()];e&&(t=e.points[this.index],n?(t&&(s=a),e.hasValidPoints&&(r?a++:a--)):g(t)&&(t=Object.keys(e.points).filter((t=>!t.match(",")&&e.points[t]&&1<e.points[t].length)).map(parseFloat).sort(((t,e)=>e-t)),s=t.indexOf(this.index),a=t.length))}})),t=(i.plotX||0)+((a-1)*o.paddedWidth+e)/2-e-s*o.paddedWidth}return t}translate(){const t=this,e=t.chart,i=t.options;var o=t.dense=2>t.closestPointRange*t.xAxis.transA;o=t.borderWidth=v(i.borderWidth,o?0:1);const r=t.xAxis,s=t.yAxis,a=i.threshold,l=v(i.minPointLength,5),c=t.getColumnMetrics(),u=c.width,p=t.pointXOffset=c.offset,g=t.dataMin,y=t.dataMax;let _=t.barW=Math.max(u,1+2*o),C=t.translatedThreshold=s.getThreshold(a);e.inverted&&(C-=.5),i.pointPadding&&(_=Math.ceil(_)),n.prototype.translate.apply(t),t.points.forEach((function(o){const n=v(o.yBottom,C);var f=999+Math.abs(n),b=o.plotX||0;f=h(o.plotY,-f,s.len+f);let E=Math.min(f,n),S=Math.max(f,n)-E,w=u,O=b+p,x=_;l&&Math.abs(S)<l&&(S=l,b=!s.reversed&&!o.negative||s.reversed&&o.negative,m(a)&&m(y)&&o.y===a&&y<=a&&(s.min||0)<a&&(g!==y||(s.max||0)<=a)&&(b=!b),E=Math.abs(E-C)>l?n-l:C-(b?l:0)),d(o.options.pointWidth)&&(w=x=Math.ceil(o.options.pointWidth),O-=Math.round((w-u)/2)),i.centerInCategory&&(O=t.adjustForMissingColumns(O,w,o,c)),o.barX=O,o.pointWidth=w,o.tooltipPos=e.inverted?[h(s.len+s.pos-e.plotLeft-f,s.pos-e.plotLeft,s.len+s.pos-e.plotLeft),r.len+r.pos-e.plotTop-O-x/2,S]:[r.left-e.plotLeft+O+x/2,h(f+s.pos-e.plotTop,s.pos-e.plotTop,s.len+s.pos-e.plotTop),S],o.shapeType=t.pointClass.prototype.shapeType||"roundedRect",o.shapeArgs=t.crispCol(O,o.isNull?C:E,x,o.isNull?0:S)})),f(this,"afterColumnTranslate")}drawGraph(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")}pointAttribs(t,e){const i=this.options;var o=this.pointAttrToOptions||{},n=o.stroke||"borderColor";const r=o["stroke-width"]||"borderWidth";let s,a=t&&t.color||this.color,c=t&&t[n]||i[n]||a;o=t&&t.options.dashStyle||i.dashStyle;let u=t&&t[r]||i[r]||this[r]||0,h=v(t&&t.opacity,i.opacity,1);return t&&this.zones.length&&(s=t.getZone(),a=t.options.color||s&&(s.color||t.nonZonedColor)||this.color,s&&(c=s.borderColor||c,o=s.dashStyle||o,u=s.borderWidth||u)),e&&t&&(e=(t=y(i.states[e],t.options.states&&t.options.states[e]||{})).brightness,a=t.color||void 0!==e&&l(a).brighten(t.brightness).get()||a,c=t[n]||c,u=t[r]||u,o=t.dashStyle||o,h=v(t.opacity,h)),n={fill:a,stroke:c,"stroke-width":u,opacity:h},o&&(n.dashstyle=o),n}drawPoints(t=this.points){const e=this,i=this.chart,o=e.options,n=i.renderer,r=o.animationLimit||250;let s;t.forEach((function(t){let a=t.graphic,l=!!a,c=a&&i.pointCount<r?"animate":"attr";m(t.plotY)&&null!==t.y?(s=t.shapeArgs,a&&t.hasNewShapeType()&&(a=a.destroy()),e.enabledDataSorting&&(t.startXPos=e.xAxis.reversed?-(s&&s.width||0):e.xAxis.width),a||(t.graphic=a=n[t.shapeType](s).add(t.group||e.group))&&e.enabledDataSorting&&i.hasRendered&&i.pointCount<r&&(a.attr({x:t.startXPos}),l=!0,c="animate"),a&&l&&a[c](y(s)),i.styledMode||a[c](e.pointAttribs(t,t.selected&&"select")).shadow(!1!==t.allowShadow&&o.shadow),a&&(a.addClass(t.getClassName(),!0),a.attr({visibility:t.visible?"inherit":"hidden"}))):a&&(t.graphic=a.destroy())}))}drawTracker(t=this.points){const e=this,i=e.chart,o=i.pointer,n=function(t){const e=o.getPointFromEvent(t);void 0!==e&&(o.isDirectTouch=!0,e.onMouseOver(t))};let r;t.forEach((function(t){r=g(t.dataLabels)?t.dataLabels:t.dataLabel?[t.dataLabel]:[],t.graphic&&(t.graphic.element.point=t),r.forEach((function(e){e.div?e.div.point=t:e.element.point=t}))})),e._hasTracking||(e.trackerGroups.forEach((function(t){e[t]&&(e[t].addClass("highcharts-tracker").on("mouseover",n).on("mouseout",(function(t){o.onTrackerMouseOut(t)})),c&&e[t].on("touchstart",n),!i.styledMode&&e.options.cursor&&e[t].css({cursor:e.options.cursor}))})),e._hasTracking=!0),f(this,"afterDrawTracker")}remove(){const t=this,e=t.chart;e.hasRendered&&e.series.forEach((function(e){e.type===t.type&&(e.isDirty=!0)})),n.prototype.remove.apply(t,arguments)}}return C.defaultOptions=y(n.defaultOptions,i),p(C.prototype,{cropShoulder:0,directTouch:!0,getSymbol:u,negStacks:!0,trackerGroups:["group","dataLabelsGroup"]}),r.registerSeriesType("column",C),C})),e(i,"Core/Series/DataLabel.js",[i["Core/Animation/AnimationUtilities.js"],i["Core/FormatUtilities.js"],i["Core/Utilities.js"]],(function(t,e,i){const{getDeferredAnimation:o}=t,{format:n}=e,{defined:r,extend:s,fireEvent:a,isArray:l,isString:c,merge:u,objectEach:h,pick:d,splat:p}=i;var f;return function(t){function e(t,e,i,o,n){const a=this.chart;var l=this.isCartesian&&a.inverted;const c=this.enabledDataSorting;var u=t.plotX,h=t.plotY;const p=i.rotation;var f=i.align;h=r(u)&&r(h)&&a.isInsidePlot(u,Math.round(h),{inverted:l,paneCoordinates:!0,series:this});let g="justify"===d(i.overflow,c?"none":"justify");if(l=this.visible&&!1!==t.visible&&r(u)&&(t.series.forceDL||c&&!g||h||d(i.inside,!!this.options.stacking)&&o&&a.isInsidePlot(u,l?o.x+1:o.y+o.height-1,{inverted:l,paneCoordinates:!0,series:this})),u=t.pos(),l&&u){p&&e.attr({align:f}),f=e.getBBox(!0);var m=[0,0],y=a.renderer.fontMetrics(e).b;if(o=s({x:u[0],y:Math.round(u[1]),width:0,height:0},o),s(i,{width:f.width,height:f.height}),p?(g=!1,m=a.renderer.rotCorr(y,p),y={x:o.x+(i.x||0)+o.width/2+m.x,y:o.y+(i.y||0)+{top:0,middle:.5,bottom:1}[i.verticalAlign]*o.height},m=[f.x-Number(e.attr("x")),f.y-Number(e.attr("y"))],c&&this.xAxis&&!g&&this.setDataLabelStartPos(t,e,n,h,y),e[n?"attr":"animate"](y)):(c&&this.xAxis&&!g&&this.setDataLabelStartPos(t,e,n,h,o),e.align(i,void 0,o),y=e.alignAttr),g&&0<=o.height)this.justifyDataLabel(e,i,y,f,o,n);else if(d(i.crop,!0)){let{x:t,y:e}=y;t+=m[0],e+=m[1],l=a.isInsidePlot(t,e,{paneCoordinates:!0,series:this})&&a.isInsidePlot(t+f.width,e+f.height,{paneCoordinates:!0,series:this})}i.shape&&!p&&e[n?"attr":"animate"]({anchorX:u[0],anchorY:u[1]})}n&&c&&(e.placed=!1),l||c&&!g?e.show():(e.hide(),e.placed=!1)}function f(){return this.plotGroup("dataLabelsGroup","data-labels",this.hasRendered?"inherit":"hidden",this.options.dataLabels.zIndex||6)}function g(t){const e=this.hasRendered||0,i=this.initDataLabelsGroup().attr({opacity:+e});return!e&&i&&(this.visible&&i.show(),this.options.animation?i.animate({opacity:1},t):i.attr({opacity:1})),i}function m(t=this.points){const e=this,i=e.chart,s=e.options,u=i.renderer,{backgroundColor:f,plotBackgroundColor:g}=i.options.chart,m=u.getContrast(c(g)&&g||c(f)&&f||"#000000");let y,_,C=s.dataLabels;var b=p(C)[0];const E=b.animation;b=b.defer?o(i,E,e):{defer:0,duration:0},C=v(v(i.options.plotOptions&&i.options.plotOptions.series&&i.options.plotOptions.series.dataLabels,i.options.plotOptions&&i.options.plotOptions[e.type]&&i.options.plotOptions[e.type].dataLabels),C),a(this,"drawDataLabels"),(l(C)||C.enabled||e._hasPointLabels)&&(_=this.initDataLabels(b),t.forEach((t=>{y=p(v(C,t.dlOptions||t.options&&t.options.dataLabels)),y.forEach(((o,a)=>{const l=o.enabled&&(!t.isNull||t.dataLabelOnNull)&&function(t,e){var i=e.filter;return!i||(e=i.operator,t=t[i.property],i=i.value,">"===e&&t>i||"<"===e&&t<i||">="===e&&t>=i||"<="===e&&t<=i||"=="===e&&t==i||"==="===e&&t===i)}(t,o),c=t.connectors?t.connectors[a]:t.connector;let p,f,g=t.dataLabels?t.dataLabels[a]:t.dataLabel,y=!g;const v=d(o.distance,t.labelDistance);if(l){var C=t.getLabelConfig(),b=d(o[t.formatPrefix+"Format"],o.format);if(C=r(b)?n(b,C,i):(o[t.formatPrefix+"Formatter"]||o.formatter).call(C,o),b=o.style,p=o.rotation,i.styledMode||(b.color=d(o.color,b.color,e.color,"#000000"),"contrast"===b.color?(t.contrastColor=u.getContrast(t.color||e.color),b.color=!r(v)&&o.inside||0>v||s.stacking?t.contrastColor:m):delete t.contrastColor,s.cursor&&(b.cursor=s.cursor)),f={r:o.borderRadius||0,rotation:p,padding:o.padding,zIndex:1},!i.styledMode){const{backgroundColor:e,borderColor:i}=o;f.fill="auto"===e?t.color:e,f.stroke="auto"===i?t.color:i,f["stroke-width"]=o.borderWidth}h(f,(function(t,e){void 0===t&&delete f[e]}))}!g||l&&r(C)&&!!g.div==!!o.useHTML&&(g.rotation&&o.rotation||g.rotation===o.rotation)||(y=!0,t.dataLabel=g=t.dataLabel&&t.dataLabel.destroy(),t.dataLabels&&(1===t.dataLabels.length?delete t.dataLabels:delete t.dataLabels[a]),a||delete t.dataLabel,c&&(t.connector=t.connector.destroy(),t.connectors&&(1===t.connectors.length?delete t.connectors:delete t.connectors[a]))),l&&r(C)?(g?f.text=C:(t.dataLabels=t.dataLabels||[],g=t.dataLabels[a]=p?u.text(C,0,0,o.useHTML).addClass("highcharts-data-label"):u.label(C,0,0,o.shape,null,null,o.useHTML,null,"data-label"),a||(t.dataLabel=g),g.addClass(" highcharts-data-label-color-"+t.colorIndex+" "+(o.className||"")+(o.useHTML?" highcharts-tracker":""))),g.options=o,g.attr(f),i.styledMode||g.css(b).shadow(o.shadow),(a=o[t.formatPrefix+"TextPath"]||o.textPath)&&!o.useHTML&&(g.setTextPath(t.getDataLabelPath&&t.getDataLabelPath(g)||t.graphic,a),t.dataLabelPath&&!a.enabled&&(t.dataLabelPath=t.dataLabelPath.destroy())),g.added||g.add(_),e.alignDataLabel(t,g,o,null,y)):g&&g.hide()}))}))),a(this,"afterDrawDataLabels")}function y(t,e,i,o,n,r){const s=this.chart,a=e.align,l=e.verticalAlign,c=t.box?0:t.padding||0;let u,h,{x:d=0,y:p=0}=e;return u=(i.x||0)+c,0>u&&("right"===a&&0<=d?(e.align="left",e.inside=!0):d-=u,h=!0),u=(i.x||0)+o.width-c,u>s.plotWidth&&("left"===a&&0>=d?(e.align="right",e.inside=!0):d+=s.plotWidth-u,h=!0),u=i.y+c,0>u&&("bottom"===l&&0<=p?(e.verticalAlign="top",e.inside=!0):p-=u,h=!0),u=(i.y||0)+o.height-c,u>s.plotHeight&&("top"===l&&0>=p?(e.verticalAlign="bottom",e.inside=!0):p+=s.plotHeight-u,h=!0),h&&(e.x=d,e.y=p,t.placed=!r,t.align(e,void 0,n)),h}function v(t,e){let i,o=[];if(l(t)&&!l(e))o=t.map((function(t){return u(t,e)}));else if(l(e)&&!l(t))o=e.map((function(e){return u(t,e)}));else if(l(t)||l(e))for(i=Math.max(t.length,e.length);i--;)o[i]=u(t[i],e[i]);else o=u(t,e);return o}function _(t,e,i,o,n){const r=this.chart,s=r.inverted,a=this.xAxis,l=a.reversed,c=s?e.height/2:e.width/2;t=(t=t.pointWidth)?t/2:0,e.startXPos=s?n.x:l?-c-t:a.width-c+t,e.startYPos=s?l?this.yAxis.height-c+t:-c-t:n.y,o?"hidden"===e.visibility&&(e.show(),e.attr({opacity:0}).animate({opacity:1})):e.attr({opacity:1}).animate({opacity:0},void 0,e.hide),r.hasRendered&&(i&&e.attr({x:e.startXPos,y:e.startYPos}),e.placed=!0)}const C=[];t.compose=function(t){i.pushUnique(C,t)&&((t=t.prototype).initDataLabelsGroup=f,t.initDataLabels=g,t.alignDataLabel=e,t.drawDataLabels=m,t.justifyDataLabel=y,t.setDataLabelStartPos=_)}}(f||(f={})),f})),e(i,"Series/Column/ColumnDataLabel.js",[i["Core/Series/DataLabel.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],(function(t,e,i){const{series:o}=e,{merge:n,pick:r}=i;var s;return function(e){function s(t,e,i,s,a){let l=this.chart.inverted;var c=t.series;let u=(c.xAxis?c.xAxis.len:this.chart.plotSizeX)||0;c=(c.yAxis?c.yAxis.len:this.chart.plotSizeY)||0;var h=t.dlBox||t.shapeArgs;let d=r(t.below,t.plotY>r(this.translatedThreshold,c)),p=r(i.inside,!!this.options.stacking);h&&(0>(s=n(h)).y&&(s.height+=s.y,s.y=0),0<(h=s.y+s.height-c)&&h<s.height&&(s.height-=h),l&&(s={x:c-s.y-s.height,y:u-s.x-s.width,width:s.height,height:s.width}),p||(l?(s.x+=d?0:s.width,s.width=0):(s.y+=d?s.height:0,s.height=0))),i.align=r(i.align,!l||p?"center":d?"right":"left"),i.verticalAlign=r(i.verticalAlign,l||p?"middle":d?"top":"bottom"),o.prototype.alignDataLabel.call(this,t,e,i,s,a),i.inside&&t.contrastColor&&e.css({color:t.contrastColor})}const a=[];e.compose=function(e){t.compose(o),i.pushUnique(a,e)&&(e.prototype.alignDataLabel=s)}}(s||(s={})),s})),e(i,"Series/Bar/BarSeries.js",[i["Series/Column/ColumnSeries.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],(function(t,e,i){const{extend:o,merge:n}=i;class r extends t{constructor(){super(...arguments),this.points=this.options=this.data=void 0}}return r.defaultOptions=n(t.defaultOptions,{}),o(r.prototype,{inverted:!0}),e.registerSeriesType("bar",r),r})),e(i,"Series/Scatter/ScatterSeriesDefaults.js",[],(function(){return{lineWidth:0,findNearestPointBy:"xy",jitter:{x:0,y:0},marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">●</span> <span style="font-size: 0.8em"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}}})),e(i,"Series/Scatter/ScatterSeries.js",[i["Series/Scatter/ScatterSeriesDefaults.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],(function(t,e,i){const{column:o,line:n}=e.seriesTypes,{addEvent:r,extend:s,merge:a}=i;class l extends n{constructor(){super(...arguments),this.points=this.options=this.data=void 0}applyJitter(){const t=this,e=this.options.jitter,i=this.points.length;e&&this.points.forEach((function(o,n){["x","y"].forEach((function(r,s){let a,l,c="plot"+r.toUpperCase();if(e[r]&&!o.isNull){var u=t[r+"Axis"];l=e[r]*u.transA,u&&!u.isLog&&(a=Math.max(0,o[c]-l),u=Math.min(u.len,o[c]+l),s=1e4*Math.sin(n+s*i),s-=Math.floor(s),o[c]=a+(u-a)*s,"x"===r&&(o.clientX=o.plotX))}}))}))}drawGraph(){this.options.lineWidth?super.drawGraph():this.graph&&(this.graph=this.graph.destroy())}}return l.defaultOptions=a(n.defaultOptions,t),s(l.prototype,{drawTracker:o.prototype.drawTracker,sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1}),r(l,"afterTranslate",(function(){this.applyJitter()})),e.registerSeriesType("scatter",l),l})),e(i,"Series/CenteredUtilities.js",[i["Core/Globals.js"],i["Core/Series/Series.js"],i["Core/Utilities.js"]],(function(t,e,i){const{deg2rad:o}=t,{fireEvent:n,isNumber:r,pick:s,relativeLength:a}=i;var l;return function(t){t.getCenter=function(){var t=this.options,i=this.chart;const o=2*(t.slicedOffset||0),l=i.plotWidth-2*o,c=i.plotHeight-2*o;var u=t.center;const h=Math.min(l,c),d=t.thickness;var p=t.size;let f=t.innerSize||0;for("string"==typeof p&&(p=parseFloat(p)),"string"==typeof f&&(f=parseFloat(f)),t=[s(u[0],"50%"),s(u[1],"50%"),s(p&&0>p?void 0:t.size,"100%"),s(f&&0>f?void 0:t.innerSize||0,"0%")],!i.angular||this instanceof e||(t[3]=0),u=0;4>u;++u)p=t[u],i=2>u||2===u&&/%$/.test(p),t[u]=a(p,[l,c,h,t[2]][u])+(i?o:0);return t[3]>t[2]&&(t[3]=t[2]),r(d)&&2*d<t[2]&&0<d&&(t[3]=t[2]-2*d),n(this,"afterGetCenter",{positions:t}),t},t.getStartAndEndRadians=function(t,e){return t=r(t)?t:0,e=r(e)&&e>t&&360>e-t?e:t+360,{start:o*(t+-90),end:o*(e+-90)}}}(l||(l={})),l})),e(i,"Series/Pie/PiePoint.js",[i["Core/Animation/AnimationUtilities.js"],i["Core/Series/Point.js"],i["Core/Utilities.js"]],(function(t,e,i){const{setAnimation:o}=t,{addEvent:n,defined:r,extend:s,isNumber:a,pick:l,relativeLength:c}=i;class u extends e{constructor(){super(...arguments),this.series=this.options=this.labelDistance=void 0}getConnectorPath(){const t=this.labelPosition,e=this.series.options.dataLabels,i=this.connectorShapes;let o=e.connectorShape;return i[o]&&(o=i[o]),o.call(this,{x:t.computed.x,y:t.computed.y,alignment:t.alignment},t.connectorPosition,e)}getTranslate(){return this.sliced?this.slicedTranslation:{translateX:0,translateY:0}}haloPath(t){const e=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(e.x,e.y,e.r+t,e.r+t,{innerR:e.r-1,start:e.start,end:e.end,borderRadius:e.borderRadius})}init(){super.init.apply(this,arguments),this.name=l(this.name,"Slice");const t=t=>{this.slice("select"===t.type)};return n(this,"select",t),n(this,"unselect",t),this}isValid(){return a(this.y)&&0<=this.y}setVisible(t,e){const i=this.series,o=i.chart,n=i.options.ignoreHiddenPoint;e=l(e,n),t!==this.visible&&(this.visible=this.options.visible=t=void 0===t?!this.visible:t,i.options.data[i.data.indexOf(this)]=this.options,["graphic","dataLabel","connector"].forEach((e=>{this[e]&&this[e][t?"show":"hide"](t)})),this.legendItem&&o.legend.colorizeItem(this,t),t||"hover"!==this.state||this.setState(""),n&&(i.isDirty=!0),e&&o.redraw())}slice(t,e,i){const n=this.series;o(i,n.chart),l(e,!0),this.sliced=this.options.sliced=r(t)?t:!this.sliced,n.options.data[n.data.indexOf(this)]=this.options,this.graphic&&this.graphic.animate(this.getTranslate())}}return s(u.prototype,{connectorShapes:{fixedOffset:function(t,e,i){const o=e.breakAt;return e=e.touchingSliceAt,[["M",t.x,t.y],i.softConnector?["C",t.x+("left"===t.alignment?-5:5),t.y,2*o.x-e.x,2*o.y-e.y,o.x,o.y]:["L",o.x,o.y],["L",e.x,e.y]]},straight:function(t,e){return e=e.touchingSliceAt,[["M",t.x,t.y],["L",e.x,e.y]]},crookedLine:function(t,e,i){const{breakAt:o,touchingSliceAt:n}=e;({series:e}=this);const[r,s,a]=e.center,l=a/2,u=e.chart.plotWidth,h=e.chart.plotLeft;e="left"===t.alignment;const{x:d,y:p}=t;return i.crookDistance?(t=c(i.crookDistance,1),t=e?r+l+(u+h-r-l)*(1-t):h+(r-l)*t):t=r+(s-p)*Math.tan((this.angle||0)-Math.PI/2),i=[["M",d,p]],(e?t<=d&&t>=o.x:t>=d&&t<=o.x)&&i.push(["L",t,p]),i.push(["L",o.x,o.y],["L",n.x,n.y]),i}}}),u})),e(i,"Series/Pie/PieSeriesDefaults.js",[],(function(){return{borderRadius:3,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{allowOverlap:!0,connectorPadding:5,connectorShape:"crookedLine",crookDistance:void 0,distance:30,enabled:!0,formatter:function(){return this.point.isNull?void 0:this.point.name},softConnector:!0,x:0},fillColor:void 0,ignoreHiddenPoint:!0,inactiveOtherPoints:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,lineWidth:void 0,states:{hover:{brightness:.1}}}})),e(i,"Series/Pie/PieSeries.js",[i["Series/CenteredUtilities.js"],i["Series/Column/ColumnSeries.js"],i["Core/Globals.js"],i["Series/Pie/PiePoint.js"],i["Series/Pie/PieSeriesDefaults.js"],i["Core/Series/Series.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Renderer/SVG/Symbols.js"],i["Core/Utilities.js"]],(function(t,e,i,o,n,r,s,a,l){const{getStartAndEndRadians:c}=t;({noop:i}=i);const{clamp:u,extend:h,fireEvent:d,merge:p,pick:f,relativeLength:g}=l;class m extends r{constructor(){super(...arguments),this.points=this.options=this.maxLabelDistance=this.data=this.center=void 0}animate(t){const e=this,i=e.points,o=e.startAngleRad;t||i.forEach((function(t){const i=t.graphic,n=t.shapeArgs;i&&n&&(i.attr({r:f(t.startR,e.center&&e.center[3]/2),start:o,end:o}),i.animate({r:n.r,start:n.start,end:n.end},e.options.animation))}))}drawEmpty(){const t=this.startAngleRad,e=this.endAngleRad,i=this.options;let o,n;0===this.total&&this.center?(o=this.center[0],n=this.center[1],this.graph||(this.graph=this.chart.renderer.arc(o,n,this.center[1]/2,0,t,e).addClass("highcharts-empty-series").add(this.group)),this.graph.attr({d:a.arc(o,n,this.center[2]/2,0,{start:t,end:e,innerR:this.center[3]/2})}),this.chart.styledMode||this.graph.attr({"stroke-width":i.borderWidth,fill:i.fillColor||"none",stroke:i.color||"#cccccc"})):this.graph&&(this.graph=this.graph.destroy())}drawPoints(){const t=this.chart.renderer;this.points.forEach((function(e){e.graphic&&e.hasNewShapeType()&&(e.graphic=e.graphic.destroy()),e.graphic||(e.graphic=t[e.shapeType](e.shapeArgs).add(e.series.group),e.delayedRendering=!0)}))}generatePoints(){super.generatePoints(),this.updateTotals()}getX(t,e,i){const o=this.center,n=this.radii?this.radii[i.index]||0:o[2]/2;return t=Math.asin(u((t-o[1])/(n+i.labelDistance),-1,1)),o[0]+(e?-1:1)*Math.cos(t)*(n+i.labelDistance)+(0<i.labelDistance?(e?-1:1)*this.options.dataLabels.padding:0)}hasData(){return!!this.processedXData.length}redrawPoints(){const t=this,e=t.chart;let i,o,n,r;this.drawEmpty(),t.group&&!e.styledMode&&t.group.shadow(t.options.shadow),t.points.forEach((function(s){const a={};o=s.graphic,!s.isNull&&o?(r=s.shapeArgs,i=s.getTranslate(),e.styledMode||(n=t.pointAttribs(s,s.selected&&"select")),s.delayedRendering?(o.setRadialReference(t.center).attr(r).attr(i),e.styledMode||o.attr(n).attr({"stroke-linejoin":"round"}),s.delayedRendering=!1):(o.setRadialReference(t.center),e.styledMode||p(!0,a,n),p(!0,a,r,i),o.animate(a)),o.attr({visibility:s.visible?"inherit":"hidden"}),o.addClass(s.getClassName(),!0)):o&&(s.graphic=o.destroy())}))}sortByAngle(t,e){t.sort((function(t,i){return void 0!==t.angle&&(i.angle-t.angle)*e}))}translate(t){d(this,"translate"),this.generatePoints();var e=this.options;const i=e.slicedOffset,o=i+(e.borderWidth||0);var n=c(e.startAngle,e.endAngle);const r=this.startAngleRad=n.start;n=(this.endAngleRad=n.end)-r;const s=this.points,a=e.dataLabels.distance;e=e.ignoreHiddenPoint;const l=s.length;let u,h,p,m=0;for(t||(this.center=t=this.getCenter()),h=0;h<l;h++){p=s[h];var y=r+m*n;!p.isValid()||e&&!p.visible||(m+=p.percentage/100);var v=r+m*n,_={x:t[0],y:t[1],r:t[2]/2,innerR:t[3]/2,start:Math.round(1e3*y)/1e3,end:Math.round(1e3*v)/1e3};p.shapeType="arc",p.shapeArgs=_,p.labelDistance=f(p.options.dataLabels&&p.options.dataLabels.distance,a),p.labelDistance=g(p.labelDistance,_.r),this.maxLabelDistance=Math.max(this.maxLabelDistance||0,p.labelDistance),(v=(v+y)/2)>1.5*Math.PI?v-=2*Math.PI:v<-Math.PI/2&&(v+=2*Math.PI),p.slicedTranslation={translateX:Math.round(Math.cos(v)*i),translateY:Math.round(Math.sin(v)*i)},_=Math.cos(v)*t[2]/2,u=Math.sin(v)*t[2]/2,p.tooltipPos=[t[0]+.7*_,t[1]+.7*u],p.half=v<-Math.PI/2||v>Math.PI/2?1:0,p.angle=v,y=Math.min(o,p.labelDistance/5),p.labelPosition={natural:{x:t[0]+_+Math.cos(v)*p.labelDistance,y:t[1]+u+Math.sin(v)*p.labelDistance},computed:{},alignment:0>p.labelDistance?"center":p.half?"right":"left",connectorPosition:{breakAt:{x:t[0]+_+Math.cos(v)*y,y:t[1]+u+Math.sin(v)*y},touchingSliceAt:{x:t[0]+_,y:t[1]+u}}}}d(this,"afterTranslate")}updateTotals(){const t=this.points,e=t.length,i=this.options.ignoreHiddenPoint;let o,n,r=0;for(o=0;o<e;o++)n=t[o],!n.isValid()||i&&!n.visible||(r+=n.y);for(this.total=r,o=0;o<e;o++)n=t[o],n.percentage=0<r&&(n.visible||!i)?n.y/r*100:0,n.total=r}}return m.defaultOptions=p(r.defaultOptions,n),h(m.prototype,{axisTypes:[],directTouch:!0,drawGraph:void 0,drawTracker:e.prototype.drawTracker,getCenter:t.getCenter,getSymbol:i,isCartesian:!1,noSharedTooltip:!0,pointAttribs:e.prototype.pointAttribs,pointClass:o,requireSorting:!1,searchPoint:i,trackerGroups:["group","dataLabelsGroup"]}),s.registerSeriesType("pie",m),m})),e(i,"Series/Pie/PieDataLabel.js",[i["Core/Series/DataLabel.js"],i["Core/Globals.js"],i["Core/Renderer/RendererUtilities.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],(function(t,e,i,o,n){const{noop:r}=e,{distribute:s}=i,{series:a}=o,{arrayMax:l,clamp:c,defined:u,merge:h,pick:d,relativeLength:p}=n;var f;return function(e){function i(){const t=this,e=t.data,i=t.chart,o=t.options.dataLabels||{},n=o.connectorPadding,r=i.plotWidth,c=i.plotHeight,p=i.plotLeft,f=Math.round(i.chartWidth/3),g=t.center,m=g[2]/2,y=g[1],v=[[],[]],_=[0,0,0,0],C=t.dataLabelPositioners;let b,E,S,w,O,x,P,T,M,D,A,R;t.visible&&(o.enabled||t._hasPointLabels)&&(e.forEach((function(t){t.dataLabel&&t.visible&&t.dataLabel.shortened&&(t.dataLabel.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),t.dataLabel.shortened=!1)})),a.prototype.drawDataLabels.apply(t),e.forEach((function(t){t.dataLabel&&(t.visible?(v[t.half].push(t),t.dataLabel._pos=null,!u(o.style.width)&&!u(t.options.dataLabels&&t.options.dataLabels.style&&t.options.dataLabels.style.width)&&t.dataLabel.getBBox().width>f&&(t.dataLabel.css({width:Math.round(.7*f)+"px"}),t.dataLabel.shortened=!0)):(t.dataLabel=t.dataLabel.destroy(),t.dataLabels&&1===t.dataLabels.length&&delete t.dataLabels))})),v.forEach(((e,a)=>{const l=e.length,h=[];let f,v=0;if(l){if(t.sortByAngle(e,a-.5),0<t.maxLabelDistance){var E=Math.max(0,y-m-t.maxLabelDistance);f=Math.min(y+m+t.maxLabelDistance,i.plotHeight),e.forEach((function(t){0<t.labelDistance&&t.dataLabel&&(t.top=Math.max(0,y-m-t.labelDistance),t.bottom=Math.min(y+m+t.labelDistance,i.plotHeight),v=t.dataLabel.getBBox().height||21,t.distributeBox={target:t.labelPosition.natural.y-t.top+v/2,size:v,rank:t.y},h.push(t.distributeBox))})),s(h,E=f+v-E,E/5)}for(A=0;A<l;A++){if(b=e[A],x=b.labelPosition,w=b.dataLabel,D=!1===b.visible?"hidden":"inherit",M=E=x.natural.y,h&&u(b.distributeBox)&&(void 0===b.distributeBox.pos?D="hidden":(P=b.distributeBox.size,M=C.radialDistributionY(b))),delete b.positionIndex,o.justify)T=C.justify(b,m,g);else switch(o.alignTo){case"connectors":T=C.alignToConnectors(e,a,r,p);break;case"plotEdges":T=C.alignToPlotEdges(w,a,r,p);break;default:T=C.radialDistributionX(t,b,M,E)}w._attr={visibility:D,align:x.alignment},R=b.options.dataLabels||{},w._pos={x:T+d(R.x,o.x)+({left:n,right:-n}[x.alignment]||0),y:M+d(R.y,o.y)-w.getBBox().height/2},x&&(x.computed.x=T,x.computed.y=M),d(o.crop,!0)&&(O=w.getBBox().width,E=null,T-O<n&&1===a?(E=Math.round(O-T+n),_[3]=Math.max(E,_[3])):T+O>r-n&&0===a&&(E=Math.round(T+O-r+n),_[1]=Math.max(E,_[1])),0>M-P/2?_[0]=Math.max(Math.round(P/2-M),_[0]):M+P/2>c&&(_[2]=Math.max(Math.round(M+P/2-c),_[2])),w.sideOverflow=E)}}})),0===l(_)||this.verifyDataLabelOverflow(_))&&(this.placeDataLabels(),this.points.forEach((function(e){if(R=h(o,e.options.dataLabels),E=d(R.connectorWidth,1)){let o;S=e.connector,(w=e.dataLabel)&&w._pos&&e.visible&&0<e.labelDistance?(D=w._attr.visibility,(o=!S)&&(e.connector=S=i.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+e.colorIndex+(e.className?" "+e.className:"")).add(t.dataLabelsGroup),i.styledMode||S.attr({"stroke-width":E,stroke:R.connectorColor||e.color||"#666666"})),S[o?"attr":"animate"]({d:e.getConnectorPath()}),S.attr("visibility",D)):S&&(e.connector=S.destroy())}})))}function o(){this.points.forEach((function(t){let e,i=t.dataLabel;i&&t.visible&&((e=i._pos)?(i.sideOverflow&&(i._attr.width=Math.max(i.getBBox().width-i.sideOverflow,0),i.css({width:i._attr.width+"px",textOverflow:(this.options.dataLabels.style||{}).textOverflow||"ellipsis"}),i.shortened=!0),i.attr(i._attr),i[i.moved?"animate":"attr"](e),i.moved=!0):i&&i.attr({y:-9999})),delete t.distributeBox}),this)}function f(t){let e,i=this.center,o=this.options,n=o.center,r=o.minSize||80,s=null!==o.size;return s||(null!==n[0]?e=Math.max(i[2]-Math.max(t[1],t[3]),r):(e=Math.max(i[2]-t[1]-t[3],r),i[0]+=(t[3]-t[1])/2),null!==n[1]?e=c(e,r,i[2]-Math.max(t[0],t[2])):(e=c(e,r,i[2]-t[0]-t[2]),i[1]+=(t[0]-t[2])/2),e<i[2]?(i[2]=e,i[3]=Math.min(o.thickness?Math.max(0,e-2*o.thickness):Math.max(0,p(o.innerSize||0,e)),e),this.translate(i),this.drawDataLabels&&this.drawDataLabels()):s=!0),s}const g=[],m={radialDistributionY:function(t){return t.top+t.distributeBox.pos},radialDistributionX:function(t,e,i,o){return t.getX(i<e.top+2||i>e.bottom-2?o:i,e.half,e)},justify:function(t,e,i){return i[0]+(t.half?-1:1)*(e+t.labelDistance)},alignToPlotEdges:function(t,e,i,o){return t=t.getBBox().width,e?t+o:i-t-o},alignToConnectors:function(t,e,i,o){let n,r=0;return t.forEach((function(t){n=t.dataLabel.getBBox().width,n>r&&(r=n)})),e?r+o:i-r-o}};e.compose=function(e){t.compose(a),n.pushUnique(g,e)&&((e=e.prototype).dataLabelPositioners=m,e.alignDataLabel=r,e.drawDataLabels=i,e.placeDataLabels=o,e.verifyDataLabelOverflow=f)}}(f||(f={})),f})),e(i,"Extensions/OverlappingDataLabels.js",[i["Core/Chart/Chart.js"],i["Core/Utilities.js"]],(function(t,e){function i(t,e){let i,o=!1;return t&&(i=t.newOpacity,t.oldOpacity!==i&&(t.alignAttr&&t.placed?(t[i?"removeClass":"addClass"]("highcharts-data-label-hidden"),o=!0,t.alignAttr.opacity=i,t[t.isOld?"animate":"attr"](t.alignAttr,null,(function(){e.styledMode||t.css({pointerEvents:i?"auto":"none"})})),n(e,"afterHideOverlappingLabel")):t.attr({opacity:i})),t.isOld=!0),o}const{addEvent:o,fireEvent:n,isArray:r,isNumber:s,objectEach:a,pick:l}=e;o(t,"render",(function(){let t=this,e=[];(this.labelCollectors||[]).forEach((function(t){e=e.concat(t())})),(this.yAxis||[]).forEach((function(t){t.stacking&&t.options.stackLabels&&!t.options.stackLabels.allowOverlap&&a(t.stacking.stacks,(function(t){a(t,(function(t){t.label&&e.push(t.label)}))}))})),(this.series||[]).forEach((function(o){var n=o.options.dataLabels;o.visible&&(!1!==n.enabled||o._hasPointLabels)&&((n=o=>o.forEach((o=>{o.visible&&(r(o.dataLabels)?o.dataLabels:o.dataLabel?[o.dataLabel]:[]).forEach((function(n){const r=n.options;n.labelrank=l(r.labelrank,o.labelrank,o.shapeArgs&&o.shapeArgs.height),r.allowOverlap?(n.oldOpacity=n.opacity,n.newOpacity=1,i(n,t)):e.push(n)}))})))(o.nodes||[]),n(o.points))})),this.hideOverlappingLabels(e)})),t.prototype.hideOverlappingLabels=function(t){let e=this,o=t.length,r=e.renderer;var a;let l,c,u,h,d=!1;var p=function(t){let e,i;var o;let n,a,l=t.box?0:t.padding||0,c=o=0;if(t&&(!t.alignAttr||t.placed))return e=t.alignAttr||{x:t.attr("x"),y:t.attr("y")},i=t.parentGroup,t.width||(o=t.getBBox(),t.width=o.width,t.height=o.height,o=r.fontMetrics(t.element).h),n=t.width-2*l,(a={left:"0",center:"0.5",right:"1"}[t.alignValue])?c=+a*n:s(t.x)&&Math.round(t.x)!==t.translateX&&(c=t.x-t.translateX),{x:e.x+(i.translateX||0)+l-(c||0),y:e.y+(i.translateY||0)+l-o,width:t.width-2*l,height:t.height-2*l}};for(l=0;l<o;l++)(a=t[l])&&(a.oldOpacity=a.opacity,a.newOpacity=1,a.absoluteBox=p(a));for(t.sort((function(t,e){return(e.labelrank||0)-(t.labelrank||0)})),l=0;l<o;l++)for(u=(p=t[l])&&p.absoluteBox,a=l+1;a<o;++a)h=(c=t[a])&&c.absoluteBox,!u||!h||p===c||0===p.newOpacity||0===c.newOpacity||"hidden"===p.visibility||"hidden"===c.visibility||h.x>=u.x+u.width||h.x+h.width<=u.x||h.y>=u.y+u.height||h.y+h.height<=u.y||((p.labelrank<c.labelrank?p:c).newOpacity=0);t.forEach((function(t){i(t,e)&&(d=!0)})),d&&n(e,"afterHideAllOverlappingLabels")}})),e(i,"Extensions/BorderRadius.js",[i["Core/Defaults.js"],i["Core/Series/Series.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Renderer/SVG/SVGElement.js"],i["Core/Renderer/SVG/SVGRenderer.js"],i["Core/Utilities.js"]],(function(t,e,i,o,n,r){const{defaultOptions:s}=t;({seriesTypes:t}=i);const{addEvent:a,extend:l,isObject:c,merge:u,relativeLength:h}=r,d={radius:0,scope:"stack",where:void 0},p=(t,e)=>(c(t)||(t={radius:t||0}),u(d,e,t));if(-1===o.symbolCustomAttribs.indexOf("borderRadius")){o.symbolCustomAttribs.push("borderRadius","brBoxHeight","brBoxY");const i=n.prototype.symbols.arc;n.prototype.symbols.arc=function(t,e,o,n,r={}){t=i(t,e,o,n,r);const{innerR:s=0,r:a=o,start:l=0,end:c=0}=r;if(r.open||!r.borderRadius)return t;for(o=c-l,e=Math.sin(o/2),r=Math.max(Math.min(h(r.borderRadius||0,a-s),(a-s)/2,a*e/(1+e)),0),o=Math.min(r,o/Math.PI*2*s),e=t.length-1;e--;){let i,s,a;var u=e,d=1<e?o:r,p=(n=t)[u],f=n[u+1];if("Z"===f[0]&&(f=n[0]),"M"!==p[0]&&"L"!==p[0]||"A"!==f[0]?"A"!==p[0]||"M"!==f[0]&&"L"!==f[0]||(a=f,s=p):(a=p,s=f,i=!0),a&&s&&s.params){p=s[1];var g=s[5];f=s.params;const{start:t,end:e,cx:o,cy:r}=f;var m=g?p-d:p+d;const l=m?Math.asin(d/m):0;g=g?l:-l,m*=Math.cos(l),i?(f.start=t+g,a[1]=o+m*Math.cos(t),a[2]=r+m*Math.sin(t),n.splice(u+1,0,["A",d,d,0,0,1,o+p*Math.cos(f.start),r+p*Math.sin(f.start)])):(f.end=e-g,s[6]=o+p*Math.cos(f.end),s[7]=r+p*Math.sin(f.end),n.splice(u+1,0,["A",d,d,0,0,1,o+m*Math.cos(e),r+m*Math.sin(e)])),s[4]=Math.abs(f.end-f.start)<Math.PI?0:1}}return t};const r=n.prototype.symbols.roundedRect;n.prototype.symbols.roundedRect=function(t,e,i,o,n={}){const s=r(t,e,i,o,n),{r:a=0,brBoxHeight:l=o,brBoxY:c=e}=n;var u=e-c,h=c+l-(e+o);n=-.1<u-a?0:a;const d=-.1<h-a?0:a;var p=Math.max(n&&u,0);const f=Math.max(d&&h,0);h=[t+n,e],u=[t+i-n,e];const g=[t+i,e+n],m=[t+i,e+o-d],y=[t+i-d,e+o],v=[t+d,e+o],_=[t,e+o-d],C=[t,e+n];if(p){const t=Math.sqrt(Math.pow(n,2)-Math.pow(n-p,2));h[0]-=t,u[0]+=t,g[1]=C[1]=e+n-p}return o<n-p&&(p=Math.sqrt(Math.pow(n,2)-Math.pow(n-p-o,2)),g[0]=m[0]=t+i-n+p,y[0]=Math.min(g[0],y[0]),v[0]=Math.max(m[0],v[0]),_[0]=C[0]=t+n-p,g[1]=C[1]=e+o),f&&(p=Math.sqrt(Math.pow(d,2)-Math.pow(d-f,2)),y[0]+=p,v[0]-=p,m[1]=_[1]=e+o-d+f),o<d-f&&(o=Math.sqrt(Math.pow(d,2)-Math.pow(d-f-o,2)),g[0]=m[0]=t+i-d+o,u[0]=Math.min(g[0],u[0]),h[0]=Math.max(m[0],h[0]),_[0]=C[0]=t+d-o,m[1]=_[1]=e),s.length=0,s.push(["M",...h],["L",...u],["A",n,n,0,0,1,...g],["L",...m],["A",d,d,0,0,1,...y],["L",...v],["A",d,d,0,0,1,..._],["L",...C],["A",n,n,0,0,1,...h],["Z"]),s},a(t.pie,"afterTranslate",(function(){const t=p(this.options.borderRadius);for(const e of this.points){const i=e.shapeArgs;i&&(i.borderRadius=h(t.radius,(i.r||0)-(i.innerR||0)))}})),a(e,"afterColumnTranslate",(function(){var t,e;if(this.options.borderRadius&&(!this.chart.is3d||!this.chart.is3d())){const{options:r,yAxis:a}=this,u="percent"===r.stacking;var i=null===(e=null===(t=s.plotOptions)||void 0===t?void 0:t[this.type])||void 0===e?void 0:e.borderRadius;t=p(r.borderRadius,c(i)?i:{}),e=a.options.reversed;for(const s of this.points)if(({shapeArgs:i}=s),"roundedRect"===s.shapeType&&i){const{width:c=0,height:d=0,y:p=0}=i;var o=p,n=d;"stack"===t.scope&&s.stackTotal&&(o=a.translate(u?100:s.stackTotal,!1,!0,!1,!0),n=a.translate(r.threshold||0,!1,!0,!1,!0),o=(n=this.crispCol(0,Math.min(o,n),0,Math.abs(o-n))).y,n=n.height);const f=-1==(s.negative?-1:1)*(e?-1:1);let g=t.where;!g&&this.is("waterfall")&&Math.abs((s.yBottom||0)-(this.translatedThreshold||0))>this.borderWidth&&(g="all"),g||(g="end");const m=Math.min(h(t.radius,c),c/2,"all"===g?d/2:1/0)||0;"end"===g&&(f&&(o-=m),n+=m),l(i,{brBoxHeight:n,brBoxY:o,r:m})}}}),{order:9})}return e={optionsToObject:p}})),e(i,"Core/Responsive.js",[i["Core/Utilities.js"]],(function(t){const{extend:e,find:i,isArray:o,isObject:n,merge:r,objectEach:s,pick:a,splat:l,uniqueKey:c}=t;var u;return function(u){function h(t){const e=this,i={};return function t(i,r,a,c){let u;s(i,(function(i,s){if(!c&&-1<e.collectionsWithUpdate.indexOf(s)&&r[s])for(i=l(i),a[s]=[],u=0;u<Math.max(i.length,r[s].length);u++)r[s][u]&&(void 0===i[u]?a[s][u]=r[s][u]:(a[s][u]={},t(i[u],r[s][u],a[s][u],c+1)));else n(i)?(a[s]=o(i)?[]:{},t(i,r[s]||{},a[s],c+1)):a[s]=void 0===r[s]?null:r[s]}))}(t,this.options,i,0),i}function d(t,e){const i=t.condition;(i.callback||function(){return this.chartWidth<=a(i.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=a(i.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=a(i.minWidth,0)&&this.chartHeight>=a(i.minHeight,0)}).call(this)&&e.push(t._id)}function p(t,e){const o=this.options.responsive;var n=this.currentResponsive;let s=[];!e&&o&&o.rules&&o.rules.forEach((t=>{void 0===t._id&&(t._id=c()),this.matchResponsiveRule(t,s)}),this),e=r(...s.map((t=>i((o||{}).rules||[],(e=>e._id===t)))).map((t=>t&&t.chartOptions))),e.isResponsiveOptions=!0,s=s.toString()||void 0,s!==(n&&n.ruleIds)&&(n&&this.update(n.undoOptions,t,!0),s?((n=this.currentOptions(e)).isResponsiveOptions=!0,this.currentResponsive={ruleIds:s,mergedOptions:e,undoOptions:n},this.update(e,t,!0)):this.currentResponsive=void 0)}const f=[];u.compose=function(i){return t.pushUnique(f,i)&&e(i.prototype,{currentOptions:h,matchResponsiveRule:d,setResponsive:p}),i}}(u||(u={})),u})),e(i,"masters/highcharts.src.js",[i["Core/Globals.js"],i["Core/Utilities.js"],i["Core/Defaults.js"],i["Core/Animation/Fx.js"],i["Core/Animation/AnimationUtilities.js"],i["Core/Renderer/HTML/AST.js"],i["Core/FormatUtilities.js"],i["Core/Renderer/RendererUtilities.js"],i["Core/Renderer/SVG/SVGElement.js"],i["Core/Renderer/SVG/SVGRenderer.js"],i["Core/Renderer/HTML/HTMLElement.js"],i["Core/Renderer/HTML/HTMLRenderer.js"],i["Core/Axis/Axis.js"],i["Core/Axis/DateTimeAxis.js"],i["Core/Axis/LogarithmicAxis.js"],i["Core/Axis/PlotLineOrBand/PlotLineOrBand.js"],i["Core/Axis/Tick.js"],i["Core/Tooltip.js"],i["Core/Series/Point.js"],i["Core/Pointer.js"],i["Core/Legend/Legend.js"],i["Core/Chart/Chart.js"],i["Core/Axis/Stacking/StackingAxis.js"],i["Core/Axis/Stacking/StackItem.js"],i["Core/Series/Series.js"],i["Core/Series/SeriesRegistry.js"],i["Series/Column/ColumnSeries.js"],i["Series/Column/ColumnDataLabel.js"],i["Series/Pie/PieSeries.js"],i["Series/Pie/PieDataLabel.js"],i["Core/Series/DataLabel.js"],i["Core/Responsive.js"],i["Core/Color/Color.js"],i["Core/Time.js"]],(function(t,e,i,o,n,r,s,a,l,c,u,h,d,p,f,g,m,y,v,_,C,b,E,S,w,O,x,P,T,M,D,A,R,L){return t.animate=n.animate,t.animObject=n.animObject,t.getDeferredAnimation=n.getDeferredAnimation,t.setAnimation=n.setAnimation,t.stop=n.stop,t.timers=o.timers,t.AST=r,t.Axis=d,t.Chart=b,t.chart=b.chart,t.Fx=o,t.Legend=C,t.PlotLineOrBand=g,t.Point=v,t.Pointer=_,t.Series=w,t.StackItem=S,t.SVGElement=l,t.SVGRenderer=c,t.Tick=m,t.Time=L,t.Tooltip=y,t.Color=R,t.color=R.parse,h.compose(c),u.compose(l),_.compose(b),C.compose(b),t.defaultOptions=i.defaultOptions,t.getOptions=i.getOptions,t.time=i.defaultTime,t.setOptions=i.setOptions,t.dateFormat=s.dateFormat,t.format=s.format,t.numberFormat=s.numberFormat,t.addEvent=e.addEvent,t.arrayMax=e.arrayMax,t.arrayMin=e.arrayMin,t.attr=e.attr,t.clearTimeout=e.clearTimeout,t.correctFloat=e.correctFloat,t.createElement=e.createElement,t.css=e.css,t.defined=e.defined,t.destroyObjectProperties=e.destroyObjectProperties,t.discardElement=e.discardElement,t.distribute=a.distribute,t.erase=e.erase,t.error=e.error,t.extend=e.extend,t.extendClass=e.extendClass,t.find=e.find,t.fireEvent=e.fireEvent,t.getMagnitude=e.getMagnitude,t.getStyle=e.getStyle,t.inArray=e.inArray,t.isArray=e.isArray,t.isClass=e.isClass,t.isDOMElement=e.isDOMElement,t.isFunction=e.isFunction,t.isNumber=e.isNumber,t.isObject=e.isObject,t.isString=e.isString,t.keys=e.keys,t.merge=e.merge,t.normalizeTickInterval=e.normalizeTickInterval,t.objectEach=e.objectEach,t.offset=e.offset,t.pad=e.pad,t.pick=e.pick,t.pInt=e.pInt,t.relativeLength=e.relativeLength,t.removeEvent=e.removeEvent,t.seriesType=O.seriesType,t.splat=e.splat,t.stableSort=e.stableSort,t.syncTimeout=e.syncTimeout,t.timeUnits=e.timeUnits,t.uniqueKey=e.uniqueKey,t.useSerialIds=e.useSerialIds,t.wrap=e.wrap,P.compose(x),D.compose(w),p.compose(d),f.compose(d),M.compose(T),g.compose(d),A.compose(b),E.compose(d,b,w),y.compose(_),t})),i["masters/highcharts.src.js"]._modules=i,i["masters/highcharts.src.js"]},t.exports?(r.default=r,t.exports=n.document?r(n):r):void 0===(o=function(){return r(n)}.call(e,i,e,t))||(t.exports=o)},2929:(t,e,i)=>{"use strict";var o,n,r;r=function(t){function e(t,e,i,o){t.hasOwnProperty(e)||(t[e]=o.apply(null,i),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:e,module:t[e]}})))}e(t=t?t._modules:{},"Accessibility/Utils/HTMLUtilities.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],(function(t,e){function i(t){if("function"==typeof r.MouseEvent)return new r.MouseEvent(t.type,t);if(n.createEvent){const e=n.createEvent("MouseEvent");if(e.initMouseEvent)return e.initMouseEvent(t.type,t.bubbles,t.cancelable,t.view||r,t.detail,t.screenX,t.screenY,t.clientX,t.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.button,t.relatedTarget),e}return o(t.type)}function o(t,e,i){return e=e||{x:0,y:0},"function"==typeof r.MouseEvent?new r.MouseEvent(t,{bubbles:!0,cancelable:!0,composed:!0,button:0,buttons:1,relatedTarget:i||a,view:r,detail:"click"===t?1:0,screenX:e.x,screenY:e.y,clientX:e.x,clientY:e.y}):n.createEvent&&(i=n.createEvent("MouseEvent")).initMouseEvent?(i.initMouseEvent(t,!0,!0,r,"click"===t?1:0,e.x,e.y,e.x,e.y,!1,!1,!1,!1,0,null),i):{type:t}}const{doc:n,win:r}=t,{css:s}=e,a=r.EventTarget&&new r.EventTarget||"none";return{addClass:function(t,e){t.classList?t.classList.add(e):0>t.className.indexOf(e)&&(t.className+=" "+e)},cloneMouseEvent:i,cloneTouchEvent:function(t){var e=t=>{const e=[];for(let i=0;i<t.length;++i){const o=t.item(i);o&&e.push(o)}return e};return"function"==typeof r.TouchEvent?(e=new r.TouchEvent(t.type,{touches:e(t.touches),targetTouches:e(t.targetTouches),changedTouches:e(t.changedTouches),ctrlKey:t.ctrlKey,shiftKey:t.shiftKey,altKey:t.altKey,metaKey:t.metaKey,bubbles:t.bubbles,cancelable:t.cancelable,composed:t.composed,detail:t.detail,view:t.view}),t.defaultPrevented&&e.preventDefault(),e):((e=i(t)).touches=t.touches,e.changedTouches=t.changedTouches,e.targetTouches=t.targetTouches,e)},escapeStringForHTML:function(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")},getElement:function(t){return n.getElementById(t)},getFakeMouseEvent:o,getHeadingTagNameForElement:function(t){const e=t=>(t=parseInt(t.slice(1),10),"h"+Math.min(6,t+1)),i=t=>{var o;t:{for(o=t;o=o.previousSibling;){const t=o.tagName||"";if(/H[1-6]/.test(t)){o=t;break t}}o=""}return o?e(o):(t=t.parentElement)?(o=t.tagName,/H[1-6]/.test(o)?e(o):i(t)):"p"};return i(t)},removeChildNodes:function(t){for(;t.lastChild;)t.removeChild(t.lastChild)},removeClass:function(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp(e,"g"),"")},removeElement:function(t){t&&t.parentNode&&t.parentNode.removeChild(t)},reverseChildNodes:function(t){let e=t.childNodes.length;for(;e--;)t.appendChild(t.childNodes[e])},simulatedEventTarget:a,stripHTMLTagsFromString:function(t){return"string"==typeof t?t.replace(/<\/?[^>]+(>|$)/g,""):t},visuallyHideElement:function(t){s(t,{position:"absolute",width:"1px",height:"1px",overflow:"hidden",whiteSpace:"nowrap",clip:"rect(1px, 1px, 1px, 1px)",marginTop:"-3px","-ms-filter":"progid:DXImageTransform.Microsoft.Alpha(Opacity=1)",filter:"alpha(opacity=1)",opacity:.01})}}})),e(t,"Accessibility/A11yI18n.js",[t["Core/FormatUtilities.js"],t["Core/Utilities.js"]],(function(t,e){const{format:i}=t,{getNestedProperty:o,pick:n}=e;var r;return function(t){function r(t,e,r){const s=(t,e)=>{const i=(t=t.slice(e||0)).indexOf("{"),o=t.indexOf("}");if(-1<i&&o>i)return{statement:t.substring(i+1,o),begin:e+i+1,end:e+o}},a=[];let l,c,u=0;do{l=s(t,u),c=t.substring(u,l&&l.begin-1),c.length&&a.push({value:c,type:"constant"}),l&&a.push({value:l.statement,type:"statement"}),u=l?l.end+1:u+1}while(l);return a.forEach((t=>{"statement"===t.type&&(t.value=function(t,e){var i=t.indexOf("#each("),r=t.indexOf("#plural("),s=t.indexOf("[");const a=t.indexOf("]");if(-1<i){s=t.slice(i).indexOf(")")+i;var l=t.substring(0,i);if(r=t.substring(s+1),s=t.substring(i+6,s).split(","),i=Number(s[1]),t="",e=o(s[0],e))for(i=0>(i=isNaN(i)?e.length:i)?e.length+i:Math.min(i,e.length),s=0;s<i;++s)t+=l+e[s]+r;return t.length?t:""}if(-1<r){switch(l=t.slice(r).indexOf(")")+r,t=t.substring(r+8,l).split(","),Number(o(t[0],e))){case 0:t=n(t[4],t[1]);break;case 1:t=n(t[2],t[1]);break;case 2:t=n(t[3],t[1]);break;default:t=t[1]}return e=t?(e=t).trim&&e.trim()||e.replace(/^\s+|\s+$/g,""):""}return-1<s?(r=t.substring(0,s),t=Number(t.substring(s+1,a)),e=o(r,e),!isNaN(t)&&e&&(0>t?void 0===(l=e[e.length+t])&&(l=e[0]):void 0===(l=e[t])&&(l=e[e.length-1])),void 0!==l?l:""):"{"+t+"}"}(t.value,e))})),i(a.reduce(((t,e)=>t+e.value),""),e,r)}function s(t,e){t=t.split(".");let i=this.options.lang,o=0;for(;o<t.length;++o)i=i&&i[t[o]];return"string"==typeof i?r(i,e,this):""}const a=[];t.compose=function(t){return e.pushUnique(a,t)&&(t.prototype.langFormat=s),t},t.i18nFormat=r}(r||(r={})),r})),e(t,"Accessibility/Utils/ChartUtilities.js",[t["Core/Globals.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Core/Utilities.js"]],(function(t,e,i){function o(t){if(t.points&&t.points.length)return(t=l(t.points,(t=>!!t.graphic)))&&t.graphic&&t.graphic.element}function n(t){const e=o(t);return e&&e.parentNode||t.graph&&t.graph.element||t.group&&t.group.element}const{doc:r}=t,{stripHTMLTagsFromString:s}=e,{defined:a,find:l,fireEvent:c}=i;return{fireEventOnWrappedOrUnwrappedElement:function t(e,i){const o=i.type,n=e.hcEvents;r.createEvent&&(e.dispatchEvent||e.fireEvent)?e.dispatchEvent?e.dispatchEvent(i):e.fireEvent(o,i):n&&n[o]?c(e,o,i):e.element&&t(e.element,i)},getChartTitle:function(t){return s(t.options.title.text||t.langFormat("accessibility.defaultChartTitle",{chart:t}))},getAxisDescription:function(t){return t&&(t.userOptions&&t.userOptions.accessibility&&t.userOptions.accessibility.description||t.axisTitle&&t.axisTitle.textStr||t.options.id||t.categories&&"categories"||t.dateTime&&"Time"||"values")},getAxisRangeDescription:function(t){var e=t.options||{};return e.accessibility&&void 0!==e.accessibility.rangeDescription?e.accessibility.rangeDescription:t.categories?(e=t.chart,t=t.dataMax&&t.dataMin?e.langFormat("accessibility.axis.rangeCategories",{chart:e,axis:t,numCategories:t.dataMax-t.dataMin+1}):""):!t.dateTime||0!==t.min&&0!==t.dataMin?function(t){const e=t.chart;var i=e.options;const o=i&&i.accessibility&&i.accessibility.screenReaderSection.axisRangeDateFormat||"",n={min:t.dataMin||t.min||0,max:t.dataMax||t.max||0};return i=function(i){return t.dateTime?e.time.dateFormat(o,n[i]):n[i].toString()},e.langFormat("accessibility.axis.rangeFromTo",{chart:e,axis:t,rangeFrom:i("min"),rangeTo:i("max")})}(t):function(t){const e=t.chart,i={};let o="Seconds";i.Seconds=((t.dataMax||t.max||0)-(t.dataMin||t.min||0))/1e3,i.Minutes=i.Seconds/60,i.Hours=i.Minutes/60,i.Days=i.Hours/24,["Minutes","Hours","Days"].forEach((function(t){2<i[t]&&(o=t)}));const n=i[o].toFixed("Seconds"!==o&&"Minutes"!==o?1:0);return e.langFormat("accessibility.axis.timeRange"+o,{chart:e,axis:t,range:n.replace(".0","")})}(t)},getPointFromXY:function(t,e,i){let o,n=t.length;for(;n--;)if(o=l(t[n].points||[],(function(t){return t.x===e&&t.y===i})))return o},getSeriesFirstPointElement:o,getSeriesFromName:function(t,e){return e?(t.series||[]).filter((function(t){return t.name===e})):t.series},getSeriesA11yElement:n,unhideChartElementFromAT:function t(e,i){i.setAttribute("aria-hidden",!1),i!==e.renderTo&&i.parentNode&&i.parentNode!==r.body&&(Array.prototype.forEach.call(i.parentNode.childNodes,(function(t){t.hasAttribute("aria-hidden")||t.setAttribute("aria-hidden",!0)})),t(e,i.parentNode))},hideSeriesFromAT:function(t){(t=n(t))&&t.setAttribute("aria-hidden",!0)},scrollToPoint:function(t){var e=t.series.xAxis,i=t.series.yAxis;const o=e&&e.scrollbar?e:i;if((e=o&&o.scrollbar)&&a(e.to)&&a(e.from)){if(i=e.to-e.from,a(o.dataMin)&&a(o.dataMax)){var n=o.toPixels(o.dataMin),r=o.toPixels(o.dataMax);t=(o.toPixels(t["xAxis"===o.coll?"x":"y"]||0)-n)/(r-n)}else t=0;e.updatePosition(t-i/2,t+i/2),c(e,"changed",{from:e.from,to:e.to,trigger:"scrollbar",DOMEvent:null})}}}})),e(t,"Accessibility/Utils/DOMElementProvider.js",[t["Core/Globals.js"],t["Accessibility/Utils/HTMLUtilities.js"]],(function(t,e){const{doc:i}=t,{removeElement:o}=e;return class{constructor(){this.elements=[]}createElement(){const t=i.createElement.apply(i,arguments);return this.elements.push(t),t}destroyCreatedElements(){this.elements.forEach((function(t){o(t)})),this.elements=[]}}})),e(t,"Accessibility/Utils/EventProvider.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],(function(t,e){const{addEvent:i}=e;return class{constructor(){this.eventRemovers=[]}addEvent(){const e=i.apply(t,arguments);return this.eventRemovers.push(e),e}removeAddedEvents(){this.eventRemovers.forEach((t=>t())),this.eventRemovers=[]}}})),e(t,"Accessibility/AccessibilityComponent.js",[t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/DOMElementProvider.js"],t["Accessibility/Utils/EventProvider.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Core/Utilities.js"]],(function(t,e,i,o,n){const{fireEventOnWrappedOrUnwrappedElement:r}=t,{getFakeMouseEvent:s}=o;({extend:t}=n);class a{constructor(){this.proxyProvider=this.keyCodes=this.eventProvider=this.domElementProvider=this.chart=void 0}initBase(t,o){this.chart=t,this.eventProvider=new i,this.domElementProvider=new e,this.proxyProvider=o,this.keyCodes={left:37,right:39,up:38,down:40,enter:13,space:32,esc:27,tab:9,pageUp:33,pageDown:34,end:35,home:36}}addEvent(t,e,i,o){return this.eventProvider.addEvent(t,e,i,o)}createElement(t,e){return this.domElementProvider.createElement(t,e)}fakeClickEvent(t){const e=s("click");r(t,e)}destroyBase(){this.domElementProvider.destroyCreatedElements(),this.eventProvider.removeAddedEvents()}}return t(a.prototype,{init(){},getKeyboardNavigation:function(){},onChartUpdate(){},onChartRender(){},destroy(){}}),a})),e(t,"Accessibility/KeyboardNavigationHandler.js",[t["Core/Utilities.js"]],(function(t){const{find:e}=t;return class{constructor(t,e){this.chart=t,this.keyCodeMap=e.keyCodeMap||[],this.validate=e.validate,this.init=e.init,this.terminate=e.terminate,this.response={success:1,prev:2,next:3,noHandler:4,fail:5}}run(t){const i=t.which||t.keyCode;let o=this.response.noHandler;const n=e(this.keyCodeMap,(function(t){return-1<t[0].indexOf(i)}));return n?o=n[1].call(this,i,t):9===i&&(o=this.response[t.shiftKey?"prev":"next"]),o}}})),e(t,"Accessibility/Components/ContainerComponent.js",[t["Accessibility/AccessibilityComponent.js"],t["Accessibility/KeyboardNavigationHandler.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Core/Globals.js"],t["Accessibility/Utils/HTMLUtilities.js"]],(function(t,e,i,o,n){const{unhideChartElementFromAT:r,getChartTitle:s}=i,{doc:a}=o,{stripHTMLTagsFromString:l}=n;return class extends t{onChartUpdate(){this.handleSVGTitleElement(),this.setSVGContainerLabel(),this.setGraphicContainerAttrs(),this.setRenderToAttrs(),this.makeCreditsAccessible()}handleSVGTitleElement(){const t=this.chart,e="highcharts-title-"+t.index,i=l(t.langFormat("accessibility.svgContainerTitle",{chartTitle:s(t)}));if(i.length){const o=this.svgTitleElement=this.svgTitleElement||a.createElementNS("http://www.w3.org/2000/svg","title");o.textContent=i,o.id=e,t.renderTo.insertBefore(o,t.renderTo.firstChild)}}setSVGContainerLabel(){const t=this.chart,e=t.langFormat("accessibility.svgContainerLabel",{chartTitle:s(t)});t.renderer.box&&e.length&&t.renderer.box.setAttribute("aria-label",e)}setGraphicContainerAttrs(){const t=this.chart,e=t.langFormat("accessibility.graphicContainerLabel",{chartTitle:s(t)});e.length&&t.container.setAttribute("aria-label",e)}setRenderToAttrs(){const t=this.chart,e="disabled"!==t.options.accessibility.landmarkVerbosity,i=t.langFormat("accessibility.chartContainerLabel",{title:s(t),chart:t});i&&(t.renderTo.setAttribute("role",e?"region":"group"),t.renderTo.setAttribute("aria-label",i))}makeCreditsAccessible(){const t=this.chart,e=t.credits;e&&(e.textStr&&e.element.setAttribute("aria-label",t.langFormat("accessibility.credits",{creditsStr:l(e.textStr)})),r(t,e.element))}getKeyboardNavigation(){const t=this.chart;return new e(t,{keyCodeMap:[],validate:function(){return!0},init:function(){const e=t.accessibility;e&&e.keyboardNavigation.tabindexContainer.focus()}})}destroy(){this.chart.renderTo.setAttribute("aria-hidden",!0)}}})),e(t,"Accessibility/FocusBorder.js",[t["Core/Renderer/SVG/SVGLabel.js"],t["Core/Utilities.js"]],(function(t,e){const{addEvent:i,pick:o}=e;var n;return function(n){function r(){const t=this.focusElement,e=this.options.accessibility.keyboardNavigation.focusBorder;t&&(t.removeFocusBorder(),e.enabled&&t.addFocusBorder(e.margin,{stroke:e.style.color,strokeWidth:e.style.lineWidth,r:e.style.borderRadius}))}function s(t,e){const o=this.options.accessibility.keyboardNavigation.focusBorder;(e=e||t.element)&&e.focus&&(e.hcEvents&&e.hcEvents.focusin||i(e,"focusin",(function(){})),e.focus(),o.hideBrowserFocusOutline&&(e.style.outline="none")),this.focusElement&&this.focusElement.removeFocusBorder(),this.focusElement=t,this.renderFocusBorder()}function a(e,i){this.focusBorder&&this.removeFocusBorder();const n=this.getBBox(),r=o(e,3),s=this.parentGroup;var a=this.scaleX||s&&s.scaleX,c=this.scaleY||s&&s.scaleY;a=(a?!c:c)?Math.abs(a||c||1):(Math.abs(a||1)+Math.abs(c||1))/2,n.x+=this.translateX?this.translateX:0,n.y+=this.translateY?this.translateY:0,c=n.x-r;let u=n.y-r,h=n.width+2*r,d=n.height+2*r;var p=this instanceof t;if("text"===this.element.nodeName||p){const t=!!this.rotation;if(p)var f={x:t?1:0,y:0};else{var g=f=0;"middle"===this.attr("text-anchor")?f=g=.5:this.rotation?f=.25:g=.75,f={x:f,y:g}}g=+this.attr("x");const e=+this.attr("y");isNaN(g)||(c=g-n.width*f.x-r),isNaN(e)||(u=e-n.height*f.y-r),p&&t&&(p=h,h=d,d=p,isNaN(g)||(c=g-n.height*f.x-r),isNaN(e)||(u=e-n.width*f.y-r))}this.focusBorder=this.renderer.rect(c,u,h,d,parseInt((i&&i.r||0).toString(),10)/a).addClass("highcharts-focus-border").attr({zIndex:99}).add(s),this.renderer.styledMode||this.focusBorder.attr({stroke:i&&i.stroke,"stroke-width":(i&&i.strokeWidth||0)/a}),l(this,e,i),function(t){if(!t.focusBorderDestroyHook){var e=t.destroy;t.destroy=function(){return t.focusBorder&&t.focusBorder.destroy&&t.focusBorder.destroy(),e.apply(t,arguments)},t.focusBorderDestroyHook=e}}(this)}function l(t,...e){t.focusBorderUpdateHooks||(t.focusBorderUpdateHooks={},h.forEach((i=>{const o=t[i+="Setter"]||t._defaultSetter;t.focusBorderUpdateHooks[i]=o,t[i]=function(){const i=o.apply(t,arguments);return t.addFocusBorder.apply(t,e),i}})))}function c(){!function(t){t.focusBorderUpdateHooks&&(Object.keys(t.focusBorderUpdateHooks).forEach((e=>{const i=t.focusBorderUpdateHooks[e];i===t._defaultSetter?delete t[e]:t[e]=i})),delete t.focusBorderUpdateHooks)}(this),this.focusBorderDestroyHook&&(this.destroy=this.focusBorderDestroyHook,delete this.focusBorderDestroyHook),this.focusBorder&&(this.focusBorder.destroy(),delete this.focusBorder)}const u=[],h="x y transform width height r d stroke-width".split(" ");n.compose=function(t,i){e.pushUnique(u,t)&&((t=t.prototype).renderFocusBorder=r,t.setFocusToElement=s),e.pushUnique(u,i)&&((i=i.prototype).addFocusBorder=a,i.removeFocusBorder=c)}}(n||(n={})),n})),e(t,"Accessibility/Utils/Announcer.js",[t["Core/Renderer/HTML/AST.js"],t["Accessibility/Utils/DOMElementProvider.js"],t["Core/Globals.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Core/Utilities.js"]],(function(t,e,i,o,n){const{doc:r}=i,{addClass:s,visuallyHideElement:a}=o,{attr:l}=n;return class{constructor(t,i){this.chart=t,this.domElementProvider=new e,this.announceRegion=this.addAnnounceRegion(i)}destroy(){this.domElementProvider.destroyCreatedElements()}announce(e){t.setElementHTML(this.announceRegion,e),this.clearAnnouncementRegionTimer&&clearTimeout(this.clearAnnouncementRegionTimer),this.clearAnnouncementRegionTimer=setTimeout((()=>{this.announceRegion.innerHTML=t.emptyHTML,delete this.clearAnnouncementRegionTimer}),1e3)}addAnnounceRegion(t){const e=this.chart.announcerContainer||this.createAnnouncerContainer(),i=this.domElementProvider.createElement("div");return l(i,{"aria-hidden":!1,"aria-live":t}),this.chart.styledMode?s(i,"highcharts-visually-hidden"):a(i),e.appendChild(i),i}createAnnouncerContainer(){const t=this.chart,e=r.createElement("div");return l(e,{"aria-hidden":!1,class:"highcharts-announcer-container"}),e.style.position="relative",t.renderTo.insertBefore(e,t.renderTo.firstChild),t.announcerContainer=e}}})),e(t,"Accessibility/Components/AnnotationsA11y.js",[t["Accessibility/Utils/HTMLUtilities.js"]],(function(t){function e(t){return(t.annotations||[]).reduce(((t,e)=>(e.options&&!1!==e.options.visible&&(t=t.concat(e.labels)),t)),[])}function i(t){return t.options&&t.options.accessibility&&t.options.accessibility.description||t.graphic&&t.graphic.text&&t.graphic.text.textStr||""}function o(t){var e=t.options&&t.options.accessibility&&t.options.accessibility.description;if(e)return e;e=t.chart;const o=i(t),n=t.points.filter((t=>!!t.graphic)).map((t=>{const e=t.accessibility&&t.accessibility.valueDescription||t.graphic&&t.graphic.element&&t.graphic.element.getAttribute("aria-label")||"";return((t=t&&t.series.name||"")?t+", ":"")+"data point "+e})).filter((t=>!!t)),r=n.length,s="accessibility.screenReaderSection.annotations.description"+(1<r?"MultiplePoints":r?"SinglePoint":"NoPoints");return t={annotationText:o,annotation:t,numPoints:r,annotationPoint:n[0],additionalAnnotationPoints:n.slice(1)},e.langFormat(s,t)}function n(t){return e(t).map((t=>(t=r(s(o(t))))?`<li>${t}</li>`:""))}const{escapeStringForHTML:r,stripHTMLTagsFromString:s}=t;return{getAnnotationsInfoHTML:function(t){const e=t.annotations;return e&&e.length?`<ul style="list-style-type: none">${n(t).join(" ")}</ul>`:""},getAnnotationLabelDescription:o,getAnnotationListItems:n,getPointAnnotationTexts:function(t){const o=e(t.series.chart).filter((e=>-1<e.points.indexOf(t)));return o.length?o.map((t=>`${i(t)}`)):[]}}})),e(t,"Accessibility/Components/InfoRegionsComponent.js",[t["Accessibility/A11yI18n.js"],t["Accessibility/AccessibilityComponent.js"],t["Accessibility/Utils/Announcer.js"],t["Accessibility/Components/AnnotationsA11y.js"],t["Core/Renderer/HTML/AST.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Core/FormatUtilities.js"],t["Core/Globals.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Core/Utilities.js"]],(function(t,e,i,o,n,r,s,a,l,c){const{getAnnotationsInfoHTML:u}=o,{getAxisDescription:h,getAxisRangeDescription:d,getChartTitle:p,unhideChartElementFromAT:f}=r,{format:g}=s,{doc:m}=a,{addClass:y,getElement:v,getHeadingTagNameForElement:_,stripHTMLTagsFromString:C,visuallyHideElement:b}=l,{attr:E,pick:S}=c;return class extends e{constructor(){super(...arguments),this.announcer=void 0,this.screenReaderSections={}}init(){const t=this.chart,e=this;this.initRegionsDefinitions(),this.addEvent(t,"aftergetTableAST",(function(t){e.onDataTableCreated(t)})),this.addEvent(t,"afterViewData",(function(t){t.wasHidden&&(e.dataTableDiv=t.element,setTimeout((function(){e.focusDataTable()}),300))})),this.announcer=new i(t,"assertive")}initRegionsDefinitions(){const t=this;this.screenReaderSections={before:{element:null,buildContent:function(e){const i=e.options.accessibility.screenReaderSection.beforeChartFormatter;return i?i(e):t.defaultBeforeChartFormatter(e)},insertIntoDOM:function(t,e){e.renderTo.insertBefore(t,e.renderTo.firstChild)},afterInserted:function(){void 0!==t.sonifyButtonId&&t.initSonifyButton(t.sonifyButtonId),void 0!==t.dataTableButtonId&&t.initDataTableButton(t.dataTableButtonId)}},after:{element:null,buildContent:function(e){const i=e.options.accessibility.screenReaderSection.afterChartFormatter;return i?i(e):t.defaultAfterChartFormatter()},insertIntoDOM:function(t,e){e.renderTo.insertBefore(t,e.container.nextSibling)},afterInserted:function(){t.chart.accessibility&&t.chart.accessibility.keyboardNavigation.updateExitAnchor()}}}}onChartRender(){const t=this;this.linkedDescriptionElement=this.getLinkedDescriptionElement(),this.setLinkedDescriptionAttrs(),Object.keys(this.screenReaderSections).forEach((function(e){t.updateScreenReaderSection(e)}))}getLinkedDescriptionElement(){var t=this.chart.options.accessibility.linkedDescription;if(t){if("string"!=typeof t)return t;if(t=g(t,this.chart),1===(t=m.querySelectorAll(t)).length)return t[0]}}setLinkedDescriptionAttrs(){const t=this.linkedDescriptionElement;t&&(t.setAttribute("aria-hidden","true"),y(t,"highcharts-linked-description"))}updateScreenReaderSection(t){const e=this.chart,i=this.screenReaderSections[t],o=i.buildContent(e),r=i.element=i.element||this.createElement("div"),s=r.firstChild||this.createElement("div");o?(this.setScreenReaderSectionAttribs(r,t),n.setElementHTML(s,o),r.appendChild(s),i.insertIntoDOM(r,e),e.styledMode?y(s,"highcharts-visually-hidden"):b(s),f(e,s),i.afterInserted&&i.afterInserted()):(r.parentNode&&r.parentNode.removeChild(r),i.element=null)}setScreenReaderSectionAttribs(t,e){const i=this.chart,o=i.langFormat("accessibility.screenReaderSection."+e+"RegionLabel",{chart:i,chartTitle:p(i)});E(t,{id:`highcharts-screen-reader-region-${e}-${i.index}`,"aria-label":o||void 0}),t.style.position="relative",o&&t.setAttribute("role","all"===i.options.accessibility.landmarkVerbosity?"region":"group")}defaultBeforeChartFormatter(){var e=this.chart;const i=e.options.accessibility.screenReaderSection.beforeChartFormat;if(!i)return"";var o=this.getAxesDescription();const n=e.sonify&&e.options.sonification&&e.options.sonification.enabled,r="highcharts-a11y-sonify-data-btn-"+e.index,s="hc-linkto-highcharts-data-table-"+e.index,a=u(e),l=e.langFormat("accessibility.screenReaderSection.annotations.heading",{chart:e});return o={headingTagName:_(e.renderTo),chartTitle:p(e),typeDescription:this.getTypeDescriptionText(),chartSubtitle:this.getSubtitleText(),chartLongdesc:this.getLongdescText(),xAxisDescription:o.xAxis,yAxisDescription:o.yAxis,playAsSoundButton:n?this.getSonifyButtonText(r):"",viewTableButton:e.getCSV?this.getDataTableButtonText(s):"",annotationsTitle:a?l:"",annotationsList:a},e=t.i18nFormat(i,o,e),this.dataTableButtonId=s,this.sonifyButtonId=r,e.replace(/<(\w+)[^>]*?>\s*<\/\1>/g,"")}defaultAfterChartFormatter(){const e=this.chart,i=e.options.accessibility.screenReaderSection.afterChartFormat;if(!i)return"";const o={endOfChartMarker:this.getEndOfChartMarkerText()};return t.i18nFormat(i,o,e).replace(/<(\w+)[^>]*?>\s*<\/\1>/g,"")}getLinkedDescription(){const t=this.linkedDescriptionElement;return C(t&&t.innerHTML||"")}getLongdescText(){const t=this.chart.options;var e=t.caption;e=e&&e.text;const i=this.getLinkedDescription();return t.accessibility.description||i||e||""}getTypeDescriptionText(){const t=this.chart;return t.types?t.options.accessibility.typeDescription||function(t,e){var i=e[0],o=t.series&&t.series[0]||{};if(o={numSeries:t.series.length,numPoints:o.points&&o.points.length,chart:t,mapTitle:t.mapView&&t.mapView.geoMap&&t.mapView.geoMap.title},!i)return t.langFormat("accessibility.chartTypes.emptyChart",o);if("map"===i)return o.mapTitle?t.langFormat("accessibility.chartTypes.mapTypeDescription",o):t.langFormat("accessibility.chartTypes.unknownMap",o);if(1<t.types.length)return t.langFormat("accessibility.chartTypes.combinationChart",o);{e=e[0],i=t.langFormat("accessibility.seriesTypeDescriptions."+e,o);const n=t.series&&2>t.series.length?"Single":"Multiple";t=(t.langFormat("accessibility.chartTypes."+e+n,o)||t.langFormat("accessibility.chartTypes.default"+n,o))+(i?" "+i:"")}return t}(t,t.types):""}getDataTableButtonText(t){var e=this.chart;return'<button id="'+t+'">'+(e=e.langFormat("accessibility.table.viewAsDataTableButtonText",{chart:e,chartTitle:p(e)}))+"</button>"}getSonifyButtonText(t){var e=this.chart;return e.options.sonification&&!1===e.options.sonification.enabled?"":'<button id="'+t+'">'+(e=e.langFormat("accessibility.sonification.playAsSoundButtonText",{chart:e,chartTitle:p(e)}))+"</button>"}getSubtitleText(){const t=this.chart.options.subtitle;return C(t&&t.text||"")}getEndOfChartMarkerText(){const t=this.chart,e=t.langFormat("accessibility.screenReaderSection.endOfChartMarker",{chart:t});return'<div id="highcharts-end-of-chart-marker-'+t.index+'">'+e+"</div>"}onDataTableCreated(t){const e=this.chart;if(e.options.accessibility.enabled){this.viewDataTableButton&&this.viewDataTableButton.setAttribute("aria-expanded","true");const i=t.tree.attributes||{};i.tabindex=-1,i.summary=e.langFormat("accessibility.table.tableSummary",{chart:e}),t.tree.attributes=i}}focusDataTable(){var t=this.dataTableDiv;(t=t&&t.getElementsByTagName("table")[0])&&t.focus&&t.focus()}initSonifyButton(t){const e=this.sonifyButton=v(t),i=this.chart,o=t=>{e&&(e.setAttribute("aria-hidden","true"),e.setAttribute("aria-label","")),t.preventDefault(),t.stopPropagation(),t=i.langFormat("accessibility.sonification.playAsSoundClickAnnouncement",{chart:i}),this.announcer.announce(t),setTimeout((()=>{e&&(e.removeAttribute("aria-hidden"),e.removeAttribute("aria-label")),i.sonify&&i.sonify()}),1e3)};e&&i&&(e.setAttribute("tabindex",-1),e.onclick=function(t){(i.options.accessibility&&i.options.accessibility.screenReaderSection.onPlayAsSoundClick||o).call(this,t,i)})}initDataTableButton(t){const e=this.viewDataTableButton=v(t),i=this.chart;t=t.replace("hc-linkto-",""),e&&(E(e,{tabindex:-1,"aria-expanded":!!v(t)}),e.onclick=i.options.accessibility.screenReaderSection.onViewDataTableClick||function(){i.viewData()})}getAxesDescription(){const t=this.chart;var e=function(e,i){return 1<(e=t[e]).length||e[0]&&S(e[0].options.accessibility&&e[0].options.accessibility.enabled,i)},i=!!t.types&&0>t.types.indexOf("map")&&0>t.types.indexOf("treemap")&&0>t.types.indexOf("tilemap");const o=!!t.hasCartesianSeries,n=e("xAxis",!t.angular&&o&&i);return e=e("yAxis",o&&i),i={},n&&(i.xAxis=this.getAxisDescriptionText("xAxis")),e&&(i.yAxis=this.getAxisDescriptionText("yAxis")),i}getAxisDescriptionText(t){const e=this.chart,i=e[t];return e.langFormat("accessibility.axis."+t+"Description"+(1<i.length?"Plural":"Singular"),{chart:e,names:i.map((function(t){return h(t)})),ranges:i.map((function(t){return d(t)})),numAxes:i.length})}destroy(){this.announcer&&this.announcer.destroy()}}})),e(t,"Accessibility/Components/MenuComponent.js",[t["Core/Chart/Chart.js"],t["Core/Utilities.js"],t["Accessibility/AccessibilityComponent.js"],t["Accessibility/KeyboardNavigationHandler.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/HTMLUtilities.js"]],(function(t,e,i,o,n,r){const{attr:s}=e,{getChartTitle:a,unhideChartElementFromAT:l}=n,{getFakeMouseEvent:c}=r;class u extends i{init(){const t=this.chart,e=this;this.addEvent(t,"exportMenuShown",(function(){e.onMenuShown()})),this.addEvent(t,"exportMenuHidden",(function(){e.onMenuHidden()})),this.createProxyGroup()}onMenuHidden(){const t=this.chart.exportContextMenu;t&&t.setAttribute("aria-hidden","true"),this.setExportButtonExpandedState("false")}onMenuShown(){const t=this.chart,e=t.exportContextMenu;e&&(this.addAccessibleContextMenuAttribs(),l(t,e)),this.setExportButtonExpandedState("true")}setExportButtonExpandedState(t){this.exportButtonProxy&&this.exportButtonProxy.buttonElement.setAttribute("aria-expanded",t)}onChartRender(){const t=this.chart,e=t.focusElement,i=t.accessibility;this.proxyProvider.clearGroup("chartMenu"),this.proxyMenuButton(),this.exportButtonProxy&&e&&e===t.exportingGroup&&(e.focusBorder?t.setFocusToElement(e,this.exportButtonProxy.buttonElement):i&&i.keyboardNavigation.tabindexContainer.focus())}proxyMenuButton(){const t=this.chart,e=this.proxyProvider,i=t.exportSVGElements&&t.exportSVGElements[0];{var o=t.options.exporting;const e=t.exportSVGElements&&t.exportSVGElements[0];o=!!(o&&!1!==o.enabled&&o.accessibility&&o.accessibility.enabled&&e&&e.element)}o&&i&&(this.exportButtonProxy=e.addProxyElement("chartMenu",{click:i},{"aria-label":t.langFormat("accessibility.exporting.menuButtonLabel",{chart:t,chartTitle:a(t)}),"aria-expanded":!1,title:t.options.lang.contextButtonTitle||null}))}createProxyGroup(){this.chart&&this.proxyProvider&&this.proxyProvider.addGroup("chartMenu","div")}addAccessibleContextMenuAttribs(){const t=this.chart;var e=t.exportDivElements;e&&e.length&&(e.forEach((t=>{t&&("LI"!==t.tagName||t.children&&t.children.length?t.setAttribute("aria-hidden","true"):t.setAttribute("tabindex",-1))})),(e=e[0]&&e[0].parentNode)&&s(e,{"aria-hidden":void 0,"aria-label":t.langFormat("accessibility.exporting.chartMenuLabel",{chart:t}),role:"list"}))}getKeyboardNavigation(){const t=this.keyCodes,e=this.chart,i=this;return new o(e,{keyCodeMap:[[[t.left,t.up],function(){return i.onKbdPrevious(this)}],[[t.right,t.down],function(){return i.onKbdNext(this)}],[[t.enter,t.space],function(){return i.onKbdClick(this)}]],validate:function(){return!!e.exporting&&!1!==e.options.exporting.enabled&&!1!==e.options.exporting.accessibility.enabled},init:function(){const t=i.exportButtonProxy,o=i.chart.exportingGroup;t&&o&&e.setFocusToElement(o,t.buttonElement)},terminate:function(){e.hideExportMenu()}})}onKbdPrevious(t){const e=this.chart,i=e.options.accessibility;t=t.response;let o=e.highlightedExportItemIx||0;for(;o--;)if(e.highlightExportItem(o))return t.success;return i.keyboardNavigation.wrapAround?(e.highlightLastExportItem(),t.success):t.prev}onKbdNext(t){const e=this.chart,i=e.options.accessibility;t=t.response;for(let i=(e.highlightedExportItemIx||0)+1;i<e.exportDivElements.length;++i)if(e.highlightExportItem(i))return t.success;return i.keyboardNavigation.wrapAround?(e.highlightExportItem(0),t.success):t.next}onKbdClick(t){const e=this.chart,i=e.exportDivElements[e.highlightedExportItemIx],o=(e.exportSVGElements&&e.exportSVGElements[0]).element;return e.openMenu?this.fakeClickEvent(i):(this.fakeClickEvent(o),e.highlightExportItem(0)),t.response.success}}return function(i){function o(){var t=this.exportSVGElements&&this.exportSVGElements[0];t&&(t=t.element).onclick&&t.onclick(c("click"))}function n(){const t=this.exportDivElements;t&&this.exportContextMenu&&this.openMenu&&(t.forEach((t=>{t&&"highcharts-menu-item"===t.className&&t.onmouseout&&t.onmouseout(c("mouseout"))})),this.highlightedExportItemIx=0,this.exportContextMenu.hideMenu(),this.container.focus())}function r(t){const e=this.exportDivElements&&this.exportDivElements[t],i=this.exportDivElements&&this.exportDivElements[this.highlightedExportItemIx];if(e&&"LI"===e.tagName&&(!e.children||!e.children.length)){const o=!!(this.renderTo.getElementsByTagName("g")[0]||{}).focus;return e.focus&&o&&e.focus(),i&&i.onmouseout&&i.onmouseout(c("mouseout")),e.onmouseover&&e.onmouseover(c("mouseover")),this.highlightedExportItemIx=t,!0}return!1}function s(){if(this.exportDivElements){let t=this.exportDivElements.length;for(;t--;)if(this.highlightExportItem(t))return!0}return!1}const a=[];i.compose=function(i){e.pushUnique(a,i)&&((i=t.prototype).hideExportMenu=n,i.highlightExportItem=r,i.highlightLastExportItem=s,i.showExportMenu=o)}}(u||(u={})),u})),e(t,"Accessibility/KeyboardNavigation.js",[t["Core/Globals.js"],t["Accessibility/Components/MenuComponent.js"],t["Core/Utilities.js"],t["Accessibility/Utils/EventProvider.js"],t["Accessibility/Utils/HTMLUtilities.js"]],(function(t,e,i,o,n){const{doc:r,win:s}=t,{addEvent:a,fireEvent:l}=i,{getElement:c,simulatedEventTarget:u}=n;class h{constructor(t,e){this.components=this.chart=void 0,this.currentModuleIx=NaN,this.exitAnchor=this.eventProvider=void 0,this.modules=[],this.tabindexContainer=void 0,this.init(t,e)}init(t,e){const i=this.eventProvider=new o;this.chart=t,this.components=e,this.modules=[],this.currentModuleIx=0,this.update(),i.addEvent(this.tabindexContainer,"keydown",(t=>this.onKeydown(t))),i.addEvent(this.tabindexContainer,"focus",(t=>this.onFocus(t))),["mouseup","touchend"].forEach((t=>i.addEvent(r,t,(t=>this.onMouseUp(t))))),["mousedown","touchstart"].forEach((e=>i.addEvent(t.renderTo,e,(()=>{this.isClickingChart=!0}))))}update(t){var e=this.chart.options.accessibility;e=e&&e.keyboardNavigation;const i=this.components;this.updateContainerTabindex(),e&&e.enabled&&t&&t.length?(this.modules=t.reduce((function(t,e){return e=i[e].getKeyboardNavigation(),t.concat(e)}),[]),this.updateExitAnchor()):(this.modules=[],this.currentModuleIx=0,this.removeExitAnchor())}updateExitAnchor(){const t=c(`highcharts-end-of-chart-marker-${this.chart.index}`);this.removeExitAnchor(),t?(this.makeElementAnExitAnchor(t),this.exitAnchor=t):this.createExitAnchor()}move(t){var e=this.modules&&this.modules[this.currentModuleIx];if(e&&e.terminate&&e.terminate(t),this.chart.focusElement&&this.chart.focusElement.removeFocusBorder(),this.currentModuleIx+=t,e=this.modules&&this.modules[this.currentModuleIx]){if(e.validate&&!e.validate())return this.move(t);if(e.init)return e.init(t),!0}return this.currentModuleIx=0,this.exiting=!0,0<t?this.exitAnchor&&this.exitAnchor.focus():this.tabindexContainer.focus(),!1}onFocus(t){var e=this.chart;t=t.relatedTarget&&e.container.contains(t.relatedTarget),!(e=(e=e.options.accessibility)&&e.keyboardNavigation)||!e.enabled||this.exiting||this.tabbingInBackwards||this.isClickingChart||t||null!==(t=this.getFirstValidModuleIx())&&(this.currentModuleIx=t,this.modules[t].init(1)),this.exiting=!1}onMouseUp(t){if(delete this.isClickingChart,!this.keyboardReset&&t.relatedTarget!==u){const e=this.chart;t.target&&e.container.contains(t.target)||((t=this.modules&&this.modules[this.currentModuleIx||0])&&t.terminate&&t.terminate(),this.currentModuleIx=0),e.focusElement&&(e.focusElement.removeFocusBorder(),delete e.focusElement),this.keyboardReset=!0}}onKeydown(t){t=t||s.event;const e=this.modules&&this.modules.length&&this.modules[this.currentModuleIx];let i;if(this.exiting=this.keyboardReset=!1,e){const o=e.run(t);o===e.response.success?i=!0:o===e.response.prev?i=this.move(-1):o===e.response.next&&(i=this.move(1)),i&&(t.preventDefault(),t.stopPropagation())}}updateContainerTabindex(){var t=this.chart.options.accessibility;t=!((t=t&&t.keyboardNavigation)&&!1===t.enabled);const e=this.chart;var i=e.container;e.renderTo.hasAttribute("tabindex")&&(i.removeAttribute("tabindex"),i=e.renderTo),this.tabindexContainer=i;const o=i.getAttribute("tabindex");t&&!o?i.setAttribute("tabindex","0"):t||e.container.removeAttribute("tabindex")}createExitAnchor(){const t=this.chart,e=this.exitAnchor=r.createElement("div");t.renderTo.appendChild(e),this.makeElementAnExitAnchor(e)}makeElementAnExitAnchor(t){const e=this.tabindexContainer.getAttribute("tabindex")||0;t.setAttribute("class","highcharts-exit-anchor"),t.setAttribute("tabindex",e),t.setAttribute("aria-hidden",!1),this.addExitAnchorEventsToEl(t)}removeExitAnchor(){this.exitAnchor&&this.exitAnchor.parentNode&&(this.exitAnchor.parentNode.removeChild(this.exitAnchor),delete this.exitAnchor)}addExitAnchorEventsToEl(t){const e=this.chart,i=this;this.eventProvider.addEvent(t,"focus",(function(t){const o=!((t=t||s.event).relatedTarget&&e.container.contains(t.relatedTarget)||i.exiting);e.focusElement&&delete e.focusElement,o?(i.tabbingInBackwards=!0,i.tabindexContainer.focus(),delete i.tabbingInBackwards,t.preventDefault(),i.modules&&i.modules.length&&(i.currentModuleIx=i.modules.length-1,(t=i.modules[i.currentModuleIx])&&t.validate&&!t.validate()?i.move(-1):t&&t.init(-1))):i.exiting=!1}))}getFirstValidModuleIx(){const t=this.modules.length;for(let e=0;e<t;++e){const t=this.modules[e];if(!t.validate||t.validate())return e}return null}destroy(){this.removeExitAnchor(),this.eventProvider.removeAddedEvents(),this.chart.container.removeAttribute("tabindex")}}return function(o){function n(){const t=this;l(this,"dismissPopupContent",{},(function(){t.tooltip&&t.tooltip.hide(0),t.hideExportMenu()}))}function s(e){27===(e.which||e.keyCode)&&t.charts&&t.charts.forEach((t=>{t&&t.dismissPopupContent&&t.dismissPopupContent()}))}const c=[];o.compose=function(t){return e.compose(t),i.pushUnique(c,t)&&(t.prototype.dismissPopupContent=n),i.pushUnique(c,r)&&a(r,"keydown",s),t}}(h||(h={})),h})),e(t,"Accessibility/Components/LegendComponent.js",[t["Core/Animation/AnimationUtilities.js"],t["Core/Globals.js"],t["Core/Legend/Legend.js"],t["Core/Utilities.js"],t["Accessibility/AccessibilityComponent.js"],t["Accessibility/KeyboardNavigationHandler.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/HTMLUtilities.js"]],(function(t,e,i,o,n,r,s,a){function l(t){const e=t.legend&&t.legend.allItems,i=t.options.legend.accessibility||{};return t=t.colorAxis&&t.colorAxis.some((t=>!t.dataClasses||!t.dataClasses.length)),!(!e||!e.length||t||!1===i.enabled)}function c(t,e){const i=e.legendItem||{};e.setState(t?"hover":"",!0);for(const o of["group","label","symbol"])(e=(e=i[o])&&e.element||e)&&p(e,t?"mouseover":"mouseout")}const{animObject:u}=t,{doc:h}=e,{addEvent:d,fireEvent:p,isNumber:f,pick:g,syncTimeout:m}=o,{getChartTitle:y}=s,{stripHTMLTagsFromString:v,addClass:_,removeClass:C}=a;class b extends n{constructor(){super(...arguments),this.highlightedLegendItemIx=NaN,this.proxyGroup=null}init(){const t=this;this.recreateProxies(),this.addEvent(i,"afterScroll",(function(){this.chart===t.chart&&(t.proxyProvider.updateGroupProxyElementPositions("legend"),t.updateLegendItemProxyVisibility(),-1<t.highlightedLegendItemIx&&this.chart.highlightLegendItem(t.highlightedLegendItemIx))})),this.addEvent(i,"afterPositionItem",(function(e){this.chart===t.chart&&this.chart.renderer&&t.updateProxyPositionForItem(e.item)})),this.addEvent(i,"afterRender",(function(){this.chart===t.chart&&this.chart.renderer&&t.recreateProxies()&&m((()=>t.proxyProvider.updateGroupProxyElementPositions("legend")),u(g(this.chart.renderer.globalAnimation,!0)).duration)}))}updateLegendItemProxyVisibility(){const t=this.chart,e=t.legend,i=e.currentPage||1,o=e.clipHeight||0;let n;(e.allItems||[]).forEach((r=>{if(r.a11yProxyElement){var s=e.pages&&e.pages.length;const l=r.a11yProxyElement.element;var a=!1;n=r.legendItem||{},s&&(r=n.pageIx||0,a=(s=n.y||0)+(a=n.label?Math.round(n.label.getBBox().height):0)-e.pages[r]>o||r!==i-1),a?t.styledMode?_(l,"highcharts-a11y-invisible"):l.style.visibility="hidden":(C(l,"highcharts-a11y-invisible"),l.style.visibility="")}}))}onChartRender(){l(this.chart)||this.removeProxies()}highlightAdjacentLegendPage(t){const e=this.chart;var i=e.legend;t=(i.currentPage||1)+t;var o=i.pages||[];if(0<t&&t<=o.length){o=0;for(const n of i.allItems)((n.legendItem||{}).pageIx||0)+1===t&&(i=e.highlightLegendItem(o))&&(this.highlightedLegendItemIx=o),++o}}updateProxyPositionForItem(t){t.a11yProxyElement&&t.a11yProxyElement.refreshPosition()}recreateProxies(){var t=h.activeElement;const e=this.proxyGroup;return t=t&&e&&e.contains(t),this.removeProxies(),!!l(this.chart)&&(this.addLegendProxyGroup(),this.proxyLegendItems(),this.updateLegendItemProxyVisibility(),this.updateLegendTitle(),t&&this.chart.highlightLegendItem(this.highlightedLegendItemIx),!0)}removeProxies(){this.proxyProvider.removeGroup("legend")}updateLegendTitle(){var t=this.chart;const e=v((t.legend&&t.legend.options.title&&t.legend.options.title.text||"").replace(/<br ?\/?>/g," "));t=t.langFormat("accessibility.legend.legendLabel"+(e?"":"NoTitle"),{chart:t,legendTitle:e,chartTitle:y(t)}),this.proxyProvider.updateGroupAttrs("legend",{"aria-label":t})}addLegendProxyGroup(){this.proxyGroup=this.proxyProvider.addGroup("legend","ul",{"aria-label":"_placeholder_",role:"all"===this.chart.options.accessibility.landmarkVerbosity?"region":null})}proxyLegendItems(){const t=this;let e;((this.chart.legend||{}).allItems||[]).forEach((i=>{e=i.legendItem||{},e.label&&e.label.element&&t.proxyLegendItem(i)}))}proxyLegendItem(t){const e=t.legendItem||{};if(e.label&&e.group){var i=this.chart.langFormat("accessibility.legend.legendItem",{chart:this.chart,itemName:v(t.name),item:t});t.a11yProxyElement=this.proxyProvider.addProxyElement("legend",{click:e.label,visual:(e.group.div?e.label:e.group).element},{tabindex:-1,"aria-pressed":t.visible,"aria-label":i})}}getKeyboardNavigation(){const t=this.keyCodes,e=this,i=this.chart;return new r(i,{keyCodeMap:[[[t.left,t.right,t.up,t.down],function(t){return e.onKbdArrowKey(this,t)}],[[t.enter,t.space],function(){return e.onKbdClick(this)}],[[t.pageDown,t.pageUp],function(i){return e.highlightAdjacentLegendPage(i===t.pageDown?1:-1),this.response.success}]],validate:function(){return e.shouldHaveLegendNavigation()},init:function(){i.highlightLegendItem(0),e.highlightedLegendItemIx=0},terminate:function(){e.highlightedLegendItemIx=-1,i.legend.allItems.forEach((t=>c(!1,t)))}})}onKbdArrowKey(t,e){const i=this.keyCodes,o=t.response,n=this.chart,r=n.options.accessibility,s=n.legend.allItems.length;return e=e===i.left||e===i.up?-1:1,n.highlightLegendItem(this.highlightedLegendItemIx+e)?(this.highlightedLegendItemIx+=e,o.success):(1<s&&r.keyboardNavigation.wrapAround&&t.init(e),o.success)}onKbdClick(t){const e=this.chart.legend.allItems[this.highlightedLegendItemIx];return e&&e.a11yProxyElement&&e.a11yProxyElement.click(),t.response.success}shouldHaveLegendNavigation(){if(!l(this.chart))return!1;const t=this.chart,e=(t.options.legend||{}).accessibility||{};return!!(t.legend.display&&e.keyboardNavigation&&e.keyboardNavigation.enabled)}}return function(t){function e(t){var e=this.legend.allItems,i=this.accessibility&&this.accessibility.components.legend.highlightedLegendItemIx;const o=e[t];var n=o.legendItem||{};return!!o&&(f(i)&&e[i]&&c(!1,e[i]),t=((e=this.legend).allItems[t].legendItem||{}).pageIx,i=e.currentPage,void 0!==t&&t+1!==i&&e.scroll(1+t-i),n=n.label,t=o.a11yProxyElement&&o.a11yProxyElement.buttonElement,n&&n.element&&t&&this.setFocusToElement(n,t),c(!0,o),!0)}function i(t){const e=t.item;this.chart.options.accessibility.enabled&&e&&e.a11yProxyElement&&e.a11yProxyElement.buttonElement.setAttribute("aria-pressed",t.visible?"true":"false")}const n=[];t.compose=function(t,r){o.pushUnique(n,t)&&(t.prototype.highlightLegendItem=e),o.pushUnique(n,r)&&d(r,"afterColorizeItem",i)}}(b||(b={})),b})),e(t,"Accessibility/Components/SeriesComponent/SeriesDescriber.js",[t["Accessibility/Components/AnnotationsA11y.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Core/FormatUtilities.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Core/Utilities.js"]],(function(t,e,i,o,n){function r(t){const e=t.index;return t.series&&t.series.data&&w(e)&&b(t.series.data,(function(t){return!!(t&&void 0!==t.index&&t.index>e&&t.graphic&&t.graphic.element)}))||null}function s(t){const e=t.chart.options.accessibility.series.pointDescriptionEnabledThreshold;return!!(!1!==e&&t.points&&t.points.length>=e)}function a(t,e){var i=t.series,o=i.chart;t=o.options.accessibility.point||{};const n=i.options.accessibility&&i.options.accessibility.point||{};return i=i.tooltipOptions||{},o=o.options.lang,E(e)?v(e,n.valueDecimals||t.valueDecimals||i.valueDecimals||-1,o.decimalPoint,o.accessibility.thousandsSep||o.thousandsSep):e}function l(t,e){return t.chart.langFormat("accessibility.series."+e+"Description",{name:p(t[e]),series:t})}function c(t){var e=t.series,i=1<e.chart.series.length||e.options.name,o=t.series,n=o.chart,r=o.options.accessibility;if(r=r&&r.point&&r.point.valueDescriptionFormat||n.options.accessibility.point.valueDescriptionFormat,o=S(o.xAxis&&o.xAxis.options.accessibility&&o.xAxis.options.accessibility.enabled,!n.angular&&"flowmap"!==o.type)){var s=t.series,l=s.chart,c=s.options.accessibility&&s.options.accessibility.point||{},u=l.options.accessibility.point||{};(s=s.xAxis&&s.xAxis.dateTime)?(s=s.getXDateFormat(t.x||0,l.options.tooltip.dateTimeLabelFormats),c=c.dateFormatter&&c.dateFormatter(t)||u.dateFormatter&&u.dateFormatter(t)||c.dateFormat||u.dateFormat||s,l=l.time.dateFormat(c,t.x||0,void 0)):l=void 0,c=(t.series.xAxis||{}).categories&&w(t.category)&&(""+t.category).replace("<br/>"," "),u=w(t.id)&&0>(""+t.id).indexOf("highcharts-"),s="x, "+t.x,l=t.name||l||c||(u?t.id:s)}else l="";c=l,l=w(t.index)?t.index+1:"";{var h=(u=t.series).chart.options.accessibility.point||{},p=u.chart.options.accessibility&&u.chart.options.accessibility.point||{};const e=u.tooltipOptions||{};s=p.valuePrefix||h.valuePrefix||e.valuePrefix||"",h=p.valueSuffix||h.valueSuffix||e.valueSuffix||"",p=a(t,t[void 0!==t.value?"value":"y"]),u=t.isNull?u.chart.langFormat("accessibility.series.nullPointValue",{point:t}):u.pointArrayMap?function(t,e,i){const o=e||"",n=i||"";return t.series.pointArrayMap.reduce((function(e,i){{const e=a(t,S(t[i],t.options[i]));i=void 0!==e?i+": "+o+e+n:e}return i?e+(e.length?", ":"")+i:e}),"")}(t,s,h):s+p+h}return n=y(r,{point:t,index:l,xDescription:c,value:u,separator:o?", ":""},n),r=(r=t.options&&t.options.accessibility&&t.options.accessibility.description)?" "+r:"",e=i?" "+e.name+".":"",i=t.series.chart,l={point:t,annotations:o=d(t)},i=o.length?i.langFormat("accessibility.series.pointAnnotationsDescription",l):"",t.accessibility=t.accessibility||{},t.accessibility.valueDescription=n,n+r+e+(i?" "+i:"")}function u(t){const e=function(t){const e=t.options.accessibility||{};return!s(t)&&!e.exposeAsGroupOnly}(t),i=function(t){const e=t.chart.options.accessibility.keyboardNavigation.seriesNavigation;return!(!t.points||!(t.points.length<e.pointNavigationEnabledThreshold||!1===e.pointNavigationEnabledThreshold))}(t),o=t.chart.options.accessibility.point.describeNull;(e||i)&&t.points.forEach((i=>{var n;if(!(n=i.graphic&&i.graphic.element)){var s=i.series;if(n=s&&s.chart,s=s&&s.is("sunburst"),n=n&&n.options.accessibility.point.describeNull,n=i.isNull&&!s&&n){s=i.series;var a=r(i);s=(n=a&&a.graphic)?n.parentGroup:s.graph||s.group,a=a?{x:S(i.plotX,a.plotX,0),y:S(i.plotY,a.plotY,0)}:{x:S(i.plotX,0),y:S(i.plotY,0)},(a=i.series.chart.renderer.rect(a.x,a.y,1,1)).attr({class:"highcharts-a11y-mock-point",fill:"none",opacity:0,"fill-opacity":0,"stroke-opacity":0}),s&&s.element?(i.graphic=a,i.hasMockGraphic=!0,a.add(s),s.element.insertBefore(a.element,n?n.element:null),n=a.element):n=void 0}}s=i.options&&i.options.accessibility&&!1===i.options.accessibility.enabled,n&&(i.isNull&&!o?n.setAttribute("aria-hidden",!0):(n.setAttribute("tabindex","-1"),t.chart.styledMode||(n.style.outline="none"),e&&!s?(s=(a=i.series).chart.options.accessibility.point||{},a=a.options.accessibility&&a.options.accessibility.point||{},i=C(a.descriptionFormatter&&a.descriptionFormatter(i)||s.descriptionFormatter&&s.descriptionFormatter(i)||c(i)),n.setAttribute("role","img"),n.setAttribute("aria-label",i)):n.setAttribute("aria-hidden",!0)))}))}function h(t){const e=t.chart;var i=e.types||[];const o=function(t){const e=(t.options.accessibility||{}).description;return e&&t.chart.langFormat("accessibility.series.description",{description:e,series:t})||""}(t);var n=function(i){return e[i]&&1<e[i].length&&t[i]};const r=t.index+1;var s=l(t,"xAxis");const a=l(t,"yAxis");var c={seriesNumber:r,series:t,chart:e};return i=1<i.length?"Combination":"",c=e.langFormat("accessibility.series.summary."+t.type+i,c)||e.langFormat("accessibility.series.summary.default"+i,c),n=(n("yAxis")?" "+a+".":"")+(n("xAxis")?" "+s+".":""),s=S(t.options.accessibility&&t.options.accessibility.descriptionFormat,e.options.accessibility.series.descriptionFormat,""),y(s,{seriesDescription:c,authorDescription:o?" "+o:"",axisDescription:n,series:t,chart:e,seriesNumber:r},void 0)}const{getPointAnnotationTexts:d}=t,{getAxisDescription:p,getSeriesFirstPointElement:f,getSeriesA11yElement:g,unhideChartElementFromAT:m}=e,{format:y,numberFormat:v}=i,{reverseChildNodes:_,stripHTMLTagsFromString:C}=o,{find:b,isNumber:E,pick:S,defined:w}=n;return{defaultPointDescriptionFormatter:c,defaultSeriesDescriptionFormatter:h,describeSeries:function(t){var e=t.chart,i=f(t);const o=g(t);var n=e.is3d&&e.is3d();if(o){o.lastChild!==i||n||_(o),u(t),m(e,o);{e=(n=t.chart).options.chart,i=1<n.series.length,n=n.options.accessibility.series.describeSingleSeries;const o=(t.options.accessibility||{}).exposeAsGroupOnly;e=!(e.options3d&&e.options3d.enabled&&i)&&(i||n||o||s(t))}e?(i=(e=t.chart.options.accessibility).landmarkVerbosity,(t.options.accessibility||{}).exposeAsGroupOnly?o.setAttribute("role","img"):"all"===i?o.setAttribute("role","region"):o.setAttribute("role","group"),o.setAttribute("tabindex","-1"),t.chart.styledMode||(o.style.outline="none"),o.setAttribute("aria-label",C(e.series.descriptionFormatter&&e.series.descriptionFormatter(t)||h(t)))):o.removeAttribute("aria-label")}}}})),e(t,"Accessibility/Components/SeriesComponent/NewDataAnnouncer.js",[t["Core/Globals.js"],t["Core/Utilities.js"],t["Accessibility/Utils/Announcer.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/EventProvider.js"],t["Accessibility/Components/SeriesComponent/SeriesDescriber.js"]],(function(t,e,i,o,n,r){const{addEvent:s,defined:a}=e,{getChartTitle:l}=o,{defaultPointDescriptionFormatter:c,defaultSeriesDescriptionFormatter:u}=r;class h{constructor(t){this.announcer=void 0,this.dirty={allSeries:{}},this.eventProvider=void 0,this.lastAnnouncementTime=0,this.chart=t}init(){const t=this.chart,e=t.options.accessibility.announceNewData.interruptUser?"assertive":"polite";this.lastAnnouncementTime=0,this.dirty={allSeries:{}},this.eventProvider=new n,this.announcer=new i(t,e),this.addEventListeners()}destroy(){this.eventProvider.removeAddedEvents(),this.announcer.destroy()}addEventListeners(){const t=this,e=this.chart,i=this.eventProvider;i.addEvent(e,"afterApplyDrilldown",(function(){t.lastAnnouncementTime=0})),i.addEvent(e,"afterAddSeries",(function(e){t.onSeriesAdded(e.series)})),i.addEvent(e,"redraw",(function(){t.announceDirtyData()}))}onSeriesAdded(t){this.chart.options.accessibility.announceNewData.enabled&&(this.dirty.hasDirty=!0,this.dirty.allSeries[t.name+t.index]=t,this.dirty.newSeries=a(this.dirty.newSeries)?void 0:t)}announceDirtyData(){const t=this;if(this.chart.options.accessibility.announceNewData&&this.dirty.hasDirty){let e=this.dirty.newPoint;e&&(e=function(t){const e=t.series.data.filter((e=>t.x===e.x&&t.y===e.y));return 1===e.length?e[0]:t}(e)),this.queueAnnouncement(Object.keys(this.dirty.allSeries).map((e=>t.dirty.allSeries[e])),this.dirty.newSeries,e),this.dirty={allSeries:{}}}}queueAnnouncement(t,e,i){var o=this.chart.options.accessibility.announceNewData;if(o.enabled){const n=+new Date;o=Math.max(0,o.minAnnounceInterval-(n-this.lastAnnouncementTime)),t=function(t,e){const i=(t||[]).concat(e||[]).reduce(((t,e)=>(t[e.name+e.index]=e,t)),{});return Object.keys(i).map((t=>i[t]))}(this.queuedAnnouncement&&this.queuedAnnouncement.series,t),(e=this.buildAnnouncementMessage(t,e,i))&&(this.queuedAnnouncement&&clearTimeout(this.queuedAnnouncementTimer),this.queuedAnnouncement={time:n,message:e,series:t},this.queuedAnnouncementTimer=setTimeout((()=>{this&&this.announcer&&(this.lastAnnouncementTime=+new Date,this.announcer.announce(this.queuedAnnouncement.message),delete this.queuedAnnouncement,delete this.queuedAnnouncementTimer)}),o))}}buildAnnouncementMessage(e,i,o){const n=this.chart;var r=n.options.accessibility.announceNewData;return r.announcementFormatter&&!1!==(e=r.announcementFormatter(e,i,o))?e.length?e:null:(e=t.charts&&1<t.charts.length?"Multiple":"Single",e=i?"newSeriesAnnounce"+e:o?"newPointAnnounce"+e:"newDataAnnounce",r=l(n),n.langFormat("accessibility.announceNewData."+e,{chartTitle:r,seriesDesc:i?u(i):null,pointDesc:o?c(o):null,point:o,series:i}))}}return function(t){function i(t){const e=this.chart,i=this.newDataAnnouncer;i&&i.chart===e&&e.options.accessibility.announceNewData.enabled&&(i.dirty.newPoint=a(i.dirty.newPoint)?void 0:t.point)}function o(){const t=this.chart,e=this.newDataAnnouncer;e&&e.chart===t&&t.options.accessibility.announceNewData.enabled&&(e.dirty.hasDirty=!0,e.dirty.allSeries[this.name+this.index]=this)}t.composedMembers=[],t.compose=function(n){e.pushUnique(t.composedMembers,n)&&(s(n,"addPoint",i),s(n,"updatedData",o))}}(h||(h={})),h})),e(t,"Accessibility/ProxyElement.js",[t["Core/Globals.js"],t["Core/Utilities.js"],t["Accessibility/Utils/EventProvider.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/HTMLUtilities.js"]],(function(t,e,i,o,n){const{doc:r}=t,{attr:s,css:a,merge:l}=e,{fireEventOnWrappedOrUnwrappedElement:c}=o,{cloneMouseEvent:u,cloneTouchEvent:h,getFakeMouseEvent:d,removeElement:p}=n;return class{constructor(t,e,o,n){this.chart=t,this.target=e,this.groupType=o,o="ul"===o,this.eventProvider=new i;const s=o?r.createElement("li"):null,a=this.buttonElement=r.createElement("button");t.styledMode||this.hideButtonVisually(a),s?(o&&!t.styledMode&&(s.style.listStyle="none"),s.appendChild(a),this.element=s):this.element=a,this.updateTarget(e,n)}click(){var t=this.getTargetPosition();t.x+=t.width/2,t.y+=t.height/2,t=d("click",t),c(this.target.click,t)}updateTarget(t,e){this.target=t,this.updateCSSClassName();const i=e||{};Object.keys(i).forEach((t=>{null===i[t]&&delete i[t]})),s(this.buttonElement,l({"aria-label":this.getTargetAttr(t.click,"aria-label")},i)),this.eventProvider.removeAddedEvents(),this.addProxyEventsToButton(this.buttonElement,t.click),this.refreshPosition()}refreshPosition(){const t=this.getTargetPosition();a(this.buttonElement,{width:(t.width||1)+"px",height:(t.height||1)+"px",left:(Math.round(t.x)||0)+"px",top:(Math.round(t.y)||0)+"px"})}remove(){this.eventProvider.removeAddedEvents(),p(this.element)}updateCSSClassName(){var t=this.chart.legend;t=-1<((t=t.group&&t.group.div)&&t.className||"").indexOf("highcharts-no-tooltip");const e=-1<(this.getTargetAttr(this.target.click,"class")||"").indexOf("highcharts-no-tooltip");this.buttonElement.className=t||e?"highcharts-a11y-proxy-button highcharts-no-tooltip":"highcharts-a11y-proxy-button"}addProxyEventsToButton(t,e){"click touchstart touchend touchcancel touchmove mouseover mouseenter mouseleave mouseout".split(" ").forEach((i=>{const o=0===i.indexOf("touch");this.eventProvider.addEvent(t,i,(t=>{const i=o?h(t):u(t);e&&c(e,i),t.stopPropagation(),o||t.preventDefault()}),{passive:!1})}))}hideButtonVisually(t){a(t,{borderWidth:0,backgroundColor:"transparent",cursor:"pointer",outline:"none",opacity:.001,filter:"alpha(opacity=1)",zIndex:999,overflow:"hidden",padding:0,margin:0,display:"block",position:"absolute","-ms-filter":"progid:DXImageTransform.Microsoft.Alpha(Opacity=1)"})}getTargetPosition(){var t=this.target.click;if(t=t.element?t.element:t,t=this.target.visual||t,this.chart.renderTo&&t&&t.getBoundingClientRect){t=t.getBoundingClientRect();const e=this.chart.pointer.getChartPosition();return{x:(t.left-e.left)/e.scaleX,y:(t.top-e.top)/e.scaleY,width:t.right/e.scaleX-t.left/e.scaleX,height:t.bottom/e.scaleY-t.top/e.scaleY}}return{x:0,y:0,width:1,height:1}}getTargetAttr(t,e){return t.element?t.element.getAttribute(e):t.getAttribute(e)}}})),e(t,"Accessibility/ProxyProvider.js",[t["Core/Globals.js"],t["Core/Utilities.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/DOMElementProvider.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Accessibility/ProxyElement.js"]],(function(t,e,i,o,n,r){const{doc:s}=t,{attr:a,css:l}=e,{unhideChartElementFromAT:c}=i,{removeElement:u,removeChildNodes:h}=n;return class{constructor(t){this.chart=t,this.domElementProvider=new o,this.groups={},this.groupOrder=[],this.beforeChartProxyPosContainer=this.createProxyPosContainer("before"),this.afterChartProxyPosContainer=this.createProxyPosContainer("after"),this.update()}addProxyElement(t,e,i){const o=this.groups[t];if(!o)throw Error("ProxyProvider.addProxyElement: Invalid group key "+t);return t=new r(this.chart,e,o.type,i),o.proxyContainerElement.appendChild(t.element),o.proxyElements.push(t),t}addGroup(t,e,i){var o=this.groups[t];if(o)return o.groupElement;let n;return o=this.domElementProvider.createElement(e),i&&i.role&&"div"!==e?(n=this.domElementProvider.createElement("div"),n.appendChild(o)):n=o,n.className="highcharts-a11y-proxy-group highcharts-a11y-proxy-group-"+t.replace(/\W/g,"-"),this.groups[t]={proxyContainerElement:o,groupElement:n,type:e,proxyElements:[]},a(n,i||{}),"ul"===e&&o.setAttribute("role","list"),this.afterChartProxyPosContainer.appendChild(n),this.updateGroupOrder(this.groupOrder),n}updateGroupAttrs(t,e){const i=this.groups[t];if(!i)throw Error("ProxyProvider.updateGroupAttrs: Invalid group key "+t);a(i.groupElement,e)}updateGroupOrder(t){if(this.groupOrder=t.slice(),!this.isDOMOrderGroupOrder()){var e=t.indexOf("series"),i=-1<e?t.slice(0,e):t,o=-1<e?t.slice(e+1):[];t=s.activeElement,["before","after"].forEach((t=>{const e=this["before"===t?"beforeChartProxyPosContainer":"afterChartProxyPosContainer"];t="before"===t?i:o,h(e),t.forEach((t=>{(t=this.groups[t])&&e.appendChild(t.groupElement)}))})),(this.beforeChartProxyPosContainer.contains(t)||this.afterChartProxyPosContainer.contains(t))&&t&&t.focus&&t.focus()}}clearGroup(t){const e=this.groups[t];if(!e)throw Error("ProxyProvider.clearGroup: Invalid group key "+t);h(e.proxyContainerElement)}removeGroup(t){const e=this.groups[t];e&&(u(e.groupElement),delete this.groups[t])}update(){this.updatePosContainerPositions(),this.updateGroupOrder(this.groupOrder),this.updateProxyElementPositions()}updateProxyElementPositions(){Object.keys(this.groups).forEach(this.updateGroupProxyElementPositions.bind(this))}updateGroupProxyElementPositions(t){(t=this.groups[t])&&t.proxyElements.forEach((t=>t.refreshPosition()))}destroy(){this.domElementProvider.destroyCreatedElements()}createProxyPosContainer(t){const e=this.domElementProvider.createElement("div");return e.setAttribute("aria-hidden","false"),e.className="highcharts-a11y-proxy-container"+(t?"-"+t:""),l(e,{top:"0",left:"0"}),this.chart.styledMode||(e.style.whiteSpace="nowrap",e.style.position="absolute"),e}getCurrentGroupOrderInDOM(){const t=t=>{const e=Object.keys(this.groups);let i=e.length;for(;i--;){const o=e[i],n=this.groups[o];if(n&&t===n.groupElement)return o}};var e=e=>{const i=[];e=e.children;for(let o=0;o<e.length;++o){const n=t(e[o]);n&&i.push(n)}return i};const i=e(this.beforeChartProxyPosContainer);return e=e(this.afterChartProxyPosContainer),i.push("series"),i.concat(e)}isDOMOrderGroupOrder(){const t=this.getCurrentGroupOrderInDOM(),e=this.groupOrder.filter((t=>"series"===t||!!this.groups[t]));let i=t.length;if(i!==e.length)return!1;for(;i--;)if(t[i]!==e[i])return!1;return!0}updatePosContainerPositions(){const t=this.chart;if(!t.renderer.forExport){var e=t.renderer.box;t.container.insertBefore(this.afterChartProxyPosContainer,e.nextSibling),t.container.insertBefore(this.beforeChartProxyPosContainer,e),c(this.chart,this.afterChartProxyPosContainer),c(this.chart,this.beforeChartProxyPosContainer)}}}})),e(t,"Stock/RangeSelector/RangeSelectorDefaults.js",[],(function(){return{lang:{rangeSelectorZoom:"Zoom",rangeSelectorFrom:"",rangeSelectorTo:"→"},rangeSelector:{allButtonsEnabled:!1,buttons:void 0,buttonSpacing:5,dropdown:"responsive",enabled:void 0,verticalAlign:"top",buttonTheme:{width:28,height:18,padding:2,zIndex:7},floating:!1,x:0,y:0,height:void 0,inputBoxBorderColor:"none",inputBoxHeight:17,inputBoxWidth:void 0,inputDateFormat:"%e %b %Y",inputDateParser:void 0,inputEditDateFormat:"%Y-%m-%d",inputEnabled:!0,inputPosition:{align:"right",x:0,y:0},inputSpacing:5,selected:void 0,buttonPosition:{align:"left",x:0,y:0},inputStyle:{color:"#334eff",cursor:"pointer",fontSize:"0.8em"},labelStyle:{color:"#666666",fontSize:"0.8em"}}}})),e(t,"Stock/RangeSelector/RangeSelectorComposition.js",[t["Core/Defaults.js"],t["Stock/RangeSelector/RangeSelectorDefaults.js"],t["Core/Utilities.js"]],(function(t,e,i){function o(){const t=this.range,e=t.type,i=this.max,o=this.chart.time,n=function(t,i){const n="year"===e?"FullYear":"Month",r=new o.Date(t),s=o.get(n,r);return o.set(n,r,s+i),s===o.get(n,r)&&o.set("Date",r,0),r.getTime()-t};let r,s;y(t)?(r=i-t,s=t):t&&(r=i+n(i,-(t.count||1)),this.chart&&(this.chart.fixedRange=i-r));const a=_(this.dataMin,Number.MIN_VALUE);return y(r)||(r=a),r<=a&&(r=a,void 0===s&&(s=n(r,t.count)),this.newMax=Math.min(r+s,_(this.dataMax,Number.MAX_VALUE))),y(i)?!y(t)&&t&&t._offsetMin&&(r+=t._offsetMin):r=void 0,r}function n(){this.options.rangeSelector&&this.options.rangeSelector.enabled&&(this.rangeSelector=new E(this))}function r(){var t=this.axes;const e=this.rangeSelector;e&&(y(e.deferredYTDClick)&&(e.clickButton(e.deferredYTDClick),delete e.deferredYTDClick),t.forEach((t=>{t.updateNames(),t.setScale()})),this.getAxisMargins(),e.render(),t=e.options.verticalAlign,e.options.floating||("bottom"===t?this.extraBottomMargin=!0:"middle"!==t&&(this.extraTopMargin=!0)))}function s(t){let e,i,o,n;const r=t.rangeSelector,s=()=>{r&&(e=t.xAxis[0].getExtremes(),i=t.legend,n=r&&r.options.verticalAlign,y(e.min)&&r.render(e.min,e.max),i.display&&"top"===n&&n===i.options.verticalAlign&&(o=v(t.spacingBox),o.y="vertical"===i.options.layout?t.plotTop:o.y+r.getHeight(),i.group.placed=!1,i.align(o)))};r&&(m(C,(e=>e[0]===t))||C.push([t,[p(t.xAxis[0],"afterSetExtremes",(function(t){r&&r.render(t.min,t.max)})),p(t,"redraw",s)]]),s())}function a(){for(let t=0,e=C.length;t<e;++t){const e=C[t];if(e[0]===this){e[1].forEach((t=>t())),C.splice(t,1);break}}}function l(){var t=this.rangeSelector;t&&(t=t.getHeight(),this.extraTopMargin&&(this.plotTop+=t),this.extraBottomMargin&&(this.marginBottom+=t))}function c(){var t=this.rangeSelector;t&&!t.options.floating&&(t.render(),"bottom"===(t=t.options.verticalAlign)?this.extraBottomMargin=!0:"middle"!==t&&(this.extraTopMargin=!0))}function u(t){var e=t.options.rangeSelector;t=this.extraBottomMargin;const i=this.extraTopMargin;let o=this.rangeSelector;e&&e.enabled&&!f(o)&&this.options.rangeSelector&&(this.options.rangeSelector.enabled=!0,this.rangeSelector=o=new E(this)),this.extraTopMargin=this.extraBottomMargin=!1,o&&(s(this),e=e&&e.verticalAlign||o.options&&o.options.verticalAlign,o.options.floating||("bottom"===e?this.extraBottomMargin=!0:"middle"!==e&&(this.extraTopMargin=!0)),this.extraBottomMargin!==t||this.extraTopMargin!==i)&&(this.isDirtyBox=!0)}const{defaultOptions:h,setOptions:d}=t,{addEvent:p,defined:f,extend:g,find:m,isNumber:y,merge:v,pick:_}=i,C=[],b=[];let E;return{compose:function(t,f,m){E=m,i.pushUnique(b,t)&&(t.prototype.minFromRange=o),i.pushUnique(b,f)&&(p(f,"afterGetContainer",n),p(f,"beforeRender",r),p(f,"destroy",a),p(f,"getMargins",l),p(f,"render",c),p(f,"update",u),f.prototype.callbacks.push(s)),i.pushUnique(b,d)&&(g(h,{rangeSelector:e.rangeSelector}),g(h.lang,e.lang))}}})),e(t,"Stock/RangeSelector/RangeSelector.js",[t["Core/Axis/Axis.js"],t["Core/Defaults.js"],t["Core/Globals.js"],t["Stock/RangeSelector/RangeSelectorComposition.js"],t["Core/Renderer/SVG/SVGElement.js"],t["Core/Utilities.js"]],(function(t,e,i,o,n,r){const{defaultOptions:s}=e,{addEvent:a,createElement:l,css:c,defined:u,destroyObjectProperties:h,discardElement:d,extend:p,fireEvent:f,isNumber:g,merge:m,objectEach:y,pad:v,pick:_,pInt:C,splat:b}=r;class E{static compose(t,e){o.compose(t,e,E)}constructor(t){this.buttons=void 0,this.buttonOptions=E.prototype.defaultButtons,this.initialButtonGroupWidth=0,this.options=void 0,this.chart=t,this.init(t)}clickButton(e,i){const o=this.chart,n=this.buttonOptions[e],r=o.xAxis[0];var s=o.scroller&&o.scroller.getUnionExtremes()||r||{},l=n.type;const c=n.dataGrouping;let h,d,p=s.dataMin,m=s.dataMax,y=r&&Math.round(Math.min(r.max,_(m,r.max)));s=n._range;let v,C,E,S=!0;if(null!==p&&null!==m){if(o.fixedRange=s,this.setSelected(e),c&&(this.forcedDataGrouping=!0,t.prototype.setDataGrouping.call(r||{chart:this.chart},c,!1),this.frozenStates=n.preserveDataGrouping),"month"===l||"year"===l)r?(l={range:n,max:y,chart:o,dataMin:p,dataMax:m},h=r.minFromRange.call(l),g(l.newMax)&&(y=l.newMax),S=!1):s=n;else if(s)h=Math.max(y-s,p),y=Math.min(h+s,m),S=!1;else if("ytd"===l){if(!r)return void(this.deferredYTDClick=e);void 0!==m&&void 0!==p||(p=Number.MAX_VALUE,m=Number.MIN_VALUE,o.series.forEach((t=>{(t=t.xData)&&(p=Math.min(t[0],p),m=Math.max(t[t.length-1],m))})),i=!1),h=v=(l=this.getYTDExtremes(m,p,o.time.useUTC)).min,y=l.max}else"all"===l&&r&&(o.navigator&&o.navigator.baseSeries[0]&&(o.navigator.baseSeries[0].xAxis.options.range=void 0),h=p,y=m);S&&n._offsetMin&&u(h)&&(h+=n._offsetMin),n._offsetMax&&u(y)&&(y+=n._offsetMax),this.dropdown&&(this.dropdown.selectedIndex=e+1),r?r.setExtremes(h,y,_(i,!0),void 0,{trigger:"rangeSelectorButton",rangeSelectorButton:n}):(d=b(o.options.xAxis)[0],E=d.range,d.range=s,C=d.min,d.min=v,a(o,"load",(function(){d.range=E,d.min=C}))),f(this,"afterBtnClick")}}setSelected(t){this.selected=this.options.selected=t}init(t){const e=this,i=t.options.rangeSelector,o=i.buttons||e.defaultButtons.slice(),n=i.selected,r=function(){const t=e.minInput,i=e.maxInput;t&&t.blur&&f(t,"blur"),i&&i.blur&&f(i,"blur")};e.chart=t,e.options=i,e.buttons=[],e.buttonOptions=o,this.eventsToUnbind=[],this.eventsToUnbind.push(a(t.container,"mousedown",r)),this.eventsToUnbind.push(a(t,"resize",r)),o.forEach(e.computeButtonRange),void 0!==n&&o[n]&&this.clickButton(n,!1),this.eventsToUnbind.push(a(t,"load",(function(){t.xAxis&&t.xAxis[0]&&a(t.xAxis[0],"setExtremes",(function(i){this.max-this.min!==t.fixedRange&&"rangeSelectorButton"!==i.trigger&&"updatedData"!==i.trigger&&e.forcedDataGrouping&&!e.frozenStates&&this.setDataGrouping(!1,!1)}))})))}updateButtonStates(){const t=this;var e=this.chart;const i=this.dropdown,o=e.xAxis[0],n=Math.round(o.max-o.min),r=!o.hasVisibleSeries,s=e.scroller&&e.scroller.getUnionExtremes()||o,a=s.dataMin,l=s.dataMax,c=(e=t.getYTDExtremes(l,a,e.time.useUTC)).min,u=e.max,h=t.selected,d=t.options.allButtonsEnabled,p=t.buttons;let f=g(h);t.buttonOptions.forEach(((e,s)=>{var g=e._range,m=e.type,y=e.count||1;const v=p[s],_=e._offsetMax-e._offsetMin,C=s===h,b=g>l-a,E=g<o.minRange;e=0;let S=!1,w=!1;g=g===n,("month"===m||"year"===m)&&n+36e5>=864e5*{month:28,year:365}[m]*y-_&&n-36e5<=864e5*{month:31,year:366}[m]*y+_?g=!0:"ytd"===m?(g=u-c+_===n,S=!C):"all"===m&&(g=o.max-o.min>=l-a,w=!C&&f&&g),m=!d&&(b||E||w||r),y=C&&g||g&&!f&&!S||C&&t.frozenStates,m?e=3:y&&(f=!0,e=2),v.state!==e&&(v.setState(e),i&&(i.options[s+1].disabled=m,2===e&&(i.selectedIndex=s+1)),0===e&&h===s&&t.setSelected())}))}computeButtonRange(t){const e=t.type,i=t.count||1,o={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5};o[e]?t._range=o[e]*i:"month"!==e&&"year"!==e||(t._range=864e5*{month:30,year:365}[e]*i),t._offsetMin=_(t.offsetMin,0),t._offsetMax=_(t.offsetMax,0),t._range+=t._offsetMax-t._offsetMin}getInputValue(t){t="min"===t?this.minInput:this.maxInput;const e=this.chart.options.rangeSelector,i=this.chart.time;return t?("text"===t.type&&e.inputDateParser||this.defaultInputDateParser)(t.value,i.useUTC,i):0}setInputValue(t,e){const i=this.options,o=this.chart.time,n="min"===t?this.minInput:this.maxInput;if(t="min"===t?this.minDateBox:this.maxDateBox,n){var r=n.getAttribute("data-hc-time");r=u(r)?Number(r):void 0,u(e)&&(u(r)&&n.setAttribute("data-hc-time-previous",r),n.setAttribute("data-hc-time",e),r=e),n.value=o.dateFormat(this.inputTypeFormats[n.type]||i.inputEditDateFormat,r),t&&t.attr({text:o.dateFormat(i.inputDateFormat,r)})}}setInputExtremes(t,e,i){if(t="min"===t?this.minInput:this.maxInput){const o=this.inputTypeFormats[t.type],n=this.chart.time;o&&(e=n.dateFormat(o,e),t.min!==e&&(t.min=e),i=n.dateFormat(o,i),t.max!==i&&(t.max=i))}}showInput(t){const e="min"===t?this.minDateBox:this.maxDateBox;if((t="min"===t?this.minInput:this.maxInput)&&e&&this.inputGroup){const i="text"===t.type,{translateX:o,translateY:n}=this.inputGroup,{inputBoxWidth:r}=this.options;c(t,{width:i?e.width+(r?-2:20)+"px":"auto",height:e.height-2+"px",border:"2px solid silver"}),c(t,i&&r?{left:o+e.x+"px",top:n+"px"}:{left:Math.min(Math.round(e.x+o-(t.offsetWidth-e.width)/2),this.chart.chartWidth-t.offsetWidth)+"px",top:n-(t.offsetHeight-e.height)/2+"px"})}}hideInput(t){(t="min"===t?this.minInput:this.maxInput)&&c(t,{top:"-9999em",border:0,width:"1px",height:"1px"})}defaultInputDateParser(t,e,o){var n,r=t.split("/").join("-").split(" ").join("T");return-1===r.indexOf("T")&&(r+="T00:00"),e?r+="Z":((n=i.isSafari)&&(n=!(6<(n=r).length&&(n.lastIndexOf("-")===n.length-6||n.lastIndexOf("+")===n.length-6))),n&&(r+=0>=(n=new Date(r).getTimezoneOffset()/60)?`+${v(-n)}:00`:`-${v(n)}:00`)),r=Date.parse(r),g(r)||(t=t.split("-"),r=Date.UTC(C(t[0]),C(t[1])-1,C(t[2]))),o&&e&&g(r)&&(r+=o.getTimezoneOffset(r)),r}drawInput(t){function e(){const{maxInput:e,minInput:i}=a,n=o.xAxis[0];var r=o.scroller&&o.scroller.xAxis?o.scroller.xAxis:n;const s=r.dataMin;r=r.dataMax;let l=a.getInputValue(t);l!==Number(v.getAttribute("data-hc-time-previous"))&&g(l)&&(v.setAttribute("data-hc-time-previous",l),f&&e&&g(s)?l>Number(e.getAttribute("data-hc-time"))?l=void 0:l<s&&(l=s):i&&g(r)&&(l<Number(i.getAttribute("data-hc-time"))?l=void 0:l>r&&(l=r)),void 0!==l&&n.setExtremes(f?l:n.min,f?n.max:l,void 0,void 0,{trigger:"rangeSelectorInput"}))}const{chart:o,div:n,inputGroup:r}=this,a=this,u=o.renderer.style||{};var h=o.renderer;const d=o.options.rangeSelector,f="min"===t;var y=s.lang[f?"rangeSelectorFrom":"rangeSelectorTo"]||"";y=h.label(y,0).addClass("highcharts-range-label").attr({padding:y?2:0,height:y?d.inputBoxHeight:0}).add(r),h=h.label("",0).addClass("highcharts-range-input").attr({padding:2,width:d.inputBoxWidth,height:d.inputBoxHeight,"text-align":"center"}).on("click",(function(){a.showInput(t),a[t+"Input"].focus()})),o.styledMode||h.attr({stroke:d.inputBoxBorderColor,"stroke-width":1}),h.add(r);const v=l("input",{name:t,className:"highcharts-range-selector"},void 0,n);v.setAttribute("type",function(t){if(-1!==t.indexOf("%L"))return"text";const e="aAdewbBmoyY".split("").some((e=>-1!==t.indexOf("%"+e))),i="HkIlMS".split("").some((e=>-1!==t.indexOf("%"+e)));return e&&i?"datetime-local":e?"date":i?"time":"text"}(d.inputDateFormat||"%e %b %Y")),o.styledMode||(y.css(m(u,d.labelStyle)),h.css(m({color:"#333333"},u,d.inputStyle)),c(v,p({position:"absolute",border:0,boxShadow:"0 0 15px rgba(0,0,0,0.3)",width:"1px",height:"1px",padding:0,textAlign:"center",fontSize:u.fontSize,fontFamily:u.fontFamily,top:"-9999em"},d.inputStyle))),v.onfocus=()=>{a.showInput(t)},v.onblur=()=>{v===i.doc.activeElement&&e(),a.hideInput(t),a.setInputValue(t),v.blur()};let _=!1;return v.onchange=()=>{_||(e(),a.hideInput(t),v.blur())},v.onkeypress=t=>{13===t.keyCode&&e()},v.onkeydown=t=>{_=!0,38!==t.keyCode&&40!==t.keyCode||e()},v.onkeyup=()=>{_=!1},{dateBox:h,input:v,label:y}}getPosition(){var t=this.chart;const e=t.options.rangeSelector;return{buttonTop:(t="top"===e.verticalAlign?t.plotTop-t.axisOffset[0]:0)+e.buttonPosition.y,inputTop:t+e.inputPosition.y-10}}getYTDExtremes(t,e,i){const o=this.chart.time;var n=new o.Date(t);const r=o.get("FullYear",n);return i=i?o.Date.UTC(r,0,1):+new o.Date(r,0,1),e=Math.max(e,i),n=n.getTime(),{max:Math.min(t||n,n),min:e}}render(t,e){var i=this.chart,o=i.renderer;const n=i.container;var r=i.options;const s=r.rangeSelector,a=_(r.chart.style&&r.chart.style.zIndex,0)+1;if(r=s.inputEnabled,!1!==s.enabled){if(this.rendered||(this.group=o.g("range-selector-group").attr({zIndex:7}).add(),this.div=l("div",void 0,{position:"relative",height:0,zIndex:a}),this.buttonOptions.length&&this.renderButtons(),n.parentNode&&n.parentNode.insertBefore(this.div,n),r&&(this.inputGroup=o.g("input-group").add(this.group),o=this.drawInput("min"),this.minDateBox=o.dateBox,this.minLabel=o.label,this.minInput=o.input,o=this.drawInput("max"),this.maxDateBox=o.dateBox,this.maxLabel=o.label,this.maxInput=o.input)),r&&(this.setInputValue("min",t),this.setInputValue("max",e),t=i.scroller&&i.scroller.getUnionExtremes()||i.xAxis[0]||{},u(t.dataMin)&&u(t.dataMax)&&(i=i.xAxis[0].minRange||0,this.setInputExtremes("min",t.dataMin,Math.min(t.dataMax,this.getInputValue("max"))-i),this.setInputExtremes("max",Math.max(t.dataMin,this.getInputValue("min"))+i,t.dataMax)),this.inputGroup)){let t=0;[this.minLabel,this.minDateBox,this.maxLabel,this.maxDateBox].forEach((e=>{if(e){const{width:i}=e.getBBox();i&&(e.attr({x:t}),t+=i+s.inputSpacing)}}))}this.alignElements(),this.rendered=!0}}renderButtons(){const{buttons:t,chart:e,options:o}=this,n=s.lang,r=e.renderer,c=m(o.buttonTheme),u=c&&c.states,h=c.width||28;delete c.width,delete c.states,this.buttonGroup=r.g("range-selector-buttons").add(this.group);const d=this.dropdown=l("select",void 0,{position:"absolute",width:"1px",height:"1px",padding:0,border:0,top:"-9999em",cursor:"pointer",opacity:1e-4},this.div);a(d,"touchstart",(()=>{d.style.fontSize="16px"})),[[i.isMS?"mouseover":"mouseenter"],[i.isMS?"mouseout":"mouseleave"],["change","click"]].forEach((([e,i])=>{a(d,e,(()=>{const o=t[this.currentButtonIndex()];o&&f(o.element,i||e)}))})),this.zoomText=r.label(n&&n.rangeSelectorZoom||"",0).attr({padding:o.buttonTheme.padding,height:o.buttonTheme.height,paddingLeft:0,paddingRight:0}).add(this.buttonGroup),this.chart.styledMode||(this.zoomText.css(o.labelStyle),c["stroke-width"]=_(c["stroke-width"],0)),l("option",{textContent:this.zoomText.textStr,disabled:!0},void 0,d),this.buttonOptions.forEach(((e,i)=>{l("option",{textContent:e.title||e.text},void 0,d),t[i]=r.button(e.text,0,0,(t=>{const o=e.events&&e.events.click;let n;o&&(n=o.call(e,t)),!1!==n&&this.clickButton(i),this.isActive=!0}),c,u&&u.hover,u&&u.select,u&&u.disabled).attr({"text-align":"center",width:h}).add(this.buttonGroup),e.title&&t[i].attr("title",e.title)}))}alignElements(){const{buttonGroup:t,buttons:e,chart:i,group:o,inputGroup:n,options:r,zoomText:s}=this;var a=i.options;const l=a.exporting&&!1!==a.exporting.enabled&&a.navigation&&a.navigation.buttonOptions,{buttonPosition:c,inputPosition:u,verticalAlign:h}=r;a=(t,e)=>l&&this.titleCollision(i)&&"top"===h&&"right"===e.align&&e.y-t.getBBox().height-12<(l.y||0)+(l.height||0)+i.spacing[0]?-40:0;var d=i.plotLeft;if(o&&c&&u){var p=c.x-i.spacing[3];if(t){if(this.positionButtons(),!this.initialButtonGroupWidth){let t=0;s&&(t+=s.getBBox().width+5),e.forEach(((i,o)=>{t+=i.width,o!==e.length-1&&(t+=r.buttonSpacing)})),this.initialButtonGroupWidth=t}d-=i.spacing[3],this.updateButtonStates();var f=a(t,c);this.alignButtonGroup(f),o.placed=t.placed=i.hasLoaded}f=0,n&&(f=a(n,u),"left"===u.align?p=d:"right"===u.align&&(p=-Math.max(i.axisOffset[1],-f)),n.align({y:u.y,width:n.getBBox().width,align:u.align,x:u.x+p-2},!0,i.spacingBox),n.placed=i.hasLoaded),this.handleCollision(f),o.align({verticalAlign:h},!0,i.spacingBox),a=o.alignAttr.translateY,d=o.getBBox().height+20,p=0,"bottom"===h&&(p=a-(d=d+(p=(p=i.legend&&i.legend.options)&&"bottom"===p.verticalAlign&&p.enabled&&!p.floating?i.legend.legendHeight+_(p.margin,10):0)-20)-(r.floating?0:r.y)-(i.titleOffset?i.titleOffset[2]:0)-10),"top"===h?(r.floating&&(p=0),i.titleOffset&&i.titleOffset[0]&&(p=i.titleOffset[0]),p+=i.margin[0]-i.spacing[0]||0):"middle"===h&&(u.y===c.y?p=a:(u.y||c.y)&&(p=0>u.y||0>c.y?p-Math.min(u.y,c.y):a-d)),o.translate(r.x,r.y+Math.floor(p));const{minInput:l,maxInput:g,dropdown:m}=this;r.inputEnabled&&l&&g&&(l.style.marginTop=o.translateY+"px",g.style.marginTop=o.translateY+"px"),m&&(m.style.marginTop=o.translateY+"px")}}alignButtonGroup(t,e){const{chart:i,options:o,buttonGroup:n}=this,{buttonPosition:r}=o,s=i.plotLeft-i.spacing[3];let a=r.x-i.spacing[3];"right"===r.align?a+=t-s:"center"===r.align&&(a-=s/2),n&&n.align({y:r.y,width:_(e,this.initialButtonGroupWidth),align:r.align,x:a},!0,i.spacingBox)}positionButtons(){const{buttons:t,chart:e,options:i,zoomText:o}=this,n=e.hasLoaded?"animate":"attr",{buttonPosition:r}=i,s=e.plotLeft;let a=s;o&&"hidden"!==o.visibility&&(o[n]({x:_(s+r.x,s)}),a+=r.x+o.getBBox().width+5);for(let e=0,o=this.buttonOptions.length;e<o;++e)"hidden"!==t[e].visibility?(t[e][n]({x:a}),a+=t[e].width+i.buttonSpacing):t[e][n]({x:s})}handleCollision(t){const{chart:e,buttonGroup:i,inputGroup:o}=this,{buttonPosition:n,dropdown:r,inputPosition:s}=this.options,a=()=>{let t=0;return this.buttons.forEach((e=>{(e=e.getBBox()).width>t&&(t=e.width)})),t},l=e=>{if(o&&i){const r=o.alignAttr.translateX+o.alignOptions.x-t+o.getBBox().x+2,a=o.alignOptions.width,l=i.alignAttr.translateX+i.getBBox().x;return l+e>r&&r+a>l&&n.y<s.y+o.getBBox().height}return!1},c=()=>{o&&i&&o.attr({translateX:o.alignAttr.translateX+(e.axisOffset[1]>=-t?0:-t),translateY:o.alignAttr.translateY+i.getBBox().height+10})};if(i){if("always"===r)return this.collapseButtons(t),void(l(a())&&c());"never"===r&&this.expandButtons()}o&&i?s.align===n.align||l(this.initialButtonGroupWidth+20)?"responsive"===r?(this.collapseButtons(t),l(a())&&c()):c():"responsive"===r&&this.expandButtons():i&&"responsive"===r&&(this.initialButtonGroupWidth>e.plotWidth?this.collapseButtons(t):this.expandButtons())}collapseButtons(t){const{buttons:e,buttonOptions:i,chart:o,dropdown:n,options:r,zoomText:s}=this,a=o.userOptions.rangeSelector&&o.userOptions.rangeSelector.buttonTheme||{},l=t=>({text:t?`${t} ▾`:"▾",width:"auto",paddingLeft:_(r.buttonTheme.paddingLeft,a.padding,8),paddingRight:_(r.buttonTheme.paddingRight,a.padding,8)});s&&s.hide();let c=!1;i.forEach(((t,i)=>{2!==(i=e[i]).state?i.hide():(i.show(),i.attr(l(t.text)),c=!0)})),c||(n&&(n.selectedIndex=0),e[0].show(),e[0].attr(l(this.zoomText&&this.zoomText.textStr)));const{align:u}=r.buttonPosition;this.positionButtons(),"right"!==u&&"center"!==u||this.alignButtonGroup(t,e[this.currentButtonIndex()].getBBox().width),this.showDropdown()}expandButtons(){const{buttons:t,buttonOptions:e,options:i,zoomText:o}=this;this.hideDropdown(),o&&o.show(),e.forEach(((e,o)=>{(o=t[o]).show(),o.attr({text:e.text,width:i.buttonTheme.width||28,paddingLeft:_(i.buttonTheme.paddingLeft,"unset"),paddingRight:_(i.buttonTheme.paddingRight,"unset")}),2>o.state&&o.setState(0)})),this.positionButtons()}currentButtonIndex(){const{dropdown:t}=this;return t&&0<t.selectedIndex?t.selectedIndex-1:0}showDropdown(){const{buttonGroup:t,buttons:e,chart:i,dropdown:o}=this;if(t&&o){const{translateX:n,translateY:r}=t,s=e[this.currentButtonIndex()].getBBox();c(o,{left:i.plotLeft+n+"px",top:r+.5+"px",width:s.width+"px",height:s.height+"px"}),this.hasVisibleDropdown=!0}}hideDropdown(){const{dropdown:t}=this;t&&(c(t,{top:"-9999em",width:"1px",height:"1px"}),this.hasVisibleDropdown=!1)}getHeight(){var t=this.options,e=this.group;const i=t.y,o=t.buttonPosition.y,n=t.inputPosition.y;return t.height?t.height:(this.alignElements(),t=e?e.getBBox(!0).height+13+i:0,e=Math.min(n,o),(0>n&&0>o||0<n&&0<o)&&(t+=Math.abs(e)),t)}titleCollision(t){return!(t.options.title.text||t.options.subtitle.text)}update(t){const e=this.chart;m(!0,e.options.rangeSelector,t),this.destroy(),this.init(e),this.render()}destroy(){const t=this,e=t.minInput,i=t.maxInput;t.eventsToUnbind&&(t.eventsToUnbind.forEach((t=>t())),t.eventsToUnbind=void 0),h(t.buttons),e&&(e.onfocus=e.onblur=e.onchange=null),i&&(i.onfocus=i.onblur=i.onchange=null),y(t,(function(e,i){e&&"chart"!==i&&(e instanceof n?e.destroy():e instanceof window.HTMLElement&&d(e)),e!==E.prototype[i]&&(t[i]=null)}),this)}}return p(E.prototype,{defaultButtons:[{type:"month",count:1,text:"1m",title:"View 1 month"},{type:"month",count:3,text:"3m",title:"View 3 months"},{type:"month",count:6,text:"6m",title:"View 6 months"},{type:"ytd",text:"YTD",title:"View year to date"},{type:"year",count:1,text:"1y",title:"View 1 year"},{type:"all",text:"All",title:"View all"}],inputTypeFormats:{"datetime-local":"%Y-%m-%dT%H:%M:%S",date:"%Y-%m-%d",time:"%H:%M:%S"}}),E})),e(t,"Accessibility/Components/RangeSelectorComponent.js",[t["Stock/RangeSelector/RangeSelector.js"],t["Accessibility/AccessibilityComponent.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/Announcer.js"],t["Accessibility/KeyboardNavigationHandler.js"],t["Core/Utilities.js"]],(function(t,e,i,o,n,r){const{unhideChartElementFromAT:s,getAxisRangeDescription:a}=i,{addEvent:l,attr:c}=r;class u extends e{constructor(){super(...arguments),this.announcer=void 0}init(){this.announcer=new o(this.chart,"polite")}onChartUpdate(){const t=this.chart,e=this,i=t.rangeSelector;i&&(this.updateSelectorVisibility(),this.setDropdownAttrs(),i.buttons&&i.buttons.length&&i.buttons.forEach((t=>{e.setRangeButtonAttrs(t)})),i.maxInput&&i.minInput&&["minInput","maxInput"].forEach((function(o,n){(o=i[o])&&(s(t,o),e.setRangeInputAttrs(o,"accessibility.rangeSelector."+(n?"max":"min")+"InputLabel"))})))}updateSelectorVisibility(){const t=this.chart,e=t.rangeSelector,i=e&&e.dropdown,o=e&&e.buttons||[];e&&e.hasVisibleDropdown&&i?(s(t,i),o.forEach((t=>t.element.setAttribute("aria-hidden",!0)))):(i&&i.setAttribute("aria-hidden",!0),o.forEach((e=>s(t,e.element))))}setDropdownAttrs(){var t=this.chart;const e=t.rangeSelector&&t.rangeSelector.dropdown;e&&(t=t.langFormat("accessibility.rangeSelector.dropdownLabel",{rangeTitle:t.options.lang.rangeSelectorZoom}),e.setAttribute("aria-label",t),e.setAttribute("tabindex",-1))}setRangeButtonAttrs(t){c(t.element,{tabindex:-1,role:"button"})}setRangeInputAttrs(t,e){const i=this.chart;c(t,{tabindex:-1,"aria-label":i.langFormat(e,{chart:i})})}onButtonNavKbdArrowKey(t,e){const i=t.response,o=this.keyCodes,n=this.chart,r=n.options.accessibility.keyboardNavigation.wrapAround;return e=e===o.left||e===o.up?-1:1,n.highlightRangeSelectorButton(n.highlightedRangeSelectorItemIx+e)?i.success:r?(t.init(e),i.success):i[0<e?"next":"prev"]}onButtonNavKbdClick(t){t=t.response;const e=this.chart;return 3!==e.oldRangeSelectorItemState&&this.fakeClickEvent(e.rangeSelector.buttons[e.highlightedRangeSelectorItemIx].element),t.success}onAfterBtnClick(){var t=this.chart;const e=a(t.xAxis[0]);(t=t.langFormat("accessibility.rangeSelector.clickButtonAnnouncement",{chart:t,axisRangeDescription:e}))&&this.announcer.announce(t)}onInputKbdMove(t){const e=this.chart;var i=e.rangeSelector;const o=e.highlightedInputRangeIx=(e.highlightedInputRangeIx||0)+t;if(1<o||0>o){if(e.accessibility)return e.accessibility.keyboardNavigation.exiting=!0,e.accessibility.keyboardNavigation.tabindexContainer.focus(),e.accessibility.keyboardNavigation.move(t)}else i&&(t=i[o?"maxDateBox":"minDateBox"],i=i[o?"maxInput":"minInput"],t&&i&&e.setFocusToElement(t,i));return!0}onInputNavInit(t){const e=this;var i=this.chart;const o=0<t?0:1;var n=i.rangeSelector;const r=n&&n[o?"maxDateBox":"minDateBox"];if(t=n&&n.minInput,n=n&&n.maxInput,i.highlightedInputRangeIx=o,r&&t&&n){i.setFocusToElement(r,o?n:t),this.removeInputKeydownHandler&&this.removeInputKeydownHandler(),i=t=>{(t.which||t.keyCode)===this.keyCodes.tab&&e.onInputKbdMove(t.shiftKey?-1:1)&&(t.preventDefault(),t.stopPropagation())};const s=l(t,"keydown",i),a=l(n,"keydown",i);this.removeInputKeydownHandler=()=>{s(),a()}}}onInputNavTerminate(){const t=this.chart.rangeSelector||{};t.maxInput&&t.hideInput("max"),t.minInput&&t.hideInput("min"),this.removeInputKeydownHandler&&(this.removeInputKeydownHandler(),delete this.removeInputKeydownHandler)}initDropdownNav(){const t=this.chart,e=t.rangeSelector,i=e&&e.dropdown;e&&i&&(t.setFocusToElement(e.buttonGroup,i),this.removeDropdownKeydownHandler&&this.removeDropdownKeydownHandler(),this.removeDropdownKeydownHandler=l(i,"keydown",(e=>{const i=t.accessibility;(e.which||e.keyCode)===this.keyCodes.tab&&(e.preventDefault(),e.stopPropagation(),i&&(i.keyboardNavigation.tabindexContainer.focus(),i.keyboardNavigation.move(e.shiftKey?-1:1)))})))}getRangeSelectorButtonNavigation(){const t=this.chart,e=this.keyCodes,i=this;return new n(t,{keyCodeMap:[[[e.left,e.right,e.up,e.down],function(t){return i.onButtonNavKbdArrowKey(this,t)}],[[e.enter,e.space],function(){return i.onButtonNavKbdClick(this)}]],validate:function(){return!!(t.rangeSelector&&t.rangeSelector.buttons&&t.rangeSelector.buttons.length)},init:function(e){var o=t.rangeSelector;o&&o.hasVisibleDropdown?i.initDropdownNav():o&&(o=o.buttons.length-1,t.highlightRangeSelectorButton(0<e?0:o))},terminate:function(){i.removeDropdownKeydownHandler&&(i.removeDropdownKeydownHandler(),delete i.removeDropdownKeydownHandler)}})}getRangeSelectorInputNavigation(){const t=this.chart,e=this;return new n(t,{keyCodeMap:[],validate:function(){return!!(t.rangeSelector&&t.rangeSelector.inputGroup&&"hidden"!==t.rangeSelector.inputGroup.element.style.visibility&&!1!==t.options.rangeSelector.inputEnabled&&t.rangeSelector.minInput&&t.rangeSelector.maxInput)},init:function(t){e.onInputNavInit(t)},terminate:function(){e.onInputNavTerminate()}})}getKeyboardNavigation(){return[this.getRangeSelectorButtonNavigation(),this.getRangeSelectorInputNavigation()]}destroy(){this.removeDropdownKeydownHandler&&this.removeDropdownKeydownHandler(),this.removeInputKeydownHandler&&this.removeInputKeydownHandler(),this.announcer&&this.announcer.destroy()}}return function(e){function i(t){const e=this.rangeSelector&&this.rangeSelector.buttons||[],i=this.highlightedRangeSelectorItemIx,o=this.rangeSelector&&this.rangeSelector.selected;return void 0!==i&&e[i]&&i!==o&&e[i].setState(this.oldRangeSelectorItemState||0),this.highlightedRangeSelectorItemIx=t,!!e[t]&&(this.setFocusToElement(e[t].box,e[t].element),t!==o&&(this.oldRangeSelectorItemState=e[t].state,e[t].setState(1)),!0)}function o(){const t=this.chart.accessibility;if(t&&t.components.rangeSelector)return t.components.rangeSelector.onAfterBtnClick()}const n=[];e.compose=function(e,s){r.pushUnique(n,e)&&(e.prototype.highlightRangeSelectorButton=i),r.pushUnique(n,s)&&l(t,"afterBtnClick",o)}}(u||(u={})),u})),e(t,"Accessibility/Components/SeriesComponent/ForcedMarkers.js",[t["Core/Utilities.js"]],(function(t){const{addEvent:e,merge:i}=t;var o;return function(o){function n(t){i(!0,t,{marker:{enabled:!0,states:{normal:{opacity:0}}}})}function r(t){return t.marker.states&&t.marker.states.normal&&t.marker.states.normal.opacity}function s(){this.chart.styledMode&&(this.markerGroup&&this.markerGroup[this.a11yMarkersForced?"addClass":"removeClass"]("highcharts-a11y-markers-hidden"),this._hasPointMarkers&&this.points&&this.points.length&&this.points.forEach((t=>{t.graphic&&(t.graphic[t.hasForcedA11yMarker?"addClass":"removeClass"]("highcharts-a11y-marker-hidden"),t.graphic[!1===t.hasForcedA11yMarker?"addClass":"removeClass"]("highcharts-a11y-marker-visible"))})))}function a(t){this.resetA11yMarkerOptions=i(t.options.marker||{},this.userOptions.marker||{})}function l(){var t=this.options,e=!1!==(this.options.accessibility&&this.options.accessibility.enabled);if((e=this.chart.options.accessibility.enabled&&e)&&(e=this.chart.options.accessibility,e=this.points.length<e.series.pointDescriptionEnabledThreshold||!1===e.series.pointDescriptionEnabledThreshold),e){if(t.marker&&!1===t.marker.enabled&&(this.a11yMarkersForced=!0,n(this.options)),this._hasPointMarkers&&this.points&&this.points.length)for(t=this.points.length;t--;){const s=(e=this.points[t]).options;var o=e.hasForcedA11yMarker;delete e.hasForcedA11yMarker,s.marker&&(o=o&&0===r(s),s.marker.enabled&&!o?(i(!0,s.marker,{states:{normal:{opacity:r(s)||1}}}),e.hasForcedA11yMarker=!1):!1===s.marker.enabled&&(n(s),e.hasForcedA11yMarker=!0))}}else this.a11yMarkersForced&&(delete this.a11yMarkersForced,(t=this.resetA11yMarkerOptions)&&this.update({marker:{enabled:t.enabled,states:{normal:{opacity:t.states&&t.states.normal&&t.states.normal.opacity}}}}),delete this.resetA11yMarkerOptions)}const c=[];o.compose=function(i){t.pushUnique(c,i)&&(e(i,"afterSetOptions",a),e(i,"render",l),e(i,"afterRender",s))}}(o||(o={})),o})),e(t,"Accessibility/Components/SeriesComponent/SeriesKeyboardNavigation.js",[t["Core/Series/Point.js"],t["Core/Series/Series.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Globals.js"],t["Core/Utilities.js"],t["Accessibility/KeyboardNavigationHandler.js"],t["Accessibility/Utils/EventProvider.js"],t["Accessibility/Utils/ChartUtilities.js"]],(function(t,e,i,o,n,r,s,a){function l(t){const e=t.index,i=t.series.points;let o=i.length;if(i[e]===t)return e;for(;o--;)if(i[o]===t)return o}function c(t){const e=t.chart.options.accessibility.keyboardNavigation.seriesNavigation,i=t.options.accessibility||{},o=i.keyboardNavigation;return o&&!1===o.enabled||!1===i.enabled||!1===t.options.enableMouseTracking||!t.visible||e.pointNavigationEnabledThreshold&&e.pointNavigationEnabledThreshold<=t.points.length}function u(t){const e=t.series.chart.options.accessibility,i=t.options.accessibility&&!1===t.options.accessibility.enabled;return t.isNull&&e.keyboardNavigation.seriesNavigation.skipNullPoints||!1===t.visible||!1===t.isInside||i||c(t.series)}function h(t){const e=(t=t.series||[]).length;for(let o=0;o<e;++o)if(!c(t[o])){t:{var i=t[o].points||[];const e=i.length;for(let t=0;t<e;++t)if(!u(i[t])){i=i[t];break t}i=null}if(i)return i}return null}function d(t){let e=t.series.length,i=!1;for(;e--&&(t.highlightedPoint=t.series[e].points[t.series[e].points.length-1],!(i=t.series[e].highlightNextValidPoint())););return i}function p(t){return delete t.highlightedPoint,!!(t=h(t))&&t.highlight()}const{seriesTypes:f}=i,{doc:g}=o,{defined:m,fireEvent:y}=n,{getPointFromXY:v,getSeriesFromName:_,scrollToPoint:C}=a;class b{constructor(t,e){this.keyCodes=e,this.chart=t}init(){const i=this,o=this.chart,n=this.eventProvider=new s;n.addEvent(e,"destroy",(function(){return i.onSeriesDestroy(this)})),n.addEvent(o,"afterApplyDrilldown",(function(){{const t=h(this);t&&t.highlight(!1)}})),n.addEvent(o,"drilldown",(function(t){const e=(t=t.point).series;i.lastDrilledDownPoint={x:t.x,y:t.y,seriesName:e?e.name:""}})),n.addEvent(o,"drillupall",(function(){setTimeout((function(){i.onDrillupAll()}),10)})),n.addEvent(t,"afterSetState",(function(){const t=this.graphic&&this.graphic.element,e=g.activeElement;var i=e&&e.getAttribute("class");i=i&&-1<i.indexOf("highcharts-a11y-proxy-button"),o.highlightedPoint===this&&e!==t&&!i&&t&&t.focus&&t.focus()}))}onDrillupAll(){const t=this.lastDrilledDownPoint,e=this.chart,i=t&&_(e,t.seriesName);let o;t&&i&&m(t.x)&&m(t.y)&&(o=v(i,t.x,t.y)),o=o||h(e),e.container&&e.container.focus(),o&&o.highlight&&o.highlight(!1)}getKeyboardNavigationHandler(){const t=this,e=this.keyCodes,i=this.chart,o=i.inverted;return new r(i,{keyCodeMap:[[o?[e.up,e.down]:[e.left,e.right],function(e){return t.onKbdSideways(this,e)}],[o?[e.left,e.right]:[e.up,e.down],function(e){return t.onKbdVertical(this,e)}],[[e.enter,e.space],function(t,e){return(t=i.highlightedPoint)&&(e.point=t,y(t.series,"click",e),t.firePointEvent("click")),this.response.success}],[[e.home],function(){return p(i),this.response.success}],[[e.end],function(){return d(i),this.response.success}],[[e.pageDown,e.pageUp],function(t){return i.highlightAdjacentSeries(t===e.pageDown),this.response.success}]],init:function(){return t.onHandlerInit(this)},validate:function(){return!!h(i)},terminate:function(){return t.onHandlerTerminate()}})}onKbdSideways(t,e){const i=this.keyCodes;return this.attemptHighlightAdjacentPoint(t,e===i.right||e===i.down)}onHandlerInit(t){const e=this.chart;return e.options.accessibility.keyboardNavigation.seriesNavigation.rememberPointFocus&&e.highlightedPoint?e.highlightedPoint.highlight():p(e),t.response.success}onKbdVertical(t,e){const i=this.chart;var o=this.keyCodes;return e=e===o.down||e===o.right,(o=i.options.accessibility.keyboardNavigation.seriesNavigation).mode&&"serialize"===o.mode?this.attemptHighlightAdjacentPoint(t,e):(i[i.highlightedPoint&&i.highlightedPoint.series.keyboardMoveVertical?"highlightAdjacentPointVertical":"highlightAdjacentSeries"](e),t.response.success)}onHandlerTerminate(){const t=this.chart,e=t.options.accessibility.keyboardNavigation;t.tooltip&&t.tooltip.hide(0);const i=t.highlightedPoint&&t.highlightedPoint.series;i&&i.onMouseOut&&i.onMouseOut(),t.highlightedPoint&&t.highlightedPoint.onMouseOut&&t.highlightedPoint.onMouseOut(),e.seriesNavigation.rememberPointFocus||delete t.highlightedPoint}attemptHighlightAdjacentPoint(t,e){const i=this.chart,o=i.options.accessibility.keyboardNavigation.wrapAround;return i.highlightAdjacentPoint(e)||o&&(e?p(i):d(i))?t.response.success:t.response[e?"next":"prev"]}onSeriesDestroy(t){const e=this.chart;e.highlightedPoint&&e.highlightedPoint.series===t&&(delete e.highlightedPoint,e.focusElement&&e.focusElement.removeFocusBorder())}destroy(){this.eventProvider.removeAddedEvents()}}return function(t){function e(t){var e=this.series;const i=this.highlightedPoint;var o=i&&l(i)||0;const n=i&&i.series.points||[];var r=this.series&&this.series[this.series.length-1];if(r=r&&r.points&&r.points[r.points.length-1],!e[0]||!e[0].points)return!1;if(i){if(e=e[i.series.index+(t?1:-1)],!(o=n[o+(t?1:-1)])&&e&&(o=e.points[t?0:e.points.length-1]),!o)return!1}else o=t?e[0].points[0]:r;return u(o)?(c(e=o.series)?this.highlightedPoint=t?e.points[e.points.length-1]:e.points[0]:this.highlightedPoint=o,this.highlightAdjacentPoint(t)):o.highlight()}function i(t){const e=this.highlightedPoint;let i,o=1/0;return!(!m(e.plotX)||!m(e.plotY))&&(this.series.forEach((n=>{c(n)||n.points.forEach((r=>{if(m(r.plotY)&&m(r.plotX)&&r!==e){var s=r.plotY-e.plotY,a=Math.abs(r.plotX-e.plotX);a=Math.abs(s)*Math.abs(s)+a*a*4,n.yAxis&&n.yAxis.reversed&&(s*=-1),!(0>=s&&t||0<=s&&!t||5>a||u(r))&&a<o&&(o=a,i=r)}}))})),!!i&&i.highlight())}function o(t){const e=this.highlightedPoint;var i=this.series&&this.series[this.series.length-1],o=i&&i.points&&i.points[i.points.length-1];return this.highlightedPoint?!!(i=this.series[e.series.index+(t?-1:1)])&&(o=function(t,e,i,o){let n,r=1/0,s=e.points.length;const a=t=>!(m(t.plotX)&&m(t.plotY));if(!a(t)){for(;s--;){var l=e.points[s];a(l)||(l=(t.plotX-l.plotX)*(t.plotX-l.plotX)*(i||1)+(t.plotY-l.plotY)*(t.plotY-l.plotY)*(o||1))<r&&(r=l,n=s)}return m(n)?e.points[n]:void 0}}(e,i,4),!!o&&(c(i)?(o.highlight(),(t=this.highlightAdjacentSeries(t))||(e.highlight(),!1)):(o.highlight(),o.series.highlightNextValidPoint()))):(i=t?this.series&&this.series[0]:i,!!(o=t?i&&i.points&&i.points[0]:o)&&o.highlight())}function r(t=!0){const e=this.series.chart;return!this.isNull&&t?this.onMouseOver():e.tooltip&&e.tooltip.hide(0),C(this),this.graphic&&(e.setFocusToElement(this.graphic),!t&&e.focusElement&&e.focusElement.removeFocusBorder()),e.highlightedPoint=this,this}function s(){var t=this.chart.highlightedPoint,e=(t&&t.series)===this?l(t):0;const i=(t=this.points).length;if(t&&i){for(let o=e;o<i;++o)if(!u(t[o]))return t[o].highlight();for(;0<=e;--e)if(!u(t[e]))return t[e].highlight()}return!1}const a=[];t.compose=function(t,l,c){n.pushUnique(a,t)&&((t=t.prototype).highlightAdjacentPoint=e,t.highlightAdjacentPointVertical=i,t.highlightAdjacentSeries=o),n.pushUnique(a,l)&&(l.prototype.highlight=r),n.pushUnique(a,c)&&((l=c.prototype).keyboardMoveVertical=!0,["column","gantt","pie"].forEach((t=>{f[t]&&(f[t].prototype.keyboardMoveVertical=!1)})),l.highlightNextValidPoint=s)}}(b||(b={})),b})),e(t,"Accessibility/Components/SeriesComponent/SeriesComponent.js",[t["Accessibility/AccessibilityComponent.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Components/SeriesComponent/ForcedMarkers.js"],t["Accessibility/Components/SeriesComponent/NewDataAnnouncer.js"],t["Accessibility/Components/SeriesComponent/SeriesDescriber.js"],t["Accessibility/Components/SeriesComponent/SeriesKeyboardNavigation.js"]],(function(t,e,i,o,n,r){const{hideSeriesFromAT:s}=e,{describeSeries:a}=n;return class extends t{static compose(t,e,n){o.compose(n),i.compose(n),r.compose(t,e,n)}init(){this.newDataAnnouncer=new o(this.chart),this.newDataAnnouncer.init(),this.keyboardNavigation=new r(this.chart,this.keyCodes),this.keyboardNavigation.init(),this.hideTooltipFromATWhenShown(),this.hideSeriesLabelsFromATWhenShown()}hideTooltipFromATWhenShown(){const t=this;this.chart.tooltip&&this.addEvent(this.chart.tooltip.constructor,"refresh",(function(){this.chart===t.chart&&this.label&&this.label.element&&this.label.element.setAttribute("aria-hidden",!0)}))}hideSeriesLabelsFromATWhenShown(){this.addEvent(this.chart,"afterDrawSeriesLabels",(function(){this.series.forEach((function(t){t.labelBySeries&&t.labelBySeries.attr("aria-hidden",!0)}))}))}onChartRender(){this.chart.series.forEach((function(t){!1!==(t.options.accessibility&&t.options.accessibility.enabled)&&t.visible?a(t):s(t)}))}getKeyboardNavigation(){return this.keyboardNavigation.getKeyboardNavigationHandler()}destroy(){this.newDataAnnouncer.destroy(),this.keyboardNavigation.destroy()}}})),e(t,"Accessibility/Components/ZoomComponent.js",[t["Accessibility/AccessibilityComponent.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Accessibility/KeyboardNavigationHandler.js"],t["Core/Utilities.js"]],(function(t,e,i,o,n){const{unhideChartElementFromAT:r}=e,{getFakeMouseEvent:s}=i,{attr:a,pick:l}=n;return class extends t{constructor(){super(...arguments),this.focusedMapNavButtonIx=-1}init(){const t=this,e=this.chart;this.proxyProvider.addGroup("zoom","div"),["afterShowResetZoom","afterApplyDrilldown","drillupall"].forEach((i=>{t.addEvent(e,i,(function(){t.updateProxyOverlays()}))}))}onChartUpdate(){const t=this.chart,e=this;t.mapNavigation&&t.mapNavigation.navButtons.forEach(((i,o)=>{r(t,i.element),e.setMapNavButtonAttrs(i.element,"accessibility.zoom.mapZoom"+(o?"Out":"In"))}))}setMapNavButtonAttrs(t,e){const i=this.chart;e=i.langFormat(e,{chart:i}),a(t,{tabindex:-1,role:"button","aria-label":e})}onChartRender(){this.updateProxyOverlays()}updateProxyOverlays(){const t=this.chart;this.proxyProvider.clearGroup("zoom"),t.resetZoomButton&&this.createZoomProxyButton(t.resetZoomButton,"resetZoomProxyButton",t.langFormat("accessibility.zoom.resetZoomButton",{chart:t})),t.drillUpButton&&t.breadcrumbs&&t.breadcrumbs.list&&this.createZoomProxyButton(t.drillUpButton,"drillUpProxyButton",t.langFormat("accessibility.drillUpButton",{chart:t,buttonText:t.breadcrumbs.getButtonText(t.breadcrumbs.list[t.breadcrumbs.list.length-1])}))}createZoomProxyButton(t,e,i){this[e]=this.proxyProvider.addProxyElement("zoom",{click:t},{"aria-label":i,tabindex:-1})}getMapZoomNavigation(){const t=this.keyCodes,e=this.chart,i=this;return new o(e,{keyCodeMap:[[[t.up,t.down,t.left,t.right],function(t){return i.onMapKbdArrow(this,t)}],[[t.tab],function(t,e){return i.onMapKbdTab(this,e)}],[[t.space,t.enter],function(){return i.onMapKbdClick(this)}]],validate:function(){return!!(e.mapView&&e.mapNavigation&&e.mapNavigation.navButtons.length)},init:function(t){return i.onMapNavInit(t)}})}onMapKbdArrow(t,e){var i=this.chart,o=this.keyCodes;const n=i.container;var r=e===o.up||e===o.down;return e=(r?i.plotHeight:i.plotWidth)/10*(e===o.left||e===o.up?1:-1),o=10*Math.random(),i={x:n.offsetLeft+i.plotLeft+i.plotWidth/2+o,y:n.offsetTop+i.plotTop+i.plotHeight/2+o},r=r?{x:i.x,y:i.y+e}:{x:i.x+e,y:i.y},[s("mousedown",i),s("mousemove",r),s("mouseup",r)].forEach((t=>n.dispatchEvent(t))),t.response.success}onMapKbdTab(t,e){const i=this.chart;t=t.response;const o=(e=e.shiftKey)&&!this.focusedMapNavButtonIx||!e&&this.focusedMapNavButtonIx;return i.mapNavigation.navButtons[this.focusedMapNavButtonIx].setState(0),o?(i.mapView&&i.mapView.zoomBy(),t[e?"prev":"next"]):(this.focusedMapNavButtonIx+=e?-1:1,e=i.mapNavigation.navButtons[this.focusedMapNavButtonIx],i.setFocusToElement(e.box,e.element),e.setState(2),t.success)}onMapKbdClick(t){return this.fakeClickEvent(this.chart.mapNavigation.navButtons[this.focusedMapNavButtonIx].element),t.response.success}onMapNavInit(t){const e=this.chart;var i=e.mapNavigation.navButtons[0];const o=e.mapNavigation.navButtons[1];i=0<t?i:o,e.setFocusToElement(i.box,i.element),i.setState(2),this.focusedMapNavButtonIx=0<t?0:1}simpleButtonNavigation(t,e,i){const n=this.keyCodes,r=this,s=this.chart;return new o(s,{keyCodeMap:[[[n.tab,n.up,n.down,n.left,n.right],function(t,e){return this.response[t===n.tab&&e.shiftKey||t===n.left||t===n.up?"prev":"next"]}],[[n.space,n.enter],function(){const t=i(this,s);return l(t,this.response.success)}]],validate:function(){return s[t]&&s[t].box&&r[e].buttonElement},init:function(){s.setFocusToElement(s[t].box,r[e].buttonElement)}})}getKeyboardNavigation(){return[this.simpleButtonNavigation("resetZoomButton","resetZoomProxyButton",(function(t,e){e.zoomOut()})),this.simpleButtonNavigation("drillUpButton","drillUpProxyButton",(function(t,e){return e.drillUp(),t.response.prev})),this.getMapZoomNavigation()]}}})),e(t,"Accessibility/HighContrastMode.js",[t["Core/Globals.js"]],(function(t){const{doc:e,isMS:i,win:o}=t;return{isHighContrastModeActive:function(){var t=/(Edg)/.test(o.navigator.userAgent);if(o.matchMedia&&t)return o.matchMedia("(-ms-high-contrast: active)").matches;if(i&&o.getComputedStyle){(t=e.createElement("div")).style.backgroundImage="url(data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==)",e.body.appendChild(t);const i=(t.currentStyle||o.getComputedStyle(t)).backgroundImage;return e.body.removeChild(t),"none"===i}return o.matchMedia&&o.matchMedia("(forced-colors: active)").matches},setHighContrastTheme:function(t){t.highContrastModeActive=!0;const e=t.options.accessibility.highContrastTheme;t.update(e,!1),t.series.forEach((function(t){const i=e.plotOptions[t.type]||{};t.update({color:i.color||"windowText",colors:[i.color||"windowText"],borderColor:i.borderColor||"window"}),t.points.forEach((function(t){t.options&&t.options.color&&t.update({color:i.color||"windowText",borderColor:i.borderColor||"window"},!1)}))})),t.redraw()}}})),e(t,"Accessibility/HighContrastTheme.js",[],(function(){return{chart:{backgroundColor:"window"},title:{style:{color:"windowText"}},subtitle:{style:{color:"windowText"}},colorAxis:{minColor:"windowText",maxColor:"windowText",stops:[]},colors:["windowText"],xAxis:{gridLineColor:"windowText",labels:{style:{color:"windowText"}},lineColor:"windowText",minorGridLineColor:"windowText",tickColor:"windowText",title:{style:{color:"windowText"}}},yAxis:{gridLineColor:"windowText",labels:{style:{color:"windowText"}},lineColor:"windowText",minorGridLineColor:"windowText",tickColor:"windowText",title:{style:{color:"windowText"}}},tooltip:{backgroundColor:"window",borderColor:"windowText",style:{color:"windowText"}},plotOptions:{series:{lineColor:"windowText",fillColor:"window",borderColor:"windowText",edgeColor:"windowText",borderWidth:1,dataLabels:{connectorColor:"windowText",color:"windowText",style:{color:"windowText",textOutline:"none"}},marker:{lineColor:"windowText",fillColor:"windowText"}},pie:{color:"window",colors:["window"],borderColor:"windowText",borderWidth:1},boxplot:{fillColor:"window"},candlestick:{lineColor:"windowText",fillColor:"window"},errorbar:{fillColor:"window"}},legend:{backgroundColor:"window",itemStyle:{color:"windowText"},itemHoverStyle:{color:"windowText"},itemHiddenStyle:{color:"#555"},title:{style:{color:"windowText"}}},credits:{style:{color:"windowText"}},drilldown:{activeAxisLabelStyle:{color:"windowText"},activeDataLabelStyle:{color:"windowText"}},navigation:{buttonOptions:{symbolStroke:"windowText",theme:{fill:"window"}}},rangeSelector:{buttonTheme:{fill:"window",stroke:"windowText",style:{color:"windowText"},states:{hover:{fill:"window",stroke:"windowText",style:{color:"windowText"}},select:{fill:"#444",stroke:"windowText",style:{color:"windowText"}}}},inputBoxBorderColor:"windowText",inputStyle:{backgroundColor:"window",color:"windowText"},labelStyle:{color:"windowText"}},navigator:{handles:{backgroundColor:"window",borderColor:"windowText"},outlineColor:"windowText",maskFill:"transparent",series:{color:"windowText",lineColor:"windowText"},xAxis:{gridLineColor:"windowText"}},scrollbar:{barBackgroundColor:"#444",barBorderColor:"windowText",buttonArrowColor:"windowText",buttonBackgroundColor:"window",buttonBorderColor:"windowText",rifleColor:"windowText",trackBackgroundColor:"window",trackBorderColor:"windowText"}}})),e(t,"Accessibility/Options/A11yDefaults.js",[],(function(){return{accessibility:{enabled:!0,screenReaderSection:{beforeChartFormat:"<{headingTagName}>{chartTitle}</{headingTagName}><div>{typeDescription}</div><div>{chartSubtitle}</div><div>{chartLongdesc}</div><div>{playAsSoundButton}</div><div>{viewTableButton}</div><div>{xAxisDescription}</div><div>{yAxisDescription}</div><div>{annotationsTitle}{annotationsList}</div>",afterChartFormat:"{endOfChartMarker}",axisRangeDateFormat:"%Y-%m-%d %H:%M:%S"},series:{descriptionFormat:"{seriesDescription}{authorDescription}{axisDescription}",describeSingleSeries:!1,pointDescriptionEnabledThreshold:200},point:{valueDescriptionFormat:"{xDescription}{separator}{value}.",describeNull:!0},landmarkVerbosity:"all",linkedDescription:'*[data-highcharts-chart="{index}"] + .highcharts-description',keyboardNavigation:{enabled:!0,focusBorder:{enabled:!0,hideBrowserFocusOutline:!0,style:{color:"#334eff",lineWidth:2,borderRadius:3},margin:2},order:["series","zoom","rangeSelector","legend","chartMenu"],wrapAround:!0,seriesNavigation:{skipNullPoints:!0,pointNavigationEnabledThreshold:!1,rememberPointFocus:!1}},announceNewData:{enabled:!1,minAnnounceInterval:5e3,interruptUser:!1}},legend:{accessibility:{enabled:!0,keyboardNavigation:{enabled:!0}}},exporting:{accessibility:{enabled:!0}}}})),e(t,"Accessibility/Options/LangDefaults.js",[],(function(){return{accessibility:{defaultChartTitle:"Chart",chartContainerLabel:"{title}. Highcharts interactive chart.",svgContainerLabel:"Interactive chart",drillUpButton:"{buttonText}",credits:"Chart credits: {creditsStr}",thousandsSep:",",svgContainerTitle:"",graphicContainerLabel:"",screenReaderSection:{beforeRegionLabel:"",afterRegionLabel:"",annotations:{heading:"Chart annotations summary",descriptionSinglePoint:"{annotationText}. Related to {annotationPoint}",descriptionMultiplePoints:"{annotationText}. Related to {annotationPoint}{ Also related to, #each(additionalAnnotationPoints)}",descriptionNoPoints:"{annotationText}"},endOfChartMarker:"End of interactive chart."},sonification:{playAsSoundButtonText:"Play as sound, {chartTitle}",playAsSoundClickAnnouncement:"Play"},legend:{legendLabelNoTitle:"Toggle series visibility, {chartTitle}",legendLabel:"Chart legend: {legendTitle}",legendItem:"Show {itemName}"},zoom:{mapZoomIn:"Zoom chart",mapZoomOut:"Zoom out chart",resetZoomButton:"Reset zoom"},rangeSelector:{dropdownLabel:"{rangeTitle}",minInputLabel:"Select start date.",maxInputLabel:"Select end date.",clickButtonAnnouncement:"Viewing {axisRangeDescription}"},table:{viewAsDataTableButtonText:"View as data table, {chartTitle}",tableSummary:"Table representation of chart."},announceNewData:{newDataAnnounce:"Updated data for chart {chartTitle}",newSeriesAnnounceSingle:"New data series: {seriesDesc}",newPointAnnounceSingle:"New data point: {pointDesc}",newSeriesAnnounceMultiple:"New data series in chart {chartTitle}: {seriesDesc}",newPointAnnounceMultiple:"New data point in chart {chartTitle}: {pointDesc}"},seriesTypeDescriptions:{boxplot:"Box plot charts are typically used to display groups of statistical data. Each data point in the chart can have up to 5 values: minimum, lower quartile, median, upper quartile, and maximum.",arearange:"Arearange charts are line charts displaying a range between a lower and higher value for each point.",areasplinerange:"These charts are line charts displaying a range between a lower and higher value for each point.",bubble:"Bubble charts are scatter charts where each data point also has a size value.",columnrange:"Columnrange charts are column charts displaying a range between a lower and higher value for each point.",errorbar:"Errorbar series are used to display the variability of the data.",funnel:"Funnel charts are used to display reduction of data in stages.",pyramid:"Pyramid charts consist of a single pyramid with item heights corresponding to each point value.",waterfall:"A waterfall chart is a column chart where each column contributes towards a total end value."},chartTypes:{emptyChart:"Empty chart",mapTypeDescription:"Map of {mapTitle} with {numSeries} data series.",unknownMap:"Map of unspecified region with {numSeries} data series.",combinationChart:"Combination chart with {numSeries} data series.",defaultSingle:"Chart with {numPoints} data {#plural(numPoints, points, point)}.",defaultMultiple:"Chart with {numSeries} data series.",splineSingle:"Line chart with {numPoints} data {#plural(numPoints, points, point)}.",splineMultiple:"Line chart with {numSeries} lines.",lineSingle:"Line chart with {numPoints} data {#plural(numPoints, points, point)}.",lineMultiple:"Line chart with {numSeries} lines.",columnSingle:"Bar chart with {numPoints} {#plural(numPoints, bars, bar)}.",columnMultiple:"Bar chart with {numSeries} data series.",barSingle:"Bar chart with {numPoints} {#plural(numPoints, bars, bar)}.",barMultiple:"Bar chart with {numSeries} data series.",pieSingle:"Pie chart with {numPoints} {#plural(numPoints, slices, slice)}.",pieMultiple:"Pie chart with {numSeries} pies.",scatterSingle:"Scatter chart with {numPoints} {#plural(numPoints, points, point)}.",scatterMultiple:"Scatter chart with {numSeries} data series.",boxplotSingle:"Boxplot with {numPoints} {#plural(numPoints, boxes, box)}.",boxplotMultiple:"Boxplot with {numSeries} data series.",bubbleSingle:"Bubble chart with {numPoints} {#plural(numPoints, bubbles, bubble)}.",bubbleMultiple:"Bubble chart with {numSeries} data series."},axis:{xAxisDescriptionSingular:"The chart has 1 X axis displaying {names[0]}. {ranges[0]}",xAxisDescriptionPlural:"The chart has {numAxes} X axes displaying {#each(names, -1) }and {names[-1]}.",yAxisDescriptionSingular:"The chart has 1 Y axis displaying {names[0]}. {ranges[0]}",yAxisDescriptionPlural:"The chart has {numAxes} Y axes displaying {#each(names, -1) }and {names[-1]}.",timeRangeDays:"Data range: {range} days.",timeRangeHours:"Data range: {range} hours.",timeRangeMinutes:"Data range: {range} minutes.",timeRangeSeconds:"Data range: {range} seconds.",rangeFromTo:"Data ranges from {rangeFrom} to {rangeTo}.",rangeCategories:"Data range: {numCategories} categories."},exporting:{chartMenuLabel:"Chart menu",menuButtonLabel:"View chart menu, {chartTitle}"},series:{summary:{default:"{series.name}, series {seriesNumber} of {chart.series.length} with {series.points.length} data {#plural(series.points.length, points, point)}.",defaultCombination:"{series.name}, series {seriesNumber} of {chart.series.length} with {series.points.length} data {#plural(series.points.length, points, point)}.",line:"{series.name}, line {seriesNumber} of {chart.series.length} with {series.points.length} data {#plural(series.points.length, points, point)}.",lineCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Line with {series.points.length} data {#plural(series.points.length, points, point)}.",spline:"{series.name}, line {seriesNumber} of {chart.series.length} with {series.points.length} data {#plural(series.points.length, points, point)}.",splineCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Line with {series.points.length} data {#plural(series.points.length, points, point)}.",column:"{series.name}, bar series {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, bars, bar)}.",columnCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Bar series with {series.points.length} {#plural(series.points.length, bars, bar)}.",bar:"{series.name}, bar series {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, bars, bar)}.",barCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Bar series with {series.points.length} {#plural(series.points.length, bars, bar)}.",pie:"{series.name}, pie {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, slices, slice)}.",pieCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Pie with {series.points.length} {#plural(series.points.length, slices, slice)}.",scatter:"{series.name}, scatter plot {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, points, point)}.",scatterCombination:"{series.name}, series {seriesNumber} of {chart.series.length}, scatter plot with {series.points.length} {#plural(series.points.length, points, point)}.",boxplot:"{series.name}, boxplot {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, boxes, box)}.",boxplotCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Boxplot with {series.points.length} {#plural(series.points.length, boxes, box)}.",bubble:"{series.name}, bubble series {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, bubbles, bubble)}.",bubbleCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Bubble series with {series.points.length} {#plural(series.points.length, bubbles, bubble)}.",map:"{series.name}, map {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, areas, area)}.",mapCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Map with {series.points.length} {#plural(series.points.length, areas, area)}.",mapline:"{series.name}, line {seriesNumber} of {chart.series.length} with {series.points.length} data {#plural(series.points.length, points, point)}.",maplineCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Line with {series.points.length} data {#plural(series.points.length, points, point)}.",mapbubble:"{series.name}, bubble series {seriesNumber} of {chart.series.length} with {series.points.length} {#plural(series.points.length, bubbles, bubble)}.",mapbubbleCombination:"{series.name}, series {seriesNumber} of {chart.series.length}. Bubble series with {series.points.length} {#plural(series.points.length, bubbles, bubble)}."},description:"{description}",xAxisDescription:"X axis, {name}",yAxisDescription:"Y axis, {name}",nullPointValue:"No value",pointAnnotationsDescription:"{Annotation: #each(annotations). }"}}}})),e(t,"Accessibility/Options/DeprecatedOptions.js",[t["Core/Utilities.js"]],(function(t){function e(t,e,i){let o,r=0;for(;r<e.length-1;++r)o=e[r],t=t[o]=n(t[o],{});t[e[e.length-1]]=i}function i(t,i,n,r){function s(t,e){return e.reduce((function(t,e){return t[e]}),t)}const a=s(t.options,i),l=s(t.options,n);Object.keys(r).forEach((function(s){const c=a[s];void 0!==c&&(e(l,r[s],c),o(32,!1,t,{[i.join(".")+"."+s]:n.join(".")+"."+r[s].join(".")}))}))}const{error:o,pick:n}=t;return function(t){!function(t){const e=t.options.chart,i=t.options.accessibility||{};["description","typeDescription"].forEach((function(n){e[n]&&(i[n]=e[n],o(32,!1,t,{[`chart.${n}`]:`use accessibility.${n}`}))}))}(t),function(t){t.axes.forEach((function(e){(e=e.options)&&e.description&&(e.accessibility=e.accessibility||{},e.accessibility.description=e.description,o(32,!1,t,{"axis.description":"use axis.accessibility.description"}))}))}(t),t.series&&function(t){const i={description:["accessibility","description"],exposeElementToA11y:["accessibility","exposeAsGroupOnly"],pointDescriptionFormatter:["accessibility","point","descriptionFormatter"],skipKeyboardNavigation:["accessibility","keyboardNavigation","enabled"],"accessibility.pointDescriptionFormatter":["accessibility","point","descriptionFormatter"]};t.series.forEach((function(n){Object.keys(i).forEach((function(r){let s=n.options[r];"accessibility.pointDescriptionFormatter"===r&&(s=n.options.accessibility&&n.options.accessibility.pointDescriptionFormatter),void 0!==s&&(e(n.options,i[r],"skipKeyboardNavigation"===r?!s:s),o(32,!1,t,{[`series.${r}`]:"series."+i[r].join(".")}))}))}))}(t),i(t,["accessibility"],["accessibility"],{pointDateFormat:["point","dateFormat"],pointDateFormatter:["point","dateFormatter"],pointDescriptionFormatter:["point","descriptionFormatter"],pointDescriptionThreshold:["series","pointDescriptionEnabledThreshold"],pointNavigationThreshold:["keyboardNavigation","seriesNavigation","pointNavigationEnabledThreshold"],pointValueDecimals:["point","valueDecimals"],pointValuePrefix:["point","valuePrefix"],pointValueSuffix:["point","valueSuffix"],screenReaderSectionFormatter:["screenReaderSection","beforeChartFormatter"],describeSingleSeries:["series","describeSingleSeries"],seriesDescriptionFormatter:["series","descriptionFormatter"],onTableAnchorClick:["screenReaderSection","onViewDataTableClick"],axisRangeDateFormat:["screenReaderSection","axisRangeDateFormat"]}),i(t,["accessibility","keyboardNavigation"],["accessibility","keyboardNavigation","seriesNavigation"],{skipNullPoints:["skipNullPoints"],mode:["mode"]}),i(t,["lang","accessibility"],["lang","accessibility"],{legendItem:["legend","legendItem"],legendLabel:["legend","legendLabel"],mapZoomIn:["zoom","mapZoomIn"],mapZoomOut:["zoom","mapZoomOut"],resetZoomButton:["zoom","resetZoomButton"],screenReaderRegionLabel:["screenReaderSection","beforeRegionLabel"],rangeSelectorButton:["rangeSelector","buttonText"],rangeSelectorMaxInput:["rangeSelector","maxInputLabel"],rangeSelectorMinInput:["rangeSelector","minInputLabel"],svgContainerEnd:["screenReaderSection","endOfChartMarker"],viewAsDataTable:["table","viewAsDataTableButtonText"],tableSummary:["table","tableSummary"]})}})),e(t,"Accessibility/Accessibility.js",[t["Core/Defaults.js"],t["Core/Globals.js"],t["Core/Utilities.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Accessibility/A11yI18n.js"],t["Accessibility/Components/ContainerComponent.js"],t["Accessibility/FocusBorder.js"],t["Accessibility/Components/InfoRegionsComponent.js"],t["Accessibility/KeyboardNavigation.js"],t["Accessibility/Components/LegendComponent.js"],t["Accessibility/Components/MenuComponent.js"],t["Accessibility/Components/SeriesComponent/NewDataAnnouncer.js"],t["Accessibility/ProxyProvider.js"],t["Accessibility/Components/RangeSelectorComponent.js"],t["Accessibility/Components/SeriesComponent/SeriesComponent.js"],t["Accessibility/Components/ZoomComponent.js"],t["Accessibility/HighContrastMode.js"],t["Accessibility/HighContrastTheme.js"],t["Accessibility/Options/A11yDefaults.js"],t["Accessibility/Options/LangDefaults.js"],t["Accessibility/Options/DeprecatedOptions.js"]],(function(t,e,i,o,n,r,s,a,l,c,u,h,d,p,f,g,m,y,v,_,C){({defaultOptions:t}=t);const{doc:b}=e,{addEvent:E,extend:S,fireEvent:w,merge:O}=i,{removeElement:x}=o;class P{constructor(t){this.proxyProvider=this.keyboardNavigation=this.components=this.chart=void 0,this.init(t)}init(t){this.chart=t,b.addEventListener?(C(t),this.proxyProvider=new d(this.chart),this.initComponents(),this.keyboardNavigation=new l(t,this.components)):(this.zombie=!0,this.components={},t.renderTo.setAttribute("aria-hidden",!0))}initComponents(){const t=this.chart,e=this.proxyProvider,i=t.options.accessibility;this.components={container:new r,infoRegions:new a,legend:new c,chartMenu:new u,rangeSelector:new p,series:new f,zoom:new g},i.customComponents&&S(this.components,i.customComponents);const o=this.components;this.getComponentOrder().forEach((function(i){o[i].initBase(t,e),o[i].init()}))}getComponentOrder(){if(!this.components)return[];if(!this.components.series)return Object.keys(this.components);const t=Object.keys(this.components).filter((t=>"series"!==t));return["series"].concat(t)}update(){const t=this.components,e=this.chart;var i=e.options.accessibility;w(e,"beforeA11yUpdate"),e.types=this.getChartTypes(),i=i.keyboardNavigation.order,this.proxyProvider.updateGroupOrder(i),this.getComponentOrder().forEach((function(i){t[i].onChartUpdate(),w(e,"afterA11yComponentUpdate",{name:i,component:t[i]})})),this.keyboardNavigation.update(i),!e.highContrastModeActive&&m.isHighContrastModeActive()&&m.setHighContrastTheme(e),w(e,"afterA11yUpdate",{accessibility:this})}destroy(){const t=this.chart||{},e=this.components;Object.keys(e).forEach((function(t){e[t].destroy(),e[t].destroyBase()})),this.proxyProvider&&this.proxyProvider.destroy(),t.announcerContainer&&x(t.announcerContainer),this.keyboardNavigation&&this.keyboardNavigation.destroy(),t.renderTo&&t.renderTo.setAttribute("aria-hidden",!0),t.focusElement&&t.focusElement.removeFocusBorder()}getChartTypes(){const t={};return this.chart.series.forEach((function(e){t[e.type]=1})),Object.keys(t)}}return function(t){function e(){this.accessibility&&this.accessibility.destroy()}function o(){this.a11yDirty&&this.renderTo&&(delete this.a11yDirty,this.updateA11yEnabled());const t=this.accessibility;t&&!t.zombie&&(t.proxyProvider.updateProxyElementPositions(),t.getComponentOrder().forEach((function(e){t.components[e].onChartRender()})))}function r(t){(t=t.options.accessibility)&&(t.customComponents&&(this.options.accessibility.customComponents=t.customComponents,delete t.customComponents),O(!0,this.options.accessibility,t),this.accessibility&&this.accessibility.destroy&&(this.accessibility.destroy(),delete this.accessibility)),this.a11yDirty=!0}function a(){let e=this.accessibility;const i=this.options.accessibility;i&&i.enabled?e&&!e.zombie?e.update():(this.accessibility=e=new t(this),!e.zombie&&e.update()):e?(e.destroy&&e.destroy(),delete this.accessibility):this.renderTo.setAttribute("aria-hidden",!0)}function d(){this.series.chart.accessibility&&(this.series.chart.a11yDirty=!0)}const g=[];t.i18nFormat=n.i18nFormat,t.compose=function(t,m,y,v,_,C){l.compose(t),h.compose(v),c.compose(t,m),u.compose(t),f.compose(t,y,v),n.compose(t),s.compose(t,_),C&&p.compose(t,C),i.pushUnique(g,t)&&(t.prototype.updateA11yEnabled=a,E(t,"destroy",e),E(t,"render",o),E(t,"update",r),["addSeries","init"].forEach((e=>{E(t,e,(function(){this.a11yDirty=!0}))})),["afterApplyDrilldown","drillupall"].forEach((e=>{E(t,e,(function(){const t=this.accessibility;t&&!t.zombie&&t.update()}))}))),i.pushUnique(g,y)&&E(y,"update",d),i.pushUnique(g,v)&&["update","updatedData","remove"].forEach((t=>{E(v,t,(function(){this.chart.accessibility&&(this.chart.a11yDirty=!0)}))}))}}(P||(P={})),O(!0,t,v,{accessibility:{highContrastTheme:y},lang:_}),P})),e(t,"masters/modules/accessibility.src.js",[t["Core/Globals.js"],t["Accessibility/Accessibility.js"],t["Accessibility/AccessibilityComponent.js"],t["Accessibility/Utils/ChartUtilities.js"],t["Accessibility/Utils/HTMLUtilities.js"],t["Accessibility/KeyboardNavigationHandler.js"],t["Accessibility/Components/SeriesComponent/SeriesDescriber.js"]],(function(t,e,i,o,n,r,s){t.i18nFormat=e.i18nFormat,t.A11yChartUtilities=o,t.A11yHTMLUtilities=n,t.AccessibilityComponent=i,t.KeyboardNavigationHandler=r,t.SeriesAccessibilityDescriber=s,e.compose(t.Chart,t.Legend,t.Point,t.Series,t.SVGElement,t.RangeSelector)}))},t.exports?(r.default=r,t.exports=r):(o=[i(8840)],void 0===(n=function(t){return r(t),r.Highcharts=t,r}.apply(e,o))||(t.exports=n))},8393:(t,e,i)=>{"use strict";var o,n,r;r=function(t){function e(t,e,i,o){t.hasOwnProperty(e)||(t[e]=o.apply(null,i),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:e,module:t[e]}})))}e(t=t?t._modules:{},"Core/Chart/ChartNavigationComposition.js",[],(function(){var t;return function(t){t.compose=function(t){return t.navigation||(t.navigation=new e(t)),t};class e{constructor(t){this.updates=[],this.chart=t}addUpdate(t){this.chart.navigation.updates.push(t)}update(t,e){this.updates.forEach((i=>{i.call(this.chart,t,e)}))}}t.Additions=e}(t||(t={})),t})),e(t,"Extensions/Exporting/ExportingDefaults.js",[t["Core/Globals.js"]],(function(t){return({isTouchDevice:t}=t),{exporting:{allowTableSorting:!0,type:"image/png",url:"https://export.highcharts.com/",pdfFont:{normal:void 0,bold:void 0,bolditalic:void 0,italic:void 0},printMaxWidth:780,scale:2,buttons:{contextButton:{className:"highcharts-contextbutton",menuClassName:"highcharts-contextmenu",symbol:"menu",titleKey:"contextButtonTitle",menuItems:"viewFullscreen printChart separator downloadPNG downloadJPEG downloadPDF downloadSVG".split(" ")}},menuItemDefinitions:{viewFullscreen:{textKey:"viewFullscreen",onclick:function(){this.fullscreen&&this.fullscreen.toggle()}},printChart:{textKey:"printChart",onclick:function(){this.print()}},separator:{separator:!0},downloadPNG:{textKey:"downloadPNG",onclick:function(){this.exportChart()}},downloadJPEG:{textKey:"downloadJPEG",onclick:function(){this.exportChart({type:"image/jpeg"})}},downloadPDF:{textKey:"downloadPDF",onclick:function(){this.exportChart({type:"application/pdf"})}},downloadSVG:{textKey:"downloadSVG",onclick:function(){this.exportChart({type:"image/svg+xml"})}}}},lang:{viewFullscreen:"View in full screen",exitFullscreen:"Exit from full screen",printChart:"Print chart",downloadPNG:"Download PNG image",downloadJPEG:"Download JPEG image",downloadPDF:"Download PDF document",downloadSVG:"Download SVG vector image",contextButtonTitle:"Chart context menu"},navigation:{buttonOptions:{symbolSize:14,symbolX:14.5,symbolY:13.5,align:"right",buttonSpacing:3,height:28,verticalAlign:"top",width:28,symbolFill:"#666666",symbolStroke:"#666666",symbolStrokeWidth:3,theme:{padding:5}},menuStyle:{border:"none",borderRadius:"3px",background:"#ffffff",padding:"0.5em"},menuItemStyle:{background:"none",borderRadius:"3px",color:"#333333",padding:"0.5em",fontSize:t?"0.9em":"0.8em",transition:"background 250ms, color 250ms"},menuItemHoverStyle:{background:"#f2f2f2"}}}})),e(t,"Extensions/Exporting/ExportingSymbols.js",[],(function(){var t;return function(t){function e(t,e,i,o){return[["M",t,e+2.5],["L",t+i,e+2.5],["M",t,e+o/2+.5],["L",t+i,e+o/2+.5],["M",t,e+o-1.5],["L",t+i,e+o-1.5]]}function i(t,e,i,o){return t=o/3-2,(o=[]).concat(this.circle(i-t,e,t,t),this.circle(i-t,e+t+4,t,t),this.circle(i-t,e+2*(t+4),t,t))}const o=[];t.compose=function(t){-1===o.indexOf(t)&&(o.push(t),(t=t.prototype.symbols).menu=e,t.menuball=i.bind(t))}}(t||(t={})),t})),e(t,"Extensions/Exporting/Fullscreen.js",[t["Core/Renderer/HTML/AST.js"],t["Core/Utilities.js"]],(function(t,e){function i(){this.fullscreen=new s(this)}const{addEvent:o,fireEvent:n}=e,r=[];class s{static compose(t){e.pushUnique(r,t)&&o(t,"beforeRender",i)}constructor(t){this.chart=t,this.isOpen=!1,t=t.renderTo,this.browserProps||("function"==typeof t.requestFullscreen?this.browserProps={fullscreenChange:"fullscreenchange",requestFullscreen:"requestFullscreen",exitFullscreen:"exitFullscreen"}:t.mozRequestFullScreen?this.browserProps={fullscreenChange:"mozfullscreenchange",requestFullscreen:"mozRequestFullScreen",exitFullscreen:"mozCancelFullScreen"}:t.webkitRequestFullScreen?this.browserProps={fullscreenChange:"webkitfullscreenchange",requestFullscreen:"webkitRequestFullScreen",exitFullscreen:"webkitExitFullscreen"}:t.msRequestFullscreen&&(this.browserProps={fullscreenChange:"MSFullscreenChange",requestFullscreen:"msRequestFullscreen",exitFullscreen:"msExitFullscreen"}))}close(){const t=this,e=t.chart,i=e.options.chart;n(e,"fullscreenClose",null,(function(){t.isOpen&&t.browserProps&&e.container.ownerDocument instanceof Document&&e.container.ownerDocument[t.browserProps.exitFullscreen](),t.unbindFullscreenEvent&&(t.unbindFullscreenEvent=t.unbindFullscreenEvent()),e.setSize(t.origWidth,t.origHeight,!1),t.origWidth=void 0,t.origHeight=void 0,i.width=t.origWidthOption,i.height=t.origHeightOption,t.origWidthOption=void 0,t.origHeightOption=void 0,t.isOpen=!1,t.setButtonText()}))}open(){const t=this,e=t.chart,i=e.options.chart;n(e,"fullscreenOpen",null,(function(){if(i&&(t.origWidthOption=i.width,t.origHeightOption=i.height),t.origWidth=e.chartWidth,t.origHeight=e.chartHeight,t.browserProps){const i=o(e.container.ownerDocument,t.browserProps.fullscreenChange,(function(){t.isOpen?(t.isOpen=!1,t.close()):(e.setSize(null,null,!1),t.isOpen=!0,t.setButtonText())})),n=o(e,"destroy",i);t.unbindFullscreenEvent=()=>{i(),n()};const r=e.renderTo[t.browserProps.requestFullscreen]();r&&r.catch((function(){alert("Full screen is not supported inside a frame.")}))}}))}setButtonText(){var e=this.chart,i=e.exportDivElements;const o=e.options.exporting,n=o&&o.buttons&&o.buttons.contextButton.menuItems;e=e.options.lang,o&&o.menuItemDefinitions&&e&&e.exitFullscreen&&e.viewFullscreen&&n&&i&&(i=i[n.indexOf("viewFullscreen")])&&t.setElementHTML(i,this.isOpen?e.exitFullscreen:o.menuItemDefinitions.viewFullscreen.text||e.viewFullscreen)}toggle(){this.isOpen?this.close():this.open()}}return s})),e(t,"Core/HttpUtilities.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],(function(t,e){const{doc:i}=t,{createElement:o,discardElement:n,merge:r,objectEach:s}=e,a={ajax:function(t){const e={json:"application/json",xml:"application/xml",text:"text/plain",octet:"application/octet-stream"},i=new XMLHttpRequest;if(!t.url)return!1;i.open((t.type||"get").toUpperCase(),t.url,!0),t.headers&&t.headers["Content-Type"]||i.setRequestHeader("Content-Type",e[t.dataType||"json"]||e.text),s(t.headers,(function(t,e){i.setRequestHeader(e,t)})),t.responseType&&(i.responseType=t.responseType),i.onreadystatechange=function(){let e;if(4===i.readyState){if(200===i.status){if("blob"!==t.responseType&&(e=i.responseText,"json"===t.dataType))try{e=JSON.parse(e)}catch(e){if(e instanceof Error)return void(t.error&&t.error(i,e))}return t.success&&t.success(e,i)}t.error&&t.error(i,i.responseText)}},t.data&&"string"!=typeof t.data&&(t.data=JSON.stringify(t.data)),i.send(t.data)},getJSON:function(t,e){a.ajax({url:t,success:e,dataType:"json",headers:{"Content-Type":"text/plain"}})},post:function(t,e,a){const l=o("form",r({method:"post",action:t,enctype:"multipart/form-data"},a),{display:"none"},i.body);s(e,(function(t,e){o("input",{type:"hidden",name:e,value:t},void 0,l)})),l.submit(),n(l)}};return a})),e(t,"Extensions/Exporting/Exporting.js",[t["Core/Renderer/HTML/AST.js"],t["Core/Chart/Chart.js"],t["Core/Chart/ChartNavigationComposition.js"],t["Core/Defaults.js"],t["Extensions/Exporting/ExportingDefaults.js"],t["Extensions/Exporting/ExportingSymbols.js"],t["Extensions/Exporting/Fullscreen.js"],t["Core/Globals.js"],t["Core/HttpUtilities.js"],t["Core/Utilities.js"]],(function(t,e,i,o,n,r,s,a,l,c){const{defaultOptions:u,setOptions:h}=o,{doc:d,SVG_NS:p,win:f}=a,{addEvent:g,css:m,createElement:y,discardElement:v,extend:_,find:C,fireEvent:b,isObject:E,merge:S,objectEach:w,pick:O,removeEvent:x,uniqueKey:P}=c;var T;return function(e){function o(t){const e=this,i=e.renderer,o=S(e.options.navigation.buttonOptions,t),n=o.onclick,r=o.menuItems,s=o.symbolSize||12;let a;if(e.btnCount||(e.btnCount=0),e.exportDivElements||(e.exportDivElements=[],e.exportSVGElements=[]),!1!==o.enabled&&o.theme){var l,c=o.theme;e.styledMode||(c.fill=O(c.fill,"#ffffff"),c.stroke=O(c.stroke,"none")),n?l=function(t){t&&t.stopPropagation(),n.call(e,t)}:r&&(l=function(t){t&&t.stopPropagation(),e.contextMenu(u.menuClassName,r,u.translateX,u.translateY,u.width,u.height,u),u.setState(2)}),o.text&&o.symbol?c.paddingLeft=O(c.paddingLeft,30):o.text||_(c,{width:o.width,height:o.height,padding:0}),e.styledMode||(c["stroke-linecap"]="round",c.fill=O(c.fill,"#ffffff"),c.stroke=O(c.stroke,"none"));var u=i.button(o.text,0,0,l,c,void 0,void 0,void 0,void 0,o.useHTML).addClass(t.className).attr({title:O(e.options.lang[o._titleKey||o.titleKey],"")});u.menuClassName=t.menuClassName||"highcharts-menu-"+e.btnCount++,o.symbol&&(a=i.symbol(o.symbol,o.symbolX-s/2,o.symbolY-s/2,s,s,{width:s,height:s}).addClass("highcharts-button-symbol").attr({zIndex:1}).add(u),e.styledMode||a.attr({stroke:o.symbolStroke,fill:o.symbolFill,"stroke-width":o.symbolStrokeWidth||1})),u.add(e.exportingGroup).align(_(o,{width:u.width,x:O(o.x,e.buttonOffset)}),!0,"spacingBox"),e.buttonOffset+=(u.width+o.buttonSpacing)*("right"===o.align?-1:1),e.exportSVGElements.push(u,a)}}function T(){if(this.printReverseInfo){var{childNodes:t,origDisplay:e,resetParams:i}=this.printReverseInfo;this.moveContainers(this.renderTo),[].forEach.call(t,(function(t,i){1===t.nodeType&&(t.style.display=e[i]||"")})),this.isPrinting=!1,i&&this.setSize.apply(this,i),delete this.printReverseInfo,X=void 0,b(this,"afterPrint")}}function M(){const t=d.body,e=this.options.exporting.printMaxWidth,i={childNodes:t.childNodes,origDisplay:[],resetParams:void 0};this.isPrinting=!0,this.pointer.reset(null,0),b(this,"beforePrint"),e&&this.chartWidth>e&&(i.resetParams=[this.options.chart.width,void 0,!1],this.setSize(e,void 0,!1)),[].forEach.call(i.childNodes,(function(t,e){1===t.nodeType&&(i.origDisplay[e]=t.style.display,t.style.display="none")})),this.moveContainers(t),this.printReverseInfo=i}function D(t){t.renderExporting(),g(t,"redraw",t.renderExporting),g(t,"destroy",t.destroyExport)}function A(e,i,o,n,r,s,a){const l=this,u=l.options.navigation,h=l.chartWidth,p=l.chartHeight,v="cache-"+e,C=Math.max(r,s);let S,w=l[v];w||(l.exportContextMenu=l[v]=w=y("div",{className:e},{position:"absolute",zIndex:1e3,padding:C+"px",pointerEvents:"auto"},l.fixedDiv||l.container),S=y("ul",{className:"highcharts-menu"},l.styledMode?{}:{listStyle:"none",margin:0,padding:0},w),l.styledMode||m(S,_({MozBoxShadow:"3px 3px 10px #888",WebkitBoxShadow:"3px 3px 10px #888",boxShadow:"3px 3px 10px #888"},u.menuStyle)),w.hideMenu=function(){m(w,{display:"none"}),a&&a.setState(0),l.openMenu=!1,m(l.renderTo,{overflow:"hidden"}),m(l.container,{overflow:"hidden"}),c.clearTimeout(w.hideTimer),b(l,"exportMenuHidden")},l.exportEvents.push(g(w,"mouseleave",(function(){w.hideTimer=f.setTimeout(w.hideMenu,500)})),g(w,"mouseenter",(function(){c.clearTimeout(w.hideTimer)})),g(d,"mouseup",(function(t){l.pointer.inClass(t.target,e)||w.hideMenu()})),g(w,"click",(function(){l.openMenu&&w.hideMenu()}))),i.forEach((function(e){if("string"==typeof e&&(e=l.options.exporting.menuItemDefinitions[e]),E(e,!0)){let i;e.separator?i=y("hr",void 0,void 0,S):("viewData"===e.textKey&&l.isDataTableVisible&&(e.textKey="hideData"),i=y("li",{className:"highcharts-menu-item",onclick:function(t){t&&t.stopPropagation(),w.hideMenu(),e.onclick&&e.onclick.apply(l,arguments)}},void 0,S),t.setElementHTML(i,e.text||l.options.lang[e.textKey]),l.styledMode||(i.onmouseover=function(){m(this,u.menuItemHoverStyle)},i.onmouseout=function(){m(this,u.menuItemStyle)},m(i,_({cursor:"pointer"},u.menuItemStyle||{})))),l.exportDivElements.push(i)}})),l.exportDivElements.push(S,w),l.exportMenuWidth=w.offsetWidth,l.exportMenuHeight=w.offsetHeight),i={display:"block"},o+l.exportMenuWidth>h?i.right=h-o-r-C+"px":i.left=o-C+"px",n+s+l.exportMenuHeight>p&&"top"!==a.alignOptions.verticalAlign?i.bottom=p-n-C+"px":i.top=n+s-C+"px",m(w,i),m(l.renderTo,{overflow:""}),m(l.container,{overflow:""}),l.openMenu=!0,b(l,"exportMenuShown")}function R(t){const e=t?t.target:this,i=e.exportSVGElements,o=e.exportDivElements;let n;t=e.exportEvents,i&&(i.forEach(((t,o)=>{t&&(t.onclick=t.ontouchstart=null,n="cache-"+t.menuClassName,e[n]&&delete e[n],i[o]=t.destroy())})),i.length=0),e.exportingGroup&&(e.exportingGroup.destroy(),delete e.exportingGroup),o&&(o.forEach((function(t,e){t&&(c.clearTimeout(t.hideTimer),x(t,"mouseleave"),o[e]=t.onmouseout=t.onmouseover=t.ontouchstart=t.onclick=null,v(t))})),o.length=0),t&&(t.forEach((function(t){t()})),t.length=0)}function L(t,e){e=this.getSVGForExport(t,e),t=S(this.options.exporting,t),l.post(t.url,{filename:t.filename?t.filename.replace(/\//g,"-"):this.getFilename(),type:t.type,width:t.width,scale:t.scale,svg:e},t.formAttributes)}function I(){return this.styledMode&&this.inlineStyles(),this.container.innerHTML}function N(){const t=this.userOptions.title&&this.userOptions.title.text;let e=this.options.exporting.filename;return e?e.replace(/\//g,"-"):("string"==typeof t&&(e=t.toLowerCase().replace(/<\/?[^>]+(>|$)/g,"").replace(/[\s_]+/g,"-").replace(/[^a-z0-9\-]/g,"").replace(/^[\-]+/g,"").replace(/[\-]+/g,"-").substr(0,24).replace(/[\-]+$/g,"")),(!e||5>e.length)&&(e="chart"),e)}function k(t){let e,i=S(this.options,t);i.plotOptions=S(this.userOptions.plotOptions,t&&t.plotOptions),i.time=S(this.userOptions.time,t&&t.time);const o=y("div",null,{position:"absolute",top:"-9999em",width:this.chartWidth+"px",height:this.chartHeight+"px"},d.body);var n=this.renderTo.style.width,r=this.renderTo.style.height;n=i.exporting.sourceWidth||i.chart.width||/px$/.test(n)&&parseInt(n,10)||(i.isGantt?800:600),r=i.exporting.sourceHeight||i.chart.height||/px$/.test(r)&&parseInt(r,10)||400,_(i.chart,{animation:!1,renderTo:o,forExport:!0,renderer:"SVGRenderer",width:n,height:r}),i.exporting.enabled=!1,delete i.data,i.series=[],this.series.forEach((function(t){e=S(t.userOptions,{animation:!1,enableMouseTracking:!1,showCheckbox:!1,visible:t.visible}),e.isInternal||i.series.push(e)}));const s={};this.axes.forEach((function(t){t.userOptions.internalKey||(t.userOptions.internalKey=P()),t.options.isInternal||(s[t.coll]||(s[t.coll]=!0,i[t.coll]=[]),i[t.coll].push(S(t.userOptions,{visible:t.visible})))}));const a=new this.constructor(i,this.callback);return t&&["xAxis","yAxis","series"].forEach((function(e){const i={};t[e]&&(i[e]=t[e],a.update(i))})),this.axes.forEach((function(t){const e=C(a.axes,(function(e){return e.options.internalKey===t.userOptions.internalKey}));var i=t.getExtremes();const o=i.userMin;i=i.userMax,e&&(void 0!==o&&o!==e.min||void 0!==i&&i!==e.max)&&e.setExtremes(o,i,!0,!1)})),r=a.getChartHTML(),b(this,"getSVG",{chartCopy:a}),r=this.sanitizeSVG(r,i),i=null,a.destroy(),v(o),r}function F(t,e){const i=this.options.exporting;return this.getSVG(S({chart:{borderRadius:0}},i.chartOptions,e,{exporting:{sourceWidth:t&&t.sourceWidth||i.sourceWidth,sourceHeight:t&&t.sourceHeight||i.sourceHeight}}))}function B(t){return t.replace(/([A-Z])/g,(function(t,e){return"-"+e.toLowerCase()}))}function G(){const t=z,i=e.inlineAllowlist,o={};let n;const r=d.createElement("iframe");m(r,{width:"1px",height:"1px",visibility:"hidden"}),d.body.appendChild(r);const s=r.contentWindow&&r.contentWindow.document;s&&s.body.appendChild(s.createElementNS(p,"svg")),function e(r){const l={};let c,u;if(s&&1===r.nodeType&&-1===Y.indexOf(r.nodeName)){if(c=f.getComputedStyle(r,null),u="svg"===r.nodeName?{}:f.getComputedStyle(r.parentNode,null),!o[r.nodeName]){n=s.getElementsByTagName("svg")[0];var h=s.createElementNS(r.namespaceURI,r.nodeName);n.appendChild(h);var d=f.getComputedStyle(h,null),p={};for(var g in d)"string"!=typeof d[g]||/^[0-9]+$/.test(g)||(p[g]=d[g]);o[r.nodeName]=p,"text"===r.nodeName&&delete o.text.fill,n.removeChild(h)}for(const e in c)if(a.isFirefox||a.isMS||a.isSafari||Object.hasOwnProperty.call(c,e)){g=c[e];var y=e;if(h=d=!1,i.length){for(p=i.length;p--&&!d;)d=i[p].test(y);h=!d}for("transform"===y&&"none"===g&&(h=!0),p=t.length;p--&&!h;)h=t[p].test(y)||"function"==typeof g;h||u[y]===g&&"svg"!==r.nodeName||o[r.nodeName][y]===g||(K&&-1===K.indexOf(y)?l[y]=g:g&&r.setAttribute(B(y),g))}m(r,l),"svg"===r.nodeName&&r.setAttribute("stroke-width","1px"),"text"!==r.nodeName&&[].forEach.call(r.children||r.childNodes,e)}}(this.container.querySelector("svg")),n.parentNode.removeChild(n),r.parentNode.removeChild(r)}function j(t){(this.fixedDiv?[this.fixedDiv,this.scrollingContainer]:[this.container]).forEach((function(e){t.appendChild(e)}))}function V(){const t=this;t.exporting={update:function(e,i){t.isDirtyExporting=!0,S(!0,t.options.exporting,e),O(i,!0)&&t.redraw()}},i.compose(t).navigation.addUpdate(((e,i)=>{t.isDirtyExporting=!0,S(!0,t.options.navigation,e),O(i,!0)&&t.redraw()}))}function U(){const t=this;t.isPrinting||(X=t,a.isSafari||t.beforePrint(),setTimeout((()=>{f.focus(),f.print(),a.isSafari||setTimeout((()=>{t.afterPrint()}),1e3)}),1))}function W(){const t=this,e=t.options.exporting,i=e.buttons,o=t.isDirtyExporting||!t.exportSVGElements;t.buttonOffset=0,t.isDirtyExporting&&t.destroyExport(),o&&!1!==e.enabled&&(t.exportEvents=[],t.exportingGroup=t.exportingGroup||t.renderer.g("exporting-group").attr({zIndex:3}).add(),w(i,(function(e){t.addButton(e)})),t.isDirtyExporting=!1)}function H(t,e){const i=t.indexOf("</svg>")+6;let o=t.substr(i);return t=t.substr(0,i),e&&e.exporting&&e.exporting.allowHTML&&o&&(o='<foreignObject x="0" y="0" width="'+e.chart.width+'" height="'+e.chart.height+'"><body xmlns="http://www.w3.org/1999/xhtml">'+o.replace(/(<(?:img|br).*?(?=>))>/g,"$1 />")+"</body></foreignObject>",t=t.replace("</svg>",o+"</svg>")),t.replace(/zIndex="[^"]+"/g,"").replace(/symbolName="[^"]+"/g,"").replace(/jQuery[0-9]+="[^"]+"/g,"").replace(/url\(("|&quot;)(.*?)("|&quot;);?\)/g,"url($2)").replace(/url\([^#]+#/g,"url(#").replace(/<svg /,'<svg xmlns:xlink="http://www.w3.org/1999/xlink" ').replace(/ (|NS[0-9]+:)href=/g," xlink:href=").replace(/\n/," ").replace(/(fill|stroke)="rgba\(([ 0-9]+,[ 0-9]+,[ 0-9]+),([ 0-9\.]+)\)"/g,'$1="rgb($2)" $1-opacity="$3"').replace(/&nbsp;/g," ").replace(/&shy;/g,"­")}const $=[],z=[/-/,/^(clipPath|cssText|d|height|width)$/,/^font$/,/[lL]ogical(Width|Height)$/,/^parentRule$/,/perspective/,/TapHighlightColor/,/^transition/,/^length$/,/^[0-9]+$/],K="fill stroke strokeLinecap strokeLinejoin strokeWidth textAnchor x y".split(" ");e.inlineAllowlist=[];const Y=["clipPath","defs","desc"];let X;e.compose=function(t,e){r.compose(e),s.compose(t),c.pushUnique($,t)&&((e=t.prototype).afterPrint=T,e.exportChart=L,e.inlineStyles=G,e.print=U,e.sanitizeSVG=H,e.getChartHTML=I,e.getSVG=k,e.getSVGForExport=F,e.getFilename=N,e.moveContainers=j,e.beforePrint=M,e.contextMenu=A,e.addButton=o,e.destroyExport=R,e.renderExporting=W,e.callbacks.push(D),g(t,"init",V),a.isSafari&&a.win.matchMedia("print").addListener((function(t){X&&(t.matches?X.beforePrint():X.afterPrint())}))),c.pushUnique($,h)&&(u.exporting=S(n.exporting,u.exporting),u.lang=S(n.lang,u.lang),u.navigation=S(n.navigation,u.navigation))}}(T||(T={})),T})),e(t,"masters/modules/exporting.src.js",[t["Core/Globals.js"],t["Extensions/Exporting/Exporting.js"],t["Core/HttpUtilities.js"]],(function(t,e,i){t.HttpUtilities=i,t.ajax=i.ajax,t.getJSON=i.getJSON,t.post=i.post,e.compose(t.Chart,t.Renderer)}))},t.exports?(r.default=r,t.exports=r):(o=[i(8840)],void 0===(n=function(t){return r(t),r.Highcharts=t,r}.apply(e,o))||(t.exports=n))},1913:(t,e,i)=>{"use strict";var o,n,r;r=function(t){function e(t,e,i,o){t.hasOwnProperty(e)||(t[e]=o.apply(null,i),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:e,module:t[e]}})))}e(t=t?t._modules:{},"Core/Axis/NavigatorAxisComposition.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],(function(t,e){function i(){this.navigatorAxis||(this.navigatorAxis=new h(this))}function o(t){var e=this.chart.options,i=e.navigator;const o=this.navigatorAxis,r=e.chart.zooming.pinchType,s=e.rangeSelector;e=e.chart.zooming.type,this.isXAxis&&(i&&i.enabled||s&&s.enabled)&&("y"===e?t.zoomed=!1:(!n&&"xy"===e||n&&"xy"===r)&&this.options.range&&(i=o.previousZoom,a(t.newMin)?o.previousZoom=[this.min,this.max]:i&&(t.newMin=i[0],t.newMax=i[1],o.previousZoom=void 0))),void 0!==t.zoomed&&t.preventDefault()}const{isTouchDevice:n}=t,{addEvent:r,correctFloat:s,defined:a,isNumber:l,pick:c}=e,u=[];class h{static compose(t){e.pushUnique(u,t)&&(t.keepProps.push("navigatorAxis"),r(t,"init",i),r(t,"zoom",o))}constructor(t){this.axis=t}destroy(){this.axis=void 0}toFixedRange(t,e,i,o){var n=this.axis,r=n.chart;t=c(i,n.translate(t,!0,!n.horiz)),e=c(o,n.translate(e,!0,!n.horiz)),r=r&&r.fixedRange,n=(n.pointRange||0)/2;const u=r&&(e-t)/r;return a(i)||(t=s(t+n)),a(o)||(e=s(e-n)),.7<u&&1.3>u&&(o?t=e-r:e=t+r),l(t)&&l(e)||(t=e=void 0),{min:t,max:e}}}return h})),e(t,"Stock/Navigator/NavigatorDefaults.js",[t["Core/Color/Color.js"],t["Core/Series/SeriesRegistry.js"]],(function(t,e){return({parse:t}=t),({seriesTypes:e}=e),e={height:40,margin:25,maskInside:!0,handles:{width:7,height:15,symbols:["navigator-handle","navigator-handle"],enabled:!0,lineWidth:1,backgroundColor:"#f2f2f2",borderColor:"#999999"},maskFill:t("#667aff").setOpacity(.3).get(),outlineColor:"#999999",outlineWidth:1,series:{type:void 0===e.areaspline?"line":"areaspline",fillOpacity:.05,lineWidth:1,compare:null,sonification:{enabled:!1},dataGrouping:{approximation:"average",enabled:!0,groupPixelWidth:2,firstAnchor:"firstPoint",anchor:"middle",lastAnchor:"lastPoint",units:[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2,3,4]],["week",[1,2,3]],["month",[1,3,6]],["year",null]]},dataLabels:{enabled:!1,zIndex:2},id:"highcharts-navigator-series",className:"highcharts-navigator-series",lineColor:null,marker:{enabled:!1},threshold:null},xAxis:{overscroll:0,className:"highcharts-navigator-xaxis",tickLength:0,lineWidth:0,gridLineColor:"#e6e6e6",gridLineWidth:1,tickPixelInterval:200,labels:{align:"left",style:{color:"#000000",fontSize:"0.7em",opacity:.6,textOutline:"2px contrast"},x:3,y:-4},crosshair:!1},yAxis:{className:"highcharts-navigator-yaxis",gridLineWidth:0,startOnTick:!1,endOnTick:!1,minPadding:.1,maxPadding:.1,labels:{enabled:!1},crosshair:!1,title:{text:null},tickLength:0,tickWidth:0}}})),e(t,"Stock/Navigator/NavigatorSymbols.js",[],(function(){return{"navigator-handle":function(t,e,i,o,n={}){return t=n.width?n.width/2:i,e=Math.round(t/3)+.5,[["M",-t-1,.5],["L",t,.5],["L",t,(o=n.height||o)+.5],["L",-t-1,o+.5],["L",-t-1,.5],["M",-e,4],["L",-e,o-3],["M",e-1,4],["L",e-1,o-3]]}}})),e(t,"Stock/Navigator/NavigatorComposition.js",[t["Core/Defaults.js"],t["Core/Globals.js"],t["Core/Axis/NavigatorAxisComposition.js"],t["Stock/Navigator/NavigatorDefaults.js"],t["Stock/Navigator/NavigatorSymbols.js"],t["Core/Renderer/RendererRegistry.js"],t["Core/Utilities.js"]],(function(t,e,i,o,n,r,s){function a(){this.navigator&&this.navigator.setBaseSeries(null,!1)}function l(){var t;const e=this.legend,i=this.navigator;let o,n,r;if(i){o=e&&e.options,n=i.xAxis,r=i.yAxis;const{scrollbarHeight:s,scrollButtonSize:a}=i;this.inverted?(i.left=i.opposite?this.chartWidth-s-i.height:this.spacing[3]+s,i.top=this.plotTop+a):(i.left=E(n.left,this.plotLeft+a),i.top=i.navigatorOptions.top||this.chartHeight-i.height-s-((null===(t=this.scrollbar)||void 0===t?void 0:t.options.margin)||0)-this.spacing[2]-(this.rangeSelector&&this.extraBottomMargin?this.rangeSelector.getHeight():0)-(o&&"bottom"===o.verticalAlign&&"proximate"!==o.layout&&o.enabled&&!o.floating?e.legendHeight+E(o.margin,10):0)-(this.titleOffset?this.titleOffset[2]:0)),n&&r&&(this.inverted?n.options.left=r.options.left=i.left:n.options.top=r.options.top=i.top,n.setAxisSize(),r.setAxisSize())}}function c(t){this.navigator||this.scroller||!this.options.navigator.enabled&&!this.options.scrollbar.enabled||(this.scroller=this.navigator=new w(this),E(t.redraw,!0)&&this.redraw(t.animation))}function u(){const t=this.options;(t.navigator.enabled||t.scrollbar.enabled)&&(this.scroller=this.navigator=new w(this))}function h(){const t=this.options,e=t.navigator,i=t.rangeSelector;if((e&&e.enabled||i&&i.enabled)&&(!y&&"x"===t.chart.zooming.type||y&&"x"===t.chart.zooming.pinchType))return!1}function d(t){const e=t.navigator;e&&t.xAxis[0]&&(t=t.xAxis[0].getExtremes(),e.render(t.min,t.max))}function p(t){const e=t.options.navigator||{},i=t.options.scrollbar||{};this.navigator||this.scroller||!e.enabled&&!i.enabled||(b(!0,this.options.navigator,e),b(!0,this.options.scrollbar,i),delete t.options.navigator,delete t.options.scrollbar)}function f(){this.chart.navigator&&!this.options.isInternal&&this.chart.navigator.setBaseSeries(null,!1)}const{defaultOptions:g,setOptions:m}=t,{isTouchDevice:y}=e,{getRendererType:v}=r,{addEvent:_,extend:C,merge:b,pick:E}=s,S=[];let w;return{compose:function(t,e,r,y){i.compose(t),w=r,s.pushUnique(S,e)&&(e.prototype.callbacks.push(d),_(e,"afterAddSeries",a),_(e,"afterSetChartSize",l),_(e,"afterUpdate",c),_(e,"beforeRender",u),_(e,"beforeShowResetZoom",h),_(e,"update",p)),s.pushUnique(S,y)&&_(y,"afterUpdate",f),s.pushUnique(S,v)&&C(v().prototype.symbols,n),s.pushUnique(S,m)&&C(g,{navigator:o})}}})),e(t,"Core/Axis/ScrollbarAxis.js",[t["Core/Utilities.js"]],(function(t){const{addEvent:e,defined:i,pick:o}=t,n=[];return class{static compose(r,s){if(!t.pushUnique(n,r))return r;const a=t=>{const e=o(t.options&&t.options.min,t.min),n=o(t.options&&t.options.max,t.max);return{axisMin:e,axisMax:n,scrollMin:i(t.dataMin)?Math.min(e,t.min,t.dataMin,o(t.threshold,1/0)):e,scrollMax:i(t.dataMax)?Math.max(n,t.max,t.dataMax,o(t.threshold,-1/0)):n}};return e(r,"afterInit",(function(){const t=this;t.options&&t.options.scrollbar&&t.options.scrollbar.enabled&&(t.options.scrollbar.vertical=!t.horiz,t.options.startOnTick=t.options.endOnTick=!1,t.scrollbar=new s(t.chart.renderer,t.options.scrollbar,t.chart),e(t.scrollbar,"changed",(function(e){let{axisMin:o,axisMax:n,scrollMin:r,scrollMax:s}=a(t);var l=s-r;let c;i(o)&&i(n)&&(t.horiz&&!t.reversed||!t.horiz&&t.reversed?(c=r+l*this.to,l=r+l*this.from):(c=r+l*(1-this.from),l=r+l*(1-this.to)),this.shouldUpdateExtremes(e.DOMType)?t.setExtremes(l,c,!0,"mousemove"!==e.DOMType&&"touchmove"!==e.DOMType&&void 0,e):this.setRange(this.from,this.to))})))})),e(r,"afterRender",(function(){let{scrollMin:t,scrollMax:e}=a(this),o=this.scrollbar;var n=this.axisTitleMargin+(this.titleOffset||0),r=this.chart.scrollbarsOffsets;let s=this.options.margin||0;o&&(this.horiz?(this.opposite||(r[1]+=n),o.position(this.left,this.top+this.height+2+r[1]-(this.opposite?s:0),this.width,this.height),this.opposite||(r[1]+=s),n=1):(this.opposite&&(r[0]+=n),o.position(o.options.opposite?this.left+this.width+2+r[0]-(this.opposite?0:s):this.opposite?0:s,this.top,this.width,this.height),this.opposite&&(r[0]+=s),n=0),r[n]+=o.size+(o.options.margin||0),isNaN(t)||isNaN(e)||!i(this.min)||!i(this.max)||this.min===this.max?o.setRange(0,1):(r=(this.min-t)/(e-t),n=(this.max-t)/(e-t),this.horiz&&!this.reversed||!this.horiz&&this.reversed?o.setRange(r,n):o.setRange(1-n,1-r)))})),e(r,"afterGetOffset",(function(){const t=this.scrollbar;var e=t&&!t.options.opposite;e=this.horiz?2:e?3:1,t&&(this.chart.scrollbarsOffsets=[0,0],this.chart.axisOffset[e]+=t.size+(t.options.margin||0))})),r}}})),e(t,"Stock/Scrollbar/ScrollbarDefaults.js",[t["Core/Globals.js"]],(function(t){return{height:10,barBorderRadius:5,buttonBorderRadius:0,buttonsEnabled:!1,liveRedraw:void 0,margin:void 0,minWidth:6,opposite:!0,step:.2,zIndex:3,barBackgroundColor:"#cccccc",barBorderWidth:0,barBorderColor:"#cccccc",buttonArrowColor:"#333333",buttonBackgroundColor:"#e6e6e6",buttonBorderColor:"#cccccc",buttonBorderWidth:1,rifleColor:"none",trackBackgroundColor:"rgba(255, 255, 255, 0.001)",trackBorderColor:"#cccccc",trackBorderRadius:5,trackBorderWidth:1}})),e(t,"Stock/Scrollbar/Scrollbar.js",[t["Core/Defaults.js"],t["Core/Globals.js"],t["Core/Axis/ScrollbarAxis.js"],t["Stock/Scrollbar/ScrollbarDefaults.js"],t["Core/Utilities.js"]],(function(t,e,i,o,n){const{defaultOptions:r}=t,{addEvent:s,correctFloat:a,defined:l,destroyObjectProperties:c,fireEvent:u,merge:h,pick:d,removeEvent:p}=n;class f{static compose(t){i.compose(t,f)}static swapXY(t,e){return e&&t.forEach((t=>{const e=t.length;let i;for(let o=0;o<e;o+=2)i=t[o+1],"number"==typeof i&&(t[o+1]=t[o+2],t[o+2]=i)})),t}constructor(t,e,i){this._events=[],this.chart=void 0,this.from=this.chartY=this.chartX=0,this.scrollbar=this.renderer=this.options=this.group=void 0,this.scrollbarButtons=[],this.scrollbarGroup=void 0,this.scrollbarLeft=0,this.scrollbarRifles=void 0,this.scrollbarStrokeWidth=1,this.to=this.size=this.scrollbarTop=0,this.track=void 0,this.trackBorderWidth=1,this.userOptions=void 0,this.y=this.x=0,this.init(t,e,i)}addEvents(){var t=this.options.inverted?[1,0]:[0,1];const i=this.scrollbarButtons,o=this.scrollbarGroup.element,n=this.track.element,r=this.mouseDownHandler.bind(this),a=this.mouseMoveHandler.bind(this),l=this.mouseUpHandler.bind(this);t=[[i[t[0]].element,"click",this.buttonToMinClick.bind(this)],[i[t[1]].element,"click",this.buttonToMaxClick.bind(this)],[n,"click",this.trackClick.bind(this)],[o,"mousedown",r],[o.ownerDocument,"mousemove",a],[o.ownerDocument,"mouseup",l]],e.hasTouch&&t.push([o,"touchstart",r],[o.ownerDocument,"touchmove",a],[o.ownerDocument,"touchend",l]),t.forEach((function(t){s.apply(null,t)})),this._events=t}buttonToMaxClick(t){const e=(this.to-this.from)*d(this.options.step,.2);this.updatePosition(this.from+e,this.to+e),u(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:t})}buttonToMinClick(t){const e=a(this.to-this.from)*d(this.options.step,.2);this.updatePosition(a(this.from-e),a(this.to-e)),u(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:t})}cursorToScrollbarPosition(t){var e=this.options;return e=e.minWidth>this.calculatedWidth?e.minWidth:0,{chartX:(t.chartX-this.x-this.xOffset)/(this.barWidth-e),chartY:(t.chartY-this.y-this.yOffset)/(this.barWidth-e)}}destroy(){const t=this,e=t.chart.scroller;t.removeEvents(),["track","scrollbarRifles","scrollbar","scrollbarGroup","group"].forEach((function(e){t[e]&&t[e].destroy&&(t[e]=t[e].destroy())})),e&&t===e.scrollbar&&(e.scrollbar=null,c(e.scrollbarButtons))}drawScrollbarButton(t){const e=this.renderer,i=this.scrollbarButtons,o=this.options,n=this.size;var r=e.g().add(this.group);i.push(r),o.buttonsEnabled&&(r=e.rect().addClass("highcharts-scrollbar-button").add(r),this.chart.styledMode||r.attr({stroke:o.buttonBorderColor,"stroke-width":o.buttonBorderWidth,fill:o.buttonBackgroundColor}),r.attr(r.crisp({x:-.5,y:-.5,width:n+1,height:n+1,r:o.buttonBorderRadius},r.strokeWidth())),t=e.path(f.swapXY([["M",n/2+(t?-1:1),n/2-3],["L",n/2+(t?-1:1),n/2+3],["L",n/2+(t?2:-2),n/2]],o.vertical)).addClass("highcharts-scrollbar-arrow").add(i[t]),this.chart.styledMode||t.attr({fill:o.buttonArrowColor}))}init(t,e,i){this.scrollbarButtons=[],this.renderer=t,this.userOptions=e,this.options=h(o,r.scrollbar,e),this.options.margin=d(this.options.margin,10),this.chart=i,this.size=d(this.options.size,this.options.height),e.enabled&&(this.render(),this.addEvents())}mouseDownHandler(t){t=this.chart.pointer.normalize(t),t=this.cursorToScrollbarPosition(t),this.chartX=t.chartX,this.chartY=t.chartY,this.initPositions=[this.from,this.to],this.grabbedCenter=!0}mouseMoveHandler(t){var e=this.chart.pointer.normalize(t),i=this.options.vertical?"chartY":"chartX";const o=this.initPositions||[];!this.grabbedCenter||t.touches&&0===t.touches[0][i]||(i=(e=this.cursorToScrollbarPosition(e)[i])-(i=this[i]),this.hasDragged=!0,this.updatePosition(o[0]+i,o[1]+i),this.hasDragged&&u(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMType:t.type,DOMEvent:t}))}mouseUpHandler(t){this.hasDragged&&u(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMType:t.type,DOMEvent:t}),this.grabbedCenter=this.hasDragged=this.chartX=this.chartY=null}position(t,e,i,o){const{buttonsEnabled:n,margin:r=0,vertical:s}=this.options,a=this.rendered?"animate":"attr";let l=o,c=0;this.group.show(),this.x=t,this.y=e+this.trackBorderWidth,this.width=i,this.height=o,this.xOffset=l,this.yOffset=c,s?(this.width=this.yOffset=i=this.size,this.xOffset=l=0,this.yOffset=c=n?this.size:0,this.barWidth=o-(n?2*i:0),this.x=t+=r):(this.height=o=this.size,this.xOffset=l=n?this.size:0,this.barWidth=i-(n?2*o:0),this.y+=r),this.group[a]({translateX:t,translateY:this.y}),this.track[a]({width:i,height:o}),this.scrollbarButtons[1][a]({translateX:s?0:i-l,translateY:s?o-c:0})}removeEvents(){this._events.forEach((function(t){p.apply(null,t)})),this._events.length=0}render(){const t=this.renderer,e=this.options,i=this.size,o=this.chart.styledMode,n=t.g("scrollbar").attr({zIndex:e.zIndex}).hide().add();this.group=n,this.track=t.rect().addClass("highcharts-scrollbar-track").attr({r:e.trackBorderRadius||0,height:i,width:i}).add(n),o||this.track.attr({fill:e.trackBackgroundColor,stroke:e.trackBorderColor,"stroke-width":e.trackBorderWidth});const r=this.trackBorderWidth=this.track.strokeWidth();this.track.attr({x:-r%2/2,y:-r%2/2}),this.scrollbarGroup=t.g().add(n),this.scrollbar=t.rect().addClass("highcharts-scrollbar-thumb").attr({height:i-r,width:i-r,r:e.barBorderRadius||0}).add(this.scrollbarGroup),this.scrollbarRifles=t.path(f.swapXY([["M",-3,i/4],["L",-3,2*i/3],["M",0,i/4],["L",0,2*i/3],["M",3,i/4],["L",3,2*i/3]],e.vertical)).addClass("highcharts-scrollbar-rifles").add(this.scrollbarGroup),o||(this.scrollbar.attr({fill:e.barBackgroundColor,stroke:e.barBorderColor,"stroke-width":e.barBorderWidth}),this.scrollbarRifles.attr({stroke:e.rifleColor,"stroke-width":1})),this.scrollbarStrokeWidth=this.scrollbar.strokeWidth(),this.scrollbarGroup.translate(-this.scrollbarStrokeWidth%2/2,-this.scrollbarStrokeWidth%2/2),this.drawScrollbarButton(0),this.drawScrollbarButton(1)}setRange(t,e){const i=this.options,o=i.vertical;var n=i.minWidth,r=this.barWidth;const s=!this.rendered||this.hasDragged||this.chart.navigator&&this.chart.navigator.hasDragged?"attr":"animate";if(l(r)){var c=r*Math.min(e,1);t=Math.max(t,0);var u=Math.ceil(r*t);this.calculatedWidth=c=a(c-u),c<n&&(u=(r-n+c)*t,c=n),n=Math.floor(u+this.xOffset+this.yOffset),r=c/2-.5,this.from=t,this.to=e,o?(this.scrollbarGroup[s]({translateY:n}),this.scrollbar[s]({height:c}),this.scrollbarRifles[s]({translateY:r}),this.scrollbarTop=n,this.scrollbarLeft=0):(this.scrollbarGroup[s]({translateX:n}),this.scrollbar[s]({width:c}),this.scrollbarRifles[s]({translateX:r}),this.scrollbarLeft=n,this.scrollbarTop=0),12>=c?this.scrollbarRifles.hide():this.scrollbarRifles.show(),!1===i.showFull&&(0>=t&&1<=e?this.group.hide():this.group.show()),this.rendered=!0}}shouldUpdateExtremes(t){return d(this.options.liveRedraw,e.svg&&!e.isTouchDevice&&!this.chart.boosted)||"mouseup"===t||"touchend"===t||!l(t)}trackClick(t){const e=this.chart.pointer.normalize(t),i=this.to-this.from,o=this.y+this.scrollbarTop,n=this.x+this.scrollbarLeft;this.options.vertical&&e.chartY>o||!this.options.vertical&&e.chartX>n?this.updatePosition(this.from+i,this.to+i):this.updatePosition(this.from-i,this.to-i),u(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:t})}update(t){this.destroy(),this.init(this.chart.renderer,h(!0,this.options,t),this.chart)}updatePosition(t,e){1<e&&(t=a(1-a(e-t)),e=1),0>t&&(e=a(e-t),t=0),this.from=t,this.to=e}}return f.defaultOptions=o,r.scrollbar=h(!0,f.defaultOptions,r.scrollbar),f})),e(t,"Stock/Navigator/Navigator.js",[t["Core/Axis/Axis.js"],t["Core/Defaults.js"],t["Core/Globals.js"],t["Core/Axis/NavigatorAxisComposition.js"],t["Stock/Navigator/NavigatorComposition.js"],t["Stock/Scrollbar/Scrollbar.js"],t["Core/Utilities.js"]],(function(t,e,i,o,n,r,s){function a(t,...e){if((e=[].filter.call(e,C)).length)return Math[t].apply(0,e)}const{defaultOptions:l}=e,{hasTouch:c,isTouchDevice:u}=i,{addEvent:h,clamp:d,correctFloat:p,defined:f,destroyObjectProperties:g,erase:m,extend:y,find:v,isArray:_,isNumber:C,merge:b,pick:E,removeEvent:S,splat:w}=s;class O{static compose(t,e,i){n.compose(t,e,O,i)}constructor(t){this.rendered=this.range=this.outline=this.opposite=this.navigatorSize=this.navigatorSeries=this.navigatorOptions=this.navigatorGroup=this.navigatorEnabled=this.left=this.height=this.handles=this.chart=this.baseSeries=void 0,this.scrollbarHeight=0,this.zoomedMin=this.zoomedMax=this.yAxis=this.xAxis=this.top=this.size=this.shades=this.scrollButtonSize=void 0,this.init(t)}drawHandle(t,e,i,o){const n=this.navigatorOptions.handles.height;this.handles[e][o](i?{translateX:Math.round(this.left+this.height/2),translateY:Math.round(this.top+parseInt(t,10)+.5-n)}:{translateX:Math.round(this.left+parseInt(t,10)),translateY:Math.round(this.top+this.height/2-n/2-1)})}drawOutline(t,e,i,o){const n=this.navigatorOptions.maskInside;var r=this.outline.strokeWidth();const s=r/2;var a=r%2/2;const l=this.scrollButtonSize,c=this.size,u=this.top,h=u-s,d=u+(r=this.height);let p=this.left;i?(a=[["M",p+r,u-l-a],["L",p+r,i=u+e+a],["L",p,i],["M",p,e=u+t+a],["L",p+r,e],["L",p+r,u+c+l]],n&&a.push(["M",p+r,i-s],["L",p+r,e+s])):(p-=l,a=[["M",p,h],["L",t+=p+l-a,h],["L",t,d],["M",e+=p+l-a,d],["L",e,h],["L",p+c+2*l,u+s]],n&&a.push(["M",t-s,h],["L",e+s,h])),this.outline[o]({d:a})}drawMasks(t,e,i,o){const n=this.left,r=this.top,s=this.height;let a,l,c,u;i?(c=[n,n,n],u=[r,r+t,r+e],l=[s,s,s],a=[t,e-t,this.size-e]):(c=[n,n+t,n+e],u=[r,r,r],l=[t,e-t,this.size-e],a=[s,s,s]),this.shades.forEach(((t,e)=>{t[o]({x:c[e],y:u[e],width:l[e],height:a[e]})}))}renderElements(){const t=this,e=t.navigatorOptions,i=e.maskInside,o=t.chart,n=o.renderer,r={cursor:o.inverted?"ns-resize":"ew-resize"},s=t.navigatorGroup=n.g("navigator").attr({zIndex:8,visibility:"hidden"}).add();if([!i,i,!i].forEach(((i,a)=>{const l=n.rect().addClass("highcharts-navigator-mask"+(1===a?"-inside":"-outside")).add(s);o.styledMode||(l.attr({fill:i?e.maskFill:"rgba(0,0,0,0)"}),1===a&&l.css(r)),t.shades[a]=l})),t.outline=n.path().addClass("highcharts-navigator-outline").add(s),o.styledMode||t.outline.attr({"stroke-width":e.outlineWidth,stroke:e.outlineColor}),e.handles&&e.handles.enabled){const i=e.handles,{height:a,width:l}=i;[0,1].forEach((e=>{t.handles[e]=n.symbol(i.symbols[e],-l/2-1,0,l,a,i),o.inverted&&t.handles[e].attr({rotation:90,rotationOriginX:Math.floor(-l/2),rotationOriginY:(a+l)/2}),t.handles[e].attr({zIndex:7-e}).addClass("highcharts-navigator-handle highcharts-navigator-handle-"+["left","right"][e]).add(s),o.styledMode||t.handles[e].attr({fill:i.backgroundColor,stroke:i.borderColor,"stroke-width":i.lineWidth}).css(r)}))}}update(t){(this.series||[]).forEach((t=>{t.baseSeries&&delete t.baseSeries.navigatorSeries})),this.destroy(),b(!0,this.chart.options.navigator,t),this.init(this.chart)}render(t,e,i,o){var n=this.chart;const r=this.xAxis,s=r.pointRange||0;var a=r.navigatorAxis.fake?n.xAxis[0]:r;const l=this.navigatorEnabled;var c=this.rendered,u=n.inverted;const h=n.xAxis[0].minRange,g=n.xAxis[0].options.maxRange,m=this.scrollButtonSize;let y,v=this.scrollbarHeight;if(!this.hasDragged||f(i)){if(t=p(t-s/2),e=p(e+s/2),!C(t)||!C(e)){if(!c)return;i=0,o=E(r.width,a.width)}this.left=E(r.left,n.plotLeft+m+(u?n.plotWidth:0));var _=this.size=y=E(r.len,(u?n.plotHeight:n.plotWidth)-2*m);n=u?v:y+2*m,i=E(i,r.toPixels(t,!0)),o=E(o,r.toPixels(e,!0)),C(i)&&1/0!==Math.abs(i)||(i=0,o=n),t=r.toValue(i,!0),e=r.toValue(o,!0);var b=Math.abs(p(e-t));b<h?this.grabbedLeft?i=r.toPixels(e-h-s,!0):this.grabbedRight&&(o=r.toPixels(t+h+s,!0)):f(g)&&p(b-s)>g&&(this.grabbedLeft?i=r.toPixels(e-g-s,!0):this.grabbedRight&&(o=r.toPixels(t+g+s,!0))),this.zoomedMax=d(Math.max(i,o),0,_),this.zoomedMin=d(this.fixedWidth?this.zoomedMax-this.fixedWidth:Math.min(i,o),0,_),this.range=this.zoomedMax-this.zoomedMin,_=Math.round(this.zoomedMax),i=Math.round(this.zoomedMin),l&&(this.navigatorGroup.attr({visibility:"inherit"}),c=c&&!this.hasDragged?"animate":"attr",this.drawMasks(i,_,u,c),this.drawOutline(i,_,u,c),this.navigatorOptions.handles.enabled&&(this.drawHandle(i,0,u,c),this.drawHandle(_,1,u,c))),this.scrollbar&&(u?(u=this.top-m,a=this.left-v+(l||!a.opposite?0:(a.titleOffset||0)+a.axisTitleMargin),v=y+2*m):(u=this.top+(l?this.height:-v),a=this.left-m),this.scrollbar.position(a,u,n,v),this.scrollbar.setRange(this.zoomedMin/(y||1),this.zoomedMax/(y||1))),this.rendered=!0}}addMouseEvents(){const t=this,e=t.chart,i=e.container;let o,n,r=[];t.mouseMoveHandler=o=function(e){t.onMouseMove(e)},t.mouseUpHandler=n=function(e){t.onMouseUp(e)},r=t.getPartsEvents("mousedown"),r.push(h(e.renderTo,"mousemove",o),h(i.ownerDocument,"mouseup",n)),c&&(r.push(h(e.renderTo,"touchmove",o),h(i.ownerDocument,"touchend",n)),r.concat(t.getPartsEvents("touchstart"))),t.eventsToUnbind=r,t.series&&t.series[0]&&r.push(h(t.series[0].xAxis,"foundExtremes",(function(){e.navigator.modifyNavigatorAxisExtremes()})))}getPartsEvents(t){const e=this,i=[];return["shades","handles"].forEach((function(o){e[o].forEach((function(n,r){i.push(h(n.element,t,(function(t){e[o+"Mousedown"](t,r)})))}))})),i}shadesMousedown(t,e){t=this.chart.pointer.normalize(t);const i=this.chart,o=this.xAxis,n=this.zoomedMin,r=this.size,s=this.range;let a,l,c=this.left,u=t.chartX;i.inverted&&(u=t.chartY,c=this.top),1===e?(this.grabbedCenter=u,this.fixedWidth=s,this.dragOffset=u-n):(t=u-c-s/2,0===e?t=Math.max(0,t):2===e&&t+s>=r&&(t=r-s,this.reversedExtremes?(t-=s,l=this.getUnionExtremes().dataMin):a=this.getUnionExtremes().dataMax),t!==n&&(this.fixedWidth=s,e=o.navigatorAxis.toFixedRange(t,t+s,l,a),f(e.min)&&i.xAxis[0].setExtremes(Math.min(e.min,e.max),Math.max(e.min,e.max),!0,null,{trigger:"navigator"})))}handlesMousedown(t,e){this.chart.pointer.normalize(t);const i=(t=this.chart).xAxis[0],o=this.reversedExtremes;0===e?(this.grabbedLeft=!0,this.otherHandlePos=this.zoomedMax,this.fixedExtreme=o?i.min:i.max):(this.grabbedRight=!0,this.otherHandlePos=this.zoomedMin,this.fixedExtreme=o?i.max:i.min),t.fixedRange=null}onMouseMove(t){const e=this;var i=e.chart;const o=e.navigatorSize,n=e.range,r=e.dragOffset,s=i.inverted;let a=e.left;t.touches&&0===t.touches[0].pageX||(t=i.pointer.normalize(t),i=t.chartX,s&&(a=e.top,i=t.chartY),e.grabbedLeft?(e.hasDragged=!0,e.render(0,0,i-a,e.otherHandlePos)):e.grabbedRight?(e.hasDragged=!0,e.render(0,0,e.otherHandlePos,i-a)):e.grabbedCenter&&(e.hasDragged=!0,i<r?i=r:i>o+r-n&&(i=o+r-n),e.render(0,0,i-r,i-r+n)),e.hasDragged&&e.scrollbar&&E(e.scrollbar.options.liveRedraw,!u&&!this.chart.boosted)&&(t.DOMType=t.type,setTimeout((function(){e.onMouseUp(t)}),0)))}onMouseUp(t){var e=this.chart,i=this.xAxis,o=this.scrollbar;const n=t.DOMEvent||t,r=e.inverted,s=this.rendered&&!this.hasDragged?"animate":"attr";let a,l;(!this.hasDragged||o&&o.hasDragged)&&"scrollbar"!==t.trigger||(o=this.getUnionExtremes(),this.zoomedMin===this.otherHandlePos?a=this.fixedExtreme:this.zoomedMax===this.otherHandlePos&&(l=this.fixedExtreme),this.zoomedMax===this.size&&(l=this.reversedExtremes?o.dataMin:o.dataMax),0===this.zoomedMin&&(a=this.reversedExtremes?o.dataMax:o.dataMin),i=i.navigatorAxis.toFixedRange(this.zoomedMin,this.zoomedMax,a,l),f(i.min)&&e.xAxis[0].setExtremes(Math.min(i.min,i.max),Math.max(i.min,i.max),!0,!this.hasDragged&&null,{trigger:"navigator",triggerOp:"navigator-drag",DOMEvent:n})),"mousemove"!==t.DOMType&&"touchmove"!==t.DOMType&&(this.grabbedLeft=this.grabbedRight=this.grabbedCenter=this.fixedWidth=this.fixedExtreme=this.otherHandlePos=this.hasDragged=this.dragOffset=null),this.navigatorEnabled&&C(this.zoomedMin)&&C(this.zoomedMax)&&(e=Math.round(this.zoomedMin),t=Math.round(this.zoomedMax),this.shades&&this.drawMasks(e,t,r,s),this.outline&&this.drawOutline(e,t,r,s),this.navigatorOptions.handles.enabled&&Object.keys(this.handles).length===this.handles.length&&(this.drawHandle(e,0,r,s),this.drawHandle(t,1,r,s)))}removeEvents(){this.eventsToUnbind&&(this.eventsToUnbind.forEach((function(t){t()})),this.eventsToUnbind=void 0),this.removeBaseSeriesEvents()}removeBaseSeriesEvents(){const t=this.baseSeries||[];this.navigatorEnabled&&t[0]&&(!1!==this.navigatorOptions.adaptToUpdatedData&&t.forEach((function(t){S(t,"updatedData",this.updatedDataHandler)}),this),t[0].xAxis&&S(t[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes))}init(e){var i=e.options,n=i.navigator||{},s=n.enabled,l=i.scrollbar||{},c=l.enabled;i=s&&n.height||0;var u=c&&l.height||0;const d=l.buttonsEnabled&&u||0;this.handles=[],this.shades=[],this.chart=e,this.setBaseSeries(),this.height=i,this.scrollbarHeight=u,this.scrollButtonSize=d,this.scrollbarEnabled=c,this.navigatorEnabled=s,this.navigatorOptions=n,this.scrollbarOptions=l,this.opposite=E(n.opposite,!(s||!e.inverted));const p=this;s=p.baseSeries,l=e.xAxis.length,c=e.yAxis.length,u=s&&s[0]&&s[0].xAxis||e.xAxis[0]||{options:{}},e.isDirtyBox=!0,p.navigatorEnabled?(p.xAxis=new t(e,b({breaks:u.options.breaks,ordinal:u.options.ordinal},n.xAxis,{id:"navigator-x-axis",yAxis:"navigator-y-axis",isX:!0,type:"datetime",index:l,isInternal:!0,offset:0,keepOrdinalPadding:!0,startOnTick:!1,endOnTick:!1,minPadding:0,maxPadding:0,zoomEnabled:!1},e.inverted?{offsets:[d,0,-d,0],width:i}:{offsets:[0,-d,0,d],height:i})),p.yAxis=new t(e,b(n.yAxis,{id:"navigator-y-axis",alignTicks:!1,offset:0,index:c,isInternal:!0,reversed:E(n.yAxis&&n.yAxis.reversed,e.yAxis[0]&&e.yAxis[0].reversed,!1),zoomEnabled:!1},e.inverted?{width:i}:{height:i})),s||n.series.data?p.updateNavigatorSeries(!1):0===e.series.length&&(p.unbindRedraw=h(e,"beforeRedraw",(function(){0<e.series.length&&!p.series&&(p.setBaseSeries(),p.unbindRedraw())}))),p.reversedExtremes=e.inverted&&!p.xAxis.reversed||!e.inverted&&p.xAxis.reversed,p.renderElements(),p.addMouseEvents()):(p.xAxis={chart:e,navigatorAxis:{fake:!0},translate:function(t,i){var o=e.xAxis[0];const n=o.getExtremes(),r=o.len-2*d,s=a("min",o.options.min,n.dataMin);return o=a("max",o.options.max,n.dataMax)-s,i?t*o/r+s:r*(t-s)/o},toPixels:function(t){return this.translate(t)},toValue:function(t){return this.translate(t,!0)}},p.xAxis.navigatorAxis.axis=p.xAxis,p.xAxis.navigatorAxis.toFixedRange=o.prototype.toFixedRange.bind(p.xAxis.navigatorAxis)),e.options.scrollbar.enabled&&(n=b(e.options.scrollbar,{vertical:e.inverted}),!C(n.margin)&&p.navigatorEnabled&&(n.margin=e.inverted?-3:3),e.scrollbar=p.scrollbar=new r(e.renderer,n,e),h(p.scrollbar,"changed",(function(t){var e=p.size;const i=e*this.to;e*=this.from,p.hasDragged=p.scrollbar.hasDragged,p.render(0,0,e,i),this.shouldUpdateExtremes(t.DOMType)&&setTimeout((function(){p.onMouseUp(t)}))}))),p.addBaseSeriesEvents(),p.addChartEvents()}getUnionExtremes(t){const e=this.chart.xAxis[0],i=this.xAxis,o=i.options,n=e.options;let r;return t&&null===e.dataMin||(r={dataMin:E(o&&o.min,a("min",n.min,e.dataMin,i.dataMin,i.min)),dataMax:E(o&&o.max,a("max",n.max,e.dataMax,i.dataMax,i.max))}),r}setBaseSeries(t,e){const i=this.chart,o=this.baseSeries=[];t=t||i.options&&i.options.navigator.baseSeries||(i.series.length?v(i.series,(t=>!t.options.isInternal)).index:0),(i.series||[]).forEach(((e,i)=>{e.options.isInternal||!e.options.showInNavigator&&(i!==t&&e.options.id!==t||!1===e.options.showInNavigator)||o.push(e)})),this.xAxis&&!this.xAxis.navigatorAxis.fake&&this.updateNavigatorSeries(!0,e)}updateNavigatorSeries(t,e){const i=this,o=i.chart,n=i.baseSeries,r={enableMouseTracking:!1,index:null,linkedTo:null,group:"nav",padXAxis:!1,xAxis:"navigator-x-axis",yAxis:"navigator-y-axis",showInLegend:!1,stacking:void 0,isInternal:!0,states:{inactive:{opacity:1}}},s=i.series=(i.series||[]).filter((t=>{const e=t.baseSeries;return!(0>n.indexOf(e)&&(e&&(S(e,"updatedData",i.updatedDataHandler),delete e.navigatorSeries),t.chart&&t.destroy(),1))}));let a,c,u,h=i.navigatorOptions.series;n&&n.length&&n.forEach((t=>{const d=t.navigatorSeries;var p=y({color:t.color,visible:t.visible},_(h)?l.navigator.series:h);d&&!1===i.navigatorOptions.adaptToUpdatedData||(r.name="Navigator "+n.length,a=t.options||{},u=a.navigatorOptions||{},p.dataLabels=w(p.dataLabels),c=b(a,r,p,u),c.pointRange=E(p.pointRange,u.pointRange,l.plotOptions[c.type||"line"].pointRange),p=u.data||p.data,i.hasNavigatorData=i.hasNavigatorData||!!p,c.data=p||a.data&&a.data.slice(0),d&&d.options?d.update(c,e):(t.navigatorSeries=o.initSeries(c),t.navigatorSeries.baseSeries=t,s.push(t.navigatorSeries)))})),(!h.data||n&&n.length)&&!_(h)||(i.hasNavigatorData=!1,h=w(h),h.forEach(((t,e)=>{r.name="Navigator "+(s.length+1),c=b(l.navigator.series,{color:o.series[e]&&!o.series[e].options.isInternal&&o.series[e].color||o.options.colors[e]||o.options.colors[0]},r,t),c.data=t.data,c.data&&(i.hasNavigatorData=!0,s.push(o.initSeries(c)))}))),t&&this.addBaseSeriesEvents()}addBaseSeriesEvents(){const t=this,e=t.baseSeries||[];e[0]&&e[0].xAxis&&e[0].eventsToUnbind.push(h(e[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes)),e.forEach((e=>{e.eventsToUnbind.push(h(e,"show",(function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!0,!1)}))),e.eventsToUnbind.push(h(e,"hide",(function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!1,!1)}))),!1!==this.navigatorOptions.adaptToUpdatedData&&e.xAxis&&e.eventsToUnbind.push(h(e,"updatedData",this.updatedDataHandler)),e.eventsToUnbind.push(h(e,"remove",(function(){this.navigatorSeries&&(m(t.series,this.navigatorSeries),f(this.navigatorSeries.options)&&this.navigatorSeries.remove(!1),delete this.navigatorSeries)})))}))}getBaseSeriesMin(t){return this.baseSeries.reduce((function(t,e){return Math.min(t,e.xData&&e.xData.length?e.xData[0]:t)}),t)}modifyNavigatorAxisExtremes(){const t=this.xAxis;if(void 0!==t.getExtremes){const e=this.getUnionExtremes(!0);!e||e.dataMin===t.min&&e.dataMax===t.max||(t.min=e.dataMin,t.max=e.dataMax)}}modifyBaseAxisExtremes(){const t=this.chart.navigator;var e=this.getExtremes();const i=e.dataMin,o=e.dataMax;e=e.max-e.min;const n=t.stickToMin,r=t.stickToMax,s=E(this.options.overscroll,0),a=t.series&&t.series[0],l=!!this.setExtremes;let c,u;this.eventArgs&&"rangeSelectorButton"===this.eventArgs.trigger||(n&&(u=i,c=u+e),r&&(c=o+s,n||(u=Math.max(i,c-e,t.getBaseSeriesMin(a&&a.xData?a.xData[0]:-Number.MAX_VALUE)))),l&&(n||r)&&C(u)&&(this.min=this.userMin=u,this.max=this.userMax=c)),t.stickToMin=t.stickToMax=null}updatedDataHandler(){const t=this.chart.navigator,e=this.navigatorSeries;t.stickToMax=E(this.chart.options.navigator&&this.chart.options.navigator.stickToMax,t.reversedExtremes?0===Math.round(t.zoomedMin):Math.round(t.zoomedMax)>=Math.round(t.size)),t.stickToMin=t.shouldStickToMin(this,t),e&&!t.hasNavigatorData&&(e.options.pointStart=this.xData[0],e.setData(this.options.data,!1,null,!1))}shouldStickToMin(t,e){e=e.getBaseSeriesMin(t.xData[0]);var i=t.xAxis;t=i.max;const o=i.min;return i=i.options.range,!(!C(t)||!C(o))&&(i&&0<t-e?t-e<i:o<=e)}addChartEvents(){this.eventsToUnbind||(this.eventsToUnbind=[]),this.eventsToUnbind.push(h(this.chart,"redraw",(function(){const t=this.navigator,e=t&&(t.baseSeries&&t.baseSeries[0]&&t.baseSeries[0].xAxis||this.xAxis[0]);e&&t.render(e.min,e.max)})),h(this.chart,"getMargins",(function(){let t=this.navigator,e=t.opposite?"plotTop":"marginBottom";this.inverted&&(e=t.opposite?"marginRight":"plotLeft"),this[e]=(this[e]||0)+(t.navigatorEnabled||!this.inverted?t.height+t.scrollbarHeight:0)+t.navigatorOptions.margin})))}destroy(){this.removeEvents(),this.xAxis&&(m(this.chart.xAxis,this.xAxis),m(this.chart.axes,this.xAxis)),this.yAxis&&(m(this.chart.yAxis,this.yAxis),m(this.chart.axes,this.yAxis)),(this.series||[]).forEach((t=>{t.destroy&&t.destroy()})),"series xAxis yAxis shades outline scrollbarTrack scrollbarRifles scrollbarGroup scrollbar navigatorGroup rendered".split(" ").forEach((t=>{this[t]&&this[t].destroy&&this[t].destroy(),this[t]=null})),[this.handles].forEach((t=>{g(t)}))}}return O})),e(t,"Stock/RangeSelector/RangeSelectorDefaults.js",[],(function(){return{lang:{rangeSelectorZoom:"Zoom",rangeSelectorFrom:"",rangeSelectorTo:"→"},rangeSelector:{allButtonsEnabled:!1,buttons:void 0,buttonSpacing:5,dropdown:"responsive",enabled:void 0,verticalAlign:"top",buttonTheme:{width:28,height:18,padding:2,zIndex:7},floating:!1,x:0,y:0,height:void 0,inputBoxBorderColor:"none",inputBoxHeight:17,inputBoxWidth:void 0,inputDateFormat:"%e %b %Y",inputDateParser:void 0,inputEditDateFormat:"%Y-%m-%d",inputEnabled:!0,inputPosition:{align:"right",x:0,y:0},inputSpacing:5,selected:void 0,buttonPosition:{align:"left",x:0,y:0},inputStyle:{color:"#334eff",cursor:"pointer",fontSize:"0.8em"},labelStyle:{color:"#666666",fontSize:"0.8em"}}}})),e(t,"Stock/RangeSelector/RangeSelectorComposition.js",[t["Core/Defaults.js"],t["Stock/RangeSelector/RangeSelectorDefaults.js"],t["Core/Utilities.js"]],(function(t,e,i){function o(){const t=this.range,e=t.type,i=this.max,o=this.chart.time,n=function(t,i){const n="year"===e?"FullYear":"Month",r=new o.Date(t),s=o.get(n,r);return o.set(n,r,s+i),s===o.get(n,r)&&o.set("Date",r,0),r.getTime()-t};let r,s;y(t)?(r=i-t,s=t):t&&(r=i+n(i,-(t.count||1)),this.chart&&(this.chart.fixedRange=i-r));const a=_(this.dataMin,Number.MIN_VALUE);return y(r)||(r=a),r<=a&&(r=a,void 0===s&&(s=n(r,t.count)),this.newMax=Math.min(r+s,_(this.dataMax,Number.MAX_VALUE))),y(i)?!y(t)&&t&&t._offsetMin&&(r+=t._offsetMin):r=void 0,r}function n(){this.options.rangeSelector&&this.options.rangeSelector.enabled&&(this.rangeSelector=new E(this))}function r(){var t=this.axes;const e=this.rangeSelector;e&&(y(e.deferredYTDClick)&&(e.clickButton(e.deferredYTDClick),delete e.deferredYTDClick),t.forEach((t=>{t.updateNames(),t.setScale()})),this.getAxisMargins(),e.render(),t=e.options.verticalAlign,e.options.floating||("bottom"===t?this.extraBottomMargin=!0:"middle"!==t&&(this.extraTopMargin=!0)))}function s(t){let e,i,o,n;const r=t.rangeSelector,s=()=>{r&&(e=t.xAxis[0].getExtremes(),i=t.legend,n=r&&r.options.verticalAlign,y(e.min)&&r.render(e.min,e.max),i.display&&"top"===n&&n===i.options.verticalAlign&&(o=v(t.spacingBox),o.y="vertical"===i.options.layout?t.plotTop:o.y+r.getHeight(),i.group.placed=!1,i.align(o)))};r&&(m(C,(e=>e[0]===t))||C.push([t,[p(t.xAxis[0],"afterSetExtremes",(function(t){r&&r.render(t.min,t.max)})),p(t,"redraw",s)]]),s())}function a(){for(let t=0,e=C.length;t<e;++t){const e=C[t];if(e[0]===this){e[1].forEach((t=>t())),C.splice(t,1);break}}}function l(){var t=this.rangeSelector;t&&(t=t.getHeight(),this.extraTopMargin&&(this.plotTop+=t),this.extraBottomMargin&&(this.marginBottom+=t))}function c(){var t=this.rangeSelector;t&&!t.options.floating&&(t.render(),"bottom"===(t=t.options.verticalAlign)?this.extraBottomMargin=!0:"middle"!==t&&(this.extraTopMargin=!0))}function u(t){var e=t.options.rangeSelector;t=this.extraBottomMargin;const i=this.extraTopMargin;let o=this.rangeSelector;e&&e.enabled&&!f(o)&&this.options.rangeSelector&&(this.options.rangeSelector.enabled=!0,this.rangeSelector=o=new E(this)),this.extraTopMargin=this.extraBottomMargin=!1,o&&(s(this),e=e&&e.verticalAlign||o.options&&o.options.verticalAlign,o.options.floating||("bottom"===e?this.extraBottomMargin=!0:"middle"!==e&&(this.extraTopMargin=!0)),this.extraBottomMargin!==t||this.extraTopMargin!==i)&&(this.isDirtyBox=!0)}const{defaultOptions:h,setOptions:d}=t,{addEvent:p,defined:f,extend:g,find:m,isNumber:y,merge:v,pick:_}=i,C=[],b=[];let E;return{compose:function(t,f,m){E=m,i.pushUnique(b,t)&&(t.prototype.minFromRange=o),i.pushUnique(b,f)&&(p(f,"afterGetContainer",n),p(f,"beforeRender",r),p(f,"destroy",a),p(f,"getMargins",l),p(f,"render",c),p(f,"update",u),f.prototype.callbacks.push(s)),i.pushUnique(b,d)&&(g(h,{rangeSelector:e.rangeSelector}),g(h.lang,e.lang))}}})),e(t,"Stock/RangeSelector/RangeSelector.js",[t["Core/Axis/Axis.js"],t["Core/Defaults.js"],t["Core/Globals.js"],t["Stock/RangeSelector/RangeSelectorComposition.js"],t["Core/Renderer/SVG/SVGElement.js"],t["Core/Utilities.js"]],(function(t,e,i,o,n,r){const{defaultOptions:s}=e,{addEvent:a,createElement:l,css:c,defined:u,destroyObjectProperties:h,discardElement:d,extend:p,fireEvent:f,isNumber:g,merge:m,objectEach:y,pad:v,pick:_,pInt:C,splat:b}=r;class E{static compose(t,e){o.compose(t,e,E)}constructor(t){this.buttons=void 0,this.buttonOptions=E.prototype.defaultButtons,this.initialButtonGroupWidth=0,this.options=void 0,this.chart=t,this.init(t)}clickButton(e,i){const o=this.chart,n=this.buttonOptions[e],r=o.xAxis[0];var s=o.scroller&&o.scroller.getUnionExtremes()||r||{},l=n.type;const c=n.dataGrouping;let h,d,p=s.dataMin,m=s.dataMax,y=r&&Math.round(Math.min(r.max,_(m,r.max)));s=n._range;let v,C,E,S=!0;if(null!==p&&null!==m){if(o.fixedRange=s,this.setSelected(e),c&&(this.forcedDataGrouping=!0,t.prototype.setDataGrouping.call(r||{chart:this.chart},c,!1),this.frozenStates=n.preserveDataGrouping),"month"===l||"year"===l)r?(l={range:n,max:y,chart:o,dataMin:p,dataMax:m},h=r.minFromRange.call(l),g(l.newMax)&&(y=l.newMax),S=!1):s=n;else if(s)h=Math.max(y-s,p),y=Math.min(h+s,m),S=!1;else if("ytd"===l){if(!r)return void(this.deferredYTDClick=e);void 0!==m&&void 0!==p||(p=Number.MAX_VALUE,m=Number.MIN_VALUE,o.series.forEach((t=>{(t=t.xData)&&(p=Math.min(t[0],p),m=Math.max(t[t.length-1],m))})),i=!1),h=v=(l=this.getYTDExtremes(m,p,o.time.useUTC)).min,y=l.max}else"all"===l&&r&&(o.navigator&&o.navigator.baseSeries[0]&&(o.navigator.baseSeries[0].xAxis.options.range=void 0),h=p,y=m);S&&n._offsetMin&&u(h)&&(h+=n._offsetMin),n._offsetMax&&u(y)&&(y+=n._offsetMax),this.dropdown&&(this.dropdown.selectedIndex=e+1),r?r.setExtremes(h,y,_(i,!0),void 0,{trigger:"rangeSelectorButton",rangeSelectorButton:n}):(d=b(o.options.xAxis)[0],E=d.range,d.range=s,C=d.min,d.min=v,a(o,"load",(function(){d.range=E,d.min=C}))),f(this,"afterBtnClick")}}setSelected(t){this.selected=this.options.selected=t}init(t){const e=this,i=t.options.rangeSelector,o=i.buttons||e.defaultButtons.slice(),n=i.selected,r=function(){const t=e.minInput,i=e.maxInput;t&&t.blur&&f(t,"blur"),i&&i.blur&&f(i,"blur")};e.chart=t,e.options=i,e.buttons=[],e.buttonOptions=o,this.eventsToUnbind=[],this.eventsToUnbind.push(a(t.container,"mousedown",r)),this.eventsToUnbind.push(a(t,"resize",r)),o.forEach(e.computeButtonRange),void 0!==n&&o[n]&&this.clickButton(n,!1),this.eventsToUnbind.push(a(t,"load",(function(){t.xAxis&&t.xAxis[0]&&a(t.xAxis[0],"setExtremes",(function(i){this.max-this.min!==t.fixedRange&&"rangeSelectorButton"!==i.trigger&&"updatedData"!==i.trigger&&e.forcedDataGrouping&&!e.frozenStates&&this.setDataGrouping(!1,!1)}))})))}updateButtonStates(){const t=this;var e=this.chart;const i=this.dropdown,o=e.xAxis[0],n=Math.round(o.max-o.min),r=!o.hasVisibleSeries,s=e.scroller&&e.scroller.getUnionExtremes()||o,a=s.dataMin,l=s.dataMax,c=(e=t.getYTDExtremes(l,a,e.time.useUTC)).min,u=e.max,h=t.selected,d=t.options.allButtonsEnabled,p=t.buttons;let f=g(h);t.buttonOptions.forEach(((e,s)=>{var g=e._range,m=e.type,y=e.count||1;const v=p[s],_=e._offsetMax-e._offsetMin,C=s===h,b=g>l-a,E=g<o.minRange;e=0;let S=!1,w=!1;g=g===n,("month"===m||"year"===m)&&n+36e5>=864e5*{month:28,year:365}[m]*y-_&&n-36e5<=864e5*{month:31,year:366}[m]*y+_?g=!0:"ytd"===m?(g=u-c+_===n,S=!C):"all"===m&&(g=o.max-o.min>=l-a,w=!C&&f&&g),m=!d&&(b||E||w||r),y=C&&g||g&&!f&&!S||C&&t.frozenStates,m?e=3:y&&(f=!0,e=2),v.state!==e&&(v.setState(e),i&&(i.options[s+1].disabled=m,2===e&&(i.selectedIndex=s+1)),0===e&&h===s&&t.setSelected())}))}computeButtonRange(t){const e=t.type,i=t.count||1,o={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5};o[e]?t._range=o[e]*i:"month"!==e&&"year"!==e||(t._range=864e5*{month:30,year:365}[e]*i),t._offsetMin=_(t.offsetMin,0),t._offsetMax=_(t.offsetMax,0),t._range+=t._offsetMax-t._offsetMin}getInputValue(t){t="min"===t?this.minInput:this.maxInput;const e=this.chart.options.rangeSelector,i=this.chart.time;return t?("text"===t.type&&e.inputDateParser||this.defaultInputDateParser)(t.value,i.useUTC,i):0}setInputValue(t,e){const i=this.options,o=this.chart.time,n="min"===t?this.minInput:this.maxInput;if(t="min"===t?this.minDateBox:this.maxDateBox,n){var r=n.getAttribute("data-hc-time");r=u(r)?Number(r):void 0,u(e)&&(u(r)&&n.setAttribute("data-hc-time-previous",r),n.setAttribute("data-hc-time",e),r=e),n.value=o.dateFormat(this.inputTypeFormats[n.type]||i.inputEditDateFormat,r),t&&t.attr({text:o.dateFormat(i.inputDateFormat,r)})}}setInputExtremes(t,e,i){if(t="min"===t?this.minInput:this.maxInput){const o=this.inputTypeFormats[t.type],n=this.chart.time;o&&(e=n.dateFormat(o,e),t.min!==e&&(t.min=e),i=n.dateFormat(o,i),t.max!==i&&(t.max=i))}}showInput(t){const e="min"===t?this.minDateBox:this.maxDateBox;if((t="min"===t?this.minInput:this.maxInput)&&e&&this.inputGroup){const i="text"===t.type,{translateX:o,translateY:n}=this.inputGroup,{inputBoxWidth:r}=this.options;c(t,{width:i?e.width+(r?-2:20)+"px":"auto",height:e.height-2+"px",border:"2px solid silver"}),c(t,i&&r?{left:o+e.x+"px",top:n+"px"}:{left:Math.min(Math.round(e.x+o-(t.offsetWidth-e.width)/2),this.chart.chartWidth-t.offsetWidth)+"px",top:n-(t.offsetHeight-e.height)/2+"px"})}}hideInput(t){(t="min"===t?this.minInput:this.maxInput)&&c(t,{top:"-9999em",border:0,width:"1px",height:"1px"})}defaultInputDateParser(t,e,o){var n,r=t.split("/").join("-").split(" ").join("T");return-1===r.indexOf("T")&&(r+="T00:00"),e?r+="Z":((n=i.isSafari)&&(n=!(6<(n=r).length&&(n.lastIndexOf("-")===n.length-6||n.lastIndexOf("+")===n.length-6))),n&&(r+=0>=(n=new Date(r).getTimezoneOffset()/60)?`+${v(-n)}:00`:`-${v(n)}:00`)),r=Date.parse(r),g(r)||(t=t.split("-"),r=Date.UTC(C(t[0]),C(t[1])-1,C(t[2]))),o&&e&&g(r)&&(r+=o.getTimezoneOffset(r)),r}drawInput(t){function e(){const{maxInput:e,minInput:i}=a,n=o.xAxis[0];var r=o.scroller&&o.scroller.xAxis?o.scroller.xAxis:n;const s=r.dataMin;r=r.dataMax;let l=a.getInputValue(t);l!==Number(v.getAttribute("data-hc-time-previous"))&&g(l)&&(v.setAttribute("data-hc-time-previous",l),f&&e&&g(s)?l>Number(e.getAttribute("data-hc-time"))?l=void 0:l<s&&(l=s):i&&g(r)&&(l<Number(i.getAttribute("data-hc-time"))?l=void 0:l>r&&(l=r)),void 0!==l&&n.setExtremes(f?l:n.min,f?n.max:l,void 0,void 0,{trigger:"rangeSelectorInput"}))}const{chart:o,div:n,inputGroup:r}=this,a=this,u=o.renderer.style||{};var h=o.renderer;const d=o.options.rangeSelector,f="min"===t;var y=s.lang[f?"rangeSelectorFrom":"rangeSelectorTo"]||"";y=h.label(y,0).addClass("highcharts-range-label").attr({padding:y?2:0,height:y?d.inputBoxHeight:0}).add(r),h=h.label("",0).addClass("highcharts-range-input").attr({padding:2,width:d.inputBoxWidth,height:d.inputBoxHeight,"text-align":"center"}).on("click",(function(){a.showInput(t),a[t+"Input"].focus()})),o.styledMode||h.attr({stroke:d.inputBoxBorderColor,"stroke-width":1}),h.add(r);const v=l("input",{name:t,className:"highcharts-range-selector"},void 0,n);v.setAttribute("type",function(t){if(-1!==t.indexOf("%L"))return"text";const e="aAdewbBmoyY".split("").some((e=>-1!==t.indexOf("%"+e))),i="HkIlMS".split("").some((e=>-1!==t.indexOf("%"+e)));return e&&i?"datetime-local":e?"date":i?"time":"text"}(d.inputDateFormat||"%e %b %Y")),o.styledMode||(y.css(m(u,d.labelStyle)),h.css(m({color:"#333333"},u,d.inputStyle)),c(v,p({position:"absolute",border:0,boxShadow:"0 0 15px rgba(0,0,0,0.3)",width:"1px",height:"1px",padding:0,textAlign:"center",fontSize:u.fontSize,fontFamily:u.fontFamily,top:"-9999em"},d.inputStyle))),v.onfocus=()=>{a.showInput(t)},v.onblur=()=>{v===i.doc.activeElement&&e(),a.hideInput(t),a.setInputValue(t),v.blur()};let _=!1;return v.onchange=()=>{_||(e(),a.hideInput(t),v.blur())},v.onkeypress=t=>{13===t.keyCode&&e()},v.onkeydown=t=>{_=!0,38!==t.keyCode&&40!==t.keyCode||e()},v.onkeyup=()=>{_=!1},{dateBox:h,input:v,label:y}}getPosition(){var t=this.chart;const e=t.options.rangeSelector;return{buttonTop:(t="top"===e.verticalAlign?t.plotTop-t.axisOffset[0]:0)+e.buttonPosition.y,inputTop:t+e.inputPosition.y-10}}getYTDExtremes(t,e,i){const o=this.chart.time;var n=new o.Date(t);const r=o.get("FullYear",n);return i=i?o.Date.UTC(r,0,1):+new o.Date(r,0,1),e=Math.max(e,i),n=n.getTime(),{max:Math.min(t||n,n),min:e}}render(t,e){var i=this.chart,o=i.renderer;const n=i.container;var r=i.options;const s=r.rangeSelector,a=_(r.chart.style&&r.chart.style.zIndex,0)+1;if(r=s.inputEnabled,!1!==s.enabled){if(this.rendered||(this.group=o.g("range-selector-group").attr({zIndex:7}).add(),this.div=l("div",void 0,{position:"relative",height:0,zIndex:a}),this.buttonOptions.length&&this.renderButtons(),n.parentNode&&n.parentNode.insertBefore(this.div,n),r&&(this.inputGroup=o.g("input-group").add(this.group),o=this.drawInput("min"),this.minDateBox=o.dateBox,this.minLabel=o.label,this.minInput=o.input,o=this.drawInput("max"),this.maxDateBox=o.dateBox,this.maxLabel=o.label,this.maxInput=o.input)),r&&(this.setInputValue("min",t),this.setInputValue("max",e),t=i.scroller&&i.scroller.getUnionExtremes()||i.xAxis[0]||{},u(t.dataMin)&&u(t.dataMax)&&(i=i.xAxis[0].minRange||0,this.setInputExtremes("min",t.dataMin,Math.min(t.dataMax,this.getInputValue("max"))-i),this.setInputExtremes("max",Math.max(t.dataMin,this.getInputValue("min"))+i,t.dataMax)),this.inputGroup)){let t=0;[this.minLabel,this.minDateBox,this.maxLabel,this.maxDateBox].forEach((e=>{if(e){const{width:i}=e.getBBox();i&&(e.attr({x:t}),t+=i+s.inputSpacing)}}))}this.alignElements(),this.rendered=!0}}renderButtons(){const{buttons:t,chart:e,options:o}=this,n=s.lang,r=e.renderer,c=m(o.buttonTheme),u=c&&c.states,h=c.width||28;delete c.width,delete c.states,this.buttonGroup=r.g("range-selector-buttons").add(this.group);const d=this.dropdown=l("select",void 0,{position:"absolute",width:"1px",height:"1px",padding:0,border:0,top:"-9999em",cursor:"pointer",opacity:1e-4},this.div);a(d,"touchstart",(()=>{d.style.fontSize="16px"})),[[i.isMS?"mouseover":"mouseenter"],[i.isMS?"mouseout":"mouseleave"],["change","click"]].forEach((([e,i])=>{a(d,e,(()=>{const o=t[this.currentButtonIndex()];o&&f(o.element,i||e)}))})),this.zoomText=r.label(n&&n.rangeSelectorZoom||"",0).attr({padding:o.buttonTheme.padding,height:o.buttonTheme.height,paddingLeft:0,paddingRight:0}).add(this.buttonGroup),this.chart.styledMode||(this.zoomText.css(o.labelStyle),c["stroke-width"]=_(c["stroke-width"],0)),l("option",{textContent:this.zoomText.textStr,disabled:!0},void 0,d),this.buttonOptions.forEach(((e,i)=>{l("option",{textContent:e.title||e.text},void 0,d),t[i]=r.button(e.text,0,0,(t=>{const o=e.events&&e.events.click;let n;o&&(n=o.call(e,t)),!1!==n&&this.clickButton(i),this.isActive=!0}),c,u&&u.hover,u&&u.select,u&&u.disabled).attr({"text-align":"center",width:h}).add(this.buttonGroup),e.title&&t[i].attr("title",e.title)}))}alignElements(){const{buttonGroup:t,buttons:e,chart:i,group:o,inputGroup:n,options:r,zoomText:s}=this;var a=i.options;const l=a.exporting&&!1!==a.exporting.enabled&&a.navigation&&a.navigation.buttonOptions,{buttonPosition:c,inputPosition:u,verticalAlign:h}=r;a=(t,e)=>l&&this.titleCollision(i)&&"top"===h&&"right"===e.align&&e.y-t.getBBox().height-12<(l.y||0)+(l.height||0)+i.spacing[0]?-40:0;var d=i.plotLeft;if(o&&c&&u){var p=c.x-i.spacing[3];if(t){if(this.positionButtons(),!this.initialButtonGroupWidth){let t=0;s&&(t+=s.getBBox().width+5),e.forEach(((i,o)=>{t+=i.width,o!==e.length-1&&(t+=r.buttonSpacing)})),this.initialButtonGroupWidth=t}d-=i.spacing[3],this.updateButtonStates();var f=a(t,c);this.alignButtonGroup(f),o.placed=t.placed=i.hasLoaded}f=0,n&&(f=a(n,u),"left"===u.align?p=d:"right"===u.align&&(p=-Math.max(i.axisOffset[1],-f)),n.align({y:u.y,width:n.getBBox().width,align:u.align,x:u.x+p-2},!0,i.spacingBox),n.placed=i.hasLoaded),this.handleCollision(f),o.align({verticalAlign:h},!0,i.spacingBox),a=o.alignAttr.translateY,d=o.getBBox().height+20,p=0,"bottom"===h&&(p=a-(d=d+(p=(p=i.legend&&i.legend.options)&&"bottom"===p.verticalAlign&&p.enabled&&!p.floating?i.legend.legendHeight+_(p.margin,10):0)-20)-(r.floating?0:r.y)-(i.titleOffset?i.titleOffset[2]:0)-10),"top"===h?(r.floating&&(p=0),i.titleOffset&&i.titleOffset[0]&&(p=i.titleOffset[0]),p+=i.margin[0]-i.spacing[0]||0):"middle"===h&&(u.y===c.y?p=a:(u.y||c.y)&&(p=0>u.y||0>c.y?p-Math.min(u.y,c.y):a-d)),o.translate(r.x,r.y+Math.floor(p));const{minInput:l,maxInput:g,dropdown:m}=this;r.inputEnabled&&l&&g&&(l.style.marginTop=o.translateY+"px",g.style.marginTop=o.translateY+"px"),m&&(m.style.marginTop=o.translateY+"px")}}alignButtonGroup(t,e){const{chart:i,options:o,buttonGroup:n}=this,{buttonPosition:r}=o,s=i.plotLeft-i.spacing[3];let a=r.x-i.spacing[3];"right"===r.align?a+=t-s:"center"===r.align&&(a-=s/2),n&&n.align({y:r.y,width:_(e,this.initialButtonGroupWidth),align:r.align,x:a},!0,i.spacingBox)}positionButtons(){const{buttons:t,chart:e,options:i,zoomText:o}=this,n=e.hasLoaded?"animate":"attr",{buttonPosition:r}=i,s=e.plotLeft;let a=s;o&&"hidden"!==o.visibility&&(o[n]({x:_(s+r.x,s)}),a+=r.x+o.getBBox().width+5);for(let e=0,o=this.buttonOptions.length;e<o;++e)"hidden"!==t[e].visibility?(t[e][n]({x:a}),a+=t[e].width+i.buttonSpacing):t[e][n]({x:s})}handleCollision(t){const{chart:e,buttonGroup:i,inputGroup:o}=this,{buttonPosition:n,dropdown:r,inputPosition:s}=this.options,a=()=>{let t=0;return this.buttons.forEach((e=>{(e=e.getBBox()).width>t&&(t=e.width)})),t},l=e=>{if(o&&i){const r=o.alignAttr.translateX+o.alignOptions.x-t+o.getBBox().x+2,a=o.alignOptions.width,l=i.alignAttr.translateX+i.getBBox().x;return l+e>r&&r+a>l&&n.y<s.y+o.getBBox().height}return!1},c=()=>{o&&i&&o.attr({translateX:o.alignAttr.translateX+(e.axisOffset[1]>=-t?0:-t),translateY:o.alignAttr.translateY+i.getBBox().height+10})};if(i){if("always"===r)return this.collapseButtons(t),void(l(a())&&c());"never"===r&&this.expandButtons()}o&&i?s.align===n.align||l(this.initialButtonGroupWidth+20)?"responsive"===r?(this.collapseButtons(t),l(a())&&c()):c():"responsive"===r&&this.expandButtons():i&&"responsive"===r&&(this.initialButtonGroupWidth>e.plotWidth?this.collapseButtons(t):this.expandButtons())}collapseButtons(t){const{buttons:e,buttonOptions:i,chart:o,dropdown:n,options:r,zoomText:s}=this,a=o.userOptions.rangeSelector&&o.userOptions.rangeSelector.buttonTheme||{},l=t=>({text:t?`${t} ▾`:"▾",width:"auto",paddingLeft:_(r.buttonTheme.paddingLeft,a.padding,8),paddingRight:_(r.buttonTheme.paddingRight,a.padding,8)});s&&s.hide();let c=!1;i.forEach(((t,i)=>{2!==(i=e[i]).state?i.hide():(i.show(),i.attr(l(t.text)),c=!0)})),c||(n&&(n.selectedIndex=0),e[0].show(),e[0].attr(l(this.zoomText&&this.zoomText.textStr)));const{align:u}=r.buttonPosition;this.positionButtons(),"right"!==u&&"center"!==u||this.alignButtonGroup(t,e[this.currentButtonIndex()].getBBox().width),this.showDropdown()}expandButtons(){const{buttons:t,buttonOptions:e,options:i,zoomText:o}=this;this.hideDropdown(),o&&o.show(),e.forEach(((e,o)=>{(o=t[o]).show(),o.attr({text:e.text,width:i.buttonTheme.width||28,paddingLeft:_(i.buttonTheme.paddingLeft,"unset"),paddingRight:_(i.buttonTheme.paddingRight,"unset")}),2>o.state&&o.setState(0)})),this.positionButtons()}currentButtonIndex(){const{dropdown:t}=this;return t&&0<t.selectedIndex?t.selectedIndex-1:0}showDropdown(){const{buttonGroup:t,buttons:e,chart:i,dropdown:o}=this;if(t&&o){const{translateX:n,translateY:r}=t,s=e[this.currentButtonIndex()].getBBox();c(o,{left:i.plotLeft+n+"px",top:r+.5+"px",width:s.width+"px",height:s.height+"px"}),this.hasVisibleDropdown=!0}}hideDropdown(){const{dropdown:t}=this;t&&(c(t,{top:"-9999em",width:"1px",height:"1px"}),this.hasVisibleDropdown=!1)}getHeight(){var t=this.options,e=this.group;const i=t.y,o=t.buttonPosition.y,n=t.inputPosition.y;return t.height?t.height:(this.alignElements(),t=e?e.getBBox(!0).height+13+i:0,e=Math.min(n,o),(0>n&&0>o||0<n&&0<o)&&(t+=Math.abs(e)),t)}titleCollision(t){return!(t.options.title.text||t.options.subtitle.text)}update(t){const e=this.chart;m(!0,e.options.rangeSelector,t),this.destroy(),this.init(e),this.render()}destroy(){const t=this,e=t.minInput,i=t.maxInput;t.eventsToUnbind&&(t.eventsToUnbind.forEach((t=>t())),t.eventsToUnbind=void 0),h(t.buttons),e&&(e.onfocus=e.onblur=e.onchange=null),i&&(i.onfocus=i.onblur=i.onchange=null),y(t,(function(e,i){e&&"chart"!==i&&(e instanceof n?e.destroy():e instanceof window.HTMLElement&&d(e)),e!==E.prototype[i]&&(t[i]=null)}),this)}}return p(E.prototype,{defaultButtons:[{type:"month",count:1,text:"1m",title:"View 1 month"},{type:"month",count:3,text:"3m",title:"View 3 months"},{type:"month",count:6,text:"6m",title:"View 6 months"},{type:"ytd",text:"YTD",title:"View year to date"},{type:"year",count:1,text:"1y",title:"View 1 year"},{type:"all",text:"All",title:"View all"}],inputTypeFormats:{"datetime-local":"%Y-%m-%dT%H:%M:%S",date:"%Y-%m-%d",time:"%H:%M:%S"}}),E})),e(t,"Series/XRange/XRangeSeriesDefaults.js",[t["Core/Utilities.js"]],(function(t){const{correctFloat:e,isNumber:i,isObject:o}=t;return{colorByPoint:!0,dataLabels:{formatter:function(){let t=this.point.partialFill;if(o(t)&&(t=t.amount),i(t)&&0<t)return e(100*t)+"%"},inside:!0,verticalAlign:"middle"},tooltip:{headerFormat:'<span style="font-size: 0.8em">{point.x} - {point.x2}</span><br/>',pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.yCategory}</b><br/>'},borderRadius:3,pointRange:0}})),e(t,"Series/XRange/XRangePoint.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],(function(t,e){const{series:{prototype:{pointClass:{prototype:i}}},seriesTypes:{column:{prototype:{pointClass:o}}}}=t;({extend:t}=e);class n extends o{constructor(){super(...arguments),this.series=this.options=void 0}static getColorByCategory(t,e){const i=t.options.colors||t.chart.options.colors;return{colorIndex:t=e.y%(i?i.length:t.chart.options.chart.colorCount),color:i&&i[t]}}resolveColor(){const t=this.series;if(t.options.colorByPoint&&!this.options.color){const e=n.getColorByCategory(t,this);t.chart.styledMode||(this.color=e.color),this.options.colorIndex||(this.colorIndex=e.colorIndex)}else this.color||(this.color=t.color)}init(){return i.init.apply(this,arguments),this.y||(this.y=0),this}setState(){i.setState.apply(this,arguments),this.series.drawPoint(this,this.series.getAnimationVerb())}getLabelConfig(){const t=i.getLabelConfig.call(this),e=this.series.yAxis.categories;return t.x2=this.x2,t.yCategory=this.yCategory=e&&e[this.y],t}isValid(){return"number"==typeof this.x&&"number"==typeof this.x2}}return t(n.prototype,{ttBelow:!1,tooltipDateKeys:["x","x2"]}),n})),e(t,"Series/XRange/XRangeSeries.js",[t["Core/Globals.js"],t["Core/Color/Color.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"],t["Series/XRange/XRangeSeriesDefaults.js"],t["Series/XRange/XRangePoint.js"]],(function(t,e,i,o,n,r){function s(){let t,e;if(this.isXAxis){t=v(this.dataMax,-Number.MAX_VALUE);for(const i of this.series)if(i.x2Data)for(const o of i.x2Data)o&&o>t&&(t=o,e=!0);e&&(this.dataMax=t)}}({noop:t}=t);const{parse:a}=e,{series:{prototype:l},seriesTypes:{column:c}}=i,{addEvent:u,clamp:h,defined:d,extend:p,find:f,isNumber:g,isObject:m,merge:y,pick:v}=o,_=[];class C extends c{constructor(){super(...arguments),this.points=this.options=this.data=void 0}static compose(t){o.pushUnique(_,t)&&u(t,"afterGetSeriesExtremes",s)}init(){super.init.apply(this,arguments),this.options.stacking=void 0}getColumnMetrics(){const t=()=>{for(const t of this.chart.series){const e=t.xAxis;t.xAxis=t.yAxis,t.yAxis=e}};t();const e=super.getColumnMetrics();return t(),e}cropData(t,e,i,o){return(e=l.cropData.call(this,this.x2Data,e,i,o)).xData=t.slice(e.start,e.end),e}findPointIndex(t){const{cropStart:e,points:i}=this,{id:o}=t;if(o)var n=(n=f(i,(t=>t.id===o)))?n.index:void 0;return void 0===n&&(n=(n=f(i,(e=>e.x===t.x&&e.x2===t.x2&&!e.touched)))?n.index:void 0),this.cropped&&g(n)&&g(e)&&n>=e&&(n-=e),n}alignDataLabel(t){const e=t.plotX;t.plotX=v(t.dlBox&&t.dlBox.centerX,t.plotX),super.alignDataLabel.apply(this,arguments),t.plotX=e}translatePoint(t){const e=this.xAxis;var i=this.yAxis,o=this.columnMetrics,n=this.options,{borderRadius:r}=n,s=n.minPointLength||0,a=(t.shapeArgs&&t.shapeArgs.width||0)/2,l=this.pointXOffset=o.offset,c=v(t.x2,t.x+(t.len||0));let u=t.plotX;var p=e.translate(c,0,0,0,1);c=Math.abs(p-u);const f=this.chart.inverted,_=v(n.borderWidth,1)%2/2;let C=o.offset,b=Math.round(o.width);s&&(0>(s-=c)&&(s=0),u-=s/2,p+=s/2),u=Math.max(u,-10),p=h(p,-10,e.len+10),d(t.options.pointWidth)&&(C-=(Math.ceil(t.options.pointWidth)-b)/2,b=Math.ceil(t.options.pointWidth)),n.pointPlacement&&g(t.plotY)&&i.categories&&(t.plotY=i.translate(t.y,0,1,0,1,n.pointPlacement)),n={x:n=Math.floor(Math.min(u,p))+_,y:Math.floor(t.plotY+C)+_,width:Math.floor(Math.max(u,p))+_-n,height:b},t.shapeArgs=n,g(r)&&(t.shapeArgs.r=r),f?t.tooltipPos[1]+=l+a:t.tooltipPos[0]-=a+l-n.width/2,l=(a=n.x)+n.width,0>a||l>e.len?(a=h(a,0,e.len),p=(l=h(l,0,e.len))-a,t.dlBox=y(n,{x:a,width:l-a,centerX:p?p/2:null})):t.dlBox=null,a=t.tooltipPos,l=f?1:0,p=f?0:1,o=this.columnMetrics?this.columnMetrics.offset:-o.width/2,a[l]=f?a[l]+n.width/2:h(a[l]+(e.reversed?-1:0)*n.width,0,e.len-1),a[p]=h(a[p]+(f?-1:1)*o,0,i.len-1),(i=t.partialFill)&&(m(i)&&(i=i.amount),g(i)||(i=0),g(r)&&(t.partShapeArgs=y(n,{r})),r=Math.max(Math.round(c*i+t.plotX-u),0),t.clipRectArgs={x:e.reversed?n.x+c-r:n.x,y:n.y,width:r,height:n.height})}translate(){super.translate.apply(this,arguments);for(const t of this.points)this.translatePoint(t)}drawPoint(t,e){const i=this.options,o=this.chart.renderer,n=t.shapeType,r=t.shapeArgs,s=t.partShapeArgs,l=t.clipRectArgs;var c=t.state,u=i.states[c||"normal"]||{};const h=void 0===c?"attr":e;c=this.pointAttribs(t,c),u=v(this.chart.options.chart.animation,u.animation);let d=t.graphic,p=t.partialFill;t.isNull||!1===t.visible?d&&(t.graphic=d.destroy()):(d?d.rect[e](r):(t.graphic=d=o.g("point").addClass(t.getClassName()).add(t.group||this.group),d.rect=o[n](y(r)).addClass(t.getClassName()).addClass("highcharts-partfill-original").add(d)),s&&(d.partRect?(d.partRect[e](y(s)),d.partialClipRect[e](y(l))):(d.partialClipRect=o.clipRect(l.x,l.y,l.width,l.height),d.partRect=o[n](s).addClass("highcharts-partfill-overlay").add(d).clip(d.partialClipRect))),this.chart.styledMode||(d.rect[e](c,u).shadow(i.shadow),s&&(m(p)||(p={}),m(i.partialFill)&&(p=y(i.partialFill,p)),t=p.fill||a(c.fill).brighten(-.3).get()||a(t.color||this.color).brighten(-.3).get(),c.fill=t,d.partRect[h](c,u).shadow(i.shadow))))}drawPoints(){const t=this.getAnimationVerb();for(const e of this.points)this.drawPoint(e,t)}getAnimationVerb(){return this.chart.pointCount<(this.options.animationLimit||250)?"animate":"attr"}isPointInside(t){const e=t.shapeArgs,i=t.plotX,o=t.plotY;return e?void 0!==i&&void 0!==o&&0<=o&&o<=this.yAxis.len&&0<=(e.x||0)+(e.width||0)&&i<=this.xAxis.len:super.isPointInside.apply(this,arguments)}}return C.defaultOptions=y(c.defaultOptions,n),p(C.prototype,{pointClass:r,cropShoulder:1,getExtremesFromAll:!0,parallelArrays:["x","x2","y"],requireSorting:!1,type:"xrange",animate:l.animate,autoIncrement:t,buildKDTree:t}),i.registerSeriesType("xrange",C),C})),e(t,"Series/Gantt/GanttPoint.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],(function(t,e){({seriesTypes:{xrange:{prototype:{pointClass:t}}}}=t);const{pick:i}=e;class o extends t{constructor(){super(...arguments),this.series=this.options=void 0}static setGanttPointAliases(t){function e(e,i){void 0!==i&&(t[e]=i)}e("x",i(t.start,t.x)),e("x2",i(t.end,t.x2)),e("partialFill",i(t.completed,t.partialFill))}applyOptions(t,e){return t=super.applyOptions.call(this,t,e),o.setGanttPointAliases(t),t}isValid(){return("number"==typeof this.start||"number"==typeof this.x)&&("number"==typeof this.end||"number"==typeof this.x2||this.milestone)}}return o})),e(t,"Core/Axis/BrokenAxis.js",[t["Core/Axis/Stacking/StackItem.js"],t["Core/Utilities.js"]],(function(t,e){const{addEvent:i,find:o,fireEvent:n,isArray:r,isNumber:s,pick:a}=e;var l;return function(l){function c(){void 0!==this.brokenAxis&&this.brokenAxis.setBreaks(this.options.breaks,!1)}function u(){this.brokenAxis&&this.brokenAxis.hasBreaks&&(this.options.ordinal=!1)}function h(){const t=this.brokenAxis;if(t&&t.hasBreaks){const e=this.tickPositions,i=this.tickPositions.info,o=[];for(let i=0;i<e.length;i++)t.isInAnyBreak(e[i])||o.push(e[i]);this.tickPositions=o,this.tickPositions.info=i}}function d(){this.brokenAxis||(this.brokenAxis=new v(this))}function p(){const{isDirty:t,options:{connectNulls:e},points:i,xAxis:o,yAxis:n}=this;if(t){let t=i.length;for(;t--;){const r=i[t],s=!(null===r.y&&!1===e)&&(o&&o.brokenAxis&&o.brokenAxis.isInAnyBreak(r.x,!0)||n&&n.brokenAxis&&n.brokenAxis.isInAnyBreak(r.y,!0));r.visible=!s&&!1!==r.options.visible}}}function f(){this.drawBreaks(this.xAxis,["x"]),this.drawBreaks(this.yAxis,a(this.pointArrayMap,["y"]))}function g(t,e){const i=this,o=i.points;let r,l,c,u;if(t&&t.brokenAxis&&t.brokenAxis.hasBreaks){const h=t.brokenAxis;e.forEach((function(e){r=h&&h.breakArray||[],l=t.isXAxis?t.min:a(i.options.threshold,t.min),o.forEach((function(i){u=a(i["stack"+e.toUpperCase()],i[e]),r.forEach((function(e){s(l)&&s(u)&&(c=!1,l<e.from&&u>e.to||l>e.from&&u<e.from?c="pointBreak":(l<e.from&&u>e.from&&u<e.to||l>e.from&&u>e.to&&u<e.from)&&(c="pointInBreak"),c&&n(t,c,{point:i,brk:e}))}))}))}))}}function m(){var e=this.currentDataGrouping,i=e&&e.gapSize;e=this.points.slice();const o=this.yAxis;let n=this.options.gapSize,r=e.length-1;var s;if(n&&0<r)for("value"!==this.options.gapUnit&&(n*=this.basePointRange),i&&i>n&&i>=this.basePointRange&&(n=i);r--;)s&&!1!==s.visible||(s=e[r+1]),i=e[r],!1!==s.visible&&!1!==i.visible&&(s.x-i.x>n&&(s=(i.x+s.x)/2,e.splice(r+1,0,{isNull:!0,x:s}),o.stacking&&this.options.stacking&&((s=o.stacking.stacks[this.stackKey][s]=new t(o,o.options.stackLabels,!1,s,this.stack)).total=0)),s=i);return this.getGraphPath(e)}const y=[];l.compose=function(t,o){if(e.pushUnique(y,t)&&(t.keepProps.push("brokenAxis"),i(t,"init",d),i(t,"afterInit",c),i(t,"afterSetTickPositions",h),i(t,"afterSetOptions",u)),e.pushUnique(y,o)){const t=o.prototype;t.drawBreaks=g,t.gappedPath=m,i(o,"afterGeneratePoints",p),i(o,"afterRender",f)}return t};class v{static isInBreak(t,e){const i=t.repeat||1/0,o=t.from,n=t.to-t.from;return e=e>=o?(e-o)%i:i-(o-e)%i,t.inclusive?e<=n:e<n&&0!==e}static lin2Val(t){var e=this.brokenAxis;if(!(e=e&&e.breakArray)||!s(t))return t;let i,o;for(o=0;o<e.length&&(i=e[o],!(i.from>=t));o++)(i.to<t||v.isInBreak(i,t))&&(t+=i.len);return t}static val2Lin(t){var e=this.brokenAxis;if(!(e=e&&e.breakArray)||!s(t))return t;let i,o,n=t;for(o=0;o<e.length;o++)if(i=e[o],i.to<=t)n-=i.len;else{if(i.from>=t)break;if(v.isInBreak(i,t)){n-=t-i.from;break}}return n}constructor(t){this.hasBreaks=!1,this.axis=t}findBreakAt(t,e){return o(e,(function(e){return e.from<t&&t<e.to}))}isInAnyBreak(t,e){const i=this.axis,o=i.options.breaks||[];let n,r,l,c=o.length;if(c&&s(t)){for(;c--;)v.isInBreak(o[c],t)&&(n=!0,r||(r=a(o[c].showPoints,!i.isXAxis)));l=n&&e?n&&!r:n}return l}setBreaks(t,e){const i=this,o=i.axis,l=r(t)&&!!t.length;o.isDirty=i.hasBreaks!==l,i.hasBreaks=l,o.options.breaks=o.userOptions.breaks=t,o.forceRedraw=!0,o.series.forEach((function(t){t.isDirty=!0})),l||o.val2lin!==v.val2Lin||(delete o.val2lin,delete o.lin2val),l&&(o.userOptions.ordinal=!1,o.lin2val=v.lin2Val,o.val2lin=v.val2Lin,o.setExtremes=function(t,e,n,r,s){if(i.hasBreaks){const o=this.options.breaks||[];let n;for(;n=i.findBreakAt(t,o);)t=n.to;for(;n=i.findBreakAt(e,o);)e=n.from;e<t&&(e=t)}o.constructor.prototype.setExtremes.call(this,t,e,n,r,s)},o.setAxisTranslation=function(){if(o.constructor.prototype.setAxisTranslation.call(this),i.unitLength=void 0,i.hasBreaks){const t=o.options.breaks||[],e=[],r=[],l=a(o.pointRangePadding,0);let c,u,h,d,p=0,f=o.userMin||o.min,g=o.userMax||o.max;t.forEach((function(t){u=t.repeat||1/0,s(f)&&s(g)&&(v.isInBreak(t,f)&&(f+=t.to%u-f%u),v.isInBreak(t,g)&&(g-=g%u-t.from%u))})),t.forEach((function(t){if(h=t.from,u=t.repeat||1/0,s(f)&&s(g)){for(;h-u>f;)h-=u;for(;h<f;)h+=u;for(d=h;d<g;d+=u)e.push({value:d,move:"in"}),e.push({value:d+t.to-t.from,move:"out",size:t.breakSize})}})),e.sort((function(t,e){return t.value===e.value?("in"===t.move?0:1)-("in"===e.move?0:1):t.value-e.value})),c=0,h=f,e.forEach((function(t){c+="in"===t.move?1:-1,1===c&&"in"===t.move&&(h=t.value),0===c&&s(h)&&(r.push({from:h,to:t.value,len:t.value-h-(t.size||0)}),p+=t.value-h-(t.size||0))})),i.breakArray=r,s(f)&&s(g)&&s(o.min)&&(i.unitLength=g-f-p+l,n(o,"afterBreaks"),o.staticScale?o.transA=o.staticScale:i.unitLength&&(o.transA*=(g-o.min+l)/i.unitLength),l&&(o.minPixelPadding=o.transA*(o.minPointOffset||0)),o.min=f,o.max=g)}}),a(e,!0)&&o.chart.redraw()}}l.Additions=v}(l||(l={})),l})),e(t,"Core/Axis/GridAxis.js",[t["Core/Axis/Axis.js"],t["Core/Globals.js"],t["Core/Utilities.js"]],(function(t,e,i){function o(t,e){const o={width:0,height:0};return e.forEach((function(e){let n,r;e=t[e],i.isObject(e,!0)&&(r=i.isObject(e.label,!0)?e.label:{},e=r.getBBox?r.getBBox().height:0,r.textStr&&!x(r.textPxLength)&&(r.textPxLength=r.getBBox().width),n=x(r.textPxLength)?Math.round(r.textPxLength):0,r.textStr&&(n=Math.round(r.getBBox().width)),o.height=Math.max(e,o.height),o.width=Math.max(n,o.width))})),"treegrid"===this.options.type&&this.treeGrid&&this.treeGrid.mapOfPosToGridNode&&(o.width+=this.options.labels.indentation*((this.treeGrid.mapOfPosToGridNode[-1].height||0)-1)),o}function n(){const{grid:t}=this;(t&&t.columns||[]).forEach((function(t){t.getOffset()}))}function r(t){if(!0===(this.options.grid||{}).enabled){const{axisTitle:i,height:o,horiz:n,left:r,offset:s,opposite:a,options:l,top:c,width:u}=this;var e=this.tickSize();const h=i&&i.getBBox().width,d=l.title.x,p=l.title.y,f=T(l.title.margin,n?5:10),g=i?this.chart.renderer.fontMetrics(i).f:0;e=(n?c+o:r)+(n?1:-1)*(a?-1:1)*(e?e[0]/2:0)+(this.side===A.bottom?g:0),t.titlePosition.x=n?r-(h||0)/2-f+d:e+(a?u:0)+s+d,t.titlePosition.y=n?e-(a?o:0)+(a?g:-g)/2+s+p:c-f+p}}function s(){const{chart:e,options:{grid:i={}},userOptions:o}=this;if(i.enabled){var n=this.options;n.labels.align=T(n.labels.align,"center"),this.categories||(n.showLastLabel=!1),this.labelRotation=0,n.labels.rotation=0}if(i.columns){n=this.grid.columns=[];let s=this.grid.columnIndex=0;for(;++s<i.columns.length;){var r=P(o,i.columns[i.columns.length-s-1],{linkedTo:0,type:"category",scrollbar:{enabled:!1}});delete r.grid.columns,(r=new t(this.chart,r)).grid.isColumn=!0,r.grid.columnIndex=s,S(e.axes,r),S(e[this.coll],r),n.push(r)}}}function a(){var t=this.grid,e=this.options;if(!0===(e.grid||{}).enabled){var i=this.min||0;const a=this.max||0;if(this.maxLabelDimensions=this.getMaxLabelDimensions(this.ticks,this.tickPositions),this.rightWall&&this.rightWall.destroy(),this.grid&&this.grid.isOuterAxis()&&this.axisLine){var o=e.lineWidth;if(o){var n=(o=this.getLinePath(o))[0],r=o[1],s=((this.tickSize("tick")||[1])[0]-1)*(this.side===A.top||this.side===A.left?-1:1);"M"===n[0]&&"L"===r[0]&&(this.horiz?(n[2]+=s,r[2]+=s):(n[1]+=s,r[1]+=s)),!this.horiz&&this.chart.marginRight&&(n=[n,["L",this.left,n[2]||0]],s=["L",this.chart.chartWidth-this.chart.marginRight,this.toPixels(a+this.tickmarkOffset)],r=[["M",r[1]||0,this.toPixels(a+this.tickmarkOffset)],s],this.grid.upperBorder||0==i%1||(this.grid.upperBorder=this.grid.renderBorder(n)),this.grid.upperBorder&&(this.grid.upperBorder.attr({stroke:e.lineColor,"stroke-width":e.lineWidth}),this.grid.upperBorder.animate({d:n})),this.grid.lowerBorder||0==a%1||(this.grid.lowerBorder=this.grid.renderBorder(r)),this.grid.lowerBorder&&(this.grid.lowerBorder.attr({stroke:e.lineColor,"stroke-width":e.lineWidth}),this.grid.lowerBorder.animate({d:r}))),this.grid.axisLineExtra?(this.grid.axisLineExtra.attr({stroke:e.lineColor,"stroke-width":e.lineWidth}),this.grid.axisLineExtra.animate({d:o})):this.grid.axisLineExtra=this.grid.renderBorder(o),this.axisLine[this.showAxis?"show":"hide"]()}}if((t&&t.columns||[]).forEach((t=>t.render())),!this.horiz&&this.chart.hasRendered&&(this.scrollbar||this.linkedParent&&this.linkedParent.scrollbar)){let n,r;for(t=this.tickmarkOffset,e=this.tickPositions[this.tickPositions.length-1],o=this.tickPositions[0];(n=this.hiddenLabels.pop())&&n.element;)n.show();for(;(r=this.hiddenMarks.pop())&&r.element;)r.show();(n=this.ticks[o].label)&&(i-o>t?this.hiddenLabels.push(n.hide()):n.show()),(n=this.ticks[e].label)&&(e-a>t?this.hiddenLabels.push(n.hide()):n.show()),(i=this.ticks[e].mark)&&e-a<t&&0<e-a&&this.ticks[e].isLast&&this.hiddenMarks.push(i.hide())}}}function l(){const t=this.tickPositions&&this.tickPositions.info,e=this.options,i=this.userOptions.labels||{};(e.grid||{}).enabled&&(this.horiz?(this.series.forEach((t=>{t.options.pointRange=0})),t&&e.dateTimeLabelFormats&&e.labels&&!E(i.align)&&(!1===e.dateTimeLabelFormats[t.unitName].range||1<t.count)&&(e.labels.align="left",E(i.x)||(e.labels.x=3))):"treegrid"!==this.options.type&&this.grid&&this.grid.columns&&(this.minPointOffset=this.tickInterval))}function c(t){const e=this.options;t=t.userOptions;const o=e&&i.isObject(e.grid,!0)?e.grid:{};let n;!0===o.enabled&&(n=P(!0,{className:"highcharts-grid-axis "+(t.className||""),dateTimeLabelFormats:{hour:{list:["%H:%M","%H"]},day:{list:["%A, %e. %B","%a, %e. %b","%E"]},week:{list:["Week %W","W%W"]},month:{list:["%B","%b","%o"]}},grid:{borderWidth:1},labels:{padding:2,style:{fontSize:"0.9em"}},margin:0,title:{text:null,reserveSpace:!1,rotation:0},units:[["millisecond",[1,10,100]],["second",[1,10]],["minute",[1,5,15]],["hour",[1,6]],["day",[1]],["week",[1]],["month",[1]],["year",null]]},t),"xAxis"===this.coll&&(E(t.linkedTo)&&!E(t.tickPixelInterval)&&(n.tickPixelInterval=350),E(t.tickPixelInterval)||!E(t.linkedTo)||E(t.tickPositioner)||E(t.tickInterval)||(n.tickPositioner=function(t,e){var i=this.linkedParent&&this.linkedParent.tickPositions&&this.linkedParent.tickPositions.info;if(i){var o=n.units||[];let s;var r=1;let a="year";for(let t=0;t<o.length;t++){const e=o[t];if(e&&e[0]===i.unitName){s=t;break}}return(o=x(s)&&o[s+1])?(a=o[0]||"year",r=(r=o[1])&&r[0]||1):"year"===i.unitName&&(r=10*i.count),i=M[a],this.tickInterval=i*r,this.chart.time.getTimeTicks({unitRange:i,count:r,unitName:a},t,e,this.options.startOfWeek)}})),P(!0,this.options,n),this.horiz&&(e.minPadding=T(t.minPadding,0),e.maxPadding=T(t.maxPadding,0)),x(e.grid.borderWidth)&&(e.tickWidth=e.lineWidth=o.borderWidth))}function u(t){const e=(t=(t=t.userOptions)&&t.grid||{}).columns;t.enabled&&e&&P(!0,this.options,e[e.length-1])}function h(){(this.grid.columns||[]).forEach((t=>t.setScale()))}function d(t){const{horiz:e,maxLabelDimensions:i,options:{grid:o={}}}=this;if(o.enabled&&i){var n=2*this.options.labels.distance;n=e?o.cellHeight||n+i.height:n+i.width,O(t.tickSize)?t.tickSize[0]=n:t.tickSize=[n,0]}}function p(){this.axes.forEach((t=>{(t.grid&&t.grid.columns||[]).forEach((t=>{t.setAxisSize(),t.setAxisTranslation()}))}))}function f(t){const{grid:e}=this;(e.columns||[]).forEach((e=>e.destroy(t.keepEvents))),e.columns=void 0}function g(t){const e=(t=t.userOptions||{}).grid||{};e.enabled&&E(e.borderColor)&&(t.tickColor=t.lineColor=e.borderColor),this.grid||(this.grid=new L(this)),this.hiddenLabels=[],this.hiddenMarks=[]}function m(t){var e=this.label;const i=this.axis;var o=i.reversed,n=i.chart,r=i.options.grid||{};const s=i.options.labels,a=s.align;var l=A[i.side],c=t.tickmarkOffset,u=i.tickPositions;const h=this.pos-c;u=x(u[t.index+1])?u[t.index+1]-c:(i.max||0)+c;var d=i.tickSize("tick");if(c=d?d[0]:0,d=d?d[1]/2:0,!0===r.enabled){let p;"top"===l?p=(r=i.top+i.offset)-c:"bottom"===l?(p=n.chartHeight-i.bottom+i.offset,r=p+c):(r=i.top+i.len-(i.translate(o?u:h)||0),p=i.top+i.len-(i.translate(o?h:u)||0)),"right"===l?o=(l=n.chartWidth-i.right+i.offset)+c:"left"===l?l=(o=i.left+i.offset)-c:(l=Math.round(i.left+(i.translate(o?u:h)||0))-d,o=Math.min(Math.round(i.left+(i.translate(o?h:u)||0))-d,i.left+i.len)),this.slotWidth=o-l,t.pos.x="left"===a?l:"right"===a?o:l+(o-l)/2,t.pos.y=p+(r-p)/2,e&&(n=n.renderer.fontMetrics(e),e=e.getBBox().height,t.pos.y=s.useHTML?t.pos.y+(n.b+-e/2):t.pos.y+((n.b-(n.h-n.f))/2+-(Math.round(e/n.h)-1)*n.h/2)),t.pos.x+=i.horiz&&s.x||0}}function y(t){const{axis:i,value:o}=t;if(i.options.grid&&i.options.grid.enabled){var n=i.tickPositions;const r=(i.linkedParent||i).series[0],s=o===n[0];n=o===n[n.length-1];const a=r&&w(r.options.data,(function(t){return t[i.isXAxis?"x":"y"]===o}));let l;a&&r.is("gantt")&&(l=P(a),e.seriesTypes.gantt.prototype.pointClass.setGanttPointAliases(l)),t.isFirst=s,t.isLast=n,t.point=l}}function v(){const t=this.options,e=this.categories,i=this.tickPositions,o=i[0],n=i[i.length-1],r=this.linkedParent&&this.linkedParent.min||this.min,s=this.linkedParent&&this.linkedParent.max||this.max,a=this.tickInterval;!0!==(t.grid||{}).enabled||e||!this.horiz&&!this.isLinked||(o<r&&o+a>r&&!t.startOnTick&&(i[0]=r),n>s&&n-a<s&&!t.endOnTick&&(i[i.length-1]=s))}function _(t){const{options:{grid:e={}}}=this;return!0===e.enabled&&this.categories?this.tickInterval:t.apply(this,Array.prototype.slice.call(arguments,1))}const{dateFormats:C}=e,{addEvent:b,defined:E,erase:S,find:w,isArray:O,isNumber:x,merge:P,pick:T,timeUnits:M,wrap:D}=i;var A;!function(t){t[t.top=0]="top",t[t.right=1]="right",t[t.bottom=2]="bottom",t[t.left=3]="left"}(A||(A={}));const R=[];class L{constructor(t){this.axis=t}isOuterAxis(){const t=this.axis,e=t.grid.columnIndex,i=t.linkedParent&&t.linkedParent.grid.columns||t.grid.columns,o=e?t.linkedParent:t;let n=-1,r=0;return(t.chart[t.coll]||[]).forEach(((e,i)=>{e.side!==t.side||e.options.isInternal||(r=i,e===o&&(n=i))})),r===n&&(!x(e)||i.length===e)}renderBorder(t){const e=this.axis,i=e.chart.renderer,o=e.options;return t=i.path(t).addClass("highcharts-axis-line").add(e.axisBorder),i.styledMode||t.attr({stroke:o.lineColor,"stroke-width":o.lineWidth,zIndex:7}),t}}return C.E=function(t){return this.dateFormat("%a",t,!0).charAt(0)},C.W=function(t){const e=this,i=new this.Date(t);["Hours","Milliseconds","Minutes","Seconds"].forEach((function(t){e.set(t,i,0)}));var o=(this.get("Day",i)+6)%7;return t=new this.Date(i.valueOf()),this.set("Date",t,this.get("Date",i)-o+3),o=new this.Date(this.get("FullYear",t),0,1),4!==this.get("Day",o)&&(this.set("Month",i,0),this.set("Date",i,1+(11-this.get("Day",o))%7)),(1+Math.floor((t.valueOf()-o.valueOf())/6048e5)).toString()},{compose:function(t,e,C){return i.pushUnique(R,t)&&(t.keepProps.push("grid"),t.prototype.getMaxLabelDimensions=o,D(t.prototype,"unsquish",_),b(t,"init",g),b(t,"afterGetOffset",n),b(t,"afterGetTitlePosition",r),b(t,"afterInit",s),b(t,"afterRender",a),b(t,"afterSetAxisTranslation",l),b(t,"afterSetOptions",c),b(t,"afterSetOptions",u),b(t,"afterSetScale",h),b(t,"afterTickSize",d),b(t,"trimTicks",v),b(t,"destroy",f)),i.pushUnique(R,e)&&b(e,"afterSetChartSize",p),i.pushUnique(R,C)&&(b(C,"afterGetLabelPosition",m),b(C,"labelFormat",y)),t}}})),e(t,"Gantt/Tree.js",[t["Core/Utilities.js"]],(function(t){const{extend:e,isNumber:i,pick:o}=t,n=function(t,e){const i=t.reduce((function(t,e){const i=o(e.parent,"");return void 0===t[i]&&(t[i]=[]),t[i].push(e),t}),{});return Object.keys(i).forEach((function(t,o){const n=i[t];""!==t&&-1===e.indexOf(t)&&(n.forEach((function(t){o[""].push(t)})),delete o[t])})),i},r=function(t,n,s,a,l,c){let u=0,h=0,d=c&&c.after;var p=c&&c.before;let f,g;return n={data:a,depth:s-1,id:t,level:s,parent:n},"function"==typeof p&&p(n,c),p=(l[t]||[]).map((function(e){const o=r(e.id,t,s+1,e,l,c),n=e.start;return e=!0===e.milestone?n:e.end,f=!i(f)||n<f?n:f,g=!i(g)||e>g?e:g,u=u+1+o.descendants,h=Math.max(o.height+1,h),o})),a&&(a.start=o(a.start,f),a.end=o(a.end,g)),e(n,{children:p,descendants:u,height:h}),"function"==typeof d&&d(n,c),n};return{getListOfParents:n,getNode:r,getTree:function(t,e){const i=t.map((function(t){return t.id}));return t=n(t,i),r("",null,1,null,t,e)}}})),e(t,"Core/Axis/TreeGrid/TreeGridTick.js",[t["Core/Utilities.js"]],(function(t){function e(){this.treeGrid||(this.treeGrid=new h(this))}function i(t,e){const i=!(t=t.treeGrid).labelIcon,o=e.renderer;var n=e.xy;const r=e.options,s=r.width||0,c=r.height||0;var u=n.x-s/2-(r.padding||0);n=n.y-c/2;const h=e.collapsed?90:180,d=e.show&&a(n);let p=t.labelIcon;p||(t.labelIcon=p=o.path(o.symbols[r.type](r.x||0,r.y||0,s,c)).addClass("highcharts-label-icon").add(e.group)),p[d?"show":"hide"](),o.styledMode||p.attr({cursor:"pointer",fill:l(e.color,"#666666"),"stroke-width":1,stroke:r.lineColor,strokeWidth:r.lineWidth||0}),p[i?"attr":"animate"]({translateX:u,translateY:n,rotation:h})}function o(t,e,i,o,n,r,c,u,h){var d=l(this.options&&this.options.labels,r);r=this.pos;var p=this.axis;const f="treegrid"===p.options.type;return t=t.apply(this,[e,i,o,n,d,c,u,h]),f&&(e=d&&s(d.symbol,!0)?d.symbol:{},d=d&&a(d.indentation)?d.indentation:0,r=(r=(p=p.treeGrid.mapOfPosToGridNode)&&p[r])&&r.depth||1,t.x+=(e.width||0)+2*(e.padding||0)+(r-1)*d),t}function n(t){const e=this;var o=e.pos,n=e.axis;const a=e.label;var c=n.treeGrid.mapOfPosToGridNode,u=n.options;const h=l(e.options&&e.options.labels,u&&u.labels);var d=h&&s(h.symbol,!0)?h.symbol:{};const p=(c=c&&c[o])&&c.depth;u="treegrid"===u.type;const f=-1<n.tickPositions.indexOf(o);o=n.chart.styledMode,u&&c&&a&&a.element&&a.addClass("highcharts-treegrid-node-level-"+p),t.apply(e,Array.prototype.slice.call(arguments,1)),u&&a&&a.element&&c&&c.descendants&&0<c.descendants&&(n=n.treeGrid.isCollapsed(c),i(e,{color:!o&&a.styles&&a.styles.color||"",collapsed:n,group:a.parentGroup,options:d,renderer:a.renderer,show:f,xy:a.xy}),d="highcharts-treegrid-node-"+(n?"expanded":"collapsed"),a.addClass("highcharts-treegrid-node-"+(n?"collapsed":"expanded")).removeClass(d),o||a.css({cursor:"pointer"}),[a,e.treeGrid.labelIcon].forEach((t=>{t&&!t.attachedTreeGridEvents&&(r(t.element,"mouseover",(function(){a.addClass("highcharts-treegrid-node-active"),a.renderer.styledMode||a.css({textDecoration:"underline"})})),r(t.element,"mouseout",(function(){{const t=s(h.style)?h.style:{};a.removeClass("highcharts-treegrid-node-active"),a.renderer.styledMode||a.css({textDecoration:t.textDecoration})}})),r(t.element,"click",(function(){e.treeGrid.toggleCollapse()})),t.attachedTreeGridEvents=!0)})))}const{addEvent:r,isObject:s,isNumber:a,pick:l,wrap:c}=t,u=[];class h{static compose(i){t.pushUnique(u,i)&&(r(i,"init",e),c(i.prototype,"getLabelPosition",o),c(i.prototype,"renderLabel",n),i.prototype.collapse=function(t){this.treeGrid.collapse(t)},i.prototype.expand=function(t){this.treeGrid.expand(t)},i.prototype.toggleCollapse=function(t){this.treeGrid.toggleCollapse(t)})}constructor(t){this.tick=t}collapse(t){var e=this.tick;const i=e.axis,o=i.brokenAxis;o&&i.treeGrid.mapOfPosToGridNode&&(e=i.treeGrid.collapse(i.treeGrid.mapOfPosToGridNode[e.pos]),o.setBreaks(e,l(t,!0)))}destroy(){this.labelIcon&&this.labelIcon.destroy()}expand(t){var e=this.tick;const i=e.axis,o=i.brokenAxis;o&&i.treeGrid.mapOfPosToGridNode&&(e=i.treeGrid.expand(i.treeGrid.mapOfPosToGridNode[e.pos]),o.setBreaks(e,l(t,!0)))}toggleCollapse(t){var e=this.tick;const i=e.axis,o=i.brokenAxis;o&&i.treeGrid.mapOfPosToGridNode&&(e=i.treeGrid.toggleCollapse(i.treeGrid.mapOfPosToGridNode[e.pos]),o.setBreaks(e,l(t,!0)))}}return h})),e(t,"Series/TreeUtilities.js",[t["Core/Color/Color.js"],t["Core/Utilities.js"]],(function(t,e){const{extend:i,isArray:o,isNumber:n,isObject:r,merge:s,pick:a}=e;return{getColor:function(e,i){const o=i.index;var n=i.mapOptionsToLevel;const r=i.parentColor,s=i.parentColorIndex,l=i.series;var c=i.colors;const u=i.siblings;var h=l.points,d=l.chart.options.chart;let p;var f;let g;if(e){if(h=h[e.i],e=n[e.level]||{},n=h&&e.colorByPoint){p=h.index%(c?c.length:d.colorCount);var m=c&&c[p]}l.chart.styledMode||(c=h&&h.options.color,d=e&&e.color,(f=r)&&(f=(f=e&&e.colorVariation)&&"brightness"===f.key&&o&&u?t.parse(r).brighten(o/u*f.to).get():r),f=a(c,d,m,f,l.color)),g=a(h&&h.options.colorIndex,e&&e.colorIndex,p,s,i.colorIndex)}return{color:f,colorIndex:g}},getLevelOptions:function(t){let e,i,l,c={};if(r(t)){l=n(t.from)?t.from:1;var u=t.levels;for(i={},e=r(t.defaults)?t.defaults:{},o(u)&&(i=u.reduce(((t,i)=>{let o,c;return r(i)&&n(i.level)&&(c=s({},i),o=a(c.levelIsConstant,e.levelIsConstant),delete c.levelIsConstant,delete c.level,i=i.level+(o?0:l-1),r(t[i])?s(!0,t[i],c):t[i]=c),t}),{})),u=n(t.to)?t.to:1,t=0;t<=u;t++)c[t]=s({},e,r(i[t])?i[t]:{})}return c},setTreeValues:function t(e,o){var n=o.before;const r=o.idRoot,s=o.mapIdToNode[r],l=o.points[e.i],c=l&&l.options||{},u=[];let h=0;return e.levelDynamic=e.level-(!1!==o.levelIsConstant?0:s.level),e.name=a(l&&l.name,""),e.visible=r===e.id||!0===o.visible,"function"==typeof n&&(e=n(e,o)),e.children.forEach(((n,r)=>{const s=i({},o);i(s,{index:r,siblings:e.children.length,visible:e.visible}),n=t(n,s),u.push(n),n.visible&&(h+=n.val)})),n=a(c.value,h),e.visible=0<=n&&(0<h||e.visible),e.children=u,e.childrenTotal=h,e.isLeaf=e.visible&&!h,e.val=n,e},updateRootId:function(t){if(r(t)){var e=r(t.options)?t.options:{};e=a(t.rootNode,e.rootId,""),r(t.userOptions)&&(t.userOptions.rootId=e),t.rootNode=e}return e}}})),e(t,"Core/Axis/TreeGrid/TreeGridAxis.js",[t["Core/Axis/BrokenAxis.js"],t["Core/Axis/GridAxis.js"],t["Gantt/Tree.js"],t["Core/Axis/TreeGrid/TreeGridTick.js"],t["Series/TreeUtilities.js"],t["Core/Utilities.js"]],(function(t,e,i,o,n,r){function s(t,e){const i=t.collapseEnd||0;return t=t.collapseStart||0,i>=e&&(t-=.5),{from:t,to:i,showPoints:!1}}function a(t,e,o){const n=[],r=[],s={},a="boolean"==typeof e&&e;let l={},c=-1;return t=i.getTree(t,{after:function(t){t=l[t.pos];let e=0,i=0;t.children.forEach((function(t){i+=(t.descendants||0)+1,e=Math.max((t.height||0)+1,e)})),t.descendants=i,t.height=e,t.collapsed&&r.push(t)},before:function(t){const e=y(t.data,!0)?t.data:{},i=v(e.name)?e.name:"";var o=s[t.parent];o=y(o,!0)?l[o.pos]:null;var r=function(t){return t.name===i};let u;a&&y(o,!0)&&(u=f(o.children,r))?(r=u.pos,u.nodes.push(t)):r=c++,l[r]||(l[r]=u={depth:o?o.depth+1:0,name:i,id:e.id,nodes:[t],children:[],pos:r},-1!==r&&n.push(i),y(o,!0)&&o.children.push(u)),v(t.id)&&(s[t.id]=t),u&&!0===e.collapsed&&(u.collapsed=!0),t.pos=r}}),l=function(t,e){const i=function(t,o,n){let r=o+(-1===o?0:e-1);const s=(r-o)/2,a=o+s;return t.nodes.forEach((function(t){const e=t.data;y(e,!0)&&(e.y=o+(e.seriesIndex||0),delete e.seriesIndex),t.pos=a})),n[a]=t,t.pos=a,t.tickmarkOffset=s+.5,t.collapseStart=r+.5,t.children.forEach((function(t){i(t,r+1,n),r=(t.collapseEnd||0)-.5})),t.collapseEnd=r+.5,n};return i(t[-1],-1,{})}(l,o),{categories:n,mapOfIdToNode:s,mapOfPosToGridNode:l,collapsedNodes:r,tree:t}}function l(t){t.target.axes.filter((function(t){return"treegrid"===t.options.type})).forEach((function(e){var i=e.options||{};const o=i.labels,n=i.uniqueNames;i=i.max;let r,s=0;if(!e.treeGrid.mapOfPosToGridNode||e.series.some((function(t){return!t.hasRendered||t.isDirtyData||t.isDirty}))){if(r=e.series.reduce((function(t,e){return e.visible&&((e.options.data||[]).forEach((function(i){e.options.keys&&e.options.keys.length&&(i=e.pointClass.prototype.optionsToObject.call({series:e},i),e.pointClass.setGanttPointAliases(i)),y(i,!0)&&(i.seriesIndex=s,t.push(i))})),!0===n&&s++),t}),[]),i&&r.length<i)for(let t=r.length;t<=i;t++)r.push({name:t+"​"});i=a(r,n||!1,!0===n?s:1),e.categories=i.categories,e.treeGrid.mapOfPosToGridNode=i.mapOfPosToGridNode,e.hasNames=!0,e.treeGrid.tree=i.tree,e.series.forEach((function(t){const e=(t.options.data||[]).map((function(e){return m(e)&&t.options.keys&&t.options.keys.length&&r.forEach((function(t){0<=e.indexOf(t.x)&&0<=e.indexOf(t.x2)&&(e=t)})),y(e,!0)?_(e):e}));t.visible&&t.setData(e,!1)})),e.treeGrid.mapOptionsToLevel=d({defaults:o,from:1,levels:o&&o.levels,to:e.treeGrid.tree&&e.treeGrid.tree.height}),"beforeRender"===t.type&&(e.treeGrid.collapsedNodes=i.collapsedNodes)}}))}function c(t,e){var i=this.treeGrid.mapOptionsToLevel||{};const o=this.ticks;let n,r,s=o[e];"treegrid"===this.options.type&&this.treeGrid.mapOfPosToGridNode?(r=this.treeGrid.mapOfPosToGridNode[e],(i=i[r.depth])&&(n={labels:i}),!s&&S?o[e]=new S(this,e,void 0,void 0,{category:r.name,tickmarkOffset:r.tickmarkOffset,options:n}):(s.parameters.category=r.name,s.options=n,s.addLabel())):t.apply(this,Array.prototype.slice.call(arguments,1))}function u(t,e,i){const o=this,n="treegrid"===i.type;o.treeGrid||(o.treeGrid=new w(o)),n&&(p(e,"beforeRender",l),p(e,"beforeRedraw",l),p(e,"addSeries",(function(t){t.options.data&&(t=a(t.options.data,i.uniqueNames||!1,1),o.treeGrid.collapsedNodes=(o.treeGrid.collapsedNodes||[]).concat(t.collapsedNodes))})),p(o,"foundExtremes",(function(){o.treeGrid.collapsedNodes&&o.treeGrid.collapsedNodes.forEach((function(t){const e=o.treeGrid.collapse(t);o.brokenAxis&&(o.brokenAxis.setBreaks(e,!1),o.treeGrid.collapsedNodes&&(o.treeGrid.collapsedNodes=o.treeGrid.collapsedNodes.filter((e=>t.collapseStart!==e.collapseStart||t.collapseEnd!==e.collapseEnd))))}))})),p(o,"afterBreaks",(function(){"yAxis"===o.coll&&!o.staticScale&&o.chart.options.chart.height&&(o.isDirty=!0)})),i=_({grid:{enabled:!0},labels:{align:"left",levels:[{level:void 0},{level:1,style:{fontWeight:"bold"}}],symbol:{type:"triangle",x:-5,y:-5,height:10,width:10,padding:5}},uniqueNames:!1},i,{reversed:!0,grid:{columns:void 0}})),t.apply(o,[e,i]),n&&(o.hasNames=!0,o.options.showLastLabel=!0)}function h(t){const e=this.options;"treegrid"===e.type?(this.min=C(this.userMin,e.min,this.dataMin),this.max=C(this.userMax,e.max,this.dataMax),g(this,"foundExtremes"),this.setAxisTranslation(),this.tickmarkOffset=.5,this.tickInterval=1,this.tickPositions=this.treeGrid.mapOfPosToGridNode?this.treeGrid.getTickPositions():[]):t.apply(this,Array.prototype.slice.call(arguments,1))}const{getLevelOptions:d}=n,{addEvent:p,find:f,fireEvent:g,isArray:m,isObject:y,isString:v,merge:_,pick:C,wrap:b}=r,E=[];let S;class w{static compose(n,s,a,l){if(r.pushUnique(E,n)){-1===n.keepProps.indexOf("treeGrid")&&n.keepProps.push("treeGrid");const t=n.prototype;b(t,"generateTick",c),b(t,"init",u),b(t,"setTickInterval",h),t.utils={getNode:i.getNode}}return r.pushUnique(E,l)&&(S||(S=l)),e.compose(n,s,l),t.compose(n,a),o.compose(l),n}constructor(t){this.axis=t}setCollapsedStatus(t){const e=this.axis,i=e.chart;e.series.forEach((function(e){const o=e.options.data;if(t.id&&o){const n=i.get(t.id);e=o[e.data.indexOf(n)],n&&e&&(n.collapsed=t.collapsed,e.collapsed=t.collapsed)}}))}collapse(t){const e=this.axis,i=e.options.breaks||[],o=s(t,e.max);return i.push(o),t.collapsed=!0,e.treeGrid.setCollapsedStatus(t),i}expand(t){const e=this.axis,i=e.options.breaks||[],o=s(t,e.max);return t.collapsed=!1,e.treeGrid.setCollapsedStatus(t),i.reduce((function(t,e){return e.to===o.to&&e.from===o.from||t.push(e),t}),[])}getTickPositions(){const t=this.axis,e=Math.floor(t.min/t.tickInterval)*t.tickInterval,i=Math.ceil(t.max/t.tickInterval)*t.tickInterval;return Object.keys(t.treeGrid.mapOfPosToGridNode||{}).reduce((function(o,n){return!((n=+n)>=e&&n<=i)||t.brokenAxis&&t.brokenAxis.isInAnyBreak(n)||o.push(n),o}),[])}isCollapsed(t){const e=this.axis,i=e.options.breaks||[],o=s(t,e.max);return i.some((function(t){return t.from===o.from&&t.to===o.to}))}toggleCollapse(t){return this.isCollapsed(t)?this.expand(t):this.collapse(t)}}return w})),e(t,"Extensions/StaticScale.js",[t["Core/Axis/Axis.js"],t["Core/Chart/Chart.js"],t["Core/Utilities.js"]],(function(t,e,i){const{addEvent:o,defined:n,isNumber:r,pick:s}=i;o(t,"afterSetOptions",(function(){const t=this.chart.options.chart;!this.horiz&&r(this.options.staticScale)&&(!t.height||t.scrollablePlotArea&&t.scrollablePlotArea.minHeight)&&(this.staticScale=this.options.staticScale)})),e.prototype.adjustHeight=function(){"adjustHeight"!==this.redrawTrigger&&((this.axes||[]).forEach((function(t){let e=t.chart,i=!!e.initiatedScale&&e.options.animation;var o=t.options.staticScale;let r;t.staticScale&&n(t.min)&&(r=s(t.brokenAxis&&t.brokenAxis.unitLength,t.max+t.tickInterval-t.min)*o,r=Math.max(r,o),o=r-e.plotHeight,!e.scrollablePixelsY&&1<=Math.abs(o)&&(e.plotHeight=r,e.redrawTrigger="adjustHeight",e.setSize(void 0,e.chartHeight+o,i)),t.series.forEach((function(t){(t=t.sharedClipKey&&e.sharedClips[t.sharedClipKey])&&t.attr(e.inverted?{width:e.plotHeight}:{height:e.plotHeight})})))})),this.initiatedScale=!0),this.redrawTrigger=null},o(e,"render",e.prototype.adjustHeight)})),e(t,"Gantt/Connection.js",[t["Core/Defaults.js"],t["Core/Globals.js"],t["Core/Series/Point.js"],t["Core/Utilities.js"]],(function(t,e,i,o){function n(t){var e=t.shapeArgs;return e?{xMin:e.x||0,xMax:(e.x||0)+(e.width||0),yMin:e.y||0,yMax:(e.y||0)+(e.height||0)}:(e=t.graphic&&t.graphic.getBBox())?{xMin:t.plotX-e.width/2,xMax:t.plotX+e.width/2,yMin:t.plotY-e.height/2,yMax:t.plotY+e.height/2}:null}({defaultOptions:t}=t);const{defined:r,error:s,extend:a,merge:l,objectEach:c}=o,u=e.deg2rad,h=Math.max,d=Math.min;a(t,{connectors:{type:"straight",lineWidth:1,marker:{enabled:!1,align:"center",verticalAlign:"middle",inside:!1,lineWidth:1},startMarker:{symbol:"diamond"},endMarker:{symbol:"arrow-filled"}}});class p{constructor(t,e,i){this.toPoint=this.pathfinder=this.graphics=this.fromPoint=this.chart=void 0,this.init(t,e,i)}init(t,e,i){this.fromPoint=t,this.toPoint=e,this.options=i,this.chart=t.series.chart,this.pathfinder=this.chart.pathfinder}renderPath(t,e,i){let o=this.chart,n=o.styledMode,r=o.pathfinder,s=!o.options.chart.forExport&&!1!==i,a=this.graphics&&this.graphics.path;r.group||(r.group=o.renderer.g().addClass("highcharts-pathfinder-group").attr({zIndex:-1}).add(o.seriesGroup)),r.group.translate(o.plotLeft,o.plotTop),a&&a.renderer||(a=o.renderer.path().add(r.group),n||a.attr({opacity:0})),a.attr(e),t={d:t},n||(t.opacity=1),a[s?"animate":"attr"](t,i),this.graphics=this.graphics||{},this.graphics.path=a}addMarker(t,e,i){var o=this.fromPoint.series.chart;let n=o.pathfinder;o=o.renderer;let r="start"===t?this.fromPoint:this.toPoint;var s=r.getPathfinderAnchorPoint(e);let a,l;e.enabled&&((i="start"===t?i[1]:i[i.length-2])&&"M"===i[0]||"L"===i[0])&&(i={x:i[1],y:i[2]},i=r.getRadiansToVector(i,s),s=r.getMarkerVector(i,e.radius,s),i=-i/u,e.width&&e.height?(a=e.width,l=e.height):a=l=2*e.radius,this.graphics=this.graphics||{},s={x:s.x-a/2,y:s.y-l/2,width:a,height:l,rotation:i,rotationOriginX:s.x,rotationOriginY:s.y},this.graphics[t]?this.graphics[t].animate(s):(this.graphics[t]=o.symbol(e.symbol).addClass("highcharts-point-connecting-path-"+t+"-marker").attr(s).add(n.group),o.styledMode||this.graphics[t].attr({fill:e.color||this.fromPoint.color,stroke:e.lineColor,"stroke-width":e.lineWidth,opacity:0}).animate({opacity:1},r.series.options.animation)))}getPath(t){let e=this.pathfinder,i=this.chart,o=e.algorithms[t.type],n=e.chartObstacles;return"function"!=typeof o?(s('"'+t.type+'" is not a Pathfinder algorithm.'),{path:[],obstacles:[]}):(o.requiresObstacles&&!n&&(n=e.chartObstacles=e.getChartObstacles(t),i.options.connectors.algorithmMargin=t.algorithmMargin,e.chartObstacleMetrics=e.getObstacleMetrics(n)),o(this.fromPoint.getPathfinderAnchorPoint(t.startMarker),this.toPoint.getPathfinderAnchorPoint(t.endMarker),l({chartObstacles:n,lineObstacles:e.lineObstacles||[],obstacleMetrics:e.chartObstacleMetrics,hardBounds:{xMin:0,xMax:i.plotWidth,yMin:0,yMax:i.plotHeight},obstacleOptions:{margin:t.algorithmMargin},startDirectionX:e.getAlgorithmStartDirection(t.startMarker)},t)))}render(){var t=this.fromPoint;let e=t.series;var i=e.chart;let o=i.pathfinder,n=l(i.options.connectors,e.options.connectors,t.options.connectors,this.options),s={};i.styledMode||(s.stroke=n.lineColor||t.color,s["stroke-width"]=n.lineWidth,n.dashStyle&&(s.dashstyle=n.dashStyle)),s.class="highcharts-point-connecting-path highcharts-color-"+t.colorIndex,n=l(s,n),r(n.marker.radius)||(n.marker.radius=d(h(Math.ceil((n.algorithmMargin||8)/2)-1,1),5)),i=(t=this.getPath(n)).path,t.obstacles&&(o.lineObstacles=o.lineObstacles||[],o.lineObstacles=o.lineObstacles.concat(t.obstacles)),this.renderPath(i,s,e.options.animation),this.addMarker("start",l(n.marker,n.startMarker),i),this.addMarker("end",l(n.marker,n.endMarker),i)}destroy(){this.graphics&&(c(this.graphics,(function(t){t.destroy()})),delete this.graphics)}}return e.Connection=p,a(i.prototype,{getPathfinderAnchorPoint:function(t){let e,i,o=n(this);switch(t.align){case"right":e="xMax";break;case"left":e="xMin"}switch(t.verticalAlign){case"top":i="yMin";break;case"bottom":i="yMax"}return{x:e?o[e]:(o.xMin+o.xMax)/2,y:i?o[i]:(o.yMin+o.yMax)/2}},getRadiansToVector:function(t,e){let i;return r(e)||(i=n(this))&&(e={x:(i.xMin+i.xMax)/2,y:(i.yMin+i.yMax)/2}),Math.atan2(e.y-t.y,t.x-e.x)},getMarkerVector:function(t,e,i){var o=2*Math.PI,r=n(this),s=r.xMax-r.xMin;let a=r.yMax-r.yMin,l=Math.atan2(a,s),c=!1;s/=2;let u=a/2,h=r.xMin+s;var d=h,p=r=r.yMin+u;let f=1,g=1;for(;t<-Math.PI;)t+=o;for(;t>Math.PI;)t-=o;return o=Math.tan(t),t>-l&&t<=l?(g=-1,c=!0):t>l&&t<=Math.PI-l?g=-1:t>Math.PI-l||t<=-(Math.PI-l)?(f=-1,c=!0):f=-1,c?(d+=f*s,p+=g*s*o):(d+=a/(2*o)*f,p+=g*u),i.x!==h&&(d=i.x),i.y!==r&&(p=i.y),{x:d+e*Math.cos(t),y:p-e*Math.sin(t)}}}),p})),e(t,"Gantt/PathfinderAlgorithms.js",[t["Core/Utilities.js"]],(function(t){function e(t,e,i){i=i||0;let o,n,r=t.length-1;for(e-=1e-7;i<=r;)if(o=r+i>>1,n=e-t[o].xMin,0<n)i=o+1;else{if(!(0>n))return o;r=o-1}return 0<i?i-1:0}function i(t,i){let o=e(t,i.x+1)+1;for(;o--;){var n;if((n=t[o].xMax>=i.x)&&(n=t[o],n=i.x<=n.xMax&&i.x>=n.xMin&&i.y<=n.yMax&&i.y>=n.yMin),n)return o}return-1}function o(t){const e=[];if(t.length){e.push(["M",t[0].start.x,t[0].start.y]);for(let i=0;i<t.length;++i)e.push(["L",t[i].end.x,t[i].end.y])}return e}function n(t,e){t.yMin=a(t.yMin,e.yMin),t.yMax=s(t.yMax,e.yMax),t.xMin=a(t.xMin,e.xMin),t.xMax=s(t.xMax,e.xMax)}const{pick:r}=t,{min:s,max:a,abs:l}=Math;t=function(t,e,n){function s(t,e,i,o,n){return(t={x:t.x,y:t.y})[e]=i[o||e]+(n||0),t}function a(t,e,i){const o=l(e[i]-t[i+"Min"])>l(e[i]-t[i+"Max"]);return s(e,i,t,i+(o?"Max":"Min"),o?1:-1)}let c=[];var u=r(n.startDirectionX,l(e.x-t.x)>l(e.y-t.y))?"x":"y",h=n.chartObstacles;let d,p=i(h,t);if(-1<(n=i(h,e))){var f=h[n];f={start:n=a(f,e,u),end:e},d=n}else d=e;return-1<p&&(n=a(h=h[p],t,u),c.push({start:t,end:n}),n[u]>=t[u]==n[u]>=d[u]&&(e=t[u="y"===u?"x":"y"]<e[u],c.push({start:n,end:s(n,u,h,u+(e?"Max":"Min"),e?1:-1)}),u="y"===u?"x":"y")),n=s(t=c.length?c[c.length-1].end:t,u,d),c.push({start:t,end:n}),u=s(n,"y"===u?"x":"y",d),c.push({start:n,end:u}),c.push(f),{path:o(c),obstacles:c}},t.requiresObstacles=!0;const c=function(t,c,u){function h(t,i,o){let n,r,a,l,c,u=t.x<i.x?1:-1;for(t.x<i.x?(n=t,r=i):(n=i,r=t),t.y<i.y?(l=t,a=i):(l=i,a=t),c=0>u?s(e(S,r.x),S.length-1):0;S[c]&&(0<u&&S[c].xMin<=r.x||0>u&&S[c].xMax>=n.x);){if(S[c].xMin<=r.x&&S[c].xMax>=n.x&&S[c].yMin<=a.y&&S[c].yMax>=l.y)return o?{y:t.y,x:t.x<i.x?S[c].xMin-1:S[c].xMax+1,obstacle:S[c]}:{x:t.x,y:t.y<i.y?S[c].yMin-1:S[c].yMax+1,obstacle:S[c]};c+=u}return i}function d(t,e,i,o,n){var r=n.soft,s=n.hard;let a=o?"x":"y",c={x:e.x,y:e.y},u={x:e.x,y:e.y};n=t[a+"Max"]>=r[a+"Max"],r=t[a+"Min"]<=r[a+"Min"];let d=t[a+"Max"]>=s[a+"Max"];s=t[a+"Min"]<=s[a+"Min"];let p=l(t[a+"Min"]-e[a]),f=l(t[a+"Max"]-e[a]);return i=10>l(p-f)?e[a]<i[a]:f<p,u[a]=t[a+"Min"],c[a]=t[a+"Max"],t=h(e,u,o)[a]!==u[a],e=h(e,c,o)[a]!==c[a],i=t?!e||i:!e&&i,i=r?!n||i:!n&&i,s?!d||i:!d&&i}let p,f=r(u.startDirectionX,l(c.x-t.x)>l(c.y-t.y)),g=f?"x":"y",m=[],y=!1;var v=u.obstacleMetrics;let _=s(t.x,c.x)-v.maxWidth-10,C=a(t.x,c.x)+v.maxWidth+10,b=s(t.y,c.y)-v.maxHeight-10,E=a(t.y,c.y)+v.maxHeight+10,S=u.chartObstacles;var w=e(S,_);for(v=e(S,C),S=S.slice(w,v+1),-1<(v=i(S,c))&&(p=function(t,e,i){const o=s(t.xMax-e.x,e.x-t.xMin)<s(t.yMax-e.y,e.y-t.yMin);return i=d(t,e,i,o,{soft:u.hardBounds,hard:u.hardBounds}),o?{y:e.y,x:t[i?"xMax":"xMin"]+(i?1:-1)}:{x:e.x,y:t[i?"yMax":"yMin"]+(i?1:-1)}}(S[v],c,t),m.push({end:c,start:p}),c=p);-1<(v=i(S,c));)w=0>c[g]-t[g],p={x:c.x,y:c.y},p[g]=S[v][w?g+"Max":g+"Min"]+(w?1:-1),m.push({end:c,start:p}),c=p;return t=function t(e,o,r){if(e.x===o.x&&e.y===o.y)return[];var l=r?"x":"y";let c,p,f,g=u.obstacleOptions.margin;var m={soft:{xMin:_,xMax:C,yMin:b,yMax:E},hard:u.hardBounds};return c=i(S,e),-1<c?(c=S[c],m=d(c,e,o,r,m),n(c,u.hardBounds),f=r?{y:e.y,x:c[m?"xMax":"xMin"]+(m?1:-1)}:{x:e.x,y:c[m?"yMax":"yMin"]+(m?1:-1)},p=i(S,f),-1<p&&(p=S[p],n(p,u.hardBounds),f[l]=m?a(c[l+"Max"]-g+1,(p[l+"Min"]+c[l+"Max"])/2):s(c[l+"Min"]+g-1,(p[l+"Max"]+c[l+"Min"])/2),e.x===f.x&&e.y===f.y?(y&&(f[l]=m?a(c[l+"Max"],p[l+"Max"])+1:s(c[l+"Min"],p[l+"Min"])-1),y=!y):y=!1),e=[{start:e,end:f}]):(e=[{start:e,end:{x:(l=h(e,{x:r?o.x:e.x,y:r?e.y:o.y},r)).x,y:l.y}}],l[r?"x":"y"]!==o[r?"x":"y"]&&(m=d(l.obstacle,l,o,!r,m),n(l.obstacle,u.hardBounds),m={x:r?l.x:l.obstacle[m?"xMax":"xMin"]+(m?1:-1),y:r?l.obstacle[m?"yMax":"yMin"]+(m?1:-1):l.y},r=!r,e=e.concat(t({x:l.x,y:l.y},m,r)))),e.concat(t(e[e.length-1].end,o,!r))}(t,c,f),{path:o(t=t.concat(m.reverse())),obstacles:t}};return c.requiresObstacles=!0,{fastAvoid:c,straight:function(t,e){return{path:[["M",t.x,t.y],["L",e.x,e.y]],obstacles:[{start:t,end:e}]}},simpleConnect:t}})),e(t,"Gantt/Pathfinder.js",[t["Gantt/Connection.js"],t["Core/Chart/Chart.js"],t["Core/Defaults.js"],t["Core/Globals.js"],t["Core/Series/Point.js"],t["Core/Utilities.js"],t["Gantt/PathfinderAlgorithms.js"]],(function(t,e,i,o,n,r,s){function a(t){var e=t.shapeArgs;return e?{xMin:e.x||0,xMax:(e.x||0)+(e.width||0),yMin:e.y||0,yMax:(e.y||0)+(e.height||0)}:(e=t.graphic&&t.graphic.getBBox())?{xMin:t.plotX-e.width/2,xMax:t.plotX+e.width/2,yMin:t.plotY-e.height/2,yMax:t.plotY+e.height/2}:null}({defaultOptions:i}=i);const{addEvent:l,defined:c,error:u,extend:h,merge:d,pick:p,splat:f}=r,g=Math.max,m=Math.min;h(i,{connectors:{type:"straight",lineWidth:1,marker:{enabled:!1,align:"center",verticalAlign:"middle",inside:!1,lineWidth:1},startMarker:{symbol:"diamond"},endMarker:{symbol:"arrow-filled"}}});class y{constructor(t){this.lineObstacles=this.group=this.connections=this.chartObstacleMetrics=this.chartObstacles=this.chart=void 0,this.init(t)}init(t){this.chart=t,this.connections=[],l(t,"redraw",(function(){this.pathfinder.update()}))}update(e){const i=this.chart,o=this,r=o.connections;o.connections=[],i.series.forEach((function(e){e.visible&&!e.options.isInternal&&e.points.forEach((function(e){var r=e.options;let s;r&&r.dependency&&(r.connect=r.dependency),r=e.options&&e.options.connect&&f(e.options.connect),e.visible&&!1!==e.isInside&&r&&r.forEach((function(r){s=i.get("string"==typeof r?r:r.to),s instanceof n&&s.series.visible&&s.visible&&!1!==s.isInside&&o.connections.push(new t(e,s,"string"==typeof r?{}:r))}))}))}));for(let t,e,i=0,n=r.length,s=o.connections.length;i<n;++i){e=!1;const n=r[i];for(t=0;t<s;++t){const i=o.connections[t];if((n.options&&n.options.type)===(i.options&&i.options.type)&&n.fromPoint===i.fromPoint&&n.toPoint===i.toPoint){i.graphics=n.graphics,e=!0;break}}e||n.destroy()}delete this.chartObstacles,delete this.lineObstacles,o.renderConnections(e)}renderConnections(t){t?this.chart.series.forEach((function(t){const e=function(){const e=t.chart.pathfinder;(e&&e.connections||[]).forEach((function(e){e.fromPoint&&e.fromPoint.series===t&&e.render()})),t.pathfinderRemoveRenderEvent&&(t.pathfinderRemoveRenderEvent(),delete t.pathfinderRemoveRenderEvent)};!1===t.options.animation?e():t.pathfinderRemoveRenderEvent=l(t,"afterAnimate",e)})):this.connections.forEach((function(t){t.render()}))}getChartObstacles(t){let e,i=[],o=this.chart.series,n=p(t.algorithmMargin,0);for(let t=0,e=o.length;t<e;++t)if(o[t].visible&&!o[t].options.isInternal)for(let e,r,s=0,l=o[t].points.length;s<l;++s)r=o[t].points[s],r.visible&&(e=a(r))&&i.push({xMin:e.xMin-n,xMax:e.xMax+n,yMin:e.yMin-n,yMax:e.yMax+n});return i=i.sort((function(t,e){return t.xMin-e.xMin})),c(t.algorithmMargin)||(e=t.algorithmMargin=function(t){let e,i,o=t.length,n=0,r=[],s=function(t,e,i){i=p(i,10);const o=t.yMax+i>e.yMin-i&&t.yMin-i<e.yMax+i,n=t.xMax+i>e.xMin-i&&t.xMin-i<e.xMax+i,r=o?t.xMin>e.xMax?t.xMin-e.xMax:e.xMin-t.xMax:1/0,a=n?t.yMin>e.yMax?t.yMin-e.yMax:e.yMin-t.yMax:1/0;return n&&o?i?s(t,e,Math.floor(i/2)):1/0:m(r,a)};for(;n<o;++n)for(e=n+1;e<o;++e)i=s(t[n],t[e]),80>i&&r.push(i);return r.push(80),g(Math.floor(r.sort((function(t,e){return t-e}))[Math.floor(r.length/10)]/2-1),1)}(i),i.forEach((function(t){t.xMin-=e,t.xMax+=e,t.yMin-=e,t.yMax+=e}))),i}getObstacleMetrics(t){let e,i,o=0,n=0,r=t.length;for(;r--;)e=t[r].xMax-t[r].xMin,i=t[r].yMax-t[r].yMin,o<e&&(o=e),n<i&&(n=i);return{maxHeight:n,maxWidth:o}}getAlgorithmStartDirection(t){let e="top"!==t.verticalAlign&&"bottom"!==t.verticalAlign;return"left"!==t.align&&"right"!==t.align?!!e&&void 0:!!e||void 0}}return y.prototype.algorithms=s,o.Pathfinder=y,h(n.prototype,{getPathfinderAnchorPoint:function(t){let e,i,o=a(this);switch(t.align){case"right":e="xMax";break;case"left":e="xMin"}switch(t.verticalAlign){case"top":i="yMin";break;case"bottom":i="yMax"}return{x:e?o[e]:(o.xMin+o.xMax)/2,y:i?o[i]:(o.yMin+o.yMax)/2}},getRadiansToVector:function(t,e){let i;return c(e)||(i=a(this))&&(e={x:(i.xMin+i.xMax)/2,y:(i.yMin+i.yMax)/2}),Math.atan2(e.y-t.y,t.x-e.x)},getMarkerVector:function(t,e,i){var o=2*Math.PI,n=a(this),r=n.xMax-n.xMin;let s=n.yMax-n.yMin,l=Math.atan2(s,r),c=!1;r/=2;let u=s/2,h=n.xMin+r;var d=h,p=n=n.yMin+u;let f=1,g=1;for(;t<-Math.PI;)t+=o;for(;t>Math.PI;)t-=o;return o=Math.tan(t),t>-l&&t<=l?(g=-1,c=!0):t>l&&t<=Math.PI-l?g=-1:t>Math.PI-l||t<=-(Math.PI-l)?(f=-1,c=!0):f=-1,c?(d+=f*r,p+=g*r*o):(d+=s/(2*o)*f,p+=g*u),i.x!==h&&(d=i.x),i.y!==n&&(p=i.y),{x:d+e*Math.cos(t),y:p-e*Math.sin(t)}}}),e.prototype.callbacks.push((function(t){!1!==t.options.connectors.enabled&&(function(t){(t.options.pathfinder||t.series.reduce((function(t,e){return e.options&&d(!0,e.options.connectors=e.options.connectors||{},e.options.pathfinder),t||e.options&&e.options.pathfinder}),!1))&&(d(!0,t.options.connectors=t.options.connectors||{},t.options.pathfinder),u('WARNING: Pathfinder options have been renamed. Use "chart.connectors" or "series.connectors" instead.'))}(t),this.pathfinder=new y(this),this.pathfinder.update(!0))})),y})),e(t,"Series/Gantt/GanttSeries.js",[t["Core/Axis/Axis.js"],t["Core/Chart/Chart.js"],t["Series/Gantt/GanttPoint.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Axis/Tick.js"],t["Core/Utilities.js"],t["Core/Axis/TreeGrid/TreeGridAxis.js"]],(function(t,e,i,o,n,r,s){const{series:a,seriesTypes:{xrange:l}}=o,{extend:c,isNumber:u,merge:h}=r;s.compose(t,e,a,n);class d extends l{constructor(){super(...arguments),this.points=this.options=this.data=void 0}drawPoint(t,e){let i=this.options,o=this.chart.renderer;var n=t.shapeArgs;let r=t.plotY,s=t.graphic,a=t.selected&&"select",c=i.stacking&&!i.borderRadius;t.options.milestone?u(r)&&null!==t.y&&!1!==t.visible?(n=o.symbols.diamond(n.x||0,n.y||0,n.width||0,n.height||0),s?s[e]({d:n}):t.graphic=o.path(n).addClass(t.getClassName(),!0).add(t.group||this.group),this.chart.styledMode||t.graphic.attr(this.pointAttribs(t,a)).shadow(i.shadow,null,c)):s&&(t.graphic=s.destroy()):l.prototype.drawPoint.call(this,t,e)}translatePoint(t){let e,i;l.prototype.translatePoint.call(this,t),t.options.milestone&&(e=t.shapeArgs,i=e.height||0,t.shapeArgs={x:(e.x||0)-i/2,y:e.y,width:i,height:i})}}return d.defaultOptions=h(l.defaultOptions,{grouping:!1,dataLabels:{enabled:!0},tooltip:{headerFormat:'<span style="font-size: 0.8em">{series.name}</span><br/>',pointFormat:null,pointFormatter:function(){var t=this.series,e=t.xAxis;let i=t.tooltipOptions.dateTimeLabelFormats,o=e.options.startOfWeek,n=t.tooltipOptions,r=n.xDateFormat,s=this.options.milestone,a="<b>"+(this.name||this.yCategory)+"</b>";return n.pointFormat?this.tooltipFormatter(n.pointFormat):(!r&&u(this.start)&&(r=t.chart.time.getDateFormat(e.closestPointRange,this.start,o,i||{})),e=t.chart.time.dateFormat(r,this.start),t=t.chart.time.dateFormat(r,this.end),a+="<br/>",s?a+(e+"<br/>"):a+"Start: "+e+"<br/>End: "+t+"<br/>")}},connectors:{type:"simpleConnect",animation:{reversed:!0},startMarker:{enabled:!0,symbol:"arrow-filled",radius:4,fill:"#fa0",align:"left"},endMarker:{enabled:!1,align:"right"}}}),c(d.prototype,{pointArrayMap:["start","end","y"],pointClass:i,setData:a.prototype.setData}),o.registerSeriesType("gantt",d),d})),e(t,"Core/Chart/GanttChart.js",[t["Core/Chart/Chart.js"],t["Core/Defaults.js"],t["Core/Utilities.js"]],(function(t,e,i){const{getOptions:o}=e,{isArray:n,merge:r,splat:s}=i;class a extends t{init(t,e){const i=o(),a=t.xAxis,l=t.yAxis;let c;t.xAxis=t.yAxis=void 0;const u=r(!0,{chart:{type:"gantt"},title:{text:null},legend:{enabled:!1},navigator:{series:{type:"gantt"},yAxis:{type:"category"}}},t,{isGantt:!0});t.xAxis=a,t.yAxis=l,u.xAxis=(n(t.xAxis)?t.xAxis:[t.xAxis||{},{}]).map((function(t,e){return 1===e&&(c=0),r(i.xAxis,{grid:{enabled:!0},opposite:!0,linkedTo:c},t,{type:"datetime"})})),u.yAxis=s(t.yAxis||{}).map((function(t){return r(i.yAxis,{grid:{enabled:!0},staticScale:50,reversed:!0,type:t.categories?t.type:"treegrid"},t)})),super.init(u,e)}}return function(t){t.ganttChart=function(e,i,o){return new t(e,i,o)}}(a||(a={})),a})),e(t,"Extensions/ArrowSymbols.js",[t["Core/Utilities.js"]],(function(t){function e(t,e,i,o){return[["M",t,e+o/2],["L",t+i,e],["L",t,e+o/2],["L",t+i,e+o]]}function i(t,i,o,n){return e(t,i,o/2,n)}function o(t,e,i,o){return[["M",t+i,e],["L",t,e+o/2],["L",t+i,e+o],["Z"]]}function n(t,e,i,n){return o(t,e,i/2,n)}const r=[];return{compose:function(s){t.pushUnique(r,s)&&((s=s.prototype.symbols).arrow=e,s["arrow-filled"]=o,s["arrow-filled-half"]=n,s["arrow-half"]=i,s["triangle-left"]=o,s["triangle-left-half"]=n)}}})),e(t,"Extensions/CurrentDateIndication.js",[t["Core/Utilities.js"]],(function(t){function e(){const t=this.options;var e=t.currentDateIndicator;e&&((e="object"==typeof e?r(l,e):r(l)).value=Date.now(),e.className="highcharts-current-date-indicator",t.plotLines||(t.plotLines=[]),t.plotLines.push(e))}function i(){this.label&&this.label.attr({text:this.getLabelText(this.options.label)})}function o(t,e){const i=this.options;return i&&i.className&&-1!==i.className.indexOf("highcharts-current-date-indicator")&&i.label&&"function"==typeof i.label.formatter?(i.value=Date.now(),i.label.formatter.call(this,i.value,i.label.format)):t.call(this,e)}const{addEvent:n,merge:r,wrap:s}=t,a=[],l={color:"#ccd3ff",width:2,label:{format:"%a, %b %d %Y, %H:%M",formatter:function(t,e){return this.axis.chart.time.dateFormat(e||"",t)},rotation:0,style:{fontSize:"0.7em"}}};return{compose:function(r,l){t.pushUnique(a,r)&&n(r,"afterSetOptions",e),t.pushUnique(a,l)&&(n(l,"render",i),s(l.prototype,"getLabelText",o))}}})),e(t,"masters/modules/gantt.src.js",[t["Core/Globals.js"],t["Stock/Navigator/Navigator.js"],t["Stock/Scrollbar/Scrollbar.js"],t["Stock/RangeSelector/RangeSelector.js"],t["Series/XRange/XRangeSeries.js"],t["Core/Chart/GanttChart.js"],t["Extensions/ArrowSymbols.js"],t["Extensions/CurrentDateIndication.js"]],(function(t,e,i,o,n,r,s,a){t.GanttChart=r,t.ganttChart=r.ganttChart,t.Navigator=e,t.RangeSelector=o,t.Scrollbar=i,s.compose(t.SVGRenderer),a.compose(t.Axis,t.PlotLineOrBand),e.compose(t.Axis,t.Chart,t.Series),o.compose(t.Axis,t.Chart),i.compose(t.Axis),n.compose(t.Axis)}))},t.exports?(r.default=r,t.exports=r):(o=[i(8840)],void 0===(n=function(t){return r(t),r.Highcharts=t,r}.apply(e,o))||(t.exports=n))},4625:(t,e,i)=>{"use strict";var o,n,r;r=function(t){function e(t,e,i,o){t.hasOwnProperty(e)||(t[e]=o.apply(null,i),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:e,module:t[e]}})))}e(t=t?t._modules:{},"Extensions/DownloadURL.js",[t["Core/Globals.js"]],(function(t){const{isSafari:e}=t,i=t.win,o=i.document,n=i.URL||i.webkitURL||i,r=t.dataURLtoBlob=function(t){if((t=t.replace(/filename=.*;/,"").match(/data:([^;]*)(;base64)?,([0-9A-Za-z+/]+)/))&&3<t.length&&i.atob&&i.ArrayBuffer&&i.Uint8Array&&i.Blob&&n.createObjectURL){const o=i.atob(t[3]);var e=new i.ArrayBuffer(o.length);e=new i.Uint8Array(e);for(let t=0;t<e.length;++t)e[t]=o.charCodeAt(t);return t=new i.Blob([e],{type:t[1]}),n.createObjectURL(t)}};return t=t.downloadURL=function(t,n){var s=i.navigator;const a=o.createElement("a");if("string"==typeof t||t instanceof String||!s.msSaveOrOpenBlob){if(t=`${t}`,s=/Edge\/\d+/.test(s.userAgent),(e&&"string"==typeof t&&0===t.indexOf("data:application/pdf")||s||2e6<t.length)&&!(t=r(t)||""))throw Error("Failed to convert to blob");if(void 0!==a.download)a.href=t,a.download=n,o.body.appendChild(a),a.click(),o.body.removeChild(a);else try{const e=i.open(t,"chart");if(null==e)throw Error("Failed to open window")}catch(e){i.location.href=t}}else s.msSaveOrOpenBlob(t,n)},{dataURLtoBlob:r,downloadURL:t}})),e(t,"Extensions/OfflineExporting/OfflineExportingDefaults.js",[],(function(){return{libURL:"https://code.highcharts.com/11.0.1/lib/",menuItemDefinitions:{downloadPNG:{textKey:"downloadPNG",onclick:function(){this.exportChartLocal()}},downloadJPEG:{textKey:"downloadJPEG",onclick:function(){this.exportChartLocal({type:"image/jpeg"})}},downloadSVG:{textKey:"downloadSVG",onclick:function(){this.exportChartLocal({type:"image/svg+xml"})}},downloadPDF:{textKey:"downloadPDF",onclick:function(){this.exportChartLocal({type:"application/pdf"})}}}}})),e(t,"Extensions/OfflineExporting/OfflineExporting.js",[t["Core/Renderer/HTML/AST.js"],t["Core/Chart/Chart.js"],t["Core/Defaults.js"],t["Extensions/DownloadURL.js"],t["Extensions/Exporting/Exporting.js"],t["Core/Globals.js"],t["Core/HttpUtilities.js"],t["Extensions/OfflineExporting/OfflineExportingDefaults.js"],t["Core/Utilities.js"]],(function(t,e,i,o,n,r,s,a,l){const{defaultOptions:c}=i,{downloadURL:u}=o,{win:h,doc:d}=r,{ajax:p}=s,{addEvent:f,error:g,extend:m,fireEvent:y,merge:v}=l;t.allowedAttributes.push("data-z-index","fill-opacity","rx","ry","stroke-dasharray","stroke-linejoin","text-anchor","transform","version","viewBox","visibility","xmlns","xmlns:xlink"),t.allowedTags.push("desc","clippath","g");const _=[];var C;return function(e){function i(t,i){const o=this,s=v(o.options.exporting,t),a=function(t){!1===s.fallbackToExportServer?s.error?s.error(s,t):g(28,!0):o.exportChart(s)};t=function(){return[].some.call(o.container.getElementsByTagName("image"),(function(t){return""!==(t=t.getAttribute("href"))&&"string"==typeof t&&0!==t.indexOf("data:")}))},r.isMS&&o.styledMode&&!n.inlineAllowlist.length&&n.inlineAllowlist.push(/^blockSize/,/^border/,/^caretColor/,/^color/,/^columnRule/,/^columnRuleColor/,/^cssFloat/,/^cursor/,/^fill$/,/^fillOpacity/,/^font/,/^inlineSize/,/^length/,/^lineHeight/,/^opacity/,/^outline/,/^parentRule/,/^rx$/,/^ry$/,/^stroke/,/^textAlign/,/^textAnchor/,/^textDecoration/,/^transform/,/^vectorEffect/,/^visibility/,/^x$/,/^y$/),r.isMS&&("application/pdf"===s.type||o.container.getElementsByTagName("image").length&&"image/svg+xml"!==s.type)||"application/pdf"===s.type&&t()?a(Error("Image type not supported for this chart/browser.")):o.getSVGForLocalExport(s,i||{},a,(function(t){-1<t.indexOf("<foreignObject")&&"image/svg+xml"!==s.type&&(r.isMS||"application/pdf"===s.type)?a(Error("Image type not supported for charts with embedded HTML")):e.downloadSVGLocal(t,m({filename:o.getFilename()},s),a,(()=>y(o,"exportChartLocalSuccess")))}))}function o(t,e){const i=d.getElementsByTagName("head")[0],o=d.createElement("script");o.type="text/javascript",o.src=t,o.onload=e,o.onerror=function(){g("Error loading script "+t)},i.appendChild(o)}function s(t,i,o,n){const r=this,s=(t,e,i)=>{++p,i.imageElement.setAttributeNS("http://www.w3.org/1999/xlink","href",t),u&&p===d&&n(r.sanitizeSVG(l.innerHTML,c))};let a,l,c,u,h=null,d=0,p=0;r.unbindGetSVG=f(r,"getSVG",(t=>{c=t.chartCopy.options,u=(l=t.chartCopy.container.cloneNode(!0))&&l.getElementsByTagName("image")||[],d=u.length})),r.getSVGForExport(t,i);try{if(!u||!u.length)return void n(r.sanitizeSVG(l.innerHTML,c));for(i=0;i<u.length;i++)a=u[i],(h=a.getAttributeNS("http://www.w3.org/1999/xlink","href"))?e.imageToDataUrl(h,"image/png",{imageElement:a},t.scale,s,o,o,o):(p++,a.parentNode.removeChild(a),i--,u&&p===d&&n(r.sanitizeSVG(l.innerHTML,c)))}catch(t){o(t)}r.unbindGetSVG()}function C(t,i,o,n,r,s,a,l,c){let u,p=new h.Image;const f=()=>{setTimeout((function(){const e=d.createElement("canvas"),s=e.getContext&&e.getContext("2d");let l;try{if(s){e.height=p.height*n,e.width=p.width*n,s.drawImage(p,0,0,e.width,e.height);try{l=e.toDataURL(i),r(l,i,o,n)}catch(e){u(t,i,o,n)}}else a(t,i,o,n)}finally{c&&c(t,i,o,n)}}),e.loadEventDeferDelay)},g=()=>{l(t,i,o,n),c&&c(t,i,o,n)};u=()=>{p=new h.Image,u=s,p.crossOrigin="Anonymous",p.onload=f,p.onerror=g,p.src=t},p.onload=f,p.onerror=g,p.src=t}function b(t){var i=h.navigator.userAgent;i=-1<i.indexOf("WebKit")&&0>i.indexOf("Chrome");try{if(!i&&-1===t.indexOf("<foreignObject"))return e.domurl.createObjectURL(new h.Blob([t],{type:"image/svg+xml;charset-utf-16"}))}catch(t){}return"data:image/svg+xml;charset=UTF-8,"+encodeURIComponent(t)}function E(t,e,i){const o=Number(t.getAttribute("width"))+2*e;e=Number(t.getAttribute("height"))+2*e;const n=new h.jspdf.jsPDF(e>o?"p":"l","pt",[o,e]);[].forEach.call(t.querySelectorAll('*[visibility="hidden"]'),(function(t){t.parentNode.removeChild(t)}));const r=t.querySelectorAll("linearGradient");for(let t=0;t<r.length;t++){const e=r[t].querySelectorAll("stop");let i=0;for(;i<e.length&&"0"===e[i].getAttribute("offset")&&"0"===e[i+1].getAttribute("offset");)e[i].remove(),i++}[].forEach.call(t.querySelectorAll("tspan"),(t=>{"​"===t.textContent&&(t.textContent=" ",t.setAttribute("dx",-5))})),n.svg(t,{x:0,y:0,width:o,height:e,removeInvalid:!0}).then((()=>i(n.output("datauristring"))))}e.CanVGRenderer={},e.domurl=h.URL||h.webkitURL||h,e.loadEventDeferDelay=r.isMS?150:0,e.compose=function(t){if(l.pushUnique(_,t)){const e=t.prototype;e.getSVGForLocalExport=s,e.exportChartLocal=i,v(!0,c.exporting,a)}return t},e.downloadSVGLocal=function(i,n,r,s){const a=d.createElement("div"),l=n.type||"image/png",f=(n.filename||"chart")+"."+("image/svg+xml"===l?"svg":l.split("/")[1]),g=n.scale||1;let m,y,v,_=n.libURL||c.exporting.libURL,S=!0,w=n.pdfFont;_="/"!==_.slice(-1)?_+"/":_;const O=(t,e)=>{const i=(t,e)=>{h.jspdf.jsPDF.API.events.push(["initialized",function(){this.addFileToVFS(t,e),this.addFont(t,"HighchartsFont",t),this.getFontList().HighchartsFont||this.setFont("HighchartsFont")}])};w&&!/[^\u0000-\u007F\u200B]+/.test(t.textContent||"")&&(w=void 0);const o=["normal","italic","bold","bolditalic"];let n;const r=()=>{const t=o.shift();if(!t)return e();const s=w&&w[t];s?p({url:s,responseType:"blob",success:(e,o)=>{(e=new FileReader).onloadend=function(){if("string"==typeof this.result){const e=this.result.split(",")[1];i(t,e),"normal"===t&&(n=e)}r()},e.readAsDataURL(o.response)},error:r}):(n&&i(t,n),r())};r()},x=()=>{t.setElementHTML(a,i);const e=a.getElementsByTagName("text");let o;[].forEach.call(e,(function(t){["fontFamily","fontSize"].forEach((e=>{for(var i=t;i&&i!==a;){if(i.style[e]){i=i.style[e],"fontSize"===e&&/em$/.test(i)&&(i=Math.round(16*parseFloat(i))+"px"),t.style[e]=i;break}i=i.parentNode}})),t.style.fontFamily=w&&w.normal?"HighchartsFont":String(t.style.fontFamily&&t.style.fontFamily.split(" ").splice(-1)),o=t.getElementsByTagName("title"),[].forEach.call(o,(function(e){t.removeChild(e)}))}));const n=a.querySelector("svg");n&&O(n,(()=>{E(n,0,(t=>{try{u(t,f),s&&s()}catch(t){r(t)}}))}))};if("image/svg+xml"===l)try{void 0!==h.MSBlobBuilder?(y=new h.MSBlobBuilder,y.append(i),m=y.getBlob("image/svg+xml")):m=b(i),u(m,f),s&&s()}catch(t){r(t)}else"application/pdf"===l?h.jspdf&&h.jspdf.jsPDF?x():(S=!0,o(_+"jspdf.js",(function(){o(_+"svg2pdf.js",x)}))):(m=b(i),v=function(){try{e.domurl.revokeObjectURL(m)}catch(t){}},C(m,l,{},g,(function(t){try{u(t,f),s&&s()}catch(t){r(t)}}),(function(){const t=d.createElement("canvas"),e=t.getContext("2d"),n=i.match(/^<svg[^>]*width\s*=\s*"?(\d+)"?[^>]*>/)[1]*g,a=i.match(/^<svg[^>]*height\s*=\s*"?(\d+)"?[^>]*>/)[1]*g,c=function(){h.canvg.Canvg.fromString(e,i).start();try{u(h.navigator.msSaveOrOpenBlob?t.msToBlob():t.toDataURL(l),f),s&&s()}catch(t){r(t)}finally{v()}};t.width=n,t.height=a,h.canvg?c():(S=!0,o(_+"canvg.js",(function(){c()})))}),r,r,(function(){S&&v()})))},e.getScript=o,e.imageToDataUrl=C,e.svgToDataUrl=b,e.svgToPdf=E}(C||(C={})),C})),e(t,"masters/modules/offline-exporting.src.js",[t["Core/Globals.js"],t["Extensions/OfflineExporting/OfflineExporting.js"]],(function(t,e){t.downloadSVGLocal=e.downloadSVGLocal,e.compose(t.Chart)}))},t.exports?(r.default=r,t.exports=r):(o=[i(8840),i(8393)],void 0===(n=function(t){return r(t),r.Highcharts=t,r}.apply(e,o))||(t.exports=n))},5171:t=>{t.exports=function(t){return!(!t||"string"==typeof t)&&(t instanceof Array||Array.isArray(t)||t.length>=0&&(t.splice instanceof Function||Object.getOwnPropertyDescriptor(t,t.length-1)&&"String"!==t.constructor.name))}},9367:t=>{"use strict";const e=new Set(["ENOTFOUND","ENETUNREACH","UNABLE_TO_GET_ISSUER_CERT","UNABLE_TO_GET_CRL","UNABLE_TO_DECRYPT_CERT_SIGNATURE","UNABLE_TO_DECRYPT_CRL_SIGNATURE","UNABLE_TO_DECODE_ISSUER_PUBLIC_KEY","CERT_SIGNATURE_FAILURE","CRL_SIGNATURE_FAILURE","CERT_NOT_YET_VALID","CERT_HAS_EXPIRED","CRL_NOT_YET_VALID","CRL_HAS_EXPIRED","ERROR_IN_CERT_NOT_BEFORE_FIELD","ERROR_IN_CERT_NOT_AFTER_FIELD","ERROR_IN_CRL_LAST_UPDATE_FIELD","ERROR_IN_CRL_NEXT_UPDATE_FIELD","OUT_OF_MEM","DEPTH_ZERO_SELF_SIGNED_CERT","SELF_SIGNED_CERT_IN_CHAIN","UNABLE_TO_GET_ISSUER_CERT_LOCALLY","UNABLE_TO_VERIFY_LEAF_SIGNATURE","CERT_CHAIN_TOO_LONG","CERT_REVOKED","INVALID_CA","PATH_LENGTH_EXCEEDED","INVALID_PURPOSE","CERT_UNTRUSTED","CERT_REJECTED","HOSTNAME_MISMATCH"]);t.exports=t=>!e.has(t&&t.code)},6745:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Animation=void 0;const o=i(4417),n=i(8588);var r=o.glob.performance&&o.glob.performance.now?function(){return o.glob.performance.now()}:function(){return(new Date).getTime()};class s{constructor(t,e){this.id=s.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:r(),frameRate:0},this.func=t,this.setLayers(e)}setLayers(t){var e=[];return e=t?t.length>0?t:[t]:[],this.layers=e,this}getLayers(){return this.layers}addLayer(t){var e,i=this.layers,o=i.length;for(e=0;e<o;e++)if(i[e]._id===t._id)return!1;return this.layers.push(t),!0}isRunning(){var t,e=s.animations,i=e.length;for(t=0;t<i;t++)if(e[t].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=r(),s._addAnimation(this),this}stop(){return s._removeAnimation(this),this}_updateFrameObject(t){this.frame.timeDiff=t-this.frame.lastTime,this.frame.lastTime=t,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(t){this.animations.push(t),this._handleAnimation()}static _removeAnimation(t){var e,i=t.id,o=this.animations,n=o.length;for(e=0;e<n;e++)if(o[e].id===i){this.animations.splice(e,1);break}}static _runFrames(){var t,e,i,o,n,s,a,l,c={},u=this.animations;for(o=0;o<u.length;o++)if(e=(t=u[o]).layers,i=t.func,t._updateFrameObject(r()),s=e.length,!i||!1!==i.call(t,t.frame))for(n=0;n<s;n++)void 0!==(a=e[n])._id&&(c[a._id]=a);for(l in c)c.hasOwnProperty(l)&&c[l].batchDraw()}static _animationLoop(){var t=s;t.animations.length?(t._runFrames(),n.Util.requestAnimFrame(t._animationLoop)):t.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,n.Util.requestAnimFrame(this._animationLoop))}}s.animations=[],s.animIdCounter=0,s.animRunning=!1,e.Animation=s},4135:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.t2length=e.getQuadraticArcLength=e.getCubicArcLength=e.binomialCoefficients=e.cValues=e.tValues=void 0,e.tValues=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],e.cValues=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],e.binomialCoefficients=[[1],[1,1],[1,2,1],[1,3,3,1]];e.getCubicArcLength=(t,o,n)=>{let r,s,a;r=n/2,s=0;for(let n=0;n<20;n++)a=r*e.tValues[20][n]+r,s+=e.cValues[20][n]*i(t,o,a);return r*s};function i(t,e,i){const n=o(1,i,t),r=o(1,i,e),s=n*n+r*r;return Math.sqrt(s)}e.getQuadraticArcLength=(t,e,i)=>{void 0===i&&(i=1);const o=t[0]-2*t[1]+t[2],n=e[0]-2*e[1]+e[2],r=2*t[1]-2*t[0],s=2*e[1]-2*e[0],a=4*(o*o+n*n),l=4*(o*r+n*s),c=r*r+s*s;if(0===a)return i*Math.sqrt(Math.pow(t[2]-t[0],2)+Math.pow(e[2]-e[0],2));const u=l/(2*a),h=i+u,d=c/a-u*u,p=h*h+d>0?Math.sqrt(h*h+d):0,f=u*u+d>0?Math.sqrt(u*u+d):0,g=u+Math.sqrt(u*u+d)!==0?d*Math.log(Math.abs((h+p)/(u+f))):0;return Math.sqrt(a)/2*(h*p-u*f+g)};const o=(t,i,n)=>{const r=n.length-1;let s,a;if(0===r)return 0;if(0===t){a=0;for(let t=0;t<=r;t++)a+=e.binomialCoefficients[r][t]*Math.pow(1-i,r-t)*Math.pow(i,t)*n[t];return a}s=new Array(r);for(let t=0;t<r;t++)s[t]=r*(n[t+1]-n[t]);return o(t-1,i,s)};e.t2length=(t,e,i)=>{let o=1,n=t/e,r=(t-i(n))/e,s=0;for(;o>.001;){const a=i(n+r),l=Math.abs(t-a)/e;if(l<o)o=l,n+=r;else{const s=i(n-r),a=Math.abs(t-s)/e;a<o?(o=a,n-=r):r/=2}if(s++,s>500)break}return n}},4842:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HitCanvas=e.SceneCanvas=e.Canvas=void 0;const o=i(8588),n=i(3442),r=i(4417),s=i(1455),a=i(3774);var l;class c{constructor(t){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;var e=(t||{}).pixelRatio||r.Konva.pixelRatio||function(){if(l)return l;var t=o.Util.createCanvasElement(),e=t.getContext("2d");return l=(r.Konva._global.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1),o.Util.releaseCanvas(t),l}();this.pixelRatio=e,this._canvas=o.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(t){var e=this.pixelRatio;this.pixelRatio=t,this.setSize(this.getWidth()/e,this.getHeight()/e)}setWidth(t){this.width=this._canvas.width=t*this.pixelRatio,this._canvas.style.width=t+"px";var e=this.pixelRatio;this.getContext()._context.scale(e,e)}setHeight(t){this.height=this._canvas.height=t*this.pixelRatio,this._canvas.style.height=t+"px";var e=this.pixelRatio;this.getContext()._context.scale(e,e)}getWidth(){return this.width}getHeight(){return this.height}setSize(t,e){this.setWidth(t||0),this.setHeight(e||0)}toDataURL(t,e){try{return this._canvas.toDataURL(t,e)}catch(t){try{return this._canvas.toDataURL()}catch(t){return o.Util.error("Unable to get data URL. "+t.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}}e.Canvas=c,s.Factory.addGetterSetter(c,"pixelRatio",void 0,(0,a.getNumberValidator)());e.SceneCanvas=class extends c{constructor(t={width:0,height:0,willReadFrequently:!1}){super(t),this.context=new n.SceneContext(this,{willReadFrequently:t.willReadFrequently}),this.setSize(t.width,t.height)}};e.HitCanvas=class extends c{constructor(t={width:0,height:0}){super(t),this.hitCanvas=!0,this.context=new n.HitContext(this),this.setSize(t.width,t.height)}}},8783:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Container=void 0;const o=i(1455),n=i(7939),r=i(3774);class s extends n.Node{constructor(){super(...arguments),this.children=[]}getChildren(t){if(!t)return this.children||[];const e=this.children||[];var i=[];return e.forEach((function(e){t(e)&&i.push(e)})),i}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach((t=>{t.parent=null,t.index=0,t.remove()})),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach((t=>{t.parent=null,t.index=0,t.destroy()})),this.children=[],this._requestDraw(),this}add(...t){if(0===t.length)return this;if(t.length>1){for(var e=0;e<t.length;e++)this.add(t[e]);return this}const i=t[0];return i.getParent()?(i.moveTo(this),this):(this._validateAdd(i),i.index=this.getChildren().length,i.parent=this,i._clearCaches(),this.getChildren().push(i),this._fire("add",{child:i}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(t){return this._generalFind(t,!1)}findOne(t){var e=this._generalFind(t,!0);return e.length>0?e[0]:void 0}_generalFind(t,e){var i=[];return this._descendants((o=>{const n=o._isMatch(t);return n&&i.push(o),!(!n||!e)})),i}_descendants(t){let e=!1;const i=this.getChildren();for(const o of i){if(e=t(o),e)return!0;if(o.hasChildren()&&(e=o._descendants(t),e))return!0}return!1}toObject(){var t=n.Node.prototype.toObject.call(this);return t.children=[],this.getChildren().forEach((e=>{t.children.push(e.toObject())})),t}isAncestorOf(t){for(var e=t.getParent();e;){if(e._id===this._id)return!0;e=e.getParent()}return!1}clone(t){var e=n.Node.prototype.clone.call(this,t);return this.getChildren().forEach((function(t){e.add(t.clone())})),e}getAllIntersections(t){var e=[];return this.find("Shape").forEach((function(i){i.isVisible()&&i.intersects(t)&&e.push(i)})),e}_clearSelfAndDescendantCache(t){var e;super._clearSelfAndDescendantCache(t),this.isCached()||null===(e=this.children)||void 0===e||e.forEach((function(e){e._clearSelfAndDescendantCache(t)}))}_setChildrenIndices(){var t;null===(t=this.children)||void 0===t||t.forEach((function(t,e){t.index=e})),this._requestDraw()}drawScene(t,e){var i=this.getLayer(),o=t||i&&i.getCanvas(),n=o&&o.getContext(),r=this._getCanvasCache(),s=r&&r.scene,a=o&&o.isCache;if(!this.isVisible()&&!a)return this;if(s){n.save();var l=this.getAbsoluteTransform(e).getMatrix();n.transform(l[0],l[1],l[2],l[3],l[4],l[5]),this._drawCachedSceneCanvas(n),n.restore()}else this._drawChildren("drawScene",o,e);return this}drawHit(t,e){if(!this.shouldDrawHit(e))return this;var i=this.getLayer(),o=t||i&&i.hitCanvas,n=o&&o.getContext(),r=this._getCanvasCache();if(r&&r.hit){n.save();var s=this.getAbsoluteTransform(e).getMatrix();n.transform(s[0],s[1],s[2],s[3],s[4],s[5]),this._drawCachedHitCanvas(n),n.restore()}else this._drawChildren("drawHit",o,e);return this}_drawChildren(t,e,i){var o,n=e&&e.getContext(),r=this.clipWidth(),s=this.clipHeight(),a=this.clipFunc(),l=r&&s||a;const c=i===this;if(l){n.save();var u=this.getAbsoluteTransform(i),h=u.getMatrix();if(n.transform(h[0],h[1],h[2],h[3],h[4],h[5]),n.beginPath(),a)a.call(this,n,this);else{var d=this.clipX(),p=this.clipY();n.rect(d,p,r,s)}n.clip(),h=u.copy().invert().getMatrix(),n.transform(h[0],h[1],h[2],h[3],h[4],h[5])}var f=!c&&"source-over"!==this.globalCompositeOperation()&&"drawScene"===t;f&&(n.save(),n._applyGlobalCompositeOperation(this)),null===(o=this.children)||void 0===o||o.forEach((function(o){o[t](e,i)})),f&&n.restore(),l&&n.restore()}getClientRect(t){var e,i,o,n,r,s=(t=t||{}).skipTransform,a=t.relativeTo,l={x:1/0,y:1/0,width:0,height:0},c=this;null===(e=this.children)||void 0===e||e.forEach((function(e){if(e.visible()){var s=e.getClientRect({relativeTo:c,skipShadow:t.skipShadow,skipStroke:t.skipStroke});0===s.width&&0===s.height||(void 0===i?(i=s.x,o=s.y,n=s.x+s.width,r=s.y+s.height):(i=Math.min(i,s.x),o=Math.min(o,s.y),n=Math.max(n,s.x+s.width),r=Math.max(r,s.y+s.height)))}}));for(var u=this.find("Shape"),h=!1,d=0;d<u.length;d++){if(u[d]._isVisible(this)){h=!0;break}}return l=h&&void 0!==i?{x:i,y:o,width:n-i,height:r-o}:{x:0,y:0,width:0,height:0},s?l:this._transformedRect(l,a)}}e.Container=s,o.Factory.addComponentsGetterSetter(s,"clip",["x","y","width","height"]),o.Factory.addGetterSetter(s,"clipX",void 0,(0,r.getNumberValidator)()),o.Factory.addGetterSetter(s,"clipY",void 0,(0,r.getNumberValidator)()),o.Factory.addGetterSetter(s,"clipWidth",void 0,(0,r.getNumberValidator)()),o.Factory.addGetterSetter(s,"clipHeight",void 0,(0,r.getNumberValidator)()),o.Factory.addGetterSetter(s,"clipFunc")},3442:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HitContext=e.SceneContext=e.Context=void 0;const o=i(8588),n=i(4417);var r=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"];class s{constructor(t){this.canvas=t,n.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(t){t.fillEnabled()&&this._fill(t)}_fill(t){}strokeShape(t){t.hasStroke()&&this._stroke(t)}_stroke(t){}fillStrokeShape(t){t.attrs.fillAfterStrokeEnabled?(this.strokeShape(t),this.fillShape(t)):(this.fillShape(t),this.strokeShape(t))}getTrace(t,e){var i,n,r,s,a=this.traceArr,l=a.length,c="";for(i=0;i<l;i++)(r=(n=a[i]).method)?(s=n.args,c+=r,t?c+="()":o.Util._isArray(s[0])?c+="(["+s.join(",")+"])":(e&&(s=s.map((t=>"number"==typeof t?Math.floor(t):t))),c+="("+s.join(",")+")")):(c+=n.property,t||(c+="="+n.val)),c+=";";return c}clearTrace(){this.traceArr=[]}_trace(t){var e=this.traceArr;e.push(t),e.length>=100&&e.shift()}reset(){var t=this.getCanvas().getPixelRatio();this.setTransform(1*t,0,0,1*t,0,0)}getCanvas(){return this.canvas}clear(t){var e=this.getCanvas();t?this.clearRect(t.x||0,t.y||0,t.width||0,t.height||0):this.clearRect(0,0,e.getWidth()/e.pixelRatio,e.getHeight()/e.pixelRatio)}_applyLineCap(t){const e=t.attrs.lineCap;e&&this.setAttr("lineCap",e)}_applyOpacity(t){var e=t.getAbsoluteOpacity();1!==e&&this.setAttr("globalAlpha",e)}_applyLineJoin(t){const e=t.attrs.lineJoin;e&&this.setAttr("lineJoin",e)}setAttr(t,e){this._context[t]=e}arc(t,e,i,o,n,r){this._context.arc(t,e,i,o,n,r)}arcTo(t,e,i,o,n){this._context.arcTo(t,e,i,o,n)}beginPath(){this._context.beginPath()}bezierCurveTo(t,e,i,o,n,r){this._context.bezierCurveTo(t,e,i,o,n,r)}clearRect(t,e,i,o){this._context.clearRect(t,e,i,o)}clip(){this._context.clip()}closePath(){this._context.closePath()}createImageData(t,e){var i=arguments;return 2===i.length?this._context.createImageData(t,e):1===i.length?this._context.createImageData(t):void 0}createLinearGradient(t,e,i,o){return this._context.createLinearGradient(t,e,i,o)}createPattern(t,e){return this._context.createPattern(t,e)}createRadialGradient(t,e,i,o,n,r){return this._context.createRadialGradient(t,e,i,o,n,r)}drawImage(t,e,i,o,n,r,s,a,l){var c=arguments,u=this._context;3===c.length?u.drawImage(t,e,i):5===c.length?u.drawImage(t,e,i,o,n):9===c.length&&u.drawImage(t,e,i,o,n,r,s,a,l)}ellipse(t,e,i,o,n,r,s,a){this._context.ellipse(t,e,i,o,n,r,s,a)}isPointInPath(t,e,i,o){return i?this._context.isPointInPath(i,t,e,o):this._context.isPointInPath(t,e,o)}fill(t){t?this._context.fill(t):this._context.fill()}fillRect(t,e,i,o){this._context.fillRect(t,e,i,o)}strokeRect(t,e,i,o){this._context.strokeRect(t,e,i,o)}fillText(t,e,i,o){o?this._context.fillText(t,e,i,o):this._context.fillText(t,e,i)}measureText(t){return this._context.measureText(t)}getImageData(t,e,i,o){return this._context.getImageData(t,e,i,o)}lineTo(t,e){this._context.lineTo(t,e)}moveTo(t,e){this._context.moveTo(t,e)}rect(t,e,i,o){this._context.rect(t,e,i,o)}putImageData(t,e,i){this._context.putImageData(t,e,i)}quadraticCurveTo(t,e,i,o){this._context.quadraticCurveTo(t,e,i,o)}restore(){this._context.restore()}rotate(t){this._context.rotate(t)}save(){this._context.save()}scale(t,e){this._context.scale(t,e)}setLineDash(t){this._context.setLineDash?this._context.setLineDash(t):"mozDash"in this._context?this._context.mozDash=t:"webkitLineDash"in this._context&&(this._context.webkitLineDash=t)}getLineDash(){return this._context.getLineDash()}setTransform(t,e,i,o,n,r){this._context.setTransform(t,e,i,o,n,r)}stroke(t){t?this._context.stroke(t):this._context.stroke()}strokeText(t,e,i,o){this._context.strokeText(t,e,i,o)}transform(t,e,i,o,n,r){this._context.transform(t,e,i,o,n,r)}translate(t,e){this._context.translate(t,e)}_enableTrace(){var t,e,i=this,n=r.length,s=this.setAttr,a=function(t){var n,r=i[t];i[t]=function(){return e=function(t){var e,i,n=[],r=t.length,s=o.Util;for(e=0;e<r;e++)i=t[e],s._isNumber(i)?i=Math.round(1e3*i)/1e3:s._isString(i)||(i+=""),n.push(i);return n}(Array.prototype.slice.call(arguments,0)),n=r.apply(i,arguments),i._trace({method:t,args:e}),n}};for(t=0;t<n;t++)a(r[t]);i.setAttr=function(){s.apply(i,arguments);var t=arguments[0],e=arguments[1];"shadowOffsetX"!==t&&"shadowOffsetY"!==t&&"shadowBlur"!==t||(e/=this.canvas.getPixelRatio()),i._trace({property:t,val:e})}}_applyGlobalCompositeOperation(t){const e=t.attrs.globalCompositeOperation;!e||"source-over"===e||this.setAttr("globalCompositeOperation",e)}}e.Context=s,["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"].forEach((function(t){Object.defineProperty(s.prototype,t,{get(){return this._context[t]},set(e){this._context[t]=e}})}));e.SceneContext=class extends s{constructor(t,{willReadFrequently:e=!1}={}){super(t),this._context=t._canvas.getContext("2d",{willReadFrequently:e})}_fillColor(t){var e=t.fill();this.setAttr("fillStyle",e),t._fillFunc(this)}_fillPattern(t){this.setAttr("fillStyle",t._getFillPattern()),t._fillFunc(this)}_fillLinearGradient(t){var e=t._getLinearGradient();e&&(this.setAttr("fillStyle",e),t._fillFunc(this))}_fillRadialGradient(t){const e=t._getRadialGradient();e&&(this.setAttr("fillStyle",e),t._fillFunc(this))}_fill(t){const e=t.fill(),i=t.getFillPriority();if(e&&"color"===i)return void this._fillColor(t);const o=t.getFillPatternImage();if(o&&"pattern"===i)return void this._fillPattern(t);const n=t.getFillLinearGradientColorStops();if(n&&"linear-gradient"===i)return void this._fillLinearGradient(t);const r=t.getFillRadialGradientColorStops();r&&"radial-gradient"===i?this._fillRadialGradient(t):e?this._fillColor(t):o?this._fillPattern(t):n?this._fillLinearGradient(t):r&&this._fillRadialGradient(t)}_strokeLinearGradient(t){const e=t.getStrokeLinearGradientStartPoint(),i=t.getStrokeLinearGradientEndPoint(),o=t.getStrokeLinearGradientColorStops(),n=this.createLinearGradient(e.x,e.y,i.x,i.y);if(o){for(var r=0;r<o.length;r+=2)n.addColorStop(o[r],o[r+1]);this.setAttr("strokeStyle",n)}}_stroke(t){var e=t.dash(),i=t.getStrokeScaleEnabled();if(t.hasStroke()){if(!i){this.save();var o=this.getCanvas().getPixelRatio();this.setTransform(o,0,0,o,0,0)}this._applyLineCap(t),e&&t.dashEnabled()&&(this.setLineDash(e),this.setAttr("lineDashOffset",t.dashOffset())),this.setAttr("lineWidth",t.strokeWidth()),t.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),t.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(t):this.setAttr("strokeStyle",t.stroke()),t._strokeFunc(this),i||this.restore()}}_applyShadow(t){var e,i,o,n=null!==(e=t.getShadowRGBA())&&void 0!==e?e:"black",r=null!==(i=t.getShadowBlur())&&void 0!==i?i:5,s=null!==(o=t.getShadowOffset())&&void 0!==o?o:{x:0,y:0},a=t.getAbsoluteScale(),l=this.canvas.getPixelRatio(),c=a.x*l,u=a.y*l;this.setAttr("shadowColor",n),this.setAttr("shadowBlur",r*Math.min(Math.abs(c),Math.abs(u))),this.setAttr("shadowOffsetX",s.x*c),this.setAttr("shadowOffsetY",s.y*u)}};e.HitContext=class extends s{constructor(t){super(t),this._context=t._canvas.getContext("2d",{willReadFrequently:!0})}_fill(t){this.save(),this.setAttr("fillStyle",t.colorKey),t._fillFuncHit(this),this.restore()}strokeShape(t){t.hasHitStroke()&&this._stroke(t)}_stroke(t){if(t.hasHitStroke()){const n=t.getStrokeScaleEnabled();if(!n){this.save();var e=this.getCanvas().getPixelRatio();this.setTransform(e,0,0,e,0,0)}this._applyLineCap(t);var i=t.hitStrokeWidth(),o="auto"===i?t.strokeWidth():i;this.setAttr("lineWidth",o),this.setAttr("strokeStyle",t.colorKey),t._strokeFuncHit(this),n||this.restore()}}}},210:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DD=void 0;const o=i(4417),n=i(8588);e.DD={get isDragging(){var t=!1;return e.DD._dragElements.forEach((e=>{"dragging"===e.dragStatus&&(t=!0)})),t},justDragged:!1,get node(){var t;return e.DD._dragElements.forEach((e=>{t=e.node})),t},_dragElements:new Map,_drag(t){const i=[];e.DD._dragElements.forEach(((e,o)=>{const{node:r}=e,s=r.getStage();s.setPointersPositions(t),void 0===e.pointerId&&(e.pointerId=n.Util._getFirstPointerId(t));const a=s._changedPointerPositions.find((t=>t.id===e.pointerId));if(a){if("dragging"!==e.dragStatus){var l=r.dragDistance();if(Math.max(Math.abs(a.x-e.startPointerPos.x),Math.abs(a.y-e.startPointerPos.y))<l)return;if(r.startDrag({evt:t}),!r.isDragging())return}r._setDragPosition(t,e),i.push(r)}})),i.forEach((e=>{e.fire("dragmove",{type:"dragmove",target:e,evt:t},!0)}))},_endDragBefore(t){const i=[];e.DD._dragElements.forEach((n=>{const{node:r}=n,s=r.getStage();t&&s.setPointersPositions(t);if(!s._changedPointerPositions.find((t=>t.id===n.pointerId)))return;"dragging"!==n.dragStatus&&"stopped"!==n.dragStatus||(e.DD.justDragged=!0,o.Konva._mouseListenClick=!1,o.Konva._touchListenClick=!1,o.Konva._pointerListenClick=!1,n.dragStatus="stopped");const a=n.node.getLayer()||n.node instanceof o.Konva.Stage&&n.node;a&&-1===i.indexOf(a)&&i.push(a)})),i.forEach((t=>{t.draw()}))},_endDragAfter(t){e.DD._dragElements.forEach(((i,o)=>{"stopped"===i.dragStatus&&i.node.fire("dragend",{type:"dragend",target:i.node,evt:t},!0),"dragging"!==i.dragStatus&&e.DD._dragElements.delete(o)}))}},o.Konva.isBrowser&&(window.addEventListener("mouseup",e.DD._endDragBefore,!0),window.addEventListener("touchend",e.DD._endDragBefore,!0),window.addEventListener("mousemove",e.DD._drag),window.addEventListener("touchmove",e.DD._drag),window.addEventListener("mouseup",e.DD._endDragAfter,!1),window.addEventListener("touchend",e.DD._endDragAfter,!1))},1455:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Factory=void 0;const o=i(8588),n=i(3774);var r="get",s="set";e.Factory={addGetterSetter(t,i,o,n,r){e.Factory.addGetter(t,i,o),e.Factory.addSetter(t,i,n,r),e.Factory.addOverloadedGetterSetter(t,i)},addGetter(t,e,i){var n=r+o.Util._capitalize(e);t.prototype[n]=t.prototype[n]||function(){var t=this.attrs[e];return void 0===t?i:t}},addSetter(t,i,n,r){var a=s+o.Util._capitalize(i);t.prototype[a]||e.Factory.overWriteSetter(t,i,n,r)},overWriteSetter(t,e,i,n){var r=s+o.Util._capitalize(e);t.prototype[r]=function(t){return i&&null!=t&&(t=i.call(this,t,e)),this._setAttr(e,t),n&&n.call(this),this}},addComponentsGetterSetter(t,i,a,l,c){var u,h,d=a.length,p=o.Util._capitalize,f=r+p(i),g=s+p(i);t.prototype[f]=function(){var t={};for(u=0;u<d;u++)t[h=a[u]]=this.getAttr(i+p(h));return t};var m=(0,n.getComponentValidator)(a);t.prototype[g]=function(t){var e,o=this.attrs[i];for(e in l&&(t=l.call(this,t)),m&&m.call(this,t,i),t)t.hasOwnProperty(e)&&this._setAttr(i+p(e),t[e]);return t||a.forEach((t=>{this._setAttr(i+p(t),void 0)})),this._fireChangeEvent(i,o,t),c&&c.call(this),this},e.Factory.addOverloadedGetterSetter(t,i)},addOverloadedGetterSetter(t,e){var i=o.Util._capitalize(e),n=s+i,a=r+i;t.prototype[e]=function(){return arguments.length?(this[n](arguments[0]),this):this[a]()}},addDeprecatedGetterSetter(t,i,n,s){o.Util.error("Adding deprecated "+i);var a=r+o.Util._capitalize(i),l=i+" property is deprecated and will be removed soon. Look at Konva change log for more information.";t.prototype[a]=function(){o.Util.error(l);var t=this.attrs[i];return void 0===t?n:t},e.Factory.addSetter(t,i,s,(function(){o.Util.error(l)})),e.Factory.addOverloadedGetterSetter(t,i)},backCompat(t,e){o.Util.each(e,(function(e,i){var n=t.prototype[i],a=r+o.Util._capitalize(e),l=s+o.Util._capitalize(e);function c(){n.apply(this,arguments),o.Util.error('"'+e+'" method is deprecated and will be removed soon. Use ""'+i+'" instead.')}t.prototype[e]=c,t.prototype[a]=c,t.prototype[l]=c}))},afterSetFilter(){this._filterUpToDate=!1}}},3980:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FastLayer=void 0;const o=i(8588),n=i(4415),r=i(4417);class s extends n.Layer{constructor(t){super(t),this.listening(!1),o.Util.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}}e.FastLayer=s,s.prototype.nodeType="FastLayer",(0,r._registerNode)(s)},4417:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e._registerNode=e.Konva=e.glob=void 0;var o=Math.PI/180;e.glob=void 0!==i.g?i.g:"undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope?self:{},e.Konva={_global:e.glob,version:"9.0.1",isBrowser:"undefined"!=typeof window&&("[object Window]"==={}.toString.call(window)||"[object global]"==={}.toString.call(window)),isUnminified:/param/.test(function(t){}.toString()),dblClickWindow:400,getAngle:t=>e.Konva.angleDeg?t*o:t,enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,pixelRatio:"undefined"!=typeof window&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging:()=>e.Konva.DD.isDragging,isDragReady:()=>!!e.Konva.DD.node,releaseCanvasOnDestroy:!0,document:e.glob.document,_injectGlobal(t){e.glob.Konva=t}};e._registerNode=t=>{e.Konva[t.prototype.getClassName()]=t},e.Konva._injectGlobal(e.Konva)},8985:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Group=void 0;const o=i(8588),n=i(8783),r=i(4417);class s extends n.Container{_validateAdd(t){var e=t.getType();"Group"!==e&&"Shape"!==e&&o.Util.throw("You may only add groups and shapes to groups.")}}e.Group=s,s.prototype.nodeType="Group",(0,r._registerNode)(s)},4415:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Layer=void 0;const o=i(8588),n=i(8783),r=i(7939),s=i(1455),a=i(4842),l=i(3774),c=i(7955),u=i(4417);var h=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],d=h.length;class p extends n.Container{constructor(t){super(t),this.canvas=new a.SceneCanvas,this.hitCanvas=new a.HitCanvas({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(t){return this.getContext().clear(t),this.getHitCanvas().getContext().clear(t),this}setZIndex(t){super.setZIndex(t);var e=this.getStage();return e&&e.content&&(e.content.removeChild(this.getNativeCanvasElement()),t<e.children.length-1?e.content.insertBefore(this.getNativeCanvasElement(),e.children[t+1].getCanvas()._canvas):e.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){r.Node.prototype.moveToTop.call(this);var t=this.getStage();return t&&t.content&&(t.content.removeChild(this.getNativeCanvasElement()),t.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!r.Node.prototype.moveUp.call(this))return!1;var t=this.getStage();return!(!t||!t.content)&&(t.content.removeChild(this.getNativeCanvasElement()),this.index<t.children.length-1?t.content.insertBefore(this.getNativeCanvasElement(),t.children[this.index+1].getCanvas()._canvas):t.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(r.Node.prototype.moveDown.call(this)){var t=this.getStage();if(t){var e=t.children;t.content&&(t.content.removeChild(this.getNativeCanvasElement()),t.content.insertBefore(this.getNativeCanvasElement(),e[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(r.Node.prototype.moveToBottom.call(this)){var t=this.getStage();if(t){var e=t.children;t.content&&(t.content.removeChild(this.getNativeCanvasElement()),t.content.insertBefore(this.getNativeCanvasElement(),e[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){var t=this.getNativeCanvasElement();return r.Node.prototype.remove.call(this),t&&t.parentNode&&o.Util._isInDocument(t)&&t.parentNode.removeChild(t),this}getStage(){return this.parent}setSize({width:t,height:e}){return this.canvas.setSize(t,e),this.hitCanvas.setSize(t,e),this._setSmoothEnabled(),this}_validateAdd(t){var e=t.getType();"Group"!==e&&"Shape"!==e&&o.Util.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(t){return(t=t||{}).width=t.width||this.getWidth(),t.height=t.height||this.getHeight(),t.x=void 0!==t.x?t.x:this.x(),t.y=void 0!==t.y?t.y:this.y(),r.Node.prototype._toKonvaCanvas.call(this,t)}_checkVisibility(){const t=this.visible();this.canvas._canvas.style.display=t?"block":"none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){o.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){o.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,o.Util.requestAnimFrame((()=>{this.draw(),this._waitingForDraw=!1}))),this}getIntersection(t){if(!this.isListening()||!this.isVisible())return null;for(var e=1,i=!1;;){for(let o=0;o<d;o++){const n=h[o],r=this._getIntersection({x:t.x+n.x*e,y:t.y+n.y*e}),s=r.shape;if(s)return s;if(i=!!r.antialiased,!r.antialiased)break}if(!i)return null;e+=1}}_getIntersection(t){const e=this.hitCanvas.pixelRatio,i=this.hitCanvas.context.getImageData(Math.round(t.x*e),Math.round(t.y*e),1,1).data,n=i[3];if(255===n){const t=o.Util._rgbToHex(i[0],i[1],i[2]),e=c.shapes["#"+t];return e?{shape:e}:{antialiased:!0}}return n>0?{antialiased:!0}:{}}drawScene(t,e){var i=this.getLayer(),o=t||i&&i.getCanvas();return this._fire("beforeDraw",{node:this}),this.clearBeforeDraw()&&o.getContext().clear(),n.Container.prototype.drawScene.call(this,o,e),this._fire("draw",{node:this}),this}drawHit(t,e){var i=this.getLayer(),o=t||i&&i.hitCanvas;return i&&i.clearBeforeDraw()&&i.getHitCanvas().getContext().clear(),n.Container.prototype.drawHit.call(this,o,e),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(t){o.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(t)}getHitGraphEnabled(t){return o.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(this.parent&&this.parent.content){var t=this.parent;!!this.hitCanvas._canvas.parentNode?t.content.removeChild(this.hitCanvas._canvas):t.content.appendChild(this.hitCanvas._canvas)}}destroy(){return o.Util.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}}e.Layer=p,p.prototype.nodeType="Layer",(0,u._registerNode)(p),s.Factory.addGetterSetter(p,"imageSmoothingEnabled",!0),s.Factory.addGetterSetter(p,"clearBeforeDraw",!0),s.Factory.addGetterSetter(p,"hitGraphEnabled",!0,(0,l.getBooleanValidator)())},7939:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Node=void 0;const o=i(8588),n=i(1455),r=i(4842),s=i(4417),a=i(210),l=i(3774);var c="absoluteOpacity",u="allEventListeners",h="absoluteTransform",d="absoluteScale",p="canvas",f="listening",g="mouseenter",m="mouseleave",y="Shape",v=" ",_="stage",C="transform",b="visible",E=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(v);let S=1;class w{constructor(t){this._id=S++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(t),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(t){t!==C&&t!==h||!this._cache.get(t)?t?this._cache.delete(t):this._cache.clear():this._cache.get(t).dirty=!0}_getCache(t,e){var i=this._cache.get(t);return(void 0===i||(t===C||t===h)&&!0===i.dirty)&&(i=e.call(this),this._cache.set(t,i)),i}_calculate(t,e,i){if(!this._attachedDepsListeners.get(t)){const i=e.map((t=>t+"Change.konva")).join(v);this.on(i,(()=>{this._clearCache(t)})),this._attachedDepsListeners.set(t,!0)}return this._getCache(t,i)}_getCanvasCache(){return this._cache.get(p)}_clearSelfAndDescendantCache(t){this._clearCache(t),t===h&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(p)){const{scene:t,filter:e,hit:i}=this._cache.get(p);o.Util.releaseCanvas(t,e,i),this._cache.delete(p)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(t){var e=t||{},i={};void 0!==e.x&&void 0!==e.y&&void 0!==e.width&&void 0!==e.height||(i=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()}));var n=Math.ceil(e.width||i.width),s=Math.ceil(e.height||i.height),a=e.pixelRatio,l=void 0===e.x?Math.floor(i.x):e.x,u=void 0===e.y?Math.floor(i.y):e.y,h=e.offset||0,f=e.drawBorder||!1,g=e.hitCanvasPixelRatio||1;if(n&&s){n+=2*h+1,s+=2*h+1,l-=h,u-=h;var m=new r.SceneCanvas({pixelRatio:a,width:n,height:s}),y=new r.SceneCanvas({pixelRatio:a,width:0,height:0,willReadFrequently:!0}),v=new r.HitCanvas({pixelRatio:g,width:n,height:s}),_=m.getContext(),C=v.getContext();return v.isCache=!0,m.isCache=!0,this._cache.delete(p),this._filterUpToDate=!1,!1===e.imageSmoothingEnabled&&(m.getContext()._context.imageSmoothingEnabled=!1,y.getContext()._context.imageSmoothingEnabled=!1),_.save(),C.save(),_.translate(-l,-u),C.translate(-l,-u),this._isUnderCache=!0,this._clearSelfAndDescendantCache(c),this._clearSelfAndDescendantCache(d),this.drawScene(m,this),this.drawHit(v,this),this._isUnderCache=!1,_.restore(),C.restore(),f&&(_.save(),_.beginPath(),_.rect(0,0,n,s),_.closePath(),_.setAttr("strokeStyle","red"),_.setAttr("lineWidth",5),_.stroke(),_.restore()),this._cache.set(p,{scene:m,filter:y,hit:v,x:l,y:u}),this._requestDraw(),this}o.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.")}isCached(){return this._cache.has(p)}getClientRect(t){throw new Error('abstract "getClientRect" method call')}_transformedRect(t,e){var i,o,n,r,s=[{x:t.x,y:t.y},{x:t.x+t.width,y:t.y},{x:t.x+t.width,y:t.y+t.height},{x:t.x,y:t.y+t.height}],a=this.getAbsoluteTransform(e);return s.forEach((function(t){var e=a.point(t);void 0===i&&(i=n=e.x,o=r=e.y),i=Math.min(i,e.x),o=Math.min(o,e.y),n=Math.max(n,e.x),r=Math.max(r,e.y)})),{x:i,y:o,width:n-i,height:r-o}}_drawCachedSceneCanvas(t){t.save(),t._applyOpacity(this),t._applyGlobalCompositeOperation(this);const e=this._getCanvasCache();t.translate(e.x,e.y);var i=this._getCachedSceneCanvas(),o=i.pixelRatio;t.drawImage(i._canvas,0,0,i.width/o,i.height/o),t.restore()}_drawCachedHitCanvas(t){var e=this._getCanvasCache(),i=e.hit;t.save(),t.translate(e.x,e.y),t.drawImage(i._canvas,0,0,i.width/i.pixelRatio,i.height/i.pixelRatio),t.restore()}_getCachedSceneCanvas(){var t,e,i,n,r=this.filters(),s=this._getCanvasCache(),a=s.scene,l=s.filter,c=l.getContext();if(r){if(!this._filterUpToDate){var u=a.pixelRatio;l.setSize(a.width/a.pixelRatio,a.height/a.pixelRatio);try{for(t=r.length,c.clear(),c.drawImage(a._canvas,0,0,a.getWidth()/u,a.getHeight()/u),e=c.getImageData(0,0,l.getWidth(),l.getHeight()),i=0;i<t;i++)"function"==typeof(n=r[i])?(n.call(this,e),c.putImageData(e,0,0)):o.Util.error("Filter should be type of function, but got "+typeof n+" instead. Please check correct filters")}catch(t){o.Util.error("Unable to apply filter. "+t.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return l}return a}on(t,e){if(this._cache&&this._cache.delete(u),3===arguments.length)return this._delegate.apply(this,arguments);var i,o,n,r,s=t.split(v),a=s.length;for(i=0;i<a;i++)n=(o=s[i].split("."))[0],r=o[1]||"",this.eventListeners[n]||(this.eventListeners[n]=[]),this.eventListeners[n].push({name:r,handler:e});return this}off(t,e){var i,o,n,r,s,a=(t||"").split(v),l=a.length;if(this._cache&&this._cache.delete(u),!t)for(o in this.eventListeners)this._off(o);for(i=0;i<l;i++)if(r=(n=a[i].split("."))[0],s=n[1],r)this.eventListeners[r]&&this._off(r,s,e);else for(o in this.eventListeners)this._off(o,s,e);return this}dispatchEvent(t){var e={target:this,type:t.type,evt:t};return this.fire(t.type,e),this}addEventListener(t,e){return this.on(t,(function(t){e.call(this,t.evt)})),this}removeEventListener(t){return this.off(t),this}_delegate(t,e,i){var n=this;this.on(t,(function(t){for(var r=t.target.findAncestors(e,!0,n),s=0;s<r.length;s++)(t=o.Util.cloneObject(t)).currentTarget=r[s],i.call(r[s],t)}))}remove(){return this.isDragging()&&this.stopDrag(),a.DD._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(h),this._clearSelfAndDescendantCache(c),this._clearSelfAndDescendantCache(d),this._clearSelfAndDescendantCache(_),this._clearSelfAndDescendantCache(b),this._clearSelfAndDescendantCache(f)}_remove(){this._clearCaches();var t=this.getParent();t&&t.children&&(t.children.splice(this.index,1),t._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(t){var e="get"+o.Util._capitalize(t);return o.Util._isFunction(this[e])?this[e]():this.attrs[t]}getAncestors(){for(var t=this.getParent(),e=[];t;)e.push(t),t=t.getParent();return e}getAttrs(){return this.attrs||{}}setAttrs(t){return this._batchTransformChanges((()=>{var e,i;if(!t)return this;for(e in t)"children"!==e&&(i="set"+o.Util._capitalize(e),o.Util._isFunction(this[i])?this[i](t[e]):this._setAttr(e,t[e]))})),this}isListening(){return this._getCache(f,this._isListening)}_isListening(t){if(!this.listening())return!1;const e=this.getParent();return!e||e===t||this===t||e._isListening(t)}isVisible(){return this._getCache(b,this._isVisible)}_isVisible(t){if(!this.visible())return!1;const e=this.getParent();return!e||e===t||this===t||e._isVisible(t)}shouldDrawHit(t,e=!1){if(t)return this._isVisible(t)&&this._isListening(t);var i=this.getLayer(),o=!1;a.DD._dragElements.forEach((t=>{"dragging"===t.dragStatus&&("Stage"===t.node.nodeType||t.node.getLayer()===i)&&(o=!0)}));var n=!e&&!s.Konva.hitOnDragEnabled&&o;return this.isListening()&&this.isVisible()&&!n}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){var t,e,i,o,n=this.getDepth(),r=this,s=0;return"Stage"!==r.nodeType&&function a(l){for(t=[],e=l.length,i=0;i<e;i++)o=l[i],s++,o.nodeType!==y&&(t=t.concat(o.getChildren().slice())),o._id===r._id&&(i=e);t.length>0&&t[0].getDepth()<=n&&a(t)}(r.getStage().getChildren()),s}getDepth(){for(var t=0,e=this.parent;e;)t++,e=e.parent;return t}_batchTransformChanges(t){this._batchingTransformChange=!0,t(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(C),this._clearSelfAndDescendantCache(h)),this._needClearTransformCache=!1}setPosition(t){return this._batchTransformChanges((()=>{this.x(t.x),this.y(t.y)})),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){if(!this.getStage())return null;var t=this.getStage().getPointerPosition();if(!t)return null;var e=this.getAbsoluteTransform().copy();return e.invert(),e.point(t)}getAbsolutePosition(t){let e=!1,i=this.parent;for(;i;){if(i.isCached()){e=!0;break}i=i.parent}e&&!t&&(t=!0);var n=this.getAbsoluteTransform(t).getMatrix(),r=new o.Transform,s=this.offset();return r.m=n.slice(),r.translate(s.x,s.y),r.getTranslation()}setAbsolutePosition(t){var e=this._clearTransform();this.attrs.x=e.x,this.attrs.y=e.y,delete e.x,delete e.y,this._clearCache(C);var i=this._getAbsoluteTransform().copy();return i.invert(),i.translate(t.x,t.y),t={x:this.attrs.x+i.getTranslation().x,y:this.attrs.y+i.getTranslation().y},this._setTransform(e),this.setPosition({x:t.x,y:t.y}),this._clearCache(C),this._clearSelfAndDescendantCache(h),this}_setTransform(t){var e;for(e in t)this.attrs[e]=t[e]}_clearTransform(){var t={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,t}move(t){var e=t.x,i=t.y,o=this.x(),n=this.y();return void 0!==e&&(o+=e),void 0!==i&&(n+=i),this.setPosition({x:o,y:n}),this}_eachAncestorReverse(t,e){var i,o,n=[],r=this.getParent();if(!e||e._id!==this._id){for(n.unshift(this);r&&(!e||r._id!==e._id);)n.unshift(r),r=r.parent;for(i=n.length,o=0;o<i;o++)t(n[o])}}rotate(t){return this.rotation(this.rotation()+t),this}moveToTop(){if(!this.parent)return o.Util.warn("Node has no parent. moveToTop function is ignored."),!1;var t=this.index;return t<this.parent.getChildren().length-1&&(this.parent.children.splice(t,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0)}moveUp(){if(!this.parent)return o.Util.warn("Node has no parent. moveUp function is ignored."),!1;var t=this.index;return t<this.parent.getChildren().length-1&&(this.parent.children.splice(t,1),this.parent.children.splice(t+1,0,this),this.parent._setChildrenIndices(),!0)}moveDown(){if(!this.parent)return o.Util.warn("Node has no parent. moveDown function is ignored."),!1;var t=this.index;return t>0&&(this.parent.children.splice(t,1),this.parent.children.splice(t-1,0,this),this.parent._setChildrenIndices(),!0)}moveToBottom(){if(!this.parent)return o.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;var t=this.index;return t>0&&(this.parent.children.splice(t,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0)}setZIndex(t){if(!this.parent)return o.Util.warn("Node has no parent. zIndex parameter is ignored."),this;(t<0||t>=this.parent.children.length)&&o.Util.warn("Unexpected value "+t+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");var e=this.index;return this.parent.children.splice(e,1),this.parent.children.splice(t,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(c,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){var t=this.opacity(),e=this.getParent();return e&&!e._isUnderCache&&(t*=e.getAbsoluteOpacity()),t}moveTo(t){return this.getParent()!==t&&(this._remove(),t.add(this)),this}toObject(){var t,e,i,n,r={},s=this.getAttrs();for(t in r.attrs={},s)e=s[t],o.Util.isObject(e)&&!o.Util._isPlainObject(e)&&!o.Util._isArray(e)||(i="function"==typeof this[t]&&this[t],delete s[t],n=i?i.call(this):null,s[t]=e,n!==e&&(r.attrs[t]=e));return r.className=this.getClassName(),o.Util._prepareToStringify(r)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(t,e,i){var o=[];e&&this._isMatch(t)&&o.push(this);for(var n=this.parent;n;){if(n===i)return o;n._isMatch(t)&&o.push(n),n=n.parent}return o}isAncestorOf(t){return!1}findAncestor(t,e,i){return this.findAncestors(t,e,i)[0]}_isMatch(t){if(!t)return!1;if("function"==typeof t)return t(this);var e,i,n=t.replace(/ /g,"").split(","),r=n.length;for(e=0;e<r;e++)if(i=n[e],o.Util.isValidSelector(i)||(o.Util.warn('Selector "'+i+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),o.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),o.Util.warn("Konva is awesome, right?")),"#"===i.charAt(0)){if(this.id()===i.slice(1))return!0}else if("."===i.charAt(0)){if(this.hasName(i.slice(1)))return!0}else if(this.className===i||this.nodeType===i)return!0;return!1}getLayer(){var t=this.getParent();return t?t.getLayer():null}getStage(){return this._getCache(_,this._getStage)}_getStage(){var t=this.getParent();return t?t.getStage():void 0}fire(t,e={},i){return e.target=e.target||this,i?this._fireAndBubble(t,e):this._fire(t,e),this}getAbsoluteTransform(t){return t?this._getAbsoluteTransform(t):this._getCache(h,this._getAbsoluteTransform)}_getAbsoluteTransform(t){var e;if(t)return e=new o.Transform,this._eachAncestorReverse((function(t){var i=t.transformsEnabled();"all"===i?e.multiply(t.getTransform()):"position"===i&&e.translate(t.x()-t.offsetX(),t.y()-t.offsetY())}),t),e;e=this._cache.get(h)||new o.Transform,this.parent?this.parent.getAbsoluteTransform().copyInto(e):e.reset();var i=this.transformsEnabled();if("all"===i)e.multiply(this.getTransform());else if("position"===i){const t=this.attrs.x||0,i=this.attrs.y||0,o=this.attrs.offsetX||0,n=this.attrs.offsetY||0;e.translate(t-o,i-n)}return e.dirty=!1,e}getAbsoluteScale(t){for(var e=this;e;)e._isUnderCache&&(t=e),e=e.getParent();const i=this.getAbsoluteTransform(t).decompose();return{x:i.scaleX,y:i.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(C,this._getTransform)}_getTransform(){var t,e,i=this._cache.get(C)||new o.Transform;i.reset();var n=this.x(),r=this.y(),a=s.Konva.getAngle(this.rotation()),l=null!==(t=this.attrs.scaleX)&&void 0!==t?t:1,c=null!==(e=this.attrs.scaleY)&&void 0!==e?e:1,u=this.attrs.skewX||0,h=this.attrs.skewY||0,d=this.attrs.offsetX||0,p=this.attrs.offsetY||0;return 0===n&&0===r||i.translate(n,r),0!==a&&i.rotate(a),0===u&&0===h||i.skew(u,h),1===l&&1===c||i.scale(l,c),0===d&&0===p||i.translate(-1*d,-1*p),i.dirty=!1,i}clone(t){var e,i,n,r,s,a=o.Util.cloneObject(this.attrs);for(e in t)a[e]=t[e];var l=new this.constructor(a);for(e in this.eventListeners)for(n=(i=this.eventListeners[e]).length,r=0;r<n;r++)(s=i[r]).name.indexOf("konva")<0&&(l.eventListeners[e]||(l.eventListeners[e]=[]),l.eventListeners[e].push(s));return l}_toKonvaCanvas(t){t=t||{};var e=this.getClientRect(),i=this.getStage(),o=void 0!==t.x?t.x:Math.floor(e.x),n=void 0!==t.y?t.y:Math.floor(e.y),s=t.pixelRatio||1,a=new r.SceneCanvas({width:t.width||Math.ceil(e.width)||(i?i.width():0),height:t.height||Math.ceil(e.height)||(i?i.height():0),pixelRatio:s}),l=a.getContext();return!1===t.imageSmoothingEnabled&&(l._context.imageSmoothingEnabled=!1),l.save(),(o||n)&&l.translate(-1*o,-1*n),this.drawScene(a),l.restore(),a}toCanvas(t){return this._toKonvaCanvas(t)._canvas}toDataURL(t){var e=(t=t||{}).mimeType||null,i=t.quality||null,o=this._toKonvaCanvas(t).toDataURL(e,i);return t.callback&&t.callback(o),o}toImage(t){return new Promise(((e,i)=>{try{const i=null==t?void 0:t.callback;i&&delete t.callback,o.Util._urlToImage(this.toDataURL(t),(function(t){e(t),null==i||i(t)}))}catch(t){i(t)}}))}toBlob(t){return new Promise(((e,i)=>{try{const i=null==t?void 0:t.callback;i&&delete t.callback,this.toCanvas(t).toBlob((t=>{e(t),null==i||i(t)}))}catch(t){i(t)}}))}setSize(t){return this.width(t.width),this.height(t.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return void 0!==this.attrs.dragDistance?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():s.Konva.dragDistance}_off(t,e,i){var o,n,r,s=this.eventListeners[t];for(o=0;o<s.length;o++)if(n=s[o].name,r=s[o].handler,!("konva"===n&&"konva"!==e||e&&n!==e||i&&i!==r)){if(s.splice(o,1),0===s.length){delete this.eventListeners[t];break}o--}}_fireChangeEvent(t,e,i){this._fire(t+"Change",{oldVal:e,newVal:i})}addName(t){if(!this.hasName(t)){var e=this.name(),i=e?e+" "+t:t;this.name(i)}return this}hasName(t){if(!t)return!1;const e=this.name();return!!e&&-1!==(e||"").split(/\s/g).indexOf(t)}removeName(t){var e=(this.name()||"").split(/\s/g),i=e.indexOf(t);return-1!==i&&(e.splice(i,1),this.name(e.join(" "))),this}setAttr(t,e){var i=this["set"+o.Util._capitalize(t)];return o.Util._isFunction(i)?i.call(this,e):this._setAttr(t,e),this}_requestDraw(){if(s.Konva.autoDrawEnabled){const t=this.getLayer()||this.getStage();null==t||t.batchDraw()}}_setAttr(t,e){var i=this.attrs[t];(i!==e||o.Util.isObject(e))&&(null==e?delete this.attrs[t]:this.attrs[t]=e,this._shouldFireChangeEvents&&this._fireChangeEvent(t,i,e),this._requestDraw())}_setComponentAttr(t,e,i){var o;void 0!==i&&((o=this.attrs[t])||(this.attrs[t]=this.getAttr(t)),this.attrs[t][e]=i,this._fireChangeEvent(t,o,i))}_fireAndBubble(t,e,i){if(e&&this.nodeType===y&&(e.target=this),!((t===g||t===m)&&(i&&(this===i||this.isAncestorOf&&this.isAncestorOf(i))||"Stage"===this.nodeType&&!i))){this._fire(t,e);var o=(t===g||t===m)&&i&&i.isAncestorOf&&i.isAncestorOf(this)&&!i.isAncestorOf(this.parent);(e&&!e.cancelBubble||!e)&&this.parent&&this.parent.isListening()&&!o&&(i&&i.parent?this._fireAndBubble.call(this.parent,t,e,i):this._fireAndBubble.call(this.parent,t,e))}}_getProtoListeners(t){var e,i,o;const n=null!==(e=this._cache.get(u))&&void 0!==e?e:{};let r=null==n?void 0:n[t];if(void 0===r){r=[];let e=Object.getPrototypeOf(this);for(;e;){const n=null!==(o=null===(i=e.eventListeners)||void 0===i?void 0:i[t])&&void 0!==o?o:[];r.push(...n),e=Object.getPrototypeOf(e)}n[t]=r,this._cache.set(u,n)}return r}_fire(t,e){(e=e||{}).currentTarget=this,e.type=t;const i=this._getProtoListeners(t);if(i)for(var o=0;o<i.length;o++)i[o].handler.call(this,e);const n=this.eventListeners[t];if(n)for(o=0;o<n.length;o++)n[o].handler.call(this,e)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(t){var e=t?t.pointerId:void 0,i=this.getStage(),o=this.getAbsolutePosition(),n=i._getPointerById(e)||i._changedPointerPositions[0]||o;a.DD._dragElements.set(this._id,{node:this,startPointerPos:n,offset:{x:n.x-o.x,y:n.y-o.y},dragStatus:"ready",pointerId:e})}startDrag(t,e=!0){a.DD._dragElements.has(this._id)||this._createDragElement(t);a.DD._dragElements.get(this._id).dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:t&&t.evt},e)}_setDragPosition(t,e){const i=this.getStage()._getPointerById(e.pointerId);if(i){var n={x:i.x-e.offset.x,y:i.y-e.offset.y},r=this.dragBoundFunc();if(void 0!==r){const e=r.call(this,n,t);e?n=e:o.Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}this._lastPos&&this._lastPos.x===n.x&&this._lastPos.y===n.y||(this.setAbsolutePosition(n),this._requestDraw()),this._lastPos=n}}stopDrag(t){const e=a.DD._dragElements.get(this._id);e&&(e.dragStatus="stopped"),a.DD._endDragBefore(t),a.DD._endDragAfter(t)}setDraggable(t){this._setAttr("draggable",t),this._dragChange()}isDragging(){const t=a.DD._dragElements.get(this._id);return!!t&&"dragging"===t.dragStatus}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",(function(t){if((!(void 0!==t.evt.button)||s.Konva.dragButtons.indexOf(t.evt.button)>=0)&&!this.isDragging()){var e=!1;a.DD._dragElements.forEach((t=>{this.isAncestorOf(t.node)&&(e=!0)})),e||this._createDragElement(t)}}))}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;const t=a.DD._dragElements.get(this._id),e=t&&"dragging"===t.dragStatus,i=t&&"ready"===t.dragStatus;e?this.stopDrag():i&&a.DD._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(t={x:0,y:0}){const e=this.getStage();if(!e)return!1;const i={x:-t.x,y:-t.y,width:e.width()+2*t.x,height:e.height()+2*t.y};return o.Util.haveIntersection(i,this.getClientRect())}static create(t,e){return o.Util._isString(t)&&(t=JSON.parse(t)),this._createNode(t,e)}static _createNode(t,e){var i,n,r,a=w.prototype.getClassName.call(t),l=t.children;e&&(t.attrs.container=e),s.Konva[a]||(o.Util.warn('Can not find a node with class name "'+a+'". Fallback to "Shape".'),a="Shape");if(i=new(0,s.Konva[a])(t.attrs),l)for(n=l.length,r=0;r<n;r++)i.add(w._createNode(l[r]));return i}}e.Node=w,w.prototype.nodeType="Node",w.prototype._attrsAffectingSize=[],w.prototype.eventListeners={},w.prototype.on.call(w.prototype,E,(function(){this._batchingTransformChange?this._needClearTransformCache=!0:(this._clearCache(C),this._clearSelfAndDescendantCache(h))})),w.prototype.on.call(w.prototype,"visibleChange.konva",(function(){this._clearSelfAndDescendantCache(b)})),w.prototype.on.call(w.prototype,"listeningChange.konva",(function(){this._clearSelfAndDescendantCache(f)})),w.prototype.on.call(w.prototype,"opacityChange.konva",(function(){this._clearSelfAndDescendantCache(c)}));const O=n.Factory.addGetterSetter;O(w,"zIndex"),O(w,"absolutePosition"),O(w,"position"),O(w,"x",0,(0,l.getNumberValidator)()),O(w,"y",0,(0,l.getNumberValidator)()),O(w,"globalCompositeOperation","source-over",(0,l.getStringValidator)()),O(w,"opacity",1,(0,l.getNumberValidator)()),O(w,"name","",(0,l.getStringValidator)()),O(w,"id","",(0,l.getStringValidator)()),O(w,"rotation",0,(0,l.getNumberValidator)()),n.Factory.addComponentsGetterSetter(w,"scale",["x","y"]),O(w,"scaleX",1,(0,l.getNumberValidator)()),O(w,"scaleY",1,(0,l.getNumberValidator)()),n.Factory.addComponentsGetterSetter(w,"skew",["x","y"]),O(w,"skewX",0,(0,l.getNumberValidator)()),O(w,"skewY",0,(0,l.getNumberValidator)()),n.Factory.addComponentsGetterSetter(w,"offset",["x","y"]),O(w,"offsetX",0,(0,l.getNumberValidator)()),O(w,"offsetY",0,(0,l.getNumberValidator)()),O(w,"dragDistance",null,(0,l.getNumberValidator)()),O(w,"width",0,(0,l.getNumberValidator)()),O(w,"height",0,(0,l.getNumberValidator)()),O(w,"listening",!0,(0,l.getBooleanValidator)()),O(w,"preventDefault",!0,(0,l.getBooleanValidator)()),O(w,"filters",null,(function(t){return this._filterUpToDate=!1,t})),O(w,"visible",!0,(0,l.getBooleanValidator)()),O(w,"transformsEnabled","all",(0,l.getStringValidator)()),O(w,"size"),O(w,"dragBoundFunc"),O(w,"draggable",!1,(0,l.getBooleanValidator)()),n.Factory.backCompat(w,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"})},8479:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.releaseCapture=e.setPointerCapture=e.hasPointerCapture=e.createEvent=e.getCapturedShape=void 0;const o=i(4417),n=new Map,r=void 0!==o.Konva._global.PointerEvent;function s(t){return{evt:t,pointerId:t.pointerId}}function a(t,e){const i=n.get(t);if(!i)return;const o=i.getStage();o&&o.content,n.delete(t),r&&i._fire("lostpointercapture",s(new PointerEvent("lostpointercapture")))}e.getCapturedShape=function(t){return n.get(t)},e.createEvent=s,e.hasPointerCapture=function(t,e){return n.get(t)===e},e.setPointerCapture=function(t,e){a(t),e.getStage()&&(n.set(t,e),r&&e._fire("gotpointercapture",s(new PointerEvent("gotpointercapture"))))},e.releaseCapture=a},7955:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Shape=e.shapes=void 0;const o=i(4417),n=i(8588),r=i(1455),s=i(7939),a=i(3774),l=i(4417),c=i(8479);var u="hasShadow",h="shadowRGBA",d="patternImage",p="linearGradient",f="radialGradient";let g;function m(){return g||(g=n.Util.createCanvasElement().getContext("2d"),g)}e.shapes={};class y extends s.Node{constructor(t){let i;for(super(t);i=n.Util.getRandomColor(),!i||i in e.shapes;);this.colorKey=i,e.shapes[i]=this}getContext(){return n.Util.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return n.Util.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(u,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&0!==this.shadowOpacity()&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(d,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){const t=m().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(t&&t.setTransform){const e=new n.Transform;e.translate(this.fillPatternX(),this.fillPatternY()),e.rotate(o.Konva.getAngle(this.fillPatternRotation())),e.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),e.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const i=e.getMatrix(),r="undefined"==typeof DOMMatrix?{a:i[0],b:i[1],c:i[2],d:i[3],e:i[4],f:i[5]}:new DOMMatrix(i);t.setTransform(r)}return t}}_getLinearGradient(){return this._getCache(p,this.__getLinearGradient)}__getLinearGradient(){var t=this.fillLinearGradientColorStops();if(t){for(var e=m(),i=this.fillLinearGradientStartPoint(),o=this.fillLinearGradientEndPoint(),n=e.createLinearGradient(i.x,i.y,o.x,o.y),r=0;r<t.length;r+=2)n.addColorStop(t[r],t[r+1]);return n}}_getRadialGradient(){return this._getCache(f,this.__getRadialGradient)}__getRadialGradient(){var t=this.fillRadialGradientColorStops();if(t){for(var e=m(),i=this.fillRadialGradientStartPoint(),o=this.fillRadialGradientEndPoint(),n=e.createRadialGradient(i.x,i.y,this.fillRadialGradientStartRadius(),o.x,o.y,this.fillRadialGradientEndRadius()),r=0;r<t.length;r+=2)n.addColorStop(t[r],t[r+1]);return n}}getShadowRGBA(){return this._getCache(h,this._getShadowRGBA)}_getShadowRGBA(){if(this.hasShadow()){var t=n.Util.colorToRGBA(this.shadowColor());return t?"rgba("+t.r+","+t.g+","+t.b+","+t.a*(this.shadowOpacity()||1)+")":void 0}}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],(()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops())))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],(()=>this.strokeEnabled()&&this.strokeWidth()&&!(!this.stroke()&&!this.strokeLinearGradientColorStops())))}hasHitStroke(){const t=this.hitStrokeWidth();return"auto"===t?this.hasStroke():this.strokeEnabled()&&!!t}intersects(t){var e=this.getStage().bufferHitCanvas;return e.getContext().clear(),this.drawHit(e,null,!0),e.context.getImageData(Math.round(t.x),Math.round(t.y),1,1).data[3]>0}destroy(){return s.Node.prototype.destroy.call(this),delete e.shapes[this.colorKey],delete this.colorKey,this}_useBufferCanvas(t){var e;if(!this.getStage())return!1;if(!(null===(e=this.attrs.perfectDrawEnabled)||void 0===e||e))return!1;const i=t||this.hasFill(),o=this.hasStroke(),n=1!==this.getAbsoluteOpacity();if(i&&o&&n)return!0;const r=this.hasShadow(),s=this.shadowForStrokeEnabled();return!!(i&&o&&r&&s)}setStrokeHitEnabled(t){n.Util.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),t?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return 0!==this.hitStrokeWidth()}getSelfRect(){var t=this.size();return{x:this._centroid?-t.width/2:0,y:this._centroid?-t.height/2:0,width:t.width,height:t.height}}getClientRect(t={}){const e=t.skipTransform,i=t.relativeTo,o=this.getSelfRect(),n=!t.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,r=o.width+n,s=o.height+n,a=!t.skipShadow&&this.hasShadow(),l=a?this.shadowOffsetX():0,c=a?this.shadowOffsetY():0,u=r+Math.abs(l),h=s+Math.abs(c),d=a&&this.shadowBlur()||0,p={width:u+2*d,height:h+2*d,x:-(n/2+d)+Math.min(l,0)+o.x,y:-(n/2+d)+Math.min(c,0)+o.y};return e?p:this._transformedRect(p,i)}drawScene(t,e){var i,o,n=this.getLayer(),r=t||n.getCanvas(),s=r.getContext(),a=this._getCanvasCache(),l=this.getSceneFunc(),c=this.hasShadow(),u=r.isCache,h=e===this;if(!this.isVisible()&&!h)return this;if(a){s.save();var d=this.getAbsoluteTransform(e).getMatrix();return s.transform(d[0],d[1],d[2],d[3],d[4],d[5]),this._drawCachedSceneCanvas(s),s.restore(),this}if(!l)return this;if(s.save(),this._useBufferCanvas()&&!u){(o=(i=this.getStage().bufferCanvas).getContext()).clear(),o.save(),o._applyLineJoin(this);var p=this.getAbsoluteTransform(e).getMatrix();o.transform(p[0],p[1],p[2],p[3],p[4],p[5]),l.call(this,o,this),o.restore();var f=i.pixelRatio;c&&s._applyShadow(this),s._applyOpacity(this),s._applyGlobalCompositeOperation(this),s.drawImage(i._canvas,0,0,i.width/f,i.height/f)}else{if(s._applyLineJoin(this),!h){p=this.getAbsoluteTransform(e).getMatrix();s.transform(p[0],p[1],p[2],p[3],p[4],p[5]),s._applyOpacity(this),s._applyGlobalCompositeOperation(this)}c&&s._applyShadow(this),l.call(this,s,this)}return s.restore(),this}drawHit(t,e,i=!1){if(!this.shouldDrawHit(e,i))return this;var o=this.getLayer(),r=t||o.hitCanvas,s=r&&r.getContext(),a=this.hitFunc()||this.sceneFunc(),l=this._getCanvasCache(),c=l&&l.hit;if(this.colorKey||n.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),c){s.save();var u=this.getAbsoluteTransform(e).getMatrix();return s.transform(u[0],u[1],u[2],u[3],u[4],u[5]),this._drawCachedHitCanvas(s),s.restore(),this}if(!a)return this;s.save(),s._applyLineJoin(this);if(!(this===e)){var h=this.getAbsoluteTransform(e).getMatrix();s.transform(h[0],h[1],h[2],h[3],h[4],h[5])}return a.call(this,s,this),s.restore(),this}drawHitFromCache(t=0){var e,i,o,r,s,a=this._getCanvasCache(),l=this._getCachedSceneCanvas(),c=a.hit,u=c.getContext(),h=c.getWidth(),d=c.getHeight();u.clear(),u.drawImage(l._canvas,0,0,h,d);try{for(o=(i=(e=u.getImageData(0,0,h,d)).data).length,r=n.Util._hexToRgb(this.colorKey),s=0;s<o;s+=4)i[s+3]>t?(i[s]=r.r,i[s+1]=r.g,i[s+2]=r.b,i[s+3]=255):i[s+3]=0;u.putImageData(e,0,0)}catch(t){n.Util.error("Unable to draw hit graph from cached scene canvas. "+t.message)}return this}hasPointerCapture(t){return c.hasPointerCapture(t,this)}setPointerCapture(t){c.setPointerCapture(t,this)}releaseCapture(t){c.releaseCapture(t,this)}}e.Shape=y,y.prototype._fillFunc=function(t){t.fill()},y.prototype._strokeFunc=function(t){t.stroke()},y.prototype._fillFuncHit=function(t){t.fill()},y.prototype._strokeFuncHit=function(t){t.stroke()},y.prototype._centroid=!1,y.prototype.nodeType="Shape",(0,l._registerNode)(y),y.prototype.eventListeners={},y.prototype.on.call(y.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",(function(){this._clearCache(u)})),y.prototype.on.call(y.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",(function(){this._clearCache(h)})),y.prototype.on.call(y.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",(function(){this._clearCache(d)})),y.prototype.on.call(y.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",(function(){this._clearCache(p)})),y.prototype.on.call(y.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",(function(){this._clearCache(f)})),r.Factory.addGetterSetter(y,"stroke",void 0,(0,a.getStringOrGradientValidator)()),r.Factory.addGetterSetter(y,"strokeWidth",2,(0,a.getNumberValidator)()),r.Factory.addGetterSetter(y,"fillAfterStrokeEnabled",!1),r.Factory.addGetterSetter(y,"hitStrokeWidth","auto",(0,a.getNumberOrAutoValidator)()),r.Factory.addGetterSetter(y,"strokeHitEnabled",!0,(0,a.getBooleanValidator)()),r.Factory.addGetterSetter(y,"perfectDrawEnabled",!0,(0,a.getBooleanValidator)()),r.Factory.addGetterSetter(y,"shadowForStrokeEnabled",!0,(0,a.getBooleanValidator)()),r.Factory.addGetterSetter(y,"lineJoin"),r.Factory.addGetterSetter(y,"lineCap"),r.Factory.addGetterSetter(y,"sceneFunc"),r.Factory.addGetterSetter(y,"hitFunc"),r.Factory.addGetterSetter(y,"dash"),r.Factory.addGetterSetter(y,"dashOffset",0,(0,a.getNumberValidator)()),r.Factory.addGetterSetter(y,"shadowColor",void 0,(0,a.getStringValidator)()),r.Factory.addGetterSetter(y,"shadowBlur",0,(0,a.getNumberValidator)()),r.Factory.addGetterSetter(y,"shadowOpacity",1,(0,a.getNumberValidator)()),r.Factory.addComponentsGetterSetter(y,"shadowOffset",["x","y"]),r.Factory.addGetterSetter(y,"shadowOffsetX",0,(0,a.getNumberValidator)()),r.Factory.addGetterSetter(y,"shadowOffsetY",0,(0,a.getNumberValidator)()),r.Factory.addGetterSetter(y,"fillPatternImage"),r.Factory.addGetterSetter(y,"fill",void 0,(0,a.getStringOrGradientValidator)()),r.Factory.addGetterSetter(y,"fillPatternX",0,(0,a.getNumberValidator)()),r.Factory.addGetterSetter(y,"fillPatternY",0,(0,a.getNumberValidator)()),r.Factory.addGetterSetter(y,"fillLinearGradientColorStops"),r.Factory.addGetterSetter(y,"strokeLinearGradientColorStops"),r.Factory.addGetterSetter(y,"fillRadialGradientStartRadius",0),r.Factory.addGetterSetter(y,"fillRadialGradientEndRadius",0),r.Factory.addGetterSetter(y,"fillRadialGradientColorStops"),r.Factory.addGetterSetter(y,"fillPatternRepeat","repeat"),r.Factory.addGetterSetter(y,"fillEnabled",!0),r.Factory.addGetterSetter(y,"strokeEnabled",!0),r.Factory.addGetterSetter(y,"shadowEnabled",!0),r.Factory.addGetterSetter(y,"dashEnabled",!0),r.Factory.addGetterSetter(y,"strokeScaleEnabled",!0),r.Factory.addGetterSetter(y,"fillPriority","color"),r.Factory.addComponentsGetterSetter(y,"fillPatternOffset",["x","y"]),r.Factory.addGetterSetter(y,"fillPatternOffsetX",0,(0,a.getNumberValidator)()),r.Factory.addGetterSetter(y,"fillPatternOffsetY",0,(0,a.getNumberValidator)()),r.Factory.addComponentsGetterSetter(y,"fillPatternScale",["x","y"]),r.Factory.addGetterSetter(y,"fillPatternScaleX",1,(0,a.getNumberValidator)()),r.Factory.addGetterSetter(y,"fillPatternScaleY",1,(0,a.getNumberValidator)()),r.Factory.addComponentsGetterSetter(y,"fillLinearGradientStartPoint",["x","y"]),r.Factory.addComponentsGetterSetter(y,"strokeLinearGradientStartPoint",["x","y"]),r.Factory.addGetterSetter(y,"fillLinearGradientStartPointX",0),r.Factory.addGetterSetter(y,"strokeLinearGradientStartPointX",0),r.Factory.addGetterSetter(y,"fillLinearGradientStartPointY",0),r.Factory.addGetterSetter(y,"strokeLinearGradientStartPointY",0),r.Factory.addComponentsGetterSetter(y,"fillLinearGradientEndPoint",["x","y"]),r.Factory.addComponentsGetterSetter(y,"strokeLinearGradientEndPoint",["x","y"]),r.Factory.addGetterSetter(y,"fillLinearGradientEndPointX",0),r.Factory.addGetterSetter(y,"strokeLinearGradientEndPointX",0),r.Factory.addGetterSetter(y,"fillLinearGradientEndPointY",0),r.Factory.addGetterSetter(y,"strokeLinearGradientEndPointY",0),r.Factory.addComponentsGetterSetter(y,"fillRadialGradientStartPoint",["x","y"]),r.Factory.addGetterSetter(y,"fillRadialGradientStartPointX",0),r.Factory.addGetterSetter(y,"fillRadialGradientStartPointY",0),r.Factory.addComponentsGetterSetter(y,"fillRadialGradientEndPoint",["x","y"]),r.Factory.addGetterSetter(y,"fillRadialGradientEndPointX",0),r.Factory.addGetterSetter(y,"fillRadialGradientEndPointY",0),r.Factory.addGetterSetter(y,"fillPatternRotation",0),r.Factory.backCompat(y,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"})},8342:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Stage=e.stages=void 0;const o=i(8588),n=i(1455),r=i(8783),s=i(4417),a=i(4842),l=i(210),c=i(4417),u=i(8479);var h="mouseleave",d="mouseover",p="mouseenter",f="mousemove",g="mousedown",m="mouseup",y="pointermove",v="pointerdown",_="pointerup",C="pointercancel",b="pointerout",E="pointerleave",S="pointerover",w="pointerenter",O="contextmenu",x="touchstart",P="touchend",T="touchmove",M="touchcancel",D="wheel",A=[[p,"_pointerenter"],[g,"_pointerdown"],[f,"_pointermove"],[m,"_pointerup"],[h,"_pointerleave"],[x,"_pointerdown"],[T,"_pointermove"],[P,"_pointerup"],[M,"_pointercancel"],[d,"_pointerover"],[D,"_wheel"],[O,"_contextmenu"],[v,"_pointerdown"],[y,"_pointermove"],[_,"_pointerup"],[C,"_pointercancel"],["lostpointercapture","_lostpointercapture"]];const R={mouse:{[b]:"mouseout",[E]:h,[S]:d,[w]:p,[y]:f,[v]:g,[_]:m,[C]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[b]:"touchout",[E]:"touchleave",[S]:"touchover",[w]:"touchenter",[y]:T,[v]:x,[_]:P,[C]:M,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[b]:b,[E]:E,[S]:S,[w]:w,[y]:y,[v]:v,[_]:_,[C]:C,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},L=t=>t.indexOf("pointer")>=0?"pointer":t.indexOf("touch")>=0?"touch":"mouse",I=t=>{const e=L(t);return"pointer"===e?s.Konva.pointerEventsEnabled&&R.pointer:"touch"===e?R.touch:"mouse"===e?R.mouse:void 0};function N(t={}){return(t.clipFunc||t.clipWidth||t.clipHeight)&&o.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),t}e.stages=[];class k extends r.Container{constructor(t){super(N(t)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),e.stages.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",(()=>{N(this.attrs)})),this._checkVisibility()}_validateAdd(t){const e="Layer"===t.getType(),i="FastLayer"===t.getType();e||i||o.Util.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const t=this.visible()?"":"none";this.content.style.display=t}setContainer(t){if("string"==typeof t){if("."===t.charAt(0)){var e=t.slice(1);t=document.getElementsByClassName(e)[0]}else{var i;i="#"!==t.charAt(0)?t:t.slice(1),t=document.getElementById(i)}if(!t)throw"Can not find container in document with id "+i}return this._setAttr("container",t),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),t.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){var t,e=this.children,i=e.length;for(t=0;t<i;t++)e[t].clear();return this}clone(t){return t||(t={}),t.container="undefined"!=typeof document&&document.createElement("div"),r.Container.prototype.clone.call(this,t)}destroy(){super.destroy();var t=this.content;t&&o.Util._isInDocument(t)&&this.container().removeChild(t);var i=e.stages.indexOf(this);return i>-1&&e.stages.splice(i,1),o.Util.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const t=this._pointerPositions[0]||this._changedPointerPositions[0];return t?{x:t.x,y:t.y}:(o.Util.warn("Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);"),null)}_getPointerById(t){return this._pointerPositions.find((e=>e.id===t))}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(t){(t=t||{}).x=t.x||0,t.y=t.y||0,t.width=t.width||this.width(),t.height=t.height||this.height();var e=new a.SceneCanvas({width:t.width,height:t.height,pixelRatio:t.pixelRatio||1}),i=e.getContext()._context,o=this.children;return(t.x||t.y)&&i.translate(-1*t.x,-1*t.y),o.forEach((function(e){if(e.isVisible()){var o=e._toKonvaCanvas(t);i.drawImage(o._canvas,t.x,t.y,o.getWidth()/o.getPixelRatio(),o.getHeight()/o.getPixelRatio())}})),e}getIntersection(t){if(!t)return null;var e,i=this.children;for(e=i.length-1;e>=0;e--){const o=i[e].getIntersection(t);if(o)return o}return null}_resizeDOM(){var t=this.width(),e=this.height();this.content&&(this.content.style.width=t+"px",this.content.style.height=e+"px"),this.bufferCanvas.setSize(t,e),this.bufferHitCanvas.setSize(t,e),this.children.forEach((i=>{i.setSize({width:t,height:e}),i.draw()}))}add(t,...e){if(arguments.length>1){for(var i=0;i<arguments.length;i++)this.add(arguments[i]);return this}super.add(t);var n=this.children.length;return n>5&&o.Util.warn("The stage has "+n+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),t.setSize({width:this.width(),height:this.height()}),t.draw(),s.Konva.isBrowser&&this.content.appendChild(t.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(t){return u.hasPointerCapture(t,this)}setPointerCapture(t){u.setPointerCapture(t,this)}releaseCapture(t){u.releaseCapture(t,this)}getLayers(){return this.children}_bindContentEvents(){s.Konva.isBrowser&&A.forEach((([t,e])=>{this.content.addEventListener(t,(t=>{this[e](t)}),{passive:!1})}))}_pointerenter(t){this.setPointersPositions(t);const e=I(t.type);this._fire(e.pointerenter,{evt:t,target:this,currentTarget:this})}_pointerover(t){this.setPointersPositions(t);const e=I(t.type);this._fire(e.pointerover,{evt:t,target:this,currentTarget:this})}_getTargetShape(t){let e=this[t+"targetShape"];return e&&!e.getStage()&&(e=null),e}_pointerleave(t){const e=I(t.type),i=L(t.type);if(e){this.setPointersPositions(t);var o=this._getTargetShape(i),n=!l.DD.isDragging||s.Konva.hitOnDragEnabled;o&&n?(o._fireAndBubble(e.pointerout,{evt:t}),o._fireAndBubble(e.pointerleave,{evt:t}),this._fire(e.pointerleave,{evt:t,target:this,currentTarget:this}),this[i+"targetShape"]=null):n&&(this._fire(e.pointerleave,{evt:t,target:this,currentTarget:this}),this._fire(e.pointerout,{evt:t,target:this,currentTarget:this})),this.pointerPos=void 0,this._pointerPositions=[]}}_pointerdown(t){const e=I(t.type),i=L(t.type);if(e){this.setPointersPositions(t);var o=!1;this._changedPointerPositions.forEach((n=>{var r=this.getIntersection(n);l.DD.justDragged=!1,s.Konva["_"+i+"ListenClick"]=!0;if(!(r&&r.isListening()))return;s.Konva.capturePointerEventsEnabled&&r.setPointerCapture(n.id),this[i+"ClickStartShape"]=r,r._fireAndBubble(e.pointerdown,{evt:t,pointerId:n.id}),o=!0;const a=t.type.indexOf("touch")>=0;r.preventDefault()&&t.cancelable&&a&&t.preventDefault()})),o||this._fire(e.pointerdown,{evt:t,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}}_pointermove(t){const e=I(t.type),i=L(t.type);if(!e)return;if(l.DD.isDragging&&l.DD.node.preventDefault()&&t.cancelable&&t.preventDefault(),this.setPointersPositions(t),!(!l.DD.isDragging||s.Konva.hitOnDragEnabled))return;var o={};let n=!1;var r=this._getTargetShape(i);this._changedPointerPositions.forEach((s=>{const a=u.getCapturedShape(s.id)||this.getIntersection(s),l=s.id,c={evt:t,pointerId:l};var h=r!==a;if(h&&r&&(r._fireAndBubble(e.pointerout,Object.assign({},c),a),r._fireAndBubble(e.pointerleave,Object.assign({},c),a)),a){if(o[a._id])return;o[a._id]=!0}a&&a.isListening()?(n=!0,h&&(a._fireAndBubble(e.pointerover,Object.assign({},c),r),a._fireAndBubble(e.pointerenter,Object.assign({},c),r),this[i+"targetShape"]=a),a._fireAndBubble(e.pointermove,Object.assign({},c))):r&&(this._fire(e.pointerover,{evt:t,target:this,currentTarget:this,pointerId:l}),this[i+"targetShape"]=null)})),n||this._fire(e.pointermove,{evt:t,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(t){const e=I(t.type),i=L(t.type);if(!e)return;this.setPointersPositions(t);const o=this[i+"ClickStartShape"],n=this[i+"ClickEndShape"];var r={};let a=!1;this._changedPointerPositions.forEach((c=>{const h=u.getCapturedShape(c.id)||this.getIntersection(c);if(h){if(h.releaseCapture(c.id),r[h._id])return;r[h._id]=!0}const d=c.id,p={evt:t,pointerId:d};let f=!1;s.Konva["_"+i+"InDblClickWindow"]?(f=!0,clearTimeout(this[i+"DblTimeout"])):l.DD.justDragged||(s.Konva["_"+i+"InDblClickWindow"]=!0,clearTimeout(this[i+"DblTimeout"])),this[i+"DblTimeout"]=setTimeout((function(){s.Konva["_"+i+"InDblClickWindow"]=!1}),s.Konva.dblClickWindow),h&&h.isListening()?(a=!0,this[i+"ClickEndShape"]=h,h._fireAndBubble(e.pointerup,Object.assign({},p)),s.Konva["_"+i+"ListenClick"]&&o&&o===h&&(h._fireAndBubble(e.pointerclick,Object.assign({},p)),f&&n&&n===h&&h._fireAndBubble(e.pointerdblclick,Object.assign({},p)))):(this[i+"ClickEndShape"]=null,s.Konva["_"+i+"ListenClick"]&&this._fire(e.pointerclick,{evt:t,target:this,currentTarget:this,pointerId:d}),f&&this._fire(e.pointerdblclick,{evt:t,target:this,currentTarget:this,pointerId:d}))})),a||this._fire(e.pointerup,{evt:t,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),s.Konva["_"+i+"ListenClick"]=!1,t.cancelable&&"touch"!==i&&t.preventDefault()}_contextmenu(t){this.setPointersPositions(t);var e=this.getIntersection(this.getPointerPosition());e&&e.isListening()?e._fireAndBubble(O,{evt:t}):this._fire(O,{evt:t,target:this,currentTarget:this})}_wheel(t){this.setPointersPositions(t);var e=this.getIntersection(this.getPointerPosition());e&&e.isListening()?e._fireAndBubble(D,{evt:t}):this._fire(D,{evt:t,target:this,currentTarget:this})}_pointercancel(t){this.setPointersPositions(t);const e=u.getCapturedShape(t.pointerId)||this.getIntersection(this.getPointerPosition());e&&e._fireAndBubble(_,u.createEvent(t)),u.releaseCapture(t.pointerId)}_lostpointercapture(t){u.releaseCapture(t.pointerId)}setPointersPositions(t){var e=this._getContentPosition(),i=null,n=null;void 0!==(t=t||window.event).touches?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(t.touches,(t=>{this._pointerPositions.push({id:t.identifier,x:(t.clientX-e.left)/e.scaleX,y:(t.clientY-e.top)/e.scaleY})})),Array.prototype.forEach.call(t.changedTouches||t.touches,(t=>{this._changedPointerPositions.push({id:t.identifier,x:(t.clientX-e.left)/e.scaleX,y:(t.clientY-e.top)/e.scaleY})}))):(i=(t.clientX-e.left)/e.scaleX,n=(t.clientY-e.top)/e.scaleY,this.pointerPos={x:i,y:n},this._pointerPositions=[{x:i,y:n,id:o.Util._getFirstPointerId(t)}],this._changedPointerPositions=[{x:i,y:n,id:o.Util._getFirstPointerId(t)}])}_setPointerPosition(t){o.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(t)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};var t=this.content.getBoundingClientRect();return{top:t.top,left:t.left,scaleX:t.width/this.content.clientWidth||1,scaleY:t.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new a.SceneCanvas({width:this.width(),height:this.height()}),this.bufferHitCanvas=new a.HitCanvas({pixelRatio:1,width:this.width(),height:this.height()}),s.Konva.isBrowser){var t=this.container();if(!t)throw"Stage has no container. A container is required.";t.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),t.appendChild(this.content),this._resizeDOM()}}cache(){return o.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach((function(t){t.batchDraw()})),this}}e.Stage=k,k.prototype.nodeType="Stage",(0,c._registerNode)(k),n.Factory.addGetterSetter(k,"container")},8017:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Easings=e.Tween=void 0;const o=i(8588),n=i(6745),r=i(7939),s=i(4417);var a={node:1,duration:1,easing:1,onFinish:1,yoyo:1},l=0,c=["fill","stroke","shadowColor"];class u{constructor(t,e,i,o,n,r,s){this.prop=t,this.propFunc=e,this.begin=o,this._pos=o,this.duration=r,this._change=0,this.prevPos=0,this.yoyo=s,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=i,this._change=n-this.begin,this.pause()}fire(t){var e=this[t];e&&e()}setTime(t){t>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():t<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=t,this.update())}getTime(){return this._time}setPosition(t){this.prevPos=this._pos,this.propFunc(t),this._pos=t}getPosition(t){return void 0===t&&(t=this._time),this.func(t,this.begin,this._change,this.duration)}play(){this.state=2,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=3,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(t){this.pause(),this._time=t,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){var t=this.getTimer()-this._startTime;2===this.state?this.setTime(t):3===this.state&&this.setTime(this.duration-t)}pause(){this.state=1,this.fire("onPause")}getTimer(){return(new Date).getTime()}}class h{constructor(t){var i,r,c=this,d=t.node,p=d._id,f=t.easing||e.Easings.Linear,g=!!t.yoyo;i=void 0===t.duration?.3:0===t.duration?.001:t.duration,this.node=d,this._id=l++;var m=d.getLayer()||(d instanceof s.Konva.Stage?d.getLayers():null);for(r in m||o.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new n.Animation((function(){c.tween.onEnterFrame()}),m),this.tween=new u(r,(function(t){c._tweenFunc(t)}),f,0,1,1e3*i,g),this._addListeners(),h.attrs[p]||(h.attrs[p]={}),h.attrs[p][this._id]||(h.attrs[p][this._id]={}),h.tweens[p]||(h.tweens[p]={}),t)void 0===a[r]&&this._addAttr(r,t[r]);this.reset(),this.onFinish=t.onFinish,this.onReset=t.onReset,this.onUpdate=t.onUpdate}_addAttr(t,e){var i,n,r,s,a,l,u,d,p=this.node,f=p._id;if((r=h.tweens[f][t])&&delete h.attrs[f][r][t],i=p.getAttr(t),o.Util._isArray(e))if(n=[],a=Math.max(e.length,i.length),"points"===t&&e.length!==i.length&&(e.length>i.length?(u=i,i=o.Util._prepareArrayForTween(i,e,p.closed())):(l=e,e=o.Util._prepareArrayForTween(e,i,p.closed()))),0===t.indexOf("fill"))for(s=0;s<a;s++)if(s%2==0)n.push(e[s]-i[s]);else{var g=o.Util.colorToRGBA(i[s]);d=o.Util.colorToRGBA(e[s]),i[s]=g,n.push({r:d.r-g.r,g:d.g-g.g,b:d.b-g.b,a:d.a-g.a})}else for(s=0;s<a;s++)n.push(e[s]-i[s]);else-1!==c.indexOf(t)?(i=o.Util.colorToRGBA(i),n={r:(d=o.Util.colorToRGBA(e)).r-i.r,g:d.g-i.g,b:d.b-i.b,a:d.a-i.a}):n=e-i;h.attrs[f][this._id][t]={start:i,diff:n,end:e,trueEnd:l,trueStart:u},h.tweens[f][t]=this._id}_tweenFunc(t){var e,i,n,r,s,a,l,u,d=this.node,p=h.attrs[d._id][this._id];for(e in p){if(n=(i=p[e]).start,r=i.diff,u=i.end,o.Util._isArray(n))if(s=[],l=Math.max(n.length,u.length),0===e.indexOf("fill"))for(a=0;a<l;a++)a%2==0?s.push((n[a]||0)+r[a]*t):s.push("rgba("+Math.round(n[a].r+r[a].r*t)+","+Math.round(n[a].g+r[a].g*t)+","+Math.round(n[a].b+r[a].b*t)+","+(n[a].a+r[a].a*t)+")");else for(a=0;a<l;a++)s.push((n[a]||0)+r[a]*t);else s=-1!==c.indexOf(e)?"rgba("+Math.round(n.r+r.r*t)+","+Math.round(n.g+r.g*t)+","+Math.round(n.b+r.b*t)+","+(n.a+r.a*t)+")":n+r*t;d.setAttr(e,s)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{var t=this.node,e=h.attrs[t._id][this._id];e.points&&e.points.trueEnd&&t.setAttr("points",e.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{var t=this.node,e=h.attrs[t._id][this._id];e.points&&e.points.trueStart&&t.points(e.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(t){return this.tween.seek(1e3*t),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){var t,e=this.node._id,i=this._id,o=h.tweens[e];for(t in this.pause(),o)delete h.tweens[e][t];delete h.attrs[e][i]}}h.attrs={},h.tweens={},e.Tween=h,r.Node.prototype.to=function(t){var e=t.onFinish;t.node=this,t.onFinish=function(){this.destroy(),e&&e()},new h(t).play()},e.Easings={BackEaseIn(t,e,i,o){var n=1.70158;return i*(t/=o)*t*((n+1)*t-n)+e},BackEaseOut(t,e,i,o){var n=1.70158;return i*((t=t/o-1)*t*((n+1)*t+n)+1)+e},BackEaseInOut(t,e,i,o){var n=1.70158;return(t/=o/2)<1?i/2*(t*t*((1+(n*=1.525))*t-n))+e:i/2*((t-=2)*t*((1+(n*=1.525))*t+n)+2)+e},ElasticEaseIn(t,e,i,o,n,r){var s=0;return 0===t?e:1==(t/=o)?e+i:(r||(r=.3*o),!n||n<Math.abs(i)?(n=i,s=r/4):s=r/(2*Math.PI)*Math.asin(i/n),-n*Math.pow(2,10*(t-=1))*Math.sin((t*o-s)*(2*Math.PI)/r)+e)},ElasticEaseOut(t,e,i,o,n,r){var s=0;return 0===t?e:1==(t/=o)?e+i:(r||(r=.3*o),!n||n<Math.abs(i)?(n=i,s=r/4):s=r/(2*Math.PI)*Math.asin(i/n),n*Math.pow(2,-10*t)*Math.sin((t*o-s)*(2*Math.PI)/r)+i+e)},ElasticEaseInOut(t,e,i,o,n,r){var s=0;return 0===t?e:2==(t/=o/2)?e+i:(r||(r=o*(.3*1.5)),!n||n<Math.abs(i)?(n=i,s=r/4):s=r/(2*Math.PI)*Math.asin(i/n),t<1?n*Math.pow(2,10*(t-=1))*Math.sin((t*o-s)*(2*Math.PI)/r)*-.5+e:n*Math.pow(2,-10*(t-=1))*Math.sin((t*o-s)*(2*Math.PI)/r)*.5+i+e)},BounceEaseOut:(t,e,i,o)=>(t/=o)<1/2.75?i*(7.5625*t*t)+e:t<2/2.75?i*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?i*(7.5625*(t-=2.25/2.75)*t+.9375)+e:i*(7.5625*(t-=2.625/2.75)*t+.984375)+e,BounceEaseIn:(t,i,o,n)=>o-e.Easings.BounceEaseOut(n-t,0,o,n)+i,BounceEaseInOut:(t,i,o,n)=>t<n/2?.5*e.Easings.BounceEaseIn(2*t,0,o,n)+i:.5*e.Easings.BounceEaseOut(2*t-n,0,o,n)+.5*o+i,EaseIn:(t,e,i,o)=>i*(t/=o)*t+e,EaseOut:(t,e,i,o)=>-i*(t/=o)*(t-2)+e,EaseInOut:(t,e,i,o)=>(t/=o/2)<1?i/2*t*t+e:-i/2*(--t*(t-2)-1)+e,StrongEaseIn:(t,e,i,o)=>i*(t/=o)*t*t*t*t+e,StrongEaseOut:(t,e,i,o)=>i*((t=t/o-1)*t*t*t*t+1)+e,StrongEaseInOut:(t,e,i,o)=>(t/=o/2)<1?i/2*t*t*t*t*t+e:i/2*((t-=2)*t*t*t*t+2)+e,Linear:(t,e,i,o)=>i*t/o+e}},8588:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Util=e.Transform=void 0;const o=i(4417);class n{constructor(t=[1,0,0,1,0,0]){this.dirty=!1,this.m=t&&t.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new n(this.m)}copyInto(t){t.m[0]=this.m[0],t.m[1]=this.m[1],t.m[2]=this.m[2],t.m[3]=this.m[3],t.m[4]=this.m[4],t.m[5]=this.m[5]}point(t){var e=this.m;return{x:e[0]*t.x+e[2]*t.y+e[4],y:e[1]*t.x+e[3]*t.y+e[5]}}translate(t,e){return this.m[4]+=this.m[0]*t+this.m[2]*e,this.m[5]+=this.m[1]*t+this.m[3]*e,this}scale(t,e){return this.m[0]*=t,this.m[1]*=t,this.m[2]*=e,this.m[3]*=e,this}rotate(t){var e=Math.cos(t),i=Math.sin(t),o=this.m[0]*e+this.m[2]*i,n=this.m[1]*e+this.m[3]*i,r=this.m[0]*-i+this.m[2]*e,s=this.m[1]*-i+this.m[3]*e;return this.m[0]=o,this.m[1]=n,this.m[2]=r,this.m[3]=s,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(t,e){var i=this.m[0]+this.m[2]*e,o=this.m[1]+this.m[3]*e,n=this.m[2]+this.m[0]*t,r=this.m[3]+this.m[1]*t;return this.m[0]=i,this.m[1]=o,this.m[2]=n,this.m[3]=r,this}multiply(t){var e=this.m[0]*t.m[0]+this.m[2]*t.m[1],i=this.m[1]*t.m[0]+this.m[3]*t.m[1],o=this.m[0]*t.m[2]+this.m[2]*t.m[3],n=this.m[1]*t.m[2]+this.m[3]*t.m[3],r=this.m[0]*t.m[4]+this.m[2]*t.m[5]+this.m[4],s=this.m[1]*t.m[4]+this.m[3]*t.m[5]+this.m[5];return this.m[0]=e,this.m[1]=i,this.m[2]=o,this.m[3]=n,this.m[4]=r,this.m[5]=s,this}invert(){var t=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),e=this.m[3]*t,i=-this.m[1]*t,o=-this.m[2]*t,n=this.m[0]*t,r=t*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),s=t*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=e,this.m[1]=i,this.m[2]=o,this.m[3]=n,this.m[4]=r,this.m[5]=s,this}getMatrix(){return this.m}decompose(){var t=this.m[0],i=this.m[1],o=this.m[2],n=this.m[3],r=t*n-i*o;let s={x:this.m[4],y:this.m[5],rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(0!=t||0!=i){var a=Math.sqrt(t*t+i*i);s.rotation=i>0?Math.acos(t/a):-Math.acos(t/a),s.scaleX=a,s.scaleY=r/a,s.skewX=(t*o+i*n)/r,s.skewY=0}else if(0!=o||0!=n){var l=Math.sqrt(o*o+n*n);s.rotation=Math.PI/2-(n>0?Math.acos(-o/l):-Math.acos(o/l)),s.scaleX=r/l,s.scaleY=l,s.skewX=0,s.skewY=(t*o+i*n)/r}return s.rotation=e.Util._getRotation(s.rotation),s}}e.Transform=n;var r=Math.PI/180,s=180/Math.PI,a="Konva error: ",l={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},c=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/,u=[];const h="undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||function(t){setTimeout(t,60)};e.Util={_isElement:t=>!(!t||1!=t.nodeType),_isFunction:t=>!!(t&&t.constructor&&t.call&&t.apply),_isPlainObject:t=>!!t&&t.constructor===Object,_isArray:t=>"[object Array]"===Object.prototype.toString.call(t),_isNumber:t=>"[object Number]"===Object.prototype.toString.call(t)&&!isNaN(t)&&isFinite(t),_isString:t=>"[object String]"===Object.prototype.toString.call(t),_isBoolean:t=>"[object Boolean]"===Object.prototype.toString.call(t),isObject:t=>t instanceof Object,isValidSelector(t){if("string"!=typeof t)return!1;var e=t[0];return"#"===e||"."===e||e===e.toUpperCase()},_sign:t=>0===t||t>0?1:-1,requestAnimFrame(t){u.push(t),1===u.length&&h((function(){const t=u;u=[],t.forEach((function(t){t()}))}))},createCanvasElement(){var t=document.createElement("canvas");try{t.style=t.style||{}}catch(t){}return t},createImageElement:()=>document.createElement("img"),_isInDocument(t){for(;t=t.parentNode;)if(t==document)return!0;return!1},_urlToImage(t,i){var o=e.Util.createImageElement();o.onload=function(){i(o)},o.src=t},_rgbToHex:(t,e,i)=>((1<<24)+(t<<16)+(e<<8)+i).toString(16).slice(1),_hexToRgb(t){t=t.replace("#","");var e=parseInt(t,16);return{r:e>>16&255,g:e>>8&255,b:255&e}},getRandomColor(){for(var t=(16777215*Math.random()<<0).toString(16);t.length<6;)t="0"+t;return"#"+t},getRGB(t){var e;return t in l?{r:(e=l[t])[0],g:e[1],b:e[2]}:"#"===t[0]?this._hexToRgb(t.substring(1)):"rgb("===t.substr(0,4)?(e=c.exec(t.replace(/ /g,"")),{r:parseInt(e[1],10),g:parseInt(e[2],10),b:parseInt(e[3],10)}):{r:0,g:0,b:0}},colorToRGBA:t=>(t=t||"black",e.Util._namedColorToRBA(t)||e.Util._hex3ColorToRGBA(t)||e.Util._hex4ColorToRGBA(t)||e.Util._hex6ColorToRGBA(t)||e.Util._hex8ColorToRGBA(t)||e.Util._rgbColorToRGBA(t)||e.Util._rgbaColorToRGBA(t)||e.Util._hslColorToRGBA(t)),_namedColorToRBA(t){var e=l[t.toLowerCase()];return e?{r:e[0],g:e[1],b:e[2],a:1}:null},_rgbColorToRGBA(t){if(0===t.indexOf("rgb(")){var e=(t=t.match(/rgb\(([^)]+)\)/)[1]).split(/ *, */).map(Number);return{r:e[0],g:e[1],b:e[2],a:1}}},_rgbaColorToRGBA(t){if(0===t.indexOf("rgba(")){var e=(t=t.match(/rgba\(([^)]+)\)/)[1]).split(/ *, */).map(((t,e)=>"%"===t.slice(-1)?3===e?parseInt(t)/100:parseInt(t)/100*255:Number(t)));return{r:e[0],g:e[1],b:e[2],a:e[3]}}},_hex8ColorToRGBA(t){if("#"===t[0]&&9===t.length)return{r:parseInt(t.slice(1,3),16),g:parseInt(t.slice(3,5),16),b:parseInt(t.slice(5,7),16),a:parseInt(t.slice(7,9),16)/255}},_hex6ColorToRGBA(t){if("#"===t[0]&&7===t.length)return{r:parseInt(t.slice(1,3),16),g:parseInt(t.slice(3,5),16),b:parseInt(t.slice(5,7),16),a:1}},_hex4ColorToRGBA(t){if("#"===t[0]&&5===t.length)return{r:parseInt(t[1]+t[1],16),g:parseInt(t[2]+t[2],16),b:parseInt(t[3]+t[3],16),a:parseInt(t[4]+t[4],16)/255}},_hex3ColorToRGBA(t){if("#"===t[0]&&4===t.length)return{r:parseInt(t[1]+t[1],16),g:parseInt(t[2]+t[2],16),b:parseInt(t[3]+t[3],16),a:1}},_hslColorToRGBA(t){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(t)){const[e,...i]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(t),o=Number(i[0])/360,n=Number(i[1])/100,r=Number(i[2])/100;let s,a,l;if(0===n)return l=255*r,{r:Math.round(l),g:Math.round(l),b:Math.round(l),a:1};s=r<.5?r*(1+n):r+n-r*n;const c=2*r-s,u=[0,0,0];for(let t=0;t<3;t++)a=o+1/3*-(t-1),a<0&&a++,a>1&&a--,l=6*a<1?c+6*(s-c)*a:2*a<1?s:3*a<2?c+(s-c)*(2/3-a)*6:c,u[t]=255*l;return{r:Math.round(u[0]),g:Math.round(u[1]),b:Math.round(u[2]),a:1}}},haveIntersection:(t,e)=>!(e.x>t.x+t.width||e.x+e.width<t.x||e.y>t.y+t.height||e.y+e.height<t.y),cloneObject(t){var e={};for(var i in t)this._isPlainObject(t[i])?e[i]=this.cloneObject(t[i]):this._isArray(t[i])?e[i]=this.cloneArray(t[i]):e[i]=t[i];return e},cloneArray:t=>t.slice(0),degToRad:t=>t*r,radToDeg:t=>t*s,_degToRad:t=>(e.Util.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),e.Util.degToRad(t)),_radToDeg:t=>(e.Util.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),e.Util.radToDeg(t)),_getRotation:t=>o.Konva.angleDeg?e.Util.radToDeg(t):t,_capitalize:t=>t.charAt(0).toUpperCase()+t.slice(1),throw(t){throw new Error(a+t)},error(t){console.error(a+t)},warn(t){o.Konva.showWarnings&&console.warn("Konva warning: "+t)},each(t,e){for(var i in t)e(i,t[i])},_inRange:(t,e,i)=>e<=t&&t<i,_getProjectionToSegment(t,e,i,o,n,r){var s,a,l,c=(t-i)*(t-i)+(e-o)*(e-o);if(0==c)s=t,a=e,l=(n-i)*(n-i)+(r-o)*(r-o);else{var u=((n-t)*(i-t)+(r-e)*(o-e))/c;u<0?(s=t,a=e,l=(t-n)*(t-n)+(e-r)*(e-r)):u>1?(s=i,a=o,l=(i-n)*(i-n)+(o-r)*(o-r)):l=((s=t+u*(i-t))-n)*(s-n)+((a=e+u*(o-e))-r)*(a-r)}return[s,a,l]},_getProjectionToLine(t,i,o){var n=e.Util.cloneObject(t),r=Number.MAX_VALUE;return i.forEach((function(s,a){if(o||a!==i.length-1){var l=i[(a+1)%i.length],c=e.Util._getProjectionToSegment(s.x,s.y,l.x,l.y,t.x,t.y),u=c[0],h=c[1],d=c[2];d<r&&(n.x=u,n.y=h,r=d)}})),n},_prepareArrayForTween(t,i,o){var n,r=[],s=[];if(t.length>i.length){var a=i;i=t,t=a}for(n=0;n<t.length;n+=2)r.push({x:t[n],y:t[n+1]});for(n=0;n<i.length;n+=2)s.push({x:i[n],y:i[n+1]});var l=[];return s.forEach((function(t){var i=e.Util._getProjectionToLine(t,r,o);l.push(i.x),l.push(i.y)})),l},_prepareToStringify(t){var i;for(var o in t.visitedByCircularReferenceRemoval=!0,t)if(t.hasOwnProperty(o)&&t[o]&&"object"==typeof t[o])if(i=Object.getOwnPropertyDescriptor(t,o),t[o].visitedByCircularReferenceRemoval||e.Util._isElement(t[o])){if(!i.configurable)return null;delete t[o]}else if(null===e.Util._prepareToStringify(t[o])){if(!i.configurable)return null;delete t[o]}return delete t.visitedByCircularReferenceRemoval,t},_assign(t,e){for(var i in e)t[i]=e[i];return t},_getFirstPointerId:t=>t.touches?t.changedTouches[0].identifier:t.pointerId||999,releaseCanvas(...t){o.Konva.releaseCanvasOnDestroy&&t.forEach((t=>{t.width=0,t.height=0}))},drawRoundedRectPath(t,e,i,o){let n=0,r=0,s=0,a=0;"number"==typeof o?n=r=s=a=Math.min(o,e/2,i/2):(n=Math.min(o[0]||0,e/2,i/2),r=Math.min(o[1]||0,e/2,i/2),a=Math.min(o[2]||0,e/2,i/2),s=Math.min(o[3]||0,e/2,i/2)),t.moveTo(n,0),t.lineTo(e-r,0),t.arc(e-r,r,r,3*Math.PI/2,0,!1),t.lineTo(e,i-a),t.arc(e-a,i-a,a,0,Math.PI/2,!1),t.lineTo(s,i),t.arc(s,i-s,s,Math.PI/2,Math.PI,!1),t.lineTo(0,n),t.arc(n,n,n,Math.PI,3*Math.PI/2,!1)}}},3774:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getComponentValidator=e.getBooleanValidator=e.getNumberArrayValidator=e.getFunctionValidator=e.getStringOrGradientValidator=e.getStringValidator=e.getNumberOrAutoValidator=e.getNumberOrArrayOfNumbersValidator=e.getNumberValidator=e.alphaComponent=e.RGBComponent=void 0;const o=i(4417),n=i(8588);function r(t){return n.Util._isString(t)?'"'+t+'"':"[object Number]"===Object.prototype.toString.call(t)||n.Util._isBoolean(t)?t:Object.prototype.toString.call(t)}e.RGBComponent=function(t){return t>255?255:t<0?0:Math.round(t)},e.alphaComponent=function(t){return t>1?1:t<1e-4?1e-4:t},e.getNumberValidator=function(){if(o.Konva.isUnminified)return function(t,e){return n.Util._isNumber(t)||n.Util.warn(r(t)+' is a not valid value for "'+e+'" attribute. The value should be a number.'),t}},e.getNumberOrArrayOfNumbersValidator=function(t){if(o.Konva.isUnminified)return function(e,i){let o=n.Util._isNumber(e),s=n.Util._isArray(e)&&e.length==t;return o||s||n.Util.warn(r(e)+' is a not valid value for "'+i+'" attribute. The value should be a number or Array<number>('+t+")"),e}},e.getNumberOrAutoValidator=function(){if(o.Konva.isUnminified)return function(t,e){return n.Util._isNumber(t)||"auto"===t||n.Util.warn(r(t)+' is a not valid value for "'+e+'" attribute. The value should be a number or "auto".'),t}},e.getStringValidator=function(){if(o.Konva.isUnminified)return function(t,e){return n.Util._isString(t)||n.Util.warn(r(t)+' is a not valid value for "'+e+'" attribute. The value should be a string.'),t}},e.getStringOrGradientValidator=function(){if(o.Konva.isUnminified)return function(t,e){const i=n.Util._isString(t),o="[object CanvasGradient]"===Object.prototype.toString.call(t)||t&&t.addColorStop;return i||o||n.Util.warn(r(t)+' is a not valid value for "'+e+'" attribute. The value should be a string or a native gradient.'),t}},e.getFunctionValidator=function(){if(o.Konva.isUnminified)return function(t,e){return n.Util._isFunction(t)||n.Util.warn(r(t)+' is a not valid value for "'+e+'" attribute. The value should be a function.'),t}},e.getNumberArrayValidator=function(){if(o.Konva.isUnminified)return function(t,e){const i=Int8Array?Object.getPrototypeOf(Int8Array):null;return i&&t instanceof i||(n.Util._isArray(t)?t.forEach((function(t){n.Util._isNumber(t)||n.Util.warn('"'+e+'" attribute has non numeric element '+t+". Make sure that all elements are numbers.")})):n.Util.warn(r(t)+' is a not valid value for "'+e+'" attribute. The value should be a array of numbers.')),t}},e.getBooleanValidator=function(){if(o.Konva.isUnminified)return function(t,e){return!0===t||!1===t||n.Util.warn(r(t)+' is a not valid value for "'+e+'" attribute. The value should be a boolean.'),t}},e.getComponentValidator=function(t){if(o.Konva.isUnminified)return function(e,i){return null==e||n.Util.isObject(e)||n.Util.warn(r(e)+' is a not valid value for "'+i+'" attribute. The value should be an object with properties '+t),e}}},3986:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Konva=void 0;const o=i(4417),n=i(8588),r=i(7939),s=i(8783),a=i(8342),l=i(4415),c=i(3980),u=i(8985),h=i(210),d=i(7955),p=i(6745),f=i(8017),g=i(3442),m=i(4842);e.Konva=n.Util._assign(o.Konva,{Util:n.Util,Transform:n.Transform,Node:r.Node,Container:s.Container,Stage:a.Stage,stages:a.stages,Layer:l.Layer,FastLayer:c.FastLayer,Group:u.Group,DD:h.DD,Shape:d.Shape,shapes:d.shapes,Animation:p.Animation,Tween:f.Tween,Easings:f.Easings,Context:g.Context,Canvas:m.Canvas}),e.default=e.Konva},2076:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Konva=void 0;const o=i(3986),n=i(119),r=i(2064),s=i(7643),a=i(535),l=i(1298),c=i(6067),u=i(7149),h=i(7339),d=i(5244),p=i(1785),f=i(657),g=i(8986),m=i(1964),y=i(3787),v=i(2831),_=i(9516),C=i(9846),b=i(2527),E=i(6672),S=i(5309),w=i(1695),O=i(9621),x=i(1179),P=i(7194),T=i(3925),M=i(5751),D=i(6588),A=i(3565),R=i(5929),L=i(7233),I=i(8590),N=i(8280),k=i(3438),F=i(6703),B=i(1665),G=i(1863);e.Konva=o.Konva.Util._assign(o.Konva,{Arc:n.Arc,Arrow:r.Arrow,Circle:s.Circle,Ellipse:a.Ellipse,Image:l.Image,Label:c.Label,Tag:c.Tag,Line:u.Line,Path:h.Path,Rect:d.Rect,RegularPolygon:p.RegularPolygon,Ring:f.Ring,Sprite:g.Sprite,Star:m.Star,Text:y.Text,TextPath:v.TextPath,Transformer:_.Transformer,Wedge:C.Wedge,Filters:{Blur:b.Blur,Brighten:E.Brighten,Contrast:S.Contrast,Emboss:w.Emboss,Enhance:O.Enhance,Grayscale:x.Grayscale,HSL:P.HSL,HSV:T.HSV,Invert:M.Invert,Kaleidoscope:D.Kaleidoscope,Mask:A.Mask,Noise:R.Noise,Pixelate:L.Pixelate,Posterize:I.Posterize,RGB:N.RGB,RGBA:k.RGBA,Sepia:F.Sepia,Solarize:B.Solarize,Threshold:G.Threshold}})},2527:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Blur=void 0;const o=i(1455),n=i(7939),r=i(3774);function s(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}var a=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],l=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];e.Blur=function(t){var e=Math.round(this.blurRadius());e>0&&function(t,e){var i,o,n,r,c,u,h,d,p,f,g,m,y,v,_,C,b,E,S,w,O,x,P,T,M=t.data,D=t.width,A=t.height,R=e+e+1,L=D-1,I=A-1,N=e+1,k=N*(N+1)/2,F=new s,B=null,G=F,j=null,V=null,U=a[e],W=l[e];for(n=1;n<R;n++)G=G.next=new s,n===N&&(B=G);for(G.next=F,h=u=0,o=0;o<A;o++){for(C=b=E=S=d=p=f=g=0,m=N*(w=M[u]),y=N*(O=M[u+1]),v=N*(x=M[u+2]),_=N*(P=M[u+3]),d+=k*w,p+=k*O,f+=k*x,g+=k*P,G=F,n=0;n<N;n++)G.r=w,G.g=O,G.b=x,G.a=P,G=G.next;for(n=1;n<N;n++)r=u+((L<n?L:n)<<2),d+=(G.r=w=M[r])*(T=N-n),p+=(G.g=O=M[r+1])*T,f+=(G.b=x=M[r+2])*T,g+=(G.a=P=M[r+3])*T,C+=w,b+=O,E+=x,S+=P,G=G.next;for(j=F,V=B,i=0;i<D;i++)M[u+3]=P=g*U>>W,0!==P?(P=255/P,M[u]=(d*U>>W)*P,M[u+1]=(p*U>>W)*P,M[u+2]=(f*U>>W)*P):M[u]=M[u+1]=M[u+2]=0,d-=m,p-=y,f-=v,g-=_,m-=j.r,y-=j.g,v-=j.b,_-=j.a,r=h+((r=i+e+1)<L?r:L)<<2,d+=C+=j.r=M[r],p+=b+=j.g=M[r+1],f+=E+=j.b=M[r+2],g+=S+=j.a=M[r+3],j=j.next,m+=w=V.r,y+=O=V.g,v+=x=V.b,_+=P=V.a,C-=w,b-=O,E-=x,S-=P,V=V.next,u+=4;h+=D}for(i=0;i<D;i++){for(b=E=S=C=p=f=g=d=0,m=N*(w=M[u=i<<2]),y=N*(O=M[u+1]),v=N*(x=M[u+2]),_=N*(P=M[u+3]),d+=k*w,p+=k*O,f+=k*x,g+=k*P,G=F,n=0;n<N;n++)G.r=w,G.g=O,G.b=x,G.a=P,G=G.next;for(c=D,n=1;n<=e;n++)u=c+i<<2,d+=(G.r=w=M[u])*(T=N-n),p+=(G.g=O=M[u+1])*T,f+=(G.b=x=M[u+2])*T,g+=(G.a=P=M[u+3])*T,C+=w,b+=O,E+=x,S+=P,G=G.next,n<I&&(c+=D);for(u=i,j=F,V=B,o=0;o<A;o++)M[3+(r=u<<2)]=P=g*U>>W,P>0?(P=255/P,M[r]=(d*U>>W)*P,M[r+1]=(p*U>>W)*P,M[r+2]=(f*U>>W)*P):M[r]=M[r+1]=M[r+2]=0,d-=m,p-=y,f-=v,g-=_,m-=j.r,y-=j.g,v-=j.b,_-=j.a,r=i+((r=o+N)<I?r:I)*D<<2,d+=C+=j.r=M[r],p+=b+=j.g=M[r+1],f+=E+=j.b=M[r+2],g+=S+=j.a=M[r+3],j=j.next,m+=w=V.r,y+=O=V.g,v+=x=V.b,_+=P=V.a,C-=w,b-=O,E-=x,S-=P,V=V.next,u+=D}}(t,e)},o.Factory.addGetterSetter(n.Node,"blurRadius",0,(0,r.getNumberValidator)(),o.Factory.afterSetFilter)},6672:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Brighten=void 0;const o=i(1455),n=i(7939),r=i(3774);e.Brighten=function(t){var e,i=255*this.brightness(),o=t.data,n=o.length;for(e=0;e<n;e+=4)o[e]+=i,o[e+1]+=i,o[e+2]+=i},o.Factory.addGetterSetter(n.Node,"brightness",0,(0,r.getNumberValidator)(),o.Factory.afterSetFilter)},5309:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Contrast=void 0;const o=i(1455),n=i(7939),r=i(3774);e.Contrast=function(t){var e,i=Math.pow((this.contrast()+100)/100,2),o=t.data,n=o.length,r=150,s=150,a=150;for(e=0;e<n;e+=4)r=o[e],s=o[e+1],a=o[e+2],r/=255,r-=.5,r*=i,r+=.5,s/=255,s-=.5,s*=i,s+=.5,a/=255,a-=.5,a*=i,a+=.5,r=(r*=255)<0?0:r>255?255:r,s=(s*=255)<0?0:s>255?255:s,a=(a*=255)<0?0:a>255?255:a,o[e]=r,o[e+1]=s,o[e+2]=a},o.Factory.addGetterSetter(n.Node,"contrast",0,(0,r.getNumberValidator)(),o.Factory.afterSetFilter)},1695:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Emboss=void 0;const o=i(1455),n=i(7939),r=i(8588),s=i(3774);e.Emboss=function(t){var e=10*this.embossStrength(),i=255*this.embossWhiteLevel(),o=this.embossDirection(),n=this.embossBlend(),s=0,a=0,l=t.data,c=t.width,u=t.height,h=4*c,d=u;switch(o){case"top-left":s=-1,a=-1;break;case"top":s=-1,a=0;break;case"top-right":s=-1,a=1;break;case"right":s=0,a=1;break;case"bottom-right":s=1,a=1;break;case"bottom":s=1,a=0;break;case"bottom-left":s=1,a=-1;break;case"left":s=0,a=-1;break;default:r.Util.error("Unknown emboss direction: "+o)}do{var p=(d-1)*h,f=s;d+f<1&&(f=0),d+f>u&&(f=0);var g=(d-1+f)*c*4,m=c;do{var y=p+4*(m-1),v=a;m+v<1&&(v=0),m+v>c&&(v=0);var _=g+4*(m-1+v),C=l[y]-l[_],b=l[y+1]-l[_+1],E=l[y+2]-l[_+2],S=C,w=S>0?S:-S;if((b>0?b:-b)>w&&(S=b),(E>0?E:-E)>w&&(S=E),S*=e,n){var O=l[y]+S,x=l[y+1]+S,P=l[y+2]+S;l[y]=O>255?255:O<0?0:O,l[y+1]=x>255?255:x<0?0:x,l[y+2]=P>255?255:P<0?0:P}else{var T=i-S;T<0?T=0:T>255&&(T=255),l[y]=l[y+1]=l[y+2]=T}}while(--m)}while(--d)},o.Factory.addGetterSetter(n.Node,"embossStrength",.5,(0,s.getNumberValidator)(),o.Factory.afterSetFilter),o.Factory.addGetterSetter(n.Node,"embossWhiteLevel",.5,(0,s.getNumberValidator)(),o.Factory.afterSetFilter),o.Factory.addGetterSetter(n.Node,"embossDirection","top-left",null,o.Factory.afterSetFilter),o.Factory.addGetterSetter(n.Node,"embossBlend",!1,null,o.Factory.afterSetFilter)},9621:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Enhance=void 0;const o=i(1455),n=i(7939),r=i(3774);function s(t,e,i,o,n){var r=i-e,s=n-o;return 0===r?o+s/2:0===s?o:s*((t-e)/r)+o}e.Enhance=function(t){var e,i,o,n,r=t.data,a=r.length,l=r[0],c=l,u=r[1],h=u,d=r[2],p=d,f=this.enhance();if(0!==f){for(n=0;n<a;n+=4)(e=r[n+0])<l?l=e:e>c&&(c=e),(i=r[n+1])<u?u=i:i>h&&(h=i),(o=r[n+2])<d?d=o:o>p&&(p=o);var g,m,y,v,_,C,b,E,S;for(c===l&&(c=255,l=0),h===u&&(h=255,u=0),p===d&&(p=255,d=0),f>0?(m=c+f*(255-c),y=l-f*(l-0),_=h+f*(255-h),C=u-f*(u-0),E=p+f*(255-p),S=d-f*(d-0)):(m=c+f*(c-(g=.5*(c+l))),y=l+f*(l-g),_=h+f*(h-(v=.5*(h+u))),C=u+f*(u-v),E=p+f*(p-(b=.5*(p+d))),S=d+f*(d-b)),n=0;n<a;n+=4)r[n+0]=s(r[n+0],l,c,y,m),r[n+1]=s(r[n+1],u,h,C,_),r[n+2]=s(r[n+2],d,p,S,E)}},o.Factory.addGetterSetter(n.Node,"enhance",0,(0,r.getNumberValidator)(),o.Factory.afterSetFilter)},1179:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Grayscale=void 0;e.Grayscale=function(t){var e,i,o=t.data,n=o.length;for(e=0;e<n;e+=4)i=.34*o[e]+.5*o[e+1]+.16*o[e+2],o[e]=i,o[e+1]=i,o[e+2]=i}},7194:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HSL=void 0;const o=i(1455),n=i(7939),r=i(3774);o.Factory.addGetterSetter(n.Node,"hue",0,(0,r.getNumberValidator)(),o.Factory.afterSetFilter),o.Factory.addGetterSetter(n.Node,"saturation",0,(0,r.getNumberValidator)(),o.Factory.afterSetFilter),o.Factory.addGetterSetter(n.Node,"luminance",0,(0,r.getNumberValidator)(),o.Factory.afterSetFilter);e.HSL=function(t){var e,i,o,n,r,s=t.data,a=s.length,l=Math.pow(2,this.saturation()),c=Math.abs(this.hue()+360)%360,u=127*this.luminance(),h=1*l*Math.cos(c*Math.PI/180),d=1*l*Math.sin(c*Math.PI/180),p=.299+.701*h+.167*d,f=.587-.587*h+.33*d,g=.114-.114*h-.497*d,m=.299-.299*h-.328*d,y=.587+.413*h+.035*d,v=.114-.114*h+.293*d,_=.299-.3*h+1.25*d,C=.587-.586*h-1.05*d,b=.114+.886*h-.2*d;for(e=0;e<a;e+=4)i=s[e+0],o=s[e+1],n=s[e+2],r=s[e+3],s[e+0]=p*i+f*o+g*n+u,s[e+1]=m*i+y*o+v*n+u,s[e+2]=_*i+C*o+b*n+u,s[e+3]=r}},3925:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HSV=void 0;const o=i(1455),n=i(7939),r=i(3774);e.HSV=function(t){var e,i,o,n,r,s=t.data,a=s.length,l=Math.pow(2,this.value()),c=Math.pow(2,this.saturation()),u=Math.abs(this.hue()+360)%360,h=l*c*Math.cos(u*Math.PI/180),d=l*c*Math.sin(u*Math.PI/180),p=.299*l+.701*h+.167*d,f=.587*l-.587*h+.33*d,g=.114*l-.114*h-.497*d,m=.299*l-.299*h-.328*d,y=.587*l+.413*h+.035*d,v=.114*l-.114*h+.293*d,_=.299*l-.3*h+1.25*d,C=.587*l-.586*h-1.05*d,b=.114*l+.886*h-.2*d;for(e=0;e<a;e+=4)i=s[e+0],o=s[e+1],n=s[e+2],r=s[e+3],s[e+0]=p*i+f*o+g*n,s[e+1]=m*i+y*o+v*n,s[e+2]=_*i+C*o+b*n,s[e+3]=r},o.Factory.addGetterSetter(n.Node,"hue",0,(0,r.getNumberValidator)(),o.Factory.afterSetFilter),o.Factory.addGetterSetter(n.Node,"saturation",0,(0,r.getNumberValidator)(),o.Factory.afterSetFilter),o.Factory.addGetterSetter(n.Node,"value",0,(0,r.getNumberValidator)(),o.Factory.afterSetFilter)},5751:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Invert=void 0;e.Invert=function(t){var e,i=t.data,o=i.length;for(e=0;e<o;e+=4)i[e]=255-i[e],i[e+1]=255-i[e+1],i[e+2]=255-i[e+2]}},6588:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Kaleidoscope=void 0;const o=i(1455),n=i(7939),r=i(8588),s=i(3774);e.Kaleidoscope=function(t){var e,i,o,n,s,a,l,c,u,h=t.width,d=t.height,p=Math.round(this.kaleidoscopePower()),f=Math.round(this.kaleidoscopeAngle()),g=Math.floor(h*(f%360)/360);if(!(p<1)){var m=r.Util.createCanvasElement();m.width=h,m.height=d;var y=m.getContext("2d").getImageData(0,0,h,d);r.Util.releaseCanvas(m),function(t,e,i){var o,n,r,s,a=t.data,l=e.data,c=t.width,u=t.height,h=i.polarCenterX||c/2,d=i.polarCenterY||u/2,p=0,f=0,g=0,m=0,y=Math.sqrt(h*h+d*d);n=c-h,r=u-d,y=(s=Math.sqrt(n*n+r*r))>y?s:y;var v,_,C,b,E=u,S=c,w=360/S*Math.PI/180;for(_=0;_<S;_+=1)for(C=Math.sin(_*w),b=Math.cos(_*w),v=0;v<E;v+=1)n=Math.floor(h+y*v/E*b),p=a[0+(o=4*((r=Math.floor(d+y*v/E*C))*c+n))],f=a[o+1],g=a[o+2],m=a[o+3],l[0+(o=4*(_+v*c))]=p,l[o+1]=f,l[o+2]=g,l[o+3]=m}(t,y,{polarCenterX:h/2,polarCenterY:d/2});for(var v=h/Math.pow(2,p);v<=8;)v*=2,p-=1;var _=v=Math.ceil(v),C=0,b=_,E=1;for(g+v>h&&(C=_,b=0,E=-1),i=0;i<d;i+=1)for(e=C;e!==b;e+=E)c=4*(h*i+Math.round(e+g)%h),n=y.data[c+0],s=y.data[c+1],a=y.data[c+2],l=y.data[c+3],u=4*(h*i+e),y.data[u+0]=n,y.data[u+1]=s,y.data[u+2]=a,y.data[u+3]=l;for(i=0;i<d;i+=1)for(_=Math.floor(v),o=0;o<p;o+=1){for(e=0;e<_+1;e+=1)c=4*(h*i+e),n=y.data[c+0],s=y.data[c+1],a=y.data[c+2],l=y.data[c+3],u=4*(h*i+2*_-e-1),y.data[u+0]=n,y.data[u+1]=s,y.data[u+2]=a,y.data[u+3]=l;_*=2}!function(t,e,i){var o,n,r,s,a,l,c=t.data,u=e.data,h=t.width,d=t.height,p=i.polarCenterX||h/2,f=i.polarCenterY||d/2,g=0,m=0,y=0,v=0,_=Math.sqrt(p*p+f*f);n=h-p,r=d-f,_=(l=Math.sqrt(n*n+r*r))>_?l:_;var C,b,E,S=d,w=h,O=i.polarRotation||0;for(n=0;n<h;n+=1)for(r=0;r<d;r+=1)s=n-p,a=r-f,C=Math.sqrt(s*s+a*a)*S/_,b=(b=(180*Math.atan2(a,s)/Math.PI+360+O)%360)*w/360,E=Math.floor(b),g=c[0+(o=4*(Math.floor(C)*h+E))],m=c[o+1],y=c[o+2],v=c[o+3],u[0+(o=4*(r*h+n))]=g,u[o+1]=m,u[o+2]=y,u[o+3]=v}(y,t,{polarRotation:0})}},o.Factory.addGetterSetter(n.Node,"kaleidoscopePower",2,(0,s.getNumberValidator)(),o.Factory.afterSetFilter),o.Factory.addGetterSetter(n.Node,"kaleidoscopeAngle",0,(0,s.getNumberValidator)(),o.Factory.afterSetFilter)},3565:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Mask=void 0;const o=i(1455),n=i(7939),r=i(3774);function s(t,e,i){var o=4*(i*t.width+e),n=[];return n.push(t.data[o++],t.data[o++],t.data[o++],t.data[o++]),n}function a(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)+Math.pow(t[2]-e[2],2))}e.Mask=function(t){var e=function(t,e){var i=s(t,0,0),o=s(t,t.width-1,0),n=s(t,0,t.height-1),r=s(t,t.width-1,t.height-1),l=e||10;if(a(i,o)<l&&a(o,r)<l&&a(r,n)<l&&a(n,i)<l){for(var c=function(t){for(var e=[0,0,0],i=0;i<t.length;i++)e[0]+=t[i][0],e[1]+=t[i][1],e[2]+=t[i][2];return e[0]/=t.length,e[1]/=t.length,e[2]/=t.length,e}([o,i,r,n]),u=[],h=0;h<t.width*t.height;h++){var d=a(c,[t.data[4*h],t.data[4*h+1],t.data[4*h+2]]);u[h]=d<l?0:255}return u}}(t,this.threshold());return e&&function(t,e){for(var i=0;i<t.width*t.height;i++)t.data[4*i+3]=e[i]}(t,e=function(t,e,i){for(var o=[1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9],n=Math.round(Math.sqrt(o.length)),r=Math.floor(n/2),s=[],a=0;a<i;a++)for(var l=0;l<e;l++){for(var c=a*e+l,u=0,h=0;h<n;h++)for(var d=0;d<n;d++){var p=a+h-r,f=l+d-r;if(p>=0&&p<i&&f>=0&&f<e){var g=o[h*n+d];u+=t[p*e+f]*g}}s[c]=u}return s}(e=function(t,e,i){for(var o=[1,1,1,1,1,1,1,1,1],n=Math.round(Math.sqrt(o.length)),r=Math.floor(n/2),s=[],a=0;a<i;a++)for(var l=0;l<e;l++){for(var c=a*e+l,u=0,h=0;h<n;h++)for(var d=0;d<n;d++){var p=a+h-r,f=l+d-r;if(p>=0&&p<i&&f>=0&&f<e){var g=o[h*n+d];u+=t[p*e+f]*g}}s[c]=u>=1020?255:0}return s}(e=function(t,e,i){for(var o=[1,1,1,1,0,1,1,1,1],n=Math.round(Math.sqrt(o.length)),r=Math.floor(n/2),s=[],a=0;a<i;a++)for(var l=0;l<e;l++){for(var c=a*e+l,u=0,h=0;h<n;h++)for(var d=0;d<n;d++){var p=a+h-r,f=l+d-r;if(p>=0&&p<i&&f>=0&&f<e){var g=o[h*n+d];u+=t[p*e+f]*g}}s[c]=2040===u?255:0}return s}(e,t.width,t.height),t.width,t.height),t.width,t.height)),t},o.Factory.addGetterSetter(n.Node,"threshold",0,(0,r.getNumberValidator)(),o.Factory.afterSetFilter)},5929:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Noise=void 0;const o=i(1455),n=i(7939),r=i(3774);e.Noise=function(t){var e,i=255*this.noise(),o=t.data,n=o.length,r=i/2;for(e=0;e<n;e+=4)o[e+0]+=r-2*r*Math.random(),o[e+1]+=r-2*r*Math.random(),o[e+2]+=r-2*r*Math.random()},o.Factory.addGetterSetter(n.Node,"noise",.2,(0,r.getNumberValidator)(),o.Factory.afterSetFilter)},7233:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Pixelate=void 0;const o=i(1455),n=i(8588),r=i(7939),s=i(3774);e.Pixelate=function(t){var e,i,o,r,s,a,l,c,u,h,d,p,f,g,m=Math.ceil(this.pixelSize()),y=t.width,v=t.height,_=Math.ceil(y/m),C=Math.ceil(v/m),b=t.data;if(m<=0)n.Util.error("pixelSize value can not be <= 0");else for(p=0;p<_;p+=1)for(f=0;f<C;f+=1){for(r=0,s=0,a=0,l=0,u=(c=p*m)+m,d=(h=f*m)+m,g=0,e=c;e<u;e+=1)if(!(e>=y))for(i=h;i<d;i+=1)i>=v||(r+=b[(o=4*(y*i+e))+0],s+=b[o+1],a+=b[o+2],l+=b[o+3],g+=1);for(r/=g,s/=g,a/=g,l/=g,e=c;e<u;e+=1)if(!(e>=y))for(i=h;i<d;i+=1)i>=v||(b[(o=4*(y*i+e))+0]=r,b[o+1]=s,b[o+2]=a,b[o+3]=l)}},o.Factory.addGetterSetter(r.Node,"pixelSize",8,(0,s.getNumberValidator)(),o.Factory.afterSetFilter)},8590:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Posterize=void 0;const o=i(1455),n=i(7939),r=i(3774);e.Posterize=function(t){var e,i=Math.round(254*this.levels())+1,o=t.data,n=o.length,r=255/i;for(e=0;e<n;e+=1)o[e]=Math.floor(o[e]/r)*r},o.Factory.addGetterSetter(n.Node,"levels",.5,(0,r.getNumberValidator)(),o.Factory.afterSetFilter)},8280:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RGB=void 0;const o=i(1455),n=i(7939),r=i(3774);e.RGB=function(t){var e,i,o=t.data,n=o.length,r=this.red(),s=this.green(),a=this.blue();for(e=0;e<n;e+=4)i=(.34*o[e]+.5*o[e+1]+.16*o[e+2])/255,o[e]=i*r,o[e+1]=i*s,o[e+2]=i*a,o[e+3]=o[e+3]},o.Factory.addGetterSetter(n.Node,"red",0,(function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)})),o.Factory.addGetterSetter(n.Node,"green",0,(function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)})),o.Factory.addGetterSetter(n.Node,"blue",0,r.RGBComponent,o.Factory.afterSetFilter)},3438:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RGBA=void 0;const o=i(1455),n=i(7939),r=i(3774);e.RGBA=function(t){var e,i,o=t.data,n=o.length,r=this.red(),s=this.green(),a=this.blue(),l=this.alpha();for(e=0;e<n;e+=4)i=1-l,o[e]=r*l+o[e]*i,o[e+1]=s*l+o[e+1]*i,o[e+2]=a*l+o[e+2]*i},o.Factory.addGetterSetter(n.Node,"red",0,(function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)})),o.Factory.addGetterSetter(n.Node,"green",0,(function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)})),o.Factory.addGetterSetter(n.Node,"blue",0,r.RGBComponent,o.Factory.afterSetFilter),o.Factory.addGetterSetter(n.Node,"alpha",1,(function(t){return this._filterUpToDate=!1,t>1?1:t<0?0:t}))},6703:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Sepia=void 0;e.Sepia=function(t){var e,i,o,n,r=t.data,s=r.length;for(e=0;e<s;e+=4)i=r[e+0],o=r[e+1],n=r[e+2],r[e+0]=Math.min(255,.393*i+.769*o+.189*n),r[e+1]=Math.min(255,.349*i+.686*o+.168*n),r[e+2]=Math.min(255,.272*i+.534*o+.131*n)}},1665:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Solarize=void 0;e.Solarize=function(t){var e=t.data,i=t.width,o=4*i,n=t.height;do{var r=(n-1)*o,s=i;do{var a=r+4*(s-1),l=e[a],c=e[a+1],u=e[a+2];l>127&&(l=255-l),c>127&&(c=255-c),u>127&&(u=255-u),e[a]=l,e[a+1]=c,e[a+2]=u}while(--s)}while(--n)}},1863:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Threshold=void 0;const o=i(1455),n=i(7939),r=i(3774);e.Threshold=function(t){var e,i=255*this.threshold(),o=t.data,n=o.length;for(e=0;e<n;e+=1)o[e]=o[e]<i?0:255},o.Factory.addGetterSetter(n.Node,"threshold",.5,(0,r.getNumberValidator)(),o.Factory.afterSetFilter)},185:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const o=i(2076);t.exports=o.Konva},119:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Arc=void 0;const o=i(1455),n=i(7955),r=i(4417),s=i(3774),a=i(4417);class l extends n.Shape{_sceneFunc(t){var e=r.Konva.getAngle(this.angle()),i=this.clockwise();t.beginPath(),t.arc(0,0,this.outerRadius(),0,e,i),t.arc(0,0,this.innerRadius(),e,0,!i),t.closePath(),t.fillStrokeShape(this)}getWidth(){return 2*this.outerRadius()}getHeight(){return 2*this.outerRadius()}setWidth(t){this.outerRadius(t/2)}setHeight(t){this.outerRadius(t/2)}getSelfRect(){const t=this.innerRadius(),e=this.outerRadius(),i=this.clockwise(),o=r.Konva.getAngle(i?360-this.angle():this.angle()),n=Math.cos(Math.min(o,Math.PI)),s=Math.sin(Math.min(Math.max(Math.PI,o),3*Math.PI/2)),a=Math.sin(Math.min(o,Math.PI/2)),l=n*(n>0?t:e),c=s*(s>0?t:e),u=a*(a>0?e:t);return{x:l,y:i?-1*u:c,width:1*e-l,height:u-c}}}e.Arc=l,l.prototype._centroid=!0,l.prototype.className="Arc",l.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,a._registerNode)(l),o.Factory.addGetterSetter(l,"innerRadius",0,(0,s.getNumberValidator)()),o.Factory.addGetterSetter(l,"outerRadius",0,(0,s.getNumberValidator)()),o.Factory.addGetterSetter(l,"angle",0,(0,s.getNumberValidator)()),o.Factory.addGetterSetter(l,"clockwise",!1,(0,s.getBooleanValidator)())},2064:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Arrow=void 0;const o=i(1455),n=i(7149),r=i(3774),s=i(4417),a=i(7339);class l extends n.Line{_sceneFunc(t){super._sceneFunc(t);var e=2*Math.PI,i=this.points(),o=i,n=0!==this.tension()&&i.length>4;n&&(o=this.getTensionPoints());var r,s,l=this.pointerLength(),c=i.length;if(n){const t=[o[o.length-4],o[o.length-3],o[o.length-2],o[o.length-1],i[c-2],i[c-1]],e=a.Path.calcLength(o[o.length-4],o[o.length-3],"C",t),n=a.Path.getPointOnQuadraticBezier(Math.min(1,1-l/e),t[0],t[1],t[2],t[3],t[4],t[5]);r=i[c-2]-n.x,s=i[c-1]-n.y}else r=i[c-2]-i[c-4],s=i[c-1]-i[c-3];var u=(Math.atan2(s,r)+e)%e,h=this.pointerWidth();this.pointerAtEnding()&&(t.save(),t.beginPath(),t.translate(i[c-2],i[c-1]),t.rotate(u),t.moveTo(0,0),t.lineTo(-l,h/2),t.lineTo(-l,-h/2),t.closePath(),t.restore(),this.__fillStroke(t)),this.pointerAtBeginning()&&(t.save(),t.beginPath(),t.translate(i[0],i[1]),n?(r=(o[0]+o[2])/2-i[0],s=(o[1]+o[3])/2-i[1]):(r=i[2]-i[0],s=i[3]-i[1]),t.rotate((Math.atan2(-s,-r)+e)%e),t.moveTo(0,0),t.lineTo(-l,h/2),t.lineTo(-l,-h/2),t.closePath(),t.restore(),this.__fillStroke(t))}__fillStroke(t){var e=this.dashEnabled();e&&(this.attrs.dashEnabled=!1,t.setLineDash([])),t.fillStrokeShape(this),e&&(this.attrs.dashEnabled=!0)}getSelfRect(){const t=super.getSelfRect(),e=this.pointerWidth()/2;return{x:t.x-e,y:t.y-e,width:t.width+2*e,height:t.height+2*e}}}e.Arrow=l,l.prototype.className="Arrow",(0,s._registerNode)(l),o.Factory.addGetterSetter(l,"pointerLength",10,(0,r.getNumberValidator)()),o.Factory.addGetterSetter(l,"pointerWidth",10,(0,r.getNumberValidator)()),o.Factory.addGetterSetter(l,"pointerAtBeginning",!1),o.Factory.addGetterSetter(l,"pointerAtEnding",!0)},7643:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Circle=void 0;const o=i(1455),n=i(7955),r=i(3774),s=i(4417);class a extends n.Shape{_sceneFunc(t){t.beginPath(),t.arc(0,0,this.attrs.radius||0,0,2*Math.PI,!1),t.closePath(),t.fillStrokeShape(this)}getWidth(){return 2*this.radius()}getHeight(){return 2*this.radius()}setWidth(t){this.radius()!==t/2&&this.radius(t/2)}setHeight(t){this.radius()!==t/2&&this.radius(t/2)}}e.Circle=a,a.prototype._centroid=!0,a.prototype.className="Circle",a.prototype._attrsAffectingSize=["radius"],(0,s._registerNode)(a),o.Factory.addGetterSetter(a,"radius",0,(0,r.getNumberValidator)())},535:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Ellipse=void 0;const o=i(1455),n=i(7955),r=i(3774),s=i(4417);class a extends n.Shape{_sceneFunc(t){var e=this.radiusX(),i=this.radiusY();t.beginPath(),t.save(),e!==i&&t.scale(1,i/e),t.arc(0,0,e,0,2*Math.PI,!1),t.restore(),t.closePath(),t.fillStrokeShape(this)}getWidth(){return 2*this.radiusX()}getHeight(){return 2*this.radiusY()}setWidth(t){this.radiusX(t/2)}setHeight(t){this.radiusY(t/2)}}e.Ellipse=a,a.prototype.className="Ellipse",a.prototype._centroid=!0,a.prototype._attrsAffectingSize=["radiusX","radiusY"],(0,s._registerNode)(a),o.Factory.addComponentsGetterSetter(a,"radius",["x","y"]),o.Factory.addGetterSetter(a,"radiusX",0,(0,r.getNumberValidator)()),o.Factory.addGetterSetter(a,"radiusY",0,(0,r.getNumberValidator)())},1298:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Image=void 0;const o=i(8588),n=i(1455),r=i(7955),s=i(4417),a=i(3774);class l extends r.Shape{constructor(t){super(t),this.on("imageChange.konva",(()=>{this._setImageLoad()})),this._setImageLoad()}_setImageLoad(){const t=this.image();t&&t.complete||t&&4===t.readyState||t&&t.addEventListener&&t.addEventListener("load",(()=>{this._requestDraw()}))}_useBufferCanvas(){return super._useBufferCanvas(!0)}_sceneFunc(t){const e=this.getWidth(),i=this.getHeight(),n=this.cornerRadius(),r=this.attrs.image;let s;if(r){const t=this.attrs.cropWidth,o=this.attrs.cropHeight;s=t&&o?[r,this.cropX(),this.cropY(),t,o,0,0,e,i]:[r,0,0,e,i]}(this.hasFill()||this.hasStroke()||n)&&(t.beginPath(),n?o.Util.drawRoundedRectPath(t,e,i,n):t.rect(0,0,e,i),t.closePath(),t.fillStrokeShape(this)),r&&(n&&t.clip(),t.drawImage.apply(t,s))}_hitFunc(t){var e=this.width(),i=this.height(),n=this.cornerRadius();t.beginPath(),n?o.Util.drawRoundedRectPath(t,e,i,n):t.rect(0,0,e,i),t.closePath(),t.fillStrokeShape(this)}getWidth(){var t,e;return null!==(t=this.attrs.width)&&void 0!==t?t:null===(e=this.image())||void 0===e?void 0:e.width}getHeight(){var t,e;return null!==(t=this.attrs.height)&&void 0!==t?t:null===(e=this.image())||void 0===e?void 0:e.height}static fromURL(t,e,i=null){var n=o.Util.createImageElement();n.onload=function(){var t=new l({image:n});e(t)},n.onerror=i,n.crossOrigin="Anonymous",n.src=t}}e.Image=l,l.prototype.className="Image",(0,s._registerNode)(l),n.Factory.addGetterSetter(l,"cornerRadius",0,(0,a.getNumberOrArrayOfNumbersValidator)(4)),n.Factory.addGetterSetter(l,"image"),n.Factory.addComponentsGetterSetter(l,"crop",["x","y","width","height"]),n.Factory.addGetterSetter(l,"cropX",0,(0,a.getNumberValidator)()),n.Factory.addGetterSetter(l,"cropY",0,(0,a.getNumberValidator)()),n.Factory.addGetterSetter(l,"cropWidth",0,(0,a.getNumberValidator)()),n.Factory.addGetterSetter(l,"cropHeight",0,(0,a.getNumberValidator)())},6067:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Tag=e.Label=void 0;const o=i(1455),n=i(7955),r=i(8985),s=i(3774),a=i(4417);var l=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],c="up",u="right",h="down",d="left",p=l.length;class f extends r.Group{constructor(t){super(t),this.on("add.konva",(function(t){this._addListeners(t.child),this._sync()}))}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(t){var e,i=this,o=function(){i._sync()};for(e=0;e<p;e++)t.on(l[e]+"Change.konva",o)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){var t,e,i,o,n,r,s,a=this.getText(),l=this.getTag();if(a&&l){switch(t=a.width(),e=a.height(),i=l.pointerDirection(),o=l.pointerWidth(),s=l.pointerHeight(),n=0,r=0,i){case c:n=t/2,r=-1*s;break;case u:n=t+o,r=e/2;break;case h:n=t/2,r=e+s;break;case d:n=-1*o,r=e/2}l.setAttrs({x:-1*n,y:-1*r,width:t,height:e}),a.setAttrs({x:-1*n,y:-1*r})}}}e.Label=f,f.prototype.className="Label",(0,a._registerNode)(f);class g extends n.Shape{_sceneFunc(t){var e=this.width(),i=this.height(),o=this.pointerDirection(),n=this.pointerWidth(),r=this.pointerHeight(),s=this.cornerRadius();let a=0,l=0,p=0,f=0;"number"==typeof s?a=l=p=f=Math.min(s,e/2,i/2):(a=Math.min(s[0]||0,e/2,i/2),l=Math.min(s[1]||0,e/2,i/2),f=Math.min(s[2]||0,e/2,i/2),p=Math.min(s[3]||0,e/2,i/2)),t.beginPath(),t.moveTo(a,0),o===c&&(t.lineTo((e-n)/2,0),t.lineTo(e/2,-1*r),t.lineTo((e+n)/2,0)),t.lineTo(e-l,0),t.arc(e-l,l,l,3*Math.PI/2,0,!1),o===u&&(t.lineTo(e,(i-r)/2),t.lineTo(e+n,i/2),t.lineTo(e,(i+r)/2)),t.lineTo(e,i-f),t.arc(e-f,i-f,f,0,Math.PI/2,!1),o===h&&(t.lineTo((e+n)/2,i),t.lineTo(e/2,i+r),t.lineTo((e-n)/2,i)),t.lineTo(p,i),t.arc(p,i-p,p,Math.PI/2,Math.PI,!1),o===d&&(t.lineTo(0,(i+r)/2),t.lineTo(-1*n,i/2),t.lineTo(0,(i-r)/2)),t.lineTo(0,a),t.arc(a,a,a,Math.PI,3*Math.PI/2,!1),t.closePath(),t.fillStrokeShape(this)}getSelfRect(){var t=0,e=0,i=this.pointerWidth(),o=this.pointerHeight(),n=this.pointerDirection(),r=this.width(),s=this.height();return n===c?(e-=o,s+=o):n===h?s+=o:n===d?(t-=1.5*i,r+=i):n===u&&(r+=1.5*i),{x:t,y:e,width:r,height:s}}}e.Tag=g,g.prototype.className="Tag",(0,a._registerNode)(g),o.Factory.addGetterSetter(g,"pointerDirection","none"),o.Factory.addGetterSetter(g,"pointerWidth",0,(0,s.getNumberValidator)()),o.Factory.addGetterSetter(g,"pointerHeight",0,(0,s.getNumberValidator)()),o.Factory.addGetterSetter(g,"cornerRadius",0,(0,s.getNumberOrArrayOfNumbersValidator)(4))},7149:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Line=void 0;const o=i(1455),n=i(7955),r=i(3774),s=i(4417);function a(t,e,i,o,n,r,s){var a=Math.sqrt(Math.pow(i-t,2)+Math.pow(o-e,2)),l=Math.sqrt(Math.pow(n-i,2)+Math.pow(r-o,2)),c=s*a/(a+l),u=s*l/(a+l);return[i-c*(n-t),o-c*(r-e),i+u*(n-t),o+u*(r-e)]}function l(t,e){var i,o,n=t.length,r=[];for(i=2;i<n-2;i+=2)o=a(t[i-2],t[i-1],t[i],t[i+1],t[i+2],t[i+3],e),isNaN(o[0])||(r.push(o[0]),r.push(o[1]),r.push(t[i]),r.push(t[i+1]),r.push(o[2]),r.push(o[3]));return r}class c extends n.Shape{constructor(t){super(t),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",(function(){this._clearCache("tensionPoints")}))}_sceneFunc(t){var e,i,o,n=this.points(),r=n.length,s=this.tension(),a=this.closed(),l=this.bezier();if(r){if(t.beginPath(),t.moveTo(n[0],n[1]),0!==s&&r>4){for(i=(e=this.getTensionPoints()).length,o=a?0:4,a||t.quadraticCurveTo(e[0],e[1],e[2],e[3]);o<i-2;)t.bezierCurveTo(e[o++],e[o++],e[o++],e[o++],e[o++],e[o++]);a||t.quadraticCurveTo(e[i-2],e[i-1],n[r-2],n[r-1])}else if(l)for(o=2;o<r;)t.bezierCurveTo(n[o++],n[o++],n[o++],n[o++],n[o++],n[o++]);else for(o=2;o<r;o+=2)t.lineTo(n[o],n[o+1]);a?(t.closePath(),t.fillStrokeShape(this)):t.strokeShape(this)}}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():l(this.points(),this.tension())}_getTensionPointsClosed(){var t=this.points(),e=t.length,i=this.tension(),o=a(t[e-2],t[e-1],t[0],t[1],t[2],t[3],i),n=a(t[e-4],t[e-3],t[e-2],t[e-1],t[0],t[1],i),r=l(t,i);return[o[2],o[3]].concat(r).concat([n[0],n[1],t[e-2],t[e-1],n[2],n[3],o[0],o[1],t[0],t[1]])}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){var t=this.points();if(t.length<4)return{x:t[0]||0,y:t[1]||0,width:0,height:0};for(var e,i,o=(t=0!==this.tension()?[t[0],t[1],...this._getTensionPoints(),t[t.length-2],t[t.length-1]]:this.points())[0],n=t[0],r=t[1],s=t[1],a=0;a<t.length/2;a++)e=t[2*a],i=t[2*a+1],o=Math.min(o,e),n=Math.max(n,e),r=Math.min(r,i),s=Math.max(s,i);return{x:o,y:r,width:n-o,height:s-r}}}e.Line=c,c.prototype.className="Line",c.prototype._attrsAffectingSize=["points","bezier","tension"],(0,s._registerNode)(c),o.Factory.addGetterSetter(c,"closed",!1),o.Factory.addGetterSetter(c,"bezier",!1),o.Factory.addGetterSetter(c,"tension",0,(0,r.getNumberValidator)()),o.Factory.addGetterSetter(c,"points",[],(0,r.getNumberArrayValidator)())},7339:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Path=void 0;const o=i(1455),n=i(7955),r=i(4417),s=i(4135);class a extends n.Shape{constructor(t){super(t),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",(function(){this._readDataAttribute()}))}_readDataAttribute(){this.dataArray=a.parsePathData(this.data()),this.pathLength=a.getPathLength(this.dataArray)}_sceneFunc(t){var e=this.dataArray;t.beginPath();for(var i=!1,o=0;o<e.length;o++){var n=e[o].command,r=e[o].points;switch(n){case"L":t.lineTo(r[0],r[1]);break;case"M":t.moveTo(r[0],r[1]);break;case"C":t.bezierCurveTo(r[0],r[1],r[2],r[3],r[4],r[5]);break;case"Q":t.quadraticCurveTo(r[0],r[1],r[2],r[3]);break;case"A":var s=r[0],a=r[1],l=r[2],c=r[3],u=r[4],h=r[5],d=r[6],p=r[7],f=l>c?l:c,g=l>c?1:l/c,m=l>c?c/l:1;t.translate(s,a),t.rotate(d),t.scale(g,m),t.arc(0,0,f,u,u+h,1-p),t.scale(1/g,1/m),t.rotate(-d),t.translate(-s,-a);break;case"z":i=!0,t.closePath()}}i||this.hasFill()?t.fillStrokeShape(this):t.strokeShape(this)}getSelfRect(){var t=[];this.dataArray.forEach((function(e){if("A"===e.command){var i=e.points[4],o=e.points[5],n=e.points[4]+o,r=Math.PI/180;if(Math.abs(i-n)<r&&(r=Math.abs(i-n)),o<0)for(let o=i-r;o>n;o-=r){const i=a.getPointOnEllipticalArc(e.points[0],e.points[1],e.points[2],e.points[3],o,0);t.push(i.x,i.y)}else for(let o=i+r;o<n;o+=r){const i=a.getPointOnEllipticalArc(e.points[0],e.points[1],e.points[2],e.points[3],o,0);t.push(i.x,i.y)}}else if("C"===e.command)for(let i=0;i<=1;i+=.01){const o=a.getPointOnCubicBezier(i,e.start.x,e.start.y,e.points[0],e.points[1],e.points[2],e.points[3],e.points[4],e.points[5]);t.push(o.x,o.y)}else t=t.concat(e.points)}));for(var e,i,o=t[0],n=t[0],r=t[1],s=t[1],l=0;l<t.length/2;l++)e=t[2*l],i=t[2*l+1],isNaN(e)||(o=Math.min(o,e),n=Math.max(n,e)),isNaN(i)||(r=Math.min(r,i),s=Math.max(s,i));return{x:o,y:r,width:n-o,height:s-r}}getLength(){return this.pathLength}getPointAtLength(t){return a.getPointAtLengthOfDataArray(t,this.dataArray)}static getLineLength(t,e,i,o){return Math.sqrt((i-t)*(i-t)+(o-e)*(o-e))}static getPathLength(t){let e=0;for(var i=0;i<t.length;++i)e+=t[i].pathLength;return e}static getPointAtLengthOfDataArray(t,e){var i,o=0,n=e.length;if(!n)return null;for(;o<n&&t>e[o].pathLength;)t-=e[o].pathLength,++o;if(o===n)return{x:(i=e[o-1].points.slice(-2))[0],y:i[1]};if(t<.01)return{x:(i=e[o].points.slice(0,2))[0],y:i[1]};var r=e[o],l=r.points;switch(r.command){case"L":return a.getPointOnLine(t,r.start.x,r.start.y,l[0],l[1]);case"C":return a.getPointOnCubicBezier((0,s.t2length)(t,a.getPathLength(e),(t=>(0,s.getCubicArcLength)([r.start.x,l[0],l[2],l[4]],[r.start.y,l[1],l[3],l[5]],t))),r.start.x,r.start.y,l[0],l[1],l[2],l[3],l[4],l[5]);case"Q":return a.getPointOnQuadraticBezier((0,s.t2length)(t,a.getPathLength(e),(t=>(0,s.getQuadraticArcLength)([r.start.x,l[0],l[2]],[r.start.y,l[1],l[3]],t))),r.start.x,r.start.y,l[0],l[1],l[2],l[3]);case"A":var c=l[0],u=l[1],h=l[2],d=l[3],p=l[4],f=l[5],g=l[6];return p+=f*t/r.pathLength,a.getPointOnEllipticalArc(c,u,h,d,p,g)}return null}static getPointOnLine(t,e,i,o,n,r,s){void 0===r&&(r=e),void 0===s&&(s=i);var a=(n-i)/(o-e+1e-8),l=Math.sqrt(t*t/(1+a*a));o<e&&(l*=-1);var c,u=a*l;if(o===e)c={x:r,y:s+u};else if((s-i)/(r-e+1e-8)===a)c={x:r+l,y:s+u};else{var h,d,p=this.getLineLength(e,i,o,n),f=(r-e)*(o-e)+(s-i)*(n-i);h=e+(f/=p*p)*(o-e),d=i+f*(n-i);var g=this.getLineLength(r,s,h,d),m=Math.sqrt(t*t-g*g);l=Math.sqrt(m*m/(1+a*a)),o<e&&(l*=-1),c={x:h+l,y:d+(u=a*l)}}return c}static getPointOnCubicBezier(t,e,i,o,n,r,s,a,l){function c(t){return t*t*t}function u(t){return 3*t*t*(1-t)}function h(t){return 3*t*(1-t)*(1-t)}function d(t){return(1-t)*(1-t)*(1-t)}return{x:a*c(t)+r*u(t)+o*h(t)+e*d(t),y:l*c(t)+s*u(t)+n*h(t)+i*d(t)}}static getPointOnQuadraticBezier(t,e,i,o,n,r,s){function a(t){return t*t}function l(t){return 2*t*(1-t)}function c(t){return(1-t)*(1-t)}return{x:r*a(t)+o*l(t)+e*c(t),y:s*a(t)+n*l(t)+i*c(t)}}static getPointOnEllipticalArc(t,e,i,o,n,r){var s=Math.cos(r),a=Math.sin(r),l=i*Math.cos(n),c=o*Math.sin(n);return{x:t+(l*s-c*a),y:e+(l*a+c*s)}}static parsePathData(t){if(!t)return[];var e=t,i=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];e=e.replace(new RegExp(" ","g"),",");for(var o=0;o<i.length;o++)e=e.replace(new RegExp(i[o],"g"),"|"+i[o]);var n,r=e.split("|"),s=[],a=[],l=0,c=0,u=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;for(o=1;o<r.length;o++){var h=r[o],d=h.charAt(0);for(h=h.slice(1),a.length=0;n=u.exec(h);)a.push(n[0]);for(var p=[],f=0,g=a.length;f<g;f++)if("00"!==a[f]){var m=parseFloat(a[f]);isNaN(m)?p.push(0):p.push(m)}else p.push(0,0);for(;p.length>0&&!isNaN(p[0]);){var y,v,_,C,b,E,S,w,O,x,P=null,T=[],M=l,D=c;switch(d){case"l":l+=p.shift(),c+=p.shift(),P="L",T.push(l,c);break;case"L":l=p.shift(),c=p.shift(),T.push(l,c);break;case"m":var A=p.shift(),R=p.shift();if(l+=A,c+=R,P="M",s.length>2&&"z"===s[s.length-1].command)for(var L=s.length-2;L>=0;L--)if("M"===s[L].command){l=s[L].points[0]+A,c=s[L].points[1]+R;break}T.push(l,c),d="l";break;case"M":l=p.shift(),c=p.shift(),P="M",T.push(l,c),d="L";break;case"h":l+=p.shift(),P="L",T.push(l,c);break;case"H":l=p.shift(),P="L",T.push(l,c);break;case"v":c+=p.shift(),P="L",T.push(l,c);break;case"V":c=p.shift(),P="L",T.push(l,c);break;case"C":T.push(p.shift(),p.shift(),p.shift(),p.shift()),l=p.shift(),c=p.shift(),T.push(l,c);break;case"c":T.push(l+p.shift(),c+p.shift(),l+p.shift(),c+p.shift()),l+=p.shift(),c+=p.shift(),P="C",T.push(l,c);break;case"S":v=l,_=c,"C"===(y=s[s.length-1]).command&&(v=l+(l-y.points[2]),_=c+(c-y.points[3])),T.push(v,_,p.shift(),p.shift()),l=p.shift(),c=p.shift(),P="C",T.push(l,c);break;case"s":v=l,_=c,"C"===(y=s[s.length-1]).command&&(v=l+(l-y.points[2]),_=c+(c-y.points[3])),T.push(v,_,l+p.shift(),c+p.shift()),l+=p.shift(),c+=p.shift(),P="C",T.push(l,c);break;case"Q":T.push(p.shift(),p.shift()),l=p.shift(),c=p.shift(),T.push(l,c);break;case"q":T.push(l+p.shift(),c+p.shift()),l+=p.shift(),c+=p.shift(),P="Q",T.push(l,c);break;case"T":v=l,_=c,"Q"===(y=s[s.length-1]).command&&(v=l+(l-y.points[0]),_=c+(c-y.points[1])),l=p.shift(),c=p.shift(),P="Q",T.push(v,_,l,c);break;case"t":v=l,_=c,"Q"===(y=s[s.length-1]).command&&(v=l+(l-y.points[0]),_=c+(c-y.points[1])),l+=p.shift(),c+=p.shift(),P="Q",T.push(v,_,l,c);break;case"A":C=p.shift(),b=p.shift(),E=p.shift(),S=p.shift(),w=p.shift(),O=l,x=c,l=p.shift(),c=p.shift(),P="A",T=this.convertEndpointToCenterParameterization(O,x,l,c,S,w,C,b,E);break;case"a":C=p.shift(),b=p.shift(),E=p.shift(),S=p.shift(),w=p.shift(),O=l,x=c,l+=p.shift(),c+=p.shift(),P="A",T=this.convertEndpointToCenterParameterization(O,x,l,c,S,w,C,b,E)}s.push({command:P||d,points:T,start:{x:M,y:D},pathLength:this.calcLength(M,D,P||d,T)})}"z"!==d&&"Z"!==d||s.push({command:"z",points:[],start:void 0,pathLength:0})}return s}static calcLength(t,e,i,o){var n,r,l,c,u=a;switch(i){case"L":return u.getLineLength(t,e,o[0],o[1]);case"C":return(0,s.getCubicArcLength)([t,o[0],o[2],o[4]],[e,o[1],o[3],o[5]],1);case"Q":return(0,s.getQuadraticArcLength)([t,o[0],o[2]],[e,o[1],o[3]],1);case"A":n=0;var h=o[4],d=o[5],p=o[4]+d,f=Math.PI/180;if(Math.abs(h-p)<f&&(f=Math.abs(h-p)),r=u.getPointOnEllipticalArc(o[0],o[1],o[2],o[3],h,0),d<0)for(c=h-f;c>p;c-=f)l=u.getPointOnEllipticalArc(o[0],o[1],o[2],o[3],c,0),n+=u.getLineLength(r.x,r.y,l.x,l.y),r=l;else for(c=h+f;c<p;c+=f)l=u.getPointOnEllipticalArc(o[0],o[1],o[2],o[3],c,0),n+=u.getLineLength(r.x,r.y,l.x,l.y),r=l;return l=u.getPointOnEllipticalArc(o[0],o[1],o[2],o[3],p,0),n+=u.getLineLength(r.x,r.y,l.x,l.y)}return 0}static convertEndpointToCenterParameterization(t,e,i,o,n,r,s,a,l){var c=l*(Math.PI/180),u=Math.cos(c)*(t-i)/2+Math.sin(c)*(e-o)/2,h=-1*Math.sin(c)*(t-i)/2+Math.cos(c)*(e-o)/2,d=u*u/(s*s)+h*h/(a*a);d>1&&(s*=Math.sqrt(d),a*=Math.sqrt(d));var p=Math.sqrt((s*s*(a*a)-s*s*(h*h)-a*a*(u*u))/(s*s*(h*h)+a*a*(u*u)));n===r&&(p*=-1),isNaN(p)&&(p=0);var f=p*s*h/a,g=p*-a*u/s,m=(t+i)/2+Math.cos(c)*f-Math.sin(c)*g,y=(e+o)/2+Math.sin(c)*f+Math.cos(c)*g,v=function(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])},_=function(t,e){return(t[0]*e[0]+t[1]*e[1])/(v(t)*v(e))},C=function(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(_(t,e))},b=C([1,0],[(u-f)/s,(h-g)/a]),E=[(u-f)/s,(h-g)/a],S=[(-1*u-f)/s,(-1*h-g)/a],w=C(E,S);return _(E,S)<=-1&&(w=Math.PI),_(E,S)>=1&&(w=0),0===r&&w>0&&(w-=2*Math.PI),1===r&&w<0&&(w+=2*Math.PI),[m,y,s,a,b,w,c,r]}}e.Path=a,a.prototype.className="Path",a.prototype._attrsAffectingSize=["data"],(0,r._registerNode)(a),o.Factory.addGetterSetter(a,"data")},5244:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Rect=void 0;const o=i(1455),n=i(7955),r=i(4417),s=i(8588),a=i(3774);class l extends n.Shape{_sceneFunc(t){var e=this.cornerRadius(),i=this.width(),o=this.height();t.beginPath(),e?s.Util.drawRoundedRectPath(t,i,o,e):t.rect(0,0,i,o),t.closePath(),t.fillStrokeShape(this)}}e.Rect=l,l.prototype.className="Rect",(0,r._registerNode)(l),o.Factory.addGetterSetter(l,"cornerRadius",0,(0,a.getNumberOrArrayOfNumbersValidator)(4))},1785:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RegularPolygon=void 0;const o=i(1455),n=i(7955),r=i(3774),s=i(4417);class a extends n.Shape{_sceneFunc(t){const e=this._getPoints();t.beginPath(),t.moveTo(e[0].x,e[0].y);for(var i=1;i<e.length;i++)t.lineTo(e[i].x,e[i].y);t.closePath(),t.fillStrokeShape(this)}_getPoints(){const t=this.attrs.sides,e=this.attrs.radius||0,i=[];for(var o=0;o<t;o++)i.push({x:e*Math.sin(2*o*Math.PI/t),y:-1*e*Math.cos(2*o*Math.PI/t)});return i}getSelfRect(){const t=this._getPoints();var e=t[0].x,i=t[0].y,o=t[0].x,n=t[0].y;return t.forEach((t=>{e=Math.min(e,t.x),i=Math.max(i,t.x),o=Math.min(o,t.y),n=Math.max(n,t.y)})),{x:e,y:o,width:i-e,height:n-o}}getWidth(){return 2*this.radius()}getHeight(){return 2*this.radius()}setWidth(t){this.radius(t/2)}setHeight(t){this.radius(t/2)}}e.RegularPolygon=a,a.prototype.className="RegularPolygon",a.prototype._centroid=!0,a.prototype._attrsAffectingSize=["radius"],(0,s._registerNode)(a),o.Factory.addGetterSetter(a,"radius",0,(0,r.getNumberValidator)()),o.Factory.addGetterSetter(a,"sides",0,(0,r.getNumberValidator)())},657:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Ring=void 0;const o=i(1455),n=i(7955),r=i(3774),s=i(4417);var a=2*Math.PI;class l extends n.Shape{_sceneFunc(t){t.beginPath(),t.arc(0,0,this.innerRadius(),0,a,!1),t.moveTo(this.outerRadius(),0),t.arc(0,0,this.outerRadius(),a,0,!0),t.closePath(),t.fillStrokeShape(this)}getWidth(){return 2*this.outerRadius()}getHeight(){return 2*this.outerRadius()}setWidth(t){this.outerRadius(t/2)}setHeight(t){this.outerRadius(t/2)}}e.Ring=l,l.prototype.className="Ring",l.prototype._centroid=!0,l.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,s._registerNode)(l),o.Factory.addGetterSetter(l,"innerRadius",0,(0,r.getNumberValidator)()),o.Factory.addGetterSetter(l,"outerRadius",0,(0,r.getNumberValidator)())},8986:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Sprite=void 0;const o=i(1455),n=i(7955),r=i(6745),s=i(3774),a=i(4417);class l extends n.Shape{constructor(t){super(t),this._updated=!0,this.anim=new r.Animation((()=>{var t=this._updated;return this._updated=!1,t})),this.on("animationChange.konva",(function(){this.frameIndex(0)})),this.on("frameIndexChange.konva",(function(){this._updated=!0})),this.on("frameRateChange.konva",(function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())}))}_sceneFunc(t){var e=this.animation(),i=this.frameIndex(),o=4*i,n=this.animations()[e],r=this.frameOffsets(),s=n[o+0],a=n[o+1],l=n[o+2],c=n[o+3],u=this.image();if((this.hasFill()||this.hasStroke())&&(t.beginPath(),t.rect(0,0,l,c),t.closePath(),t.fillStrokeShape(this)),u)if(r){var h=r[e],d=2*i;t.drawImage(u,s,a,l,c,h[d+0],h[d+1],l,c)}else t.drawImage(u,s,a,l,c,0,0,l,c)}_hitFunc(t){var e=this.animation(),i=this.frameIndex(),o=4*i,n=this.animations()[e],r=this.frameOffsets(),s=n[o+2],a=n[o+3];if(t.beginPath(),r){var l=r[e],c=2*i;t.rect(l[c+0],l[c+1],s,a)}else t.rect(0,0,s,a);t.closePath(),t.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){var t=this;this.interval=setInterval((function(){t._updateIndex()}),1e3/this.frameRate())}start(){if(!this.isRunning()){var t=this.getLayer();this.anim.setLayers(t),this._setInterval(),this.anim.start()}}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){var t=this.frameIndex(),e=this.animation();t<this.animations()[e].length/4-1?this.frameIndex(t+1):this.frameIndex(0)}}e.Sprite=l,l.prototype.className="Sprite",(0,a._registerNode)(l),o.Factory.addGetterSetter(l,"animation"),o.Factory.addGetterSetter(l,"animations"),o.Factory.addGetterSetter(l,"frameOffsets"),o.Factory.addGetterSetter(l,"image"),o.Factory.addGetterSetter(l,"frameIndex",0,(0,s.getNumberValidator)()),o.Factory.addGetterSetter(l,"frameRate",17,(0,s.getNumberValidator)()),o.Factory.backCompat(l,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"})},1964:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Star=void 0;const o=i(1455),n=i(7955),r=i(3774),s=i(4417);class a extends n.Shape{_sceneFunc(t){var e=this.innerRadius(),i=this.outerRadius(),o=this.numPoints();t.beginPath(),t.moveTo(0,0-i);for(var n=1;n<2*o;n++){var r=n%2==0?i:e,s=r*Math.sin(n*Math.PI/o),a=-1*r*Math.cos(n*Math.PI/o);t.lineTo(s,a)}t.closePath(),t.fillStrokeShape(this)}getWidth(){return 2*this.outerRadius()}getHeight(){return 2*this.outerRadius()}setWidth(t){this.outerRadius(t/2)}setHeight(t){this.outerRadius(t/2)}}e.Star=a,a.prototype.className="Star",a.prototype._centroid=!0,a.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,s._registerNode)(a),o.Factory.addGetterSetter(a,"numPoints",5,(0,r.getNumberValidator)()),o.Factory.addGetterSetter(a,"innerRadius",0,(0,r.getNumberValidator)()),o.Factory.addGetterSetter(a,"outerRadius",0,(0,r.getNumberValidator)())},3787:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Text=e.stringToArray=void 0;const o=i(8588),n=i(1455),r=i(7955),s=i(3774),a=i(4417);function l(t){return Array.from(t)}e.stringToArray=l;var c,u="auto",h="justify",d="left",p="middle",f="normal",g=" ",m="none",y=["fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],v=y.length;function _(){return c||(c=o.Util.createCanvasElement().getContext("2d"))}class C extends r.Shape{constructor(t){super(function(t){return(t=t||{}).fillLinearGradientColorStops||t.fillRadialGradientColorStops||t.fillPatternImage||(t.fill=t.fill||"black"),t}(t)),this._partialTextX=0,this._partialTextY=0;for(var e=0;e<v;e++)this.on(y[e]+"Change.konva",this._setTextData);this._setTextData()}_sceneFunc(t){var e=this.textArr,i=e.length;if(this.text()){var o,n=this.padding(),r=this.fontSize(),s=this.lineHeight()*r,a=this.verticalAlign(),c=0,u=this.align(),f=this.getWidth(),g=this.letterSpacing(),m=this.fill(),y=this.textDecoration(),v=-1!==y.indexOf("underline"),_=-1!==y.indexOf("line-through"),C=0,b=(C=s/2,0),E=0;for(t.setAttr("font",this._getContextFont()),t.setAttr("textBaseline",p),t.setAttr("textAlign",d),a===p?c=(this.getHeight()-i*s-2*n)/2:"bottom"===a&&(c=this.getHeight()-i*s-2*n),t.translate(n,c+n),o=0;o<i;o++){b=0,E=0;var S,w,O,x=e[o],P=x.text,T=x.width,M=x.lastInParagraph;if(t.save(),"right"===u?b+=f-T-2*n:"center"===u&&(b+=(f-T-2*n)/2),v){t.save(),t.beginPath(),t.moveTo(b,C+E+Math.round(r/2)),w=0===(S=P.split(" ").length-1),O=u!==h||M?T:f-2*n,t.lineTo(b+Math.round(O),C+E+Math.round(r/2)),t.lineWidth=r/15;const e=this._getLinearGradient();t.strokeStyle=e||m,t.stroke(),t.restore()}if(_){t.save(),t.beginPath(),t.moveTo(b,C+E),w=0===(S=P.split(" ").length-1),O=u===h&&M&&!w?f-2*n:T,t.lineTo(b+Math.round(O),C+E),t.lineWidth=r/15;const e=this._getLinearGradient();t.strokeStyle=e||m,t.stroke(),t.restore()}if(0!==g||u===h){S=P.split(" ").length-1;for(var D=l(P),A=0;A<D.length;A++){var R=D[A];" "!==R||M||u!==h||(b+=(f-2*n-T)/S),this._partialTextX=b,this._partialTextY=C+E,this._partialText=R,t.fillStrokeShape(this),b+=this.measureSize(R).width+g}}else this._partialTextX=b,this._partialTextY=C+E,this._partialText=P,t.fillStrokeShape(this);t.restore(),i>1&&(C+=s)}}}_hitFunc(t){var e=this.getWidth(),i=this.getHeight();t.beginPath(),t.rect(0,0,e,i),t.closePath(),t.fillStrokeShape(this)}setText(t){var e=o.Util._isString(t)?t:null==t?"":t+"";return this._setAttr("text",e),this}getWidth(){return this.attrs.width===u||void 0===this.attrs.width?this.getTextWidth()+2*this.padding():this.attrs.width}getHeight(){return this.attrs.height===u||void 0===this.attrs.height?this.fontSize()*this.textArr.length*this.lineHeight()+2*this.padding():this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return o.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(t){var e,i=_(),o=this.fontSize();return i.save(),i.font=this._getContextFont(),e=i.measureText(t),i.restore(),{width:e.width,height:o}}_getContextFont(){return this.fontStyle()+g+this.fontVariant()+g+(this.fontSize()+"px ")+this.fontFamily().split(",").map((t=>{const e=(t=t.trim()).indexOf(" ")>=0,i=t.indexOf('"')>=0||t.indexOf("'")>=0;return e&&!i&&(t=`"${t}"`),t})).join(", ")}_addTextLine(t){this.align()===h&&(t=t.trim());var e=this._getTextWidth(t);return this.textArr.push({text:t,width:e,lastInParagraph:!1})}_getTextWidth(t){var e=this.letterSpacing(),i=t.length;return _().measureText(t).width+(i?e*(i-1):0)}_setTextData(){var t=this.text().split("\n"),e=+this.fontSize(),i=0,o=this.lineHeight()*e,n=this.attrs.width,r=this.attrs.height,s=n!==u&&void 0!==n,a=r!==u&&void 0!==r,l=this.padding(),c=n-2*l,h=r-2*l,d=0,p=this.wrap(),f="char"!==p&&p!==m,y=this.ellipsis();this.textArr=[],_().font=this._getContextFont();for(var v=y?this._getTextWidth("…"):0,C=0,b=t.length;C<b;++C){var E=t[C],S=this._getTextWidth(E);if(s&&S>c)for(;E.length>0;){for(var w=0,O=E.length,x="",P=0;w<O;){var T=w+O>>>1,M=E.slice(0,T+1),D=this._getTextWidth(M)+v;D<=c?(w=T+1,x=M,P=D):O=T}if(!x)break;if(f){var A,R=E[x.length];(A=(R===g||"-"===R)&&P<=c?x.length:Math.max(x.lastIndexOf(g),x.lastIndexOf("-"))+1)>0&&(w=A,x=x.slice(0,w),P=this._getTextWidth(x))}if(x=x.trimRight(),this._addTextLine(x),i=Math.max(i,P),d+=o,this._shouldHandleEllipsis(d)){this._tryToAddEllipsisToLastLine();break}if((E=(E=E.slice(w)).trimLeft()).length>0&&(S=this._getTextWidth(E))<=c){this._addTextLine(E),d+=o,i=Math.max(i,S);break}}else this._addTextLine(E),d+=o,i=Math.max(i,S),this._shouldHandleEllipsis(d)&&C<b-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),a&&d+o>h)break}this.textHeight=e,this.textWidth=i}_shouldHandleEllipsis(t){var e=+this.fontSize(),i=this.lineHeight()*e,o=this.attrs.height,n=o!==u&&void 0!==o,r=o-2*this.padding();return!(this.wrap()!==m)||n&&t+i>r}_tryToAddEllipsisToLastLine(){var t=this.attrs.width,e=t!==u&&void 0!==t,i=t-2*this.padding(),o=this.ellipsis(),n=this.textArr[this.textArr.length-1];if(n&&o){if(e)this._getTextWidth(n.text+"…")<i||(n.text=n.text.slice(0,n.text.length-3));this.textArr.splice(this.textArr.length-1,1),this._addTextLine(n.text+"…")}}getStrokeScaleEnabled(){return!0}}e.Text=C,C.prototype._fillFunc=function(t){t.fillText(this._partialText,this._partialTextX,this._partialTextY)},C.prototype._strokeFunc=function(t){t.strokeText(this._partialText,this._partialTextX,this._partialTextY)},C.prototype.className="Text",C.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"],(0,a._registerNode)(C),n.Factory.overWriteSetter(C,"width",(0,s.getNumberOrAutoValidator)()),n.Factory.overWriteSetter(C,"height",(0,s.getNumberOrAutoValidator)()),n.Factory.addGetterSetter(C,"fontFamily","Arial"),n.Factory.addGetterSetter(C,"fontSize",12,(0,s.getNumberValidator)()),n.Factory.addGetterSetter(C,"fontStyle",f),n.Factory.addGetterSetter(C,"fontVariant",f),n.Factory.addGetterSetter(C,"padding",0,(0,s.getNumberValidator)()),n.Factory.addGetterSetter(C,"align",d),n.Factory.addGetterSetter(C,"verticalAlign","top"),n.Factory.addGetterSetter(C,"lineHeight",1,(0,s.getNumberValidator)()),n.Factory.addGetterSetter(C,"wrap","word"),n.Factory.addGetterSetter(C,"ellipsis",!1,(0,s.getBooleanValidator)()),n.Factory.addGetterSetter(C,"letterSpacing",0,(0,s.getNumberValidator)()),n.Factory.addGetterSetter(C,"text","",(0,s.getStringValidator)()),n.Factory.addGetterSetter(C,"textDecoration","")},2831:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextPath=void 0;const o=i(8588),n=i(1455),r=i(7955),s=i(7339),a=i(3787),l=i(3774),c=i(4417);var u="normal";function h(t){t.fillText(this.partialText,0,0)}function d(t){t.strokeText(this.partialText,0,0)}class p extends r.Shape{constructor(t){super(t),this.dummyCanvas=o.Util.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",(function(){this._readDataAttribute(),this._setTextData()})),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return s.Path.getPathLength(this.dataArray)}_getPointAtLength(t){if(!this.attrs.data)return null;return t-1>this.pathLength?null:s.Path.getPointAtLengthOfDataArray(t,this.dataArray)}_readDataAttribute(){this.dataArray=s.Path.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(t){t.setAttr("font",this._getContextFont()),t.setAttr("textBaseline",this.textBaseline()),t.setAttr("textAlign","left"),t.save();var e=this.textDecoration(),i=this.fill(),o=this.fontSize(),n=this.glyphInfo;"underline"===e&&t.beginPath();for(var r=0;r<n.length;r++){t.save();var s=n[r].p0;t.translate(s.x,s.y),t.rotate(n[r].rotation),this.partialText=n[r].text,t.fillStrokeShape(this),"underline"===e&&(0===r&&t.moveTo(0,o/2+1),t.lineTo(o,o/2+1)),t.restore()}"underline"===e&&(t.strokeStyle=i,t.lineWidth=o/20,t.stroke()),t.restore()}_hitFunc(t){t.beginPath();var e=this.glyphInfo;if(e.length>=1){var i=e[0].p0;t.moveTo(i.x,i.y)}for(var o=0;o<e.length;o++){var n=e[o].p1;t.lineTo(n.x,n.y)}t.setAttr("lineWidth",this.fontSize()),t.setAttr("strokeStyle",this.colorKey),t.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return o.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(t){return a.Text.prototype.setText.call(this,t)}_getContextFont(){return a.Text.prototype._getContextFont.call(this)}_getTextSize(t){var e=this.dummyCanvas.getContext("2d");e.save(),e.font=this._getContextFont();var i=e.measureText(t);return e.restore(),{width:i.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const{width:t,height:e}=this._getTextSize(this.attrs.text);if(this.textWidth=t,this.textHeight=e,this.glyphInfo=[],!this.attrs.data)return null;const i=this.letterSpacing(),o=this.align(),n=this.kerningFunc(),r=Math.max(this.textWidth+((this.attrs.text||"").length-1)*i,0);let l=0;"center"===o&&(l=Math.max(0,this.pathLength/2-r/2)),"right"===o&&(l=Math.max(0,this.pathLength-r));const c=(0,a.stringToArray)(this.text());let u=l;for(var h=0;h<c.length;h++){const t=this._getPointAtLength(u);if(!t)return;let e=this._getTextSize(c[h]).width+i;if(" "===c[h]&&"justify"===o){const t=this.text().split(" ").length-1;e+=(this.pathLength-r)/t}const a=this._getPointAtLength(u+e);if(!a)return;const l=s.Path.getLineLength(t.x,t.y,a.x,a.y);let d=0;if(n)try{d=n(c[h-1],c[h])*this.fontSize()}catch(t){d=0}t.x+=d,a.x+=d,this.textWidth+=d;const p=s.Path.getPointOnLine(d+l/2,t.x,t.y,a.x,a.y),f=Math.atan2(a.y-t.y,a.x-t.x);this.glyphInfo.push({transposeX:p.x,transposeY:p.y,text:c[h],rotation:f,p0:t,p1:a}),u+=e}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};var t=[];this.glyphInfo.forEach((function(e){t.push(e.p0.x),t.push(e.p0.y),t.push(e.p1.x),t.push(e.p1.y)}));for(var e,i,o=t[0]||0,n=t[0]||0,r=t[1]||0,s=t[1]||0,a=0;a<t.length/2;a++)e=t[2*a],i=t[2*a+1],o=Math.min(o,e),n=Math.max(n,e),r=Math.min(r,i),s=Math.max(s,i);var l=this.fontSize();return{x:o-l/2,y:r-l/2,width:n-o+l,height:s-r+l}}destroy(){return o.Util.releaseCanvas(this.dummyCanvas),super.destroy()}}e.TextPath=p,p.prototype._fillFunc=h,p.prototype._strokeFunc=d,p.prototype._fillFuncHit=h,p.prototype._strokeFuncHit=d,p.prototype.className="TextPath",p.prototype._attrsAffectingSize=["text","fontSize","data"],(0,c._registerNode)(p),n.Factory.addGetterSetter(p,"data"),n.Factory.addGetterSetter(p,"fontFamily","Arial"),n.Factory.addGetterSetter(p,"fontSize",12,(0,l.getNumberValidator)()),n.Factory.addGetterSetter(p,"fontStyle",u),n.Factory.addGetterSetter(p,"align","left"),n.Factory.addGetterSetter(p,"letterSpacing",0,(0,l.getNumberValidator)()),n.Factory.addGetterSetter(p,"textBaseline","middle"),n.Factory.addGetterSetter(p,"fontVariant",u),n.Factory.addGetterSetter(p,"text",""),n.Factory.addGetterSetter(p,"textDecoration",null),n.Factory.addGetterSetter(p,"kerningFunc",null)},9516:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Transformer=void 0;const o=i(8588),n=i(1455),r=i(7939),s=i(7955),a=i(5244),l=i(8985),c=i(4417),u=i(3774),h=i(4417);var d="tr-konva",p=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange"].map((t=>t+`.${d}`)).join(" "),f="nodesRect",g=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],m={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135};const y="ontouchstart"in c.Konva._global;var v=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"];function _(t,e,i){const o=i.x+(t.x-i.x)*Math.cos(e)-(t.y-i.y)*Math.sin(e),n=i.y+(t.x-i.x)*Math.sin(e)+(t.y-i.y)*Math.cos(e);return Object.assign(Object.assign({},t),{rotation:t.rotation+e,x:o,y:n})}function C(t,e){const i=function(t){return{x:t.x+t.width/2*Math.cos(t.rotation)+t.height/2*Math.sin(-t.rotation),y:t.y+t.height/2*Math.cos(t.rotation)+t.width/2*Math.sin(t.rotation)}}(t);return _(t,e,i)}class b extends l.Group{constructor(t){super(t),this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(p,this.update),this.getNode()&&this.update()}attachTo(t){return this.setNode(t),this}setNode(t){return o.Util.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([t])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return d+this._id}setNodes(t=[]){this._nodes&&this._nodes.length&&this.detach();const e=t.filter((t=>!t.isAncestorOf(this)||(o.Util.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1)));return this._nodes=t=e,1===t.length&&this.useSingleNodeRotation()?this.rotation(t[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach((t=>{const e=()=>{1===this.nodes().length&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),this._transforming||this.isDragging()||this.update()},i=t._attrsAffectingSize.map((t=>t+"Change."+this._getEventNamespace())).join(" ");t.on(i,e),t.on(g.map((t=>t+`.${this._getEventNamespace()}`)).join(" "),e),t.on(`absoluteTransformChange.${this._getEventNamespace()}`,e),this._proxyDrag(t)})),this._resetTransformCache(),!!this.findOne(".top-left")&&this.update(),this}_proxyDrag(t){let e;t.on(`dragstart.${this._getEventNamespace()}`,(i=>{e=t.getAbsolutePosition(),this.isDragging()||t===this.findOne(".back")||this.startDrag(i,!1)})),t.on(`dragmove.${this._getEventNamespace()}`,(i=>{if(!e)return;const o=t.getAbsolutePosition(),n=o.x-e.x,r=o.y-e.y;this.nodes().forEach((e=>{if(e===t)return;if(e.isDragging())return;const o=e.getAbsolutePosition();e.setAbsolutePosition({x:o.x+n,y:o.y+r}),e.startDrag(i)})),e=null}))}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach((t=>{t.off("."+this._getEventNamespace())})),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(f),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(f,this.__getNodeRect)}__getNodeShape(t,e=this.rotation(),i){var o=t.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),n=t.getAbsoluteScale(i),r=t.getAbsolutePosition(i),s=o.x*n.x-t.offsetX()*n.x,a=o.y*n.y-t.offsetY()*n.y;const l=(c.Konva.getAngle(t.getAbsoluteRotation())+2*Math.PI)%(2*Math.PI);return _({x:r.x+s*Math.cos(l)+a*Math.sin(-l),y:r.y+a*Math.cos(l)+s*Math.sin(l),width:o.width*n.x,height:o.height*n.y,rotation:l},-c.Konva.getAngle(e),{x:0,y:0})}__getNodeRect(){if(!this.getNode())return{x:-1e8,y:-1e8,width:0,height:0,rotation:0};const t=[];this.nodes().map((e=>{const i=e.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()});var o=[{x:i.x,y:i.y},{x:i.x+i.width,y:i.y},{x:i.x+i.width,y:i.y+i.height},{x:i.x,y:i.y+i.height}],n=e.getAbsoluteTransform();o.forEach((function(e){var i=n.point(e);t.push(i)}))}));const e=new o.Transform;var i,n,r,s;e.rotate(-c.Konva.getAngle(this.rotation())),t.forEach((function(t){var o=e.point(t);void 0===i&&(i=r=o.x,n=s=o.y),i=Math.min(i,o.x),n=Math.min(n,o.y),r=Math.max(r,o.x),s=Math.max(s,o.y)})),e.invert();const a=e.point({x:i,y:n});return{x:a.x,y:a.y,width:r-i,height:s-n,rotation:c.Konva.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),v.forEach(function(t){this._createAnchor(t)}.bind(this)),this._createAnchor("rotater")}_createAnchor(t){var e=new a.Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:t+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:y?10:"auto"}),i=this;e.on("mousedown touchstart",(function(t){i._handleMouseDown(t)})),e.on("dragstart",(t=>{e.stopDrag(),t.cancelBubble=!0})),e.on("dragend",(t=>{t.cancelBubble=!0})),e.on("mouseenter",(()=>{var i=c.Konva.getAngle(this.rotation()),n=function(t,e){if("rotater"===t)return"crosshair";e+=o.Util.degToRad(m[t]||0);var i=(o.Util.radToDeg(e)%360+360)%360;return o.Util._inRange(i,337.5,360)||o.Util._inRange(i,0,22.5)?"ns-resize":o.Util._inRange(i,22.5,67.5)?"nesw-resize":o.Util._inRange(i,67.5,112.5)?"ew-resize":o.Util._inRange(i,112.5,157.5)?"nwse-resize":o.Util._inRange(i,157.5,202.5)?"ns-resize":o.Util._inRange(i,202.5,247.5)?"nesw-resize":o.Util._inRange(i,247.5,292.5)?"ew-resize":o.Util._inRange(i,292.5,337.5)?"nwse-resize":(o.Util.error("Transformer has unknown angle for cursor detection: "+i),"pointer")}(t,i);e.getStage().content&&(e.getStage().content.style.cursor=n),this._cursorChange=!0})),e.on("mouseout",(()=>{e.getStage().content&&(e.getStage().content.style.cursor=""),this._cursorChange=!1})),this.add(e)}_createBack(){var t=new s.Shape({name:"back",width:0,height:0,draggable:!0,sceneFunc(t){var e=this.getParent(),i=e.padding();t.beginPath(),t.rect(-i,-i,this.width()+2*i,this.height()+2*i),t.moveTo(this.width()/2,-i),e.rotateEnabled()&&t.lineTo(this.width()/2,-e.rotateAnchorOffset()*o.Util._sign(this.height())-i),t.fillStrokeShape(this)},hitFunc:(t,e)=>{if(this.shouldOverdrawWholeArea()){var i=this.padding();t.beginPath(),t.rect(-i,-i,e.width()+2*i,e.height()+2*i),t.fillStrokeShape(e)}}});this.add(t),this._proxyDrag(t),t.on("dragstart",(t=>{t.cancelBubble=!0})),t.on("dragmove",(t=>{t.cancelBubble=!0})),t.on("dragend",(t=>{t.cancelBubble=!0})),this.on("dragmove",(t=>{this.update()}))}_handleMouseDown(t){this._movingAnchorName=t.target.name().split(" ")[0];var e=this._getNodeRect(),i=e.width,o=e.height,n=Math.sqrt(Math.pow(i,2)+Math.pow(o,2));this.sin=Math.abs(o/n),this.cos=Math.abs(i/n),"undefined"!=typeof window&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;var r=t.target.getAbsolutePosition(),s=t.target.getStage().getPointerPosition();this._anchorDragOffset={x:s.x-r.x,y:s.y-r.y},this._fire("transformstart",{evt:t.evt,target:this.getNode()}),this._nodes.forEach((e=>{e._fire("transformstart",{evt:t.evt,target:e})}))}_handleMouseMove(t){var e,i,o,n=this.findOne("."+this._movingAnchorName),r=n.getStage();r.setPointersPositions(t);const s=r.getPointerPosition();let a={x:s.x-this._anchorDragOffset.x,y:s.y-this._anchorDragOffset.y};const l=n.getAbsolutePosition();this.anchorDragBoundFunc()&&(a=this.anchorDragBoundFunc()(l,a,t)),n.setAbsolutePosition(a);const u=n.getAbsolutePosition();if(l.x!==u.x||l.y!==u.y)if("rotater"!==this._movingAnchorName){var h,d=this.shiftBehavior();h="inverted"===d?this.keepRatio()&&!t.shiftKey:"none"===d?this.keepRatio():this.keepRatio()||t.shiftKey;var p=this.centeredScaling()||t.altKey;if("top-left"===this._movingAnchorName){if(h){var f=p?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};o=Math.sqrt(Math.pow(f.x-n.x(),2)+Math.pow(f.y-n.y(),2));var g=this.findOne(".top-left").x()>f.x?-1:1,m=this.findOne(".top-left").y()>f.y?-1:1;e=o*this.cos*g,i=o*this.sin*m,this.findOne(".top-left").x(f.x-e),this.findOne(".top-left").y(f.y-i)}}else if("top-center"===this._movingAnchorName)this.findOne(".top-left").y(n.y());else if("top-right"===this._movingAnchorName){if(h){f=p?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};o=Math.sqrt(Math.pow(n.x()-f.x,2)+Math.pow(f.y-n.y(),2));g=this.findOne(".top-right").x()<f.x?-1:1,m=this.findOne(".top-right").y()>f.y?-1:1;e=o*this.cos*g,i=o*this.sin*m,this.findOne(".top-right").x(f.x+e),this.findOne(".top-right").y(f.y-i)}var y=n.position();this.findOne(".top-left").y(y.y),this.findOne(".bottom-right").x(y.x)}else if("middle-left"===this._movingAnchorName)this.findOne(".top-left").x(n.x());else if("middle-right"===this._movingAnchorName)this.findOne(".bottom-right").x(n.x());else if("bottom-left"===this._movingAnchorName){if(h){f=p?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};o=Math.sqrt(Math.pow(f.x-n.x(),2)+Math.pow(n.y()-f.y,2));g=f.x<n.x()?-1:1,m=n.y()<f.y?-1:1;e=o*this.cos*g,i=o*this.sin*m,n.x(f.x-e),n.y(f.y+i)}y=n.position(),this.findOne(".top-left").x(y.x),this.findOne(".bottom-right").y(y.y)}else if("bottom-center"===this._movingAnchorName)this.findOne(".bottom-right").y(n.y());else if("bottom-right"===this._movingAnchorName){if(h){f=p?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};o=Math.sqrt(Math.pow(n.x()-f.x,2)+Math.pow(n.y()-f.y,2));g=this.findOne(".bottom-right").x()<f.x?-1:1,m=this.findOne(".bottom-right").y()<f.y?-1:1;e=o*this.cos*g,i=o*this.sin*m,this.findOne(".bottom-right").x(f.x+e),this.findOne(".bottom-right").y(f.y+i)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));if(p=this.centeredScaling()||t.altKey){var v=this.findOne(".top-left"),_=this.findOne(".bottom-right"),b=v.x(),E=v.y(),S=this.getWidth()-_.x(),w=this.getHeight()-_.y();_.move({x:-b,y:-E}),v.move({x:S,y:w})}var O=this.findOne(".top-left").getAbsolutePosition();e=O.x,i=O.y;var x=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),P=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:e,y:i,width:x,height:P,rotation:c.Konva.getAngle(this.rotation())},t)}else{var T=this._getNodeRect();e=n.x()-T.width/2,i=-n.y()+T.height/2;let o=Math.atan2(-i,e)+Math.PI/2;T.height<0&&(o-=Math.PI);const r=c.Konva.getAngle(this.rotation())+o,s=c.Konva.getAngle(this.rotationSnapTolerance()),a=C(T,function(t,e,i){let o=e;for(let n=0;n<t.length;n++){const r=c.Konva.getAngle(t[n]),s=Math.abs(r-e)%(2*Math.PI);Math.min(s,2*Math.PI-s)<i&&(o=r)}return o}(this.rotationSnaps(),r,s)-T.rotation);this._fitNodesInto(a,t)}}_handleMouseUp(t){this._removeEvents(t)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(t){if(this._transforming){this._transforming=!1,"undefined"!=typeof window&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));var e=this.getNode();this._fire("transformend",{evt:t,target:e}),e&&this._nodes.forEach((e=>{e._fire("transformend",{evt:t,target:e})})),this._movingAnchorName=null}}_fitNodesInto(t,e){var i=this._getNodeRect();if(o.Util._inRange(t.width,2*-this.padding()-1,1))return void this.update();if(o.Util._inRange(t.height,2*-this.padding()-1,1))return void this.update();const n=this.flipEnabled();var r=new o.Transform;if(r.rotate(c.Konva.getAngle(this.rotation())),this._movingAnchorName&&t.width<0&&this._movingAnchorName.indexOf("left")>=0){const e=r.point({x:2*-this.padding(),y:0});if(t.x+=e.x,t.y+=e.y,t.width+=2*this.padding(),this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=e.x,this._anchorDragOffset.y-=e.y,!n)return void this.update()}else if(this._movingAnchorName&&t.width<0&&this._movingAnchorName.indexOf("right")>=0){const e=r.point({x:2*this.padding(),y:0});if(this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=e.x,this._anchorDragOffset.y-=e.y,t.width+=2*this.padding(),!n)return void this.update()}if(this._movingAnchorName&&t.height<0&&this._movingAnchorName.indexOf("top")>=0){const e=r.point({x:0,y:2*-this.padding()});if(t.x+=e.x,t.y+=e.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=e.x,this._anchorDragOffset.y-=e.y,t.height+=2*this.padding(),!n)return void this.update()}else if(this._movingAnchorName&&t.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const e=r.point({x:0,y:2*this.padding()});if(this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=e.x,this._anchorDragOffset.y-=e.y,t.height+=2*this.padding(),!n)return void this.update()}if(this.boundBoxFunc()){const e=this.boundBoxFunc()(i,t);e?t=e:o.Util.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const s=1e7,a=new o.Transform;a.translate(i.x,i.y),a.rotate(i.rotation),a.scale(i.width/s,i.height/s);const l=new o.Transform;l.translate(t.x,t.y),l.rotate(t.rotation),l.scale(t.width/s,t.height/s);const u=l.multiply(a.invert());this._nodes.forEach((t=>{var i;const n=t.getParent().getAbsoluteTransform(),r=t.getTransform().copy();r.translate(t.offsetX(),t.offsetY());const s=new o.Transform;s.multiply(n.copy().invert()).multiply(u).multiply(n).multiply(r);const a=s.decompose();t.setAttrs(a),this._fire("transform",{evt:e,target:t}),t._fire("transform",{evt:e,target:t}),null===(i=t.getLayer())||void 0===i||i.batchDraw()})),this.rotation(o.Util._getRotation(t.rotation)),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(t,e){this.findOne(t).setAttrs(e)}update(){var t,e=this._getNodeRect();this.rotation(o.Util._getRotation(e.rotation));var i=e.width,n=e.height,r=this.enabledAnchors(),s=this.resizeEnabled(),a=this.padding(),l=this.anchorSize();this.find("._anchor").forEach((t=>{t.setAttrs({width:l,height:l,offsetX:l/2,offsetY:l/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})})),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:l/2+a,offsetY:l/2+a,visible:s&&r.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:i/2,y:0,offsetY:l/2+a,visible:s&&r.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:i,y:0,offsetX:l/2-a,offsetY:l/2+a,visible:s&&r.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:n/2,offsetX:l/2+a,visible:s&&r.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:i,y:n/2,offsetX:l/2-a,visible:s&&r.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:n,offsetX:l/2+a,offsetY:l/2-a,visible:s&&r.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:i/2,y:n,offsetY:l/2-a,visible:s&&r.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:i,y:n,offsetX:l/2-a,offsetY:l/2-a,visible:s&&r.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:i/2,y:-this.rotateAnchorOffset()*o.Util._sign(n)-a,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:i,height:n,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0}),null===(t=this.getLayer())||void 0===t||t.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();var t=this.findOne("."+this._movingAnchorName);t&&t.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),l.Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return r.Node.prototype.toObject.call(this)}clone(t){return r.Node.prototype.clone.call(this,t)}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}}e.Transformer=b,b.prototype.className="Transformer",(0,h._registerNode)(b),n.Factory.addGetterSetter(b,"enabledAnchors",v,(function(t){return t instanceof Array||o.Util.warn("enabledAnchors value should be an array"),t instanceof Array&&t.forEach((function(t){-1===v.indexOf(t)&&o.Util.warn("Unknown anchor name: "+t+". Available names are: "+v.join(", "))})),t||[]})),n.Factory.addGetterSetter(b,"flipEnabled",!0,(0,u.getBooleanValidator)()),n.Factory.addGetterSetter(b,"resizeEnabled",!0),n.Factory.addGetterSetter(b,"anchorSize",10,(0,u.getNumberValidator)()),n.Factory.addGetterSetter(b,"rotateEnabled",!0),n.Factory.addGetterSetter(b,"rotationSnaps",[]),n.Factory.addGetterSetter(b,"rotateAnchorOffset",50,(0,u.getNumberValidator)()),n.Factory.addGetterSetter(b,"rotationSnapTolerance",5,(0,u.getNumberValidator)()),n.Factory.addGetterSetter(b,"borderEnabled",!0),n.Factory.addGetterSetter(b,"anchorStroke","rgb(0, 161, 255)"),n.Factory.addGetterSetter(b,"anchorStrokeWidth",1,(0,u.getNumberValidator)()),n.Factory.addGetterSetter(b,"anchorFill","white"),n.Factory.addGetterSetter(b,"anchorCornerRadius",0,(0,u.getNumberValidator)()),n.Factory.addGetterSetter(b,"borderStroke","rgb(0, 161, 255)"),n.Factory.addGetterSetter(b,"borderStrokeWidth",1,(0,u.getNumberValidator)()),n.Factory.addGetterSetter(b,"borderDash"),n.Factory.addGetterSetter(b,"keepRatio",!0),n.Factory.addGetterSetter(b,"shiftBehavior","default"),n.Factory.addGetterSetter(b,"centeredScaling",!1),n.Factory.addGetterSetter(b,"ignoreStroke",!1),n.Factory.addGetterSetter(b,"padding",0,(0,u.getNumberValidator)()),n.Factory.addGetterSetter(b,"node"),n.Factory.addGetterSetter(b,"nodes"),n.Factory.addGetterSetter(b,"boundBoxFunc"),n.Factory.addGetterSetter(b,"anchorDragBoundFunc"),n.Factory.addGetterSetter(b,"shouldOverdrawWholeArea",!1),n.Factory.addGetterSetter(b,"useSingleNodeRotation",!0),n.Factory.backCompat(b,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"})},9846:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Wedge=void 0;const o=i(1455),n=i(7955),r=i(4417),s=i(3774),a=i(4417);class l extends n.Shape{_sceneFunc(t){t.beginPath(),t.arc(0,0,this.radius(),0,r.Konva.getAngle(this.angle()),this.clockwise()),t.lineTo(0,0),t.closePath(),t.fillStrokeShape(this)}getWidth(){return 2*this.radius()}getHeight(){return 2*this.radius()}setWidth(t){this.radius(t/2)}setHeight(t){this.radius(t/2)}}e.Wedge=l,l.prototype.className="Wedge",l.prototype._centroid=!0,l.prototype._attrsAffectingSize=["radius"],(0,a._registerNode)(l),o.Factory.addGetterSetter(l,"radius",0,(0,s.getNumberValidator)()),o.Factory.addGetterSetter(l,"angle",0,(0,s.getNumberValidator)()),o.Factory.addGetterSetter(l,"clockwise",!1),o.Factory.backCompat(l,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"})},6633:(t,e,i)=>{"use strict";i.r(e),i.d(e,{Bounds:()=>F,Browser:()=>Ft,CRS:()=>H,Canvas:()=>To,Circle:()=>Hi,CircleMarker:()=>Ui,Class:()=>D,Control:()=>Je,DivIcon:()=>Co,DivOverlay:()=>go,DomEvent:()=>Ye,DomUtil:()=>De,Draggable:()=>li,Evented:()=>R,FeatureGroup:()=>Li,GeoJSON:()=>Zi,GridLayer:()=>Eo,Handler:()=>ni,Icon:()=>Ni,ImageOverlay:()=>lo,LatLng:()=>V,LatLngBounds:()=>G,Layer:()=>Di,LayerGroup:()=>Ai,LineUtil:()=>Ci,Map:()=>Ze,Marker:()=>Gi,Mixin:()=>si,Path:()=>Vi,Point:()=>I,PolyUtil:()=>Si,Polygon:()=>Yi,Polyline:()=>zi,Popup:()=>mo,PosAnimation:()=>Xe,Projection:()=>xi,Rectangle:()=>No,Renderer:()=>Po,SVG:()=>Lo,SVGOverlay:()=>po,TileLayer:()=>wo,Tooltip:()=>vo,Transformation:()=>Y,Util:()=>M,VideoOverlay:()=>uo,bind:()=>s,bounds:()=>B,canvas:()=>Mo,circle:()=>$i,circleMarker:()=>Wi,control:()=>Qe,divIcon:()=>bo,extend:()=>n,featureGroup:()=>Ii,geoJSON:()=>so,geoJson:()=>ao,gridLayer:()=>So,icon:()=>ki,imageOverlay:()=>co,latLng:()=>U,latLngBounds:()=>j,layerGroup:()=>Ri,map:()=>qe,marker:()=>ji,point:()=>k,polygon:()=>Xi,polyline:()=>Ki,popup:()=>yo,rectangle:()=>ko,setOptions:()=>g,stamp:()=>l,svg:()=>Io,svgOverlay:()=>fo,tileLayer:()=>Oo,tooltip:()=>_o,transformation:()=>X,version:()=>o,videoOverlay:()=>ho});var o="1.9.3";function n(t){var e,i,o,n;for(i=1,o=arguments.length;i<o;i++)for(e in n=arguments[i])t[e]=n[e];return t}var r=Object.create||function(){function t(){}return function(e){return t.prototype=e,new t}}();function s(t,e){var i=Array.prototype.slice;if(t.bind)return t.bind.apply(t,i.call(arguments,1));var o=i.call(arguments,2);return function(){return t.apply(e,o.length?o.concat(i.call(arguments)):arguments)}}var a=0;function l(t){return"_leaflet_id"in t||(t._leaflet_id=++a),t._leaflet_id}function c(t,e,i){var o,n,r,s;return s=function(){o=!1,n&&(r.apply(i,n),n=!1)},r=function(){o?n=arguments:(t.apply(i,arguments),setTimeout(s,e),o=!0)},r}function u(t,e,i){var o=e[1],n=e[0],r=o-n;return t===o&&i?t:((t-n)%r+r)%r+n}function h(){return!1}function d(t,e){if(!1===e)return t;var i=Math.pow(10,void 0===e?6:e);return Math.round(t*i)/i}function p(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function f(t){return p(t).split(/\s+/)}function g(t,e){for(var i in Object.prototype.hasOwnProperty.call(t,"options")||(t.options=t.options?r(t.options):{}),e)t.options[i]=e[i];return t.options}function m(t,e,i){var o=[];for(var n in t)o.push(encodeURIComponent(i?n.toUpperCase():n)+"="+encodeURIComponent(t[n]));return(e&&-1!==e.indexOf("?")?"&":"?")+o.join("&")}var y=/\{ *([\w_ -]+) *\}/g;function v(t,e){return t.replace(y,(function(t,i){var o=e[i];if(void 0===o)throw new Error("No value provided for variable "+t);return"function"==typeof o&&(o=o(e)),o}))}var _=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function C(t,e){for(var i=0;i<t.length;i++)if(t[i]===e)return i;return-1}var b="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function E(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var S=0;function w(t){var e=+new Date,i=Math.max(0,16-(e-S));return S=e+i,window.setTimeout(t,i)}var O=window.requestAnimationFrame||E("RequestAnimationFrame")||w,x=window.cancelAnimationFrame||E("CancelAnimationFrame")||E("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function P(t,e,i){if(!i||O!==w)return O.call(window,s(t,e));t.call(e)}function T(t){t&&x.call(window,t)}var M={__proto__:null,extend:n,create:r,bind:s,get lastId(){return a},stamp:l,throttle:c,wrapNum:u,falseFn:h,formatNum:d,trim:p,splitWords:f,setOptions:g,getParamString:m,template:v,isArray:_,indexOf:C,emptyImageUrl:b,requestFn:O,cancelFn:x,requestAnimFrame:P,cancelAnimFrame:T};function D(){}D.extend=function(t){var e=function(){g(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},i=e.__super__=this.prototype,o=r(i);for(var s in o.constructor=e,e.prototype=o,this)Object.prototype.hasOwnProperty.call(this,s)&&"prototype"!==s&&"__super__"!==s&&(e[s]=this[s]);return t.statics&&n(e,t.statics),t.includes&&(!function(t){if("undefined"==typeof L||!L||!L.Mixin)return;t=_(t)?t:[t];for(var e=0;e<t.length;e++)t[e]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}(t.includes),n.apply(null,[o].concat(t.includes))),n(o,t),delete o.statics,delete o.includes,o.options&&(o.options=i.options?r(i.options):{},n(o.options,t.options)),o._initHooks=[],o.callInitHooks=function(){if(!this._initHooksCalled){i.callInitHooks&&i.callInitHooks.call(this),this._initHooksCalled=!0;for(var t=0,e=o._initHooks.length;t<e;t++)o._initHooks[t].call(this)}},e},D.include=function(t){var e=this.prototype.options;return n(this.prototype,t),t.options&&(this.prototype.options=e,this.mergeOptions(t.options)),this},D.mergeOptions=function(t){return n(this.prototype.options,t),this},D.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),i="function"==typeof t?t:function(){this[t].apply(this,e)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(i),this};var A={on:function(t,e,i){if("object"==typeof t)for(var o in t)this._on(o,t[o],e);else for(var n=0,r=(t=f(t)).length;n<r;n++)this._on(t[n],e,i);return this},off:function(t,e,i){if(arguments.length)if("object"==typeof t)for(var o in t)this._off(o,t[o],e);else{t=f(t);for(var n=1===arguments.length,r=0,s=t.length;r<s;r++)n?this._off(t[r]):this._off(t[r],e,i)}else delete this._events;return this},_on:function(t,e,i,o){if("function"==typeof e){if(!1===this._listens(t,e,i)){i===this&&(i=void 0);var n={fn:e,ctx:i};o&&(n.once=!0),this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(n)}}else console.warn("wrong listener type: "+typeof e)},_off:function(t,e,i){var o,n,r;if(this._events&&(o=this._events[t]))if(1!==arguments.length)if("function"==typeof e){var s=this._listens(t,e,i);if(!1!==s){var a=o[s];this._firingCount&&(a.fn=h,this._events[t]=o=o.slice()),o.splice(s,1)}}else console.warn("wrong listener type: "+typeof e);else{if(this._firingCount)for(n=0,r=o.length;n<r;n++)o[n].fn=h;delete this._events[t]}},fire:function(t,e,i){if(!this.listens(t,i))return this;var o=n({},e,{type:t,target:this,sourceTarget:e&&e.sourceTarget||this});if(this._events){var r=this._events[t];if(r){this._firingCount=this._firingCount+1||1;for(var s=0,a=r.length;s<a;s++){var l=r[s],c=l.fn;l.once&&this.off(t,c,l.ctx),c.call(l.ctx||this,o)}this._firingCount--}}return i&&this._propagateEvent(o),this},listens:function(t,e,i,o){"string"!=typeof t&&console.warn('"string" type argument expected');var n=e;"function"!=typeof e&&(o=!!e,n=void 0,i=void 0);var r=this._events&&this._events[t];if(r&&r.length&&!1!==this._listens(t,n,i))return!0;if(o)for(var s in this._eventParents)if(this._eventParents[s].listens(t,e,i,o))return!0;return!1},_listens:function(t,e,i){if(!this._events)return!1;var o=this._events[t]||[];if(!e)return!!o.length;i===this&&(i=void 0);for(var n=0,r=o.length;n<r;n++)if(o[n].fn===e&&o[n].ctx===i)return n;return!1},once:function(t,e,i){if("object"==typeof t)for(var o in t)this._on(o,t[o],e,!0);else for(var n=0,r=(t=f(t)).length;n<r;n++)this._on(t[n],e,i,!0);return this},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[l(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[l(t)],this},_propagateEvent:function(t){for(var e in this._eventParents)this._eventParents[e].fire(t.type,n({layer:t.target,propagatedFrom:t.target},t),!0)}};A.addEventListener=A.on,A.removeEventListener=A.clearAllEventListeners=A.off,A.addOneTimeEventListener=A.once,A.fireEvent=A.fire,A.hasEventListeners=A.listens;var R=D.extend(A);function I(t,e,i){this.x=i?Math.round(t):t,this.y=i?Math.round(e):e}var N=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};function k(t,e,i){return t instanceof I?t:_(t)?new I(t[0],t[1]):null==t?t:"object"==typeof t&&"x"in t&&"y"in t?new I(t.x,t.y):new I(t,e,i)}function F(t,e){if(t)for(var i=e?[t,e]:t,o=0,n=i.length;o<n;o++)this.extend(i[o])}function B(t,e){return!t||t instanceof F?t:new F(t,e)}function G(t,e){if(t)for(var i=e?[t,e]:t,o=0,n=i.length;o<n;o++)this.extend(i[o])}function j(t,e){return t instanceof G?t:new G(t,e)}function V(t,e,i){if(isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=+t,this.lng=+e,void 0!==i&&(this.alt=+i)}function U(t,e,i){return t instanceof V?t:_(t)&&"object"!=typeof t[0]?3===t.length?new V(t[0],t[1],t[2]):2===t.length?new V(t[0],t[1]):null:null==t?t:"object"==typeof t&&"lat"in t?new V(t.lat,"lng"in t?t.lng:t.lon,t.alt):void 0===e?null:new V(t,e,i)}I.prototype={clone:function(){return new I(this.x,this.y)},add:function(t){return this.clone()._add(k(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(k(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new I(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new I(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=N(this.x),this.y=N(this.y),this},distanceTo:function(t){var e=(t=k(t)).x-this.x,i=t.y-this.y;return Math.sqrt(e*e+i*i)},equals:function(t){return(t=k(t)).x===this.x&&t.y===this.y},contains:function(t){return t=k(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+d(this.x)+", "+d(this.y)+")"}},F.prototype={extend:function(t){var e,i;if(!t)return this;if(t instanceof I||"number"==typeof t[0]||"x"in t)e=i=k(t);else if(e=(t=B(t)).min,i=t.max,!e||!i)return this;return this.min||this.max?(this.min.x=Math.min(e.x,this.min.x),this.max.x=Math.max(i.x,this.max.x),this.min.y=Math.min(e.y,this.min.y),this.max.y=Math.max(i.y,this.max.y)):(this.min=e.clone(),this.max=i.clone()),this},getCenter:function(t){return k((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return k(this.min.x,this.max.y)},getTopRight:function(){return k(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,i;return(t="number"==typeof t[0]||t instanceof I?k(t):B(t))instanceof F?(e=t.min,i=t.max):e=i=t,e.x>=this.min.x&&i.x<=this.max.x&&e.y>=this.min.y&&i.y<=this.max.y},intersects:function(t){t=B(t);var e=this.min,i=this.max,o=t.min,n=t.max,r=n.x>=e.x&&o.x<=i.x,s=n.y>=e.y&&o.y<=i.y;return r&&s},overlaps:function(t){t=B(t);var e=this.min,i=this.max,o=t.min,n=t.max,r=n.x>e.x&&o.x<i.x,s=n.y>e.y&&o.y<i.y;return r&&s},isValid:function(){return!(!this.min||!this.max)},pad:function(t){var e=this.min,i=this.max,o=Math.abs(e.x-i.x)*t,n=Math.abs(e.y-i.y)*t;return B(k(e.x-o,e.y-n),k(i.x+o,i.y+n))},equals:function(t){return!!t&&(t=B(t),this.min.equals(t.getTopLeft())&&this.max.equals(t.getBottomRight()))}},G.prototype={extend:function(t){var e,i,o=this._southWest,n=this._northEast;if(t instanceof V)e=t,i=t;else{if(!(t instanceof G))return t?this.extend(U(t)||j(t)):this;if(e=t._southWest,i=t._northEast,!e||!i)return this}return o||n?(o.lat=Math.min(e.lat,o.lat),o.lng=Math.min(e.lng,o.lng),n.lat=Math.max(i.lat,n.lat),n.lng=Math.max(i.lng,n.lng)):(this._southWest=new V(e.lat,e.lng),this._northEast=new V(i.lat,i.lng)),this},pad:function(t){var e=this._southWest,i=this._northEast,o=Math.abs(e.lat-i.lat)*t,n=Math.abs(e.lng-i.lng)*t;return new G(new V(e.lat-o,e.lng-n),new V(i.lat+o,i.lng+n))},getCenter:function(){return new V((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new V(this.getNorth(),this.getWest())},getSouthEast:function(){return new V(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){t="number"==typeof t[0]||t instanceof V||"lat"in t?U(t):j(t);var e,i,o=this._southWest,n=this._northEast;return t instanceof G?(e=t.getSouthWest(),i=t.getNorthEast()):e=i=t,e.lat>=o.lat&&i.lat<=n.lat&&e.lng>=o.lng&&i.lng<=n.lng},intersects:function(t){t=j(t);var e=this._southWest,i=this._northEast,o=t.getSouthWest(),n=t.getNorthEast(),r=n.lat>=e.lat&&o.lat<=i.lat,s=n.lng>=e.lng&&o.lng<=i.lng;return r&&s},overlaps:function(t){t=j(t);var e=this._southWest,i=this._northEast,o=t.getSouthWest(),n=t.getNorthEast(),r=n.lat>e.lat&&o.lat<i.lat,s=n.lng>e.lng&&o.lng<i.lng;return r&&s},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,e){return!!t&&(t=j(t),this._southWest.equals(t.getSouthWest(),e)&&this._northEast.equals(t.getNorthEast(),e))},isValid:function(){return!(!this._southWest||!this._northEast)}},V.prototype={equals:function(t,e){return!!t&&(t=U(t),Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng))<=(void 0===e?1e-9:e))},toString:function(t){return"LatLng("+d(this.lat,t)+", "+d(this.lng,t)+")"},distanceTo:function(t){return $.distance(this,U(t))},wrap:function(){return $.wrapLatLng(this)},toBounds:function(t){var e=180*t/40075017,i=e/Math.cos(Math.PI/180*this.lat);return j([this.lat-e,this.lng-i],[this.lat+e,this.lng+i])},clone:function(){return new V(this.lat,this.lng,this.alt)}};var W,H={latLngToPoint:function(t,e){var i=this.projection.project(t),o=this.scale(e);return this.transformation._transform(i,o)},pointToLatLng:function(t,e){var i=this.scale(e),o=this.transformation.untransform(t,i);return this.projection.unproject(o)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var e=this.projection.bounds,i=this.scale(t);return new F(this.transformation.transform(e.min,i),this.transformation.transform(e.max,i))},infinite:!1,wrapLatLng:function(t){var e=this.wrapLng?u(t.lng,this.wrapLng,!0):t.lng;return new V(this.wrapLat?u(t.lat,this.wrapLat,!0):t.lat,e,t.alt)},wrapLatLngBounds:function(t){var e=t.getCenter(),i=this.wrapLatLng(e),o=e.lat-i.lat,n=e.lng-i.lng;if(0===o&&0===n)return t;var r=t.getSouthWest(),s=t.getNorthEast();return new G(new V(r.lat-o,r.lng-n),new V(s.lat-o,s.lng-n))}},$=n({},H,{wrapLng:[-180,180],R:6371e3,distance:function(t,e){var i=Math.PI/180,o=t.lat*i,n=e.lat*i,r=Math.sin((e.lat-t.lat)*i/2),s=Math.sin((e.lng-t.lng)*i/2),a=r*r+Math.cos(o)*Math.cos(n)*s*s,l=2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a));return this.R*l}}),z=6378137,K={R:z,MAX_LATITUDE:85.0511287798,project:function(t){var e=Math.PI/180,i=this.MAX_LATITUDE,o=Math.max(Math.min(i,t.lat),-i),n=Math.sin(o*e);return new I(this.R*t.lng*e,this.R*Math.log((1+n)/(1-n))/2)},unproject:function(t){var e=180/Math.PI;return new V((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*e,t.x*e/this.R)},bounds:(W=z*Math.PI,new F([-W,-W],[W,W]))};function Y(t,e,i,o){if(_(t))return this._a=t[0],this._b=t[1],this._c=t[2],void(this._d=t[3]);this._a=t,this._b=e,this._c=i,this._d=o}function X(t,e,i,o){return new Y(t,e,i,o)}Y.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return e=e||1,new I((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}};var Z=n({},$,{code:"EPSG:3857",projection:K,transformation:function(){var t=.5/(Math.PI*K.R);return X(t,.5,-t,.5)}()}),q=n({},Z,{code:"EPSG:900913"});function J(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function Q(t,e){var i,o,n,r,s,a,l="";for(i=0,n=t.length;i<n;i++){for(o=0,r=(s=t[i]).length;o<r;o++)l+=(o?"L":"M")+(a=s[o]).x+" "+a.y;l+=e?Ft.svg?"z":"x":""}return l||"M0 0"}var tt,et=document.documentElement.style,it="ActiveXObject"in window,ot=it&&!document.addEventListener,nt="msLaunchUri"in navigator&&!("documentMode"in document),rt=kt("webkit"),st=kt("android"),at=kt("android 2")||kt("android 3"),lt=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),ct=st&&kt("Google")&&lt<537&&!("AudioNode"in window),ut=!!window.opera,ht=!nt&&kt("chrome"),dt=kt("gecko")&&!rt&&!ut&&!it,pt=!ht&&kt("safari"),ft=kt("phantom"),gt="OTransition"in et,mt=0===navigator.platform.indexOf("Win"),yt=it&&"transition"in et,vt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!at,_t="MozPerspective"in et,Ct=!window.L_DISABLE_3D&&(yt||vt||_t)&&!gt&&!ft,bt="undefined"!=typeof orientation||kt("mobile"),Et=bt&&rt,St=bt&&vt,wt=!window.PointerEvent&&window.MSPointerEvent,Ot=!(!window.PointerEvent&&!wt),xt="ontouchstart"in window||!!window.TouchEvent,Pt=!window.L_NO_TOUCH&&(xt||Ot),Tt=bt&&ut,Mt=bt&&dt,Dt=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,At=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",h,e),window.removeEventListener("testPassiveEventSupport",h,e)}catch(t){}return t}(),Rt=!!document.createElement("canvas").getContext,Lt=!(!document.createElementNS||!J("svg").createSVGRect),It=!!Lt&&((tt=document.createElement("div")).innerHTML="<svg/>","http://www.w3.org/2000/svg"===(tt.firstChild&&tt.firstChild.namespaceURI)),Nt=!Lt&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var e=t.firstChild;return e.style.behavior="url(#default#VML)",e&&"object"==typeof e.adj}catch(t){return!1}}();function kt(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var Ft={ie:it,ielt9:ot,edge:nt,webkit:rt,android:st,android23:at,androidStock:ct,opera:ut,chrome:ht,gecko:dt,safari:pt,phantom:ft,opera12:gt,win:mt,ie3d:yt,webkit3d:vt,gecko3d:_t,any3d:Ct,mobile:bt,mobileWebkit:Et,mobileWebkit3d:St,msPointer:wt,pointer:Ot,touch:Pt,touchNative:xt,mobileOpera:Tt,mobileGecko:Mt,retina:Dt,passiveEvents:At,canvas:Rt,svg:Lt,vml:Nt,inlineSvg:It,mac:0===navigator.platform.indexOf("Mac"),linux:0===navigator.platform.indexOf("Linux")},Bt=Ft.msPointer?"MSPointerDown":"pointerdown",Gt=Ft.msPointer?"MSPointerMove":"pointermove",jt=Ft.msPointer?"MSPointerUp":"pointerup",Vt=Ft.msPointer?"MSPointerCancel":"pointercancel",Ut={touchstart:Bt,touchmove:Gt,touchend:jt,touchcancel:Vt},Wt={touchstart:function(t,e){e.MSPOINTER_TYPE_TOUCH&&e.pointerType===e.MSPOINTER_TYPE_TOUCH&&Ve(e);Zt(t,e)},touchmove:Zt,touchend:Zt,touchcancel:Zt},Ht={},$t=!1;function zt(t,e,i){return"touchstart"===e&&($t||(document.addEventListener(Bt,Kt,!0),document.addEventListener(Gt,Yt,!0),document.addEventListener(jt,Xt,!0),document.addEventListener(Vt,Xt,!0),$t=!0)),Wt[e]?(i=Wt[e].bind(this,i),t.addEventListener(Ut[e],i,!1),i):(console.warn("wrong event specified:",e),h)}function Kt(t){Ht[t.pointerId]=t}function Yt(t){Ht[t.pointerId]&&(Ht[t.pointerId]=t)}function Xt(t){delete Ht[t.pointerId]}function Zt(t,e){if(e.pointerType!==(e.MSPOINTER_TYPE_MOUSE||"mouse")){for(var i in e.touches=[],Ht)e.touches.push(Ht[i]);e.changedTouches=[e],t(e)}}var qt=200;var Jt,Qt,te,ee,ie,oe=_e(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ne=_e(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),re="webkitTransition"===ne||"OTransition"===ne?ne+"End":"transitionend";function se(t){return"string"==typeof t?document.getElementById(t):t}function ae(t,e){var i=t.style[e]||t.currentStyle&&t.currentStyle[e];if((!i||"auto"===i)&&document.defaultView){var o=document.defaultView.getComputedStyle(t,null);i=o?o[e]:null}return"auto"===i?null:i}function le(t,e,i){var o=document.createElement(t);return o.className=e||"",i&&i.appendChild(o),o}function ce(t){var e=t.parentNode;e&&e.removeChild(t)}function ue(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function he(t){var e=t.parentNode;e&&e.lastChild!==t&&e.appendChild(t)}function de(t){var e=t.parentNode;e&&e.firstChild!==t&&e.insertBefore(t,e.firstChild)}function pe(t,e){if(void 0!==t.classList)return t.classList.contains(e);var i=ye(t);return i.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(i)}function fe(t,e){if(void 0!==t.classList)for(var i=f(e),o=0,n=i.length;o<n;o++)t.classList.add(i[o]);else if(!pe(t,e)){var r=ye(t);me(t,(r?r+" ":"")+e)}}function ge(t,e){void 0!==t.classList?t.classList.remove(e):me(t,p((" "+ye(t)+" ").replace(" "+e+" "," ")))}function me(t,e){void 0===t.className.baseVal?t.className=e:t.className.baseVal=e}function ye(t){return t.correspondingElement&&(t=t.correspondingElement),void 0===t.className.baseVal?t.className:t.className.baseVal}function ve(t,e){"opacity"in t.style?t.style.opacity=e:"filter"in t.style&&function(t,e){var i=!1,o="DXImageTransform.Microsoft.Alpha";try{i=t.filters.item(o)}catch(t){if(1===e)return}e=Math.round(100*e),i?(i.Enabled=100!==e,i.Opacity=e):t.style.filter+=" progid:"+o+"(opacity="+e+")"}(t,e)}function _e(t){for(var e=document.documentElement.style,i=0;i<t.length;i++)if(t[i]in e)return t[i];return!1}function Ce(t,e,i){var o=e||new I(0,0);t.style[oe]=(Ft.ie3d?"translate("+o.x+"px,"+o.y+"px)":"translate3d("+o.x+"px,"+o.y+"px,0)")+(i?" scale("+i+")":"")}function be(t,e){t._leaflet_pos=e,Ft.any3d?Ce(t,e):(t.style.left=e.x+"px",t.style.top=e.y+"px")}function Ee(t){return t._leaflet_pos||new I(0,0)}if("onselectstart"in document)Jt=function(){Ae(window,"selectstart",Ve)},Qt=function(){Le(window,"selectstart",Ve)};else{var Se=_e(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Jt=function(){if(Se){var t=document.documentElement.style;te=t[Se],t[Se]="none"}},Qt=function(){Se&&(document.documentElement.style[Se]=te,te=void 0)}}function we(){Ae(window,"dragstart",Ve)}function Oe(){Le(window,"dragstart",Ve)}function xe(t){for(;-1===t.tabIndex;)t=t.parentNode;t.style&&(Pe(),ee=t,ie=t.style.outline,t.style.outline="none",Ae(window,"keydown",Pe))}function Pe(){ee&&(ee.style.outline=ie,ee=void 0,ie=void 0,Le(window,"keydown",Pe))}function Te(t){do{t=t.parentNode}while(!(t.offsetWidth&&t.offsetHeight||t===document.body));return t}function Me(t){var e=t.getBoundingClientRect();return{x:e.width/t.offsetWidth||1,y:e.height/t.offsetHeight||1,boundingClientRect:e}}var De={__proto__:null,TRANSFORM:oe,TRANSITION:ne,TRANSITION_END:re,get:se,getStyle:ae,create:le,remove:ce,empty:ue,toFront:he,toBack:de,hasClass:pe,addClass:fe,removeClass:ge,setClass:me,getClass:ye,setOpacity:ve,testProp:_e,setTransform:Ce,setPosition:be,getPosition:Ee,get disableTextSelection(){return Jt},get enableTextSelection(){return Qt},disableImageDrag:we,enableImageDrag:Oe,preventOutline:xe,restoreOutline:Pe,getSizedParentNode:Te,getScale:Me};function Ae(t,e,i,o){if(e&&"object"==typeof e)for(var n in e)ke(t,n,e[n],i);else for(var r=0,s=(e=f(e)).length;r<s;r++)ke(t,e[r],i,o);return this}var Re="_leaflet_events";function Le(t,e,i,o){if(1===arguments.length)Ie(t),delete t[Re];else if(e&&"object"==typeof e)for(var n in e)Fe(t,n,e[n],i);else if(e=f(e),2===arguments.length)Ie(t,(function(t){return-1!==C(e,t)}));else for(var r=0,s=e.length;r<s;r++)Fe(t,e[r],i,o);return this}function Ie(t,e){for(var i in t[Re]){var o=i.split(/\d/)[0];e&&!e(o)||Fe(t,o,null,null,i)}}var Ne={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function ke(t,e,i,o){var n=e+l(i)+(o?"_"+l(o):"");if(t[Re]&&t[Re][n])return this;var r=function(e){return i.call(o||t,e||window.event)},s=r;!Ft.touchNative&&Ft.pointer&&0===e.indexOf("touch")?r=zt(t,e,r):Ft.touch&&"dblclick"===e?r=function(t,e){t.addEventListener("dblclick",e);var i,o=0;function n(t){if(1===t.detail){if("mouse"!==t.pointerType&&(!t.sourceCapabilities||t.sourceCapabilities.firesTouchEvents)){var n=We(t);if(!n.some((function(t){return t instanceof HTMLLabelElement&&t.attributes.for}))||n.some((function(t){return t instanceof HTMLInputElement||t instanceof HTMLSelectElement}))){var r=Date.now();r-o<=qt?2==++i&&e(function(t){var e,i,o={};for(i in t)e=t[i],o[i]=e&&e.bind?e.bind(t):e;return t=o,o.type="dblclick",o.detail=2,o.isTrusted=!1,o._simulated=!0,o}(t)):i=1,o=r}}}else i=t.detail}return t.addEventListener("click",n),{dblclick:e,simDblclick:n}}(t,r):"addEventListener"in t?"touchstart"===e||"touchmove"===e||"wheel"===e||"mousewheel"===e?t.addEventListener(Ne[e]||e,r,!!Ft.passiveEvents&&{passive:!1}):"mouseenter"===e||"mouseleave"===e?(r=function(e){e=e||window.event,Ke(t,e)&&s(e)},t.addEventListener(Ne[e],r,!1)):t.addEventListener(e,s,!1):t.attachEvent("on"+e,r),t[Re]=t[Re]||{},t[Re][n]=r}function Fe(t,e,i,o,n){n=n||e+l(i)+(o?"_"+l(o):"");var r=t[Re]&&t[Re][n];if(!r)return this;!Ft.touchNative&&Ft.pointer&&0===e.indexOf("touch")?function(t,e,i){Ut[e]?t.removeEventListener(Ut[e],i,!1):console.warn("wrong event specified:",e)}(t,e,r):Ft.touch&&"dblclick"===e?function(t,e){t.removeEventListener("dblclick",e.dblclick),t.removeEventListener("click",e.simDblclick)}(t,r):"removeEventListener"in t?t.removeEventListener(Ne[e]||e,r,!1):t.detachEvent("on"+e,r),t[Re][n]=null}function Be(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,this}function Ge(t){return ke(t,"wheel",Be),this}function je(t){return Ae(t,"mousedown touchstart dblclick contextmenu",Be),t._leaflet_disable_click=!0,this}function Ve(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function Ue(t){return Ve(t),Be(t),this}function We(t){if(t.composedPath)return t.composedPath();for(var e=[],i=t.target;i;)e.push(i),i=i.parentNode;return e}function He(t,e){if(!e)return new I(t.clientX,t.clientY);var i=Me(e),o=i.boundingClientRect;return new I((t.clientX-o.left)/i.x-e.clientLeft,(t.clientY-o.top)/i.y-e.clientTop)}var $e=Ft.linux&&Ft.chrome?window.devicePixelRatio:Ft.mac?3*window.devicePixelRatio:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function ze(t){return Ft.edge?t.wheelDeltaY/2:t.deltaY&&0===t.deltaMode?-t.deltaY/$e:t.deltaY&&1===t.deltaMode?20*-t.deltaY:t.deltaY&&2===t.deltaMode?60*-t.deltaY:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?20*-t.detail:t.detail?t.detail/-32765*60:0}function Ke(t,e){var i=e.relatedTarget;if(!i)return!0;try{for(;i&&i!==t;)i=i.parentNode}catch(t){return!1}return i!==t}var Ye={__proto__:null,on:Ae,off:Le,stopPropagation:Be,disableScrollPropagation:Ge,disableClickPropagation:je,preventDefault:Ve,stop:Ue,getPropagationPath:We,getMousePosition:He,getWheelDelta:ze,isExternalTarget:Ke,addListener:Ae,removeListener:Le},Xe=R.extend({run:function(t,e,i,o){this.stop(),this._el=t,this._inProgress=!0,this._duration=i||.25,this._easeOutPower=1/Math.max(o||.5,.2),this._startPos=Ee(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=P(this._animate,this),this._step()},_step:function(t){var e=+new Date-this._startTime,i=1e3*this._duration;e<i?this._runFrame(this._easeOut(e/i),t):(this._runFrame(1),this._complete())},_runFrame:function(t,e){var i=this._startPos.add(this._offset.multiplyBy(t));e&&i._round(),be(this._el,i),this.fire("step")},_complete:function(){T(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),Ze=R.extend({options:{crs:Z,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,e){e=g(this,e),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=s(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),void 0!==e.zoom&&(this._zoom=this._limitZoom(e.zoom)),e.center&&void 0!==e.zoom&&this.setView(U(e.center),e.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ne&&Ft.any3d&&!Ft.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ae(this._proxy,re,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,e,i){if((e=void 0===e?this._zoom:this._limitZoom(e),t=this._limitCenter(U(t),e,this.options.maxBounds),i=i||{},this._stop(),this._loaded&&!i.reset&&!0!==i)&&(void 0!==i.animate&&(i.zoom=n({animate:i.animate},i.zoom),i.pan=n({animate:i.animate,duration:i.duration},i.pan)),this._zoom!==e?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,e,i.zoom):this._tryAnimatedPan(t,i.pan)))return clearTimeout(this._sizeTimer),this;return this._resetView(t,e,i.pan&&i.pan.noMoveStart),this},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=t,this)},zoomIn:function(t,e){return t=t||(Ft.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+t,e)},zoomOut:function(t,e){return t=t||(Ft.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-t,e)},setZoomAround:function(t,e,i){var o=this.getZoomScale(e),n=this.getSize().divideBy(2),r=(t instanceof I?t:this.latLngToContainerPoint(t)).subtract(n).multiplyBy(1-1/o),s=this.containerPointToLatLng(n.add(r));return this.setView(s,e,{zoom:i})},_getBoundsCenterZoom:function(t,e){e=e||{},t=t.getBounds?t.getBounds():j(t);var i=k(e.paddingTopLeft||e.padding||[0,0]),o=k(e.paddingBottomRight||e.padding||[0,0]),n=this.getBoundsZoom(t,!1,i.add(o));if((n="number"==typeof e.maxZoom?Math.min(e.maxZoom,n):n)===1/0)return{center:t.getCenter(),zoom:n};var r=o.subtract(i).divideBy(2),s=this.project(t.getSouthWest(),n),a=this.project(t.getNorthEast(),n);return{center:this.unproject(s.add(a).divideBy(2).add(r),n),zoom:n}},fitBounds:function(t,e){if(!(t=j(t)).isValid())throw new Error("Bounds are not valid.");var i=this._getBoundsCenterZoom(t,e);return this.setView(i.center,i.zoom,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t,e){if(e=e||{},!(t=k(t).round()).x&&!t.y)return this.fire("moveend");if(!0!==e.animate&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Xe,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),!1!==e.animate){fe(this._mapPane,"leaflet-pan-anim");var i=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,i,e.duration||.25,e.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,e,i){if(!1===(i=i||{}).animate||!Ft.any3d)return this.setView(t,e,i);this._stop();var o=this.project(this.getCenter()),n=this.project(t),r=this.getSize(),s=this._zoom;t=U(t),e=void 0===e?s:e;var a=Math.max(r.x,r.y),l=a*this.getZoomScale(s,e),c=n.distanceTo(o)||1,u=1.42,h=u*u;function d(t){var e=(l*l-a*a+(t?-1:1)*h*h*c*c)/(2*(t?l:a)*h*c),i=Math.sqrt(e*e+1)-e;return i<1e-9?-18:Math.log(i)}function p(t){return(Math.exp(t)-Math.exp(-t))/2}function f(t){return(Math.exp(t)+Math.exp(-t))/2}var g=d(0);function m(t){return a*(f(g)*(p(e=g+u*t)/f(e))-p(g))/h;var e}var y=Date.now(),v=(d(1)-g)/u,_=i.duration?1e3*i.duration:1e3*v*.8;return this._moveStart(!0,i.noMoveStart),function i(){var r=(Date.now()-y)/_,l=function(t){return 1-Math.pow(1-t,1.5)}(r)*v;r<=1?(this._flyToFrame=P(i,this),this._move(this.unproject(o.add(n.subtract(o).multiplyBy(m(l)/c)),s),this.getScaleZoom(a/function(t){return a*(f(g)/f(g+u*t))}(l),s),{flyTo:!0})):this._move(t,e)._moveEnd(!0)}.call(this),this},flyToBounds:function(t,e){var i=this._getBoundsCenterZoom(t,e);return this.flyTo(i.center,i.zoom,e)},setMaxBounds:function(t){return t=j(t),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),t.isValid()?(this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(t){var e=this.options.minZoom;return this.options.minZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var e=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,e){this._enforcingBounds=!0;var i=this.getCenter(),o=this._limitCenter(i,this._zoom,j(t));return i.equals(o)||this.panTo(o,e),this._enforcingBounds=!1,this},panInside:function(t,e){var i=k((e=e||{}).paddingTopLeft||e.padding||[0,0]),o=k(e.paddingBottomRight||e.padding||[0,0]),n=this.project(this.getCenter()),r=this.project(t),s=this.getPixelBounds(),a=B([s.min.add(i),s.max.subtract(o)]),l=a.getSize();if(!a.contains(r)){this._enforcingBounds=!0;var c=r.subtract(a.getCenter()),u=a.extend(r).getSize().subtract(l);n.x+=c.x<0?-u.x:u.x,n.y+=c.y<0?-u.y:u.y,this.panTo(this.unproject(n),e),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=n({animate:!1,pan:!0},!0===t?{animate:!0}:t);var e=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var i=this.getSize(),o=e.divideBy(2).round(),r=i.divideBy(2).round(),a=o.subtract(r);return a.x||a.y?(t.animate&&t.pan?this.panBy(a):(t.pan&&this._rawPanBy(a),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(s(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:e,newSize:i})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=n({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var e=s(this._handleGeolocationResponse,this),i=s(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(e,i,t):navigator.geolocation.getCurrentPosition(e,i,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){if(this._container._leaflet_id){var e=t.code,i=t.message||(1===e?"permission denied":2===e?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+i+"."})}},_handleGeolocationResponse:function(t){if(this._container._leaflet_id){var e=new V(t.coords.latitude,t.coords.longitude),i=e.toBounds(2*t.coords.accuracy),o=this._locateOptions;if(o.setView){var n=this.getBoundsZoom(i);this.setView(e,o.maxZoom?Math.min(n,o.maxZoom):n)}var r={latlng:e,bounds:i,timestamp:t.timestamp};for(var s in t.coords)"number"==typeof t.coords[s]&&(r[s]=t.coords[s]);this.fire("locationfound",r)}},addHandler:function(t,e){if(!e)return this;var i=this[t]=new e(this);return this._handlers.push(i),this.options[t]&&i.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(t){this._container._leaflet_id=void 0,this._containerId=void 0}var t;for(t in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),ce(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(T(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[t].remove();for(t in this._panes)ce(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,e){var i=le("div","leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),e||this._mapPane);return t&&(this._panes[t]=i),i},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds();return new G(this.unproject(t.getBottomLeft()),this.unproject(t.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,i){t=j(t),i=k(i||[0,0]);var o=this.getZoom()||0,n=this.getMinZoom(),r=this.getMaxZoom(),s=t.getNorthWest(),a=t.getSouthEast(),l=this.getSize().subtract(i),c=B(this.project(a,o),this.project(s,o)).getSize(),u=Ft.any3d?this.options.zoomSnap:1,h=l.x/c.x,d=l.y/c.y,p=e?Math.max(h,d):Math.min(h,d);return o=this.getScaleZoom(p,o),u&&(o=Math.round(o/(u/100))*(u/100),o=e?Math.ceil(o/u)*u:Math.floor(o/u)*u),Math.max(n,Math.min(r,o))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new I(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,e){var i=this._getTopLeftPoint(t,e);return new F(i,i.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(void 0===t?this.getZoom():t)},getPane:function(t){return"string"==typeof t?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,e){var i=this.options.crs;return e=void 0===e?this._zoom:e,i.scale(t)/i.scale(e)},getScaleZoom:function(t,e){var i=this.options.crs;e=void 0===e?this._zoom:e;var o=i.zoom(t*i.scale(e));return isNaN(o)?1/0:o},project:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.latLngToPoint(U(t),e)},unproject:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.pointToLatLng(k(t),e)},layerPointToLatLng:function(t){var e=k(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){return this.project(U(t))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(U(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(j(t))},distance:function(t,e){return this.options.crs.distance(U(t),U(e))},containerPointToLayerPoint:function(t){return k(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return k(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(k(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(U(t)))},mouseEventToContainerPoint:function(t){return He(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=se(t);if(!e)throw new Error("Map container not found.");if(e._leaflet_id)throw new Error("Map container is already initialized.");Ae(e,"scroll",this._onScroll,this),this._containerId=l(e)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ft.any3d,fe(t,"leaflet-container"+(Ft.touch?" leaflet-touch":"")+(Ft.retina?" leaflet-retina":"")+(Ft.ielt9?" leaflet-oldie":"")+(Ft.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var e=ae(t,"position");"absolute"!==e&&"relative"!==e&&"fixed"!==e&&"sticky"!==e&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),be(this._mapPane,new I(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(fe(t.markerPane,"leaflet-zoom-hide"),fe(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,e,i){be(this._mapPane,new I(0,0));var o=!this._loaded;this._loaded=!0,e=this._limitZoom(e),this.fire("viewprereset");var n=this._zoom!==e;this._moveStart(n,i)._move(t,e)._moveEnd(n),this.fire("viewreset"),o&&this.fire("load")},_moveStart:function(t,e){return t&&this.fire("zoomstart"),e||this.fire("movestart"),this},_move:function(t,e,i,o){void 0===e&&(e=this._zoom);var n=this._zoom!==e;return this._zoom=e,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),o?i&&i.pinch&&this.fire("zoom",i):((n||i&&i.pinch)&&this.fire("zoom",i),this.fire("move",i)),this},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return T(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){be(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[l(this._container)]=this;var e=t?Le:Ae;e(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&e(window,"resize",this._onResize,this),Ft.any3d&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){T(this._resizeRequest),this._resizeRequest=P((function(){this.invalidateSize({debounceMoveend:!0})}),this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,e){for(var i,o=[],n="mouseout"===e||"mouseover"===e,r=t.target||t.srcElement,s=!1;r;){if((i=this._targets[l(r)])&&("click"===e||"preclick"===e)&&this._draggableMoved(i)){s=!0;break}if(i&&i.listens(e,!0)){if(n&&!Ke(r,t))break;if(o.push(i),n)break}if(r===this._container)break;r=r.parentNode}return o.length||s||n||!this.listens(e,!0)||(o=[this]),o},_isClickDisabled:function(t){for(;t&&t!==this._container;){if(t._leaflet_disable_click)return!0;t=t.parentNode}},_handleDOMEvent:function(t){var e=t.target||t.srcElement;if(!(!this._loaded||e._leaflet_disable_events||"click"===t.type&&this._isClickDisabled(e))){var i=t.type;"mousedown"===i&&xe(e),this._fireDOMEvent(t,i)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,e,i){if("click"===t.type){var o=n({},t);o.type="preclick",this._fireDOMEvent(o,o.type,i)}var r=this._findEventTargets(t,e);if(i){for(var s=[],a=0;a<i.length;a++)i[a].listens(e,!0)&&s.push(i[a]);r=s.concat(r)}if(r.length){"contextmenu"===e&&Ve(t);var l=r[0],c={originalEvent:t};if("keypress"!==t.type&&"keydown"!==t.type&&"keyup"!==t.type){var u=l.getLatLng&&(!l._radius||l._radius<=10);c.containerPoint=u?this.latLngToContainerPoint(l.getLatLng()):this.mouseEventToContainerPoint(t),c.layerPoint=this.containerPointToLayerPoint(c.containerPoint),c.latlng=u?l.getLatLng():this.layerPointToLatLng(c.layerPoint)}for(a=0;a<r.length;a++)if(r[a].fire(e,c,!0),c.originalEvent._stopped||!1===r[a].options.bubblingMouseEvents&&-1!==C(this._mouseEvents,e))return}},_draggableMoved:function(t){return(t=t.dragging&&t.dragging.enabled()?t:this).dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,e=this._handlers.length;t<e;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,{target:this}):this.on("load",t,e),this},_getMapPanePos:function(){return Ee(this._mapPane)||new I(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,e){return(t&&void 0!==e?this._getNewPixelOrigin(t,e):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,e){var i=this.getSize()._divideBy(2);return this.project(t,e)._subtract(i)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,e,i){var o=this._getNewPixelOrigin(i,e);return this.project(t,e)._subtract(o)},_latLngBoundsToNewLayerBounds:function(t,e,i){var o=this._getNewPixelOrigin(i,e);return B([this.project(t.getSouthWest(),e)._subtract(o),this.project(t.getNorthWest(),e)._subtract(o),this.project(t.getSouthEast(),e)._subtract(o),this.project(t.getNorthEast(),e)._subtract(o)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,i){if(!i)return t;var o=this.project(t,e),n=this.getSize().divideBy(2),r=new F(o.subtract(n),o.add(n)),s=this._getBoundsOffset(r,i,e);return Math.abs(s.x)<=1&&Math.abs(s.y)<=1?t:this.unproject(o.add(s),e)},_limitOffset:function(t,e){if(!e)return t;var i=this.getPixelBounds(),o=new F(i.min.add(t),i.max.add(t));return t.add(this._getBoundsOffset(o,e))},_getBoundsOffset:function(t,e,i){var o=B(this.project(e.getNorthEast(),i),this.project(e.getSouthWest(),i)),n=o.min.subtract(t.min),r=o.max.subtract(t.max);return new I(this._rebound(n.x,-r.x),this._rebound(n.y,-r.y))},_rebound:function(t,e){return t+e>0?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),i=this.getMaxZoom(),o=Ft.any3d?this.options.zoomSnap:1;return o&&(t=Math.round(t/o)*o),Math.max(e,Math.min(i,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ge(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){var i=this._getCenterOffset(t)._trunc();return!(!0!==(e&&e.animate)&&!this.getSize().contains(i))&&(this.panBy(i,e),!0)},_createAnimProxy:function(){var t=this._proxy=le("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",(function(t){var e=oe,i=this._proxy.style[e];Ce(this._proxy,this.project(t.center,t.zoom),this.getZoomScale(t.zoom,1)),i===this._proxy.style[e]&&this._animatingZoom&&this._onZoomTransitionEnd()}),this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ce(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),e=this.getZoom();Ce(this._proxy,this.project(t,e),this.getZoomScale(e,1))},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,i){if(this._animatingZoom)return!0;if(i=i||{},!this._zoomAnimated||!1===i.animate||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var o=this.getZoomScale(e),n=this._getCenterOffset(t)._divideBy(1-1/o);return!(!0!==i.animate&&!this.getSize().contains(n))&&(P((function(){this._moveStart(!0,!1)._animateZoom(t,e,!0)}),this),!0)},_animateZoom:function(t,e,i,o){this._mapPane&&(i&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=e,fe(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:e,noUpdate:o}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(s(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&ge(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function qe(t,e){return new Ze(t,e)}var Je=D.extend({options:{position:"topright"},initialize:function(t){g(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var e=this._container=this.onAdd(t),i=this.getPosition(),o=t._controlCorners[i];return fe(e,"leaflet-control"),-1!==i.indexOf("bottom")?o.insertBefore(e,o.firstChild):o.appendChild(e),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ce(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),Qe=function(t){return new Je(t)};Ze.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},e="leaflet-",i=this._controlContainer=le("div",e+"control-container",this._container);function o(o,n){var r=e+o+" "+e+n;t[o+n]=le("div",r,i)}o("top","left"),o("top","right"),o("bottom","left"),o("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)ce(this._controlCorners[t]);ce(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var ti=Je.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,e,i,o){return i<o?-1:o<i?1:0}},initialize:function(t,e,i){for(var o in g(this,i),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,t)this._addLayer(t[o],o);for(o in e)this._addLayer(e[o],o,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return Je.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._map?this._update():this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var e=this._getLayer(l(t));return e&&this._layers.splice(this._layers.indexOf(e),1),this._map?this._update():this},expand:function(){fe(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(fe(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):ge(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return ge(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=le("div",t),i=this.options.collapsed;e.setAttribute("aria-haspopup",!0),je(e),Ge(e);var o=this._section=le("section",t+"-list");i&&(this._map.on("click",this.collapse,this),Ae(e,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var n=this._layersLink=le("a",t+"-toggle",e);n.href="#",n.title="Layers",n.setAttribute("role","button"),Ae(n,{keydown:function(t){13===t.keyCode&&this._expandSafely()},click:function(t){Ve(t),this._expandSafely()}},this),i||this.expand(),this._baseLayersList=le("div",t+"-base",o),this._separator=le("div",t+"-separator",o),this._overlaysList=le("div",t+"-overlays",o),e.appendChild(o)},_getLayer:function(t){for(var e=0;e<this._layers.length;e++)if(this._layers[e]&&l(this._layers[e].layer)===t)return this._layers[e]},_addLayer:function(t,e,i){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:e,overlay:i}),this.options.sortLayers&&this._layers.sort(s((function(t,e){return this.options.sortFunction(t.layer,e.layer,t.name,e.name)}),this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ue(this._baseLayersList),ue(this._overlaysList),this._layerControlInputs=[];var t,e,i,o,n=0;for(i=0;i<this._layers.length;i++)o=this._layers[i],this._addItem(o),e=e||o.overlay,t=t||!o.overlay,n+=o.overlay?0:1;return this.options.hideSingleBase&&(t=t&&n>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=e&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var e=this._getLayer(l(t.target)),i=e.overlay?"add"===t.type?"overlayadd":"overlayremove":"add"===t.type?"baselayerchange":null;i&&this._map.fire(i,e)},_createRadioElement:function(t,e){var i='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(e?' checked="checked"':"")+"/>",o=document.createElement("div");return o.innerHTML=i,o.firstChild},_addItem:function(t){var e,i=document.createElement("label"),o=this._map.hasLayer(t.layer);t.overlay?((e=document.createElement("input")).type="checkbox",e.className="leaflet-control-layers-selector",e.defaultChecked=o):e=this._createRadioElement("leaflet-base-layers_"+l(this),o),this._layerControlInputs.push(e),e.layerId=l(t.layer),Ae(e,"click",this._onInputClick,this);var n=document.createElement("span");n.innerHTML=" "+t.name;var r=document.createElement("span");return i.appendChild(r),r.appendChild(e),r.appendChild(n),(t.overlay?this._overlaysList:this._baseLayersList).appendChild(i),this._checkDisabledLayers(),i},_onInputClick:function(){var t,e,i=this._layerControlInputs,o=[],n=[];this._handlingClick=!0;for(var r=i.length-1;r>=0;r--)t=i[r],e=this._getLayer(t.layerId).layer,t.checked?o.push(e):t.checked||n.push(e);for(r=0;r<n.length;r++)this._map.hasLayer(n[r])&&this._map.removeLayer(n[r]);for(r=0;r<o.length;r++)this._map.hasLayer(o[r])||this._map.addLayer(o[r]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var t,e,i=this._layerControlInputs,o=this._map.getZoom(),n=i.length-1;n>=0;n--)t=i[n],e=this._getLayer(t.layerId).layer,t.disabled=void 0!==e.options.minZoom&&o<e.options.minZoom||void 0!==e.options.maxZoom&&o>e.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var t=this._section;Ae(t,"click",Ve),this.expand(),setTimeout((function(){Le(t,"click",Ve)}))}}),ei=Je.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",i=le("div",e+" leaflet-bar"),o=this.options;return this._zoomInButton=this._createButton(o.zoomInText,o.zoomInTitle,e+"-in",i,this._zoomIn),this._zoomOutButton=this._createButton(o.zoomOutText,o.zoomOutTitle,e+"-out",i,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),i},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,e,i,o,n){var r=le("a",i,o);return r.innerHTML=t,r.href="#",r.title=e,r.setAttribute("role","button"),r.setAttribute("aria-label",e),je(r),Ae(r,"click",Ue),Ae(r,"click",n,this),Ae(r,"click",this._refocusOnMap,this),r},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";ge(this._zoomInButton,e),ge(this._zoomOutButton,e),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||t._zoom===t.getMinZoom())&&(fe(this._zoomOutButton,e),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||t._zoom===t.getMaxZoom())&&(fe(this._zoomInButton,e),this._zoomInButton.setAttribute("aria-disabled","true"))}});Ze.mergeOptions({zoomControl:!0}),Ze.addInitHook((function(){this.options.zoomControl&&(this.zoomControl=new ei,this.addControl(this.zoomControl))}));var ii=Je.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var e="leaflet-control-scale",i=le("div",e),o=this.options;return this._addScales(o,e+"-line",i),t.on(o.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),i},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,i){t.metric&&(this._mScale=le("div",e,i)),t.imperial&&(this._iScale=le("div",e,i))},_update:function(){var t=this._map,e=t.getSize().y/2,i=t.distance(t.containerPointToLatLng([0,e]),t.containerPointToLatLng([this.options.maxWidth,e]));this._updateScales(i)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var e=this._getRoundNum(t),i=e<1e3?e+" m":e/1e3+" km";this._updateScale(this._mScale,i,e/t)},_updateImperial:function(t){var e,i,o,n=3.2808399*t;n>5280?(e=n/5280,i=this._getRoundNum(e),this._updateScale(this._iScale,i+" mi",i/e)):(o=this._getRoundNum(n),this._updateScale(this._iScale,o+" ft",o/n))},_updateScale:function(t,e,i){t.style.width=Math.round(this.options.maxWidth*i)+"px",t.innerHTML=e},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),i=t/e;return e*(i=i>=10?10:i>=5?5:i>=3?3:i>=2?2:1)}}),oi=Je.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ft.inlineSvg?'<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg> ':"")+"Leaflet</a>"},initialize:function(t){g(this,t),this._attributions={}},onAdd:function(t){for(var e in t.attributionControl=this,this._container=le("div","leaflet-control-attribution"),je(this._container),t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return this._update(),t.on("layeradd",this._addAttribution,this),this._container},onRemove:function(t){t.off("layeradd",this._addAttribution,this)},_addAttribution:function(t){t.layer.getAttribution&&(this.addAttribution(t.layer.getAttribution()),t.layer.once("remove",(function(){this.removeAttribution(t.layer.getAttribution())}),this))},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions[e]&&t.push(e);var i=[];this.options.prefix&&i.push(this.options.prefix),t.length&&i.push(t.join(", ")),this._container.innerHTML=i.join(' <span aria-hidden="true">|</span> ')}}});Ze.mergeOptions({attributionControl:!0}),Ze.addInitHook((function(){this.options.attributionControl&&(new oi).addTo(this)}));Je.Layers=ti,Je.Zoom=ei,Je.Scale=ii,Je.Attribution=oi,Qe.layers=function(t,e,i){return new ti(t,e,i)},Qe.zoom=function(t){return new ei(t)},Qe.scale=function(t){return new ii(t)},Qe.attribution=function(t){return new oi(t)};var ni=D.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});ni.addTo=function(t,e){return t.addHandler(e,this),this};var ri,si={Events:A},ai=Ft.touch?"touchstart mousedown":"mousedown",li=R.extend({options:{clickTolerance:3},initialize:function(t,e,i,o){g(this,o),this._element=t,this._dragStartTarget=e||t,this._preventOutline=i},enable:function(){this._enabled||(Ae(this._dragStartTarget,ai,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(li._dragging===this&&this.finishDrag(!0),Le(this._dragStartTarget,ai,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(this._enabled&&(this._moved=!1,!pe(this._element,"leaflet-zoom-anim")))if(t.touches&&1!==t.touches.length)li._dragging===this&&this.finishDrag();else if(!(li._dragging||t.shiftKey||1!==t.which&&1!==t.button&&!t.touches||(li._dragging=this,this._preventOutline&&xe(this._element),we(),Jt(),this._moving))){this.fire("down");var e=t.touches?t.touches[0]:t,i=Te(this._element);this._startPoint=new I(e.clientX,e.clientY),this._startPos=Ee(this._element),this._parentScale=Me(i);var o="mousedown"===t.type;Ae(document,o?"mousemove":"touchmove",this._onMove,this),Ae(document,o?"mouseup":"touchend touchcancel",this._onUp,this)}},_onMove:function(t){if(this._enabled)if(t.touches&&t.touches.length>1)this._moved=!0;else{var e=t.touches&&1===t.touches.length?t.touches[0]:t,i=new I(e.clientX,e.clientY)._subtract(this._startPoint);(i.x||i.y)&&(Math.abs(i.x)+Math.abs(i.y)<this.options.clickTolerance||(i.x/=this._parentScale.x,i.y/=this._parentScale.y,Ve(t),this._moved||(this.fire("dragstart"),this._moved=!0,fe(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),fe(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(i),this._moving=!0,this._lastEvent=t,this._updatePosition()))}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),be(this._element,this._newPos),this.fire("drag",t)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(t){ge(document.body,"leaflet-dragging"),this._lastTarget&&(ge(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Le(document,"mousemove touchmove",this._onMove,this),Le(document,"mouseup touchend touchcancel",this._onUp,this),Oe(),Qt(),this._moved&&this._moving&&this.fire("dragend",{noInertia:t,distance:this._newPos.distanceTo(this._startPos)}),this._moving=!1,li._dragging=!1}});function ci(t,e){if(!e||!t.length)return t.slice();var i=e*e;return t=function(t,e){for(var i=[t[0]],o=1,n=0,r=t.length;o<r;o++)gi(t[o],t[n])>e&&(i.push(t[o]),n=o);n<r-1&&i.push(t[r-1]);return i}(t,i),t=function(t,e){var i=t.length,o=new(typeof Uint8Array!=void 0+""?Uint8Array:Array)(i);o[0]=o[i-1]=1,hi(t,o,e,0,i-1);var n,r=[];for(n=0;n<i;n++)o[n]&&r.push(t[n]);return r}(t,i),t}function ui(t,e,i){return Math.sqrt(mi(t,e,i,!0))}function hi(t,e,i,o,n){var r,s,a,l=0;for(s=o+1;s<=n-1;s++)(a=mi(t[s],t[o],t[n],!0))>l&&(r=s,l=a);l>i&&(e[r]=1,hi(t,e,i,o,r),hi(t,e,i,r,n))}function di(t,e,i,o,n){var r,s,a,l=o?ri:fi(t,i),c=fi(e,i);for(ri=c;;){if(!(l|c))return[t,e];if(l&c)return!1;a=fi(s=pi(t,e,r=l||c,i,n),i),r===l?(t=s,l=a):(e=s,c=a)}}function pi(t,e,i,o,n){var r,s,a=e.x-t.x,l=e.y-t.y,c=o.min,u=o.max;return 8&i?(r=t.x+a*(u.y-t.y)/l,s=u.y):4&i?(r=t.x+a*(c.y-t.y)/l,s=c.y):2&i?(r=u.x,s=t.y+l*(u.x-t.x)/a):1&i&&(r=c.x,s=t.y+l*(c.x-t.x)/a),new I(r,s,n)}function fi(t,e){var i=0;return t.x<e.min.x?i|=1:t.x>e.max.x&&(i|=2),t.y<e.min.y?i|=4:t.y>e.max.y&&(i|=8),i}function gi(t,e){var i=e.x-t.x,o=e.y-t.y;return i*i+o*o}function mi(t,e,i,o){var n,r=e.x,s=e.y,a=i.x-r,l=i.y-s,c=a*a+l*l;return c>0&&((n=((t.x-r)*a+(t.y-s)*l)/c)>1?(r=i.x,s=i.y):n>0&&(r+=a*n,s+=l*n)),a=t.x-r,l=t.y-s,o?a*a+l*l:new I(r,s)}function yi(t){return!_(t[0])||"object"!=typeof t[0][0]&&void 0!==t[0][0]}function vi(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),yi(t)}function _i(t,e){var i,o,n,r,s,a,l,c;if(!t||0===t.length)throw new Error("latlngs not passed");yi(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var u=[];for(var h in t)u.push(e.project(U(t[h])));var d=u.length;for(i=0,o=0;i<d-1;i++)o+=u[i].distanceTo(u[i+1])/2;if(0===o)c=u[0];else for(i=0,r=0;i<d-1;i++)if(s=u[i],a=u[i+1],(r+=n=s.distanceTo(a))>o){l=(r-o)/n,c=[a.x-l*(a.x-s.x),a.y-l*(a.y-s.y)];break}return e.unproject(k(c))}var Ci={__proto__:null,simplify:ci,pointToSegmentDistance:ui,closestPointOnSegment:function(t,e,i){return mi(t,e,i)},clipSegment:di,_getEdgeIntersection:pi,_getBitCode:fi,_sqClosestPointOnSegment:mi,isFlat:yi,_flat:vi,polylineCenter:_i};function bi(t,e,i){var o,n,r,s,a,l,c,u,h,d=[1,4,2,8];for(n=0,c=t.length;n<c;n++)t[n]._code=fi(t[n],e);for(s=0;s<4;s++){for(u=d[s],o=[],n=0,r=(c=t.length)-1;n<c;r=n++)a=t[n],l=t[r],a._code&u?l._code&u||((h=pi(l,a,u,e,i))._code=fi(h,e),o.push(h)):(l._code&u&&((h=pi(l,a,u,e,i))._code=fi(h,e),o.push(h)),o.push(a));t=o}return t}function Ei(t,e){var i,o,n,r,s,a,l,c,u;if(!t||0===t.length)throw new Error("latlngs not passed");yi(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var h=[];for(var d in t)h.push(e.project(U(t[d])));var p=h.length;for(a=l=c=0,i=0,o=p-1;i<p;o=i++)n=h[i],r=h[o],s=n.y*r.x-r.y*n.x,l+=(n.x+r.x)*s,c+=(n.y+r.y)*s,a+=3*s;return u=0===a?h[0]:[l/a,c/a],e.unproject(k(u))}var Si={__proto__:null,clipPolygon:bi,polygonCenter:Ei},wi={project:function(t){return new I(t.lng,t.lat)},unproject:function(t){return new V(t.y,t.x)},bounds:new F([-180,-90],[180,90])},Oi={R:6378137,R_MINOR:6356752.314245179,bounds:new F([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(t){var e=Math.PI/180,i=this.R,o=t.lat*e,n=this.R_MINOR/i,r=Math.sqrt(1-n*n),s=r*Math.sin(o),a=Math.tan(Math.PI/4-o/2)/Math.pow((1-s)/(1+s),r/2);return o=-i*Math.log(Math.max(a,1e-10)),new I(t.lng*e*i,o)},unproject:function(t){for(var e,i=180/Math.PI,o=this.R,n=this.R_MINOR/o,r=Math.sqrt(1-n*n),s=Math.exp(-t.y/o),a=Math.PI/2-2*Math.atan(s),l=0,c=.1;l<15&&Math.abs(c)>1e-7;l++)e=r*Math.sin(a),e=Math.pow((1-e)/(1+e),r/2),a+=c=Math.PI/2-2*Math.atan(s*e)-a;return new V(a*i,t.x*i/o)}},xi={__proto__:null,LonLat:wi,Mercator:Oi,SphericalMercator:K},Pi=n({},$,{code:"EPSG:3395",projection:Oi,transformation:function(){var t=.5/(Math.PI*Oi.R);return X(t,.5,-t,.5)}()}),Ti=n({},$,{code:"EPSG:4326",projection:wi,transformation:X(1/180,1,-1/180,.5)}),Mi=n({},H,{projection:wi,transformation:X(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,e){var i=e.lng-t.lng,o=e.lat-t.lat;return Math.sqrt(i*i+o*o)},infinite:!0});H.Earth=$,H.EPSG3395=Pi,H.EPSG3857=Z,H.EPSG900913=q,H.EPSG4326=Ti,H.Simple=Mi;var Di=R.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[l(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[l(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var e=t.target;if(e.hasLayer(this)){if(this._map=e,this._zoomAnimated=e._zoomAnimated,this.getEvents){var i=this.getEvents();e.on(i,this),this.once("remove",(function(){e.off(i,this)}),this)}this.onAdd(e),this.fire("add"),e.fire("layeradd",{layer:this})}}});Ze.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var e=l(t);return this._layers[e]||(this._layers[e]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t)),this},removeLayer:function(t){var e=l(t);return this._layers[e]?(this._loaded&&t.onRemove(this),delete this._layers[e],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return l(t)in this._layers},eachLayer:function(t,e){for(var i in this._layers)t.call(e,this._layers[i]);return this},_addLayers:function(t){for(var e=0,i=(t=t?_(t)?t:[t]:[]).length;e<i;e++)this.addLayer(t[e])},_addZoomLimit:function(t){isNaN(t.options.maxZoom)&&isNaN(t.options.minZoom)||(this._zoomBoundLayers[l(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var e=l(t);this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,e=-1/0,i=this._getZoomSpan();for(var o in this._zoomBoundLayers){var n=this._zoomBoundLayers[o].options;t=void 0===n.minZoom?t:Math.min(t,n.minZoom),e=void 0===n.maxZoom?e:Math.max(e,n.maxZoom)}this._layersMaxZoom=e===-1/0?void 0:e,this._layersMinZoom=t===1/0?void 0:t,i!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ai=Di.extend({initialize:function(t,e){var i,o;if(g(this,e),this._layers={},t)for(i=0,o=t.length;i<o;i++)this.addLayer(t[i])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(t){return("number"==typeof t?t:this.getLayerId(t))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var e,i,o=Array.prototype.slice.call(arguments,1);for(e in this._layers)(i=this._layers[e])[t]&&i[t].apply(i,o);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,e){for(var i in this._layers)t.call(e,this._layers[i]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return l(t)}}),Ri=function(t,e){return new Ai(t,e)},Li=Ai.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),Ai.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),Ai.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new G;for(var e in this._layers){var i=this._layers[e];t.extend(i.getBounds?i.getBounds():i.getLatLng())}return t}}),Ii=function(t,e){return new Li(t,e)},Ni=D.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(t){g(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var i=this._getIconUrl(t);if(!i){if("icon"===t)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var o=this._createImg(i,e&&"IMG"===e.tagName?e:null);return this._setIconStyles(o,t),(this.options.crossOrigin||""===this.options.crossOrigin)&&(o.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),o},_setIconStyles:function(t,e){var i=this.options,o=i[e+"Size"];"number"==typeof o&&(o=[o,o]);var n=k(o),r=k("shadow"===e&&i.shadowAnchor||i.iconAnchor||n&&n.divideBy(2,!0));t.className="leaflet-marker-"+e+" "+(i.className||""),r&&(t.style.marginLeft=-r.x+"px",t.style.marginTop=-r.y+"px"),n&&(t.style.width=n.x+"px",t.style.height=n.y+"px")},_createImg:function(t,e){return(e=e||document.createElement("img")).src=t,e},_getIconUrl:function(t){return Ft.retina&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}});function ki(t){return new Ni(t)}var Fi=Ni.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return"string"!=typeof Fi.imagePath&&(Fi.imagePath=this._detectIconPath()),(this.options.imagePath||Fi.imagePath)+Ni.prototype._getIconUrl.call(this,t)},_stripUrl:function(t){var e=function(t,e,i){var o=e.exec(t);return o&&o[i]};return(t=e(t,/^url\((['"])?(.+)\1\)$/,2))&&e(t,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var t=le("div","leaflet-default-icon-path",document.body),e=ae(t,"background-image")||ae(t,"backgroundImage");if(document.body.removeChild(t),e=this._stripUrl(e))return e;var i=document.querySelector('link[href$="leaflet.css"]');return i?i.href.substring(0,i.href.length-11-1):""}}),Bi=ni.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new li(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),fe(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&ge(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var e=this._marker,i=e._map,o=this._marker.options.autoPanSpeed,n=this._marker.options.autoPanPadding,r=Ee(e._icon),s=i.getPixelBounds(),a=i.getPixelOrigin(),l=B(s.min._subtract(a).add(n),s.max._subtract(a).subtract(n));if(!l.contains(r)){var c=k((Math.max(l.max.x,r.x)-l.max.x)/(s.max.x-l.max.x)-(Math.min(l.min.x,r.x)-l.min.x)/(s.min.x-l.min.x),(Math.max(l.max.y,r.y)-l.max.y)/(s.max.y-l.max.y)-(Math.min(l.min.y,r.y)-l.min.y)/(s.min.y-l.min.y)).multiplyBy(o);i.panBy(c,{animate:!1}),this._draggable._newPos._add(c),this._draggable._startPos._add(c),be(e._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=P(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(T(this._panRequest),this._panRequest=P(this._adjustPan.bind(this,t)))},_onDrag:function(t){var e=this._marker,i=e._shadow,o=Ee(e._icon),n=e._map.layerPointToLatLng(o);i&&be(i,o),e._latlng=n,t.latlng=n,t.oldLatLng=this._oldLatLng,e.fire("move",t).fire("drag",t)},_onDragEnd:function(t){T(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),Gi=Di.extend({options:{icon:new Fi,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,e){g(this,e),this._latlng=U(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var e=this._latlng;return this._latlng=U(t),this.update(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,e="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),i=t.icon.createIcon(this._icon),o=!1;i!==this._icon&&(this._icon&&this._removeIcon(),o=!0,t.title&&(i.title=t.title),"IMG"===i.tagName&&(i.alt=t.alt||"")),fe(i,e),t.keyboard&&(i.tabIndex="0",i.setAttribute("role","button")),this._icon=i,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ae(i,"focus",this._panOnFocus,this);var n=t.icon.createShadow(this._shadow),r=!1;n!==this._shadow&&(this._removeShadow(),r=!0),n&&(fe(n,e),n.alt=""),this._shadow=n,t.opacity<1&&this._updateOpacity(),o&&this.getPane().appendChild(this._icon),this._initInteraction(),n&&r&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Le(this._icon,"focus",this._panOnFocus,this),ce(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ce(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&be(this._icon,t),this._shadow&&be(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(this.options.interactive&&(fe(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Bi)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Bi(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&ve(this._icon,t),this._shadow&&ve(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var t=this._map;if(t){var e=this.options.icon.options,i=e.iconSize?k(e.iconSize):k(0,0),o=e.iconAnchor?k(e.iconAnchor):k(0,0);t.panInside(this._latlng,{paddingTopLeft:o,paddingBottomRight:i.subtract(o)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function ji(t,e){return new Gi(t,e)}var Vi=Di.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return g(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&Object.prototype.hasOwnProperty.call(t,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Ui=Vi.extend({options:{fill:!0,radius:10},initialize:function(t,e){g(this,e),this._latlng=U(t),this._radius=this.options.radius},setLatLng:function(t){var e=this._latlng;return this._latlng=U(t),this.redraw(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var e=t&&t.radius||this._radius;return Vi.prototype.setStyle.call(this,t),this.setRadius(e),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,e=this._radiusY||t,i=this._clickTolerance(),o=[t+i,e+i];this._pxBounds=new F(this._point.subtract(o),this._point.add(o))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Wi(t,e){return new Ui(t,e)}var Hi=Ui.extend({initialize:function(t,e,i){if("number"==typeof e&&(e=n({},i,{radius:e})),g(this,e),this._latlng=U(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new G(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:Vi.prototype.setStyle,_project:function(){var t=this._latlng.lng,e=this._latlng.lat,i=this._map,o=i.options.crs;if(o.distance===$.distance){var n=Math.PI/180,r=this._mRadius/$.R/n,s=i.project([e+r,t]),a=i.project([e-r,t]),l=s.add(a).divideBy(2),c=i.unproject(l).lat,u=Math.acos((Math.cos(r*n)-Math.sin(e*n)*Math.sin(c*n))/(Math.cos(e*n)*Math.cos(c*n)))/n;(isNaN(u)||0===u)&&(u=r/Math.cos(Math.PI/180*e)),this._point=l.subtract(i.getPixelOrigin()),this._radius=isNaN(u)?0:l.x-i.project([c,t-u]).x,this._radiusY=l.y-s.y}else{var h=o.unproject(o.project(this._latlng).subtract([this._mRadius,0]));this._point=i.latLngToLayerPoint(this._latlng),this._radius=this._point.x-i.latLngToLayerPoint(h).x}this._updateBounds()}});function $i(t,e,i){return new Hi(t,e,i)}var zi=Vi.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,e){g(this,e),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var e,i,o=1/0,n=null,r=mi,s=0,a=this._parts.length;s<a;s++)for(var l=this._parts[s],c=1,u=l.length;c<u;c++){var h=r(t,e=l[c-1],i=l[c],!0);h<o&&(o=h,n=r(t,e,i))}return n&&(n.distance=Math.sqrt(o)),n},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return _i(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(t,e){return e=e||this._defaultShape(),t=U(t),e.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new G,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return yi(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var e=[],i=yi(t),o=0,n=t.length;o<n;o++)i?(e[o]=U(t[o]),this._bounds.extend(e[o])):e[o]=this._convertLatLngs(t[o]);return e},_project:function(){var t=new F;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),e=new I(t,t);this._rawPxBounds&&(this._pxBounds=new F([this._rawPxBounds.min.subtract(e),this._rawPxBounds.max.add(e)]))},_projectLatlngs:function(t,e,i){var o,n,r=t[0]instanceof V,s=t.length;if(r){for(n=[],o=0;o<s;o++)n[o]=this._map.latLngToLayerPoint(t[o]),i.extend(n[o]);e.push(n)}else for(o=0;o<s;o++)this._projectLatlngs(t[o],e,i)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else{var e,i,o,n,r,s,a,l=this._parts;for(e=0,o=0,n=this._rings.length;e<n;e++)for(i=0,r=(a=this._rings[e]).length;i<r-1;i++)(s=di(a[i],a[i+1],t,i,!0))&&(l[o]=l[o]||[],l[o].push(s[0]),s[1]===a[i+1]&&i!==r-2||(l[o].push(s[1]),o++))}},_simplifyPoints:function(){for(var t=this._parts,e=this.options.smoothFactor,i=0,o=t.length;i<o;i++)t[i]=ci(t[i],e)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,e){var i,o,n,r,s,a,l=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(i=0,r=this._parts.length;i<r;i++)for(o=0,n=(s=(a=this._parts[i]).length)-1;o<s;n=o++)if((e||0!==o)&&ui(t,a[n],a[o])<=l)return!0;return!1}});function Ki(t,e){return new zi(t,e)}zi._flat=vi;var Yi=zi.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ei(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(t){var e=zi.prototype._convertLatLngs.call(this,t),i=e.length;return i>=2&&e[0]instanceof V&&e[0].equals(e[i-1])&&e.pop(),e},_setLatLngs:function(t){zi.prototype._setLatLngs.call(this,t),yi(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return yi(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,e=this.options.weight,i=new I(e,e);if(t=new F(t.min.subtract(i),t.max.add(i)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else for(var o,n=0,r=this._rings.length;n<r;n++)(o=bi(this._rings[n],t,!0)).length&&this._parts.push(o)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var e,i,o,n,r,s,a,l,c=!1;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(n=0,a=this._parts.length;n<a;n++)for(r=0,s=(l=(e=this._parts[n]).length)-1;r<l;s=r++)i=e[r],o=e[s],i.y>t.y!=o.y>t.y&&t.x<(o.x-i.x)*(t.y-i.y)/(o.y-i.y)+i.x&&(c=!c);return c||zi.prototype._containsPoint.call(this,t,!0)}});function Xi(t,e){return new Yi(t,e)}var Zi=Li.extend({initialize:function(t,e){g(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e,i,o,n=_(t)?t:t.features;if(n){for(e=0,i=n.length;e<i;e++)((o=n[e]).geometries||o.geometry||o.features||o.coordinates)&&this.addData(o);return this}var r=this.options;if(r.filter&&!r.filter(t))return this;var s=qi(t,r);return s?(s.feature=no(t),s.defaultOptions=s.options,this.resetStyle(s),r.onEachFeature&&r.onEachFeature(t,s),this.addLayer(s)):this},resetStyle:function(t){return void 0===t?this.eachLayer(this.resetStyle,this):(t.options=n({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(t){return this.eachLayer((function(e){this._setLayerStyle(e,t)}),this)},_setLayerStyle:function(t,e){t.setStyle&&("function"==typeof e&&(e=e(t.feature)),t.setStyle(e))}});function qi(t,e){var i,o,n,r,s="Feature"===t.type?t.geometry:t,a=s?s.coordinates:null,l=[],c=e&&e.pointToLayer,u=e&&e.coordsToLatLng||Qi;if(!a&&!s)return null;switch(s.type){case"Point":return Ji(c,t,i=u(a),e);case"MultiPoint":for(n=0,r=a.length;n<r;n++)i=u(a[n]),l.push(Ji(c,t,i,e));return new Li(l);case"LineString":case"MultiLineString":return o=to(a,"LineString"===s.type?0:1,u),new zi(o,e);case"Polygon":case"MultiPolygon":return o=to(a,"Polygon"===s.type?1:2,u),new Yi(o,e);case"GeometryCollection":for(n=0,r=s.geometries.length;n<r;n++){var h=qi({geometry:s.geometries[n],type:"Feature",properties:t.properties},e);h&&l.push(h)}return new Li(l);case"FeatureCollection":for(n=0,r=s.features.length;n<r;n++){var d=qi(s.features[n],e);d&&l.push(d)}return new Li(l);default:throw new Error("Invalid GeoJSON object.")}}function Ji(t,e,i,o){return t?t(e,i):new Gi(i,o&&o.markersInheritOptions&&o)}function Qi(t){return new V(t[1],t[0],t[2])}function to(t,e,i){for(var o,n=[],r=0,s=t.length;r<s;r++)o=e?to(t[r],e-1,i):(i||Qi)(t[r]),n.push(o);return n}function eo(t,e){return void 0!==(t=U(t)).alt?[d(t.lng,e),d(t.lat,e),d(t.alt,e)]:[d(t.lng,e),d(t.lat,e)]}function io(t,e,i,o){for(var n=[],r=0,s=t.length;r<s;r++)n.push(e?io(t[r],yi(t[r])?0:e-1,i,o):eo(t[r],o));return!e&&i&&n.push(n[0].slice()),n}function oo(t,e){return t.feature?n({},t.feature,{geometry:e}):no(e)}function no(t){return"Feature"===t.type||"FeatureCollection"===t.type?t:{type:"Feature",properties:{},geometry:t}}var ro={toGeoJSON:function(t){return oo(this,{type:"Point",coordinates:eo(this.getLatLng(),t)})}};function so(t,e){return new Zi(t,e)}Gi.include(ro),Hi.include(ro),Ui.include(ro),zi.include({toGeoJSON:function(t){var e=!yi(this._latlngs);return oo(this,{type:(e?"Multi":"")+"LineString",coordinates:io(this._latlngs,e?1:0,!1,t)})}}),Yi.include({toGeoJSON:function(t){var e=!yi(this._latlngs),i=e&&!yi(this._latlngs[0]),o=io(this._latlngs,i?2:e?1:0,!0,t);return e||(o=[o]),oo(this,{type:(i?"Multi":"")+"Polygon",coordinates:o})}}),Ai.include({toMultiPoint:function(t){var e=[];return this.eachLayer((function(i){e.push(i.toGeoJSON(t).geometry.coordinates)})),oo(this,{type:"MultiPoint",coordinates:e})},toGeoJSON:function(t){var e=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===e)return this.toMultiPoint(t);var i="GeometryCollection"===e,o=[];return this.eachLayer((function(e){if(e.toGeoJSON){var n=e.toGeoJSON(t);if(i)o.push(n.geometry);else{var r=no(n);"FeatureCollection"===r.type?o.push.apply(o,r.features):o.push(r)}}})),i?oo(this,{geometries:o,type:"GeometryCollection"}):{type:"FeatureCollection",features:o}}});var ao=so,lo=Di.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,e,i){this._url=t,this._bounds=j(e),g(this,i)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(fe(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ce(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&he(this._image),this},bringToBack:function(){return this._map&&de(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=j(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t="IMG"===this._url.tagName,e=this._image=t?this._url:le("img");fe(e,"leaflet-image-layer"),this._zoomAnimated&&fe(e,"leaflet-zoom-animated"),this.options.className&&fe(e,this.options.className),e.onselectstart=h,e.onmousemove=h,e.onload=s(this.fire,this,"load"),e.onerror=s(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(e.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t?this._url=e.src:(e.src=this._url,e.alt=this.options.alt)},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),i=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;Ce(this._image,i,e)},_reset:function(){var t=this._image,e=new F(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),i=e.getSize();be(t,e.min),t.style.width=i.x+"px",t.style.height=i.y+"px"},_updateOpacity:function(){ve(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)},getCenter:function(){return this._bounds.getCenter()}}),co=function(t,e,i){return new lo(t,e,i)},uo=lo.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var t="VIDEO"===this._url.tagName,e=this._image=t?this._url:le("video");if(fe(e,"leaflet-image-layer"),this._zoomAnimated&&fe(e,"leaflet-zoom-animated"),this.options.className&&fe(e,this.options.className),e.onselectstart=h,e.onmousemove=h,e.onloadeddata=s(this.fire,this,"load"),t){for(var i=e.getElementsByTagName("source"),o=[],n=0;n<i.length;n++)o.push(i[n].src);this._url=i.length>0?o:[e.src]}else{_(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(e.style,"objectFit")&&(e.style.objectFit="fill"),e.autoplay=!!this.options.autoplay,e.loop=!!this.options.loop,e.muted=!!this.options.muted,e.playsInline=!!this.options.playsInline;for(var r=0;r<this._url.length;r++){var a=le("source");a.src=this._url[r],e.appendChild(a)}}}});function ho(t,e,i){return new uo(t,e,i)}var po=lo.extend({_initImage:function(){var t=this._image=this._url;fe(t,"leaflet-image-layer"),this._zoomAnimated&&fe(t,"leaflet-zoom-animated"),this.options.className&&fe(t,this.options.className),t.onselectstart=h,t.onmousemove=h}});function fo(t,e,i){return new po(t,e,i)}var go=Di.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(t,e){t&&(t instanceof V||_(t))?(this._latlng=U(t),g(this,e)):(g(this,t),this._source=e),this.options.content&&(this._content=this.options.content)},openOn:function(t){return(t=arguments.length?t:this._source._map).hasLayer(this)||t.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(t){return this._map?this.close():(arguments.length?this._source=t:t=this._source,this._prepareOpen(),this.openOn(t._map)),this},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&ve(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&ve(this._container,1),this.bringToFront(),this.options.interactive&&(fe(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(t){t._fadeAnimated?(ve(this._container,0),this._removeTimeout=setTimeout(s(ce,void 0,this._container),200)):ce(this._container),this.options.interactive&&(ge(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=U(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&he(this._container),this},bringToBack:function(){return this._map&&de(this._container),this},_prepareOpen:function(t){var e=this._source;if(!e._map)return!1;if(e instanceof Li){e=null;var i=this._source._layers;for(var o in i)if(i[o]._map){e=i[o];break}if(!e)return!1;this._source=e}if(!t)if(e.getCenter)t=e.getCenter();else if(e.getLatLng)t=e.getLatLng();else{if(!e.getBounds)throw new Error("Unable to get source layer LatLng.");t=e.getBounds().getCenter()}return this.setLatLng(t),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var t=this._contentNode,e="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof e)t.innerHTML=e;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(e)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=k(this.options.offset),i=this._getAnchor();this._zoomAnimated?be(this._container,t.add(i)):e=e.add(t).add(i);var o=this._containerBottom=-e.y,n=this._containerLeft=-Math.round(this._containerWidth/2)+e.x;this._container.style.bottom=o+"px",this._container.style.left=n+"px"}},_getAnchor:function(){return[0,0]}});Ze.include({_initOverlay:function(t,e,i,o){var n=e;return n instanceof t||(n=new t(o).setContent(e)),i&&n.setLatLng(i),n}}),Di.include({_initOverlay:function(t,e,i,o){var n=i;return n instanceof t?(g(n,o),n._source=this):(n=e&&!o?e:new t(o,this)).setContent(i),n}});var mo=go.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return!(t=arguments.length?t:this._source._map).hasLayer(this)&&t._popup&&t._popup.options.autoClose&&t.removeLayer(t._popup),t._popup=this,go.prototype.openOn.call(this,t)},onAdd:function(t){go.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Vi||this._source.on("preclick",Be))},onRemove:function(t){go.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Vi||this._source.off("preclick",Be))},getEvents:function(){var t=go.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this.close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_initLayout:function(){var t="leaflet-popup",e=this._container=le("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),i=this._wrapper=le("div",t+"-content-wrapper",e);if(this._contentNode=le("div",t+"-content",i),je(e),Ge(this._contentNode),Ae(e,"contextmenu",Be),this._tipContainer=le("div",t+"-tip-container",e),this._tip=le("div",t+"-tip",this._tipContainer),this.options.closeButton){var o=this._closeButton=le("a",t+"-close-button",e);o.setAttribute("role","button"),o.setAttribute("aria-label","Close popup"),o.href="#close",o.innerHTML='<span aria-hidden="true">&#215;</span>',Ae(o,"click",(function(t){Ve(t),this.close()}),this)}},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var i=t.offsetWidth;i=Math.min(i,this.options.maxWidth),i=Math.max(i,this.options.minWidth),e.width=i+1+"px",e.whiteSpace="",e.height="";var o=t.offsetHeight,n=this.options.maxHeight,r="leaflet-popup-scrolled";n&&o>n?(e.height=n+"px",fe(t,r)):ge(t,r),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),i=this._getAnchor();be(this._container,e.add(i))},_adjustPan:function(){if(this.options.autoPan)if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning)this._autopanning=!1;else{var t=this._map,e=parseInt(ae(this._container,"marginBottom"),10)||0,i=this._container.offsetHeight+e,o=this._containerWidth,n=new I(this._containerLeft,-i-this._containerBottom);n._add(Ee(this._container));var r=t.layerPointToContainerPoint(n),s=k(this.options.autoPanPadding),a=k(this.options.autoPanPaddingTopLeft||s),l=k(this.options.autoPanPaddingBottomRight||s),c=t.getSize(),u=0,h=0;r.x+o+l.x>c.x&&(u=r.x+o-c.x+l.x),r.x-u-a.x<0&&(u=r.x-a.x),r.y+i+l.y>c.y&&(h=r.y+i-c.y+l.y),r.y-h-a.y<0&&(h=r.y-a.y),(u||h)&&(this.options.keepInView&&(this._autopanning=!0),t.fire("autopanstart").panBy([u,h]))}},_getAnchor:function(){return k(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),yo=function(t,e){return new mo(t,e)};Ze.mergeOptions({closePopupOnClick:!0}),Ze.include({openPopup:function(t,e,i){return this._initOverlay(mo,t,e,i).openOn(this),this},closePopup:function(t){return(t=arguments.length?t:this._popup)&&t.close(),this}}),Di.include({bindPopup:function(t,e){return this._popup=this._initOverlay(mo,this._popup,t,e),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t){return this._popup&&(this instanceof Li||(this._popup._source=this),this._popup._prepareOpen(t||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){if(this._popup&&this._map){Ue(t);var e=t.layer||t.target;this._popup._source!==e||e instanceof Vi?(this._popup._source=e,this.openPopup(t.latlng)):this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(t.latlng)}},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){13===t.originalEvent.keyCode&&this._openPopup(t)}});var vo=go.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(t){go.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(t){go.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var t=go.prototype.getEvents.call(this);return this.options.permanent||(t.preclick=this.close),t},_initLayout:function(){var t="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=le("div",t),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+l(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var e,i,o=this._map,n=this._container,r=o.latLngToContainerPoint(o.getCenter()),s=o.layerPointToContainerPoint(t),a=this.options.direction,l=n.offsetWidth,c=n.offsetHeight,u=k(this.options.offset),h=this._getAnchor();"top"===a?(e=l/2,i=c):"bottom"===a?(e=l/2,i=0):"center"===a?(e=l/2,i=c/2):"right"===a?(e=0,i=c/2):"left"===a?(e=l,i=c/2):s.x<r.x?(a="right",e=0,i=c/2):(a="left",e=l+2*(u.x+h.x),i=c/2),t=t.subtract(k(e,i,!0)).add(u).add(h),ge(n,"leaflet-tooltip-right"),ge(n,"leaflet-tooltip-left"),ge(n,"leaflet-tooltip-top"),ge(n,"leaflet-tooltip-bottom"),fe(n,"leaflet-tooltip-"+a),be(n,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&ve(this._container,t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(e)},_getAnchor:function(){return k(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),_o=function(t,e){return new vo(t,e)};Ze.include({openTooltip:function(t,e,i){return this._initOverlay(vo,t,e,i).openOn(this),this},closeTooltip:function(t){return t.close(),this}}),Di.include({bindTooltip:function(t,e){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(vo,this._tooltip,t,e),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(t||!this._tooltipHandlersAdded){var e=t?"off":"on",i={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?i.add=this._openTooltip:(i.mouseover=this._openTooltip,i.mouseout=this.closeTooltip,i.click=this._openTooltip,this._map?this._addFocusListeners():i.add=this._addFocusListeners),this._tooltip.options.sticky&&(i.mousemove=this._moveTooltip),this[e](i),this._tooltipHandlersAdded=!t}},openTooltip:function(t){return this._tooltip&&(this instanceof Li||(this._tooltip._source=this),this._tooltip._prepareOpen(t)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(t){var e=t.getElement();e&&(Ae(e,"focus",(function(){this._tooltip._source=t,this.openTooltip()}),this),Ae(e,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(t){var e=t.getElement();e&&e.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(t){!this._tooltip||!this._map||this._map.dragging&&this._map.dragging.moving()||(this._tooltip._source=t.layer||t.target,this.openTooltip(this._tooltip.options.sticky?t.latlng:void 0))},_moveTooltip:function(t){var e,i,o=t.latlng;this._tooltip.options.sticky&&t.originalEvent&&(e=this._map.mouseEventToContainerPoint(t.originalEvent),i=this._map.containerPointToLayerPoint(e),o=this._map.layerPointToLatLng(i)),this._tooltip.setLatLng(o)}});var Co=Ni.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var e=t&&"DIV"===t.tagName?t:document.createElement("div"),i=this.options;if(i.html instanceof Element?(ue(e),e.appendChild(i.html)):e.innerHTML=!1!==i.html?i.html:"",i.bgPos){var o=k(i.bgPos);e.style.backgroundPosition=-o.x+"px "+-o.y+"px"}return this._setIconStyles(e,"icon"),e},createShadow:function(){return null}});function bo(t){return new Co(t)}Ni.Default=Fi;var Eo=Di.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ft.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){g(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),ce(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(he(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(de(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var t=this._clampZoom(this._map.getZoom());t!==this._tileZoom&&(this._tileZoom=t,this._updateLevels()),this._update()}return this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=c(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof I?t:new I(t,t)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var e,i=this.getPane().children,o=-t(-1/0,1/0),n=0,r=i.length;n<r;n++)e=i[n].style.zIndex,i[n]!==this._container&&e&&(o=t(o,+e));isFinite(o)&&(this.options.zIndex=o+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ft.ielt9){ve(this._container,this.options.opacity);var t=+new Date,e=!1,i=!1;for(var o in this._tiles){var n=this._tiles[o];if(n.current&&n.loaded){var r=Math.min(1,(t-n.loaded)/200);ve(n.el,r),r<1?e=!0:(n.active?i=!0:this._onOpaqueTile(n),n.active=!0)}}i&&!this._noPrune&&this._pruneTiles(),e&&(T(this._fadeFrame),this._fadeFrame=P(this._updateOpacity,this))}},_onOpaqueTile:h,_initContainer:function(){this._container||(this._container=le("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,e=this.options.maxZoom;if(void 0!==t){for(var i in this._levels)i=Number(i),this._levels[i].el.children.length||i===t?(this._levels[i].el.style.zIndex=e-Math.abs(t-i),this._onUpdateLevel(i)):(ce(this._levels[i].el),this._removeTilesAtZoom(i),this._onRemoveLevel(i),delete this._levels[i]);var o=this._levels[t],n=this._map;return o||((o=this._levels[t]={}).el=le("div","leaflet-tile-container leaflet-zoom-animated",this._container),o.el.style.zIndex=e,o.origin=n.project(n.unproject(n.getPixelOrigin()),t).round(),o.zoom=t,this._setZoomTransform(o,n.getCenter(),n.getZoom()),o.el.offsetWidth,this._onCreateLevel(o)),this._level=o,o}},_onUpdateLevel:h,_onRemoveLevel:h,_onCreateLevel:h,_pruneTiles:function(){if(this._map){var t,e,i=this._map.getZoom();if(i>this.options.maxZoom||i<this.options.minZoom)this._removeAllTiles();else{for(t in this._tiles)(e=this._tiles[t]).retain=e.current;for(t in this._tiles)if((e=this._tiles[t]).current&&!e.active){var o=e.coords;this._retainParent(o.x,o.y,o.z,o.z-5)||this._retainChildren(o.x,o.y,o.z,o.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}}},_removeTilesAtZoom:function(t){for(var e in this._tiles)this._tiles[e].coords.z===t&&this._removeTile(e)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)ce(this._levels[t].el),this._onRemoveLevel(Number(t)),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,e,i,o){var n=Math.floor(t/2),r=Math.floor(e/2),s=i-1,a=new I(+n,+r);a.z=+s;var l=this._tileCoordsToKey(a),c=this._tiles[l];return c&&c.active?(c.retain=!0,!0):(c&&c.loaded&&(c.retain=!0),s>o&&this._retainParent(n,r,s,o))},_retainChildren:function(t,e,i,o){for(var n=2*t;n<2*t+2;n++)for(var r=2*e;r<2*e+2;r++){var s=new I(n,r);s.z=i+1;var a=this._tileCoordsToKey(s),l=this._tiles[a];l&&l.active?l.retain=!0:(l&&l.loaded&&(l.retain=!0),i+1<o&&this._retainChildren(n,r,i+1,o))}},_resetView:function(t){var e=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),e,e)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var e=this.options;return void 0!==e.minNativeZoom&&t<e.minNativeZoom?e.minNativeZoom:void 0!==e.maxNativeZoom&&e.maxNativeZoom<t?e.maxNativeZoom:t},_setView:function(t,e,i,o){var n=Math.round(e);n=void 0!==this.options.maxZoom&&n>this.options.maxZoom||void 0!==this.options.minZoom&&n<this.options.minZoom?void 0:this._clampZoom(n);var r=this.options.updateWhenZooming&&n!==this._tileZoom;o&&!r||(this._tileZoom=n,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==n&&this._update(t),i||this._pruneTiles(),this._noPrune=!!i),this._setZoomTransforms(t,e)},_setZoomTransforms:function(t,e){for(var i in this._levels)this._setZoomTransform(this._levels[i],t,e)},_setZoomTransform:function(t,e,i){var o=this._map.getZoomScale(i,t.zoom),n=t.origin.multiplyBy(o).subtract(this._map._getNewPixelOrigin(e,i)).round();Ft.any3d?Ce(t.el,n,o):be(t.el,n)},_resetGrid:function(){var t=this._map,e=t.options.crs,i=this._tileSize=this.getTileSize(),o=this._tileZoom,n=this._map.getPixelWorldBounds(this._tileZoom);n&&(this._globalTileRange=this._pxBoundsToTileRange(n)),this._wrapX=e.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,e.wrapLng[0]],o).x/i.x),Math.ceil(t.project([0,e.wrapLng[1]],o).x/i.y)],this._wrapY=e.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([e.wrapLat[0],0],o).y/i.x),Math.ceil(t.project([e.wrapLat[1],0],o).y/i.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(t){var e=this._map,i=e._animatingZoom?Math.max(e._animateToZoom,e.getZoom()):e.getZoom(),o=e.getZoomScale(i,this._tileZoom),n=e.project(t,this._tileZoom).floor(),r=e.getSize().divideBy(2*o);return new F(n.subtract(r),n.add(r))},_update:function(t){var e=this._map;if(e){var i=this._clampZoom(e.getZoom());if(void 0===t&&(t=e.getCenter()),void 0!==this._tileZoom){var o=this._getTiledPixelBounds(t),n=this._pxBoundsToTileRange(o),r=n.getCenter(),s=[],a=this.options.keepBuffer,l=new F(n.getBottomLeft().subtract([a,-a]),n.getTopRight().add([a,-a]));if(!(isFinite(n.min.x)&&isFinite(n.min.y)&&isFinite(n.max.x)&&isFinite(n.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var c in this._tiles){var u=this._tiles[c].coords;u.z===this._tileZoom&&l.contains(new I(u.x,u.y))||(this._tiles[c].current=!1)}if(Math.abs(i-this._tileZoom)>1)this._setView(t,i);else{for(var h=n.min.y;h<=n.max.y;h++)for(var d=n.min.x;d<=n.max.x;d++){var p=new I(d,h);if(p.z=this._tileZoom,this._isValidTile(p)){var f=this._tiles[this._tileCoordsToKey(p)];f?f.current=!0:s.push(p)}}if(s.sort((function(t,e){return t.distanceTo(r)-e.distanceTo(r)})),0!==s.length){this._loading||(this._loading=!0,this.fire("loading"));var g=document.createDocumentFragment();for(d=0;d<s.length;d++)this._addTile(s[d],g);this._level.el.appendChild(g)}}}}},_isValidTile:function(t){var e=this._map.options.crs;if(!e.infinite){var i=this._globalTileRange;if(!e.wrapLng&&(t.x<i.min.x||t.x>i.max.x)||!e.wrapLat&&(t.y<i.min.y||t.y>i.max.y))return!1}if(!this.options.bounds)return!0;var o=this._tileCoordsToBounds(t);return j(this.options.bounds).overlaps(o)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var e=this._map,i=this.getTileSize(),o=t.scaleBy(i),n=o.add(i);return[e.unproject(o,t.z),e.unproject(n,t.z)]},_tileCoordsToBounds:function(t){var e=this._tileCoordsToNwSe(t),i=new G(e[0],e[1]);return this.options.noWrap||(i=this._map.wrapLatLngBounds(i)),i},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var e=t.split(":"),i=new I(+e[0],+e[1]);return i.z=+e[2],i},_removeTile:function(t){var e=this._tiles[t];e&&(ce(e.el),delete this._tiles[t],this.fire("tileunload",{tile:e.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){fe(t,"leaflet-tile");var e=this.getTileSize();t.style.width=e.x+"px",t.style.height=e.y+"px",t.onselectstart=h,t.onmousemove=h,Ft.ielt9&&this.options.opacity<1&&ve(t,this.options.opacity)},_addTile:function(t,e){var i=this._getTilePos(t),o=this._tileCoordsToKey(t),n=this.createTile(this._wrapCoords(t),s(this._tileReady,this,t));this._initTile(n),this.createTile.length<2&&P(s(this._tileReady,this,t,null,n)),be(n,i),this._tiles[o]={el:n,coords:t,current:!0},e.appendChild(n),this.fire("tileloadstart",{tile:n,coords:t})},_tileReady:function(t,e,i){e&&this.fire("tileerror",{error:e,tile:i,coords:t});var o=this._tileCoordsToKey(t);(i=this._tiles[o])&&(i.loaded=+new Date,this._map._fadeAnimated?(ve(i.el,0),T(this._fadeFrame),this._fadeFrame=P(this._updateOpacity,this)):(i.active=!0,this._pruneTiles()),e||(fe(i.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:i.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ft.ielt9||!this._map._fadeAnimated?P(this._pruneTiles,this):setTimeout(s(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var e=new I(this._wrapX?u(t.x,this._wrapX):t.x,this._wrapY?u(t.y,this._wrapY):t.y);return e.z=t.z,e},_pxBoundsToTileRange:function(t){var e=this.getTileSize();return new F(t.min.unscaleBy(e).floor(),t.max.unscaleBy(e).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}});function So(t){return new Eo(t)}var wo=Eo.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(t,e){this._url=t,(e=g(this,e)).detectRetina&&Ft.retina&&e.maxZoom>0?(e.tileSize=Math.floor(e.tileSize/2),e.zoomReverse?(e.zoomOffset--,e.minZoom=Math.min(e.maxZoom,e.minZoom+1)):(e.zoomOffset++,e.maxZoom=Math.max(e.minZoom,e.maxZoom-1)),e.minZoom=Math.max(0,e.minZoom)):e.zoomReverse?e.minZoom=Math.min(e.maxZoom,e.minZoom):e.maxZoom=Math.max(e.minZoom,e.maxZoom),"string"==typeof e.subdomains&&(e.subdomains=e.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(t,e){return this._url===t&&void 0===e&&(e=!0),this._url=t,e||this.redraw(),this},createTile:function(t,e){var i=document.createElement("img");return Ae(i,"load",s(this._tileOnLoad,this,e,i)),Ae(i,"error",s(this._tileOnError,this,e,i)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(i.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),"string"==typeof this.options.referrerPolicy&&(i.referrerPolicy=this.options.referrerPolicy),i.alt="",i.src=this.getTileUrl(t),i},getTileUrl:function(t){var e={r:Ft.retina?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var i=this._globalTileRange.max.y-t.y;this.options.tms&&(e.y=i),e["-y"]=i}return v(this._url,n(e,this.options))},_tileOnLoad:function(t,e){Ft.ielt9?setTimeout(s(t,this,null,e),0):t(null,e)},_tileOnError:function(t,e,i){var o=this.options.errorTileUrl;o&&e.getAttribute("src")!==o&&(e.src=o),t(i,e)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,e=this.options.maxZoom;return this.options.zoomReverse&&(t=e-t),t+this.options.zoomOffset},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_abortLoading:function(){var t,e;for(t in this._tiles)if(this._tiles[t].coords.z!==this._tileZoom&&((e=this._tiles[t].el).onload=h,e.onerror=h,!e.complete)){e.src=b;var i=this._tiles[t].coords;ce(e),delete this._tiles[t],this.fire("tileabort",{tile:e,coords:i})}},_removeTile:function(t){var e=this._tiles[t];if(e)return e.el.setAttribute("src",b),Eo.prototype._removeTile.call(this,t)},_tileReady:function(t,e,i){if(this._map&&(!i||i.getAttribute("src")!==b))return Eo.prototype._tileReady.call(this,t,e,i)}});function Oo(t,e){return new wo(t,e)}var xo=wo.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,e){this._url=t;var i=n({},this.defaultWmsParams);for(var o in e)o in this.options||(i[o]=e[o]);var r=(e=g(this,e)).detectRetina&&Ft.retina?2:1,s=this.getTileSize();i.width=s.x*r,i.height=s.y*r,this.wmsParams=i},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var e=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[e]=this._crs.code,wo.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._tileCoordsToNwSe(t),i=this._crs,o=B(i.project(e[0]),i.project(e[1])),n=o.min,r=o.max,s=(this._wmsVersion>=1.3&&this._crs===Ti?[n.y,n.x,r.y,r.x]:[n.x,n.y,r.x,r.y]).join(","),a=wo.prototype.getTileUrl.call(this,t);return a+m(this.wmsParams,a,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+s},setParams:function(t,e){return n(this.wmsParams,t),e||this.redraw(),this}});wo.WMS=xo,Oo.wms=function(t,e){return new xo(t,e)};var Po=Di.extend({options:{padding:.1},initialize:function(t){g(this,t),l(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&fe(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,e){var i=this._map.getZoomScale(e,this._zoom),o=this._map.getSize().multiplyBy(.5+this.options.padding),n=this._map.project(this._center,e),r=o.multiplyBy(-i).add(n).subtract(this._map._getNewPixelOrigin(t,e));Ft.any3d?Ce(this._container,r,i):be(this._container,r)},_reset:function(){for(var t in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,e=this._map.getSize(),i=this._map.containerPointToLayerPoint(e.multiplyBy(-t)).round();this._bounds=new F(i,i.add(e.multiplyBy(1+2*t)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),To=Po.extend({options:{tolerance:0},getEvents:function(){var t=Po.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Po.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");Ae(t,"mousemove",this._onMouseMove,this),Ae(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ae(t,"mouseout",this._handleMouseOut,this),t._leaflet_disable_events=!0,this._ctx=t.getContext("2d")},_destroyContainer:function(){T(this._redrawRequest),delete this._ctx,ce(this._container),Le(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var t in this._redrawBounds=null,this._layers)this._layers[t]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){Po.prototype._update.call(this);var t=this._bounds,e=this._container,i=t.getSize(),o=Ft.retina?2:1;be(e,t.min),e.width=o*i.x,e.height=o*i.y,e.style.width=i.x+"px",e.style.height=i.y+"px",Ft.retina&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){Po.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[l(t)]=t;var e=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=e),this._drawLast=e,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var e=t._order,i=e.next,o=e.prev;i?i.prev=o:this._drawLast=o,o?o.next=i:this._drawFirst=i,delete t._order,delete this._layers[l(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if("string"==typeof t.options.dashArray){var e,i,o=t.options.dashArray.split(/[, ]+/),n=[];for(i=0;i<o.length;i++){if(e=Number(o[i]),isNaN(e))return;n.push(e)}t.options._dashArray=n}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||P(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var e=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new F,this._redrawBounds.extend(t._pxBounds.min.subtract([e,e])),this._redrawBounds.extend(t._pxBounds.max.add([e,e]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var e=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,e.x,e.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var t,e=this._redrawBounds;if(this._ctx.save(),e){var i=e.getSize();this._ctx.beginPath(),this._ctx.rect(e.min.x,e.min.y,i.x,i.y),this._ctx.clip()}this._drawing=!0;for(var o=this._drawFirst;o;o=o.next)t=o.layer,(!e||t._pxBounds&&t._pxBounds.intersects(e))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,e){if(this._drawing){var i,o,n,r,s=t._parts,a=s.length,l=this._ctx;if(a){for(l.beginPath(),i=0;i<a;i++){for(o=0,n=s[i].length;o<n;o++)r=s[i][o],l[o?"lineTo":"moveTo"](r.x,r.y);e&&l.closePath()}this._fillStroke(l,t)}}},_updateCircle:function(t){if(this._drawing&&!t._empty()){var e=t._point,i=this._ctx,o=Math.max(Math.round(t._radius),1),n=(Math.max(Math.round(t._radiusY),1)||o)/o;1!==n&&(i.save(),i.scale(1,n)),i.beginPath(),i.arc(e.x,e.y/n,o,0,2*Math.PI,!1),1!==n&&i.restore(),this._fillStroke(i,t)}},_fillStroke:function(t,e){var i=e.options;i.fill&&(t.globalAlpha=i.fillOpacity,t.fillStyle=i.fillColor||i.color,t.fill(i.fillRule||"evenodd")),i.stroke&&0!==i.weight&&(t.setLineDash&&t.setLineDash(e.options&&e.options._dashArray||[]),t.globalAlpha=i.opacity,t.lineWidth=i.weight,t.strokeStyle=i.color,t.lineCap=i.lineCap,t.lineJoin=i.lineJoin,t.stroke())},_onClick:function(t){for(var e,i,o=this._map.mouseEventToLayerPoint(t),n=this._drawFirst;n;n=n.next)(e=n.layer).options.interactive&&e._containsPoint(o)&&("click"!==t.type&&"preclick"!==t.type||!this._map._draggableMoved(e))&&(i=e);this._fireEvent(!!i&&[i],t)},_onMouseMove:function(t){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var e=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,e)}},_handleMouseOut:function(t){var e=this._hoveredLayer;e&&(ge(this._container,"leaflet-interactive"),this._fireEvent([e],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,e){if(!this._mouseHoverThrottled){for(var i,o,n=this._drawFirst;n;n=n.next)(i=n.layer).options.interactive&&i._containsPoint(e)&&(o=i);o!==this._hoveredLayer&&(this._handleMouseOut(t),o&&(fe(this._container,"leaflet-interactive"),this._fireEvent([o],t,"mouseover"),this._hoveredLayer=o)),this._fireEvent(!!this._hoveredLayer&&[this._hoveredLayer],t),this._mouseHoverThrottled=!0,setTimeout(s((function(){this._mouseHoverThrottled=!1}),this),32)}},_fireEvent:function(t,e,i){this._map._fireDOMEvent(e,i||e.type,t)},_bringToFront:function(t){var e=t._order;if(e){var i=e.next,o=e.prev;i&&(i.prev=o,o?o.next=i:i&&(this._drawFirst=i),e.prev=this._drawLast,this._drawLast.next=e,e.next=null,this._drawLast=e,this._requestRedraw(t))}},_bringToBack:function(t){var e=t._order;if(e){var i=e.next,o=e.prev;o&&(o.next=i,i?i.prev=o:o&&(this._drawLast=o),e.prev=null,e.next=this._drawFirst,this._drawFirst.prev=e,this._drawFirst=e,this._requestRedraw(t))}}});function Mo(t){return Ft.canvas?new To(t):null}var Do=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch(t){}return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Ao={_initContainer:function(){this._container=le("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Po.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var e=t._container=Do("shape");fe(e,"leaflet-vml-shape "+(this.options.className||"")),e.coordsize="1 1",t._path=Do("path"),e.appendChild(t._path),this._updateStyle(t),this._layers[l(t)]=t},_addPath:function(t){var e=t._container;this._container.appendChild(e),t.options.interactive&&t.addInteractiveTarget(e)},_removePath:function(t){var e=t._container;ce(e),t.removeInteractiveTarget(e),delete this._layers[l(t)]},_updateStyle:function(t){var e=t._stroke,i=t._fill,o=t.options,n=t._container;n.stroked=!!o.stroke,n.filled=!!o.fill,o.stroke?(e||(e=t._stroke=Do("stroke")),n.appendChild(e),e.weight=o.weight+"px",e.color=o.color,e.opacity=o.opacity,o.dashArray?e.dashStyle=_(o.dashArray)?o.dashArray.join(" "):o.dashArray.replace(/( *, *)/g," "):e.dashStyle="",e.endcap=o.lineCap.replace("butt","flat"),e.joinstyle=o.lineJoin):e&&(n.removeChild(e),t._stroke=null),o.fill?(i||(i=t._fill=Do("fill")),n.appendChild(i),i.color=o.fillColor||o.color,i.opacity=o.fillOpacity):i&&(n.removeChild(i),t._fill=null)},_updateCircle:function(t){var e=t._point.round(),i=Math.round(t._radius),o=Math.round(t._radiusY||i);this._setPath(t,t._empty()?"M0 0":"AL "+e.x+","+e.y+" "+i+","+o+" 0,23592600")},_setPath:function(t,e){t._path.v=e},_bringToFront:function(t){he(t._container)},_bringToBack:function(t){de(t._container)}},Ro=Ft.vml?Do:J,Lo=Po.extend({_initContainer:function(){this._container=Ro("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Ro("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ce(this._container),Le(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!this._map._animatingZoom||!this._bounds){Po.prototype._update.call(this);var t=this._bounds,e=t.getSize(),i=this._container;this._svgSize&&this._svgSize.equals(e)||(this._svgSize=e,i.setAttribute("width",e.x),i.setAttribute("height",e.y)),be(i,t.min),i.setAttribute("viewBox",[t.min.x,t.min.y,e.x,e.y].join(" ")),this.fire("update")}},_initPath:function(t){var e=t._path=Ro("path");t.options.className&&fe(e,t.options.className),t.options.interactive&&fe(e,"leaflet-interactive"),this._updateStyle(t),this._layers[l(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){ce(t._path),t.removeInteractiveTarget(t._path),delete this._layers[l(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var e=t._path,i=t.options;e&&(i.stroke?(e.setAttribute("stroke",i.color),e.setAttribute("stroke-opacity",i.opacity),e.setAttribute("stroke-width",i.weight),e.setAttribute("stroke-linecap",i.lineCap),e.setAttribute("stroke-linejoin",i.lineJoin),i.dashArray?e.setAttribute("stroke-dasharray",i.dashArray):e.removeAttribute("stroke-dasharray"),i.dashOffset?e.setAttribute("stroke-dashoffset",i.dashOffset):e.removeAttribute("stroke-dashoffset")):e.setAttribute("stroke","none"),i.fill?(e.setAttribute("fill",i.fillColor||i.color),e.setAttribute("fill-opacity",i.fillOpacity),e.setAttribute("fill-rule",i.fillRule||"evenodd")):e.setAttribute("fill","none"))},_updatePoly:function(t,e){this._setPath(t,Q(t._parts,e))},_updateCircle:function(t){var e=t._point,i=Math.max(Math.round(t._radius),1),o="a"+i+","+(Math.max(Math.round(t._radiusY),1)||i)+" 0 1,0 ",n=t._empty()?"M0 0":"M"+(e.x-i)+","+e.y+o+2*i+",0 "+o+2*-i+",0 ";this._setPath(t,n)},_setPath:function(t,e){t._path.setAttribute("d",e)},_bringToFront:function(t){he(t._path)},_bringToBack:function(t){de(t._path)}});function Io(t){return Ft.svg||Ft.vml?new Lo(t):null}Ft.vml&&Lo.include(Ao),Ze.include({getRenderer:function(t){var e=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return e||(e=this._renderer=this._createRenderer()),this.hasLayer(e)||this.addLayer(e),e},_getPaneRenderer:function(t){if("overlayPane"===t||void 0===t)return!1;var e=this._paneRenderers[t];return void 0===e&&(e=this._createRenderer({pane:t}),this._paneRenderers[t]=e),e},_createRenderer:function(t){return this.options.preferCanvas&&Mo(t)||Io(t)}});var No=Yi.extend({initialize:function(t,e){Yi.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return[(t=j(t)).getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});function ko(t,e){return new No(t,e)}Lo.create=Ro,Lo.pointsToPath=Q,Zi.geometryToLayer=qi,Zi.coordsToLatLng=Qi,Zi.coordsToLatLngs=to,Zi.latLngToCoords=eo,Zi.latLngsToCoords=io,Zi.getFeature=oo,Zi.asFeature=no,Ze.mergeOptions({boxZoom:!0});var Fo=ni.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){Ae(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Le(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ce(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||1!==t.which&&1!==t.button)return!1;this._clearDeferredResetState(),this._resetState(),Jt(),we(),this._startPoint=this._map.mouseEventToContainerPoint(t),Ae(document,{contextmenu:Ue,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=le("div","leaflet-zoom-box",this._container),fe(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var e=new F(this._point,this._startPoint),i=e.getSize();be(this._box,e.min),this._box.style.width=i.x+"px",this._box.style.height=i.y+"px"},_finish:function(){this._moved&&(ce(this._box),ge(this._container,"leaflet-crosshair")),Qt(),Oe(),Le(document,{contextmenu:Ue,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if((1===t.which||1===t.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(s(this._resetState,this),0);var e=new G(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(e).fire("boxzoomend",{boxZoomBounds:e})}},_onKeyDown:function(t){27===t.keyCode&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Ze.addInitHook("addHandler","boxZoom",Fo),Ze.mergeOptions({doubleClickZoom:!0});var Bo=ni.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,i=e.getZoom(),o=e.options.zoomDelta,n=t.originalEvent.shiftKey?i-o:i+o;"center"===e.options.doubleClickZoom?e.setZoom(n):e.setZoomAround(t.containerPoint,n)}});Ze.addInitHook("addHandler","doubleClickZoom",Bo),Ze.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Go=ni.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new li(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}fe(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){ge(this._map._container,"leaflet-grab"),ge(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var e=j(this._map.options.maxBounds);this._offsetLimit=B(this._map.latLngToContainerPoint(e.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(e.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var e=this._lastTime=+new Date,i=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(i),this._times.push(e),this._prunePositions(e)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,e){return t-(t-e)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var t=this._draggable._newPos.subtract(this._draggable._startPos),e=this._offsetLimit;t.x<e.min.x&&(t.x=this._viscousLimit(t.x,e.min.x)),t.y<e.min.y&&(t.y=this._viscousLimit(t.y,e.min.y)),t.x>e.max.x&&(t.x=this._viscousLimit(t.x,e.max.x)),t.y>e.max.y&&(t.y=this._viscousLimit(t.y,e.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,e=Math.round(t/2),i=this._initialWorldOffset,o=this._draggable._newPos.x,n=(o-e+i)%t+e-i,r=(o+e+i)%t-e-i,s=Math.abs(n+i)<Math.abs(r+i)?n:r;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=s},_onDragEnd:function(t){var e=this._map,i=e.options,o=!i.inertia||t.noInertia||this._times.length<2;if(e.fire("dragend",t),o)e.fire("moveend");else{this._prunePositions(+new Date);var n=this._lastPos.subtract(this._positions[0]),r=(this._lastTime-this._times[0])/1e3,s=i.easeLinearity,a=n.multiplyBy(s/r),l=a.distanceTo([0,0]),c=Math.min(i.inertiaMaxSpeed,l),u=a.multiplyBy(c/l),h=c/(i.inertiaDeceleration*s),d=u.multiplyBy(-h/2).round();d.x||d.y?(d=e._limitOffset(d,e.options.maxBounds),P((function(){e.panBy(d,{duration:h,easeLinearity:s,noMoveStart:!0,animate:!0})}))):e.fire("moveend")}}});Ze.addInitHook("addHandler","dragging",Go),Ze.mergeOptions({keyboard:!0,keyboardPanDelta:80});var jo=ni.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),Ae(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Le(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,e=document.documentElement,i=t.scrollTop||e.scrollTop,o=t.scrollLeft||e.scrollLeft;this._map._container.focus(),window.scrollTo(o,i)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var e,i,o=this._panKeys={},n=this.keyCodes;for(e=0,i=n.left.length;e<i;e++)o[n.left[e]]=[-1*t,0];for(e=0,i=n.right.length;e<i;e++)o[n.right[e]]=[t,0];for(e=0,i=n.down.length;e<i;e++)o[n.down[e]]=[0,t];for(e=0,i=n.up.length;e<i;e++)o[n.up[e]]=[0,-1*t]},_setZoomDelta:function(t){var e,i,o=this._zoomKeys={},n=this.keyCodes;for(e=0,i=n.zoomIn.length;e<i;e++)o[n.zoomIn[e]]=t;for(e=0,i=n.zoomOut.length;e<i;e++)o[n.zoomOut[e]]=-t},_addHooks:function(){Ae(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Le(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e,i=t.keyCode,o=this._map;if(i in this._panKeys){if(!o._panAnim||!o._panAnim._inProgress)if(e=this._panKeys[i],t.shiftKey&&(e=k(e).multiplyBy(3)),o.options.maxBounds&&(e=o._limitOffset(k(e),o.options.maxBounds)),o.options.worldCopyJump){var n=o.wrapLatLng(o.unproject(o.project(o.getCenter()).add(e)));o.panTo(n)}else o.panBy(e)}else if(i in this._zoomKeys)o.setZoom(o.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[i]);else{if(27!==i||!o._popup||!o._popup.options.closeOnEscapeKey)return;o.closePopup()}Ue(t)}}});Ze.addInitHook("addHandler","keyboard",jo),Ze.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Vo=ni.extend({addHooks:function(){Ae(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Le(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var e=ze(t),i=this._map.options.wheelDebounceTime;this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var o=Math.max(i-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(s(this._performZoom,this),o),Ue(t)},_performZoom:function(){var t=this._map,e=t.getZoom(),i=this._map.options.zoomSnap||0;t._stop();var o=this._delta/(4*this._map.options.wheelPxPerZoomLevel),n=4*Math.log(2/(1+Math.exp(-Math.abs(o))))/Math.LN2,r=i?Math.ceil(n/i)*i:n,s=t._limitZoom(e+(this._delta>0?r:-r))-e;this._delta=0,this._startTime=null,s&&("center"===t.options.scrollWheelZoom?t.setZoom(e+s):t.setZoomAround(this._lastMousePos,e+s))}});Ze.addInitHook("addHandler","scrollWheelZoom",Vo);Ze.mergeOptions({tapHold:Ft.touchNative&&Ft.safari&&Ft.mobile,tapTolerance:15});var Uo=ni.extend({addHooks:function(){Ae(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Le(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(clearTimeout(this._holdTimeout),1===t.touches.length){var e=t.touches[0];this._startPos=this._newPos=new I(e.clientX,e.clientY),this._holdTimeout=setTimeout(s((function(){this._cancel(),this._isTapValid()&&(Ae(document,"touchend",Ve),Ae(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",e))}),this),600),Ae(document,"touchend touchcancel contextmenu",this._cancel,this),Ae(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function t(){Le(document,"touchend",Ve),Le(document,"touchend touchcancel",t)},_cancel:function(){clearTimeout(this._holdTimeout),Le(document,"touchend touchcancel contextmenu",this._cancel,this),Le(document,"touchmove",this._onMove,this)},_onMove:function(t){var e=t.touches[0];this._newPos=new I(e.clientX,e.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(t,e){var i=new MouseEvent(t,{bubbles:!0,cancelable:!0,view:window,screenX:e.screenX,screenY:e.screenY,clientX:e.clientX,clientY:e.clientY});i._simulated=!0,e.target.dispatchEvent(i)}});Ze.addInitHook("addHandler","tapHold",Uo),Ze.mergeOptions({touchZoom:Ft.touch,bounceAtZoomLimits:!0});var Wo=ni.extend({addHooks:function(){fe(this._map._container,"leaflet-touch-zoom"),Ae(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ge(this._map._container,"leaflet-touch-zoom"),Le(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var e=this._map;if(t.touches&&2===t.touches.length&&!e._animatingZoom&&!this._zooming){var i=e.mouseEventToContainerPoint(t.touches[0]),o=e.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=e.getSize()._divideBy(2),this._startLatLng=e.containerPointToLatLng(this._centerPoint),"center"!==e.options.touchZoom&&(this._pinchStartLatLng=e.containerPointToLatLng(i.add(o)._divideBy(2))),this._startDist=i.distanceTo(o),this._startZoom=e.getZoom(),this._moved=!1,this._zooming=!0,e._stop(),Ae(document,"touchmove",this._onTouchMove,this),Ae(document,"touchend touchcancel",this._onTouchEnd,this),Ve(t)}},_onTouchMove:function(t){if(t.touches&&2===t.touches.length&&this._zooming){var e=this._map,i=e.mouseEventToContainerPoint(t.touches[0]),o=e.mouseEventToContainerPoint(t.touches[1]),n=i.distanceTo(o)/this._startDist;if(this._zoom=e.getScaleZoom(n,this._startZoom),!e.options.bounceAtZoomLimits&&(this._zoom<e.getMinZoom()&&n<1||this._zoom>e.getMaxZoom()&&n>1)&&(this._zoom=e._limitZoom(this._zoom)),"center"===e.options.touchZoom){if(this._center=this._startLatLng,1===n)return}else{var r=i._add(o)._divideBy(2)._subtract(this._centerPoint);if(1===n&&0===r.x&&0===r.y)return;this._center=e.unproject(e.project(this._pinchStartLatLng,this._zoom).subtract(r),this._zoom)}this._moved||(e._moveStart(!0,!1),this._moved=!0),T(this._animRequest);var a=s(e._move,e,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=P(a,this,!0),Ve(t)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,T(this._animRequest),Le(document,"touchmove",this._onTouchMove,this),Le(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});Ze.addInitHook("addHandler","touchZoom",Wo),Ze.BoxZoom=Fo,Ze.DoubleClickZoom=Bo,Ze.Drag=Go,Ze.Keyboard=jo,Ze.ScrollWheelZoom=Vo,Ze.TapHold=Uo,Ze.TouchZoom=Wo},5243:function(t,e){!function(t){"use strict";var e="1.9.3";function i(t){var e,i,o,n;for(i=1,o=arguments.length;i<o;i++)for(e in n=arguments[i])t[e]=n[e];return t}var o=Object.create||function(){function t(){}return function(e){return t.prototype=e,new t}}();function n(t,e){var i=Array.prototype.slice;if(t.bind)return t.bind.apply(t,i.call(arguments,1));var o=i.call(arguments,2);return function(){return t.apply(e,o.length?o.concat(i.call(arguments)):arguments)}}var r=0;function s(t){return"_leaflet_id"in t||(t._leaflet_id=++r),t._leaflet_id}function a(t,e,i){var o,n,r,s;return s=function(){o=!1,n&&(r.apply(i,n),n=!1)},r=function(){o?n=arguments:(t.apply(i,arguments),setTimeout(s,e),o=!0)},r}function l(t,e,i){var o=e[1],n=e[0],r=o-n;return t===o&&i?t:((t-n)%r+r)%r+n}function c(){return!1}function u(t,e){if(!1===e)return t;var i=Math.pow(10,void 0===e?6:e);return Math.round(t*i)/i}function h(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function d(t){return h(t).split(/\s+/)}function p(t,e){for(var i in Object.prototype.hasOwnProperty.call(t,"options")||(t.options=t.options?o(t.options):{}),e)t.options[i]=e[i];return t.options}function f(t,e,i){var o=[];for(var n in t)o.push(encodeURIComponent(i?n.toUpperCase():n)+"="+encodeURIComponent(t[n]));return(e&&-1!==e.indexOf("?")?"&":"?")+o.join("&")}var g=/\{ *([\w_ -]+) *\}/g;function m(t,e){return t.replace(g,(function(t,i){var o=e[i];if(void 0===o)throw new Error("No value provided for variable "+t);return"function"==typeof o&&(o=o(e)),o}))}var y=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function v(t,e){for(var i=0;i<t.length;i++)if(t[i]===e)return i;return-1}var _="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function C(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var b=0;function E(t){var e=+new Date,i=Math.max(0,16-(e-b));return b=e+i,window.setTimeout(t,i)}var S=window.requestAnimationFrame||C("RequestAnimationFrame")||E,w=window.cancelAnimationFrame||C("CancelAnimationFrame")||C("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function O(t,e,i){if(!i||S!==E)return S.call(window,n(t,e));t.call(e)}function x(t){t&&w.call(window,t)}var P={__proto__:null,extend:i,create:o,bind:n,get lastId(){return r},stamp:s,throttle:a,wrapNum:l,falseFn:c,formatNum:u,trim:h,splitWords:d,setOptions:p,getParamString:f,template:m,isArray:y,indexOf:v,emptyImageUrl:_,requestFn:S,cancelFn:w,requestAnimFrame:O,cancelAnimFrame:x};function T(){}function M(t){if("undefined"!=typeof L&&L&&L.Mixin){t=y(t)?t:[t];for(var e=0;e<t.length;e++)t[e]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}T.extend=function(t){var e=function(){p(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},n=e.__super__=this.prototype,r=o(n);for(var s in r.constructor=e,e.prototype=r,this)Object.prototype.hasOwnProperty.call(this,s)&&"prototype"!==s&&"__super__"!==s&&(e[s]=this[s]);return t.statics&&i(e,t.statics),t.includes&&(M(t.includes),i.apply(null,[r].concat(t.includes))),i(r,t),delete r.statics,delete r.includes,r.options&&(r.options=n.options?o(n.options):{},i(r.options,t.options)),r._initHooks=[],r.callInitHooks=function(){if(!this._initHooksCalled){n.callInitHooks&&n.callInitHooks.call(this),this._initHooksCalled=!0;for(var t=0,e=r._initHooks.length;t<e;t++)r._initHooks[t].call(this)}},e},T.include=function(t){var e=this.prototype.options;return i(this.prototype,t),t.options&&(this.prototype.options=e,this.mergeOptions(t.options)),this},T.mergeOptions=function(t){return i(this.prototype.options,t),this},T.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),i="function"==typeof t?t:function(){this[t].apply(this,e)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(i),this};var D={on:function(t,e,i){if("object"==typeof t)for(var o in t)this._on(o,t[o],e);else for(var n=0,r=(t=d(t)).length;n<r;n++)this._on(t[n],e,i);return this},off:function(t,e,i){if(arguments.length)if("object"==typeof t)for(var o in t)this._off(o,t[o],e);else{t=d(t);for(var n=1===arguments.length,r=0,s=t.length;r<s;r++)n?this._off(t[r]):this._off(t[r],e,i)}else delete this._events;return this},_on:function(t,e,i,o){if("function"==typeof e){if(!1===this._listens(t,e,i)){i===this&&(i=void 0);var n={fn:e,ctx:i};o&&(n.once=!0),this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(n)}}else console.warn("wrong listener type: "+typeof e)},_off:function(t,e,i){var o,n,r;if(this._events&&(o=this._events[t]))if(1!==arguments.length)if("function"==typeof e){var s=this._listens(t,e,i);if(!1!==s){var a=o[s];this._firingCount&&(a.fn=c,this._events[t]=o=o.slice()),o.splice(s,1)}}else console.warn("wrong listener type: "+typeof e);else{if(this._firingCount)for(n=0,r=o.length;n<r;n++)o[n].fn=c;delete this._events[t]}},fire:function(t,e,o){if(!this.listens(t,o))return this;var n=i({},e,{type:t,target:this,sourceTarget:e&&e.sourceTarget||this});if(this._events){var r=this._events[t];if(r){this._firingCount=this._firingCount+1||1;for(var s=0,a=r.length;s<a;s++){var l=r[s],c=l.fn;l.once&&this.off(t,c,l.ctx),c.call(l.ctx||this,n)}this._firingCount--}}return o&&this._propagateEvent(n),this},listens:function(t,e,i,o){"string"!=typeof t&&console.warn('"string" type argument expected');var n=e;"function"!=typeof e&&(o=!!e,n=void 0,i=void 0);var r=this._events&&this._events[t];if(r&&r.length&&!1!==this._listens(t,n,i))return!0;if(o)for(var s in this._eventParents)if(this._eventParents[s].listens(t,e,i,o))return!0;return!1},_listens:function(t,e,i){if(!this._events)return!1;var o=this._events[t]||[];if(!e)return!!o.length;i===this&&(i=void 0);for(var n=0,r=o.length;n<r;n++)if(o[n].fn===e&&o[n].ctx===i)return n;return!1},once:function(t,e,i){if("object"==typeof t)for(var o in t)this._on(o,t[o],e,!0);else for(var n=0,r=(t=d(t)).length;n<r;n++)this._on(t[n],e,i,!0);return this},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[s(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[s(t)],this},_propagateEvent:function(t){for(var e in this._eventParents)this._eventParents[e].fire(t.type,i({layer:t.target,propagatedFrom:t.target},t),!0)}};D.addEventListener=D.on,D.removeEventListener=D.clearAllEventListeners=D.off,D.addOneTimeEventListener=D.once,D.fireEvent=D.fire,D.hasEventListeners=D.listens;var A=T.extend(D);function R(t,e,i){this.x=i?Math.round(t):t,this.y=i?Math.round(e):e}var I=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};function N(t,e,i){return t instanceof R?t:y(t)?new R(t[0],t[1]):null==t?t:"object"==typeof t&&"x"in t&&"y"in t?new R(t.x,t.y):new R(t,e,i)}function k(t,e){if(t)for(var i=e?[t,e]:t,o=0,n=i.length;o<n;o++)this.extend(i[o])}function F(t,e){return!t||t instanceof k?t:new k(t,e)}function B(t,e){if(t)for(var i=e?[t,e]:t,o=0,n=i.length;o<n;o++)this.extend(i[o])}function G(t,e){return t instanceof B?t:new B(t,e)}function j(t,e,i){if(isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=+t,this.lng=+e,void 0!==i&&(this.alt=+i)}function V(t,e,i){return t instanceof j?t:y(t)&&"object"!=typeof t[0]?3===t.length?new j(t[0],t[1],t[2]):2===t.length?new j(t[0],t[1]):null:null==t?t:"object"==typeof t&&"lat"in t?new j(t.lat,"lng"in t?t.lng:t.lon,t.alt):void 0===e?null:new j(t,e,i)}R.prototype={clone:function(){return new R(this.x,this.y)},add:function(t){return this.clone()._add(N(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(N(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new R(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new R(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=I(this.x),this.y=I(this.y),this},distanceTo:function(t){var e=(t=N(t)).x-this.x,i=t.y-this.y;return Math.sqrt(e*e+i*i)},equals:function(t){return(t=N(t)).x===this.x&&t.y===this.y},contains:function(t){return t=N(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+u(this.x)+", "+u(this.y)+")"}},k.prototype={extend:function(t){var e,i;if(!t)return this;if(t instanceof R||"number"==typeof t[0]||"x"in t)e=i=N(t);else if(e=(t=F(t)).min,i=t.max,!e||!i)return this;return this.min||this.max?(this.min.x=Math.min(e.x,this.min.x),this.max.x=Math.max(i.x,this.max.x),this.min.y=Math.min(e.y,this.min.y),this.max.y=Math.max(i.y,this.max.y)):(this.min=e.clone(),this.max=i.clone()),this},getCenter:function(t){return N((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return N(this.min.x,this.max.y)},getTopRight:function(){return N(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,i;return(t="number"==typeof t[0]||t instanceof R?N(t):F(t))instanceof k?(e=t.min,i=t.max):e=i=t,e.x>=this.min.x&&i.x<=this.max.x&&e.y>=this.min.y&&i.y<=this.max.y},intersects:function(t){t=F(t);var e=this.min,i=this.max,o=t.min,n=t.max,r=n.x>=e.x&&o.x<=i.x,s=n.y>=e.y&&o.y<=i.y;return r&&s},overlaps:function(t){t=F(t);var e=this.min,i=this.max,o=t.min,n=t.max,r=n.x>e.x&&o.x<i.x,s=n.y>e.y&&o.y<i.y;return r&&s},isValid:function(){return!(!this.min||!this.max)},pad:function(t){var e=this.min,i=this.max,o=Math.abs(e.x-i.x)*t,n=Math.abs(e.y-i.y)*t;return F(N(e.x-o,e.y-n),N(i.x+o,i.y+n))},equals:function(t){return!!t&&(t=F(t),this.min.equals(t.getTopLeft())&&this.max.equals(t.getBottomRight()))}},B.prototype={extend:function(t){var e,i,o=this._southWest,n=this._northEast;if(t instanceof j)e=t,i=t;else{if(!(t instanceof B))return t?this.extend(V(t)||G(t)):this;if(e=t._southWest,i=t._northEast,!e||!i)return this}return o||n?(o.lat=Math.min(e.lat,o.lat),o.lng=Math.min(e.lng,o.lng),n.lat=Math.max(i.lat,n.lat),n.lng=Math.max(i.lng,n.lng)):(this._southWest=new j(e.lat,e.lng),this._northEast=new j(i.lat,i.lng)),this},pad:function(t){var e=this._southWest,i=this._northEast,o=Math.abs(e.lat-i.lat)*t,n=Math.abs(e.lng-i.lng)*t;return new B(new j(e.lat-o,e.lng-n),new j(i.lat+o,i.lng+n))},getCenter:function(){return new j((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new j(this.getNorth(),this.getWest())},getSouthEast:function(){return new j(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){t="number"==typeof t[0]||t instanceof j||"lat"in t?V(t):G(t);var e,i,o=this._southWest,n=this._northEast;return t instanceof B?(e=t.getSouthWest(),i=t.getNorthEast()):e=i=t,e.lat>=o.lat&&i.lat<=n.lat&&e.lng>=o.lng&&i.lng<=n.lng},intersects:function(t){t=G(t);var e=this._southWest,i=this._northEast,o=t.getSouthWest(),n=t.getNorthEast(),r=n.lat>=e.lat&&o.lat<=i.lat,s=n.lng>=e.lng&&o.lng<=i.lng;return r&&s},overlaps:function(t){t=G(t);var e=this._southWest,i=this._northEast,o=t.getSouthWest(),n=t.getNorthEast(),r=n.lat>e.lat&&o.lat<i.lat,s=n.lng>e.lng&&o.lng<i.lng;return r&&s},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,e){return!!t&&(t=G(t),this._southWest.equals(t.getSouthWest(),e)&&this._northEast.equals(t.getNorthEast(),e))},isValid:function(){return!(!this._southWest||!this._northEast)}},j.prototype={equals:function(t,e){return!!t&&(t=V(t),Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng))<=(void 0===e?1e-9:e))},toString:function(t){return"LatLng("+u(this.lat,t)+", "+u(this.lng,t)+")"},distanceTo:function(t){return H.distance(this,V(t))},wrap:function(){return H.wrapLatLng(this)},toBounds:function(t){var e=180*t/40075017,i=e/Math.cos(Math.PI/180*this.lat);return G([this.lat-e,this.lng-i],[this.lat+e,this.lng+i])},clone:function(){return new j(this.lat,this.lng,this.alt)}};var U,W={latLngToPoint:function(t,e){var i=this.projection.project(t),o=this.scale(e);return this.transformation._transform(i,o)},pointToLatLng:function(t,e){var i=this.scale(e),o=this.transformation.untransform(t,i);return this.projection.unproject(o)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var e=this.projection.bounds,i=this.scale(t);return new k(this.transformation.transform(e.min,i),this.transformation.transform(e.max,i))},infinite:!1,wrapLatLng:function(t){var e=this.wrapLng?l(t.lng,this.wrapLng,!0):t.lng;return new j(this.wrapLat?l(t.lat,this.wrapLat,!0):t.lat,e,t.alt)},wrapLatLngBounds:function(t){var e=t.getCenter(),i=this.wrapLatLng(e),o=e.lat-i.lat,n=e.lng-i.lng;if(0===o&&0===n)return t;var r=t.getSouthWest(),s=t.getNorthEast();return new B(new j(r.lat-o,r.lng-n),new j(s.lat-o,s.lng-n))}},H=i({},W,{wrapLng:[-180,180],R:6371e3,distance:function(t,e){var i=Math.PI/180,o=t.lat*i,n=e.lat*i,r=Math.sin((e.lat-t.lat)*i/2),s=Math.sin((e.lng-t.lng)*i/2),a=r*r+Math.cos(o)*Math.cos(n)*s*s,l=2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a));return this.R*l}}),$=6378137,z={R:$,MAX_LATITUDE:85.0511287798,project:function(t){var e=Math.PI/180,i=this.MAX_LATITUDE,o=Math.max(Math.min(i,t.lat),-i),n=Math.sin(o*e);return new R(this.R*t.lng*e,this.R*Math.log((1+n)/(1-n))/2)},unproject:function(t){var e=180/Math.PI;return new j((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*e,t.x*e/this.R)},bounds:(U=$*Math.PI,new k([-U,-U],[U,U]))};function K(t,e,i,o){if(y(t))return this._a=t[0],this._b=t[1],this._c=t[2],void(this._d=t[3]);this._a=t,this._b=e,this._c=i,this._d=o}function Y(t,e,i,o){return new K(t,e,i,o)}K.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return e=e||1,new R((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}};var X=i({},H,{code:"EPSG:3857",projection:z,transformation:function(){var t=.5/(Math.PI*z.R);return Y(t,.5,-t,.5)}()}),Z=i({},X,{code:"EPSG:900913"});function q(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function J(t,e){var i,o,n,r,s,a,l="";for(i=0,n=t.length;i<n;i++){for(o=0,r=(s=t[i]).length;o<r;o++)l+=(o?"L":"M")+(a=s[o]).x+" "+a.y;l+=e?Bt.svg?"z":"x":""}return l||"M0 0"}var Q,tt=document.documentElement.style,et="ActiveXObject"in window,it=et&&!document.addEventListener,ot="msLaunchUri"in navigator&&!("documentMode"in document),nt=Ft("webkit"),rt=Ft("android"),st=Ft("android 2")||Ft("android 3"),at=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),lt=rt&&Ft("Google")&&at<537&&!("AudioNode"in window),ct=!!window.opera,ut=!ot&&Ft("chrome"),ht=Ft("gecko")&&!nt&&!ct&&!et,dt=!ut&&Ft("safari"),pt=Ft("phantom"),ft="OTransition"in tt,gt=0===navigator.platform.indexOf("Win"),mt=et&&"transition"in tt,yt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!st,vt="MozPerspective"in tt,_t=!window.L_DISABLE_3D&&(mt||yt||vt)&&!ft&&!pt,Ct="undefined"!=typeof orientation||Ft("mobile"),bt=Ct&&nt,Et=Ct&&yt,St=!window.PointerEvent&&window.MSPointerEvent,wt=!(!window.PointerEvent&&!St),Ot="ontouchstart"in window||!!window.TouchEvent,xt=!window.L_NO_TOUCH&&(Ot||wt),Pt=Ct&&ct,Tt=Ct&&ht,Mt=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Dt=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",c,e),window.removeEventListener("testPassiveEventSupport",c,e)}catch(t){}return t}(),At=!!document.createElement("canvas").getContext,Rt=!(!document.createElementNS||!q("svg").createSVGRect),Lt=!!Rt&&((Q=document.createElement("div")).innerHTML="<svg/>","http://www.w3.org/2000/svg"===(Q.firstChild&&Q.firstChild.namespaceURI)),It=!Rt&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var e=t.firstChild;return e.style.behavior="url(#default#VML)",e&&"object"==typeof e.adj}catch(t){return!1}}(),Nt=0===navigator.platform.indexOf("Mac"),kt=0===navigator.platform.indexOf("Linux");function Ft(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var Bt={ie:et,ielt9:it,edge:ot,webkit:nt,android:rt,android23:st,androidStock:lt,opera:ct,chrome:ut,gecko:ht,safari:dt,phantom:pt,opera12:ft,win:gt,ie3d:mt,webkit3d:yt,gecko3d:vt,any3d:_t,mobile:Ct,mobileWebkit:bt,mobileWebkit3d:Et,msPointer:St,pointer:wt,touch:xt,touchNative:Ot,mobileOpera:Pt,mobileGecko:Tt,retina:Mt,passiveEvents:Dt,canvas:At,svg:Rt,vml:It,inlineSvg:Lt,mac:Nt,linux:kt},Gt=Bt.msPointer?"MSPointerDown":"pointerdown",jt=Bt.msPointer?"MSPointerMove":"pointermove",Vt=Bt.msPointer?"MSPointerUp":"pointerup",Ut=Bt.msPointer?"MSPointerCancel":"pointercancel",Wt={touchstart:Gt,touchmove:jt,touchend:Vt,touchcancel:Ut},Ht={touchstart:te,touchmove:Qt,touchend:Qt,touchcancel:Qt},$t={},zt=!1;function Kt(t,e,i){return"touchstart"===e&&Jt(),Ht[e]?(i=Ht[e].bind(this,i),t.addEventListener(Wt[e],i,!1),i):(console.warn("wrong event specified:",e),c)}function Yt(t,e,i){Wt[e]?t.removeEventListener(Wt[e],i,!1):console.warn("wrong event specified:",e)}function Xt(t){$t[t.pointerId]=t}function Zt(t){$t[t.pointerId]&&($t[t.pointerId]=t)}function qt(t){delete $t[t.pointerId]}function Jt(){zt||(document.addEventListener(Gt,Xt,!0),document.addEventListener(jt,Zt,!0),document.addEventListener(Vt,qt,!0),document.addEventListener(Ut,qt,!0),zt=!0)}function Qt(t,e){if(e.pointerType!==(e.MSPOINTER_TYPE_MOUSE||"mouse")){for(var i in e.touches=[],$t)e.touches.push($t[i]);e.changedTouches=[e],t(e)}}function te(t,e){e.MSPOINTER_TYPE_TOUCH&&e.pointerType===e.MSPOINTER_TYPE_TOUCH&&Xe(e),Qt(t,e)}function ee(t){var e,i,o={};for(i in t)e=t[i],o[i]=e&&e.bind?e.bind(t):e;return t=o,o.type="dblclick",o.detail=2,o.isTrusted=!1,o._simulated=!0,o}var ie=200;function oe(t,e){t.addEventListener("dblclick",e);var i,o=0;function n(t){if(1===t.detail){if("mouse"!==t.pointerType&&(!t.sourceCapabilities||t.sourceCapabilities.firesTouchEvents)){var n=qe(t);if(!n.some((function(t){return t instanceof HTMLLabelElement&&t.attributes.for}))||n.some((function(t){return t instanceof HTMLInputElement||t instanceof HTMLSelectElement}))){var r=Date.now();r-o<=ie?2==++i&&e(ee(t)):i=1,o=r}}}else i=t.detail}return t.addEventListener("click",n),{dblclick:e,simDblclick:n}}function ne(t,e){t.removeEventListener("dblclick",e.dblclick),t.removeEventListener("click",e.simDblclick)}var re,se,ae,le,ce,ue=Pe(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),he=Pe(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),de="webkitTransition"===he||"OTransition"===he?he+"End":"transitionend";function pe(t){return"string"==typeof t?document.getElementById(t):t}function fe(t,e){var i=t.style[e]||t.currentStyle&&t.currentStyle[e];if((!i||"auto"===i)&&document.defaultView){var o=document.defaultView.getComputedStyle(t,null);i=o?o[e]:null}return"auto"===i?null:i}function ge(t,e,i){var o=document.createElement(t);return o.className=e||"",i&&i.appendChild(o),o}function me(t){var e=t.parentNode;e&&e.removeChild(t)}function ye(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function ve(t){var e=t.parentNode;e&&e.lastChild!==t&&e.appendChild(t)}function _e(t){var e=t.parentNode;e&&e.firstChild!==t&&e.insertBefore(t,e.firstChild)}function Ce(t,e){if(void 0!==t.classList)return t.classList.contains(e);var i=we(t);return i.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(i)}function be(t,e){if(void 0!==t.classList)for(var i=d(e),o=0,n=i.length;o<n;o++)t.classList.add(i[o]);else if(!Ce(t,e)){var r=we(t);Se(t,(r?r+" ":"")+e)}}function Ee(t,e){void 0!==t.classList?t.classList.remove(e):Se(t,h((" "+we(t)+" ").replace(" "+e+" "," ")))}function Se(t,e){void 0===t.className.baseVal?t.className=e:t.className.baseVal=e}function we(t){return t.correspondingElement&&(t=t.correspondingElement),void 0===t.className.baseVal?t.className:t.className.baseVal}function Oe(t,e){"opacity"in t.style?t.style.opacity=e:"filter"in t.style&&xe(t,e)}function xe(t,e){var i=!1,o="DXImageTransform.Microsoft.Alpha";try{i=t.filters.item(o)}catch(t){if(1===e)return}e=Math.round(100*e),i?(i.Enabled=100!==e,i.Opacity=e):t.style.filter+=" progid:"+o+"(opacity="+e+")"}function Pe(t){for(var e=document.documentElement.style,i=0;i<t.length;i++)if(t[i]in e)return t[i];return!1}function Te(t,e,i){var o=e||new R(0,0);t.style[ue]=(Bt.ie3d?"translate("+o.x+"px,"+o.y+"px)":"translate3d("+o.x+"px,"+o.y+"px,0)")+(i?" scale("+i+")":"")}function Me(t,e){t._leaflet_pos=e,Bt.any3d?Te(t,e):(t.style.left=e.x+"px",t.style.top=e.y+"px")}function De(t){return t._leaflet_pos||new R(0,0)}if("onselectstart"in document)re=function(){Ge(window,"selectstart",Xe)},se=function(){Ve(window,"selectstart",Xe)};else{var Ae=Pe(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);re=function(){if(Ae){var t=document.documentElement.style;ae=t[Ae],t[Ae]="none"}},se=function(){Ae&&(document.documentElement.style[Ae]=ae,ae=void 0)}}function Re(){Ge(window,"dragstart",Xe)}function Le(){Ve(window,"dragstart",Xe)}function Ie(t){for(;-1===t.tabIndex;)t=t.parentNode;t.style&&(Ne(),le=t,ce=t.style.outline,t.style.outline="none",Ge(window,"keydown",Ne))}function Ne(){le&&(le.style.outline=ce,le=void 0,ce=void 0,Ve(window,"keydown",Ne))}function ke(t){do{t=t.parentNode}while(!(t.offsetWidth&&t.offsetHeight||t===document.body));return t}function Fe(t){var e=t.getBoundingClientRect();return{x:e.width/t.offsetWidth||1,y:e.height/t.offsetHeight||1,boundingClientRect:e}}var Be={__proto__:null,TRANSFORM:ue,TRANSITION:he,TRANSITION_END:de,get:pe,getStyle:fe,create:ge,remove:me,empty:ye,toFront:ve,toBack:_e,hasClass:Ce,addClass:be,removeClass:Ee,setClass:Se,getClass:we,setOpacity:Oe,testProp:Pe,setTransform:Te,setPosition:Me,getPosition:De,get disableTextSelection(){return re},get enableTextSelection(){return se},disableImageDrag:Re,enableImageDrag:Le,preventOutline:Ie,restoreOutline:Ne,getSizedParentNode:ke,getScale:Fe};function Ge(t,e,i,o){if(e&&"object"==typeof e)for(var n in e)He(t,n,e[n],i);else for(var r=0,s=(e=d(e)).length;r<s;r++)He(t,e[r],i,o);return this}var je="_leaflet_events";function Ve(t,e,i,o){if(1===arguments.length)Ue(t),delete t[je];else if(e&&"object"==typeof e)for(var n in e)$e(t,n,e[n],i);else if(e=d(e),2===arguments.length)Ue(t,(function(t){return-1!==v(e,t)}));else for(var r=0,s=e.length;r<s;r++)$e(t,e[r],i,o);return this}function Ue(t,e){for(var i in t[je]){var o=i.split(/\d/)[0];e&&!e(o)||$e(t,o,null,null,i)}}var We={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function He(t,e,i,o){var n=e+s(i)+(o?"_"+s(o):"");if(t[je]&&t[je][n])return this;var r=function(e){return i.call(o||t,e||window.event)},a=r;!Bt.touchNative&&Bt.pointer&&0===e.indexOf("touch")?r=Kt(t,e,r):Bt.touch&&"dblclick"===e?r=oe(t,r):"addEventListener"in t?"touchstart"===e||"touchmove"===e||"wheel"===e||"mousewheel"===e?t.addEventListener(We[e]||e,r,!!Bt.passiveEvents&&{passive:!1}):"mouseenter"===e||"mouseleave"===e?(r=function(e){e=e||window.event,ei(t,e)&&a(e)},t.addEventListener(We[e],r,!1)):t.addEventListener(e,a,!1):t.attachEvent("on"+e,r),t[je]=t[je]||{},t[je][n]=r}function $e(t,e,i,o,n){n=n||e+s(i)+(o?"_"+s(o):"");var r=t[je]&&t[je][n];if(!r)return this;!Bt.touchNative&&Bt.pointer&&0===e.indexOf("touch")?Yt(t,e,r):Bt.touch&&"dblclick"===e?ne(t,r):"removeEventListener"in t?t.removeEventListener(We[e]||e,r,!1):t.detachEvent("on"+e,r),t[je][n]=null}function ze(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,this}function Ke(t){return He(t,"wheel",ze),this}function Ye(t){return Ge(t,"mousedown touchstart dblclick contextmenu",ze),t._leaflet_disable_click=!0,this}function Xe(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function Ze(t){return Xe(t),ze(t),this}function qe(t){if(t.composedPath)return t.composedPath();for(var e=[],i=t.target;i;)e.push(i),i=i.parentNode;return e}function Je(t,e){if(!e)return new R(t.clientX,t.clientY);var i=Fe(e),o=i.boundingClientRect;return new R((t.clientX-o.left)/i.x-e.clientLeft,(t.clientY-o.top)/i.y-e.clientTop)}var Qe=Bt.linux&&Bt.chrome?window.devicePixelRatio:Bt.mac?3*window.devicePixelRatio:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function ti(t){return Bt.edge?t.wheelDeltaY/2:t.deltaY&&0===t.deltaMode?-t.deltaY/Qe:t.deltaY&&1===t.deltaMode?20*-t.deltaY:t.deltaY&&2===t.deltaMode?60*-t.deltaY:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?20*-t.detail:t.detail?t.detail/-32765*60:0}function ei(t,e){var i=e.relatedTarget;if(!i)return!0;try{for(;i&&i!==t;)i=i.parentNode}catch(t){return!1}return i!==t}var ii={__proto__:null,on:Ge,off:Ve,stopPropagation:ze,disableScrollPropagation:Ke,disableClickPropagation:Ye,preventDefault:Xe,stop:Ze,getPropagationPath:qe,getMousePosition:Je,getWheelDelta:ti,isExternalTarget:ei,addListener:Ge,removeListener:Ve},oi=A.extend({run:function(t,e,i,o){this.stop(),this._el=t,this._inProgress=!0,this._duration=i||.25,this._easeOutPower=1/Math.max(o||.5,.2),this._startPos=De(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=O(this._animate,this),this._step()},_step:function(t){var e=+new Date-this._startTime,i=1e3*this._duration;e<i?this._runFrame(this._easeOut(e/i),t):(this._runFrame(1),this._complete())},_runFrame:function(t,e){var i=this._startPos.add(this._offset.multiplyBy(t));e&&i._round(),Me(this._el,i),this.fire("step")},_complete:function(){x(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),ni=A.extend({options:{crs:X,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,e){e=p(this,e),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=n(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),void 0!==e.zoom&&(this._zoom=this._limitZoom(e.zoom)),e.center&&void 0!==e.zoom&&this.setView(V(e.center),e.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=he&&Bt.any3d&&!Bt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ge(this._proxy,de,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,e,o){return e=void 0===e?this._zoom:this._limitZoom(e),t=this._limitCenter(V(t),e,this.options.maxBounds),o=o||{},this._stop(),this._loaded&&!o.reset&&!0!==o&&(void 0!==o.animate&&(o.zoom=i({animate:o.animate},o.zoom),o.pan=i({animate:o.animate,duration:o.duration},o.pan)),this._zoom!==e?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,e,o.zoom):this._tryAnimatedPan(t,o.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(t,e,o.pan&&o.pan.noMoveStart),this)},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=t,this)},zoomIn:function(t,e){return t=t||(Bt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+t,e)},zoomOut:function(t,e){return t=t||(Bt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-t,e)},setZoomAround:function(t,e,i){var o=this.getZoomScale(e),n=this.getSize().divideBy(2),r=(t instanceof R?t:this.latLngToContainerPoint(t)).subtract(n).multiplyBy(1-1/o),s=this.containerPointToLatLng(n.add(r));return this.setView(s,e,{zoom:i})},_getBoundsCenterZoom:function(t,e){e=e||{},t=t.getBounds?t.getBounds():G(t);var i=N(e.paddingTopLeft||e.padding||[0,0]),o=N(e.paddingBottomRight||e.padding||[0,0]),n=this.getBoundsZoom(t,!1,i.add(o));if((n="number"==typeof e.maxZoom?Math.min(e.maxZoom,n):n)===1/0)return{center:t.getCenter(),zoom:n};var r=o.subtract(i).divideBy(2),s=this.project(t.getSouthWest(),n),a=this.project(t.getNorthEast(),n);return{center:this.unproject(s.add(a).divideBy(2).add(r),n),zoom:n}},fitBounds:function(t,e){if(!(t=G(t)).isValid())throw new Error("Bounds are not valid.");var i=this._getBoundsCenterZoom(t,e);return this.setView(i.center,i.zoom,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t,e){if(e=e||{},!(t=N(t).round()).x&&!t.y)return this.fire("moveend");if(!0!==e.animate&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new oi,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),!1!==e.animate){be(this._mapPane,"leaflet-pan-anim");var i=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,i,e.duration||.25,e.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,e,i){if(!1===(i=i||{}).animate||!Bt.any3d)return this.setView(t,e,i);this._stop();var o=this.project(this.getCenter()),n=this.project(t),r=this.getSize(),s=this._zoom;t=V(t),e=void 0===e?s:e;var a=Math.max(r.x,r.y),l=a*this.getZoomScale(s,e),c=n.distanceTo(o)||1,u=1.42,h=u*u;function d(t){var e=(l*l-a*a+(t?-1:1)*h*h*c*c)/(2*(t?l:a)*h*c),i=Math.sqrt(e*e+1)-e;return i<1e-9?-18:Math.log(i)}function p(t){return(Math.exp(t)-Math.exp(-t))/2}function f(t){return(Math.exp(t)+Math.exp(-t))/2}function g(t){return p(t)/f(t)}var m=d(0);function y(t){return a*(f(m)/f(m+u*t))}function v(t){return a*(f(m)*g(m+u*t)-p(m))/h}function _(t){return 1-Math.pow(1-t,1.5)}var C=Date.now(),b=(d(1)-m)/u,E=i.duration?1e3*i.duration:1e3*b*.8;function S(){var i=(Date.now()-C)/E,r=_(i)*b;i<=1?(this._flyToFrame=O(S,this),this._move(this.unproject(o.add(n.subtract(o).multiplyBy(v(r)/c)),s),this.getScaleZoom(a/y(r),s),{flyTo:!0})):this._move(t,e)._moveEnd(!0)}return this._moveStart(!0,i.noMoveStart),S.call(this),this},flyToBounds:function(t,e){var i=this._getBoundsCenterZoom(t,e);return this.flyTo(i.center,i.zoom,e)},setMaxBounds:function(t){return t=G(t),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),t.isValid()?(this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(t){var e=this.options.minZoom;return this.options.minZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var e=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,e){this._enforcingBounds=!0;var i=this.getCenter(),o=this._limitCenter(i,this._zoom,G(t));return i.equals(o)||this.panTo(o,e),this._enforcingBounds=!1,this},panInside:function(t,e){var i=N((e=e||{}).paddingTopLeft||e.padding||[0,0]),o=N(e.paddingBottomRight||e.padding||[0,0]),n=this.project(this.getCenter()),r=this.project(t),s=this.getPixelBounds(),a=F([s.min.add(i),s.max.subtract(o)]),l=a.getSize();if(!a.contains(r)){this._enforcingBounds=!0;var c=r.subtract(a.getCenter()),u=a.extend(r).getSize().subtract(l);n.x+=c.x<0?-u.x:u.x,n.y+=c.y<0?-u.y:u.y,this.panTo(this.unproject(n),e),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=i({animate:!1,pan:!0},!0===t?{animate:!0}:t);var e=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var o=this.getSize(),r=e.divideBy(2).round(),s=o.divideBy(2).round(),a=r.subtract(s);return a.x||a.y?(t.animate&&t.pan?this.panBy(a):(t.pan&&this._rawPanBy(a),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(n(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:e,newSize:o})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=i({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var e=n(this._handleGeolocationResponse,this),o=n(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(e,o,t):navigator.geolocation.getCurrentPosition(e,o,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){if(this._container._leaflet_id){var e=t.code,i=t.message||(1===e?"permission denied":2===e?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+i+"."})}},_handleGeolocationResponse:function(t){if(this._container._leaflet_id){var e=new j(t.coords.latitude,t.coords.longitude),i=e.toBounds(2*t.coords.accuracy),o=this._locateOptions;if(o.setView){var n=this.getBoundsZoom(i);this.setView(e,o.maxZoom?Math.min(n,o.maxZoom):n)}var r={latlng:e,bounds:i,timestamp:t.timestamp};for(var s in t.coords)"number"==typeof t.coords[s]&&(r[s]=t.coords[s]);this.fire("locationfound",r)}},addHandler:function(t,e){if(!e)return this;var i=this[t]=new e(this);return this._handlers.push(i),this.options[t]&&i.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(t){this._container._leaflet_id=void 0,this._containerId=void 0}var t;for(t in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),me(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(x(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[t].remove();for(t in this._panes)me(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,e){var i=ge("div","leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),e||this._mapPane);return t&&(this._panes[t]=i),i},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds();return new B(this.unproject(t.getBottomLeft()),this.unproject(t.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,i){t=G(t),i=N(i||[0,0]);var o=this.getZoom()||0,n=this.getMinZoom(),r=this.getMaxZoom(),s=t.getNorthWest(),a=t.getSouthEast(),l=this.getSize().subtract(i),c=F(this.project(a,o),this.project(s,o)).getSize(),u=Bt.any3d?this.options.zoomSnap:1,h=l.x/c.x,d=l.y/c.y,p=e?Math.max(h,d):Math.min(h,d);return o=this.getScaleZoom(p,o),u&&(o=Math.round(o/(u/100))*(u/100),o=e?Math.ceil(o/u)*u:Math.floor(o/u)*u),Math.max(n,Math.min(r,o))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new R(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,e){var i=this._getTopLeftPoint(t,e);return new k(i,i.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(void 0===t?this.getZoom():t)},getPane:function(t){return"string"==typeof t?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,e){var i=this.options.crs;return e=void 0===e?this._zoom:e,i.scale(t)/i.scale(e)},getScaleZoom:function(t,e){var i=this.options.crs;e=void 0===e?this._zoom:e;var o=i.zoom(t*i.scale(e));return isNaN(o)?1/0:o},project:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.latLngToPoint(V(t),e)},unproject:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.pointToLatLng(N(t),e)},layerPointToLatLng:function(t){var e=N(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){return this.project(V(t))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(V(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(G(t))},distance:function(t,e){return this.options.crs.distance(V(t),V(e))},containerPointToLayerPoint:function(t){return N(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return N(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(N(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(V(t)))},mouseEventToContainerPoint:function(t){return Je(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=pe(t);if(!e)throw new Error("Map container not found.");if(e._leaflet_id)throw new Error("Map container is already initialized.");Ge(e,"scroll",this._onScroll,this),this._containerId=s(e)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&Bt.any3d,be(t,"leaflet-container"+(Bt.touch?" leaflet-touch":"")+(Bt.retina?" leaflet-retina":"")+(Bt.ielt9?" leaflet-oldie":"")+(Bt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var e=fe(t,"position");"absolute"!==e&&"relative"!==e&&"fixed"!==e&&"sticky"!==e&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Me(this._mapPane,new R(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(be(t.markerPane,"leaflet-zoom-hide"),be(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,e,i){Me(this._mapPane,new R(0,0));var o=!this._loaded;this._loaded=!0,e=this._limitZoom(e),this.fire("viewprereset");var n=this._zoom!==e;this._moveStart(n,i)._move(t,e)._moveEnd(n),this.fire("viewreset"),o&&this.fire("load")},_moveStart:function(t,e){return t&&this.fire("zoomstart"),e||this.fire("movestart"),this},_move:function(t,e,i,o){void 0===e&&(e=this._zoom);var n=this._zoom!==e;return this._zoom=e,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),o?i&&i.pinch&&this.fire("zoom",i):((n||i&&i.pinch)&&this.fire("zoom",i),this.fire("move",i)),this},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return x(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){Me(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[s(this._container)]=this;var e=t?Ve:Ge;e(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&e(window,"resize",this._onResize,this),Bt.any3d&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){x(this._resizeRequest),this._resizeRequest=O((function(){this.invalidateSize({debounceMoveend:!0})}),this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,e){for(var i,o=[],n="mouseout"===e||"mouseover"===e,r=t.target||t.srcElement,a=!1;r;){if((i=this._targets[s(r)])&&("click"===e||"preclick"===e)&&this._draggableMoved(i)){a=!0;break}if(i&&i.listens(e,!0)){if(n&&!ei(r,t))break;if(o.push(i),n)break}if(r===this._container)break;r=r.parentNode}return o.length||a||n||!this.listens(e,!0)||(o=[this]),o},_isClickDisabled:function(t){for(;t&&t!==this._container;){if(t._leaflet_disable_click)return!0;t=t.parentNode}},_handleDOMEvent:function(t){var e=t.target||t.srcElement;if(!(!this._loaded||e._leaflet_disable_events||"click"===t.type&&this._isClickDisabled(e))){var i=t.type;"mousedown"===i&&Ie(e),this._fireDOMEvent(t,i)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,e,o){if("click"===t.type){var n=i({},t);n.type="preclick",this._fireDOMEvent(n,n.type,o)}var r=this._findEventTargets(t,e);if(o){for(var s=[],a=0;a<o.length;a++)o[a].listens(e,!0)&&s.push(o[a]);r=s.concat(r)}if(r.length){"contextmenu"===e&&Xe(t);var l=r[0],c={originalEvent:t};if("keypress"!==t.type&&"keydown"!==t.type&&"keyup"!==t.type){var u=l.getLatLng&&(!l._radius||l._radius<=10);c.containerPoint=u?this.latLngToContainerPoint(l.getLatLng()):this.mouseEventToContainerPoint(t),c.layerPoint=this.containerPointToLayerPoint(c.containerPoint),c.latlng=u?l.getLatLng():this.layerPointToLatLng(c.layerPoint)}for(a=0;a<r.length;a++)if(r[a].fire(e,c,!0),c.originalEvent._stopped||!1===r[a].options.bubblingMouseEvents&&-1!==v(this._mouseEvents,e))return}},_draggableMoved:function(t){return(t=t.dragging&&t.dragging.enabled()?t:this).dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,e=this._handlers.length;t<e;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,{target:this}):this.on("load",t,e),this},_getMapPanePos:function(){return De(this._mapPane)||new R(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,e){return(t&&void 0!==e?this._getNewPixelOrigin(t,e):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,e){var i=this.getSize()._divideBy(2);return this.project(t,e)._subtract(i)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,e,i){var o=this._getNewPixelOrigin(i,e);return this.project(t,e)._subtract(o)},_latLngBoundsToNewLayerBounds:function(t,e,i){var o=this._getNewPixelOrigin(i,e);return F([this.project(t.getSouthWest(),e)._subtract(o),this.project(t.getNorthWest(),e)._subtract(o),this.project(t.getSouthEast(),e)._subtract(o),this.project(t.getNorthEast(),e)._subtract(o)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,i){if(!i)return t;var o=this.project(t,e),n=this.getSize().divideBy(2),r=new k(o.subtract(n),o.add(n)),s=this._getBoundsOffset(r,i,e);return Math.abs(s.x)<=1&&Math.abs(s.y)<=1?t:this.unproject(o.add(s),e)},_limitOffset:function(t,e){if(!e)return t;var i=this.getPixelBounds(),o=new k(i.min.add(t),i.max.add(t));return t.add(this._getBoundsOffset(o,e))},_getBoundsOffset:function(t,e,i){var o=F(this.project(e.getNorthEast(),i),this.project(e.getSouthWest(),i)),n=o.min.subtract(t.min),r=o.max.subtract(t.max);return new R(this._rebound(n.x,-r.x),this._rebound(n.y,-r.y))},_rebound:function(t,e){return t+e>0?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),i=this.getMaxZoom(),o=Bt.any3d?this.options.zoomSnap:1;return o&&(t=Math.round(t/o)*o),Math.max(e,Math.min(i,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Ee(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){var i=this._getCenterOffset(t)._trunc();return!(!0!==(e&&e.animate)&&!this.getSize().contains(i)||(this.panBy(i,e),0))},_createAnimProxy:function(){var t=this._proxy=ge("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",(function(t){var e=ue,i=this._proxy.style[e];Te(this._proxy,this.project(t.center,t.zoom),this.getZoomScale(t.zoom,1)),i===this._proxy.style[e]&&this._animatingZoom&&this._onZoomTransitionEnd()}),this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){me(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),e=this.getZoom();Te(this._proxy,this.project(t,e),this.getZoomScale(e,1))},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,i){if(this._animatingZoom)return!0;if(i=i||{},!this._zoomAnimated||!1===i.animate||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var o=this.getZoomScale(e),n=this._getCenterOffset(t)._divideBy(1-1/o);return!(!0!==i.animate&&!this.getSize().contains(n)||(O((function(){this._moveStart(!0,!1)._animateZoom(t,e,!0)}),this),0))},_animateZoom:function(t,e,i,o){this._mapPane&&(i&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=e,be(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:e,noUpdate:o}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(n(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Ee(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function ri(t,e){return new ni(t,e)}var si=T.extend({options:{position:"topright"},initialize:function(t){p(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var e=this._container=this.onAdd(t),i=this.getPosition(),o=t._controlCorners[i];return be(e,"leaflet-control"),-1!==i.indexOf("bottom")?o.insertBefore(e,o.firstChild):o.appendChild(e),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(me(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),ai=function(t){return new si(t)};ni.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},e="leaflet-",i=this._controlContainer=ge("div",e+"control-container",this._container);function o(o,n){var r=e+o+" "+e+n;t[o+n]=ge("div",r,i)}o("top","left"),o("top","right"),o("bottom","left"),o("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)me(this._controlCorners[t]);me(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var li=si.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,e,i,o){return i<o?-1:o<i?1:0}},initialize:function(t,e,i){for(var o in p(this,i),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,t)this._addLayer(t[o],o);for(o in e)this._addLayer(e[o],o,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return si.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._map?this._update():this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var e=this._getLayer(s(t));return e&&this._layers.splice(this._layers.indexOf(e),1),this._map?this._update():this},expand:function(){be(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(be(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):Ee(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Ee(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=ge("div",t),i=this.options.collapsed;e.setAttribute("aria-haspopup",!0),Ye(e),Ke(e);var o=this._section=ge("section",t+"-list");i&&(this._map.on("click",this.collapse,this),Ge(e,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var n=this._layersLink=ge("a",t+"-toggle",e);n.href="#",n.title="Layers",n.setAttribute("role","button"),Ge(n,{keydown:function(t){13===t.keyCode&&this._expandSafely()},click:function(t){Xe(t),this._expandSafely()}},this),i||this.expand(),this._baseLayersList=ge("div",t+"-base",o),this._separator=ge("div",t+"-separator",o),this._overlaysList=ge("div",t+"-overlays",o),e.appendChild(o)},_getLayer:function(t){for(var e=0;e<this._layers.length;e++)if(this._layers[e]&&s(this._layers[e].layer)===t)return this._layers[e]},_addLayer:function(t,e,i){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:e,overlay:i}),this.options.sortLayers&&this._layers.sort(n((function(t,e){return this.options.sortFunction(t.layer,e.layer,t.name,e.name)}),this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ye(this._baseLayersList),ye(this._overlaysList),this._layerControlInputs=[];var t,e,i,o,n=0;for(i=0;i<this._layers.length;i++)o=this._layers[i],this._addItem(o),e=e||o.overlay,t=t||!o.overlay,n+=o.overlay?0:1;return this.options.hideSingleBase&&(t=t&&n>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=e&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var e=this._getLayer(s(t.target)),i=e.overlay?"add"===t.type?"overlayadd":"overlayremove":"add"===t.type?"baselayerchange":null;i&&this._map.fire(i,e)},_createRadioElement:function(t,e){var i='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(e?' checked="checked"':"")+"/>",o=document.createElement("div");return o.innerHTML=i,o.firstChild},_addItem:function(t){var e,i=document.createElement("label"),o=this._map.hasLayer(t.layer);t.overlay?((e=document.createElement("input")).type="checkbox",e.className="leaflet-control-layers-selector",e.defaultChecked=o):e=this._createRadioElement("leaflet-base-layers_"+s(this),o),this._layerControlInputs.push(e),e.layerId=s(t.layer),Ge(e,"click",this._onInputClick,this);var n=document.createElement("span");n.innerHTML=" "+t.name;var r=document.createElement("span");return i.appendChild(r),r.appendChild(e),r.appendChild(n),(t.overlay?this._overlaysList:this._baseLayersList).appendChild(i),this._checkDisabledLayers(),i},_onInputClick:function(){var t,e,i=this._layerControlInputs,o=[],n=[];this._handlingClick=!0;for(var r=i.length-1;r>=0;r--)t=i[r],e=this._getLayer(t.layerId).layer,t.checked?o.push(e):t.checked||n.push(e);for(r=0;r<n.length;r++)this._map.hasLayer(n[r])&&this._map.removeLayer(n[r]);for(r=0;r<o.length;r++)this._map.hasLayer(o[r])||this._map.addLayer(o[r]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var t,e,i=this._layerControlInputs,o=this._map.getZoom(),n=i.length-1;n>=0;n--)t=i[n],e=this._getLayer(t.layerId).layer,t.disabled=void 0!==e.options.minZoom&&o<e.options.minZoom||void 0!==e.options.maxZoom&&o>e.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var t=this._section;Ge(t,"click",Xe),this.expand(),setTimeout((function(){Ve(t,"click",Xe)}))}}),ci=function(t,e,i){return new li(t,e,i)},ui=si.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",i=ge("div",e+" leaflet-bar"),o=this.options;return this._zoomInButton=this._createButton(o.zoomInText,o.zoomInTitle,e+"-in",i,this._zoomIn),this._zoomOutButton=this._createButton(o.zoomOutText,o.zoomOutTitle,e+"-out",i,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),i},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,e,i,o,n){var r=ge("a",i,o);return r.innerHTML=t,r.href="#",r.title=e,r.setAttribute("role","button"),r.setAttribute("aria-label",e),Ye(r),Ge(r,"click",Ze),Ge(r,"click",n,this),Ge(r,"click",this._refocusOnMap,this),r},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";Ee(this._zoomInButton,e),Ee(this._zoomOutButton,e),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||t._zoom===t.getMinZoom())&&(be(this._zoomOutButton,e),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||t._zoom===t.getMaxZoom())&&(be(this._zoomInButton,e),this._zoomInButton.setAttribute("aria-disabled","true"))}});ni.mergeOptions({zoomControl:!0}),ni.addInitHook((function(){this.options.zoomControl&&(this.zoomControl=new ui,this.addControl(this.zoomControl))}));var hi=function(t){return new ui(t)},di=si.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var e="leaflet-control-scale",i=ge("div",e),o=this.options;return this._addScales(o,e+"-line",i),t.on(o.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),i},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,i){t.metric&&(this._mScale=ge("div",e,i)),t.imperial&&(this._iScale=ge("div",e,i))},_update:function(){var t=this._map,e=t.getSize().y/2,i=t.distance(t.containerPointToLatLng([0,e]),t.containerPointToLatLng([this.options.maxWidth,e]));this._updateScales(i)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var e=this._getRoundNum(t),i=e<1e3?e+" m":e/1e3+" km";this._updateScale(this._mScale,i,e/t)},_updateImperial:function(t){var e,i,o,n=3.2808399*t;n>5280?(e=n/5280,i=this._getRoundNum(e),this._updateScale(this._iScale,i+" mi",i/e)):(o=this._getRoundNum(n),this._updateScale(this._iScale,o+" ft",o/n))},_updateScale:function(t,e,i){t.style.width=Math.round(this.options.maxWidth*i)+"px",t.innerHTML=e},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),i=t/e;return e*(i=i>=10?10:i>=5?5:i>=3?3:i>=2?2:1)}}),pi=function(t){return new di(t)},fi='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',gi=si.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Bt.inlineSvg?fi+" ":"")+"Leaflet</a>"},initialize:function(t){p(this,t),this._attributions={}},onAdd:function(t){for(var e in t.attributionControl=this,this._container=ge("div","leaflet-control-attribution"),Ye(this._container),t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return this._update(),t.on("layeradd",this._addAttribution,this),this._container},onRemove:function(t){t.off("layeradd",this._addAttribution,this)},_addAttribution:function(t){t.layer.getAttribution&&(this.addAttribution(t.layer.getAttribution()),t.layer.once("remove",(function(){this.removeAttribution(t.layer.getAttribution())}),this))},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions[e]&&t.push(e);var i=[];this.options.prefix&&i.push(this.options.prefix),t.length&&i.push(t.join(", ")),this._container.innerHTML=i.join(' <span aria-hidden="true">|</span> ')}}});ni.mergeOptions({attributionControl:!0}),ni.addInitHook((function(){this.options.attributionControl&&(new gi).addTo(this)}));var mi=function(t){return new gi(t)};si.Layers=li,si.Zoom=ui,si.Scale=di,si.Attribution=gi,ai.layers=ci,ai.zoom=hi,ai.scale=pi,ai.attribution=mi;var yi=T.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});yi.addTo=function(t,e){return t.addHandler(e,this),this};var vi,_i={Events:D},Ci=Bt.touch?"touchstart mousedown":"mousedown",bi=A.extend({options:{clickTolerance:3},initialize:function(t,e,i,o){p(this,o),this._element=t,this._dragStartTarget=e||t,this._preventOutline=i},enable:function(){this._enabled||(Ge(this._dragStartTarget,Ci,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(bi._dragging===this&&this.finishDrag(!0),Ve(this._dragStartTarget,Ci,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(this._enabled&&(this._moved=!1,!Ce(this._element,"leaflet-zoom-anim")))if(t.touches&&1!==t.touches.length)bi._dragging===this&&this.finishDrag();else if(!(bi._dragging||t.shiftKey||1!==t.which&&1!==t.button&&!t.touches||(bi._dragging=this,this._preventOutline&&Ie(this._element),Re(),re(),this._moving))){this.fire("down");var e=t.touches?t.touches[0]:t,i=ke(this._element);this._startPoint=new R(e.clientX,e.clientY),this._startPos=De(this._element),this._parentScale=Fe(i);var o="mousedown"===t.type;Ge(document,o?"mousemove":"touchmove",this._onMove,this),Ge(document,o?"mouseup":"touchend touchcancel",this._onUp,this)}},_onMove:function(t){if(this._enabled)if(t.touches&&t.touches.length>1)this._moved=!0;else{var e=t.touches&&1===t.touches.length?t.touches[0]:t,i=new R(e.clientX,e.clientY)._subtract(this._startPoint);(i.x||i.y)&&(Math.abs(i.x)+Math.abs(i.y)<this.options.clickTolerance||(i.x/=this._parentScale.x,i.y/=this._parentScale.y,Xe(t),this._moved||(this.fire("dragstart"),this._moved=!0,be(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),be(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(i),this._moving=!0,this._lastEvent=t,this._updatePosition()))}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),Me(this._element,this._newPos),this.fire("drag",t)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(t){Ee(document.body,"leaflet-dragging"),this._lastTarget&&(Ee(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Ve(document,"mousemove touchmove",this._onMove,this),Ve(document,"mouseup touchend touchcancel",this._onUp,this),Le(),se(),this._moved&&this._moving&&this.fire("dragend",{noInertia:t,distance:this._newPos.distanceTo(this._startPos)}),this._moving=!1,bi._dragging=!1}});function Ei(t,e){if(!e||!t.length)return t.slice();var i=e*e;return t=Oi(t=Pi(t,i),i)}function Si(t,e,i){return Math.sqrt(Ri(t,e,i,!0))}function wi(t,e,i){return Ri(t,e,i)}function Oi(t,e){var i=t.length,o=new(typeof Uint8Array!=void 0+""?Uint8Array:Array)(i);o[0]=o[i-1]=1,xi(t,o,e,0,i-1);var n,r=[];for(n=0;n<i;n++)o[n]&&r.push(t[n]);return r}function xi(t,e,i,o,n){var r,s,a,l=0;for(s=o+1;s<=n-1;s++)(a=Ri(t[s],t[o],t[n],!0))>l&&(r=s,l=a);l>i&&(e[r]=1,xi(t,e,i,o,r),xi(t,e,i,r,n))}function Pi(t,e){for(var i=[t[0]],o=1,n=0,r=t.length;o<r;o++)Ai(t[o],t[n])>e&&(i.push(t[o]),n=o);return n<r-1&&i.push(t[r-1]),i}function Ti(t,e,i,o,n){var r,s,a,l=o?vi:Di(t,i),c=Di(e,i);for(vi=c;;){if(!(l|c))return[t,e];if(l&c)return!1;a=Di(s=Mi(t,e,r=l||c,i,n),i),r===l?(t=s,l=a):(e=s,c=a)}}function Mi(t,e,i,o,n){var r,s,a=e.x-t.x,l=e.y-t.y,c=o.min,u=o.max;return 8&i?(r=t.x+a*(u.y-t.y)/l,s=u.y):4&i?(r=t.x+a*(c.y-t.y)/l,s=c.y):2&i?(r=u.x,s=t.y+l*(u.x-t.x)/a):1&i&&(r=c.x,s=t.y+l*(c.x-t.x)/a),new R(r,s,n)}function Di(t,e){var i=0;return t.x<e.min.x?i|=1:t.x>e.max.x&&(i|=2),t.y<e.min.y?i|=4:t.y>e.max.y&&(i|=8),i}function Ai(t,e){var i=e.x-t.x,o=e.y-t.y;return i*i+o*o}function Ri(t,e,i,o){var n,r=e.x,s=e.y,a=i.x-r,l=i.y-s,c=a*a+l*l;return c>0&&((n=((t.x-r)*a+(t.y-s)*l)/c)>1?(r=i.x,s=i.y):n>0&&(r+=a*n,s+=l*n)),a=t.x-r,l=t.y-s,o?a*a+l*l:new R(r,s)}function Li(t){return!y(t[0])||"object"!=typeof t[0][0]&&void 0!==t[0][0]}function Ii(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Li(t)}function Ni(t,e){var i,o,n,r,s,a,l,c;if(!t||0===t.length)throw new Error("latlngs not passed");Li(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var u=[];for(var h in t)u.push(e.project(V(t[h])));var d=u.length;for(i=0,o=0;i<d-1;i++)o+=u[i].distanceTo(u[i+1])/2;if(0===o)c=u[0];else for(i=0,r=0;i<d-1;i++)if(s=u[i],a=u[i+1],(r+=n=s.distanceTo(a))>o){l=(r-o)/n,c=[a.x-l*(a.x-s.x),a.y-l*(a.y-s.y)];break}return e.unproject(N(c))}var ki={__proto__:null,simplify:Ei,pointToSegmentDistance:Si,closestPointOnSegment:wi,clipSegment:Ti,_getEdgeIntersection:Mi,_getBitCode:Di,_sqClosestPointOnSegment:Ri,isFlat:Li,_flat:Ii,polylineCenter:Ni};function Fi(t,e,i){var o,n,r,s,a,l,c,u,h,d=[1,4,2,8];for(n=0,c=t.length;n<c;n++)t[n]._code=Di(t[n],e);for(s=0;s<4;s++){for(u=d[s],o=[],n=0,r=(c=t.length)-1;n<c;r=n++)a=t[n],l=t[r],a._code&u?l._code&u||((h=Mi(l,a,u,e,i))._code=Di(h,e),o.push(h)):(l._code&u&&((h=Mi(l,a,u,e,i))._code=Di(h,e),o.push(h)),o.push(a));t=o}return t}function Bi(t,e){var i,o,n,r,s,a,l,c,u;if(!t||0===t.length)throw new Error("latlngs not passed");Li(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var h=[];for(var d in t)h.push(e.project(V(t[d])));var p=h.length;for(a=l=c=0,i=0,o=p-1;i<p;o=i++)n=h[i],r=h[o],s=n.y*r.x-r.y*n.x,l+=(n.x+r.x)*s,c+=(n.y+r.y)*s,a+=3*s;return u=0===a?h[0]:[l/a,c/a],e.unproject(N(u))}var Gi={__proto__:null,clipPolygon:Fi,polygonCenter:Bi},ji={project:function(t){return new R(t.lng,t.lat)},unproject:function(t){return new j(t.y,t.x)},bounds:new k([-180,-90],[180,90])},Vi={R:6378137,R_MINOR:6356752.314245179,bounds:new k([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(t){var e=Math.PI/180,i=this.R,o=t.lat*e,n=this.R_MINOR/i,r=Math.sqrt(1-n*n),s=r*Math.sin(o),a=Math.tan(Math.PI/4-o/2)/Math.pow((1-s)/(1+s),r/2);return o=-i*Math.log(Math.max(a,1e-10)),new R(t.lng*e*i,o)},unproject:function(t){for(var e,i=180/Math.PI,o=this.R,n=this.R_MINOR/o,r=Math.sqrt(1-n*n),s=Math.exp(-t.y/o),a=Math.PI/2-2*Math.atan(s),l=0,c=.1;l<15&&Math.abs(c)>1e-7;l++)e=r*Math.sin(a),e=Math.pow((1-e)/(1+e),r/2),a+=c=Math.PI/2-2*Math.atan(s*e)-a;return new j(a*i,t.x*i/o)}},Ui={__proto__:null,LonLat:ji,Mercator:Vi,SphericalMercator:z},Wi=i({},H,{code:"EPSG:3395",projection:Vi,transformation:function(){var t=.5/(Math.PI*Vi.R);return Y(t,.5,-t,.5)}()}),Hi=i({},H,{code:"EPSG:4326",projection:ji,transformation:Y(1/180,1,-1/180,.5)}),$i=i({},W,{projection:ji,transformation:Y(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,e){var i=e.lng-t.lng,o=e.lat-t.lat;return Math.sqrt(i*i+o*o)},infinite:!0});W.Earth=H,W.EPSG3395=Wi,W.EPSG3857=X,W.EPSG900913=Z,W.EPSG4326=Hi,W.Simple=$i;var zi=A.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[s(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[s(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var e=t.target;if(e.hasLayer(this)){if(this._map=e,this._zoomAnimated=e._zoomAnimated,this.getEvents){var i=this.getEvents();e.on(i,this),this.once("remove",(function(){e.off(i,this)}),this)}this.onAdd(e),this.fire("add"),e.fire("layeradd",{layer:this})}}});ni.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var e=s(t);return this._layers[e]||(this._layers[e]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t)),this},removeLayer:function(t){var e=s(t);return this._layers[e]?(this._loaded&&t.onRemove(this),delete this._layers[e],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return s(t)in this._layers},eachLayer:function(t,e){for(var i in this._layers)t.call(e,this._layers[i]);return this},_addLayers:function(t){for(var e=0,i=(t=t?y(t)?t:[t]:[]).length;e<i;e++)this.addLayer(t[e])},_addZoomLimit:function(t){isNaN(t.options.maxZoom)&&isNaN(t.options.minZoom)||(this._zoomBoundLayers[s(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var e=s(t);this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,e=-1/0,i=this._getZoomSpan();for(var o in this._zoomBoundLayers){var n=this._zoomBoundLayers[o].options;t=void 0===n.minZoom?t:Math.min(t,n.minZoom),e=void 0===n.maxZoom?e:Math.max(e,n.maxZoom)}this._layersMaxZoom=e===-1/0?void 0:e,this._layersMinZoom=t===1/0?void 0:t,i!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ki=zi.extend({initialize:function(t,e){var i,o;if(p(this,e),this._layers={},t)for(i=0,o=t.length;i<o;i++)this.addLayer(t[i])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(t){return("number"==typeof t?t:this.getLayerId(t))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var e,i,o=Array.prototype.slice.call(arguments,1);for(e in this._layers)(i=this._layers[e])[t]&&i[t].apply(i,o);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,e){for(var i in this._layers)t.call(e,this._layers[i]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return s(t)}}),Yi=function(t,e){return new Ki(t,e)},Xi=Ki.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),Ki.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),Ki.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new B;for(var e in this._layers){var i=this._layers[e];t.extend(i.getBounds?i.getBounds():i.getLatLng())}return t}}),Zi=function(t,e){return new Xi(t,e)},qi=T.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(t){p(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var i=this._getIconUrl(t);if(!i){if("icon"===t)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var o=this._createImg(i,e&&"IMG"===e.tagName?e:null);return this._setIconStyles(o,t),(this.options.crossOrigin||""===this.options.crossOrigin)&&(o.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),o},_setIconStyles:function(t,e){var i=this.options,o=i[e+"Size"];"number"==typeof o&&(o=[o,o]);var n=N(o),r=N("shadow"===e&&i.shadowAnchor||i.iconAnchor||n&&n.divideBy(2,!0));t.className="leaflet-marker-"+e+" "+(i.className||""),r&&(t.style.marginLeft=-r.x+"px",t.style.marginTop=-r.y+"px"),n&&(t.style.width=n.x+"px",t.style.height=n.y+"px")},_createImg:function(t,e){return(e=e||document.createElement("img")).src=t,e},_getIconUrl:function(t){return Bt.retina&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}});function Ji(t){return new qi(t)}var Qi=qi.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return"string"!=typeof Qi.imagePath&&(Qi.imagePath=this._detectIconPath()),(this.options.imagePath||Qi.imagePath)+qi.prototype._getIconUrl.call(this,t)},_stripUrl:function(t){var e=function(t,e,i){var o=e.exec(t);return o&&o[i]};return(t=e(t,/^url\((['"])?(.+)\1\)$/,2))&&e(t,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var t=ge("div","leaflet-default-icon-path",document.body),e=fe(t,"background-image")||fe(t,"backgroundImage");if(document.body.removeChild(t),e=this._stripUrl(e))return e;var i=document.querySelector('link[href$="leaflet.css"]');return i?i.href.substring(0,i.href.length-11-1):""}}),to=yi.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new bi(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),be(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Ee(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var e=this._marker,i=e._map,o=this._marker.options.autoPanSpeed,n=this._marker.options.autoPanPadding,r=De(e._icon),s=i.getPixelBounds(),a=i.getPixelOrigin(),l=F(s.min._subtract(a).add(n),s.max._subtract(a).subtract(n));if(!l.contains(r)){var c=N((Math.max(l.max.x,r.x)-l.max.x)/(s.max.x-l.max.x)-(Math.min(l.min.x,r.x)-l.min.x)/(s.min.x-l.min.x),(Math.max(l.max.y,r.y)-l.max.y)/(s.max.y-l.max.y)-(Math.min(l.min.y,r.y)-l.min.y)/(s.min.y-l.min.y)).multiplyBy(o);i.panBy(c,{animate:!1}),this._draggable._newPos._add(c),this._draggable._startPos._add(c),Me(e._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=O(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(x(this._panRequest),this._panRequest=O(this._adjustPan.bind(this,t)))},_onDrag:function(t){var e=this._marker,i=e._shadow,o=De(e._icon),n=e._map.layerPointToLatLng(o);i&&Me(i,o),e._latlng=n,t.latlng=n,t.oldLatLng=this._oldLatLng,e.fire("move",t).fire("drag",t)},_onDragEnd:function(t){x(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),eo=zi.extend({options:{icon:new Qi,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,e){p(this,e),this._latlng=V(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var e=this._latlng;return this._latlng=V(t),this.update(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,e="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),i=t.icon.createIcon(this._icon),o=!1;i!==this._icon&&(this._icon&&this._removeIcon(),o=!0,t.title&&(i.title=t.title),"IMG"===i.tagName&&(i.alt=t.alt||"")),be(i,e),t.keyboard&&(i.tabIndex="0",i.setAttribute("role","button")),this._icon=i,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ge(i,"focus",this._panOnFocus,this);var n=t.icon.createShadow(this._shadow),r=!1;n!==this._shadow&&(this._removeShadow(),r=!0),n&&(be(n,e),n.alt=""),this._shadow=n,t.opacity<1&&this._updateOpacity(),o&&this.getPane().appendChild(this._icon),this._initInteraction(),n&&r&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ve(this._icon,"focus",this._panOnFocus,this),me(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&me(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&Me(this._icon,t),this._shadow&&Me(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(this.options.interactive&&(be(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),to)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new to(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&Oe(this._icon,t),this._shadow&&Oe(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var t=this._map;if(t){var e=this.options.icon.options,i=e.iconSize?N(e.iconSize):N(0,0),o=e.iconAnchor?N(e.iconAnchor):N(0,0);t.panInside(this._latlng,{paddingTopLeft:o,paddingBottomRight:i.subtract(o)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function io(t,e){return new eo(t,e)}var oo=zi.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return p(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&Object.prototype.hasOwnProperty.call(t,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),no=oo.extend({options:{fill:!0,radius:10},initialize:function(t,e){p(this,e),this._latlng=V(t),this._radius=this.options.radius},setLatLng:function(t){var e=this._latlng;return this._latlng=V(t),this.redraw(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var e=t&&t.radius||this._radius;return oo.prototype.setStyle.call(this,t),this.setRadius(e),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,e=this._radiusY||t,i=this._clickTolerance(),o=[t+i,e+i];this._pxBounds=new k(this._point.subtract(o),this._point.add(o))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function ro(t,e){return new no(t,e)}var so=no.extend({initialize:function(t,e,o){if("number"==typeof e&&(e=i({},o,{radius:e})),p(this,e),this._latlng=V(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new B(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:oo.prototype.setStyle,_project:function(){var t=this._latlng.lng,e=this._latlng.lat,i=this._map,o=i.options.crs;if(o.distance===H.distance){var n=Math.PI/180,r=this._mRadius/H.R/n,s=i.project([e+r,t]),a=i.project([e-r,t]),l=s.add(a).divideBy(2),c=i.unproject(l).lat,u=Math.acos((Math.cos(r*n)-Math.sin(e*n)*Math.sin(c*n))/(Math.cos(e*n)*Math.cos(c*n)))/n;(isNaN(u)||0===u)&&(u=r/Math.cos(Math.PI/180*e)),this._point=l.subtract(i.getPixelOrigin()),this._radius=isNaN(u)?0:l.x-i.project([c,t-u]).x,this._radiusY=l.y-s.y}else{var h=o.unproject(o.project(this._latlng).subtract([this._mRadius,0]));this._point=i.latLngToLayerPoint(this._latlng),this._radius=this._point.x-i.latLngToLayerPoint(h).x}this._updateBounds()}});function ao(t,e,i){return new so(t,e,i)}var lo=oo.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,e){p(this,e),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var e,i,o=1/0,n=null,r=Ri,s=0,a=this._parts.length;s<a;s++)for(var l=this._parts[s],c=1,u=l.length;c<u;c++){var h=r(t,e=l[c-1],i=l[c],!0);h<o&&(o=h,n=r(t,e,i))}return n&&(n.distance=Math.sqrt(o)),n},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ni(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(t,e){return e=e||this._defaultShape(),t=V(t),e.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new B,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return Li(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var e=[],i=Li(t),o=0,n=t.length;o<n;o++)i?(e[o]=V(t[o]),this._bounds.extend(e[o])):e[o]=this._convertLatLngs(t[o]);return e},_project:function(){var t=new k;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),e=new R(t,t);this._rawPxBounds&&(this._pxBounds=new k([this._rawPxBounds.min.subtract(e),this._rawPxBounds.max.add(e)]))},_projectLatlngs:function(t,e,i){var o,n,r=t[0]instanceof j,s=t.length;if(r){for(n=[],o=0;o<s;o++)n[o]=this._map.latLngToLayerPoint(t[o]),i.extend(n[o]);e.push(n)}else for(o=0;o<s;o++)this._projectLatlngs(t[o],e,i)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else{var e,i,o,n,r,s,a,l=this._parts;for(e=0,o=0,n=this._rings.length;e<n;e++)for(i=0,r=(a=this._rings[e]).length;i<r-1;i++)(s=Ti(a[i],a[i+1],t,i,!0))&&(l[o]=l[o]||[],l[o].push(s[0]),s[1]===a[i+1]&&i!==r-2||(l[o].push(s[1]),o++))}},_simplifyPoints:function(){for(var t=this._parts,e=this.options.smoothFactor,i=0,o=t.length;i<o;i++)t[i]=Ei(t[i],e)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,e){var i,o,n,r,s,a,l=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(i=0,r=this._parts.length;i<r;i++)for(o=0,n=(s=(a=this._parts[i]).length)-1;o<s;n=o++)if((e||0!==o)&&Si(t,a[n],a[o])<=l)return!0;return!1}});function co(t,e){return new lo(t,e)}lo._flat=Ii;var uo=lo.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Bi(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(t){var e=lo.prototype._convertLatLngs.call(this,t),i=e.length;return i>=2&&e[0]instanceof j&&e[0].equals(e[i-1])&&e.pop(),e},_setLatLngs:function(t){lo.prototype._setLatLngs.call(this,t),Li(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Li(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,e=this.options.weight,i=new R(e,e);if(t=new k(t.min.subtract(i),t.max.add(i)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else for(var o,n=0,r=this._rings.length;n<r;n++)(o=Fi(this._rings[n],t,!0)).length&&this._parts.push(o)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var e,i,o,n,r,s,a,l,c=!1;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(n=0,a=this._parts.length;n<a;n++)for(r=0,s=(l=(e=this._parts[n]).length)-1;r<l;s=r++)i=e[r],o=e[s],i.y>t.y!=o.y>t.y&&t.x<(o.x-i.x)*(t.y-i.y)/(o.y-i.y)+i.x&&(c=!c);return c||lo.prototype._containsPoint.call(this,t,!0)}});function ho(t,e){return new uo(t,e)}var po=Xi.extend({initialize:function(t,e){p(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e,i,o,n=y(t)?t:t.features;if(n){for(e=0,i=n.length;e<i;e++)((o=n[e]).geometries||o.geometry||o.features||o.coordinates)&&this.addData(o);return this}var r=this.options;if(r.filter&&!r.filter(t))return this;var s=fo(t,r);return s?(s.feature=bo(t),s.defaultOptions=s.options,this.resetStyle(s),r.onEachFeature&&r.onEachFeature(t,s),this.addLayer(s)):this},resetStyle:function(t){return void 0===t?this.eachLayer(this.resetStyle,this):(t.options=i({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(t){return this.eachLayer((function(e){this._setLayerStyle(e,t)}),this)},_setLayerStyle:function(t,e){t.setStyle&&("function"==typeof e&&(e=e(t.feature)),t.setStyle(e))}});function fo(t,e){var i,o,n,r,s="Feature"===t.type?t.geometry:t,a=s?s.coordinates:null,l=[],c=e&&e.pointToLayer,u=e&&e.coordsToLatLng||mo;if(!a&&!s)return null;switch(s.type){case"Point":return go(c,t,i=u(a),e);case"MultiPoint":for(n=0,r=a.length;n<r;n++)i=u(a[n]),l.push(go(c,t,i,e));return new Xi(l);case"LineString":case"MultiLineString":return o=yo(a,"LineString"===s.type?0:1,u),new lo(o,e);case"Polygon":case"MultiPolygon":return o=yo(a,"Polygon"===s.type?1:2,u),new uo(o,e);case"GeometryCollection":for(n=0,r=s.geometries.length;n<r;n++){var h=fo({geometry:s.geometries[n],type:"Feature",properties:t.properties},e);h&&l.push(h)}return new Xi(l);case"FeatureCollection":for(n=0,r=s.features.length;n<r;n++){var d=fo(s.features[n],e);d&&l.push(d)}return new Xi(l);default:throw new Error("Invalid GeoJSON object.")}}function go(t,e,i,o){return t?t(e,i):new eo(i,o&&o.markersInheritOptions&&o)}function mo(t){return new j(t[1],t[0],t[2])}function yo(t,e,i){for(var o,n=[],r=0,s=t.length;r<s;r++)o=e?yo(t[r],e-1,i):(i||mo)(t[r]),n.push(o);return n}function vo(t,e){return void 0!==(t=V(t)).alt?[u(t.lng,e),u(t.lat,e),u(t.alt,e)]:[u(t.lng,e),u(t.lat,e)]}function _o(t,e,i,o){for(var n=[],r=0,s=t.length;r<s;r++)n.push(e?_o(t[r],Li(t[r])?0:e-1,i,o):vo(t[r],o));return!e&&i&&n.push(n[0].slice()),n}function Co(t,e){return t.feature?i({},t.feature,{geometry:e}):bo(e)}function bo(t){return"Feature"===t.type||"FeatureCollection"===t.type?t:{type:"Feature",properties:{},geometry:t}}var Eo={toGeoJSON:function(t){return Co(this,{type:"Point",coordinates:vo(this.getLatLng(),t)})}};function So(t,e){return new po(t,e)}eo.include(Eo),so.include(Eo),no.include(Eo),lo.include({toGeoJSON:function(t){var e=!Li(this._latlngs);return Co(this,{type:(e?"Multi":"")+"LineString",coordinates:_o(this._latlngs,e?1:0,!1,t)})}}),uo.include({toGeoJSON:function(t){var e=!Li(this._latlngs),i=e&&!Li(this._latlngs[0]),o=_o(this._latlngs,i?2:e?1:0,!0,t);return e||(o=[o]),Co(this,{type:(i?"Multi":"")+"Polygon",coordinates:o})}}),Ki.include({toMultiPoint:function(t){var e=[];return this.eachLayer((function(i){e.push(i.toGeoJSON(t).geometry.coordinates)})),Co(this,{type:"MultiPoint",coordinates:e})},toGeoJSON:function(t){var e=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===e)return this.toMultiPoint(t);var i="GeometryCollection"===e,o=[];return this.eachLayer((function(e){if(e.toGeoJSON){var n=e.toGeoJSON(t);if(i)o.push(n.geometry);else{var r=bo(n);"FeatureCollection"===r.type?o.push.apply(o,r.features):o.push(r)}}})),i?Co(this,{geometries:o,type:"GeometryCollection"}):{type:"FeatureCollection",features:o}}});var wo=So,Oo=zi.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,e,i){this._url=t,this._bounds=G(e),p(this,i)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(be(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){me(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&ve(this._image),this},bringToBack:function(){return this._map&&_e(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=G(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t="IMG"===this._url.tagName,e=this._image=t?this._url:ge("img");be(e,"leaflet-image-layer"),this._zoomAnimated&&be(e,"leaflet-zoom-animated"),this.options.className&&be(e,this.options.className),e.onselectstart=c,e.onmousemove=c,e.onload=n(this.fire,this,"load"),e.onerror=n(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(e.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t?this._url=e.src:(e.src=this._url,e.alt=this.options.alt)},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),i=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;Te(this._image,i,e)},_reset:function(){var t=this._image,e=new k(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),i=e.getSize();Me(t,e.min),t.style.width=i.x+"px",t.style.height=i.y+"px"},_updateOpacity:function(){Oe(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)},getCenter:function(){return this._bounds.getCenter()}}),xo=function(t,e,i){return new Oo(t,e,i)},Po=Oo.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var t="VIDEO"===this._url.tagName,e=this._image=t?this._url:ge("video");if(be(e,"leaflet-image-layer"),this._zoomAnimated&&be(e,"leaflet-zoom-animated"),this.options.className&&be(e,this.options.className),e.onselectstart=c,e.onmousemove=c,e.onloadeddata=n(this.fire,this,"load"),t){for(var i=e.getElementsByTagName("source"),o=[],r=0;r<i.length;r++)o.push(i[r].src);this._url=i.length>0?o:[e.src]}else{y(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(e.style,"objectFit")&&(e.style.objectFit="fill"),e.autoplay=!!this.options.autoplay,e.loop=!!this.options.loop,e.muted=!!this.options.muted,e.playsInline=!!this.options.playsInline;for(var s=0;s<this._url.length;s++){var a=ge("source");a.src=this._url[s],e.appendChild(a)}}}});function To(t,e,i){return new Po(t,e,i)}var Mo=Oo.extend({_initImage:function(){var t=this._image=this._url;be(t,"leaflet-image-layer"),this._zoomAnimated&&be(t,"leaflet-zoom-animated"),this.options.className&&be(t,this.options.className),t.onselectstart=c,t.onmousemove=c}});function Do(t,e,i){return new Mo(t,e,i)}var Ao=zi.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(t,e){t&&(t instanceof j||y(t))?(this._latlng=V(t),p(this,e)):(p(this,t),this._source=e),this.options.content&&(this._content=this.options.content)},openOn:function(t){return(t=arguments.length?t:this._source._map).hasLayer(this)||t.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(t){return this._map?this.close():(arguments.length?this._source=t:t=this._source,this._prepareOpen(),this.openOn(t._map)),this},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&Oe(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&Oe(this._container,1),this.bringToFront(),this.options.interactive&&(be(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(t){t._fadeAnimated?(Oe(this._container,0),this._removeTimeout=setTimeout(n(me,void 0,this._container),200)):me(this._container),this.options.interactive&&(Ee(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=V(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&ve(this._container),this},bringToBack:function(){return this._map&&_e(this._container),this},_prepareOpen:function(t){var e=this._source;if(!e._map)return!1;if(e instanceof Xi){e=null;var i=this._source._layers;for(var o in i)if(i[o]._map){e=i[o];break}if(!e)return!1;this._source=e}if(!t)if(e.getCenter)t=e.getCenter();else if(e.getLatLng)t=e.getLatLng();else{if(!e.getBounds)throw new Error("Unable to get source layer LatLng.");t=e.getBounds().getCenter()}return this.setLatLng(t),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var t=this._contentNode,e="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof e)t.innerHTML=e;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(e)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=N(this.options.offset),i=this._getAnchor();this._zoomAnimated?Me(this._container,t.add(i)):e=e.add(t).add(i);var o=this._containerBottom=-e.y,n=this._containerLeft=-Math.round(this._containerWidth/2)+e.x;this._container.style.bottom=o+"px",this._container.style.left=n+"px"}},_getAnchor:function(){return[0,0]}});ni.include({_initOverlay:function(t,e,i,o){var n=e;return n instanceof t||(n=new t(o).setContent(e)),i&&n.setLatLng(i),n}}),zi.include({_initOverlay:function(t,e,i,o){var n=i;return n instanceof t?(p(n,o),n._source=this):(n=e&&!o?e:new t(o,this)).setContent(i),n}});var Ro=Ao.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return!(t=arguments.length?t:this._source._map).hasLayer(this)&&t._popup&&t._popup.options.autoClose&&t.removeLayer(t._popup),t._popup=this,Ao.prototype.openOn.call(this,t)},onAdd:function(t){Ao.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof oo||this._source.on("preclick",ze))},onRemove:function(t){Ao.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof oo||this._source.off("preclick",ze))},getEvents:function(){var t=Ao.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this.close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_initLayout:function(){var t="leaflet-popup",e=this._container=ge("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),i=this._wrapper=ge("div",t+"-content-wrapper",e);if(this._contentNode=ge("div",t+"-content",i),Ye(e),Ke(this._contentNode),Ge(e,"contextmenu",ze),this._tipContainer=ge("div",t+"-tip-container",e),this._tip=ge("div",t+"-tip",this._tipContainer),this.options.closeButton){var o=this._closeButton=ge("a",t+"-close-button",e);o.setAttribute("role","button"),o.setAttribute("aria-label","Close popup"),o.href="#close",o.innerHTML='<span aria-hidden="true">&#215;</span>',Ge(o,"click",(function(t){Xe(t),this.close()}),this)}},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var i=t.offsetWidth;i=Math.min(i,this.options.maxWidth),i=Math.max(i,this.options.minWidth),e.width=i+1+"px",e.whiteSpace="",e.height="";var o=t.offsetHeight,n=this.options.maxHeight,r="leaflet-popup-scrolled";n&&o>n?(e.height=n+"px",be(t,r)):Ee(t,r),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),i=this._getAnchor();Me(this._container,e.add(i))},_adjustPan:function(){if(this.options.autoPan)if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning)this._autopanning=!1;else{var t=this._map,e=parseInt(fe(this._container,"marginBottom"),10)||0,i=this._container.offsetHeight+e,o=this._containerWidth,n=new R(this._containerLeft,-i-this._containerBottom);n._add(De(this._container));var r=t.layerPointToContainerPoint(n),s=N(this.options.autoPanPadding),a=N(this.options.autoPanPaddingTopLeft||s),l=N(this.options.autoPanPaddingBottomRight||s),c=t.getSize(),u=0,h=0;r.x+o+l.x>c.x&&(u=r.x+o-c.x+l.x),r.x-u-a.x<0&&(u=r.x-a.x),r.y+i+l.y>c.y&&(h=r.y+i-c.y+l.y),r.y-h-a.y<0&&(h=r.y-a.y),(u||h)&&(this.options.keepInView&&(this._autopanning=!0),t.fire("autopanstart").panBy([u,h]))}},_getAnchor:function(){return N(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Lo=function(t,e){return new Ro(t,e)};ni.mergeOptions({closePopupOnClick:!0}),ni.include({openPopup:function(t,e,i){return this._initOverlay(Ro,t,e,i).openOn(this),this},closePopup:function(t){return(t=arguments.length?t:this._popup)&&t.close(),this}}),zi.include({bindPopup:function(t,e){return this._popup=this._initOverlay(Ro,this._popup,t,e),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t){return this._popup&&(this instanceof Xi||(this._popup._source=this),this._popup._prepareOpen(t||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){if(this._popup&&this._map){Ze(t);var e=t.layer||t.target;this._popup._source!==e||e instanceof oo?(this._popup._source=e,this.openPopup(t.latlng)):this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(t.latlng)}},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){13===t.originalEvent.keyCode&&this._openPopup(t)}});var Io=Ao.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(t){Ao.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(t){Ao.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var t=Ao.prototype.getEvents.call(this);return this.options.permanent||(t.preclick=this.close),t},_initLayout:function(){var t="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ge("div",t),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+s(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var e,i,o=this._map,n=this._container,r=o.latLngToContainerPoint(o.getCenter()),s=o.layerPointToContainerPoint(t),a=this.options.direction,l=n.offsetWidth,c=n.offsetHeight,u=N(this.options.offset),h=this._getAnchor();"top"===a?(e=l/2,i=c):"bottom"===a?(e=l/2,i=0):"center"===a?(e=l/2,i=c/2):"right"===a?(e=0,i=c/2):"left"===a?(e=l,i=c/2):s.x<r.x?(a="right",e=0,i=c/2):(a="left",e=l+2*(u.x+h.x),i=c/2),t=t.subtract(N(e,i,!0)).add(u).add(h),Ee(n,"leaflet-tooltip-right"),Ee(n,"leaflet-tooltip-left"),Ee(n,"leaflet-tooltip-top"),Ee(n,"leaflet-tooltip-bottom"),be(n,"leaflet-tooltip-"+a),Me(n,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&Oe(this._container,t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(e)},_getAnchor:function(){return N(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),No=function(t,e){return new Io(t,e)};ni.include({openTooltip:function(t,e,i){return this._initOverlay(Io,t,e,i).openOn(this),this},closeTooltip:function(t){return t.close(),this}}),zi.include({bindTooltip:function(t,e){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Io,this._tooltip,t,e),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(t||!this._tooltipHandlersAdded){var e=t?"off":"on",i={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?i.add=this._openTooltip:(i.mouseover=this._openTooltip,i.mouseout=this.closeTooltip,i.click=this._openTooltip,this._map?this._addFocusListeners():i.add=this._addFocusListeners),this._tooltip.options.sticky&&(i.mousemove=this._moveTooltip),this[e](i),this._tooltipHandlersAdded=!t}},openTooltip:function(t){return this._tooltip&&(this instanceof Xi||(this._tooltip._source=this),this._tooltip._prepareOpen(t)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(t){var e=t.getElement();e&&(Ge(e,"focus",(function(){this._tooltip._source=t,this.openTooltip()}),this),Ge(e,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(t){var e=t.getElement();e&&e.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(t){!this._tooltip||!this._map||this._map.dragging&&this._map.dragging.moving()||(this._tooltip._source=t.layer||t.target,this.openTooltip(this._tooltip.options.sticky?t.latlng:void 0))},_moveTooltip:function(t){var e,i,o=t.latlng;this._tooltip.options.sticky&&t.originalEvent&&(e=this._map.mouseEventToContainerPoint(t.originalEvent),i=this._map.containerPointToLayerPoint(e),o=this._map.layerPointToLatLng(i)),this._tooltip.setLatLng(o)}});var ko=qi.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var e=t&&"DIV"===t.tagName?t:document.createElement("div"),i=this.options;if(i.html instanceof Element?(ye(e),e.appendChild(i.html)):e.innerHTML=!1!==i.html?i.html:"",i.bgPos){var o=N(i.bgPos);e.style.backgroundPosition=-o.x+"px "+-o.y+"px"}return this._setIconStyles(e,"icon"),e},createShadow:function(){return null}});function Fo(t){return new ko(t)}qi.Default=Qi;var Bo=zi.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Bt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){p(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),me(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(ve(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(_e(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var t=this._clampZoom(this._map.getZoom());t!==this._tileZoom&&(this._tileZoom=t,this._updateLevels()),this._update()}return this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=a(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof R?t:new R(t,t)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var e,i=this.getPane().children,o=-t(-1/0,1/0),n=0,r=i.length;n<r;n++)e=i[n].style.zIndex,i[n]!==this._container&&e&&(o=t(o,+e));isFinite(o)&&(this.options.zIndex=o+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Bt.ielt9){Oe(this._container,this.options.opacity);var t=+new Date,e=!1,i=!1;for(var o in this._tiles){var n=this._tiles[o];if(n.current&&n.loaded){var r=Math.min(1,(t-n.loaded)/200);Oe(n.el,r),r<1?e=!0:(n.active?i=!0:this._onOpaqueTile(n),n.active=!0)}}i&&!this._noPrune&&this._pruneTiles(),e&&(x(this._fadeFrame),this._fadeFrame=O(this._updateOpacity,this))}},_onOpaqueTile:c,_initContainer:function(){this._container||(this._container=ge("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,e=this.options.maxZoom;if(void 0!==t){for(var i in this._levels)i=Number(i),this._levels[i].el.children.length||i===t?(this._levels[i].el.style.zIndex=e-Math.abs(t-i),this._onUpdateLevel(i)):(me(this._levels[i].el),this._removeTilesAtZoom(i),this._onRemoveLevel(i),delete this._levels[i]);var o=this._levels[t],n=this._map;return o||((o=this._levels[t]={}).el=ge("div","leaflet-tile-container leaflet-zoom-animated",this._container),o.el.style.zIndex=e,o.origin=n.project(n.unproject(n.getPixelOrigin()),t).round(),o.zoom=t,this._setZoomTransform(o,n.getCenter(),n.getZoom()),c(o.el.offsetWidth),this._onCreateLevel(o)),this._level=o,o}},_onUpdateLevel:c,_onRemoveLevel:c,_onCreateLevel:c,_pruneTiles:function(){if(this._map){var t,e,i=this._map.getZoom();if(i>this.options.maxZoom||i<this.options.minZoom)this._removeAllTiles();else{for(t in this._tiles)(e=this._tiles[t]).retain=e.current;for(t in this._tiles)if((e=this._tiles[t]).current&&!e.active){var o=e.coords;this._retainParent(o.x,o.y,o.z,o.z-5)||this._retainChildren(o.x,o.y,o.z,o.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}}},_removeTilesAtZoom:function(t){for(var e in this._tiles)this._tiles[e].coords.z===t&&this._removeTile(e)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)me(this._levels[t].el),this._onRemoveLevel(Number(t)),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,e,i,o){var n=Math.floor(t/2),r=Math.floor(e/2),s=i-1,a=new R(+n,+r);a.z=+s;var l=this._tileCoordsToKey(a),c=this._tiles[l];return c&&c.active?(c.retain=!0,!0):(c&&c.loaded&&(c.retain=!0),s>o&&this._retainParent(n,r,s,o))},_retainChildren:function(t,e,i,o){for(var n=2*t;n<2*t+2;n++)for(var r=2*e;r<2*e+2;r++){var s=new R(n,r);s.z=i+1;var a=this._tileCoordsToKey(s),l=this._tiles[a];l&&l.active?l.retain=!0:(l&&l.loaded&&(l.retain=!0),i+1<o&&this._retainChildren(n,r,i+1,o))}},_resetView:function(t){var e=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),e,e)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var e=this.options;return void 0!==e.minNativeZoom&&t<e.minNativeZoom?e.minNativeZoom:void 0!==e.maxNativeZoom&&e.maxNativeZoom<t?e.maxNativeZoom:t},_setView:function(t,e,i,o){var n=Math.round(e);n=void 0!==this.options.maxZoom&&n>this.options.maxZoom||void 0!==this.options.minZoom&&n<this.options.minZoom?void 0:this._clampZoom(n);var r=this.options.updateWhenZooming&&n!==this._tileZoom;o&&!r||(this._tileZoom=n,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==n&&this._update(t),i||this._pruneTiles(),this._noPrune=!!i),this._setZoomTransforms(t,e)},_setZoomTransforms:function(t,e){for(var i in this._levels)this._setZoomTransform(this._levels[i],t,e)},_setZoomTransform:function(t,e,i){var o=this._map.getZoomScale(i,t.zoom),n=t.origin.multiplyBy(o).subtract(this._map._getNewPixelOrigin(e,i)).round();Bt.any3d?Te(t.el,n,o):Me(t.el,n)},_resetGrid:function(){var t=this._map,e=t.options.crs,i=this._tileSize=this.getTileSize(),o=this._tileZoom,n=this._map.getPixelWorldBounds(this._tileZoom);n&&(this._globalTileRange=this._pxBoundsToTileRange(n)),this._wrapX=e.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,e.wrapLng[0]],o).x/i.x),Math.ceil(t.project([0,e.wrapLng[1]],o).x/i.y)],this._wrapY=e.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([e.wrapLat[0],0],o).y/i.x),Math.ceil(t.project([e.wrapLat[1],0],o).y/i.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(t){var e=this._map,i=e._animatingZoom?Math.max(e._animateToZoom,e.getZoom()):e.getZoom(),o=e.getZoomScale(i,this._tileZoom),n=e.project(t,this._tileZoom).floor(),r=e.getSize().divideBy(2*o);return new k(n.subtract(r),n.add(r))},_update:function(t){var e=this._map;if(e){var i=this._clampZoom(e.getZoom());if(void 0===t&&(t=e.getCenter()),void 0!==this._tileZoom){var o=this._getTiledPixelBounds(t),n=this._pxBoundsToTileRange(o),r=n.getCenter(),s=[],a=this.options.keepBuffer,l=new k(n.getBottomLeft().subtract([a,-a]),n.getTopRight().add([a,-a]));if(!(isFinite(n.min.x)&&isFinite(n.min.y)&&isFinite(n.max.x)&&isFinite(n.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var c in this._tiles){var u=this._tiles[c].coords;u.z===this._tileZoom&&l.contains(new R(u.x,u.y))||(this._tiles[c].current=!1)}if(Math.abs(i-this._tileZoom)>1)this._setView(t,i);else{for(var h=n.min.y;h<=n.max.y;h++)for(var d=n.min.x;d<=n.max.x;d++){var p=new R(d,h);if(p.z=this._tileZoom,this._isValidTile(p)){var f=this._tiles[this._tileCoordsToKey(p)];f?f.current=!0:s.push(p)}}if(s.sort((function(t,e){return t.distanceTo(r)-e.distanceTo(r)})),0!==s.length){this._loading||(this._loading=!0,this.fire("loading"));var g=document.createDocumentFragment();for(d=0;d<s.length;d++)this._addTile(s[d],g);this._level.el.appendChild(g)}}}}},_isValidTile:function(t){var e=this._map.options.crs;if(!e.infinite){var i=this._globalTileRange;if(!e.wrapLng&&(t.x<i.min.x||t.x>i.max.x)||!e.wrapLat&&(t.y<i.min.y||t.y>i.max.y))return!1}if(!this.options.bounds)return!0;var o=this._tileCoordsToBounds(t);return G(this.options.bounds).overlaps(o)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var e=this._map,i=this.getTileSize(),o=t.scaleBy(i),n=o.add(i);return[e.unproject(o,t.z),e.unproject(n,t.z)]},_tileCoordsToBounds:function(t){var e=this._tileCoordsToNwSe(t),i=new B(e[0],e[1]);return this.options.noWrap||(i=this._map.wrapLatLngBounds(i)),i},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var e=t.split(":"),i=new R(+e[0],+e[1]);return i.z=+e[2],i},_removeTile:function(t){var e=this._tiles[t];e&&(me(e.el),delete this._tiles[t],this.fire("tileunload",{tile:e.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){be(t,"leaflet-tile");var e=this.getTileSize();t.style.width=e.x+"px",t.style.height=e.y+"px",t.onselectstart=c,t.onmousemove=c,Bt.ielt9&&this.options.opacity<1&&Oe(t,this.options.opacity)},_addTile:function(t,e){var i=this._getTilePos(t),o=this._tileCoordsToKey(t),r=this.createTile(this._wrapCoords(t),n(this._tileReady,this,t));this._initTile(r),this.createTile.length<2&&O(n(this._tileReady,this,t,null,r)),Me(r,i),this._tiles[o]={el:r,coords:t,current:!0},e.appendChild(r),this.fire("tileloadstart",{tile:r,coords:t})},_tileReady:function(t,e,i){e&&this.fire("tileerror",{error:e,tile:i,coords:t});var o=this._tileCoordsToKey(t);(i=this._tiles[o])&&(i.loaded=+new Date,this._map._fadeAnimated?(Oe(i.el,0),x(this._fadeFrame),this._fadeFrame=O(this._updateOpacity,this)):(i.active=!0,this._pruneTiles()),e||(be(i.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:i.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Bt.ielt9||!this._map._fadeAnimated?O(this._pruneTiles,this):setTimeout(n(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var e=new R(this._wrapX?l(t.x,this._wrapX):t.x,this._wrapY?l(t.y,this._wrapY):t.y);return e.z=t.z,e},_pxBoundsToTileRange:function(t){var e=this.getTileSize();return new k(t.min.unscaleBy(e).floor(),t.max.unscaleBy(e).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}});function Go(t){return new Bo(t)}var jo=Bo.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(t,e){this._url=t,(e=p(this,e)).detectRetina&&Bt.retina&&e.maxZoom>0?(e.tileSize=Math.floor(e.tileSize/2),e.zoomReverse?(e.zoomOffset--,e.minZoom=Math.min(e.maxZoom,e.minZoom+1)):(e.zoomOffset++,e.maxZoom=Math.max(e.minZoom,e.maxZoom-1)),e.minZoom=Math.max(0,e.minZoom)):e.zoomReverse?e.minZoom=Math.min(e.maxZoom,e.minZoom):e.maxZoom=Math.max(e.minZoom,e.maxZoom),"string"==typeof e.subdomains&&(e.subdomains=e.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(t,e){return this._url===t&&void 0===e&&(e=!0),this._url=t,e||this.redraw(),this},createTile:function(t,e){var i=document.createElement("img");return Ge(i,"load",n(this._tileOnLoad,this,e,i)),Ge(i,"error",n(this._tileOnError,this,e,i)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(i.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),"string"==typeof this.options.referrerPolicy&&(i.referrerPolicy=this.options.referrerPolicy),i.alt="",i.src=this.getTileUrl(t),i},getTileUrl:function(t){var e={r:Bt.retina?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var o=this._globalTileRange.max.y-t.y;this.options.tms&&(e.y=o),e["-y"]=o}return m(this._url,i(e,this.options))},_tileOnLoad:function(t,e){Bt.ielt9?setTimeout(n(t,this,null,e),0):t(null,e)},_tileOnError:function(t,e,i){var o=this.options.errorTileUrl;o&&e.getAttribute("src")!==o&&(e.src=o),t(i,e)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,e=this.options.maxZoom;return this.options.zoomReverse&&(t=e-t),t+this.options.zoomOffset},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_abortLoading:function(){var t,e;for(t in this._tiles)if(this._tiles[t].coords.z!==this._tileZoom&&((e=this._tiles[t].el).onload=c,e.onerror=c,!e.complete)){e.src=_;var i=this._tiles[t].coords;me(e),delete this._tiles[t],this.fire("tileabort",{tile:e,coords:i})}},_removeTile:function(t){var e=this._tiles[t];if(e)return e.el.setAttribute("src",_),Bo.prototype._removeTile.call(this,t)},_tileReady:function(t,e,i){if(this._map&&(!i||i.getAttribute("src")!==_))return Bo.prototype._tileReady.call(this,t,e,i)}});function Vo(t,e){return new jo(t,e)}var Uo=jo.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,e){this._url=t;var o=i({},this.defaultWmsParams);for(var n in e)n in this.options||(o[n]=e[n]);var r=(e=p(this,e)).detectRetina&&Bt.retina?2:1,s=this.getTileSize();o.width=s.x*r,o.height=s.y*r,this.wmsParams=o},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var e=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[e]=this._crs.code,jo.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._tileCoordsToNwSe(t),i=this._crs,o=F(i.project(e[0]),i.project(e[1])),n=o.min,r=o.max,s=(this._wmsVersion>=1.3&&this._crs===Hi?[n.y,n.x,r.y,r.x]:[n.x,n.y,r.x,r.y]).join(","),a=jo.prototype.getTileUrl.call(this,t);return a+f(this.wmsParams,a,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+s},setParams:function(t,e){return i(this.wmsParams,t),e||this.redraw(),this}});function Wo(t,e){return new Uo(t,e)}jo.WMS=Uo,Vo.wms=Wo;var Ho=zi.extend({options:{padding:.1},initialize:function(t){p(this,t),s(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&be(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,e){var i=this._map.getZoomScale(e,this._zoom),o=this._map.getSize().multiplyBy(.5+this.options.padding),n=this._map.project(this._center,e),r=o.multiplyBy(-i).add(n).subtract(this._map._getNewPixelOrigin(t,e));Bt.any3d?Te(this._container,r,i):Me(this._container,r)},_reset:function(){for(var t in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,e=this._map.getSize(),i=this._map.containerPointToLayerPoint(e.multiplyBy(-t)).round();this._bounds=new k(i,i.add(e.multiplyBy(1+2*t)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),$o=Ho.extend({options:{tolerance:0},getEvents:function(){var t=Ho.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Ho.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");Ge(t,"mousemove",this._onMouseMove,this),Ge(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ge(t,"mouseout",this._handleMouseOut,this),t._leaflet_disable_events=!0,this._ctx=t.getContext("2d")},_destroyContainer:function(){x(this._redrawRequest),delete this._ctx,me(this._container),Ve(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var t in this._redrawBounds=null,this._layers)this._layers[t]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){Ho.prototype._update.call(this);var t=this._bounds,e=this._container,i=t.getSize(),o=Bt.retina?2:1;Me(e,t.min),e.width=o*i.x,e.height=o*i.y,e.style.width=i.x+"px",e.style.height=i.y+"px",Bt.retina&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){Ho.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[s(t)]=t;var e=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=e),this._drawLast=e,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var e=t._order,i=e.next,o=e.prev;i?i.prev=o:this._drawLast=o,o?o.next=i:this._drawFirst=i,delete t._order,delete this._layers[s(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if("string"==typeof t.options.dashArray){var e,i,o=t.options.dashArray.split(/[, ]+/),n=[];for(i=0;i<o.length;i++){if(e=Number(o[i]),isNaN(e))return;n.push(e)}t.options._dashArray=n}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||O(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var e=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new k,this._redrawBounds.extend(t._pxBounds.min.subtract([e,e])),this._redrawBounds.extend(t._pxBounds.max.add([e,e]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var e=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,e.x,e.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var t,e=this._redrawBounds;if(this._ctx.save(),e){var i=e.getSize();this._ctx.beginPath(),this._ctx.rect(e.min.x,e.min.y,i.x,i.y),this._ctx.clip()}this._drawing=!0;for(var o=this._drawFirst;o;o=o.next)t=o.layer,(!e||t._pxBounds&&t._pxBounds.intersects(e))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,e){if(this._drawing){var i,o,n,r,s=t._parts,a=s.length,l=this._ctx;if(a){for(l.beginPath(),i=0;i<a;i++){for(o=0,n=s[i].length;o<n;o++)r=s[i][o],l[o?"lineTo":"moveTo"](r.x,r.y);e&&l.closePath()}this._fillStroke(l,t)}}},_updateCircle:function(t){if(this._drawing&&!t._empty()){var e=t._point,i=this._ctx,o=Math.max(Math.round(t._radius),1),n=(Math.max(Math.round(t._radiusY),1)||o)/o;1!==n&&(i.save(),i.scale(1,n)),i.beginPath(),i.arc(e.x,e.y/n,o,0,2*Math.PI,!1),1!==n&&i.restore(),this._fillStroke(i,t)}},_fillStroke:function(t,e){var i=e.options;i.fill&&(t.globalAlpha=i.fillOpacity,t.fillStyle=i.fillColor||i.color,t.fill(i.fillRule||"evenodd")),i.stroke&&0!==i.weight&&(t.setLineDash&&t.setLineDash(e.options&&e.options._dashArray||[]),t.globalAlpha=i.opacity,t.lineWidth=i.weight,t.strokeStyle=i.color,t.lineCap=i.lineCap,t.lineJoin=i.lineJoin,t.stroke())},_onClick:function(t){for(var e,i,o=this._map.mouseEventToLayerPoint(t),n=this._drawFirst;n;n=n.next)(e=n.layer).options.interactive&&e._containsPoint(o)&&("click"!==t.type&&"preclick"!==t.type||!this._map._draggableMoved(e))&&(i=e);this._fireEvent(!!i&&[i],t)},_onMouseMove:function(t){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var e=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,e)}},_handleMouseOut:function(t){var e=this._hoveredLayer;e&&(Ee(this._container,"leaflet-interactive"),this._fireEvent([e],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,e){if(!this._mouseHoverThrottled){for(var i,o,r=this._drawFirst;r;r=r.next)(i=r.layer).options.interactive&&i._containsPoint(e)&&(o=i);o!==this._hoveredLayer&&(this._handleMouseOut(t),o&&(be(this._container,"leaflet-interactive"),this._fireEvent([o],t,"mouseover"),this._hoveredLayer=o)),this._fireEvent(!!this._hoveredLayer&&[this._hoveredLayer],t),this._mouseHoverThrottled=!0,setTimeout(n((function(){this._mouseHoverThrottled=!1}),this),32)}},_fireEvent:function(t,e,i){this._map._fireDOMEvent(e,i||e.type,t)},_bringToFront:function(t){var e=t._order;if(e){var i=e.next,o=e.prev;i&&(i.prev=o,o?o.next=i:i&&(this._drawFirst=i),e.prev=this._drawLast,this._drawLast.next=e,e.next=null,this._drawLast=e,this._requestRedraw(t))}},_bringToBack:function(t){var e=t._order;if(e){var i=e.next,o=e.prev;o&&(o.next=i,i?i.prev=o:o&&(this._drawLast=o),e.prev=null,e.next=this._drawFirst,this._drawFirst.prev=e,this._drawFirst=e,this._requestRedraw(t))}}});function zo(t){return Bt.canvas?new $o(t):null}var Ko=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch(t){}return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Yo={_initContainer:function(){this._container=ge("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Ho.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var e=t._container=Ko("shape");be(e,"leaflet-vml-shape "+(this.options.className||"")),e.coordsize="1 1",t._path=Ko("path"),e.appendChild(t._path),this._updateStyle(t),this._layers[s(t)]=t},_addPath:function(t){var e=t._container;this._container.appendChild(e),t.options.interactive&&t.addInteractiveTarget(e)},_removePath:function(t){var e=t._container;me(e),t.removeInteractiveTarget(e),delete this._layers[s(t)]},_updateStyle:function(t){var e=t._stroke,i=t._fill,o=t.options,n=t._container;n.stroked=!!o.stroke,n.filled=!!o.fill,o.stroke?(e||(e=t._stroke=Ko("stroke")),n.appendChild(e),e.weight=o.weight+"px",e.color=o.color,e.opacity=o.opacity,o.dashArray?e.dashStyle=y(o.dashArray)?o.dashArray.join(" "):o.dashArray.replace(/( *, *)/g," "):e.dashStyle="",e.endcap=o.lineCap.replace("butt","flat"),e.joinstyle=o.lineJoin):e&&(n.removeChild(e),t._stroke=null),o.fill?(i||(i=t._fill=Ko("fill")),n.appendChild(i),i.color=o.fillColor||o.color,i.opacity=o.fillOpacity):i&&(n.removeChild(i),t._fill=null)},_updateCircle:function(t){var e=t._point.round(),i=Math.round(t._radius),o=Math.round(t._radiusY||i);this._setPath(t,t._empty()?"M0 0":"AL "+e.x+","+e.y+" "+i+","+o+" 0,23592600")},_setPath:function(t,e){t._path.v=e},_bringToFront:function(t){ve(t._container)},_bringToBack:function(t){_e(t._container)}},Xo=Bt.vml?Ko:q,Zo=Ho.extend({_initContainer:function(){this._container=Xo("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Xo("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){me(this._container),Ve(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!this._map._animatingZoom||!this._bounds){Ho.prototype._update.call(this);var t=this._bounds,e=t.getSize(),i=this._container;this._svgSize&&this._svgSize.equals(e)||(this._svgSize=e,i.setAttribute("width",e.x),i.setAttribute("height",e.y)),Me(i,t.min),i.setAttribute("viewBox",[t.min.x,t.min.y,e.x,e.y].join(" ")),this.fire("update")}},_initPath:function(t){var e=t._path=Xo("path");t.options.className&&be(e,t.options.className),t.options.interactive&&be(e,"leaflet-interactive"),this._updateStyle(t),this._layers[s(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){me(t._path),t.removeInteractiveTarget(t._path),delete this._layers[s(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var e=t._path,i=t.options;e&&(i.stroke?(e.setAttribute("stroke",i.color),e.setAttribute("stroke-opacity",i.opacity),e.setAttribute("stroke-width",i.weight),e.setAttribute("stroke-linecap",i.lineCap),e.setAttribute("stroke-linejoin",i.lineJoin),i.dashArray?e.setAttribute("stroke-dasharray",i.dashArray):e.removeAttribute("stroke-dasharray"),i.dashOffset?e.setAttribute("stroke-dashoffset",i.dashOffset):e.removeAttribute("stroke-dashoffset")):e.setAttribute("stroke","none"),i.fill?(e.setAttribute("fill",i.fillColor||i.color),e.setAttribute("fill-opacity",i.fillOpacity),e.setAttribute("fill-rule",i.fillRule||"evenodd")):e.setAttribute("fill","none"))},_updatePoly:function(t,e){this._setPath(t,J(t._parts,e))},_updateCircle:function(t){var e=t._point,i=Math.max(Math.round(t._radius),1),o="a"+i+","+(Math.max(Math.round(t._radiusY),1)||i)+" 0 1,0 ",n=t._empty()?"M0 0":"M"+(e.x-i)+","+e.y+o+2*i+",0 "+o+2*-i+",0 ";this._setPath(t,n)},_setPath:function(t,e){t._path.setAttribute("d",e)},_bringToFront:function(t){ve(t._path)},_bringToBack:function(t){_e(t._path)}});function qo(t){return Bt.svg||Bt.vml?new Zo(t):null}Bt.vml&&Zo.include(Yo),ni.include({getRenderer:function(t){var e=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return e||(e=this._renderer=this._createRenderer()),this.hasLayer(e)||this.addLayer(e),e},_getPaneRenderer:function(t){if("overlayPane"===t||void 0===t)return!1;var e=this._paneRenderers[t];return void 0===e&&(e=this._createRenderer({pane:t}),this._paneRenderers[t]=e),e},_createRenderer:function(t){return this.options.preferCanvas&&zo(t)||qo(t)}});var Jo=uo.extend({initialize:function(t,e){uo.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return[(t=G(t)).getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});function Qo(t,e){return new Jo(t,e)}Zo.create=Xo,Zo.pointsToPath=J,po.geometryToLayer=fo,po.coordsToLatLng=mo,po.coordsToLatLngs=yo,po.latLngToCoords=vo,po.latLngsToCoords=_o,po.getFeature=Co,po.asFeature=bo,ni.mergeOptions({boxZoom:!0});var tn=yi.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){Ge(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Ve(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){me(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||1!==t.which&&1!==t.button)return!1;this._clearDeferredResetState(),this._resetState(),re(),Re(),this._startPoint=this._map.mouseEventToContainerPoint(t),Ge(document,{contextmenu:Ze,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=ge("div","leaflet-zoom-box",this._container),be(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var e=new k(this._point,this._startPoint),i=e.getSize();Me(this._box,e.min),this._box.style.width=i.x+"px",this._box.style.height=i.y+"px"},_finish:function(){this._moved&&(me(this._box),Ee(this._container,"leaflet-crosshair")),se(),Le(),Ve(document,{contextmenu:Ze,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if((1===t.which||1===t.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(n(this._resetState,this),0);var e=new B(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(e).fire("boxzoomend",{boxZoomBounds:e})}},_onKeyDown:function(t){27===t.keyCode&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});ni.addInitHook("addHandler","boxZoom",tn),ni.mergeOptions({doubleClickZoom:!0});var en=yi.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,i=e.getZoom(),o=e.options.zoomDelta,n=t.originalEvent.shiftKey?i-o:i+o;"center"===e.options.doubleClickZoom?e.setZoom(n):e.setZoomAround(t.containerPoint,n)}});ni.addInitHook("addHandler","doubleClickZoom",en),ni.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var on=yi.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new bi(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}be(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Ee(this._map._container,"leaflet-grab"),Ee(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var e=G(this._map.options.maxBounds);this._offsetLimit=F(this._map.latLngToContainerPoint(e.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(e.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var e=this._lastTime=+new Date,i=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(i),this._times.push(e),this._prunePositions(e)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,e){return t-(t-e)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var t=this._draggable._newPos.subtract(this._draggable._startPos),e=this._offsetLimit;t.x<e.min.x&&(t.x=this._viscousLimit(t.x,e.min.x)),t.y<e.min.y&&(t.y=this._viscousLimit(t.y,e.min.y)),t.x>e.max.x&&(t.x=this._viscousLimit(t.x,e.max.x)),t.y>e.max.y&&(t.y=this._viscousLimit(t.y,e.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,e=Math.round(t/2),i=this._initialWorldOffset,o=this._draggable._newPos.x,n=(o-e+i)%t+e-i,r=(o+e+i)%t-e-i,s=Math.abs(n+i)<Math.abs(r+i)?n:r;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=s},_onDragEnd:function(t){var e=this._map,i=e.options,o=!i.inertia||t.noInertia||this._times.length<2;if(e.fire("dragend",t),o)e.fire("moveend");else{this._prunePositions(+new Date);var n=this._lastPos.subtract(this._positions[0]),r=(this._lastTime-this._times[0])/1e3,s=i.easeLinearity,a=n.multiplyBy(s/r),l=a.distanceTo([0,0]),c=Math.min(i.inertiaMaxSpeed,l),u=a.multiplyBy(c/l),h=c/(i.inertiaDeceleration*s),d=u.multiplyBy(-h/2).round();d.x||d.y?(d=e._limitOffset(d,e.options.maxBounds),O((function(){e.panBy(d,{duration:h,easeLinearity:s,noMoveStart:!0,animate:!0})}))):e.fire("moveend")}}});ni.addInitHook("addHandler","dragging",on),ni.mergeOptions({keyboard:!0,keyboardPanDelta:80});var nn=yi.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),Ge(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Ve(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,e=document.documentElement,i=t.scrollTop||e.scrollTop,o=t.scrollLeft||e.scrollLeft;this._map._container.focus(),window.scrollTo(o,i)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var e,i,o=this._panKeys={},n=this.keyCodes;for(e=0,i=n.left.length;e<i;e++)o[n.left[e]]=[-1*t,0];for(e=0,i=n.right.length;e<i;e++)o[n.right[e]]=[t,0];for(e=0,i=n.down.length;e<i;e++)o[n.down[e]]=[0,t];for(e=0,i=n.up.length;e<i;e++)o[n.up[e]]=[0,-1*t]},_setZoomDelta:function(t){var e,i,o=this._zoomKeys={},n=this.keyCodes;for(e=0,i=n.zoomIn.length;e<i;e++)o[n.zoomIn[e]]=t;for(e=0,i=n.zoomOut.length;e<i;e++)o[n.zoomOut[e]]=-t},_addHooks:function(){Ge(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Ve(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e,i=t.keyCode,o=this._map;if(i in this._panKeys){if(!o._panAnim||!o._panAnim._inProgress)if(e=this._panKeys[i],t.shiftKey&&(e=N(e).multiplyBy(3)),o.options.maxBounds&&(e=o._limitOffset(N(e),o.options.maxBounds)),o.options.worldCopyJump){var n=o.wrapLatLng(o.unproject(o.project(o.getCenter()).add(e)));o.panTo(n)}else o.panBy(e)}else if(i in this._zoomKeys)o.setZoom(o.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[i]);else{if(27!==i||!o._popup||!o._popup.options.closeOnEscapeKey)return;o.closePopup()}Ze(t)}}});ni.addInitHook("addHandler","keyboard",nn),ni.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var rn=yi.extend({addHooks:function(){Ge(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Ve(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var e=ti(t),i=this._map.options.wheelDebounceTime;this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var o=Math.max(i-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(n(this._performZoom,this),o),Ze(t)},_performZoom:function(){var t=this._map,e=t.getZoom(),i=this._map.options.zoomSnap||0;t._stop();var o=this._delta/(4*this._map.options.wheelPxPerZoomLevel),n=4*Math.log(2/(1+Math.exp(-Math.abs(o))))/Math.LN2,r=i?Math.ceil(n/i)*i:n,s=t._limitZoom(e+(this._delta>0?r:-r))-e;this._delta=0,this._startTime=null,s&&("center"===t.options.scrollWheelZoom?t.setZoom(e+s):t.setZoomAround(this._lastMousePos,e+s))}});ni.addInitHook("addHandler","scrollWheelZoom",rn);var sn=600;ni.mergeOptions({tapHold:Bt.touchNative&&Bt.safari&&Bt.mobile,tapTolerance:15});var an=yi.extend({addHooks:function(){Ge(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Ve(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(clearTimeout(this._holdTimeout),1===t.touches.length){var e=t.touches[0];this._startPos=this._newPos=new R(e.clientX,e.clientY),this._holdTimeout=setTimeout(n((function(){this._cancel(),this._isTapValid()&&(Ge(document,"touchend",Xe),Ge(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",e))}),this),sn),Ge(document,"touchend touchcancel contextmenu",this._cancel,this),Ge(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function t(){Ve(document,"touchend",Xe),Ve(document,"touchend touchcancel",t)},_cancel:function(){clearTimeout(this._holdTimeout),Ve(document,"touchend touchcancel contextmenu",this._cancel,this),Ve(document,"touchmove",this._onMove,this)},_onMove:function(t){var e=t.touches[0];this._newPos=new R(e.clientX,e.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(t,e){var i=new MouseEvent(t,{bubbles:!0,cancelable:!0,view:window,screenX:e.screenX,screenY:e.screenY,clientX:e.clientX,clientY:e.clientY});i._simulated=!0,e.target.dispatchEvent(i)}});ni.addInitHook("addHandler","tapHold",an),ni.mergeOptions({touchZoom:Bt.touch,bounceAtZoomLimits:!0});var ln=yi.extend({addHooks:function(){be(this._map._container,"leaflet-touch-zoom"),Ge(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Ee(this._map._container,"leaflet-touch-zoom"),Ve(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var e=this._map;if(t.touches&&2===t.touches.length&&!e._animatingZoom&&!this._zooming){var i=e.mouseEventToContainerPoint(t.touches[0]),o=e.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=e.getSize()._divideBy(2),this._startLatLng=e.containerPointToLatLng(this._centerPoint),"center"!==e.options.touchZoom&&(this._pinchStartLatLng=e.containerPointToLatLng(i.add(o)._divideBy(2))),this._startDist=i.distanceTo(o),this._startZoom=e.getZoom(),this._moved=!1,this._zooming=!0,e._stop(),Ge(document,"touchmove",this._onTouchMove,this),Ge(document,"touchend touchcancel",this._onTouchEnd,this),Xe(t)}},_onTouchMove:function(t){if(t.touches&&2===t.touches.length&&this._zooming){var e=this._map,i=e.mouseEventToContainerPoint(t.touches[0]),o=e.mouseEventToContainerPoint(t.touches[1]),r=i.distanceTo(o)/this._startDist;if(this._zoom=e.getScaleZoom(r,this._startZoom),!e.options.bounceAtZoomLimits&&(this._zoom<e.getMinZoom()&&r<1||this._zoom>e.getMaxZoom()&&r>1)&&(this._zoom=e._limitZoom(this._zoom)),"center"===e.options.touchZoom){if(this._center=this._startLatLng,1===r)return}else{var s=i._add(o)._divideBy(2)._subtract(this._centerPoint);if(1===r&&0===s.x&&0===s.y)return;this._center=e.unproject(e.project(this._pinchStartLatLng,this._zoom).subtract(s),this._zoom)}this._moved||(e._moveStart(!0,!1),this._moved=!0),x(this._animRequest);var a=n(e._move,e,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=O(a,this,!0),Xe(t)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,x(this._animRequest),Ve(document,"touchmove",this._onTouchMove,this),Ve(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});ni.addInitHook("addHandler","touchZoom",ln),ni.BoxZoom=tn,ni.DoubleClickZoom=en,ni.Drag=on,ni.Keyboard=nn,ni.ScrollWheelZoom=rn,ni.TapHold=an,ni.TouchZoom=ln,t.Bounds=k,t.Browser=Bt,t.CRS=W,t.Canvas=$o,t.Circle=so,t.CircleMarker=no,t.Class=T,t.Control=si,t.DivIcon=ko,t.DivOverlay=Ao,t.DomEvent=ii,t.DomUtil=Be,t.Draggable=bi,t.Evented=A,t.FeatureGroup=Xi,t.GeoJSON=po,t.GridLayer=Bo,t.Handler=yi,t.Icon=qi,t.ImageOverlay=Oo,t.LatLng=j,t.LatLngBounds=B,t.Layer=zi,t.LayerGroup=Ki,t.LineUtil=ki,t.Map=ni,t.Marker=eo,t.Mixin=_i,t.Path=oo,t.Point=R,t.PolyUtil=Gi,t.Polygon=uo,t.Polyline=lo,t.Popup=Ro,t.PosAnimation=oi,t.Projection=Ui,t.Rectangle=Jo,t.Renderer=Ho,t.SVG=Zo,t.SVGOverlay=Mo,t.TileLayer=jo,t.Tooltip=Io,t.Transformation=K,t.Util=P,t.VideoOverlay=Po,t.bind=n,t.bounds=F,t.canvas=zo,t.circle=ao,t.circleMarker=ro,t.control=ai,t.divIcon=Fo,t.extend=i,t.featureGroup=Zi,t.geoJSON=So,t.geoJson=wo,t.gridLayer=Go,t.icon=Ji,t.imageOverlay=xo,t.latLng=V,t.latLngBounds=G,t.layerGroup=Yi,t.map=ri,t.marker=io,t.point=N,t.polygon=ho,t.polyline=co,t.popup=Lo,t.rectangle=Qo,t.setOptions=p,t.stamp=s,t.svg=qo,t.svgOverlay=Do,t.tileLayer=Vo,t.tooltip=No,t.transformation=Y,t.version=e,t.videoOverlay=To;var cn=window.L;t.noConflict=function(){return window.L=cn,this},window.L=t}(e)},6486:function(t,e,i){var o;t=i.nmd(t),function(){var n,r="Expected a function",s="__lodash_hash_undefined__",a="__lodash_placeholder__",l=16,c=32,u=64,h=128,d=256,p=1/0,f=9007199254740991,g=NaN,m=4294967295,y=[["ary",h],["bind",1],["bindKey",2],["curry",8],["curryRight",l],["flip",512],["partial",c],["partialRight",u],["rearg",d]],v="[object Arguments]",_="[object Array]",C="[object Boolean]",b="[object Date]",E="[object Error]",S="[object Function]",w="[object GeneratorFunction]",O="[object Map]",x="[object Number]",P="[object Object]",T="[object Promise]",M="[object RegExp]",D="[object Set]",A="[object String]",R="[object Symbol]",L="[object WeakMap]",I="[object ArrayBuffer]",N="[object DataView]",k="[object Float32Array]",F="[object Float64Array]",B="[object Int8Array]",G="[object Int16Array]",j="[object Int32Array]",V="[object Uint8Array]",U="[object Uint8ClampedArray]",W="[object Uint16Array]",H="[object Uint32Array]",$=/\b__p \+= '';/g,z=/\b(__p \+=) '' \+/g,K=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Y=/&(?:amp|lt|gt|quot|#39);/g,X=/[&<>"']/g,Z=RegExp(Y.source),q=RegExp(X.source),J=/<%-([\s\S]+?)%>/g,Q=/<%([\s\S]+?)%>/g,tt=/<%=([\s\S]+?)%>/g,et=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,it=/^\w*$/,ot=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,nt=/[\\^$.*+?()[\]{}|]/g,rt=RegExp(nt.source),st=/^\s+/,at=/\s/,lt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ct=/\{\n\/\* \[wrapped with (.+)\] \*/,ut=/,? & /,ht=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,dt=/[()=,{}\[\]\/\s]/,pt=/\\(\\)?/g,ft=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,gt=/\w*$/,mt=/^[-+]0x[0-9a-f]+$/i,yt=/^0b[01]+$/i,vt=/^\[object .+?Constructor\]$/,_t=/^0o[0-7]+$/i,Ct=/^(?:0|[1-9]\d*)$/,bt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Et=/($^)/,St=/['\n\r\u2028\u2029\\]/g,wt="\\ud800-\\udfff",Ot="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",xt="\\u2700-\\u27bf",Pt="a-z\\xdf-\\xf6\\xf8-\\xff",Tt="A-Z\\xc0-\\xd6\\xd8-\\xde",Mt="\\ufe0e\\ufe0f",Dt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",At="['’]",Rt="["+wt+"]",Lt="["+Dt+"]",It="["+Ot+"]",Nt="\\d+",kt="["+xt+"]",Ft="["+Pt+"]",Bt="[^"+wt+Dt+Nt+xt+Pt+Tt+"]",Gt="\\ud83c[\\udffb-\\udfff]",jt="[^"+wt+"]",Vt="(?:\\ud83c[\\udde6-\\uddff]){2}",Ut="[\\ud800-\\udbff][\\udc00-\\udfff]",Wt="["+Tt+"]",Ht="\\u200d",$t="(?:"+Ft+"|"+Bt+")",zt="(?:"+Wt+"|"+Bt+")",Kt="(?:['’](?:d|ll|m|re|s|t|ve))?",Yt="(?:['’](?:D|LL|M|RE|S|T|VE))?",Xt="(?:"+It+"|"+Gt+")"+"?",Zt="["+Mt+"]?",qt=Zt+Xt+("(?:"+Ht+"(?:"+[jt,Vt,Ut].join("|")+")"+Zt+Xt+")*"),Jt="(?:"+[kt,Vt,Ut].join("|")+")"+qt,Qt="(?:"+[jt+It+"?",It,Vt,Ut,Rt].join("|")+")",te=RegExp(At,"g"),ee=RegExp(It,"g"),ie=RegExp(Gt+"(?="+Gt+")|"+Qt+qt,"g"),oe=RegExp([Wt+"?"+Ft+"+"+Kt+"(?="+[Lt,Wt,"$"].join("|")+")",zt+"+"+Yt+"(?="+[Lt,Wt+$t,"$"].join("|")+")",Wt+"?"+$t+"+"+Kt,Wt+"+"+Yt,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Nt,Jt].join("|"),"g"),ne=RegExp("["+Ht+wt+Ot+Mt+"]"),re=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,se=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ae=-1,le={};le[k]=le[F]=le[B]=le[G]=le[j]=le[V]=le[U]=le[W]=le[H]=!0,le[v]=le[_]=le[I]=le[C]=le[N]=le[b]=le[E]=le[S]=le[O]=le[x]=le[P]=le[M]=le[D]=le[A]=le[L]=!1;var ce={};ce[v]=ce[_]=ce[I]=ce[N]=ce[C]=ce[b]=ce[k]=ce[F]=ce[B]=ce[G]=ce[j]=ce[O]=ce[x]=ce[P]=ce[M]=ce[D]=ce[A]=ce[R]=ce[V]=ce[U]=ce[W]=ce[H]=!0,ce[E]=ce[S]=ce[L]=!1;var ue={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},he=parseFloat,de=parseInt,pe="object"==typeof i.g&&i.g&&i.g.Object===Object&&i.g,fe="object"==typeof self&&self&&self.Object===Object&&self,ge=pe||fe||Function("return this")(),me=e&&!e.nodeType&&e,ye=me&&t&&!t.nodeType&&t,ve=ye&&ye.exports===me,_e=ve&&pe.process,Ce=function(){try{var t=ye&&ye.require&&ye.require("util").types;return t||_e&&_e.binding&&_e.binding("util")}catch(t){}}(),be=Ce&&Ce.isArrayBuffer,Ee=Ce&&Ce.isDate,Se=Ce&&Ce.isMap,we=Ce&&Ce.isRegExp,Oe=Ce&&Ce.isSet,xe=Ce&&Ce.isTypedArray;function Pe(t,e,i){switch(i.length){case 0:return t.call(e);case 1:return t.call(e,i[0]);case 2:return t.call(e,i[0],i[1]);case 3:return t.call(e,i[0],i[1],i[2])}return t.apply(e,i)}function Te(t,e,i,o){for(var n=-1,r=null==t?0:t.length;++n<r;){var s=t[n];e(o,s,i(s),t)}return o}function Me(t,e){for(var i=-1,o=null==t?0:t.length;++i<o&&!1!==e(t[i],i,t););return t}function De(t,e){for(var i=null==t?0:t.length;i--&&!1!==e(t[i],i,t););return t}function Ae(t,e){for(var i=-1,o=null==t?0:t.length;++i<o;)if(!e(t[i],i,t))return!1;return!0}function Re(t,e){for(var i=-1,o=null==t?0:t.length,n=0,r=[];++i<o;){var s=t[i];e(s,i,t)&&(r[n++]=s)}return r}function Le(t,e){return!!(null==t?0:t.length)&&We(t,e,0)>-1}function Ie(t,e,i){for(var o=-1,n=null==t?0:t.length;++o<n;)if(i(e,t[o]))return!0;return!1}function Ne(t,e){for(var i=-1,o=null==t?0:t.length,n=Array(o);++i<o;)n[i]=e(t[i],i,t);return n}function ke(t,e){for(var i=-1,o=e.length,n=t.length;++i<o;)t[n+i]=e[i];return t}function Fe(t,e,i,o){var n=-1,r=null==t?0:t.length;for(o&&r&&(i=t[++n]);++n<r;)i=e(i,t[n],n,t);return i}function Be(t,e,i,o){var n=null==t?0:t.length;for(o&&n&&(i=t[--n]);n--;)i=e(i,t[n],n,t);return i}function Ge(t,e){for(var i=-1,o=null==t?0:t.length;++i<o;)if(e(t[i],i,t))return!0;return!1}var je=Ke("length");function Ve(t,e,i){var o;return i(t,(function(t,i,n){if(e(t,i,n))return o=i,!1})),o}function Ue(t,e,i,o){for(var n=t.length,r=i+(o?1:-1);o?r--:++r<n;)if(e(t[r],r,t))return r;return-1}function We(t,e,i){return e==e?function(t,e,i){var o=i-1,n=t.length;for(;++o<n;)if(t[o]===e)return o;return-1}(t,e,i):Ue(t,$e,i)}function He(t,e,i,o){for(var n=i-1,r=t.length;++n<r;)if(o(t[n],e))return n;return-1}function $e(t){return t!=t}function ze(t,e){var i=null==t?0:t.length;return i?Ze(t,e)/i:g}function Ke(t){return function(e){return null==e?n:e[t]}}function Ye(t){return function(e){return null==t?n:t[e]}}function Xe(t,e,i,o,n){return n(t,(function(t,n,r){i=o?(o=!1,t):e(i,t,n,r)})),i}function Ze(t,e){for(var i,o=-1,r=t.length;++o<r;){var s=e(t[o]);s!==n&&(i=i===n?s:i+s)}return i}function qe(t,e){for(var i=-1,o=Array(t);++i<t;)o[i]=e(i);return o}function Je(t){return t?t.slice(0,gi(t)+1).replace(st,""):t}function Qe(t){return function(e){return t(e)}}function ti(t,e){return Ne(e,(function(e){return t[e]}))}function ei(t,e){return t.has(e)}function ii(t,e){for(var i=-1,o=t.length;++i<o&&We(e,t[i],0)>-1;);return i}function oi(t,e){for(var i=t.length;i--&&We(e,t[i],0)>-1;);return i}var ni=Ye({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),ri=Ye({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function si(t){return"\\"+ue[t]}function ai(t){return ne.test(t)}function li(t){var e=-1,i=Array(t.size);return t.forEach((function(t,o){i[++e]=[o,t]})),i}function ci(t,e){return function(i){return t(e(i))}}function ui(t,e){for(var i=-1,o=t.length,n=0,r=[];++i<o;){var s=t[i];s!==e&&s!==a||(t[i]=a,r[n++]=i)}return r}function hi(t){var e=-1,i=Array(t.size);return t.forEach((function(t){i[++e]=t})),i}function di(t){var e=-1,i=Array(t.size);return t.forEach((function(t){i[++e]=[t,t]})),i}function pi(t){return ai(t)?function(t){var e=ie.lastIndex=0;for(;ie.test(t);)++e;return e}(t):je(t)}function fi(t){return ai(t)?function(t){return t.match(ie)||[]}(t):function(t){return t.split("")}(t)}function gi(t){for(var e=t.length;e--&&at.test(t.charAt(e)););return e}var mi=Ye({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var yi=function t(e){var i,o=(e=null==e?ge:yi.defaults(ge.Object(),e,yi.pick(ge,se))).Array,at=e.Date,wt=e.Error,Ot=e.Function,xt=e.Math,Pt=e.Object,Tt=e.RegExp,Mt=e.String,Dt=e.TypeError,At=o.prototype,Rt=Ot.prototype,Lt=Pt.prototype,It=e["__core-js_shared__"],Nt=Rt.toString,kt=Lt.hasOwnProperty,Ft=0,Bt=(i=/[^.]+$/.exec(It&&It.keys&&It.keys.IE_PROTO||""))?"Symbol(src)_1."+i:"",Gt=Lt.toString,jt=Nt.call(Pt),Vt=ge._,Ut=Tt("^"+Nt.call(kt).replace(nt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Wt=ve?e.Buffer:n,Ht=e.Symbol,$t=e.Uint8Array,zt=Wt?Wt.allocUnsafe:n,Kt=ci(Pt.getPrototypeOf,Pt),Yt=Pt.create,Xt=Lt.propertyIsEnumerable,Zt=At.splice,qt=Ht?Ht.isConcatSpreadable:n,Jt=Ht?Ht.iterator:n,Qt=Ht?Ht.toStringTag:n,ie=function(){try{var t=pr(Pt,"defineProperty");return t({},"",{}),t}catch(t){}}(),ne=e.clearTimeout!==ge.clearTimeout&&e.clearTimeout,ue=at&&at.now!==ge.Date.now&&at.now,pe=e.setTimeout!==ge.setTimeout&&e.setTimeout,fe=xt.ceil,me=xt.floor,ye=Pt.getOwnPropertySymbols,_e=Wt?Wt.isBuffer:n,Ce=e.isFinite,je=At.join,Ye=ci(Pt.keys,Pt),vi=xt.max,_i=xt.min,Ci=at.now,bi=e.parseInt,Ei=xt.random,Si=At.reverse,wi=pr(e,"DataView"),Oi=pr(e,"Map"),xi=pr(e,"Promise"),Pi=pr(e,"Set"),Ti=pr(e,"WeakMap"),Mi=pr(Pt,"create"),Di=Ti&&new Ti,Ai={},Ri=Gr(wi),Li=Gr(Oi),Ii=Gr(xi),Ni=Gr(Pi),ki=Gr(Ti),Fi=Ht?Ht.prototype:n,Bi=Fi?Fi.valueOf:n,Gi=Fi?Fi.toString:n;function ji(t){if(ia(t)&&!$s(t)&&!(t instanceof Hi)){if(t instanceof Wi)return t;if(kt.call(t,"__wrapped__"))return jr(t)}return new Wi(t)}var Vi=function(){function t(){}return function(e){if(!ea(e))return{};if(Yt)return Yt(e);t.prototype=e;var i=new t;return t.prototype=n,i}}();function Ui(){}function Wi(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=n}function Hi(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=m,this.__views__=[]}function $i(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var o=t[e];this.set(o[0],o[1])}}function zi(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var o=t[e];this.set(o[0],o[1])}}function Ki(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var o=t[e];this.set(o[0],o[1])}}function Yi(t){var e=-1,i=null==t?0:t.length;for(this.__data__=new Ki;++e<i;)this.add(t[e])}function Xi(t){var e=this.__data__=new zi(t);this.size=e.size}function Zi(t,e){var i=$s(t),o=!i&&Hs(t),n=!i&&!o&&Xs(t),r=!i&&!o&&!n&&ua(t),s=i||o||n||r,a=s?qe(t.length,Mt):[],l=a.length;for(var c in t)!e&&!kt.call(t,c)||s&&("length"==c||n&&("offset"==c||"parent"==c)||r&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Cr(c,l))||a.push(c);return a}function qi(t){var e=t.length;return e?t[Xo(0,e-1)]:n}function Ji(t,e){return kr(An(t),ao(e,0,t.length))}function Qi(t){return kr(An(t))}function to(t,e,i){(i!==n&&!Vs(t[e],i)||i===n&&!(e in t))&&ro(t,e,i)}function eo(t,e,i){var o=t[e];kt.call(t,e)&&Vs(o,i)&&(i!==n||e in t)||ro(t,e,i)}function io(t,e){for(var i=t.length;i--;)if(Vs(t[i][0],e))return i;return-1}function oo(t,e,i,o){return po(t,(function(t,n,r){e(o,t,i(t),r)})),o}function no(t,e){return t&&Rn(e,Ra(e),t)}function ro(t,e,i){"__proto__"==e&&ie?ie(t,e,{configurable:!0,enumerable:!0,value:i,writable:!0}):t[e]=i}function so(t,e){for(var i=-1,r=e.length,s=o(r),a=null==t;++i<r;)s[i]=a?n:Pa(t,e[i]);return s}function ao(t,e,i){return t==t&&(i!==n&&(t=t<=i?t:i),e!==n&&(t=t>=e?t:e)),t}function lo(t,e,i,o,r,s){var a,l=1&e,c=2&e,u=4&e;if(i&&(a=r?i(t,o,r,s):i(t)),a!==n)return a;if(!ea(t))return t;var h=$s(t);if(h){if(a=function(t){var e=t.length,i=new t.constructor(e);e&&"string"==typeof t[0]&&kt.call(t,"index")&&(i.index=t.index,i.input=t.input);return i}(t),!l)return An(t,a)}else{var d=mr(t),p=d==S||d==w;if(Xs(t))return On(t,l);if(d==P||d==v||p&&!r){if(a=c||p?{}:vr(t),!l)return c?function(t,e){return Rn(t,gr(t),e)}(t,function(t,e){return t&&Rn(e,La(e),t)}(a,t)):function(t,e){return Rn(t,fr(t),e)}(t,no(a,t))}else{if(!ce[d])return r?t:{};a=function(t,e,i){var o=t.constructor;switch(e){case I:return xn(t);case C:case b:return new o(+t);case N:return function(t,e){var i=e?xn(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.byteLength)}(t,i);case k:case F:case B:case G:case j:case V:case U:case W:case H:return Pn(t,i);case O:return new o;case x:case A:return new o(t);case M:return function(t){var e=new t.constructor(t.source,gt.exec(t));return e.lastIndex=t.lastIndex,e}(t);case D:return new o;case R:return n=t,Bi?Pt(Bi.call(n)):{}}var n}(t,d,l)}}s||(s=new Xi);var f=s.get(t);if(f)return f;s.set(t,a),aa(t)?t.forEach((function(o){a.add(lo(o,e,i,o,t,s))})):oa(t)&&t.forEach((function(o,n){a.set(n,lo(o,e,i,n,t,s))}));var g=h?n:(u?c?sr:rr:c?La:Ra)(t);return Me(g||t,(function(o,n){g&&(o=t[n=o]),eo(a,n,lo(o,e,i,n,t,s))})),a}function co(t,e,i){var o=i.length;if(null==t)return!o;for(t=Pt(t);o--;){var r=i[o],s=e[r],a=t[r];if(a===n&&!(r in t)||!s(a))return!1}return!0}function uo(t,e,i){if("function"!=typeof t)throw new Dt(r);return Rr((function(){t.apply(n,i)}),e)}function ho(t,e,i,o){var n=-1,r=Le,s=!0,a=t.length,l=[],c=e.length;if(!a)return l;i&&(e=Ne(e,Qe(i))),o?(r=Ie,s=!1):e.length>=200&&(r=ei,s=!1,e=new Yi(e));t:for(;++n<a;){var u=t[n],h=null==i?u:i(u);if(u=o||0!==u?u:0,s&&h==h){for(var d=c;d--;)if(e[d]===h)continue t;l.push(u)}else r(e,h,o)||l.push(u)}return l}ji.templateSettings={escape:J,evaluate:Q,interpolate:tt,variable:"",imports:{_:ji}},ji.prototype=Ui.prototype,ji.prototype.constructor=ji,Wi.prototype=Vi(Ui.prototype),Wi.prototype.constructor=Wi,Hi.prototype=Vi(Ui.prototype),Hi.prototype.constructor=Hi,$i.prototype.clear=function(){this.__data__=Mi?Mi(null):{},this.size=0},$i.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},$i.prototype.get=function(t){var e=this.__data__;if(Mi){var i=e[t];return i===s?n:i}return kt.call(e,t)?e[t]:n},$i.prototype.has=function(t){var e=this.__data__;return Mi?e[t]!==n:kt.call(e,t)},$i.prototype.set=function(t,e){var i=this.__data__;return this.size+=this.has(t)?0:1,i[t]=Mi&&e===n?s:e,this},zi.prototype.clear=function(){this.__data__=[],this.size=0},zi.prototype.delete=function(t){var e=this.__data__,i=io(e,t);return!(i<0)&&(i==e.length-1?e.pop():Zt.call(e,i,1),--this.size,!0)},zi.prototype.get=function(t){var e=this.__data__,i=io(e,t);return i<0?n:e[i][1]},zi.prototype.has=function(t){return io(this.__data__,t)>-1},zi.prototype.set=function(t,e){var i=this.__data__,o=io(i,t);return o<0?(++this.size,i.push([t,e])):i[o][1]=e,this},Ki.prototype.clear=function(){this.size=0,this.__data__={hash:new $i,map:new(Oi||zi),string:new $i}},Ki.prototype.delete=function(t){var e=hr(this,t).delete(t);return this.size-=e?1:0,e},Ki.prototype.get=function(t){return hr(this,t).get(t)},Ki.prototype.has=function(t){return hr(this,t).has(t)},Ki.prototype.set=function(t,e){var i=hr(this,t),o=i.size;return i.set(t,e),this.size+=i.size==o?0:1,this},Yi.prototype.add=Yi.prototype.push=function(t){return this.__data__.set(t,s),this},Yi.prototype.has=function(t){return this.__data__.has(t)},Xi.prototype.clear=function(){this.__data__=new zi,this.size=0},Xi.prototype.delete=function(t){var e=this.__data__,i=e.delete(t);return this.size=e.size,i},Xi.prototype.get=function(t){return this.__data__.get(t)},Xi.prototype.has=function(t){return this.__data__.has(t)},Xi.prototype.set=function(t,e){var i=this.__data__;if(i instanceof zi){var o=i.__data__;if(!Oi||o.length<199)return o.push([t,e]),this.size=++i.size,this;i=this.__data__=new Ki(o)}return i.set(t,e),this.size=i.size,this};var po=Nn(bo),fo=Nn(Eo,!0);function go(t,e){var i=!0;return po(t,(function(t,o,n){return i=!!e(t,o,n)})),i}function mo(t,e,i){for(var o=-1,r=t.length;++o<r;){var s=t[o],a=e(s);if(null!=a&&(l===n?a==a&&!ca(a):i(a,l)))var l=a,c=s}return c}function yo(t,e){var i=[];return po(t,(function(t,o,n){e(t,o,n)&&i.push(t)})),i}function vo(t,e,i,o,n){var r=-1,s=t.length;for(i||(i=_r),n||(n=[]);++r<s;){var a=t[r];e>0&&i(a)?e>1?vo(a,e-1,i,o,n):ke(n,a):o||(n[n.length]=a)}return n}var _o=kn(),Co=kn(!0);function bo(t,e){return t&&_o(t,e,Ra)}function Eo(t,e){return t&&Co(t,e,Ra)}function So(t,e){return Re(e,(function(e){return Js(t[e])}))}function wo(t,e){for(var i=0,o=(e=bn(e,t)).length;null!=t&&i<o;)t=t[Br(e[i++])];return i&&i==o?t:n}function Oo(t,e,i){var o=e(t);return $s(t)?o:ke(o,i(t))}function xo(t){return null==t?t===n?"[object Undefined]":"[object Null]":Qt&&Qt in Pt(t)?function(t){var e=kt.call(t,Qt),i=t[Qt];try{t[Qt]=n;var o=!0}catch(t){}var r=Gt.call(t);o&&(e?t[Qt]=i:delete t[Qt]);return r}(t):function(t){return Gt.call(t)}(t)}function Po(t,e){return t>e}function To(t,e){return null!=t&&kt.call(t,e)}function Mo(t,e){return null!=t&&e in Pt(t)}function Do(t,e,i){for(var r=i?Ie:Le,s=t[0].length,a=t.length,l=a,c=o(a),u=1/0,h=[];l--;){var d=t[l];l&&e&&(d=Ne(d,Qe(e))),u=_i(d.length,u),c[l]=!i&&(e||s>=120&&d.length>=120)?new Yi(l&&d):n}d=t[0];var p=-1,f=c[0];t:for(;++p<s&&h.length<u;){var g=d[p],m=e?e(g):g;if(g=i||0!==g?g:0,!(f?ei(f,m):r(h,m,i))){for(l=a;--l;){var y=c[l];if(!(y?ei(y,m):r(t[l],m,i)))continue t}f&&f.push(m),h.push(g)}}return h}function Ao(t,e,i){var o=null==(t=Mr(t,e=bn(e,t)))?t:t[Br(qr(e))];return null==o?n:Pe(o,t,i)}function Ro(t){return ia(t)&&xo(t)==v}function Lo(t,e,i,o,r){return t===e||(null==t||null==e||!ia(t)&&!ia(e)?t!=t&&e!=e:function(t,e,i,o,r,s){var a=$s(t),l=$s(e),c=a?_:mr(t),u=l?_:mr(e),h=(c=c==v?P:c)==P,d=(u=u==v?P:u)==P,p=c==u;if(p&&Xs(t)){if(!Xs(e))return!1;a=!0,h=!1}if(p&&!h)return s||(s=new Xi),a||ua(t)?or(t,e,i,o,r,s):function(t,e,i,o,n,r,s){switch(i){case N:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case I:return!(t.byteLength!=e.byteLength||!r(new $t(t),new $t(e)));case C:case b:case x:return Vs(+t,+e);case E:return t.name==e.name&&t.message==e.message;case M:case A:return t==e+"";case O:var a=li;case D:var l=1&o;if(a||(a=hi),t.size!=e.size&&!l)return!1;var c=s.get(t);if(c)return c==e;o|=2,s.set(t,e);var u=or(a(t),a(e),o,n,r,s);return s.delete(t),u;case R:if(Bi)return Bi.call(t)==Bi.call(e)}return!1}(t,e,c,i,o,r,s);if(!(1&i)){var f=h&&kt.call(t,"__wrapped__"),g=d&&kt.call(e,"__wrapped__");if(f||g){var m=f?t.value():t,y=g?e.value():e;return s||(s=new Xi),r(m,y,i,o,s)}}if(!p)return!1;return s||(s=new Xi),function(t,e,i,o,r,s){var a=1&i,l=rr(t),c=l.length,u=rr(e),h=u.length;if(c!=h&&!a)return!1;var d=c;for(;d--;){var p=l[d];if(!(a?p in e:kt.call(e,p)))return!1}var f=s.get(t),g=s.get(e);if(f&&g)return f==e&&g==t;var m=!0;s.set(t,e),s.set(e,t);var y=a;for(;++d<c;){var v=t[p=l[d]],_=e[p];if(o)var C=a?o(_,v,p,e,t,s):o(v,_,p,t,e,s);if(!(C===n?v===_||r(v,_,i,o,s):C)){m=!1;break}y||(y="constructor"==p)}if(m&&!y){var b=t.constructor,E=e.constructor;b==E||!("constructor"in t)||!("constructor"in e)||"function"==typeof b&&b instanceof b&&"function"==typeof E&&E instanceof E||(m=!1)}return s.delete(t),s.delete(e),m}(t,e,i,o,r,s)}(t,e,i,o,Lo,r))}function Io(t,e,i,o){var r=i.length,s=r,a=!o;if(null==t)return!s;for(t=Pt(t);r--;){var l=i[r];if(a&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++r<s;){var c=(l=i[r])[0],u=t[c],h=l[1];if(a&&l[2]){if(u===n&&!(c in t))return!1}else{var d=new Xi;if(o)var p=o(u,h,c,t,e,d);if(!(p===n?Lo(h,u,3,o,d):p))return!1}}return!0}function No(t){return!(!ea(t)||(e=t,Bt&&Bt in e))&&(Js(t)?Ut:vt).test(Gr(t));var e}function ko(t){return"function"==typeof t?t:null==t?nl:"object"==typeof t?$s(t)?Uo(t[0],t[1]):Vo(t):pl(t)}function Fo(t){if(!Or(t))return Ye(t);var e=[];for(var i in Pt(t))kt.call(t,i)&&"constructor"!=i&&e.push(i);return e}function Bo(t){if(!ea(t))return function(t){var e=[];if(null!=t)for(var i in Pt(t))e.push(i);return e}(t);var e=Or(t),i=[];for(var o in t)("constructor"!=o||!e&&kt.call(t,o))&&i.push(o);return i}function Go(t,e){return t<e}function jo(t,e){var i=-1,n=Ks(t)?o(t.length):[];return po(t,(function(t,o,r){n[++i]=e(t,o,r)})),n}function Vo(t){var e=dr(t);return 1==e.length&&e[0][2]?Pr(e[0][0],e[0][1]):function(i){return i===t||Io(i,t,e)}}function Uo(t,e){return Er(t)&&xr(e)?Pr(Br(t),e):function(i){var o=Pa(i,t);return o===n&&o===e?Ta(i,t):Lo(e,o,3)}}function Wo(t,e,i,o,r){t!==e&&_o(e,(function(s,a){if(r||(r=new Xi),ea(s))!function(t,e,i,o,r,s,a){var l=Dr(t,i),c=Dr(e,i),u=a.get(c);if(u)return void to(t,i,u);var h=s?s(l,c,i+"",t,e,a):n,d=h===n;if(d){var p=$s(c),f=!p&&Xs(c),g=!p&&!f&&ua(c);h=c,p||f||g?$s(l)?h=l:Ys(l)?h=An(l):f?(d=!1,h=On(c,!0)):g?(d=!1,h=Pn(c,!0)):h=[]:ra(c)||Hs(c)?(h=l,Hs(l)?h=va(l):ea(l)&&!Js(l)||(h=vr(c))):d=!1}d&&(a.set(c,h),r(h,c,o,s,a),a.delete(c));to(t,i,h)}(t,e,a,i,Wo,o,r);else{var l=o?o(Dr(t,a),s,a+"",t,e,r):n;l===n&&(l=s),to(t,a,l)}}),La)}function Ho(t,e){var i=t.length;if(i)return Cr(e+=e<0?i:0,i)?t[e]:n}function $o(t,e,i){e=e.length?Ne(e,(function(t){return $s(t)?function(e){return wo(e,1===t.length?t[0]:t)}:t})):[nl];var o=-1;e=Ne(e,Qe(ur()));var n=jo(t,(function(t,i,n){var r=Ne(e,(function(e){return e(t)}));return{criteria:r,index:++o,value:t}}));return function(t,e){var i=t.length;for(t.sort(e);i--;)t[i]=t[i].value;return t}(n,(function(t,e){return function(t,e,i){var o=-1,n=t.criteria,r=e.criteria,s=n.length,a=i.length;for(;++o<s;){var l=Tn(n[o],r[o]);if(l)return o>=a?l:l*("desc"==i[o]?-1:1)}return t.index-e.index}(t,e,i)}))}function zo(t,e,i){for(var o=-1,n=e.length,r={};++o<n;){var s=e[o],a=wo(t,s);i(a,s)&&tn(r,bn(s,t),a)}return r}function Ko(t,e,i,o){var n=o?He:We,r=-1,s=e.length,a=t;for(t===e&&(e=An(e)),i&&(a=Ne(t,Qe(i)));++r<s;)for(var l=0,c=e[r],u=i?i(c):c;(l=n(a,u,l,o))>-1;)a!==t&&Zt.call(a,l,1),Zt.call(t,l,1);return t}function Yo(t,e){for(var i=t?e.length:0,o=i-1;i--;){var n=e[i];if(i==o||n!==r){var r=n;Cr(n)?Zt.call(t,n,1):pn(t,n)}}return t}function Xo(t,e){return t+me(Ei()*(e-t+1))}function Zo(t,e){var i="";if(!t||e<1||e>f)return i;do{e%2&&(i+=t),(e=me(e/2))&&(t+=t)}while(e);return i}function qo(t,e){return Lr(Tr(t,e,nl),t+"")}function Jo(t){return qi(Va(t))}function Qo(t,e){var i=Va(t);return kr(i,ao(e,0,i.length))}function tn(t,e,i,o){if(!ea(t))return t;for(var r=-1,s=(e=bn(e,t)).length,a=s-1,l=t;null!=l&&++r<s;){var c=Br(e[r]),u=i;if("__proto__"===c||"constructor"===c||"prototype"===c)return t;if(r!=a){var h=l[c];(u=o?o(h,c,l):n)===n&&(u=ea(h)?h:Cr(e[r+1])?[]:{})}eo(l,c,u),l=l[c]}return t}var en=Di?function(t,e){return Di.set(t,e),t}:nl,on=ie?function(t,e){return ie(t,"toString",{configurable:!0,enumerable:!1,value:el(e),writable:!0})}:nl;function nn(t){return kr(Va(t))}function rn(t,e,i){var n=-1,r=t.length;e<0&&(e=-e>r?0:r+e),(i=i>r?r:i)<0&&(i+=r),r=e>i?0:i-e>>>0,e>>>=0;for(var s=o(r);++n<r;)s[n]=t[n+e];return s}function sn(t,e){var i;return po(t,(function(t,o,n){return!(i=e(t,o,n))})),!!i}function an(t,e,i){var o=0,n=null==t?o:t.length;if("number"==typeof e&&e==e&&n<=2147483647){for(;o<n;){var r=o+n>>>1,s=t[r];null!==s&&!ca(s)&&(i?s<=e:s<e)?o=r+1:n=r}return n}return ln(t,e,nl,i)}function ln(t,e,i,o){var r=0,s=null==t?0:t.length;if(0===s)return 0;for(var a=(e=i(e))!=e,l=null===e,c=ca(e),u=e===n;r<s;){var h=me((r+s)/2),d=i(t[h]),p=d!==n,f=null===d,g=d==d,m=ca(d);if(a)var y=o||g;else y=u?g&&(o||p):l?g&&p&&(o||!f):c?g&&p&&!f&&(o||!m):!f&&!m&&(o?d<=e:d<e);y?r=h+1:s=h}return _i(s,4294967294)}function cn(t,e){for(var i=-1,o=t.length,n=0,r=[];++i<o;){var s=t[i],a=e?e(s):s;if(!i||!Vs(a,l)){var l=a;r[n++]=0===s?0:s}}return r}function un(t){return"number"==typeof t?t:ca(t)?g:+t}function hn(t){if("string"==typeof t)return t;if($s(t))return Ne(t,hn)+"";if(ca(t))return Gi?Gi.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function dn(t,e,i){var o=-1,n=Le,r=t.length,s=!0,a=[],l=a;if(i)s=!1,n=Ie;else if(r>=200){var c=e?null:qn(t);if(c)return hi(c);s=!1,n=ei,l=new Yi}else l=e?[]:a;t:for(;++o<r;){var u=t[o],h=e?e(u):u;if(u=i||0!==u?u:0,s&&h==h){for(var d=l.length;d--;)if(l[d]===h)continue t;e&&l.push(h),a.push(u)}else n(l,h,i)||(l!==a&&l.push(h),a.push(u))}return a}function pn(t,e){return null==(t=Mr(t,e=bn(e,t)))||delete t[Br(qr(e))]}function fn(t,e,i,o){return tn(t,e,i(wo(t,e)),o)}function gn(t,e,i,o){for(var n=t.length,r=o?n:-1;(o?r--:++r<n)&&e(t[r],r,t););return i?rn(t,o?0:r,o?r+1:n):rn(t,o?r+1:0,o?n:r)}function mn(t,e){var i=t;return i instanceof Hi&&(i=i.value()),Fe(e,(function(t,e){return e.func.apply(e.thisArg,ke([t],e.args))}),i)}function yn(t,e,i){var n=t.length;if(n<2)return n?dn(t[0]):[];for(var r=-1,s=o(n);++r<n;)for(var a=t[r],l=-1;++l<n;)l!=r&&(s[r]=ho(s[r]||a,t[l],e,i));return dn(vo(s,1),e,i)}function vn(t,e,i){for(var o=-1,r=t.length,s=e.length,a={};++o<r;){var l=o<s?e[o]:n;i(a,t[o],l)}return a}function _n(t){return Ys(t)?t:[]}function Cn(t){return"function"==typeof t?t:nl}function bn(t,e){return $s(t)?t:Er(t,e)?[t]:Fr(_a(t))}var En=qo;function Sn(t,e,i){var o=t.length;return i=i===n?o:i,!e&&i>=o?t:rn(t,e,i)}var wn=ne||function(t){return ge.clearTimeout(t)};function On(t,e){if(e)return t.slice();var i=t.length,o=zt?zt(i):new t.constructor(i);return t.copy(o),o}function xn(t){var e=new t.constructor(t.byteLength);return new $t(e).set(new $t(t)),e}function Pn(t,e){var i=e?xn(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.length)}function Tn(t,e){if(t!==e){var i=t!==n,o=null===t,r=t==t,s=ca(t),a=e!==n,l=null===e,c=e==e,u=ca(e);if(!l&&!u&&!s&&t>e||s&&a&&c&&!l&&!u||o&&a&&c||!i&&c||!r)return 1;if(!o&&!s&&!u&&t<e||u&&i&&r&&!o&&!s||l&&i&&r||!a&&r||!c)return-1}return 0}function Mn(t,e,i,n){for(var r=-1,s=t.length,a=i.length,l=-1,c=e.length,u=vi(s-a,0),h=o(c+u),d=!n;++l<c;)h[l]=e[l];for(;++r<a;)(d||r<s)&&(h[i[r]]=t[r]);for(;u--;)h[l++]=t[r++];return h}function Dn(t,e,i,n){for(var r=-1,s=t.length,a=-1,l=i.length,c=-1,u=e.length,h=vi(s-l,0),d=o(h+u),p=!n;++r<h;)d[r]=t[r];for(var f=r;++c<u;)d[f+c]=e[c];for(;++a<l;)(p||r<s)&&(d[f+i[a]]=t[r++]);return d}function An(t,e){var i=-1,n=t.length;for(e||(e=o(n));++i<n;)e[i]=t[i];return e}function Rn(t,e,i,o){var r=!i;i||(i={});for(var s=-1,a=e.length;++s<a;){var l=e[s],c=o?o(i[l],t[l],l,i,t):n;c===n&&(c=t[l]),r?ro(i,l,c):eo(i,l,c)}return i}function Ln(t,e){return function(i,o){var n=$s(i)?Te:oo,r=e?e():{};return n(i,t,ur(o,2),r)}}function In(t){return qo((function(e,i){var o=-1,r=i.length,s=r>1?i[r-1]:n,a=r>2?i[2]:n;for(s=t.length>3&&"function"==typeof s?(r--,s):n,a&&br(i[0],i[1],a)&&(s=r<3?n:s,r=1),e=Pt(e);++o<r;){var l=i[o];l&&t(e,l,o,s)}return e}))}function Nn(t,e){return function(i,o){if(null==i)return i;if(!Ks(i))return t(i,o);for(var n=i.length,r=e?n:-1,s=Pt(i);(e?r--:++r<n)&&!1!==o(s[r],r,s););return i}}function kn(t){return function(e,i,o){for(var n=-1,r=Pt(e),s=o(e),a=s.length;a--;){var l=s[t?a:++n];if(!1===i(r[l],l,r))break}return e}}function Fn(t){return function(e){var i=ai(e=_a(e))?fi(e):n,o=i?i[0]:e.charAt(0),r=i?Sn(i,1).join(""):e.slice(1);return o[t]()+r}}function Bn(t){return function(e){return Fe(Ja(Ha(e).replace(te,"")),t,"")}}function Gn(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var i=Vi(t.prototype),o=t.apply(i,e);return ea(o)?o:i}}function jn(t){return function(e,i,o){var r=Pt(e);if(!Ks(e)){var s=ur(i,3);e=Ra(e),i=function(t){return s(r[t],t,r)}}var a=t(e,i,o);return a>-1?r[s?e[a]:a]:n}}function Vn(t){return nr((function(e){var i=e.length,o=i,s=Wi.prototype.thru;for(t&&e.reverse();o--;){var a=e[o];if("function"!=typeof a)throw new Dt(r);if(s&&!l&&"wrapper"==lr(a))var l=new Wi([],!0)}for(o=l?o:i;++o<i;){var c=lr(a=e[o]),u="wrapper"==c?ar(a):n;l=u&&Sr(u[0])&&424==u[1]&&!u[4].length&&1==u[9]?l[lr(u[0])].apply(l,u[3]):1==a.length&&Sr(a)?l[c]():l.thru(a)}return function(){var t=arguments,o=t[0];if(l&&1==t.length&&$s(o))return l.plant(o).value();for(var n=0,r=i?e[n].apply(this,t):o;++n<i;)r=e[n].call(this,r);return r}}))}function Un(t,e,i,r,s,a,l,c,u,d){var p=e&h,f=1&e,g=2&e,m=24&e,y=512&e,v=g?n:Gn(t);return function h(){for(var _=arguments.length,C=o(_),b=_;b--;)C[b]=arguments[b];if(m)var E=cr(h),S=function(t,e){for(var i=t.length,o=0;i--;)t[i]===e&&++o;return o}(C,E);if(r&&(C=Mn(C,r,s,m)),a&&(C=Dn(C,a,l,m)),_-=S,m&&_<d){var w=ui(C,E);return Xn(t,e,Un,h.placeholder,i,C,w,c,u,d-_)}var O=f?i:this,x=g?O[t]:t;return _=C.length,c?C=function(t,e){var i=t.length,o=_i(e.length,i),r=An(t);for(;o--;){var s=e[o];t[o]=Cr(s,i)?r[s]:n}return t}(C,c):y&&_>1&&C.reverse(),p&&u<_&&(C.length=u),this&&this!==ge&&this instanceof h&&(x=v||Gn(x)),x.apply(O,C)}}function Wn(t,e){return function(i,o){return function(t,e,i,o){return bo(t,(function(t,n,r){e(o,i(t),n,r)})),o}(i,t,e(o),{})}}function Hn(t,e){return function(i,o){var r;if(i===n&&o===n)return e;if(i!==n&&(r=i),o!==n){if(r===n)return o;"string"==typeof i||"string"==typeof o?(i=hn(i),o=hn(o)):(i=un(i),o=un(o)),r=t(i,o)}return r}}function $n(t){return nr((function(e){return e=Ne(e,Qe(ur())),qo((function(i){var o=this;return t(e,(function(t){return Pe(t,o,i)}))}))}))}function zn(t,e){var i=(e=e===n?" ":hn(e)).length;if(i<2)return i?Zo(e,t):e;var o=Zo(e,fe(t/pi(e)));return ai(e)?Sn(fi(o),0,t).join(""):o.slice(0,t)}function Kn(t){return function(e,i,r){return r&&"number"!=typeof r&&br(e,i,r)&&(i=r=n),e=fa(e),i===n?(i=e,e=0):i=fa(i),function(t,e,i,n){for(var r=-1,s=vi(fe((e-t)/(i||1)),0),a=o(s);s--;)a[n?s:++r]=t,t+=i;return a}(e,i,r=r===n?e<i?1:-1:fa(r),t)}}function Yn(t){return function(e,i){return"string"==typeof e&&"string"==typeof i||(e=ya(e),i=ya(i)),t(e,i)}}function Xn(t,e,i,o,r,s,a,l,h,d){var p=8&e;e|=p?c:u,4&(e&=~(p?u:c))||(e&=-4);var f=[t,e,r,p?s:n,p?a:n,p?n:s,p?n:a,l,h,d],g=i.apply(n,f);return Sr(t)&&Ar(g,f),g.placeholder=o,Ir(g,t,e)}function Zn(t){var e=xt[t];return function(t,i){if(t=ya(t),(i=null==i?0:_i(ga(i),292))&&Ce(t)){var o=(_a(t)+"e").split("e");return+((o=(_a(e(o[0]+"e"+(+o[1]+i)))+"e").split("e"))[0]+"e"+(+o[1]-i))}return e(t)}}var qn=Pi&&1/hi(new Pi([,-0]))[1]==p?function(t){return new Pi(t)}:cl;function Jn(t){return function(e){var i=mr(e);return i==O?li(e):i==D?di(e):function(t,e){return Ne(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function Qn(t,e,i,s,p,f,g,m){var y=2&e;if(!y&&"function"!=typeof t)throw new Dt(r);var v=s?s.length:0;if(v||(e&=-97,s=p=n),g=g===n?g:vi(ga(g),0),m=m===n?m:ga(m),v-=p?p.length:0,e&u){var _=s,C=p;s=p=n}var b=y?n:ar(t),E=[t,e,i,s,p,_,C,f,g,m];if(b&&function(t,e){var i=t[1],o=e[1],n=i|o,r=n<131,s=o==h&&8==i||o==h&&i==d&&t[7].length<=e[8]||384==o&&e[7].length<=e[8]&&8==i;if(!r&&!s)return t;1&o&&(t[2]=e[2],n|=1&i?0:4);var l=e[3];if(l){var c=t[3];t[3]=c?Mn(c,l,e[4]):l,t[4]=c?ui(t[3],a):e[4]}(l=e[5])&&(c=t[5],t[5]=c?Dn(c,l,e[6]):l,t[6]=c?ui(t[5],a):e[6]);(l=e[7])&&(t[7]=l);o&h&&(t[8]=null==t[8]?e[8]:_i(t[8],e[8]));null==t[9]&&(t[9]=e[9]);t[0]=e[0],t[1]=n}(E,b),t=E[0],e=E[1],i=E[2],s=E[3],p=E[4],!(m=E[9]=E[9]===n?y?0:t.length:vi(E[9]-v,0))&&24&e&&(e&=-25),e&&1!=e)S=8==e||e==l?function(t,e,i){var r=Gn(t);return function s(){for(var a=arguments.length,l=o(a),c=a,u=cr(s);c--;)l[c]=arguments[c];var h=a<3&&l[0]!==u&&l[a-1]!==u?[]:ui(l,u);return(a-=h.length)<i?Xn(t,e,Un,s.placeholder,n,l,h,n,n,i-a):Pe(this&&this!==ge&&this instanceof s?r:t,this,l)}}(t,e,m):e!=c&&33!=e||p.length?Un.apply(n,E):function(t,e,i,n){var r=1&e,s=Gn(t);return function e(){for(var a=-1,l=arguments.length,c=-1,u=n.length,h=o(u+l),d=this&&this!==ge&&this instanceof e?s:t;++c<u;)h[c]=n[c];for(;l--;)h[c++]=arguments[++a];return Pe(d,r?i:this,h)}}(t,e,i,s);else var S=function(t,e,i){var o=1&e,n=Gn(t);return function e(){return(this&&this!==ge&&this instanceof e?n:t).apply(o?i:this,arguments)}}(t,e,i);return Ir((b?en:Ar)(S,E),t,e)}function tr(t,e,i,o){return t===n||Vs(t,Lt[i])&&!kt.call(o,i)?e:t}function er(t,e,i,o,r,s){return ea(t)&&ea(e)&&(s.set(e,t),Wo(t,e,n,er,s),s.delete(e)),t}function ir(t){return ra(t)?n:t}function or(t,e,i,o,r,s){var a=1&i,l=t.length,c=e.length;if(l!=c&&!(a&&c>l))return!1;var u=s.get(t),h=s.get(e);if(u&&h)return u==e&&h==t;var d=-1,p=!0,f=2&i?new Yi:n;for(s.set(t,e),s.set(e,t);++d<l;){var g=t[d],m=e[d];if(o)var y=a?o(m,g,d,e,t,s):o(g,m,d,t,e,s);if(y!==n){if(y)continue;p=!1;break}if(f){if(!Ge(e,(function(t,e){if(!ei(f,e)&&(g===t||r(g,t,i,o,s)))return f.push(e)}))){p=!1;break}}else if(g!==m&&!r(g,m,i,o,s)){p=!1;break}}return s.delete(t),s.delete(e),p}function nr(t){return Lr(Tr(t,n,zr),t+"")}function rr(t){return Oo(t,Ra,fr)}function sr(t){return Oo(t,La,gr)}var ar=Di?function(t){return Di.get(t)}:cl;function lr(t){for(var e=t.name+"",i=Ai[e],o=kt.call(Ai,e)?i.length:0;o--;){var n=i[o],r=n.func;if(null==r||r==t)return n.name}return e}function cr(t){return(kt.call(ji,"placeholder")?ji:t).placeholder}function ur(){var t=ji.iteratee||rl;return t=t===rl?ko:t,arguments.length?t(arguments[0],arguments[1]):t}function hr(t,e){var i,o,n=t.__data__;return("string"==(o=typeof(i=e))||"number"==o||"symbol"==o||"boolean"==o?"__proto__"!==i:null===i)?n["string"==typeof e?"string":"hash"]:n.map}function dr(t){for(var e=Ra(t),i=e.length;i--;){var o=e[i],n=t[o];e[i]=[o,n,xr(n)]}return e}function pr(t,e){var i=function(t,e){return null==t?n:t[e]}(t,e);return No(i)?i:n}var fr=ye?function(t){return null==t?[]:(t=Pt(t),Re(ye(t),(function(e){return Xt.call(t,e)})))}:ml,gr=ye?function(t){for(var e=[];t;)ke(e,fr(t)),t=Kt(t);return e}:ml,mr=xo;function yr(t,e,i){for(var o=-1,n=(e=bn(e,t)).length,r=!1;++o<n;){var s=Br(e[o]);if(!(r=null!=t&&i(t,s)))break;t=t[s]}return r||++o!=n?r:!!(n=null==t?0:t.length)&&ta(n)&&Cr(s,n)&&($s(t)||Hs(t))}function vr(t){return"function"!=typeof t.constructor||Or(t)?{}:Vi(Kt(t))}function _r(t){return $s(t)||Hs(t)||!!(qt&&t&&t[qt])}function Cr(t,e){var i=typeof t;return!!(e=null==e?f:e)&&("number"==i||"symbol"!=i&&Ct.test(t))&&t>-1&&t%1==0&&t<e}function br(t,e,i){if(!ea(i))return!1;var o=typeof e;return!!("number"==o?Ks(i)&&Cr(e,i.length):"string"==o&&e in i)&&Vs(i[e],t)}function Er(t,e){if($s(t))return!1;var i=typeof t;return!("number"!=i&&"symbol"!=i&&"boolean"!=i&&null!=t&&!ca(t))||(it.test(t)||!et.test(t)||null!=e&&t in Pt(e))}function Sr(t){var e=lr(t),i=ji[e];if("function"!=typeof i||!(e in Hi.prototype))return!1;if(t===i)return!0;var o=ar(i);return!!o&&t===o[0]}(wi&&mr(new wi(new ArrayBuffer(1)))!=N||Oi&&mr(new Oi)!=O||xi&&mr(xi.resolve())!=T||Pi&&mr(new Pi)!=D||Ti&&mr(new Ti)!=L)&&(mr=function(t){var e=xo(t),i=e==P?t.constructor:n,o=i?Gr(i):"";if(o)switch(o){case Ri:return N;case Li:return O;case Ii:return T;case Ni:return D;case ki:return L}return e});var wr=It?Js:yl;function Or(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Lt)}function xr(t){return t==t&&!ea(t)}function Pr(t,e){return function(i){return null!=i&&(i[t]===e&&(e!==n||t in Pt(i)))}}function Tr(t,e,i){return e=vi(e===n?t.length-1:e,0),function(){for(var n=arguments,r=-1,s=vi(n.length-e,0),a=o(s);++r<s;)a[r]=n[e+r];r=-1;for(var l=o(e+1);++r<e;)l[r]=n[r];return l[e]=i(a),Pe(t,this,l)}}function Mr(t,e){return e.length<2?t:wo(t,rn(e,0,-1))}function Dr(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var Ar=Nr(en),Rr=pe||function(t,e){return ge.setTimeout(t,e)},Lr=Nr(on);function Ir(t,e,i){var o=e+"";return Lr(t,function(t,e){var i=e.length;if(!i)return t;var o=i-1;return e[o]=(i>1?"& ":"")+e[o],e=e.join(i>2?", ":" "),t.replace(lt,"{\n/* [wrapped with "+e+"] */\n")}(o,function(t,e){return Me(y,(function(i){var o="_."+i[0];e&i[1]&&!Le(t,o)&&t.push(o)})),t.sort()}(function(t){var e=t.match(ct);return e?e[1].split(ut):[]}(o),i)))}function Nr(t){var e=0,i=0;return function(){var o=Ci(),r=16-(o-i);if(i=o,r>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(n,arguments)}}function kr(t,e){var i=-1,o=t.length,r=o-1;for(e=e===n?o:e;++i<e;){var s=Xo(i,r),a=t[s];t[s]=t[i],t[i]=a}return t.length=e,t}var Fr=function(t){var e=Ns(t,(function(t){return 500===i.size&&i.clear(),t})),i=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(ot,(function(t,i,o,n){e.push(o?n.replace(pt,"$1"):i||t)})),e}));function Br(t){if("string"==typeof t||ca(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Gr(t){if(null!=t){try{return Nt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function jr(t){if(t instanceof Hi)return t.clone();var e=new Wi(t.__wrapped__,t.__chain__);return e.__actions__=An(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var Vr=qo((function(t,e){return Ys(t)?ho(t,vo(e,1,Ys,!0)):[]})),Ur=qo((function(t,e){var i=qr(e);return Ys(i)&&(i=n),Ys(t)?ho(t,vo(e,1,Ys,!0),ur(i,2)):[]})),Wr=qo((function(t,e){var i=qr(e);return Ys(i)&&(i=n),Ys(t)?ho(t,vo(e,1,Ys,!0),n,i):[]}));function Hr(t,e,i){var o=null==t?0:t.length;if(!o)return-1;var n=null==i?0:ga(i);return n<0&&(n=vi(o+n,0)),Ue(t,ur(e,3),n)}function $r(t,e,i){var o=null==t?0:t.length;if(!o)return-1;var r=o-1;return i!==n&&(r=ga(i),r=i<0?vi(o+r,0):_i(r,o-1)),Ue(t,ur(e,3),r,!0)}function zr(t){return(null==t?0:t.length)?vo(t,1):[]}function Kr(t){return t&&t.length?t[0]:n}var Yr=qo((function(t){var e=Ne(t,_n);return e.length&&e[0]===t[0]?Do(e):[]})),Xr=qo((function(t){var e=qr(t),i=Ne(t,_n);return e===qr(i)?e=n:i.pop(),i.length&&i[0]===t[0]?Do(i,ur(e,2)):[]})),Zr=qo((function(t){var e=qr(t),i=Ne(t,_n);return(e="function"==typeof e?e:n)&&i.pop(),i.length&&i[0]===t[0]?Do(i,n,e):[]}));function qr(t){var e=null==t?0:t.length;return e?t[e-1]:n}var Jr=qo(Qr);function Qr(t,e){return t&&t.length&&e&&e.length?Ko(t,e):t}var ts=nr((function(t,e){var i=null==t?0:t.length,o=so(t,e);return Yo(t,Ne(e,(function(t){return Cr(t,i)?+t:t})).sort(Tn)),o}));function es(t){return null==t?t:Si.call(t)}var is=qo((function(t){return dn(vo(t,1,Ys,!0))})),os=qo((function(t){var e=qr(t);return Ys(e)&&(e=n),dn(vo(t,1,Ys,!0),ur(e,2))})),ns=qo((function(t){var e=qr(t);return e="function"==typeof e?e:n,dn(vo(t,1,Ys,!0),n,e)}));function rs(t){if(!t||!t.length)return[];var e=0;return t=Re(t,(function(t){if(Ys(t))return e=vi(t.length,e),!0})),qe(e,(function(e){return Ne(t,Ke(e))}))}function ss(t,e){if(!t||!t.length)return[];var i=rs(t);return null==e?i:Ne(i,(function(t){return Pe(e,n,t)}))}var as=qo((function(t,e){return Ys(t)?ho(t,e):[]})),ls=qo((function(t){return yn(Re(t,Ys))})),cs=qo((function(t){var e=qr(t);return Ys(e)&&(e=n),yn(Re(t,Ys),ur(e,2))})),us=qo((function(t){var e=qr(t);return e="function"==typeof e?e:n,yn(Re(t,Ys),n,e)})),hs=qo(rs);var ds=qo((function(t){var e=t.length,i=e>1?t[e-1]:n;return i="function"==typeof i?(t.pop(),i):n,ss(t,i)}));function ps(t){var e=ji(t);return e.__chain__=!0,e}function fs(t,e){return e(t)}var gs=nr((function(t){var e=t.length,i=e?t[0]:0,o=this.__wrapped__,r=function(e){return so(e,t)};return!(e>1||this.__actions__.length)&&o instanceof Hi&&Cr(i)?((o=o.slice(i,+i+(e?1:0))).__actions__.push({func:fs,args:[r],thisArg:n}),new Wi(o,this.__chain__).thru((function(t){return e&&!t.length&&t.push(n),t}))):this.thru(r)}));var ms=Ln((function(t,e,i){kt.call(t,i)?++t[i]:ro(t,i,1)}));var ys=jn(Hr),vs=jn($r);function _s(t,e){return($s(t)?Me:po)(t,ur(e,3))}function Cs(t,e){return($s(t)?De:fo)(t,ur(e,3))}var bs=Ln((function(t,e,i){kt.call(t,i)?t[i].push(e):ro(t,i,[e])}));var Es=qo((function(t,e,i){var n=-1,r="function"==typeof e,s=Ks(t)?o(t.length):[];return po(t,(function(t){s[++n]=r?Pe(e,t,i):Ao(t,e,i)})),s})),Ss=Ln((function(t,e,i){ro(t,i,e)}));function ws(t,e){return($s(t)?Ne:jo)(t,ur(e,3))}var Os=Ln((function(t,e,i){t[i?0:1].push(e)}),(function(){return[[],[]]}));var xs=qo((function(t,e){if(null==t)return[];var i=e.length;return i>1&&br(t,e[0],e[1])?e=[]:i>2&&br(e[0],e[1],e[2])&&(e=[e[0]]),$o(t,vo(e,1),[])})),Ps=ue||function(){return ge.Date.now()};function Ts(t,e,i){return e=i?n:e,e=t&&null==e?t.length:e,Qn(t,h,n,n,n,n,e)}function Ms(t,e){var i;if("function"!=typeof e)throw new Dt(r);return t=ga(t),function(){return--t>0&&(i=e.apply(this,arguments)),t<=1&&(e=n),i}}var Ds=qo((function(t,e,i){var o=1;if(i.length){var n=ui(i,cr(Ds));o|=c}return Qn(t,o,e,i,n)})),As=qo((function(t,e,i){var o=3;if(i.length){var n=ui(i,cr(As));o|=c}return Qn(e,o,t,i,n)}));function Rs(t,e,i){var o,s,a,l,c,u,h=0,d=!1,p=!1,f=!0;if("function"!=typeof t)throw new Dt(r);function g(e){var i=o,r=s;return o=s=n,h=e,l=t.apply(r,i)}function m(t){var i=t-u;return u===n||i>=e||i<0||p&&t-h>=a}function y(){var t=Ps();if(m(t))return v(t);c=Rr(y,function(t){var i=e-(t-u);return p?_i(i,a-(t-h)):i}(t))}function v(t){return c=n,f&&o?g(t):(o=s=n,l)}function _(){var t=Ps(),i=m(t);if(o=arguments,s=this,u=t,i){if(c===n)return function(t){return h=t,c=Rr(y,e),d?g(t):l}(u);if(p)return wn(c),c=Rr(y,e),g(u)}return c===n&&(c=Rr(y,e)),l}return e=ya(e)||0,ea(i)&&(d=!!i.leading,a=(p="maxWait"in i)?vi(ya(i.maxWait)||0,e):a,f="trailing"in i?!!i.trailing:f),_.cancel=function(){c!==n&&wn(c),h=0,o=u=s=c=n},_.flush=function(){return c===n?l:v(Ps())},_}var Ls=qo((function(t,e){return uo(t,1,e)})),Is=qo((function(t,e,i){return uo(t,ya(e)||0,i)}));function Ns(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new Dt(r);var i=function(){var o=arguments,n=e?e.apply(this,o):o[0],r=i.cache;if(r.has(n))return r.get(n);var s=t.apply(this,o);return i.cache=r.set(n,s)||r,s};return i.cache=new(Ns.Cache||Ki),i}function ks(t){if("function"!=typeof t)throw new Dt(r);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}Ns.Cache=Ki;var Fs=En((function(t,e){var i=(e=1==e.length&&$s(e[0])?Ne(e[0],Qe(ur())):Ne(vo(e,1),Qe(ur()))).length;return qo((function(o){for(var n=-1,r=_i(o.length,i);++n<r;)o[n]=e[n].call(this,o[n]);return Pe(t,this,o)}))})),Bs=qo((function(t,e){var i=ui(e,cr(Bs));return Qn(t,c,n,e,i)})),Gs=qo((function(t,e){var i=ui(e,cr(Gs));return Qn(t,u,n,e,i)})),js=nr((function(t,e){return Qn(t,d,n,n,n,e)}));function Vs(t,e){return t===e||t!=t&&e!=e}var Us=Yn(Po),Ws=Yn((function(t,e){return t>=e})),Hs=Ro(function(){return arguments}())?Ro:function(t){return ia(t)&&kt.call(t,"callee")&&!Xt.call(t,"callee")},$s=o.isArray,zs=be?Qe(be):function(t){return ia(t)&&xo(t)==I};function Ks(t){return null!=t&&ta(t.length)&&!Js(t)}function Ys(t){return ia(t)&&Ks(t)}var Xs=_e||yl,Zs=Ee?Qe(Ee):function(t){return ia(t)&&xo(t)==b};function qs(t){if(!ia(t))return!1;var e=xo(t);return e==E||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!ra(t)}function Js(t){if(!ea(t))return!1;var e=xo(t);return e==S||e==w||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Qs(t){return"number"==typeof t&&t==ga(t)}function ta(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=f}function ea(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function ia(t){return null!=t&&"object"==typeof t}var oa=Se?Qe(Se):function(t){return ia(t)&&mr(t)==O};function na(t){return"number"==typeof t||ia(t)&&xo(t)==x}function ra(t){if(!ia(t)||xo(t)!=P)return!1;var e=Kt(t);if(null===e)return!0;var i=kt.call(e,"constructor")&&e.constructor;return"function"==typeof i&&i instanceof i&&Nt.call(i)==jt}var sa=we?Qe(we):function(t){return ia(t)&&xo(t)==M};var aa=Oe?Qe(Oe):function(t){return ia(t)&&mr(t)==D};function la(t){return"string"==typeof t||!$s(t)&&ia(t)&&xo(t)==A}function ca(t){return"symbol"==typeof t||ia(t)&&xo(t)==R}var ua=xe?Qe(xe):function(t){return ia(t)&&ta(t.length)&&!!le[xo(t)]};var ha=Yn(Go),da=Yn((function(t,e){return t<=e}));function pa(t){if(!t)return[];if(Ks(t))return la(t)?fi(t):An(t);if(Jt&&t[Jt])return function(t){for(var e,i=[];!(e=t.next()).done;)i.push(e.value);return i}(t[Jt]());var e=mr(t);return(e==O?li:e==D?hi:Va)(t)}function fa(t){return t?(t=ya(t))===p||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function ga(t){var e=fa(t),i=e%1;return e==e?i?e-i:e:0}function ma(t){return t?ao(ga(t),0,m):0}function ya(t){if("number"==typeof t)return t;if(ca(t))return g;if(ea(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=ea(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=Je(t);var i=yt.test(t);return i||_t.test(t)?de(t.slice(2),i?2:8):mt.test(t)?g:+t}function va(t){return Rn(t,La(t))}function _a(t){return null==t?"":hn(t)}var Ca=In((function(t,e){if(Or(e)||Ks(e))Rn(e,Ra(e),t);else for(var i in e)kt.call(e,i)&&eo(t,i,e[i])})),ba=In((function(t,e){Rn(e,La(e),t)})),Ea=In((function(t,e,i,o){Rn(e,La(e),t,o)})),Sa=In((function(t,e,i,o){Rn(e,Ra(e),t,o)})),wa=nr(so);var Oa=qo((function(t,e){t=Pt(t);var i=-1,o=e.length,r=o>2?e[2]:n;for(r&&br(e[0],e[1],r)&&(o=1);++i<o;)for(var s=e[i],a=La(s),l=-1,c=a.length;++l<c;){var u=a[l],h=t[u];(h===n||Vs(h,Lt[u])&&!kt.call(t,u))&&(t[u]=s[u])}return t})),xa=qo((function(t){return t.push(n,er),Pe(Na,n,t)}));function Pa(t,e,i){var o=null==t?n:wo(t,e);return o===n?i:o}function Ta(t,e){return null!=t&&yr(t,e,Mo)}var Ma=Wn((function(t,e,i){null!=e&&"function"!=typeof e.toString&&(e=Gt.call(e)),t[e]=i}),el(nl)),Da=Wn((function(t,e,i){null!=e&&"function"!=typeof e.toString&&(e=Gt.call(e)),kt.call(t,e)?t[e].push(i):t[e]=[i]}),ur),Aa=qo(Ao);function Ra(t){return Ks(t)?Zi(t):Fo(t)}function La(t){return Ks(t)?Zi(t,!0):Bo(t)}var Ia=In((function(t,e,i){Wo(t,e,i)})),Na=In((function(t,e,i,o){Wo(t,e,i,o)})),ka=nr((function(t,e){var i={};if(null==t)return i;var o=!1;e=Ne(e,(function(e){return e=bn(e,t),o||(o=e.length>1),e})),Rn(t,sr(t),i),o&&(i=lo(i,7,ir));for(var n=e.length;n--;)pn(i,e[n]);return i}));var Fa=nr((function(t,e){return null==t?{}:function(t,e){return zo(t,e,(function(e,i){return Ta(t,i)}))}(t,e)}));function Ba(t,e){if(null==t)return{};var i=Ne(sr(t),(function(t){return[t]}));return e=ur(e),zo(t,i,(function(t,i){return e(t,i[0])}))}var Ga=Jn(Ra),ja=Jn(La);function Va(t){return null==t?[]:ti(t,Ra(t))}var Ua=Bn((function(t,e,i){return e=e.toLowerCase(),t+(i?Wa(e):e)}));function Wa(t){return qa(_a(t).toLowerCase())}function Ha(t){return(t=_a(t))&&t.replace(bt,ni).replace(ee,"")}var $a=Bn((function(t,e,i){return t+(i?"-":"")+e.toLowerCase()})),za=Bn((function(t,e,i){return t+(i?" ":"")+e.toLowerCase()})),Ka=Fn("toLowerCase");var Ya=Bn((function(t,e,i){return t+(i?"_":"")+e.toLowerCase()}));var Xa=Bn((function(t,e,i){return t+(i?" ":"")+qa(e)}));var Za=Bn((function(t,e,i){return t+(i?" ":"")+e.toUpperCase()})),qa=Fn("toUpperCase");function Ja(t,e,i){return t=_a(t),(e=i?n:e)===n?function(t){return re.test(t)}(t)?function(t){return t.match(oe)||[]}(t):function(t){return t.match(ht)||[]}(t):t.match(e)||[]}var Qa=qo((function(t,e){try{return Pe(t,n,e)}catch(t){return qs(t)?t:new wt(t)}})),tl=nr((function(t,e){return Me(e,(function(e){e=Br(e),ro(t,e,Ds(t[e],t))})),t}));function el(t){return function(){return t}}var il=Vn(),ol=Vn(!0);function nl(t){return t}function rl(t){return ko("function"==typeof t?t:lo(t,1))}var sl=qo((function(t,e){return function(i){return Ao(i,t,e)}})),al=qo((function(t,e){return function(i){return Ao(t,i,e)}}));function ll(t,e,i){var o=Ra(e),n=So(e,o);null!=i||ea(e)&&(n.length||!o.length)||(i=e,e=t,t=this,n=So(e,Ra(e)));var r=!(ea(i)&&"chain"in i&&!i.chain),s=Js(t);return Me(n,(function(i){var o=e[i];t[i]=o,s&&(t.prototype[i]=function(){var e=this.__chain__;if(r||e){var i=t(this.__wrapped__);return(i.__actions__=An(this.__actions__)).push({func:o,args:arguments,thisArg:t}),i.__chain__=e,i}return o.apply(t,ke([this.value()],arguments))})})),t}function cl(){}var ul=$n(Ne),hl=$n(Ae),dl=$n(Ge);function pl(t){return Er(t)?Ke(Br(t)):function(t){return function(e){return wo(e,t)}}(t)}var fl=Kn(),gl=Kn(!0);function ml(){return[]}function yl(){return!1}var vl=Hn((function(t,e){return t+e}),0),_l=Zn("ceil"),Cl=Hn((function(t,e){return t/e}),1),bl=Zn("floor");var El,Sl=Hn((function(t,e){return t*e}),1),wl=Zn("round"),Ol=Hn((function(t,e){return t-e}),0);return ji.after=function(t,e){if("function"!=typeof e)throw new Dt(r);return t=ga(t),function(){if(--t<1)return e.apply(this,arguments)}},ji.ary=Ts,ji.assign=Ca,ji.assignIn=ba,ji.assignInWith=Ea,ji.assignWith=Sa,ji.at=wa,ji.before=Ms,ji.bind=Ds,ji.bindAll=tl,ji.bindKey=As,ji.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return $s(t)?t:[t]},ji.chain=ps,ji.chunk=function(t,e,i){e=(i?br(t,e,i):e===n)?1:vi(ga(e),0);var r=null==t?0:t.length;if(!r||e<1)return[];for(var s=0,a=0,l=o(fe(r/e));s<r;)l[a++]=rn(t,s,s+=e);return l},ji.compact=function(t){for(var e=-1,i=null==t?0:t.length,o=0,n=[];++e<i;){var r=t[e];r&&(n[o++]=r)}return n},ji.concat=function(){var t=arguments.length;if(!t)return[];for(var e=o(t-1),i=arguments[0],n=t;n--;)e[n-1]=arguments[n];return ke($s(i)?An(i):[i],vo(e,1))},ji.cond=function(t){var e=null==t?0:t.length,i=ur();return t=e?Ne(t,(function(t){if("function"!=typeof t[1])throw new Dt(r);return[i(t[0]),t[1]]})):[],qo((function(i){for(var o=-1;++o<e;){var n=t[o];if(Pe(n[0],this,i))return Pe(n[1],this,i)}}))},ji.conforms=function(t){return function(t){var e=Ra(t);return function(i){return co(i,t,e)}}(lo(t,1))},ji.constant=el,ji.countBy=ms,ji.create=function(t,e){var i=Vi(t);return null==e?i:no(i,e)},ji.curry=function t(e,i,o){var r=Qn(e,8,n,n,n,n,n,i=o?n:i);return r.placeholder=t.placeholder,r},ji.curryRight=function t(e,i,o){var r=Qn(e,l,n,n,n,n,n,i=o?n:i);return r.placeholder=t.placeholder,r},ji.debounce=Rs,ji.defaults=Oa,ji.defaultsDeep=xa,ji.defer=Ls,ji.delay=Is,ji.difference=Vr,ji.differenceBy=Ur,ji.differenceWith=Wr,ji.drop=function(t,e,i){var o=null==t?0:t.length;return o?rn(t,(e=i||e===n?1:ga(e))<0?0:e,o):[]},ji.dropRight=function(t,e,i){var o=null==t?0:t.length;return o?rn(t,0,(e=o-(e=i||e===n?1:ga(e)))<0?0:e):[]},ji.dropRightWhile=function(t,e){return t&&t.length?gn(t,ur(e,3),!0,!0):[]},ji.dropWhile=function(t,e){return t&&t.length?gn(t,ur(e,3),!0):[]},ji.fill=function(t,e,i,o){var r=null==t?0:t.length;return r?(i&&"number"!=typeof i&&br(t,e,i)&&(i=0,o=r),function(t,e,i,o){var r=t.length;for((i=ga(i))<0&&(i=-i>r?0:r+i),(o=o===n||o>r?r:ga(o))<0&&(o+=r),o=i>o?0:ma(o);i<o;)t[i++]=e;return t}(t,e,i,o)):[]},ji.filter=function(t,e){return($s(t)?Re:yo)(t,ur(e,3))},ji.flatMap=function(t,e){return vo(ws(t,e),1)},ji.flatMapDeep=function(t,e){return vo(ws(t,e),p)},ji.flatMapDepth=function(t,e,i){return i=i===n?1:ga(i),vo(ws(t,e),i)},ji.flatten=zr,ji.flattenDeep=function(t){return(null==t?0:t.length)?vo(t,p):[]},ji.flattenDepth=function(t,e){return(null==t?0:t.length)?vo(t,e=e===n?1:ga(e)):[]},ji.flip=function(t){return Qn(t,512)},ji.flow=il,ji.flowRight=ol,ji.fromPairs=function(t){for(var e=-1,i=null==t?0:t.length,o={};++e<i;){var n=t[e];o[n[0]]=n[1]}return o},ji.functions=function(t){return null==t?[]:So(t,Ra(t))},ji.functionsIn=function(t){return null==t?[]:So(t,La(t))},ji.groupBy=bs,ji.initial=function(t){return(null==t?0:t.length)?rn(t,0,-1):[]},ji.intersection=Yr,ji.intersectionBy=Xr,ji.intersectionWith=Zr,ji.invert=Ma,ji.invertBy=Da,ji.invokeMap=Es,ji.iteratee=rl,ji.keyBy=Ss,ji.keys=Ra,ji.keysIn=La,ji.map=ws,ji.mapKeys=function(t,e){var i={};return e=ur(e,3),bo(t,(function(t,o,n){ro(i,e(t,o,n),t)})),i},ji.mapValues=function(t,e){var i={};return e=ur(e,3),bo(t,(function(t,o,n){ro(i,o,e(t,o,n))})),i},ji.matches=function(t){return Vo(lo(t,1))},ji.matchesProperty=function(t,e){return Uo(t,lo(e,1))},ji.memoize=Ns,ji.merge=Ia,ji.mergeWith=Na,ji.method=sl,ji.methodOf=al,ji.mixin=ll,ji.negate=ks,ji.nthArg=function(t){return t=ga(t),qo((function(e){return Ho(e,t)}))},ji.omit=ka,ji.omitBy=function(t,e){return Ba(t,ks(ur(e)))},ji.once=function(t){return Ms(2,t)},ji.orderBy=function(t,e,i,o){return null==t?[]:($s(e)||(e=null==e?[]:[e]),$s(i=o?n:i)||(i=null==i?[]:[i]),$o(t,e,i))},ji.over=ul,ji.overArgs=Fs,ji.overEvery=hl,ji.overSome=dl,ji.partial=Bs,ji.partialRight=Gs,ji.partition=Os,ji.pick=Fa,ji.pickBy=Ba,ji.property=pl,ji.propertyOf=function(t){return function(e){return null==t?n:wo(t,e)}},ji.pull=Jr,ji.pullAll=Qr,ji.pullAllBy=function(t,e,i){return t&&t.length&&e&&e.length?Ko(t,e,ur(i,2)):t},ji.pullAllWith=function(t,e,i){return t&&t.length&&e&&e.length?Ko(t,e,n,i):t},ji.pullAt=ts,ji.range=fl,ji.rangeRight=gl,ji.rearg=js,ji.reject=function(t,e){return($s(t)?Re:yo)(t,ks(ur(e,3)))},ji.remove=function(t,e){var i=[];if(!t||!t.length)return i;var o=-1,n=[],r=t.length;for(e=ur(e,3);++o<r;){var s=t[o];e(s,o,t)&&(i.push(s),n.push(o))}return Yo(t,n),i},ji.rest=function(t,e){if("function"!=typeof t)throw new Dt(r);return qo(t,e=e===n?e:ga(e))},ji.reverse=es,ji.sampleSize=function(t,e,i){return e=(i?br(t,e,i):e===n)?1:ga(e),($s(t)?Ji:Qo)(t,e)},ji.set=function(t,e,i){return null==t?t:tn(t,e,i)},ji.setWith=function(t,e,i,o){return o="function"==typeof o?o:n,null==t?t:tn(t,e,i,o)},ji.shuffle=function(t){return($s(t)?Qi:nn)(t)},ji.slice=function(t,e,i){var o=null==t?0:t.length;return o?(i&&"number"!=typeof i&&br(t,e,i)?(e=0,i=o):(e=null==e?0:ga(e),i=i===n?o:ga(i)),rn(t,e,i)):[]},ji.sortBy=xs,ji.sortedUniq=function(t){return t&&t.length?cn(t):[]},ji.sortedUniqBy=function(t,e){return t&&t.length?cn(t,ur(e,2)):[]},ji.split=function(t,e,i){return i&&"number"!=typeof i&&br(t,e,i)&&(e=i=n),(i=i===n?m:i>>>0)?(t=_a(t))&&("string"==typeof e||null!=e&&!sa(e))&&!(e=hn(e))&&ai(t)?Sn(fi(t),0,i):t.split(e,i):[]},ji.spread=function(t,e){if("function"!=typeof t)throw new Dt(r);return e=null==e?0:vi(ga(e),0),qo((function(i){var o=i[e],n=Sn(i,0,e);return o&&ke(n,o),Pe(t,this,n)}))},ji.tail=function(t){var e=null==t?0:t.length;return e?rn(t,1,e):[]},ji.take=function(t,e,i){return t&&t.length?rn(t,0,(e=i||e===n?1:ga(e))<0?0:e):[]},ji.takeRight=function(t,e,i){var o=null==t?0:t.length;return o?rn(t,(e=o-(e=i||e===n?1:ga(e)))<0?0:e,o):[]},ji.takeRightWhile=function(t,e){return t&&t.length?gn(t,ur(e,3),!1,!0):[]},ji.takeWhile=function(t,e){return t&&t.length?gn(t,ur(e,3)):[]},ji.tap=function(t,e){return e(t),t},ji.throttle=function(t,e,i){var o=!0,n=!0;if("function"!=typeof t)throw new Dt(r);return ea(i)&&(o="leading"in i?!!i.leading:o,n="trailing"in i?!!i.trailing:n),Rs(t,e,{leading:o,maxWait:e,trailing:n})},ji.thru=fs,ji.toArray=pa,ji.toPairs=Ga,ji.toPairsIn=ja,ji.toPath=function(t){return $s(t)?Ne(t,Br):ca(t)?[t]:An(Fr(_a(t)))},ji.toPlainObject=va,ji.transform=function(t,e,i){var o=$s(t),n=o||Xs(t)||ua(t);if(e=ur(e,4),null==i){var r=t&&t.constructor;i=n?o?new r:[]:ea(t)&&Js(r)?Vi(Kt(t)):{}}return(n?Me:bo)(t,(function(t,o,n){return e(i,t,o,n)})),i},ji.unary=function(t){return Ts(t,1)},ji.union=is,ji.unionBy=os,ji.unionWith=ns,ji.uniq=function(t){return t&&t.length?dn(t):[]},ji.uniqBy=function(t,e){return t&&t.length?dn(t,ur(e,2)):[]},ji.uniqWith=function(t,e){return e="function"==typeof e?e:n,t&&t.length?dn(t,n,e):[]},ji.unset=function(t,e){return null==t||pn(t,e)},ji.unzip=rs,ji.unzipWith=ss,ji.update=function(t,e,i){return null==t?t:fn(t,e,Cn(i))},ji.updateWith=function(t,e,i,o){return o="function"==typeof o?o:n,null==t?t:fn(t,e,Cn(i),o)},ji.values=Va,ji.valuesIn=function(t){return null==t?[]:ti(t,La(t))},ji.without=as,ji.words=Ja,ji.wrap=function(t,e){return Bs(Cn(e),t)},ji.xor=ls,ji.xorBy=cs,ji.xorWith=us,ji.zip=hs,ji.zipObject=function(t,e){return vn(t||[],e||[],eo)},ji.zipObjectDeep=function(t,e){return vn(t||[],e||[],tn)},ji.zipWith=ds,ji.entries=Ga,ji.entriesIn=ja,ji.extend=ba,ji.extendWith=Ea,ll(ji,ji),ji.add=vl,ji.attempt=Qa,ji.camelCase=Ua,ji.capitalize=Wa,ji.ceil=_l,ji.clamp=function(t,e,i){return i===n&&(i=e,e=n),i!==n&&(i=(i=ya(i))==i?i:0),e!==n&&(e=(e=ya(e))==e?e:0),ao(ya(t),e,i)},ji.clone=function(t){return lo(t,4)},ji.cloneDeep=function(t){return lo(t,5)},ji.cloneDeepWith=function(t,e){return lo(t,5,e="function"==typeof e?e:n)},ji.cloneWith=function(t,e){return lo(t,4,e="function"==typeof e?e:n)},ji.conformsTo=function(t,e){return null==e||co(t,e,Ra(e))},ji.deburr=Ha,ji.defaultTo=function(t,e){return null==t||t!=t?e:t},ji.divide=Cl,ji.endsWith=function(t,e,i){t=_a(t),e=hn(e);var o=t.length,r=i=i===n?o:ao(ga(i),0,o);return(i-=e.length)>=0&&t.slice(i,r)==e},ji.eq=Vs,ji.escape=function(t){return(t=_a(t))&&q.test(t)?t.replace(X,ri):t},ji.escapeRegExp=function(t){return(t=_a(t))&&rt.test(t)?t.replace(nt,"\\$&"):t},ji.every=function(t,e,i){var o=$s(t)?Ae:go;return i&&br(t,e,i)&&(e=n),o(t,ur(e,3))},ji.find=ys,ji.findIndex=Hr,ji.findKey=function(t,e){return Ve(t,ur(e,3),bo)},ji.findLast=vs,ji.findLastIndex=$r,ji.findLastKey=function(t,e){return Ve(t,ur(e,3),Eo)},ji.floor=bl,ji.forEach=_s,ji.forEachRight=Cs,ji.forIn=function(t,e){return null==t?t:_o(t,ur(e,3),La)},ji.forInRight=function(t,e){return null==t?t:Co(t,ur(e,3),La)},ji.forOwn=function(t,e){return t&&bo(t,ur(e,3))},ji.forOwnRight=function(t,e){return t&&Eo(t,ur(e,3))},ji.get=Pa,ji.gt=Us,ji.gte=Ws,ji.has=function(t,e){return null!=t&&yr(t,e,To)},ji.hasIn=Ta,ji.head=Kr,ji.identity=nl,ji.includes=function(t,e,i,o){t=Ks(t)?t:Va(t),i=i&&!o?ga(i):0;var n=t.length;return i<0&&(i=vi(n+i,0)),la(t)?i<=n&&t.indexOf(e,i)>-1:!!n&&We(t,e,i)>-1},ji.indexOf=function(t,e,i){var o=null==t?0:t.length;if(!o)return-1;var n=null==i?0:ga(i);return n<0&&(n=vi(o+n,0)),We(t,e,n)},ji.inRange=function(t,e,i){return e=fa(e),i===n?(i=e,e=0):i=fa(i),function(t,e,i){return t>=_i(e,i)&&t<vi(e,i)}(t=ya(t),e,i)},ji.invoke=Aa,ji.isArguments=Hs,ji.isArray=$s,ji.isArrayBuffer=zs,ji.isArrayLike=Ks,ji.isArrayLikeObject=Ys,ji.isBoolean=function(t){return!0===t||!1===t||ia(t)&&xo(t)==C},ji.isBuffer=Xs,ji.isDate=Zs,ji.isElement=function(t){return ia(t)&&1===t.nodeType&&!ra(t)},ji.isEmpty=function(t){if(null==t)return!0;if(Ks(t)&&($s(t)||"string"==typeof t||"function"==typeof t.splice||Xs(t)||ua(t)||Hs(t)))return!t.length;var e=mr(t);if(e==O||e==D)return!t.size;if(Or(t))return!Fo(t).length;for(var i in t)if(kt.call(t,i))return!1;return!0},ji.isEqual=function(t,e){return Lo(t,e)},ji.isEqualWith=function(t,e,i){var o=(i="function"==typeof i?i:n)?i(t,e):n;return o===n?Lo(t,e,n,i):!!o},ji.isError=qs,ji.isFinite=function(t){return"number"==typeof t&&Ce(t)},ji.isFunction=Js,ji.isInteger=Qs,ji.isLength=ta,ji.isMap=oa,ji.isMatch=function(t,e){return t===e||Io(t,e,dr(e))},ji.isMatchWith=function(t,e,i){return i="function"==typeof i?i:n,Io(t,e,dr(e),i)},ji.isNaN=function(t){return na(t)&&t!=+t},ji.isNative=function(t){if(wr(t))throw new wt("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return No(t)},ji.isNil=function(t){return null==t},ji.isNull=function(t){return null===t},ji.isNumber=na,ji.isObject=ea,ji.isObjectLike=ia,ji.isPlainObject=ra,ji.isRegExp=sa,ji.isSafeInteger=function(t){return Qs(t)&&t>=-9007199254740991&&t<=f},ji.isSet=aa,ji.isString=la,ji.isSymbol=ca,ji.isTypedArray=ua,ji.isUndefined=function(t){return t===n},ji.isWeakMap=function(t){return ia(t)&&mr(t)==L},ji.isWeakSet=function(t){return ia(t)&&"[object WeakSet]"==xo(t)},ji.join=function(t,e){return null==t?"":je.call(t,e)},ji.kebabCase=$a,ji.last=qr,ji.lastIndexOf=function(t,e,i){var o=null==t?0:t.length;if(!o)return-1;var r=o;return i!==n&&(r=(r=ga(i))<0?vi(o+r,0):_i(r,o-1)),e==e?function(t,e,i){for(var o=i+1;o--;)if(t[o]===e)return o;return o}(t,e,r):Ue(t,$e,r,!0)},ji.lowerCase=za,ji.lowerFirst=Ka,ji.lt=ha,ji.lte=da,ji.max=function(t){return t&&t.length?mo(t,nl,Po):n},ji.maxBy=function(t,e){return t&&t.length?mo(t,ur(e,2),Po):n},ji.mean=function(t){return ze(t,nl)},ji.meanBy=function(t,e){return ze(t,ur(e,2))},ji.min=function(t){return t&&t.length?mo(t,nl,Go):n},ji.minBy=function(t,e){return t&&t.length?mo(t,ur(e,2),Go):n},ji.stubArray=ml,ji.stubFalse=yl,ji.stubObject=function(){return{}},ji.stubString=function(){return""},ji.stubTrue=function(){return!0},ji.multiply=Sl,ji.nth=function(t,e){return t&&t.length?Ho(t,ga(e)):n},ji.noConflict=function(){return ge._===this&&(ge._=Vt),this},ji.noop=cl,ji.now=Ps,ji.pad=function(t,e,i){t=_a(t);var o=(e=ga(e))?pi(t):0;if(!e||o>=e)return t;var n=(e-o)/2;return zn(me(n),i)+t+zn(fe(n),i)},ji.padEnd=function(t,e,i){t=_a(t);var o=(e=ga(e))?pi(t):0;return e&&o<e?t+zn(e-o,i):t},ji.padStart=function(t,e,i){t=_a(t);var o=(e=ga(e))?pi(t):0;return e&&o<e?zn(e-o,i)+t:t},ji.parseInt=function(t,e,i){return i||null==e?e=0:e&&(e=+e),bi(_a(t).replace(st,""),e||0)},ji.random=function(t,e,i){if(i&&"boolean"!=typeof i&&br(t,e,i)&&(e=i=n),i===n&&("boolean"==typeof e?(i=e,e=n):"boolean"==typeof t&&(i=t,t=n)),t===n&&e===n?(t=0,e=1):(t=fa(t),e===n?(e=t,t=0):e=fa(e)),t>e){var o=t;t=e,e=o}if(i||t%1||e%1){var r=Ei();return _i(t+r*(e-t+he("1e-"+((r+"").length-1))),e)}return Xo(t,e)},ji.reduce=function(t,e,i){var o=$s(t)?Fe:Xe,n=arguments.length<3;return o(t,ur(e,4),i,n,po)},ji.reduceRight=function(t,e,i){var o=$s(t)?Be:Xe,n=arguments.length<3;return o(t,ur(e,4),i,n,fo)},ji.repeat=function(t,e,i){return e=(i?br(t,e,i):e===n)?1:ga(e),Zo(_a(t),e)},ji.replace=function(){var t=arguments,e=_a(t[0]);return t.length<3?e:e.replace(t[1],t[2])},ji.result=function(t,e,i){var o=-1,r=(e=bn(e,t)).length;for(r||(r=1,t=n);++o<r;){var s=null==t?n:t[Br(e[o])];s===n&&(o=r,s=i),t=Js(s)?s.call(t):s}return t},ji.round=wl,ji.runInContext=t,ji.sample=function(t){return($s(t)?qi:Jo)(t)},ji.size=function(t){if(null==t)return 0;if(Ks(t))return la(t)?pi(t):t.length;var e=mr(t);return e==O||e==D?t.size:Fo(t).length},ji.snakeCase=Ya,ji.some=function(t,e,i){var o=$s(t)?Ge:sn;return i&&br(t,e,i)&&(e=n),o(t,ur(e,3))},ji.sortedIndex=function(t,e){return an(t,e)},ji.sortedIndexBy=function(t,e,i){return ln(t,e,ur(i,2))},ji.sortedIndexOf=function(t,e){var i=null==t?0:t.length;if(i){var o=an(t,e);if(o<i&&Vs(t[o],e))return o}return-1},ji.sortedLastIndex=function(t,e){return an(t,e,!0)},ji.sortedLastIndexBy=function(t,e,i){return ln(t,e,ur(i,2),!0)},ji.sortedLastIndexOf=function(t,e){if(null==t?0:t.length){var i=an(t,e,!0)-1;if(Vs(t[i],e))return i}return-1},ji.startCase=Xa,ji.startsWith=function(t,e,i){return t=_a(t),i=null==i?0:ao(ga(i),0,t.length),e=hn(e),t.slice(i,i+e.length)==e},ji.subtract=Ol,ji.sum=function(t){return t&&t.length?Ze(t,nl):0},ji.sumBy=function(t,e){return t&&t.length?Ze(t,ur(e,2)):0},ji.template=function(t,e,i){var o=ji.templateSettings;i&&br(t,e,i)&&(e=n),t=_a(t),e=Ea({},e,o,tr);var r,s,a=Ea({},e.imports,o.imports,tr),l=Ra(a),c=ti(a,l),u=0,h=e.interpolate||Et,d="__p += '",p=Tt((e.escape||Et).source+"|"+h.source+"|"+(h===tt?ft:Et).source+"|"+(e.evaluate||Et).source+"|$","g"),f="//# sourceURL="+(kt.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ae+"]")+"\n";t.replace(p,(function(e,i,o,n,a,l){return o||(o=n),d+=t.slice(u,l).replace(St,si),i&&(r=!0,d+="' +\n__e("+i+") +\n'"),a&&(s=!0,d+="';\n"+a+";\n__p += '"),o&&(d+="' +\n((__t = ("+o+")) == null ? '' : __t) +\n'"),u=l+e.length,e})),d+="';\n";var g=kt.call(e,"variable")&&e.variable;if(g){if(dt.test(g))throw new wt("Invalid `variable` option passed into `_.template`")}else d="with (obj) {\n"+d+"\n}\n";d=(s?d.replace($,""):d).replace(z,"$1").replace(K,"$1;"),d="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(r?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var m=Qa((function(){return Ot(l,f+"return "+d).apply(n,c)}));if(m.source=d,qs(m))throw m;return m},ji.times=function(t,e){if((t=ga(t))<1||t>f)return[];var i=m,o=_i(t,m);e=ur(e),t-=m;for(var n=qe(o,e);++i<t;)e(i);return n},ji.toFinite=fa,ji.toInteger=ga,ji.toLength=ma,ji.toLower=function(t){return _a(t).toLowerCase()},ji.toNumber=ya,ji.toSafeInteger=function(t){return t?ao(ga(t),-9007199254740991,f):0===t?t:0},ji.toString=_a,ji.toUpper=function(t){return _a(t).toUpperCase()},ji.trim=function(t,e,i){if((t=_a(t))&&(i||e===n))return Je(t);if(!t||!(e=hn(e)))return t;var o=fi(t),r=fi(e);return Sn(o,ii(o,r),oi(o,r)+1).join("")},ji.trimEnd=function(t,e,i){if((t=_a(t))&&(i||e===n))return t.slice(0,gi(t)+1);if(!t||!(e=hn(e)))return t;var o=fi(t);return Sn(o,0,oi(o,fi(e))+1).join("")},ji.trimStart=function(t,e,i){if((t=_a(t))&&(i||e===n))return t.replace(st,"");if(!t||!(e=hn(e)))return t;var o=fi(t);return Sn(o,ii(o,fi(e))).join("")},ji.truncate=function(t,e){var i=30,o="...";if(ea(e)){var r="separator"in e?e.separator:r;i="length"in e?ga(e.length):i,o="omission"in e?hn(e.omission):o}var s=(t=_a(t)).length;if(ai(t)){var a=fi(t);s=a.length}if(i>=s)return t;var l=i-pi(o);if(l<1)return o;var c=a?Sn(a,0,l).join(""):t.slice(0,l);if(r===n)return c+o;if(a&&(l+=c.length-l),sa(r)){if(t.slice(l).search(r)){var u,h=c;for(r.global||(r=Tt(r.source,_a(gt.exec(r))+"g")),r.lastIndex=0;u=r.exec(h);)var d=u.index;c=c.slice(0,d===n?l:d)}}else if(t.indexOf(hn(r),l)!=l){var p=c.lastIndexOf(r);p>-1&&(c=c.slice(0,p))}return c+o},ji.unescape=function(t){return(t=_a(t))&&Z.test(t)?t.replace(Y,mi):t},ji.uniqueId=function(t){var e=++Ft;return _a(t)+e},ji.upperCase=Za,ji.upperFirst=qa,ji.each=_s,ji.eachRight=Cs,ji.first=Kr,ll(ji,(El={},bo(ji,(function(t,e){kt.call(ji.prototype,e)||(El[e]=t)})),El),{chain:!1}),ji.VERSION="4.17.21",Me(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){ji[t].placeholder=ji})),Me(["drop","take"],(function(t,e){Hi.prototype[t]=function(i){i=i===n?1:vi(ga(i),0);var o=this.__filtered__&&!e?new Hi(this):this.clone();return o.__filtered__?o.__takeCount__=_i(i,o.__takeCount__):o.__views__.push({size:_i(i,m),type:t+(o.__dir__<0?"Right":"")}),o},Hi.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),Me(["filter","map","takeWhile"],(function(t,e){var i=e+1,o=1==i||3==i;Hi.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:ur(t,3),type:i}),e.__filtered__=e.__filtered__||o,e}})),Me(["head","last"],(function(t,e){var i="take"+(e?"Right":"");Hi.prototype[t]=function(){return this[i](1).value()[0]}})),Me(["initial","tail"],(function(t,e){var i="drop"+(e?"":"Right");Hi.prototype[t]=function(){return this.__filtered__?new Hi(this):this[i](1)}})),Hi.prototype.compact=function(){return this.filter(nl)},Hi.prototype.find=function(t){return this.filter(t).head()},Hi.prototype.findLast=function(t){return this.reverse().find(t)},Hi.prototype.invokeMap=qo((function(t,e){return"function"==typeof t?new Hi(this):this.map((function(i){return Ao(i,t,e)}))})),Hi.prototype.reject=function(t){return this.filter(ks(ur(t)))},Hi.prototype.slice=function(t,e){t=ga(t);var i=this;return i.__filtered__&&(t>0||e<0)?new Hi(i):(t<0?i=i.takeRight(-t):t&&(i=i.drop(t)),e!==n&&(i=(e=ga(e))<0?i.dropRight(-e):i.take(e-t)),i)},Hi.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Hi.prototype.toArray=function(){return this.take(m)},bo(Hi.prototype,(function(t,e){var i=/^(?:filter|find|map|reject)|While$/.test(e),o=/^(?:head|last)$/.test(e),r=ji[o?"take"+("last"==e?"Right":""):e],s=o||/^find/.test(e);r&&(ji.prototype[e]=function(){var e=this.__wrapped__,a=o?[1]:arguments,l=e instanceof Hi,c=a[0],u=l||$s(e),h=function(t){var e=r.apply(ji,ke([t],a));return o&&d?e[0]:e};u&&i&&"function"==typeof c&&1!=c.length&&(l=u=!1);var d=this.__chain__,p=!!this.__actions__.length,f=s&&!d,g=l&&!p;if(!s&&u){e=g?e:new Hi(this);var m=t.apply(e,a);return m.__actions__.push({func:fs,args:[h],thisArg:n}),new Wi(m,d)}return f&&g?t.apply(this,a):(m=this.thru(h),f?o?m.value()[0]:m.value():m)})})),Me(["pop","push","shift","sort","splice","unshift"],(function(t){var e=At[t],i=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",o=/^(?:pop|shift)$/.test(t);ji.prototype[t]=function(){var t=arguments;if(o&&!this.__chain__){var n=this.value();return e.apply($s(n)?n:[],t)}return this[i]((function(i){return e.apply($s(i)?i:[],t)}))}})),bo(Hi.prototype,(function(t,e){var i=ji[e];if(i){var o=i.name+"";kt.call(Ai,o)||(Ai[o]=[]),Ai[o].push({name:e,func:i})}})),Ai[Un(n,2).name]=[{name:"wrapper",func:n}],Hi.prototype.clone=function(){var t=new Hi(this.__wrapped__);return t.__actions__=An(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=An(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=An(this.__views__),t},Hi.prototype.reverse=function(){if(this.__filtered__){var t=new Hi(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},Hi.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,i=$s(t),o=e<0,n=i?t.length:0,r=function(t,e,i){var o=-1,n=i.length;for(;++o<n;){var r=i[o],s=r.size;switch(r.type){case"drop":t+=s;break;case"dropRight":e-=s;break;case"take":e=_i(e,t+s);break;case"takeRight":t=vi(t,e-s)}}return{start:t,end:e}}(0,n,this.__views__),s=r.start,a=r.end,l=a-s,c=o?a:s-1,u=this.__iteratees__,h=u.length,d=0,p=_i(l,this.__takeCount__);if(!i||!o&&n==l&&p==l)return mn(t,this.__actions__);var f=[];t:for(;l--&&d<p;){for(var g=-1,m=t[c+=e];++g<h;){var y=u[g],v=y.iteratee,_=y.type,C=v(m);if(2==_)m=C;else if(!C){if(1==_)continue t;break t}}f[d++]=m}return f},ji.prototype.at=gs,ji.prototype.chain=function(){return ps(this)},ji.prototype.commit=function(){return new Wi(this.value(),this.__chain__)},ji.prototype.next=function(){this.__values__===n&&(this.__values__=pa(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?n:this.__values__[this.__index__++]}},ji.prototype.plant=function(t){for(var e,i=this;i instanceof Ui;){var o=jr(i);o.__index__=0,o.__values__=n,e?r.__wrapped__=o:e=o;var r=o;i=i.__wrapped__}return r.__wrapped__=t,e},ji.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof Hi){var e=t;return this.__actions__.length&&(e=new Hi(this)),(e=e.reverse()).__actions__.push({func:fs,args:[es],thisArg:n}),new Wi(e,this.__chain__)}return this.thru(es)},ji.prototype.toJSON=ji.prototype.valueOf=ji.prototype.value=function(){return mn(this.__wrapped__,this.__actions__)},ji.prototype.first=ji.prototype.head,Jt&&(ji.prototype[Jt]=function(){return this}),ji}();ge._=yi,(o=function(){return yi}.call(e,i,e,t))===n||(t.exports=o)}.call(this)},4748:()=>{},631:(t,e,i)=>{var o="function"==typeof Map&&Map.prototype,n=Object.getOwnPropertyDescriptor&&o?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,r=o&&n&&"function"==typeof n.get?n.get:null,s=o&&Map.prototype.forEach,a="function"==typeof Set&&Set.prototype,l=Object.getOwnPropertyDescriptor&&a?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,c=a&&l&&"function"==typeof l.get?l.get:null,u=a&&Set.prototype.forEach,h="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,d="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,p="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,f=Boolean.prototype.valueOf,g=Object.prototype.toString,m=Function.prototype.toString,y=String.prototype.match,v=String.prototype.slice,_=String.prototype.replace,C=String.prototype.toUpperCase,b=String.prototype.toLowerCase,E=RegExp.prototype.test,S=Array.prototype.concat,w=Array.prototype.join,O=Array.prototype.slice,x=Math.floor,P="function"==typeof BigInt?BigInt.prototype.valueOf:null,T=Object.getOwnPropertySymbols,M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,D="function"==typeof Symbol&&"object"==typeof Symbol.iterator,A="function"==typeof Symbol&&Symbol.toStringTag&&(typeof Symbol.toStringTag===D||"symbol")?Symbol.toStringTag:null,R=Object.prototype.propertyIsEnumerable,L=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function I(t,e){if(t===1/0||t===-1/0||t!=t||t&&t>-1e3&&t<1e3||E.call(/e/,e))return e;var i=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof t){var o=t<0?-x(-t):x(t);if(o!==t){var n=String(o),r=v.call(e,n.length+1);return _.call(n,i,"$&_")+"."+_.call(_.call(r,/([0-9]{3})/g,"$&_"),/_$/,"")}}return _.call(e,i,"$&_")}var N=i(4654),k=N.custom,F=U(k)?k:null;function B(t,e,i){var o="double"===(i.quoteStyle||e)?'"':"'";return o+t+o}function G(t){return _.call(String(t),/"/g,"&quot;")}function j(t){return!("[object Array]"!==$(t)||A&&"object"==typeof t&&A in t)}function V(t){return!("[object RegExp]"!==$(t)||A&&"object"==typeof t&&A in t)}function U(t){if(D)return t&&"object"==typeof t&&t instanceof Symbol;if("symbol"==typeof t)return!0;if(!t||"object"!=typeof t||!M)return!1;try{return M.call(t),!0}catch(t){}return!1}t.exports=function t(e,i,o,n){var a=i||{};if(H(a,"quoteStyle")&&"single"!==a.quoteStyle&&"double"!==a.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(H(a,"maxStringLength")&&("number"==typeof a.maxStringLength?a.maxStringLength<0&&a.maxStringLength!==1/0:null!==a.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var l=!H(a,"customInspect")||a.customInspect;if("boolean"!=typeof l&&"symbol"!==l)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(H(a,"indent")&&null!==a.indent&&"\t"!==a.indent&&!(parseInt(a.indent,10)===a.indent&&a.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(H(a,"numericSeparator")&&"boolean"!=typeof a.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var g=a.numericSeparator;if(void 0===e)return"undefined";if(null===e)return"null";if("boolean"==typeof e)return e?"true":"false";if("string"==typeof e)return K(e,a);if("number"==typeof e){if(0===e)return 1/0/e>0?"0":"-0";var C=String(e);return g?I(e,C):C}if("bigint"==typeof e){var E=String(e)+"n";return g?I(e,E):E}var x=void 0===a.depth?5:a.depth;if(void 0===o&&(o=0),o>=x&&x>0&&"object"==typeof e)return j(e)?"[Array]":"[Object]";var T=function(t,e){var i;if("\t"===t.indent)i="\t";else{if(!("number"==typeof t.indent&&t.indent>0))return null;i=w.call(Array(t.indent+1)," ")}return{base:i,prev:w.call(Array(e+1),i)}}(a,o);if(void 0===n)n=[];else if(z(n,e)>=0)return"[Circular]";function k(e,i,r){if(i&&(n=O.call(n)).push(i),r){var s={depth:a.depth};return H(a,"quoteStyle")&&(s.quoteStyle=a.quoteStyle),t(e,s,o+1,n)}return t(e,a,o+1,n)}if("function"==typeof e&&!V(e)){var W=function(t){if(t.name)return t.name;var e=y.call(m.call(t),/^function\s*([\w$]+)/);if(e)return e[1];return null}(e),Y=Q(e,k);return"[Function"+(W?": "+W:" (anonymous)")+"]"+(Y.length>0?" { "+w.call(Y,", ")+" }":"")}if(U(e)){var tt=D?_.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):M.call(e);return"object"!=typeof e||D?tt:X(tt)}if(function(t){if(!t||"object"!=typeof t)return!1;if("undefined"!=typeof HTMLElement&&t instanceof HTMLElement)return!0;return"string"==typeof t.nodeName&&"function"==typeof t.getAttribute}(e)){for(var et="<"+b.call(String(e.nodeName)),it=e.attributes||[],ot=0;ot<it.length;ot++)et+=" "+it[ot].name+"="+B(G(it[ot].value),"double",a);return et+=">",e.childNodes&&e.childNodes.length&&(et+="..."),et+="</"+b.call(String(e.nodeName))+">"}if(j(e)){if(0===e.length)return"[]";var nt=Q(e,k);return T&&!function(t){for(var e=0;e<t.length;e++)if(z(t[e],"\n")>=0)return!1;return!0}(nt)?"["+J(nt,T)+"]":"[ "+w.call(nt,", ")+" ]"}if(function(t){return!("[object Error]"!==$(t)||A&&"object"==typeof t&&A in t)}(e)){var rt=Q(e,k);return"cause"in Error.prototype||!("cause"in e)||R.call(e,"cause")?0===rt.length?"["+String(e)+"]":"{ ["+String(e)+"] "+w.call(rt,", ")+" }":"{ ["+String(e)+"] "+w.call(S.call("[cause]: "+k(e.cause),rt),", ")+" }"}if("object"==typeof e&&l){if(F&&"function"==typeof e[F]&&N)return N(e,{depth:x-o});if("symbol"!==l&&"function"==typeof e.inspect)return e.inspect()}if(function(t){if(!r||!t||"object"!=typeof t)return!1;try{r.call(t);try{c.call(t)}catch(t){return!0}return t instanceof Map}catch(t){}return!1}(e)){var st=[];return s&&s.call(e,(function(t,i){st.push(k(i,e,!0)+" => "+k(t,e))})),q("Map",r.call(e),st,T)}if(function(t){if(!c||!t||"object"!=typeof t)return!1;try{c.call(t);try{r.call(t)}catch(t){return!0}return t instanceof Set}catch(t){}return!1}(e)){var at=[];return u&&u.call(e,(function(t){at.push(k(t,e))})),q("Set",c.call(e),at,T)}if(function(t){if(!h||!t||"object"!=typeof t)return!1;try{h.call(t,h);try{d.call(t,d)}catch(t){return!0}return t instanceof WeakMap}catch(t){}return!1}(e))return Z("WeakMap");if(function(t){if(!d||!t||"object"!=typeof t)return!1;try{d.call(t,d);try{h.call(t,h)}catch(t){return!0}return t instanceof WeakSet}catch(t){}return!1}(e))return Z("WeakSet");if(function(t){if(!p||!t||"object"!=typeof t)return!1;try{return p.call(t),!0}catch(t){}return!1}(e))return Z("WeakRef");if(function(t){return!("[object Number]"!==$(t)||A&&"object"==typeof t&&A in t)}(e))return X(k(Number(e)));if(function(t){if(!t||"object"!=typeof t||!P)return!1;try{return P.call(t),!0}catch(t){}return!1}(e))return X(k(P.call(e)));if(function(t){return!("[object Boolean]"!==$(t)||A&&"object"==typeof t&&A in t)}(e))return X(f.call(e));if(function(t){return!("[object String]"!==$(t)||A&&"object"==typeof t&&A in t)}(e))return X(k(String(e)));if(!function(t){return!("[object Date]"!==$(t)||A&&"object"==typeof t&&A in t)}(e)&&!V(e)){var lt=Q(e,k),ct=L?L(e)===Object.prototype:e instanceof Object||e.constructor===Object,ut=e instanceof Object?"":"null prototype",ht=!ct&&A&&Object(e)===e&&A in e?v.call($(e),8,-1):ut?"Object":"",dt=(ct||"function"!=typeof e.constructor?"":e.constructor.name?e.constructor.name+" ":"")+(ht||ut?"["+w.call(S.call([],ht||[],ut||[]),": ")+"] ":"");return 0===lt.length?dt+"{}":T?dt+"{"+J(lt,T)+"}":dt+"{ "+w.call(lt,", ")+" }"}return String(e)};var W=Object.prototype.hasOwnProperty||function(t){return t in this};function H(t,e){return W.call(t,e)}function $(t){return g.call(t)}function z(t,e){if(t.indexOf)return t.indexOf(e);for(var i=0,o=t.length;i<o;i++)if(t[i]===e)return i;return-1}function K(t,e){if(t.length>e.maxStringLength){var i=t.length-e.maxStringLength,o="... "+i+" more character"+(i>1?"s":"");return K(v.call(t,0,e.maxStringLength),e)+o}return B(_.call(_.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Y),"single",e)}function Y(t){var e=t.charCodeAt(0),i={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return i?"\\"+i:"\\x"+(e<16?"0":"")+C.call(e.toString(16))}function X(t){return"Object("+t+")"}function Z(t){return t+" { ? }"}function q(t,e,i,o){return t+" ("+e+") {"+(o?J(i,o):w.call(i,", "))+"}"}function J(t,e){if(0===t.length)return"";var i="\n"+e.prev+e.base;return i+w.call(t,","+i)+"\n"+e.prev}function Q(t,e){var i=j(t),o=[];if(i){o.length=t.length;for(var n=0;n<t.length;n++)o[n]=H(t,n)?e(t[n],t):""}var r,s="function"==typeof T?T(t):[];if(D){r={};for(var a=0;a<s.length;a++)r["$"+s[a]]=s[a]}for(var l in t)H(t,l)&&(i&&String(Number(l))===l&&l<t.length||D&&r["$"+l]instanceof Symbol||(E.call(/[^\w$]/,l)?o.push(e(l,t)+": "+e(t[l],t)):o.push(l+": "+e(t[l],t))));if("function"==typeof T)for(var c=0;c<s.length;c++)R.call(t,s[c])&&o.push("["+e(s[c])+"]: "+e(t[s[c]],t));return o}},5798:t=>{"use strict";var e=String.prototype.replace,i=/%20/g,o="RFC1738",n="RFC3986";t.exports={default:n,formatters:{RFC1738:function(t){return e.call(t,i,"+")},RFC3986:function(t){return String(t)}},RFC1738:o,RFC3986:n}},129:(t,e,i)=>{"use strict";var o=i(8261),n=i(5235),r=i(5798);t.exports={formats:r,parse:n,stringify:o}},5235:(t,e,i)=>{"use strict";var o=i(2769),n=Object.prototype.hasOwnProperty,r=Array.isArray,s={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:o.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},a=function(t){return t.replace(/&#(\d+);/g,(function(t,e){return String.fromCharCode(parseInt(e,10))}))},l=function(t,e){return t&&"string"==typeof t&&e.comma&&t.indexOf(",")>-1?t.split(","):t},c=function(t,e,i,o){if(t){var r=i.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,s=/(\[[^[\]]*])/g,a=i.depth>0&&/(\[[^[\]]*])/.exec(r),c=a?r.slice(0,a.index):r,u=[];if(c){if(!i.plainObjects&&n.call(Object.prototype,c)&&!i.allowPrototypes)return;u.push(c)}for(var h=0;i.depth>0&&null!==(a=s.exec(r))&&h<i.depth;){if(h+=1,!i.plainObjects&&n.call(Object.prototype,a[1].slice(1,-1))&&!i.allowPrototypes)return;u.push(a[1])}return a&&u.push("["+r.slice(a.index)+"]"),function(t,e,i,o){for(var n=o?e:l(e,i),r=t.length-1;r>=0;--r){var s,a=t[r];if("[]"===a&&i.parseArrays)s=[].concat(n);else{s=i.plainObjects?Object.create(null):{};var c="["===a.charAt(0)&&"]"===a.charAt(a.length-1)?a.slice(1,-1):a,u=parseInt(c,10);i.parseArrays||""!==c?!isNaN(u)&&a!==c&&String(u)===c&&u>=0&&i.parseArrays&&u<=i.arrayLimit?(s=[])[u]=n:"__proto__"!==c&&(s[c]=n):s={0:n}}n=s}return n}(u,e,i,o)}};t.exports=function(t,e){var i=function(t){if(!t)return s;if(null!==t.decoder&&void 0!==t.decoder&&"function"!=typeof t.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var e=void 0===t.charset?s.charset:t.charset;return{allowDots:void 0===t.allowDots?s.allowDots:!!t.allowDots,allowPrototypes:"boolean"==typeof t.allowPrototypes?t.allowPrototypes:s.allowPrototypes,allowSparse:"boolean"==typeof t.allowSparse?t.allowSparse:s.allowSparse,arrayLimit:"number"==typeof t.arrayLimit?t.arrayLimit:s.arrayLimit,charset:e,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:s.charsetSentinel,comma:"boolean"==typeof t.comma?t.comma:s.comma,decoder:"function"==typeof t.decoder?t.decoder:s.decoder,delimiter:"string"==typeof t.delimiter||o.isRegExp(t.delimiter)?t.delimiter:s.delimiter,depth:"number"==typeof t.depth||!1===t.depth?+t.depth:s.depth,ignoreQueryPrefix:!0===t.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof t.interpretNumericEntities?t.interpretNumericEntities:s.interpretNumericEntities,parameterLimit:"number"==typeof t.parameterLimit?t.parameterLimit:s.parameterLimit,parseArrays:!1!==t.parseArrays,plainObjects:"boolean"==typeof t.plainObjects?t.plainObjects:s.plainObjects,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:s.strictNullHandling}}(e);if(""===t||null==t)return i.plainObjects?Object.create(null):{};for(var u="string"==typeof t?function(t,e){var i,c={__proto__:null},u=e.ignoreQueryPrefix?t.replace(/^\?/,""):t,h=e.parameterLimit===1/0?void 0:e.parameterLimit,d=u.split(e.delimiter,h),p=-1,f=e.charset;if(e.charsetSentinel)for(i=0;i<d.length;++i)0===d[i].indexOf("utf8=")&&("utf8=%E2%9C%93"===d[i]?f="utf-8":"utf8=%26%2310003%3B"===d[i]&&(f="iso-8859-1"),p=i,i=d.length);for(i=0;i<d.length;++i)if(i!==p){var g,m,y=d[i],v=y.indexOf("]="),_=-1===v?y.indexOf("="):v+1;-1===_?(g=e.decoder(y,s.decoder,f,"key"),m=e.strictNullHandling?null:""):(g=e.decoder(y.slice(0,_),s.decoder,f,"key"),m=o.maybeMap(l(y.slice(_+1),e),(function(t){return e.decoder(t,s.decoder,f,"value")}))),m&&e.interpretNumericEntities&&"iso-8859-1"===f&&(m=a(m)),y.indexOf("[]=")>-1&&(m=r(m)?[m]:m),n.call(c,g)?c[g]=o.combine(c[g],m):c[g]=m}return c}(t,i):t,h=i.plainObjects?Object.create(null):{},d=Object.keys(u),p=0;p<d.length;++p){var f=d[p],g=c(f,u[f],i,"string"==typeof t);h=o.merge(h,g,i)}return!0===i.allowSparse?h:o.compact(h)}},8261:(t,e,i)=>{"use strict";var o=i(7478),n=i(2769),r=i(5798),s=Object.prototype.hasOwnProperty,a={brackets:function(t){return t+"[]"},comma:"comma",indices:function(t,e){return t+"["+e+"]"},repeat:function(t){return t}},l=Array.isArray,c=Array.prototype.push,u=function(t,e){c.apply(t,l(e)?e:[e])},h=Date.prototype.toISOString,d=r.default,p={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:n.encode,encodeValuesOnly:!1,format:d,formatter:r.formatters[d],indices:!1,serializeDate:function(t){return h.call(t)},skipNulls:!1,strictNullHandling:!1},f={},g=function t(e,i,r,s,a,c,h,d,g,m,y,v,_,C,b,E){for(var S,w=e,O=E,x=0,P=!1;void 0!==(O=O.get(f))&&!P;){var T=O.get(e);if(x+=1,void 0!==T){if(T===x)throw new RangeError("Cyclic object value");P=!0}void 0===O.get(f)&&(x=0)}if("function"==typeof d?w=d(i,w):w instanceof Date?w=y(w):"comma"===r&&l(w)&&(w=n.maybeMap(w,(function(t){return t instanceof Date?y(t):t}))),null===w){if(a)return h&&!C?h(i,p.encoder,b,"key",v):i;w=""}if("string"==typeof(S=w)||"number"==typeof S||"boolean"==typeof S||"symbol"==typeof S||"bigint"==typeof S||n.isBuffer(w))return h?[_(C?i:h(i,p.encoder,b,"key",v))+"="+_(h(w,p.encoder,b,"value",v))]:[_(i)+"="+_(String(w))];var M,D=[];if(void 0===w)return D;if("comma"===r&&l(w))C&&h&&(w=n.maybeMap(w,h)),M=[{value:w.length>0?w.join(",")||null:void 0}];else if(l(d))M=d;else{var A=Object.keys(w);M=g?A.sort(g):A}for(var R=s&&l(w)&&1===w.length?i+"[]":i,L=0;L<M.length;++L){var I=M[L],N="object"==typeof I&&void 0!==I.value?I.value:w[I];if(!c||null!==N){var k=l(w)?"function"==typeof r?r(R,I):R:R+(m?"."+I:"["+I+"]");E.set(e,x);var F=o();F.set(f,E),u(D,t(N,k,r,s,a,c,"comma"===r&&C&&l(w)?null:h,d,g,m,y,v,_,C,b,F))}}return D};t.exports=function(t,e){var i,n=t,c=function(t){if(!t)return p;if(null!==t.encoder&&void 0!==t.encoder&&"function"!=typeof t.encoder)throw new TypeError("Encoder has to be a function.");var e=t.charset||p.charset;if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var i=r.default;if(void 0!==t.format){if(!s.call(r.formatters,t.format))throw new TypeError("Unknown format option provided.");i=t.format}var o=r.formatters[i],n=p.filter;return("function"==typeof t.filter||l(t.filter))&&(n=t.filter),{addQueryPrefix:"boolean"==typeof t.addQueryPrefix?t.addQueryPrefix:p.addQueryPrefix,allowDots:void 0===t.allowDots?p.allowDots:!!t.allowDots,charset:e,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:p.charsetSentinel,delimiter:void 0===t.delimiter?p.delimiter:t.delimiter,encode:"boolean"==typeof t.encode?t.encode:p.encode,encoder:"function"==typeof t.encoder?t.encoder:p.encoder,encodeValuesOnly:"boolean"==typeof t.encodeValuesOnly?t.encodeValuesOnly:p.encodeValuesOnly,filter:n,format:i,formatter:o,serializeDate:"function"==typeof t.serializeDate?t.serializeDate:p.serializeDate,skipNulls:"boolean"==typeof t.skipNulls?t.skipNulls:p.skipNulls,sort:"function"==typeof t.sort?t.sort:null,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:p.strictNullHandling}}(e);"function"==typeof c.filter?n=(0,c.filter)("",n):l(c.filter)&&(i=c.filter);var h,d=[];if("object"!=typeof n||null===n)return"";h=e&&e.arrayFormat in a?e.arrayFormat:e&&"indices"in e?e.indices?"indices":"repeat":"indices";var f=a[h];if(e&&"commaRoundTrip"in e&&"boolean"!=typeof e.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var m="comma"===f&&e&&e.commaRoundTrip;i||(i=Object.keys(n)),c.sort&&i.sort(c.sort);for(var y=o(),v=0;v<i.length;++v){var _=i[v];c.skipNulls&&null===n[_]||u(d,g(n[_],_,f,m,c.strictNullHandling,c.skipNulls,c.encode?c.encoder:null,c.filter,c.sort,c.allowDots,c.serializeDate,c.format,c.formatter,c.encodeValuesOnly,c.charset,y))}var C=d.join(c.delimiter),b=!0===c.addQueryPrefix?"?":"";return c.charsetSentinel&&("iso-8859-1"===c.charset?b+="utf8=%26%2310003%3B&":b+="utf8=%E2%9C%93&"),C.length>0?b+C:""}},2769:(t,e,i)=>{"use strict";var o=i(5798),n=Object.prototype.hasOwnProperty,r=Array.isArray,s=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),a=function(t,e){for(var i=e&&e.plainObjects?Object.create(null):{},o=0;o<t.length;++o)void 0!==t[o]&&(i[o]=t[o]);return i};t.exports={arrayToObject:a,assign:function(t,e){return Object.keys(e).reduce((function(t,i){return t[i]=e[i],t}),t)},combine:function(t,e){return[].concat(t,e)},compact:function(t){for(var e=[{obj:{o:t},prop:"o"}],i=[],o=0;o<e.length;++o)for(var n=e[o],s=n.obj[n.prop],a=Object.keys(s),l=0;l<a.length;++l){var c=a[l],u=s[c];"object"==typeof u&&null!==u&&-1===i.indexOf(u)&&(e.push({obj:s,prop:c}),i.push(u))}return function(t){for(;t.length>1;){var e=t.pop(),i=e.obj[e.prop];if(r(i)){for(var o=[],n=0;n<i.length;++n)void 0!==i[n]&&o.push(i[n]);e.obj[e.prop]=o}}}(e),t},decode:function(t,e,i){var o=t.replace(/\+/g," ");if("iso-8859-1"===i)return o.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(o)}catch(t){return o}},encode:function(t,e,i,n,r){if(0===t.length)return t;var a=t;if("symbol"==typeof t?a=Symbol.prototype.toString.call(t):"string"!=typeof t&&(a=String(t)),"iso-8859-1"===i)return escape(a).replace(/%u[0-9a-f]{4}/gi,(function(t){return"%26%23"+parseInt(t.slice(2),16)+"%3B"}));for(var l="",c=0;c<a.length;++c){var u=a.charCodeAt(c);45===u||46===u||95===u||126===u||u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122||r===o.RFC1738&&(40===u||41===u)?l+=a.charAt(c):u<128?l+=s[u]:u<2048?l+=s[192|u>>6]+s[128|63&u]:u<55296||u>=57344?l+=s[224|u>>12]+s[128|u>>6&63]+s[128|63&u]:(c+=1,u=65536+((1023&u)<<10|1023&a.charCodeAt(c)),l+=s[240|u>>18]+s[128|u>>12&63]+s[128|u>>6&63]+s[128|63&u])}return l},isBuffer:function(t){return!(!t||"object"!=typeof t)&&!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))},isRegExp:function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},maybeMap:function(t,e){if(r(t)){for(var i=[],o=0;o<t.length;o+=1)i.push(e(t[o]));return i}return e(t)},merge:function t(e,i,o){if(!i)return e;if("object"!=typeof i){if(r(e))e.push(i);else{if(!e||"object"!=typeof e)return[e,i];(o&&(o.plainObjects||o.allowPrototypes)||!n.call(Object.prototype,i))&&(e[i]=!0)}return e}if(!e||"object"!=typeof e)return[e].concat(i);var s=e;return r(e)&&!r(i)&&(s=a(e,o)),r(e)&&r(i)?(i.forEach((function(i,r){if(n.call(e,r)){var s=e[r];s&&"object"==typeof s&&i&&"object"==typeof i?e[r]=t(s,i,o):e.push(i)}else e[r]=i})),e):Object.keys(i).reduce((function(e,r){var s=i[r];return n.call(e,r)?e[r]=t(e[r],s,o):e[r]=s,e}),s)}}},7478:(t,e,i)=>{"use strict";var o=i(7141),n=i(1924),r=i(631),s=o("%TypeError%"),a=o("%WeakMap%",!0),l=o("%Map%",!0),c=n("WeakMap.prototype.get",!0),u=n("WeakMap.prototype.set",!0),h=n("WeakMap.prototype.has",!0),d=n("Map.prototype.get",!0),p=n("Map.prototype.set",!0),f=n("Map.prototype.has",!0),g=function(t,e){for(var i,o=t;null!==(i=o.next);o=i)if(i.key===e)return o.next=i.next,i.next=t.next,t.next=i,i};t.exports=function(){var t,e,i,o={assert:function(t){if(!o.has(t))throw new s("Side channel does not contain "+r(t))},get:function(o){if(a&&o&&("object"==typeof o||"function"==typeof o)){if(t)return c(t,o)}else if(l){if(e)return d(e,o)}else if(i)return function(t,e){var i=g(t,e);return i&&i.value}(i,o)},has:function(o){if(a&&o&&("object"==typeof o||"function"==typeof o)){if(t)return h(t,o)}else if(l){if(e)return f(e,o)}else if(i)return function(t,e){return!!g(t,e)}(i,o);return!1},set:function(o,n){a&&o&&("object"==typeof o||"function"==typeof o)?(t||(t=new a),u(t,o,n)):l?(e||(e=new l),p(e,o,n)):(i||(i={key:{},next:null}),function(t,e,i){var o=g(t,e);o?o.value=i:t.next={key:e,next:t.next,value:i}}(i,o,n))}};return o}},6851:(t,e,i)=>{"use strict";var o=i(5171),n=Array.prototype.concat,r=Array.prototype.slice,s=t.exports=function(t){for(var e=[],i=0,s=t.length;i<s;i++){var a=t[i];o(a)?e=n.call(e,r.call(a)):e.push(a)}return e};s.wrap=function(t){return function(){return t(s(arguments))}}},1860:function(t){!function(e,i){var o={version:"2.14.2",areas:{},apis:{},nsdelim:".",inherit:function(t,e){for(var i in t)e.hasOwnProperty(i)||Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(t,i));return e},stringify:function(t,e){return void 0===t||"function"==typeof t?t+"":JSON.stringify(t,e||o.replace)},parse:function(t,e){try{return JSON.parse(t,e||o.revive)}catch(e){return t}},fn:function(t,e){for(var i in o.storeAPI[t]=e,o.apis)o.apis[i][t]=e},get:function(t,e){return t.getItem(e)},set:function(t,e,i){t.setItem(e,i)},remove:function(t,e){t.removeItem(e)},key:function(t,e){return t.key(e)},length:function(t){return t.length},clear:function(t){t.clear()},Store:function(t,e,i){var n=o.inherit(o.storeAPI,(function(t,e,i){return 0===arguments.length?n.getAll():"function"==typeof e?n.transact(t,e,i):void 0!==e?n.set(t,e,i):"string"==typeof t||"number"==typeof t?n.get(t):"function"==typeof t?n.each(t):t?n.setAll(t,e):n.clear()}));n._id=t;try{var r="__store2_test";e.setItem(r,"ok"),n._area=e,e.removeItem(r)}catch(t){n._area=o.storage("fake")}return n._ns=i||"",o.areas[t]||(o.areas[t]=n._area),o.apis[n._ns+n._id]||(o.apis[n._ns+n._id]=n),n},storeAPI:{area:function(t,e){var i=this[t];return i&&i.area||(i=o.Store(t,e,this._ns),this[t]||(this[t]=i)),i},namespace:function(t,e,i){if(i=i||this._delim||o.nsdelim,!t)return this._ns?this._ns.substring(0,this._ns.length-i.length):"";var n=t,r=this[n];if(!(r&&r.namespace||((r=o.Store(this._id,this._area,this._ns+n+i))._delim=i,this[n]||(this[n]=r),e)))for(var s in o.areas)r.area(s,o.areas[s]);return r},isFake:function(t){return t?(this._real=this._area,this._area=o.storage("fake")):!1===t&&(this._area=this._real||this._area),"fake"===this._area.name},toString:function(){return"store"+(this._ns?"."+this.namespace():"")+"["+this._id+"]"},has:function(t){return this._area.has?this._area.has(this._in(t)):!!(this._in(t)in this._area)},size:function(){return this.keys().length},each:function(t,e){for(var i=0,n=o.length(this._area);i<n;i++){var r=this._out(o.key(this._area,i));if(void 0!==r&&!1===t.call(this,r,this.get(r),e))break;n>o.length(this._area)&&(n--,i--)}return e||this},keys:function(t){return this.each((function(t,e,i){i.push(t)}),t||[])},get:function(t,e){var i,n=o.get(this._area,this._in(t));return"function"==typeof e&&(i=e,e=null),null!==n?o.parse(n,i):null!=e?e:n},getAll:function(t){return this.each((function(t,e,i){i[t]=e}),t||{})},transact:function(t,e,i){var o=this.get(t,i),n=e(o);return this.set(t,void 0===n?o:n),this},set:function(t,e,i){var n,r=this.get(t);return null!=r&&!1===i?e:("function"==typeof i&&(n=i,i=void 0),o.set(this._area,this._in(t),o.stringify(e,n),i)||r)},setAll:function(t,e){var i,o;for(var n in t)o=t[n],this.set(n,o,e)!==o&&(i=!0);return i},add:function(t,e,i){var n=this.get(t);if(n instanceof Array)e=n.concat(e);else if(null!==n){var r=typeof n;if(r===typeof e&&"object"===r){for(var s in e)n[s]=e[s];e=n}else e=n+e}return o.set(this._area,this._in(t),o.stringify(e,i)),e},remove:function(t,e){var i=this.get(t,e);return o.remove(this._area,this._in(t)),i},clear:function(){return this._ns?this.each((function(t){o.remove(this._area,this._in(t))}),1):o.clear(this._area),this},clearAll:function(){var t=this._area;for(var e in o.areas)o.areas.hasOwnProperty(e)&&(this._area=o.areas[e],this.clear());return this._area=t,this},_in:function(t){return"string"!=typeof t&&(t=o.stringify(t)),this._ns?this._ns+t:t},_out:function(t){return this._ns?t&&0===t.indexOf(this._ns)?t.substring(this._ns.length):void 0:t}},storage:function(t){return o.inherit(o.storageAPI,{items:{},name:t})},storageAPI:{length:0,has:function(t){return this.items.hasOwnProperty(t)},key:function(t){var e=0;for(var i in this.items)if(this.has(i)&&t===e++)return i},setItem:function(t,e){this.has(t)||this.length++,this.items[t]=e},removeItem:function(t){this.has(t)&&(delete this.items[t],this.length--)},getItem:function(t){return this.has(t)?this.items[t]:null},clear:function(){for(var t in this.items)this.removeItem(t)}}},n=o.Store("local",function(){try{return localStorage}catch(t){}}());n.local=n,n._=o,n.area("session",function(){try{return sessionStorage}catch(t){}}()),n.area("page",o.storage("page")),"function"==typeof i&&void 0!==i.amd?i("store2",[],(function(){return n})):t.exports?t.exports=n:(e.store&&(o.conflict=e.store),e.store=n)}(this,this&&this.define)},6168:function(t,e,i){var o;o=function(t,e){return function(t){var e={};function i(o){if(e[o])return e[o].exports;var n=e[o]={i:o,l:!1,exports:{}};return t[o].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=t,i.c=e,i.d=function(t,e,o){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(o,n,function(e){return t[e]}.bind(null,n));return o},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=2)}([function(e,i){e.exports=t},function(t,i){t.exports=e},function(t,e,i){t.exports=i(3)},function(t,e,i){"use strict";i.r(e);var o=i(0),n=i(1),r=i.n(n);function s(t){if(!r.a.autoDrawEnabled){var e=t.getLayer()||t.getStage();e&&e.batchDraw()}}var a={key:!0,style:!0,elm:!0,isRootInsert:!0},l=".vue-konva-event";function c(t,e,i,o){void 0===e&&(e={}),void 0===i&&(i={});var n=t.__konvaNode,r={},c=!1;for(var u in i)if(!a[u]){var h="on"===u.slice(0,2),d=i[u]!==e[u];if(h&&d){var p=u.substr(2).toLowerCase();"content"===p.substr(0,7)&&(p="content"+p.substr(7,1).toUpperCase()+p.substr(8)),n.off(p+l,i[u])}!e.hasOwnProperty(u)&&n.setAttr(u,void 0)}for(var f in e)if(!a[f]){var g="on"===f.slice(0,2),m=i[f]!==e[f];if(g&&m){var y=f.substr(2).toLowerCase();"content"===y.substr(0,7)&&(y="content"+y.substr(7,1).toUpperCase()+y.substr(8)),e[f]&&(n.off(y+l),n.on(y+l,e[f]))}!g&&(e[f]!==i[f]||o&&e[f]!==n.getAttr(f))&&(c=!0,r[f]=e[f])}c&&(n.setAttrs(r),s(n))}function u(t){if(null==t?void 0:t.component)return t.component.__konvaNode||u(t.component.subTree)}function h(t){var e=t.el,i=t.component,o=u(t);if((null==e?void 0:e.tagName)&&i&&!o){var n=e&&e.tagName.toLowerCase();return console.error('vue-konva error: You are trying to render "'+n+'" inside your component tree. Looks like it is not a Konva node. You can render only Konva components inside the Stage.'),null}return o}function d(t,e){var i,o,n=(o=[],(i=t).children&&i.children.forEach((function(t){!t.component&&Array.isArray(t.children)&&t.children.forEach((function(t){!t.component&&Array.isArray(t.children)?o.push.apply(o,t.children):o.push(t)})),t.component&&o.push(t)})),o),r=[];n.forEach((function(t){var e=h(t);e&&r.push(e)}));var a=!1;r.forEach((function(t,e){t.getZIndex()!==e&&(t.setZIndex(e),a=!0)})),a&&s(e)}function p(){return p=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o])}return t},p.apply(this,arguments)}var f={props:{config:{type:Object,default:function(){return{}}},__useStrictMode:{type:Boolean}},inheritAttrs:!1,setup:function(t,e){var i=e.attrs,n=e.slots,r=e.expose,s=(e.emits,Object(o.getCurrentInstance)()),a=Object(o.reactive)({}),l=Object(o.ref)(null),u=new window.Konva.Stage({width:t.config.width,height:t.config.height,container:document.createElement("div")});function h(){var e=a||{},o=p({},i,t.config);c(s,o,e,t.__useStrictMode),Object.assign(a,o)}return s.__konvaNode=u,h(),Object(o.onMounted)((function(){l.value.innerHTML="",u.container(l.value),h()})),Object(o.onUpdated)((function(){h(),d(s.subTree,u)})),Object(o.onBeforeUnmount)((function(){u.destroy()})),Object(o.watch)((function(){return t.config}),h,{deep:!0}),r({getStage:function(){return s.__konvaNode},getNode:function(){return s.__konvaNode}}),function(){var t;return Object(o.h)("div",{ref:l},null===(t=n.default)||void 0===t?void 0:t.call(n))}}};function g(){return g=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o])}return t},g.apply(this,arguments)}var m={Group:!0,Layer:!0,FastLayer:!0,Label:!0},y=function(t){return{props:{config:{type:Object,default:function(){return{}}},__useStrictMode:{type:Boolean}},setup:function(e,i){var n=i.attrs,r=i.slots,a=i.expose,l=Object(o.getCurrentInstance)(),u=Object(o.reactive)({}),h=window.Konva[t];if(h){var p=new h;return l.__konvaNode=p,l.vnode.__konvaNode=p,f(),Object(o.onMounted)((function(){var t=function(t){return function t(e){return e.__konvaNode?e:e.parent?t(e.parent):(console.error("vue-konva error: Can not find parent node"),{})}(t.parent)}(l).__konvaNode;t.add(p),s(p)})),Object(o.onUnmounted)((function(){s(p),p.destroy(),p.off(".vue-konva-event")})),Object(o.onUpdated)((function(){f(),d(l.subTree,p)})),Object(o.watch)((function(){return e.config}),f,{deep:!0}),a({getStage:function(){return l.__konvaNode},getNode:function(){return l.__konvaNode}}),m[t]?function(){var t;return Object(o.h)("template",{},null===(t=r.default)||void 0===t?void 0:t.call(r))}:function(){return null}}function f(){var t={};for(var i in l.vnode.props)"on"===i.slice(0,2)&&(t[i]=l.vnode.props[i]);var o=u||{},r=g({},n,e.config,t);c(l,r,o,e.__useStrictMode),Object.assign(u,r)}console.error("vue-konva error: Can not find node "+t)}}};"undefined"==typeof window||window.Konva||i(1);var v=[{name:"Stage",component:f}].concat(["Layer","FastLayer","Group","Label","Rect","Circle","Ellipse","Wedge","Line","Sprite","Image","Text","TextPath","Star","Ring","Arc","Tag","Path","RegularPolygon","Arrow","Shape","Transformer"].map((function(t){return{name:t,component:y(t)}}))),_={install:function(t,e){var i="v";e&&e.prefix&&(i=e.prefix),v.forEach((function(e){t.component(""+i+e.name,e.component)}))}};e.default=_}]).default},t.exports=o(i(6765),i(185))},3744:(t,e)=>{"use strict";e.Z=(t,e)=>{const i=t.__vccOpts||t;for(const[t,o]of e)i[t]=o;return i}},2450:(t,e,i)=>{"use strict";i.d(e,{o:()=>r});var o=i(2262),n=i(6252);const r=(0,n.aZ)({name:"Promised",props:{promise:{},pendingDelay:{type:[Number,String],default:200}},setup(t,{slots:e}){const i=(0,o.BK)(t),r=(0,o.qj)(function(t,e=200){const i=(0,o.iH)(!1),r=(0,o.iH)(!1),s=(0,n.Fl)((()=>!i.value&&!r.value)),a=(0,o.iH)(!1),l=(0,o.iH)(),c=(0,o.iH)();let u;return(0,n.YP)((()=>(0,o.SU)(t)),(n=>{if(i.value=!1,r.value=!1,l.value=null,!n)return c.value=null,u&&clearTimeout(u),void(u=null);(0,o.SU)(e)>0?(a.value=!1,u&&clearTimeout(u),u=setTimeout((()=>{a.value=!0}),Number((0,o.SU)(e)))):a.value=!0,n.then((e=>{n===(0,o.SU)(t)&&(c.value=e,r.value=!0)})).catch((e=>{n===(0,o.SU)(t)&&(l.value=e,i.value=!0)}))}),{immediate:!0}),{isPending:s,isRejected:i,isResolved:r,isDelayElapsed:a,error:l,data:c}}(i.promise,i.pendingDelay));return()=>{if("combined"in e)return e.combined(r);const[t,i]=r.isRejected?["rejected",r.error]:r.isPending?r.isDelayElapsed?["pending",r.data]:[null]:["default",r.data];return t&&e[t](i)}}})},4812:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(5003),n=i(9963),r=i(3577);function s(t){var e=Object.create(null);if(t)for(var i in t)e[i]=t[i];return e.default=t,Object.freeze(e)}var a=s(n);const l=Object.create(null);function c(t,e){if(!r.isString(t)){if(!t.nodeType)return r.NOOP;t=t.innerHTML}const i=t,n=l[i];if(n)return n;if("#"===t[0]){const e=document.querySelector(t);t=e?e.innerHTML:""}const s=r.extend({hoistStatic:!0,onError:void 0,onWarn:r.NOOP},e);s.isCustomElement||"undefined"==typeof customElements||(s.isCustomElement=t=>!!customElements.get(t));const{code:c}=o.compile(t,s),u=new Function("Vue",c)(a);return u._rc=!0,l[i]=u}n.registerRuntimeCompiler(c),e.compile=c,Object.keys(n).forEach((function(t){"default"!==t&&(e[t]=n[t])}))},6765:(t,e,i)=>{"use strict";t.exports=i(4812)},7852:t=>{"use strict";t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABSCAMAAAAhFXfZAAAC91BMVEVMaXEzeak2f7I4g7g3g7cua5gzeKg8hJo3grY4g7c3grU0gLI2frE0daAubJc2gbQwd6QzeKk2gLMtd5sxdKIua5g1frA2f7IydaM0e6w2fq41fK01eqo3grgubJgta5cxdKI1f7AydaQydaMxc6EubJgvbJkwcZ4ubZkwcJwubZgubJcydqUydKIxapgubJctbJcubZcubJcvbJYubJcvbZkubJctbJctbZcubJg2f7AubJcrbZcubJcubJcua5g3grY0fq8ubJcubJdEkdEwhsw6i88vhswuhcsuhMtBjMgthMsrg8srgss6is8qgcs8i9A9iMYtg8spgcoogMo7hcMngMonf8olfso4gr8kfck5iM8jfMk4iM8he8k1fro7itAgesk2hs8eecgzfLcofssdeMg0hc4cd8g2hcsxeLQbdsgZdcgxeLImfcszhM0vda4xgckzhM4xg84wf8Yxgs4udKsvfcQucqhUndROmdM1fK0wcZ8vb5w0eqpQm9MzeKhXoNVcpdYydKNWn9VZotVKltJFjsIwcJ1Rms9OlslLmtH///8+kc9epdYzd6dbo9VHkMM2f7FHmNBClM8ydqVcpNY9hro3gLM9hLczealQmcw3fa46f7A8gLMxc6I3eagyc6FIldJMl9JSnNRSntNNl9JPnNJFi75UnM9ZodVKksg8kM45jc09e6ZHltFBk883gbRBh7pDk9EwcaBzn784g7dKkcY2i81Om9M7j85Llc81is09g7Q4grY/j9A0eqxKmdFFltBEjcXf6fFImdBCiLxJl9FGlNFBi78yiMxVndEvbpo6js74+vx+psPP3+o/ks5HkcpGmNCjwdZCkNDM3ehYoNJEls+lxNkxh8xHks0+jdC1zd5Lg6r+/v/H2ufz9/o3jM3t8/edvdM/k89Th61OiLBSjbZklbaTt9BfptdjmL1AicBHj8hGk9FAgK1dkLNTjLRekrdClc/k7fM0icy0y9tgp9c4jc2NtM9Dlc8zicxeXZn3AAAAQ3RSTlMAHDdTb4yPA+LtnEQmC4L2EmHqB7XA0d0sr478x4/Yd5i1zOfyPkf1sLVq4Nh3FvjxopQ2/STNuFzUwFIwxKaejILpIBEV9wAABhVJREFUeF6s1NdyFEcYBeBeoQIhRAkLlRDGrhIgY3BJL8CVeKzuyXFzzjkn5ZxzzuScg3PO8cKzu70JkO0LfxdTU//pM9vTu7Xgf6KqOVTb9X7toRrVEfBf1HTVjZccrT/2by1VV928Yty9ZbVuucdz90frG8DBjl9pVApbOstvmMuvVgaNXSfAAd6pGxpy6yxf5ph43pS/4f3uoaGm2rdu72S9xzOvMymkZFq/ptDrk90mhW7e4zl7HLzhxGWPR20xmSxJ/VqldG5m9XhaVOA1DadsNh3Pu5L2N6QtPO/32JpqQBVVk20oy/Pi2s23WEvyfHbe1thadVQttvm7Llf65gGmXK67XtupyoM7HQhmXdLS8oGWJNeOJ3C5fG5XCEJnkez3/oFdsvgJ4l2ANZwhrJKk/7OSXa+3Vw2WJMlKnGkobouYk6T0TyX30klOUnTD9HJ5qpckL3EW/w4XF3Xd0FGywXUrstrclVsqz5Pd/sXFYyDnPdrLcQODmGOK47IZb4CmibmMn+MYRzFZ5jg33ZL/EJrWcszHmANy3ARBK/IXtciJy8VsitPSdE3uuHxzougojcUdr8/32atnz/ev3f/K5wtpxUTpcaI45zusVDpYtZi+jg0oU9b3x74h7+n9ABvYEZeKaVq0sh0AtLKsFtqNBdeT0MrSzwwlq9+x6xAO4tgOtSzbCjrNQQiNvQUbUEubvzBUeGw26yDCsRHCoLkTHDa7IdOLIThs/gHvChszh2CimE8peRs47cxANI0lYNB5y1DljpOF0IhzBDPOZnDOqYYbeGKECbPzWnXludPphw5c2YBq5zlwXphIbO4VDCZ0gnPfUO1TwZoYwAs2ExPCedAu9DAjfQUjzITQb3jNj0KG2Sgt6BHaQUdYzWz+XmBktOHwanXjaSTcwwziBcuMOtwBmqPrTOxFQR/DRKKPqyur0aiW6cULYsx6tBm0jXpR/AUWR6HRq9WVW6MRhIq5jLyjbaCTDCijyYJNpCajdyobP/eTw0iexBAKkJ3gA5KcQb2zBXsIBckn+xVv8jkZSaEFHE+jFEleAEfayRU0MouNoBmB/L50Ai/HSLIHxcrpCvnhSQAuakKp2C/YbCylJjXRVy/z3+Kv/RrNcCo+WUzlVEhzKffnTQnxeN9fWF88fiNCUdSTsaufaChKWInHeysygfpIqagoakW+vV20J8uyl6TyNKEZWV4oRSPyCkWpgOLSbkCObT8o2r6tlG58HQquf6O0v50tB7JM7F4EORd2dx/K0w/KHsVkLPaoYrwgP/y7krr3SSMA4zj+OBgmjYkxcdIJQyQRKgg2viX9Hddi9UBb29LrKR7CVVEEEXWojUkXNyfTNDE14W9gbHJNuhjDettN3ZvbOvdOqCD3Jp/9l+/wJE+9PkYGjx/fqkys3S2rMozM/o2106rfMUINo6hVqz+eu/hd1c4xTg0TAfy5kV+4UG6+IthHTU9woWmxuKNbTfuCSfovBCxq7EtHqvYL4Sm6F8GVxsSXHMQ07TOi1DKtZxjWaaIyi4CXWjxPccUw8WVbMYY5wxC1mzEyXMJWkllpRloi+Kkoq69sxBTlElF6aAxYUbjXNlhlDZilDnM4U5SlN5biRsRHnbx3mbeWjEh4mEyiuJDl5XcWVmX5GvNkFgLWZM5qwsop4/AWfLhU1cR7k1VVvcYCWRkOI6Xy5gmnphCYIkvzuNYzHzosq2oNk2RtSs8khfUOfHIDgR6ysYBaMpl4uEgk2U/oJTs9AaTSwma7dT69geAE2ZpEjUsn2ieJNHeKfrI3EcAGJ2ZaNgVuC8EBctCLc57P5u5led6IOBkIYkuQMrmmjChs4VkfOerHqSBkPzZlhe06RslZ3zMjk2sscqKwY0RcjKK+LWbzd7KiHhkncs/siFJ+V5eXxD34B8nVuJEpGJNmxN2gH3vSvp7J70tF+D1Ej8qUJD1TkErAND2GZwTFg/LubvmgiBG3SOvdlsqFQrkEzJCL1rstlnVFROixZoDDSuXQFHESwVGlcuQcMb/b42NgjLowh5MTDFE3vNB5qStRIErdCQEh6pLPR92anSUb/wAIhldAaDMpGgAAAABJRU5ErkJggg=="},8586:t=>{"use strict";t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII="},3498:t=>{"use strict";t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC"},5762:(t,e,i)=>{"use strict";i.d(e,{sgm:()=>c});var o=i(2262),n=i(6121);Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;function r(t){return!!(0,o.nZ)()&&((0,o.EB)(t),!0)}Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;const s="undefined"!=typeof window;Object.prototype.toString;n.$B,n.$B,n.$B;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;const a=s?window:void 0;s&&window.document,s&&window.navigator,s&&window.location;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;function l(t,e={}){const{immediate:i=!0,window:n=a}=e,s=(0,o.iH)(!1);let l=0,c=null;function u(e){if(!s.value||!n)return;t({delta:e-l,timestamp:e}),l=e,c=n.requestAnimationFrame(u)}function h(){!s.value&&n&&(s.value=!0,c=n.requestAnimationFrame(u))}function d(){s.value=!1,null!=c&&n&&(n.cancelAnimationFrame(c),c=null)}return i&&h(),r(d),{isActive:(0,o.OT)(s),pause:d,resume:h}}Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;function c(t){var e;const i=(0,o.iH)(0);if("undefined"==typeof performance)return i;const n=null!=(e=null==t?void 0:t.every)?e:10;let r=performance.now(),s=0;return l((()=>{if(s+=1,s>=n){const t=performance.now(),e=t-r;i.value=Math.round(1e3/(e/s)),r=t,s=0}})),i}Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable},8662:(t,e,i)=>{"use strict";i.d(e,{ZP:()=>_});var o=i(9367);function n(t,e,i,o,n,r,s){try{var a=t[r](s),l=a.value}catch(t){return void i(t)}a.done?e(l):Promise.resolve(l).then(o,n)}function r(t){return function(){var e=this,i=arguments;return new Promise((function(o,r){var s=t.apply(e,i);function a(t){n(s,o,r,a,l,"next",t)}function l(t){n(s,o,r,a,l,"throw",t)}a(void 0)}))}}function s(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,o)}return i}function a(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?s(Object(i),!0).forEach((function(e){l(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function l(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var c="axios-retry";function u(t){return!t.response&&Boolean(t.code)&&"ECONNABORTED"!==t.code&&o(t)}var h=["get","head","options"],d=h.concat(["put","delete"]);function p(t){return"ECONNABORTED"!==t.code&&(!t.response||t.response.status>=500&&t.response.status<=599)}function f(t){return!!t.config&&(p(t)&&-1!==d.indexOf(t.config.method))}function g(t){return u(t)||f(t)}function m(){return 0}function y(t){var e=t[c]||{};return e.retryCount=e.retryCount||0,t[c]=e,e}function v(){return(v=r((function*(t,e,i,o){var n=i.retryCount<t&&e(o);if("object"==typeof n)try{return!1!==(yield n)}catch(t){return!1}return n}))).apply(this,arguments)}function _(t,e){t.interceptors.request.use((t=>(y(t).lastRequestTime=Date.now(),t))),t.interceptors.response.use(null,function(){var i=r((function*(i){var{config:o}=i;if(!o)return Promise.reject(i);var{retries:n=3,retryCondition:r=g,retryDelay:s=m,shouldResetTimeout:l=!1,onRetry:u=(()=>{})}=function(t,e){return a(a({},e),t[c])}(o,e),h=y(o);if(yield function(t,e,i,o){return v.apply(this,arguments)}(n,r,h,i)){h.retryCount+=1;var d=s(h.retryCount,i);if(function(t,e){t.defaults.agent===e.agent&&delete e.agent,t.defaults.httpAgent===e.httpAgent&&delete e.httpAgent,t.defaults.httpsAgent===e.httpsAgent&&delete e.httpsAgent}(t,o),!l&&o.timeout&&h.lastRequestTime){var p=Date.now()-h.lastRequestTime,f=o.timeout-p-d;if(f<=0)return Promise.reject(i);o.timeout=f}return o.transformRequest=[t=>t],u(h.retryCount,i,o),new Promise((e=>setTimeout((()=>e(t(o))),d)))}return Promise.reject(i)}));return function(t){return i.apply(this,arguments)}}())}_.isNetworkError=u,_.isSafeRequestError=function(t){return!!t.config&&(p(t)&&-1!==h.indexOf(t.config.method))},_.isIdempotentRequestError=f,_.isNetworkOrIdempotentRequestError=g,_.exponentialDelay=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=100*Math.pow(2,t);return e+.2*e*Math.random()},_.isRetryableError=p},2861:(t,e,i)=>{"use strict";function o(t,e){return function(){return t.apply(e,arguments)}}i.d(e,{Z:()=>Ut});const{toString:n}=Object.prototype,{getPrototypeOf:r}=Object,s=(a=Object.create(null),t=>{const e=n.call(t);return a[e]||(a[e]=e.slice(8,-1).toLowerCase())});var a;const l=t=>(t=t.toLowerCase(),e=>s(e)===t),c=t=>e=>typeof e===t,{isArray:u}=Array,h=c("undefined");const d=l("ArrayBuffer");const p=c("string"),f=c("function"),g=c("number"),m=t=>null!==t&&"object"==typeof t,y=t=>{if("object"!==s(t))return!1;const e=r(t);return!(null!==e&&e!==Object.prototype&&null!==Object.getPrototypeOf(e)||Symbol.toStringTag in t||Symbol.iterator in t)},v=l("Date"),_=l("File"),C=l("Blob"),b=l("FileList"),E=l("URLSearchParams");function S(t,e,{allOwnKeys:i=!1}={}){if(null==t)return;let o,n;if("object"!=typeof t&&(t=[t]),u(t))for(o=0,n=t.length;o<n;o++)e.call(null,t[o],o,t);else{const n=i?Object.getOwnPropertyNames(t):Object.keys(t),r=n.length;let s;for(o=0;o<r;o++)s=n[o],e.call(null,t[s],s,t)}}function w(t,e){e=e.toLowerCase();const i=Object.keys(t);let o,n=i.length;for(;n-- >0;)if(o=i[n],e===o.toLowerCase())return o;return null}const O="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,x=t=>!h(t)&&t!==O;const P=(T="undefined"!=typeof Uint8Array&&r(Uint8Array),t=>T&&t instanceof T);var T;const M=l("HTMLFormElement"),D=(({hasOwnProperty:t})=>(e,i)=>t.call(e,i))(Object.prototype),A=l("RegExp"),R=(t,e)=>{const i=Object.getOwnPropertyDescriptors(t),o={};S(i,((i,n)=>{!1!==e(i,n,t)&&(o[n]=i)})),Object.defineProperties(t,o)},L="abcdefghijklmnopqrstuvwxyz",I="0123456789",N={DIGIT:I,ALPHA:L,ALPHA_DIGIT:L+L.toUpperCase()+I};const k=l("AsyncFunction"),F={isArray:u,isArrayBuffer:d,isBuffer:function(t){return null!==t&&!h(t)&&null!==t.constructor&&!h(t.constructor)&&f(t.constructor.isBuffer)&&t.constructor.isBuffer(t)},isFormData:t=>{let e;return t&&("function"==typeof FormData&&t instanceof FormData||f(t.append)&&("formdata"===(e=s(t))||"object"===e&&f(t.toString)&&"[object FormData]"===t.toString()))},isArrayBufferView:function(t){let e;return e="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&d(t.buffer),e},isString:p,isNumber:g,isBoolean:t=>!0===t||!1===t,isObject:m,isPlainObject:y,isUndefined:h,isDate:v,isFile:_,isBlob:C,isRegExp:A,isFunction:f,isStream:t=>m(t)&&f(t.pipe),isURLSearchParams:E,isTypedArray:P,isFileList:b,forEach:S,merge:function t(){const{caseless:e}=x(this)&&this||{},i={},o=(o,n)=>{const r=e&&w(i,n)||n;y(i[r])&&y(o)?i[r]=t(i[r],o):y(o)?i[r]=t({},o):u(o)?i[r]=o.slice():i[r]=o};for(let t=0,e=arguments.length;t<e;t++)arguments[t]&&S(arguments[t],o);return i},extend:(t,e,i,{allOwnKeys:n}={})=>(S(e,((e,n)=>{i&&f(e)?t[n]=o(e,i):t[n]=e}),{allOwnKeys:n}),t),trim:t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:t=>(65279===t.charCodeAt(0)&&(t=t.slice(1)),t),inherits:(t,e,i,o)=>{t.prototype=Object.create(e.prototype,o),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),i&&Object.assign(t.prototype,i)},toFlatObject:(t,e,i,o)=>{let n,s,a;const l={};if(e=e||{},null==t)return e;do{for(n=Object.getOwnPropertyNames(t),s=n.length;s-- >0;)a=n[s],o&&!o(a,t,e)||l[a]||(e[a]=t[a],l[a]=!0);t=!1!==i&&r(t)}while(t&&(!i||i(t,e))&&t!==Object.prototype);return e},kindOf:s,kindOfTest:l,endsWith:(t,e,i)=>{t=String(t),(void 0===i||i>t.length)&&(i=t.length),i-=e.length;const o=t.indexOf(e,i);return-1!==o&&o===i},toArray:t=>{if(!t)return null;if(u(t))return t;let e=t.length;if(!g(e))return null;const i=new Array(e);for(;e-- >0;)i[e]=t[e];return i},forEachEntry:(t,e)=>{const i=(t&&t[Symbol.iterator]).call(t);let o;for(;(o=i.next())&&!o.done;){const i=o.value;e.call(t,i[0],i[1])}},matchAll:(t,e)=>{let i;const o=[];for(;null!==(i=t.exec(e));)o.push(i);return o},isHTMLForm:M,hasOwnProperty:D,hasOwnProp:D,reduceDescriptors:R,freezeMethods:t=>{R(t,((e,i)=>{if(f(t)&&-1!==["arguments","caller","callee"].indexOf(i))return!1;const o=t[i];f(o)&&(e.enumerable=!1,"writable"in e?e.writable=!1:e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+i+"'")}))}))},toObjectSet:(t,e)=>{const i={},o=t=>{t.forEach((t=>{i[t]=!0}))};return u(t)?o(t):o(String(t).split(e)),i},toCamelCase:t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(t,e,i){return e.toUpperCase()+i})),noop:()=>{},toFiniteNumber:(t,e)=>(t=+t,Number.isFinite(t)?t:e),findKey:w,global:O,isContextDefined:x,ALPHABET:N,generateString:(t=16,e=N.ALPHA_DIGIT)=>{let i="";const{length:o}=e;for(;t--;)i+=e[Math.random()*o|0];return i},isSpecCompliantForm:function(t){return!!(t&&f(t.append)&&"FormData"===t[Symbol.toStringTag]&&t[Symbol.iterator])},toJSONObject:t=>{const e=new Array(10),i=(t,o)=>{if(m(t)){if(e.indexOf(t)>=0)return;if(!("toJSON"in t)){e[o]=t;const n=u(t)?[]:{};return S(t,((t,e)=>{const r=i(t,o+1);!h(r)&&(n[e]=r)})),e[o]=void 0,n}}return t};return i(t,0)},isAsyncFn:k,isThenable:t=>t&&(m(t)||f(t))&&f(t.then)&&f(t.catch)};function B(t,e,i,o,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=t,this.name="AxiosError",e&&(this.code=e),i&&(this.config=i),o&&(this.request=o),n&&(this.response=n)}F.inherits(B,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:F.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const G=B.prototype,j={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((t=>{j[t]={value:t}})),Object.defineProperties(B,j),Object.defineProperty(G,"isAxiosError",{value:!0}),B.from=(t,e,i,o,n,r)=>{const s=Object.create(G);return F.toFlatObject(t,s,(function(t){return t!==Error.prototype}),(t=>"isAxiosError"!==t)),B.call(s,t.message,e,i,o,n),s.cause=t,s.name=t.name,r&&Object.assign(s,r),s};const V=B,U=null;function W(t){return F.isPlainObject(t)||F.isArray(t)}function H(t){return F.endsWith(t,"[]")?t.slice(0,-2):t}function $(t,e,i){return t?t.concat(e).map((function(t,e){return t=H(t),!i&&e?"["+t+"]":t})).join(i?".":""):e}const z=F.toFlatObject(F,{},null,(function(t){return/^is[A-Z]/.test(t)}));const K=function(t,e,i){if(!F.isObject(t))throw new TypeError("target must be an object");e=e||new(U||FormData);const o=(i=F.toFlatObject(i,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(t,e){return!F.isUndefined(e[t])}))).metaTokens,n=i.visitor||c,r=i.dots,s=i.indexes,a=(i.Blob||"undefined"!=typeof Blob&&Blob)&&F.isSpecCompliantForm(e);if(!F.isFunction(n))throw new TypeError("visitor must be a function");function l(t){if(null===t)return"";if(F.isDate(t))return t.toISOString();if(!a&&F.isBlob(t))throw new V("Blob is not supported. Use a Buffer instead.");return F.isArrayBuffer(t)||F.isTypedArray(t)?a&&"function"==typeof Blob?new Blob([t]):Buffer.from(t):t}function c(t,i,n){let a=t;if(t&&!n&&"object"==typeof t)if(F.endsWith(i,"{}"))i=o?i:i.slice(0,-2),t=JSON.stringify(t);else if(F.isArray(t)&&function(t){return F.isArray(t)&&!t.some(W)}(t)||(F.isFileList(t)||F.endsWith(i,"[]"))&&(a=F.toArray(t)))return i=H(i),a.forEach((function(t,o){!F.isUndefined(t)&&null!==t&&e.append(!0===s?$([i],o,r):null===s?i:i+"[]",l(t))})),!1;return!!W(t)||(e.append($(n,i,r),l(t)),!1)}const u=[],h=Object.assign(z,{defaultVisitor:c,convertValue:l,isVisitable:W});if(!F.isObject(t))throw new TypeError("data must be an object");return function t(i,o){if(!F.isUndefined(i)){if(-1!==u.indexOf(i))throw Error("Circular reference detected in "+o.join("."));u.push(i),F.forEach(i,(function(i,r){!0===(!(F.isUndefined(i)||null===i)&&n.call(e,i,F.isString(r)?r.trim():r,o,h))&&t(i,o?o.concat(r):[r])})),u.pop()}}(t),e};function Y(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,(function(t){return e[t]}))}function X(t,e){this._pairs=[],t&&K(t,this,e)}const Z=X.prototype;Z.append=function(t,e){this._pairs.push([t,e])},Z.toString=function(t){const e=t?function(e){return t.call(this,e,Y)}:Y;return this._pairs.map((function(t){return e(t[0])+"="+e(t[1])}),"").join("&")};const q=X;function J(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Q(t,e,i){if(!e)return t;const o=i&&i.encode||J,n=i&&i.serialize;let r;if(r=n?n(e,i):F.isURLSearchParams(e)?e.toString():new q(e,i).toString(o),r){const e=t.indexOf("#");-1!==e&&(t=t.slice(0,e)),t+=(-1===t.indexOf("?")?"?":"&")+r}return t}const tt=class{constructor(){this.handlers=[]}use(t,e,i){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!i&&i.synchronous,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){F.forEach(this.handlers,(function(e){null!==e&&t(e)}))}},et={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},it={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:q,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},isStandardBrowserEnv:(()=>{let t;return("undefined"==typeof navigator||"ReactNative"!==(t=navigator.product)&&"NativeScript"!==t&&"NS"!==t)&&("undefined"!=typeof window&&"undefined"!=typeof document)})(),isStandardBrowserWebWorkerEnv:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,protocols:["http","https","file","blob","url","data"]};const ot=function(t){function e(t,i,o,n){let r=t[n++];const s=Number.isFinite(+r),a=n>=t.length;if(r=!r&&F.isArray(o)?o.length:r,a)return F.hasOwnProp(o,r)?o[r]=[o[r],i]:o[r]=i,!s;o[r]&&F.isObject(o[r])||(o[r]=[]);return e(t,i,o[r],n)&&F.isArray(o[r])&&(o[r]=function(t){const e={},i=Object.keys(t);let o;const n=i.length;let r;for(o=0;o<n;o++)r=i[o],e[r]=t[r];return e}(o[r])),!s}if(F.isFormData(t)&&F.isFunction(t.entries)){const i={};return F.forEachEntry(t,((t,o)=>{e(function(t){return F.matchAll(/\w+|\[(\w*)]/g,t).map((t=>"[]"===t[0]?"":t[1]||t[0]))}(t),o,i,0)})),i}return null},nt={"Content-Type":void 0};const rt={transitional:et,adapter:["xhr","http"],transformRequest:[function(t,e){const i=e.getContentType()||"",o=i.indexOf("application/json")>-1,n=F.isObject(t);n&&F.isHTMLForm(t)&&(t=new FormData(t));if(F.isFormData(t))return o&&o?JSON.stringify(ot(t)):t;if(F.isArrayBuffer(t)||F.isBuffer(t)||F.isStream(t)||F.isFile(t)||F.isBlob(t))return t;if(F.isArrayBufferView(t))return t.buffer;if(F.isURLSearchParams(t))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let r;if(n){if(i.indexOf("application/x-www-form-urlencoded")>-1)return function(t,e){return K(t,new it.classes.URLSearchParams,Object.assign({visitor:function(t,e,i,o){return it.isNode&&F.isBuffer(t)?(this.append(e,t.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}(t,this.formSerializer).toString();if((r=F.isFileList(t))||i.indexOf("multipart/form-data")>-1){const e=this.env&&this.env.FormData;return K(r?{"files[]":t}:t,e&&new e,this.formSerializer)}}return n||o?(e.setContentType("application/json",!1),function(t,e,i){if(F.isString(t))try{return(e||JSON.parse)(t),F.trim(t)}catch(t){if("SyntaxError"!==t.name)throw t}return(i||JSON.stringify)(t)}(t)):t}],transformResponse:[function(t){const e=this.transitional||rt.transitional,i=e&&e.forcedJSONParsing,o="json"===this.responseType;if(t&&F.isString(t)&&(i&&!this.responseType||o)){const i=!(e&&e.silentJSONParsing)&&o;try{return JSON.parse(t)}catch(t){if(i){if("SyntaxError"===t.name)throw V.from(t,V.ERR_BAD_RESPONSE,this,null,this.response);throw t}}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:it.classes.FormData,Blob:it.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};F.forEach(["delete","get","head"],(function(t){rt.headers[t]={}})),F.forEach(["post","put","patch"],(function(t){rt.headers[t]=F.merge(nt)}));const st=rt,at=F.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),lt=Symbol("internals");function ct(t){return t&&String(t).trim().toLowerCase()}function ut(t){return!1===t||null==t?t:F.isArray(t)?t.map(ut):String(t)}function ht(t,e,i,o,n){return F.isFunction(o)?o.call(this,e,i):(n&&(e=i),F.isString(e)?F.isString(o)?-1!==e.indexOf(o):F.isRegExp(o)?o.test(e):void 0:void 0)}class dt{constructor(t){t&&this.set(t)}set(t,e,i){const o=this;function n(t,e,i){const n=ct(e);if(!n)throw new Error("header name must be a non-empty string");const r=F.findKey(o,n);(!r||void 0===o[r]||!0===i||void 0===i&&!1!==o[r])&&(o[r||e]=ut(t))}const r=(t,e)=>F.forEach(t,((t,i)=>n(t,i,e)));return F.isPlainObject(t)||t instanceof this.constructor?r(t,e):F.isString(t)&&(t=t.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim())?r((t=>{const e={};let i,o,n;return t&&t.split("\n").forEach((function(t){n=t.indexOf(":"),i=t.substring(0,n).trim().toLowerCase(),o=t.substring(n+1).trim(),!i||e[i]&&at[i]||("set-cookie"===i?e[i]?e[i].push(o):e[i]=[o]:e[i]=e[i]?e[i]+", "+o:o)})),e})(t),e):null!=t&&n(e,t,i),this}get(t,e){if(t=ct(t)){const i=F.findKey(this,t);if(i){const t=this[i];if(!e)return t;if(!0===e)return function(t){const e=Object.create(null),i=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=i.exec(t);)e[o[1]]=o[2];return e}(t);if(F.isFunction(e))return e.call(this,t,i);if(F.isRegExp(e))return e.exec(t);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,e){if(t=ct(t)){const i=F.findKey(this,t);return!(!i||void 0===this[i]||e&&!ht(0,this[i],i,e))}return!1}delete(t,e){const i=this;let o=!1;function n(t){if(t=ct(t)){const n=F.findKey(i,t);!n||e&&!ht(0,i[n],n,e)||(delete i[n],o=!0)}}return F.isArray(t)?t.forEach(n):n(t),o}clear(t){const e=Object.keys(this);let i=e.length,o=!1;for(;i--;){const n=e[i];t&&!ht(0,this[n],n,t,!0)||(delete this[n],o=!0)}return o}normalize(t){const e=this,i={};return F.forEach(this,((o,n)=>{const r=F.findKey(i,n);if(r)return e[r]=ut(o),void delete e[n];const s=t?function(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((t,e,i)=>e.toUpperCase()+i))}(n):String(n).trim();s!==n&&delete e[n],e[s]=ut(o),i[s]=!0})),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const e=Object.create(null);return F.forEach(this,((i,o)=>{null!=i&&!1!==i&&(e[o]=t&&F.isArray(i)?i.join(", "):i)})),e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([t,e])=>t+": "+e)).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...e){const i=new this(t);return e.forEach((t=>i.set(t))),i}static accessor(t){const e=(this[lt]=this[lt]={accessors:{}}).accessors,i=this.prototype;function o(t){const o=ct(t);e[o]||(!function(t,e){const i=F.toCamelCase(" "+e);["get","set","has"].forEach((o=>{Object.defineProperty(t,o+i,{value:function(t,i,n){return this[o].call(this,e,t,i,n)},configurable:!0})}))}(i,t),e[o]=!0)}return F.isArray(t)?t.forEach(o):o(t),this}}dt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),F.freezeMethods(dt.prototype),F.freezeMethods(dt);const pt=dt;function ft(t,e){const i=this||st,o=e||i,n=pt.from(o.headers);let r=o.data;return F.forEach(t,(function(t){r=t.call(i,r,n.normalize(),e?e.status:void 0)})),n.normalize(),r}function gt(t){return!(!t||!t.__CANCEL__)}function mt(t,e,i){V.call(this,null==t?"canceled":t,V.ERR_CANCELED,e,i),this.name="CanceledError"}F.inherits(mt,V,{__CANCEL__:!0});const yt=mt;const vt=it.isStandardBrowserEnv?{write:function(t,e,i,o,n,r){const s=[];s.push(t+"="+encodeURIComponent(e)),F.isNumber(i)&&s.push("expires="+new Date(i).toGMTString()),F.isString(o)&&s.push("path="+o),F.isString(n)&&s.push("domain="+n),!0===r&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};function _t(t,e){return t&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)?function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}(t,e):e}const Ct=it.isStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),e=document.createElement("a");let i;function o(i){let o=i;return t&&(e.setAttribute("href",o),o=e.href),e.setAttribute("href",o),{href:e.href,protocol:e.protocol?e.protocol.replace(/:$/,""):"",host:e.host,search:e.search?e.search.replace(/^\?/,""):"",hash:e.hash?e.hash.replace(/^#/,""):"",hostname:e.hostname,port:e.port,pathname:"/"===e.pathname.charAt(0)?e.pathname:"/"+e.pathname}}return i=o(window.location.href),function(t){const e=F.isString(t)?o(t):t;return e.protocol===i.protocol&&e.host===i.host}}():function(){return!0};const bt=function(t,e){t=t||10;const i=new Array(t),o=new Array(t);let n,r=0,s=0;return e=void 0!==e?e:1e3,function(a){const l=Date.now(),c=o[s];n||(n=l),i[r]=a,o[r]=l;let u=s,h=0;for(;u!==r;)h+=i[u++],u%=t;if(r=(r+1)%t,r===s&&(s=(s+1)%t),l-n<e)return;const d=c&&l-c;return d?Math.round(1e3*h/d):void 0}};function Et(t,e){let i=0;const o=bt(50,250);return n=>{const r=n.loaded,s=n.lengthComputable?n.total:void 0,a=r-i,l=o(a);i=r;const c={loaded:r,total:s,progress:s?r/s:void 0,bytes:a,rate:l||void 0,estimated:l&&s&&r<=s?(s-r)/l:void 0,event:n};c[e?"download":"upload"]=!0,t(c)}}const St="undefined"!=typeof XMLHttpRequest,wt={http:U,xhr:St&&function(t){return new Promise((function(e,i){let o=t.data;const n=pt.from(t.headers).normalize(),r=t.responseType;let s;function a(){t.cancelToken&&t.cancelToken.unsubscribe(s),t.signal&&t.signal.removeEventListener("abort",s)}F.isFormData(o)&&(it.isStandardBrowserEnv||it.isStandardBrowserWebWorkerEnv?n.setContentType(!1):n.setContentType("multipart/form-data;",!1));let l=new XMLHttpRequest;if(t.auth){const e=t.auth.username||"",i=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";n.set("Authorization","Basic "+btoa(e+":"+i))}const c=_t(t.baseURL,t.url);function u(){if(!l)return;const o=pt.from("getAllResponseHeaders"in l&&l.getAllResponseHeaders());!function(t,e,i){const o=i.config.validateStatus;i.status&&o&&!o(i.status)?e(new V("Request failed with status code "+i.status,[V.ERR_BAD_REQUEST,V.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i)):t(i)}((function(t){e(t),a()}),(function(t){i(t),a()}),{data:r&&"text"!==r&&"json"!==r?l.response:l.responseText,status:l.status,statusText:l.statusText,headers:o,config:t,request:l}),l=null}if(l.open(t.method.toUpperCase(),Q(c,t.params,t.paramsSerializer),!0),l.timeout=t.timeout,"onloadend"in l?l.onloadend=u:l.onreadystatechange=function(){l&&4===l.readyState&&(0!==l.status||l.responseURL&&0===l.responseURL.indexOf("file:"))&&setTimeout(u)},l.onabort=function(){l&&(i(new V("Request aborted",V.ECONNABORTED,t,l)),l=null)},l.onerror=function(){i(new V("Network Error",V.ERR_NETWORK,t,l)),l=null},l.ontimeout=function(){let e=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const o=t.transitional||et;t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),i(new V(e,o.clarifyTimeoutError?V.ETIMEDOUT:V.ECONNABORTED,t,l)),l=null},it.isStandardBrowserEnv){const e=(t.withCredentials||Ct(c))&&t.xsrfCookieName&&vt.read(t.xsrfCookieName);e&&n.set(t.xsrfHeaderName,e)}void 0===o&&n.setContentType(null),"setRequestHeader"in l&&F.forEach(n.toJSON(),(function(t,e){l.setRequestHeader(e,t)})),F.isUndefined(t.withCredentials)||(l.withCredentials=!!t.withCredentials),r&&"json"!==r&&(l.responseType=t.responseType),"function"==typeof t.onDownloadProgress&&l.addEventListener("progress",Et(t.onDownloadProgress,!0)),"function"==typeof t.onUploadProgress&&l.upload&&l.upload.addEventListener("progress",Et(t.onUploadProgress)),(t.cancelToken||t.signal)&&(s=e=>{l&&(i(!e||e.type?new yt(null,t,l):e),l.abort(),l=null)},t.cancelToken&&t.cancelToken.subscribe(s),t.signal&&(t.signal.aborted?s():t.signal.addEventListener("abort",s)));const h=function(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}(c);h&&-1===it.protocols.indexOf(h)?i(new V("Unsupported protocol "+h+":",V.ERR_BAD_REQUEST,t)):l.send(o||null)}))}};F.forEach(wt,((t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch(t){}Object.defineProperty(t,"adapterName",{value:e})}}));const Ot=t=>{t=F.isArray(t)?t:[t];const{length:e}=t;let i,o;for(let n=0;n<e&&(i=t[n],!(o=F.isString(i)?wt[i.toLowerCase()]:i));n++);if(!o){if(!1===o)throw new V(`Adapter ${i} is not supported by the environment`,"ERR_NOT_SUPPORT");throw new Error(F.hasOwnProp(wt,i)?`Adapter '${i}' is not available in the build`:`Unknown adapter '${i}'`)}if(!F.isFunction(o))throw new TypeError("adapter is not a function");return o};function xt(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new yt(null,t)}function Pt(t){xt(t),t.headers=pt.from(t.headers),t.data=ft.call(t,t.transformRequest),-1!==["post","put","patch"].indexOf(t.method)&&t.headers.setContentType("application/x-www-form-urlencoded",!1);return Ot(t.adapter||st.adapter)(t).then((function(e){return xt(t),e.data=ft.call(t,t.transformResponse,e),e.headers=pt.from(e.headers),e}),(function(e){return gt(e)||(xt(t),e&&e.response&&(e.response.data=ft.call(t,t.transformResponse,e.response),e.response.headers=pt.from(e.response.headers))),Promise.reject(e)}))}const Tt=t=>t instanceof pt?t.toJSON():t;function Mt(t,e){e=e||{};const i={};function o(t,e,i){return F.isPlainObject(t)&&F.isPlainObject(e)?F.merge.call({caseless:i},t,e):F.isPlainObject(e)?F.merge({},e):F.isArray(e)?e.slice():e}function n(t,e,i){return F.isUndefined(e)?F.isUndefined(t)?void 0:o(void 0,t,i):o(t,e,i)}function r(t,e){if(!F.isUndefined(e))return o(void 0,e)}function s(t,e){return F.isUndefined(e)?F.isUndefined(t)?void 0:o(void 0,t):o(void 0,e)}function a(i,n,r){return r in e?o(i,n):r in t?o(void 0,i):void 0}const l={url:r,method:r,data:r,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(t,e)=>n(Tt(t),Tt(e),!0)};return F.forEach(Object.keys(Object.assign({},t,e)),(function(o){const r=l[o]||n,s=r(t[o],e[o],o);F.isUndefined(s)&&r!==a||(i[o]=s)})),i}const Dt="1.4.0",At={};["object","boolean","number","function","string","symbol"].forEach(((t,e)=>{At[t]=function(i){return typeof i===t||"a"+(e<1?"n ":" ")+t}}));const Rt={};At.transitional=function(t,e,i){function o(t,e){return"[Axios v1.4.0] Transitional option '"+t+"'"+e+(i?". "+i:"")}return(i,n,r)=>{if(!1===t)throw new V(o(n," has been removed"+(e?" in "+e:"")),V.ERR_DEPRECATED);return e&&!Rt[n]&&(Rt[n]=!0,console.warn(o(n," has been deprecated since v"+e+" and will be removed in the near future"))),!t||t(i,n,r)}};const Lt={assertOptions:function(t,e,i){if("object"!=typeof t)throw new V("options must be an object",V.ERR_BAD_OPTION_VALUE);const o=Object.keys(t);let n=o.length;for(;n-- >0;){const r=o[n],s=e[r];if(s){const e=t[r],i=void 0===e||s(e,r,t);if(!0!==i)throw new V("option "+r+" must be "+i,V.ERR_BAD_OPTION_VALUE)}else if(!0!==i)throw new V("Unknown option "+r,V.ERR_BAD_OPTION)}},validators:At},It=Lt.validators;class Nt{constructor(t){this.defaults=t,this.interceptors={request:new tt,response:new tt}}request(t,e){"string"==typeof t?(e=e||{}).url=t:e=t||{},e=Mt(this.defaults,e);const{transitional:i,paramsSerializer:o,headers:n}=e;let r;void 0!==i&&Lt.assertOptions(i,{silentJSONParsing:It.transitional(It.boolean),forcedJSONParsing:It.transitional(It.boolean),clarifyTimeoutError:It.transitional(It.boolean)},!1),null!=o&&(F.isFunction(o)?e.paramsSerializer={serialize:o}:Lt.assertOptions(o,{encode:It.function,serialize:It.function},!0)),e.method=(e.method||this.defaults.method||"get").toLowerCase(),r=n&&F.merge(n.common,n[e.method]),r&&F.forEach(["delete","get","head","post","put","patch","common"],(t=>{delete n[t]})),e.headers=pt.concat(r,n);const s=[];let a=!0;this.interceptors.request.forEach((function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(a=a&&t.synchronous,s.unshift(t.fulfilled,t.rejected))}));const l=[];let c;this.interceptors.response.forEach((function(t){l.push(t.fulfilled,t.rejected)}));let u,h=0;if(!a){const t=[Pt.bind(this),void 0];for(t.unshift.apply(t,s),t.push.apply(t,l),u=t.length,c=Promise.resolve(e);h<u;)c=c.then(t[h++],t[h++]);return c}u=s.length;let d=e;for(h=0;h<u;){const t=s[h++],e=s[h++];try{d=t(d)}catch(t){e.call(this,t);break}}try{c=Pt.call(this,d)}catch(t){return Promise.reject(t)}for(h=0,u=l.length;h<u;)c=c.then(l[h++],l[h++]);return c}getUri(t){return Q(_t((t=Mt(this.defaults,t)).baseURL,t.url),t.params,t.paramsSerializer)}}F.forEach(["delete","get","head","options"],(function(t){Nt.prototype[t]=function(e,i){return this.request(Mt(i||{},{method:t,url:e,data:(i||{}).data}))}})),F.forEach(["post","put","patch"],(function(t){function e(e){return function(i,o,n){return this.request(Mt(n||{},{method:t,headers:e?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Nt.prototype[t]=e(),Nt.prototype[t+"Form"]=e(!0)}));const kt=Nt;class Ft{constructor(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");let e;this.promise=new Promise((function(t){e=t}));const i=this;this.promise.then((t=>{if(!i._listeners)return;let e=i._listeners.length;for(;e-- >0;)i._listeners[e](t);i._listeners=null})),this.promise.then=t=>{let e;const o=new Promise((t=>{i.subscribe(t),e=t})).then(t);return o.cancel=function(){i.unsubscribe(e)},o},t((function(t,o,n){i.reason||(i.reason=new yt(t,o,n),e(i.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){this.reason?t(this.reason):this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const e=this._listeners.indexOf(t);-1!==e&&this._listeners.splice(e,1)}static source(){let t;return{token:new Ft((function(e){t=e})),cancel:t}}}const Bt=Ft;const Gt={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Gt).forEach((([t,e])=>{Gt[e]=t}));const jt=Gt;const Vt=function t(e){const i=new kt(e),n=o(kt.prototype.request,i);return F.extend(n,kt.prototype,i,{allOwnKeys:!0}),F.extend(n,i,null,{allOwnKeys:!0}),n.create=function(i){return t(Mt(e,i))},n}(st);Vt.Axios=kt,Vt.CanceledError=yt,Vt.CancelToken=Bt,Vt.isCancel=gt,Vt.VERSION=Dt,Vt.toFormData=K,Vt.AxiosError=V,Vt.Cancel=Vt.CanceledError,Vt.all=function(t){return Promise.all(t)},Vt.spread=function(t){return function(e){return t.apply(null,e)}},Vt.isAxiosError=function(t){return F.isObject(t)&&!0===t.isAxiosError},Vt.mergeConfig=Mt,Vt.AxiosHeaders=pt,Vt.formToJSON=t=>ot(F.isHTMLForm(t)?new FormData(t):t),Vt.HttpStatusCode=jt,Vt.default=Vt;const Ut=Vt},830:(t,e,i)=>{"use strict";i.d(e,{WB:()=>q,Q_:()=>st});var o=i(2262),n=i(6252),r=i(6121);function s(){return"undefined"!=typeof navigator&&"undefined"!=typeof window?window:void 0!==i.g?i.g:{}}const a="function"==typeof Proxy,l="devtools-plugin:setup";let c,u,h;function d(){return void 0!==c||("undefined"!=typeof window&&window.performance?(c=!0,u=window.performance):void 0!==i.g&&(null===(t=i.g.perf_hooks)||void 0===t?void 0:t.performance)?(c=!0,u=i.g.perf_hooks.performance):c=!1),c?u.now():Date.now();var t}class p{constructor(t,e){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=t,this.hook=e;const i={};if(t.settings)for(const e in t.settings){const o=t.settings[e];i[e]=o.defaultValue}const o=`__vue-devtools-plugin-settings__${t.id}`;let n=Object.assign({},i);try{const t=localStorage.getItem(o),e=JSON.parse(t);Object.assign(n,e)}catch(t){}this.fallbacks={getSettings:()=>n,setSettings(t){try{localStorage.setItem(o,JSON.stringify(t))}catch(t){}n=t},now:()=>d()},e&&e.on("plugin:settings:set",((t,e)=>{t===this.plugin.id&&this.fallbacks.setSettings(e)})),this.proxiedOn=new Proxy({},{get:(t,e)=>this.target?this.target.on[e]:(...t)=>{this.onQueue.push({method:e,args:t})}}),this.proxiedTarget=new Proxy({},{get:(t,e)=>this.target?this.target[e]:"on"===e?this.proxiedOn:Object.keys(this.fallbacks).includes(e)?(...t)=>(this.targetQueue.push({method:e,args:t,resolve:()=>{}}),this.fallbacks[e](...t)):(...t)=>new Promise((i=>{this.targetQueue.push({method:e,args:t,resolve:i})}))})}async setRealTarget(t){this.target=t;for(const t of this.onQueue)this.target.on[t.method](...t.args);for(const t of this.targetQueue)t.resolve(await this.target[t.method](...t.args))}}function f(t,e){const i=t,o=s(),n=s().__VUE_DEVTOOLS_GLOBAL_HOOK__,r=a&&i.enableEarlyProxy;if(!n||!o.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__&&r){const t=r?new p(i,n):null;(o.__VUE_DEVTOOLS_PLUGINS__=o.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:i,setupFn:e,proxy:t}),t&&e(t.proxiedTarget)}else n.emit(l,t,e)}const g=t=>h=t,m=Symbol();function y(t){return t&&"object"==typeof t&&"[object Object]"===Object.prototype.toString.call(t)&&"function"!=typeof t.toJSON}var v;!function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"}(v||(v={}));const _="undefined"!=typeof window,C=!1,b=(()=>"object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:"object"==typeof globalThis?globalThis:{HTMLElement:null})();function E(t,e,i){const o=new XMLHttpRequest;o.open("GET",t),o.responseType="blob",o.onload=function(){P(o.response,e,i)},o.onerror=function(){console.error("could not download file")},o.send()}function S(t){const e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(t){}return e.status>=200&&e.status<=299}function w(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(e){const i=document.createEvent("MouseEvents");i.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(i)}}const O="object"==typeof navigator?navigator:{userAgent:""},x=(()=>/Macintosh/.test(O.userAgent)&&/AppleWebKit/.test(O.userAgent)&&!/Safari/.test(O.userAgent))(),P=_?"undefined"!=typeof HTMLAnchorElement&&"download"in HTMLAnchorElement.prototype&&!x?function(t,e="download",i){const o=document.createElement("a");o.download=e,o.rel="noopener","string"==typeof t?(o.href=t,o.origin!==location.origin?S(o.href)?E(t,e,i):(o.target="_blank",w(o)):w(o)):(o.href=URL.createObjectURL(t),setTimeout((function(){URL.revokeObjectURL(o.href)}),4e4),setTimeout((function(){w(o)}),0))}:"msSaveOrOpenBlob"in O?function(t,e="download",i){if("string"==typeof t)if(S(t))E(t,e,i);else{const e=document.createElement("a");e.href=t,e.target="_blank",setTimeout((function(){w(e)}))}else navigator.msSaveOrOpenBlob(function(t,{autoBom:e=!1}={}){return e&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob([String.fromCharCode(65279),t],{type:t.type}):t}(t,i),e)}:function(t,e,i,o){(o=o||open("","_blank"))&&(o.document.title=o.document.body.innerText="downloading...");if("string"==typeof t)return E(t,e,i);const n="application/octet-stream"===t.type,r=/constructor/i.test(String(b.HTMLElement))||"safari"in b,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||n&&r||x)&&"undefined"!=typeof FileReader){const e=new FileReader;e.onloadend=function(){let t=e.result;if("string"!=typeof t)throw o=null,new Error("Wrong reader.result type");t=s?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),o?o.location.href=t:location.assign(t),o=null},e.readAsDataURL(t)}else{const e=URL.createObjectURL(t);o?o.location.assign(e):location.href=e,o=null,setTimeout((function(){URL.revokeObjectURL(e)}),4e4)}}:()=>{};function T(t,e){const i="🍍 "+t;"function"==typeof __VUE_DEVTOOLS_TOAST__?__VUE_DEVTOOLS_TOAST__(i,e):"error"===e?console.error(i):"warn"===e?console.warn(i):console.log(i)}function M(t){return"_a"in t&&"install"in t}function D(){if(!("clipboard"in navigator))return T("Your browser doesn't support the Clipboard API","error"),!0}function A(t){return!!(t instanceof Error&&t.message.toLowerCase().includes("document is not focused"))&&(T('You need to activate the "Emulate a focused page" setting in the "Rendering" panel of devtools.',"warn"),!0)}let R;async function L(t){try{const e=await(R||(R=document.createElement("input"),R.type="file",R.accept=".json"),function(){return new Promise(((t,e)=>{R.onchange=async()=>{const e=R.files;if(!e)return t(null);const i=e.item(0);return t(i?{text:await i.text(),file:i}:null)},R.oncancel=()=>t(null),R.onerror=e,R.click()}))}),i=await e();if(!i)return;const{text:o,file:n}=i;t.state.value=JSON.parse(o),T(`Global state imported from "${n.name}".`)}catch(t){T("Failed to export the state as JSON. Check the console for more details.","error"),console.error(t)}}function I(t){return{_custom:{display:t}}}const N="🍍 Pinia (root)",k="_root";function F(t){return M(t)?{id:k,label:N}:{id:t.$id,label:t.$id}}function B(t){return t?Array.isArray(t)?t.reduce(((t,e)=>(t.keys.push(e.key),t.operations.push(e.type),t.oldValue[e.key]=e.oldValue,t.newValue[e.key]=e.newValue,t)),{oldValue:{},keys:[],operations:[],newValue:{}}):{operation:I(t.type),key:I(t.key),oldValue:t.oldValue,newValue:t.newValue}:{}}function G(t){switch(t){case v.direct:return"mutation";case v.patchFunction:case v.patchObject:return"$patch";default:return"unknown"}}let j=!0;const V=[],U="pinia:mutations",W="pinia",{assign:H}=Object,$=t=>"🍍 "+t;function z(t,e){f({id:"dev.esm.pinia",label:"Pinia 🍍",logo:"https://pinia.vuejs.org/logo.svg",packageName:"pinia",homepage:"https://pinia.vuejs.org",componentStateTypes:V,app:t},(i=>{"function"!=typeof i.now&&T("You seem to be using an outdated version of Vue Devtools. Are you still using the Beta release instead of the stable one? You can find the links at https://devtools.vuejs.org/guide/installation.html."),i.addTimelineLayer({id:U,label:"Pinia 🍍",color:15064968}),i.addInspector({id:W,label:"Pinia 🍍",icon:"storage",treeFilterPlaceholder:"Search stores",actions:[{icon:"content_copy",action:()=>{!async function(t){if(!D())try{await navigator.clipboard.writeText(JSON.stringify(t.state.value)),T("Global state copied to clipboard.")}catch(t){if(A(t))return;T("Failed to serialize the state. Check the console for more details.","error"),console.error(t)}}(e)},tooltip:"Serialize and copy the state"},{icon:"content_paste",action:async()=>{await async function(t){if(!D())try{t.state.value=JSON.parse(await navigator.clipboard.readText()),T("Global state pasted from clipboard.")}catch(t){if(A(t))return;T("Failed to deserialize the state from clipboard. Check the console for more details.","error"),console.error(t)}}(e),i.sendInspectorTree(W),i.sendInspectorState(W)},tooltip:"Replace the state with the content of your clipboard"},{icon:"save",action:()=>{!async function(t){try{P(new Blob([JSON.stringify(t.state.value)],{type:"text/plain;charset=utf-8"}),"pinia-state.json")}catch(t){T("Failed to export the state as JSON. Check the console for more details.","error"),console.error(t)}}(e)},tooltip:"Save the state as a JSON file"},{icon:"folder_open",action:async()=>{await L(e),i.sendInspectorTree(W),i.sendInspectorState(W)},tooltip:"Import the state from a JSON file"}],nodeActions:[{icon:"restore",tooltip:"Reset the state (option store only)",action:t=>{const i=e._s.get(t);i?i._isOptionsAPI?(i.$reset(),T(`Store "${t}" reset.`)):T(`Cannot reset "${t}" store because it's a setup store.`,"warn"):T(`Cannot reset "${t}" store because it wasn't found.`,"warn")}}]}),i.on.inspectComponent(((t,e)=>{const i=t.componentInstance&&t.componentInstance.proxy;if(i&&i._pStores){const e=t.componentInstance.proxy._pStores;Object.values(e).forEach((e=>{t.instanceData.state.push({type:$(e.$id),key:"state",editable:!0,value:e._isOptionsAPI?{_custom:{value:(0,o.IU)(e.$state),actions:[{icon:"restore",tooltip:"Reset the state of this store",action:()=>e.$reset()}]}}:Object.keys(e.$state).reduce(((t,i)=>(t[i]=e.$state[i],t)),{})}),e._getters&&e._getters.length&&t.instanceData.state.push({type:$(e.$id),key:"getters",editable:!1,value:e._getters.reduce(((t,i)=>{try{t[i]=e[i]}catch(e){t[i]=e}return t}),{})})}))}})),i.on.getInspectorTree((i=>{if(i.app===t&&i.inspectorId===W){let t=[e];t=t.concat(Array.from(e._s.values())),i.rootNodes=(i.filter?t.filter((t=>"$id"in t?t.$id.toLowerCase().includes(i.filter.toLowerCase()):N.toLowerCase().includes(i.filter.toLowerCase()))):t).map(F)}})),i.on.getInspectorState((i=>{if(i.app===t&&i.inspectorId===W){const t=i.nodeId===k?e:e._s.get(i.nodeId);if(!t)return;t&&(i.state=function(t){if(M(t)){const e=Array.from(t._s.keys()),i=t._s,o={state:e.map((e=>({editable:!0,key:e,value:t.state.value[e]}))),getters:e.filter((t=>i.get(t)._getters)).map((t=>{const e=i.get(t);return{editable:!1,key:t,value:e._getters.reduce(((t,i)=>(t[i]=e[i],t)),{})}}))};return o}const e={state:Object.keys(t.$state).map((e=>({editable:!0,key:e,value:t.$state[e]})))};return t._getters&&t._getters.length&&(e.getters=t._getters.map((e=>({editable:!1,key:e,value:t[e]})))),t._customProperties.size&&(e.customProperties=Array.from(t._customProperties).map((e=>({editable:!0,key:e,value:t[e]})))),e}(t))}})),i.on.editInspectorState(((i,o)=>{if(i.app===t&&i.inspectorId===W){const t=i.nodeId===k?e:e._s.get(i.nodeId);if(!t)return T(`store "${i.nodeId}" not found`,"error");const{path:o}=i;M(t)?o.unshift("state"):1===o.length&&t._customProperties.has(o[0])&&!(o[0]in t.$state)||o.unshift("$state"),j=!1,i.set(t,o,i.state.value),j=!0}})),i.on.editComponentState((t=>{if(t.type.startsWith("🍍")){const i=t.type.replace(/^🍍\s*/,""),o=e._s.get(i);if(!o)return T(`store "${i}" not found`,"error");const{path:n}=t;if("state"!==n[0])return T(`Invalid path for store "${i}":\n${n}\nOnly state can be modified.`);n[0]="$state",j=!1,t.set(o,n,t.state.value),j=!0}}))}))}let K,Y=0;function X(t,e){const i=e.reduce(((e,i)=>(e[i]=(0,o.IU)(t)[i],e)),{});for(const e in i)t[e]=function(){const o=Y,n=new Proxy(t,{get:(...t)=>(K=o,Reflect.get(...t)),set:(...t)=>(K=o,Reflect.set(...t))});return i[e].apply(n,arguments)}}function Z({app:t,store:e,options:i}){if(!e.$id.startsWith("__hot:")){if(i.state&&(e._isOptionsAPI=!0),"function"==typeof i.state){X(e,Object.keys(i.actions));const t=e._hotUpdate;(0,o.IU)(e)._hotUpdate=function(i){t.apply(this,arguments),X(e,Object.keys(i._hmrPayload.actions))}}!function(t,e){V.includes($(e.$id))||V.push($(e.$id)),f({id:"dev.esm.pinia",label:"Pinia 🍍",logo:"https://pinia.vuejs.org/logo.svg",packageName:"pinia",homepage:"https://pinia.vuejs.org",componentStateTypes:V,app:t,settings:{logStoreChanges:{label:"Notify about new/deleted stores",type:"boolean",defaultValue:!0}}},(t=>{const i="function"==typeof t.now?t.now.bind(t):Date.now;e.$onAction((({after:o,onError:n,name:r,args:s})=>{const a=Y++;t.addTimelineEvent({layerId:U,event:{time:i(),title:"🛫 "+r,subtitle:"start",data:{store:I(e.$id),action:I(r),args:s},groupId:a}}),o((o=>{K=void 0,t.addTimelineEvent({layerId:U,event:{time:i(),title:"🛬 "+r,subtitle:"end",data:{store:I(e.$id),action:I(r),args:s,result:o},groupId:a}})})),n((o=>{K=void 0,t.addTimelineEvent({layerId:U,event:{time:i(),logType:"error",title:"💥 "+r,subtitle:"end",data:{store:I(e.$id),action:I(r),args:s,error:o},groupId:a}})}))}),!0),e._customProperties.forEach((r=>{(0,n.YP)((()=>(0,o.SU)(e[r])),((e,o)=>{t.notifyComponentUpdate(),t.sendInspectorState(W),j&&t.addTimelineEvent({layerId:U,event:{time:i(),title:"Change",subtitle:r,data:{newValue:e,oldValue:o},groupId:K}})}),{deep:!0})})),e.$subscribe((({events:o,type:n},r)=>{if(t.notifyComponentUpdate(),t.sendInspectorState(W),!j)return;const s={time:i(),title:G(n),data:H({store:I(e.$id)},B(o)),groupId:K};K=void 0,n===v.patchFunction?s.subtitle="⤵️":n===v.patchObject?s.subtitle="🧩":o&&!Array.isArray(o)&&(s.subtitle=o.type),o&&(s.data["rawEvent(s)"]={_custom:{display:"DebuggerEvent",type:"object",tooltip:"raw DebuggerEvent[]",value:o}}),t.addTimelineEvent({layerId:U,event:s})}),{detached:!0,flush:"sync"});const r=e._hotUpdate;e._hotUpdate=(0,o.Xl)((o=>{r(o),t.addTimelineEvent({layerId:U,event:{time:i(),title:"🔥 "+e.$id,subtitle:"HMR update",data:{store:I(e.$id),info:I("HMR update")}}}),t.notifyComponentUpdate(),t.sendInspectorTree(W),t.sendInspectorState(W)}));const{$dispose:s}=e;e.$dispose=()=>{s(),t.notifyComponentUpdate(),t.sendInspectorTree(W),t.sendInspectorState(W),t.getSettings().logStoreChanges&&T(`Disposed "${e.$id}" store 🗑`)},t.notifyComponentUpdate(),t.sendInspectorTree(W),t.sendInspectorState(W),t.getSettings().logStoreChanges&&T(`"${e.$id}" store installed 🆕`)}))}(t,e)}}function q(){const t=(0,o.B)(!0),e=t.run((()=>(0,o.iH)({})));let i=[],n=[];const s=(0,o.Xl)({install(t){g(s),r.$Q||(s._a=t,t.provide(m,s),t.config.globalProperties.$pinia=s,C&&z(t,s),n.forEach((t=>i.push(t))),n=[])},use(t){return this._a||r.$Q?i.push(t):n.push(t),this},_p:i,_a:null,_e:t,_s:new Map,state:e});return C&&"undefined"!=typeof Proxy&&s.use(Z),s}const J=()=>{};function Q(t,e,i,n=J){t.push(e);const r=()=>{const i=t.indexOf(e);i>-1&&(t.splice(i,1),n())};return!i&&(0,o.nZ)()&&(0,o.EB)(r),r}function tt(t,...e){t.slice().forEach((t=>{t(...e)}))}function et(t,e){t instanceof Map&&e instanceof Map&&e.forEach(((e,i)=>t.set(i,e))),t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const i in e){if(!e.hasOwnProperty(i))continue;const n=e[i],r=t[i];y(r)&&y(n)&&t.hasOwnProperty(i)&&!(0,o.dq)(n)&&!(0,o.PG)(n)?t[i]=et(r,n):t[i]=n}return t}const it=Symbol(),ot=new WeakMap;const{assign:nt}=Object;function rt(t,e,i={},s,a,l){let c;const u=nt({actions:{}},i);const h={deep:!0};let d,p;let f,m=(0,o.Xl)([]),_=(0,o.Xl)([]);const b=s.state.value[t];l||b||(r.$Q?(0,r.t8)(s.state.value,t,{}):s.state.value[t]={});const E=(0,o.iH)({});let S;function w(e){let i;d=p=!1,"function"==typeof e?(e(s.state.value[t]),i={type:v.patchFunction,storeId:t,events:f}):(et(s.state.value[t],e),i={type:v.patchObject,payload:e,storeId:t,events:f});const o=S=Symbol();(0,n.Y3)().then((()=>{S===o&&(d=!0)})),p=!0,tt(m,i,s.state.value[t])}const O=l?function(){const{state:t}=i,e=t?t():{};this.$patch((t=>{nt(t,e)}))}:J;function x(e,i){return function(){g(s);const o=Array.from(arguments),n=[],r=[];let a;tt(_,{args:o,name:e,store:M,after:function(t){n.push(t)},onError:function(t){r.push(t)}});try{a=i.apply(this&&this.$id===t?this:M,o)}catch(t){throw tt(r,t),t}return a instanceof Promise?a.then((t=>(tt(n,t),t))).catch((t=>(tt(r,t),Promise.reject(t)))):(tt(n,a),a)}}const P=(0,o.Xl)({actions:{},getters:{},state:[],hotState:E}),T={_p:s,$id:t,$onAction:Q.bind(null,_),$patch:w,$reset:O,$subscribe(e,i={}){const o=Q(m,e,i.detached,(()=>r())),r=c.run((()=>(0,n.YP)((()=>s.state.value[t]),(o=>{("sync"===i.flush?p:d)&&e({storeId:t,type:v.direct,events:f},o)}),nt({},h,i))));return o},$dispose:function(){c.stop(),m=[],_=[],s._s.delete(t)}};r.$Q&&(T._r=!1);const M=(0,o.qj)(C?nt({_hmrPayload:P,_customProperties:(0,o.Xl)(new Set)},T):T);s._s.set(t,M);const D=s._e.run((()=>(c=(0,o.B)(),c.run((()=>e())))));for(const e in D){const i=D[e];if((0,o.dq)(i)&&(R=i,!(0,o.dq)(R)||!R.effect)||(0,o.PG)(i))l||(!b||(A=i,r.$Q?ot.has(A):y(A)&&A.hasOwnProperty(it))||((0,o.dq)(i)?i.value=b[e]:et(i,b[e])),r.$Q?(0,r.t8)(s.state.value[t],e,i):s.state.value[t][e]=i);else if("function"==typeof i){const t=x(e,i);r.$Q?(0,r.t8)(D,e,t):D[e]=t,u.actions[e]=i}else 0}var A,R;if(r.$Q?Object.keys(D).forEach((t=>{(0,r.t8)(M,t,D[t])})):(nt(M,D),nt((0,o.IU)(M),D)),Object.defineProperty(M,"$state",{get:()=>s.state.value[t],set:t=>{w((e=>{nt(e,t)}))}}),C){const t={writable:!0,configurable:!0,enumerable:!1};["_p","_hmrPayload","_getters","_customProperties"].forEach((e=>{Object.defineProperty(M,e,nt({value:M[e]},t))}))}return r.$Q&&(M._r=!0),s._p.forEach((t=>{if(C){const e=c.run((()=>t({store:M,app:s._a,pinia:s,options:u})));Object.keys(e||{}).forEach((t=>M._customProperties.add(t))),nt(M,e)}else nt(M,c.run((()=>t({store:M,app:s._a,pinia:s,options:u}))))})),b&&l&&i.hydrate&&i.hydrate(M.$state,b),d=!0,p=!0,M}function st(t,e,i){let s,a;const l="function"==typeof e;function c(t,i){const c=(0,n.FN)();(t=t||c&&(0,n.f3)(m,null))&&g(t),(t=h)._s.has(s)||(l?rt(s,e,a,t):function(t,e,i,s){const{state:a,actions:l,getters:c}=e,u=i.state.value[t];let h;h=rt(t,(function(){u||(r.$Q?(0,r.t8)(i.state.value,t,a?a():{}):i.state.value[t]=a?a():{});const e=(0,o.BK)(i.state.value[t]);return nt(e,l,Object.keys(c||{}).reduce(((e,s)=>(e[s]=(0,o.Xl)((0,n.Fl)((()=>{g(i);const e=i._s.get(t);if(!r.$Q||e._r)return c[s].call(e,e)}))),e)),{}))}),e,i,0,!0)}(s,a,t));return t._s.get(s)}return"string"==typeof t?(s=t,a=l?i:e):(a=t,s=t.id),c.$id=s,c}},6121:(t,e,i)=>{"use strict";i.d(e,{$B:()=>n,$Q:()=>o,t8:()=>r});var o=!1,n=!0;function r(t,e,i){return Array.isArray(t)?(t.length=Math.max(t.length,e),t.splice(e,1,i),i):(t[e]=i,i)}},2201:(t,e,i)=>{"use strict";i.d(e,{p7:()=>kt,r5:()=>R,yj:()=>Bt});var o=i(6252),n=i(2262);const r="undefined"!=typeof window;function s(t){return t.__esModule||"Module"===t[Symbol.toStringTag]}const a=Object.assign;function l(t,e){const i={};for(const o in e){const n=e[o];i[o]=u(n)?n.map(t):t(n)}return i}const c=()=>{},u=Array.isArray;const h=/\/$/,d=t=>t.replace(h,"");function p(t,e,i="/"){let o,n={},r="",s="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(o=e.slice(0,l),r=e.slice(l+1,a>-1?a:e.length),n=t(r)),a>-1&&(o=o||e.slice(0,a),s=e.slice(a,e.length)),o=function(t,e){if(t.startsWith("/"))return t;0;if(!t)return e;const i=e.split("/"),o=t.split("/");let n,r,s=i.length-1;for(n=0;n<o.length;n++)if(r=o[n],"."!==r){if(".."!==r)break;s>1&&s--}return i.slice(0,s).join("/")+"/"+o.slice(n-(n===o.length?1:0)).join("/")}(null!=o?o:e,i),{fullPath:o+(r&&"?")+r+s,path:o,query:n,hash:s}}function f(t,e){return e&&t.toLowerCase().startsWith(e.toLowerCase())?t.slice(e.length)||"/":t}function g(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function m(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const i in t)if(!y(t[i],e[i]))return!1;return!0}function y(t,e){return u(t)?v(t,e):u(e)?v(e,t):t===e}function v(t,e){return u(e)?t.length===e.length&&t.every(((t,i)=>t===e[i])):1===t.length&&t[0]===e}var _,C;!function(t){t.pop="pop",t.push="push"}(_||(_={})),function(t){t.back="back",t.forward="forward",t.unknown=""}(C||(C={}));function b(t){if(!t)if(r){const e=document.querySelector("base");t=(t=e&&e.getAttribute("href")||"/").replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return"/"!==t[0]&&"#"!==t[0]&&(t="/"+t),d(t)}const E=/^[^#]+#/;function S(t,e){return t.replace(E,"#")+e}const w=()=>({left:window.pageXOffset,top:window.pageYOffset});function O(t){let e;if("el"in t){const i=t.el,o="string"==typeof i&&i.startsWith("#");0;const n="string"==typeof i?o?document.getElementById(i.slice(1)):document.querySelector(i):i;if(!n)return;e=function(t,e){const i=document.documentElement.getBoundingClientRect(),o=t.getBoundingClientRect();return{behavior:e.behavior,left:o.left-i.left-(e.left||0),top:o.top-i.top-(e.top||0)}}(n,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(null!=e.left?e.left:window.pageXOffset,null!=e.top?e.top:window.pageYOffset)}function x(t,e){return(history.state?history.state.position-e:-1)+t}const P=new Map;let T=()=>location.protocol+"//"+location.host;function M(t,e){const{pathname:i,search:o,hash:n}=e,r=t.indexOf("#");if(r>-1){let e=n.includes(t.slice(r))?t.slice(r).length:1,i=n.slice(e);return"/"!==i[0]&&(i="/"+i),f(i,"")}return f(i,t)+o+n}function D(t,e,i,o=!1,n=!1){return{back:t,current:e,forward:i,replaced:o,position:window.history.length,scroll:n?w():null}}function A(t){const e=function(t){const{history:e,location:i}=window,o={value:M(t,i)},n={value:e.state};function r(o,r,s){const a=t.indexOf("#"),l=a>-1?(i.host&&document.querySelector("base")?t:t.slice(a))+o:T()+t+o;try{e[s?"replaceState":"pushState"](r,"",l),n.value=r}catch(t){console.error(t),i[s?"replace":"assign"](l)}}return n.value||r(o.value,{back:null,current:o.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0),{location:o,state:n,push:function(t,i){const s=a({},n.value,e.state,{forward:t,scroll:w()});r(s.current,s,!0),r(t,a({},D(o.value,t,null),{position:s.position+1},i),!1),o.value=t},replace:function(t,i){r(t,a({},e.state,D(n.value.back,t,n.value.forward,!0),i,{position:n.value.position}),!0),o.value=t}}}(t=b(t)),i=function(t,e,i,o){let n=[],r=[],s=null;const l=({state:r})=>{const a=M(t,location),l=i.value,c=e.value;let u=0;if(r){if(i.value=a,e.value=r,s&&s===l)return void(s=null);u=c?r.position-c.position:0}else o(a);n.forEach((t=>{t(i.value,l,{delta:u,type:_.pop,direction:u?u>0?C.forward:C.back:C.unknown})}))};function c(){const{history:t}=window;t.state&&t.replaceState(a({},t.state,{scroll:w()}),"")}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",c),{pauseListeners:function(){s=i.value},listen:function(t){n.push(t);const e=()=>{const e=n.indexOf(t);e>-1&&n.splice(e,1)};return r.push(e),e},destroy:function(){for(const t of r)t();r=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",c)}}}(t,e.state,e.location,e.replace);const o=a({location:"",base:t,go:function(t,e=!0){e||i.pauseListeners(),history.go(t)},createHref:S.bind(null,t)},e,i);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>e.state.value}),o}function R(t){return(t=location.host?t||location.pathname+location.search:"").includes("#")||(t+="#"),A(t)}function L(t){return"string"==typeof t||"symbol"==typeof t}const I={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},N=Symbol("");var k;!function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"}(k||(k={}));function F(t,e){return a(new Error,{type:t,[N]:!0},e)}function B(t,e){return t instanceof Error&&N in t&&(null==e||!!(t.type&e))}const G="[^/]+?",j={sensitive:!1,strict:!1,start:!0,end:!0},V=/[.+*?^${}()[\]/\\]/g;function U(t,e){let i=0;for(;i<t.length&&i<e.length;){const o=e[i]-t[i];if(o)return o;i++}return t.length<e.length?1===t.length&&80===t[0]?-1:1:t.length>e.length?1===e.length&&80===e[0]?1:-1:0}function W(t,e){let i=0;const o=t.score,n=e.score;for(;i<o.length&&i<n.length;){const t=U(o[i],n[i]);if(t)return t;i++}if(1===Math.abs(n.length-o.length)){if(H(o))return 1;if(H(n))return-1}return n.length-o.length}function H(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const $={type:0,value:""},z=/[a-zA-Z0-9_]/;function K(t,e,i){const o=function(t,e){const i=a({},j,e),o=[];let n=i.start?"^":"";const r=[];for(const e of t){const t=e.length?[]:[90];i.strict&&!e.length&&(n+="/");for(let o=0;o<e.length;o++){const s=e[o];let a=40+(i.sensitive?.25:0);if(0===s.type)o||(n+="/"),n+=s.value.replace(V,"\\$&"),a+=40;else if(1===s.type){const{value:t,repeatable:i,optional:l,regexp:c}=s;r.push({name:t,repeatable:i,optional:l});const u=c||G;if(u!==G){a+=10;try{new RegExp(`(${u})`)}catch(e){throw new Error(`Invalid custom RegExp for param "${t}" (${u}): `+e.message)}}let h=i?`((?:${u})(?:/(?:${u}))*)`:`(${u})`;o||(h=l&&e.length<2?`(?:/${h})`:"/"+h),l&&(h+="?"),n+=h,a+=20,l&&(a+=-8),i&&(a+=-20),".*"===u&&(a+=-50)}t.push(a)}o.push(t)}if(i.strict&&i.end){const t=o.length-1;o[t][o[t].length-1]+=.7000000000000001}i.strict||(n+="/?"),i.end?n+="$":i.strict&&(n+="(?:/|$)");const s=new RegExp(n,i.sensitive?"":"i");return{re:s,score:o,keys:r,parse:function(t){const e=t.match(s),i={};if(!e)return null;for(let t=1;t<e.length;t++){const o=e[t]||"",n=r[t-1];i[n.name]=o&&n.repeatable?o.split("/"):o}return i},stringify:function(e){let i="",o=!1;for(const n of t){o&&i.endsWith("/")||(i+="/"),o=!1;for(const t of n)if(0===t.type)i+=t.value;else if(1===t.type){const{value:r,repeatable:s,optional:a}=t,l=r in e?e[r]:"";if(u(l)&&!s)throw new Error(`Provided param "${r}" is an array but it is not repeatable (* or + modifiers)`);const c=u(l)?l.join("/"):l;if(!c){if(!a)throw new Error(`Missing required param "${r}"`);n.length<2&&(i.endsWith("/")?i=i.slice(0,-1):o=!0)}i+=c}}return i||"/"}}}(function(t){if(!t)return[[]];if("/"===t)return[[$]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(t){throw new Error(`ERR (${i})/"${c}": ${t}`)}let i=0,o=i;const n=[];let r;function s(){r&&n.push(r),r=[]}let a,l=0,c="",u="";function h(){c&&(0===i?r.push({type:0,value:c}):1===i||2===i||3===i?(r.length>1&&("*"===a||"+"===a)&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:c,regexp:u,repeatable:"*"===a||"+"===a,optional:"*"===a||"?"===a})):e("Invalid state to consume buffer"),c="")}function d(){c+=a}for(;l<t.length;)if(a=t[l++],"\\"!==a||2===i)switch(i){case 0:"/"===a?(c&&h(),s()):":"===a?(h(),i=1):d();break;case 4:d(),i=o;break;case 1:"("===a?i=2:z.test(a)?d():(h(),i=0,"*"!==a&&"?"!==a&&"+"!==a&&l--);break;case 2:")"===a?"\\"==u[u.length-1]?u=u.slice(0,-1)+a:i=3:u+=a;break;case 3:h(),i=0,"*"!==a&&"?"!==a&&"+"!==a&&l--,u="";break;default:e("Unknown state")}else o=i,i=4;return 2===i&&e(`Unfinished custom RegExp for param "${c}"`),h(),s(),n}(t.path),i);const n=a(o,{record:t,parent:e,children:[],alias:[]});return e&&!n.record.aliasOf==!e.record.aliasOf&&e.children.push(n),n}function Y(t,e){const i=[],o=new Map;function n(t,i,o){const l=!o,u=function(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:Z(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}(t);u.aliasOf=o&&o.record;const h=Q(e,t),d=[u];if("alias"in t){const e="string"==typeof t.alias?[t.alias]:t.alias;for(const t of e)d.push(a({},u,{components:o?o.record.components:u.components,path:t,aliasOf:o?o.record:u}))}let p,f;for(const e of d){const{path:a}=e;if(i&&"/"!==a[0]){const t=i.record.path,o="/"===t[t.length-1]?"":"/";e.path=i.record.path+(a&&o+a)}if(p=K(e,i,h),o?o.alias.push(p):(f=f||p,f!==p&&f.alias.push(p),l&&t.name&&!q(p)&&r(t.name)),u.children){const t=u.children;for(let e=0;e<t.length;e++)n(t[e],p,o&&o.children[e])}o=o||p,(p.record.components&&Object.keys(p.record.components).length||p.record.name||p.record.redirect)&&s(p)}return f?()=>{r(f)}:c}function r(t){if(L(t)){const e=o.get(t);e&&(o.delete(t),i.splice(i.indexOf(e),1),e.children.forEach(r),e.alias.forEach(r))}else{const e=i.indexOf(t);e>-1&&(i.splice(e,1),t.record.name&&o.delete(t.record.name),t.children.forEach(r),t.alias.forEach(r))}}function s(t){let e=0;for(;e<i.length&&W(t,i[e])>=0&&(t.record.path!==i[e].record.path||!tt(t,i[e]));)e++;i.splice(e,0,t),t.record.name&&!q(t)&&o.set(t.record.name,t)}return e=Q({strict:!1,end:!0,sensitive:!1},e),t.forEach((t=>n(t))),{addRoute:n,resolve:function(t,e){let n,r,s,l={};if("name"in t&&t.name){if(n=o.get(t.name),!n)throw F(1,{location:t});0,s=n.record.name,l=a(X(e.params,n.keys.filter((t=>!t.optional)).map((t=>t.name))),t.params&&X(t.params,n.keys.map((t=>t.name)))),r=n.stringify(l)}else if("path"in t)r=t.path,n=i.find((t=>t.re.test(r))),n&&(l=n.parse(r),s=n.record.name);else{if(n=e.name?o.get(e.name):i.find((t=>t.re.test(e.path))),!n)throw F(1,{location:t,currentLocation:e});s=n.record.name,l=a({},e.params,t.params),r=n.stringify(l)}const c=[];let u=n;for(;u;)c.unshift(u.record),u=u.parent;return{name:s,path:r,params:l,matched:c,meta:J(c)}},removeRoute:r,getRoutes:function(){return i},getRecordMatcher:function(t){return o.get(t)}}}function X(t,e){const i={};for(const o of e)o in t&&(i[o]=t[o]);return i}function Z(t){const e={},i=t.props||!1;if("component"in t)e.default=i;else for(const o in t.components)e[o]="boolean"==typeof i?i:i[o];return e}function q(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function J(t){return t.reduce(((t,e)=>a(t,e.meta)),{})}function Q(t,e){const i={};for(const o in t)i[o]=o in e?e[o]:t[o];return i}function tt(t,e){return e.children.some((e=>e===t||tt(t,e)))}const et=/#/g,it=/&/g,ot=/\//g,nt=/=/g,rt=/\?/g,st=/\+/g,at=/%5B/g,lt=/%5D/g,ct=/%5E/g,ut=/%60/g,ht=/%7B/g,dt=/%7C/g,pt=/%7D/g,ft=/%20/g;function gt(t){return encodeURI(""+t).replace(dt,"|").replace(at,"[").replace(lt,"]")}function mt(t){return gt(t).replace(st,"%2B").replace(ft,"+").replace(et,"%23").replace(it,"%26").replace(ut,"`").replace(ht,"{").replace(pt,"}").replace(ct,"^")}function yt(t){return null==t?"":function(t){return gt(t).replace(et,"%23").replace(rt,"%3F")}(t).replace(ot,"%2F")}function vt(t){try{return decodeURIComponent(""+t)}catch(t){}return""+t}function _t(t){const e={};if(""===t||"?"===t)return e;const i=("?"===t[0]?t.slice(1):t).split("&");for(let t=0;t<i.length;++t){const o=i[t].replace(st," "),n=o.indexOf("="),r=vt(n<0?o:o.slice(0,n)),s=n<0?null:vt(o.slice(n+1));if(r in e){let t=e[r];u(t)||(t=e[r]=[t]),t.push(s)}else e[r]=s}return e}function Ct(t){let e="";for(let i in t){const o=t[i];if(i=mt(i).replace(nt,"%3D"),null==o){void 0!==o&&(e+=(e.length?"&":"")+i);continue}(u(o)?o.map((t=>t&&mt(t))):[o&&mt(o)]).forEach((t=>{void 0!==t&&(e+=(e.length?"&":"")+i,null!=t&&(e+="="+t))}))}return e}function bt(t){const e={};for(const i in t){const o=t[i];void 0!==o&&(e[i]=u(o)?o.map((t=>null==t?null:""+t)):null==o?o:""+o)}return e}const Et=Symbol(""),St=Symbol(""),wt=Symbol(""),Ot=Symbol(""),xt=Symbol("");function Pt(){let t=[];return{add:function(e){return t.push(e),()=>{const i=t.indexOf(e);i>-1&&t.splice(i,1)}},list:()=>t,reset:function(){t=[]}}}function Tt(t,e,i,o,n){const r=o&&(o.enterCallbacks[n]=o.enterCallbacks[n]||[]);return()=>new Promise(((s,a)=>{const l=t=>{var l;!1===t?a(F(4,{from:i,to:e})):t instanceof Error?a(t):"string"==typeof(l=t)||l&&"object"==typeof l?a(F(2,{from:e,to:t})):(r&&o.enterCallbacks[n]===r&&"function"==typeof t&&r.push(t),s())},c=t.call(o&&o.instances[n],e,i,l);let u=Promise.resolve(c);t.length<3&&(u=u.then(l)),u.catch((t=>a(t)))}))}function Mt(t,e,i,o){const n=[];for(const a of t){0;for(const t in a.components){let l=a.components[t];if("beforeRouteEnter"===e||a.instances[t])if("object"==typeof(r=l)||"displayName"in r||"props"in r||"__vccOpts"in r){const r=(l.__vccOpts||l)[e];r&&n.push(Tt(r,i,o,a,t))}else{let r=l();0,n.push((()=>r.then((n=>{if(!n)return Promise.reject(new Error(`Couldn't resolve component "${t}" at "${a.path}"`));const r=s(n)?n.default:n;a.components[t]=r;const l=(r.__vccOpts||r)[e];return l&&Tt(l,i,o,a,t)()}))))}}}var r;return n}function Dt(t){const e=(0,o.f3)(wt),i=(0,o.f3)(Ot),r=(0,o.Fl)((()=>e.resolve((0,n.SU)(t.to)))),s=(0,o.Fl)((()=>{const{matched:t}=r.value,{length:e}=t,o=t[e-1],n=i.matched;if(!o||!n.length)return-1;const s=n.findIndex(g.bind(null,o));if(s>-1)return s;const a=Rt(t[e-2]);return e>1&&Rt(o)===a&&n[n.length-1].path!==a?n.findIndex(g.bind(null,t[e-2])):s})),a=(0,o.Fl)((()=>s.value>-1&&function(t,e){for(const i in e){const o=e[i],n=t[i];if("string"==typeof o){if(o!==n)return!1}else if(!u(n)||n.length!==o.length||o.some(((t,e)=>t!==n[e])))return!1}return!0}(i.params,r.value.params))),l=(0,o.Fl)((()=>s.value>-1&&s.value===i.matched.length-1&&m(i.params,r.value.params)));return{route:r,href:(0,o.Fl)((()=>r.value.href)),isActive:a,isExactActive:l,navigate:function(i={}){return function(t){if(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)return;if(t.defaultPrevented)return;if(void 0!==t.button&&0!==t.button)return;if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}t.preventDefault&&t.preventDefault();return!0}(i)?e[(0,n.SU)(t.replace)?"replace":"push"]((0,n.SU)(t.to)).catch(c):Promise.resolve()}}}const At=(0,o.aZ)({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Dt,setup(t,{slots:e}){const i=(0,n.qj)(Dt(t)),{options:r}=(0,o.f3)(wt),s=(0,o.Fl)((()=>({[Lt(t.activeClass,r.linkActiveClass,"router-link-active")]:i.isActive,[Lt(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:i.isExactActive})));return()=>{const n=e.default&&e.default(i);return t.custom?n:(0,o.h)("a",{"aria-current":i.isExactActive?t.ariaCurrentValue:null,href:i.href,onClick:i.navigate,class:s.value},n)}}});function Rt(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Lt=(t,e,i)=>null!=t?t:null!=e?e:i;function It(t,e){if(!t)return null;const i=t(e);return 1===i.length?i[0]:i}const Nt=(0,o.aZ)({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:i}){const r=(0,o.f3)(xt),s=(0,o.Fl)((()=>t.route||r.value)),l=(0,o.f3)(St,0),c=(0,o.Fl)((()=>{let t=(0,n.SU)(l);const{matched:e}=s.value;let i;for(;(i=e[t])&&!i.components;)t++;return t})),u=(0,o.Fl)((()=>s.value.matched[c.value]));(0,o.JJ)(St,(0,o.Fl)((()=>c.value+1))),(0,o.JJ)(Et,u),(0,o.JJ)(xt,s);const h=(0,n.iH)();return(0,o.YP)((()=>[h.value,u.value,t.name]),(([t,e,i],[o,n,r])=>{e&&(e.instances[i]=t,n&&n!==e&&t&&t===o&&(e.leaveGuards.size||(e.leaveGuards=n.leaveGuards),e.updateGuards.size||(e.updateGuards=n.updateGuards))),!t||!e||n&&g(e,n)&&o||(e.enterCallbacks[i]||[]).forEach((e=>e(t)))}),{flush:"post"}),()=>{const n=s.value,r=t.name,l=u.value,c=l&&l.components[r];if(!c)return It(i.default,{Component:c,route:n});const d=l.props[r],p=d?!0===d?n.params:"function"==typeof d?d(n):d:null,f=(0,o.h)(c,a({},p,e,{onVnodeUnmounted:t=>{t.component.isUnmounted&&(l.instances[r]=null)},ref:h}));return It(i.default,{Component:f,route:n})||f}}});function kt(t){const e=Y(t.routes,t),i=t.parseQuery||_t,s=t.stringifyQuery||Ct,h=t.history;const d=Pt(),f=Pt(),y=Pt(),v=(0,n.XI)(I);let C=I;r&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const b=l.bind(null,(t=>""+t)),E=l.bind(null,yt),S=l.bind(null,vt);function T(t,o){if(o=a({},o||v.value),"string"==typeof t){const n=p(i,t,o.path),r=e.resolve({path:n.path},o),s=h.createHref(n.fullPath);return a(n,r,{params:S(r.params),hash:vt(n.hash),redirectedFrom:void 0,href:s})}let n;if("path"in t)n=a({},t,{path:p(i,t.path,o.path).path});else{const e=a({},t.params);for(const t in e)null==e[t]&&delete e[t];n=a({},t,{params:E(t.params)}),o.params=E(o.params)}const r=e.resolve(n,o),l=t.hash||"";r.params=b(S(r.params));const c=function(t,e){const i=e.query?t(e.query):"";return e.path+(i&&"?")+i+(e.hash||"")}(s,a({},t,{hash:(u=l,gt(u).replace(ht,"{").replace(pt,"}").replace(ct,"^")),path:r.path}));var u;const d=h.createHref(c);return a({fullPath:c,hash:l,query:s===Ct?bt(t.query):t.query||{}},r,{redirectedFrom:void 0,href:d})}function M(t){return"string"==typeof t?p(i,t,v.value.path):a({},t)}function D(t,e){if(C!==t)return F(8,{from:e,to:t})}function A(t){return N(t)}function R(t){const e=t.matched[t.matched.length-1];if(e&&e.redirect){const{redirect:i}=e;let o="function"==typeof i?i(t):i;return"string"==typeof o&&(o=o.includes("?")||o.includes("#")?o=M(o):{path:o},o.params={}),a({query:t.query,hash:t.hash,params:"path"in o?{}:t.params},o)}}function N(t,e){const i=C=T(t),o=v.value,n=t.state,r=t.force,l=!0===t.replace,c=R(i);if(c)return N(a(M(c),{state:"object"==typeof c?a({},n,c.state):n,force:r,replace:l}),e||i);const u=i;let h;return u.redirectedFrom=e,!r&&function(t,e,i){const o=e.matched.length-1,n=i.matched.length-1;return o>-1&&o===n&&g(e.matched[o],i.matched[n])&&m(e.params,i.params)&&t(e.query)===t(i.query)&&e.hash===i.hash}(s,o,i)&&(h=F(16,{to:u,from:o}),Z(o,o,!0,!1)),(h?Promise.resolve(h):G(u,o)).catch((t=>B(t)?B(t,2)?t:X(t):K(t,u,o))).then((t=>{if(t){if(B(t,2))return N(a({replace:l},M(t.to),{state:"object"==typeof t.to?a({},n,t.to.state):n,force:r}),e||u)}else t=V(u,o,!0,l,n);return j(u,o,t),t}))}function k(t,e){const i=D(t,e);return i?Promise.reject(i):Promise.resolve()}function G(t,e){let i;const[o,n,r]=function(t,e){const i=[],o=[],n=[],r=Math.max(e.matched.length,t.matched.length);for(let s=0;s<r;s++){const r=e.matched[s];r&&(t.matched.find((t=>g(t,r)))?o.push(r):i.push(r));const a=t.matched[s];a&&(e.matched.find((t=>g(t,a)))||n.push(a))}return[i,o,n]}(t,e);i=Mt(o.reverse(),"beforeRouteLeave",t,e);for(const n of o)n.leaveGuards.forEach((o=>{i.push(Tt(o,t,e))}));const s=k.bind(null,t,e);return i.push(s),Ft(i).then((()=>{i=[];for(const o of d.list())i.push(Tt(o,t,e));return i.push(s),Ft(i)})).then((()=>{i=Mt(n,"beforeRouteUpdate",t,e);for(const o of n)o.updateGuards.forEach((o=>{i.push(Tt(o,t,e))}));return i.push(s),Ft(i)})).then((()=>{i=[];for(const o of t.matched)if(o.beforeEnter&&!e.matched.includes(o))if(u(o.beforeEnter))for(const n of o.beforeEnter)i.push(Tt(n,t,e));else i.push(Tt(o.beforeEnter,t,e));return i.push(s),Ft(i)})).then((()=>(t.matched.forEach((t=>t.enterCallbacks={})),i=Mt(r,"beforeRouteEnter",t,e),i.push(s),Ft(i)))).then((()=>{i=[];for(const o of f.list())i.push(Tt(o,t,e));return i.push(s),Ft(i)})).catch((t=>B(t,8)?t:Promise.reject(t)))}function j(t,e,i){for(const o of y.list())o(t,e,i)}function V(t,e,i,o,n){const s=D(t,e);if(s)return s;const l=e===I,c=r?history.state:{};i&&(o||l?h.replace(t.fullPath,a({scroll:l&&c&&c.scroll},n)):h.push(t.fullPath,n)),v.value=t,Z(t,e,i,l),X()}let U;function W(){U||(U=h.listen(((t,e,i)=>{if(!tt.listening)return;const o=T(t),n=R(o);if(n)return void N(a(n,{replace:!0}),o).catch(c);C=o;const s=v.value;var l,u;r&&(l=x(s.fullPath,i.delta),u=w(),P.set(l,u)),G(o,s).catch((t=>B(t,12)?t:B(t,2)?(N(t.to,o).then((t=>{B(t,20)&&!i.delta&&i.type===_.pop&&h.go(-1,!1)})).catch(c),Promise.reject()):(i.delta&&h.go(-i.delta,!1),K(t,o,s)))).then((t=>{(t=t||V(o,s,!1))&&(i.delta&&!B(t,8)?h.go(-i.delta,!1):i.type===_.pop&&B(t,20)&&h.go(-1,!1)),j(o,s,t)})).catch(c)})))}let H,$=Pt(),z=Pt();function K(t,e,i){X(t);const o=z.list();return o.length?o.forEach((o=>o(t,e,i))):console.error(t),Promise.reject(t)}function X(t){return H||(H=!t,W(),$.list().forEach((([e,i])=>t?i(t):e())),$.reset()),t}function Z(e,i,n,s){const{scrollBehavior:a}=t;if(!r||!a)return Promise.resolve();const l=!n&&function(t){const e=P.get(t);return P.delete(t),e}(x(e.fullPath,0))||(s||!n)&&history.state&&history.state.scroll||null;return(0,o.Y3)().then((()=>a(e,i,l))).then((t=>t&&O(t))).catch((t=>K(t,e,i)))}const q=t=>h.go(t);let J;const Q=new Set,tt={currentRoute:v,listening:!0,addRoute:function(t,i){let o,n;return L(t)?(o=e.getRecordMatcher(t),n=i):n=t,e.addRoute(n,o)},removeRoute:function(t){const i=e.getRecordMatcher(t);i&&e.removeRoute(i)},hasRoute:function(t){return!!e.getRecordMatcher(t)},getRoutes:function(){return e.getRoutes().map((t=>t.record))},resolve:T,options:t,push:A,replace:function(t){return A(a(M(t),{replace:!0}))},go:q,back:()=>q(-1),forward:()=>q(1),beforeEach:d.add,beforeResolve:f.add,afterEach:y.add,onError:z.add,isReady:function(){return H&&v.value!==I?Promise.resolve():new Promise(((t,e)=>{$.add([t,e])}))},install(t){t.component("RouterLink",At),t.component("RouterView",Nt),t.config.globalProperties.$router=this,Object.defineProperty(t.config.globalProperties,"$route",{enumerable:!0,get:()=>(0,n.SU)(v)}),r&&!J&&v.value===I&&(J=!0,A(h.location).catch((t=>{0})));const e={};for(const t in I)e[t]=(0,o.Fl)((()=>v.value[t]));t.provide(wt,this),t.provide(Ot,(0,n.qj)(e)),t.provide(xt,v);const i=t.unmount;Q.add(t),t.unmount=function(){Q.delete(t),Q.size<1&&(C=I,U&&U(),U=null,v.value=I,J=!1,H=!1),i()}}};return tt}function Ft(t){return t.reduce(((t,e)=>t.then((()=>e()))),Promise.resolve())}function Bt(){return(0,o.f3)(Ot)}},3002:(t,e,i)=>{"use strict";i.d(e,{NO:()=>Et});var o,n=i(6252),r=i(9963),s=i(2262),a=i(3577),l=Object.defineProperty,c=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable,d=(t,e,i)=>e in t?l(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,p=(t,e)=>{for(var i in e||(e={}))u.call(e,i)&&d(t,i,e[i]);if(c)for(var i of c(e))h.call(e,i)&&d(t,i,e[i]);return t},f=t=>"function"==typeof t,g=t=>"string"==typeof t,m=t=>g(t)&&t.trim().length>0,y=t=>void 0===t,v=t=>"object"==typeof t&&null!==t,_=t=>window.TouchEvent&&t instanceof TouchEvent,C=t=>S(t,"component")&&b(t.component),b=t=>{return!y(t)&&(g(t)||(f(e=t)||v(e))||C(t));var e},E=t=>v(t)&&["height","width","right","left","top","bottom"].every((e=>"number"==typeof t[e])),S=(t,e)=>(v(t)||f(t))&&e in t,w=(o=0,()=>o++);function O(t){return _(t)?t.targetTouches[0].clientX:t.clientX}function x(t){return _(t)?t.targetTouches[0].clientY:t.clientY}var P,T,M,D,A,R,L=t=>C(t)?L(t.component):(t=>S(t,"tag")&&m(t.tag))(t)?(0,n.aZ)({render:()=>t}):"string"==typeof t?t:(0,s.IU)((0,s.SU)(t)),I=()=>"undefined"!=typeof window,N=class{constructor(){this.allHandlers={}}getHandlers(t){return this.allHandlers[t]||[]}on(t,e){const i=this.getHandlers(t);i.push(e),this.allHandlers[t]=i}off(t,e){const i=this.getHandlers(t);i.splice(i.indexOf(e)>>>0,1)}emit(t,e){this.getHandlers(t).forEach((t=>t(e)))}},k=t=>["on","off","emit"].every((e=>S(t,e)&&f(t[e])));(T=P||(P={})).SUCCESS="success",T.ERROR="error",T.WARNING="warning",T.INFO="info",T.DEFAULT="default",(D=M||(M={})).TOP_LEFT="top-left",D.TOP_CENTER="top-center",D.TOP_RIGHT="top-right",D.BOTTOM_LEFT="bottom-left",D.BOTTOM_CENTER="bottom-center",D.BOTTOM_RIGHT="bottom-right",(R=A||(A={})).ADD="add",R.DISMISS="dismiss",R.UPDATE="update",R.CLEAR="clear",R.UPDATE_DEFAULTS="update_defaults";var F="Vue-Toastification",B={type:{type:String,default:P.DEFAULT},classNames:{type:[String,Array],default:()=>[]},trueBoolean:{type:Boolean,default:!0}},G={type:B.type,customIcon:{type:[String,Boolean,Object,Function],default:!0}},j={component:{type:[String,Object,Function,Boolean],default:"button"},classNames:B.classNames,showOnHover:{type:Boolean,default:!1},ariaLabel:{type:String,default:"close"}},V={timeout:{type:[Number,Boolean],default:5e3},hideProgressBar:{type:Boolean,default:!1},isRunning:{type:Boolean,default:!1}},U={transition:{type:[Object,String],default:`${F}__bounce`}},W={CORE_TOAST:{position:{type:String,default:M.TOP_RIGHT},draggable:B.trueBoolean,draggablePercent:{type:Number,default:.6},pauseOnFocusLoss:B.trueBoolean,pauseOnHover:B.trueBoolean,closeOnClick:B.trueBoolean,timeout:V.timeout,hideProgressBar:V.hideProgressBar,toastClassName:B.classNames,bodyClassName:B.classNames,icon:G.customIcon,closeButton:j.component,closeButtonClassName:j.classNames,showCloseButtonOnHover:j.showOnHover,accessibility:{type:Object,default:()=>({toastRole:"alert",closeButtonLabel:"close"})},rtl:{type:Boolean,default:!1},eventBus:{type:Object,required:!1,default:()=>new N}},TOAST:{id:{type:[String,Number],required:!0,default:0},type:B.type,content:{type:[String,Object,Function],required:!0,default:""},onClick:{type:Function,default:void 0},onClose:{type:Function,default:void 0}},CONTAINER:{container:{type:[Object,Function],default:()=>document.body},newestOnTop:B.trueBoolean,maxToasts:{type:Number,default:20},transition:U.transition,toastDefaults:Object,filterBeforeCreate:{type:Function,default:t=>t},filterToasts:{type:Function,default:t=>t},containerClassName:B.classNames,onMounted:Function,shareAppContext:[Boolean,Object]},PROGRESS_BAR:V,ICON:G,TRANSITION:U,CLOSE_BUTTON:j},H=(0,n.aZ)({name:"VtProgressBar",props:W.PROGRESS_BAR,data:()=>({hasClass:!0}),computed:{style(){return{animationDuration:`${this.timeout}ms`,animationPlayState:this.isRunning?"running":"paused",opacity:this.hideProgressBar?0:1}},cpClass(){return this.hasClass?`${F}__progress-bar`:""}},watch:{timeout(){this.hasClass=!1,this.$nextTick((()=>this.hasClass=!0))}},mounted(){this.$el.addEventListener("animationend",this.animationEnded)},beforeUnmount(){this.$el.removeEventListener("animationend",this.animationEnded)},methods:{animationEnded(){this.$emit("close-toast")}}});H.render=function(t,e){return(0,n.wg)(),(0,n.iD)("div",{style:(0,a.normalizeStyle)(t.style),class:(0,a.normalizeClass)(t.cpClass)},null,6)};var $=H,z=(0,n.aZ)({name:"VtCloseButton",props:W.CLOSE_BUTTON,computed:{buttonComponent(){return!1!==this.component?L(this.component):"button"},classes(){const t=[`${F}__close-button`];return this.showOnHover&&t.push("show-on-hover"),t.concat(this.classNames)}}}),K=(0,n.Uk)(" × ");z.render=function(t,e){return(0,n.wg)(),(0,n.j4)((0,n.LL)(t.buttonComponent),(0,n.dG)({"aria-label":t.ariaLabel,class:t.classes},t.$attrs),{default:(0,n.w5)((()=>[K])),_:1},16,["aria-label","class"])};var Y=z,X={},Z={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"check-circle",class:"svg-inline--fa fa-check-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},q=[(0,n._)("path",{fill:"currentColor",d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},null,-1)];X.render=function(t,e){return(0,n.wg)(),(0,n.iD)("svg",Z,q)};var J=X,Q={},tt={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"info-circle",class:"svg-inline--fa fa-info-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},et=[(0,n._)("path",{fill:"currentColor",d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},null,-1)];Q.render=function(t,e){return(0,n.wg)(),(0,n.iD)("svg",tt,et)};var it=Q,ot={},nt={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"exclamation-circle",class:"svg-inline--fa fa-exclamation-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},rt=[(0,n._)("path",{fill:"currentColor",d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},null,-1)];ot.render=function(t,e){return(0,n.wg)(),(0,n.iD)("svg",nt,rt)};var st=ot,at={},lt={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"exclamation-triangle",class:"svg-inline--fa fa-exclamation-triangle fa-w-18",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512"},ct=[(0,n._)("path",{fill:"currentColor",d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},null,-1)];at.render=function(t,e){return(0,n.wg)(),(0,n.iD)("svg",lt,ct)};var ut=at,ht=(0,n.aZ)({name:"VtIcon",props:W.ICON,computed:{customIconChildren(){return S(this.customIcon,"iconChildren")?this.trimValue(this.customIcon.iconChildren):""},customIconClass(){return g(this.customIcon)?this.trimValue(this.customIcon):S(this.customIcon,"iconClass")?this.trimValue(this.customIcon.iconClass):""},customIconTag(){return S(this.customIcon,"iconTag")?this.trimValue(this.customIcon.iconTag,"i"):"i"},hasCustomIcon(){return this.customIconClass.length>0},component(){return this.hasCustomIcon?this.customIconTag:b(this.customIcon)?L(this.customIcon):this.iconTypeComponent},iconTypeComponent(){return{[P.DEFAULT]:it,[P.INFO]:it,[P.SUCCESS]:J,[P.ERROR]:ut,[P.WARNING]:st}[this.type]},iconClasses(){const t=[`${F}__icon`];return this.hasCustomIcon?t.concat(this.customIconClass):t}},methods:{trimValue:(t,e="")=>m(t)?t.trim():e}});ht.render=function(t,e){return(0,n.wg)(),(0,n.j4)((0,n.LL)(t.component),{class:(0,a.normalizeClass)(t.iconClasses)},{default:(0,n.w5)((()=>[(0,n.Uk)((0,a.toDisplayString)(t.customIconChildren),1)])),_:1},8,["class"])};var dt=ht,pt=(0,n.aZ)({name:"VtToast",components:{ProgressBar:$,CloseButton:Y,Icon:dt},inheritAttrs:!1,props:Object.assign({},W.CORE_TOAST,W.TOAST),data:()=>({isRunning:!0,disableTransitions:!1,beingDragged:!1,dragStart:0,dragPos:{x:0,y:0},dragRect:{}}),computed:{classes(){const t=[`${F}__toast`,`${F}__toast--${this.type}`,`${this.position}`].concat(this.toastClassName);return this.disableTransitions&&t.push("disable-transition"),this.rtl&&t.push(`${F}__toast--rtl`),t},bodyClasses(){return[`${F}__toast-${g(this.content)?"body":"component-body"}`].concat(this.bodyClassName)},draggableStyle(){return this.dragStart===this.dragPos.x?{}:this.beingDragged?{transform:`translateX(${this.dragDelta}px)`,opacity:1-Math.abs(this.dragDelta/this.removalDistance)}:{transition:"transform 0.2s, opacity 0.2s",transform:"translateX(0)",opacity:1}},dragDelta(){return this.beingDragged?this.dragPos.x-this.dragStart:0},removalDistance(){return E(this.dragRect)?(this.dragRect.right-this.dragRect.left)*this.draggablePercent:0}},mounted(){this.draggable&&this.draggableSetup(),this.pauseOnFocusLoss&&this.focusSetup()},beforeUnmount(){this.draggable&&this.draggableCleanup(),this.pauseOnFocusLoss&&this.focusCleanup()},methods:{hasProp:S,getVueComponentFromObj:L,closeToast(){this.eventBus.emit(A.DISMISS,this.id)},clickHandler(){this.onClick&&this.onClick(this.closeToast),this.closeOnClick&&(this.beingDragged&&this.dragStart!==this.dragPos.x||this.closeToast())},timeoutHandler(){this.closeToast()},hoverPause(){this.pauseOnHover&&(this.isRunning=!1)},hoverPlay(){this.pauseOnHover&&(this.isRunning=!0)},focusPause(){this.isRunning=!1},focusPlay(){this.isRunning=!0},focusSetup(){addEventListener("blur",this.focusPause),addEventListener("focus",this.focusPlay)},focusCleanup(){removeEventListener("blur",this.focusPause),removeEventListener("focus",this.focusPlay)},draggableSetup(){const t=this.$el;t.addEventListener("touchstart",this.onDragStart,{passive:!0}),t.addEventListener("mousedown",this.onDragStart),addEventListener("touchmove",this.onDragMove,{passive:!1}),addEventListener("mousemove",this.onDragMove),addEventListener("touchend",this.onDragEnd),addEventListener("mouseup",this.onDragEnd)},draggableCleanup(){const t=this.$el;t.removeEventListener("touchstart",this.onDragStart),t.removeEventListener("mousedown",this.onDragStart),removeEventListener("touchmove",this.onDragMove),removeEventListener("mousemove",this.onDragMove),removeEventListener("touchend",this.onDragEnd),removeEventListener("mouseup",this.onDragEnd)},onDragStart(t){this.beingDragged=!0,this.dragPos={x:O(t),y:x(t)},this.dragStart=O(t),this.dragRect=this.$el.getBoundingClientRect()},onDragMove(t){this.beingDragged&&(t.preventDefault(),this.isRunning&&(this.isRunning=!1),this.dragPos={x:O(t),y:x(t)})},onDragEnd(){this.beingDragged&&(Math.abs(this.dragDelta)>=this.removalDistance?(this.disableTransitions=!0,this.$nextTick((()=>this.closeToast()))):setTimeout((()=>{this.beingDragged=!1,E(this.dragRect)&&this.pauseOnHover&&this.dragRect.bottom>=this.dragPos.y&&this.dragPos.y>=this.dragRect.top&&this.dragRect.left<=this.dragPos.x&&this.dragPos.x<=this.dragRect.right?this.isRunning=!1:this.isRunning=!0})))}}}),ft=["role"];pt.render=function(t,e){const i=(0,n.up)("Icon"),o=(0,n.up)("CloseButton"),s=(0,n.up)("ProgressBar");return(0,n.wg)(),(0,n.iD)("div",{class:(0,a.normalizeClass)(t.classes),style:(0,a.normalizeStyle)(t.draggableStyle),onClick:e[0]||(e[0]=(...e)=>t.clickHandler&&t.clickHandler(...e)),onMouseenter:e[1]||(e[1]=(...e)=>t.hoverPause&&t.hoverPause(...e)),onMouseleave:e[2]||(e[2]=(...e)=>t.hoverPlay&&t.hoverPlay(...e))},[t.icon?((0,n.wg)(),(0,n.j4)(i,{key:0,"custom-icon":t.icon,type:t.type},null,8,["custom-icon","type"])):(0,n.kq)("v-if",!0),(0,n._)("div",{role:t.accessibility.toastRole||"alert",class:(0,a.normalizeClass)(t.bodyClasses)},["string"==typeof t.content?((0,n.wg)(),(0,n.iD)(n.HY,{key:0},[(0,n.Uk)((0,a.toDisplayString)(t.content),1)],2112)):((0,n.wg)(),(0,n.j4)((0,n.LL)(t.getVueComponentFromObj(t.content)),(0,n.dG)({key:1,"toast-id":t.id},t.hasProp(t.content,"props")?t.content.props:{},(0,n.mx)(t.hasProp(t.content,"listeners")?t.content.listeners:{}),{onCloseToast:t.closeToast}),null,16,["toast-id","onCloseToast"]))],10,ft),t.closeButton?((0,n.wg)(),(0,n.j4)(o,{key:1,component:t.closeButton,"class-names":t.closeButtonClassName,"show-on-hover":t.showCloseButtonOnHover,"aria-label":t.accessibility.closeButtonLabel,onClick:(0,r.withModifiers)(t.closeToast,["stop"])},null,8,["component","class-names","show-on-hover","aria-label","onClick"])):(0,n.kq)("v-if",!0),t.timeout?((0,n.wg)(),(0,n.j4)(s,{key:2,"is-running":t.isRunning,"hide-progress-bar":t.hideProgressBar,timeout:t.timeout,onCloseToast:t.timeoutHandler},null,8,["is-running","hide-progress-bar","timeout","onCloseToast"])):(0,n.kq)("v-if",!0)],38)};var gt=pt,mt=(0,n.aZ)({name:"VtTransition",props:W.TRANSITION,emits:["leave"],methods:{hasProp:S,leave(t){t instanceof HTMLElement&&(t.style.left=t.offsetLeft+"px",t.style.top=t.offsetTop+"px",t.style.width=getComputedStyle(t).width,t.style.position="absolute")}}});mt.render=function(t,e){return(0,n.wg)(),(0,n.j4)(r.TransitionGroup,{tag:"div","enter-active-class":t.transition.enter?t.transition.enter:`${t.transition}-enter-active`,"move-class":t.transition.move?t.transition.move:`${t.transition}-move`,"leave-active-class":t.transition.leave?t.transition.leave:`${t.transition}-leave-active`,onLeave:t.leave},{default:(0,n.w5)((()=>[(0,n.WI)(t.$slots,"default")])),_:3},8,["enter-active-class","move-class","leave-active-class","onLeave"])};var yt=mt,vt=(0,n.aZ)({name:"VueToastification",devtools:{hide:!0},components:{Toast:gt,VtTransition:yt},props:Object.assign({},W.CORE_TOAST,W.CONTAINER,W.TRANSITION),data:()=>({count:0,positions:Object.values(M),toasts:{},defaults:{}}),computed:{toastArray(){return Object.values(this.toasts)},filteredToasts(){return this.defaults.filterToasts(this.toastArray)}},beforeMount(){const t=this.eventBus;t.on(A.ADD,this.addToast),t.on(A.CLEAR,this.clearToasts),t.on(A.DISMISS,this.dismissToast),t.on(A.UPDATE,this.updateToast),t.on(A.UPDATE_DEFAULTS,this.updateDefaults),this.defaults=this.$props},mounted(){this.setup(this.container)},methods:{async setup(t){var e;f(t)&&(t=await t()),e=this.$el,y(e.remove)?e.parentNode&&e.parentNode.removeChild(e):e.remove(),t.appendChild(this.$el)},setToast(t){y(t.id)||(this.toasts[t.id]=t)},addToast(t){t.content=(t=>{if("string"==typeof t)return t;const e=S(t,"props")&&v(t.props)?t.props:{},i=S(t,"listeners")&&v(t.listeners)?t.listeners:{};return{component:L(t),props:e,listeners:i}})(t.content);const e=Object.assign({},this.defaults,t.type&&this.defaults.toastDefaults&&this.defaults.toastDefaults[t.type],t),i=this.defaults.filterBeforeCreate(e,this.toastArray);i&&this.setToast(i)},dismissToast(t){const e=this.toasts[t];y(e)||y(e.onClose)||e.onClose(),delete this.toasts[t]},clearToasts(){Object.keys(this.toasts).forEach((t=>{this.dismissToast(t)}))},getPositionToasts(t){const e=this.filteredToasts.filter((e=>e.position===t)).slice(0,this.defaults.maxToasts);return this.defaults.newestOnTop?e.reverse():e},updateDefaults(t){y(t.container)||this.setup(t.container),this.defaults=Object.assign({},this.defaults,t)},updateToast({id:t,options:e,create:i}){this.toasts[t]?(e.timeout&&e.timeout===this.toasts[t].timeout&&e.timeout++,this.setToast(Object.assign({},this.toasts[t],e))):i&&this.addToast(Object.assign({},{id:t},e))},getClasses(t){return[`${F}__container`,t].concat(this.defaults.containerClassName)}}});vt.render=function(t,e){const i=(0,n.up)("Toast"),o=(0,n.up)("VtTransition");return(0,n.wg)(),(0,n.iD)("div",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t.positions,(e=>((0,n.wg)(),(0,n.iD)("div",{key:e},[(0,n.Wm)(o,{transition:t.defaults.transition,class:(0,a.normalizeClass)(t.getClasses(e))},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t.getPositionToasts(e),(t=>((0,n.wg)(),(0,n.j4)(i,(0,n.dG)({key:t.id},t),null,16)))),128))])),_:2},1032,["transition","class"])])))),128))])};var _t=vt,Ct=(t={},e=!0)=>{const i=t.eventBus=t.eventBus||new N;e&&(0,n.Y3)((()=>{const e=(0,r.createApp)(_t,p({},t)),i=e.mount(document.createElement("div")),o=t.onMounted;if(y(o)||o(i,e),t.shareAppContext){const i=t.shareAppContext;!0===i?console.warn(`[${F}] App to share context with was not provided.`):(e._context.components=i._context.components,e._context.directives=i._context.directives,e._context.mixins=i._context.mixins,e._context.provides=i._context.provides,e.config.globalProperties=i.config.globalProperties)}}));const o=(t,e)=>{const o=Object.assign({},{id:w(),type:P.DEFAULT},e,{content:t});return i.emit(A.ADD,o),o.id};return o.clear=()=>i.emit(A.CLEAR,void 0),o.updateDefaults=t=>{i.emit(A.UPDATE_DEFAULTS,t)},o.dismiss=t=>{i.emit(A.DISMISS,t)},o.update=function(t,{content:e,options:o},n=!1){const r=Object.assign({},o,{content:e});i.emit(A.UPDATE,{id:t,options:r,create:n})},o.success=(t,e)=>o(t,Object.assign({},e,{type:P.SUCCESS})),o.info=(t,e)=>o(t,Object.assign({},e,{type:P.INFO})),o.error=(t,e)=>o(t,Object.assign({},e,{type:P.ERROR})),o.warning=(t,e)=>o(t,Object.assign({},e,{type:P.WARNING})),o},bt=()=>{const t=()=>console.warn(`[${F}] This plugin does not support SSR!`);return new Proxy(t,{get:()=>t})};function Et(t){return I()?k(t)?Ct({eventBus:t},!1):Ct(t,!0):bt()}Symbol("VueToastification"),new N}}]);
//# sourceMappingURL=a17a06d.js.map