{"version":3,"file":"js/44a2f2c.js","mappings":"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","sources":["webpack://code-example/./src/helpers/frontend.js","webpack://code-example/./src/app.vue?3c71","webpack://code-example/./src/app.vue","webpack://code-example/./src/helpers/supported-browsers-regexp.js","webpack://code-example/./src/router/index.js","webpack://code-example/./src/index.js","webpack://code-example/./src/modules/auth/service.js","webpack://code-example/./src/modules/auth/store.js","webpack://code-example/./src/modules/auth/index.js","webpack://code-example/./src/assets/scss/variables.module.scss","webpack://code-example/./src/pages/ lazy ^\\.\\/.*\\.vue$ chunkName: [request] namespace object"],"sourcesContent":["import storage from \"store2\";\r\nimport scssVars from \"@/assets/scss/variables.module\";\r\n\r\nconst isMobileDevice = window.matchMedia(\"(any-pointer: coarse)\").matches;\r\n\r\nconst canvas = document.createElement(\"canvas\");\r\nconst ctx = canvas.getContext(\"2d\");\r\n\r\nconst utils = {\r\n    storage,\r\n\r\n    formatter: {\r\n        normalizePropName(name) {\r\n            if (name.endsWith(\"ID\")) {\r\n                name = `${name.slice(0, -2)}Id`;\r\n            }\r\n            return _.camelCase(name);\r\n        },\r\n\r\n        normalizePropNames(obj) {\r\n            if (!_.isObject(obj)) {\r\n                return obj;\r\n            }\r\n            if (_.isArray(obj)) {\r\n                return obj.map((elem) => utils.formatter.normalizePropNames(elem));\r\n            }\r\n            return Object.keys(obj).reduce((prev, curr) => {\r\n                prev[utils.formatter.normalizePropName(curr)] = utils.formatter.normalizePropNames(obj[curr]);\r\n                return prev;\r\n            }, {});\r\n        },\r\n\r\n        toUniqueSpaces(string) {\r\n            return string.replace(/(\\s)+/g, \"$1\");\r\n        }\r\n    },\r\n\r\n    sleep: (ms = 0) => new Promise((resolve) => setTimeout(resolve, ms)),\r\n\r\n    retry: async (fn, { onEachRetryError, retries, retryIntervalMs }) => {\r\n        try {\r\n            return await fn();\r\n        } catch (error) {\r\n            onEachRetryError(retries);\r\n            if (retries <= 0) {\r\n                throw error;\r\n            }\r\n            await utils.sleep(retryIntervalMs);\r\n            return utils.retry(fn, { onEachRetryError, retries: retries - 1, retryIntervalMs });\r\n        }\r\n    },\r\n\r\n    isMobileDevice() {\r\n        return isMobileDevice;\r\n    },\r\n\r\n    canvas: {\r\n        // @see https://developer.mozilla.org/en-US/docs/Web/API/TextMetrics#measuring_text_width\r\n        getTextWidth({ text, font, fontSize, fontFamily = scssVars[\"font-family\"] }) {\r\n            ctx.font = font || `${fontSize}px ${fontFamily}`;\r\n            return Math.ceil(ctx.measureText(text).width);\r\n        },\r\n\r\n        // @see https://longviewcoder.com/2021/02/11/html5-canvas-text-line-height-measurement/ for more precision\r\n        getTextHeight({ fontSize, fontFamily = scssVars[\"font-family\"] }) {\r\n            const font = `bold ${fontSize}px ${fontFamily}`;\r\n            ctx.font = font;\r\n\r\n            // @see https://stackoverflow.com/a/13318387\r\n            return utils.canvas.getTextWidth({ text: \"M\", font });\r\n        }\r\n    }\r\n};\r\n\r\nexport default utils;\r\n","/* unplugin-vue-components disabled */import { render } from \"./app.vue?vue&type=template&id=cd5a855e\"\nconst script = {}\n\nimport exportComponent from \"D:\\\\Projects\\\\code-example\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { resolveComponent as _resolveComponent, openBlock as _openBlock, createBlock as _createBlock } from \"vue\";\nexport function render(_ctx, _cache) {\n  const _component_router_view = _resolveComponent(\"router-view\");\n  return _openBlock(), _createBlock(_component_router_view);\n}","export default /Edge?\\/(10[7-9]|1[1-9]\\d|[2-9]\\d{2}|\\d{4,})(\\.\\d+|)(\\.\\d+|)|Firefox\\/(10[7-9]|1[1-9]\\d|[2-9]\\d{2}|\\d{4,})\\.\\d+(\\.\\d+|)|Chrom(ium|e)\\/(10[89]|1[1-9]\\d|[2-9]\\d{2}|\\d{4,})\\.\\d+(\\.\\d+|)|Maci.+ Version\\/(1[6-9]|[2-9]\\d|\\d{3,})\\.\\d+([,.]\\d+|)( Mobile\\/\\w+|) Safari\\/|Chrome.+OPR\\/(9[1-9]|\\d{3,})\\.\\d+\\.\\d+|(CPU[ +]OS|iPhone[ +]OS|CPU[ +]iPhone|CPU IPhone OS|CPU iPad OS)[ +]+(1[5-9]|[2-9]\\d|\\d{3,})[._]\\d+([._]\\d+|)|Android:?[ /-](1{2}[1-9]|1[2-9]\\d|[2-9]\\d{2}|\\d{4,})(\\.\\d+|)(\\.\\d+|)|Mobile Safari.+OPR\\/(7[3-9]|[89]\\d|\\d{3,})\\.\\d+\\.\\d+|Android.+Firefox\\/(1{2}\\d|1[2-9]\\d|[2-9]\\d{2}|\\d{4,})\\.\\d+(\\.\\d+|)|Android.+Chrom(ium|e)\\/(1{2}[1-9]|1[2-9]\\d|[2-9]\\d{2}|\\d{4,})\\.\\d+(\\.\\d+|)|Android.+(UC? ?Browser|UCWEB|U3)[ /]?(1[3-9]|[2-9]\\d|\\d{3,})\\.\\d+\\.\\d+|SamsungBrowser\\/(1[6-9]|[2-9]\\d|\\d{3,})\\.\\d+|Android.+MQ{2}Browser\\/(1[3-9]|[2-9]\\d|\\d{3,})(\\.\\d+|)(\\.\\d+|)|K[Aa][Ii]OS\\/([2-9]|\\d{2,})\\.\\d+(\\.\\d+|)/;\r\n","import { createRouter, createWebHashHistory, createWebHistory } from \"vue-router\";\r\nimport qs from \"qs\";\r\nimport { unref } from \"vue\";\r\nimport { onFCP, onLCP } from \"web-vitals\";\r\nimport supportedBrowsers from \"@/helpers/supported-browsers-regexp\";\r\nimport Auth from \"@/modules/auth/index\";\r\nimport helper from \"@/helpers/frontend\";\r\n\r\nlet lastVisitedRouteData;\r\nconst lastVisitedRouteDataStorageId = \"app.lastVisitedRoute\";\r\n\r\nfunction createPage(path) {\r\n    // eslint-disable-next-line import/extensions\r\n    return import(/* webpackChunkName: \"[request]\" */ `@/pages/${path}.vue`);\r\n}\r\n\r\nconst nameBrowserIsNotSupported = \"browser-is-not-supported\";\r\nconst konvaRouteName = \"aircraft.flights.konva\";\r\nconst isBrowserNotSupported = () => !supportedBrowsers.test(navigator.userAgent);\r\nconst router = createRouter({\r\n    history: (process.env.NODE_ENV === \"production\" ? createWebHashHistory : createWebHistory)(\"/\"),\r\n    parseQuery(query) {\r\n        return qs.parse(query);\r\n    },\r\n    stringifyQuery(query) {\r\n        return qs.stringify(query) || \"\";\r\n    },\r\n    routes: [\r\n        {\r\n            path: \"/\",\r\n            name: \"index\",\r\n            redirect: { name: \"aircraft.flights.konva.nativeScrollbars\" }\r\n        },\r\n\r\n        {\r\n            path: \"/aircraft/flights/konva\",\r\n            name: konvaRouteName,\r\n            component: () => createPage(\"aircraft/flights/konva/index\"),\r\n            meta: {\r\n                title: \"Перелеты konva\"\r\n            }\r\n        },\r\n        {\r\n            path: \"/aircraft/flights/highcharts-gantt\",\r\n            name: \"aircraft.flights.gantt\",\r\n            component: () => createPage(\"aircraft/flights/highcharts-gantt/index\"),\r\n            meta: {\r\n                title: \"Перелеты highcharts-gantt\"\r\n            }\r\n        },\r\n        {\r\n            path: \"/aircraft/flights/konva/native-scrollbars\",\r\n            name: \"aircraft.flights.konva.nativeScrollbars\",\r\n            component: () => createPage(\"aircraft/flights/konva/native-scrollbars\"),\r\n            meta: {\r\n                title: \"Перелеты konva native-scrollbars\"\r\n            }\r\n        },\r\n        {\r\n            path: \"/aircraft\",\r\n            redirect: { path: \"/aircraft/flights\" }\r\n        },\r\n        {\r\n            path: \"/aircraft/flights\",\r\n            redirect: { name: konvaRouteName }\r\n        },\r\n\r\n        {\r\n            path: \"/vehicle/routes\",\r\n            name: \"vehicle.routes\",\r\n            component: () => createPage(\"vehicle/routes/index\"),\r\n            meta: {\r\n                title: \"Маршруты транспортных средств\"\r\n            }\r\n        },\r\n        {\r\n            path: \"/vehicle/routes/:id(\\\\d+)\",\r\n            name: \"vehicle.routes.id\",\r\n            component: () => createPage(\"vehicle/routes/[id]\"),\r\n            props: (route) => ({ id: +route.params.id }),\r\n            meta: {\r\n                title: \"Маршрут {{ id }} транспортного средства\"\r\n            }\r\n        },\r\n        {\r\n            path: \"/vehicle\",\r\n            redirect: { name: \"vehicle.routes\" }\r\n        },\r\n\r\n        {\r\n            path: \"/login\",\r\n            name: \"login\",\r\n            component: () => createPage(\"login\"),\r\n\r\n            // при успешной аутентификации не показывается страница логина\r\n            async beforeEnter(to, from, next) {\r\n                if (await new Auth(router).isUserAuthenticated()) {\r\n                    next({ name: \"index\", replace: true });\r\n                } else {\r\n                    next();\r\n                }\r\n            },\r\n\r\n            meta: {\r\n                public: true,\r\n                title: \"Вход\"\r\n            }\r\n        },\r\n        {\r\n            path: \"/logout\",\r\n            name: \"logout\",\r\n            async beforeEnter(to, from, next) {\r\n                try {\r\n                    await new Auth(router).logout();\r\n                } finally {\r\n                    next({\r\n                        name: \"login\",\r\n                        query: { redirect: { path: lastVisitedRouteData.path, query: lastVisitedRouteData.query } },\r\n                        replace: true\r\n                    });\r\n                }\r\n            },\r\n            meta: {\r\n                public: true\r\n            }\r\n        },\r\n        {\r\n            path: \"/browser-is-not-supported\",\r\n            name: nameBrowserIsNotSupported,\r\n            component: () => createPage(nameBrowserIsNotSupported),\r\n            beforeEnter(to, from, next) {\r\n                if (isBrowserNotSupported()) {\r\n                    next();\r\n                } else {\r\n                    next({ name: \"index\", replace: true });\r\n                }\r\n            },\r\n            meta: {\r\n                public: true,\r\n                title: \"Версия браузера не поддерживается\"\r\n            }\r\n        },\r\n        {\r\n            path: \"/:pathMatch(.*)*\",\r\n            name: \"not-found\",\r\n            component: () => createPage(\"not-found\"),\r\n            meta: {\r\n                public: true,\r\n                title: \"Страница не найдена\"\r\n            }\r\n        }\r\n    ]\r\n});\r\n\r\nrouter.beforeEach(async (to, from, next) => {\r\n    document.title = _.template(to?.meta?.title || \"\\uFEFF\")(to.params);\r\n\r\n    lastVisitedRouteData = helper.storage.get(lastVisitedRouteDataStorageId) || {};\r\n    helper.storage.remove(lastVisitedRouteDataStorageId);\r\n\r\n    if (isBrowserNotSupported() && to.name !== nameBrowserIsNotSupported) {\r\n        next({ name: nameBrowserIsNotSupported, replace: true });\r\n        return;\r\n    }\r\n\r\n    const auth = new Auth(router);\r\n    if (to.matched.some((record) => !record.meta.public)) {\r\n        if (await auth.isUserAuthenticated()) {\r\n            next();\r\n            return;\r\n        }\r\n        next({ name: \"login\", query: { redirect: { path: to.path, query: to.query } } });\r\n        return;\r\n    }\r\n\r\n    next();\r\n});\r\n\r\nwindow.addEventListener(\"beforeunload\", () => {\r\n    const route = unref(router.currentRoute);\r\n    helper.storage.set(lastVisitedRouteDataStorageId, { path: route.path, query: route.query });\r\n});\r\n\r\nfunction logMetric(metric) {\r\n    console.debug(`${metric.name}: ${Math.ceil(metric.value)}ms == '${metric.rating}'`);\r\n}\r\n\r\nonFCP(logMetric);\r\nonLCP(logMetric);\r\n\r\nexport default router;\r\n","import _ from \"lodash\";\r\n\r\nimport { createPinia } from \"pinia\";\r\nimport { createApp } from \"vue\";\r\nimport VueKonva from \"vue-konva\";\r\n\r\nimport dayjs from \"dayjs\";\r\nimport \"dayjs/locale/ru\";\r\nimport dayjsLocaleData from \"dayjs/plugin/localeData\";\r\nimport utc from \"dayjs/plugin/utc\";\r\nimport duration from \"dayjs/plugin/duration\";\r\n\r\nimport Highcharts from \"highcharts\";\r\nimport HighchartsVue from \"highcharts-vue\";\r\nimport ganttInit from \"highcharts/modules/gantt\";\r\nimport exportingInit from \"highcharts/modules/exporting\";\r\nimport offlineExportingInit from \"highcharts/modules/offline-exporting\";\r\nimport accessibilityInit from \"highcharts/modules/accessibility\";\r\n\r\nimport axios from \"axios\";\r\nimport axiosRetry from \"axios-retry\";\r\n\r\nimport FontFaceObserver from \"fontfaceobserver\";\r\nimport App from \"@/app\";\r\nimport router from \"@/router/index\";\r\n\r\nimport scssVars from \"@/assets/scss/variables.module\";\r\nimport \"@fontsource/roboto-slab\";\r\nimport \"@/assets/scss/app\";\r\n\r\n// bug - custom font некорректно отображается при первоначальной отрисовке в canvas,\r\n// только после первого redraw (после скролла, например) отображение сменяется на корректное, т.е. нужно\r\n// либо принудительно вызывать redraw у всей stage,\r\n// либо использовать данный workaround\r\nconst customFont = scssVars[\"font-family\"].split(\",\")[0].slice(1, -1);\r\nnew FontFaceObserver(customFont).load();\r\n\r\nconst app = createApp(App);\r\napp.config.globalProperties = {\r\n    productionAbsoluteUrl: import.meta.env.productionAbsoluteUrl,\r\n    Math,\r\n    logValueToConsole(value) {\r\n        console.debug(value);\r\n        return value;\r\n    }\r\n};\r\n\r\ndayjs.locale(\"ru\");\r\ndayjs.extend(dayjsLocaleData);\r\ndayjs.extend(utc);\r\ndayjs.extend(duration);\r\nwindow.dayjs = dayjs;\r\n\r\nganttInit(Highcharts);\r\nexportingInit(Highcharts);\r\nofflineExportingInit(Highcharts);\r\naccessibilityInit(Highcharts);\r\nconst formattedNumber = new Intl.NumberFormat(\"ru-RU\").formatToParts(99999.99);\r\nconst { value: decimalPoint } = formattedNumber.find((part) => part.type === \"decimal\");\r\nconst { value: thousandsSep } = formattedNumber.find((part) => part.type === \"group\");\r\nHighcharts.setOptions({\r\n    lang: {\r\n        decimalPoint,\r\n        thousandsSep,\r\n        weekdays: dayjs.weekdays(),\r\n        weekdaysShort: dayjs.weekdaysMin(),\r\n        months: dayjs.months(),\r\n        shortMonths: dayjs.monthsShort()\r\n    }\r\n});\r\n\r\napp.use(createPinia()).use(router).use(VueKonva, { prefix: \"K\" }).use(HighchartsVue).mount(\"#app\");\r\n\r\naxiosRetry(axios, {\r\n    retries: import.meta.env.fetchRetries.count,\r\n\r\n    // eslint-disable-next-line arrow-body-style\r\n    retryDelay: () => {\r\n        return import.meta.env.fetchRetries.intervalMs;\r\n    }\r\n});\r\nwindow.$http = axios;\r\n\r\n_.templateSettings.interpolate = /{{([\\S\\s]+?)}}/g;\r\n_.templateSettings.evaluate = /{#([\\S\\s]+?)#}/g;\r\nwindow._ = _;\r\n\r\n// TODO обновлять @/helpers/supported-browsers-regexp в прекоммит-хуке, если изменен .browserslistrc\r\n","import helper from \"@/helpers/frontend\";\r\n\r\nclass Service {\r\n    constructor() {\r\n        this.storageIds = {\r\n            userData: \"app.user.data\",\r\n            firstTime: \"app.user.first.time\",\r\n            packageVersion: \"app.package.version\"\r\n        };\r\n        this.userData = {\r\n            id: 1,\r\n            name: \"name\"\r\n        };\r\n    }\r\n\r\n    isUserAuthenticated() {\r\n        return new Promise((resolve) => {\r\n            resolve(helper.storage.has(this.storageIds.userData));\r\n        });\r\n    }\r\n\r\n    login() {\r\n        return new Promise((resolve, reject) => {\r\n            const userData = helper.storage.get(this.storageIds.userData);\r\n            if (userData) {\r\n                resolve(userData);\r\n            } else {\r\n                try {\r\n                    const data = Service._fakeQueryRetry(\"login\", this.userData);\r\n                    helper.storage.set(this.storageIds.userData, data);\r\n                    resolve(data);\r\n                } catch (error) {\r\n                    reject(error);\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    async logout() {\r\n        try {\r\n            return await Service._fakeQueryRetry(\"logout\");\r\n        } finally {\r\n            helper.storage.remove(this.storageIds.userData);\r\n        }\r\n    }\r\n\r\n    static async _fakeQueryRetry(method, data) {\r\n        const result = await helper.retry(() => Service._fakeQuery(method, data), {\r\n            onEachRetryError: (retries) => {\r\n                console.debug(`${method}: неудачная попытка, осталось еще ${retries} раз(а)`);\r\n            },\r\n            retries: import.meta.env.fetchRetries.count,\r\n            retryIntervalMs: import.meta.env.fetchRetries.intervalMs\r\n        });\r\n        console.debug(`${method}: успешное получение данных`);\r\n        return result;\r\n    }\r\n\r\n    static _fakeQuery(method, data) {\r\n        return new Promise((resolve, reject) => {\r\n            setTimeout(() => {\r\n                // эмуляция ошибки получения данных с вероятностью 0.1 при серии из ${import.meta.env.fetchRetries.count + 1} попыток\r\n                if (Math.random() > 0.1 ** (1 / (import.meta.env.fetchRetries.count + 1))) {\r\n                    resolve(data);\r\n                } else {\r\n                    reject(new Error(`Не удалось выполнить запрос ${method}`));\r\n                }\r\n            }, Math.random() * 400);\r\n        });\r\n    }\r\n\r\n    getPackageVersion() {\r\n        return new Promise((resolve) => {\r\n            resolve(helper.storage.get(this.storageIds.packageVersion));\r\n        });\r\n    }\r\n\r\n    setPackageVersion(version) {\r\n        return new Promise((resolve) => {\r\n            helper.storage.set(this.storageIds.packageVersion, version);\r\n            resolve();\r\n        });\r\n    }\r\n\r\n    isUserNew() {\r\n        return new Promise((resolve) => {\r\n            resolve(!helper.storage.has(this.storageIds.firstTime));\r\n        });\r\n    }\r\n\r\n    setUserOld() {\r\n        return new Promise((resolve) => {\r\n            helper.storage.set(this.storageIds.firstTime, false);\r\n            resolve();\r\n        });\r\n    }\r\n}\r\n\r\nexport default new Service();\r\n","import { defineStore } from \"pinia\";\r\n\r\nimport service from \"./service\";\r\n\r\nexport default defineStore(\"auth\", {\r\n    state: () => ({\r\n        userData: null\r\n    }),\r\n    actions: {\r\n        isUserAuthenticated() {\r\n            return service.isUserAuthenticated();\r\n        },\r\n\r\n        async login() {\r\n            this.userData = await service.login();\r\n        },\r\n\r\n        logout() {\r\n            return service.logout();\r\n        },\r\n\r\n        getPackageVersion() {\r\n            return service.getPackageVersion();\r\n        },\r\n\r\n        setPackageVersion(version) {\r\n            return service.setPackageVersion(version);\r\n        },\r\n\r\n        isUserNew() {\r\n            return service.isUserNew();\r\n        },\r\n\r\n        setUserOld() {\r\n            return service.setUserOld();\r\n        }\r\n    }\r\n});\r\n","import { unref } from \"vue\";\r\nimport useStore from \"./store\";\r\n\r\nexport default class Auth {\r\n    constructor($router) {\r\n        if (Auth.instance) {\r\n            return Auth.instance;\r\n        }\r\n        Auth.instance = this;\r\n\r\n        this.$router = $router;\r\n        this.store = useStore();\r\n        this.scheduleTimeoutId = null;\r\n\r\n        this.ensurePackageVersion();\r\n    }\r\n\r\n    async isUserAuthenticated() {\r\n        const data = await this.store.isUserAuthenticated();\r\n        clearTimeout(this.scheduleTimeoutId);\r\n        const currentRoute = this.getCurrentRoute();\r\n        if (!currentRoute.meta?.public) {\r\n            this.scheduleCheckAuth();\r\n        }\r\n        return data;\r\n    }\r\n\r\n    scheduleCheckAuth() {\r\n        this.scheduleTimeoutId = setTimeout(async () => {\r\n            if (!(await this.isUserAuthenticated())) {\r\n                const currentRoute = this.getCurrentRoute();\r\n                if (currentRoute.name !== \"login\") {\r\n                    this.$router.push({ name: \"login\" });\r\n                }\r\n            } else {\r\n                this.scheduleCheckAuth();\r\n            }\r\n        }, 60000);\r\n    }\r\n\r\n    async login() {\r\n        const data = await this.store.login();\r\n        const currentRoute = this.getCurrentRoute();\r\n        const {\r\n            redirect: { path, query }\r\n        } = currentRoute.query;\r\n        if (!path || path === currentRoute.path) {\r\n            this.$router.push({ name: \"index\", query });\r\n        } else {\r\n            this.$router.push({ path, query, replace: true });\r\n        }\r\n        return data;\r\n    }\r\n\r\n    logout() {\r\n        return this.store.logout();\r\n    }\r\n\r\n    // сделаем logout после нового релиза\r\n    async ensurePackageVersion() {\r\n        const version = await this.getPackageVersion();\r\n        if (version !== import.meta.env.packageVersion) {\r\n            console.debug(\"выпущен новый релиз, необходим logout, затем login\");\r\n            await this.setPackageVersion(import.meta.env.packageVersion);\r\n            this.$router.push({ name: \"logout\" });\r\n        }\r\n    }\r\n\r\n    getPackageVersion() {\r\n        return this.store.getPackageVersion();\r\n    }\r\n\r\n    setPackageVersion(version) {\r\n        return this.store.setPackageVersion(version);\r\n    }\r\n\r\n    getCurrentRoute() {\r\n        return unref(this.$router.currentRoute);\r\n    }\r\n\r\n    async isUserNew() {\r\n        const isNew = await this.store.isUserNew();\r\n        if (isNew) {\r\n            await this.setUserOld();\r\n        }\r\n        return isNew;\r\n    }\r\n\r\n    setUserOld() {\r\n        return this.store.setUserOld();\r\n    }\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport default {\"font-family\":\"\\\"Roboto Slab\\\",serif\",\"help-text-color\":\"#6c757d\"};","var map = {\n\t\"./aircraft/flights/highcharts-gantt/index.vue\": [\n\t\t4691,\n\t\t216,\n\t\t599\n\t],\n\t\"./aircraft/flights/konva/index.vue\": [\n\t\t2092,\n\t\t216,\n\t\t935,\n\t\t295\n\t],\n\t\"./aircraft/flights/konva/native-scrollbars.vue\": [\n\t\t4524,\n\t\t216,\n\t\t935,\n\t\t736\n\t],\n\t\"./browser-is-not-supported.vue\": [\n\t\t3833,\n\t\t174\n\t],\n\t\"./login.vue\": [\n\t\t5719,\n\t\t216,\n\t\t44\n\t],\n\t\"./not-found.vue\": [\n\t\t3428,\n\t\t19\n\t],\n\t\"./vehicle/routes/[id].vue\": [\n\t\t3014,\n\t\t216,\n\t\t897,\n\t\t74\n\t],\n\t\"./vehicle/routes/index.vue\": [\n\t\t6632,\n\t\t216,\n\t\t897,\n\t\t72\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(() => {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn Promise.all(ids.slice(1).map(__webpack_require__.e)).then(() => {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = () => (Object.keys(map));\nwebpackAsyncContext.id = 2275;\nmodule.exports = webpackAsyncContext;"],"names":["isMobileDevice","window","matchMedia","matches","ctx","document","createElement","getContext","utils","storage","formatter","normalizePropName","name","endsWith","slice","_","camelCase","normalizePropNames","obj","isObject","isArray","map","elem","Object","keys","reduce","prev","curr","toUniqueSpaces","string","replace","sleep","ms","arguments","length","undefined","Promise","resolve","setTimeout","retry","async","fn","_ref","onEachRetryError","retries","retryIntervalMs","error","canvas","getTextWidth","_ref2","text","font","fontSize","fontFamily","scssVars","Math","ceil","measureText","width","getTextHeight","_ref3","script","_ctx","_cache","_component_router_view","lastVisitedRouteData","lastVisitedRouteDataStorageId","createPage","path","nameBrowserIsNotSupported","konvaRouteName","isBrowserNotSupported","supportedBrowsers","navigator","userAgent","router","createRouter","history","process","parseQuery","query","qs","stringifyQuery","routes","redirect","component","meta","title","props","route","id","params","to","from","next","Auth","isUserAuthenticated","public","logout","beforeEnter","logMetric","metric","console","debug","value","rating","beforeEach","template","helper","auth","matched","some","record","addEventListener","unref","currentRoute","onFCP","onLCP","customFont","FontFaceObserver","load","app","createApp","App","config","globalProperties","productionAbsoluteUrl","import","logValueToConsole","dayjs","dayjsLocaleData","utc","duration","ganttInit","Highcharts","exportingInit","offlineExportingInit","accessibilityInit","formattedNumber","Intl","NumberFormat","formatToParts","decimalPoint","find","part","type","thousandsSep","lang","weekdays","weekdaysShort","months","shortMonths","use","createPinia","VueKonva","prefix","HighchartsVue","mount","axiosRetry","axios","retryDelay","$http","Service","constructor","this","storageIds","userData","firstTime","packageVersion","login","reject","data","_fakeQueryRetry","static","method","result","_fakeQuery","random","Error","getPackageVersion","setPackageVersion","version","isUserNew","setUserOld","defineStore","state","actions","service","$router","instance","store","useStore","scheduleTimeoutId","ensurePackageVersion","clearTimeout","getCurrentRoute","scheduleCheckAuth","push","isNew","webpackAsyncContext","req","__webpack_require__","o","then","e","code","ids","all","module","exports"],"sourceRoot":""}