/*! For license information please see fbb74ae.js.LICENSE.txt */
(self.webpackChunkcode_example=self.webpackChunkcode_example||[]).push([[216],{9553:(t,e,n)=>{"use strict";n.d(e,{gE:()=>G});var i=n(5544),o=n(6890),r=n(7638),s=n(9791),a=n(2343),l=n(9181),c=n(8464);const u=n(1235).n2;var h=n(1170);const d=(t,e,n)=>{let i,o;return r=>{e.value>=0&&(r||n)&&(o=e.value-(i||0),(o||void 0===i)&&(i=e.value,e.delta=o,t(e)))}},p=()=>u.__WEB_VITALS_POLYFILL__?u.performance&&(performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]||(()=>{const t=u.performance.timing,e=u.performance.navigation.type,n={entryType:"navigation",startTime:0,type:2==e?"back_forward":1===e?"reload":"navigate"};for(const e in t)"navigationStart"!==e&&"toJSON"!==e&&(n[e]=Math.max(t[e]-t.navigationStart,0));return n})()):u.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0],f=()=>{const t=p();return t&&t.activationStart||0},g=(t,e)=>{const n=p();let i="navigate";return n&&(i=u.document.prerendering||f()>0?"prerender":n.type.replace(/_/g,"-")),{name:t,value:void 0===e?-1:e,rating:"good",delta:0,entries:[],id:`v3-${Date.now()}-${Math.floor(8999999999999*Math.random())+1e12}`,navigationType:i}},m=(t,e,n)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(t)){const i=new PerformanceObserver((t=>{e(t.getEntries())}));return i.observe(Object.assign({type:t,buffered:!0},n||{})),i}}catch(t){}},_=(t,e)=>{const n=i=>{"pagehide"!==i.type&&"hidden"!==u.document.visibilityState||(t(i),e&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))};addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0)},y=t=>{const e=g("CLS",0);let n,i=0,o=[];const r=t=>{t.forEach((t=>{if(!t.hadRecentInput){const r=o[0],s=o[o.length-1];i&&0!==o.length&&t.startTime-s.startTime<1e3&&t.startTime-r.startTime<5e3?(i+=t.value,o.push(t)):(i=t.value,o=[t]),i>e.value&&(e.value=i,e.entries=o,n&&n())}}))},s=m("layout-shift",r);if(s){n=d(t,e);const i=()=>{r(s.takeRecords()),n(!0)};return _(i),i}};let v=-1;const C=()=>(v<0&&(v="hidden"!==u.document.visibilityState||u.document.prerendering?1/0:0,_((({timeStamp:t})=>{v=t}),!0)),{get firstHiddenTime(){return v}}),b=t=>{const e=C(),n=g("FID");let i;const o=t=>{t.startTime<e.firstHiddenTime&&(n.value=t.processingStart-t.startTime,n.entries.push(t),i(!0))},r=t=>{t.forEach(o)},s=m("first-input",r);i=d(t,n),s&&_((()=>{r(s.takeRecords()),s.disconnect()}),!0)},E={},S=t=>{const e=C(),n=g("LCP");let i;const o=t=>{const o=t[t.length-1];if(o){const t=Math.max(o.startTime-f(),0);t<e.firstHiddenTime&&(n.value=t,n.entries=[o],i())}},r=m("largest-contentful-paint",o);if(r){i=d(t,n);const e=()=>{E[n.id]||(o(r.takeRecords()),r.disconnect(),E[n.id]=!0,i(!0))};return["keydown","click"].forEach((t=>{addEventListener(t,e,{once:!0,capture:!0})})),_(e,!0),e}};function w(t){return"number"==typeof t&&isFinite(t)}function O(t,{startTimestamp:e,...n}){return e&&t.startTimestamp>e&&(t.startTimestamp=e),t.startChild({startTimestamp:e,...n})}function x(t){return t/1e3}function P(){return u&&u.addEventListener&&u.performance}let T,M,D=0,R={};function A(){const t=P();if(t&&h.Z1){t.mark&&u.performance.mark("sentry-tracing-init"),b((t=>{const e=t.entries.pop();if(!e)return;const n=x(h.Z1),i=x(e.startTime);("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&a.kg.log("[Measurements] Adding FID"),R.fid={value:t.value,unit:"millisecond"},R["mark.fid"]={value:n+i,unit:"second"}}));const e=y((t=>{const e=t.entries.pop();e&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&a.kg.log("[Measurements] Adding CLS"),R.cls={value:t.value,unit:""},M=e)})),n=S((t=>{const e=t.entries.pop();e&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&a.kg.log("[Measurements] Adding LCP"),R.lcp={value:t.value,unit:"millisecond"},T=e)}));return()=>{e&&e(),n&&n()}}return()=>{}}function L(t){const e=P();if(!e||!u.performance.getEntries||!h.Z1)return;("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&a.kg.log("[Tracing] Adding & adjusting spans using Performance API");const n=x(h.Z1),i=e.getEntries();let o,r;if(i.slice(D).forEach((e=>{const i=x(e.startTime),s=x(e.duration);if(!("navigation"===t.op&&n+i<t.startTimestamp))switch(e.entryType){case"navigation":!function(t,e,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach((i=>{I(t,e,i,n)})),I(t,e,"secureConnection",n,"TLS/SSL","connectEnd"),I(t,e,"fetch",n,"cache","domainLookupStart"),I(t,e,"domainLookup",n,"DNS"),function(t,e,n){O(t,{op:"browser",description:"request",startTimestamp:n+x(e.requestStart),endTimestamp:n+x(e.responseEnd)}),O(t,{op:"browser",description:"response",startTimestamp:n+x(e.responseStart),endTimestamp:n+x(e.responseEnd)})}(t,e,n)}(t,e,n),o=n+x(e.responseStart),r=n+x(e.requestStart);break;case"mark":case"paint":case"measure":{!function(t,e,n,i,o){const r=o+n,s=r+i;O(t,{description:e.name,endTimestamp:s,op:e.entryType,startTimestamp:r})}(t,e,i,s,n);const o=C(),r=e.startTime<o.firstHiddenTime;"first-paint"===e.name&&r&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&a.kg.log("[Measurements] Adding FP"),R.fp={value:e.startTime,unit:"millisecond"}),"first-contentful-paint"===e.name&&r&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&a.kg.log("[Measurements] Adding FCP"),R.fcp={value:e.startTime,unit:"millisecond"});break}case"resource":{const o=e.name.replace(u.location.origin,"");!function(t,e,n,i,o,r){if("xmlhttprequest"===e.initiatorType||"fetch"===e.initiatorType)return;const s={};"transferSize"in e&&(s["http.response_transfer_size"]=e.transferSize);"encodedBodySize"in e&&(s["http.response_content_length"]=e.encodedBodySize);"decodedBodySize"in e&&(s["http.decoded_response_content_length"]=e.decodedBodySize);"renderBlockingStatus"in e&&(s["resource.render_blocking_status"]=e.renderBlockingStatus);const a=r+i,l=a+o;O(t,{description:n,endTimestamp:l,op:e.initiatorType?`resource.${e.initiatorType}`:"resource.other",startTimestamp:a,data:s})}(t,e,o,i,s,n);break}}})),D=Math.max(i.length-1,0),function(t){const e=u.navigator;if(!e)return;const n=e.connection;n&&(n.effectiveType&&t.setTag("effectiveConnectionType",n.effectiveType),n.type&&t.setTag("connectionType",n.type),w(n.rtt)&&(R["connection.rtt"]={value:n.rtt,unit:"millisecond"}));w(e.deviceMemory)&&t.setTag("deviceMemory",`${e.deviceMemory} GB`);w(e.hardwareConcurrency)&&t.setTag("hardwareConcurrency",String(e.hardwareConcurrency))}(t),"pageload"===t.op){"number"==typeof o&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&a.kg.log("[Measurements] Adding TTFB"),R.ttfb={value:1e3*(o-t.startTimestamp),unit:"millisecond"},"number"==typeof r&&r<=o&&(R["ttfb.requestTime"]={value:1e3*(o-r),unit:"millisecond"})),["fcp","fp","lcp"].forEach((e=>{if(!R[e]||n>=t.startTimestamp)return;const i=R[e].value,o=n+x(i),r=Math.abs(1e3*(o-t.startTimestamp)),s=r-i;("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&a.kg.log(`[Measurements] Normalized ${e} from ${i} to ${r} (${s})`),R[e].value=r}));const e=R["mark.fid"];e&&R.fid&&(O(t,{description:"first input delay",endTimestamp:e.value+x(R.fid.value),op:"ui.action",startTimestamp:e.value}),delete R["mark.fid"]),"fcp"in R||delete R.cls,Object.keys(R).forEach((e=>{t.setMeasurement(e,R[e].value,R[e].unit)})),function(t){T&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&a.kg.log("[Measurements] Adding LCP Data"),T.element&&t.setTag("lcp.element",(0,c.Rt)(T.element)),T.id&&t.setTag("lcp.id",T.id),T.url&&t.setTag("lcp.url",T.url.trim().slice(0,200)),t.setTag("lcp.size",T.size));M&&M.sources&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&a.kg.log("[Measurements] Adding CLS Data"),M.sources.forEach(((e,n)=>t.setTag(`cls.source.${n+1}`,(0,c.Rt)(e.node)))))}(t)}T=void 0,M=void 0,R={}}function I(t,e,n,i,o,r){const s=r?e[r]:e[`${n}End`],a=e[`${n}Start`];a&&s&&O(t,{op:"browser",description:o||n,startTimestamp:i+x(a),endTimestamp:i+x(s)})}var k=n(516),N=n(2533);const F={...i.AT,markBackgroundTransactions:!0,routingInstrumentation:function(t,e=!0,n=!0){if(!u||!u.location)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&a.kg.warn("Could not initialize routing instrumentation due to invalid location"));let i,o=u.location.href;e&&(i=t({name:u.location.pathname,startTimestamp:h.Z1?h.Z1/1e3:void 0,op:"pageload",metadata:{source:"url"}})),n&&(0,N.oq)("history",(({to:e,from:n})=>{void 0===n&&o&&-1!==o.indexOf(e)?o=void 0:n!==e&&(o=void 0,i&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&a.kg.log(`[Tracing] Finishing current transaction with op: ${i.op}`),i.finish()),i=t({name:u.location.pathname,op:"navigation",metadata:{source:"url"}}))}))},startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0,enableLongTask:!0,_experiments:{},...k.k3};class G{__init(){this.name="BrowserTracing"}constructor(t){G.prototype.__init.call(this),(0,o.T)(),this.options={...F,...t},void 0!==this.options._experiments.enableLongTask&&(this.options.enableLongTask=this.options._experiments.enableLongTask),t&&!t.tracePropagationTargets&&t.tracingOrigins&&(this.options.tracePropagationTargets=t.tracingOrigins),this._collectWebVitals=A(),this.options.enableLongTask&&m("longtask",(t=>{for(const e of t){const t=(0,s.x1)();if(!t)return;const n=x(h.Z1+e.startTime),i=x(e.duration);t.startChild({description:"Main UI thread blocked",op:"ui.long-task",startTimestamp:n,endTimestamp:n+i})}})),this.options._experiments.enableInteractions&&m("event",(t=>{for(const e of t){const t=(0,s.x1)();if(!t)return;if("click"===e.name){const n=x(h.Z1+e.startTime),i=x(e.duration);t.startChild({description:(0,c.Rt)(e.target),op:`ui.interaction.${e.name}`,startTimestamp:n,endTimestamp:n+i})}}}),{durationThreshold:0})}setupOnce(t,e){this._getCurrentHub=e;const{routingInstrumentation:n,startTransactionOnLocationChange:i,startTransactionOnPageLoad:o,markBackgroundTransactions:r,traceFetch:l,traceXHR:c,tracePropagationTargets:h,shouldCreateSpanForRequest:d,_experiments:p}=this.options;n((t=>{const n=this._createRouteTransaction(t);return this.options._experiments.onStartRouteTransaction&&this.options._experiments.onStartRouteTransaction(n,t,e),n}),o,i),r&&(u&&u.document?u.document.addEventListener("visibilitychange",(()=>{const t=(0,s.x1)();if(u.document.hidden&&t){const e="cancelled";("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&a.kg.log(`[Tracing] Transaction: ${e} -> since tab moved to the background, op: ${t.op}`),t.status||t.setStatus(e),t.setTag("visibilitychange","document.hidden"),t.finish()}})):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&a.kg.warn("[Tracing] Could not set up background tab detection due to lack of global document")),p.enableInteractions&&this._registerInteractionListener(),(0,k.L7)({traceFetch:l,traceXHR:c,tracePropagationTargets:h,shouldCreateSpanForRequest:d})}_createRouteTransaction(t){if(!this._getCurrentHub)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&a.kg.warn(`[Tracing] Did not create ${t.op} transaction because _getCurrentHub is invalid.`));const{beforeNavigate:e,idleTimeout:n,finalTimeout:i,heartbeatInterval:s}=this.options,c="pageload"===t.op,h=c?B("sentry-trace"):null,d=c?B("baggage"):null,p=h?(0,r.q)(h):void 0,f=d?(0,l.EN)(d):void 0,g={...t,...p,metadata:{...t.metadata,dynamicSamplingContext:p&&!f?{}:f},trimEnd:!0},m="function"==typeof e?e(g):g,_=void 0===m?{...g,sampled:!1}:m;_.metadata=_.name!==g.name?{..._.metadata,source:"custom"}:_.metadata,this._latestRouteName=_.name,this._latestRouteSource=_.metadata&&_.metadata.source,!1===_.sampled&&("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&a.kg.log(`[Tracing] Will not send ${_.op} transaction because of beforeNavigate.`),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&a.kg.log(`[Tracing] Starting ${_.op} transaction on scope`);const y=this._getCurrentHub(),{location:v}=u,C=(0,o.l)(y,_,n,i,!0,{location:v},s);return C.registerBeforeFinishCallback((t=>{this._collectWebVitals(),L(t)})),C}_registerInteractionListener(){let t;const e=()=>{const{idleTimeout:e,finalTimeout:n,heartbeatInterval:i}=this.options,r="ui.action.click",l=(0,s.x1)();if(l&&l.op&&["navigation","pageload"].includes(l.op))return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&a.kg.warn(`[Tracing] Did not create ${r} transaction because a pageload or navigation transaction is in progress.`));if(t&&(t.setFinishReason("interactionInterrupted"),t.finish(),t=void 0),!this._getCurrentHub)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&a.kg.warn(`[Tracing] Did not create ${r} transaction because _getCurrentHub is invalid.`));if(!this._latestRouteName)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&a.kg.warn(`[Tracing] Did not create ${r} transaction because _latestRouteName is missing.`));const c=this._getCurrentHub(),{location:h}=u,d={name:this._latestRouteName,op:r,trimEnd:!0,metadata:{source:this._latestRouteSource||"url"}};t=(0,o.l)(c,d,e,n,!0,{location:h},i)};["click"].forEach((t=>{addEventListener(t,e,{once:!1,capture:!0})}))}}function B(t){const e=(0,c.qT)(`meta[name=${t}]`);return e?e.getAttribute("content"):null}},516:(t,e,n)=>{"use strict";n.d(e,{L7:()=>h,k3:()=>u});var i=n(7522),o=n(5659),r=n(2533),s=n(7321),a=n(9181),l=n(7597);const c=["localhost",/^\//],u={traceFetch:!0,traceXHR:!0,tracingOrigins:c,tracePropagationTargets:c};function h(t){const{traceFetch:e,traceXHR:n,tracePropagationTargets:h,tracingOrigins:d,shouldCreateSpanForRequest:p}={traceFetch:u.traceFetch,traceXHR:u.traceXHR,...t},f="function"==typeof p?p:t=>!0,g=t=>function(t,e){return(0,s.U0)(t,e||c)}(t,h||d),m={};e&&(0,r.oq)("fetch",(t=>{!function(t,e,n,r){if(!(0,i.z)()||!t.fetchData||!e(t.fetchData.url))return;if(t.endTimestamp){const e=t.fetchData.__span;if(!e)return;const n=r[e];return void(n&&(t.response?n.setHttpStatus(t.response.status):t.error&&n.setStatus("internal_error"),n.finish(),delete r[e]))}const s=t.response&&t.response.headers&&t.response.headers.get("content-length"),c=(0,o.Gd)().getScope(),u=c&&c.getSpan(),h=u&&u.transaction;if(u&&h){const{method:e,url:i}=t.fetchData,o=u.startChild({data:{url:i,type:"fetch",...s?{"http.response_content_length":s}:{},"http.method":e},description:`${e} ${i}`,op:"http.client"});t.fetchData.__span=o.spanId,r[o.spanId]=o;const c=t.args[0];t.args[1]=t.args[1]||{};const d=t.args[1];n(t.fetchData.url)&&(d.headers=function(t,e,n,i){const o=(0,a.IQ)(e),r=n.toTraceparent(),s="undefined"!=typeof Request&&(0,l.V9)(t,Request)?t.headers:i.headers;if(s){if("undefined"!=typeof Headers&&(0,l.V9)(s,Headers)){const t=new Headers(s);return t.append("sentry-trace",r),o&&t.append(a.bU,o),t}if(Array.isArray(s)){const t=[...s,["sentry-trace",r]];return o&&t.push([a.bU,o]),t}{const t="baggage"in s?s.baggage:void 0,e=[];return Array.isArray(t)?e.push(...t):t&&e.push(t),o&&e.push(o),{...s,"sentry-trace":r,baggage:e.length>0?e.join(","):void 0}}}return{"sentry-trace":r,baggage:o}}(c,h.getDynamicSamplingContext(),o,d))}}(t,f,g,m)})),n&&(0,r.oq)("xhr",(t=>{!function(t,e,n,s){const l=t.xhr,c=l&&l[r.xU];if(!(0,i.z)()||l&&l.__sentry_own_request__||!(l&&c&&e(c.url)))return;if(t.endTimestamp){const t=l.__sentry_xhr_span_id__;if(!t)return;const e=s[t];return void(e&&(e.setHttpStatus(c.status_code),e.finish(),delete s[t]))}const u=(0,o.Gd)().getScope(),h=u&&u.getSpan(),d=h&&h.transaction;if(h&&d){const t=h.startChild({data:{...c.data,type:"xhr","http.method":c.method,url:c.url},description:`${c.method} ${c.url}`,op:"http.client"});if(l.__sentry_xhr_span_id__=t.spanId,s[l.__sentry_xhr_span_id__]=t,l.setRequestHeader&&n(c.url))try{l.setRequestHeader("sentry-trace",t.toTraceparent());const e=d.getDynamicSamplingContext(),n=(0,a.IQ)(e);n&&l.setRequestHeader(a.bU,n)}catch(t){}}}(t,f,g,m)}))}},2248:(t,e,n)=>{"use strict";n.d(e,{R:()=>x});var i=n(292),o=n(2343),r=n(2844),s=n(7597),a=n(6893),l=n(8725),c=n(409),u=n(1984);var h=n(2967),d=n(9015),p=n(8942);const f="Not capturing exception because it's already been captured.";class g{__init(){this._integrations={}}__init2(){this._integrationsInitialized=!1}__init3(){this._numProcessing=0}__init4(){this._outcomes={}}__init5(){this._hooks={}}constructor(t){if(g.prototype.__init.call(this),g.prototype.__init2.call(this),g.prototype.__init3.call(this),g.prototype.__init4.call(this),g.prototype.__init5.call(this),this._options=t,t.dsn){this._dsn=(0,i.vK)(t.dsn);const e=(0,u.U)(this._dsn,t);this._transport=t.transport({recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:e})}else("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.warn("No DSN provided, client will not do anything.")}captureException(t,e,n){if((0,r.YO)(t))return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.log(f));let i=e&&e.event_id;return this._process(this.eventFromException(t,e).then((t=>this._captureEvent(t,e,n))).then((t=>{i=t}))),i}captureMessage(t,e,n,i){let o=n&&n.event_id;const r=(0,s.pt)(t)?this.eventFromMessage(String(t),e,n):this.eventFromException(t,n);return this._process(r.then((t=>this._captureEvent(t,n,i))).then((t=>{o=t}))),o}captureEvent(t,e,n){if(e&&e.originalException&&(0,r.YO)(e.originalException))return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.log(f));let i=e&&e.event_id;return this._process(this._captureEvent(t,e,n).then((t=>{i=t}))),i}captureSession(t){this._isEnabled()?"string"!=typeof t.release?("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.warn("Discarded session because of missing or non-string release"):(this.sendSession(t),(0,d.CT)(t,{init:!1})):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.warn("SDK not enabled, will not capture session.")}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){const e=this._transport;return e?this._isClientDoneProcessing(t).then((n=>e.flush(t).then((t=>n&&t)))):(0,a.WD)(!0)}close(t){return this.flush(t).then((t=>(this.getOptions().enabled=!1,t)))}setupIntegrations(){this._isEnabled()&&!this._integrationsInitialized&&(this._integrations=(0,h.q4)(this._options.integrations),this._integrationsInitialized=!0)}getIntegrationById(t){return this._integrations[t]}getIntegration(t){try{return this._integrations[t.id]||null}catch(e){return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.warn(`Cannot retrieve integration ${t.id} from the current Client`),null}}addIntegration(t){(0,h.m7)(t,this._integrations)}sendEvent(t,e={}){if(this._dsn){let n=function(t,e,n,i){const o=(0,l.HY)(n),r=t.type&&"replay_event"!==t.type?t.type:"event";!function(t,e){e&&(t.sdk=t.sdk||{},t.sdk.name=t.sdk.name||e.name,t.sdk.version=t.sdk.version||e.version,t.sdk.integrations=[...t.sdk.integrations||[],...e.integrations||[]],t.sdk.packages=[...t.sdk.packages||[],...e.packages||[]])}(t,n&&n.sdk);const s=(0,l.Cd)(t,o,i,e);delete t.sdkProcessingMetadata;const a=[{type:r},t];return(0,l.Jd)(s,[a])}(t,this._dsn,this._options._metadata,this._options.tunnel);for(const t of e.attachments||[])n=(0,l.BO)(n,(0,l.zQ)(t,this._options.transportOptions&&this._options.transportOptions.textEncoder));const i=this._sendEnvelope(n);i&&i.then((e=>this.emit("afterSendEvent",t,e)),null)}}sendSession(t){if(this._dsn){const e=function(t,e,n,o){const r=(0,l.HY)(n),s={sent_at:(new Date).toISOString(),...r&&{sdk:r},...!!o&&{dsn:(0,i.RA)(e)}},a="aggregates"in t?[{type:"sessions"},t]:[{type:"session"},t];return(0,l.Jd)(s,[a])}(t,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(e)}}recordDroppedEvent(t,e,n){if(this._options.sendClientReports){const n=`${t}:${e}`;("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.log(`Adding outcome: "${n}"`),this._outcomes[n]=this._outcomes[n]+1||1}}on(t,e){this._hooks[t]||(this._hooks[t]=[]),this._hooks[t].push(e)}emit(t,...e){this._hooks[t]&&this._hooks[t].forEach((t=>t(...e)))}_updateSessionFromEvent(t,e){let n=!1,i=!1;const o=e.exception&&e.exception.values;if(o){i=!0;for(const t of o){const e=t.mechanism;if(e&&!1===e.handled){n=!0;break}}}const r="ok"===t.status;(r&&0===t.errors||r&&n)&&((0,d.CT)(t,{...n&&{status:"crashed"},errors:t.errors||Number(i||n)}),this.captureSession(t))}_isClientDoneProcessing(t){return new a.cW((e=>{let n=0;const i=setInterval((()=>{0==this._numProcessing?(clearInterval(i),e(!0)):(n+=1,t&&n>=t&&(clearInterval(i),e(!1)))}),1)}))}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._dsn}_prepareEvent(t,e,n){const i=this.getOptions(),o=Object.keys(this._integrations);return!e.integrations&&o.length>0&&(e.integrations=o),(0,p.R)(i,t,e,n)}_captureEvent(t,e={},n){return this._processEvent(t,e,n).then((t=>t.event_id),(t=>{if("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__){const e=t;"log"===e.logLevel?o.kg.log(e.message):o.kg.warn(e)}}))}_processEvent(t,e,n){const i=this.getOptions(),{sampleRate:o}=i;if(!this._isEnabled())return(0,a.$2)(new c.b("SDK not enabled, will not capture event.","log"));const r=_(t),l=m(t),u=t.type||"error",h=`before send for type \`${u}\``;if(l&&"number"==typeof o&&Math.random()>o)return this.recordDroppedEvent("sample_rate","error",t),(0,a.$2)(new c.b(`Discarding event because it's not included in the random sample (sampling rate = ${o})`,"log"));const d="replay_event"===u?"replay":u;return this._prepareEvent(t,e,n).then((n=>{if(null===n)throw this.recordDroppedEvent("event_processor",d,t),new c.b("An event processor returned `null`, will not send event.","log");if(e.data&&!0===e.data.__sentry__)return n;const o=function(t,e,n){const{beforeSend:i,beforeSendTransaction:o}=t;if(m(e)&&i)return i(e,n);if(_(e)&&o)return o(e,n);return e}(i,n,e);return function(t,e){const n=`${e} must return \`null\` or a valid event.`;if((0,s.J8)(t))return t.then((t=>{if(!(0,s.PO)(t)&&null!==t)throw new c.b(n);return t}),(t=>{throw new c.b(`${e} rejected with ${t}`)}));if(!(0,s.PO)(t)&&null!==t)throw new c.b(n);return t}(o,h)})).then((i=>{if(null===i)throw this.recordDroppedEvent("before_send",d,t),new c.b(`${h} returned \`null\`, will not send event.`,"log");const o=n&&n.getSession();!r&&o&&this._updateSessionFromEvent(o,i);const s=i.transaction_info;if(r&&s&&i.transaction!==t.transaction){const t="custom";i.transaction_info={...s,source:t}}return this.sendEvent(i,e),i})).then(null,(t=>{if(t instanceof c.b)throw t;throw this.captureException(t,{data:{__sentry__:!0},originalException:t}),new c.b(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: ${t}`)}))}_process(t){this._numProcessing++,t.then((t=>(this._numProcessing--,t)),(t=>(this._numProcessing--,t)))}_sendEnvelope(t){if(this._transport&&this._dsn)return this.emit("beforeEnvelope",t),this._transport.send(t).then(null,(t=>{("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.error("Error while sending event:",t)}));("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.error("Transport disabled")}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.keys(t).map((e=>{const[n,i]=e.split(":");return{reason:n,category:i,quantity:t[e]}}))}}function m(t){return void 0===t.type}function _(t){return"transaction"===t.type}var y=n(105),v=n(8518),C=n(1170);function b(t,e,n){const i=[{type:"client_report"},{timestamp:n||(0,C.yW)(),discarded_events:t}];return(0,l.Jd)(e?{dsn:e}:{},[i])}var E=n(4773),S=n(6891),w=n(7729),O=n(911);class x extends g{constructor(t){const e=S.m9.SENTRY_SDK_SOURCE||(0,v.S)();t._metadata=t._metadata||{},t._metadata.sdk=t._metadata.sdk||{name:"sentry.javascript.browser",packages:[{name:`${e}:@sentry/browser`,version:y.J}],version:y.J},super(t),t.sendClientReports&&S.m9.document&&S.m9.document.addEventListener("visibilitychange",(()=>{"hidden"===S.m9.document.visibilityState&&this._flushOutcomes()}))}eventFromException(t,e){return(0,E.dr)(this._options.stackParser,t,e,this._options.attachStacktrace)}eventFromMessage(t,e="info",n){return(0,E.aB)(this._options.stackParser,t,e,n,this._options.attachStacktrace)}sendEvent(t,e){const n=this.getIntegrationById(w.p);n&&n.addSentryBreadcrumb&&n.addSentryBreadcrumb(t),super.sendEvent(t,e)}captureUserFeedback(t){if(!this._isEnabled())return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.warn("SDK not enabled, will not capture user feedback."));const e=(0,O.r)(t,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this._sendEnvelope(e)}_prepareEvent(t,e,n){return t.platform=t.platform||"javascript",super._prepareEvent(t,e,n)}_flushOutcomes(){const t=this._clearOutcomes();if(0===t.length)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.log("No outcomes to send"));if(!this._dsn)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.log("No dsn provided, will not send outcomes"));("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.log("Sending outcomes:",t);const e=b(t,this._options.tunnel&&(0,i.RA)(this._dsn));this._sendEnvelope(e)}}},4773:(t,e,n)=>{"use strict";n.d(e,{GJ:()=>c,ME:()=>m,aB:()=>g,dr:()=>f});var i=n(5659),o=n(7597),r=n(5301),s=n(8007),a=n(2844),l=n(6893);function c(t,e){const n=h(t,e),i={type:e&&e.name,value:p(e)};return n.length&&(i.stacktrace={frames:n}),void 0===i.type&&""===i.value&&(i.value="Unrecoverable error caught"),i}function u(t,e){return{exception:{values:[c(t,e)]}}}function h(t,e){const n=e.stacktrace||e.stack||"",i=function(t){if(t){if("number"==typeof t.framesToPop)return t.framesToPop;if(d.test(t.message))return 1}return 0}(e);try{return t(n,i)}catch(t){}return[]}const d=/Minified React error #\d+;/i;function p(t){const e=t&&t.message;return e?e.error&&"string"==typeof e.error.message?e.error.message:e:"No error message"}function f(t,e,n,i){const o=m(t,e,n&&n.syntheticException||void 0,i);return(0,a.EG)(o),o.level="error",n&&n.event_id&&(o.event_id=n.event_id),(0,l.WD)(o)}function g(t,e,n="info",i,o){const r=_(t,e,i&&i.syntheticException||void 0,o);return r.level=n,i&&i.event_id&&(r.event_id=i.event_id),(0,l.WD)(r)}function m(t,e,n,l,c){let d;if((0,o.VW)(e)&&e.error){return u(t,e.error)}if((0,o.TX)(e)||(0,o.fm)(e)){const i=e;if("stack"in e)d=u(t,e);else{const e=i.name||((0,o.TX)(i)?"DOMError":"DOMException"),r=i.message?`${e}: ${i.message}`:e;d=_(t,r,n,l),(0,a.Db)(d,r)}return"code"in i&&(d.tags={...d.tags,"DOMException.code":`${i.code}`}),d}if((0,o.VZ)(e))return u(t,e);if((0,o.PO)(e)||(0,o.cO)(e)){return d=function(t,e,n,a){const l=(0,i.Gd)().getClient(),c=l&&l.getOptions().normalizeDepth,u={exception:{values:[{type:(0,o.cO)(e)?e.constructor.name:a?"UnhandledRejection":"Error",value:`Non-Error ${a?"promise rejection":"exception"} captured with keys: ${(0,r.zf)(e)}`}]},extra:{__serialized__:(0,s.Qy)(e,c)}};if(n){const e=h(t,n);e.length&&(u.exception.values[0].stacktrace={frames:e})}return u}(t,e,n,c),(0,a.EG)(d,{synthetic:!0}),d}return d=_(t,e,n,l),(0,a.Db)(d,`${e}`,void 0),(0,a.EG)(d,{synthetic:!0}),d}function _(t,e,n,i){const o={message:e};if(i&&n){const i=h(t,n);i.length&&(o.exception={values:[{value:e,stacktrace:{frames:i}}]})}return o}},6891:(t,e,n)=>{"use strict";n.d(e,{Wz:()=>c,m9:()=>a,re:()=>u});var i=n(4487),o=n(1235),r=n(5301),s=n(2844);const a=o.n2;let l=0;function c(){return l>0}function u(t,e={},n){if("function"!=typeof t)return t;try{const e=t.__sentry_wrapped__;if(e)return e;if((0,r.HK)(t))return t}catch(e){return t}const o=function(){const o=Array.prototype.slice.call(arguments);try{n&&"function"==typeof n&&n.apply(this,arguments);const i=o.map((t=>u(t,e)));return t.apply(this,i)}catch(t){throw l++,setTimeout((()=>{l--})),(0,i.$e)((n=>{n.addEventProcessor((t=>(e.mechanism&&((0,s.Db)(t,void 0,void 0),(0,s.EG)(t,e.mechanism)),t.extra={...t.extra,arguments:o},t))),(0,i.Tb)(t)})),t}};try{for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&(o[e]=t[e])}catch(t){}(0,r.$Q)(o,t),(0,r.xp)(t,"__sentry_wrapped__",o);try{Object.getOwnPropertyDescriptor(o,"name").configurable&&Object.defineProperty(o,"name",{get:()=>t.name})}catch(t){}return o}},7729:(t,e,n)=>{"use strict";n.d(e,{p:()=>f,O:()=>g});var i=n(5659),o=n(2533),r=n(2844),s=n(2343),a=n(8464);const l=["fatal","error","warning","log","info","debug"];function c(t){return"warn"===t?"warning":l.includes(t)?t:"log"}var u=n(7321);function h(t){if(!t)return{};const e=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};const n=e[6]||"",i=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],search:n,hash:i,relative:e[5]+n+i}}var d=n(6891);const p=1024,f="Breadcrumbs";class g{static __initStatic(){this.id=f}__init(){this.name=g.id}constructor(t){g.prototype.__init.call(this),this.options={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...t}}setupOnce(){this.options.console&&(0,o.oq)("console",m),this.options.dom&&(0,o.oq)("dom",function(t){function e(e){let n,o="object"==typeof t?t.serializeAttribute:void 0,r="object"==typeof t&&"number"==typeof t.maxStringLength?t.maxStringLength:void 0;r&&r>p&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&s.kg.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${r} was configured. Sentry will use 1024 instead.`),r=p),"string"==typeof o&&(o=[o]);try{const t=e.event;n=function(t){return t&&!!t.target}(t)?(0,a.Rt)(t.target,{keyAttrs:o,maxStringLength:r}):(0,a.Rt)(t,{keyAttrs:o,maxStringLength:r})}catch(t){n="<unknown>"}0!==n.length&&(0,i.Gd)().addBreadcrumb({category:`ui.${e.name}`,message:n},{event:e.event,name:e.name,global:e.global})}return e}(this.options.dom)),this.options.xhr&&(0,o.oq)("xhr",_),this.options.fetch&&(0,o.oq)("fetch",y),this.options.history&&(0,o.oq)("history",v)}addSentryBreadcrumb(t){this.options.sentry&&(0,i.Gd)().addBreadcrumb({category:"sentry."+("transaction"===t.type?"transaction":"event"),event_id:t.event_id,level:t.level,message:(0,r.jH)(t)},{event:t})}}function m(t){for(let e=0;e<t.args.length;e++)if("ref=Ref<"===t.args[e]){t.args[e+1]="viewRef";break}const e={category:"console",data:{arguments:t.args,logger:"console"},level:c(t.level),message:(0,u.nK)(t.args," ")};if("assert"===t.level){if(!1!==t.args[0])return;e.message=`Assertion failed: ${(0,u.nK)(t.args.slice(1)," ")||"console.assert"}`,e.data.arguments=t.args.slice(1)}(0,i.Gd)().addBreadcrumb(e,{input:t.args,level:t.level})}function _(t){const{startTimestamp:e,endTimestamp:n}=t,r=t.xhr[o.xU];if(!e||!n||!r)return;const{method:s,url:a,status_code:l,body:c}=r,u={method:s,url:a,status_code:l},h={xhr:t.xhr,input:c,startTimestamp:e,endTimestamp:n};(0,i.Gd)().addBreadcrumb({category:"xhr",data:u,type:"http"},h)}function y(t){const{startTimestamp:e,endTimestamp:n}=t;if(n&&(!t.fetchData.url.match(/sentry_key/)||"POST"!==t.fetchData.method))if(t.error){const o=t.fetchData,r={data:t.error,input:t.args,startTimestamp:e,endTimestamp:n};(0,i.Gd)().addBreadcrumb({category:"fetch",data:o,level:"error",type:"http"},r)}else{const o={...t.fetchData,status_code:t.response&&t.response.status},r={input:t.args,response:t.response,startTimestamp:e,endTimestamp:n};(0,i.Gd)().addBreadcrumb({category:"fetch",data:o,type:"http"},r)}}function v(t){let e=t.from,n=t.to;const o=h(d.m9.location.href);let r=h(e);const s=h(n);r.path||(r=o),o.protocol===s.protocol&&o.host===s.host&&(n=s.relative),o.protocol===r.protocol&&o.host===r.host&&(e=r.relative),(0,i.Gd)().addBreadcrumb({category:"navigation",data:{from:e,to:n}})}g.__initStatic()},9730:(t,e,n)=>{"use strict";n.d(e,{I:()=>o});var i=n(2343);class o{constructor(){o.prototype.__init.call(this)}static __initStatic(){this.id="Dedupe"}__init(){this.name=o.id}setupOnce(t,e){const n=t=>{if(t.type)return t;const n=e().getIntegration(o);if(n){try{if(function(t,e){if(!e)return!1;if(function(t,e){const n=t.message,i=e.message;if(!n&&!i)return!1;if(n&&!i||!n&&i)return!1;if(n!==i)return!1;if(!s(t,e))return!1;if(!r(t,e))return!1;return!0}(t,e))return!0;if(function(t,e){const n=a(e),i=a(t);if(!n||!i)return!1;if(n.type!==i.type||n.value!==i.value)return!1;if(!s(t,e))return!1;if(!r(t,e))return!1;return!0}(t,e))return!0;return!1}(t,n._previousEvent))return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.kg.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(e){return n._previousEvent=t}return n._previousEvent=t}return t};n.id=this.name,t(n)}}function r(t,e){let n=l(t),i=l(e);if(!n&&!i)return!0;if(n&&!i||!n&&i)return!1;if(i.length!==n.length)return!1;for(let t=0;t<i.length;t++){const e=i[t],o=n[t];if(e.filename!==o.filename||e.lineno!==o.lineno||e.colno!==o.colno||e.function!==o.function)return!1}return!0}function s(t,e){let n=t.fingerprint,i=e.fingerprint;if(!n&&!i)return!0;if(n&&!i||!n&&i)return!1;try{return!(n.join("")!==i.join(""))}catch(t){return!1}}function a(t){return t.exception&&t.exception.values&&t.exception.values[0]}function l(t){const e=t.exception;if(e)try{return e.values[0].stacktrace.frames}catch(t){return}}o.__initStatic()},2136:(t,e,n)=>{"use strict";n.d(e,{d:()=>h});var i=n(5659),o=n(2533),r=n(7597),s=n(8464),a=n(2343),l=n(2844),c=n(4773),u=n(6891);class h{static __initStatic(){this.id="GlobalHandlers"}__init(){this.name=h.id}__init2(){this._installFunc={onerror:d,onunhandledrejection:p}}constructor(t){h.prototype.__init.call(this),h.prototype.__init2.call(this),this._options={onerror:!0,onunhandledrejection:!0,...t}}setupOnce(){Error.stackTraceLimit=50;const t=this._options;for(const n in t){const i=this._installFunc[n];i&&t[n]&&(e=n,("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&a.kg.log(`Global Handler attached: ${e}`),i(),this._installFunc[n]=void 0)}var e}}function d(){(0,o.oq)("error",(t=>{const[e,n,i]=m();if(!e.getIntegration(h))return;const{msg:o,url:s,line:a,column:l,error:d}=t;if((0,u.Wz)()||d&&d.__sentry_own_request__)return;const p=void 0===d&&(0,r.HD)(o)?function(t,e,n,i){const o=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;let s=(0,r.VW)(t)?t.message:t,a="Error";const l=s.match(o);l&&(a=l[1],s=l[2]);const c={exception:{values:[{type:a,value:s}]}};return f(c,e,n,i)}(o,s,a,l):f((0,c.ME)(n,d||o,void 0,i,!1),s,a,l);p.level="error",g(e,d,p,"onerror")}))}function p(){(0,o.oq)("unhandledrejection",(t=>{const[e,n,i]=m();if(!e.getIntegration(h))return;let o=t;try{"reason"in t?o=t.reason:"detail"in t&&"reason"in t.detail&&(o=t.detail.reason)}catch(t){}if((0,u.Wz)()||o&&o.__sentry_own_request__)return!0;const s=(0,r.pt)(o)?{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(o)}`}]}}:(0,c.ME)(n,o,void 0,i,!0);s.level="error",g(e,o,s,"onunhandledrejection")}))}function f(t,e,n,i){const o=t.exception=t.exception||{},a=o.values=o.values||[],l=a[0]=a[0]||{},c=l.stacktrace=l.stacktrace||{},u=c.frames=c.frames||[],h=isNaN(parseInt(i,10))?void 0:i,d=isNaN(parseInt(n,10))?void 0:n,p=(0,r.HD)(e)&&e.length>0?e:(0,s.l4)();return 0===u.length&&u.push({colno:h,filename:p,function:"?",in_app:!0,lineno:d}),t}function g(t,e,n,i){(0,l.EG)(n,{handled:!1,type:i}),t.captureEvent(n,{originalException:e})}function m(){const t=(0,i.Gd)(),e=t.getClient(),n=e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1};return[t,n.stackParser,n.attachStacktrace]}h.__initStatic()},1945:(t,e,n)=>{"use strict";n.d(e,{q:()=>s});var i=n(350),o=n(5659),r=n(6891);class s{constructor(){s.prototype.__init.call(this)}static __initStatic(){this.id="HttpContext"}__init(){this.name=s.id}setupOnce(){(0,i.c)((t=>{if((0,o.Gd)().getIntegration(s)){if(!r.m9.navigator&&!r.m9.location&&!r.m9.document)return t;const e=t.request&&t.request.url||r.m9.location&&r.m9.location.href,{referrer:n}=r.m9.document||{},{userAgent:i}=r.m9.navigator||{},o={...t.request&&t.request.headers,...n&&{Referer:n},...i&&{"User-Agent":i}},s={...t.request,...e&&{url:e},headers:o};return{...t,request:s}}return t}))}}s.__initStatic()},1634:(t,e,n)=>{"use strict";n.d(e,{iP:()=>a});var i=n(5659),o=n(350),r=n(7597),s=n(4773);class a{static __initStatic(){this.id="LinkedErrors"}__init(){this.name=a.id}constructor(t={}){a.prototype.__init.call(this),this._key=t.key||"cause",this._limit=t.limit||5}setupOnce(){const t=(0,i.Gd)().getClient();t&&(0,o.c)(((e,n)=>{const o=(0,i.Gd)().getIntegration(a);return o?function(t,e,n,i,o){if(!(i.exception&&i.exception.values&&o&&(0,r.V9)(o.originalException,Error)))return i;const s=l(t,n,o.originalException,e);return i.exception.values=[...s,...i.exception.values],i}(t.getOptions().stackParser,o._key,o._limit,e,n):e}))}}function l(t,e,n,i,o=[]){if(!(0,r.V9)(n[i],Error)||o.length+1>=e)return o;const a=(0,s.GJ)(t,n[i]);return l(t,e,n[i],i,[a,...o])}a.__initStatic()},3692:(t,e,n)=>{"use strict";n.d(e,{p:()=>a});var i=n(5301),o=n(360),r=n(6891);const s=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"];class a{static __initStatic(){this.id="TryCatch"}__init(){this.name=a.id}constructor(t){a.prototype.__init.call(this),this._options={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...t}}setupOnce(){this._options.setTimeout&&(0,i.hl)(r.m9,"setTimeout",l),this._options.setInterval&&(0,i.hl)(r.m9,"setInterval",l),this._options.requestAnimationFrame&&(0,i.hl)(r.m9,"requestAnimationFrame",c),this._options.XMLHttpRequest&&"XMLHttpRequest"in r.m9&&(0,i.hl)(XMLHttpRequest.prototype,"send",u);const t=this._options.eventTarget;if(t){(Array.isArray(t)?t:s).forEach(h)}}}function l(t){return function(...e){const n=e[0];return e[0]=(0,r.re)(n,{mechanism:{data:{function:(0,o.$P)(t)},handled:!0,type:"instrument"}}),t.apply(this,e)}}function c(t){return function(e){return t.apply(this,[(0,r.re)(e,{mechanism:{data:{function:"requestAnimationFrame",handler:(0,o.$P)(t)},handled:!0,type:"instrument"}})])}}function u(t){return function(...e){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach((t=>{t in n&&"function"==typeof n[t]&&(0,i.hl)(n,t,(function(e){const n={mechanism:{data:{function:t,handler:(0,o.$P)(e)},handled:!0,type:"instrument"}},s=(0,i.HK)(e);return s&&(n.mechanism.data.handler=(0,o.$P)(s)),(0,r.re)(e,n)}))})),t.apply(this,e)}}function h(t){const e=r.m9,n=e[t]&&e[t].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&((0,i.hl)(n,"addEventListener",(function(e){return function(n,i,s){try{"function"==typeof i.handleEvent&&(i.handleEvent=(0,r.re)(i.handleEvent,{mechanism:{data:{function:"handleEvent",handler:(0,o.$P)(i),target:t},handled:!0,type:"instrument"}}))}catch(t){}return e.apply(this,[n,(0,r.re)(i,{mechanism:{data:{function:"addEventListener",handler:(0,o.$P)(i),target:t},handled:!0,type:"instrument"}}),s])}})),(0,i.hl)(n,"removeEventListener",(function(t){return function(e,n,i){const o=n;try{const n=o&&o.__sentry_wrapped__;n&&t.call(this,e,n,i)}catch(t){}return t.call(this,e,o,i)}})))}a.__initStatic()},8620:(t,e,n)=>{"use strict";n.d(e,{Jd:()=>I,xv:()=>R,SS:()=>w,yl:()=>D,Eg:()=>T,S1:()=>O,eW:()=>P,lA:()=>M,jp:()=>x,re:()=>A});var i=n(2422),o=n(9116),r=n(2967),s=n(2343),a=n(5659);var l=n(1984),c=n(360),u=n(8823),h=n(6893),d=n(2533),p=n(2248),f=n(6891),g=n(2136),m=n(3692),_=n(7729),y=n(1634),v=n(1945),C=n(9730),b=n(4469),E=n(8838),S=n(8131);const w=[new i.QD,new o.c,new m.p,new _.O,new g.d,new y.iP,new C.I,new v.q];function O(t={}){void 0===t.defaultIntegrations&&(t.defaultIntegrations=w),void 0===t.release&&("string"==typeof __SENTRY_RELEASE__&&(t.release=__SENTRY_RELEASE__),f.m9.SENTRY_RELEASE&&f.m9.SENTRY_RELEASE.id&&(t.release=f.m9.SENTRY_RELEASE.id)),void 0===t.autoSessionTracking&&(t.autoSessionTracking=!0),void 0===t.sendClientReports&&(t.sendClientReports=!0);const e={...t,stackParser:(0,c.Sq)(t.stackParser||b.Dt),integrations:(0,r.m8)(t),transport:t.transport||((0,u.Ak)()?E.f:S.K)};!function(t,e){!0===e.debug&&("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__?s.kg.enable():console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle."));const n=(0,a.Gd)();n.getScope().update(e.initialScope);const i=new t(e);n.bindClient(i)}(p.R,e),t.autoSessionTracking&&function(){if(void 0===f.m9.document)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&s.kg.warn("Session tracking in non-browser environment with @sentry/browser is not supported."));const t=(0,a.Gd)();if(!t.captureSession)return;L(t),(0,d.oq)("history",(({from:t,to:e})=>{void 0!==t&&t!==e&&L((0,a.Gd)())}))}()}function x(t={},e=(0,a.Gd)()){if(!f.m9.document)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&s.kg.error("Global document not defined in showReportDialog call"));const{client:n,scope:i}=e.getStackTop(),o=t.dsn||n&&n.getDsn();if(!o)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&s.kg.error("DSN not configured for showReportDialog call"));i&&(t.user={...i.getUser(),...t.user}),t.eventId||(t.eventId=e.lastEventId());const r=f.m9.document.createElement("script");r.async=!0,r.src=(0,l.h)(o,t),t.onLoad&&(r.onload=t.onLoad);const c=f.m9.document.head||f.m9.document.body;c?c.appendChild(r):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&s.kg.error("Not injecting report dialog. No injection point found in HTML")}function P(){return(0,a.Gd)().lastEventId()}function T(){}function M(t){t()}function D(t){const e=(0,a.Gd)().getClient();return e?e.flush(t):(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&s.kg.warn("Cannot flush events. No client defined."),(0,h.WD)(!1))}function R(t){const e=(0,a.Gd)().getClient();return e?e.close(t):(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&s.kg.warn("Cannot flush events and disable SDK. No client defined."),(0,h.WD)(!1))}function A(t){return(0,f.re)(t)()}function L(t){t.startSession({ignoreDuration:!0}),t.captureSession()}function I(t){const e=(0,a.Gd)().getClient();e&&e.captureUserFeedback(t)}},4469:(t,e,n)=>{"use strict";n.d(e,{$3:()=>l,$Q:()=>h,Dt:()=>v,HH:()=>_,NP:()=>g,R2:()=>p,d8:()=>y});var i=n(360);const o="?";function r(t,e,n,i){const o={filename:t,function:e,in_app:!0};return void 0!==n&&(o.lineno=n),void 0!==i&&(o.colno=i),o}const s=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,a=/\((\S*)(?::(\d+))(?::(\d+))\)/,l=[30,t=>{const e=s.exec(t);if(e){if(e[2]&&0===e[2].indexOf("eval")){const t=a.exec(e[2]);t&&(e[2]=t[1],e[3]=t[2],e[4]=t[3])}const[t,n]=C(e[1]||o,e[2]);return r(n,t,e[3]?+e[3]:void 0,e[4]?+e[4]:void 0)}}],c=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,u=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,h=[50,t=>{const e=c.exec(t);if(e){if(e[3]&&e[3].indexOf(" > eval")>-1){const t=u.exec(e[3]);t&&(e[1]=e[1]||"eval",e[3]=t[1],e[4]=t[2],e[5]="")}let t=e[3],n=e[1]||o;return[n,t]=C(n,t),r(t,n,e[4]?+e[4]:void 0,e[5]?+e[5]:void 0)}}],d=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,p=[40,t=>{const e=d.exec(t);return e?r(e[2],e[1]||o,+e[3],e[4]?+e[4]:void 0):void 0}],f=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,g=[10,t=>{const e=f.exec(t);return e?r(e[2],e[3]||o,+e[1]):void 0}],m=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\(.*\))? in (.*):\s*$/i,_=[20,t=>{const e=m.exec(t);return e?r(e[5],e[3]||e[4]||o,+e[1],+e[2]):void 0}],y=[l,h,p],v=(0,i.pE)(...y),C=(t,e)=>{const n=-1!==t.indexOf("safari-extension"),i=-1!==t.indexOf("safari-web-extension");return n||i?[-1!==t.indexOf("@")?t.split("@")[0]:o,n?`safari-extension:${e}`:`safari-web-extension:${e}`]:[t,e]}},8838:(t,e,n)=>{"use strict";n.d(e,{f:()=>c});var i=n(9604),o=n(6893),r=n(8823),s=n(2343),a=n(6891);let l;function c(t,e=function(){if(l)return l;if((0,r.Du)(a.m9.fetch))return l=a.m9.fetch.bind(a.m9);const t=a.m9.document;let e=a.m9.fetch;if(t&&"function"==typeof t.createElement)try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n);const i=n.contentWindow;i&&i.fetch&&(e=i.fetch),t.head.removeChild(n)}catch(t){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&s.kg.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",t)}return l=e.bind(a.m9)}()){let n=0,c=0;return(0,i.q)(t,(function(i){const r=i.body.length;n+=r,c++;const s={body:i.body,method:"POST",referrerPolicy:"origin",headers:t.headers,keepalive:n<=6e4&&c<15,...t.fetchOptions};try{return e(t.url,s).then((t=>(n-=r,c--,{statusCode:t.status,headers:{"x-sentry-rate-limits":t.headers.get("X-Sentry-Rate-Limits"),"retry-after":t.headers.get("Retry-After")}})))}catch(t){return l=void 0,n-=r,c--,(0,o.$2)(t)}}))}},8131:(t,e,n)=>{"use strict";n.d(e,{K:()=>s});var i=n(9604),o=n(6893);const r=4;function s(t){return(0,i.q)(t,(function(e){return new o.cW(((n,i)=>{const o=new XMLHttpRequest;o.onerror=i,o.onreadystatechange=()=>{o.readyState===r&&n({statusCode:o.status,headers:{"x-sentry-rate-limits":o.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":o.getResponseHeader("Retry-After")}})},o.open("POST",t.url);for(const e in t.headers)Object.prototype.hasOwnProperty.call(t.headers,e)&&o.setRequestHeader(e,t.headers[e]);o.send(e.body)}))}))}},911:(t,e,n)=>{"use strict";n.d(e,{r:()=>r});var i=n(292),o=n(8725);function r(t,{metadata:e,tunnel:n,dsn:r}){const s={event_id:t.event_id,sent_at:(new Date).toISOString(),...e&&e.sdk&&{sdk:{name:e.sdk.name,version:e.sdk.version}},...!!n&&!!r&&{dsn:(0,i.RA)(r)}},a=function(t){return[{type:"user_report"},t]}(t);return(0,o.Jd)(s,[a])}},1984:(t,e,n)=>{"use strict";n.d(e,{U:()=>a,h:()=>l});var i=n(5301),o=n(292);const r="7";function s(t){const e=t.protocol?`${t.protocol}:`:"",n=t.port?`:${t.port}`:"";return`${e}//${t.host}${n}${t.path?`/${t.path}`:""}/api/`}function a(t,e={}){const n="string"==typeof e?e:e.tunnel,o="string"!=typeof e&&e._metadata?e._metadata.sdk:void 0;return n||`${function(t){return`${s(t)}${t.projectId}/envelope/`}(t)}?${function(t,e){return(0,i._j)({sentry_key:t.publicKey,sentry_version:r,...e&&{sentry_client:`${e.name}/${e.version}`}})}(t,o)}`}function l(t,e){const n=(0,o.vK)(t),i=`${s(n)}embed/error-page/`;let r=`dsn=${(0,o.RA)(n)}`;for(const t in e)if("dsn"!==t)if("user"===t){const t=e.user;if(!t)continue;t.name&&(r+=`&name=${encodeURIComponent(t.name)}`),t.email&&(r+=`&email=${encodeURIComponent(t.email)}`)}else r+=`&${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`;return`${i}?${r}`}},1131:(t,e,n)=>{"use strict";n.d(e,{J:()=>i});const i="production"},4487:(t,e,n)=>{"use strict";n.d(e,{$e:()=>g,Tb:()=>o,YA:()=>p,Yr:()=>m,av:()=>f,e:()=>a,eN:()=>s,mG:()=>d,n_:()=>l,rJ:()=>u,sU:()=>h,uT:()=>r,v:()=>c});var i=n(5659);function o(t,e){return(0,i.Gd)().captureException(t,{captureContext:e})}function r(t,e){const n="string"==typeof e?e:void 0,o="string"!=typeof e?{captureContext:e}:void 0;return(0,i.Gd)().captureMessage(t,n,o)}function s(t,e){return(0,i.Gd)().captureEvent(t,e)}function a(t){(0,i.Gd)().configureScope(t)}function l(t){(0,i.Gd)().addBreadcrumb(t)}function c(t,e){(0,i.Gd)().setContext(t,e)}function u(t){(0,i.Gd)().setExtras(t)}function h(t,e){(0,i.Gd)().setExtra(t,e)}function d(t){(0,i.Gd)().setTags(t)}function p(t,e){(0,i.Gd)().setTag(t,e)}function f(t){(0,i.Gd)().setUser(t)}function g(t){(0,i.Gd)().withScope(t)}function m(t,e){return(0,i.Gd)().startTransaction({...t},e)}},5659:(t,e,n)=>{"use strict";n.d(e,{Gd:()=>g,Xb:()=>d,cu:()=>p,pj:()=>f,vi:()=>y});var i=n(2844),o=n(1170),r=n(2343),s=n(1235),a=n(1131),l=n(350),c=n(9015);const u=4,h=100;class d{constructor(t,e=new l.s,n=u){this._version=n,this._stack=[{scope:e}],t&&this.bindClient(t)}isOlderThan(t){return this._version<t}bindClient(t){this.getStackTop().client=t,t&&t.setupIntegrations&&t.setupIntegrations()}pushScope(){const t=l.s.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:t}),t}popScope(){return!(this.getStack().length<=1)&&!!this.getStack().pop()}withScope(t){const e=this.pushScope();try{t(e)}finally{this.popScope()}}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(t,e){const n=this._lastEventId=e&&e.event_id?e.event_id:(0,i.DM)(),o=new Error("Sentry syntheticException");return this._withClient(((i,r)=>{i.captureException(t,{originalException:t,syntheticException:o,...e,event_id:n},r)})),n}captureMessage(t,e,n){const o=this._lastEventId=n&&n.event_id?n.event_id:(0,i.DM)(),r=new Error(t);return this._withClient(((i,s)=>{i.captureMessage(t,e,{originalException:t,syntheticException:r,...n,event_id:o},s)})),o}captureEvent(t,e){const n=e&&e.event_id?e.event_id:(0,i.DM)();return t.type||(this._lastEventId=n),this._withClient(((i,o)=>{i.captureEvent(t,{...e,event_id:n},o)})),n}lastEventId(){return this._lastEventId}addBreadcrumb(t,e){const{scope:n,client:i}=this.getStackTop();if(!i)return;const{beforeBreadcrumb:s=null,maxBreadcrumbs:a=h}=i.getOptions&&i.getOptions()||{};if(a<=0)return;const l={timestamp:(0,o.yW)(),...t},c=s?(0,r.Cf)((()=>s(l,e))):l;null!==c&&(i.emit&&i.emit("beforeAddBreadcrumb",c,e),n.addBreadcrumb(c,a))}setUser(t){this.getScope().setUser(t)}setTags(t){this.getScope().setTags(t)}setExtras(t){this.getScope().setExtras(t)}setTag(t,e){this.getScope().setTag(t,e)}setExtra(t,e){this.getScope().setExtra(t,e)}setContext(t,e){this.getScope().setContext(t,e)}configureScope(t){const{scope:e,client:n}=this.getStackTop();n&&t(e)}run(t){const e=f(this);try{t(this)}finally{f(e)}}getIntegration(t){const e=this.getClient();if(!e)return null;try{return e.getIntegration(t)}catch(e){return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.warn(`Cannot retrieve integration ${t.id} from the current Hub`),null}}startTransaction(t,e){const n=this._callExtensionMethod("startTransaction",t,e);return"undefined"!=typeof __SENTRY_DEBUG__&&!__SENTRY_DEBUG__||n||console.warn("Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':\nSentry.addTracingExtensions();\nSentry.init({...});\n"),n}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(t=!1){if(t)return this.endSession();this._sendSessionUpdate()}endSession(){const t=this.getStackTop().scope,e=t.getSession();e&&(0,c.RJ)(e),this._sendSessionUpdate(),t.setSession()}startSession(t){const{scope:e,client:n}=this.getStackTop(),{release:i,environment:o=a.J}=n&&n.getOptions()||{},{userAgent:r}=s.n2.navigator||{},l=(0,c.Hv)({release:i,environment:o,user:e.getUser(),...r&&{userAgent:r},...t}),u=e.getSession&&e.getSession();return u&&"ok"===u.status&&(0,c.CT)(u,{status:"exited"}),this.endSession(),e.setSession(l),l}shouldSendDefaultPii(){const t=this.getClient(),e=t&&t.getOptions();return Boolean(e&&e.sendDefaultPii)}_sendSessionUpdate(){const{scope:t,client:e}=this.getStackTop(),n=t.getSession();n&&e&&e.captureSession&&e.captureSession(n)}_withClient(t){const{scope:e,client:n}=this.getStackTop();n&&t(n,e)}_callExtensionMethod(t,...e){const n=p().__SENTRY__;if(n&&n.extensions&&"function"==typeof n.extensions[t])return n.extensions[t].apply(this,e);("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.warn(`Extension method ${t} couldn't be found, doing nothing.`)}}function p(){return s.n2.__SENTRY__=s.n2.__SENTRY__||{extensions:{},hub:void 0},s.n2}function f(t){const e=p(),n=y(e);return v(e,t),n}function g(){const t=p();if(t.__SENTRY__&&t.__SENTRY__.acs){const e=t.__SENTRY__.acs.getCurrentHub();if(e)return e}return m(t)}function m(t=p()){return _(t)&&!y(t).isOlderThan(u)||v(t,new d),y(t)}function _(t){return!!(t&&t.__SENTRY__&&t.__SENTRY__.hub)}function y(t){return(0,s.YO)("hub",(()=>new d),t)}function v(t,e){if(!t)return!1;return(t.__SENTRY__=t.__SENTRY__||{}).hub=e,!0}},2967:(t,e,n)=>{"use strict";n.d(e,{m7:()=>u,m8:()=>l,q4:()=>c});var i=n(2844),o=n(2343),r=n(5659),s=n(350);const a=[];function l(t){const e=t.defaultIntegrations||[],n=t.integrations;let o;e.forEach((t=>{t.isDefaultInstance=!0})),o=Array.isArray(n)?[...e,...n]:"function"==typeof n?(0,i.lE)(n(e)):e;const r=function(t){const e={};return t.forEach((t=>{const{name:n}=t,i=e[n];i&&!i.isDefaultInstance&&t.isDefaultInstance||(e[n]=t)})),Object.keys(e).map((t=>e[t]))}(o),s=function(t,e){for(let n=0;n<t.length;n++)if(!0===e(t[n]))return n;return-1}(r,(t=>"Debug"===t.name));if(-1!==s){const[t]=r.splice(s,1);r.push(t)}return r}function c(t){const e={};return t.forEach((t=>{t&&u(t,e)})),e}function u(t,e){e[t.name]=t,-1===a.indexOf(t.name)&&(t.setupOnce(s.c,r.Gd),a.push(t.name),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.log(`Integration installed: ${t.name}`))}},9116:(t,e,n)=>{"use strict";n.d(e,{c:()=>r});var i=n(5301);let o;class r{constructor(){r.prototype.__init.call(this)}static __initStatic(){this.id="FunctionToString"}__init(){this.name=r.id}setupOnce(){o=Function.prototype.toString;try{Function.prototype.toString=function(...t){const e=(0,i.HK)(this)||this;return o.apply(e,t)}}catch(t){}}}r.__initStatic()},2422:(t,e,n)=>{"use strict";n.d(e,{QD:()=>a});var i=n(2343),o=n(2844),r=n(7321);const s=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/];class a{static __initStatic(){this.id="InboundFilters"}__init(){this.name=a.id}constructor(t={}){this._options=t,a.prototype.__init.call(this)}setupOnce(t,e){const n=t=>{const n=e();if(n){const e=n.getIntegration(a);if(e){const a=n.getClient(),c=a?a.getOptions():{},u=function(t={},e={}){return{allowUrls:[...t.allowUrls||[],...e.allowUrls||[]],denyUrls:[...t.denyUrls||[],...e.denyUrls||[]],ignoreErrors:[...t.ignoreErrors||[],...e.ignoreErrors||[],...s],ignoreTransactions:[...t.ignoreTransactions||[],...e.ignoreTransactions||[]],ignoreInternal:void 0===t.ignoreInternal||t.ignoreInternal}}(e._options,c);return function(t,e){if(e.ignoreInternal&&function(t){try{return"SentryError"===t.exception.values[0].type}catch(t){}return!1}(t))return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.kg.warn(`Event dropped due to being internal Sentry Error.\nEvent: ${(0,o.jH)(t)}`),!0;if(function(t,e){if(t.type||!e||!e.length)return!1;return function(t){if(t.message)return[t.message];if(t.exception)try{const{type:e="",value:n=""}=t.exception.values&&t.exception.values[0]||{};return[`${n}`,`${e}: ${n}`]}catch(e){return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.kg.error(`Cannot extract message for event ${(0,o.jH)(t)}`),[]}return[]}(t).some((t=>(0,r.U0)(t,e)))}(t,e.ignoreErrors))return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.kg.warn(`Event dropped due to being matched by \`ignoreErrors\` option.\nEvent: ${(0,o.jH)(t)}`),!0;if(function(t,e){if("transaction"!==t.type||!e||!e.length)return!1;const n=t.transaction;return!!n&&(0,r.U0)(n,e)}(t,e.ignoreTransactions))return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.kg.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.\nEvent: ${(0,o.jH)(t)}`),!0;if(function(t,e){if(!e||!e.length)return!1;const n=l(t);return!!n&&(0,r.U0)(n,e)}(t,e.denyUrls))return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.kg.warn(`Event dropped due to being matched by \`denyUrls\` option.\nEvent: ${(0,o.jH)(t)}.\nUrl: ${l(t)}`),!0;if(!function(t,e){if(!e||!e.length)return!0;const n=l(t);return!n||(0,r.U0)(n,e)}(t,e.allowUrls))return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.kg.warn(`Event dropped due to not being matched by \`allowUrls\` option.\nEvent: ${(0,o.jH)(t)}.\nUrl: ${l(t)}`),!0;return!1}(t,u)?null:t}}return t};n.id=this.name,t(n)}}function l(t){try{let e;try{e=t.exception.values[0].stacktrace.frames}catch(t){}return e?function(t=[]){for(let e=t.length-1;e>=0;e--){const n=t[e];if(n&&"<anonymous>"!==n.filename&&"[native code]"!==n.filename)return n.filename||null}return null}(e):null}catch(e){return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.kg.error(`Cannot extract url for event ${(0,o.jH)(t)}`),null}}a.__initStatic()},350:(t,e,n)=>{"use strict";n.d(e,{c:()=>d,s:()=>u});var i=n(7597),o=n(1170),r=n(6893),s=n(2343),a=n(2844),l=n(1235),c=n(9015);class u{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={}}static clone(t){const e=new u;return t&&(e._breadcrumbs=[...t._breadcrumbs],e._tags={...t._tags},e._extra={...t._extra},e._contexts={...t._contexts},e._user=t._user,e._level=t._level,e._span=t._span,e._session=t._session,e._transactionName=t._transactionName,e._fingerprint=t._fingerprint,e._eventProcessors=[...t._eventProcessors],e._requestSession=t._requestSession,e._attachments=[...t._attachments],e._sdkProcessingMetadata={...t._sdkProcessingMetadata}),e}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{},this._session&&(0,c.CT)(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,e){return this._tags={...this._tags,[t]:e},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,e){return this._extra={...this._extra,[t]:e},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,e){return null===e?delete this._contexts[t]:this._contexts[t]=e,this._notifyScopeListeners(),this}setSpan(t){return this._span=t,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const t=this.getSpan();return t&&t.transaction}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;if("function"==typeof t){const e=t(this);return e instanceof u?e:this}return t instanceof u?(this._tags={...this._tags,...t._tags},this._extra={...this._extra,...t._extra},this._contexts={...this._contexts,...t._contexts},t._user&&Object.keys(t._user).length&&(this._user=t._user),t._level&&(this._level=t._level),t._fingerprint&&(this._fingerprint=t._fingerprint),t._requestSession&&(this._requestSession=t._requestSession)):(0,i.PO)(t)&&(this._tags={...this._tags,...t.tags},this._extra={...this._extra,...t.extra},this._contexts={...this._contexts,...t.contexts},t.user&&(this._user=t.user),t.level&&(this._level=t.level),t.fingerprint&&(this._fingerprint=t.fingerprint),t.requestSession&&(this._requestSession=t.requestSession)),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this}addBreadcrumb(t,e){const n="number"==typeof e?e:100;if(n<=0)return this;const i={timestamp:(0,o.yW)(),...t};return this._breadcrumbs=[...this._breadcrumbs,i].slice(-n),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}getAttachments(){return this._attachments}clearAttachments(){return this._attachments=[],this}applyToEvent(t,e={}){if(this._extra&&Object.keys(this._extra).length&&(t.extra={...this._extra,...t.extra}),this._tags&&Object.keys(this._tags).length&&(t.tags={...this._tags,...t.tags}),this._user&&Object.keys(this._user).length&&(t.user={...this._user,...t.user}),this._contexts&&Object.keys(this._contexts).length&&(t.contexts={...this._contexts,...t.contexts}),this._level&&(t.level=this._level),this._transactionName&&(t.transaction=this._transactionName),this._span){t.contexts={trace:this._span.getTraceContext(),...t.contexts};const e=this._span.transaction;if(e){t.sdkProcessingMetadata={dynamicSamplingContext:e.getDynamicSamplingContext(),...t.sdkProcessingMetadata};const n=e.name;n&&(t.tags={transaction:n,...t.tags})}}return this._applyFingerprint(t),t.breadcrumbs=[...t.breadcrumbs||[],...this._breadcrumbs],t.breadcrumbs=t.breadcrumbs.length>0?t.breadcrumbs:void 0,t.sdkProcessingMetadata={...t.sdkProcessingMetadata,...this._sdkProcessingMetadata},this._notifyEventProcessors([...h(),...this._eventProcessors],t,e)}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...t},this}_notifyEventProcessors(t,e,n,o=0){return new r.cW(((r,a)=>{const l=t[o];if(null===e||"function"!=typeof l)r(e);else{const c=l({...e},n);("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&l.id&&null===c&&s.kg.log(`Event processor "${l.id}" dropped event`),(0,i.J8)(c)?c.then((e=>this._notifyEventProcessors(t,e,n,o+1).then(r))).then(null,a):this._notifyEventProcessors(t,c,n,o+1).then(r).then(null,a)}}))}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((t=>{t(this)})),this._notifyingListeners=!1)}_applyFingerprint(t){t.fingerprint=t.fingerprint?(0,a.lE)(t.fingerprint):[],this._fingerprint&&(t.fingerprint=t.fingerprint.concat(this._fingerprint)),t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint}}function h(){return(0,l.YO)("globalEventProcessors",(()=>[]))}function d(t){h().push(t)}},9015:(t,e,n)=>{"use strict";n.d(e,{CT:()=>a,Hv:()=>s,RJ:()=>l});var i=n(1170),o=n(2844),r=n(5301);function s(t){const e=(0,i.ph)(),n={sid:(0,o.DM)(),init:!0,timestamp:e,started:e,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function(t){return(0,r.Jr)({sid:`${t.sid}`,init:t.init,started:new Date(1e3*t.started).toISOString(),timestamp:new Date(1e3*t.timestamp).toISOString(),status:t.status,errors:t.errors,did:"number"==typeof t.did||"string"==typeof t.did?`${t.did}`:void 0,duration:t.duration,attrs:{release:t.release,environment:t.environment,ip_address:t.ipAddress,user_agent:t.userAgent}})}(n)};return t&&a(n,t),n}function a(t,e={}){if(e.user&&(!t.ipAddress&&e.user.ip_address&&(t.ipAddress=e.user.ip_address),t.did||e.did||(t.did=e.user.id||e.user.email||e.user.username)),t.timestamp=e.timestamp||(0,i.ph)(),e.ignoreDuration&&(t.ignoreDuration=e.ignoreDuration),e.sid&&(t.sid=32===e.sid.length?e.sid:(0,o.DM)()),void 0!==e.init&&(t.init=e.init),!t.did&&e.did&&(t.did=`${e.did}`),"number"==typeof e.started&&(t.started=e.started),t.ignoreDuration)t.duration=void 0;else if("number"==typeof e.duration)t.duration=e.duration;else{const e=t.timestamp-t.started;t.duration=e>=0?e:0}e.release&&(t.release=e.release),e.environment&&(t.environment=e.environment),!t.ipAddress&&e.ipAddress&&(t.ipAddress=e.ipAddress),!t.userAgent&&e.userAgent&&(t.userAgent=e.userAgent),"number"==typeof e.errors&&(t.errors=e.errors),e.status&&(t.status=e.status)}function l(t,e){let n={};e?n={status:e}:"ok"===t.status&&(n={status:"exited"}),a(t,n)}},6890:(t,e,n)=>{"use strict";n.d(e,{T:()=>_,l:()=>m});var i=n(2343),o=n(7597),r=n(5659),s=n(7522),a=n(2533),l=n(9791);let c=!1;function u(){const t=(0,l.x1)();if(t){const e="internal_error";("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.kg.log(`[Tracing] Transaction: ${e} -> Global error occured`),t.setStatus(e)}}u.tag="sentry_tracingErrorCallback";var h=n(5544),d=n(8069);function p(){const t=this.getScope().getSpan();return t?{"sentry-trace":t.toTraceparent()}:{}}function f(t,e,n){if(!(0,s.z)(e))return t.sampled=!1,t;if(void 0!==t.sampled)return t.setMetadata({sampleRate:Number(t.sampled)}),t;let r;return"function"==typeof e.tracesSampler?(r=e.tracesSampler(n),t.setMetadata({sampleRate:Number(r)})):void 0!==n.parentSampled?r=n.parentSampled:void 0!==e.tracesSampleRate?(r=e.tracesSampleRate,t.setMetadata({sampleRate:Number(r)})):(r=1,t.setMetadata({sampleRate:r})),function(t){if((0,o.i2)(t)||"number"!=typeof t&&"boolean"!=typeof t)return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.kg.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(t)} of type ${JSON.stringify(typeof t)}.`),!1;if(t<0||t>1)return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.kg.warn(`[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got ${t}.`),!1;return!0}(r)?r?(t.sampled=Math.random()<r,t.sampled?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.kg.log(`[Tracing] starting ${t.op} transaction - ${t.name}`),t):(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.kg.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(r)})`),t)):(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.kg.log("[Tracing] Discarding transaction because "+("function"==typeof e.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),t.sampled=!1,t):(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.kg.warn("[Tracing] Discarding transaction because of invalid sample rate."),t.sampled=!1,t)}function g(t,e){const n=this.getClient(),o=n&&n.getOptions()||{},r=o.instrumenter||"sentry",s=t.instrumenter||"sentry";r!==s&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.kg.error(`A transaction was started with instrumenter=\`${s}\`, but the SDK is configured with the \`${r}\` instrumenter.\nThe transaction will not be sampled. Please use the ${r} instrumentation to start transactions.`),t.sampled=!1);let a=new d.Y(t,this);return a=f(a,o,{parentSampled:t.parentSampled,transactionContext:t,...e}),a.sampled&&a.initSpanRecorder(o._experiments&&o._experiments.maxSpans),n&&n.emit&&n.emit("startTransaction",a),a}function m(t,e,n,i,o,r,s){const a=t.getClient(),l=a&&a.getOptions()||{};let c=new h.io(e,t,n,i,s,o);return c=f(c,l,{parentSampled:e.parentSampled,transactionContext:e,...r}),c.sampled&&c.initSpanRecorder(l._experiments&&l._experiments.maxSpans),a&&a.emit&&a.emit("startTransaction",c),c}function _(){const t=(0,r.cu)();t.__SENTRY__&&(t.__SENTRY__.extensions=t.__SENTRY__.extensions||{},t.__SENTRY__.extensions.startTransaction||(t.__SENTRY__.extensions.startTransaction=g),t.__SENTRY__.extensions.traceHeaders||(t.__SENTRY__.extensions.traceHeaders=p),c||(c=!0,(0,a.oq)("error",u),(0,a.oq)("unhandledrejection",u)))}},5544:(t,e,n)=>{"use strict";n.d(e,{AT:()=>a,io:()=>u});var i=n(1170),o=n(2343),r=n(8903),s=n(8069);const a={idleTimeout:1e3,finalTimeout:3e4,heartbeatInterval:5e3},l=["heartbeatFailed","idleTimeout","documentHidden","finalTimeout","externalFinish","cancelled"];class c extends r.gB{constructor(t,e,n,i){super(i),this._pushActivity=t,this._popActivity=e,this.transactionSpanId=n}add(t){t.spanId!==this.transactionSpanId&&(t.finish=e=>{t.endTimestamp="number"==typeof e?e:(0,i.ph)(),this._popActivity(t.spanId)},void 0===t.endTimestamp&&this._pushActivity(t.spanId)),super.add(t)}}class u extends s.Y{__init(){this.activities={}}__init2(){this._heartbeatCounter=0}__init3(){this._finished=!1}__init4(){this._idleTimeoutCanceledPermanently=!1}__init5(){this._beforeFinishCallbacks=[]}__init6(){this._finishReason=l[4]}constructor(t,e,n=a.idleTimeout,i=a.finalTimeout,r=a.heartbeatInterval,s=!1){super(t,e),this._idleHub=e,this._idleTimeout=n,this._finalTimeout=i,this._heartbeatInterval=r,this._onScope=s,u.prototype.__init.call(this),u.prototype.__init2.call(this),u.prototype.__init3.call(this),u.prototype.__init4.call(this),u.prototype.__init5.call(this),u.prototype.__init6.call(this),s&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.log(`Setting idle transaction on scope. Span ID: ${this.spanId}`),e.configureScope((t=>t.setSpan(this)))),this._restartIdleTimeout(),setTimeout((()=>{this._finished||(this.setStatus("deadline_exceeded"),this._finishReason=l[3],this.finish())}),this._finalTimeout)}finish(t=(0,i.ph)()){if(this._finished=!0,this.activities={},"ui.action.click"===this.op&&this.setTag("finishReason",this._finishReason),this.spanRecorder){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.log("[Tracing] finishing IdleTransaction",new Date(1e3*t).toISOString(),this.op);for(const e of this._beforeFinishCallbacks)e(this,t);this.spanRecorder.spans=this.spanRecorder.spans.filter((e=>{if(e.spanId===this.spanId)return!0;e.endTimestamp||(e.endTimestamp=t,e.setStatus("cancelled"),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(e,void 0,2)));const n=e.startTimestamp<t;return n||("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.log("[Tracing] discarding Span since it happened after Transaction was finished",JSON.stringify(e,void 0,2)),n})),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.log("[Tracing] flushing IdleTransaction")}else("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.log("[Tracing] No active IdleTransaction");if(this._onScope){const t=this._idleHub.getScope();t.getTransaction()===this&&t.setSpan(void 0)}return super.finish(t)}registerBeforeFinishCallback(t){this._beforeFinishCallbacks.push(t)}initSpanRecorder(t){if(!this.spanRecorder){const e=t=>{this._finished||this._pushActivity(t)},n=t=>{this._finished||this._popActivity(t)};this.spanRecorder=new c(e,n,this.spanId,t),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)}cancelIdleTimeout(t,{restartOnChildSpanChange:e}={restartOnChildSpanChange:!0}){this._idleTimeoutCanceledPermanently=!1===e,this._idleTimeoutID&&(clearTimeout(this._idleTimeoutID),this._idleTimeoutID=void 0,0===Object.keys(this.activities).length&&this._idleTimeoutCanceledPermanently&&(this._finishReason=l[5],this.finish(t)))}setFinishReason(t){this._finishReason=t}_restartIdleTimeout(t){this.cancelIdleTimeout(),this._idleTimeoutID=setTimeout((()=>{this._finished||0!==Object.keys(this.activities).length||(this._finishReason=l[1],this.finish(t))}),this._idleTimeout)}_pushActivity(t){this.cancelIdleTimeout(void 0,{restartOnChildSpanChange:!this._idleTimeoutCanceledPermanently}),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.log(`[Tracing] pushActivity: ${t}`),this.activities[t]=!0,("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.log("[Tracing] new activities count",Object.keys(this.activities).length)}_popActivity(t){if(this.activities[t]&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.log(`[Tracing] popActivity ${t}`),delete this.activities[t],("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.log("[Tracing] new activities count",Object.keys(this.activities).length)),0===Object.keys(this.activities).length){const t=(0,i.ph)();this._idleTimeoutCanceledPermanently?(this._finishReason=l[5],this.finish(t)):this._restartIdleTimeout(t+this._idleTimeout/1e3)}}_beat(){if(this._finished)return;const t=Object.keys(this.activities).join("");t===this._prevHeartbeatString?this._heartbeatCounter++:this._heartbeatCounter=1,this._prevHeartbeatString=t,this._heartbeatCounter>=3?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus("deadline_exceeded"),this._finishReason=l[0],this.finish()):this._pingHeartbeat()}_pingHeartbeat(){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.log(`pinging Heartbeat -> current counter: ${this._heartbeatCounter}`),setTimeout((()=>{this._beat()}),this._heartbeatInterval)}}},8903:(t,e,n)=>{"use strict";n.d(e,{Dr:()=>l,Zd:()=>c,gB:()=>a});var i=n(2844),o=n(1170),r=n(2343),s=n(5301);class a{__init(){this.spans=[]}constructor(t=1e3){a.prototype.__init.call(this),this._maxlen=t}add(t){this.spans.length>this._maxlen?t.spanRecorder=void 0:this.spans.push(t)}}class l{__init2(){this.traceId=(0,i.DM)()}__init3(){this.spanId=(0,i.DM)().substring(16)}__init4(){this.startTimestamp=(0,o.ph)()}__init5(){this.tags={}}__init6(){this.data={}}__init7(){this.instrumenter="sentry"}constructor(t){if(l.prototype.__init2.call(this),l.prototype.__init3.call(this),l.prototype.__init4.call(this),l.prototype.__init5.call(this),l.prototype.__init6.call(this),l.prototype.__init7.call(this),!t)return this;t.traceId&&(this.traceId=t.traceId),t.spanId&&(this.spanId=t.spanId),t.parentSpanId&&(this.parentSpanId=t.parentSpanId),"sampled"in t&&(this.sampled=t.sampled),t.op&&(this.op=t.op),t.description&&(this.description=t.description),t.data&&(this.data=t.data),t.tags&&(this.tags=t.tags),t.status&&(this.status=t.status),t.startTimestamp&&(this.startTimestamp=t.startTimestamp),t.endTimestamp&&(this.endTimestamp=t.endTimestamp),t.instrumenter&&(this.instrumenter=t.instrumenter)}startChild(t){const e=new l({...t,parentSpanId:this.spanId,sampled:this.sampled,traceId:this.traceId});if(e.spanRecorder=this.spanRecorder,e.spanRecorder&&e.spanRecorder.add(e),e.transaction=this.transaction,("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&e.transaction){const n=`[Tracing] Starting '${t&&t.op||"< unknown op >"}' span on transaction '${e.transaction.name||"< unknown name >"}' (${e.transaction.spanId}).`;e.transaction.metadata.spanMetadata[e.spanId]={logMessage:n},r.kg.log(n)}return e}setTag(t,e){return this.tags={...this.tags,[t]:e},this}setData(t,e){return this.data={...this.data,[t]:e},this}setStatus(t){return this.status=t,this}setHttpStatus(t){this.setTag("http.status_code",String(t));const e=c(t);return"unknown_error"!==e&&this.setStatus(e),this}isSuccess(){return"ok"===this.status}finish(t){if(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&this.transaction&&this.transaction.spanId!==this.spanId){const{logMessage:t}=this.transaction.metadata.spanMetadata[this.spanId];t&&r.kg.log(t.replace("Starting","Finishing"))}this.endTimestamp="number"==typeof t?t:(0,o.ph)()}toTraceparent(){let t="";return void 0!==this.sampled&&(t=this.sampled?"-1":"-0"),`${this.traceId}-${this.spanId}${t}`}toContext(){return(0,s.Jr)({data:this.data,description:this.description,endTimestamp:this.endTimestamp,op:this.op,parentSpanId:this.parentSpanId,sampled:this.sampled,spanId:this.spanId,startTimestamp:this.startTimestamp,status:this.status,tags:this.tags,traceId:this.traceId})}updateWithContext(t){return this.data=t.data||{},this.description=t.description,this.endTimestamp=t.endTimestamp,this.op=t.op,this.parentSpanId=t.parentSpanId,this.sampled=t.sampled,this.spanId=t.spanId||this.spanId,this.startTimestamp=t.startTimestamp||this.startTimestamp,this.status=t.status,this.tags=t.tags||{},this.traceId=t.traceId||this.traceId,this}getTraceContext(){return(0,s.Jr)({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,trace_id:this.traceId})}toJSON(){return(0,s.Jr)({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,start_timestamp:this.startTimestamp,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this.endTimestamp,trace_id:this.traceId})}}function c(t){if(t<400&&t>=100)return"ok";if(t>=400&&t<500)switch(t){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(t>=500&&t<600)switch(t){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}},8069:(t,e,n)=>{"use strict";n.d(e,{Y:()=>l});var i=n(2343),o=n(5301),r=n(1131),s=n(5659),a=n(8903);class l extends a.Dr{__init(){this._measurements={}}__init2(){this._contexts={}}__init3(){this._frozenDynamicSamplingContext=void 0}constructor(t,e){super(t),l.prototype.__init.call(this),l.prototype.__init2.call(this),l.prototype.__init3.call(this),this._hub=e||(0,s.Gd)(),this._name=t.name||"",this.metadata={source:"custom",...t.metadata,spanMetadata:{}},this._trimEnd=t.trimEnd,this.transaction=this;const n=this.metadata.dynamicSamplingContext;n&&(this._frozenDynamicSamplingContext={...n})}get name(){return this._name}set name(t){this.setName(t)}setName(t,e="custom"){this._name=t,this.metadata.source=e}initSpanRecorder(t=1e3){this.spanRecorder||(this.spanRecorder=new a.gB(t)),this.spanRecorder.add(this)}setContext(t,e){null===e?delete this._contexts[t]:this._contexts[t]=e}setMeasurement(t,e,n=""){this._measurements[t]={value:e,unit:n}}setMetadata(t){this.metadata={...this.metadata,...t}}finish(t){if(void 0!==this.endTimestamp)return;this.name||(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.kg.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this.name="<unlabeled transaction>"),super.finish(t);const e=this._hub.getClient();if(e&&e.emit&&e.emit("finishTransaction",this),!0!==this.sampled)return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.kg.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),void(e&&e.recordDroppedEvent("sample_rate","transaction"));const n=this.spanRecorder?this.spanRecorder.spans.filter((t=>t!==this&&t.endTimestamp)):[];this._trimEnd&&n.length>0&&(this.endTimestamp=n.reduce(((t,e)=>t.endTimestamp&&e.endTimestamp?t.endTimestamp>e.endTimestamp?t:e:t)).endTimestamp);const o=this.metadata,r={contexts:{...this._contexts,trace:this.getTraceContext()},spans:n,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.endTimestamp,transaction:this.name,type:"transaction",sdkProcessingMetadata:{...o,dynamicSamplingContext:this.getDynamicSamplingContext()},...o.source&&{transaction_info:{source:o.source}}};return Object.keys(this._measurements).length>0&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.kg.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),r.measurements=this._measurements),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.kg.log(`[Tracing] Finishing ${this.op} transaction: ${this.name}.`),this._hub.captureEvent(r)}toContext(){const t=super.toContext();return(0,o.Jr)({...t,name:this.name,trimEnd:this._trimEnd})}updateWithContext(t){return super.updateWithContext(t),this.name=t.name||"",this._trimEnd=t.trimEnd,this}getDynamicSamplingContext(){if(this._frozenDynamicSamplingContext)return this._frozenDynamicSamplingContext;const t=this._hub||(0,s.Gd)(),e=t&&t.getClient();if(!e)return{};const{environment:n,release:i}=e.getOptions()||{},{publicKey:a}=e.getDsn()||{},l=this.metadata.sampleRate,c=void 0!==l?l.toString():void 0,{segment:u}=t.getScope().getUser()||{},h=this.metadata.source,d=h&&"url"!==h?this.name:void 0,p=(0,o.Jr)({environment:n||r.J,release:i,transaction:d,user_segment:u,public_key:a,trace_id:this.traceId,sample_rate:c});return e.emit&&e.emit("createDsc",p),p}setHub(t){this._hub=t}}},9791:(t,e,n)=>{"use strict";n.d(e,{x1:()=>o});var i=n(5659);function o(t){return(t||(0,i.Gd)()).getScope().getTransaction()}},9604:(t,e,n)=>{"use strict";n.d(e,{q:()=>u});var i=n(409),o=n(6893);function r(t){const e=[];function n(t){return e.splice(e.indexOf(t),1)[0]}return{$:e,add:function(r){if(!(void 0===t||e.length<t))return(0,o.$2)(new i.b("Not adding Promise because buffer limit was reached."));const s=r();return-1===e.indexOf(s)&&e.push(s),s.then((()=>n(s))).then(null,(()=>n(s).then(null,(()=>{})))),s},drain:function(t){return new o.cW(((n,i)=>{let r=e.length;if(!r)return n(!0);const s=setTimeout((()=>{t&&t>0&&n(!1)}),t);e.forEach((t=>{(0,o.WD)(t).then((()=>{--r||(clearTimeout(s),n(!0))}),i)}))}))}}}var s=n(8725),a=n(228),l=n(2343);const c=30;function u(t,e,n=r(t.bufferSize||c)){let u={};function d(r){const c=[];if((0,s.gv)(r,((e,n)=>{const i=(0,s.mL)(n);if((0,a.Q)(u,i)){const o=h(e,n);t.recordDroppedEvent("ratelimit_backoff",i,o)}else c.push(e)})),0===c.length)return(0,o.WD)();const d=(0,s.Jd)(r[0],c),p=e=>{(0,s.gv)(d,((n,i)=>{const o=h(n,i);t.recordDroppedEvent(e,(0,s.mL)(i),o)}))};return n.add((()=>e({body:(0,s.V$)(d,t.textEncoder)}).then((t=>(void 0!==t.statusCode&&(t.statusCode<200||t.statusCode>=300)&&("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&l.kg.warn(`Sentry responded with status code ${t.statusCode} to sent event.`),u=(0,a.WG)(u,t),t)),(t=>{throw p("network_error"),t})))).then((t=>t),(t=>{if(t instanceof i.b)return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&l.kg.error("Skipped sending event because buffer is full."),p("queue_overflow"),(0,o.WD)();throw t}))}return d.__sentry__baseTransport__=!0,{send:d,flush:t=>n.drain(t)}}function h(t,e){if("event"===e||"transaction"===e)return Array.isArray(t)?t[1]:void 0}},7522:(t,e,n)=>{"use strict";n.d(e,{z:()=>o});var i=n(5659);function o(t){if("boolean"==typeof __SENTRY_TRACING__&&!__SENTRY_TRACING__)return!1;const e=(0,i.Gd)().getClient(),n=t||e&&e.getOptions();return!!n&&(n.enableTracing||"tracesSampleRate"in n||"tracesSampler"in n)}},8942:(t,e,n)=>{"use strict";n.d(e,{R:()=>h});var i=n(2844),o=n(1170),r=n(6893),s=n(7321),a=n(1235),l=n(8007),c=n(1131),u=n(350);function h(t,e,n,h){const{normalizeDepth:p=3,normalizeMaxBreadth:f=1e3}=t,g={...e,event_id:e.event_id||n.event_id||(0,i.DM)(),timestamp:e.timestamp||(0,o.yW)()},m=n.integrations||t.integrations.map((t=>t.name));!function(t,e){const{environment:n,release:i,dist:o,maxValueLength:r=250}=e;"environment"in t||(t.environment="environment"in e?n:c.J);void 0===t.release&&void 0!==i&&(t.release=i);void 0===t.dist&&void 0!==o&&(t.dist=o);t.message&&(t.message=(0,s.$G)(t.message,r));const a=t.exception&&t.exception.values&&t.exception.values[0];a&&a.value&&(a.value=(0,s.$G)(a.value,r));const l=t.request;l&&l.url&&(l.url=(0,s.$G)(l.url,r))}(g,t),function(t,e){e.length>0&&(t.sdk=t.sdk||{},t.sdk.integrations=[...t.sdk.integrations||[],...e])}(g,m),void 0===e.type&&function(t,e){const n=a.n2._sentryDebugIds;if(!n)return;let i;const o=d.get(e);o?i=o:(i=new Map,d.set(e,i));const r=Object.keys(n).reduce(((t,o)=>{let r;const s=i.get(o);s?r=s:(r=e(o),i.set(o,r));for(let e=r.length-1;e>=0;e--){const i=r[e];if(i.filename){t[i.filename]=n[o];break}}return t}),{}),s=new Set;try{t.exception.values.forEach((t=>{t.stacktrace.frames.forEach((t=>{t.filename&&s.add(t.filename)}))}))}catch(t){}t.debug_meta=t.debug_meta||{},t.debug_meta.images=t.debug_meta.images||[];const l=t.debug_meta.images;s.forEach((t=>{r[t]&&l.push({type:"sourcemap",code_file:t,debug_id:r[t]})}))}(g,t.stackParser);let _=h;n.captureContext&&(_=u.s.clone(_).update(n.captureContext));let y=(0,r.WD)(g);if(_){if(_.getAttachments){const t=[...n.attachments||[],..._.getAttachments()];t.length&&(n.attachments=t)}y=_.applyToEvent(g,n)}return y.then((t=>"number"==typeof p&&p>0?function(t,e,n){if(!t)return null;const i={...t,...t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map((t=>({...t,...t.data&&{data:(0,l.Fv)(t.data,e,n)}})))},...t.user&&{user:(0,l.Fv)(t.user,e,n)},...t.contexts&&{contexts:(0,l.Fv)(t.contexts,e,n)},...t.extra&&{extra:(0,l.Fv)(t.extra,e,n)}};t.contexts&&t.contexts.trace&&i.contexts&&(i.contexts.trace=t.contexts.trace,t.contexts.trace.data&&(i.contexts.trace.data=(0,l.Fv)(t.contexts.trace.data,e,n)));t.spans&&(i.spans=t.spans.map((t=>(t.data&&(t.data=(0,l.Fv)(t.data,e,n)),t))));return i}(t,p,f):t))}const d=new WeakMap},105:(t,e,n)=>{"use strict";n.d(e,{J:()=>i});const i="7.51.0"},3078:(t,e,n)=>{"use strict";n.d(e,{U:()=>Rn});var i=n(5659),o=n(4487),r=n(350),s=n(8942),a=n(1235),l=n(2343),c=n(2844),u=n(8007),h=n(8464),d=n(2533),p=n(5301),f=n(7321),g=n(1170),m=n(8725),_=n(1422);const y=a.n2,v="sentryReplaySession",C="replay_event",b="Unable to send Replay",E=15e4,S=5e3;var w;function O(t){const e=null==t?void 0:t.host;return Boolean(e&&e.shadowRoot&&e.shadowRoot===t)}function x({maskInputOptions:t,tagName:e,type:n}){"option"===e.toLowerCase()&&(e="select");const i="string"==typeof n?n.toLowerCase():void 0;return t[e.toLowerCase()]||i&&t[i]||"password"===i||"input"===e&&!n&&t.text}function P({input:t,maskInputSelector:e,unmaskInputSelector:n,maskInputOptions:i,tagName:o,type:r,value:s,maskInputFn:a}){let l=s||"";return n&&t.matches(n)||(t.hasAttribute("rr_is_password")&&(r="password"),(x({maskInputOptions:i,tagName:o,type:r})||e&&t.matches(e))&&(l=a?a(l):"*".repeat(l.length))),l}!function(t){t[t.Document=0]="Document",t[t.DocumentType=1]="DocumentType",t[t.Element=2]="Element",t[t.Text=3]="Text",t[t.CDATA=4]="CDATA",t[t.Comment=5]="Comment"}(w||(w={}));const T="__rrweb_original__";let M=1;const D=new RegExp("[^a-z0-9-_:]"),R=-2;function A(t){return t?t.replace(/[\S]/g,"*"):""}function L(t){try{const e=t.rules||t.cssRules;return e?Array.from(e).map(I).join(""):null}catch(t){return null}}function I(t){let e=t.cssText;if(function(t){return"styleSheet"in t}(t))try{e=L(t.styleSheet)||e}catch(t){}return e}let k,N;const F=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,G=/^(?!www\.|(?:http|ftp)s?:\/\/|[A-Za-z]:\\|\/\/|#).*/,B=/^(data:)([^,]*),(.*)/i;function j(t,e){return(t||"").replace(F,((t,n,i,o,r,s)=>{const a=i||r||s,l=n||o||"";if(!a)return t;if(!G.test(a))return`url(${l}${a}${l})`;if(B.test(a))return`url(${l}${a}${l})`;if("/"===a[0])return`url(${l}${function(t){let e="";return e=t.indexOf("//")>-1?t.split("/").slice(0,3).join("/"):t.split("/")[0],e=e.split("?")[0],e}(e)+a}${l})`;const c=e.split("/"),u=a.split("/");c.pop();for(const t of u)"."!==t&&(".."===t?c.pop():c.push(t));return`url(${l}${c.join("/")}${l})`}))}const U=/^[^ \t\n\r\u000c]+/,V=/^[, \t\n\r\u000c]+/;function W(t,e){if(!e||""===e.trim())return e;const n=t.createElement("a");return n.href=e,n.href}function H(){const t=document.createElement("a");return t.href="",t.href}function $(t,e,n,i,o,r,s,a){if(!o)return o;const l=i.toLowerCase(),c=n.toLowerCase();return"src"===l||"href"===l||"xlink:href"===l&&"#"!==o[0]?W(t,o):"background"!==l||"table"!==c&&"td"!==c&&"th"!==c?"srcset"===l?function(t,e){if(""===e.trim())return e;let n=0;function i(t){let i,o=t.exec(e.substring(n));return o?(i=o[0],n+=i.length,i):""}let o=[];for(;i(V),!(n>=e.length);){let r=i(U);if(","===r.slice(-1))r=W(t,r.substring(0,r.length-1)),o.push(r);else{let i="";r=W(t,r);let s=!1;for(;;){let t=e.charAt(n);if(""===t){o.push((r+i).trim());break}if(s)")"===t&&(s=!1);else{if(","===t){n+=1,o.push((r+i).trim());break}"("===t&&(s=!0)}i+=t,n+=1}}}return o.join(", ")}(t,o):"style"===l?j(o,H()):"object"===c&&"data"===l?W(t,o):r&&function(t,e,n,i){if(i&&t.matches(i))return!1;return["placeholder","title","aria-label"].indexOf(e)>-1||"input"===n&&"value"===e&&t.hasAttribute("type")&&["submit","button"].indexOf(t.getAttribute("type").toLowerCase())>-1}(e,l,c,s)?a?a(o):A(o):o:W(t,o)}function z(t,e,n,i,o){if(!t)return!1;if(t.nodeType!==t.ELEMENT_NODE)return z(t.parentNode,e,n,i,o);if(i&&(t.matches(i)||t.closest(i)))return!1;if(o)return!0;if("string"==typeof e){if(t.classList.contains(e))return!0}else for(let n=0;n<t.classList.length;n++){const i=t.classList[n];if(e.test(i))return!0}return!(!n||!t.matches(n))||z(t.parentNode,e,n,i,o)}function K(t,e){var n;const{doc:i,blockClass:o,blockSelector:r,unblockSelector:s,maskTextClass:a,maskTextSelector:l,unmaskTextSelector:c,inlineStylesheet:u,maskInputSelector:h,unmaskInputSelector:d,maskAllText:p,maskInputOptions:f={},maskTextFn:g,maskInputFn:m,dataURLOptions:_={},inlineImages:y,recordCanvas:v,keepIframeSrcFn:C}=e;let b;if(i.__sn){const t=i.__sn.id;b=1===t?void 0:t}switch(t.nodeType){case t.DOCUMENT_NODE:return"CSS1Compat"!==t.compatMode?{type:w.Document,childNodes:[],compatMode:t.compatMode,rootId:b}:{type:w.Document,childNodes:[],rootId:b};case t.DOCUMENT_TYPE_NODE:return{type:w.DocumentType,name:t.name,publicId:t.publicId,systemId:t.systemId,rootId:b};case t.ELEMENT_NODE:const e=function(t,e,n,i){if(i&&t.matches(i))return!1;if("string"==typeof e){if(t.classList.contains(e))return!0}else for(let n=0;n<t.classList.length;n++){const i=t.classList[n];if(e.test(i))return!0}return!!n&&t.matches(n)}(t,o,r,s),O=function(t){if(t instanceof HTMLFormElement)return"form";const e=t.tagName.toLowerCase().trim();return D.test(e)?"div":e}(t);let x={};for(const{name:e,value:n}of Array.from(t.attributes))q(O,e)||(x[e]=$(i,t,O,e,n,p,c,g));if("link"===O&&u){const e=Array.from(i.styleSheets).find((e=>e.href===t.href));let n=null;e&&(n=L(e)),n&&(delete x.rel,delete x.href,x._cssText=j(n,e.href))}if("style"===O&&t.sheet&&!(t.innerText||t.textContent||"").trim().length){const e=L(t.sheet);e&&(x._cssText=j(e,H()))}if("input"===O||"textarea"===O||"select"===O||"option"===O){const e=t,n=function(t,e,n){if("input"===t&&("radio"===n.type||"checkbox"===n.type))return e.getAttribute("value")||"";return e.value}(O,e,x),i=t.checked;"submit"!==x.type&&"button"!==x.type&&n&&(x.value=P({input:e,type:x.type,tagName:O,value:n,maskInputSelector:h,unmaskInputSelector:d,maskInputOptions:f,maskInputFn:m})),i&&(x.checked=i)}if("option"===O&&(t.selected&&!f.select?x.selected=!0:delete x.selected),"canvas"===O&&v)if("2d"===t.__context)(function(t){const e=t.getContext("2d");if(!e)return!0;for(let n=0;n<t.width;n+=50)for(let i=0;i<t.height;i+=50){const o=e.getImageData,r=T in o?o[T]:o;if(new Uint32Array(r.call(e,n,i,Math.min(50,t.width-n),Math.min(50,t.height-i)).data.buffer).some((t=>0!==t)))return!1}return!0})(t)||(x.rr_dataURL=t.toDataURL(_.type,_.quality));else if(!("__context"in t)){const e=t.toDataURL(_.type,_.quality),n=document.createElement("canvas");n.width=t.width,n.height=t.height;e!==n.toDataURL(_.type,_.quality)&&(x.rr_dataURL=e)}if("img"===O&&y){k||(k=i.createElement("canvas"),N=k.getContext("2d"));const e=t,n=e.crossOrigin;e.crossOrigin="anonymous";const o=()=>{try{k.width=e.naturalWidth,k.height=e.naturalHeight,N.drawImage(e,0,0),x.rr_dataURL=k.toDataURL(_.type,_.quality)}catch(t){console.warn(`Cannot inline img src=${e.currentSrc}! Error: ${t}`)}n?x.crossOrigin=n:delete x.crossOrigin};e.complete&&0!==e.naturalWidth?o():e.onload=o}if("audio"!==O&&"video"!==O||(x.rr_mediaState=t.paused?"paused":"played",x.rr_mediaCurrentTime=t.currentTime),t.scrollLeft&&(x.rr_scrollLeft=t.scrollLeft),t.scrollTop&&(x.rr_scrollTop=t.scrollTop),e){const{width:e,height:n}=t.getBoundingClientRect();x={class:x.class,rr_width:`${e}px`,rr_height:`${n}px`}}return"iframe"!==O||C(x.src)||(t.contentDocument||(x.rr_src=x.src),delete x.src),{type:w.Element,tagName:O,attributes:x,childNodes:[],isSVG:(S=t,Boolean("svg"===S.tagName||S.ownerSVGElement)||void 0),needBlock:e,rootId:b};case t.TEXT_NODE:const M=t.parentNode&&t.parentNode.tagName;let R=t.textContent;const I="STYLE"===M||void 0,F="SCRIPT"===M||void 0;if(I&&R){try{t.nextSibling||t.previousSibling||(null===(n=t.parentNode.sheet)||void 0===n?void 0:n.cssRules)&&(R=(E=t.parentNode.sheet).cssRules?Array.from(E.cssRules).map((t=>t.cssText||"")).join(""):"")}catch(e){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${e}`,t)}R=j(R,H())}if(F&&(R="SCRIPT_PLACEHOLDER"),"TEXTAREA"===M&&R)R="";else if("OPTION"===M&&R){R=P({input:t.parentNode,type:null,tagName:M,value:R,maskInputSelector:h,unmaskInputSelector:d,maskInputOptions:f,maskInputFn:m})}else!I&&!F&&z(t,a,l,c,p)&&R&&(R=g?g(R):A(R));return{type:w.Text,textContent:R||"",isStyle:I,rootId:b};case t.CDATA_SECTION_NODE:return{type:w.CDATA,textContent:"",rootId:b};case t.COMMENT_NODE:return{type:w.Comment,textContent:t.textContent||"",rootId:b};default:return!1}var E,S}function Y(t){return null==t?"":t.toLowerCase()}function X(t,e){const{doc:n,map:i,blockClass:o,blockSelector:r,unblockSelector:s,maskTextClass:a,maskTextSelector:l,unmaskTextSelector:c,skipChild:u=!1,inlineStylesheet:h=!0,maskInputSelector:d,unmaskInputSelector:p,maskAllText:f,maskInputOptions:g={},maskTextFn:m,maskInputFn:_,slimDOMOptions:y,dataURLOptions:v={},inlineImages:C=!1,recordCanvas:b=!1,onSerialize:E,onIframeLoad:S,iframeLoadTimeout:x=5e3,keepIframeSrcFn:P=(()=>!1)}=e;let{preserveWhiteSpace:T=!0}=e;const D=K(t,{doc:n,blockClass:o,blockSelector:r,unblockSelector:s,maskTextClass:a,maskTextSelector:l,unmaskTextSelector:c,inlineStylesheet:h,maskInputSelector:d,unmaskInputSelector:p,maskAllText:f,maskInputOptions:g,maskTextFn:m,maskInputFn:_,dataURLOptions:v,inlineImages:C,recordCanvas:b,keepIframeSrcFn:P});if(!D)return console.warn(t,"not serialized"),null;let A;A="__sn"in t?t.__sn.id:!function(t,e){if(e.comment&&t.type===w.Comment)return!0;if(t.type===w.Element){if(e.script&&("script"===t.tagName||"link"===t.tagName&&("preload"===t.attributes.rel||"modulepreload"===t.attributes.rel)&&"script"===t.attributes.as||"link"===t.tagName&&"prefetch"===t.attributes.rel&&"string"==typeof t.attributes.href&&t.attributes.href.endsWith(".js")))return!0;if(e.headFavicon&&("link"===t.tagName&&"shortcut icon"===t.attributes.rel||"meta"===t.tagName&&(Y(t.attributes.name).match(/^msapplication-tile(image|color)$/)||"application-name"===Y(t.attributes.name)||"icon"===Y(t.attributes.rel)||"apple-touch-icon"===Y(t.attributes.rel)||"shortcut icon"===Y(t.attributes.rel))))return!0;if("meta"===t.tagName){if(e.headMetaDescKeywords&&Y(t.attributes.name).match(/^description|keywords$/))return!0;if(e.headMetaSocial&&(Y(t.attributes.property).match(/^(og|twitter|fb):/)||Y(t.attributes.name).match(/^(og|twitter):/)||"pinterest"===Y(t.attributes.name)))return!0;if(e.headMetaRobots&&("robots"===Y(t.attributes.name)||"googlebot"===Y(t.attributes.name)||"bingbot"===Y(t.attributes.name)))return!0;if(e.headMetaHttpEquiv&&void 0!==t.attributes["http-equiv"])return!0;if(e.headMetaAuthorship&&("author"===Y(t.attributes.name)||"generator"===Y(t.attributes.name)||"framework"===Y(t.attributes.name)||"publisher"===Y(t.attributes.name)||"progid"===Y(t.attributes.name)||Y(t.attributes.property).match(/^article:/)||Y(t.attributes.property).match(/^product:/)))return!0;if(e.headMetaVerification&&("google-site-verification"===Y(t.attributes.name)||"yandex-verification"===Y(t.attributes.name)||"csrf-token"===Y(t.attributes.name)||"p:domain_verify"===Y(t.attributes.name)||"verify-v1"===Y(t.attributes.name)||"verification"===Y(t.attributes.name)||"shopify-checkout-api-token"===Y(t.attributes.name)))return!0}}return!1}(D,y)&&(T||D.type!==w.Text||D.isStyle||D.textContent.replace(/^\s+|\s+$/gm,"").length)?M++:R;const L=Object.assign(D,{id:A});if(t.__sn=L,A===R)return null;i[A]=t,E&&E(t);let I=!u;if(L.type===w.Element&&(I=I&&!L.needBlock,delete L.needBlock,t.shadowRoot&&(L.isShadowHost=!0)),(L.type===w.Document||L.type===w.Element)&&I){y.headWhitespace&&D.type===w.Element&&"head"===D.tagName&&(T=!1);const e={doc:n,map:i,blockClass:o,blockSelector:r,unblockSelector:s,maskTextClass:a,maskTextSelector:l,unmaskTextSelector:c,skipChild:u,inlineStylesheet:h,maskInputSelector:d,unmaskInputSelector:p,maskAllText:f,maskInputOptions:g,maskTextFn:m,maskInputFn:_,slimDOMOptions:y,dataURLOptions:v,inlineImages:C,recordCanvas:b,preserveWhiteSpace:T,onSerialize:E,onIframeLoad:S,iframeLoadTimeout:x,keepIframeSrcFn:P};for(const n of Array.from(t.childNodes)){const t=X(n,e);t&&L.childNodes.push(t)}if(function(t){return t.nodeType===t.ELEMENT_NODE}(t)&&t.shadowRoot)for(const n of Array.from(t.shadowRoot.childNodes)){const t=X(n,e);t&&(t.isShadow=!0,L.childNodes.push(t))}}return t.parentNode&&O(t.parentNode)&&(L.isShadow=!0),L.type===w.Element&&"iframe"===L.tagName&&function(t,e,n){const i=t.contentWindow;if(!i)return;let o,r=!1;try{o=i.document.readyState}catch(t){return}if("complete"!==o){const i=setTimeout((()=>{r||(e(),r=!0)}),n);return void t.addEventListener("load",(()=>{clearTimeout(i),r=!0,e()}))}const s="about:blank";i.location.href===s&&t.src!==s&&""!==t.src?t.addEventListener("load",e):setTimeout(e,0)}(t,(()=>{const e=t.contentDocument;if(e&&S){const n=X(e,{doc:e,map:i,blockClass:o,blockSelector:r,unblockSelector:s,maskTextClass:a,maskTextSelector:l,unmaskTextSelector:c,skipChild:!1,inlineStylesheet:h,maskInputSelector:d,unmaskInputSelector:p,maskAllText:f,maskInputOptions:g,maskTextFn:m,maskInputFn:_,slimDOMOptions:y,dataURLOptions:v,inlineImages:C,recordCanvas:b,preserveWhiteSpace:T,onSerialize:E,onIframeLoad:S,iframeLoadTimeout:x,keepIframeSrcFn:P});n&&S(t,n)}}),x),L}function q(t,e,n){return("video"===t||"audio"===t)&&"autoplay"===e}var Z,J,Q,tt,et,nt;function it(t,e,n=document){const i={capture:!0,passive:!0};return n.addEventListener(t,e,i),()=>n.removeEventListener(t,e,i)}!function(t){t[t.DomContentLoaded=0]="DomContentLoaded",t[t.Load=1]="Load",t[t.FullSnapshot=2]="FullSnapshot",t[t.IncrementalSnapshot=3]="IncrementalSnapshot",t[t.Meta=4]="Meta",t[t.Custom=5]="Custom",t[t.Plugin=6]="Plugin"}(Z||(Z={})),function(t){t[t.Mutation=0]="Mutation",t[t.MouseMove=1]="MouseMove",t[t.MouseInteraction=2]="MouseInteraction",t[t.Scroll=3]="Scroll",t[t.ViewportResize=4]="ViewportResize",t[t.Input=5]="Input",t[t.TouchMove=6]="TouchMove",t[t.MediaInteraction=7]="MediaInteraction",t[t.StyleSheetRule=8]="StyleSheetRule",t[t.CanvasMutation=9]="CanvasMutation",t[t.Font=10]="Font",t[t.Log=11]="Log",t[t.Drag=12]="Drag",t[t.StyleDeclaration=13]="StyleDeclaration"}(J||(J={})),function(t){t[t.MouseUp=0]="MouseUp",t[t.MouseDown=1]="MouseDown",t[t.Click=2]="Click",t[t.ContextMenu=3]="ContextMenu",t[t.DblClick=4]="DblClick",t[t.Focus=5]="Focus",t[t.Blur=6]="Blur",t[t.TouchStart=7]="TouchStart",t[t.TouchMove_Departed=8]="TouchMove_Departed",t[t.TouchEnd=9]="TouchEnd",t[t.TouchCancel=10]="TouchCancel"}(Q||(Q={})),function(t){t[t["2D"]=0]="2D",t[t.WebGL=1]="WebGL",t[t.WebGL2=2]="WebGL2"}(tt||(tt={})),function(t){t[t.Play=0]="Play",t[t.Pause=1]="Pause",t[t.Seeked=2]="Seeked",t[t.VolumeChange=3]="VolumeChange"}(et||(et={})),function(t){t.Start="start",t.Pause="pause",t.Resume="resume",t.Resize="resize",t.Finish="finish",t.FullsnapshotRebuilded="fullsnapshot-rebuilded",t.LoadStylesheetStart="load-stylesheet-start",t.LoadStylesheetEnd="load-stylesheet-end",t.SkipStart="skip-start",t.SkipEnd="skip-end",t.MouseInteraction="mouse-interaction",t.EventCast="event-cast",t.CustomEvent="custom-event",t.Flush="flush",t.StateChange="state-change",t.PlayBack="play-back"}(nt||(nt={}));const ot="Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.";let rt={map:{},getId:()=>(console.error(ot),-1),getNode:()=>(console.error(ot),null),removeNodeFromMap(){console.error(ot)},has:()=>(console.error(ot),!1),reset(){console.error(ot)}};function st(t,e,n={}){let i=null,o=0;return function(r){let s=Date.now();o||!1!==n.leading||(o=s);let a=e-(s-o),l=this,c=arguments;a<=0||a>e?(i&&(clearTimeout(i),i=null),o=s,t.apply(l,c)):i||!1===n.trailing||(i=setTimeout((()=>{o=!1===n.leading?0:Date.now(),i=null,t.apply(l,c)}),a))}}function at(t,e,n,i,o=window){const r=o.Object.getOwnPropertyDescriptor(t,e);return o.Object.defineProperty(t,e,i?n:{set(t){setTimeout((()=>{n.set.call(this,t)}),0),r&&r.set&&r.set.call(this,t)}}),()=>at(t,e,r||{},!0)}function lt(t,e,n){try{if(!(e in t))return()=>{};const i=t[e],o=n(i);return"function"==typeof o&&(o.prototype=o.prototype||{},Object.defineProperties(o,{__rrweb_original__:{enumerable:!1,value:i}})),t[e]=o,()=>{t[e]=i}}catch(t){return()=>{}}}function ct(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function ut(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function ht(t,e,n,i){if(!t)return!1;if(t.nodeType===t.ELEMENT_NODE){let o=!1;const r=i&&t.matches(i);return"string"==typeof e?o=void 0!==t.closest?!r&&null!==t.closest("."+e):!r&&t.classList.contains(e):!r&&t.classList.forEach((t=>{e.test(t)&&(o=!0)})),!o&&n&&(o=t.matches(n)),!r&&o||ht(t.parentNode,e,n,i)}return t.nodeType,t.TEXT_NODE,ht(t.parentNode,e,n,i)}function dt(t){return"__sn"in t&&t.__sn.id===R}function pt(t,e){if(O(t))return!1;const n=e.getId(t);return!e.has(n)||(!t.parentNode||t.parentNode.nodeType!==t.DOCUMENT_NODE)&&(!t.parentNode||pt(t.parentNode,e))}function ft(t){return Boolean(t.changedTouches)}function gt(t){return"__sn"in t&&(t.__sn.type===w.Element&&"iframe"===t.__sn.tagName)}function mt(t){return Boolean(null==t?void 0:t.shadowRoot)}function _t(t){return"__ln"in t}"undefined"!=typeof window&&window.Proxy&&window.Reflect&&(rt=new Proxy(rt,{get:(t,e,n)=>("map"===e&&console.error(ot),Reflect.get(t,e,n))}));class yt{constructor(){this.length=0,this.head=null}get(t){if(t>=this.length)throw new Error("Position outside of list range");let e=this.head;for(let n=0;n<t;n++)e=(null==e?void 0:e.next)||null;return e}addNode(t){const e={value:t,previous:null,next:null};if(t.__ln=e,t.previousSibling&&_t(t.previousSibling)){const n=t.previousSibling.__ln.next;e.next=n,e.previous=t.previousSibling.__ln,t.previousSibling.__ln.next=e,n&&(n.previous=e)}else if(t.nextSibling&&_t(t.nextSibling)&&t.nextSibling.__ln.previous){const n=t.nextSibling.__ln.previous;e.previous=n,e.next=t.nextSibling.__ln,t.nextSibling.__ln.previous=e,n&&(n.next=e)}else this.head&&(this.head.previous=e),e.next=this.head,this.head=e;this.length++}removeNode(t){const e=t.__ln;this.head&&(e.previous?(e.previous.next=e.next,e.next&&(e.next.previous=e.previous)):(this.head=e.next,this.head&&(this.head.previous=null)),t.__ln&&delete t.__ln,this.length--)}}const vt=(t,e)=>`${t}@${e}`;function Ct(t){return"__sn"in t}class bt{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=t=>{t.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;const t=[],e=new yt,n=t=>{let e=t,n=R;for(;n===R;)e=e&&e.nextSibling,n=e&&this.mirror.getId(e);return n},i=i=>{var o,r,s,a,l;const c=i.getRootNode?null===(o=i.getRootNode())||void 0===o?void 0:o.host:null;let u=c;for(;null===(s=null===(r=null==u?void 0:u.getRootNode)||void 0===r?void 0:r.call(u))||void 0===s?void 0:s.host;)u=(null===(l=null===(a=null==u?void 0:u.getRootNode)||void 0===a?void 0:a.call(u))||void 0===l?void 0:l.host)||null;const h=!(this.doc.contains(i)||u&&this.doc.contains(u));if(!i.parentNode||h)return;const d=O(i.parentNode)?this.mirror.getId(c):this.mirror.getId(i.parentNode),p=n(i);if(-1===d||-1===p)return e.addNode(i);let f=X(i,{doc:this.doc,map:this.mirror.map,blockClass:this.blockClass,blockSelector:this.blockSelector,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,maskInputSelector:this.maskInputSelector,unmaskInputSelector:this.unmaskInputSelector,skipChild:!0,inlineStylesheet:this.inlineStylesheet,maskAllText:this.maskAllText,maskInputOptions:this.maskInputOptions,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:t=>{gt(t)&&this.iframeManager.addIframe(t),mt(i)&&this.shadowDomManager.addShadowRoot(i.shadowRoot,document)},onIframeLoad:(t,e)=>{this.iframeManager.attachIframe(t,e),this.shadowDomManager.observeAttachShadow(t)}});f&&t.push({parentId:d,nextId:p,node:f})};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const t of this.movedSet)St(this.removes,t,this.mirror)&&!this.movedSet.has(t.parentNode)||i(t);for(const t of this.addedSet)wt(this.droppedSet,t)||St(this.removes,t,this.mirror)?wt(this.movedSet,t)?i(t):this.droppedSet.add(t):i(t);let o=null;for(;e.length;){let t=null;if(o){const e=this.mirror.getId(o.value.parentNode),i=n(o.value);-1!==e&&-1!==i&&(t=o)}if(!t)for(let i=e.length-1;i>=0;i--){const o=e.get(i);if(o){const e=this.mirror.getId(o.value.parentNode),i=n(o.value);if(-1!==e&&-1!==i){t=o;break}}}if(!t){for(;e.head;)e.removeNode(e.head.value);break}o=t.previous,e.removeNode(t.value),i(t.value)}const r={texts:this.texts.map((t=>({id:this.mirror.getId(t.node),value:t.value}))).filter((t=>this.mirror.has(t.id))),attributes:this.attributes.map((t=>({id:this.mirror.getId(t.node),attributes:t.attributes}))).filter((t=>this.mirror.has(t.id))),removes:this.removes,adds:t};(r.texts.length||r.attributes.length||r.removes.length||r.adds.length)&&(this.texts=[],this.attributes=[],this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(r))},this.processMutation=t=>{if(!dt(t.target))switch(t.type){case"characterData":{const e=t.target.textContent;ht(t.target,this.blockClass,this.blockSelector,this.unblockSelector)||e===t.oldValue||this.texts.push({value:z(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextSelector,this.maskAllText)&&e?this.maskTextFn?this.maskTextFn(e):e.replace(/[\S]/g,"*"):e,node:t.target});break}case"attributes":{const e=t.target;let n=e.getAttribute(t.attributeName);if("value"===t.attributeName&&(n=P({input:e,maskInputSelector:this.maskInputSelector,unmaskInputSelector:this.unmaskInputSelector,maskInputOptions:this.maskInputOptions,tagName:e.tagName,type:e.getAttribute("type"),value:n,maskInputFn:this.maskInputFn})),ht(t.target,this.blockClass,this.blockSelector,this.unblockSelector)||n===t.oldValue)return;let i=this.attributes.find((e=>e.node===t.target));if(i||(i={node:t.target,attributes:{}},this.attributes.push(i)),"type"===t.attributeName&&"INPUT"===t.target.tagName&&"password"===(t.oldValue||"").toLowerCase()&&t.target.setAttribute("rr_is_password","true"),"style"===t.attributeName){const n=this.doc.createElement("span");t.oldValue&&n.setAttribute("style",t.oldValue),void 0!==i.attributes.style&&null!==i.attributes.style||(i.attributes.style={});try{const t=i.attributes.style;for(const i of Array.from(e.style)){const o=e.style.getPropertyValue(i),r=e.style.getPropertyPriority(i);o===n.style.getPropertyValue(i)&&r===n.style.getPropertyPriority(i)||(t[i]=""===r?o:[o,r])}for(const i of Array.from(n.style))""===e.style.getPropertyValue(i)&&(t[i]=!1)}catch(t){console.warn("[rrweb] Error when parsing update to style attribute:",t)}}else{const e=t.target;i.attributes[t.attributeName]=$(this.doc,e,e.tagName,t.attributeName,n,this.maskAllText,this.unmaskTextSelector,this.maskTextFn)}break}case"childList":t.addedNodes.forEach((e=>this.genAdds(e,t.target))),t.removedNodes.forEach((e=>{const n=this.mirror.getId(e),i=O(t.target)?this.mirror.getId(t.target.host):this.mirror.getId(t.target);ht(t.target,this.blockClass,this.blockSelector,this.unblockSelector)||dt(e)||(this.addedSet.has(e)?(Et(this.addedSet,e),this.droppedSet.add(e)):this.addedSet.has(t.target)&&-1===n||pt(t.target,this.mirror)||(this.movedSet.has(e)&&this.movedMap[vt(n,i)]?Et(this.movedSet,e):this.removes.push({parentId:i,id:n,isShadow:!!O(t.target)||void 0})),this.mapRemoves.push(e))}))}},this.genAdds=(t,e)=>{if(!e||!ht(e,this.blockClass,this.blockSelector,this.unblockSelector)){if(Ct(t)){if(dt(t))return;this.movedSet.add(t);let n=null;e&&Ct(e)&&(n=e.__sn.id),n&&(this.movedMap[vt(t.__sn.id,n)]=!0)}else this.addedSet.add(t),this.droppedSet.delete(t);ht(t,this.blockClass,this.blockSelector,this.unblockSelector)||t.childNodes.forEach((t=>this.genAdds(t)))}}}init(t){["mutationCb","blockClass","blockSelector","unblockSelector","maskTextClass","maskTextSelector","unmaskTextSelector","maskInputSelector","unmaskInputSelector","inlineStylesheet","maskAllText","maskInputOptions","maskTextFn","maskInputFn","recordCanvas","inlineImages","slimDOMOptions","doc","mirror","iframeManager","shadowDomManager","canvasManager"].forEach((e=>{this[e]=t[e]}))}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function Et(t,e){t.delete(e),e.childNodes.forEach((e=>Et(t,e)))}function St(t,e,n){const{parentNode:i}=e;if(!i)return!1;const o=n.getId(i);return!!t.some((t=>t.id===o))||St(t,i,n)}function wt(t,e){const{parentNode:n}=e;return!!n&&(!!t.has(n)||wt(t,n))}const Ot=t=>(...e)=>{try{return t(...e)}catch(t){try{t.__rrweb__=!0}catch(t){}throw t}},xt=[];function Pt(t){try{if("composedPath"in t){const e=t.composedPath();if(e.length)return e[0]}else if("path"in t&&t.path.length)return t.path[0]}catch(t){}return t&&t.target}function Tt(t,e){var n,i;const o=new bt;xt.push(o),o.init(t);let r=window.MutationObserver||window.__rrMutationObserver;const s=null===(i=null===(n=null===window||void 0===window?void 0:window.Zone)||void 0===n?void 0:n.__symbol__)||void 0===i?void 0:i.call(n,"MutationObserver");s&&window[s]&&(r=window[s]);const a=new r(Ot((e=>{t.onMutation&&!1===t.onMutation(e)||o.processMutations(e)})));return a.observe(e,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),a}function Mt({mouseInteractionCb:t,doc:e,mirror:n,blockClass:i,blockSelector:o,unblockSelector:r,sampling:s}){if(!1===s.mouseInteraction)return()=>{};const a=!0===s.mouseInteraction||void 0===s.mouseInteraction?{}:s.mouseInteraction,l=[];return Object.keys(Q).filter((t=>Number.isNaN(Number(t))&&!t.endsWith("_Departed")&&!1!==a[t])).forEach((s=>{const a=s.toLowerCase(),c=Ot((e=>s=>{const a=Pt(s);if(ht(a,i,o,r))return;const l=ft(s)?s.changedTouches[0]:s;if(!l)return;const c=n.getId(a),{clientX:u,clientY:h}=l;Ot(t)({type:Q[e],id:c,x:u,y:h})})(s));l.push(it(a,c,e))})),Ot((()=>{l.forEach((t=>t()))}))}function Dt({scrollCb:t,doc:e,mirror:n,blockClass:i,blockSelector:o,unblockSelector:r,sampling:s}){const a=st((s=>{const a=Pt(s);if(!a||ht(a,i,o,r))return;const l=n.getId(a);if(a===e){const n=e.scrollingElement||e.documentElement;Ot(t)({id:l,x:n.scrollLeft,y:n.scrollTop})}else Ot(t)({id:l,x:a.scrollLeft,y:a.scrollTop})}),s.scroll||100);return it("scroll",Ot(a),e)}function Rt(t,e){const n=Object.assign({},t);return e||delete n.userTriggered,n}const At=["INPUT","TEXTAREA","SELECT"],Lt=new WeakMap;function It({inputCb:t,doc:e,mirror:n,blockClass:i,blockSelector:o,unblockSelector:r,ignoreClass:s,ignoreSelector:a,maskInputSelector:l,unmaskInputSelector:c,maskInputOptions:u,maskInputFn:h,sampling:d,userTriggeredOnInput:p}){function f(t){let n=Pt(t);const d=n&&n.tagName,f=t.isTrusted;if("OPTION"===d&&(n=n.parentElement),!n||!d||At.indexOf(d)<0||ht(n,i,o,r))return;let m=n.type;if(n.classList.contains(s)||a&&n.matches(a))return;let _=n.value,y=!1;n.hasAttribute("rr_is_password")&&(m="password"),"radio"===m||"checkbox"===m?y=n.checked:function({tagName:t,type:e,maskInputOptions:n,maskInputSelector:i}){return i||x({maskInputOptions:n,tagName:t,type:e})}({maskInputOptions:u,maskInputSelector:l,tagName:d,type:m})&&(_=P({input:n,maskInputOptions:u,maskInputSelector:l,unmaskInputSelector:c,tagName:d,type:m,value:_,maskInputFn:h})),g(n,Ot(Rt)({text:_,isChecked:y,userTriggered:f},p));const v=n.name;"radio"===m&&v&&y&&e.querySelectorAll(`input[type="radio"][name="${v}"]`).forEach((t=>{t!==n&&g(t,Ot(Rt)({text:t.value,isChecked:!y,userTriggered:!1},p))}))}function g(e,i){const o=Lt.get(e);if(!o||o.text!==i.text||o.isChecked!==i.isChecked){Lt.set(e,i);const o=n.getId(e);t(Object.assign(Object.assign({},i),{id:o}))}}const m=("last"===d.input?["change"]:["input","change"]).map((t=>it(t,Ot(f),e))),_=Object.getOwnPropertyDescriptor(HTMLInputElement.prototype,"value"),y=[[HTMLInputElement.prototype,"value"],[HTMLInputElement.prototype,"checked"],[HTMLSelectElement.prototype,"value"],[HTMLTextAreaElement.prototype,"value"],[HTMLSelectElement.prototype,"selectedIndex"],[HTMLOptionElement.prototype,"selected"]];return _&&_.set&&m.push(...y.map((t=>at(t[0],t[1],{set(){Ot(f)({target:this})}})))),Ot((()=>{m.forEach((t=>t()))}))}function kt(t){return function(t,e){if(Ft("CSSGroupingRule")&&t.parentRule instanceof CSSGroupingRule||Ft("CSSMediaRule")&&t.parentRule instanceof CSSMediaRule||Ft("CSSSupportsRule")&&t.parentRule instanceof CSSSupportsRule||Ft("CSSConditionRule")&&t.parentRule instanceof CSSConditionRule){const n=Array.from(t.parentRule.cssRules).indexOf(t);e.unshift(n)}else{const n=Array.from(t.parentStyleSheet.cssRules).indexOf(t);e.unshift(n)}return e}(t,[])}function Nt(t,e={}){const n=t.doc.defaultView;if(!n)return()=>{};!function(t,e){const{mutationCb:n,mousemoveCb:i,mouseInteractionCb:o,scrollCb:r,viewportResizeCb:s,inputCb:a,mediaInteractionCb:l,styleSheetRuleCb:c,styleDeclarationCb:u,canvasMutationCb:h,fontCb:d}=t;t.mutationCb=(...t)=>{e.mutation&&e.mutation(...t),n(...t)},t.mousemoveCb=(...t)=>{e.mousemove&&e.mousemove(...t),i(...t)},t.mouseInteractionCb=(...t)=>{e.mouseInteraction&&e.mouseInteraction(...t),o(...t)},t.scrollCb=(...t)=>{e.scroll&&e.scroll(...t),r(...t)},t.viewportResizeCb=(...t)=>{e.viewportResize&&e.viewportResize(...t),s(...t)},t.inputCb=(...t)=>{e.input&&e.input(...t),a(...t)},t.mediaInteractionCb=(...t)=>{e.mediaInteaction&&e.mediaInteaction(...t),l(...t)},t.styleSheetRuleCb=(...t)=>{e.styleSheetRule&&e.styleSheetRule(...t),c(...t)},t.styleDeclarationCb=(...t)=>{e.styleDeclaration&&e.styleDeclaration(...t),u(...t)},t.canvasMutationCb=(...t)=>{e.canvasMutation&&e.canvasMutation(...t),h(...t)},t.fontCb=(...t)=>{e.font&&e.font(...t),d(...t)}}(t,e);const i=Tt(t,t.doc),o=function({mousemoveCb:t,sampling:e,doc:n,mirror:i}){if(!1===e.mousemove)return()=>{};const o="number"==typeof e.mousemove?e.mousemove:50,r="number"==typeof e.mousemoveCallback?e.mousemoveCallback:500;let s,a=[];const l=st((e=>{const n=Date.now()-s;Ot(t)(a.map((t=>(t.timeOffset-=n,t))),e),a=[],s=null}),r),c=st((t=>{const e=Pt(t),{clientX:n,clientY:o}=ft(t)?t.changedTouches[0]:t;s||(s=Date.now()),a.push({x:n,y:o,id:i.getId(e),timeOffset:Date.now()-s}),l("undefined"!=typeof DragEvent&&t instanceof DragEvent?J.Drag:t instanceof MouseEvent?J.MouseMove:J.TouchMove)}),o,{trailing:!1}),u=[it("mousemove",Ot(c),n),it("touchmove",Ot(c),n),it("drag",Ot(c),n)];return Ot((()=>{u.forEach((t=>t()))}))}(t),r=Mt(t),s=Dt(t),a=function({viewportResizeCb:t}){let e=-1,n=-1;const i=st((()=>{const i=ct(),o=ut();e===i&&n===o||(Ot(t)({width:Number(o),height:Number(i)}),e=i,n=o)}),200);return it("resize",Ot(i),window)}(t),l=It(t),c=function({mediaInteractionCb:t,blockClass:e,blockSelector:n,unblockSelector:i,mirror:o,sampling:r}){const s=s=>st(Ot((r=>{const a=Pt(r);if(!a||ht(a,e,n,i))return;const{currentTime:l,volume:c,muted:u}=a;t({type:s,id:o.getId(a),currentTime:l,volume:c,muted:u})})),r.media||500),a=[it("play",s(0)),it("pause",s(1)),it("seeked",s(2)),it("volumechange",s(3))];return Ot((()=>{a.forEach((t=>t()))}))}(t),u=function({styleSheetRuleCb:t,mirror:e},{win:n}){if(!n.CSSStyleSheet||!n.CSSStyleSheet.prototype)return()=>{};const i=n.CSSStyleSheet.prototype.insertRule;n.CSSStyleSheet.prototype.insertRule=new Proxy(i,{apply:Ot(((n,i,o)=>{const[r,s]=o,a=e.getId(i.ownerNode);return-1!==a&&t({id:a,adds:[{rule:r,index:s}]}),n.apply(i,o)}))});const o=n.CSSStyleSheet.prototype.deleteRule;n.CSSStyleSheet.prototype.deleteRule=new Proxy(o,{apply:Ot(((n,i,o)=>{const[r]=o,s=e.getId(i.ownerNode);return-1!==s&&t({id:s,removes:[{index:r}]}),n.apply(i,o)}))});const r={};Gt("CSSGroupingRule")?r.CSSGroupingRule=n.CSSGroupingRule:(Gt("CSSMediaRule")&&(r.CSSMediaRule=n.CSSMediaRule),Gt("CSSConditionRule")&&(r.CSSConditionRule=n.CSSConditionRule),Gt("CSSSupportsRule")&&(r.CSSSupportsRule=n.CSSSupportsRule));const s={};return Object.entries(r).forEach((([n,i])=>{s[n]={insertRule:i.prototype.insertRule,deleteRule:i.prototype.deleteRule},i.prototype.insertRule=new Proxy(s[n].insertRule,{apply:Ot(((n,i,o)=>{const[r,s]=o,a=e.getId(i.parentStyleSheet.ownerNode);return-1!==a&&t({id:a,adds:[{rule:r,index:[...kt(i),s||0]}]}),n.apply(i,o)}))}),i.prototype.deleteRule=new Proxy(s[n].deleteRule,{apply:Ot(((n,i,o)=>{const[r]=o,s=e.getId(i.parentStyleSheet.ownerNode);return-1!==s&&t({id:s,removes:[{index:[...kt(i),r]}]}),n.apply(i,o)}))})})),Ot((()=>{n.CSSStyleSheet.prototype.insertRule=i,n.CSSStyleSheet.prototype.deleteRule=o,Object.entries(r).forEach((([t,e])=>{e.prototype.insertRule=s[t].insertRule,e.prototype.deleteRule=s[t].deleteRule}))}))}(t,{win:n}),h=function({styleDeclarationCb:t,mirror:e},{win:n}){const i=n.CSSStyleDeclaration.prototype.setProperty;n.CSSStyleDeclaration.prototype.setProperty=new Proxy(i,{apply:Ot(((n,i,o)=>{var r,s;const[a,l,c]=o,u=e.getId(null===(s=null===(r=i.parentRule)||void 0===r?void 0:r.parentStyleSheet)||void 0===s?void 0:s.ownerNode);return-1!==u&&t({id:u,set:{property:a,value:l,priority:c},index:kt(i.parentRule)}),n.apply(i,o)}))});const o=n.CSSStyleDeclaration.prototype.removeProperty;return n.CSSStyleDeclaration.prototype.removeProperty=new Proxy(o,{apply:Ot(((n,i,o)=>{var r,s;const[a]=o,l=e.getId(null===(s=null===(r=i.parentRule)||void 0===r?void 0:r.parentStyleSheet)||void 0===s?void 0:s.ownerNode);return-1!==l&&t({id:l,remove:{property:a},index:kt(i.parentRule)}),n.apply(i,o)}))}),Ot((()=>{n.CSSStyleDeclaration.prototype.setProperty=i,n.CSSStyleDeclaration.prototype.removeProperty=o}))}(t,{win:n}),d=t.collectFonts?function({fontCb:t,doc:e}){const n=e.defaultView;if(!n)return()=>{};const i=[],o=new WeakMap,r=n.FontFace;n.FontFace=function(t,e,n){const i=new r(t,e,n);return o.set(i,{family:t,buffer:"string"!=typeof e,descriptors:n,fontSource:"string"==typeof e?e:JSON.stringify(Array.from(new Uint8Array(e)))}),i};const s=lt(e.fonts,"add",(function(e){return function(n){return setTimeout((()=>{const e=o.get(n);e&&(t(e),o.delete(n))}),0),e.apply(this,[n])}}));return i.push((()=>{n.FontFace=r})),i.push(s),Ot((()=>{i.forEach((t=>t()))}))}(t):()=>{},p=[];for(const e of t.plugins)p.push(e.observer(e.callback,n,e.options));return Ot((()=>{xt.forEach((t=>t.reset())),i.disconnect(),o(),r(),s(),a(),l(),c();try{u(),h()}catch(t){}d(),p.forEach((t=>t()))}))}function Ft(t){return void 0!==window[t]}function Gt(t){return Boolean(void 0!==window[t]&&window[t].prototype&&"insertRule"in window[t].prototype&&"deleteRule"in window[t].prototype)}class Bt{constructor(t){this.iframes=new WeakMap,this.mutationCb=t.mutationCb}addIframe(t){this.iframes.set(t,!0)}addLoadListener(t){this.loadListener=t}attachIframe(t,e){var n;this.mutationCb({adds:[{parentId:t.__sn.id,nextId:null,node:e}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),null===(n=this.loadListener)||void 0===n||n.call(this,t)}}class jt{constructor(t){this.restorePatches=[],this.mutationCb=t.mutationCb,this.scrollCb=t.scrollCb,this.bypassOptions=t.bypassOptions,this.mirror=t.mirror;const e=this;this.restorePatches.push(lt(HTMLElement.prototype,"attachShadow",(function(t){return function(){const n=t.apply(this,arguments);return this.shadowRoot&&e.addShadowRoot(this.shadowRoot,this.ownerDocument),n}})))}addShadowRoot(t,e){Tt(Object.assign(Object.assign({},this.bypassOptions),{doc:e,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this}),t),Dt(Object.assign(Object.assign({},this.bypassOptions),{scrollCb:this.scrollCb,doc:t,mirror:this.mirror}))}observeAttachShadow(t){if(t.contentWindow){const e=this;this.restorePatches.push(lt(t.contentWindow.HTMLElement.prototype,"attachShadow",(function(n){return function(){const i=n.apply(this,arguments);return this.shadowRoot&&e.addShadowRoot(this.shadowRoot,t.contentDocument),i}})))}}reset(){this.restorePatches.forEach((t=>t()))}}for(var Ut="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Vt="undefined"==typeof Uint8Array?[]:new Uint8Array(256),Wt=0;Wt<64;Wt++)Vt[Ut.charCodeAt(Wt)]=Wt;const Ht=new Map;const $t=(t,e,n)=>{if(!t||!Yt(t,e)&&"object"!=typeof t)return;const i=function(t,e){let n=Ht.get(t);return n||(n=new Map,Ht.set(t,n)),n.has(e)||n.set(e,[]),n.get(e)}(n,t.constructor.name);let o=i.indexOf(t);return-1===o&&(o=i.length,i.push(t)),o};function zt(t,e,n){if(t instanceof Array)return t.map((t=>zt(t,e,n)));if(null===t)return t;if(t instanceof Float32Array||t instanceof Float64Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Uint8Array||t instanceof Uint16Array||t instanceof Int16Array||t instanceof Int8Array||t instanceof Uint8ClampedArray){return{rr_type:t.constructor.name,args:[Object.values(t)]}}if(t instanceof ArrayBuffer){const e=t.constructor.name,n=function(t){var e,n=new Uint8Array(t),i=n.length,o="";for(e=0;e<i;e+=3)o+=Ut[n[e]>>2],o+=Ut[(3&n[e])<<4|n[e+1]>>4],o+=Ut[(15&n[e+1])<<2|n[e+2]>>6],o+=Ut[63&n[e+2]];return i%3==2?o=o.substring(0,o.length-1)+"=":i%3==1&&(o=o.substring(0,o.length-2)+"=="),o}(t);return{rr_type:e,base64:n}}if(t instanceof DataView){return{rr_type:t.constructor.name,args:[zt(t.buffer,e,n),t.byteOffset,t.byteLength]}}if(t instanceof HTMLImageElement){const e=t.constructor.name,{src:n}=t;return{rr_type:e,src:n}}if(t instanceof ImageData){return{rr_type:t.constructor.name,args:[zt(t.data,e,n),t.width,t.height]}}if(Yt(t,e)||"object"==typeof t){return{rr_type:t.constructor.name,index:$t(t,e,n)}}return t}const Kt=(t,e,n)=>[...t].map((t=>zt(t,e,n))),Yt=(t,e)=>{const n=["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject","WebGLVertexArrayObjectOES"].filter((t=>"function"==typeof e[t]));return Boolean(n.find((n=>t instanceof e[n])))};function Xt(t,e,n,i,o,r,s,a){const l=[],c=Object.getOwnPropertyNames(t);for(const u of c)try{if("function"!=typeof t[u])continue;const c=lt(t,u,(function(l){return function(...c){const h=l.apply(this,c);if($t(h,a,t),!ht(this.canvas,i,r,o)){s.getId(this.canvas);const i=Kt([...c],a,t),o={type:e,property:u,args:i};n(this.canvas,o)}return h}}));l.push(c)}catch(i){const o=at(t,u,{set(t){n(this.canvas,{type:e,property:u,args:[t],setter:!0})}});l.push(o)}return l}class qt{reset(){this.pendingCanvasMutations.clear(),this.resetObservers&&this.resetObservers()}freeze(){this.frozen=!0}unfreeze(){this.frozen=!1}lock(){this.locked=!0}unlock(){this.locked=!1}constructor(t){this.pendingCanvasMutations=new Map,this.rafStamps={latestId:0,invokeId:null},this.frozen=!1,this.locked=!1,this.processMutation=function(t,e){!(this.rafStamps.invokeId&&this.rafStamps.latestId!==this.rafStamps.invokeId)&&this.rafStamps.invokeId||(this.rafStamps.invokeId=this.rafStamps.latestId),this.pendingCanvasMutations.has(t)||this.pendingCanvasMutations.set(t,[]),this.pendingCanvasMutations.get(t).push(e)},this.mutationCb=t.mutationCb,this.mirror=t.mirror,!0===t.recordCanvas&&this.initCanvasMutationObserver(t.win,t.blockClass,t.blockSelector,t.unblockSelector)}initCanvasMutationObserver(t,e,n,i){this.startRAFTimestamping(),this.startPendingCanvasMutationFlusher();const o=function(t,e,n,i){const o=[];try{const r=lt(t.HTMLCanvasElement.prototype,"getContext",(function(t){return function(o,...r){return ht(this,e,n,i)||"__context"in this||(this.__context=o),t.apply(this,[o,...r])}}));o.push(r)}catch(t){console.error("failed to patch HTMLCanvasElement.prototype.getContext")}return()=>{o.forEach((t=>t()))}}(t,e,i,n),r=function(t,e,n,i,o,r){const s=[],a=Object.getOwnPropertyNames(e.CanvasRenderingContext2D.prototype);for(const r of a)try{if("function"!=typeof e.CanvasRenderingContext2D.prototype[r])continue;const a=lt(e.CanvasRenderingContext2D.prototype,r,(function(e){return function(...s){return ht(this.canvas,n,o,i)||setTimeout((()=>{const e=[...s];if("drawImage"===r&&e[0]&&e[0]instanceof HTMLCanvasElement){const t=e[0],n=t.getContext("2d");let i=null==n?void 0:n.getImageData(0,0,t.width,t.height),o=null==i?void 0:i.data;e[0]=JSON.stringify(o)}t(this.canvas,{type:tt["2D"],property:r,args:e})}),0),e.apply(this,s)}}));s.push(a)}catch(n){const i=at(e.CanvasRenderingContext2D.prototype,r,{set(e){t(this.canvas,{type:tt["2D"],property:r,args:[e],setter:!0})}});s.push(i)}return()=>{s.forEach((t=>t()))}}(this.processMutation.bind(this),t,e,i,n,this.mirror),s=function(t,e,n,i,o,r){const s=[];return s.push(...Xt(e.WebGLRenderingContext.prototype,tt.WebGL,t,n,i,o,r,e)),void 0!==e.WebGL2RenderingContext&&s.push(...Xt(e.WebGL2RenderingContext.prototype,tt.WebGL2,t,n,i,o,r,e)),()=>{s.forEach((t=>t()))}}(this.processMutation.bind(this),t,e,i,n,this.mirror);this.resetObservers=()=>{o(),r(),s()}}startPendingCanvasMutationFlusher(){requestAnimationFrame((()=>this.flushPendingCanvasMutations()))}startRAFTimestamping(){const t=e=>{this.rafStamps.latestId=e,requestAnimationFrame(t)};requestAnimationFrame(t)}flushPendingCanvasMutations(){this.pendingCanvasMutations.forEach(((t,e)=>{const n=this.mirror.getId(e);this.flushPendingCanvasMutationFor(e,n)})),requestAnimationFrame((()=>this.flushPendingCanvasMutations()))}flushPendingCanvasMutationFor(t,e){if(this.frozen||this.locked)return;const n=this.pendingCanvasMutations.get(t);if(!n||-1===e)return;const i=n.map((t=>{const e=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(n[i[o]]=t[i[o]])}return n}(t,["type"]);return e})),{type:o}=n[0];this.mutationCb({id:e,type:o,commands:i}),this.pendingCanvasMutations.delete(t)}}function Zt(t){return Object.assign(Object.assign({},t),{timestamp:Date.now()})}let Jt,Qt;const te={map:{},getId:t=>t&&t.__sn?t.__sn.id:-1,getNode(t){return this.map[t]||null},removeNodeFromMap(t){const e=t.__sn&&t.__sn.id;delete this.map[e],t.childNodes&&t.childNodes.forEach((t=>this.removeNodeFromMap(t)))},has(t){return this.map.hasOwnProperty(t)},reset(){this.map={}}};function ee(t={}){const{emit:e,checkoutEveryNms:n,checkoutEveryNth:i,blockClass:o="rr-block",blockSelector:r=null,unblockSelector:s=null,ignoreClass:a="rr-ignore",ignoreSelector:l=null,maskTextClass:c="rr-mask",maskTextSelector:u=null,maskInputSelector:h=null,unmaskTextSelector:d=null,unmaskInputSelector:p=null,inlineStylesheet:f=!0,maskAllText:g=!1,maskAllInputs:m,maskInputOptions:_,slimDOMOptions:y,maskInputFn:v,maskTextFn:C,hooks:b,packFn:E,sampling:S={},mousemoveWait:w,recordCanvas:O=!1,userTriggeredOnInput:x=!1,collectFonts:P=!1,inlineImages:T=!1,plugins:M,keepIframeSrcFn:D=(()=>!1),onMutation:R}=t;if(!e)throw new Error("emit function is required");void 0!==w&&void 0===S.mousemove&&(S.mousemove=w);const A=!0===m?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:void 0!==_?_:{},L=!0===y||"all"===y?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:"all"===y,headMetaDescKeywords:"all"===y}:y||{};let I;!function(t=window){"NodeList"in t&&!t.NodeList.prototype.forEach&&(t.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in t&&!t.DOMTokenList.prototype.forEach&&(t.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=function(t){if(!(0 in arguments))throw new TypeError("1 argument is required");do{if(this===t)return!0}while(t=t&&t.parentNode);return!1})}();let k=0;Jt=(t,o)=>{var r;if(!(null===(r=xt[0])||void 0===r?void 0:r.isFrozen())||t.type===Z.FullSnapshot||t.type===Z.IncrementalSnapshot&&t.data.source===J.Mutation||xt.forEach((t=>t.unfreeze())),e((t=>{for(const e of M||[])e.eventProcessor&&(t=e.eventProcessor(t));return E&&(t=E(t)),t})(t),o),t.type===Z.FullSnapshot)I=t,k=0;else if(t.type===Z.IncrementalSnapshot){if(t.data.source===J.Mutation&&t.data.isAttachIframe)return;k++;const e=i&&k>=i,o=n&&t.timestamp-I.timestamp>n;(e||o)&&Qt(!0)}};const N=t=>{Jt(Zt({type:Z.IncrementalSnapshot,data:Object.assign({source:J.Mutation},t)}))},F=t=>Jt(Zt({type:Z.IncrementalSnapshot,data:Object.assign({source:J.Scroll},t)})),G=t=>Jt(Zt({type:Z.IncrementalSnapshot,data:Object.assign({source:J.CanvasMutation},t)})),B=new Bt({mutationCb:N}),j=new qt({recordCanvas:O,mutationCb:G,win:window,blockClass:o,blockSelector:r,unblockSelector:s,mirror:te}),U=new jt({mutationCb:N,scrollCb:F,bypassOptions:{onMutation:R,blockClass:o,blockSelector:r,unblockSelector:s,maskTextClass:c,maskTextSelector:u,unmaskTextSelector:d,maskInputSelector:h,unmaskInputSelector:p,inlineStylesheet:f,maskAllText:g,maskInputOptions:A,maskTextFn:C,maskInputFn:v,recordCanvas:O,inlineImages:T,sampling:S,slimDOMOptions:L,iframeManager:B,canvasManager:j},mirror:te});Qt=(t=!1)=>{var e,n,i,a;Jt(Zt({type:Z.Meta,data:{href:window.location.href,width:ut(),height:ct()}}),t),xt.forEach((t=>t.lock()));const[l,m]=function(t,e){const{blockClass:n="rr-block",blockSelector:i=null,unblockSelector:o=null,maskTextClass:r="rr-mask",maskTextSelector:s=null,unmaskTextSelector:a=null,inlineStylesheet:l=!0,inlineImages:c=!1,recordCanvas:u=!1,maskInputSelector:h=null,unmaskInputSelector:d=null,maskAllText:p=!1,maskAllInputs:f=!1,maskTextFn:g,maskInputFn:m,slimDOM:_=!1,dataURLOptions:y,preserveWhiteSpace:v,onSerialize:C,onIframeLoad:b,iframeLoadTimeout:E,keepIframeSrcFn:S=(()=>!1)}=e||{},w={};return[X(t,{doc:t,map:w,blockClass:n,blockSelector:i,unblockSelector:o,maskTextClass:r,maskTextSelector:s,unmaskTextSelector:a,skipChild:!1,inlineStylesheet:l,maskInputSelector:h,unmaskInputSelector:d,maskAllText:p,maskInputOptions:!0===f?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:!1===f?{}:f,maskTextFn:g,maskInputFn:m,slimDOMOptions:!0===_||"all"===_?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:"all"===_,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:!1===_?{}:_,dataURLOptions:y,inlineImages:c,recordCanvas:u,preserveWhiteSpace:v,onSerialize:C,onIframeLoad:b,iframeLoadTimeout:E,keepIframeSrcFn:S}),w]}(document,{blockClass:o,blockSelector:r,unblockSelector:s,maskTextClass:c,maskTextSelector:u,unmaskTextSelector:d,maskInputSelector:h,unmaskInputSelector:p,inlineStylesheet:f,maskAllText:g,maskAllInputs:A,maskTextFn:C,slimDOM:L,recordCanvas:O,inlineImages:T,onSerialize:t=>{gt(t)&&B.addIframe(t),mt(t)&&U.addShadowRoot(t.shadowRoot,document)},onIframeLoad:(t,e)=>{B.attachIframe(t,e),U.observeAttachShadow(t)},keepIframeSrcFn:D});if(!l)return console.warn("Failed to snapshot the document");te.map=m,Jt(Zt({type:Z.FullSnapshot,data:{node:l,initialOffset:{left:void 0!==window.pageXOffset?window.pageXOffset:(null===document||void 0===document?void 0:document.documentElement.scrollLeft)||(null===(n=null===(e=null===document||void 0===document?void 0:document.body)||void 0===e?void 0:e.parentElement)||void 0===n?void 0:n.scrollLeft)||(null===document||void 0===document?void 0:document.body.scrollLeft)||0,top:void 0!==window.pageYOffset?window.pageYOffset:(null===document||void 0===document?void 0:document.documentElement.scrollTop)||(null===(a=null===(i=null===document||void 0===document?void 0:document.body)||void 0===i?void 0:i.parentElement)||void 0===a?void 0:a.scrollTop)||(null===document||void 0===document?void 0:document.body.scrollTop)||0}}})),xt.forEach((t=>t.unlock()))};try{const t=[];t.push(it("DOMContentLoaded",(()=>{Jt(Zt({type:Z.DomContentLoaded,data:{}}))})));const e=t=>{var e;return Ot(Nt)({onMutation:R,mutationCb:N,mousemoveCb:(t,e)=>Jt(Zt({type:Z.IncrementalSnapshot,data:{source:e,positions:t}})),mouseInteractionCb:t=>Jt(Zt({type:Z.IncrementalSnapshot,data:Object.assign({source:J.MouseInteraction},t)})),scrollCb:F,viewportResizeCb:t=>Jt(Zt({type:Z.IncrementalSnapshot,data:Object.assign({source:J.ViewportResize},t)})),inputCb:t=>Jt(Zt({type:Z.IncrementalSnapshot,data:Object.assign({source:J.Input},t)})),mediaInteractionCb:t=>Jt(Zt({type:Z.IncrementalSnapshot,data:Object.assign({source:J.MediaInteraction},t)})),styleSheetRuleCb:t=>Jt(Zt({type:Z.IncrementalSnapshot,data:Object.assign({source:J.StyleSheetRule},t)})),styleDeclarationCb:t=>Jt(Zt({type:Z.IncrementalSnapshot,data:Object.assign({source:J.StyleDeclaration},t)})),canvasMutationCb:G,fontCb:t=>Jt(Zt({type:Z.IncrementalSnapshot,data:Object.assign({source:J.Font},t)})),blockClass:o,ignoreClass:a,ignoreSelector:l,maskTextClass:c,maskTextSelector:u,unmaskTextSelector:d,maskInputSelector:h,unmaskInputSelector:p,maskInputOptions:A,inlineStylesheet:f,sampling:S,recordCanvas:O,inlineImages:T,userTriggeredOnInput:x,collectFonts:P,doc:t,maskAllText:g,maskInputFn:v,maskTextFn:C,blockSelector:r,unblockSelector:s,slimDOMOptions:L,mirror:te,iframeManager:B,shadowDomManager:U,canvasManager:j,plugins:(null===(e=null==M?void 0:M.filter((t=>t.observer)))||void 0===e?void 0:e.map((t=>({observer:t.observer,options:t.options,callback:e=>Jt(Zt({type:Z.Plugin,data:{plugin:t.name,payload:e}}))}))))||[]},b)};B.addLoadListener((n=>{try{t.push(e(n.contentDocument))}catch(t){console.warn(t)}}));const n=()=>{Qt(),t.push(e(document))};return"interactive"===document.readyState||"complete"===document.readyState?n():t.push(it("load",(()=>{Jt(Zt({type:Z.Load,data:{}})),n()}),window)),()=>{t.forEach((t=>t()))}}catch(t){console.warn(t)}}ee.addCustomEvent=(t,e)=>{if(!Jt)throw new Error("please add custom event after start recording");Jt(Zt({type:Z.Custom,data:{tag:t,payload:e}}))},ee.freezePage=()=>{xt.forEach((t=>t.freeze()))},ee.takeFullSnapshot=t=>{if(!Qt)throw new Error("please take full snapshot after start recording");Qt(t)},ee.mirror=te;const ne=["name","type","startTime","transferSize","duration"];function ie(t){return function(e){return ne.every((n=>t[n]===e[n]))}}function oe(t){const e=new PerformanceObserver((e=>{const n=function(t,e){const[n,i,o]=t.reduce(((t,e)=>("navigation"===e.entryType?t[0].push(e):"largest-contentful-paint"===e.entryType?t[1].push(e):t[2].push(e),t)),[[],[],[]]),r=[],s=[];let a=i.length?i[i.length-1]:void 0;return e.forEach((t=>{if("largest-contentful-paint"!==t.entryType)if("navigation"!==t.entryType)r.push(t);else{const e=t;t.duration>0&&!n.find(ie(e))&&!s.find(ie(e))&&s.push(e)}else(!a||a.startTime<t.startTime)&&(a=t)})),[...a?[a]:[],...n,...o,...r,...s].sort(((t,e)=>t.startTime-e.startTime))}(t.performanceEvents,e.getEntries());t.performanceEvents=n}));return["element","event","first-input","largest-contentful-paint","layout-shift","longtask","navigation","paint","resource"].forEach((t=>{try{e.observe({type:t,buffered:!0})}catch(t){}})),e}const re='/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */\nfunction t(t){let e=t.length;for(;--e>=0;)t[e]=0}const e=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),a=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),i=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),n=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=new Array(576);t(s);const r=new Array(60);t(r);const o=new Array(512);t(o);const l=new Array(256);t(l);const h=new Array(29);t(h);const d=new Array(30);function _(t,e,a,i,n){this.static_tree=t,this.extra_bits=e,this.extra_base=a,this.elems=i,this.max_length=n,this.has_stree=t&&t.length}let f,c,u;function w(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}t(d);const m=t=>t<256?o[t]:o[256+(t>>>7)],b=(t,e)=>{t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255},g=(t,e,a)=>{t.bi_valid>16-a?(t.bi_buf|=e<<t.bi_valid&65535,b(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=a-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=a)},p=(t,e,a)=>{g(t,a[2*e],a[2*e+1])},k=(t,e)=>{let a=0;do{a|=1&t,t>>>=1,a<<=1}while(--e>0);return a>>>1},v=(t,e,a)=>{const i=new Array(16);let n,s,r=0;for(n=1;n<=15;n++)r=r+a[n-1]<<1,i[n]=r;for(s=0;s<=e;s++){let e=t[2*s+1];0!==e&&(t[2*s]=k(i[e]++,e))}},y=t=>{let e;for(e=0;e<286;e++)t.dyn_ltree[2*e]=0;for(e=0;e<30;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.sym_next=t.matches=0},x=t=>{t.bi_valid>8?b(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},z=(t,e,a,i)=>{const n=2*e,s=2*a;return t[n]<t[s]||t[n]===t[s]&&i[e]<=i[a]},A=(t,e,a)=>{const i=t.heap[a];let n=a<<1;for(;n<=t.heap_len&&(n<t.heap_len&&z(e,t.heap[n+1],t.heap[n],t.depth)&&n++,!z(e,i,t.heap[n],t.depth));)t.heap[a]=t.heap[n],a=n,n<<=1;t.heap[a]=i},E=(t,i,n)=>{let s,r,o,_,f=0;if(0!==t.sym_next)do{s=255&t.pending_buf[t.sym_buf+f++],s+=(255&t.pending_buf[t.sym_buf+f++])<<8,r=t.pending_buf[t.sym_buf+f++],0===s?p(t,r,i):(o=l[r],p(t,o+256+1,i),_=e[o],0!==_&&(r-=h[o],g(t,r,_)),s--,o=m(s),p(t,o,n),_=a[o],0!==_&&(s-=d[o],g(t,s,_)))}while(f<t.sym_next);p(t,256,i)},R=(t,e)=>{const a=e.dyn_tree,i=e.stat_desc.static_tree,n=e.stat_desc.has_stree,s=e.stat_desc.elems;let r,o,l,h=-1;for(t.heap_len=0,t.heap_max=573,r=0;r<s;r++)0!==a[2*r]?(t.heap[++t.heap_len]=h=r,t.depth[r]=0):a[2*r+1]=0;for(;t.heap_len<2;)l=t.heap[++t.heap_len]=h<2?++h:0,a[2*l]=1,t.depth[l]=0,t.opt_len--,n&&(t.static_len-=i[2*l+1]);for(e.max_code=h,r=t.heap_len>>1;r>=1;r--)A(t,a,r);l=s;do{r=t.heap[1],t.heap[1]=t.heap[t.heap_len--],A(t,a,1),o=t.heap[1],t.heap[--t.heap_max]=r,t.heap[--t.heap_max]=o,a[2*l]=a[2*r]+a[2*o],t.depth[l]=(t.depth[r]>=t.depth[o]?t.depth[r]:t.depth[o])+1,a[2*r+1]=a[2*o+1]=l,t.heap[1]=l++,A(t,a,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],((t,e)=>{const a=e.dyn_tree,i=e.max_code,n=e.stat_desc.static_tree,s=e.stat_desc.has_stree,r=e.stat_desc.extra_bits,o=e.stat_desc.extra_base,l=e.stat_desc.max_length;let h,d,_,f,c,u,w=0;for(f=0;f<=15;f++)t.bl_count[f]=0;for(a[2*t.heap[t.heap_max]+1]=0,h=t.heap_max+1;h<573;h++)d=t.heap[h],f=a[2*a[2*d+1]+1]+1,f>l&&(f=l,w++),a[2*d+1]=f,d>i||(t.bl_count[f]++,c=0,d>=o&&(c=r[d-o]),u=a[2*d],t.opt_len+=u*(f+c),s&&(t.static_len+=u*(n[2*d+1]+c)));if(0!==w){do{for(f=l-1;0===t.bl_count[f];)f--;t.bl_count[f]--,t.bl_count[f+1]+=2,t.bl_count[l]--,w-=2}while(w>0);for(f=l;0!==f;f--)for(d=t.bl_count[f];0!==d;)_=t.heap[--h],_>i||(a[2*_+1]!==f&&(t.opt_len+=(f-a[2*_+1])*a[2*_],a[2*_+1]=f),d--)}})(t,e),v(a,h,t.bl_count)},Z=(t,e,a)=>{let i,n,s=-1,r=e[1],o=0,l=7,h=4;for(0===r&&(l=138,h=3),e[2*(a+1)+1]=65535,i=0;i<=a;i++)n=r,r=e[2*(i+1)+1],++o<l&&n===r||(o<h?t.bl_tree[2*n]+=o:0!==n?(n!==s&&t.bl_tree[2*n]++,t.bl_tree[32]++):o<=10?t.bl_tree[34]++:t.bl_tree[36]++,o=0,s=n,0===r?(l=138,h=3):n===r?(l=6,h=3):(l=7,h=4))},U=(t,e,a)=>{let i,n,s=-1,r=e[1],o=0,l=7,h=4;for(0===r&&(l=138,h=3),i=0;i<=a;i++)if(n=r,r=e[2*(i+1)+1],!(++o<l&&n===r)){if(o<h)do{p(t,n,t.bl_tree)}while(0!=--o);else 0!==n?(n!==s&&(p(t,n,t.bl_tree),o--),p(t,16,t.bl_tree),g(t,o-3,2)):o<=10?(p(t,17,t.bl_tree),g(t,o-3,3)):(p(t,18,t.bl_tree),g(t,o-11,7));o=0,s=n,0===r?(l=138,h=3):n===r?(l=6,h=3):(l=7,h=4)}};let S=!1;const D=(t,e,a,i)=>{g(t,0+(i?1:0),3),x(t),b(t,a),b(t,~a),a&&t.pending_buf.set(t.window.subarray(e,e+a),t.pending),t.pending+=a};var T=(t,e,a,i)=>{let o,l,h=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=(t=>{let e,a=4093624447;for(e=0;e<=31;e++,a>>>=1)if(1&a&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<256;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0})(t)),R(t,t.l_desc),R(t,t.d_desc),h=(t=>{let e;for(Z(t,t.dyn_ltree,t.l_desc.max_code),Z(t,t.dyn_dtree,t.d_desc.max_code),R(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*n[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e})(t),o=t.opt_len+3+7>>>3,l=t.static_len+3+7>>>3,l<=o&&(o=l)):o=l=a+5,a+4<=o&&-1!==e?D(t,e,a,i):4===t.strategy||l===o?(g(t,2+(i?1:0),3),E(t,s,r)):(g(t,4+(i?1:0),3),((t,e,a,i)=>{let s;for(g(t,e-257,5),g(t,a-1,5),g(t,i-4,4),s=0;s<i;s++)g(t,t.bl_tree[2*n[s]+1],3);U(t,t.dyn_ltree,e-1),U(t,t.dyn_dtree,a-1)})(t,t.l_desc.max_code+1,t.d_desc.max_code+1,h+1),E(t,t.dyn_ltree,t.dyn_dtree)),y(t),i&&x(t)},O={_tr_init:t=>{S||((()=>{let t,n,w,m,b;const g=new Array(16);for(w=0,m=0;m<28;m++)for(h[m]=w,t=0;t<1<<e[m];t++)l[w++]=m;for(l[w-1]=m,b=0,m=0;m<16;m++)for(d[m]=b,t=0;t<1<<a[m];t++)o[b++]=m;for(b>>=7;m<30;m++)for(d[m]=b<<7,t=0;t<1<<a[m]-7;t++)o[256+b++]=m;for(n=0;n<=15;n++)g[n]=0;for(t=0;t<=143;)s[2*t+1]=8,t++,g[8]++;for(;t<=255;)s[2*t+1]=9,t++,g[9]++;for(;t<=279;)s[2*t+1]=7,t++,g[7]++;for(;t<=287;)s[2*t+1]=8,t++,g[8]++;for(v(s,287,g),t=0;t<30;t++)r[2*t+1]=5,r[2*t]=k(t,5);f=new _(s,e,257,286,15),c=new _(r,a,0,30,15),u=new _(new Array(0),i,0,19,7)})(),S=!0),t.l_desc=new w(t.dyn_ltree,f),t.d_desc=new w(t.dyn_dtree,c),t.bl_desc=new w(t.bl_tree,u),t.bi_buf=0,t.bi_valid=0,y(t)},_tr_stored_block:D,_tr_flush_block:T,_tr_tally:(t,e,a)=>(t.pending_buf[t.sym_buf+t.sym_next++]=e,t.pending_buf[t.sym_buf+t.sym_next++]=e>>8,t.pending_buf[t.sym_buf+t.sym_next++]=a,0===e?t.dyn_ltree[2*a]++:(t.matches++,e--,t.dyn_ltree[2*(l[a]+256+1)]++,t.dyn_dtree[2*m(e)]++),t.sym_next===t.sym_end),_tr_align:t=>{g(t,2,3),p(t,256,s),(t=>{16===t.bi_valid?(b(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)})(t)}};var F=(t,e,a,i)=>{let n=65535&t|0,s=t>>>16&65535|0,r=0;for(;0!==a;){r=a>2e3?2e3:a,a-=r;do{n=n+e[i++]|0,s=s+n|0}while(--r);n%=65521,s%=65521}return n|s<<16|0};const L=new Uint32Array((()=>{let t,e=[];for(var a=0;a<256;a++){t=a;for(var i=0;i<8;i++)t=1&t?3988292384^t>>>1:t>>>1;e[a]=t}return e})());var N=(t,e,a,i)=>{const n=L,s=i+a;t^=-1;for(let a=i;a<s;a++)t=t>>>8^n[255&(t^e[a])];return-1^t},I={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},B={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:C,_tr_stored_block:H,_tr_flush_block:M,_tr_tally:j,_tr_align:K}=O,{Z_NO_FLUSH:P,Z_PARTIAL_FLUSH:Y,Z_FULL_FLUSH:G,Z_FINISH:X,Z_BLOCK:W,Z_OK:q,Z_STREAM_END:J,Z_STREAM_ERROR:Q,Z_DATA_ERROR:V,Z_BUF_ERROR:$,Z_DEFAULT_COMPRESSION:tt,Z_FILTERED:et,Z_HUFFMAN_ONLY:at,Z_RLE:it,Z_FIXED:nt,Z_DEFAULT_STRATEGY:st,Z_UNKNOWN:rt,Z_DEFLATED:ot}=B,lt=(t,e)=>(t.msg=I[e],e),ht=t=>2*t-(t>4?9:0),dt=t=>{let e=t.length;for(;--e>=0;)t[e]=0},_t=t=>{let e,a,i,n=t.w_size;e=t.hash_size,i=e;do{a=t.head[--i],t.head[i]=a>=n?a-n:0}while(--e);e=n,i=e;do{a=t.prev[--i],t.prev[i]=a>=n?a-n:0}while(--e)};let ft=(t,e,a)=>(e<<t.hash_shift^a)&t.hash_mask;const ct=t=>{const e=t.state;let a=e.pending;a>t.avail_out&&(a=t.avail_out),0!==a&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+a),t.next_out),t.next_out+=a,e.pending_out+=a,t.total_out+=a,t.avail_out-=a,e.pending-=a,0===e.pending&&(e.pending_out=0))},ut=(t,e)=>{M(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,ct(t.strm)},wt=(t,e)=>{t.pending_buf[t.pending++]=e},mt=(t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e},bt=(t,e,a,i)=>{let n=t.avail_in;return n>i&&(n=i),0===n?0:(t.avail_in-=n,e.set(t.input.subarray(t.next_in,t.next_in+n),a),1===t.state.wrap?t.adler=F(t.adler,e,n,a):2===t.state.wrap&&(t.adler=N(t.adler,e,n,a)),t.next_in+=n,t.total_in+=n,n)},gt=(t,e)=>{let a,i,n=t.max_chain_length,s=t.strstart,r=t.prev_length,o=t.nice_match;const l=t.strstart>t.w_size-262?t.strstart-(t.w_size-262):0,h=t.window,d=t.w_mask,_=t.prev,f=t.strstart+258;let c=h[s+r-1],u=h[s+r];t.prev_length>=t.good_match&&(n>>=2),o>t.lookahead&&(o=t.lookahead);do{if(a=e,h[a+r]===u&&h[a+r-1]===c&&h[a]===h[s]&&h[++a]===h[s+1]){s+=2,a++;do{}while(h[++s]===h[++a]&&h[++s]===h[++a]&&h[++s]===h[++a]&&h[++s]===h[++a]&&h[++s]===h[++a]&&h[++s]===h[++a]&&h[++s]===h[++a]&&h[++s]===h[++a]&&s<f);if(i=258-(f-s),s=f-258,i>r){if(t.match_start=e,r=i,i>=o)break;c=h[s+r-1],u=h[s+r]}}}while((e=_[e&d])>l&&0!=--n);return r<=t.lookahead?r:t.lookahead},pt=t=>{const e=t.w_size;let a,i,n;do{if(i=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-262)&&(t.window.set(t.window.subarray(e,e+e-i),0),t.match_start-=e,t.strstart-=e,t.block_start-=e,t.insert>t.strstart&&(t.insert=t.strstart),_t(t),i+=e),0===t.strm.avail_in)break;if(a=bt(t.strm,t.window,t.strstart+t.lookahead,i),t.lookahead+=a,t.lookahead+t.insert>=3)for(n=t.strstart-t.insert,t.ins_h=t.window[n],t.ins_h=ft(t,t.ins_h,t.window[n+1]);t.insert&&(t.ins_h=ft(t,t.ins_h,t.window[n+3-1]),t.prev[n&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=n,n++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<262&&0!==t.strm.avail_in)},kt=(t,e)=>{let a,i,n,s=t.pending_buf_size-5>t.w_size?t.w_size:t.pending_buf_size-5,r=0,o=t.strm.avail_in;do{if(a=65535,n=t.bi_valid+42>>3,t.strm.avail_out<n)break;if(n=t.strm.avail_out-n,i=t.strstart-t.block_start,a>i+t.strm.avail_in&&(a=i+t.strm.avail_in),a>n&&(a=n),a<s&&(0===a&&e!==X||e===P||a!==i+t.strm.avail_in))break;r=e===X&&a===i+t.strm.avail_in?1:0,H(t,0,0,r),t.pending_buf[t.pending-4]=a,t.pending_buf[t.pending-3]=a>>8,t.pending_buf[t.pending-2]=~a,t.pending_buf[t.pending-1]=~a>>8,ct(t.strm),i&&(i>a&&(i=a),t.strm.output.set(t.window.subarray(t.block_start,t.block_start+i),t.strm.next_out),t.strm.next_out+=i,t.strm.avail_out-=i,t.strm.total_out+=i,t.block_start+=i,a-=i),a&&(bt(t.strm,t.strm.output,t.strm.next_out,a),t.strm.next_out+=a,t.strm.avail_out-=a,t.strm.total_out+=a)}while(0===r);return o-=t.strm.avail_in,o&&(o>=t.w_size?(t.matches=2,t.window.set(t.strm.input.subarray(t.strm.next_in-t.w_size,t.strm.next_in),0),t.strstart=t.w_size,t.insert=t.strstart):(t.window_size-t.strstart<=o&&(t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,t.insert>t.strstart&&(t.insert=t.strstart)),t.window.set(t.strm.input.subarray(t.strm.next_in-o,t.strm.next_in),t.strstart),t.strstart+=o,t.insert+=o>t.w_size-t.insert?t.w_size-t.insert:o),t.block_start=t.strstart),t.high_water<t.strstart&&(t.high_water=t.strstart),r?4:e!==P&&e!==X&&0===t.strm.avail_in&&t.strstart===t.block_start?2:(n=t.window_size-t.strstart,t.strm.avail_in>n&&t.block_start>=t.w_size&&(t.block_start-=t.w_size,t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,n+=t.w_size,t.insert>t.strstart&&(t.insert=t.strstart)),n>t.strm.avail_in&&(n=t.strm.avail_in),n&&(bt(t.strm,t.window,t.strstart,n),t.strstart+=n,t.insert+=n>t.w_size-t.insert?t.w_size-t.insert:n),t.high_water<t.strstart&&(t.high_water=t.strstart),n=t.bi_valid+42>>3,n=t.pending_buf_size-n>65535?65535:t.pending_buf_size-n,s=n>t.w_size?t.w_size:n,i=t.strstart-t.block_start,(i>=s||(i||e===X)&&e!==P&&0===t.strm.avail_in&&i<=n)&&(a=i>n?n:i,r=e===X&&0===t.strm.avail_in&&a===i?1:0,H(t,t.block_start,a,r),t.block_start+=a,ct(t.strm)),r?3:1)},vt=(t,e)=>{let a,i;for(;;){if(t.lookahead<262){if(pt(t),t.lookahead<262&&e===P)return 1;if(0===t.lookahead)break}if(a=0,t.lookahead>=3&&(t.ins_h=ft(t,t.ins_h,t.window[t.strstart+3-1]),a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==a&&t.strstart-a<=t.w_size-262&&(t.match_length=gt(t,a)),t.match_length>=3)if(i=j(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=ft(t,t.ins_h,t.window[t.strstart+3-1]),a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=ft(t,t.ins_h,t.window[t.strstart+1]);else i=j(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(i&&(ut(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,e===X?(ut(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(ut(t,!1),0===t.strm.avail_out)?1:2},yt=(t,e)=>{let a,i,n;for(;;){if(t.lookahead<262){if(pt(t),t.lookahead<262&&e===P)return 1;if(0===t.lookahead)break}if(a=0,t.lookahead>=3&&(t.ins_h=ft(t,t.ins_h,t.window[t.strstart+3-1]),a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==a&&t.prev_length<t.max_lazy_match&&t.strstart-a<=t.w_size-262&&(t.match_length=gt(t,a),t.match_length<=5&&(t.strategy===et||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){n=t.strstart+t.lookahead-3,i=j(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=n&&(t.ins_h=ft(t,t.ins_h,t.window[t.strstart+3-1]),a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,i&&(ut(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if(i=j(t,0,t.window[t.strstart-1]),i&&ut(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(i=j(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,e===X?(ut(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(ut(t,!1),0===t.strm.avail_out)?1:2};function xt(t,e,a,i,n){this.good_length=t,this.max_lazy=e,this.nice_length=a,this.max_chain=i,this.func=n}const zt=[new xt(0,0,0,0,kt),new xt(4,4,8,4,vt),new xt(4,5,16,8,vt),new xt(4,6,32,32,vt),new xt(4,4,16,16,yt),new xt(8,16,32,32,yt),new xt(8,16,128,128,yt),new xt(8,32,128,256,yt),new xt(32,128,258,1024,yt),new xt(32,258,258,4096,yt)];function At(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=ot,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),dt(this.dyn_ltree),dt(this.dyn_dtree),dt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),dt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),dt(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Et=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||42!==e.status&&57!==e.status&&69!==e.status&&73!==e.status&&91!==e.status&&103!==e.status&&113!==e.status&&666!==e.status?1:0},Rt=t=>{if(Et(t))return lt(t,Q);t.total_in=t.total_out=0,t.data_type=rt;const e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=2===e.wrap?57:e.wrap?42:113,t.adler=2===e.wrap?0:1,e.last_flush=-2,C(e),q},Zt=t=>{const e=Rt(t);var a;return e===q&&((a=t.state).window_size=2*a.w_size,dt(a.head),a.max_lazy_match=zt[a.level].max_lazy,a.good_match=zt[a.level].good_length,a.nice_match=zt[a.level].nice_length,a.max_chain_length=zt[a.level].max_chain,a.strstart=0,a.block_start=0,a.lookahead=0,a.insert=0,a.match_length=a.prev_length=2,a.match_available=0,a.ins_h=0),e},Ut=(t,e,a,i,n,s)=>{if(!t)return Q;let r=1;if(e===tt&&(e=6),i<0?(r=0,i=-i):i>15&&(r=2,i-=16),n<1||n>9||a!==ot||i<8||i>15||e<0||e>9||s<0||s>nt||8===i&&1!==r)return lt(t,Q);8===i&&(i=9);const o=new At;return t.state=o,o.strm=t,o.status=42,o.wrap=r,o.gzhead=null,o.w_bits=i,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=n+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+3-1)/3),o.window=new Uint8Array(2*o.w_size),o.head=new Uint16Array(o.hash_size),o.prev=new Uint16Array(o.w_size),o.lit_bufsize=1<<n+6,o.pending_buf_size=4*o.lit_bufsize,o.pending_buf=new Uint8Array(o.pending_buf_size),o.sym_buf=o.lit_bufsize,o.sym_end=3*(o.lit_bufsize-1),o.level=e,o.strategy=s,o.method=a,Zt(t)};var St={deflateInit:(t,e)=>Ut(t,e,ot,15,8,st),deflateInit2:Ut,deflateReset:Zt,deflateResetKeep:Rt,deflateSetHeader:(t,e)=>Et(t)||2!==t.state.wrap?Q:(t.state.gzhead=e,q),deflate:(t,e)=>{if(Et(t)||e>W||e<0)return t?lt(t,Q):Q;const a=t.state;if(!t.output||0!==t.avail_in&&!t.input||666===a.status&&e!==X)return lt(t,0===t.avail_out?$:Q);const i=a.last_flush;if(a.last_flush=e,0!==a.pending){if(ct(t),0===t.avail_out)return a.last_flush=-1,q}else if(0===t.avail_in&&ht(e)<=ht(i)&&e!==X)return lt(t,$);if(666===a.status&&0!==t.avail_in)return lt(t,$);if(42===a.status&&0===a.wrap&&(a.status=113),42===a.status){let e=ot+(a.w_bits-8<<4)<<8,i=-1;if(i=a.strategy>=at||a.level<2?0:a.level<6?1:6===a.level?2:3,e|=i<<6,0!==a.strstart&&(e|=32),e+=31-e%31,mt(a,e),0!==a.strstart&&(mt(a,t.adler>>>16),mt(a,65535&t.adler)),t.adler=1,a.status=113,ct(t),0!==a.pending)return a.last_flush=-1,q}if(57===a.status)if(t.adler=0,wt(a,31),wt(a,139),wt(a,8),a.gzhead)wt(a,(a.gzhead.text?1:0)+(a.gzhead.hcrc?2:0)+(a.gzhead.extra?4:0)+(a.gzhead.name?8:0)+(a.gzhead.comment?16:0)),wt(a,255&a.gzhead.time),wt(a,a.gzhead.time>>8&255),wt(a,a.gzhead.time>>16&255),wt(a,a.gzhead.time>>24&255),wt(a,9===a.level?2:a.strategy>=at||a.level<2?4:0),wt(a,255&a.gzhead.os),a.gzhead.extra&&a.gzhead.extra.length&&(wt(a,255&a.gzhead.extra.length),wt(a,a.gzhead.extra.length>>8&255)),a.gzhead.hcrc&&(t.adler=N(t.adler,a.pending_buf,a.pending,0)),a.gzindex=0,a.status=69;else if(wt(a,0),wt(a,0),wt(a,0),wt(a,0),wt(a,0),wt(a,9===a.level?2:a.strategy>=at||a.level<2?4:0),wt(a,3),a.status=113,ct(t),0!==a.pending)return a.last_flush=-1,q;if(69===a.status){if(a.gzhead.extra){let e=a.pending,i=(65535&a.gzhead.extra.length)-a.gzindex;for(;a.pending+i>a.pending_buf_size;){let n=a.pending_buf_size-a.pending;if(a.pending_buf.set(a.gzhead.extra.subarray(a.gzindex,a.gzindex+n),a.pending),a.pending=a.pending_buf_size,a.gzhead.hcrc&&a.pending>e&&(t.adler=N(t.adler,a.pending_buf,a.pending-e,e)),a.gzindex+=n,ct(t),0!==a.pending)return a.last_flush=-1,q;e=0,i-=n}let n=new Uint8Array(a.gzhead.extra);a.pending_buf.set(n.subarray(a.gzindex,a.gzindex+i),a.pending),a.pending+=i,a.gzhead.hcrc&&a.pending>e&&(t.adler=N(t.adler,a.pending_buf,a.pending-e,e)),a.gzindex=0}a.status=73}if(73===a.status){if(a.gzhead.name){let e,i=a.pending;do{if(a.pending===a.pending_buf_size){if(a.gzhead.hcrc&&a.pending>i&&(t.adler=N(t.adler,a.pending_buf,a.pending-i,i)),ct(t),0!==a.pending)return a.last_flush=-1,q;i=0}e=a.gzindex<a.gzhead.name.length?255&a.gzhead.name.charCodeAt(a.gzindex++):0,wt(a,e)}while(0!==e);a.gzhead.hcrc&&a.pending>i&&(t.adler=N(t.adler,a.pending_buf,a.pending-i,i)),a.gzindex=0}a.status=91}if(91===a.status){if(a.gzhead.comment){let e,i=a.pending;do{if(a.pending===a.pending_buf_size){if(a.gzhead.hcrc&&a.pending>i&&(t.adler=N(t.adler,a.pending_buf,a.pending-i,i)),ct(t),0!==a.pending)return a.last_flush=-1,q;i=0}e=a.gzindex<a.gzhead.comment.length?255&a.gzhead.comment.charCodeAt(a.gzindex++):0,wt(a,e)}while(0!==e);a.gzhead.hcrc&&a.pending>i&&(t.adler=N(t.adler,a.pending_buf,a.pending-i,i))}a.status=103}if(103===a.status){if(a.gzhead.hcrc){if(a.pending+2>a.pending_buf_size&&(ct(t),0!==a.pending))return a.last_flush=-1,q;wt(a,255&t.adler),wt(a,t.adler>>8&255),t.adler=0}if(a.status=113,ct(t),0!==a.pending)return a.last_flush=-1,q}if(0!==t.avail_in||0!==a.lookahead||e!==P&&666!==a.status){let i=0===a.level?kt(a,e):a.strategy===at?((t,e)=>{let a;for(;;){if(0===t.lookahead&&(pt(t),0===t.lookahead)){if(e===P)return 1;break}if(t.match_length=0,a=j(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,a&&(ut(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===X?(ut(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(ut(t,!1),0===t.strm.avail_out)?1:2})(a,e):a.strategy===it?((t,e)=>{let a,i,n,s;const r=t.window;for(;;){if(t.lookahead<=258){if(pt(t),t.lookahead<=258&&e===P)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(n=t.strstart-1,i=r[n],i===r[++n]&&i===r[++n]&&i===r[++n])){s=t.strstart+258;do{}while(i===r[++n]&&i===r[++n]&&i===r[++n]&&i===r[++n]&&i===r[++n]&&i===r[++n]&&i===r[++n]&&i===r[++n]&&n<s);t.match_length=258-(s-n),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(a=j(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(a=j(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),a&&(ut(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===X?(ut(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(ut(t,!1),0===t.strm.avail_out)?1:2})(a,e):zt[a.level].func(a,e);if(3!==i&&4!==i||(a.status=666),1===i||3===i)return 0===t.avail_out&&(a.last_flush=-1),q;if(2===i&&(e===Y?K(a):e!==W&&(H(a,0,0,!1),e===G&&(dt(a.head),0===a.lookahead&&(a.strstart=0,a.block_start=0,a.insert=0))),ct(t),0===t.avail_out))return a.last_flush=-1,q}return e!==X?q:a.wrap<=0?J:(2===a.wrap?(wt(a,255&t.adler),wt(a,t.adler>>8&255),wt(a,t.adler>>16&255),wt(a,t.adler>>24&255),wt(a,255&t.total_in),wt(a,t.total_in>>8&255),wt(a,t.total_in>>16&255),wt(a,t.total_in>>24&255)):(mt(a,t.adler>>>16),mt(a,65535&t.adler)),ct(t),a.wrap>0&&(a.wrap=-a.wrap),0!==a.pending?q:J)},deflateEnd:t=>{if(Et(t))return Q;const e=t.state.status;return t.state=null,113===e?lt(t,V):q},deflateSetDictionary:(t,e)=>{let a=e.length;if(Et(t))return Q;const i=t.state,n=i.wrap;if(2===n||1===n&&42!==i.status||i.lookahead)return Q;if(1===n&&(t.adler=F(t.adler,e,a,0)),i.wrap=0,a>=i.w_size){0===n&&(dt(i.head),i.strstart=0,i.block_start=0,i.insert=0);let t=new Uint8Array(i.w_size);t.set(e.subarray(a-i.w_size,a),0),e=t,a=i.w_size}const s=t.avail_in,r=t.next_in,o=t.input;for(t.avail_in=a,t.next_in=0,t.input=e,pt(i);i.lookahead>=3;){let t=i.strstart,e=i.lookahead-2;do{i.ins_h=ft(i,i.ins_h,i.window[t+3-1]),i.prev[t&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=t,t++}while(--e);i.strstart=t,i.lookahead=2,pt(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=2,i.match_available=0,t.next_in=r,t.input=o,t.avail_in=s,i.wrap=n,q},deflateInfo:"pako deflate (from Nodeca project)"};const Dt=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var Tt=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const a=e.shift();if(a){if("object"!=typeof a)throw new TypeError(a+"must be non-object");for(const e in a)Dt(a,e)&&(t[e]=a[e])}}return t},Ot=t=>{let e=0;for(let a=0,i=t.length;a<i;a++)e+=t[a].length;const a=new Uint8Array(e);for(let e=0,i=0,n=t.length;e<n;e++){let n=t[e];a.set(n,i),i+=n.length}return a};let Ft=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){Ft=!1}const Lt=new Uint8Array(256);for(let t=0;t<256;t++)Lt[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Lt[254]=Lt[254]=1;var Nt=t=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(t);let e,a,i,n,s,r=t.length,o=0;for(n=0;n<r;n++)a=t.charCodeAt(n),55296==(64512&a)&&n+1<r&&(i=t.charCodeAt(n+1),56320==(64512&i)&&(a=65536+(a-55296<<10)+(i-56320),n++)),o+=a<128?1:a<2048?2:a<65536?3:4;for(e=new Uint8Array(o),s=0,n=0;s<o;n++)a=t.charCodeAt(n),55296==(64512&a)&&n+1<r&&(i=t.charCodeAt(n+1),56320==(64512&i)&&(a=65536+(a-55296<<10)+(i-56320),n++)),a<128?e[s++]=a:a<2048?(e[s++]=192|a>>>6,e[s++]=128|63&a):a<65536?(e[s++]=224|a>>>12,e[s++]=128|a>>>6&63,e[s++]=128|63&a):(e[s++]=240|a>>>18,e[s++]=128|a>>>12&63,e[s++]=128|a>>>6&63,e[s++]=128|63&a);return e},It=(t,e)=>{const a=e||t.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(t.subarray(0,e));let i,n;const s=new Array(2*a);for(n=0,i=0;i<a;){let e=t[i++];if(e<128){s[n++]=e;continue}let r=Lt[e];if(r>4)s[n++]=65533,i+=r-1;else{for(e&=2===r?31:3===r?15:7;r>1&&i<a;)e=e<<6|63&t[i++],r--;r>1?s[n++]=65533:e<65536?s[n++]=e:(e-=65536,s[n++]=55296|e>>10&1023,s[n++]=56320|1023&e)}}return((t,e)=>{if(e<65534&&t.subarray&&Ft)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let a="";for(let i=0;i<e;i++)a+=String.fromCharCode(t[i]);return a})(s,n)},Bt=(t,e)=>{(e=e||t.length)>t.length&&(e=t.length);let a=e-1;for(;a>=0&&128==(192&t[a]);)a--;return a<0||0===a?e:a+Lt[t[a]]>e?a:e};var Ct=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const Ht=Object.prototype.toString,{Z_NO_FLUSH:Mt,Z_SYNC_FLUSH:jt,Z_FULL_FLUSH:Kt,Z_FINISH:Pt,Z_OK:Yt,Z_STREAM_END:Gt,Z_DEFAULT_COMPRESSION:Xt,Z_DEFAULT_STRATEGY:Wt,Z_DEFLATED:qt}=B;function Jt(t){this.options=Tt({level:Xt,method:qt,chunkSize:16384,windowBits:15,memLevel:8,strategy:Wt},t||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Ct,this.strm.avail_out=0;let a=St.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(a!==Yt)throw new Error(I[a]);if(e.header&&St.deflateSetHeader(this.strm,e.header),e.dictionary){let t;if(t="string"==typeof e.dictionary?Nt(e.dictionary):"[object ArrayBuffer]"===Ht.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,a=St.deflateSetDictionary(this.strm,t),a!==Yt)throw new Error(I[a]);this._dict_set=!0}}function Qt(t,e){const a=new Jt(e);if(a.push(t,!0),a.err)throw a.msg||I[a.err];return a.result}Jt.prototype.push=function(t,e){const a=this.strm,i=this.options.chunkSize;let n,s;if(this.ended)return!1;for(s=e===~~e?e:!0===e?Pt:Mt,"string"==typeof t?a.input=Nt(t):"[object ArrayBuffer]"===Ht.call(t)?a.input=new Uint8Array(t):a.input=t,a.next_in=0,a.avail_in=a.input.length;;)if(0===a.avail_out&&(a.output=new Uint8Array(i),a.next_out=0,a.avail_out=i),(s===jt||s===Kt)&&a.avail_out<=6)this.onData(a.output.subarray(0,a.next_out)),a.avail_out=0;else{if(n=St.deflate(a,s),n===Gt)return a.next_out>0&&this.onData(a.output.subarray(0,a.next_out)),n=St.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===Yt;if(0!==a.avail_out){if(s>0&&a.next_out>0)this.onData(a.output.subarray(0,a.next_out)),a.avail_out=0;else if(0===a.avail_in)break}else this.onData(a.output)}return!0},Jt.prototype.onData=function(t){this.chunks.push(t)},Jt.prototype.onEnd=function(t){t===Yt&&(this.result=Ot(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var Vt={Deflate:Jt,deflate:Qt,deflateRaw:function(t,e){return(e=e||{}).raw=!0,Qt(t,e)},gzip:function(t,e){return(e=e||{}).gzip=!0,Qt(t,e)},constants:B};var $t=function(t,e){let a,i,n,s,r,o,l,h,d,_,f,c,u,w,m,b,g,p,k,v,y,x,z,A;const E=t.state;a=t.next_in,z=t.input,i=a+(t.avail_in-5),n=t.next_out,A=t.output,s=n-(e-t.avail_out),r=n+(t.avail_out-257),o=E.dmax,l=E.wsize,h=E.whave,d=E.wnext,_=E.window,f=E.hold,c=E.bits,u=E.lencode,w=E.distcode,m=(1<<E.lenbits)-1,b=(1<<E.distbits)-1;t:do{c<15&&(f+=z[a++]<<c,c+=8,f+=z[a++]<<c,c+=8),g=u[f&m];e:for(;;){if(p=g>>>24,f>>>=p,c-=p,p=g>>>16&255,0===p)A[n++]=65535&g;else{if(!(16&p)){if(0==(64&p)){g=u[(65535&g)+(f&(1<<p)-1)];continue e}if(32&p){E.mode=16191;break t}t.msg="invalid literal/length code",E.mode=16209;break t}k=65535&g,p&=15,p&&(c<p&&(f+=z[a++]<<c,c+=8),k+=f&(1<<p)-1,f>>>=p,c-=p),c<15&&(f+=z[a++]<<c,c+=8,f+=z[a++]<<c,c+=8),g=w[f&b];a:for(;;){if(p=g>>>24,f>>>=p,c-=p,p=g>>>16&255,!(16&p)){if(0==(64&p)){g=w[(65535&g)+(f&(1<<p)-1)];continue a}t.msg="invalid distance code",E.mode=16209;break t}if(v=65535&g,p&=15,c<p&&(f+=z[a++]<<c,c+=8,c<p&&(f+=z[a++]<<c,c+=8)),v+=f&(1<<p)-1,v>o){t.msg="invalid distance too far back",E.mode=16209;break t}if(f>>>=p,c-=p,p=n-s,v>p){if(p=v-p,p>h&&E.sane){t.msg="invalid distance too far back",E.mode=16209;break t}if(y=0,x=_,0===d){if(y+=l-p,p<k){k-=p;do{A[n++]=_[y++]}while(--p);y=n-v,x=A}}else if(d<p){if(y+=l+d-p,p-=d,p<k){k-=p;do{A[n++]=_[y++]}while(--p);if(y=0,d<k){p=d,k-=p;do{A[n++]=_[y++]}while(--p);y=n-v,x=A}}}else if(y+=d-p,p<k){k-=p;do{A[n++]=_[y++]}while(--p);y=n-v,x=A}for(;k>2;)A[n++]=x[y++],A[n++]=x[y++],A[n++]=x[y++],k-=3;k&&(A[n++]=x[y++],k>1&&(A[n++]=x[y++]))}else{y=n-v;do{A[n++]=A[y++],A[n++]=A[y++],A[n++]=A[y++],k-=3}while(k>2);k&&(A[n++]=A[y++],k>1&&(A[n++]=A[y++]))}break}}break}}while(a<i&&n<r);k=c>>3,a-=k,c-=k<<3,f&=(1<<c)-1,t.next_in=a,t.next_out=n,t.avail_in=a<i?i-a+5:5-(a-i),t.avail_out=n<r?r-n+257:257-(n-r),E.hold=f,E.bits=c};const te=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),ee=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),ae=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),ie=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var ne=(t,e,a,i,n,s,r,o)=>{const l=o.bits;let h,d,_,f,c,u,w=0,m=0,b=0,g=0,p=0,k=0,v=0,y=0,x=0,z=0,A=null;const E=new Uint16Array(16),R=new Uint16Array(16);let Z,U,S,D=null;for(w=0;w<=15;w++)E[w]=0;for(m=0;m<i;m++)E[e[a+m]]++;for(p=l,g=15;g>=1&&0===E[g];g--);if(p>g&&(p=g),0===g)return n[s++]=20971520,n[s++]=20971520,o.bits=1,0;for(b=1;b<g&&0===E[b];b++);for(p<b&&(p=b),y=1,w=1;w<=15;w++)if(y<<=1,y-=E[w],y<0)return-1;if(y>0&&(0===t||1!==g))return-1;for(R[1]=0,w=1;w<15;w++)R[w+1]=R[w]+E[w];for(m=0;m<i;m++)0!==e[a+m]&&(r[R[e[a+m]]++]=m);if(0===t?(A=D=r,u=20):1===t?(A=te,D=ee,u=257):(A=ae,D=ie,u=0),z=0,m=0,w=b,c=s,k=p,v=0,_=-1,x=1<<p,f=x-1,1===t&&x>852||2===t&&x>592)return 1;for(;;){Z=w-v,r[m]+1<u?(U=0,S=r[m]):r[m]>=u?(U=D[r[m]-u],S=A[r[m]-u]):(U=96,S=0),h=1<<w-v,d=1<<k,b=d;do{d-=h,n[c+(z>>v)+d]=Z<<24|U<<16|S|0}while(0!==d);for(h=1<<w-1;z&h;)h>>=1;if(0!==h?(z&=h-1,z+=h):z=0,m++,0==--E[w]){if(w===g)break;w=e[a+r[m]]}if(w>p&&(z&f)!==_){for(0===v&&(v=p),c+=b,k=w-v,y=1<<k;k+v<g&&(y-=E[k+v],!(y<=0));)k++,y<<=1;if(x+=1<<k,1===t&&x>852||2===t&&x>592)return 1;_=z&f,n[_]=p<<24|k<<16|c-s|0}}return 0!==z&&(n[c+z]=w-v<<24|64<<16|0),o.bits=p,0};const{Z_FINISH:se,Z_BLOCK:re,Z_TREES:oe,Z_OK:le,Z_STREAM_END:he,Z_NEED_DICT:de,Z_STREAM_ERROR:_e,Z_DATA_ERROR:fe,Z_MEM_ERROR:ce,Z_BUF_ERROR:ue,Z_DEFLATED:we}=B,me=16209,be=t=>(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24);function ge(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const pe=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<16180||e.mode>16211?1:0},ke=t=>{if(pe(t))return _e;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=16180,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(852),e.distcode=e.distdyn=new Int32Array(592),e.sane=1,e.back=-1,le},ve=t=>{if(pe(t))return _e;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,ke(t)},ye=(t,e)=>{let a;if(pe(t))return _e;const i=t.state;return e<0?(a=0,e=-e):(a=5+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?_e:(null!==i.window&&i.wbits!==e&&(i.window=null),i.wrap=a,i.wbits=e,ve(t))},xe=(t,e)=>{if(!t)return _e;const a=new ge;t.state=a,a.strm=t,a.window=null,a.mode=16180;const i=ye(t,e);return i!==le&&(t.state=null),i};let ze,Ae,Ee=!0;const Re=t=>{if(Ee){ze=new Int32Array(512),Ae=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(ne(1,t.lens,0,288,ze,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;ne(2,t.lens,0,32,Ae,0,t.work,{bits:5}),Ee=!1}t.lencode=ze,t.lenbits=9,t.distcode=Ae,t.distbits=5},Ze=(t,e,a,i)=>{let n;const s=t.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),i>=s.wsize?(s.window.set(e.subarray(a-s.wsize,a),0),s.wnext=0,s.whave=s.wsize):(n=s.wsize-s.wnext,n>i&&(n=i),s.window.set(e.subarray(a-i,a-i+n),s.wnext),(i-=n)?(s.window.set(e.subarray(a-i,a),0),s.wnext=i,s.whave=s.wsize):(s.wnext+=n,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=n))),0};var Ue={inflateReset:ve,inflateReset2:ye,inflateResetKeep:ke,inflateInit:t=>xe(t,15),inflateInit2:xe,inflate:(t,e)=>{let a,i,n,s,r,o,l,h,d,_,f,c,u,w,m,b,g,p,k,v,y,x,z=0;const A=new Uint8Array(4);let E,R;const Z=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(pe(t)||!t.output||!t.input&&0!==t.avail_in)return _e;a=t.state,16191===a.mode&&(a.mode=16192),r=t.next_out,n=t.output,l=t.avail_out,s=t.next_in,i=t.input,o=t.avail_in,h=a.hold,d=a.bits,_=o,f=l,x=le;t:for(;;)switch(a.mode){case 16180:if(0===a.wrap){a.mode=16192;break}for(;d<16;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}if(2&a.wrap&&35615===h){0===a.wbits&&(a.wbits=15),a.check=0,A[0]=255&h,A[1]=h>>>8&255,a.check=N(a.check,A,2,0),h=0,d=0,a.mode=16181;break}if(a.head&&(a.head.done=!1),!(1&a.wrap)||(((255&h)<<8)+(h>>8))%31){t.msg="incorrect header check",a.mode=me;break}if((15&h)!==we){t.msg="unknown compression method",a.mode=me;break}if(h>>>=4,d-=4,y=8+(15&h),0===a.wbits&&(a.wbits=y),y>15||y>a.wbits){t.msg="invalid window size",a.mode=me;break}a.dmax=1<<a.wbits,a.flags=0,t.adler=a.check=1,a.mode=512&h?16189:16191,h=0,d=0;break;case 16181:for(;d<16;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}if(a.flags=h,(255&a.flags)!==we){t.msg="unknown compression method",a.mode=me;break}if(57344&a.flags){t.msg="unknown header flags set",a.mode=me;break}a.head&&(a.head.text=h>>8&1),512&a.flags&&4&a.wrap&&(A[0]=255&h,A[1]=h>>>8&255,a.check=N(a.check,A,2,0)),h=0,d=0,a.mode=16182;case 16182:for(;d<32;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}a.head&&(a.head.time=h),512&a.flags&&4&a.wrap&&(A[0]=255&h,A[1]=h>>>8&255,A[2]=h>>>16&255,A[3]=h>>>24&255,a.check=N(a.check,A,4,0)),h=0,d=0,a.mode=16183;case 16183:for(;d<16;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}a.head&&(a.head.xflags=255&h,a.head.os=h>>8),512&a.flags&&4&a.wrap&&(A[0]=255&h,A[1]=h>>>8&255,a.check=N(a.check,A,2,0)),h=0,d=0,a.mode=16184;case 16184:if(1024&a.flags){for(;d<16;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}a.length=h,a.head&&(a.head.extra_len=h),512&a.flags&&4&a.wrap&&(A[0]=255&h,A[1]=h>>>8&255,a.check=N(a.check,A,2,0)),h=0,d=0}else a.head&&(a.head.extra=null);a.mode=16185;case 16185:if(1024&a.flags&&(c=a.length,c>o&&(c=o),c&&(a.head&&(y=a.head.extra_len-a.length,a.head.extra||(a.head.extra=new Uint8Array(a.head.extra_len)),a.head.extra.set(i.subarray(s,s+c),y)),512&a.flags&&4&a.wrap&&(a.check=N(a.check,i,c,s)),o-=c,s+=c,a.length-=c),a.length))break t;a.length=0,a.mode=16186;case 16186:if(2048&a.flags){if(0===o)break t;c=0;do{y=i[s+c++],a.head&&y&&a.length<65536&&(a.head.name+=String.fromCharCode(y))}while(y&&c<o);if(512&a.flags&&4&a.wrap&&(a.check=N(a.check,i,c,s)),o-=c,s+=c,y)break t}else a.head&&(a.head.name=null);a.length=0,a.mode=16187;case 16187:if(4096&a.flags){if(0===o)break t;c=0;do{y=i[s+c++],a.head&&y&&a.length<65536&&(a.head.comment+=String.fromCharCode(y))}while(y&&c<o);if(512&a.flags&&4&a.wrap&&(a.check=N(a.check,i,c,s)),o-=c,s+=c,y)break t}else a.head&&(a.head.comment=null);a.mode=16188;case 16188:if(512&a.flags){for(;d<16;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}if(4&a.wrap&&h!==(65535&a.check)){t.msg="header crc mismatch",a.mode=me;break}h=0,d=0}a.head&&(a.head.hcrc=a.flags>>9&1,a.head.done=!0),t.adler=a.check=0,a.mode=16191;break;case 16189:for(;d<32;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}t.adler=a.check=be(h),h=0,d=0,a.mode=16190;case 16190:if(0===a.havedict)return t.next_out=r,t.avail_out=l,t.next_in=s,t.avail_in=o,a.hold=h,a.bits=d,de;t.adler=a.check=1,a.mode=16191;case 16191:if(e===re||e===oe)break t;case 16192:if(a.last){h>>>=7&d,d-=7&d,a.mode=16206;break}for(;d<3;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}switch(a.last=1&h,h>>>=1,d-=1,3&h){case 0:a.mode=16193;break;case 1:if(Re(a),a.mode=16199,e===oe){h>>>=2,d-=2;break t}break;case 2:a.mode=16196;break;case 3:t.msg="invalid block type",a.mode=me}h>>>=2,d-=2;break;case 16193:for(h>>>=7&d,d-=7&d;d<32;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}if((65535&h)!=(h>>>16^65535)){t.msg="invalid stored block lengths",a.mode=me;break}if(a.length=65535&h,h=0,d=0,a.mode=16194,e===oe)break t;case 16194:a.mode=16195;case 16195:if(c=a.length,c){if(c>o&&(c=o),c>l&&(c=l),0===c)break t;n.set(i.subarray(s,s+c),r),o-=c,s+=c,l-=c,r+=c,a.length-=c;break}a.mode=16191;break;case 16196:for(;d<14;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}if(a.nlen=257+(31&h),h>>>=5,d-=5,a.ndist=1+(31&h),h>>>=5,d-=5,a.ncode=4+(15&h),h>>>=4,d-=4,a.nlen>286||a.ndist>30){t.msg="too many length or distance symbols",a.mode=me;break}a.have=0,a.mode=16197;case 16197:for(;a.have<a.ncode;){for(;d<3;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}a.lens[Z[a.have++]]=7&h,h>>>=3,d-=3}for(;a.have<19;)a.lens[Z[a.have++]]=0;if(a.lencode=a.lendyn,a.lenbits=7,E={bits:a.lenbits},x=ne(0,a.lens,0,19,a.lencode,0,a.work,E),a.lenbits=E.bits,x){t.msg="invalid code lengths set",a.mode=me;break}a.have=0,a.mode=16198;case 16198:for(;a.have<a.nlen+a.ndist;){for(;z=a.lencode[h&(1<<a.lenbits)-1],m=z>>>24,b=z>>>16&255,g=65535&z,!(m<=d);){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}if(g<16)h>>>=m,d-=m,a.lens[a.have++]=g;else{if(16===g){for(R=m+2;d<R;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}if(h>>>=m,d-=m,0===a.have){t.msg="invalid bit length repeat",a.mode=me;break}y=a.lens[a.have-1],c=3+(3&h),h>>>=2,d-=2}else if(17===g){for(R=m+3;d<R;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}h>>>=m,d-=m,y=0,c=3+(7&h),h>>>=3,d-=3}else{for(R=m+7;d<R;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}h>>>=m,d-=m,y=0,c=11+(127&h),h>>>=7,d-=7}if(a.have+c>a.nlen+a.ndist){t.msg="invalid bit length repeat",a.mode=me;break}for(;c--;)a.lens[a.have++]=y}}if(a.mode===me)break;if(0===a.lens[256]){t.msg="invalid code -- missing end-of-block",a.mode=me;break}if(a.lenbits=9,E={bits:a.lenbits},x=ne(1,a.lens,0,a.nlen,a.lencode,0,a.work,E),a.lenbits=E.bits,x){t.msg="invalid literal/lengths set",a.mode=me;break}if(a.distbits=6,a.distcode=a.distdyn,E={bits:a.distbits},x=ne(2,a.lens,a.nlen,a.ndist,a.distcode,0,a.work,E),a.distbits=E.bits,x){t.msg="invalid distances set",a.mode=me;break}if(a.mode=16199,e===oe)break t;case 16199:a.mode=16200;case 16200:if(o>=6&&l>=258){t.next_out=r,t.avail_out=l,t.next_in=s,t.avail_in=o,a.hold=h,a.bits=d,$t(t,f),r=t.next_out,n=t.output,l=t.avail_out,s=t.next_in,i=t.input,o=t.avail_in,h=a.hold,d=a.bits,16191===a.mode&&(a.back=-1);break}for(a.back=0;z=a.lencode[h&(1<<a.lenbits)-1],m=z>>>24,b=z>>>16&255,g=65535&z,!(m<=d);){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}if(b&&0==(240&b)){for(p=m,k=b,v=g;z=a.lencode[v+((h&(1<<p+k)-1)>>p)],m=z>>>24,b=z>>>16&255,g=65535&z,!(p+m<=d);){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}h>>>=p,d-=p,a.back+=p}if(h>>>=m,d-=m,a.back+=m,a.length=g,0===b){a.mode=16205;break}if(32&b){a.back=-1,a.mode=16191;break}if(64&b){t.msg="invalid literal/length code",a.mode=me;break}a.extra=15&b,a.mode=16201;case 16201:if(a.extra){for(R=a.extra;d<R;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}a.length+=h&(1<<a.extra)-1,h>>>=a.extra,d-=a.extra,a.back+=a.extra}a.was=a.length,a.mode=16202;case 16202:for(;z=a.distcode[h&(1<<a.distbits)-1],m=z>>>24,b=z>>>16&255,g=65535&z,!(m<=d);){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}if(0==(240&b)){for(p=m,k=b,v=g;z=a.distcode[v+((h&(1<<p+k)-1)>>p)],m=z>>>24,b=z>>>16&255,g=65535&z,!(p+m<=d);){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}h>>>=p,d-=p,a.back+=p}if(h>>>=m,d-=m,a.back+=m,64&b){t.msg="invalid distance code",a.mode=me;break}a.offset=g,a.extra=15&b,a.mode=16203;case 16203:if(a.extra){for(R=a.extra;d<R;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}a.offset+=h&(1<<a.extra)-1,h>>>=a.extra,d-=a.extra,a.back+=a.extra}if(a.offset>a.dmax){t.msg="invalid distance too far back",a.mode=me;break}a.mode=16204;case 16204:if(0===l)break t;if(c=f-l,a.offset>c){if(c=a.offset-c,c>a.whave&&a.sane){t.msg="invalid distance too far back",a.mode=me;break}c>a.wnext?(c-=a.wnext,u=a.wsize-c):u=a.wnext-c,c>a.length&&(c=a.length),w=a.window}else w=n,u=r-a.offset,c=a.length;c>l&&(c=l),l-=c,a.length-=c;do{n[r++]=w[u++]}while(--c);0===a.length&&(a.mode=16200);break;case 16205:if(0===l)break t;n[r++]=a.length,l--,a.mode=16200;break;case 16206:if(a.wrap){for(;d<32;){if(0===o)break t;o--,h|=i[s++]<<d,d+=8}if(f-=l,t.total_out+=f,a.total+=f,4&a.wrap&&f&&(t.adler=a.check=a.flags?N(a.check,n,f,r-f):F(a.check,n,f,r-f)),f=l,4&a.wrap&&(a.flags?h:be(h))!==a.check){t.msg="incorrect data check",a.mode=me;break}h=0,d=0}a.mode=16207;case 16207:if(a.wrap&&a.flags){for(;d<32;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}if(4&a.wrap&&h!==(4294967295&a.total)){t.msg="incorrect length check",a.mode=me;break}h=0,d=0}a.mode=16208;case 16208:x=he;break t;case me:x=fe;break t;case 16210:return ce;default:return _e}return t.next_out=r,t.avail_out=l,t.next_in=s,t.avail_in=o,a.hold=h,a.bits=d,(a.wsize||f!==t.avail_out&&a.mode<me&&(a.mode<16206||e!==se))&&Ze(t,t.output,t.next_out,f-t.avail_out),_-=t.avail_in,f-=t.avail_out,t.total_in+=_,t.total_out+=f,a.total+=f,4&a.wrap&&f&&(t.adler=a.check=a.flags?N(a.check,n,f,t.next_out-f):F(a.check,n,f,t.next_out-f)),t.data_type=a.bits+(a.last?64:0)+(16191===a.mode?128:0)+(16199===a.mode||16194===a.mode?256:0),(0===_&&0===f||e===se)&&x===le&&(x=ue),x},inflateEnd:t=>{if(pe(t))return _e;let e=t.state;return e.window&&(e.window=null),t.state=null,le},inflateGetHeader:(t,e)=>{if(pe(t))return _e;const a=t.state;return 0==(2&a.wrap)?_e:(a.head=e,e.done=!1,le)},inflateSetDictionary:(t,e)=>{const a=e.length;let i,n,s;return pe(t)?_e:(i=t.state,0!==i.wrap&&16190!==i.mode?_e:16190===i.mode&&(n=1,n=F(n,e,a,0),n!==i.check)?fe:(s=Ze(t,e,a,a),s?(i.mode=16210,ce):(i.havedict=1,le)))},inflateInfo:"pako inflate (from Nodeca project)"};var Se=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const De=Object.prototype.toString,{Z_NO_FLUSH:Te,Z_FINISH:Oe,Z_OK:Fe,Z_STREAM_END:Le,Z_NEED_DICT:Ne,Z_STREAM_ERROR:Ie,Z_DATA_ERROR:Be,Z_MEM_ERROR:Ce}=B;function He(t){this.options=Tt({chunkSize:65536,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Ct,this.strm.avail_out=0;let a=Ue.inflateInit2(this.strm,e.windowBits);if(a!==Fe)throw new Error(I[a]);if(this.header=new Se,Ue.inflateGetHeader(this.strm,this.header),e.dictionary&&("string"==typeof e.dictionary?e.dictionary=Nt(e.dictionary):"[object ArrayBuffer]"===De.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(a=Ue.inflateSetDictionary(this.strm,e.dictionary),a!==Fe)))throw new Error(I[a])}He.prototype.push=function(t,e){const a=this.strm,i=this.options.chunkSize,n=this.options.dictionary;let s,r,o;if(this.ended)return!1;for(r=e===~~e?e:!0===e?Oe:Te,"[object ArrayBuffer]"===De.call(t)?a.input=new Uint8Array(t):a.input=t,a.next_in=0,a.avail_in=a.input.length;;){for(0===a.avail_out&&(a.output=new Uint8Array(i),a.next_out=0,a.avail_out=i),s=Ue.inflate(a,r),s===Ne&&n&&(s=Ue.inflateSetDictionary(a,n),s===Fe?s=Ue.inflate(a,r):s===Be&&(s=Ne));a.avail_in>0&&s===Le&&a.state.wrap>0&&0!==t[a.next_in];)Ue.inflateReset(a),s=Ue.inflate(a,r);switch(s){case Ie:case Be:case Ne:case Ce:return this.onEnd(s),this.ended=!0,!1}if(o=a.avail_out,a.next_out&&(0===a.avail_out||s===Le))if("string"===this.options.to){let t=Bt(a.output,a.next_out),e=a.next_out-t,n=It(a.output,t);a.next_out=e,a.avail_out=i-e,e&&a.output.set(a.output.subarray(t,t+e),0),this.onData(n)}else this.onData(a.output.length===a.next_out?a.output:a.output.subarray(0,a.next_out));if(s!==Fe||0!==o){if(s===Le)return s=Ue.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(0===a.avail_in)break}}return!0},He.prototype.onData=function(t){this.chunks.push(t)},He.prototype.onEnd=function(t){t===Fe&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=Ot(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};const{Deflate:Me,deflate:je,deflateRaw:Ke,gzip:Pe}=Vt;var Ye=Me,Ge=je,Xe=B;const We=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const e=this._hasEvents?",":"";this.deflate.push(e+t,Xe.Z_SYNC_FLUSH),this._hasEvents=!0}finish(){if(this.deflate.push("]",Xe.Z_FINISH),this.deflate.err)throw this.deflate.err;const t=this.deflate.result;return this._init(),t}_init(){this._hasEvents=!1,this.deflate=new Ye,this.deflate.push("[",Xe.Z_NO_FLUSH)}},qe={clear:()=>{We.clear()},addEvent:t=>We.addEvent(t),finish:()=>We.finish(),compress:t=>function(t){return Ge(t)}(t)};addEventListener("message",(function(t){const e=t.data.method,a=t.data.id,i=t.data.arg;if(e in qe&&"function"==typeof qe[e])try{const t=qe[e](i);postMessage({id:a,method:e,success:!0,response:t})}catch(t){postMessage({id:a,method:e,success:!1,response:t.message}),console.error(t)}})),postMessage({id:void 0,method:"init",success:!0,response:void 0});';function se(t){return t>9999999999?t:1e3*t}class ae{constructor(){this.events=[]}get hasEvents(){return this.events.length>0}destroy(){this.events=[]}async addEvent(t){this.events.push(t)}finish(){return new Promise((t=>{const e=this.events;this.events=[],t(JSON.stringify(e))}))}clear(){this.events=[]}getEarliestTimestamp(){const t=this.events.map((t=>t.timestamp)).sort()[0];return t?se(t):null}}class le{constructor(t){this._worker=t,this._id=0}ensureReady(){return this._ensureReadyPromise||(this._ensureReadyPromise=new Promise(((t,e)=>{this._worker.addEventListener("message",(({data:n})=>{n.success?t():e()}),{once:!0}),this._worker.addEventListener("error",(t=>{e(t)}),{once:!0})}))),this._ensureReadyPromise}destroy(){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&l.kg.log("[Replay] Destroying compression worker"),this._worker.terminate()}postMessage(t,e){const n=this._getAndIncrementId();return new Promise(((i,o)=>{const r=({data:e})=>{const s=e;if(s.method===t&&s.id===n){if(this._worker.removeEventListener("message",r),!s.success)return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&l.kg.error("[Replay]",s.response),void o(new Error("Error in compression worker"));i(s.response)}};this._worker.addEventListener("message",r),this._worker.postMessage({id:n,method:t,arg:e})}))}_getAndIncrementId(){return this._id++}}class ce{constructor(t){this._worker=new le(t),this._earliestTimestamp=null}get hasEvents(){return!!this._earliestTimestamp}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(t){const e=se(t.timestamp);return(!this._earliestTimestamp||e<this._earliestTimestamp)&&(this._earliestTimestamp=e),this._sendEventToWorker(t)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._worker.postMessage("clear")}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(t){return this._worker.postMessage("addEvent",JSON.stringify(t))}async _finishRequest(){const t=await this._worker.postMessage("finish");return this._earliestTimestamp=null,t}}class ue{constructor(t){this._fallback=new ae,this._compression=new ce(t),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get hasEvents(){return this._used.hasEvents}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(t){return this._used.addEvent(t)}async finish(){return await this.ensureWorkerIsLoaded(),this._used.finish()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady()}catch(t){return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&l.kg.log("[Replay] Failed to load the compression worker, falling back to simple buffer"))}await this._switchToCompressionWorker()}async _switchToCompressionWorker(){const{events:t}=this._fallback,e=[];for(const n of t)e.push(this._compression.addEvent(n));this._used=this._compression;try{await Promise.all(e)}catch(t){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&l.kg.warn("[Replay] Failed to add events when switching buffers.",t)}}}function he({useCompression:t}){if(t&&window.Worker)try{const t=function(){const t=new Blob([re]);return URL.createObjectURL(t)}();("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&l.kg.log("[Replay] Using compression worker");const e=new Worker(t);return new ue(e)}catch(t){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&l.kg.log("[Replay] Failed to create compression worker")}return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&l.kg.log("[Replay] Using simple buffer"),new ae}function de(t){!function(){if(!("sessionStorage"in y))return;try{y.sessionStorage.removeItem(v)}catch(t){}}(),t.session=void 0}function pe(t,e,n=+new Date){return null===t||void 0===e||e<0||0!==e&&t+e<=n}function fe(t,e,n=+new Date){return pe(t.started,e.maxSessionLife,n)||pe(t.lastActivity,e.sessionIdleExpire,n)}function ge(t){return void 0!==t&&Math.random()<t}function me(t){if("sessionStorage"in y)try{y.sessionStorage.setItem(v,JSON.stringify(t))}catch(t){}}function _e(t){const e=Date.now();return{id:t.id||(0,c.DM)(),started:t.started||e,lastActivity:t.lastActivity||e,segmentId:t.segmentId||0,sampled:t.sampled,shouldRefresh:!0}}function ye({sessionSampleRate:t,allowBuffering:e,stickySession:n=!1}){const i=function(t,e){return ge(t)?"session":!!e&&"buffer"}(t,e),o=_e({sampled:i});return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&l.kg.log(`[Replay] Creating new session: ${o.id}`),n&&me(o),o}function ve({timeouts:t,currentSession:e,stickySession:n,sessionSampleRate:i,allowBuffering:o}){const r=e||n&&function(){if(!("sessionStorage"in y))return null;try{const t=y.sessionStorage.getItem(v);return t?_e(JSON.parse(t)):null}catch(t){return null}}();if(r){if(!fe(r,t))return{type:"saved",session:r};if(!r.shouldRefresh){return{type:"new",session:_e({sampled:!1})}}("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&l.kg.log("[Replay] Session has expired")}return{type:"new",session:ye({stickySession:n,sessionSampleRate:i,allowBuffering:o})}}async function Ce(t,e,n){if(!t.eventBuffer)return null;if(t.isPaused())return null;if(se(e.timestamp)+t.timeouts.sessionIdlePause<Date.now())return null;try{return n&&t.eventBuffer.clear(),await t.eventBuffer.addEvent(e)}catch(e){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&l.kg.error(e),await t.stop("addEvent");const n=(0,i.Gd)().getClient();n&&n.recordDroppedEvent("internal_sdk_error","replay")}}function be(t){return!t.type}function Ee(t){return"transaction"===t.type}function Se(t){const e=function(){const t=(0,i.Gd)().getClient();if(!t)return!1;const e=t.getTransport();if(!e)return!1;return e.send.__sentry__baseTransport__||!1}();return(n,i)=>{if(!be(n)&&!Ee(n))return;const o=i&&i.statusCode;if(!e||!(!o||o<200||o>=300))if(Ee(n)&&n.contexts&&n.contexts.trace&&n.contexts.trace.trace_id)t.getContext().traceIds.add(n.contexts.trace.trace_id);else if(be(n)&&(n.event_id&&t.getContext().errorIds.add(n.event_id),"buffer"===t.recordingMode&&n.exception&&n.message!==b)){if(!ge(t.getOptions().errorSampleRate))return;setTimeout((()=>{t.sendBufferedReplayOrFlush()}))}}}var we;function Oe(t){return{timestamp:Date.now()/1e3,type:"default",...t}}function xe(t,e){"sentry.transaction"!==e.category&&(["ui.click","ui.input"].includes(e.category)?t.triggerUserActivity():t.checkAndHandleExpiredSession(),t.addUpdate((()=>(Ce(t,{type:Z.Custom,timestamp:1e3*(e.timestamp||0),data:{tag:"breadcrumb",payload:(0,u.Fv)(e,10,1e3)}}),"console"===e.category))))}!function(t){t[t.Document=0]="Document",t[t.DocumentType=1]="DocumentType",t[t.Element=2]="Element",t[t.Text=3]="Text",t[t.CDATA=4]="CDATA",t[t.Comment=5]="Comment"}(we||(we={}));const Pe=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid"]);function Te(t){const e={};for(const n in t)if(Pe.has(n)){let i=n;"data-testid"!==n&&"data-test-id"!==n||(i="testId"),e[i]=t[n]}return e}const Me=t=>e=>{if(!t.isEnabled())return;const n=function(t){let e,n;try{n=function(t){if(e=t.event,e.target)return t.event.target;var e;return t.event}(t),e=(0,h.Rt)(n)}catch(t){e="<unknown>"}const i=n&&"__sn"in n&&n.__sn.type===we.Element?n.__sn:null;return Oe({category:`ui.${t.name}`,message:e,data:i?{nodeId:i.id,node:{id:i.id,tagName:i.tagName,textContent:n?Array.from(n.childNodes).map((t=>"__sn"in t&&t.__sn.type===we.Text&&t.__sn.textContent)).filter(Boolean).map((t=>t.trim())).join(""):"",attributes:Te(i.attributes)}}:{}})}(e);n&&xe(t,n)};function De(t,e=!1){const n=e?Se(t):void 0;return(e,i)=>{if(function(t){return"replay_event"===t.type}(e))return delete e.breadcrumbs,e;if(!be(e)&&!Ee(e))return e;if(function(t,e){return!(t.type||!t.exception||!t.exception.values||!t.exception.values.length)&&(!(!e.originalException||!e.originalException.__rrweb__)||t.exception.values.some((t=>!!(t.stacktrace&&t.stacktrace.frames&&t.stacktrace.frames.length)&&t.stacktrace.frames.some((t=>t.filename&&t.filename.includes("/rrweb/src/"))))))}(e,i)&&!t.getOptions()._experiments.captureExceptions)return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&l.kg.log("[Replay] Ignoring error from rrweb internals",e),null;if((be(e)||Ee(e)&&"session"===t.recordingMode)&&(e.tags={...e.tags,replayId:t.getSessionId()}),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&t.getOptions()._experiments.traceInternals&&be(e)){const t=function(t){return{type:"Unknown",value:"n/a",...t.exception&&t.exception.values&&t.exception.values[0]}}(e);!function(t){const{category:e,level:n,message:i,...r}=t;(0,o.n_)({category:e||"console",level:n||"debug",message:`[debug]: ${i}`,...r})}({message:`Tagging event (${e.event_id}) - ${e.message} - ${t.type}: ${t.value}`})}return n&&n(e,{statusCode:200}),e}}function Re(t,e){return e.map((({type:e,start:n,end:i,name:o,data:r})=>Ce(t,{type:Z.Custom,timestamp:n,data:{tag:"performanceSpan",payload:{op:e,description:o,startTimestamp:n,endTimestamp:i,data:r}}})))}function Ae(t){return e=>{if(!t.isEnabled())return;const n=function(t){const{from:e,to:n}=t,i=Date.now()/1e3;return{type:"navigation.push",start:i,end:i,name:n,data:{previous:e}}}(e);null!==n&&(t.getContext().urls.push(n.name),t.triggerUserActivity(),t.addUpdate((()=>(Re(t,[n]),!1))))}}function Le(t,e){return("undefined"!=typeof __SENTRY_DEBUG__&&!__SENTRY_DEBUG__||!t.getOptions()._experiments.traceInternals)&&function(t){const e=(0,i.Gd)().getClient(),n=e&&e.getDsn();return!!n&&t.includes(n.host)}(e)}function Ie(t,e){t.isEnabled()&&null!==e&&(Le(t,e.name)||t.addUpdate((()=>(Re(t,[e]),!0))))}function ke(t){return e=>{if(!t.isEnabled())return;const n=function(t){const{startTimestamp:e,endTimestamp:n,xhr:i}=t,o=i[d.xU];if(!e||!n||!o)return null;const{method:r,url:s,status_code:a}=o;return void 0===s?null:{type:"resource.xhr",name:s,start:e/1e3,end:n/1e3,data:{method:r,statusCode:a}}}(e);Ie(t,n)}}const Ne=10,Fe=11,Ge=12,Be=13,je=14,Ue=15,Ve=20,We=21,He=22,$e=23,ze=["true","false","null"];function Ke(t,e){if(!e.length)return t;let n=t;const i=e.length-1;n=function(t,e){switch(e){case Ne:return`${t}"~~":"~~"`;case Fe:return`${t}:"~~"`;case Ge:return`${t}~~":"~~"`;case Be:return function(t){const e=t.lastIndexOf(":"),n=t.slice(e+1);if(ze.includes(n.trim()))return`${t},"~~":"~~"`;return`${t.slice(0,e+1)}"~~"`}(t);case je:return`${t}~~"`;case Ue:return`${t},"~~":"~~"`;case Ve:return`${t}"~~"`;case We:return function(t){const e=function(t){for(let e=t.length-1;e>=0;e--){const n=t[e];if(","===n||"["===n)return e}return-1}(t);if(e>-1){const n=t.slice(e+1);return ze.includes(n.trim())?`${t},"~~"`:`${t.slice(0,e+1)}"~~"`}return t}(t);case He:return`${t}~~"`;case $e:return`${t},"~~"`}return t}(n,e[i]);for(let t=i;t>=0;t--){switch(e[t]){case Ne:n=`${n}}`;break;case Ve:n=`${n}]`}}return n}function Ye(t,e,n){const i=t[t.length-1],o=e[n];if(!/\s/.test(o))if('"'!==o||Xe(e,n))switch(o){case"{":!function(t,e){if(!e)return void t.push(Ne);if(e===Be)return void t.push(Ne);e===We&&t.push(Ne);if(e===Ve)t.push(Ne)}(t,i);break;case"[":!function(t,e){if(!e)return t.push(Ve),void t.push(We);if(e===Be)return t.push(Ve),void t.push(We);e===We&&(t.push(Ve),t.push(We));if(e===Ve)t.push(Ve),t.push(We)}(t,i);break;case":":!function(t,e){e===Fe&&(t.pop(),t.push(Be))}(t,i);break;case",":!function(t,e){if(e===Be)return void t.pop();if(e===Ue)return t.pop(),void t.pop();if(e===We)return;if(e===$e)t.pop()}(t,i);break;case"}":!function(t,e){e===Ne&&t.pop();e===Be&&(t.pop(),t.pop());e===Ue&&(t.pop(),t.pop(),t.pop());t[t.length-1]===Be&&t.push(Ue);t[t.length-1]===We&&t.push($e)}(t,i);break;case"]":!function(t,e){e===Ve&&t.pop();e===We&&(t.pop(),t.pop());e===$e&&(t.pop(),t.pop(),t.pop());t[t.length-1]===Be&&t.push(Ue);t[t.length-1]===We&&t.push($e)}(t,i)}else!function(t,e){if(e===je)return t.pop(),void t.push(Ue);if(e===He)return t.pop(),void t.push($e);if(e===Be)return void t.push(je);if(e===We)return void t.push(He);if(e===Ne)return void t.push(Ge);if(e===Ge)t.pop(),t.push(Fe)}(t,i)}function Xe(t,e){return"\\"===t[e-1]&&!Xe(t,e-1)}function qe(t){return Ke(t,function(t){const e=[];for(let n=0;n<t.length;n++)Ye(e,t,n);return e}(t))}function Ze(t,e){if(t)try{if("string"==typeof t)return e.encode(t).length;if(t instanceof URLSearchParams)return e.encode(t.toString()).length;if(t instanceof FormData){const n=rn(t);return e.encode(n).length}if(t instanceof Blob)return t.size;if(t instanceof ArrayBuffer)return t.byteLength}catch(t){}}function Je(t){if(!t)return;const e=parseInt(t,10);return isNaN(e)?void 0:e}function Qe(t){return"string"==typeof t?t:t instanceof URLSearchParams?t.toString():t instanceof FormData?rn(t):void 0}function tn(t,e){if(!e)return null;const{startTimestamp:n,endTimestamp:i,url:o,method:r,statusCode:s,request:a,response:l}=e;return{type:t,start:n/1e3,end:i/1e3,name:o,data:(0,p.Jr)({method:r,statusCode:s,request:a,response:l})}}function en(t){return{headers:{},size:t,_meta:{warnings:["URL_SKIPPED"]}}}function nn(t,e,n){if(!e&&0===Object.keys(t).length)return;if(!e)return{headers:t};if(!n)return{headers:t,size:e};const i={headers:t,size:e},{body:o,warnings:r}=function(t){if(!t||"string"!=typeof t)return{body:t,warnings:[]};const e=t.length>E;if(function(t){const e=t[0],n=t[t.length-1];return"["===e&&"]"===n||"{"===e&&"}"===n}(t))try{const n=e?qe(t.slice(0,E)):t;return{body:JSON.parse(n),warnings:e?["JSON_TRUNCATED"]:[]}}catch(n){return{body:e?`${t.slice(0,E)}`:t,warnings:e?["INVALID_JSON","TEXT_TRUNCATED"]:["INVALID_JSON"]}}return{body:e?`${t.slice(0,E)}`:t,warnings:e?["TEXT_TRUNCATED"]:[]}}(n);return i.body=o,r.length>0&&(i._meta={warnings:r}),i}function on(t,e){return Object.keys(t).reduce(((n,i)=>{const o=i.toLowerCase();return e.includes(o)&&t[i]&&(n[o]=t[i]),n}),{})}function rn(t){return new URLSearchParams(t).toString()}function sn(t,e){return(0,f.U0)(t,e)}async function an(t,e,n){try{const i=await async function(t,e,n){const{startTimestamp:i,endTimestamp:o}=e,{url:r,method:s,status_code:a=0,request_body_size:l,response_body_size:c}=t.data,u=sn(r,n.networkDetailAllowUrls),h=u?function({networkCaptureBodies:t,networkRequestHeaders:e},n,i){const o=function(t,e){if(1===t.length&&"string"!=typeof t[0])return un(t[0],e);if(2===t.length)return un(t[1],e);return{}}(n,e);if(!t)return nn(o,i,void 0);const r=Qe(ln(n));return nn(o,i,r)}(n,e.input,l):en(l),d=await async function(t,{networkCaptureBodies:e,textEncoder:n,networkResponseHeaders:i},o,r){if(!t&&void 0!==r)return en(r);const s=cn(o.headers,i);if(!e&&void 0!==r)return nn(s,r,void 0);try{const i=o.clone(),a=await async function(t){try{return await t.text()}catch(t){return}}(i),l=a&&a.length&&void 0===r?Ze(a,n):r;return t?nn(s,l,e?a:void 0):en(l)}catch(t){return nn(s,r,void 0)}}(u,n,e.response,c);return{startTimestamp:i,endTimestamp:o,url:r,method:s,statusCode:a,request:h,response:d}}(t,e,n),o=tn("resource.fetch",i);Ie(n.replay,o)}catch(t){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&l.kg.error("[Replay] Failed to capture fetch breadcrumb",t)}}function ln(t=[]){if(2===t.length&&"object"==typeof t[1])return t[1].body}function cn(t,e){const n={};return e.forEach((e=>{t.get(e)&&(n[e]=t.get(e))})),n}function un(t,e){if(!t)return{};const n=t.headers;return n?n instanceof Headers?cn(n,e):Array.isArray(n)?{}:on(n,e):{}}async function hn(t,e,n){try{const i=function(t,e,n){const{startTimestamp:i,endTimestamp:o,input:r,xhr:s}=e,{url:a,method:l,status_code:c=0,request_body_size:u,response_body_size:h}=t.data;if(!a)return null;if(!sn(a,n.networkDetailAllowUrls)){return{startTimestamp:i,endTimestamp:o,url:a,method:l,statusCode:c,request:en(u),response:en(h)}}const p=s[d.xU],f=p?on(p.request_headers,n.networkRequestHeaders):{},g=on(function(t){const e=t.getAllResponseHeaders();if(!e)return{};return e.split("\r\n").reduce(((t,e)=>{const[n,i]=e.split(": ");return t[n.toLowerCase()]=i,t}),{})}(s),n.networkResponseHeaders),m=nn(f,u,n.networkCaptureBodies?Qe(r):void 0),_=nn(g,h,n.networkCaptureBodies?e.xhr.responseText:void 0);return{startTimestamp:i,endTimestamp:o,url:a,method:l,statusCode:c,request:m,response:_}}(t,e,n),o=tn("resource.xhr",i);Ie(n.replay,o)}catch(t){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&l.kg.error("[Replay] Failed to capture fetch breadcrumb",t)}}function dn(t){const e=(0,i.Gd)().getClient();try{const n=new TextEncoder,{networkDetailAllowUrls:i,networkCaptureBodies:o,networkRequestHeaders:r,networkResponseHeaders:s}=t.getOptions(),a={replay:t,textEncoder:n,networkDetailAllowUrls:i,networkCaptureBodies:o,networkRequestHeaders:r,networkResponseHeaders:s};e&&e.on?e.on("beforeAddBreadcrumb",((t,e)=>function(t,e,n){if(!e.data)return;try{(function(t){return"xhr"===t.category})(e)&&function(t){return t&&t.xhr}(n)&&(!function(t,e,n){const{xhr:i,input:o}=e,r=Ze(o,n.textEncoder),s=i.getResponseHeader("content-length")?Je(i.getResponseHeader("content-length")):Ze(i.response,n.textEncoder);void 0!==r&&(t.data.request_body_size=r),void 0!==s&&(t.data.response_body_size=s)}(e,n,t),hn(e,n,t)),function(t){return"fetch"===t.category}(e)&&function(t){return t&&t.response}(n)&&(!function(t,e,n){const{input:i,response:o}=e,r=Ze(ln(i),n.textEncoder),s=o?Je(o.headers.get("content-length")):void 0;void 0!==r&&(t.data.request_body_size=r),void 0!==s&&(t.data.response_body_size=s)}(e,n,t),an(e,n,t))}catch(t){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&l.kg.warn("Error when enriching network breadcrumb")}}(a,t,e))):((0,d.oq)("fetch",function(t){return e=>{if(!t.isEnabled())return;const n=function(t){const{startTimestamp:e,endTimestamp:n,fetchData:i,response:o}=t;if(!n)return null;const{method:r,url:s}=i;return{type:"resource.fetch",start:e/1e3,end:n/1e3,name:s,data:{method:r,statusCode:o&&o.status}}}(e);Ie(t,n)}}(t)),(0,d.oq)("xhr",ke(t)))}catch(t){}}let pn=null;const fn=t=>e=>{if(!t.isEnabled())return;const n=function(t){const e=t.getLastBreadcrumb&&t.getLastBreadcrumb();if(pn===e||!e)return null;if(pn=e,e.category&&(["fetch","xhr","sentry.event","sentry.transaction"].includes(e.category)||e.category.startsWith("ui.")))return null;if("console"===e.category)return function(t){const e=t.data&&t.data.arguments;if(!Array.isArray(e)||0===e.length)return Oe(t);let n=!1;const i=e.map((t=>{if(!t)return t;if("string"==typeof t)return t.length>S?(n=!0,`${t.slice(0,S)}`):t;if("object"==typeof t)try{const e=(0,u.Fv)(t,7),i=JSON.stringify(e);if(i.length>S){const t=qe(i.slice(0,S)),e=JSON.parse(t);return n=!0,e}return e}catch(t){}return t}));return Oe({...t,data:{...t.data,arguments:i,...n?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{}}})}(e);return Oe(e)}(e);n&&xe(t,n)};function gn(t){return!(!t||!t.on)}function mn(t){const{jsHeapSizeLimit:e,totalJSHeapSize:n,usedJSHeapSize:i}=t,o=Date.now()/1e3;return{type:"memory",name:"memory",start:o,end:o,data:{memory:{jsHeapSizeLimit:e,totalJSHeapSize:n,usedJSHeapSize:i}}}}const _n={resource:function(t){const{entryType:e,initiatorType:n,name:i,responseEnd:o,startTime:r,decodedBodySize:s,encodedBodySize:a,responseStatus:l,transferSize:c}=t;if(["fetch","xmlhttprequest"].includes(n))return null;return{type:`${e}.${n}`,start:vn(r),end:vn(o),name:i,data:{size:c,statusCode:l,decodedBodySize:s,encodedBodySize:a}}},paint:function(t){const{duration:e,entryType:n,name:i,startTime:o}=t,r=vn(o);return{type:n,name:i,start:r,end:r+e,data:void 0}},navigation:function(t){const{entryType:e,name:n,decodedBodySize:i,duration:o,domComplete:r,encodedBodySize:s,domContentLoadedEventStart:a,domContentLoadedEventEnd:l,domInteractive:c,loadEventStart:u,loadEventEnd:h,redirectCount:d,startTime:p,transferSize:f,type:g}=t;if(0===o)return null;return{type:`${e}.${g}`,start:vn(p),end:vn(r),name:n,data:{size:f,decodedBodySize:i,encodedBodySize:s,duration:o,domInteractive:c,domContentLoadedEventStart:a,domContentLoadedEventEnd:l,loadEventStart:u,loadEventEnd:h,domComplete:r,redirectCount:d}}},"largest-contentful-paint":function(t){const{entryType:e,startTime:n,size:i}=t;let o=0;if(y.performance){const t=y.performance.getEntriesByType("navigation")[0];o=t&&t.activationStart||0}const r=Math.max(n-o,0),s=vn(o)+r/1e3;return{type:e,name:e,start:s,end:s,data:{value:r,size:i,nodeId:ee.mirror.getId(t.element)}}}};function yn(t){return void 0===_n[t.entryType]?null:_n[t.entryType](t)}function vn(t){return((g.Z1||y.performance.timeOrigin)+t)/1e3}function Cn(t){let e=!1;return(n,i)=>{if(!t.checkAndHandleExpiredSession())return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&l.kg.warn("[Replay] Received replay event after session expired."));const o=i||!e;e=!0,t.addUpdate((()=>{if("buffer"===t.recordingMode&&o&&t.setInitialState(),Ce(t,n,o),!o)return!1;if(t.session&&t.session.previousSessionId)return!0;if("buffer"===t.recordingMode&&t.session&&t.eventBuffer){const e=t.eventBuffer.getEarliestTimestamp();e&&(t.session.started=e,t.getOptions().stickySession&&me(t.session))}return"session"===t.recordingMode&&t.flushImmediate(),!0}))}}async function bn({recordingData:t,replayId:e,segmentId:n,eventContext:o,timestamp:r,session:a,options:c}){const u=function({recordingData:t,headers:e}){let n;const i=`${JSON.stringify(e)}\n`;if("string"==typeof t)n=`${i}${t}`;else{const e=(new TextEncoder).encode(i);n=new Uint8Array(e.length+t.length),n.set(e),n.set(t,e.length)}return n}({recordingData:t,headers:{segment_id:n}}),{urls:h,errorIds:d,traceIds:p,initialTimestamp:f}=o,g=(0,i.Gd)(),_=g.getClient(),y=g.getScope(),v=_&&_.getTransport(),E=_&&_.getDsn();if(!(_&&y&&v&&E&&a.sampled))return;const S={type:C,replay_start_timestamp:f/1e3,timestamp:r/1e3,error_ids:d,trace_ids:p,urls:h,replay_id:e,segment_id:n,replay_type:a.sampled},w=await async function({client:t,scope:e,replayId:n,event:i}){const o="object"!=typeof t._integrations||null===t._integrations||Array.isArray(t._integrations)?void 0:Object.keys(t._integrations),r=await(0,s.R)(t.getOptions(),i,{event_id:n,integrations:o},e);if(!r)return null;r.platform=r.platform||"javascript";const a=t.getSdkMetadata&&t.getSdkMetadata(),{name:l,version:c}=a&&a.sdk||{};return r.sdk={...r.sdk,name:l||"sentry.javascript.unknown",version:c||"0.0.0"},r}({scope:y,client:_,replayId:e,event:S});if(!w)return _.recordDroppedEvent("event_processor","replay",S),void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&l.kg.log("An event processor returned `null`, will not send event."));w.contexts={...w.contexts,replay:{...w.contexts&&w.contexts.replay,session_sample_rate:c.sessionSampleRate,error_sample_rate:c.errorSampleRate}};const O=function(t,e,n,i){return(0,m.Jd)((0,m.Cd)(t,(0,m.HY)(t),i,n),[[{type:"replay_event"},t],[{type:"replay_recording",length:"string"==typeof e?(new TextEncoder).encode(e).length:e.length},e]])}(w,u,E,_.getOptions().tunnel);let x;try{x=await v.send(O)}catch(t){const e=new Error(b);try{e.cause=t}catch(t){}throw e}if(!x)return x;if("number"==typeof x.statusCode&&(x.statusCode<200||x.statusCode>=300))throw new En(x.statusCode);return x}class En extends Error{constructor(t){super(`Transport returned status code ${t}`)}}async function Sn(t,e={count:0,interval:5e3}){const{recordingData:n,options:i}=t;if(n.length)try{return await bn(t),!0}catch(n){if(n instanceof En)throw n;if((0,o.v)("Replays",{_retryCount:e.count}),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i._experiments&&i._experiments.captureExceptions&&(0,o.Tb)(n),e.count>=3){const t=new Error(`${b} - max retries exceeded`);try{t.cause=n}catch(t){}throw t}return e.interval*=++e.count,await new Promise(((n,i)=>{setTimeout((async()=>{try{await Sn(t,e),n(!0)}catch(t){i(t)}}),e.interval)}))}}class wn{__init(){this.eventBuffer=null}__init2(){this.performanceEvents=[]}__init3(){this.recordingMode="session"}__init4(){this.timeouts={sessionIdlePause:3e5,sessionIdleExpire:9e5,maxSessionLife:36e5}}__init5(){this._performanceObserver=null}__init6(){this._flushLock=null}__init7(){this._lastActivity=Date.now()}__init8(){this._isEnabled=!1}__init9(){this._isPaused=!1}__init10(){this._hasInitializedCoreListeners=!1}__init11(){this._stopRecording=null}__init12(){this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""}}constructor({options:t,recordingOptions:e}){wn.prototype.__init.call(this),wn.prototype.__init2.call(this),wn.prototype.__init3.call(this),wn.prototype.__init4.call(this),wn.prototype.__init5.call(this),wn.prototype.__init6.call(this),wn.prototype.__init7.call(this),wn.prototype.__init8.call(this),wn.prototype.__init9.call(this),wn.prototype.__init10.call(this),wn.prototype.__init11.call(this),wn.prototype.__init12.call(this),wn.prototype.__init13.call(this),wn.prototype.__init14.call(this),wn.prototype.__init15.call(this),wn.prototype.__init16.call(this),wn.prototype.__init17.call(this),this._recordingOptions=e,this._options=t,this._debouncedFlush=function(t,e,n){let i,o,r;const s=n&&n.maxWait?Math.max(n.maxWait,e):0;function a(){return l(),i=t(),i}function l(){void 0!==o&&clearTimeout(o),void 0!==r&&clearTimeout(r),o=r=void 0}function c(){return o&&clearTimeout(o),o=setTimeout(a,e),s&&void 0===r&&(r=setTimeout(a,s)),i}return c.cancel=l,c.flush=function(){return void 0!==o||void 0!==r?a():i},c}((()=>this._flush()),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay})}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}getOptions(){return this._options}initializeSampling(){const{errorSampleRate:t,sessionSampleRate:e}=this._options;if(t<=0&&e<=0)return;this._loadAndCheckSession()&&(this.session?(this.session.sampled&&"session"!==this.session.sampled&&(this.recordingMode="buffer"),this._initializeRecording()):this._handleException(new Error("Unable to initialize and create session")))}start(){if(this._isEnabled&&"session"===this.recordingMode)throw new Error("Replay recording is already in progress");if(this._isEnabled&&"buffer"===this.recordingMode)throw new Error("Replay buffering is in progress, call `flush()` to save the replay");const t=this.session&&this.session.id,{session:e}=ve({timeouts:this.timeouts,stickySession:Boolean(this._options.stickySession),currentSession:this.session,sessionSampleRate:1,allowBuffering:!1});e.previousSessionId=t,this.session=e,this._initializeRecording()}startBuffering(){if(this._isEnabled)throw new Error("Replay recording is already in progress");const t=this.session&&this.session.id,{session:e}=ve({timeouts:this.timeouts,stickySession:Boolean(this._options.stickySession),currentSession:this.session,sessionSampleRate:0,allowBuffering:!0});e.previousSessionId=t,this.session=e,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{this._stopRecording=ee({...this._recordingOptions,..."buffer"===this.recordingMode&&{checkoutEveryNms:6e4},emit:Cn(this),onMutation:this._onMutationHandler})}catch(t){this._handleException(t)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(t){return this._handleException(t),!1}}async stop(t){if(this._isEnabled)try{if("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__){const e="[Replay] Stopping Replay"+(t?` triggered by ${t}`:"");(this.getOptions()._experiments.traceInternals?console.warn:l.kg.log)(e)}this._isEnabled=!1,this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),await this._flush({force:!0}),this.eventBuffer&&this.eventBuffer.destroy(),this.eventBuffer=null,de(this)}catch(t){this._handleException(t)}}pause(){this._isPaused=!0,this.stopRecording()}resume(){this._loadAndCheckSession()&&(this._isPaused=!1,this.startRecording())}async sendBufferedReplayOrFlush({continueRecording:t=!0}={}){if("session"===this.recordingMode)return this.flushImmediate();await this.flushImmediate();const e=this.stopRecording();t&&e&&(this.recordingMode="session",this.session&&(this.session.shouldRefresh=!1,this._maybeSaveSession()),this.startRecording())}addUpdate(t){const e=t();"buffer"!==this.recordingMode&&!0!==e&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),this._stopRecording)this.checkAndHandleExpiredSession(),this._updateSessionActivity();else{if(!this._loadAndCheckSession())return;this.resume()}}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}getSessionId(){return this.session&&this.session.id}checkAndHandleExpiredSession(){const t=this.getSessionId();if(this._lastActivity&&pe(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&"session"===this.session.sampled)return void this.pause();if(!this._loadAndCheckSession())return;return t===this.getSessionId()||(this._triggerFullSnapshot(),!1)}setInitialState(){const t=`${y.location.pathname}${y.location.hash}${y.location.search}`,e=`${y.location.origin}${t}`;this.performanceEvents=[],this._clearContext(),this._context.initialUrl=e,this._context.initialTimestamp=Date.now(),this._context.urls.push(e)}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=he({useCompression:this._options.useCompression}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this.startRecording()}_handleException(t){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&l.kg.error("[Replay]",t),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&this._options._experiments&&this._options._experiments.captureExceptions&&(0,o.Tb)(t)}_loadAndCheckSession(){const{type:t,session:e}=ve({timeouts:this.timeouts,stickySession:Boolean(this._options.stickySession),currentSession:this.session,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:this._options.errorSampleRate>0});"new"===t&&this.setInitialState();const n=this.getSessionId();return e.id!==n&&(e.previousSessionId=n),this.session=e,!!this.session.sampled||(this.stop("session unsampled"),!1)}_addListeners(){try{y.document.addEventListener("visibilitychange",this._handleVisibilityChange),y.addEventListener("blur",this._handleWindowBlur),y.addEventListener("focus",this._handleWindowFocus),this._hasInitializedCoreListeners||(!function(t){const e=(0,i.Gd)().getScope(),n=(0,i.Gd)().getClient();e&&e.addScopeListener(fn(t)),(0,d.oq)("dom",Me(t)),(0,d.oq)("history",Ae(t)),dn(t),(0,r.c)(De(t,!gn(n))),gn(n)&&(n.on("afterSendEvent",Se(t)),n.on("createDsc",(e=>{const n=t.getSessionId();n&&t.isEnabled()&&"session"===t.recordingMode&&(e.replay_id=n)})))}(this),this._hasInitializedCoreListeners=!0)}catch(t){this._handleException(t)}"PerformanceObserver"in y&&(this._performanceObserver=oe(this))}_removeListeners(){try{y.document.removeEventListener("visibilitychange",this._handleVisibilityChange),y.removeEventListener("blur",this._handleWindowBlur),y.removeEventListener("focus",this._handleWindowFocus),this._performanceObserver&&(this._performanceObserver.disconnect(),this._performanceObserver=null)}catch(t){this._handleException(t)}}__init13(){this._handleVisibilityChange=()=>{"visible"===y.document.visibilityState?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()}}__init14(){this._handleWindowBlur=()=>{const t=Oe({category:"ui.blur"});this._doChangeToBackgroundTasks(t)}}__init15(){this._handleWindowFocus=()=>{const t=Oe({category:"ui.focus"});this._doChangeToForegroundTasks(t)}}_doChangeToBackgroundTasks(t){if(!this.session)return;const e=fe(this.session,this.timeouts);t&&!e&&this._createCustomBreadcrumb(t),this._conditionalFlush()}_doChangeToForegroundTasks(t){if(!this.session)return;this.checkAndHandleExpiredSession()?t&&this._createCustomBreadcrumb(t):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&l.kg.log("[Replay] Document has become active, but session has expired")}_triggerFullSnapshot(t=!0){try{("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&l.kg.log("[Replay] Taking full rrweb snapshot"),ee.takeFullSnapshot(t)}catch(t){this._handleException(t)}}_updateUserActivity(t=Date.now()){this._lastActivity=t}_updateSessionActivity(t=Date.now()){this.session&&(this.session.lastActivity=t,this._maybeSaveSession())}_createCustomBreadcrumb(t){this.addUpdate((()=>{Ce(this,{type:Z.Custom,timestamp:t.timestamp||0,data:{tag:"breadcrumb",payload:t}})}))}_addPerformanceEntries(){const t=[...this.performanceEvents];return this.performanceEvents=[],Promise.all(Re(this,function(t){return t.map(yn).filter(Boolean)}(t)))}_conditionalFlush(){"buffer"!==this.recordingMode&&this.flushImmediate()}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){const{session:t,eventBuffer:e}=this;if(!t||!e)return;if(t.segmentId)return;const n=e.getEarliestTimestamp();n&&n<this._context.initialTimestamp&&(this._context.initialTimestamp=n)}_popEventContext(){const t={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),t}async _runFlush(){if(this.session&&this.eventBuffer){if(await this._addPerformanceEntries(),this.eventBuffer&&this.eventBuffer.hasEvents&&(await async function(t){try{return Promise.all(Re(t,[mn(y.performance.memory)]))}catch(t){return[]}}(this),this.eventBuffer))try{this._updateInitialTimestampFromEventBuffer();const t=await this.eventBuffer.finish(),e=this.session.id,n=this._popEventContext(),i=this.session.segmentId++;this._maybeSaveSession(),await Sn({replayId:e,recordingData:t,segmentId:i,eventContext:n,session:this.session,options:this.getOptions(),timestamp:Date.now()})}catch(t){this._handleException(t),this.stop("sendReplay");const e=(0,i.Gd)().getClient();e&&e.recordDroppedEvent("send_error","replay")}}else("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&l.kg.error("[Replay] No session or eventBuffer found to flush.")}__init16(){this._flush=async({force:t=!1}={})=>{if(this._isEnabled||t)if(this.checkAndHandleExpiredSession())if(this.session){if(this._debouncedFlush.cancel(),!this._flushLock)return this._flushLock=this._runFlush(),await this._flushLock,void(this._flushLock=null);try{await this._flushLock}catch(t){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&l.kg.error(t)}finally{this._debouncedFlush()}}else("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&l.kg.error("[Replay] No session found to flush.");else("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&l.kg.error("[Replay] Attempting to finish replay event after session expired.")}}_maybeSaveSession(){this.session&&this._options.stickySession&&me(this.session)}__init17(){this._onMutationHandler=t=>{const e=t.length,n=this._options._experiments.mutationLimit||0,i=n&&e>n;if(e>(this._options._experiments.mutationBreadcrumbLimit||1e3)||i){const t=Oe({category:"replay.mutations",data:{count:e}});this._createCustomBreadcrumb(t)}return!i||(this._triggerFullSnapshot(!1),!1)}}}function On(t,e,n,i){const o=[...t,..."string"==typeof i?i.split(","):[],...e];return void 0!==n&&("string"==typeof n&&o.push(`.${n}`),console.warn("[Replay] You are using a deprecated configuration item for privacy. Read the documentation on how to use the new privacy configuration.")),o.join(",")}function xn({mask:t,unmask:e,block:n,unblock:i,ignore:o,blockClass:r,blockSelector:s,maskTextClass:a,maskTextSelector:l,ignoreClass:c}){const u=On(t,[".sentry-mask","[data-sentry-mask]"],a,l),h=On(e,[".sentry-unmask","[data-sentry-unmask]"]),d={maskTextSelector:u,unmaskTextSelector:h,maskInputSelector:u,unmaskInputSelector:h,blockSelector:On(n,[".sentry-block","[data-sentry-block]",'base[href="/"]'],r,s),unblockSelector:On(i,[".sentry-unblock","[data-sentry-unblock]"]),ignoreSelector:On(o,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'],c)};return r instanceof RegExp&&(d.blockClass=r),a instanceof RegExp&&(d.maskTextClass=a),d}function Pn(){return"undefined"!=typeof window&&(!(0,_.KV)()||"undefined"!=typeof process&&"renderer"===process.type)}const Tn='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',Mn=["content-length","content-type","accept"];let Dn=!1;class Rn{static __initStatic(){this.id="Replay"}__init(){this.name=Rn.id}constructor({flushMinDelay:t=5e3,flushMaxDelay:e=5500,stickySession:n=!0,useCompression:i=!0,_experiments:o={},sessionSampleRate:r,errorSampleRate:s,maskAllText:a=!0,maskAllInputs:l=!0,blockAllMedia:c=!0,networkDetailAllowUrls:u=[],networkCaptureBodies:h=!0,networkRequestHeaders:d=[],networkResponseHeaders:p=[],mask:f=[],unmask:g=[],block:m=[],unblock:_=[],ignore:y=[],maskFn:v,blockClass:C,blockSelector:b,maskInputOptions:E,maskTextClass:S,maskTextSelector:w,ignoreClass:O}={}){if(Rn.prototype.__init.call(this),this._recordingOptions={maskAllInputs:l,maskAllText:a,maskInputOptions:{...E||{},password:!0},maskTextFn:v,maskInputFn:v,...xn({mask:f,unmask:g,block:m,unblock:_,ignore:y,blockClass:C,blockSelector:b,maskTextClass:S,maskTextSelector:w,ignoreClass:O}),slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0},this._initialOptions={flushMinDelay:t,flushMaxDelay:e,stickySession:n,sessionSampleRate:r,errorSampleRate:s,useCompression:i,blockAllMedia:c,networkDetailAllowUrls:u,networkCaptureBodies:h,networkRequestHeaders:An(d),networkResponseHeaders:An(p),_experiments:o},"number"==typeof r&&(console.warn(`[Replay] You are passing \`sessionSampleRate\` to the Replay integration.\nThis option is deprecated and will be removed soon.\nInstead, configure \`replaysSessionSampleRate\` directly in the SDK init options, e.g.:\nSentry.init({ replaysSessionSampleRate: ${r} })`),this._initialOptions.sessionSampleRate=r),"number"==typeof s&&(console.warn(`[Replay] You are passing \`errorSampleRate\` to the Replay integration.\nThis option is deprecated and will be removed soon.\nInstead, configure \`replaysOnErrorSampleRate\` directly in the SDK init options, e.g.:\nSentry.init({ replaysOnErrorSampleRate: ${s} })`),this._initialOptions.errorSampleRate=s),this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${Tn}`:Tn),this._isInitialized&&Pn())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return Dn}set _isInitialized(t){Dn=t}setupOnce(){Pn()&&(this._setup(),setTimeout((()=>this._initialize())))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop():Promise.resolve()}flush(t){return this._replay&&this._replay.isEnabled()?this._replay.sendBufferedReplayOrFlush(t):Promise.resolve()}getReplayId(){if(this._replay&&this._replay.isEnabled())return this._replay.getSessionId()}_initialize(){this._replay&&this._replay.initializeSampling()}_setup(){const t=function(t){const e=(0,i.Gd)().getClient(),n=e&&e.getOptions(),o={sessionSampleRate:0,errorSampleRate:0,...(0,p.Jr)(t)};if(!n)return console.warn("SDK client is not available."),o;null==t.sessionSampleRate&&null==t.errorSampleRate&&null==n.replaysSessionSampleRate&&null==n.replaysOnErrorSampleRate&&console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.");"number"==typeof n.replaysSessionSampleRate&&(o.sessionSampleRate=n.replaysSessionSampleRate);"number"==typeof n.replaysOnErrorSampleRate&&(o.errorSampleRate=n.replaysOnErrorSampleRate);return o}(this._initialOptions);this._replay=new wn({options:t,recordingOptions:this._recordingOptions})}}function An(t){return[...Mn,...t.map((t=>t.toLowerCase()))]}Rn.__initStatic()},9181:(t,e,n)=>{"use strict";n.d(e,{EN:()=>c,IQ:()=>u,bU:()=>r});var i=n(7597),o=n(2343);const r="baggage",s="sentry-",a=/^sentry-/,l=8192;function c(t){if(!(0,i.HD)(t)&&!Array.isArray(t))return;let e={};if(Array.isArray(t))e=t.reduce(((t,e)=>({...t,...h(e)})),{});else{if(!t)return;e=h(t)}const n=Object.entries(e).reduce(((t,[e,n])=>{if(e.match(a)){t[e.slice(s.length)]=n}return t}),{});return Object.keys(n).length>0?n:void 0}function u(t){return function(t){if(0===Object.keys(t).length)return;return Object.entries(t).reduce(((t,[e,n],i)=>{const r=`${encodeURIComponent(e)}=${encodeURIComponent(n)}`,s=0===i?r:`${t},${r}`;return s.length>l?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.warn(`Not adding key: ${e} with val: ${n} to baggage header due to exceeding baggage size limits.`),t):s}),"")}(Object.entries(t).reduce(((t,[e,n])=>(n&&(t[`${s}${e}`]=n),t)),{}))}function h(t){return t.split(",").map((t=>t.split("=").map((t=>decodeURIComponent(t.trim()))))).reduce(((t,[e,n])=>(t[e]=n,t)),{})}},8464:(t,e,n)=>{"use strict";n.d(e,{Rt:()=>s,l4:()=>l,qT:()=>c});var i=n(7597);const o=(0,n(1235).Rf)(),r=80;function s(t,e={}){try{let n=t;const i=5,o=[];let s=0,l=0;const c=" > ",u=c.length;let h;const d=Array.isArray(e)?e:e.keyAttrs,p=!Array.isArray(e)&&e.maxStringLength||r;for(;n&&s++<i&&(h=a(n,d),!("html"===h||s>1&&l+o.length*u+h.length>=p));)o.push(h),l+=h.length,n=n.parentNode;return o.reverse().join(c)}catch(t){return"<unknown>"}}function a(t,e){const n=t,o=[];let r,s,a,l,c;if(!n||!n.tagName)return"";o.push(n.tagName.toLowerCase());const u=e&&e.length?e.filter((t=>n.getAttribute(t))).map((t=>[t,n.getAttribute(t)])):null;if(u&&u.length)u.forEach((t=>{o.push(`[${t[0]}="${t[1]}"]`)}));else if(n.id&&o.push(`#${n.id}`),r=n.className,r&&(0,i.HD)(r))for(s=r.split(/\s+/),c=0;c<s.length;c++)o.push(`.${s[c]}`);const h=["aria-label","type","name","title","alt"];for(c=0;c<h.length;c++)a=h[c],l=n.getAttribute(a),l&&o.push(`[${a}="${l}"]`);return o.join("")}function l(){try{return o.document.location.href}catch(t){return""}}function c(t){return o.document&&o.document.querySelector?o.document.querySelector(t):null}},292:(t,e,n)=>{"use strict";n.d(e,{RA:()=>r,U4:()=>s,vK:()=>l});var i=n(409);const o=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function r(t,e=!1){const{host:n,path:i,pass:o,port:r,projectId:s,protocol:a,publicKey:l}=t;return`${a}://${l}${e&&o?`:${o}`:""}@${n}${r?`:${r}`:""}/${i?`${i}/`:i}${s}`}function s(t){const e=o.exec(t);if(!e)throw new i.b(`Invalid Sentry Dsn: ${t}`);const[n,r,s="",l,c="",u]=e.slice(1);let h="",d=u;const p=d.split("/");if(p.length>1&&(h=p.slice(0,-1).join("/"),d=p.pop()),d){const t=d.match(/^\d+/);t&&(d=t[0])}return a({host:l,pass:s,path:h,projectId:d,port:c,protocol:n,publicKey:r})}function a(t){return{protocol:t.protocol,publicKey:t.publicKey||"",pass:t.pass||"",host:t.host,port:t.port||"",path:t.path||"",projectId:t.projectId}}function l(t){const e="string"==typeof t?s(t):a(t);return function(t){if("undefined"!=typeof __SENTRY_DEBUG__&&!__SENTRY_DEBUG__)return;const{port:e,projectId:n,protocol:o}=t;if(["protocol","publicKey","host","projectId"].forEach((e=>{if(!t[e])throw new i.b(`Invalid Sentry Dsn: ${e} missing`)})),!n.match(/^\d+$/))throw new i.b(`Invalid Sentry Dsn: Invalid projectId ${n}`);if(!function(t){return"http"===t||"https"===t}(o))throw new i.b(`Invalid Sentry Dsn: Invalid protocol ${o}`);if(e&&isNaN(parseInt(e,10)))throw new i.b(`Invalid Sentry Dsn: Invalid port ${e}`)}(e),e}},8518:(t,e,n)=>{"use strict";function i(){return"undefined"!=typeof __SENTRY_BROWSER_BUNDLE__&&!!__SENTRY_BROWSER_BUNDLE__}function o(){return"npm"}n.d(e,{S:()=>o,n:()=>i})},8725:(t,e,n)=>{"use strict";n.d(e,{BO:()=>a,Cd:()=>_,HY:()=>m,Jd:()=>s,R:()=>c,V$:()=>h,f4:()=>d,gv:()=>l,mL:()=>g,zQ:()=>p});var i=n(292),o=n(8007),r=n(5301);function s(t,e=[]){return[t,e]}function a(t,e){const[n,i]=t;return[n,[...i,e]]}function l(t,e){const n=t[1];for(const t of n){if(e(t,t[0].type))return!0}return!1}function c(t,e){return l(t,((t,n)=>e.includes(n)))}function u(t,e){return(e||new TextEncoder).encode(t)}function h(t,e){const[n,i]=t;let r=JSON.stringify(n);function s(t){"string"==typeof r?r="string"==typeof t?r+t:[u(r,e),t]:r.push("string"==typeof t?u(t,e):t)}for(const t of i){const[e,n]=t;if(s(`\n${JSON.stringify(e)}\n`),"string"==typeof n||n instanceof Uint8Array)s(n);else{let t;try{t=JSON.stringify(n)}catch(e){t=JSON.stringify((0,o.Fv)(n))}s(t)}}return"string"==typeof r?r:function(t){const e=t.reduce(((t,e)=>t+e.length),0),n=new Uint8Array(e);let i=0;for(const e of t)n.set(e,i),i+=e.length;return n}(r)}function d(t,e,n){let i="string"==typeof t?e.encode(t):t;function o(t){const e=i.subarray(0,t);return i=i.subarray(t+1),e}function r(){let t=i.indexOf(10);return t<0&&(t=i.length),JSON.parse(n.decode(o(t)))}const s=r(),a=[];for(;i.length;){const t=r(),e="number"==typeof t.length?t.length:void 0;a.push([t,e?o(e):r()])}return[s,a]}function p(t,e){const n="string"==typeof t.data?u(t.data,e):t.data;return[(0,r.Jr)({type:"attachment",length:n.length,filename:t.filename,content_type:t.contentType,attachment_type:t.attachmentType}),n]}const f={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor"};function g(t){return f[t]}function m(t){if(!t||!t.sdk)return;const{name:e,version:n}=t.sdk;return{name:e,version:n}}function _(t,e,n,o){const s=t.sdkProcessingMetadata&&t.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:t.event_id,sent_at:(new Date).toISOString(),...e&&{sdk:e},...!!n&&{dsn:(0,i.RA)(o)},...s&&{trace:(0,r.Jr)({...s})}}}},409:(t,e,n)=>{"use strict";n.d(e,{b:()=>i});class i extends Error{constructor(t,e="warn"){super(t),this.message=t,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=e}}},2533:(t,e,n)=>{"use strict";n.d(e,{xU:()=>h,oq:()=>g});var i=n(7597),o=n(2343),r=n(5301),s=n(360),a=n(8823),l=n(1235);const c=(0,l.Rf)();const u=(0,l.Rf)(),h="__sentry_xhr_v2__",d={},p={};function f(t){if(!p[t])switch(p[t]=!0,t){case"console":!function(){if(!("console"in u))return;o.RU.forEach((function(t){t in u.console&&(0,r.hl)(u.console,t,(function(e){return function(...n){m("console",{args:n,level:t}),e&&e.apply(u.console,n)}}))}))}();break;case"dom":!function(){if(!("document"in u))return;const t=m.bind(null,"dom"),e=S(t,!0);u.document.addEventListener("click",e,!1),u.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach((e=>{const n=u[e]&&u[e].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&((0,r.hl)(n,"addEventListener",(function(e){return function(n,i,o){if("click"===n||"keypress"==n)try{const i=this,r=i.__sentry_instrumentation_handlers__=i.__sentry_instrumentation_handlers__||{},s=r[n]=r[n]||{refCount:0};if(!s.handler){const i=S(t);s.handler=i,e.call(this,n,i,o)}s.refCount++}catch(t){}return e.call(this,n,i,o)}})),(0,r.hl)(n,"removeEventListener",(function(t){return function(e,n,i){if("click"===e||"keypress"==e)try{const n=this,o=n.__sentry_instrumentation_handlers__||{},r=o[e];r&&(r.refCount--,r.refCount<=0&&(t.call(this,e,r.handler,i),r.handler=void 0,delete o[e]),0===Object.keys(o).length&&delete n.__sentry_instrumentation_handlers__)}catch(t){}return t.call(this,e,n,i)}})))}))}();break;case"xhr":!function(){if(!("XMLHttpRequest"in u))return;const t=XMLHttpRequest.prototype;(0,r.hl)(t,"open",(function(t){return function(...e){const n=e[1],o=this[h]={method:(0,i.HD)(e[0])?e[0].toUpperCase():e[0],url:e[1],request_headers:{}};(0,i.HD)(n)&&"POST"===o.method&&n.match(/sentry_key/)&&(this.__sentry_own_request__=!0);const s=()=>{const t=this[h];if(t&&4===this.readyState){try{t.status_code=this.status}catch(t){}m("xhr",{args:e,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:this})}};return"onreadystatechange"in this&&"function"==typeof this.onreadystatechange?(0,r.hl)(this,"onreadystatechange",(function(t){return function(...e){return s(),t.apply(this,e)}})):this.addEventListener("readystatechange",s),(0,r.hl)(this,"setRequestHeader",(function(t){return function(...e){const[n,i]=e,o=this[h];return o&&(o.request_headers[n.toLowerCase()]=i),t.apply(this,e)}})),t.apply(this,e)}})),(0,r.hl)(t,"send",(function(t){return function(...e){const n=this[h];return n&&void 0!==e[0]&&(n.body=e[0]),m("xhr",{args:e,startTimestamp:Date.now(),xhr:this}),t.apply(this,e)}}))}();break;case"fetch":!function(){if(!(0,a.t$)())return;(0,r.hl)(u,"fetch",(function(t){return function(...e){const{method:n,url:i}=function(t){if(0===t.length)return{method:"GET",url:""};if(2===t.length){const[e,n]=t;return{url:y(e),method:_(n,"method")?String(n.method).toUpperCase():"GET"}}const e=t[0];return{url:y(e),method:_(e,"method")?String(e.method).toUpperCase():"GET"}}(e),o={args:e,fetchData:{method:n,url:i},startTimestamp:Date.now()};return m("fetch",{...o}),t.apply(u,e).then((t=>(m("fetch",{...o,endTimestamp:Date.now(),response:t}),t)),(t=>{throw m("fetch",{...o,endTimestamp:Date.now(),error:t}),t}))}}))}();break;case"history":!function(){if(!function(){const t=c.chrome,e=t&&t.app&&t.app.runtime,n="history"in c&&!!c.history.pushState&&!!c.history.replaceState;return!e&&n}())return;const t=u.onpopstate;function e(t){return function(...e){const n=e.length>2?e[2]:void 0;if(n){const t=v,e=String(n);v=e,m("history",{from:t,to:e})}return t.apply(this,e)}}u.onpopstate=function(...e){const n=u.location.href,i=v;if(v=n,m("history",{from:i,to:n}),t)try{return t.apply(this,e)}catch(t){}},(0,r.hl)(u.history,"pushState",e),(0,r.hl)(u.history,"replaceState",e)}();break;case"error":w=u.onerror,u.onerror=function(t,e,n,i,o){return m("error",{column:i,error:o,line:n,msg:t,url:e}),!(!w||w.__SENTRY_LOADER__)&&w.apply(this,arguments)},u.onerror.__SENTRY_INSTRUMENTED__=!0;break;case"unhandledrejection":O=u.onunhandledrejection,u.onunhandledrejection=function(t){return m("unhandledrejection",t),!(O&&!O.__SENTRY_LOADER__)||O.apply(this,arguments)},u.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0;break;default:return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.warn("unknown instrumentation type:",t))}}function g(t,e){d[t]=d[t]||[],d[t].push(e),f(t)}function m(t,e){if(t&&d[t])for(const n of d[t]||[])try{n(e)}catch(e){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.error(`Error while triggering instrumentation handler.\nType: ${t}\nName: ${(0,s.$P)(n)}\nError:`,e)}}function _(t,e){return!!t&&"object"==typeof t&&!!t[e]}function y(t){return"string"==typeof t?t:t?_(t,"url")?t.url:t.toString?t.toString():"":""}let v;const C=1e3;let b,E;function S(t,e=!1){return n=>{if(!n||E===n)return;if(function(t){if("keypress"!==t.type)return!1;try{const e=t.target;if(!e||!e.tagName)return!0;if("INPUT"===e.tagName||"TEXTAREA"===e.tagName||e.isContentEditable)return!1}catch(t){}return!0}(n))return;const i="keypress"===n.type?"input":n.type;(void 0===b||function(t,e){if(!t)return!0;if(t.type!==e.type)return!0;try{if(t.target!==e.target)return!0}catch(t){}return!1}(E,n))&&(t({event:n,name:i,global:e}),E=n),clearTimeout(b),b=u.setTimeout((()=>{b=void 0}),C)}}let w=null;let O=null},7597:(t,e,n)=>{"use strict";n.d(e,{Cy:()=>m,HD:()=>c,J8:()=>g,Kj:()=>f,PO:()=>h,TX:()=>a,V9:()=>y,VW:()=>s,VZ:()=>o,cO:()=>d,fm:()=>l,i2:()=>_,kK:()=>p,pt:()=>u});const i=Object.prototype.toString;function o(t){switch(i.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return y(t,Error)}}function r(t,e){return i.call(t)===`[object ${e}]`}function s(t){return r(t,"ErrorEvent")}function a(t){return r(t,"DOMError")}function l(t){return r(t,"DOMException")}function c(t){return r(t,"String")}function u(t){return null===t||"object"!=typeof t&&"function"!=typeof t}function h(t){return r(t,"Object")}function d(t){return"undefined"!=typeof Event&&y(t,Event)}function p(t){return"undefined"!=typeof Element&&y(t,Element)}function f(t){return r(t,"RegExp")}function g(t){return Boolean(t&&t.then&&"function"==typeof t.then)}function m(t){return h(t)&&"nativeEvent"in t&&"preventDefault"in t&&"stopPropagation"in t}function _(t){return"number"==typeof t&&t!=t}function y(t,e){try{return t instanceof e}catch(t){return!1}}},2343:(t,e,n)=>{"use strict";n.d(e,{Cf:()=>r,RU:()=>o,kg:()=>a});var i=n(1235);const o=["debug","info","warn","error","log","assert","trace"];function r(t){if(!("console"in i.n2))return t();const e=i.n2.console,n={};o.forEach((t=>{const i=e[t]&&e[t].__sentry_original__;t in e&&i&&(n[t]=e[t],e[t]=i)}));try{return t()}finally{Object.keys(n).forEach((t=>{e[t]=n[t]}))}}function s(){let t=!1;const e={enable:()=>{t=!0},disable:()=>{t=!1}};return"undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__?o.forEach((n=>{e[n]=(...e)=>{t&&r((()=>{i.n2.console[n](`Sentry Logger [${n}]:`,...e)}))}})):o.forEach((t=>{e[t]=()=>{}})),e}let a;a="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__?(0,i.YO)("logger",s):s()},2844:(t,e,n)=>{"use strict";n.d(e,{DM:()=>r,Db:()=>l,EG:()=>c,YO:()=>u,jH:()=>a,lE:()=>h});var i=n(5301),o=n(1235);function r(){const t=o.n2,e=t.crypto||t.msCrypto;if(e&&e.randomUUID)return e.randomUUID().replace(/-/g,"");const n=e&&e.getRandomValues?()=>e.getRandomValues(new Uint8Array(1))[0]:()=>16*Math.random();return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,(t=>(t^(15&n())>>t/4).toString(16)))}function s(t){return t.exception&&t.exception.values?t.exception.values[0]:void 0}function a(t){const{message:e,event_id:n}=t;if(e)return e;const i=s(t);return i?i.type&&i.value?`${i.type}: ${i.value}`:i.type||i.value||n||"<unknown>":n||"<unknown>"}function l(t,e,n){const i=t.exception=t.exception||{},o=i.values=i.values||[],r=o[0]=o[0]||{};r.value||(r.value=e||""),r.type||(r.type=n||"Error")}function c(t,e){const n=s(t);if(!n)return;const i=n.mechanism;if(n.mechanism={type:"generic",handled:!0,...i,...e},e&&"data"in e){const t={...i&&i.data,...e.data};n.mechanism.data=t}}function u(t){if(t&&t.__sentry_captured__)return!0;try{(0,i.xp)(t,"__sentry_captured__",!0)}catch(t){}return!1}function h(t){return Array.isArray(t)?t:[t]}},1422:(t,e,n)=>{"use strict";n.d(e,{KV:()=>o,l$:()=>r});var i=n(8518);function o(){return!(0,i.n)()&&"[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0)}function r(t,e){return t.require(e)}t=n.hmd(t)},8007:(t,e,n)=>{"use strict";n.d(e,{Fv:()=>s,Qy:()=>a});var i=n(7597);var o=n(5301),r=n(360);function s(t,e=100,n=1/0){try{return l("",t,e,n)}catch(t){return{ERROR:`**non-serializable** (${t})`}}}function a(t,e=3,n=102400){const i=s(t,e);return o=i,function(t){return~-encodeURI(t).split(/%..|./).length}(JSON.stringify(o))>n?a(t,e-1,n):i;var o}function l(t,e,s=1/0,a=1/0,c=function(){const t="function"==typeof WeakSet,e=t?new WeakSet:[];return[function(n){if(t)return!!e.has(n)||(e.add(n),!1);for(let t=0;t<e.length;t++)if(e[t]===n)return!0;return e.push(n),!1},function(n){if(t)e.delete(n);else for(let t=0;t<e.length;t++)if(e[t]===n){e.splice(t,1);break}}]}()){const[u,h]=c;if(null==e||["number","boolean","string"].includes(typeof e)&&!(0,i.i2)(e))return e;const d=function(t,e){try{if("domain"===t&&e&&"object"==typeof e&&e._events)return"[Domain]";if("domainEmitter"===t)return"[DomainEmitter]";if(void 0!==n.g&&e===n.g)return"[Global]";if("undefined"!=typeof window&&e===window)return"[Window]";if("undefined"!=typeof document&&e===document)return"[Document]";if((0,i.Cy)(e))return"[SyntheticEvent]";if("number"==typeof e&&e!=e)return"[NaN]";if("function"==typeof e)return`[Function: ${(0,r.$P)(e)}]`;if("symbol"==typeof e)return`[${String(e)}]`;if("bigint"==typeof e)return`[BigInt: ${String(e)}]`;const o=function(t){const e=Object.getPrototypeOf(t);return e?e.constructor.name:"null prototype"}(e);return/^HTML(\w*)Element$/.test(o)?`[HTMLElement: ${o}]`:`[object ${o}]`}catch(t){return`**non-serializable** (${t})`}}(t,e);if(!d.startsWith("[object "))return d;if(e.__sentry_skip_normalization__)return e;const p="number"==typeof e.__sentry_override_normalization_depth__?e.__sentry_override_normalization_depth__:s;if(0===p)return d.replace("object ","");if(u(e))return"[Circular ~]";const f=e;if(f&&"function"==typeof f.toJSON)try{return l("",f.toJSON(),p-1,a,c)}catch(t){}const g=Array.isArray(e)?[]:{};let m=0;const _=(0,o.Sh)(e);for(const t in _){if(!Object.prototype.hasOwnProperty.call(_,t))continue;if(m>=a){g[t]="[MaxProperties ~]";break}const e=_[t];g[t]=l(t,e,p-1,a,c),m++}return h(e),g}},5301:(t,e,n)=>{"use strict";n.d(e,{$Q:()=>l,HK:()=>c,Jr:()=>g,Sh:()=>h,_j:()=>u,hl:()=>s,xp:()=>a,zf:()=>f});var i=n(8464),o=n(7597),r=n(7321);function s(t,e,n){if(!(e in t))return;const i=t[e],o=n(i);if("function"==typeof o)try{l(o,i)}catch(t){}t[e]=o}function a(t,e,n){Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0})}function l(t,e){const n=e.prototype||{};t.prototype=e.prototype=n,a(t,"__sentry_original__",e)}function c(t){return t.__sentry_original__}function u(t){return Object.keys(t).map((e=>`${encodeURIComponent(e)}=${encodeURIComponent(t[e])}`)).join("&")}function h(t){if((0,o.VZ)(t))return{message:t.message,name:t.name,stack:t.stack,...p(t)};if((0,o.cO)(t)){const e={type:t.type,target:d(t.target),currentTarget:d(t.currentTarget),...p(t)};return"undefined"!=typeof CustomEvent&&(0,o.V9)(t,CustomEvent)&&(e.detail=t.detail),e}return t}function d(t){try{return(0,o.kK)(t)?(0,i.Rt)(t):Object.prototype.toString.call(t)}catch(t){return"<unknown>"}}function p(t){if("object"==typeof t&&null!==t){const e={};for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}return{}}function f(t,e=40){const n=Object.keys(h(t));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=e)return(0,r.$G)(n[0],e);for(let t=n.length;t>0;t--){const i=n.slice(0,t).join(", ");if(!(i.length>e))return t===n.length?i:(0,r.$G)(i,e)}return""}function g(t){return m(t,new Map)}function m(t,e){if((0,o.PO)(t)){const n=e.get(t);if(void 0!==n)return n;const i={};e.set(t,i);for(const n of Object.keys(t))void 0!==t[n]&&(i[n]=m(t[n],e));return i}if(Array.isArray(t)){const n=e.get(t);if(void 0!==n)return n;const i=[];return e.set(t,i),t.forEach((t=>{i.push(m(t,e))})),i}return t}},228:(t,e,n)=>{"use strict";n.d(e,{JY:()=>o,Q:()=>r,WG:()=>s});const i=6e4;function o(t,e=Date.now()){const n=parseInt(`${t}`,10);if(!isNaN(n))return 1e3*n;const o=Date.parse(`${t}`);return isNaN(o)?i:o-e}function r(t,e,n=Date.now()){return function(t,e){return t[e]||t.all||0}(t,e)>n}function s(t,{statusCode:e,headers:n},i=Date.now()){const r={...t},s=n&&n["x-sentry-rate-limits"],a=n&&n["retry-after"];if(s)for(const t of s.trim().split(",")){const[e,n]=t.split(":",2),o=parseInt(e,10),s=1e3*(isNaN(o)?60:o);if(n)for(const t of n.split(";"))r[t]=i+s;else r.all=i+s}else a?r.all=i+o(a,i):429===e&&(r.all=i+6e4);return r}},360:(t,e,n)=>{"use strict";n.d(e,{$P:()=>l,Sq:()=>s,pE:()=>r});const i=50,o=/\(error: (.*)\)/;function r(...t){const e=t.sort(((t,e)=>t[0]-e[0])).map((t=>t[1]));return(t,n=0)=>{const r=[],s=t.split("\n");for(let t=n;t<s.length;t++){const n=s[t];if(n.length>1024)continue;const a=o.test(n)?n.replace(o,"$1"):n;if(!a.match(/\S*Error: /)){for(const t of e){const e=t(a);if(e){r.push(e);break}}if(r.length>=i)break}}return function(t){if(!t.length)return[];const e=t.slice(0,i),n=e[e.length-1].function;n&&/sentryWrapped/.test(n)&&e.pop();e.reverse();const o=e[e.length-1].function;o&&/captureMessage|captureException/.test(o)&&e.pop();return e.map((t=>({...t,filename:t.filename||e[e.length-1].filename,function:t.function||"?"})))}(r)}}function s(t){return Array.isArray(t)?r(...t):t}const a="<anonymous>";function l(t){try{return t&&"function"==typeof t&&t.name||a}catch(t){return a}}},7321:(t,e,n)=>{"use strict";n.d(e,{$G:()=>o,U0:()=>s,nK:()=>r});var i=n(7597);function o(t,e=0){return"string"!=typeof t||0===e||t.length<=e?t:`${t.slice(0,e)}...`}function r(t,e){if(!Array.isArray(t))return"";const n=[];for(let e=0;e<t.length;e++){const i=t[e];try{n.push(String(i))}catch(t){n.push("[value cannot be serialized]")}}return n.join(e)}function s(t,e=[],n=!1){return e.some((e=>function(t,e,n=!1){return!!(0,i.HD)(t)&&((0,i.Kj)(e)?e.test(t):!!(0,i.HD)(e)&&(n?t===e:t.includes(e)))}(t,e,n)))}},8823:(t,e,n)=>{"use strict";n.d(e,{Ak:()=>r,Du:()=>s,t$:()=>a});var i=n(2343);const o=(0,n(1235).Rf)();function r(){if(!("fetch"in o))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(t){return!1}}function s(t){return t&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}function a(){if(!r())return!1;if(s(o.fetch))return!0;let t=!1;const e=o.document;if(e&&"function"==typeof e.createElement)try{const n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(t=s(n.contentWindow.fetch)),e.head.removeChild(n)}catch(t){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.kg.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",t)}return t}},6893:(t,e,n)=>{"use strict";n.d(e,{$2:()=>s,WD:()=>r,cW:()=>a});var i,o=n(7597);function r(t){return new a((e=>{e(t)}))}function s(t){return new a(((e,n)=>{n(t)}))}!function(t){t[t.PENDING=0]="PENDING";t[t.RESOLVED=1]="RESOLVED";t[t.REJECTED=2]="REJECTED"}(i||(i={}));class a{__init(){this._state=i.PENDING}__init2(){this._handlers=[]}constructor(t){a.prototype.__init.call(this),a.prototype.__init2.call(this),a.prototype.__init3.call(this),a.prototype.__init4.call(this),a.prototype.__init5.call(this),a.prototype.__init6.call(this);try{t(this._resolve,this._reject)}catch(t){this._reject(t)}}then(t,e){return new a(((n,i)=>{this._handlers.push([!1,e=>{if(t)try{n(t(e))}catch(t){i(t)}else n(e)},t=>{if(e)try{n(e(t))}catch(t){i(t)}else i(t)}]),this._executeHandlers()}))}catch(t){return this.then((t=>t),t)}finally(t){return new a(((e,n)=>{let i,o;return this.then((e=>{o=!1,i=e,t&&t()}),(e=>{o=!0,i=e,t&&t()})).then((()=>{o?n(i):e(i)}))}))}__init3(){this._resolve=t=>{this._setResult(i.RESOLVED,t)}}__init4(){this._reject=t=>{this._setResult(i.REJECTED,t)}}__init5(){this._setResult=(t,e)=>{this._state===i.PENDING&&((0,o.J8)(e)?e.then(this._resolve,this._reject):(this._state=t,this._value=e,this._executeHandlers()))}}__init6(){this._executeHandlers=()=>{if(this._state===i.PENDING)return;const t=this._handlers.slice();this._handlers=[],t.forEach((t=>{t[0]||(this._state===i.RESOLVED&&t[1](this._value),this._state===i.REJECTED&&t[2](this._value),t[0]=!0)}))}}}},1170:(t,e,n)=>{"use strict";n.d(e,{Z1:()=>d,ph:()=>u,yW:()=>c});var i=n(1422),o=n(1235);t=n.hmd(t);const r=(0,o.Rf)(),s={nowSeconds:()=>Date.now()/1e3};const a=(0,i.KV)()?function(){try{return(0,i.l$)(t,"perf_hooks").performance}catch(t){return}}():function(){const{performance:t}=r;if(!t||!t.now)return;return{now:()=>t.now(),timeOrigin:Date.now()-t.now()}}(),l=void 0===a?s:{nowSeconds:()=>(a.timeOrigin+a.now())/1e3},c=s.nowSeconds.bind(s),u=l.nowSeconds.bind(l);let h;const d=(()=>{const{performance:t}=r;if(!t||!t.now)return void(h="none");const e=36e5,n=t.now(),i=Date.now(),o=t.timeOrigin?Math.abs(t.timeOrigin+n-i):e,s=o<e,a=t.timing&&t.timing.navigationStart,l="number"==typeof a?Math.abs(a+n-i):e;return s||l<e?o<=l?(h="timeOrigin",t.timeOrigin):(h="navigationStart",a):(h="dateNow",i)})()},7638:(t,e,n)=>{"use strict";n.d(e,{q:()=>o});const i=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function o(t){const e=t.match(i);if(!t||!e)return;let n;return"1"===e[3]?n=!0:"0"===e[3]&&(n=!1),{traceId:e[1],parentSampled:n,parentSpanId:e[2]}}},1235:(t,e,n)=>{"use strict";function i(t){return t&&t.Math==Math?t:void 0}n.d(e,{Rf:()=>r,YO:()=>s,n2:()=>o});const o="object"==typeof globalThis&&i(globalThis)||"object"==typeof window&&i(window)||"object"==typeof self&&i(self)||"object"==typeof n.g&&i(n.g)||function(){return this}()||{};function r(){return o}function s(t,e,n){const i=n||o,r=i.__SENTRY__=i.__SENTRY__||{};return r[t]||(r[t]=e())}},7475:(t,e,n)=>{"use strict";n.d(e,{W:()=>i});const i=["activate","mount","update"]},7444:(t,e,n)=>{"use strict";n.d(e,{W:()=>r});var i=n(5659),o=n(6566);const r=(t,e)=>{const{errorHandler:n,warnHandler:r,silent:s}=t.config;t.config.errorHandler=(a,l,c)=>{const u=(0,o.a)(l,!1),h=l?(0,o.o)(l):"",d={componentName:u,lifecycleHook:c,trace:h};if(e.attachProps&&l&&(l.$options&&l.$options.propsData?d.propsData=l.$options.propsData:l.$props&&(d.propsData=l.$props)),setTimeout((()=>{(0,i.Gd)().withScope((t=>{t.setContext("vue",d),(0,i.Gd)().captureException(a)}))})),"function"==typeof n&&n.call(t,a,l,c),e.logErrors){const t="undefined"!=typeof console,e=`Error in ${c}: "${a&&a.toString()}"`;r?r.call(null,e,l,h):t&&!s&&console.error(`[Vue warn]: ${e}${h}`)}}}},7270:(t,e,n)=>{"use strict";n.r(e),n.d(e,{Breadcrumbs:()=>L.O,BrowserClient:()=>w.R,BrowserProfilingIntegration:()=>yt,BrowserTracing:()=>G.gE,Dedupe:()=>N.I,FunctionToString:()=>r.c,GlobalHandlers:()=>R.d,HttpContext:()=>k.q,Hub:()=>a.Xb,InboundFilters:()=>s.QD,Integrations:()=>Ct,LinkedErrors:()=>I.iP,Replay:()=>F.U,SDK_VERSION:()=>l.J,Scope:()=>c.s,TryCatch:()=>A.p,WINDOW:()=>S.m9,addBreadcrumb:()=>u.n_,addGlobalEventProcessor:()=>c.c,addTracingExtensions:()=>h.T,attachErrorHandler:()=>St.W,captureEvent:()=>u.eN,captureException:()=>u.Tb,captureMessage:()=>u.uT,captureUserFeedback:()=>D.Jd,chromeStackLineParser:()=>P.$3,close:()=>D.xv,configureScope:()=>u.e,createTracingMixins:()=>wt.A,createTransport:()=>d.q,createUserFeedbackEnvelope:()=>M.r,defaultIntegrations:()=>D.SS,defaultRequestInstrumentationOptions:()=>B.k3,defaultStackLineParsers:()=>P.d8,defaultStackParser:()=>P.Dt,eventFromException:()=>T.dr,eventFromMessage:()=>T.aB,extractTraceparentData:()=>p.q,flush:()=>D.yl,forceLoad:()=>D.Eg,geckoStackLineParser:()=>P.$Q,getActiveTransaction:()=>f.x1,getCurrentHub:()=>a.Gd,getHubFromCarrier:()=>a.vi,init:()=>bt.S,instrumentOutgoingRequests:()=>B.L7,lastEventId:()=>D.eW,makeBrowserOfflineTransport:()=>X,makeFetchTransport:()=>O.f,makeMain:()=>a.pj,makeMultiplexedTransport:()=>v,makeXHRTransport:()=>x.K,onLoad:()=>D.lA,onProfilingStartRouteTransaction:()=>gt,opera10StackLineParser:()=>P.NP,opera11StackLineParser:()=>P.HH,setContext:()=>u.v,setExtra:()=>u.sU,setExtras:()=>u.rJ,setTag:()=>u.YA,setTags:()=>u.mG,setUser:()=>u.av,showReportDialog:()=>D.jp,spanStatusfromHttpCode:()=>C.Zd,startTransaction:()=>u.Yr,trace:()=>E,vueRouterInstrumentation:()=>Et.x,winjsStackLineParser:()=>P.R2,withScope:()=>u.$e,wrap:()=>D.re});var i={};n.r(i),n.d(i,{FunctionToString:()=>r.c,InboundFilters:()=>s.QD});var o={};n.r(o),n.d(o,{Breadcrumbs:()=>L.O,Dedupe:()=>N.I,GlobalHandlers:()=>R.d,HttpContext:()=>k.q,LinkedErrors:()=>I.iP,TryCatch:()=>A.p});var r=n(9116),s=n(2422),a=n(5659),l=n(105),c=n(350),u=n(4487),h=n(6890),d=n(9604),p=n(7638),f=n(9791),g=n(8725),m=n(292),_=n(1984);function y(t,e){let n;return(0,g.gv)(t,((t,i)=>(e.includes(i)&&(n=Array.isArray(t)?t[1]:void 0),!!n))),n}function v(t,e){return n=>{const i=t(n),o={};return{send:async function(r){const s=e({envelope:r,getEvent:function(t){const e=t&&t.length?t:["event"];return y(r,e)}}).map((e=>function(e){if(!o[e]){const i=(0,_.U)((0,m.U4)(e));o[e]=t({...n,url:i})}return o[e]}(e)));return 0===s.length&&s.push(i),(await Promise.all(s.map((t=>t.send(r)))))[0]},flush:async function(t){const e=[...Object.keys(o).map((t=>o[t])),i];return(await Promise.all(e.map((e=>e.flush(t))))).every((t=>t))}}}}var C=n(8903),b=n(7597);function E(t,e,n=(()=>{})){const i={...t};void 0!==i.name&&void 0===i.description&&(i.description=i.name);const o=(0,a.Gd)(),r=o.getScope(),s=r.getSpan(),l=s?s.startChild(i):o.startTransaction(i);function c(){l&&l.finish(),o.getScope().setSpan(s)}let u;r.setSpan(l);try{u=e(l)}catch(t){throw l&&l.setStatus("internal_error"),n(t),c(),t}return(0,b.J8)(u)?Promise.resolve(u).then((()=>{c()}),(t=>{l&&l.setStatus("internal_error"),n(t),c()})):c(),u}var S=n(6891),w=n(2248),O=n(8838),x=n(8131),P=n(4469),T=n(4773),M=n(911),D=n(8620),R=n(2136),A=n(3692),L=n(7729),I=n(1634),k=n(1945),N=n(9730),F=n(3078),G=n(9553),B=n(516),j=n(2343),U=n(228);const V=100,W=5e3,H=36e5;function $(t,e){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&j.kg.info(`[Offline]: ${t}`,e)}function z(t){return new Promise(((e,n)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>n(t.error)}))}function K(t){return z(t.getAllKeys())}function Y(t){let e;function n(){return null==e&&(e=function(t,e){const n=indexedDB.open(t);n.onupgradeneeded=()=>n.result.createObjectStore(e);const i=z(n);return t=>i.then((n=>t(n.transaction(e,"readwrite").objectStore(e))))}(t.dbName||"sentry-offline",t.storeName||"queue")),e}return{insert:async e=>{try{const i=await(0,g.V$)(e,t.textEncoder);await function(t,e,n){return t((t=>K(t).then((i=>{if(!(i.length>=n))return t.put(e,Math.max(...i,0)+1),z(t.transaction)}))))}(n(),i,t.maxQueueSize||30)}catch(t){}},pop:async()=>{try{const e=await function(t){return t((t=>K(t).then((e=>{if(0!==e.length)return z(t.get(e[0])).then((n=>(t.delete(e[0]),z(t.transaction).then((()=>n)))))}))))}(n());if(e)return(0,g.f4)(e,t.textEncoder||new TextEncoder,t.textDecoder||new TextDecoder)}catch(t){}}}}function X(t){return function(t){return e=>t({...e,createStore:Y})}(function(t){return e=>{const n=t(e),i=e.createStore?e.createStore(e):void 0;let o,r=W;function s(t,n,i){return!(0,g.R)(t,["replay_event","replay_recording","client_report"])&&(!e.shouldStore||e.shouldStore(t,n,i))}function a(t){i&&(o&&clearTimeout(o),o=setTimeout((async()=>{o=void 0;const t=await i.pop();t&&($("Attempting to send previously queued event"),c(t).catch((t=>{$("Failed to retry sending",t)})))}),t),"number"!=typeof o&&o.unref&&o.unref())}function l(){o||(a(r),r=Math.min(2*r,H))}async function c(t){try{const e=await n.send(t);let i=V;if(e)if(e.headers&&e.headers["retry-after"])i=(0,U.JY)(e.headers["retry-after"]);else if((e.statusCode||0)>=400)return e;return a(i),r=W,e}catch(e){if(i&&await s(t,e,r))return await i.insert(t),l(),$("Error sending. Event queued",e),{};throw e}}return e.flushAtStartup&&l(),{send:c,flush:t=>n.flush(t)}}}(t))}var q=n(2844);const Z=function(t){let e=[],n={};return{add(i,o){for(;e.length>=t;){const t=e.shift();void 0!==t&&delete n[t]}n[i]&&this.delete(i),e.push(i),n[i]=o},clear(){n={},e=[]},get:t=>n[t],size:()=>e.length,delete(t){if(!n[t])return!1;delete n[t];for(let n=0;n<e.length;n++)if(e[n]===t){e.splice(n,1);break}return!0}}}(20);var J=n(1131),Q=n(5301);const tt=1e6,et=String(0),nt="main";let it="",ot="",rt="",st=S.m9.navigator&&S.m9.navigator.userAgent||"",at="";const lt=S.m9.navigator&&S.m9.navigator.language||S.m9.navigator&&S.m9.navigator.languages&&S.m9.navigator.languages[0]||"";const ct=S.m9.navigator&&S.m9.navigator.userAgentData;var ut;function ht(t){return function(t){return!("thread_metadata"in t)}(t)?function(t){let e,n=0;const i={samples:[],stacks:[],frames:[],thread_metadata:{[et]:{name:nt}}};if(!t.samples.length)return i;const o=t.samples[0].timestamp;for(let r=0;r<t.samples.length;r++){const s=t.samples[r];if(void 0===s.stackId){void 0===e&&(e=n,i.stacks[e]=[],n++),i.samples[r]={elapsed_since_start_ns:((s.timestamp-o)*tt).toFixed(0),stack_id:e,thread_id:et};continue}let a=t.stacks[s.stackId];const l=[];for(;a;){l.push(a.frameId);const e=t.frames[a.frameId];void 0===i.frames[a.frameId]&&(i.frames[a.frameId]={function:e.name,file:e.resourceId?t.resources[e.resourceId]:void 0,line:e.line,column:e.column}),a=void 0===a.parentId?void 0:t.stacks[a.parentId]}const c={elapsed_since_start_ns:((s.timestamp-o)*tt).toFixed(0),stack_id:n,thread_id:et};i.stacks[n]=l,i.samples[r]=c,n++}return i}(t):t}function dt(t,e,n,i){if("transaction"!==t.type)throw new TypeError("Profiling events may only be attached to transactions, this should never occur.");const o=t.sdkProcessingMetadata.profile;if(null==o)throw new TypeError(`Cannot construct profiling event envelope without a valid profile. Got ${o} instead.`);if(!o.profile_id)throw new TypeError("Profile is missing profile_id");if(o.samples.length<=1)return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&j.kg.log("[Profiling] Discarding profile because it contains less than 2 samples"),null;const r=function(t){const e=t&&t.contexts&&t.contexts.trace&&t.contexts.trace.trace_id;return"string"==typeof e&&32!==e.length&&("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&j.kg.log(`[Profiling] Invalid traceId: ${e} on profiled event`),"string"!=typeof e?"":e}(t),s=function(t){if(t&&t.sdk)return{name:t.sdk.name,version:t.sdk.version}}(n);!function(t,e){e&&(t.sdk=t.sdk||{},t.sdk.name=t.sdk.name||e.name||"unknown sdk",t.sdk.version=t.sdk.version||e.version||"unknown sdk version",t.sdk.integrations=[...t.sdk.integrations||[],...e.integrations||[]],t.sdk.packages=[...t.sdk.packages||[],...e.packages||[]])}(t,n&&n.sdk);const a=function(t,e,n,i){const o=t.sdkProcessingMetadata&&t.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:t.event_id,sent_at:(new Date).toISOString(),...e&&{sdk:e},...!!n&&{dsn:(0,m.RA)(i)},..."transaction"===t.type&&o&&{trace:(0,Q.Jr)({...o})}}}(t,s,i,e),l=ht(o),c="number"==typeof t.start_timestamp?1e3*t.start_timestamp:Date.now(),u="number"==typeof t.timestamp?1e3*t.timestamp:Date.now(),h=[{type:"profile"},{event_id:o.profile_id,timestamp:new Date(c).toISOString(),platform:"javascript",version:"1",release:t.release||"",environment:t.environment||J.J,runtime:{name:"javascript",version:S.m9.navigator.userAgent},os:{name:it,version:ot,build_number:st},device:{locale:lt,model:at,manufacturer:st,architecture:rt,is_emulator:!1},profile:l,transactions:[{name:t.transaction||"",id:t.event_id||(0,q.DM)(),trace_id:r,active_thread_id:et,relative_start_ns:"0",relative_end_ns:(1e6*(u-c)).toFixed(0)}]}];return(0,g.Jd)(a,[h])}"object"==typeof(ut=ct)&&null!==ut&&"getHighEntropyValues"in ut&&ct.getHighEntropyValues(["architecture","model","platform","platformVersion","fullVersionList"]).then((t=>{if(it=t.platform||"",rt=t.architecture||"",at=t.model||"",ot=t.platformVersion||"",t.fullVersionList&&t.fullVersionList.length>0){const e=t.fullVersionList[t.fullVersionList.length-1];st=`${e.brand} ${e.version}`}})).catch((t=>{}));const pt=3e4;let ft=!1;function gt(t){return t?mt(t):(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&j.kg.log("[Profiling] Transaction is undefined, skipping profiling"),t)}function mt(t){const e=S.m9.Profiler;if("function"!=typeof e)return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&j.kg.log("[Profiling] Profiling is not supported by this browser, Profiler interface missing on window object."),t;if(!t.sampled)return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&j.kg.log("[Profiling] Transaction is not sampled, skipping profiling"),t;if(ft)return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&j.kg.log("[Profiling] Profiling has been disabled for the duration of the current user session."),t;const n=(0,a.Gd)().getClient(),i=n&&n.getOptions(),o=i&&i.profilesSampleRate||0;if(void 0===o)return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&j.kg.log("[Profiling] Profiling disabled, enable it by setting `profilesSampleRate` option to SDK init call."),t;if(Math.random()>o)return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&j.kg.log("[Profiling] Skip profiling transaction due to sampling."),t;const r=Math.floor(pt/10);let s;try{s=new e({sampleInterval:10,maxBufferSize:r})}catch(t){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&(j.kg.log("[Profiling] Failed to initialize the Profiling constructor, this is likely due to a missing 'Document-Policy': 'js-profiling' header."),j.kg.log("[Profiling] Disabling profiling for current user session.")),ft=!0}if(!s)return t;("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&j.kg.log(`[Profiling] started profiling transaction: ${t.name||t.description}`);const l=(0,q.DM)();let c=null;function u(){t&&s&&(c?("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&j.kg.log("[Profiling] profile for:",t.name||t.description,"already exists, returning early"):s.stop().then((e=>{h&&(S.m9.clearTimeout(h),h=void 0),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&j.kg.log(`[Profiling] stopped profiling of transaction: ${t.name||t.description}`),e?e.samples.length<2||(c={...e,profile_id:l},function(t,e){const n=Z.get(t);if(!n)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&j.kg.log("[Profiling] Couldn't find a transaction event for this profile, dropping it."));n.sdkProcessingMetadata=n.sdkProcessingMetadata||{},n.sdkProcessingMetadata&&!n.sdkProcessingMetadata.profile&&(n.sdkProcessingMetadata.profile=e);const i=(0,a.Gd)().getClient();if(!i)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&j.kg.log("[Profiling] getClient did not return a Client, removing profile from event and forwarding to next event processors."));const o=i.getDsn();if(!o)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&j.kg.log("[Profiling] getDsn did not return a Dsn, removing profile from event and forwarding to next event processors."));const r=i.getTransport();if(!r)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&j.kg.log("[Profiling] getTransport did not return a Transport, removing profile from event and forwarding to next event processors."));("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&j.kg.log("[Profiling] Preparing envelope and sending a profiling event");const s=dt(n,o);Z.delete(t),s?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&j.kg.log("[Profiling] Envelope constructed, sending it"),r.send(s).then(null,(t=>{("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&j.kg.log("[Profiling] Error while sending event:",t)}))):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&j.kg.log("[Profiling] Failed to construct envelope")}(l,c)):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&j.kg.log(`[Profiling] profiler returned null profile for: ${t.name||t.description}`,"this may indicate an overlapping transaction or a call to stopProfiling with a profile title that was never started")})).catch((t=>(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&j.kg.log("[Profiling] error while stopping profiler:",t),null))))}let h=S.m9.setTimeout((()=>{("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&j.kg.log("[Profiling] max profile duration elapsed, stopping profiling for:",t.name||t.description),u()}),pt);const d=t.finish.bind(t);return t.finish=function(){return t?(u(),t.setContext("profile",{profile_id:l}),d()):d()},t}function _t(){const t=(0,a.cu)();var e;t.__SENTRY__?(t.__SENTRY__.extensions=t.__SENTRY__.extensions||{},t.__SENTRY__.extensions.startTransaction?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&j.kg.log("[Profiling] startTransaction exists, patching it with profiling functionality..."),t.__SENTRY__.extensions.startTransaction=(e=t.__SENTRY__.extensions.startTransaction,function(t,n){const i=e.call(this,t,n);return void 0===i?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&j.kg.log("[Profiling] Transaction is undefined, skipping profiling"),i):mt(i)})):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&j.kg.log("[Profiling] startTransaction does not exists, profiling will not work. Make sure you import @sentry/tracing package before @sentry/profiling-node as import order matters.")):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&j.kg.log("[Profiling] Can't find main carrier, profiling won't work.")}class yt{constructor(){yt.prototype.__init.call(this)}__init(){this.name="BrowserProfilingIntegration"}setupOnce(t){_t(),t(this.handleGlobalEvent.bind(this))}handleGlobalEvent(t){const e=t.contexts&&t.contexts.profile&&t.contexts.profile.profile_id;return e&&"string"==typeof e&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&j.kg.log("[Profiling] Profiling event found, caching it."),Z.add(e,t)),t}}let vt={};S.m9.Sentry&&S.m9.Sentry.Integrations&&(vt=S.m9.Sentry.Integrations);const Ct={...vt,...i,...o};var bt=n(7816),Et=n(4816),St=n(7444),wt=n(1533)},4816:(t,e,n)=>{"use strict";n.d(e,{x:()=>s});var i=n(6891),o=n(4487),r=n(1533);function s(t,e={}){return(n,s=!0,a=!0)=>{const l={"routing.instrumentation":"vue-router"};s&&i.m9&&i.m9.location&&n({name:i.m9.location.pathname,op:"pageload",tags:l,metadata:{source:"url"}}),t.onError((t=>(0,o.Tb)(t))),t.beforeEach(((t,i,o)=>{const c=null==i.name&&0===i.matched.length,u={params:t.params,query:t.query};let h=t.path,d="url";if(t.name&&"path"!==e.routeLabel?(h=t.name.toString(),d="custom"):t.matched[0]&&t.matched[0].path&&(h=t.matched[0].path,d="route"),s&&c){const t=(0,r.x)();t&&("custom"!==t.metadata.source&&t.setName(h,d),t.setData("params",u.params),t.setData("query",u.query))}a&&!c&&n({name:h,op:"navigation",tags:l,data:u,metadata:{source:d}}),o()}))}}},7816:(t,e,n)=>{"use strict";n.d(e,{S:()=>d});var i=n(105),o=n(8620),r=n(7522),s=n(1235),a=n(2844),l=n(7475),c=n(7444),u=n(1533);const h={Vue:s.n2.Vue,attachProps:!0,logErrors:!0,hooks:l.W,timeout:2e3,trackComponents:!1,_metadata:{sdk:{name:"sentry.javascript.vue",packages:[{name:"npm:@sentry/vue",version:i.J}],version:i.J}}};function d(t={}){const e={...h,...t};if((0,o.S1)(e),e.Vue||e.app)if(e.app){(0,a.lE)(e.app).forEach((t=>p(t,e)))}else e.Vue&&p(e.Vue,e);else console.warn("[@sentry/vue]: Misconfigured SDK. Vue specific errors will not be captured.\nUpdate your `Sentry.init` call with an appropriate config option:\n`app` (Application Instance - Vue 3) or `Vue` (Vue Constructor - Vue 2).")}const p=(t,e)=>{const n=t;!0===(n._instance&&n._instance.isMounted)&&console.warn("[@sentry/vue]: Misconfigured SDK. Vue app is already mounted. Make sure to call `app.mount()` after `Sentry.init()`."),(0,c.W)(t,e),(0,r.z)(e)&&t.mixin((0,u.A)({...e,...e.tracingOptions}))}},1533:(t,e,n)=>{"use strict";n.d(e,{A:()=>d,x:()=>u});var i=n(5659),o=n(2343),r=n(1170),s=n(7475),a=n(6566);const l="ui.vue",c={activate:["activated","deactivated"],create:["beforeCreate","created"],destroy:["beforeDestroy","destroyed"],mount:["beforeMount","mounted"],update:["beforeUpdate","updated"]};function u(){const t=(0,i.Gd)().getScope();return t&&t.getTransaction()}function h(t,e,n){t.$_sentryRootSpanTimer&&clearTimeout(t.$_sentryRootSpanTimer),t.$_sentryRootSpanTimer=setTimeout((()=>{t.$root&&t.$root.$_sentryRootSpan&&(t.$root.$_sentryRootSpan.finish(e),t.$root.$_sentryRootSpan=void 0)}),n)}const d=t=>{const e=(t.hooks||[]).concat(s.W).filter(((t,e,n)=>n.indexOf(t)===e)),n={};for(const i of e){const e=c[i];if(e)for(const o of e)n[o]=function(){const n=this.$root===this;if(n){const t=u();t&&(this.$_sentryRootSpan=this.$_sentryRootSpan||t.startChild({description:"Application Render",op:`${l}.render`}))}const s=(0,a.a)(this,!1),c=Array.isArray(t.trackComponents)?t.trackComponents.indexOf(s)>-1:t.trackComponents;if(n||c)if(this.$_sentrySpans=this.$_sentrySpans||{},o==e[0]){const t=this.$root&&this.$root.$_sentryRootSpan||u();if(t){const e=this.$_sentrySpans[i];e&&!e.endTimestamp&&e.finish(),this.$_sentrySpans[i]=t.startChild({description:`Vue <${s}>`,op:`${l}.${i}`})}}else{const e=this.$_sentrySpans[i];if(!e)return;e.finish(),h(this,(0,r.ph)(),t.timeout)}};else("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.warn(`Unknown hook: ${i}`)}return n}},6566:(t,e,n)=>{"use strict";n.d(e,{a:()=>r,o:()=>s});const i=/(?:^|[-_])(\w)/g,o="<Anonymous>",r=(t,e)=>{if(!t)return o;if(t.$root===t)return"<Root>";if(!t.$options)return o;const n=t.$options;let r=n.name||n._componentTag;const s=n.__file;if(!r&&s){const t=s.match(/([^/\\]+)\.vue$/);t&&(r=t[1])}return(r?`<${a=r,a.replace(i,(t=>t.toUpperCase())).replace(/[-_]/g,"")}>`:o)+(s&&!1!==e?` at ${s}`:"");var a},s=t=>{if(t&&(t._isVue||t.__isVue)&&t.$parent){const e=[];let n=0;for(;t;){if(e.length>0){const i=e[e.length-1];if(i.constructor===t.constructor){n++,t=t.$parent;continue}n>0&&(e[e.length-1]=[i,n],n=0)}e.push(t),t=t.$parent}const i=e.map(((t,e)=>{return`${(0===e?"---\x3e ":(n=" ",i=5+2*e,n.repeat?n.repeat(i):n))+(Array.isArray(t)?`${r(t[0])}... (${t[1]} recursive calls)`:r(t))}`;var n,i})).join("\n");return`\n\nfound in\n\n${i}`}return`\n\n(found in ${r(t)})`}},7713:(t,e,n)=>{"use strict";n.d(e,{$R:()=>at,Gs:()=>Et,Hw:()=>Ct,P6:()=>dt,iA:()=>nt});var i=n(6252),o=n(2262),r=n(9963);const s=t=>{for(const e of Object.keys(t)){const n=t[e];n&&l(n.cancel)&&n.cancel()}},a=t=>t&&"function"==typeof t.charAt?t.charAt(0).toUpperCase()+t.slice(1):t,l=t=>"function"==typeof t,c=(t,e,n)=>{for(const o in n){const r="set"+a(o);t[r]?(0,i.YP)((()=>n[o]),((e,n)=>{t[r](e,n)})):e[r]&&(0,i.YP)((()=>n[o]),(t=>{e[r](t)}))}},u=(t,e,n={})=>{const i={...n};for(const n in t){const o=e[n],r=t[n];o&&(o&&!0===o.custom||void 0!==r&&(i[n]=r))}return i},h=t=>{const e={};for(const n in t)if(n.startsWith("on")&&!n.startsWith("onUpdate")&&"onReady"!==n){e[n.slice(2).toLocaleLowerCase()]=t[n]}return e},d=t=>{const e=(0,o.iH)(((...e)=>console.warn(`Method ${t} has been invoked without being replaced`))),n=(...t)=>e.value(...t);return n.wrapped=e,(0,i.JJ)(t,n),n},p=(t,e)=>t.wrapped.value=e,f="object"==typeof self&&self.self===self&&self||"object"==typeof n.g&&n.g.global===n.g&&n.g||globalThis,g=t=>{const e=(0,i.f3)(t);if(!e)throw new Error(`Attempt to inject ${t} before it was provided.`);return e},m=Symbol(),_=Symbol(),y=Symbol(),v=Symbol(),C=Symbol(),b=Symbol(),E=Symbol(),S=Symbol(),w=Symbol(),O=Symbol(),x=Symbol(),P=Symbol(),T={options:{type:Object,default:()=>({}),custom:!0}},M=t=>({options:t.options,methods:{}}),D={...T,pane:{type:String},attribution:{type:String},name:{type:String,custom:!0},layerType:{type:String,custom:!0},visible:{type:Boolean,custom:!0,default:!0}},R=(t,e,n)=>{const o=g(_),r=g(y),{options:s,methods:a}=M(t),c=u(t,D,s),h=()=>o({leafletObject:e.value}),d=()=>r({leafletObject:e.value}),p={...a,setAttribution(n){d(),e.value.options.attribution=n,t.visible&&h()},setName(){d(),t.visible&&h()},setLayerType(){d(),t.visible&&h()},setVisible(t){e.value&&(t?h():d())},bindPopup(t){e.value&&l(e.value.bindPopup)?e.value.bindPopup(t):console.warn("Attempt to bind popup before bindPopup method available on layer.")},bindTooltip(t){e.value&&l(e.value.bindTooltip)?e.value.bindTooltip(t):console.warn("Attempt to bind tooltip before bindTooltip method available on layer.")},unbindTooltip(){e.value&&(l(e.value.closeTooltip)&&e.value.closeTooltip(),l(e.value.unbindTooltip)&&e.value.unbindTooltip())},unbindPopup(){e.value&&(l(e.value.closePopup)&&e.value.closePopup(),l(e.value.unbindPopup)&&e.value.unbindPopup())},updateVisibleProp(t){n.emit("update:visible",t)}};return(0,i.JJ)(w,p.bindPopup),(0,i.JJ)(O,p.bindTooltip),(0,i.JJ)(x,p.unbindPopup),(0,i.JJ)(P,p.unbindTooltip),(0,i.Ah)((()=>{p.unbindPopup(),p.unbindTooltip(),d()})),{options:c,methods:p}},A=(t,e)=>{if(t&&e.default)return(0,i.h)("div",{style:{display:"none"}},e.default())},L={...D,interactive:{type:Boolean,default:void 0},bubblingMouseEvents:{type:Boolean,default:void 0}},I={...L,stroke:{type:Boolean,default:void 0},color:{type:String},weight:{type:Number},opacity:{type:Number},lineCap:{type:String},lineJoin:{type:String},dashArray:{type:String},dashOffset:{type:String},fill:{type:Boolean,default:void 0},fillColor:{type:String},fillOpacity:{type:Number},fillRule:{type:String},className:{type:String}},k=(t,e,n)=>{const{options:o,methods:r}=((t,e,n)=>{const{options:i,methods:o}=R(t,e,n);return{options:u(t,L,i),methods:o}})(t,e,n),s=u(t,I,o),a=g(y),l={...r,setStroke(t){e.value.setStyle({stroke:t})},setColor(t){e.value.setStyle({color:t})},setWeight(t){e.value.setStyle({weight:t})},setOpacity(t){e.value.setStyle({opacity:t})},setLineCap(t){e.value.setStyle({lineCap:t})},setLineJoin(t){e.value.setStyle({lineJoin:t})},setDashArray(t){e.value.setStyle({dashArray:t})},setDashOffset(t){e.value.setStyle({dashOffset:t})},setFill(t){e.value.setStyle({fill:t})},setFillColor(t){e.value.setStyle({fillColor:t})},setFillOpacity(t){e.value.setStyle({fillOpacity:t})},setFillRule(t){e.value.setStyle({fillRule:t})},setClassName(t){e.value.setStyle({className:t})}};return(0,i.Jd)((()=>{a({leafletObject:e.value})})),{options:s,methods:l}},N={...I,radius:{type:Number},latLng:{type:[Object,Array],required:!0,custom:!0}},F=(t,e,n)=>{const{options:i,methods:o}=k(t,e,n);return{options:u(t,N,i),methods:{...o,setRadius(t){e.value.setRadius(t)},setLatLng(t){e.value.setLatLng(t)}}}},G={...N,radius:{type:Number}},B=((0,i.aZ)({name:"LCircle",props:G,setup(t,e){const r=(0,o.iH)(),s=(0,o.iH)(!1),a=(0,i.f3)(m),l=g(_),{options:d,methods:p}=((t,e,n)=>{const{options:i,methods:o}=F(t,e,n);return{options:u(t,G,i),methods:{...o}}})(t,r,e);return(0,i.bv)((async()=>{const{circle:u}=a?f.L:await n.e(216).then(n.bind(n,6633));r.value=(0,o.Xl)(u(t.latLng,d));const g=h(e.attrs);r.value.on(g),c(p,r.value,t),l({...t,...p,leafletObject:r.value}),s.value=!0,(0,i.Y3)((()=>e.emit("ready",r.value)))})),{ready:s,leafletObject:r}},render(){return A(this.ready,this.$slots)}}),(0,i.aZ)({name:"LCircleMarker",props:N,setup(t,e){const r=(0,o.iH)(),s=(0,o.iH)(!1),a=(0,i.f3)(m),l=g(_),{options:u,methods:d}=F(t,r,e);return(0,i.bv)((async()=>{const{circleMarker:p}=a?f.L:await n.e(216).then(n.bind(n,6633));r.value=(0,o.Xl)(p(t.latLng,u));const g=h(e.attrs);r.value.on(g),c(d,r.value,t),l({...t,...d,leafletObject:r.value}),s.value=!0,(0,i.Y3)((()=>e.emit("ready",r.value)))})),{ready:s,leafletObject:r}},render(){return A(this.ready,this.$slots)}}),{...T,position:{type:String}}),j=(t,e)=>{const{options:n,methods:o}=M(t),r=u(t,B,n),s={...o,setPosition(t){e.value&&e.value.setPosition(t)}};return(0,i.Ah)((()=>{e.value&&e.value.remove()})),{options:r,methods:s}},U=((0,i.aZ)({name:"LControl",props:{...B,disableClickPropagation:{type:Boolean,custom:!0,default:!0},disableScrollPropagation:{type:Boolean,custom:!0,default:!1}},setup(t,e){const r=(0,o.iH)(),s=(0,o.iH)(),a=(0,i.f3)(m),l=g(v),{options:u,methods:h}=j(t,r);return(0,i.bv)((async()=>{const{Control:d,DomEvent:p}=a?f.L:await n.e(216).then(n.bind(n,6633)),g=d.extend({onAdd:()=>s.value});r.value=(0,o.Xl)(new g(u)),c(h,r.value,t),l({leafletObject:r.value}),t.disableClickPropagation&&s.value&&p.disableClickPropagation(s.value),t.disableScrollPropagation&&s.value&&p.disableScrollPropagation(s.value),(0,i.Y3)((()=>e.emit("ready",r.value)))})),{root:s,leafletObject:r}},render(){return(t=this.$slots).default?(0,i.h)("div",{ref:"root"},t.default()):null;var t}}),{...B,prefix:{type:String}}),V=((0,i.aZ)({name:"LControlAttribution",props:U,setup(t,e){const r=(0,o.iH)(),s=(0,i.f3)(m),a=g(v),{options:l,methods:h}=((t,e)=>{const{options:n,methods:i}=j(t,e);return{options:u(t,U,n),methods:{...i,setPrefix(t){e.value.setPrefix(t)}}}})(t,r);return(0,i.bv)((async()=>{const{control:u}=s?f.L:await n.e(216).then(n.bind(n,6633));r.value=(0,o.Xl)(u.attribution(l)),c(h,r.value,t),a({leafletObject:r.value}),(0,i.Y3)((()=>e.emit("ready",r.value)))})),{leafletObject:r}},render:()=>null}),{...B,collapsed:{type:Boolean,default:void 0},autoZIndex:{type:Boolean,default:void 0},hideSingleBase:{type:Boolean,default:void 0},sortLayers:{type:Boolean,default:void 0},sortFunction:{type:Function}}),W=((0,i.aZ)({name:"LControlLayers",props:V,setup(t,e){const r=(0,o.iH)(),s=(0,i.f3)(m),a=g(C),{options:l,methods:h}=((t,e)=>{const{options:n}=j(t,e);return{options:u(t,V,n),methods:{addLayer(t){"base"===t.layerType?e.value.addBaseLayer(t.leafletObject,t.name):"overlay"===t.layerType&&e.value.addOverlay(t.leafletObject,t.name)},removeLayer(t){e.value.removeLayer(t.leafletObject)}}}})(t,r);return(0,i.bv)((async()=>{const{control:u}=s?f.L:await n.e(216).then(n.bind(n,6633));r.value=(0,o.Xl)(u.layers(void 0,void 0,l)),c(h,r.value,t),a({...t,...h,leafletObject:r.value}),(0,i.Y3)((()=>e.emit("ready",r.value)))})),{leafletObject:r}},render:()=>null}),{...B,maxWidth:{type:Number},metric:{type:Boolean,default:void 0},imperial:{type:Boolean,default:void 0},updateWhenIdle:{type:Boolean,default:void 0}}),H=((0,i.aZ)({name:"LControlScale",props:W,setup(t,e){const r=(0,o.iH)(),s=(0,i.f3)(m),a=g(v),{options:l,methods:h}=((t,e)=>{const{options:n,methods:i}=j(t,e);return{options:u(t,W,n),methods:i}})(t,r);return(0,i.bv)((async()=>{const{control:u}=s?f.L:await n.e(216).then(n.bind(n,6633));r.value=(0,o.Xl)(u.scale(l)),c(h,r.value,t),a({leafletObject:r.value}),(0,i.Y3)((()=>e.emit("ready",r.value)))})),{leafletObject:r}},render:()=>null}),{...B,zoomInText:{type:String},zoomInTitle:{type:String},zoomOutText:{type:String},zoomOutTitle:{type:String}}),$=((0,i.aZ)({name:"LControlZoom",props:H,setup(t,e){const r=(0,o.iH)(),s=(0,i.f3)(m),a=g(v),{options:l,methods:h}=((t,e)=>{const{options:n,methods:i}=j(t,e);return{options:u(t,H,n),methods:i}})(t,r);return(0,i.bv)((async()=>{const{control:u}=s?f.L:await n.e(216).then(n.bind(n,6633));r.value=(0,o.Xl)(u.zoom(l)),c(h,r.value,t),a({leafletObject:r.value}),(0,i.Y3)((()=>e.emit("ready",r.value)))})),{leafletObject:r}},render:()=>null}),{...D}),z=(t,e,n)=>{const{options:o,methods:r}=R(t,e,n),s=u(t,$,o),a={...r,addLayer(t){e.value.addLayer(t.leafletObject)},removeLayer(t){e.value.removeLayer(t.leafletObject)}};return(0,i.JJ)(_,a.addLayer),(0,i.JJ)(y,a.removeLayer),{options:s,methods:a}},K={...$},Y=((0,i.aZ)({props:K,setup(t,e){const r=(0,o.iH)(),s=(0,o.iH)(!1),a=(0,i.f3)(m),l=g(_),{methods:d,options:p}=((t,e,n)=>{const{options:i,methods:o}=z(t,e,n);return{options:u(t,K,i),methods:{...o}}})(t,r,e);return(0,i.bv)((async()=>{const{featureGroup:u}=a?f.L:await n.e(216).then(n.bind(n,6633));r.value=(0,o.Xl)(u(void 0,p));const g=h(e.attrs);r.value.on(g),c(d,r.value,t),l({...t,...d,leafletObject:r.value}),s.value=!0,(0,i.Y3)((()=>e.emit("ready",r.value)))})),{ready:s,leafletObject:r}},render(){return A(this.ready,this.$slots)}}),{...$,geojson:{type:[Object,Array],custom:!0},optionsStyle:{type:Function,custom:!0}}),X=((0,i.aZ)({props:Y,setup(t,e){const r=(0,o.iH)(),s=(0,o.iH)(!1),a=(0,i.f3)(m),l=g(_),{methods:d,options:p}=((t,e,n)=>{const{options:i,methods:o}=z(t,e,n),r=u(t,Y,i);return Object.prototype.hasOwnProperty.call(t,"optionsStyle")&&(r.style=t.optionsStyle),{options:r,methods:{...o,setGeojson(t){e.value.clearLayers(),e.value.addData(t)},setOptionsStyle(t){e.value.setStyle(t)},getGeoJSONData:()=>e.value.toGeoJSON(),getBounds:()=>e.value.getBounds()}}})(t,r,e);return(0,i.bv)((async()=>{const{geoJSON:u}=a?f.L:await n.e(216).then(n.bind(n,6633));r.value=(0,o.Xl)(u(t.geojson,p));const g=h(e.attrs);r.value.on(g),c(d,r.value,t),l({...t,...d,leafletObject:r.value}),s.value=!0,(0,i.Y3)((()=>e.emit("ready",r.value)))})),{ready:s,leafletObject:r}},render(){return A(this.ready,this.$slots)}}),{...D,opacity:{type:Number},zIndex:{type:Number},tileSize:{type:[Number,Array,Object]},noWrap:{type:Boolean,default:void 0},minZoom:{type:Number},maxZoom:{type:Number}}),q=(t,e,n)=>{const{options:o,methods:r}=R(t,e,n),s=u(t,X,o),a={...r,setTileComponent(){var t;null==(t=e.value)||t.redraw()}};return(0,i.Ah)((()=>{e.value.off()})),{options:s,methods:a}},Z=(t,e,n,o)=>t.extend({initialize(t){this.tileComponents={},this.on("tileunload",this._unloadTile),n.setOptions(this,t)},createTile(t){const n=this._tileCoordsToKey(t);this.tileComponents[n]=e.create("div");const s=(0,i.h)({setup:o,props:["coords"]},{coords:t});return(0,r.render)(s,this.tileComponents[n]),this.tileComponents[n]},_unloadTile(t){const e=this._tileCoordsToKey(t.coords);this.tileComponents[e]&&(this.tileComponents[e].innerHTML="",this.tileComponents[e]=void 0)}}),J=((0,i.aZ)({props:{...X,childRender:{type:Function,required:!0}},setup(t,e){const r=(0,o.iH)(),s=(0,o.iH)(null),a=(0,o.iH)(!1),l=(0,i.f3)(m),u=g(_),{options:d,methods:p}=q(t,r,e);return(0,i.bv)((async()=>{const{GridLayer:s,DomUtil:g,Util:m}=l?f.L:await n.e(216).then(n.bind(n,6633)),_=Z(s,g,m,t.childRender);r.value=(0,o.Xl)(new _(d));const y=h(e.attrs);r.value.on(y),c(p,r.value,t),u({...t,...p,leafletObject:r.value}),a.value=!0,(0,i.Y3)((()=>e.emit("ready",r.value)))})),{root:s,ready:a,leafletObject:r}},render(){return this.ready?(0,i.h)("div",{style:{display:"none"},ref:"root"}):null}}),{iconUrl:{type:String},iconRetinaUrl:{type:String},iconSize:{type:[Object,Array]},iconAnchor:{type:[Object,Array]},popupAnchor:{type:[Object,Array]},tooltipAnchor:{type:[Object,Array]},shadowUrl:{type:String},shadowRetinaUrl:{type:String},shadowSize:{type:[Object,Array]},shadowAnchor:{type:[Object,Array]},bgPos:{type:[Object,Array]},className:{type:String}}),Q=((0,i.aZ)({name:"LIcon",props:{...J,...T},setup(t,e){const r=(0,o.iH)(),s=(0,i.f3)(m),a=g(b),l=g(E),d=g(S);let p,_,y,v,C;const w=(n,i,o)=>{const r=n&&n.innerHTML;if(!i)return void(o&&C&&a()&&l(r));const s=h(e.attrs);C&&_(C,s);const{options:c}=M(t),f=u(t,J,c);r&&(f.html=r),C=f.html?y(f):v(f),p(C,s),d(C)},O=()=>{(0,i.Y3)((()=>w(r.value,!0,!1)))},x=()=>{(0,i.Y3)((()=>w(r.value,!1,!0)))},P={setIconUrl:O,setIconRetinaUrl:O,setIconSize:O,setIconAnchor:O,setPopupAnchor:O,setTooltipAnchor:O,setShadowUrl:O,setShadowRetinaUrl:O,setShadowAnchor:O,setBgPos:O,setClassName:O,setHtml:O};return(0,i.bv)((async()=>{const{DomEvent:e,divIcon:i,icon:o}=s?f.L:await n.e(216).then(n.bind(n,6633));p=e.on,_=e.off,y=i,v=o,c(P,{},t),new MutationObserver(x).observe(r.value,{attributes:!0,childList:!0,characterData:!0,subtree:!0}),O()})),{root:r}},render(){const t=this.$slots.default?this.$slots.default():void 0;return(0,i.h)("div",{ref:"root"},t)}}),{...D,opacity:{type:Number},alt:{type:String},interactive:{type:Boolean,default:void 0},crossOrigin:{type:Boolean,default:void 0},errorOverlayUrl:{type:String},zIndex:{type:Number},className:{type:String},url:{type:String,required:!0,custom:!0},bounds:{type:[Array,Object],required:!0,custom:!0}});(0,i.aZ)({name:"LImageOverlay",props:Q,setup(t,e){const r=(0,o.iH)(),s=(0,o.iH)(!1),a=(0,i.f3)(m),l=g(_),{options:d,methods:p}=((t,e,n)=>{const{options:i,methods:o}=R(t,e,n);return{options:u(t,Q,i),methods:{...o,setOpacity:t=>e.value.setOpacity(t),setUrl:t=>e.value.setUrl(t),setBounds:t=>e.value.setBounds(t),getBounds:()=>e.value.getBounds(),getElement:()=>e.value.getElement(),bringToFront:()=>e.value.bringToFront(),bringToBack:()=>e.value.bringToBack(),setZIndex:t=>e.value.setZIndex(t)}}})(t,r,e);return(0,i.bv)((async()=>{const{imageOverlay:u}=a?f.L:await n.e(216).then(n.bind(n,6633));r.value=(0,o.Xl)(u(t.url,t.bounds,d));const g=h(e.attrs);r.value.on(g),c(p,r.value,t),l({...t,...p,leafletObject:r.value}),s.value=!0,(0,i.Y3)((()=>e.emit("ready",r.value)))})),{ready:s,leafletObject:r}},render(){return A(this.ready,this.$slots)}}),(0,i.aZ)({props:$,setup(t,e){const r=(0,o.iH)(),s=(0,o.iH)(!1),a=(0,i.f3)(m),l=g(_),{methods:u}=z(t,r,e);return(0,i.bv)((async()=>{const{layerGroup:d}=a?f.L:await n.e(216).then(n.bind(n,6633));r.value=(0,o.Xl)(d(void 0,t.options));const p=h(e.attrs);r.value.on(p),c(u,r.value,t),l({...t,...u,leafletObject:r.value}),s.value=!0,(0,i.Y3)((()=>e.emit("ready",r.value)))})),{ready:s,leafletObject:r}},render(){return A(this.ready,this.$slots)}});function tt(t,e,n){var i,o,r;void 0===e&&(e=50),void 0===n&&(n={});var s=null!=(i=n.isImmediate)&&i,a=null!=(o=n.callback)&&o,l=n.maxWait,c=Date.now(),u=[];var h=function(){var n=[].slice.call(arguments),i=this;return new Promise((function(o,h){var d=s&&void 0===r;if(void 0!==r&&clearTimeout(r),r=setTimeout((function(){if(r=void 0,c=Date.now(),!s){var e=t.apply(i,n);a&&a(e),u.forEach((function(t){return(0,t.resolve)(e)})),u=[]}}),function(){if(void 0!==l){var t=Date.now()-c;if(t+e>=l)return l-t}return e}()),d){var p=t.apply(i,n);return a&&a(p),o(p)}u.push({resolve:o,reject:h})}))};return h.cancel=function(t){void 0!==r&&clearTimeout(r),u.forEach((function(e){return(0,e.reject)(t)})),u=[]},h}const et={...T,center:{type:[Object,Array]},bounds:{type:[Array,Object]},maxBounds:{type:[Array,Object]},zoom:{type:Number},minZoom:{type:Number},maxZoom:{type:Number},paddingBottomRight:{type:[Object,Array]},paddingTopLeft:{type:Object},padding:{type:Object},worldCopyJump:{type:Boolean,default:void 0},crs:{type:[String,Object]},maxBoundsViscosity:{type:Number},inertia:{type:Boolean,default:void 0},inertiaDeceleration:{type:Number},inertiaMaxSpeed:{type:Number},easeLinearity:{type:Number},zoomAnimation:{type:Boolean,default:void 0},zoomAnimationThreshold:{type:Number},fadeAnimation:{type:Boolean,default:void 0},markerZoomAnimation:{type:Boolean,default:void 0},noBlockingAnimations:{type:Boolean,default:void 0},useGlobalLeaflet:{type:Boolean,default:!0,custom:!0}},nt=(0,i.aZ)({emits:["ready","update:zoom","update:center","update:bounds"],props:et,setup(t,e){const r=(0,o.iH)(),a=(0,o.qj)({ready:!1,layersToAdd:[],layersInControl:[]}),{options:l}=M(t),g=u(t,et,l),b=d(_),E=d(y),S=d(v),w=d(C);(0,i.JJ)(m,t.useGlobalLeaflet);const O=(0,i.Fl)((()=>{const e={};return t.noBlockingAnimations&&(e.animate=!1),e})),x=(0,i.Fl)((()=>{const e=O.value;return t.padding&&(e.padding=t.padding),t.paddingTopLeft&&(e.paddingTopLeft=t.paddingTopLeft),t.paddingBottomRight&&(e.paddingBottomRight=t.paddingBottomRight),e})),P={moveend:tt((t=>{a.leafletRef&&(e.emit("update:zoom",a.leafletRef.getZoom()),e.emit("update:center",a.leafletRef.getCenter()),e.emit("update:bounds",a.leafletRef.getBounds()))})),overlayadd(t){const e=a.layersInControl.find((e=>e.name===t.name));e&&e.updateVisibleProp(!0)},overlayremove(t){const e=a.layersInControl.find((e=>e.name===t.name));e&&e.updateVisibleProp(!1)}};(0,i.bv)((async()=>{t.useGlobalLeaflet&&(f.L=f.L||await Promise.resolve().then(n.t.bind(n,5243,23)));const{map:s,CRS:l,Icon:u,latLngBounds:d,latLng:m,DomEvent:_,stamp:y}=t.useGlobalLeaflet?f.L:await n.e(216).then(n.bind(n,6633));try{g.beforeMapMount&&await g.beforeMapMount()}catch(t){console.error(`The following error occurred running the provided beforeMapMount hook ${t.message}`)}await(async t=>{const e=await Promise.all([n.e(216).then(n.t.bind(n,7852,17)),n.e(216).then(n.t.bind(n,8586,17)),n.e(216).then(n.t.bind(n,3498,17))]);delete t.Default.prototype._getIconUrl,t.Default.mergeOptions({iconRetinaUrl:e[0].default,iconUrl:e[1].default,shadowUrl:e[2].default})})(u);const v="string"==typeof g.crs?l[g.crs]:g.crs;g.crs=v||l.EPSG3857;const C={addLayer(t){void 0!==t.layerType&&(void 0===a.layerControl?a.layersToAdd.push(t):a.layersInControl.find((e=>y(e.leafletObject)===y(t.leafletObject)))||(a.layerControl.addLayer(t),a.layersInControl.push(t))),!1!==t.visible&&a.leafletRef.addLayer(t.leafletObject)},removeLayer(t){void 0!==t.layerType&&(void 0===a.layerControl?a.layersToAdd=a.layersToAdd.filter((e=>e.name!==t.name)):(a.layerControl.removeLayer(t.leafletObject),a.layersInControl=a.layersInControl.filter((e=>y(e.leafletObject)!==y(t.leafletObject))))),a.leafletRef.removeLayer(t.leafletObject)},registerLayerControl(t){a.layerControl=t,a.layersToAdd.forEach((t=>{a.layerControl.addLayer(t)})),a.layersToAdd=[],S(t)},registerControl(t){a.leafletRef.addControl(t.leafletObject)},setZoom(t){t!==a.leafletRef.getZoom()&&a.leafletRef.setZoom(t,O.value)},setCrs(t){const e=a.leafletRef.getBounds();a.leafletRef.options.crs=t,a.leafletRef.fitBounds(e,{animate:!1,padding:[0,0]})},fitBounds(t){a.leafletRef.fitBounds(t,x.value)},setBounds(t){if(!t)return;const e=d(t);e.isValid()&&!(a.lastSetBounds||a.leafletRef.getBounds()).equals(e,0)&&(a.lastSetBounds=e,a.leafletRef.fitBounds(e))},setCenter(t){if(null==t)return;const e=m(t),n=a.lastSetCenter||a.leafletRef.getCenter();(n.lat!==e.lat||n.lng!==e.lng)&&(a.lastSetCenter=e,a.leafletRef.panTo(e,O.value))}};p(b,C.addLayer),p(E,C.removeLayer),p(S,C.registerControl),p(w,C.registerLayerControl),a.leafletRef=(0,o.Xl)(s(r.value,g)),c(C,a.leafletRef,t);const T=h(e.attrs);((t,e)=>{for(const n of Object.keys(e))t.on(n,e[n])})(a.leafletRef,P),_.on(a.leafletRef.getContainer(),T),a.ready=!0,(0,i.Y3)((()=>e.emit("ready",a.leafletRef)))})),(0,i.Jd)((()=>{s(P),a.leafletRef&&(a.leafletRef.off(),a.leafletRef.remove())}));const T=(0,i.Fl)((()=>a.leafletRef)),D=(0,i.Fl)((()=>a.ready));return{root:r,ready:D,leafletObject:T}},render(){return(0,i.h)("div",{style:{width:"100%",height:"100%"},ref:"root"},this.ready&&this.$slots.default?this.$slots.default():{})}}),it=["Symbol(Comment)","Symbol(Text)"],ot=["LTooltip","LPopup"],rt={...D,draggable:{type:Boolean,default:void 0},icon:{type:[Object]},zIndexOffset:{type:Number},latLng:{type:[Object,Array],custom:!0,required:!0}};function st(t){return!(it.includes(t.type.toString())||ot.includes(t.type.name))}const at=(0,i.aZ)({name:"LMarker",props:rt,setup(t,e){const r=(0,o.iH)(),a=(0,o.iH)(!1),d=(0,i.f3)(m),p=g(_);(0,i.JJ)(b,(()=>{var t;return!(null==(t=r.value)||!t.getElement())})),(0,i.JJ)(E,(t=>{var e,n;const i=l(null==(e=r.value)?void 0:e.getElement)&&(null==(n=r.value)?void 0:n.getElement());i&&(i.innerHTML=t)})),(0,i.JJ)(S,(t=>{var e;return(null==(e=r.value)?void 0:e.setIcon)&&r.value.setIcon(t)}));const{options:y,methods:v}=((t,e,n)=>{const{options:i,methods:o}=R(t,e,n);return{options:u(t,rt,i),methods:{...o,setDraggable(t){e.value.dragging&&(t?e.value.dragging.enable():e.value.dragging.disable())},latLngSync(t){n.emit("update:latLng",t.latlng),n.emit("update:lat-lng",t.latlng)},setLatLng(t){if(null!=t&&e.value){const n=e.value.getLatLng();(!n||!n.equals(t))&&e.value.setLatLng(t)}}}}})(t,r,e),C={moveHandler:tt(v.latLngSync)};return(0,i.bv)((async()=>{const{marker:s,divIcon:l}=d?f.L:await n.e(216).then(n.bind(n,6633));((t,e)=>{const n=e.slots.default&&e.slots.default();return n&&n.length&&n.some(st)})(0,e)&&(y.icon=l({className:""})),r.value=(0,o.Xl)(s(t.latLng,y));const u=h(e.attrs);r.value.on(u),r.value.on("move",C.moveHandler),c(v,r.value,t),p({...t,...v,leafletObject:r.value}),a.value=!0,(0,i.Y3)((()=>e.emit("ready",r.value)))})),(0,i.Jd)((()=>s(C))),{ready:a,leafletObject:r}},render(){return A(this.ready,this.$slots)}}),lt={...I,smoothFactor:{type:Number},noClip:{type:Boolean,default:void 0},latLngs:{type:Array,required:!0,custom:!0}},ct=(t,e,n)=>{const{options:i,methods:o}=k(t,e,n);return{options:u(t,lt,i),methods:{...o,setSmoothFactor(t){e.value.setStyle({smoothFactor:t})},setNoClip(t){e.value.setStyle({noClip:t})},addLatLng(t){e.value.addLatLng(t)}}}},ut={...lt},ht=(t,e,n)=>{const{options:i,methods:o}=ct(t,e,n);return{options:u(t,ut,i),methods:{...o,toGeoJSON:t=>e.value.toGeoJSON(t)}}},dt=((0,i.aZ)({name:"LPolygon",props:ut,setup(t,e){const r=(0,o.iH)(),s=(0,o.iH)(!1),a=(0,i.f3)(m),l=g(_),{options:u,methods:d}=ht(t,r,e);return(0,i.bv)((async()=>{const{polygon:p}=a?f.L:await n.e(216).then(n.bind(n,6633));r.value=(0,o.Xl)(p(t.latLngs,u));const g=h(e.attrs);r.value.on(g),c(d,r.value,t),l({...t,...d,leafletObject:r.value}),s.value=!0,(0,i.Y3)((()=>e.emit("ready",r.value)))})),{ready:s,leafletObject:r}},render(){return A(this.ready,this.$slots)}}),(0,i.aZ)({name:"LPolyline",props:lt,setup(t,e){const r=(0,o.iH)(),s=(0,o.iH)(!1),a=(0,i.f3)(m),l=g(_),{options:u,methods:d}=ct(t,r,e);return(0,i.bv)((async()=>{const{polyline:p}=a?f.L:await n.e(216).then(n.bind(n,6633));r.value=(0,o.Xl)(p(t.latLngs,u));const g=h(e.attrs);r.value.on(g),c(d,r.value,t),l({...t,...d,leafletObject:r.value}),s.value=!0,(0,i.Y3)((()=>e.emit("ready",r.value)))})),{ready:s,leafletObject:r}},render(){return A(this.ready,this.$slots)}})),pt={...T,content:{type:String,default:null}},ft=(t,e)=>{const{options:n,methods:i}=M(t);return{options:n,methods:{...i,setContent(t){e.value&&null!=t&&e.value.setContent(t)}}}},gt=t=>t.default?(0,i.h)("div",{ref:"root"},t.default()):null,mt={...pt,latLng:{type:[Object,Array],default:()=>[]}},_t=((0,i.aZ)({name:"LPopup",props:mt,setup(t,e){const r=(0,o.iH)(),s=(0,o.iH)(null),a=(0,i.f3)(m),l=g(w),u=g(x),{options:d,methods:p}=((t,e)=>{const{options:n,methods:i}=ft(t,e);return{options:n,methods:i}})(t,r);return(0,i.bv)((async()=>{const{popup:u}=a?f.L:await n.e(216).then(n.bind(n,6633));r.value=(0,o.Xl)(u(d)),void 0!==t.latLng&&r.value.setLatLng(t.latLng),c(p,r.value,t);const g=h(e.attrs);r.value.on(g),r.value.setContent(t.content||s.value||""),l(r.value),(0,i.Y3)((()=>e.emit("ready",r.value)))})),(0,i.Jd)((()=>{u()})),{root:s,leafletObject:r}},render(){return gt(this.$slots)}}),{...ut,latLngs:{...ut.latLngs,required:!1},bounds:{type:Object,custom:!0}}),yt=((0,i.aZ)({name:"LRectangle",props:_t,setup(t,e){const r=(0,o.iH)(),s=(0,o.iH)(!1),a=(0,i.f3)(m),l=g(_),{options:d,methods:p}=((t,e,n)=>{const{options:i,methods:o}=ht(t,e,n);return{options:u(t,_t,i),methods:{...o,setBounds(t){e.value.setBounds(t)},setLatLngs(t){e.value.setBounds(t)}}}})(t,r,e);return(0,i.bv)((async()=>{const{rectangle:u,latLngBounds:g}=a?f.L:await n.e(216).then(n.bind(n,6633)),m=t.bounds?g(t.bounds):g(t.latLngs||[]);r.value=(0,o.Xl)(u(m,d));const _=h(e.attrs);r.value.on(_),c(p,r.value,t),l({...t,...p,leafletObject:r.value}),s.value=!0,(0,i.Y3)((()=>e.emit("ready",r.value)))})),{ready:s,leafletObject:r}},render(){return A(this.ready,this.$slots)}}),{...X,tms:{type:Boolean,default:void 0},subdomains:{type:[String,Array],validator:t=>"string"==typeof t||!!Array.isArray(t)&&t.every((t=>"string"==typeof t))},detectRetina:{type:Boolean,default:void 0},url:{type:String,required:!0,custom:!0}}),vt=(t,e,n)=>{const{options:i,methods:o}=q(t,e,n);return{options:u(t,yt,i),methods:{...o}}},Ct=(0,i.aZ)({props:yt,setup(t,e){const r=(0,o.iH)(),s=(0,i.f3)(m),a=g(_),{options:l,methods:u}=vt(t,r,e);return(0,i.bv)((async()=>{const{tileLayer:d}=s?f.L:await n.e(216).then(n.bind(n,6633));r.value=(0,o.Xl)(d(t.url,l));const p=h(e.attrs);r.value.on(p),c(u,r.value,t),a({...t,...u,leafletObject:r.value}),(0,i.Y3)((()=>e.emit("ready",r.value)))})),{leafletObject:r}},render:()=>null}),bt={...pt},Et=(0,i.aZ)({name:"LTooltip",props:bt,setup(t,e){const r=(0,o.iH)(),s=(0,o.iH)(null),a=(0,i.f3)(m),l=g(O),{options:u,methods:d}=((t,e)=>{const{options:n,methods:o}=ft(t,e),r=g(P);return(0,i.Jd)((()=>{r()})),{options:n,methods:o}})(t,r);return(0,i.bv)((async()=>{const{tooltip:p}=a?f.L:await n.e(216).then(n.bind(n,6633));r.value=(0,o.Xl)(p(u)),c(d,r.value,t);const g=h(e.attrs);r.value.on(g),r.value.setContent(t.content||s.value||""),l(r.value),(0,i.Y3)((()=>e.emit("ready",r.value)))})),{root:s,leafletObject:r}},render(){return gt(this.$slots)}}),St={...yt,layers:{type:String,required:!0},styles:{type:String},format:{type:String},transparent:{type:Boolean,default:void 0},version:{type:String},crs:{type:Object},uppercase:{type:Boolean,default:void 0}};(0,i.aZ)({props:St,setup(t,e){const r=(0,o.iH)(),s=(0,i.f3)(m),a=g(_),{options:l,methods:d}=((t,e,n)=>{const{options:i,methods:o}=vt(t,e,n);return{options:u(t,St,i),methods:{...o}}})(t,r,e);return(0,i.bv)((async()=>{const{tileLayer:u}=s?f.L:await n.e(216).then(n.bind(n,6633));r.value=(0,o.Xl)(u.wms(t.url,l));const p=h(e.attrs);r.value.on(p),c(d,r.value,t),a({...t,...d,leafletObject:r.value}),(0,i.Y3)((()=>e.emit("ready",r.value)))})),{leafletObject:r}},render:()=>null})},5003:(t,e,n)=>{"use strict";n.r(e),n.d(e,{BASE_TRANSITION:()=>h,CAMELIZE:()=>k,CAPITALIZE:()=>N,CREATE_BLOCK:()=>p,CREATE_COMMENT:()=>_,CREATE_ELEMENT_BLOCK:()=>f,CREATE_ELEMENT_VNODE:()=>m,CREATE_SLOTS:()=>P,CREATE_STATIC:()=>v,CREATE_TEXT:()=>y,CREATE_VNODE:()=>g,DOMDirectiveTransforms:()=>Ti,DOMNodeTransforms:()=>Pi,FRAGMENT:()=>a,GUARD_REACTIVE_PROPS:()=>L,IS_MEMO_SAME:()=>$,IS_REF:()=>W,KEEP_ALIVE:()=>u,MERGE_PROPS:()=>M,NORMALIZE_CLASS:()=>D,NORMALIZE_PROPS:()=>A,NORMALIZE_STYLE:()=>R,OPEN_BLOCK:()=>d,POP_SCOPE_ID:()=>j,PUSH_SCOPE_ID:()=>B,RENDER_LIST:()=>O,RENDER_SLOT:()=>x,RESOLVE_COMPONENT:()=>C,RESOLVE_DIRECTIVE:()=>E,RESOLVE_DYNAMIC_COMPONENT:()=>b,RESOLVE_FILTER:()=>S,SET_BLOCK_TRACKING:()=>G,SUSPENSE:()=>c,TELEPORT:()=>l,TO_DISPLAY_STRING:()=>T,TO_HANDLERS:()=>I,TO_HANDLER_KEY:()=>F,TRANSITION:()=>pi,TRANSITION_GROUP:()=>fi,UNREF:()=>V,V_MODEL_CHECKBOX:()=>si,V_MODEL_DYNAMIC:()=>ci,V_MODEL_RADIO:()=>ri,V_MODEL_SELECT:()=>li,V_MODEL_TEXT:()=>ai,V_ON_WITH_KEYS:()=>hi,V_ON_WITH_MODIFIERS:()=>ui,V_SHOW:()=>di,WITH_CTX:()=>U,WITH_DIRECTIVES:()=>w,WITH_MEMO:()=>H,advancePositionWithClone:()=>Ot,advancePositionWithMutation:()=>xt,assert:()=>Pt,baseCompile:()=>ii,baseParse:()=>te,buildDirectiveArgs:()=>In,buildProps:()=>Rn,buildSlots:()=>wn,checkCompatEnabled:()=>Xt,compile:()=>Mi,createArrayExpression:()=>Z,createAssignmentExpression:()=>ut,createBlockStatement:()=>at,createCacheExpression:()=>st,createCallExpression:()=>it,createCompilerError:()=>s,createCompoundExpression:()=>nt,createConditionalExpression:()=>rt,createDOMCompilerError:()=>Ci,createForLoopParams:()=>vn,createFunctionExpression:()=>ot,createIfStatement:()=>ct,createInterpolation:()=>et,createObjectExpression:()=>J,createObjectProperty:()=>Q,createReturnStatement:()=>dt,createRoot:()=>X,createSequenceExpression:()=>ht,createSimpleExpression:()=>tt,createStructuralDirectiveTransform:()=>Ne,createTemplateLiteral:()=>lt,createTransformContext:()=>Le,createVNodeCall:()=>q,extractIdentifiers:()=>Qe,findDir:()=>Tt,findProp:()=>Mt,generate:()=>je,generateCodeFrame:()=>i.generateCodeFrame,getBaseTransformPreset:()=>ni,getConstantType:()=>Pe,getInnerRange:()=>wt,getMemoedVNodeCall:()=>Ht,getVNodeBlockHelper:()=>Ft,getVNodeHelper:()=>Nt,hasDynamicKeyVBind:()=>Rt,hasScopeRef:()=>Wt,helperNameMap:()=>z,injectProp:()=>jt,isBuiltInType:()=>ft,isCoreComponent:()=>gt,isFunctionType:()=>tn,isInDestructureAssignment:()=>qe,isMemberExpression:()=>St,isMemberExpressionBrowser:()=>bt,isMemberExpressionNode:()=>Et,isReferencedIdentifier:()=>Xe,isSimpleIdentifier:()=>_t,isSlotOutlet:()=>kt,isStaticArgOf:()=>Dt,isStaticExp:()=>pt,isStaticProperty:()=>en,isStaticPropertyKey:()=>nn,isTemplateNode:()=>It,isText:()=>At,isVSlot:()=>Lt,locStub:()=>Y,makeBlock:()=>$t,noopDirectiveTransform:()=>oi,parse:()=>Di,parserOptions:()=>_i,processExpression:()=>rn,processFor:()=>pn,processIf:()=>ln,processSlotOutlet:()=>Bn,registerRuntimeHelpers:()=>K,resolveComponentType:()=>Dn,stringifyExpression:()=>sn,toValidAssetId:()=>Vt,trackSlotScopes:()=>bn,trackVForSlotScopes:()=>En,transform:()=>Ie,transformBind:()=>Vn,transformElement:()=>Mn,transformExpression:()=>on,transformModel:()=>Kn,transformOn:()=>Un,transformStyle:()=>yi,traverseNode:()=>ke,walkBlockDeclarations:()=>Je,walkFunctionParams:()=>Ze,walkIdentifiers:()=>Ye,warnDeprecation:()=>qt});var i=n(3577);function o(t){throw t}function r(t){}function s(t,e,n,i){const o=new SyntaxError(String(t));return o.code=t,o.loc=e,o}const a=Symbol(""),l=Symbol(""),c=Symbol(""),u=Symbol(""),h=Symbol(""),d=Symbol(""),p=Symbol(""),f=Symbol(""),g=Symbol(""),m=Symbol(""),_=Symbol(""),y=Symbol(""),v=Symbol(""),C=Symbol(""),b=Symbol(""),E=Symbol(""),S=Symbol(""),w=Symbol(""),O=Symbol(""),x=Symbol(""),P=Symbol(""),T=Symbol(""),M=Symbol(""),D=Symbol(""),R=Symbol(""),A=Symbol(""),L=Symbol(""),I=Symbol(""),k=Symbol(""),N=Symbol(""),F=Symbol(""),G=Symbol(""),B=Symbol(""),j=Symbol(""),U=Symbol(""),V=Symbol(""),W=Symbol(""),H=Symbol(""),$=Symbol(""),z={[a]:"Fragment",[l]:"Teleport",[c]:"Suspense",[u]:"KeepAlive",[h]:"BaseTransition",[d]:"openBlock",[p]:"createBlock",[f]:"createElementBlock",[g]:"createVNode",[m]:"createElementVNode",[_]:"createCommentVNode",[y]:"createTextVNode",[v]:"createStaticVNode",[C]:"resolveComponent",[b]:"resolveDynamicComponent",[E]:"resolveDirective",[S]:"resolveFilter",[w]:"withDirectives",[O]:"renderList",[x]:"renderSlot",[P]:"createSlots",[T]:"toDisplayString",[M]:"mergeProps",[D]:"normalizeClass",[R]:"normalizeStyle",[A]:"normalizeProps",[L]:"guardReactiveProps",[I]:"toHandlers",[k]:"camelize",[N]:"capitalize",[F]:"toHandlerKey",[G]:"setBlockTracking",[B]:"pushScopeId",[j]:"popScopeId",[U]:"withCtx",[V]:"unref",[W]:"isRef",[H]:"withMemo",[$]:"isMemoSame"};function K(t){Object.getOwnPropertySymbols(t).forEach((e=>{z[e]=t[e]}))}const Y={source:"",start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0}};function X(t,e=Y){return{type:0,children:t,helpers:new Set,components:[],directives:[],hoists:[],imports:[],cached:0,temps:0,codegenNode:void 0,loc:e}}function q(t,e,n,i,o,r,s,a=!1,l=!1,c=!1,u=Y){return t&&(a?(t.helper(d),t.helper(Ft(t.inSSR,c))):t.helper(Nt(t.inSSR,c)),s&&t.helper(w)),{type:13,tag:e,props:n,children:i,patchFlag:o,dynamicProps:r,directives:s,isBlock:a,disableTracking:l,isComponent:c,loc:u}}function Z(t,e=Y){return{type:17,loc:e,elements:t}}function J(t,e=Y){return{type:15,loc:e,properties:t}}function Q(t,e){return{type:16,loc:Y,key:(0,i.isString)(t)?tt(t,!0):t,value:e}}function tt(t,e=!1,n=Y,i=0){return{type:4,loc:n,content:t,isStatic:e,constType:e?3:i}}function et(t,e){return{type:5,loc:e,content:(0,i.isString)(t)?tt(t,!1,e):t}}function nt(t,e=Y){return{type:8,loc:e,children:t}}function it(t,e=[],n=Y){return{type:14,loc:n,callee:t,arguments:e}}function ot(t,e=void 0,n=!1,i=!1,o=Y){return{type:18,params:t,returns:e,newline:n,isSlot:i,loc:o}}function rt(t,e,n,i=!0){return{type:19,test:t,consequent:e,alternate:n,newline:i,loc:Y}}function st(t,e,n=!1){return{type:20,index:t,value:e,isVNode:n,loc:Y}}function at(t){return{type:21,body:t,loc:Y}}function lt(t){return{type:22,elements:t,loc:Y}}function ct(t,e,n){return{type:23,test:t,consequent:e,alternate:n,loc:Y}}function ut(t,e){return{type:24,left:t,right:e,loc:Y}}function ht(t){return{type:25,expressions:t,loc:Y}}function dt(t){return{type:26,returns:t,loc:Y}}const pt=t=>4===t.type&&t.isStatic,ft=(t,e)=>t===e||t===(0,i.hyphenate)(e);function gt(t){return ft(t,"Teleport")?l:ft(t,"Suspense")?c:ft(t,"KeepAlive")?u:ft(t,"BaseTransition")?h:void 0}const mt=/^\d|[^\$\w]/,_t=t=>!mt.test(t),yt=/[A-Za-z_$\xA0-\uFFFF]/,vt=/[\.\?\w$\xA0-\uFFFF]/,Ct=/\s+[.[]\s*|\s*[.[]\s+/g,bt=t=>{t=t.trim().replace(Ct,(t=>t.trim()));let e=0,n=[],i=0,o=0,r=null;for(let s=0;s<t.length;s++){const a=t.charAt(s);switch(e){case 0:if("["===a)n.push(e),e=1,i++;else if("("===a)n.push(e),e=2,o++;else if(!(0===s?yt:vt).test(a))return!1;break;case 1:"'"===a||'"'===a||"`"===a?(n.push(e),e=3,r=a):"["===a?i++:"]"===a&&(--i||(e=n.pop()));break;case 2:if("'"===a||'"'===a||"`"===a)n.push(e),e=3,r=a;else if("("===a)o++;else if(")"===a){if(s===t.length-1)return!1;--o||(e=n.pop())}break;case 3:a===r&&(e=n.pop(),r=null)}}return!i&&!o},Et=i.NOOP,St=bt;function wt(t,e,n){const i={source:t.source.slice(e,e+n),start:Ot(t.start,t.source,e),end:t.end};return null!=n&&(i.end=Ot(t.start,t.source,e+n)),i}function Ot(t,e,n=e.length){return xt((0,i.extend)({},t),e,n)}function xt(t,e,n=e.length){let i=0,o=-1;for(let t=0;t<n;t++)10===e.charCodeAt(t)&&(i++,o=t);return t.offset+=n,t.line+=i,t.column=-1===o?t.column+n:n-o,t}function Pt(t,e){if(!t)throw new Error(e||"unexpected compiler condition")}function Tt(t,e,n=!1){for(let o=0;o<t.props.length;o++){const r=t.props[o];if(7===r.type&&(n||r.exp)&&((0,i.isString)(e)?r.name===e:e.test(r.name)))return r}}function Mt(t,e,n=!1,i=!1){for(let o=0;o<t.props.length;o++){const r=t.props[o];if(6===r.type){if(n)continue;if(r.name===e&&(r.value||i))return r}else if("bind"===r.name&&(r.exp||i)&&Dt(r.arg,e))return r}}function Dt(t,e){return!(!t||!pt(t)||t.content!==e)}function Rt(t){return t.props.some((t=>!(7!==t.type||"bind"!==t.name||t.arg&&4===t.arg.type&&t.arg.isStatic)))}function At(t){return 5===t.type||2===t.type}function Lt(t){return 7===t.type&&"slot"===t.name}function It(t){return 1===t.type&&3===t.tagType}function kt(t){return 1===t.type&&2===t.tagType}function Nt(t,e){return t||e?g:m}function Ft(t,e){return t||e?p:f}const Gt=new Set([A,L]);function Bt(t,e=[]){if(t&&!(0,i.isString)(t)&&14===t.type){const n=t.callee;if(!(0,i.isString)(n)&&Gt.has(n))return Bt(t.arguments[0],e.concat(t))}return[t,e]}function jt(t,e,n){let o,r,s=13===t.type?t.props:t.arguments[2],a=[];if(s&&!(0,i.isString)(s)&&14===s.type){const t=Bt(s);s=t[0],a=t[1],r=a[a.length-1]}if(null==s||(0,i.isString)(s))o=J([e]);else if(14===s.type){const t=s.arguments[0];(0,i.isString)(t)||15!==t.type?s.callee===I?o=it(n.helper(M),[J([e]),s]):s.arguments.unshift(J([e])):Ut(e,t)||t.properties.unshift(e),!o&&(o=s)}else 15===s.type?(Ut(e,s)||s.properties.unshift(e),o=s):(o=it(n.helper(M),[J([e]),s]),r&&r.callee===L&&(r=a[a.length-2]));13===t.type?r?r.arguments[0]=o:t.props=o:r?r.arguments[0]=o:t.arguments[2]=o}function Ut(t,e){let n=!1;if(4===t.key.type){const i=t.key.content;n=e.properties.some((t=>4===t.key.type&&t.key.content===i))}return n}function Vt(t,e){return`_${e}_${t.replace(/[^\w]/g,((e,n)=>"-"===e?"_":t.charCodeAt(n).toString()))}`}function Wt(t,e){if(!t||0===Object.keys(e).length)return!1;switch(t.type){case 1:for(let n=0;n<t.props.length;n++){const i=t.props[n];if(7===i.type&&(Wt(i.arg,e)||Wt(i.exp,e)))return!0}return t.children.some((t=>Wt(t,e)));case 11:return!!Wt(t.source,e)||t.children.some((t=>Wt(t,e)));case 9:return t.branches.some((t=>Wt(t,e)));case 10:return!!Wt(t.condition,e)||t.children.some((t=>Wt(t,e)));case 4:return!t.isStatic&&_t(t.content)&&!!e[t.content];case 8:return t.children.some((t=>(0,i.isObject)(t)&&Wt(t,e)));case 5:case 12:return Wt(t.content,e);default:return!1}}function Ht(t){return 14===t.type&&t.callee===H?t.arguments[1].returns:t}function $t(t,{helper:e,removeHelper:n,inSSR:i}){t.isBlock||(t.isBlock=!0,n(Nt(i,t.isComponent)),e(d),e(Ft(i,t.isComponent)))}const zt={COMPILER_IS_ON_ELEMENT:{message:'Platform-native elements with "is" prop will no longer be treated as components in Vue 3 unless the "is" value is explicitly prefixed with "vue:".',link:"https://v3-migration.vuejs.org/breaking-changes/custom-elements-interop.html"},COMPILER_V_BIND_SYNC:{message:t=>`.sync modifier for v-bind has been removed. Use v-model with argument instead. \`v-bind:${t}.sync\` should be changed to \`v-model:${t}\`.`,link:"https://v3-migration.vuejs.org/breaking-changes/v-model.html"},COMPILER_V_BIND_PROP:{message:".prop modifier for v-bind has been removed and no longer necessary. Vue 3 will automatically set a binding as DOM property when appropriate."},COMPILER_V_BIND_OBJECT_ORDER:{message:'v-bind="obj" usage is now order sensitive and behaves like JavaScript object spread: it will now overwrite an existing non-mergeable attribute that appears before v-bind in the case of conflict. To retain 2.x behavior, move v-bind to make it the first attribute. You can also suppress this warning if the usage is intended.',link:"https://v3-migration.vuejs.org/breaking-changes/v-bind.html"},COMPILER_V_ON_NATIVE:{message:".native modifier for v-on has been removed as is no longer necessary.",link:"https://v3-migration.vuejs.org/breaking-changes/v-on-native-modifier-removed.html"},COMPILER_V_IF_V_FOR_PRECEDENCE:{message:"v-if / v-for precedence when used on the same element has changed in Vue 3: v-if now takes higher precedence and will no longer have access to v-for scope variables. It is best to avoid the ambiguity with <template> tags or use a computed property that filters v-for data source.",link:"https://v3-migration.vuejs.org/breaking-changes/v-if-v-for.html"},COMPILER_NATIVE_TEMPLATE:{message:"<template> with no special directives will render as a native template element instead of its inner content in Vue 3."},COMPILER_INLINE_TEMPLATE:{message:'"inline-template" has been removed in Vue 3.',link:"https://v3-migration.vuejs.org/breaking-changes/inline-template-attribute.html"},COMPILER_FILTER:{message:'filters have been removed in Vue 3. The "|" symbol will be treated as native JavaScript bitwise OR operator. Use method calls or computed properties instead.',link:"https://v3-migration.vuejs.org/breaking-changes/filters.html"}};function Kt(t,e){const n=e.options?e.options.compatConfig:e.compatConfig,i=n&&n[t];return"MODE"===t?i||3:i}function Yt(t,e){const n=Kt("MODE",e),i=Kt(t,e);return 3===n?!0===i:!1!==i}function Xt(t,e,n,...i){return Yt(t,e)}function qt(t,e,n,...i){if("suppress-warning"===Kt(t,e))return;const{message:o,link:r}=zt[t],s=`(deprecation ${t}) ${"function"==typeof o?o(...i):o}${r?`\n  Details: ${r}`:""}`,a=new SyntaxError(s);a.code=t,n&&(a.loc=n),e.onWarn(a)}const Zt=/&(gt|lt|amp|apos|quot);/g,Jt={gt:">",lt:"<",amp:"&",apos:"'",quot:'"'},Qt={delimiters:["{{","}}"],getNamespace:()=>0,getTextMode:()=>0,isVoidTag:i.NO,isPreTag:i.NO,isCustomElement:i.NO,decodeEntities:t=>t.replace(Zt,((t,e)=>Jt[e])),onError:o,onWarn:r,comments:!1};function te(t,e={}){const n=function(t,e){const n=(0,i.extend)({},Qt);let o;for(o in e)n[o]=void 0===e[o]?Qt[o]:e[o];return{options:n,column:1,line:1,offset:0,originalSource:t,source:t,inPre:!1,inVPre:!1,onWarn:n.onWarn}}(t,e),o=fe(n);return X(ee(n,0,[]),ge(n,o))}function ee(t,e,n){const o=me(n),r=o?o.ns:0,s=[];for(;!Ee(t,e,n);){const a=t.source;let l;if(0===e||1===e)if(!t.inVPre&&_e(a,t.options.delimiters[0]))l=he(t,e);else if(0===e&&"<"===a[0])if(1===a.length)be(t,5,1);else if("!"===a[1])_e(a,"\x3c!--")?l=oe(t):_e(a,"<!DOCTYPE")?l=re(t):_e(a,"<![CDATA[")?0!==r?l=ie(t,n):(be(t,1),l=re(t)):(be(t,11),l=re(t));else if("/"===a[1])if(2===a.length)be(t,5,2);else{if(">"===a[2]){be(t,14,2),ye(t,3);continue}if(/[a-z]/i.test(a[2])){be(t,23),le(t,1,o);continue}be(t,12,2),l=re(t)}else/[a-z]/i.test(a[1])?(l=se(t,n),Yt("COMPILER_NATIVE_TEMPLATE",t)&&l&&"template"===l.tag&&!l.props.some((t=>7===t.type&&ae(t.name)))&&(l=l.children)):"?"===a[1]?(be(t,21,1),l=re(t)):be(t,12,1);if(l||(l=de(t,e)),(0,i.isArray)(l))for(let t=0;t<l.length;t++)ne(s,l[t]);else ne(s,l)}let a=!1;if(2!==e&&1!==e){const e="preserve"!==t.options.whitespace;for(let n=0;n<s.length;n++){const i=s[n];if(2===i.type)if(t.inPre)i.content=i.content.replace(/\r\n/g,"\n");else if(/[^\t\r\n\f ]/.test(i.content))e&&(i.content=i.content.replace(/[\t\r\n\f ]+/g," "));else{const t=s[n-1],o=s[n+1];!t||!o||e&&(3===t.type&&3===o.type||3===t.type&&1===o.type||1===t.type&&3===o.type||1===t.type&&1===o.type&&/[\r\n]/.test(i.content))?(a=!0,s[n]=null):i.content=" "}else 3!==i.type||t.options.comments||(a=!0,s[n]=null)}if(t.inPre&&o&&t.options.isPreTag(o.tag)){const t=s[0];t&&2===t.type&&(t.content=t.content.replace(/^\r?\n/,""))}}return a?s.filter(Boolean):s}function ne(t,e){if(2===e.type){const n=me(t);if(n&&2===n.type&&n.loc.end.offset===e.loc.start.offset)return n.content+=e.content,n.loc.end=e.loc.end,void(n.loc.source+=e.loc.source)}t.push(e)}function ie(t,e){ye(t,9);const n=ee(t,3,e);return 0===t.source.length?be(t,6):ye(t,3),n}function oe(t){const e=fe(t);let n;const i=/--(\!)?>/.exec(t.source);if(i){i.index<=3&&be(t,0),i[1]&&be(t,10),n=t.source.slice(4,i.index);const e=t.source.slice(0,i.index);let o=1,r=0;for(;-1!==(r=e.indexOf("\x3c!--",o));)ye(t,r-o+1),r+4<e.length&&be(t,16),o=r+1;ye(t,i.index+i[0].length-o+1)}else n=t.source.slice(4),ye(t,t.source.length),be(t,7);return{type:3,content:n,loc:ge(t,e)}}function re(t){const e=fe(t),n="?"===t.source[1]?1:2;let i;const o=t.source.indexOf(">");return-1===o?(i=t.source.slice(n),ye(t,t.source.length)):(i=t.source.slice(n,o),ye(t,o+1)),{type:3,content:i,loc:ge(t,e)}}function se(t,e){const n=t.inPre,i=t.inVPre,o=me(e),r=le(t,0,o),s=t.inPre&&!n,a=t.inVPre&&!i;if(r.isSelfClosing||t.options.isVoidTag(r.tag))return s&&(t.inPre=!1),a&&(t.inVPre=!1),r;e.push(r);const l=t.options.getTextMode(r,o),c=ee(t,l,e);e.pop();{const e=r.props.find((t=>6===t.type&&"inline-template"===t.name));if(e&&Xt("COMPILER_INLINE_TEMPLATE",t,e.loc)){const n=ge(t,r.loc.end);e.value={type:2,content:n.source,loc:n}}}if(r.children=c,Se(t.source,r.tag))le(t,1,o);else if(be(t,24,0,r.loc.start),0===t.source.length&&"script"===r.tag.toLowerCase()){const e=c[0];e&&_e(e.loc.source,"\x3c!--")&&be(t,8)}return r.loc=ge(t,r.loc.start),s&&(t.inPre=!1),a&&(t.inVPre=!1),r}const ae=(0,i.makeMap)("if,else,else-if,for,slot");function le(t,e,n){const o=fe(t),r=/^<\/?([a-z][^\t\r\n\f />]*)/i.exec(t.source),s=r[1],a=t.options.getNamespace(s,n);ye(t,r[0].length),ve(t);const l=fe(t),c=t.source;t.options.isPreTag(s)&&(t.inPre=!0);let u=ce(t,e);0===e&&!t.inVPre&&u.some((t=>7===t.type&&"pre"===t.name))&&(t.inVPre=!0,(0,i.extend)(t,l),t.source=c,u=ce(t,e).filter((t=>"v-pre"!==t.name)));let h=!1;if(0===t.source.length?be(t,9):(h=_e(t.source,"/>"),1===e&&h&&be(t,4),ye(t,h?2:1)),1===e)return;let d=0;return t.inVPre||("slot"===s?d=2:"template"===s?u.some((t=>7===t.type&&ae(t.name)))&&(d=3):function(t,e,n){const i=n.options;if(i.isCustomElement(t))return!1;if("component"===t||/^[A-Z]/.test(t)||gt(t)||i.isBuiltInComponent&&i.isBuiltInComponent(t)||i.isNativeTag&&!i.isNativeTag(t))return!0;for(let t=0;t<e.length;t++){const i=e[t];if(6===i.type){if("is"===i.name&&i.value){if(i.value.content.startsWith("vue:"))return!0;if(Xt("COMPILER_IS_ON_ELEMENT",n,i.loc))return!0}}else{if("is"===i.name)return!0;if("bind"===i.name&&Dt(i.arg,"is")&&Xt("COMPILER_IS_ON_ELEMENT",n,i.loc))return!0}}}(s,u,t)&&(d=1)),{type:1,ns:a,tag:s,tagType:d,props:u,isSelfClosing:h,children:[],loc:ge(t,o),codegenNode:void 0}}function ce(t,e){const n=[],i=new Set;for(;t.source.length>0&&!_e(t.source,">")&&!_e(t.source,"/>");){if(_e(t.source,"/")){be(t,22),ye(t,1),ve(t);continue}1===e&&be(t,3);const o=ue(t,i);6===o.type&&o.value&&"class"===o.name&&(o.value.content=o.value.content.replace(/\s+/g," ").trim()),0===e&&n.push(o),/^[^\t\r\n\f />]/.test(t.source)&&be(t,15),ve(t)}return n}function ue(t,e){const n=fe(t),i=/^[^\t\r\n\f />][^\t\r\n\f />=]*/.exec(t.source)[0];e.has(i)&&be(t,2),e.add(i),"="===i[0]&&be(t,19);{const e=/["'<]/g;let n;for(;n=e.exec(i);)be(t,17,n.index)}let o;ye(t,i.length),/^[\t\r\n\f ]*=/.test(t.source)&&(ve(t),ye(t,1),ve(t),o=function(t){const e=fe(t);let n;const i=t.source[0],o='"'===i||"'"===i;if(o){ye(t,1);const e=t.source.indexOf(i);-1===e?n=pe(t,t.source.length,4):(n=pe(t,e,4),ye(t,1))}else{const e=/^[^\t\r\n\f >]+/.exec(t.source);if(!e)return;const i=/["'<=`]/g;let o;for(;o=i.exec(e[0]);)be(t,18,o.index);n=pe(t,e[0].length,4)}return{content:n,isQuoted:o,loc:ge(t,e)}}(t),o||be(t,13));const r=ge(t,n);if(!t.inVPre&&/^(v-[A-Za-z0-9-]|:|\.|@|#)/.test(i)){const e=/(?:^v-([a-z0-9-]+))?(?:(?::|^\.|^@|^#)(\[[^\]]+\]|[^\.]+))?(.+)?$/i.exec(i);let s,a=_e(i,"."),l=e[1]||(a||_e(i,":")?"bind":_e(i,"@")?"on":"slot");if(e[2]){const o="slot"===l,r=i.lastIndexOf(e[2]),a=ge(t,Ce(t,n,r),Ce(t,n,r+e[2].length+(o&&e[3]||"").length));let c=e[2],u=!0;c.startsWith("[")?(u=!1,c.endsWith("]")?c=c.slice(1,c.length-1):(be(t,27),c=c.slice(1))):o&&(c+=e[3]||""),s={type:4,content:c,isStatic:u,constType:u?3:0,loc:a}}if(o&&o.isQuoted){const t=o.loc;t.start.offset++,t.start.column++,t.end=Ot(t.start,o.content),t.source=t.source.slice(1,-1)}const c=e[3]?e[3].slice(1).split("."):[];return a&&c.push("prop"),"bind"===l&&s&&c.includes("sync")&&Xt("COMPILER_V_BIND_SYNC",t,0,s.loc.source)&&(l="model",c.splice(c.indexOf("sync"),1)),{type:7,name:l,exp:o&&{type:4,content:o.content,isStatic:!1,constType:0,loc:o.loc},arg:s,modifiers:c,loc:r}}return!t.inVPre&&_e(i,"v-")&&be(t,26),{type:6,name:i,value:o&&{type:2,content:o.content,loc:o.loc},loc:r}}function he(t,e){const[n,i]=t.options.delimiters,o=t.source.indexOf(i,n.length);if(-1===o)return void be(t,25);const r=fe(t);ye(t,n.length);const s=fe(t),a=fe(t),l=o-n.length,c=t.source.slice(0,l),u=pe(t,l,e),h=u.trim(),d=u.indexOf(h);d>0&&xt(s,c,d);return xt(a,c,l-(u.length-h.length-d)),ye(t,i.length),{type:5,content:{type:4,isStatic:!1,constType:0,content:h,loc:ge(t,s,a)},loc:ge(t,r)}}function de(t,e){const n=3===e?["]]>"]:["<",t.options.delimiters[0]];let i=t.source.length;for(let e=0;e<n.length;e++){const o=t.source.indexOf(n[e],1);-1!==o&&i>o&&(i=o)}const o=fe(t);return{type:2,content:pe(t,i,e),loc:ge(t,o)}}function pe(t,e,n){const i=t.source.slice(0,e);return ye(t,e),2!==n&&3!==n&&i.includes("&")?t.options.decodeEntities(i,4===n):i}function fe(t){const{column:e,line:n,offset:i}=t;return{column:e,line:n,offset:i}}function ge(t,e,n){return{start:e,end:n=n||fe(t),source:t.originalSource.slice(e.offset,n.offset)}}function me(t){return t[t.length-1]}function _e(t,e){return t.startsWith(e)}function ye(t,e){const{source:n}=t;xt(t,n,e),t.source=n.slice(e)}function ve(t){const e=/^[\t\r\n\f ]+/.exec(t.source);e&&ye(t,e[0].length)}function Ce(t,e,n){return Ot(e,t.originalSource.slice(e.offset,n),n)}function be(t,e,n,i=fe(t)){n&&(i.offset+=n,i.column+=n),t.options.onError(s(e,{start:i,end:i,source:""}))}function Ee(t,e,n){const i=t.source;switch(e){case 0:if(_e(i,"</"))for(let t=n.length-1;t>=0;--t)if(Se(i,n[t].tag))return!0;break;case 1:case 2:{const t=me(n);if(t&&Se(i,t.tag))return!0;break}case 3:if(_e(i,"]]>"))return!0}return!i}function Se(t,e){return _e(t,"</")&&t.slice(2,2+e.length).toLowerCase()===e.toLowerCase()&&/[\t\r\n\f />]/.test(t[2+e.length]||">")}function we(t,e){xe(t,e,Oe(t,t.children[0]))}function Oe(t,e){const{children:n}=t;return 1===n.length&&1===e.type&&!kt(e)}function xe(t,e,n=!1){const{children:o}=t,r=o.length;let s=0;for(let t=0;t<o.length;t++){const i=o[t];if(1===i.type&&0===i.tagType){const t=n?0:Pe(i,e);if(t>0){if(t>=2){i.codegenNode.patchFlag="-1",i.codegenNode=e.hoist(i.codegenNode),s++;continue}}else{const t=i.codegenNode;if(13===t.type){const n=Ae(t);if((!n||512===n||1===n)&&De(i,e)>=2){const n=Re(i);n&&(t.props=e.hoist(n))}t.dynamicProps&&(t.dynamicProps=e.hoist(t.dynamicProps))}}}if(1===i.type){const t=1===i.tagType;t&&e.scopes.vSlot++,xe(i,e),t&&e.scopes.vSlot--}else if(11===i.type)xe(i,e,1===i.children.length);else if(9===i.type)for(let t=0;t<i.branches.length;t++)xe(i.branches[t],e,1===i.branches[t].children.length)}s&&e.transformHoist&&e.transformHoist(o,e,t),s&&s===r&&1===t.type&&0===t.tagType&&t.codegenNode&&13===t.codegenNode.type&&(0,i.isArray)(t.codegenNode.children)&&(t.codegenNode.children=e.hoist(Z(t.codegenNode.children)))}function Pe(t,e){const{constantCache:n}=e;switch(t.type){case 1:if(0!==t.tagType)return 0;const o=n.get(t);if(void 0!==o)return o;const r=t.codegenNode;if(13!==r.type)return 0;if(r.isBlock&&"svg"!==t.tag&&"foreignObject"!==t.tag)return 0;if(Ae(r))return n.set(t,0),0;{let i=3;const o=De(t,e);if(0===o)return n.set(t,0),0;o<i&&(i=o);for(let o=0;o<t.children.length;o++){const r=Pe(t.children[o],e);if(0===r)return n.set(t,0),0;r<i&&(i=r)}if(i>1)for(let o=0;o<t.props.length;o++){const r=t.props[o];if(7===r.type&&"bind"===r.name&&r.exp){const o=Pe(r.exp,e);if(0===o)return n.set(t,0),0;o<i&&(i=o)}}if(r.isBlock){for(let e=0;e<t.props.length;e++){if(7===t.props[e].type)return n.set(t,0),0}e.removeHelper(d),e.removeHelper(Ft(e.inSSR,r.isComponent)),r.isBlock=!1,e.helper(Nt(e.inSSR,r.isComponent))}return n.set(t,i),i}case 2:case 3:return 3;case 9:case 11:case 10:default:return 0;case 5:case 12:return Pe(t.content,e);case 4:return t.constType;case 8:let s=3;for(let n=0;n<t.children.length;n++){const o=t.children[n];if((0,i.isString)(o)||(0,i.isSymbol)(o))continue;const r=Pe(o,e);if(0===r)return 0;r<s&&(s=r)}return s}}const Te=new Set([D,R,A,L]);function Me(t,e){if(14===t.type&&!(0,i.isString)(t.callee)&&Te.has(t.callee)){const n=t.arguments[0];if(4===n.type)return Pe(n,e);if(14===n.type)return Me(n,e)}return 0}function De(t,e){let n=3;const i=Re(t);if(i&&15===i.type){const{properties:t}=i;for(let i=0;i<t.length;i++){const{key:o,value:r}=t[i],s=Pe(o,e);if(0===s)return s;let a;if(s<n&&(n=s),a=4===r.type?Pe(r,e):14===r.type?Me(r,e):0,0===a)return a;a<n&&(n=a)}}return n}function Re(t){const e=t.codegenNode;if(13===e.type)return e.props}function Ae(t){const e=t.patchFlag;return e?parseInt(e,10):void 0}function Le(t,{filename:e="",prefixIdentifiers:n=!1,hoistStatic:s=!1,cacheHandlers:a=!1,nodeTransforms:l=[],directiveTransforms:c={},transformHoist:u=null,isBuiltInComponent:h=i.NOOP,isCustomElement:d=i.NOOP,expressionPlugins:p=[],scopeId:f=null,slotted:g=!0,ssr:m=!1,inSSR:_=!1,ssrCssVars:y="",bindingMetadata:v=i.EMPTY_OBJ,inline:C=!1,isTS:b=!1,onError:E=o,onWarn:S=r,compatConfig:w}){const O=e.replace(/\?.*$/,"").match(/([^/\\]+)\.\w+$/),x={selfName:O&&(0,i.capitalize)((0,i.camelize)(O[1])),prefixIdentifiers:n,hoistStatic:s,cacheHandlers:a,nodeTransforms:l,directiveTransforms:c,transformHoist:u,isBuiltInComponent:h,isCustomElement:d,expressionPlugins:p,scopeId:f,slotted:g,ssr:m,inSSR:_,ssrCssVars:y,bindingMetadata:v,inline:C,isTS:b,onError:E,onWarn:S,compatConfig:w,root:t,helpers:new Map,components:new Set,directives:new Set,hoists:[],imports:[],constantCache:new Map,temps:0,cached:0,identifiers:Object.create(null),scopes:{vFor:0,vSlot:0,vPre:0,vOnce:0},parent:null,currentNode:t,childIndex:0,inVOnce:!1,helper(t){const e=x.helpers.get(t)||0;return x.helpers.set(t,e+1),t},removeHelper(t){const e=x.helpers.get(t);if(e){const n=e-1;n?x.helpers.set(t,n):x.helpers.delete(t)}},helperString:t=>`_${z[x.helper(t)]}`,replaceNode(t){x.parent.children[x.childIndex]=x.currentNode=t},removeNode(t){const e=x.parent.children,n=t?e.indexOf(t):x.currentNode?x.childIndex:-1;t&&t!==x.currentNode?x.childIndex>n&&(x.childIndex--,x.onNodeRemoved()):(x.currentNode=null,x.onNodeRemoved()),x.parent.children.splice(n,1)},onNodeRemoved:()=>{},addIdentifiers(t){},removeIdentifiers(t){},hoist(t){(0,i.isString)(t)&&(t=tt(t)),x.hoists.push(t);const e=tt(`_hoisted_${x.hoists.length}`,!1,t.loc,2);return e.hoisted=t,e},cache:(t,e=!1)=>st(x.cached++,t,e)};return x.filters=new Set,x}function Ie(t,e){const n=Le(t,e);ke(t,n),e.hoistStatic&&we(t,n),e.ssr||function(t,e){const{helper:n}=e,{children:o}=t;if(1===o.length){const n=o[0];if(Oe(t,n)&&n.codegenNode){const i=n.codegenNode;13===i.type&&$t(i,e),t.codegenNode=i}else t.codegenNode=n}else if(o.length>1){let o=64;i.PatchFlagNames[64];0,t.codegenNode=q(e,n(a),void 0,t.children,o+"",void 0,void 0,!0,void 0,!1)}}(t,n),t.helpers=new Set([...n.helpers.keys()]),t.components=[...n.components],t.directives=[...n.directives],t.imports=n.imports,t.hoists=n.hoists,t.temps=n.temps,t.cached=n.cached,t.filters=[...n.filters]}function ke(t,e){e.currentNode=t;const{nodeTransforms:n}=e,o=[];for(let r=0;r<n.length;r++){const s=n[r](t,e);if(s&&((0,i.isArray)(s)?o.push(...s):o.push(s)),!e.currentNode)return;t=e.currentNode}switch(t.type){case 3:e.ssr||e.helper(_);break;case 5:e.ssr||e.helper(T);break;case 9:for(let n=0;n<t.branches.length;n++)ke(t.branches[n],e);break;case 10:case 11:case 1:case 0:!function(t,e){let n=0;const o=()=>{n--};for(;n<t.children.length;n++){const r=t.children[n];(0,i.isString)(r)||(e.parent=t,e.childIndex=n,e.onNodeRemoved=o,ke(r,e))}}(t,e)}e.currentNode=t;let r=o.length;for(;r--;)o[r]()}function Ne(t,e){const n=(0,i.isString)(t)?e=>e===t:e=>t.test(e);return(t,i)=>{if(1===t.type){const{props:o}=t;if(3===t.tagType&&o.some(Lt))return;const r=[];for(let s=0;s<o.length;s++){const a=o[s];if(7===a.type&&n(a.name)){o.splice(s,1),s--;const n=e(t,a,i);n&&r.push(n)}}return r}}}const Fe="/*#__PURE__*/",Ge=t=>`${z[t]}: _${z[t]}`;function Be(t,{mode:e="function",prefixIdentifiers:n="module"===e,sourceMap:i=!1,filename:o="template.vue.html",scopeId:r=null,optimizeImports:s=!1,runtimeGlobalName:a="Vue",runtimeModuleName:l="vue",ssrRuntimeModuleName:c="vue/server-renderer",ssr:u=!1,isTS:h=!1,inSSR:d=!1}){const p={mode:e,prefixIdentifiers:n,sourceMap:i,filename:o,scopeId:r,optimizeImports:s,runtimeGlobalName:a,runtimeModuleName:l,ssrRuntimeModuleName:c,ssr:u,isTS:h,inSSR:d,source:t.loc.source,code:"",column:1,line:1,offset:0,indentLevel:0,pure:!1,map:void 0,helper:t=>`_${z[t]}`,push(t,e){p.code+=t},indent(){f(++p.indentLevel)},deindent(t=!1){t?--p.indentLevel:f(--p.indentLevel)},newline(){f(p.indentLevel)}};function f(t){p.push("\n"+"  ".repeat(t))}return p}function je(t,e={}){const n=Be(t,e);e.onContextCreated&&e.onContextCreated(n);const{mode:i,push:o,prefixIdentifiers:r,indent:s,deindent:a,newline:l,scopeId:c,ssr:u}=n,h=Array.from(t.helpers),d=h.length>0,p=!r&&"module"!==i,f=n;!function(t,e){const{ssr:n,prefixIdentifiers:i,push:o,newline:r,runtimeModuleName:s,runtimeGlobalName:a,ssrRuntimeModuleName:l}=e,c=a,u=Array.from(t.helpers);if(u.length>0&&(o(`const _Vue = ${c}\n`),t.hoists.length)){o(`const { ${[g,m,_,y,v].filter((t=>u.includes(t))).map(Ge).join(", ")} } = _Vue\n`)}(function(t,e){if(!t.length)return;e.pure=!0;const{push:n,newline:i,helper:o,scopeId:r,mode:s}=e;i();for(let o=0;o<t.length;o++){const r=t[o];r&&(n(`const _hoisted_${o+1} = `),He(r,e),i())}e.pure=!1})(t.hoists,e),r(),o("return ")}(t,f);if(o(`function ${u?"ssrRender":"render"}(${(u?["_ctx","_push","_parent","_attrs"]:["_ctx","_cache"]).join(", ")}) {`),s(),p&&(o("with (_ctx) {"),s(),d&&(o(`const { ${h.map(Ge).join(", ")} } = _Vue`),o("\n"),l())),t.components.length&&(Ue(t.components,"component",n),(t.directives.length||t.temps>0)&&l()),t.directives.length&&(Ue(t.directives,"directive",n),t.temps>0&&l()),t.filters&&t.filters.length&&(l(),Ue(t.filters,"filter",n),l()),t.temps>0){o("let ");for(let e=0;e<t.temps;e++)o(`${e>0?", ":""}_temp${e}`)}return(t.components.length||t.directives.length||t.temps)&&(o("\n"),l()),u||o("return "),t.codegenNode?He(t.codegenNode,n):o("null"),p&&(a(),o("}")),a(),o("}"),{ast:t,code:n.code,preamble:"",map:n.map?n.map.toJSON():void 0}}function Ue(t,e,{helper:n,push:i,newline:o,isTS:r}){const s=n("filter"===e?S:"component"===e?C:E);for(let n=0;n<t.length;n++){let a=t[n];const l=a.endsWith("__self");l&&(a=a.slice(0,-6)),i(`const ${Vt(a,e)} = ${s}(${JSON.stringify(a)}${l?", true":""})${r?"!":""}`),n<t.length-1&&o()}}function Ve(t,e){const n=t.length>3||!1;e.push("["),n&&e.indent(),We(t,e,n),n&&e.deindent(),e.push("]")}function We(t,e,n=!1,o=!0){const{push:r,newline:s}=e;for(let a=0;a<t.length;a++){const l=t[a];(0,i.isString)(l)?r(l):(0,i.isArray)(l)?Ve(l,e):He(l,e),a<t.length-1&&(n?(o&&r(","),s()):o&&r(", "))}}function He(t,e){if((0,i.isString)(t))e.push(t);else if((0,i.isSymbol)(t))e.push(e.helper(t));else switch(t.type){case 1:case 9:case 11:case 12:He(t.codegenNode,e);break;case 2:!function(t,e){e.push(JSON.stringify(t.content),t)}(t,e);break;case 4:$e(t,e);break;case 5:!function(t,e){const{push:n,helper:i,pure:o}=e;o&&n(Fe);n(`${i(T)}(`),He(t.content,e),n(")")}(t,e);break;case 8:ze(t,e);break;case 3:!function(t,e){const{push:n,helper:i,pure:o}=e;o&&n(Fe);n(`${i(_)}(${JSON.stringify(t.content)})`,t)}(t,e);break;case 13:!function(t,e){const{push:n,helper:i,pure:o}=e,{tag:r,props:s,children:a,patchFlag:l,dynamicProps:c,directives:u,isBlock:h,disableTracking:p,isComponent:f}=t;u&&n(i(w)+"(");h&&n(`(${i(d)}(${p?"true":""}), `);o&&n(Fe);const g=h?Ft(e.inSSR,f):Nt(e.inSSR,f);n(i(g)+"(",t),We(function(t){let e=t.length;for(;e--&&null==t[e];);return t.slice(0,e+1).map((t=>t||"null"))}([r,s,a,l,c]),e),n(")"),h&&n(")");u&&(n(", "),He(u,e),n(")"))}(t,e);break;case 14:!function(t,e){const{push:n,helper:o,pure:r}=e,s=(0,i.isString)(t.callee)?t.callee:o(t.callee);r&&n(Fe);n(s+"(",t),We(t.arguments,e),n(")")}(t,e);break;case 15:!function(t,e){const{push:n,indent:i,deindent:o,newline:r}=e,{properties:s}=t;if(!s.length)return void n("{}",t);const a=s.length>1||!1;n(a?"{":"{ "),a&&i();for(let t=0;t<s.length;t++){const{key:i,value:o}=s[t];Ke(i,e),n(": "),He(o,e),t<s.length-1&&(n(","),r())}a&&o(),n(a?"}":" }")}(t,e);break;case 17:!function(t,e){Ve(t.elements,e)}(t,e);break;case 18:!function(t,e){const{push:n,indent:o,deindent:r}=e,{params:s,returns:a,body:l,newline:c,isSlot:u}=t;u&&n(`_${z[U]}(`);n("(",t),(0,i.isArray)(s)?We(s,e):s&&He(s,e);n(") => "),(c||l)&&(n("{"),o());a?(c&&n("return "),(0,i.isArray)(a)?Ve(a,e):He(a,e)):l&&He(l,e);(c||l)&&(r(),n("}"));u&&(t.isNonScopedSlot&&n(", undefined, true"),n(")"))}(t,e);break;case 19:!function(t,e){const{test:n,consequent:i,alternate:o,newline:r}=t,{push:s,indent:a,deindent:l,newline:c}=e;if(4===n.type){const t=!_t(n.content);t&&s("("),$e(n,e),t&&s(")")}else s("("),He(n,e),s(")");r&&a(),e.indentLevel++,r||s(" "),s("? "),He(i,e),e.indentLevel--,r&&c(),r||s(" "),s(": ");const u=19===o.type;u||e.indentLevel++;He(o,e),u||e.indentLevel--;r&&l(!0)}(t,e);break;case 20:!function(t,e){const{push:n,helper:i,indent:o,deindent:r,newline:s}=e;n(`_cache[${t.index}] || (`),t.isVNode&&(o(),n(`${i(G)}(-1),`),s());n(`_cache[${t.index}] = `),He(t.value,e),t.isVNode&&(n(","),s(),n(`${i(G)}(1),`),s(),n(`_cache[${t.index}]`),r());n(")")}(t,e);break;case 21:We(t.body,e,!0,!1)}}function $e(t,e){const{content:n,isStatic:i}=t;e.push(i?JSON.stringify(n):n,t)}function ze(t,e){for(let n=0;n<t.children.length;n++){const o=t.children[n];(0,i.isString)(o)?e.push(o):He(o,e)}}function Ke(t,e){const{push:n}=e;if(8===t.type)n("["),ze(t,e),n("]");else if(t.isStatic){n(_t(t.content)?t.content:JSON.stringify(t.content),t)}else n(`[${t.content}]`,t)}function Ye(t,e,n=!1,i=[],o=Object.create(null)){}function Xe(t,e,n){return!1}function qe(t,e){if(t&&("ObjectProperty"===t.type||"ArrayPattern"===t.type)){let t=e.length;for(;t--;){const n=e[t];if("AssignmentExpression"===n.type)return!0;if("ObjectProperty"!==n.type&&!n.type.endsWith("Pattern"))break}}return!1}function Ze(t,e){for(const n of t.params)for(const t of Qe(n))e(t)}function Je(t,e){for(const n of t.body)if("VariableDeclaration"===n.type){if(n.declare)continue;for(const t of n.declarations)for(const n of Qe(t.id))e(n)}else if("FunctionDeclaration"===n.type||"ClassDeclaration"===n.type){if(n.declare||!n.id)continue;e(n.id)}}function Qe(t,e=[]){switch(t.type){case"Identifier":e.push(t);break;case"MemberExpression":let n=t;for(;"MemberExpression"===n.type;)n=n.object;e.push(n);break;case"ObjectPattern":for(const n of t.properties)"RestElement"===n.type?Qe(n.argument,e):Qe(n.value,e);break;case"ArrayPattern":t.elements.forEach((t=>{t&&Qe(t,e)}));break;case"RestElement":Qe(t.argument,e);break;case"AssignmentPattern":Qe(t.left,e)}return e}const tn=t=>/Function(?:Expression|Declaration)$|Method$/.test(t.type),en=t=>t&&("ObjectProperty"===t.type||"ObjectMethod"===t.type)&&!t.computed,nn=(t,e)=>en(e)&&e.key===t;new RegExp("\\b"+"arguments,await,break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,let,new,return,super,switch,throw,try,var,void,while,with,yield".split(",").join("\\b|\\b")+"\\b");const on=(t,e)=>{if(5===t.type)t.content=rn(t.content,e);else if(1===t.type)for(let n=0;n<t.props.length;n++){const i=t.props[n];if(7===i.type&&"for"!==i.name){const t=i.exp,n=i.arg;!t||4!==t.type||"on"===i.name&&n||(i.exp=rn(t,e,"slot"===i.name)),n&&4===n.type&&!n.isStatic&&(i.arg=rn(n,e))}}};function rn(t,e,n=!1,i=!1,o=Object.create(e.identifiers)){return t}function sn(t){return(0,i.isString)(t)?t:4===t.type?t.content:t.children.map(sn).join("")}const an=Ne(/^(if|else|else-if)$/,((t,e,n)=>ln(t,e,n,((t,e,i)=>{const o=n.parent.children;let r=o.indexOf(t),s=0;for(;r-- >=0;){const t=o[r];t&&9===t.type&&(s+=t.branches.length)}return()=>{if(i)t.codegenNode=un(e,s,n);else{const i=function(t){for(;;)if(19===t.type){if(19!==t.alternate.type)return t;t=t.alternate}else 20===t.type&&(t=t.value)}(t.codegenNode);i.alternate=un(e,s+t.branches.length-1,n)}}}))));function ln(t,e,n,i){if(!("else"===e.name||e.exp&&e.exp.content.trim())){const i=e.exp?e.exp.loc:t.loc;n.onError(s(28,e.loc)),e.exp=tt("true",!1,i)}if("if"===e.name){const o=cn(t,e),r={type:9,loc:t.loc,branches:[o]};if(n.replaceNode(r),i)return i(r,o,!0)}else{const o=n.parent.children;let r=o.indexOf(t);for(;r-- >=-1;){const a=o[r];if(a&&3===a.type)n.removeNode(a);else{if(!a||2!==a.type||a.content.trim().length){if(a&&9===a.type){"else-if"===e.name&&void 0===a.branches[a.branches.length-1].condition&&n.onError(s(30,t.loc)),n.removeNode();const o=cn(t,e);0,a.branches.push(o);const r=i&&i(a,o,!1);ke(o,n),r&&r(),n.currentNode=null}else n.onError(s(30,t.loc));break}n.removeNode(a)}}}}function cn(t,e){const n=3===t.tagType;return{type:10,loc:t.loc,condition:"else"===e.name?void 0:e.exp,children:n&&!Tt(t,"for")?t.children:[t],userKey:Mt(t,"key"),isTemplateIf:n}}function un(t,e,n){return t.condition?rt(t.condition,hn(t,e,n),it(n.helper(_),['""',"true"])):hn(t,e,n)}function hn(t,e,n){const{helper:o}=n,r=Q("key",tt(`${e}`,!1,Y,2)),{children:s}=t,l=s[0];if(1!==s.length||1!==l.type){if(1===s.length&&11===l.type){const t=l.codegenNode;return jt(t,r,n),t}{let e=64;i.PatchFlagNames[64];return q(n,o(a),J([r]),s,e+"",void 0,void 0,!0,!1,!1,t.loc)}}{const t=l.codegenNode,e=Ht(t);return 13===e.type&&$t(e,n),jt(e,r,n),t}}const dn=Ne("for",((t,e,n)=>{const{helper:i,removeHelper:o}=n;return pn(t,e,n,(e=>{const r=it(i(O),[e.source]),s=It(t),l=Tt(t,"memo"),c=Mt(t,"key"),u=c&&(6===c.type?tt(c.value.content,!0):c.exp),h=c?Q("key",u):null,p=4===e.source.type&&e.source.constType>0,f=p?64:c?128:256;return e.codegenNode=q(n,i(a),void 0,r,f+"",void 0,void 0,!0,!p,!1,t.loc),()=>{let c;const{children:f}=e;const g=1!==f.length||1!==f[0].type,m=kt(t)?t:s&&1===t.children.length&&kt(t.children[0])?t.children[0]:null;if(m?(c=m.codegenNode,s&&h&&jt(c,h,n)):g?c=q(n,i(a),h?J([h]):void 0,t.children,"64",void 0,void 0,!0,void 0,!1):(c=f[0].codegenNode,s&&h&&jt(c,h,n),c.isBlock!==!p&&(c.isBlock?(o(d),o(Ft(n.inSSR,c.isComponent))):o(Nt(n.inSSR,c.isComponent))),c.isBlock=!p,c.isBlock?(i(d),i(Ft(n.inSSR,c.isComponent))):i(Nt(n.inSSR,c.isComponent))),l){const t=ot(vn(e.parseResult,[tt("_cached")]));t.body=at([nt(["const _memo = (",l.exp,")"]),nt(["if (_cached",...u?[" && _cached.key === ",u]:[],` && ${n.helperString($)}(_cached, _memo)) return _cached`]),nt(["const _item = ",c]),tt("_item.memo = _memo"),tt("return _item")]),r.arguments.push(t,tt("_cache"),tt(String(n.cached++)))}else r.arguments.push(ot(vn(e.parseResult),c,!0))}}))}));function pn(t,e,n,i){if(!e.exp)return void n.onError(s(31,e.loc));const o=_n(e.exp,n);if(!o)return void n.onError(s(32,e.loc));const{addIdentifiers:r,removeIdentifiers:a,scopes:l}=n,{source:c,value:u,key:h,index:d}=o,p={type:11,loc:e.loc,source:c,valueAlias:u,keyAlias:h,objectIndexAlias:d,parseResult:o,children:It(t)?t.children:[t]};n.replaceNode(p),l.vFor++;const f=i&&i(p);return()=>{l.vFor--,f&&f()}}const fn=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,gn=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,mn=/^\(|\)$/g;function _n(t,e){const n=t.loc,i=t.content,o=i.match(fn);if(!o)return;const[,r,s]=o,a={source:yn(n,s.trim(),i.indexOf(s,r.length)),value:void 0,key:void 0,index:void 0};let l=r.trim().replace(mn,"").trim();const c=r.indexOf(l),u=l.match(gn);if(u){l=l.replace(gn,"").trim();const t=u[1].trim();let e;if(t&&(e=i.indexOf(t,c+l.length),a.key=yn(n,t,e)),u[2]){const o=u[2].trim();o&&(a.index=yn(n,o,i.indexOf(o,a.key?e+t.length:c+l.length)))}}return l&&(a.value=yn(n,l,c)),a}function yn(t,e,n){return tt(e,!1,wt(t,n,e.length))}function vn({value:t,key:e,index:n},i=[]){return function(t){let e=t.length;for(;e--&&!t[e];);return t.slice(0,e+1).map(((t,e)=>t||tt("_".repeat(e+1),!1)))}([t,e,n,...i])}const Cn=tt("undefined",!1),bn=(t,e)=>{if(1===t.type&&(1===t.tagType||3===t.tagType)){const n=Tt(t,"slot");if(n)return n.exp,e.scopes.vSlot++,()=>{e.scopes.vSlot--}}},En=(t,e)=>{let n;if(It(t)&&t.props.some(Lt)&&(n=Tt(t,"for"))){const t=n.parseResult=_n(n.exp);if(t){const{value:n,key:i,index:o}=t,{addIdentifiers:r,removeIdentifiers:s}=e;return n&&r(n),i&&r(i),o&&r(o),()=>{n&&s(n),i&&s(i),o&&s(o)}}}},Sn=(t,e,n)=>ot(t,e,!1,!0,e.length?e[0].loc:n);function wn(t,e,n=Sn){e.helper(U);const{children:i,loc:o}=t,r=[],a=[];let l=e.scopes.vSlot>0||e.scopes.vFor>0;const c=Tt(t,"slot",!0);if(c){const{arg:t,exp:e}=c;t&&!pt(t)&&(l=!0),r.push(Q(t||tt("default",!0),n(e,i,o)))}let u=!1,h=!1;const d=[],p=new Set;let f=0;for(let t=0;t<i.length;t++){const o=i[t];let g;if(!It(o)||!(g=Tt(o,"slot",!0))){3!==o.type&&d.push(o);continue}if(c){e.onError(s(37,g.loc));break}u=!0;const{children:m,loc:_}=o,{arg:y=tt("default",!0),exp:v,loc:C}=g;let b;pt(y)?b=y?y.content:"default":l=!0;const E=n(v,m,_);let S,w,x;if(S=Tt(o,"if"))l=!0,a.push(rt(S.exp,On(y,E,f++),Cn));else if(w=Tt(o,/^else(-if)?$/,!0)){let n,o=t;for(;o--&&(n=i[o],3===n.type););if(n&&It(n)&&Tt(n,"if")){i.splice(t,1),t--;let e=a[a.length-1];for(;19===e.alternate.type;)e=e.alternate;e.alternate=w.exp?rt(w.exp,On(y,E,f++),Cn):On(y,E,f++)}else e.onError(s(30,w.loc))}else if(x=Tt(o,"for")){l=!0;const t=x.parseResult||_n(x.exp);t?a.push(it(e.helper(O),[t.source,ot(vn(t),On(y,E),!0)])):e.onError(s(32,x.loc))}else{if(b){if(p.has(b)){e.onError(s(38,C));continue}p.add(b),"default"===b&&(h=!0)}r.push(Q(y,E))}}if(!c){const t=(t,i)=>{const r=n(t,i,o);return e.compatConfig&&(r.isNonScopedSlot=!0),Q("default",r)};u?d.length&&d.some((t=>Pn(t)))&&(h?e.onError(s(39,d[0].loc)):r.push(t(void 0,d))):r.push(t(void 0,i))}const g=l?2:xn(t.children)?3:1;let m=J(r.concat(Q("_",tt(g+"",!1))),o);return a.length&&(m=it(e.helper(P),[m,Z(a)])),{slots:m,hasDynamicSlots:l}}function On(t,e,n){const i=[Q("name",t),Q("fn",e)];return null!=n&&i.push(Q("key",tt(String(n),!0))),J(i)}function xn(t){for(let e=0;e<t.length;e++){const n=t[e];switch(n.type){case 1:if(2===n.tagType||xn(n.children))return!0;break;case 9:if(xn(n.branches))return!0;break;case 10:case 11:if(xn(n.children))return!0}}return!1}function Pn(t){return 2!==t.type&&12!==t.type||(2===t.type?!!t.content.trim():Pn(t.content))}const Tn=new WeakMap,Mn=(t,e)=>function(){if(1!==(t=e.currentNode).type||0!==t.tagType&&1!==t.tagType)return;const{tag:n,props:o}=t,r=1===t.tagType;let s=r?Dn(t,e):`"${n}"`;const a=(0,i.isObject)(s)&&s.callee===b;let h,d,p,f,g,m,_=0,y=a||s===l||s===c||!r&&("svg"===n||"foreignObject"===n);if(o.length>0){const n=Rn(t,e,void 0,r,a);h=n.props,_=n.patchFlag,g=n.dynamicPropNames;const i=n.directives;m=i&&i.length?Z(i.map((t=>In(t,e)))):void 0,n.shouldUseBlock&&(y=!0)}if(t.children.length>0){s===u&&(y=!0,_|=1024);if(r&&s!==l&&s!==u){const{slots:n,hasDynamicSlots:i}=wn(t,e);d=n,i&&(_|=1024)}else if(1===t.children.length&&s!==l){const n=t.children[0],i=n.type,o=5===i||8===i;o&&0===Pe(n,e)&&(_|=1),d=o||2===i?n:t.children}else d=t.children}0!==_&&(p=String(_),g&&g.length&&(f=function(t){let e="[";for(let n=0,i=t.length;n<i;n++)e+=JSON.stringify(t[n]),n<i-1&&(e+=", ");return e+"]"}(g))),t.codegenNode=q(e,s,h,d,p,f,m,!!y,!1,r,t.loc)};function Dn(t,e,n=!1){let{tag:i}=t;const o=kn(i),r=Mt(t,"is");if(r)if(o||Yt("COMPILER_IS_ON_ELEMENT",e)){const t=6===r.type?r.value&&tt(r.value.content,!0):r.exp;if(t)return it(e.helper(b),[t])}else 6===r.type&&r.value.content.startsWith("vue:")&&(i=r.value.content.slice(4));const s=!o&&Tt(t,"is");if(s&&s.exp)return it(e.helper(b),[s.exp]);const a=gt(i)||e.isBuiltInComponent(i);return a?(n||e.helper(a),a):(e.helper(C),e.components.add(i),Vt(i,"component"))}function Rn(t,e,n=t.props,o,r,a=!1){const{tag:l,loc:c,children:u}=t;let h=[];const d=[],p=[],f=u.length>0;let g=!1,m=0,_=!1,y=!1,v=!1,C=!1,b=!1,E=!1;const S=[],w=t=>{h.length&&(d.push(J(An(h),c)),h=[]),t&&d.push(t)},O=({key:t,value:n})=>{if(pt(t)){const s=t.content,a=(0,i.isOn)(s);if(!a||o&&!r||"onclick"===s.toLowerCase()||"onUpdate:modelValue"===s||(0,i.isReservedProp)(s)||(C=!0),a&&(0,i.isReservedProp)(s)&&(E=!0),20===n.type||(4===n.type||8===n.type)&&Pe(n,e)>0)return;"ref"===s?_=!0:"class"===s?y=!0:"style"===s?v=!0:"key"===s||S.includes(s)||S.push(s),!o||"class"!==s&&"style"!==s||S.includes(s)||S.push(s)}else b=!0};for(let r=0;r<n.length;r++){const u=n[r];if(6===u.type){const{loc:t,name:n,value:i}=u;let o=!0;if("ref"===n&&(_=!0,e.scopes.vFor>0&&h.push(Q(tt("ref_for",!0),tt("true")))),"is"===n&&(kn(l)||i&&i.content.startsWith("vue:")||Yt("COMPILER_IS_ON_ELEMENT",e)))continue;h.push(Q(tt(n,!0,wt(t,0,n.length)),tt(i?i.content:"",o,i?i.loc:t)))}else{const{name:n,arg:r,exp:m,loc:_}=u,y="bind"===n,v="on"===n;if("slot"===n){o||e.onError(s(40,_));continue}if("once"===n||"memo"===n)continue;if("is"===n||y&&Dt(r,"is")&&(kn(l)||Yt("COMPILER_IS_ON_ELEMENT",e)))continue;if(v&&a)continue;if((y&&Dt(r,"key")||v&&f&&Dt(r,"vue:before-update"))&&(g=!0),y&&Dt(r,"ref")&&e.scopes.vFor>0&&h.push(Q(tt("ref_for",!0),tt("true"))),!r&&(y||v)){if(b=!0,m)if(y){if(w(),Yt("COMPILER_V_BIND_OBJECT_ORDER",e)){d.unshift(m);continue}d.push(m)}else w({type:14,loc:_,callee:e.helper(I),arguments:o?[m]:[m,"true"]});else e.onError(s(y?34:35,_));continue}const C=e.directiveTransforms[n];if(C){const{props:n,needRuntime:o}=C(u,t,e);!a&&n.forEach(O),v&&r&&!pt(r)?w(J(n,c)):h.push(...n),o&&(p.push(u),(0,i.isSymbol)(o)&&Tn.set(u,o))}else(0,i.isBuiltInDirective)(n)||(p.push(u),f&&(g=!0))}}let x;if(d.length?(w(),x=d.length>1?it(e.helper(M),d,c):d[0]):h.length&&(x=J(An(h),c)),b?m|=16:(y&&!o&&(m|=2),v&&!o&&(m|=4),S.length&&(m|=8),C&&(m|=32)),g||0!==m&&32!==m||!(_||E||p.length>0)||(m|=512),!e.inSSR&&x)switch(x.type){case 15:let t=-1,n=-1,i=!1;for(let e=0;e<x.properties.length;e++){const o=x.properties[e].key;pt(o)?"class"===o.content?t=e:"style"===o.content&&(n=e):o.isHandlerKey||(i=!0)}const o=x.properties[t],r=x.properties[n];i?x=it(e.helper(A),[x]):(o&&!pt(o.value)&&(o.value=it(e.helper(D),[o.value])),r&&(v||4===r.value.type&&"["===r.value.content.trim()[0]||17===r.value.type)&&(r.value=it(e.helper(R),[r.value])));break;case 14:break;default:x=it(e.helper(A),[it(e.helper(L),[x])])}return{props:x,directives:p,patchFlag:m,dynamicPropNames:S,shouldUseBlock:g}}function An(t){const e=new Map,n=[];for(let o=0;o<t.length;o++){const r=t[o];if(8===r.key.type||!r.key.isStatic){n.push(r);continue}const s=r.key.content,a=e.get(s);a?("style"===s||"class"===s||(0,i.isOn)(s))&&Ln(a,r):(e.set(s,r),n.push(r))}return n}function Ln(t,e){17===t.value.type?t.value.elements.push(e.value):t.value=Z([t.value,e.value],t.loc)}function In(t,e){const n=[],i=Tn.get(t);i?n.push(e.helperString(i)):(e.helper(E),e.directives.add(t.name),n.push(Vt(t.name,"directive")));const{loc:o}=t;if(t.exp&&n.push(t.exp),t.arg&&(t.exp||n.push("void 0"),n.push(t.arg)),Object.keys(t.modifiers).length){t.arg||(t.exp||n.push("void 0"),n.push("void 0"));const e=tt("true",!1,o);n.push(J(t.modifiers.map((t=>Q(t,e))),o))}return Z(n,t.loc)}function kn(t){return"component"===t||"Component"===t}const Nn=/-(\w)/g,Fn=(t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))})((t=>t.replace(Nn,((t,e)=>e?e.toUpperCase():"")))),Gn=(t,e)=>{if(kt(t)){const{children:n,loc:i}=t,{slotName:o,slotProps:r}=Bn(t,e),s=[e.prefixIdentifiers?"_ctx.$slots":"$slots",o,"{}","undefined","true"];let a=2;r&&(s[2]=r,a=3),n.length&&(s[3]=ot([],n,!1,!1,i),a=4),e.scopeId&&!e.slotted&&(a=5),s.splice(a),t.codegenNode=it(e.helper(x),s,i)}};function Bn(t,e){let n,i='"default"';const o=[];for(let e=0;e<t.props.length;e++){const n=t.props[e];6===n.type?n.value&&("name"===n.name?i=JSON.stringify(n.value.content):(n.name=Fn(n.name),o.push(n))):"bind"===n.name&&Dt(n.arg,"name")?n.exp&&(i=n.exp):("bind"===n.name&&n.arg&&pt(n.arg)&&(n.arg.content=Fn(n.arg.content)),o.push(n))}if(o.length>0){const{props:i,directives:r}=Rn(t,e,o,!1,!1);n=i,r.length&&e.onError(s(36,r[0].loc))}return{slotName:i,slotProps:n}}const jn=/^\s*([\w$_]+|(async\s*)?\([^)]*?\))\s*(:[^=]+)?=>|^\s*(async\s+)?function(?:\s+[\w$]+)?\s*\(/,Un=(t,e,n,o)=>{const{loc:r,modifiers:a,arg:l}=t;let c;if(t.exp||a.length||n.onError(s(35,r)),4===l.type)if(l.isStatic){let t=l.content;t.startsWith("vue:")&&(t=`vnode-${t.slice(4)}`);c=tt(0!==e.tagType||t.startsWith("vnode")||!/[A-Z]/.test(t)?(0,i.toHandlerKey)((0,i.camelize)(t)):`on:${t}`,!0,l.loc)}else c=nt([`${n.helperString(F)}(`,l,")"]);else c=l,c.children.unshift(`${n.helperString(F)}(`),c.children.push(")");let u=t.exp;u&&!u.content.trim()&&(u=void 0);let h=n.cacheHandlers&&!u&&!n.inVOnce;if(u){const t=St(u.content),e=!(t||jn.test(u.content)),n=u.content.includes(";");0,(e||h&&t)&&(u=nt([`${e?"$event":"(...args)"} => ${n?"{":"("}`,u,n?"}":")"]))}let d={props:[Q(c,u||tt("() => {}",!1,r))]};return o&&(d=o(d)),h&&(d.props[0].value=n.cache(d.props[0].value)),d.props.forEach((t=>t.key.isHandlerKey=!0)),d},Vn=(t,e,n)=>{const{exp:o,modifiers:r,loc:a}=t,l=t.arg;return 4!==l.type?(l.children.unshift("("),l.children.push(') || ""')):l.isStatic||(l.content=`${l.content} || ""`),r.includes("camel")&&(4===l.type?l.isStatic?l.content=(0,i.camelize)(l.content):l.content=`${n.helperString(k)}(${l.content})`:(l.children.unshift(`${n.helperString(k)}(`),l.children.push(")"))),n.inSSR||(r.includes("prop")&&Wn(l,"."),r.includes("attr")&&Wn(l,"^")),!o||4===o.type&&!o.content.trim()?(n.onError(s(34,a)),{props:[Q(l,tt("",!0,a))]}):{props:[Q(l,o)]}},Wn=(t,e)=>{4===t.type?t.isStatic?t.content=e+t.content:t.content=`\`${e}\${${t.content}}\``:(t.children.unshift(`'${e}' + (`),t.children.push(")"))},Hn=(t,e)=>{if(0===t.type||1===t.type||11===t.type||10===t.type)return()=>{const n=t.children;let i,o=!1;for(let t=0;t<n.length;t++){const e=n[t];if(At(e)){o=!0;for(let o=t+1;o<n.length;o++){const r=n[o];if(!At(r)){i=void 0;break}i||(i=n[t]=nt([e],e.loc)),i.children.push(" + ",r),n.splice(o,1),o--}}}if(o&&(1!==n.length||0!==t.type&&(1!==t.type||0!==t.tagType||t.props.find((t=>7===t.type&&!e.directiveTransforms[t.name]))||"template"===t.tag)))for(let t=0;t<n.length;t++){const i=n[t];if(At(i)||8===i.type){const o=[];2===i.type&&" "===i.content||o.push(i),e.ssr||0!==Pe(i,e)||o.push("1"),n[t]={type:12,content:i,loc:i.loc,codegenNode:it(e.helper(y),o)}}}}},$n=new WeakSet,zn=(t,e)=>{if(1===t.type&&Tt(t,"once",!0)){if($n.has(t)||e.inVOnce)return;return $n.add(t),e.inVOnce=!0,e.helper(G),()=>{e.inVOnce=!1;const t=e.currentNode;t.codegenNode&&(t.codegenNode=e.cache(t.codegenNode,!0))}}},Kn=(t,e,n)=>{const{exp:o,arg:r}=t;if(!o)return n.onError(s(41,t.loc)),Yn();const a=o.loc.source,l=4===o.type?o.content:a,c=n.bindingMetadata[a];if("props"===c||"props-aliased"===c)return n.onError(s(44,o.loc)),Yn();if(!l.trim()||!St(l))return n.onError(s(42,o.loc)),Yn();const u=r||tt("modelValue",!0),h=r?pt(r)?`onUpdate:${(0,i.camelize)(r.content)}`:nt(['"onUpdate:" + ',r]):"onUpdate:modelValue";let d;d=nt([`${n.isTS?"($event: any)":"$event"} => ((`,o,") = $event)"]);const p=[Q(u,t.exp),Q(h,d)];if(t.modifiers.length&&1===e.tagType){const e=t.modifiers.map((t=>(_t(t)?t:JSON.stringify(t))+": true")).join(", "),n=r?pt(r)?`${r.content}Modifiers`:nt([r,' + "Modifiers"']):"modelModifiers";p.push(Q(n,tt(`{ ${e} }`,!1,t.loc,2)))}return Yn(p)};function Yn(t=[]){return{props:t}}const Xn=/[\w).+\-_$\]]/,qn=(t,e)=>{Yt("COMPILER_FILTER",e)&&(5===t.type&&Zn(t.content,e),1===t.type&&t.props.forEach((t=>{7===t.type&&"for"!==t.name&&t.exp&&Zn(t.exp,e)})))};function Zn(t,e){if(4===t.type)Jn(t,e);else for(let n=0;n<t.children.length;n++){const i=t.children[n];"object"==typeof i&&(4===i.type?Jn(i,e):8===i.type?Zn(t,e):5===i.type&&Zn(i.content,e))}}function Jn(t,e){const n=t.content;let i,o,r,s,a=!1,l=!1,c=!1,u=!1,h=0,d=0,p=0,f=0,g=[];for(r=0;r<n.length;r++)if(o=i,i=n.charCodeAt(r),a)39===i&&92!==o&&(a=!1);else if(l)34===i&&92!==o&&(l=!1);else if(c)96===i&&92!==o&&(c=!1);else if(u)47===i&&92!==o&&(u=!1);else if(124!==i||124===n.charCodeAt(r+1)||124===n.charCodeAt(r-1)||h||d||p){switch(i){case 34:l=!0;break;case 39:a=!0;break;case 96:c=!0;break;case 40:p++;break;case 41:p--;break;case 91:d++;break;case 93:d--;break;case 123:h++;break;case 125:h--}if(47===i){let t,e=r-1;for(;e>=0&&(t=n.charAt(e)," "===t);e--);t&&Xn.test(t)||(u=!0)}}else void 0===s?(f=r+1,s=n.slice(0,r).trim()):m();function m(){g.push(n.slice(f,r).trim()),f=r+1}if(void 0===s?s=n.slice(0,r).trim():0!==f&&m(),g.length){for(r=0;r<g.length;r++)s=Qn(s,g[r],e);t.content=s}}function Qn(t,e,n){n.helper(S);const i=e.indexOf("(");if(i<0)return n.filters.add(e),`${Vt(e,"filter")}(${t})`;{const o=e.slice(0,i),r=e.slice(i+1);return n.filters.add(o),`${Vt(o,"filter")}(${t}${")"!==r?","+r:r}`}}const ti=new WeakSet,ei=(t,e)=>{if(1===t.type){const n=Tt(t,"memo");if(!n||ti.has(t))return;return ti.add(t),()=>{const i=t.codegenNode||e.currentNode.codegenNode;i&&13===i.type&&(1!==t.tagType&&$t(i,e),t.codegenNode=it(e.helper(H),[n.exp,ot(void 0,i),"_cache",String(e.cached++)]))}}};function ni(t){return[[zn,an,ei,dn,qn,Gn,Mn,bn,Hn],{on:Un,bind:Vn,model:Kn}]}function ii(t,e={}){const n=e.onError||o,r="module"===e.mode;!0===e.prefixIdentifiers?n(s(47)):r&&n(s(48));e.cacheHandlers&&n(s(49)),e.scopeId&&!r&&n(s(50));const a=(0,i.isString)(t)?te(t,e):t,[l,c]=ni();return Ie(a,(0,i.extend)({},e,{prefixIdentifiers:false,nodeTransforms:[...l,...e.nodeTransforms||[]],directiveTransforms:(0,i.extend)({},c,e.directiveTransforms||{})})),je(a,(0,i.extend)({},e,{prefixIdentifiers:false}))}const oi=()=>({props:[]}),ri=Symbol(""),si=Symbol(""),ai=Symbol(""),li=Symbol(""),ci=Symbol(""),ui=Symbol(""),hi=Symbol(""),di=Symbol(""),pi=Symbol(""),fi=Symbol("");let gi;K({[ri]:"vModelRadio",[si]:"vModelCheckbox",[ai]:"vModelText",[li]:"vModelSelect",[ci]:"vModelDynamic",[ui]:"withModifiers",[hi]:"withKeys",[di]:"vShow",[pi]:"Transition",[fi]:"TransitionGroup"});const mi=(0,i.makeMap)("style,iframe,script,noscript",!0),_i={isVoidTag:i.isVoidTag,isNativeTag:t=>(0,i.isHTMLTag)(t)||(0,i.isSVGTag)(t),isPreTag:t=>"pre"===t,decodeEntities:function(t,e=!1){return gi||(gi=document.createElement("div")),e?(gi.innerHTML=`<div foo="${t.replace(/"/g,"&quot;")}">`,gi.children[0].getAttribute("foo")):(gi.innerHTML=t,gi.textContent)},isBuiltInComponent:t=>ft(t,"Transition")?pi:ft(t,"TransitionGroup")?fi:void 0,getNamespace(t,e){let n=e?e.ns:0;if(e&&2===n)if("annotation-xml"===e.tag){if("svg"===t)return 1;e.props.some((t=>6===t.type&&"encoding"===t.name&&null!=t.value&&("text/html"===t.value.content||"application/xhtml+xml"===t.value.content)))&&(n=0)}else/^m(?:[ions]|text)$/.test(e.tag)&&"mglyph"!==t&&"malignmark"!==t&&(n=0);else e&&1===n&&("foreignObject"!==e.tag&&"desc"!==e.tag&&"title"!==e.tag||(n=0));if(0===n){if("svg"===t)return 1;if("math"===t)return 2}return n},getTextMode({tag:t,ns:e}){if(0===e){if("textarea"===t||"title"===t)return 1;if(mi(t))return 2}return 0}},yi=t=>{1===t.type&&t.props.forEach(((e,n)=>{6===e.type&&"style"===e.name&&e.value&&(t.props[n]={type:7,name:"bind",arg:tt("style",!0,e.loc),exp:vi(e.value.content,e.loc),modifiers:[],loc:e.loc})}))},vi=(t,e)=>{const n=(0,i.parseStringStyle)(t);return tt(JSON.stringify(n),!1,e,3)};function Ci(t,e){return s(t,e)}const bi=(0,i.makeMap)("passive,once,capture"),Ei=(0,i.makeMap)("stop,prevent,self,ctrl,shift,alt,meta,exact,middle"),Si=(0,i.makeMap)("left,right"),wi=(0,i.makeMap)("onkeyup,onkeydown,onkeypress",!0),Oi=(t,e)=>pt(t)&&"onclick"===t.content.toLowerCase()?tt(e,!0):4!==t.type?nt(["(",t,`) === "onClick" ? "${e}" : (`,t,")"]):t;const xi=(t,e)=>{1!==t.type||0!==t.tagType||"script"!==t.tag&&"style"!==t.tag||(e.onError(Ci(61,t.loc)),e.removeNode())},Pi=[yi],Ti={cloak:oi,html:(t,e,n)=>{const{exp:i,loc:o}=t;return i||n.onError(Ci(51,o)),e.children.length&&(n.onError(Ci(52,o)),e.children.length=0),{props:[Q(tt("innerHTML",!0,o),i||tt("",!0))]}},text:(t,e,n)=>{const{exp:i,loc:o}=t;return i||n.onError(Ci(53,o)),e.children.length&&(n.onError(Ci(54,o)),e.children.length=0),{props:[Q(tt("textContent",!0),i?Pe(i,n)>0?i:it(n.helperString(T),[i],o):tt("",!0))]}},model:(t,e,n)=>{const i=Kn(t,e,n);if(!i.props.length||1===e.tagType)return i;t.arg&&n.onError(Ci(56,t.arg.loc));const{tag:o}=e,r=n.isCustomElement(o);if("input"===o||"textarea"===o||"select"===o||r){let s=ai,a=!1;if("input"===o||r){const i=Mt(e,"type");if(i){if(7===i.type)s=ci;else if(i.value)switch(i.value.content){case"radio":s=ri;break;case"checkbox":s=si;break;case"file":a=!0,n.onError(Ci(57,t.loc))}}else Rt(e)&&(s=ci)}else"select"===o&&(s=li);a||(i.needRuntime=n.helper(s))}else n.onError(Ci(55,t.loc));return i.props=i.props.filter((t=>!(4===t.key.type&&"modelValue"===t.key.content))),i},on:(t,e,n)=>Un(t,e,n,(e=>{const{modifiers:o}=t;if(!o.length)return e;let{key:r,value:s}=e.props[0];const{keyModifiers:a,nonKeyModifiers:l,eventOptionModifiers:c}=((t,e,n,i)=>{const o=[],r=[],s=[];for(let i=0;i<e.length;i++){const a=e[i];"native"===a&&Xt("COMPILER_V_ON_NATIVE",n)||bi(a)?s.push(a):Si(a)?pt(t)?wi(t.content)?o.push(a):r.push(a):(o.push(a),r.push(a)):Ei(a)?r.push(a):o.push(a)}return{keyModifiers:o,nonKeyModifiers:r,eventOptionModifiers:s}})(r,o,n,t.loc);if(l.includes("right")&&(r=Oi(r,"onContextmenu")),l.includes("middle")&&(r=Oi(r,"onMouseup")),l.length&&(s=it(n.helper(ui),[s,JSON.stringify(l)])),!a.length||pt(r)&&!wi(r.content)||(s=it(n.helper(hi),[s,JSON.stringify(a)])),c.length){const t=c.map(i.capitalize).join("");r=pt(r)?tt(`${r.content}${t}`,!0):nt(["(",r,`) + "${t}"`])}return{props:[Q(r,s)]}})),show:(t,e,n)=>{const{exp:i,loc:o}=t;return i||n.onError(Ci(59,o)),{props:[],needRuntime:n.helper(di)}}};function Mi(t,e={}){return ii(t,(0,i.extend)({},_i,e,{nodeTransforms:[xi,...Pi,...e.nodeTransforms||[]],directiveTransforms:(0,i.extend)({},Ti,e.directiveTransforms||{}),transformHoist:null}))}function Di(t,e={}){return te(t,(0,i.extend)({},_i,e))}},2262:(t,e,n)=>{"use strict";n.d(e,{$y:()=>Tt,B:()=>s,BK:()=>Yt,Bj:()=>r,EB:()=>c,Fl:()=>Qt,IU:()=>Rt,Jd:()=>x,OT:()=>wt,PG:()=>Pt,SU:()=>Wt,Um:()=>St,Vh:()=>qt,WL:()=>$t,X$:()=>D,X3:()=>Dt,XI:()=>Bt,Xl:()=>At,YS:()=>Ot,ZM:()=>Kt,cE:()=>E,dq:()=>Ft,iH:()=>Gt,j:()=>T,lk:()=>P,nZ:()=>l,oR:()=>Vt,qj:()=>Et,qq:()=>C,sT:()=>S,yT:()=>Mt});var i=n(3577);let o;class r{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=o,!t&&o&&(this.index=(o.scopes||(o.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const e=o;try{return o=this,t()}finally{o=e}}else 0}on(){o=this}off(){o=this.parent}stop(t){if(this._active){let e,n;for(e=0,n=this.effects.length;e<n;e++)this.effects[e].stop();for(e=0,n=this.cleanups.length;e<n;e++)this.cleanups[e]();if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].stop(!0);if(!this.detached&&this.parent&&!t){const t=this.parent.scopes.pop();t&&t!==this&&(this.parent.scopes[this.index]=t,t.index=this.index)}this.parent=void 0,this._active=!1}}}function s(t){return new r(t)}function a(t,e=o){e&&e.active&&e.effects.push(t)}function l(){return o}function c(t){o&&o.cleanups.push(t)}const u=t=>{const e=new Set(t);return e.w=0,e.n=0,e},h=t=>(t.w&g)>0,d=t=>(t.n&g)>0,p=new WeakMap;let f=0,g=1;const m=30;let _;const y=Symbol(""),v=Symbol("");class C{constructor(t,e=null,n){this.fn=t,this.scheduler=e,this.active=!0,this.deps=[],this.parent=void 0,a(this,n)}run(){if(!this.active)return this.fn();let t=_,e=w;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=_,_=this,w=!0,g=1<<++f,f<=m?(({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=g})(this):b(this),this.fn()}finally{f<=m&&(t=>{const{deps:e}=t;if(e.length){let n=0;for(let i=0;i<e.length;i++){const o=e[i];h(o)&&!d(o)?o.delete(t):e[n++]=o,o.w&=~g,o.n&=~g}e.length=n}})(this),g=1<<--f,_=this.parent,w=e,this.parent=void 0,this.deferStop&&this.stop()}}stop(){_===this?this.deferStop=!0:this.active&&(b(this),this.onStop&&this.onStop(),this.active=!1)}}function b(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}function E(t,e){t.effect&&(t=t.effect.fn);const n=new C(t);e&&((0,i.extend)(n,e),e.scope&&a(n,e.scope)),e&&e.lazy||n.run();const o=n.run.bind(n);return o.effect=n,o}function S(t){t.effect.stop()}let w=!0;const O=[];function x(){O.push(w),w=!1}function P(){const t=O.pop();w=void 0===t||t}function T(t,e,n){if(w&&_){let e=p.get(t);e||p.set(t,e=new Map);let i=e.get(n);i||e.set(n,i=u());M(i,void 0)}}function M(t,e){let n=!1;f<=m?d(t)||(t.n|=g,n=!h(t)):n=!t.has(_),n&&(t.add(_),_.deps.push(t))}function D(t,e,n,o,r,s){const a=p.get(t);if(!a)return;let l=[];if("clear"===e)l=[...a.values()];else if("length"===n&&(0,i.isArray)(t)){const t=Number(o);a.forEach(((e,n)=>{("length"===n||n>=t)&&l.push(e)}))}else switch(void 0!==n&&l.push(a.get(n)),e){case"add":(0,i.isArray)(t)?(0,i.isIntegerKey)(n)&&l.push(a.get("length")):(l.push(a.get(y)),(0,i.isMap)(t)&&l.push(a.get(v)));break;case"delete":(0,i.isArray)(t)||(l.push(a.get(y)),(0,i.isMap)(t)&&l.push(a.get(v)));break;case"set":(0,i.isMap)(t)&&l.push(a.get(y))}if(1===l.length)l[0]&&R(l[0]);else{const t=[];for(const e of l)e&&t.push(...e);R(u(t))}}function R(t,e){const n=(0,i.isArray)(t)?t:[...t];for(const t of n)t.computed&&A(t,e);for(const t of n)t.computed||A(t,e)}function A(t,e){(t!==_||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}const L=(0,i.makeMap)("__proto__,__v_isRef,__isVue"),I=new Set(Object.getOwnPropertyNames(Symbol).filter((t=>"arguments"!==t&&"caller"!==t)).map((t=>Symbol[t])).filter(i.isSymbol)),k=V(),N=V(!1,!0),F=V(!0),G=V(!0,!0),B=j();function j(){const t={};return["includes","indexOf","lastIndexOf"].forEach((e=>{t[e]=function(...t){const n=Rt(this);for(let t=0,e=this.length;t<e;t++)T(n,0,t+"");const i=n[e](...t);return-1===i||!1===i?n[e](...t.map(Rt)):i}})),["push","pop","shift","unshift","splice"].forEach((e=>{t[e]=function(...t){x();const n=Rt(this)[e].apply(this,t);return P(),n}})),t}function U(t){const e=Rt(this);return T(e,0,t),e.hasOwnProperty(t)}function V(t=!1,e=!1){return function(n,o,r){if("__v_isReactive"===o)return!t;if("__v_isReadonly"===o)return t;if("__v_isShallow"===o)return e;if("__v_raw"===o&&r===(t?e?bt:Ct:e?vt:yt).get(n))return n;const s=(0,i.isArray)(n);if(!t){if(s&&(0,i.hasOwn)(B,o))return Reflect.get(B,o,r);if("hasOwnProperty"===o)return U}const a=Reflect.get(n,o,r);return((0,i.isSymbol)(o)?I.has(o):L(o))?a:(t||T(n,0,o),e?a:Ft(a)?s&&(0,i.isIntegerKey)(o)?a:a.value:(0,i.isObject)(a)?t?wt(a):Et(a):a)}}const W=$(),H=$(!0);function $(t=!1){return function(e,n,o,r){let s=e[n];if(Tt(s)&&Ft(s)&&!Ft(o))return!1;if(!t&&(Mt(o)||Tt(o)||(s=Rt(s),o=Rt(o)),!(0,i.isArray)(e)&&Ft(s)&&!Ft(o)))return s.value=o,!0;const a=(0,i.isArray)(e)&&(0,i.isIntegerKey)(n)?Number(n)<e.length:(0,i.hasOwn)(e,n),l=Reflect.set(e,n,o,r);return e===Rt(r)&&(a?(0,i.hasChanged)(o,s)&&D(e,"set",n,o):D(e,"add",n,o)),l}}const z={get:k,set:W,deleteProperty:function(t,e){const n=(0,i.hasOwn)(t,e),o=(t[e],Reflect.deleteProperty(t,e));return o&&n&&D(t,"delete",e,void 0),o},has:function(t,e){const n=Reflect.has(t,e);return(0,i.isSymbol)(e)&&I.has(e)||T(t,0,e),n},ownKeys:function(t){return T(t,0,(0,i.isArray)(t)?"length":y),Reflect.ownKeys(t)}},K={get:F,set:(t,e)=>!0,deleteProperty:(t,e)=>!0},Y=(0,i.extend)({},z,{get:N,set:H}),X=(0,i.extend)({},K,{get:G}),q=t=>t,Z=t=>Reflect.getPrototypeOf(t);function J(t,e,n=!1,i=!1){const o=Rt(t=t.__v_raw),r=Rt(e);n||(e!==r&&T(o,0,e),T(o,0,r));const{has:s}=Z(o),a=i?q:n?It:Lt;return s.call(o,e)?a(t.get(e)):s.call(o,r)?a(t.get(r)):void(t!==o&&t.get(e))}function Q(t,e=!1){const n=this.__v_raw,i=Rt(n),o=Rt(t);return e||(t!==o&&T(i,0,t),T(i,0,o)),t===o?n.has(t):n.has(t)||n.has(o)}function tt(t,e=!1){return t=t.__v_raw,!e&&T(Rt(t),0,y),Reflect.get(t,"size",t)}function et(t){t=Rt(t);const e=Rt(this);return Z(e).has.call(e,t)||(e.add(t),D(e,"add",t,t)),this}function nt(t,e){e=Rt(e);const n=Rt(this),{has:o,get:r}=Z(n);let s=o.call(n,t);s||(t=Rt(t),s=o.call(n,t));const a=r.call(n,t);return n.set(t,e),s?(0,i.hasChanged)(e,a)&&D(n,"set",t,e):D(n,"add",t,e),this}function it(t){const e=Rt(this),{has:n,get:i}=Z(e);let o=n.call(e,t);o||(t=Rt(t),o=n.call(e,t));i&&i.call(e,t);const r=e.delete(t);return o&&D(e,"delete",t,void 0),r}function ot(){const t=Rt(this),e=0!==t.size,n=t.clear();return e&&D(t,"clear",void 0,void 0),n}function rt(t,e){return function(n,i){const o=this,r=o.__v_raw,s=Rt(r),a=e?q:t?It:Lt;return!t&&T(s,0,y),r.forEach(((t,e)=>n.call(i,a(t),a(e),o)))}}function st(t,e,n){return function(...o){const r=this.__v_raw,s=Rt(r),a=(0,i.isMap)(s),l="entries"===t||t===Symbol.iterator&&a,c="keys"===t&&a,u=r[t](...o),h=n?q:e?It:Lt;return!e&&T(s,0,c?v:y),{next(){const{value:t,done:e}=u.next();return e?{value:t,done:e}:{value:l?[h(t[0]),h(t[1])]:h(t),done:e}},[Symbol.iterator](){return this}}}}function at(t){return function(...e){return"delete"!==t&&this}}function lt(){const t={get(t){return J(this,t)},get size(){return tt(this)},has:Q,add:et,set:nt,delete:it,clear:ot,forEach:rt(!1,!1)},e={get(t){return J(this,t,!1,!0)},get size(){return tt(this)},has:Q,add:et,set:nt,delete:it,clear:ot,forEach:rt(!1,!0)},n={get(t){return J(this,t,!0)},get size(){return tt(this,!0)},has(t){return Q.call(this,t,!0)},add:at("add"),set:at("set"),delete:at("delete"),clear:at("clear"),forEach:rt(!0,!1)},i={get(t){return J(this,t,!0,!0)},get size(){return tt(this,!0)},has(t){return Q.call(this,t,!0)},add:at("add"),set:at("set"),delete:at("delete"),clear:at("clear"),forEach:rt(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach((o=>{t[o]=st(o,!1,!1),n[o]=st(o,!0,!1),e[o]=st(o,!1,!0),i[o]=st(o,!0,!0)})),[t,n,e,i]}const[ct,ut,ht,dt]=lt();function pt(t,e){const n=e?t?dt:ht:t?ut:ct;return(e,o,r)=>"__v_isReactive"===o?!t:"__v_isReadonly"===o?t:"__v_raw"===o?e:Reflect.get((0,i.hasOwn)(n,o)&&o in e?n:e,o,r)}const ft={get:pt(!1,!1)},gt={get:pt(!1,!0)},mt={get:pt(!0,!1)},_t={get:pt(!0,!0)};const yt=new WeakMap,vt=new WeakMap,Ct=new WeakMap,bt=new WeakMap;function Et(t){return Tt(t)?t:xt(t,!1,z,ft,yt)}function St(t){return xt(t,!1,Y,gt,vt)}function wt(t){return xt(t,!0,K,mt,Ct)}function Ot(t){return xt(t,!0,X,_t,bt)}function xt(t,e,n,o,r){if(!(0,i.isObject)(t))return t;if(t.__v_raw&&(!e||!t.__v_isReactive))return t;const s=r.get(t);if(s)return s;const a=(l=t).__v_skip||!Object.isExtensible(l)?0:function(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}((0,i.toRawType)(l));var l;if(0===a)return t;const c=new Proxy(t,2===a?o:n);return r.set(t,c),c}function Pt(t){return Tt(t)?Pt(t.__v_raw):!(!t||!t.__v_isReactive)}function Tt(t){return!(!t||!t.__v_isReadonly)}function Mt(t){return!(!t||!t.__v_isShallow)}function Dt(t){return Pt(t)||Tt(t)}function Rt(t){const e=t&&t.__v_raw;return e?Rt(e):t}function At(t){return(0,i.def)(t,"__v_skip",!0),t}const Lt=t=>(0,i.isObject)(t)?Et(t):t,It=t=>(0,i.isObject)(t)?wt(t):t;function kt(t){w&&_&&M((t=Rt(t)).dep||(t.dep=u()))}function Nt(t,e){const n=(t=Rt(t)).dep;n&&R(n)}function Ft(t){return!(!t||!0!==t.__v_isRef)}function Gt(t){return jt(t,!1)}function Bt(t){return jt(t,!0)}function jt(t,e){return Ft(t)?t:new Ut(t,e)}class Ut{constructor(t,e){this.__v_isShallow=e,this.dep=void 0,this.__v_isRef=!0,this._rawValue=e?t:Rt(t),this._value=e?t:Lt(t)}get value(){return kt(this),this._value}set value(t){const e=this.__v_isShallow||Mt(t)||Tt(t);t=e?t:Rt(t),(0,i.hasChanged)(t,this._rawValue)&&(this._rawValue=t,this._value=e?t:Lt(t),Nt(this))}}function Vt(t){Nt(t)}function Wt(t){return Ft(t)?t.value:t}const Ht={get:(t,e,n)=>Wt(Reflect.get(t,e,n)),set:(t,e,n,i)=>{const o=t[e];return Ft(o)&&!Ft(n)?(o.value=n,!0):Reflect.set(t,e,n,i)}};function $t(t){return Pt(t)?t:new Proxy(t,Ht)}class zt{constructor(t){this.dep=void 0,this.__v_isRef=!0;const{get:e,set:n}=t((()=>kt(this)),(()=>Nt(this)));this._get=e,this._set=n}get value(){return this._get()}set value(t){this._set(t)}}function Kt(t){return new zt(t)}function Yt(t){const e=(0,i.isArray)(t)?new Array(t.length):{};for(const n in t)e[n]=qt(t,n);return e}class Xt{constructor(t,e,n){this._object=t,this._key=e,this._defaultValue=n,this.__v_isRef=!0}get value(){const t=this._object[this._key];return void 0===t?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return function(t,e){var n;return null===(n=p.get(t))||void 0===n?void 0:n.get(e)}(Rt(this._object),this._key)}}function qt(t,e,n){const i=t[e];return Ft(i)?i:new Xt(t,e,n)}var Zt;class Jt{constructor(t,e,n,i){this._setter=e,this.dep=void 0,this.__v_isRef=!0,this[Zt]=!1,this._dirty=!0,this.effect=new C(t,(()=>{this._dirty||(this._dirty=!0,Nt(this))})),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=n}get value(){const t=Rt(this);return kt(t),!t._dirty&&t._cacheable||(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function Qt(t,e,n=!1){let o,r;const s=(0,i.isFunction)(t);s?(o=t,r=i.NOOP):(o=t.get,r=t.set);return new Jt(o,r,s||!r,n)}Zt="__v_isReadonly"},6252:(t,e,n)=>{"use strict";n.d(e,{$d:()=>l,$y:()=>i.$y,Ah:()=>Ut,B:()=>i.B,BK:()=>i.BK,Bj:()=>i.Bj,Bz:()=>ri,C3:()=>Cn,C_:()=>o.normalizeClass,Cn:()=>B,EB:()=>i.EB,Eo:()=>Ke,F4:()=>Pn,FN:()=>Un,Fl:()=>ii,G:()=>bi,HX:()=>j,HY:()=>on,Ho:()=>Tn,IU:()=>i.IU,JJ:()=>et,Jd:()=>jt,KU:()=>a,Ko:()=>ne,LL:()=>Jt,MW:()=>oi,MX:()=>yi,Mr:()=>_i,Nv:()=>ie,OT:()=>i.OT,Ob:()=>xt,P$:()=>ft,PG:()=>i.PG,Q2:()=>Qt,Q6:()=>Ct,RC:()=>St,Rh:()=>ot,Rr:()=>li,S3:()=>c,SU:()=>i.SU,U2:()=>mt,Uc:()=>gi,Uk:()=>Mn,Um:()=>i.Um,Us:()=>ze,Vh:()=>i.Vh,WI:()=>oe,WL:()=>i.WL,WY:()=>si,Wm:()=>On,Wu:()=>s,X3:()=>i.X3,XI:()=>i.XI,Xl:()=>i.Xl,Xn:()=>Gt,Y1:()=>qn,Y3:()=>v,Y8:()=>dt,YP:()=>at,YS:()=>i.YS,Yq:()=>Wt,ZK:()=>r,ZM:()=>i.ZM,Zq:()=>mi,_:()=>wn,_A:()=>o.camelize,aZ:()=>bt,b9:()=>ai,bT:()=>Ht,bv:()=>Ft,cE:()=>i.cE,d1:()=>$t,dD:()=>G,dG:()=>kn,dl:()=>Tt,dq:()=>i.dq,ec:()=>R,eq:()=>Ei,f3:()=>nt,h:()=>fi,hR:()=>o.toHandlerKey,i8:()=>Ci,iD:()=>mn,iH:()=>i.iH,ic:()=>Bt,j4:()=>_n,j5:()=>o.normalizeStyle,kC:()=>o.capitalize,kq:()=>Rn,l1:()=>ci,lA:()=>yn,lR:()=>en,m0:()=>it,mW:()=>T,mv:()=>pi,mx:()=>se,n4:()=>X,nK:()=>vt,nQ:()=>vi,nZ:()=>i.nZ,oR:()=>i.oR,of:()=>Zn,p1:()=>di,qG:()=>an,qZ:()=>fn,qb:()=>E,qj:()=>i.qj,qq:()=>i.qq,ry:()=>Si,sT:()=>i.sT,se:()=>Mt,sv:()=>sn,uE:()=>Dn,u_:()=>hi,up:()=>qt,vl:()=>Vt,vs:()=>o.normalizeProps,w5:()=>U,wF:()=>Nt,wg:()=>un,wy:()=>zt,xv:()=>rn,yT:()=>i.yT,yX:()=>rt,zw:()=>o.toDisplayString});var i=n(2262),o=n(3577);function r(t,...e){}function s(t,e){}function a(t,e,n,i){let o;try{o=i?t(...i):t()}catch(t){c(t,e,n)}return o}function l(t,e,n,i){if((0,o.isFunction)(t)){const r=a(t,e,n,i);return r&&(0,o.isPromise)(r)&&r.catch((t=>{c(t,e,n)})),r}const r=[];for(let o=0;o<t.length;o++)r.push(l(t[o],e,n,i));return r}function c(t,e,n,i=!0){e&&e.vnode;if(e){let i=e.parent;const o=e.proxy,r=n;for(;i;){const e=i.ec;if(e)for(let n=0;n<e.length;n++)if(!1===e[n](t,o,r))return;i=i.parent}const s=e.appContext.config.errorHandler;if(s)return void a(s,null,10,[t,o,r])}!function(t,e,n,i=!0){console.error(t)}(t,0,0,i)}let u=!1,h=!1;const d=[];let p=0;const f=[];let g=null,m=0;const _=Promise.resolve();let y=null;function v(t){const e=y||_;return t?e.then(this?t.bind(this):t):e}function C(t){d.length&&d.includes(t,u&&t.allowRecurse?p+1:p)||(null==t.id?d.push(t):d.splice(function(t){let e=p+1,n=d.length;for(;e<n;){const i=e+n>>>1;O(d[i])<t?e=i+1:n=i}return e}(t.id),0,t),b())}function b(){u||h||(h=!0,y=_.then(P))}function E(t){(0,o.isArray)(t)?f.push(...t):g&&g.includes(t,t.allowRecurse?m+1:m)||f.push(t),b()}function S(t,e=(u?p+1:0)){for(0;e<d.length;e++){const t=d[e];t&&t.pre&&(d.splice(e,1),e--,t())}}function w(t){if(f.length){const t=[...new Set(f)];if(f.length=0,g)return void g.push(...t);for(g=t,g.sort(((t,e)=>O(t)-O(e))),m=0;m<g.length;m++)g[m]();g=null,m=0}}const O=t=>null==t.id?1/0:t.id,x=(t,e)=>{const n=O(t)-O(e);if(0===n){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function P(t){h=!1,u=!0,d.sort(x);o.NOOP;try{for(p=0;p<d.length;p++){const t=d[p];t&&!1!==t.active&&a(t,null,14)}}finally{p=0,d.length=0,w(),u=!1,y=null,(d.length||f.length)&&P(t)}}new Set;new Map;let T,M=[],D=!1;function R(t,e){var n,i;if(T=t,T)T.enabled=!0,M.forEach((({event:t,args:e})=>T.emit(t,...e))),M=[];else if("undefined"!=typeof window&&window.HTMLElement&&!(null===(i=null===(n=window.navigator)||void 0===n?void 0:n.userAgent)||void 0===i?void 0:i.includes("jsdom"))){(e.__VUE_DEVTOOLS_HOOK_REPLAY__=e.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push((t=>{R(t,e)})),setTimeout((()=>{T||(e.__VUE_DEVTOOLS_HOOK_REPLAY__=null,D=!0,M=[])}),3e3)}else D=!0,M=[]}function A(t,e,...n){if(t.isUnmounted)return;const i=t.vnode.props||o.EMPTY_OBJ;let r=n;const s=e.startsWith("update:"),a=s&&e.slice(7);if(a&&a in i){const t=`${"modelValue"===a?"model":a}Modifiers`,{number:e,trim:s}=i[t]||o.EMPTY_OBJ;s&&(r=n.map((t=>(0,o.isString)(t)?t.trim():t))),e&&(r=n.map(o.looseToNumber))}let c;let u=i[c=(0,o.toHandlerKey)(e)]||i[c=(0,o.toHandlerKey)((0,o.camelize)(e))];!u&&s&&(u=i[c=(0,o.toHandlerKey)((0,o.hyphenate)(e))]),u&&l(u,t,6,r);const h=i[c+"Once"];if(h){if(t.emitted){if(t.emitted[c])return}else t.emitted={};t.emitted[c]=!0,l(h,t,6,r)}}function L(t,e,n=!1){const i=e.emitsCache,r=i.get(t);if(void 0!==r)return r;const s=t.emits;let a={},l=!1;if(!(0,o.isFunction)(t)){const i=t=>{const n=L(t,e,!0);n&&(l=!0,(0,o.extend)(a,n))};!n&&e.mixins.length&&e.mixins.forEach(i),t.extends&&i(t.extends),t.mixins&&t.mixins.forEach(i)}return s||l?((0,o.isArray)(s)?s.forEach((t=>a[t]=null)):(0,o.extend)(a,s),(0,o.isObject)(t)&&i.set(t,a),a):((0,o.isObject)(t)&&i.set(t,null),null)}function I(t,e){return!(!t||!(0,o.isOn)(e))&&(e=e.slice(2).replace(/Once$/,""),(0,o.hasOwn)(t,e[0].toLowerCase()+e.slice(1))||(0,o.hasOwn)(t,(0,o.hyphenate)(e))||(0,o.hasOwn)(t,e))}let k=null,N=null;function F(t){const e=k;return k=t,N=t&&t.type.__scopeId||null,e}function G(t){N=t}function B(){N=null}const j=t=>U;function U(t,e=k,n){if(!e)return t;if(t._n)return t;const i=(...n)=>{i._d&&fn(-1);const o=F(e);let r;try{r=t(...n)}finally{F(o),i._d&&fn(1)}return r};return i._n=!0,i._c=!0,i._d=!0,i}function V(t){const{type:e,vnode:n,proxy:i,withProxy:r,props:s,propsOptions:[a],slots:l,attrs:u,emit:h,render:d,renderCache:p,data:f,setupState:g,ctx:m,inheritAttrs:_}=t;let y,v;const C=F(t);try{if(4&n.shapeFlag){const t=r||i;y=An(d.call(t,t,p,s,g,f,m)),v=u}else{const t=e;0,y=An(t.length>1?t(s,{attrs:u,slots:l,emit:h}):t(s,null)),v=e.props?u:H(u)}}catch(e){ln.length=0,c(e,t,1),y=On(sn)}let b=y;if(v&&!1!==_){const t=Object.keys(v),{shapeFlag:e}=b;t.length&&7&e&&(a&&t.some(o.isModelListener)&&(v=$(v,a)),b=Tn(b,v))}return n.dirs&&(b=Tn(b),b.dirs=b.dirs?b.dirs.concat(n.dirs):n.dirs),n.transition&&(b.transition=n.transition),y=b,F(C),y}function W(t){let e;for(let n=0;n<t.length;n++){const i=t[n];if(!yn(i))return;if(i.type!==sn||"v-if"===i.children){if(e)return;e=i}}return e}const H=t=>{let e;for(const n in t)("class"===n||"style"===n||(0,o.isOn)(n))&&((e||(e={}))[n]=t[n]);return e},$=(t,e)=>{const n={};for(const i in t)(0,o.isModelListener)(i)&&i.slice(9)in e||(n[i]=t[i]);return n};function z(t,e,n){const i=Object.keys(e);if(i.length!==Object.keys(t).length)return!0;for(let o=0;o<i.length;o++){const r=i[o];if(e[r]!==t[r]&&!I(n,r))return!0}return!1}function K({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const Y=t=>t.__isSuspense,X={name:"Suspense",__isSuspense:!0,process(t,e,n,i,o,r,s,a,l,c){null==t?function(t,e,n,i,o,r,s,a,l){const{p:c,o:{createElement:u}}=l,h=u("div"),d=t.suspense=Z(t,o,i,e,h,n,r,s,a,l);c(null,d.pendingBranch=t.ssContent,h,null,i,d,r,s),d.deps>0?(q(t,"onPending"),q(t,"onFallback"),c(null,t.ssFallback,e,n,i,null,r,s),tt(d,t.ssFallback)):d.resolve()}(e,n,i,o,r,s,a,l,c):function(t,e,n,i,o,r,s,a,{p:l,um:c,o:{createElement:u}}){const h=e.suspense=t.suspense;h.vnode=e,e.el=t.el;const d=e.ssContent,p=e.ssFallback,{activeBranch:f,pendingBranch:g,isInFallback:m,isHydrating:_}=h;if(g)h.pendingBranch=d,vn(d,g)?(l(g,d,h.hiddenContainer,null,o,h,r,s,a),h.deps<=0?h.resolve():m&&(l(f,p,n,i,o,null,r,s,a),tt(h,p))):(h.pendingId++,_?(h.isHydrating=!1,h.activeBranch=g):c(g,o,h),h.deps=0,h.effects.length=0,h.hiddenContainer=u("div"),m?(l(null,d,h.hiddenContainer,null,o,h,r,s,a),h.deps<=0?h.resolve():(l(f,p,n,i,o,null,r,s,a),tt(h,p))):f&&vn(d,f)?(l(f,d,n,i,o,h,r,s,a),h.resolve(!0)):(l(null,d,h.hiddenContainer,null,o,h,r,s,a),h.deps<=0&&h.resolve()));else if(f&&vn(d,f))l(f,d,n,i,o,h,r,s,a),tt(h,d);else if(q(e,"onPending"),h.pendingBranch=d,h.pendingId++,l(null,d,h.hiddenContainer,null,o,h,r,s,a),h.deps<=0)h.resolve();else{const{timeout:t,pendingId:e}=h;t>0?setTimeout((()=>{h.pendingId===e&&h.fallback(p)}),t):0===t&&h.fallback(p)}}(t,e,n,i,o,s,a,l,c)},hydrate:function(t,e,n,i,o,r,s,a,l){const c=e.suspense=Z(e,i,n,t.parentNode,document.createElement("div"),null,o,r,s,a,!0),u=l(t,c.pendingBranch=e.ssContent,n,c,r,s);0===c.deps&&c.resolve();return u},create:Z,normalize:function(t){const{shapeFlag:e,children:n}=t,i=32&e;t.ssContent=J(i?n.default:n),t.ssFallback=i?J(n.fallback):On(sn)}};function q(t,e){const n=t.props&&t.props[e];(0,o.isFunction)(n)&&n()}function Z(t,e,n,i,r,s,a,l,u,h,d=!1){const{p,m:f,um:g,n:m,o:{parentNode:_,remove:y}}=h,v=t.props?(0,o.toNumber)(t.props.timeout):void 0;const C={vnode:t,parent:e,parentComponent:n,isSVG:a,container:i,hiddenContainer:r,anchor:s,deps:0,pendingId:0,timeout:"number"==typeof v?v:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:d,isUnmounted:!1,effects:[],resolve(t=!1){const{vnode:e,activeBranch:n,pendingBranch:i,pendingId:o,effects:r,parentComponent:s,container:a}=C;if(C.isHydrating)C.isHydrating=!1;else if(!t){const t=n&&i.transition&&"out-in"===i.transition.mode;t&&(n.transition.afterLeave=()=>{o===C.pendingId&&f(i,a,e,0)});let{anchor:e}=C;n&&(e=m(n),g(n,s,C,!0)),t||f(i,a,e,0)}tt(C,i),C.pendingBranch=null,C.isInFallback=!1;let l=C.parent,c=!1;for(;l;){if(l.pendingBranch){l.effects.push(...r),c=!0;break}l=l.parent}c||E(r),C.effects=[],q(e,"onResolve")},fallback(t){if(!C.pendingBranch)return;const{vnode:e,activeBranch:n,parentComponent:i,container:o,isSVG:r}=C;q(e,"onFallback");const s=m(n),a=()=>{C.isInFallback&&(p(null,t,o,s,i,null,r,l,u),tt(C,t))},c=t.transition&&"out-in"===t.transition.mode;c&&(n.transition.afterLeave=a),C.isInFallback=!0,g(n,i,null,!0),c||a()},move(t,e,n){C.activeBranch&&f(C.activeBranch,t,e,n),C.container=t},next:()=>C.activeBranch&&m(C.activeBranch),registerDep(t,e){const n=!!C.pendingBranch;n&&C.deps++;const i=t.vnode.el;t.asyncDep.catch((e=>{c(e,t,0)})).then((o=>{if(t.isUnmounted||C.isUnmounted||C.pendingId!==t.suspenseId)return;t.asyncResolved=!0;const{vnode:r}=t;Xn(t,o,!1),i&&(r.el=i);const s=!i&&t.subTree.el;e(t,r,_(i||t.subTree.el),i?null:m(t.subTree),C,a,u),s&&y(s),K(t,r.el),n&&0==--C.deps&&C.resolve()}))},unmount(t,e){C.isUnmounted=!0,C.activeBranch&&g(C.activeBranch,n,t,e),C.pendingBranch&&g(C.pendingBranch,n,t,e)}};return C}function J(t){let e;if((0,o.isFunction)(t)){const n=pn&&t._c;n&&(t._d=!1,un()),t=t(),n&&(t._d=!0,e=cn,hn())}if((0,o.isArray)(t)){const e=W(t);0,t=e}return t=An(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter((e=>e!==t))),t}function Q(t,e){e&&e.pendingBranch?(0,o.isArray)(t)?e.effects.push(...t):e.effects.push(t):E(t)}function tt(t,e){t.activeBranch=e;const{vnode:n,parentComponent:i}=t,o=n.el=e.el;i&&i.subTree===n&&(i.vnode.el=o,K(i,o))}function et(t,e){if(jn){let n=jn.provides;const i=jn.parent&&jn.parent.provides;i===n&&(n=jn.provides=Object.create(i)),n[t]=e}else 0}function nt(t,e,n=!1){const i=jn||k;if(i){const r=null==i.parent?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides;if(r&&t in r)return r[t];if(arguments.length>1)return n&&(0,o.isFunction)(e)?e.call(i.proxy):e}else 0}function it(t,e){return lt(t,null,e)}function ot(t,e){return lt(t,null,{flush:"post"})}function rt(t,e){return lt(t,null,{flush:"sync"})}const st={};function at(t,e,n){return lt(t,e,n)}function lt(t,e,{immediate:n,deep:r,flush:s,onTrack:c,onTrigger:u}=o.EMPTY_OBJ){const h=(0,i.nZ)()===(null==jn?void 0:jn.scope)?jn:null;let d,p,f=!1,g=!1;if((0,i.dq)(t)?(d=()=>t.value,f=(0,i.yT)(t)):(0,i.PG)(t)?(d=()=>t,r=!0):(0,o.isArray)(t)?(g=!0,f=t.some((t=>(0,i.PG)(t)||(0,i.yT)(t))),d=()=>t.map((t=>(0,i.dq)(t)?t.value:(0,i.PG)(t)?ht(t):(0,o.isFunction)(t)?a(t,h,2):void 0))):d=(0,o.isFunction)(t)?e?()=>a(t,h,2):()=>{if(!h||!h.isUnmounted)return p&&p(),l(t,h,3,[_])}:o.NOOP,e&&r){const t=d;d=()=>ht(t())}let m,_=t=>{p=E.onStop=()=>{a(t,h,4)}};if(Kn){if(_=o.NOOP,e?n&&l(e,h,3,[d(),g?[]:void 0,_]):d(),"sync"!==s)return o.NOOP;{const t=mi();m=t.__watcherHandles||(t.__watcherHandles=[])}}let y=g?new Array(t.length).fill(st):st;const v=()=>{if(E.active)if(e){const t=E.run();(r||f||(g?t.some(((t,e)=>(0,o.hasChanged)(t,y[e]))):(0,o.hasChanged)(t,y)))&&(p&&p(),l(e,h,3,[t,y===st?void 0:g&&y[0]===st?[]:y,_]),y=t)}else E.run()};let b;v.allowRecurse=!!e,"sync"===s?b=v:"post"===s?b=()=>$e(v,h&&h.suspense):(v.pre=!0,h&&(v.id=h.uid),b=()=>C(v));const E=new i.qq(d,b);e?n?v():y=E.run():"post"===s?$e(E.run.bind(E),h&&h.suspense):E.run();const S=()=>{E.stop(),h&&h.scope&&(0,o.remove)(h.scope.effects,E)};return m&&m.push(S),S}function ct(t,e,n){const i=this.proxy,r=(0,o.isString)(t)?t.includes(".")?ut(i,t):()=>i[t]:t.bind(i,i);let s;(0,o.isFunction)(e)?s=e:(s=e.handler,n=e);const a=jn;Vn(this);const l=lt(r,s.bind(i),n);return a?Vn(a):Wn(),l}function ut(t,e){const n=e.split(".");return()=>{let e=t;for(let t=0;t<n.length&&e;t++)e=e[n[t]];return e}}function ht(t,e){if(!(0,o.isObject)(t)||t.__v_skip)return t;if((e=e||new Set).has(t))return t;if(e.add(t),(0,i.dq)(t))ht(t.value,e);else if((0,o.isArray)(t))for(let n=0;n<t.length;n++)ht(t[n],e);else if((0,o.isSet)(t)||(0,o.isMap)(t))t.forEach((t=>{ht(t,e)}));else if((0,o.isPlainObject)(t))for(const n in t)ht(t[n],e);return t}function dt(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Ft((()=>{t.isMounted=!0})),jt((()=>{t.isUnmounting=!0})),t}const pt=[Function,Array],ft={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:pt,onEnter:pt,onAfterEnter:pt,onEnterCancelled:pt,onBeforeLeave:pt,onLeave:pt,onAfterLeave:pt,onLeaveCancelled:pt,onBeforeAppear:pt,onAppear:pt,onAfterAppear:pt,onAppearCancelled:pt},setup(t,{slots:e}){const n=Un(),o=dt();let r;return()=>{const s=e.default&&Ct(e.default(),!0);if(!s||!s.length)return;let a=s[0];if(s.length>1){let t=!1;for(const e of s)if(e.type!==sn){0,a=e,t=!0;break}}const l=(0,i.IU)(t),{mode:c}=l;if(o.isLeaving)return _t(a);const u=yt(a);if(!u)return _t(a);const h=mt(u,l,o,n);vt(u,h);const d=n.subTree,p=d&&yt(d);let f=!1;const{getTransitionKey:g}=u.type;if(g){const t=g();void 0===r?r=t:t!==r&&(r=t,f=!0)}if(p&&p.type!==sn&&(!vn(u,p)||f)){const t=mt(p,l,o,n);if(vt(p,t),"out-in"===c)return o.isLeaving=!0,t.afterLeave=()=>{o.isLeaving=!1,!1!==n.update.active&&n.update()},_t(a);"in-out"===c&&u.type!==sn&&(t.delayLeave=(t,e,n)=>{gt(o,p)[String(p.key)]=p,t._leaveCb=()=>{e(),t._leaveCb=void 0,delete h.delayedLeave},h.delayedLeave=n})}return a}}};function gt(t,e){const{leavingVNodes:n}=t;let i=n.get(e.type);return i||(i=Object.create(null),n.set(e.type,i)),i}function mt(t,e,n,i){const{appear:r,mode:s,persisted:a=!1,onBeforeEnter:c,onEnter:u,onAfterEnter:h,onEnterCancelled:d,onBeforeLeave:p,onLeave:f,onAfterLeave:g,onLeaveCancelled:m,onBeforeAppear:_,onAppear:y,onAfterAppear:v,onAppearCancelled:C}=e,b=String(t.key),E=gt(n,t),S=(t,e)=>{t&&l(t,i,9,e)},w=(t,e)=>{const n=e[1];S(t,e),(0,o.isArray)(t)?t.every((t=>t.length<=1))&&n():t.length<=1&&n()},O={mode:s,persisted:a,beforeEnter(e){let i=c;if(!n.isMounted){if(!r)return;i=_||c}e._leaveCb&&e._leaveCb(!0);const o=E[b];o&&vn(t,o)&&o.el._leaveCb&&o.el._leaveCb(),S(i,[e])},enter(t){let e=u,i=h,o=d;if(!n.isMounted){if(!r)return;e=y||u,i=v||h,o=C||d}let s=!1;const a=t._enterCb=e=>{s||(s=!0,S(e?o:i,[t]),O.delayedLeave&&O.delayedLeave(),t._enterCb=void 0)};e?w(e,[t,a]):a()},leave(e,i){const o=String(t.key);if(e._enterCb&&e._enterCb(!0),n.isUnmounting)return i();S(p,[e]);let r=!1;const s=e._leaveCb=n=>{r||(r=!0,i(),S(n?m:g,[e]),e._leaveCb=void 0,E[o]===t&&delete E[o])};E[o]=t,f?w(f,[e,s]):s()},clone:t=>mt(t,e,n,i)};return O}function _t(t){if(Ot(t))return(t=Tn(t)).children=null,t}function yt(t){return Ot(t)?t.children?t.children[0]:void 0:t}function vt(t,e){6&t.shapeFlag&&t.component?vt(t.component.subTree,e):128&t.shapeFlag?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Ct(t,e=!1,n){let i=[],o=0;for(let r=0;r<t.length;r++){let s=t[r];const a=null==n?s.key:String(n)+String(null!=s.key?s.key:r);s.type===on?(128&s.patchFlag&&o++,i=i.concat(Ct(s.children,e,a))):(e||s.type!==sn)&&i.push(null!=a?Tn(s,{key:a}):s)}if(o>1)for(let t=0;t<i.length;t++)i[t].patchFlag=-2;return i}function bt(t){return(0,o.isFunction)(t)?{setup:t,name:t.name}:t}const Et=t=>!!t.type.__asyncLoader;function St(t){(0,o.isFunction)(t)&&(t={loader:t});const{loader:e,loadingComponent:n,errorComponent:r,delay:s=200,timeout:a,suspensible:l=!0,onError:u}=t;let h,d=null,p=0;const f=()=>{let t;return d||(t=d=e().catch((t=>{if(t=t instanceof Error?t:new Error(String(t)),u)return new Promise(((e,n)=>{u(t,(()=>e((p++,d=null,f()))),(()=>n(t)),p+1)}));throw t})).then((e=>t!==d&&d?d:(e&&(e.__esModule||"Module"===e[Symbol.toStringTag])&&(e=e.default),h=e,e))))};return bt({name:"AsyncComponentWrapper",__asyncLoader:f,get __asyncResolved(){return h},setup(){const t=jn;if(h)return()=>wt(h,t);const e=e=>{d=null,c(e,t,13,!r)};if(l&&t.suspense||Kn)return f().then((e=>()=>wt(e,t))).catch((t=>(e(t),()=>r?On(r,{error:t}):null)));const o=(0,i.iH)(!1),u=(0,i.iH)(),p=(0,i.iH)(!!s);return s&&setTimeout((()=>{p.value=!1}),s),null!=a&&setTimeout((()=>{if(!o.value&&!u.value){const t=new Error(`Async component timed out after ${a}ms.`);e(t),u.value=t}}),a),f().then((()=>{o.value=!0,t.parent&&Ot(t.parent.vnode)&&C(t.parent.update)})).catch((t=>{e(t),u.value=t})),()=>o.value&&h?wt(h,t):u.value&&r?On(r,{error:u.value}):n&&!p.value?On(n):void 0}})}function wt(t,e){const{ref:n,props:i,children:o,ce:r}=e.vnode,s=On(t,i,o);return s.ref=n,s.ce=r,delete e.vnode.ce,s}const Ot=t=>t.type.__isKeepAlive,xt={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const n=Un(),i=n.ctx;if(!i.renderer)return()=>{const t=e.default&&e.default();return t&&1===t.length?t[0]:t};const r=new Map,s=new Set;let a=null;const l=n.suspense,{renderer:{p:c,m:u,um:h,o:{createElement:d}}}=i,p=d("div");function f(t){At(t),h(t,n,l,!0)}function g(t){r.forEach(((e,n)=>{const i=ei(e.type);!i||t&&t(i)||m(n)}))}function m(t){const e=r.get(t);a&&vn(e,a)?a&&At(a):f(e),r.delete(t),s.delete(t)}i.activate=(t,e,n,i,r)=>{const s=t.component;u(t,e,n,0,l),c(s.vnode,t,e,n,s,l,i,t.slotScopeIds,r),$e((()=>{s.isDeactivated=!1,s.a&&(0,o.invokeArrayFns)(s.a);const e=t.props&&t.props.onVnodeMounted;e&&Nn(e,s.parent,t)}),l)},i.deactivate=t=>{const e=t.component;u(t,p,null,1,l),$e((()=>{e.da&&(0,o.invokeArrayFns)(e.da);const n=t.props&&t.props.onVnodeUnmounted;n&&Nn(n,e.parent,t),e.isDeactivated=!0}),l)},at((()=>[t.include,t.exclude]),(([t,e])=>{t&&g((e=>Pt(t,e))),e&&g((t=>!Pt(e,t)))}),{flush:"post",deep:!0});let _=null;const y=()=>{null!=_&&r.set(_,Lt(n.subTree))};return Ft(y),Bt(y),jt((()=>{r.forEach((t=>{const{subTree:e,suspense:i}=n,o=Lt(e);if(t.type!==o.type||t.key!==o.key)f(t);else{At(o);const t=o.component.da;t&&$e(t,i)}}))})),()=>{if(_=null,!e.default)return null;const n=e.default(),i=n[0];if(n.length>1)return a=null,n;if(!(yn(i)&&(4&i.shapeFlag||128&i.shapeFlag)))return a=null,i;let o=Lt(i);const l=o.type,c=ei(Et(o)?o.type.__asyncResolved||{}:l),{include:u,exclude:h,max:d}=t;if(u&&(!c||!Pt(u,c))||h&&c&&Pt(h,c))return a=o,i;const p=null==o.key?l:o.key,f=r.get(p);return o.el&&(o=Tn(o),128&i.shapeFlag&&(i.ssContent=o)),_=p,f?(o.el=f.el,o.component=f.component,o.transition&&vt(o,o.transition),o.shapeFlag|=512,s.delete(p),s.add(p)):(s.add(p),d&&s.size>parseInt(d,10)&&m(s.values().next().value)),o.shapeFlag|=256,a=o,Y(i.type)?i:o}}};function Pt(t,e){return(0,o.isArray)(t)?t.some((t=>Pt(t,e))):(0,o.isString)(t)?t.split(",").includes(e):!!(0,o.isRegExp)(t)&&t.test(e)}function Tt(t,e){Dt(t,"a",e)}function Mt(t,e){Dt(t,"da",e)}function Dt(t,e,n=jn){const i=t.__wdc||(t.__wdc=()=>{let e=n;for(;e;){if(e.isDeactivated)return;e=e.parent}return t()});if(It(e,i,n),n){let t=n.parent;for(;t&&t.parent;)Ot(t.parent.vnode)&&Rt(i,e,n,t),t=t.parent}}function Rt(t,e,n,i){const r=It(e,t,i,!0);Ut((()=>{(0,o.remove)(i[e],r)}),n)}function At(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function Lt(t){return 128&t.shapeFlag?t.ssContent:t}function It(t,e,n=jn,o=!1){if(n){const r=n[t]||(n[t]=[]),s=e.__weh||(e.__weh=(...o)=>{if(n.isUnmounted)return;(0,i.Jd)(),Vn(n);const r=l(e,n,t,o);return Wn(),(0,i.lk)(),r});return o?r.unshift(s):r.push(s),s}}const kt=t=>(e,n=jn)=>(!Kn||"sp"===t)&&It(t,((...t)=>e(...t)),n),Nt=kt("bm"),Ft=kt("m"),Gt=kt("bu"),Bt=kt("u"),jt=kt("bum"),Ut=kt("um"),Vt=kt("sp"),Wt=kt("rtg"),Ht=kt("rtc");function $t(t,e=jn){It("ec",t,e)}function zt(t,e){const n=k;if(null===n)return t;const i=ti(n)||n.proxy,r=t.dirs||(t.dirs=[]);for(let t=0;t<e.length;t++){let[n,s,a,l=o.EMPTY_OBJ]=e[t];n&&((0,o.isFunction)(n)&&(n={mounted:n,updated:n}),n.deep&&ht(s),r.push({dir:n,instance:i,value:s,oldValue:void 0,arg:a,modifiers:l}))}return t}function Kt(t,e,n,o){const r=t.dirs,s=e&&e.dirs;for(let a=0;a<r.length;a++){const c=r[a];s&&(c.oldValue=s[a].value);let u=c.dir[o];u&&((0,i.Jd)(),l(u,n,8,[t.el,c,t,e]),(0,i.lk)())}}const Yt="components",Xt="directives";function qt(t,e){return te(Yt,t,!0,e)||t}const Zt=Symbol();function Jt(t){return(0,o.isString)(t)?te(Yt,t,!1)||t:t||Zt}function Qt(t){return te(Xt,t)}function te(t,e,n=!0,i=!1){const r=k||jn;if(r){const n=r.type;if(t===Yt){const t=ei(n,!1);if(t&&(t===e||t===(0,o.camelize)(e)||t===(0,o.capitalize)((0,o.camelize)(e))))return n}const s=ee(r[t]||n[t],e)||ee(r.appContext[t],e);return!s&&i?n:s}}function ee(t,e){return t&&(t[e]||t[(0,o.camelize)(e)]||t[(0,o.capitalize)((0,o.camelize)(e))])}function ne(t,e,n,i){let r;const s=n&&n[i];if((0,o.isArray)(t)||(0,o.isString)(t)){r=new Array(t.length);for(let n=0,i=t.length;n<i;n++)r[n]=e(t[n],n,void 0,s&&s[n])}else if("number"==typeof t){0,r=new Array(t);for(let n=0;n<t;n++)r[n]=e(n+1,n,void 0,s&&s[n])}else if((0,o.isObject)(t))if(t[Symbol.iterator])r=Array.from(t,((t,n)=>e(t,n,void 0,s&&s[n])));else{const n=Object.keys(t);r=new Array(n.length);for(let i=0,o=n.length;i<o;i++){const o=n[i];r[i]=e(t[o],o,i,s&&s[i])}}else r=[];return n&&(n[i]=r),r}function ie(t,e){for(let n=0;n<e.length;n++){const i=e[n];if((0,o.isArray)(i))for(let e=0;e<i.length;e++)t[i[e].name]=i[e].fn;else i&&(t[i.name]=i.key?(...t)=>{const e=i.fn(...t);return e&&(e.key=i.key),e}:i.fn)}return t}function oe(t,e,n={},i,o){if(k.isCE||k.parent&&Et(k.parent)&&k.parent.isCE)return"default"!==e&&(n.name=e),On("slot",n,i&&i());let r=t[e];r&&r._c&&(r._d=!1),un();const s=r&&re(r(n)),a=_n(on,{key:n.key||s&&s.key||`_${e}`},s||(i?i():[]),s&&1===t._?64:-2);return!o&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),r&&r._c&&(r._d=!0),a}function re(t){return t.some((t=>!yn(t)||t.type!==sn&&!(t.type===on&&!re(t.children))))?t:null}function se(t,e){const n={};for(const i in t)n[e&&/[A-Z]/.test(i)?`on:${i}`:(0,o.toHandlerKey)(i)]=t[i];return n}const ae=t=>t?Hn(t)?ti(t)||t.proxy:ae(t.parent):null,le=(0,o.extend)(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>ae(t.parent),$root:t=>ae(t.root),$emit:t=>t.emit,$options:t=>me(t),$forceUpdate:t=>t.f||(t.f=()=>C(t.update)),$nextTick:t=>t.n||(t.n=v.bind(t.proxy)),$watch:t=>ct.bind(t)}),ce=(t,e)=>t!==o.EMPTY_OBJ&&!t.__isScriptSetup&&(0,o.hasOwn)(t,e),ue={get({_:t},e){const{ctx:n,setupState:r,data:s,props:a,accessCache:l,type:c,appContext:u}=t;let h;if("$"!==e[0]){const i=l[e];if(void 0!==i)switch(i){case 1:return r[e];case 2:return s[e];case 4:return n[e];case 3:return a[e]}else{if(ce(r,e))return l[e]=1,r[e];if(s!==o.EMPTY_OBJ&&(0,o.hasOwn)(s,e))return l[e]=2,s[e];if((h=t.propsOptions[0])&&(0,o.hasOwn)(h,e))return l[e]=3,a[e];if(n!==o.EMPTY_OBJ&&(0,o.hasOwn)(n,e))return l[e]=4,n[e];de&&(l[e]=0)}}const d=le[e];let p,f;return d?("$attrs"===e&&(0,i.j)(t,"get",e),d(t)):(p=c.__cssModules)&&(p=p[e])?p:n!==o.EMPTY_OBJ&&(0,o.hasOwn)(n,e)?(l[e]=4,n[e]):(f=u.config.globalProperties,(0,o.hasOwn)(f,e)?f[e]:void 0)},set({_:t},e,n){const{data:i,setupState:r,ctx:s}=t;return ce(r,e)?(r[e]=n,!0):i!==o.EMPTY_OBJ&&(0,o.hasOwn)(i,e)?(i[e]=n,!0):!(0,o.hasOwn)(t.props,e)&&(("$"!==e[0]||!(e.slice(1)in t))&&(s[e]=n,!0))},has({_:{data:t,setupState:e,accessCache:n,ctx:i,appContext:r,propsOptions:s}},a){let l;return!!n[a]||t!==o.EMPTY_OBJ&&(0,o.hasOwn)(t,a)||ce(e,a)||(l=s[0])&&(0,o.hasOwn)(l,a)||(0,o.hasOwn)(i,a)||(0,o.hasOwn)(le,a)||(0,o.hasOwn)(r.config.globalProperties,a)},defineProperty(t,e,n){return null!=n.get?t._.accessCache[e]=0:(0,o.hasOwn)(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};const he=(0,o.extend)({},ue,{get(t,e){if(e!==Symbol.unscopables)return ue.get(t,e,t)},has:(t,e)=>"_"!==e[0]&&!(0,o.isGloballyWhitelisted)(e)});let de=!0;function pe(t){const e=me(t),n=t.proxy,r=t.ctx;de=!1,e.beforeCreate&&fe(e.beforeCreate,t,"bc");const{data:s,computed:a,methods:l,watch:c,provide:u,inject:h,created:d,beforeMount:p,mounted:f,beforeUpdate:g,updated:m,activated:_,deactivated:y,beforeDestroy:v,beforeUnmount:C,destroyed:b,unmounted:E,render:S,renderTracked:w,renderTriggered:O,errorCaptured:x,serverPrefetch:P,expose:T,inheritAttrs:M,components:D,directives:R,filters:A}=e;if(h&&function(t,e,n=o.NOOP,r=!1){(0,o.isArray)(t)&&(t=Ce(t));for(const n in t){const s=t[n];let a;a=(0,o.isObject)(s)?"default"in s?nt(s.from||n,s.default,!0):nt(s.from||n):nt(s),(0,i.dq)(a)&&r?Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>a.value,set:t=>a.value=t}):e[n]=a}}(h,r,null,t.appContext.config.unwrapInjectedRef),l)for(const t in l){const e=l[t];(0,o.isFunction)(e)&&(r[t]=e.bind(n))}if(s){0;const e=s.call(n,n);0,(0,o.isObject)(e)&&(t.data=(0,i.qj)(e))}if(de=!0,a)for(const t in a){const e=a[t],i=(0,o.isFunction)(e)?e.bind(n,n):(0,o.isFunction)(e.get)?e.get.bind(n,n):o.NOOP;0;const s=!(0,o.isFunction)(e)&&(0,o.isFunction)(e.set)?e.set.bind(n):o.NOOP,l=ii({get:i,set:s});Object.defineProperty(r,t,{enumerable:!0,configurable:!0,get:()=>l.value,set:t=>l.value=t})}if(c)for(const t in c)ge(c[t],r,n,t);if(u){const t=(0,o.isFunction)(u)?u.call(n):u;Reflect.ownKeys(t).forEach((e=>{et(e,t[e])}))}function L(t,e){(0,o.isArray)(e)?e.forEach((e=>t(e.bind(n)))):e&&t(e.bind(n))}if(d&&fe(d,t,"c"),L(Nt,p),L(Ft,f),L(Gt,g),L(Bt,m),L(Tt,_),L(Mt,y),L($t,x),L(Ht,w),L(Wt,O),L(jt,C),L(Ut,E),L(Vt,P),(0,o.isArray)(T))if(T.length){const e=t.exposed||(t.exposed={});T.forEach((t=>{Object.defineProperty(e,t,{get:()=>n[t],set:e=>n[t]=e})}))}else t.exposed||(t.exposed={});S&&t.render===o.NOOP&&(t.render=S),null!=M&&(t.inheritAttrs=M),D&&(t.components=D),R&&(t.directives=R)}function fe(t,e,n){l((0,o.isArray)(t)?t.map((t=>t.bind(e.proxy))):t.bind(e.proxy),e,n)}function ge(t,e,n,i){const r=i.includes(".")?ut(n,i):()=>n[i];if((0,o.isString)(t)){const n=e[t];(0,o.isFunction)(n)&&at(r,n)}else if((0,o.isFunction)(t))at(r,t.bind(n));else if((0,o.isObject)(t))if((0,o.isArray)(t))t.forEach((t=>ge(t,e,n,i)));else{const i=(0,o.isFunction)(t.handler)?t.handler.bind(n):e[t.handler];(0,o.isFunction)(i)&&at(r,i,t)}else 0}function me(t){const e=t.type,{mixins:n,extends:i}=e,{mixins:r,optionsCache:s,config:{optionMergeStrategies:a}}=t.appContext,l=s.get(e);let c;return l?c=l:r.length||n||i?(c={},r.length&&r.forEach((t=>_e(c,t,a,!0))),_e(c,e,a)):c=e,(0,o.isObject)(e)&&s.set(e,c),c}function _e(t,e,n,i=!1){const{mixins:o,extends:r}=e;r&&_e(t,r,n,!0),o&&o.forEach((e=>_e(t,e,n,!0)));for(const o in e)if(i&&"expose"===o);else{const i=ye[o]||n&&n[o];t[o]=i?i(t[o],e[o]):e[o]}return t}const ye={data:ve,props:Ee,emits:Ee,methods:Ee,computed:Ee,beforeCreate:be,created:be,beforeMount:be,mounted:be,beforeUpdate:be,updated:be,beforeDestroy:be,beforeUnmount:be,destroyed:be,unmounted:be,activated:be,deactivated:be,errorCaptured:be,serverPrefetch:be,components:Ee,directives:Ee,watch:function(t,e){if(!t)return e;if(!e)return t;const n=(0,o.extend)(Object.create(null),t);for(const i in e)n[i]=be(t[i],e[i]);return n},provide:ve,inject:function(t,e){return Ee(Ce(t),Ce(e))}};function ve(t,e){return e?t?function(){return(0,o.extend)((0,o.isFunction)(t)?t.call(this,this):t,(0,o.isFunction)(e)?e.call(this,this):e)}:e:t}function Ce(t){if((0,o.isArray)(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function be(t,e){return t?[...new Set([].concat(t,e))]:e}function Ee(t,e){return t?(0,o.extend)((0,o.extend)(Object.create(null),t),e):e}function Se(t,e,n,r){const[s,a]=t.propsOptions;let l,c=!1;if(e)for(let i in e){if((0,o.isReservedProp)(i))continue;const u=e[i];let h;s&&(0,o.hasOwn)(s,h=(0,o.camelize)(i))?a&&a.includes(h)?(l||(l={}))[h]=u:n[h]=u:I(t.emitsOptions,i)||i in r&&u===r[i]||(r[i]=u,c=!0)}if(a){const e=(0,i.IU)(n),r=l||o.EMPTY_OBJ;for(let i=0;i<a.length;i++){const l=a[i];n[l]=we(s,e,l,r[l],t,!(0,o.hasOwn)(r,l))}}return c}function we(t,e,n,i,r,s){const a=t[n];if(null!=a){const t=(0,o.hasOwn)(a,"default");if(t&&void 0===i){const t=a.default;if(a.type!==Function&&(0,o.isFunction)(t)){const{propsDefaults:o}=r;n in o?i=o[n]:(Vn(r),i=o[n]=t.call(null,e),Wn())}else i=t}a[0]&&(s&&!t?i=!1:!a[1]||""!==i&&i!==(0,o.hyphenate)(n)||(i=!0))}return i}function Oe(t,e,n=!1){const i=e.propsCache,r=i.get(t);if(r)return r;const s=t.props,a={},l=[];let c=!1;if(!(0,o.isFunction)(t)){const i=t=>{c=!0;const[n,i]=Oe(t,e,!0);(0,o.extend)(a,n),i&&l.push(...i)};!n&&e.mixins.length&&e.mixins.forEach(i),t.extends&&i(t.extends),t.mixins&&t.mixins.forEach(i)}if(!s&&!c)return(0,o.isObject)(t)&&i.set(t,o.EMPTY_ARR),o.EMPTY_ARR;if((0,o.isArray)(s))for(let t=0;t<s.length;t++){0;const e=(0,o.camelize)(s[t]);xe(e)&&(a[e]=o.EMPTY_OBJ)}else if(s){0;for(const t in s){const e=(0,o.camelize)(t);if(xe(e)){const n=s[t],i=a[e]=(0,o.isArray)(n)||(0,o.isFunction)(n)?{type:n}:Object.assign({},n);if(i){const t=Me(Boolean,i.type),n=Me(String,i.type);i[0]=t>-1,i[1]=n<0||t<n,(t>-1||(0,o.hasOwn)(i,"default"))&&l.push(e)}}}}const u=[a,l];return(0,o.isObject)(t)&&i.set(t,u),u}function xe(t){return"$"!==t[0]}function Pe(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:null===t?"null":""}function Te(t,e){return Pe(t)===Pe(e)}function Me(t,e){return(0,o.isArray)(e)?e.findIndex((e=>Te(e,t))):(0,o.isFunction)(e)&&Te(e,t)?0:-1}const De=t=>"_"===t[0]||"$stable"===t,Re=t=>(0,o.isArray)(t)?t.map(An):[An(t)],Ae=(t,e,n)=>{if(e._n)return e;const i=U(((...t)=>Re(e(...t))),n);return i._c=!1,i},Le=(t,e,n)=>{const i=t._ctx;for(const n in t){if(De(n))continue;const r=t[n];if((0,o.isFunction)(r))e[n]=Ae(0,r,i);else if(null!=r){0;const t=Re(r);e[n]=()=>t}}},Ie=(t,e)=>{const n=Re(e);t.slots.default=()=>n},ke=(t,e)=>{if(32&t.vnode.shapeFlag){const n=e._;n?(t.slots=(0,i.IU)(e),(0,o.def)(e,"_",n)):Le(e,t.slots={})}else t.slots={},e&&Ie(t,e);(0,o.def)(t.slots,bn,1)},Ne=(t,e,n)=>{const{vnode:i,slots:r}=t;let s=!0,a=o.EMPTY_OBJ;if(32&i.shapeFlag){const t=e._;t?n&&1===t?s=!1:((0,o.extend)(r,e),n||1!==t||delete r._):(s=!e.$stable,Le(e,r)),a=e}else e&&(Ie(t,e),a={default:1});if(s)for(const t in r)De(t)||t in a||delete r[t]};function Fe(){return{app:null,config:{isNativeTag:o.NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Ge=0;function Be(t,e){return function(n,i=null){(0,o.isFunction)(n)||(n=Object.assign({},n)),null==i||(0,o.isObject)(i)||(i=null);const r=Fe(),s=new Set;let a=!1;const l=r.app={_uid:Ge++,_component:n,_props:i,_container:null,_context:r,_instance:null,version:Ci,get config(){return r.config},set config(t){0},use:(t,...e)=>(s.has(t)||(t&&(0,o.isFunction)(t.install)?(s.add(t),t.install(l,...e)):(0,o.isFunction)(t)&&(s.add(t),t(l,...e))),l),mixin:t=>(r.mixins.includes(t)||r.mixins.push(t),l),component:(t,e)=>e?(r.components[t]=e,l):r.components[t],directive:(t,e)=>e?(r.directives[t]=e,l):r.directives[t],mount(o,s,c){if(!a){0;const u=On(n,i);return u.appContext=r,s&&e?e(u,o):t(u,o,c),a=!0,l._container=o,o.__vue_app__=l,ti(u.component)||u.component.proxy}},unmount(){a&&(t(null,l._container),delete l._container.__vue_app__)},provide:(t,e)=>(r.provides[t]=e,l)};return l}}function je(t,e,n,r,s=!1){if((0,o.isArray)(t))return void t.forEach(((t,i)=>je(t,e&&((0,o.isArray)(e)?e[i]:e),n,r,s)));if(Et(r)&&!s)return;const l=4&r.shapeFlag?ti(r.component)||r.component.proxy:r.el,c=s?null:l,{i:u,r:h}=t;const d=e&&e.r,p=u.refs===o.EMPTY_OBJ?u.refs={}:u.refs,f=u.setupState;if(null!=d&&d!==h&&((0,o.isString)(d)?(p[d]=null,(0,o.hasOwn)(f,d)&&(f[d]=null)):(0,i.dq)(d)&&(d.value=null)),(0,o.isFunction)(h))a(h,u,12,[c,p]);else{const e=(0,o.isString)(h),r=(0,i.dq)(h);if(e||r){const i=()=>{if(t.f){const n=e?(0,o.hasOwn)(f,h)?f[h]:p[h]:h.value;s?(0,o.isArray)(n)&&(0,o.remove)(n,l):(0,o.isArray)(n)?n.includes(l)||n.push(l):e?(p[h]=[l],(0,o.hasOwn)(f,h)&&(f[h]=p[h])):(h.value=[l],t.k&&(p[t.k]=h.value))}else e?(p[h]=c,(0,o.hasOwn)(f,h)&&(f[h]=c)):r&&(h.value=c,t.k&&(p[t.k]=c))};c?(i.id=-1,$e(i,n)):i()}else 0}}let Ue=!1;const Ve=t=>/svg/.test(t.namespaceURI)&&"foreignObject"!==t.tagName,We=t=>8===t.nodeType;function He(t){const{mt:e,p:n,o:{patchProp:i,createText:r,nextSibling:s,parentNode:a,remove:l,insert:c,createComment:u}}=t,h=(n,i,o,l,u,_=!1)=>{const y=We(n)&&"["===n.data,v=()=>g(n,i,o,l,u,y),{type:C,ref:b,shapeFlag:E,patchFlag:S}=i;let w=n.nodeType;i.el=n,-2===S&&(_=!1,i.dynamicChildren=null);let O=null;switch(C){case rn:3!==w?""===i.children?(c(i.el=r(""),a(n),n),O=n):O=v():(n.data!==i.children&&(Ue=!0,n.data=i.children),O=s(n));break;case sn:O=8!==w||y?v():s(n);break;case an:if(y&&(w=(n=s(n)).nodeType),1===w||3===w){O=n;const t=!i.children.length;for(let e=0;e<i.staticCount;e++)t&&(i.children+=1===O.nodeType?O.outerHTML:O.data),e===i.staticCount-1&&(i.anchor=O),O=s(O);return y?s(O):O}v();break;case on:O=y?f(n,i,o,l,u,_):v();break;default:if(1&E)O=1!==w||i.type.toLowerCase()!==n.tagName.toLowerCase()?v():d(n,i,o,l,u,_);else if(6&E){i.slotScopeIds=u;const t=a(n);if(e(i,t,null,o,l,Ve(t),_),O=y?m(n):s(n),O&&We(O)&&"teleport end"===O.data&&(O=s(O)),Et(i)){let e;y?(e=On(on),e.anchor=O?O.previousSibling:t.lastChild):e=3===n.nodeType?Mn(""):On("div"),e.el=n,i.component.subTree=e}}else 64&E?O=8!==w?v():i.type.hydrate(n,i,o,l,u,_,t,p):128&E&&(O=i.type.hydrate(n,i,o,l,Ve(a(n)),u,_,t,h))}return null!=b&&je(b,null,l,i),O},d=(t,e,n,r,s,a)=>{a=a||!!e.dynamicChildren;const{type:c,props:u,patchFlag:h,shapeFlag:d,dirs:f}=e,g="input"===c&&f||"option"===c;if(g||-1!==h){if(f&&Kt(e,null,n,"created"),u)if(g||!a||48&h)for(const e in u)(g&&e.endsWith("value")||(0,o.isOn)(e)&&!(0,o.isReservedProp)(e))&&i(t,e,null,u[e],!1,void 0,n);else u.onClick&&i(t,"onClick",null,u.onClick,!1,void 0,n);let c;if((c=u&&u.onVnodeBeforeMount)&&Nn(c,n,e),f&&Kt(e,null,n,"beforeMount"),((c=u&&u.onVnodeMounted)||f)&&Q((()=>{c&&Nn(c,n,e),f&&Kt(e,null,n,"mounted")}),r),16&d&&(!u||!u.innerHTML&&!u.textContent)){let i=p(t.firstChild,e,t,n,r,s,a);for(;i;){Ue=!0;const t=i;i=i.nextSibling,l(t)}}else 8&d&&t.textContent!==e.children&&(Ue=!0,t.textContent=e.children)}return t.nextSibling},p=(t,e,i,o,r,s,a)=>{a=a||!!e.dynamicChildren;const l=e.children,c=l.length;for(let e=0;e<c;e++){const c=a?l[e]:l[e]=An(l[e]);if(t)t=h(t,c,o,r,s,a);else{if(c.type===rn&&!c.children)continue;Ue=!0,n(null,c,i,null,o,r,Ve(i),s)}}return t},f=(t,e,n,i,o,r)=>{const{slotScopeIds:l}=e;l&&(o=o?o.concat(l):l);const h=a(t),d=p(s(t),e,h,n,i,o,r);return d&&We(d)&&"]"===d.data?s(e.anchor=d):(Ue=!0,c(e.anchor=u("]"),h,d),d)},g=(t,e,i,o,r,c)=>{if(Ue=!0,e.el=null,c){const e=m(t);for(;;){const n=s(t);if(!n||n===e)break;l(n)}}const u=s(t),h=a(t);return l(t),n(null,e,h,u,i,o,Ve(h),r),u},m=t=>{let e=0;for(;t;)if((t=s(t))&&We(t)&&("["===t.data&&e++,"]"===t.data)){if(0===e)return s(t);e--}return t};return[(t,e)=>{if(!e.hasChildNodes())return n(null,t,e),w(),void(e._vnode=t);Ue=!1,h(e.firstChild,t,null,null,null),w(),e._vnode=t,Ue&&console.error("Hydration completed but contains mismatches.")},h]}const $e=Q;function ze(t){return Ye(t)}function Ke(t){return Ye(t,He)}function Ye(t,e){(0,o.getGlobalThis)().__VUE__=!0;const{insert:n,remove:r,patchProp:s,createElement:a,createText:l,createComment:c,setText:u,setElementText:h,parentNode:f,nextSibling:g,setScopeId:m=o.NOOP,insertStaticContent:_}=t,y=(t,e,n,i=null,o=null,r=null,s=!1,a=null,l=!!e.dynamicChildren)=>{if(t===e)return;t&&!vn(t,e)&&(i=J(t),$(t,o,r,!0),t=null),-2===e.patchFlag&&(l=!1,e.dynamicChildren=null);const{type:c,ref:u,shapeFlag:h}=e;switch(c){case rn:v(t,e,n,i);break;case sn:b(t,e,n,i);break;case an:null==t&&E(e,n,i,s);break;case on:L(t,e,n,i,o,r,s,a,l);break;default:1&h?x(t,e,n,i,o,r,s,a,l):6&h?k(t,e,n,i,o,r,s,a,l):(64&h||128&h)&&c.process(t,e,n,i,o,r,s,a,l,tt)}null!=u&&o&&je(u,t&&t.ref,r,e||t,!e)},v=(t,e,i,o)=>{if(null==t)n(e.el=l(e.children),i,o);else{const n=e.el=t.el;e.children!==t.children&&u(n,e.children)}},b=(t,e,i,o)=>{null==t?n(e.el=c(e.children||""),i,o):e.el=t.el},E=(t,e,n,i)=>{[t.el,t.anchor]=_(t.children,e,n,i,t.el,t.anchor)},O=({el:t,anchor:e})=>{let n;for(;t&&t!==e;)n=g(t),r(t),t=n;r(e)},x=(t,e,n,i,o,r,s,a,l)=>{s=s||"svg"===e.type,null==t?P(e,n,i,o,r,s,a,l):D(t,e,o,r,s,a,l)},P=(t,e,i,r,l,c,u,d)=>{let p,f;const{type:g,props:m,shapeFlag:_,transition:y,dirs:v}=t;if(p=t.el=a(t.type,c,m&&m.is,m),8&_?h(p,t.children):16&_&&M(t.children,p,null,r,l,c&&"foreignObject"!==g,u,d),v&&Kt(t,null,r,"created"),T(p,t,t.scopeId,u,r),m){for(const e in m)"value"===e||(0,o.isReservedProp)(e)||s(p,e,null,m[e],c,t.children,r,l,Z);"value"in m&&s(p,"value",null,m.value),(f=m.onVnodeBeforeMount)&&Nn(f,r,t)}v&&Kt(t,null,r,"beforeMount");const C=(!l||l&&!l.pendingBranch)&&y&&!y.persisted;C&&y.beforeEnter(p),n(p,e,i),((f=m&&m.onVnodeMounted)||C||v)&&$e((()=>{f&&Nn(f,r,t),C&&y.enter(p),v&&Kt(t,null,r,"mounted")}),l)},T=(t,e,n,i,o)=>{if(n&&m(t,n),i)for(let e=0;e<i.length;e++)m(t,i[e]);if(o){if(e===o.subTree){const e=o.vnode;T(t,e,e.scopeId,e.slotScopeIds,o.parent)}}},M=(t,e,n,i,o,r,s,a,l=0)=>{for(let c=l;c<t.length;c++){const l=t[c]=a?Ln(t[c]):An(t[c]);y(null,l,e,n,i,o,r,s,a)}},D=(t,e,n,i,r,a,l)=>{const c=e.el=t.el;let{patchFlag:u,dynamicChildren:d,dirs:p}=e;u|=16&t.patchFlag;const f=t.props||o.EMPTY_OBJ,g=e.props||o.EMPTY_OBJ;let m;n&&Xe(n,!1),(m=g.onVnodeBeforeUpdate)&&Nn(m,n,e,t),p&&Kt(e,t,n,"beforeUpdate"),n&&Xe(n,!0);const _=r&&"foreignObject"!==e.type;if(d?R(t.dynamicChildren,d,c,n,i,_,a):l||j(t,e,c,null,n,i,_,a,!1),u>0){if(16&u)A(c,e,f,g,n,i,r);else if(2&u&&f.class!==g.class&&s(c,"class",null,g.class,r),4&u&&s(c,"style",f.style,g.style,r),8&u){const o=e.dynamicProps;for(let e=0;e<o.length;e++){const a=o[e],l=f[a],u=g[a];u===l&&"value"!==a||s(c,a,l,u,r,t.children,n,i,Z)}}1&u&&t.children!==e.children&&h(c,e.children)}else l||null!=d||A(c,e,f,g,n,i,r);((m=g.onVnodeUpdated)||p)&&$e((()=>{m&&Nn(m,n,e,t),p&&Kt(e,t,n,"updated")}),i)},R=(t,e,n,i,o,r,s)=>{for(let a=0;a<e.length;a++){const l=t[a],c=e[a],u=l.el&&(l.type===on||!vn(l,c)||70&l.shapeFlag)?f(l.el):n;y(l,c,u,null,i,o,r,s,!0)}},A=(t,e,n,i,r,a,l)=>{if(n!==i){if(n!==o.EMPTY_OBJ)for(const c in n)(0,o.isReservedProp)(c)||c in i||s(t,c,n[c],null,l,e.children,r,a,Z);for(const c in i){if((0,o.isReservedProp)(c))continue;const u=i[c],h=n[c];u!==h&&"value"!==c&&s(t,c,h,u,l,e.children,r,a,Z)}"value"in i&&s(t,"value",n.value,i.value)}},L=(t,e,i,o,r,s,a,c,u)=>{const h=e.el=t?t.el:l(""),d=e.anchor=t?t.anchor:l("");let{patchFlag:p,dynamicChildren:f,slotScopeIds:g}=e;g&&(c=c?c.concat(g):g),null==t?(n(h,i,o),n(d,i,o),M(e.children,i,d,r,s,a,c,u)):p>0&&64&p&&f&&t.dynamicChildren?(R(t.dynamicChildren,f,i,r,s,a,c),(null!=e.key||r&&e===r.subTree)&&qe(t,e,!0)):j(t,e,i,d,r,s,a,c,u)},k=(t,e,n,i,o,r,s,a,l)=>{e.slotScopeIds=a,null==t?512&e.shapeFlag?o.ctx.activate(e,n,i,s,l):N(e,n,i,o,r,s,l):F(t,e,l)},N=(t,e,n,i,o,r,s)=>{const a=t.component=Bn(t,i,o);if(Ot(t)&&(a.ctx.renderer=tt),Yn(a),a.asyncDep){if(o&&o.registerDep(a,G),!t.el){const t=a.subTree=On(sn);b(null,t,e,n)}}else G(a,t,e,n,o,r,s)},F=(t,e,n)=>{const i=e.component=t.component;if(function(t,e,n){const{props:i,children:o,component:r}=t,{props:s,children:a,patchFlag:l}=e,c=r.emitsOptions;if(e.dirs||e.transition)return!0;if(!(n&&l>=0))return!(!o&&!a||a&&a.$stable)||i!==s&&(i?!s||z(i,s,c):!!s);if(1024&l)return!0;if(16&l)return i?z(i,s,c):!!s;if(8&l){const t=e.dynamicProps;for(let e=0;e<t.length;e++){const n=t[e];if(s[n]!==i[n]&&!I(c,n))return!0}}return!1}(t,e,n)){if(i.asyncDep&&!i.asyncResolved)return void B(i,e,n);i.next=e,function(t){const e=d.indexOf(t);e>p&&d.splice(e,1)}(i.update),i.update()}else e.el=t.el,i.vnode=e},G=(t,e,n,r,s,a,l)=>{const c=t.effect=new i.qq((()=>{if(t.isMounted){let e,{next:n,bu:i,u:r,parent:c,vnode:u}=t,h=n;0,Xe(t,!1),n?(n.el=u.el,B(t,n,l)):n=u,i&&(0,o.invokeArrayFns)(i),(e=n.props&&n.props.onVnodeBeforeUpdate)&&Nn(e,c,n,u),Xe(t,!0);const d=V(t);0;const p=t.subTree;t.subTree=d,y(p,d,f(p.el),J(p),t,s,a),n.el=d.el,null===h&&K(t,d.el),r&&$e(r,s),(e=n.props&&n.props.onVnodeUpdated)&&$e((()=>Nn(e,c,n,u)),s)}else{let i;const{el:l,props:c}=e,{bm:u,m:h,parent:d}=t,p=Et(e);if(Xe(t,!1),u&&(0,o.invokeArrayFns)(u),!p&&(i=c&&c.onVnodeBeforeMount)&&Nn(i,d,e),Xe(t,!0),l&&nt){const n=()=>{t.subTree=V(t),nt(l,t.subTree,t,s,null)};p?e.type.__asyncLoader().then((()=>!t.isUnmounted&&n())):n()}else{0;const i=t.subTree=V(t);0,y(null,i,n,r,t,s,a),e.el=i.el}if(h&&$e(h,s),!p&&(i=c&&c.onVnodeMounted)){const t=e;$e((()=>Nn(i,d,t)),s)}(256&e.shapeFlag||d&&Et(d.vnode)&&256&d.vnode.shapeFlag)&&t.a&&$e(t.a,s),t.isMounted=!0,e=n=r=null}}),(()=>C(u)),t.scope),u=t.update=()=>c.run();u.id=t.uid,Xe(t,!0),u()},B=(t,e,n)=>{e.component=t;const r=t.vnode.props;t.vnode=e,t.next=null,function(t,e,n,r){const{props:s,attrs:a,vnode:{patchFlag:l}}=t,c=(0,i.IU)(s),[u]=t.propsOptions;let h=!1;if(!(r||l>0)||16&l){let i;Se(t,e,s,a)&&(h=!0);for(const r in c)e&&((0,o.hasOwn)(e,r)||(i=(0,o.hyphenate)(r))!==r&&(0,o.hasOwn)(e,i))||(u?!n||void 0===n[r]&&void 0===n[i]||(s[r]=we(u,c,r,void 0,t,!0)):delete s[r]);if(a!==c)for(const t in a)e&&(0,o.hasOwn)(e,t)||(delete a[t],h=!0)}else if(8&l){const n=t.vnode.dynamicProps;for(let i=0;i<n.length;i++){let r=n[i];if(I(t.emitsOptions,r))continue;const l=e[r];if(u)if((0,o.hasOwn)(a,r))l!==a[r]&&(a[r]=l,h=!0);else{const e=(0,o.camelize)(r);s[e]=we(u,c,e,l,t,!1)}else l!==a[r]&&(a[r]=l,h=!0)}}h&&(0,i.X$)(t,"set","$attrs")}(t,e.props,r,n),Ne(t,e.children,n),(0,i.Jd)(),S(),(0,i.lk)()},j=(t,e,n,i,o,r,s,a,l=!1)=>{const c=t&&t.children,u=t?t.shapeFlag:0,d=e.children,{patchFlag:p,shapeFlag:f}=e;if(p>0){if(128&p)return void W(c,d,n,i,o,r,s,a,l);if(256&p)return void U(c,d,n,i,o,r,s,a,l)}8&f?(16&u&&Z(c,o,r),d!==c&&h(n,d)):16&u?16&f?W(c,d,n,i,o,r,s,a,l):Z(c,o,r,!0):(8&u&&h(n,""),16&f&&M(d,n,i,o,r,s,a,l))},U=(t,e,n,i,r,s,a,l,c)=>{t=t||o.EMPTY_ARR,e=e||o.EMPTY_ARR;const u=t.length,h=e.length,d=Math.min(u,h);let p;for(p=0;p<d;p++){const i=e[p]=c?Ln(e[p]):An(e[p]);y(t[p],i,n,null,r,s,a,l,c)}u>h?Z(t,r,s,!0,!1,d):M(e,n,i,r,s,a,l,c,d)},W=(t,e,n,i,r,s,a,l,c)=>{let u=0;const h=e.length;let d=t.length-1,p=h-1;for(;u<=d&&u<=p;){const i=t[u],o=e[u]=c?Ln(e[u]):An(e[u]);if(!vn(i,o))break;y(i,o,n,null,r,s,a,l,c),u++}for(;u<=d&&u<=p;){const i=t[d],o=e[p]=c?Ln(e[p]):An(e[p]);if(!vn(i,o))break;y(i,o,n,null,r,s,a,l,c),d--,p--}if(u>d){if(u<=p){const t=p+1,o=t<h?e[t].el:i;for(;u<=p;)y(null,e[u]=c?Ln(e[u]):An(e[u]),n,o,r,s,a,l,c),u++}}else if(u>p)for(;u<=d;)$(t[u],r,s,!0),u++;else{const f=u,g=u,m=new Map;for(u=g;u<=p;u++){const t=e[u]=c?Ln(e[u]):An(e[u]);null!=t.key&&m.set(t.key,u)}let _,v=0;const C=p-g+1;let b=!1,E=0;const S=new Array(C);for(u=0;u<C;u++)S[u]=0;for(u=f;u<=d;u++){const i=t[u];if(v>=C){$(i,r,s,!0);continue}let o;if(null!=i.key)o=m.get(i.key);else for(_=g;_<=p;_++)if(0===S[_-g]&&vn(i,e[_])){o=_;break}void 0===o?$(i,r,s,!0):(S[o-g]=u+1,o>=E?E=o:b=!0,y(i,e[o],n,null,r,s,a,l,c),v++)}const w=b?function(t){const e=t.slice(),n=[0];let i,o,r,s,a;const l=t.length;for(i=0;i<l;i++){const l=t[i];if(0!==l){if(o=n[n.length-1],t[o]<l){e[i]=o,n.push(i);continue}for(r=0,s=n.length-1;r<s;)a=r+s>>1,t[n[a]]<l?r=a+1:s=a;l<t[n[r]]&&(r>0&&(e[i]=n[r-1]),n[r]=i)}}r=n.length,s=n[r-1];for(;r-- >0;)n[r]=s,s=e[s];return n}(S):o.EMPTY_ARR;for(_=w.length-1,u=C-1;u>=0;u--){const t=g+u,o=e[t],d=t+1<h?e[t+1].el:i;0===S[u]?y(null,o,n,d,r,s,a,l,c):b&&(_<0||u!==w[_]?H(o,n,d,2):_--)}}},H=(t,e,i,o,r=null)=>{const{el:s,type:a,transition:l,children:c,shapeFlag:u}=t;if(6&u)return void H(t.component.subTree,e,i,o);if(128&u)return void t.suspense.move(e,i,o);if(64&u)return void a.move(t,e,i,tt);if(a===on){n(s,e,i);for(let t=0;t<c.length;t++)H(c[t],e,i,o);return void n(t.anchor,e,i)}if(a===an)return void(({el:t,anchor:e},i,o)=>{let r;for(;t&&t!==e;)r=g(t),n(t,i,o),t=r;n(e,i,o)})(t,e,i);if(2!==o&&1&u&&l)if(0===o)l.beforeEnter(s),n(s,e,i),$e((()=>l.enter(s)),r);else{const{leave:t,delayLeave:o,afterLeave:r}=l,a=()=>n(s,e,i),c=()=>{t(s,(()=>{a(),r&&r()}))};o?o(s,a,c):c()}else n(s,e,i)},$=(t,e,n,i=!1,o=!1)=>{const{type:r,props:s,ref:a,children:l,dynamicChildren:c,shapeFlag:u,patchFlag:h,dirs:d}=t;if(null!=a&&je(a,null,n,t,!0),256&u)return void e.ctx.deactivate(t);const p=1&u&&d,f=!Et(t);let g;if(f&&(g=s&&s.onVnodeBeforeUnmount)&&Nn(g,e,t),6&u)q(t.component,n,i);else{if(128&u)return void t.suspense.unmount(n,i);p&&Kt(t,null,e,"beforeUnmount"),64&u?t.type.remove(t,e,n,o,tt,i):c&&(r!==on||h>0&&64&h)?Z(c,e,n,!1,!0):(r===on&&384&h||!o&&16&u)&&Z(l,e,n),i&&Y(t)}(f&&(g=s&&s.onVnodeUnmounted)||p)&&$e((()=>{g&&Nn(g,e,t),p&&Kt(t,null,e,"unmounted")}),n)},Y=t=>{const{type:e,el:n,anchor:i,transition:o}=t;if(e===on)return void X(n,i);if(e===an)return void O(t);const s=()=>{r(n),o&&!o.persisted&&o.afterLeave&&o.afterLeave()};if(1&t.shapeFlag&&o&&!o.persisted){const{leave:e,delayLeave:i}=o,r=()=>e(n,s);i?i(t.el,s,r):r()}else s()},X=(t,e)=>{let n;for(;t!==e;)n=g(t),r(t),t=n;r(e)},q=(t,e,n)=>{const{bum:i,scope:r,update:s,subTree:a,um:l}=t;i&&(0,o.invokeArrayFns)(i),r.stop(),s&&(s.active=!1,$(a,t,e,n)),l&&$e(l,e),$e((()=>{t.isUnmounted=!0}),e),e&&e.pendingBranch&&!e.isUnmounted&&t.asyncDep&&!t.asyncResolved&&t.suspenseId===e.pendingId&&(e.deps--,0===e.deps&&e.resolve())},Z=(t,e,n,i=!1,o=!1,r=0)=>{for(let s=r;s<t.length;s++)$(t[s],e,n,i,o)},J=t=>6&t.shapeFlag?J(t.component.subTree):128&t.shapeFlag?t.suspense.next():g(t.anchor||t.el),Q=(t,e,n)=>{null==t?e._vnode&&$(e._vnode,null,null,!0):y(e._vnode||null,t,e,null,null,null,n),S(),w(),e._vnode=t},tt={p:y,um:$,m:H,r:Y,mt:N,mc:M,pc:j,pbc:R,n:J,o:t};let et,nt;return e&&([et,nt]=e(tt)),{render:Q,hydrate:et,createApp:Be(Q,et)}}function Xe({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function qe(t,e,n=!1){const i=t.children,r=e.children;if((0,o.isArray)(i)&&(0,o.isArray)(r))for(let t=0;t<i.length;t++){const e=i[t];let o=r[t];1&o.shapeFlag&&!o.dynamicChildren&&((o.patchFlag<=0||32===o.patchFlag)&&(o=r[t]=Ln(r[t]),o.el=e.el),n||qe(e,o)),o.type===rn&&(o.el=e.el)}}const Ze=t=>t&&(t.disabled||""===t.disabled),Je=t=>"undefined"!=typeof SVGElement&&t instanceof SVGElement,Qe=(t,e)=>{const n=t&&t.to;if((0,o.isString)(n)){if(e){const t=e(n);return t}return null}return n};function tn(t,e,n,{o:{insert:i},m:o},r=2){0===r&&i(t.targetAnchor,e,n);const{el:s,anchor:a,shapeFlag:l,children:c,props:u}=t,h=2===r;if(h&&i(s,e,n),(!h||Ze(u))&&16&l)for(let t=0;t<c.length;t++)o(c[t],e,n,2);h&&i(a,e,n)}const en={__isTeleport:!0,process(t,e,n,i,o,r,s,a,l,c){const{mc:u,pc:h,pbc:d,o:{insert:p,querySelector:f,createText:g,createComment:m}}=c,_=Ze(e.props);let{shapeFlag:y,children:v,dynamicChildren:C}=e;if(null==t){const t=e.el=g(""),c=e.anchor=g("");p(t,n,i),p(c,n,i);const h=e.target=Qe(e.props,f),d=e.targetAnchor=g("");h&&(p(d,h),s=s||Je(h));const m=(t,e)=>{16&y&&u(v,t,e,o,r,s,a,l)};_?m(n,c):h&&m(h,d)}else{e.el=t.el;const i=e.anchor=t.anchor,u=e.target=t.target,p=e.targetAnchor=t.targetAnchor,g=Ze(t.props),m=g?n:u,y=g?i:p;if(s=s||Je(u),C?(d(t.dynamicChildren,C,m,o,r,s,a),qe(t,e,!0)):l||h(t,e,m,y,o,r,s,a,!1),_)g||tn(e,n,i,c,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const t=e.target=Qe(e.props,f);t&&tn(e,t,null,c,0)}else g&&tn(e,u,p,c,1)}nn(e)},remove(t,e,n,i,{um:o,o:{remove:r}},s){const{shapeFlag:a,children:l,anchor:c,targetAnchor:u,target:h,props:d}=t;if(h&&r(u),(s||!Ze(d))&&(r(c),16&a))for(let t=0;t<l.length;t++){const i=l[t];o(i,e,n,!0,!!i.dynamicChildren)}},move:tn,hydrate:function(t,e,n,i,o,r,{o:{nextSibling:s,parentNode:a,querySelector:l}},c){const u=e.target=Qe(e.props,l);if(u){const l=u._lpa||u.firstChild;if(16&e.shapeFlag)if(Ze(e.props))e.anchor=c(s(t),e,a(t),n,i,o,r),e.targetAnchor=l;else{e.anchor=s(t);let a=l;for(;a;)if(a=s(a),a&&8===a.nodeType&&"teleport anchor"===a.data){e.targetAnchor=a,u._lpa=e.targetAnchor&&s(e.targetAnchor);break}c(l,e,u,n,i,o,r)}nn(e)}return e.anchor&&s(e.anchor)}};function nn(t){const e=t.ctx;if(e&&e.ut){let n=t.children[0].el;for(;n!==t.targetAnchor;)1===n.nodeType&&n.setAttribute("data-v-owner",e.uid),n=n.nextSibling;e.ut()}}const on=Symbol(void 0),rn=Symbol(void 0),sn=Symbol(void 0),an=Symbol(void 0),ln=[];let cn=null;function un(t=!1){ln.push(cn=t?null:[])}function hn(){ln.pop(),cn=ln[ln.length-1]||null}let dn,pn=1;function fn(t){pn+=t}function gn(t){return t.dynamicChildren=pn>0?cn||o.EMPTY_ARR:null,hn(),pn>0&&cn&&cn.push(t),t}function mn(t,e,n,i,o,r){return gn(wn(t,e,n,i,o,r,!0))}function _n(t,e,n,i,o){return gn(On(t,e,n,i,o,!0))}function yn(t){return!!t&&!0===t.__v_isVNode}function vn(t,e){return t.type===e.type&&t.key===e.key}function Cn(t){dn=t}const bn="__vInternal",En=({key:t})=>null!=t?t:null,Sn=({ref:t,ref_key:e,ref_for:n})=>null!=t?(0,o.isString)(t)||(0,i.dq)(t)||(0,o.isFunction)(t)?{i:k,r:t,k:e,f:!!n}:t:null;function wn(t,e=null,n=null,i=0,r=null,s=(t===on?0:1),a=!1,l=!1){const c={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&En(e),ref:e&&Sn(e),scopeId:N,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:i,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:k};return l?(In(c,n),128&s&&t.normalize(c)):n&&(c.shapeFlag|=(0,o.isString)(n)?8:16),pn>0&&!a&&cn&&(c.patchFlag>0||6&s)&&32!==c.patchFlag&&cn.push(c),c}const On=xn;function xn(t,e=null,n=null,r=0,s=null,a=!1){if(t&&t!==Zt||(t=sn),yn(t)){const i=Tn(t,e,!0);return n&&In(i,n),pn>0&&!a&&cn&&(6&i.shapeFlag?cn[cn.indexOf(t)]=i:cn.push(i)),i.patchFlag|=-2,i}if(ni(t)&&(t=t.__vccOpts),e){e=Pn(e);let{class:t,style:n}=e;t&&!(0,o.isString)(t)&&(e.class=(0,o.normalizeClass)(t)),(0,o.isObject)(n)&&((0,i.X3)(n)&&!(0,o.isArray)(n)&&(n=(0,o.extend)({},n)),e.style=(0,o.normalizeStyle)(n))}return wn(t,e,n,r,s,(0,o.isString)(t)?1:Y(t)?128:(t=>t.__isTeleport)(t)?64:(0,o.isObject)(t)?4:(0,o.isFunction)(t)?2:0,a,!0)}function Pn(t){return t?(0,i.X3)(t)||bn in t?(0,o.extend)({},t):t:null}function Tn(t,e,n=!1){const{props:i,ref:r,patchFlag:s,children:a}=t,l=e?kn(i||{},e):i;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:l,key:l&&En(l),ref:e&&e.ref?n&&r?(0,o.isArray)(r)?r.concat(Sn(e)):[r,Sn(e)]:Sn(e):r,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==on?-1===s?16:16|s:s,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Tn(t.ssContent),ssFallback:t.ssFallback&&Tn(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function Mn(t=" ",e=0){return On(rn,null,t,e)}function Dn(t,e){const n=On(an,null,t);return n.staticCount=e,n}function Rn(t="",e=!1){return e?(un(),_n(sn,null,t)):On(sn,null,t)}function An(t){return null==t||"boolean"==typeof t?On(sn):(0,o.isArray)(t)?On(on,null,t.slice()):"object"==typeof t?Ln(t):On(rn,null,String(t))}function Ln(t){return null===t.el&&-1!==t.patchFlag||t.memo?t:Tn(t)}function In(t,e){let n=0;const{shapeFlag:i}=t;if(null==e)e=null;else if((0,o.isArray)(e))n=16;else if("object"==typeof e){if(65&i){const n=e.default;return void(n&&(n._c&&(n._d=!1),In(t,n()),n._c&&(n._d=!0)))}{n=32;const i=e._;i||bn in e?3===i&&k&&(1===k.slots._?e._=1:(e._=2,t.patchFlag|=1024)):e._ctx=k}}else(0,o.isFunction)(e)?(e={default:e,_ctx:k},n=32):(e=String(e),64&i?(n=16,e=[Mn(e)]):n=8);t.children=e,t.shapeFlag|=n}function kn(...t){const e={};for(let n=0;n<t.length;n++){const i=t[n];for(const t in i)if("class"===t)e.class!==i.class&&(e.class=(0,o.normalizeClass)([e.class,i.class]));else if("style"===t)e.style=(0,o.normalizeStyle)([e.style,i.style]);else if((0,o.isOn)(t)){const n=e[t],r=i[t];!r||n===r||(0,o.isArray)(n)&&n.includes(r)||(e[t]=n?[].concat(n,r):r)}else""!==t&&(e[t]=i[t])}return e}function Nn(t,e,n,i=null){l(t,e,7,[n,i])}const Fn=Fe();let Gn=0;function Bn(t,e,n){const r=t.type,s=(e?e.appContext:t.appContext)||Fn,a={uid:Gn++,vnode:t,type:r,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new i.Bj(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Oe(r,s),emitsOptions:L(r,s),emit:null,emitted:null,propsDefaults:o.EMPTY_OBJ,inheritAttrs:r.inheritAttrs,ctx:o.EMPTY_OBJ,data:o.EMPTY_OBJ,props:o.EMPTY_OBJ,attrs:o.EMPTY_OBJ,slots:o.EMPTY_OBJ,refs:o.EMPTY_OBJ,setupState:o.EMPTY_OBJ,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=e?e.root:a,a.emit=A.bind(null,a),t.ce&&t.ce(a),a}let jn=null;const Un=()=>jn||k,Vn=t=>{jn=t,t.scope.on()},Wn=()=>{jn&&jn.scope.off(),jn=null};function Hn(t){return 4&t.vnode.shapeFlag}let $n,zn,Kn=!1;function Yn(t,e=!1){Kn=e;const{props:n,children:r}=t.vnode,s=Hn(t);!function(t,e,n,r=!1){const s={},a={};(0,o.def)(a,bn,1),t.propsDefaults=Object.create(null),Se(t,e,s,a);for(const e in t.propsOptions[0])e in s||(s[e]=void 0);n?t.props=r?s:(0,i.Um)(s):t.type.props?t.props=s:t.props=a,t.attrs=a}(t,n,s,e),ke(t,r);const l=s?function(t,e){const n=t.type;0;t.accessCache=Object.create(null),t.proxy=(0,i.Xl)(new Proxy(t.ctx,ue)),!1;const{setup:r}=n;if(r){const n=t.setupContext=r.length>1?Qn(t):null;Vn(t),(0,i.Jd)();const s=a(r,t,0,[t.props,n]);if((0,i.lk)(),Wn(),(0,o.isPromise)(s)){if(s.then(Wn,Wn),e)return s.then((n=>{Xn(t,n,e)})).catch((e=>{c(e,t,0)}));t.asyncDep=s}else Xn(t,s,e)}else Jn(t,e)}(t,e):void 0;return Kn=!1,l}function Xn(t,e,n){(0,o.isFunction)(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:(0,o.isObject)(e)&&(t.setupState=(0,i.WL)(e)),Jn(t,n)}function qn(t){$n=t,zn=t=>{t.render._rc&&(t.withProxy=new Proxy(t.ctx,he))}}const Zn=()=>!$n;function Jn(t,e,n){const r=t.type;if(!t.render){if(!e&&$n&&!r.render){const e=r.template||me(t).template;if(e){0;const{isCustomElement:n,compilerOptions:i}=t.appContext.config,{delimiters:s,compilerOptions:a}=r,l=(0,o.extend)((0,o.extend)({isCustomElement:n,delimiters:s},i),a);r.render=$n(e,l)}}t.render=r.render||o.NOOP,zn&&zn(t)}Vn(t),(0,i.Jd)(),pe(t),(0,i.lk)(),Wn()}function Qn(t){const e=e=>{t.exposed=e||{}};let n;return{get attrs(){return n||(n=function(t){return new Proxy(t.attrs,{get:(e,n)=>((0,i.j)(t,"get","$attrs"),e[n])})}(t))},slots:t.slots,emit:t.emit,expose:e}}function ti(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy((0,i.WL)((0,i.Xl)(t.exposed)),{get:(e,n)=>n in e?e[n]:n in le?le[n](t):void 0,has:(t,e)=>e in t||e in le}))}function ei(t,e=!0){return(0,o.isFunction)(t)?t.displayName||t.name:t.name||e&&t.__name}function ni(t){return(0,o.isFunction)(t)&&"__vccOpts"in t}const ii=(t,e)=>(0,i.Fl)(t,e,Kn);function oi(){return null}function ri(){return null}function si(t){0}function ai(t,e){return null}function li(){return ui().slots}function ci(){return ui().attrs}function ui(){const t=Un();return t.setupContext||(t.setupContext=Qn(t))}function hi(t,e){const n=(0,o.isArray)(t)?t.reduce(((t,e)=>(t[e]={},t)),{}):t;for(const t in e){const i=n[t];i?(0,o.isArray)(i)||(0,o.isFunction)(i)?n[t]={type:i,default:e[t]}:i.default=e[t]:null===i&&(n[t]={default:e[t]})}return n}function di(t,e){const n={};for(const i in t)e.includes(i)||Object.defineProperty(n,i,{enumerable:!0,get:()=>t[i]});return n}function pi(t){const e=Un();let n=t();return Wn(),(0,o.isPromise)(n)&&(n=n.catch((t=>{throw Vn(e),t}))),[n,()=>Vn(e)]}function fi(t,e,n){const i=arguments.length;return 2===i?(0,o.isObject)(e)&&!(0,o.isArray)(e)?yn(e)?On(t,null,[e]):On(t,e):On(t,null,e):(i>3?n=Array.prototype.slice.call(arguments,2):3===i&&yn(n)&&(n=[n]),On(t,e,n))}const gi=Symbol(""),mi=()=>{{const t=nt(gi);return t}};function _i(){return void 0}function yi(t,e,n,i){const o=n[i];if(o&&vi(o,t))return o;const r=e();return r.memo=t.slice(),n[i]=r}function vi(t,e){const n=t.memo;if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if((0,o.hasChanged)(n[t],e[t]))return!1;return pn>0&&cn&&cn.push(t),!0}const Ci="3.2.47",bi={createComponentInstance:Bn,setupComponent:Yn,renderComponentRoot:V,setCurrentRenderingInstance:F,isVNode:yn,normalizeVNode:An},Ei=null,Si=null},9963:(t,e,n)=>{"use strict";n.r(e),n.d(e,{BaseTransition:()=>o.P$,Comment:()=>o.sv,EffectScope:()=>o.Bj,Fragment:()=>o.HY,KeepAlive:()=>o.Ob,ReactiveEffect:()=>o.qq,Static:()=>o.qG,Suspense:()=>o.n4,Teleport:()=>o.lR,Text:()=>o.xv,Transition:()=>R,TransitionGroup:()=>q,VueElement:()=>w,assertNumber:()=>o.Wu,callWithAsyncErrorHandling:()=>o.$d,callWithErrorHandling:()=>o.KU,camelize:()=>o._A,capitalize:()=>o.kC,cloneVNode:()=>o.Ho,compatUtils:()=>o.ry,computed:()=>o.Fl,createApp:()=>Tt,createBlock:()=>o.j4,createCommentVNode:()=>o.kq,createElementBlock:()=>o.iD,createElementVNode:()=>o._,createHydrationRenderer:()=>o.Eo,createPropsRestProxy:()=>o.p1,createRenderer:()=>o.Us,createSSRApp:()=>Mt,createSlots:()=>o.Nv,createStaticVNode:()=>o.uE,createTextVNode:()=>o.Uk,createVNode:()=>o.Wm,customRef:()=>o.ZM,defineAsyncComponent:()=>o.RC,defineComponent:()=>o.aZ,defineCustomElement:()=>b,defineEmits:()=>o.Bz,defineExpose:()=>o.WY,defineProps:()=>o.MW,defineSSRCustomElement:()=>E,devtools:()=>o.mW,effect:()=>o.cE,effectScope:()=>o.B,getCurrentInstance:()=>o.FN,getCurrentScope:()=>o.nZ,getTransitionRawChildren:()=>o.Q6,guardReactiveProps:()=>o.F4,h:()=>o.h,handleError:()=>o.S3,hydrate:()=>Pt,initCustomFormatter:()=>o.Mr,initDirectivesForSSR:()=>At,inject:()=>o.f3,isMemoSame:()=>o.nQ,isProxy:()=>o.X3,isReactive:()=>o.PG,isReadonly:()=>o.$y,isRef:()=>o.dq,isRuntimeOnly:()=>o.of,isShallow:()=>o.yT,isVNode:()=>o.lA,markRaw:()=>o.Xl,mergeDefaults:()=>o.u_,mergeProps:()=>o.dG,nextTick:()=>o.Y3,normalizeClass:()=>o.C_,normalizeProps:()=>o.vs,normalizeStyle:()=>o.j5,onActivated:()=>o.dl,onBeforeMount:()=>o.wF,onBeforeUnmount:()=>o.Jd,onBeforeUpdate:()=>o.Xn,onDeactivated:()=>o.se,onErrorCaptured:()=>o.d1,onMounted:()=>o.bv,onRenderTracked:()=>o.bT,onRenderTriggered:()=>o.Yq,onScopeDispose:()=>o.EB,onServerPrefetch:()=>o.vl,onUnmounted:()=>o.Ah,onUpdated:()=>o.ic,openBlock:()=>o.wg,popScopeId:()=>o.Cn,provide:()=>o.JJ,proxyRefs:()=>o.WL,pushScopeId:()=>o.dD,queuePostFlushCb:()=>o.qb,reactive:()=>o.qj,readonly:()=>o.OT,ref:()=>o.iH,registerRuntimeCompiler:()=>o.Y1,render:()=>xt,renderList:()=>o.Ko,renderSlot:()=>o.WI,resolveComponent:()=>o.up,resolveDirective:()=>o.Q2,resolveDynamicComponent:()=>o.LL,resolveFilter:()=>o.eq,resolveTransitionHooks:()=>o.U2,setBlockTracking:()=>o.qZ,setDevtoolsHook:()=>o.ec,setTransitionHooks:()=>o.nK,shallowReactive:()=>o.Um,shallowReadonly:()=>o.YS,shallowRef:()=>o.XI,ssrContextKey:()=>o.Uc,ssrUtils:()=>o.G,stop:()=>o.sT,toDisplayString:()=>o.zw,toHandlerKey:()=>o.hR,toHandlers:()=>o.mx,toRaw:()=>o.IU,toRef:()=>o.Vh,toRefs:()=>o.BK,transformVNodeArgs:()=>o.C3,triggerRef:()=>o.oR,unref:()=>o.SU,useAttrs:()=>o.l1,useCssModule:()=>O,useCssVars:()=>x,useSSRContext:()=>o.Zq,useSlots:()=>o.Rr,useTransitionState:()=>o.Y8,vModelCheckbox:()=>ot,vModelDynamic:()=>ht,vModelRadio:()=>st,vModelSelect:()=>at,vModelText:()=>it,vShow:()=>vt,version:()=>o.i8,warn:()=>o.ZK,watch:()=>o.YP,watchEffect:()=>o.m0,watchPostEffect:()=>o.Rh,watchSyncEffect:()=>o.yX,withAsyncContext:()=>o.mv,withCtx:()=>o.w5,withDefaults:()=>o.b9,withDirectives:()=>o.wy,withKeys:()=>yt,withMemo:()=>o.MX,withModifiers:()=>mt,withScopeId:()=>o.HX});var i=n(3577),o=n(6252),r=n(2262);const s="undefined"!=typeof document?document:null,a=s&&s.createElement("template"),l={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,i)=>{const o=e?s.createElementNS("http://www.w3.org/2000/svg",t):s.createElement(t,n?{is:n}:void 0);return"select"===t&&i&&null!=i.multiple&&o.setAttribute("multiple",i.multiple),o},createText:t=>s.createTextNode(t),createComment:t=>s.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>s.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,i,o,r){const s=n?n.previousSibling:e.lastChild;if(o&&(o===r||o.nextSibling))for(;e.insertBefore(o.cloneNode(!0),n),o!==r&&(o=o.nextSibling););else{a.innerHTML=i?`<svg>${t}</svg>`:t;const o=a.content;if(i){const t=o.firstChild;for(;t.firstChild;)o.appendChild(t.firstChild);o.removeChild(t)}e.insertBefore(o,n)}return[s?s.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}};const c=/\s*!important$/;function u(t,e,n){if((0,i.isArray)(n))n.forEach((n=>u(t,e,n)));else if(null==n&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const o=function(t,e){const n=d[e];if(n)return n;let o=(0,i.camelize)(e);if("filter"!==o&&o in t)return d[e]=o;o=(0,i.capitalize)(o);for(let n=0;n<h.length;n++){const i=h[n]+o;if(i in t)return d[e]=i}return e}(t,e);c.test(n)?t.setProperty((0,i.hyphenate)(o),n.replace(c,""),"important"):t[o]=n}}const h=["Webkit","Moz","ms"],d={};const p="http://www.w3.org/1999/xlink";function f(t,e,n,i){t.addEventListener(e,n,i)}function g(t,e,n,r,s=null){const a=t._vei||(t._vei={}),l=a[e];if(r&&l)l.value=r;else{const[n,c]=function(t){let e;if(m.test(t)){let n;for(e={};n=t.match(m);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}const n=":"===t[2]?t.slice(3):(0,i.hyphenate)(t.slice(2));return[n,e]}(e);if(r){const l=a[e]=function(t,e){const n=t=>{if(t._vts){if(t._vts<=n.attached)return}else t._vts=Date.now();(0,o.$d)(function(t,e){if((0,i.isArray)(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map((t=>e=>!e._stopped&&t&&t(e)))}return e}(t,n.value),e,5,[t])};return n.value=t,n.attached=v(),n}(r,s);f(t,n,l,c)}else l&&(!function(t,e,n,i){t.removeEventListener(e,n,i)}(t,n,l,c),a[e]=void 0)}}const m=/(?:Once|Passive|Capture)$/;let _=0;const y=Promise.resolve(),v=()=>_||(y.then((()=>_=0)),_=Date.now());const C=/^on[a-z]/;function b(t,e){const n=(0,o.aZ)(t);class i extends w{constructor(t){super(n,t,e)}}return i.def=n,i}const E=t=>b(t,Pt),S="undefined"!=typeof HTMLElement?HTMLElement:class{};class w extends S{constructor(t,e={},n){super(),this._def=t,this._props=e,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&n?n(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,(0,o.Y3)((()=>{this._connected||(xt(null,this.shadowRoot),this._instance=null)}))}_resolveDef(){this._resolved=!0;for(let t=0;t<this.attributes.length;t++)this._setAttr(this.attributes[t].name);new MutationObserver((t=>{for(const e of t)this._setAttr(e.attributeName)})).observe(this,{attributes:!0});const t=(t,e=!1)=>{const{props:n,styles:o}=t;let r;if(n&&!(0,i.isArray)(n))for(const t in n){const e=n[t];(e===Number||e&&e.type===Number)&&(t in this._props&&(this._props[t]=(0,i.toNumber)(this._props[t])),(r||(r=Object.create(null)))[(0,i.camelize)(t)]=!0)}this._numberProps=r,e&&this._resolveProps(t),this._applyStyles(o),this._update()},e=this._def.__asyncLoader;e?e().then((e=>t(e,!0))):t(this._def)}_resolveProps(t){const{props:e}=t,n=(0,i.isArray)(e)?e:Object.keys(e||{});for(const t of Object.keys(this))"_"!==t[0]&&n.includes(t)&&this._setProp(t,this[t],!0,!1);for(const t of n.map(i.camelize))Object.defineProperty(this,t,{get(){return this._getProp(t)},set(e){this._setProp(t,e)}})}_setAttr(t){let e=this.getAttribute(t);const n=(0,i.camelize)(t);this._numberProps&&this._numberProps[n]&&(e=(0,i.toNumber)(e)),this._setProp(n,e,!1)}_getProp(t){return this._props[t]}_setProp(t,e,n=!0,o=!0){e!==this._props[t]&&(this._props[t]=e,o&&this._instance&&this._update(),n&&(!0===e?this.setAttribute((0,i.hyphenate)(t),""):"string"==typeof e||"number"==typeof e?this.setAttribute((0,i.hyphenate)(t),e+""):e||this.removeAttribute((0,i.hyphenate)(t))))}_update(){xt(this._createVNode(),this.shadowRoot)}_createVNode(){const t=(0,o.Wm)(this._def,(0,i.extend)({},this._props));return this._instance||(t.ce=t=>{this._instance=t,t.isCE=!0;const e=(t,e)=>{this.dispatchEvent(new CustomEvent(t,{detail:e}))};t.emit=(t,...n)=>{e(t,n),(0,i.hyphenate)(t)!==t&&e((0,i.hyphenate)(t),n)};let n=this;for(;n=n&&(n.parentNode||n.host);)if(n instanceof w){t.parent=n._instance,t.provides=n._instance.provides;break}}),t}_applyStyles(t){t&&t.forEach((t=>{const e=document.createElement("style");e.textContent=t,this.shadowRoot.appendChild(e)}))}}function O(t="$style"){{const e=(0,o.FN)();if(!e)return i.EMPTY_OBJ;const n=e.type.__cssModules;if(!n)return i.EMPTY_OBJ;const r=n[t];return r||i.EMPTY_OBJ}}function x(t){const e=(0,o.FN)();if(!e)return;const n=e.ut=(n=t(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach((t=>T(t,n)))},i=()=>{const i=t(e.proxy);P(e.subTree,i),n(i)};(0,o.Rh)(i),(0,o.bv)((()=>{const t=new MutationObserver(i);t.observe(e.subTree.el.parentNode,{childList:!0}),(0,o.Ah)((()=>t.disconnect()))}))}function P(t,e){if(128&t.shapeFlag){const n=t.suspense;t=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push((()=>{P(n.activeBranch,e)}))}for(;t.component;)t=t.component.subTree;if(1&t.shapeFlag&&t.el)T(t.el,e);else if(t.type===o.HY)t.children.forEach((t=>P(t,e)));else if(t.type===o.qG){let{el:n,anchor:i}=t;for(;n&&(T(n,e),n!==i);)n=n.nextSibling}}function T(t,e){if(1===t.nodeType){const n=t.style;for(const t in e)n.setProperty(`--${t}`,e[t])}}const M="transition",D="animation",R=(t,{slots:e})=>(0,o.h)(o.P$,N(t),e);R.displayName="Transition";const A={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},L=R.props=(0,i.extend)({},o.P$.props,A),I=(t,e=[])=>{(0,i.isArray)(t)?t.forEach((t=>t(...e))):t&&t(...e)},k=t=>!!t&&((0,i.isArray)(t)?t.some((t=>t.length>1)):t.length>1);function N(t){const e={};for(const n in t)n in A||(e[n]=t[n]);if(!1===t.css)return e;const{name:n="v",type:o,duration:r,enterFromClass:s=`${n}-enter-from`,enterActiveClass:a=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:c=s,appearActiveClass:u=a,appearToClass:h=l,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:p=`${n}-leave-active`,leaveToClass:f=`${n}-leave-to`}=t,g=function(t){if(null==t)return null;if((0,i.isObject)(t))return[F(t.enter),F(t.leave)];{const e=F(t);return[e,e]}}(r),m=g&&g[0],_=g&&g[1],{onBeforeEnter:y,onEnter:v,onEnterCancelled:C,onLeave:b,onLeaveCancelled:E,onBeforeAppear:S=y,onAppear:w=v,onAppearCancelled:O=C}=e,x=(t,e,n)=>{B(t,e?h:l),B(t,e?u:a),n&&n()},P=(t,e)=>{t._isLeaving=!1,B(t,d),B(t,f),B(t,p),e&&e()},T=t=>(e,n)=>{const i=t?w:v,r=()=>x(e,t,n);I(i,[e,r]),j((()=>{B(e,t?c:s),G(e,t?h:l),k(i)||V(e,o,m,r)}))};return(0,i.extend)(e,{onBeforeEnter(t){I(y,[t]),G(t,s),G(t,a)},onBeforeAppear(t){I(S,[t]),G(t,c),G(t,u)},onEnter:T(!1),onAppear:T(!0),onLeave(t,e){t._isLeaving=!0;const n=()=>P(t,e);G(t,d),z(),G(t,p),j((()=>{t._isLeaving&&(B(t,d),G(t,f),k(b)||V(t,o,_,n))})),I(b,[t,n])},onEnterCancelled(t){x(t,!1),I(C,[t])},onAppearCancelled(t){x(t,!0),I(O,[t])},onLeaveCancelled(t){P(t),I(E,[t])}})}function F(t){return(0,i.toNumber)(t)}function G(t,e){e.split(/\s+/).forEach((e=>e&&t.classList.add(e))),(t._vtc||(t._vtc=new Set)).add(e)}function B(t,e){e.split(/\s+/).forEach((e=>e&&t.classList.remove(e)));const{_vtc:n}=t;n&&(n.delete(e),n.size||(t._vtc=void 0))}function j(t){requestAnimationFrame((()=>{requestAnimationFrame(t)}))}let U=0;function V(t,e,n,i){const o=t._endId=++U,r=()=>{o===t._endId&&i()};if(n)return setTimeout(r,n);const{type:s,timeout:a,propCount:l}=W(t,e);if(!s)return i();const c=s+"end";let u=0;const h=()=>{t.removeEventListener(c,d),r()},d=e=>{e.target===t&&++u>=l&&h()};setTimeout((()=>{u<l&&h()}),a+1),t.addEventListener(c,d)}function W(t,e){const n=window.getComputedStyle(t),i=t=>(n[t]||"").split(", "),o=i(`${M}Delay`),r=i(`${M}Duration`),s=H(o,r),a=i(`${D}Delay`),l=i(`${D}Duration`),c=H(a,l);let u=null,h=0,d=0;e===M?s>0&&(u=M,h=s,d=r.length):e===D?c>0&&(u=D,h=c,d=l.length):(h=Math.max(s,c),u=h>0?s>c?M:D:null,d=u?u===M?r.length:l.length:0);return{type:u,timeout:h,propCount:d,hasTransform:u===M&&/\b(transform|all)(,|$)/.test(i(`${M}Property`).toString())}}function H(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map(((e,n)=>$(e)+$(t[n]))))}function $(t){return 1e3*Number(t.slice(0,-1).replace(",","."))}function z(){return document.body.offsetHeight}const K=new WeakMap,Y=new WeakMap,X={name:"TransitionGroup",props:(0,i.extend)({},L,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=(0,o.FN)(),i=(0,o.Y8)();let s,a;return(0,o.ic)((()=>{if(!s.length)return;const e=t.moveClass||`${t.name||"v"}-move`;if(!function(t,e,n){const i=t.cloneNode();t._vtc&&t._vtc.forEach((t=>{t.split(/\s+/).forEach((t=>t&&i.classList.remove(t)))}));n.split(/\s+/).forEach((t=>t&&i.classList.add(t))),i.style.display="none";const o=1===e.nodeType?e:e.parentNode;o.appendChild(i);const{hasTransform:r}=W(i);return o.removeChild(i),r}(s[0].el,n.vnode.el,e))return;s.forEach(Z),s.forEach(J);const i=s.filter(Q);z(),i.forEach((t=>{const n=t.el,i=n.style;G(n,e),i.transform=i.webkitTransform=i.transitionDuration="";const o=n._moveCb=t=>{t&&t.target!==n||t&&!/transform$/.test(t.propertyName)||(n.removeEventListener("transitionend",o),n._moveCb=null,B(n,e))};n.addEventListener("transitionend",o)}))})),()=>{const l=(0,r.IU)(t),c=N(l);let u=l.tag||o.HY;s=a,a=e.default?(0,o.Q6)(e.default()):[];for(let t=0;t<a.length;t++){const e=a[t];null!=e.key&&(0,o.nK)(e,(0,o.U2)(e,c,i,n))}if(s)for(let t=0;t<s.length;t++){const e=s[t];(0,o.nK)(e,(0,o.U2)(e,c,i,n)),K.set(e,e.el.getBoundingClientRect())}return(0,o.Wm)(u,null,a)}}},q=X;function Z(t){const e=t.el;e._moveCb&&e._moveCb(),e._enterCb&&e._enterCb()}function J(t){Y.set(t,t.el.getBoundingClientRect())}function Q(t){const e=K.get(t),n=Y.get(t),i=e.left-n.left,o=e.top-n.top;if(i||o){const e=t.el.style;return e.transform=e.webkitTransform=`translate(${i}px,${o}px)`,e.transitionDuration="0s",t}}const tt=t=>{const e=t.props["onUpdate:modelValue"]||!1;return(0,i.isArray)(e)?t=>(0,i.invokeArrayFns)(e,t):e};function et(t){t.target.composing=!0}function nt(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const it={created(t,{modifiers:{lazy:e,trim:n,number:o}},r){t._assign=tt(r);const s=o||r.props&&"number"===r.props.type;f(t,e?"change":"input",(e=>{if(e.target.composing)return;let o=t.value;n&&(o=o.trim()),s&&(o=(0,i.looseToNumber)(o)),t._assign(o)})),n&&f(t,"change",(()=>{t.value=t.value.trim()})),e||(f(t,"compositionstart",et),f(t,"compositionend",nt),f(t,"change",nt))},mounted(t,{value:e}){t.value=null==e?"":e},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:o,number:r}},s){if(t._assign=tt(s),t.composing)return;if(document.activeElement===t&&"range"!==t.type){if(n)return;if(o&&t.value.trim()===e)return;if((r||"number"===t.type)&&(0,i.looseToNumber)(t.value)===e)return}const a=null==e?"":e;t.value!==a&&(t.value=a)}},ot={deep:!0,created(t,e,n){t._assign=tt(n),f(t,"change",(()=>{const e=t._modelValue,n=ct(t),o=t.checked,r=t._assign;if((0,i.isArray)(e)){const t=(0,i.looseIndexOf)(e,n),s=-1!==t;if(o&&!s)r(e.concat(n));else if(!o&&s){const n=[...e];n.splice(t,1),r(n)}}else if((0,i.isSet)(e)){const t=new Set(e);o?t.add(n):t.delete(n),r(t)}else r(ut(t,o))}))},mounted:rt,beforeUpdate(t,e,n){t._assign=tt(n),rt(t,e,n)}};function rt(t,{value:e,oldValue:n},o){t._modelValue=e,(0,i.isArray)(e)?t.checked=(0,i.looseIndexOf)(e,o.props.value)>-1:(0,i.isSet)(e)?t.checked=e.has(o.props.value):e!==n&&(t.checked=(0,i.looseEqual)(e,ut(t,!0)))}const st={created(t,{value:e},n){t.checked=(0,i.looseEqual)(e,n.props.value),t._assign=tt(n),f(t,"change",(()=>{t._assign(ct(t))}))},beforeUpdate(t,{value:e,oldValue:n},o){t._assign=tt(o),e!==n&&(t.checked=(0,i.looseEqual)(e,o.props.value))}},at={deep:!0,created(t,{value:e,modifiers:{number:n}},o){const r=(0,i.isSet)(e);f(t,"change",(()=>{const e=Array.prototype.filter.call(t.options,(t=>t.selected)).map((t=>n?(0,i.looseToNumber)(ct(t)):ct(t)));t._assign(t.multiple?r?new Set(e):e:e[0])})),t._assign=tt(o)},mounted(t,{value:e}){lt(t,e)},beforeUpdate(t,e,n){t._assign=tt(n)},updated(t,{value:e}){lt(t,e)}};function lt(t,e){const n=t.multiple;if(!n||(0,i.isArray)(e)||(0,i.isSet)(e)){for(let o=0,r=t.options.length;o<r;o++){const r=t.options[o],s=ct(r);if(n)(0,i.isArray)(e)?r.selected=(0,i.looseIndexOf)(e,s)>-1:r.selected=e.has(s);else if((0,i.looseEqual)(ct(r),e))return void(t.selectedIndex!==o&&(t.selectedIndex=o))}n||-1===t.selectedIndex||(t.selectedIndex=-1)}}function ct(t){return"_value"in t?t._value:t.value}function ut(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const ht={created(t,e,n){pt(t,e,n,null,"created")},mounted(t,e,n){pt(t,e,n,null,"mounted")},beforeUpdate(t,e,n,i){pt(t,e,n,i,"beforeUpdate")},updated(t,e,n,i){pt(t,e,n,i,"updated")}};function dt(t,e){switch(t){case"SELECT":return at;case"TEXTAREA":return it;default:switch(e){case"checkbox":return ot;case"radio":return st;default:return it}}}function pt(t,e,n,i,o){const r=dt(t.tagName,n.props&&n.props.type)[o];r&&r(t,e,n,i)}const ft=["ctrl","shift","alt","meta"],gt={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&0!==t.button,middle:t=>"button"in t&&1!==t.button,right:t=>"button"in t&&2!==t.button,exact:(t,e)=>ft.some((n=>t[`${n}Key`]&&!e.includes(n)))},mt=(t,e)=>(n,...i)=>{for(let t=0;t<e.length;t++){const i=gt[e[t]];if(i&&i(n,e))return}return t(n,...i)},_t={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},yt=(t,e)=>n=>{if(!("key"in n))return;const o=(0,i.hyphenate)(n.key);return e.some((t=>t===o||_t[t]===o))?t(n):void 0},vt={beforeMount(t,{value:e},{transition:n}){t._vod="none"===t.style.display?"":t.style.display,n&&e?n.beforeEnter(t):Ct(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:i}){!e!=!n&&(i?e?(i.beforeEnter(t),Ct(t,!0),i.enter(t)):i.leave(t,(()=>{Ct(t,!1)})):Ct(t,e))},beforeUnmount(t,{value:e}){Ct(t,e)}};function Ct(t,e){t.style.display=e?t._vod:"none"}const bt=(0,i.extend)({patchProp:(t,e,n,o,r=!1,s,a,l,c)=>{"class"===e?function(t,e,n){const i=t._vtc;i&&(e=(e?[e,...i]:[...i]).join(" ")),null==e?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}(t,o,r):"style"===e?function(t,e,n){const o=t.style,r=(0,i.isString)(n);if(n&&!r){if(e&&!(0,i.isString)(e))for(const t in e)null==n[t]&&u(o,t,"");for(const t in n)u(o,t,n[t])}else{const i=o.display;r?e!==n&&(o.cssText=n):e&&t.removeAttribute("style"),"_vod"in t&&(o.display=i)}}(t,n,o):(0,i.isOn)(e)?(0,i.isModelListener)(e)||g(t,e,0,o,a):("."===e[0]?(e=e.slice(1),1):"^"===e[0]?(e=e.slice(1),0):function(t,e,n,o){if(o)return"innerHTML"===e||"textContent"===e||!!(e in t&&C.test(e)&&(0,i.isFunction)(n));if("spellcheck"===e||"draggable"===e||"translate"===e)return!1;if("form"===e)return!1;if("list"===e&&"INPUT"===t.tagName)return!1;if("type"===e&&"TEXTAREA"===t.tagName)return!1;if(C.test(e)&&(0,i.isString)(n))return!1;return e in t}(t,e,o,r))?function(t,e,n,o,r,s,a){if("innerHTML"===e||"textContent"===e)return o&&a(o,r,s),void(t[e]=null==n?"":n);if("value"===e&&"PROGRESS"!==t.tagName&&!t.tagName.includes("-")){t._value=n;const i=null==n?"":n;return t.value===i&&"OPTION"!==t.tagName||(t.value=i),void(null==n&&t.removeAttribute(e))}let l=!1;if(""===n||null==n){const o=typeof t[e];"boolean"===o?n=(0,i.includeBooleanAttr)(n):null==n&&"string"===o?(n="",l=!0):"number"===o&&(n=0,l=!0)}try{t[e]=n}catch(t){}l&&t.removeAttribute(e)}(t,e,o,s,a,l,c):("true-value"===e?t._trueValue=o:"false-value"===e&&(t._falseValue=o),function(t,e,n,o,r){if(o&&e.startsWith("xlink:"))null==n?t.removeAttributeNS(p,e.slice(6,e.length)):t.setAttributeNS(p,e,n);else{const o=(0,i.isSpecialBooleanAttr)(e);null==n||o&&!(0,i.includeBooleanAttr)(n)?t.removeAttribute(e):t.setAttribute(e,o?"":n)}}(t,e,o,r))}},l);let Et,St=!1;function wt(){return Et||(Et=(0,o.Us)(bt))}function Ot(){return Et=St?Et:(0,o.Eo)(bt),St=!0,Et}const xt=(...t)=>{wt().render(...t)},Pt=(...t)=>{Ot().hydrate(...t)},Tt=(...t)=>{const e=wt().createApp(...t);const{mount:n}=e;return e.mount=t=>{const o=Dt(t);if(!o)return;const r=e._component;(0,i.isFunction)(r)||r.render||r.template||(r.template=o.innerHTML),o.innerHTML="";const s=n(o,!1,o instanceof SVGElement);return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),s},e},Mt=(...t)=>{const e=Ot().createApp(...t);const{mount:n}=e;return e.mount=t=>{const e=Dt(t);if(e)return n(e,!0,e instanceof SVGElement)},e};function Dt(t){if((0,i.isString)(t)){return document.querySelector(t)}return t}let Rt=!1;const At=()=>{Rt||(Rt=!0,it.getSSRProps=({value:t})=>({value:t}),st.getSSRProps=({value:t},e)=>{if(e.props&&(0,i.looseEqual)(e.props.value,t))return{checked:!0}},ot.getSSRProps=({value:t},e)=>{if((0,i.isArray)(t)){if(e.props&&(0,i.looseIndexOf)(t,e.props.value)>-1)return{checked:!0}}else if((0,i.isSet)(t)){if(e.props&&t.has(e.props.value))return{checked:!0}}else if(t)return{checked:!0}},ht.getSSRProps=(t,e)=>{if("string"!=typeof e.type)return;const n=dt(e.type.toUpperCase(),e.props&&e.props.type);return n.getSSRProps?n.getSSRProps(t,e):void 0},vt.getSSRProps=({value:t})=>{if(!t)return{style:{display:"none"}}})}},3577:(t,e,n)=>{"use strict";function i(t,e){const n=Object.create(null),i=t.split(",");for(let t=0;t<i.length;t++)n[i[t]]=!0;return e?t=>!!n[t.toLowerCase()]:t=>!!n[t]}n.r(e),n.d(e,{EMPTY_ARR:()=>B,EMPTY_OBJ:()=>G,NO:()=>U,NOOP:()=>j,PatchFlagNames:()=>o,camelize:()=>ft,capitalize:()=>_t,def:()=>bt,escapeHtml:()=>R,escapeHtmlComment:()=>L,extend:()=>$,genPropsAccessExp:()=>Pt,generateCodeFrame:()=>l,getGlobalThis:()=>Ot,hasChanged:()=>vt,hasOwn:()=>Y,hyphenate:()=>mt,includeBooleanAttr:()=>S,invokeArrayFns:()=>Ct,isArray:()=>X,isBooleanAttr:()=>E,isBuiltInDirective:()=>ht,isDate:()=>J,isFunction:()=>tt,isGloballyWhitelisted:()=>s,isHTMLTag:()=>_,isIntegerKey:()=>ct,isKnownHtmlAttr:()=>T,isKnownSvgAttr:()=>M,isMap:()=>q,isModelListener:()=>H,isObject:()=>it,isOn:()=>W,isPlainObject:()=>lt,isPromise:()=>ot,isRegExp:()=>Q,isReservedProp:()=>ut,isSSRSafeAttrName:()=>x,isSVGTag:()=>y,isSet:()=>Z,isSpecialBooleanAttr:()=>b,isString:()=>et,isSymbol:()=>nt,isVoidTag:()=>v,looseEqual:()=>I,looseIndexOf:()=>k,looseToNumber:()=>Et,makeMap:()=>i,normalizeClass:()=>g,normalizeProps:()=>m,normalizeStyle:()=>c,objectToString:()=>rt,parseStringStyle:()=>p,propsToAttrMap:()=>P,remove:()=>z,slotFlagsText:()=>r,stringifyStyle:()=>f,toDisplayString:()=>N,toHandlerKey:()=>yt,toNumber:()=>St,toRawType:()=>at,toTypeString:()=>st});const o={1:"TEXT",2:"CLASS",4:"STYLE",8:"PROPS",16:"FULL_PROPS",32:"HYDRATE_EVENTS",64:"STABLE_FRAGMENT",128:"KEYED_FRAGMENT",256:"UNKEYED_FRAGMENT",512:"NEED_PATCH",1024:"DYNAMIC_SLOTS",2048:"DEV_ROOT_FRAGMENT",[-1]:"HOISTED",[-2]:"BAIL"},r={1:"STABLE",2:"DYNAMIC",3:"FORWARDED"},s=i("Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt"),a=2;function l(t,e=0,n=t.length){let i=t.split(/(\r?\n)/);const o=i.filter(((t,e)=>e%2==1));i=i.filter(((t,e)=>e%2==0));let r=0;const s=[];for(let t=0;t<i.length;t++)if(r+=i[t].length+(o[t]&&o[t].length||0),r>=e){for(let l=t-a;l<=t+a||n>r;l++){if(l<0||l>=i.length)continue;const a=l+1;s.push(`${a}${" ".repeat(Math.max(3-String(a).length,0))}|  ${i[l]}`);const c=i[l].length,u=o[l]&&o[l].length||0;if(l===t){const t=e-(r-(c+u)),i=Math.max(1,n>r?c-t:n-e);s.push("   |  "+" ".repeat(t)+"^".repeat(i))}else if(l>t){if(n>r){const t=Math.max(Math.min(n-r,c),1);s.push("   |  "+"^".repeat(t))}r+=c+u}}break}return s.join("\n")}function c(t){if(X(t)){const e={};for(let n=0;n<t.length;n++){const i=t[n],o=et(i)?p(i):c(i);if(o)for(const t in o)e[t]=o[t]}return e}return et(t)||it(t)?t:void 0}const u=/;(?![^(]*\))/g,h=/:([^]+)/,d=/\/\*.*?\*\//gs;function p(t){const e={};return t.replace(d,"").split(u).forEach((t=>{if(t){const n=t.split(h);n.length>1&&(e[n[0].trim()]=n[1].trim())}})),e}function f(t){let e="";if(!t||et(t))return e;for(const n in t){const i=t[n],o=n.startsWith("--")?n:mt(n);(et(i)||"number"==typeof i)&&(e+=`${o}:${i};`)}return e}function g(t){let e="";if(et(t))e=t;else if(X(t))for(let n=0;n<t.length;n++){const i=g(t[n]);i&&(e+=i+" ")}else if(it(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function m(t){if(!t)return null;let{class:e,style:n}=t;return e&&!et(e)&&(t.class=g(e)),n&&(t.style=c(n)),t}const _=i("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot"),y=i("svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view"),v=i("area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr"),C="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",b=i(C),E=i(C+",async,autofocus,autoplay,controls,default,defer,disabled,hidden,loop,open,required,reversed,scoped,seamless,checked,muted,multiple,selected");function S(t){return!!t||""===t}const w=/[>/="'\u0009\u000a\u000c\u0020]/,O={};function x(t){if(O.hasOwnProperty(t))return O[t];const e=w.test(t);return e&&console.error(`unsafe attribute name: ${t}`),O[t]=!e}const P={acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},T=i("accept,accept-charset,accesskey,action,align,allow,alt,async,autocapitalize,autocomplete,autofocus,autoplay,background,bgcolor,border,buffered,capture,challenge,charset,checked,cite,class,code,codebase,color,cols,colspan,content,contenteditable,contextmenu,controls,coords,crossorigin,csp,data,datetime,decoding,default,defer,dir,dirname,disabled,download,draggable,dropzone,enctype,enterkeyhint,for,form,formaction,formenctype,formmethod,formnovalidate,formtarget,headers,height,hidden,high,href,hreflang,http-equiv,icon,id,importance,integrity,ismap,itemprop,keytype,kind,label,lang,language,loading,list,loop,low,manifest,max,maxlength,minlength,media,min,multiple,muted,name,novalidate,open,optimum,pattern,ping,placeholder,poster,preload,radiogroup,readonly,referrerpolicy,rel,required,reversed,rows,rowspan,sandbox,scope,scoped,selected,shape,size,sizes,slot,span,spellcheck,src,srcdoc,srclang,srcset,start,step,style,summary,tabindex,target,title,translate,type,usemap,value,width,wrap"),M=i("xmlns,accent-height,accumulate,additive,alignment-baseline,alphabetic,amplitude,arabic-form,ascent,attributeName,attributeType,azimuth,baseFrequency,baseline-shift,baseProfile,bbox,begin,bias,by,calcMode,cap-height,class,clip,clipPathUnits,clip-path,clip-rule,color,color-interpolation,color-interpolation-filters,color-profile,color-rendering,contentScriptType,contentStyleType,crossorigin,cursor,cx,cy,d,decelerate,descent,diffuseConstant,direction,display,divisor,dominant-baseline,dur,dx,dy,edgeMode,elevation,enable-background,end,exponent,fill,fill-opacity,fill-rule,filter,filterRes,filterUnits,flood-color,flood-opacity,font-family,font-size,font-size-adjust,font-stretch,font-style,font-variant,font-weight,format,from,fr,fx,fy,g1,g2,glyph-name,glyph-orientation-horizontal,glyph-orientation-vertical,glyphRef,gradientTransform,gradientUnits,hanging,height,href,hreflang,horiz-adv-x,horiz-origin-x,id,ideographic,image-rendering,in,in2,intercept,k,k1,k2,k3,k4,kernelMatrix,kernelUnitLength,kerning,keyPoints,keySplines,keyTimes,lang,lengthAdjust,letter-spacing,lighting-color,limitingConeAngle,local,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mask,maskContentUnits,maskUnits,mathematical,max,media,method,min,mode,name,numOctaves,offset,opacity,operator,order,orient,orientation,origin,overflow,overline-position,overline-thickness,panose-1,paint-order,path,pathLength,patternContentUnits,patternTransform,patternUnits,ping,pointer-events,points,pointsAtX,pointsAtY,pointsAtZ,preserveAlpha,preserveAspectRatio,primitiveUnits,r,radius,referrerPolicy,refX,refY,rel,rendering-intent,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,result,rotate,rx,ry,scale,seed,shape-rendering,slope,spacing,specularConstant,specularExponent,speed,spreadMethod,startOffset,stdDeviation,stemh,stemv,stitchTiles,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,string,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,style,surfaceScale,systemLanguage,tabindex,tableValues,target,targetX,targetY,text-anchor,text-decoration,text-rendering,textLength,to,transform,transform-origin,type,u1,u2,underline-position,underline-thickness,unicode,unicode-bidi,unicode-range,units-per-em,v-alphabetic,v-hanging,v-ideographic,v-mathematical,values,vector-effect,version,vert-adv-y,vert-origin-x,vert-origin-y,viewBox,viewTarget,visibility,width,widths,word-spacing,writing-mode,x,x-height,x1,x2,xChannelSelector,xlink:actuate,xlink:arcrole,xlink:href,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,y,y1,y2,yChannelSelector,z,zoomAndPan"),D=/["'&<>]/;function R(t){const e=""+t,n=D.exec(e);if(!n)return e;let i,o,r="",s=0;for(o=n.index;o<e.length;o++){switch(e.charCodeAt(o)){case 34:i="&quot;";break;case 38:i="&amp;";break;case 39:i="&#39;";break;case 60:i="&lt;";break;case 62:i="&gt;";break;default:continue}s!==o&&(r+=e.slice(s,o)),s=o+1,r+=i}return s!==o?r+e.slice(s,o):r}const A=/^-?>|<!--|-->|--!>|<!-$/g;function L(t){return t.replace(A,"")}function I(t,e){if(t===e)return!0;let n=J(t),i=J(e);if(n||i)return!(!n||!i)&&t.getTime()===e.getTime();if(n=nt(t),i=nt(e),n||i)return t===e;if(n=X(t),i=X(e),n||i)return!(!n||!i)&&function(t,e){if(t.length!==e.length)return!1;let n=!0;for(let i=0;n&&i<t.length;i++)n=I(t[i],e[i]);return n}(t,e);if(n=it(t),i=it(e),n||i){if(!n||!i)return!1;if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t){const i=t.hasOwnProperty(n),o=e.hasOwnProperty(n);if(i&&!o||!i&&o||!I(t[n],e[n]))return!1}}return String(t)===String(e)}function k(t,e){return t.findIndex((t=>I(t,e)))}const N=t=>et(t)?t:null==t?"":X(t)||it(t)&&(t.toString===rt||!tt(t.toString))?JSON.stringify(t,F,2):String(t),F=(t,e)=>e&&e.__v_isRef?F(t,e.value):q(e)?{[`Map(${e.size})`]:[...e.entries()].reduce(((t,[e,n])=>(t[`${e} =>`]=n,t)),{})}:Z(e)?{[`Set(${e.size})`]:[...e.values()]}:!it(e)||X(e)||lt(e)?e:String(e),G={},B=[],j=()=>{},U=()=>!1,V=/^on[^a-z]/,W=t=>V.test(t),H=t=>t.startsWith("onUpdate:"),$=Object.assign,z=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},K=Object.prototype.hasOwnProperty,Y=(t,e)=>K.call(t,e),X=Array.isArray,q=t=>"[object Map]"===st(t),Z=t=>"[object Set]"===st(t),J=t=>"[object Date]"===st(t),Q=t=>"[object RegExp]"===st(t),tt=t=>"function"==typeof t,et=t=>"string"==typeof t,nt=t=>"symbol"==typeof t,it=t=>null!==t&&"object"==typeof t,ot=t=>it(t)&&tt(t.then)&&tt(t.catch),rt=Object.prototype.toString,st=t=>rt.call(t),at=t=>st(t).slice(8,-1),lt=t=>"[object Object]"===st(t),ct=t=>et(t)&&"NaN"!==t&&"-"!==t[0]&&""+parseInt(t,10)===t,ut=i(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ht=i("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),dt=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},pt=/-(\w)/g,ft=dt((t=>t.replace(pt,((t,e)=>e?e.toUpperCase():"")))),gt=/\B([A-Z])/g,mt=dt((t=>t.replace(gt,"-$1").toLowerCase())),_t=dt((t=>t.charAt(0).toUpperCase()+t.slice(1))),yt=dt((t=>t?`on${_t(t)}`:"")),vt=(t,e)=>!Object.is(t,e),Ct=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},bt=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},Et=t=>{const e=parseFloat(t);return isNaN(e)?t:e},St=t=>{const e=et(t)?Number(t):NaN;return isNaN(e)?t:e};let wt;const Ot=()=>wt||(wt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n.g?n.g:{}),xt=/^[_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*$/;function Pt(t){return xt.test(t)?`__props.${t}`:`__props[${JSON.stringify(t)}]`}},1731:(t,e,n)=>{"use strict";function i(t){return null==t||""===t?null:t}function o(t,e){return void 0===e&&(e=!1),null!=t&&(""!==t||e)}function r(t){return!o(t)}function s(t){return null==t||0===t.length}function a(t){return null!=t&&"function"==typeof t.toString?t.toString():null}function l(t){if(void 0!==t){if(null===t||""===t)return null;if("number"==typeof t)return isNaN(t)?void 0:t;var e=parseInt(t,10);return isNaN(e)?void 0:e}}function c(t){if(void 0!==t)return null!==t&&""!==t&&("boolean"==typeof t?t:/true/i.test(t))}function u(t){if(t instanceof Set||t instanceof Map){var e=[];return t.forEach((function(t){return e.push(t)})),e}return Object.values(t)}n.d(e,{$j7:()=>W,$zI:()=>Hd,AGU:()=>No,AS9:()=>jt,BxR:()=>Pd,CPJ:()=>sp,Cvn:()=>Qa,D_6:()=>To,Dkq:()=>Xh,EHG:()=>o_,Ekq:()=>Il,F$j:()=>r_,FXL:()=>$,FiY:()=>Y,Fxk:()=>Ss,GXE:()=>J,Gxm:()=>Lo,H1u:()=>vd,IFn:()=>Xm,INo:()=>xr,IUB:()=>e_,J8Z:()=>Uo,KTm:()=>ht,LQq:()=>ir,Lm6:()=>ll,MQo:()=>Ho,Nk3:()=>Xg,NlK:()=>Zh,NqP:()=>H,O3h:()=>it,O_3:()=>Rd,POd:()=>et,QVL:()=>Br,Qk6:()=>vh,RXH:()=>ss,StC:()=>cl,VDZ:()=>Vi,Vu6:()=>z,WD6:()=>yh,WKU:()=>Wm,WU2:()=>Jg,YaM:()=>Jm,ZST:()=>Bo,_:()=>no,aCu:()=>cm,aVm:()=>Hm,at1:()=>io,cqo:()=>mo,d2Z:()=>Qg,eHy:()=>ge,fKL:()=>ed,fQL:()=>eu,fsG:()=>K,h7_:()=>md,hhW:()=>qg,jMC:()=>Qm,jUB:()=>As,j_S:()=>ro,jkc:()=>er,nN0:()=>cd,nPL:()=>Rs,plv:()=>Qt,rjZ:()=>Kg,rvo:()=>Ar,rwP:()=>Xr,sJC:()=>Fd,sO1:()=>Zg,sgG:()=>ct,vA3:()=>cp,wA2:()=>go,wGv:()=>qo,wSp:()=>jd,z0n:()=>Vm,zW2:()=>zt});var h=Object.freeze({__proto__:null,makeNull:i,exists:o,missing:r,missingOrEmpty:s,toStringOrNull:a,attrToNumber:l,attrToBoolean:c,attrToString:function(t){if(null!=t&&""!==t)return t},referenceCompare:function(t,e){return null==t&&null==e||(null!=t||null==e)&&((null==t||null!=e)&&t===e)},jsonEquals:function(t,e){return(t?JSON.stringify(t):null)===(e?JSON.stringify(e):null)},defaultComparator:function(t,e,n){void 0===n&&(n=!1);var i=null==t,o=null==e;if(t&&t.toNumber&&(t=t.toNumber()),e&&e.toNumber&&(e=e.toNumber()),i&&o)return 0;if(i)return-1;if(o)return 1;function r(t,e){return t>e?1:t<e?-1:0}if("string"!=typeof t)return r(t,e);if(!n)return r(t,e);try{return t.localeCompare(e)}catch(n){return r(t,e)}},values:u}),d=function(){function t(){this.existingKeys={}}return t.prototype.addExistingKeys=function(t){for(var e=0;e<t.length;e++)this.existingKeys[t[e]]=!0},t.prototype.getUniqueKey=function(t,e){t=a(t);for(var n=0;;){var i=void 0;if(t?(i=t,0!==n&&(i+="_"+n)):e?(i=e,0!==n&&(i+="_"+n)):i=""+n,!this.existingKeys[i])return this.existingKeys[i]=!0,i;n++}},t}();function p(t,e){null!=t&&(Array.isArray(t)?t.forEach((function(t,n){return e(""+n,t)})):Object.keys(t).forEach((function(n){return e(n,t[n])})))}function f(t){for(var e={},n=Object.keys(t),i=0;i<n.length;i++){var o=n[i],r=t[o];e[o]=r}return e}function g(t,e){if(t){var n=t,i={};return Object.keys(n).forEach((function(t){if(!(e&&e.indexOf(t)>=0)){var o=n[t],r=w(o)&&o.constructor===Object;i[t]=r?g(o):o}})),i}}function m(t,e){return t[e]}function _(t,e,n){t[e]=n}function y(t,e,n,i){var o=m(t,n);void 0!==o&&_(e,n,i?i(o):o)}function v(t){var e={};return t.filter((function(t){return null!=t})).forEach((function(t){Object.keys(t).forEach((function(t){return e[t]=null}))})),Object.keys(e)}function C(t){if(!t)return[];var e=Object;if("function"==typeof e.values)return e.values(t);var n=[];for(var i in t)t.hasOwnProperty(i)&&t.propertyIsEnumerable(i)&&n.push(t[i]);return n}function b(t,e,n,i){void 0===n&&(n=!0),void 0===i&&(i=!1),o(e)&&p(e,(function(e,o){var r=t[e];if(r!==o){if(i)if(null==r&&null!=o)"object"==typeof o&&o.constructor===Object&&(r={},t[e]=r);w(o)&&w(r)&&!Array.isArray(r)?b(r,o,n,i):(n||void 0!==o)&&(t[e]=o)}}))}function E(t,e,n){if(e&&t){if(!n)return t[e];for(var i=e.split("."),o=t,r=0;r<i.length;r++){if(null==o)return;o=o[i[r]]}return o}}function S(t,e){Object.keys(t).forEach((function(e){"object"==typeof t[e]&&(t[e]=void 0)}));var n=Object.getPrototypeOf(t),i={};Object.keys(n).forEach((function(t){if("function"==typeof n[t]){i[t]={value:function(){console.warn("AG Grid: "+e+" function "+t+"() cannot be called as the grid has been destroyed.\n                     Please don't call grid API functions on destroyed grids - as a matter of fact you shouldn't\n                     be keeping the API reference, your application has a memory leak! Remove the API reference\n                     when the grid is destroyed.")},writable:!0}}})),Object.defineProperties(t,i)}function w(t){return"object"==typeof t&&null!==t}var O=Object.freeze({__proto__:null,iterateObject:p,cloneObject:f,deepCloneObject:function(t){return JSON.parse(JSON.stringify(t))},deepCloneDefinition:g,getProperty:m,setProperty:_,copyPropertiesIfPresent:function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];n.forEach((function(n){return y(t,e,n)}))},copyPropertyIfPresent:y,getAllKeysInObjects:v,getAllValuesInObject:C,mergeDeep:b,missingOrEmptyObject:function(t){return r(t)||0===Object.keys(t).length},get:function(t,e,n){if(null==t)return n;for(var i=e.split("."),o=t;i.length>1;)if(null==(o=o[i.shift()]))return n;var r=o[i[0]];return null!=r?r:n},set:function(t,e,n){if(null!=t){var i=e.split("."),o=t;i.forEach((function(t,e){o[t]||(o[t]={}),e<i.length-1&&(o=o[t])})),o[i[i.length-1]]=n}},getValueUsingField:E,removeAllReferences:S,isNonNullObject:w}),x={};function P(t,e){x[e]||(t(),x[e]=!0)}function T(t){if(t.name)return t.name;var e=/function\s+([^\(]+)/.exec(t.toString());return e&&2===e.length?e[1].trim():null}function M(t){return!!(t&&t.constructor&&t.call&&t.apply)}function D(t){I(t,400)}var R=[],A=!1;function L(t){R.push(t),A||(A=!0,window.setTimeout((function(){var t=R.slice();R.length=0,A=!1,t.forEach((function(t){return t()}))}),0))}function I(t,e){void 0===e&&(e=0),t.length>0&&window.setTimeout((function(){return t.forEach((function(t){return t()}))}),e)}function k(t,e){var n;return function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];var r=this;window.clearTimeout(n),n=window.setTimeout((function(){t.apply(r,i)}),e)}}function N(t,e){var n=0;return function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];var r=(new Date).getTime();r-n<e||(n=r,t.apply(this,i))}}function F(t,e,n,i){void 0===n&&(n=100);var o=(new Date).getTime(),r=null,s=!1,a=function(){var a=(new Date).getTime()-o>n;(t()||a)&&(e(),s=!0,null!=r&&(window.clearInterval(r),r=null),a&&i&&console.warn(i))};a(),s||(r=window.setInterval(a,10))}function G(t){t&&t()}var B=Object.freeze({__proto__:null,doOnce:P,getFunctionName:T,isFunction:M,executeInAWhile:D,executeNextVMTurn:L,executeAfter:I,debounce:k,throttle:N,waitUntil:F,compose:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return t.reduce((function(t,e){return e(t)}),e)}},callIfPresent:G,noop:function(){}}),j=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},U=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(j(arguments[e]));return t},V=function(){function t(t,e){if(this.beanWrappers={},this.destroyed=!1,t&&t.beanClasses){this.contextParams=t,this.logger=e,this.logger.log(">> creating ag-Application Context"),this.createBeans();var n=this.getBeanInstances();this.wireBeans(n),this.logger.log(">> ag-Application Context ready - component is alive")}}return t.prototype.getBeanInstances=function(){return u(this.beanWrappers).map((function(t){return t.beanInstance}))},t.prototype.createBean=function(t,e){if(!t)throw Error("Can't wire to bean since it is null");return this.wireBeans([t],e),t},t.prototype.wireBeans=function(t,e){this.autoWireBeans(t),this.methodWireBeans(t),this.callLifeCycleMethods(t,"preConstructMethods"),o(e)&&t.forEach(e),this.callLifeCycleMethods(t,"postConstructMethods")},t.prototype.createBeans=function(){var t=this;this.contextParams.beanClasses.forEach(this.createBeanWrapper.bind(this)),p(this.beanWrappers,(function(e,n){var i;n.bean.__agBeanMetaData&&n.bean.__agBeanMetaData.autowireMethods&&n.bean.__agBeanMetaData.autowireMethods.agConstructor&&(i=n.bean.__agBeanMetaData.autowireMethods.agConstructor);var o=t.getBeansForParameters(i,n.bean.name),r=new(n.bean.bind.apply(n.bean,U([null],o)));n.beanInstance=r}));var e=Object.keys(this.beanWrappers).join(", ");this.logger.log("created beans: "+e)},t.prototype.createBeanWrapper=function(t){var e=t.__agBeanMetaData;if(!e){var n=void 0;return n=t.prototype.constructor?T(t.prototype.constructor):""+t,void console.error("Context item "+n+" is not a bean")}var i={bean:t,beanInstance:null,beanName:e.beanName};this.beanWrappers[e.beanName]=i},t.prototype.autoWireBeans=function(t){var e=this;t.forEach((function(t){e.forEachMetaDataInHierarchy(t,(function(n,i){var o=n.agClassAttributes;o&&o.forEach((function(n){var o=e.lookupBeanInstance(i,n.beanName,n.optional);t[n.attributeName]=o}))}))}))},t.prototype.methodWireBeans=function(t){var e=this;t.forEach((function(t){e.forEachMetaDataInHierarchy(t,(function(n,i){p(n.autowireMethods,(function(n,o){if("agConstructor"!==n){var r=e.getBeansForParameters(o,i);t[n].apply(t,r)}}))}))}))},t.prototype.forEachMetaDataInHierarchy=function(t,e){for(var n=Object.getPrototypeOf(t);null!=n;){var i=n.constructor;if(i.hasOwnProperty("__agBeanMetaData"))e(i.__agBeanMetaData,this.getBeanName(i));n=Object.getPrototypeOf(n)}},t.prototype.getBeanName=function(t){if(t.__agBeanMetaData&&t.__agBeanMetaData.beanName)return t.__agBeanMetaData.beanName;var e=t.toString();return e.substring(9,e.indexOf("("))},t.prototype.getBeansForParameters=function(t,e){var n=this,i=[];return t&&p(t,(function(t,o){var r=n.lookupBeanInstance(e,o);i[Number(t)]=r})),i},t.prototype.lookupBeanInstance=function(t,e,n){if(void 0===n&&(n=!1),"context"===e)return this;if(this.contextParams.providedBeanInstances&&this.contextParams.providedBeanInstances.hasOwnProperty(e))return this.contextParams.providedBeanInstances[e];var i=this.beanWrappers[e];return i?i.beanInstance:(n||console.error("AG Grid: unable to find bean reference "+e+" while initialising "+t),null)},t.prototype.callLifeCycleMethods=function(t,e){var n=this;t.forEach((function(t){return n.callLifeCycleMethodsOnBean(t,e)}))},t.prototype.callLifeCycleMethodsOnBean=function(t,e,n){var i={};this.forEachMetaDataInHierarchy(t,(function(t){var o=t[e];o&&o.forEach((function(t){t!=n&&(i[t]=!0)}))})),Object.keys(i).forEach((function(e){return t[e]()}))},t.prototype.getBean=function(t){return this.lookupBeanInstance("getBean",t,!0)},t.prototype.destroy=function(){if(!this.destroyed){this.logger.log(">> Shutting down ag-Application Context");var t=this.getBeanInstances();this.destroyBeans(t),this.contextParams.providedBeanInstances=null,this.destroyed=!0,this.logger.log(">> ag-Application Context shut down - component is dead")}},t.prototype.destroyBean=function(t){t&&this.destroyBeans([t])},t.prototype.destroyBeans=function(t){var e=this;return t?(t.forEach((function(t){e.callLifeCycleMethodsOnBean(t,"preDestroyMethods","destroy");var n=t;"function"==typeof n.destroy&&n.destroy()})),[]):[]},t}();function W(t,e,n){var i=Z(t.constructor);i.preConstructMethods||(i.preConstructMethods=[]),i.preConstructMethods.push(e)}function H(t,e,n){var i=Z(t.constructor);i.postConstructMethods||(i.postConstructMethods=[]),i.postConstructMethods.push(e)}function $(t,e,n){var i=Z(t.constructor);i.preDestroyMethods||(i.preDestroyMethods=[]),i.preDestroyMethods.push(e)}function z(t){return function(e){Z(e).beanName=t}}function K(t){return function(e,n,i){X(e,t,!1,e,n,null)}}function Y(t){return function(e,n,i){X(e,t,!0,e,n,null)}}function X(t,e,n,i,o,r){if(null!==e)if("number"!=typeof r){var s=Z(t.constructor);s.agClassAttributes||(s.agClassAttributes=[]),s.agClassAttributes.push({attributeName:o,beanName:e,optional:n})}else console.error("AG Grid: Autowired should be on an attribute");else console.error("AG Grid: Autowired name should not be null")}function q(t){return function(e,n,i){var o,r="function"==typeof e?e:e.constructor;if("number"==typeof i){var s=void 0;n?(o=Z(r),s=n):(o=Z(r),s="agConstructor"),o.autowireMethods||(o.autowireMethods={}),o.autowireMethods[s]||(o.autowireMethods[s]={}),o.autowireMethods[s][i]=t}}}function Z(t){return t.hasOwnProperty("__agBeanMetaData")||(t.__agBeanMetaData={}),t.__agBeanMetaData}var J,Q=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},tt=function(t,e){return function(n,i){e(n,i,t)}},et=function(){function t(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}return t.prototype.setBeans=function(t,e,n,i){if(void 0===i&&(i=null),this.frameworkOverrides=n,this.gridOptionsService=e,i){var o=e.useAsyncEvents();this.addGlobalListener(i,o)}},t.prototype.getListeners=function(t,e,n){var i=e?this.allAsyncListeners:this.allSyncListeners,o=i.get(t);return!o&&n&&(o=new Set,i.set(t,o)),o},t.prototype.noRegisteredListenersExist=function(){return 0===this.allSyncListeners.size&&0===this.allAsyncListeners.size&&0===this.globalSyncListeners.size&&0===this.globalAsyncListeners.size},t.prototype.addEventListener=function(t,e,n){void 0===n&&(n=!1),this.getListeners(t,n,!0).add(e)},t.prototype.removeEventListener=function(t,e,n){void 0===n&&(n=!1);var i=this.getListeners(t,n,!1);i&&(i.delete(e),0===i.size&&(n?this.allAsyncListeners:this.allSyncListeners).delete(t))},t.prototype.addGlobalListener=function(t,e){void 0===e&&(e=!1),(e?this.globalAsyncListeners:this.globalSyncListeners).add(t)},t.prototype.removeGlobalListener=function(t,e){void 0===e&&(e=!1),(e?this.globalAsyncListeners:this.globalSyncListeners).delete(t)},t.prototype.dispatchEvent=function(t){var e=t;if(this.gridOptionsService){var n=this.gridOptionsService,i=n.api,o=n.columnApi,r=n.context;e.api=i,e.columnApi=o,e.context=r}this.dispatchToListeners(e,!0),this.dispatchToListeners(e,!1),this.firedEvents[e.type]=!0},t.prototype.dispatchEventOnce=function(t){this.firedEvents[t.type]||this.dispatchEvent(t)},t.prototype.dispatchToListeners=function(t,e){var n=this,i=t.type;if(e&&"event"in t){var o=t.event;o instanceof Event&&(t.eventPath=o.composedPath())}var r=this.getListeners(i,e,!1);r&&function(i){i.forEach((function(i){e?n.dispatchAsync((function(){return i(t)})):i(t)}))}(r),(e?this.globalAsyncListeners:this.globalSyncListeners).forEach((function(o){e?n.dispatchAsync((function(){return n.frameworkOverrides.dispatchEvent(i,(function(){return o(i,t)}),!0)})):n.frameworkOverrides.dispatchEvent(i,(function(){return o(i,t)}),!0)}))},t.prototype.dispatchAsync=function(t){this.asyncFunctionsQueue.push(t),this.scheduled||(window.setTimeout(this.flushAsyncQueue.bind(this),0),this.scheduled=!0)},t.prototype.flushAsyncQueue=function(){this.scheduled=!1;var t=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],t.forEach((function(t){return t()}))},Q([tt(0,q("loggerFactory")),tt(1,q("gridOptionsService")),tt(2,q("frameworkOverrides")),tt(3,q("globalEventListener"))],t.prototype,"setBeans",null),t=Q([z("eventService")],t)}();!function(t){t.CommunityCoreModule="@ag-grid-community/core",t.InfiniteRowModelModule="@ag-grid-community/infinite-row-model",t.ClientSideRowModelModule="@ag-grid-community/client-side-row-model",t.CsvExportModule="@ag-grid-community/csv-export",t.EnterpriseCoreModule="@ag-grid-enterprise/core",t.RowGroupingModule="@ag-grid-enterprise/row-grouping",t.ColumnsToolPanelModule="@ag-grid-enterprise/column-tool-panel",t.FiltersToolPanelModule="@ag-grid-enterprise/filter-tool-panel",t.MenuModule="@ag-grid-enterprise/menu",t.SetFilterModule="@ag-grid-enterprise/set-filter",t.MultiFilterModule="@ag-grid-enterprise/multi-filter",t.StatusBarModule="@ag-grid-enterprise/status-bar",t.SideBarModule="@ag-grid-enterprise/side-bar",t.RangeSelectionModule="@ag-grid-enterprise/range-selection",t.MasterDetailModule="@ag-grid-enterprise/master-detail",t.RichSelectModule="@ag-grid-enterprise/rich-select",t.GridChartsModule="@ag-grid-enterprise/charts",t.ViewportRowModelModule="@ag-grid-enterprise/viewport-row-model",t.ServerSideRowModelModule="@ag-grid-enterprise/server-side-row-model",t.ExcelExportModule="@ag-grid-enterprise/excel-export",t.ClipboardModule="@ag-grid-enterprise/clipboard",t.SparklinesModule="@ag-grid-enterprise/sparklines",t.AngularModule="@ag-grid-community/angular",t.ReactModule="@ag-grid-community/react",t.VueModule="@ag-grid-community/vue"}(J||(J={}));var nt=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},it=function(){function t(){}return t.register=function(e,n){void 0===n&&(n=!0),t.runVersionChecks(e),t.modulesMap[e.moduleName]=e,t.setModuleBased(n)},t.runVersionChecks=function(e){if(t.currentModuleVersion||(t.currentModuleVersion=e.version),e.version?e.version!==t.currentModuleVersion&&console.error("AG Grid: You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. '"+e.moduleName+"' is version "+e.version+" but the other modules are version "+this.currentModuleVersion+". Please update all modules to the same version."):console.error("AG Grid: You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. '"+e.moduleName+"' is incompatible. Please update all modules to the same version."),e.validate){var n=e.validate();if(!n.isValid){var i=n;console.error("AG Grid: "+i.message)}}},t.setModuleBased=function(e){void 0===t.moduleBased?t.moduleBased=e:t.moduleBased!==e&&P((function(){console.warn("AG Grid: You are mixing modules (i.e. @ag-grid-community/core) and packages (ag-grid-community) - you can only use one or the other of these mechanisms."),console.warn("Please see https://www.ag-grid.com/javascript-grid/packages-modules/ for more information.")}),"ModulePackageCheck")},t.setIsBundled=function(){t.isBundled=!0},t.registerModules=function(e,n){void 0===n&&(n=!0),t.setModuleBased(n),e&&e.forEach((function(e){return t.register(e,n)}))},t.assertRegistered=function(e,n){var i;if(this.isRegistered(e))return!0;var o,r=n+e;if(t.isBundled)o="AG Grid: unable to use "+n+" as 'ag-grid-enterprise' has not been loaded. Check you are using the Enterprise bundle:\n        \n        <script src=\"https://cdn.jsdelivr.net/npm/ag-grid-enterprise@AG_GRID_VERSION/dist/ag-grid-enterprise.min.js\"><\/script>\n        \nFor more info see: https://ag-grid.com/javascript-data-grid/getting-started/#getting-started-with-ag-grid-enterprise";else if(t.moduleBased||void 0===t.moduleBased){var s=null===(i=Object.entries(J).find((function(t){var n=nt(t,2);return n[0],n[1]===e})))||void 0===i?void 0:i[0];o="AG Grid: unable to use "+n+" as the "+s+" is not registered. Check if you have registered the module:\n           \n    import { ModuleRegistry } from '@ag-grid-community/core';\n    import { "+s+" } from '"+e+"';\n    \n    ModuleRegistry.registerModules([ "+s+" ]);\n\nFor more info see: https://www.ag-grid.com/javascript-grid/modules/"}else o="AG Grid: unable to use "+n+" as package 'ag-grid-enterprise' has not been imported. Check that you have imported the package:\n            \n    import 'ag-grid-enterprise';\n            \nFor more info see: https://www.ag-grid.com/javascript-grid/packages/";return P((function(){console.warn(o)}),r),!1},t.isRegistered=function(e){return!!t.modulesMap[e]},t.getRegisteredModules=function(){return u(t.modulesMap)},t.isPackageBased=function(){return!t.moduleBased},t.modulesMap={},t}(),ot=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},rt=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},st=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(rt(arguments[e]));return t},at=0;function lt(){return at++}var ct=function(){function t(t,e,n,i){this.instanceId=lt(),this.autoHeaderHeight=null,this.moving=!1,this.menuVisible=!1,this.filterActive=!1,this.eventService=new et,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.colDef=t,this.userProvidedColDef=e,this.colId=n,this.primary=i,this.setState(t)}return t.prototype.getInstanceId=function(){return this.instanceId},t.prototype.setState=function(t){void 0!==t.sort?"asc"!==t.sort&&"desc"!==t.sort||(this.sort=t.sort):"asc"!==t.initialSort&&"desc"!==t.initialSort||(this.sort=t.initialSort);var e=l(t.sortIndex),n=l(t.initialSortIndex);void 0!==e?null!==e&&(this.sortIndex=e):null!==n&&(this.sortIndex=n);var i=c(t.hide),o=c(t.initialHide);this.visible=void 0!==i?!i:!o,void 0!==t.pinned?this.setPinned(t.pinned):this.setPinned(t.initialPinned);var r=l(t.flex),s=l(t.initialFlex);void 0!==r?this.flex=r:void 0!==s&&(this.flex=s)},t.prototype.setColDef=function(t,e){this.colDef=t,this.userProvidedColDef=e,this.initMinAndMaxWidths(),this.initDotNotation(),this.eventService.dispatchEvent(this.createColumnEvent("colDefChanged","api"))},t.prototype.getUserProvidedColDef=function(){return this.userProvidedColDef},t.prototype.setParent=function(t){this.parent=t},t.prototype.getParent=function(){return this.parent},t.prototype.setOriginalParent=function(t){this.originalParent=t},t.prototype.getOriginalParent=function(){return this.originalParent},t.prototype.initialise=function(){this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip(),this.validate()},t.prototype.initDotNotation=function(){var t=this.gridOptionsService.is("suppressFieldDotNotation");this.fieldContainsDots=o(this.colDef.field)&&this.colDef.field.indexOf(".")>=0&&!t,this.tooltipFieldContainsDots=o(this.colDef.tooltipField)&&this.colDef.tooltipField.indexOf(".")>=0&&!t},t.prototype.initMinAndMaxWidths=function(){var t=this.colDef;this.minWidth=this.columnUtils.calculateColMinWidth(t),this.maxWidth=this.columnUtils.calculateColMaxWidth(t)},t.prototype.initTooltip=function(){this.tooltipEnabled=o(this.colDef.tooltipField)||o(this.colDef.tooltipValueGetter)||o(this.colDef.tooltipComponent)||o(this.colDef.tooltipComponentFramework)},t.prototype.resetActualWidth=function(t){void 0===t&&(t="api");var e=this.columnUtils.calculateColInitialWidth(this.colDef);this.setActualWidth(e,t,!0)},t.prototype.isEmptyGroup=function(){return!1},t.prototype.isRowGroupDisplayed=function(t){if(r(this.colDef)||r(this.colDef.showRowGroup))return!1;var e=!0===this.colDef.showRowGroup,n=this.colDef.showRowGroup===t;return e||n},t.prototype.isPrimary=function(){return this.primary},t.prototype.isFilterAllowed=function(){return!!this.colDef.filter||!!this.colDef.filterFramework},t.prototype.isFieldContainsDots=function(){return this.fieldContainsDots},t.prototype.isTooltipEnabled=function(){return this.tooltipEnabled},t.prototype.isTooltipFieldContainsDots=function(){return this.tooltipFieldContainsDots},t.prototype.validate=function(){var t=this.colDef;function e(t,e,n){P((function(){n?console.warn(t,n):P((function(){return console.warn(t)}),e)}),e)}if(this.gridOptionsService.isRowModelType("clientSide")&&!it.isRegistered(J.RowGroupingModule)){(n=["enableRowGroup","rowGroup","rowGroupIndex","enablePivot","enableValue","pivot","pivotIndex","aggFunc"].filter((function(e){return o(t[e])}))).length>0&&it.assertRegistered(J.RowGroupingModule,n.map((function(t){return"colDef."+t})).join(", "))}if("agRichSelect"!==this.colDef.cellEditor&&"agRichSelectCellEditor"!==this.colDef.cellEditor||it.assertRegistered(J.RichSelectModule,this.colDef.cellEditor),this.gridOptionsService.isTreeData()){(n=["rowGroup","rowGroupIndex","pivot","pivotIndex"].filter((function(e){return o(t[e])}))).length>0&&e("AG Grid: "+n.join()+" is not possible when doing tree data, your column definition should not have "+n.join(),"TreeDataCannotRowGroup")}if(o(t.menuTabs))if(Array.isArray(t.menuTabs)){var n,i=["filterMenuTab"],r=["columnsMenuTab","generalMenuTab"];(n=r.filter((function(e){return t.menuTabs.includes(e)}))).length>0&&it.assertRegistered(J.MenuModule,"menuTab(s): "+n.map((function(t){return"'"+t+"'"})).join()),t.menuTabs.forEach((function(t){r.includes(t)||i.includes(t)||e("AG Grid: '"+t+"' is not valid for 'colDef.menuTabs'. Valid values are: "+st(i,r).map((function(t){return"'"+t+"'"})).join()+".","wrongValue_menuTabs_"+t)}))}else e("AG Grid: The typeof 'colDef.menuTabs' should be an array not:"+typeof t.menuTabs,"wrongType_menuTabs");o(t.columnsMenuParams)&&it.assertRegistered(J.MenuModule,"columnsMenuParams"),o(t.columnsMenuParams)&&it.assertRegistered(J.ColumnsToolPanelModule,"columnsMenuParams"),o(this.colDef.width)&&"number"!=typeof this.colDef.width&&e("AG Grid: colDef.width should be a number, not "+typeof this.colDef.width,"ColumnCheck"),(t.pinnedRowCellRenderer||t.pinnedRowCellRendererParams||t.pinnedRowCellRendererFramework)&&e("AG Grid: pinnedRowCellRenderer[Params,Framework] no longer exist. Use cellRendererSelector if you want a different Cell Renderer for pinned rows. Check params.node.rowPinned.","colDef.pinnedRowCellRenderer-deprecated"),o(t.columnGroupShow)&&"closed"!==t.columnGroupShow&&"open"!==t.columnGroupShow&&e("AG Grid: '"+t.columnGroupShow+"' is not valid for columnGroupShow. Valid values are 'open', 'closed', undefined, null","columnGroupShow_invalid")},t.prototype.addEventListener=function(t,e){this.eventService.addEventListener(t,e)},t.prototype.removeEventListener=function(t,e){this.eventService.removeEventListener(t,e)},t.prototype.createColumnFunctionCallbackParams=function(t){return{node:t,data:t.data,column:this,colDef:this.colDef,context:this.gridOptionsService.context,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi}},t.prototype.isSuppressNavigable=function(t){if("boolean"==typeof this.colDef.suppressNavigable)return this.colDef.suppressNavigable;if("function"==typeof this.colDef.suppressNavigable){var e=this.createColumnFunctionCallbackParams(t);return(0,this.colDef.suppressNavigable)(e)}return!1},t.prototype.isCellEditable=function(t){return!(t.group&&!this.gridOptionsService.is("enableGroupEdit"))&&this.isColumnFunc(t,this.colDef.editable)},t.prototype.isSuppressFillHandle=function(){return!!c(this.colDef.suppressFillHandle)},t.prototype.isAutoHeight=function(){return!!c(this.colDef.autoHeight)},t.prototype.isAutoHeaderHeight=function(){return!!c(this.colDef.autoHeaderHeight)},t.prototype.isRowDrag=function(t){return this.isColumnFunc(t,this.colDef.rowDrag)},t.prototype.isDndSource=function(t){return this.isColumnFunc(t,this.colDef.dndSource)},t.prototype.isCellCheckboxSelection=function(t){return this.isColumnFunc(t,this.colDef.checkboxSelection)},t.prototype.isSuppressPaste=function(t){return this.isColumnFunc(t,this.colDef?this.colDef.suppressPaste:null)},t.prototype.isResizable=function(){return!!c(this.colDef.resizable)},t.prototype.isColumnFunc=function(t,e){return"boolean"==typeof e?e:"function"==typeof e&&e(this.createColumnFunctionCallbackParams(t))},t.prototype.setMoving=function(t,e){void 0===e&&(e="api"),this.moving=t,this.eventService.dispatchEvent(this.createColumnEvent("movingChanged",e))},t.prototype.createColumnEvent=function(t,e){return{type:t,column:this,columns:[this],source:e,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context}},t.prototype.isMoving=function(){return this.moving},t.prototype.getSort=function(){return this.sort},t.prototype.setSort=function(t,e){void 0===e&&(e="api"),this.sort!==t&&(this.sort=t,this.eventService.dispatchEvent(this.createColumnEvent("sortChanged",e)))},t.prototype.setMenuVisible=function(t,e){void 0===e&&(e="api"),this.menuVisible!==t&&(this.menuVisible=t,this.eventService.dispatchEvent(this.createColumnEvent("menuVisibleChanged",e)))},t.prototype.isMenuVisible=function(){return this.menuVisible},t.prototype.isSortAscending=function(){return"asc"===this.sort},t.prototype.isSortDescending=function(){return"desc"===this.sort},t.prototype.isSortNone=function(){return r(this.sort)},t.prototype.isSorting=function(){return o(this.sort)},t.prototype.getSortIndex=function(){return this.sortIndex},t.prototype.setSortIndex=function(t){this.sortIndex=t},t.prototype.setAggFunc=function(t){this.aggFunc=t},t.prototype.getAggFunc=function(){return this.aggFunc},t.prototype.getLeft=function(){return this.left},t.prototype.getOldLeft=function(){return this.oldLeft},t.prototype.getRight=function(){return this.left+this.actualWidth},t.prototype.setLeft=function(t,e){void 0===e&&(e="api"),this.oldLeft=this.left,this.left!==t&&(this.left=t,this.eventService.dispatchEvent(this.createColumnEvent("leftChanged",e)))},t.prototype.isFilterActive=function(){return this.filterActive},t.prototype.setFilterActive=function(t,e,n){void 0===e&&(e="api"),this.filterActive!==t&&(this.filterActive=t,this.eventService.dispatchEvent(this.createColumnEvent("filterActiveChanged",e)));var i=this.createColumnEvent("filterChanged",e);n&&b(i,n),this.eventService.dispatchEvent(i)},t.prototype.isHovered=function(){return this.columnHoverService.isHovered(this)},t.prototype.setPinned=function(t){this.pinned=!0===t||"left"===t?"left":"right"===t?"right":null},t.prototype.setFirstRightPinned=function(t,e){void 0===e&&(e="api"),this.firstRightPinned!==t&&(this.firstRightPinned=t,this.eventService.dispatchEvent(this.createColumnEvent("firstRightPinnedChanged",e)))},t.prototype.setLastLeftPinned=function(t,e){void 0===e&&(e="api"),this.lastLeftPinned!==t&&(this.lastLeftPinned=t,this.eventService.dispatchEvent(this.createColumnEvent("lastLeftPinnedChanged",e)))},t.prototype.isFirstRightPinned=function(){return this.firstRightPinned},t.prototype.isLastLeftPinned=function(){return this.lastLeftPinned},t.prototype.isPinned=function(){return"left"===this.pinned||"right"===this.pinned},t.prototype.isPinnedLeft=function(){return"left"===this.pinned},t.prototype.isPinnedRight=function(){return"right"===this.pinned},t.prototype.getPinned=function(){return this.pinned},t.prototype.setVisible=function(t,e){void 0===e&&(e="api");var n=!0===t;this.visible!==n&&(this.visible=n,this.eventService.dispatchEvent(this.createColumnEvent("visibleChanged",e)))},t.prototype.isVisible=function(){return this.visible},t.prototype.isSpanHeaderHeight=function(){return!!this.getColDef().spanHeaderHeight},t.prototype.getColDef=function(){return this.colDef},t.prototype.getColumnGroupShow=function(){return this.colDef.columnGroupShow},t.prototype.getColId=function(){return this.colId},t.prototype.getId=function(){return this.colId},t.prototype.getUniqueId=function(){return this.colId},t.prototype.getDefinition=function(){return this.colDef},t.prototype.getActualWidth=function(){return this.actualWidth},t.prototype.getAutoHeaderHeight=function(){return this.autoHeaderHeight},t.prototype.setAutoHeaderHeight=function(t){var e=t!==this.autoHeaderHeight;return this.autoHeaderHeight=t,e},t.prototype.createBaseColDefParams=function(t){return{node:t,data:t.data,colDef:this.colDef,column:this,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context}},t.prototype.getColSpan=function(t){if(r(this.colDef.colSpan))return 1;var e=this.createBaseColDefParams(t),n=this.colDef.colSpan(e);return Math.max(n,1)},t.prototype.getRowSpan=function(t){if(r(this.colDef.rowSpan))return 1;var e=this.createBaseColDefParams(t),n=this.colDef.rowSpan(e);return Math.max(n,1)},t.prototype.setActualWidth=function(t,e,n){void 0===e&&(e="api"),void 0===n&&(n=!1),null!=this.minWidth&&(t=Math.max(t,this.minWidth)),null!=this.maxWidth&&(t=Math.min(t,this.maxWidth)),this.actualWidth!==t&&(this.actualWidth=t,this.flex&&"flex"!==e&&"gridInitializing"!==e&&(this.flex=null),n||this.fireColumnWidthChangedEvent(e))},t.prototype.fireColumnWidthChangedEvent=function(t){this.eventService.dispatchEvent(this.createColumnEvent("widthChanged",t))},t.prototype.isGreaterThanMax=function(t){return null!=this.maxWidth&&t>this.maxWidth},t.prototype.getMinWidth=function(){return this.minWidth},t.prototype.getMaxWidth=function(){return this.maxWidth},t.prototype.getFlex=function(){return this.flex||0},t.prototype.setFlex=function(t){this.flex!==t&&(this.flex=t)},t.prototype.setMinimum=function(t){void 0===t&&(t="api"),o(this.minWidth)&&this.setActualWidth(this.minWidth,t)},t.prototype.setRowGroupActive=function(t,e){void 0===e&&(e="api"),this.rowGroupActive!==t&&(this.rowGroupActive=t,this.eventService.dispatchEvent(this.createColumnEvent("columnRowGroupChanged",e)))},t.prototype.isRowGroupActive=function(){return this.rowGroupActive},t.prototype.setPivotActive=function(t,e){void 0===e&&(e="api"),this.pivotActive!==t&&(this.pivotActive=t,this.eventService.dispatchEvent(this.createColumnEvent("columnPivotChanged",e)))},t.prototype.isPivotActive=function(){return this.pivotActive},t.prototype.isAnyFunctionActive=function(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()},t.prototype.isAnyFunctionAllowed=function(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()},t.prototype.setValueActive=function(t,e){void 0===e&&(e="api"),this.aggregationActive!==t&&(this.aggregationActive=t,this.eventService.dispatchEvent(this.createColumnEvent("columnValueChanged",e)))},t.prototype.isValueActive=function(){return this.aggregationActive},t.prototype.isAllowPivot=function(){return!0===this.colDef.enablePivot},t.prototype.isAllowValue=function(){return!0===this.colDef.enableValue},t.prototype.isAllowRowGroup=function(){return!0===this.colDef.enableRowGroup},t.prototype.getMenuTabs=function(t){var e=this.getColDef().menuTabs;return null==e&&(e=t),e},t.EVENT_MOVING_CHANGED="movingChanged",t.EVENT_LEFT_CHANGED="leftChanged",t.EVENT_WIDTH_CHANGED="widthChanged",t.EVENT_LAST_LEFT_PINNED_CHANGED="lastLeftPinnedChanged",t.EVENT_FIRST_RIGHT_PINNED_CHANGED="firstRightPinnedChanged",t.EVENT_VISIBLE_CHANGED="visibleChanged",t.EVENT_FILTER_CHANGED="filterChanged",t.EVENT_FILTER_ACTIVE_CHANGED="filterActiveChanged",t.EVENT_SORT_CHANGED="sortChanged",t.EVENT_COL_DEF_CHANGED="colDefChanged",t.EVENT_MENU_VISIBLE_CHANGED="menuVisibleChanged",t.EVENT_ROW_GROUP_CHANGED="columnRowGroupChanged",t.EVENT_PIVOT_CHANGED="columnPivotChanged",t.EVENT_VALUE_CHANGED="columnValueChanged",ot([K("gridOptionsService")],t.prototype,"gridOptionsService",void 0),ot([K("columnUtils")],t.prototype,"columnUtils",void 0),ot([K("columnHoverService")],t.prototype,"columnHoverService",void 0),ot([H],t.prototype,"initialise",null),t}(),ut=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},ht=function(){function t(t,e,n,i){this.localEventService=new et,this.expandable=!1,this.instanceId=lt(),this.expandableListenerRemoveCallback=null,this.colGroupDef=t,this.groupId=e,this.expanded=!!t&&!!t.openByDefault,this.padding=n,this.level=i}return t.prototype.destroy=function(){this.expandableListenerRemoveCallback&&this.reset(null,void 0)},t.prototype.reset=function(t,e){this.colGroupDef=t,this.level=e,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0},t.prototype.getInstanceId=function(){return this.instanceId},t.prototype.setOriginalParent=function(t){this.originalParent=t},t.prototype.getOriginalParent=function(){return this.originalParent},t.prototype.getLevel=function(){return this.level},t.prototype.isVisible=function(){return!!this.children&&this.children.some((function(t){return t.isVisible()}))},t.prototype.isPadding=function(){return this.padding},t.prototype.setExpanded=function(e){this.expanded=void 0!==e&&e;var n={type:t.EVENT_EXPANDED_CHANGED};this.localEventService.dispatchEvent(n)},t.prototype.isExpandable=function(){return this.expandable},t.prototype.isExpanded=function(){return this.expanded},t.prototype.getGroupId=function(){return this.groupId},t.prototype.getId=function(){return this.getGroupId()},t.prototype.setChildren=function(t){this.children=t},t.prototype.getChildren=function(){return this.children},t.prototype.getColGroupDef=function(){return this.colGroupDef},t.prototype.getLeafColumns=function(){var t=[];return this.addLeafColumns(t),t},t.prototype.addLeafColumns=function(e){this.children&&this.children.forEach((function(n){n instanceof ct?e.push(n):n instanceof t&&n.addLeafColumns(e)}))},t.prototype.getColumnGroupShow=function(){var t=this.colGroupDef;if(t)return t.columnGroupShow},t.prototype.setupExpandable=function(){var t=this;this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();var e=this.onColumnVisibilityChanged.bind(this);this.getLeafColumns().forEach((function(t){return t.addEventListener("visibleChanged",e)})),this.expandableListenerRemoveCallback=function(){t.getLeafColumns().forEach((function(t){return t.removeEventListener("visibleChanged",e)})),t.expandableListenerRemoveCallback=null}},t.prototype.setExpandable=function(){if(!this.isPadding()){for(var e=!1,n=!1,i=!1,o=this.findChildrenRemovingPadding(),r=0,s=o.length;r<s;r++){var a=o[r];if(a.isVisible()){var l=a.getColumnGroupShow();"open"===l?(e=!0,i=!0):"closed"===l?(n=!0,i=!0):(e=!0,n=!0)}}var c=e&&n&&i;if(this.expandable!==c){this.expandable=c;var u={type:t.EVENT_EXPANDABLE_CHANGED};this.localEventService.dispatchEvent(u)}}},t.prototype.findChildrenRemovingPadding=function(){var e=[],n=function(i){i.forEach((function(i){i instanceof t&&i.isPadding()?n(i.children):e.push(i)}))};return n(this.children),e},t.prototype.onColumnVisibilityChanged=function(){this.setExpandable()},t.prototype.addEventListener=function(t,e){this.localEventService.addEventListener(t,e)},t.prototype.removeEventListener=function(t,e){this.localEventService.removeEventListener(t,e)},t.EVENT_EXPANDED_CHANGED="expandedChanged",t.EVENT_EXPANDABLE_CHANGED="expandableChanged",ut([$],t.prototype,"destroy",null),t}(),dt={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}};function pt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;n++){var i=t[n];if(o(i))return i}return null}function ft(t){if(t&&t.length)return t[t.length-1]}function gt(t,e,n){return null==t&&null==e||null!=t&&null!=e&&t.length===e.length&&t.every((function(t,i){return n?n(t,e[i]):e[i]===t}))}function mt(t){return t.sort((function(t,e){return t-e}))}function _t(t,e){var n=t.indexOf(e);n>=0&&t.splice(n,1)}function yt(t,e){e.forEach((function(e){return _t(t,e)}))}function vt(t,e,n){t.splice(n,0,e)}function Ct(t,e,n){yt(t,e),e.slice().reverse().forEach((function(e){return vt(t,e,n)}))}function bt(t,e){return t.indexOf(e)>-1}function Et(t){return[].concat.apply([],t)}function St(t,e){null!=e&&null!=t&&e.forEach((function(e){return t.push(e)}))}var wt=Object.freeze({__proto__:null,firstExistingValue:pt,existsAndNotEmpty:function(t){return null!=t&&t.length>0},last:ft,areEqual:gt,shallowCompare:function(t,e){return gt(t,e)},sortNumerically:mt,removeRepeatsFromArray:function(t,e){if(t)for(var n=t.length-2;n>=0;n--){var i=t[n]===e,o=t[n+1]===e;i&&o&&t.splice(n+1,1)}},removeFromArray:_t,removeAllFromArray:yt,insertIntoArray:vt,insertArrayIntoArray:function(t,e,n){if(null!=t&&null!=e)for(var i=e.length-1;i>=0;i--){vt(t,e[i],n)}},moveInArray:Ct,includes:bt,flatten:Et,pushAll:St,toStrings:function(t){return t.map(a)},forEachReverse:function(t,e){if(null!=t)for(var n=t.length-1;n>=0;n--)e(t[n],n)}}),Ot="__ag_Grid_Stop_Propagation",xt=["touchstart","touchend","touchmove","touchcancel","scroll"],Pt={};function Tt(t){t[Ot]=!0}function Mt(t){return!0===t[Ot]}var Dt,Rt=(Dt={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"},function(t){if("boolean"==typeof Pt[t])return Pt[t];var e=document.createElement(Dt[t]||"div");return Pt[t="on"+t]=t in e});function At(t,e,n){for(var i=e;i;){var o=t.getDomData(i,n);if(o)return o;i=i.parentElement}return null}function Lt(t,e){return!(!e||!t)&&kt(e).indexOf(t)>=0}function It(t){for(var e=[],n=t.target;n;)e.push(n),n=n.parentElement;return e}function kt(t){var e=t;return e.path?e.path:e.composedPath?e.composedPath():It(e)}function Nt(t,e,n,i){var o=bt(xt,n)?{passive:!0}:void 0;t&&t.addEventListener&&t.addEventListener(e,n,i,o)}var Ft,Gt=Object.freeze({__proto__:null,stopPropagationForAgGrid:Tt,isStopPropagationForAgGrid:Mt,isEventSupported:Rt,getCtrlForEventTarget:At,isElementInEventPath:Lt,createEventPath:It,getEventPath:kt,addSafePassiveEventListener:Nt}),Bt=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},jt=function(){function t(){var t=this;this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.isAlive=function(){return!t.destroyed}}return t.prototype.getFrameworkOverrides=function(){return this.frameworkOverrides},t.prototype.getContext=function(){return this.context},t.prototype.destroy=function(){this.destroyFunctions.forEach((function(t){return t()})),this.destroyFunctions.length=0,this.destroyed=!0,this.dispatchEvent({type:t.EVENT_DESTROYED})},t.prototype.addEventListener=function(t,e){this.localEventService||(this.localEventService=new et),this.localEventService.addEventListener(t,e)},t.prototype.removeEventListener=function(t,e){this.localEventService&&this.localEventService.removeEventListener(t,e)},t.prototype.dispatchEventAsync=function(t){var e=this;window.setTimeout((function(){return e.dispatchEvent(t)}),0)},t.prototype.dispatchEvent=function(t){this.localEventService&&this.localEventService.dispatchEvent(t)},t.prototype.addManagedListener=function(t,e,n){var i=this;if(!this.destroyed){t instanceof HTMLElement?Nt(this.getFrameworkOverrides(),t,e,n):t.addEventListener(e,n);var o=function(){return t.removeEventListener(e,n),i.destroyFunctions=i.destroyFunctions.filter((function(t){return t!==o})),null};return this.destroyFunctions.push(o),o}},t.prototype.addManagedPropertyListener=function(t,e){var n=this;if(!this.destroyed){this.gridOptionsService.addEventListener(t,e);var i=function(){return n.gridOptionsService.removeEventListener(t,e),n.destroyFunctions=n.destroyFunctions.filter((function(t){return t!==i})),null};return this.destroyFunctions.push(i),i}},t.prototype.addDestroyFunc=function(t){this.isAlive()?this.destroyFunctions.push(t):t()},t.prototype.createManagedBean=function(t,e){var n=this.createBean(t,e);return this.addDestroyFunc(this.destroyBean.bind(this,t,e)),n},t.prototype.createBean=function(t,e,n){return(e||this.getContext()).createBean(t,n)},t.prototype.destroyBean=function(t,e){return(e||this.getContext()).destroyBean(t)},t.prototype.destroyBeans=function(t,e){var n=this;return t&&t.forEach((function(t){return n.destroyBean(t,e)})),[]},t.EVENT_DESTROYED="destroyed",Bt([K("frameworkOverrides")],t.prototype,"frameworkOverrides",void 0),Bt([K("context")],t.prototype,"context",void 0),Bt([K("eventService")],t.prototype,"eventService",void 0),Bt([K("gridOptionsService")],t.prototype,"gridOptionsService",void 0),Bt([K("localeService")],t.prototype,"localeService",void 0),Bt([K("environment")],t.prototype,"environment",void 0),Bt([$],t.prototype,"destroy",null),t}(),Ut=(Ft=function(t,e){return Ft=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},Ft(t,e)},function(t,e){function n(){this.constructor=t}Ft(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Vt=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},Wt=function(t,e){return function(n,i){e(n,i,t)}},Ht=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ut(e,t),e.prototype.setBeans=function(t){this.logger=t.create("ColumnFactory")},e.prototype.createColumnTree=function(t,e,n){var i=new d,o=this.extractExistingTreeData(n),r=o.existingCols,s=o.existingGroups,a=o.existingColKeys;i.addExistingKeys(a);var l=this.recursivelyCreateColumns(t,0,e,r,i,s),c=this.findMaxDept(l,0);this.logger.log("Number of levels for grouped columns is "+c);var u=this.balanceColumnTree(l,0,c,i);return this.columnUtils.depthFirstOriginalTreeSearch(null,u,(function(t,e){t instanceof ht&&t.setupExpandable(),t.setOriginalParent(e)})),{columnTree:u,treeDept:c}},e.prototype.extractExistingTreeData=function(t){var e=[],n=[],i=[];return t&&this.columnUtils.depthFirstOriginalTreeSearch(null,t,(function(t){if(t instanceof ht){var o=t;n.push(o)}else{var r=t;i.push(r.getId()),e.push(r)}})),{existingCols:e,existingGroups:n,existingColKeys:i}},e.prototype.createForAutoGroups=function(t,e){var n=this;return t.map((function(t){return n.createAutoGroupTreeItem(e,t)}))},e.prototype.createAutoGroupTreeItem=function(t,e){for(var n=e,i=this.findDepth(t)-1;i>=0;i--){var o=new ht(null,"FAKE_PATH_"+e.getId()+"}_"+i,!0,i);this.createBean(o),o.setChildren([n]),n.setOriginalParent(o),n=o}return n},e.prototype.findDepth=function(t){for(var e=0,n=t;n&&n[0]&&n[0]instanceof ht;)e++,n=n[0].getChildren();return e},e.prototype.balanceColumnTree=function(t,e,n,i){for(var o=[],r=0;r<t.length;r++){var s=t[r];if(s instanceof ht){var a=s,l=this.balanceColumnTree(a.getChildren(),e+1,n,i);a.setChildren(l),o.push(a)}else{for(var c=void 0,u=void 0,h=n-1;h>=e;h--){var d=i.getUniqueKey(null,null),p=this.createMergedColGroupDef(null),f=new ht(p,d,!0,e);this.createBean(f),u&&u.setChildren([f]),u=f,c||(c=u)}if(c&&u){if(o.push(c),t.some((function(t){return t instanceof ht}))){u.setChildren([s]);continue}u.setChildren(t);break}o.push(s)}}return o},e.prototype.findMaxDept=function(t,e){for(var n=e,i=0;i<t.length;i++){var o=t[i];if(o instanceof ht){var r=o,s=this.findMaxDept(r.getChildren(),e+1);n<s&&(n=s)}}return n},e.prototype.recursivelyCreateColumns=function(t,e,n,i,o,r){var s=this;return(t||[]).map((function(t){return s.isColumnGroup(t)?s.createColumnGroup(n,t,e,i,o,r):s.createColumn(n,t,i,o)}))},e.prototype.createColumnGroup=function(t,e,n,i,o,r){var s=this.createMergedColGroupDef(e),a=o.getUniqueKey(s.groupId||null,null),l=new ht(s,a,!1,n);this.createBean(l);var c=this.findExistingGroup(e,r);c&&_t(r,c),c&&c.isExpanded()&&l.setExpanded(!0);var u=this.recursivelyCreateColumns(s.children,n+1,t,i,o,r);return l.setChildren(u),l},e.prototype.createMergedColGroupDef=function(t){var e={};return Object.assign(e,this.gridOptionsService.get("defaultColGroupDef")),Object.assign(e,t),e},e.prototype.createColumn=function(t,e,n,i){var o=this.mergeColDefs(e),r=this.findExistingColumn(e,n);if(n&&r&&_t(n,r),r)r.setColDef(o,e),this.applyColumnState(r,o);else{var s=i.getUniqueKey(o.colId,o.field);r=new ct(o,e,s,t),this.context.createBean(r)}return r},e.prototype.applyColumnState=function(t,e){var n=l(e.flex);if(void 0!==n&&t.setFlex(n),t.getFlex()<=0){var i=l(e.width);if(null!=i)t.setActualWidth(i);else{var o=t.getActualWidth();t.setActualWidth(o)}}void 0!==e.sort&&("asc"==e.sort||"desc"==e.sort?t.setSort(e.sort):t.setSort(void 0));var r=l(e.sortIndex);void 0!==r&&t.setSortIndex(r);var s=c(e.hide);void 0!==s&&t.setVisible(!s),void 0!==e.pinned&&t.setPinned(e.pinned)},e.prototype.findExistingColumn=function(t,e){return(e||[]).find((function(e){var n=e.getUserProvidedColDef();if(!n)return!1;var i=null!=t.colId,o=null!=t.field;return i?e.getId()===t.colId:o?n.field===t.field:n===t}))},e.prototype.findExistingGroup=function(t,e){return e.find((function(e){return!!e.getColGroupDef()&&(!(null==t.groupId)&&e.getId()===t.groupId)}))},e.prototype.mergeColDefs=function(t){var e={},n=this.gridOptionsService.get("defaultColDef");b(e,n,!1,!0);var i=t.type;i||(i=n&&n.type),i&&this.assignColumnTypes(i,e),b(e,t,!1,!0);var o=this.gridOptionsService.get("autoGroupColumnDef"),r=this.gridOptionsService.isColumnsSortingCoupledToGroup();return t.rowGroup&&o&&r&&b(e,{sort:o.sort,initialSort:o.initialSort},!1,!0),e},e.prototype.assignColumnTypes=function(t,e){var n=[];if(t instanceof Array){t.some((function(t){return"string"!=typeof t}))?console.warn("AG Grid: if colDef.type is supplied an array it should be of type 'string[]'"):n=t}else{if("string"!=typeof t)return void console.warn("AG Grid: colDef.type should be of type 'string' | 'string[]'");n=t.split(",")}var i=Object.assign({},dt);p(this.gridOptionsService.get("columnTypes")||{},(function(t,e){t in i?console.warn("AG Grid: the column type '"+t+"' is a default column type and cannot be overridden."):i[t]=e})),n.forEach((function(t){var n=i[t.trim()];n?b(e,n,!1,!0):console.warn("AG Grid: colDef.type '"+t+"' does not correspond to defined gridOptions.columnTypes")}))},e.prototype.isColumnGroup=function(t){return void 0!==t.children},Vt([K("columnUtils")],e.prototype,"columnUtils",void 0),Vt([Wt(0,q("loggerFactory"))],e.prototype,"setBeans",null),e=Vt([z("columnFactory")],e)}(jt),$t=function(){function t(){}return t.ColDefPropertyMap={headerName:void 0,columnGroupShow:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentFramework:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellRendererFramework:void 0,cellEditor:void 0,cellEditorFramework:void 0,cellEditorParams:void 0,filterFramework:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentFramework:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,floatingFilterComponentFramework:void 0,tooltipComponentParams:void 0,tooltipComponentFramework:void 0,refData:void 0,columnsMenuParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressCellFlash:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,stickyLabel:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressMenu:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0,spanHeaderHeight:void 0},t.ALL_PROPERTIES=Object.keys(t.ColDefPropertyMap),t.FRAMEWORK_PROPERTIES=["__ob__","__v_skip","__metadata__","mappedColumnProperties","hasChildColumns","toColDef","createColDefFromGridColumn"],t}(),zt=function(){function t(){}return t.EVENT_COLUMN_EVERYTHING_CHANGED="columnEverythingChanged",t.EVENT_NEW_COLUMNS_LOADED="newColumnsLoaded",t.EVENT_COLUMN_PIVOT_MODE_CHANGED="columnPivotModeChanged",t.EVENT_COLUMN_ROW_GROUP_CHANGED="columnRowGroupChanged",t.EVENT_EXPAND_COLLAPSE_ALL="expandOrCollapseAll",t.EVENT_COLUMN_PIVOT_CHANGED="columnPivotChanged",t.EVENT_GRID_COLUMNS_CHANGED="gridColumnsChanged",t.EVENT_COLUMN_VALUE_CHANGED="columnValueChanged",t.EVENT_COLUMN_MOVED="columnMoved",t.EVENT_COLUMN_VISIBLE="columnVisible",t.EVENT_COLUMN_PINNED="columnPinned",t.EVENT_COLUMN_GROUP_OPENED="columnGroupOpened",t.EVENT_COLUMN_RESIZED="columnResized",t.EVENT_DISPLAYED_COLUMNS_CHANGED="displayedColumnsChanged",t.EVENT_VIRTUAL_COLUMNS_CHANGED="virtualColumnsChanged",t.EVENT_ASYNC_TRANSACTIONS_FLUSHED="asyncTransactionsFlushed",t.EVENT_ROW_GROUP_OPENED="rowGroupOpened",t.EVENT_ROW_DATA_CHANGED="rowDataChanged",t.EVENT_ROW_DATA_UPDATED="rowDataUpdated",t.EVENT_PINNED_ROW_DATA_CHANGED="pinnedRowDataChanged",t.EVENT_RANGE_SELECTION_CHANGED="rangeSelectionChanged",t.EVENT_CHART_CREATED="chartCreated",t.EVENT_CHART_RANGE_SELECTION_CHANGED="chartRangeSelectionChanged",t.EVENT_CHART_OPTIONS_CHANGED="chartOptionsChanged",t.EVENT_CHART_DESTROYED="chartDestroyed",t.EVENT_TOOL_PANEL_VISIBLE_CHANGED="toolPanelVisibleChanged",t.EVENT_TOOL_PANEL_SIZE_CHANGED="toolPanelSizeChanged",t.EVENT_INTERNAL_TOOL_PANEL_VISIBLE_CHANGED="internalToolPanelVisibleChanged",t.EVENT_COLUMN_PANEL_ITEM_DRAG_START="columnPanelItemDragStart",t.EVENT_COLUMN_PANEL_ITEM_DRAG_END="columnPanelItemDragEnd",t.EVENT_MODEL_UPDATED="modelUpdated",t.EVENT_PASTE_START="pasteStart",t.EVENT_PASTE_END="pasteEnd",t.EVENT_FILL_START="fillStart",t.EVENT_FILL_END="fillEnd",t.EVENT_UNDO_STARTED="undoStarted",t.EVENT_UNDO_ENDED="undoEnded",t.EVENT_REDO_STARTED="redoStarted",t.EVENT_REDO_ENDED="redoEnded",t.EVENT_KEY_SHORTCUT_CHANGED_CELL_START="keyShortcutChangedCellStart",t.EVENT_KEY_SHORTCUT_CHANGED_CELL_END="keyShortcutChangedCellEnd",t.EVENT_CELL_CLICKED="cellClicked",t.EVENT_CELL_DOUBLE_CLICKED="cellDoubleClicked",t.EVENT_CELL_MOUSE_DOWN="cellMouseDown",t.EVENT_CELL_CONTEXT_MENU="cellContextMenu",t.EVENT_CELL_VALUE_CHANGED="cellValueChanged",t.EVENT_CELL_EDIT_REQUEST="cellEditRequest",t.EVENT_ROW_VALUE_CHANGED="rowValueChanged",t.EVENT_CELL_FOCUSED="cellFocused",t.EVENT_CELL_FOCUS_CLEARED="cellFocusCleared",t.EVENT_FULL_WIDTH_ROW_FOCUSED="fullWidthRowFocused",t.EVENT_ROW_SELECTED="rowSelected",t.EVENT_SELECTION_CHANGED="selectionChanged",t.EVENT_CELL_KEY_DOWN="cellKeyDown",t.EVENT_CELL_KEY_PRESS="cellKeyPress",t.EVENT_CELL_MOUSE_OVER="cellMouseOver",t.EVENT_CELL_MOUSE_OUT="cellMouseOut",t.EVENT_FILTER_CHANGED="filterChanged",t.EVENT_FILTER_MODIFIED="filterModified",t.EVENT_FILTER_OPENED="filterOpened",t.EVENT_SORT_CHANGED="sortChanged",t.EVENT_VIRTUAL_ROW_REMOVED="virtualRowRemoved",t.EVENT_ROW_CLICKED="rowClicked",t.EVENT_ROW_DOUBLE_CLICKED="rowDoubleClicked",t.EVENT_GRID_READY="gridReady",t.EVENT_GRID_SIZE_CHANGED="gridSizeChanged",t.EVENT_VIEWPORT_CHANGED="viewportChanged",t.EVENT_SCROLLBAR_WIDTH_CHANGED="scrollbarWidthChanged",t.EVENT_FIRST_DATA_RENDERED="firstDataRendered",t.EVENT_DRAG_STARTED="dragStarted",t.EVENT_DRAG_STOPPED="dragStopped",t.EVENT_CHECKBOX_CHANGED="checkboxChanged",t.EVENT_ROW_EDITING_STARTED="rowEditingStarted",t.EVENT_ROW_EDITING_STOPPED="rowEditingStopped",t.EVENT_CELL_EDITING_STARTED="cellEditingStarted",t.EVENT_CELL_EDITING_STOPPED="cellEditingStopped",t.EVENT_BODY_SCROLL="bodyScroll",t.EVENT_BODY_SCROLL_END="bodyScrollEnd",t.EVENT_HEIGHT_SCALE_CHANGED="heightScaleChanged",t.EVENT_PAGINATION_CHANGED="paginationChanged",t.EVENT_COMPONENT_STATE_CHANGED="componentStateChanged",t.EVENT_STORE_REFRESHED="storeRefreshed",t.EVENT_BODY_HEIGHT_CHANGED="bodyHeightChanged",t.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED="displayedColumnsWidthChanged",t.EVENT_SCROLL_VISIBILITY_CHANGED="scrollVisibilityChanged",t.EVENT_COLUMN_HOVER_CHANGED="columnHoverChanged",t.EVENT_FLASH_CELLS="flashCells",t.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED="paginationPixelOffsetChanged",t.EVENT_DISPLAYED_ROWS_CHANGED="displayedRowsChanged",t.EVENT_LEFT_PINNED_WIDTH_CHANGED="leftPinnedWidthChanged",t.EVENT_RIGHT_PINNED_WIDTH_CHANGED="rightPinnedWidthChanged",t.EVENT_ROW_CONTAINER_HEIGHT_CHANGED="rowContainerHeightChanged",t.EVENT_HEADER_HEIGHT_CHANGED="headerHeightChanged",t.EVENT_COLUMN_HEADER_HEIGHT_CHANGED="columnHeaderHeightChanged",t.EVENT_ROW_DRAG_ENTER="rowDragEnter",t.EVENT_ROW_DRAG_MOVE="rowDragMove",t.EVENT_ROW_DRAG_LEAVE="rowDragLeave",t.EVENT_ROW_DRAG_END="rowDragEnd",t.EVENT_GRID_STYLES_CHANGED="gridStylesChanged",t.EVENT_POPUP_TO_FRONT="popupToFront",t.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST="columnRowGroupChangeRequest",t.EVENT_COLUMN_PIVOT_CHANGE_REQUEST="columnPivotChangeRequest",t.EVENT_COLUMN_VALUE_CHANGE_REQUEST="columnValueChangeRequest",t.EVENT_COLUMN_AGG_FUNC_CHANGE_REQUEST="columnAggFuncChangeRequest",t.EVENT_KEYBOARD_FOCUS="keyboardFocus",t.EVENT_MOUSE_FOCUS="mouseFocus",t.EVENT_STORE_UPDATED="storeUpdated",t.EVENT_FILTER_DESTROYED="filterDestroyed",t}(),Kt=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},Yt=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Kt(arguments[e]));return t},Xt=function(){function t(){}return t.STRING_PROPERTIES=["rowSelection","overlayLoadingTemplate","overlayNoRowsTemplate","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","serverSideStoreType","groupDisplayType","treeDataDisplayType","colResizeDefault"],t.OBJECT_PROPERTIES=["components","frameworkComponents","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","statusBar","sideBar","chartThemeOverrides","customChartThemes","chartToolPanelsDef"],t.ARRAY_PROPERTIES=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass"],t.NUMBER_PROPERTIES=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDelay","cellFadeDelay","tabIndex"],t.BOOLEAN_PROPERTIES=["suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellSelection","suppressCellFocus","suppressHorizontalScroll","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupSelectsChildren","groupIncludeFooter","groupIncludeTotalFooter","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressParentsInRowNodes","suppressColumnMoveAnimation","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","suppressAsyncEvents","allowContextMenuWithControlKey","suppressContextMenu","rememberGroupStateWhenNewData","enableCellChangeFlash","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","suppressAggAtRootLevel","suppressFocusAfterRefresh","functionsPassive","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","excludeHiddenColumnsFromQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","treeData","masterDetail","suppressMultiRangeSelection","enterMovesDownAfterEdit","enterMovesDown","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","enableChartToolPanelsButton","suppressChartToolPanelsButton","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","immutableData","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideFilteringAlwaysResets","serverSideSortingAlwaysResets","serverSideSortAllLevels","serverSideFilterAllLevels","serverSideSortOnServer","serverSideFilterOnServer","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","maintainColumnOrder","groupMaintainOrder","columnHoverHighlight","reactUi","suppressReactUi","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","groupRowsSticky","suppressServerSideInfiniteScroll","rowGroupPanelSuppressSort","allowShowChangeAfterFilter","suppressCutToClipboard"],t.FUNCTIONAL_PROPERTIES=["localeTextFunc","doesExternalFilterPass","groupRowAggNodes","isFullWidthCell","processSecondaryColDef","processSecondaryColGroupDef","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","postSort","defaultGroupOrderComparator","rowDragText","groupRowRenderer","groupRowRendererFramework","fullWidthCellRenderer","fullWidthCellRendererFramework","loadingCellRenderer","loadingCellRendererFramework","loadingOverlayComponent","loadingOverlayComponentFramework","noRowsOverlayComponent","noRowsOverlayComponentFramework","detailCellRenderer","detailCellRendererFramework"],t.CALLBACK_PROPERTIES=["getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","getRowNodeId","isFullWidthRow","sendToClipboard","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideStoreParams","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","loadingCellRendererSelector","getRowId","groupAggFiltering"],t.FUNCTION_PROPERTIES=Yt(t.FUNCTIONAL_PROPERTIES,t.CALLBACK_PROPERTIES),t.ALL_PROPERTIES=Yt(t.ARRAY_PROPERTIES,t.OBJECT_PROPERTIES,t.STRING_PROPERTIES,t.NUMBER_PROPERTIES,t.FUNCTION_PROPERTIES,t.BOOLEAN_PROPERTIES),t.FRAMEWORK_PROPERTIES=["__ob__","__v_skip","__metadata__","mappedColumnProperties","hasChildColumns","toColDef","createColDefFromGridColumn"],t}(),qt=function(){return qt=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},qt.apply(this,arguments)},Zt=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},Jt=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Zt(arguments[e]));return t},Qt=function(){function t(){}return t.getCallbackForEvent=function(t){return!t||t.length<2?t:"on"+t[0].toUpperCase()+t.substr(1)},t.getCoercionLookup=function(){var e={};return Jt(t.ARRAY_PROPERTIES,t.OBJECT_PROPERTIES,t.STRING_PROPERTIES,t.FUNCTION_PROPERTIES,t.EVENT_CALLBACKS).forEach((function(t){return e[t]="none"})),t.BOOLEAN_PROPERTIES.forEach((function(t){return e[t]="boolean"})),t.NUMBER_PROPERTIES.forEach((function(t){return e[t]="number"})),e},t.getValue=function(e,n){var i=t.coercionLookup[e];if(i){var o=n;switch(i){case"number":o=t.toNumber(n);break;case"boolean":o=t.toBoolean(n);break;case"none":"groupAggFiltering"===e&&"function"!=typeof n&&(o=t.toBoolean(n))}return o}},t.getGridOptionKeys=function(e,n){return n?Object.keys(t.coercionLookup):Object.keys(e)},t.copyAttributesToGridOptions=function(e,n,i){void 0===i&&(i=!1),"object"!=typeof e&&(e={});var o=e;return t.getGridOptionKeys(n,i).forEach((function(e){var i=n[e];if(void 0!==i){var r=t.getValue(e,i);void 0!==r&&(o[e]=r)}})),e},t.processOnChange=function(e,n){if(e&&0!==Object.keys(e).length){var i=qt({},e);i.columnTypes&&(n.setColumnTypes(i.columnTypes.currentValue,"gridOptionsChanged"),delete i.columnTypes),i.autoGroupColumnDef&&(n.setAutoGroupColumnDef(i.autoGroupColumnDef.currentValue,"gridOptionsChanged"),delete i.autoGroupColumnDef),i.defaultColDef&&(n.setDefaultColDef(i.defaultColDef.currentValue,"gridOptionsChanged"),delete i.defaultColDef),i.columnDefs&&(n.setColumnDefs(i.columnDefs.currentValue,"gridOptionsChanged"),delete i.columnDefs),Object.keys(i).forEach((function(e){var o=e,r=t.getValue(o,i[o].currentValue);n.__setProperty(o,r)}));var o={type:zt.EVENT_COMPONENT_STATE_CHANGED};p(e,(function(t,e){o[t]=e})),n.dispatchEvent(o)}},t.toBoolean=function(t){return"boolean"==typeof t?t:"string"==typeof t&&("TRUE"===t.toUpperCase()||""==t)},t.toNumber=function(t){return"number"==typeof t?t:"string"==typeof t?Number(t):void 0},t.EVENTS=u(zt),t.EXCLUDED_INTERNAL_EVENTS=[zt.EVENT_SCROLLBAR_WIDTH_CHANGED,zt.EVENT_CHECKBOX_CHANGED,zt.EVENT_HEIGHT_SCALE_CHANGED,zt.EVENT_BODY_HEIGHT_CHANGED,zt.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,zt.EVENT_SCROLL_VISIBILITY_CHANGED,zt.EVENT_COLUMN_HOVER_CHANGED,zt.EVENT_FLASH_CELLS,zt.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,zt.EVENT_DISPLAYED_ROWS_CHANGED,zt.EVENT_LEFT_PINNED_WIDTH_CHANGED,zt.EVENT_RIGHT_PINNED_WIDTH_CHANGED,zt.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,zt.EVENT_POPUP_TO_FRONT,zt.EVENT_KEYBOARD_FOCUS,zt.EVENT_MOUSE_FOCUS,zt.EVENT_STORE_UPDATED,zt.EVENT_COLUMN_PANEL_ITEM_DRAG_START,zt.EVENT_COLUMN_PANEL_ITEM_DRAG_END,zt.EVENT_FILL_START,zt.EVENT_FILL_END,zt.EVENT_KEY_SHORTCUT_CHANGED_CELL_START,zt.EVENT_KEY_SHORTCUT_CHANGED_CELL_END,zt.EVENT_FULL_WIDTH_ROW_FOCUSED,zt.EVENT_HEADER_HEIGHT_CHANGED,zt.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,zt.EVENT_INTERNAL_TOOL_PANEL_VISIBLE_CHANGED,zt.EVENT_CELL_FOCUS_CLEARED,zt.EVENT_GRID_STYLES_CHANGED,zt.EVENT_FILTER_DESTROYED],t.PUBLIC_EVENTS=t.EVENTS.filter((function(e){return!bt(t.EXCLUDED_INTERNAL_EVENTS,e)})),t.EVENT_CALLBACKS=t.EVENTS.map((function(e){return t.getCallbackForEvent(e)})),t.STRING_PROPERTIES=Xt.STRING_PROPERTIES,t.OBJECT_PROPERTIES=Xt.OBJECT_PROPERTIES,t.ARRAY_PROPERTIES=Xt.ARRAY_PROPERTIES,t.NUMBER_PROPERTIES=Xt.NUMBER_PROPERTIES,t.BOOLEAN_PROPERTIES=Xt.BOOLEAN_PROPERTIES,t.FUNCTION_PROPERTIES=Xt.FUNCTION_PROPERTIES,t.ALL_PROPERTIES=Xt.ALL_PROPERTIES,t.ALL_PROPERTIES_SET=new Set(Xt.ALL_PROPERTIES),t.coercionLookup=t.getCoercionLookup(),t}();function te(t,e,n){var i={},o=t.filter((function(t){return!e.some((function(e){return e===t}))}));return o.length>0&&o.forEach((function(t){return i[t]=ee(t,n)})),i}function ee(t,e,n,i){var o=e.map((function(e){return{value:e,relevance:ne(t.toLowerCase(),e.toLocaleLowerCase())}}));if(o.sort((function(t,e){return e.relevance-t.relevance})),n&&(o=o.filter((function(t){return 0!==t.relevance}))),i&&i>0){var r=o[0].relevance*i;o=o.filter((function(t){return r-t.relevance<0}))}return o.map((function(t){return t.value}))}function ne(t,e){for(var n=t.replace(/\s/g,""),i=e.replace(/\s/g,""),o=0,r=-1,s=0;s<n.length;s++){var a=i.indexOf(n[s],r+1);-1!==a&&(o+=100-100*(r=a)/1e4*100)}return o}var ie=Object.freeze({__proto__:null,fuzzyCheckStrings:te,fuzzySuggestions:ee}),oe=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},re=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},se=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(re(arguments[e]));return t};function ae(t,e,n,i){var o=n?"Please use '"+n+"' instead. ":"";P((function(){return console.warn("AG Grid: since v"+t+", '"+e+"' is deprecated. "+o+(null!=i?i:""))}),"Deprecated_"+e)}var le=function(){function t(){this.deprecatedProperties={serverSideInfiniteScroll:{version:"29",message:"Infinite Scrolling is now the default behaviour. This can be suppressed with `suppressServerSideInfiniteScroll`."},rememberGroupStateWhenNewData:{version:"24",message:"Now that transaction updates are possible and they keep group state, this feature is no longer needed."},suppressEnterpriseResetOnNewColumns:{version:"25",message:"Now that it is possible to dynamically change columns in the grid, this is no longer needed."},suppressColumnStateEvents:{version:"25",message:'Events should be ignored based on the `event.source`, which will be "api" if the event was due to setting column state via the API.'},defaultExportParams:{version:"25.2",message:"The property `defaultExportParams` has been replaced by `defaultCsvExportParams` and `defaultExcelExportParams`"},stopEditingWhenGridLosesFocus:{version:"25.2.2",newProp:"stopEditingWhenCellsLoseFocus",copyToNewProp:!0},applyColumnDefOrder:{version:"26",message:"The property `applyColumnDefOrder` is no longer needed, as this is the default behaviour. To turn this behaviour off, set maintainColumnOrder=true"},groupMultiAutoColumn:{version:"26",newProp:"groupDisplayType",copyToNewProp:!0,newPropValue:"multipleColumns"},groupUseEntireRow:{version:"26",newProp:"groupDisplayType",copyToNewProp:!0,newPropValue:"groupRows"},defaultGroupSortComparator:{version:"26",newProp:"initialGroupOrderComparator"},enableMultiRowDragging:{version:"26.1",newProp:"rowDragMultiRow",copyToNewProp:!0},colWidth:{version:"26.1",newProp:"defaultColDef.width"},minColWidth:{version:"26.1",newProp:"defaultColDef.minWidth"},maxColWidth:{version:"26.1",newProp:"defaultColDef.maxWidth"},reactUi:{version:"26.1",message:"React UI is on by default, so no need for reactUi=true. To turn it off, set suppressReactUi=true."},suppressCellSelection:{version:"27",newProp:"suppressCellFocus",copyToNewProp:!0},clipboardDeliminator:{version:"27.1",newProp:"clipboardDelimiter",copyToNewProp:!0},getRowNodeId:{version:"27.1",newProp:"getRowId",message:"The difference: if getRowId() is implemented then immutable data is enabled by default."},defaultGroupOrderComparator:{version:"27.2",newProp:"initialGroupOrderComparator"},groupRowAggNodes:{version:"27.2",newProp:"getGroupRowAgg"},postSort:{version:"27.2",newProp:"postSortRows"},isFullWidthCell:{version:"27.2",newProp:"isFullWidthRow"},localeTextFunc:{version:"27.2",newProp:"getLocaleText"},serverSideFilteringAlwaysResets:{version:"28.0",newProp:"serverSideFilterAllLevels",copyToNewProp:!0},serverSideSortingAlwaysResets:{version:"28.0",newProp:"serverSideSortAllLevels",copyToNewProp:!0},suppressReactUi:{version:"28",message:"The legacy React rendering engine is deprecated and will be removed in the next major version of the grid."},processSecondaryColDef:{version:"28",newProp:"processPivotResultColDef",copyToNewProp:!0},processSecondaryColGroupDef:{version:"28",newProp:"processPivotResultColGroupDef",copyToNewProp:!0},getServerSideStoreParams:{version:"28",newProp:"getServerSideGroupLevelParams",copyToNewProp:!0},enableChartToolPanelsButton:{version:"29",message:"The Chart Tool Panels button is now enabled by default. To hide the Chart Tool Panels button and display the hamburger button instead, set suppressChartToolPanelsButton=true."},functionsPassive:{version:"29.2"},onColumnRowGroupChangeRequest:{version:"29.2"},onColumnPivotChangeRequest:{version:"29.2"},onColumnValueChangeRequest:{version:"29.2"},onColumnAggFuncChangeRequest:{version:"29.2"}}}return t.prototype.pickOneWarning=function(t,e){console.warn("AG Grid: "+t+" and "+e+" do not work with each other, you need to pick one.")},t.prototype.init=function(){var t=this;if(this.checkForDeprecated(),this.checkForViolations(),!0!==this.gridOptions.suppressPropertyNamesCheck&&(this.checkGridOptionsProperties(),this.checkColumnDefProperties()),this.checkColumnDefViolations(),this.gridOptionsService.is("groupSelectsChildren")&&this.gridOptionsService.is("suppressParentsInRowNodes")&&console.warn("AG Grid: 'groupSelectsChildren' does not work with 'suppressParentsInRowNodes', this selection method needs the part in rowNode to work"),this.gridOptionsService.is("groupSelectsChildren")&&"multiple"!==this.gridOptionsService.get("rowSelection")&&console.warn("AG Grid: rowSelection must be 'multiple' for groupSelectsChildren to make sense"),this.gridOptionsService.is("groupRemoveSingleChildren")&&this.gridOptionsService.is("groupHideOpenParents")&&this.pickOneWarning("groupRemoveSingleChildren","groupHideOpenParents"),"autoHeight"!==this.gridOptionsService.get("domLayout")||this.gridOptionsService.isRowModelType("clientSide")||this.gridOptionsService.is("pagination")||(console.warn("AG Grid: domLayout='autoHeight' was ignored as it is only supported by the Client-Side row model, unless using pagination."),this.gridOptions.domLayout="normal"),this.gridOptionsService.isRowModelType("serverSide")){var e=function(t,e){return"AG Grid: '"+t+"' is not supported on the Server-Side Row Model."+(e?" Please use "+e+" instead.":"")};this.gridOptionsService.exists("groupDefaultExpanded")&&console.warn(e("groupDefaultExpanded","isServerSideGroupOpenByDefault callback")),this.gridOptionsService.exists("groupIncludeFooter")&&console.warn(e("groupIncludeFooter")),this.gridOptionsService.exists("groupIncludeTotalFooter")&&console.warn(e("groupIncludeTotalFooter"))}this.gridOptionsService.is("enableRangeSelection")?it.assertRegistered(J.RangeSelectionModule,"enableRangeSelection"):(this.gridOptionsService.is("enableRangeHandle")||this.gridOptionsService.is("enableFillHandle"))&&console.warn("AG Grid: 'enableRangeHandle' or 'enableFillHandle' will not work unless 'enableRangeSelection' is set to true");var n=function(e,n){return t.gridOptionsService.exists(e)&&it.assertRegistered(n,e)};n("sideBar",J.SideBarModule),n("statusBar",J.StatusBarModule),n("enableCharts",J.GridChartsModule),n("getMainMenuItems",J.MenuModule),n("getContextMenuItems",J.MenuModule),n("allowContextMenuWithControlKey",J.MenuModule),this.gridOptionsService.is("groupRowsSticky")&&(this.gridOptionsService.is("groupHideOpenParents")&&this.pickOneWarning("groupRowsSticky","groupHideOpenParents"),this.gridOptionsService.is("masterDetail")&&this.pickOneWarning("groupRowsSticky","masterDetail"),this.gridOptionsService.is("pagination")&&this.pickOneWarning("groupRowsSticky","pagination"))},t.prototype.checkColumnDefProperties=function(){var t=this;if(null!=this.gridOptions.columnDefs){var e=se($t.ALL_PROPERTIES,$t.FRAMEWORK_PROPERTIES),n=function(i,o){var r=Object.getOwnPropertyNames(i);t.checkProperties(r,e,e,o,"https://www.ag-grid.com/javascript-data-grid/column-properties/"),i.children&&i.children.forEach((function(t){return n(t,"columnDefs.children")}))};this.gridOptions.columnDefs.forEach((function(t){return n(t,"columnDefs")})),this.gridOptions.defaultColDef&&n(this.gridOptions.defaultColDef,"defaultColDef")}},t.prototype.checkColumnDefViolations=function(){var t,e=null!==(t=this.gridOptionsService.get("rowModelType"))&&void 0!==t?t:"clientSide",n={infinite:["headerCheckboxSelection","headerCheckboxSelectionFilteredOnly","headerCheckboxSelectionCurrentPageOnly"],viewport:["headerCheckboxSelection","headerCheckboxSelectionFilteredOnly","headerCheckboxSelectionCurrentPageOnly"],serverSide:["headerCheckboxSelectionFilteredOnly","headerCheckboxSelectionCurrentPageOnly"],clientSide:[]}[e];if(null==n?void 0:n.length){var i=function(t){n.forEach((function(n){n in t&&t[n]&&console.warn("AG Grid: Column property "+n+" is not supported with the row model type "+e+".")}))};null!=this.gridOptions.columnDefs&&this.gridOptions.columnDefs.forEach((function(t){return i(t)})),null!=this.gridOptions.autoGroupColumnDef&&i(this.gridOptions.autoGroupColumnDef),null!=this.gridOptions.defaultColDef&&i(this.gridOptions.defaultColDef)}},t.prototype.checkGridOptionsProperties=function(){var t=Object.getOwnPropertyNames(this.gridOptions),e=se(Xt.ALL_PROPERTIES,Xt.FRAMEWORK_PROPERTIES,Qt.EVENT_CALLBACKS),n=se(e,["api","columnApi"],Object.keys(this.deprecatedProperties));this.checkProperties(t,n,e,"gridOptions","https://www.ag-grid.com/javascript-data-grid/grid-options/")},t.prototype.checkProperties=function(t,e,n,i,o){var r=te(t,e,n);p(r,(function(t,e){P((function(){return console.warn("AG Grid: invalid "+i+" property '"+t+"' did you mean any of these: "+e.slice(0,8).join(", "))}),"invalidProperty"+i+t)})),Object.keys(r).length>0&&P((function(){return console.warn("AG Grid: to see all the valid "+i+" properties please check: "+o)}),"invalidProperties"+i+o)},t.prototype.checkForDeprecated=function(){var t=this.gridOptions;if(Object.entries(this.deprecatedProperties).forEach((function(e){var n,i=re(e,2),o=i[0],r=i[1],s=t[o];s&&(ae(r.version,o,r.newProp,r.message),r.copyToNewProp&&r.newProp&&null==t[r.newProp]&&(t[r.newProp]=null!==(n=r.newPropValue)&&void 0!==n?n:s))})),t.groupSuppressAutoColumn){var e=t.treeData?"treeDataDisplayType":"groupDisplayType";console.warn("AG Grid: since v26.0, the grid property `groupSuppressAutoColumn` has been replaced by `"+e+" = 'custom'`"),t[e]="custom"}t.immutableData&&(t.getRowId?console.warn("AG Grid: since v27.1, `immutableData` is deprecated. With the `getRowId` callback implemented, immutable data is enabled by default so you can remove `immutableData=true`."):console.warn("AG Grid: since v27.1, `immutableData` is deprecated. To enable immutable data you must implement the `getRowId()` callback.")),t.serverSideStoreType&&(console.warn("AG Grid: since v29.0, `serverSideStoreType` has been replaced by `suppressServerSideInfiniteScroll`. Set to false to use Partial Store, and true to use Full Store."),t.suppressServerSideInfiniteScroll="partial"!==t.serverSideStoreType)},t.prototype.checkForViolations=function(){this.gridOptionsService.is("treeData")&&this.treeDataViolations()},t.prototype.treeDataViolations=function(){this.gridOptionsService.isRowModelType("clientSide")&&(this.gridOptionsService.exists("getDataPath")||console.warn("AG Grid: property usingTreeData=true with rowModel=clientSide, but you did not provide getDataPath function, please provide getDataPath function if using tree data.")),this.gridOptionsService.isRowModelType("serverSide")&&(this.gridOptionsService.exists("isServerSideGroup")||console.warn("AG Grid: property usingTreeData=true with rowModel=serverSide, but you did not provide isServerSideGroup function, please provide isServerSideGroup function if using tree data."),this.gridOptionsService.exists("getServerSideGroupKey")||console.warn("AG Grid: property usingTreeData=true with rowModel=serverSide, but you did not provide getServerSideGroupKey function, please provide getServerSideGroupKey function if using tree data."))},oe([K("gridOptions")],t.prototype,"gridOptions",void 0),oe([K("gridOptionsService")],t.prototype,"gridOptionsService",void 0),oe([H],t.prototype,"init",null),t=oe([z("gridOptionsValidator")],t)}();function ce(t,e){var n=["groupRows","multipleColumns","custom","singleColumn"];return n.indexOf(e)<0?(console.warn("AG Grid: '"+e+"' is not a valid groupDisplayType value - possible values are: '"+n.join("', '")+"'"),!1):e===t}var ue=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},he=function(){function t(t,e,n,i){this.displayedChildren=[],this.localEventService=new et,this.groupId=e,this.partId=n,this.providedColumnGroup=t,this.pinned=i}return t.createUniqueId=function(t,e){return t+"_"+e},t.prototype.reset=function(){this.parent=null,this.children=null,this.displayedChildren=null},t.prototype.getParent=function(){return this.parent},t.prototype.setParent=function(t){this.parent=t},t.prototype.getUniqueId=function(){return t.createUniqueId(this.groupId,this.partId)},t.prototype.isEmptyGroup=function(){return 0===this.displayedChildren.length},t.prototype.isMoving=function(){var t=this.getProvidedColumnGroup().getLeafColumns();return!(!t||0===t.length)&&t.every((function(t){return t.isMoving()}))},t.prototype.checkLeft=function(){if(this.displayedChildren.forEach((function(e){e instanceof t&&e.checkLeft()})),this.displayedChildren.length>0)if(this.gridOptionsService.is("enableRtl")){var e=ft(this.displayedChildren).getLeft();this.setLeft(e)}else{var n=this.displayedChildren[0].getLeft();this.setLeft(n)}else this.setLeft(null)},t.prototype.getLeft=function(){return this.left},t.prototype.getOldLeft=function(){return this.oldLeft},t.prototype.setLeft=function(e){this.oldLeft=e,this.left!==e&&(this.left=e,this.localEventService.dispatchEvent(this.createAgEvent(t.EVENT_LEFT_CHANGED)))},t.prototype.getPinned=function(){return this.pinned},t.prototype.createAgEvent=function(t){return{type:t}},t.prototype.addEventListener=function(t,e){this.localEventService.addEventListener(t,e)},t.prototype.removeEventListener=function(t,e){this.localEventService.removeEventListener(t,e)},t.prototype.getGroupId=function(){return this.groupId},t.prototype.getPartId=function(){return this.partId},t.prototype.isChildInThisGroupDeepSearch=function(e){var n=!1;return this.children.forEach((function(i){e===i&&(n=!0),i instanceof t&&i.isChildInThisGroupDeepSearch(e)&&(n=!0)})),n},t.prototype.getActualWidth=function(){var t=0;return this.displayedChildren&&this.displayedChildren.forEach((function(e){t+=e.getActualWidth()})),t},t.prototype.isResizable=function(){if(!this.displayedChildren)return!1;var t=!1;return this.displayedChildren.forEach((function(e){e.isResizable()&&(t=!0)})),t},t.prototype.getMinWidth=function(){var t=0;return this.displayedChildren.forEach((function(e){t+=e.getMinWidth()||0})),t},t.prototype.addChild=function(t){this.children||(this.children=[]),this.children.push(t)},t.prototype.getDisplayedChildren=function(){return this.displayedChildren},t.prototype.getLeafColumns=function(){var t=[];return this.addLeafColumns(t),t},t.prototype.getDisplayedLeafColumns=function(){var t=[];return this.addDisplayedLeafColumns(t),t},t.prototype.getDefinition=function(){return this.providedColumnGroup.getColGroupDef()},t.prototype.getColGroupDef=function(){return this.providedColumnGroup.getColGroupDef()},t.prototype.isPadding=function(){return this.providedColumnGroup.isPadding()},t.prototype.isExpandable=function(){return this.providedColumnGroup.isExpandable()},t.prototype.isExpanded=function(){return this.providedColumnGroup.isExpanded()},t.prototype.setExpanded=function(t){this.providedColumnGroup.setExpanded(t)},t.prototype.addDisplayedLeafColumns=function(e){this.displayedChildren.forEach((function(n){n instanceof ct?e.push(n):n instanceof t&&n.addDisplayedLeafColumns(e)}))},t.prototype.addLeafColumns=function(e){this.children.forEach((function(n){n instanceof ct?e.push(n):n instanceof t&&n.addLeafColumns(e)}))},t.prototype.getChildren=function(){return this.children},t.prototype.getColumnGroupShow=function(){return this.providedColumnGroup.getColumnGroupShow()},t.prototype.getProvidedColumnGroup=function(){return this.providedColumnGroup},t.prototype.getOriginalColumnGroup=function(){return ae("27","getOriginalColumnGroup","getProvidedColumnGroup"),this.getProvidedColumnGroup()},t.prototype.getPaddingLevel=function(){var t=this.getParent();return this.isPadding()&&t&&t.isPadding()?1+t.getPaddingLevel():0},t.prototype.calculateDisplayedColumns=function(){var e=this;this.displayedChildren=[];for(var n=this;null!=n&&n.isPadding();)n=n.getParent();if(!(!!n&&n.providedColumnGroup.isExpandable()))return this.displayedChildren=this.children,void this.localEventService.dispatchEvent(this.createAgEvent(t.EVENT_DISPLAYED_CHILDREN_CHANGED));this.children.forEach((function(i){if(!(i instanceof t&&(!i.displayedChildren||!i.displayedChildren.length)))switch(i.getColumnGroupShow()){case"open":n.providedColumnGroup.isExpanded()&&e.displayedChildren.push(i);break;case"closed":n.providedColumnGroup.isExpanded()||e.displayedChildren.push(i);break;default:e.displayedChildren.push(i)}})),this.localEventService.dispatchEvent(this.createAgEvent(t.EVENT_DISPLAYED_CHILDREN_CHANGED))},t.EVENT_LEFT_CHANGED="leftChanged",t.EVENT_DISPLAYED_CHILDREN_CHANGED="displayedChildrenChanged",ue([K("gridOptionsService")],t.prototype,"gridOptionsService",void 0),t}(),de=function(){function t(){this.existingIds={}}return t.prototype.getInstanceIdForKey=function(t){var e,n=this.existingIds[t];return e="number"!=typeof n?0:n+1,this.existingIds[t]=e,e},t}(),pe=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),fe=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},ge="ag-Grid-AutoColumn",me=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return pe(e,t),e.prototype.createAutoGroupColumns=function(t,e){var n=this,i=[],o=this.gridOptionsService.isTreeData(),r=this.gridOptionsService.isGroupMultiAutoColumn();return o&&r&&(console.warn('AG Grid: you cannot mix groupDisplayType = "multipleColumns" with treeData, only one column can be used to display groups when doing tree data'),r=!1),r?e.forEach((function(e,o){i.push(n.createOneAutoGroupColumn(t,e,o))})):i.push(this.createOneAutoGroupColumn(t)),i},e.prototype.createOneAutoGroupColumn=function(t,e,n){var i,o=this.generateDefaultColDef(e);(i=e?ge+"-"+e.getId():ge,b(o,this.gridOptionsService.get("autoGroupColumnDef")),(o=this.columnFactory.mergeColDefs(o)).colId=i,this.gridOptionsService.isTreeData())||r(o.field)&&r(o.valueGetter)&&r(o.filterValueGetter)&&"agGroupColumnFilter"!==o.filter&&(o.filter=!1);n&&n>0&&(o.headerCheckboxSelection=!1);var s=t.find((function(t){return t.getId()==i}));if(s)return s.setColDef(o,null),this.columnFactory.applyColumnState(s,o),s;this.gridOptionsService.isColumnsSortingCoupledToGroup()&&(o.sort||o.initialSort)&&!o.field&&b(o,{sort:null,initialSort:null},!0,!0);var a=new ct(o,null,i,!0);return this.context.createBean(a),a},e.prototype.generateDefaultColDef=function(t){var e=this.gridOptionsService.get("autoGroupColumnDef"),n={headerName:this.localeService.getLocaleTextFunc()("group","Group")};if(e&&(e.cellRenderer||e.cellRendererFramework||e.cellRendererSelector)||(n.cellRenderer="agGroupCellRenderer"),t){var i=t.getColDef();Object.assign(n,{headerName:this.columnModel.getDisplayNameForColumn(t,"header"),headerValueGetter:i.headerValueGetter}),(i.cellRenderer||i.cellRendererFramework)&&Object.assign(n,{cellRendererParams:{innerRenderer:i.cellRenderer,innerRendererFramework:i.cellRendererFramework,innerRendererParams:i.cellRendererParams}}),n.showRowGroup=t.getColId()}else n.showRowGroup=!0;return n},fe([K("columnModel")],e.prototype,"columnModel",void 0),fe([K("columnFactory")],e.prototype,"columnFactory",void 0),e=fe([z("autoGroupColService")],e)}(jt),_e=/[&<>"']/g,ye={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function ve(t){return t[0].toUpperCase()+t.substr(1).toLowerCase()}function Ce(t,e){if(null==t)return null;var n=t.toString().toString();return e?n:n.replace(_e,(function(t){return ye[t]}))}function be(t){if(!t||null==t)return null;return t.replace(/([a-z])([A-Z])/g,"$1 $2").replace(/([A-Z]+)([A-Z])([a-z])/g,"$1 $2$3").replace(/\./g," ").split(" ").map((function(t){return t.substring(0,1).toUpperCase()+(t.length>1?t.substring(1,t.length):"")})).join(" ")}var Ee=Object.freeze({__proto__:null,utf8_encode:function(t){var e=String.fromCharCode;function n(t,n){return e(t>>n&63|128)}function i(t){if(t>=0&&t<=31&&10!==t)return"_x"+t.toString(16).toUpperCase().padStart(4,"0")+"_";if(0==(4294967168&t))return e(t);var i="";return 0==(4294965248&t)?i=e(t>>6&31|192):0==(4294901760&t)?(!function(t){if(t>=55296&&t<=57343)throw Error("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}(t),i=e(t>>12&15|224),i+=n(t,6)):0==(4292870144&t)&&(i=e(t>>18&7|240),i+=n(t,12),i+=n(t,6)),i+=e(63&t|128)}for(var o=function(t){var e=[];if(!t)return[];for(var n,i,o=t.length,r=0;r<o;)(n=t.charCodeAt(r++))>=55296&&n<=56319&&r<o?56320==(64512&(i=t.charCodeAt(r++)))?e.push(((1023&n)<<10)+(1023&i)+65536):(e.push(n),r--):e.push(n);return e}(t),r=o.length,s=-1,a="";++s<r;)a+=i(o[s]);return a},capitalise:ve,escapeString:Ce,camelCaseToHumanText:be});function Se(t){var e=new Map;return t.forEach((function(t){return e.set(t[0],t[1])})),e}var we=Object.freeze({__proto__:null,convertToMap:Se,mapById:function(t,e){var n=new Map;return t.forEach((function(t){return n.set(e(t),t)})),n},keys:function(t){var e=[];return t.forEach((function(t,n){return e.push(n)})),e}}),Oe=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),xe=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},Pe=function(t,e){return function(n,i){e(n,i,t)}},Te=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(n[i[o]]=t[i[o]])}return n},Me=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},De=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},Re=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(De(arguments[e]));return t},Ae=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.primaryHeaderRowCount=0,e.secondaryHeaderRowCount=0,e.gridHeaderRowCount=0,e.displayedColumnsLeft=[],e.displayedColumnsRight=[],e.displayedColumnsCenter=[],e.displayedColumns=[],e.displayedColumnsAndGroupsMap={},e.viewportColumns=[],e.viewportColumnsHash="",e.headerViewportColumns=[],e.viewportColumnsCenter=[],e.headerViewportColumnsCenter=[],e.autoHeightActiveAtLeastOnce=!1,e.rowGroupColumns=[],e.valueColumns=[],e.pivotColumns=[],e.ready=!1,e.autoGroupsNeedBuilding=!1,e.forceRecreateAutoGroups=!1,e.pivotMode=!1,e.bodyWidth=0,e.leftWidth=0,e.rightWidth=0,e.bodyWidthDirty=!0,e}return Oe(e,t),e.prototype.init=function(){var t=this;this.suppressColumnVirtualisation=this.gridOptionsService.is("suppressColumnVirtualisation");var e=this.gridOptionsService.is("pivotMode");this.isPivotSettingAllowed(e)&&(this.pivotMode=e),this.usingTreeData=this.gridOptionsService.isTreeData(),this.addManagedPropertyListener("groupDisplayType",(function(){return t.onAutoGroupColumnDefChanged()})),this.addManagedPropertyListener("autoGroupColumnDef",(function(){return t.onAutoGroupColumnDefChanged()})),this.addManagedPropertyListener("defaultColDef",(function(e){return t.onSharedColDefChanged(e.source)})),this.addManagedPropertyListener("columnTypes",(function(e){return t.onSharedColDefChanged(e.source)}))},e.prototype.onAutoGroupColumnDefChanged=function(){this.autoGroupsNeedBuilding=!0,this.forceRecreateAutoGroups=!0,this.updateGridColumns(),this.updateDisplayedColumns("gridOptionsChanged")},e.prototype.onSharedColDefChanged=function(t){void 0===t&&(t="api"),this.forceRecreateAutoGroups=!0,this.createColumnsFromColumnDefs(!0,t)},e.prototype.setColumnDefs=function(t,e){void 0===e&&(e="api");var n=!!this.columnDefs;this.columnDefs=t,this.createColumnsFromColumnDefs(n,e)},e.prototype.destroyOldColumns=function(t,e){var n={};if(t){this.columnUtils.depthFirstOriginalTreeSearch(null,t,(function(t){n[t.getInstanceId()]=t})),e&&this.columnUtils.depthFirstOriginalTreeSearch(null,e,(function(t){n[t.getInstanceId()]=null}));var i=Object.values(n).filter((function(t){return null!=t}));this.destroyBeans(i)}},e.prototype.destroyColumns=function(){this.destroyOldColumns(this.primaryColumnTree),this.destroyOldColumns(this.secondaryBalancedTree),this.destroyOldColumns(this.groupAutoColsBalancedTree)},e.prototype.createColumnsFromColumnDefs=function(t,e){var n=this;void 0===e&&(e="api");var i=t?this.compareColumnStatesAndDispatchEvents(e):void 0;this.valueCache.expire(),this.autoGroupsNeedBuilding=!0;var o=this.primaryColumns,r=this.primaryColumnTree,s=this.columnFactory.createColumnTree(this.columnDefs,!0,r);this.destroyOldColumns(this.primaryColumnTree,s.columnTree),this.primaryColumnTree=s.columnTree,this.primaryHeaderRowCount=s.treeDept+1,this.primaryColumns=this.getColumnsFromTree(this.primaryColumnTree),this.primaryColumnsMap={},this.primaryColumns.forEach((function(t){return n.primaryColumnsMap[t.getId()]=t})),this.extractRowGroupColumns(e,o),this.extractPivotColumns(e,o),this.extractValueColumns(e,o),this.ready=!0;var a=void 0===this.gridColsArePrimary;(this.gridColsArePrimary||a)&&(this.updateGridColumns(),t&&!this.gridOptionsService.is("maintainColumnOrder")&&this.orderGridColumnsLikePrimary(),this.updateDisplayedColumns(e),this.checkViewportColumns()),this.dispatchEverythingChanged(e),i&&i(),this.dispatchNewColumnsLoaded()},e.prototype.dispatchNewColumnsLoaded=function(){var t={type:zt.EVENT_NEW_COLUMNS_LOADED};this.eventService.dispatchEvent(t)},e.prototype.dispatchEverythingChanged=function(t){void 0===t&&(t="api");var e={type:zt.EVENT_COLUMN_EVERYTHING_CHANGED,source:t};this.eventService.dispatchEvent(e)},e.prototype.orderGridColumnsLikePrimary=function(){var t=this,e=this.primaryColumns;e&&(this.gridColumns.sort((function(n,i){var o=e.indexOf(n),r=e.indexOf(i),s=o>=0,a=r>=0;return s&&a?o-r:s?1:a?-1:t.gridColumns.indexOf(n)-t.gridColumns.indexOf(i)})),this.gridColumns=this.placeLockedColumns(this.gridColumns))},e.prototype.getAllDisplayedAutoHeightCols=function(){return this.displayedAutoHeightCols},e.prototype.setViewport=function(){this.gridOptionsService.is("enableRtl")?(this.viewportLeft=this.bodyWidth-this.scrollPosition-this.scrollWidth,this.viewportRight=this.bodyWidth-this.scrollPosition):(this.viewportLeft=this.scrollPosition,this.viewportRight=this.scrollWidth+this.scrollPosition)},e.prototype.getDisplayedColumnsStartingAt=function(t){for(var e=t,n=[];null!=e;)n.push(e),e=this.getDisplayedColAfter(e);return n},e.prototype.checkViewportColumns=function(){if(null!=this.displayedColumnsCenter&&this.extractViewport()){var t={type:zt.EVENT_VIRTUAL_COLUMNS_CHANGED};this.eventService.dispatchEvent(t)}},e.prototype.setViewportPosition=function(t,e){(t!==this.scrollWidth||e!==this.scrollPosition||this.bodyWidthDirty)&&(this.scrollWidth=t,this.scrollPosition=e,this.bodyWidthDirty=!0,this.setViewport(),this.ready&&this.checkViewportColumns())},e.prototype.isPivotMode=function(){return this.pivotMode},e.prototype.isPivotSettingAllowed=function(t){return!t||!this.gridOptionsService.isTreeData()||(console.warn("AG Grid: Pivot mode not available in conjunction Tree Data i.e. 'gridOptions.treeData: true'"),!1)},e.prototype.setPivotMode=function(t,e){if(void 0===e&&(e="api"),t!==this.pivotMode&&this.isPivotSettingAllowed(this.pivotMode)){this.pivotMode=t,this.autoGroupsNeedBuilding=!0,this.updateGridColumns(),this.updateDisplayedColumns(e);var n={type:zt.EVENT_COLUMN_PIVOT_MODE_CHANGED};this.eventService.dispatchEvent(n)}},e.prototype.getSecondaryPivotColumn=function(t,e){if(r(this.secondaryColumns))return null;var n=this.getPrimaryColumn(e),i=null;return this.secondaryColumns.forEach((function(e){var o=e.getColDef().pivotKeys,r=e.getColDef().pivotValueColumn;gt(o,t)&&r===n&&(i=e)})),i},e.prototype.setBeans=function(t){this.logger=t.create("columnModel")},e.prototype.setFirstRightAndLastLeftPinned=function(t){var e,n;this.gridOptionsService.is("enableRtl")?(e=this.displayedColumnsLeft?this.displayedColumnsLeft[0]:null,n=this.displayedColumnsRight?ft(this.displayedColumnsRight):null):(e=this.displayedColumnsLeft?ft(this.displayedColumnsLeft):null,n=this.displayedColumnsRight?this.displayedColumnsRight[0]:null),this.gridColumns.forEach((function(i){i.setLastLeftPinned(i===e,t),i.setFirstRightPinned(i===n,t)}))},e.prototype.autoSizeColumns=function(t){var e=this,n=t.columns,i=t.skipHeader,o=t.skipHeaderGroups,r=t.stopAtGroup,s=t.source,a=void 0===s?"api":s;this.animationFrameService.flushAllFrames();for(var l=[],c=-1,u=null!=i?i:this.gridOptionsService.is("skipHeaderOnAutoSize"),h=null!=o?o:u;0!==c;)c=0,this.actionOnGridColumns(n,(function(t){if(l.indexOf(t)>=0)return!1;var n=e.autoWidthCalculator.getPreferredWidthForColumn(t,u);if(n>0){var i=e.normaliseColumnWidth(t,n);t.setActualWidth(i,a),l.push(t),c++}return!0}),a);h||this.autoSizeColumnGroupsByColumns(n,a,r),this.dispatchColumnResizedEvent(l,!0,"autosizeColumns")},e.prototype.dispatchColumnResizedEvent=function(t,e,n,i){if(void 0===i&&(i=null),t&&t.length){var o={type:zt.EVENT_COLUMN_RESIZED,columns:t,column:1===t.length?t[0]:null,flexColumns:i,finished:e,source:n};this.eventService.dispatchEvent(o)}},e.prototype.dispatchColumnChangedEvent=function(t,e,n){var i={type:t,columns:e,column:e&&1==e.length?e[0]:null,source:n};this.eventService.dispatchEvent(i)},e.prototype.dispatchColumnMovedEvent=function(t){var e=t.movedColumns,n=t.source,i=t.toIndex,o=t.finished,r={type:zt.EVENT_COLUMN_MOVED,columns:e,column:e&&1===e.length?e[0]:null,toIndex:i,finished:o,source:n};this.eventService.dispatchEvent(r)},e.prototype.dispatchColumnPinnedEvent=function(t,e){if(t.length){var n=1===t.length?t[0]:null,i=this.getCommonValue(t,(function(t){return t.getPinned()})),o={type:zt.EVENT_COLUMN_PINNED,pinned:null!=i?i:null,columns:t,column:n,source:e};this.eventService.dispatchEvent(o)}},e.prototype.dispatchColumnVisibleEvent=function(t,e){if(t.length){var n=1===t.length?t[0]:null,i=this.getCommonValue(t,(function(t){return t.isVisible()})),o={type:zt.EVENT_COLUMN_VISIBLE,visible:i,columns:t,column:n,source:e};this.eventService.dispatchEvent(o)}},e.prototype.autoSizeColumn=function(t,e,n){void 0===n&&(n="api"),t&&this.autoSizeColumns({columns:[t],skipHeader:e,skipHeaderGroups:!0,source:n})},e.prototype.autoSizeColumnGroupsByColumns=function(t,e,n){var i,o,r,s,a,l=new Set;this.getGridColumns(t).forEach((function(t){for(var e=t.getParent();e&&e!=n;)e.isPadding()||l.add(e),e=e.getParent()}));try{for(var c=Me(l),u=c.next();!u.done;u=c.next()){var h=u.value;try{for(var d=(r=void 0,Me(this.ctrlsService.getHeaderRowContainerCtrls())),p=d.next();!p.done;p=d.next()){if(a=p.value.getHeaderCtrlForColumn(h))break}}catch(t){r={error:t}}finally{try{p&&!p.done&&(s=d.return)&&s.call(d)}finally{if(r)throw r.error}}a&&a.resizeLeafColumnsToFit(e)}}catch(t){i={error:t}}finally{try{u&&!u.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}return[]},e.prototype.autoSizeAllColumns=function(t,e){void 0===e&&(e="api");var n=this.getAllDisplayedColumns();this.autoSizeColumns({columns:n,skipHeader:t,source:e})},e.prototype.getColumnsFromTree=function(t){var e=[],n=function(t){for(var i=0;i<t.length;i++){var o=t[i];o instanceof ct?e.push(o):o instanceof ht&&n(o.getChildren())}};return n(t),e},e.prototype.getAllDisplayedTrees=function(){return this.displayedTreeLeft&&this.displayedTreeRight&&this.displayedTreeCentre?this.displayedTreeLeft.concat(this.displayedTreeCentre).concat(this.displayedTreeRight):null},e.prototype.getPrimaryColumnTree=function(){return this.primaryColumnTree},e.prototype.getHeaderRowCount=function(){return this.gridHeaderRowCount},e.prototype.getDisplayedTreeLeft=function(){return this.displayedTreeLeft},e.prototype.getDisplayedTreeRight=function(){return this.displayedTreeRight},e.prototype.getDisplayedTreeCentre=function(){return this.displayedTreeCentre},e.prototype.isColumnDisplayed=function(t){return this.getAllDisplayedColumns().indexOf(t)>=0},e.prototype.getAllDisplayedColumns=function(){return this.displayedColumns},e.prototype.getViewportColumns=function(){return this.viewportColumns},e.prototype.getDisplayedLeftColumnsForRow=function(t){return this.colSpanActive?this.getDisplayedColumnsForRow(t,this.displayedColumnsLeft):this.displayedColumnsLeft},e.prototype.getDisplayedRightColumnsForRow=function(t){return this.colSpanActive?this.getDisplayedColumnsForRow(t,this.displayedColumnsRight):this.displayedColumnsRight},e.prototype.isColSpanActive=function(){return this.colSpanActive},e.prototype.getDisplayedColumnsForRow=function(t,e,n,i){for(var o,r=[],s=null,a=function(a){var l,c=e[a],u=e.length-a,h=Math.min(c.getColSpan(t),u),d=[c];if(h>1){for(var p=h-1,f=1;f<=p;f++)d.push(e[a+f]);a+=p}if(n?(l=!1,d.forEach((function(t){n(t)&&(l=!0)}))):l=!0,l){if(0===r.length&&s)!!i&&i(c)&&r.push(s);r.push(c)}s=c,o=a},l=0;l<e.length;l++)a(l),l=o;return r},e.prototype.getViewportCenterColumnsForRow=function(t){var e=this;if(!this.colSpanActive)return this.viewportColumnsCenter;var n=this.suppressColumnVirtualisation?null:this.isColumnInRowViewport.bind(this);return this.getDisplayedColumnsForRow(t,this.displayedColumnsCenter,n,(function(t){var n=t.getLeft();return o(n)&&n>e.viewportLeft}))},e.prototype.getAriaColumnIndex=function(t){return this.getAllGridColumns().indexOf(t)+1},e.prototype.isColumnInHeaderViewport=function(t){return!!t.isAutoHeaderHeight()||this.isColumnInRowViewport(t)},e.prototype.isColumnInRowViewport=function(t){if(t.isAutoHeight())return!0;var e=t.getLeft()||0,n=e+t.getActualWidth(),i=this.viewportLeft-200,o=this.viewportRight+200;return!(e<i&&n<i)&&!(e>o&&n>o)},e.prototype.getDisplayedColumnsLeftWidth=function(){return this.getWidthOfColsInList(this.displayedColumnsLeft)},e.prototype.getDisplayedColumnsRightWidth=function(){return this.getWidthOfColsInList(this.displayedColumnsRight)},e.prototype.updatePrimaryColumnList=function(t,e,n,i,o,r){var a=this;if(void 0===r&&(r="api"),t&&!s(t)){var l=!1;if(t.forEach((function(t){var o=a.getPrimaryColumn(t);if(o){if(n){if(e.indexOf(o)>=0)return;e.push(o)}else{if(e.indexOf(o)<0)return;_t(e,o)}i(o),l=!0}})),l){this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(r);var c={type:o,columns:e,column:1===e.length?e[0]:null,source:r};this.eventService.dispatchEvent(c)}}},e.prototype.setRowGroupColumns=function(t,e){void 0===e&&(e="api"),this.autoGroupsNeedBuilding=!0,this.setPrimaryColumnList(t,this.rowGroupColumns,zt.EVENT_COLUMN_ROW_GROUP_CHANGED,this.setRowGroupActive.bind(this),e)},e.prototype.setRowGroupActive=function(t,e,n){t!==e.isRowGroupActive()&&(e.setRowGroupActive(t,n),t&&!this.gridOptionsService.is("suppressRowGroupHidesColumns")&&this.setColumnVisible(e,!1,n),t||this.gridOptionsService.is("suppressMakeColumnVisibleAfterUnGroup")||this.setColumnVisible(e,!0,n))},e.prototype.addRowGroupColumn=function(t,e){void 0===e&&(e="api"),t&&this.addRowGroupColumns([t],e)},e.prototype.addRowGroupColumns=function(t,e){void 0===e&&(e="api"),this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(t,this.rowGroupColumns,!0,this.setRowGroupActive.bind(this,!0),zt.EVENT_COLUMN_ROW_GROUP_CHANGED,e)},e.prototype.removeRowGroupColumns=function(t,e){void 0===e&&(e="api"),this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(t,this.rowGroupColumns,!1,this.setRowGroupActive.bind(this,!1),zt.EVENT_COLUMN_ROW_GROUP_CHANGED,e)},e.prototype.removeRowGroupColumn=function(t,e){void 0===e&&(e="api"),t&&this.removeRowGroupColumns([t],e)},e.prototype.addPivotColumns=function(t,e){void 0===e&&(e="api"),this.updatePrimaryColumnList(t,this.pivotColumns,!0,(function(t){return t.setPivotActive(!0,e)}),zt.EVENT_COLUMN_PIVOT_CHANGED,e)},e.prototype.setPivotColumns=function(t,e){void 0===e&&(e="api"),this.setPrimaryColumnList(t,this.pivotColumns,zt.EVENT_COLUMN_PIVOT_CHANGED,(function(t,n){n.setPivotActive(t,e)}),e)},e.prototype.addPivotColumn=function(t,e){void 0===e&&(e="api"),this.addPivotColumns([t],e)},e.prototype.removePivotColumns=function(t,e){void 0===e&&(e="api"),this.updatePrimaryColumnList(t,this.pivotColumns,!1,(function(t){return t.setPivotActive(!1,e)}),zt.EVENT_COLUMN_PIVOT_CHANGED,e)},e.prototype.removePivotColumn=function(t,e){void 0===e&&(e="api"),this.removePivotColumns([t],e)},e.prototype.setPrimaryColumnList=function(t,e,n,i,r){var s=this;e.length=0,o(t)&&t.forEach((function(t){var n=s.getPrimaryColumn(t);n&&e.push(n)})),(this.primaryColumns||[]).forEach((function(t){var n=e.indexOf(t)>=0;i(n,t)})),this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(r),this.dispatchColumnChangedEvent(n,e,r)},e.prototype.setValueColumns=function(t,e){void 0===e&&(e="api"),this.setPrimaryColumnList(t,this.valueColumns,zt.EVENT_COLUMN_VALUE_CHANGED,this.setValueActive.bind(this),e)},e.prototype.setValueActive=function(t,e,n){if(t!==e.isValueActive()&&(e.setValueActive(t,n),t&&!e.getAggFunc())){var i=this.aggFuncService.getDefaultAggFunc(e);e.setAggFunc(i)}},e.prototype.addValueColumns=function(t,e){void 0===e&&(e="api"),this.updatePrimaryColumnList(t,this.valueColumns,!0,this.setValueActive.bind(this,!0),zt.EVENT_COLUMN_VALUE_CHANGED,e)},e.prototype.addValueColumn=function(t,e){void 0===e&&(e="api"),t&&this.addValueColumns([t],e)},e.prototype.removeValueColumn=function(t,e){void 0===e&&(e="api"),this.removeValueColumns([t],e)},e.prototype.removeValueColumns=function(t,e){void 0===e&&(e="api"),this.updatePrimaryColumnList(t,this.valueColumns,!1,this.setValueActive.bind(this,!1),zt.EVENT_COLUMN_VALUE_CHANGED,e)},e.prototype.normaliseColumnWidth=function(t,e){var n=t.getMinWidth();o(n)&&e<n&&(e=n);var i=t.getMaxWidth();return o(i)&&t.isGreaterThanMax(e)&&(e=i),e},e.prototype.getPrimaryOrGridColumn=function(t){return this.getPrimaryColumn(t)||this.getGridColumn(t)},e.prototype.setColumnWidths=function(t,e,n,i){var o=this;void 0===i&&(i="api");var r=[];t.forEach((function(t){var n=o.getPrimaryOrGridColumn(t.key);if(n&&(r.push({width:t.newWidth,ratios:[1],columns:[n]}),"shift"===o.gridOptionsService.get("colResizeDefault")&&(e=!e),e)){var i=o.getDisplayedColAfter(n);if(!i)return;var s=n.getActualWidth()-t.newWidth,a=i.getActualWidth()+s;r.push({width:a,ratios:[1],columns:[i]})}})),0!==r.length&&this.resizeColumnSets({resizeSets:r,finished:n,source:i})},e.prototype.checkMinAndMaxWidthsForSet=function(t){var e=t.columns,n=t.width,i=0,r=0,s=!0;return e.forEach((function(t){var e=t.getMinWidth();i+=e||0;var n=t.getMaxWidth();o(n)&&n>0?r+=n:s=!1})),n>=i&&(!s||n<=r)},e.prototype.resizeColumnSets=function(t){var e=this,n=t.resizeSets,i=t.finished,r=t.source;if(!n||n.every((function(t){return e.checkMinAndMaxWidthsForSet(t)}))){var s=[],a=[];n.forEach((function(t){var e=t.width,n=t.columns,i=t.ratios,l={},c={};n.forEach((function(t){return a.push(t)}));for(var u=!0,h=0,d=function(){if(++h>1e3)return console.error("AG Grid: infinite loop in resizeColumnSets"),"break";u=!1;var t=[],r=0,s=e;n.forEach((function(e,n){if(c[e.getId()])s-=l[e.getId()];else{t.push(e);var o=i[n];r+=o}}));var a=1/r;t.forEach((function(n,r){var h;r===t.length-1?h=s:(h=Math.round(i[r]*e*a),s-=h);var d=n.getMinWidth(),p=n.getMaxWidth();o(d)&&h<d?(h=d,c[n.getId()]=!0,u=!0):o(p)&&p>0&&h>p&&(h=p,c[n.getId()]=!0,u=!0),l[n.getId()]=h}))};u;){if("break"===d())break}n.forEach((function(t){var e=l[t.getId()];t.getActualWidth()!==e&&(t.setActualWidth(e,r),s.push(t))}))}));var l=s.length>0,c=[];l&&(c=this.refreshFlexedColumns({resizingCols:a,skipSetLeft:!0}),this.setLeftValues(r),this.updateBodyWidths(),this.checkViewportColumns());var u=a.concat(c);(l||i)&&this.dispatchColumnResizedEvent(u,i,r,c)}else if(i){var h=n&&n.length>0?n[0].columns:null;this.dispatchColumnResizedEvent(h,i,r)}},e.prototype.setColumnAggFunc=function(t,e,n){if(void 0===n&&(n="api"),t){var i=this.getPrimaryColumn(t);i&&(i.setAggFunc(e),this.dispatchColumnChangedEvent(zt.EVENT_COLUMN_VALUE_CHANGED,[i],n))}},e.prototype.moveRowGroupColumn=function(t,e,n){void 0===n&&(n="api");var i=this.rowGroupColumns[t];this.rowGroupColumns.splice(t,1),this.rowGroupColumns.splice(e,0,i);var o={type:zt.EVENT_COLUMN_ROW_GROUP_CHANGED,columns:this.rowGroupColumns,column:1===this.rowGroupColumns.length?this.rowGroupColumns[0]:null,source:n};this.eventService.dispatchEvent(o)},e.prototype.moveColumns=function(t,e,n,i){if(void 0===n&&(n="api"),void 0===i&&(i=!0),this.columnAnimationService.start(),e>this.gridColumns.length-t.length)return console.warn("AG Grid: tried to insert columns in invalid location, toIndex = "+e),void console.warn("AG Grid: remember that you should not count the moving columns when calculating the new index");var o=this.getGridColumns(t);!this.doesMovePassRules(o,e)||(Ct(this.gridColumns,o,e),this.updateDisplayedColumns(n),this.dispatchColumnMovedEvent({movedColumns:o,source:n,toIndex:e,finished:i}),this.columnAnimationService.finish())},e.prototype.doesMovePassRules=function(t,e){var n=this.getProposedColumnOrder(t,e);return this.doesOrderPassRules(n)},e.prototype.doesOrderPassRules=function(t){return!!this.doesMovePassMarryChildren(t)&&!!this.doesMovePassLockedPositions(t)},e.prototype.getProposedColumnOrder=function(t,e){var n=this.gridColumns.slice();return Ct(n,t,e),n},e.prototype.sortColumnsLikeGridColumns=function(t){var e=this;!t||t.length<=1||(t.filter((function(t){return e.gridColumns.indexOf(t)<0})).length>0||t.sort((function(t,n){return e.gridColumns.indexOf(t)-e.gridColumns.indexOf(n)})))},e.prototype.doesMovePassLockedPositions=function(t){var e=0,n=!0;return t.forEach((function(t){var i,o=(i=t.getColDef().lockPosition)?!0===i||"left"===i?0:2:1;o<e&&(n=!1),e=o})),n},e.prototype.doesMovePassMarryChildren=function(t){var e=!0;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,(function(n){if(n instanceof ht){var i=n,o=i.getColGroupDef();if(o&&o.marryChildren){var r=[];i.getLeafColumns().forEach((function(e){var n=t.indexOf(e);r.push(n)})),Math.max.apply(Math,r)-Math.min.apply(Math,r)>i.getLeafColumns().length-1&&(e=!1)}}})),e},e.prototype.moveColumn=function(t,e,n){void 0===n&&(n="api"),this.moveColumns([t],e,n)},e.prototype.moveColumnByIndex=function(t,e,n){void 0===n&&(n="api");var i=this.gridColumns[t];this.moveColumn(i,e,n)},e.prototype.getColumnDefs=function(){var t=this;if(this.primaryColumns){var e=this.primaryColumns.slice();return this.gridColsArePrimary?e.sort((function(e,n){return t.gridColumns.indexOf(e)-t.gridColumns.indexOf(n)})):this.lastPrimaryOrder&&e.sort((function(e,n){return t.lastPrimaryOrder.indexOf(e)-t.lastPrimaryOrder.indexOf(n)})),this.columnDefFactory.buildColumnDefs(e,this.rowGroupColumns,this.pivotColumns)}},e.prototype.getBodyContainerWidth=function(){return this.bodyWidth},e.prototype.getContainerWidth=function(t){switch(t){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}},e.prototype.updateBodyWidths=function(){var t=this.getWidthOfColsInList(this.displayedColumnsCenter),e=this.getWidthOfColsInList(this.displayedColumnsLeft),n=this.getWidthOfColsInList(this.displayedColumnsRight);if(this.bodyWidthDirty=this.bodyWidth!==t,this.bodyWidth!==t||this.leftWidth!==e||this.rightWidth!==n){this.bodyWidth=t,this.leftWidth=e,this.rightWidth=n;var i={type:zt.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED};this.eventService.dispatchEvent(i)}},e.prototype.getValueColumns=function(){return this.valueColumns?this.valueColumns:[]},e.prototype.getPivotColumns=function(){return this.pivotColumns?this.pivotColumns:[]},e.prototype.isPivotActive=function(){return this.pivotColumns&&this.pivotColumns.length>0&&this.pivotMode},e.prototype.getRowGroupColumns=function(){return this.rowGroupColumns?this.rowGroupColumns:[]},e.prototype.getDisplayedCenterColumns=function(){return this.displayedColumnsCenter},e.prototype.getDisplayedLeftColumns=function(){return this.displayedColumnsLeft},e.prototype.getDisplayedRightColumns=function(){return this.displayedColumnsRight},e.prototype.getDisplayedColumns=function(t){switch(t){case"left":return this.getDisplayedLeftColumns();case"right":return this.getDisplayedRightColumns();default:return this.getDisplayedCenterColumns()}},e.prototype.getAllPrimaryColumns=function(){return this.primaryColumns?this.primaryColumns.slice():null},e.prototype.getSecondaryColumns=function(){return this.secondaryColumns?this.secondaryColumns.slice():null},e.prototype.getAllColumnsForQuickFilter=function(){return this.columnsForQuickFilter},e.prototype.getAllGridColumns=function(){return this.gridColumns},e.prototype.isEmpty=function(){return s(this.gridColumns)},e.prototype.isRowGroupEmpty=function(){return s(this.rowGroupColumns)},e.prototype.setColumnVisible=function(t,e,n){void 0===n&&(n="api"),this.setColumnsVisible([t],e,n)},e.prototype.setColumnsVisible=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n="api"),this.applyColumnState({state:t.map((function(t){return{colId:"string"==typeof t?t:t.getColId(),hide:!e}}))},n)},e.prototype.setColumnPinned=function(t,e,n){void 0===n&&(n="api"),t&&this.setColumnsPinned([t],e,n)},e.prototype.setColumnsPinned=function(t,e,n){var i;(void 0===n&&(n="api"),this.gridOptionsService.isDomLayout("print"))?console.warn("AG Grid: Changing the column pinning status is not allowed with domLayout='print'"):(this.columnAnimationService.start(),i=!0===e||"left"===e?"left":"right"===e?"right":null,this.actionOnGridColumns(t,(function(t){return t.getPinned()!==i&&(t.setPinned(i),!0)}),n,(function(){return{type:zt.EVENT_COLUMN_PINNED,pinned:i,column:null,columns:null,source:n}})),this.columnAnimationService.finish())},e.prototype.actionOnGridColumns=function(t,e,n,i){var r=this;if(!s(t)){var a=[];if(t.forEach((function(t){var n=r.getGridColumn(t);n&&(!1!==e(n)&&a.push(n))})),a.length&&(this.updateDisplayedColumns(n),o(i)&&i)){var l=i();l.columns=a,l.column=1===a.length?a[0]:null,this.eventService.dispatchEvent(l)}}},e.prototype.getDisplayedColBefore=function(t){var e=this.getAllDisplayedColumns(),n=e.indexOf(t);return n>0?e[n-1]:null},e.prototype.getDisplayedColAfter=function(t){var e=this.getAllDisplayedColumns(),n=e.indexOf(t);return n<e.length-1?e[n+1]:null},e.prototype.getDisplayedGroupAfter=function(t){return this.getDisplayedGroupAtDirection(t,"After")},e.prototype.getDisplayedGroupBefore=function(t){return this.getDisplayedGroupAtDirection(t,"Before")},e.prototype.getDisplayedGroupAtDirection=function(t,e){for(var n=t.getProvidedColumnGroup().getLevel()+t.getPaddingLevel(),i=t.getDisplayedLeafColumns(),o="After"===e?ft(i):i[0],r="getDisplayedCol"+e;;){var s=this[r](o);if(!s)return null;var a=this.getColumnGroupAtLevel(s,n);if(a!==t)return a}},e.prototype.getColumnGroupAtLevel=function(t,e){for(var n=t.getParent();;){if(n.getProvidedColumnGroup().getLevel()+n.getPaddingLevel()<=e)break;n=n.getParent()}return n},e.prototype.isPinningLeft=function(){return this.displayedColumnsLeft.length>0},e.prototype.isPinningRight=function(){return this.displayedColumnsRight.length>0},e.prototype.getPrimaryAndSecondaryAndAutoColumns=function(){var t;return(t=[]).concat.apply(t,Re([this.primaryColumns||[],this.groupAutoColumns||[],this.secondaryColumns||[]]))},e.prototype.createStateItemFromColumn=function(t){var e=t.isRowGroupActive()?this.rowGroupColumns.indexOf(t):null,n=t.isPivotActive()?this.pivotColumns.indexOf(t):null,i=t.isValueActive()?t.getAggFunc():null,o=null!=t.getSort()?t.getSort():null,r=null!=t.getSortIndex()?t.getSortIndex():null,s=null!=t.getFlex()&&t.getFlex()>0?t.getFlex():null;return{colId:t.getColId(),width:t.getActualWidth(),hide:!t.isVisible(),pinned:t.getPinned(),sort:o,sortIndex:r,aggFunc:i,rowGroup:t.isRowGroupActive(),rowGroupIndex:e,pivot:t.isPivotActive(),pivotIndex:n,flex:s}},e.prototype.getColumnState=function(){if(r(this.primaryColumns)||!this.isAlive())return[];var t=this.getPrimaryAndSecondaryAndAutoColumns().map(this.createStateItemFromColumn.bind(this));return this.orderColumnStateList(t),t},e.prototype.orderColumnStateList=function(t){var e=Se(this.gridColumns.map((function(t,e){return[t.getColId(),e]})));t.sort((function(t,n){return(e.has(t.colId)?e.get(t.colId):-1)-(e.has(n.colId)?e.get(n.colId):-1)}))},e.prototype.resetColumnState=function(t){void 0===t&&(t="api");var e=this.getColumnsFromTree(this.primaryColumnTree),n=[],i=1e3,o=1e3,s=[];this.groupAutoColumns&&(s=s.concat(this.groupAutoColumns)),e&&(s=s.concat(e)),s.forEach((function(t){var e=function(t,e){return null!=t?t:null!=e?e:null},s=t.getColDef(),a=e(s.sort,s.initialSort),l=e(s.sortIndex,s.initialSortIndex),c=e(s.hide,s.initialHide),u=e(s.pinned,s.initialPinned),h=e(s.width,s.initialWidth),d=e(s.flex,s.initialFlex),p=e(s.rowGroupIndex,s.initialRowGroupIndex),f=e(s.rowGroup,s.initialRowGroup);null!=p||null!=f&&0!=f||(p=null,f=null);var g=e(s.pivotIndex,s.initialPivotIndex),m=e(s.pivot,s.initialPivot);null!=g||null!=m&&0!=m||(g=null,m=null);var _=e(s.aggFunc,s.initialAggFunc),y={colId:t.getColId(),sort:a,sortIndex:l,hide:c,pinned:u,width:h,flex:d,rowGroup:f,rowGroupIndex:p,pivot:m,pivotIndex:g,aggFunc:_};r(p)&&f&&(y.rowGroupIndex=i++),r(g)&&m&&(y.pivotIndex=o++),n.push(y)})),this.applyColumnState({state:n,applyOrder:!0},t)},e.prototype.applyColumnState=function(t,e){var n=this;if(s(this.primaryColumns))return!1;if(t&&t.state&&!t.state.forEach)return console.warn("AG Grid: applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state."),!1;var i=function(i,o,r){var s=n.compareColumnStatesAndDispatchEvents(e);n.autoGroupsNeedBuilding=!0;var a=o.slice(),l={},c={},u=[],h=[],d=0,p=n.rowGroupColumns.slice(),f=n.pivotColumns.slice();i.forEach((function(i){var o=i.colId||"";if(o.startsWith(ge))return u.push(i),void h.push(i);var s=r(o);s?(n.syncColumnWithStateItem(s,i,t.defaultState,l,c,!1,e),_t(a,s)):(h.push(i),d+=1)}));var g=function(i){return n.syncColumnWithStateItem(i,null,t.defaultState,l,c,!1,e)};a.forEach(g);var m=function(t,e,n,i){var o=t[n.getId()],r=t[i.getId()],s=null!=o,a=null!=r;if(s&&a)return o-r;if(s)return-1;if(a)return 1;var l=e.indexOf(n),c=e.indexOf(i),u=l>=0;return u&&c>=0?l-c:u?-1:1};n.rowGroupColumns.sort(m.bind(n,l,p)),n.pivotColumns.sort(m.bind(n,c,f)),n.updateGridColumns();var _=n.groupAutoColumns?n.groupAutoColumns.slice():[];return u.forEach((function(i){var o=n.getAutoColumn(i.colId);_t(_,o),n.syncColumnWithStateItem(o,i,t.defaultState,null,null,!0,e)})),_.forEach(g),n.applyOrderAfterApplyState(t),n.updateDisplayedColumns(e),n.dispatchEverythingChanged(e),s(),{unmatchedAndAutoStates:h,unmatchedCount:d}};this.columnAnimationService.start();var r=i(t.state||[],this.primaryColumns||[],(function(t){return n.getPrimaryColumn(t)})),a=r.unmatchedAndAutoStates,l=r.unmatchedCount;return(a.length>0||o(t.defaultState))&&(l=i(a,this.secondaryColumns||[],(function(t){return n.getSecondaryColumn(t)})).unmatchedCount),this.columnAnimationService.finish(),0===l},e.prototype.applyOrderAfterApplyState=function(t){var e=this;if(t.applyOrder&&t.state){var n=[],i={};t.state.forEach((function(t){if(t.colId&&!i[t.colId]){var o=e.gridColumnsMap[t.colId];o&&(n.push(o),i[t.colId]=!0)}}));var o=0;this.gridColumns.forEach((function(t){var e=t.getColId();null!=i[e]||(e.startsWith(ge)?vt(n,t,o++):n.push(t))})),n=this.placeLockedColumns(n),this.doesMovePassMarryChildren(n)?this.gridColumns=n:console.warn("AG Grid: Applying column order broke a group where columns should be married together. Applying new order has been discarded.")}},e.prototype.compareColumnStatesAndDispatchEvents=function(t){var e=this,n={rowGroupColumns:this.rowGroupColumns.slice(),pivotColumns:this.pivotColumns.slice(),valueColumns:this.valueColumns.slice()},i=this.getColumnState(),o={};return i.forEach((function(t){o[t.colId]=t})),function(){var r=e.getPrimaryAndSecondaryAndAutoColumns(),s=function(n,i,o,r){if(!gt(i.map(r),o.map(r))){var s={type:n,columns:o,column:1===o.length?o[0]:null,source:t};e.eventService.dispatchEvent(s)}},a=function(t){var e=[];return r.forEach((function(n){var i=o[n.getColId()];i&&t(i,n)&&e.push(n)})),e},l=function(t){return t.getColId()};s(zt.EVENT_COLUMN_ROW_GROUP_CHANGED,n.rowGroupColumns,e.rowGroupColumns,l),s(zt.EVENT_COLUMN_PIVOT_CHANGED,n.pivotColumns,e.pivotColumns,l);a((function(t,e){var n=null!=t.aggFunc,i=n!=e.isValueActive(),o=n&&t.aggFunc!=e.getAggFunc();return i||o})).length>0&&e.dispatchColumnChangedEvent(zt.EVENT_COLUMN_VALUE_CHANGED,e.valueColumns,t);e.dispatchColumnResizedEvent(a((function(t,e){return t.width!=e.getActualWidth()})),!0,t);e.dispatchColumnPinnedEvent(a((function(t,e){return t.pinned!=e.getPinned()})),t);e.dispatchColumnVisibleEvent(a((function(t,e){return t.hide==e.isVisible()})),t);a((function(t,e){return t.sort!=e.getSort()||t.sortIndex!=e.getSortIndex()})).length>0&&e.sortController.dispatchSortChangedEvents(t),e.normaliseColumnMovedEventForColumnState(i,t)}},e.prototype.getCommonValue=function(t,e){if(t&&0!=t.length){for(var n=e(t[0]),i=1;i<t.length;i++)if(n!==e(t[i]))return;return n}},e.prototype.normaliseColumnMovedEventForColumnState=function(t,e){var n=this,i=this.getColumnState(),o={};i.forEach((function(t){return o[t.colId]=t}));var r={};t.forEach((function(t){o[t.colId]&&(r[t.colId]=!0)}));var s=t.filter((function(t){return r[t.colId]})),a=i.filter((function(t){return r[t.colId]})),l=[];a.forEach((function(t,e){var i=s&&s[e];if(i&&i.colId!==t.colId){var o=n.getGridColumn(i.colId);o&&l.push(o)}})),l.length&&this.dispatchColumnMovedEvent({movedColumns:l,source:e,finished:!0})},e.prototype.syncColumnWithStateItem=function(t,e,n,i,r,s,a){if(t){var l=function(t,i){var r={value1:void 0,value2:void 0},s=!1;return e&&(void 0!==e[t]&&(r.value1=e[t],s=!0),o(i)&&void 0!==e[i]&&(r.value2=e[i],s=!0)),!s&&n&&(void 0!==n[t]&&(r.value1=n[t]),o(i)&&void 0!==n[i]&&(r.value2=n[i])),r},c=l("hide").value1;void 0!==c&&t.setVisible(!c,a);var u=l("pinned").value1;void 0!==u&&t.setPinned(u);var h=this.columnUtils.calculateColMinWidth(t.getColDef()),d=l("flex").value1;if(void 0!==d&&t.setFlex(d),t.getFlex()<=0){var p=l("width").value1;null!=p&&null!=h&&p>=h&&t.setActualWidth(p,a)}var f=l("sort").value1;void 0!==f&&("desc"===f||"asc"===f?t.setSort(f,a):t.setSort(void 0,a));var g=l("sortIndex").value1;if(void 0!==g&&t.setSortIndex(g),!s&&t.isPrimary()){var m=l("aggFunc").value1;void 0!==m&&("string"==typeof m?(t.setAggFunc(m),t.isValueActive()||(t.setValueActive(!0,a),this.valueColumns.push(t))):(o(m)&&console.warn("AG Grid: stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON."),t.isValueActive()&&(t.setValueActive(!1,a),_t(this.valueColumns,t))));var _=l("rowGroup","rowGroupIndex"),y=_.value1,v=_.value2;void 0===y&&void 0===v||("number"==typeof v||y?(t.isRowGroupActive()||(t.setRowGroupActive(!0,a),this.rowGroupColumns.push(t)),i&&"number"==typeof v&&(i[t.getId()]=v)):t.isRowGroupActive()&&(t.setRowGroupActive(!1,a),_t(this.rowGroupColumns,t)));var C=l("pivot","pivotIndex"),b=C.value1,E=C.value2;void 0===b&&void 0===E||("number"==typeof E||b?(t.isPivotActive()||(t.setPivotActive(!0,a),this.pivotColumns.push(t)),r&&"number"==typeof E&&(r[t.getId()]=E)):t.isPivotActive()&&(t.setPivotActive(!1,a),_t(this.pivotColumns,t)))}}},e.prototype.getGridColumns=function(t){return this.getColumns(t,this.getGridColumn.bind(this))},e.prototype.getColumns=function(t,e){var n=[];return t&&t.forEach((function(t){var i=e(t);i&&n.push(i)})),n},e.prototype.getColumnWithValidation=function(t){if(null==t)return null;var e=this.getGridColumn(t);return e||console.warn("AG Grid: could not find column "+t),e},e.prototype.getPrimaryColumn=function(t){return this.primaryColumns?this.getColumn(t,this.primaryColumns,this.primaryColumnsMap):null},e.prototype.getGridColumn=function(t){return this.getColumn(t,this.gridColumns,this.gridColumnsMap)},e.prototype.getSecondaryColumn=function(t){return this.secondaryColumns?this.getColumn(t,this.secondaryColumns,this.secondaryColumnsMap):null},e.prototype.getColumn=function(t,e,n){if(!t)return null;if("string"==typeof t&&n[t])return n[t];for(var i=0;i<e.length;i++)if(this.columnsMatch(e[i],t))return e[i];return this.getAutoColumn(t)},e.prototype.getSourceColumnsForGroupColumn=function(t){var e=t.getColDef().showRowGroup;if(!e)return null;if(!0===e)return this.rowGroupColumns.slice(0);var n=this.getPrimaryColumn(e);return n?[n]:null},e.prototype.getAutoColumn=function(t){var e=this;return this.groupAutoColumns&&o(this.groupAutoColumns)&&!r(this.groupAutoColumns)&&this.groupAutoColumns.find((function(n){return e.columnsMatch(n,t)}))||null},e.prototype.columnsMatch=function(t,e){var n=t===e,i=t.getColDef()===e,o=t.getColId()==e;return n||i||o},e.prototype.getDisplayNameForColumn=function(t,e,n){if(void 0===n&&(n=!1),!t)return null;var i=this.getHeaderName(t.getColDef(),t,null,null,e);return n?this.wrapHeaderNameWithAggFunc(t,i):i},e.prototype.getDisplayNameForProvidedColumnGroup=function(t,e,n){var i=e?e.getColGroupDef():null;return i?this.getHeaderName(i,null,t,e,n):null},e.prototype.getDisplayNameForColumnGroup=function(t,e){return this.getDisplayNameForProvidedColumnGroup(t,t.getProvidedColumnGroup(),e)},e.prototype.getHeaderName=function(t,e,n,i,o){var r=t.headerValueGetter;if(r){var s={colDef:t,column:e,columnGroup:n,providedColumnGroup:i,location:o,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};return"function"==typeof r?r(s):"string"==typeof r?this.expressionService.evaluate(r,s):(console.warn("AG Grid: headerValueGetter must be a function or a string"),"")}return null!=t.headerName?t.headerName:t.field?be(t.field):""},e.prototype.wrapHeaderNameWithAggFunc=function(t,e){if(this.gridOptionsService.is("suppressAggFuncInHeader"))return e;var n,i=t.getColDef().pivotValueColumn,r=null;if(o(i)){var s=this.gridOptionsService.is("removePivotHeaderRowWhenSingleValueColumn")&&1===this.valueColumns.length,a=void 0!==t.getColDef().pivotTotalColumnIds;if(s&&!a)return e;r=i?i.getAggFunc():null,n=!0}else{var l=t.isValueActive(),c=this.pivotMode||!this.isRowGroupEmpty();l&&c?(r=t.getAggFunc(),n=!0):n=!1}if(n){var u="string"==typeof r?r:"func";return this.localeService.getLocaleTextFunc()(u,u)+"("+e+")"}return e},e.prototype.getColumnGroup=function(t,e){if(!t)return null;if(t instanceof he)return t;var n=this.getAllDisplayedTrees(),i="number"==typeof e,o=null;return this.columnUtils.depthFirstAllColumnTreeSearch(n,(function(n){if(n instanceof he){var r=n;(i?t===r.getGroupId()&&e===r.getPartId():t===r.getGroupId())&&(o=r)}})),o},e.prototype.isReady=function(){return this.ready},e.prototype.extractValueColumns=function(t,e){this.valueColumns=this.extractColumns(e,this.valueColumns,(function(e,n){return e.setValueActive(n,t)}),(function(){}),(function(){}),(function(t){var e=t.aggFunc;return null===e||""===e?null:void 0!==e?!!e:void 0}),(function(t){return null!=t.initialAggFunc&&""!=t.initialAggFunc})),this.valueColumns.forEach((function(t){var e=t.getColDef();null!=e.aggFunc&&""!=e.aggFunc?t.setAggFunc(e.aggFunc):t.getAggFunc()||t.setAggFunc(e.initialAggFunc)}))},e.prototype.extractRowGroupColumns=function(t,e){this.rowGroupColumns=this.extractColumns(e,this.rowGroupColumns,(function(e,n){return e.setRowGroupActive(n,t)}),(function(t){return t.rowGroupIndex}),(function(t){return t.initialRowGroupIndex}),(function(t){return t.rowGroup}),(function(t){return t.initialRowGroup}))},e.prototype.extractColumns=function(t,e,n,i,o,r,s){void 0===t&&(t=[]),void 0===e&&(e=[]);var a=[],u=[];(this.primaryColumns||[]).forEach((function(n){var h=t.indexOf(n)<0,d=n.getColDef(),p=c(r(d)),f=c(s(d)),g=l(i(d)),m=l(o(d));(void 0!==p?p:void 0!==g?null!==g&&g>=0:h?void 0!==f?f:!!(void 0!==m)&&(null!=m&&m>=0):e.indexOf(n)>=0)&&((h?null!=g||null!=m:null!=g)?a.push(n):u.push(n))}));var h=function(t){var e=i(t.getColDef()),n=o(t.getColDef());return null!=e?e:n};a.sort((function(t,e){var n=h(t),i=h(e);return n===i?0:n<i?-1:1}));var d=[].concat(a);return e.forEach((function(t){u.indexOf(t)>=0&&d.push(t)})),u.forEach((function(t){d.indexOf(t)<0&&d.push(t)})),e.forEach((function(t){d.indexOf(t)<0&&n(t,!1)})),d.forEach((function(t){e.indexOf(t)<0&&n(t,!0)})),d},e.prototype.extractPivotColumns=function(t,e){this.pivotColumns=this.extractColumns(e,this.pivotColumns,(function(e,n){return e.setPivotActive(n,t)}),(function(t){return t.pivotIndex}),(function(t){return t.initialPivotIndex}),(function(t){return t.pivot}),(function(t){return t.initialPivot}))},e.prototype.resetColumnGroupState=function(t){void 0===t&&(t="api");var e=[];this.columnUtils.depthFirstOriginalTreeSearch(null,this.primaryColumnTree,(function(t){if(t instanceof ht){var n=t.getColGroupDef(),i={groupId:t.getGroupId(),open:n?n.openByDefault:void 0};e.push(i)}})),this.setColumnGroupState(e,t)},e.prototype.getColumnGroupState=function(){var t=[];return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,(function(e){e instanceof ht&&t.push({groupId:e.getGroupId(),open:e.isExpanded()})})),t},e.prototype.setColumnGroupState=function(t,e){var n=this;void 0===e&&(e="api"),this.columnAnimationService.start();var i=[];t.forEach((function(t){var e=t.groupId,o=t.open,r=n.getProvidedColumnGroup(e);r&&r.isExpanded()!==o&&(n.logger.log("columnGroupOpened("+r.getGroupId()+","+o+")"),r.setExpanded(o),i.push(r))})),this.updateGroupsAndDisplayedColumns(e),this.setFirstRightAndLastLeftPinned(e),i.forEach((function(t){var e={type:zt.EVENT_COLUMN_GROUP_OPENED,columnGroup:t};n.eventService.dispatchEvent(e)})),this.columnAnimationService.finish()},e.prototype.setColumnGroupOpened=function(t,e,n){var i;void 0===n&&(n="api"),i=t instanceof ht?t.getId():t||"",this.setColumnGroupState([{groupId:i,open:e}],n)},e.prototype.getProvidedColumnGroup=function(t){"string"!=typeof t&&console.error("AG Grid: group key must be a string");var e=null;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,(function(n){n instanceof ht&&n.getId()===t&&(e=n)})),e},e.prototype.calculateColumnsForDisplay=function(){var t=this;return this.pivotMode&&r(this.secondaryColumns)?this.gridColumns.filter((function(e){var n=t.groupAutoColumns&&bt(t.groupAutoColumns,e),i=t.valueColumns&&bt(t.valueColumns,e);return n||i})):this.gridColumns.filter((function(e){return t.groupAutoColumns&&bt(t.groupAutoColumns,e)||e.isVisible()}))},e.prototype.checkColSpanActiveInCols=function(t){var e=!1;return t.forEach((function(t){o(t.getColDef().colSpan)&&(e=!0)})),e},e.prototype.calculateColumnsForGroupDisplay=function(){var t=this;this.groupDisplayColumns=[],this.groupDisplayColumnsMap={};var e=function(e){var n=e.getColDef(),i=n.showRowGroup;n&&o(i)&&(t.groupDisplayColumns.push(e),"string"==typeof i?t.groupDisplayColumnsMap[i]=e:!0===i&&t.getRowGroupColumns().forEach((function(n){t.groupDisplayColumnsMap[n.getId()]=e})))};this.gridColumns.forEach(e),this.groupAutoColumns&&this.groupAutoColumns.forEach(e)},e.prototype.getGroupDisplayColumns=function(){return this.groupDisplayColumns},e.prototype.getGroupDisplayColumnForGroup=function(t){return this.groupDisplayColumnsMap[t]},e.prototype.updateDisplayedColumns=function(t){var e=this.calculateColumnsForDisplay();this.buildDisplayedTrees(e),this.calculateColumnsForGroupDisplay(),this.updateGroupsAndDisplayedColumns(t),this.setFirstRightAndLastLeftPinned(t)},e.prototype.isSecondaryColumnsPresent=function(){return o(this.secondaryColumns)},e.prototype.setSecondaryColumns=function(t,e){var n=this;void 0===e&&(e="api");var i=t&&t.length>0;if(i||!r(this.secondaryColumns)){if(i){this.processSecondaryColumnDefinitions(t);var o=this.columnFactory.createColumnTree(t,!1,this.secondaryBalancedTree||this.previousSecondaryColumns||void 0);this.destroyOldColumns(this.secondaryBalancedTree,o.columnTree),this.secondaryBalancedTree=o.columnTree,this.secondaryHeaderRowCount=o.treeDept+1,this.secondaryColumns=this.getColumnsFromTree(this.secondaryBalancedTree),this.secondaryColumnsMap={},this.secondaryColumns.forEach((function(t){return n.secondaryColumnsMap[t.getId()]=t})),this.previousSecondaryColumns=null}else this.previousSecondaryColumns=this.secondaryBalancedTree,this.secondaryBalancedTree=null,this.secondaryHeaderRowCount=-1,this.secondaryColumns=null,this.secondaryColumnsMap={};this.updateGridColumns(),this.updateDisplayedColumns(e)}},e.prototype.processSecondaryColumnDefinitions=function(t){var e=this.gridOptionsService.get("processPivotResultColDef")||this.gridOptionsService.get("processSecondaryColDef"),n=this.gridOptionsService.get("processPivotResultColGroupDef")||this.gridOptionsService.get("processSecondaryColGroupDef");if(e||n){var i=function(t){t.forEach((function(t){if(o(t.children)){var r=t;n&&n(r),i(r.children)}else{e&&e(t)}}))};t&&i(t)}},e.prototype.updateGridColumns=function(){var t,e=this,n=this.gridBalancedTree;if(this.gridColsArePrimary?this.lastPrimaryOrder=this.gridColumns:this.lastSecondaryOrder=this.gridColumns,this.secondaryColumns&&this.secondaryBalancedTree){var i=this.secondaryColumns.every((function(t){return void 0!==e.gridColumnsMap[t.getColId()]}));this.gridBalancedTree=this.secondaryBalancedTree.slice(),this.gridHeaderRowCount=this.secondaryHeaderRowCount,this.gridColumns=this.secondaryColumns.slice(),this.gridColsArePrimary=!1,i&&(t=this.lastSecondaryOrder)}else this.primaryColumns&&(this.gridBalancedTree=this.primaryColumnTree.slice(),this.gridHeaderRowCount=this.primaryHeaderRowCount,this.gridColumns=this.primaryColumns.slice(),this.gridColsArePrimary=!0,t=this.lastPrimaryOrder);if(this.createGroupAutoColumnsIfNeeded()&&t){var o=Se(this.groupAutoColumns.map((function(t){return[t,!0]})));t=t.filter((function(t){return!o.has(t)})),t=Re(this.groupAutoColumns,t)}if(this.addAutoGroupToGridColumns(),this.orderGridColsLike(t),this.gridColumns=this.placeLockedColumns(this.gridColumns),this.refreshQuickFilterColumns(),this.clearDisplayedAndViewportColumns(),this.colSpanActive=this.checkColSpanActiveInCols(this.gridColumns),this.gridColumnsMap={},this.gridColumns.forEach((function(t){return e.gridColumnsMap[t.getId()]=t})),this.setAutoHeightActive(),!gt(n,this.gridBalancedTree)){var r={type:zt.EVENT_GRID_COLUMNS_CHANGED};this.eventService.dispatchEvent(r)}},e.prototype.setAutoHeightActive=function(){if((this.autoHeightActive=this.gridColumns.filter((function(t){return t.isAutoHeight()})).length>0,this.autoHeightActive)&&(this.autoHeightActiveAtLeastOnce=!0,!(this.gridOptionsService.isRowModelType("clientSide")||this.gridOptionsService.isRowModelType("serverSide")))){P((function(){return console.warn("AG Grid - autoHeight columns only work with Client Side Row Model and Server Side Row Model.")}),"autoHeightActive.wrongRowModel")}},e.prototype.orderGridColsLike=function(t){if(!r(t)){var e=Se(t.map((function(t,e){return[t,e]}))),n=!0;if(this.gridColumns.forEach((function(t){e.has(t)&&(n=!1)})),!n){var i=Se(this.gridColumns.map((function(t){return[t,!0]}))),o=t.filter((function(t){return i.has(t)})),s=Se(o.map((function(t){return[t,!0]}))),a=this.gridColumns.filter((function(t){return!s.has(t)})),l=o.slice();a.forEach((function(t){var e=t.getOriginalParent();if(e){for(var n=[];!n.length&&e;){e.getLeafColumns().forEach((function(t){var e=l.indexOf(t)>=0,i=n.indexOf(t)<0;e&&i&&n.push(t)})),e=e.getOriginalParent()}if(n.length){var i=n.map((function(t){return l.indexOf(t)})),o=Math.max.apply(Math,Re(i));vt(l,t,o+1)}else l.push(t)}else l.push(t)})),this.gridColumns=l}}},e.prototype.isPrimaryColumnGroupsPresent=function(){return this.primaryHeaderRowCount>1},e.prototype.refreshQuickFilterColumns=function(){var t,e;this.groupAutoColumns?e=(null!==(t=this.primaryColumns)&&void 0!==t?t:[]).concat(this.groupAutoColumns):this.primaryColumns&&(e=this.primaryColumns),e=null!=e?e:[],this.columnsForQuickFilter=this.gridOptionsService.is("excludeHiddenColumnsFromQuickFilter")?e.filter((function(t){return t.isVisible()||t.isRowGroupActive()})):e},e.prototype.placeLockedColumns=function(t){var e=[],n=[],i=[];return t.forEach((function(t){var o=t.getColDef().lockPosition;"right"===o?i.push(t):"left"===o||!0===o?e.push(t):n.push(t)})),Re(e,n,i)},e.prototype.addAutoGroupToGridColumns=function(){if(r(this.groupAutoColumns))return this.destroyOldColumns(this.groupAutoColsBalancedTree),void(this.groupAutoColsBalancedTree=null);this.gridColumns=this.groupAutoColumns?this.groupAutoColumns.concat(this.gridColumns):this.gridColumns;var t=this.columnFactory.createForAutoGroups(this.groupAutoColumns,this.gridBalancedTree);this.destroyOldColumns(this.groupAutoColsBalancedTree,t),this.groupAutoColsBalancedTree=t,this.gridBalancedTree=t.concat(this.gridBalancedTree)},e.prototype.clearDisplayedAndViewportColumns=function(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={},this.displayedColumnsLeft=[],this.displayedColumnsRight=[],this.displayedColumnsCenter=[],this.displayedColumns=[],this.viewportColumns=[],this.headerViewportColumns=[],this.viewportColumnsHash=""},e.prototype.updateGroupsAndDisplayedColumns=function(t){this.updateOpenClosedVisibilityInColumnGroups(),this.deriveDisplayedColumns(t),this.refreshFlexedColumns(),this.extractViewport(),this.updateBodyWidths();var e={type:zt.EVENT_DISPLAYED_COLUMNS_CHANGED};this.eventService.dispatchEvent(e)},e.prototype.deriveDisplayedColumns=function(t){this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeLeft,this.displayedColumnsLeft),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeCentre,this.displayedColumnsCenter),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeRight,this.displayedColumnsRight),this.joinDisplayedColumns(),this.setLeftValues(t),this.displayedAutoHeightCols=this.displayedColumns.filter((function(t){return t.isAutoHeight()}))},e.prototype.isAutoRowHeightActive=function(){return this.autoHeightActive},e.prototype.wasAutoRowHeightEverActive=function(){return this.autoHeightActiveAtLeastOnce},e.prototype.joinDisplayedColumns=function(){this.gridOptionsService.is("enableRtl")?this.displayedColumns=this.displayedColumnsRight.concat(this.displayedColumnsCenter).concat(this.displayedColumnsLeft):this.displayedColumns=this.displayedColumnsLeft.concat(this.displayedColumnsCenter).concat(this.displayedColumnsRight)},e.prototype.setLeftValues=function(t){this.setLeftValuesOfColumns(t),this.setLeftValuesOfGroups()},e.prototype.setLeftValuesOfColumns=function(t){var e=this;if(this.primaryColumns){var n=this.primaryColumns.slice(0),i=this.gridOptionsService.is("enableRtl");[this.displayedColumnsLeft,this.displayedColumnsRight,this.displayedColumnsCenter].forEach((function(o){if(i){var r=e.getWidthOfColsInList(o);o.forEach((function(e){r-=e.getActualWidth(),e.setLeft(r,t)}))}else{var s=0;o.forEach((function(e){e.setLeft(s,t),s+=e.getActualWidth()}))}yt(n,o)})),n.forEach((function(e){e.setLeft(null,t)}))}},e.prototype.setLeftValuesOfGroups=function(){[this.displayedTreeLeft,this.displayedTreeRight,this.displayedTreeCentre].forEach((function(t){t.forEach((function(t){t instanceof he&&t.checkLeft()}))}))},e.prototype.derivedDisplayedColumnsFromDisplayedTree=function(t,e){e.length=0,this.columnUtils.depthFirstDisplayedColumnTreeSearch(t,(function(t){t instanceof ct&&e.push(t)}))},e.prototype.extractViewportColumns=function(){this.suppressColumnVirtualisation?(this.viewportColumnsCenter=this.displayedColumnsCenter,this.headerViewportColumnsCenter=this.displayedColumnsCenter):(this.viewportColumnsCenter=this.displayedColumnsCenter.filter(this.isColumnInRowViewport.bind(this)),this.headerViewportColumnsCenter=this.displayedColumnsCenter.filter(this.isColumnInHeaderViewport.bind(this))),this.viewportColumns=this.viewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight),this.headerViewportColumns=this.headerViewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight)},e.prototype.getVirtualHeaderGroupRow=function(t,e){var n;switch(t){case"left":n=this.viewportRowLeft[e];break;case"right":n=this.viewportRowRight[e];break;default:n=this.viewportRowCenter[e]}return r(n)&&(n=[]),n},e.prototype.calculateHeaderRows=function(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={};var t={};this.headerViewportColumns.forEach((function(e){return t[e.getId()]=!0}));var e=function(n,i,o){for(var r=!1,s=0;s<n.length;s++){var a=n[s],l=!1;if(a instanceof ct)l=!0===t[a.getId()];else{var c=a.getDisplayedChildren();c&&(l=e(c,i,o+1))}l&&(r=!0,i[o]||(i[o]=[]),i[o].push(a))}return r};e(this.displayedTreeLeft,this.viewportRowLeft,0),e(this.displayedTreeRight,this.viewportRowRight,0),e(this.displayedTreeCentre,this.viewportRowCenter,0)},e.prototype.extractViewport=function(){this.extractViewportColumns();var t=this.viewportColumns.map((function(t){return t.getId()+"-"+(t.getPinned()||"normal")})).join("#"),e=this.viewportColumnsHash!==t;return e&&(this.viewportColumnsHash=t,this.calculateHeaderRows()),e},e.prototype.refreshFlexedColumns=function(t){var e=this;void 0===t&&(t={});var n=t.source?t.source:"flex";if(null!=t.viewportWidth&&(this.flexViewportWidth=t.viewportWidth),!this.flexViewportWidth)return[];var i=-1;t.resizingCols&&t.resizingCols.forEach((function(t){var n=e.displayedColumnsCenter.indexOf(t);i<n&&(i=n)}));var r=function(t){var n=e.displayedColumnsCenter.indexOf(t)>i;return t.getFlex()&&n},s=this.displayedColumnsCenter.filter((function(t){return!r(t)})),a=this.displayedColumnsCenter.filter((function(t){return r(t)})),l=[];if(!a.length)return[];var c,u=[];t:for(;;){var h=a.reduce((function(t,e){return t+e.getFlex()}),0);c=this.flexViewportWidth-this.getWidthOfColsInList(s);for(var d=0;d<a.length;d++){var p=a[d],f=c*p.getFlex()/h,g=0,m=p.getMinWidth(),_=p.getMaxWidth();if(o(m)&&f<m?g=m:o(_)&&f>_&&(g=_),g){p.setActualWidth(g,n),_t(a,p),l.push(p),s.push(p);continue t}u[d]=Math.round(f)}break}var y=c;return a.forEach((function(t,e){t.setActualWidth(Math.min(u[e],y),n),l.push(t),y-=u[e]})),t.skipSetLeft||this.setLeftValues(n),t.updateBodyWidths&&this.updateBodyWidths(),t.fireResizedEvent&&this.dispatchColumnResizedEvent(l,!0,n,a),a},e.prototype.sizeColumnsToFit=function(t,e,n,i){var r,s,a,l,c;void 0===e&&(e="sizeColumnsToFit");var u={};i&&(null===(r=null==i?void 0:i.columnLimits)||void 0===r||r.forEach((function(t){var e=t.key,n=Te(t,["key"]);u["string"==typeof e?e:e.getColId()]=n})));var h=this.getAllDisplayedColumns(),d=t===this.getWidthOfColsInList(h);if(!(t<=0||!h.length||d)){var p=[],f=[];h.forEach((function(t){!0===t.getColDef().suppressSizeToFit?f.push(t):p.push(t)}));var g=p.slice(0),m=!1,_=function(t){_t(p,t),f.push(t)};for(p.forEach((function(t){return t.resetActualWidth(e)}));!m;){m=!0;var y=t-this.getWidthOfColsInList(f);if(y<=0)p.forEach((function(t){var n,o,r=null!==(o=null===(n=null==u?void 0:u[t.getId()])||void 0===n?void 0:n.minWidth)&&void 0!==o?o:null==i?void 0:i.defaultMinWidth;"number"!=typeof r?t.setMinimum(e):t.setActualWidth(r)}));else for(var v=y/this.getWidthOfColsInList(p),C=y,b=p.length-1;b>=0;b--){var E=p[b],S=null==u?void 0:u[E.getId()],w=null!==(s=null==S?void 0:S.minWidth)&&void 0!==s?s:null==i?void 0:i.defaultMinWidth,O=null!==(a=null==S?void 0:S.maxWidth)&&void 0!==a?a:null==i?void 0:i.defaultMaxWidth,x=null!==(l=E.getMinWidth())&&void 0!==l?l:0,P=null!==(c=E.getMaxWidth())&&void 0!==c?c:Number.MAX_VALUE,T="number"==typeof w&&w>x?w:E.getMinWidth(),M="number"==typeof O&&O<P?O:E.getMaxWidth(),D=Math.round(E.getActualWidth()*v);o(T)&&D<T?(D=T,_(E),m=!1):o(M)&&D>M?(D=M,_(E),m=!1):0===b&&(D=C),E.setActualWidth(D,e,!0),C-=D}}g.forEach((function(t){t.fireColumnWidthChangedEvent(e)})),this.setLeftValues(e),this.updateBodyWidths(),n||this.dispatchColumnResizedEvent(g,!0,e)}},e.prototype.buildDisplayedTrees=function(t){var e=[],n=[],i=[];t.forEach((function(t){switch(t.getPinned()){case"left":e.push(t);break;case"right":n.push(t);break;default:i.push(t)}}));var o=new de;this.displayedTreeLeft=this.displayedGroupCreator.createDisplayedGroups(e,this.gridBalancedTree,o,"left",this.displayedTreeLeft),this.displayedTreeRight=this.displayedGroupCreator.createDisplayedGroups(n,this.gridBalancedTree,o,"right",this.displayedTreeRight),this.displayedTreeCentre=this.displayedGroupCreator.createDisplayedGroups(i,this.gridBalancedTree,o,null,this.displayedTreeCentre),this.updateDisplayedMap()},e.prototype.updateDisplayedMap=function(){var t=this;this.displayedColumnsAndGroupsMap={};var e=function(e){t.displayedColumnsAndGroupsMap[e.getUniqueId()]=e};this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeCentre,e),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeLeft,e),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeRight,e)},e.prototype.isDisplayed=function(t){return this.displayedColumnsAndGroupsMap[t.getUniqueId()]===t},e.prototype.updateOpenClosedVisibilityInColumnGroups=function(){var t=this.getAllDisplayedTrees();this.columnUtils.depthFirstAllColumnTreeSearch(t,(function(t){t instanceof he&&t.calculateDisplayedColumns()}))},e.prototype.getGroupAutoColumns=function(){return this.groupAutoColumns},e.prototype.createGroupAutoColumnsIfNeeded=function(){if(!this.autoGroupsNeedBuilding)return!1;this.autoGroupsNeedBuilding=!1;var t=this.gridOptionsService.isGroupUseEntireRow(this.pivotMode),e=this.pivotMode?this.gridOptionsService.is("pivotSuppressAutoColumn"):this.isGroupSuppressAutoColumn();if((this.rowGroupColumns.length>0||this.usingTreeData)&&!e&&!t){var n=this.groupAutoColumns||[],i=this.autoGroupColService.createAutoGroupColumns(n,this.rowGroupColumns);if(!this.autoColsEqual(i,this.groupAutoColumns)||this.forceRecreateAutoGroups)return this.groupAutoColumns=i,!0}else this.groupAutoColumns=null;return!1},e.prototype.isGroupSuppressAutoColumn=function(){var t=this.gridOptionsService.get("groupDisplayType");if(!!t&&ce("custom",t))return!0;var e,n,i,o=this.gridOptionsService.get("treeDataDisplayType");return!!o&&(e="custom",(i=["auto","custom"]).indexOf(n=o)<0?(console.warn("AG Grid: '"+n+"' is not a valid treeDataDisplayType value - possible values are: '"+i.join("', '")+"'"),!1):n===e)},e.prototype.autoColsEqual=function(t,e){return gt(t,e,(function(t,e){return t.getColId()===e.getColId()}))},e.prototype.getWidthOfColsInList=function(t){return t.reduce((function(t,e){return t+e.getActualWidth()}),0)},e.prototype.getGridBalancedTree=function(){return this.gridBalancedTree},e.prototype.hasFloatingFilters=function(){return!!this.gridColumns&&this.gridColumns.some((function(t){return t.getColDef().floatingFilter}))},e.prototype.getFirstDisplayedColumn=function(){var t=this.gridOptionsService.is("enableRtl"),e=["getDisplayedLeftColumns","getDisplayedCenterColumns","getDisplayedRightColumns"];t&&e.reverse();for(var n=0;n<e.length;n++){var i=this[e[n]]();if(i.length)return t?ft(i):i[0]}return null},e.prototype.setColumnHeaderHeight=function(t,e){if(t.setAutoHeaderHeight(e)){var n={type:zt.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,column:t,columns:[t],source:"autosizeColumnHeaderHeight"};this.eventService.dispatchEvent(n)}},e.prototype.getColumnGroupHeaderRowHeight=function(){return this.isPivotMode()?this.getPivotGroupHeaderHeight():this.getGroupHeaderHeight()},e.prototype.getColumnHeaderRowHeight=function(){var t=this.isPivotMode()?this.getPivotHeaderHeight():this.getHeaderHeight(),e=this.getAllDisplayedColumns().filter((function(t){return t.isAutoHeaderHeight()})).map((function(t){return t.getAutoHeaderHeight()||0}));return Math.max.apply(Math,Re([t],e))},e.prototype.getHeaderHeight=function(){var t;return null!==(t=this.gridOptionsService.getNum("headerHeight"))&&void 0!==t?t:this.environment.getFromTheme(25,"headerHeight")},e.prototype.getFloatingFiltersHeight=function(){var t;return null!==(t=this.gridOptionsService.getNum("floatingFiltersHeight"))&&void 0!==t?t:this.getHeaderHeight()},e.prototype.getGroupHeaderHeight=function(){var t;return null!==(t=this.gridOptionsService.getNum("groupHeaderHeight"))&&void 0!==t?t:this.getHeaderHeight()},e.prototype.getPivotHeaderHeight=function(){var t;return null!==(t=this.gridOptionsService.getNum("pivotHeaderHeight"))&&void 0!==t?t:this.getHeaderHeight()},e.prototype.getPivotGroupHeaderHeight=function(){var t;return null!==(t=this.gridOptionsService.getNum("pivotGroupHeaderHeight"))&&void 0!==t?t:this.getGroupHeaderHeight()},xe([K("expressionService")],e.prototype,"expressionService",void 0),xe([K("columnFactory")],e.prototype,"columnFactory",void 0),xe([K("displayedGroupCreator")],e.prototype,"displayedGroupCreator",void 0),xe([K("ctrlsService")],e.prototype,"ctrlsService",void 0),xe([K("autoWidthCalculator")],e.prototype,"autoWidthCalculator",void 0),xe([K("columnUtils")],e.prototype,"columnUtils",void 0),xe([K("columnAnimationService")],e.prototype,"columnAnimationService",void 0),xe([K("autoGroupColService")],e.prototype,"autoGroupColService",void 0),xe([Y("aggFuncService")],e.prototype,"aggFuncService",void 0),xe([Y("valueCache")],e.prototype,"valueCache",void 0),xe([Y("animationFrameService")],e.prototype,"animationFrameService",void 0),xe([K("sortController")],e.prototype,"sortController",void 0),xe([K("columnDefFactory")],e.prototype,"columnDefFactory",void 0),xe([H],e.prototype,"init",null),xe([$],e.prototype,"destroyColumns",null),xe([Pe(0,q("loggerFactory"))],e.prototype,"setBeans",null),e=xe([z("columnModel")],e)}(jt),Le=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ie=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},ke=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Le(e,t),e.prototype.calculateColMinWidth=function(t){return null!=t.minWidth?t.minWidth:this.environment.getMinColWidth()},e.prototype.calculateColMaxWidth=function(t){return null!=t.maxWidth?t.maxWidth:Number.MAX_SAFE_INTEGER},e.prototype.calculateColInitialWidth=function(t){var e,n=this.calculateColMinWidth(t),i=this.calculateColMaxWidth(t),o=l(t.width),r=l(t.initialWidth);return e=null!=o?o:null!=r?r:200,Math.max(Math.min(e,i),n)},e.prototype.getOriginalPathForColumn=function(t,e){var n=[],i=!1,o=function(e,r){for(var s=0;s<e.length;s++){if(i)return;var a=e[s];if(a instanceof ht)o(a.getChildren(),r+1),n[r]=a;else a===t&&(i=!0)}};return o(e,0),i?n:null},e.prototype.depthFirstOriginalTreeSearch=function(t,e,n){var i=this;e&&e.forEach((function(e){e instanceof ht&&i.depthFirstOriginalTreeSearch(e,e.getChildren(),n),n(e,t)}))},e.prototype.depthFirstAllColumnTreeSearch=function(t,e){var n=this;t&&t.forEach((function(t){t instanceof he&&n.depthFirstAllColumnTreeSearch(t.getChildren(),e),e(t)}))},e.prototype.depthFirstDisplayedColumnTreeSearch=function(t,e){var n=this;t&&t.forEach((function(t){t instanceof he&&n.depthFirstDisplayedColumnTreeSearch(t.getDisplayedChildren(),e),e(t)}))},e=Ie([z("columnUtils")],e)}(jt),Ne=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Fe=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},Ge=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ne(e,t),e.prototype.createDisplayedGroups=function(t,e,n,i,o){var r,s,a=this,l=[],c=this.mapOldGroupsById(o);return t.forEach((function(t){for(var o=a.getOriginalPathForColumn(e,t),u=[],h=!s,d=0;d<o.length;d++)if(h||o[d]!==s[d]){var p=a.createColumnGroup(o[d],n,c,i);u[d]=p,0==d?l.push(p):u[d-1].addChild(p)}else u[d]=r[d];0===u.length?l.push(t):ft(u).addChild(t);r=u,s=o})),this.setupParentsIntoColumns(l,null),l},e.prototype.createColumnGroup=function(t,e,n,i){var r=t.getGroupId(),s=e.getInstanceIdForKey(r),a=n[he.createUniqueId(r,s)];return a&&a.getProvidedColumnGroup()!==t&&(a=null),o(a)?a.reset():(a=new he(t,r,s,i),this.context.createBean(a)),a},e.prototype.mapOldGroupsById=function(t){var e={},n=function(t){t.forEach((function(t){if(t instanceof he){var i=t;e[t.getUniqueId()]=i,n(i.getChildren())}}))};return t&&n(t),e},e.prototype.setupParentsIntoColumns=function(t,e){var n=this;t.forEach((function(t){if(t.setParent(e),t instanceof he){var i=t;n.setupParentsIntoColumns(i.getChildren(),i)}}))},e.prototype.getOriginalPathForColumn=function(t,e){var n=[],i=!1,o=function(t,r){for(var s=0;s<t.length;s++){if(i)return;var a=t[s];a instanceof ht?(o(a.getChildren(),r+1),n[r]=a):a===e&&(i=!0)}};return o(t,0),i?n:(console.warn("AG Grid: could not get path"),null)},e=Fe([z("displayedGroupCreator")],e)}(jt),Be=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),je=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},Ue=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.componentsMappedByName={},e}return Be(e,t),e.prototype.setupComponents=function(t){var e=this;t&&t.forEach((function(t){return e.addComponent(t)}))},e.prototype.addComponent=function(t){var e=t.componentName.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase().toUpperCase();this.componentsMappedByName[e]=t.componentClass},e.prototype.getComponentClass=function(t){return this.componentsMappedByName[t]},e=je([z("agStackComponentsRegistry")],e)}(jt);function Ve(t,e,n){null==n||""==n?He(t,e):We(t,e,n)}function We(t,e,n){t.setAttribute($e(e),n.toString())}function He(t,e){t.removeAttribute($e(e))}function $e(t){return"aria-"+t}function ze(t,e){e?t.setAttribute("role",e):t.removeAttribute("role")}function Ke(t){return"asc"===t?"ascending":"desc"===t?"descending":"mixed"===t?"other":"none"}function Ye(t){return parseInt(t.getAttribute("aria-level"),10)}function Xe(t){return parseInt(t.getAttribute("aria-posinset"),10)}function qe(t,e){Ve(t,"label",e)}function Ze(t,e){Ve(t,"labelledby",e)}function Je(t,e){Ve(t,"description",e)}function Qe(t,e){Ve(t,"describedby",e)}function tn(t,e){Ve(t,"level",e)}function en(t,e){Ve(t,"disabled",e)}function nn(t,e){Ve(t,"hidden",e)}function on(t,e){We(t,"expanded",e)}function rn(t){He(t,"expanded")}function sn(t,e){We(t,"setsize",e)}function an(t,e){We(t,"posinset",e)}function ln(t,e){We(t,"multiselectable",e)}function cn(t,e){We(t,"rowcount",e)}function un(t,e){We(t,"rowindex",e)}function hn(t,e){We(t,"colcount",e)}function dn(t,e){We(t,"colindex",e)}function pn(t,e){We(t,"colspan",e)}function fn(t,e){We(t,"sort",e)}function gn(t){He(t,"sort")}function mn(t,e){Ve(t,"selected",e)}function _n(t,e){We(t,"checked",void 0===e?"mixed":e)}var yn,vn,Cn,bn,En,Sn,wn,On,xn=Object.freeze({__proto__:null,setAriaRole:ze,getAriaSortState:Ke,getAriaLevel:Ye,getAriaPosInSet:Xe,getAriaDescribedBy:function(t){return t.getAttribute("aria-describedby")||""},setAriaLabel:qe,setAriaLabelledBy:Ze,setAriaDescription:Je,setAriaDescribedBy:Qe,setAriaLive:function(t,e){Ve(t,"live",e)},setAriaLevel:tn,setAriaDisabled:en,setAriaHidden:nn,setAriaExpanded:on,removeAriaExpanded:rn,setAriaSetSize:sn,setAriaPosInSet:an,setAriaMultiSelectable:ln,setAriaRowCount:cn,setAriaRowIndex:un,setAriaColCount:hn,setAriaColIndex:dn,setAriaColSpan:pn,setAriaSort:fn,removeAriaSort:gn,setAriaSelected:mn,setAriaChecked:_n});function Pn(){return void 0===yn&&(yn=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),yn}function Tn(){if(void 0===vn)if(Pn()){var t=navigator.userAgent.match(/version\/(\d+)/i);t&&(vn=null!=t[1]?parseFloat(t[1]):0)}else vn=0;return vn}function Mn(){if(void 0===Cn){var t=window;Cn=!!t.chrome&&(!!t.chrome.webstore||!!t.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return Cn}function Dn(){return void 0===bn&&(bn=/(firefox)/i.test(navigator.userAgent)),bn}function Rn(){return void 0===En&&(En=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),En}function An(){return void 0===Sn&&(Sn=/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1),Sn}function Ln(){return!Pn()||Tn()>=15}function In(t){if(!t)return null;var e=t.tabIndex,n=t.getAttribute("tabIndex");return-1!==e||null!==n&&(""!==n||Dn())?e.toString():null}function kn(){if(!document.body)return-1;var t=1e6,e=navigator.userAgent.toLowerCase().match(/firefox/)?6e6:1e9,n=document.createElement("div");for(document.body.appendChild(n);;){var i=2*t;if(n.style.height=i+"px",i>e||n.clientHeight!==i)break;t=i}return document.body.removeChild(n),t}function Nn(){var t,e,n;return null!==(e=null===(t=document.body)||void 0===t?void 0:t.clientWidth)&&void 0!==e?e:window.innerHeight||(null===(n=document.documentElement)||void 0===n?void 0:n.clientWidth)||-1}function Fn(){var t,e,n;return null!==(e=null===(t=document.body)||void 0===t?void 0:t.clientHeight)&&void 0!==e?e:window.innerHeight||(null===(n=document.documentElement)||void 0===n?void 0:n.clientHeight)||-1}function Gn(){return null==On&&Bn(),On}function Bn(){var t=document.body,e=document.createElement("div");e.style.width=e.style.height="100px",e.style.opacity="0",e.style.overflow="scroll",e.style.msOverflowStyle="scrollbar",e.style.position="absolute",t.appendChild(e);var n=e.offsetWidth-e.clientWidth;0===n&&0===e.clientWidth&&(n=null),e.parentNode&&e.parentNode.removeChild(e),null!=n&&(On=n,wn=0===n)}function jn(){return null==wn&&Bn(),wn}var Un=Object.freeze({__proto__:null,isBrowserSafari:Pn,getSafariVersion:Tn,isBrowserChrome:Mn,isBrowserFirefox:Dn,isMacOsUserAgent:Rn,isIOSUserAgent:An,browserSupportsPreventScroll:Ln,getTabIndex:In,getMaxDivHeight:kn,getBodyWidth:Nn,getBodyHeight:Fn,getScrollbarWidth:Gn,isInvisibleScrollbar:jn});function Vn(t,e){return t.toString().padStart(e,"0")}function Wn(t,e){for(var n=[],i=t;i<=e;i++)n.push(i);return n}function Hn(t,e,n){return"number"!=typeof t?"":t.toString().replace(".",n).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+e)}var $n=Object.freeze({__proto__:null,padStartWidthZeros:Vn,createArrayOfNumbers:Wn,cleanNumber:function(t){return"string"==typeof t&&(t=parseInt(t,10)),"number"==typeof t?Math.floor(t):null},decToHex:function(t,e){for(var n="",i=0;i<e;i++)n+=String.fromCharCode(255&t),t>>>=8;return n},formatNumberTwoDecimalPlacesAndCommas:function(t,e,n){return"number"!=typeof t?"":Hn(Math.round(100*t)/100,e,n)},formatNumberCommas:Hn,sum:function(t){return null==t?null:t.reduce((function(t,e){return t+e}),0)},zeroOrGreater:function(t,e){return t>=0?t:e},oneOrGreater:function(t,e){var n=parseInt(t,10);return!isNaN(n)&&isFinite(n)&&n>0?n:e}}),zn=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s};function Kn(t,e,n){if(void 0===e&&(e=!0),void 0===n&&(n="-"),!t)return null;var i=[t.getFullYear(),t.getMonth()+1,t.getDate()].map((function(t){return Vn(t,2)})).join(n);return e&&(i+=" "+[t.getHours(),t.getMinutes(),t.getSeconds()].map((function(t){return Vn(t,2)})).join(":")),i}var Yn=function(t){if(t>3&&t<21)return"th";switch(t%10){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"};function Xn(t,e){void 0===e&&(e="YYYY-MM-DD");var n=Vn(t.getFullYear(),4),i=["January","February","March","April","May","June","July","August","September","October","November","December"],o=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],r={YYYY:function(){return n.slice(n.length-4,n.length)},YY:function(){return n.slice(n.length-2,n.length)},Y:function(){return""+t.getFullYear()},MMMM:function(){return i[t.getMonth()]},MMM:function(){return i[t.getMonth()].slice(0,3)},MM:function(){return Vn(t.getMonth()+1,2)},Mo:function(){return""+(t.getMonth()+1)+Yn(t.getMonth()+1)},M:function(){return""+(t.getMonth()+1)},Do:function(){return""+t.getDate()+Yn(t.getDate())},DD:function(){return Vn(t.getDate(),2)},D:function(){return""+t.getDate()},dddd:function(){return o[t.getDay()]},ddd:function(){return o[t.getDay()].slice(0,3)},dd:function(){return o[t.getDay()].slice(0,2)},do:function(){return""+t.getDay()+Yn(t.getDay())},d:function(){return""+t.getDay()}},s=new RegExp(Object.keys(r).join("|"),"g");return e.replace(s,(function(t){return t in r?r[t]():t}))}function qn(t){if(!t)return null;var e=zn(t.split(" "),2),n=e[0],i=e[1];if(!n)return null;var o=n.split("-").map((function(t){return parseInt(t,10)}));if(3!==o.filter((function(t){return!isNaN(t)})).length)return null;var r=zn(o,3),s=r[0],a=r[1],l=r[2],c=new Date(s,a-1,l);if(c.getFullYear()!==s||c.getMonth()!==a-1||c.getDate()!==l)return null;if(!i||"00:00:00"===i)return c;var u=zn(i.split(":").map((function(t){return parseInt(t,10)})),3),h=u[0],d=u[1],p=u[2];return h>=0&&h<24&&c.setHours(h),d>=0&&d<60&&c.setMinutes(d),p>=0&&p<60&&c.setSeconds(p),c}var Zn,Jn=Object.freeze({__proto__:null,serialiseDate:Kn,dateToFormattedString:Xn,parseDateTimeFromString:qn}),Qn=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ti=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s};var ei="[tabindex], input, select, button, textarea, [href]",ni=".ag-hidden, .ag-hidden *, [disabled], .ag-disabled, .ag-disabled *";function ii(t){var e=Element.prototype.matches||Element.prototype.msMatchesSelector,n=e.call(t,"input, select, button, textarea"),i=e.call(t,ni),o=yi(t);return n&&!i&&o}function oi(t,e,n){void 0===n&&(n={});var i=n.skipAriaHidden;t.classList.toggle("ag-hidden",!e),i||nn(t,!e)}function ri(t,e,n){void 0===n&&(n={});var i=n.skipAriaHidden;t.classList.toggle("ag-invisible",!e),i||nn(t,!e)}function si(t,e){var n="disabled",i=e?function(t){return t.setAttribute(n,"")}:function(t){return t.removeAttribute(n)};i(t),Ni(t.querySelectorAll("input"),(function(t){return i(t)}))}function ai(t,e,n){for(var i=0;t;){if(t.classList.contains(e))return!0;if(t=t.parentElement,"number"==typeof n){if(++i>n)break}else if(t===n)break}return!1}function li(t){var e=window.getComputedStyle(t),n=e.height,i=e.width,o=e.borderTopWidth,r=e.borderRightWidth,s=e.borderBottomWidth,a=e.borderLeftWidth,l=e.paddingTop,c=e.paddingRight,u=e.paddingBottom,h=e.paddingLeft,d=e.marginTop,p=e.marginRight,f=e.marginBottom,g=e.marginLeft,m=e.boxSizing;return{height:parseFloat(n),width:parseFloat(i),borderTopWidth:parseFloat(o),borderRightWidth:parseFloat(r),borderBottomWidth:parseFloat(s),borderLeftWidth:parseFloat(a),paddingTop:parseFloat(l),paddingRight:parseFloat(c),paddingBottom:parseFloat(u),paddingLeft:parseFloat(h),marginTop:parseFloat(d),marginRight:parseFloat(p),marginBottom:parseFloat(f),marginLeft:parseFloat(g),boxSizing:m}}function ci(t){var e=li(t);return"border-box"===e.boxSizing?e.height-e.paddingTop-e.paddingBottom:e.height}function ui(t){var e=li(t);return"border-box"===e.boxSizing?e.width-e.paddingLeft-e.paddingRight:e.width}function hi(t){var e=li(t),n=e.marginBottom+e.marginTop;return Math.ceil(t.offsetHeight+n)}function di(t){var e=li(t),n=e.marginLeft+e.marginRight;return Math.ceil(t.offsetWidth+n)}function pi(){if("boolean"==typeof Zn)return Zn;var t=document.createElement("div");return t.style.direction="rtl",t.style.width="1px",t.style.height="1px",t.style.position="fixed",t.style.top="0px",t.style.overflow="hidden",t.dir="rtl",t.innerHTML='<div style="width: 2px">\n            <span style="display: inline-block; width: 1px"></span>\n            <span style="display: inline-block; width: 1px"></span>\n        </div>',document.body.appendChild(t),t.scrollLeft=1,Zn=0===Math.floor(t.scrollLeft),document.body.removeChild(t),Zn}function fi(t,e){var n=t.scrollLeft;return e&&(n=Math.abs(n),Mn()&&!pi()&&(n=t.scrollWidth-t.clientWidth-n)),n}function gi(t,e,n){n&&(pi()?e*=-1:(Pn()||Mn())&&(e=t.scrollWidth-t.clientWidth-e)),t.scrollLeft=e}function mi(t){for(;t&&t.firstChild;)t.removeChild(t.firstChild)}function _i(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function yi(t){return null!==t.offsetParent}function vi(t){var e=document.createElement("div");return e.innerHTML=(t||"").trim(),e.firstChild}function Ci(t){return t&&t.clientHeight?t.clientHeight:0}function bi(t){return t&&t.clientWidth?t.clientWidth:0}function Ei(t,e,n){if(!n||n.nextSibling!==e){var i=document.activeElement,o=e.contains(i);n?n.nextSibling?t.insertBefore(e,n.nextSibling):t.appendChild(e):t.firstChild&&t.firstChild!==e&&t.insertAdjacentElement("afterbegin",e),o&&i&&Ln()&&i.focus({preventScroll:!0})}}function Si(t,e){for(var n=0;n<e.length;n++){var i=e[n],o=t.children[n];o!==i&&t.insertBefore(i,o)}}function wi(t,e,n){n?n.insertAdjacentElement("afterend",e):t.firstChild?t.insertAdjacentElement("afterbegin",e):t.appendChild(e)}function Oi(t,e){var n,i;if(e)try{for(var o=Qn(Object.entries(e)),r=o.next();!r.done;r=o.next()){var s=ti(r.value,2),a=s[0],l=s[1];if(a&&a.length&&null!=l){var c=a.replace(/[A-Z]/g,(function(t){return"-"+t.toLocaleLowerCase()})),u=l.toString(),h=u.replace(/\s*!important/g,"").length!=u.length?"important":void 0;t.style.setProperty(c,l,h)}}}catch(t){n={error:t}}finally{try{r&&!r.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}}function xi(t){return t.clientWidth<t.scrollWidth}function Pi(t){return t.clientHeight<t.scrollHeight}function Ti(t,e){"flex"===e?(t.style.removeProperty("width"),t.style.removeProperty("minWidth"),t.style.removeProperty("maxWidth"),t.style.flex="1 1 auto"):Mi(t,e)}function Mi(t,e){e=Ri(e),t.style.width=e.toString(),t.style.maxWidth=e.toString(),t.style.minWidth=e.toString()}function Di(t,e){e=Ri(e),t.style.height=e.toString(),t.style.maxHeight=e.toString(),t.style.minHeight=e.toString()}function Ri(t){return"number"==typeof t?t+"px":t}function Ai(t){return t instanceof Node||t instanceof HTMLElement}function Li(t){if(null==t)return[];var e=[];return Ni(t,(function(t){return e.push(t)})),e}function Ii(t,e){if(t)for(var n=0;n<t.length;n++){var i=t[n];e(i.name,i.value)}}function ki(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n.toString())}function Ni(t,e){if(null!=t)for(var n=0;n<t.length;n++)e(t[n])}var Fi=Object.freeze({__proto__:null,radioCssClass:function(t,e,n){for(var i=t.parentElement,o=i&&i.firstChild;o;)e&&o.classList.toggle(e,o===t),n&&o.classList.toggle(n,o!==t),o=o.nextSibling},FOCUSABLE_SELECTOR:ei,FOCUSABLE_EXCLUDE:ni,isFocusableFormField:ii,setDisplayed:oi,setVisible:ri,setDisabled:si,isElementChildOfClass:ai,getElementSize:li,getInnerHeight:ci,getInnerWidth:ui,getAbsoluteHeight:hi,getAbsoluteWidth:di,isRtlNegativeScroll:pi,getScrollLeft:fi,setScrollLeft:gi,clearElement:mi,removeElement:function(t,e){_i(t.querySelector(e))},removeFromParent:_i,isVisible:yi,loadTemplate:vi,appendHtml:function(t,e){t.lastChild?t.insertAdjacentHTML("afterbegin",e):t.innerHTML=e},getElementAttribute:function(t,e){return t.attributes&&t.attributes[e]?t.attributes[e].value:null},offsetHeight:Ci,offsetWidth:bi,ensureDomOrder:Ei,setDomChildOrder:Si,insertWithDomOrder:wi,prependDC:function(t,e){o(t.firstChild)?t.insertBefore(e,t.firstChild):t.appendChild(e)},addStylesToElement:Oi,isHorizontalScrollShowing:xi,isVerticalScrollShowing:Pi,setElementWidth:Ti,setFixedWidth:Mi,setElementHeight:function(t,e){"flex"===e?(t.style.removeProperty("height"),t.style.removeProperty("minHeight"),t.style.removeProperty("maxHeight"),t.style.flex="1 1 auto"):Di(t,e)},setFixedHeight:Di,formatSize:Ri,isNodeOrElement:Ai,copyNodeList:Li,iterateNamedNodeMap:Ii,addOrRemoveAttribute:ki,nodeListForEach:Ni}),Gi={columnGroupOpened:"expanded",columnGroupClosed:"contracted",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate",columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",groupContracted:"tree-closed",groupExpanded:"tree-open",setFilterGroupClosed:"tree-closed",setFilterGroupOpen:"tree-open",setFilterGroupIndeterminate:"tree-indeterminate",chart:"chart",close:"cross",cancel:"cancel",check:"tick",first:"first",previous:"previous",next:"next",last:"last",linked:"linked",unlinked:"unlinked",colorPicker:"color-picker",groupLoading:"loading",menu:"menu",filter:"filter",columns:"columns",maximize:"maximize",minimize:"minimize",menuPin:"pin",menuValue:"aggregation",menuAddRowGroup:"group",menuRemoveRowGroup:"group",clipboardCopy:"copy",clipboardCut:"cut",clipboardPaste:"paste",pivotPanel:"pivot",rowGroupPanel:"group",valuePanel:"aggregation",columnDrag:"grip",rowDrag:"grip",save:"save",csvExport:"csv",excelExport:"excel",smallDown:"small-down",smallLeft:"small-left",smallRight:"small-right",smallUp:"small-up",sortAscending:"asc",sortDescending:"desc",sortUnSort:"none"};function Bi(t,e,n){var i=ji(t,e,n);if(i){var o=i.className;if("string"==typeof o&&o.indexOf("ag-icon")>-1||"object"==typeof o&&o["ag-icon"])return i}var r=document.createElement("span");return r.appendChild(i),r}function ji(t,e,n,i){var o=null,r=n&&n.getColDef().icons;if(r&&(o=r[t]),e&&!o){var s=e.get("icons");s&&(o=s[t])}if(!o){var a=document.createElement("span"),l=Gi[t];return l||(i?l=t:(console.warn("AG Grid: Did not find icon "+t),l="")),a.setAttribute("class","ag-icon ag-icon-"+l),a.setAttribute("unselectable","on"),ze(a,"presentation"),a}var c=void 0;if("function"==typeof o)c=o();else{if("string"!=typeof o)throw new Error("icon from grid options needs to be a string or a function");c=o}return"string"==typeof c?vi(c):Ai(c)?c:void console.warn("AG Grid: iconRenderer should return back a string or a dom object")}var Ui=Object.freeze({__proto__:null,iconNameClassMap:Gi,createIcon:Bi,createIconNoSpan:ji}),Vi=function(){function t(){}return t.BACKSPACE="Backspace",t.TAB="Tab",t.ENTER="Enter",t.ESCAPE="Escape",t.SPACE=" ",t.LEFT="ArrowLeft",t.UP="ArrowUp",t.RIGHT="ArrowRight",t.DOWN="ArrowDown",t.DELETE="Delete",t.F2="F2",t.PAGE_UP="PageUp",t.PAGE_DOWN="PageDown",t.PAGE_HOME="Home",t.PAGE_END="End",t.A="KeyA",t.C="KeyC",t.D="KeyD",t.V="KeyV",t.X="KeyX",t.Y="KeyY",t.Z="KeyZ",t}();function Wi(t){return!(t.altKey||t.ctrlKey||t.metaKey)&&1===t.key.length}function Hi(t,e,n,i,o){var r=i?i.getColDef().suppressKeyboardEvent:void 0;if(!r)return!1;var s={event:e,editing:o,column:i,api:t.api,node:n,data:n.data,colDef:i.getColDef(),context:t.context,columnApi:t.columnApi};if(r&&r(s))return!0;return!1}function $i(t,e,n,i){var r=i.getDefinition(),s=r&&r.suppressHeaderKeyboardEvent;return!!o(s)&&!!s({api:t.api,columnApi:t.columnApi,context:t.context,colDef:r,column:i,headerRowIndex:n,event:e})}function zi(t){var e;switch(t.keyCode){case 65:e=Vi.A;break;case 67:e=Vi.C;break;case 86:e=Vi.V;break;case 68:e=Vi.D;break;case 90:e=Vi.Z;break;case 89:e=Vi.Y;break;default:e=t.code}return e}function Ki(t,e){return void 0===e&&(e=!1),t===Vi.DELETE||!e&&t===Vi.BACKSPACE&&Rn()}var Yi=Object.freeze({__proto__:null,isEventFromPrintableCharacter:Wi,isUserSuppressingKeyboardEvent:Hi,isUserSuppressingHeaderKeyboardEvent:$i,normaliseQwertyAzerty:zi,isDeleteKey:Ki});function Xi(t,e,n){if(0===n)return!1;var i=Math.abs(t.clientX-e.clientX),o=Math.abs(t.clientY-e.clientY);return Math.max(i,o)<=n}var qi=Object.freeze({__proto__:null,areEventsNear:Xi});var Zi=Object.freeze({__proto__:null,sortRowNodesByOrder:function(t,e){if(!t)return!1;for(var n=function(t,n){var i=e[t.id],o=e[n.id],r=void 0!==i,s=void 0!==o;return r&&s?i-o:!r&&!s?t.__objectId-n.__objectId:r?1:-1},i=!1,o=0;o<t.length-1;o++)if(n(t[o],t[o+1])>0){i=!0;break}return!!i&&(t.sort(n),!0)},traverseNodesWithKey:function(t,e){var n=[];!function t(i){if(!i)return;i.forEach((function(i){if(i.group||i.hasChildren()){n.push(i.key);var o=n.join("|");e(i,o),t(i.childrenAfterGroup),n.pop()}}))}(t)}});function Ji(t){var e=new Set;return t.forEach((function(t){return e.add(t)})),e}var Qi,to=Object.freeze({__proto__:null,convertToSet:Ji}),eo=function(){return eo=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},eo.apply(this,arguments)},no=eo(eo(eo(eo(eo(eo(eo(eo(eo(eo(eo(eo(eo(eo(eo(eo(eo(eo({},xn),wt),Un),Jn),Fi),Gt),B),ie),h),Ui),Yi),we),qi),$n),O),Zi),to),Ee),io=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=1),this.nextValue=t,this.step=e}return t.prototype.next=function(){var t=this.nextValue;return this.nextValue+=this.step,t},t.prototype.peek=function(){return this.nextValue},t.prototype.skip=function(t){this.nextValue+=t},t}();!function(t){t[t.IN_PROGRESS=0]="IN_PROGRESS",t[t.RESOLVED=1]="RESOLVED"}(Qi||(Qi={}));var oo,ro=function(){function t(t){var e=this;this.status=Qi.IN_PROGRESS,this.resolution=null,this.waiters=[],t((function(t){return e.onDone(t)}),(function(t){return e.onReject(t)}))}return t.all=function(e){return new t((function(t){var n=e.length,i=new Array(n);e.forEach((function(e,o){e.then((function(e){i[o]=e,0===--n&&t(i)}))}))}))},t.resolve=function(e){return void 0===e&&(e=null),new t((function(t){return t(e)}))},t.prototype.then=function(e){var n=this;return new t((function(t){n.status===Qi.RESOLVED?t(e(n.resolution)):n.waiters.push((function(n){return t(e(n))}))}))},t.prototype.resolveNow=function(t,e){return this.status===Qi.RESOLVED?e(this.resolution):t},t.prototype.onDone=function(t){this.status=Qi.RESOLVED,this.resolution=t,this.waiters.forEach((function(e){return e(t)}))},t.prototype.onReject=function(t){console.warn("TBI")},t}(),so=(function(){function t(){this.timestamp=(new Date).getTime()}t.prototype.print=function(t){var e=(new Date).getTime()-this.timestamp;console.info(t+" = "+e),this.timestamp=(new Date).getTime()}}(),function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}()),ao=function(){return ao=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},ao.apply(this,arguments)},lo=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};!function(t){t[t.NOTHING=0]="NOTHING",t[t.WAITING_TO_SHOW=1]="WAITING_TO_SHOW",t[t.SHOWING=2]="SHOWING"}(oo||(oo={}));var co=function(t){function e(e){var n=t.call(this)||this;return n.DEFAULT_SHOW_TOOLTIP_DELAY=2e3,n.DEFAULT_HIDE_TOOLTIP_DELAY=1e4,n.SHOW_QUICK_TOOLTIP_DIFF=1e3,n.FADE_OUT_TOOLTIP_TIMEOUT=1e3,n.state=oo.NOTHING,n.tooltipInstanceCount=0,n.tooltipMouseTrack=!1,n.parentComp=e,n}return so(e,t),e.prototype.postConstruct=function(){this.tooltipShowDelay=this.getTooltipDelay("show")||this.DEFAULT_SHOW_TOOLTIP_DELAY,this.tooltipHideDelay=this.getTooltipDelay("hide")||this.DEFAULT_HIDE_TOOLTIP_DELAY,this.tooltipMouseTrack=this.gridOptionsService.is("tooltipMouseTrack");var t=this.parentComp.getGui();this.addManagedListener(t,"mouseenter",this.onMouseEnter.bind(this)),this.addManagedListener(t,"mouseleave",this.onMouseLeave.bind(this)),this.addManagedListener(t,"mousemove",this.onMouseMove.bind(this)),this.addManagedListener(t,"mousedown",this.onMouseDown.bind(this)),this.addManagedListener(t,"keydown",this.onKeyDown.bind(this))},e.prototype.destroy=function(){this.setToDoNothing(),t.prototype.destroy.call(this)},e.prototype.onMouseEnter=function(t){if(!An()&&this.state==oo.NOTHING){var e=this.isLastTooltipHiddenRecently()?200:this.tooltipShowDelay;this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),e),this.lastMouseEvent=t,this.state=oo.WAITING_TO_SHOW}},e.prototype.onMouseLeave=function(){this.setToDoNothing()},e.prototype.onKeyDown=function(){this.setToDoNothing()},e.prototype.setToDoNothing=function(){this.state===oo.SHOWING&&this.hideTooltip(),this.clearTimeouts(),this.state=oo.NOTHING},e.prototype.onMouseMove=function(t){this.lastMouseEvent=t,this.tooltipMouseTrack&&this.state===oo.SHOWING&&this.tooltipComp&&this.positionTooltipUnderLastMouseEvent()},e.prototype.onMouseDown=function(){this.setToDoNothing()},e.prototype.getTooltipDelay=function(t){var e=this.gridOptionsService.getNum("tooltipShowDelay"),n=this.gridOptionsService.getNum("tooltipHideDelay"),i="show"===t?e:n,r=ve(t);return o(i)?(i<0&&P((function(){return console.warn("AG Grid: tooltip"+r+"Delay should not be lower than 0")}),"tooltip"+r+"DelayWarn"),Math.max(200,i)):null},e.prototype.hideTooltip=function(){this.tooltipComp&&(this.destroyTooltipComp(),e.lastTooltipHideTime=(new Date).getTime()),this.state=oo.NOTHING},e.prototype.destroyTooltipComp=function(){var t=this;this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");var e=this.tooltipPopupDestroyFunc,n=this.tooltipComp;window.setTimeout((function(){e(),t.getContext().destroyBean(n)}),this.FADE_OUT_TOOLTIP_TIMEOUT),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0},e.prototype.isLastTooltipHiddenRecently=function(){return(new Date).getTime()-e.lastTooltipHideTime<this.SHOW_QUICK_TOOLTIP_DIFF},e.prototype.showTooltip=function(){var t=ao({},this.parentComp.getTooltipParams());if(o(t.value)){this.state=oo.SHOWING,this.tooltipInstanceCount++;var e=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);this.userComponentFactory.getTooltipCompDetails(t).newAgStackInstance().then(e)}else this.setToDoNothing()},e.prototype.newTooltipComponentCallback=function(t,e){if(this.state!==oo.SHOWING||this.tooltipInstanceCount!==t)this.getContext().destroyBean(e);else{var n=e.getGui();this.tooltipComp=e,n.classList.contains("ag-tooltip")||n.classList.add("ag-tooltip-custom");var i=this.localeService.getLocaleTextFunc(),o=this.popupService.addPopup({eChild:n,ariaLabel:i("ariaLabelTooltip","Tooltip")});o&&(this.tooltipPopupDestroyFunc=o.hideFunc),this.positionTooltipUnderLastMouseEvent(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.tooltipHideDelay)}},e.prototype.positionTooltipUnderLastMouseEvent=function(){this.popupService.positionPopupUnderMouseEvent({type:"tooltip",mouseEvent:this.lastMouseEvent,ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack})},e.prototype.clearTimeouts=function(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0),this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)},lo([K("popupService")],e.prototype,"popupService",void 0),lo([K("userComponentFactory")],e.prototype,"userComponentFactory",void 0),lo([H],e.prototype,"postConstruct",null),e}(jt),uo=function(){function t(t){this.cssClassStates={},this.getGui=t}return t.prototype.addCssClass=function(t){var e=this,n=(t||"").split(" ");if(n.length>1)n.forEach((function(t){return e.addCssClass(t)}));else if(!0!==this.cssClassStates[t]&&t.length){var i=this.getGui();i&&i.classList.add(t),this.cssClassStates[t]=!0}},t.prototype.removeCssClass=function(t){var e=this,n=(t||"").split(" ");if(n.length>1)n.forEach((function(t){return e.removeCssClass(t)}));else if(!1!==this.cssClassStates[t]&&t.length){var i=this.getGui();i&&i.classList.remove(t),this.cssClassStates[t]=!1}},t.prototype.containsCssClass=function(t){var e=this.getGui();return!!e&&e.classList.contains(t)},t.prototype.addOrRemoveCssClass=function(t,e){var n=this;if(t){if(t.indexOf(" ")>=0){var i=(t||"").split(" ");if(i.length>1)return void i.forEach((function(t){return n.addOrRemoveCssClass(t,e)}))}if(this.cssClassStates[t]!==e&&t.length){var o=this.getGui();o&&o.classList.toggle(t,e),this.cssClassStates[t]=e}}},t}(),ho=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),po=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},fo=new io,go=function(t){function e(e){var n=t.call(this)||this;return n.displayed=!0,n.visible=!0,n.compId=fo.next(),n.cssClassManager=new uo((function(){return n.eGui})),e&&n.setTemplate(e),n}return ho(e,t),e.prototype.preConstructOnComponent=function(){this.usingBrowserTooltips=this.gridOptionsService.is("enableBrowserTooltips")},e.prototype.getCompId=function(){return this.compId},e.prototype.getTooltipParams=function(){return{value:this.tooltipText,location:"UNKNOWN"}},e.prototype.setTooltip=function(t){var e=this;this.tooltipText!=t&&(this.tooltipText&&(e.usingBrowserTooltips?e.getGui().removeAttribute("title"):e.tooltipFeature=e.destroyBean(e.tooltipFeature)),null!=t&&(this.tooltipText=t,this.tooltipText&&(e.usingBrowserTooltips?e.getGui().setAttribute("title",e.tooltipText):e.tooltipFeature=e.createBean(new co(e)))))},e.prototype.createChildComponentsFromTags=function(t,e){var n=this;Li(t.childNodes).forEach((function(i){if(i instanceof HTMLElement){var o=n.createComponentFromElement(i,(function(t){t.getGui()&&n.copyAttributesFromNode(i,t.getGui())}),e);if(o){if(o.addItems&&i.children.length){n.createChildComponentsFromTags(i,e);var r=Array.prototype.slice.call(i.children);o.addItems(r)}n.swapComponentForNode(o,t,i)}else i.childNodes&&n.createChildComponentsFromTags(i,e)}}))},e.prototype.createComponentFromElement=function(t,n,i){var o=t.nodeName,r=i?i[t.getAttribute("ref")]:void 0,s=this.agStackComponentsRegistry.getComponentClass(o);if(s){e.elementGettingCreated=t;var a=new s(r);return a.setParentComponent(this),this.createBean(a,null,n),a}return null},e.prototype.copyAttributesFromNode=function(t,e){Ii(t.attributes,(function(t,n){return e.setAttribute(t,n)}))},e.prototype.swapComponentForNode=function(t,e,n){var i=t.getGui();e.replaceChild(i,n),e.insertBefore(document.createComment(n.nodeName),i),this.addDestroyFunc(this.destroyBean.bind(this,t)),this.swapInComponentForQuerySelectors(t,n)},e.prototype.swapInComponentForQuerySelectors=function(t,e){var n=this;this.iterateOverQuerySelectors((function(i){n[i.attributeName]===e&&(n[i.attributeName]=t)}))},e.prototype.iterateOverQuerySelectors=function(t){for(var e=Object.getPrototypeOf(this);null!=e;){var n=e.__agComponentMetaData,i=T(e.constructor);n&&n[i]&&n[i].querySelectors&&n[i].querySelectors.forEach((function(e){return t(e)})),e=Object.getPrototypeOf(e)}},e.prototype.setTemplate=function(t,e){var n=vi(t);this.setTemplateFromElement(n,e)},e.prototype.setTemplateFromElement=function(t,e){this.eGui=t,this.eGui.__agComponent=this,this.wireQuerySelectors(),this.getContext()&&this.createChildComponentsFromTags(this.getGui(),e)},e.prototype.createChildComponentsPreConstruct=function(){this.getGui()&&this.createChildComponentsFromTags(this.getGui())},e.prototype.wireQuerySelectors=function(){var t=this;if(this.eGui){var e=this;this.iterateOverQuerySelectors((function(n){var i=function(t){return e[n.attributeName]=t};if(n.refSelector&&t.eGui.getAttribute("ref")===n.refSelector)i(t.eGui);else{var o=t.eGui.querySelector(n.querySelector);o&&i(o.__agComponent||o)}}))}},e.prototype.getGui=function(){return this.eGui},e.prototype.getFocusableElement=function(){return this.eGui},e.prototype.setParentComponent=function(t){this.parentComponent=t},e.prototype.getParentComponent=function(){return this.parentComponent},e.prototype.setGui=function(t){this.eGui=t},e.prototype.queryForHtmlElement=function(t){return this.eGui.querySelector(t)},e.prototype.queryForHtmlInputElement=function(t){return this.eGui.querySelector(t)},e.prototype.appendChild=function(t,e){if(null!=t)if(e||(e=this.eGui),Ai(t))e.appendChild(t);else{var n=t;e.appendChild(n.getGui())}},e.prototype.isDisplayed=function(){return this.displayed},e.prototype.setVisible=function(t,e){if(void 0===e&&(e={}),t!==this.visible){this.visible=t;var n=e.skipAriaHidden;ri(this.eGui,t,{skipAriaHidden:n})}},e.prototype.setDisplayed=function(t,n){if(void 0===n&&(n={}),t!==this.displayed){this.displayed=t;var i=n.skipAriaHidden;oi(this.eGui,t,{skipAriaHidden:i});var o={type:e.EVENT_DISPLAYED_CHANGED,visible:this.displayed};this.dispatchEvent(o)}},e.prototype.destroy=function(){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),this.parentComponent&&(this.parentComponent=void 0);var e=this.eGui;e&&e.__agComponent&&(e.__agComponent=void 0),t.prototype.destroy.call(this)},e.prototype.addGuiEventListener=function(t,e,n){var i=this;this.eGui.addEventListener(t,e,n),this.addDestroyFunc((function(){return i.eGui.removeEventListener(t,e)}))},e.prototype.addCssClass=function(t){this.cssClassManager.addCssClass(t)},e.prototype.removeCssClass=function(t){this.cssClassManager.removeCssClass(t)},e.prototype.containsCssClass=function(t){return this.cssClassManager.containsCssClass(t)},e.prototype.addOrRemoveCssClass=function(t,e){this.cssClassManager.addOrRemoveCssClass(t,e)},e.prototype.getAttribute=function(t){var e=this.eGui;return e?e.getAttribute(t):null},e.prototype.getRefElement=function(t){return this.queryForHtmlElement('[ref="'+t+'"]')},e.EVENT_DISPLAYED_CHANGED="displayedChanged",po([K("agStackComponentsRegistry")],e.prototype,"agStackComponentsRegistry",void 0),po([W],e.prototype,"preConstructOnComponent",null),po([W],e.prototype,"createChildComponentsPreConstruct",null),e}(jt);function mo(t){return _o.bind(this,"[ref="+t+"]",t)}function _o(t,e,n,i,o){null!==t?"number"!=typeof o?function(t,e,n){var i=function(t,e){t.__agComponentMetaData||(t.__agComponentMetaData={});t.__agComponentMetaData[e]||(t.__agComponentMetaData[e]={});return t.__agComponentMetaData[e]}(t,T(t.constructor));i[e]||(i[e]=[]);i[e].push(n)}(n,"querySelectors",{attributeName:i,querySelector:t,refSelector:e}):console.error("AG Grid: QuerySelector should be on an attribute"):console.error("AG Grid: QuerySelector selector should not be null")}var yo=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),vo=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},Co=function(t){function e(){return t.call(this,'\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eFloatingFilterText"></ag-input-text-field>\n            </div>')||this}return yo(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this)},e.prototype.init=function(t){this.params=t;var e=this.columnModel.getDisplayNameForColumn(t.column,"header",!0),n=this.localeService.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(e+" "+n("ariaFilterInput","Filter Input"))},e.prototype.onParentModelChanged=function(t){var e=this;t?this.params.parentFilterInstance((function(n){if(n.getModelAsString){var i=n.getModelAsString(t);e.eFloatingFilterText.setValue(i)}})):this.eFloatingFilterText.setValue("")},vo([mo("eFloatingFilterText")],e.prototype,"eFloatingFilterText",void 0),vo([K("columnModel")],e.prototype,"columnModel",void 0),e}(go),bo=function(){function t(t,e,n,i){var o=this;this.alive=!0,this.context=t,this.eParent=i,e.getDateCompDetails(n).newAgStackInstance().then((function(e){o.alive?(o.dateComp=e,e&&(i.appendChild(e.getGui()),e.afterGuiAttached&&e.afterGuiAttached(),o.tempValue&&e.setDate(o.tempValue),null!=o.disabled&&o.setDateCompDisabled(o.disabled))):t.destroyBean(e)}))}return t.prototype.destroy=function(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)},t.prototype.getDate=function(){return this.dateComp?this.dateComp.getDate():this.tempValue},t.prototype.setDate=function(t){this.dateComp?this.dateComp.setDate(t):this.tempValue=t},t.prototype.setDisabled=function(t){this.dateComp?this.setDateCompDisabled(t):this.disabled=t},t.prototype.setDisplayed=function(t){oi(this.eParent,t)},t.prototype.setInputPlaceholder=function(t){this.dateComp&&this.dateComp.setInputPlaceholder&&this.dateComp.setInputPlaceholder(t)},t.prototype.setInputAriaLabel=function(t){this.dateComp&&this.dateComp.setInputAriaLabel&&this.dateComp.setInputAriaLabel(t)},t.prototype.afterGuiAttached=function(t){this.dateComp&&"function"==typeof this.dateComp.afterGuiAttached&&this.dateComp.afterGuiAttached(t)},t.prototype.setDateCompDisabled=function(t){null!=this.dateComp&&null!=this.dateComp.setDisabled&&this.dateComp.setDisabled(t)},t}(),Eo=function(){return Eo=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Eo.apply(this,arguments)},So=function(){function t(){this.customFilterOptions={}}return t.prototype.init=function(t,e){this.filterOptions=t.filterOptions||e,this.mapCustomOptions(),this.selectDefaultItem(t),this.checkForDeprecatedParams()},t.prototype.checkForDeprecatedParams=function(){this.filterOptions.some((function(t){return"string"!=typeof t&&null!=t.test}))&&console.warn("AG Grid: [IFilterOptionDef] since v26.2.0, test() has been replaced with predicate()."),this.filterOptions.some((function(t){return"string"!=typeof t&&null!=t.hideFilterInput}))&&console.warn("AG Grid: [IFilterOptionDef] since v26.2.0, useOfHideFilterInput has been replaced with numberOfInputs.")},t.prototype.getFilterOptions=function(){return this.filterOptions},t.prototype.mapCustomOptions=function(){var t=this;this.filterOptions&&this.filterOptions.forEach((function(e){if("string"!=typeof e){if([["displayKey"],["displayName"],["predicate","test"]].every((function(t){return!!t.some((function(t){return null!=e[t]}))||(console.warn("AG Grid: ignoring FilterOptionDef as it doesn't contain one of '"+t+"'"),!1)}))){var n=e.test,i=Eo({},e);null!=n&&null==e.predicate&&(i.predicate=function(t,e){return n(t[0],e)},delete i.test),i.hideFilterInput&&null==i.numberOfInputs&&(i.numberOfInputs=0,delete i.hideFilterInput),t.customFilterOptions[e.displayKey]=i}else t.filterOptions=t.filterOptions.filter((function(t){return t===e}))||[]}}))},t.prototype.selectDefaultItem=function(t){if(t.defaultOption)this.defaultOption=t.defaultOption;else if(this.filterOptions.length>=1){var e=this.filterOptions[0];"string"==typeof e?this.defaultOption=e:e.displayKey?this.defaultOption=e.displayKey:console.warn("AG Grid: invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'")}else console.warn("AG Grid: no filter options for filter")},t.prototype.getDefaultOption=function(){return this.defaultOption},t.prototype.getCustomOption=function(t){return this.customFilterOptions[t]},t}(),wo={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose One",equals:"Equals",notEqual:"Not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"In range",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equals",greaterThanOrEqual:"Greater than or equals",contains:"Contains",notContains:"Not contains",startsWith:"Starts with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"},Oo=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),xo=function(){return xo=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},xo.apply(this,arguments)},Po=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},To=function(t){function e(e,n){void 0===n&&(n={});var i=t.call(this)||this;return i.eFocusableElement=e,i.callbacks=n,i.callbacks=xo({shouldStopEventPropagation:function(){return!1},onTabKeyDown:function(t){if(!t.defaultPrevented){var e=i.focusService.findNextFocusableElement(i.eFocusableElement,!1,t.shiftKey);e&&(e.focus(),t.preventDefault())}}},n),i}return Oo(e,t),e.prototype.postConstruct=function(){this.eFocusableElement.classList.add(e.FOCUS_MANAGED_CLASS),this.addKeyDownListeners(this.eFocusableElement),this.callbacks.onFocusIn&&this.addManagedListener(this.eFocusableElement,"focusin",this.callbacks.onFocusIn),this.callbacks.onFocusOut&&this.addManagedListener(this.eFocusableElement,"focusout",this.callbacks.onFocusOut)},e.prototype.addKeyDownListeners=function(t){var e=this;this.addManagedListener(t,"keydown",(function(t){t.defaultPrevented||Mt(t)||(e.callbacks.shouldStopEventPropagation(t)?Tt(t):t.key===Vi.TAB?e.callbacks.onTabKeyDown(t):e.callbacks.handleKeyDown&&e.callbacks.handleKeyDown(t))}))},e.FOCUS_MANAGED_CLASS="ag-focus-managed",Po([K("focusService")],e.prototype,"focusService",void 0),Po([H],e.prototype,"postConstruct",null),e}(jt),Mo=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Do=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},Ro="ag-resizer-wrapper",Ao='<div class="'+Ro+'">\n        <div ref="eTopLeftResizer" class="ag-resizer ag-resizer-topLeft"></div>\n        <div ref="eTopResizer" class="ag-resizer ag-resizer-top"></div>\n        <div ref="eTopRightResizer" class="ag-resizer ag-resizer-topRight"></div>\n        <div ref="eRightResizer" class="ag-resizer ag-resizer-right"></div>\n        <div ref="eBottomRightResizer" class="ag-resizer ag-resizer-bottomRight"></div>\n        <div ref="eBottomResizer" class="ag-resizer ag-resizer-bottom"></div>\n        <div ref="eBottomLeftResizer" class="ag-resizer ag-resizer-bottomLeft"></div>\n        <div ref="eLeftResizer" class="ag-resizer ag-resizer-left"></div>\n    </div>',Lo=function(t){function e(e,n){var i=t.call(this)||this;return i.element=e,i.dragStartPosition={x:0,y:0},i.position={x:0,y:0},i.lastSize={width:-1,height:-1},i.positioned=!1,i.resizersAdded=!1,i.resizeListeners=[],i.boundaryEl=null,i.isResizing=!1,i.isMoving=!1,i.resizable={},i.movable=!1,i.currentResizer=null,i.config=Object.assign({},{popup:!1},n),i}return Mo(e,t),e.prototype.center=function(){var t=this.offsetParent,e=t.clientHeight,n=t.clientWidth/2-this.getWidth()/2,i=e/2-this.getHeight()/2;this.offsetElement(n,i)},e.prototype.initialisePosition=function(){if(!this.positioned){var t=this.config,e=t.centered,n=t.forcePopupParentAsOffsetParent,i=t.minWidth,o=t.width,r=t.minHeight,s=t.height,a=t.x,l=t.y;this.offsetParent||this.setOffsetParent();var c=0,u=0,h=!!this.element.offsetParent;if(h){var d=this.findBoundaryElement(),p=window.getComputedStyle(d);if(null!=p.minWidth){var f=d.offsetWidth-this.element.offsetWidth;u=parseInt(p.minWidth,10)-f}if(null!=p.minHeight){var g=d.offsetHeight-this.element.offsetHeight;c=parseInt(p.minHeight,10)-g}}if(this.minHeight=r||c,this.minWidth=i||u,o&&this.setWidth(o),s&&this.setHeight(s),o&&s||this.refreshSize(),e)this.center();else if(a||l)this.offsetElement(a,l);else if(h&&n&&this.boundaryEl){var m=parseFloat(this.boundaryEl.style.top),_=parseFloat(this.boundaryEl.style.left);this.offsetElement(isNaN(_)?0:_,isNaN(m)?0:m)}this.positioned=!!this.offsetParent}},e.prototype.isPositioned=function(){return this.positioned},e.prototype.getPosition=function(){return this.position},e.prototype.setMovable=function(t,e){if(this.config.popup&&t!==this.movable){this.movable=t;var n=this.moveElementDragListener||{eElement:e,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};t?(this.dragService.addDragSource(n),this.moveElementDragListener=n):(this.dragService.removeDragSource(n),this.moveElementDragListener=void 0)}},e.prototype.setResizable=function(t){var e=this;if(this.clearResizeListeners(),t?this.addResizers():this.removeResizers(),"boolean"==typeof t){if(!1===t)return;t={topLeft:t,top:t,topRight:t,right:t,bottomRight:t,bottom:t,bottomLeft:t,left:t}}Object.keys(t).forEach((function(n){var i=!!t[n],o=e.getResizerElement(n),r={dragStartPixels:0,eElement:o,onDragStart:function(t){return e.onResizeStart(t,n)},onDragging:e.onResize.bind(e),onDragStop:function(t){return e.onResizeEnd(t,n)}};(i||!e.isAlive()&&!i)&&(i?(e.dragService.addDragSource(r),e.resizeListeners.push(r),o.style.pointerEvents="all"):o.style.pointerEvents="none",e.resizable[n]=i)}))},e.prototype.removeSizeFromEl=function(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")},e.prototype.restoreLastSize=function(){this.element.style.flex="0 0 auto";var t=this.lastSize,e=t.height,n=t.width;-1!==n&&(this.element.style.width=n+"px"),-1!==e&&(this.element.style.height=e+"px")},e.prototype.getHeight=function(){return this.element.offsetHeight},e.prototype.setHeight=function(t){var e=this.config.popup,n=this.element,i=!1;if("string"==typeof t&&-1!==t.indexOf("%"))Di(n,t),t=hi(n),i=!0;else if(this.positioned){t=Math.max(this.minHeight,t);var o=this.getAvailableHeight();o&&t>o&&(t=o)}this.getHeight()!==t&&(i?(n.style.maxHeight="unset",n.style.minHeight="unset"):e?Di(n,t):(n.style.height=t+"px",n.style.flex="0 0 auto",this.lastSize.height="number"==typeof t?t:parseFloat(t)))},e.prototype.getAvailableHeight=function(){var t=this.config,e=t.popup,n=t.forcePopupParentAsOffsetParent;this.positioned||this.initialisePosition();var i=this.offsetParent.clientHeight;if(!i)return null;var o=this.element.getBoundingClientRect(),r=this.offsetParent.getBoundingClientRect(),s=e?this.position.y:o.top,a=e?0:r.top,l=0;if(n){var c=this.element.parentElement;if(c)l=c.getBoundingClientRect().bottom-o.bottom}return i+a-s-l},e.prototype.getWidth=function(){return this.element.offsetWidth},e.prototype.setWidth=function(t){var e=this.element,n=this.config.popup,i=!1;if("string"==typeof t&&-1!==t.indexOf("%"))Mi(e,t),t=di(e),i=!0;else if(this.positioned){t=Math.max(this.minWidth,t);var o=this.offsetParent.clientWidth,r=n?this.position.x:this.element.getBoundingClientRect().left;o&&t+r>o&&(t=o-r)}this.getWidth()!==t&&(i?(e.style.maxWidth="unset",e.style.minWidth="unset"):this.config.popup?Mi(e,t):(e.style.width=t+"px",e.style.flex=" unset",this.lastSize.width="number"==typeof t?t:parseFloat(t)))},e.prototype.offsetElement=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0);var n=this.config.forcePopupParentAsOffsetParent?this.boundaryEl:this.element;this.popupService.positionPopup({ePopup:n,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:function(){return{x:t,y:e}}}),this.setPosition(parseFloat(n.style.left),parseFloat(n.style.top))},e.prototype.constrainSizeToAvailableHeight=function(t){var e=this;if(this.config.forcePopupParentAsOffsetParent){t?this.resizeObserverSubscriber=this.resizeObserverService.observeResize(this.popupService.getPopupParent(),(function(){var t=e.getAvailableHeight();e.element.style.setProperty("max-height",t+"px")})):(this.element.style.removeProperty("max-height"),this.resizeObserverSubscriber&&(this.resizeObserverSubscriber(),this.resizeObserverSubscriber=void 0))}},e.prototype.setPosition=function(t,e){this.position.x=t,this.position.y=e},e.prototype.updateDragStartPosition=function(t,e){this.dragStartPosition={x:t,y:e}},e.prototype.calculateMouseMovement=function(t){var e=t.e,n=t.isLeft,i=t.isTop,o=t.anywhereWithin,r=t.topBuffer,s=e.clientX-this.dragStartPosition.x,a=e.clientY-this.dragStartPosition.y;return{movementX:this.shouldSkipX(e,!!n,!!o,s)?0:s,movementY:this.shouldSkipY(e,!!i,r,a)?0:a}},e.prototype.shouldSkipX=function(t,e,n,i){var o=this.element.getBoundingClientRect(),r=this.offsetParent.getBoundingClientRect(),s=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.x:o.left,l=a<=0&&r.left>=t.clientX||r.right<=t.clientX&&r.right<=s.right;return!!l||(l=e?i<0&&t.clientX>a+r.left||i>0&&t.clientX<a+r.left:n?i<0&&t.clientX>s.right||i>0&&t.clientX<a+r.left:i<0&&t.clientX>s.right||i>0&&t.clientX<s.right)},e.prototype.shouldSkipY=function(t,e,n,i){void 0===n&&(n=0);var o=this.element.getBoundingClientRect(),r=this.offsetParent.getBoundingClientRect(),s=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.y:o.top,l=a<=0&&r.top>=t.clientY||r.bottom<=t.clientY&&r.bottom<=s.bottom;return!!l||(l=e?i<0&&t.clientY>a+r.top+n||i>0&&t.clientY<a+r.top:i<0&&t.clientY>s.bottom||i>0&&t.clientY<s.bottom)},e.prototype.createResizeMap=function(){var t=this.element;this.resizerMap={topLeft:{element:t.querySelector("[ref=eTopLeftResizer]")},top:{element:t.querySelector("[ref=eTopResizer]")},topRight:{element:t.querySelector("[ref=eTopRightResizer]")},right:{element:t.querySelector("[ref=eRightResizer]")},bottomRight:{element:t.querySelector("[ref=eBottomRightResizer]")},bottom:{element:t.querySelector("[ref=eBottomResizer]")},bottomLeft:{element:t.querySelector("[ref=eBottomLeftResizer]")},left:{element:t.querySelector("[ref=eLeftResizer]")}}},e.prototype.addResizers=function(){if(!this.resizersAdded){var t=this.element;if(t){var e=(new DOMParser).parseFromString(Ao,"text/html").body;t.appendChild(e.firstChild),this.createResizeMap(),this.resizersAdded=!0}}},e.prototype.removeResizers=function(){this.resizerMap=void 0;var t=this.element.querySelector("."+Ro);t&&this.element.removeChild(t),this.resizersAdded=!1},e.prototype.getResizerElement=function(t){return this.resizerMap[t].element},e.prototype.onResizeStart=function(t,e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!e.match(/top/i),isRight:!!e.match(/right/i),isBottom:!!e.match(/bottom/i),isLeft:!!e.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[e].element.classList.add("ag-active");var n=this.config,i=n.popup,o=n.forcePopupParentAsOffsetParent;i||o||this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(t.clientX,t.clientY)},e.prototype.getSiblings=function(){var t=this.element.parentElement;return t?Array.prototype.slice.call(t.children).filter((function(t){return!t.classList.contains("ag-hidden")})):null},e.prototype.getMinSizeOfSiblings=function(){for(var t=this.getSiblings()||[],e=0,n=0,i=0;i<t.length;i++){var o=t[i],r=!!o.style.flex&&"0 0 auto"!==o.style.flex;if(o!==this.element){var s=this.minHeight||0,a=this.minWidth||0;if(r){var l=window.getComputedStyle(o);l.minHeight&&(s=parseInt(l.minHeight,10)),l.minWidth&&(a=parseInt(l.minWidth,10))}else s=o.offsetHeight,a=o.offsetWidth;e+=s,n+=a}}return{height:e,width:n}},e.prototype.applySizeToSiblings=function(t){var e=null,n=this.getSiblings();if(n){for(var i=0;i<n.length;i++){var o=n[i];o!==e&&(t?o.style.height=o.offsetHeight+"px":o.style.width=o.offsetWidth+"px",o.style.flex="0 0 auto",o===this.element&&(e=n[i+1]))}e&&(e.style.removeProperty("height"),e.style.removeProperty("min-height"),e.style.removeProperty("max-height"),e.style.flex="1 1 auto")}},e.prototype.isResizable=function(){return Object.values(this.resizable).some((function(t){return t}))},e.prototype.onResize=function(t){if(this.isResizing&&this.currentResizer){var e=this.config,n=e.popup,i=e.forcePopupParentAsOffsetParent,o=this.currentResizer,r=o.isTop,s=o.isRight,a=o.isBottom,l=o.isLeft,c=s||l,u=a||r,h=this.calculateMouseMovement({e:t,isLeft:l,isTop:r}),d=h.movementX,p=h.movementY,f=this.position.x,g=this.position.y,m=0,_=0;if(c&&d){var y=l?-1:1,v=this.getWidth(),C=v+d*y,b=!1;l&&(f+(m=v-C)<=0||C<=this.minWidth)&&(b=!0,m=0),b||this.setWidth(C)}if(u&&p){y=r?-1:1;var E=this.getHeight(),S=E+p*y,w=!1;r?(g+(_=E-S)<=0||S<=this.minHeight)&&(w=!0,_=0):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&E<S&&this.getMinSizeOfSiblings().height+S>this.element.parentElement.offsetHeight&&(w=!0),w||this.setHeight(S)}this.updateDragStartPosition(t.clientX,t.clientY),((n||i)&&m||_)&&this.offsetElement(f+m,g+_)}},e.prototype.onResizeEnd=function(t,e){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null;var n={type:"resize",api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi};this.element.classList.remove("ag-resizing"),this.resizerMap[e].element.classList.remove("ag-active"),this.dispatchEvent(n)},e.prototype.refreshSize=function(){var t=this.element;this.config.popup&&(this.config.width||this.setWidth(t.offsetWidth),this.config.height||this.setHeight(t.offsetHeight))},e.prototype.onMoveStart=function(t){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(t.clientX,t.clientY)},e.prototype.onMove=function(t){if(this.isMoving){var e,n=this.position,i=n.x,o=n.y;this.config.calculateTopBuffer&&(e=this.config.calculateTopBuffer());var r=this.calculateMouseMovement({e:t,isTop:!0,anywhereWithin:!0,topBuffer:e}),s=r.movementX,a=r.movementY;this.offsetElement(i+s,o+a),this.updateDragStartPosition(t.clientX,t.clientY)}},e.prototype.onMoveEnd=function(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")},e.prototype.setOffsetParent=function(){this.config.forcePopupParentAsOffsetParent?this.offsetParent=this.popupService.getPopupParent():this.offsetParent=this.element.offsetParent},e.prototype.findBoundaryElement=function(){for(var t=this.element;t;){if("static"!==window.getComputedStyle(t).position)return t;t=t.parentElement}return this.element},e.prototype.clearResizeListeners=function(){for(;this.resizeListeners.length;){var t=this.resizeListeners.pop();this.dragService.removeDragSource(t)}},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.moveElementDragListener&&this.dragService.removeDragSource(this.moveElementDragListener),this.constrainSizeToAvailableHeight(!1),this.clearResizeListeners(),this.removeResizers()},Do([K("popupService")],e.prototype,"popupService",void 0),Do([K("resizeObserverService")],e.prototype,"resizeObserverService",void 0),Do([K("dragService")],e.prototype,"dragService",void 0),e}(jt),Io=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ko=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},No=function(t){function e(e){var n=t.call(this)||this;return n.filterNameKey=e,n.applyActive=!1,n.hidePopup=null,n.debouncePending=!1,n.appliedModel=null,n}return Io(e,t),e.prototype.postConstruct=function(){this.resetTemplate(),this.createManagedBean(new To(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.positionableFeature=new Lo(this.getPositionableElement(),{forcePopupParentAsOffsetParent:!0}),this.createBean(this.positionableFeature)},e.prototype.handleKeyDown=function(t){},e.prototype.getFilterTitle=function(){return this.translate(this.filterNameKey)},e.prototype.isFilterActive=function(){return!!this.appliedModel},e.prototype.resetTemplate=function(t){var e=this.getGui();e&&e.removeEventListener("submit",this.onFormSubmit);var n='\n            <form class="ag-filter-wrapper">\n                <div class="ag-filter-body-wrapper ag-'+this.getCssIdentifier()+'-body-wrapper" ref="eFilterBody">\n                    '+this.createBodyTemplate()+"\n                </div>\n            </form>";this.setTemplate(n,t),(e=this.getGui())&&e.addEventListener("submit",this.onFormSubmit)},e.prototype.isReadOnly=function(){return!!this.providedFilterParams.readOnly},e.prototype.init=function(t){var e=this;this.setParams(t),this.resetUiToDefaults(!0).then((function(){e.updateUiVisibility(),e.setupOnBtApplyDebounce()}))},e.prototype.setParams=function(t){this.providedFilterParams=t,this.applyActive=e.isUseApplyButton(t),this.createButtonPanel()},e.prototype.createButtonPanel=function(){var t=this,e=this.providedFilterParams.buttons;if(!(!e||e.length<1||this.isReadOnly())){var n=document.createElement("div");n.classList.add("ag-filter-apply-panel");Ji(e).forEach((function(e){return function(e){var i,o;switch(e){case"apply":i=t.translate("applyFilter"),o=function(e){return t.onBtApply(!1,!1,e)};break;case"clear":i=t.translate("clearFilter"),o=function(){return t.onBtClear()};break;case"reset":i=t.translate("resetFilter"),o=function(){return t.onBtReset()};break;case"cancel":i=t.translate("cancelFilter"),o=function(e){t.onBtCancel(e)};break;default:return void console.warn("AG Grid: Unknown button type specified")}var r=vi('<button\n                    type="'+("apply"===e?"submit":"button")+'"\n                    ref="'+e+'FilterButton"\n                    class="ag-standard-button ag-filter-apply-panel-button"\n                >'+i+"\n                </button>");n.appendChild(r),t.addManagedListener(r,"click",o)}(e)})),this.getGui().appendChild(n)}},e.prototype.getDefaultDebounceMs=function(){return 0},e.prototype.setupOnBtApplyDebounce=function(){var t=this,n=e.getDebounceMs(this.providedFilterParams,this.getDefaultDebounceMs()),i=k(this.checkApplyDebounce.bind(this),n);this.onBtApplyDebounce=function(){t.debouncePending=!0,i()}},e.prototype.checkApplyDebounce=function(){this.debouncePending&&(this.debouncePending=!1,this.onBtApply())},e.prototype.getModel=function(){return this.appliedModel?this.appliedModel:null},e.prototype.setModel=function(t){var e=this;return(null!=t?this.setModelIntoUi(t):this.resetUiToDefaults()).then((function(){e.updateUiVisibility(),e.applyModel("api")}))},e.prototype.onBtCancel=function(t){var e=this;this.resetUiToActiveModel(this.getModel(),(function(){e.handleCancelEnd(t)}))},e.prototype.handleCancelEnd=function(t){this.providedFilterParams.closeOnApply&&this.close(t)},e.prototype.resetUiToActiveModel=function(t,e){var n=this,i=function(){n.onUiChanged(!1,"prevent"),null==e||e()};null!=t?this.setModelIntoUi(t).then(i):this.resetUiToDefaults().then(i)},e.prototype.onBtClear=function(){var t=this;this.resetUiToDefaults().then((function(){return t.onUiChanged()}))},e.prototype.onBtReset=function(){this.onBtClear(),this.onBtApply()},e.prototype.applyModel=function(t){var e=this.getModelFromUi();if(!this.isModelValid(e))return!1;var n=this.appliedModel;return this.appliedModel=e,!this.areModelsEqual(n,e)},e.prototype.isModelValid=function(t){return!0},e.prototype.onFormSubmit=function(t){t.preventDefault()},e.prototype.onBtApply=function(t,e,n){void 0===t&&(t=!1),void 0===e&&(e=!1),n&&n.preventDefault(),this.applyModel(e?"rowDataUpdated":"ui")&&this.providedFilterParams.filterChangedCallback({afterFloatingFilter:t,afterDataChange:e}),this.providedFilterParams.closeOnApply&&this.applyActive&&!t&&!e&&this.close(n)},e.prototype.onNewRowsLoaded=function(){},e.prototype.close=function(t){if(this.hidePopup){var e,n=t,i=n&&n.key;"Enter"!==i&&"Space"!==i||(e={keyboardEvent:n}),this.hidePopup(e),this.hidePopup=null}},e.prototype.onUiChanged=function(t,e){if(void 0===t&&(t=!1),this.updateUiVisibility(),this.providedFilterParams.filterModifiedCallback(),this.applyActive&&!this.isReadOnly()){var n=this.isModelValid(this.getModelFromUi());si(this.getRefElement("applyFilterButton"),!n)}t&&!e||"immediately"===e?this.onBtApply(t):(this.applyActive||e)&&"debounce"!==e||this.onBtApplyDebounce()},e.prototype.afterGuiAttached=function(t){t&&(this.hidePopup=t.hidePopup),this.refreshFilterResizer(null==t?void 0:t.container)},e.prototype.refreshFilterResizer=function(t){if(this.positionableFeature&&"toolPanel"!==t){var e="floatingFilter"===t,n=this.positionableFeature,i=this.gridOptionsService;e?(n.restoreLastSize(),n.setResizable(i.is("enableRtl")?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0})):(this.positionableFeature.removeSizeFromEl(),this.positionableFeature.setResizable(!1)),this.positionableFeature.constrainSizeToAvailableHeight(!0)}},e.prototype.afterGuiDetached=function(){this.checkApplyDebounce(),this.positionableFeature&&this.positionableFeature.constrainSizeToAvailableHeight(!1)},e.getDebounceMs=function(t,n){return e.isUseApplyButton(t)?(null!=t.debounceMs&&console.warn("AG Grid: debounceMs is ignored when apply button is present"),0):null!=t.debounceMs?t.debounceMs:n},e.isUseApplyButton=function(t){return!!t.buttons&&t.buttons.indexOf("apply")>=0},e.prototype.destroy=function(){var e=this.getGui();e&&e.removeEventListener("submit",this.onFormSubmit),this.hidePopup=null,this.positionableFeature&&(this.positionableFeature=this.destroyBean(this.positionableFeature)),t.prototype.destroy.call(this)},e.prototype.translate=function(t){return this.localeService.getLocaleTextFunc()(t,wo[t])},e.prototype.getCellValue=function(t){var e=this.providedFilterParams,n=e.api,i=e.colDef,o=e.column,r=e.columnApi,s=e.context;return this.providedFilterParams.valueGetter({api:n,colDef:i,column:o,columnApi:r,context:s,data:t.data,getValue:function(e){return t.data[e]},node:t})},e.prototype.getPositionableElement=function(){return this.eFilterBody},ko([K("rowModel")],e.prototype,"rowModel",void 0),ko([mo("eFilterBody")],e.prototype,"eFilterBody",void 0),ko([H],e.prototype,"postConstruct",null),e}(go),Fo=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Go=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},Bo=function(t){function e(e,n){var i=t.call(this,n)||this;return i.labelSeparator="",i.labelAlignment="left",i.disabled=!1,i.label="",i.config=e||{},i}return Fo(e,t),e.prototype.postConstruct=function(){this.addCssClass("ag-labeled"),this.eLabel.classList.add("ag-label");var t=this.config,e=t.labelSeparator,n=t.label,i=t.labelWidth,o=t.labelAlignment;null!=e&&this.setLabelSeparator(e),null!=n&&this.setLabel(n),null!=i&&this.setLabelWidth(i),this.setLabelAlignment(o||this.labelAlignment),this.refreshLabel()},e.prototype.refreshLabel=function(){mi(this.eLabel),"string"==typeof this.label?this.eLabel.innerText=this.label+this.labelSeparator:this.label&&this.eLabel.appendChild(this.label),""===this.label?(oi(this.eLabel,!1),ze(this.eLabel,"presentation")):(oi(this.eLabel,!0),ze(this.eLabel,null))},e.prototype.setLabelSeparator=function(t){return this.labelSeparator===t||(this.labelSeparator=t,null!=this.label&&this.refreshLabel()),this},e.prototype.getLabelId=function(){return this.eLabel.id=this.eLabel.id||"ag-"+this.getCompId()+"-label",this.eLabel.id},e.prototype.getLabel=function(){return this.label},e.prototype.setLabel=function(t){return this.label===t||(this.label=t,this.refreshLabel()),this},e.prototype.setLabelAlignment=function(t){var e=this.getGui().classList;return e.toggle("ag-label-align-left","left"===t),e.toggle("ag-label-align-right","right"===t),e.toggle("ag-label-align-top","top"===t),this},e.prototype.setLabelEllipsis=function(t){return this.eLabel.classList.toggle("ag-label-ellipsis",t),this},e.prototype.setLabelWidth=function(t){return null==this.label||Ti(this.eLabel,t),this},e.prototype.setDisabled=function(t){t=!!t;var e=this.getGui();return si(e,t),e.classList.toggle("ag-disabled",t),this.disabled=t,this},e.prototype.isDisabled=function(){return!!this.disabled},Go([H],e.prototype,"postConstruct",null),e}(go),jo=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Uo=function(t){function e(e,n,i){var o=t.call(this,e,n)||this;return o.className=i,o}return jo(e,t),e.prototype.postConstruct=function(){t.prototype.postConstruct.call(this),this.className&&this.addCssClass(this.className)},e.prototype.onValueChange=function(t){var n=this;return this.addManagedListener(this,e.EVENT_CHANGED,(function(){return t(n.getValue())})),this},e.prototype.getWidth=function(){return this.getGui().clientWidth},e.prototype.setWidth=function(t){return Mi(this.getGui(),t),this},e.prototype.getPreviousValue=function(){return this.previousValue},e.prototype.getValue=function(){return this.value},e.prototype.setValue=function(t,n){return this.value===t||(this.previousValue=this.value,this.value=t,n||this.dispatchEvent({type:e.EVENT_CHANGED})),this},e.EVENT_CHANGED="valueChange",e}(Bo),Vo=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Wo=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},Ho=function(t){function e(e,n,i,o){var r=t.call(this,e,'<div class="ag-picker-field" role="presentation">\n                <div ref="eLabel"></div>\n                <div ref="eWrapper"\n                    class="ag-wrapper ag-picker-field-wrapper"\n                    tabIndex="-1"\n                    aria-expanded="false"\n                    '+(o?'role="'+o+'"':"")+'\n                >\n                    <div ref="eDisplayField" class="ag-picker-field-display"></div>\n                    <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>\n                </div>\n            </div>',n)||this;return r.pickerIcon=i,r.isPickerDisplayed=!1,r.isDestroyingPicker=!1,r.skipClick=!1,r}return Vo(e,t),e.prototype.postConstruct=function(){var e=this;t.prototype.postConstruct.call(this);var n=this.getCompId()+"-display";this.eDisplayField.setAttribute("id",n),Qe(this.eWrapper,n);var i=function(){e.skipClick?e.skipClick=!1:e.isDisabled()||(e.pickerComponent=e.showPicker())},o=this.getGui();if(this.addManagedListener(o,"mousedown",(function(t){!e.skipClick&&e.pickerComponent&&e.pickerComponent.isAlive()&&yi(e.pickerComponent.getGui())&&o.contains(t.target)&&(e.skipClick=!0)})),this.addManagedListener(o,"keydown",(function(t){switch(t.key){case Vi.UP:case Vi.DOWN:case Vi.ENTER:case Vi.SPACE:i();case Vi.ESCAPE:e.isPickerDisplayed&&t.preventDefault()}})),this.addManagedListener(this.eWrapper,"click",i),this.addManagedListener(this.eLabel,"click",i),this.pickerIcon){var r=ji(this.pickerIcon,this.gridOptionsService);r&&this.eIcon.appendChild(r)}},e.prototype.refreshLabel=function(){o(this.getLabel())?Ze(this.eWrapper,this.getLabelId()):this.eWrapper.removeAttribute("aria-labelledby"),t.prototype.refreshLabel.call(this)},e.prototype.setAriaLabel=function(t){return qe(this.eWrapper,t),this},e.prototype.setInputWidth=function(t){return Ti(this.eWrapper,t),this},e.prototype.getFocusableElement=function(){return this.eWrapper},Wo([mo("eLabel")],e.prototype,"eLabel",void 0),Wo([mo("eWrapper")],e.prototype,"eWrapper",void 0),Wo([mo("eDisplayField")],e.prototype,"eDisplayField",void 0),Wo([mo("eIcon")],e.prototype,"eIcon",void 0),e}(Uo),$o=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),zo=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},Ko=function(t){function e(e){void 0===e&&(e="default");var n=t.call(this,'<div class="ag-list ag-'+e+'-list" role="listbox"></div>')||this;return n.cssIdentifier=e,n.options=[],n.itemEls=[],n}return $o(e,t),e.prototype.init=function(){this.addManagedListener(this.getGui(),"keydown",this.handleKeyDown.bind(this))},e.prototype.handleKeyDown=function(t){var e=t.key;switch(e){case Vi.ENTER:if(this.highlightedEl){var n=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(n)}else this.setValue(this.getValue());break;case Vi.DOWN:case Vi.UP:var i=e===Vi.DOWN,o=void 0;if(t.preventDefault(),this.highlightedEl){var r=this.itemEls.indexOf(this.highlightedEl)+(i?1:-1);r=Math.min(Math.max(r,0),this.itemEls.length-1),o=this.itemEls[r]}else o=this.itemEls[i?0:this.itemEls.length-1];this.highlightItem(o)}},e.prototype.addOptions=function(t){var e=this;return t.forEach((function(t){return e.addOption(t)})),this},e.prototype.addOption=function(t){var e=t.value,n=Ce(t.text||e);return this.options.push({value:e,text:n}),this.renderOption(e,n),this.updateIndices(),this},e.prototype.updateIndices=function(){var t=this.getGui().querySelectorAll(".ag-list-item");t.forEach((function(e,n){an(e,n+1),sn(e,t.length)}))},e.prototype.renderOption=function(t,e){var n=this,i=document.createElement("div");ze(i,"option"),i.classList.add("ag-list-item","ag-"+this.cssIdentifier+"-list-item"),i.innerHTML="<span>"+e+"</span>",i.tabIndex=-1,this.itemEls.push(i),this.addManagedListener(i,"mouseover",(function(){return n.highlightItem(i)})),this.addManagedListener(i,"mouseleave",(function(){return n.clearHighlighted()})),this.addManagedListener(i,"click",(function(){return n.setValue(t)})),this.getGui().appendChild(i)},e.prototype.setValue=function(t,e){if(this.value===t)return this.fireItemSelected(),this;if(null==t)return this.reset(),this;var n=this.options.findIndex((function(e){return e.value===t}));if(-1!==n){var i=this.options[n];this.value=i.value,this.displayValue=null!=i.text?i.text:i.value,this.highlightItem(this.itemEls[n]),e||this.fireChangeEvent()}return this},e.prototype.setValueByIndex=function(t){return this.setValue(this.options[t].value)},e.prototype.getValue=function(){return this.value},e.prototype.getDisplayValue=function(){return this.displayValue},e.prototype.refreshHighlighted=function(){var t=this;this.clearHighlighted();var e=this.options.findIndex((function(e){return e.value===t.value}));-1!==e&&this.highlightItem(this.itemEls[e])},e.prototype.reset=function(){this.value=null,this.displayValue=null,this.clearHighlighted(),this.fireChangeEvent()},e.prototype.highlightItem=function(t){t.offsetParent&&(this.clearHighlighted(),this.highlightedEl=t,this.highlightedEl.classList.add(e.ACTIVE_CLASS),mn(this.highlightedEl,!0),this.highlightedEl.focus())},e.prototype.clearHighlighted=function(){this.highlightedEl&&this.highlightedEl.offsetParent&&(this.highlightedEl.classList.remove(e.ACTIVE_CLASS),mn(this.highlightedEl,!1),this.highlightedEl=null)},e.prototype.fireChangeEvent=function(){this.dispatchEvent({type:Uo.EVENT_CHANGED}),this.fireItemSelected()},e.prototype.fireItemSelected=function(){this.dispatchEvent({type:e.EVENT_ITEM_SELECTED})},e.EVENT_ITEM_SELECTED="selectedItem",e.ACTIVE_CLASS="ag-active-item",zo([H],e.prototype,"init",null),e}(go),Yo=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Xo=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},qo=function(t){function e(e){return t.call(this,e,"ag-select","smallDown","listbox")||this}return Yo(e,t),e.prototype.init=function(){var t=this;this.listComponent=this.createBean(new Ko("select")),this.listComponent.setParentComponent(this),this.eWrapper.tabIndex=0,this.listComponent.addManagedListener(this.listComponent,Ko.EVENT_ITEM_SELECTED,(function(){t.hideList&&t.hideList(),t.dispatchEvent({type:e.EVENT_ITEM_SELECTED})})),this.listComponent.addManagedListener(this.listComponent,Uo.EVENT_CHANGED,(function(){t.setValue(t.listComponent.getValue(),!1,!0),t.hideList&&t.hideList()}))},e.prototype.showPicker=function(){var t=this,e=this.listComponent.getGui(),n=this.gridOptionsService.getDocument(),i=this.addManagedListener(n.body,"wheel",(function(n){!e.contains(n.target)&&t.hideList&&t.hideList()})),o=this.addManagedListener(e,"focusout",(function(n){!e.contains(n.relatedTarget)&&t.hideList&&t.hideList()})),r=this.localeService.getLocaleTextFunc(),s=this.popupService.addPopup({modal:!0,eChild:e,closeOnEsc:!0,closedCallback:function(){t.hideList=null,t.isPickerDisplayed=!1,o(),i(),t.isAlive()&&(on(t.eWrapper,!1),t.getFocusableElement().focus())},ariaLabel:r("ariaLabelSelectField","Select Field")});return s&&(this.hideList=s.hideFunc),this.isPickerDisplayed=!0,Ti(e,di(this.eWrapper)),on(this.eWrapper,!0),e.style.maxHeight=ci(this.popupService.getPopupParent())+"px",e.style.position="absolute",this.popupService.positionPopupByComponent({type:"ag-list",eventSource:this.eWrapper,ePopup:e,position:"under",keepWithinBounds:!0}),this.listComponent.refreshHighlighted(),this.listComponent},e.prototype.addOptions=function(t){var e=this;return t.forEach((function(t){return e.addOption(t)})),this},e.prototype.addOption=function(t){return this.listComponent.addOption(t),this},e.prototype.setValue=function(e,n,i){return this.value===e?this:(i||this.listComponent.setValue(e,!0),this.listComponent.getValue()===this.getValue()?this:(this.eDisplayField.innerHTML=this.listComponent.getDisplayValue(),t.prototype.setValue.call(this,e,n)))},e.prototype.destroy=function(){this.hideList&&this.hideList(),this.destroyBean(this.listComponent),t.prototype.destroy.call(this)},e.EVENT_ITEM_SELECTED="selectedItem",Xo([K("popupService")],e.prototype,"popupService",void 0),Xo([H],e.prototype,"init",null),e}(Ho),Zo=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Jo=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},Qo=function(t){function e(e,n,i,o){void 0===i&&(i="text"),void 0===o&&(o="input");var r=t.call(this,e,'\n            <div role="presentation">\n                <div ref="eLabel" class="ag-input-field-label"></div>\n                <div ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">\n                    <'+o+' ref="eInput" class="ag-input-field-input"></'+o+">\n                </div>\n            </div>",n)||this;return r.inputType=i,r.displayFieldTag=o,r}return Zo(e,t),e.prototype.postConstruct=function(){t.prototype.postConstruct.call(this),this.setInputType(),this.eLabel.classList.add(this.className+"-label"),this.eWrapper.classList.add(this.className+"-input-wrapper"),this.eInput.classList.add(this.className+"-input"),this.addCssClass("ag-input-field"),this.eInput.id=this.eInput.id||"ag-"+this.getCompId()+"-input";var e=this.config,n=e.width,i=e.value;null!=n&&this.setWidth(n),null!=i&&this.setValue(i),this.addInputListeners()},e.prototype.refreshLabel=function(){o(this.getLabel())?Ze(this.eInput,this.getLabelId()):this.eInput.removeAttribute("aria-labelledby"),t.prototype.refreshLabel.call(this)},e.prototype.addInputListeners=function(){var t=this;this.addManagedListener(this.eInput,"input",(function(e){return t.setValue(e.target.value)}))},e.prototype.setInputType=function(){"input"===this.displayFieldTag&&this.eInput.setAttribute("type",this.inputType)},e.prototype.getInputElement=function(){return this.eInput},e.prototype.setInputWidth=function(t){return Ti(this.eWrapper,t),this},e.prototype.setInputName=function(t){return this.getInputElement().setAttribute("name",t),this},e.prototype.getFocusableElement=function(){return this.eInput},e.prototype.setMaxLength=function(t){return this.eInput.maxLength=t,this},e.prototype.setInputPlaceholder=function(t){return ki(this.eInput,"placeholder",t),this},e.prototype.setInputAriaLabel=function(t){return qe(this.eInput,t),this},e.prototype.setDisabled=function(e){return si(this.eInput,e),t.prototype.setDisabled.call(this,e)},Jo([mo("eLabel")],e.prototype,"eLabel",void 0),Jo([mo("eWrapper")],e.prototype,"eWrapper",void 0),Jo([mo("eInput")],e.prototype,"eInput",void 0),e}(Uo),tr=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),er=function(t){function e(e,n,i){void 0===n&&(n="ag-checkbox"),void 0===i&&(i="checkbox");var o=t.call(this,e,n,i)||this;return o.labelAlignment="right",o.selected=!1,o.readOnly=!1,o.passive=!1,o}return tr(e,t),e.prototype.addInputListeners=function(){this.addManagedListener(this.eInput,"click",this.onCheckboxClick.bind(this)),this.addManagedListener(this.eLabel,"click",this.toggle.bind(this))},e.prototype.getNextValue=function(){return void 0===this.selected||!this.selected},e.prototype.setPassive=function(t){this.passive=t},e.prototype.isReadOnly=function(){return this.readOnly},e.prototype.setReadOnly=function(t){this.eWrapper.classList.toggle("ag-disabled",t),this.eInput.disabled=t,this.readOnly=t},e.prototype.setDisabled=function(e){return this.eWrapper.classList.toggle("ag-disabled",e),t.prototype.setDisabled.call(this,e)},e.prototype.toggle=function(){if(!this.eInput.disabled){var t=this.isSelected(),e=this.getNextValue();this.passive?this.dispatchChange(e,t):this.setValue(e)}},e.prototype.getValue=function(){return this.isSelected()},e.prototype.setValue=function(t,e){return this.refreshSelectedClass(t),this.setSelected(t,e),this},e.prototype.setName=function(t){return this.getInputElement().name=t,this},e.prototype.isSelected=function(){return this.selected},e.prototype.setSelected=function(t,e){this.isSelected()!==t&&(this.previousValue=this.isSelected(),t=this.selected="boolean"==typeof t?t:void 0,this.eInput.checked=t,this.eInput.indeterminate=void 0===t,e||this.dispatchChange(this.selected,this.previousValue))},e.prototype.dispatchChange=function(t,n,i){this.dispatchEvent({type:e.EVENT_CHANGED,selected:t,previousValue:n,event:i});var o=this.getInputElement(),r={type:zt.EVENT_CHECKBOX_CHANGED,id:o.id,name:o.name,selected:t,previousValue:n};this.eventService.dispatchEvent(r)},e.prototype.onCheckboxClick=function(t){if(!this.passive&&!this.eInput.disabled){var e=this.isSelected(),n=this.selected=t.target.checked;this.refreshSelectedClass(n),this.dispatchChange(n,e,t)}},e.prototype.refreshSelectedClass=function(t){this.eWrapper.classList.toggle("ag-checked",!0===t),this.eWrapper.classList.toggle("ag-indeterminate",null==t)},e}(Qo),nr=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ir=function(t){function e(e){return t.call(this,e,"ag-radio-button","radio")||this}return nr(e,t),e.prototype.isSelected=function(){return this.eInput.checked},e.prototype.toggle=function(){this.eInput.disabled||this.isSelected()||this.setValue(!0)},e.prototype.addInputListeners=function(){t.prototype.addInputListeners.call(this),this.addManagedListener(this.eventService,zt.EVENT_CHECKBOX_CHANGED,this.onChange.bind(this))},e.prototype.onChange=function(t){t.selected&&t.name&&this.eInput.name&&this.eInput.name===t.name&&t.id&&this.eInput.id!==t.id&&this.setValue(!1,!0)},e}(er),or=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),rr=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},sr=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(rr(arguments[e]));return t},ar=function(){function t(t,e){this.localeService=t,this.optionsFactory=e}return t.prototype.getModelAsString=function(t){var e=this;if(!t)return null;var n=null!=t.operator,i=this.localeService.getLocaleTextFunc();if(n){var o=t,r=o.conditions;if(!r)r=[o.condition1,o.condition2];var s=r.map((function(t){return e.getModelAsString(t)})),a="AND"===o.operator?"andCondition":"orCondition";return s.join(" "+i(a,wo[a])+" ")}if(t.type===lr.BLANK||t.type===lr.NOT_BLANK)return i(t.type,t.type);var l=t,c=this.optionsFactory.getCustomOption(l.type),u=c||{},h=u.displayKey,d=u.displayName,p=u.numberOfInputs;return h&&d&&0===p?(i(h,d),d):this.conditionToString(l,c)},t}(),lr=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.eTypes=[],e.eJoinOperatorPanels=[],e.eJoinOperatorsAnd=[],e.eJoinOperatorsOr=[],e.eConditionBodies=[],e.listener=function(){return e.onUiChanged()},e.lastUiCompletePosition=null,e.joinOperatorId=0,e}return or(e,t),e.prototype.getNumberOfInputs=function(t){var n=this.optionsFactory.getCustomOption(t);if(n){var i=n.numberOfInputs;return null!=i?i:1}var o=[e.EMPTY,e.NOT_BLANK,e.BLANK];return t&&o.indexOf(t)>=0?0:t===e.IN_RANGE?2:1},e.prototype.onFloatingFilterChanged=function(t,e){this.setTypeFromFloatingFilter(t),this.setValueFromFloatingFilter(e),this.onUiChanged(!0)},e.prototype.setTypeFromFloatingFilter=function(t){var e=this;this.eTypes.forEach((function(n,i){0===i?n.setValue(t,!0):n.setValue(e.optionsFactory.getDefaultOption(),!0)}))},e.prototype.getModelFromUi=function(){var t=this.getUiCompleteConditions();return 0===t.length?null:this.maxNumConditions>1&&t.length>1?{filterType:this.getFilterType(),operator:this.getJoinOperator(),condition1:t[0],condition2:t[1],conditions:t}:t[0]},e.prototype.getConditionTypes=function(){return this.eTypes.map((function(t){return t.getValue()}))},e.prototype.getConditionType=function(t){return this.eTypes[t].getValue()},e.prototype.getJoinOperator=function(){return 0===this.eJoinOperatorsOr.length?this.defaultJoinOperator:!0===this.eJoinOperatorsOr[0].getValue()?"OR":"AND"},e.prototype.areModelsEqual=function(t,e){var n=this;if(!t&&!e)return!0;if(!t&&e||t&&!e)return!1;var i,o=!t.operator,r=!e.operator;if(!o&&r||o&&!r)return!1;if(o){var s=t,a=e;i=this.areSimpleModelsEqual(s,a)}else{var l=t,c=e;i=l.operator===c.operator&&gt(l.conditions,c.conditions,(function(t,e){return n.areSimpleModelsEqual(t,e)}))}return i},e.prototype.setModelIntoUi=function(t){var e=this;if(t.operator){var n=t;n.conditions||(n.conditions=[n.condition1,n.condition2]);var i=this.validateAndUpdateConditions(n.conditions),o=this.getNumConditions();if(i<o)this.removeConditionsAndOperators(i);else if(i>o)for(var r=o;r<i;r++)this.createJoinOperatorPanel(),this.createOption();var s="OR"===n.operator;this.eJoinOperatorsAnd.forEach((function(t){return t.setValue(!s,!0)})),this.eJoinOperatorsOr.forEach((function(t){return t.setValue(s,!0)})),n.conditions.forEach((function(t,n){e.eTypes[n].setValue(t.type,!0),e.setConditionIntoUi(t,n)}))}else{var a=t;this.getNumConditions()>1&&this.removeConditionsAndOperators(1),this.eTypes[0].setValue(a.type,!0),this.setConditionIntoUi(a,0)}return this.lastUiCompletePosition=this.getNumConditions()-1,this.createMissingConditionsAndOperators(),this.onUiChanged(),ro.resolve()},e.prototype.validateAndUpdateConditions=function(t){var e=t.length;return e>this.maxNumConditions&&(t.splice(this.maxNumConditions),P((function(){return console.warn('AG Grid: Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.')}),"simpleFilterSetModelMaxNumConditions"),e=this.maxNumConditions),e},e.prototype.doesFilterPass=function(t){var e,n=this,i=this.getModel();if(null==i)return!0;var o=i.operator,r=[];if(o){var s=i;r.push.apply(r,sr(null!==(e=s.conditions)&&void 0!==e?e:[]))}else r.push(i);return r[o&&"OR"===o?"some":"every"]((function(e){return n.individualConditionPasses(t,e)}))},e.prototype.setParams=function(e){t.prototype.setParams.call(this,e),this.setNumConditions(e),this.defaultJoinOperator=this.getDefaultJoinOperator(e.defaultJoinOperator),this.filterPlaceholder=e.filterPlaceholder,this.optionsFactory=new So,this.optionsFactory.init(e,this.getDefaultFilterOptions()),this.createOption(),this.createMissingConditionsAndOperators()},e.prototype.setNumConditions=function(t){var e,n;null!=t.suppressAndOrCondition&&P((function(){return console.warn('AG Grid: Since v29.2 "filterParams.suppressAndOrCondition" is deprecated. Use "filterParams.maxNumConditions = 1" instead.')}),"simpleFilterSuppressAndOrCondition"),null!=t.alwaysShowBothConditions&&P((function(){return console.warn('AG Grid: Since v29.2 "filterParams.alwaysShowBothConditions" is deprecated. Use "filterParams.numAlwaysVisibleConditions = 2" instead.')}),"simpleFilterAlwaysShowBothConditions"),this.maxNumConditions=null!==(e=t.maxNumConditions)&&void 0!==e?e:t.suppressAndOrCondition?1:2,this.maxNumConditions<1&&(P((function(){return console.warn('AG Grid: "filterParams.maxNumConditions" must be greater than or equal to zero.')}),"simpleFilterMaxNumConditions"),this.maxNumConditions=1),this.numAlwaysVisibleConditions=null!==(n=t.numAlwaysVisibleConditions)&&void 0!==n?n:t.alwaysShowBothConditions?2:1,this.numAlwaysVisibleConditions<1&&(P((function(){return console.warn('AG Grid: "filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.')}),"simpleFilterNumAlwaysVisibleConditions"),this.numAlwaysVisibleConditions=1),this.numAlwaysVisibleConditions>this.maxNumConditions&&(P((function(){return console.warn('AG Grid: "filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".')}),"simpleFilterNumAlwaysVisibleGreaterThanMaxNumConditions"),this.numAlwaysVisibleConditions=this.maxNumConditions)},e.prototype.createOption=function(){var t=this,e=this.createManagedBean(new qo);this.eTypes.push(e),e.addCssClass("ag-filter-select"),this.eFilterBody.appendChild(e.getGui());var n=this.createValueElement();this.eConditionBodies.push(n),this.eFilterBody.appendChild(n),this.putOptionsIntoDropdown(e),this.resetType(e);var i=this.getNumConditions()-1;this.forEachPositionInput(i,(function(e){return t.resetInput(e)})),this.addChangedListeners(e,i)},e.prototype.createJoinOperatorPanel=function(){var t=document.createElement("div");this.eJoinOperatorPanels.push(t),t.classList.add("ag-filter-condition");var e=this.createJoinOperator(this.eJoinOperatorsAnd,t,"and"),n=this.createJoinOperator(this.eJoinOperatorsOr,t,"or");this.eFilterBody.appendChild(t);var i=this.eJoinOperatorPanels.length-1,o=this.joinOperatorId++;this.resetJoinOperatorAnd(e,i,o),this.resetJoinOperatorOr(n,i,o),this.isReadOnly()||(e.onValueChange(this.listener),n.onValueChange(this.listener))},e.prototype.createJoinOperator=function(t,e,n){var i=this.createManagedBean(new ir);return t.push(i),i.addCssClass("ag-filter-condition-operator"),i.addCssClass("ag-filter-condition-operator-"+n),e.appendChild(i.getGui()),i},e.prototype.getDefaultJoinOperator=function(t){return"AND"===t||"OR"===t?t:"AND"},e.prototype.putOptionsIntoDropdown=function(t){var e=this,n=this.optionsFactory.getFilterOptions();n.forEach((function(n){var i="string"==typeof n?e.createBoilerplateListOption(n):e.createCustomListOption(n);t.addOption(i)})),t.setDisabled(n.length<=1)},e.prototype.createBoilerplateListOption=function(t){return{value:t,text:this.translate(t)}},e.prototype.createCustomListOption=function(t){var e=t.displayKey,n=this.optionsFactory.getCustomOption(t.displayKey);return{value:e,text:n?this.localeService.getLocaleTextFunc()(n.displayKey,n.displayName):this.translate(e)}},e.prototype.isAllowTwoConditions=function(){return this.maxNumConditions>=2},e.prototype.createBodyTemplate=function(){return""},e.prototype.getCssIdentifier=function(){return"simple-filter"},e.prototype.updateUiVisibility=function(){var t=this.getJoinOperator();this.updateNumConditions(),this.updateConditionStatusesAndValues(this.lastUiCompletePosition,t)},e.prototype.updateNumConditions=function(){for(var t,e=-1,n=!0,i=0;i<this.getNumConditions();i++)this.isConditionUiComplete(i)?e=i:n=!1;if(this.shouldAddNewConditionAtEnd(n))this.createJoinOperatorPanel(),this.createOption();else{var o=null!==(t=this.lastUiCompletePosition)&&void 0!==t?t:this.getNumConditions()-2;if(e<o){this.removeConditionsAndOperators(o+1);var r=e+1,s=o-r;s>0&&this.removeConditionsAndOperators(r,s),this.createMissingConditionsAndOperators()}}this.lastUiCompletePosition=e},e.prototype.updateConditionStatusesAndValues=function(t,e){var n=this;this.eTypes.forEach((function(e,i){var o=n.isConditionDisabled(i,t);(1===i?[e,n.eJoinOperatorPanels[0],n.eJoinOperatorsAnd[0],n.eJoinOperatorsOr[0]]:[e]).forEach((function(t){t instanceof Qo||t instanceof qo?t.setDisabled(o):si(t,o)}))})),this.eConditionBodies.forEach((function(t,e){oi(t,n.isConditionBodyVisible(e))}));var i="OR"===(null!=e?e:this.getJoinOperator());this.eJoinOperatorsAnd.forEach((function(t,e){t.setValue(!i,!0)})),this.eJoinOperatorsOr.forEach((function(t,e){t.setValue(i,!0)})),this.forEachInput((function(e,i,o,r){n.setElementDisplayed(e,i<r),n.setElementDisabled(e,n.isConditionDisabled(o,t))})),this.resetPlaceholder()},e.prototype.shouldAddNewConditionAtEnd=function(t){return t&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly()},e.prototype.removeConditionsAndOperators=function(t,e){if(!(t>=this.getNumConditions())){this.removeComponents(this.eTypes,t,e),this.removeElements(this.eConditionBodies,t,e),this.removeValueElements(t,e);var n=Math.max(t-1,0);this.removeElements(this.eJoinOperatorPanels,n,e),this.removeComponents(this.eJoinOperatorsAnd,n,e),this.removeComponents(this.eJoinOperatorsOr,n,e)}},e.prototype.removeElements=function(t,e,n){this.removeItems(t,e,n).forEach((function(t){return _i(t)}))},e.prototype.removeComponents=function(t,e,n){var i=this;this.removeItems(t,e,n).forEach((function(t){_i(t.getGui()),i.destroyBean(t)}))},e.prototype.removeItems=function(t,e,n){return null==n?t.splice(e):t.splice(e,n)},e.prototype.afterGuiAttached=function(e){if(t.prototype.afterGuiAttached.call(this,e),this.resetPlaceholder(),!e||!e.suppressFocus&&!this.isReadOnly()){var n=this.getInputs(0)[0];if(!n)return;n instanceof Qo&&n.getInputElement().focus()}},e.prototype.afterGuiDetached=function(){t.prototype.afterGuiDetached.call(this);var e=this.getModel();this.areModelsEqual(e,this.getModelFromUi())||this.resetUiToActiveModel(e);for(var n=-1,i=-1,o=!1,r=this.getJoinOperator(),s=this.getNumConditions()-1;s>=0;s--)if(this.isConditionUiComplete(s))-1===n&&(n=s,i=s);else{var a=s<n;(s>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(s-1)||a)&&(this.removeConditionsAndOperators(s,1),o=!0,a&&i--)}var l=!1;this.getNumConditions()<this.numAlwaysVisibleConditions&&(this.createMissingConditionsAndOperators(),l=!0),this.shouldAddNewConditionAtEnd(i===this.getNumConditions()-1)&&(this.createJoinOperatorPanel(),this.createOption(),l=!0),l&&this.updateConditionStatusesAndValues(i,r),o&&this.updateJoinOperatorsDisabled(),this.lastUiCompletePosition=i},e.prototype.getPlaceholderText=function(t,e){var n=this.translate(t);if(M(this.filterPlaceholder)){var i=this.filterPlaceholder,o=this.eTypes[e].getValue();n=i({filterOptionKey:o,filterOption:this.translate(o),placeholder:n})}else"string"==typeof this.filterPlaceholder&&(n=this.filterPlaceholder);return n},e.prototype.resetPlaceholder=function(){var t=this,e=this.localeService.getLocaleTextFunc();this.forEachInput((function(n,i,o,r){if(n instanceof Qo){var s=0===i&&r>1?"inRangeStart":0===i?"filterOoo":"inRangeEnd",a=0===i&&r>1?e("ariaFilterFromValue","Filter from value"):0===i?e("ariaFilterValue","Filter Value"):e("ariaFilterToValue","Filter to Value");n.setInputPlaceholder(t.getPlaceholderText(s,o)),n.setInputAriaLabel(a)}}))},e.prototype.setElementValue=function(t,e){t instanceof Qo&&t.setValue(null!=e?String(e):null,!0)},e.prototype.setElementDisplayed=function(t,e){t instanceof go&&oi(t.getGui(),e)},e.prototype.setElementDisabled=function(t,e){t instanceof go&&si(t.getGui(),e)},e.prototype.attachElementOnChange=function(t,e){t instanceof Qo&&t.onValueChange(e)},e.prototype.forEachInput=function(t){var e=this;this.getConditionTypes().forEach((function(n,i){e.forEachPositionTypeInput(i,n,t)}))},e.prototype.forEachPositionInput=function(t,e){var n=this.getConditionType(t);this.forEachPositionTypeInput(t,n,e)},e.prototype.forEachPositionTypeInput=function(t,e,n){for(var i=this.getNumberOfInputs(e),o=this.getInputs(t),r=0;r<o.length;r++){var s=o[r];null!=s&&n(s,r,t,i)}},e.prototype.isConditionDisabled=function(t,e){return!!this.isReadOnly()||0!==t&&t>e+1},e.prototype.isConditionBodyVisible=function(t){var e=this.getConditionType(t);return this.getNumberOfInputs(e)>0},e.prototype.isConditionUiComplete=function(t){return!(t>=this.getNumConditions())&&(this.getConditionType(t)!==e.EMPTY&&!this.getValues(t).some((function(t){return null==t})))},e.prototype.getNumConditions=function(){return this.eTypes.length},e.prototype.getUiCompleteConditions=function(){for(var t=[],e=0;e<this.getNumConditions();e++)this.isConditionUiComplete(e)&&t.push(this.createCondition(e));return t},e.prototype.createMissingConditionsAndOperators=function(){if(!this.isReadOnly())for(var t=this.getNumConditions();t<this.numAlwaysVisibleConditions;t++)this.createJoinOperatorPanel(),this.createOption()},e.prototype.resetUiToDefaults=function(t){var e=this;return this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions),this.eTypes.forEach((function(t){return e.resetType(t)})),this.eJoinOperatorsAnd.forEach((function(t,n){return e.resetJoinOperatorAnd(t,n,e.joinOperatorId+n)})),this.eJoinOperatorsOr.forEach((function(t,n){return e.resetJoinOperatorOr(t,n,e.joinOperatorId+n)})),this.joinOperatorId++,this.forEachInput((function(t){return e.resetInput(t)})),this.resetPlaceholder(),this.createMissingConditionsAndOperators(),this.lastUiCompletePosition=null,t||this.onUiChanged(),ro.resolve()},e.prototype.resetType=function(t){var e=this.localeService.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator");t.setValue(this.optionsFactory.getDefaultOption(),!0).setAriaLabel(e).setDisabled(this.isReadOnly())},e.prototype.resetJoinOperatorAnd=function(t,e,n){this.resetJoinOperator(t,e,this.isDefaultOperator("AND"),this.translate("andCondition"),n)},e.prototype.resetJoinOperatorOr=function(t,e,n){this.resetJoinOperator(t,e,this.isDefaultOperator("OR"),this.translate("orCondition"),n)},e.prototype.resetJoinOperator=function(t,e,n,i,o){this.updateJoinOperatorDisabled(t.setValue(n,!0).setName("ag-simple-filter-and-or-"+this.getCompId()+"-"+o).setLabel(i),e)},e.prototype.updateJoinOperatorsDisabled=function(){var t=this;this.eJoinOperatorsAnd.forEach((function(e,n){return t.updateJoinOperatorDisabled(e,n)})),this.eJoinOperatorsOr.forEach((function(e,n){return t.updateJoinOperatorDisabled(e,n)}))},e.prototype.updateJoinOperatorDisabled=function(t,e){t.setDisabled(this.isReadOnly()||e>0)},e.prototype.resetInput=function(t){this.setElementValue(t,null),this.setElementDisabled(t,this.isReadOnly())},e.prototype.setConditionIntoUi=function(t,e){var n=this,i=this.mapValuesFromModel(t);this.forEachInput((function(t,o,r,s){r===e&&n.setElementValue(t,null!=i[o]?i[o]:null)}))},e.prototype.setValueFromFloatingFilter=function(t){var e=this;this.forEachInput((function(n,i,o,r){e.setElementValue(n,0===i&&0===o?t:null)}))},e.prototype.isDefaultOperator=function(t){return t===this.defaultJoinOperator},e.prototype.addChangedListeners=function(t,e){var n=this;this.isReadOnly()||(t.onValueChange(this.listener),this.forEachPositionInput(e,(function(t){n.attachElementOnChange(t,n.listener)})))},e.prototype.individualConditionPasses=function(t,e){var n=this.getCellValue(t.node),i=this.mapValuesFromModel(e),o=this.optionsFactory.getCustomOption(e.type),r=this.evaluateCustomFilter(o,i,n);return null!=r?r:null==n?this.evaluateNullValue(e.type):this.evaluateNonNullValue(i,n,e,t)},e.prototype.evaluateCustomFilter=function(t,e,n){if(null!=t){var i=t.predicate;return null==i||e.some((function(t){return null==t}))?void 0:i(e,n)}},e.prototype.isBlank=function(t){return null==t||"string"==typeof t&&0===t.trim().length},e.EMPTY="empty",e.BLANK="blank",e.NOT_BLANK="notBlank",e.EQUALS="equals",e.NOT_EQUAL="notEqual",e.LESS_THAN="lessThan",e.LESS_THAN_OR_EQUAL="lessThanOrEqual",e.GREATER_THAN="greaterThan",e.GREATER_THAN_OR_EQUAL="greaterThanOrEqual",e.IN_RANGE="inRange",e.CONTAINS="contains",e.NOT_CONTAINS="notContains",e.STARTS_WITH="startsWith",e.ENDS_WITH="endsWith",e}(No),cr=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ur=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return cr(e,t),e.prototype.setParams=function(e){t.prototype.setParams.call(this,e),this.scalarFilterParams=e},e.prototype.evaluateNullValue=function(t){switch(t){case e.EQUALS:case e.NOT_EQUAL:if(this.scalarFilterParams.includeBlanksInEquals)return!0;break;case e.GREATER_THAN:case e.GREATER_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInGreaterThan)return!0;break;case e.LESS_THAN:case e.LESS_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInLessThan)return!0;break;case e.IN_RANGE:if(this.scalarFilterParams.includeBlanksInRange)return!0;break;case e.BLANK:return!0;case e.NOT_BLANK:return!1}return!1},e.prototype.evaluateNonNullValue=function(t,n,i){var o=this.comparator(),r=null!=t[0]?o(t[0],n):0;switch(i.type){case e.EQUALS:return 0===r;case e.NOT_EQUAL:return 0!==r;case e.GREATER_THAN:return r>0;case e.GREATER_THAN_OR_EQUAL:return r>=0;case e.LESS_THAN:return r<0;case e.LESS_THAN_OR_EQUAL:return r<=0;case e.IN_RANGE:var s=o(t[1],n);return this.scalarFilterParams.inRangeInclusive?r>=0&&s<=0:r>0&&s<0;case e.BLANK:return this.isBlank(n);case e.NOT_BLANK:return!this.isBlank(n);default:return console.warn('AG Grid: Unexpected type of filter "'+i.type+'", it looks like the filter was configured with incorrect Filter Options'),!0}},e}(lr),hr=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),dr=function(){return dr=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},dr.apply(this,arguments)},pr=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},fr=1/0,gr=function(t){function e(e,n,i){var o=t.call(this,n,i)||this;return o.dateFilterParams=e,o}return hr(e,t),e.prototype.conditionToString=function(t,e){var n=t.type,i=(e||{}).numberOfInputs,o=n==lr.IN_RANGE||2===i,r=qn(t.dateFrom),s=qn(t.dateTo),a=this.dateFilterParams.inRangeFloatingFilterDateFormat;return o?(null!==r?Xn(r,a):"null")+"-"+(null!==s?Xn(s,a):"null"):null!=r?Xn(r,a):""+n},e}(ar),mr=function(t){function e(){var e=t.call(this,"dateFilter")||this;return e.eConditionPanelsFrom=[],e.eConditionPanelsTo=[],e.dateConditionFromComps=[],e.dateConditionToComps=[],e.minValidYear=1e3,e.maxValidYear=fr,e}return hr(e,t),e.prototype.afterGuiAttached=function(e){t.prototype.afterGuiAttached.call(this,e),this.dateConditionFromComps[0].afterGuiAttached(e)},e.prototype.mapValuesFromModel=function(t){var e=t||{},n=e.dateFrom,i=e.dateTo,o=e.type;return[n&&qn(n)||null,i&&qn(i)||null].slice(0,this.getNumberOfInputs(o))},e.prototype.comparator=function(){return this.dateFilterParams.comparator?this.dateFilterParams.comparator:this.defaultComparator.bind(this)},e.prototype.defaultComparator=function(t,e){return null==e||e<t?-1:e>t?1:0},e.prototype.setParams=function(e){this.dateFilterParams=e,t.prototype.setParams.call(this,e);var n=function(t,n){if(null!=e[t]){if(!isNaN(e[t]))return null==e[t]?n:Number(e[t]);console.warn("AG Grid: DateFilter "+t+" is not a number")}return n};this.minValidYear=n("minValidYear",1e3),this.maxValidYear=n("maxValidYear",fr),this.minValidYear>this.maxValidYear&&console.warn("AG Grid: DateFilter minValidYear should be <= maxValidYear"),this.filterModelFormatter=new gr(this.dateFilterParams,this.localeService,this.optionsFactory)},e.prototype.createDateCompWrapper=function(t){var e=this,n=new bo(this.getContext(),this.userComponentFactory,{onDateChanged:function(){return e.onUiChanged()},filterParams:this.dateFilterParams},t);return this.addDestroyFunc((function(){return n.destroy()})),n},e.prototype.setElementValue=function(t,e){t.setDate(e)},e.prototype.setElementDisplayed=function(t,e){t.setDisplayed(e)},e.prototype.setElementDisabled=function(t,e){t.setDisabled(e)},e.prototype.getDefaultFilterOptions=function(){return e.DEFAULT_FILTER_OPTIONS},e.prototype.createValueElement=function(){var t=document.createElement("div");return t.classList.add("ag-filter-body"),this.createFromToElement(t,this.eConditionPanelsFrom,this.dateConditionFromComps,"from"),this.createFromToElement(t,this.eConditionPanelsTo,this.dateConditionToComps,"to"),t},e.prototype.createFromToElement=function(t,e,n,i){var o=document.createElement("div");o.classList.add("ag-filter-"+i),o.classList.add("ag-filter-date-"+i),e.push(o),t.appendChild(o),n.push(this.createDateCompWrapper(o))},e.prototype.removeValueElements=function(t,e){this.removeDateComps(this.dateConditionFromComps,t,e),this.removeDateComps(this.dateConditionToComps,t,e),this.removeItems(this.eConditionPanelsFrom,t,e),this.removeItems(this.eConditionPanelsTo,t,e)},e.prototype.removeDateComps=function(t,e,n){this.removeItems(t,e,n).forEach((function(t){return t.destroy()}))},e.prototype.isConditionUiComplete=function(e){var n=this;if(!t.prototype.isConditionUiComplete.call(this,e))return!1;var i=!0;return this.forEachInput((function(t,o,r,s){var a;r!==e||!i||o>=s||(i=i&&(null!=(a=t.getDate())&&a.getUTCFullYear()>=n.minValidYear&&a.getUTCFullYear()<=n.maxValidYear))})),i},e.prototype.areSimpleModelsEqual=function(t,e){return t.dateFrom===e.dateFrom&&t.dateTo===e.dateTo&&t.type===e.type},e.prototype.getFilterType=function(){return"date"},e.prototype.createCondition=function(t){var e=this.getConditionType(t),n={},i=this.getValues(t);return i.length>0&&(n.dateFrom=Kn(i[0])),i.length>1&&(n.dateTo=Kn(i[1])),dr({dateFrom:null,dateTo:null,filterType:this.getFilterType(),type:e},n)},e.prototype.resetPlaceholder=function(){var t=this.localeService.getLocaleTextFunc(),e=this.translate("dateFormatOoo"),n=t("ariaFilterValue","Filter Value");this.forEachInput((function(t){t.setInputPlaceholder(e),t.setInputAriaLabel(n)}))},e.prototype.getInputs=function(t){return t>=this.dateConditionFromComps.length?[null,null]:[this.dateConditionFromComps[t],this.dateConditionToComps[t]]},e.prototype.getValues=function(t){var e=[];return this.forEachPositionInput(t,(function(t,n,i,o){n<o&&e.push(t.getDate())})),e},e.prototype.getModelAsString=function(t){var e;return null!==(e=this.filterModelFormatter.getModelAsString(t))&&void 0!==e?e:""},e.DEFAULT_FILTER_OPTIONS=[ur.EQUALS,ur.GREATER_THAN,ur.LESS_THAN,ur.NOT_EQUAL,ur.IN_RANGE,ur.BLANK,ur.NOT_BLANK],pr([K("userComponentFactory")],e.prototype,"userComponentFactory",void 0),e}(ur),_r=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),yr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return _r(e,t),e.prototype.getDefaultDebounceMs=function(){return 0},e.prototype.destroy=function(){t.prototype.destroy.call(this)},e.prototype.isEventFromFloatingFilter=function(t){return t&&t.afterFloatingFilter},e.prototype.isEventFromDataChange=function(t){return null==t?void 0:t.afterDataChange},e.prototype.getLastType=function(){return this.lastType},e.prototype.isReadOnly=function(){return this.readOnly},e.prototype.setLastTypeFromModel=function(t){if(t){var e;if(t.operator)e=t.conditions[0];else e=t;this.lastType=e.type}else this.lastType=this.optionsFactory.getDefaultOption()},e.prototype.canWeEditAfterModelFromParentFilter=function(t){if(!t)return this.isTypeEditable(this.lastType);if(t.operator)return!1;var e=t;return this.isTypeEditable(e.type)},e.prototype.init=function(t){this.optionsFactory=new So,this.optionsFactory.init(t.filterParams,this.getDefaultFilterOptions()),this.lastType=this.optionsFactory.getDefaultOption(),this.readOnly=!!t.filterParams.readOnly;var e=this.isTypeEditable(this.lastType);this.setEditable(e)},e.prototype.doesFilterHaveSingleInput=function(t){var e=(this.optionsFactory.getCustomOption(t)||{}).numberOfInputs;return null==e||1==e},e.prototype.isTypeEditable=function(t){var e=[lr.IN_RANGE,lr.EMPTY,lr.BLANK,lr.NOT_BLANK];return!!t&&!this.isReadOnly()&&this.doesFilterHaveSingleInput(t)&&e.indexOf(t)<0},e}(go),vr=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Cr=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},br=function(t){function e(){return t.call(this,'\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eReadOnlyText"></ag-input-text-field>\n                <div ref="eDateWrapper" style="display: flex;"></div>\n            </div>')||this}return vr(e,t),e.prototype.getDefaultFilterOptions=function(){return mr.DEFAULT_FILTER_OPTIONS},e.prototype.init=function(e){t.prototype.init.call(this,e),this.params=e,this.filterParams=e.filterParams,this.createDateComponent();var n=this.localeService.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(n("ariaDateFilterInput","Date Filter Input")),this.filterModelFormatter=new gr(this.filterParams,this.localeService,this.optionsFactory)},e.prototype.setEditable=function(t){oi(this.eDateWrapper,t),oi(this.eReadOnlyText.getGui(),!t)},e.prototype.onParentModelChanged=function(e,n){if(!this.isEventFromFloatingFilter(n)&&!this.isEventFromDataChange(n)){t.prototype.setLastTypeFromModel.call(this,e);var i=!this.isReadOnly()&&this.canWeEditAfterModelFromParentFilter(e);if(this.setEditable(i),i){if(e){var o=e;this.dateComp.setDate(qn(o.dateFrom))}else this.dateComp.setDate(null);this.eReadOnlyText.setValue("")}else this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(e)),this.dateComp.setDate(null)}},e.prototype.onDateChanged=function(){var t=this,e=Kn(this.dateComp.getDate());this.params.parentFilterInstance((function(n){if(n){var i=qn(e);n.onFloatingFilterChanged(t.getLastType()||null,i)}}))},e.prototype.createDateComponent=function(){var t=this,e=No.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),n={onDateChanged:k(this.onDateChanged.bind(this),e),filterParams:this.params.column.getColDef().filterParams};this.dateComp=new bo(this.getContext(),this.userComponentFactory,n,this.eDateWrapper),this.addDestroyFunc((function(){return t.dateComp.destroy()}))},e.prototype.getFilterModelFormatter=function(){return this.filterModelFormatter},Cr([K("userComponentFactory")],e.prototype,"userComponentFactory",void 0),Cr([mo("eReadOnlyText")],e.prototype,"eReadOnlyText",void 0),Cr([mo("eDateWrapper")],e.prototype,"eDateWrapper",void 0),e}(yr),Er=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Sr=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},wr=function(t){function e(){return t.call(this,'\n            <div class="ag-filter-filter">\n                <ag-input-text-field class="ag-date-filter" ref="eDateInput"></ag-input-text-field>\n            </div>')||this}return Er(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this)},e.prototype.init=function(t){var e=this,n=this.gridOptionsService.getDocument(),i=this.eDateInput.getInputElement(),o=this.shouldUseBrowserDatePicker(t);o&&(i.type="date");var r=o&&Pn();this.addManagedListener(i,"mousedown",(function(){e.eDateInput.isDisabled()||r||i.focus()})),this.addManagedListener(i,"input",(function(i){i.target===n.activeElement&&(e.eDateInput.isDisabled()||t.onDateChanged())}));var s=t.filterParams||{},a=s.minValidYear,l=s.maxValidYear;a&&(i.min=a+"-01-01"),l&&(i.max=l+"-12-31")},e.prototype.getDate=function(){return qn(this.eDateInput.getValue())},e.prototype.setDate=function(t){this.eDateInput.setValue(Kn(t,!1))},e.prototype.setInputPlaceholder=function(t){this.eDateInput.setInputPlaceholder(t)},e.prototype.setDisabled=function(t){this.eDateInput.setDisabled(t)},e.prototype.afterGuiAttached=function(t){t&&t.suppressFocus||this.eDateInput.getInputElement().focus()},e.prototype.shouldUseBrowserDatePicker=function(t){return t.filterParams&&null!=t.filterParams.browserDatePicker?t.filterParams.browserDatePicker:Mn()||Dn()||Pn()&&Tn()>=14.1},Sr([mo("eDateInput")],e.prototype,"eDateInput",void 0),e}(go),Or=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),xr=function(t){function e(e,n,i){return void 0===n&&(n="ag-text-field"),void 0===i&&(i="text"),t.call(this,e,n,i)||this}return Or(e,t),e.prototype.postConstruct=function(){t.prototype.postConstruct.call(this),this.config.allowedCharPattern&&this.preventDisallowedCharacters()},e.prototype.setValue=function(e,n){var i=t.prototype.setValue.call(this,e,n);return this.eInput.value!==e&&(this.eInput.value=o(e)?e:""),i},e.prototype.preventDisallowedCharacters=function(){var t=new RegExp("["+this.config.allowedCharPattern+"]");this.addManagedListener(this.eInput,"keypress",(function(e){e.ctrlKey||e.metaKey||e.key&&!t.test(e.key)&&e.preventDefault()})),this.addManagedListener(this.eInput,"paste",(function(e){var n,i=null===(n=e.clipboardData)||void 0===n?void 0:n.getData("text");i&&i.split("").some((function(e){return!t.test(e)}))&&e.preventDefault()}))},e}(Qo),Pr=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Tr=function(t){function e(e){return t.call(this,e,"ag-number-field","number")||this}return Pr(e,t),e.prototype.postConstruct=function(){var e=this;t.prototype.postConstruct.call(this),this.addManagedListener(this.eInput,"blur",(function(){var t=parseFloat(e.eInput.value),n=isNaN(t)?"":e.normalizeValue(t.toString());e.value!==n&&e.setValue(n)})),this.addManagedListener(this.eInput,"wheel",this.onWheel.bind(this)),this.eInput.step="any"},e.prototype.onWheel=function(t){document.activeElement===this.eInput&&t.preventDefault()},e.prototype.normalizeValue=function(t){if(""===t)return"";this.precision&&(t=this.adjustPrecision(t));var e=parseFloat(t);return null!=this.min&&e<this.min?t=this.min.toString():null!=this.max&&e>this.max&&(t=this.max.toString()),t},e.prototype.adjustPrecision=function(t){if(this.precision){var e=parseFloat(t).toFixed(this.precision);t=parseFloat(e).toString()}return t},e.prototype.setMin=function(t){return this.min===t||(this.min=t,ki(this.eInput,"min",t)),this},e.prototype.setMax=function(t){return this.max===t||(this.max=t,ki(this.eInput,"max",t)),this},e.prototype.setPrecision=function(t){return this.precision=t,this},e.prototype.setStep=function(t){return this.step===t||(this.step=t,ki(this.eInput,"step",t)),this},e.prototype.setValue=function(e,n){if(null!=e&&(e=this.adjustPrecision(e))!=this.normalizeValue(e))return this;return t.prototype.setValue.call(this,e,n)},e}(xr),Mr=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Dr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Mr(e,t),e.prototype.conditionToString=function(t,e){var n=(e||{}).numberOfInputs;return t.type==lr.IN_RANGE||2===n?t.filter+"-"+t.filterTo:null!=t.filter?""+t.filter:""+t.type},e}(ar);function Rr(t){var e=(null!=t?t:{}).allowedCharPattern;return e||(Mn()?null:"\\d\\-\\.")}var Ar,Lr,Ir,kr=function(t){function e(){var e=t.call(this,"numberFilter")||this;return e.eValuesFrom=[],e.eValuesTo=[],e}return Mr(e,t),e.prototype.mapValuesFromModel=function(t){var e=t||{},n=e.filter,i=e.filterTo,o=e.type;return[this.processValue(n),this.processValue(i)].slice(0,this.getNumberOfInputs(o))},e.prototype.getDefaultDebounceMs=function(){return 500},e.prototype.comparator=function(){return function(t,e){return t===e?0:t<e?1:-1}},e.prototype.setParams=function(e){this.numberFilterParams=e,t.prototype.setParams.call(this,e),this.filterModelFormatter=new Dr(this.localeService,this.optionsFactory)},e.prototype.getDefaultFilterOptions=function(){return e.DEFAULT_FILTER_OPTIONS},e.prototype.createValueElement=function(){var t=Rr(this.numberFilterParams),e=document.createElement("div");return e.classList.add("ag-filter-body"),ze(e,"presentation"),this.createFromToElement(e,this.eValuesFrom,"from",t),this.createFromToElement(e,this.eValuesTo,"to",t),e},e.prototype.createFromToElement=function(t,e,n,i){var o=this.createManagedBean(i?new xr({allowedCharPattern:i}):new Tr);o.addCssClass("ag-filter-"+n),o.addCssClass("ag-filter-filter"),e.push(o),t.appendChild(o.getGui())},e.prototype.removeValueElements=function(t,e){this.removeComponents(this.eValuesFrom,t,e),this.removeComponents(this.eValuesTo,t,e)},e.prototype.getValues=function(t){var e=this,n=[];return this.forEachPositionInput(t,(function(t,i,o,r){i<r&&n.push(e.processValue(e.stringToFloat(t.getValue())))})),n},e.prototype.areSimpleModelsEqual=function(t,e){return t.filter===e.filter&&t.filterTo===e.filterTo&&t.type===e.type},e.prototype.getFilterType=function(){return"number"},e.prototype.processValue=function(t){return null==t||isNaN(t)?null:t},e.prototype.stringToFloat=function(t){if("number"==typeof t)return t;var e=i(t);return null!=e&&""===e.trim()&&(e=null),this.numberFilterParams.numberParser?this.numberFilterParams.numberParser(e):null==e||"-"===e.trim()?null:parseFloat(e)},e.prototype.createCondition=function(t){var e=this.getConditionType(t),n={filterType:this.getFilterType(),type:e},i=this.getValues(t);return i.length>0&&(n.filter=i[0]),i.length>1&&(n.filterTo=i[1]),n},e.prototype.getInputs=function(t){return t>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[t],this.eValuesTo[t]]},e.prototype.getModelAsString=function(t){var e;return null!==(e=this.filterModelFormatter.getModelAsString(t))&&void 0!==e?e:""},e.DEFAULT_FILTER_OPTIONS=[ur.EQUALS,ur.NOT_EQUAL,ur.LESS_THAN,ur.LESS_THAN_OR_EQUAL,ur.GREATER_THAN,ur.GREATER_THAN_OR_EQUAL,ur.IN_RANGE,ur.BLANK,ur.NOT_BLANK],e}(ur),Nr=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Fr=function(){return Fr=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Fr.apply(this,arguments)},Gr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Nr(e,t),e.prototype.conditionToString=function(t,e){var n=(e||{}).numberOfInputs;return t.type==lr.IN_RANGE||2===n?t.filter+"-"+t.filterTo:null!=t.filter?""+t.filter:""+t.type},e}(ar),Br=function(t){function e(){var e=t.call(this,"textFilter")||this;return e.eValuesFrom=[],e.eValuesTo=[],e}return Nr(e,t),e.trimInput=function(t){var e=t&&t.trim();return""===e?t:e},e.prototype.getDefaultDebounceMs=function(){return 500},e.prototype.setParams=function(n){this.textFilterParams=n,t.prototype.setParams.call(this,n),this.matcher=this.getTextMatcher(),this.formatter=this.textFilterParams.textFormatter||(this.textFilterParams.caseSensitive?e.DEFAULT_FORMATTER:e.DEFAULT_LOWERCASE_FORMATTER),this.filterModelFormatter=new Gr(this.localeService,this.optionsFactory)},e.prototype.getTextMatcher=function(){var t=this.textFilterParams.textCustomComparator;return t?(no.doOnce((function(){return console.warn("AG Grid - textCustomComparator is deprecated, use textMatcher instead.")}),"textCustomComparator.deprecated"),function(e){var n=e.filterOption,i=e.value,o=e.filterText;return t(n,i,o)}):this.textFilterParams.textMatcher||e.DEFAULT_MATCHER},e.prototype.createCondition=function(t){var e=this.getConditionType(t),n={filterType:this.getFilterType(),type:e},i=this.getValues(t);return i.length>0&&(n.filter=i[0]),i.length>1&&(n.filterTo=i[1]),n},e.prototype.getFilterType=function(){return"text"},e.prototype.areSimpleModelsEqual=function(t,e){return t.filter===e.filter&&t.filterTo===e.filterTo&&t.type===e.type},e.prototype.getInputs=function(t){return t>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[t],this.eValuesTo[t]]},e.prototype.getValues=function(t){var n=this,o=[];return this.forEachPositionInput(t,(function(t,r,s,a){if(r<a){var l=i(t.getValue()),c=(n.textFilterParams.trimInput?e.trimInput(l):l)||null;o.push(c),t.setValue(c,!0)}})),o},e.prototype.getDefaultFilterOptions=function(){return e.DEFAULT_FILTER_OPTIONS},e.prototype.createValueElement=function(){var t=document.createElement("div");return t.classList.add("ag-filter-body"),ze(t,"presentation"),this.createFromToElement(t,this.eValuesFrom,"from"),this.createFromToElement(t,this.eValuesTo,"to"),t},e.prototype.createFromToElement=function(t,e,n){var i=this.createManagedBean(new xr);i.addCssClass("ag-filter-"+n),i.addCssClass("ag-filter-filter"),e.push(i),t.appendChild(i.getGui())},e.prototype.removeValueElements=function(t,e){this.removeComponents(this.eValuesFrom,t,e),this.removeComponents(this.eValuesTo,t,e)},e.prototype.mapValuesFromModel=function(t){var e=t||{},n=e.filter,i=e.filterTo,o=e.type;return[n||null,i||null].slice(0,this.getNumberOfInputs(o))},e.prototype.evaluateNullValue=function(t){var e=[lr.NOT_EQUAL,lr.NOT_CONTAINS,lr.BLANK];return!!t&&e.indexOf(t)>=0},e.prototype.evaluateNonNullValue=function(t,e,n,i){var o=this,r=t.map((function(t){return o.formatter(t)}))||[],s=this.formatter(e),a=this.textFilterParams,l=a.api,c=a.colDef,u=a.column,h=a.columnApi,d=a.context,p=a.textFormatter;if(n.type===lr.BLANK)return this.isBlank(e);if(n.type===lr.NOT_BLANK)return!this.isBlank(e);var f={api:l,colDef:c,column:u,columnApi:h,context:d,node:i.node,data:i.data,filterOption:n.type,value:s,textFormatter:p};return r.some((function(t){return o.matcher(Fr(Fr({},f),{filterText:t}))}))},e.prototype.getModelAsString=function(t){var e;return null!==(e=this.filterModelFormatter.getModelAsString(t))&&void 0!==e?e:""},e.DEFAULT_FILTER_OPTIONS=[lr.CONTAINS,lr.NOT_CONTAINS,lr.EQUALS,lr.NOT_EQUAL,lr.STARTS_WITH,lr.ENDS_WITH,lr.BLANK,lr.NOT_BLANK],e.DEFAULT_FORMATTER=function(t){return t},e.DEFAULT_LOWERCASE_FORMATTER=function(t){return null==t?null:t.toString().toLowerCase()},e.DEFAULT_MATCHER=function(t){var n=t.filterOption,i=t.value,o=t.filterText;if(null==o)return!1;switch(n){case e.CONTAINS:return i.indexOf(o)>=0;case e.NOT_CONTAINS:return i.indexOf(o)<0;case e.EQUALS:return i===o;case e.NOT_EQUAL:return i!=o;case e.STARTS_WITH:return 0===i.indexOf(o);case e.ENDS_WITH:var r=i.lastIndexOf(o);return r>=0&&r===i.length-o.length;default:return!1}},e}(lr),jr=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ur=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},Vr=function(t){function e(e){var n=t.call(this)||this;return n.params=e,n}return jr(e,t),e.prototype.setupGui=function(t){this.eFloatingFilterTextInput=this.createManagedBean(new xr(this.params.config)),this.eFloatingFilterTextInput.setInputAriaLabel(this.params.ariaLabel),t.appendChild(this.eFloatingFilterTextInput.getGui())},e.prototype.setEditable=function(t){this.eFloatingFilterTextInput.setDisabled(!t)},e.prototype.getValue=function(){return this.eFloatingFilterTextInput.getValue()},e.prototype.setValue=function(t,e){this.eFloatingFilterTextInput.setValue(t,e)},e.prototype.addValueChangedListener=function(t){var e=this.eFloatingFilterTextInput.getGui();this.addManagedListener(e,"input",t),this.addManagedListener(e,"keypress",t),this.addManagedListener(e,"keydown",t)},e}(jt),Wr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return jr(e,t),e.prototype.postConstruct=function(){this.setTemplate('\n            <div class="ag-floating-filter-input" role="presentation" ref="eFloatingFilterInputContainer"></div>\n        ')},e.prototype.getDefaultDebounceMs=function(){return 500},e.prototype.onParentModelChanged=function(t,e){this.isEventFromFloatingFilter(e)||this.isEventFromDataChange(e)||(this.setLastTypeFromModel(t),this.setEditable(this.canWeEditAfterModelFromParentFilter(t)),this.floatingFilterInputService.setValue(this.getFilterModelFormatter().getModelAsString(t)))},e.prototype.init=function(e){this.params=e;var n=this.columnModel.getDisplayNameForColumn(e.column,"header",!0)+" "+this.localeService.getLocaleTextFunc()("ariaFilterInput","Filter Input");if(this.floatingFilterInputService=this.createFloatingFilterInputService(n),this.floatingFilterInputService.setupGui(this.eFloatingFilterInputContainer),t.prototype.init.call(this,e),this.applyActive=No.isUseApplyButton(this.params.filterParams),!this.isReadOnly()){var i=No.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),o=k(this.syncUpWithParentFilter.bind(this),i);this.floatingFilterInputService.addValueChangedListener(o)}},e.prototype.syncUpWithParentFilter=function(t){var e=this,n=t.key===Vi.ENTER;if(!this.applyActive||n){var i=this.floatingFilterInputService.getValue();this.params.filterParams.trimInput&&(i=Br.trimInput(i),this.floatingFilterInputService.setValue(i,!0)),this.params.parentFilterInstance((function(t){t&&t.onFloatingFilterChanged(e.getLastType()||null,i||null)}))}},e.prototype.setEditable=function(t){this.floatingFilterInputService.setEditable(t)},Ur([K("columnModel")],e.prototype,"columnModel",void 0),Ur([mo("eFloatingFilterInputContainer")],e.prototype,"eFloatingFilterInputContainer",void 0),Ur([H],e.prototype,"postConstruct",null),e}(yr),Hr=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),$r=function(t){function e(e){var n=t.call(this)||this;return n.params=e,n.numberInputActive=!0,n}return Hr(e,t),e.prototype.setupGui=function(t){this.eFloatingFilterNumberInput=this.createManagedBean(new Tr),this.eFloatingFilterTextInput=this.createManagedBean(new xr),this.eFloatingFilterTextInput.setDisabled(!0),this.eFloatingFilterNumberInput.setInputAriaLabel(this.params.ariaLabel),this.eFloatingFilterTextInput.setInputAriaLabel(this.params.ariaLabel),t.appendChild(this.eFloatingFilterNumberInput.getGui()),t.appendChild(this.eFloatingFilterTextInput.getGui())},e.prototype.setEditable=function(t){this.numberInputActive=t,this.eFloatingFilterNumberInput.setDisplayed(this.numberInputActive),this.eFloatingFilterTextInput.setDisplayed(!this.numberInputActive)},e.prototype.getValue=function(){return this.getActiveInputElement().getValue()},e.prototype.setValue=function(t,e){this.getActiveInputElement().setValue(t,e)},e.prototype.getActiveInputElement=function(){return this.numberInputActive?this.eFloatingFilterNumberInput:this.eFloatingFilterTextInput},e.prototype.addValueChangedListener=function(t){this.setupListeners(this.eFloatingFilterNumberInput.getGui(),t),this.setupListeners(this.eFloatingFilterTextInput.getGui(),t)},e.prototype.setupListeners=function(t,e){this.addManagedListener(t,"input",e),this.addManagedListener(t,"keypress",e),this.addManagedListener(t,"keydown",e)},e}(jt),zr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Hr(e,t),e.prototype.init=function(e){t.prototype.init.call(this,e),this.filterModelFormatter=new Dr(this.localeService,this.optionsFactory)},e.prototype.getDefaultFilterOptions=function(){return kr.DEFAULT_FILTER_OPTIONS},e.prototype.getFilterModelFormatter=function(){return this.filterModelFormatter},e.prototype.createFloatingFilterInputService=function(t){var e=Rr(this.params.filterParams);return e?this.createManagedBean(new Vr({config:{allowedCharPattern:e},ariaLabel:t})):this.createManagedBean(new $r({ariaLabel:t}))},e}(Wr),Kr=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Yr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Kr(e,t),e.prototype.init=function(e){t.prototype.init.call(this,e),this.filterModelFormatter=new Gr(this.localeService,this.optionsFactory)},e.prototype.getDefaultFilterOptions=function(){return Br.DEFAULT_FILTER_OPTIONS},e.prototype.getFilterModelFormatter=function(){return this.filterModelFormatter},e.prototype.createFloatingFilterInputService=function(t){return this.createManagedBean(new Vr({ariaLabel:t}))},e}(Wr),Xr=function(){function t(t,e){var n=this;void 0===e&&(e=!1),this.destroyFuncs=[],this.touching=!1,this.eventService=new et,this.eElement=t,this.preventMouseClick=e;var i=this.onTouchStart.bind(this),o=this.onTouchMove.bind(this),r=this.onTouchEnd.bind(this);this.eElement.addEventListener("touchstart",i,{passive:!0}),this.eElement.addEventListener("touchmove",o,{passive:!0}),this.eElement.addEventListener("touchend",r,{passive:!1}),this.destroyFuncs.push((function(){n.eElement.removeEventListener("touchstart",i,{passive:!0}),n.eElement.removeEventListener("touchmove",o,{passive:!0}),n.eElement.removeEventListener("touchend",r,{passive:!1})}))}return t.prototype.getActiveTouch=function(t){for(var e=0;e<t.length;e++){if(t[e].identifier===this.touchStart.identifier)return t[e]}return null},t.prototype.addEventListener=function(t,e){this.eventService.addEventListener(t,e)},t.prototype.removeEventListener=function(t,e){this.eventService.removeEventListener(t,e)},t.prototype.onTouchStart=function(e){var n=this;if(!this.touching){this.touchStart=e.touches[0],this.touching=!0,this.moved=!1;var i=this.touchStart;window.setTimeout((function(){var o=n.touchStart===i;if(n.touching&&o&&!n.moved){n.moved=!0;var r={type:t.EVENT_LONG_TAP,touchStart:n.touchStart,touchEvent:e};n.eventService.dispatchEvent(r)}}),500)}},t.prototype.onTouchMove=function(t){if(this.touching){var e=this.getActiveTouch(t.touches);if(e)!Xi(e,this.touchStart,4)&&(this.moved=!0)}},t.prototype.onTouchEnd=function(e){if(this.touching){if(!this.moved){var n={type:t.EVENT_TAP,touchStart:this.touchStart};this.eventService.dispatchEvent(n),this.checkForDoubleTap()}this.preventMouseClick&&e.cancelable&&e.preventDefault(),this.touching=!1}},t.prototype.checkForDoubleTap=function(){var e=(new Date).getTime();if(this.lastTapTime&&this.lastTapTime>0)if(e-this.lastTapTime>t.DOUBLE_TAP_MILLIS){var n={type:t.EVENT_DOUBLE_TAP,touchStart:this.touchStart};this.eventService.dispatchEvent(n),this.lastTapTime=null}else this.lastTapTime=e;else this.lastTapTime=e},t.prototype.destroy=function(){this.destroyFuncs.forEach((function(t){return t()}))},t.EVENT_TAP="tap",t.EVENT_DOUBLE_TAP="doubleTap",t.EVENT_LONG_TAP="longTap",t.DOUBLE_TAP_MILLIS=500,t}(),qr=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Zr=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},Jr=function(t){function e(n){var i=t.call(this)||this;return n||i.setTemplate(e.TEMPLATE),i}return qr(e,t),e.prototype.attachCustomElements=function(t,e,n,i,o){this.eSortOrder=t,this.eSortAsc=e,this.eSortDesc=n,this.eSortMixed=i,this.eSortNone=o},e.prototype.setupSort=function(t,e){var n=this;void 0===e&&(e=!1),this.column=t,this.suppressOrder=e,this.setupMultiSortIndicator(),!!this.column.getColDef().sortable&&(this.addInIcon("sortAscending",this.eSortAsc,t),this.addInIcon("sortDescending",this.eSortDesc,t),this.addInIcon("sortUnSort",this.eSortNone,t),this.addManagedListener(this.eventService,zt.EVENT_SORT_CHANGED,(function(){return n.onSortChanged()})),this.addManagedListener(this.eventService,zt.EVENT_COLUMN_ROW_GROUP_CHANGED,(function(){return n.onSortChanged()})),this.onSortChanged())},e.prototype.addInIcon=function(t,e,n){if(null!=e){var i=ji(t,this.gridOptionsService,n);i&&e.appendChild(i)}},e.prototype.onSortChanged=function(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()},e.prototype.updateIcons=function(){var t=this.sortController.getDisplaySortForColumn(this.column);if(this.eSortAsc){var e="asc"===t;oi(this.eSortAsc,e,{skipAriaHidden:!0})}if(this.eSortDesc){var n="desc"===t;oi(this.eSortDesc,n,{skipAriaHidden:!0})}if(this.eSortNone){var i=!this.column.getColDef().unSortIcon&&!this.gridOptionsService.is("unSortIcon"),o=null==t;oi(this.eSortNone,!i&&o,{skipAriaHidden:!0})}},e.prototype.setupMultiSortIndicator=function(){var t=this;this.addInIcon("sortUnSort",this.eSortMixed,this.column);var e=this.column.getColDef().showRowGroup;this.gridOptionsService.isColumnsSortingCoupledToGroup()&&e&&(this.addManagedListener(this.eventService,zt.EVENT_SORT_CHANGED,(function(){return t.updateMultiSortIndicator()})),this.addManagedListener(this.eventService,zt.EVENT_COLUMN_ROW_GROUP_CHANGED,(function(){return t.updateMultiSortIndicator()})),this.updateMultiSortIndicator())},e.prototype.updateMultiSortIndicator=function(){if(this.eSortMixed){var t="mixed"===this.sortController.getDisplaySortForColumn(this.column);oi(this.eSortMixed,t,{skipAriaHidden:!0})}},e.prototype.updateSortOrder=function(){var t,e=this;if(this.eSortOrder){var n=this.sortController.getColumnsWithSortingOrdered(),i=null!==(t=this.sortController.getDisplaySortIndexForColumn(this.column))&&void 0!==t?t:-1,o=n.some((function(t){var n;return null!==(n=e.sortController.getDisplaySortIndexForColumn(t))&&void 0!==n&&n})),r=i>=0&&o;oi(this.eSortOrder,r,{skipAriaHidden:!0}),i>=0?this.eSortOrder.innerHTML=(i+1).toString():mi(this.eSortOrder)}},e.TEMPLATE='<span class="ag-sort-indicator-container">\n            <span ref="eSortOrder" class="ag-sort-indicator-icon ag-sort-order ag-hidden" aria-hidden="true"></span>\n            <span ref="eSortAsc" class="ag-sort-indicator-icon ag-sort-ascending-icon ag-hidden" aria-hidden="true"></span>\n            <span ref="eSortDesc" class="ag-sort-indicator-icon ag-sort-descending-icon ag-hidden" aria-hidden="true"></span>\n            <span ref="eSortMixed" class="ag-sort-indicator-icon ag-sort-mixed-icon ag-hidden" aria-hidden="true"></span>\n            <span ref="eSortNone" class="ag-sort-indicator-icon ag-sort-none-icon ag-hidden" aria-hidden="true"></span>\n        </span>',Zr([mo("eSortOrder")],e.prototype,"eSortOrder",void 0),Zr([mo("eSortAsc")],e.prototype,"eSortAsc",void 0),Zr([mo("eSortDesc")],e.prototype,"eSortDesc",void 0),Zr([mo("eSortMixed")],e.prototype,"eSortMixed",void 0),Zr([mo("eSortNone")],e.prototype,"eSortNone",void 0),Zr([K("columnModel")],e.prototype,"columnModel",void 0),Zr([K("sortController")],e.prototype,"sortController",void 0),e}(go),Qr=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ts=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},es=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lastMovingChanged=0,e}return Qr(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this)},e.prototype.refresh=function(t){return this.params=t,this.workOutTemplate()==this.currentTemplate&&(this.workOutShowMenu()==this.currentShowMenu&&(this.workOutSort()==this.currentSort&&(this.setDisplayName(t),!0)))},e.prototype.workOutTemplate=function(){var t=pt(this.params.template,e.TEMPLATE);return t=t&&t.trim?t.trim():t},e.prototype.init=function(t){this.params=t,this.currentTemplate=this.workOutTemplate(),this.setTemplate(this.currentTemplate),this.setupTap(),this.setupIcons(t.column),this.setMenu(),this.setupSort(),this.setupFilterIcon(),this.setDisplayName(t)},e.prototype.setDisplayName=function(t){if(this.currentDisplayName!=t.displayName){this.currentDisplayName=t.displayName;var e=Ce(this.currentDisplayName);this.eText&&(this.eText.innerHTML=e)}},e.prototype.setupIcons=function(t){this.addInIcon("menu",this.eMenu,t),this.addInIcon("filter",this.eFilter,t)},e.prototype.addInIcon=function(t,e,n){if(null!=e){var i=ji(t,this.gridOptionsService,n);i&&e.appendChild(i)}},e.prototype.setupTap=function(){var t=this,e=this.gridOptionsService;if(!e.is("suppressTouch")){var n=new Xr(this.getGui(),!0),i=e.is("suppressMenuHide"),r=i&&o(this.eMenu),s=r?new Xr(this.eMenu,!0):n;if(this.params.enableMenu){var a=r?"EVENT_TAP":"EVENT_LONG_TAP";this.addManagedListener(s,Xr[a],(function(n){e.api.showColumnMenuAfterMouseClick(t.params.column,n.touchStart)}))}if(this.params.enableSorting){this.addManagedListener(n,Xr.EVENT_TAP,(function(e){var n=e.touchStart.target;i&&t.eMenu.contains(n)||t.sortController.progressSort(t.params.column,!1,"uiColumnSorted")}))}this.addDestroyFunc((function(){return n.destroy()})),r&&this.addDestroyFunc((function(){return s.destroy()}))}},e.prototype.workOutShowMenu=function(){var t=!this.gridOptionsService.is("suppressMenuHide"),e=An()&&t;return this.params.enableMenu&&!e},e.prototype.setMenu=function(){var t=this;if(this.eMenu)if(this.currentShowMenu=this.workOutShowMenu(),this.currentShowMenu){var e=this.gridOptionsService.is("suppressMenuHide");this.addManagedListener(this.eMenu,"click",(function(){return t.showMenu(t.eMenu)})),this.eMenu.classList.toggle("ag-header-menu-always-show",e)}else _i(this.eMenu)},e.prototype.showMenu=function(t){t||(t=this.eMenu),this.menuFactory.showMenuAfterButtonClick(this.params.column,t,"columnMenu")},e.prototype.workOutSort=function(){return this.params.enableSorting},e.prototype.setupSort=function(){var t=this;if(this.currentSort=this.params.enableSorting,this.eSortIndicator||(this.eSortIndicator=this.context.createBean(new Jr(!0)),this.eSortIndicator.attachCustomElements(this.eSortOrder,this.eSortAsc,this.eSortDesc,this.eSortMixed,this.eSortNone)),this.eSortIndicator.setupSort(this.params.column),this.currentSort){var e="ctrl"===this.gridOptionsService.get("multiSortKey");this.addManagedListener(this.params.column,ct.EVENT_MOVING_CHANGED,(function(){t.lastMovingChanged=(new Date).getTime()})),this.eLabel&&this.addManagedListener(this.eLabel,"click",(function(n){var i=t.params.column.isMoving(),o=(new Date).getTime()-t.lastMovingChanged<50;if(!(i||o)){var r=e?n.ctrlKey||n.metaKey:n.shiftKey;t.params.progressSort(r)}}));var n=function(){if(t.addOrRemoveCssClass("ag-header-cell-sorted-asc",t.params.column.isSortAscending()),t.addOrRemoveCssClass("ag-header-cell-sorted-desc",t.params.column.isSortDescending()),t.addOrRemoveCssClass("ag-header-cell-sorted-none",t.params.column.isSortNone()),t.params.column.getColDef().showRowGroup){var e=t.columnModel.getSourceColumnsForGroupColumn(t.params.column),n=!(null==e?void 0:e.every((function(e){return t.params.column.getSort()==e.getSort()})));t.addOrRemoveCssClass("ag-header-cell-sorted-mixed",n)}};this.addManagedListener(this.eventService,zt.EVENT_SORT_CHANGED,n),this.addManagedListener(this.eventService,zt.EVENT_COLUMN_ROW_GROUP_CHANGED,n)}},e.prototype.setupFilterIcon=function(){this.eFilter&&(this.addManagedListener(this.params.column,ct.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.onFilterChanged())},e.prototype.onFilterChanged=function(){var t=this.params.column.isFilterActive();oi(this.eFilter,t,{skipAriaHidden:!0})},e.TEMPLATE='<div class="ag-cell-label-container" role="presentation">\n            <span ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>\n            <div ref="eLabel" class="ag-header-cell-label" role="presentation">\n                <span ref="eText" class="ag-header-cell-text"></span>\n                <span ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>\n                <ag-sort-indicator ref="eSortIndicator"></ag-sort-indicator>\n            </div>\n        </div>',ts([K("sortController")],e.prototype,"sortController",void 0),ts([K("menuFactory")],e.prototype,"menuFactory",void 0),ts([K("columnModel")],e.prototype,"columnModel",void 0),ts([mo("eFilter")],e.prototype,"eFilter",void 0),ts([mo("eSortIndicator")],e.prototype,"eSortIndicator",void 0),ts([mo("eMenu")],e.prototype,"eMenu",void 0),ts([mo("eLabel")],e.prototype,"eLabel",void 0),ts([mo("eText")],e.prototype,"eText",void 0),ts([mo("eSortOrder")],e.prototype,"eSortOrder",void 0),ts([mo("eSortAsc")],e.prototype,"eSortAsc",void 0),ts([mo("eSortDesc")],e.prototype,"eSortDesc",void 0),ts([mo("eSortMixed")],e.prototype,"eSortMixed",void 0),ts([mo("eSortNone")],e.prototype,"eSortNone",void 0),e}(go),ns=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),is=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},os=function(t){function e(){return t.call(this,e.TEMPLATE)||this}return ns(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this)},e.prototype.init=function(t){this.params=t,this.checkWarnings(),this.setupLabel(),this.addGroupExpandIcon(),this.setupExpandIcons()},e.prototype.checkWarnings=function(){if(this.params.template){P((function(){return console.warn("AG Grid: A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)")}),"HeaderGroupComp.templateNotSupported")}},e.prototype.setupExpandIcons=function(){var t=this;this.addInIcon("columnGroupOpened","agOpened"),this.addInIcon("columnGroupClosed","agClosed");var e=function(e){if(!Mt(e)){var n=!t.params.columnGroup.isExpanded();t.columnModel.setColumnGroupOpened(t.params.columnGroup.getProvidedColumnGroup(),n,"uiColumnExpanded")}};this.addTouchAndClickListeners(this.eCloseIcon,e),this.addTouchAndClickListeners(this.eOpenIcon,e);var n=function(t){Tt(t)};this.addManagedListener(this.eCloseIcon,"dblclick",n),this.addManagedListener(this.eOpenIcon,"dblclick",n),this.addManagedListener(this.getGui(),"dblclick",e),this.updateIconVisibility();var i=this.params.columnGroup.getProvidedColumnGroup();this.addManagedListener(i,ht.EVENT_EXPANDED_CHANGED,this.updateIconVisibility.bind(this)),this.addManagedListener(i,ht.EVENT_EXPANDABLE_CHANGED,this.updateIconVisibility.bind(this))},e.prototype.addTouchAndClickListeners=function(t,e){var n=new Xr(t,!0);this.addManagedListener(n,Xr.EVENT_TAP,e),this.addDestroyFunc((function(){return n.destroy()})),this.addManagedListener(t,"click",e)},e.prototype.updateIconVisibility=function(){if(this.params.columnGroup.isExpandable()){var t=this.params.columnGroup.isExpanded();oi(this.eOpenIcon,t),oi(this.eCloseIcon,!t)}else oi(this.eOpenIcon,!1),oi(this.eCloseIcon,!1)},e.prototype.addInIcon=function(t,e){var n=ji(t,this.gridOptionsService,null);n&&this.getRefElement(e).appendChild(n)},e.prototype.addGroupExpandIcon=function(){if(!this.params.columnGroup.isExpandable())return oi(this.eOpenIcon,!1),void oi(this.eCloseIcon,!1)},e.prototype.setupLabel=function(){var t,e=this.params,n=e.displayName,i=e.columnGroup;if(o(n)){var r=Ce(n);this.getRefElement("agLabel").innerHTML=r}this.addOrRemoveCssClass("ag-sticky-label",!!(null===(t=i.getColGroupDef())||void 0===t?void 0:t.stickyLabel))},e.TEMPLATE='<div class="ag-header-group-cell-label" ref="agContainer" role="presentation">\n            <span ref="agLabel" class="ag-header-group-text" role="presentation"></span>\n            <span ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>\n            <span ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>\n        </div>',is([K("columnModel")],e.prototype,"columnModel",void 0),is([mo("agOpened")],e.prototype,"eOpenIcon",void 0),is([mo("agClosed")],e.prototype,"eCloseIcon",void 0),e}(go),rs=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ss=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return rs(e,t),e.prototype.isPopup=function(){return!0},e.prototype.setParentComponent=function(e){e.addCssClass("ag-has-popup"),t.prototype.setParentComponent.call(this,e)},e.prototype.destroy=function(){var e=this.parentComponent;e&&e.isAlive()&&e.getGui().classList.remove("ag-has-popup"),t.prototype.destroy.call(this)},e}(go),as=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ls=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},cs=function(t){function e(){return t.call(this,e.TEMPLATE)||this}return as(e,t),e.prototype.init=function(t){this.params=t,this.focusAfterAttached=t.cellStartedEdit,this.eTextArea.setMaxLength(t.maxLength||200).setCols(t.cols||60).setRows(t.rows||10),o(t.value,!0)&&this.eTextArea.setValue(t.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this))},e.prototype.onKeyDown=function(t){var e=t.key;(e===Vi.LEFT||e===Vi.UP||e===Vi.RIGHT||e===Vi.DOWN||t.shiftKey&&e===Vi.ENTER)&&t.stopPropagation()},e.prototype.afterGuiAttached=function(){var t=this.localeService.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(t("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()},e.prototype.getValue=function(){return this.params.parseValue(this.eTextArea.getValue())},e.TEMPLATE='<div class="ag-large-text" tabindex="0">\n            <ag-input-text-area ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>\n        </div>',ls([mo("eTextArea")],e.prototype,"eTextArea",void 0),e}(ss),us=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),hs=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},ds=function(t){function e(){var e=t.call(this,'<div class="ag-cell-edit-wrapper"><ag-select class="ag-cell-editor" ref="eSelect"></ag-select></div>')||this;return e.startedByEnter=!1,e}return us(e,t),e.prototype.init=function(t){var e=this;if(this.focusAfterAttached=t.cellStartedEdit,r(t.values))console.warn("AG Grid: no values found for select cellEditor");else{this.startedByEnter=null!=t.eventKey&&t.eventKey===Vi.ENTER;var n=!1;t.values.forEach((function(i){var o={value:i},r=e.valueFormatterService.formatValue(t.column,null,i),s=null!=r;o.text=s?r:i,e.eSelect.addOption(o),n=n||t.value===i})),n?this.eSelect.setValue(t.value,!0):t.values.length&&this.eSelect.setValue(t.values[0],!0),"fullRow"!==this.gridOptionsService.get("editType")&&this.addManagedListener(this.eSelect,qo.EVENT_ITEM_SELECTED,(function(){return t.stopEditing()}))}},e.prototype.afterGuiAttached=function(){this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&this.eSelect.showPicker()},e.prototype.focusIn=function(){this.eSelect.getFocusableElement().focus()},e.prototype.getValue=function(){return this.eSelect.getValue()},e.prototype.isPopup=function(){return!1},hs([K("valueFormatterService")],e.prototype,"valueFormatterService",void 0),hs([mo("eSelect")],e.prototype,"eSelect",void 0),e}(ss),ps=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),fs=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},gs=function(t){function e(){return t.call(this,e.TEMPLATE)||this}return ps(e,t),e.prototype.init=function(t){this.params=t;var e,n=this.eInput;t.cellStartedEdit?(this.focusAfterAttached=!0,t.eventKey===Vi.BACKSPACE||t.eventKey===Vi.DELETE?e="":t.charPress?e=t.charPress:(e=this.getStartValue(t),t.eventKey!==Vi.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,e=this.getStartValue(t)),null!=e&&n.setValue(e,!0),null!=t.maxLength&&n.setMaxLength(t.maxLength),this.addManagedListener(n.getGui(),"keydown",(function(t){var e=t.key;e!==Vi.PAGE_UP&&e!==Vi.PAGE_DOWN||t.preventDefault()}))},e.prototype.afterGuiAttached=function(){var t=this.localeService.getLocaleTextFunc(),e=this.eInput;if(e.setInputAriaLabel(t("ariaInputEditor","Input Editor")),this.focusAfterAttached){Pn()||e.getFocusableElement().focus();var n=e.getInputElement();if(this.highlightAllOnFocus)n.select();else{var i=e.getValue(),r=o(i)&&i.length||0;r&&n.setSelectionRange(r,r)}}},e.prototype.focusIn=function(){var t=this.eInput,e=t.getFocusableElement(),n=t.getInputElement();e.focus(),n.select()},e.prototype.getValue=function(){var t=this.eInput;return this.params.parseValue(t.getValue())},e.prototype.getStartValue=function(t){return t.useFormatter||t.column.getColDef().refData?t.formatValue(t.value):t.value},e.prototype.isPopup=function(){return!1},e.TEMPLATE='<div class="ag-cell-edit-wrapper">\n            <ag-input-text-field class="ag-cell-editor" ref="eInput"></ag-input-text-field>\n        </div>',fs([mo("eInput")],e.prototype,"eInput",void 0),e}(ss),ms=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),_s=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},ys=function(t){function e(){var n=t.call(this,e.TEMPLATE)||this;return n.refreshCount=0,n}return ms(e,t),e.prototype.init=function(t){this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(t)},e.prototype.showDelta=function(t,e){var n=Math.abs(e),i=t.formatValue(n),r=o(i)?i:n,s=e>=0;this.eDelta.innerHTML=s?""+r:""+r,this.eDelta.classList.toggle("ag-value-change-delta-up",s),this.eDelta.classList.toggle("ag-value-change-delta-down",!s)},e.prototype.setTimerToRemoveDelta=function(){var t=this;this.refreshCount++;var e=this.refreshCount;window.setTimeout((function(){e===t.refreshCount&&t.hideDeltaValue()}),2e3)},e.prototype.hideDeltaValue=function(){this.eValue.classList.remove("ag-value-change-value-highlight"),mi(this.eDelta)},e.prototype.refresh=function(t){var e=t.value;if(e===this.lastValue)return!1;if(o(t.valueFormatted)?this.eValue.innerHTML=t.valueFormatted:o(t.value)?this.eValue.innerHTML=e:mi(this.eValue),this.filterManager.isSuppressFlashingCellsBecauseFiltering())return!1;if("number"==typeof e&&"number"==typeof this.lastValue){var n=e-this.lastValue;this.showDelta(t,n)}return this.lastValue&&this.eValue.classList.add("ag-value-change-value-highlight"),this.setTimerToRemoveDelta(),this.lastValue=e,!0},e.TEMPLATE='<span><span class="ag-value-change-delta"></span><span class="ag-value-change-value"></span></span>',_s([K("filterManager")],e.prototype,"filterManager",void 0),e}(go),vs=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Cs=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},bs=function(t){function e(){var n=t.call(this,e.TEMPLATE)||this;return n.refreshCount=0,n.eCurrent=n.queryForHtmlElement(".ag-value-slide-current"),n}return vs(e,t),e.prototype.init=function(t){this.refresh(t)},e.prototype.addSlideAnimation=function(){var t=this;this.refreshCount++;var e=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious),this.ePrevious=vi('<span class="ag-value-slide-previous ag-value-slide-out"></span>'),this.ePrevious.innerHTML=this.eCurrent.innerHTML,this.getGui().insertBefore(this.ePrevious,this.eCurrent),window.setTimeout((function(){e===t.refreshCount&&t.ePrevious.classList.add("ag-value-slide-out-end")}),50),window.setTimeout((function(){e===t.refreshCount&&(t.getGui().removeChild(t.ePrevious),t.ePrevious=null)}),3e3)},e.prototype.refresh=function(t){var e=t.value;return r(e)&&(e=""),e!==this.lastValue&&(!this.filterManager.isSuppressFlashingCellsBecauseFiltering()&&(this.addSlideAnimation(),this.lastValue=e,o(t.valueFormatted)?this.eCurrent.innerHTML=t.valueFormatted:o(t.value)?this.eCurrent.innerHTML=e:mi(this.eCurrent),!0))},e.TEMPLATE='<span>\n            <span class="ag-value-slide-current"></span>\n        </span>',Cs([K("filterManager")],e.prototype,"filterManager",void 0),e}(go),Es=function(){return Es=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Es.apply(this,arguments)},Ss=function(){function t(e){this.rowIndex=null,this.key=null,this.childrenMapped={},this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=t.OBJECT_ID_SEQUENCE++,this.__autoHeights={},this.alreadyRendered=!1,this.highlighted=null,this.hovered=!1,this.selected=!1,this.beans=e}return t.prototype.setData=function(t){this.setDataCommon(t,!1)},t.prototype.updateData=function(t){this.setDataCommon(t,!0)},t.prototype.setDataCommon=function(t,e){var n=this.data;this.data=t,this.beans.valueCache.onDataChanged(),this.updateDataOnDetailNode(),this.checkRowSelectable(),this.resetQuickFilterAggregateText();var i=this.createDataChangedEvent(t,n,e);this.dispatchLocalEvent(i)},t.prototype.updateDataOnDetailNode=function(){this.detailNode&&(this.detailNode.data=this.data)},t.prototype.createDataChangedEvent=function(e,n,i){return{type:t.EVENT_DATA_CHANGED,node:this,oldData:n,newData:e,update:i}},t.prototype.createLocalRowEvent=function(t){return{type:t,node:this}},t.prototype.getRowIndexString=function(){return"top"===this.rowPinned?"t-"+this.rowIndex:"bottom"===this.rowPinned?"b-"+this.rowIndex:this.rowIndex.toString()},t.prototype.createDaemonNode=function(){var e=new t(this.beans);return e.id=this.id,e.data=this.data,e.__daemon=!0,e.selected=this.selected,e.level=this.level,e},t.prototype.setDataAndId=function(t,e){var n=o(this.id)?this.createDaemonNode():null,i=this.data;this.data=t,this.updateDataOnDetailNode(),this.setId(e),this.beans.selectionService.syncInRowNode(this,n),this.checkRowSelectable();var r=this.createDataChangedEvent(t,i,!1);this.dispatchLocalEvent(r)},t.prototype.checkRowSelectable=function(){var t=this.beans.gridOptionsService.get("isRowSelectable");this.setRowSelectable(!t||t(this))},t.prototype.setRowSelectable=function(e){if(this.selectable!==e&&(this.selectable=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_SELECTABLE_CHANGED)),this.beans.gridOptionsService.is("groupSelectsChildren"))){var n=this.calculateSelectedFromChildren();this.setSelectedParams({newValue:null!=n&&n,source:"selectableChanged"})}},t.prototype.setId=function(e){var n=this.beans.gridOptionsService.getRowIdFunc();if(n)if(this.data){var i=this.getGroupKeys(!0);this.id=n({data:this.data,parentKeys:i.length>0?i:void 0,level:this.level}),null!==this.id&&"string"==typeof this.id&&this.id.startsWith(t.ID_PREFIX_ROW_GROUP)&&console.error("AG Grid: Row IDs cannot start with "+t.ID_PREFIX_ROW_GROUP+", this is a reserved prefix for AG Grid's row grouping feature."),null!==this.id&&"string"!=typeof this.id&&(this.id=""+this.id)}else this.id=void 0;else this.id=e},t.prototype.getGroupKeys=function(t){void 0===t&&(t=!1);var e=[],n=this;for(t&&(n=n.parent);n&&n.level>=0;)e.push(n.key),n=n.parent;return e.reverse(),e},t.prototype.isPixelInRange=function(t){return!(!o(this.rowTop)||!o(this.rowHeight))&&(t>=this.rowTop&&t<this.rowTop+this.rowHeight)},t.prototype.setFirstChild=function(e){this.firstChild!==e&&(this.firstChild=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_FIRST_CHILD_CHANGED)))},t.prototype.setLastChild=function(e){this.lastChild!==e&&(this.lastChild=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_LAST_CHILD_CHANGED)))},t.prototype.setChildIndex=function(e){this.childIndex!==e&&(this.childIndex=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_CHILD_INDEX_CHANGED)))},t.prototype.setRowTop=function(e){this.oldRowTop=this.rowTop,this.rowTop!==e&&(this.rowTop=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_TOP_CHANGED)),this.setDisplayed(null!==e))},t.prototype.clearRowTopAndRowIndex=function(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)},t.prototype.setDisplayed=function(e){this.displayed!==e&&(this.displayed=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_DISPLAYED_CHANGED)))},t.prototype.setDragging=function(e){this.dragging!==e&&(this.dragging=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_DRAGGING_CHANGED)))},t.prototype.setHighlighted=function(e){e!==this.highlighted&&(this.highlighted=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_HIGHLIGHT_CHANGED)))},t.prototype.setHovered=function(t){this.hovered!==t&&(this.hovered=t)},t.prototype.isHovered=function(){return this.hovered},t.prototype.setAllChildrenCount=function(e){this.allChildrenCount!==e&&(this.allChildrenCount=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_ALL_CHILDREN_COUNT_CHANGED)))},t.prototype.setMaster=function(e){this.master!==e&&(this.master&&!e&&(this.expanded=!1),this.master=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_MASTER_CHANGED)))},t.prototype.setGroup=function(e){this.group!==e&&(this.group&&!e&&(this.expanded=!1),this.group=e,this.updateHasChildren(),this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_GROUP_CHANGED)))},t.prototype.setRowHeight=function(e,n){void 0===n&&(n=!1),this.rowHeight=e,this.rowHeightEstimated=n,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_HEIGHT_CHANGED))},t.prototype.setRowAutoHeight=function(t,e){this.__autoHeights||(this.__autoHeights={}),this.__autoHeights[e.getId()]=t,null!=t&&(null==this.checkAutoHeightsDebounced&&(this.checkAutoHeightsDebounced=k(this.checkAutoHeights.bind(this),1)),this.checkAutoHeightsDebounced())},t.prototype.checkAutoHeights=function(){var t=this,e=!1,n=!0,i=0,o=this.__autoHeights;if(null!=o&&(this.beans.columnModel.getAllDisplayedAutoHeightCols().forEach((function(r){var s=o[r.getId()];if(null==s){if(!t.beans.columnModel.isColSpanActive())return void(e=!0);var a=[];switch(r.getPinned()){case"left":a=t.beans.columnModel.getDisplayedLeftColumnsForRow(t);break;case"right":a=t.beans.columnModel.getDisplayedRightColumnsForRow(t);break;case null:a=t.beans.columnModel.getViewportCenterColumnsForRow(t)}if(a.includes(r))return void(e=!0);s=-1}else n=!1;s>i&&(i=s)})),!e&&((n||i<10)&&(i=this.beans.gridOptionsService.getRowHeightForNode(this).height),i!=this.rowHeight))){this.setRowHeight(i);var r=this.beans.rowModel;r.onRowHeightChangedDebounced&&r.onRowHeightChangedDebounced()}},t.prototype.setRowIndex=function(e){this.rowIndex!==e&&(this.rowIndex=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_ROW_INDEX_CHANGED)))},t.prototype.setUiLevel=function(e){this.uiLevel!==e&&(this.uiLevel=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_UI_LEVEL_CHANGED)))},t.prototype.setExpanded=function(e,n){if(this.expanded!==e){this.expanded=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_EXPANDED_CHANGED));var i=Object.assign({},this.createGlobalRowEvent(zt.EVENT_ROW_GROUP_OPENED),{expanded:e,event:n||null});this.beans.rowNodeEventThrottle.dispatchExpanded(i),this.beans.gridOptionsService.is("groupIncludeFooter")&&this.beans.rowRenderer.refreshCells({rowNodes:[this]})}},t.prototype.createGlobalRowEvent=function(t){return{type:t,node:this,data:this.data,rowIndex:this.rowIndex,rowPinned:this.rowPinned,context:this.beans.gridOptionsService.context,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi}},t.prototype.dispatchLocalEvent=function(t){this.eventService&&this.eventService.dispatchEvent(t)},t.prototype.setDataValue=function(t,e,n){var i,o=this,r="string"!=typeof t?t:null!==(i=o.beans.columnModel.getGridColumn(t))&&void 0!==i?i:o.beans.columnModel.getPrimaryColumn(t),s=this.getValueFromValueService(r);if(this.beans.gridOptionsService.is("readOnlyEdit"))return this.dispatchEventForSaveValueReadOnly(r,s,e,n),!1;var a=this.beans.valueService.setValue(this,r,e,n);return this.dispatchCellChangedEvent(r,e,s),this.checkRowSelectable(),a},t.prototype.getValueFromValueService=function(t){var e=this.leafGroup&&this.beans.columnModel.isPivotMode(),n=this.group&&this.expanded&&!this.footer&&!e,i=this.beans.gridOptionsService.is("groupIncludeFooter"),o=this.beans.gridOptionsService.is("groupSuppressBlankHeader"),r=n&&i&&!o;return this.beans.valueService.getValue(t,this,!1,r)},t.prototype.dispatchEventForSaveValueReadOnly=function(t,e,n,i){var o={type:zt.EVENT_CELL_EDIT_REQUEST,event:null,rowIndex:this.rowIndex,rowPinned:this.rowPinned,column:t,colDef:t.getColDef(),context:this.beans.gridOptionsService.context,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,data:this.data,node:this,oldValue:e,newValue:n,value:n,source:i};this.beans.eventService.dispatchEvent(o)},t.prototype.setGroupValue=function(t,e){var n=this.beans.columnModel.getGridColumn(t);r(this.groupData)&&(this.groupData={});var i=n.getColId(),o=this.groupData[i];o!==e&&(this.groupData[i]=e,this.dispatchCellChangedEvent(n,e,o))},t.prototype.setAggData=function(t){var e=this,n=v([this.aggData,t]),i=this.aggData;this.aggData=t,this.eventService&&n.forEach((function(t){var n=e.beans.columnModel.getGridColumn(t),o=e.aggData?e.aggData[t]:void 0,r=i?i[t]:void 0;e.dispatchCellChangedEvent(n,o,r)}))},t.prototype.updateHasChildren=function(){var e=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;if(this.beans.gridOptionsService.isRowModelType("serverSide")){var n=this.beans.gridOptionsService.isTreeData(),i=this.beans.gridOptionsService.get("isServerSideGroup");e=!this.stub&&!this.footer&&(n?!!i&&i(this.data):!!this.group)}e!==this.__hasChildren&&(this.__hasChildren=!!e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(t.EVENT_HAS_CHILDREN_CHANGED)))},t.prototype.hasChildren=function(){return null==this.__hasChildren&&this.updateHasChildren(),this.__hasChildren},t.prototype.isEmptyRowGroupNode=function(){return this.group&&s(this.childrenAfterGroup)},t.prototype.dispatchCellChangedEvent=function(e,n,i){var o={type:t.EVENT_CELL_CHANGED,node:this,column:e,newValue:n,oldValue:i};this.dispatchLocalEvent(o)},t.prototype.resetQuickFilterAggregateText=function(){this.quickFilterAggregateText=null},t.prototype.isExpandable=function(){return!!(this.hasChildren()&&!this.footer||this.master)},t.prototype.isSelected=function(){return this.footer?this.sibling.isSelected():this.selected},t.prototype.depthFirstSearch=function(t){this.childrenAfterGroup&&this.childrenAfterGroup.forEach((function(e){return e.depthFirstSearch(t)})),t(this)},t.prototype.calculateSelectedFromChildren=function(){var t,e=!1,n=!1,i=!1;if(!(null===(t=this.childrenAfterGroup)||void 0===t?void 0:t.length))return this.selectable?this.selected:null;for(var o=0;o<this.childrenAfterGroup.length;o++){var r=this.childrenAfterGroup[o],s=r.isSelected();if(!r.selectable){var a=r.calculateSelectedFromChildren();if(null===a)continue;s=a}switch(s){case!0:e=!0;break;case!1:n=!0;break;default:i=!0}}return i||e&&n?void 0:!!e||!n&&(this.selectable?this.selected:null)},t.prototype.setSelectedInitialValue=function(t){this.selected=t},t.prototype.selectThisNode=function(e,n,i){void 0===i&&(i="api");var o=!this.selectable&&e,r=this.selected===e;if(o||r)return!1;this.selected=e,this.eventService&&this.dispatchLocalEvent(this.createLocalRowEvent(t.EVENT_ROW_SELECTED));var s=Es(Es({},this.createGlobalRowEvent(zt.EVENT_ROW_SELECTED)),{event:n||null,source:i});return this.beans.eventService.dispatchEvent(s),!0},t.prototype.setSelected=function(t,e,n,i){void 0===e&&(e=!1),void 0===n&&(n=!1),void 0===i&&(i="api"),this.setSelectedParams({newValue:t,clearSelection:e,suppressFinishActions:n,rangeSelect:!1,source:i})},t.prototype.setSelectedParams=function(t){return this.rowPinned?(console.warn("AG Grid: cannot select pinned rows"),0):void 0===this.id?(console.warn("AG Grid: cannot select node until id for node is known"),0):this.beans.selectionService.setNodeSelected(Es(Es({},t),{node:this.footer?this.sibling:this}))},t.prototype.isRowPinned=function(){return"top"===this.rowPinned||"bottom"===this.rowPinned},t.prototype.isParentOfNode=function(t){for(var e=this.parent;e;){if(e===t)return!0;e=e.parent}return!1},t.prototype.addEventListener=function(t,e){this.eventService||(this.eventService=new et),this.eventService.addEventListener(t,e)},t.prototype.removeEventListener=function(t,e){this.eventService&&(this.eventService.removeEventListener(t,e),this.eventService.noRegisteredListenersExist()&&(this.eventService=null))},t.prototype.onMouseEnter=function(){this.dispatchLocalEvent(this.createLocalRowEvent(t.EVENT_MOUSE_ENTER))},t.prototype.onMouseLeave=function(){this.dispatchLocalEvent(this.createLocalRowEvent(t.EVENT_MOUSE_LEAVE))},t.prototype.getFirstChildOfFirstChild=function(t){for(var e=this,n=!0,i=!1,r=null;n&&!i;){var s=e.parent;o(s)&&e.firstChild?s.rowGroupColumn===t&&(i=!0,r=s):n=!1,e=s}return i?r:null},t.prototype.isFullWidthCell=function(){var t=this.getIsFullWidthCellFunc();return!!t&&t({rowNode:this})},t.prototype.getIsFullWidthCellFunc=function(){var t=this.beans.gridOptionsService.getCallback("isFullWidthRow");if(t)return t;var e=this.beans.gridOptionsService.get("isFullWidthCell");return e?function(t){return e(t.rowNode)}:void 0},t.prototype.getRoute=function(){if(null!=this.key){for(var t=[],e=this;null!=e.key;)t.push(e.key),e=e.parent;return t.reverse()}},t.prototype.createFooter=function(){var e=this;if(!this.sibling){var n=new t(this.beans);Object.keys(this).forEach((function(t){n[t]=e[t]})),n.footer=!0,n.setRowTop(null),n.setRowIndex(null),n.oldRowTop=null,n.id="rowGroupFooter_"+this.id,n.sibling=this,this.sibling=n}},t.ID_PREFIX_ROW_GROUP="row-group-",t.ID_PREFIX_TOP_PINNED="t-",t.ID_PREFIX_BOTTOM_PINNED="b-",t.OBJECT_ID_SEQUENCE=0,t.EVENT_ROW_SELECTED="rowSelected",t.EVENT_DATA_CHANGED="dataChanged",t.EVENT_CELL_CHANGED="cellChanged",t.EVENT_ALL_CHILDREN_COUNT_CHANGED="allChildrenCountChanged",t.EVENT_MASTER_CHANGED="masterChanged",t.EVENT_GROUP_CHANGED="groupChanged",t.EVENT_MOUSE_ENTER="mouseEnter",t.EVENT_MOUSE_LEAVE="mouseLeave",t.EVENT_HEIGHT_CHANGED="heightChanged",t.EVENT_TOP_CHANGED="topChanged",t.EVENT_DISPLAYED_CHANGED="displayedChanged",t.EVENT_FIRST_CHILD_CHANGED="firstChildChanged",t.EVENT_LAST_CHILD_CHANGED="lastChildChanged",t.EVENT_CHILD_INDEX_CHANGED="childIndexChanged",t.EVENT_ROW_INDEX_CHANGED="rowIndexChanged",t.EVENT_EXPANDED_CHANGED="expandedChanged",t.EVENT_HAS_CHILDREN_CHANGED="hasChildrenChanged",t.EVENT_SELECTABLE_CHANGED="selectableChanged",t.EVENT_UI_LEVEL_CHANGED="uiLevelChanged",t.EVENT_HIGHLIGHT_CHANGED="rowHighlightChanged",t.EVENT_DRAGGING_CHANGED="draggingChanged",t}(),ws=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Os=function(){return Os=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Os.apply(this,arguments)},xs=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},Ps=function(t){function e(){return t.call(this,'\n            <div class="ag-selection-checkbox" role="presentation">\n                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>\n            </div>')||this}return ws(e,t),e.prototype.postConstruct=function(){this.eCheckbox.setPassive(!0)},e.prototype.getCheckboxId=function(){return this.eCheckbox.getInputElement().id},e.prototype.onDataChanged=function(){this.onSelectionChanged()},e.prototype.onSelectableChanged=function(){this.showOrHideSelect()},e.prototype.onSelectionChanged=function(){var t=this.localeService.getLocaleTextFunc(),e=this.rowNode.isSelected(),n=void 0===e?t("ariaIndeterminate","indeterminate"):!0===e?t("ariaChecked","checked"):t("ariaUnchecked","unchecked"),i=t("ariaRowToggleSelection","Press Space to toggle row selection");this.eCheckbox.setValue(e,!0),this.eCheckbox.setInputAriaLabel(i+" ("+n+")")},e.prototype.onCheckedClicked=function(t){var e=this.gridOptionsService.is("groupSelectsFiltered");return this.rowNode.setSelectedParams({newValue:!1,rangeSelect:t.shiftKey,groupSelectsFiltered:e,event:t,source:"checkboxSelected"})},e.prototype.onUncheckedClicked=function(t){var e=this.gridOptionsService.is("groupSelectsFiltered");return this.rowNode.setSelectedParams({newValue:!0,rangeSelect:t.shiftKey,groupSelectsFiltered:e,event:t,source:"checkboxSelected"})},e.prototype.init=function(t){var e=this;if(this.rowNode=t.rowNode,this.column=t.column,this.overrides=t.overrides,this.onSelectionChanged(),this.addManagedListener(this.eCheckbox.getInputElement(),"dblclick",(function(t){Tt(t)})),this.addManagedListener(this.eCheckbox.getInputElement(),"click",(function(t){Tt(t),e.eCheckbox.getValue()?e.onCheckedClicked(t):e.onUncheckedClicked(t||{})})),this.addManagedListener(this.rowNode,Ss.EVENT_ROW_SELECTED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.rowNode,Ss.EVENT_DATA_CHANGED,this.onDataChanged.bind(this)),this.addManagedListener(this.rowNode,Ss.EVENT_SELECTABLE_CHANGED,this.onSelectableChanged.bind(this)),this.gridOptionsService.get("isRowSelectable")||"function"==typeof this.getIsVisible()){var n=this.showOrHideSelect.bind(this);this.addManagedListener(this.eventService,zt.EVENT_DISPLAYED_COLUMNS_CHANGED,n),this.addManagedListener(this.rowNode,Ss.EVENT_DATA_CHANGED,n),this.addManagedListener(this.rowNode,Ss.EVENT_CELL_CHANGED,n),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")},e.prototype.showOrHideSelect=function(){var t,e,n,i,o=this.rowNode.selectable,r=this.getIsVisible();if(o)if("function"==typeof r){var s=null===(t=this.overrides)||void 0===t?void 0:t.callbackParams,a=null===(e=this.column)||void 0===e?void 0:e.createColumnFunctionCallbackParams(this.rowNode);o=!!a&&r(Os(Os({},s),a))}else o=null!=r&&r;if(null===(n=this.column)||void 0===n?void 0:n.getColDef().showDisabledCheckboxes)return this.eCheckbox.setDisabled(!o),this.setVisible(!0),void this.setDisplayed(!0);(null===(i=this.overrides)||void 0===i?void 0:i.removeHidden)?this.setDisplayed(o):this.setVisible(o)},e.prototype.getIsVisible=function(){var t,e;return this.overrides?this.overrides.isVisible:null===(e=null===(t=this.column)||void 0===t?void 0:t.getColDef())||void 0===e?void 0:e.checkboxSelection},xs([mo("eCheckbox")],e.prototype,"eCheckbox",void 0),xs([H],e.prototype,"postConstruct",null),e}(go),Ts=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ms=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},Ds=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};!function(t){t[t.ToolPanel=0]="ToolPanel",t[t.HeaderCell=1]="HeaderCell",t[t.RowDrag=2]="RowDrag",t[t.ChartPanel=3]="ChartPanel"}(Ar||(Ar={})),function(t){t[t.Up=0]="Up",t[t.Down=1]="Down"}(Lr||(Lr={})),function(t){t[t.Left=0]="Left",t[t.Right=1]="Right"}(Ir||(Ir={}));var Rs,As=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dragSourceAndParamsList=[],e.dropTargets=[],e}var n;return Ts(e,t),n=e,e.prototype.init=function(){this.ePinnedIcon=Bi("columnMovePin",this.gridOptionsService,null),this.eHideIcon=Bi("columnMoveHide",this.gridOptionsService,null),this.eMoveIcon=Bi("columnMoveMove",this.gridOptionsService,null),this.eLeftIcon=Bi("columnMoveLeft",this.gridOptionsService,null),this.eRightIcon=Bi("columnMoveRight",this.gridOptionsService,null),this.eGroupIcon=Bi("columnMoveGroup",this.gridOptionsService,null),this.eAggregateIcon=Bi("columnMoveValue",this.gridOptionsService,null),this.ePivotIcon=Bi("columnMovePivot",this.gridOptionsService,null),this.eDropNotAllowedIcon=Bi("dropNotAllowed",this.gridOptionsService,null)},e.prototype.addDragSource=function(t,e){void 0===e&&(e=!1);var n={eElement:t.eElement,dragStartPixels:t.dragStartPixels,onDragStart:this.onDragStart.bind(this,t),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this)};this.dragSourceAndParamsList.push({params:n,dragSource:t}),this.dragService.addDragSource(n,e)},e.prototype.removeDragSource=function(t){var e=this.dragSourceAndParamsList.find((function(e){return e.dragSource===t}));e&&(this.dragService.removeDragSource(e.params),_t(this.dragSourceAndParamsList,e))},e.prototype.clearDragSourceParamsList=function(){var t=this;this.dragSourceAndParamsList.forEach((function(e){return t.dragService.removeDragSource(e.params)})),this.dragSourceAndParamsList.length=0,this.dropTargets.length=0},e.prototype.nudge=function(){this.dragging&&this.onDragging(this.eventLastTime,!0)},e.prototype.onDragStart=function(t,e){this.dragging=!0,this.dragSource=t,this.eventLastTime=e,this.dragItem=this.dragSource.getDragItem(),this.lastDropTarget=this.dragSource.dragSourceDropTarget,this.dragSource.onDragStarted&&this.dragSource.onDragStarted(),this.createGhost()},e.prototype.onDragStop=function(t){if(this.eventLastTime=null,this.dragging=!1,this.dragSource.onDragStopped&&this.dragSource.onDragStopped(),this.lastDropTarget&&this.lastDropTarget.onDragStop){var e=this.createDropTargetEvent(this.lastDropTarget,t,null,null,!1);this.lastDropTarget.onDragStop(e)}this.lastDropTarget=null,this.dragItem=null,this.removeGhost()},e.prototype.onDragging=function(t,e){var n,i,o,r,s=this,a=this.getHorizontalDirection(t),l=this.getVerticalDirection(t);this.eventLastTime=t,this.positionGhost(t);var c=this.dropTargets.filter((function(e){return s.isMouseOnDropTarget(t,e)})),u=this.findCurrentDropTarget(t,c);if(u!==this.lastDropTarget)this.leaveLastTargetIfExists(t,a,l,e),null!==this.lastDropTarget&&null===u&&(null===(i=(n=this.dragSource).onGridExit)||void 0===i||i.call(n,this.dragItem)),null===this.lastDropTarget&&null!==u&&(null===(r=(o=this.dragSource).onGridEnter)||void 0===r||r.call(o,this.dragItem)),this.enterDragTargetIfExists(u,t,a,l,e),this.lastDropTarget=u;else if(u&&u.onDragging){var h=this.createDropTargetEvent(u,t,a,l,e);u.onDragging(h)}},e.prototype.getAllContainersFromDropTarget=function(t){var e=t.getSecondaryContainers?t.getSecondaryContainers():null,n=[[t.getContainer()]];return e?n.concat(e):n},e.prototype.allContainersIntersect=function(t,e){var n,i;try{for(var o=Ds(e),r=o.next();!r.done;r=o.next()){var s=r.value.getBoundingClientRect();if(0===s.width||0===s.height)return!1;var a=t.clientX>=s.left&&t.clientX<s.right,l=t.clientY>=s.top&&t.clientY<s.bottom;if(!a||!l)return!1}}catch(t){n={error:t}}finally{try{r&&!r.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return!0},e.prototype.isMouseOnDropTarget=function(t,e){var n,i,o=this.getAllContainersFromDropTarget(e),r=!1;try{for(var s=Ds(o),a=s.next();!a.done;a=s.next()){var l=a.value;if(this.allContainersIntersect(t,l)){r=!0;break}}}catch(t){n={error:t}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return!(e.targetContainsSource&&!e.getContainer().contains(this.dragSource.eElement))&&(r&&e.isInterestedIn(this.dragSource.type,this.dragSource.eElement))},e.prototype.findCurrentDropTarget=function(t,e){var n,i,o,r,s=e.length;if(0===s)return null;if(1===s)return e[0];var a=this.gridOptionsService.getRootNode().elementsFromPoint(t.clientX,t.clientY);try{for(var l=Ds(a),c=l.next();!c.done;c=l.next()){var u=c.value;try{for(var h=(o=void 0,Ds(e)),d=h.next();!d.done;d=h.next()){var p=d.value;if(-1!==Et(this.getAllContainersFromDropTarget(p)).indexOf(u))return p}}catch(t){o={error:t}}finally{try{d&&!d.done&&(r=h.return)&&r.call(h)}finally{if(o)throw o.error}}}}catch(t){n={error:t}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(n)throw n.error}}return null},e.prototype.enterDragTargetIfExists=function(t,e,n,i,o){if(t){if(t.onDragEnter){var r=this.createDropTargetEvent(t,e,n,i,o);t.onDragEnter(r)}this.setGhostIcon(t.getIconName?t.getIconName():null)}},e.prototype.leaveLastTargetIfExists=function(t,e,n,i){if(this.lastDropTarget){if(this.lastDropTarget.onDragLeave){var o=this.createDropTargetEvent(this.lastDropTarget,t,e,n,i);this.lastDropTarget.onDragLeave(o)}this.setGhostIcon(null)}},e.prototype.addDropTarget=function(t){this.dropTargets.push(t)},e.prototype.removeDropTarget=function(t){this.dropTargets=this.dropTargets.filter((function(e){return e.getContainer()!==t.getContainer()}))},e.prototype.hasExternalDropZones=function(){return this.dropTargets.some((function(t){return t.external}))},e.prototype.findExternalZone=function(t){return this.dropTargets.filter((function(t){return t.external})).find((function(e){return e.getContainer()===t.getContainer()}))||null},e.prototype.getHorizontalDirection=function(t){var e=this.eventLastTime&&this.eventLastTime.clientX,n=t.clientX;return e===n?null:e>n?Ir.Left:Ir.Right},e.prototype.getVerticalDirection=function(t){var e=this.eventLastTime&&this.eventLastTime.clientY,n=t.clientY;return e===n?null:e>n?Lr.Up:Lr.Down},e.prototype.createDropTargetEvent=function(t,e,n,i,o){var r=t.getContainer(),s=r.getBoundingClientRect(),a=this,l=a.gridApi,c=a.columnApi,u=a.dragItem,h=a.dragSource;return{event:e,x:e.clientX-s.left,y:e.clientY-s.top,vDirection:i,hDirection:n,dragSource:h,fromNudge:o,dragItem:u,api:l,columnApi:c,dropZoneTarget:r}},e.prototype.positionGhost=function(t){var e=this.eGhost;if(e){var n=e.getBoundingClientRect().height,i=Nn()-2,o=Fn()-2,r=t.pageY-n/2,s=t.pageX-10,a=this.gridOptionsService.getDocument(),l=a.defaultView||window,c=l.pageYOffset||a.documentElement.scrollTop,u=l.pageXOffset||a.documentElement.scrollLeft;i>0&&s+e.clientWidth>i+u&&(s=i+u-e.clientWidth),s<0&&(s=0),o>0&&r+e.clientHeight>o+c&&(r=o+c-e.clientHeight),r<0&&(r=0),e.style.left=s+"px",e.style.top=r+"px"}},e.prototype.removeGhost=function(){this.eGhost&&this.eGhostParent&&this.eGhostParent.removeChild(this.eGhost),this.eGhost=null},e.prototype.createGhost=function(){this.eGhost=vi(n.GHOST_TEMPLATE),this.mouseEventService.stampTopLevelGridCompWithGridInstance(this.eGhost);var t=this.environment.getTheme().theme;t&&this.eGhost.classList.add(t),this.eGhostIcon=this.eGhost.querySelector(".ag-dnd-ghost-icon"),this.setGhostIcon(null);var e=this.eGhost.querySelector(".ag-dnd-ghost-label"),i=this.dragSource.dragItemName;M(i)&&(i=i()),e.innerHTML=Ce(i)||"",this.eGhost.style.height="25px",this.eGhost.style.top="20px",this.eGhost.style.left="20px";var o=this.gridOptionsService.getDocument(),r=null;try{r=o.fullscreenElement}catch(t){}finally{if(!r){var s=this.gridOptionsService.getRootNode(),a=s.querySelector("body");r=a||(s instanceof ShadowRoot?s:null==s?void 0:s.documentElement)}}this.eGhostParent=r,this.eGhostParent?this.eGhostParent.appendChild(this.eGhost):console.warn("AG Grid: could not find document body, it is needed for dragging columns")},e.prototype.setGhostIcon=function(t,e){void 0===e&&(e=!1),mi(this.eGhostIcon);var i=null;switch(t||(t=this.dragSource.defaultIconName||n.ICON_NOT_ALLOWED),t){case n.ICON_PINNED:i=this.ePinnedIcon;break;case n.ICON_MOVE:i=this.eMoveIcon;break;case n.ICON_LEFT:i=this.eLeftIcon;break;case n.ICON_RIGHT:i=this.eRightIcon;break;case n.ICON_GROUP:i=this.eGroupIcon;break;case n.ICON_AGGREGATE:i=this.eAggregateIcon;break;case n.ICON_PIVOT:i=this.ePivotIcon;break;case n.ICON_NOT_ALLOWED:i=this.eDropNotAllowedIcon;break;case n.ICON_HIDE:i=this.eHideIcon}this.eGhostIcon.classList.toggle("ag-shake-left-to-right",e),i===this.eHideIcon&&this.gridOptionsService.is("suppressDragLeaveHidesColumns")||i&&this.eGhostIcon.appendChild(i)},e.ICON_PINNED="pinned",e.ICON_MOVE="move",e.ICON_LEFT="left",e.ICON_RIGHT="right",e.ICON_GROUP="group",e.ICON_AGGREGATE="aggregate",e.ICON_PIVOT="pivot",e.ICON_NOT_ALLOWED="notAllowed",e.ICON_HIDE="hide",e.GHOST_TEMPLATE='<div class="ag-dnd-ghost ag-unselectable">\n            <span class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>\n            <div class="ag-dnd-ghost-label"></div>\n        </div>',Ms([K("dragService")],e.prototype,"dragService",void 0),Ms([K("mouseEventService")],e.prototype,"mouseEventService",void 0),Ms([K("columnApi")],e.prototype,"columnApi",void 0),Ms([K("gridApi")],e.prototype,"gridApi",void 0),Ms([H],e.prototype,"init",null),Ms([$],e.prototype,"clearDragSourceParamsList",null),e=n=Ms([z("dragAndDropService")],e)}(jt),Ls=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Is=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},ks=function(t){function e(e,n,i,o,r,s){var a=t.call(this)||this;return a.cellValueFn=e,a.rowNode=n,a.column=i,a.customGui=o,a.dragStartPixels=r,a.suppressVisibilityChange=s,a.dragSource=null,a}return Ls(e,t),e.prototype.isCustomGui=function(){return null!=this.customGui},e.prototype.postConstruct=function(){if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate('<div class="ag-drag-handle ag-row-drag" aria-hidden="true"></div>'),this.getGui().appendChild(ji("rowDrag",this.beans.gridOptionsService,null)),this.addDragSource()),this.checkCompatibility(),!this.suppressVisibilityChange){var t=this.beans.gridOptionsService.is("rowDragManaged")?new Gs(this,this.beans,this.rowNode,this.column):new Fs(this,this.beans,this.rowNode,this.column);this.createManagedBean(t,this.beans.context)}},e.prototype.setDragElement=function(t,e){this.setTemplateFromElement(t),this.addDragSource(e)},e.prototype.getSelectedNodes=function(){if(!this.beans.gridOptionsService.is("rowDragMultiRow"))return[this.rowNode];var t=this.beans.selectionService.getSelectedNodes();return-1!==t.indexOf(this.rowNode)?t:[this.rowNode]},e.prototype.checkCompatibility=function(){var t=this.beans.gridOptionsService.is("rowDragManaged");this.beans.gridOptionsService.isTreeData()&&t&&P((function(){return console.warn("AG Grid: If using row drag with tree data, you cannot have rowDragManaged=true")}),"RowDragComp.managedAndTreeData")},e.prototype.getDragItem=function(){return{rowNode:this.rowNode,rowNodes:this.getSelectedNodes(),columns:this.column?[this.column]:void 0,defaultTextValue:this.cellValueFn()}},e.prototype.getRowDragText=function(t){if(t){var e=t.getColDef();if(e.rowDragText)return e.rowDragText}return this.gridOptionsService.get("rowDragText")},e.prototype.addDragSource=function(t){var e=this;void 0===t&&(t=4),this.dragSource&&this.removeDragSource();var n=this.getRowDragText(this.column),i=this.localeService.getLocaleTextFunc();this.dragSource={type:Ar.RowDrag,eElement:this.getGui(),dragItemName:function(){var t,o=e.getDragItem(),r=(null===(t=o.rowNodes)||void 0===t?void 0:t.length)||1;return n?n(o,r):1===r?e.cellValueFn():r+" "+i("rowDragRows","rows")},getDragItem:function(){return e.getDragItem()},dragStartPixels:t,dragSourceDomDataKey:this.beans.gridOptionsService.getDomDataKey()},this.beans.dragAndDropService.addDragSource(this.dragSource,!0)},e.prototype.removeDragSource=function(){this.dragSource&&this.beans.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null},Is([K("beans")],e.prototype,"beans",void 0),Is([H],e.prototype,"postConstruct",null),Is([$],e.prototype,"removeDragSource",null),e}(go),Ns=function(t){function e(e,n,i){var o=t.call(this)||this;return o.parent=e,o.rowNode=n,o.column=i,o}return Ls(e,t),e.prototype.setDisplayedOrVisible=function(t){var e={skipAriaHidden:!0};if(t)this.parent.setDisplayed(!1,e);else{var n=!0,i=!1;this.column&&(n=this.column.isRowDrag(this.rowNode)||this.parent.isCustomGui(),i=M(this.column.getColDef().rowDrag)),i?(this.parent.setDisplayed(!0,e),this.parent.setVisible(n,e)):(this.parent.setDisplayed(n,e),this.parent.setVisible(!0,e))}},e}(jt),Fs=function(t){function e(e,n,i,o){var r=t.call(this,e,i,o)||this;return r.beans=n,r}return Ls(e,t),e.prototype.postConstruct=function(){this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.addManagedListener(this.rowNode,Ss.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Ss.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Ss.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,zt.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.workOutVisibility()},e.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},e.prototype.workOutVisibility=function(){var t=this.beans.gridOptionsService.is("suppressRowDrag");this.setDisplayedOrVisible(t)},Is([H],e.prototype,"postConstruct",null),e}(Ns),Gs=function(t){function e(e,n,i,o){var r=t.call(this,e,i,o)||this;return r.beans=n,r}return Ls(e,t),e.prototype.postConstruct=function(){this.addManagedListener(this.beans.eventService,zt.EVENT_SORT_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,zt.EVENT_FILTER_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,zt.EVENT_COLUMN_ROW_GROUP_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,zt.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Ss.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Ss.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()},e.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},e.prototype.workOutVisibility=function(){var t=this.beans.ctrlsService.getGridBodyCtrl().getRowDragFeature(),e=t&&t.shouldPreventRowMove(),n=this.beans.gridOptionsService.is("suppressRowDrag"),i=this.beans.dragAndDropService.hasExternalDropZones(),o=e&&!i||n;this.setDisplayedOrVisible(o)},Is([H],e.prototype,"postConstruct",null),e}(Ns),Bs=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),js=function(){return js=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},js.apply(this,arguments)},Us=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},Vs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Bs(e,t),e.prototype.init=function(t,e,n,i,o,r,s){this.params=s,this.eGui=e,this.eCheckbox=n,this.eExpanded=i,this.eContracted=o,this.comp=t,this.compClass=r;var a=this.isTopLevelFooter(),l=this.isEmbeddedRowMismatch(),c=null==s.value&&!s.node.master,u=!1;if(this.gridOptionsService.is("groupIncludeFooter")&&this.gridOptionsService.is("groupHideOpenParents")){var h=s.node;if(h.footer)u=(s.colDef&&s.colDef.showRowGroup)!==(h.rowGroupColumn&&h.rowGroupColumn.getColId())}this.cellIsBlank=!a&&(l||c&&!s.node.master||u),this.cellIsBlank||(this.setupShowingValueForOpenedParent(),this.findDisplayedGroupNode(),this.addFullWidthRowDraggerIfNeeded(),this.addExpandAndContract(),this.addCheckboxIfNeeded(),this.addValueElement(),this.setupIndent(),this.refreshAriaExpanded())},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.expandListener=null},e.prototype.refreshAriaExpanded=function(){var t=this.params,e=t.node,n=t.eParentOfValue;if(this.expandListener&&(this.expandListener=this.expandListener()),this.isExpandable()){var i=function(){on(n,!!e.expanded)};this.expandListener=this.addManagedListener(e,Ss.EVENT_EXPANDED_CHANGED,i)||null,i()}else rn(n)},e.prototype.isTopLevelFooter=function(){if(!this.gridOptionsService.is("groupIncludeTotalFooter"))return!1;if(null!=this.params.value||-1!=this.params.node.level)return!1;var t=this.params.colDef;if(null==t)return!0;if(!0===t.showRowGroup)return!0;var e=this.columnModel.getRowGroupColumns();return!e||0===e.length||e[0].getId()===t.showRowGroup},e.prototype.isEmbeddedRowMismatch=function(){if(!this.params.fullWidth||!this.gridOptionsService.is("embedFullWidthRows"))return!1;var t="left"===this.params.pinned,e="right"===this.params.pinned,n=!t&&!e;return this.gridOptionsService.is("enableRtl")?this.columnModel.isPinningLeft()?!e:!n:this.columnModel.isPinningLeft()?!t:!n},e.prototype.findDisplayedGroupNode=function(){var t=this.params.column,e=this.params.node;if(this.showingValueForOpenedParent)for(var n=e.parent;null!=n;){if(n.rowGroupColumn&&t.isRowGroupDisplayed(n.rowGroupColumn.getId())){this.displayedGroupNode=n;break}n=n.parent}r(this.displayedGroupNode)&&(this.displayedGroupNode=e)},e.prototype.setupShowingValueForOpenedParent=function(){var t=this.params.node,e=this.params.column;if(this.gridOptionsService.is("groupHideOpenParents"))if(t.groupData){if(null!=t.rowGroupColumn){var n=t.rowGroupColumn.getId();if(e.isRowGroupDisplayed(n))return void(this.showingValueForOpenedParent=!1)}var i=null!=t.groupData[e.getId()];this.showingValueForOpenedParent=i}else this.showingValueForOpenedParent=!1;else this.showingValueForOpenedParent=!1},e.prototype.addValueElement=function(){this.displayedGroupNode.footer?this.addFooterValue():(this.addGroupValue(),this.addChildCount())},e.prototype.addGroupValue=function(){var t=this.adjustParamsWithDetailsFromRelatedColumn(),e=this.getInnerCompDetails(t),n=t.valueFormatted,i=t.value,o=n;null==o&&(o=""===i&&this.params.node.group?this.localeService.getLocaleTextFunc()("blanks","(Blanks)"):null!=i?i:null);this.comp.setInnerRenderer(e,o)},e.prototype.adjustParamsWithDetailsFromRelatedColumn=function(){var t=this.displayedGroupNode.rowGroupColumn,e=this.params.column;if(!t)return this.params;if(null!=e&&!e.isRowGroupDisplayed(t.getId()))return this.params;var n=this.params,i=this.params,o=i.value,r=i.node,s=this.valueFormatterService.formatValue(t,r,o);return js(js({},n),{valueFormatted:s})},e.prototype.addFooterValue=function(){var t=this.params.footerValueGetter,e="";if(t){var n=f(this.params);n.value=this.params.value,"function"==typeof t?e=t(n):"string"==typeof t?e=this.expressionService.evaluate(t,n):console.warn("AG Grid: footerValueGetter should be either a function or a string (expression)")}else e="Total "+(null!=this.params.value?this.params.value:"");var i=this.getInnerCompDetails(this.params);this.comp.setInnerRenderer(i,e)},e.prototype.getInnerCompDetails=function(t){var e=this;if(t.fullWidth)return this.userComponentFactory.getFullWidthGroupRowInnerCellRenderer(this.gridOptionsService.get("groupRowRendererParams"),t);var n=this.userComponentFactory.getInnerRendererDetails(t,t),i=function(t){return t&&t.componentClass==e.compClass};if(n&&!i(n))return n;var o=this.displayedGroupNode.rowGroupColumn,r=o?o.getColDef():void 0;if(r){var s=this.userComponentFactory.getCellRendererDetails(r,t);if(s&&!i(s))return s;if(i(s)&&r.cellRendererParams&&r.cellRendererParams.innerRenderer)return this.userComponentFactory.getInnerRendererDetails(r.cellRendererParams,t)}},e.prototype.addChildCount=function(){this.params.suppressCount||(this.addManagedListener(this.displayedGroupNode,Ss.EVENT_ALL_CHILDREN_COUNT_CHANGED,this.updateChildCount.bind(this)),this.updateChildCount())},e.prototype.updateChildCount=function(){var t=this.displayedGroupNode.allChildrenCount,e=this.isShowRowGroupForThisRow()&&null!=t&&t>=0?"("+t+")":"";this.comp.setChildCount(e)},e.prototype.isShowRowGroupForThisRow=function(){if(this.gridOptionsService.isTreeData())return!0;var t=this.displayedGroupNode.rowGroupColumn;if(!t)return!1;var e=this.params.column;return null==e||e.isRowGroupDisplayed(t.getId())},e.prototype.addExpandAndContract=function(){var t,e=this.params,n=ji("groupExpanded",this.gridOptionsService,null),i=ji("groupContracted",this.gridOptionsService,null);n&&this.eExpanded.appendChild(n),i&&this.eContracted.appendChild(i);var o=e.eGridCell;(null===(t=this.params.column)||void 0===t?void 0:t.isCellEditable(e.node))&&this.gridOptionsService.is("enableGroupEdit")||!this.isExpandable()||e.suppressDoubleClickExpand||this.addManagedListener(o,"dblclick",this.onCellDblClicked.bind(this)),this.addManagedListener(this.eExpanded,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eContracted,"click",this.onExpandClicked.bind(this)),this.addManagedListener(o,"keydown",this.onKeyDown.bind(this)),this.addManagedListener(e.node,Ss.EVENT_EXPANDED_CHANGED,this.showExpandAndContractIcons.bind(this)),this.showExpandAndContractIcons();var r=this.onRowNodeIsExpandableChanged.bind(this);this.addManagedListener(this.displayedGroupNode,Ss.EVENT_ALL_CHILDREN_COUNT_CHANGED,r),this.addManagedListener(this.displayedGroupNode,Ss.EVENT_MASTER_CHANGED,r),this.addManagedListener(this.displayedGroupNode,Ss.EVENT_GROUP_CHANGED,r),this.addManagedListener(this.displayedGroupNode,Ss.EVENT_HAS_CHILDREN_CHANGED,r)},e.prototype.onExpandClicked=function(t){Mt(t)||(Tt(t),this.onExpandOrContract(t))},e.prototype.onExpandOrContract=function(t){var e=this.displayedGroupNode,n=!e.expanded;!n&&e.sticky&&this.scrollToStickyNode(e),e.setExpanded(n,t)},e.prototype.scrollToStickyNode=function(t){this.ctrlsService.getGridBodyCtrl().getScrollFeature().setVerticalScrollPosition(t.rowTop-t.stickyRowTop)},e.prototype.isExpandable=function(){if(this.showingValueForOpenedParent)return!0;var t=this.displayedGroupNode,e=this.columnModel.isPivotMode()&&t.leafGroup;if(!(t.isExpandable()&&!t.footer&&!e))return!1;var n=this.params.column;return null==n||"string"!=typeof n.getColDef().showRowGroup||this.isShowRowGroupForThisRow()},e.prototype.showExpandAndContractIcons=function(){var t=this,e=t.params,n=t.displayedGroupNode,i=t.columnModel,o=e.node,r=this.isExpandable();if(r){var s=!!this.showingValueForOpenedParent||o.expanded;this.comp.setExpandedDisplayed(s),this.comp.setContractedDisplayed(!s)}else this.comp.setExpandedDisplayed(!1),this.comp.setContractedDisplayed(!1);var a=i.isPivotMode(),l=a&&n.leafGroup,c=r&&!l,u=o.footer&&-1===o.level;this.comp.addOrRemoveCssClass("ag-cell-expandable",c),this.comp.addOrRemoveCssClass("ag-row-group",c),a?this.comp.addOrRemoveCssClass("ag-pivot-leaf-group",l):u||this.comp.addOrRemoveCssClass("ag-row-group-leaf-indent",!c)},e.prototype.onRowNodeIsExpandableChanged=function(){this.showExpandAndContractIcons(),this.setIndent(),this.refreshAriaExpanded()},e.prototype.setupIndent=function(){var t=this.params.node;this.params.suppressPadding||(this.addManagedListener(t,Ss.EVENT_UI_LEVEL_CHANGED,this.setIndent.bind(this)),this.setIndent())},e.prototype.setIndent=function(){if(!this.gridOptionsService.is("groupHideOpenParents")){var t=this.params,e=t.node,n=!!t.colDef,i=this.gridOptionsService.isTreeData(),o=!n||i||!0===t.colDef.showRowGroup?e.uiLevel:0;this.indentClass&&this.comp.addOrRemoveCssClass(this.indentClass,!1),this.indentClass="ag-row-group-indent-"+o,this.comp.addOrRemoveCssClass(this.indentClass,!0)}},e.prototype.addFullWidthRowDraggerIfNeeded=function(){var t=this;if(this.params.fullWidth&&this.params.rowDrag){var e=new ks((function(){return t.params.value}),this.params.node);this.createManagedBean(e,this.context),this.eGui.insertAdjacentElement("afterbegin",e.getGui())}},e.prototype.isUserWantsSelected=function(){var t=this.params.checkbox;return"function"==typeof t||!0===t},e.prototype.addCheckboxIfNeeded=function(){var t=this,e=this.displayedGroupNode,n=this.isUserWantsSelected()&&!e.footer&&!e.rowPinned&&!e.detail;if(n){var i=new Ps;this.getContext().createBean(i),i.init({rowNode:e,column:this.params.column,overrides:{isVisible:this.params.checkbox,callbackParams:this.params,removeHidden:!0}}),this.eCheckbox.appendChild(i.getGui()),this.addDestroyFunc((function(){return t.getContext().destroyBean(i)}))}this.comp.setCheckboxVisible(n)},e.prototype.onKeyDown=function(t){t.key!==Vi.ENTER||this.params.suppressEnterExpand||(this.params.column&&this.params.column.isCellEditable(this.params.node)||this.onExpandOrContract(t))},e.prototype.onCellDblClicked=function(t){Mt(t)||(Lt(this.eExpanded,t)||Lt(this.eContracted,t)||this.onExpandOrContract(t))},Us([K("expressionService")],e.prototype,"expressionService",void 0),Us([K("valueFormatterService")],e.prototype,"valueFormatterService",void 0),Us([K("columnModel")],e.prototype,"columnModel",void 0),Us([K("userComponentFactory")],e.prototype,"userComponentFactory",void 0),Us([K("ctrlsService")],e.prototype,"ctrlsService",void 0),e}(jt),Ws=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Hs=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},$s=function(t){function e(){return t.call(this,e.TEMPLATE)||this}return Ws(e,t),e.prototype.init=function(t){var e=this,n={setInnerRenderer:function(t,n){return e.setRenderDetails(t,n)},setChildCount:function(t){return e.eChildCount.innerHTML=t},addOrRemoveCssClass:function(t,n){return e.addOrRemoveCssClass(t,n)},setContractedDisplayed:function(t){return oi(e.eContracted,t)},setExpandedDisplayed:function(t){return oi(e.eExpanded,t)},setCheckboxVisible:function(t){return e.eCheckbox.classList.toggle("ag-invisible",!t)}},i=this.createManagedBean(new Vs),o=!t.colDef,r=this.getGui();i.init(n,r,this.eCheckbox,this.eExpanded,this.eContracted,this.constructor,t),o&&ze(r,"gridcell")},e.prototype.setRenderDetails=function(t,e){var n=this;if(t){var i=t.newAgStackInstance();if(!i)return;i.then((function(t){if(t){var e=function(){return n.context.destroyBean(t)};n.isAlive()?(n.eValue.appendChild(t.getGui()),n.addDestroyFunc(e)):e()}}))}else this.eValue.innerText=e},e.prototype.destroy=function(){this.getContext().destroyBean(this.innerCellRenderer),t.prototype.destroy.call(this)},e.prototype.refresh=function(){return!1},e.TEMPLATE='<span class="ag-cell-wrapper">\n            <span class="ag-group-expanded" ref="eExpanded"></span>\n            <span class="ag-group-contracted" ref="eContracted"></span>\n            <span class="ag-group-checkbox ag-invisible" ref="eCheckbox"></span>\n            <span class="ag-group-value" ref="eValue"></span>\n            <span class="ag-group-child-count" ref="eChildCount"></span>\n        </span>',Hs([mo("eExpanded")],e.prototype,"eExpanded",void 0),Hs([mo("eContracted")],e.prototype,"eContracted",void 0),Hs([mo("eCheckbox")],e.prototype,"eCheckbox",void 0),Hs([mo("eValue")],e.prototype,"eValue",void 0),Hs([mo("eChildCount")],e.prototype,"eChildCount",void 0),e}(go),zs=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ks=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},Ys=function(t){function e(){return t.call(this,e.TEMPLATE)||this}return zs(e,t),e.prototype.init=function(t){t.node.failedLoad?this.setupFailed():this.setupLoading()},e.prototype.setupFailed=function(){var t=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=t("loadingError","ERR")},e.prototype.setupLoading=function(){var t=ji("groupLoading",this.gridOptionsService,null);t&&this.eLoadingIcon.appendChild(t);var e=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=e("loadingOoo","Loading")},e.prototype.refresh=function(t){return!1},e.prototype.destroy=function(){t.prototype.destroy.call(this)},e.TEMPLATE='<div class="ag-loading">\n            <span class="ag-loading-icon" ref="eLoadingIcon"></span>\n            <span class="ag-loading-text" ref="eLoadingText"></span>\n        </div>',Ks([mo("eLoadingIcon")],e.prototype,"eLoadingIcon",void 0),Ks([mo("eLoadingText")],e.prototype,"eLoadingText",void 0),e}(go),Xs=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),qs=function(t){function e(){return t.call(this)||this}return Xs(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this)},e.prototype.init=function(t){var n,i=null!==(n=this.gridOptionsService.get("overlayLoadingTemplate"))&&void 0!==n?n:e.DEFAULT_LOADING_OVERLAY_TEMPLATE,o=this.localeService.getLocaleTextFunc(),r=i.replace("[LOADING...]",o("loadingOoo","Loading..."));this.setTemplate(r)},e.DEFAULT_LOADING_OVERLAY_TEMPLATE='<span class="ag-overlay-loading-center">[LOADING...]</span>',e}(go),Zs=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Js=function(t){function e(){return t.call(this)||this}return Zs(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this)},e.prototype.init=function(t){var n,i=null!==(n=this.gridOptionsService.get("overlayNoRowsTemplate"))&&void 0!==n?n:e.DEFAULT_NO_ROWS_TEMPLATE,o=this.localeService.getLocaleTextFunc(),r=i.replace("[NO_ROWS_TO_SHOW]",o("noRowsToShow","No Rows To Show"));this.setTemplate(r)},e.DEFAULT_NO_ROWS_TEMPLATE='<span class="ag-overlay-no-rows-center">[NO_ROWS_TO_SHOW]</span>',e}(go),Qs=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ta=function(t){function e(){return t.call(this,'<div class="ag-tooltip"></div>')||this}return Qs(e,t),e.prototype.init=function(t){var e=t.value;this.getGui().innerHTML=Ce(e)},e}(ss),ea=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),na=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},ia=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},oa=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(ia(arguments[e]));return t},ra=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.agGridDefaults={agDateInput:wr,agColumnHeader:es,agColumnGroupHeader:os,agSortIndicator:Jr,agTextColumnFloatingFilter:Yr,agNumberColumnFloatingFilter:zr,agDateColumnFloatingFilter:br,agReadOnlyFloatingFilter:Co,agAnimateShowChangeCellRenderer:ys,agAnimateSlideCellRenderer:bs,agGroupCellRenderer:$s,agGroupRowRenderer:$s,agLoadingCellRenderer:Ys,agCellEditor:gs,agTextCellEditor:gs,agSelectCellEditor:ds,agLargeTextCellEditor:cs,agTextColumnFilter:Br,agNumberColumnFilter:kr,agDateColumnFilter:mr,agLoadingOverlay:qs,agNoRowsOverlay:Js,agTooltipComponent:ta},e.enterpriseAgDefaultCompsModule={agSetColumnFilter:J.SetFilterModule,agSetColumnFloatingFilter:J.SetFilterModule,agMultiColumnFilter:J.MultiFilterModule,agMultiColumnFloatingFilter:J.MultiFilterModule,agGroupColumnFilter:J.RowGroupingModule,agGroupColumnFloatingFilter:J.RowGroupingModule,agRichSelect:J.RichSelectModule,agRichSelectCellEditor:J.RichSelectModule,agDetailCellRenderer:J.MasterDetailModule,agSparklineCellRenderer:J.SparklinesModule},e.deprecatedAgGridDefaults={agPopupTextCellEditor:'AG Grid: Since v27.1 The agPopupTextCellEditor is deprecated. Instead use { cellEditor: "agTextCellEditor", cellEditorPopup: true }',agPopupSelectCellEditor:'AG Grid: Since v27.1 the agPopupSelectCellEditor is deprecated. Instead use { cellEditor: "agSelectCellEditor", cellEditorPopup: true }'},e.jsComps={},e.fwComps={},e}return ea(e,t),e.prototype.init=function(){var t=this;null!=this.gridOptions.components&&p(this.gridOptions.components,(function(e,n){return t.registerJsComponent(e,n)})),null!=this.gridOptions.frameworkComponents&&p(this.gridOptions.frameworkComponents,(function(e,n){return t.registerFwComponent(e,n)}))},e.prototype.registerDefaultComponent=function(t,e){this.agGridDefaults[t]?console.error("Trying to overwrite a default component. You should call registerComponent"):this.agGridDefaults[t]=e},e.prototype.registerJsComponent=function(t,e){this.fwComps[t]?console.error("Trying to register a component that you have already registered for frameworks: "+t):this.jsComps[t]=e},e.prototype.registerFwComponent=function(t,e){P((function(){return console.warn("AG Grid: As of v27, registering components via grid property frameworkComponents is deprecated. Instead register both JavaScript AND Framework Components via the components property.")}),"UserComponentRegistry.frameworkComponentsDeprecated"),this.fwComps[t]=e},e.prototype.retrieve=function(t,e){var n=this,i=function(t,e){return{componentFromFramework:e,component:t}},o=this.getFrameworkOverrides().frameworkComponent(e,this.gridOptions.components);if(null!=o)return i(o,!0);var r=this.fwComps[e];if(r)return i(r,!0);var s=this.jsComps[e];if(s)return i(s,this.getFrameworkOverrides().isFrameworkComponent(s));var a=this.agGridDefaults[e];if(a)return i(a,!1);var l=this.enterpriseAgDefaultCompsModule[e];return l?it.assertRegistered(l,"AG Grid '"+t+"' component: "+e):this.deprecatedAgGridDefaults[e]?P((function(){return console.warn(n.deprecatedAgGridDefaults[e])}),e):P((function(){n.warnAboutMissingComponent(t,e)}),"MissingComp"+e),null},e.prototype.warnAboutMissingComponent=function(t,e){var n=ee(e,oa(Object.keys(this.agGridDefaults).filter((function(t){return!["agCellEditor","agGroupRowRenderer","agSortIndicator"].includes(t)})),Object.keys(this.jsComps),Object.keys(this.fwComps)),!0,.8);console.warn("AG Grid: Could not find '"+e+"' component. It was configured as \""+t+": '"+e+"'\" but it wasn't found in the list of registered components."),n.length>0&&console.warn("         Did you mean: ["+n.slice(0,3)+"]?"),console.warn("If using a custom component check it has been registered as described in: https://ag-grid.com/javascript-data-grid/components/")},na([K("gridOptions")],e.prototype,"gridOptions",void 0),na([H],e.prototype,"init",null),e=na([z("userComponentRegistry")],e)}(jt),sa={propertyName:"dateComponent",cellRenderer:!1},aa={propertyName:"headerComponent",cellRenderer:!1},la={propertyName:"headerGroupComponent",cellRenderer:!1},ca={propertyName:"cellRenderer",cellRenderer:!0},ua={propertyName:"cellEditor",cellRenderer:!1},ha={propertyName:"innerRenderer",cellRenderer:!0},da={propertyName:"loadingOverlayComponent",cellRenderer:!1},pa={propertyName:"noRowsOverlayComponent",cellRenderer:!1},fa={propertyName:"tooltipComponent",cellRenderer:!1},ga={propertyName:"filter",cellRenderer:!1},ma={propertyName:"floatingFilterComponent",cellRenderer:!1},_a={propertyName:"toolPanel",cellRenderer:!1},ya={propertyName:"statusPanel",cellRenderer:!1},va={propertyName:"fullWidthCellRenderer",cellRenderer:!0},Ca={propertyName:"loadingCellRenderer",cellRenderer:!0},ba={propertyName:"groupRowRenderer",cellRenderer:!0},Ea={propertyName:"detailCellRenderer",cellRenderer:!0},Sa=function(){function t(){}return t.getFloatingFilterType=function(t){return this.filterToFloatingFilterMapping[t]},t.filterToFloatingFilterMapping={set:"agSetColumnFloatingFilter",agSetColumnFilter:"agSetColumnFloatingFilter",multi:"agMultiColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",group:"agGroupColumnFloatingFilter",agGroupColumnFilter:"agGroupColumnFloatingFilter",number:"agNumberColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",date:"agDateColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",text:"agTextColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"},t}(),wa=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Oa=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},xa=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return wa(e,t),e.prototype.getHeaderCompDetails=function(t,e){return this.getCompDetails(t,aa,"agColumnHeader",e)},e.prototype.getHeaderGroupCompDetails=function(t){var e=t.columnGroup.getColGroupDef();return this.getCompDetails(e,la,"agColumnGroupHeader",t)},e.prototype.getFullWidthCellRendererDetails=function(t){return this.getCompDetails(this.gridOptions,va,null,t,!0)},e.prototype.getFullWidthLoadingCellRendererDetails=function(t){return this.getCompDetails(this.gridOptions,Ca,"agLoadingCellRenderer",t,!0)},e.prototype.getFullWidthGroupCellRendererDetails=function(t){return this.getCompDetails(this.gridOptions,ba,"agGroupRowRenderer",t,!0)},e.prototype.getFullWidthDetailCellRendererDetails=function(t){return this.getCompDetails(this.gridOptions,Ea,"agDetailCellRenderer",t,!0)},e.prototype.getInnerRendererDetails=function(t,e){return this.getCompDetails(t,ha,null,e)},e.prototype.getFullWidthGroupRowInnerCellRenderer=function(t,e){return this.getCompDetails(t,ha,null,e)},e.prototype.getCellRendererDetails=function(t,e){return this.getCompDetails(t,ca,null,e)},e.prototype.getCellEditorDetails=function(t,e){return this.getCompDetails(t,ua,"agCellEditor",e,!0)},e.prototype.getFilterDetails=function(t,e,n){return this.getCompDetails(t,ga,n,e,!0)},e.prototype.getDateCompDetails=function(t){return this.getCompDetails(this.gridOptions,sa,"agDateInput",t,!0)},e.prototype.getLoadingOverlayCompDetails=function(t){return this.getCompDetails(this.gridOptions,da,"agLoadingOverlay",t,!0)},e.prototype.getNoRowsOverlayCompDetails=function(t){return this.getCompDetails(this.gridOptions,pa,"agNoRowsOverlay",t,!0)},e.prototype.getTooltipCompDetails=function(t){return this.getCompDetails(t.colDef,fa,"agTooltipComponent",t,!0)},e.prototype.getSetFilterCellRendererDetails=function(t,e){return this.getCompDetails(t,ca,null,e)},e.prototype.getFloatingFilterCompDetails=function(t,e,n){return this.getCompDetails(t,ma,n,e)},e.prototype.getToolPanelCompDetails=function(t,e){return this.getCompDetails(t,_a,null,e,!0)},e.prototype.getStatusPanelCompDetails=function(t,e){return this.getCompDetails(t,ya,null,e,!0)},e.prototype.getCompDetails=function(t,e,n,i,o){var r=this;void 0===o&&(o=!1);var s=e.propertyName,a=e.cellRenderer,l=this.getCompKeys(t,e,i),c=l.compName,u=l.jsComp,h=l.fwComp,d=l.paramsFromSelector,p=l.popupFromSelector,f=l.popupPositionFromSelector,g=function(t){var e=r.userComponentRegistry.retrieve(s,t);e&&(u=e.componentFromFramework?void 0:e.component,h=e.componentFromFramework?e.component:void 0)};if(null!=c&&g(c),null==u&&null==h&&null!=n&&g(n),u&&a&&!this.agComponentUtils.doesImplementIComponent(u)&&(u=this.agComponentUtils.adaptFunction(s,u)),u||h){var m=this.mergeParamsWithApplicationProvidedParams(t,e,i,d),_=null==u,y=u||h;return{componentFromFramework:_,componentClass:y,params:m,type:e,popupFromSelector:p,popupPositionFromSelector:f,newAgStackInstance:function(){return r.newAgStackInstance(y,_,m,e)}}}o&&console.error("AG Grid: Could not find component "+c+", did you forget to configure this component?")},e.prototype.getCompKeys=function(t,e,n){var i,o,r,s,a,l,c=this,u=e.propertyName;if(t){var h=t,d=h[u+"Selector"],p=d?d(n):null,f=function(t,e){var n=function(){var t="AG Grid: As of v27, the property "+u+"Framework is deprecated. The property "+u+" can now be used for JavaScript AND Framework Components.";P((function(){return console.warn(t)}),"UserComponentFactory."+u+"FrameworkDeprecated")};if("string"==typeof t)i=t;else if("string"==typeof e)n(),i=e;else if(null!=t&&!0!==t){c.getFrameworkOverrides().isFrameworkComponent(t)?r=t:o=t}else null!=e&&(n(),r=e)};if(p){if(null!=p.frameworkComponent){var g="AG Grid: As of v27, the return for "+u+"Selector has attributes [component, params] only. The attribute frameworkComponent is deprecated. You should now return back Framework Components using the 'component' attribute and the grid works out if it's a framework component or not.";P((function(){return console.warn(g)}),"UserComponentFactory."+u+"FrameworkSelectorDeprecated"),f(p.frameworkComponent,void 0)}else f(p.component,void 0);s=p.params,a=p.popup,l=p.popupPosition}else f(h[u],h[u+"Framework"])}return{compName:i,jsComp:o,fwComp:r,paramsFromSelector:s,popupFromSelector:a,popupPositionFromSelector:l}},e.prototype.newAgStackInstance=function(t,e,n,i){var o,r=i.propertyName;if(!e)o=new t;else{var s=this.componentMetadataProvider.retrieve(r);o=this.frameworkComponentWrapper.wrap(t,s.mandatoryMethodList,s.optionalMethodList,i)}var a=this.initComponent(o,n);return null==a?ro.resolve(o):a.then((function(){return o}))},e.prototype.mergeParamsWithApplicationProvidedParams=function(t,e,n,i){void 0===i&&(i=null);var o={context:this.gridOptionsService.context,columnApi:this.gridOptionsService.columnApi,api:this.gridOptionsService.api};b(o,n);var r=t&&t[e.propertyName+"Params"];"function"==typeof r?b(o,r(n)):"object"==typeof r&&b(o,r);return b(o,i),o},e.prototype.initComponent=function(t,e){if(this.context.createBean(t),null!=t.init)return t.init(e)},e.prototype.getDefaultFloatingFilterType=function(t){if(null==t)return null;var e=null,n=this.getCompKeys(t,ga),i=n.compName,o=n.jsComp,r=n.fwComp;i?e=Sa.getFloatingFilterType(i):null==o&&null==r&&!0===t.filter&&(e=it.isRegistered(J.SetFilterModule)?"agSetColumnFloatingFilter":"agTextColumnFloatingFilter");return e},Oa([K("gridOptions")],e.prototype,"gridOptions",void 0),Oa([K("agComponentUtils")],e.prototype,"agComponentUtils",void 0),Oa([K("componentMetadataProvider")],e.prototype,"componentMetadataProvider",void 0),Oa([K("userComponentRegistry")],e.prototype,"userComponentRegistry",void 0),Oa([Y("frameworkComponentWrapper")],e.prototype,"frameworkComponentWrapper",void 0),e=Oa([z("userComponentFactory")],e)}(jt);!function(t){t[t.SINGLE_SHEET=0]="SINGLE_SHEET",t[t.MULTI_SHEET=1]="MULTI_SHEET"}(Rs||(Rs={}));var Pa,Ta,Ma=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Da=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},Ra=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dragEndFunctions=[],e.dragSources=[],e}return Ma(e,t),e.prototype.removeAllListeners=function(){this.dragSources.forEach(this.removeListener.bind(this)),this.dragSources.length=0},e.prototype.removeListener=function(t){var e=t.dragSource.eElement,n=t.mouseDownListener;if(e.removeEventListener("mousedown",n),t.touchEnabled){var i=t.touchStartListener;e.removeEventListener("touchstart",i,{passive:!0})}},e.prototype.removeDragSource=function(t){var e=this.dragSources.find((function(e){return e.dragSource===t}));e&&(this.removeListener(e),_t(this.dragSources,e))},e.prototype.isDragging=function(){return this.dragging},e.prototype.addDragSource=function(t,e){var n=this;void 0===e&&(e=!1);var i=this.onMouseDown.bind(this,t);t.eElement.addEventListener("mousedown",i);var o=null,r=this.gridOptionsService.is("suppressTouch");e&&!r&&(o=function(e){ii(e.target)||(e.cancelable&&(e.preventDefault(),e.stopPropagation()),n.onTouchStart(t,e))},t.eElement.addEventListener("touchstart",o,{passive:!1})),this.dragSources.push({dragSource:t,mouseDownListener:i,touchStartListener:o,touchEnabled:e})},e.prototype.getStartTarget=function(){return this.startTarget},e.prototype.onTouchStart=function(t,e){var n=this;this.currentDragParams=t,this.dragging=!1;var i=e.touches[0];this.touchLastTime=i,this.touchStart=i;var o=function(e){return n.onTouchUp(e,t.eElement)},r=e.target,s=[{target:this.gridOptionsService.getRootNode(),type:"touchmove",listener:function(t){t.cancelable&&t.preventDefault()},options:{passive:!1}},{target:r,type:"touchmove",listener:function(e){return n.onTouchMove(e,t.eElement)},options:{passive:!0}},{target:r,type:"touchend",listener:o,options:{passive:!0}},{target:r,type:"touchcancel",listener:o,options:{passive:!0}}];this.addTemporaryEvents(s),0===t.dragStartPixels&&this.onCommonMove(i,this.touchStart,t.eElement)},e.prototype.onMouseDown=function(t,e){var n=this,i=e;if(!(t.skipMouseEvent&&t.skipMouseEvent(e)||i._alreadyProcessedByDragService||(i._alreadyProcessedByDragService=!0,0!==e.button))){this.currentDragParams=t,this.dragging=!1,this.mouseStartEvent=e,this.startTarget=e.target;var o=this.gridOptionsService.getRootNode(),r=[{target:o,type:"mousemove",listener:function(e){return n.onMouseMove(e,t.eElement)}},{target:o,type:"mouseup",listener:function(e){return n.onMouseUp(e,t.eElement)}},{target:o,type:"contextmenu",listener:function(t){return t.preventDefault()}}];this.addTemporaryEvents(r),0===t.dragStartPixels&&this.onMouseMove(e,t.eElement)}},e.prototype.addTemporaryEvents=function(t){t.forEach((function(t){var e=t.target,n=t.type,i=t.listener,o=t.options;e.addEventListener(n,i,o)})),this.dragEndFunctions.push((function(){t.forEach((function(t){var e=t.target,n=t.type,i=t.listener,o=t.options;e.removeEventListener(n,i,o)}))}))},e.prototype.isEventNearStartEvent=function(t,e){var n=this.currentDragParams.dragStartPixels;return Xi(t,e,o(n)?n:4)},e.prototype.getFirstActiveTouch=function(t){for(var e=0;e<t.length;e++)if(t[e].identifier===this.touchStart.identifier)return t[e];return null},e.prototype.onCommonMove=function(t,e,n){if(!this.dragging){if(!this.dragging&&this.isEventNearStartEvent(t,e))return;this.dragging=!0;var i={type:zt.EVENT_DRAG_STARTED,target:n};this.eventService.dispatchEvent(i),this.currentDragParams.onDragStart(e),this.currentDragParams.onDragging(e)}this.currentDragParams.onDragging(t)},e.prototype.onTouchMove=function(t,e){var n=this.getFirstActiveTouch(t.touches);n&&this.onCommonMove(n,this.touchStart,e)},e.prototype.onMouseMove=function(t,e){(this.gridOptionsService.is("enableCellTextSelection")||Pn())&&"mousemove"===t.type&&t.cancelable&&this.mouseEventService.isEventFromThisGrid(t)&&!this.isOverFormFieldElement(t)&&t.preventDefault(),this.onCommonMove(t,this.mouseStartEvent,e)},e.prototype.isOverFormFieldElement=function(t){var e=t.target,n=null==e?void 0:e.tagName.toLocaleLowerCase();return!!(null==n?void 0:n.match("^a$|textarea|input|select|button"))},e.prototype.onTouchUp=function(t,e){var n=this.getFirstActiveTouch(t.changedTouches);n||(n=this.touchLastTime),this.onUpCommon(n,e)},e.prototype.onMouseUp=function(t,e){this.onUpCommon(t,e)},e.prototype.onUpCommon=function(t,e){if(this.dragging){this.dragging=!1,this.currentDragParams.onDragStop(t);var n={type:zt.EVENT_DRAG_STOPPED,target:e};this.eventService.dispatchEvent(n)}this.mouseStartEvent=null,this.startTarget=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null,this.dragEndFunctions.forEach((function(t){return t()})),this.dragEndFunctions.length=0},Da([K("mouseEventService")],e.prototype,"mouseEventService",void 0),Da([$],e.prototype,"removeAllListeners",null),e=Da([z("dragService")],e)}(jt);!function(t){t[t.Above=0]="Above",t[t.Below=1]="Below"}(Pa||(Pa={})),function(t){t.EVERYTHING="group",t.FILTER="filter",t.SORT="sort",t.MAP="map",t.AGGREGATE="aggregate",t.FILTER_AGGREGATES="filter_aggregates",t.PIVOT="pivot",t.NOTHING="nothing"}(Ta||(Ta={}));var Aa=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};function La(t){var e=t;return null!=e&&null!=e.getFrameworkComponentInstance?e.getFrameworkComponentInstance():t}var Ia,ka=function(){function t(){this.detailGridInfoMap={},this.destroyCalled=!1}return t.prototype.registerOverlayWrapperComp=function(t){this.overlayWrapperComp=t},t.prototype.registerSideBarComp=function(t){this.sideBarComp=t},t.prototype.init=function(){var t=this;switch(this.rowModel.getType()){case"clientSide":this.clientSideRowModel=this.rowModel;break;case"infinite":this.infiniteRowModel=this.rowModel;break;case"serverSide":this.serverSideRowModel=this.rowModel}this.ctrlsService.whenReady((function(){t.gridBodyCtrl=t.ctrlsService.getGridBodyCtrl()}))},t.prototype.__getAlignedGridService=function(){return this.alignedGridsService},t.prototype.__getContext=function(){return this.context},t.prototype.getSetterMethod=function(t){return"set"+t.charAt(0).toUpperCase()+t.substring(1)},t.prototype.__setProperty=function(t,e){this.gridOptionsService.set(t,e);var n=this.getSetterMethod(t);this[n]&&this[n](e)},t.prototype.addDetailGridInfo=function(t,e){this.detailGridInfoMap[t]=e},t.prototype.removeDetailGridInfo=function(t){this.detailGridInfoMap[t]=void 0},t.prototype.getDetailGridInfo=function(t){return this.detailGridInfoMap[t]},t.prototype.forEachDetailGridInfo=function(t){var e=0;p(this.detailGridInfoMap,(function(n,i){o(i)&&(t(i,e),e++)}))},t.prototype.getDataAsCsv=function(t){if(it.assertRegistered(J.CsvExportModule,"api.getDataAsCsv"))return this.csvCreator.getDataAsCsv(t)},t.prototype.exportDataAsCsv=function(t){it.assertRegistered(J.CsvExportModule,"api.exportDataAsCSv")&&this.csvCreator.exportDataAsCsv(t)},t.prototype.getExcelExportMode=function(t){var e=this.gridOptionsService.get("defaultExcelExportParams");return Object.assign({exportMode:"xlsx"},e,t).exportMode},t.prototype.assertNotExcelMultiSheet=function(t,e){if(!it.assertRegistered(J.ExcelExportModule,"api."+t))return!1;var n=this.getExcelExportMode(e);return this.excelCreator.getFactoryMode(n)!==Rs.MULTI_SHEET||(console.warn("AG Grid: The Excel Exporter is currently on Multi Sheet mode. End that operation by calling 'api.getMultipleSheetAsExcel()' or 'api.exportMultipleSheetsAsExcel()'"),!1)},t.prototype.getDataAsExcel=function(t){if(this.assertNotExcelMultiSheet("getDataAsExcel",t))return this.excelCreator.getDataAsExcel(t)},t.prototype.exportDataAsExcel=function(t){this.assertNotExcelMultiSheet("exportDataAsExcel",t)&&this.excelCreator.exportDataAsExcel(t)},t.prototype.getSheetDataForExcel=function(t){if(it.assertRegistered(J.ExcelExportModule,"api.getSheetDataForExcel")){var e=this.getExcelExportMode(t);return this.excelCreator.setFactoryMode(Rs.MULTI_SHEET,e),this.excelCreator.getSheetDataForExcel(t)}},t.prototype.getMultipleSheetsAsExcel=function(t){if(it.assertRegistered(J.ExcelExportModule,"api.getMultipleSheetsAsExcel"))return this.excelCreator.getMultipleSheetsAsExcel(t)},t.prototype.exportMultipleSheetsAsExcel=function(t){if(it.assertRegistered(J.ExcelExportModule,"api.exportMultipleSheetsAsExcel"))return this.excelCreator.exportMultipleSheetsAsExcel(t)},t.prototype.setGridAriaProperty=function(t,e){if(t){var n=this.ctrlsService.getGridBodyCtrl().getGui(),i="aria-"+t;null===e?n.removeAttribute(i):n.setAttribute(i,e)}},t.prototype.logMissingRowModel=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];console.error("AG Grid: api."+t+" can only be called when gridOptions.rowModelType is "+e.join(" or "))},t.prototype.setServerSideDatasource=function(t){this.serverSideRowModel?this.serverSideRowModel.setDatasource(t):this.logMissingRowModel("setServerSideDatasource","serverSide")},t.prototype.setCacheBlockSize=function(t){this.serverSideRowModel?(this.gridOptionsService.set("cacheBlockSize",t),this.serverSideRowModel.resetRootStore()):this.logMissingRowModel("setCacheBlockSize","serverSide")},t.prototype.setDatasource=function(t){this.gridOptionsService.isRowModelType("infinite")?this.rowModel.setDatasource(t):this.logMissingRowModel("setDatasource","infinite")},t.prototype.setViewportDatasource=function(t){this.gridOptionsService.isRowModelType("viewport")?this.rowModel.setViewportDatasource(t):this.logMissingRowModel("setViewportDatasource","viewport")},t.prototype.setRowData=function(t){null==this.immutableService?this.logMissingRowModel("setRowData","clientSide"):this.immutableService.isActive()?this.immutableService.setRowData(t):(this.selectionService.reset(),this.clientSideRowModel.setRowData(t))},t.prototype.setPinnedTopRowData=function(t){this.pinnedRowModel.setPinnedTopRowData(t)},t.prototype.setPinnedBottomRowData=function(t){this.pinnedRowModel.setPinnedBottomRowData(t)},t.prototype.getPinnedTopRowCount=function(){return this.pinnedRowModel.getPinnedTopRowCount()},t.prototype.getPinnedBottomRowCount=function(){return this.pinnedRowModel.getPinnedBottomRowCount()},t.prototype.getPinnedTopRow=function(t){return this.pinnedRowModel.getPinnedTopRow(t)},t.prototype.getPinnedBottomRow=function(t){return this.pinnedRowModel.getPinnedBottomRow(t)},t.prototype.setColumnDefs=function(t,e){void 0===e&&(e="api"),this.columnModel.setColumnDefs(t,e),this.gridOptionsService.set("columnDefs",t,!0,{source:e})},t.prototype.setAutoGroupColumnDef=function(t,e){void 0===e&&(e="api"),this.gridOptionsService.set("autoGroupColumnDef",t,!0,{source:e})},t.prototype.setDefaultColDef=function(t,e){void 0===e&&(e="api"),this.gridOptionsService.set("defaultColDef",t,!0,{source:e})},t.prototype.setColumnTypes=function(t,e){void 0===e&&(e="api"),this.gridOptionsService.set("columnTypes",t,!0,{source:e})},t.prototype.expireValueCache=function(){this.valueCache.expire()},t.prototype.getVerticalPixelRange=function(){return this.gridBodyCtrl.getScrollFeature().getVScrollPosition()},t.prototype.getHorizontalPixelRange=function(){return this.gridBodyCtrl.getScrollFeature().getHScrollPosition()},t.prototype.setAlwaysShowHorizontalScroll=function(t){this.gridOptionsService.set("alwaysShowHorizontalScroll",t)},t.prototype.setAlwaysShowVerticalScroll=function(t){this.gridOptionsService.set("alwaysShowVerticalScroll",t)},t.prototype.refreshCells=function(t){void 0===t&&(t={}),this.rowRenderer.refreshCells(t)},t.prototype.flashCells=function(t){void 0===t&&(t={}),this.rowRenderer.flashCells(t)},t.prototype.redrawRows=function(t){void 0===t&&(t={});var e=t?t.rowNodes:void 0;this.rowRenderer.redrawRows(e)},t.prototype.setFunctionsReadOnly=function(t){this.gridOptionsService.set("functionsReadOnly",t)},t.prototype.refreshHeader=function(){this.ctrlsService.getHeaderRowContainerCtrls().forEach((function(t){return t.refresh()}))},t.prototype.isAnyFilterPresent=function(){return this.filterManager.isAnyFilterPresent()},t.prototype.isColumnFilterPresent=function(){return this.filterManager.isColumnFilterPresent()||this.filterManager.isAggregateFilterPresent()},t.prototype.isQuickFilterPresent=function(){return this.filterManager.isQuickFilterPresent()},t.prototype.getModel=function(){return this.rowModel},t.prototype.setRowNodeExpanded=function(t,e,n){t&&(n&&t.parent&&-1!==t.parent.level&&this.setRowNodeExpanded(t.parent,e,n),t.setExpanded(e))},t.prototype.onGroupExpandedOrCollapsed=function(){r(this.clientSideRowModel)?this.logMissingRowModel("onGroupExpandedOrCollapsed","clientSide"):this.clientSideRowModel.refreshModel({step:Ta.MAP})},t.prototype.refreshClientSideRowModel=function(t){r(this.clientSideRowModel)?this.logMissingRowModel("refreshClientSideRowModel","clientSide"):this.clientSideRowModel.refreshModel(t)},t.prototype.isAnimationFrameQueueEmpty=function(){return this.animationFrameService.isQueueEmpty()},t.prototype.flushAllAnimationFrames=function(){this.animationFrameService.flushAllFrames()},t.prototype.getRowNode=function(t){return this.rowModel.getRowNode(t)},t.prototype.getSizesForCurrentTheme=function(){return{rowHeight:this.gridOptionsService.getRowHeightAsNumber(),headerHeight:this.columnModel.getHeaderHeight()}},t.prototype.expandAll=function(){this.clientSideRowModel?this.clientSideRowModel.expandOrCollapseAll(!0):this.serverSideRowModel?this.serverSideRowModel.expandAll(!0):this.logMissingRowModel("expandAll","clientSide","serverSide")},t.prototype.collapseAll=function(){this.clientSideRowModel?this.clientSideRowModel.expandOrCollapseAll(!1):this.serverSideRowModel?this.serverSideRowModel.expandAll(!1):this.logMissingRowModel("expandAll","clientSide","serverSide")},t.prototype.addRenderedRowListener=function(t,e,n){this.rowRenderer.addRenderedRowListener(t,e,n)},t.prototype.getQuickFilter=function(){return this.gridOptionsService.get("quickFilterText")},t.prototype.setQuickFilter=function(t){this.gridOptionsService.set("quickFilterText",t)},t.prototype.setExcludeHiddenColumnsFromQuickFilter=function(t){this.gridOptionsService.set("excludeHiddenColumnsFromQuickFilter",t)},t.prototype.selectAll=function(t){void 0===t&&(t="apiSelectAll"),this.selectionService.selectAllRowNodes({source:t})},t.prototype.deselectAll=function(t){void 0===t&&(t="apiSelectAll"),this.selectionService.deselectAllRowNodes({source:t})},t.prototype.selectAllFiltered=function(t){void 0===t&&(t="apiSelectAllFiltered"),this.selectionService.selectAllRowNodes({source:t,justFiltered:!0})},t.prototype.deselectAllFiltered=function(t){void 0===t&&(t="apiSelectAllFiltered"),this.selectionService.deselectAllRowNodes({source:t,justFiltered:!0})},t.prototype.getServerSideSelectionState=function(){return r(this.serverSideRowModel)?(this.logMissingRowModel("getServerSideSelectionState","serverSide"),null):this.selectionService.getServerSideSelectionState()},t.prototype.setServerSideSelectionState=function(t){r(this.serverSideRowModel)?this.logMissingRowModel("setServerSideSelectionState","serverSide"):this.selectionService.setServerSideSelectionState(t)},t.prototype.selectAllOnCurrentPage=function(t){void 0===t&&(t="apiSelectAllCurrentPage"),this.selectionService.selectAllRowNodes({source:t,justCurrentPage:!0})},t.prototype.deselectAllOnCurrentPage=function(t){void 0===t&&(t="apiSelectAllCurrentPage"),this.selectionService.deselectAllRowNodes({source:t,justCurrentPage:!0})},t.prototype.sizeColumnsToFit=function(t){this.gridBodyCtrl.sizeColumnsToFit(t)},t.prototype.showLoadingOverlay=function(){this.overlayWrapperComp.showLoadingOverlay()},t.prototype.showNoRowsOverlay=function(){this.overlayWrapperComp.showNoRowsOverlay()},t.prototype.hideOverlay=function(){this.overlayWrapperComp.hideOverlay()},t.prototype.getSelectedNodes=function(){return this.selectionService.getSelectedNodes()},t.prototype.getSelectedRows=function(){return this.selectionService.getSelectedRows()},t.prototype.getBestCostNodeSelection=function(){if(!r(this.clientSideRowModel))return this.selectionService.getBestCostNodeSelection();this.logMissingRowModel("getBestCostNodeSelection","clientSide")},t.prototype.getRenderedNodes=function(){return this.rowRenderer.getRenderedNodes()},t.prototype.ensureColumnVisible=function(t,e){void 0===e&&(e="auto"),this.gridBodyCtrl.getScrollFeature().ensureColumnVisible(t,e)},t.prototype.ensureIndexVisible=function(t,e){this.gridBodyCtrl.getScrollFeature().ensureIndexVisible(t,e)},t.prototype.ensureNodeVisible=function(t,e){void 0===e&&(e=null),this.gridBodyCtrl.getScrollFeature().ensureNodeVisible(t,e)},t.prototype.forEachLeafNode=function(t){r(this.clientSideRowModel)?this.logMissingRowModel("forEachLeafNode","clientSide"):this.clientSideRowModel.forEachLeafNode(t)},t.prototype.forEachNode=function(t,e){this.rowModel.forEachNode(t,e)},t.prototype.forEachNodeAfterFilter=function(t){r(this.clientSideRowModel)?this.logMissingRowModel("forEachNodeAfterFilter","clientSide"):this.clientSideRowModel.forEachNodeAfterFilter(t)},t.prototype.forEachNodeAfterFilterAndSort=function(t){r(this.clientSideRowModel)?this.logMissingRowModel("forEachNodeAfterFilterAndSort","clientSide"):this.clientSideRowModel.forEachNodeAfterFilterAndSort(t)},t.prototype.getFilterInstance=function(t,e){var n=this.getFilterInstanceImpl(t,(function(t){if(e){var n=La(t);e(n)}}));return La(n)},t.prototype.getFilterInstanceImpl=function(t,e){var n=this.columnModel.getPrimaryColumn(t);if(n){var i=this.filterManager.getFilterComponent(n,"NO_UI"),o=i&&i.resolveNow(null,(function(t){return t}));return o?setTimeout(e,0,o):i&&i.then((function(t){e(t)})),o}},t.prototype.destroyFilter=function(t){var e=this.columnModel.getPrimaryColumn(t);if(e)return this.filterManager.destroyFilter(e,"api")},t.prototype.getStatusPanel=function(t){if(it.assertRegistered(J.StatusBarModule,"api.getStatusPanel"))return La(this.statusBarService.getStatusPanel(t))},t.prototype.getColumnDef=function(t){var e=this.columnModel.getPrimaryColumn(t);return e?e.getColDef():null},t.prototype.getColumnDefs=function(){return this.columnModel.getColumnDefs()},t.prototype.onFilterChanged=function(){this.filterManager.onFilterChanged()},t.prototype.onSortChanged=function(){this.sortController.onSortChanged("api")},t.prototype.setFilterModel=function(t){this.filterManager.setFilterModel(t)},t.prototype.getFilterModel=function(){return this.filterManager.getFilterModel()},t.prototype.getFocusedCell=function(){return this.focusService.getFocusedCell()},t.prototype.clearFocusedCell=function(){return this.focusService.clearFocusedCell()},t.prototype.setFocusedCell=function(t,e,n){this.focusService.setFocusedCell({rowIndex:t,column:e,rowPinned:n,forceBrowserFocus:!0})},t.prototype.setSuppressRowDrag=function(t){this.gridOptionsService.set("suppressRowDrag",t)},t.prototype.setSuppressMoveWhenRowDragging=function(t){this.gridOptionsService.set("suppressMoveWhenRowDragging",t)},t.prototype.setSuppressRowClickSelection=function(t){this.gridOptionsService.set("suppressRowClickSelection",t)},t.prototype.addRowDropZone=function(t){this.gridBodyCtrl.getRowDragFeature().addRowDropZone(t)},t.prototype.removeRowDropZone=function(t){var e=this.dragAndDropService.findExternalZone(t);e&&this.dragAndDropService.removeDropTarget(e)},t.prototype.getRowDropZoneParams=function(t){return this.gridBodyCtrl.getRowDragFeature().getRowDropZone(t)},t.prototype.setHeaderHeight=function(t){this.gridOptionsService.set("headerHeight",t)},t.prototype.setDomLayout=function(t){this.clientSideRowModel||"autoHeight"!==t||this.gridOptionsService.is("pagination")?this.gridOptionsService.set("domLayout",t):console.error("AG Grid: domLayout can only be set to 'autoHeight' when using the client side row model or when using pagination.")},t.prototype.setEnableCellTextSelection=function(t){this.gridBodyCtrl.setCellTextSelection(t)},t.prototype.setFillHandleDirection=function(t){this.gridOptionsService.set("fillHandleDirection",t)},t.prototype.setGroupHeaderHeight=function(t){this.gridOptionsService.set("groupHeaderHeight",t)},t.prototype.setFloatingFiltersHeight=function(t){this.gridOptionsService.set("floatingFiltersHeight",t)},t.prototype.setPivotHeaderHeight=function(t){this.gridOptionsService.set("pivotHeaderHeight",t)},t.prototype.setPivotGroupHeaderHeight=function(t){this.gridOptionsService.set("pivotGroupHeaderHeight",t)},t.prototype.setPivotMode=function(t){this.columnModel.setPivotMode(t)},t.prototype.setAnimateRows=function(t){this.gridOptionsService.set("animateRows",t)},t.prototype.setIsExternalFilterPresent=function(t){this.gridOptionsService.set("isExternalFilterPresent",t)},t.prototype.setDoesExternalFilterPass=function(t){this.gridOptionsService.set("doesExternalFilterPass",t)},t.prototype.setNavigateToNextCell=function(t){this.gridOptionsService.set("navigateToNextCell",t)},t.prototype.setTabToNextCell=function(t){this.gridOptionsService.set("tabToNextCell",t)},t.prototype.setTabToNextHeader=function(t){this.gridOptionsService.set("tabToNextHeader",t)},t.prototype.setNavigateToNextHeader=function(t){this.gridOptionsService.set("navigateToNextHeader",t)},t.prototype.setRowGroupPanelShow=function(t){this.gridOptionsService.set("rowGroupPanelShow",t)},t.prototype.setGroupRowAggNodes=function(t){ae("27.2","setGroupRowAggNodes","setGetGroupRowAgg"),this.gridOptionsService.set("groupRowAggNodes",t)},t.prototype.setGetGroupRowAgg=function(t){this.gridOptionsService.set("getGroupRowAgg",t)},t.prototype.setGetBusinessKeyForNode=function(t){this.gridOptionsService.set("getBusinessKeyForNode",t)},t.prototype.setGetChildCount=function(t){this.gridOptionsService.set("getChildCount",t)},t.prototype.setProcessRowPostCreate=function(t){this.gridOptionsService.set("processRowPostCreate",t)},t.prototype.setGetRowNodeId=function(t){ae("27.1","setGetRowNodeId","setGetRowId"),this.gridOptionsService.set("getRowNodeId",t)},t.prototype.setGetRowId=function(t){this.gridOptionsService.set("getRowId",t)},t.prototype.setGetRowClass=function(t){this.gridOptionsService.set("getRowClass",t)},t.prototype.setIsFullWidthCell=function(t){ae("27.2","setIsFullWidthCell","setIsFullWidthRow"),this.gridOptionsService.set("isFullWidthCell",t)},t.prototype.setIsFullWidthRow=function(t){this.gridOptionsService.set("isFullWidthRow",t)},t.prototype.setIsRowSelectable=function(t){this.gridOptionsService.set("isRowSelectable",t)},t.prototype.setIsRowMaster=function(t){this.gridOptionsService.set("isRowMaster",t)},t.prototype.setPostSort=function(t){ae("27.2","setPostSort","setPostSortRows"),this.gridOptionsService.set("postSort",t)},t.prototype.setPostSortRows=function(t){this.gridOptionsService.set("postSortRows",t)},t.prototype.setGetDocument=function(t){this.gridOptionsService.set("getDocument",t)},t.prototype.setGetContextMenuItems=function(t){this.gridOptionsService.set("getContextMenuItems",t)},t.prototype.setGetMainMenuItems=function(t){this.gridOptionsService.set("getMainMenuItems",t)},t.prototype.setProcessCellForClipboard=function(t){this.gridOptionsService.set("processCellForClipboard",t)},t.prototype.setSendToClipboard=function(t){this.gridOptionsService.set("sendToClipboard",t)},t.prototype.setProcessCellFromClipboard=function(t){this.gridOptionsService.set("processCellFromClipboard",t)},t.prototype.setProcessSecondaryColDef=function(t){ae("28.0","setProcessSecondaryColDef","setProcessPivotResultColDef"),this.setProcessPivotResultColDef(t)},t.prototype.setProcessSecondaryColGroupDef=function(t){ae("28.0","setProcessSecondaryColGroupDef","setProcessPivotResultColGroupDef"),this.setProcessPivotResultColGroupDef(t)},t.prototype.setProcessPivotResultColDef=function(t){this.gridOptionsService.set("processPivotResultColDef",t)},t.prototype.setProcessPivotResultColGroupDef=function(t){this.gridOptionsService.set("processPivotResultColGroupDef",t)},t.prototype.setPostProcessPopup=function(t){this.gridOptionsService.set("postProcessPopup",t)},t.prototype.setDefaultGroupOrderComparator=function(t){ae("27.2","setDefaultGroupOrderComparator","setInitialGroupOrderComparator"),this.gridOptionsService.set("defaultGroupOrderComparator",t)},t.prototype.setInitialGroupOrderComparator=function(t){this.gridOptionsService.set("initialGroupOrderComparator",t)},t.prototype.setGetChartToolbarItems=function(t){this.gridOptionsService.set("getChartToolbarItems",t)},t.prototype.setPaginationNumberFormatter=function(t){this.gridOptionsService.set("paginationNumberFormatter",t)},t.prototype.setGetServerSideStoreParams=function(t){ae("28.0","setGetServerSideStoreParams","setGetServerSideGroupLevelParams"),this.setGetServerSideGroupLevelParams(t)},t.prototype.setGetServerSideGroupLevelParams=function(t){this.gridOptionsService.set("getServerSideGroupLevelParams",t)},t.prototype.setIsServerSideGroupOpenByDefault=function(t){this.gridOptionsService.set("isServerSideGroupOpenByDefault",t)},t.prototype.setIsApplyServerSideTransaction=function(t){this.gridOptionsService.set("isApplyServerSideTransaction",t)},t.prototype.setIsServerSideGroup=function(t){this.gridOptionsService.set("isServerSideGroup",t)},t.prototype.setGetServerSideGroupKey=function(t){this.gridOptionsService.set("getServerSideGroupKey",t)},t.prototype.setGetRowStyle=function(t){this.gridOptionsService.set("getRowStyle",t)},t.prototype.setGetRowHeight=function(t){this.gridOptionsService.set("getRowHeight",t)},t.prototype.assertSideBarLoaded=function(t){return it.assertRegistered(J.SideBarModule,"api."+t)},t.prototype.isSideBarVisible=function(){return this.assertSideBarLoaded("isSideBarVisible")&&this.sideBarComp.isDisplayed()},t.prototype.setSideBarVisible=function(t){this.assertSideBarLoaded("setSideBarVisible")&&this.sideBarComp.setDisplayed(t)},t.prototype.setSideBarPosition=function(t){this.assertSideBarLoaded("setSideBarPosition")&&this.sideBarComp.setSideBarPosition(t)},t.prototype.openToolPanel=function(t){this.assertSideBarLoaded("openToolPanel")&&this.sideBarComp.openToolPanel(t,"api")},t.prototype.closeToolPanel=function(){this.assertSideBarLoaded("closeToolPanel")&&this.sideBarComp.close("api")},t.prototype.getOpenedToolPanel=function(){return this.assertSideBarLoaded("getOpenedToolPanel")?this.sideBarComp.openedItem():null},t.prototype.refreshToolPanel=function(){this.assertSideBarLoaded("refreshToolPanel")&&this.sideBarComp.refresh()},t.prototype.isToolPanelShowing=function(){return this.assertSideBarLoaded("isToolPanelShowing")&&this.sideBarComp.isToolPanelShowing()},t.prototype.getToolPanelInstance=function(t){if(this.assertSideBarLoaded("getToolPanelInstance"))return La(this.sideBarComp.getToolPanelInstance(t))},t.prototype.getSideBar=function(){if(this.assertSideBarLoaded("getSideBar"))return this.sideBarComp.getDef()},t.prototype.setSideBar=function(t){this.gridOptionsService.set("sideBar",t)},t.prototype.setSuppressClipboardPaste=function(t){this.gridOptionsService.set("suppressClipboardPaste",t)},t.prototype.resetRowHeights=function(){if(o(this.clientSideRowModel)){if(this.columnModel.isAutoRowHeightActive())return void console.warn("AG Grid: calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.");this.clientSideRowModel.resetRowHeights()}},t.prototype.setGroupRemoveSingleChildren=function(t){this.gridOptionsService.set("groupRemoveSingleChildren",t)},t.prototype.setGroupRemoveLowestSingleChildren=function(t){this.gridOptionsService.set("groupRemoveLowestSingleChildren",t)},t.prototype.setGroupDisplayType=function(t){this.gridOptionsService.set("groupDisplayType",t)},t.prototype.setRowClass=function(t){this.gridOptionsService.set("rowClass",t)},t.prototype.setDeltaSort=function(t){this.gridOptionsService.set("deltaSort",t)},t.prototype.setRowCount=function(t,e){if(this.serverSideRowModel)return this.columnModel.isRowGroupEmpty()?void this.serverSideRowModel.setRowCount(t,e):void console.error("AG Grid: setRowCount cannot be used while using row grouping.");this.infiniteRowModel?this.infiniteRowModel.setRowCount(t,e):this.logMissingRowModel("setRowCount","infinite","serverSide")},t.prototype.onRowHeightChanged=function(){this.clientSideRowModel?this.clientSideRowModel.onRowHeightChanged():this.serverSideRowModel&&this.serverSideRowModel.onRowHeightChanged()},t.prototype.getValue=function(t,e){var n=this.columnModel.getPrimaryColumn(t);return r(n)&&(n=this.columnModel.getGridColumn(t)),r(n)?null:this.valueService.getValue(n,e)},t.prototype.addEventListener=function(t,e){var n=this.gridOptionsService.useAsyncEvents();this.eventService.addEventListener(t,e,n)},t.prototype.addGlobalListener=function(t){var e=this.gridOptionsService.useAsyncEvents();this.eventService.addGlobalListener(t,e)},t.prototype.removeEventListener=function(t,e){var n=this.gridOptionsService.useAsyncEvents();this.eventService.removeEventListener(t,e,n)},t.prototype.removeGlobalListener=function(t){var e=this.gridOptionsService.useAsyncEvents();this.eventService.removeGlobalListener(t,e)},t.prototype.dispatchEvent=function(t){this.eventService.dispatchEvent(t)},t.prototype.destroy=function(){if(!this.destroyCalled){this.destroyCalled=!0;var t=this.ctrlsService.getGridCtrl();t&&t.destroyGridUi(),this.context.destroy()}},t.prototype.cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid=function(){setTimeout(S.bind(window,this,"Grid API"),100)},t.prototype.warnIfDestroyed=function(t){return this.destroyCalled&&console.warn("AG Grid: Grid API method "+t+" was called on a grid that was destroyed."),this.destroyCalled},t.prototype.resetQuickFilter=function(){this.warnIfDestroyed("resetQuickFilter")||this.filterManager.resetQuickFilterCache()},t.prototype.getCellRanges=function(){return this.rangeService?this.rangeService.getCellRanges():(it.assertRegistered(J.RangeSelectionModule,"api.getCellRanges"),null)},t.prototype.addCellRange=function(t){this.rangeService?this.rangeService.addCellRange(t):it.assertRegistered(J.RangeSelectionModule,"api.addCellRange")},t.prototype.clearRangeSelection=function(){this.rangeService&&this.rangeService.removeAllCellRanges(),it.assertRegistered(J.RangeSelectionModule,"gridApi.clearRangeSelection")},t.prototype.undoCellEditing=function(){this.undoRedoService.undo("api")},t.prototype.redoCellEditing=function(){this.undoRedoService.redo("api")},t.prototype.getCurrentUndoSize=function(){return this.undoRedoService.getCurrentUndoStackSize()},t.prototype.getCurrentRedoSize=function(){return this.undoRedoService.getCurrentRedoStackSize()},t.prototype.getChartModels=function(){if(it.assertRegistered(J.GridChartsModule,"api.getChartModels"))return this.chartService.getChartModels()},t.prototype.getChartRef=function(t){if(it.assertRegistered(J.GridChartsModule,"api.getChartRef"))return this.chartService.getChartRef(t)},t.prototype.getChartImageDataURL=function(t){if(it.assertRegistered(J.GridChartsModule,"api.getChartImageDataURL"))return this.chartService.getChartImageDataURL(t)},t.prototype.downloadChart=function(t){if(it.assertRegistered(J.GridChartsModule,"api.downloadChart"))return this.chartService.downloadChart(t)},t.prototype.openChartToolPanel=function(t){if(it.assertRegistered(J.GridChartsModule,"api.openChartToolPanel"))return this.chartService.openChartToolPanel(t)},t.prototype.closeChartToolPanel=function(t){if(it.assertRegistered(J.GridChartsModule,"api.closeChartToolPanel"))return this.chartService.closeChartToolPanel(t.chartId)},t.prototype.createRangeChart=function(t){if(it.assertRegistered(J.GridChartsModule,"api.createRangeChart"))return this.chartService.createRangeChart(t)},t.prototype.createCrossFilterChart=function(t){if(it.assertRegistered(J.GridChartsModule,"api.createCrossFilterChart"))return this.chartService.createCrossFilterChart(t)},t.prototype.restoreChart=function(t,e){if(it.assertRegistered(J.GridChartsModule,"api.restoreChart"))return this.chartService.restoreChart(t,e)},t.prototype.createPivotChart=function(t){if(it.assertRegistered(J.GridChartsModule,"api.createPivotChart"))return this.chartService.createPivotChart(t)},t.prototype.copyToClipboard=function(t){it.assertRegistered(J.ClipboardModule,"api.copyToClipboard")&&this.clipboardService.copyToClipboard(t)},t.prototype.cutToClipboard=function(t){it.assertRegistered(J.ClipboardModule,"api.cutToClipboard")&&this.clipboardService.cutToClipboard(t)},t.prototype.copySelectedRowsToClipboard=function(t){it.assertRegistered(J.ClipboardModule,"api.copySelectedRowsToClipboard")&&this.clipboardService.copySelectedRowsToClipboard(t)},t.prototype.copySelectedRangeToClipboard=function(t){it.assertRegistered(J.ClipboardModule,"api.copySelectedRangeToClipboard")&&this.clipboardService.copySelectedRangeToClipboard(t)},t.prototype.copySelectedRangeDown=function(){it.assertRegistered(J.ClipboardModule,"api.copySelectedRangeDown")&&this.clipboardService.copyRangeDown()},t.prototype.showColumnMenuAfterButtonClick=function(t,e){var n=this.columnModel.getGridColumn(t);this.menuFactory.showMenuAfterButtonClick(n,e,"columnMenu")},t.prototype.showColumnMenuAfterMouseClick=function(t,e){var n=this.columnModel.getGridColumn(t);n||(n=this.columnModel.getPrimaryColumn(t)),n?this.menuFactory.showMenuAfterMouseEvent(n,e):console.error("AG Grid: column '"+t+"' not found")},t.prototype.hidePopupMenu=function(){this.contextMenuFactory&&this.contextMenuFactory.hideActiveMenu(),this.menuFactory.hideActiveMenu()},t.prototype.setPopupParent=function(t){this.gridOptionsService.set("popupParent",t)},t.prototype.tabToNextCell=function(t){return this.navigationService.tabToNextCell(!1,t)},t.prototype.tabToPreviousCell=function(t){return this.navigationService.tabToNextCell(!0,t)},t.prototype.getCellRendererInstances=function(t){return void 0===t&&(t={}),this.rowRenderer.getCellRendererInstances(t).map(La)},t.prototype.getCellEditorInstances=function(t){return void 0===t&&(t={}),this.rowRenderer.getCellEditorInstances(t).map(La)},t.prototype.getEditingCells=function(){return this.rowRenderer.getEditingCells()},t.prototype.stopEditing=function(t){void 0===t&&(t=!1),this.rowRenderer.stopEditing(t)},t.prototype.startEditingCell=function(t){var e=this.columnModel.getGridColumn(t.colKey);if(e){var n={rowIndex:t.rowIndex,rowPinned:t.rowPinned||null,column:e};null==t.rowPinned&&this.gridBodyCtrl.getScrollFeature().ensureIndexVisible(t.rowIndex);var i=this.navigationService.getCellByPosition(n);i&&i.startRowOrCellEdit(t.key,t.charPress)}else console.warn("AG Grid: no column found for "+t.colKey)},t.prototype.addAggFunc=function(t,e){this.aggFuncService&&this.aggFuncService.addAggFunc(t,e)},t.prototype.addAggFuncs=function(t){this.aggFuncService&&this.aggFuncService.addAggFuncs(t)},t.prototype.clearAggFuncs=function(){this.aggFuncService&&this.aggFuncService.clear()},t.prototype.applyServerSideTransaction=function(t){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.applyTransaction(t);this.logMissingRowModel("applyServerSideTransaction","serverSide")},t.prototype.applyServerSideTransactionAsync=function(t,e){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.applyTransactionAsync(t,e);this.logMissingRowModel("applyServerSideTransactionAsync","serverSide")},t.prototype.retryServerSideLoads=function(){this.serverSideRowModel?this.serverSideRowModel.retryLoads():this.logMissingRowModel("retryServerSideLoads","serverSide")},t.prototype.flushServerSideAsyncTransactions=function(){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.flushAsyncTransactions();this.logMissingRowModel("flushServerSideAsyncTransactions","serverSide")},t.prototype.applyTransaction=function(t){if(this.clientSideRowModel){var e=this.clientSideRowModel.updateRowData(t);return this.gridOptionsService.is("suppressChangeDetection")||this.rowRenderer.refreshCells(),e}this.logMissingRowModel("applyTransaction","clientSide")},t.prototype.applyTransactionAsync=function(t,e){this.clientSideRowModel?this.clientSideRowModel.batchUpdateRowData(t,e):this.logMissingRowModel("applyTransactionAsync","clientSide")},t.prototype.flushAsyncTransactions=function(){this.clientSideRowModel?this.clientSideRowModel.flushAsyncTransactions():this.logMissingRowModel("flushAsyncTransactions","clientSide")},t.prototype.setSuppressModelUpdateAfterUpdateTransaction=function(t){this.gridOptionsService.set("suppressModelUpdateAfterUpdateTransaction",t)},t.prototype.refreshInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.refreshCache():this.logMissingRowModel("refreshInfiniteCache","infinite")},t.prototype.purgeInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.purgeCache():this.logMissingRowModel("purgeInfiniteCache","infinite")},t.prototype.refreshServerSide=function(t){this.serverSideRowModel?this.serverSideRowModel.refreshStore(t):this.logMissingRowModel("refreshServerSide","serverSide")},t.prototype.refreshServerSideStore=function(t){return ae("28.0","refreshServerSideStore","refreshServerSide"),this.refreshServerSide(t)},t.prototype.getServerSideStoreState=function(){return ae("28.0","getServerSideStoreState","getServerSideGroupLevelState"),this.getServerSideGroupLevelState()},t.prototype.getServerSideGroupLevelState=function(){return this.serverSideRowModel?this.serverSideRowModel.getStoreState():(this.logMissingRowModel("getServerSideGroupLevelState","serverSide"),[])},t.prototype.getInfiniteRowCount=function(){if(this.infiniteRowModel)return this.infiniteRowModel.getRowCount();this.logMissingRowModel("getInfiniteRowCount","infinite")},t.prototype.isLastRowIndexKnown=function(){if(this.infiniteRowModel)return this.infiniteRowModel.isLastRowIndexKnown();this.logMissingRowModel("isLastRowIndexKnown","infinite")},t.prototype.getCacheBlockState=function(){return this.rowNodeBlockLoader.getBlockState()},t.prototype.getFirstDisplayedRow=function(){return this.rowRenderer.getFirstVirtualRenderedRow()},t.prototype.getLastDisplayedRow=function(){return this.rowRenderer.getLastVirtualRenderedRow()},t.prototype.getDisplayedRowAtIndex=function(t){return this.rowModel.getRow(t)},t.prototype.getDisplayedRowCount=function(){return this.rowModel.getRowCount()},t.prototype.setPagination=function(t){this.clientSideRowModel||"autoHeight"!==this.gridOptionsService.get("domLayout")||t?this.gridOptionsService.set("pagination",t):console.error("AG Grid: Pagination cannot be disabled when using domLayout set to 'autoHeight' unless using the client-side row model.")},t.prototype.paginationIsLastPageFound=function(){return this.paginationProxy.isLastPageFound()},t.prototype.paginationGetPageSize=function(){return this.paginationProxy.getPageSize()},t.prototype.paginationSetPageSize=function(t){this.gridOptionsService.set("paginationPageSize",t)},t.prototype.paginationGetCurrentPage=function(){return this.paginationProxy.getCurrentPage()},t.prototype.paginationGetTotalPages=function(){return this.paginationProxy.getTotalPages()},t.prototype.paginationGetRowCount=function(){return this.paginationProxy.getMasterRowCount()},t.prototype.paginationGoToNextPage=function(){this.paginationProxy.goToNextPage()},t.prototype.paginationGoToPreviousPage=function(){this.paginationProxy.goToPreviousPage()},t.prototype.paginationGoToFirstPage=function(){this.paginationProxy.goToFirstPage()},t.prototype.paginationGoToLastPage=function(){this.paginationProxy.goToLastPage()},t.prototype.paginationGoToPage=function(t){this.paginationProxy.goToPage(t)},Aa([Y("immutableService")],t.prototype,"immutableService",void 0),Aa([Y("csvCreator")],t.prototype,"csvCreator",void 0),Aa([Y("excelCreator")],t.prototype,"excelCreator",void 0),Aa([K("rowRenderer")],t.prototype,"rowRenderer",void 0),Aa([K("navigationService")],t.prototype,"navigationService",void 0),Aa([K("filterManager")],t.prototype,"filterManager",void 0),Aa([K("columnModel")],t.prototype,"columnModel",void 0),Aa([K("selectionService")],t.prototype,"selectionService",void 0),Aa([K("gridOptionsService")],t.prototype,"gridOptionsService",void 0),Aa([K("valueService")],t.prototype,"valueService",void 0),Aa([K("alignedGridsService")],t.prototype,"alignedGridsService",void 0),Aa([K("eventService")],t.prototype,"eventService",void 0),Aa([K("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),Aa([K("context")],t.prototype,"context",void 0),Aa([K("rowModel")],t.prototype,"rowModel",void 0),Aa([K("sortController")],t.prototype,"sortController",void 0),Aa([K("paginationProxy")],t.prototype,"paginationProxy",void 0),Aa([K("focusService")],t.prototype,"focusService",void 0),Aa([K("dragAndDropService")],t.prototype,"dragAndDropService",void 0),Aa([Y("rangeService")],t.prototype,"rangeService",void 0),Aa([Y("clipboardService")],t.prototype,"clipboardService",void 0),Aa([Y("aggFuncService")],t.prototype,"aggFuncService",void 0),Aa([K("menuFactory")],t.prototype,"menuFactory",void 0),Aa([Y("contextMenuFactory")],t.prototype,"contextMenuFactory",void 0),Aa([K("valueCache")],t.prototype,"valueCache",void 0),Aa([K("animationFrameService")],t.prototype,"animationFrameService",void 0),Aa([Y("statusBarService")],t.prototype,"statusBarService",void 0),Aa([Y("chartService")],t.prototype,"chartService",void 0),Aa([Y("undoRedoService")],t.prototype,"undoRedoService",void 0),Aa([Y("rowNodeBlockLoader")],t.prototype,"rowNodeBlockLoader",void 0),Aa([Y("ssrmTransactionManager")],t.prototype,"serverSideTransactionManager",void 0),Aa([K("ctrlsService")],t.prototype,"ctrlsService",void 0),Aa([H],t.prototype,"init",null),Aa([$],t.prototype,"cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid",null),t=Aa([z("gridApi")],t)}(),Na=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Fa=function(){return Fa=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Fa.apply(this,arguments)},Ga=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},Ba=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.allColumnFilters=new Map,e.activeAggregateFilters=[],e.activeColumnFilters=[],e.quickFilter=null,e.quickFilterParts=null,e.processingFilterChange=!1,e}var n;return Na(e,t),n=e,e.prototype.init=function(){var t=this;this.addManagedListener(this.eventService,zt.EVENT_GRID_COLUMNS_CHANGED,(function(){return t.onColumnsChanged()})),this.addManagedListener(this.eventService,zt.EVENT_COLUMN_VALUE_CHANGED,(function(){return t.refreshFiltersForAggregations()})),this.addManagedListener(this.eventService,zt.EVENT_COLUMN_PIVOT_CHANGED,(function(){return t.refreshFiltersForAggregations()})),this.addManagedListener(this.eventService,zt.EVENT_COLUMN_PIVOT_MODE_CHANGED,(function(){t.refreshFiltersForAggregations(),t.resetQuickFilterCache()})),this.addManagedListener(this.eventService,zt.EVENT_NEW_COLUMNS_LOADED,(function(){return t.resetQuickFilterCache()})),this.addManagedListener(this.eventService,zt.EVENT_COLUMN_ROW_GROUP_CHANGED,(function(){return t.resetQuickFilterCache()})),this.addManagedListener(this.eventService,zt.EVENT_COLUMN_VISIBLE,(function(){t.gridOptionsService.is("excludeHiddenColumnsFromQuickFilter")&&t.resetQuickFilterCache()})),this.addManagedPropertyListener("quickFilterText",(function(e){return t.setQuickFilter(e.currentValue)})),this.addManagedPropertyListener("excludeHiddenColumnsFromQuickFilter",(function(){return t.onExcludeHiddenColumnsFromQuickFilterChanged()})),this.quickFilter=this.parseQuickFilter(this.gridOptionsService.get("quickFilterText")),this.setQuickFilterParts(),this.allowShowChangeAfterFilter=this.gridOptionsService.is("allowShowChangeAfterFilter"),this.externalFilterPresent=this.isExternalFilterPresentCallback()},e.prototype.isExternalFilterPresentCallback=function(){var t=this.gridOptionsService.getCallback("isExternalFilterPresent");return"function"==typeof t&&t({})},e.prototype.doesExternalFilterPass=function(t){var e=this.gridOptionsService.get("doesExternalFilterPass");return"function"==typeof e&&e(t)},e.prototype.setQuickFilterParts=function(){this.quickFilterParts=this.quickFilter?this.quickFilter.split(" "):null},e.prototype.setFilterModel=function(t){var e=this,n=[],i=this.getFilterModel();if(t){var o=Ji(Object.keys(t));this.allColumnFilters.forEach((function(i,r){var s=t[r];n.push(e.setModelOnFilterWrapper(i.filterPromise,s)),o.delete(r)})),o.forEach((function(i){var o=e.columnModel.getPrimaryColumn(i)||e.columnModel.getGridColumn(i);if(o)if(o.isFilterAllowed()){var r=e.getOrCreateFilterWrapper(o,"NO_UI");r?n.push(e.setModelOnFilterWrapper(r.filterPromise,t[i])):console.warn("AG-Grid: setFilterModel() - unable to fully apply model, unable to create filter for colId: "+i)}else console.warn("AG Grid: setFilterModel() - unable to fully apply model, filtering disabled for colId: "+i);else console.warn("AG Grid: setFilterModel() - no column found for colId: "+i)}))}else this.allColumnFilters.forEach((function(t){n.push(e.setModelOnFilterWrapper(t.filterPromise,null))}));ro.all(n).then((function(){var t=e.getFilterModel(),n=[];e.allColumnFilters.forEach((function(e,o){var r=i?i[o]:null,s=t?t[o]:null;no.jsonEquals(r,s)||n.push(e.column)})),n.length>0&&e.onFilterChanged({columns:n})}))},e.prototype.setModelOnFilterWrapper=function(t,e){return new ro((function(n){t.then((function(t){"function"!=typeof t.setModel&&(console.warn("AG Grid: filter missing setModel method, which is needed for setFilterModel"),n()),(t.setModel(e)||ro.resolve()).then((function(){return n()}))}))}))},e.prototype.getFilterModel=function(){var t={};return this.allColumnFilters.forEach((function(e,n){var i=e.filterPromise.resolveNow(null,(function(t){return t}));if(null==i)return null;if("function"==typeof i.getModel){var r=i.getModel();o(r)&&(t[n]=r)}else console.warn("AG Grid: filter API missing getModel method, which is needed for getFilterModel")})),t},e.prototype.isColumnFilterPresent=function(){return this.activeColumnFilters.length>0},e.prototype.isAggregateFilterPresent=function(){return!!this.activeAggregateFilters.length},e.prototype.isExternalFilterPresent=function(){return this.externalFilterPresent},e.prototype.doAggregateFiltersPass=function(t,e){return this.doColumnFiltersPass(t,e,!0)},e.prototype.updateActiveFilters=function(){var t=this;this.activeColumnFilters.length=0,this.activeAggregateFilters.length=0;var e=function(t){return!!t&&(t.isFilterActive?t.isFilterActive():(console.warn("AG Grid: Filter is missing isFilterActive() method"),!1))},n=!!this.gridOptionsService.getGroupAggFiltering();this.allColumnFilters.forEach((function(i){if(i.filterPromise.resolveNow(!1,e)){var o=i.filterPromise.resolveNow(null,(function(t){return t}));!function(e){if(!e.isPrimary())return!0;var i=!t.columnModel.isPivotActive();return!(!e.isValueActive()||!i)&&(!!t.columnModel.isPivotMode()||n)}(i.column)?t.activeColumnFilters.push(o):t.activeAggregateFilters.push(o)}}))},e.prototype.updateFilterFlagInColumns=function(t,e){this.allColumnFilters.forEach((function(n){var i=n.filterPromise.resolveNow(!1,(function(t){return t.isFilterActive()}));n.column.setFilterActive(i,t,e)}))},e.prototype.isAnyFilterPresent=function(){return this.isQuickFilterPresent()||this.isColumnFilterPresent()||this.isAggregateFilterPresent()||this.isExternalFilterPresent()},e.prototype.doColumnFiltersPass=function(t,e,n){for(var i=t.data,o=t.aggData,r=n?this.activeAggregateFilters:this.activeColumnFilters,s=n?o:i,a=0;a<r.length;a++){var l=r[a];if(null!=l&&l!==e){if("function"!=typeof l.doesFilterPass)throw new Error("Filter is missing method doesFilterPass");if(!l.doesFilterPass({node:t,data:s}))return!1}}return!0},e.prototype.parseQuickFilter=function(t){return o(t)?this.gridOptionsService.isRowModelType("clientSide")?t.toUpperCase():(console.warn("AG Grid - Quick filtering only works with the Client-Side Row Model"),null):null},e.prototype.setQuickFilter=function(t){if(null==t||"string"==typeof t){var e=this.parseQuickFilter(t);this.quickFilter!==e&&(this.quickFilter=e,this.setQuickFilterParts(),this.onFilterChanged())}else console.warn("AG Grid - setQuickFilter() only supports string inputs, received: "+typeof t)},e.prototype.resetQuickFilterCache=function(){this.rowModel.forEachNode((function(t){return t.quickFilterAggregateText=null}))},e.prototype.onExcludeHiddenColumnsFromQuickFilterChanged=function(){this.columnModel.refreshQuickFilterColumns(),this.resetQuickFilterCache(),this.isQuickFilterPresent()&&this.onFilterChanged()},e.prototype.refreshFiltersForAggregations=function(){this.gridOptionsService.getGroupAggFiltering()&&this.onFilterChanged()},e.prototype.callOnFilterChangedOutsideRenderCycle=function(t){var e=this;void 0===t&&(t={});var n=function(){return e.onFilterChanged(t)};this.rowRenderer.isRefreshInProgress()?setTimeout(n,0):n()},e.prototype.onFilterChanged=function(t){void 0===t&&(t={});var e=t.filterInstance,n=t.additionalEventAttributes,i=t.columns;this.updateDependantFilters(),this.updateActiveFilters(),this.updateFilterFlagInColumns("filterChanged",n),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.allColumnFilters.forEach((function(t){t.filterPromise&&t.filterPromise.then((function(t){t&&t!==e&&t.onAnyFilterChanged&&t.onAnyFilterChanged()}))}));var o={type:zt.EVENT_FILTER_CHANGED,columns:i||[]};n&&b(o,n),this.processingFilterChange=!0,this.eventService.dispatchEvent(o),this.processingFilterChange=!1},e.prototype.isSuppressFlashingCellsBecauseFiltering=function(){return!this.allowShowChangeAfterFilter&&this.processingFilterChange},e.prototype.isQuickFilterPresent=function(){return null!==this.quickFilter},e.prototype.doesRowPassOtherFilters=function(t,e){return this.doesRowPassFilter({rowNode:e,filterInstanceToSkip:t})},e.prototype.doesRowPassQuickFilterNoCache=function(t,e){var n=this;return this.columnModel.getAllColumnsForQuickFilter().some((function(i){var r=n.getQuickFilterTextForColumn(i,t);return o(r)&&r.indexOf(e)>=0}))},e.prototype.doesRowPassQuickFilterCache=function(t,e){return t.quickFilterAggregateText||this.aggregateRowForQuickFilter(t),t.quickFilterAggregateText.indexOf(e)>=0},e.prototype.doesRowPassQuickFilter=function(t){var e=this,n=this.gridOptionsService.is("cacheQuickFilter");return this.quickFilterParts.every((function(i){return n?e.doesRowPassQuickFilterCache(t,i):e.doesRowPassQuickFilterNoCache(t,i)}))},e.prototype.doesRowPassAggregateFilters=function(t){return!(this.isAggregateFilterPresent()&&!this.doAggregateFiltersPass(t.rowNode,t.filterInstanceToSkip))},e.prototype.doesRowPassFilter=function(t){return!(this.isQuickFilterPresent()&&!this.doesRowPassQuickFilter(t.rowNode))&&(!(this.isExternalFilterPresent()&&!this.doesExternalFilterPass(t.rowNode))&&!(this.isColumnFilterPresent()&&!this.doColumnFiltersPass(t.rowNode,t.filterInstanceToSkip)))},e.prototype.getQuickFilterTextForColumn=function(t,e){var n=this.valueService.getValue(t,e,!0),i=t.getColDef();if(i.getQuickFilterText){var r={value:n,node:e,data:e.data,column:t,colDef:i,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};n=i.getQuickFilterText(r)}return o(n)?n.toString().toUpperCase():null},e.prototype.aggregateRowForQuickFilter=function(t){var e=this,i=[];this.columnModel.getAllColumnsForQuickFilter().forEach((function(n){var r=e.getQuickFilterTextForColumn(n,t);o(r)&&i.push(r)})),t.quickFilterAggregateText=i.join(n.QUICK_FILTER_SEPARATOR)},e.prototype.onNewRowsLoaded=function(t){this.allColumnFilters.forEach((function(t){t.filterPromise.then((function(t){t.onNewRowsLoaded&&t.onNewRowsLoaded()}))})),this.updateFilterFlagInColumns(t,{afterDataChange:!0}),this.updateActiveFilters()},e.prototype.createValueGetter=function(t){var e=this;return function(n){var i=n.node;return e.valueService.getValue(t,i,!0)}},e.prototype.getFilterComponent=function(t,e,n){var i;if(void 0===n&&(n=!0),n)return(null===(i=this.getOrCreateFilterWrapper(t,e))||void 0===i?void 0:i.filterPromise)||null;var o=this.cachedFilter(t);return o?o.filterPromise:null},e.prototype.isFilterActive=function(t){var e=this.cachedFilter(t);return!!e&&e.filterPromise.resolveNow(!1,(function(t){return t.isFilterActive()}))},e.prototype.getOrCreateFilterWrapper=function(t,e){if(!t.isFilterAllowed())return null;var n=this.cachedFilter(t);return n?"NO_UI"!==e&&this.putIntoGui(n,e):(n=this.createFilterWrapper(t,e),this.allColumnFilters.set(t.getColId(),n)),n},e.prototype.cachedFilter=function(t){return this.allColumnFilters.get(t.getColId())},e.prototype.createFilterInstance=function(t){var e,n=this,i=it.isRegistered(J.SetFilterModule)?"agSetColumnFilter":"agTextColumnFilter",o=t.getColDef(),r=Fa(Fa({},this.createFilterParams(t,o)),{filterModifiedCallback:function(){var i={type:zt.EVENT_FILTER_MODIFIED,column:t,filterInstance:e};n.eventService.dispatchEvent(i)},filterChangedCallback:function(i){var o={filterInstance:e,additionalEventAttributes:i,columns:[t]};n.callOnFilterChangedOutsideRenderCycle(o)},doesRowPassOtherFilter:function(t){return n.doesRowPassOtherFilters(e,t)}}),s=this.userComponentFactory.getFilterDetails(o,r,i);if(!s)return null;var a=s.newAgStackInstance();return a&&a.then((function(t){return e=t})),a},e.prototype.createFilterParams=function(t,e){return{column:t,colDef:f(e),rowModel:this.rowModel,filterChangedCallback:function(){},filterModifiedCallback:function(){},valueGetter:this.createValueGetter(t),doesRowPassOtherFilter:function(){return!0},api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context}},e.prototype.createFilterWrapper=function(t,e){var n={column:t,filterPromise:null,compiledElement:null,guiPromise:ro.resolve(null)};return n.filterPromise=this.createFilterInstance(t),n.filterPromise&&this.putIntoGui(n,e),n},e.prototype.putIntoGui=function(t,e){var n=this,i=document.createElement("div");i.className="ag-filter",t.guiPromise=new ro((function(r){t.filterPromise.then((function(s){var a=s.getGui();o(a)||console.warn("AG Grid: getGui method from filter returned "+a+", it should be a DOM element or an HTML template string."),"string"==typeof a&&(a=vi(a)),i.appendChild(a),r(i);var l={type:zt.EVENT_FILTER_OPENED,column:t.column,source:e,eGui:i};n.eventService.dispatchEvent(l)}))}))},e.prototype.onColumnsChanged=function(){var t=this,e=[];this.allColumnFilters.forEach((function(n,i){(n.column.isPrimary()?t.columnModel.getPrimaryColumn(i):t.columnModel.getGridColumn(i))||(e.push(n.column),t.disposeFilterWrapper(n,"columnChanged"))})),e.length>0?this.onFilterChanged({columns:e}):this.updateDependantFilters()},e.prototype.updateDependantFilters=function(){var t=this,e=this.columnModel.getGroupAutoColumns();null==e||e.forEach((function(e){"agGroupColumnFilter"===e.getColDef().filter&&t.getOrCreateFilterWrapper(e,"NO_UI")}))},e.prototype.isFilterAllowed=function(t){var e,n;if(!t.isFilterAllowed())return!1;var i=this.allColumnFilters.get(t.getColId());return null===(n=null===(e=null==i?void 0:i.filterPromise)||void 0===e?void 0:e.resolveNow(!0,(function(t){var e,n;return"function"!=typeof(null===(e=t)||void 0===e?void 0:e.isFilterAllowed)||(null===(n=t)||void 0===n?void 0:n.isFilterAllowed())})))||void 0===n||n},e.prototype.getFloatingFilterCompDetails=function(t,e){var n=this,i=t.getColDef(),o=this.createFilterParams(t,i),r=this.userComponentFactory.mergeParamsWithApplicationProvidedParams(i,ga,o),s=this.userComponentFactory.getDefaultFloatingFilterType(i);null==s&&(s="agReadOnlyFloatingFilter");var a={column:t,filterParams:r,currentParentModel:function(){return n.getCurrentFloatingFilterParentModel(t)},parentFilterInstance:function(e){var i=n.getFilterComponent(t,"NO_UI");null!=i&&i.then((function(t){e(La(t))}))},showParentFilter:e,suppressFilterButton:!1};return this.userComponentFactory.getFloatingFilterCompDetails(i,a,s)},e.prototype.getCurrentFloatingFilterParentModel=function(t){var e=this.getFilterComponent(t,"NO_UI",!1);return e?e.resolveNow(null,(function(t){return t&&t.getModel()})):null},e.prototype.destroyFilter=function(t,e){void 0===e&&(e="api");var n=this.allColumnFilters.get(t.getColId());n&&(this.disposeFilterWrapper(n,e),this.onFilterChanged({columns:[t]}))},e.prototype.disposeFilterWrapper=function(t,e){var n=this;t.filterPromise.then((function(i){(i.setModel(null)||ro.resolve()).then((function(){n.getContext().destroyBean(i),t.column.setFilterActive(!1,"filterDestroyed"),n.allColumnFilters.delete(t.column.getColId());var o={type:zt.EVENT_FILTER_DESTROYED,source:e,column:t.column};n.eventService.dispatchEvent(o)}))}))},e.prototype.destroy=function(){var e=this;t.prototype.destroy.call(this),this.allColumnFilters.forEach((function(t){return e.disposeFilterWrapper(t,"gridDestroyed")}))},e.QUICK_FILTER_SEPARATOR="\n",Ga([K("valueService")],e.prototype,"valueService",void 0),Ga([K("columnModel")],e.prototype,"columnModel",void 0),Ga([K("rowModel")],e.prototype,"rowModel",void 0),Ga([K("userComponentFactory")],e.prototype,"userComponentFactory",void 0),Ga([K("rowRenderer")],e.prototype,"rowRenderer",void 0),Ga([H],e.prototype,"init",null),e=n=Ga([z("filterManager")],e)}(jt),ja=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ua=function(t){function e(e,n){var i=t.call(this,e)||this;return i.ctrl=n,i}return ja(e,t),e.prototype.getCtrl=function(){return this.ctrl},e}(go),Va=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Wa=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},Ha=function(t){function e(n){return t.call(this,e.TEMPLATE,n)||this}return Va(e,t),e.prototype.postConstruct=function(){var t=this,e=this.getGui(),n={addOrRemoveCssClass:function(e,n){return t.addOrRemoveCssClass(e,n)},addOrRemoveBodyCssClass:function(e,n){return t.eFloatingFilterBody.classList.toggle(e,n)},setButtonWrapperDisplayed:function(e){return oi(t.eButtonWrapper,e)},setCompDetails:function(e){return t.setCompDetails(e)},getFloatingFilterComp:function(){return t.compPromise},setWidth:function(t){return e.style.width=t},setMenuIcon:function(e){return t.eButtonShowMainFilter.appendChild(e)}};this.ctrl.setComp(n,e,this.eButtonShowMainFilter,this.eFloatingFilterBody)},e.prototype.setCompDetails=function(t){var e=this;this.compPromise=t.newAgStackInstance(),this.compPromise.then((function(t){return e.afterCompCreated(t)}))},e.prototype.afterCompCreated=function(t){var e=this;t&&(this.addDestroyFunc((function(){return e.context.destroyBean(t)})),this.isAlive()&&(this.eFloatingFilterBody.appendChild(t.getGui()),t.afterGuiAttached&&t.afterGuiAttached()))},e.TEMPLATE='<div class="ag-header-cell ag-floating-filter" role="gridcell" tabindex="-1">\n            <div ref="eFloatingFilterBody" role="presentation"></div>\n            <div class="ag-floating-filter-button ag-hidden" ref="eButtonWrapper" role="presentation">\n                <button type="button" aria-label="Open Filter Menu" class="ag-floating-filter-button-button" ref="eButtonShowMainFilter" tabindex="-1"></button>\n            </div>\n        </div>',Wa([mo("eFloatingFilterBody")],e.prototype,"eFloatingFilterBody",void 0),Wa([mo("eButtonWrapper")],e.prototype,"eButtonWrapper",void 0),Wa([mo("eButtonShowMainFilter")],e.prototype,"eButtonShowMainFilter",void 0),Wa([H],e.prototype,"postConstruct",null),e}(Ua),$a=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),za=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};!function(t){t.AUTO_HEIGHT="ag-layout-auto-height",t.NORMAL="ag-layout-normal",t.PRINT="ag-layout-print"}(Ia||(Ia={}));var Ka,Ya=function(t){function e(e){var n=t.call(this)||this;return n.view=e,n}return $a(e,t),e.prototype.postConstruct=function(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()},e.prototype.updateLayoutClasses=function(){var t=this.getDomLayout(),e={autoHeight:"autoHeight"===t,normal:"normal"===t,print:"print"===t},n=e.autoHeight?Ia.AUTO_HEIGHT:e.print?Ia.PRINT:Ia.NORMAL;this.view.updateLayoutClasses(n,e)},e.prototype.getDomLayout=function(){var t,e=null!==(t=this.gridOptionsService.get("domLayout"))&&void 0!==t?t:"normal";return-1===["normal","print","autoHeight"].indexOf(e)?(P((function(){return console.warn("AG Grid: "+e+" is not valid for DOM Layout, valid values are 'normal', 'autoHeight', 'print'.")}),"warn about dom layout values"),"normal"):e},za([H],e.prototype,"postConstruct",null),e}(jt),Xa=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),qa=function(){return qa=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},qa.apply(this,arguments)},Za=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},Ja=function(t){function e(e){var n=t.call(this)||this;return n.scrollLeft=-1,n.nextScrollTop=-1,n.scrollTop=-1,n.eBodyViewport=e,n.resetLastHScrollDebounced=k((function(){return n.eLastHScroll=null}),500),n.resetLastVScrollDebounced=k((function(){return n.eLastVScroll=null}),500),n}return Xa(e,t),e.prototype.postConstruct=function(){var t=this;this.enableRtl=this.gridOptionsService.is("enableRtl"),this.addManagedListener(this.eventService,zt.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this)),this.ctrlsService.whenReady((function(e){t.centerRowContainerCtrl=e.centerRowContainerCtrl,t.onDisplayedColumnsWidthChanged(),t.addScrollListener()}))},e.prototype.addScrollListener=function(){var t=this.ctrlsService.getFakeHScrollComp(),e=this.ctrlsService.getFakeVScrollComp();this.addManagedListener(this.centerRowContainerCtrl.getViewportElement(),"scroll",this.onHScroll.bind(this)),this.addManagedListener(t.getViewport(),"scroll",this.onFakeHScroll.bind(this));var n=this.gridOptionsService.is("debounceVerticalScrollbar"),i=n?k(this.onVScroll.bind(this),100):this.onVScroll.bind(this),o=n?k(this.onFakeVScroll.bind(this),100):this.onFakeVScroll.bind(this);this.addManagedListener(this.eBodyViewport,"scroll",i),this.addManagedListener(e.getViewport(),"scroll",o)},e.prototype.onDisplayedColumnsWidthChanged=function(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()},e.prototype.horizontallyScrollHeaderCenterAndFloatingCenter=function(t){if(!(null==this.centerRowContainerCtrl)){void 0===t&&(t=this.centerRowContainerCtrl.getCenterViewportScrollLeft());var e=this.enableRtl?t:-t,n=this.ctrlsService.getTopCenterRowContainerCtrl(),i=this.ctrlsService.getStickyTopCenterRowContainerCtrl(),o=this.ctrlsService.getBottomCenterRowContainerCtrl(),r=this.ctrlsService.getFakeHScrollComp();this.ctrlsService.getHeaderRowContainerCtrl().setHorizontalScroll(-e),o.setContainerTranslateX(e),n.setContainerTranslateX(e),i.setContainerTranslateX(e);var s=this.centerRowContainerCtrl.getViewportElement();gi(this.eLastHScroll===s?r.getViewport():this.centerRowContainerCtrl.getViewportElement(),Math.abs(t),this.enableRtl)}},e.prototype.isControllingHScroll=function(t){return this.eLastHScroll?t===this.eLastHScroll:(this.eLastHScroll=t,!0)},e.prototype.isControllingVScroll=function(t){return this.eLastVScroll?t===this.eLastVScroll:(this.eLastVScroll=t,!0)},e.prototype.onFakeHScroll=function(){var t=this.ctrlsService.getFakeHScrollComp().getViewport();this.isControllingHScroll(t)&&this.onHScrollCommon(t)},e.prototype.onHScroll=function(){var t=this.centerRowContainerCtrl.getViewportElement();this.isControllingHScroll(t)&&this.onHScrollCommon(t)},e.prototype.onHScrollCommon=function(t){var e=this.centerRowContainerCtrl.getViewportElement().scrollLeft;this.shouldBlockScrollUpdate("horizontal",e,!0)||(this.doHorizontalScroll(Math.round(fi(t,this.enableRtl))),this.resetLastHScrollDebounced())},e.prototype.onFakeVScroll=function(){var t=this.ctrlsService.getFakeVScrollComp().getViewport();this.isControllingVScroll(t)&&this.onVScrollCommon(t)},e.prototype.onVScroll=function(){this.isControllingVScroll(this.eBodyViewport)&&this.onVScrollCommon(this.eBodyViewport)},e.prototype.onVScrollCommon=function(t){var e=t.scrollTop;if(!this.shouldBlockScrollUpdate("vertical",e,!0)){if(this.animationFrameService.setScrollTop(e),this.nextScrollTop=e,t===this.eBodyViewport)this.ctrlsService.getFakeVScrollComp().getViewport().scrollTop=e;else this.eBodyViewport.scrollTop=e;this.gridOptionsService.is("suppressAnimationFrame")?this.scrollGridIfNeeded():this.animationFrameService.schedule(),this.resetLastVScrollDebounced()}},e.prototype.doHorizontalScroll=function(t){var e=fi(this.ctrlsService.getFakeHScrollComp().getViewport(),this.enableRtl);this.scrollLeft===t&&t===e||(this.scrollLeft=t,this.fireScrollEvent("horizontal"),this.horizontallyScrollHeaderCenterAndFloatingCenter(t),this.onHorizontalViewportChanged())},e.prototype.fireScrollEvent=function(t){var e=this,n={type:zt.EVENT_BODY_SCROLL,direction:t,left:this.scrollLeft,top:this.scrollTop};this.eventService.dispatchEvent(n),window.clearTimeout(this.scrollTimer),this.scrollTimer=void 0,this.scrollTimer=window.setTimeout((function(){var t=qa(qa({},n),{type:zt.EVENT_BODY_SCROLL_END});e.eventService.dispatchEvent(t)}),100)},e.prototype.shouldBlockScrollUpdate=function(t,e,n){return void 0===n&&(n=!1),!(n&&!An())&&("vertical"===t?this.shouldBlockVerticalScroll(e):this.shouldBlockHorizontalScroll(e))},e.prototype.shouldBlockVerticalScroll=function(t){var e=ci(this.eBodyViewport),n=this.eBodyViewport.scrollHeight;return t<0||t+e>n},e.prototype.shouldBlockHorizontalScroll=function(t){var e=this.centerRowContainerCtrl.getCenterWidth(),n=this.centerRowContainerCtrl.getViewportElement().scrollWidth;if(this.enableRtl&&pi()){if(t>0)return!0}else if(t<0)return!0;return Math.abs(t)+e>n},e.prototype.redrawRowsAfterScroll=function(){this.fireScrollEvent("vertical")},e.prototype.onHorizontalViewportChanged=function(){this.centerRowContainerCtrl.onHorizontalViewportChanged()},e.prototype.checkScrollLeft=function(){this.scrollLeft!==this.centerRowContainerCtrl.getCenterViewportScrollLeft()&&this.onHScrollCommon(this.centerRowContainerCtrl.getViewportElement())},e.prototype.scrollGridIfNeeded=function(){var t=this.scrollTop!=this.nextScrollTop;return t&&(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()),t},e.prototype.setHorizontalScrollPosition=function(t){var e=this.centerRowContainerCtrl.getViewportElement().scrollWidth-this.centerRowContainerCtrl.getCenterWidth();this.shouldBlockScrollUpdate("horizontal",t)&&(t=this.enableRtl&&pi()?t>0?0:e:Math.min(Math.max(t,0),e)),gi(this.centerRowContainerCtrl.getViewportElement(),Math.abs(t),this.enableRtl),this.doHorizontalScroll(t)},e.prototype.setVerticalScrollPosition=function(t){this.eBodyViewport.scrollTop=t},e.prototype.getVScrollPosition=function(){return{top:this.eBodyViewport.scrollTop,bottom:this.eBodyViewport.scrollTop+this.eBodyViewport.offsetHeight}},e.prototype.getHScrollPosition=function(){return this.centerRowContainerCtrl.getHScrollPosition()},e.prototype.isHorizontalScrollShowing=function(){return this.centerRowContainerCtrl.isHorizontalScrollShowing()},e.prototype.scrollHorizontally=function(t){var e=this.centerRowContainerCtrl.getViewportElement().scrollLeft;return this.setHorizontalScrollPosition(e+t),this.centerRowContainerCtrl.getViewportElement().scrollLeft-e},e.prototype.scrollToTop=function(){this.eBodyViewport.scrollTop=0},e.prototype.ensureNodeVisible=function(t,e){void 0===e&&(e=null);for(var n=this.rowModel.getRowCount(),i=-1,o=0;o<n;o++){var r=this.rowModel.getRow(o);if("function"==typeof t){if(r&&t(r)){i=o;break}}else if(t===r||t===r.data){i=o;break}}i>=0&&this.ensureIndexVisible(i,e)},e.prototype.ensureIndexVisible=function(t,e){if(!this.gridOptionsService.isDomLayout("print")){var n=this.paginationProxy.getRowCount();if("number"!=typeof t||t<0||t>=n)console.warn("AG Grid: Invalid row index for ensureIndexVisible: "+t);else{this.gridOptionsService.is("pagination")&&!this.gridOptionsService.is("suppressPaginationPanel")||this.paginationProxy.goToPageWithIndex(t);var i,o=this.ctrlsService.getGridBodyCtrl().getStickyTopHeight(),r=this.paginationProxy.getRow(t);do{var s=r.rowTop,a=r.rowHeight,l=this.paginationProxy.getPixelOffset(),c=r.rowTop-l,u=c+r.rowHeight,h=this.getVScrollPosition(),d=this.heightScaler.getDivStretchOffset(),p=h.top+d,f=h.bottom+d,g=f-p,m=this.heightScaler.getScrollPositionForPixel(c),_=this.heightScaler.getScrollPositionForPixel(u-g),y=Math.min((m+_)/2,c),v=null;"top"===e?v=m:"bottom"===e?v=_:"middle"===e?v=y:p+o>c?v=m-o:f<u&&(v=_),null!==v&&(this.eBodyViewport.scrollTop=v,this.rowRenderer.redrawAfterScroll()),i=s!==r.rowTop||a!==r.rowHeight}while(i);this.animationFrameService.flushAllFrames()}}},e.prototype.ensureColumnVisible=function(t,e){void 0===e&&(e="auto");var n=this.columnModel.getGridColumn(t);if(n&&!n.isPinned()&&this.columnModel.isColumnDisplayed(n)){var i=this.getPositionedHorizontalScroll(n,e);null!==i&&this.centerRowContainerCtrl.setCenterViewportScrollLeft(i),this.centerRowContainerCtrl.onHorizontalViewportChanged(),this.animationFrameService.flushAllFrames()}},e.prototype.getPositionedHorizontalScroll=function(t,e){var n=this.isColumnOutsideViewport(t),i=n.columnBeforeStart,o=n.columnAfterEnd,r=this.centerRowContainerCtrl.getCenterWidth()<t.getActualWidth(),s=this.centerRowContainerCtrl.getCenterWidth(),a=this.enableRtl,l=(a?i:o)||r,c=a?o:i;"auto"!==e&&(l="start"===e,c="end"===e);var u="middle"===e;if(l||c||u){var h=this.getColumnBounds(t),d=h.colLeft,p=h.colMiddle,f=h.colRight;return u?p-s/2:l?a?f:d:a?d-s:f-s}return null},e.prototype.isColumnOutsideViewport=function(t){var e=this.getViewportBounds(),n=e.start,i=e.end,o=this.getColumnBounds(t),r=o.colLeft,s=o.colRight,a=this.enableRtl;return{columnBeforeStart:a?n>s:i<s,columnAfterEnd:a?i<r:n>r}},e.prototype.getColumnBounds=function(t){var e=this.enableRtl,n=this.columnModel.getBodyContainerWidth(),i=t.getActualWidth(),o=t.getLeft(),r=e?-1:1,s=e?n-o:o;return{colLeft:s,colMiddle:s+i/2*r,colRight:s+i*r}},e.prototype.getViewportBounds=function(){var t=this.centerRowContainerCtrl.getCenterWidth(),e=this.centerRowContainerCtrl.getCenterViewportScrollLeft();return{start:e,end:t+e,width:t}},Za([K("ctrlsService")],e.prototype,"ctrlsService",void 0),Za([K("animationFrameService")],e.prototype,"animationFrameService",void 0),Za([K("paginationProxy")],e.prototype,"paginationProxy",void 0),Za([K("rowModel")],e.prototype,"rowModel",void 0),Za([K("rowContainerHeightService")],e.prototype,"heightScaler",void 0),Za([K("rowRenderer")],e.prototype,"rowRenderer",void 0),Za([K("columnModel")],e.prototype,"columnModel",void 0),Za([H],e.prototype,"postConstruct",null),e}(jt),Qa=function(){function t(t){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=t.scrollContainer,this.scrollHorizontally=-1!==t.scrollAxis.indexOf("x"),this.scrollVertically=-1!==t.scrollAxis.indexOf("y"),this.scrollByTick=null!=t.scrollByTick?t.scrollByTick:20,t.onScrollCallback&&(this.onScrollCallback=t.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=t.getVerticalPosition,this.setVerticalPosition=t.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=t.getHorizontalPosition,this.setHorizontalPosition=t.setHorizontalPosition),this.shouldSkipVerticalScroll=t.shouldSkipVerticalScroll||function(){return!1},this.shouldSkipHorizontalScroll=t.shouldSkipHorizontalScroll||function(){return!1}}return t.prototype.check=function(t,e){void 0===e&&(e=!1);var n=e||this.shouldSkipVerticalScroll();if(!n||!this.shouldSkipHorizontalScroll()){var i=this.scrollContainer.getBoundingClientRect(),o=this.scrollByTick;this.tickLeft=t.clientX<i.left+o,this.tickRight=t.clientX>i.right-o,this.tickUp=t.clientY<i.top+o&&!n,this.tickDown=t.clientY>i.bottom-o&&!n,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}},t.prototype.ensureTickingStarted=function(){null===this.tickingInterval&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)},t.prototype.doTick=function(){var t;if(this.tickCount++,t=this.tickCount>20?200:this.tickCount>10?80:40,this.scrollVertically){var e=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(e-t),this.tickDown&&this.setVerticalPosition(e+t)}if(this.scrollHorizontally){var n=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(n-t),this.tickRight&&this.setHorizontalPosition(n+t)}this.onScrollCallback&&this.onScrollCallback()},t.prototype.ensureCleared=function(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)},t}(),tl=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),el=function(){return el=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},el.apply(this,arguments)},nl=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},il=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},ol=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(il(arguments[e]));return t},rl=function(t){function e(e){var n=t.call(this)||this;return n.isMultiRowDrag=!1,n.isGridSorted=!1,n.isGridFiltered=!1,n.isRowGroupActive=!1,n.eContainer=e,n}return tl(e,t),e.prototype.postConstruct=function(){var t=this;this.gridOptionsService.isRowModelType("clientSide")&&(this.clientSideRowModel=this.rowModel);var e=function(){t.onSortChanged(),t.onFilterChanged(),t.onRowGroupChanged()};this.addManagedListener(this.eventService,zt.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,zt.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,zt.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,zt.EVENT_MODEL_UPDATED,(function(){e()})),e(),this.ctrlsService.whenReady((function(){var e=t.ctrlsService.getGridBodyCtrl();t.autoScrollService=new Qa({scrollContainer:e.getBodyViewportElement(),scrollAxis:"y",getVerticalPosition:function(){return e.getScrollFeature().getVScrollPosition().top},setVerticalPosition:function(t){return e.getScrollFeature().setVerticalScrollPosition(t)},onScrollCallback:function(){t.onDragging(t.lastDraggingEvent)}})}))},e.prototype.onSortChanged=function(){this.isGridSorted=this.sortController.isSortActive()},e.prototype.onFilterChanged=function(){this.isGridFiltered=this.filterManager.isAnyFilterPresent()},e.prototype.onRowGroupChanged=function(){var t=this.columnModel.getRowGroupColumns();this.isRowGroupActive=!s(t)},e.prototype.getContainer=function(){return this.eContainer},e.prototype.isInterestedIn=function(t){return t===Ar.RowDrag},e.prototype.getIconName=function(){return this.gridOptionsService.is("rowDragManaged")&&this.shouldPreventRowMove()?As.ICON_NOT_ALLOWED:As.ICON_MOVE},e.prototype.shouldPreventRowMove=function(){return this.isGridSorted||this.isGridFiltered||this.isRowGroupActive},e.prototype.getRowNodes=function(t){var e=this;if(!this.isFromThisGrid(t))return t.dragItem.rowNodes||[];var n=this.gridOptionsService.is("rowDragMultiRow"),i=ol(this.selectionService.getSelectedNodes()).sort((function(t,n){return null==t.rowIndex||null==n.rowIndex?0:e.getRowIndexNumber(t)-e.getRowIndexNumber(n)})),o=t.dragItem.rowNode;return n&&-1!==i.indexOf(o)?(this.isMultiRowDrag=!0,i):(this.isMultiRowDrag=!1,[o])},e.prototype.onDragEnter=function(t){t.dragItem.rowNodes=this.getRowNodes(t),this.dispatchGridEvent(zt.EVENT_ROW_DRAG_ENTER,t),this.getRowNodes(t).forEach((function(t){t.setDragging(!0)})),this.onEnterOrDragging(t)},e.prototype.onDragging=function(t){this.onEnterOrDragging(t)},e.prototype.isFromThisGrid=function(t){return t.dragSource.dragSourceDomDataKey===this.gridOptionsService.getDomDataKey()},e.prototype.isDropZoneWithinThisGrid=function(t){var e=this.ctrlsService.getGridBodyCtrl().getGui(),n=t.dropZoneTarget;return!e.contains(n)},e.prototype.onEnterOrDragging=function(t){this.dispatchGridEvent(zt.EVENT_ROW_DRAG_MOVE,t),this.lastDraggingEvent=t;var e=this.mouseEventService.getNormalisedPosition(t).y;this.gridOptionsService.is("rowDragManaged")&&this.doManagedDrag(t,e),this.autoScrollService.check(t.event)},e.prototype.doManagedDrag=function(t,e){var n=this.isFromThisGrid(t),i=this.gridOptionsService.is("rowDragManaged"),o=t.dragItem.rowNodes;i&&this.shouldPreventRowMove()||(this.gridOptionsService.is("suppressMoveWhenRowDragging")||!n?this.isDropZoneWithinThisGrid(t)||this.clientSideRowModel.highlightRowAtPixel(o[0],e):this.moveRows(o,e))},e.prototype.getRowIndexNumber=function(t){return parseInt(ft(t.getRowIndexString().split("-")),10)},e.prototype.moveRowAndClearHighlight=function(t){var e=this,n=this.clientSideRowModel.getLastHighlightedRowNode(),i=n&&n.highlighted===Pa.Below,o=this.mouseEventService.getNormalisedPosition(t).y,r=t.dragItem.rowNodes,s=i?1:0;if(this.isFromThisGrid(t))r.forEach((function(t){t.rowTop<o&&(s-=1)})),this.moveRows(r,o,s);else{var a=this.gridOptionsService.getRowIdFunc(),l=this.clientSideRowModel.getRowIndexAtPixel(o)+1;this.clientSideRowModel.getHighlightPosition(o)===Pa.Above&&l--,this.clientSideRowModel.updateRowData({add:r.map((function(t){return t.data})).filter((function(t){return!e.clientSideRowModel.getRowNode(a?a({data:t,level:0}):t.id)})),addIndex:l})}this.clearRowHighlight()},e.prototype.clearRowHighlight=function(){this.clientSideRowModel.highlightRowAtPixel(null)},e.prototype.moveRows=function(t,e,n){void 0===n&&(n=0),this.clientSideRowModel.ensureRowsAtPixel(t,e,n)&&(this.focusService.clearFocusedCell(),this.rangeService&&this.rangeService.removeAllCellRanges())},e.prototype.addRowDropZone=function(t){var e=this;if(t.getContainer())if(this.dragAndDropService.findExternalZone(t))console.warn("AG Grid: addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.");else{var n={getContainer:t.getContainer};t.fromGrid?(t.fromGrid=void 0,n=t):(t.onDragEnter&&(n.onDragEnter=function(n){t.onDragEnter(e.draggingToRowDragEvent(zt.EVENT_ROW_DRAG_ENTER,n))}),t.onDragLeave&&(n.onDragLeave=function(n){t.onDragLeave(e.draggingToRowDragEvent(zt.EVENT_ROW_DRAG_LEAVE,n))}),t.onDragging&&(n.onDragging=function(n){t.onDragging(e.draggingToRowDragEvent(zt.EVENT_ROW_DRAG_MOVE,n))}),t.onDragStop&&(n.onDragStop=function(n){t.onDragStop(e.draggingToRowDragEvent(zt.EVENT_ROW_DRAG_END,n))})),this.dragAndDropService.addDropTarget(el({isInterestedIn:function(t){return t===Ar.RowDrag},getIconName:function(){return As.ICON_MOVE},external:!0},n))}else P((function(){return console.warn("AG Grid: addRowDropZone - A container target needs to be provided")}),"add-drop-zone-empty-target")},e.prototype.getRowDropZone=function(t){var e=this,n=this.getContainer.bind(this),i=this.onDragEnter.bind(this),o=this.onDragLeave.bind(this),r=this.onDragging.bind(this),s=this.onDragStop.bind(this);return t?{getContainer:n,onDragEnter:t.onDragEnter?function(n){i(n),t.onDragEnter(e.draggingToRowDragEvent(zt.EVENT_ROW_DRAG_ENTER,n))}:i,onDragLeave:t.onDragLeave?function(n){o(n),t.onDragLeave(e.draggingToRowDragEvent(zt.EVENT_ROW_DRAG_LEAVE,n))}:o,onDragging:t.onDragging?function(n){r(n),t.onDragging(e.draggingToRowDragEvent(zt.EVENT_ROW_DRAG_MOVE,n))}:r,onDragStop:t.onDragStop?function(n){s(n),t.onDragStop(e.draggingToRowDragEvent(zt.EVENT_ROW_DRAG_END,n))}:s,fromGrid:!0}:{getContainer:n,onDragEnter:i,onDragLeave:o,onDragging:r,onDragStop:s,fromGrid:!0}},e.prototype.draggingToRowDragEvent=function(t,e){var n,i,o=this.mouseEventService.getNormalisedPosition(e).y,r=-1;switch(o>this.paginationProxy.getCurrentPageHeight()||(r=this.rowModel.getRowIndexAtPixel(o),n=this.rowModel.getRow(r)),e.vDirection){case Lr.Down:i="down";break;case Lr.Up:i="up";break;default:i=null}return{type:t,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,event:e.event,node:e.dragItem.rowNode,nodes:e.dragItem.rowNodes,overIndex:r,overNode:n,y:o,vDirection:i}},e.prototype.dispatchGridEvent=function(t,e){var n=this.draggingToRowDragEvent(t,e);this.eventService.dispatchEvent(n)},e.prototype.onDragLeave=function(t){this.dispatchGridEvent(zt.EVENT_ROW_DRAG_LEAVE,t),this.stopDragging(t),this.gridOptionsService.is("rowDragManaged")&&this.clearRowHighlight(),this.isFromThisGrid(t)&&(this.isMultiRowDrag=!1)},e.prototype.onDragStop=function(t){this.dispatchGridEvent(zt.EVENT_ROW_DRAG_END,t),this.stopDragging(t),!this.gridOptionsService.is("rowDragManaged")||!this.gridOptionsService.is("suppressMoveWhenRowDragging")&&this.isFromThisGrid(t)||this.isDropZoneWithinThisGrid(t)||this.moveRowAndClearHighlight(t)},e.prototype.stopDragging=function(t){this.autoScrollService.ensureCleared(),this.getRowNodes(t).forEach((function(t){t.setDragging(!1)}))},nl([K("dragAndDropService")],e.prototype,"dragAndDropService",void 0),nl([K("rowModel")],e.prototype,"rowModel",void 0),nl([K("paginationProxy")],e.prototype,"paginationProxy",void 0),nl([K("columnModel")],e.prototype,"columnModel",void 0),nl([K("focusService")],e.prototype,"focusService",void 0),nl([K("sortController")],e.prototype,"sortController",void 0),nl([K("filterManager")],e.prototype,"filterManager",void 0),nl([K("selectionService")],e.prototype,"selectionService",void 0),nl([K("mouseEventService")],e.prototype,"mouseEventService",void 0),nl([K("ctrlsService")],e.prototype,"ctrlsService",void 0),nl([Y("rangeService")],e.prototype,"rangeService",void 0),nl([H],e.prototype,"postConstruct",null),e}(jt),sl=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),al=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};!function(t){t.ANIMATION_ON="ag-row-animation",t.ANIMATION_OFF="ag-row-no-animation"}(Ka||(Ka={}));var ll,cl,ul="ag-selectable",hl="ag-force-vertical-scroll",dl=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stickyTopHeight=0,e}return sl(e,t),e.prototype.getScrollFeature=function(){return this.bodyScrollFeature},e.prototype.getBodyViewportElement=function(){return this.eBodyViewport},e.prototype.setComp=function(t,e,n,i,o,r){this.comp=t,this.eGridBody=e,this.eBodyViewport=n,this.eTop=i,this.eBottom=o,this.eStickyTop=r,this.setCellTextSelection(this.gridOptionsService.is("enableCellTextSelection")),this.createManagedBean(new Ya(this.comp)),this.bodyScrollFeature=this.createManagedBean(new Ja(this.eBodyViewport)),this.addRowDragListener(),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([i,n,o,r]),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.ctrlsService.registerGridBodyCtrl(this)},e.prototype.getComp=function(){return this.comp},e.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,zt.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,zt.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.addManagedListener(this.eventService,zt.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,zt.EVENT_HEADER_HEIGHT_CHANGED,this.onHeaderHeightChanged.bind(this))},e.prototype.addFocusListeners=function(t){var e=this;t.forEach((function(t){e.addManagedListener(t,"focusin",(function(e){var n=ai(e.target,"ag-root",t);t.classList.toggle("ag-has-focus",!n)})),e.addManagedListener(t,"focusout",(function(e){var n=e.target,i=e.relatedTarget,o=t.contains(i),r=ai(i,"ag-root",t);ai(n,"ag-root",t)||o&&!r||t.classList.remove("ag-has-focus")}))}))},e.prototype.setColumnMovingCss=function(t){this.comp.setColumnMovingCss("ag-column-moving",t)},e.prototype.setCellTextSelection=function(t){void 0===t&&(t=!1);var e=t?ul:null;this.comp.setCellSelectableCss(e,t)},e.prototype.onScrollVisibilityChanged=function(){var t=this.scrollVisibleService.isVerticalScrollShowing();this.setVerticalScrollPaddingVisible(t),this.setStickyTopWidth(t);var e="calc(100% + "+((t&&this.gridOptionsService.getScrollbarWidth()||0)+(jn()?16:0))+"px)";this.comp.setBodyViewportWidth(e)},e.prototype.onGridColumnsChanged=function(){var t=this.columnModel.getAllGridColumns();this.comp.setColumnCount(t?t.length:0)},e.prototype.disableBrowserDragging=function(){this.addManagedListener(this.eGridBody,"dragstart",(function(t){if(t.target instanceof HTMLImageElement)return t.preventDefault(),!1}))},e.prototype.addStopEditingWhenGridLosesFocus=function(){var t=this;if(this.gridOptionsService.is("stopEditingWhenCellsLoseFocus")){var e=function(e){var i=e.relatedTarget;if(null!==In(i)){var o=n.some((function(t){return t.contains(i)}))&&t.mouseEventService.isElementInThisGrid(i);if(!o){var r=t.popupService;o=r.getActivePopups().some((function(t){return t.contains(i)}))||r.isElementWithinCustomPopup(i)}o||t.rowRenderer.stopEditing()}else t.rowRenderer.stopEditing()},n=[this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop];n.forEach((function(n){return t.addManagedListener(n,"focusout",e)}))}},e.prototype.updateRowCount=function(){var t=this.headerNavigationService.getHeaderRowCount(),e=this.rowModel.isLastRowIndexKnown()?this.rowModel.getRowCount():-1,n=-1===e?-1:t+e;this.comp.setRowCount(n)},e.prototype.registerBodyViewportResizeListener=function(t){this.comp.registerBodyViewportResizeListener(t)},e.prototype.setVerticalScrollPaddingVisible=function(t){var e=t?"scroll":"hidden";this.comp.setPinnedTopBottomOverflowY(e)},e.prototype.isVerticalScrollShowing=function(){var t=this.gridOptionsService.is("alwaysShowVerticalScroll"),e=t?hl:null,n=this.gridOptionsService.isDomLayout("normal");return this.comp.setAlwaysVerticalScrollClass(e,t),t||n&&Pi(this.eBodyViewport)},e.prototype.setupRowAnimationCssClass=function(){var t=this,e=function(){var e=t.gridOptionsService.isAnimateRows()&&!t.rowContainerHeightService.isStretching(),n=e?Ka.ANIMATION_ON:Ka.ANIMATION_OFF;t.comp.setRowAnimationCssOnBodyViewport(n,e)};e(),this.addManagedListener(this.eventService,zt.EVENT_HEIGHT_SCALE_CHANGED,e),this.addManagedPropertyListener("animateRows",e)},e.prototype.getGridBodyElement=function(){return this.eGridBody},e.prototype.addBodyViewportListener=function(){var t=this.onBodyViewportContextMenu.bind(this);this.addManagedListener(this.eBodyViewport,"contextmenu",t),this.mockContextMenuForIPad(t),this.addManagedListener(this.eBodyViewport,"wheel",this.onBodyViewportWheel.bind(this)),this.addManagedListener(this.eStickyTop,"wheel",this.onStickyTopWheel.bind(this)),this.addFullWidthContainerWheelListener()},e.prototype.addFullWidthContainerWheelListener=function(){var t=this,e=this.eBodyViewport.querySelector(".ag-full-width-container"),n=this.eBodyViewport.querySelector(".ag-center-cols-viewport");e&&n&&this.addManagedListener(e,"wheel",(function(e){return t.onFullWidthContainerWheel(e,n)}))},e.prototype.onFullWidthContainerWheel=function(t,e){!t.deltaX||Math.abs(t.deltaY)>Math.abs(t.deltaX)||(t.preventDefault(),e.scrollBy({left:t.deltaX}))},e.prototype.onBodyViewportContextMenu=function(t,e,n){if(t||n){if(this.gridOptionsService.is("preventDefaultOnContextMenu"))(t||n).preventDefault();var i=(t||e).target;if(i===this.eBodyViewport||i===this.ctrlsService.getCenterRowContainerCtrl().getViewportElement()){if(!this.contextMenuFactory)return;t?this.contextMenuFactory.onContextMenu(t,null,null,null,null,this.eGridBody):n&&this.contextMenuFactory.onContextMenu(null,n,null,null,null,this.eGridBody)}}},e.prototype.mockContextMenuForIPad=function(t){if(An()){var e=new Xr(this.eBodyViewport);this.addManagedListener(e,Xr.EVENT_LONG_TAP,(function(e){t(void 0,e.touchStart,e.touchEvent)})),this.addDestroyFunc((function(){return e.destroy()}))}},e.prototype.onBodyViewportWheel=function(t){this.gridOptionsService.is("suppressScrollWhenPopupsAreOpen")&&this.popupService.hasAnchoredPopup()&&t.preventDefault()},e.prototype.onStickyTopWheel=function(t){t.preventDefault(),t.offsetY&&this.scrollVertically(t.deltaY)},e.prototype.getGui=function(){return this.eGridBody},e.prototype.scrollVertically=function(t){var e=this.eBodyViewport.scrollTop;return this.bodyScrollFeature.setVerticalScrollPosition(e+t),this.eBodyViewport.scrollTop-e},e.prototype.addRowDragListener=function(){this.rowDragFeature=this.createManagedBean(new rl(this.eBodyViewport)),this.dragAndDropService.addDropTarget(this.rowDragFeature)},e.prototype.getRowDragFeature=function(){return this.rowDragFeature},e.prototype.onPinnedRowDataChanged=function(){this.setFloatingHeights()},e.prototype.setFloatingHeights=function(){var t=this.pinnedRowModel,e=t.getPinnedTopTotalHeight();e&&(e+=1);var n=t.getPinnedBottomTotalHeight();n&&(n+=1),this.comp.setTopHeight(e),this.comp.setBottomHeight(n),this.comp.setTopDisplay(e?"inherit":"none"),this.comp.setBottomDisplay(n?"inherit":"none"),this.setStickyTopOffsetTop()},e.prototype.setStickyTopHeight=function(t){void 0===t&&(t=0),this.comp.setStickyTopHeight(t+"px"),this.stickyTopHeight=t},e.prototype.getStickyTopHeight=function(){return this.stickyTopHeight},e.prototype.setStickyTopWidth=function(t){if(t){var e=this.gridOptionsService.getScrollbarWidth();this.comp.setStickyTopWidth("calc(100% - "+e+"px)")}else this.comp.setStickyTopWidth("100%")},e.prototype.onHeaderHeightChanged=function(){this.setStickyTopOffsetTop()},e.prototype.setStickyTopOffsetTop=function(){var t=this.ctrlsService.getGridHeaderCtrl().getHeaderHeight(),e=this.pinnedRowModel.getPinnedTopTotalHeight(),n=0;t>0&&(n+=t+1),e>0&&(n+=e+1),this.comp.setStickyTopTop(n+"px")},e.prototype.sizeColumnsToFit=function(t,e){var n=this,i=this.isVerticalScrollShowing()?this.gridOptionsService.getScrollbarWidth():0,o=ui(this.eGridBody)-i;o>0?this.columnModel.sizeColumnsToFit(o,"sizeColumnsToFit",!1,t):void 0===e?window.setTimeout((function(){n.sizeColumnsToFit(t,100)}),0):100===e?window.setTimeout((function(){n.sizeColumnsToFit(t,500)}),100):500===e?window.setTimeout((function(){n.sizeColumnsToFit(t,-1)}),500):console.warn("AG Grid: tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?")},e.prototype.addScrollEventListener=function(t){this.eBodyViewport.addEventListener("scroll",t,{passive:!0})},e.prototype.removeScrollEventListener=function(t){this.eBodyViewport.removeEventListener("scroll",t)},al([K("rowContainerHeightService")],e.prototype,"rowContainerHeightService",void 0),al([K("ctrlsService")],e.prototype,"ctrlsService",void 0),al([K("columnModel")],e.prototype,"columnModel",void 0),al([K("scrollVisibleService")],e.prototype,"scrollVisibleService",void 0),al([Y("contextMenuFactory")],e.prototype,"contextMenuFactory",void 0),al([K("headerNavigationService")],e.prototype,"headerNavigationService",void 0),al([K("dragAndDropService")],e.prototype,"dragAndDropService",void 0),al([K("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),al([K("rowRenderer")],e.prototype,"rowRenderer",void 0),al([K("popupService")],e.prototype,"popupService",void 0),al([K("mouseEventService")],e.prototype,"mouseEventService",void 0),al([K("rowModel")],e.prototype,"rowModel",void 0),e}(jt);!function(t){t[t.FILL=0]="FILL",t[t.RANGE=1]="RANGE"}(ll||(ll={})),function(t){t[t.VALUE=0]="VALUE",t[t.DIMENSION=1]="DIMENSION"}(cl||(cl={}));var pl,fl="ag-cell-range-selected",gl=function(){function t(t,e){this.beans=t,this.cellCtrl=e}return t.prototype.setComp=function(t,e){this.cellComp=t,this.eGui=e,this.onRangeSelectionChanged()},t.prototype.onRangeSelectionChanged=function(){this.cellComp&&(this.rangeCount=this.beans.rangeService.getCellRangeCount(this.cellCtrl.getCellPosition()),this.hasChartRange=this.getHasChartRange(),this.cellComp.addOrRemoveCssClass(fl,0!==this.rangeCount),this.cellComp.addOrRemoveCssClass(fl+"-1",1===this.rangeCount),this.cellComp.addOrRemoveCssClass(fl+"-2",2===this.rangeCount),this.cellComp.addOrRemoveCssClass(fl+"-3",3===this.rangeCount),this.cellComp.addOrRemoveCssClass(fl+"-4",this.rangeCount>=4),this.cellComp.addOrRemoveCssClass("ag-cell-range-chart",this.hasChartRange),mn(this.eGui,this.rangeCount>0||void 0),this.cellComp.addOrRemoveCssClass("ag-cell-range-single-cell",this.isSingleCell()),this.updateRangeBorders(),this.refreshHandle())},t.prototype.updateRangeBorders=function(){var t=this.getRangeBorders(),e=this.isSingleCell(),n=!e&&t.top,i=!e&&t.right,o=!e&&t.bottom,r=!e&&t.left;this.cellComp.addOrRemoveCssClass("ag-cell-range-top",n),this.cellComp.addOrRemoveCssClass("ag-cell-range-right",i),this.cellComp.addOrRemoveCssClass("ag-cell-range-bottom",o),this.cellComp.addOrRemoveCssClass("ag-cell-range-left",r)},t.prototype.isSingleCell=function(){var t=this.beans.rangeService;return 1===this.rangeCount&&t&&!t.isMoreThanOneCell()},t.prototype.getHasChartRange=function(){var t=this.beans.rangeService;if(!this.rangeCount||!t)return!1;var e=t.getCellRanges();return e.length>0&&e.every((function(t){return bt([cl.DIMENSION,cl.VALUE],t.type)}))},t.prototype.updateRangeBordersIfRangeCount=function(){this.rangeCount>0&&(this.updateRangeBorders(),this.refreshHandle())},t.prototype.getRangeBorders=function(){var t,e,n=this,i=this.beans.gridOptionsService.is("enableRtl"),o=!1,r=!1,s=!1,a=!1,l=this.cellCtrl.getCellPosition().column,c=this.beans,u=c.rangeService,h=c.columnModel;i?(t=h.getDisplayedColAfter(l),e=h.getDisplayedColBefore(l)):(t=h.getDisplayedColBefore(l),e=h.getDisplayedColAfter(l));var d=u.getCellRanges().filter((function(t){return u.isCellInSpecificRange(n.cellCtrl.getCellPosition(),t)}));t||(a=!0),e||(r=!0);for(var p=0;p<d.length&&!(o&&r&&s&&a);p++){var f=d[p],g=u.getRangeStartRow(f),m=u.getRangeEndRow(f);!o&&this.beans.rowPositionUtils.sameRow(g,this.cellCtrl.getCellPosition())&&(o=!0),!s&&this.beans.rowPositionUtils.sameRow(m,this.cellCtrl.getCellPosition())&&(s=!0),!a&&t&&f.columns.indexOf(t)<0&&(a=!0),!r&&e&&f.columns.indexOf(e)<0&&(r=!0)}return{top:o,right:r,bottom:s,left:a}},t.prototype.refreshHandle=function(){if(this.beans.rangeService){var t=this.shouldHaveSelectionHandle();this.selectionHandle&&!t&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),t&&this.addSelectionHandle(),this.cellComp.addOrRemoveCssClass("ag-cell-range-handle",!!this.selectionHandle)}},t.prototype.shouldHaveSelectionHandle=function(){var t=this.beans,e=t.gridOptionsService,n=t.rangeService,i=n.getCellRanges(),o=i.length;if(this.rangeCount<1||o<1)return!1;var r=ft(i),s=this.cellCtrl.getCellPosition(),a=e.is("enableFillHandle")&&!this.cellCtrl.isSuppressFillHandle(),l=e.is("enableRangeHandle"),c=1===o&&!this.cellCtrl.isEditing()&&(a||l);if(this.hasChartRange){var u=i[0].type===cl.DIMENSION&&n.isCellInSpecificRange(s,i[0]);this.cellComp.addOrRemoveCssClass("ag-cell-range-chart-category",u),c=r.type===cl.VALUE}return c&&null!=r.endRow&&n.isContiguousRange(r)&&n.isBottomRightCell(r,s)},t.prototype.addSelectionHandle=function(){var t=this.beans,e=t.gridOptionsService,n=ft(t.rangeService.getCellRanges()).type,i=e.is("enableFillHandle")&&r(n)?ll.FILL:ll.RANGE;this.selectionHandle&&this.selectionHandle.getType()!==i&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),this.selectionHandle||(this.selectionHandle=this.beans.selectionHandleFactory.createSelectionHandle(i)),this.selectionHandle.refresh(this.cellCtrl)},t.prototype.destroy=function(){this.beans.context.destroyBean(this.selectionHandle)},t}(),ml=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),_l=function(t){function e(e,n){var i=t.call(this)||this;return i.cellCtrl=e,i.beans=n,i.column=e.getColumn(),i.rowNode=e.getRowNode(),i.setupColSpan(),i.setupRowSpan(),i}return ml(e,t),e.prototype.setupRowSpan=function(){this.rowSpan=this.column.getRowSpan(this.rowNode)},e.prototype.setComp=function(t){this.eGui=t,this.onLeftChanged(),this.onWidthChanged(),this.applyRowSpan()},e.prototype.onDisplayColumnsChanged=function(){var t=this.getColSpanningList();gt(this.colsSpanning,t)||(this.colsSpanning=t,this.onWidthChanged(),this.onLeftChanged())},e.prototype.setupColSpan=function(){null!=this.column.getColDef().colSpan&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListener(this.beans.eventService,zt.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayColumnsChanged.bind(this)),this.addManagedListener(this.beans.eventService,zt.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onWidthChanged.bind(this)))},e.prototype.onWidthChanged=function(){if(this.eGui){var t=this.getCellWidth();this.eGui.style.width=t+"px"}},e.prototype.getCellWidth=function(){return this.colsSpanning?this.colsSpanning.reduce((function(t,e){return t+e.getActualWidth()}),0):this.column.getActualWidth()},e.prototype.getColSpanningList=function(){var t=this.column.getColSpan(this.rowNode),e=[];if(1===t)e.push(this.column);else for(var n=this.column,i=this.column.getPinned(),o=0;n&&o<t&&(e.push(n),(n=this.beans.columnModel.getDisplayedColAfter(n))&&!r(n))&&i===n.getPinned();o++);return e},e.prototype.onLeftChanged=function(){if(this.eGui){var t=this.modifyLeftForPrintLayout(this.getCellLeft());this.eGui.style.left=t+"px"}},e.prototype.getCellLeft=function(){return(this.beans.gridOptionsService.is("enableRtl")&&this.colsSpanning?ft(this.colsSpanning):this.column).getLeft()},e.prototype.modifyLeftForPrintLayout=function(t){if(!this.cellCtrl.isPrintLayout()||"left"===this.column.getPinned())return t;var e=this.beans.columnModel.getDisplayedColumnsLeftWidth();return"right"===this.column.getPinned()?e+this.beans.columnModel.getBodyContainerWidth()+(t||0):e+(t||0)},e.prototype.applyRowSpan=function(){if(1!==this.rowSpan){var t=this.beans.gridOptionsService.getRowHeightAsNumber()*this.rowSpan;this.eGui.style.height=t+"px",this.eGui.style.zIndex="1"}},e.prototype.destroy=function(){t.prototype.destroy.call(this)},e}(jt),yl=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),vl=function(t){function e(e,n){var i=t.call(this)||this;return i.staticClasses=[],i.cellCtrl=e,i.beans=n,i.column=e.getColumn(),i.rowNode=e.getRowNode(),i}return yl(e,t),e.prototype.setComp=function(t){this.cellComp=t,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()},e.prototype.applyCellClassRules=function(){var t=this,e=this.column.getColDef(),n={value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,colDef:e,column:this.column,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context};this.beans.stylingService.processClassRules(e.cellClassRules,n,(function(e){return t.cellComp.addOrRemoveCssClass(e,!0)}),(function(e){return t.cellComp.addOrRemoveCssClass(e,!1)}))},e.prototype.applyUserStyles=function(){var t=this.column.getColDef();if(t.cellStyle){var e;if("function"==typeof t.cellStyle){var n={column:this.column,value:this.cellCtrl.getValue(),colDef:t,data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context};e=(0,t.cellStyle)(n)}else e=t.cellStyle;e&&this.cellComp.setUserStyles(e)}},e.prototype.applyClassesFromColDef=function(){var t=this,e=this.column.getColDef(),n={value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,column:this.column,colDef:e,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context};this.staticClasses.length&&this.staticClasses.forEach((function(e){return t.cellComp.addOrRemoveCssClass(e,!1)})),this.staticClasses=this.beans.stylingService.getStaticCellClasses(e,n),this.staticClasses.length&&this.staticClasses.forEach((function(e){return t.cellComp.addOrRemoveCssClass(e,!0)}))},e.prototype.destroy=function(){t.prototype.destroy.call(this)},e}(jt),Cl=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),bl=function(t){function e(e,n){var i=t.call(this)||this;return i.ctrl=e,i.beans=n,i}return Cl(e,t),e.prototype.setComp=function(t){this.comp=t,this.setupTooltip()},e.prototype.setupTooltip=function(){this.browserTooltips=this.beans.gridOptionsService.is("enableBrowserTooltips"),this.updateTooltipText(),this.browserTooltips?this.comp.setTitle(null!=this.tooltip?this.tooltip:void 0):this.createTooltipFeatureIfNeeded()},e.prototype.updateTooltipText=function(){this.tooltip=this.ctrl.getTooltipValue()},e.prototype.createTooltipFeatureIfNeeded=function(){var t=this;if(null==this.genericTooltipFeature){var e={getTooltipParams:function(){return t.getTooltipParams()},getGui:function(){return t.ctrl.getGui()}};this.genericTooltipFeature=this.createManagedBean(new co(e),this.beans.context)}},e.prototype.refreshToolTip=function(){this.updateTooltipText(),this.browserTooltips&&this.comp.setTitle(null!=this.tooltip?this.tooltip:void 0)},e.prototype.getTooltipParams=function(){var t=this.ctrl,e=t.getColumn?t.getColumn():void 0,n=t.getColDef?t.getColDef():void 0,i=t.getRowNode?t.getRowNode():void 0;return{location:t.getLocation(),colDef:n,column:e,rowIndex:t.getRowIndex?t.getRowIndex():void 0,node:i,data:i?i.data:void 0,value:this.getTooltipText(),valueFormatted:t.getValueFormatted?t.getValueFormatted():void 0}},e.prototype.getTooltipText=function(){return this.tooltip},e.prototype.destroy=function(){t.prototype.destroy.call(this)},e}(jt),El=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},Sl=function(){function t(){}return t.prototype.postConstruct=function(){this.doingMasterDetail=this.gridOptionsService.isMasterDetail(),this.gridOptionsService.isRowModelType("clientSide")&&(this.clientSideRowModel=this.rowModel),this.gridOptionsService.isRowModelType("serverSide")&&(this.serverSideRowModel=this.rowModel)},El([K("resizeObserverService")],t.prototype,"resizeObserverService",void 0),El([K("paginationProxy")],t.prototype,"paginationProxy",void 0),El([K("context")],t.prototype,"context",void 0),El([K("columnApi")],t.prototype,"columnApi",void 0),El([K("gridApi")],t.prototype,"gridApi",void 0),El([K("gridOptionsService")],t.prototype,"gridOptionsService",void 0),El([K("expressionService")],t.prototype,"expressionService",void 0),El([K("environment")],t.prototype,"environment",void 0),El([K("rowRenderer")],t.prototype,"rowRenderer",void 0),El([K("templateService")],t.prototype,"templateService",void 0),El([K("valueService")],t.prototype,"valueService",void 0),El([K("eventService")],t.prototype,"eventService",void 0),El([K("columnModel")],t.prototype,"columnModel",void 0),El([K("headerNavigationService")],t.prototype,"headerNavigationService",void 0),El([K("navigationService")],t.prototype,"navigationService",void 0),El([K("columnAnimationService")],t.prototype,"columnAnimationService",void 0),El([Y("rangeService")],t.prototype,"rangeService",void 0),El([K("focusService")],t.prototype,"focusService",void 0),El([Y("contextMenuFactory")],t.prototype,"contextMenuFactory",void 0),El([K("popupService")],t.prototype,"popupService",void 0),El([K("valueFormatterService")],t.prototype,"valueFormatterService",void 0),El([K("stylingService")],t.prototype,"stylingService",void 0),El([K("columnHoverService")],t.prototype,"columnHoverService",void 0),El([K("userComponentFactory")],t.prototype,"userComponentFactory",void 0),El([K("userComponentRegistry")],t.prototype,"userComponentRegistry",void 0),El([K("animationFrameService")],t.prototype,"animationFrameService",void 0),El([K("dragService")],t.prototype,"dragService",void 0),El([K("dragAndDropService")],t.prototype,"dragAndDropService",void 0),El([K("sortController")],t.prototype,"sortController",void 0),El([K("filterManager")],t.prototype,"filterManager",void 0),El([K("rowContainerHeightService")],t.prototype,"rowContainerHeightService",void 0),El([K("frameworkOverrides")],t.prototype,"frameworkOverrides",void 0),El([K("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),El([K("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),El([K("selectionService")],t.prototype,"selectionService",void 0),El([Y("selectionHandleFactory")],t.prototype,"selectionHandleFactory",void 0),El([K("rowCssClassCalculator")],t.prototype,"rowCssClassCalculator",void 0),El([K("rowModel")],t.prototype,"rowModel",void 0),El([K("ctrlsService")],t.prototype,"ctrlsService",void 0),El([K("ctrlsFactory")],t.prototype,"ctrlsFactory",void 0),El([K("agStackComponentsRegistry")],t.prototype,"agStackComponentsRegistry",void 0),El([K("valueCache")],t.prototype,"valueCache",void 0),El([K("rowNodeEventThrottle")],t.prototype,"rowNodeEventThrottle",void 0),El([K("localeService")],t.prototype,"localeService",void 0),El([H],t.prototype,"postConstruct",null),t=El([z("beans")],t)}(),wl=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ol=function(t){function e(e,n,i){var o=t.call(this)||this;return o.cellCtrl=e,o.beans=n,o.column=i,o}return wl(e,t),e.prototype.onMouseEvent=function(t,e){if(!Mt(e))switch(t){case"click":this.onCellClicked(e);break;case"mousedown":case"touchstart":this.onMouseDown(e);break;case"dblclick":this.onCellDoubleClicked(e);break;case"mouseout":this.onMouseOut(e);break;case"mouseover":this.onMouseOver(e)}},e.prototype.onCellClicked=function(t){if(this.isDoubleClickOnIPad())return this.onCellDoubleClicked(t),void t.preventDefault();var e=this.beans,n=e.eventService,i=e.rangeService,o=e.gridOptionsService,r=t.ctrlKey||t.metaKey;i&&r&&i.getCellRangeCount(this.cellCtrl.getCellPosition())>1&&i.intersectLastRange(!0);var s=this.cellCtrl.createEvent(t,zt.EVENT_CELL_CLICKED);n.dispatchEvent(s);var a=this.column.getColDef();a.onCellClicked&&window.setTimeout((function(){return a.onCellClicked(s)}),0),(o.is("singleClickEdit")||a.singleClickEdit)&&!o.is("suppressClickEdit")&&this.cellCtrl.startRowOrCellEdit()},e.prototype.isDoubleClickOnIPad=function(){if(!An()||Rt("dblclick"))return!1;var t=(new Date).getTime(),e=t-this.lastIPadMouseClickEvent<200;return this.lastIPadMouseClickEvent=t,e},e.prototype.onCellDoubleClicked=function(t){var e=this.column.getColDef(),n=this.cellCtrl.createEvent(t,zt.EVENT_CELL_DOUBLE_CLICKED);this.beans.eventService.dispatchEvent(n),"function"==typeof e.onCellDoubleClicked&&window.setTimeout((function(){return e.onCellDoubleClicked(n)}),0),!this.beans.gridOptionsService.is("singleClickEdit")&&!this.beans.gridOptionsService.is("suppressClickEdit")&&this.cellCtrl.startRowOrCellEdit(null,null,t)},e.prototype.onMouseDown=function(t){var e=t.ctrlKey,n=t.metaKey,i=t.shiftKey,o=t.target,r=this.beans,s=r.eventService,a=r.rangeService;if(!this.isRightClickInExistingRange(t)){var l=a&&0!=a.getCellRanges().length;if(!i||!l){var c=Pn()&&!this.cellCtrl.isEditing()&&!ii(o);this.cellCtrl.focusCell(c)}if(i&&l&&t.preventDefault(),!this.containsWidget(o)){if(a){var u=this.cellCtrl.getCellPosition();if(i)a.extendLatestRangeToCell(u);else{var h=e||n;a.setRangeToCell(u,h)}}s.dispatchEvent(this.cellCtrl.createEvent(t,zt.EVENT_CELL_MOUSE_DOWN))}}},e.prototype.isRightClickInExistingRange=function(t){var e=this.beans.rangeService;if(e&&(e.isCellInAnyRange(this.cellCtrl.getCellPosition())&&2===t.button))return!0;return!1},e.prototype.containsWidget=function(t){return ai(t,"ag-selection-checkbox",3)},e.prototype.onMouseOut=function(t){if(!this.mouseStayingInsideCell(t)){var e=this.cellCtrl.createEvent(t,zt.EVENT_CELL_MOUSE_OUT);this.beans.eventService.dispatchEvent(e),this.beans.columnHoverService.clearMouseOver()}},e.prototype.onMouseOver=function(t){if(!this.mouseStayingInsideCell(t)){var e=this.cellCtrl.createEvent(t,zt.EVENT_CELL_MOUSE_OVER);this.beans.eventService.dispatchEvent(e),this.beans.columnHoverService.setMouseOver([this.column])}},e.prototype.mouseStayingInsideCell=function(t){if(!t.target||!t.relatedTarget)return!1;var e=this.cellCtrl.getGui(),n=e.contains(t.target),i=e.contains(t.relatedTarget);return n&&i},e.prototype.destroy=function(){},e}(Sl),xl=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Pl=function(t){function e(e,n,i,o,r){var s=t.call(this)||this;return s.cellCtrl=e,s.beans=n,s.rowNode=o,s.rowCtrl=r,s}return xl(e,t),e.prototype.setComp=function(t){this.eGui=t},e.prototype.onKeyDown=function(t){var e=t.key;switch(e){case Vi.ENTER:this.onEnterKeyDown(t);break;case Vi.F2:this.onF2KeyDown(t);break;case Vi.ESCAPE:this.onEscapeKeyDown(t);break;case Vi.TAB:this.onTabKeyDown(t);break;case Vi.BACKSPACE:case Vi.DELETE:this.onBackspaceOrDeleteKeyPressed(e,t);break;case Vi.DOWN:case Vi.UP:case Vi.RIGHT:case Vi.LEFT:this.onNavigationKeyPressed(t,e)}},e.prototype.onNavigationKeyPressed=function(t,e){this.cellCtrl.isEditing()||(t.shiftKey&&this.cellCtrl.isRangeSelectionEnabled()?this.onShiftRangeSelect(t):this.beans.navigationService.navigateToNextCell(t,e,this.cellCtrl.getCellPosition(),!0),t.preventDefault())},e.prototype.onShiftRangeSelect=function(t){if(this.beans.rangeService){var e=this.beans.rangeService.extendLatestRangeInDirection(t);e&&this.beans.navigationService.ensureCellVisible(e)}},e.prototype.onTabKeyDown=function(t){this.beans.navigationService.onTabKeyDown(this.cellCtrl,t)},e.prototype.onBackspaceOrDeleteKeyPressed=function(t,e){var n=this,i=n.cellCtrl,o=n.beans,r=n.rowNode,s=o.gridOptionsService,a=o.rangeService,l=o.eventService;i.isEditing()||(l.dispatchEvent({type:zt.EVENT_KEY_SHORTCUT_CHANGED_CELL_START}),Ki(t,s.is("enableCellEditingOnBackspace"))?a&&s.isEnableRangeSelection()?a.clearCellRangeCellValues():i.isCellEditable()&&r.setDataValue(i.getColumn(),null,"cellClear"):i.startRowOrCellEdit(t,void 0,e),l.dispatchEvent({type:zt.EVENT_KEY_SHORTCUT_CHANGED_CELL_END}))},e.prototype.onEnterKeyDown=function(t){this.cellCtrl.isEditing()||this.rowCtrl.isEditing()?this.cellCtrl.stopEditingAndFocus():this.beans.gridOptionsService.is("enterMovesDown")?this.beans.navigationService.navigateToNextCell(null,Vi.DOWN,this.cellCtrl.getCellPosition(),!1):(this.cellCtrl.startRowOrCellEdit(Vi.ENTER,void 0,t),this.cellCtrl.isEditing()&&t.preventDefault())},e.prototype.onF2KeyDown=function(t){this.cellCtrl.isEditing()||this.cellCtrl.startRowOrCellEdit(Vi.F2,void 0,t)},e.prototype.onEscapeKeyDown=function(t){this.cellCtrl.isEditing()&&(this.cellCtrl.stopRowOrCellEdit(!0),this.cellCtrl.focusCell(!0))},e.prototype.onKeyPress=function(t){if(!(t.target!==this.eGui)&&!this.cellCtrl.isEditing()){var e=String.fromCharCode(t.charCode);" "===e?this.onSpaceKeyPressed(t):Wi(t)&&(this.cellCtrl.startRowOrCellEdit(null,e,t),t.preventDefault())}},e.prototype.onSpaceKeyPressed=function(t){var e=this.beans.gridOptionsService;if(!this.cellCtrl.isEditing()&&e.isRowSelection()){var n=this.rowNode.isSelected(),i=!n;if(i||!e.is("suppressRowDeselection")){var o=this.beans.gridOptionsService.is("groupSelectsFiltered"),r=this.rowNode.setSelectedParams({newValue:i,rangeSelect:t.shiftKey,groupSelectsFiltered:o,event:t,source:"spacePressed"});void 0===n&&0===r&&this.rowNode.setSelectedParams({newValue:!1,rangeSelect:t.shiftKey,groupSelectsFiltered:o,event:t,source:"spacePressed"})}}t.preventDefault()},e.prototype.destroy=function(){t.prototype.destroy.call(this)},e}(jt),Tl=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ml=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},Dl=function(t){function e(e,n,i,o){var r=t.call(this,'<div class="ag-drag-handle ag-row-drag" draggable="true"></div>')||this;return r.rowNode=e,r.column=n,r.beans=i,r.eCell=o,r}return Tl(e,t),e.prototype.postConstruct=function(){this.getGui().appendChild(ji("rowDrag",this.beans.gridOptionsService,null)),this.addGuiEventListener("mousedown",(function(t){t.stopPropagation()})),this.addDragSource(),this.checkVisibility()},e.prototype.addDragSource=function(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))},e.prototype.onDragStart=function(t){var e=this,n=this.column.getColDef().dndSourceOnRowDrag;t.dataTransfer.setDragImage(this.eCell,0,0);n?n({rowNode:this.rowNode,dragEvent:t,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context}):function(){try{var n=JSON.stringify(e.rowNode.data);t.dataTransfer.setData("application/json",n),t.dataTransfer.setData("text/plain",n)}catch(t){}}()},e.prototype.checkVisibility=function(){var t=this.column.isDndSource(this.rowNode);this.setDisplayed(t)},Ml([H],e.prototype,"postConstruct",null),e}(go),Rl=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Al=function(){return Al=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Al.apply(this,arguments)},Ll=0,Il=function(t){function e(e,n,i,o){var r=t.call(this)||this;return r.cellRangeFeature=null,r.cellPositionFeature=null,r.cellCustomStyleFeature=null,r.tooltipFeature=null,r.cellMouseListenerFeature=null,r.cellKeyboardListenerFeature=null,r.suppressRefreshCell=!1,r.onCellCompAttachedFuncs=[],r.column=e,r.rowNode=n,r.beans=i,r.rowCtrl=o,r.instanceId=e.getId()+"-"+Ll++,r.createCellPosition(),r.addFeatures(),r}return Rl(e,t),e.prototype.addFeatures=function(){var t=this;this.cellPositionFeature=new _l(this,this.beans),this.addDestroyFunc((function(){var e;null===(e=t.cellPositionFeature)||void 0===e||e.destroy(),t.cellPositionFeature=null})),this.cellCustomStyleFeature=new vl(this,this.beans),this.addDestroyFunc((function(){var e;null===(e=t.cellCustomStyleFeature)||void 0===e||e.destroy(),t.cellCustomStyleFeature=null})),this.cellMouseListenerFeature=new Ol(this,this.beans,this.column),this.addDestroyFunc((function(){var e;null===(e=t.cellMouseListenerFeature)||void 0===e||e.destroy(),t.cellMouseListenerFeature=null})),this.cellKeyboardListenerFeature=new Pl(this,this.beans,this.column,this.rowNode,this.rowCtrl),this.addDestroyFunc((function(){var e;null===(e=t.cellKeyboardListenerFeature)||void 0===e||e.destroy(),t.cellKeyboardListenerFeature=null})),this.beans.rangeService&&this.beans.gridOptionsService.isEnableRangeSelection()&&(this.cellRangeFeature=new gl(this.beans,this),this.addDestroyFunc((function(){var e;null===(e=t.cellRangeFeature)||void 0===e||e.destroy(),t.cellRangeFeature=null}))),this.column.isTooltipEnabled()&&this.addTooltipFeature()},e.prototype.addTooltipFeature=function(){var t=this,e={getColumn:function(){return t.column},getColDef:function(){return t.column.getColDef()},getRowIndex:function(){return t.cellPosition.rowIndex},getRowNode:function(){return t.rowNode},getGui:function(){return t.getGui()},getLocation:function(){return"cell"},getTooltipValue:function(){var e=t.column.getColDef(),n=t.rowNode.data;if(e.tooltipField&&o(n))return E(n,e.tooltipField,t.column.isTooltipFieldContainsDots());var i=e.tooltipValueGetter;return i?i({location:"cell",api:t.beans.gridOptionsService.api,columnApi:t.beans.gridOptionsService.columnApi,context:t.beans.gridOptionsService.context,colDef:t.column.getColDef(),column:t.column,rowIndex:t.cellPosition.rowIndex,node:t.rowNode,data:t.rowNode.data,value:t.value,valueFormatted:t.valueFormatted}):null},getValueFormatted:function(){return t.valueFormatted}};this.tooltipFeature=new bl(e,this.beans),this.addDestroyFunc((function(){var e;null===(e=t.tooltipFeature)||void 0===e||e.destroy(),t.tooltipFeature=null}))},e.prototype.setComp=function(t,e,n,i,o){var r,s,a,l;this.cellComp=t,this.eGui=e,this.printLayout=i,this.updateAndFormatValue(!0),this.addDomData(),this.onCellFocused(),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),n&&this.setupAutoHeight(n),this.setAriaColIndex(),this.beans.gridOptionsService.is("suppressCellFocus")||this.cellComp.setTabIndex(-1);var c=Ce(this.column.getId());this.cellComp.setColId(c),this.cellComp.setRole("gridcell"),null===(r=this.cellPositionFeature)||void 0===r||r.setComp(e),null===(s=this.cellCustomStyleFeature)||void 0===s||s.setComp(t),null===(a=this.tooltipFeature)||void 0===a||a.setComp(t),null===(l=this.cellKeyboardListenerFeature)||void 0===l||l.setComp(this.eGui),this.cellRangeFeature&&this.cellRangeFeature.setComp(t,e),o&&this.isCellEditable()?this.startEditing():this.showValue(),this.onCellCompAttachedFuncs.length&&(this.onCellCompAttachedFuncs.forEach((function(t){return t()})),this.onCellCompAttachedFuncs=[])},e.prototype.setupAutoHeight=function(t){var e=this;if(this.column.isAutoHeight()){var n=t.parentElement,i=this.beans.gridOptionsService.getRowHeightForNode(this.rowNode).height,o=function(r){if(!e.editing&&e.isAlive()){var s=li(n),a=s.paddingTop+s.paddingBottom+s.borderBottomWidth+s.borderTopWidth,l=t.offsetHeight+a;if(r<5){var c=e.beans.gridOptionsService.getDocument();if(!c||!c.contains(t)||0==l)return void e.beans.frameworkOverrides.setTimeout((function(){return o(r+1)}),0)}var u=Math.max(l,i);e.rowNode.setRowAutoHeight(u,e.column)}},r=function(){return o(0)};r();var s=this.beans.resizeObserverService.observeResize(t,r);this.addDestroyFunc((function(){s(),e.rowNode.setRowAutoHeight(void 0,e.column)}))}},e.prototype.getInstanceId=function(){return this.instanceId},e.prototype.showValue=function(t){void 0===t&&(t=!1);var e=null!=this.valueFormatted?this.valueFormatted:this.value,n=this.createCellRendererParams(),i=this.beans.userComponentFactory.getCellRendererDetails(this.column.getColDef(),n);this.cellComp.setRenderDetails(i,e,t),this.refreshHandle()},e.prototype.setupControlComps=function(){var t=this.column.getColDef();this.includeSelection=this.isIncludeControl(t.checkboxSelection),this.includeRowDrag=this.isIncludeControl(t.rowDrag),this.includeDndSource=this.isIncludeControl(t.dndSource),this.cellComp.setIncludeSelection(this.includeSelection),this.cellComp.setIncludeDndSource(this.includeDndSource),this.cellComp.setIncludeRowDrag(this.includeRowDrag)},e.prototype.isForceWrapper=function(){return this.beans.gridOptionsService.is("enableCellTextSelection")||this.column.isAutoHeight()},e.prototype.isIncludeControl=function(t){return!(null!=this.rowNode.rowPinned)&&("function"==typeof t||!0===t)},e.prototype.refreshShouldDestroy=function(){var t=this.column.getColDef(),e=this.includeSelection!=this.isIncludeControl(t.checkboxSelection),n=this.includeRowDrag!=this.isIncludeControl(t.rowDrag),i=this.includeDndSource!=this.isIncludeControl(t.dndSource);return e||n||i},e.prototype.startEditing=function(t,e,n,i){var o=this;if(void 0===t&&(t=null),void 0===e&&(e=null),void 0===n&&(n=!1),void 0===i&&(i=null),this.isCellEditable()&&!this.editing)if(this.cellComp){var r=this.createCellEditorParams(t,e,n),s=this.column.getColDef(),a=this.beans.userComponentFactory.getCellEditorDetails(s,r),l=null!=(null==a?void 0:a.popupFromSelector)?a.popupFromSelector:!!s.cellEditorPopup,c=null!=(null==a?void 0:a.popupPositionFromSelector)?a.popupPositionFromSelector:s.cellEditorPopupPosition;this.setEditing(!0),this.cellComp.setEditDetails(a,l,c);var u=this.createEvent(i,zt.EVENT_CELL_EDITING_STARTED);this.beans.eventService.dispatchEvent(u)}else this.onCellCompAttachedFuncs.push((function(){o.startEditing(t,e,n,i)}))},e.prototype.setEditing=function(t){this.editing!==t&&(this.editing=t,this.refreshHandle())},e.prototype.stopRowOrCellEdit=function(t){void 0===t&&(t=!1),"fullRow"===this.beans.gridOptionsService.get("editType")?this.rowCtrl.stopRowEditing(t):this.stopEditing(t)},e.prototype.onPopupEditorClosed=function(){this.isEditing()&&this.stopEditingAndFocus()},e.prototype.takeValueFromCellEditor=function(t){var e={newValueExists:!1};if(t)return e;var n=this.cellComp.getCellEditor();return n?n.isCancelAfterEnd&&n.isCancelAfterEnd()?e:{newValue:n.getValue(),newValueExists:!0}:e},e.prototype.saveNewValue=function(t,e){if(e===t)return!1;this.suppressRefreshCell=!0;var n=this.rowNode.setDataValue(this.column,e,"edit");return this.suppressRefreshCell=!1,n},e.prototype.stopEditing=function(t){if(void 0===t&&(t=!1),!this.editing)return!1;var e=this.takeValueFromCellEditor(t),n=e.newValue,i=e.newValueExists,o=this.rowNode.getValueFromValueService(this.column),r=!1;return i&&(r=this.saveNewValue(o,n)),this.setEditing(!1),this.cellComp.setEditDetails(),this.updateAndFormatValue(),this.refreshCell({forceRefresh:!0,suppressFlash:!0}),this.dispatchEditingStoppedEvent(o,n,!t&&!!r),r},e.prototype.dispatchEditingStoppedEvent=function(t,e,n){var i=Al(Al({},this.createEvent(null,zt.EVENT_CELL_EDITING_STOPPED)),{oldValue:t,newValue:e,valueChanged:n});this.beans.eventService.dispatchEvent(i)},e.prototype.createCellEditorParams=function(t,e,n){return{value:this.rowNode.getValueFromValueService(this.column),eventKey:t,charPress:e,column:this.column,colDef:this.column.getColDef(),rowIndex:this.getCellPosition().rowIndex,node:this.rowNode,data:this.rowNode.data,api:this.beans.gridOptionsService.api,cellStartedEdit:n,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context,onKeyDown:this.onKeyDown.bind(this),stopEditing:this.stopEditingAndFocus.bind(this),eGridCell:this.getGui(),parseValue:this.parseValue.bind(this),formatValue:this.formatValue.bind(this)}},e.prototype.createCellRendererParams=function(){var t=this;return{value:this.value,valueFormatted:this.valueFormatted,getValue:function(){return t.rowNode.getValueFromValueService(t.column)},setValue:function(e){return t.beans.valueService.setValue(t.rowNode,t.column,e)},formatValue:this.formatValue.bind(this),data:this.rowNode.data,node:this.rowNode,pinned:this.column.getPinned(),colDef:this.column.getColDef(),column:this.column,rowIndex:this.getCellPosition().rowIndex,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context,refreshCell:this.refreshCell.bind(this),eGridCell:this.getGui(),eParentOfValue:this.cellComp.getParentOfValue(),registerRowDragger:function(e,n,i,o){return t.registerRowDragger(e,n,o)}}},e.prototype.parseValue=function(t){var e=this.column.getColDef(),n={node:this.rowNode,data:this.rowNode.data,oldValue:this.getValue(),newValue:t,colDef:e,column:this.column,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context},i=e.valueParser;return o(i)?"function"==typeof i?i(n):this.beans.expressionService.evaluate(i,n):t},e.prototype.setFocusOutOnEditor=function(){if(this.editing){var t=this.cellComp.getCellEditor();t&&t.focusOut&&t.focusOut()}},e.prototype.setFocusInOnEditor=function(){if(this.editing){var t=this.cellComp.getCellEditor();t&&t.focusIn?t.focusIn():this.focusCell(!0)}},e.prototype.onCellChanged=function(t){this.cellComp&&(t.column===this.column&&this.refreshCell({}))},e.prototype.refreshCell=function(t){var e,n,i;if(!this.suppressRefreshCell&&!this.editing&&this.cellComp){var o=this.column.getColDef(),r=null!=t&&!!t.newData,s=null!=t&&!!t.suppressFlash||!!o.suppressCellFlash,a=null==o.field&&null==o.valueGetter&&null==o.showRowGroup,l=t&&t.forceRefresh||a||r,c=this.updateAndFormatValue();if(l||c){this.showValue(r);var u=this.beans.filterManager.isSuppressFlashingCellsBecauseFiltering();!s&&!u&&(this.beans.gridOptionsService.is("enableCellChangeFlash")||o.enableCellChangeFlash)&&this.flashCell(),null===(e=this.cellCustomStyleFeature)||void 0===e||e.applyUserStyles(),null===(n=this.cellCustomStyleFeature)||void 0===n||n.applyClassesFromColDef()}this.refreshToolTip(),null===(i=this.cellCustomStyleFeature)||void 0===i||i.applyCellClassRules()}},e.prototype.stopEditingAndFocus=function(t){void 0===t&&(t=!1),this.stopRowOrCellEdit(),this.focusCell(!0),t||this.navigateAfterEdit()},e.prototype.navigateAfterEdit=function(){"fullRow"===this.beans.gridOptionsService.get("editType")||this.beans.gridOptionsService.is("enterMovesDownAfterEdit")&&this.beans.navigationService.navigateToNextCell(null,Vi.DOWN,this.getCellPosition(),!1)},e.prototype.flashCell=function(t){var e=t&&t.flashDelay,n=t&&t.fadeDelay;this.animateCell("data-changed",e,n)},e.prototype.animateCell=function(t,e,n){var i,r,s=this,a="ag-cell-"+t,l="ag-cell-"+t+"-animation",c=this.beans.gridOptionsService;e||(e=null!==(i=c.getNum("cellFlashDelay"))&&void 0!==i?i:500),o(n)||(n=null!==(r=c.getNum("cellFadeDelay"))&&void 0!==r?r:1e3),this.cellComp.addOrRemoveCssClass(a,!0),this.cellComp.addOrRemoveCssClass(l,!1),window.setTimeout((function(){s.isAlive()&&(s.cellComp.addOrRemoveCssClass(a,!1),s.cellComp.addOrRemoveCssClass(l,!0),s.eGui.style.transition="background-color "+n+"ms",window.setTimeout((function(){s.isAlive()&&(s.cellComp.addOrRemoveCssClass(l,!1),s.eGui.style.transition="")}),n))}),e)},e.prototype.onFlashCells=function(t){if(this.cellComp){var e=this.beans.cellPositionUtils.createId(this.getCellPosition());t.cells[e]&&this.animateCell("highlight")}},e.prototype.isCellEditable=function(){return this.column.isCellEditable(this.rowNode)},e.prototype.isSuppressFillHandle=function(){return this.column.isSuppressFillHandle()},e.prototype.formatValue=function(t){var e=this.callValueFormatter(t);return null!=e?e:t},e.prototype.callValueFormatter=function(t){return this.beans.valueFormatterService.formatValue(this.column,this.rowNode,t)},e.prototype.updateAndFormatValue=function(t){void 0===t&&(t=!1);var e=this.value,n=this.valueFormatted;return this.value=this.rowNode.getValueFromValueService(this.column),this.valueFormatted=this.callValueFormatter(this.value),!!t||(!this.valuesAreEqual(e,this.value)||this.valueFormatted!=n)},e.prototype.valuesAreEqual=function(t,e){var n=this.column.getColDef();return n.equals?n.equals(t,e):t===e},e.prototype.getComp=function(){return this.cellComp},e.prototype.getValue=function(){return this.value},e.prototype.getValueFormatted=function(){return this.valueFormatted},e.prototype.addDomData=function(){var t=this,n=this.getGui();this.beans.gridOptionsService.setDomData(n,e.DOM_DATA_KEY_CELL_CTRL,this),this.addDestroyFunc((function(){return t.beans.gridOptionsService.setDomData(n,e.DOM_DATA_KEY_CELL_CTRL,null)}))},e.prototype.createEvent=function(t,e){return{type:e,node:this.rowNode,data:this.rowNode.data,value:this.value,column:this.column,colDef:this.column.getColDef(),context:this.beans.gridOptionsService.context,api:this.beans.gridApi,columnApi:this.beans.columnApi,rowPinned:this.rowNode.rowPinned,event:t,rowIndex:this.rowNode.rowIndex}},e.prototype.onKeyPress=function(t){var e;null===(e=this.cellKeyboardListenerFeature)||void 0===e||e.onKeyPress(t)},e.prototype.onKeyDown=function(t){var e;null===(e=this.cellKeyboardListenerFeature)||void 0===e||e.onKeyDown(t)},e.prototype.onMouseEvent=function(t,e){var n;null===(n=this.cellMouseListenerFeature)||void 0===n||n.onMouseEvent(t,e)},e.prototype.getGui=function(){return this.eGui},e.prototype.refreshToolTip=function(){var t;null===(t=this.tooltipFeature)||void 0===t||t.refreshToolTip()},e.prototype.getColSpanningList=function(){return this.cellPositionFeature.getColSpanningList()},e.prototype.onLeftChanged=function(){var t;this.cellComp&&(null===(t=this.cellPositionFeature)||void 0===t||t.onLeftChanged())},e.prototype.onDisplayedColumnsChanged=function(){this.eGui&&this.setAriaColIndex()},e.prototype.setAriaColIndex=function(){var t=this.beans.columnModel.getAriaColumnIndex(this.column);dn(this.getGui(),t)},e.prototype.isSuppressNavigable=function(){return this.column.isSuppressNavigable(this.rowNode)},e.prototype.onWidthChanged=function(){var t;return null===(t=this.cellPositionFeature)||void 0===t?void 0:t.onWidthChanged()},e.prototype.getColumn=function(){return this.column},e.prototype.getRowNode=function(){return this.rowNode},e.prototype.getBeans=function(){return this.beans},e.prototype.isPrintLayout=function(){return this.printLayout},e.prototype.appendChild=function(t){this.eGui.appendChild(t)},e.prototype.refreshHandle=function(){this.cellRangeFeature&&this.cellRangeFeature.refreshHandle()},e.prototype.getCellPosition=function(){return this.cellPosition},e.prototype.isEditing=function(){return this.editing},e.prototype.startRowOrCellEdit=function(t,e,n){void 0===n&&(n=null),this.cellComp&&("fullRow"===this.beans.gridOptionsService.get("editType")?this.rowCtrl.startRowEditing(t,e,this):this.startEditing(t,e,!0,n))},e.prototype.getRowCtrl=function(){return this.rowCtrl},e.prototype.getRowPosition=function(){return{rowIndex:this.cellPosition.rowIndex,rowPinned:this.cellPosition.rowPinned}},e.prototype.updateRangeBordersIfRangeCount=function(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.updateRangeBordersIfRangeCount()},e.prototype.onRangeSelectionChanged=function(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()},e.prototype.isRangeSelectionEnabled=function(){return null!=this.cellRangeFeature},e.prototype.focusCell=function(t){void 0===t&&(t=!1),this.beans.focusService.setFocusedCell({rowIndex:this.getCellPosition().rowIndex,column:this.column,rowPinned:this.rowNode.rowPinned,forceBrowserFocus:t})},e.prototype.onRowIndexChanged=function(){this.createCellPosition(),this.onCellFocused(),this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()},e.prototype.onFirstRightPinnedChanged=function(){if(this.cellComp){var t=this.column.isFirstRightPinned();this.cellComp.addOrRemoveCssClass("ag-cell-first-right-pinned",t)}},e.prototype.onLastLeftPinnedChanged=function(){if(this.cellComp){var t=this.column.isLastLeftPinned();this.cellComp.addOrRemoveCssClass("ag-cell-last-left-pinned",t)}},e.prototype.onCellFocused=function(t){if(this.cellComp&&!this.beans.gridOptionsService.is("suppressCellFocus")){var e=this.beans.focusService.isCellFocused(this.cellPosition);if(this.cellComp.addOrRemoveCssClass("ag-cell-focus",e),e&&t&&t.forceBrowserFocus)this.cellComp.getFocusableElement().focus({preventScroll:!!t.preventScrollOnBrowserFocus});var n="fullRow"===this.beans.gridOptionsService.get("editType");e||n||!this.editing||this.stopRowOrCellEdit()}},e.prototype.createCellPosition=function(){this.cellPosition={rowIndex:this.rowNode.rowIndex,rowPinned:i(this.rowNode.rowPinned),column:this.column}},e.prototype.applyStaticCssClasses=function(){this.cellComp.addOrRemoveCssClass("ag-cell",!0),this.cellComp.addOrRemoveCssClass("ag-cell-not-inline-editing",!0);var t=1==this.column.isAutoHeight();this.cellComp.addOrRemoveCssClass("ag-cell-auto-height",t),this.cellComp.addOrRemoveCssClass("ag-cell-normal-height",!t)},e.prototype.onColumnHover=function(){if(this.cellComp&&this.beans.gridOptionsService.is("columnHoverHighlight")){var t=this.beans.columnHoverService.isHovered(this.column);this.cellComp.addOrRemoveCssClass("ag-column-hover",t)}},e.prototype.onColDefChanged=function(){this.cellComp&&(this.setWrapText(),this.editing||this.refreshCell({forceRefresh:!0,suppressFlash:!0}))},e.prototype.setWrapText=function(){var t=1==this.column.getColDef().wrapText;this.cellComp.addOrRemoveCssClass("ag-cell-wrap-text",t)},e.prototype.dispatchCellContextMenuEvent=function(t){var e=this.column.getColDef(),n=this.createEvent(t,zt.EVENT_CELL_CONTEXT_MENU);this.beans.eventService.dispatchEvent(n),e.onCellContextMenu&&window.setTimeout((function(){return e.onCellContextMenu(n)}),0)},e.prototype.getCellRenderer=function(){return this.cellComp?this.cellComp.getCellRenderer():null},e.prototype.getCellEditor=function(){return this.cellComp?this.cellComp.getCellEditor():null},e.prototype.destroy=function(){this.onCellCompAttachedFuncs=[],t.prototype.destroy.call(this)},e.prototype.createSelectionCheckbox=function(){var t=new Ps;return this.beans.context.createBean(t),t.init({rowNode:this.rowNode,column:this.column}),t},e.prototype.createDndSource=function(){var t=new Dl(this.rowNode,this.column,this.beans,this.eGui);return this.beans.context.createBean(t),t},e.prototype.registerRowDragger=function(t,e,n){var i=this;if(this.customRowDragComp)this.customRowDragComp.setDragElement(t,e);else{var o=this.createRowDragComp(t,e,n);o&&(this.customRowDragComp=o,this.addDestroyFunc((function(){i.beans.context.destroyBean(o),i.customRowDragComp=null})))}},e.prototype.createRowDragComp=function(t,e,n){var i=this,o=this.beans.gridOptionsService.is("pagination"),r=this.beans.gridOptionsService.is("rowDragManaged"),s=this.beans.gridOptionsService.isRowModelType("clientSide");if(r){if(!s)return void P((function(){return console.warn("AG Grid: managed row dragging is only allowed in the Client Side Row Model")}),"CellComp.addRowDragging");if(o)return void P((function(){return console.warn("AG Grid: managed row dragging is not possible when doing pagination")}),"CellComp.addRowDragging")}var a=new ks((function(){return i.value}),this.rowNode,this.column,t,e,n);return this.beans.context.createBean(a),a},e.DOM_DATA_KEY_CELL_CTRL="cellCtrl",e}(jt),kl=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Nl=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Fl=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},Gl=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Fl(arguments[e]));return t};!function(t){t.Normal="Normal",t.FullWidth="FullWidth",t.FullWidthLoading="FullWidthLoading",t.FullWidthGroup="FullWidthGroup",t.FullWidthDetail="FullWidthDetail"}(pl||(pl={}));var Bl,jl,Ul=0,Vl=function(t){function e(e,n,i,o,r){var s=t.call(this)||this;return s.allRowGuis=[],s.active=!0,s.centerCellCtrls={list:[],map:{}},s.leftCellCtrls={list:[],map:{}},s.rightCellCtrls={list:[],map:{}},s.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},s.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},s.lastMouseDownOnDragger=!1,s.updateColumnListsPending=!1,s.businessKeySanitised=null,s.beans=n,s.rowNode=e,s.paginationPage=s.beans.paginationProxy.getCurrentPage(),s.useAnimationFrameForCreate=o,s.printLayout=r,s.instanceId=e.id+"-"+Ul++,s.setAnimateFlags(i),s.initRowBusinessKey(),s.rowFocused=s.beans.focusService.isRowFocused(s.rowNode.rowIndex,s.rowNode.rowPinned),s.rowLevel=s.beans.rowCssClassCalculator.calculateRowLevel(s.rowNode),s.setRowType(),s.addListeners(),s}return kl(e,t),e.prototype.initRowBusinessKey=function(){var t=this.beans.gridOptionsService.get("getBusinessKeyForNode");if("function"==typeof t){var e=t(this.rowNode);this.businessKeySanitised=Ce(e)}},e.prototype.isSticky=function(){return this.rowNode.sticky},e.prototype.getBeans=function(){return this.beans},e.prototype.getInstanceId=function(){return this.instanceId},e.prototype.setComp=function(t,e,n){var i={rowComp:t,element:e,containerType:n};this.allRowGuis.push(i),n===jl.LEFT?this.leftGui=i:n===jl.RIGHT?this.rightGui=i:n===jl.FULL_WIDTH?this.fullWidthGui=i:this.centerGui=i,this.initialiseRowComp(i),"FullWidthLoading"===this.rowType||this.rowNode.rowPinned||this.beans.rowRenderer.dispatchFirstDataRenderedEvent()},e.prototype.unsetComp=function(t){this.allRowGuis=this.allRowGuis.filter((function(e){return e.containerType!==t})),t===jl.LEFT?this.leftGui=void 0:t===jl.RIGHT?this.rightGui=void 0:t===jl.FULL_WIDTH&&(this.fullWidthGui=void 0)},e.prototype.isCacheable=function(){return this.rowType===pl.FullWidthDetail&&this.beans.gridOptionsService.is("keepDetailRows")},e.prototype.setCached=function(t){var e=t?"none":"";this.allRowGuis.forEach((function(t){return t.element.style.display=e}))},e.prototype.initialiseRowComp=function(t){var n=this,i=this.beans.gridOptionsService;this.onRowHeightChanged(t),this.updateRowIndexes(t),this.setFocusedClasses(t),this.setStylesFromGridOptions(t),i.isRowSelection()&&this.rowNode.selectable&&this.onRowSelected(t),this.updateColumnLists(!this.useAnimationFrameForCreate);var o=t.rowComp;o.setRole("row"),this.getInitialRowClasses(t.containerType).forEach((function(t){return o.addOrRemoveCssClass(t,!0)})),this.executeSlideAndFadeAnimations(t),this.rowNode.group&&on(t.element,1==this.rowNode.expanded);var r=Ce(this.rowNode.id);null!=r&&o.setRowId(r),null!=this.businessKeySanitised&&o.setRowBusinessKey(this.businessKeySanitised),this.isFullWidth()&&!this.beans.gridOptionsService.is("suppressCellFocus")&&o.setTabIndex(-1),i.setDomData(t.element,e.DOM_DATA_KEY_ROW_CTRL,this),this.addDestroyFunc((function(){return i.setDomData(t.element,e.DOM_DATA_KEY_ROW_CTRL,null)})),this.useAnimationFrameForCreate?this.beans.animationFrameService.createTask(this.addHoverFunctionality.bind(this,t.element),this.rowNode.rowIndex,"createTasksP2"):this.addHoverFunctionality(t.element),this.isFullWidth()&&this.setupFullWidth(t),i.is("rowDragEntireRow")&&this.addRowDraggerToRow(t),this.useAnimationFrameForCreate&&this.beans.animationFrameService.addDestroyTask((function(){n.isAlive()&&t.rowComp.addOrRemoveCssClass("ag-after-created",!0)})),this.executeProcessRowPostCreateFunc()},e.prototype.executeSlideAndFadeAnimations=function(t){var e=this,n=t.containerType;this.slideInAnimation[n]&&(L((function(){e.onTopChanged()})),this.slideInAnimation[n]=!1),this.fadeInAnimation[n]&&(L((function(){t.rowComp.addOrRemoveCssClass("ag-opacity-zero",!1)})),this.fadeInAnimation[n]=!1)},e.prototype.addRowDraggerToRow=function(t){if(this.beans.gridOptionsService.isEnableRangeSelection())P((function(){console.warn("AG Grid: Setting `rowDragEntireRow: true` in the gridOptions doesn't work with `enableRangeSelection: true`")}),"rowDragAndRangeSelectionEnabled");else{var e=this.beans.localeService.getLocaleTextFunc(),n=new ks((function(){return"1 "+e("rowDragRow","row")}),this.rowNode,void 0,t.element,void 0,!0);this.createManagedBean(n,this.beans.context)}},e.prototype.setupFullWidth=function(t){var e=this.getPinnedForContainer(t.containerType),n=this.createFullWidthParams(t.element,e);if(this.rowType!=pl.FullWidthDetail||it.assertRegistered(J.MasterDetailModule,"cell renderer 'agDetailCellRenderer' (for master detail)")){var i;switch(this.rowType){case pl.FullWidthDetail:i=this.beans.userComponentFactory.getFullWidthDetailCellRendererDetails(n);break;case pl.FullWidthGroup:i=this.beans.userComponentFactory.getFullWidthGroupCellRendererDetails(n);break;case pl.FullWidthLoading:i=this.beans.userComponentFactory.getFullWidthLoadingCellRendererDetails(n);break;default:i=this.beans.userComponentFactory.getFullWidthCellRendererDetails(n)}t.rowComp.showFullWidth(i)}},e.prototype.isPrintLayout=function(){return this.printLayout},e.prototype.getFullWidthCellRenderer=function(){var t,e;return null===(e=null===(t=this.fullWidthGui)||void 0===t?void 0:t.rowComp)||void 0===e?void 0:e.getFullWidthCellRenderer()},e.prototype.getCellElement=function(t){var e=this.getCellCtrl(t);return e?e.getGui():null},e.prototype.executeProcessRowPostCreateFunc=function(){var t,e=this.beans.gridOptionsService.getCallback("processRowPostCreate");e&&this.areAllContainersReady()&&e({eRow:null===(t=this.centerGui)||void 0===t?void 0:t.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)})},e.prototype.areAllContainersReady=function(){var t=!!this.leftGui||!this.beans.columnModel.isPinningLeft(),e=!!this.centerGui,n=!!this.rightGui||!this.beans.columnModel.isPinningRight();return t&&e&&n},e.prototype.setRowType=function(){var t=this.rowNode.stub,e=this.rowNode.isFullWidthCell(),n=this.beans.doingMasterDetail&&this.rowNode.detail,i=this.beans.columnModel.isPivotMode(),o=!!this.rowNode.group&&!this.rowNode.footer&&this.beans.gridOptionsService.isGroupUseEntireRow(i);this.rowType=t?pl.FullWidthLoading:n?pl.FullWidthDetail:e?pl.FullWidth:o?pl.FullWidthGroup:pl.Normal},e.prototype.updateColumnLists=function(t,e){var n=this;(void 0===t&&(t=!1),void 0===e&&(e=!1),this.isFullWidth())||(t||this.beans.gridOptionsService.is("suppressAnimationFrame")||this.printLayout?this.updateColumnListsImpl(e):this.updateColumnListsPending||(this.beans.animationFrameService.createTask((function(){n.active&&n.updateColumnListsImpl(!0)}),this.rowNode.rowIndex,"createTasksP1"),this.updateColumnListsPending=!0))},e.prototype.createCellCtrls=function(t,e,n){var i=this;void 0===n&&(n=null);var o={list:[],map:{}},r=function(t,e){o.list.push(e),o.map[t]=e};return e.forEach((function(e){var n=e.getInstanceId(),o=t.map[n];o||(o=new Il(e,i.rowNode,i.beans,i)),r(n,o)})),t.list.forEach((function(t){null!=o.map[t.getColumn().getInstanceId()]||(!i.isCellEligibleToBeRemoved(t,n)?r(t.getColumn().getInstanceId(),t):t.destroy())})),o},e.prototype.updateColumnListsImpl=function(t){var e=this;void 0===t&&(t=!1),this.updateColumnListsPending=!1;var n=this.beans.columnModel;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,n.getAllDisplayedColumns()),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{var i=n.getViewportCenterColumnsForRow(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,i);var o=n.getDisplayedLeftColumnsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,o,"left");var r=n.getDisplayedRightColumnsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,r,"right")}this.allRowGuis.forEach((function(n){var i=n.containerType===jl.LEFT?e.leftCellCtrls:n.containerType===jl.RIGHT?e.rightCellCtrls:e.centerCellCtrls;n.rowComp.setCellCtrls(i.list,t)}))},e.prototype.isCellEligibleToBeRemoved=function(t,e){var n=!0;if(t.getColumn().getPinned()!=e)return n;var i=t.isEditing(),o=this.beans.focusService.isCellFocused(t.getCellPosition());if(i||o){var r=t.getColumn();return!(this.beans.columnModel.getAllDisplayedColumns().indexOf(r)>=0)&&n}return n},e.prototype.setAnimateFlags=function(t){if(!this.isSticky()&&t){var e=o(this.rowNode.oldRowTop),n=this.beans.columnModel.isPinningLeft(),i=this.beans.columnModel.isPinningRight();e?(this.slideInAnimation.center=!0,this.slideInAnimation.left=n,this.slideInAnimation.right=i):(this.fadeInAnimation.center=!0,this.fadeInAnimation.left=n,this.fadeInAnimation.right=i)}},e.prototype.isEditing=function(){return this.editingRow},e.prototype.stopRowEditing=function(t){this.stopEditing(t)},e.prototype.isFullWidth=function(){return this.rowType!==pl.Normal},e.prototype.getRowType=function(){return this.rowType},e.prototype.refreshFullWidth=function(){var t=this,e=function(e,n){if(!e)return!0;var i=e.rowComp.getFullWidthCellRenderer();if(!i)return!1;if(!i.refresh)return!1;var o=t.createFullWidthParams(e.element,n);return i.refresh(o)},n=e(this.fullWidthGui,null),i=e(this.centerGui,null),o=e(this.leftGui,"left"),r=e(this.rightGui,"right");return n&&i&&o&&r},e.prototype.addListeners=function(){var t=this;this.addManagedListener(this.rowNode,Ss.EVENT_HEIGHT_CHANGED,(function(){return t.onRowHeightChanged()})),this.addManagedListener(this.rowNode,Ss.EVENT_ROW_SELECTED,(function(){return t.onRowSelected()})),this.addManagedListener(this.rowNode,Ss.EVENT_ROW_INDEX_CHANGED,this.onRowIndexChanged.bind(this)),this.addManagedListener(this.rowNode,Ss.EVENT_TOP_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(this.rowNode,Ss.EVENT_EXPANDED_CHANGED,this.updateExpandedCss.bind(this)),this.addManagedListener(this.rowNode,Ss.EVENT_HAS_CHILDREN_CHANGED,this.updateExpandedCss.bind(this)),this.addManagedListener(this.rowNode,Ss.EVENT_DATA_CHANGED,this.onRowNodeDataChanged.bind(this)),this.addManagedListener(this.rowNode,Ss.EVENT_CELL_CHANGED,this.onRowNodeCellChanged.bind(this)),this.addManagedListener(this.rowNode,Ss.EVENT_HIGHLIGHT_CHANGED,this.onRowNodeHighlightChanged.bind(this)),this.addManagedListener(this.rowNode,Ss.EVENT_DRAGGING_CHANGED,this.onRowNodeDraggingChanged.bind(this)),this.addManagedListener(this.rowNode,Ss.EVENT_UI_LEVEL_CHANGED,this.onUiLevelChanged.bind(this));var e=this.beans.eventService;this.addManagedListener(e,zt.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,this.onPaginationPixelOffsetChanged.bind(this)),this.addManagedListener(e,zt.EVENT_HEIGHT_SCALE_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(e,zt.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(e,zt.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(e,zt.EVENT_CELL_FOCUSED,this.onCellFocused.bind(this)),this.addManagedListener(e,zt.EVENT_CELL_FOCUS_CLEARED,this.onCellFocusCleared.bind(this)),this.addManagedListener(e,zt.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),this.addManagedListener(e,zt.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedListener(e,zt.EVENT_COLUMN_MOVED,this.onColumnMoved.bind(this)),this.addListenersForCellComps()},e.prototype.onColumnMoved=function(){this.updateColumnLists()},e.prototype.addListenersForCellComps=function(){var t=this;this.addManagedListener(this.rowNode,Ss.EVENT_ROW_INDEX_CHANGED,(function(){t.getAllCellCtrls().forEach((function(t){return t.onRowIndexChanged()}))})),this.addManagedListener(this.rowNode,Ss.EVENT_CELL_CHANGED,(function(e){t.getAllCellCtrls().forEach((function(t){return t.onCellChanged(e)}))}))},e.prototype.onRowNodeDataChanged=function(t){this.rowNode.detailNode&&this.beans.rowRenderer.refreshFullWidthRow(this.rowNode.detailNode),this.isFullWidth()?this.beans.rowRenderer.refreshFullWidthRow(this.rowNode):(this.getAllCellCtrls().forEach((function(e){return e.refreshCell({suppressFlash:!t.update,newData:!t.update})})),this.onRowSelected(),this.postProcessCss())},e.prototype.onRowNodeCellChanged=function(){this.postProcessCss()},e.prototype.postProcessCss=function(){this.setStylesFromGridOptions(),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()},e.prototype.onRowNodeHighlightChanged=function(){var t=this.rowNode.highlighted;this.allRowGuis.forEach((function(e){var n=t===Pa.Above,i=t===Pa.Below;e.rowComp.addOrRemoveCssClass("ag-row-highlight-above",n),e.rowComp.addOrRemoveCssClass("ag-row-highlight-below",i)}))},e.prototype.onRowNodeDraggingChanged=function(){this.postProcessRowDragging()},e.prototype.postProcessRowDragging=function(){var t=this.rowNode.dragging;this.allRowGuis.forEach((function(e){return e.rowComp.addOrRemoveCssClass("ag-row-dragging",t)}))},e.prototype.updateExpandedCss=function(){var t=this.rowNode.isExpandable(),e=1==this.rowNode.expanded;this.allRowGuis.forEach((function(n){n.rowComp.addOrRemoveCssClass("ag-row-group",t),n.rowComp.addOrRemoveCssClass("ag-row-group-expanded",t&&e),n.rowComp.addOrRemoveCssClass("ag-row-group-contracted",t&&!e),on(n.element,t&&e)}))},e.prototype.onDisplayedColumnsChanged=function(){this.updateColumnLists(!0),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights()},e.prototype.onVirtualColumnsChanged=function(){this.updateColumnLists(!1,!0)},e.prototype.getRowPosition=function(){return{rowPinned:i(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}},e.prototype.onKeyboardNavigate=function(t){var e=this.allRowGuis.find((function(e){return e.element.contains(t.target)}));if((e?e.element:null)===t.target){var n=this.rowNode,i=this.beans.focusService.getFocusedCell(),o={rowIndex:n.rowIndex,rowPinned:n.rowPinned,column:i&&i.column};this.beans.navigationService.navigateToNextCell(t,t.key,o,!0),t.preventDefault()}},e.prototype.onTabKeyDown=function(t){if(!t.defaultPrevented&&!Mt(t)){var e=this.allRowGuis.find((function(e){return e.element.contains(t.target)})),n=e?e.element:null,i=n===t.target,o=null;i||(o=this.beans.focusService.findNextFocusableElement(n,!1,t.shiftKey)),(this.isFullWidth()&&i||!o)&&this.beans.navigationService.onTabKeyDown(this,t)}},e.prototype.onFullWidthRowFocused=function(t){var e,n=this.rowNode,i=!!t&&(this.isFullWidth()&&t.rowIndex===n.rowIndex&&t.rowPinned==n.rowPinned),o=this.fullWidthGui?this.fullWidthGui.element:null===(e=this.centerGui)||void 0===e?void 0:e.element;o&&(o.classList.toggle("ag-full-width-focus",i),i&&o.focus({preventScroll:!0}))},e.prototype.refreshCell=function(t){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,t),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,t),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,t),this.updateColumnLists()},e.prototype.removeCellCtrl=function(t,e){var n={list:[],map:{}};return t.list.forEach((function(t){t!==e&&(n.list.push(t),n.map[t.getInstanceId()]=t)})),n},e.prototype.onMouseEvent=function(t,e){switch(t){case"dblclick":this.onRowDblClick(e);break;case"click":this.onRowClick(e);break;case"touchstart":case"mousedown":this.onRowMouseDown(e)}},e.prototype.createRowEvent=function(t,e){return{type:t,node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,context:this.beans.gridOptionsService.context,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,event:e}},e.prototype.createRowEventWithSource=function(t,e){var n=this.createRowEvent(t,e);return n.source=this,n},e.prototype.onRowDblClick=function(t){if(!Mt(t)){var e=this.createRowEventWithSource(zt.EVENT_ROW_DOUBLE_CLICKED,t);this.beans.eventService.dispatchEvent(e)}},e.prototype.onRowMouseDown=function(t){if(this.lastMouseDownOnDragger=ai(t.target,"ag-row-drag",3),this.isFullWidth()){var e=this.rowNode,n=this.beans.columnModel;this.beans.rangeService&&this.beans.rangeService.removeAllCellRanges(),this.beans.focusService.setFocusedCell({rowIndex:e.rowIndex,column:n.getAllDisplayedColumns()[0],rowPinned:e.rowPinned,forceBrowserFocus:!0})}},e.prototype.onRowClick=function(t){if(!(Mt(t)||this.lastMouseDownOnDragger)){var e=this.createRowEventWithSource(zt.EVENT_ROW_CLICKED,t);this.beans.eventService.dispatchEvent(e);var n=t.ctrlKey||t.metaKey,i=t.shiftKey;if(!(this.beans.gridOptionsService.is("groupSelectsChildren")&&this.rowNode.group||!this.rowNode.selectable||this.rowNode.rowPinned||!this.beans.gridOptionsService.isRowSelection()||this.beans.gridOptionsService.is("suppressRowClickSelection"))){var o=this.beans.gridOptionsService.is("rowMultiSelectWithClick"),r=!this.beans.gridOptionsService.is("suppressRowDeselection"),s="rowClicked";if(this.rowNode.isSelected())o?this.rowNode.setSelectedParams({newValue:!1,event:t,source:s}):n?r&&this.rowNode.setSelectedParams({newValue:!1,event:t,source:s}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!i,rangeSelect:i,event:t,source:s});else{var a=!o&&!n;this.rowNode.setSelectedParams({newValue:!0,clearSelection:a,rangeSelect:i,event:t,source:s})}}}},e.prototype.setupDetailRowAutoHeight=function(t){var e=this;if(this.rowType===pl.FullWidthDetail&&this.beans.gridOptionsService.is("detailRowAutoHeight")){var n=function(){var n=t.clientHeight;if(null!=n&&n>0){e.beans.frameworkOverrides.setTimeout((function(){e.rowNode.setRowHeight(n),e.beans.clientSideRowModel?e.beans.clientSideRowModel.onRowHeightChanged():e.beans.serverSideRowModel&&e.beans.serverSideRowModel.onRowHeightChanged()}),0)}},i=this.beans.resizeObserverService.observeResize(t,n);this.addDestroyFunc(i),n()}},e.prototype.createFullWidthParams=function(t,e){var n=this;return{fullWidth:!0,data:this.rowNode.data,node:this.rowNode,value:this.rowNode.key,valueFormatted:this.rowNode.key,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context,eGridCell:t,eParentOfValue:t,pinned:e,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:function(t,e,i,o){return n.addFullWidthRowDragging(t,e,i,o)}}},e.prototype.addFullWidthRowDragging=function(t,e,n,i){if(void 0===n&&(n=""),this.isFullWidth()){var o=new ks((function(){return n}),this.rowNode,void 0,t,e,i);this.createManagedBean(o,this.beans.context)}},e.prototype.onUiLevelChanged=function(){var t=this.beans.rowCssClassCalculator.calculateRowLevel(this.rowNode);if(this.rowLevel!=t){var e="ag-row-level-"+t,n="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach((function(t){t.rowComp.addOrRemoveCssClass(e,!0),t.rowComp.addOrRemoveCssClass(n,!1)}))}this.rowLevel=t},e.prototype.isFirstRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageFirstRow()},e.prototype.isLastRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageLastRow()},e.prototype.onModelUpdated=function(){this.refreshFirstAndLastRowStyles()},e.prototype.refreshFirstAndLastRowStyles=function(){var t=this.isFirstRowOnPage(),e=this.isLastRowOnPage();this.firstRowOnPage!==t&&(this.firstRowOnPage=t,this.allRowGuis.forEach((function(e){return e.rowComp.addOrRemoveCssClass("ag-row-first",t)}))),this.lastRowOnPage!==e&&(this.lastRowOnPage=e,this.allRowGuis.forEach((function(t){return t.rowComp.addOrRemoveCssClass("ag-row-last",e)})))},e.prototype.stopEditing=function(t){var e,n;if(void 0===t&&(t=!1),!this.stoppingRowEdit){var i=this.getAllCellCtrls(),o=this.editingRow;this.stoppingRowEdit=!0;var r=!1;try{for(var s=Nl(i),a=s.next();!a.done;a=s.next()){var l=a.value.stopEditing(t);o&&!t&&!r&&l&&(r=!0)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}if(r){var c=this.createRowEvent(zt.EVENT_ROW_VALUE_CHANGED);this.beans.eventService.dispatchEvent(c)}o&&this.setEditingRow(!1),this.stoppingRowEdit=!1}},e.prototype.setInlineEditingCss=function(t){this.allRowGuis.forEach((function(e){e.rowComp.addOrRemoveCssClass("ag-row-inline-editing",t),e.rowComp.addOrRemoveCssClass("ag-row-not-inline-editing",!t)}))},e.prototype.setEditingRow=function(t){this.editingRow=t,this.allRowGuis.forEach((function(e){return e.rowComp.addOrRemoveCssClass("ag-row-editing",t)}));var e=t?this.createRowEvent(zt.EVENT_ROW_EDITING_STARTED):this.createRowEvent(zt.EVENT_ROW_EDITING_STOPPED);this.beans.eventService.dispatchEvent(e)},e.prototype.startRowEditing=function(t,e,n,i){(void 0===t&&(t=null),void 0===e&&(e=null),void 0===n&&(n=null),void 0===i&&(i=null),this.editingRow)||this.getAllCellCtrls().reduce((function(o,r){var s=r===n;return s?r.startEditing(t,e,s,i):r.startEditing(null,null,s,i),!!o||r.isEditing()}),!1)&&this.setEditingRow(!0)},e.prototype.getAllCellCtrls=function(){return 0===this.leftCellCtrls.list.length&&0===this.rightCellCtrls.list.length?this.centerCellCtrls.list:Gl(this.centerCellCtrls.list,this.leftCellCtrls.list,this.rightCellCtrls.list)},e.prototype.postProcessClassesFromGridOptions=function(){var t=this,e=this.beans.rowCssClassCalculator.processClassesFromGridOptions(this.rowNode);e&&e.length&&e.forEach((function(e){t.allRowGuis.forEach((function(t){return t.rowComp.addOrRemoveCssClass(e,!0)}))}))},e.prototype.postProcessRowClassRules=function(){var t=this;this.beans.rowCssClassCalculator.processRowClassRules(this.rowNode,(function(e){t.allRowGuis.forEach((function(t){return t.rowComp.addOrRemoveCssClass(e,!0)}))}),(function(e){t.allRowGuis.forEach((function(t){return t.rowComp.addOrRemoveCssClass(e,!1)}))}))},e.prototype.setStylesFromGridOptions=function(t){var e=this.processStylesFromGridOptions();this.forEachGui(t,(function(t){return t.rowComp.setUserStyles(e)}))},e.prototype.getPinnedForContainer=function(t){return t===jl.LEFT?"left":t===jl.RIGHT?"right":null},e.prototype.getInitialRowClasses=function(t){var e=this.getPinnedForContainer(t),n={rowNode:this.rowNode,rowFocused:this.rowFocused,fadeRowIn:this.fadeInAnimation[t],rowIsEven:this.rowNode.rowIndex%2==0,rowLevel:this.rowLevel,fullWidthRow:this.isFullWidth(),firstRowOnPage:this.isFirstRowOnPage(),lastRowOnPage:this.isLastRowOnPage(),printLayout:this.printLayout,expandable:this.rowNode.isExpandable(),pinned:e};return this.beans.rowCssClassCalculator.getInitialRowClasses(n)},e.prototype.processStylesFromGridOptions=function(){var t=this.beans.gridOptionsService.get("rowStyle");if(!t||"function"!=typeof t){var e,n=this.beans.gridOptionsService.getCallback("getRowStyle");if(n)e=n({data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex});return Object.assign({},t,e)}console.warn("AG Grid: rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead")},e.prototype.onRowSelected=function(t){var e=this,n=!!this.rowNode.isSelected();this.forEachGui(t,(function(t){t.rowComp.addOrRemoveCssClass("ag-row-selected",n),mn(t.element,!!n||void 0);var i=e.createAriaLabel();qe(t.element,null==i?"":i)}))},e.prototype.createAriaLabel=function(){var t=this.rowNode.isSelected();if(!t||!this.beans.gridOptionsService.is("suppressRowDeselection"))return this.beans.localeService.getLocaleTextFunc()(t?"ariaRowDeselect":"ariaRowSelect","Press SPACE to "+(t?"deselect":"select")+" this row.")},e.prototype.isUseAnimationFrameForCreate=function(){return this.useAnimationFrameForCreate},e.prototype.addHoverFunctionality=function(t){var e=this;this.active&&(this.addManagedListener(t,"mouseenter",(function(){return e.rowNode.onMouseEnter()})),this.addManagedListener(t,"mouseleave",(function(){return e.rowNode.onMouseLeave()})),this.addManagedListener(this.rowNode,Ss.EVENT_MOUSE_ENTER,(function(){e.beans.dragService.isDragging()||e.beans.gridOptionsService.is("suppressRowHoverHighlight")||(t.classList.add("ag-row-hover"),e.rowNode.setHovered(!0))})),this.addManagedListener(this.rowNode,Ss.EVENT_MOUSE_LEAVE,(function(){t.classList.remove("ag-row-hover"),e.rowNode.setHovered(!1)})))},e.prototype.roundRowTopToBounds=function(t){var e=this.beans.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),n=this.applyPaginationOffset(e.top,!0)-100,i=this.applyPaginationOffset(e.bottom,!0)+100;return Math.min(Math.max(n,t),i)},e.prototype.getFrameworkOverrides=function(){return this.beans.frameworkOverrides},e.prototype.forEachGui=function(t,e){(t?[t]:this.allRowGuis).forEach(e)},e.prototype.onRowHeightChanged=function(t){if(null!=this.rowNode.rowHeight){var e=this.rowNode.rowHeight,n=this.beans.environment.getDefaultRowHeight(),i=this.beans.gridOptionsService.isGetRowHeightFunction()?this.beans.gridOptionsService.getRowHeightForNode(this.rowNode).height:void 0,o=i?Math.min(n,i)-2+"px":void 0;this.forEachGui(t,(function(t){t.element.style.height=e+"px",o&&t.element.style.setProperty("--ag-line-height",o)}))}},e.prototype.addEventListener=function(e,n){t.prototype.addEventListener.call(this,e,n)},e.prototype.removeEventListener=function(e,n){t.prototype.removeEventListener.call(this,e,n)},e.prototype.destroyFirstPass=function(){this.active=!1,this.beans.gridOptionsService.isAnimateRows()&&this.setupRemoveAnimation(),this.rowNode.setHovered(!1);var e=this.createRowEvent(zt.EVENT_VIRTUAL_ROW_REMOVED);this.dispatchEvent(e),this.beans.eventService.dispatchEvent(e),t.prototype.destroy.call(this)},e.prototype.setupRemoveAnimation=function(){if(!this.isSticky())if(null!=this.rowNode.rowTop){var t=this.roundRowTopToBounds(this.rowNode.rowTop);this.setRowTop(t)}else this.allRowGuis.forEach((function(t){return t.rowComp.addOrRemoveCssClass("ag-opacity-zero",!0)}))},e.prototype.destroySecondPass=function(){this.allRowGuis.length=0;var t=function(t){return t.list.forEach((function(t){return t.destroy()})),{list:[],map:{}}};this.centerCellCtrls=t(this.centerCellCtrls),this.leftCellCtrls=t(this.leftCellCtrls),this.rightCellCtrls=t(this.rightCellCtrls)},e.prototype.setFocusedClasses=function(t){var e=this;this.forEachGui(t,(function(t){t.rowComp.addOrRemoveCssClass("ag-row-focus",e.rowFocused),t.rowComp.addOrRemoveCssClass("ag-row-no-focus",!e.rowFocused)}))},e.prototype.onCellFocused=function(){this.onCellFocusChanged()},e.prototype.onCellFocusCleared=function(){this.onCellFocusChanged()},e.prototype.onCellFocusChanged=function(){var t=this.beans.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);t!==this.rowFocused&&(this.rowFocused=t,this.setFocusedClasses()),!t&&this.editingRow&&this.stopEditing(!1)},e.prototype.onPaginationChanged=function(){var t=this.beans.paginationProxy.getCurrentPage();this.paginationPage!==t&&(this.paginationPage=t,this.onTopChanged()),this.refreshFirstAndLastRowStyles()},e.prototype.onTopChanged=function(){this.setRowTop(this.rowNode.rowTop)},e.prototype.onPaginationPixelOffsetChanged=function(){this.onTopChanged()},e.prototype.applyPaginationOffset=function(t,e){return void 0===e&&(e=!1),this.rowNode.isRowPinned()?t:t+this.beans.paginationProxy.getPixelOffset()*(e?1:-1)},e.prototype.setRowTop=function(t){if(!this.printLayout&&o(t)){var e=this.applyPaginationOffset(t),n=(this.rowNode.isRowPinned()?e:this.beans.rowContainerHeightService.getRealPixelPosition(e))+"px";this.setRowTopStyle(n)}},e.prototype.getInitialRowTop=function(t){return this.beans.gridOptionsService.is("suppressRowTransform")?this.getInitialRowTopShared(t):void 0},e.prototype.getInitialTransform=function(t){return this.beans.gridOptionsService.is("suppressRowTransform")?void 0:"translateY("+this.getInitialRowTopShared(t)+")"},e.prototype.getInitialRowTopShared=function(t){if(this.printLayout)return"";var e;if(this.isSticky())e=this.rowNode.stickyRowTop;else{var n=this.slideInAnimation[t]?this.roundRowTopToBounds(this.rowNode.oldRowTop):this.rowNode.rowTop,i=this.applyPaginationOffset(n);e=this.rowNode.isRowPinned()?i:this.beans.rowContainerHeightService.getRealPixelPosition(i)}return e+"px"},e.prototype.setRowTopStyle=function(t){var e=this.beans.gridOptionsService.is("suppressRowTransform");this.allRowGuis.forEach((function(n){return e?n.rowComp.setTop(t):n.rowComp.setTransform("translateY("+t+")")}))},e.prototype.getRowNode=function(){return this.rowNode},e.prototype.getCellCtrl=function(t){var e=null;return this.getAllCellCtrls().forEach((function(n){n.getColumn()==t&&(e=n)})),null!=e||this.getAllCellCtrls().forEach((function(n){n.getColSpanningList().indexOf(t)>=0&&(e=n)})),e},e.prototype.onRowIndexChanged=function(){null!=this.rowNode.rowIndex&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())},e.prototype.updateRowIndexes=function(t){var e=this.rowNode.getRowIndexString(),n=this.beans.headerNavigationService.getHeaderRowCount(),i=this.rowNode.rowIndex%2==0,o=n+this.rowNode.rowIndex+1;this.forEachGui(t,(function(t){t.rowComp.setRowIndex(e),t.rowComp.addOrRemoveCssClass("ag-row-even",i),t.rowComp.addOrRemoveCssClass("ag-row-odd",!i),un(t.element,o)}))},e.prototype.getPinnedLeftRowElement=function(){return this.leftGui?this.leftGui.element:void 0},e.prototype.getPinnedRightRowElement=function(){return this.rightGui?this.rightGui.element:void 0},e.prototype.getBodyRowElement=function(){return this.centerGui?this.centerGui.element:void 0},e.prototype.getFullWidthRowElement=function(){return this.fullWidthGui?this.fullWidthGui.element:void 0},e.DOM_DATA_KEY_ROW_CTRL="renderedRow",e}(jt),Wl=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Hl=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},$l=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},zl=function(t){function e(e){var n=t.call(this)||this;return n.element=e,n}return Wl(e,t),e.prototype.postConstruct=function(){this.addMouseListeners(),this.mockContextMenuForIPad(),this.addKeyboardEvents()},e.prototype.addKeyboardEvents=function(){var t=this;["keydown","keypress"].forEach((function(e){var n=t.processKeyboardEvent.bind(t,e);t.addManagedListener(t.element,e,n)}))},e.prototype.addMouseListeners=function(){var t=this;["dblclick","contextmenu","mouseover","mouseout","click",Rt("touchstart")?"touchstart":"mousedown"].forEach((function(e){var n=t.processMouseEvent.bind(t,e);t.addManagedListener(t.element,e,n)}))},e.prototype.processMouseEvent=function(t,e){if(this.mouseEventService.isEventFromThisGrid(e)&&!Mt(e)){var n=this.getRowForEvent(e),i=this.mouseEventService.getRenderedCellForEvent(e);"contextmenu"===t?this.handleContextMenuMouseEvent(e,null,n,i):(i&&i.onMouseEvent(t,e),n&&n.onMouseEvent(t,e))}},e.prototype.mockContextMenuForIPad=function(){var t=this;if(An()){var e=new Xr(this.element);this.addManagedListener(e,Xr.EVENT_LONG_TAP,(function(e){var n=t.getRowForEvent(e.touchEvent),i=t.mouseEventService.getRenderedCellForEvent(e.touchEvent);t.handleContextMenuMouseEvent(null,e.touchEvent,n,i)})),this.addDestroyFunc((function(){return e.destroy()}))}},e.prototype.getRowForEvent=function(t){for(var e=t.target;e;){var n=this.gridOptionsService.getDomData(e,Vl.DOM_DATA_KEY_ROW_CTRL);if(n)return n;e=e.parentElement}return null},e.prototype.handleContextMenuMouseEvent=function(t,e,n,i){var o=n?n.getRowNode():null,r=i?i.getColumn():null,s=null;if(r){var a=t||e;i.dispatchCellContextMenuEvent(a),s=this.valueService.getValue(r,o)}var l=this.ctrlsService.getGridBodyCtrl(),c=i?i.getGui():l.getGridBodyElement();this.contextMenuFactory&&this.contextMenuFactory.onContextMenu(t,e,o,r,s,c)},e.prototype.processKeyboardEvent=function(t,e){var n=At(this.gridOptionsService,e.target,Il.DOM_DATA_KEY_CELL_CTRL),i=At(this.gridOptionsService,e.target,Vl.DOM_DATA_KEY_ROW_CTRL);e.defaultPrevented||(n?this.processCellKeyboardEvent(n,t,e):i&&i.isFullWidth()&&this.processFullWidthRowKeyboardEvent(i,t,e))},e.prototype.processCellKeyboardEvent=function(t,e,n){var i=t.getRowNode(),o=t.getColumn(),r=t.isEditing();if(!Hi(this.gridOptionsService,n,i,o,r))switch(e){case"keydown":!r&&this.navigationService.handlePageScrollingKey(n)||t.onKeyDown(n),this.doGridOperations(n,t.isEditing());break;case"keypress":t.onKeyPress(n)}if("keydown"===e){var s=t.createEvent(n,zt.EVENT_CELL_KEY_DOWN);this.eventService.dispatchEvent(s)}if("keypress"===e){var a=t.createEvent(n,zt.EVENT_CELL_KEY_PRESS);this.eventService.dispatchEvent(a)}},e.prototype.processFullWidthRowKeyboardEvent=function(t,e,n){var i=t.getRowNode(),o=this.focusService.getFocusedCell(),r=o&&o.column;if(!Hi(this.gridOptionsService,n,i,r,!1)){var s=n.key;if("keydown"===e)switch(s){case Vi.PAGE_HOME:case Vi.PAGE_END:this.navigationService.handlePageScrollingKey(n);break;case Vi.UP:case Vi.DOWN:t.onKeyboardNavigate(n);break;case Vi.TAB:t.onTabKeyDown(n)}}if("keydown"===e){var a=t.createRowEvent(zt.EVENT_CELL_KEY_DOWN,n);this.eventService.dispatchEvent(a)}if("keypress"===e){var l=t.createRowEvent(zt.EVENT_CELL_KEY_PRESS,n);this.eventService.dispatchEvent(l)}},e.prototype.doGridOperations=function(t,e){if((t.ctrlKey||t.metaKey)&&!e&&this.mouseEventService.isEventFromThisGrid(t)){var n=zi(t);return n===Vi.A?this.onCtrlAndA(t):n===Vi.C?this.onCtrlAndC(t):n===Vi.X?this.onCtrlAndX(t):n===Vi.V?this.onCtrlAndV():n===Vi.D?this.onCtrlAndD(t):n===Vi.Z?this.onCtrlAndZ(t):n===Vi.Y?this.onCtrlAndY():void 0}},e.prototype.onCtrlAndA=function(t){var e=this,n=e.pinnedRowModel,i=e.paginationProxy,o=e.rangeService;if(o&&i.isRowsToRender()){var r=$l([n.isEmpty("top"),n.isEmpty("bottom")],2),a=r[0]?null:"top",l=void 0,c=void 0;r[1]?(l=null,c=this.paginationProxy.getRowCount()-1):(l="bottom",c=n.getPinnedBottomRowData().length-1);var u=this.columnModel.getAllDisplayedColumns();if(s(u))return;o.setCellRange({rowStartIndex:0,rowStartPinned:a,rowEndIndex:c,rowEndPinned:l,columnStart:u[0],columnEnd:ft(u)})}t.preventDefault()},e.prototype.onCtrlAndC=function(t){this.clipboardService&&!this.gridOptionsService.is("enableCellTextSelection")&&(this.clipboardService.copyToClipboard(),t.preventDefault())},e.prototype.onCtrlAndX=function(t){!this.clipboardService||this.gridOptionsService.is("enableCellTextSelection")||this.gridOptionsService.is("suppressCutToClipboard")||(this.clipboardService.cutToClipboard(),t.preventDefault())},e.prototype.onCtrlAndV=function(){it.isRegistered(J.ClipboardModule)&&!this.gridOptionsService.is("suppressClipboardPaste")&&this.clipboardService.pasteFromClipboard()},e.prototype.onCtrlAndD=function(t){it.isRegistered(J.ClipboardModule)&&!this.gridOptionsService.is("suppressClipboardPaste")&&this.clipboardService.copyRangeDown(),t.preventDefault()},e.prototype.onCtrlAndZ=function(t){this.gridOptionsService.is("undoRedoCellEditing")&&(t.preventDefault(),t.shiftKey?this.undoRedoService.redo("ui"):this.undoRedoService.undo("ui"))},e.prototype.onCtrlAndY=function(){this.undoRedoService.redo("ui")},Hl([K("mouseEventService")],e.prototype,"mouseEventService",void 0),Hl([K("valueService")],e.prototype,"valueService",void 0),Hl([Y("contextMenuFactory")],e.prototype,"contextMenuFactory",void 0),Hl([K("ctrlsService")],e.prototype,"ctrlsService",void 0),Hl([K("navigationService")],e.prototype,"navigationService",void 0),Hl([K("focusService")],e.prototype,"focusService",void 0),Hl([K("undoRedoService")],e.prototype,"undoRedoService",void 0),Hl([K("columnModel")],e.prototype,"columnModel",void 0),Hl([K("paginationProxy")],e.prototype,"paginationProxy",void 0),Hl([K("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),Hl([Y("rangeService")],e.prototype,"rangeService",void 0),Hl([Y("clipboardService")],e.prototype,"clipboardService",void 0),Hl([H],e.prototype,"postConstruct",null),e}(jt),Kl=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Yl=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},Xl=function(t){function e(e){var n=t.call(this)||this;return n.centerContainerCtrl=e,n}return Kl(e,t),e.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady((function(){t.gridBodyCtrl=t.ctrlsService.getGridBodyCtrl(),t.listenForResize()})),this.addManagedListener(this.eventService,zt.EVENT_SCROLLBAR_WIDTH_CHANGED,this.onScrollbarWidthChanged.bind(this))},e.prototype.listenForResize=function(){var t=this,e=function(){return t.onCenterViewportResized()};this.centerContainerCtrl.registerViewportResizeListener(e),this.gridBodyCtrl.registerBodyViewportResizeListener(e)},e.prototype.onScrollbarWidthChanged=function(){this.checkViewportAndScrolls()},e.prototype.onCenterViewportResized=function(){if(this.centerContainerCtrl.isViewportVisible()){this.checkViewportAndScrolls();var t=this.centerContainerCtrl.getCenterWidth();t!==this.centerWidth&&(this.centerWidth=t,this.columnModel.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0},e.prototype.checkViewportAndScrolls=function(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.getScrollFeature().checkScrollLeft()},e.prototype.getBodyHeight=function(){return this.bodyHeight},e.prototype.checkBodyHeight=function(){var t=ci(this.gridBodyCtrl.getBodyViewportElement());if(this.bodyHeight!==t){this.bodyHeight=t;var e={type:zt.EVENT_BODY_HEIGHT_CHANGED};this.eventService.dispatchEvent(e)}},e.prototype.updateScrollVisibleService=function(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)},e.prototype.updateScrollVisibleServiceImpl=function(){var t={horizontalScrollShowing:this.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleService.setScrollsVisible(t)},e.prototype.isHorizontalScrollShowing=function(){return this.centerContainerCtrl.isHorizontalScrollShowing()},e.prototype.onHorizontalViewportChanged=function(){var t=this.centerContainerCtrl.getCenterWidth(),e=this.centerContainerCtrl.getViewportScrollLeft();this.columnModel.setViewportPosition(t,e)},Yl([K("ctrlsService")],e.prototype,"ctrlsService",void 0),Yl([K("columnModel")],e.prototype,"columnModel",void 0),Yl([K("scrollVisibleService")],e.prototype,"scrollVisibleService",void 0),Yl([H],e.prototype,"postConstruct",null),e}(jt),ql=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Zl=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},Jl=function(t){function e(e){var n=t.call(this)||this;return n.element=e,n}return ql(e,t),e.prototype.postConstruct=function(){this.addManagedListener(this.eventService,zt.EVENT_LEFT_PINNED_WIDTH_CHANGED,this.onPinnedLeftWidthChanged.bind(this))},e.prototype.onPinnedLeftWidthChanged=function(){var t=this.pinnedWidthService.getPinnedLeftWidth(),e=t>0;oi(this.element,e),Mi(this.element,t)},e.prototype.getWidth=function(){return this.pinnedWidthService.getPinnedLeftWidth()},Zl([K("pinnedWidthService")],e.prototype,"pinnedWidthService",void 0),Zl([H],e.prototype,"postConstruct",null),e}(jt),Ql=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),tc=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},ec=function(t){function e(e){var n=t.call(this)||this;return n.element=e,n}return Ql(e,t),e.prototype.postConstruct=function(){this.addManagedListener(this.eventService,zt.EVENT_RIGHT_PINNED_WIDTH_CHANGED,this.onPinnedRightWidthChanged.bind(this))},e.prototype.onPinnedRightWidthChanged=function(){var t=this.pinnedWidthService.getPinnedRightWidth(),e=t>0;oi(this.element,e),Mi(this.element,t)},e.prototype.getWidth=function(){return this.pinnedWidthService.getPinnedRightWidth()},tc([K("pinnedWidthService")],e.prototype,"pinnedWidthService",void 0),tc([H],e.prototype,"postConstruct",null),e}(jt),nc=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ic=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},oc=function(t){function e(e,n){var i=t.call(this)||this;return i.eContainer=e,i.eWrapper=n,i}return nc(e,t),e.prototype.postConstruct=function(){this.addManagedListener(this.eventService,zt.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,this.onHeightChanged.bind(this))},e.prototype.onHeightChanged=function(){var t=this.maxDivHeightScaler.getUiContainerHeight(),e=null!=t?t+"px":"";this.eContainer.style.height=e,this.eWrapper&&(this.eWrapper.style.height=e)},ic([K("rowContainerHeightService")],e.prototype,"maxDivHeightScaler",void 0),ic([H],e.prototype,"postConstruct",null),e}(jt),rc=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),sc=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},ac=function(t){function e(e){var n=t.call(this)||this;return n.eContainer=e,n}return rc(e,t),e.prototype.postConstruct=function(){var t=this;if(this.gridOptionsService.isEnableRangeSelection()&&!r(this.rangeService)){var e={eElement:this.eContainer,onDragStart:this.rangeService.onDragStart.bind(this.rangeService),onDragStop:this.rangeService.onDragStop.bind(this.rangeService),onDragging:this.rangeService.onDragging.bind(this.rangeService)};this.dragService.addDragSource(e),this.addDestroyFunc((function(){return t.dragService.removeDragSource(e)}))}},sc([Y("rangeService")],e.prototype,"rangeService",void 0),sc([K("dragService")],e.prototype,"dragService",void 0),sc([H],e.prototype,"postConstruct",null),e}(jt),lc=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),cc=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},uc=function(t){function e(e,n){void 0===n&&(n=!1);var i=t.call(this)||this;return i.callback=e,i.addSpacer=n,i}return lc(e,t),e.prototype.postConstruct=function(){var t=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",t),this.addManagedListener(this.eventService,zt.EVENT_DISPLAYED_COLUMNS_CHANGED,t),this.addManagedListener(this.eventService,zt.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,t),this.addManagedListener(this.eventService,zt.EVENT_LEFT_PINNED_WIDTH_CHANGED,t),this.addSpacer&&(this.addManagedListener(this.eventService,zt.EVENT_RIGHT_PINNED_WIDTH_CHANGED,t),this.addManagedListener(this.eventService,zt.EVENT_SCROLL_VISIBILITY_CHANGED,t),this.addManagedListener(this.eventService,zt.EVENT_SCROLLBAR_WIDTH_CHANGED,t)),this.setWidth()},e.prototype.setWidth=function(){var t,e=this.columnModel,n=this.gridOptionsService.isDomLayout("print"),i=e.getBodyContainerWidth(),o=e.getDisplayedColumnsLeftWidth(),r=e.getDisplayedColumnsRightWidth();n?t=i+o+r:(t=i,this.addSpacer&&0===(this.gridOptionsService.is("enableRtl")?o:r)&&this.scrollVisibleService.isVerticalScrollShowing()&&(t+=this.gridOptionsService.getScrollbarWidth()));this.callback(t)},cc([K("columnModel")],e.prototype,"columnModel",void 0),cc([K("scrollVisibleService")],e.prototype,"scrollVisibleService",void 0),cc([H],e.prototype,"postConstruct",null),e}(jt),hc=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),dc=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},pc=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},fc=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(pc(arguments[e]));return t};!function(t){t.LEFT="left",t.RIGHT="right",t.CENTER="center",t.FULL_WIDTH="fullWidth",t.TOP_LEFT="topLeft",t.TOP_RIGHT="topRight",t.TOP_CENTER="topCenter",t.TOP_FULL_WIDTH="topFullWidth",t.STICKY_TOP_LEFT="stickyTopLeft",t.STICKY_TOP_RIGHT="stickyTopRight",t.STICKY_TOP_CENTER="stickyTopCenter",t.STICKY_TOP_FULL_WIDTH="stickyTopFullWidth",t.BOTTOM_LEFT="bottomLeft",t.BOTTOM_RIGHT="bottomRight",t.BOTTOM_CENTER="bottomCenter",t.BOTTOM_FULL_WIDTH="bottomFullWidth"}(Bl||(Bl={})),function(t){t.LEFT="left",t.RIGHT="right",t.CENTER="center",t.FULL_WIDTH="fullWidth"}(jl||(jl={}));var gc=Se([[Bl.CENTER,"ag-center-cols-container"],[Bl.LEFT,"ag-pinned-left-cols-container"],[Bl.RIGHT,"ag-pinned-right-cols-container"],[Bl.FULL_WIDTH,"ag-full-width-container"],[Bl.TOP_CENTER,"ag-floating-top-container"],[Bl.TOP_LEFT,"ag-pinned-left-floating-top"],[Bl.TOP_RIGHT,"ag-pinned-right-floating-top"],[Bl.TOP_FULL_WIDTH,"ag-floating-top-full-width-container"],[Bl.STICKY_TOP_CENTER,"ag-sticky-top-container"],[Bl.STICKY_TOP_LEFT,"ag-pinned-left-sticky-top"],[Bl.STICKY_TOP_RIGHT,"ag-pinned-right-sticky-top"],[Bl.STICKY_TOP_FULL_WIDTH,"ag-sticky-top-full-width-container"],[Bl.BOTTOM_CENTER,"ag-floating-bottom-container"],[Bl.BOTTOM_LEFT,"ag-pinned-left-floating-bottom"],[Bl.BOTTOM_RIGHT,"ag-pinned-right-floating-bottom"],[Bl.BOTTOM_FULL_WIDTH,"ag-floating-bottom-full-width-container"]]),mc=Se([[Bl.CENTER,"ag-center-cols-viewport"],[Bl.TOP_CENTER,"ag-floating-top-viewport"],[Bl.STICKY_TOP_CENTER,"ag-sticky-top-viewport"],[Bl.BOTTOM_CENTER,"ag-floating-bottom-viewport"]]),_c=Se([[Bl.CENTER,"ag-center-cols-clipper"]]),yc=function(t){function e(e){var n=t.call(this)||this;return n.visible=!0,n.EMPTY_CTRLS=[],n.name=e,n.isFullWithContainer=n.name===Bl.TOP_FULL_WIDTH||n.name===Bl.STICKY_TOP_FULL_WIDTH||n.name===Bl.BOTTOM_FULL_WIDTH||n.name===Bl.FULL_WIDTH,n}return hc(e,t),e.getRowContainerCssClasses=function(t){return{container:gc.get(t),viewport:mc.get(t),wrapper:_c.get(t)}},e.getPinned=function(t){switch(t){case Bl.BOTTOM_LEFT:case Bl.TOP_LEFT:case Bl.STICKY_TOP_LEFT:case Bl.LEFT:return"left";case Bl.BOTTOM_RIGHT:case Bl.TOP_RIGHT:case Bl.STICKY_TOP_RIGHT:case Bl.RIGHT:return"right";default:return null}},e.prototype.postConstruct=function(){var t=this;this.enableRtl=this.gridOptionsService.is("enableRtl"),this.embedFullWidthRows=this.gridOptionsService.is("embedFullWidthRows"),this.forContainers([Bl.CENTER],(function(){return t.viewportSizeFeature=t.createManagedBean(new Xl(t))}))},e.prototype.registerWithCtrlsService=function(){switch(this.name){case Bl.CENTER:this.ctrlsService.registerCenterRowContainerCtrl(this);break;case Bl.LEFT:this.ctrlsService.registerLeftRowContainerCtrl(this);break;case Bl.RIGHT:this.ctrlsService.registerRightRowContainerCtrl(this);break;case Bl.TOP_CENTER:this.ctrlsService.registerTopCenterRowContainerCtrl(this);break;case Bl.TOP_LEFT:this.ctrlsService.registerTopLeftRowContainerCon(this);break;case Bl.TOP_RIGHT:this.ctrlsService.registerTopRightRowContainerCtrl(this);break;case Bl.STICKY_TOP_CENTER:this.ctrlsService.registerStickyTopCenterRowContainerCtrl(this);break;case Bl.STICKY_TOP_LEFT:this.ctrlsService.registerStickyTopLeftRowContainerCon(this);break;case Bl.STICKY_TOP_RIGHT:this.ctrlsService.registerStickyTopRightRowContainerCtrl(this);break;case Bl.BOTTOM_CENTER:this.ctrlsService.registerBottomCenterRowContainerCtrl(this);break;case Bl.BOTTOM_LEFT:this.ctrlsService.registerBottomLeftRowContainerCtrl(this);break;case Bl.BOTTOM_RIGHT:this.ctrlsService.registerBottomRightRowContainerCtrl(this)}},e.prototype.forContainers=function(t,e){t.indexOf(this.name)>=0&&e()},e.prototype.getContainerElement=function(){return this.eContainer},e.prototype.getViewportSizeFeature=function(){return this.viewportSizeFeature},e.prototype.setComp=function(t,e,n,i){var o=this;this.comp=t,this.eContainer=e,this.eViewport=n,this.eWrapper=i,this.createManagedBean(new zl(this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder(),this.stopHScrollOnPinnedRows();var r=[Bl.TOP_CENTER,Bl.TOP_LEFT,Bl.TOP_RIGHT],s=[Bl.STICKY_TOP_CENTER,Bl.STICKY_TOP_LEFT,Bl.STICKY_TOP_RIGHT],a=[Bl.BOTTOM_CENTER,Bl.BOTTOM_LEFT,Bl.BOTTOM_RIGHT],l=[Bl.CENTER,Bl.LEFT,Bl.RIGHT],c=fc(r,a,l,s),u=[Bl.CENTER,Bl.LEFT,Bl.RIGHT,Bl.FULL_WIDTH],h=[Bl.CENTER,Bl.TOP_CENTER,Bl.STICKY_TOP_CENTER,Bl.BOTTOM_CENTER],d=[Bl.LEFT,Bl.BOTTOM_LEFT,Bl.TOP_LEFT,Bl.STICKY_TOP_LEFT],p=[Bl.RIGHT,Bl.BOTTOM_RIGHT,Bl.TOP_RIGHT,Bl.STICKY_TOP_RIGHT];this.forContainers(d,(function(){o.pinnedWidthFeature=o.createManagedBean(new Jl(o.eContainer)),o.addManagedListener(o.eventService,zt.EVENT_LEFT_PINNED_WIDTH_CHANGED,(function(){return o.onPinnedWidthChanged()}))})),this.forContainers(p,(function(){o.pinnedWidthFeature=o.createManagedBean(new ec(o.eContainer)),o.addManagedListener(o.eventService,zt.EVENT_RIGHT_PINNED_WIDTH_CHANGED,(function(){return o.onPinnedWidthChanged()}))})),this.forContainers(u,(function(){return o.createManagedBean(new oc(o.eContainer,o.eWrapper))})),this.forContainers(c,(function(){return o.createManagedBean(new ac(o.eContainer))})),this.forContainers(h,(function(){return o.createManagedBean(new uc((function(t){return o.comp.setContainerWidth(t+"px")})))})),jn()&&(this.forContainers([Bl.CENTER],(function(){var t=o.enableRtl?zt.EVENT_LEFT_PINNED_WIDTH_CHANGED:zt.EVENT_RIGHT_PINNED_WIDTH_CHANGED;o.addManagedListener(o.eventService,t,(function(){return o.refreshPaddingForFakeScrollbar()}))})),this.refreshPaddingForFakeScrollbar()),this.addListeners(),this.registerWithCtrlsService()},e.prototype.refreshPaddingForFakeScrollbar=function(){var t=this,e=t.enableRtl,n=t.columnModel,i=t.name,o=t.eWrapper,r=t.eContainer,s=e?Bl.LEFT:Bl.RIGHT;this.forContainers([Bl.CENTER,s],(function(){var t=n.getContainerWidth(s),a=e?"marginLeft":"marginRight";i===Bl.CENTER?o.style[a]=t?"0px":"16px":r.style[a]=t?"16px":"0px"}))},e.prototype.addListeners=function(){var t=this;this.addManagedListener(this.eventService,zt.EVENT_SCROLL_VISIBILITY_CHANGED,(function(){return t.onScrollVisibilityChanged()})),this.addManagedListener(this.eventService,zt.EVENT_DISPLAYED_COLUMNS_CHANGED,(function(){return t.onDisplayedColumnsChanged()})),this.addManagedListener(this.eventService,zt.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,(function(){return t.onDisplayedColumnsWidthChanged()})),this.addManagedListener(this.eventService,zt.EVENT_DISPLAYED_ROWS_CHANGED,(function(e){return t.onDisplayedRowsChanged(e.afterScroll)})),this.onScrollVisibilityChanged(),this.onDisplayedColumnsChanged(),this.onDisplayedColumnsWidthChanged(),this.onDisplayedRowsChanged()},e.prototype.listenOnDomOrder=function(){var t=this;if([Bl.STICKY_TOP_CENTER,Bl.STICKY_TOP_LEFT,Bl.STICKY_TOP_RIGHT,Bl.STICKY_TOP_FULL_WIDTH].indexOf(this.name)>=0)this.comp.setDomOrder(!0);else{var e=function(){var e=t.gridOptionsService.is("ensureDomOrder"),n=t.gridOptionsService.isDomLayout("print");t.comp.setDomOrder(e||n)};this.addManagedPropertyListener("domLayout",e),e()}},e.prototype.stopHScrollOnPinnedRows=function(){var t=this;this.forContainers([Bl.TOP_CENTER,Bl.STICKY_TOP_CENTER,Bl.BOTTOM_CENTER],(function(){t.addManagedListener(t.eViewport,"scroll",(function(){return t.eViewport.scrollLeft=0}))}))},e.prototype.onDisplayedColumnsChanged=function(){var t=this;this.forContainers([Bl.CENTER],(function(){return t.onHorizontalViewportChanged()}))},e.prototype.onDisplayedColumnsWidthChanged=function(){var t=this;this.forContainers([Bl.CENTER],(function(){return t.onHorizontalViewportChanged()}))},e.prototype.onScrollVisibilityChanged=function(){var t=this.gridOptionsService.getScrollbarWidth()||0;if(this.name===Bl.CENTER){var e=this.scrollVisibleService.isHorizontalScrollShowing()?t:0,n=0==e?"100%":"calc(100% + "+e+"px)";this.comp.setViewportHeight(n)}if(this.name===Bl.FULL_WIDTH){n="calc(100% - "+(jn()?16:0)+"px)";this.eContainer.style.setProperty("width",n)}},e.prototype.addPreventScrollWhileDragging=function(){var t=this,e=function(e){t.dragService.isDragging()&&e.cancelable&&e.preventDefault()};this.eContainer.addEventListener("touchmove",e,{passive:!1}),this.addDestroyFunc((function(){return t.eContainer.removeEventListener("touchmove",e)}))},e.prototype.onHorizontalViewportChanged=function(){var t=this.getCenterWidth(),e=this.getCenterViewportScrollLeft();this.columnModel.setViewportPosition(t,e)},e.prototype.getCenterWidth=function(){return ui(this.eViewport)},e.prototype.getCenterViewportScrollLeft=function(){return fi(this.eViewport,this.enableRtl)},e.prototype.registerViewportResizeListener=function(t){var e=this.resizeObserverService.observeResize(this.eViewport,t);this.addDestroyFunc((function(){return e()}))},e.prototype.isViewportVisible=function(){return yi(this.eViewport)},e.prototype.getViewportScrollLeft=function(){return fi(this.eViewport,this.enableRtl)},e.prototype.isHorizontalScrollShowing=function(){return this.gridOptionsService.is("alwaysShowHorizontalScroll")||xi(this.eViewport)},e.prototype.getViewportElement=function(){return this.eViewport},e.prototype.setContainerTranslateX=function(t){this.eContainer.style.transform="translateX("+t+"px)"},e.prototype.getHScrollPosition=function(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}},e.prototype.setCenterViewportScrollLeft=function(t){gi(this.eViewport,t,this.enableRtl)},e.prototype.isContainerVisible=function(){return!e.getPinned(this.name)||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0},e.prototype.onPinnedWidthChanged=function(){var t=this.isContainerVisible();this.visible!=t&&(this.visible=t,this.onDisplayedRowsChanged()),jn()&&this.refreshPaddingForFakeScrollbar()},e.prototype.onDisplayedRowsChanged=function(t){var e=this;if(void 0===t&&(t=!1),this.visible){var n=this.gridOptionsService.isDomLayout("print"),i=this.getRowCtrls().filter((function(t){var i=t.isFullWidth(),o=e.embedFullWidthRows||n;return e.isFullWithContainer?!o&&i:o||!i}));this.comp.setRowCtrls(i,t)}else this.comp.setRowCtrls(this.EMPTY_CTRLS,!1)},e.prototype.getRowCtrls=function(){switch(this.name){case Bl.TOP_CENTER:case Bl.TOP_LEFT:case Bl.TOP_RIGHT:case Bl.TOP_FULL_WIDTH:return this.rowRenderer.getTopRowCtrls();case Bl.STICKY_TOP_CENTER:case Bl.STICKY_TOP_LEFT:case Bl.STICKY_TOP_RIGHT:case Bl.STICKY_TOP_FULL_WIDTH:return this.rowRenderer.getStickyTopRowCtrls();case Bl.BOTTOM_CENTER:case Bl.BOTTOM_LEFT:case Bl.BOTTOM_RIGHT:case Bl.BOTTOM_FULL_WIDTH:return this.rowRenderer.getBottomRowCtrls();default:return this.rowRenderer.getRowCtrls()}},dc([K("scrollVisibleService")],e.prototype,"scrollVisibleService",void 0),dc([K("dragService")],e.prototype,"dragService",void 0),dc([K("ctrlsService")],e.prototype,"ctrlsService",void 0),dc([K("columnModel")],e.prototype,"columnModel",void 0),dc([K("resizeObserverService")],e.prototype,"resizeObserverService",void 0),dc([K("rowRenderer")],e.prototype,"rowRenderer",void 0),dc([H],e.prototype,"postConstruct",null),e}(jt),vc=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Cc=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},bc='<div class="ag-root ag-unselectable" role="treegrid">\n        <ag-header-root ref="gridHeader"></ag-header-root>\n        <div class="ag-floating-top" ref="eTop" role="presentation">\n            <ag-row-container ref="topLeftContainer" name="'+Bl.TOP_LEFT+'"></ag-row-container>\n            <ag-row-container ref="topCenterContainer" name="'+Bl.TOP_CENTER+'"></ag-row-container>\n            <ag-row-container ref="topRightContainer" name="'+Bl.TOP_RIGHT+'"></ag-row-container>\n            <ag-row-container ref="topFullWidthContainer" name="'+Bl.TOP_FULL_WIDTH+'"></ag-row-container>\n        </div>\n        <div class="ag-body" ref="eBody" role="presentation">\n            <div class="ag-body-clipper" ref="eBodyClipper" role="presentation">\n                <div class="ag-body-viewport" ref="eBodyViewport" role="presentation">\n                    <ag-row-container ref="leftContainer" name="'+Bl.LEFT+'"></ag-row-container>\n                    <ag-row-container ref="centerContainer" name="'+Bl.CENTER+'"></ag-row-container>\n                    <ag-row-container ref="rightContainer" name="'+Bl.RIGHT+'"></ag-row-container>\n                    <ag-row-container ref="fullWidthContainer" name="'+Bl.FULL_WIDTH+'"></ag-row-container>\n                </div>\n            </div>\n            <ag-fake-vertical-scroll></ag-fake-vertical-scroll>\n        </div>\n        <div class="ag-sticky-top" ref="eStickyTop" role="presentation">\n            <ag-row-container ref="stickyTopLeftContainer" name="'+Bl.STICKY_TOP_LEFT+'"></ag-row-container>\n            <ag-row-container ref="stickyTopCenterContainer" name="'+Bl.STICKY_TOP_CENTER+'"></ag-row-container>\n            <ag-row-container ref="stickyTopRightContainer" name="'+Bl.STICKY_TOP_RIGHT+'"></ag-row-container>\n            <ag-row-container ref="stickyTopFullWidthContainer" name="'+Bl.STICKY_TOP_FULL_WIDTH+'"></ag-row-container>\n        </div>\n        <div class="ag-floating-bottom" ref="eBottom" role="presentation">\n            <ag-row-container ref="bottomLeftContainer" name="'+Bl.BOTTOM_LEFT+'"></ag-row-container>\n            <ag-row-container ref="bottomCenterContainer" name="'+Bl.BOTTOM_CENTER+'"></ag-row-container>\n            <ag-row-container ref="bottomRightContainer" name="'+Bl.BOTTOM_RIGHT+'"></ag-row-container>\n            <ag-row-container ref="bottomFullWidthContainer" name="'+Bl.BOTTOM_FULL_WIDTH+'"></ag-row-container>\n        </div>\n        <ag-fake-horizontal-scroll></ag-fake-horizontal-scroll>\n        <ag-overlay-wrapper></ag-overlay-wrapper>\n    </div>',Ec=function(t){function e(){return t.call(this,bc)||this}return vc(e,t),e.prototype.init=function(){var t=this,e=function(t,e){var n=t+"px";e.style.minHeight=n,e.style.height=n},n={setRowAnimationCssOnBodyViewport:function(e,n){return t.setRowAnimationCssOnBodyViewport(e,n)},setColumnCount:function(e){return hn(t.getGui(),e)},setRowCount:function(e){return cn(t.getGui(),e)},setTopHeight:function(n){return e(n,t.eTop)},setBottomHeight:function(n){return e(n,t.eBottom)},setTopDisplay:function(e){return t.eTop.style.display=e},setBottomDisplay:function(e){return t.eBottom.style.display=e},setStickyTopHeight:function(e){return t.eStickyTop.style.height=e},setStickyTopTop:function(e){return t.eStickyTop.style.top=e},setStickyTopWidth:function(e){return t.eStickyTop.style.width=e},setColumnMovingCss:function(e,n){return t.addOrRemoveCssClass(e,n)},updateLayoutClasses:function(e,n){[t.eBodyViewport.classList,t.eBodyClipper.classList,t.eBody.classList].forEach((function(t){t.toggle(Ia.AUTO_HEIGHT,n.autoHeight),t.toggle(Ia.NORMAL,n.normal),t.toggle(Ia.PRINT,n.print)})),t.addOrRemoveCssClass(Ia.AUTO_HEIGHT,n.autoHeight),t.addOrRemoveCssClass(Ia.NORMAL,n.normal),t.addOrRemoveCssClass(Ia.PRINT,n.print)},setAlwaysVerticalScrollClass:function(e,n){return t.eBodyViewport.classList.toggle(hl,n)},registerBodyViewportResizeListener:function(e){var n=t.resizeObserverService.observeResize(t.eBodyViewport,e);t.addDestroyFunc((function(){return n()}))},setPinnedTopBottomOverflowY:function(e){return t.eTop.style.overflowY=t.eBottom.style.overflowY=e},setCellSelectableCss:function(e,n){[t.eTop,t.eBodyViewport,t.eBottom].forEach((function(t){return t.classList.toggle(ul,n)}))},setBodyViewportWidth:function(e){return t.eBodyViewport.style.width=e}};this.ctrl=this.createManagedBean(new dl),this.ctrl.setComp(n,this.getGui(),this.eBodyViewport,this.eTop,this.eBottom,this.eStickyTop),(this.rangeService||"multiple"===this.gridOptionsService.get("rowSelection"))&&ln(this.getGui(),!0)},e.prototype.setRowAnimationCssOnBodyViewport=function(t,e){var n=this.eBodyViewport.classList;n.toggle(Ka.ANIMATION_ON,e),n.toggle(Ka.ANIMATION_OFF,!e)},e.prototype.getFloatingTopBottom=function(){return[this.eTop,this.eBottom]},Cc([K("resizeObserverService")],e.prototype,"resizeObserverService",void 0),Cc([Y("rangeService")],e.prototype,"rangeService",void 0),Cc([mo("eBodyViewport")],e.prototype,"eBodyViewport",void 0),Cc([mo("eStickyTop")],e.prototype,"eStickyTop",void 0),Cc([mo("eTop")],e.prototype,"eTop",void 0),Cc([mo("eBottom")],e.prototype,"eBottom",void 0),Cc([mo("gridHeader")],e.prototype,"headerRootComp",void 0),Cc([mo("eBodyClipper")],e.prototype,"eBodyClipper",void 0),Cc([mo("eBody")],e.prototype,"eBody",void 0),Cc([H],e.prototype,"init",null),e}(go),Sc=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),wc=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},Oc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Sc(e,t),e.prototype.postConstruct=function(){this.addManagedListener(this.eventService,zt.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,zt.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this))},e.prototype.onDisplayedColumnsChanged=function(){this.update()},e.prototype.onDisplayedColumnsWidthChanged=function(){this.update()},e.prototype.update=function(){this.updateImpl(),setTimeout(this.updateImpl.bind(this),500)},e.prototype.updateImpl=function(){var t=this.ctrlsService.getCenterRowContainerCtrl();if(t){var e={horizontalScrollShowing:t.isHorizontalScrollShowing(),verticalScrollShowing:this.isVerticalScrollShowing()};this.setScrollsVisible(e)}},e.prototype.setScrollsVisible=function(t){if(this.horizontalScrollShowing!==t.horizontalScrollShowing||this.verticalScrollShowing!==t.verticalScrollShowing){this.horizontalScrollShowing=t.horizontalScrollShowing,this.verticalScrollShowing=t.verticalScrollShowing;var e={type:zt.EVENT_SCROLL_VISIBILITY_CHANGED};this.eventService.dispatchEvent(e)}},e.prototype.isHorizontalScrollShowing=function(){return this.horizontalScrollShowing},e.prototype.isVerticalScrollShowing=function(){return this.verticalScrollShowing},wc([K("ctrlsService")],e.prototype,"ctrlsService",void 0),wc([H],e.prototype,"postConstruct",null),e=wc([z("scrollVisibleService")],e)}(jt),xc=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Pc=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},Tc=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.gridInstanceId=n.gridInstanceSequence.next(),e}var n;return xc(e,t),n=e,e.prototype.stampTopLevelGridCompWithGridInstance=function(t){t[n.GRID_DOM_KEY]=this.gridInstanceId},e.prototype.getRenderedCellForEvent=function(t){return At(this.gridOptionsService,t.target,Il.DOM_DATA_KEY_CELL_CTRL)},e.prototype.isEventFromThisGrid=function(t){return this.isElementInThisGrid(t.target)},e.prototype.isElementInThisGrid=function(t){for(var e=t;e;){var i=e[n.GRID_DOM_KEY];if(o(i))return i===this.gridInstanceId;e=e.parentElement}return!1},e.prototype.getCellPositionForEvent=function(t){var e=this.getRenderedCellForEvent(t);return e?e.getCellPosition():null},e.prototype.getNormalisedPosition=function(t){var e,n,i=this.gridOptionsService.isDomLayout("normal"),o=t;if(null!=o.clientX||null!=o.clientY?(e=o.clientX,n=o.clientY):(e=o.x,n=o.y),i){var r=this.ctrlsService.getGridBodyCtrl(),s=r.getScrollFeature().getVScrollPosition();e+=r.getScrollFeature().getHScrollPosition().left,n+=s.top}return{x:e,y:n}},e.gridInstanceSequence=new io,e.GRID_DOM_KEY="__ag_grid_instance",Pc([K("ctrlsService")],e.prototype,"ctrlsService",void 0),e=n=Pc([z("mouseEventService")],e)}(jt),Mc=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Dc=function(){return Dc=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Dc.apply(this,arguments)},Rc=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},Ac=function(t){function e(){var e=t.call(this)||this;return e.onPageDown=N(e.onPageDown,100),e.onPageUp=N(e.onPageUp,100),e}return Mc(e,t),e.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady((function(e){t.gridBodyCon=e.gridBodyCtrl}))},e.prototype.handlePageScrollingKey=function(t){var e=t.key,n=t.altKey,i=t.ctrlKey||t.metaKey,o=!!this.rangeService&&t.shiftKey,r=this.mouseEventService.getCellPositionForEvent(t),s=!1;switch(e){case Vi.PAGE_HOME:case Vi.PAGE_END:i||n||(this.onHomeOrEndKey(e),s=!0);break;case Vi.LEFT:case Vi.RIGHT:case Vi.UP:case Vi.DOWN:if(!r)return!1;!i||n||o||(this.onCtrlUpDownLeftRight(e,r),s=!0);break;case Vi.PAGE_DOWN:if(!r)return!1;i||n||(this.onPageDown(r),s=!0);break;case Vi.PAGE_UP:if(!r)return!1;i||n||(this.onPageUp(r),s=!0)}return s&&t.preventDefault(),s},e.prototype.navigateTo=function(t){var e=t.scrollIndex,n=t.scrollType,i=t.scrollColumn,r=t.focusIndex,s=t.focusColumn;if(o(i)&&!i.isPinned()&&this.gridBodyCon.getScrollFeature().ensureColumnVisible(i),o(e)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(e,n),t.isAsync||this.gridBodyCon.getScrollFeature().ensureIndexVisible(r),this.focusService.setFocusedCell({rowIndex:r,column:s,rowPinned:null,forceBrowserFocus:!0}),this.rangeService){var a={rowIndex:r,rowPinned:null,column:s};this.rangeService.setRangeToCell(a)}},e.prototype.onPageDown=function(t){var e=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),n=this.getViewportHeight(),i=this.paginationProxy.getPixelOffset(),o=e.top+n,r=this.paginationProxy.getRowIndexAtPixel(o+i);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(t,r):this.navigateToNextPage(t,r)},e.prototype.onPageUp=function(t){var e=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),n=this.paginationProxy.getPixelOffset(),i=e.top,o=this.paginationProxy.getRowIndexAtPixel(i+n);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(t,o,!0):this.navigateToNextPage(t,o,!0)},e.prototype.navigateToNextPage=function(t,e,n){void 0===n&&(n=!1);var i,o=this.getViewportHeight(),r=this.paginationProxy.getPageFirstRow(),s=this.paginationProxy.getPageLastRow(),a=this.paginationProxy.getPixelOffset(),l=this.paginationProxy.getRow(t.rowIndex),c=n?(null==l?void 0:l.rowHeight)-o-a:o-a,u=(null==l?void 0:l.rowTop)+c,h=this.paginationProxy.getRowIndexAtPixel(u+a);if(h===t.rowIndex){var d=n?-1:1;e=h=t.rowIndex+d}n?(i="bottom",h<r&&(h=r),e<r&&(e=r)):(i="top",h>s&&(h=s),e>s&&(e=s)),this.isRowTallerThanView(h)&&(e=h,i="top"),this.navigateTo({scrollIndex:e,scrollType:i,scrollColumn:null,focusIndex:h,focusColumn:t.column})},e.prototype.navigateToNextPageWithAutoHeight=function(t,e,n){var i=this;void 0===n&&(n=!1),this.navigateTo({scrollIndex:e,scrollType:n?"bottom":"top",scrollColumn:null,focusIndex:e,focusColumn:t.column}),setTimeout((function(){var o=i.getNextFocusIndexForAutoHeight(t,n);i.navigateTo({scrollIndex:e,scrollType:n?"bottom":"top",scrollColumn:null,focusIndex:o,focusColumn:t.column,isAsync:!0})}),50)},e.prototype.getNextFocusIndexForAutoHeight=function(t,e){var n;void 0===e&&(e=!1);for(var i=e?-1:1,o=this.getViewportHeight(),r=this.paginationProxy.getPageLastRow(),s=0,a=t.rowIndex;a>=0&&a<=r;){var l=this.paginationProxy.getRow(a);if(l){var c=null!==(n=l.rowHeight)&&void 0!==n?n:0;if(s+c>o)break;s+=c}a+=i}return Math.max(0,Math.min(a,r))},e.prototype.getViewportHeight=function(){var t=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),e=this.gridOptionsService.getScrollbarWidth(),n=t.bottom-t.top;return this.ctrlsService.getCenterRowContainerCtrl().isHorizontalScrollShowing()&&(n-=e),n},e.prototype.isRowTallerThanView=function(t){var e=this.paginationProxy.getRow(t);if(!e)return!1;var n=e.rowHeight;return"number"==typeof n&&n>this.getViewportHeight()},e.prototype.onCtrlUpDownLeftRight=function(t,e){var n=this.cellNavigationService.getNextCellToFocus(t,e,!0),i=n.rowIndex,o=n.column;this.navigateTo({scrollIndex:i,scrollType:null,scrollColumn:o,focusIndex:i,focusColumn:o})},e.prototype.onHomeOrEndKey=function(t){var e=t===Vi.PAGE_HOME,n=this.columnModel.getAllDisplayedColumns(),i=e?n[0]:ft(n),o=e?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow();this.navigateTo({scrollIndex:o,scrollType:null,scrollColumn:i,focusIndex:o,focusColumn:i})},e.prototype.onTabKeyDown=function(t,e){var n=e.shiftKey;if(this.tabToNextCellCommon(t,n,e))e.preventDefault();else if(n){var i=t.getRowPosition(),o=i.rowIndex;(i.rowPinned?0===o:o===this.paginationProxy.getPageFirstRow())&&(0===this.gridOptionsService.getNum("headerHeight")?this.focusService.focusNextGridCoreContainer(!0,!0):(e.preventDefault(),this.focusService.focusLastHeader(e)))}else t instanceof Il&&t.focusCell(!0),this.focusService.focusNextGridCoreContainer(n)&&e.preventDefault()},e.prototype.tabToNextCell=function(t,e){var n=this.focusService.getFocusedCell();if(!n)return!1;var i=this.getCellByPosition(n);return!!(i||(i=this.rowRenderer.getRowByPosition(n))&&i.isFullWidth())&&this.tabToNextCellCommon(i,t,e)},e.prototype.tabToNextCellCommon=function(t,e,n){var i=t.isEditing();if(!i&&t instanceof Il){var o=t.getRowCtrl();o&&(i=o.isEditing())}return(i?"fullRow"===this.gridOptionsService.get("editType")?this.moveToNextEditingRow(t,e,n):this.moveToNextEditingCell(t,e,n):this.moveToNextCellNotEditing(t,e))||!!this.focusService.getFocusedHeader()},e.prototype.moveToNextEditingCell=function(t,e,n){void 0===n&&(n=null);var i=t.getCellPosition();t.getGui().focus(),t.stopEditing();var o=this.findNextCellToFocusOn(i,e,!0);return null!=o&&(o.startEditing(null,null,!0,n),o.focusCell(!1),!0)},e.prototype.moveToNextEditingRow=function(t,e,n){void 0===n&&(n=null);var i=t.getCellPosition(),o=this.findNextCellToFocusOn(i,e,!0);if(null==o)return!1;var r=o.getCellPosition(),s=this.isCellEditable(i),a=this.isCellEditable(r),l=r&&i.rowIndex===r.rowIndex&&i.rowPinned===r.rowPinned;(s&&t.setFocusOutOnEditor(),l)||(t.getRowCtrl().stopEditing(),o.getRowCtrl().startRowEditing(void 0,void 0,void 0,n));return a?(o.setFocusInOnEditor(),o.focusCell()):o.focusCell(!0),!0},e.prototype.moveToNextCellNotEditing=function(t,e){var n,i=this.columnModel.getAllDisplayedColumns();n=t instanceof Vl?Dc(Dc({},t.getRowPosition()),{column:e?i[0]:ft(i)}):t.getCellPosition();var r=this.findNextCellToFocusOn(n,e,!1);if(r instanceof Il)r.focusCell(!0);else if(r)return this.tryToFocusFullWidthRow(r.getRowPosition(),e);return o(r)},e.prototype.findNextCellToFocusOn=function(t,e,n){for(var i=t;;){t!==i&&(t=i),e||(i=this.getLastCellOfColSpan(i)),i=this.cellNavigationService.getNextTabbedCell(i,e);var r=this.gridOptionsService.getCallback("tabToNextCell");if(o(r)){var s=r({backwards:e,editing:n,previousCellPosition:t,nextCellPosition:i||null});o(s)?(s.floating&&(P((function(){console.warn("AG Grid: tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?")}),"no floating in userCell"),s.rowPinned=s.floating),i={rowIndex:s.rowIndex,column:s.column,rowPinned:s.rowPinned}):i=null}if(!i)return null;if(i.rowIndex<0){var a=this.headerNavigationService.getHeaderRowCount();return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:a+i.rowIndex,column:i.column}}),null}var l="fullRow"===this.gridOptionsService.get("editType");if(n&&!l)if(!this.isCellEditable(i))continue;this.ensureCellVisible(i);var c=this.getCellByPosition(i);if(!c){var u=this.rowRenderer.getRowByPosition(i);if(!u||!u.isFullWidth()||n)continue;return u}if(!c.isSuppressNavigable())return this.rangeService&&this.rangeService.setRangeToCell(i),c}},e.prototype.isCellEditable=function(t){var e=this.lookupRowNodeForCell(t);return!!e&&t.column.isCellEditable(e)},e.prototype.getCellByPosition=function(t){var e=this.rowRenderer.getRowByPosition(t);return e?e.getCellCtrl(t.column):null},e.prototype.lookupRowNodeForCell=function(t){return"top"===t.rowPinned?this.pinnedRowModel.getPinnedTopRow(t.rowIndex):"bottom"===t.rowPinned?this.pinnedRowModel.getPinnedBottomRow(t.rowIndex):this.paginationProxy.getRow(t.rowIndex)},e.prototype.navigateToNextCell=function(t,e,n,i){for(var s=n,a=!1;s&&(s===n||!this.isValidNavigateCell(s));)this.gridOptionsService.is("enableRtl")?e===Vi.LEFT&&(s=this.getLastCellOfColSpan(s)):e===Vi.RIGHT&&(s=this.getLastCellOfColSpan(s)),a=r(s=this.cellNavigationService.getNextCellToFocus(e,s));if(a&&t&&t.key===Vi.UP&&(s={rowIndex:-1,rowPinned:null,column:n.column}),i){var l=this.gridOptionsService.getCallback("navigateToNextCell");if(o(l)){var c=l({key:e,previousCellPosition:n,nextCellPosition:s||null,event:t});o(c)?(c.floating&&(P((function(){console.warn("AG Grid: tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?")}),"no floating in userCell"),c.rowPinned=c.floating),s={rowPinned:c.rowPinned,rowIndex:c.rowIndex,column:c.column}):s=null}}if(s)if(s.rowIndex<0){var u=this.headerNavigationService.getHeaderRowCount();this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:u+s.rowIndex,column:n.column},event:t||void 0})}else{var h=this.getNormalisedPosition(s);h?this.focusPosition(h):this.tryToFocusFullWidthRow(s)}},e.prototype.getNormalisedPosition=function(t){this.ensureCellVisible(t);var e=this.getCellByPosition(t);return e?(t=e.getCellPosition(),this.ensureCellVisible(t),t):null},e.prototype.tryToFocusFullWidthRow=function(t,e){void 0===e&&(e=!1);var n=this.columnModel.getAllDisplayedColumns(),i=this.rowRenderer.getRowByPosition(t);if(!i||!i.isFullWidth())return!1;var o=this.focusService.getFocusedCell(),r={rowIndex:t.rowIndex,rowPinned:t.rowPinned,column:t.column||(e?ft(n):n[0])};this.focusPosition(r);var s=null!=o&&this.rowPositionUtils.before(r,o),a={type:zt.EVENT_FULL_WIDTH_ROW_FOCUSED,rowIndex:r.rowIndex,rowPinned:r.rowPinned,column:r.column,isFullWidthCell:!0,floating:r.rowPinned,fromBelow:s};return this.eventService.dispatchEvent(a),!0},e.prototype.focusPosition=function(t){this.focusService.setFocusedCell({rowIndex:t.rowIndex,column:t.column,rowPinned:t.rowPinned,forceBrowserFocus:!0}),this.rangeService&&this.rangeService.setRangeToCell(t)},e.prototype.isValidNavigateCell=function(t){return!!this.rowPositionUtils.getRowNode(t)},e.prototype.getLastCellOfColSpan=function(t){var e=this.getCellByPosition(t);if(!e)return t;var n=e.getColSpanningList();return 1===n.length?t:{rowIndex:t.rowIndex,column:ft(n),rowPinned:t.rowPinned}},e.prototype.ensureCellVisible=function(t){var e=this.gridOptionsService.is("groupRowsSticky"),n=this.rowModel.getRow(t.rowIndex);!(e&&(null==n?void 0:n.sticky))&&r(t.rowPinned)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(t.rowIndex),t.column.isPinned()||this.gridBodyCon.getScrollFeature().ensureColumnVisible(t.column)},Rc([K("mouseEventService")],e.prototype,"mouseEventService",void 0),Rc([K("paginationProxy")],e.prototype,"paginationProxy",void 0),Rc([K("focusService")],e.prototype,"focusService",void 0),Rc([Y("rangeService")],e.prototype,"rangeService",void 0),Rc([K("columnModel")],e.prototype,"columnModel",void 0),Rc([K("rowModel")],e.prototype,"rowModel",void 0),Rc([K("ctrlsService")],e.prototype,"ctrlsService",void 0),Rc([K("rowRenderer")],e.prototype,"rowRenderer",void 0),Rc([K("headerNavigationService")],e.prototype,"headerNavigationService",void 0),Rc([K("rowPositionUtils")],e.prototype,"rowPositionUtils",void 0),Rc([K("cellNavigationService")],e.prototype,"cellNavigationService",void 0),Rc([K("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),Rc([H],e.prototype,"postConstruct",null),e=Rc([z("navigationService")],e)}(jt),Lc=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ic=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},kc=function(t){function e(e){var n=t.call(this,'<div class="ag-popup-editor" tabindex="-1"/>')||this;return n.params=e,n}return Lc(e,t),e.prototype.postConstruct=function(){this.gridOptionsService.setDomData(this.getGui(),e.DOM_KEY_POPUP_EDITOR_WRAPPER,!0),this.addKeyDownListener()},e.prototype.addKeyDownListener=function(){var t=this,e=this.getGui(),n=this.params;this.addManagedListener(e,"keydown",(function(e){Hi(t.gridOptionsService,e,n.node,n.column,!0)||n.onKeyDown(e)}))},e.DOM_KEY_POPUP_EDITOR_WRAPPER="popupEditorWrapper",Ic([H],e.prototype,"postConstruct",null),e}(ss),Nc=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Fc=function(t){function e(e,n,i,o,r){var s=t.call(this)||this;s.rendererVersion=0,s.editorVersion=0,s.beans=e,s.column=n.getColumn(),s.rowNode=n.getRowNode(),s.rowCtrl=n.getRowCtrl(),s.eRow=o,s.setTemplate('<div comp-id="'+s.getCompId()+'"/>');var a=s.getGui();s.forceWrapper=n.isForceWrapper(),s.refreshWrapper(!1);var l=function(t,e,n){var i=n||a;null!=e&&""!=e?i.setAttribute(t,e):i.removeAttribute(t)},c={addOrRemoveCssClass:function(t,e){return s.addOrRemoveCssClass(t,e)},setUserStyles:function(t){return Oi(a,t)},getFocusableElement:function(){return s.getFocusableElement()},setTabIndex:function(t){return l("tabindex",t.toString())},setRole:function(t){return ze(a,t)},setColId:function(t){return l("col-id",t)},setTitle:function(t){return l("title",t)},setIncludeSelection:function(t){return s.includeSelection=t},setIncludeRowDrag:function(t){return s.includeRowDrag=t},setIncludeDndSource:function(t){return s.includeDndSource=t},setRenderDetails:function(t,e,n){return s.setRenderDetails(t,e,n)},setEditDetails:function(t,e,n){return s.setEditDetails(t,e,n)},getCellEditor:function(){return s.cellEditor||null},getCellRenderer:function(){return s.cellRenderer||null},getParentOfValue:function(){return s.getParentOfValue()}};return s.cellCtrl=n,n.setComp(c,s.getGui(),s.eCellWrapper,i,r),s}return Nc(e,t),e.prototype.getParentOfValue=function(){return this.eCellValue?this.eCellValue:this.eCellWrapper?this.eCellWrapper:this.getGui()},e.prototype.setRenderDetails=function(t,e,n){if(!(this.cellEditor&&!this.cellEditorPopupWrapper)){this.firstRender=null==this.firstRender;var i=this.refreshWrapper(!1);if(this.refreshEditStyles(!1),t)!(n||i)&&this.refreshCellRenderer(t)||(this.destroyRenderer(),this.createCellRendererInstance(t));else this.destroyRenderer(),this.insertValueWithoutCellRenderer(e)}},e.prototype.setEditDetails=function(t,e,n){t?this.createCellEditorInstance(t,e,n):this.destroyEditor()},e.prototype.removeControls=function(){this.checkboxSelectionComp=this.beans.context.destroyBean(this.checkboxSelectionComp),this.dndSourceComp=this.beans.context.destroyBean(this.dndSourceComp),this.rowDraggingComp=this.beans.context.destroyBean(this.rowDraggingComp)},e.prototype.refreshWrapper=function(t){var e=this.includeRowDrag||this.includeDndSource||this.includeSelection,n=e||this.forceWrapper,i=n&&null==this.eCellWrapper;i&&(this.eCellWrapper=vi('<div class="ag-cell-wrapper" role="presentation"></div>'),this.getGui().appendChild(this.eCellWrapper));var o=!n&&null!=this.eCellWrapper;o&&(_i(this.eCellWrapper),this.eCellWrapper=void 0),this.addOrRemoveCssClass("ag-cell-value",!n);var r=!t&&n,s=r&&null==this.eCellValue;s&&(this.eCellValue=vi('<span class="ag-cell-value" role="presentation"></span>'),this.eCellWrapper.appendChild(this.eCellValue));var a=!r&&null!=this.eCellValue;a&&(_i(this.eCellValue),this.eCellValue=void 0);var l=i||o||s||a;return l&&this.removeControls(),t||e&&this.addControls(),l},e.prototype.addControls=function(){this.includeRowDrag&&null==this.rowDraggingComp&&(this.rowDraggingComp=this.cellCtrl.createRowDragComp(),this.rowDraggingComp&&this.eCellWrapper.insertBefore(this.rowDraggingComp.getGui(),this.eCellValue)),this.includeDndSource&&null==this.dndSourceComp&&(this.dndSourceComp=this.cellCtrl.createDndSource(),this.eCellWrapper.insertBefore(this.dndSourceComp.getGui(),this.eCellValue)),this.includeSelection&&null==this.checkboxSelectionComp&&(this.checkboxSelectionComp=this.cellCtrl.createSelectionCheckbox(),this.eCellWrapper.insertBefore(this.checkboxSelectionComp.getGui(),this.eCellValue))},e.prototype.createCellEditorInstance=function(t,e,n){var i=this,o=this.editorVersion,s=t.newAgStackInstance();if(s){var a=t.params;s.then((function(t){return i.afterCellEditorCreated(o,t,a,e,n)})),r(this.cellEditor)&&a.cellStartedEdit&&this.cellCtrl.focusCell(!0)}},e.prototype.insertValueWithoutCellRenderer=function(t){var e=this.getParentOfValue();mi(e);var n=null!=t?Ce(t):null;null!=n&&(e.innerHTML=n)},e.prototype.destroyEditorAndRenderer=function(){this.destroyRenderer(),this.destroyEditor()},e.prototype.destroyRenderer=function(){var t=this.beans.context;this.cellRenderer=t.destroyBean(this.cellRenderer),_i(this.cellRendererGui),this.cellRendererGui=null,this.rendererVersion++},e.prototype.destroyEditor=function(){var t=this.beans.context;this.hideEditorPopup&&this.hideEditorPopup(),this.hideEditorPopup=void 0,this.cellEditor=t.destroyBean(this.cellEditor),this.cellEditorPopupWrapper=t.destroyBean(this.cellEditorPopupWrapper),_i(this.cellEditorGui),this.cellEditorGui=null,this.editorVersion++},e.prototype.refreshCellRenderer=function(t){if(null==this.cellRenderer||null==this.cellRenderer.refresh)return!1;if(this.cellRendererClass!==t.componentClass)return!1;var e=this.cellRenderer.refresh(t.params);return!0===e||void 0===e},e.prototype.createCellRendererInstance=function(t){var e=this,n=!this.beans.gridOptionsService.is("suppressAnimationFrame"),i=this.rendererVersion,o=t.componentClass,r=function(){if(!(e.rendererVersion!==i||!e.isAlive())){var n=t.newAgStackInstance(),r=e.afterCellRendererCreated.bind(e,i,o);n&&n.then(r)}};n&&this.firstRender?this.beans.animationFrameService.createTask(r,this.rowNode.rowIndex,"createTasksP2"):r()},e.prototype.getCtrl=function(){return this.cellCtrl},e.prototype.getRowCtrl=function(){return this.rowCtrl},e.prototype.getCellRenderer=function(){return this.cellRenderer},e.prototype.getCellEditor=function(){return this.cellEditor},e.prototype.afterCellRendererCreated=function(t,e,n){if(!this.isAlive()||t!==this.rendererVersion)this.beans.context.destroyBean(n);else if(this.cellRenderer=n,this.cellRendererClass=e,this.cellRendererGui=this.cellRenderer.getGui(),null!=this.cellRendererGui){var i=this.getParentOfValue();mi(i),i.appendChild(this.cellRendererGui)}},e.prototype.afterCellEditorCreated=function(t,e,n,i,o){if(t!==this.editorVersion)this.beans.context.destroyBean(e);else{if(e.isCancelBeforeStart&&e.isCancelBeforeStart())return this.beans.context.destroyBean(e),void this.cellCtrl.stopEditing(!0);if(!e.getGui)return console.warn("AG Grid: cellEditor for column "+this.column.getId()+" is missing getGui() method"),void this.beans.context.destroyBean(e);this.cellEditor=e,this.cellEditorGui=e.getGui();var r=i||void 0!==e.isPopup&&e.isPopup();r?this.addPopupCellEditor(n,o):this.addInCellEditor(),this.refreshEditStyles(!0,r),e.afterGuiAttached&&e.afterGuiAttached()}},e.prototype.refreshEditStyles=function(t,e){var n;this.addOrRemoveCssClass("ag-cell-inline-editing",t&&!e),this.addOrRemoveCssClass("ag-cell-popup-editing",t&&!!e),this.addOrRemoveCssClass("ag-cell-not-inline-editing",!t||!!e),null===(n=this.rowCtrl)||void 0===n||n.setInlineEditingCss(t)},e.prototype.addInCellEditor=function(){var t=this.getGui(),e=this.beans.gridOptionsService.getDocument();(t.contains(e.activeElement)&&t.focus(),this.destroyRenderer(),this.refreshWrapper(!0),this.clearParentOfValue(),this.cellEditorGui)&&this.getParentOfValue().appendChild(this.cellEditorGui)},e.prototype.addPopupCellEditor=function(t,e){var n=this;"fullRow"===this.beans.gridOptionsService.get("editType")&&console.warn("AG Grid: popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.");var i=this.cellEditor;this.cellEditorPopupWrapper=this.beans.context.createBean(new kc(t));var o=this.cellEditorPopupWrapper.getGui();this.cellEditorGui&&o.appendChild(this.cellEditorGui);var r=this.beans.popupService,s=this.beans.gridOptionsService.is("stopEditingWhenCellsLoseFocus"),a=null!=e?e:i.getPopupPosition?i.getPopupPosition():"over",l=this.beans.gridOptionsService.is("enableRtl"),c={ePopup:o,column:this.column,rowNode:this.rowNode,type:"popupCellEditor",eventSource:this.getGui(),position:a,alignSide:l?"right":"left",keepWithinBounds:!0},u=r.positionPopupByComponent.bind(r,c),h=this.beans.localeService.getLocaleTextFunc(),d=r.addPopup({modal:s,eChild:o,closeOnEsc:!0,closedCallback:function(){n.cellCtrl.onPopupEditorClosed()},anchorToElement:this.getGui(),positionCallback:u,ariaLabel:h("ariaLabelCellEditor","Cell Editor")});d&&(this.hideEditorPopup=d.hideFunc)},e.prototype.detach=function(){this.eRow.removeChild(this.getGui())},e.prototype.destroy=function(){this.cellCtrl.stopEditing(),this.destroyEditorAndRenderer(),this.removeControls(),t.prototype.destroy.call(this)},e.prototype.clearParentOfValue=function(){var t=this.getGui(),e=this.beans.gridOptionsService.getDocument();t.contains(e.activeElement)&&Ln()&&t.focus({preventScroll:!0}),mi(this.getParentOfValue())},e}(go),Gc=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Bc=function(t){function e(e,n,i){var o=t.call(this)||this;o.cellComps={},o.beans=n,o.rowCtrl=e,o.setTemplate('<div comp-id="'+o.getCompId()+'" style="'+o.getInitialStyle(i)+'"/>');var r=o.getGui(),s=r.style,a={setDomOrder:function(t){return o.domOrder=t},setCellCtrls:function(t){return o.setCellCtrls(t)},showFullWidth:function(t){return o.showFullWidth(t)},getFullWidthCellRenderer:function(){return o.getFullWidthCellRenderer()},addOrRemoveCssClass:function(t,e){return o.addOrRemoveCssClass(t,e)},setUserStyles:function(t){return Oi(r,t)},setTop:function(t){return s.top=t},setTransform:function(t){return s.transform=t},setRowIndex:function(t){return r.setAttribute("row-index",t)},setRole:function(t){return ze(r,t)},setRowId:function(t){return r.setAttribute("row-id",t)},setRowBusinessKey:function(t){return r.setAttribute("row-business-key",t)},setTabIndex:function(t){return r.setAttribute("tabindex",t.toString())}};return e.setComp(a,o.getGui(),i),o.addDestroyFunc((function(){e.unsetComp(i)})),o}return Gc(e,t),e.prototype.getInitialStyle=function(t){var e=this.rowCtrl.getInitialTransform(t),n=this.rowCtrl.getInitialRowTop(t);return e?"transform: "+e:"top: "+n},e.prototype.showFullWidth=function(t){var e=this,n=t.newAgStackInstance();n&&n.then((function(t){if(e.isAlive()){var n=t.getGui();e.getGui().appendChild(n),e.rowCtrl.setupDetailRowAutoHeight(n),e.setFullWidthRowComp(t)}else e.beans.context.destroyBean(t)}))},e.prototype.setCellCtrls=function(t){var e=this,n=Object.assign({},this.cellComps);t.forEach((function(t){var i=t.getInstanceId();null==e.cellComps[i]?e.newCellComp(t):n[i]=null}));var i=C(n).filter((function(t){return null!=t}));this.destroyCells(i),this.ensureDomOrder(t)},e.prototype.ensureDomOrder=function(t){var e=this;if(this.domOrder){var n=[];t.forEach((function(t){var i=e.cellComps[t.getInstanceId()];i&&n.push(i.getGui())})),Si(this.getGui(),n)}},e.prototype.newCellComp=function(t){var e=new Fc(this.beans,t,this.rowCtrl.isPrintLayout(),this.getGui(),this.rowCtrl.isEditing());this.cellComps[t.getInstanceId()]=e,this.getGui().appendChild(e.getGui())},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.destroyAllCells()},e.prototype.destroyAllCells=function(){var t=C(this.cellComps).filter((function(t){return null!=t}));this.destroyCells(t)},e.prototype.setFullWidthRowComp=function(t){var e=this;this.fullWidthCellRenderer&&console.error("AG Grid - should not be setting fullWidthRowComponent twice"),this.fullWidthCellRenderer=t,this.addDestroyFunc((function(){e.fullWidthCellRenderer=e.beans.context.destroyBean(e.fullWidthCellRenderer)}))},e.prototype.getFullWidthCellRenderer=function(){return this.fullWidthCellRenderer},e.prototype.destroyCells=function(t){var e=this;t.forEach((function(t){if(t){var n=t.getCtrl().getInstanceId();e.cellComps[n]===t&&(t.detach(),t.destroy(),e.cellComps[n]=null)}}))},e}(go),jc=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Uc=function(){return Uc=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Uc.apply(this,arguments)},Vc=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};var Wc,Hc=function(t){function e(){var e,n,i,o,r=t.call(this,(e=go.elementGettingCreated.getAttribute("name"),n=yc.getRowContainerCssClasses(e),i=e===Bl.CENTER,o=e===Bl.TOP_CENTER||e===Bl.STICKY_TOP_CENTER||e===Bl.BOTTOM_CENTER,i?'<div class="'+n.wrapper+'" ref="eWrapper" role="presentation">\n                <div class="'+n.viewport+'" ref="eViewport" role="presentation">\n                    <div class="'+n.container+'" ref="eContainer"></div>\n                </div>\n            </div>':o?'<div class="'+n.viewport+'" ref="eViewport" role="presentation">\n                <div class="'+n.container+'" ref="eContainer"></div>\n            </div>':'<div class="'+n.container+'" ref="eContainer"></div>'))||this;return r.rowComps={},r.name=go.elementGettingCreated.getAttribute("name"),r.type=function(t){switch(t){case Bl.CENTER:case Bl.TOP_CENTER:case Bl.STICKY_TOP_CENTER:case Bl.BOTTOM_CENTER:return jl.CENTER;case Bl.LEFT:case Bl.TOP_LEFT:case Bl.STICKY_TOP_LEFT:case Bl.BOTTOM_LEFT:return jl.LEFT;case Bl.RIGHT:case Bl.TOP_RIGHT:case Bl.STICKY_TOP_RIGHT:case Bl.BOTTOM_RIGHT:return jl.RIGHT;case Bl.FULL_WIDTH:case Bl.TOP_FULL_WIDTH:case Bl.STICKY_TOP_FULL_WIDTH:case Bl.BOTTOM_FULL_WIDTH:return jl.FULL_WIDTH;default:throw Error("Invalid Row Container Type")}}(r.name),r}return jc(e,t),e.prototype.postConstruct=function(){var t=this,e={setViewportHeight:function(e){return t.eViewport.style.height=e},setRowCtrls:function(e){return t.setRowCtrls(e)},setDomOrder:function(e){t.domOrder=e},setContainerWidth:function(e){return t.eContainer.style.width=e}};this.createManagedBean(new yc(this.name)).setComp(e,this.eContainer,this.eViewport,this.eWrapper)},e.prototype.preDestroy=function(){this.setRowCtrls([])},e.prototype.setRowCtrls=function(t){var e=this,n=Uc({},this.rowComps);this.rowComps={},this.lastPlacedElement=null;t.forEach((function(t){var i=t.getInstanceId(),o=n[i];if(o)e.rowComps[i]=o,delete n[i],e.ensureDomOrder(o.getGui());else{var r=new Bc(t,e.beans,e.type);e.rowComps[i]=r,e.appendRow(r.getGui())}})),C(n).forEach((function(t){e.eContainer.removeChild(t.getGui()),t.destroy()})),ze(this.eContainer,t.length?"rowgroup":"presentation")},e.prototype.appendRow=function(t){this.domOrder?wi(this.eContainer,t,this.lastPlacedElement):this.eContainer.appendChild(t),this.lastPlacedElement=t},e.prototype.ensureDomOrder=function(t){this.domOrder&&(Ei(this.eContainer,t,this.lastPlacedElement),this.lastPlacedElement=t)},Vc([K("beans")],e.prototype,"beans",void 0),Vc([mo("eViewport")],e.prototype,"eViewport",void 0),Vc([mo("eContainer")],e.prototype,"eContainer",void 0),Vc([mo("eWrapper")],e.prototype,"eWrapper",void 0),Vc([H],e.prototype,"postConstruct",null),Vc([$],e.prototype,"preDestroy",null),e}(go),$c=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},zc=function(){function t(t){this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[],this.pinned=t}return t.prototype.onDragEnter=function(t){var e=this;if(this.clearColumnsList(),!this.gridOptionsService.is("functionsReadOnly")){var n=t.dragItem.columns;n&&n.forEach((function(t){t.isPrimary()&&(t.isAnyFunctionActive()||(t.isAllowValue()?e.columnsToAggregate.push(t):t.isAllowRowGroup()?e.columnsToGroup.push(t):t.isAllowPivot()&&e.columnsToPivot.push(t)))}))}},t.prototype.getIconName=function(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?As.ICON_PINNED:As.ICON_MOVE:null},t.prototype.onDragLeave=function(t){this.clearColumnsList()},t.prototype.clearColumnsList=function(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0},t.prototype.onDragging=function(t){},t.prototype.onDragStop=function(t){this.columnsToAggregate.length>0&&this.columnModel.addValueColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&this.columnModel.addRowGroupColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&this.columnModel.addPivotColumns(this.columnsToPivot,"toolPanelDragAndDrop")},$c([K("columnModel")],t.prototype,"columnModel",void 0),$c([K("gridOptionsService")],t.prototype,"gridOptionsService",void 0),t}(),Kc=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},Yc=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},Xc=function(){function t(t,e){this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.pinned=t,this.eContainer=e,this.centerContainer=!o(t)}return t.prototype.init=function(){var t=this;this.ctrlsService.whenReady((function(){t.gridBodyCon=t.ctrlsService.getGridBodyCtrl()}))},t.prototype.getIconName=function(){return this.pinned?As.ICON_PINNED:As.ICON_MOVE},t.prototype.onDragEnter=function(t){var e=t.dragItem.columns;if(t.dragSource.type===Ar.ToolPanel)this.setColumnsVisible(e,!0,"uiColumnDragged");else{var n=t.dragItem.visibleState,i=(e||[]).filter((function(t){return n[t.getId()]}));this.setColumnsVisible(i,!0,"uiColumnDragged")}this.setColumnsPinned(e,this.pinned,"uiColumnDragged"),this.onDragging(t,!0,!0)},t.prototype.onDragLeave=function(){this.ensureIntervalCleared(),this.lastMovedInfo=null},t.prototype.setColumnsVisible=function(t,e,n){if(void 0===n&&(n="api"),t){var i=t.filter((function(t){return!t.getColDef().lockVisible}));this.columnModel.setColumnsVisible(i,e,n)}},t.prototype.setColumnsPinned=function(t,e,n){if(void 0===n&&(n="api"),t){var i=t.filter((function(t){return!t.getColDef().lockPinned}));this.columnModel.setColumnsPinned(i,e,n)}},t.prototype.onDragStop=function(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null},t.prototype.normaliseX=function(t){this.gridOptionsService.is("enableRtl")&&(t=this.eContainer.clientWidth-t);return this.centerContainer&&(t+=this.ctrlsService.getCenterRowContainerCtrl().getCenterViewportScrollLeft()),t},t.prototype.checkCenterForScrolling=function(t){if(this.centerContainer){var e=this.ctrlsService.getCenterRowContainerCtrl().getCenterViewportScrollLeft(),n=e+this.ctrlsService.getCenterRowContainerCtrl().getCenterWidth();this.gridOptionsService.is("enableRtl")?(this.needToMoveRight=t<e+50,this.needToMoveLeft=t>n-50):(this.needToMoveLeft=t<e+50,this.needToMoveRight=t>n-50),this.needToMoveLeft||this.needToMoveRight?this.ensureIntervalStarted():this.ensureIntervalCleared()}},t.prototype.onDragging=function(t,e,n,i){var o,s=this;if(void 0===t&&(t=this.lastDraggingEvent),void 0===e&&(e=!1),void 0===n&&(n=!1),void 0===i&&(i=!1),i){if(this.lastMovedInfo){var a=this.lastMovedInfo,l=a.columns,c=a.toIndex;this.moveColumns(l,c,"uiColumnMoved",!0)}}else if(this.lastDraggingEvent=t,!r(t.hDirection)){var u=this.normaliseX(t.x);e||this.checkCenterForScrolling(u);var h=this.normaliseDirection(t.hDirection),d=t.dragSource.type,p=(null===(o=t.dragSource.getDragItem().columns)||void 0===o?void 0:o.filter((function(t){return!t.getColDef().lockPinned||t.getPinned()==s.pinned})))||[];this.attemptMoveColumns({dragSourceType:d,allMovingColumns:p,hDirection:h,mouseX:u,fromEnter:e,fakeEvent:n})}},t.prototype.normaliseDirection=function(t){if(!this.gridOptionsService.is("enableRtl"))return t;switch(t){case Ir.Left:return Ir.Right;case Ir.Right:return Ir.Left;default:console.error("AG Grid: Unknown direction "+t)}},t.prototype.attemptMoveColumns=function(t){var e=t.dragSourceType,n=t.hDirection,i=t.mouseX,o=t.fromEnter,r=t.fakeEvent,s=n===Ir.Left,a=n===Ir.Right,l=t.allMovingColumns;if(e===Ar.HeaderCell){var c=[];l.forEach((function(t){for(var e=null,n=t.getParent();null!=n&&1===n.getDisplayedLeafColumns().length;)e=n,n=n.getParent();null!=e?e.getLeafColumns().forEach((function(t){c.includes(t)||c.push(t)})):c.includes(t)||c.push(t)})),l=c}var u=l.slice();this.columnModel.sortColumnsLikeGridColumns(u);var h=this.calculateValidMoves(u,a,i),d=this.calculateOldIndex(u);if(0!==h.length){var p=h[0],f=null!==d&&!o;if(e==Ar.HeaderCell&&(f=null!==d),f&&!r){if(s&&p>=d)return;if(a&&p<=d)return}for(var g=this.columnModel.getAllDisplayedColumns(),m=[],_=null,y=0;y<h.length;y++){var v=h[y],C=this.columnModel.getProposedColumnOrder(u,v);if(this.columnModel.doesOrderPassRules(C)){var b=C.filter((function(t){return g.includes(t)}));if(null===_)_=b;else if(!no.areEqual(b,_))break;var E=this.groupFragCount(C);m.push({move:v,fragCount:E})}}0!==m.length&&(m.sort((function(t,e){return t.fragCount-e.fragCount})),this.moveColumns(l,m[0].move,"uiColumnMoved",!1))}},t.prototype.calculateOldIndex=function(t){var e=this.columnModel.getAllGridColumns(),n=mt(t.map((function(t){return e.indexOf(t)}))),i=n[0];return ft(n)-i!==n.length-1?null:i},t.prototype.moveColumns=function(t,e,n,i){this.columnModel.moveColumns(t,e,n,i),this.lastMovedInfo=i?null:{columns:t,toIndex:e}},t.prototype.groupFragCount=function(t){function e(t){for(var e=[],n=t.getOriginalParent();null!=n;)e.push(n),n=n.getOriginalParent();return e}for(var n=0,i=function(i){var o,r=e(t[i]),s=e(t[i+1]);r=(o=Yc(r.length>s.length?[r,s]:[s,r],2))[0],s=o[1],r.forEach((function(t){-1===s.indexOf(t)&&n++}))},o=0;o<t.length-1;o++)i(o);return n},t.prototype.calculateValidMoves=function(t,e,n){var i=this.gridOptionsService.is("suppressMovableColumns")||t.some((function(t){return t.getColDef().suppressMovable}));if(i)return[];var o,r=this.columnModel.getDisplayedColumns(this.pinned),s=this.columnModel.getAllGridColumns(),a=r.filter((function(e){return bt(t,e)})),l=r.filter((function(e){return!bt(t,e)})),c=s.filter((function(e){return!bt(t,e)})),u=0,h=n;if(e){var d=0;a.forEach((function(t){return d+=t.getActualWidth()})),h-=d}if(h>0){for(var p=0;p<l.length;p++){if((h-=l[p].getActualWidth())<0)break;u++}e&&u++}if(u>0){var f=l[u-1];o=c.indexOf(f)+1}else-1===(o=c.indexOf(l[0]))&&(o=0);var g=[o],m=function(t,e){return t-e};if(e){for(var _=o+1,y=s.length-1;_<=y;)g.push(_),_++;g.sort(m)}else{_=o,y=s.length-1;for(var v=s[_];_<=y&&this.isColumnHidden(r,v);)_++,g.push(_),v=s[_];_=o-1;for(;_>=0;)g.push(_),_--;g.sort(m).reverse()}return g},t.prototype.isColumnHidden=function(t,e){return t.indexOf(e)<0},t.prototype.ensureIntervalStarted=function(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),100),this.needToMoveLeft?this.dragAndDropService.setGhostIcon(As.ICON_LEFT,!0):this.dragAndDropService.setGhostIcon(As.ICON_RIGHT,!0))},t.prototype.ensureIntervalCleared=function(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.dragAndDropService.setGhostIcon(As.ICON_MOVE))},t.prototype.moveInterval=function(){var t;this.intervalCount++,(t=10+5*this.intervalCount)>100&&(t=100);var e=null,n=this.gridBodyCon.getScrollFeature();if(this.needToMoveLeft?e=n.scrollHorizontally(-t):this.needToMoveRight&&(e=n.scrollHorizontally(t)),0!==e)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;var i=this.lastDraggingEvent.dragItem.columns.filter((function(t){return!t.getColDef().lockPinned}));if(i.length>0&&(this.dragAndDropService.setGhostIcon(As.ICON_PINNED),this.failedMoveAttempts>7)){var o=this.needToMoveLeft?"left":"right";this.setColumnsPinned(i,o,"uiColumnDragged"),this.dragAndDropService.nudge()}}},Kc([K("columnModel")],t.prototype,"columnModel",void 0),Kc([K("dragAndDropService")],t.prototype,"dragAndDropService",void 0),Kc([K("gridOptionsService")],t.prototype,"gridOptionsService",void 0),Kc([K("ctrlsService")],t.prototype,"ctrlsService",void 0),Kc([H],t.prototype,"init",null),t}(),qc=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Zc=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},Jc=function(t){function e(e,n){var i=t.call(this)||this;return i.pinned=e,i.eContainer=n,i}return qc(e,t),e.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady((function(e){switch(t.pinned){case"left":t.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.leftRowContainerCtrl.getContainerElement()],[e.bottomLeftRowContainerCtrl.getContainerElement()],[e.topLeftRowContainerCtrl.getContainerElement()]];break;case"right":t.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.rightRowContainerCtrl.getContainerElement()],[e.bottomRightRowContainerCtrl.getContainerElement()],[e.topRightRowContainerCtrl.getContainerElement()]];break;default:t.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.centerRowContainerCtrl.getViewportElement()],[e.bottomCenterRowContainerCtrl.getViewportElement()],[e.topCenterRowContainerCtrl.getViewportElement()]]}}))},e.prototype.isInterestedIn=function(t){return t===Ar.HeaderCell||t===Ar.ToolPanel&&this.gridOptionsService.is("allowDragFromColumnsToolPanel")},e.prototype.getSecondaryContainers=function(){return this.eSecondaryContainers},e.prototype.getContainer=function(){return this.eContainer},e.prototype.init=function(){this.moveColumnFeature=this.createManagedBean(new Xc(this.pinned,this.eContainer)),this.bodyDropPivotTarget=this.createManagedBean(new zc(this.pinned)),this.dragAndDropService.addDropTarget(this)},e.prototype.getIconName=function(){return this.currentDropListener.getIconName()},e.prototype.isDropColumnInPivotMode=function(t){return this.columnModel.isPivotMode()&&t.dragSource.type===Ar.ToolPanel},e.prototype.onDragEnter=function(t){this.currentDropListener=this.isDropColumnInPivotMode(t)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(t)},e.prototype.onDragLeave=function(t){this.currentDropListener.onDragLeave(t)},e.prototype.onDragging=function(t){this.currentDropListener.onDragging(t)},e.prototype.onDragStop=function(t){this.currentDropListener.onDragStop(t)},Zc([K("dragAndDropService")],e.prototype,"dragAndDropService",void 0),Zc([K("columnModel")],e.prototype,"columnModel",void 0),Zc([K("ctrlsService")],e.prototype,"ctrlsService",void 0),Zc([H],e.prototype,"postConstruct",null),Zc([H],e.prototype,"init",null),e}(jt),Qc=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},tu=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Qc(arguments[e]));return t},eu=function(){function t(){}return t.getHeaderClassesFromColDef=function(t,e,n,i){return r(t)?[]:this.getColumnClassesFromCollDef(t.headerClass,t,e,n,i)},t.getToolPanelClassesFromColDef=function(t,e,n,i){return r(t)?[]:this.getColumnClassesFromCollDef(t.toolPanelClass,t,e,n,i)},t.getClassParams=function(t,e,n,i){return{colDef:t,column:n,columnGroup:i,api:e.api,columnApi:e.columnApi,context:e.context}},t.getColumnClassesFromCollDef=function(t,e,n,i,o){if(r(t))return[];var s;"function"==typeof t?s=t(this.getClassParams(e,n,i,o)):s=t;return"string"==typeof s?[s]:Array.isArray(s)?tu(s):[]},t}(),nu=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),iu=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},ou=function(t){function e(n){var i=t.call(this,e.TEMPLATE,n)||this;return i.headerCompVersion=0,i.column=n.getColumnGroupChild(),i.pinned=n.getPinned(),i}return nu(e,t),e.prototype.postConstruct=function(){var t=this,e=this.getGui(),n=function(t,n,i){var o=i||e;null!=n&&""!=n?o.setAttribute(t,n):o.removeAttribute(t)},i={setWidth:function(t){return e.style.width=t},addOrRemoveCssClass:function(e,n){return t.addOrRemoveCssClass(e,n)},setColId:function(t){return n("col-id",t)},setTitle:function(t){return n("title",t)},setAriaDescription:function(t){return Je(e,t)},setAriaSort:function(t){return t?fn(e,t):gn(e)},setUserCompDetails:function(e){return t.setUserCompDetails(e)},getUserCompInstance:function(){return t.headerComp}};this.ctrl.setComp(i,this.getGui(),this.eResize,this.eHeaderCompWrapper);var o=this.ctrl.getSelectAllGui();this.eResize.insertAdjacentElement("afterend",o)},e.prototype.destroyHeaderComp=function(){this.headerComp&&(this.eHeaderCompWrapper.removeChild(this.headerCompGui),this.headerComp=this.destroyBean(this.headerComp),this.headerCompGui=void 0)},e.prototype.setUserCompDetails=function(t){var e=this;this.headerCompVersion++;var n=this.headerCompVersion;t.newAgStackInstance().then((function(t){return e.afterCompCreated(n,t)}))},e.prototype.afterCompCreated=function(t,e){t==this.headerCompVersion&&this.isAlive()?(this.destroyHeaderComp(),this.headerComp=e,this.headerCompGui=e.getGui(),this.eHeaderCompWrapper.appendChild(this.headerCompGui),this.ctrl.setDragSource(this.getGui())):this.destroyBean(e)},e.TEMPLATE='<div class="ag-header-cell" role="columnheader" tabindex="-1">\n            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>\n            <div ref="eHeaderCompWrapper" class="ag-header-cell-comp-wrapper" role="presentation"></div>\n        </div>',iu([mo("eResize")],e.prototype,"eResize",void 0),iu([mo("eHeaderCompWrapper")],e.prototype,"eHeaderCompWrapper",void 0),iu([H],e.prototype,"postConstruct",null),iu([$],e.prototype,"destroyHeaderComp",null),e}(Ua),ru=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),su=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},au=function(t){function e(n){return t.call(this,e.TEMPLATE,n)||this}return ru(e,t),e.prototype.postConstruct=function(){var t=this,e=this.getGui(),n=function(t,n){return null!=n?e.setAttribute(t,n):e.removeAttribute(t)},i={addOrRemoveCssClass:function(e,n){return t.addOrRemoveCssClass(e,n)},setResizableDisplayed:function(e){return oi(t.eResize,e)},setWidth:function(t){return e.style.width=t},setColId:function(t){return e.setAttribute("col-id",t)},setAriaExpanded:function(t){return n("aria-expanded",t)},setTitle:function(t){return n("title",t)},setUserCompDetails:function(e){return t.setUserCompDetails(e)}};this.ctrl.setComp(i,e,this.eResize)},e.prototype.setUserCompDetails=function(t){var e=this;t.newAgStackInstance().then((function(t){return e.afterHeaderCompCreated(t)}))},e.prototype.afterHeaderCompCreated=function(t){var e=this,n=function(){return e.destroyBean(t)};this.isAlive()?(this.getGui().appendChild(t.getGui()),this.addDestroyFunc(n),this.ctrl.setDragSource(t.getGui())):n()},e.TEMPLATE='<div class="ag-header-group-cell" role="columnheader" tabindex="-1">\n            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>\n        </div>',su([K("userComponentFactory")],e.prototype,"userComponentFactory",void 0),su([mo("eResize")],e.prototype,"eResize",void 0),su([H],e.prototype,"postConstruct",null),e}(Ua),lu=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),cu=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};!function(t){t.COLUMN_GROUP="group",t.COLUMN="column",t.FLOATING_FILTER="filter"}(Wc||(Wc={}));var uu,hu=function(t){function e(e){var n=t.call(this)||this;n.headerComps={};var i=e.getType()==Wc.COLUMN_GROUP?"ag-header-row-column-group":e.getType()==Wc.FLOATING_FILTER?"ag-header-row-column-filter":"ag-header-row-column";return n.setTemplate('<div class="ag-header-row '+i+'" role="row"></div>'),n.ctrl=e,n}return lu(e,t),e.prototype.init=function(){var t=this,e={setTransform:function(e){return t.getGui().style.transform=e},setHeight:function(e){return t.getGui().style.height=e},setTop:function(e){return t.getGui().style.top=e},setHeaderCtrls:function(e){return t.setHeaderCtrls(e)},setWidth:function(e){return t.getGui().style.width=e},setAriaRowIndex:function(e){return un(t.getGui(),e)}};this.ctrl.setComp(e)},e.prototype.destroyHeaderCtrls=function(){this.setHeaderCtrls([])},e.prototype.setHeaderCtrls=function(t){var e=this;if(this.isAlive()){var n=this.headerComps;this.headerComps={},t.forEach((function(t){var i=t.getInstanceId(),o=n[i];delete n[i],null==o&&(o=e.createHeaderComp(t),e.getGui().appendChild(o.getGui())),e.headerComps[i]=o})),p(n,(function(t,n){e.getGui().removeChild(n.getGui()),e.destroyBean(n)}));var i=this.gridOptionsService.is("ensureDomOrder"),o=this.gridOptionsService.isDomLayout("print");if(i||o){var r=C(this.headerComps);r.sort((function(t,e){return t.getCtrl().getColumnGroupChild().getLeft()-e.getCtrl().getColumnGroupChild().getLeft()}));var s=r.map((function(t){return t.getGui()}));Si(this.getGui(),s)}}},e.prototype.createHeaderComp=function(t){var e;switch(this.ctrl.getType()){case Wc.COLUMN_GROUP:e=new au(t);break;case Wc.FLOATING_FILTER:e=new Ha(t);break;default:e=new ou(t)}return this.createBean(e),e.setParentComponent(this),e},cu([H],e.prototype,"init",null),cu([$],e.prototype,"destroyHeaderCtrls",null),e}(go),du=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),pu=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},fu=0,gu=function(t){function e(e,n){var i=t.call(this)||this;return i.lastFocusEvent=null,i.columnGroupChild=e,i.parentRowCtrl=n,i.instanceId=e.getUniqueId()+"-"+fu++,i}return du(e,t),e.prototype.shouldStopEventPropagation=function(t){var e=this.focusService.getFocusedHeader(),n=e.headerRowIndex,i=e.column;return $i(this.gridOptionsService,t,n,i)},e.prototype.getWrapperHasFocus=function(){return this.gridOptionsService.getDocument().activeElement===this.eGui},e.prototype.setGui=function(t){this.eGui=t,this.addDomData()},e.prototype.handleKeyDown=function(t){var e=this.getWrapperHasFocus();switch(t.key){case Vi.PAGE_DOWN:case Vi.PAGE_UP:case Vi.PAGE_HOME:case Vi.PAGE_END:e&&t.preventDefault()}},e.prototype.addDomData=function(){var t=this,n=e.DOM_DATA_KEY_HEADER_CTRL;this.gridOptionsService.setDomData(this.eGui,n,this),this.addDestroyFunc((function(){return t.gridOptionsService.setDomData(t.eGui,n,null)}))},e.prototype.getGui=function(){return this.eGui},e.prototype.focus=function(t){return!!this.eGui&&(this.lastFocusEvent=t||null,this.eGui.focus(),!0)},e.prototype.getRowIndex=function(){return this.parentRowCtrl.getRowIndex()},e.prototype.getParentRowCtrl=function(){return this.parentRowCtrl},e.prototype.getPinned=function(){return this.parentRowCtrl.getPinned()},e.prototype.getInstanceId=function(){return this.instanceId},e.prototype.getColumnGroupChild=function(){return this.columnGroupChild},e.DOM_DATA_KEY_HEADER_CTRL="headerCtrl",pu([K("focusService")],e.prototype,"focusService",void 0),pu([K("beans")],e.prototype,"beans",void 0),pu([K("userComponentFactory")],e.prototype,"userComponentFactory",void 0),e}(jt),mu=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),_u=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},yu=function(t){function e(e,n,i,o){var r=t.call(this)||this;return r.columnOrGroup=e,r.eCell=n,r.ariaEl=r.eCell.querySelector("[role=columnheader]")||r.eCell,r.colsSpanning=o,r.beans=i,r}return mu(e,t),e.prototype.setColsSpanning=function(t){this.colsSpanning=t,this.onLeftChanged()},e.prototype.getColumnOrGroup=function(){return this.beans.gridOptionsService.is("enableRtl")&&this.colsSpanning?ft(this.colsSpanning):this.columnOrGroup},e.prototype.postConstruct=function(){this.addManagedListener(this.columnOrGroup,ct.EVENT_LEFT_CHANGED,this.onLeftChanged.bind(this)),this.setLeftFirstTime(),this.addManagedListener(this.eventService,zt.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onLeftChanged.bind(this)),this.addManagedPropertyListener("domLayout",this.onLeftChanged.bind(this))},e.prototype.setLeftFirstTime=function(){var t=this.beans.gridOptionsService.is("suppressColumnMoveAnimation"),e=o(this.columnOrGroup.getOldLeft());this.beans.columnAnimationService.isActive()&&e&&!t?this.animateInLeft():this.onLeftChanged()},e.prototype.animateInLeft=function(){var t=this,e=this.getColumnOrGroup(),n=e.getLeft(),i=e.getOldLeft(),o=this.modifyLeftForPrintLayout(e,i),r=this.modifyLeftForPrintLayout(e,n);this.setLeft(o),this.actualLeft=r,this.beans.columnAnimationService.executeNextVMTurn((function(){t.actualLeft===r&&t.setLeft(r)}))},e.prototype.onLeftChanged=function(){var t=this.getColumnOrGroup(),e=t.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(t,e),this.setLeft(this.actualLeft)},e.prototype.modifyLeftForPrintLayout=function(t,e){if(!this.beans.gridOptionsService.isDomLayout("print"))return e;if("left"===t.getPinned())return e;var n=this.beans.columnModel.getDisplayedColumnsLeftWidth();return"right"===t.getPinned()?n+this.beans.columnModel.getBodyContainerWidth()+e:n+e},e.prototype.setLeft=function(t){var e;if(o(t)&&(this.eCell.style.left=t+"px"),this.columnOrGroup instanceof ct)e=this.columnOrGroup;else{var n=this.columnOrGroup.getLeafColumns();if(!n.length)return;n.length>1&&pn(this.ariaEl,n.length),e=n[0]}var i=this.beans.columnModel.getAriaColumnIndex(e);dn(this.ariaEl,i)},_u([H],e.prototype,"postConstruct",null),e}(jt),vu=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Cu=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},bu=function(t){function e(e,n){var i=t.call(this)||this;return i.columns=e,i.element=n,i}return vu(e,t),e.prototype.postConstruct=function(){this.gridOptionsService.is("columnHoverHighlight")&&this.addMouseHoverListeners()},e.prototype.addMouseHoverListeners=function(){this.addManagedListener(this.element,"mouseout",this.onMouseOut.bind(this)),this.addManagedListener(this.element,"mouseover",this.onMouseOver.bind(this))},e.prototype.onMouseOut=function(){this.columnHoverService.clearMouseOver()},e.prototype.onMouseOver=function(){this.columnHoverService.setMouseOver(this.columns)},Cu([K("columnHoverService")],e.prototype,"columnHoverService",void 0),Cu([H],e.prototype,"postConstruct",null),e}(jt),Eu=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Su=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},wu=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.column=e,i}return Eu(e,t),e.prototype.setComp=function(e,n,i,o){t.prototype.setGui.call(this,n),this.comp=e,this.eButtonShowMainFilter=i,this.eFloatingFilterBody=o;var r=this.column.getColDef(),s=!!r.filter||!!r.filterFramework,a=!!r.floatingFilter;this.active=s&&a,this.setupWidth(),this.setupLeft(),this.setupHover(),this.setupFocus(),this.setupUserComp(),this.setupSyncWithFilter(),this.setupUi(),this.addManagedListener(this.eButtonShowMainFilter,"click",this.showParentFilter.bind(this)),this.active&&this.addManagedListener(this.column,ct.EVENT_FILTER_CHANGED,this.updateFilterButton.bind(this))},e.prototype.setupUi=function(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.active){this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton);var t=ji("filter",this.gridOptionsService,this.column);t&&this.eButtonShowMainFilter.appendChild(t)}},e.prototype.setupFocus=function(){this.createManagedBean(new To(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))},e.prototype.onTabKeyDown=function(t){if(!(this.gridOptionsService.getDocument().activeElement===this.eGui)){var e=this.focusService.findNextFocusableElement(this.eGui,null,t.shiftKey);if(e)return this.beans.headerNavigationService.scrollToColumn(this.column),t.preventDefault(),void e.focus();var n=this.findNextColumnWithFloatingFilter(t.shiftKey);n&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:this.getParentRowCtrl().getRowIndex(),column:n},event:t})&&t.preventDefault()}},e.prototype.findNextColumnWithFloatingFilter=function(t){var e=this.beans.columnModel,n=this.column;do{if(!(n=t?e.getDisplayedColBefore(n):e.getDisplayedColAfter(n)))break}while(!n.getColDef().filter||!n.getColDef().floatingFilter);return n},e.prototype.handleKeyDown=function(e){t.prototype.handleKeyDown.call(this,e);var n=this.getWrapperHasFocus();switch(e.key){case Vi.UP:case Vi.DOWN:n||e.preventDefault();case Vi.LEFT:case Vi.RIGHT:if(n)return;e.stopPropagation();case Vi.ENTER:n&&this.focusService.focusInto(this.eGui)&&e.preventDefault();break;case Vi.ESCAPE:n||this.eGui.focus()}},e.prototype.onFocusIn=function(t){if(!this.eGui.contains(t.relatedTarget)){var e=!!t.relatedTarget&&!t.relatedTarget.classList.contains("ag-floating-filter"),n=!!t.relatedTarget&&ai(t.relatedTarget,"ag-floating-filter");if(e&&n&&t.target===this.eGui){var i=this.lastFocusEvent,o=!(!i||i.key!==Vi.TAB);if(i&&o){var r=i.shiftKey;this.focusService.focusInto(this.eGui,r)}}var s=this.getRowIndex();this.beans.focusService.setFocusedHeader(s,this.column)}},e.prototype.setupHover=function(){var t=this;this.createManagedBean(new bu([this.column],this.eGui));var e=function(){if(t.gridOptionsService.is("columnHoverHighlight")){var e=t.columnHoverService.isHovered(t.column);t.comp.addOrRemoveCssClass("ag-column-hover",e)}};this.addManagedListener(this.eventService,zt.EVENT_COLUMN_HOVER_CHANGED,e),e()},e.prototype.setupLeft=function(){var t=new yu(this.column,this.eGui,this.beans);this.createManagedBean(t)},e.prototype.setupUserComp=function(){var t=this;if(this.active){var e=this.column.getColDef();this.suppressFilterButton=!!e.floatingFilterComponentParams&&!!e.floatingFilterComponentParams.suppressFilterButton;var n=this.filterManager.getFloatingFilterCompDetails(this.column,(function(){return t.showParentFilter()}));n&&this.comp.setCompDetails(n)}},e.prototype.showParentFilter=function(){var t=this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter;this.menuFactory.showMenuAfterButtonClick(this.column,t,"floatingFilter","filterMenuTab",["filterMenuTab"])},e.prototype.setupSyncWithFilter=function(){var t=this;if(this.active){var e=function(e){var n=t.comp.getFloatingFilterComp();if(n){var i=t.filterManager.getCurrentFloatingFilterParentModel(t.column);n.then((function(t){t&&t.onParentModelChanged(i,e)}))}};this.addManagedListener(this.column,ct.EVENT_FILTER_CHANGED,e),this.filterManager.isFilterActive(this.column)&&e(null)}},e.prototype.setupWidth=function(){var t=this,e=function(){var e=t.column.getActualWidth()+"px";t.comp.setWidth(e)};this.addManagedListener(this.column,ct.EVENT_WIDTH_CHANGED,e),e()},e.prototype.updateFilterButton=function(){!this.suppressFilterButton&&this.comp&&this.comp.setButtonWrapperDisplayed(this.filterManager.isFilterAllowed(this.column))},Su([K("filterManager")],e.prototype,"filterManager",void 0),Su([K("columnHoverService")],e.prototype,"columnHoverService",void 0),Su([K("menuFactory")],e.prototype,"menuFactory",void 0),e}(gu),Ou=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),xu=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},Pu=function(t){function e(e,n,i,o,r){var s=t.call(this)||this;return s.pinned=e,s.column=n,s.eResize=i,s.comp=o,s.ctrl=r,s}return Ou(e,t),e.prototype.postConstruct=function(){var t,e,n=this,i=this.column.getColDef(),o=[],r=function(){o.forEach((function(t){return t()})),o.length=0},s=function(){var s=n.column.isResizable(),a=!n.gridOptionsService.is("suppressAutoSize")&&!i.suppressAutoSize;(s!==t||a!==e)&&(t=s,e=a,r(),function(){if(oi(n.eResize,t),t){var i=n.horizontalResizeService.addResizeBar({eResizeBar:n.eResize,onResizeStart:n.onResizeStart.bind(n),onResizing:n.onResizing.bind(n,!1),onResizeEnd:n.onResizing.bind(n,!0)});if(o.push(i),e){var r=n.gridOptionsService.is("skipHeaderOnAutoSize"),s=function(){n.columnModel.autoSizeColumn(n.column,r,"uiColumnResized")};n.eResize.addEventListener("dblclick",s);var a=new Xr(n.eResize);a.addEventListener(Xr.EVENT_DOUBLE_TAP,s),n.addDestroyFunc((function(){n.eResize.removeEventListener("dblclick",s),a.removeEventListener(Xr.EVENT_DOUBLE_TAP,s),a.destroy()}))}}}())};s(),this.addDestroyFunc(r),this.ctrl.addRefreshFunction(s)},e.prototype.onResizing=function(t,e){var n=this.normaliseResizeAmount(e),i=[{key:this.column,newWidth:this.resizeStartWidth+n}];this.columnModel.setColumnWidths(i,this.resizeWithShiftKey,t,"uiColumnResized"),t&&this.comp.addOrRemoveCssClass("ag-column-resizing",!1)},e.prototype.onResizeStart=function(t){this.resizeStartWidth=this.column.getActualWidth(),this.resizeWithShiftKey=t,this.comp.addOrRemoveCssClass("ag-column-resizing",!0)},e.prototype.normaliseResizeAmount=function(t){var e=t,n="left"!==this.pinned,i="right"===this.pinned;return this.gridOptionsService.is("enableRtl")?n&&(e*=-1):i&&(e*=-1),e},xu([K("horizontalResizeService")],e.prototype,"horizontalResizeService",void 0),xu([K("columnModel")],e.prototype,"columnModel",void 0),xu([H],e.prototype,"postConstruct",null),e}(jt),Tu=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Mu=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},Du=function(t){function e(e){var n=t.call(this)||this;n.cbSelectAllVisible=!1,n.processingEventFromCheckbox=!1,n.column=e;var i=e.getColDef();return n.filteredOnly=!!(null==i?void 0:i.headerCheckboxSelectionFilteredOnly),n.currentPageOnly=!!(null==i?void 0:i.headerCheckboxSelectionCurrentPageOnly),n}return Tu(e,t),e.prototype.onSpaceKeyPressed=function(t){var e=this.cbSelectAll,n=this.gridOptionsService.getDocument();e.isDisplayed()&&!e.getGui().contains(n.activeElement)&&(t.preventDefault(),e.setValue(!e.getValue()))},e.prototype.getCheckboxGui=function(){return this.cbSelectAll.getGui()},e.prototype.setComp=function(t){this.headerCellCtrl=t,this.cbSelectAll=this.createManagedBean(new er),this.cbSelectAll.addCssClass("ag-header-select-all"),ze(this.cbSelectAll.getGui(),"presentation"),this.showOrHideSelectAll(),this.addManagedListener(this.eventService,zt.EVENT_NEW_COLUMNS_LOADED,this.showOrHideSelectAll.bind(this)),this.addManagedListener(this.eventService,zt.EVENT_DISPLAYED_COLUMNS_CHANGED,this.showOrHideSelectAll.bind(this)),this.addManagedListener(this.eventService,zt.EVENT_SELECTION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,zt.EVENT_PAGINATION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,zt.EVENT_MODEL_UPDATED,this.onModelChanged.bind(this)),this.addManagedListener(this.cbSelectAll,er.EVENT_CHANGED,this.onCbSelectAll.bind(this)),nn(this.cbSelectAll.getGui(),!0),this.cbSelectAll.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()},e.prototype.showOrHideSelectAll=function(){this.cbSelectAllVisible=this.isCheckboxSelection(),this.cbSelectAll.setDisplayed(this.cbSelectAllVisible,{skipAriaHidden:!0}),this.cbSelectAllVisible&&(this.checkRightRowModelType("selectAllCheckbox"),this.updateStateOfCheckbox()),this.refreshSelectAllLabel()},e.prototype.onModelChanged=function(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()},e.prototype.onSelectionChanged=function(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()},e.prototype.updateStateOfCheckbox=function(){if(!this.processingEventFromCheckbox){this.processingEventFromCheckbox=!0;var t=this.selectionService.getSelectAllState(this.filteredOnly,this.currentPageOnly);this.cbSelectAll.setValue(t),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}},e.prototype.refreshSelectAllLabel=function(){if(this.cbSelectAllVisible){var t=this.localeService.getLocaleTextFunc(),e=this.cbSelectAll.getValue()?t("ariaChecked","checked"):t("ariaUnchecked","unchecked"),n=t("ariaRowSelectAll","Press Space to toggle all rows selection");this.headerCellCtrl.setAriaDescriptionProperty("selectAll",n+" ("+e+")"),this.cbSelectAll.setInputAriaLabel(n+" ("+e+")")}else this.headerCellCtrl.setAriaDescriptionProperty("selectAll",null),this.cbSelectAll.setInputAriaLabel(null);this.headerCellCtrl.refreshAriaDescription()},e.prototype.checkRightRowModelType=function(t){var e=this.rowModel.getType();return!("clientSide"!==e&&"serverSide"!==e)||(console.warn("AG Grid: "+t+" is only available if using 'clientSide' or 'serverSide' rowModelType, you are using "+e+"."),!1)},e.prototype.onCbSelectAll=function(){if(!this.processingEventFromCheckbox&&this.cbSelectAllVisible){var t=this.cbSelectAll.getValue(),e="uiSelectAll";this.currentPageOnly?e="uiSelectAllCurrentPage":this.filteredOnly&&(e="uiSelectAllFiltered");var n={source:e,justFiltered:this.filteredOnly,justCurrentPage:this.currentPageOnly};t?this.selectionService.selectAllRowNodes(n):this.selectionService.deselectAllRowNodes(n)}},e.prototype.isCheckboxSelection=function(){var t=this.column.getColDef().headerCheckboxSelection;"function"==typeof t&&(t=t({column:this.column,colDef:this.column.getColDef(),columnApi:this.columnApi,api:this.gridApi,context:this.gridOptionsService.context}));return!!t&&this.checkRightRowModelType("headerCheckboxSelection")},Mu([K("gridApi")],e.prototype,"gridApi",void 0),Mu([K("columnApi")],e.prototype,"columnApi",void 0),Mu([K("rowModel")],e.prototype,"rowModel",void 0),Mu([K("selectionService")],e.prototype,"selectionService",void 0),e}(jt),Ru=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Au=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},Lu=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.refreshFunctions=[],i.userHeaderClasses=new Set,i.ariaDescriptionProperties=new Map,i.column=e,i}return Ru(e,t),e.prototype.setComp=function(e,n,i,o){var r=this;t.prototype.setGui.call(this,n),this.comp=e,this.updateState(),this.setupWidth(),this.setupMovingCss(),this.setupMenuClass(),this.setupSortableClass(),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight(o),this.addColumnHoverListener(),this.setupFilterCss(),this.setupColId(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(),this.setupSelectAll(),this.setupUserComp(),this.refreshAria(),this.createManagedBean(new Pu(this.getPinned(),this.column,i,e,this)),this.createManagedBean(new bu([this.column],n)),this.createManagedBean(new yu(this.column,n,this.beans)),this.createManagedBean(new To(n,{shouldStopEventPropagation:function(t){return r.shouldStopEventPropagation(t)},onTabKeyDown:function(){return null},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedListener(this.column,ct.EVENT_COL_DEF_CHANGED,this.onColDefChanged.bind(this)),this.addManagedListener(this.eventService,zt.EVENT_COLUMN_VALUE_CHANGED,this.onColumnValueChanged.bind(this)),this.addManagedListener(this.eventService,zt.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onColumnRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,zt.EVENT_COLUMN_PIVOT_CHANGED,this.onColumnPivotChanged.bind(this)),this.addManagedListener(this.eventService,zt.EVENT_HEADER_HEIGHT_CHANGED,this.onHeaderHeightChanged.bind(this))},e.prototype.setupUserComp=function(){var t=this.lookupUserCompDetails();this.setCompDetails(t)},e.prototype.setCompDetails=function(t){this.userCompDetails=t,this.comp.setUserCompDetails(t)},e.prototype.lookupUserCompDetails=function(){var t=this.createParams(),e=this.column.getColDef();return this.userComponentFactory.getHeaderCompDetails(e,t)},e.prototype.createParams=function(){var t=this,e=this.column.getColDef();return{column:this.column,displayName:this.displayName,enableSorting:e.sortable,enableMenu:this.menuEnabled,showColumnMenu:function(e){t.gridApi.showColumnMenuAfterButtonClick(t.column,e)},progressSort:function(e){t.sortController.progressSort(t.column,!!e,"uiColumnSorted")},setSort:function(e,n){t.sortController.setSortForColumn(t.column,e,!!n,"uiColumnSorted")},api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsService.context,eGridHeader:this.getGui()}},e.prototype.setupSelectAll=function(){this.selectAllFeature=this.createManagedBean(new Du(this.column)),this.selectAllFeature.setComp(this)},e.prototype.getSelectAllGui=function(){return this.selectAllFeature.getCheckboxGui()},e.prototype.handleKeyDown=function(e){t.prototype.handleKeyDown.call(this,e),e.key===Vi.SPACE&&this.selectAllFeature.onSpaceKeyPressed(e),e.key===Vi.ENTER&&this.onEnterKeyPressed(e)},e.prototype.onEnterKeyPressed=function(t){var e=this.comp.getUserCompInstance();if(e)if(t.ctrlKey||t.metaKey)this.menuEnabled&&e.showMenu&&(t.preventDefault(),e.showMenu());else if(this.sortable){var n=t.shiftKey;this.sortController.progressSort(this.column,n,"uiColumnSorted")}},e.prototype.isMenuEnabled=function(){return this.menuEnabled},e.prototype.onFocusIn=function(t){if(!this.getGui().contains(t.relatedTarget)){var e=this.getRowIndex();this.focusService.setFocusedHeader(e,this.column)}this.setActiveHeader(!0)},e.prototype.onFocusOut=function(t){this.getGui().contains(t.relatedTarget)||this.setActiveHeader(!1)},e.prototype.setupTooltip=function(){var t=this,e={getColumn:function(){return t.column},getColDef:function(){return t.column.getColDef()},getGui:function(){return t.eGui},getLocation:function(){return"header"},getTooltipValue:function(){return t.column.getColDef().headerTooltip}},n=this.createManagedBean(new bl(e,this.beans));n.setComp(this.comp),this.refreshFunctions.push((function(){return n.refreshToolTip()}))},e.prototype.setupClassesFromColDef=function(){var t=this,e=function(){var e=t.column.getColDef(),n=eu.getHeaderClassesFromColDef(e,t.gridOptionsService,t.column,null),i=t.userHeaderClasses;t.userHeaderClasses=new Set(n),n.forEach((function(e){i.has(e)?i.delete(e):t.comp.addOrRemoveCssClass(e,!0)})),i.forEach((function(e){return t.comp.addOrRemoveCssClass(e,!1)}))};this.refreshFunctions.push(e),e()},e.prototype.setDragSource=function(t){var e=this;if(this.dragSourceElement=t,this.removeDragSource(),t&&this.draggable){var n=!this.gridOptionsService.is("suppressDragLeaveHidesColumns");this.moveDragSource={type:Ar.HeaderCell,eElement:t,defaultIconName:n?As.ICON_HIDE:As.ICON_NOT_ALLOWED,getDragItem:function(){return e.createDragItem()},dragItemName:this.displayName,onDragStarted:function(){return e.column.setMoving(!0,"uiColumnMoved")},onDragStopped:function(){return e.column.setMoving(!1,"uiColumnMoved")},onGridEnter:function(t){var i;if(n){var o=(null===(i=null==t?void 0:t.columns)||void 0===i?void 0:i.filter((function(t){return!t.getColDef().lockVisible})))||[];e.columnModel.setColumnsVisible(o,!0,"uiColumnMoved")}},onGridExit:function(t){var i;if(n){var o=(null===(i=null==t?void 0:t.columns)||void 0===i?void 0:i.filter((function(t){return!t.getColDef().lockVisible})))||[];e.columnModel.setColumnsVisible(o,!1,"uiColumnMoved")}}},this.dragAndDropService.addDragSource(this.moveDragSource,!0)}},e.prototype.createDragItem=function(){var t={};return t[this.column.getId()]=this.column.isVisible(),{columns:[this.column],visibleState:t}},e.prototype.removeDragSource=function(){this.moveDragSource&&(this.dragAndDropService.removeDragSource(this.moveDragSource),this.moveDragSource=void 0)},e.prototype.onColDefChanged=function(){this.refresh()},e.prototype.updateState=function(){var t=this.column.getColDef();this.menuEnabled=this.menuFactory.isMenuEnabled(this.column)&&!t.suppressMenu,this.sortable=t.sortable,this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()},e.prototype.addRefreshFunction=function(t){this.refreshFunctions.push(t)},e.prototype.refresh=function(){this.updateState(),this.refreshHeaderComp(),this.refreshAria(),this.refreshFunctions.forEach((function(t){return t()}))},e.prototype.refreshHeaderComp=function(){var t=this.lookupUserCompDetails();!!(null!=this.comp.getUserCompInstance()&&this.userCompDetails.componentClass==t.componentClass)&&this.attemptHeaderCompRefresh(t.params)?this.setDragSource(this.dragSourceElement):this.setCompDetails(t)},e.prototype.attemptHeaderCompRefresh=function(t){var e=this.comp.getUserCompInstance();return!!e&&(!!e.refresh&&e.refresh(t))},e.prototype.calculateDisplayName=function(){return this.columnModel.getDisplayNameForColumn(this.column,"header",!0)},e.prototype.checkDisplayName=function(){this.displayName!==this.calculateDisplayName()&&this.refresh()},e.prototype.workOutDraggable=function(){var t=this.column.getColDef();return!!(!this.gridOptionsService.is("suppressMovableColumns")&&!t.suppressMovable&&!t.lockPosition)||!!t.enableRowGroup||!!t.enablePivot},e.prototype.onColumnRowGroupChanged=function(){this.checkDisplayName()},e.prototype.onColumnPivotChanged=function(){this.checkDisplayName()},e.prototype.onColumnValueChanged=function(){this.checkDisplayName()},e.prototype.setupWidth=function(){var t=this,e=function(){var e=t.column.getActualWidth();t.comp.setWidth(e+"px")};this.addManagedListener(this.column,ct.EVENT_WIDTH_CHANGED,e),e()},e.prototype.setupMovingCss=function(){var t=this,e=function(){t.comp.addOrRemoveCssClass("ag-header-cell-moving",t.column.isMoving())};this.addManagedListener(this.column,ct.EVENT_MOVING_CHANGED,e),e()},e.prototype.setupMenuClass=function(){var t=this,e=function(){t.comp.addOrRemoveCssClass("ag-column-menu-visible",t.column.isMenuVisible())};this.addManagedListener(this.column,ct.EVENT_MENU_VISIBLE_CHANGED,e),e()},e.prototype.setupSortableClass=function(){var t=this,e=function(){t.comp.addOrRemoveCssClass("ag-header-cell-sortable",!!t.sortable)};e(),this.addRefreshFunction(e),this.addManagedListener(this.eventService,ct.EVENT_SORT_CHANGED,this.refreshAriaSort.bind(this))},e.prototype.setupWrapTextClass=function(){var t=this,e=function(){var e=!!t.column.getColDef().wrapHeaderText;t.comp.addOrRemoveCssClass("ag-header-cell-wrap-text",e)};e(),this.addRefreshFunction(e)},e.prototype.onHeaderHeightChanged=function(){this.refreshSpanHeaderHeight()},e.prototype.refreshSpanHeaderHeight=function(){var t=this,e=t.eGui,n=t.column,i=t.comp,o=t.columnModel,r=t.gridOptionsService;if(n.isSpanHeaderHeight()){var s=this.getColumnGroupPaddingInfo(),a=s.numberOfParents,l=s.isSpanningTotal;if(i.addOrRemoveCssClass("ag-header-span-height",a>0),0!==a){i.addOrRemoveCssClass("ag-header-span-total",l);var c=r.is("pivotMode")?o.getPivotGroupHeaderHeight():o.getGroupHeaderHeight(),u=o.getColumnHeaderRowHeight(),h=a*c;e.style.setProperty("top",-h+"px"),e.style.setProperty("height",u+h+"px")}}},e.prototype.getColumnGroupPaddingInfo=function(){var t=this.column.getParent();if(!t||!t.isPadding())return{numberOfParents:0,isSpanningTotal:!1};for(var e=t.getPaddingLevel()+1,n=!0;t;){if(!t.isPadding()){n=!1;break}t=t.getParent()}return{numberOfParents:e,isSpanningTotal:n}},e.prototype.setupAutoHeight=function(t){var e,n=this,i=function(e){if(n.isAlive()){var o=li(n.getGui()),r=o.paddingTop+o.paddingBottom+o.borderBottomWidth+o.borderTopWidth,s=t.offsetHeight+r;if(e<5){var a=n.beans.gridOptionsService.getDocument();if(!a||!a.contains(t)||0==s)return void n.beans.frameworkOverrides.setTimeout((function(){return i(e+1)}),0)}n.columnModel.setColumnHeaderHeight(n.column,s)}},o=!1,r=function(){var t=n.column.isSpanHeaderHeight(),e=n.column.isAutoHeaderHeight();if(t){if(a(),e){P((function(){return console.warn("AG Grid: The properties `spanHeaderHeight` and `autoHeaderHeight` cannot be used together in the same column.")}),"HeaderCellCtrl.spanHeaderHeightAndAutoHeaderHeight")}}else e&&!o&&s(),!e&&o&&a()},s=function(){o=!0,i(0),n.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!0),e=n.resizeObserverService.observeResize(t,(function(){return i(0)}))},a=function(){o=!1,e&&e(),n.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!1),e=void 0};r(),this.addDestroyFunc((function(){return a()})),this.addManagedListener(this.column,ct.EVENT_WIDTH_CHANGED,(function(){return o&&i(0)})),this.addManagedListener(this.eventService,ct.EVENT_SORT_CHANGED,(function(){o&&n.beans.frameworkOverrides.setTimeout((function(){return i(0)}))})),this.addRefreshFunction(r)},e.prototype.refreshAriaSort=function(){if(this.sortable){var t=this.localeService.getLocaleTextFunc(),e=this.sortController.getDisplaySortForColumn(this.column)||null;this.comp.setAriaSort(Ke(e)),this.setAriaDescriptionProperty("sort",t("ariaSortableColumn","Press ENTER to sort."))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)},e.prototype.refreshAriaMenu=function(){if(this.menuEnabled){var t=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",t("ariaMenuColumn","Press CTRL ENTER to open column menu."))}else this.setAriaDescriptionProperty("menu",null)},e.prototype.setAriaDescriptionProperty=function(t,e){null!=e?this.ariaDescriptionProperties.set(t,e):this.ariaDescriptionProperties.delete(t)},e.prototype.refreshAriaDescription=function(){var t=Array.from(this.ariaDescriptionProperties.values());this.comp.setAriaDescription(t.length?t.join(" "):void 0)},e.prototype.refreshAria=function(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaDescription()},e.prototype.addColumnHoverListener=function(){var t=this,e=function(){if(t.gridOptionsService.is("columnHoverHighlight")){var e=t.columnHoverService.isHovered(t.column);t.comp.addOrRemoveCssClass("ag-column-hover",e)}};this.addManagedListener(this.eventService,zt.EVENT_COLUMN_HOVER_CHANGED,e),e()},e.prototype.setupFilterCss=function(){var t=this,e=function(){t.comp.addOrRemoveCssClass("ag-header-cell-filtered",t.column.isFilterActive())};this.addManagedListener(this.column,ct.EVENT_FILTER_ACTIVE_CHANGED,e),e()},e.prototype.setupColId=function(){this.comp.setColId(this.column.getColId())},e.prototype.addActiveHeaderMouseListeners=function(){var t=this,e=function(e){return t.setActiveHeader("mouseenter"===e.type)};this.addManagedListener(this.getGui(),"mouseenter",e),this.addManagedListener(this.getGui(),"mouseleave",e)},e.prototype.setActiveHeader=function(t){this.comp.addOrRemoveCssClass("ag-header-active",t)},Au([K("columnModel")],e.prototype,"columnModel",void 0),Au([K("columnHoverService")],e.prototype,"columnHoverService",void 0),Au([K("sortController")],e.prototype,"sortController",void 0),Au([K("menuFactory")],e.prototype,"menuFactory",void 0),Au([K("dragAndDropService")],e.prototype,"dragAndDropService",void 0),Au([K("resizeObserverService")],e.prototype,"resizeObserverService",void 0),Au([K("gridApi")],e.prototype,"gridApi",void 0),Au([K("columnApi")],e.prototype,"columnApi",void 0),Au([$],e.prototype,"removeDragSource",null),e}(gu),Iu=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ku=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},Nu=function(t){function e(e,n,i,o){var r=t.call(this)||this;return r.eResize=n,r.comp=e,r.pinned=i,r.columnGroup=o,r}return Iu(e,t),e.prototype.postConstruct=function(){var t=this;if(this.columnGroup.isResizable()){var e=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(this.addDestroyFunc(e),!this.gridOptionsService.is("suppressAutoSize")){var n=this.gridOptionsService.is("skipHeaderOnAutoSize");this.eResize.addEventListener("dblclick",(function(){var e=[];t.columnGroup.getDisplayedLeafColumns().forEach((function(t){t.getColDef().suppressAutoSize||e.push(t.getColId())})),e.length>0&&t.columnModel.autoSizeColumns({columns:e,skipHeader:n,stopAtGroup:t.columnGroup,source:"uiColumnResized"}),t.resizeLeafColumnsToFit("uiColumnResized")}))}}else this.comp.setResizableDisplayed(!1)},e.prototype.onResizeStart=function(t){var e=this;this.calculateInitialValues();var n=null;if(t&&(n=this.columnModel.getDisplayedGroupAfter(this.columnGroup)),n){var i=n.getDisplayedLeafColumns();this.resizeTakeFromCols=i.filter((function(t){return t.isResizable()})),this.resizeTakeFromStartWidth=0,this.resizeTakeFromCols.forEach((function(t){return e.resizeTakeFromStartWidth+=t.getActualWidth()})),this.resizeTakeFromRatios=[],this.resizeTakeFromCols.forEach((function(t){return e.resizeTakeFromRatios.push(t.getActualWidth()/e.resizeTakeFromStartWidth)}))}else this.resizeTakeFromCols=null,this.resizeTakeFromStartWidth=null,this.resizeTakeFromRatios=null;this.comp.addOrRemoveCssClass("ag-column-resizing",!0)},e.prototype.onResizing=function(t,e,n){void 0===n&&(n="uiColumnResized");var i=this.normaliseDragChange(e),o=this.resizeStartWidth+i;this.resizeColumns(o,n,t)},e.prototype.resizeLeafColumnsToFit=function(t){var e=this.autoWidthCalculator.getPreferredWidthForColumnGroup(this.columnGroup);this.calculateInitialValues(),e>this.resizeStartWidth&&this.resizeColumns(e,t,!0)},e.prototype.resizeColumns=function(t,e,n){void 0===n&&(n=!0);var i=[];if(i.push({columns:this.resizeCols,ratios:this.resizeRatios,width:t}),this.resizeTakeFromCols){var o=t-this.resizeStartWidth;i.push({columns:this.resizeTakeFromCols,ratios:this.resizeTakeFromRatios,width:this.resizeTakeFromStartWidth-o})}this.columnModel.resizeColumnSets({resizeSets:i,finished:n,source:e}),n&&this.comp.addOrRemoveCssClass("ag-column-resizing",!1)},e.prototype.calculateInitialValues=function(){var t=this,e=this.columnGroup.getDisplayedLeafColumns();this.resizeCols=e.filter((function(t){return t.isResizable()})),this.resizeStartWidth=0,this.resizeCols.forEach((function(e){return t.resizeStartWidth+=e.getActualWidth()})),this.resizeRatios=[],this.resizeCols.forEach((function(e){return t.resizeRatios.push(e.getActualWidth()/t.resizeStartWidth)}))},e.prototype.normaliseDragChange=function(t){var e=t;return this.gridOptionsService.is("enableRtl")?"left"!==this.pinned&&(e*=-1):"right"===this.pinned&&(e*=-1),e},ku([K("horizontalResizeService")],e.prototype,"horizontalResizeService",void 0),ku([K("autoWidthCalculator")],e.prototype,"autoWidthCalculator",void 0),ku([K("columnModel")],e.prototype,"columnModel",void 0),ku([H],e.prototype,"postConstruct",null),e}(jt),Fu=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Gu=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},Bu=function(t){function e(e,n){var i=t.call(this)||this;return i.removeChildListenersFuncs=[],i.columnGroup=n,i.comp=e,i}return Fu(e,t),e.prototype.postConstruct=function(){this.addListenersToChildrenColumns(),this.addManagedListener(this.columnGroup,he.EVENT_DISPLAYED_CHILDREN_CHANGED,this.onDisplayedChildrenChanged.bind(this)),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))},e.prototype.addListenersToChildrenColumns=function(){var t=this;this.removeListenersOnChildrenColumns();var e=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach((function(n){n.addEventListener("widthChanged",e),n.addEventListener("visibleChanged",e),t.removeChildListenersFuncs.push((function(){n.removeEventListener("widthChanged",e),n.removeEventListener("visibleChanged",e)}))}))},e.prototype.removeListenersOnChildrenColumns=function(){this.removeChildListenersFuncs.forEach((function(t){return t()})),this.removeChildListenersFuncs=[]},e.prototype.onDisplayedChildrenChanged=function(){this.addListenersToChildrenColumns(),this.onWidthChanged()},e.prototype.onWidthChanged=function(){var t=this.columnGroup.getActualWidth();this.comp.setWidth(t+"px"),this.comp.addOrRemoveCssClass("ag-hidden",0===t)},Gu([H],e.prototype,"postConstruct",null),e}(jt),ju=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Uu=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},Vu=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.columnGroup=e,i}return ju(e,t),e.prototype.setComp=function(e,n,i){t.prototype.setGui.call(this,n),this.comp=e,this.displayName=this.columnModel.getDisplayNameForColumnGroup(this.columnGroup,"header"),this.addClasses(),this.addAttributes(),this.setupMovingCss(),this.setupExpandable(),this.setupTooltip(),this.setupUserComp();var o=this.getParentRowCtrl().getPinned(),r=this.columnGroup.getProvidedColumnGroup().getLeafColumns();this.createManagedBean(new bu(r,n)),this.createManagedBean(new yu(this.columnGroup,n,this.beans)),this.createManagedBean(new Bu(e,this.columnGroup)),this.groupResizeFeature=this.createManagedBean(new Nu(e,i,o,this.columnGroup)),this.createManagedBean(new To(n,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:function(){},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))},e.prototype.resizeLeafColumnsToFit=function(t){var e,n;null===(e=this.groupResizeFeature)||void 0===e||e.onResizeStart(!1),null===(n=this.groupResizeFeature)||void 0===n||n.resizeLeafColumnsToFit(t)},e.prototype.setupUserComp=function(){var t=this,e=this.displayName,n={displayName:this.displayName,columnGroup:this.columnGroup,setExpanded:function(e){t.columnModel.setColumnGroupOpened(t.columnGroup.getProvidedColumnGroup(),e,"gridInitializing")},api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsService.context};if(!e){for(var i=this.columnGroup,o=i.getLeafColumns();i.getParent()&&i.getParent().getLeafColumns().length===o.length;)i=i.getParent();var r=i.getColGroupDef();r&&(e=r.headerName),e||(e=o?this.columnModel.getDisplayNameForColumn(o[0],"header",!0):"")}var s=this.userComponentFactory.getHeaderGroupCompDetails(n);this.comp.setUserCompDetails(s)},e.prototype.setupTooltip=function(){var t=this,e=this.columnGroup.getColGroupDef(),n={getColumn:function(){return t.columnGroup},getGui:function(){return t.eGui},getLocation:function(){return"headerGroup"},getTooltipValue:function(){return e&&e.headerTooltip}};e&&(n.getColDef=function(){return e}),this.createManagedBean(new bl(n,this.beans)).setComp(this.comp)},e.prototype.setupExpandable=function(){var t=this.columnGroup.getProvidedColumnGroup();this.refreshExpanded(),this.addManagedListener(t,ht.EVENT_EXPANDABLE_CHANGED,this.refreshExpanded.bind(this)),this.addManagedListener(t,ht.EVENT_EXPANDED_CHANGED,this.refreshExpanded.bind(this))},e.prototype.refreshExpanded=function(){var t=this.columnGroup;this.expandable=t.isExpandable();var e=t.isExpanded();this.expandable?this.comp.setAriaExpanded(e?"true":"false"):this.comp.setAriaExpanded(void 0)},e.prototype.addAttributes=function(){this.comp.setColId(this.columnGroup.getUniqueId())},e.prototype.addClasses=function(){var t=this,e=this.columnGroup.getColGroupDef(),n=eu.getHeaderClassesFromColDef(e,this.gridOptionsService,null,this.columnGroup);this.columnGroup.isPadding()?(n.push("ag-header-group-cell-no-group"),this.columnGroup.getLeafColumns().every((function(t){return t.isSpanHeaderHeight()}))&&n.push("ag-header-span-height")):n.push("ag-header-group-cell-with-group");n.forEach((function(e){return t.comp.addOrRemoveCssClass(e,!0)}))},e.prototype.setupMovingCss=function(){var t=this,e=this.columnGroup.getProvidedColumnGroup().getLeafColumns(),n=function(){return t.comp.addOrRemoveCssClass("ag-header-cell-moving",t.columnGroup.isMoving())};e.forEach((function(e){t.addManagedListener(e,ct.EVENT_MOVING_CHANGED,n)})),n()},e.prototype.onFocusIn=function(t){if(!this.eGui.contains(t.relatedTarget)){var e=this.getRowIndex();this.beans.focusService.setFocusedHeader(e,this.columnGroup)}},e.prototype.handleKeyDown=function(e){t.prototype.handleKeyDown.call(this,e);var n=this.getWrapperHasFocus();if(this.expandable&&n&&e.key===Vi.ENTER){var i=this.columnGroup,o=!i.isExpanded();this.columnModel.setColumnGroupOpened(i.getProvidedColumnGroup(),o,"uiColumnExpanded")}},e.prototype.setDragSource=function(t){var e=this;if(!this.isSuppressMoving()){var n=this.columnGroup.getProvidedColumnGroup().getLeafColumns(),i=!this.gridOptionsService.is("suppressDragLeaveHidesColumns"),o={type:Ar.HeaderCell,eElement:t,defaultIconName:i?As.ICON_HIDE:As.ICON_NOT_ALLOWED,dragItemName:this.displayName,getDragItem:this.getDragItemForGroup.bind(this),onDragStarted:function(){return n.forEach((function(t){return t.setMoving(!0,"uiColumnDragged")}))},onDragStopped:function(){return n.forEach((function(t){return t.setMoving(!1,"uiColumnDragged")}))},onGridEnter:function(t){var n;if(i){var o=(null===(n=null==t?void 0:t.columns)||void 0===n?void 0:n.filter((function(t){return!t.getColDef().lockVisible})))||[];e.columnModel.setColumnsVisible(o,!0,"uiColumnMoved")}},onGridExit:function(t){var n;if(i){var o=(null===(n=null==t?void 0:t.columns)||void 0===n?void 0:n.filter((function(t){return!t.getColDef().lockVisible})))||[];e.columnModel.setColumnsVisible(o,!1,"uiColumnMoved")}}};this.dragAndDropService.addDragSource(o,!0),this.addDestroyFunc((function(){return e.dragAndDropService.removeDragSource(o)}))}},e.prototype.getDragItemForGroup=function(){var t=this.columnGroup.getProvidedColumnGroup().getLeafColumns(),e={};t.forEach((function(t){return e[t.getId()]=t.isVisible()}));var n=[];return this.columnModel.getAllDisplayedColumns().forEach((function(e){t.indexOf(e)>=0&&(n.push(e),_t(t,e))})),t.forEach((function(t){return n.push(t)})),{columns:n,visibleState:e}},e.prototype.isSuppressMoving=function(){var t=!1;return this.columnGroup.getLeafColumns().forEach((function(e){(e.getColDef().suppressMovable||e.getColDef().lockPosition)&&(t=!0)})),t||this.gridOptionsService.is("suppressMovableColumns")},Uu([K("columnModel")],e.prototype,"columnModel",void 0),Uu([K("dragAndDropService")],e.prototype,"dragAndDropService",void 0),Uu([K("gridApi")],e.prototype,"gridApi",void 0),Uu([K("columnApi")],e.prototype,"columnApi",void 0),e}(gu),Wu=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Hu=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},$u=0,zu=function(t){function e(e,n,i){var o=t.call(this)||this;return o.instanceId=$u++,o.headerCellCtrls={},o.rowIndex=e,o.pinned=n,o.type=i,o}return Wu(e,t),e.prototype.getInstanceId=function(){return this.instanceId},e.prototype.setComp=function(t){this.comp=t,this.onRowHeightChanged(),this.onVirtualColumnsChanged(),this.setWidth(),this.addEventListeners(),Pn()&&this.comp.setTransform("translateZ(0)"),t.setAriaRowIndex(this.rowIndex+1)},e.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,zt.EVENT_COLUMN_RESIZED,this.onColumnResized.bind(this)),this.addManagedListener(this.eventService,zt.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,zt.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(this.eventService,zt.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.eventService,zt.EVENT_GRID_STYLES_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("domLayout",this.onDisplayedColumnsChanged.bind(this)),this.addManagedPropertyListener("headerHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("pivotHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("groupHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("pivotGroupHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("floatingFiltersHeight",this.onRowHeightChanged.bind(this))},e.prototype.getHeaderCellCtrl=function(t){return u(this.headerCellCtrls).find((function(e){return e.getColumnGroupChild()===t}))},e.prototype.onDisplayedColumnsChanged=function(){this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()},e.prototype.getType=function(){return this.type},e.prototype.onColumnResized=function(){this.setWidth()},e.prototype.setWidth=function(){var t=this.getWidthForRow();this.comp.setWidth(t+"px")},e.prototype.getWidthForRow=function(){return this.gridOptionsService.isDomLayout("print")?null!=this.pinned?0:this.columnModel.getContainerWidth("right")+this.columnModel.getContainerWidth("left")+this.columnModel.getContainerWidth(null):this.columnModel.getContainerWidth(this.pinned)},e.prototype.onRowHeightChanged=function(){var t=this.columnModel.getHeaderRowCount(),e=[],n=0;this.columnModel.hasFloatingFilters()&&(t++,n=1);for(var i=this.columnModel.getColumnGroupHeaderRowHeight(),o=this.columnModel.getColumnHeaderRowHeight(),r=t-(1+n),s=0;s<r;s++)e.push(i);e.push(o);for(s=0;s<n;s++)e.push(this.columnModel.getFloatingFiltersHeight());var a=0;for(s=0;s<this.rowIndex;s++)a+=e[s];var l=e[this.rowIndex]+"px";this.comp.setTop(a+"px"),this.comp.setHeight(l)},e.prototype.getPinned=function(){return this.pinned},e.prototype.getRowIndex=function(){return this.rowIndex},e.prototype.onVirtualColumnsChanged=function(){var t=this,e=this.headerCellCtrls;this.headerCellCtrls={},this.getColumnsInViewport().forEach((function(n){if(!n.isEmptyGroup()){var i=n.getUniqueId(),o=e[i];if(delete e[i],o&&o.getColumnGroupChild()!=n&&(t.destroyBean(o),o=void 0),null==o)switch(t.type){case Wc.FLOATING_FILTER:o=t.createBean(new wu(n,t));break;case Wc.COLUMN_GROUP:o=t.createBean(new Vu(n,t));break;default:o=t.createBean(new Lu(n,t))}t.headerCellCtrls[i]=o}}));p(e,(function(e,n){var i;(i=n,!!t.focusService.isHeaderWrapperFocused(i)&&t.columnModel.isDisplayed(i.getColumnGroupChild()))?t.headerCellCtrls[e]=n:t.destroyBean(n)}));var n=C(this.headerCellCtrls);this.comp.setHeaderCtrls(n)},e.prototype.getColumnsInViewport=function(){return this.gridOptionsService.isDomLayout("print")?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()},e.prototype.getColumnsInViewportPrintLayout=function(){var t=this;if(null!=this.pinned)return[];var e=[],n=this.getActualDepth();return["left",null,"right"].forEach((function(i){var o=t.columnModel.getVirtualHeaderGroupRow(i,n);e=e.concat(o)})),e},e.prototype.getActualDepth=function(){return this.type==Wc.FLOATING_FILTER?this.rowIndex-1:this.rowIndex},e.prototype.getColumnsInViewportNormalLayout=function(){return this.columnModel.getVirtualHeaderGroupRow(this.pinned,this.getActualDepth())},e.prototype.focusHeader=function(t,e){var n=C(this.headerCellCtrls).find((function(e){return e.getColumnGroupChild()==t}));return!!n&&(n.focus(e),!0)},e.prototype.destroy=function(){var e=this;p(this.headerCellCtrls,(function(t,n){e.destroyBean(n)})),this.headerCellCtrls={},t.prototype.destroy.call(this)},Hu([K("columnModel")],e.prototype,"columnModel",void 0),Hu([K("focusService")],e.prototype,"focusService",void 0),e}(jt),Ku=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Yu=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},Xu=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},qu=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Xu(arguments[e]));return t},Zu=function(t){function e(e){var n=t.call(this)||this;return n.hidden=!1,n.groupsRowCtrls=[],n.pinned=e,n}return Ku(e,t),e.prototype.setComp=function(t,e){this.comp=t,this.eViewport=e,this.setupCenterWidth(),this.setupPinnedWidth(),this.setupDragAndDrop(this.eViewport),this.addManagedListener(this.eventService,zt.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.ctrlsService.registerHeaderContainer(this,this.pinned),this.columnModel.isReady()&&this.refresh()},e.prototype.setupDragAndDrop=function(t){var e=new Jc(this.pinned,t);this.createManagedBean(e)},e.prototype.refresh=function(t){var e=this;void 0===t&&(t=!1);var n,i,o=new io,r=this.focusService.getFocusHeaderToUseAfterRefresh();!function(){var t=e.columnModel.getHeaderRowCount()-1;e.groupsRowCtrls=e.destroyBeans(e.groupsRowCtrls);for(var n=0;n<t;n++){var i=e.createBean(new zu(o.next(),e.pinned,Wc.COLUMN_GROUP));e.groupsRowCtrls.push(i)}}(),n=o.next(),((i=!(e.hidden||null!=e.columnsRowCtrl&&t&&e.columnsRowCtrl.getRowIndex()===n))||e.hidden)&&(e.columnsRowCtrl=e.destroyBean(e.columnsRowCtrl)),i&&(e.columnsRowCtrl=e.createBean(new zu(n,e.pinned,Wc.COLUMN))),function(){var n=function(){e.filtersRowCtrl=e.destroyBean(e.filtersRowCtrl)};if(e.columnModel.hasFloatingFilters()&&!e.hidden){var i=o.next();if(e.filtersRowCtrl){var r=e.filtersRowCtrl.getRowIndex()!==i;t&&!r||n()}e.filtersRowCtrl||(e.filtersRowCtrl=e.createBean(new zu(i,e.pinned,Wc.FLOATING_FILTER)))}else n()}();var s=this.getAllCtrls();this.comp.setCtrls(s),this.restoreFocusOnHeader(r)},e.prototype.restoreFocusOnHeader=function(t){null!=t&&t.column.getPinned()==this.pinned&&this.focusService.focusHeaderPosition({headerPosition:t})},e.prototype.getAllCtrls=function(){var t=qu(this.groupsRowCtrls);return this.columnsRowCtrl&&t.push(this.columnsRowCtrl),this.filtersRowCtrl&&t.push(this.filtersRowCtrl),t},e.prototype.onGridColumnsChanged=function(){this.refresh(!0)},e.prototype.setupCenterWidth=function(){var t=this;null==this.pinned&&this.createManagedBean(new uc((function(e){return t.comp.setCenterWidth(e+"px")}),!0))},e.prototype.setHorizontalScroll=function(t){this.comp.setViewportScrollLeft(t)},e.prototype.setupPinnedWidth=function(){var t=this;if(null!=this.pinned){var e="left"===this.pinned,n="right"===this.pinned;this.hidden=!0;var i=function(){var i=e?t.pinnedWidthService.getPinnedLeftWidth():t.pinnedWidthService.getPinnedRightWidth();if(null!=i){var o=0==i,r=t.hidden!==o,s=t.gridOptionsService.is("enableRtl"),a=t.gridOptionsService.getScrollbarWidth(),l=t.scrollVisibleService.isVerticalScrollShowing()&&(s&&e||!s&&n)?i+a:i;t.comp.setPinnedContainerWidth(l+"px"),t.comp.setDisplayed(!o),r&&(t.hidden=o,t.refresh())}};this.addManagedListener(this.eventService,zt.EVENT_LEFT_PINNED_WIDTH_CHANGED,i),this.addManagedListener(this.eventService,zt.EVENT_RIGHT_PINNED_WIDTH_CHANGED,i),this.addManagedListener(this.eventService,zt.EVENT_SCROLL_VISIBILITY_CHANGED,i),this.addManagedListener(this.eventService,zt.EVENT_SCROLLBAR_WIDTH_CHANGED,i)}},e.prototype.getHeaderCtrlForColumn=function(t){if(t instanceof ct){if(!this.columnsRowCtrl)return;return this.columnsRowCtrl.getHeaderCellCtrl(t)}if(0!==this.groupsRowCtrls.length)for(var e=0;e<this.groupsRowCtrls.length;e++){var n=this.groupsRowCtrls[e].getHeaderCellCtrl(t);if(n)return n}},e.prototype.getHtmlElementForColumnHeader=function(t){var e=this.getHeaderCtrlForColumn(t);return e?e.getGui():null},e.prototype.getRowType=function(t){var e=this.getAllCtrls()[t];return e?e.getType():void 0},e.prototype.focusHeader=function(t,e,n){var i=this.getAllCtrls()[t];return!!i&&i.focusHeader(e,n)},e.prototype.getRowCount=function(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)},e.prototype.destroy=function(){this.filtersRowCtrl&&(this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)),this.columnsRowCtrl&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),this.groupsRowCtrls&&this.groupsRowCtrls.length&&(this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls)),t.prototype.destroy.call(this)},Yu([K("ctrlsService")],e.prototype,"ctrlsService",void 0),Yu([K("scrollVisibleService")],e.prototype,"scrollVisibleService",void 0),Yu([K("pinnedWidthService")],e.prototype,"pinnedWidthService",void 0),Yu([K("columnModel")],e.prototype,"columnModel",void 0),Yu([K("focusService")],e.prototype,"focusService",void 0),e}(jt),Ju=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Qu=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},th=function(t){function e(e){var n=t.call(this)||this;return n.headerRowComps={},n.rowCompsList=[],n.pinned=e,n}return Ju(e,t),e.prototype.init=function(){var t=this;this.selectAndSetTemplate();var e={setDisplayed:function(e){return t.setDisplayed(e)},setCtrls:function(e){return t.setCtrls(e)},setCenterWidth:function(e){return t.eCenterContainer.style.width=e},setViewportScrollLeft:function(e){return t.getGui().scrollLeft=e},setPinnedContainerWidth:function(e){var n=t.getGui();n.style.width=e,n.style.maxWidth=e,n.style.minWidth=e}};this.createManagedBean(new Zu(this.pinned)).setComp(e,this.getGui())},e.prototype.selectAndSetTemplate=function(){var t="left"==this.pinned,n="right"==this.pinned,i=t?e.PINNED_LEFT_TEMPLATE:n?e.PINNED_RIGHT_TEMPLATE:e.CENTER_TEMPLATE;this.setTemplate(i),this.eRowContainer=this.eCenterContainer?this.eCenterContainer:this.getGui()},e.prototype.destroyRowComps=function(){this.setCtrls([])},e.prototype.destroyRowComp=function(t){this.destroyBean(t),this.eRowContainer.removeChild(t.getGui())},e.prototype.setCtrls=function(t){var e,n=this,i=this.headerRowComps;this.headerRowComps={},this.rowCompsList=[];t.forEach((function(t){var o=t.getInstanceId(),r=i[o];delete i[o];var s=r||n.createBean(new hu(t));n.headerRowComps[o]=s,n.rowCompsList.push(s),function(t){var i=t.getGui();i.parentElement!=n.eRowContainer&&n.eRowContainer.appendChild(i),e&&Ei(n.eRowContainer,i,e),e=i}(s)})),C(i).forEach((function(t){return n.destroyRowComp(t)}))},e.PINNED_LEFT_TEMPLATE='<div class="ag-pinned-left-header" role="presentation"></div>',e.PINNED_RIGHT_TEMPLATE='<div class="ag-pinned-right-header" role="presentation"></div>',e.CENTER_TEMPLATE='<div class="ag-header-viewport" role="presentation">\n            <div class="ag-header-container" ref="eCenterContainer" role="rowgroup"></div>\n        </div>',Qu([mo("eCenterContainer")],e.prototype,"eCenterContainer",void 0),Qu([H],e.prototype,"init",null),Qu([$],e.prototype,"destroyRowComps",null),e}(go),eh=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),nh=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};!function(t){t[t.UP=0]="UP",t[t.DOWN=1]="DOWN",t[t.LEFT=2]="LEFT",t[t.RIGHT=3]="RIGHT"}(uu||(uu={}));var ih=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return eh(e,t),e.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady((function(e){t.gridBodyCon=e.gridBodyCtrl}))},e.prototype.getHeaderRowCount=function(){var t=this.ctrlsService.getHeaderRowContainerCtrl();return t?t.getRowCount():0},e.prototype.navigateVertically=function(t,e,n){if(e||(e=this.focusService.getFocusedHeader()),!e)return!1;var i=e.headerRowIndex,o=e.column,r=this.getHeaderRowCount(),s=t===uu.UP?this.headerPositionUtils.getColumnVisibleParent(o,i):this.headerPositionUtils.getColumnVisibleChild(o,i),a=s.nextRow,l=s.nextFocusColumn,c=!1;return a<0&&(a=0,l=o,c=!0),a>=r&&(a=-1),!(!c&&!l)&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:a,column:l},allowUserOverride:!0,event:n})},e.prototype.navigateHorizontally=function(t,e,n){void 0===e&&(e=!1);var i,o,r=this.focusService.getFocusedHeader();return t===uu.LEFT!==this.gridOptionsService.is("enableRtl")?(o="Before",i=this.headerPositionUtils.findHeader(r,o)):(o="After",i=this.headerPositionUtils.findHeader(r,o)),i||!e?this.focusService.focusHeaderPosition({headerPosition:i,direction:o,fromTab:e,allowUserOverride:!0,event:n}):this.focusNextHeaderRow(r,o,n)},e.prototype.focusNextHeaderRow=function(t,e,n){var i,o=t.headerRowIndex,r=null;return"Before"===e?o>0&&(i=o-1,r=this.headerPositionUtils.findColAtEdgeForHeaderRow(i,"end")):(i=o+1,r=this.headerPositionUtils.findColAtEdgeForHeaderRow(i,"start")),this.focusService.focusHeaderPosition({headerPosition:r,direction:e,fromTab:!0,allowUserOverride:!0,event:n})},e.prototype.scrollToColumn=function(t,e){if(void 0===e&&(e="After"),!t.getPinned()){var n;if(t instanceof he){var i=t.getDisplayedLeafColumns();n="Before"===e?ft(i):i[0]}else n=t;this.gridBodyCon.getScrollFeature().ensureColumnVisible(n)}},nh([K("focusService")],e.prototype,"focusService",void 0),nh([K("headerPositionUtils")],e.prototype,"headerPositionUtils",void 0),nh([K("ctrlsService")],e.prototype,"ctrlsService",void 0),nh([H],e.prototype,"postConstruct",null),e=nh([z("headerNavigationService")],e)}(jt),oh=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),rh=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},sh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return oh(e,t),e.prototype.setComp=function(t,e,n){this.comp=t,this.eGui=e,this.createManagedBean(new To(n,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedListener(this.eventService,zt.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onPivotModeChanged.bind(this)),this.addManagedListener(this.eventService,zt.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.onPivotModeChanged(),this.setupHeaderHeight(),this.ctrlsService.registerGridHeaderCtrl(this)},e.prototype.setupHeaderHeight=function(){var t=this.setHeaderHeight.bind(this);t(),this.addManagedPropertyListener("headerHeight",t),this.addManagedPropertyListener("pivotHeaderHeight",t),this.addManagedPropertyListener("groupHeaderHeight",t),this.addManagedPropertyListener("pivotGroupHeaderHeight",t),this.addManagedPropertyListener("floatingFiltersHeight",t),this.addManagedListener(this.eventService,zt.EVENT_DISPLAYED_COLUMNS_CHANGED,t),this.addManagedListener(this.eventService,zt.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,t),this.addManagedListener(this.eventService,zt.EVENT_GRID_STYLES_CHANGED,t)},e.prototype.getHeaderHeight=function(){return this.headerHeight},e.prototype.setHeaderHeight=function(){var t,e=this.columnModel,n=0,i=e.getHeaderRowCount();e.hasFloatingFilters()&&(i++,n=1);var o=this.columnModel.getColumnGroupHeaderRowHeight(),r=this.columnModel.getColumnHeaderRowHeight(),s=i-(1+n);if(t=n*e.getFloatingFiltersHeight(),t+=s*o,t+=r,this.headerHeight!==t){this.headerHeight=t;var a=t+1+"px";this.comp.setHeightAndMinHeight(a),this.eventService.dispatchEvent({type:zt.EVENT_HEADER_HEIGHT_CHANGED})}},e.prototype.onPivotModeChanged=function(){var t=this.columnModel.isPivotMode();this.comp.addOrRemoveCssClass("ag-pivot-on",t),this.comp.addOrRemoveCssClass("ag-pivot-off",!t)},e.prototype.onDisplayedColumnsChanged=function(){var t=this.columnModel.getAllDisplayedColumns().some((function(t){return t.isSpanHeaderHeight()}));this.comp.addOrRemoveCssClass("ag-header-allow-overflow",t)},e.prototype.onTabKeyDown=function(t){var e=this.gridOptionsService.is("enableRtl"),n=t.shiftKey!==e?uu.LEFT:uu.RIGHT;(this.headerNavigationService.navigateHorizontally(n,!0,t)||this.focusService.focusNextGridCoreContainer(t.shiftKey))&&t.preventDefault()},e.prototype.handleKeyDown=function(t){var e=null;switch(t.key){case Vi.LEFT:e=uu.LEFT;case Vi.RIGHT:o(e)||(e=uu.RIGHT),this.headerNavigationService.navigateHorizontally(e,!1,t);break;case Vi.UP:e=uu.UP;case Vi.DOWN:o(e)||(e=uu.DOWN),this.headerNavigationService.navigateVertically(e,null,t)&&t.preventDefault();break;default:return}},e.prototype.onFocusOut=function(t){var e=this.gridOptionsService.getDocument(),n=t.relatedTarget;!n&&this.eGui.contains(e.activeElement)||this.eGui.contains(n)||this.focusService.clearFocusedHeader()},rh([K("headerNavigationService")],e.prototype,"headerNavigationService",void 0),rh([K("focusService")],e.prototype,"focusService",void 0),rh([K("columnModel")],e.prototype,"columnModel",void 0),rh([K("ctrlsService")],e.prototype,"ctrlsService",void 0),e}(jt),ah=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),lh=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},ch=function(t){function e(){return t.call(this,e.TEMPLATE)||this}return ah(e,t),e.prototype.postConstruct=function(){var t=this,e={addOrRemoveCssClass:function(e,n){return t.addOrRemoveCssClass(e,n)},setHeightAndMinHeight:function(e){t.getGui().style.height=e,t.getGui().style.minHeight=e}};this.createManagedBean(new sh).setComp(e,this.getGui(),this.getFocusableElement());var n=function(e){t.createManagedBean(e),t.appendChild(e)};n(new th("left")),n(new th(null)),n(new th("right"))},e.TEMPLATE='<div class="ag-header" role="presentation"/>',lh([H],e.prototype,"postConstruct",null),e}(go),uh=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),hh=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},dh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return uh(e,t),e.prototype.addResizeBar=function(t){var e=this,n={dragStartPixels:t.dragStartPixels||0,eElement:t.eResizeBar,onDragStart:this.onDragStart.bind(this,t),onDragStop:this.onDragStop.bind(this,t),onDragging:this.onDragging.bind(this,t)};this.dragService.addDragSource(n,!0);return function(){return e.dragService.removeDragSource(n)}},e.prototype.onDragStart=function(t,e){this.dragStartX=e.clientX,this.setResizeIcons();var n=e instanceof MouseEvent&&!0===e.shiftKey;t.onResizeStart(n)},e.prototype.setResizeIcons=function(){var t=this.ctrlsService.getGridCtrl();t.setResizeCursor(!0),t.disableUserSelect(!0)},e.prototype.onDragStop=function(t,e){t.onResizeEnd(this.resizeAmount),this.resetIcons()},e.prototype.resetIcons=function(){var t=this.ctrlsService.getGridCtrl();t.setResizeCursor(!1),t.disableUserSelect(!1)},e.prototype.onDragging=function(t,e){this.resizeAmount=e.clientX-this.dragStartX,t.onResizing(this.resizeAmount)},hh([K("dragService")],e.prototype,"dragService",void 0),hh([K("ctrlsService")],e.prototype,"ctrlsService",void 0),e=hh([z("horizontalResizeService")],e)}(jt),ph=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),fh=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},gh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ph(e,t),e.prototype.hideActiveMenu=function(){this.hidePopup&&this.hidePopup()},e.prototype.showMenuAfterMouseEvent=function(t,e){var n=this;this.showPopup(t,(function(i){n.popupService.positionPopupUnderMouseEvent({column:t,type:"columnMenu",mouseEvent:e,ePopup:i})}),"columnMenu",e.target)},e.prototype.showMenuAfterButtonClick=function(t,e,n){var i=this;this.showPopup(t,(function(o){i.popupService.positionPopupByComponent({type:n,eventSource:e,ePopup:o,keepWithinBounds:!0,position:"under",column:t})}),n,e)},e.prototype.showPopup=function(t,e,n,i){var o=this,r=this.filterManager.getOrCreateFilterWrapper(t,"COLUMN_MENU");if(!r)throw new Error("AG Grid - unable to show popup filter, filter instantiation failed");var s,a=document.createElement("div");ze(a,"presentation"),a.classList.add("ag-menu"),this.tabListener=this.addManagedListener(a,"keydown",(function(t){return o.trapFocusWithin(t,a)})),r.guiPromise.then((function(t){return a.appendChild(t)}));var l=i||this.ctrlsService.getGridBodyCtrl().getGui(),c=this.localeService.getLocaleTextFunc(),u=this.popupService.addPopup({modal:!0,eChild:a,closeOnEsc:!0,closedCallback:function(e){t.setMenuVisible(!1,"contextMenu");var n,s=e instanceof KeyboardEvent;if(o.tabListener&&(o.tabListener=o.tabListener()),s&&i&&yi(i)){var a=o.focusService.findTabbableParent(i);a&&a.focus()}null===(n=r.filterPromise)||void 0===n||n.then((function(t){var e;return null===(e=null==t?void 0:t.afterGuiDetached)||void 0===e?void 0:e.call(t)}))},positionCallback:function(){return e(a)},anchorToElement:l,ariaLabel:c("ariaLabelColumnMenu","Column Menu")});u&&(this.hidePopup=s=u.hideFunc),r.filterPromise.then((function(t){e(a),t.afterGuiAttached&&t.afterGuiAttached({container:n,hidePopup:s})})),t.setMenuVisible(!0,"contextMenu")},e.prototype.trapFocusWithin=function(t,e){t.key!==Vi.TAB||t.defaultPrevented||this.focusService.findNextFocusableElement(e,!1,t.shiftKey)||(t.preventDefault(),this.focusService.focusInto(e,t.shiftKey))},e.prototype.isMenuEnabled=function(t){return t.isFilterAllowed()&&t.getMenuTabs(["filterMenuTab"]).includes("filterMenuTab")},fh([K("filterManager")],e.prototype,"filterManager",void 0),fh([K("popupService")],e.prototype,"popupService",void 0),fh([K("focusService")],e.prototype,"focusService",void 0),fh([K("ctrlsService")],e.prototype,"ctrlsService",void 0),e=fh([z("menuFactory")],e)}(jt),mh=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),_h=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},yh=function(t){function e(n){var i=t.call(this,e.getTemplate(n.cssClass))||this;return i.items=[],i.tabbedItemScrollMap=new Map,i.params=n,n.items&&n.items.forEach((function(t){return i.addItem(t)})),i}return mh(e,t),e.prototype.postConstruct=function(){var t=this;this.createManagedBean(new To(this.getFocusableElement(),{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this)})),this.addDestroyFunc((function(){var e,n,i;return null===(i=null===(n=null===(e=t.activeItem)||void 0===e?void 0:e.tabbedItem)||void 0===n?void 0:n.afterDetachedCallback)||void 0===i?void 0:i.call(n)}))},e.getTemplate=function(t){return'<div class="ag-tabs '+t+'">\n            <div ref="eHeader" role="tablist" class="ag-tabs-header '+(t?t+"-header":"")+'"></div>\n            <div ref="eBody" role="presentation" class="ag-tabs-body '+(t?t+"-body":"")+'"></div>\n        </div>'},e.prototype.handleKeyDown=function(t){var e=this.gridOptionsService.getDocument();switch(t.key){case Vi.RIGHT:case Vi.LEFT:if(!this.eHeader.contains(e.activeElement))return;var n=t.key===Vi.RIGHT,i=this.gridOptionsService.is("enableRtl"),o=this.items.indexOf(this.activeItem),r=n!==i?Math.min(o+1,this.items.length-1):Math.max(o-1,0);if(o===r)return;t.preventDefault();var s=this.items[r];this.showItemWrapper(s),s.eHeaderButton.focus();break;case Vi.UP:case Vi.DOWN:t.stopPropagation()}},e.prototype.onTabKeyDown=function(t){if(!t.defaultPrevented){var e=this,n=e.focusService,i=e.eHeader,o=e.eBody,r=e.activeItem,s=this.gridOptionsService.getDocument().activeElement,a=t.target;if(t.preventDefault(),i.contains(s))n.focusInto(o,t.shiftKey);else{var l=null;n.isTargetUnderManagedComponent(o,a)&&(t.shiftKey&&(l=this.focusService.findFocusableElementBeforeTabGuard(o,a)),l||(l=r.eHeaderButton)),!l&&o.contains(s)&&((l=n.findNextFocusableElement(o,!1,t.shiftKey))||(l=r.eHeaderButton)),l&&l.focus()}}},e.prototype.setAfterAttachedParams=function(t){this.afterAttachedParams=t},e.prototype.showFirstItem=function(){this.items.length>0&&this.showItemWrapper(this.items[0])},e.prototype.addItem=function(t){var e=document.createElement("span");ze(e,"tab"),e.setAttribute("tabIndex","-1"),e.appendChild(t.title),e.classList.add("ag-tab"),this.eHeader.appendChild(e),qe(e,t.titleLabel);var n={tabbedItem:t,eHeaderButton:e};this.items.push(n),e.addEventListener("click",this.showItemWrapper.bind(this,n))},e.prototype.showItem=function(t){var e=this.items.find((function(e){return e.tabbedItem===t}));e&&this.showItemWrapper(e)},e.prototype.showItemWrapper=function(t){var e,n,i=this,o=t.tabbedItem,r=t.eHeaderButton;this.params.onItemClicked&&this.params.onItemClicked({item:o}),this.activeItem!==t?(this.lastScrollListener&&(this.lastScrollListener=this.lastScrollListener()),mi(this.eBody),o.bodyPromise.then((function(t){i.eBody.appendChild(t);var e=!i.focusService.isKeyboardMode();if(i.focusService.focusInto(i.eBody,!1,e),o.afterAttachedCallback&&o.afterAttachedCallback(i.afterAttachedParams),i.params.keepScrollPosition){var n=o.getScrollableContainer&&o.getScrollableContainer()||t;i.lastScrollListener=i.addManagedListener(n,"scroll",(function(){i.tabbedItemScrollMap.set(o.name,n.scrollTop)}));var r=i.tabbedItemScrollMap.get(o.name);void 0!==r&&setTimeout((function(){n.scrollTop=r}),0)}})),this.activeItem&&(this.activeItem.eHeaderButton.classList.remove("ag-tab-selected"),null===(n=(e=this.activeItem.tabbedItem).afterDetachedCallback)||void 0===n||n.call(e)),r.classList.add("ag-tab-selected"),this.activeItem=t):G(this.params.onActiveItemClicked)},_h([K("focusService")],e.prototype,"focusService",void 0),_h([mo("eHeader")],e.prototype,"eHeader",void 0),_h([mo("eBody")],e.prototype,"eBody",void 0),_h([H],e.prototype,"postConstruct",null),e}(go);var vh,Ch=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),bh=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},Eh=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.polyfillFunctions=[],e}return Ch(e,t),e.prototype.observeResize=function(t,e){var n,i,o,r,s,a=this,l=this.gridOptionsService.getDocument().defaultView||window,c=this.gridOptionsService.is("suppressBrowserResizeObserver");return!!l.ResizeObserver&&!c?((n=new l.ResizeObserver(e)).observe(t),function(){return n.disconnect()}):(i=bi(t),o=Ci(t),r=!0,(s=function(){if(r){var n=bi(t),l=Ci(t);(n!==i||l!==o)&&(i=n,o=l,e()),a.doNextPolyfillTurn(s)}})(),function(){return r=!1})},e.prototype.doNextPolyfillTurn=function(t){this.polyfillFunctions.push(t),this.schedulePolyfill()},e.prototype.schedulePolyfill=function(){var t=this;if(!this.polyfillScheduled){this.polyfillScheduled=!0,this.getFrameworkOverrides().setTimeout((function(){var e=t.polyfillFunctions;t.polyfillScheduled=!1,t.polyfillFunctions=[],e.forEach((function(t){return t()}))}),50)}},e=bh([z("resizeObserverService")],e)}(jt),Sh=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),wh=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},Oh=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.createTasksP1={list:[],sorted:!1},e.createTasksP2={list:[],sorted:!1},e.destroyTasks=[],e.ticking=!1,e.scrollGoingDown=!0,e.lastPage=0,e.lastScrollTop=0,e.taskCount=0,e.cancelledTasks=new Set,e}return Sh(e,t),e.prototype.setScrollTop=function(t){var e=this.gridOptionsService.is("pagination");if(this.scrollGoingDown=t>=this.lastScrollTop,e&&0===t){var n=this.paginationProxy.getCurrentPage();n!==this.lastPage&&(this.lastPage=n,this.scrollGoingDown=!0)}this.lastScrollTop=t},e.prototype.init=function(){this.useAnimationFrame=!this.gridOptionsService.is("suppressAnimationFrame")},e.prototype.isOn=function(){return this.useAnimationFrame},e.prototype.verifyAnimationFrameOn=function(t){!1===this.useAnimationFrame&&console.warn("AG Grid: AnimationFrameService."+t+" called but animation frames are off")},e.prototype.createTask=function(t,e,n){this.verifyAnimationFrameOn(n);var i={task:t,index:e,createOrder:++this.taskCount};this.addTaskToList(this[n],i),this.schedule()},e.prototype.cancelTask=function(t){this.cancelledTasks.add(t)},e.prototype.addTaskToList=function(t,e){t.list.push(e),t.sorted=!1},e.prototype.sortTaskList=function(t){if(!t.sorted){var e=this.scrollGoingDown?1:-1;t.list.sort((function(t,n){return t.index!==n.index?e*(n.index-t.index):n.createOrder-t.createOrder})),t.sorted=!0}},e.prototype.addDestroyTask=function(t){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(t),this.schedule()},e.prototype.executeFrame=function(t){this.verifyAnimationFrameOn("executeFrame");for(var e=this.createTasksP1,n=e.list,i=this.createTasksP2,o=i.list,r=this.destroyTasks,s=(new Date).getTime(),a=(new Date).getTime()-s,l=t<=0,c=this.ctrlsService.getGridBodyCtrl();l||a<t;){if(!c.getScrollFeature().scrollGridIfNeeded()){var u=void 0;if(n.length)this.sortTaskList(e),u=n.pop().task;else if(o.length)this.sortTaskList(i),u=o.pop().task;else{if(!r.length){this.cancelledTasks.clear();break}u=r.pop()}this.cancelledTasks.has(u)||u()}a=(new Date).getTime()-s}n.length||o.length||r.length?this.requestFrame():this.stopTicking()},e.prototype.stopTicking=function(){this.ticking=!1},e.prototype.flushAllFrames=function(){this.useAnimationFrame&&this.executeFrame(-1)},e.prototype.schedule=function(){this.useAnimationFrame&&(this.ticking||(this.ticking=!0,this.requestFrame()))},e.prototype.requestFrame=function(){var t=this.executeFrame.bind(this,60),e=this.gridOptionsService.getDocument().defaultView||window;e.requestAnimationFrame?e.requestAnimationFrame(t):e.webkitRequestAnimationFrame?e.webkitRequestAnimationFrame(t):e.setTimeout(t,0)},e.prototype.isQueueEmpty=function(){return!this.ticking},e.prototype.debounce=function(t){var e=this,n=!1;return function(){e.isOn()?n||(n=!0,e.addDestroyTask((function(){n=!1,t()}))):e.getFrameworkOverrides().setTimeout(t,0)}},wh([K("ctrlsService")],e.prototype,"ctrlsService",void 0),wh([K("paginationProxy")],e.prototype,"paginationProxy",void 0),wh([H],e.prototype,"init",null),e=wh([z("animationFrameService")],e)}(jt),xh=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ph=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},Th=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return xh(e,t),e.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady((function(e){t.centerRowContainerCtrl=e.centerRowContainerCtrl}))},e.prototype.getPreferredWidthForColumn=function(t,e){var n=this.getHeaderCellForColumn(t);if(!n)return-1;var i=this.rowRenderer.getAllCellsForColumn(t);return e||i.push(n),this.addElementsToContainerAndGetWidth(i)},e.prototype.getPreferredWidthForColumnGroup=function(t){var e=this.getHeaderCellForColumn(t);return e?this.addElementsToContainerAndGetWidth([e]):-1},e.prototype.addElementsToContainerAndGetWidth=function(t){var e=this,n=document.createElement("form");n.style.position="fixed";var i=this.centerRowContainerCtrl.getContainerElement();i.appendChild(n),t.forEach((function(t){return e.cloneItemIntoDummy(t,n)}));var o=n.offsetWidth;return i.removeChild(n),o+this.getAutoSizePadding()},e.prototype.getAutoSizePadding=function(){var t=this.gridOptionsService.getNum("autoSizePadding");return null!=t&&t>=0?t:20},e.prototype.getHeaderCellForColumn=function(t){var e=null;return this.ctrlsService.getHeaderRowContainerCtrls().forEach((function(n){var i=n.getHtmlElementForColumnHeader(t);null!=i&&(e=i)})),e},e.prototype.cloneItemIntoDummy=function(t,e){var n=t.cloneNode(!0);n.style.width="",n.style.position="static",n.style.left="";var i=document.createElement("div"),o=i.classList;["ag-header-cell","ag-header-group-cell"].some((function(t){return n.classList.contains(t)}))?(o.add("ag-header","ag-header-row"),i.style.position="static"):o.add("ag-row");for(var r=t.parentElement;r;){if(["ag-header-row","ag-row"].some((function(t){return r.classList.contains(t)}))){for(var s=0;s<r.classList.length;s++){var a=r.classList[s];"ag-row-position-absolute"!=a&&o.add(a)}break}r=r.parentElement}i.appendChild(n),e.appendChild(i)},Ph([K("rowRenderer")],e.prototype,"rowRenderer",void 0),Ph([K("ctrlsService")],e.prototype,"ctrlsService",void 0),Ph([K("rowCssClassCalculator")],e.prototype,"rowCssClassCalculator",void 0),Ph([H],e.prototype,"postConstruct",null),e=Ph([z("autoWidthCalculator")],e)}(jt),Mh=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Dh=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},Rh=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ah=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},Lh=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Ah(arguments[e]));return t},Ih=function(t){function e(e,n){var i=t.call(this)||this;return i.createRowCon=e,i.destroyRowCtrls=n,i.stickyRowCtrls=[],i.containerHeight=0,i}return Mh(e,t),e.prototype.postConstruct=function(){var t=this;this.isClientSide="clientSide"===this.rowModel.getType(),this.ctrlsService.whenReady((function(e){t.gridBodyCtrl=e.gridBodyCtrl}))},e.prototype.getStickyRowCtrls=function(){return this.stickyRowCtrls},e.prototype.checkStickyRows=function(){var t=this,e=0;if(this.gridOptionsService.is("groupRowsSticky")){for(var n=[],i=this.rowRenderer.getFirstVisibleVerticalPixel(),o=function(o){var r,s,a,l;if(n.push(o),t.isClientSide){for(var c=o;c.expanded;)if(c.master)c=c.detailNode;else if(c.childrenAfterSort){if(0===c.childrenAfterSort.length)break;c=ft(c.childrenAfterSort)}l=c.rowTop+c.rowHeight}else{var u=null===(r=o.childStore)||void 0===r?void 0:r.getStoreBounds();l=(null!==(s=null==u?void 0:u.heightPx)&&void 0!==s?s:0)+(null!==(a=null==u?void 0:u.topPx)&&void 0!==a?a:0)}var h=i+e+o.rowHeight;o.stickyRowTop=l<h?e+(l-h):e,e=0,n.forEach((function(t){var n=t.stickyRowTop+t.rowHeight;e<n&&(e=n)}))};;){var r=i+e,s=this.rowModel.getRowIndexAtPixel(r),a=this.rowModel.getRow(s);if(null==a)break;if(a.level<0)break;for(var l=[],c=a.parent;c.level>=0;)l.push(c),c=c.parent;var u=l.reverse().find((function(t){return n.indexOf(t)<0&&t.displayed}));if(u)o(u);else{if(!(a.isExpandable()&&a.expanded&&a.rowTop<r))break;o(a)}}this.refreshNodesAndContainerHeight(n,e)}else this.refreshNodesAndContainerHeight([],e)},e.prototype.refreshStickyNode=function(t){for(var e=[],n=0;n<this.stickyRowCtrls.length;n++){var i=this.stickyRowCtrls[n].getRowNode();i!==t&&e.push(i)}this.refreshNodesAndContainerHeight(e,this.containerHeight),this.checkStickyRows()},e.prototype.refreshNodesAndContainerHeight=function(t,e){var n,i,o,r=this,s=this.stickyRowCtrls.filter((function(e){return-1===t.indexOf(e.getRowNode())})),a=t.filter((function(t){return-1===r.stickyRowCtrls.findIndex((function(e){return e.getRowNode()===t}))})),l={};s.forEach((function(t){l[t.getRowNode().id]=t,r.stickyRowCtrls=r.stickyRowCtrls.filter((function(e){return e!==t}))}));try{for(var c=Rh(Object.values(l)),u=c.next();!u.done;u=c.next()){u.value.getRowNode().sticky=!1}}catch(t){n={error:t}}finally{try{u&&!u.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}this.destroyRowCtrls(l,!1);var h=a.map((function(t){return t.sticky=!0,r.createRowCon(t,!1,!1)}));(o=this.stickyRowCtrls).push.apply(o,Lh(h)),this.stickyRowCtrls.forEach((function(t){return t.setRowTop(t.getRowNode().stickyRowTop)})),this.stickyRowCtrls.sort((function(t,e){return e.getRowNode().rowIndex-t.getRowNode().rowIndex})),this.containerHeight!==e&&(this.containerHeight=e,this.gridBodyCtrl.setStickyTopHeight(e))},Dh([K("rowModel")],e.prototype,"rowModel",void 0),Dh([K("rowRenderer")],e.prototype,"rowRenderer",void 0),Dh([K("ctrlsService")],e.prototype,"ctrlsService",void 0),Dh([H],e.prototype,"postConstruct",null),e}(jt),kh=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Nh=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},Fh=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},Gh=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Fh(arguments[e]));return t},Bh=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},jh=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.destroyFuncsForColumnListeners=[],e.rowCtrlsByRowIndex={},e.zombieRowCtrls={},e.allRowCtrls=[],e.topRowCtrls=[],e.bottomRowCtrls=[],e.refreshInProgress=!1,e.dataFirstRenderedFired=!1,e}return kh(e,t),e.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady((function(){t.gridBodyCtrl=t.ctrlsService.getGridBodyCtrl(),t.initialise()}))},e.prototype.initialise=function(){if(this.addManagedListener(this.eventService,zt.EVENT_PAGINATION_CHANGED,this.onPageLoaded.bind(this)),this.addManagedListener(this.eventService,zt.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,zt.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,zt.EVENT_BODY_SCROLL,this.onBodyScroll.bind(this)),this.addManagedListener(this.eventService,zt.EVENT_BODY_HEIGHT_CHANGED,this.redrawAfterScroll.bind(this)),this.addManagedPropertyListener("domLayout",this.onDomLayoutChanged.bind(this)),this.addManagedPropertyListener("rowClass",this.redrawRows.bind(this)),this.gridOptionsService.is("groupRowsSticky")){var t=this.rowModel.getType();"clientSide"!=t&&"serverSide"!=t?P((function(){return console.warn("AG Grid: The feature Sticky Row Groups only works with the Client Side or Server Side Row Model")}),"rowRenderer.stickyWorksWithCsrmOnly"):this.stickyRowFeature=this.createManagedBean(new Ih(this.createRowCon.bind(this),this.destroyRowCtrls.bind(this)))}this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=this.gridOptionsService.isDomLayout("print"),this.embedFullWidthRows=this.printLayout||this.gridOptionsService.is("embedFullWidthRows"),this.redrawAfterModelUpdate()},e.prototype.initialiseCache=function(){if(this.gridOptionsService.is("keepDetailRows")){var t=this.getKeepDetailRowsCount(),e=null!=t?t:3;this.cachedRowCtrls=new Uh(e)}},e.prototype.getKeepDetailRowsCount=function(){var t=this.gridOptionsService.getNum("keepDetailRowsCount");return o(t)&&t>0?t:10},e.prototype.getRowCtrls=function(){return this.allRowCtrls},e.prototype.getStickyTopRowCtrls=function(){return this.stickyRowFeature?this.stickyRowFeature.getStickyRowCtrls():[]},e.prototype.updateAllRowCtrls=function(){var t=C(this.rowCtrlsByRowIndex),e=this.gridOptionsService.is("ensureDomOrder"),n=this.gridOptionsService.isDomLayout("print");(e||n)&&t.sort((function(t,e){return t.getRowNode().rowIndex-e.getRowNode.rowIndex}));var i=C(this.zombieRowCtrls),o=this.cachedRowCtrls?this.cachedRowCtrls.getEntries():[];this.allRowCtrls=Gh(t,i,o)},e.prototype.onCellFocusChanged=function(t){this.getAllCellCtrls().forEach((function(e){return e.onCellFocused(t)})),this.getFullWidthRowCtrls().forEach((function(e){return e.onFullWidthRowFocused(t)}))},e.prototype.registerCellEventListeners=function(){var t=this;this.addManagedListener(this.eventService,zt.EVENT_CELL_FOCUSED,(function(e){t.onCellFocusChanged(e)})),this.addManagedListener(this.eventService,zt.EVENT_CELL_FOCUS_CLEARED,(function(){t.onCellFocusChanged()})),this.addManagedListener(this.eventService,zt.EVENT_FLASH_CELLS,(function(e){t.getAllCellCtrls().forEach((function(t){return t.onFlashCells(e)}))})),this.addManagedListener(this.eventService,zt.EVENT_COLUMN_HOVER_CHANGED,(function(){t.getAllCellCtrls().forEach((function(t){return t.onColumnHover()}))})),this.addManagedListener(this.eventService,zt.EVENT_DISPLAYED_COLUMNS_CHANGED,(function(){t.getAllCellCtrls().forEach((function(t){return t.onDisplayedColumnsChanged()}))})),this.addManagedListener(this.eventService,zt.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,(function(){t.printLayout&&t.getAllCellCtrls().forEach((function(t){return t.onLeftChanged()}))})),this.gridOptionsService.isEnableRangeSelection()&&(this.addManagedListener(this.eventService,zt.EVENT_RANGE_SELECTION_CHANGED,(function(){t.getAllCellCtrls().forEach((function(t){return t.onRangeSelectionChanged()}))})),this.addManagedListener(this.eventService,zt.EVENT_COLUMN_MOVED,(function(){t.getAllCellCtrls().forEach((function(t){return t.updateRangeBordersIfRangeCount()}))})),this.addManagedListener(this.eventService,zt.EVENT_COLUMN_PINNED,(function(){t.getAllCellCtrls().forEach((function(t){return t.updateRangeBordersIfRangeCount()}))})),this.addManagedListener(this.eventService,zt.EVENT_COLUMN_VISIBLE,(function(){t.getAllCellCtrls().forEach((function(t){return t.updateRangeBordersIfRangeCount()}))}))),this.refreshListenersToColumnsForCellComps(),this.addManagedListener(this.eventService,zt.EVENT_GRID_COLUMNS_CHANGED,this.refreshListenersToColumnsForCellComps.bind(this)),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))},e.prototype.removeGridColumnListeners=function(){this.destroyFuncsForColumnListeners.forEach((function(t){return t()})),this.destroyFuncsForColumnListeners.length=0},e.prototype.refreshListenersToColumnsForCellComps=function(){var t=this;this.removeGridColumnListeners();var e=this.columnModel.getAllGridColumns();e&&e.forEach((function(e){var n=function(n){t.getAllCellCtrls().forEach((function(t){t.getColumn()===e&&n(t)}))},i=function(){n((function(t){return t.onLeftChanged()}))},o=function(){n((function(t){return t.onWidthChanged()}))},r=function(){n((function(t){return t.onFirstRightPinnedChanged()}))},s=function(){n((function(t){return t.onLastLeftPinnedChanged()}))},a=function(){n((function(t){return t.onColDefChanged()}))};e.addEventListener("leftChanged",i),e.addEventListener("widthChanged",o),e.addEventListener("firstRightPinnedChanged",r),e.addEventListener("lastLeftPinnedChanged",s),e.addEventListener("colDefChanged",a),t.destroyFuncsForColumnListeners.push((function(){e.removeEventListener("leftChanged",i),e.removeEventListener("widthChanged",o),e.removeEventListener("firstRightPinnedChanged",r),e.removeEventListener("lastLeftPinnedChanged",s),e.removeEventListener("colDefChanged",a)}))}))},e.prototype.onDomLayoutChanged=function(){var t=this.gridOptionsService.isDomLayout("print"),e=t||this.gridOptionsService.is("embedFullWidthRows"),n=e!==this.embedFullWidthRows||this.printLayout!==t;this.printLayout=t,this.embedFullWidthRows=e,n&&this.redrawAfterModelUpdate({domLayoutChanged:!0})},e.prototype.datasourceChanged=function(){this.firstRenderedRow=0,this.lastRenderedRow=-1;var t=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(t)},e.prototype.onPageLoaded=function(t){var e={recycleRows:t.keepRenderedRows,animate:t.animate,newData:t.newData,newPage:t.newPage,onlyBody:!0};this.redrawAfterModelUpdate(e)},e.prototype.getAllCellsForColumn=function(t){var e=[];return this.getAllRowCtrls().forEach((function(n){var i=n.getCellElement(t);i&&e.push(i)})),e},e.prototype.refreshFloatingRowComps=function(){this.refreshFloatingRows(this.topRowCtrls,this.pinnedRowModel.getPinnedTopRowData()),this.refreshFloatingRows(this.bottomRowCtrls,this.pinnedRowModel.getPinnedBottomRowData())},e.prototype.getTopRowCtrls=function(){return this.topRowCtrls},e.prototype.getBottomRowCtrls=function(){return this.bottomRowCtrls},e.prototype.refreshFloatingRows=function(t,e){var n=this;t.forEach((function(t){t.destroyFirstPass(),t.destroySecondPass()})),t.length=0,e&&e.forEach((function(e){var i=new Vl(e,n.beans,!1,!1,n.printLayout);t.push(i)}))},e.prototype.onPinnedRowDataChanged=function(){this.redrawAfterModelUpdate({recycleRows:!0})},e.prototype.getRenderedIndexesForRowNodes=function(t){var e=[];return r(t)||p(this.rowCtrlsByRowIndex,(function(n,i){var o=i.getRowNode();t.indexOf(o)>=0&&e.push(n)})),e},e.prototype.redrawRows=function(t){var e=null!=t&&t.length>0;if(e){var n=this.getRenderedIndexesForRowNodes(t);this.removeRowCtrls(n)}this.redrawAfterModelUpdate({recycleRows:e})},e.prototype.getCellToRestoreFocusToAfterRefresh=function(t){var e=(null==t?void 0:t.suppressKeepFocus)?null:this.focusService.getFocusCellToUseAfterRefresh();if(null==e)return null;var n=this.gridOptionsService.getDocument().activeElement,i=this.gridOptionsService.getDomData(n,Il.DOM_DATA_KEY_CELL_CTRL),o=this.gridOptionsService.getDomData(n,Vl.DOM_DATA_KEY_ROW_CTRL);return i||o?e:null},e.prototype.redrawAfterModelUpdate=function(t){void 0===t&&(t={}),this.getLockOnRefresh();var e=this.getCellToRestoreFocusToAfterRefresh(t);this.updateContainerHeights(),this.scrollToTopIfNewData(t);var n=!t.domLayoutChanged&&!!t.recycleRows,i=t.animate&&this.gridOptionsService.isAnimateRows(),o=n?this.recycleRows():null;n||this.removeAllRowComps(),this.redraw(o,i),this.gridBodyCtrl.updateRowCount(),t.onlyBody||this.refreshFloatingRowComps(),this.dispatchDisplayedRowsChanged(),null!=e&&this.restoreFocusedCell(e),this.releaseLockOnRefresh()},e.prototype.scrollToTopIfNewData=function(t){var e=t.newData||t.newPage,n=this.gridOptionsService.is("suppressScrollOnNewData");e&&!n&&this.gridBodyCtrl.getScrollFeature().scrollToTop()},e.prototype.updateContainerHeights=function(){if(this.printLayout)this.rowContainerHeightService.setModelHeight(null);else{var t=this.paginationProxy.getCurrentPageHeight();0===t&&(t=1),this.rowContainerHeightService.setModelHeight(t)}},e.prototype.getLockOnRefresh=function(){if(this.refreshInProgress)throw new Error("AG Grid: cannot get grid to draw rows when it is in the middle of drawing rows. Your code probably called a grid API method while the grid was in the render stage. To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). To see what part of your code that caused the refresh check this stacktrace.");this.refreshInProgress=!0},e.prototype.releaseLockOnRefresh=function(){this.refreshInProgress=!1},e.prototype.isRefreshInProgress=function(){return this.refreshInProgress},e.prototype.restoreFocusedCell=function(t){t&&this.onCellFocusChanged({rowIndex:t.rowIndex,column:t.column,rowPinned:t.rowPinned,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,api:this.beans.gridApi,columnApi:this.beans.columnApi,context:this.beans.gridOptionsService.context,type:"mock"})},e.prototype.stopEditing=function(t){void 0===t&&(t=!1),this.getAllRowCtrls().forEach((function(e){e.stopEditing(t)}))},e.prototype.getAllCellCtrls=function(){for(var t=[],e=this.getAllRowCtrls(),n=e.length,i=0;i<n;i++)for(var o=e[i].getAllCellCtrls(),r=o.length,s=0;s<r;s++)t.push(o[s]);return t},e.prototype.getAllRowCtrls=function(){var t,e,n=this.stickyRowFeature&&this.stickyRowFeature.getStickyRowCtrls()||[],i=Gh(this.topRowCtrls,this.bottomRowCtrls,n);try{for(var o=Bh(Object.keys(this.rowCtrlsByRowIndex)),r=o.next();!r.done;r=o.next()){var s=r.value;i.push(this.rowCtrlsByRowIndex[s])}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}return i},e.prototype.addRenderedRowListener=function(t,e,n){var i=this.rowCtrlsByRowIndex[e];i&&i.addEventListener(t,n)},e.prototype.flashCells=function(t){void 0===t&&(t={});var e=t.flashDelay,n=t.fadeDelay;this.getCellCtrls(t.rowNodes,t.columns).forEach((function(t){return t.flashCell({flashDelay:e,fadeDelay:n})}))},e.prototype.refreshCells=function(t){void 0===t&&(t={});var e={forceRefresh:t.force,newData:!1,suppressFlash:t.suppressFlash};this.getCellCtrls(t.rowNodes,t.columns).forEach((function(t){if(t.refreshShouldDestroy()){var n=t.getRowCtrl();n&&n.refreshCell(t)}else t.refreshCell(e)})),this.getFullWidthRowCtrls(t.rowNodes).forEach((function(t){t.refreshFullWidth()}))},e.prototype.getCellRendererInstances=function(t){var e,n=this,i=this.getCellCtrls(t.rowNodes,t.columns).map((function(t){return t.getCellRenderer()})).filter((function(t){return null!=t}));if(null===(e=t.columns)||void 0===e?void 0:e.length)return i;var o=[],r=this.mapRowNodes(t.rowNodes);return this.getAllRowCtrls().forEach((function(t){if((!r||n.isRowInMap(t.getRowNode(),r))&&t.isFullWidth()){var e=t.getFullWidthCellRenderer();e&&o.push(e)}})),Gh(o,i)},e.prototype.getCellEditorInstances=function(t){var e=[];return this.getCellCtrls(t.rowNodes,t.columns).forEach((function(t){var n=t.getCellEditor();n&&e.push(n)})),e},e.prototype.getEditingCells=function(){var t=[];return this.getAllCellCtrls().forEach((function(e){if(e.isEditing()){var n=e.getCellPosition();t.push(n)}})),t},e.prototype.mapRowNodes=function(t){if(t){var e={top:{},bottom:{},normal:{}};return t.forEach((function(t){var n=t.id;"top"===t.rowPinned?e.top[n]=t:"bottom"===t.rowPinned?e.bottom[n]=t:e.normal[n]=t})),e}},e.prototype.isRowInMap=function(t,e){var n=t.id,i=t.rowPinned;return"bottom"===i?null!=e.bottom[n]:"top"===i?null!=e.top[n]:null!=e.normal[n]},e.prototype.getCellCtrls=function(t,e){var n,i=this,r=this.mapRowNodes(t),s=[];o(e)&&(n={},e.forEach((function(t){var e=i.columnModel.getGridColumn(t);o(e)&&(n[e.getId()]=!0)})));return this.getAllRowCtrls().forEach((function(t){return o=(e=t).getRowNode(),void((null==r||i.isRowInMap(o,r))&&e.getAllCellCtrls().forEach((function(t){var e=t.getColumn().getId();n&&!n[e]||s.push(t)})));var e,o})),s},e.prototype.destroy=function(){this.removeAllRowComps(),t.prototype.destroy.call(this)},e.prototype.removeAllRowComps=function(){var t=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(t)},e.prototype.recycleRows=function(){var t=[];p(this.rowCtrlsByRowIndex,(function(e,n){null==n.getRowNode().id&&t.push(e)})),this.removeRowCtrls(t);var e={};return p(this.rowCtrlsByRowIndex,(function(t,n){var i=n.getRowNode();e[i.id]=n})),this.rowCtrlsByRowIndex={},e},e.prototype.removeRowCtrls=function(t){var e=this;t.forEach((function(t){var n=e.rowCtrlsByRowIndex[t];n&&(n.destroyFirstPass(),n.destroySecondPass()),delete e.rowCtrlsByRowIndex[t]}))},e.prototype.onBodyScroll=function(t){"vertical"===t.direction&&this.redrawAfterScroll()},e.prototype.redrawAfterScroll=function(){var t;if(this.stickyRowFeature&&Ln()&&(t=this.getCellToRestoreFocusToAfterRefresh()||void 0),this.getLockOnRefresh(),this.redraw(null,!1,!0),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(!0),null!=t){var e=this.getCellToRestoreFocusToAfterRefresh();null!=t&&null==e&&(this.animationFrameService.flushAllFrames(),this.restoreFocusedCell(t))}},e.prototype.removeRowCompsNotToDraw=function(t){var e={};t.forEach((function(t){return e[t]=!0}));var n=Object.keys(this.rowCtrlsByRowIndex).filter((function(t){return!e[t]}));this.removeRowCtrls(n)},e.prototype.calculateIndexesToDraw=function(t){var e=this,n=Wn(this.firstRenderedRow,this.lastRenderedRow),i=function(t,i){var o=i.getRowNode().rowIndex;null!=o&&(o<e.firstRenderedRow||o>e.lastRenderedRow)&&e.doNotUnVirtualiseRow(i)&&n.push(o)};return p(this.rowCtrlsByRowIndex,i),p(t,i),n.sort((function(t,e){return t-e})),n=n.filter((function(t){var n=e.paginationProxy.getRow(t);return n&&!n.sticky}))},e.prototype.redraw=function(t,e,n){var i=this;void 0===e&&(e=!1),void 0===n&&(n=!1),this.rowContainerHeightService.updateOffset(),this.workOutFirstAndLastRowsToRender(),this.stickyRowFeature&&this.stickyRowFeature.checkStickyRows();var r=this.calculateIndexesToDraw(t);(this.removeRowCompsNotToDraw(r),this.printLayout&&(e=!1),r.forEach((function(r){o(i.createOrUpdateRowCtrl(r,t,e,n))})),t)&&(n&&!this.gridOptionsService.is("suppressAnimationFrame")&&!this.printLayout?this.beans.animationFrameService.addDestroyTask((function(){i.destroyRowCtrls(t,e),i.updateAllRowCtrls(),i.dispatchDisplayedRowsChanged()})):this.destroyRowCtrls(t,e));this.updateAllRowCtrls()},e.prototype.dispatchDisplayedRowsChanged=function(t){void 0===t&&(t=!1);var e={type:zt.EVENT_DISPLAYED_ROWS_CHANGED,afterScroll:t};this.eventService.dispatchEvent(e)},e.prototype.onDisplayedColumnsChanged=function(){var t=this.columnModel.isPinningLeft(),e=this.columnModel.isPinningRight();(this.pinningLeft!==t||e!==this.pinningRight)&&(this.pinningLeft=t,this.pinningRight=e,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())},e.prototype.redrawFullWidthEmbeddedRows=function(){var t=[];this.getFullWidthRowCtrls().forEach((function(e){var n=e.getRowNode().rowIndex;t.push(n.toString())})),this.refreshFloatingRowComps(),this.removeRowCtrls(t),this.redrawAfterScroll()},e.prototype.getFullWidthRowCtrls=function(t){var e=this,n=this.mapRowNodes(t);return this.getAllRowCtrls().filter((function(t){if(!t.isFullWidth())return!1;var i=t.getRowNode();return!(null!=n&&!e.isRowInMap(i,n))}))},e.prototype.refreshFullWidthRow=function(t){var e=this.getFullWidthRowCtrls().find((function(e){return e.getRowNode()===t}));e&&(e.refreshFullWidth()||(t.sticky?this.stickyRowFeature.refreshStickyNode(t):this.removeRowCtrls([t.rowIndex]),this.redrawAfterScroll()))},e.prototype.createOrUpdateRowCtrl=function(t,e,n,i){var r,s=this.rowCtrlsByRowIndex[t];if(s||o(r=this.paginationProxy.getRow(t))&&o(e)&&e[r.id]&&r.alreadyRendered&&(s=e[r.id],e[r.id]=null),!s){if(r||(r=this.paginationProxy.getRow(t)),!o(r))return;s=this.createRowCon(r,n,i)}return r&&(r.alreadyRendered=!0),this.rowCtrlsByRowIndex[t]=s,s},e.prototype.destroyRowCtrls=function(t,e){var n=this,i=[];p(t,(function(t,o){o&&(n.cachedRowCtrls&&o.isCacheable()?n.cachedRowCtrls.addRow(o):(o.destroyFirstPass(),e?(n.zombieRowCtrls[o.getInstanceId()]=o,i.push((function(){o.destroySecondPass(),delete n.zombieRowCtrls[o.getInstanceId()]}))):o.destroySecondPass()))})),e&&(i.push((function(){n.updateAllRowCtrls(),n.dispatchDisplayedRowsChanged()})),D(i))},e.prototype.getRowBuffer=function(){var t=this.gridOptionsService.getNum("rowBuffer");return"number"==typeof t?t<0&&(P((function(){return console.warn("AG Grid: rowBuffer should not be negative")}),"warn rowBuffer negative"),t=0,this.gridOptionsService.set("rowBuffer",0)):t=10,t},e.prototype.getRowBufferInPixels=function(){return this.getRowBuffer()*this.gridOptionsService.getRowHeightAsNumber()},e.prototype.workOutFirstAndLastRowsToRender=function(){var t,e;if(this.paginationProxy.isRowsToRender())if(this.printLayout)t=this.paginationProxy.getPageFirstRow(),e=this.paginationProxy.getPageLastRow();else{var n=this.getRowBufferInPixels(),i=this.ctrlsService.getGridBodyCtrl(),o=this.gridOptionsService.is("suppressRowVirtualisation"),r=!1,s=void 0,a=void 0;do{var l=this.paginationProxy.getPixelOffset(),c=this.paginationProxy.getCurrentPagePixelRange(),u=c.pageFirstPixel,h=c.pageLastPixel,d=this.rowContainerHeightService.getDivStretchOffset(),p=i.getScrollFeature().getVScrollPosition(),f=p.top,g=p.bottom;o?(s=u+d,a=h+d):(s=Math.max(f+l-n,u)+d,a=Math.min(g+l+n,h)+d),this.firstVisibleVPixel=Math.max(f+l,u)+d,r=this.ensureAllRowsInRangeHaveHeightsCalculated(s,a)}while(r);var m=this.paginationProxy.getRowIndexAtPixel(s),_=this.paginationProxy.getRowIndexAtPixel(a),y=this.paginationProxy.getPageFirstRow(),v=this.paginationProxy.getPageLastRow();m<y&&(m=y),_>v&&(_=v),t=m,e=_}else t=0,e=-1;var C=this.gridOptionsService.isDomLayout("normal"),b=this.gridOptionsService.is("suppressMaxRenderedRowRestriction"),E=Math.max(this.getRowBuffer(),500);C&&!b&&e-t>E&&(e=t+E);var S=t!==this.firstRenderedRow,w=e!==this.lastRenderedRow;if(S||w){this.firstRenderedRow=t,this.lastRenderedRow=e;var O={type:zt.EVENT_VIEWPORT_CHANGED,firstRow:t,lastRow:e};this.eventService.dispatchEvent(O)}},e.prototype.dispatchFirstDataRenderedEvent=function(){var t=this;if(!this.dataFirstRenderedFired){this.dataFirstRenderedFired=!0;var e={type:zt.EVENT_FIRST_DATA_RENDERED,firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow};window.requestAnimationFrame((function(){t.beans.eventService.dispatchEvent(e)}))}},e.prototype.ensureAllRowsInRangeHaveHeightsCalculated=function(t,e){var n=this.paginationProxy.ensureRowHeightsValid(t,e,-1,-1);return n&&this.updateContainerHeights(),n},e.prototype.getFirstVisibleVerticalPixel=function(){return this.firstVisibleVPixel},e.prototype.getFirstVirtualRenderedRow=function(){return this.firstRenderedRow},e.prototype.getLastVirtualRenderedRow=function(){return this.lastRenderedRow},e.prototype.doNotUnVirtualiseRow=function(t){var e=t.getRowNode(),n=this.focusService.isRowNodeFocused(e),i=t.isEditing(),o=e.detail;return!!(n||i||o)&&!!this.paginationProxy.isRowPresent(e)},e.prototype.createRowCon=function(t,e,n){var i=this.cachedRowCtrls?this.cachedRowCtrls.getRow(t):null;if(i)return i;var o=this.gridOptionsService.is("suppressAnimationFrame"),r=n&&!o&&!this.printLayout;return new Vl(t,this.beans,e,r,this.printLayout)},e.prototype.getRenderedNodes=function(){var t=this.rowCtrlsByRowIndex;return Object.keys(t).map((function(e){return t[e].getRowNode()}))},e.prototype.getRowByPosition=function(t){var e,n=t.rowIndex;switch(t.rowPinned){case"top":e=this.topRowCtrls[n];break;case"bottom":e=this.bottomRowCtrls[n];break;default:(e=this.rowCtrlsByRowIndex[n])||(e=this.getStickyTopRowCtrls().find((function(t){return t.getRowNode().rowIndex===n}))||null)}return e},e.prototype.getRowNode=function(t){switch(t.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[t.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[t.rowIndex];default:return this.rowModel.getRow(t.rowIndex)}},e.prototype.isRangeInRenderedViewport=function(t,e){if(null==t||null==e)return!1;var n=t>this.lastRenderedRow;return!(e<this.firstRenderedRow)&&!n},Nh([K("animationFrameService")],e.prototype,"animationFrameService",void 0),Nh([K("paginationProxy")],e.prototype,"paginationProxy",void 0),Nh([K("columnModel")],e.prototype,"columnModel",void 0),Nh([K("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),Nh([K("rowModel")],e.prototype,"rowModel",void 0),Nh([K("focusService")],e.prototype,"focusService",void 0),Nh([K("beans")],e.prototype,"beans",void 0),Nh([K("rowContainerHeightService")],e.prototype,"rowContainerHeightService",void 0),Nh([K("ctrlsService")],e.prototype,"ctrlsService",void 0),Nh([H],e.prototype,"postConstruct",null),e=Nh([z("rowRenderer")],e)}(jt),Uh=function(){function t(t){this.entriesMap={},this.entriesList=[],this.maxCount=t}return t.prototype.addRow=function(t){if(this.entriesMap[t.getRowNode().id]=t,this.entriesList.push(t),t.setCached(!0),this.entriesList.length>this.maxCount){var e=this.entriesList[0];e.destroyFirstPass(),e.destroySecondPass(),this.removeFromCache(e)}},t.prototype.getRow=function(t){if(null==t||null==t.id)return null;var e=this.entriesMap[t.id];return e?(this.removeFromCache(e),e.setCached(!1),e.getRowNode()!=t?null:e):null},t.prototype.removeFromCache=function(t){var e=t.getRowNode().id;delete this.entriesMap[e],_t(this.entriesList,t)},t.prototype.getEntries=function(){return this.entriesList},t}(),Vh=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Wh=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},Hh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Vh(e,t),e.prototype.formatValue=function(t,e,n,i,o){void 0===o&&(o=!0);var r,s=null,a=t.getColDef();if(i?r=i:o&&(r=a.valueFormatter),r){var l={value:n,node:e,data:e?e.data:null,colDef:a,column:t,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};s="function"==typeof r?r(l):this.expressionService.evaluate(r,l)}else if(a.refData)return a.refData[n]||"";return null==s&&Array.isArray(n)&&(s=n.join(", ")),s},Wh([K("expressionService")],e.prototype,"expressionService",void 0),e=Wh([z("valueFormatterService")],e)}(jt),$h=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),zh=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},Kh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return $h(e,t),e.prototype.init=function(){this.setPinnedTopRowData(this.gridOptionsService.get("pinnedTopRowData")),this.setPinnedBottomRowData(this.gridOptionsService.get("pinnedBottomRowData"))},e.prototype.isEmpty=function(t){return s("top"===t?this.pinnedTopRows:this.pinnedBottomRows)},e.prototype.isRowsToRender=function(t){return!this.isEmpty(t)},e.prototype.getRowAtPixel=function(t,e){var n="top"===e?this.pinnedTopRows:this.pinnedBottomRows;if(s(n))return 0;for(var i=0;i<n.length;i++){var o=n[i];if(o.rowTop+o.rowHeight-1>=t)return i}return n.length-1},e.prototype.setPinnedTopRowData=function(t){this.pinnedTopRows=this.createNodesFromData(t,!0);var e={type:zt.EVENT_PINNED_ROW_DATA_CHANGED};this.eventService.dispatchEvent(e)},e.prototype.setPinnedBottomRowData=function(t){this.pinnedBottomRows=this.createNodesFromData(t,!1);var e={type:zt.EVENT_PINNED_ROW_DATA_CHANGED};this.eventService.dispatchEvent(e)},e.prototype.createNodesFromData=function(t,e){var n=this,i=[];if(t){var o=0;t.forEach((function(t,r){var s=new Ss(n.beans);s.data=t;var a=e?Ss.ID_PREFIX_TOP_PINNED:Ss.ID_PREFIX_BOTTOM_PINNED;s.id=a+r,s.rowPinned=e?"top":"bottom",s.setRowTop(o),s.setRowHeight(n.gridOptionsService.getRowHeightForNode(s).height),s.setRowIndex(r),o+=s.rowHeight,i.push(s)}))}return i},e.prototype.getPinnedTopRowData=function(){return this.pinnedTopRows},e.prototype.getPinnedBottomRowData=function(){return this.pinnedBottomRows},e.prototype.getPinnedTopTotalHeight=function(){return this.getTotalHeight(this.pinnedTopRows)},e.prototype.getPinnedTopRowCount=function(){return this.pinnedTopRows?this.pinnedTopRows.length:0},e.prototype.getPinnedBottomRowCount=function(){return this.pinnedBottomRows?this.pinnedBottomRows.length:0},e.prototype.getPinnedTopRow=function(t){return this.pinnedTopRows[t]},e.prototype.getPinnedBottomRow=function(t){return this.pinnedBottomRows[t]},e.prototype.forEachPinnedTopRow=function(t){s(this.pinnedTopRows)||this.pinnedTopRows.forEach(t)},e.prototype.forEachPinnedBottomRow=function(t){s(this.pinnedBottomRows)||this.pinnedBottomRows.forEach(t)},e.prototype.getPinnedBottomTotalHeight=function(){return this.getTotalHeight(this.pinnedBottomRows)},e.prototype.getTotalHeight=function(t){if(!t||0===t.length)return 0;var e=ft(t);return e.rowTop+e.rowHeight},zh([K("beans")],e.prototype,"beans",void 0),zh([H],e.prototype,"init",null),e=zh([z("pinnedRowModel")],e)}(jt);!function(t){t.Applied="Applied",t.StoreNotFound="StoreNotFound",t.StoreLoading="StoreLoading",t.StoreWaitingToLoad="StoreWaitingToLoad",t.StoreLoadingFailed="StoreLoadingFailed",t.StoreWrongType="StoreWrongType",t.Cancelled="Cancelled"}(vh||(vh={}));var Yh,Xh=function(){function t(t,e){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=t,this.pathRoot={rowNode:e,children:null},this.mapToItems[e.id]=this.pathRoot}return t.prototype.setInactive=function(){this.active=!1},t.prototype.isActive=function(){return this.active},t.prototype.depthFirstSearchChangedPath=function(t,e){if(t.children)for(var n=0;n<t.children.length;n++)this.depthFirstSearchChangedPath(t.children[n],e);e(t.rowNode)},t.prototype.depthFirstSearchEverything=function(t,e,n){if(t.childrenAfterGroup)for(var i=0;i<t.childrenAfterGroup.length;i++){var o=t.childrenAfterGroup[i];o.childrenAfterGroup?this.depthFirstSearchEverything(t.childrenAfterGroup[i],e,n):n&&e(o)}e(t)},t.prototype.forEachChangedNodeDepthFirst=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=!1),this.active&&!n?this.depthFirstSearchChangedPath(this.pathRoot,t):this.depthFirstSearchEverything(this.pathRoot.rowNode,t,e)},t.prototype.executeFromRootNode=function(t){t(this.pathRoot.rowNode)},t.prototype.createPathItems=function(t){for(var e=t,n=0;!this.mapToItems[e.id];){var i={rowNode:e,children:null};this.mapToItems[e.id]=i,n++,e=e.parent}return n},t.prototype.populateColumnsMap=function(t,e){var n=this;if(this.keepingColumns&&e)for(var i=t;i;)this.nodeIdsToColumns[i.id]||(this.nodeIdsToColumns[i.id]={}),e.forEach((function(t){return n.nodeIdsToColumns[i.id][t.getId()]=!0})),i=i.parent},t.prototype.linkPathItems=function(t,e){for(var n=t,i=0;i<e;i++){var o=this.mapToItems[n.id],r=this.mapToItems[n.parent.id];r.children||(r.children=[]),r.children.push(o),n=n.parent}},t.prototype.addParentNode=function(t,e){if(t&&!t.isRowPinned()){var n=this.createPathItems(t);this.linkPathItems(t,n),this.populateColumnsMap(t,e)}},t.prototype.canSkip=function(t){return this.active&&!this.mapToItems[t.id]},t.prototype.getValueColumnsForNode=function(t,e){if(!this.keepingColumns)return e;var n=this.nodeIdsToColumns[t.id];return e.filter((function(t){return n[t.getId()]}))},t.prototype.getNotValueColumnsForNode=function(t,e){if(!this.keepingColumns)return null;var n=this.nodeIdsToColumns[t.id];return e.filter((function(t){return!n[t.getId()]}))},t}(),qh=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Zh=function(t){function e(n){var i=t.call(this)||this;return i.state=e.STATE_WAITING_TO_LOAD,i.version=0,i.id=n,i}return qh(e,t),e.prototype.getId=function(){return this.id},e.prototype.load=function(){this.state=e.STATE_LOADING,this.loadFromDatasource()},e.prototype.getVersion=function(){return this.version},e.prototype.setStateWaitingToLoad=function(){this.version++,this.state=e.STATE_WAITING_TO_LOAD},e.prototype.getState=function(){return this.state},e.prototype.pageLoadFailed=function(t){this.isRequestMostRecentAndLive(t)&&(this.state=e.STATE_FAILED,this.processServerFail()),this.dispatchLoadCompleted(!1)},e.prototype.success=function(t,e){this.successCommon(t,e)},e.prototype.pageLoaded=function(t,e,n){this.successCommon(t,{rowData:e,rowCount:n})},e.prototype.isRequestMostRecentAndLive=function(t){var e=t===this.version,n=this.isAlive();return e&&n},e.prototype.successCommon=function(t,n){this.dispatchLoadCompleted(),this.isRequestMostRecentAndLive(t)&&(this.state=e.STATE_LOADED,this.processServerResult(n))},e.prototype.dispatchLoadCompleted=function(t){void 0===t&&(t=!0);var n={type:e.EVENT_LOAD_COMPLETE,success:t,block:this};this.dispatchEvent(n)},e.EVENT_LOAD_COMPLETE="loadComplete",e.STATE_WAITING_TO_LOAD="needsLoading",e.STATE_LOADING="loading",e.STATE_LOADED="loaded",e.STATE_FAILED="failed",e}(jt),Jh=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Qh=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},td=function(t,e){return function(n,i){e(n,i,t)}},ed=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.activeBlockLoadsCount=0,e.blocks=[],e.active=!0,e}var n;return Jh(e,t),n=e,e.prototype.postConstruct=function(){this.maxConcurrentRequests=this.getMaxConcurrentDatasourceRequests();var t=this.gridOptionsService.getNum("blockLoadDebounceMillis");t&&t>0&&(this.checkBlockToLoadDebounce=no.debounce(this.performCheckBlocksToLoad.bind(this),t))},e.prototype.setBeans=function(t){this.logger=t.create("RowNodeBlockLoader")},e.prototype.getMaxConcurrentDatasourceRequests=function(){var t=this.gridOptionsService.getNum("maxConcurrentDatasourceRequests");return null==t?2:t<=0?void 0:t},e.prototype.addBlock=function(t){this.blocks.push(t),t.addEventListener(Zh.EVENT_LOAD_COMPLETE,this.loadComplete.bind(this)),this.checkBlockToLoad()},e.prototype.removeBlock=function(t){no.removeFromArray(this.blocks,t)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.active=!1},e.prototype.loadComplete=function(){this.activeBlockLoadsCount--,this.checkBlockToLoad(),this.dispatchEvent({type:n.BLOCK_LOADED_EVENT}),0==this.activeBlockLoadsCount&&this.dispatchEvent({type:n.BLOCK_LOADER_FINISHED_EVENT})},e.prototype.checkBlockToLoad=function(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()},e.prototype.performCheckBlocksToLoad=function(){if(this.active)if(this.printCacheStatus(),null!=this.maxConcurrentRequests&&this.activeBlockLoadsCount>=this.maxConcurrentRequests)this.logger.log("checkBlockToLoad: max loads exceeded");else{var t=this.getAvailableLoadingCount(),e=this.blocks.filter((function(t){return t.getState()===Zh.STATE_WAITING_TO_LOAD})).slice(0,t);this.registerLoads(e.length),e.forEach((function(t){return t.load()})),this.printCacheStatus()}},e.prototype.getBlockState=function(){if(this.gridOptionsService.isRowModelType("serverSide"))return this.rowModel.getBlockStates();var t={};return this.blocks.forEach((function(e){var n=e.getBlockStateJson(),i=n.id,o=n.state;t[i]=o})),t},e.prototype.printCacheStatus=function(){this.logger.isLogging()&&this.logger.log("printCacheStatus: activePageLoadsCount = "+this.activeBlockLoadsCount+", blocks = "+JSON.stringify(this.getBlockState()))},e.prototype.isLoading=function(){return this.activeBlockLoadsCount>0},e.prototype.registerLoads=function(t){this.activeBlockLoadsCount+=t},e.prototype.getAvailableLoadingCount=function(){return void 0!==this.maxConcurrentRequests?this.maxConcurrentRequests-this.activeBlockLoadsCount:void 0},e.BLOCK_LOADED_EVENT="blockLoaded",e.BLOCK_LOADER_FINISHED_EVENT="blockLoaderFinished",Qh([K("rowModel")],e.prototype,"rowModel",void 0),Qh([H],e.prototype,"postConstruct",null),Qh([td(0,q("loggerFactory"))],e.prototype,"setBeans",null),e=n=Qh([z("rowNodeBlockLoader")],e)}(jt),nd=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),id=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},od=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.currentPage=0,e.topDisplayedRowIndex=0,e.bottomDisplayedRowIndex=0,e.pixelOffset=0,e.masterRowCount=0,e}return nd(e,t),e.prototype.postConstruct=function(){this.active=this.gridOptionsService.is("pagination"),this.paginateChildRows=this.isPaginateChildRows(),this.addManagedListener(this.eventService,zt.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedPropertyListener("pagination",this.onPaginationPageSizeChanged.bind(this)),this.addManagedPropertyListener("paginationPageSize",this.onPaginationPageSizeChanged.bind(this)),this.onModelUpdated()},e.prototype.ensureRowHeightsValid=function(t,e,n,i){var o=this.rowModel.ensureRowHeightsValid(t,e,this.getPageFirstRow(),this.getPageLastRow());return o&&this.calculatePages(),o},e.prototype.isPaginateChildRows=function(){return!(!this.gridOptionsService.is("groupRemoveSingleChildren")&&!this.gridOptionsService.is("groupRemoveLowestSingleChildren"))||this.gridOptionsService.is("paginateChildRows")},e.prototype.onModelUpdated=function(t){this.calculatePages();var e={type:zt.EVENT_PAGINATION_CHANGED,animate:!!t&&t.animate,newData:!!t&&t.newData,newPage:!!t&&t.newPage,keepRenderedRows:!!t&&t.keepRenderedRows};this.eventService.dispatchEvent(e)},e.prototype.onPaginationPageSizeChanged=function(){this.active=this.gridOptionsService.is("pagination"),this.calculatePages();var t={type:zt.EVENT_PAGINATION_CHANGED,animate:!1,newData:!1,newPage:!1,keepRenderedRows:!0};this.eventService.dispatchEvent(t)},e.prototype.goToPage=function(t){if(this.active&&this.currentPage!==t&&"number"==typeof this.currentPage){this.currentPage=t;var e={type:zt.EVENT_MODEL_UPDATED,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!0};this.onModelUpdated(e)}},e.prototype.getPixelOffset=function(){return this.pixelOffset},e.prototype.getRow=function(t){return this.rowModel.getRow(t)},e.prototype.getRowNode=function(t){return this.rowModel.getRowNode(t)},e.prototype.getRowIndexAtPixel=function(t){return this.rowModel.getRowIndexAtPixel(t)},e.prototype.getCurrentPageHeight=function(){return r(this.topRowBounds)||r(this.bottomRowBounds)?0:Math.max(this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight-this.topRowBounds.rowTop,0)},e.prototype.getCurrentPagePixelRange=function(){return{pageFirstPixel:this.topRowBounds?this.topRowBounds.rowTop:0,pageLastPixel:this.bottomRowBounds?this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight:0}},e.prototype.isRowPresent=function(t){return!!this.rowModel.isRowPresent(t)&&(t.rowIndex>=this.topDisplayedRowIndex&&t.rowIndex<=this.bottomDisplayedRowIndex)},e.prototype.isEmpty=function(){return this.rowModel.isEmpty()},e.prototype.isRowsToRender=function(){return this.rowModel.isRowsToRender()},e.prototype.forEachNode=function(t){return this.rowModel.forEachNode(t)},e.prototype.forEachNodeOnPage=function(t){for(var e=this.getPageFirstRow(),n=this.getPageLastRow(),i=e;i<=n;i++){var o=this.getRow(i);o&&t(o)}},e.prototype.getType=function(){return this.rowModel.getType()},e.prototype.getRowBounds=function(t){var e=this.rowModel.getRowBounds(t);return e.rowIndex=t,e},e.prototype.getPageFirstRow=function(){return this.topRowBounds?this.topRowBounds.rowIndex:-1},e.prototype.getPageLastRow=function(){return this.bottomRowBounds?this.bottomRowBounds.rowIndex:-1},e.prototype.getRowCount=function(){return this.rowModel.getRowCount()},e.prototype.getPageForIndex=function(t){return Math.floor(t/this.pageSize)},e.prototype.goToPageWithIndex=function(t){if(this.active){var e=this.getPageForIndex(t);this.goToPage(e)}},e.prototype.isRowInPage=function(t){return!this.active||this.getPageForIndex(t.rowIndex)===this.currentPage},e.prototype.isLastPageFound=function(){return this.rowModel.isLastRowIndexKnown()},e.prototype.getCurrentPage=function(){return this.currentPage},e.prototype.goToNextPage=function(){this.goToPage(this.currentPage+1)},e.prototype.goToPreviousPage=function(){this.goToPage(this.currentPage-1)},e.prototype.goToFirstPage=function(){this.goToPage(0)},e.prototype.goToLastPage=function(){var t=this.rowModel.getRowCount(),e=Math.floor(t/this.pageSize);this.goToPage(e)},e.prototype.getPageSize=function(){return this.pageSize},e.prototype.getTotalPages=function(){return this.totalPages},e.prototype.setPageSize=function(){this.pageSize=this.gridOptionsService.getNum("paginationPageSize"),(null==this.pageSize||this.pageSize<1)&&(this.pageSize=100)},e.prototype.calculatePages=function(){this.active?(this.setPageSize(),this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly()):this.calculatedPagesNotActive(),this.topRowBounds=this.rowModel.getRowBounds(this.topDisplayedRowIndex),this.topRowBounds&&(this.topRowBounds.rowIndex=this.topDisplayedRowIndex),this.bottomRowBounds=this.rowModel.getRowBounds(this.bottomDisplayedRowIndex),this.bottomRowBounds&&(this.bottomRowBounds.rowIndex=this.bottomDisplayedRowIndex),this.setPixelOffset(o(this.topRowBounds)?this.topRowBounds.rowTop:0)},e.prototype.setPixelOffset=function(t){this.pixelOffset!==t&&(this.pixelOffset=t,this.eventService.dispatchEvent({type:zt.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED}))},e.prototype.setZeroRows=function(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0},e.prototype.adjustCurrentPageIfInvalid=function(){this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!isFinite(this.currentPage)||isNaN(this.currentPage)||this.currentPage<0)&&(this.currentPage=0)},e.prototype.calculatePagesMasterRowsOnly=function(){if(this.masterRowCount=this.rowModel.getTopLevelRowCount(),this.masterRowCount<=0)this.setZeroRows();else{var t=this.masterRowCount-1;this.totalPages=Math.floor(t/this.pageSize)+1,this.adjustCurrentPageIfInvalid();var e=this.pageSize*this.currentPage,n=this.pageSize*(this.currentPage+1)-1;if(n>t&&(n=t),this.topDisplayedRowIndex=this.rowModel.getTopLevelRowDisplayedIndex(e),n===t)this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1;else{var i=this.rowModel.getTopLevelRowDisplayedIndex(n+1);this.bottomDisplayedRowIndex=i-1}}},e.prototype.getMasterRowCount=function(){return this.masterRowCount},e.prototype.calculatePagesAllRows=function(){if(this.masterRowCount=this.rowModel.getRowCount(),0!==this.masterRowCount){var t=this.masterRowCount-1;this.totalPages=Math.floor(t/this.pageSize)+1,this.adjustCurrentPageIfInvalid(),this.topDisplayedRowIndex=this.pageSize*this.currentPage,this.bottomDisplayedRowIndex=this.pageSize*(this.currentPage+1)-1,this.bottomDisplayedRowIndex>t&&(this.bottomDisplayedRowIndex=t)}else this.setZeroRows()},e.prototype.calculatedPagesNotActive=function(){this.pageSize=this.rowModel.getRowCount(),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1},id([K("rowModel")],e.prototype,"rowModel",void 0),id([H],e.prototype,"postConstruct",null),e=id([z("paginationProxy")],e)}(jt),rd=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),sd=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},ad=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return rd(e,t),e.prototype.processAllCellClasses=function(t,e,n,i){this.processClassRules(t.cellClassRules,e,n,i),this.processStaticCellClasses(t,e,n)},e.prototype.processClassRules=function(t,e,n,i){if(null!=t){for(var o=Object.keys(t),r={},s={},a=function(n){var i,a=o[n],c=t[a];"string"==typeof c?i=l.expressionService.evaluate(c,e):"function"==typeof c&&(i=c(e)),a.split(" ").forEach((function(t){null!=t&&""!=t.trim()&&(i?r[t]=!0:s[t]=!0)}))},l=this,c=0;c<o.length;c++)a(c);i&&Object.keys(s).forEach(i),Object.keys(r).forEach(n)}},e.prototype.getStaticCellClasses=function(t,e){var n,i=t.cellClass;if(!i)return[];"function"==typeof i?n=i(e):n=i;return"string"==typeof n&&(n=[n]),n||[]},e.prototype.processStaticCellClasses=function(t,e,n){this.getStaticCellClasses(t,e).forEach((function(t){n(t)}))},sd([K("expressionService")],e.prototype,"expressionService",void 0),e=sd([z("stylingService")],e)}(jt),ld=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),cd=function(t){function e(e){return t.call(this,e,"ag-toggle-button")||this}return ld(e,t),e.prototype.setValue=function(e,n){return t.prototype.setValue.call(this,e,n),this.addOrRemoveCssClass("ag-selected",this.getValue()),this},e}(er),ud=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),hd=function(t){function e(e){return t.call(this,e,"ag-text-area",null,"textarea")||this}return ud(e,t),e.prototype.setValue=function(e,n){var i=t.prototype.setValue.call(this,e,n);return this.eInput.value=e,i},e.prototype.setCols=function(t){return this.eInput.cols=t,this},e.prototype.setRows=function(t){return this.eInput.rows=t,this},e}(Qo),dd=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),pd=function(t){function e(e){return t.call(this,e,"ag-range-field","range")||this}return dd(e,t),e.prototype.postConstruct=function(){t.prototype.postConstruct.call(this);var e=this.config,n=e.min,i=e.max,o=e.step;null!=n&&this.setMinValue(n),null!=i&&this.setMaxValue(i),this.setStep(o||1)},e.prototype.addInputListeners=function(){var t=this;this.addManagedListener(this.eInput,"input",(function(e){var n=e.target.value;t.setValue(n)}))},e.prototype.setMinValue=function(t){return this.min=t,this.eInput.setAttribute("min",t.toString()),this},e.prototype.setMaxValue=function(t){return this.max=t,this.eInput.setAttribute("max",t.toString()),this},e.prototype.setStep=function(t){return this.eInput.setAttribute("step",t.toString()),this},e.prototype.setValue=function(e,n){null!=this.min&&(e=Math.max(parseFloat(e),this.min).toString()),null!=this.max&&(e=Math.min(parseFloat(e),this.max).toString());var i=t.prototype.setValue.call(this,e,n);return this.eInput.value=e,i},e}(Qo),fd=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),gd=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},md=function(t){function e(n){var i=t.call(this,n,e.TEMPLATE)||this;return i.labelAlignment="top",i}return fd(e,t),e.prototype.init=function(){this.eSlider.addCssClass("ag-slider-field")},e.prototype.onValueChange=function(t){var e=this,n=Uo.EVENT_CHANGED;return this.addManagedListener(this.eText,n,(function(){var n=parseFloat(e.eText.getValue());e.eSlider.setValue(n.toString(),!0),t(n||0)})),this.addManagedListener(this.eSlider,n,(function(){var n=e.eSlider.getValue();e.eText.setValue(n,!0),t(parseFloat(n))})),this},e.prototype.setSliderWidth=function(t){return this.eSlider.setWidth(t),this},e.prototype.setTextFieldWidth=function(t){return this.eText.setWidth(t),this},e.prototype.setMinValue=function(t){return this.eSlider.setMinValue(t),this.eText.setMin(t),this},e.prototype.setMaxValue=function(t){return this.eSlider.setMaxValue(t),this.eText.setMax(t),this},e.prototype.getValue=function(){return this.eText.getValue()},e.prototype.setValue=function(t){return this.getValue()===t||(this.eText.setValue(t,!0),this.eSlider.setValue(t,!0),this.dispatchEvent({type:Uo.EVENT_CHANGED})),this},e.prototype.setStep=function(t){return this.eSlider.setStep(t),this.eText.setStep(t),this},e.TEMPLATE='<div class="ag-slider">\n            <label ref="eLabel"></label>\n            <div class="ag-wrapper ag-slider-wrapper">\n                <ag-input-range ref="eSlider"></ag-input-range>\n                <ag-input-number-field ref="eText"></ag-input-number-field>\n            </div>\n        </div>',gd([mo("eLabel")],e.prototype,"eLabel",void 0),gd([mo("eSlider")],e.prototype,"eSlider",void 0),gd([mo("eText")],e.prototype,"eText",void 0),gd([H],e.prototype,"init",null),e}(Bo),_d=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),yd=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},vd=function(t){function e(n){void 0===n&&(n={});var i=t.call(this,e.getTemplate(n))||this;i.suppressEnabledCheckbox=!0,i.suppressOpenCloseIcons=!1;var o=n.title,r=n.enabled,s=n.items,a=n.suppressEnabledCheckbox,l=n.suppressOpenCloseIcons;return i.title=o,i.cssIdentifier=n.cssIdentifier||"default",i.enabled=null==r||r,i.items=s||[],i.alignItems=n.alignItems||"center",null!=a&&(i.suppressEnabledCheckbox=a),null!=l&&(i.suppressOpenCloseIcons=l),i}return _d(e,t),e.getTemplate=function(t){var e=t.cssIdentifier||"default";return'<div class="ag-group ag-'+e+'-group" role="presentation">\n            <div class="ag-group-title-bar ag-'+e+'-group-title-bar ag-unselectable" ref="eTitleBar" role="button">\n                <span class="ag-group-title-bar-icon ag-'+e+'-group-title-bar-icon" ref="eGroupOpenedIcon" role="presentation"></span>\n                <span class="ag-group-title-bar-icon ag-'+e+'-group-title-bar-icon" ref="eGroupClosedIcon" role="presentation"></span>\n                <span ref="eTitle" class="ag-group-title ag-'+e+'-group-title"></span>\n            </div>\n            <div ref="eToolbar" class="ag-group-toolbar ag-'+e+'-group-toolbar">\n                <ag-checkbox ref="cbGroupEnabled"></ag-checkbox>\n            </div>\n            <div ref="eContainer" class="ag-group-container ag-group-container-'+(t.direction||"vertical")+" ag-"+e+'-group-container"></div>\n        </div>'},e.prototype.postConstruct=function(){if(this.items.length){var t=this.items;this.items=[],this.addItems(t)}var e=this.localeService.getLocaleTextFunc();this.cbGroupEnabled.setLabel(e("enabled","Enabled")),this.title&&this.setTitle(this.title),this.enabled&&this.setEnabled(this.enabled),this.setAlignItems(this.alignItems),this.hideEnabledCheckbox(this.suppressEnabledCheckbox),this.hideOpenCloseIcons(this.suppressOpenCloseIcons),this.setupExpandContract(),this.refreshAriaStatus(),this.refreshChildDisplay()},e.prototype.setupExpandContract=function(){var t=this;this.eGroupClosedIcon.appendChild(Bi("columnSelectClosed",this.gridOptionsService,null)),this.eGroupOpenedIcon.appendChild(Bi("columnSelectOpen",this.gridOptionsService,null)),this.addManagedListener(this.eTitleBar,"click",(function(){return t.toggleGroupExpand()})),this.addManagedListener(this.eTitleBar,"keydown",(function(e){switch(e.key){case Vi.ENTER:case Vi.SPACE:e.preventDefault(),t.toggleGroupExpand();break;case Vi.RIGHT:case Vi.LEFT:e.preventDefault(),t.toggleGroupExpand(e.key===Vi.RIGHT)}}))},e.prototype.refreshAriaStatus=function(){this.suppressOpenCloseIcons||on(this.eTitleBar,this.expanded)},e.prototype.refreshChildDisplay=function(){var t=!this.suppressOpenCloseIcons;oi(this.eToolbar,this.expanded&&!this.suppressEnabledCheckbox),oi(this.eGroupOpenedIcon,t&&this.expanded),oi(this.eGroupClosedIcon,t&&!this.expanded)},e.prototype.isExpanded=function(){return this.expanded},e.prototype.setAlignItems=function(t){this.alignItems!==t&&this.removeCssClass("ag-group-item-alignment-"+this.alignItems),this.alignItems=t;var e="ag-group-item-alignment-"+this.alignItems;return this.addCssClass(e),this},e.prototype.toggleGroupExpand=function(t){return this.suppressOpenCloseIcons?(this.expanded=!0,this.refreshChildDisplay(),oi(this.eContainer,!0),this):(t=null!=t?t:!this.expanded,this.expanded===t||(this.expanded=t,this.refreshAriaStatus(),this.refreshChildDisplay(),oi(this.eContainer,t),this.dispatchEvent({type:this.expanded?e.EVENT_EXPANDED:e.EVENT_COLLAPSED})),this)},e.prototype.addItems=function(t){var e=this;t.forEach((function(t){return e.addItem(t)}))},e.prototype.addItem=function(t){var e=this.eContainer,n=t instanceof go?t.getGui():t;n.classList.add("ag-group-item","ag-"+this.cssIdentifier+"-group-item"),e.appendChild(n),this.items.push(n)},e.prototype.hideItem=function(t,e){oi(this.items[e],!t)},e.prototype.setTitle=function(t){return this.eTitle.innerText=t,this},e.prototype.addCssClassToTitleBar=function(t){this.eTitleBar.classList.add(t)},e.prototype.setEnabled=function(t,e){return this.enabled=t,this.refreshDisabledStyles(),this.toggleGroupExpand(t),e||this.cbGroupEnabled.setValue(t),this},e.prototype.isEnabled=function(){return this.enabled},e.prototype.onEnableChange=function(t){var e=this;return this.cbGroupEnabled.onValueChange((function(n){e.setEnabled(n,!0),t(n)})),this},e.prototype.hideEnabledCheckbox=function(t){return this.suppressEnabledCheckbox=t,this.refreshChildDisplay(),this.refreshDisabledStyles(),this},e.prototype.hideOpenCloseIcons=function(t){return this.suppressOpenCloseIcons=t,t&&this.toggleGroupExpand(!0),this},e.prototype.refreshDisabledStyles=function(){this.addOrRemoveCssClass("ag-disabled",!this.enabled),this.suppressEnabledCheckbox&&!this.enabled?(this.eTitleBar.classList.add("ag-disabled-group-title-bar"),this.eTitleBar.removeAttribute("tabindex")):(this.eTitleBar.classList.remove("ag-disabled-group-title-bar"),this.eTitleBar.setAttribute("tabindex","0")),this.eContainer.classList.toggle("ag-disabled-group-container",!this.enabled)},e.EVENT_EXPANDED="expanded",e.EVENT_COLLAPSED="collapsed",yd([mo("eTitleBar")],e.prototype,"eTitleBar",void 0),yd([mo("eGroupOpenedIcon")],e.prototype,"eGroupOpenedIcon",void 0),yd([mo("eGroupClosedIcon")],e.prototype,"eGroupClosedIcon",void 0),yd([mo("eToolbar")],e.prototype,"eToolbar",void 0),yd([mo("cbGroupEnabled")],e.prototype,"cbGroupEnabled",void 0),yd([mo("eTitle")],e.prototype,"eTitle",void 0),yd([mo("eContainer")],e.prototype,"eContainer",void 0),yd([H],e.prototype,"postConstruct",null),e}(go),Cd=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),bd=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};!function(t){t.TAB_GUARD="ag-tab-guard",t.TAB_GUARD_TOP="ag-tab-guard-top",t.TAB_GUARD_BOTTOM="ag-tab-guard-bottom"}(Yh||(Yh={}));var Ed,Sd=function(t){function e(e){var n=t.call(this)||this;n.skipTabGuardFocus=!1;var i=e.comp,o=e.eTopGuard,r=e.eBottomGuard,s=e.focusInnerElement,a=e.onFocusIn,l=e.onFocusOut,c=e.shouldStopEventPropagation,u=e.onTabKeyDown,h=e.handleKeyDown,d=e.eFocusableElement;return n.comp=i,n.eTopGuard=o,n.eBottomGuard=r,n.providedFocusInnerElement=s,n.eFocusableElement=d,n.providedFocusIn=a,n.providedFocusOut=l,n.providedShouldStopEventPropagation=c,n.providedOnTabKeyDown=u,n.providedHandleKeyDown=h,n}return Cd(e,t),e.prototype.postConstruct=function(){var t=this;this.createManagedBean(new To(this.eFocusableElement,{shouldStopEventPropagation:function(){return t.shouldStopEventPropagation()},onTabKeyDown:function(e){return t.onTabKeyDown(e)},handleKeyDown:function(e){return t.handleKeyDown(e)},onFocusIn:function(e){return t.onFocusIn(e)},onFocusOut:function(e){return t.onFocusOut(e)}})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach((function(e){return t.addManagedListener(e,"focus",t.onFocus.bind(t))}))},e.prototype.handleKeyDown=function(t){this.providedHandleKeyDown&&this.providedHandleKeyDown(t)},e.prototype.tabGuardsAreActive=function(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")},e.prototype.shouldStopEventPropagation=function(){return!!this.providedShouldStopEventPropagation&&this.providedShouldStopEventPropagation()},e.prototype.activateTabGuards=function(){this.comp.setTabIndex(this.getGridTabIndex())},e.prototype.deactivateTabGuards=function(){this.comp.setTabIndex()},e.prototype.onFocus=function(t){if(this.skipTabGuardFocus)this.skipTabGuardFocus=!1;else{var e=t.target===this.eBottomGuard;this.providedFocusInnerElement?this.providedFocusInnerElement(e):this.focusInnerElement(e)}},e.prototype.onFocusIn=function(t){this.providedFocusIn&&this.providedFocusIn(t)||this.deactivateTabGuards()},e.prototype.onFocusOut=function(t){this.providedFocusOut&&this.providedFocusOut(t)||this.eFocusableElement.contains(t.relatedTarget)||this.activateTabGuards()},e.prototype.onTabKeyDown=function(t){var e=this;if(this.providedOnTabKeyDown)this.providedOnTabKeyDown(t);else if(!t.defaultPrevented){var n=this.tabGuardsAreActive();n&&this.deactivateTabGuards();var i=this.getNextFocusableElement(t.shiftKey);n&&setTimeout((function(){return e.activateTabGuards()}),0),i&&(i.focus(),t.preventDefault())}},e.prototype.getGridTabIndex=function(){return(this.gridOptionsService.getNum("tabIndex")||0).toString()},e.prototype.focusInnerElement=function(t){void 0===t&&(t=!1);var e=this.focusService.findFocusableElements(this.eFocusableElement);this.tabGuardsAreActive()&&(e.splice(0,1),e.splice(e.length-1,1)),e.length&&e[t?e.length-1:0].focus({preventScroll:!0})},e.prototype.getNextFocusableElement=function(t){return this.focusService.findNextFocusableElement(this.eFocusableElement,!1,t)},e.prototype.forceFocusOutOfContainer=function(t){void 0===t&&(t=!1);var e=t?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,e.focus()},bd([K("focusService")],e.prototype,"focusService",void 0),bd([H],e.prototype,"postConstruct",null),e}(jt),wd=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Od=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},xd=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Od(arguments[e]));return t},Pd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return wd(e,t),e.prototype.initialiseTabGuard=function(t){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.getFocusableElement();var e=[this.eTopGuard,this.eBottomGuard],n={setTabIndex:function(t){e.forEach((function(e){return null!=t?e.setAttribute("tabIndex",t):e.removeAttribute("tabIndex")}))}};this.addTabGuards(this.eTopGuard,this.eBottomGuard),this.tabGuardCtrl=this.createManagedBean(new Sd({comp:n,eTopGuard:this.eTopGuard,eBottomGuard:this.eBottomGuard,eFocusableElement:this.eFocusableElement,onFocusIn:t.onFocusIn,onFocusOut:t.onFocusOut,focusInnerElement:t.focusInnerElement,handleKeyDown:t.handleKeyDown,onTabKeyDown:t.onTabKeyDown,shouldStopEventPropagation:t.shouldStopEventPropagation}))},e.prototype.createTabGuard=function(t){var e=document.createElement("div"),n="top"===t?Yh.TAB_GUARD_TOP:Yh.TAB_GUARD_BOTTOM;return e.classList.add(Yh.TAB_GUARD,n),ze(e,"presentation"),e},e.prototype.addTabGuards=function(t,e){this.eFocusableElement.insertAdjacentElement("afterbegin",t),this.eFocusableElement.insertAdjacentElement("beforeend",e)},e.prototype.removeAllChildrenExceptTabGuards=function(){var t=[this.eTopGuard,this.eBottomGuard];mi(this.getFocusableElement()),this.addTabGuards.apply(this,xd(t))},e.prototype.forceFocusOutOfContainer=function(t){void 0===t&&(t=!1),this.tabGuardCtrl.forceFocusOutOfContainer(t)},e.prototype.appendChild=function(e,n){Ai(e)||(e=e.getGui());var i=this.eBottomGuard;i?i.insertAdjacentElement("beforebegin",e):t.prototype.appendChild.call(this,e,n)},e}(go),Td=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Md=function(){return Md=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Md.apply(this,arguments)},Dd=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},Rd=function(t){function e(e){void 0===e&&(e=1);var n=t.call(this,'<div class="ag-menu-list" role="tree"></div>')||this;return n.level=e,n.menuItems=[],n}return Td(e,t),e.prototype.postConstruct=function(){var t=this;this.initialiseTabGuard({onTabKeyDown:function(e){return t.onTabKeyDown(e)},handleKeyDown:function(e){return t.handleKeyDown(e)}})},e.prototype.onTabKeyDown=function(t){var e=this.getParentComponent(),n=e&&e.getGui();n&&n.classList.contains("ag-focus-managed")||t.preventDefault(),t.shiftKey&&this.closeIfIsChild(t)},e.prototype.handleKeyDown=function(t){switch(t.key){case Vi.UP:case Vi.RIGHT:case Vi.DOWN:case Vi.LEFT:t.preventDefault(),this.handleNavKey(t.key);break;case Vi.ESCAPE:var e=this.findTopMenu();e&&this.focusService.focusInto(e.getGui())}},e.prototype.clearActiveItem=function(){this.activeMenuItem&&(this.activeMenuItem.deactivate(),this.activeMenuItem=null)},e.prototype.addMenuItems=function(t){var e=this;null!=t&&t.forEach((function(t){"separator"===t?e.addSeparator():"string"==typeof t?console.warn("AG Grid: unrecognised menu item "+t):e.addItem(t)}))},e.prototype.addItem=function(t){var e=this,n=this.createManagedBean(new Fd(Md(Md({},t),{isAnotherSubMenuOpen:function(){return e.menuItems.some((function(t){return t.isSubMenuOpen()}))}})));n.setParentComponent(this),tn(n.getGui(),this.level),this.menuItems.push(n),this.appendChild(n.getGui()),this.addManagedListener(n,Fd.EVENT_MENU_ITEM_SELECTED,(function(t){e.dispatchEvent(t)})),this.addManagedListener(n,Fd.EVENT_MENU_ITEM_ACTIVATED,(function(t){e.activeMenuItem&&e.activeMenuItem!==t.menuItem&&e.activeMenuItem.deactivate(),e.activeMenuItem=t.menuItem}))},e.prototype.activateFirstItem=function(){var t=this.menuItems.filter((function(t){return!t.isDisabled()}))[0];t&&t.activate()},e.prototype.addSeparator=function(){this.appendChild(vi('\n            <div class="ag-menu-separator" aria-hidden="true">\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n            </div>'))},e.prototype.findTopMenu=function(){var t=this.getParentComponent();if(!t&&this instanceof e)return this;for(;;){var n=t&&t.getParentComponent&&t.getParentComponent();if(!n||!(n instanceof e||n instanceof Fd))break;t=n}return t instanceof e?t:void 0},e.prototype.handleNavKey=function(t){switch(t){case Vi.UP:case Vi.DOWN:var e=this.findNextItem(t===Vi.UP);return void(e&&e!==this.activeMenuItem&&e.activate())}t===(this.gridOptionsService.is("enableRtl")?Vi.RIGHT:Vi.LEFT)?this.closeIfIsChild():this.openChild()},e.prototype.closeIfIsChild=function(t){var e=this.getParentComponent();e&&e instanceof Fd&&(t&&t.preventDefault(),e.closeSubMenu(),e.getGui().focus())},e.prototype.openChild=function(){this.activeMenuItem&&this.activeMenuItem.openSubMenu(!0)},e.prototype.findNextItem=function(t){var e=this.menuItems.filter((function(t){return!t.isDisabled()}));if(e.length){if(!this.activeMenuItem)return t?ft(e):e[0];var n;t&&e.reverse();for(var i=!1,o=0;o<e.length;o++){var r=e[o];if(i){n=r;break}r===this.activeMenuItem&&(i=!0)}return n||this.activeMenuItem}},e.prototype.destroy=function(){this.clearActiveItem(),t.prototype.destroy.call(this)},Dd([K("focusService")],e.prototype,"focusService",void 0),Dd([H],e.prototype,"postConstruct",null),e}(Pd),Ad=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ld=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},Id=function(t){function e(e){var n=t.call(this)||this;return n.wrappedComponent=e,n.setTemplateFromElement(e.getGui()),n}return Ad(e,t),e.prototype.postConstruct=function(){var t=this;this.initialiseTabGuard({onTabKeyDown:function(e){return t.onTabKeyDown(e)},handleKeyDown:function(e){return t.handleKeyDown(e)}})},e.prototype.handleKeyDown=function(t){t.key===Vi.ESCAPE&&this.closePanel()},e.prototype.onTabKeyDown=function(t){t.defaultPrevented||(this.closePanel(),t.preventDefault())},e.prototype.closePanel=function(){var t=this.parentComponent;t.closeSubMenu(),setTimeout((function(){return t.getGui().focus()}),0)},Ld([H],e.prototype,"postConstruct",null),e}(Pd),kd=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Nd=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},Fd=function(t){function e(e){var n=t.call(this)||this;return n.params=e,n.isActive=!1,n.subMenuIsOpen=!1,n.setTemplate('<div class="'+n.getClassName()+'" tabindex="-1" role="treeitem"></div>'),n}return kd(e,t),e.prototype.init=function(){var t=this;this.addIcon(),this.addName(),this.addShortcut(),this.addSubMenu(),this.addTooltip();var e=this.getGui();this.params.disabled?(this.addCssClass(this.getClassName("disabled")),en(e,!0)):(this.addGuiEventListener("click",(function(e){return t.onItemSelected(e)})),this.addGuiEventListener("keydown",(function(e){e.key!==Vi.ENTER&&e.key!==Vi.SPACE||(e.preventDefault(),t.onItemSelected(e))})),this.addGuiEventListener("mousedown",(function(t){t.stopPropagation(),t.preventDefault()})),this.addGuiEventListener("mouseenter",(function(){return t.onMouseEnter()})),this.addGuiEventListener("mouseleave",(function(){return t.onMouseLeave()}))),this.params.cssClasses&&this.params.cssClasses.forEach((function(e){return t.addCssClass(e)}))},e.prototype.isDisabled=function(){return!!this.params.disabled},e.prototype.openSubMenu=function(t){var n=this;if(void 0===t&&(t=!1),this.closeSubMenu(),this.params.subMenu){var i,o=vi('<div class="ag-menu" role="presentation"></div>');if(this.params.subMenu instanceof Array){var r=Ye(this.getGui()),s=isNaN(r)?1:r+1,a=this.createBean(new Rd(s));a.setParentComponent(this),a.addMenuItems(this.params.subMenu),o.appendChild(a.getGui()),this.addManagedListener(a,e.EVENT_MENU_ITEM_SELECTED,(function(t){return n.dispatchEvent(t)})),a.addGuiEventListener("mouseenter",(function(){return n.cancelDeactivate()})),i=function(){return n.destroyBean(a)},t&&setTimeout((function(){return a.activateFirstItem()}),0)}else{var l=this.params.subMenu,c=this.createBean(new Id(l));c.setParentComponent(this);var u=c.getGui(),h="mouseenter",d=function(){return n.cancelDeactivate()};u.addEventListener(h,d),i=function(){return u.removeEventListener(h,d)},o.appendChild(u),l.afterGuiAttached&&setTimeout((function(){return l.afterGuiAttached()}),0)}var p=this.getGui(),f=this.popupService.positionPopupForMenu.bind(this.popupService,{eventSource:p,ePopup:o}),g=this.localeService.getLocaleTextFunc(),m=this.popupService.addPopup({modal:!0,eChild:o,positionCallback:f,anchorToElement:p,ariaLabel:g("ariaLabelSubMenu","SubMenu")});this.subMenuIsOpen=!0,on(p,!0),this.hideSubMenu=function(){m&&m.hideFunc(),n.subMenuIsOpen=!1,on(p,!1),i()}}},e.prototype.closeSubMenu=function(){this.hideSubMenu&&(this.hideSubMenu(),this.hideSubMenu=null,on(this.getGui(),!1))},e.prototype.isSubMenuOpen=function(){return this.subMenuIsOpen},e.prototype.activate=function(t){var e=this;this.cancelActivate(),this.params.disabled||(this.isActive=!0,this.addCssClass(this.getClassName("active")),this.getGui().focus(),t&&this.params.subMenu&&window.setTimeout((function(){e.isAlive()&&e.isActive&&e.openSubMenu()}),300),this.onItemActivated())},e.prototype.deactivate=function(){this.cancelDeactivate(),this.removeCssClass(this.getClassName("active")),this.isActive=!1,this.subMenuIsOpen&&this.hideSubMenu()},e.prototype.addIcon=function(){if(this.params.checked||this.params.icon||!this.params.isCompact){var t=vi('<span ref="eIcon" class="'+this.getClassName("part")+" "+this.getClassName("icon")+'" role="presentation"></span>');this.params.checked?t.appendChild(ji("check",this.gridOptionsService)):this.params.icon&&(Ai(this.params.icon)?t.appendChild(this.params.icon):"string"==typeof this.params.icon?t.innerHTML=this.params.icon:console.warn("AG Grid: menu item icon must be DOM node or string")),this.getGui().appendChild(t)}},e.prototype.addName=function(){if(this.params.name||!this.params.isCompact){var t=vi('<span ref="eName" class="'+this.getClassName("part")+" "+this.getClassName("text")+'">'+(this.params.name||"")+"</span>");this.getGui().appendChild(t)}},e.prototype.addTooltip=function(){this.params.tooltip&&(this.tooltip=this.params.tooltip,this.gridOptionsService.is("enableBrowserTooltips")?this.getGui().setAttribute("title",this.tooltip):this.createManagedBean(new co(this)))},e.prototype.getTooltipParams=function(){return{location:"menu",value:this.tooltip}},e.prototype.addShortcut=function(){if(this.params.shortcut||!this.params.isCompact){var t=vi('<span ref="eShortcut" class="'+this.getClassName("part")+" "+this.getClassName("shortcut")+'">'+(this.params.shortcut||"")+"</span>");this.getGui().appendChild(t)}},e.prototype.addSubMenu=function(){if(this.params.subMenu||!this.params.isCompact){var t=vi('<span ref="ePopupPointer" class="'+this.getClassName("part")+" "+this.getClassName("popup-pointer")+'"></span>'),e=this.getGui();if(this.params.subMenu){var n=this.gridOptionsService.is("enableRtl")?"smallLeft":"smallRight";on(e,!1),t.appendChild(ji(n,this.gridOptionsService))}e.appendChild(t)}},e.prototype.onItemSelected=function(t){if(this.params.action?this.params.action():this.openSubMenu(t&&"keydown"===t.type),!this.params.subMenu||this.params.action){var n={type:e.EVENT_MENU_ITEM_SELECTED,action:this.params.action,checked:this.params.checked,cssClasses:this.params.cssClasses,disabled:this.params.disabled,icon:this.params.icon,name:this.params.name,shortcut:this.params.shortcut,subMenu:this.params.subMenu,tooltip:this.params.tooltip,event:t};this.dispatchEvent(n)}},e.prototype.onItemActivated=function(){var t={type:e.EVENT_MENU_ITEM_ACTIVATED,menuItem:this};this.dispatchEvent(t)},e.prototype.cancelActivate=function(){this.activateTimeoutId&&(window.clearTimeout(this.activateTimeoutId),this.activateTimeoutId=0)},e.prototype.cancelDeactivate=function(){this.deactivateTimeoutId&&(window.clearTimeout(this.deactivateTimeoutId),this.deactivateTimeoutId=0)},e.prototype.onMouseEnter=function(){var t=this;this.cancelDeactivate(),this.params.isAnotherSubMenuOpen()?this.activateTimeoutId=window.setTimeout((function(){return t.activate(!0)}),e.ACTIVATION_DELAY):this.activate(!0)},e.prototype.onMouseLeave=function(){var t=this;this.cancelActivate(),this.isSubMenuOpen()?this.deactivateTimeoutId=window.setTimeout((function(){return t.deactivate()}),e.ACTIVATION_DELAY):this.deactivate()},e.prototype.getClassName=function(t){var e=this.params.isCompact?"ag-compact-menu-option":"ag-menu-option";return t?e+"-"+t:e},e.EVENT_MENU_ITEM_SELECTED="menuItemSelected",e.EVENT_MENU_ITEM_ACTIVATED="menuItemActivated",e.ACTIVATION_DELAY=80,Nd([K("popupService")],e.prototype,"popupService",void 0),Nd([H],e.prototype,"init",null),e}(go),Gd=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Bd=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},jd=function(t){function e(n){var i=t.call(this,e.getTemplate(n))||this;return i.closable=!0,i.config=n,i}return Gd(e,t),e.getTemplate=function(t){var e=t&&t.cssIdentifier||"default";return'<div class="ag-panel ag-'+e+'-panel" tabindex="-1">\n            <div ref="eTitleBar" class="ag-panel-title-bar ag-'+e+'-panel-title-bar ag-unselectable">\n                <span ref="eTitle" class="ag-panel-title-bar-title ag-'+e+'-panel-title-bar-title"></span>\n                <div ref="eTitleBarButtons" class="ag-panel-title-bar-buttons ag-'+e+'-panel-title-bar-buttons"></div>\n            </div>\n            <div ref="eContentWrapper" class="ag-panel-content-wrapper ag-'+e+'-panel-content-wrapper"></div>\n        </div>'},e.prototype.postConstruct=function(){var t=this,e=this.config,n=e.component,i=e.closable,o=e.hideTitleBar,r=e.title,s=e.minWidth,a=void 0===s?250:s,l=e.width,c=e.minHeight,u=void 0===c?250:c,h=e.height,d=e.centered,p=e.popup,f=e.x,g=e.y;this.positionableFeature=new Lo(this.getGui(),{minWidth:a,width:l,minHeight:u,height:h,centered:d,x:f,y:g,popup:p,calculateTopBuffer:function(){return t.positionableFeature.getHeight()-t.getBodyHeight()}}),this.createManagedBean(this.positionableFeature);var m=this.getGui();n&&this.setBodyComponent(n),o?oi(this.eTitleBar,!1):(r&&this.setTitle(r),this.setClosable(null!=i?i:this.closable)),this.addManagedListener(this.eTitleBar,"mousedown",(function(e){var n=t.gridOptionsService.getDocument();if(m.contains(e.relatedTarget)||m.contains(n.activeElement)||t.eTitleBarButtons.contains(e.target))e.preventDefault();else{var i=t.eContentWrapper.querySelector("button, [href], input, select, textarea, [tabindex]");i&&i.focus()}})),p&&this.positionableFeature.isPositioned()||(this.renderComponent&&this.renderComponent(),this.positionableFeature.initialisePosition(),this.eContentWrapper.style.height="0")},e.prototype.renderComponent=function(){var t=this,e=this.getGui();e.focus(),this.close=function(){e.parentElement.removeChild(e),t.destroy()}},e.prototype.getHeight=function(){return this.positionableFeature.getHeight()},e.prototype.setHeight=function(t){this.positionableFeature.setHeight(t)},e.prototype.getWidth=function(){return this.positionableFeature.getWidth()},e.prototype.setWidth=function(t){this.positionableFeature.setWidth(t)},e.prototype.setClosable=function(t){if(t!==this.closable&&(this.closable=t),t){var n=this.closeButtonComp=new go(e.CLOSE_BTN_TEMPLATE);this.getContext().createBean(n);var i=n.getGui(),o=ji("close",this.gridOptionsService);o.classList.add("ag-panel-title-bar-button-icon"),i.appendChild(o),this.addTitleBarButton(n),n.addManagedListener(i,"click",this.onBtClose.bind(this))}else if(this.closeButtonComp){(i=this.closeButtonComp.getGui()).parentElement.removeChild(i),this.closeButtonComp=this.destroyBean(this.closeButtonComp)}},e.prototype.setBodyComponent=function(t){t.setParentComponent(this),this.eContentWrapper.appendChild(t.getGui())},e.prototype.addTitleBarButton=function(t,e){var n=this.eTitleBarButtons,i=n.children,o=i.length;null==e&&(e=o),e=Math.max(0,Math.min(e,o)),t.addCssClass("ag-panel-title-bar-button");var r=t.getGui();0===e?n.insertAdjacentElement("afterbegin",r):e===o?n.insertAdjacentElement("beforeend",r):i[e-1].insertAdjacentElement("afterend",r),t.setParentComponent(this)},e.prototype.getBodyHeight=function(){return ci(this.eContentWrapper)},e.prototype.getBodyWidth=function(){return ui(this.eContentWrapper)},e.prototype.setTitle=function(t){this.eTitle.innerText=t},e.prototype.onBtClose=function(){this.close()},e.prototype.destroy=function(){this.closeButtonComp&&(this.closeButtonComp=this.destroyBean(this.closeButtonComp));var e=this.getGui();e&&e.offsetParent&&this.close(),t.prototype.destroy.call(this)},e.CLOSE_BTN_TEMPLATE='<div class="ag-button"></div>',Bd([mo("eContentWrapper")],e.prototype,"eContentWrapper",void 0),Bd([mo("eTitleBar")],e.prototype,"eTitleBar",void 0),Bd([mo("eTitleBarButtons")],e.prototype,"eTitleBarButtons",void 0),Bd([mo("eTitle")],e.prototype,"eTitle",void 0),Bd([H],e.prototype,"postConstruct",null),e}(go),Ud=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Vd=function(){return Vd=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Vd.apply(this,arguments)},Wd=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},Hd=function(t){function e(e){var n=t.call(this,Vd(Vd({},e),{popup:!0}))||this;return n.isMaximizable=!1,n.isMaximized=!1,n.maximizeListeners=[],n.resizeListenerDestroy=null,n.lastPosition={x:0,y:0,width:0,height:0},n}return Ud(e,t),e.prototype.postConstruct=function(){var e=this,n=this.getGui(),i=this.config,o=i.movable,r=i.resizable,s=i.maximizable;this.addCssClass("ag-dialog"),t.prototype.postConstruct.call(this),this.addManagedListener(n,"focusin",(function(t){n.contains(t.relatedTarget)||e.popupService.bringPopupToFront(n)})),o&&this.setMovable(o),s&&this.setMaximizable(s),r&&this.setResizable(r)},e.prototype.renderComponent=function(){var t=this.getGui(),e=this.config,n=e.alwaysOnTop,i=e.modal,o=e.title,r=this.localeService.getLocaleTextFunc(),s=this.popupService.addPopup({modal:i,eChild:t,closeOnEsc:!0,closedCallback:this.destroy.bind(this),alwaysOnTop:n,ariaLabel:o||r("ariaLabelDialog","Dialog")});s&&(this.close=s.hideFunc)},e.prototype.toggleMaximize=function(){var t=this.positionableFeature.getPosition();if(this.isMaximized){var e=this.lastPosition,n=e.x,i=e.y,o=e.width,r=e.height;this.setWidth(o),this.setHeight(r),this.positionableFeature.offsetElement(n,i)}else this.lastPosition.width=this.getWidth(),this.lastPosition.height=this.getHeight(),this.lastPosition.x=t.x,this.lastPosition.y=t.y,this.positionableFeature.offsetElement(0,0),this.setHeight("100%"),this.setWidth("100%");this.isMaximized=!this.isMaximized,this.refreshMaximizeIcon()},e.prototype.refreshMaximizeIcon=function(){oi(this.maximizeIcon,!this.isMaximized),oi(this.minimizeIcon,this.isMaximized)},e.prototype.clearMaximizebleListeners=function(){this.maximizeListeners.length&&(this.maximizeListeners.forEach((function(t){return t()})),this.maximizeListeners.length=0),this.resizeListenerDestroy&&(this.resizeListenerDestroy(),this.resizeListenerDestroy=null)},e.prototype.destroy=function(){this.maximizeButtonComp=this.destroyBean(this.maximizeButtonComp),this.clearMaximizebleListeners(),t.prototype.destroy.call(this)},e.prototype.setResizable=function(t){this.positionableFeature.setResizable(t)},e.prototype.setMovable=function(t){this.positionableFeature.setMovable(t,this.eTitleBar)},e.prototype.setMaximizable=function(t){var e=this;if(!t)return this.clearMaximizebleListeners(),void(this.maximizeButtonComp&&(this.destroyBean(this.maximizeButtonComp),this.maximizeButtonComp=this.maximizeIcon=this.minimizeIcon=void 0));var n=this.eTitleBar;if(n&&t!==this.isMaximizable){var i=this.buildMaximizeAndMinimizeElements();this.refreshMaximizeIcon(),i.addManagedListener(i.getGui(),"click",this.toggleMaximize.bind(this)),this.addTitleBarButton(i,0),this.maximizeListeners.push(this.addManagedListener(n,"dblclick",this.toggleMaximize.bind(this))),this.resizeListenerDestroy=this.addManagedListener(this,"resize",(function(){e.isMaximized=!1,e.refreshMaximizeIcon()}))}},e.prototype.buildMaximizeAndMinimizeElements=function(){var t=this.maximizeButtonComp=this.createBean(new go('<div class="ag-dialog-button"></span>')),e=t.getGui();return this.maximizeIcon=ji("maximize",this.gridOptionsService),e.appendChild(this.maximizeIcon),this.maximizeIcon.classList.add("ag-panel-title-bar-button-icon"),this.minimizeIcon=ji("minimize",this.gridOptionsService),e.appendChild(this.minimizeIcon),this.minimizeIcon.classList.add("ag-panel-title-bar-button-icon"),t},Wd([K("popupService")],e.prototype,"popupService",void 0),e}(jd),$d=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),zd=function(){return zd=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},zd.apply(this,arguments)},Kd=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},Yd=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},Xd=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Yd(arguments[e]));return t},qd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var n;return $d(e,t),n=e,e.addKeyboardModeEvents=function(t,e){var i=n.instancesMonitored.get(t);i&&i.length>0?-1===i.indexOf(e)&&i.push(e):(n.instancesMonitored.set(t,[e]),t.addEventListener("keydown",n.toggleKeyboardMode),t.addEventListener("mousedown",n.toggleKeyboardMode))},e.removeKeyboardModeEvents=function(t,e){var i=n.instancesMonitored.get(t),o=[];i&&i.length&&(o=Xd(i).filter((function(t){return t!==e})),n.instancesMonitored.set(t,o)),0===o.length&&(t.removeEventListener("keydown",n.toggleKeyboardMode),t.removeEventListener("mousedown",n.toggleKeyboardMode))},e.toggleKeyboardMode=function(t){var e=n.keyboardModeActive,i="keydown"===t.type;if(!(i&&(t.ctrlKey||t.metaKey||t.altKey)||e&&i||!e&&!i)){n.keyboardModeActive=i;var o=t.target.ownerDocument;if(o){var r=n.instancesMonitored.get(o);r&&r.forEach((function(t){t.dispatchEvent({type:i?zt.EVENT_KEYBOARD_FOCUS:zt.EVENT_MOUSE_FOCUS})}))}}},e.prototype.init=function(){var t=this,e=this.clearFocusedCell.bind(this);this.addManagedListener(this.eventService,zt.EVENT_COLUMN_PIVOT_MODE_CHANGED,e),this.addManagedListener(this.eventService,zt.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverythingChanged.bind(this)),this.addManagedListener(this.eventService,zt.EVENT_COLUMN_GROUP_OPENED,e),this.addManagedListener(this.eventService,zt.EVENT_COLUMN_ROW_GROUP_CHANGED,e),this.ctrlsService.whenReady((function(e){t.gridCtrl=e.gridCtrl;var i=t.gridOptionsService.getDocument();n.addKeyboardModeEvents(i,t.gridCtrl),t.addDestroyFunc((function(){return t.unregisterGridCompController(t.gridCtrl)}))}))},e.prototype.unregisterGridCompController=function(t){var e=this.gridOptionsService.getDocument();n.removeKeyboardModeEvents(e,t)},e.prototype.onColumnEverythingChanged=function(){if(this.focusedCellPosition){var t=this.focusedCellPosition.column,e=this.columnModel.getGridColumn(t.getId());t!==e&&this.clearFocusedCell()}},e.prototype.isKeyboardMode=function(){return n.keyboardModeActive},e.prototype.getFocusCellToUseAfterRefresh=function(){var t=this.gridOptionsService.getDocument();return this.gridOptionsService.is("suppressFocusAfterRefresh")||!this.focusedCellPosition||this.isDomDataMissingInHierarchy(t.activeElement,Vl.DOM_DATA_KEY_ROW_CTRL)?null:this.focusedCellPosition},e.prototype.getFocusHeaderToUseAfterRefresh=function(){var t=this.gridOptionsService.getDocument();return this.gridOptionsService.is("suppressFocusAfterRefresh")||!this.focusedHeaderPosition||this.isDomDataMissingInHierarchy(t.activeElement,gu.DOM_DATA_KEY_HEADER_CTRL)?null:this.focusedHeaderPosition},e.prototype.isDomDataMissingInHierarchy=function(t,e){for(var n=t;n;){if(this.gridOptionsService.getDomData(n,e))return!1;n=n.parentNode}return!0},e.prototype.getFocusedCell=function(){return this.focusedCellPosition},e.prototype.getFocusEventParams=function(){var t=this.focusedCellPosition,e=t.rowIndex,n=t.rowPinned,i={rowIndex:e,rowPinned:n,column:t.column,isFullWidthCell:!1},o=this.rowRenderer.getRowByPosition({rowIndex:e,rowPinned:n});return o&&(i.isFullWidthCell=o.isFullWidth()),i},e.prototype.clearFocusedCell=function(){if(null!=this.focusedCellPosition){var t=zd({type:zt.EVENT_CELL_FOCUS_CLEARED},this.getFocusEventParams());this.focusedCellPosition=null,this.eventService.dispatchEvent(t)}},e.prototype.setFocusedCell=function(t){var e=t.column,n=t.rowIndex,o=t.rowPinned,r=t.forceBrowserFocus,s=void 0!==r&&r,a=t.preventScrollOnBrowserFocus,l=void 0!==a&&a,c=this.columnModel.getGridColumn(e);if(c){this.focusedCellPosition=c?{rowIndex:n,rowPinned:i(o),column:c}:null;var u=zd(zd({type:zt.EVENT_CELL_FOCUSED},this.getFocusEventParams()),{forceBrowserFocus:s,preventScrollOnBrowserFocus:l,floating:null});this.eventService.dispatchEvent(u)}else this.focusedCellPosition=null},e.prototype.isCellFocused=function(t){return null!=this.focusedCellPosition&&(this.focusedCellPosition.column===t.column&&this.isRowFocused(t.rowIndex,t.rowPinned))},e.prototype.isRowNodeFocused=function(t){return this.isRowFocused(t.rowIndex,t.rowPinned)},e.prototype.isHeaderWrapperFocused=function(t){if(null==this.focusedHeaderPosition)return!1;var e=t.getColumnGroupChild(),n=t.getRowIndex(),i=t.getPinned(),o=this.focusedHeaderPosition,r=o.column,s=o.headerRowIndex;return e===r&&n===s&&i==r.getPinned()},e.prototype.clearFocusedHeader=function(){this.focusedHeaderPosition=null},e.prototype.getFocusedHeader=function(){return this.focusedHeaderPosition},e.prototype.setFocusedHeader=function(t,e){this.focusedHeaderPosition={headerRowIndex:t,column:e}},e.prototype.focusHeaderPosition=function(t){var e=t.direction,n=t.fromTab,i=t.allowUserOverride,o=t.event,r=t.headerPosition;if(i){var s,a=this.getFocusedHeader(),l=this.headerNavigationService.getHeaderRowCount();if(n){if(s=this.gridOptionsService.getCallback("tabToNextHeader"))r=s({backwards:"Before"===e,previousHeaderPosition:a,nextHeaderPosition:r,headerRowCount:l})}else if((s=this.gridOptionsService.getCallback("navigateToNextHeader"))&&o)r=s({key:o.key,previousHeaderPosition:a,nextHeaderPosition:r,headerRowCount:l,event:o})}return!!r&&(-1===r.headerRowIndex?this.focusGridView(r.column):(this.headerNavigationService.scrollToColumn(r.column,e),this.ctrlsService.getHeaderRowContainerCtrl(r.column.getPinned()).focusHeader(r.headerRowIndex,r.column,o)))},e.prototype.focusFirstHeader=function(){var t=this.columnModel.getAllDisplayedColumns()[0];return!!t&&(t.getParent()&&(t=this.columnModel.getColumnGroupAtLevel(t,0)),this.focusHeaderPosition({headerPosition:{headerRowIndex:0,column:t}}))},e.prototype.focusLastHeader=function(t){var e=this.headerNavigationService.getHeaderRowCount()-1,n=ft(this.columnModel.getAllDisplayedColumns());return this.focusHeaderPosition({headerPosition:{headerRowIndex:e,column:n},event:t})},e.prototype.isAnyCellFocused=function(){return!!this.focusedCellPosition},e.prototype.isRowFocused=function(t,e){return null!=this.focusedCellPosition&&(this.focusedCellPosition.rowIndex===t&&this.focusedCellPosition.rowPinned===i(e))},e.prototype.findFocusableElements=function(t,e,n){void 0===n&&(n=!1);var i=ei,o=ni;e&&(o+=", "+e),n&&(o+=', [tabindex="-1"]');var r=Array.prototype.slice.apply(t.querySelectorAll(i)),s=Array.prototype.slice.apply(t.querySelectorAll(o));if(!s.length)return r;var a;return a=s,r.filter((function(t){return-1===a.indexOf(t)}))},e.prototype.focusInto=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=!1);var i=this.findFocusableElements(t,null,n),o=e?ft(i):i[0];return!!o&&(o.focus({preventScroll:!0}),!0)},e.prototype.findFocusableElementBeforeTabGuard=function(t,e){if(!e)return null;var n=this.findFocusableElements(t),i=n.indexOf(e);if(-1===i)return null;for(var o=-1,r=i-1;r>=0;r--)if(n[r].classList.contains(Yh.TAB_GUARD_TOP)){o=r;break}return o<=0?null:n[o-1]},e.prototype.findNextFocusableElement=function(t,e,n){void 0===t&&(t=this.eGridDiv);var i=this.findFocusableElements(t,e?':not([tabindex="-1"])':null),o=this.gridOptionsService.getDocument().activeElement,r=(e?i.findIndex((function(t){return t.contains(o)})):i.indexOf(o))+(n?-1:1);return r<0||r>=i.length?null:i[r]},e.prototype.isTargetUnderManagedComponent=function(t,e){if(!e)return!1;var n=t.querySelectorAll("."+To.FOCUS_MANAGED_CLASS);if(!n.length)return!1;for(var i=0;i<n.length;i++)if(n[i].contains(e))return!0;return!1},e.prototype.findTabbableParent=function(t,e){void 0===e&&(e=5);for(var n=0;t&&null===In(t)&&++n<=e;)t=t.parentElement;return null===In(t)?null:t},e.prototype.focusGridView=function(t,e){if(this.gridOptionsService.is("suppressCellFocus"))return e?this.focusLastHeader():this.focusNextGridCoreContainer(!1);var n=e?this.rowPositionUtils.getLastRow():this.rowPositionUtils.getFirstRow();if(!n)return!1;var o=n.rowIndex,r=n.rowPinned,s=this.getFocusedHeader();if(!t&&s&&(t=s.column),null==o||!t)return!1;if(this.navigationService.ensureCellVisible({rowIndex:o,column:t,rowPinned:r}),this.setFocusedCell({rowIndex:o,column:t,rowPinned:i(r),forceBrowserFocus:!0}),this.rangeService){var a={rowIndex:o,rowPinned:r,column:t};this.rangeService.setRangeToCell(a)}return!0},e.prototype.focusNextGridCoreContainer=function(t,e){return void 0===e&&(e=!1),!(e||!this.gridCtrl.focusNextInnerContainer(t))||((e||!t&&!this.gridCtrl.isDetailGrid())&&this.gridCtrl.forceFocusOutOfContainer(t),!1)},e.AG_KEYBOARD_FOCUS="ag-keyboard-focus",e.keyboardModeActive=!1,e.instancesMonitored=new Map,Kd([K("eGridDiv")],e.prototype,"eGridDiv",void 0),Kd([K("columnModel")],e.prototype,"columnModel",void 0),Kd([K("headerNavigationService")],e.prototype,"headerNavigationService",void 0),Kd([K("rowRenderer")],e.prototype,"rowRenderer",void 0),Kd([K("rowPositionUtils")],e.prototype,"rowPositionUtils",void 0),Kd([Y("rangeService")],e.prototype,"rangeService",void 0),Kd([K("navigationService")],e.prototype,"navigationService",void 0),Kd([K("ctrlsService")],e.prototype,"ctrlsService",void 0),Kd([H],e.prototype,"init",null),e=n=Kd([z("focusService")],e)}(jt),Zd=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Jd=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},Qd=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},tp=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Qd(arguments[e]));return t};!function(t){t[t.vertical=0]="vertical",t[t.horizontal=1]="horizontal"}(Ed||(Ed={}));var ep,np=0,ip=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.popupList=[],e}var n;return Zd(e,t),n=e,e.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady((function(e){t.gridCtrl=e.gridCtrl,t.addManagedListener(t.gridCtrl,zt.EVENT_KEYBOARD_FOCUS,(function(){t.popupList.forEach((function(t){return t.element.classList.add(qd.AG_KEYBOARD_FOCUS)}))})),t.addManagedListener(t.gridCtrl,zt.EVENT_MOUSE_FOCUS,(function(){t.popupList.forEach((function(t){return t.element.classList.remove(qd.AG_KEYBOARD_FOCUS)}))}))}))},e.prototype.getPopupParent=function(){var t=this.gridOptionsService.get("popupParent");return t||this.gridCtrl.getGui()},e.prototype.positionPopupForMenu=function(t){var e=t.eventSource.getBoundingClientRect(),n=this.getParentRect(),i=this.keepXYWithinBounds(t.ePopup,e.top-n.top,Ed.vertical),o=t.ePopup.clientWidth>0?t.ePopup.clientWidth:200;t.ePopup.style.minWidth=o+"px";var r,s=n.right-n.left-o;function a(){return e.right-n.left-2}function l(){return e.left-n.left-o}this.gridOptionsService.is("enableRtl")?((r=l())<0&&(r=a()),r>s&&(r=0)):((r=a())>s&&(r=l()),r<0&&(r=0)),t.ePopup.style.left=r+"px",t.ePopup.style.top=i+"px"},e.prototype.positionPopupUnderMouseEvent=function(t){var e=this,n=t.ePopup,i=t.nudgeX,o=t.nudgeY,r=t.skipObserver;this.positionPopup({ePopup:n,nudgeX:i,nudgeY:o,keepWithinBounds:!0,skipObserver:r,updatePosition:function(){return e.calculatePointerAlign(t.mouseEvent)},postProcessCallback:function(){return e.callPostProcessPopup(t.type,t.ePopup,null,t.mouseEvent,t.column,t.rowNode)}})},e.prototype.calculatePointerAlign=function(t){var e=this.getParentRect();return{x:t.clientX-e.left,y:t.clientY-e.top}},e.prototype.positionPopupByComponent=function(t){var e=this,n=t.eventSource.getBoundingClientRect(),i=t.alignSide||"left",o=t.position||"over",r=this.getParentRect();this.positionPopup({ePopup:t.ePopup,nudgeX:t.nudgeX,nudgeY:t.nudgeY,keepWithinBounds:t.keepWithinBounds,updatePosition:function(){var e=n.left-r.left;return"right"===i&&(e-=t.ePopup.offsetWidth-n.width),{x:e,y:"over"===o?n.top-r.top:n.top-r.top+n.height}},postProcessCallback:function(){return e.callPostProcessPopup(t.type,t.ePopup,t.eventSource,null,t.column,t.rowNode)}})},e.prototype.callPostProcessPopup=function(t,e,n,i,o,r){var s=this.gridOptionsService.getCallback("postProcessPopup");s&&s({column:o,rowNode:r,ePopup:e,type:t,eventSource:n,mouseEvent:i})},e.prototype.positionPopup=function(t){var e=this,i=t.ePopup,o=t.keepWithinBounds,r=t.nudgeX,s=t.nudgeY,a=t.skipObserver,l=t.updatePosition,c={width:0,height:0},u=function(n){void 0===n&&(n=!1);var a=l(),u=a.x,h=a.y;n&&i.clientWidth===c.width&&i.clientHeight===c.height||(c.width=i.clientWidth,c.height=i.clientHeight,r&&(u+=r),s&&(h+=s),o&&(u=e.keepXYWithinBounds(i,u,Ed.horizontal),h=e.keepXYWithinBounds(i,h,Ed.vertical)),i.style.left=u+"px",i.style.top=h+"px",t.postProcessCallback&&t.postProcessCallback())};if(u(),!a){var h=this.resizeObserverService.observeResize(i,(function(){return u(!0)}));setTimeout((function(){return h()}),n.WAIT_FOR_POPUP_CONTENT_RESIZE)}},e.prototype.getActivePopups=function(){return this.popupList.map((function(t){return t.element}))},e.prototype.getPopupList=function(){return this.popupList},e.prototype.getParentRect=function(){var t=this.gridOptionsService.getDocument(),e=this.getPopupParent();e===t.body?e=t.documentElement:"static"===getComputedStyle(e).position&&(e=e.offsetParent);var n=getComputedStyle(e),i=e.getBoundingClientRect();return{top:i.top+parseFloat(n.borderTopWidth)||0,left:i.left+parseFloat(n.borderLeftWidth)||0,right:i.right+parseFloat(n.borderRightWidth)||0,bottom:i.bottom+parseFloat(n.borderBottomWidth)||0}},e.prototype.keepXYWithinBounds=function(t,e,n){var i=n===Ed.vertical,o=i?"clientHeight":"clientWidth",r=i?"top":"left",s=i?"offsetHeight":"offsetWidth",a=i?"scrollTop":"scrollLeft",l=this.gridOptionsService.getDocument(),c=l.documentElement,u=this.getPopupParent(),h=u.getBoundingClientRect(),d=l.documentElement.getBoundingClientRect(),p=u===l.body,f=t[s],g=p?(i?hi:di)(c)+c[a]:u[o];p&&(g-=Math.abs(d[r]-h[r]));var m=g-f;return Math.min(Math.max(e,0),Math.abs(m))},e.prototype.keepPopupPositionedRelativeTo=function(t){var e=this,n=this.getPopupParent(),i=n.getBoundingClientRect(),o=t.element.getBoundingClientRect(),r=i.top-o.top,s=i.left-o.left,a=r,l=s,c=t.ePopup.style.top,u=parseInt(c.substring(0,c.length-1),10),h=t.ePopup.style.left,d=parseInt(h.substring(0,h.length-1),10);return new ro((function(i){e.getFrameworkOverrides().setInterval((function(){var i=n.getBoundingClientRect(),o=t.element.getBoundingClientRect();if(0==o.top&&0==o.left&&0==o.height&&0==o.width)t.hidePopup();else{var c=i.top-o.top;if(c!=a){var h=e.keepXYWithinBounds(t.ePopup,u+r-c,Ed.vertical);t.ePopup.style.top=h+"px"}a=c;var p=i.left-o.left;if(p!=l){var f=e.keepXYWithinBounds(t.ePopup,d+s-p,Ed.horizontal);t.ePopup.style.left=f+"px"}l=p}}),200).then((function(t){i((function(){null!=t&&window.clearInterval(t)}))}))}))},e.prototype.addPopup=function(t){var e,n=this,i=t.modal,o=t.eChild,r=t.closeOnEsc,s=t.closedCallback,a=t.click,l=t.alwaysOnTop,c=t.afterGuiAttached,u=t.positionCallback,h=t.anchorToElement,d=t.ariaLabel,p=this.gridOptionsService.getDocument(),f=new ro((function(t){return t((function(){}))}));if(!p)return console.warn("AG Grid: could not find the document, document is empty"),{hideFunc:function(){},stopAnchoringPromise:f};var g=this.popupList.findIndex((function(t){return t.element===o}));if(-1!==g){var m=this.popupList[g];return{hideFunc:m.hideFunc,stopAnchoringPromise:m.stopAnchoringPromise}}var _=this.getPopupParent();null==o.style.top&&(o.style.top="0px"),null==o.style.left&&(o.style.left="0px");var y=document.createElement("div"),v=this.environment.getTheme().allThemes;v.length&&(e=y.classList).add.apply(e,tp(v)),y.classList.add("ag-popup"),o.classList.add(this.gridOptionsService.is("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child"),o.hasAttribute("role")||ze(o,"dialog"),qe(o,d),this.focusService.isKeyboardMode()&&o.classList.add(qd.AG_KEYBOARD_FOCUS),y.appendChild(o),_.appendChild(y),l?this.setAlwaysOnTop(y,!0):this.bringPopupToFront(y);var C=!1,b=function(t){y.contains(p.activeElement)&&(t.key===Vi.ESCAPE&&w({keyboardEvent:t}))},E=function(t){return w({mouseEvent:t})},S=function(t){return w({touchEvent:t})},w=function(t){void 0===t&&(t={});var e=t.mouseEvent,i=t.touchEvent,r=t.keyboardEvent;n.isEventFromCurrentPopup({mouseEvent:e,touchEvent:i},o)||n.isEventSameChainAsOriginalEvent({originalMouseEvent:a,mouseEvent:e,touchEvent:i})||C||(C=!0,_.removeChild(y),p.removeEventListener("keydown",b),p.removeEventListener("mousedown",E),p.removeEventListener("touchstart",S),p.removeEventListener("contextmenu",E),n.eventService.removeEventListener(zt.EVENT_DRAG_STARTED,E),s&&s(e||i||r),n.popupList=n.popupList.filter((function(t){return t.element!==o})),f&&f.then((function(t){return t&&t()})))};return c&&c({hidePopup:w}),window.setTimeout((function(){r&&p.addEventListener("keydown",b),i&&(p.addEventListener("mousedown",E),n.eventService.addEventListener(zt.EVENT_DRAG_STARTED,E),p.addEventListener("touchstart",S),p.addEventListener("contextmenu",E))}),0),u&&u(),h&&(f=this.keepPopupPositionedRelativeTo({element:h,ePopup:o,hidePopup:w})),this.popupList.push({element:o,wrapper:y,hideFunc:w,stopAnchoringPromise:f,instanceId:np++,isAnchored:!!h}),{hideFunc:w,stopAnchoringPromise:f}},e.prototype.hasAnchoredPopup=function(){return this.popupList.some((function(t){return t.isAnchored}))},e.prototype.isEventFromCurrentPopup=function(t,e){var n=t.mouseEvent,i=t.touchEvent,o=n||i;if(!o)return!1;var r=this.popupList.findIndex((function(t){return t.element===e}));if(-1===r)return!1;for(var s=r;s<this.popupList.length;s++){if(Lt(this.popupList[s].element,o))return!0}return this.isElementWithinCustomPopup(o.target)},e.prototype.isElementWithinCustomPopup=function(t){for(var e=this.gridOptionsService.getDocument();t&&t!==e.body;){if(t.classList.contains("ag-custom-component-popup")||null===t.parentElement)return!0;t=t.parentElement}return!1},e.prototype.isEventSameChainAsOriginalEvent=function(t){var e=t.originalMouseEvent,n=t.mouseEvent,i=t.touchEvent,o=null;if(n?o=n:i&&(o=i.touches[0]),o&&e){var r=n?n.screenX:0,s=n?n.screenY:0,a=Math.abs(e.screenX-r)<5,l=Math.abs(e.screenY-s)<5;if(a&&l)return!0}return!1},e.prototype.getWrapper=function(t){for(;!t.classList.contains("ag-popup")&&t.parentElement;)t=t.parentElement;return t.classList.contains("ag-popup")?t:null},e.prototype.setAlwaysOnTop=function(t,e){var n=this.getWrapper(t);n&&(n.classList.toggle("ag-always-on-top",!!e),e&&this.bringPopupToFront(n))},e.prototype.bringPopupToFront=function(t){var e=this.getPopupParent(),n=Array.prototype.slice.call(e.querySelectorAll(".ag-popup")),i=n.length,o=Array.prototype.slice.call(e.querySelectorAll(".ag-popup.ag-always-on-top")),r=o.length,s=this.getWrapper(t);if(s&&!(i<=1)&&e.contains(t)){var a=n.indexOf(s),l=s.querySelectorAll("div"),c=[];if(l.forEach((function(t){0!==t.scrollTop&&c.push([t,t.scrollTop])})),r)s.classList.contains("ag-always-on-top")?a!==i-1&&ft(o).insertAdjacentElement("afterend",s):a!==i-r-1&&o[0].insertAdjacentElement("beforebegin",s);else a!==i-1&&ft(n).insertAdjacentElement("afterend",s);for(;c.length;){var u=c.pop();u[0].scrollTop=u[1]}var h={type:"popupToFront",api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,eWrapper:s};this.eventService.dispatchEvent(h)}},e.WAIT_FOR_POPUP_CONTENT_RESIZE=200,Jd([K("focusService")],e.prototype,"focusService",void 0),Jd([K("ctrlsService")],e.prototype,"ctrlsService",void 0),Jd([K("resizeObserverService")],e.prototype,"resizeObserverService",void 0),Jd([H],e.prototype,"postConstruct",null),e=n=Jd([z("popupService")],e)}(jt),op=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),rp=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},sp=function(t){function e(n,i,o){void 0===n&&(n="default"),void 0===i&&(i="listbox");var r=t.call(this,e.getTemplate(n))||this;return r.cssIdentifier=n,r.ariaRole=i,r.listName=o,r.renderedRows=new Map,r.rowHeight=20,r}return op(e,t),e.prototype.postConstruct=function(){var t=this;this.addScrollListener(),this.rowHeight=this.getItemHeight(),this.addResizeObserver(),this.initialiseTabGuard({onFocusIn:function(e){return t.onFocusIn(e)},onFocusOut:function(e){return t.onFocusOut(e)},focusInnerElement:function(e){return t.focusInnerElement(e)},onTabKeyDown:function(e){return t.onTabKeyDown(e)},handleKeyDown:function(e){return t.handleKeyDown(e)}}),this.setAriaProperties(),this.addManagedListener(this.eventService,zt.EVENT_GRID_STYLES_CHANGED,this.onGridStylesChanged.bind(this))},e.prototype.onGridStylesChanged=function(){this.rowHeight=this.getItemHeight(),this.refresh()},e.prototype.setAriaProperties=function(){var t=this.localeService.getLocaleTextFunc()("ariaDefaultListName",this.listName||"List"),e=this.eContainer;ze(e,this.ariaRole),qe(e,t)},e.prototype.addResizeObserver=function(){var t=this,e=this.resizeObserverService.observeResize(this.getGui(),(function(){return t.drawVirtualRows()}));this.addDestroyFunc(e)},e.prototype.focusInnerElement=function(t){this.focusRow(t?this.model.getRowCount()-1:0)},e.prototype.onFocusIn=function(t){var e=t.target;return e.classList.contains("ag-virtual-list-item")&&(this.lastFocusedRowIndex=Xe(e)-1),!1},e.prototype.onFocusOut=function(t){return this.getFocusableElement().contains(t.relatedTarget)||(this.lastFocusedRowIndex=null),!1},e.prototype.handleKeyDown=function(t){switch(t.key){case Vi.UP:case Vi.DOWN:this.navigate(t.key===Vi.UP)&&t.preventDefault()}},e.prototype.onTabKeyDown=function(t){this.navigate(t.shiftKey)?t.preventDefault():this.forceFocusOutOfContainer(t.shiftKey)},e.prototype.navigate=function(t){if(null==this.lastFocusedRowIndex)return!1;var e=this.lastFocusedRowIndex+(t?-1:1);return!(e<0||e>=this.model.getRowCount())&&(this.focusRow(e),!0)},e.prototype.getLastFocusedRow=function(){return this.lastFocusedRowIndex},e.prototype.focusRow=function(t){var e=this;this.ensureIndexVisible(t),window.setTimeout((function(){if(e.isAlive()){var n=e.renderedRows.get(t);n&&n.eDiv.focus()}}),10)},e.prototype.getComponentAt=function(t){var e=this.renderedRows.get(t);return e&&e.rowComponent},e.prototype.forEachRenderedRow=function(t){this.renderedRows.forEach((function(e,n){return t(e.rowComponent,n)}))},e.getTemplate=function(t){return'\n            <div class="ag-virtual-list-viewport ag-'+t+'-virtual-list-viewport" role="presentation">\n                <div class="ag-virtual-list-container ag-'+t+'-virtual-list-container" ref="eContainer"></div>\n            </div>'},e.prototype.getItemHeight=function(){return this.environment.getListItemHeight()},e.prototype.ensureIndexVisible=function(t){var e=this.model.getRowCount();if("number"!=typeof t||t<0||t>=e)console.warn("AG Grid: invalid row index for ensureIndexVisible: "+t);else{var n=t*this.rowHeight,i=n+this.rowHeight,o=this.getGui(),r=o.scrollTop,s=o.offsetHeight,a=r+s<i;if(r>n)o.scrollTop=n;else if(a){var l=i-s;o.scrollTop=l}}},e.prototype.setComponentCreator=function(t){this.componentCreator=t},e.prototype.setComponentUpdater=function(t){this.componentUpdater=t},e.prototype.getRowHeight=function(){return this.rowHeight},e.prototype.getScrollTop=function(){return this.getGui().scrollTop},e.prototype.setRowHeight=function(t){this.rowHeight=t,this.refresh()},e.prototype.refresh=function(t){var e=this;if(null!=this.model&&this.isAlive()){var n=this.model.getRowCount();this.eContainer.style.height=n*this.rowHeight+"px",F((function(){return e.eContainer.clientHeight>=n*e.rowHeight}),(function(){e.isAlive()&&(e.canSoftRefresh(t)?e.drawVirtualRows(!0):(e.clearVirtualRows(),e.drawVirtualRows()))}))}},e.prototype.canSoftRefresh=function(t){return!!(t&&this.renderedRows.size&&"function"==typeof this.model.areRowsEqual&&this.componentUpdater)},e.prototype.clearVirtualRows=function(){var t=this;this.renderedRows.forEach((function(e,n){return t.removeRow(n)}))},e.prototype.drawVirtualRows=function(t){if(this.isAlive()){var e=this.getGui(),n=e.scrollTop,i=n+e.offsetHeight,o=Math.floor(n/this.rowHeight),r=Math.floor(i/this.rowHeight);this.ensureRowsRendered(o,r,t)}},e.prototype.ensureRowsRendered=function(t,e,n){var i=this;this.renderedRows.forEach((function(n,o){(o<t||o>e)&&o!==i.lastFocusedRowIndex&&i.removeRow(o)})),n&&this.refreshRows();for(var o=t;o<=e;o++)this.renderedRows.has(o)||o<this.model.getRowCount()&&this.insertRow(o)},e.prototype.insertRow=function(t){var e=this,n=this.model.getRow(t),i=document.createElement("div");if(i.classList.add("ag-virtual-list-item","ag-"+this.cssIdentifier+"-virtual-list-item"),ze(i,"tree"===this.ariaRole?"treeitem":"option"),sn(i,this.model.getRowCount()),an(i,t+1),i.setAttribute("tabindex","-1"),"function"==typeof this.model.isRowSelected){var o=this.model.isRowSelected(t);mn(i,!!o),_n(i,o)}i.style.height=this.rowHeight+"px",i.style.top=this.rowHeight*t+"px";var r=this.componentCreator(n,i);r.addGuiEventListener("focusin",(function(){return e.lastFocusedRowIndex=t})),i.appendChild(r.getGui()),this.renderedRows.has(t-1)?this.renderedRows.get(t-1).eDiv.insertAdjacentElement("afterend",i):this.renderedRows.has(t+1)?this.renderedRows.get(t+1).eDiv.insertAdjacentElement("beforebegin",i):this.eContainer.appendChild(i),this.renderedRows.set(t,{rowComponent:r,eDiv:i,value:n})},e.prototype.removeRow=function(t){var e=this.renderedRows.get(t);this.eContainer.removeChild(e.eDiv),this.destroyBean(e.rowComponent),this.renderedRows.delete(t)},e.prototype.refreshRows=function(){var t=this,e=this.model.getRowCount();this.renderedRows.forEach((function(n,i){var o,r;if(i>=e)t.removeRow(i);else{var s=t.model.getRow(i);(null===(r=(o=t.model).areRowsEqual)||void 0===r?void 0:r.call(o,n.value,s))?t.componentUpdater(s,n.rowComponent):t.removeRow(i)}}))},e.prototype.addScrollListener=function(){var t=this;this.addGuiEventListener("scroll",(function(){return t.drawVirtualRows()}),{passive:!0})},e.prototype.setModel=function(t){this.model=t},e.prototype.destroy=function(){this.isAlive()&&(this.clearVirtualRows(),t.prototype.destroy.call(this))},rp([K("resizeObserverService")],e.prototype,"resizeObserverService",void 0),rp([mo("eContainer")],e.prototype,"eContainer",void 0),rp([H],e.prototype,"postConstruct",null),e}(Pd),ap=["mouseover","mouseout","mouseenter","mouseleave"],lp=["touchstart","touchend","touchmove","touchcancel"],cp=function(){function t(){this.isOutsideAngular=function(t){return bt(ap,t)}}return t.prototype.setTimeout=function(t,e){window.setTimeout(t,e)},t.prototype.setInterval=function(t,e){return new ro((function(n){n(window.setInterval(t,e))}))},t.prototype.addEventListener=function(t,e,n,i){var o=bt(lp,e);t.addEventListener(e,n,{capture:!!i,passive:o})},t.prototype.dispatchEvent=function(t,e,n){e()},t.prototype.frameworkComponent=function(t){return null},t.prototype.isFrameworkComponent=function(t){return!1},t}(),up=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),hp=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},dp=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},pp=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(dp(arguments[e]));return t},fp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return up(e,t),e.prototype.getNextCellToFocus=function(t,e,n){return void 0===n&&(n=!1),n?this.getNextCellToFocusWithCtrlPressed(t,e):this.getNextCellToFocusWithoutCtrlPressed(t,e)},e.prototype.getNextCellToFocusWithCtrlPressed=function(t,e){var n,i,o=t===Vi.UP,r=t===Vi.DOWN,s=t===Vi.LEFT;if(o||r)i=o?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow(),n=e.column;else{var a=this.columnModel.getAllDisplayedColumns(),l=this.gridOptionsService.is("enableRtl");i=e.rowIndex,n=s!==l?a[0]:ft(a)}return{rowIndex:i,rowPinned:null,column:n}},e.prototype.getNextCellToFocusWithoutCtrlPressed=function(t,e){for(var n=e,i=!1;!i;){switch(t){case Vi.UP:n=this.getCellAbove(n);break;case Vi.DOWN:n=this.getCellBelow(n);break;case Vi.RIGHT:n=this.gridOptionsService.is("enableRtl")?this.getCellToLeft(n):this.getCellToRight(n);break;case Vi.LEFT:n=this.gridOptionsService.is("enableRtl")?this.getCellToRight(n):this.getCellToLeft(n);break;default:n=null,console.warn("AG Grid: unknown key for navigation "+t)}i=!n||this.isCellGoodToFocusOn(n)}return n},e.prototype.isCellGoodToFocusOn=function(t){var e,n=t.column;switch(t.rowPinned){case"top":e=this.pinnedRowModel.getPinnedTopRow(t.rowIndex);break;case"bottom":e=this.pinnedRowModel.getPinnedBottomRow(t.rowIndex);break;default:e=this.rowModel.getRow(t.rowIndex)}return!!e&&!n.isSuppressNavigable(e)},e.prototype.getCellToLeft=function(t){if(!t)return null;var e=this.columnModel.getDisplayedColBefore(t.column);return e?{rowIndex:t.rowIndex,column:e,rowPinned:t.rowPinned}:null},e.prototype.getCellToRight=function(t){if(!t)return null;var e=this.columnModel.getDisplayedColAfter(t.column);return e?{rowIndex:t.rowIndex,column:e,rowPinned:t.rowPinned}:null},e.prototype.getRowBelow=function(t){var e=t.rowIndex,n=t.rowPinned;if(this.isLastRowInContainer(t))switch(n){case"bottom":return null;case"top":return this.rowModel.isRowsToRender()?{rowIndex:this.paginationProxy.getPageFirstRow(),rowPinned:null}:this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;default:return this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null}var i=this.rowModel.getRow(t.rowIndex),o=this.getNextStickyPosition(i);return o||{rowIndex:e+1,rowPinned:n}},e.prototype.getNextStickyPosition=function(t,e){if(this.gridOptionsService.is("groupRowsSticky")&&t&&t.sticky){var n=pp(this.rowRenderer.getStickyTopRowCtrls()).sort((function(t,e){return t.getRowNode().rowIndex-e.getRowNode().rowIndex})),i=e?-1:1,o=n.findIndex((function(e){return e.getRowNode().rowIndex===t.rowIndex})),r=n[o+i];return r?{rowIndex:r.getRowNode().rowIndex,rowPinned:null}:void 0}},e.prototype.getCellBelow=function(t){if(!t)return null;var e=this.getRowBelow(t);return e?{rowIndex:e.rowIndex,column:t.column,rowPinned:e.rowPinned}:null},e.prototype.isLastRowInContainer=function(t){var e=t.rowPinned,n=t.rowIndex;return"top"===e?this.pinnedRowModel.getPinnedTopRowData().length-1<=n:"bottom"===e?this.pinnedRowModel.getPinnedBottomRowData().length-1<=n:this.paginationProxy.getPageLastRow()<=n},e.prototype.getRowAbove=function(t){var e=t.rowIndex,n=t.rowPinned;if(n?0===e:e===this.paginationProxy.getPageFirstRow())return"top"===n?null:n&&this.rowModel.isRowsToRender()?this.getLastBodyCell():this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null;var i=this.rowModel.getRow(t.rowIndex),o=this.getNextStickyPosition(i,!0);return o||{rowIndex:e-1,rowPinned:n}},e.prototype.getCellAbove=function(t){if(!t)return null;var e=this.getRowAbove({rowIndex:t.rowIndex,rowPinned:t.rowPinned});return e?{rowIndex:e.rowIndex,column:t.column,rowPinned:e.rowPinned}:null},e.prototype.getLastBodyCell=function(){return{rowIndex:this.paginationProxy.getPageLastRow(),rowPinned:null}},e.prototype.getLastFloatingTopRow=function(){return{rowIndex:this.pinnedRowModel.getPinnedTopRowData().length-1,rowPinned:"top"}},e.prototype.getNextTabbedCell=function(t,e){return e?this.getNextTabbedCellBackwards(t):this.getNextTabbedCellForwards(t)},e.prototype.getNextTabbedCellForwards=function(t){var e=this.columnModel.getAllDisplayedColumns(),n=t.rowIndex,i=t.rowPinned,o=this.columnModel.getDisplayedColAfter(t.column);if(!o){o=e[0];var s=this.getRowBelow(t);if(r(s))return null;if(!s.rowPinned&&!this.paginationProxy.isRowInPage(s))return null;n=s?s.rowIndex:null,i=s?s.rowPinned:null}return{rowIndex:n,column:o,rowPinned:i}},e.prototype.getNextTabbedCellBackwards=function(t){var e=this.columnModel.getAllDisplayedColumns(),n=t.rowIndex,i=t.rowPinned,o=this.columnModel.getDisplayedColBefore(t.column);if(!o){o=ft(e);var s=this.getRowAbove({rowIndex:t.rowIndex,rowPinned:t.rowPinned});if(r(s))return null;if(!s.rowPinned&&!this.paginationProxy.isRowInPage(s))return null;n=s?s.rowIndex:null,i=s?s.rowPinned:null}return{rowIndex:n,column:o,rowPinned:i}},hp([K("columnModel")],e.prototype,"columnModel",void 0),hp([K("rowModel")],e.prototype,"rowModel",void 0),hp([K("rowRenderer")],e.prototype,"rowRenderer",void 0),hp([K("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),hp([K("paginationProxy")],e.prototype,"paginationProxy",void 0),e=hp([z("cellNavigationService")],e)}(jt),gp=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),mp=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},_p=function(t,e){return function(n,i){e(n,i,t)}},yp=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.consuming=!1,e}return gp(e,t),e.prototype.setBeans=function(t){this.logger=t.create("AlignedGridsService")},e.prototype.init=function(){this.addManagedListener(this.eventService,zt.EVENT_COLUMN_MOVED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,zt.EVENT_COLUMN_VISIBLE,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,zt.EVENT_COLUMN_PINNED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,zt.EVENT_COLUMN_GROUP_OPENED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,zt.EVENT_COLUMN_RESIZED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,zt.EVENT_BODY_SCROLL,this.fireScrollEvent.bind(this))},e.prototype.fireEvent=function(t){if(!this.consuming){var e=this.gridOptionsService.get("alignedGrids");e&&e.forEach((function(e){if(e.api){var n=e.api.__getAlignedGridService();t(n)}}))}},e.prototype.onEvent=function(t){this.consuming=!0,t(),this.consuming=!1},e.prototype.fireColumnEvent=function(t){this.fireEvent((function(e){e.onColumnEvent(t)}))},e.prototype.fireScrollEvent=function(t){"horizontal"===t.direction&&this.fireEvent((function(e){e.onScrollEvent(t)}))},e.prototype.onScrollEvent=function(t){var e=this;this.onEvent((function(){e.ctrlsService.getGridBodyCtrl().getScrollFeature().setHorizontalScrollPosition(t.left)}))},e.prototype.getMasterColumns=function(t){var e=[];return t.columns?t.columns.forEach((function(t){e.push(t)})):t.column&&e.push(t.column),e},e.prototype.getColumnIds=function(t){var e=[];return t.columns?t.columns.forEach((function(t){e.push(t.getColId())})):t.column&&e.push(t.column.getColId()),e},e.prototype.onColumnEvent=function(t){var e=this;this.onEvent((function(){switch(t.type){case zt.EVENT_COLUMN_MOVED:case zt.EVENT_COLUMN_VISIBLE:case zt.EVENT_COLUMN_PINNED:case zt.EVENT_COLUMN_RESIZED:var n=t;e.processColumnEvent(n);break;case zt.EVENT_COLUMN_GROUP_OPENED:var i=t;e.processGroupOpenedEvent(i);break;case zt.EVENT_COLUMN_PIVOT_CHANGED:console.warn("AG Grid: pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.")}}))},e.prototype.processGroupOpenedEvent=function(t){var e=t.columnGroup,n=null;if(e){var i=e.getGroupId();n=this.columnModel.getProvidedColumnGroup(i)}e&&!n||(this.logger.log("onColumnEvent-> processing "+t+" expanded = "+e.isExpanded()),this.columnModel.setColumnGroupOpened(n,e.isExpanded(),"alignedGridChanged"))},e.prototype.processColumnEvent=function(t){var e,n=this,i=t.column,o=null;if(i&&(o=this.columnModel.getPrimaryColumn(i.getColId())),!i||o){var r=this.getMasterColumns(t);switch(t.type){case zt.EVENT_COLUMN_MOVED:var s=t,a=t.columnApi.getColumnState().map((function(t){return{colId:t.colId}}));this.columnModel.applyColumnState({state:a,applyOrder:!0},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing "+t.type+" toIndex = "+s.toIndex);break;case zt.EVENT_COLUMN_VISIBLE:var l=t;a=t.columnApi.getColumnState().map((function(t){return{colId:t.colId,hide:t.hide}}));this.columnModel.applyColumnState({state:a},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing "+t.type+" visible = "+l.visible);break;case zt.EVENT_COLUMN_PINNED:var c=t;a=t.columnApi.getColumnState().map((function(t){return{colId:t.colId,pinned:t.pinned}}));this.columnModel.applyColumnState({state:a},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing "+t.type+" pinned = "+c.pinned);break;case zt.EVENT_COLUMN_RESIZED:var u=t,h={};r.forEach((function(e){n.logger.log("onColumnEvent-> processing "+t.type+" actualWidth = "+e.getActualWidth()),h[e.getId()]={key:e.getColId(),newWidth:e.getActualWidth()}})),null===(e=u.flexColumns)||void 0===e||e.forEach((function(t){h[t.getId()]&&delete h[t.getId()]})),this.columnModel.setColumnWidths(Object.values(h),!1,u.finished,"alignedGridChanged")}var d=this.ctrlsService.getGridBodyCtrl().isVerticalScrollShowing(),p=this.gridOptionsService.get("alignedGrids");p&&p.forEach((function(t){t.api&&t.api.setAlwaysShowVerticalScroll(d)}))}},mp([K("columnModel")],e.prototype,"columnModel",void 0),mp([K("ctrlsService")],e.prototype,"ctrlsService",void 0),mp([_p(0,q("loggerFactory"))],e.prototype,"setBeans",null),mp([H],e.prototype,"init",null),e=mp([z("alignedGridsService")],e)}(jt),vp=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Cp=function(){return Cp=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Cp.apply(this,arguments)},bp=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},Ep=function(t,e){return function(n,i){e(n,i,t)}},Sp=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},wp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return vp(e,t),e.prototype.setBeans=function(t){this.logger=t.create("selectionService"),this.reset()},e.prototype.init=function(){var t=this;this.groupSelectsChildren=this.gridOptionsService.is("groupSelectsChildren"),this.addManagedPropertyListener("groupSelectsChildren",(function(e){return t.groupSelectsChildren=e.currentValue})),this.rowSelection=this.gridOptionsService.get("rowSelection"),this.addManagedPropertyListener("rowSelection",(function(e){return t.rowSelection=e.currentValue})),this.addManagedListener(this.eventService,zt.EVENT_ROW_SELECTED,this.onRowSelected.bind(this))},e.prototype.isMultiselect=function(){return"multiple"===this.rowSelection},e.prototype.setNodeSelected=function(t){var e,n=t.newValue,i=t.clearSelection,o=t.suppressFinishActions,r=t.rangeSelect;t.event;var s=t.node,a=t.source,l=void 0===a?"api":a,c=this.groupSelectsChildren&&!0===t.groupSelectsFiltered;if(void 0===s.id)return console.warn("AG Grid: cannot select node until id for node is known"),0;if(s.rowPinned)return console.warn("AG Grid: cannot select pinned rows"),0;if(s.footer)return this.setNodeSelected(Cp(Cp({},t),{node:s.sibling}));var u=this.getLastSelectedNode();if(r&&u&&(u!==s&&this.isMultiselect())){var h=this.selectRange(s,u,t.newValue,l);return this.setLastSelectedNode(s),h}var d=0;c&&s.group||s.selectThisNode(n,t.event,l)&&d++;if(this.groupSelectsChildren&&(null===(e=s.childrenAfterGroup)||void 0===e?void 0:e.length)&&(d+=this.selectChildren(s,n,c,l)),!o){if(n&&(i||!this.isMultiselect())&&(d+=this.clearOtherNodes(s,l)),d>0){this.updateGroupsFromChildrenSelections(l);var p={type:zt.EVENT_SELECTION_CHANGED,source:l};this.eventService.dispatchEvent(p)}n&&this.setLastSelectedNode(s)}return d},e.prototype.selectRange=function(t,e,n,i){var o=this;void 0===n&&(n=!0);var r=this.rowModel.getNodesInRangeForSelection(t,e),s=0;r.forEach((function(e){e.group&&o.groupSelectsChildren||!1===n&&t===e||e.selectThisNode(n,void 0,i)&&s++})),this.updateGroupsFromChildrenSelections(i);var a={type:zt.EVENT_SELECTION_CHANGED,source:i};return this.eventService.dispatchEvent(a),s},e.prototype.selectChildren=function(t,e,n,i){var o=n?t.childrenAfterAggFilter:t.childrenAfterGroup;if(no.missing(o))return 0;for(var r=0,s=0;s<o.length;s++)r+=o[s].setSelectedParams({newValue:e,clearSelection:!1,suppressFinishActions:!0,groupSelectsFiltered:n,source:i});return r},e.prototype.setLastSelectedNode=function(t){this.lastSelectedNode=t},e.prototype.getLastSelectedNode=function(){return this.lastSelectedNode},e.prototype.getSelectedNodes=function(){var t=[];return p(this.selectedNodes,(function(e,n){n&&t.push(n)})),t},e.prototype.getSelectedRows=function(){var t=[];return p(this.selectedNodes,(function(e,n){n&&n.data&&t.push(n.data)})),t},e.prototype.getSelectionCount=function(){return Object.values(this.selectedNodes).length},e.prototype.filterFromSelection=function(t){var e={};Object.entries(this.selectedNodes).forEach((function(n){var i=Sp(n,2),o=i[0],r=i[1];r&&t(r)&&(e[o]=r)})),this.selectedNodes=e},e.prototype.updateGroupsFromChildrenSelections=function(t,e){if(!this.groupSelectsChildren)return!1;if("clientSide"!==this.rowModel.getType())return!1;var n=this.rowModel.getRootNode();e||(e=new Xh(!0,n)).setInactive();var i=!1;return e.forEachChangedNodeDepthFirst((function(e){if(e!==n){var o=e.calculateSelectedFromChildren();i=e.selectThisNode(null!==o&&o,void 0,t)||i}})),i},e.prototype.clearOtherNodes=function(t,e){var n=this,i={},o=0;return p(this.selectedNodes,(function(r,s){if(s&&s.id!==t.id){var a=n.selectedNodes[s.id];o+=a.setSelectedParams({newValue:!1,clearSelection:!1,suppressFinishActions:!0,source:e}),n.groupSelectsChildren&&s.parent&&(i[s.parent.id]=s.parent)}})),p(i,(function(t,n){var i=n.calculateSelectedFromChildren();n.selectThisNode(null!==i&&i,void 0,e)})),o},e.prototype.onRowSelected=function(t){var e=t.node;this.groupSelectsChildren&&e.group||(e.isSelected()?this.selectedNodes[e.id]=e:delete this.selectedNodes[e.id])},e.prototype.syncInRowNode=function(t,e){this.syncInOldRowNode(t,e),this.syncInNewRowNode(t)},e.prototype.syncInOldRowNode=function(t,e){if(o(e)&&t.id!==e.id&&e){var n=e.id;this.selectedNodes[n]==t&&(this.selectedNodes[e.id]=e)}},e.prototype.syncInNewRowNode=function(t){o(this.selectedNodes[t.id])?(t.setSelectedInitialValue(!0),this.selectedNodes[t.id]=t):t.setSelectedInitialValue(!1)},e.prototype.reset=function(){this.logger.log("reset"),this.selectedNodes={},this.lastSelectedNode=null},e.prototype.getBestCostNodeSelection=function(){if("clientSide"===this.rowModel.getType()){var t=this.rowModel.getTopLevelNodes();if(null!==t){var e=[];return function t(n){for(var i=0,o=n.length;i<o;i++){var r=n[i];if(r.isSelected())e.push(r);else{var s=r;s.group&&s.children&&t(s.children)}}}(t),e}}},e.prototype.isEmpty=function(){var t=0;return p(this.selectedNodes,(function(e,n){n&&t++})),0===t},e.prototype.deselectAllRowNodes=function(t){var e=function(t){return t.selectThisNode(!1,void 0,i)},n="clientSide"===this.rowModel.getType(),i=t.source,o=t.justFiltered,r=t.justCurrentPage;if(r||o){if(!n)return void console.error("AG Grid: selecting just filtered only works when gridOptions.rowModelType='clientSide'");this.getNodesToSelect(o,r).forEach(e)}else p(this.selectedNodes,(function(t,n){n&&e(n)})),this.reset();n&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(i);var s={type:zt.EVENT_SELECTION_CHANGED,source:i};this.eventService.dispatchEvent(s)},e.prototype.getSelectAllState=function(t,e){var n=this,i=0,o=0;return this.getNodesToSelect(t,e).forEach((function(t){n.groupSelectsChildren&&t.group||(t.isSelected()?i++:t.selectable&&o++)})),(0!==i||0!==o)&&(i>0&&o>0?null:i>0)},e.prototype.getNodesToSelect=function(t,e){var n=this;if(void 0===t&&(t=!1),void 0===e&&(e=!1),"clientSide"!==this.rowModel.getType())throw new Error("selectAll only available when rowModelType='clientSide', ie not "+this.rowModel.getType());var i=[];if(e)return this.paginationProxy.forEachNodeOnPage((function(t){if(t.group)if(t.expanded)n.groupSelectsChildren||i.push(t);else{var e=function(t){var n;i.push(t),(null===(n=t.childrenAfterFilter)||void 0===n?void 0:n.length)&&t.childrenAfterFilter.forEach(e)};e(t)}else i.push(t)})),i;var o=this.rowModel;return t?(o.forEachNodeAfterFilter((function(t){i.push(t)})),i):(o.forEachNode((function(t){i.push(t)})),i)},e.prototype.selectAllRowNodes=function(t){if("clientSide"!==this.rowModel.getType())throw new Error("selectAll only available when rowModelType='clientSide', ie not "+this.rowModel.getType());var e=t.source,n=t.justFiltered,i=t.justCurrentPage;this.getNodesToSelect(n,i).forEach((function(t){return t.selectThisNode(!0,void 0,e)})),"clientSide"===this.rowModel.getType()&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(e);var o={type:zt.EVENT_SELECTION_CHANGED,source:e};this.eventService.dispatchEvent(o)},e.prototype.getServerSideSelectionState=function(){return null},e.prototype.setServerSideSelectionState=function(t){},bp([K("rowModel")],e.prototype,"rowModel",void 0),bp([K("paginationProxy")],e.prototype,"paginationProxy",void 0),bp([Ep(0,q("loggerFactory"))],e.prototype,"setBeans",null),bp([H],e.prototype,"init",null),e=bp([z("selectionService")],e)}(jt),Op=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},xp=function(){function t(){}return t.prototype.sizeColumnsToFit=function(t){void 0===t&&console.error("AG Grid: missing parameter to columnApi.sizeColumnsToFit(gridWidth)"),this.columnModel.sizeColumnsToFit(t,"api")},t.prototype.setColumnGroupOpened=function(t,e){this.columnModel.setColumnGroupOpened(t,e,"api")},t.prototype.getColumnGroup=function(t,e){return this.columnModel.getColumnGroup(t,e)},t.prototype.getProvidedColumnGroup=function(t){return this.columnModel.getProvidedColumnGroup(t)},t.prototype.getDisplayNameForColumn=function(t,e){return this.columnModel.getDisplayNameForColumn(t,e)||""},t.prototype.getDisplayNameForColumnGroup=function(t,e){return this.columnModel.getDisplayNameForColumnGroup(t,e)||""},t.prototype.getColumn=function(t){return this.columnModel.getPrimaryColumn(t)},t.prototype.getColumns=function(){return this.columnModel.getAllPrimaryColumns()},t.prototype.applyColumnState=function(t){return this.columnModel.applyColumnState(t,"api")},t.prototype.getColumnState=function(){return this.columnModel.getColumnState()},t.prototype.resetColumnState=function(){this.columnModel.resetColumnState("api")},t.prototype.getColumnGroupState=function(){return this.columnModel.getColumnGroupState()},t.prototype.setColumnGroupState=function(t){this.columnModel.setColumnGroupState(t,"api")},t.prototype.resetColumnGroupState=function(){this.columnModel.resetColumnGroupState("api")},t.prototype.isPinning=function(){return this.columnModel.isPinningLeft()||this.columnModel.isPinningRight()},t.prototype.isPinningLeft=function(){return this.columnModel.isPinningLeft()},t.prototype.isPinningRight=function(){return this.columnModel.isPinningRight()},t.prototype.getDisplayedColAfter=function(t){return this.columnModel.getDisplayedColAfter(t)},t.prototype.getDisplayedColBefore=function(t){return this.columnModel.getDisplayedColBefore(t)},t.prototype.setColumnVisible=function(t,e){this.columnModel.setColumnVisible(t,e,"api")},t.prototype.setColumnsVisible=function(t,e){this.columnModel.setColumnsVisible(t,e,"api")},t.prototype.setColumnPinned=function(t,e){this.columnModel.setColumnPinned(t,e,"api")},t.prototype.setColumnsPinned=function(t,e){this.columnModel.setColumnsPinned(t,e,"api")},t.prototype.getAllGridColumns=function(){return this.columnModel.getAllGridColumns()},t.prototype.getDisplayedLeftColumns=function(){return this.columnModel.getDisplayedLeftColumns()},t.prototype.getDisplayedCenterColumns=function(){return this.columnModel.getDisplayedCenterColumns()},t.prototype.getDisplayedRightColumns=function(){return this.columnModel.getDisplayedRightColumns()},t.prototype.getAllDisplayedColumns=function(){return this.columnModel.getAllDisplayedColumns()},t.prototype.getAllDisplayedVirtualColumns=function(){return this.columnModel.getViewportColumns()},t.prototype.moveColumn=function(t,e){this.columnModel.moveColumn(t,e,"api")},t.prototype.moveColumnByIndex=function(t,e){this.columnModel.moveColumnByIndex(t,e,"api")},t.prototype.moveColumns=function(t,e){this.columnModel.moveColumns(t,e,"api")},t.prototype.moveRowGroupColumn=function(t,e){this.columnModel.moveRowGroupColumn(t,e)},t.prototype.setColumnAggFunc=function(t,e){this.columnModel.setColumnAggFunc(t,e)},t.prototype.setColumnWidth=function(t,e,n,i){void 0===n&&(n=!0),this.columnModel.setColumnWidths([{key:t,newWidth:e}],!1,n,i)},t.prototype.setColumnWidths=function(t,e,n){void 0===e&&(e=!0),this.columnModel.setColumnWidths(t,!1,e,n)},t.prototype.setPivotMode=function(t){this.columnModel.setPivotMode(t)},t.prototype.isPivotMode=function(){return this.columnModel.isPivotMode()},t.prototype.getPivotResultColumn=function(t,e){return this.columnModel.getSecondaryPivotColumn(t,e)},t.prototype.setValueColumns=function(t){this.columnModel.setValueColumns(t,"api")},t.prototype.getValueColumns=function(){return this.columnModel.getValueColumns()},t.prototype.removeValueColumn=function(t){this.columnModel.removeValueColumn(t,"api")},t.prototype.removeValueColumns=function(t){this.columnModel.removeValueColumns(t,"api")},t.prototype.addValueColumn=function(t){this.columnModel.addValueColumn(t,"api")},t.prototype.addValueColumns=function(t){this.columnModel.addValueColumns(t,"api")},t.prototype.setRowGroupColumns=function(t){this.columnModel.setRowGroupColumns(t,"api")},t.prototype.removeRowGroupColumn=function(t){this.columnModel.removeRowGroupColumn(t,"api")},t.prototype.removeRowGroupColumns=function(t){this.columnModel.removeRowGroupColumns(t,"api")},t.prototype.addRowGroupColumn=function(t){this.columnModel.addRowGroupColumn(t,"api")},t.prototype.addRowGroupColumns=function(t){this.columnModel.addRowGroupColumns(t,"api")},t.prototype.getRowGroupColumns=function(){return this.columnModel.getRowGroupColumns()},t.prototype.setPivotColumns=function(t){this.columnModel.setPivotColumns(t,"api")},t.prototype.removePivotColumn=function(t){this.columnModel.removePivotColumn(t,"api")},t.prototype.removePivotColumns=function(t){this.columnModel.removePivotColumns(t,"api")},t.prototype.addPivotColumn=function(t){this.columnModel.addPivotColumn(t,"api")},t.prototype.addPivotColumns=function(t){this.columnModel.addPivotColumns(t,"api")},t.prototype.getPivotColumns=function(){return this.columnModel.getPivotColumns()},t.prototype.getLeftDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeLeft()},t.prototype.getCenterDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeCentre()},t.prototype.getRightDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeRight()},t.prototype.getAllDisplayedColumnGroups=function(){return this.columnModel.getAllDisplayedTrees()},t.prototype.autoSizeColumn=function(t,e){return this.columnModel.autoSizeColumn(t,e,"api")},t.prototype.autoSizeColumns=function(t,e){this.columnModel.autoSizeColumns({columns:t,skipHeader:e})},t.prototype.autoSizeAllColumns=function(t){this.columnModel.autoSizeAllColumns(t,"api")},t.prototype.setPivotResultColumns=function(t){this.columnModel.setSecondaryColumns(t,"api")},t.prototype.getPivotResultColumns=function(){return this.columnModel.getSecondaryColumns()},t.prototype.cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid=function(){setTimeout(no.removeAllReferences.bind(window,this,"Column API"),100)},t.prototype.getAllColumns=function(){return ae("28.0","getAllColumns","getColumns"),this.getColumns()},t.prototype.getOriginalColumnGroup=function(t){return ae("27.0","getOriginalColumnGroup","getProvidedColumnGroup"),this.columnModel.getProvidedColumnGroup(t)},t.prototype.getPrimaryColumns=function(){return ae("28.0","getPrimaryColumns","getColumns"),this.getColumns()},t.prototype.getSecondaryColumns=function(){return ae("28.0","getSecondaryColumns","getPivotResultColumns"),this.getPivotResultColumns()},t.prototype.setSecondaryColumns=function(t){ae("28.0","setSecondaryColumns","setPivotResultColumns"),this.setPivotResultColumns(t)},t.prototype.getSecondaryPivotColumn=function(t,e){return ae("28.0","getSecondaryPivotColumn","getPivotResultColumn"),this.getPivotResultColumn(t,e)},Op([K("columnModel")],t.prototype,"columnModel",void 0),Op([$],t.prototype,"cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid",null),t=Op([z("columnApi")],t)}(),Pp=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Tp=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},Mp=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.initialised=!1,e}return Pp(e,t),e.prototype.init=function(){var t=this;this.cellExpressions=this.gridOptionsService.is("enableCellExpressions"),this.isTreeData=this.gridOptionsService.is("treeData"),this.initialised=!0,this.eventService.addEventListener(zt.EVENT_CELL_VALUE_CHANGED,(function(e){return t.callColumnCellValueChangedHandler(e)}),this.gridOptionsService.useAsyncEvents()),this.addManagedPropertyListener("treeData",(function(e){return t.isTreeData=e.currentValue}))},e.prototype.getValue=function(t,e,n,i){if(void 0===n&&(n=!1),void 0===i&&(i=!1),this.initialised||this.init(),e){var o,r=t.getColDef(),s=r.field,a=t.getColId(),l=e.data,c=e.groupData&&void 0!==e.groupData[a],u=!i&&e.aggData&&void 0!==e.aggData[a];if(n&&r.filterValueGetter?o=this.executeFilterValueGetter(r.filterValueGetter,l,t,e):this.isTreeData&&u?o=e.aggData[a]:this.isTreeData&&r.valueGetter?o=this.executeValueGetter(r.valueGetter,l,t,e):this.isTreeData&&s&&l?o=E(l,s,t.isFieldContainsDots()):c?o=e.groupData[a]:u?o=e.aggData[a]:r.valueGetter?o=this.executeValueGetter(r.valueGetter,l,t,e):s&&l&&(o=E(l,s,t.isFieldContainsDots())),this.cellExpressions&&"string"==typeof o&&0===o.indexOf("=")){var h=o.substring(1);o=this.executeValueGetter(h,l,t,e)}if(null==o){var d=this.getOpenedGroup(e,t);if(null!=d)return d}return o}},e.prototype.getOpenedGroup=function(t,e){if(this.gridOptionsService.is("showOpenedGroup")&&e.getColDef().showRowGroup)for(var n=e.getColDef().showRowGroup,i=t.parent;null!=i;){if(i.rowGroupColumn&&(!0===n||n===i.rowGroupColumn.getColId()))return i.key;i=i.parent}},e.prototype.setValue=function(t,e,n,i){var s=this.columnModel.getPrimaryColumn(e);if(!t||!s)return!1;r(t.data)&&(t.data={});var a=s.getColDef(),l=a.field,c=a.valueSetter;if(r(l)&&r(c))return console.warn("AG Grid: you need either field or valueSetter set on colDef for editing to work"),!1;var u,h={node:t,data:t.data,oldValue:this.getValue(s,t),newValue:n,colDef:s.getColDef(),column:s,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};if(h.newValue=n,void 0===(u=o(c)?"function"==typeof c?c(h):this.expressionService.evaluate(c,h):this.setValueUsingField(t.data,l,n,s.isFieldContainsDots()))&&(u=!0),!u)return!1;t.resetQuickFilterAggregateText(),this.valueCache.onDataChanged(),h.newValue=this.getValue(s,t);var d={type:zt.EVENT_CELL_VALUE_CHANGED,event:null,rowIndex:t.rowIndex,rowPinned:t.rowPinned,column:h.column,api:h.api,columnApi:h.columnApi,colDef:h.colDef,context:h.context,data:t.data,node:t,oldValue:h.oldValue,newValue:h.newValue,value:h.newValue,source:i};return this.eventService.dispatchEvent(d),!0},e.prototype.callColumnCellValueChangedHandler=function(t){var e=t.colDef.onCellValueChanged;"function"==typeof e&&e({node:t.node,data:t.data,oldValue:t.oldValue,newValue:t.newValue,colDef:t.colDef,column:t.column,api:t.api,columnApi:t.columnApi,context:t.context})},e.prototype.setValueUsingField=function(t,e,n,i){if(!e)return!1;var o=!1;if(i)for(var r=e.split("."),s=t;r.length>0&&s;){var a=r.shift();0===r.length?(o=s[a]==n)||(s[a]=n):s=s[a]}else(o=t[e]==n)||(t[e]=n);return!o},e.prototype.executeFilterValueGetter=function(t,e,n,i){var o={data:e,node:i,column:n,colDef:n.getColDef(),api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,getValue:this.getValueCallback.bind(this,i)};return"function"==typeof t?t(o):this.expressionService.evaluate(t,o)},e.prototype.executeValueGetter=function(t,e,n,i){var o=n.getColId(),r=this.valueCache.getValue(i,o);if(void 0!==r)return r;var s,a={data:e,node:i,column:n,colDef:n.getColDef(),api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,getValue:this.getValueCallback.bind(this,i)};return s="function"==typeof t?t(a):this.expressionService.evaluate(t,a),this.valueCache.setValue(i,o,s),s},e.prototype.getValueCallback=function(t,e){var n=this.columnModel.getPrimaryColumn(e);return n?this.getValue(n,t):null},e.prototype.getKeyForNode=function(t,e){var n=this.getValue(t,e),i=t.getColDef().keyCreator,o=n;i&&(o=i({value:n,colDef:t.getColDef(),column:t,node:e,data:e.data,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context}));return"string"==typeof o||null==o||"[object Object]"===(o=String(o))&&P((function(){console.warn("AG Grid: a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (se AG Grid docs) or b) to toString() on the object to return a key")}),"getKeyForNode - warn about [object,object]"),o},Tp([K("expressionService")],e.prototype,"expressionService",void 0),Tp([K("columnModel")],e.prototype,"columnModel",void 0),Tp([K("valueCache")],e.prototype,"valueCache",void 0),Tp([H],e.prototype,"init",null),e=Tp([z("valueService")],e)}(jt),Dp=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Rp=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},Ap=function(t,e){return function(n,i){e(n,i,t)}},Lp=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.expressionToFunctionCache={},e}return Dp(e,t),e.prototype.setBeans=function(t){this.logger=t.create("ExpressionService")},e.prototype.evaluate=function(t,e){if("string"==typeof t)return this.evaluateExpression(t,e);console.error("AG Grid: value should be either a string or a function",t)},e.prototype.evaluateExpression=function(t,e){try{return this.createExpressionFunction(t)(e.value,e.context,e.oldValue,e.newValue,e.value,e.node,e.data,e.colDef,e.rowIndex,e.api,e.columnApi,e.getValue,e.column,e.columnGroup)}catch(n){return console.log("Processing of the expression failed"),console.log("Expression = "+t),console.log("Params =",e),console.log("Exception = "+n),null}},e.prototype.createExpressionFunction=function(t){if(this.expressionToFunctionCache[t])return this.expressionToFunctionCache[t];var e=this.createFunctionBody(t),n=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, columnApi, getValue, column, columnGroup",e);return this.expressionToFunctionCache[t]=n,n},e.prototype.createFunctionBody=function(t){return t.indexOf("return")>=0?t:"return "+t+";"},Rp([Ap(0,q("loggerFactory"))],e.prototype,"setBeans",null),e=Rp([z("expressionService")],e)}(jt),Ip=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),kp=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},Np=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.templateCache={},e.waitingCallbacks={},e}return Ip(e,t),e.prototype.getTemplate=function(t,e){var n=this.templateCache[t];if(n)return n;var i=this.waitingCallbacks[t],o=this;if(!i){i=[],this.waitingCallbacks[t]=i;var r=new XMLHttpRequest;r.onload=function(){o.handleHttpResult(this,t)},r.open("GET",t),r.send()}return e&&i.push(e),null},e.prototype.handleHttpResult=function(t,e){if(200===t.status&&null!==t.response){this.templateCache[e]=t.response||t.responseText;for(var n=this.waitingCallbacks[e],i=0;i<n.length;i++){(0,n[i])()}}else console.warn("AG Grid: Unable to get template error "+t.status+" - "+e)},e=kp([z("templateService")],e)}(jt),Fp=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Gp=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},Bp=function(t,e){return function(n,i){e(n,i,t)}},jp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Fp(e,t),e.prototype.setBeans=function(t){this.logging=t.is("debug")},e.prototype.create=function(t){return new Up(t,this.isLogging.bind(this))},e.prototype.isLogging=function(){return this.logging},Gp([Bp(0,q("gridOptionsService"))],e.prototype,"setBeans",null),e=Gp([z("loggerFactory")],e)}(jt),Up=function(){function t(t,e){this.name=t,this.isLoggingFunc=e}return t.prototype.isLogging=function(){return this.isLoggingFunc()},t.prototype.log=function(t){this.isLoggingFunc()&&console.log("AG Grid."+this.name+": "+t)},t}(),Vp=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Wp=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},Hp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Vp(e,t),e.prototype.setComp=function(t,e,n){var i=this;this.view=t,this.eGridHostDiv=e,this.eGui=n,this.dragAndDropService.addDropTarget({getContainer:function(){return i.eGui},isInterestedIn:function(t){return t===Ar.HeaderCell||t===Ar.ToolPanel},getIconName:function(){return As.ICON_NOT_ALLOWED}}),this.mouseEventService.stampTopLevelGridCompWithGridInstance(e),this.createManagedBean(new Ya(this.view)),this.addRtlSupport(),this.addManagedListener(this,zt.EVENT_KEYBOARD_FOCUS,(function(){i.view.addOrRemoveKeyboardFocusClass(!0)})),this.addManagedListener(this,zt.EVENT_MOUSE_FOCUS,(function(){i.view.addOrRemoveKeyboardFocusClass(!1)}));var o=this.resizeObserverService.observeResize(this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc((function(){return o()})),this.ctrlsService.registerGridCtrl(this)},e.prototype.isDetailGrid=function(){var t,e=this.focusService.findTabbableParent(this.getGui());return(null===(t=null==e?void 0:e.getAttribute("row-id"))||void 0===t?void 0:t.startsWith("detail"))||!1},e.prototype.showDropZones=function(){return it.isRegistered(J.RowGroupingModule)},e.prototype.showSideBar=function(){return it.isRegistered(J.SideBarModule)},e.prototype.showStatusBar=function(){return it.isRegistered(J.StatusBarModule)},e.prototype.showWatermark=function(){return it.isRegistered(J.EnterpriseCoreModule)},e.prototype.onGridSizeChanged=function(){var t={type:zt.EVENT_GRID_SIZE_CHANGED,clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight};this.eventService.dispatchEvent(t)},e.prototype.addRtlSupport=function(){var t=this.gridOptionsService.is("enableRtl")?"ag-rtl":"ag-ltr";this.view.setRtlClass(t)},e.prototype.destroyGridUi=function(){this.view.destroyGridUi()},e.prototype.getGui=function(){return this.eGui},e.prototype.setResizeCursor=function(t){this.view.setCursor(t?"ew-resize":null)},e.prototype.disableUserSelect=function(t){this.view.setUserSelect(t?"none":null)},e.prototype.focusNextInnerContainer=function(t){var e=this.gridOptionsService.getDocument(),n=this.view.getFocusableContainers(),i=n.findIndex((function(t){return t.contains(e.activeElement)}))+(t?-1:1);return!(i<=0||i>=n.length)&&this.focusService.focusInto(n[i])},e.prototype.focusInnerElement=function(t){var e=this.view.getFocusableContainers(),n=this.columnModel.getAllDisplayedColumns();if(t){if(e.length>1)return this.focusService.focusInto(ft(e),!0);var i=ft(n);if(this.focusService.focusGridView(i,!0))return!0}return 0===this.gridOptionsService.getNum("headerHeight")?this.focusService.focusGridView(n[0]):this.focusService.focusFirstHeader()},e.prototype.forceFocusOutOfContainer=function(t){void 0===t&&(t=!1),this.view.forceFocusOutOfContainer(t)},Wp([K("focusService")],e.prototype,"focusService",void 0),Wp([K("resizeObserverService")],e.prototype,"resizeObserverService",void 0),Wp([K("columnModel")],e.prototype,"columnModel",void 0),Wp([K("ctrlsService")],e.prototype,"ctrlsService",void 0),Wp([K("mouseEventService")],e.prototype,"mouseEventService",void 0),Wp([K("dragAndDropService")],e.prototype,"dragAndDropService",void 0),e}(jt),$p=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),zp=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},Kp=function(t){function e(e){var n=t.call(this)||this;return n.eGridDiv=e,n}return $p(e,t),e.prototype.postConstruct=function(){var t=this;this.logger=this.loggerFactory.create("GridComp");var e={destroyGridUi:function(){return t.destroyBean(t)},setRtlClass:function(e){return t.addCssClass(e)},addOrRemoveKeyboardFocusClass:function(e){return t.addOrRemoveCssClass(qd.AG_KEYBOARD_FOCUS,e)},forceFocusOutOfContainer:this.forceFocusOutOfContainer.bind(this),updateLayoutClasses:this.updateLayoutClasses.bind(this),getFocusableContainers:this.getFocusableContainers.bind(this),setUserSelect:function(e){t.getGui().style.userSelect=null!=e?e:"",t.getGui().style.webkitUserSelect=null!=e?e:""},setCursor:function(e){t.getGui().style.cursor=null!=e?e:""}};this.ctrl=this.createManagedBean(new Hp);var n=this.createTemplate();this.setTemplate(n),this.ctrl.setComp(e,this.eGridDiv,this.getGui()),this.insertGridIntoDom(),this.initialiseTabGuard({onTabKeyDown:function(){},focusInnerElement:function(e){return t.ctrl.focusInnerElement(e)}})},e.prototype.insertGridIntoDom=function(){var t=this,e=this.getGui();this.eGridDiv.appendChild(e),this.addDestroyFunc((function(){t.eGridDiv.removeChild(e),t.logger.log("Grid removed from DOM")}))},e.prototype.updateLayoutClasses=function(t,e){var n=this.eRootWrapperBody.classList;n.toggle(Ia.AUTO_HEIGHT,e.autoHeight),n.toggle(Ia.NORMAL,e.normal),n.toggle(Ia.PRINT,e.print),this.addOrRemoveCssClass(Ia.AUTO_HEIGHT,e.autoHeight),this.addOrRemoveCssClass(Ia.NORMAL,e.normal),this.addOrRemoveCssClass(Ia.PRINT,e.print)},e.prototype.createTemplate=function(){return'<div class="ag-root-wrapper" role="presentation">\n                '+(this.ctrl.showDropZones()?"<ag-grid-header-drop-zones></ag-grid-header-drop-zones>":"")+'\n                <div class="ag-root-wrapper-body" ref="rootWrapperBody" role="presentation">\n                    <ag-grid-body ref="gridBody"></ag-grid-body>\n                    '+(this.ctrl.showSideBar()?'<ag-side-bar ref="sideBar"></ag-side-bar>':"")+"\n                </div>\n                "+(this.ctrl.showStatusBar()?'<ag-status-bar ref="statusBar"></ag-status-bar>':"")+"\n                <ag-pagination></ag-pagination>\n                "+(this.ctrl.showWatermark()?"<ag-watermark></ag-watermark>":"")+"\n            </div>"},e.prototype.getFocusableElement=function(){return this.eRootWrapperBody},e.prototype.getFocusableContainers=function(){var t=[this.gridBodyComp.getGui()];return this.sideBarComp&&t.push(this.sideBarComp.getGui()),t.filter((function(t){return yi(t)}))},zp([K("loggerFactory")],e.prototype,"loggerFactory",void 0),zp([mo("gridBody")],e.prototype,"gridBodyComp",void 0),zp([mo("sideBar")],e.prototype,"sideBarComp",void 0),zp([mo("rootWrapperBody")],e.prototype,"eRootWrapperBody",void 0),zp([H],e.prototype,"postConstruct",null),e}(Pd),Yp=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Xp=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},qp=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},Zp=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(qp(arguments[e]));return t},Jp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var n;return Yp(e,t),n=e,e.prototype.progressSort=function(t,e,n){var i=this.getNextSortDirection(t);this.setSortForColumn(t,i,e,n)},e.prototype.setSortForColumn=function(t,e,n,i){"asc"!==e&&"desc"!==e&&(e=null);var o=[t];if(this.gridOptionsService.isColumnsSortingCoupledToGroup()&&t.getColDef().showRowGroup){t.getColDef().field||(o=[]);var r=this.columnModel.getSourceColumnsForGroupColumn(t),s=null==r?void 0:r.filter((function(t){return t.getColDef().sortable}));s&&(o=Zp(o,s))}o.forEach((function(t){return t.setSort(e,i)})),(n||this.gridOptionsService.is("alwaysMultiSort"))&&!this.gridOptionsService.is("suppressMultiSort")||this.clearSortBarTheseColumns(o,i),this.updateSortIndex(t),this.dispatchSortChangedEvents(i)},e.prototype.updateSortIndex=function(t){var e=this.gridOptionsService.isColumnsSortingCoupledToGroup(),n=this.columnModel.getGroupDisplayColumnForGroup(t.getId()),i=e&&n||t,o=this.getColumnsWithSortingOrdered(!0);this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach((function(t){return t.setSortIndex(null)}));var r=o.filter((function(t){return t!==i}));(i.getSort()?Zp(r,[i]):r).forEach((function(t,e){return t.setSortIndex(e)}))},e.prototype.onSortChanged=function(t){this.dispatchSortChangedEvents(t)},e.prototype.isSortActive=function(){var t=this.columnModel.getPrimaryAndSecondaryAndAutoColumns().filter((function(t){return!!t.getSort()}));return t&&t.length>0},e.prototype.dispatchSortChangedEvents=function(t){var e={type:zt.EVENT_SORT_CHANGED,source:t};this.eventService.dispatchEvent(e)},e.prototype.clearSortBarTheseColumns=function(t,e){this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach((function(n){t.includes(n)||n.setSort(void 0,e)}))},e.prototype.getNextSortDirection=function(t){var e;if(e=t.getColDef().sortingOrder?t.getColDef().sortingOrder:this.gridOptionsService.get("sortingOrder")?this.gridOptionsService.get("sortingOrder"):n.DEFAULT_SORTING_ORDER,!Array.isArray(e)||e.length<=0)return console.warn("AG Grid: sortingOrder must be an array with at least one element, currently it's "+e),null;var i=t.getColDef().field?t.getSort():this.getDisplaySortForColumn(t),o=e[0];if("mixed"!==i){var r=e.indexOf(i),s=r<0,a=r==e.length-1;o=s||a?e[0]:e[r+1]}return n.DEFAULT_SORTING_ORDER.indexOf(o)<0?(console.warn("AG Grid: invalid sort type "+o),null):o},e.prototype.getIndexedSortMap=function(t){var e=this;void 0===t&&(t=!1);var n=this.columnModel.getPrimaryAndSecondaryAndAutoColumns().filter((function(t){return!!t.getSort()}));!t&&this.columnModel.isPivotMode()&&(n=n.filter((function(t){return!!t.getAggFunc()||!t.isPrimary()||e.columnModel.getGroupDisplayColumnForGroup(t.getId())})));var i=this.columnModel.getRowGroupColumns().filter((function(t){return!!t.getSort()})),o=this.gridOptionsService.isColumnsSortingCoupledToGroup()&&!!i.length;o&&(n=Zp(new Set(n.map((function(t){var n;return null!==(n=e.columnModel.getGroupDisplayColumnForGroup(t.getId()))&&void 0!==n?n:t})))));var r={};n.forEach((function(t,e){return r[t.getId()]=e})),n.sort((function(t,e){var n=t.getSortIndex(),i=e.getSortIndex();return null!=n&&null!=i?n-i:null==n&&null==i?r[t.getId()]>r[e.getId()]?1:-1:null==i?-1:1}));var s=new Map;return n.forEach((function(t,e){return s.set(t,e)})),o&&i.forEach((function(t){var n=e.columnModel.getGroupDisplayColumnForGroup(t.getId());s.set(t,s.get(n))})),s},e.prototype.getColumnsWithSortingOrdered=function(t){return void 0===t&&(t=!1),Zp(this.getIndexedSortMap(t).entries()).sort((function(t,e){var n=qp(t,2);n[0];var i=n[1],o=qp(e,2);return o[0],i-o[1]})).map((function(t){return qp(t,1)[0]}))},e.prototype.getSortModel=function(){return this.getColumnsWithSortingOrdered(!0).map((function(t){return{sort:t.getSort(),colId:t.getId()}}))},e.prototype.getSortOptions=function(){return this.getColumnsWithSortingOrdered().map((function(t){return{sort:t.getSort(),column:t}}))},e.prototype.canColumnDisplayMixedSort=function(t){var e=this.gridOptionsService.isColumnsSortingCoupledToGroup(),n=!!t.getColDef().showRowGroup;return e&&n},e.prototype.getDisplaySortForColumn=function(t){var e=this.columnModel.getSourceColumnsForGroupColumn(t);if(!this.canColumnDisplayMixedSort(t)||!(null==e?void 0:e.length))return t.getSort();var n=!!t.getColDef().field?Zp([t],e):e,i=n[0].getSort();return n.every((function(t){return t.getSort()==i}))?i:"mixed"},e.prototype.getDisplaySortIndexForColumn=function(t){return this.getIndexedSortMap().get(t)},e.DEFAULT_SORTING_ORDER=["asc","desc",null],Xp([K("columnModel")],e.prototype,"columnModel",void 0),e=n=Xp([z("sortController")],e)}(jt),Qp=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),tf=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},ef=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Qp(e,t),e.prototype.setMouseOver=function(t){this.selectedColumns=t;var e={type:zt.EVENT_COLUMN_HOVER_CHANGED};this.eventService.dispatchEvent(e)},e.prototype.clearMouseOver=function(){this.selectedColumns=null;var t={type:zt.EVENT_COLUMN_HOVER_CHANGED};this.eventService.dispatchEvent(t)},e.prototype.isHovered=function(t){return!!this.selectedColumns&&this.selectedColumns.indexOf(t)>=0},e=tf([z("columnHoverService")],e)}(jt),nf=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),of=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},rf=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.executeNextFuncs=[],e.executeLaterFuncs=[],e.active=!1,e.animationThreadCount=0,e}return nf(e,t),e.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady((function(e){return t.gridBodyCtrl=e.gridBodyCtrl}))},e.prototype.isActive=function(){return this.active},e.prototype.start=function(){this.active||this.gridOptionsService.is("suppressColumnMoveAnimation")||this.gridOptionsService.is("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0)},e.prototype.finish=function(){this.active&&(this.flush(),this.active=!1)},e.prototype.executeNextVMTurn=function(t){this.active?this.executeNextFuncs.push(t):t()},e.prototype.executeLaterVMTurn=function(t){this.active?this.executeLaterFuncs.push(t):t()},e.prototype.ensureAnimationCssClassPresent=function(){var t=this;this.animationThreadCount++;var e=this.animationThreadCount;this.gridBodyCtrl.setColumnMovingCss(!0),this.executeLaterFuncs.push((function(){t.animationThreadCount===e&&t.gridBodyCtrl.setColumnMovingCss(!1)}))},e.prototype.flush=function(){var t=this.executeNextFuncs;this.executeNextFuncs=[];var e=this.executeLaterFuncs;this.executeLaterFuncs=[],0===t.length&&0===e.length||(window.setTimeout((function(){return t.forEach((function(t){return t()}))}),0),window.setTimeout((function(){return e.forEach((function(t){return t()}))}),300))},of([K("ctrlsService")],e.prototype,"ctrlsService",void 0),of([H],e.prototype,"postConstruct",null),e=of([z("columnAnimationService")],e)}(jt),sf=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),af=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},lf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return sf(e,t),e.prototype.postConstruct=function(){var t=this;this.ctrlsService.whenReady((function(e){t.centerRowContainerCon=e.centerRowContainerCtrl,t.addManagedListener(t.eventService,zt.EVENT_BODY_HEIGHT_CHANGED,t.checkPageSize.bind(t)),t.addManagedListener(t.eventService,zt.EVENT_SCROLL_VISIBILITY_CHANGED,t.checkPageSize.bind(t)),t.checkPageSize()}))},e.prototype.notActive=function(){return!this.gridOptionsService.is("paginationAutoPageSize")||null==this.centerRowContainerCon},e.prototype.checkPageSize=function(){var t=this;if(!this.notActive()){var e=this.centerRowContainerCon.getViewportSizeFeature().getBodyHeight();if(e>0){var n=function(){var n=t.gridOptionsService.getRowHeightAsNumber(),i=Math.floor(e/n);t.gridOptionsService.set("paginationPageSize",i)};this.isBodyRendered?k((function(){return n()}),50)():(n(),this.isBodyRendered=!0)}else this.isBodyRendered=!1}},af([K("ctrlsService")],e.prototype,"ctrlsService",void 0),af([H],e.prototype,"postConstruct",null),e=af([z("paginationAutoPageSizeService")],e)}(jt),cf=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),uf=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},hf=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cacheVersion=0,e}return cf(e,t),e.prototype.init=function(){this.active=this.gridOptionsService.is("valueCache"),this.neverExpires=this.gridOptionsService.is("valueCacheNeverExpires")},e.prototype.onDataChanged=function(){this.neverExpires||this.expire()},e.prototype.expire=function(){this.cacheVersion++},e.prototype.setValue=function(t,e,n){this.active&&(t.__cacheVersion!==this.cacheVersion&&(t.__cacheVersion=this.cacheVersion,t.__cacheData={}),t.__cacheData[e]=n)},e.prototype.getValue=function(t,e){if(this.active&&t.__cacheVersion===this.cacheVersion)return t.__cacheData[e]},uf([H],e.prototype,"init",null),e=uf([z("valueCache")],e)}(jt),df=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),pf=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},ff=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return df(e,t),e.prototype.init=function(){"clientSide"===this.rowModel.getType()&&(this.clientSideRowModel=this.rowModel),this.addManagedListener(this.eventService,zt.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged.bind(this))},e.prototype.onCellValueChanged=function(t){"paste"!==t.source&&this.doChangeDetection(t.node,t.column)},e.prototype.doChangeDetection=function(t,e){if(!this.gridOptionsService.is("suppressChangeDetection")){if(this.clientSideRowModel&&!t.isRowPinned()){var n=this.gridOptionsService.is("aggregateOnlyChangedColumns"),i=new Xh(n,this.clientSideRowModel.getRootNode());i.addParentNode(t.parent,[e]),this.clientSideRowModel.doAggregate(i)}this.rowRenderer.refreshCells()}},pf([K("rowModel")],e.prototype,"rowModel",void 0),pf([K("rowRenderer")],e.prototype,"rowRenderer",void 0),pf([H],e.prototype,"init",null),e=pf([z("changeDetectionService")],e)}(jt),gf=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),mf=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},_f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return gf(e,t),e.prototype.adaptFunction=function(t,e){var n=this.componentMetadataProvider.retrieve(t);return n&&n.functionAdapter?n.functionAdapter(e):null},e.prototype.adaptCellRendererFunction=function(t){return function(){function e(){}return e.prototype.refresh=function(t){return!1},e.prototype.getGui=function(){return this.eGui},e.prototype.init=function(e){var n=t(e),i=typeof n;this.eGui="string"!==i&&"number"!==i&&"boolean"!==i?null!=n?n:vi("<span></span>"):vi("<span>"+n+"</span>")},e}()},e.prototype.doesImplementIComponent=function(t){return!!t&&(t.prototype&&"getGui"in t.prototype)},mf([K("componentMetadataProvider")],e.prototype,"componentMetadataProvider",void 0),e=mf([z("agComponentUtils")],e)}(jt),yf=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),vf=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},Cf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return yf(e,t),e.prototype.postConstruct=function(){this.componentMetaData={dateComponent:{mandatoryMethodList:["getDate","setDate"],optionalMethodList:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel"]},detailCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},headerComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},headerGroupComponent:{mandatoryMethodList:[],optionalMethodList:[]},loadingCellRenderer:{mandatoryMethodList:[],optionalMethodList:[]},loadingOverlayComponent:{mandatoryMethodList:[],optionalMethodList:[]},noRowsOverlayComponent:{mandatoryMethodList:[],optionalMethodList:[]},floatingFilterComponent:{mandatoryMethodList:["onParentModelChanged"],optionalMethodList:["afterGuiAttached"]},floatingFilterWrapperComponent:{mandatoryMethodList:[],optionalMethodList:[]},cellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},cellEditor:{mandatoryMethodList:["getValue"],optionalMethodList:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached"]},innerRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},fullWidthCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},groupRowRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},filter:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged"]},filterComponent:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged"]},statusPanel:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"]},toolPanel:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"]},tooltipComponent:{mandatoryMethodList:[],optionalMethodList:[]}}},e.prototype.retrieve=function(t){return this.componentMetaData[t]},vf([K("agComponentUtils")],e.prototype,"agComponentUtils",void 0),vf([H],e.prototype,"postConstruct",null),e=vf([z("componentMetadataProvider")],e)}(jt),bf=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ef=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},Sf=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},wf=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Sf(arguments[e]));return t},Of={"ag-theme-custom":{headerHeight:25,headerCellMinWidth:24,listItemHeight:20,rowHeight:25,chartMenuPanelWidth:220},"ag-theme-material":{headerHeight:56,headerCellMinWidth:48,listItemHeight:32,rowHeight:48,chartMenuPanelWidth:240},"ag-theme-balham":{headerHeight:32,headerCellMinWidth:24,listItemHeight:24,rowHeight:28,chartMenuPanelWidth:220},"ag-theme-alpine":{headerHeight:48,headerCellMinWidth:36,listItemHeight:24,rowHeight:42,chartMenuPanelWidth:240}},xf={headerHeight:["ag-header-row"],headerCellMinWidth:["ag-header-cell"],listItemHeight:["ag-virtual-list-item"],rowHeight:["ag-row"],chartMenuPanelWidth:["ag-chart-docked-container"]},Pf=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.calculatedSizes={},e}return bf(e,t),e.prototype.postConstruct=function(){var t,e=this,n=null!==(t=this.getTheme().el)&&void 0!==t?t:this.eGridDiv;this.mutationObserver=new MutationObserver((function(){e.calculatedSizes={},e.fireGridStylesChangedEvent()})),this.mutationObserver.observe(n||this.eGridDiv,{attributes:!0,attributeFilter:["class"]})},e.prototype.fireGridStylesChangedEvent=function(){var t={type:zt.EVENT_GRID_STYLES_CHANGED};this.eventService.dispatchEvent(t)},e.prototype.getSassVariable=function(t){var e=this.getTheme(),n=e.themeFamily,i=e.el;if(n&&0===n.indexOf("ag-theme")){this.calculatedSizes||(this.calculatedSizes={}),this.calculatedSizes[n]||(this.calculatedSizes[n]={});var o=this.calculatedSizes[n][t];return null!=o?o:(this.calculatedSizes[n][t]=this.calculateValueForSassProperty(t,n,i),this.calculatedSizes[n][t])}},e.prototype.calculateValueForSassProperty=function(t,e,n){var i,o="ag-theme-"+(e.match("material")?"material":e.match("balham")?"balham":e.match("alpine")?"alpine":"custom"),r=Of[o][t],s=this.gridOptionsService.getDocument();if(n||(n=this.eGridDiv),!xf[t])return r;var a=xf[t],l=s.createElement("div"),c=Array.from(n.classList);(i=l.classList).add.apply(i,wf([e],c)),l.style.position="absolute";var u=a.reduce((function(t,e){var n=s.createElement("div");return n.style.position="static",n.classList.add(e),t.appendChild(n),n}),l),h=0;if(s.body){s.body.appendChild(l);var d=-1!==t.toLowerCase().indexOf("height")?"height":"width";h=parseInt(window.getComputedStyle(u)[d],10),s.body.removeChild(l)}return h||r},e.prototype.isThemeDark=function(){var t=this.getTheme().theme;return!!t&&t.indexOf("dark")>=0},e.prototype.chartMenuPanelWidth=function(){return this.getSassVariable("chartMenuPanelWidth")},e.prototype.getTheme=function(){for(var t=/\bag-(material|(?:theme-([\w\-]*)))\b/g,e=this.eGridDiv,n=null,i=[];e;){if(n=t.exec(e.className)){var o=e.className.match(t);o&&(i=o);break}e=e.parentElement||void 0}if(!n)return{allThemes:i};var r=n[0];return{theme:r,el:e,themeFamily:r.replace(/-dark$/,""),allThemes:i}},e.prototype.getFromTheme=function(t,e){var n;return null!==(n=this.getSassVariable(e))&&void 0!==n?n:t},e.prototype.getDefaultRowHeight=function(){return this.getFromTheme(25,"rowHeight")},e.prototype.getListItemHeight=function(){return this.getFromTheme(20,"listItemHeight")},e.prototype.setRowHeightVariable=function(t){var e=t+"px";this.eGridDiv.style.getPropertyValue("--ag-line-height").trim()!=e&&this.eGridDiv.style.setProperty("--ag-line-height",e)},e.prototype.getMinColWidth=function(){var t=this.getFromTheme(null,"headerCellMinWidth");return o(t)?Math.max(t,10):10},e.prototype.destroy=function(){this.calculatedSizes=null,this.mutationObserver&&this.mutationObserver.disconnect(),t.prototype.destroy.call(this)},Ef([K("eGridDiv")],e.prototype,"eGridDiv",void 0),Ef([H],e.prototype,"postConstruct",null),e=Ef([z("environment")],e)}(jt),Tf=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Mf=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},Df=function(t,e){return function(n,i){e(n,i,t)}},Rf=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.scrollY=0,e.uiBodyHeight=0,e}return Tf(e,t),e.prototype.agWire=function(t){this.logger=t.create("RowContainerHeightService")},e.prototype.postConstruct=function(){this.addManagedListener(this.eventService,zt.EVENT_BODY_HEIGHT_CHANGED,this.updateOffset.bind(this)),this.maxDivHeight=kn(),this.logger.log("maxDivHeight = "+this.maxDivHeight)},e.prototype.isStretching=function(){return this.stretching},e.prototype.getDivStretchOffset=function(){return this.divStretchOffset},e.prototype.updateOffset=function(){if(this.stretching){var t=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition().top,e=this.getUiBodyHeight();(t!==this.scrollY||e!==this.uiBodyHeight)&&(this.scrollY=t,this.uiBodyHeight=e,this.calculateOffset())}},e.prototype.calculateOffset=function(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;var t=this.scrollY/this.maxScrollY,e=t*this.pixelsToShave;this.logger.log("Div Stretch Offset = "+e+" ("+this.pixelsToShave+" * "+t+")"),this.setDivStretchOffset(e)},e.prototype.setUiContainerHeight=function(t){t!==this.uiContainerHeight&&(this.uiContainerHeight=t,this.eventService.dispatchEvent({type:zt.EVENT_ROW_CONTAINER_HEIGHT_CHANGED}))},e.prototype.clearOffset=function(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)},e.prototype.setDivStretchOffset=function(t){var e="number"==typeof t?Math.floor(t):null;this.divStretchOffset!==e&&(this.divStretchOffset=e,this.eventService.dispatchEvent({type:zt.EVENT_HEIGHT_SCALE_CHANGED}))},e.prototype.setModelHeight=function(t){this.modelHeight=t,this.stretching=null!=t&&this.maxDivHeight>0&&t>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()},e.prototype.getUiContainerHeight=function(){return this.uiContainerHeight},e.prototype.getRealPixelPosition=function(t){return t-this.divStretchOffset},e.prototype.getUiBodyHeight=function(){var t=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition();return t.bottom-t.top},e.prototype.getScrollPositionForPixel=function(t){if(this.pixelsToShave<=0)return t;var e=t/(this.modelHeight-this.getUiBodyHeight());return this.maxScrollY*e},Mf([K("ctrlsService")],e.prototype,"ctrlsService",void 0),Mf([Df(0,q("loggerFactory"))],e.prototype,"agWire",null),Mf([H],e.prototype,"postConstruct",null),e=Mf([z("rowContainerHeightService")],e)}(jt),Af=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Lf=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},If=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Af(e,t),e.prototype.init=function(){this.groupSelectsChildren=this.gridOptionsService.is("groupSelectsChildren"),this.isRowSelectableFunc=this.gridOptionsService.get("isRowSelectable")},e.prototype.updateSelectableAfterGrouping=function(t){if(this.isRowSelectableFunc){this.recurseDown(t.childrenAfterGroup,(function(t){return t.childrenAfterGroup}))}},e.prototype.recurseDown=function(t,e){var n=this;t&&t.forEach((function(t){if(t.group){var i;if(t.hasChildren()&&n.recurseDown(e(t),e),n.groupSelectsChildren)i=o((e(t)||[]).find((function(t){return!0===t.selectable})));else i=!!n.isRowSelectableFunc&&n.isRowSelectableFunc(t);t.setRowSelectable(i)}}))},Lf([H],e.prototype,"init",null),e=Lf([z("selectableService")],e)}(jt),kf=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Nf=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},Ff=function(t){function e(){var e=t.call(this)||this;return e.previousAndFirstButtonsDisabled=!1,e.nextButtonDisabled=!1,e.lastButtonDisabled=!1,e.areListenersSetup=!1,e}return kf(e,t),e.prototype.postConstruct=function(){var t=this.gridOptionsService.is("enableRtl");this.setTemplate(this.getTemplate()),this.btFirst.insertAdjacentElement("afterbegin",ji(t?"last":"first",this.gridOptionsService)),this.btPrevious.insertAdjacentElement("afterbegin",ji(t?"next":"previous",this.gridOptionsService)),this.btNext.insertAdjacentElement("afterbegin",ji(t?"previous":"next",this.gridOptionsService)),this.btLast.insertAdjacentElement("afterbegin",ji(t?"first":"last",this.gridOptionsService)),this.addManagedPropertyListener("pagination",this.onPaginationChanged.bind(this)),this.addManagedPropertyListener("suppressPaginationPanel",this.onPaginationChanged.bind(this)),this.onPaginationChanged()},e.prototype.onPaginationChanged=function(){var t=this.gridOptionsService.is("pagination")&&!this.gridOptionsService.is("suppressPaginationPanel");this.setDisplayed(t),t&&(this.setupListeners(),this.enableOrDisableButtons(),this.updateRowLabels(),this.setCurrentPageLabel(),this.setTotalLabels())},e.prototype.setupListeners=function(){var t=this;this.areListenersSetup||(this.addManagedListener(this.eventService,zt.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach((function(e){var n=e.el,i=e.fn;t.addManagedListener(n,"click",i),t.addManagedListener(n,"keydown",(function(t){t.key!==Vi.ENTER&&t.key!==Vi.SPACE||(t.preventDefault(),i())}))})),this.areListenersSetup=!0)},e.prototype.onBtFirst=function(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToFirstPage()},e.prototype.setCurrentPageLabel=function(){var t=this.paginationProxy.getTotalPages()>0,e=this.paginationProxy.getCurrentPage(),n=t?e+1:0;this.lbCurrent.innerHTML=this.formatNumber(n)},e.prototype.formatNumber=function(t){var e=this.gridOptionsService.getCallback("paginationNumberFormatter");if(e)return e({value:t});var n=this.localeService.getLocaleTextFunc();return Hn(t,n("thousandSeparator",","),n("decimalSeparator","."))},e.prototype.getTemplate=function(){var t=this.localeService.getLocaleTextFunc(),e=t("page","Page"),n=t("to","to"),i=t("of","of"),o=t("firstPage","First Page"),r=t("previousPage","Previous Page"),s=t("nextPage","Next Page"),a=t("lastPage","Last Page"),l=this.getCompId();return'<div class="ag-paging-panel ag-unselectable" id="ag-'+l+'">\n                <span class="ag-paging-row-summary-panel" role="status">\n                    <span id="ag-'+l+'-first-row" ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    <span id="ag-'+l+'-to">'+n+'</span>\n                    <span id="ag-'+l+'-last-row" ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    <span id="ag-'+l+'-of">'+i+'</span>\n                    <span id="ag-'+l+'-row-count" ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>\n                </span>\n                <span class="ag-paging-page-summary-panel" role="presentation">\n                    <div ref="btFirst" class="ag-paging-button" role="button" aria-label="'+o+'"></div>\n                    <div ref="btPrevious" class="ag-paging-button" role="button" aria-label="'+r+'"></div>\n                    <span class="ag-paging-description" role="status">\n                        <span id="ag-'+l+'-start-page">'+e+'</span>\n                        <span id="ag-'+l+'-start-page-number" ref="lbCurrent" class="ag-paging-number"></span>\n                        <span id="ag-'+l+'-of-page">'+i+'</span>\n                        <span id="ag-'+l+'-of-page-number" ref="lbTotal" class="ag-paging-number"></span>\n                    </span>\n                    <div ref="btNext" class="ag-paging-button" role="button" aria-label="'+s+'"></div>\n                    <div ref="btLast" class="ag-paging-button" role="button" aria-label="'+a+'"></div>\n                </span>\n            </div>'},e.prototype.onBtNext=function(){this.nextButtonDisabled||this.paginationProxy.goToNextPage()},e.prototype.onBtPrevious=function(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToPreviousPage()},e.prototype.onBtLast=function(){this.lastButtonDisabled||this.paginationProxy.goToLastPage()},e.prototype.enableOrDisableButtons=function(){var t=this.paginationProxy.getCurrentPage(),e=this.paginationProxy.isLastPageFound(),n=this.paginationProxy.getTotalPages();this.previousAndFirstButtonsDisabled=0===t,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);var i=this.isZeroPagesToDisplay(),o=e&&t===n-1;this.nextButtonDisabled=o||i,this.lastButtonDisabled=!e||i||t===n-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)},e.prototype.toggleButtonDisabled=function(t,e){en(t,e),t.classList.toggle("ag-disabled",e),e?t.removeAttribute("tabindex"):t.setAttribute("tabindex","0")},e.prototype.updateRowLabels=function(){var t,e,n=this.paginationProxy.getCurrentPage(),i=this.paginationProxy.getPageSize(),o=this.paginationProxy.isLastPageFound(),r=this.paginationProxy.isLastPageFound()?this.paginationProxy.getMasterRowCount():null;if(this.isZeroPagesToDisplay()?t=e=0:(e=(t=i*n+1)+i-1,o&&e>r&&(e=r)),this.lbFirstRowOnPage.innerHTML=this.formatNumber(t),this.rowNodeBlockLoader.isLoading()){var s=this.localeService.getLocaleTextFunc();this.lbLastRowOnPage.innerHTML=s("pageLastRowUnknown","?")}else this.lbLastRowOnPage.innerHTML=this.formatNumber(e)},e.prototype.isZeroPagesToDisplay=function(){var t=this.paginationProxy.isLastPageFound(),e=this.paginationProxy.getTotalPages();return t&&0===e},e.prototype.setTotalLabels=function(){var t=this.paginationProxy.isLastPageFound(),e=this.paginationProxy.getTotalPages(),n=t?this.paginationProxy.getMasterRowCount():null;if(1===n){var i=this.paginationProxy.getRow(0);if(i&&i.group&&!(i.groupData||i.aggData))return void this.setTotalLabelsToZero()}if(t)this.lbTotal.innerHTML=this.formatNumber(e),this.lbRecordCount.innerHTML=this.formatNumber(n);else{var o=this.localeService.getLocaleTextFunc()("more","more");this.lbTotal.innerHTML=o,this.lbRecordCount.innerHTML=o}},e.prototype.setTotalLabelsToZero=function(){this.lbFirstRowOnPage.innerHTML=this.formatNumber(0),this.lbCurrent.innerHTML=this.formatNumber(0),this.lbLastRowOnPage.innerHTML=this.formatNumber(0),this.lbTotal.innerHTML=this.formatNumber(0),this.lbRecordCount.innerHTML=this.formatNumber(0)},Nf([K("paginationProxy")],e.prototype,"paginationProxy",void 0),Nf([K("rowNodeBlockLoader")],e.prototype,"rowNodeBlockLoader",void 0),Nf([mo("btFirst")],e.prototype,"btFirst",void 0),Nf([mo("btPrevious")],e.prototype,"btPrevious",void 0),Nf([mo("btNext")],e.prototype,"btNext",void 0),Nf([mo("btLast")],e.prototype,"btLast",void 0),Nf([mo("lbRecordCount")],e.prototype,"lbRecordCount",void 0),Nf([mo("lbFirstRowOnPage")],e.prototype,"lbFirstRowOnPage",void 0),Nf([mo("lbLastRowOnPage")],e.prototype,"lbLastRowOnPage",void 0),Nf([mo("lbCurrent")],e.prototype,"lbCurrent",void 0),Nf([mo("lbTotal")],e.prototype,"lbTotal",void 0),Nf([H],e.prototype,"postConstruct",null),e}(go),Gf=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Bf=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};!function(t){t[t.Loading=0]="Loading",t[t.NoRows=1]="NoRows"}(ep||(ep={}));var jf=function(t){function e(){var n=t.call(this,e.TEMPLATE)||this;return n.inProgress=!1,n.destroyRequested=!1,n.manuallyDisplayed=!1,n}return Gf(e,t),e.prototype.updateLayoutClasses=function(t,e){var n=this.eOverlayWrapper.classList;n.toggle(Ia.AUTO_HEIGHT,e.autoHeight),n.toggle(Ia.NORMAL,e.normal),n.toggle(Ia.PRINT,e.print)},e.prototype.postConstruct=function(){this.createManagedBean(new Ya(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.addManagedListener(this.eventService,zt.EVENT_ROW_DATA_UPDATED,this.onRowDataUpdated.bind(this)),this.addManagedListener(this.eventService,zt.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.gridOptionsService.isRowModelType("clientSide")&&!this.gridOptionsService.get("rowData")&&this.showLoadingOverlay(),this.gridApi.registerOverlayWrapperComp(this)},e.prototype.setWrapperTypeClass=function(t){var e=this.eOverlayWrapper.classList;e.toggle("ag-overlay-loading-wrapper",t===ep.Loading),e.toggle("ag-overlay-no-rows-wrapper",t===ep.NoRows)},e.prototype.showLoadingOverlay=function(){if(!this.gridOptionsService.is("suppressLoadingOverlay")){var t=this.userComponentFactory.getLoadingOverlayCompDetails({}).newAgStackInstance();this.showOverlay(t,ep.Loading)}},e.prototype.showNoRowsOverlay=function(){if(!this.gridOptionsService.is("suppressNoRowsOverlay")){var t=this.userComponentFactory.getNoRowsOverlayCompDetails({}).newAgStackInstance();this.showOverlay(t,ep.NoRows)}},e.prototype.showOverlay=function(t,e){var n=this;this.inProgress||(this.setWrapperTypeClass(e),this.destroyActiveOverlay(),this.inProgress=!0,t&&t.then((function(t){n.inProgress=!1,n.eOverlayWrapper.appendChild(t.getGui()),n.activeOverlay=t,n.destroyRequested&&(n.destroyRequested=!1,n.destroyActiveOverlay())})),this.manuallyDisplayed=this.columnModel.isReady()&&!this.paginationProxy.isEmpty(),this.setDisplayed(!0,{skipAriaHidden:!0}))},e.prototype.destroyActiveOverlay=function(){this.inProgress?this.destroyRequested=!0:this.activeOverlay&&(this.activeOverlay=this.getContext().destroyBean(this.activeOverlay),mi(this.eOverlayWrapper))},e.prototype.hideOverlay=function(){this.manuallyDisplayed=!1,this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})},e.prototype.destroy=function(){this.destroyActiveOverlay(),t.prototype.destroy.call(this)},e.prototype.showOrHideOverlay=function(){var t=this.paginationProxy.isEmpty(),e=this.gridOptionsService.is("suppressNoRowsOverlay");t&&!e?this.showNoRowsOverlay():this.hideOverlay()},e.prototype.onRowDataUpdated=function(){this.showOrHideOverlay()},e.prototype.onNewColumnsLoaded=function(){!this.columnModel.isReady()||this.paginationProxy.isEmpty()||this.manuallyDisplayed||this.hideOverlay()},e.TEMPLATE='\n        <div class="ag-overlay" aria-hidden="true">\n            <div class="ag-overlay-panel">\n                <div class="ag-overlay-wrapper" ref="eOverlayWrapper"></div>\n            </div>\n        </div>',Bf([K("userComponentFactory")],e.prototype,"userComponentFactory",void 0),Bf([K("paginationProxy")],e.prototype,"paginationProxy",void 0),Bf([K("gridApi")],e.prototype,"gridApi",void 0),Bf([K("columnModel")],e.prototype,"columnModel",void 0),Bf([mo("eOverlayWrapper")],e.prototype,"eOverlayWrapper",void 0),Bf([H],e.prototype,"postConstruct",null),e}(go),Uf=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Vf=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},Wf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Uf(e,t),e.prototype.getFirstRow=function(){var t,e=0;return this.pinnedRowModel.getPinnedTopRowCount()?t="top":this.rowModel.getRowCount()?(t=null,e=this.paginationProxy.getPageFirstRow()):this.pinnedRowModel.getPinnedBottomRowCount()&&(t="bottom"),void 0===t?null:{rowIndex:e,rowPinned:t}},e.prototype.getLastRow=function(){var t,e=null,n=this.pinnedRowModel.getPinnedBottomRowCount(),i=this.pinnedRowModel.getPinnedTopRowCount();return n?(e="bottom",t=n-1):this.rowModel.getRowCount()?(e=null,t=this.paginationProxy.getPageLastRow()):i&&(e="top",t=i-1),void 0===t?null:{rowIndex:t,rowPinned:e}},e.prototype.getRowNode=function(t){switch(t.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[t.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[t.rowIndex];default:return this.rowModel.getRow(t.rowIndex)}},e.prototype.sameRow=function(t,e){return!t&&!e||!(t&&!e||!t&&e)&&(t.rowIndex===e.rowIndex&&t.rowPinned==e.rowPinned)},e.prototype.before=function(t,e){switch(t.rowPinned){case"top":if("top"!==e.rowPinned)return!0;break;case"bottom":if("bottom"!==e.rowPinned)return!1;break;default:if(o(e.rowPinned))return"top"!==e.rowPinned}return t.rowIndex<e.rowIndex},e.prototype.rowMax=function(t){var e,n=this;return t.forEach((function(t){(void 0===e||n.before(e,t))&&(e=t)})),e},e.prototype.rowMin=function(t){var e,n=this;return t.forEach((function(t){(void 0===e||n.before(t,e))&&(e=t)})),e},Vf([K("rowModel")],e.prototype,"rowModel",void 0),Vf([K("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),Vf([K("paginationProxy")],e.prototype,"paginationProxy",void 0),e=Vf([z("rowPositionUtils")],e)}(jt),Hf=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),$f=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},zf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Hf(e,t),e.prototype.createId=function(t){var e=t.rowIndex,n=t.rowPinned,i=t.column;return this.createIdFromValues({rowIndex:e,column:i,rowPinned:n})},e.prototype.createIdFromValues=function(t){var e=t.rowIndex,n=t.rowPinned;return e+"."+(null==n?"null":n)+"."+t.column.getId()},e.prototype.equals=function(t,e){var n=t.column===e.column,i=t.rowPinned===e.rowPinned,o=t.rowIndex===e.rowIndex;return n&&i&&o},e=$f([z("cellPositionUtils")],e)}(jt),Kf=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Yf=function(t){this.cellValueChanges=t},Xf=function(t){function e(e,n,i,o){var r=t.call(this,e)||this;return r.initialRange=n,r.finalRange=i,r.ranges=o,r}return Kf(e,t),e}(Yf),qf=function(){function t(e){this.actionStack=[],this.maxStackSize=e||t.DEFAULT_STACK_SIZE,this.actionStack=new Array(this.maxStackSize)}return t.prototype.pop=function(){return this.actionStack.pop()},t.prototype.push=function(t){t.cellValueChanges&&t.cellValueChanges.length>0&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(t))},t.prototype.clear=function(){this.actionStack=[]},t.prototype.getCurrentStackSize=function(){return this.actionStack.length},t.DEFAULT_STACK_SIZE=10,t}(),Zf=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Jf=function(){return Jf=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Jf.apply(this,arguments)},Qf=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},tg=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},eg=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(tg(arguments[e]));return t},ng=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cellValueChanges=[],e.activeCellEdit=null,e.activeRowEdit=null,e.isPasting=!1,e.isRangeInAction=!1,e.onCellValueChanged=function(t){var n={column:t.column,rowIndex:t.rowIndex,rowPinned:t.rowPinned},i=null!==e.activeCellEdit&&e.cellPositionUtils.equals(e.activeCellEdit,n),o=null!==e.activeRowEdit&&e.rowPositionUtils.sameRow(e.activeRowEdit,n);if(i||o||e.isPasting||e.isRangeInAction){var r=t.rowPinned,s=t.rowIndex,a=t.column,l=t.oldValue,c=t.value,u={rowPinned:r,rowIndex:s,columnId:a.getColId(),newValue:c,oldValue:l};e.cellValueChanges.push(u)}},e.clearStacks=function(){e.undoStack.clear(),e.redoStack.clear()},e}return Zf(e,t),e.prototype.init=function(){var t=this;if(this.gridOptionsService.is("undoRedoCellEditing")){var e=this.gridOptionsService.getNum("undoRedoCellEditingLimit");e<=0||(this.undoStack=new qf(e),this.redoStack=new qf(e),this.addRowEditingListeners(),this.addCellEditingListeners(),this.addPasteListeners(),this.addFillListeners(),this.addCellKeyListeners(),this.addManagedListener(this.eventService,zt.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged),this.addManagedListener(this.eventService,zt.EVENT_MODEL_UPDATED,(function(e){e.keepUndoRedoStack||t.clearStacks()})),this.addManagedListener(this.eventService,zt.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,zt.EVENT_NEW_COLUMNS_LOADED,this.clearStacks),this.addManagedListener(this.eventService,zt.EVENT_COLUMN_GROUP_OPENED,this.clearStacks),this.addManagedListener(this.eventService,zt.EVENT_COLUMN_ROW_GROUP_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,zt.EVENT_COLUMN_MOVED,this.clearStacks),this.addManagedListener(this.eventService,zt.EVENT_COLUMN_PINNED,this.clearStacks),this.addManagedListener(this.eventService,zt.EVENT_COLUMN_VISIBLE,this.clearStacks),this.addManagedListener(this.eventService,zt.EVENT_ROW_DRAG_END,this.clearStacks),this.ctrlsService.whenReady((function(){t.gridBodyCtrl=t.ctrlsService.getGridBodyCtrl()})))}},e.prototype.getCurrentUndoStackSize=function(){return this.undoStack?this.undoStack.getCurrentStackSize():0},e.prototype.getCurrentRedoStackSize=function(){return this.redoStack?this.redoStack.getCurrentStackSize():0},e.prototype.undo=function(t){var e={type:zt.EVENT_UNDO_STARTED,source:t};this.eventService.dispatchEvent(e);var n=this.undoRedo(this.undoStack,this.redoStack,"initialRange","oldValue","undo"),i={type:zt.EVENT_UNDO_ENDED,source:t,operationPerformed:n};this.eventService.dispatchEvent(i)},e.prototype.redo=function(t){var e={type:zt.EVENT_REDO_STARTED,source:t};this.eventService.dispatchEvent(e);var n=this.undoRedo(this.redoStack,this.undoStack,"finalRange","newValue","redo"),i={type:zt.EVENT_REDO_ENDED,source:t,operationPerformed:n};this.eventService.dispatchEvent(i)},e.prototype.undoRedo=function(t,e,n,i,o){if(!t)return!1;var r=t.pop();return!(!r||!r.cellValueChanges)&&(this.processAction(r,(function(t){return t[i]}),o),r instanceof Xf?this.processRange(r.ranges||[r[n]]):this.processCell(r.cellValueChanges),e.push(r),!0)},e.prototype.processAction=function(t,e,n){var i=this;t.cellValueChanges.forEach((function(t){var o=t.rowIndex,r=t.rowPinned,s=t.columnId,a={rowIndex:o,rowPinned:r},l=i.getRowNode(a);l.displayed&&l.setDataValue(s,e(t),n)}))},e.prototype.processRange=function(t){var e,n=this;this.rangeService.removeAllCellRanges(!0),t.forEach((function(i,o){if(i){var r=i.startRow,s=i.endRow;o===t.length-1&&(e={rowPinned:r.rowPinned,rowIndex:r.rowIndex,columnId:i.startColumn.getColId()},n.setLastFocusedCell(e));var a={rowStartIndex:r.rowIndex,rowStartPinned:r.rowPinned,rowEndIndex:s.rowIndex,rowEndPinned:s.rowPinned,columnStart:i.startColumn,columns:i.columns};n.rangeService.addCellRange(a)}}))},e.prototype.processCell=function(t){var e=t[0],n={rowIndex:e.rowIndex,rowPinned:e.rowPinned},i=this.getRowNode(n),o={rowPinned:e.rowPinned,rowIndex:i.rowIndex,columnId:e.columnId};this.setLastFocusedCell(o,!!this.rangeService)},e.prototype.setLastFocusedCell=function(t,e){var n=t.rowIndex,i=t.columnId,o=t.rowPinned,r=this.gridBodyCtrl.getScrollFeature(),s=this.columnModel.getGridColumn(i);if(s){r.ensureIndexVisible(n),r.ensureColumnVisible(s);var a={rowIndex:n,column:s,rowPinned:o};this.focusService.setFocusedCell(Jf(Jf({},a),{forceBrowserFocus:!0})),e&&this.rangeService.setRangeToCell(a)}},e.prototype.addRowEditingListeners=function(){var t=this;this.addManagedListener(this.eventService,zt.EVENT_ROW_EDITING_STARTED,(function(e){t.activeRowEdit={rowIndex:e.rowIndex,rowPinned:e.rowPinned}})),this.addManagedListener(this.eventService,zt.EVENT_ROW_EDITING_STOPPED,(function(){var e=new Yf(t.cellValueChanges);t.pushActionsToUndoStack(e),t.activeRowEdit=null}))},e.prototype.addCellEditingListeners=function(){var t=this;this.addManagedListener(this.eventService,zt.EVENT_CELL_EDITING_STARTED,(function(e){t.activeCellEdit={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned}})),this.addManagedListener(this.eventService,zt.EVENT_CELL_EDITING_STOPPED,(function(e){if(t.activeCellEdit=null,e.valueChanged&&!t.activeRowEdit&&!t.isPasting&&!t.isRangeInAction){var n=new Yf(t.cellValueChanges);t.pushActionsToUndoStack(n)}}))},e.prototype.addPasteListeners=function(){var t=this;this.addManagedListener(this.eventService,zt.EVENT_PASTE_START,(function(){t.isPasting=!0})),this.addManagedListener(this.eventService,zt.EVENT_PASTE_END,(function(){var e=new Yf(t.cellValueChanges);t.pushActionsToUndoStack(e),t.isPasting=!1}))},e.prototype.addFillListeners=function(){var t=this;this.addManagedListener(this.eventService,zt.EVENT_FILL_START,(function(){t.isRangeInAction=!0})),this.addManagedListener(this.eventService,zt.EVENT_FILL_END,(function(e){var n=new Xf(t.cellValueChanges,e.initialRange,e.finalRange);t.pushActionsToUndoStack(n),t.isRangeInAction=!1}))},e.prototype.addCellKeyListeners=function(){var t=this;this.addManagedListener(this.eventService,zt.EVENT_KEY_SHORTCUT_CHANGED_CELL_START,(function(){t.isRangeInAction=!0})),this.addManagedListener(this.eventService,zt.EVENT_KEY_SHORTCUT_CHANGED_CELL_END,(function(){var e;e=t.rangeService&&t.gridOptionsService.isEnableRangeSelection()?new Xf(t.cellValueChanges,void 0,void 0,eg(t.rangeService.getCellRanges())):new Yf(t.cellValueChanges),t.pushActionsToUndoStack(e),t.isRangeInAction=!1}))},e.prototype.pushActionsToUndoStack=function(t){this.undoStack.push(t),this.cellValueChanges=[],this.redoStack.clear()},e.prototype.getRowNode=function(t){switch(t.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[t.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[t.rowIndex];default:return this.rowModel.getRow(t.rowIndex)}},Qf([K("focusService")],e.prototype,"focusService",void 0),Qf([K("ctrlsService")],e.prototype,"ctrlsService",void 0),Qf([K("rowModel")],e.prototype,"rowModel",void 0),Qf([K("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),Qf([K("cellPositionUtils")],e.prototype,"cellPositionUtils",void 0),Qf([K("rowPositionUtils")],e.prototype,"rowPositionUtils",void 0),Qf([K("columnModel")],e.prototype,"columnModel",void 0),Qf([Y("rangeService")],e.prototype,"rangeService",void 0),Qf([H],e.prototype,"init",null),e=Qf([z("undoRedoService")],e)}(jt),ig=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),og=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},rg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ig(e,t),e.prototype.findHeader=function(t,e){var n,i,o;if(t.column instanceof he?(i="getDisplayedGroup"+e,n=this.columnModel[i](t.column)):(o="getDisplayedCol"+e,n=this.columnModel[o](t.column)),n){var r=t.headerRowIndex;if(this.getHeaderRowType(r)===Wc.COLUMN_GROUP){var s=n;if(s.isPadding()&&this.isAnyChildSpanningHeaderHeight(s)){var a=this.getColumnVisibleChild(s,r,e),l=a.nextFocusColumn,c=a.nextRow;l&&(n=l,r=c)}}return{column:n,headerRowIndex:r}}},e.prototype.isAnyChildSpanningHeaderHeight=function(t){return!!t&&t.getLeafColumns().some((function(t){return t.isSpanHeaderHeight()}))},e.prototype.getColumnVisibleParent=function(t,e){var n=this.getHeaderRowType(e),i=n===Wc.FLOATING_FILTER,o=n===Wc.COLUMN,r=i?t:t.getParent(),s=e-1;if(o&&this.isAnyChildSpanningHeaderHeight(t.getParent())){for(;r&&r.isPadding();)r=r.getParent(),s--;s<0&&(r=t,s=e)}return{nextFocusColumn:r,nextRow:s}},e.prototype.getColumnVisibleChild=function(t,e,n){void 0===n&&(n="After");var i=t,o=e+1;if(this.getHeaderRowType(e)===Wc.COLUMN_GROUP){var r=t.getLeafColumns(),s="After"===n?r[0]:ft(r);if(this.isAnyChildSpanningHeaderHeight(s.getParent())){i=s;for(var a=s.getParent();a&&a!==t;)a=a.getParent(),o++}else i=t.getDisplayedChildren()[0]}return{nextFocusColumn:i,nextRow:o}},e.prototype.getHeaderRowType=function(t){var e=this.ctrlsService.getHeaderRowContainerCtrl();if(e)return e.getRowType(t)},e.prototype.findColAtEdgeForHeaderRow=function(t,e){var n=this.columnModel.getAllDisplayedColumns(),i=n["start"===e?0:n.length-1];if(i){var o=this.ctrlsService.getHeaderRowContainerCtrl(i.getPinned()).getRowType(t);return o==Wc.COLUMN_GROUP?{headerRowIndex:t,column:this.columnModel.getColumnGroupAtLevel(i,t)}:{headerRowIndex:null==o?-1:t,column:i}}},og([K("columnModel")],e.prototype,"columnModel",void 0),og([K("ctrlsService")],e.prototype,"ctrlsService",void 0),e=og([z("headerPositionUtils")],e)}(jt),sg=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},ag=function(){function t(){}return t.prototype.buildColumnDefs=function(t,e,n){var i=this,o=[],r={};return t.forEach((function(t){for(var s=!0,a=i.createDefFromColumn(t,e,n),l=t.getOriginalParent();l;){var c=null;if(l.isPadding())l=l.getOriginalParent();else{var u=r[l.getGroupId()];if(u){u.children.push(a),s=!1;break}(c=i.createDefFromGroup(l))&&(c.children=[a],r[c.groupId]=c,a=c,l=l.getOriginalParent())}}s&&o.push(a)})),o},t.prototype.createDefFromGroup=function(t){var e=g(t.getColGroupDef(),["children"]);return e&&(e.groupId=t.getGroupId()),e},t.prototype.createDefFromColumn=function(t,e,n){var i=g(t.getColDef());return i.colId=t.getColId(),i.width=t.getActualWidth(),i.rowGroup=t.isRowGroupActive(),i.rowGroupIndex=t.isRowGroupActive()?e.indexOf(t):null,i.pivot=t.isPivotActive(),i.pivotIndex=t.isPivotActive()?n.indexOf(t):null,i.aggFunc=t.isValueActive()?t.getAggFunc():null,i.hide=!t.isVisible()||void 0,i.pinned=t.isPinned()?t.getPinned():null,i.sort=t.getSort()?t.getSort():null,i.sortIndex=null!=t.getSortIndex()?t.getSortIndex():null,i},t=sg([z("columnDefFactory")],t)}(),lg=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},cg=function(){function t(){}return t.prototype.getInitialRowClasses=function(t){var e=[];return o(t.extraCssClass)&&e.push(t.extraCssClass),e.push("ag-row"),e.push(t.rowFocused?"ag-row-focus":"ag-row-no-focus"),t.fadeRowIn&&e.push("ag-opacity-zero"),e.push(t.rowIsEven?"ag-row-even":"ag-row-odd"),t.rowNode.isRowPinned()&&e.push("ag-row-pinned"),t.rowNode.isSelected()&&e.push("ag-row-selected"),t.rowNode.footer&&e.push("ag-row-footer"),e.push("ag-row-level-"+t.rowLevel),t.rowNode.stub&&e.push("ag-row-loading"),t.fullWidthRow&&e.push("ag-full-width-row"),t.expandable&&(e.push("ag-row-group"),e.push(t.rowNode.expanded?"ag-row-group-expanded":"ag-row-group-contracted")),t.rowNode.dragging&&e.push("ag-row-dragging"),St(e,this.processClassesFromGridOptions(t.rowNode)),St(e,this.preProcessRowClassRules(t.rowNode)),e.push(t.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),t.firstRowOnPage&&e.push("ag-row-first"),t.lastRowOnPage&&e.push("ag-row-last"),t.fullWidthRow&&("left"===t.pinned&&e.push("ag-cell-last-left-pinned"),"right"===t.pinned&&e.push("ag-cell-first-right-pinned")),e},t.prototype.processClassesFromGridOptions=function(t){var e=[],n=function(t){"string"==typeof t?e.push(t):Array.isArray(t)&&t.forEach((function(t){return e.push(t)}))},i=this.gridOptionsService.get("rowClass");if(i){if("function"==typeof i)return console.warn("AG Grid: rowClass should not be a function, please use getRowClass instead"),[];n(i)}var o=this.gridOptionsService.getCallback("getRowClass");o&&n(o({data:t.data,node:t,rowIndex:t.rowIndex}));return e},t.prototype.preProcessRowClassRules=function(t){var e=[];return this.processRowClassRules(t,(function(t){e.push(t)}),(function(t){})),e},t.prototype.processRowClassRules=function(t,e,n){var i={data:t.data,node:t,rowIndex:t.rowIndex,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};this.stylingService.processClassRules(this.gridOptionsService.get("rowClassRules"),i,e,n)},t.prototype.calculateRowLevel=function(t){return t.group?t.level:t.parent?t.parent.level+1:0},lg([K("stylingService")],t.prototype,"stylingService",void 0),lg([K("gridOptionsService")],t.prototype,"gridOptionsService",void 0),t=lg([z("rowCssClassCalculator")],t)}(),ug=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),hg=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},dg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ug(e,t),e.prototype.init=function(){var t=this;this.isAccentedSort=this.gridOptionsService.is("accentedSort"),this.primaryColumnsSortGroups=this.gridOptionsService.isColumnsSortingCoupledToGroup(),this.addManagedPropertyListener("accentedSort",(function(e){return t.isAccentedSort=e.currentValue})),this.addManagedPropertyListener("autoGroupColumnDef",(function(){return t.primaryColumnsSortGroups=t.gridOptionsService.isColumnsSortingCoupledToGroup()}))},e.prototype.doFullSort=function(t,e){var n=t.map((function(t,e){return{currentPos:e,rowNode:t}}));return n.sort(this.compareRowNodes.bind(this,e)),n.map((function(t){return t.rowNode}))},e.prototype.compareRowNodes=function(t,e,n){for(var i=e.rowNode,o=n.rowNode,r=0,s=t.length;r<s;r++){var a=t[r],l="desc"===a.sort,c=this.getValue(i,a.column),u=this.getValue(o,a.column),h=void 0,d=this.getComparator(a,i);if(h=d?d(c,u,i,o,l):no.defaultComparator(c,u,this.isAccentedSort),!isNaN(h)&&0!==h)return"asc"===a.sort?h:-1*h}return e.currentPos-n.currentPos},e.prototype.getComparator=function(t,e){var n=t.column,i=n.getColDef().comparator;if(null!=i)return i;if(n.getColDef().showRowGroup){var o=!e.group&&n.getColDef().field;if(o){var r=this.columnModel.getPrimaryColumn(o);if(r)return r.getColDef().comparator}}},e.prototype.getValue=function(t,e){var n,i;if(!this.primaryColumnsSortGroups)return this.valueService.getValue(e,t,!1,!1);if(t.rowGroupColumn===e){if(this.gridOptionsService.isGroupUseEntireRow(this.columnModel.isPivotActive())){if(e.getColDef().keyCreator)return t.key;var o=null===(n=t.allLeafChildren)||void 0===n?void 0:n[0];return o?this.valueService.getValue(e,o,!1,!1):void 0}var r=this.columnModel.getGroupDisplayColumnForGroup(e.getId());if(!r)return;return null===(i=t.groupData)||void 0===i?void 0:i[r.getId()]}return t.group&&e.getColDef().showRowGroup?void 0:this.valueService.getValue(e,t,!1,!1)},hg([K("valueService")],e.prototype,"valueService",void 0),hg([K("columnModel")],e.prototype,"columnModel",void 0),hg([H],e.prototype,"init",null),e=hg([z("rowNodeSorter")],e)}(jt),pg=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),fg=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},gg=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ready=!1,e.readyCallbacks=[],e}var n;return pg(e,t),n=e,e.prototype.checkReady=function(){if(this.ready=null!=this.gridCtrl&&null!=this.gridBodyCtrl&&null!=this.centerRowContainerCtrl&&null!=this.leftRowContainerCtrl&&null!=this.rightRowContainerCtrl&&null!=this.bottomCenterRowContainerCtrl&&null!=this.bottomLeftRowContainerCtrl&&null!=this.bottomRightRowContainerCtrl&&null!=this.topCenterRowContainerCtrl&&null!=this.topLeftRowContainerCtrl&&null!=this.topRightRowContainerCtrl&&null!=this.stickyTopCenterRowContainerCtrl&&null!=this.stickyTopLeftRowContainerCtrl&&null!=this.stickyTopRightRowContainerCtrl&&null!=this.centerHeaderRowContainerCtrl&&null!=this.leftHeaderRowContainerCtrl&&null!=this.rightHeaderRowContainerCtrl&&null!=this.fakeHScrollComp&&null!=this.fakeVScrollComp&&null!=this.gridHeaderCtrl,this.ready){var t=this.createReadyParams();this.readyCallbacks.forEach((function(e){return e(t)})),this.readyCallbacks.length=0}},e.prototype.whenReady=function(t){this.ready?t(this.createReadyParams()):this.readyCallbacks.push(t)},e.prototype.createReadyParams=function(){return{centerRowContainerCtrl:this.centerRowContainerCtrl,leftRowContainerCtrl:this.leftRowContainerCtrl,rightRowContainerCtrl:this.rightRowContainerCtrl,bottomCenterRowContainerCtrl:this.bottomCenterRowContainerCtrl,bottomLeftRowContainerCtrl:this.bottomLeftRowContainerCtrl,bottomRightRowContainerCtrl:this.bottomRightRowContainerCtrl,topCenterRowContainerCtrl:this.topCenterRowContainerCtrl,topLeftRowContainerCtrl:this.topLeftRowContainerCtrl,topRightRowContainerCtrl:this.topRightRowContainerCtrl,stickyTopCenterRowContainerCtrl:this.stickyTopCenterRowContainerCtrl,stickyTopLeftRowContainerCtrl:this.stickyTopLeftRowContainerCtrl,stickyTopRightRowContainerCtrl:this.stickyTopRightRowContainerCtrl,centerHeaderRowContainerCtrl:this.centerHeaderRowContainerCtrl,leftHeaderRowContainerCtrl:this.leftHeaderRowContainerCtrl,rightHeaderRowContainerCtrl:this.rightHeaderRowContainerCtrl,fakeHScrollComp:this.fakeHScrollComp,fakeVScrollComp:this.fakeVScrollComp,gridBodyCtrl:this.gridBodyCtrl,gridCtrl:this.gridCtrl,gridHeaderCtrl:this.gridHeaderCtrl}},e.prototype.registerFakeHScrollComp=function(t){this.fakeHScrollComp=t,this.checkReady()},e.prototype.registerFakeVScrollComp=function(t){this.fakeVScrollComp=t,this.checkReady()},e.prototype.registerGridHeaderCtrl=function(t){this.gridHeaderCtrl=t,this.checkReady()},e.prototype.registerCenterRowContainerCtrl=function(t){this.centerRowContainerCtrl=t,this.checkReady()},e.prototype.registerLeftRowContainerCtrl=function(t){this.leftRowContainerCtrl=t,this.checkReady()},e.prototype.registerRightRowContainerCtrl=function(t){this.rightRowContainerCtrl=t,this.checkReady()},e.prototype.registerTopCenterRowContainerCtrl=function(t){this.topCenterRowContainerCtrl=t,this.checkReady()},e.prototype.registerTopLeftRowContainerCon=function(t){this.topLeftRowContainerCtrl=t,this.checkReady()},e.prototype.registerTopRightRowContainerCtrl=function(t){this.topRightRowContainerCtrl=t,this.checkReady()},e.prototype.registerStickyTopCenterRowContainerCtrl=function(t){this.stickyTopCenterRowContainerCtrl=t,this.checkReady()},e.prototype.registerStickyTopLeftRowContainerCon=function(t){this.stickyTopLeftRowContainerCtrl=t,this.checkReady()},e.prototype.registerStickyTopRightRowContainerCtrl=function(t){this.stickyTopRightRowContainerCtrl=t,this.checkReady()},e.prototype.registerBottomCenterRowContainerCtrl=function(t){this.bottomCenterRowContainerCtrl=t,this.checkReady()},e.prototype.registerBottomLeftRowContainerCtrl=function(t){this.bottomLeftRowContainerCtrl=t,this.checkReady()},e.prototype.registerBottomRightRowContainerCtrl=function(t){this.bottomRightRowContainerCtrl=t,this.checkReady()},e.prototype.registerHeaderContainer=function(t,e){switch(e){case"left":this.leftHeaderRowContainerCtrl=t;break;case"right":this.rightHeaderRowContainerCtrl=t;break;default:this.centerHeaderRowContainerCtrl=t}this.checkReady()},e.prototype.registerGridBodyCtrl=function(t){this.gridBodyCtrl=t,this.checkReady()},e.prototype.registerGridCtrl=function(t){this.gridCtrl=t,this.checkReady()},e.prototype.getFakeHScrollComp=function(){return this.fakeHScrollComp},e.prototype.getFakeVScrollComp=function(){return this.fakeVScrollComp},e.prototype.getGridHeaderCtrl=function(){return this.gridHeaderCtrl},e.prototype.getGridCtrl=function(){return this.gridCtrl},e.prototype.getCenterRowContainerCtrl=function(){return this.centerRowContainerCtrl},e.prototype.getTopCenterRowContainerCtrl=function(){return this.topCenterRowContainerCtrl},e.prototype.getBottomCenterRowContainerCtrl=function(){return this.bottomCenterRowContainerCtrl},e.prototype.getStickyTopCenterRowContainerCtrl=function(){return this.stickyTopCenterRowContainerCtrl},e.prototype.getGridBodyCtrl=function(){return this.gridBodyCtrl},e.prototype.getHeaderRowContainerCtrls=function(){return[this.leftHeaderRowContainerCtrl,this.rightHeaderRowContainerCtrl,this.centerHeaderRowContainerCtrl]},e.prototype.getHeaderRowContainerCtrl=function(t){switch(t){case"left":return this.leftHeaderRowContainerCtrl;case"right":return this.rightHeaderRowContainerCtrl;default:return this.centerHeaderRowContainerCtrl}},e.NAME="ctrlsService",e=n=fg([z(n.NAME)],e)}(jt),mg=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),_g=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},yg=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.registry={},e}return mg(e,t),e.prototype.register=function(t){this.registry[t.controllerName]=t.controllerClass},e.prototype.getInstance=function(t){var e=this.registry[t];if(null!=e)return new e},e=_g([z("ctrlsFactory")],e)}(jt),vg=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Cg=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},bg=function(t){function e(e,n){var i=t.call(this,e)||this;return i.direction=n,i.hideTimeout=null,i}return vg(e,t),e.prototype.postConstruct=function(){this.addManagedListener(this.eventService,zt.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.onScrollVisibilityChanged(),this.addOrRemoveCssClass("ag-apple-scrollbar",Rn()||An())},e.prototype.initialiseInvisibleScrollbar=function(){void 0===this.invisibleScrollbar&&(this.invisibleScrollbar=jn(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))},e.prototype.addActiveListenerToggles=function(){var t=this,e=this.getGui();["mouseenter","mousedown","touchstart"].forEach((function(n){return t.addManagedListener(e,n,(function(){return t.addOrRemoveCssClass("ag-scrollbar-active",!0)}))})),["mouseleave","touchend"].forEach((function(n){return t.addManagedListener(e,n,(function(){return t.addOrRemoveCssClass("ag-scrollbar-active",!1)}))}))},e.prototype.onScrollVisibilityChanged=function(){void 0===this.invisibleScrollbar&&this.initialiseInvisibleScrollbar(),this.setScrollVisible()},e.prototype.hideAndShowInvisibleScrollAsNeeded=function(){var t=this;this.addManagedListener(this.eventService,zt.EVENT_BODY_SCROLL,(function(e){e.direction===t.direction&&(null!==t.hideTimeout&&(window.clearTimeout(t.hideTimeout),t.hideTimeout=null),t.addOrRemoveCssClass("ag-scrollbar-scrolling",!0))})),this.addManagedListener(this.eventService,zt.EVENT_BODY_SCROLL_END,(function(){t.hideTimeout=window.setTimeout((function(){t.addOrRemoveCssClass("ag-scrollbar-scrolling",!1),t.hideTimeout=null}),400)}))},e.prototype.getViewport=function(){return this.eViewport},e.prototype.getContainer=function(){return this.eContainer},Cg([mo("eViewport")],e.prototype,"eViewport",void 0),Cg([mo("eContainer")],e.prototype,"eContainer",void 0),Cg([K("scrollVisibleService")],e.prototype,"scrollVisibleService",void 0),Cg([K("ctrlsService")],e.prototype,"ctrlsService",void 0),e}(go),Eg=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Sg=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},wg=function(t){function e(){return t.call(this,e.TEMPLATE,"horizontal")||this}return Eg(e,t),e.prototype.postConstruct=function(){var e=this;t.prototype.postConstruct.call(this);var n=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedListener(this.eventService,zt.EVENT_DISPLAYED_COLUMNS_CHANGED,n),this.addManagedListener(this.eventService,zt.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,n),this.addManagedListener(this.eventService,zt.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedPropertyListener("domLayout",n),this.ctrlsService.registerFakeHScrollComp(this),this.createManagedBean(new uc((function(t){return e.eContainer.style.width=t+"px"})))},e.prototype.initialiseInvisibleScrollbar=function(){void 0===this.invisibleScrollbar&&(this.enableRtl=this.gridOptionsService.is("enableRtl"),t.prototype.initialiseInvisibleScrollbar.call(this),this.invisibleScrollbar&&this.refreshCompBottom())},e.prototype.onPinnedRowDataChanged=function(){this.refreshCompBottom()},e.prototype.refreshCompBottom=function(){if(this.invisibleScrollbar){var t=this.pinnedRowModel.getPinnedBottomTotalHeight();this.getGui().style.bottom=t+"px"}},e.prototype.onScrollVisibilityChanged=function(){t.prototype.onScrollVisibilityChanged.call(this),this.setFakeHScrollSpacerWidths()},e.prototype.setFakeHScrollSpacerWidths=function(){var t=this.scrollVisibleService.isVerticalScrollShowing(),e=this.columnModel.getDisplayedColumnsRightWidth(),n=!this.enableRtl&&t,i=this.gridOptionsService.getScrollbarWidth();n&&(e+=i),Mi(this.eRightSpacer,e),this.eRightSpacer.classList.toggle("ag-scroller-corner",e<=i);var o=this.columnModel.getDisplayedColumnsLeftWidth();this.enableRtl&&t&&(o+=i),Mi(this.eLeftSpacer,o),this.eLeftSpacer.classList.toggle("ag-scroller-corner",o<=i)},e.prototype.setScrollVisible=function(){var t=this.scrollVisibleService.isHorizontalScrollShowing(),e=this.invisibleScrollbar,n=this.gridOptionsService.is("suppressHorizontalScroll"),i=t&&this.gridOptionsService.getScrollbarWidth()||0,o=n?0:0===i&&e?16:i;this.addOrRemoveCssClass("ag-scrollbar-invisible",e),Di(this.getGui(),o),Di(this.eViewport,o),Di(this.eContainer,o),this.setDisplayed(t,{skipAriaHidden:!0})},e.TEMPLATE='<div class="ag-body-horizontal-scroll" aria-hidden="true">\n            <div class="ag-horizontal-left-spacer" ref="eLeftSpacer"></div>\n            <div class="ag-body-horizontal-scroll-viewport" ref="eViewport">\n                <div class="ag-body-horizontal-scroll-container" ref="eContainer"></div>\n            </div>\n            <div class="ag-horizontal-right-spacer" ref="eRightSpacer"></div>\n        </div>',Sg([mo("eLeftSpacer")],e.prototype,"eLeftSpacer",void 0),Sg([mo("eRightSpacer")],e.prototype,"eRightSpacer",void 0),Sg([K("columnModel")],e.prototype,"columnModel",void 0),Sg([K("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),Sg([H],e.prototype,"postConstruct",null),e}(bg),Og=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),xg=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},Pg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Og(e,t),e.prototype.postConstruct=function(){var t=this.checkContainerWidths.bind(this);this.addManagedListener(this.eventService,zt.EVENT_DISPLAYED_COLUMNS_CHANGED,t),this.addManagedListener(this.eventService,zt.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,t),this.addManagedPropertyListener("domLayout",t)},e.prototype.checkContainerWidths=function(){var t=this.gridOptionsService.isDomLayout("print"),e=t?0:this.columnModel.getDisplayedColumnsLeftWidth(),n=t?0:this.columnModel.getDisplayedColumnsRightWidth();e!=this.leftWidth&&(this.leftWidth=e,this.eventService.dispatchEvent({type:zt.EVENT_LEFT_PINNED_WIDTH_CHANGED})),n!=this.rightWidth&&(this.rightWidth=n,this.eventService.dispatchEvent({type:zt.EVENT_RIGHT_PINNED_WIDTH_CHANGED}))},e.prototype.getPinnedRightWidth=function(){return this.rightWidth},e.prototype.getPinnedLeftWidth=function(){return this.leftWidth},xg([K("columnModel")],e.prototype,"columnModel",void 0),xg([H],e.prototype,"postConstruct",null),e=xg([z("pinnedWidthService")],e)}(jt),Tg=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Mg=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},Dg=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.events=[],e}return Tg(e,t),e.prototype.postConstruct=function(){"clientSide"==this.rowModel.getType()&&(this.clientSideRowModel=this.rowModel)},e.prototype.dispatchExpanded=function(t){var e=this;if(null!=this.clientSideRowModel){this.events.push(t);null==this.dispatchExpandedDebounced&&(this.dispatchExpandedDebounced=this.animationFrameService.debounce((function(){e.clientSideRowModel&&e.clientSideRowModel.onRowGroupOpened(),e.events.forEach((function(t){return e.eventService.dispatchEvent(t)})),e.events=[]}))),this.dispatchExpandedDebounced()}else this.eventService.dispatchEvent(t)},Mg([K("animationFrameService")],e.prototype,"animationFrameService",void 0),Mg([K("rowModel")],e.prototype,"rowModel",void 0),Mg([H],e.prototype,"postConstruct",null),e=Mg([z("rowNodeEventThrottle")],e)}(jt),Rg=function(){return Rg=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Rg.apply(this,arguments)},Ag=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},Lg=function(t,e){return function(n,i){e(n,i,t)}},Ig=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},kg=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Ig(arguments[e]));return t};function Ng(t){return!0===t||"true"===t}var Fg,Gg=function(){function t(){this.destroyed=!1,this.domDataKey="__AG_"+Math.random().toString(),this.propertyEventService=new et}return Object.defineProperty(t.prototype,"context",{get:function(){return this.gridOptions.context},enumerable:!1,configurable:!0}),t.prototype.agWire=function(t,e){this.gridOptions.api=t,this.gridOptions.columnApi=e,this.api=t,this.columnApi=e},t.prototype.init=function(){this.gridOptionLookup=new Set(kg(Qt.ALL_PROPERTIES,Qt.EVENT_CALLBACKS));var t=!this.is("suppressAsyncEvents");this.eventService.addGlobalListener(this.globalEventHandler.bind(this),t),this.getScrollbarWidth()},t.prototype.destroy=function(){this.gridOptions.api=null,this.gridOptions.columnApi=null,this.destroyed=!0},t.prototype.is=function(t){return Ng(this.gridOptions[t])},t.prototype.get=function(t){return this.gridOptions[t]},t.prototype.getNum=function(t){return"number"==typeof(e=this.gridOptions[t])?e:"string"==typeof e?parseInt(e,10):void 0;var e},t.prototype.getCallback=function(t){return this.mergeGridCommonParams(this.gridOptions[t])},t.prototype.exists=function(t){return o(this.gridOptions[t])},t.prototype.mergeGridCommonParams=function(t){var e=this;if(t){return function(n){var i=n;return i.api=e.api,i.columnApi=e.columnApi,i.context=e.context,t(i)}}return t},t.prototype.set=function(t,e,n,i){if(void 0===n&&(n=!1),void 0===i&&(i={}),this.gridOptionLookup.has(t)){var o=this.gridOptions[t];if(n||o!==e){this.gridOptions[t]=e;var r=Rg({type:t,currentValue:e,previousValue:o},i);this.propertyEventService.dispatchEvent(r)}}},t.prototype.addEventListener=function(t,e){this.propertyEventService.addEventListener(t,e)},t.prototype.removeEventListener=function(t,e){this.propertyEventService.removeEventListener(t,e)},t.prototype.globalEventHandler=function(t,e){if(!this.destroyed){var n=Qt.getCallbackForEvent(t);"function"==typeof this.gridOptions[n]&&this.gridOptions[n](e)}},t.prototype.getScrollbarWidth=function(){if(null==this.scrollbarWidth){var t="number"==typeof this.gridOptions.scrollbarWidth&&this.gridOptions.scrollbarWidth>=0?this.gridOptions.scrollbarWidth:Gn();null!=t&&(this.scrollbarWidth=t,this.eventService.dispatchEvent({type:zt.EVENT_SCROLLBAR_WIDTH_CHANGED}))}return this.scrollbarWidth},t.prototype.isRowModelType=function(t){return this.gridOptions.rowModelType===t||"clientSide"===t&&r(this.gridOptions.rowModelType)},t.prototype.isDomLayout=function(t){var e;return(null!==(e=this.gridOptions.domLayout)&&void 0!==e?e:"normal")===t},t.prototype.isRowSelection=function(){return"single"===this.gridOptions.rowSelection||"multiple"===this.gridOptions.rowSelection},t.prototype.useAsyncEvents=function(){return!this.is("suppressAsyncEvents")},t.prototype.isGetRowHeightFunction=function(){return"function"==typeof this.gridOptions.getRowHeight},t.prototype.getRowHeightForNode=function(t,e,n){if(void 0===e&&(e=!1),null==n&&(n=this.environment.getDefaultRowHeight()),this.isGetRowHeightFunction()){if(e)return{height:n,estimated:!0};var i={node:t,data:t.data},o=this.getCallback("getRowHeight")(i);if(this.isNumeric(o))return 0===o&&P((function(){return console.warn("AG Grid: The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead.")}),"invalidRowHeight"),{height:Math.max(1,o),estimated:!1}}return t.detail&&this.is("masterDetail")?this.getMasterDetailRowHeight():{height:this.gridOptions.rowHeight&&this.isNumeric(this.gridOptions.rowHeight)?this.gridOptions.rowHeight:n,estimated:!1}},t.prototype.getMasterDetailRowHeight=function(){return this.is("detailRowAutoHeight")?{height:1,estimated:!1}:this.isNumeric(this.gridOptions.detailRowHeight)?{height:this.gridOptions.detailRowHeight,estimated:!1}:{height:300,estimated:!1}},t.prototype.getRowHeightAsNumber=function(){if(!this.gridOptions.rowHeight||r(this.gridOptions.rowHeight))return this.environment.getDefaultRowHeight();var t=this.gridOptions.rowHeight;return t&&this.isNumeric(t)?(this.environment.setRowHeightVariable(t),t):(console.warn("AG Grid row height must be a number if not using standard row model"),this.environment.getDefaultRowHeight())},t.prototype.isNumeric=function(t){return!isNaN(t)&&"number"==typeof t&&isFinite(t)},t.prototype.getDomDataKey=function(){return this.domDataKey},t.prototype.getDomData=function(t,e){var n=t[this.getDomDataKey()];return n?n[e]:void 0},t.prototype.setDomData=function(t,e,n){var i=this.getDomDataKey(),o=t[i];r(o)&&(o={},t[i]=o),o[e]=n},t.prototype.getDocument=function(){var t=null;return this.gridOptions.getDocument&&o(this.gridOptions.getDocument)?t=this.gridOptions.getDocument():this.eGridDiv&&(t=this.eGridDiv.ownerDocument),t&&o(t)?t:document},t.prototype.getRootNode=function(){return this.eGridDiv.getRootNode()},t.prototype.getRowIdFunc=function(){var t=this.getCallback("getRowId");if(t)return t;var e=this.gridOptions.getRowNodeId;return e?function(t){return e(t.data)}:void 0},t.prototype.getAsyncTransactionWaitMillis=function(){return o(this.gridOptions.asyncTransactionWaitMillis)?this.gridOptions.asyncTransactionWaitMillis:50},t.prototype.isAnimateRows=function(){return!this.is("ensureDomOrder")&&this.is("animateRows")},t.prototype.isTreeData=function(){return this.is("treeData")&&it.assertRegistered(J.RowGroupingModule,"Tree Data")},t.prototype.isMasterDetail=function(){return this.is("masterDetail")&&it.assertRegistered(J.MasterDetailModule,"masterDetail")},t.prototype.isEnableRangeSelection=function(){return this.is("enableRangeSelection")&&it.isRegistered(J.RangeSelectionModule)},t.prototype.isColumnsSortingCoupledToGroup=function(){var t=this.gridOptions.autoGroupColumnDef;return this.isRowModelType("clientSide")&&!(null==t?void 0:t.comparator)&&!this.isTreeData()},t.prototype.getGroupAggFiltering=function(){var t=this.gridOptions.groupAggFiltering;return"function"==typeof t?this.getCallback("groupAggFiltering"):Ng(t)?function(){return!0}:void 0},t.prototype.isGroupMultiAutoColumn=function(){return this.gridOptions.groupDisplayType?ce("multipleColumns",this.gridOptions.groupDisplayType):this.is("groupHideOpenParents")},t.prototype.isGroupUseEntireRow=function(t){return!t&&(!!this.gridOptions.groupDisplayType&&ce("groupRows",this.gridOptions.groupDisplayType))},Ag([K("gridOptions")],t.prototype,"gridOptions",void 0),Ag([K("eventService")],t.prototype,"eventService",void 0),Ag([K("environment")],t.prototype,"environment",void 0),Ag([K("eGridDiv")],t.prototype,"eGridDiv",void 0),Ag([Lg(0,q("gridApi")),Lg(1,q("columnApi"))],t.prototype,"agWire",null),Ag([H],t.prototype,"init",null),Ag([$],t.prototype,"destroy",null),t=Ag([z("gridOptionsService")],t)}(),Bg=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),jg=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},Ug=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Bg(e,t),e.prototype.getLocaleTextFunc=function(){var t=this.gridOptionsService.getCallback("getLocaleText");if(t)return function(e,n,i){return t({key:e,defaultValue:n,variableValues:i})};var e=this.gridOptionsService.get("localeTextFunc");if(e)return e;var n=this.gridOptionsService.get("localeText");return function(t,e,i){var o=n&&n[t];if(o&&i&&i.length)for(var r=0;!(r>=i.length);){if(-1===o.indexOf("${variable}"))break;o=o.replace("${variable}",i[r++])}return null!=o?o:e}},e=jg([z("localeService")],e)}(jt),Vg=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Wg=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},Hg=function(t){function e(){return t.call(this,e.TEMPLATE,"vertical")||this}return Vg(e,t),e.prototype.postConstruct=function(){t.prototype.postConstruct.call(this),this.createManagedBean(new oc(this.eContainer)),this.ctrlsService.registerFakeVScrollComp(this)},e.prototype.setScrollVisible=function(){var t=this.scrollVisibleService.isVerticalScrollShowing(),e=this.invisibleScrollbar,n=t&&this.gridOptionsService.getScrollbarWidth()||0,i=0===n&&e?16:n;this.addOrRemoveCssClass("ag-scrollbar-invisible",e),Mi(this.getGui(),i),Mi(this.eViewport,i),Mi(this.eContainer,i),this.setDisplayed(t,{skipAriaHidden:!0})},e.TEMPLATE='<div class="ag-body-vertical-scroll" aria-hidden="true">\n            <div class="ag-body-vertical-scroll-viewport" ref="eViewport">\n                <div class="ag-body-vertical-scroll-container" ref="eContainer"></div>\n            </div>\n        </div>',Wg([H],e.prototype,"postConstruct",null),e}(bg),$g=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},zg=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat($g(arguments[e]));return t},Kg=function(){function t(t,e,n){e?(this.gridOptions=e,(new Yg).create(t,e,(function(e){var n=new Kp(t);e.createBean(n)}),void 0,n)):console.error("AG Grid: no gridOptions provided to the grid")}return t.prototype.destroy=function(){this.gridOptions&&this.gridOptions.api&&this.gridOptions.api.destroy()},t}(),Yg=function(){function t(){}return t.prototype.create=function(t,e,n,i,o){var r=this,s=!!e.debug,a=this.getRegisteredModules(o),l=this.createBeansList(e.rowModelType,a),c=this.createProvidedBeans(t,e,o);if(l){var u={providedBeanInstances:c,beanClasses:l,debug:s},h=new Up("AG Grid",(function(){return e.debug})),d=new Up("Context",(function(){return u.debug})),p=new V(u,d),f=p.getBean("beans");this.registerModuleUserComponents(f,a),this.registerStackComponents(f,a),this.registerControllers(f,a),n(p),f.ctrlsService.whenReady((function(){r.setColumnsAndData(f),r.dispatchGridReadyEvent(f);var t=it.isRegistered(J.EnterpriseCoreModule);h.log("initialised successfully, enterprise = "+t)})),i&&i(p)}},t.prototype.registerControllers=function(t,e){e.forEach((function(e){e.controllers&&e.controllers.forEach((function(e){return t.ctrlsFactory.register(e)}))}))},t.prototype.registerStackComponents=function(t,e){var n=this.createAgStackComponentsList(e);t.agStackComponentsRegistry.setupComponents(n)},t.prototype.getRegisteredModules=function(t){var e=t?t.modules:null,n=it.getRegisteredModules(),i=[],o={};function r(t,e){var n;o[(n=e).moduleName]||(o[n.moduleName]=!0,i.push(n),it.register(n,t)),e.dependantModules&&e.dependantModules.forEach(r.bind(null,t))}return e&&e.forEach(r.bind(null,!0)),n&&n.forEach(r.bind(null,!it.isPackageBased())),i},t.prototype.registerModuleUserComponents=function(t,e){this.extractModuleEntity(e,(function(t){return t.userComponents?t.userComponents:[]})).forEach((function(e){t.userComponentRegistry.registerDefaultComponent(e.componentName,e.componentClass)}))},t.prototype.createProvidedBeans=function(t,e,n){var i=n?n.frameworkOverrides:null;r(i)&&(i=new cp);var o={gridOptions:e,eGridDiv:t,globalEventListener:n?n.globalEventListener:null,frameworkOverrides:i};return n&&n.providedBeanInstances&&Object.assign(o,n.providedBeanInstances),o},t.prototype.createAgStackComponentsList=function(t){var e=[{componentName:"AgCheckbox",componentClass:er},{componentName:"AgRadioButton",componentClass:ir},{componentName:"AgToggleButton",componentClass:cd},{componentName:"AgInputTextField",componentClass:xr},{componentName:"AgInputTextArea",componentClass:hd},{componentName:"AgInputNumberField",componentClass:Tr},{componentName:"AgInputRange",componentClass:pd},{componentName:"AgSelect",componentClass:qo},{componentName:"AgSlider",componentClass:md},{componentName:"AgGridBody",componentClass:Ec},{componentName:"AgHeaderRoot",componentClass:ch},{componentName:"AgSortIndicator",componentClass:Jr},{componentName:"AgPagination",componentClass:Ff},{componentName:"AgOverlayWrapper",componentClass:jf},{componentName:"AgGroupComponent",componentClass:vd},{componentName:"AgPanel",componentClass:jd},{componentName:"AgDialog",componentClass:Hd},{componentName:"AgRowContainer",componentClass:Hc},{componentName:"AgFakeHorizontalScroll",componentClass:wg},{componentName:"AgFakeVerticalScroll",componentClass:Hg}],n=this.extractModuleEntity(t,(function(t){return t.agStackComponents?t.agStackComponents:[]}));return e=e.concat(n)},t.prototype.createBeansList=function(t,e){void 0===t&&(t="clientSide");var n=e.filter((function(e){return!e.rowModel||e.rowModel===t})),i={clientSide:J.ClientSideRowModelModule,infinite:J.InfiniteRowModelModule,serverSide:J.ServerSideRowModelModule,viewport:J.ViewportRowModelModule};if(i[t]){if(it.assertRegistered(i[t],"rowModelType = '"+t+"'")){var o=[Sl,Wf,zf,rg,lf,ka,ra,_f,Cf,Eh,xa,Rf,dh,Ug,le,Kh,Ra,Ge,et,Gg,ip,wp,Ba,Ae,ih,od,jh,Lp,Ht,Np,yp,Ac,hf,Mp,jp,ke,Th,gh,As,xp,qd,Tc,Pf,fp,Hh,ad,Oc,Jp,ef,rf,If,me,ff,Oh,ng,Ue,ag,cg,ed,dg,gg,Pg,Dg,yg],r=this.extractModuleEntity(n,(function(t){return t.beans?t.beans:[]}));o.push.apply(o,zg(r));var s=[];return o.forEach((function(t){s.indexOf(t)<0&&s.push(t)})),s}}else console.error("AG Grid: could not find row model for rowModelType = "+t)},t.prototype.extractModuleEntity=function(t,e){return[].concat.apply([],zg(t.map(e)))},t.prototype.setColumnsAndData=function(t){var e=t.gridOptionsService.get("columnDefs");t.columnModel.setColumnDefs(e||[],"gridInitializing"),t.rowModel.start()},t.prototype.dispatchGridReadyEvent=function(t){var e={type:zt.EVENT_GRID_READY};t.eventService.dispatchEvent(e)},t}(),Xg=function(){function t(){}return t.prototype.wrap=function(t,e,n,i){var o=this;void 0===n&&(n=[]);var r=this.createWrapper(t,i);return e.forEach((function(t){o.createMethod(r,t,!0)})),n.forEach((function(t){o.createMethod(r,t,!1)})),r},t.prototype.unwrap=function(t){return t},t.prototype.createMethod=function(t,e,n){t.addMethod(e,this.createMethodProxy(t,e,n))},t.prototype.createMethodProxy=function(t,e,n){return function(){return t.hasMethod(e)?t.callMethod(e,arguments):(n&&console.warn("AG Grid: Framework component is missing the method "+e+"()"),null)}},t}(),qg={columnGroup:["column","stackedColumn","normalizedColumn"],barGroup:["bar","stackedBar","normalizedBar"],pieGroup:["pie","doughnut"],lineGroup:["line"],scatterGroup:["scatter","bubble"],areaGroup:["area","stackedArea","normalizedArea"],histogramGroup:["histogram"],combinationGroup:["columnLineCombo","areaColumnCombo","customCombo"]},Zg=["chartSettings","chartData","chartFormat"],Jg=["chartUnlink","chartLink","chartDownload"],Qg={settings:"chartSettings",data:"chartData",format:"chartFormat"};!function(t){t.InsideBase="insideBase",t.InsideEnd="insideEnd",t.Center="center",t.OutsideEnd="outsideEnd"}(Fg||(Fg={}));var tm=void 0===n.g?{}:n.g;tm.HTMLElement="undefined"==typeof HTMLElement?{}:HTMLElement,tm.HTMLButtonElement="undefined"==typeof HTMLButtonElement?{}:HTMLButtonElement,tm.HTMLSelectElement="undefined"==typeof HTMLSelectElement?{}:HTMLSelectElement,tm.HTMLInputElement="undefined"==typeof HTMLInputElement?{}:HTMLInputElement,tm.Node="undefined"==typeof Node?{}:Node,tm.MouseEvent="undefined"==typeof MouseEvent?{}:MouseEvent;var em,nm=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},im=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(nm(arguments[e]));return t},om=function(){function t(e,n,i,o,r,s){this.nextId=0,this.allNodesMap={},this.rootNode=e,this.gridOptionsService=n,this.eventService=i,this.columnModel=o,this.beans=s,this.selectionService=r,this.rootNode.group=!0,this.rootNode.level=-1,this.rootNode.id=t.ROOT_NODE_ID,this.rootNode.allLeafChildren=[],this.rootNode.childrenAfterGroup=[],this.rootNode.childrenAfterSort=[],this.rootNode.childrenAfterAggFilter=[],this.rootNode.childrenAfterFilter=[],this.postConstruct()}return t.prototype.postConstruct=function(){this.suppressParentsInRowNodes=this.gridOptionsService.is("suppressParentsInRowNodes"),this.isRowMasterFunc=this.gridOptionsService.get("isRowMaster"),this.doingTreeData=this.gridOptionsService.isTreeData(),this.doingMasterDetail=this.gridOptionsService.isMasterDetail()},t.prototype.getCopyOfNodesMap=function(){return no.cloneObject(this.allNodesMap)},t.prototype.getRowNode=function(t){return this.allNodesMap[t]},t.prototype.setRowData=function(e){var n=this;if("string"!=typeof e){var i=this.rootNode,o=this.rootNode.sibling;i.childrenAfterFilter=null,i.childrenAfterGroup=null,i.childrenAfterAggFilter=null,i.childrenAfterSort=null,i.childrenMapped=null,i.updateHasChildren(),this.nextId=0,this.allNodesMap={},e?i.allLeafChildren=e.map((function(e){return n.createNode(e,n.rootNode,t.TOP_LEVEL)})):(i.allLeafChildren=[],i.childrenAfterGroup=[]),o&&(o.childrenAfterFilter=i.childrenAfterFilter,o.childrenAfterGroup=i.childrenAfterGroup,o.childrenAfterAggFilter=i.childrenAfterAggFilter,o.childrenAfterSort=i.childrenAfterSort,o.childrenMapped=i.childrenMapped,o.allLeafChildren=i.allLeafChildren)}else console.warn("AG Grid: rowData must be an array, however you passed in a string. If you are loading JSON, make sure you convert the JSON string to JavaScript objects first")},t.prototype.updateRowData=function(t,e){var n={remove:[],update:[],add:[]},i=[];return this.executeRemove(t,n,i),this.executeUpdate(t,n,i),this.executeAdd(t,n),this.updateSelection(i,"rowDataChanged"),e&&no.sortRowNodesByOrder(this.rootNode.allLeafChildren,e),n},t.prototype.updateSelection=function(t,e){var n=t.length>0;if(n&&t.forEach((function(t){t.setSelected(!1,!1,!0,e)})),this.selectionService.updateGroupsFromChildrenSelections(e),n){var i={type:zt.EVENT_SELECTION_CHANGED,source:e};this.eventService.dispatchEvent(i)}},t.prototype.executeAdd=function(e,n){var i,o=this,r=e.add,s=e.addIndex;if(!no.missingOrEmpty(r)){var a=r.map((function(e){return o.createNode(e,o.rootNode,t.TOP_LEVEL)}));if("number"==typeof s&&s>=0){var l=this.rootNode.allLeafChildren,c=l.length,u=s;if(this.doingTreeData&&s>0&&c>0)for(var h=0;h<c;h++)if((null===(i=l[h])||void 0===i?void 0:i.rowIndex)==s-1){u=h+1;break}var d=l.slice(0,u),p=l.slice(u,l.length);this.rootNode.allLeafChildren=im(d,a,p)}else this.rootNode.allLeafChildren=im(this.rootNode.allLeafChildren,a);this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren),n.add=a}},t.prototype.executeRemove=function(t,e,n){var i=this,o=t.remove;if(!no.missingOrEmpty(o)){var r={};o.forEach((function(t){var o=i.lookupRowNode(t);o&&(o.isSelected()&&n.push(o),o.clearRowTopAndRowIndex(),r[o.id]=!0,delete i.allNodesMap[o.id],e.remove.push(o))})),this.rootNode.allLeafChildren=this.rootNode.allLeafChildren.filter((function(t){return!r[t.id]})),this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren)}},t.prototype.executeUpdate=function(e,n,i){var o=this,r=e.update;no.missingOrEmpty(r)||r.forEach((function(e){var r=o.lookupRowNode(e);r&&(r.updateData(e),!r.selectable&&r.isSelected()&&i.push(r),o.setMasterForRow(r,e,t.TOP_LEVEL,!1),n.update.push(r))}))},t.prototype.lookupRowNode=function(t){var e,n=this.gridOptionsService.getRowIdFunc();if(n){var i=n({data:t,level:0});if(!(e=this.allNodesMap[i]))return console.error("AG Grid: could not find row id="+i+", data item was not found for this id"),null}else if(!(e=this.rootNode.allLeafChildren.find((function(e){return e.data===t}))))return console.error("AG Grid: could not find data item as object was not found",t),console.error("Consider using getRowId to help the Grid find matching row data"),null;return e||null},t.prototype.createNode=function(t,e,n){var i=new Ss(this.beans);return i.group=!1,this.setMasterForRow(i,t,n,!0),e&&!this.suppressParentsInRowNodes&&(i.parent=e),i.level=n,i.setDataAndId(t,this.nextId.toString()),this.allNodesMap[i.id]&&console.warn("AG Grid: duplicate node id '"+i.id+"' detected from getRowId callback, this could cause issues in your grid."),this.allNodesMap[i.id]=i,this.nextId++,i},t.prototype.setMasterForRow=function(t,e,n,i){if(this.doingTreeData)t.setMaster(!1),i&&(t.expanded=!1);else if(this.doingMasterDetail?this.isRowMasterFunc?t.setMaster(this.isRowMasterFunc(e)):t.setMaster(!0):t.setMaster(!1),i){var o=this.columnModel.getRowGroupColumns(),r=n+(o?o.length:0);t.expanded=!!t.master&&this.isExpanded(r)}},t.prototype.isExpanded=function(t){var e=this.gridOptionsService.getNum("groupDefaultExpanded");return-1===e||t<e},t.TOP_LEVEL=0,t.ROOT_NODE_ID="ROOT_NODE_ID",t}(),rm=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),sm=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},am=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},lm=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(am(arguments[e]));return t};!function(t){t[t.Normal=0]="Normal",t[t.AfterFilter=1]="AfterFilter",t[t.AfterFilterAndSort=2]="AfterFilterAndSort",t[t.PivotNodes=3]="PivotNodes"}(em||(em={}));var cm,um=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.onRowHeightChanged_debounced=no.debounce(e.onRowHeightChanged.bind(e),100),e.rowsToDisplay=[],e}return rm(e,t),e.prototype.init=function(){var t=this.refreshModel.bind(this,{step:Ta.EVERYTHING}),e=!this.gridOptionsService.is("suppressAnimationFrame"),n=this.refreshModel.bind(this,{step:Ta.EVERYTHING,afterColumnsChanged:!0,keepRenderedRows:!0,animate:e});this.addManagedListener(this.eventService,zt.EVENT_NEW_COLUMNS_LOADED,n),this.addManagedListener(this.eventService,zt.EVENT_COLUMN_ROW_GROUP_CHANGED,t),this.addManagedListener(this.eventService,zt.EVENT_COLUMN_VALUE_CHANGED,this.onValueChanged.bind(this)),this.addManagedListener(this.eventService,zt.EVENT_COLUMN_PIVOT_CHANGED,this.refreshModel.bind(this,{step:Ta.PIVOT})),this.addManagedListener(this.eventService,zt.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,zt.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,zt.EVENT_COLUMN_PIVOT_MODE_CHANGED,t),this.addManagedListener(this.eventService,zt.EVENT_GRID_STYLES_CHANGED,this.onGridStylesChanges.bind(this));var i=this.refreshModel.bind(this,{step:Ta.MAP,keepRenderedRows:!0,animate:e});this.addManagedPropertyListener("groupRemoveSingleChildren",i),this.addManagedPropertyListener("groupRemoveLowestSingleChildren",i),this.rootNode=new Ss(this.beans),this.nodeManager=new om(this.rootNode,this.gridOptionsService,this.eventService,this.columnModel,this.selectionService,this.beans)},e.prototype.start=function(){var t=this.gridOptionsService.get("rowData");t&&this.setRowData(t)},e.prototype.ensureRowHeightsValid=function(t,e,n,i){var o,r=!1;do{o=!1;for(var s=this.getRowIndexAtPixel(t),a=this.getRowIndexAtPixel(e),l=Math.max(s,n),c=Math.min(a,i),u=l;u<=c;u++){var h=this.getRow(u);if(h.rowHeightEstimated){var d=this.gridOptionsService.getRowHeightForNode(h);h.setRowHeight(d.height),o=!0,r=!0}}o&&this.setRowTopAndRowIndex()}while(o);return r},e.prototype.setRowTopAndRowIndex=function(){for(var t=this.environment.getDefaultRowHeight(),e=0,n=new Set,i=this.gridOptionsService.isDomLayout("normal"),o=0;o<this.rowsToDisplay.length;o++){var r=this.rowsToDisplay[o];if(null!=r.id&&n.add(r.id),null==r.rowHeight){var s=this.gridOptionsService.getRowHeightForNode(r,i,t);r.setRowHeight(s.height,s.estimated)}r.setRowTop(e),r.setRowIndex(o),e+=r.rowHeight}return n},e.prototype.clearRowTopAndRowIndex=function(t,e){var n=t.isActive(),i=function(t){t&&null!=t.id&&!e.has(t.id)&&t.clearRowTopAndRowIndex()},o=function(t){if(i(t),i(t.detailNode),i(t.sibling),t.hasChildren()&&t.childrenAfterGroup){var e=-1==t.level;n&&!e&&!t.expanded||t.childrenAfterGroup.forEach(o)}};o(this.rootNode)},e.prototype.ensureRowsAtPixel=function(t,e,n){var i=this;void 0===n&&(n=0);var o=this.getRowIndexAtPixel(e),r=this.getRow(o),s=!this.gridOptionsService.is("suppressAnimationFrame");return r!==t[0]&&(t.forEach((function(t){no.removeFromArray(i.rootNode.allLeafChildren,t)})),t.forEach((function(t,e){no.insertIntoArray(i.rootNode.allLeafChildren,t,Math.max(o+n,0)+e)})),this.refreshModel({step:Ta.EVERYTHING,keepRenderedRows:!0,keepEditingRows:!0,animate:s}),!0)},e.prototype.highlightRowAtPixel=function(t,e){var n=null!=e?this.getRowIndexAtPixel(e):null,i=null!=n?this.getRow(n):null;if(i&&t&&i!==t&&null!=e){var o=this.getHighlightPosition(e,i);this.lastHighlightedRow&&this.lastHighlightedRow!==i&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null),i.setHighlighted(o),this.lastHighlightedRow=i}else this.lastHighlightedRow&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null)},e.prototype.getHighlightPosition=function(t,e){if(!e){var n=this.getRowIndexAtPixel(t);if(!(e=this.getRow(n||0)))return Pa.Below}return t-e.rowTop<e.rowHeight/2?Pa.Above:Pa.Below},e.prototype.getLastHighlightedRowNode=function(){return this.lastHighlightedRow},e.prototype.isLastRowIndexKnown=function(){return!0},e.prototype.getRowCount=function(){return this.rowsToDisplay?this.rowsToDisplay.length:0},e.prototype.getTopLevelRowCount=function(){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return 1;var t=this.rootNode.childrenAfterAggFilter;return t?t.length:0},e.prototype.getTopLevelRowDisplayedIndex=function(t){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return t;var e=this.rootNode.childrenAfterSort[t];if(this.gridOptionsService.is("groupHideOpenParents"))for(;e.expanded&&e.childrenAfterSort&&e.childrenAfterSort.length>0;)e=e.childrenAfterSort[0];return e.rowIndex},e.prototype.getRowBounds=function(t){if(no.missing(this.rowsToDisplay))return null;var e=this.rowsToDisplay[t];return e?{rowTop:e.rowTop,rowHeight:e.rowHeight}:null},e.prototype.onRowGroupOpened=function(){var t=this.gridOptionsService.isAnimateRows();this.refreshModel({step:Ta.MAP,keepRenderedRows:!0,animate:t})},e.prototype.onFilterChanged=function(t){if(!t.afterDataChange){var e=this.gridOptionsService.isAnimateRows(),n=0===t.columns.length||t.columns.some((function(t){return t.isPrimary()}))?Ta.FILTER:Ta.FILTER_AGGREGATES;this.refreshModel({step:n,keepRenderedRows:!0,animate:e})}},e.prototype.onSortChanged=function(){var t=this.gridOptionsService.isAnimateRows();this.refreshModel({step:Ta.SORT,keepRenderedRows:!0,animate:t,keepEditingRows:!0})},e.prototype.getType=function(){return"clientSide"},e.prototype.onValueChanged=function(){this.columnModel.isPivotActive()?this.refreshModel({step:Ta.PIVOT}):this.refreshModel({step:Ta.AGGREGATE})},e.prototype.createChangePath=function(t){var e=no.missingOrEmpty(t),n=new Xh(!1,this.rootNode);return(e||this.gridOptionsService.isTreeData())&&n.setInactive(),n},e.prototype.isSuppressModelUpdateAfterUpdateTransaction=function(t){if(!this.gridOptionsService.is("suppressModelUpdateAfterUpdateTransaction"))return!1;if(null==t.rowNodeTransactions)return!1;var e=t.rowNodeTransactions.filter((function(t){return null!=t.add&&t.add.length>0||null!=t.remove&&t.remove.length>0}));return null==e||0==e.length},e.prototype.buildRefreshModelParams=function(t){var e=Ta.EVERYTHING,n={everything:Ta.EVERYTHING,group:Ta.EVERYTHING,filter:Ta.FILTER,map:Ta.MAP,aggregate:Ta.AGGREGATE,sort:Ta.SORT,pivot:Ta.PIVOT};if(no.exists(t)&&(e=n[t]),!no.missing(e))return{step:e,keepRenderedRows:!0,keepEditingRows:!0,animate:!this.gridOptionsService.is("suppressAnimationFrame")};console.error("AG Grid: invalid step "+t+", available steps are "+Object.keys(n).join(", "))},e.prototype.refreshModel=function(t){var e="object"==typeof t&&"step"in t?t:this.buildRefreshModelParams(t);if(e&&!this.isSuppressModelUpdateAfterUpdateTransaction(e)){var n=this.createChangePath(e.rowNodeTransactions);switch(e.step){case Ta.EVERYTHING:this.doRowGrouping(e.groupState,e.rowNodeTransactions,e.rowNodeOrder,n,!!e.afterColumnsChanged);case Ta.FILTER:this.doFilter(n);case Ta.PIVOT:this.doPivot(n);case Ta.AGGREGATE:this.doAggregate(n);case Ta.FILTER_AGGREGATES:this.doFilterAggregates(n);case Ta.SORT:this.doSort(e.rowNodeTransactions,n);case Ta.MAP:this.doRowsToDisplay()}var i=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(n,i);var o={type:zt.EVENT_MODEL_UPDATED,animate:e.animate,keepRenderedRows:e.keepRenderedRows,newData:e.newData,newPage:!1,keepUndoRedoStack:e.keepUndoRedoStack};this.eventService.dispatchEvent(o)}},e.prototype.isEmpty=function(){var t=no.missing(this.rootNode.allLeafChildren)||0===this.rootNode.allLeafChildren.length;return no.missing(this.rootNode)||t||!this.columnModel.isReady()},e.prototype.isRowsToRender=function(){return no.exists(this.rowsToDisplay)&&this.rowsToDisplay.length>0},e.prototype.getNodesInRangeForSelection=function(t,e){var n,i=!e,o=!1,r=[],s=this.gridOptionsService.is("groupSelectsChildren");return this.forEachNodeAfterFilterAndSort((function(a){var l=i&&!o;if(i||a!==e&&a!==t||(i=!0),!(a.group&&s)){var c=i&&!o,u=a.isParentOfNode(n);(c||u)&&r.push(a)}l&&(a!==e&&a!==t||(o=!0,n=a===e?e:t))})),r},e.prototype.setDatasource=function(t){console.error("AG Grid: should never call setDatasource on clientSideRowController")},e.prototype.getTopLevelNodes=function(){return this.rootNode?this.rootNode.childrenAfterGroup:null},e.prototype.getRootNode=function(){return this.rootNode},e.prototype.getRow=function(t){return this.rowsToDisplay[t]},e.prototype.isRowPresent=function(t){return this.rowsToDisplay.indexOf(t)>=0},e.prototype.getRowIndexAtPixel=function(t){if(this.isEmpty()||0===this.rowsToDisplay.length)return-1;var e=0,n=this.rowsToDisplay.length-1;if(t<=0)return 0;if(no.last(this.rowsToDisplay).rowTop<=t)return this.rowsToDisplay.length-1;for(var i=-1,o=-1;;){var r=Math.floor((e+n)/2),s=this.rowsToDisplay[r];if(this.isRowInPixel(s,t))return r;if(s.rowTop<t?e=r+1:s.rowTop>t&&(n=r-1),i===e&&o===n)return r;i=e,o=n}},e.prototype.isRowInPixel=function(t,e){var n=t.rowTop,i=t.rowTop+t.rowHeight;return n<=e&&i>e},e.prototype.forEachLeafNode=function(t){this.rootNode.allLeafChildren&&this.rootNode.allLeafChildren.forEach((function(e,n){return t(e,n)}))},e.prototype.forEachNode=function(t,e){void 0===e&&(e=!1),this.recursivelyWalkNodesAndCallback({nodes:lm(this.rootNode.childrenAfterGroup||[]),callback:t,recursionType:em.Normal,index:0,includeFooterNodes:e})},e.prototype.forEachNodeAfterFilter=function(t,e){void 0===e&&(e=!1),this.recursivelyWalkNodesAndCallback({nodes:lm(this.rootNode.childrenAfterAggFilter||[]),callback:t,recursionType:em.AfterFilter,index:0,includeFooterNodes:e})},e.prototype.forEachNodeAfterFilterAndSort=function(t,e){void 0===e&&(e=!1),this.recursivelyWalkNodesAndCallback({nodes:lm(this.rootNode.childrenAfterSort||[]),callback:t,recursionType:em.AfterFilterAndSort,index:0,includeFooterNodes:e})},e.prototype.forEachPivotNode=function(t,e){void 0===e&&(e=!1),this.recursivelyWalkNodesAndCallback({nodes:[this.rootNode],callback:t,recursionType:em.PivotNodes,index:0,includeFooterNodes:e})},e.prototype.recursivelyWalkNodesAndCallback=function(t){var e,n=t.nodes,i=t.callback,o=t.recursionType,r=t.includeFooterNodes,s=t.index,a=n[0];r&&(null===(e=null==a?void 0:a.parent)||void 0===e?void 0:e.sibling)&&n.push(a.parent.sibling);for(var l=0;l<n.length;l++){var c=n[l];if(i(c,s++),c.hasChildren()&&!c.footer){var u=null;switch(o){case em.Normal:u=c.childrenAfterGroup;break;case em.AfterFilter:u=c.childrenAfterAggFilter;break;case em.AfterFilterAndSort:u=c.childrenAfterSort;break;case em.PivotNodes:u=c.leafGroup?null:c.childrenAfterSort}u&&(s=this.recursivelyWalkNodesAndCallback({nodes:lm(u),callback:i,recursionType:o,index:s,includeFooterNodes:r}))}}return s},e.prototype.doAggregate=function(t){this.aggregationStage&&this.aggregationStage.execute({rowNode:this.rootNode,changedPath:t})},e.prototype.doFilterAggregates=function(t){this.filterAggregatesStage?this.filterAggregatesStage.execute({rowNode:this.rootNode,changedPath:t}):this.rootNode.childrenAfterAggFilter=this.rootNode.childrenAfterFilter},e.prototype.expandOrCollapseAll=function(t){var e=this.gridOptionsService.isTreeData(),n=this.columnModel.isPivotActive(),i=function(o){o&&o.forEach((function(o){var r=function(){o.expanded=t,i(o.childrenAfterGroup)};e?no.exists(o.childrenAfterGroup)&&r():n?!o.leafGroup&&r():o.group&&r()}))};this.rootNode&&i(this.rootNode.childrenAfterGroup),this.refreshModel({step:Ta.MAP});var o=t?"expandAll":"collapseAll",r={type:zt.EVENT_EXPAND_COLLAPSE_ALL,source:o};this.eventService.dispatchEvent(r)},e.prototype.doSort=function(t,e){this.sortStage.execute({rowNode:this.rootNode,rowNodeTransactions:t,changedPath:e})},e.prototype.doRowGrouping=function(t,e,n,i,o){if(this.groupStage){if(e?this.groupStage.execute({rowNode:this.rootNode,rowNodeTransactions:e,rowNodeOrder:n,changedPath:i}):(this.groupStage.execute({rowNode:this.rootNode,changedPath:i,afterColumnsChanged:o}),this.restoreGroupState(t)),this.gridOptionsService.is("groupSelectsChildren")&&this.selectionService.updateGroupsFromChildrenSelections("rowGroupChanged",i)){var r={type:zt.EVENT_SELECTION_CHANGED,source:"rowGroupChanged"};this.eventService.dispatchEvent(r)}}else this.rootNode.childrenAfterGroup=this.rootNode.allLeafChildren,this.rootNode.sibling&&(this.rootNode.sibling.childrenAfterGroup=this.rootNode.childrenAfterGroup),this.rootNode.updateHasChildren()},e.prototype.restoreGroupState=function(t){t&&no.traverseNodesWithKey(this.rootNode.childrenAfterGroup,(function(e,n){"boolean"==typeof t[n]&&(e.expanded=t[n])}))},e.prototype.doFilter=function(t){this.filterStage.execute({rowNode:this.rootNode,changedPath:t})},e.prototype.doPivot=function(t){this.pivotStage&&this.pivotStage.execute({rowNode:this.rootNode,changedPath:t})},e.prototype.getGroupState=function(){if(!this.rootNode.childrenAfterGroup||!this.gridOptionsService.is("rememberGroupStateWhenNewData"))return null;var t={};return no.traverseNodesWithKey(this.rootNode.childrenAfterGroup,(function(e,n){return t[n]=e.expanded})),t},e.prototype.getCopyOfNodesMap=function(){return this.nodeManager.getCopyOfNodesMap()},e.prototype.getRowNode=function(t){if("string"==typeof t&&0==t.indexOf(Ss.ID_PREFIX_ROW_GROUP)){var e=void 0;return this.forEachNode((function(n){n.id===t&&(e=n)})),e}return this.nodeManager.getRowNode(t)},e.prototype.setRowData=function(t){var e=this.getGroupState();this.nodeManager.setRowData(t),this.selectionService.reset(),this.filterManager.onNewRowsLoaded("rowDataUpdated");var n={type:zt.EVENT_ROW_DATA_UPDATED};this.eventService.dispatchEvent(n),this.refreshModel({step:Ta.EVERYTHING,groupState:e,newData:!0})},e.prototype.batchUpdateRowData=function(t,e){var n=this;if(null==this.applyAsyncTransactionsTimeout){this.rowDataTransactionBatch=[];var i=this.gridOptionsService.getAsyncTransactionWaitMillis();this.applyAsyncTransactionsTimeout=window.setTimeout((function(){n.executeBatchUpdateRowData()}),i)}this.rowDataTransactionBatch.push({rowDataTransaction:t,callback:e})},e.prototype.flushAsyncTransactions=function(){null!=this.applyAsyncTransactionsTimeout&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())},e.prototype.executeBatchUpdateRowData=function(){var t=this;this.valueCache.onDataChanged();var e=[],n=[],i=!1;if(this.rowDataTransactionBatch&&this.rowDataTransactionBatch.forEach((function(o){var r=t.nodeManager.updateRowData(o.rowDataTransaction,void 0);n.push(r),o.callback&&e.push(o.callback.bind(null,r)),"number"==typeof o.rowDataTransaction.addIndex&&(i=!0)})),this.commonUpdateRowData(n,void 0,i),e.length>0&&window.setTimeout((function(){e.forEach((function(t){return t()}))}),0),n.length>0){var o={type:zt.EVENT_ASYNC_TRANSACTIONS_FLUSHED,results:n};this.eventService.dispatchEvent(o)}this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0},e.prototype.updateRowData=function(t,e){this.valueCache.onDataChanged();var n=this.nodeManager.updateRowData(t,e),i="number"==typeof t.addIndex;return this.commonUpdateRowData([n],e,i),n},e.prototype.createRowNodeOrder=function(){if(!this.gridOptionsService.is("suppressMaintainUnsortedOrder")){var t={};if(this.rootNode&&this.rootNode.allLeafChildren)for(var e=0;e<this.rootNode.allLeafChildren.length;e++){t[this.rootNode.allLeafChildren[e].id]=e}return t}},e.prototype.commonUpdateRowData=function(t,e,n){var i=!this.gridOptionsService.is("suppressAnimationFrame");n&&(e=this.createRowNodeOrder()),this.refreshModel({step:Ta.EVERYTHING,rowNodeTransactions:t,rowNodeOrder:e,keepRenderedRows:!0,keepEditingRows:!0,animate:i}),this.filterManager.onNewRowsLoaded("rowDataUpdated");var o={type:zt.EVENT_ROW_DATA_UPDATED};this.eventService.dispatchEvent(o)},e.prototype.doRowsToDisplay=function(){this.rowsToDisplay=this.flattenStage.execute({rowNode:this.rootNode})},e.prototype.onRowHeightChanged=function(){this.refreshModel({step:Ta.MAP,keepRenderedRows:!0,keepEditingRows:!0,keepUndoRedoStack:!0})},e.prototype.onRowHeightChangedDebounced=function(){this.onRowHeightChanged_debounced()},e.prototype.resetRowHeights=function(){var t=this.resetRowHeightsForAllRowNodes();this.rootNode.setRowHeight(this.rootNode.rowHeight,!0),t&&this.onRowHeightChanged()},e.prototype.resetRowHeightsForAllRowNodes=function(){var t=!1;return this.forEachNode((function(e){e.setRowHeight(e.rowHeight,!0);var n=e.detailNode;n&&n.setRowHeight(n.rowHeight,!0),t=!0})),t},e.prototype.onGridStylesChanges=function(){this.columnModel.isAutoRowHeightActive()||this.resetRowHeights()},sm([K("columnModel")],e.prototype,"columnModel",void 0),sm([K("selectionService")],e.prototype,"selectionService",void 0),sm([K("filterManager")],e.prototype,"filterManager",void 0),sm([K("valueCache")],e.prototype,"valueCache",void 0),sm([K("beans")],e.prototype,"beans",void 0),sm([K("filterStage")],e.prototype,"filterStage",void 0),sm([K("sortStage")],e.prototype,"sortStage",void 0),sm([K("flattenStage")],e.prototype,"flattenStage",void 0),sm([Y("groupStage")],e.prototype,"groupStage",void 0),sm([Y("aggregationStage")],e.prototype,"aggregationStage",void 0),sm([Y("pivotStage")],e.prototype,"pivotStage",void 0),sm([Y("filterAggregatesStage")],e.prototype,"filterAggregatesStage",void 0),sm([H],e.prototype,"init",null),e=sm([z("rowModel")],e)}(jt),hm=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),dm=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},pm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return hm(e,t),e.prototype.execute=function(t){var e=t.changedPath;this.filterService.filter(e)},dm([K("filterService")],e.prototype,"filterService",void 0),e=dm([z("filterStage")],e)}(jt),fm=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),gm=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},mm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return fm(e,t),e.prototype.execute=function(t){var e=this,n=this.sortController.getSortOptions(),i=no.exists(n)&&n.length>0,o=i&&no.exists(t.rowNodeTransactions)&&this.gridOptionsService.is("deltaSort"),r=n.some((function(t){return!!e.columnModel.getGroupDisplayColumnForGroup(t.column.getId())}));this.sortService.sort(n,i,o,t.rowNodeTransactions,t.changedPath,r)},gm([K("sortService")],e.prototype,"sortService",void 0),gm([K("sortController")],e.prototype,"sortController",void 0),gm([K("columnModel")],e.prototype,"columnModel",void 0),e=gm([z("sortStage")],e)}(jt),_m=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ym=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},vm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return _m(e,t),e.prototype.execute=function(t){var e=t.rowNode,n=[],i={value:0},o=this.columnModel.isPivotMode(),r=o&&e.leafGroup,s=r?[e]:e.childrenAfterSort;return this.recursivelyAddToRowsToDisplay(s,n,i,o,0),!r&&n.length>0&&this.gridOptionsService.is("groupIncludeTotalFooter")&&(e.createFooter(),this.addRowNodeToRowsToDisplay(e.sibling,n,i,0)),n},e.prototype.recursivelyAddToRowsToDisplay=function(t,e,n,i,o){if(!no.missingOrEmpty(t))for(var r=this.gridOptionsService.is("groupHideOpenParents"),s=this.gridOptionsService.is("groupRemoveSingleChildren"),a=!s&&this.gridOptionsService.is("groupRemoveLowestSingleChildren"),l=0;l<t.length;l++){var c=t[l],u=c.hasChildren(),h=i&&!u,d=s&&u&&1===c.childrenAfterGroup.length,p=a&&u&&c.leafGroup&&1===c.childrenAfterGroup.length,f=i&&c.leafGroup,g=r&&c.expanded&&!c.master&&!f;if(!(h||g||d||p)&&this.addRowNodeToRowsToDisplay(c,e,n,o),!i||!c.leafGroup)if(u){var m=d||p;if(c.expanded||m){var _=m?o:o+1;this.recursivelyAddToRowsToDisplay(c.childrenAfterSort,e,n,i,_),this.gridOptionsService.is("groupIncludeFooter")&&this.addRowNodeToRowsToDisplay(c.sibling,e,n,o)}}else if(c.master&&c.expanded){var y=this.createDetailNode(c);this.addRowNodeToRowsToDisplay(y,e,n,o)}}},e.prototype.addRowNodeToRowsToDisplay=function(t,e,n,i){var o=this.gridOptionsService.isGroupMultiAutoColumn();e.push(t),t.setUiLevel(o?0:i)},e.prototype.createDetailNode=function(t){if(no.exists(t.detailNode))return t.detailNode;var e=new Ss(this.beans);return e.detail=!0,e.selectable=!1,e.parent=t,no.exists(t.id)&&(e.id="detail_"+t.id),e.data=t.data,e.level=t.level+1,t.detailNode=e,e},ym([K("columnModel")],e.prototype,"columnModel",void 0),ym([K("beans")],e.prototype,"beans",void 0),e=ym([z("flattenStage")],e)}(jt),Cm=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),bm=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},Em=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Cm(e,t),e.prototype.init=function(){this.postSortFunc=this.getPostSortFunc()},e.prototype.sort=function(t,e,n,i,o,r){var s=this,a=this.gridOptionsService.is("groupMaintainOrder"),l=this.columnModel.getAllGridColumns().some((function(t){return t.isRowGroupActive()})),c={};n&&i&&(c=this.calculateDirtyNodes(i));var u=this.columnModel.isPivotMode();o&&o.forEachChangedNodeDepthFirst((function(i){s.pullDownGroupDataForHideOpenParents(i.childrenAfterAggFilter,!0);var h=u&&i.leafGroup;if(a&&l&&!i.leafGroup&&!r){var d=i.childrenAfterAggFilter.slice(0);if(i.childrenAfterSort){var p={};i.childrenAfterSort.forEach((function(t,e){p[t.id]=e})),d.sort((function(t,e){var n,i;return(null!==(n=p[t.id])&&void 0!==n?n:0)-(null!==(i=p[e.id])&&void 0!==i?i:0)}))}i.childrenAfterSort=d}else i.childrenAfterSort=!e||h?i.childrenAfterAggFilter.slice(0):n?s.doDeltaSort(i,c,o,t):s.rowNodeSorter.doFullSort(i.childrenAfterAggFilter,t);if(i.sibling&&(i.sibling.childrenAfterSort=i.childrenAfterSort),s.updateChildIndexes(i),s.postSortFunc){var f={nodes:i.childrenAfterSort};s.postSortFunc(f)}})),this.updateGroupDataForHideOpenParents(o)},e.prototype.getPostSortFunc=function(){var t=this.gridOptionsService.getCallback("postSortRows");if(t)return t;var e=this.gridOptionsService.get("postSort");return e?function(t){return e(t.nodes)}:void 0},e.prototype.calculateDirtyNodes=function(t){var e={},n=function(t){t&&t.forEach((function(t){return e[t.id]=!0}))};return t&&t.forEach((function(t){n(t.add),n(t.update),n(t.remove)})),e},e.prototype.doDeltaSort=function(t,e,n,i){var o=this,r=t.childrenAfterAggFilter,s=t.childrenAfterSort;if(!s)return this.rowNodeSorter.doFullSort(r,i);var a={},l=[];r.forEach((function(t){e[t.id]||!n.canSkip(t)?l.push(t):a[t.id]=!0}));var c=s.filter((function(t){return a[t.id]})),u=function(t,e){return{currentPos:e,rowNode:t}},h=l.map(u).sort((function(t,e){return o.rowNodeSorter.compareRowNodes(i,t,e)}));return this.mergeSortedArrays(i,h,c.map(u)).map((function(t){return t.rowNode}))},e.prototype.mergeSortedArrays=function(t,e,n){for(var i=[],o=0,r=0;o<e.length&&r<n.length;){this.rowNodeSorter.compareRowNodes(t,e[o],n[r])<0?i.push(e[o++]):i.push(n[r++])}for(;o<e.length;)i.push(e[o++]);for(;r<n.length;)i.push(n[r++]);return i},e.prototype.updateChildIndexes=function(t){if(!no.missing(t.childrenAfterSort))for(var e=t.childrenAfterSort,n=0;n<e.length;n++){var i=e[n],o=0===n,r=n===t.childrenAfterSort.length-1;i.setFirstChild(o),i.setLastChild(r),i.setChildIndex(n)}},e.prototype.updateGroupDataForHideOpenParents=function(t){var e=this;if(this.gridOptionsService.is("groupHideOpenParents")){if(this.gridOptionsService.isTreeData()){return no.doOnce((function(){return console.warn("AG Grid: The property hideOpenParents dose not work with Tree Data. This is because Tree Data has values at the group level, it doesn't make sense to hide them (as opposed to Row Grouping, which only has Aggregated Values at the group level).")}),"sortService.hideOpenParentsWithTreeData"),!1}var n=function(t){e.pullDownGroupDataForHideOpenParents(t.childrenAfterSort,!1),t.childrenAfterSort.forEach((function(t){t.hasChildren()&&n(t)}))};t&&t.executeFromRootNode((function(t){return n(t)}))}},e.prototype.pullDownGroupDataForHideOpenParents=function(t,e){var n=this;this.gridOptionsService.is("groupHideOpenParents")&&!no.missing(t)&&t.forEach((function(t){n.columnModel.getGroupDisplayColumns().forEach((function(i){var o=i.getColDef().showRowGroup;if("string"==typeof o){var r=o,s=n.columnModel.getPrimaryColumn(r);if(!(s===t.rowGroupColumn))if(e)t.setGroupValue(i.getId(),void 0);else{var a=t.getFirstChildOfFirstChild(s);a&&t.setGroupValue(i.getId(),a.key)}}else console.error("AG Grid: groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup")}))}))},bm([K("columnModel")],e.prototype,"columnModel",void 0),bm([K("rowNodeSorter")],e.prototype,"rowNodeSorter",void 0),bm([H],e.prototype,"init",null),e=bm([z("sortService")],e)}(jt),Sm=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),wm=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},Om=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Sm(e,t),e.prototype.filter=function(t){var e=this.filterManager.isColumnFilterPresent()||this.filterManager.isQuickFilterPresent()||this.filterManager.isExternalFilterPresent();this.filterNodes(e,t)},e.prototype.filterNodes=function(t,e){var n=this,i=function(e,i){e.hasChildren()?e.childrenAfterFilter=t&&!i?e.childrenAfterGroup.filter((function(t){var e=t.childrenAfterFilter&&t.childrenAfterFilter.length>0,i=t.data&&n.filterManager.doesRowPassFilter({rowNode:t});return e||i})):e.childrenAfterGroup:e.childrenAfterFilter=e.childrenAfterGroup,e.sibling&&(e.sibling.childrenAfterFilter=e.childrenAfterFilter)};if(this.doingTreeDataFiltering()){var o=function(t,e){if(t.childrenAfterGroup)for(var r=0;r<t.childrenAfterGroup.length;r++){var s=t.childrenAfterGroup[r],a=e||n.filterManager.doesRowPassFilter({rowNode:s});s.childrenAfterGroup?o(t.childrenAfterGroup[r],a):i(s,a)}i(t,e)};e.executeFromRootNode((function(t){return o(t,!1)}))}else{e.forEachChangedNodeDepthFirst((function(t){return i(t,!1)}),!0)}},e.prototype.doingTreeDataFiltering=function(){return this.gridOptionsService.isTreeData()&&!this.gridOptionsService.is("excludeChildrenWhenTreeDataFiltering")},wm([K("filterManager")],e.prototype,"filterManager",void 0),e=wm([z("filterService")],e)}(jt),xm=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Pm=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},Tm=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},Mm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return xm(e,t),e.prototype.postConstruct=function(){"clientSide"===this.rowModel.getType()&&(this.clientSideRowModel=this.rowModel)},e.prototype.isActive=function(){var t=this.gridOptionsService.exists("getRowId"),e=this.gridOptionsService.is("immutableData");return!this.gridOptionsService.is("resetRowDataOnUpdate")&&(t||e)},e.prototype.setRowData=function(t){var e=this.createTransactionForRowData(t);if(e){var n=Tm(e,2),i=n[0],o=n[1];this.clientSideRowModel.updateRowData(i,o)}},e.prototype.createTransactionForRowData=function(t){if(no.missing(this.clientSideRowModel))console.error("AG Grid: ImmutableService only works with ClientSideRowModel");else{var e=this.gridOptionsService.getRowIdFunc();if(null!=e){var n={remove:[],update:[],add:[]},i=this.clientSideRowModel.getCopyOfNodesMap(),o=this.gridOptionsService.is("suppressMaintainUnsortedOrder")?void 0:{};return no.exists(t)&&t.forEach((function(t,r){var s=e({data:t,level:0}),a=i[s];(o&&(o[s]=r),a)?(a.data!==t&&n.update.push(t),i[s]=void 0):n.add.push(t)})),no.iterateObject(i,(function(t,e){e&&n.remove.push(e.data)})),[n,o]}console.error("AG Grid: ImmutableService requires getRowId() callback to be implemented, your row data needs IDs!")}},Pm([K("rowModel")],e.prototype,"rowModel",void 0),Pm([K("rowRenderer")],e.prototype,"rowRenderer",void 0),Pm([H],e.prototype,"postConstruct",null),e=Pm([z("immutableService")],e)}(jt),Dm={version:"29.3.4",moduleName:J.ClientSideRowModelModule,rowModel:"clientSide",beans:[um,pm,mm,vm,Em,Om,Mm]},Rm=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Am=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},Lm=function(t){function e(e,n,i){var o=t.call(this,e)||this;return o.parentCache=n,o.params=i,o.startRow=e*i.blockSize,o.endRow=o.startRow+i.blockSize,o}return Rm(e,t),e.prototype.postConstruct=function(){this.createRowNodes()},e.prototype.getBlockStateJson=function(){return{id:""+this.getId(),state:{blockNumber:this.getId(),startRow:this.getStartRow(),endRow:this.getEndRow(),pageStatus:this.getState()}}},e.prototype.setDataAndId=function(t,e,n){!t.id&&t.alreadyRendered&&(t.alreadyRendered=!1),no.exists(e)?t.setDataAndId(e,n.toString()):t.setDataAndId(void 0,void 0)},e.prototype.loadFromDatasource=function(){var t=this,e=this.createLoadParams();no.missing(this.params.datasource.getRows)?console.warn("AG Grid: datasource is missing getRows method"):window.setTimeout((function(){t.params.datasource.getRows(e)}),0)},e.prototype.processServerFail=function(){},e.prototype.createLoadParams=function(){return{startRow:this.getStartRow(),endRow:this.getEndRow(),successCallback:this.pageLoaded.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),sortModel:this.params.sortModel,filterModel:this.params.filterModel,context:this.gridOptionsService.context}},e.prototype.forEachNode=function(t,e,n){var i=this;this.rowNodes.forEach((function(o,r){i.startRow+r<n&&t(o,e.next())}))},e.prototype.getLastAccessed=function(){return this.lastAccessed},e.prototype.getRow=function(t,e){void 0===e&&(e=!1),e||(this.lastAccessed=this.params.lastAccessedSequence.next());var n=t-this.startRow;return this.rowNodes[n]},e.prototype.getStartRow=function(){return this.startRow},e.prototype.getEndRow=function(){return this.endRow},e.prototype.createRowNodes=function(){this.rowNodes=[];for(var t=0;t<this.params.blockSize;t++){var e=this.startRow+t,n=new Ss(this.beans);n.setRowHeight(this.params.rowHeight),n.uiLevel=0,n.setRowIndex(e),n.setRowTop(this.params.rowHeight*e),this.rowNodes.push(n)}},e.prototype.processServerResult=function(t){var e=this;this.rowNodes.forEach((function(n,i){var o=t.rowData?t.rowData[i]:void 0;e.setDataAndId(n,o,e.startRow+i)}));var n=null!=t.rowCount&&t.rowCount>=0?t.rowCount:void 0;this.parentCache.pageLoaded(this,n)},e.prototype.destroyRowNodes=function(){this.rowNodes.forEach((function(t){t.clearRowTopAndRowIndex()}))},Am([K("beans")],e.prototype,"beans",void 0),Am([H],e.prototype,"postConstruct",null),Am([$],e.prototype,"destroyRowNodes",null),e}(Zh),Im=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),km=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},Nm=function(t,e){return function(n,i){e(n,i,t)}},Fm=function(t){function e(e){var n=t.call(this)||this;return n.lastRowIndexKnown=!1,n.blocks={},n.blockCount=0,n.rowCount=e.initialRowCount,n.params=e,n}return Im(e,t),e.prototype.setBeans=function(t){this.logger=t.create("InfiniteCache")},e.prototype.getRow=function(t,e){void 0===e&&(e=!1);var n=Math.floor(t/this.params.blockSize),i=this.blocks[n];if(!i){if(e)return;i=this.createBlock(n)}return i.getRow(t)},e.prototype.createBlock=function(t){var e=this.createBean(new Lm(t,this,this.params));return this.blocks[e.getId()]=e,this.blockCount++,this.purgeBlocksIfNeeded(e),this.params.rowNodeBlockLoader.addBlock(e),e},e.prototype.refreshCache=function(){0==this.blockCount?this.purgeCache():(this.getBlocksInOrder().forEach((function(t){return t.setStateWaitingToLoad()})),this.params.rowNodeBlockLoader.checkBlockToLoad())},e.prototype.destroyAllBlocks=function(){var t=this;this.getBlocksInOrder().forEach((function(e){return t.destroyBlock(e)}))},e.prototype.getRowCount=function(){return this.rowCount},e.prototype.isLastRowIndexKnown=function(){return this.lastRowIndexKnown},e.prototype.pageLoaded=function(t,e){this.isAlive()&&(this.logger.log("onPageLoaded: page = "+t.getId()+", lastRow = "+e),this.checkRowCount(t,e),this.onCacheUpdated())},e.prototype.purgeBlocksIfNeeded=function(t){var n=this,i=this.getBlocksInOrder().filter((function(e){return e!=t}));i.sort((function(t,e){return e.getLastAccessed()-t.getLastAccessed()}));var o=this.params.maxBlocksInCache>0,r=o?this.params.maxBlocksInCache-1:null,s=e.MAX_EMPTY_BLOCKS_TO_KEEP-1;i.forEach((function(t,e){if(t.getState()===Lm.STATE_WAITING_TO_LOAD&&e>=s||!!o&&e>=r){if(n.isBlockCurrentlyDisplayed(t))return;if(n.isBlockFocused(t))return;n.removeBlockFromCache(t)}}))},e.prototype.isBlockFocused=function(t){var e=this.focusService.getFocusCellToUseAfterRefresh();if(!e)return!1;if(null!=e.rowPinned)return!1;var n=t.getStartRow(),i=t.getEndRow();return e.rowIndex>=n&&e.rowIndex<i},e.prototype.isBlockCurrentlyDisplayed=function(t){var e=t.getStartRow(),n=t.getEndRow()-1;return this.rowRenderer.isRangeInRenderedViewport(e,n)},e.prototype.removeBlockFromCache=function(t){t&&this.destroyBlock(t)},e.prototype.checkRowCount=function(t,e){if("number"==typeof e&&e>=0)this.rowCount=e,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){var n=(t.getId()+1)*this.params.blockSize+this.params.overflowSize;this.rowCount<n&&(this.rowCount=n)}},e.prototype.setRowCount=function(t,e){this.rowCount=t,no.exists(e)&&(this.lastRowIndexKnown=e),this.lastRowIndexKnown||this.rowCount%this.params.blockSize==0&&this.rowCount++,this.onCacheUpdated()},e.prototype.forEachNodeDeep=function(t){var e=this,n=new io;this.getBlocksInOrder().forEach((function(i){return i.forEachNode(t,n,e.rowCount)}))},e.prototype.getBlocksInOrder=function(){return no.getAllValuesInObject(this.blocks).sort((function(t,e){return t.getId()-e.getId()}))},e.prototype.destroyBlock=function(t){delete this.blocks[t.getId()],this.destroyBean(t),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(t)},e.prototype.onCacheUpdated=function(){if(this.isAlive()){this.destroyAllBlocksPastVirtualRowCount();var t={type:zt.EVENT_STORE_UPDATED};this.eventService.dispatchEvent(t)}},e.prototype.destroyAllBlocksPastVirtualRowCount=function(){var t=this,e=[];this.getBlocksInOrder().forEach((function(n){n.getId()*t.params.blockSize>=t.rowCount&&e.push(n)})),e.length>0&&e.forEach((function(e){return t.destroyBlock(e)}))},e.prototype.purgeCache=function(){var t=this;this.getBlocksInOrder().forEach((function(e){return t.removeBlockFromCache(e)})),this.lastRowIndexKnown=!1,0===this.rowCount&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()},e.prototype.getRowNodesInRange=function(t,e){var n=this,i=[],o=-1,r=!1,s=new io;no.missing(t)&&(r=!0);var a=!1;return this.getBlocksInOrder().forEach((function(l){a||(r&&o+1!==l.getId()?a=!0:(o=l.getId(),l.forEachNode((function(n){var o=n===t||n===e;(r||o)&&i.push(n),o&&(r=!r)}),s,n.rowCount)))})),a||r?[]:i},e.MAX_EMPTY_BLOCKS_TO_KEEP=2,km([K("rowRenderer")],e.prototype,"rowRenderer",void 0),km([K("focusService")],e.prototype,"focusService",void 0),km([Nm(0,q("loggerFactory"))],e.prototype,"setBeans",null),km([$],e.prototype,"destroyAllBlocks",null),e}(jt),Gm=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Bm=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},jm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Gm(e,t),e.prototype.getRowBounds=function(t){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*t}},e.prototype.ensureRowHeightsValid=function(t,e,n,i){return!1},e.prototype.init=function(){var t=this;this.gridOptionsService.isRowModelType("infinite")&&(this.rowHeight=this.gridOptionsService.getRowHeightAsNumber(),this.addEventListeners(),this.addDestroyFunc((function(){return t.destroyCache()})),this.verifyProps())},e.prototype.verifyProps=function(){if(this.gridOptionsService.exists("initialGroupOrderComparator")||this.gridOptionsService.exists("defaultGroupOrderComparator")){no.doOnce((function(){return console.warn("AG Grid: initialGroupOrderComparator cannot be used with Infinite Row Model. If using Infinite Row Model, then sorting is done on the server side, nothing to do with the client.")}),"IRM.InitialGroupOrderComparator")}},e.prototype.start=function(){this.setDatasource(this.gridOptionsService.get("datasource"))},e.prototype.destroyDatasource=function(){this.datasource&&(this.getContext().destroyBean(this.datasource),this.rowRenderer.datasourceChanged(),this.datasource=null)},e.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,zt.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,zt.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,zt.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverything.bind(this)),this.addManagedListener(this.eventService,zt.EVENT_STORE_UPDATED,this.onCacheUpdated.bind(this))},e.prototype.onFilterChanged=function(){this.reset()},e.prototype.onSortChanged=function(){this.reset()},e.prototype.onColumnEverything=function(){(!this.cacheParams||this.isSortModelDifferent())&&this.reset()},e.prototype.isSortModelDifferent=function(){return!no.jsonEquals(this.cacheParams.sortModel,this.sortController.getSortModel())},e.prototype.getType=function(){return"infinite"},e.prototype.setDatasource=function(t){this.destroyDatasource(),this.datasource=t,t&&this.reset()},e.prototype.isEmpty=function(){return!this.infiniteCache},e.prototype.isRowsToRender=function(){return!!this.infiniteCache},e.prototype.getNodesInRangeForSelection=function(t,e){return this.infiniteCache?this.infiniteCache.getRowNodesInRange(t,e):[]},e.prototype.reset=function(){if(this.datasource){null!=this.gridOptionsService.getRowIdFunc()||this.selectionService.reset(),this.resetCache();var t=this.createModelUpdatedEvent();this.eventService.dispatchEvent(t)}},e.prototype.createModelUpdatedEvent=function(){return{type:zt.EVENT_MODEL_UPDATED,newPage:!1,newData:!1,keepRenderedRows:!0,animate:!1}},e.prototype.resetCache=function(){this.destroyCache(),this.cacheParams={datasource:this.datasource,filterModel:this.filterManager.getFilterModel(),sortModel:this.sortController.getSortModel(),rowNodeBlockLoader:this.rowNodeBlockLoader,initialRowCount:this.defaultIfInvalid(this.gridOptionsService.getNum("infiniteInitialRowCount"),1),maxBlocksInCache:this.gridOptionsService.getNum("maxBlocksInCache"),rowHeight:this.gridOptionsService.getRowHeightAsNumber(),overflowSize:this.defaultIfInvalid(this.gridOptionsService.getNum("cacheOverflowSize"),1),blockSize:this.defaultIfInvalid(this.gridOptionsService.getNum("cacheBlockSize"),100),lastAccessedSequence:new io},this.infiniteCache=this.createBean(new Fm(this.cacheParams))},e.prototype.defaultIfInvalid=function(t,e){return t>0?t:e},e.prototype.destroyCache=function(){this.infiniteCache&&(this.infiniteCache=this.destroyBean(this.infiniteCache))},e.prototype.onCacheUpdated=function(){var t=this.createModelUpdatedEvent();this.eventService.dispatchEvent(t)},e.prototype.getRow=function(t){if(this.infiniteCache&&!(t>=this.infiniteCache.getRowCount()))return this.infiniteCache.getRow(t)},e.prototype.getRowNode=function(t){var e;return this.forEachNode((function(n){n.id===t&&(e=n)})),e},e.prototype.forEachNode=function(t){this.infiniteCache&&this.infiniteCache.forEachNodeDeep(t)},e.prototype.getTopLevelRowCount=function(){return this.getRowCount()},e.prototype.getTopLevelRowDisplayedIndex=function(t){return t},e.prototype.getRowIndexAtPixel=function(t){if(0!==this.rowHeight){var e=Math.floor(t/this.rowHeight),n=this.getRowCount()-1;return e>n?n:e}return 0},e.prototype.getRowCount=function(){return this.infiniteCache?this.infiniteCache.getRowCount():0},e.prototype.isRowPresent=function(t){return!!this.getRowNode(t.id)},e.prototype.refreshCache=function(){this.infiniteCache&&this.infiniteCache.refreshCache()},e.prototype.purgeCache=function(){this.infiniteCache&&this.infiniteCache.purgeCache()},e.prototype.isLastRowIndexKnown=function(){return!!this.infiniteCache&&this.infiniteCache.isLastRowIndexKnown()},e.prototype.setRowCount=function(t,e){this.infiniteCache&&this.infiniteCache.setRowCount(t,e)},Bm([K("filterManager")],e.prototype,"filterManager",void 0),Bm([K("sortController")],e.prototype,"sortController",void 0),Bm([K("selectionService")],e.prototype,"selectionService",void 0),Bm([K("rowRenderer")],e.prototype,"rowRenderer",void 0),Bm([K("rowNodeBlockLoader")],e.prototype,"rowNodeBlockLoader",void 0),Bm([H],e.prototype,"init",null),Bm([$],e.prototype,"destroyDatasource",null),e=Bm([z("rowModel")],e)}(jt),Um={version:"29.3.4",moduleName:J.InfiniteRowModelModule,rowModel:"infinite",beans:[jm]},Vm=function(){function t(){}return t.prototype.setBeans=function(t){this.beans=t},t.prototype.getFileName=function(t){var e=this.getDefaultFileExtension();return null!=t&&t.length||(t=this.getDefaultFileName()),-1===t.indexOf(".")?t+"."+e:t},t.prototype.getData=function(t){var e=this.createSerializingSession(t);return this.beans.gridSerializer.serialize(e,t)},t}(),Wm=function(){function t(t){this.groupColumns=[];var e=t.columnModel,n=t.valueService,i=t.gridOptionsService,o=t.processCellCallback,r=t.processHeaderCallback,s=t.processGroupHeaderCallback,a=t.processRowGroupCallback;this.columnModel=e,this.valueService=n,this.gridOptionsService=i,this.processCellCallback=o,this.processHeaderCallback=r,this.processGroupHeaderCallback=s,this.processRowGroupCallback=a}return t.prototype.prepare=function(t){this.groupColumns=t.filter((function(t){return!!t.getColDef().showRowGroup}))},t.prototype.extractHeaderValue=function(t){var e=this.getHeaderName(this.processHeaderCallback,t);return null!=e?e:""},t.prototype.extractRowCellValue=function(t,e,n,i,o){var r=this.gridOptionsService.is("groupHideOpenParents")&&!o.footer||!this.shouldRenderGroupSummaryCell(o,t,e)?this.valueService.getValue(t,o):this.createValueForGroupNode(o),s=this.processCell({accumulatedRowIndex:n,rowNode:o,column:t,value:r,processCellCallback:this.processCellCallback,type:i});return null!=s?s:""},t.prototype.shouldRenderGroupSummaryCell=function(t,e,n){var i;if(!(t&&t.group))return!1;if(-1!==this.groupColumns.indexOf(e)){if(null===(i=t.groupData)||void 0===i?void 0:i[e.getId()])return!0;if(t.footer&&-1===t.level){var o=e.getColDef();return null==o||!0===o.showRowGroup||o.showRowGroup===this.columnModel.getRowGroupColumns()[0].getId()}}var r=this.gridOptionsService.isGroupUseEntireRow(this.columnModel.isPivotMode());return 0===n&&r},t.prototype.getHeaderName=function(t,e){return t?t({column:e,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context}):this.columnModel.getDisplayNameForColumn(e,"csv",!0)},t.prototype.createValueForGroupNode=function(t){if(this.processRowGroupCallback)return this.processRowGroupCallback({node:t,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context});var e=t.footer,n=[t.key];if(!this.gridOptionsService.isGroupMultiAutoColumn())for(;t.parent;)t=t.parent,n.push(t.key);var i=n.reverse().join(" -> ");return e?"Total "+i:i},t.prototype.processCell=function(t){var e=t.accumulatedRowIndex,n=t.rowNode,i=t.column,o=t.value,r=t.processCellCallback,s=t.type;return r?r({accumulatedRowIndex:e,column:i,node:n,value:o,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,type:s}):null!=o?o:""},t}(),Hm=function(){function t(){}return t.download=function(t,e){var n=document.defaultView||window;if(n){var i=document.createElement("a"),o=n.URL.createObjectURL(e);i.setAttribute("href",o),i.setAttribute("download",t),i.style.display="none",document.body.appendChild(i),i.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:n})),document.body.removeChild(i),n.setTimeout((function(){n.URL.revokeObjectURL(o)}),0)}else console.warn("AG Grid: There is no `window` associated with the current `document`")},t}(),$m=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),zm=function(t){function e(e){var n=t.call(this,e)||this;n.isFirstLine=!0,n.result="";var i=e.suppressQuotes,o=e.columnSeparator;return n.suppressQuotes=i,n.columnSeparator=o,n}return $m(e,t),e.prototype.addCustomContent=function(t){var e=this;t&&("string"==typeof t?(/^\s*\n/.test(t)||this.beginNewLine(),t=t.replace(/\r?\n/g,"\r\n"),this.result+=t):t.forEach((function(t){e.beginNewLine(),t.forEach((function(t,n){0!==n&&(e.result+=e.columnSeparator),e.result+=e.putInQuotes(t.data.value||""),t.mergeAcross&&e.appendEmptyCells(t.mergeAcross)}))})))},e.prototype.onNewHeaderGroupingRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}},e.prototype.onNewHeaderGroupingRowColumn=function(t,e,n,i){0!=n&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(e),this.appendEmptyCells(i)},e.prototype.appendEmptyCells=function(t){for(var e=1;e<=t;e++)this.result+=this.columnSeparator+this.putInQuotes("")},e.prototype.onNewHeaderRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}},e.prototype.onNewHeaderRowColumn=function(t,e){0!=e&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(t))},e.prototype.onNewBodyRow=function(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}},e.prototype.onNewBodyRowColumn=function(t,e,n){0!=e&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractRowCellValue(t,e,e,"csv",n))},e.prototype.putInQuotes=function(t){return this.suppressQuotes?t:null==t?'""':("string"==typeof t?e=t:"function"==typeof t.toString?e=t.toString():(console.warn("AG Grid: unknown value type during csv conversion"),e=""),'"'+e.replace(/"/g,'""')+'"');var e},e.prototype.parse=function(){return this.result},e.prototype.beginNewLine=function(){this.isFirstLine||(this.result+="\r\n"),this.isFirstLine=!1},e}(Wm),Km=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ym=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},Xm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Km(e,t),e.prototype.postConstruct=function(){this.setBeans({gridSerializer:this.gridSerializer,gridOptionsService:this.gridOptionsService})},e.prototype.getMergedParams=function(t){var e=this.gridOptionsService.get("defaultCsvExportParams");return Object.assign({},e,t)},e.prototype.export=function(t){if(this.isExportSuppressed())return console.warn("AG Grid: Export cancelled. Export is not allowed as per your configuration."),"";var e=this.getMergedParams(t),n=this.getData(e),i=new Blob(["\ufeff",n],{type:"text/plain"});return Hm.download(this.getFileName(e.fileName),i),n},e.prototype.exportDataAsCsv=function(t){return this.export(t)},e.prototype.getDataAsCsv=function(t,e){void 0===e&&(e=!1);var n=e?Object.assign({},t):this.getMergedParams(t);return this.getData(n)},e.prototype.getDefaultFileName=function(){return"export.csv"},e.prototype.getDefaultFileExtension=function(){return"csv"},e.prototype.createSerializingSession=function(t){var e=this,n=e.columnModel,i=e.valueService,o=e.gridOptionsService,r=t,s=r.processCellCallback,a=r.processHeaderCallback,l=r.processGroupHeaderCallback,c=r.processRowGroupCallback,u=r.suppressQuotes,h=r.columnSeparator;return new zm({columnModel:n,valueService:i,gridOptionsService:o,processCellCallback:s||void 0,processHeaderCallback:a||void 0,processGroupHeaderCallback:l||void 0,processRowGroupCallback:c||void 0,suppressQuotes:u||!1,columnSeparator:h||","})},e.prototype.isExportSuppressed=function(){return this.gridOptionsService.is("suppressCsvExport")},Ym([K("columnModel")],e.prototype,"columnModel",void 0),Ym([K("valueService")],e.prototype,"valueService",void 0),Ym([K("gridSerializer")],e.prototype,"gridSerializer",void 0),Ym([K("gridOptionsService")],e.prototype,"gridOptionsService",void 0),Ym([H],e.prototype,"postConstruct",null),e=Ym([z("csvCreator")],e)}(Vm),qm=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Zm=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};!function(t){t[t.HEADER_GROUPING=0]="HEADER_GROUPING",t[t.HEADER=1]="HEADER",t[t.BODY=2]="BODY"}(cm||(cm={}));var Jm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return qm(e,t),e.prototype.serialize=function(t,e){void 0===e&&(e={});var n=this.getColumnsToExport(e.allColumns,e.columnKeys);return no.compose(this.prepareSession(n),this.prependContent(e),this.exportColumnGroups(e,n),this.exportHeaders(e,n),this.processPinnedTopRows(e,n),this.processRows(e,n),this.processPinnedBottomRows(e,n),this.appendContent(e))(t).parse()},e.prototype.processRow=function(t,e,n,i){var o=e.shouldRowBeSkipped||function(){return!1},r=this.gridOptionsService.context,s=this.gridOptionsService.api,a=this.gridOptionsService.columnApi,l=this.gridOptionsService.is("groupRemoveSingleChildren"),c=this.gridOptionsService.is("groupRemoveLowestSingleChildren"),u=null!=e.rowPositions||!!e.onlySelected,h=this.gridOptionsService.is("groupHideOpenParents")&&!u,d=this.columnModel.isPivotMode()?i.leafGroup:!i.group,p=!!i.footer,f=e.skipGroups||e.skipRowGroups,g=c&&i.leafGroup,m=1===i.allChildrenCount&&(l||g);if((f&&e.skipGroups&&no.doOnce((function(){return console.warn("AG Grid: Since v25.2 `skipGroups` has been renamed to `skipRowGroups`.")}),"gridSerializer-skipGroups"),!(!d&&!p&&(e.skipRowGroups||m||h)||e.onlySelected&&!i.isSelected()||e.skipPinnedTop&&"top"===i.rowPinned||e.skipPinnedBottom&&"bottom"===i.rowPinned))&&((!(-1===i.level)||d||p)&&!o({node:i,api:s,columnApi:a,context:r}))){var _=t.onNewBodyRow();if(n.forEach((function(t,e){_.onColumn(t,e,i)})),e.getCustomContentBelowRow){var y=e.getCustomContentBelowRow({node:i,api:s,columnApi:a,context:r});y&&t.addCustomContent(y)}}},e.prototype.appendContent=function(t){return function(e){var n=t.customFooter||t.appendContent;return n&&(t.customFooter&&no.doOnce((function(){return console.warn("AG Grid: Since version 25.2.0 the `customFooter` param has been deprecated. Use `appendContent` instead.")}),"gridSerializer-customFooter"),e.addCustomContent(n)),e}},e.prototype.prependContent=function(t){return function(e){var n=t.customHeader||t.prependContent;return n&&(t.customHeader&&no.doOnce((function(){return console.warn("AG Grid: Since version 25.2.0 the `customHeader` param has been deprecated. Use `prependContent` instead.")}),"gridSerializer-customHeader"),e.addCustomContent(n)),e}},e.prototype.prepareSession=function(t){return function(e){return e.prepare(t),e}},e.prototype.exportColumnGroups=function(t,e){var n=this;return function(i){if(t.skipColumnGroupHeaders)t.columnGroups&&no.doOnce((function(){return console.warn("AG Grid: Since v25.2 the `columnGroups` param has deprecated, and groups are exported by default.")}),"gridSerializer-columnGroups");else{var o=new de,r=n.displayedGroupCreator.createDisplayedGroups(e,n.columnModel.getGridBalancedTree(),o,null);n.recursivelyAddHeaderGroups(r,i,t.processGroupHeaderCallback)}return i}},e.prototype.exportHeaders=function(t,e){return function(n){if(t.skipHeader||t.skipColumnHeaders)t.skipHeader&&no.doOnce((function(){return console.warn("AG Grid: Since v25.2 the `skipHeader` param has been renamed to `skipColumnHeaders`.")}),"gridSerializer-skipHeader");else{var i=n.onNewHeaderRow();e.forEach((function(t,e){i.onColumn(t,e,void 0)}))}return n}},e.prototype.processPinnedTopRows=function(t,e){var n=this;return function(i){var o=n.processRow.bind(n,i,t,e);return t.rowPositions?t.rowPositions.filter((function(t){return"top"===t.rowPinned})).sort((function(t,e){return t.rowIndex-e.rowIndex})).map((function(t){return n.pinnedRowModel.getPinnedTopRow(t.rowIndex)})).forEach(o):n.pinnedRowModel.forEachPinnedTopRow(o),i}},e.prototype.processRows=function(t,e){var n=this;return function(i){var o=n.rowModel,r=o.getType(),s="clientSide"===r,a="serverSide"===r,l=!s&&t.onlySelected,c=n.processRow.bind(n,i,t,e),u=t.exportedRows,h=void 0===u?"filteredAndSorted":u;if(t.rowPositions)t.rowPositions.filter((function(t){return null==t.rowPinned})).sort((function(t,e){return t.rowIndex-e.rowIndex})).map((function(t){return o.getRow(t.rowIndex)})).forEach(c);else if(n.columnModel.isPivotMode())s?o.forEachPivotNode(c,!0):o.forEachNode(c);else if(t.onlySelectedAllPages||l){var d=n.selectionService.getSelectedNodes();n.replicateSortedOrder(d),d.forEach(c)}else"all"===h?o.forEachNode(c):s?o.forEachNodeAfterFilterAndSort(c,!0):a?o.forEachNodeAfterFilterAndSort(c):o.forEachNode(c);return i}},e.prototype.replicateSortedOrder=function(t){var e=this,n=this.sortController.getSortOptions(),i=function(t,o){var r,s,a,l;return null!=t.rowIndex&&null!=o.rowIndex?t.rowIndex-o.rowIndex:t.level===o.level?(null===(r=t.parent)||void 0===r?void 0:r.id)===(null===(s=o.parent)||void 0===s?void 0:s.id)?e.rowNodeSorter.compareRowNodes(n,{rowNode:t,currentPos:null!==(a=t.rowIndex)&&void 0!==a?a:-1},{rowNode:o,currentPos:null!==(l=o.rowIndex)&&void 0!==l?l:-1}):i(t.parent,o.parent):t.level>o.level?i(t.parent,o):i(t,o.parent)};t.sort(i)},e.prototype.processPinnedBottomRows=function(t,e){var n=this;return function(i){var o=n.processRow.bind(n,i,t,e);return t.rowPositions?t.rowPositions.filter((function(t){return"bottom"===t.rowPinned})).sort((function(t,e){return t.rowIndex-e.rowIndex})).map((function(t){return n.pinnedRowModel.getPinnedBottomRow(t.rowIndex)})).forEach(o):n.pinnedRowModel.forEachPinnedBottomRow(o),i}},e.prototype.getColumnsToExport=function(t,e){void 0===t&&(t=!1);var n=this.columnModel.isPivotMode();return e&&e.length?this.columnModel.getGridColumns(e):t&&!n?(this.gridOptionsService.isTreeData()?this.columnModel.getGridColumns([ge]):[]).concat(this.columnModel.getAllPrimaryColumns()||[]):this.columnModel.getAllDisplayedColumns()},e.prototype.recursivelyAddHeaderGroups=function(t,e,n){var i=[];t.forEach((function(t){var e=t;e.getChildren&&e.getChildren().forEach((function(t){return i.push(t)}))})),t.length>0&&t[0]instanceof he&&this.doAddHeaderHeader(e,t,n),i&&i.length>0&&this.recursivelyAddHeaderGroups(i,e,n)},e.prototype.doAddHeaderHeader=function(t,e,n){var i=this,o=t.onNewHeaderGroupingRow(),r=0;e.forEach((function(t){var e,s=t;e=n?n({columnGroup:s,api:i.gridOptionsService.api,columnApi:i.gridOptionsService.columnApi,context:i.gridOptionsService.context}):i.columnModel.getDisplayNameForColumnGroup(s,"header");var a=s.getLeafColumns().reduce((function(t,e,n,i){var o=no.last(t);return"open"===e.getColumnGroupShow()?o&&null==o[1]||(o=[n],t.push(o)):o&&null==o[1]&&(o[1]=n-1),n===i.length-1&&o&&null==o[1]&&(o[1]=n),t}),[]);o.onColumn(s,e||"",r++,s.getLeafColumns().length-1,a)}))},Zm([K("displayedGroupCreator")],e.prototype,"displayedGroupCreator",void 0),Zm([K("columnModel")],e.prototype,"columnModel",void 0),Zm([K("rowModel")],e.prototype,"rowModel",void 0),Zm([K("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),Zm([K("selectionService")],e.prototype,"selectionService",void 0),Zm([K("rowNodeSorter")],e.prototype,"rowNodeSorter",void 0),Zm([K("sortController")],e.prototype,"sortController",void 0),e=Zm([z("gridSerializer")],e)}(jt),Qm={version:"29.3.4",moduleName:J.CsvExportModule,beans:[Xm,Jm]},t_="\r\n",e_=function(){function t(){}return t.createHeader=function(t){void 0===t&&(t={});var e=["version"];return t.version||(t.version="1.0"),t.encoding&&e.push("encoding"),t.standalone&&e.push("standalone"),"<?xml "+e.map((function(e){return e+'="'+t[e]+'"'})).join(" ")+" ?>"},t.createXml=function(t,e){var n=this,i="";t.properties&&(t.properties.prefixedAttributes&&t.properties.prefixedAttributes.forEach((function(t){Object.keys(t.map).forEach((function(o){i+=n.returnAttributeIfPopulated(t.prefix+o,t.map[o],e)}))})),t.properties.rawMap&&Object.keys(t.properties.rawMap).forEach((function(o){i+=n.returnAttributeIfPopulated(o,t.properties.rawMap[o],e)})));var o="<"+t.name+i;return t.children||null!=t.textNode?null!=t.textNode?o+">"+t.textNode+"</"+t.name+">"+t_:(o+=">\r\n",t.children&&t.children.forEach((function(t){o+=n.createXml(t,e)})),o+"</"+t.name+">"+t_):o+"/>"+t_},t.returnAttributeIfPopulated=function(t,e,n){if(!e&&""!==e&&0!==e)return"";var i=e;return"boolean"==typeof e&&n&&(i=n(e))," "+t+'="'+i+'"'},t}(),n_=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},i_=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]),o_=function(){function t(){}return t.addFolders=function(t){t.forEach(this.addFolder.bind(this))},t.addFolder=function(t){this.folders.push({path:t,created:new Date,isBase64:!1})},t.addFile=function(t,e,n){void 0===n&&(n=!1),this.files.push({path:t,created:new Date,content:e,isBase64:n})},t.getContent=function(t){void 0===t&&(t="application/zip");var e=this.buildFileStream(),n=this.buildUint8Array(e);return this.clearStream(),new Blob([n],{type:t})},t.clearStream=function(){this.folders=[],this.files=[]},t.buildFileStream=function(t){var e,n;void 0===t&&(t="");var i=this.folders.concat(this.files),o=i.length,r="",s=0,a=0;try{for(var l=n_(i),c=l.next();!c.done;c=l.next()){var u=c.value,h=this.getHeader(u,s),d=h.fileHeader,p=h.folderHeader,f=h.content;s+=d.length+f.length,a+=p.length,t+=d+f,r+=p}}catch(t){e={error:t}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(e)throw e.error}}return t+r+this.buildFolderEnd(o,a,s)},t.getHeader=function(t,e){var n=t.content,i=t.path,o=t.created,r=t.isBase64,s=no.utf8_encode,a=no.decToHex,l=s(i),c=l!==i,u=this.convertTime(o),h=this.convertDate(o),d="";if(c){var p=a(1,1)+a(this.getFromCrc32Table(l),4)+l;d="up"+a(p.length,2)+p}var f=n?this.getConvertedContent(n,r):{size:0,content:""},g=f.size,m=f.content,_="\n\0"+(c?"\0\b":"\0\0")+"\0\0"+a(u,2)+a(h,2)+a(g?this.getFromCrc32Table(m):0,4)+a(g,4)+a(g,4)+a(l.length,2)+a(d.length,2);return{fileHeader:"PK"+_+l+d,folderHeader:"PK\0"+_+"\0\0\0\0\0\0"+(n?"\0\0\0\0":"\0\0\0")+a(e,4)+l+d,content:m||""}},t.getConvertedContent=function(t,e){return void 0===e&&(e=!1),e&&(t=t.split(";base64,")[1]),{size:(t=e?atob(t):t).length,content:t}},t.buildFolderEnd=function(t,e,n){var i=no.decToHex;return"PK\0\0\0\0"+i(t,2)+i(t,2)+i(e,4)+i(n,4)+"\0\0"},t.buildUint8Array=function(t){for(var e=new Uint8Array(t.length),n=0;n<e.length;n++)e[n]=t.charCodeAt(n);return e},t.getFromCrc32Table=function(t){if(!t.length)return 0;for(var e=t.length,n=new Uint8Array(e),i=0;i<e;i++)n[i]=t.charCodeAt(i);var o=-1,r=0;for(i=0;i<e;i++)r=n[i],o=o>>>8^i_[255&(o^r)];return-1^o},t.convertTime=function(t){var e=t.getHours();return e<<=6,e|=t.getMinutes(),e<<=5,e|=t.getSeconds()/2},t.convertDate=function(t){var e=t.getFullYear()-1980;return e<<=4,e|=t.getMonth()+1,e<<=5,e|=t.getDate()},t.folders=[],t.files=[],t}(),r_=[Dm,Um,Qm];it.registerModules(r_)},1906:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";var ag_grid_community__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1731),MD5=function(){function t(){this.ieCompatibility=!1}return t.prototype.init=function(){this.ieCompatibility="5d41402abc4b2a76b9719d911017c592"!=this.md5("hello")},t.prototype.md5cycle=function(t,e){var n=t[0],i=t[1],o=t[2],r=t[3];n=this.ff(n,i,o,r,e[0],7,-680876936),r=this.ff(r,n,i,o,e[1],12,-389564586),o=this.ff(o,r,n,i,e[2],17,606105819),i=this.ff(i,o,r,n,e[3],22,-1044525330),n=this.ff(n,i,o,r,e[4],7,-176418897),r=this.ff(r,n,i,o,e[5],12,1200080426),o=this.ff(o,r,n,i,e[6],17,-1473231341),i=this.ff(i,o,r,n,e[7],22,-45705983),n=this.ff(n,i,o,r,e[8],7,1770035416),r=this.ff(r,n,i,o,e[9],12,-1958414417),o=this.ff(o,r,n,i,e[10],17,-42063),i=this.ff(i,o,r,n,e[11],22,-1990404162),n=this.ff(n,i,o,r,e[12],7,1804603682),r=this.ff(r,n,i,o,e[13],12,-40341101),o=this.ff(o,r,n,i,e[14],17,-1502002290),i=this.ff(i,o,r,n,e[15],22,1236535329),n=this.gg(n,i,o,r,e[1],5,-165796510),r=this.gg(r,n,i,o,e[6],9,-1069501632),o=this.gg(o,r,n,i,e[11],14,643717713),i=this.gg(i,o,r,n,e[0],20,-373897302),n=this.gg(n,i,o,r,e[5],5,-701558691),r=this.gg(r,n,i,o,e[10],9,38016083),o=this.gg(o,r,n,i,e[15],14,-660478335),i=this.gg(i,o,r,n,e[4],20,-405537848),n=this.gg(n,i,o,r,e[9],5,568446438),r=this.gg(r,n,i,o,e[14],9,-1019803690),o=this.gg(o,r,n,i,e[3],14,-187363961),i=this.gg(i,o,r,n,e[8],20,1163531501),n=this.gg(n,i,o,r,e[13],5,-1444681467),r=this.gg(r,n,i,o,e[2],9,-51403784),o=this.gg(o,r,n,i,e[7],14,1735328473),i=this.gg(i,o,r,n,e[12],20,-1926607734),n=this.hh(n,i,o,r,e[5],4,-378558),r=this.hh(r,n,i,o,e[8],11,-2022574463),o=this.hh(o,r,n,i,e[11],16,1839030562),i=this.hh(i,o,r,n,e[14],23,-35309556),n=this.hh(n,i,o,r,e[1],4,-1530992060),r=this.hh(r,n,i,o,e[4],11,1272893353),o=this.hh(o,r,n,i,e[7],16,-155497632),i=this.hh(i,o,r,n,e[10],23,-1094730640),n=this.hh(n,i,o,r,e[13],4,681279174),r=this.hh(r,n,i,o,e[0],11,-358537222),o=this.hh(o,r,n,i,e[3],16,-722521979),i=this.hh(i,o,r,n,e[6],23,76029189),n=this.hh(n,i,o,r,e[9],4,-640364487),r=this.hh(r,n,i,o,e[12],11,-421815835),o=this.hh(o,r,n,i,e[15],16,530742520),i=this.hh(i,o,r,n,e[2],23,-995338651),n=this.ii(n,i,o,r,e[0],6,-198630844),r=this.ii(r,n,i,o,e[7],10,1126891415),o=this.ii(o,r,n,i,e[14],15,-1416354905),i=this.ii(i,o,r,n,e[5],21,-57434055),n=this.ii(n,i,o,r,e[12],6,1700485571),r=this.ii(r,n,i,o,e[3],10,-1894986606),o=this.ii(o,r,n,i,e[10],15,-1051523),i=this.ii(i,o,r,n,e[1],21,-2054922799),n=this.ii(n,i,o,r,e[8],6,1873313359),r=this.ii(r,n,i,o,e[15],10,-30611744),o=this.ii(o,r,n,i,e[6],15,-1560198380),i=this.ii(i,o,r,n,e[13],21,1309151649),n=this.ii(n,i,o,r,e[4],6,-145523070),r=this.ii(r,n,i,o,e[11],10,-1120210379),o=this.ii(o,r,n,i,e[2],15,718787259),i=this.ii(i,o,r,n,e[9],21,-343485551),t[0]=this.add32(n,t[0]),t[1]=this.add32(i,t[1]),t[2]=this.add32(o,t[2]),t[3]=this.add32(r,t[3])},t.prototype.cmn=function(t,e,n,i,o,r){return e=this.add32(this.add32(e,t),this.add32(i,r)),this.add32(e<<o|e>>>32-o,n)},t.prototype.ff=function(t,e,n,i,o,r,s){return this.cmn(e&n|~e&i,t,e,o,r,s)},t.prototype.gg=function(t,e,n,i,o,r,s){return this.cmn(e&i|n&~i,t,e,o,r,s)},t.prototype.hh=function(t,e,n,i,o,r,s){return this.cmn(e^n^i,t,e,o,r,s)},t.prototype.ii=function(t,e,n,i,o,r,s){return this.cmn(n^(e|~i),t,e,o,r,s)},t.prototype.md51=function(t){var e,n=t.length,i=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)this.md5cycle(i,this.md5blk(t.substring(e-64,e)));t=t.substring(e-64);var o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)o[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(o[e>>2]|=128<<(e%4<<3),e>55)for(this.md5cycle(i,o),e=0;e<16;e++)o[e]=0;return o[14]=8*n,this.md5cycle(i,o),i},t.prototype.md5blk=function(t){for(var e=[],n=0;n<64;n+=4)e[n>>2]=t.charCodeAt(n)+(t.charCodeAt(n+1)<<8)+(t.charCodeAt(n+2)<<16)+(t.charCodeAt(n+3)<<24);return e},t.prototype.rhex=function(t){for(var e="0123456789abcdef".split(""),n="",i=0;i<4;i++)n+=e[t>>8*i+4&15]+e[t>>8*i&15];return n},t.prototype.hex=function(t){for(var e=0;e<t.length;e++)t[e]=this.rhex(t[e]);return t.join("")},t.prototype.md5=function(t){return this.hex(this.md51(t))},t.prototype.add32=function(t,e){return this.ieCompatibility?this.add32Compat(t,e):this.add32Std(t,e)},t.prototype.add32Std=function(t,e){return t+e&4294967295},t.prototype.add32Compat=function(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n},t}(),__read$1c=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s};function missingOrEmpty(t){return null==t||0===t.length}function exists(t,e){return void 0===e&&(e=!1),null!=t&&(""!==t||e)}var LicenseManager=function(){function t(t){this.watermarkMessage=void 0,this.document=t,this.md5=new MD5,this.md5.init()}return t.prototype.validateLicense=function(){if(missingOrEmpty(t.licenseKey))this.isWebsiteUrl()||this.outputMissingLicenseKey();else if(t.licenseKey.length>32)if(-1!==t.licenseKey.indexOf("For_Trialing_ag-Grid_Only"))this.outputInvalidLicenseKey();else{var e=t.extractLicenseComponents(t.licenseKey),n=e.md5,i=e.license,o=e.version,r=e.isTrial;n===this.md5.md5(i)?exists(o)&&o?this.validateLicenseKeyForVersion(o,!!r,i):this.validateLegacyKey(i):this.outputInvalidLicenseKey()}else this.outputInvalidLicenseKey()},t.extractExpiry=function(e){var n=e.substring(e.lastIndexOf("_")+1,e.length);return new Date(parseInt(t.decode(n),10))},t.extractLicenseComponents=function(e){var n=e.replace(/[\u200B-\u200D\uFEFF]/g,""),i=(n=n.replace(/\r?\n|\r/g,"")).length-32,o=n.substring(i),r=n.substring(0,i),s=__read$1c(t.extractBracketedInformation(n),2);return{md5:o,license:r,version:s[0],isTrial:s[1]}},t.prototype.getLicenseDetails=function(e){var n=t.extractLicenseComponents(e),i=n.md5,o=n.license,r=n.version,s=n.isTrial,a=i===this.md5.md5(o)&&-1===e.indexOf("For_Trialing_ag-Grid_Only"),l=null,c=null;a&&(c=t.extractExpiry(o),a=!isNaN(c.getTime()),s&&(l=c<new Date));return{licenseKey:e,valid:a,expiry:a?t.formatDate(c):null,version:r||"legacy",isTrial:s,trialExpired:l}},t.prototype.isDisplayWatermark=function(){return!this.isLocalhost()&&!this.isWebsiteUrl()&&!missingOrEmpty(this.watermarkMessage)},t.prototype.getWatermarkMessage=function(){return this.watermarkMessage||""},t.prototype.getHostname=function(){var t=(this.document.defaultView||window).location.hostname;return void 0===t?"":t},t.prototype.isWebsiteUrl=function(){return null!==this.getHostname().match(/^((?:\w+\.)?ag-grid\.com)$/)},t.prototype.isLocalhost=function(){return null!==this.getHostname().match(/^(?:127\.0\.0\.1|localhost)$/)},t.formatDate=function(t){var e=t.getDate(),n=t.getMonth(),i=t.getFullYear();return e+" "+["January","February","March","April","May","June","July","August","September","October","November","December"][n]+" "+i},t.getGridReleaseDate=function(){return new Date(parseInt(t.decode(t.RELEASE_INFORMATION),10))},t.decode=function(e){for(var n,i,o,r,s,a,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c="",u=0,h=e.replace(/[^A-Za-z0-9+/=]/g,"");u<h.length;)n=l.indexOf(h.charAt(u++))<<2|(r=l.indexOf(h.charAt(u++)))>>4,i=(15&r)<<4|(s=l.indexOf(h.charAt(u++)))>>2,o=(3&s)<<6|(a=l.indexOf(h.charAt(u++))),c+=String.fromCharCode(n),64!=s&&(c+=String.fromCharCode(i)),64!=a&&(c+=String.fromCharCode(o));return c=t.utf8_decode(c)},t.utf8_decode=function(t){t=t.replace(/rn/g,"n");for(var e="",n=0;n<t.length;n++){var i=t.charCodeAt(n);i<128?e+=String.fromCharCode(i):i>127&&i<2048?(e+=String.fromCharCode(i>>6|192),e+=String.fromCharCode(63&i|128)):(e+=String.fromCharCode(i>>12|224),e+=String.fromCharCode(i>>6&63|128),e+=String.fromCharCode(63&i|128))}return e},t.setLicenseKey=function(t){this.licenseKey=t},t.extractBracketedInformation=function(t){var e=t.split("[").filter((function(t){return t.indexOf("]")>-1})).map((function(t){return t.split("]")[0]}));if(!e||0===e.length)return[null,null];var n=1===e.filter((function(t){return"TRIAL"===t})).length;return[e.filter((function(t){return 0===t.indexOf("v")})).map((function(t){return t.replace(/^v/,"")}))[0],n]},t.prototype.validateLicenseKeyForVersion=function(t,e,n){"2"===t&&(e?this.validateForTrial(n):this.validateLegacyKey(n))},t.prototype.validateLegacyKey=function(e){var n=t.getGridReleaseDate(),i=t.extractExpiry(e),o=!1,r=!1;if(isNaN(i.getTime())||(o=!0,r=n<i),o){if(!r){var s=t.formatDate(i),a=t.formatDate(n);this.outputIncompatibleVersion(s,a)}}else this.outputInvalidLicenseKey()},t.prototype.validateForTrial=function(e){var n=t.extractExpiry(e),i=new Date,o=!1,r=!1;if(isNaN(n.getTime())||(o=!0,r=n>i),o){if(!r){var s=t.formatDate(n);this.outputExpiredTrialKey(s)}}else this.outputInvalidLicenseKey()},t.prototype.outputInvalidLicenseKey=function(){console.error("*****************************************************************************************************************"),console.error("***************************************** AG Grid Enterprise License ********************************************"),console.error("********************************************* Invalid License ***************************************************"),console.error("* Your license for AG Grid Enterprise is not valid - please contact info@ag-grid.com to obtain a valid license. *"),console.error("*****************************************************************************************************************"),console.error("*****************************************************************************************************************"),this.watermarkMessage="Invalid License"},t.prototype.outputExpiredTrialKey=function(t){console.error("****************************************************************************************************************"),console.error("***************************************** AG Grid Enterprise License *******************************************"),console.error("*****************************************   Trial Period Expired.    *******************************************"),console.error("* Your license for AG Grid Enterprise expired on "+t+".                                                *"),console.error("* Please email info@ag-grid.com to purchase a license.                                                         *"),console.error("****************************************************************************************************************"),console.error("****************************************************************************************************************"),this.watermarkMessage="Trial Period Expired"},t.prototype.outputMissingLicenseKey=function(){console.error("****************************************************************************************************************"),console.error("***************************************** AG Grid Enterprise License *******************************************"),console.error("****************************************** License Key Not Found ***********************************************"),console.error("* All AG Grid Enterprise features are unlocked.                                                                *"),console.error("* This is an evaluation only version, it is not licensed for development projects intended for production.     *"),console.error("* If you want to hide the watermark, please email info@ag-grid.com for a trial license.                        *"),console.error("****************************************************************************************************************"),console.error("****************************************************************************************************************"),this.watermarkMessage="For Trial Use Only"},t.prototype.outputIncompatibleVersion=function(t,e){console.error("****************************************************************************************************************************"),console.error("****************************************************************************************************************************"),console.error("*                                             AG Grid Enterprise License                                                   *"),console.error("*                           License not compatible with installed version of AG Grid Enterprise.                           *"),console.error("*                                                                                                                          *"),console.error("* Your AG Grid License entitles you to all versions of AG Grid that we release within the time covered by your license     *"),console.error("* - typically we provide one year licenses which entitles you to all releases / updates of AG Grid within that year.       *"),console.error("* Your license has an end (expiry) date which stops the license key working with versions of AG Grid released after the    *"),console.error("* license end date. The license key that you have expires on "+t+", however the version of AG Grid you    *"),console.error("* are trying to use was released on "+e+".                                                               *"),console.error("*                                                                                                                          *"),console.error("* Please contact info@ag-grid.com to renew your subscription to new versions and get a new license key to work with this   *"),console.error("* version of AG Grid.                                                                                                      *"),console.error("****************************************************************************************************************************"),console.error("****************************************************************************************************************************"),this.watermarkMessage="License Expired"},t.RELEASE_INFORMATION="MTY4MzExMjAxODQyNA==",t}(),__extends$3l=(extendStatics=function(t,e){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},extendStatics(t,e)},function(t,e){function n(){this.constructor=t}extendStatics(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),extendStatics,__decorate$2w=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},GridLicenseManager=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$3l(e,t),e.prototype.validateLicense=function(){this.licenseManager=new LicenseManager(this.gridOptionsService.getDocument()),this.licenseManager.validateLicense()},e.getLicenseDetails=function(t){return new LicenseManager(null).getLicenseDetails(t)},e.prototype.isDisplayWatermark=function(){return this.licenseManager.isDisplayWatermark()},e.prototype.getWatermarkMessage=function(){return this.licenseManager.getWatermarkMessage()},e.setLicenseKey=function(t){LicenseManager.setLicenseKey(t)},__decorate$2w([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.$j7],e.prototype,"validateLicense",null),e=__decorate$2w([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("licenseManager")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$3k=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$2v=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},WatermarkComp=function(t){function e(){return t.call(this,'<div class="ag-watermark">\n                    <div ref="eLicenseTextRef" class="ag-watermark-text"></div>\n               </div>')||this}return __extends$3k(e,t),e.prototype.postConstruct=function(){var t=this,e=this.shouldDisplayWatermark();this.setDisplayed(e),e&&(this.eLicenseTextRef.innerText=this.licenseManager.getWatermarkMessage(),window.setTimeout((function(){return t.addCssClass("ag-opacity-zero")}),0),window.setTimeout((function(){return t.setDisplayed(!1)}),5e3))},e.prototype.shouldDisplayWatermark=function(){var t=(this.gridOptionsService.getDocument().defaultView||window).location.pathname,e=this.licenseManager.isDisplayWatermark();return!!t&&-1!==t.indexOf("forceWatermark")||e},__decorate$2v([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("licenseManager")],e.prototype,"licenseManager",void 0),__decorate$2v([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eLicenseTextRef")],e.prototype,"eLicenseTextRef",void 0),__decorate$2v([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),VERSION$i="29.3.4",EnterpriseCoreModule={version:VERSION$i,moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.EnterpriseCoreModule,beans:[GridLicenseManager],agStackComponents:[{componentName:"AgWatermark",componentClass:WatermarkComp}]},__extends$3j=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$2u=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},__values$D=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},SOURCE_PASTE="paste",EXPORT_TYPE_DRAG_COPY="dragCopy",EXPORT_TYPE_CLIPBOARD="clipboard",CellClearType;!function(t){t[t.CellRange=0]="CellRange",t[t.SelectedRows=1]="SelectedRows",t[t.FocusedCell=2]="FocusedCell"}(CellClearType||(CellClearType={}));var ClipboardService=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lastPasteOperationTime=0,e.navigatorApiFailed=!1,e}var n;return __extends$3j(e,t),n=e,e.prototype.init=function(){var t=this;this.logger=this.loggerFactory.create("ClipboardService"),"clientSide"===this.rowModel.getType()&&(this.clientSideRowModel=this.rowModel),this.ctrlsService.whenReady((function(e){t.gridCtrl=e.gridCtrl}))},e.prototype.pasteFromClipboard=function(){var t=this;this.logger.log("pasteFromClipboard"),!this.gridOptionsService.is("suppressClipboardApi")&&!this.navigatorApiFailed&&navigator.clipboard&&navigator.clipboard.readText?navigator.clipboard.readText().then(this.processClipboardData.bind(this)).catch((function(e){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce((function(){console.warn(e),console.warn("AG Grid: Unable to use the Clipboard API (navigator.clipboard.readText()). The reason why it could not be used has been logged in the previous line. For this reason the grid has defaulted to using a workaround which doesn't perform as well. Either fix why Clipboard API is blocked, OR stop this message from appearing by setting grid property suppressClipboardApi=true (which will default the grid to using the workaround rather than the API")}),"clipboardApiError"),t.navigatorApiFailed=!0,t.pasteFromClipboardLegacy()})):this.pasteFromClipboardLegacy()},e.prototype.pasteFromClipboardLegacy=function(){var t=this,e=!1,n=function(n){var i=(new Date).getTime();i-t.lastPasteOperationTime<50&&(e=!0,n.preventDefault()),t.lastPasteOperationTime=i};this.executeOnTempElement((function(t){t.addEventListener("paste",n),t.focus({preventScroll:!0})}),(function(i){var o=i.value;e?t.refocusLastFocusedCell():t.processClipboardData(o),i.removeEventListener("paste",n)}))},e.prototype.refocusLastFocusedCell=function(){var t=this.focusService.getFocusedCell();t&&this.focusService.setFocusedCell({rowIndex:t.rowIndex,column:t.column,rowPinned:t.rowPinned,forceBrowserFocus:!0})},e.prototype.getClipboardDelimiter=function(){var t=this.gridOptionsService.get("clipboardDelimiter");return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(t)?t:"\t"},e.prototype.processClipboardData=function(t){var e=this;if(null!=t){var i=n.stringToArray(t,this.getClipboardDelimiter()),o=this.gridOptionsService.getCallback("processDataFromClipboard");if(o&&(i=o({data:i})),null!=i){this.gridOptionsService.is("suppressLastEmptyLineOnPaste")&&this.removeLastLineIfBlank(i);this.doPasteOperation((function(t,n,o,r){e.rangeService&&e.rangeService.isMoreThanOneCell()&&!e.hasOnlyOneValueToPaste(i)?e.pasteIntoActiveRange(i,t,n,r):e.pasteStartingFromFocusedCell(i,t,n,o,r)}))}}},e.stringToArray=function(t,e){void 0===e&&(e=",");var n=[],i=function(t){return"\r"===t||"\n"===t},o=!1;if(""===t)return[[""]];for(var r,s,a,l=function(l,c,u){var h=t[u-1],d=t[u],p=t[u+1],f=function(){n[l]||(n[l]=[]),n[l][c]||(n[l][c]="")};if(f(),'"'===d){if(o)return'"'===p?(n[l][c]+='"',u++):o=!1,r=l,s=c,a=u,"continue";if(void 0===h||h===e||i(h))return o=!0,r=l,s=c,a=u,"continue"}if(!o){if(d===e)return c++,f(),r=l,s=c,a=u,"continue";if(i(d))return c=0,l++,f(),"\r"===d&&"\n"===p&&u++,r=l,s=c,a=u,"continue"}n[l][c]+=d,r=l,s=c,a=u},c=0,u=0,h=0;h<t.length;h++)l(c,u,h),c=r,u=s,h=a;return n},e.prototype.doPasteOperation=function(t){var e,n=this.gridOptionsService.api,i=this.gridOptionsService.columnApi,o="clipboard";if(this.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_PASTE_START,api:n,columnApi:i,source:o}),this.clientSideRowModel){var r=this.gridOptionsService.is("aggregateOnlyChangedColumns");e=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Dkq(r,this.clientSideRowModel.getRootNode())}var s={},a=[];t(s,a,this.focusService.getFocusedCell(),e),e&&this.clientSideRowModel.doAggregate(e),this.rowRenderer.refreshCells(),this.dispatchFlashCells(s),this.fireRowChanged(a),this.refocusLastFocusedCell();var l={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_PASTE_END,source:o};this.eventService.dispatchEvent(l)},e.prototype.pasteIntoActiveRange=function(t,e,n,i){var o=this,r=this.getRangeSize()%t.length!=0,s=0,a=0;this.iterateActiveRanges(!1,(function(l,c,u,h){if(h-s>=t.length){if(r)return;s+=a,a=0}var d=t[h-s];n.push(c);var p=o.gridOptionsService.getCallback("processCellFromClipboard");u.forEach((function(t,n){if(t.isCellEditable(c)&&!t.isSuppressPaste(c)){n>=d.length&&(n%=d.length);var r=o.processCell(c,t,d[n],EXPORT_TYPE_DRAG_COPY,p);c.setDataValue(t,r,SOURCE_PASTE),i&&i.addParentNode(c.parent,[t]);var s=l.rowIndex,a=l.rowPinned,u=o.cellPositionUtils.createIdFromValues({rowIndex:s,column:t,rowPinned:a});e[u]=!0}})),a++}))},e.prototype.pasteStartingFromFocusedCell=function(t,e,n,i,o){if(i){var r={rowIndex:i.rowIndex,rowPinned:i.rowPinned},s=this.columnModel.getDisplayedColumnsStartingAt(i.column);this.isPasteSingleValueIntoRange(t)?this.pasteSingleValueIntoRange(t,n,e,o):this.pasteMultipleValues(t,r,n,s,e,EXPORT_TYPE_CLIPBOARD,o)}},e.prototype.isPasteSingleValueIntoRange=function(t){return this.hasOnlyOneValueToPaste(t)&&null!=this.rangeService&&!this.rangeService.isEmpty()},e.prototype.pasteSingleValueIntoRange=function(t,e,n,i){var o=this,r=t[0][0];this.iterateActiveRanges(!1,(function(t,s,a){e.push(s),a.forEach((function(t){return o.updateCellValue(s,t,r,n,EXPORT_TYPE_CLIPBOARD,i)}))}))},e.prototype.hasOnlyOneValueToPaste=function(t){return 1===t.length&&1===t[0].length},e.prototype.copyRangeDown=function(){var t=this;if(this.rangeService&&!this.rangeService.isEmpty()){var e=[];this.doPasteOperation((function(n,i,o,r){var s=t.gridOptionsService.getCallback("processCellForClipboard"),a=t.gridOptionsService.getCallback("processCellFromClipboard");t.iterateActiveRanges(!0,(function(o,l,c){e.length?(i.push(l),c.forEach((function(i,s){if(i.isCellEditable(l)&&!i.isSuppressPaste(l)){var c=t.processCell(l,i,e[s],EXPORT_TYPE_DRAG_COPY,a);l.setDataValue(i,c,SOURCE_PASTE),r&&r.addParentNode(l.parent,[i]);var u=o.rowIndex,h=o.rowPinned,d=t.cellPositionUtils.createIdFromValues({rowIndex:u,column:i,rowPinned:h});n[d]=!0}}))):c.forEach((function(n){var i=t.processCell(l,n,t.valueService.getValue(n,l),EXPORT_TYPE_DRAG_COPY,s);e.push(i)}))}))}))}},e.prototype.removeLastLineIfBlank=function(t){var e=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(t);if(e&&1===e.length&&""===e[0]){if(1===t.length)return;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromArray(t,e)}},e.prototype.fireRowChanged=function(t){var e=this;"fullRow"===this.gridOptionsService.get("editType")&&t.forEach((function(t){var n={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_ROW_VALUE_CHANGED,node:t,data:t.data,rowIndex:t.rowIndex,rowPinned:t.rowPinned};e.eventService.dispatchEvent(n)}))},e.prototype.pasteMultipleValues=function(t,e,n,i,o,r,s){var a=this,l=e,c=null!=this.clientSideRowModel&&!this.gridOptionsService.isTreeData();t.forEach((function(t){var e=function(){for(;;){if(!l)return null;var t=a.rowPositionUtils.getRowNode(l);if(l=a.cellNavigationService.getRowBelow({rowPinned:l.rowPinned,rowIndex:l.rowIndex}),null==t)return null;if(!(t.detail||t.footer||c&&t.group))return t}}();e&&(t.forEach((function(t,n){return a.updateCellValue(e,i[n],t,o,r,s)})),n.push(e))}))},e.prototype.updateCellValue=function(t,e,n,i,o,r){if(t&&e&&e.isCellEditable(t)&&!e.isSuppressPaste(t)){var s=this.processCell(t,e,n,o,this.gridOptionsService.getCallback("processCellFromClipboard"));t.setDataValue(e,s,SOURCE_PASTE);var a=t.rowIndex,l=t.rowPinned;i[this.cellPositionUtils.createIdFromValues({rowIndex:a,column:e,rowPinned:l})]=!0,r&&r.addParentNode(t.parent,[e])}},e.prototype.copyToClipboard=function(t){void 0===t&&(t={}),this.copyOrCutToClipboard(t)},e.prototype.cutToClipboard=function(t){void 0===t&&(t={}),this.gridOptionsService.is("suppressCutToClipboard")||this.copyOrCutToClipboard(t,!0)},e.prototype.copyOrCutToClipboard=function(t,e){var n=t.includeHeaders,i=t.includeGroupHeaders;this.logger.log("copyToClipboard: includeHeaders = "+n),null==n&&(n=this.gridOptionsService.is("copyHeadersToClipboard")),null==i&&(i=this.gridOptionsService.is("copyGroupHeadersToClipboard"));var o={includeHeaders:n,includeGroupHeaders:i},r=!this.gridOptionsService.is("suppressCopyRowsToClipboard"),s=null;!this.rangeService||this.rangeService.isEmpty()||this.shouldSkipSingleCellRange()?r&&!this.selectionService.isEmpty()?(this.copySelectedRowsToClipboard(o),s=CellClearType.SelectedRows):this.focusService.isAnyCellFocused()&&(this.copyFocusedCellToClipboard(o),s=CellClearType.FocusedCell):(this.copySelectedRangeToClipboard(o),s=CellClearType.CellRange),e&&null!==s&&this.clearCellsAfterCopy(s)},e.prototype.clearCellsAfterCopy=function(t){if(this.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_KEY_SHORTCUT_CHANGED_CELL_START}),t===CellClearType.CellRange)this.rangeService.clearCellRangeCellValues(void 0,"clipboardService");else if(t===CellClearType.SelectedRows)this.clearSelectedRows();else{var e=this.focusService.getFocusedCell();if(null==e)return;var n=this.rowPositionUtils.getRowNode(e);n&&this.clearCellValue(n,e.column)}this.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_KEY_SHORTCUT_CHANGED_CELL_END})},e.prototype.clearSelectedRows=function(){var t,e,n,i,o=this.selectionService.getSelectedNodes(),r=this.columnModel.getAllDisplayedColumns();try{for(var s=__values$D(o),a=s.next();!a.done;a=s.next()){var l=a.value;try{for(var c=(n=void 0,__values$D(r)),u=c.next();!u.done;u=c.next()){var h=u.value;this.clearCellValue(l,h)}}catch(t){n={error:t}}finally{try{u&&!u.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}}}catch(e){t={error:e}}finally{try{a&&!a.done&&(e=s.return)&&e.call(s)}finally{if(t)throw t.error}}},e.prototype.clearCellValue=function(t,e){e.isCellEditable(t)&&t.setDataValue(e,null,"clipboardService")},e.prototype.shouldSkipSingleCellRange=function(){return this.gridOptionsService.is("suppressCopySingleCellRanges")&&!this.rangeService.isMoreThanOneCell()},e.prototype.iterateActiveRanges=function(t,e,n){var i=this;if(this.rangeService&&!this.rangeService.isEmpty()){var o=this.rangeService.getCellRanges();t?this.iterateActiveRange(o[0],e,n,!0):o.forEach((function(t,r){return i.iterateActiveRange(t,e,n,r===o.length-1)}))}},e.prototype.iterateActiveRange=function(t,e,n,i){if(this.rangeService){var o=this.rangeService.getRangeStartRow(t),r=this.rangeService.getRangeEndRow(t);n&&t.columns&&n(t.columns);for(var s=0,a=!1;!a&&null!=o;){var l=this.rowPositionUtils.getRowNode(o);a=this.rowPositionUtils.sameRow(o,r),e(o,l,t.columns,s++,a&&i),o=this.cellNavigationService.getRowBelow(o)}}},e.prototype.copySelectedRangeToClipboard=function(t){if(void 0===t&&(t={}),this.rangeService&&!this.rangeService.isEmpty()){var e=this.rangeService.areAllRangesAbleToMerge()?this.buildDataFromMergedRanges(t):this.buildDataFromRanges(t),n=e.data,i=e.cellsToFlash;this.copyDataToClipboard(n),this.dispatchFlashCells(i)}},e.prototype.buildDataFromMergedRanges=function(t){var e=this,n=new Set,i=this.rangeService.getCellRanges(),o=new Map,r=[],s={};i.forEach((function(t){t.columns.forEach((function(t){return n.add(t)}));var i=e.getRangeRowPositionsAndCellsToFlash(t),a=i.rowPositions,l=i.cellsToFlash;a.forEach((function(t){var e=t.rowIndex+"-"+(t.rowPinned||"null");o.get(e)||(o.set(e,!0),r.push(t))})),Object.assign(s,l)}));var a=this.columnModel.getAllDisplayedColumns(),l=Array.from(n);return l.sort((function(t,e){return a.indexOf(t)-a.indexOf(e)})),{data:this.buildExportParams({columns:l,rowPositions:r,includeHeaders:t.includeHeaders,includeGroupHeaders:t.includeGroupHeaders}),cellsToFlash:s}},e.prototype.buildDataFromRanges=function(t){var e=this,n=this.rangeService.getCellRanges(),i=[],o={};return n.forEach((function(n){var r=e.getRangeRowPositionsAndCellsToFlash(n),s=r.rowPositions,a=r.cellsToFlash;Object.assign(o,a),i.push(e.buildExportParams({columns:n.columns,rowPositions:s,includeHeaders:t.includeHeaders,includeGroupHeaders:t.includeGroupHeaders}))})),{data:i.join("\n"),cellsToFlash:o}},e.prototype.getRangeRowPositionsAndCellsToFlash=function(t){for(var e=this,n=[],i={},o=this.rangeService.getRangeStartRow(t),r=this.rangeService.getRangeEndRow(t),s=o;s&&(n.push(s),t.columns.forEach((function(t){var n=s,o=n.rowIndex,r=n.rowPinned,a=e.cellPositionUtils.createIdFromValues({rowIndex:o,column:t,rowPinned:r});i[a]=!0})),!this.rowPositionUtils.sameRow(s,r));)s=this.cellNavigationService.getRowBelow(s);return{rowPositions:n,cellsToFlash:i}},e.prototype.copyFocusedCellToClipboard=function(t){var e;void 0===t&&(t={});var n=this.focusService.getFocusedCell();if(null!=n){var i=this.cellPositionUtils.createId(n),o={rowPinned:n.rowPinned,rowIndex:n.rowIndex},r=n.column,s=this.buildExportParams({columns:[r],rowPositions:[o],includeHeaders:t.includeHeaders,includeGroupHeaders:t.includeGroupHeaders});this.copyDataToClipboard(s),this.dispatchFlashCells(((e={})[i]=!0,e))}},e.prototype.copySelectedRowsToClipboard=function(t){void 0===t&&(t={});var e=t.columnKeys,n=t.includeHeaders,i=t.includeGroupHeaders,o=this.buildExportParams({columns:e,includeHeaders:n,includeGroupHeaders:i});this.copyDataToClipboard(o)},e.prototype.buildExportParams=function(t){var e=this,n=t.columns,i=t.rowPositions,o=t.includeHeaders,r=void 0!==o&&o,s=t.includeGroupHeaders,a={columnKeys:n,rowPositions:i,skipColumnHeaders:!r,skipColumnGroupHeaders:!(void 0!==s&&s),suppressQuotes:!0,columnSeparator:this.getClipboardDelimiter(),onlySelected:!i,processCellCallback:this.gridOptionsService.getCallback("processCellForClipboard"),processRowGroupCallback:function(t){return e.processRowGroupCallback(t)},processHeaderCallback:this.gridOptionsService.getCallback("processHeaderForClipboard"),processGroupHeaderCallback:this.gridOptionsService.getCallback("processGroupHeaderForClipboard")};return this.csvCreator.getDataAsCsv(a,!0)},e.prototype.processRowGroupCallback=function(t){var e=t.node,n=e.key,i=null!=n?n:"";if(t.node.footer){var o="";n&&n.length&&(o=" "+n),i="Total"+o}var r=this.gridOptionsService.getCallback("processCellForClipboard");if(r){var s=e.rowGroupColumn;return!s&&e.footer&&-1===e.level&&(s=this.columnModel.getRowGroupColumns()[0]),r({value:i,node:e,column:s,type:"clipboard"})}return i},e.prototype.dispatchFlashCells=function(t){var e=this;window.setTimeout((function(){var n={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_FLASH_CELLS,cells:t};e.eventService.dispatchEvent(n)}),0)},e.prototype.processCell=function(t,e,n,i,o){return o?o({column:e,node:t,value:n,type:i}):n},e.prototype.copyDataToClipboard=function(t){var e=this,n=this.gridOptionsService.getCallback("sendToClipboard");n?n({data:t}):!this.gridOptionsService.is("suppressClipboardApi")&&navigator.clipboard?navigator.clipboard.writeText(t).catch((function(n){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce((function(){console.warn(n),console.warn("AG Grid: Unable to use the Clipboard API (navigator.clipboard.writeText()). The reason why it could not be used has been logged in the previous line. For this reason the grid has defaulted to using a workaround which doesn't perform as well. Either fix why Clipboard API is blocked, OR stop this message from appearing by setting grid property suppressClipboardApi=true (which will default the grid to using the workaround rather than the API.")}),"clipboardApiError"),e.copyDataToClipboardLegacy(t)})):this.copyDataToClipboardLegacy(t)},e.prototype.copyDataToClipboardLegacy=function(t){var e=this;this.executeOnTempElement((function(n){var i=e.gridOptionsService.getDocument(),o=i.activeElement;n.value=t||" ",n.select(),n.focus({preventScroll:!0}),i.execCommand("copy")||console.warn("AG Grid: Browser did not allow document.execCommand('copy'). Ensure api.copySelectedRowsToClipboard() is invoked via a user event, i.e. button click, otherwise the browser will prevent it for security reasons."),null!=o&&null!=o.focus&&o.focus({preventScroll:!0})}))},e.prototype.executeOnTempElement=function(t,e){var n=this.gridOptionsService.getDocument(),i=n.createElement("textarea");i.style.width="1px",i.style.height="1px",i.style.top=n.documentElement.scrollTop+"px",i.style.left=n.documentElement.scrollLeft+"px",i.style.position="absolute",i.style.opacity="0";var o=this.gridCtrl.getGui();o.appendChild(i);try{t(i)}catch(t){console.warn("AG Grid: Browser does not support document.execCommand('copy') for clipboard operations")}e?window.setTimeout((function(){e(i),o.removeChild(i)}),100):o.removeChild(i)},e.prototype.getRangeSize=function(){var t=this.rangeService.getCellRanges(),e=0,n=0;return t.length>0&&(e=this.rangeService.getRangeStartRow(t[0]).rowIndex,n=this.rangeService.getRangeEndRow(t[0]).rowIndex),e-n+1},__decorate$2u([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("csvCreator")],e.prototype,"csvCreator",void 0),__decorate$2u([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("loggerFactory")],e.prototype,"loggerFactory",void 0),__decorate$2u([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("selectionService")],e.prototype,"selectionService",void 0),__decorate$2u([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FiY)("rangeService")],e.prototype,"rangeService",void 0),__decorate$2u([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowModel")],e.prototype,"rowModel",void 0),__decorate$2u([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ctrlsService")],e.prototype,"ctrlsService",void 0),__decorate$2u([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("valueService")],e.prototype,"valueService",void 0),__decorate$2u([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("focusService")],e.prototype,"focusService",void 0),__decorate$2u([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowRenderer")],e.prototype,"rowRenderer",void 0),__decorate$2u([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$2u([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("cellNavigationService")],e.prototype,"cellNavigationService",void 0),__decorate$2u([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("cellPositionUtils")],e.prototype,"cellPositionUtils",void 0),__decorate$2u([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowPositionUtils")],e.prototype,"rowPositionUtils",void 0),__decorate$2u([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e=n=__decorate$2u([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("clipboardService")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),VERSION$h="29.3.4",ClipboardModule={version:VERSION$h,moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.ClipboardModule,beans:[ClipboardService],dependantModules:[EnterpriseCoreModule,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jMC]},__extends$3i=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$2t=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},ExpandState;!function(t){t[t.EXPANDED=0]="EXPANDED",t[t.COLLAPSED=1]="COLLAPSED",t[t.INDETERMINATE=2]="INDETERMINATE"}(ExpandState||(ExpandState={}));var PrimaryColsHeaderPanel=function(t){function e(){return t.call(this,e.TEMPLATE)||this}return __extends$3i(e,t),e.prototype.postConstruct=function(){var t=this;this.createExpandIcons(),this.addManagedListener(this.eExpand,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eExpand,"keydown",(function(e){e.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.SPACE&&(e.preventDefault(),t.onExpandClicked())})),this.addManagedListener(this.eSelect.getInputElement(),"click",this.onSelectClicked.bind(this)),this.eFilterTextField.onValueChange((function(){return t.onFilterTextChanged()})),this.addManagedListener(this.eFilterTextField.getInputElement(),"keypress",this.onMiniFilterKeyPress.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_NEW_COLUMNS_LOADED,this.showOrHideOptions.bind(this));var e=this.localeService.getLocaleTextFunc();this.eSelect.setInputAriaLabel(e("ariaColumnSelectAll","Toggle Select All Columns")),this.eFilterTextField.setInputAriaLabel(e("ariaFilterColumnsInput","Filter Columns Input"))},e.prototype.init=function(t){this.params=t,this.columnModel.isReady()&&this.showOrHideOptions()},e.prototype.createExpandIcons=function(){this.eExpand.appendChild(this.eExpandChecked=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("columnSelectOpen",this.gridOptionsService)),this.eExpand.appendChild(this.eExpandUnchecked=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("columnSelectClosed",this.gridOptionsService)),this.eExpand.appendChild(this.eExpandIndeterminate=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("columnSelectIndeterminate",this.gridOptionsService)),this.setExpandState(ExpandState.EXPANDED)},e.prototype.showOrHideOptions=function(){var t=!this.params.suppressColumnFilter,e=!this.params.suppressColumnSelectAll,n=!this.params.suppressColumnExpandAll,i=this.columnModel.isPrimaryColumnGroupsPresent(),o=this.localeService.getLocaleTextFunc();this.eFilterTextField.setInputPlaceholder(o("searchOoo","Search...")),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eFilterTextField.getGui(),t),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eSelect.getGui(),e),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eExpand,n&&i)},e.prototype.onFilterTextChanged=function(){var t=this;this.onFilterTextChangedDebounced||(this.onFilterTextChangedDebounced=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.debounce((function(){var e=t.eFilterTextField.getValue();t.dispatchEvent({type:"filterChanged",filterText:e})}),e.DEBOUNCE_DELAY)),this.onFilterTextChangedDebounced()},e.prototype.onMiniFilterKeyPress=function(t){var n=this;t.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.ENTER&&setTimeout((function(){return n.onSelectClicked()}),e.DEBOUNCE_DELAY)},e.prototype.onSelectClicked=function(){this.dispatchEvent({type:this.selectState?"unselectAll":"selectAll"})},e.prototype.onExpandClicked=function(){this.dispatchEvent({type:this.expandState===ExpandState.EXPANDED?"collapseAll":"expandAll"})},e.prototype.setExpandState=function(t){this.expandState=t,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eExpandChecked,this.expandState===ExpandState.EXPANDED),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eExpandUnchecked,this.expandState===ExpandState.COLLAPSED),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eExpandIndeterminate,this.expandState===ExpandState.INDETERMINATE)},e.prototype.setSelectionState=function(t){this.selectState=t,this.eSelect.setValue(this.selectState)},e.DEBOUNCE_DELAY=300,e.TEMPLATE='<div class="ag-column-select-header" role="presentation">\n            <div ref="eExpand" class="ag-column-select-header-icon" tabindex="0"></div>\n            <ag-checkbox ref="eSelect" class="ag-column-select-header-checkbox"></ag-checkbox>\n            <ag-input-text-field class="ag-column-select-header-filter-wrapper" ref="eFilterTextField"></ag-input-text-field>\n        </div>',__decorate$2t([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$2t([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eExpand")],e.prototype,"eExpand",void 0),__decorate$2t([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eSelect")],e.prototype,"eSelect",void 0),__decorate$2t([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eFilterTextField")],e.prototype,"eFilterTextField",void 0),__decorate$2t([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),ColumnModelItem=function(){function t(t,e,n,i,o){void 0===i&&(i=!1),this.eventService=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.POd,this.displayName=t,this.dept=n,this.group=i,i?(this.columnGroup=e,this.expanded=o,this.children=[]):this.column=e}return t.prototype.isGroup=function(){return this.group},t.prototype.getDisplayName=function(){return this.displayName},t.prototype.getColumnGroup=function(){return this.columnGroup},t.prototype.getColumn=function(){return this.column},t.prototype.getDept=function(){return this.dept},t.prototype.isExpanded=function(){return!!this.expanded},t.prototype.getChildren=function(){return this.children},t.prototype.isPassesFilter=function(){return this.passesFilter},t.prototype.setExpanded=function(e){e!==this.expanded&&(this.expanded=e,this.eventService.dispatchEvent({type:t.EVENT_EXPANDED_CHANGED}))},t.prototype.setPassesFilter=function(t){this.passesFilter=t},t.prototype.addEventListener=function(t,e){this.eventService.addEventListener(t,e)},t.prototype.removeEventListener=function(t,e){this.eventService.removeEventListener(t,e)},t.EVENT_EXPANDED_CHANGED="expandedChanged",t}(),__extends$3h=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$2s=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},__read$1b=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},__spread$J=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$1b(arguments[e]));return t},__values$C=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ToolPanelContextMenu=function(t){function e(e,n,i){var o=t.call(this,'<div class="ag-menu"></div>')||this;return o.column=e,o.mouseEvent=n,o.parentEl=i,o.displayName=null,o}return __extends$3h(e,t),e.prototype.postConstruct=function(){this.initializeProperties(this.column),this.buildMenuItemMap(),this.column instanceof ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sgG?this.displayName=this.columnModel.getDisplayNameForColumn(this.column,"columnToolPanel"):this.displayName=this.columnModel.getDisplayNameForProvidedColumnGroup(null,this.column,"columnToolPanel"),this.isActive()&&(this.mouseEvent.preventDefault(),this.displayContextMenu())},e.prototype.initializeProperties=function(t){t instanceof ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KTm?this.columns=t.getLeafColumns():this.columns=[t],this.allowGrouping=this.columns.some((function(t){return t.isPrimary()&&t.isAllowRowGroup()})),this.allowValues=this.columns.some((function(t){return t.isPrimary()&&t.isAllowValue()})),this.allowPivoting=this.columnModel.isPivotMode()&&this.columns.some((function(t){return t.isPrimary()&&t.isAllowPivot()}))},e.prototype.buildMenuItemMap=function(){var t=this,e=this.localeService.getLocaleTextFunc();this.menuItemMap=new Map,this.menuItemMap.set("rowGroup",{allowedFunction:function(t){return t.isPrimary()&&t.isAllowRowGroup()},activeFunction:function(t){return t.isRowGroupActive()},activateLabel:function(){return e("groupBy","Group by")+" "+t.displayName},deactivateLabel:function(){return e("ungroupBy","Un-Group by")+" "+t.displayName},activateFunction:function(){var e=t.columnModel.getRowGroupColumns();t.columnModel.setRowGroupColumns(t.addColumnsToList(e),"toolPanelUi")},deActivateFunction:function(){var e=t.columnModel.getRowGroupColumns();t.columnModel.setRowGroupColumns(t.removeColumnsFromList(e),"toolPanelUi")},addIcon:"menuAddRowGroup",removeIcon:"menuRemoveRowGroup"}),this.menuItemMap.set("value",{allowedFunction:function(t){return t.isPrimary()&&t.isAllowValue()},activeFunction:function(t){return t.isValueActive()},activateLabel:function(){return e("addToValues","Add "+t.displayName+" to values",[t.displayName])},deactivateLabel:function(){return e("removeFromValues","Remove "+t.displayName+" from values",[t.displayName])},activateFunction:function(){var e=t.columnModel.getValueColumns();t.columnModel.setValueColumns(t.addColumnsToList(e),"toolPanelUi")},deActivateFunction:function(){var e=t.columnModel.getValueColumns();t.columnModel.setValueColumns(t.removeColumnsFromList(e),"toolPanelUi")},addIcon:"valuePanel",removeIcon:"valuePanel"}),this.menuItemMap.set("pivot",{allowedFunction:function(e){return t.columnModel.isPivotMode()&&e.isPrimary()&&e.isAllowPivot()},activeFunction:function(t){return t.isPivotActive()},activateLabel:function(){return e("addToLabels","Add "+t.displayName+" to labels",[t.displayName])},deactivateLabel:function(){return e("removeFromLabels","Remove "+t.displayName+" from labels",[t.displayName])},activateFunction:function(){var e=t.columnModel.getPivotColumns();t.columnModel.setPivotColumns(t.addColumnsToList(e),"toolPanelUi")},deActivateFunction:function(){var e=t.columnModel.getPivotColumns();t.columnModel.setPivotColumns(t.removeColumnsFromList(e),"toolPanelUi")},addIcon:"pivotPanel",removeIcon:"pivotPanel"})},e.prototype.addColumnsToList=function(t){return __spread$J(t).concat(this.columns.filter((function(e){return-1===t.indexOf(e)})))},e.prototype.removeColumnsFromList=function(t){var e=this;return t.filter((function(t){return-1===e.columns.indexOf(t)}))},e.prototype.displayContextMenu=function(){var t=this,e=this.getGui(),n=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O_3),i=this.getMappedMenuItems(),o=this.localeService.getLocaleTextFunc(),r=function(){};e.appendChild(n.getGui()),n.addMenuItems(i),n.addManagedListener(n,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sJC.EVENT_MENU_ITEM_SELECTED,(function(){t.parentEl.focus(),r()}));var s=this.popupService.addPopup({modal:!0,eChild:e,closeOnEsc:!0,afterGuiAttached:function(){return t.focusService.focusInto(n.getGui())},ariaLabel:o("ariaLabelContextMenu","Context Menu"),closedCallback:function(e){e instanceof KeyboardEvent&&t.parentEl.focus(),t.destroyBean(n)}});s&&(r=s.hideFunc),this.popupService.positionPopupUnderMouseEvent({type:"columnContextMenu",mouseEvent:this.mouseEvent,ePopup:e})},e.prototype.isActive=function(){return this.allowGrouping||this.allowValues||this.allowPivoting},e.prototype.getMappedMenuItems=function(){var t,e,n=[],i=function(t){var e=o.columns.some((function(e){return t.allowedFunction(e)&&!t.activeFunction(e)})),i=o.columns.some((function(e){return t.allowedFunction(e)&&t.activeFunction(e)}));e&&n.push({name:t.activateLabel(o.displayName),icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan(t.addIcon,o.gridOptionsService,null),action:function(){return t.activateFunction()}}),i&&n.push({name:t.deactivateLabel(o.displayName),icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan(t.removeIcon,o.gridOptionsService,null),action:function(){return t.deActivateFunction()}})},o=this;try{for(var r=__values$C(this.menuItemMap.values()),s=r.next();!s.done;s=r.next()){i(s.value)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n},__decorate$2s([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$2s([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("popupService")],e.prototype,"popupService",void 0),__decorate$2s([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("focusService")],e.prototype,"focusService",void 0),__decorate$2s([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$3g=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$2r=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},ToolPanelColumnGroupComp=function(t){function e(e,n,i,o){var r=t.call(this)||this;return r.modelItem=e,r.allowDragging=n,r.eventType=i,r.focusWrapper=o,r.processingColumnStateChange=!1,r.modelItem=e,r.columnGroup=e.getColumnGroup(),r.columnDept=e.getDept(),r.allowDragging=n,r}return __extends$3g(e,t),e.prototype.init=function(){var t=this;this.setTemplate(e.TEMPLATE),this.eDragHandle=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("columnDrag",this.gridOptionsService),this.eDragHandle.classList.add("ag-drag-handle","ag-column-select-column-group-drag-handle");var n=this.cbSelect.getGui(),i=this.cbSelect.getInputElement();n.insertAdjacentElement("afterend",this.eDragHandle),i.setAttribute("tabindex","-1"),this.displayName=this.columnModel.getDisplayNameForProvidedColumnGroup(null,this.columnGroup,this.eventType),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(this.displayName)&&(this.displayName=">>"),this.eLabel.innerHTML=this.displayName?this.displayName:"",this.setupExpandContract(),this.addCssClass("ag-column-select-indent-"+this.columnDept),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.eLabel,"click",this.onLabelClicked.bind(this)),this.addManagedListener(this.cbSelect,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jkc.EVENT_CHANGED,this.onCheckboxChanged.bind(this)),this.addManagedListener(this.modelItem,ColumnModelItem.EVENT_EXPANDED_CHANGED,this.onExpandChanged.bind(this)),this.addManagedListener(this.focusWrapper,"keydown",this.handleKeyDown.bind(this)),this.addManagedListener(this.focusWrapper,"contextmenu",this.onContextMenu.bind(this)),this.setOpenClosedIcons(),this.setupDragging(),this.onColumnStateChanged(),this.addVisibilityListenersToAllChildren(),this.refreshAriaExpanded(),this.refreshAriaLabel(),this.setupTooltip(),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fQL.getToolPanelClassesFromColDef(this.columnGroup.getColGroupDef(),this.gridOptionsService,null,this.columnGroup).forEach((function(e){return t.addOrRemoveCssClass(e,!0)}))},e.prototype.getColumns=function(){return this.columnGroup.getLeafColumns()},e.prototype.setupTooltip=function(){var t=this,e=this.columnGroup.getColGroupDef();if(e){var n=function(){var n=e.headerTooltip;t.setTooltip(n)};n(),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_NEW_COLUMNS_LOADED,n)}},e.prototype.getTooltipParams=function(){var e=t.prototype.getTooltipParams.call(this);return e.location="columnToolPanelColumnGroup",e},e.prototype.handleKeyDown=function(t){switch(t.key){case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.LEFT:t.preventDefault(),this.modelItem.setExpanded(!1);break;case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.RIGHT:t.preventDefault(),this.modelItem.setExpanded(!0);break;case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.SPACE:t.preventDefault(),this.isSelectable()&&this.onSelectAllChanged(!this.isSelected())}},e.prototype.onContextMenu=function(t){var e=this,n=this.columnGroup;if(!this.gridOptionsService.is("functionsReadOnly")){var i=this.createBean(new ToolPanelContextMenu(n,t,this.focusWrapper));this.addDestroyFunc((function(){i.isAlive()&&e.destroyBean(i)}))}},e.prototype.addVisibilityListenersToAllChildren=function(){var t=this;this.columnGroup.getLeafColumns().forEach((function(e){t.addManagedListener(e,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sgG.EVENT_VISIBLE_CHANGED,t.onColumnStateChanged.bind(t)),t.addManagedListener(e,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sgG.EVENT_VALUE_CHANGED,t.onColumnStateChanged.bind(t)),t.addManagedListener(e,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sgG.EVENT_PIVOT_CHANGED,t.onColumnStateChanged.bind(t)),t.addManagedListener(e,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sgG.EVENT_ROW_GROUP_CHANGED,t.onColumnStateChanged.bind(t))}))},e.prototype.setupDragging=function(){var t=this;if(this.allowDragging){var e=!this.gridOptionsService.is("suppressDragLeaveHidesColumns"),n={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.rvo.ToolPanel,eElement:this.eDragHandle,dragItemName:this.displayName,defaultIconName:e?ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jUB.ICON_HIDE:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jUB.ICON_NOT_ALLOWED,getDragItem:function(){return t.createDragItem()},onDragStarted:function(){var e={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PANEL_ITEM_DRAG_START,column:t.columnGroup};t.eventService.dispatchEvent(e)},onDragStopped:function(){var e={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PANEL_ITEM_DRAG_END};t.eventService.dispatchEvent(e)},onGridEnter:function(){e&&t.onChangeCommon(!0)},onGridExit:function(){e&&t.onChangeCommon(!1)}};this.dragAndDropService.addDragSource(n,!0),this.addDestroyFunc((function(){return t.dragAndDropService.removeDragSource(n)}))}else ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eDragHandle,!1)},e.prototype.createDragItem=function(){var t={};return this.columnGroup.getLeafColumns().forEach((function(e){t[e.getId()]=e.isVisible()})),{columns:this.columnGroup.getLeafColumns(),visibleState:t}},e.prototype.setupExpandContract=function(){this.eGroupClosedIcon.appendChild(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIcon("columnSelectClosed",this.gridOptionsService,null)),this.eGroupOpenedIcon.appendChild(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIcon("columnSelectOpen",this.gridOptionsService,null)),this.addManagedListener(this.eGroupClosedIcon,"click",this.onExpandOrContractClicked.bind(this)),this.addManagedListener(this.eGroupOpenedIcon,"click",this.onExpandOrContractClicked.bind(this));var t=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.rwP(this.eColumnGroupIcons,!0);this.addManagedListener(t,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.rwP.EVENT_TAP,this.onExpandOrContractClicked.bind(this)),this.addDestroyFunc(t.destroy.bind(t))},e.prototype.onLabelClicked=function(){var t=!this.cbSelect.getValue();this.onChangeCommon(t)},e.prototype.onCheckboxChanged=function(t){this.onChangeCommon(t.selected)},e.prototype.getVisibleLeafColumns=function(){var t=[],e=function(n){n.forEach((function(n){n.isPassesFilter()&&(n.isGroup()?e(n.getChildren()):t.push(n.getColumn()))}))};return e(this.modelItem.getChildren()),t},e.prototype.onChangeCommon=function(t){this.refreshAriaLabel(),this.processingColumnStateChange||this.modelItemUtils.selectAllChildren(this.modelItem.getChildren(),t,this.eventType)},e.prototype.refreshAriaLabel=function(){var t=this.localeService.getLocaleTextFunc(),e=t("ariaColumnGroup","Column Group"),n=this.cbSelect.getValue(),i=void 0===n?t("ariaIndeterminate","indeterminate"):n?t("ariaVisible","visible"):t("ariaHidden","hidden"),o=t("ariaToggleVisibility","Press SPACE to toggle visibility");ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaLabel(this.focusWrapper,this.displayName+" "+e),this.cbSelect.setInputAriaLabel(o+" ("+i+")"),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaDescribedBy(this.focusWrapper,this.cbSelect.getInputElement().id)},e.prototype.onColumnStateChanged=function(){var t=this.workOutSelectedValue(),e=this.workOutReadOnlyValue();this.processingColumnStateChange=!0,this.cbSelect.setValue(t),this.cbSelect.setReadOnly(e),this.addOrRemoveCssClass("ag-column-select-column-group-readonly",e),this.processingColumnStateChange=!1},e.prototype.workOutSelectedValue=function(){var t=this,e=this.columnModel.isPivotMode(),n=this.getVisibleLeafColumns(),i=0,o=0;if(n.forEach((function(n){!e&&n.getColDef().lockVisible||(t.isColumnChecked(n,e)?i++:o++)})),!(i>0&&o>0))return i>0},e.prototype.workOutReadOnlyValue=function(){var t=this.columnModel.isPivotMode(),e=0;return this.columnGroup.getLeafColumns().forEach((function(n){t?n.isAnyFunctionAllowed()&&e++:n.getColDef().lockVisible||e++})),0===e},e.prototype.isColumnChecked=function(t,e){if(e){var n=t.isPivotActive(),i=t.isRowGroupActive(),o=t.isValueActive();return n||i||o}return t.isVisible()},e.prototype.onExpandOrContractClicked=function(){var t=this.modelItem.isExpanded();this.modelItem.setExpanded(!t)},e.prototype.onExpandChanged=function(){this.setOpenClosedIcons(),this.refreshAriaExpanded()},e.prototype.setOpenClosedIcons=function(){var t=this.modelItem.isExpanded();ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eGroupClosedIcon,!t),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eGroupOpenedIcon,t)},e.prototype.refreshAriaExpanded=function(){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaExpanded(this.focusWrapper,this.modelItem.isExpanded())},e.prototype.getDisplayName=function(){return this.displayName},e.prototype.onSelectAllChanged=function(t){var e=this.cbSelect.getValue();!this.cbSelect.isReadOnly()&&(t&&!e||!t&&e)&&this.cbSelect.toggle()},e.prototype.isSelected=function(){return this.cbSelect.getValue()},e.prototype.isSelectable=function(){return!this.cbSelect.isReadOnly()},e.prototype.setSelected=function(t){this.cbSelect.setValue(t,!0)},e.TEMPLATE='<div class="ag-column-select-column-group" aria-hidden="true">\n            <span class="ag-column-group-icons" ref="eColumnGroupIcons" >\n                <span class="ag-column-group-closed-icon" ref="eGroupClosedIcon"></span>\n                <span class="ag-column-group-opened-icon" ref="eGroupOpenedIcon"></span>\n            </span>\n            <ag-checkbox ref="cbSelect" class="ag-column-select-checkbox"></ag-checkbox>\n            <span class="ag-column-select-column-label" ref="eLabel"></span>\n        </div>',__decorate$2r([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$2r([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("dragAndDropService")],e.prototype,"dragAndDropService",void 0),__decorate$2r([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("modelItemUtils")],e.prototype,"modelItemUtils",void 0),__decorate$2r([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("cbSelect")],e.prototype,"cbSelect",void 0),__decorate$2r([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eLabel")],e.prototype,"eLabel",void 0),__decorate$2r([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eGroupOpenedIcon")],e.prototype,"eGroupOpenedIcon",void 0),__decorate$2r([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eGroupClosedIcon")],e.prototype,"eGroupClosedIcon",void 0),__decorate$2r([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eColumnGroupIcons")],e.prototype,"eColumnGroupIcons",void 0),__decorate$2r([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$3f=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$2q=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},PRIMARY_COLS_LIST_ITEM_HOVERED="ag-list-item-hovered",PrimaryColsListPanelItemDragFeature=function(t){function e(e,n){var i=t.call(this)||this;return i.comp=e,i.virtualList=n,i.currentDragColumn=null,i.lastHoveredColumnItem=null,i}return __extends$3f(e,t),e.prototype.postConstruct=function(){this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PANEL_ITEM_DRAG_START,this.columnPanelItemDragStart.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PANEL_ITEM_DRAG_END,this.columnPanelItemDragEnd.bind(this)),this.createDropTarget(),this.createAutoScrollService()},e.prototype.columnPanelItemDragStart=function(t){var e=t.column;this.currentDragColumn=e,this.getCurrentColumns().find((function(t){var e=t.getColDef();return!!e.suppressMovable||!!e.lockPosition}))&&(this.moveBlocked=!0)},e.prototype.columnPanelItemDragEnd=function(){var t=this;window.setTimeout((function(){t.currentDragColumn=null,t.moveBlocked=!1}),10)},e.prototype.createDropTarget=function(){var t=this,e={isInterestedIn:function(t){return t===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.rvo.ToolPanel},getIconName:function(){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jUB[t.moveBlocked?"ICON_NOT_ALLOWED":"ICON_MOVE"]},getContainer:function(){return t.comp.getGui()},onDragging:function(e){return t.onDragging(e)},onDragStop:function(){return t.onDragStop()},onDragLeave:function(){return t.onDragLeave()}};this.dragAndDropService.addDropTarget(e)},e.prototype.createAutoScrollService=function(){var t=this.virtualList.getGui();this.autoScrollService=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Cvn({scrollContainer:t,scrollAxis:"y",getVerticalPosition:function(){return t.scrollTop},setVerticalPosition:function(e){return t.scrollTop=e}})},e.prototype.onDragging=function(t){if(this.currentDragColumn&&!this.moveBlocked){var e=this.getDragColumnItem(t),n=this.virtualList.getComponentAt(e.rowIndex);if(n){var i=n.getGui().parentElement;this.lastHoveredColumnItem&&this.lastHoveredColumnItem.rowIndex===e.rowIndex&&this.lastHoveredColumnItem.position===e.position||(this.autoScrollService.check(t.event),this.clearHoveredItems(),this.lastHoveredColumnItem=e,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.radioCssClass(i,""+PRIMARY_COLS_LIST_ITEM_HOVERED),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.radioCssClass(i,"ag-item-highlight-"+e.position))}}},e.prototype.getDragColumnItem=function(t){var e=this.virtualList.getGui(),n=parseFloat(window.getComputedStyle(e).paddingTop),i=this.virtualList.getRowHeight(),o=this.virtualList.getScrollTop(),r=Math.max(0,(t.y-n+o)/i),s=this.comp.getDisplayedColsList().length-1,a=0|Math.min(s,r);return{rowIndex:a,position:Math.round(r)>r||r>s?"bottom":"top",component:this.virtualList.getComponentAt(a)}},e.prototype.onDragStop=function(){if(!this.moveBlocked){var t=this.getTargetIndex(),e=this.getCurrentColumns();null!=t&&this.columnModel.moveColumns(e,t,"toolPanelUi"),this.clearHoveredItems(),this.autoScrollService.ensureCleared()}},e.prototype.getMoveDiff=function(t){var e=this.columnModel.getAllGridColumns(),n=this.getCurrentColumns(),i=n[0],o=n.length;return e.indexOf(i)<t?o:0},e.prototype.getCurrentColumns=function(){return this.currentDragColumn instanceof ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KTm?this.currentDragColumn.getLeafColumns():[this.currentDragColumn]},e.prototype.getTargetIndex=function(){if(!this.lastHoveredColumnItem)return null;var t,e=this.lastHoveredColumnItem.component,n="top"===this.lastHoveredColumnItem.position;e instanceof ToolPanelColumnGroupComp?(t=e.getColumns()[0],n=!0):t=e.getColumn();var i=this.columnModel.getAllGridColumns().indexOf(t),o=n?i:i+1;return o-this.getMoveDiff(o)},e.prototype.onDragLeave=function(){this.clearHoveredItems(),this.autoScrollService.ensureCleared()},e.prototype.clearHoveredItems=function(){this.virtualList.getGui().querySelectorAll("."+PRIMARY_COLS_LIST_ITEM_HOVERED).forEach((function(t){[PRIMARY_COLS_LIST_ITEM_HOVERED,"ag-item-highlight-top","ag-item-highlight-bottom"].forEach((function(e){t.classList.remove(e)}))})),this.lastHoveredColumnItem=null},__decorate$2q([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$2q([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("dragAndDropService")],e.prototype,"dragAndDropService",void 0),__decorate$2q([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$3e=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$2p=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},ToolPanelColumnComp=function(t){function e(e,n,i,o,r){var s=t.call(this)||this;return s.column=e,s.columnDept=n,s.allowDragging=i,s.groupsExist=o,s.focusWrapper=r,s.processingColumnStateChange=!1,s}return __extends$3e(e,t),e.prototype.init=function(){var t=this;this.setTemplate(e.TEMPLATE),this.eDragHandle=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("columnDrag",this.gridOptionsService),this.eDragHandle.classList.add("ag-drag-handle","ag-column-select-column-drag-handle");var n=this.cbSelect.getGui(),i=this.cbSelect.getInputElement();n.insertAdjacentElement("afterend",this.eDragHandle),i.setAttribute("tabindex","-1"),this.displayName=this.columnModel.getDisplayNameForColumn(this.column,"columnToolPanel");var o=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.escapeString(this.displayName);this.eLabel.innerHTML=o;var r=this.columnDept;this.groupsExist&&this.addCssClass("ag-column-select-add-group-indent"),this.addCssClass("ag-column-select-indent-"+r),this.setupDragging(),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.column,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sgG.EVENT_VALUE_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.column,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sgG.EVENT_PIVOT_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.column,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sgG.EVENT_ROW_GROUP_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.column,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sgG.EVENT_VISIBLE_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.focusWrapper,"keydown",this.handleKeyDown.bind(this)),this.addManagedListener(this.focusWrapper,"contextmenu",this.onContextMenu.bind(this)),this.addManagedPropertyListener("functionsReadOnly",this.onColumnStateChanged.bind(this)),this.addManagedListener(this.cbSelect,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jkc.EVENT_CHANGED,this.onCheckboxChanged.bind(this)),this.addManagedListener(this.eLabel,"click",this.onLabelClicked.bind(this)),this.onColumnStateChanged(),this.refreshAriaLabel(),this.setupTooltip(),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fQL.getToolPanelClassesFromColDef(this.column.getColDef(),this.gridOptionsService,this.column,null).forEach((function(e){return t.addOrRemoveCssClass(e,!0)}))},e.prototype.getColumn=function(){return this.column},e.prototype.setupTooltip=function(){var t=this,e=function(){var e=t.column.getColDef().headerTooltip;t.setTooltip(e)};e(),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_NEW_COLUMNS_LOADED,e)},e.prototype.getTooltipParams=function(){var e=t.prototype.getTooltipParams.call(this);return e.location="columnToolPanelColumn",e.colDef=this.column.getColDef(),e},e.prototype.onContextMenu=function(t){var e=this,n=this.column;if(!this.gridOptionsService.is("functionsReadOnly")){var i=this.createBean(new ToolPanelContextMenu(n,t,this.focusWrapper));this.addDestroyFunc((function(){i.isAlive()&&e.destroyBean(i)}))}},e.prototype.handleKeyDown=function(t){t.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.SPACE&&(t.preventDefault(),this.isSelectable()&&this.onSelectAllChanged(!this.isSelected()))},e.prototype.onLabelClicked=function(){if(!this.gridOptionsService.is("functionsReadOnly")){var t=!this.cbSelect.getValue();this.onChangeCommon(t)}},e.prototype.onCheckboxChanged=function(t){this.onChangeCommon(t.selected)},e.prototype.onChangeCommon=function(t){this.cbSelect.isReadOnly()||(this.refreshAriaLabel(),this.processingColumnStateChange||this.modelItemUtils.setColumn(this.column,t,"toolPanelUi"))},e.prototype.refreshAriaLabel=function(){var t=this.localeService.getLocaleTextFunc(),e=t("ariaColumn","Column"),n=this.cbSelect.getValue()?t("ariaVisible","visible"):t("ariaHidden","hidden"),i=t("ariaToggleVisibility","Press SPACE to toggle visibility");ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaLabel(this.focusWrapper,this.displayName+" "+e),this.cbSelect.setInputAriaLabel(i+" ("+n+")"),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaDescribedBy(this.focusWrapper,this.cbSelect.getInputElement().id)},e.prototype.setupDragging=function(){var t=this;if(this.allowDragging){var e=!this.gridOptionsService.is("suppressDragLeaveHidesColumns"),n={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.rvo.ToolPanel,eElement:this.eDragHandle,dragItemName:this.displayName,defaultIconName:e?ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jUB.ICON_HIDE:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jUB.ICON_NOT_ALLOWED,getDragItem:function(){return t.createDragItem()},onDragStarted:function(){var e={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PANEL_ITEM_DRAG_START,column:t.column};t.eventService.dispatchEvent(e)},onDragStopped:function(){var e={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PANEL_ITEM_DRAG_END};t.eventService.dispatchEvent(e)},onGridEnter:function(){e&&t.onChangeCommon(!0)},onGridExit:function(){e&&t.onChangeCommon(!1)}};this.dragAndDropService.addDragSource(n,!0),this.addDestroyFunc((function(){return t.dragAndDropService.removeDragSource(n)}))}else ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eDragHandle,!1)},e.prototype.createDragItem=function(){var t={};return t[this.column.getId()]=this.column.isVisible(),{columns:[this.column],visibleState:t}},e.prototype.onColumnStateChanged=function(){this.processingColumnStateChange=!0;var t=this.columnModel.isPivotMode();if(t){var e=this.column.isAnyFunctionActive();this.cbSelect.setValue(e)}else this.cbSelect.setValue(this.column.isVisible());var n=!0,i=!0;if(t){var o=this.gridOptionsService.is("functionsReadOnly"),r=!this.column.isAnyFunctionAllowed();i=n=!o&&!r}else{var s=this.column.getColDef(),a=s.enableRowGroup,l=s.enableValue,c=s.lockPosition,u=s.suppressMovable;n=!s.lockVisible,i=!!a||!!l||!(!!c||!!u)}this.cbSelect.setReadOnly(!n),this.eDragHandle.classList.toggle("ag-column-select-column-readonly",!i),this.addOrRemoveCssClass("ag-column-select-column-readonly",!i&&!n);var h=t&&this.gridOptionsService.is("functionsPassive");this.cbSelect.setPassive(h),this.processingColumnStateChange=!1},e.prototype.getDisplayName=function(){return this.displayName},e.prototype.onSelectAllChanged=function(t){t!==this.cbSelect.getValue()&&(this.cbSelect.isReadOnly()||this.cbSelect.toggle())},e.prototype.isSelected=function(){return this.cbSelect.getValue()},e.prototype.isSelectable=function(){return!this.cbSelect.isReadOnly()},e.prototype.isExpandable=function(){return!1},e.prototype.setExpanded=function(t){console.warn("AG Grid: can not expand a column item that does not represent a column group header")},e.TEMPLATE='<div class="ag-column-select-column" aria-hidden="true">\n            <ag-checkbox ref="cbSelect" class="ag-column-select-checkbox"></ag-checkbox>\n            <span class="ag-column-select-column-label" ref="eLabel"></span>\n        </div>',__decorate$2p([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$2p([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("dragAndDropService")],e.prototype,"dragAndDropService",void 0),__decorate$2p([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("modelItemUtils")],e.prototype,"modelItemUtils",void 0),__decorate$2p([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eLabel")],e.prototype,"eLabel",void 0),__decorate$2p([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("cbSelect")],e.prototype,"cbSelect",void 0),__decorate$2p([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$3d=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$2o=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},UIColumnModel=function(){function t(t){this.items=t}return t.prototype.getRowCount=function(){return this.items.length},t.prototype.getRow=function(t){return this.items[t]},t}(),PRIMARY_COLS_LIST_PANEL_CLASS="ag-column-select-list",PrimaryColsListPanel=function(t){function e(){var n=t.call(this,e.TEMPLATE)||this;return n.destroyColumnItemFuncs=[],n}return __extends$3d(e,t),e.prototype.destroyColumnTree=function(){this.allColsTree=[],this.destroyColumnItemFuncs.forEach((function(t){return t()})),this.destroyColumnItemFuncs=[]},e.prototype.init=function(t,e,n){var i=this;this.params=t,this.allowDragging=e,this.eventType=n,this.params.suppressSyncLayoutWithGrid||this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_MOVED,this.onColumnsChanged.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_NEW_COLUMNS_LOADED,this.onColumnsChanged.bind(this)),[ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PIVOT_CHANGED,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PIVOT_MODE_CHANGED,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_ROW_GROUP_CHANGED,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_VALUE_CHANGED,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_VISIBLE,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_NEW_COLUMNS_LOADED].forEach((function(t){i.addManagedListener(i.eventService,t,i.fireSelectionChangedEvent.bind(i))})),this.expandGroupsByDefault=!this.params.contractColumnSelection;var o=this.localeService.getLocaleTextFunc()("ariaColumnList","Column List");this.virtualList=this.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.CPJ("column-select","tree",o)),this.appendChild(this.virtualList.getGui()),this.virtualList.setComponentCreator((function(t,e){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaLevel(e,t.getDept()+1),i.createComponentFromItem(t,e)})),this.columnModel.isReady()&&this.onColumnsChanged(),t.suppressColumnMove||this.gridOptionsService.is("suppressMovableColumns")||this.createManagedBean(new PrimaryColsListPanelItemDragFeature(this,this.virtualList))},e.prototype.createComponentFromItem=function(t,e){if(t.isGroup()){var n=new ToolPanelColumnGroupComp(t,this.allowDragging,this.eventType,e);return this.getContext().createBean(n),n}var i=new ToolPanelColumnComp(t.getColumn(),t.getDept(),this.allowDragging,this.groupsExist,e);return this.getContext().createBean(i),i},e.prototype.onColumnsChanged=function(){var t=this.getExpandedStates(),e=this.columnModel.isPivotMode();!this.params.suppressSyncLayoutWithGrid&&!e?this.buildTreeFromWhatGridIsDisplaying():this.buildTreeFromProvidedColumnDefs(),this.setExpandedStates(t),this.markFilteredColumns(),this.flattenAndFilterModel()},e.prototype.getDisplayedColsList=function(){return this.displayedColsList},e.prototype.getExpandedStates=function(){if(!this.allColsTree)return{};var t={};return this.forEachItem((function(e){if(e.isGroup()){var n=e.getColumnGroup();n&&(t[n.getId()]=e.isExpanded())}})),t},e.prototype.setExpandedStates=function(t){this.allColsTree&&this.forEachItem((function(e){if(e.isGroup()){var n=e.getColumnGroup();if(n){var i=t[n.getId()];null!=i&&e.setExpanded(i)}}}))},e.prototype.buildTreeFromWhatGridIsDisplaying=function(){this.colDefService.syncLayoutWithGrid(this.setColumnLayout.bind(this))},e.prototype.setColumnLayout=function(t){var e=this.colDefService.createColumnTree(t);this.buildListModel(e),this.groupsExist=t.some((function(t){return t&&void 0!==t.children})),this.markFilteredColumns(),this.flattenAndFilterModel()},e.prototype.buildTreeFromProvidedColumnDefs=function(){this.buildListModel(this.columnModel.getPrimaryColumnTree()),this.groupsExist=this.columnModel.isPrimaryColumnGroupsPresent()},e.prototype.buildListModel=function(t){var e=this,n=this.onColumnExpanded.bind(this),i=function(t,e,n){t.forEach((function(t){t instanceof ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KTm?o(t,e,n):r(t,e,n)}))},o=function(t,o,r){var s=t.getColGroupDef();if(!(s&&s.suppressColumnsToolPanel))if(t.isPadding())i(t.getChildren(),o,r);else{var a=e.columnModel.getDisplayNameForProvidedColumnGroup(null,t,e.eventType),l=new ColumnModelItem(a,t,o,!0,e.expandGroupsByDefault);r.push(l),function(t){t.addEventListener(ColumnModelItem.EVENT_EXPANDED_CHANGED,n);var i=t.removeEventListener.bind(t,ColumnModelItem.EVENT_EXPANDED_CHANGED,n);e.destroyColumnItemFuncs.push(i)}(l),i(t.getChildren(),o+1,l.getChildren())}},r=function(t,n,i){if(!(t.getColDef()&&t.getColDef().suppressColumnsToolPanel)){var o=e.columnModel.getDisplayNameForColumn(t,"columnToolPanel");i.push(new ColumnModelItem(o,t,n))}};this.destroyColumnTree(),i(t,0,this.allColsTree)},e.prototype.onColumnExpanded=function(){this.flattenAndFilterModel()},e.prototype.flattenAndFilterModel=function(){var t=this;this.displayedColsList=[];var e=function(n){n.isPassesFilter()&&(t.displayedColsList.push(n),n.isGroup()&&n.isExpanded()&&n.getChildren().forEach(e))};this.allColsTree.forEach(e),this.virtualList.setModel(new UIColumnModel(this.displayedColsList));var n=this.virtualList.getLastFocusedRow();this.virtualList.refresh(),null!=n&&this.focusRowIfAlive(n),this.notifyListeners()},e.prototype.focusRowIfAlive=function(t){var e=this;window.setTimeout((function(){e.isAlive()&&e.virtualList.focusRow(t)}),0)},e.prototype.forEachItem=function(t){var e=function(n){n.forEach((function(n){t(n),n.isGroup()&&e(n.getChildren())}))};e(this.allColsTree)},e.prototype.doSetExpandedAll=function(t){this.forEachItem((function(e){e.isGroup()&&e.setExpanded(t)}))},e.prototype.setGroupsExpanded=function(t,e){if(e){var n=[];this.forEachItem((function(i){if(i.isGroup()){var o=i.getColumnGroup().getId();e.indexOf(o)>=0&&(i.setExpanded(t),n.push(o))}}));var i=e.filter((function(t){return!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(n,t)}));i.length>0&&console.warn("AG Grid: unable to find group(s) for supplied groupIds:",i)}else this.doSetExpandedAll(t)},e.prototype.getExpandState=function(){var t=0,e=0;return this.forEachItem((function(n){n.isGroup()&&(n.isExpanded()?t++:e++)})),t>0&&e>0?ExpandState.INDETERMINATE:e>0?ExpandState.COLLAPSED:ExpandState.EXPANDED},e.prototype.doSetSelectedAll=function(t){this.modelItemUtils.selectAllChildren(this.allColsTree,t,this.eventType)},e.prototype.getSelectionState=function(){var t=0,e=0,n=this.columnModel.isPivotMode();if(this.forEachItem((function(i){if(!i.isGroup()&&i.isPassesFilter()){var o,r=i.getColumn(),s=r.getColDef();if(n){if(!r.isAllowPivot()&&!r.isAllowRowGroup()&&!r.isAllowValue())return;o=r.isValueActive()||r.isPivotActive()||r.isRowGroupActive()}else{if(s.lockVisible)return;o=r.isVisible()}o?t++:e++}})),!(t>0&&e>0))return!(0===t||e>0)},e.prototype.setFilterText=function(t){this.filterText=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(t)?t.toLowerCase():null,this.markFilteredColumns(),this.flattenAndFilterModel()},e.prototype.markFilteredColumns=function(){var t=this,e=function(e){if(!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(t.filterText))return!0;var n=e.getDisplayName();return null==n||-1!==n.toLowerCase().indexOf(t.filterText)},n=function(t,i){var o=!1;if(t.isGroup()){var r=e(t);t.getChildren().forEach((function(t){var e=n(t,r||i);e&&(o=e)}))}var s=!(!i&&!o)||e(t);return t.setPassesFilter(s),s};this.allColsTree.forEach((function(t){return n(t,!1)}))},e.prototype.notifyListeners=function(){this.fireGroupExpandedEvent(),this.fireSelectionChangedEvent()},e.prototype.fireGroupExpandedEvent=function(){var t=this.getExpandState();this.dispatchEvent({type:"groupExpanded",state:t})},e.prototype.fireSelectionChangedEvent=function(){var t=this.getSelectionState();this.dispatchEvent({type:"selectionChanged",state:t})},e.TEMPLATE='<div class="'+PRIMARY_COLS_LIST_PANEL_CLASS+'" role="presentation"></div>',__decorate$2o([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$2o([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("toolPanelColDefService")],e.prototype,"colDefService",void 0),__decorate$2o([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("modelItemUtils")],e.prototype,"modelItemUtils",void 0),__decorate$2o([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FXL],e.prototype,"destroyColumnTree",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$3c=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$2n=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},PivotModePanel=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$3c(e,t),e.prototype.createTemplate=function(){return'<div class="ag-pivot-mode-panel">\n                <ag-toggle-button ref="cbPivotMode" class="ag-pivot-mode-select"></ag-toggle-button>\n            </div>'},e.prototype.init=function(){this.setTemplate(this.createTemplate()),this.cbPivotMode.setValue(this.columnModel.isPivotMode());var t=this.localeService.getLocaleTextFunc();this.cbPivotMode.setLabel(t("pivotMode","Pivot Mode")),this.addManagedListener(this.cbPivotMode,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jkc.EVENT_CHANGED,this.onBtPivotMode.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_NEW_COLUMNS_LOADED,this.onPivotModeChanged.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onPivotModeChanged.bind(this))},e.prototype.onBtPivotMode=function(){var t=!!this.cbPivotMode.getValue();if(t!==this.columnModel.isPivotMode()){this.columnModel.setPivotMode(t,"toolPanelUi");var e=this.gridOptionsService.api;e&&e.refreshHeader()}},e.prototype.onPivotModeChanged=function(){var t=this.columnModel.isPivotMode();this.cbPivotMode.setValue(t)},__decorate$2n([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$2n([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("cbPivotMode")],e.prototype,"cbPivotMode",void 0),__decorate$2n([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.$j7],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$3b=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$2m=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},AggregationStage=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$3b(e,t),e.prototype.execute=function(t){var e=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missingOrEmpty(this.columnModel.getValueColumns()),n=!this.getGroupRowAggFunc(),i=t.changedPath&&t.changedPath.isActive();if(!(e&&n&&i)){var o=this.createAggDetails(t);this.recursivelyCreateAggData(o)}},e.prototype.getGroupRowAggFunc=function(){var t=this.gridOptionsService.getCallback("getGroupRowAgg");if(t)return t;var e=this.gridOptionsService.get("groupRowAggNodes");return e?function(t){return e(t.nodes)}:void 0},e.prototype.createAggDetails=function(t){var e=this.columnModel.isPivotActive(),n=this.columnModel.getValueColumns(),i=e?this.columnModel.getPivotColumns():[];return{changedPath:t.changedPath,valueColumns:n,pivotColumns:i}},e.prototype.isSuppressAggFilteredOnly=function(){return void 0!==this.gridOptionsService.getGroupAggFiltering()||this.gridOptionsService.is("suppressAggFilteredOnly")},e.prototype.recursivelyCreateAggData=function(t){var e=this;this.filteredOnly=!this.isSuppressAggFilteredOnly();t.changedPath.forEachChangedNodeDepthFirst((function(n){if(!n.hasChildren())n.aggData&&n.setAggData(null);else{if(-1===n.level){var i=!e.columnModel.isPivotMode();if(e.gridOptionsService.is("suppressAggAtRootLevel")&&i)return}e.aggregateRowNode(n,t)}}),!0)},e.prototype.aggregateRowNode=function(t,e){var n,i=0===e.valueColumns.length,o=0===e.pivotColumns.length,r=this.getGroupRowAggFunc();r?n=r({nodes:t.childrenAfterFilter}):n=i?null:o?this.aggregateRowNodeUsingValuesOnly(t,e):this.aggregateRowNodeUsingValuesAndPivot(t);t.setAggData(n),t.sibling&&t.sibling.setAggData(n)},e.prototype.aggregateRowNodeUsingValuesAndPivot=function(t){var e,n=this,i={},o=null!==(e=this.columnModel.getSecondaryColumns())&&void 0!==e?e:[];return o.forEach((function(e){var o=e.getColDef(),r=o.pivotValueColumn,s=o.pivotTotalColumnIds,a=o.colId,l=o.pivotKeys;if(!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(s)){var c,u=null!=l?l:[];c=t.leafGroup?n.getValuesFromMappedSet(t.childrenMapped,u,r):n.getValuesPivotNonLeaf(t,a),i[a]=n.aggregateValues(c,r.getAggFunc(),r,t,e)}})),o.forEach((function(e){var o=e.getColDef(),r=o.pivotValueColumn,s=o.pivotTotalColumnIds,a=o.colId;if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(s)){var l=[];s&&s.length&&(s.forEach((function(t){l.push(i[t])})),i[a]=n.aggregateValues(l,r.getAggFunc(),r,t,e))}})),i},e.prototype.aggregateRowNodeUsingValuesOnly=function(t,e){var n=this,i={},o=e.changedPath.isActive()?e.changedPath.getValueColumnsForNode(t,e.valueColumns):e.valueColumns,r=e.changedPath.isActive()?e.changedPath.getNotValueColumnsForNode(t,e.valueColumns):null,s=this.getValuesNormal(t,o),a=t.aggData;return o.forEach((function(e,o){i[e.getId()]=n.aggregateValues(s[o],e.getAggFunc(),e,t)})),r&&a&&r.forEach((function(t){i[t.getId()]=a[t.getId()]})),i},e.prototype.getValuesPivotNonLeaf=function(t,e){var n=[];return t.childrenAfterFilter.forEach((function(t){var i=t.aggData[e];n.push(i)})),n},e.prototype.getValuesFromMappedSet=function(t,e,n){var i=this,o=t;if(e.forEach((function(t){return o=o?o[t]:null})),!o)return[];var r=[];return o.forEach((function(t){var e=i.valueService.getValue(n,t);r.push(e)})),r},e.prototype.getValuesNormal=function(t,e){var n=[];e.forEach((function(){return n.push([])}));for(var i=e.length,o=this.filteredOnly?t.childrenAfterFilter:t.childrenAfterGroup,r=o.length,s=0;s<r;s++)for(var a=o[s],l=0;l<i;l++){var c=e[l],u=this.valueService.getValue(c,a);n[l].push(u)}return n},e.prototype.aggregateValues=function(t,e,n,i,o){var r="string"==typeof e?this.aggFuncService.getAggFunc(e):e;return"function"!=typeof r?(console.error("AG Grid: unrecognised aggregation function "+e),null):r({values:t,column:n,colDef:n?n.getColDef():void 0,pivotResultColumn:o,rowNode:i,data:i?i.data:void 0,api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsService.context})},__decorate$2m([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$2m([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("valueService")],e.prototype,"valueService",void 0),__decorate$2m([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("aggFuncService")],e.prototype,"aggFuncService",void 0),__decorate$2m([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],e.prototype,"gridApi",void 0),__decorate$2m([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnApi")],e.prototype,"columnApi",void 0),e=__decorate$2m([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("aggregationStage")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),BatchRemover=function(){function t(){this.allSets={},this.allParents=[]}return t.prototype.removeFromChildrenAfterGroup=function(t,e){this.getSet(t).removeFromChildrenAfterGroup[e.id]=!0},t.prototype.isRemoveFromAllLeafChildren=function(t,e){return!!this.getSet(t).removeFromAllLeafChildren[e.id]},t.prototype.preventRemoveFromAllLeafChildren=function(t,e){delete this.getSet(t).removeFromAllLeafChildren[e.id]},t.prototype.removeFromAllLeafChildren=function(t,e){this.getSet(t).removeFromAllLeafChildren[e.id]=!0},t.prototype.getSet=function(t){return this.allSets[t.id]||(this.allSets[t.id]={removeFromAllLeafChildren:{},removeFromChildrenAfterGroup:{}},this.allParents.push(t)),this.allSets[t.id]},t.prototype.getAllParents=function(){return this.allParents},t.prototype.flush=function(){var t=this;this.allParents.forEach((function(e){var n=t.allSets[e.id];e.childrenAfterGroup=e.childrenAfterGroup.filter((function(t){return!n.removeFromChildrenAfterGroup[t.id]})),e.allLeafChildren=e.allLeafChildren.filter((function(t){return!n.removeFromAllLeafChildren[t.id]})),e.updateHasChildren(),e.sibling&&(e.sibling.childrenAfterGroup=e.childrenAfterGroup,e.sibling.allLeafChildren=e.allLeafChildren)})),this.allSets={},this.allParents.length=0},t}(),__extends$3a=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$2l=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},__read$1a=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},__spread$I=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$1a(arguments[e]));return t},GroupStage=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.groupIdSequence=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.at1,e}return __extends$3a(e,t),e.prototype.postConstruct=function(){this.usingTreeData=this.gridOptionsService.isTreeData(),this.usingTreeData&&(this.getDataPath=this.gridOptionsService.get("getDataPath"))},e.prototype.execute=function(t){var e=this.createGroupingDetails(t);if(e.transactions)this.handleTransaction(e);else{var n=!0===t.afterColumnsChanged;this.shotgunResetEverything(e,n)}this.positionLeafsAndGroups(t.changedPath),this.orderGroups(e.rootNode),this.selectableService.updateSelectableAfterGrouping(e.rootNode)},e.prototype.positionLeafsAndGroups=function(t){this.usingTreeData||t.forEachChangedNodeDepthFirst((function(t){if(t.childrenAfterGroup){var e,n=[],i=[];t.childrenAfterGroup.forEach((function(t){var o;(null===(o=t.childrenAfterGroup)||void 0===o?void 0:o.length)?""!==t.key||e?i.push(t):e=t:n.push(t)})),e&&i.push(e),t.childrenAfterGroup=__spread$I(n,i)}}),!1)},e.prototype.createGroupingDetails=function(t){var e=t.rowNode,n=t.changedPath,i=t.rowNodeTransactions,o=t.rowNodeOrder,r=this.usingTreeData?null:this.columnModel.getRowGroupColumns();return{includeParents:!this.gridOptionsService.is("suppressParentsInRowNodes"),expandByDefault:this.gridOptionsService.getNum("groupDefaultExpanded"),groupedCols:r,rootNode:e,pivotMode:this.columnModel.isPivotMode(),groupedColCount:this.usingTreeData||!r?0:r.length,rowNodeOrder:o,transactions:i,changedPath:n}},e.prototype.handleTransaction=function(t){var e=this;t.transactions.forEach((function(n){var i=e.usingTreeData?void 0:new BatchRemover;if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.existsAndNotEmpty(n.remove)&&e.removeNodes(n.remove,t,i),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.existsAndNotEmpty(n.update)&&e.moveNodesInWrongPath(n.update,t,i),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.existsAndNotEmpty(n.add)&&e.insertNodes(n.add,t,!1),i){var o=i.getAllParents().slice();i.flush(),e.removeEmptyGroups(o,t)}})),t.rowNodeOrder&&this.sortChildren(t)},e.prototype.sortChildren=function(t){t.changedPath.forEachChangedNodeDepthFirst((function(e){e.childrenAfterGroup&&(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.sortRowNodesByOrder(e.childrenAfterGroup,t.rowNodeOrder)&&t.changedPath.addParentNode(e))}),!1,!0)},e.prototype.orderGroups=function(t){if(!this.usingTreeData){var e=this.getInitialGroupOrderComparator();ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(e)&&function t(n){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(n.childrenAfterGroup)&&!n.leafGroup&&(n.childrenAfterGroup.sort((function(t,n){return e({nodeA:t,nodeB:n})})),n.childrenAfterGroup.forEach((function(e){return t(e)})))}(t)}},e.prototype.getInitialGroupOrderComparator=function(){var t=this.gridOptionsService.getCallback("initialGroupOrderComparator");if(t)return t;var e=this.gridOptionsService.get("defaultGroupOrderComparator");return e?function(t){return e(t.nodeA,t.nodeB)}:void 0},e.prototype.getExistingPathForNode=function(t,e){for(var n=[],i=this.usingTreeData?t:t.parent;i&&i!==e.rootNode;)n.push({key:i.key,rowGroupColumn:i.rowGroupColumn,field:i.field}),i=i.parent;return n.reverse(),n},e.prototype.moveNodesInWrongPath=function(t,e,n){var i=this;t.forEach((function(t){e.changedPath.isActive()&&e.changedPath.addParentNode(t.parent);var o=function(t){return t.key},r=i.getExistingPathForNode(t,e).map(o),s=i.getGroupInfo(t,e).map(o);ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.areEqual(r,s)||i.moveNode(t,e,n)}))},e.prototype.moveNode=function(t,e,n){if(this.removeNodesInStages([t],e,n),this.insertOneNode(t,e,!0,n),t.setData(t.data),e.changedPath.isActive()){var i=t.parent;e.changedPath.addParentNode(i)}},e.prototype.removeNodes=function(t,e,n){this.removeNodesInStages(t,e,n),e.changedPath.isActive()&&t.forEach((function(t){return e.changedPath.addParentNode(t.parent)}))},e.prototype.removeNodesInStages=function(t,e,n){if(this.removeNodesFromParents(t,e,n),this.usingTreeData){this.postRemoveCreateFillerNodes(t,e);var i=t.map((function(t){return t.parent}));this.removeEmptyGroups(i,e)}},e.prototype.forEachParentGroup=function(t,e,n){for(var i=e;i&&i!==t.rootNode;)n(i),i=i.parent},e.prototype.removeNodesFromParents=function(t,e,n){var i=this,o=null==n,r=n||new BatchRemover;t.forEach((function(t){i.removeFromParent(t,r),i.forEachParentGroup(e,t.parent,(function(e){r.removeFromAllLeafChildren(e,t)}))})),o&&r.flush()},e.prototype.postRemoveCreateFillerNodes=function(t,e){var n=this;t.forEach((function(t){if(t.hasChildren()){var i=n.getExistingPathForNode(t,e),o=n.findParentForNode(t,i,e);o.expanded=t.expanded,o.allLeafChildren=t.allLeafChildren,o.childrenAfterGroup=t.childrenAfterGroup,o.childrenMapped=t.childrenMapped,o.updateHasChildren(),o.childrenAfterGroup.forEach((function(t){return t.parent=o}))}}))},e.prototype.removeEmptyGroups=function(t,e){for(var n=this,i=!0,o=function(){i=!1;var o=new BatchRemover;t.forEach((function(t){n.forEachParentGroup(e,t,(function(t){(function(t){var e=n.getChildrenMappedKey(t.key,t.rowGroupColumn),i=t.parent;return!!(i&&i.childrenMapped&&i.childrenMapped[e]&&t.isEmptyRowGroupNode())})(t)&&(i=!0,n.removeFromParent(t,o),t.setSelectedParams({newValue:!1,source:"rowGroupChanged"}))}))})),o.flush()};i;)o()},e.prototype.removeFromParent=function(t,e){t.parent&&(e?e.removeFromChildrenAfterGroup(t.parent,t):(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromArray(t.parent.childrenAfterGroup,t),t.parent.updateHasChildren()));var n=this.getChildrenMappedKey(t.key,t.rowGroupColumn);t.parent&&t.parent.childrenMapped&&(t.parent.childrenMapped[n]=void 0),t.setRowTop(null),t.setRowIndex(null)},e.prototype.addToParent=function(t,e){var n=this.getChildrenMappedKey(t.key,t.rowGroupColumn);e&&(null!=e.childrenMapped&&(e.childrenMapped[n]=t),e.childrenAfterGroup.push(t),e.updateHasChildren())},e.prototype.areGroupColsEqual=function(t,e){return null!=t&&null!=e&&t.pivotMode===e.pivotMode&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.areEqual(t.groupedCols,e.groupedCols)},e.prototype.checkAllGroupDataAfterColsChanged=function(t){var e=this,n=function(t){t&&t.forEach((function(t){if(!(!e.usingTreeData&&!t.group)){var i={field:t.field,key:t.key,rowGroupColumn:t.rowGroupColumn};e.setGroupData(t,i),n(t.childrenAfterGroup)}}))};n(t.rootNode.childrenAfterGroup)},e.prototype.shotgunResetEverything=function(t,e){if(!this.noChangeInGroupingColumns(t,e)){this.selectionService.filterFromSelection((function(t){return t&&!t.group}));var n=t.rootNode,i=t.groupedCols;n.leafGroup=!this.usingTreeData&&0===i.length,n.childrenAfterGroup=[],n.childrenMapped={},n.updateHasChildren();var o=n.sibling;o&&(o.childrenAfterGroup=n.childrenAfterGroup,o.childrenMapped=n.childrenMapped),this.insertNodes(n.allLeafChildren,t,!1)}},e.prototype.noChangeInGroupingColumns=function(t,e){var n=!1,i=this.columnModel.getGroupDisplayColumns(),o=i?i.map((function(t){return t.getId()})).join("-"):"";return e&&(n=this.usingTreeData||this.areGroupColsEqual(t,this.oldGroupingDetails),this.oldGroupDisplayColIds!==o&&this.checkAllGroupDataAfterColsChanged(t)),this.oldGroupingDetails=t,this.oldGroupDisplayColIds=o,n},e.prototype.insertNodes=function(t,e,n){var i=this;t.forEach((function(t){i.insertOneNode(t,e,n),e.changedPath.isActive()&&e.changedPath.addParentNode(t.parent)}))},e.prototype.insertOneNode=function(t,e,n,i){var o=this.getGroupInfo(t,e),r=this.findParentForNode(t,o,e,i);r.group||console.warn("AG Grid: duplicate group keys for row data, keys should be unique",[r.data,t.data]),this.usingTreeData?this.swapGroupWithUserNode(r,t,n):(t.parent=r,t.level=o.length,r.childrenAfterGroup.push(t),r.updateHasChildren())},e.prototype.findParentForNode=function(t,e,n,i){var o=this,r=n.rootNode;return e.forEach((function(e,s){r=o.getOrCreateNextNode(r,e,s,n),(null==i?void 0:i.isRemoveFromAllLeafChildren(r,t))?null==i||i.preventRemoveFromAllLeafChildren(r,t):r.allLeafChildren.push(t)})),r},e.prototype.swapGroupWithUserNode=function(t,e,n){e.parent=t.parent,e.key=t.key,e.field=t.field,e.groupData=t.groupData,e.level=t.level,n||(e.expanded=t.expanded),e.leafGroup=t.leafGroup,e.rowGroupIndex=t.rowGroupIndex,e.allLeafChildren=t.allLeafChildren,e.childrenAfterGroup=t.childrenAfterGroup,e.childrenMapped=t.childrenMapped,e.sibling=t.sibling,e.updateHasChildren(),this.removeFromParent(t),e.childrenAfterGroup.forEach((function(t){return t.parent=e})),this.addToParent(e,t.parent)},e.prototype.getOrCreateNextNode=function(t,e,n,i){var o=this.getChildrenMappedKey(e.key,e.rowGroupColumn),r=t.childrenMapped?t.childrenMapped[o]:void 0;return r||(r=this.createGroup(e,t,n,i),this.addToParent(r,t)),r},e.prototype.createGroup=function(t,e,n,i){var o=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Fxk(this.beans);return o.group=!0,o.field=t.field,o.rowGroupColumn=t.rowGroupColumn,this.setGroupData(o,t),o.id=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Fxk.ID_PREFIX_ROW_GROUP+this.groupIdSequence.next(),o.key=t.key,o.level=n,o.leafGroup=!this.usingTreeData&&n===i.groupedColCount-1,o.allLeafChildren=[],o.setAllChildrenCount(0),o.rowGroupIndex=this.usingTreeData?null:n,o.childrenAfterGroup=[],o.childrenMapped={},o.updateHasChildren(),o.parent=i.includeParents?e:null,this.setExpandedInitialValue(i,o),this.gridOptionsService.is("groupIncludeFooter")&&o.createFooter(),o},e.prototype.setGroupData=function(t,e){var n=this;t.groupData={},this.columnModel.getGroupDisplayColumns().forEach((function(i){(n.usingTreeData||!!t.rowGroupColumn&&i.isRowGroupDisplayed(t.rowGroupColumn.getId()))&&(t.groupData[i.getColId()]=e.key)}))},e.prototype.getChildrenMappedKey=function(t,e){return e?e.getId()+"-"+t:t},e.prototype.setExpandedInitialValue=function(t,e){if(t.pivotMode&&e.leafGroup)e.expanded=!1;else{var n=this.gridOptionsService.getCallback("isGroupOpenByDefault");if(n){var i={rowNode:e,field:e.field,key:e.key,level:e.level,rowGroupColumn:e.rowGroupColumn};e.expanded=1==n(i)}else{var o=t.expandByDefault;-1!==t.expandByDefault?e.expanded=e.level<o:e.expanded=!0}}},e.prototype.getGroupInfo=function(t,e){return this.usingTreeData?this.getGroupInfoFromCallback(t):this.getGroupInfoFromGroupColumns(t,e)},e.prototype.getGroupInfoFromCallback=function(t){var e=this.getDataPath?this.getDataPath(t.data):null;null!=e&&0!==e.length||ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce((function(){return console.warn("AG Grid: getDataPath() should not return an empty path for data",t.data)}),"groupStage.getGroupInfoFromCallback");return e?e.map((function(t){return{key:t,field:null,rowGroupColumn:null}})):[]},e.prototype.getGroupInfoFromGroupColumns=function(t,e){var n=this,i=[];return e.groupedCols.forEach((function(o){var r=n.valueService.getKeyForNode(o,t),s=null!=r&&""!==r;if((e.pivotMode||!n.gridOptionsService.is("groupAllowUnbalanced"))&&!s&&(r="",s=!0),s){var a={key:r,field:o.getColDef().field,rowGroupColumn:o};i.push(a)}})),i},__decorate$2l([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$2l([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("selectableService")],e.prototype,"selectableService",void 0),__decorate$2l([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("valueService")],e.prototype,"valueService",void 0),__decorate$2l([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("beans")],e.prototype,"beans",void 0),__decorate$2l([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("selectionService")],e.prototype,"selectionService",void 0),__decorate$2l([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),e=__decorate$2l([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("groupStage")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$39=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__assign$O=function(){return __assign$O=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},__assign$O.apply(this,arguments)},__decorate$2k=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},__read$19=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},__spread$H=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$19(arguments[e]));return t},PivotColDefService=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var n;return __extends$39(e,t),n=e,e.prototype.createPivotColumnDefs=function(t){var e=this.columnModel.getPivotColumns(),n=this.columnModel.getValueColumns(),i=e.length,o=this.recursiveBuildGroup(0,t,[],i,e);var r=function t(e,n){return void 0===n&&(n=[]),e.forEach((function(e){void 0!==e.children?t(e.children,n):n.push(e)})),n}(o);return this.addRowGroupTotals(o,r,n),this.addExpandablePivotGroups(o,r),this.addPivotTotalsToGroups(o,r),{pivotColumnGroupDefs:o,pivotColumnDefs:r.map((function(t){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.cloneObject(t)}))}},e.prototype.recursiveBuildGroup=function(t,e,n,i,o){var r=this,s=this.columnModel.getValueColumns();if(t>=i)return this.buildMeasureCols(n);var a=o[t].getColDef(),l=this.headerNameComparator.bind(this,a.pivotComparator);if(1===s.length&&this.gridOptionsService.is("removePivotHeaderRowWhenSingleValueColumn")&&t===i-1){var c=[];return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.iterateObject(e,(function(t){var e=__spread$H(n,[t]);c.push(__assign$O(__assign$O({},r.createColDef(s[0],t,e)),{columnGroupShow:"open"}))})),c.sort(l),c}var u=[];return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.iterateObject(e,(function(e,s){var a=__spread$H(n,[e]);u.push({children:r.recursiveBuildGroup(t+1,s,a,i,o),headerName:e,pivotKeys:a,columnGroupShow:"open",groupId:r.generateColumnGroupId(a)})})),u.sort(l),u},e.prototype.buildMeasureCols=function(t){var e=this,n=this.columnModel.getValueColumns();return 0===n.length?[this.createColDef(null,"-",t)]:n.map((function(n){var i=e.columnModel.getDisplayNameForColumn(n,"header");return __assign$O(__assign$O({},e.createColDef(n,i,t)),{columnGroupShow:"open"})}))},e.prototype.addExpandablePivotGroups=function(t,e){var n=this;if(!this.gridOptionsService.is("suppressExpandablePivotGroups")&&!this.gridOptionsService.get("pivotColumnGroupTotals")){var i=function(t,e,o){var r=t;if(r.children){var s=new Map;r.children.forEach((function(t){i(t,e,s)}));var a=!r.children.some((function(t){return t.children}));n.columnModel.getValueColumns().forEach((function(i){var o=n.columnModel.getDisplayNameForColumn(i,"header"),r=n.createColDef(i,o,t.pivotKeys);(r.pivotTotalColumnIds=s.get(i.getColId()),r.columnGroupShow="closed",r.aggFunc=i.getAggFunc(),a)||(t.children.push(r),e.push(r))})),n.merge(o,s)}else{var l=t;if(!l.pivotValueColumn)return;var c=l.pivotValueColumn.getColId(),u=o.has(c)?o.get(c):[];u.push(l.colId),o.set(c,u)}};t.forEach((function(t){i(t,e,new Map)}))}},e.prototype.addPivotTotalsToGroups=function(t,e){var n=this;if(this.gridOptionsService.get("pivotColumnGroupTotals")){var i="after"===this.gridOptionsService.get("pivotColumnGroupTotals"),o=this.columnModel.getValueColumns(),r=o.map((function(t){return t.getAggFunc()}));if(r&&!(r.length<1)&&this.sameAggFuncs(r)){var s=o[0];t.forEach((function(t){n.recursivelyAddPivotTotal(t,e,s,i)}))}}},e.prototype.recursivelyAddPivotTotal=function(t,e,n,i){var o=this,r=t;if(!r.children){var s=t;return s.colId?[s.colId]:null}var a=[];if(r.children.forEach((function(t){var r=o.recursivelyAddPivotTotal(t,e,n,i);r&&(a=a.concat(r))})),r.children.length>1){var l=this.localeService.getLocaleTextFunc()("pivotColumnGroupTotals","Total"),c=this.createColDef(n,l,t.pivotKeys,!0);c.pivotTotalColumnIds=a,c.aggFunc=n.getAggFunc();var u=t.children;i?u.push(c):u.unshift(c),e.push(c)}return a},e.prototype.addRowGroupTotals=function(t,e,n){var i=this;if(this.gridOptionsService.get("pivotRowTotals"))for(var o="after"===this.gridOptionsService.get("pivotRowTotals"),r=o?n.slice():n.slice().reverse(),s=function(n){var s=r[n],l=[];t.forEach((function(t){l=l.concat(i.extractColIdsForValueColumn(t,s))}));var c=r.length>1||!a.gridOptionsService.is("removePivotHeaderRowWhenSingleValueColumn");a.createRowGroupTotal(t,e,s,l,o,c)},a=this,l=0;l<r.length;l++)s(l)},e.prototype.extractColIdsForValueColumn=function(t,e){var n=this,i=t;if(!i.children){var o=i;return o.pivotValueColumn===e&&o.colId?[o.colId]:[]}var r=[];return i.children.forEach((function(t){n.extractColIdsForValueColumn(t,e);var i=n.extractColIdsForValueColumn(t,e);r=r.concat(i)})),r},e.prototype.createRowGroupTotal=function(t,e,i,o,r,s){var a;if(0===this.columnModel.getValueColumns().length)a=this.createColDef(null,"-",[]);else{var l=this.columnModel.getDisplayNameForColumn(i,"header");(a=this.createColDef(i,l,[])).pivotTotalColumnIds=o}a.colId=n.PIVOT_ROW_TOTAL_PREFIX+a.colId,e.push(a);var c=s?{children:[a],pivotKeys:[],groupId:n.PIVOT_ROW_TOTAL_PREFIX+"_pivotGroup_"+i.getColId()}:a;r?t.push(c):t.unshift(c)},e.prototype.createColDef=function(t,e,n,i){void 0===i&&(i=!1);var o={};if(t){var r=t.getColDef();Object.assign(o,r),o.hide=!1}return o.headerName=e,o.colId=this.generateColumnId(n||[],t&&!i?t.getColId():""),o.field=o.colId,o.valueGetter=function(t){var e;return null===(e=t.data)||void 0===e?void 0:e[t.colDef.field]},o.pivotKeys=n,o.pivotValueColumn=t,!0===o.filter&&(o.filter="agNumberColumnFilter"),o},e.prototype.sameAggFuncs=function(t){if(1==t.length)return!0;for(var e=1;e<t.length;e++)if(t[e]!==t[0])return!1;return!0},e.prototype.headerNameComparator=function(t,e,n){return t?t(e.headerName,n.headerName):e.headerName&&!n.headerName?1:!e.headerName&&n.headerName?-1:e.headerName&&n.headerName?e.headerName<n.headerName?-1:e.headerName>n.headerName?1:0:0},e.prototype.merge=function(t,e){e.forEach((function(e,n,i){var o=t.has(n)?t.get(n):[],r=__spread$H(o,e);t.set(n,r)}))},e.prototype.generateColumnGroupId=function(t){return"pivotGroup_"+this.columnModel.getPivotColumns().map((function(t){return t.getColId()})).join("-")+"_"+t.join("-")},e.prototype.generateColumnId=function(t,e){return"pivot_"+this.columnModel.getPivotColumns().map((function(t){return t.getColId()})).join("-")+"_"+t.join("-")+"_"+e},e.PIVOT_ROW_TOTAL_PREFIX="PivotRowTotal_",__decorate$2k([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),e=n=__decorate$2k([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("pivotColDefService")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$38=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$2j=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},PivotStage=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.uniqueValues={},e}return __extends$38(e,t),e.prototype.execute=function(t){var e=t.changedPath;this.columnModel.isPivotActive()?this.executePivotOn(e):this.executePivotOff(e)},e.prototype.executePivotOff=function(t){this.aggregationColumnsHashLastTime=null,this.uniqueValues={},this.columnModel.isSecondaryColumnsPresent()&&(this.columnModel.setSecondaryColumns(null,"rowModelUpdated"),t&&t.setInactive())},e.prototype.executePivotOn=function(t){var e=this.bucketUpRowNodes(t),n=this.setUniqueValues(e),i=this.columnModel.getValueColumns(),o=i.map((function(t){return t.getId()+"-"+t.getColDef().headerName})).join("#"),r=i.map((function(t){return t.getAggFunc().toString()})).join("#"),s=this.aggregationColumnsHashLastTime!==o,a=this.aggregationFuncsHashLastTime!==r;this.aggregationColumnsHashLastTime=o,this.aggregationFuncsHashLastTime=r;var l=this.columnModel.getRowGroupColumns().map((function(t){return t.getId()})).join("#"),c=l!==this.groupColumnsHashLastTime;if(this.groupColumnsHashLastTime=l,n||s||c||a){var u=this.pivotColDefService.createPivotColumnDefs(this.uniqueValues),h=u.pivotColumnGroupDefs,d=u.pivotColumnDefs;this.pivotColumnDefs=d,this.columnModel.setSecondaryColumns(h,"rowModelUpdated"),t&&t.setInactive()}},e.prototype.setUniqueValues=function(t){return!!(JSON.stringify(t)!==JSON.stringify(this.uniqueValues))&&(this.uniqueValues=t,!0)},e.prototype.bucketUpRowNodes=function(t){var e=this,n={};t.forEachChangedNodeDepthFirst((function(t){t.leafGroup&&(t.childrenMapped=null)}));var i=function(t){var o;t.leafGroup?e.bucketRowNode(t,n):null===(o=t.childrenAfterFilter)||void 0===o||o.forEach(i)};return t.executeFromRootNode(i),n},e.prototype.bucketRowNode=function(t,e){var n=this.columnModel.getPivotColumns();0===n.length?t.childrenMapped=null:t.childrenMapped=this.bucketChildren(t.childrenAfterFilter,n,0,e),t.sibling&&(t.sibling.childrenMapped=t.childrenMapped)},e.prototype.bucketChildren=function(t,e,n,i){var o=this,r={},s=e[n];if(t.forEach((function(t){var e=o.valueService.getKeyForNode(s,t);ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(e)&&(e=""),i[e]||(i[e]={}),r[e]||(r[e]=[]),r[e].push(t)})),n===e.length-1)return r;var a={};return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.iterateObject(r,(function(t,r){a[t]=o.bucketChildren(r,e,n+1,i[t])})),a},e.prototype.getPivotColumnDefs=function(){return this.pivotColumnDefs},__decorate$2j([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("valueService")],e.prototype,"valueService",void 0),__decorate$2j([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$2j([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("pivotColDefService")],e.prototype,"pivotColDefService",void 0),e=__decorate$2j([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("pivotStage")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$37=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$2i=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},AGBigInt="undefined"==typeof BigInt?null:BigInt,AggFuncService=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.aggFuncsMap={},e.initialised=!1,e}var n;return __extends$37(e,t),n=e,e.prototype.init=function(){this.initialised||(this.initialiseWithDefaultAggregations(),this.addAggFuncs(this.gridOptionsService.get("aggFuncs")))},e.prototype.initialiseWithDefaultAggregations=function(){this.aggFuncsMap[n.AGG_SUM]=aggSum,this.aggFuncsMap[n.AGG_FIRST]=aggFirst,this.aggFuncsMap[n.AGG_LAST]=aggLast,this.aggFuncsMap[n.AGG_MIN]=aggMin,this.aggFuncsMap[n.AGG_MAX]=aggMax,this.aggFuncsMap[n.AGG_COUNT]=aggCount,this.aggFuncsMap[n.AGG_AVG]=aggAvg,this.initialised=!0},e.prototype.isAggFuncPossible=function(t,e){var n=this.getFuncNames(t),i=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(n,e),o=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(this.aggFuncsMap[e]);return i&&o},e.prototype.getDefaultAggFunc=function(t){var e=t.getColDef().defaultAggFunc;if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(e)&&this.isAggFuncPossible(t,e))return e;if(this.isAggFuncPossible(t,n.AGG_SUM))return n.AGG_SUM;var i=this.getFuncNames(t);return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.existsAndNotEmpty(i)?i[0]:null},e.prototype.addAggFuncs=function(t){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.iterateObject(t,this.addAggFunc.bind(this))},e.prototype.addAggFunc=function(t,e){this.init(),this.aggFuncsMap[t]=e},e.prototype.getAggFunc=function(t){return this.init(),this.aggFuncsMap[t]},e.prototype.getFuncNames=function(t){var e=t.getColDef().allowedAggFuncs;return null==e?Object.keys(this.aggFuncsMap).sort():e},e.prototype.clear=function(){this.aggFuncsMap={}},e.AGG_SUM="sum",e.AGG_FIRST="first",e.AGG_LAST="last",e.AGG_MIN="min",e.AGG_MAX="max",e.AGG_COUNT="count",e.AGG_AVG="avg",__decorate$2i([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e=n=__decorate$2i([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("aggFuncService")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9);function aggSum(t){for(var e=t.values,n=null,i=0;i<e.length;i++){var o=e[i];"number"==typeof o?null===n?n=o:n+=AGBigInt?"number"==typeof n?o:AGBigInt(o):o:"bigint"==typeof o&&(n=null===n?o:("bigint"==typeof n?n:AGBigInt(n))+o)}return n}function aggFirst(t){return t.values.length>0?t.values[0]:null}function aggLast(t){return t.values.length>0?ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(t.values):null}function aggMin(t){for(var e=t.values,n=null,i=0;i<e.length;i++){var o=e[i];"number"!=typeof o&&"bigint"!=typeof o||!(null===n||n>o)||(n=o)}return n}function aggMax(t){for(var e=t.values,n=null,i=0;i<e.length;i++){var o=e[i];"number"!=typeof o&&"bigint"!=typeof o||!(null===n||n<o)||(n=o)}return n}function aggCount(t){for(var e=t.values,n=0,i=0;i<e.length;i++){var o=e[i];n+=null!=o&&"number"==typeof o.value?o.value:1}return n}function aggAvg(t){for(var e,n,i,o=t.values,r=0,s=0,a=0;a<o.length;a++){var l=o[a],c=null;"number"==typeof l||"bigint"==typeof l?(c=l,s++):null==l||"number"!=typeof l.value&&"bigint"!=typeof l.value||"number"!=typeof l.count||(c=AGBigInt?l.value*("number"==typeof l.value?l.count:AGBigInt(l.count)):l.value*l.count,s+=l.count),"number"==typeof c?r+=AGBigInt?"number"==typeof r?c:AGBigInt(c):c:"bigint"==typeof c&&(r=("bigint"==typeof r?r:AGBigInt(r))+c)}var u=null;s>0&&(u=AGBigInt?r/("number"==typeof r?s:AGBigInt(s)):r/s);var h=null===(n=null===(e=t.rowNode)||void 0===e?void 0:e.aggData)||void 0===n?void 0:n[null===(i=t.column)||void 0===i?void 0:i.getColId()];return h&&h.count===s&&h.value===u?h:{count:s,value:u,toString:function(){return"number"==typeof this.value||"bigint"==typeof this.value?this.value.toString():""},toNumber:function(){return this.value}}}var __extends$36=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$2h=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},DropZoneColumnComp=function(t){function e(e,n,i,o,r){var s=t.call(this)||this;return s.column=e,s.dragSourceDropTarget=n,s.ghost=i,s.dropZonePurpose=o,s.horizontal=r,s.popupShowing=!1,s}return __extends$36(e,t),e.prototype.init=function(){var t=this;this.setTemplate(e.TEMPLATE);var n=this.getGui(),i=this.gridOptionsService.is("functionsReadOnly");this.addElementClasses(n),this.addElementClasses(this.eDragHandle,"drag-handle"),this.addElementClasses(this.eText,"text"),this.addElementClasses(this.eButton,"button"),this.eDragHandle.appendChild(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("columnDrag",this.gridOptionsService)),this.eButton.appendChild(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("cancel",this.gridOptionsService)),this.setupSort(),this.displayName=this.columnModel.getDisplayNameForColumn(this.column,"columnDrop"),this.setupComponents(),this.ghost||i||this.addDragSource(),this.setupAria(),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sgG.EVENT_SORT_CHANGED,(function(){t.setupAria()})),this.setupTooltip()},e.prototype.setupAria=function(){var t=this.localeService.getLocaleTextFunc(),e=this.getColumnAndAggFuncName(),n=e.name,i=e.aggFuncName,o=t("ariaDropZoneColumnComponentAggFuncSeperator"," of "),r={asc:t("ariaDropZoneColumnComponentSortAscending","ascending"),desc:t("ariaDropZoneColumnComponentSortDescending","descending")},s=this.column.getSort(),a=this.gridOptionsService.is("rowGroupPanelSuppressSort"),l=[[i&&""+i+o,n,this.isGroupingZone()&&!a&&s&&", "+r[s]].filter((function(t){return!!t})).join("")],c=this.gridOptionsService.is("functionsReadOnly");if(this.isAggregationZone()&&!c){var u=t("ariaDropZoneColumnValueItemDescription","Press ENTER to change the aggregation type");l.push(u)}if(this.isGroupingZone()&&this.column.getColDef().sortable&&!a){var h=t("ariaDropZoneColumnGroupItemDescription","Press ENTER to sort");l.push(h)}var d=t("ariaDropZoneColumnComponentDescription","Press DELETE to remove");l.push(d),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaLabel(this.getGui(),l.join(". "))},e.prototype.setupTooltip=function(){var t=this,e=function(){var e=t.column.getColDef().headerTooltip;t.setTooltip(e)};e(),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_NEW_COLUMNS_LOADED,e)},e.prototype.setupSort=function(){var t=this,e=this.column.getColDef().sortable,n=this.isGroupingZone();if(e&&n&&!this.gridOptionsService.is("rowGroupPanelSuppressSort")){this.eSortIndicator.setupSort(this.column,!0);var i=function(e){e.preventDefault();var n="ctrl"===t.gridOptionsService.get("multiSortKey")?e.ctrlKey||e.metaKey:e.shiftKey;t.sortController.progressSort(t.column,n,"uiColumnSorted")};this.addGuiEventListener("click",i),this.addGuiEventListener("keydown",(function(e){e.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.ENTER&&t.isGroupingZone()&&i(e)}))}},e.prototype.addDragSource=function(){var t=this,e={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.rvo.ToolPanel,eElement:this.eDragHandle,defaultIconName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jUB.ICON_HIDE,getDragItem:function(){return t.createDragItem()},dragItemName:this.displayName,dragSourceDropTarget:this.dragSourceDropTarget};this.dragAndDropService.addDragSource(e,!0),this.addDestroyFunc((function(){return t.dragAndDropService.removeDragSource(e)}))},e.prototype.createDragItem=function(){var t={};return t[this.column.getId()]=this.column.isVisible(),{columns:[this.column],visibleState:t}},e.prototype.setupComponents=function(){this.setTextValue(),this.setupRemove(),this.ghost&&this.addCssClass("ag-column-drop-cell-ghost"),this.isAggregationZone()&&!this.gridOptionsService.is("functionsReadOnly")&&this.addGuiEventListener("click",this.onShowAggFuncSelection.bind(this))},e.prototype.setupRemove=function(){var t=this;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eButton,!this.gridOptionsService.is("functionsReadOnly"));var n={type:e.EVENT_COLUMN_REMOVE};this.addGuiEventListener("keydown",(function(e){var i=e.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.ENTER;e.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.DELETE&&(e.preventDefault(),t.dispatchEvent(n)),i&&t.isAggregationZone()&&!t.gridOptionsService.is("functionsReadOnly")&&(e.preventDefault(),t.onShowAggFuncSelection())})),this.addManagedListener(this.eButton,"click",(function(e){t.dispatchEvent(n),e.stopPropagation()}));var i=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.rwP(this.eButton);this.addManagedListener(i,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.rwP.EVENT_TAP,(function(){t.dispatchEvent(n)})),this.addDestroyFunc(i.destroy.bind(i))},e.prototype.getColumnAndAggFuncName=function(){var t=this.displayName,e="";if(this.isAggregationZone()){var n=this.column.getAggFunc(),i="string"==typeof n?n:"agg";e=this.localeService.getLocaleTextFunc()(i,i)}return{name:t,aggFuncName:e}},e.prototype.setTextValue=function(){var t=this.getColumnAndAggFuncName(),e=t.name,n=t.aggFuncName,i=this.isAggregationZone()?n+"("+e+")":e,o=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.escapeString(i);this.eText.innerHTML=o},e.prototype.onShowAggFuncSelection=function(){var t=this;if(!this.popupShowing){this.popupShowing=!0;var e=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.CPJ("select-agg-func"),n=this.aggFuncService.getFuncNames(this.column),i=this.getGui(),o=e.getGui();e.setModel({getRow:function(t){return n[t]},getRowCount:function(){return n.length}}),this.getContext().createBean(e);var r=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.loadTemplate('<div class="ag-select-agg-func-popup"></div>');r.style.top="0px",r.style.left="0px",r.appendChild(o),r.style.width=i.clientWidth+"px";var s=this.localeService.getLocaleTextFunc(),a=this.popupService.addPopup({modal:!0,eChild:r,closeOnEsc:!0,closedCallback:function(){t.destroyBean(e),t.popupShowing=!1,i.focus()},ariaLabel:s("ariaLabelAggregationFunction","Aggregation Function")});a&&e.setComponentCreator(this.createAggSelect.bind(this,a.hideFunc)),e.addGuiEventListener("keydown",(function(t){if(t.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.ENTER||t.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.SPACE){var n=e.getLastFocusedRow();if(null==n)return;var i=e.getComponentAt(n);i&&i.selectItem()}})),this.popupService.positionPopupByComponent({type:"aggFuncSelect",eventSource:i,ePopup:r,keepWithinBounds:!0,column:this.column,position:"under"}),e.refresh();var l=n.findIndex((function(e){return e===t.column.getAggFunc()}));-1===l&&(l=0),e.focusRow(l)}},e.prototype.createAggSelect=function(t,e){var n=this,i=this.localeService.getLocaleTextFunc(),o=e.toString(),r=i(o,o);return new AggItemComp((function(){if(t(),n.gridOptionsService.is("functionsPassive")){var i={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_AGG_FUNC_CHANGE_REQUEST,columns:[n.column],aggFunc:e};n.eventService.dispatchEvent(i)}else n.columnModel.setColumnAggFunc(n.column,e,"toolPanelDragAndDrop")}),r)},e.prototype.addElementClasses=function(t,e){e=e?"-"+e:"";var n=this.horizontal?"horizontal":"vertical";t.classList.add("ag-column-drop-cell"+e,"ag-column-drop-"+n+"-cell"+e)},e.prototype.isAggregationZone=function(){return"aggregation"===this.dropZonePurpose},e.prototype.isGroupingZone=function(){return"rowGroup"===this.dropZonePurpose},e.EVENT_COLUMN_REMOVE="columnRemove",e.TEMPLATE='<span role="option" tabindex="0">\n          <span ref="eDragHandle" class="ag-drag-handle ag-column-drop-cell-drag-handle" role="presentation"></span>\n          <span ref="eText" class="ag-column-drop-cell-text" aria-hidden="true"></span>\n          <ag-sort-indicator ref="eSortIndicator"></ag-sort-indicator>\n          <span ref="eButton" class="ag-column-drop-cell-button" role="presentation"></span>\n        </span>',__decorate$2h([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("dragAndDropService")],e.prototype,"dragAndDropService",void 0),__decorate$2h([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$2h([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("popupService")],e.prototype,"popupService",void 0),__decorate$2h([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FiY)("aggFuncService")],e.prototype,"aggFuncService",void 0),__decorate$2h([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("sortController")],e.prototype,"sortController",void 0),__decorate$2h([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eText")],e.prototype,"eText",void 0),__decorate$2h([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eDragHandle")],e.prototype,"eDragHandle",void 0),__decorate$2h([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eButton")],e.prototype,"eButton",void 0),__decorate$2h([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eSortIndicator")],e.prototype,"eSortIndicator",void 0),__decorate$2h([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),AggItemComp=function(t){function e(e,n){var i=t.call(this,'<div class="ag-select-agg-func-item"/>')||this;return i.selectItem=e,i.getGui().innerText=n,i.addGuiEventListener("click",i.selectItem),i}return __extends$36(e,t),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$35=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$2g=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},__read$18=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},__spread$G=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$18(arguments[e]));return t},BaseDropZonePanel=function(t){function e(n,i){var o=t.call(this,'<div class="ag-unselectable" role="presentation"></div>')||this;return o.horizontal=n,o.dropZonePurpose=i,o.state=e.STATE_NOT_DRAGGING,o.guiDestroyFunctions=[],o.childColumnComponents=[],o.resizeEnabled=!1,o.addElementClasses(o.getGui()),o.eColumnDropList=document.createElement("div"),o.addElementClasses(o.eColumnDropList,"list"),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaRole(o.eColumnDropList,"listbox"),o}return __extends$35(e,t),e.prototype.isHorizontal=function(){return this.horizontal},e.prototype.toggleResizable=function(t){this.positionableFeature.setResizable(!!t&&{bottom:!0}),this.resizeEnabled=t},e.prototype.setBeans=function(t){this.beans=t},e.prototype.destroy=function(){this.destroyGui(),t.prototype.destroy.call(this)},e.prototype.destroyGui=function(){this.guiDestroyFunctions.forEach((function(t){return t()})),this.guiDestroyFunctions.length=0,this.childColumnComponents.length=0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.clearElement(this.getGui()),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.clearElement(this.eColumnDropList)},e.prototype.init=function(t){this.params=t,this.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.D_6(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.addManagedListener(this.beans.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_NEW_COLUMNS_LOADED,this.refreshGui.bind(this)),this.addManagedPropertyListener("functionsReadOnly",this.refreshGui.bind(this)),this.setupDropTarget(),this.positionableFeature=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Gxm(this.getGui(),{minHeight:100}),this.createManagedBean(this.positionableFeature),this.refreshGui(),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaLabel(this.eColumnDropList,this.getAriaLabel())},e.prototype.handleKeyDown=function(t){var e=!this.horizontal,n=t.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.DOWN,i=t.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.UP;if(!e){var o=this.gridOptionsService.is("enableRtl");n=!o&&t.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.RIGHT||o&&t.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.LEFT,i=!o&&t.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.LEFT||o&&t.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.RIGHT}if(n||i){var r=this.focusService.findNextFocusableElement(this.getFocusableElement(),!1,i);r&&(t.preventDefault(),r.focus())}},e.prototype.addElementClasses=function(t,e){e=e?"-"+e:"";var n=this.horizontal?"horizontal":"vertical";t.classList.add("ag-column-drop"+e,"ag-column-drop-"+n+e)},e.prototype.setupDropTarget=function(){this.dropTarget={getContainer:this.getGui.bind(this),getIconName:this.getIconName.bind(this),onDragging:this.onDragging.bind(this),onDragEnter:this.onDragEnter.bind(this),onDragLeave:this.onDragLeave.bind(this),onDragStop:this.onDragStop.bind(this),isInterestedIn:this.isInterestedIn.bind(this)},this.beans.dragAndDropService.addDropTarget(this.dropTarget)},e.prototype.isInterestedIn=function(t){return t===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.rvo.HeaderCell||t===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.rvo.ToolPanel},e.prototype.checkInsertIndex=function(t){var e=this.getNewInsertIndex(t);if(e<0)return!1;var n=e!==this.insertIndex;return n&&(this.insertIndex=e),n},e.prototype.getNewInsertIndex=function(t){var e=this,n=t.event,i=this.horizontal?n.clientX:n.clientY,o=this.childColumnComponents.map((function(t){return t.getGui().getBoundingClientRect()})),r=o.findIndex((function(t){return e.horizontal?t.right>i&&t.left<i:t.top<i&&t.bottom>i}));if(-1===r){var s=this.beans.gridOptionsService.is("enableRtl");return o.every((function(t){return i>(e.horizontal?t.right:t.bottom)}))?s&&this.horizontal?0:this.childColumnComponents.length:o.every((function(t){return i<(e.horizontal?t.left:t.top)}))?s&&this.horizontal?this.childColumnComponents.length:0:this.insertIndex}return this.insertIndex<=r?r+1:r},e.prototype.checkDragStartedBySelf=function(t){this.state===e.STATE_NOT_DRAGGING&&(this.state=e.STATE_REARRANGE_COLUMNS,this.potentialDndColumns=t.dragSource.getDragItem().columns||[],this.refreshGui(),this.checkInsertIndex(t),this.refreshGui())},e.prototype.onDragging=function(t){this.checkDragStartedBySelf(t),this.checkInsertIndex(t)&&this.refreshGui()},e.prototype.onDragEnter=function(t){var n=t.dragSource.getDragItem().columns||[];this.state=e.STATE_NEW_COLUMNS_IN;var i=n.filter(this.isColumnDroppable.bind(this));if(i.length>0){if(this.isRowGroupPanel()&&!this.gridOptionsService.is("suppressRowGroupHidesColumns")&&!t.fromNudge){var o=t.dragSource.getDragItem().columns;this.setColumnsVisible(o,!1,"uiColumnDragged")}this.potentialDndColumns=i,this.checkInsertIndex(t),this.refreshGui()}},e.prototype.setColumnsVisible=function(t,e,n){if(void 0===n&&(n="api"),t){var i=t.filter((function(t){return!t.getColDef().lockVisible}));this.colModel.setColumnsVisible(i,e,n)}},e.prototype.isPotentialDndColumns=function(){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.existsAndNotEmpty(this.potentialDndColumns)},e.prototype.isRowGroupPanel=function(){return"rowGroup"===this.dropZonePurpose},e.prototype.onDragLeave=function(t){if(this.state===e.STATE_REARRANGE_COLUMNS){var n=t.dragSource.getDragItem().columns||[];this.removeColumns(n)}if(this.isPotentialDndColumns()){if(this.isRowGroupPanel()&&!this.gridOptionsService.is("suppressMakeColumnVisibleAfterUnGroup")&&!t.fromNudge){var i=t.dragSource.getDragItem();this.setColumnsVisible(i.columns,!0,"uiColumnDragged")}this.potentialDndColumns=[],this.refreshGui()}this.state=e.STATE_NOT_DRAGGING},e.prototype.onDragStop=function(){if(this.isPotentialDndColumns()){var t=!1;this.state===e.STATE_NEW_COLUMNS_IN?(this.addColumns(this.potentialDndColumns),t=!0):t=this.rearrangeColumns(this.potentialDndColumns),this.potentialDndColumns=[],this.beans.gridOptionsService.is("functionsPassive")&&t||this.refreshGui()}this.state=e.STATE_NOT_DRAGGING},e.prototype.removeColumns=function(t){var e=this.getExistingColumns().filter((function(e){return!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(t,e)}));this.updateColumns(e)},e.prototype.addColumns=function(t){if(t){var e=this.getExistingColumns().slice(),n=t.filter((function(t){return e.indexOf(t)<0}));ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.insertArrayIntoArray(e,n,this.insertIndex),this.updateColumns(e)}},e.prototype.rearrangeColumns=function(t){var e=this.getNonGhostColumns().slice();return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.insertArrayIntoArray(e,t,this.insertIndex),!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.areEqual(e,this.getExistingColumns())&&(this.updateColumns(e),!0)},e.prototype.refreshGui=function(){var t=this.eColumnDropList.scrollTop,e=this.resizeEnabled,n=this.getFocusedItem(),i=this.focusService.findNextFocusableElement();i||(i=this.focusService.findNextFocusableElement(void 0,!1,!0)),this.toggleResizable(!1),this.destroyGui(),this.addIconAndTitleToGui(),this.addEmptyMessageToGui(),this.addColumnsToGui(),this.isHorizontal()||(this.eColumnDropList.scrollTop=t),e&&this.toggleResizable(e),this.focusService.isKeyboardMode()&&this.restoreFocus(n,i)},e.prototype.getFocusedItem=function(){var t=this.getGui(),e=this.gridOptionsService.getDocument().activeElement;return t.contains(e)?Array.from(t.querySelectorAll(".ag-column-drop-cell")).indexOf(e):-1},e.prototype.restoreFocus=function(t,e){var n=this.getGui(),i=Array.from(n.querySelectorAll(".ag-column-drop-cell"));if(-1!==t){0===i.length&&e.focus();var o=i[Math.min(i.length-1,t)];o&&o.focus()}},e.prototype.getNonGhostColumns=function(){var t=this,e=this.getExistingColumns();return this.isPotentialDndColumns()?e.filter((function(e){return!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(t.potentialDndColumns,e)})):e},e.prototype.addColumnsToGui=function(){var t=this,e=this.getNonGhostColumns().map((function(e){return t.createColumnComponent(e,!1)}));if(this.isPotentialDndColumns()){var n=this.potentialDndColumns.map((function(e){return t.createColumnComponent(e,!0)}));this.insertIndex>=e.length?e.push.apply(e,__spread$G(n)):e.splice.apply(e,__spread$G([this.insertIndex,0],n))}this.appendChild(this.eColumnDropList),e.forEach((function(e,n){n>0&&t.addArrow(t.eColumnDropList),t.eColumnDropList.appendChild(e.getGui())})),this.addAriaLabelsToComponents()},e.prototype.addAriaLabelsToComponents=function(){var t=this;this.childColumnComponents.forEach((function(e,n){var i=e.getGui();ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaPosInSet(i,n+1),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaSetSize(i,t.childColumnComponents.length)}))},e.prototype.createColumnComponent=function(t,e){var n=this,i=new DropZoneColumnComp(t,this.dropTarget,e,this.dropZonePurpose,this.horizontal);return i.addEventListener(DropZoneColumnComp.EVENT_COLUMN_REMOVE,this.removeColumns.bind(this,[t])),this.beans.context.createBean(i),this.guiDestroyFunctions.push((function(){return n.destroyBean(i)})),e||this.childColumnComponents.push(i),i},e.prototype.addIconAndTitleToGui=function(){var t=this.params.icon,e=document.createElement("div");if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaHidden(e,!0),this.addElementClasses(e,"title-bar"),this.addElementClasses(t,"icon"),this.addOrRemoveCssClass("ag-column-drop-empty",this.isExistingColumnsEmpty()),e.appendChild(t),!this.horizontal){var n=document.createElement("span");this.addElementClasses(n,"title"),n.innerHTML=this.params.title,e.appendChild(n)}this.appendChild(e)},e.prototype.isExistingColumnsEmpty=function(){return 0===this.getExistingColumns().length},e.prototype.addEmptyMessageToGui=function(){if(this.isExistingColumnsEmpty()&&!this.isPotentialDndColumns()){var t=document.createElement("span");t.innerHTML=this.params.emptyMessage,this.addElementClasses(t,"empty-message"),this.eColumnDropList.appendChild(t)}},e.prototype.addArrow=function(t){if(this.horizontal){var e=this.beans.gridOptionsService.is("enableRtl"),n=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan(e?"smallLeft":"smallRight",this.beans.gridOptionsService);this.addElementClasses(n,"cell-separator"),t.appendChild(n)}},e.STATE_NOT_DRAGGING="notDragging",e.STATE_NEW_COLUMNS_IN="newColumnsIn",e.STATE_REARRANGE_COLUMNS="rearrangeColumns",__decorate$2g([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"colModel",void 0),__decorate$2g([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("focusService")],e.prototype,"focusService",void 0),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$34=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$2f=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},RowGroupDropZonePanel=function(t){function e(e){return t.call(this,e,"rowGroup")||this}return __extends$34(e,t),e.prototype.passBeansUp=function(){t.prototype.setBeans.call(this,{gridOptionsService:this.gridOptionsService,eventService:this.eventService,context:this.getContext(),loggerFactory:this.loggerFactory,dragAndDropService:this.dragAndDropService});var e=this.localeService.getLocaleTextFunc(),n=e("rowGroupColumnsEmptyMessage","Drag here to set row groups"),i=e("groups","Row Groups");t.prototype.init.call(this,{dragAndDropIcon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jUB.ICON_GROUP,icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("rowGroupPanel",this.gridOptionsService,null),emptyMessage:n,title:i}),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_ROW_GROUP_CHANGED,this.refreshGui.bind(this))},e.prototype.getAriaLabel=function(){return this.localeService.getLocaleTextFunc()("ariaRowGroupDropZonePanelLabel","Row Groups")},e.prototype.getTooltipParams=function(){var e=t.prototype.getTooltipParams.call(this);return e.location="rowGroupColumnsList",e},e.prototype.isColumnDroppable=function(t){return!(this.gridOptionsService.is("functionsReadOnly")||!t.isPrimary())&&(t.isAllowRowGroup()&&!t.isRowGroupActive())},e.prototype.updateColumns=function(t){if(this.gridOptionsService.is("functionsPassive")){var e={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST,columns:t};this.eventService.dispatchEvent(e)}else this.columnModel.setRowGroupColumns(t,"toolPanelUi")},e.prototype.getIconName=function(){return this.isPotentialDndColumns()?ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jUB.ICON_GROUP:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jUB.ICON_NOT_ALLOWED},e.prototype.getExistingColumns=function(){return this.columnModel.getRowGroupColumns()},__decorate$2f([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$2f([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("loggerFactory")],e.prototype,"loggerFactory",void 0),__decorate$2f([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("dragAndDropService")],e.prototype,"dragAndDropService",void 0),__decorate$2f([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"passBeansUp",null),e}(BaseDropZonePanel),__extends$33=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$2e=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},PivotDropZonePanel=function(t){function e(e){return t.call(this,e,"pivot")||this}return __extends$33(e,t),e.prototype.passBeansUp=function(){t.prototype.setBeans.call(this,{gridOptionsService:this.gridOptionsService,eventService:this.eventService,context:this.getContext(),loggerFactory:this.loggerFactory,dragAndDropService:this.dragAndDropService});var e=this.localeService.getLocaleTextFunc(),n=e("pivotColumnsEmptyMessage","Drag here to set column labels"),i=e("pivots","Column Labels");t.prototype.init.call(this,{dragAndDropIcon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jUB.ICON_GROUP,icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("pivotPanel",this.gridOptionsService,null),emptyMessage:n,title:i}),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_NEW_COLUMNS_LOADED,this.refresh.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PIVOT_CHANGED,this.refresh.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.checkVisibility.bind(this)),this.refresh()},e.prototype.getAriaLabel=function(){return this.localeService.getLocaleTextFunc()("ariaPivotDropZonePanelLabel","Column Labels")},e.prototype.getTooltipParams=function(){var e=t.prototype.getTooltipParams.call(this);return e.location="pivotColumnsList",e},e.prototype.refresh=function(){this.checkVisibility(),this.refreshGui()},e.prototype.checkVisibility=function(){var t=this.columnModel.isPivotMode();if(this.isHorizontal())switch(this.gridOptionsService.get("pivotPanelShow")){case"always":this.setDisplayed(t);break;case"onlyWhenPivoting":var e=this.columnModel.isPivotActive();this.setDisplayed(t&&e);break;default:this.setDisplayed(!1)}else this.setDisplayed(t)},e.prototype.isColumnDroppable=function(t){return!(this.gridOptionsService.is("functionsReadOnly")||!t.isPrimary())&&(t.isAllowPivot()&&!t.isPivotActive())},e.prototype.updateColumns=function(t){if(this.gridOptionsService.is("functionsPassive")){var e={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PIVOT_CHANGE_REQUEST,columns:t};this.eventService.dispatchEvent(e)}else this.columnModel.setPivotColumns(t,"toolPanelUi")},e.prototype.getIconName=function(){return this.isPotentialDndColumns()?ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jUB.ICON_PIVOT:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jUB.ICON_NOT_ALLOWED},e.prototype.getExistingColumns=function(){return this.columnModel.getPivotColumns()},__decorate$2e([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$2e([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("loggerFactory")],e.prototype,"loggerFactory",void 0),__decorate$2e([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("dragAndDropService")],e.prototype,"dragAndDropService",void 0),__decorate$2e([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"passBeansUp",null),e}(BaseDropZonePanel),__extends$32=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$2d=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},GridHeaderDropZones=function(t){function e(){return t.call(this)||this}return __extends$32(e,t),e.prototype.postConstruct=function(){this.setGui(this.createNorthPanel()),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_NEW_COLUMNS_LOADED,this.onRowGroupChanged.bind(this)),this.addManagedPropertyListener("rowGroupPanelShow",this.onRowGroupChanged.bind(this)),this.onRowGroupChanged()},e.prototype.createNorthPanel=function(){var t=document.createElement("div"),e=this.onDropPanelVisible.bind(this);return t.classList.add("ag-column-drop-wrapper"),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaRole(t,"presentation"),this.rowGroupComp=new RowGroupDropZonePanel(!0),this.createManagedBean(this.rowGroupComp),this.pivotComp=new PivotDropZonePanel(!0),this.createManagedBean(this.pivotComp),t.appendChild(this.rowGroupComp.getGui()),t.appendChild(this.pivotComp.getGui()),this.addManagedListener(this.rowGroupComp,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2.EVENT_DISPLAYED_CHANGED,e),this.addManagedListener(this.pivotComp,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2.EVENT_DISPLAYED_CHANGED,e),this.onDropPanelVisible(),t},e.prototype.onDropPanelVisible=function(){var t=this.rowGroupComp.isDisplayed()&&this.pivotComp.isDisplayed();this.rowGroupComp.addOrRemoveCssClass("ag-column-drop-horizontal-half-width",t),this.pivotComp.addOrRemoveCssClass("ag-column-drop-horizontal-half-width",t)},e.prototype.onRowGroupChanged=function(){if(this.rowGroupComp){var t=this.gridOptionsService.get("rowGroupPanelShow");if("always"===t)this.rowGroupComp.setDisplayed(!0);else if("onlyWhenGrouping"===t){var e=!this.columnModel.isRowGroupEmpty();this.rowGroupComp.setDisplayed(e)}else this.rowGroupComp.setDisplayed(!1)}},__decorate$2d([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$2d([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$31=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$2c=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},FilterAggregatesStage=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$31(e,t),e.prototype.execute=function(t){var e=this,n=this.columnModel.isPivotMode(),i=this.filterManager.isAggregateFilterPresent(),o=this.gridOptionsService.getGroupAggFiltering()||(n?function(t){return t.node.leafGroup}:function(t){return!t.node.group}),r=t.changedPath,s=function(t,n){void 0===n&&(n=!1),t.childrenAfterFilter&&(t.childrenAfterAggFilter=t.childrenAfterFilter,n&&t.childrenAfterAggFilter.forEach((function(t){return s(t,n)})),e.setAllChildrenCount(t)),t.sibling&&(t.sibling.childrenAfterAggFilter=t.childrenAfterAggFilter)};r.forEachChangedNodeDepthFirst(i?function(t){var n;t.childrenAfterAggFilter=(null===(n=t.childrenAfterFilter)||void 0===n?void 0:n.filter((function(t){var n;if(o({node:t})&&e.filterManager.doesRowPassAggregateFilters({rowNode:t}))return s(t,!0),!0;return null===(n=t.childrenAfterAggFilter)||void 0===n?void 0:n.length})))||null,e.setAllChildrenCount(t),t.sibling&&(t.sibling.childrenAfterAggFilter=t.childrenAfterAggFilter)}:s,!0)},e.prototype.setAllChildrenCountTreeData=function(t){var e=0;t.childrenAfterAggFilter.forEach((function(t){e++,e+=t.allChildrenCount})),t.setAllChildrenCount(e)},e.prototype.setAllChildrenCountGridGrouping=function(t){var e=0;t.childrenAfterAggFilter.forEach((function(t){t.group?e+=t.allChildrenCount:e++})),t.setAllChildrenCount(e)},e.prototype.setAllChildrenCount=function(t){t.hasChildren()?this.gridOptionsService.isTreeData()?this.setAllChildrenCountTreeData(t):this.setAllChildrenCountGridGrouping(t):t.setAllChildrenCount(null)},__decorate$2c([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("filterManager")],e.prototype,"filterManager",void 0),__decorate$2c([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),e=__decorate$2c([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("filterAggregatesStage")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),VERSION$g="29.3.4",__extends$30=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$2b=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},GroupFilter=function(t){function e(){return t.call(this,'\n            <div class="ag-group-filter">\n                <div ref="eGroupField"></div>\n                <div ref="eUnderlyingFilter"></div>\n            </div>\n        ')||this}return __extends$30(e,t),e.prototype.postConstruct=function(){this.initialiseTabGuard({})},e.prototype.init=function(t){var e=this;return this.params=t,this.validateParams(),this.updateGroups().then((function(){e.addManagedListener(e.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_ROW_GROUP_CHANGED,(function(){return e.onColumnRowGroupChanged()}))}))},e.prototype.validateParams=function(){var t=this.params.colDef;t.field&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce((function(){return console.warn('AG Grid: Group Column Filter does not work with the colDef property "field". This property will be ignored.')}),"groupFilterFieldParam"),t.filterValueGetter&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce((function(){return console.warn('AG Grid: Group Column Filter does not work with the colDef property "filterValueGetter". This property will be ignored.')}),"groupFilterFilterValueGetterParam"),t.filterParams&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce((function(){return console.warn('AG Grid: Group Column Filter does not work with the colDef property "filterParams". This property will be ignored.')}),"groupFilterFilterParams")},e.prototype.updateGroups=function(){var t=this.updateGroupField();return this.getUnderlyingFilters(t)},e.prototype.getSourceColumns=function(){if(this.groupColumn=this.params.column,this.gridOptionsService.is("treeData"))return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce((function(){return console.warn("AG Grid: Group Column Filter does not work with Tree Data enabled. Please disable Tree Data, or use a different filter.")}),"groupFilterTreeData"),[];var t=this.columnModel.getSourceColumnsForGroupColumn(this.groupColumn);return t||(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce((function(){return console.warn("AG Grid: Group Column Filter only works on group columns. Please use a different filter.")}),"groupFilterNotGroupColumn"),[])},e.prototype.updateGroupField=function(){var t=this;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.clearElement(this.eGroupField),this.eGroupFieldSelect&&this.destroyBean(this.eGroupFieldSelect);var e=this.getSourceColumns(),n=e.filter((function(t){return t.isFilterAllowed()}));return n.length?(1===e.length?(this.selectedColumn=n[0],ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eGroupField,!1)):(this.selectedColumn&&n.some((function(e){return e.getId()===t.selectedColumn.getId()}))||(this.selectedColumn=n[0]),this.createGroupFieldSelectElement(n),this.eGroupField.appendChild(this.eGroupFieldSelect.getGui()),this.eGroupField.appendChild(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.loadTemplate('<div class="ag-filter-separator"></div>')),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eGroupField,!0)),n):(this.selectedColumn=void 0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eGroupField,!1),null)},e.prototype.createGroupFieldSelectElement=function(t){var e=this;this.eGroupFieldSelect=this.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wGv);var n=this.localeService.getLocaleTextFunc();this.eGroupFieldSelect.setLabel(n("groupFilterSelect","Select field:")),this.eGroupFieldSelect.setLabelAlignment("top"),this.eGroupFieldSelect.addOptions(t.map((function(t){var n;return{value:t.getId(),text:null!==(n=e.columnModel.getDisplayNameForColumn(t,"groupFilter",!1))&&void 0!==n?n:void 0}}))),this.eGroupFieldSelect.setValue(this.selectedColumn.getId()),this.eGroupFieldSelect.onValueChange((function(t){return e.updateSelectedColumn(t)})),this.eGroupFieldSelect.addCssClass("ag-group-filter-field-select-wrapper"),1===t.length&&this.eGroupFieldSelect.setDisabled(!0)},e.prototype.getUnderlyingFilters=function(t){var e=this;if(!t)return this.filterColumnPairs=void 0,this.selectedFilter=void 0,this.groupColumn.setFilterActive(!1,"columnRowGroupChanged"),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S.resolve();var n=[],i=[];return t.forEach((function(t){var o=e.filterManager.getOrCreateFilterWrapper(t,"COLUMN_MENU");(null==o?void 0:o.filterPromise)&&n.push(o.filterPromise.then((function(n){return n&&i.push({filter:n,column:t}),t.getId()===e.selectedColumn.getId()&&(e.selectedFilter=null!=n?n:void 0),n})))})),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S.all(n).then((function(){e.filterColumnPairs=i,e.groupColumn.setFilterActive(e.isFilterActive(),"columnRowGroupChanged")}))},e.prototype.addUnderlyingFilterElement=function(){var t=this;if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.clearElement(this.eUnderlyingFilter),!this.selectedColumn)return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S.resolve();var e=this.filterManager.getOrCreateFilterWrapper(this.selectedColumn,"COLUMN_MENU");return e?e.guiPromise.then((function(n){var i;t.eUnderlyingFilter.appendChild(n),null===(i=e.filterPromise)||void 0===i||i.then((function(e){var n,i;null===(n=null==e?void 0:e.afterGuiAttached)||void 0===n||n.call(e,t.afterGuiAttachedParams),(null===(i=t.afterGuiAttachedParams)||void 0===i?void 0:i.suppressFocus)||!t.eGroupFieldSelect||t.eGroupFieldSelect.isDisabled()||t.eGroupFieldSelect.getFocusableElement().focus()}))})):ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S.resolve()},e.prototype.updateSelectedColumn=function(t){var n,i;if(t){null===(i=null===(n=this.selectedFilter)||void 0===n?void 0:n.afterGuiDetached)||void 0===i||i.call(n);var o=this.getFilterColumnPair(t);this.selectedColumn=null==o?void 0:o.column,this.selectedFilter=null==o?void 0:o.filter,this.dispatchEvent({type:e.EVENT_SELECTED_COLUMN_CHANGED}),this.addUnderlyingFilterElement()}},e.prototype.isFilterActive=function(){var t;return!!(null===(t=this.filterColumnPairs)||void 0===t?void 0:t.some((function(t){return t.filter.isFilterActive()})))},e.prototype.doesFilterPass=function(){return!0},e.prototype.getModel=function(){return null},e.prototype.setModel=function(){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S.resolve()},e.prototype.afterGuiAttached=function(t){this.afterGuiAttachedParams=t,this.addUnderlyingFilterElement()},e.prototype.afterGuiDetached=function(){var t,e;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.clearElement(this.eUnderlyingFilter),null===(e=null===(t=this.selectedFilter)||void 0===t?void 0:t.afterGuiDetached)||void 0===e||e.call(t)},e.prototype.onColumnRowGroupChanged=function(){var t=this;this.updateGroups().then((function(){t.dispatchEvent({type:e.EVENT_COLUMN_ROW_GROUP_CHANGED}),t.eventService.dispatchEvent({type:"filterAllowedUpdated"})}))},e.prototype.getFilterColumnPair=function(t){var e;if(t)return null===(e=this.filterColumnPairs)||void 0===e?void 0:e.find((function(e){return e.column.getId()===t}))},e.prototype.getSelectedFilter=function(){return this.selectedFilter},e.prototype.getSelectedColumn=function(){return this.selectedColumn},e.prototype.isFilterAllowed=function(){return!!this.selectedColumn},e.prototype.destroy=function(){t.prototype.destroy.call(this)},e.EVENT_COLUMN_ROW_GROUP_CHANGED="columnRowGroupChanged",e.EVENT_SELECTED_COLUMN_CHANGED="selectedColumnChanged",__decorate$2b([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("filterManager")],e.prototype,"filterManager",void 0),__decorate$2b([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$2b([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eGroupField")],e.prototype,"eGroupField",void 0),__decorate$2b([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eUnderlyingFilter")],e.prototype,"eUnderlyingFilter",void 0),__decorate$2b([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.BxR),__extends$2$=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$2a=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},GroupFloatingFilterComp=function(t){function e(){return t.call(this,'\n            <div ref="eFloatingFilter" class="ag-group-floating-filter ag-floating-filter-input" role="presentation"></div>\n        ')||this}return __extends$2$(e,t),e.prototype.init=function(t){var e=this;this.params=t;var n="multipleColumns"===this.gridOptionsService.get("groupDisplayType");return new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S((function(t){e.params.parentFilterInstance((function(i){e.parentFilterInstance=i,n?e.setupUnderlyingFloatingFilterElement().then((function(){return t()})):(e.setupReadOnlyFloatingFilterElement(),t())}))})).then((function(){e.addManagedListener(e.parentFilterInstance,GroupFilter.EVENT_SELECTED_COLUMN_CHANGED,(function(){return e.onSelectedColumnChanged()})),e.addManagedListener(e.parentFilterInstance,GroupFilter.EVENT_COLUMN_ROW_GROUP_CHANGED,(function(){return e.onColumnRowGroupChanged()}))}))},e.prototype.setupReadOnlyFloatingFilterElement=function(){var t=this;if(!this.eFloatingFilterText){this.eFloatingFilterText=this.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.INo);var e=this.columnModel.getDisplayNameForColumn(this.params.column,"header",!0),n=this.localeService.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(e+" "+n("ariaFilterInput","Filter Input")).addGuiEventListener("click",(function(){return t.params.showParentFilter()}))}this.updateDisplayedValue(),this.eFloatingFilter.appendChild(this.eFloatingFilterText.getGui())},e.prototype.setupUnderlyingFloatingFilterElement=function(){var t=this;this.showingUnderlyingFloatingFilter=!1,this.underlyingFloatingFilter=void 0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.clearElement(this.eFloatingFilter);var e=this.parentFilterInstance.getSelectedColumn();if(e&&!e.isVisible()){var n=this.filterManager.getFloatingFilterCompDetails(e,this.params.showParentFilter);if(n)return this.columnVisibleChangedListener||(this.columnVisibleChangedListener=this.addManagedListener(e,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sgG.EVENT_VISIBLE_CHANGED,this.onColumnVisibleChanged.bind(this))),n.newAgStackInstance().then((function(e){var n,i;t.underlyingFloatingFilter=e,null===(n=t.underlyingFloatingFilter)||void 0===n||n.onParentModelChanged(null===(i=t.parentFilterInstance.getSelectedFilter())||void 0===i?void 0:i.getModel()),t.appendChild(e.getGui()),t.showingUnderlyingFloatingFilter=!0}))}return this.setupReadOnlyFloatingFilterElement(),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S.resolve()},e.prototype.onColumnVisibleChanged=function(){this.setupUnderlyingFloatingFilterElement()},e.prototype.onParentModelChanged=function(t,e){var n,i;this.showingUnderlyingFloatingFilter?null===(n=this.underlyingFloatingFilter)||void 0===n||n.onParentModelChanged(null===(i=this.parentFilterInstance.getSelectedFilter())||void 0===i?void 0:i.getModel(),e):this.updateDisplayedValue()},e.prototype.updateDisplayedValue=function(){if(this.parentFilterInstance&&this.eFloatingFilterText){var t=this.parentFilterInstance.getSelectedFilter();if(!t)return this.eFloatingFilterText.setValue(""),void this.eFloatingFilterText.setDisplayed(!1);if(this.eFloatingFilterText.setDisplayed(!0),t.getModelAsString){var e=t.getModel();this.eFloatingFilterText.setValue(null==e?"":t.getModelAsString(e))}else this.eFloatingFilterText.setValue("")}},e.prototype.onSelectedColumnChanged=function(){this.showingUnderlyingFloatingFilter||this.updateDisplayedValue()},e.prototype.onColumnRowGroupChanged=function(){this.showingUnderlyingFloatingFilter||this.updateDisplayedValue()},e.prototype.destroy=function(){t.prototype.destroy.call(this)},__decorate$2a([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$2a([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("filterManager")],e.prototype,"filterManager",void 0),__decorate$2a([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eFloatingFilter")],e.prototype,"eFloatingFilter",void 0),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),RowGroupingModule={version:VERSION$g,moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.RowGroupingModule,beans:[AggregationStage,FilterAggregatesStage,GroupStage,PivotColDefService,PivotStage,AggFuncService],agStackComponents:[{componentName:"AgGridHeaderDropZones",componentClass:GridHeaderDropZones}],userComponents:[{componentName:"agGroupColumnFilter",componentClass:GroupFilter},{componentName:"agGroupColumnFloatingFilter",componentClass:GroupFloatingFilterComp}],dependantModules:[EnterpriseCoreModule]},__extends$2_=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$29=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},ValuesDropZonePanel=function(t){function e(e){return t.call(this,e,"aggregation")||this}return __extends$2_(e,t),e.prototype.passBeansUp=function(){t.prototype.setBeans.call(this,{gridOptionsService:this.gridOptionsService,eventService:this.eventService,context:this.getContext(),loggerFactory:this.loggerFactory,dragAndDropService:this.dragAndDropService});var e=this.localeService.getLocaleTextFunc(),n=e("valueColumnsEmptyMessage","Drag here to aggregate"),i=e("values","Values");t.prototype.init.call(this,{dragAndDropIcon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jUB.ICON_AGGREGATE,icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("valuePanel",this.gridOptionsService,null),emptyMessage:n,title:i}),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_VALUE_CHANGED,this.refreshGui.bind(this))},e.prototype.getAriaLabel=function(){return this.localeService.getLocaleTextFunc()("ariaValuesDropZonePanelLabel","Values")},e.prototype.getTooltipParams=function(){var e=t.prototype.getTooltipParams.call(this);return e.location="valueColumnsList",e},e.prototype.getIconName=function(){return this.isPotentialDndColumns()?ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jUB.ICON_AGGREGATE:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jUB.ICON_NOT_ALLOWED},e.prototype.isColumnDroppable=function(t){return!(this.gridOptionsService.is("functionsReadOnly")||!t.isPrimary())&&(t.isAllowValue()&&!t.isValueActive())},e.prototype.updateColumns=function(t){if(this.gridOptionsService.is("functionsPassive")){var e={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_VALUE_CHANGE_REQUEST,columns:t};this.eventService.dispatchEvent(e)}else this.columnModel.setValueColumns(t,"toolPanelUi")},e.prototype.getExistingColumns=function(){return this.columnModel.getValueColumns()},__decorate$29([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$29([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("loggerFactory")],e.prototype,"loggerFactory",void 0),__decorate$29([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("dragAndDropService")],e.prototype,"dragAndDropService",void 0),__decorate$29([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"passBeansUp",null),e}(BaseDropZonePanel),__extends$2Z=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$28=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},PrimaryColsPanel=function(t){function e(){return t.call(this,e.TEMPLATE)||this}return __extends$2Z(e,t),e.prototype.init=function(t,e,n){this.allowDragging=t,this.params=e,this.eventType=n,this.primaryColsHeaderPanel.init(this.params);var i=this.params.suppressColumnFilter,o=this.params.suppressColumnSelectAll;this.params.suppressColumnExpandAll&&i&&o&&this.primaryColsHeaderPanel.setDisplayed(!1),this.addManagedListener(this.primaryColsListPanel,"groupExpanded",this.onGroupExpanded.bind(this)),this.addManagedListener(this.primaryColsListPanel,"selectionChanged",this.onSelectionChange.bind(this)),this.primaryColsListPanel.init(this.params,this.allowDragging,this.eventType),this.addManagedListener(this.primaryColsHeaderPanel,"expandAll",this.onExpandAll.bind(this)),this.addManagedListener(this.primaryColsHeaderPanel,"collapseAll",this.onCollapseAll.bind(this)),this.addManagedListener(this.primaryColsHeaderPanel,"selectAll",this.onSelectAll.bind(this)),this.addManagedListener(this.primaryColsHeaderPanel,"unselectAll",this.onUnselectAll.bind(this)),this.addManagedListener(this.primaryColsHeaderPanel,"filterChanged",this.onFilterChanged.bind(this)),this.positionableFeature=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Gxm(this.getGui(),{minHeight:100}),this.createManagedBean(this.positionableFeature)},e.prototype.toggleResizable=function(t){this.positionableFeature.setResizable(!!t&&{bottom:!0})},e.prototype.onExpandAll=function(){this.primaryColsListPanel.doSetExpandedAll(!0)},e.prototype.onCollapseAll=function(){this.primaryColsListPanel.doSetExpandedAll(!1)},e.prototype.expandGroups=function(t){this.primaryColsListPanel.setGroupsExpanded(!0,t)},e.prototype.collapseGroups=function(t){this.primaryColsListPanel.setGroupsExpanded(!1,t)},e.prototype.setColumnLayout=function(t){this.primaryColsListPanel.setColumnLayout(t)},e.prototype.onFilterChanged=function(t){this.primaryColsListPanel.setFilterText(t.filterText)},e.prototype.syncLayoutWithGrid=function(){this.primaryColsListPanel.onColumnsChanged()},e.prototype.onSelectAll=function(){this.primaryColsListPanel.doSetSelectedAll(!0)},e.prototype.onUnselectAll=function(){this.primaryColsListPanel.doSetSelectedAll(!1)},e.prototype.onGroupExpanded=function(t){this.primaryColsHeaderPanel.setExpandState(t.state)},e.prototype.onSelectionChange=function(t){this.primaryColsHeaderPanel.setSelectionState(t.state)},e.TEMPLATE='<div class="ag-column-select">\n            <ag-primary-cols-header ref="primaryColsHeaderPanel"></ag-primary-cols-header>\n            <ag-primary-cols-list ref="primaryColsListPanel"></ag-primary-cols-list>\n        </div>',__decorate$28([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("primaryColsHeaderPanel")],e.prototype,"primaryColsHeaderPanel",void 0),__decorate$28([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("primaryColsListPanel")],e.prototype,"primaryColsListPanel",void 0),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$2Y=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__assign$N=function(){return __assign$N=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},__assign$N.apply(this,arguments)},__decorate$27=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},ColumnToolPanel=function(t){function e(){var n=t.call(this,e.TEMPLATE)||this;return n.initialised=!1,n.childDestroyFuncs=[],n}return __extends$2Y(e,t),e.prototype.setVisible=function(e){t.prototype.setDisplayed.call(this,e),e&&!this.initialised&&this.init(this.params)},e.prototype.init=function(t){var e=this,n={suppressColumnMove:!1,suppressColumnSelectAll:!1,suppressColumnFilter:!1,suppressColumnExpandAll:!1,contractColumnSelection:!1,suppressPivotMode:!1,suppressRowGroups:!1,suppressValues:!1,suppressPivots:!1,suppressSyncLayoutWithGrid:!1,api:this.gridApi,columnApi:this.columnApi};if(this.params=__assign$N(__assign$N(__assign$N({},n),t),{context:this.gridOptionsService.context}),this.isRowGroupingModuleLoaded()&&!this.params.suppressPivotMode&&(this.pivotModePanel=this.createBean(new PivotModePanel),this.childDestroyFuncs.push((function(){return e.destroyBean(e.pivotModePanel)})),this.appendChild(this.pivotModePanel)),this.primaryColsPanel=this.createBean(new PrimaryColsPanel),this.childDestroyFuncs.push((function(){return e.destroyBean(e.primaryColsPanel)})),this.primaryColsPanel.init(!0,this.params,"toolPanelUi"),this.primaryColsPanel.addCssClass("ag-column-panel-column-select"),this.appendChild(this.primaryColsPanel),this.isRowGroupingModuleLoaded()){this.params.suppressRowGroups||(this.rowGroupDropZonePanel=this.createBean(new RowGroupDropZonePanel(!1)),this.childDestroyFuncs.push((function(){return e.destroyBean(e.rowGroupDropZonePanel)})),this.appendChild(this.rowGroupDropZonePanel)),this.params.suppressValues||(this.valuesDropZonePanel=this.createBean(new ValuesDropZonePanel(!1)),this.childDestroyFuncs.push((function(){return e.destroyBean(e.valuesDropZonePanel)})),this.appendChild(this.valuesDropZonePanel)),this.params.suppressPivots||(this.pivotDropZonePanel=this.createBean(new PivotDropZonePanel(!1)),this.childDestroyFuncs.push((function(){return e.destroyBean(e.pivotDropZonePanel)})),this.appendChild(this.pivotDropZonePanel)),this.setLastVisible();var i=this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PIVOT_MODE_CHANGED,(function(){e.resetChildrenHeight(),e.setLastVisible()}));this.childDestroyFuncs.push((function(){return i()}))}this.initialised=!0},e.prototype.setPivotModeSectionVisible=function(t){var e=this;this.isRowGroupingModuleLoaded()&&(this.pivotModePanel?this.pivotModePanel.setDisplayed(t):t&&(this.pivotModePanel=this.createBean(new PivotModePanel),this.getGui().insertBefore(this.pivotModePanel.getGui(),this.getGui().firstChild),this.childDestroyFuncs.push((function(){return e.destroyBean(e.pivotModePanel)}))),this.setLastVisible())},e.prototype.setRowGroupsSectionVisible=function(t){this.isRowGroupingModuleLoaded()&&(this.rowGroupDropZonePanel?this.rowGroupDropZonePanel.setDisplayed(t):t&&(this.rowGroupDropZonePanel=this.createManagedBean(new RowGroupDropZonePanel(!1)),this.appendChild(this.rowGroupDropZonePanel)),this.setLastVisible())},e.prototype.setValuesSectionVisible=function(t){this.isRowGroupingModuleLoaded()&&(this.valuesDropZonePanel?this.valuesDropZonePanel.setDisplayed(t):t&&(this.valuesDropZonePanel=this.createManagedBean(new ValuesDropZonePanel(!1)),this.appendChild(this.valuesDropZonePanel)),this.setLastVisible())},e.prototype.setPivotSectionVisible=function(t){this.isRowGroupingModuleLoaded()&&(this.pivotDropZonePanel?this.pivotDropZonePanel.setDisplayed(t):t&&(this.pivotDropZonePanel=this.createManagedBean(new PivotDropZonePanel(!1)),this.appendChild(this.pivotDropZonePanel),this.pivotDropZonePanel.setDisplayed(t)),this.setLastVisible())},e.prototype.setResizers=function(){[this.primaryColsPanel,this.rowGroupDropZonePanel,this.valuesDropZonePanel,this.pivotDropZonePanel].forEach((function(t){if(t){var e=t.getGui();t.toggleResizable(!e.classList.contains("ag-last-column-drop")&&!e.classList.contains("ag-hidden"))}}))},e.prototype.setLastVisible=function(){var t=this.getGui();Array.prototype.slice.call(t.querySelectorAll(".ag-column-drop")).forEach((function(t){return t.classList.remove("ag-last-column-drop")}));var e=t.querySelectorAll(".ag-column-drop:not(.ag-hidden)"),n=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(e);n&&n.classList.add("ag-last-column-drop"),this.setResizers()},e.prototype.resetChildrenHeight=function(){for(var t=this.getGui().children,e=0;e<t.length;e++){var n=t[e];n.style.removeProperty("height"),n.style.removeProperty("flex")}},e.prototype.isRowGroupingModuleLoaded=function(){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.assertRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.RowGroupingModule,"Row Grouping")},e.prototype.expandColumnGroups=function(t){this.primaryColsPanel.expandGroups(t)},e.prototype.collapseColumnGroups=function(t){this.primaryColsPanel.collapseGroups(t)},e.prototype.setColumnLayout=function(t){this.primaryColsPanel.setColumnLayout(t)},e.prototype.syncLayoutWithGrid=function(){this.primaryColsPanel.syncLayoutWithGrid()},e.prototype.destroyChildren=function(){this.childDestroyFuncs.forEach((function(t){return t()})),this.childDestroyFuncs.length=0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.clearElement(this.getGui())},e.prototype.refresh=function(){this.destroyChildren(),this.init(this.params)},e.prototype.destroy=function(){this.destroyChildren(),t.prototype.destroy.call(this)},e.TEMPLATE='<div class="ag-column-panel"></div>',__decorate$27([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],e.prototype,"gridApi",void 0),__decorate$27([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnApi")],e.prototype,"columnApi",void 0),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$2X=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$26=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},HorizontalResizeComp=function(t){function e(){var e=t.call(this,'<div class="ag-tool-panel-horizontal-resize"></div>')||this;return e.minWidth=100,e.maxWidth=null,e}return __extends$2X(e,t),e.prototype.setElementToResize=function(t){this.elementToResize=t},e.prototype.postConstruct=function(){var t=this.horizontalResizeService.addResizeBar({eResizeBar:this.getGui(),dragStartPixels:1,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this),onResizeEnd:this.onResizeEnd.bind(this)});this.addDestroyFunc(t),this.setInverted(this.gridOptionsService.is("enableRtl"))},e.prototype.dispatchResizeEvent=function(t,e,n){var i={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_TOOL_PANEL_SIZE_CHANGED,width:n,started:t,ended:e};this.eventService.dispatchEvent(i)},e.prototype.onResizeStart=function(){this.startingWidth=this.elementToResize.offsetWidth,this.dispatchResizeEvent(!0,!1,this.startingWidth)},e.prototype.onResizeEnd=function(t){return this.onResizing(t,!0)},e.prototype.onResizing=function(t,e){void 0===e&&(e=!1);var n=this.inverted?-1:1,i=Math.max(this.minWidth,Math.floor(this.startingWidth-t*n));null!=this.maxWidth&&(i=Math.min(this.maxWidth,i)),this.elementToResize.style.width=i+"px",this.dispatchResizeEvent(!1,e,i)},e.prototype.setInverted=function(t){this.inverted=t},e.prototype.setMaxWidth=function(t){this.maxWidth=t},e.prototype.setMinWidth=function(t){this.minWidth=null!=t?t:100},__decorate$26([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("horizontalResizeService")],e.prototype,"horizontalResizeService",void 0),__decorate$26([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$2W=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$25=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},SideBarButtonComp=function(t){function e(e){var n=t.call(this)||this;return n.toolPanelDef=e,n}return __extends$2W(e,t),e.prototype.getToolPanelId=function(){return this.toolPanelDef.id},e.prototype.postConstruct=function(){var t=this.createTemplate();this.setTemplate(t),this.setLabel(),this.setIcon(),this.addManagedListener(this.eToggleButton,"click",this.onButtonPressed.bind(this))},e.prototype.createTemplate=function(){return'<div class="ag-side-button" role="presentation">\n                <button type="button" ref="eToggleButton" tabindex="-1" role="tab" class="ag-side-button-button">\n                    <div ref="eIconWrapper" class="ag-side-button-icon-wrapper" aria-hidden="true"></div>\n                    <span ref ="eLabel" class="ag-side-button-label"></span>\n                </button>\n            </div>'},e.prototype.setLabel=function(){var t=this.localeService.getLocaleTextFunc(),e=this.toolPanelDef,n=t(e.labelKey,e.labelDefault);this.eLabel.innerText=n},e.prototype.setIcon=function(){this.eIconWrapper.insertAdjacentElement("afterbegin",ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan(this.toolPanelDef.iconKey,this.gridOptionsService))},e.prototype.onButtonPressed=function(){this.dispatchEvent({type:e.EVENT_TOGGLE_BUTTON_CLICKED})},e.prototype.setSelected=function(t){this.addOrRemoveCssClass("ag-selected",t)},e.EVENT_TOGGLE_BUTTON_CLICKED="toggleButtonClicked",__decorate$25([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eToggleButton")],e.prototype,"eToggleButton",void 0),__decorate$25([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eIconWrapper")],e.prototype,"eIconWrapper",void 0),__decorate$25([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eLabel")],e.prototype,"eLabel",void 0),__decorate$25([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$2V=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$24=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},SideBarButtonsComp=function(t){function e(){var n=t.call(this,e.TEMPLATE)||this;return n.buttonComps=[],n}return __extends$2V(e,t),e.prototype.postConstruct=function(){this.addManagedListener(this.getFocusableElement(),"keydown",this.handleKeyDown.bind(this))},e.prototype.handleKeyDown=function(t){if(t.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.TAB&&t.shiftKey){var e=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(this.columnModel.getAllDisplayedColumns());this.focusService.focusGridView(e,!0)&&t.preventDefault()}},e.prototype.setToolPanelDefs=function(t){t.forEach(this.addButtonComp.bind(this))},e.prototype.setActiveButton=function(t){this.buttonComps.forEach((function(e){e.setSelected(t===e.getToolPanelId())}))},e.prototype.addButtonComp=function(t){var n=this,i=this.createBean(new SideBarButtonComp(t));this.buttonComps.push(i),this.appendChild(i),i.addEventListener(SideBarButtonComp.EVENT_TOGGLE_BUTTON_CLICKED,(function(){n.dispatchEvent({type:e.EVENT_SIDE_BAR_BUTTON_CLICKED,toolPanelId:t.id})}))},e.prototype.clearButtons=function(){this.buttonComps=this.destroyBeans(this.buttonComps),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.clearElement(this.getGui())},e.EVENT_SIDE_BAR_BUTTON_CLICKED="sideBarButtonClicked",e.TEMPLATE='<div class="ag-side-buttons" role="tablist"></div>',__decorate$24([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("focusService")],e.prototype,"focusService",void 0),__decorate$24([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$24([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),__decorate$24([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FXL],e.prototype,"clearButtons",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),SideBarDefParser=function(){function t(){}return t.parse=function(e){if(e){if(!0===e)return{toolPanels:[t.DEFAULT_COLUMN_COMP,t.DEFAULT_FILTER_COMP],defaultToolPanel:"columns"};if("string"==typeof e)return t.parse([e]);if(Array.isArray(e)){var n=[];if(e.forEach((function(e){var i=t.DEFAULT_BY_KEY[e];i?n.push(i):console.warn("AG Grid: the key "+e+" is not a valid key for specifying a tool panel, valid keys are: "+Object.keys(t.DEFAULT_BY_KEY).join(","))})),0===n.length)return;return{toolPanels:n,defaultToolPanel:n[0].id}}return{toolPanels:t.parseComponents(e.toolPanels),defaultToolPanel:e.defaultToolPanel,hiddenByDefault:e.hiddenByDefault,position:e.position}}},t.parseComponents=function(e){var n=[];return e?(e.forEach((function(e){var i=null;if("string"==typeof e){var o=t.DEFAULT_BY_KEY[e];if(!o)return void console.warn("AG Grid: the key "+e+" is not a valid key for specifying a tool panel, valid keys are: "+Object.keys(t.DEFAULT_BY_KEY).join(","));i=o}else i=e;n.push(i)})),n):n},t.DEFAULT_COLUMN_COMP={id:"columns",labelDefault:"Columns",labelKey:"columns",iconKey:"columns",toolPanel:"agColumnsToolPanel"},t.DEFAULT_FILTER_COMP={id:"filters",labelDefault:"Filters",labelKey:"filters",iconKey:"filter",toolPanel:"agFiltersToolPanel"},t.DEFAULT_BY_KEY={columns:t.DEFAULT_COLUMN_COMP,filters:t.DEFAULT_FILTER_COMP},t}(),__extends$2U=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$23=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},ToolPanelWrapper=function(t){function e(){return t.call(this,e.TEMPLATE)||this}return __extends$2U(e,t),e.prototype.setupResize=function(){var t=this.getGui(),e=this.resizeBar=this.createManagedBean(new HorizontalResizeComp);e.setElementToResize(t),this.appendChild(e)},e.prototype.getToolPanelId=function(){return this.toolPanelId},e.prototype.setToolPanelDef=function(t){var e=t.id,n=t.minWidth,i=t.maxWidth,o=t.width;this.toolPanelId=e,this.width=o;var r=this.userComponentFactory.getToolPanelCompDetails(t,{}).newAgStackInstance();null!=r?(r.then(this.setToolPanelComponent.bind(this)),null!=n&&this.resizeBar.setMinWidth(n),null!=i&&this.resizeBar.setMaxWidth(i)):console.warn("AG Grid: error processing tool panel component "+e+". You need to specify either 'toolPanel' or 'toolPanelFramework'")},e.prototype.setToolPanelComponent=function(t){var e=this;this.toolPanelCompInstance=t,this.appendChild(t.getGui()),this.addDestroyFunc((function(){e.destroyBean(t)})),this.width&&(this.getGui().style.width=this.width+"px")},e.prototype.getToolPanelInstance=function(){return this.toolPanelCompInstance},e.prototype.setResizerSizerSide=function(t){var e="left"===t,n=this.gridOptionsService.is("enableRtl")?e:!e;this.resizeBar.setInverted(n)},e.prototype.refresh=function(){this.toolPanelCompInstance.refresh()},e.TEMPLATE='<div class="ag-tool-panel-wrapper"/>',__decorate$23([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("userComponentFactory")],e.prototype,"userComponentFactory",void 0),__decorate$23([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"setupResize",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$2T=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$22=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},SideBarComp=function(t){function e(){var n=t.call(this,e.TEMPLATE)||this;return n.toolPanelWrappers=[],n}return __extends$2T(e,t),e.prototype.postConstruct=function(){var t=this;this.sideBarButtonsComp.addEventListener(SideBarButtonsComp.EVENT_SIDE_BAR_BUTTON_CLICKED,this.onToolPanelButtonClicked.bind(this)),this.setSideBarDef(),this.addManagedPropertyListener("sideBar",(function(){t.clearDownUi(),t.setSideBarDef()})),this.gridApi.registerSideBarComp(this),this.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.D_6(this.getFocusableElement(),{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this)}))},e.prototype.onTabKeyDown=function(t){if(!t.defaultPrevented){var e=this.focusService,n=this.sideBarButtonsComp,i=this.getGui(),o=n.getGui(),r=this.gridOptionsService.getDocument().activeElement,s=i.querySelector(".ag-tool-panel-wrapper:not(.ag-hidden)"),a=t.target;if(s)if(o.contains(r))e.focusInto(s,t.shiftKey)&&t.preventDefault();else if(t.shiftKey){var l=null;s.contains(r)?l=this.focusService.findNextFocusableElement(s,void 0,!0):e.isTargetUnderManagedComponent(s,a)&&t.shiftKey&&(l=this.focusService.findFocusableElementBeforeTabGuard(s,a)),l||(l=o.querySelector(".ag-selected button")),l&&(t.preventDefault(),l.focus())}}},e.prototype.handleKeyDown=function(t){var e=this.gridOptionsService.getDocument();if(this.sideBarButtonsComp.getGui().contains(e.activeElement)){var n=this.sideBarButtonsComp.getGui(),i=Array.prototype.slice.call(n.querySelectorAll(".ag-side-button")),o=e.activeElement,r=i.findIndex((function(t){return t.contains(o)})),s=null;switch(t.key){case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.LEFT:case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.UP:s=Math.max(0,r-1);break;case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.RIGHT:case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.DOWN:s=Math.min(r+1,i.length-1)}if(null!==s){var a=i[s].querySelector("button");a&&(a.focus(),t.preventDefault())}}},e.prototype.onToolPanelButtonClicked=function(t){var e=t.toolPanelId;this.openedItem()===e?this.openToolPanel(void 0,"sideBarButtonClicked"):this.openToolPanel(e,"sideBarButtonClicked")},e.prototype.clearDownUi=function(){this.sideBarButtonsComp.clearButtons(),this.destroyToolPanelWrappers()},e.prototype.setSideBarDef=function(){this.setDisplayed(!1);var t=this.gridOptionsService.get("sideBar");if(this.sideBar=SideBarDefParser.parse(t),this.sideBar&&this.sideBar.toolPanels){var e=!this.sideBar.hiddenByDefault;this.setDisplayed(e);var n=this.sideBar.toolPanels;this.sideBarButtonsComp.setToolPanelDefs(n),this.setupToolPanels(n),this.setSideBarPosition(this.sideBar.position),this.sideBar.hiddenByDefault||this.openToolPanel(this.sideBar.defaultToolPanel,"sideBarInitializing")}},e.prototype.getDef=function(){return this.sideBar},e.prototype.setSideBarPosition=function(t){t||(t="right");var e="left"===t,n=e?"right":"left";return this.addOrRemoveCssClass("ag-side-bar-left",e),this.addOrRemoveCssClass("ag-side-bar-right",!e),this.toolPanelWrappers.forEach((function(t){t.setResizerSizerSide(n)})),this},e.prototype.setupToolPanels=function(t){var e=this;t.forEach((function(t){if(null!=t.id){if("agColumnsToolPanel"===t.toolPanel)if(!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.assertRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.ColumnsToolPanelModule,"Column Tool Panel"))return;if("agFiltersToolPanel"===t.toolPanel)if(!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.assertRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.FiltersToolPanelModule,"Filters Tool Panel"))return;var n=new ToolPanelWrapper;e.getContext().createBean(n),n.setToolPanelDef(t),n.setDisplayed(!1),e.getGui().appendChild(n.getGui()),e.toolPanelWrappers.push(n)}else console.warn("AG Grid: please review all your toolPanel components, it seems like at least one of them doesn't have an id")}))},e.prototype.refresh=function(){this.toolPanelWrappers.forEach((function(t){return t.refresh()}))},e.prototype.openToolPanel=function(t,e){void 0===e&&(e="api");var n=this.openedItem();n!==t&&(this.toolPanelWrappers.forEach((function(e){var n=t===e.getToolPanelId();e.setDisplayed(n)})),n!==this.openedItem()&&(this.sideBarButtonsComp.setActiveButton(t),this.raiseToolPanelVisibleEvent(t,null!=n?n:void 0,e)))},e.prototype.getToolPanelInstance=function(t){var e=this.toolPanelWrappers.filter((function(e){return e.getToolPanelId()===t}))[0];if(e)return e.getToolPanelInstance();console.warn("AG Grid: unable to lookup Tool Panel as invalid key supplied: "+t)},e.prototype.raiseToolPanelVisibleEvent=function(t,e,n){var i={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_TOOL_PANEL_VISIBLE_CHANGED,source:t};if(this.eventService.dispatchEvent(i),e){var o={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_INTERNAL_TOOL_PANEL_VISIBLE_CHANGED,source:n,key:e,visible:!1};this.eventService.dispatchEvent(o)}if(t){var r={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_INTERNAL_TOOL_PANEL_VISIBLE_CHANGED,source:n,key:t,visible:!0};this.eventService.dispatchEvent(r)}},e.prototype.close=function(t){void 0===t&&(t="api"),this.openToolPanel(void 0,t)},e.prototype.isToolPanelShowing=function(){return!!this.openedItem()},e.prototype.openedItem=function(){var t=null;return this.toolPanelWrappers.forEach((function(e){e.isDisplayed()&&(t=e.getToolPanelId())})),t},e.prototype.destroyToolPanelWrappers=function(){var t=this;this.toolPanelWrappers.forEach((function(e){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromParent(e.getGui()),t.destroyBean(e)})),this.toolPanelWrappers.length=0},e.prototype.destroy=function(){this.destroyToolPanelWrappers(),t.prototype.destroy.call(this)},e.TEMPLATE='<div class="ag-side-bar ag-unselectable">\n            <ag-side-bar-buttons ref="sideBarButtons"></ag-side-bar-buttons>\n        </div>',__decorate$22([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],e.prototype,"gridApi",void 0),__decorate$22([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("focusService")],e.prototype,"focusService",void 0),__decorate$22([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("sideBarButtons")],e.prototype,"sideBarButtonsComp",void 0),__decorate$22([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$2S=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$21=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},ToolPanelColDefService=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isColGroupDef=function(t){return t&&void 0!==t.children},e.getId=function(t){return e.isColGroupDef(t)?t.groupId:t.colId},e}return __extends$2S(e,t),e.prototype.createColumnTree=function(t){var e=this,n=[],i=function(t,o){if(e.isColGroupDef(t)){var r=t,s=void 0!==r.groupId?r.groupId:r.headerName,a=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KTm(r,s,!1,o),l=[];return r.children.forEach((function(t){var e=i(t,o+1);e&&l.push(e)})),a.setChildren(l),a}var c=t,u=c.colId?c.colId:c.field,h=e.columnModel.getPrimaryColumn(u);return h||n.push(c),h},o=[];return t.forEach((function(t){var e=i(t,0);e&&o.push(e)})),n.length>0&&console.warn("AG Grid: unable to find grid columns for the supplied colDef(s):",n),o},e.prototype.syncLayoutWithGrid=function(t){var e=this.getLeafPathTrees();t(this.mergeLeafPathTrees(e))},e.prototype.getLeafPathTrees=function(){var t=function(e,n){var i;if(e instanceof ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KTm)if(e.isPadding())i=n;else{var o=Object.assign({},e.getColGroupDef());o.groupId=e.getGroupId(),o.children=[n],i=o}else{var r=Object.assign({},e.getColDef());r.colId=e.getColId(),i=r}var s=e.getOriginalParent();return s?t(s,i):i},e=this.columnModel.getAllGridColumns().filter((function(t){var e=t.getColDef();return t.isPrimary()&&!e.showRowGroup}));return e.map((function(e){return t(e,e.getColDef())}))},e.prototype.mergeLeafPathTrees=function(t){for(var e,n,i=this,o=function(t,e){if(!i.isColGroupDef(e))return t;var n=t,r=e;if(r.children&&r.groupId&&i.addChildrenToGroup(n,r.groupId,r.children[0]))return n;return r.children.forEach((function(t){return o(n,t)})),n},r=[],s=1;s<=t.length;s++){var a=t[s-1],l=t[s];e=a,n=l,i.isColGroupDef(e)&&i.isColGroupDef(n)&&i.getId(e)===i.getId(n)?t[s]=o(a,l):r.push(a)}return r},e.prototype.addChildrenToGroup=function(t,e,n){var i=this;if(!this.isColGroupDef(t))return!0;var o=t,r=n;if(function(t,e){var n=t.children.map(i.getId),o=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(n,i.getId(e)),r=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(t.children),s=r&&i.getId(r)!==i.getId(e);return o&&s}(o,r))return o.children.push(r),!0;if(o.groupId===e){var s=o.children.map(this.getId);if(!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(s,this.getId(r)))return o.children.push(r),!0}return o.children.forEach((function(t){return i.addChildrenToGroup(t,e,n)})),!1},__decorate$21([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),e=__decorate$21([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("toolPanelColDefService")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),VERSION$f="29.3.4",SideBarModule={version:VERSION$f,moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.SideBarModule,beans:[ToolPanelColDefService],agStackComponents:[{componentName:"AgHorizontalResize",componentClass:HorizontalResizeComp},{componentName:"AgSideBar",componentClass:SideBarComp},{componentName:"AgSideBarButtons",componentClass:SideBarButtonsComp}],dependantModules:[EnterpriseCoreModule]},__decorate$20=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},ModelItemUtils=function(){function t(){}return t.prototype.selectAllChildren=function(t,e,n){var i=this.extractAllLeafColumns(t);this.setAllColumns(i,e,n)},t.prototype.setColumn=function(t,e,n){this.setAllColumns([t],e,n)},t.prototype.setAllColumns=function(t,e,n){this.columnModel.isPivotMode()?this.setAllPivot(t,e,n):this.setAllVisible(t,e,n)},t.prototype.extractAllLeafColumns=function(t){var e=[],n=function(t){t.forEach((function(t){t.isPassesFilter()&&(t.isGroup()?n(t.getChildren()):e.push(t.getColumn()))}))};return n(t),e},t.prototype.setAllVisible=function(t,e,n){var i=[];t.forEach((function(t){t.getColDef().lockVisible||t.isVisible()!=e&&i.push({colId:t.getId(),hide:!e})})),i.length>0&&this.columnModel.applyColumnState({state:i},n)},t.prototype.setAllPivot=function(t,e,n){this.gridOptionsService.is("functionsPassive")?this.setAllPivotPassive(t,e):this.setAllPivotActive(t,e,n)},t.prototype.setAllPivotPassive=function(t,e){var n=this.columnModel.getPivotColumns().slice(),i=this.columnModel.getValueColumns().slice(),o=this.columnModel.getRowGroupColumns().slice(),r=!1,s=!1,a=!1,l=e?function(t){t.isAnyFunctionActive()||(t.isAllowValue()?(i.push(t),s=!0):t.isAllowRowGroup()?(o.push(t),r=!0):t.isAllowPivot()&&(n.push(t),a=!0))}:function(t){t.isAnyFunctionActive()&&(n.indexOf(t)>=0&&(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromArray(n,t),r=!0),i.indexOf(t)>=0&&(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromArray(i,t),s=!0),o.indexOf(t)>=0&&(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromArray(o,t),a=!0))};if(t.forEach(l),r){var c={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PIVOT_CHANGE_REQUEST,columns:n};this.eventService.dispatchEvent(c)}if(a){var u={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST,columns:o};this.eventService.dispatchEvent(u)}if(s){var h={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_VALUE_CHANGE_REQUEST,columns:o};this.eventService.dispatchEvent(h)}},t.prototype.setAllPivotActive=function(t,e,n){var i=this,o=[],r=e?function(t){if(!t.isAnyFunctionActive())if(t.isAllowValue()){var e="string"==typeof t.getAggFunc()?t.getAggFunc():i.aggFuncService.getDefaultAggFunc(t);o.push({colId:t.getId(),aggFunc:e})}else t.isAllowRowGroup()?o.push({colId:t.getId(),rowGroup:!0}):t.isAllowPivot()&&o.push({colId:t.getId(),pivot:!0})}:function(t){(t.isPivotActive()||t.isRowGroupActive()||t.isValueActive())&&o.push({colId:t.getId(),pivot:!1,rowGroup:!1,aggFunc:null})};t.forEach(r),o.length>0&&this.columnModel.applyColumnState({state:o},n)},__decorate$20([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("aggFuncService")],t.prototype,"aggFuncService",void 0),__decorate$20([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],t.prototype,"columnModel",void 0),__decorate$20([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridOptionsService")],t.prototype,"gridOptionsService",void 0),__decorate$20([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("eventService")],t.prototype,"eventService",void 0),t=__decorate$20([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("modelItemUtils")],t)}(),VERSION$e="29.3.4",ColumnsToolPanelModule={version:VERSION$e,moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.ColumnsToolPanelModule,beans:[ModelItemUtils],agStackComponents:[{componentName:"AgPrimaryColsHeader",componentClass:PrimaryColsHeaderPanel},{componentName:"AgPrimaryColsList",componentClass:PrimaryColsListPanel},{componentName:"AgPrimaryCols",componentClass:PrimaryColsPanel}],userComponents:[{componentName:"agColumnsToolPanel",componentClass:ColumnToolPanel}],dependantModules:[EnterpriseCoreModule,RowGroupingModule,SideBarModule]},workbook={getTemplate:function(){return{name:"Workbook",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",html:"http://www.w3.org/TR/REC-html40"}}],rawMap:{xmlns:"urn:schemas-microsoft-com:office:spreadsheet"}}}}},excelWorkbook={getTemplate:function(){return{name:"ExcelWorkbook",properties:{rawMap:{xmlns:"urn:schemas-microsoft-com:office:excel"}},children:[{name:"WindowHeight",textNode:"8130"},{name:"WindowWidth",textNode:"15135"},{name:"WindowHeight",textNode:"8130"},{name:"WindowTopX",textNode:"120"},{name:"WindowTopY",textNode:"45"},{name:"ProtectStructure",textNode:"False"},{name:"ProtectWindow",textNode:"False"}]}}},column={getTemplate:function(t){return{name:"Column",properties:{prefixedAttributes:[{prefix:"ss:",map:{Width:t.width}}]}}}},cell={getTemplate:function(t){var e=t.mergeAcross,n=t.styleId,i=t.data,o={};return e&&(o.MergeAcross=e),n&&(o.StyleID=n),{name:"Cell",properties:{prefixedAttributes:[{prefix:"ss:",map:o}]},children:[{name:"Data",properties:{prefixedAttributes:[{prefix:"ss:",map:{Type:null==i?void 0:i.type}}]},textNode:null==i?void 0:i.value}]}}},row={getTemplate:function(t){return{name:"Row",children:t.cells.map((function(t){return cell.getTemplate(t)}))}}},worksheet={getTemplate:function(t){var e=t.table,n=t.name,i=e.columns,o=e.rows,r=i.map((function(t){return column.getTemplate(t)})),s=o.map((function(t){return row.getTemplate(t)}));return{name:"Worksheet",children:[{name:"Table",children:r.concat(s)}],properties:{prefixedAttributes:[{prefix:"ss:",map:{Name:n}}]}}}},documentProperties={getTemplate:function(){return{name:"DocumentProperties",properties:{rawMap:{xmlns:"urn:schemas-microsoft-com:office:office"}},children:[{name:"Version",textNode:"12.00"}]}}},alignment={getTemplate:function(t){var e=t.alignment;return{name:"Alignment",properties:{prefixedAttributes:[{prefix:"ss:",map:{Vertical:e.vertical,Horizontal:e.horizontal,Indent:e.indent,ReadingOrder:e.readingOrder,Rotate:e.rotate,ShrinkToFit:e.shrinkToFit,VerticalText:e.verticalText,WrapText:e.wrapText}}]}}}},borders={getTemplate:function(t){var e=t.borders;return{name:"Borders",children:[e.borderBottom,e.borderLeft,e.borderRight,e.borderTop].map((function(t,e){return{name:"Border",properties:{prefixedAttributes:[{prefix:"ss:",map:{Position:0==e?"Bottom":1==e?"Left":2==e?"Right":"Top",LineStyle:t.lineStyle,Weight:t.weight,Color:t.color}}]}}}))}}},font={getTemplate:function(t){var e=t.font;return{name:"Font",properties:{prefixedAttributes:[{prefix:"ss:",map:{Bold:e.bold,FontName:e.fontName,Italic:e.italic,Color:e.color,Outline:e.outline,Shadow:e.shadow,Size:e.size,StrikeThrough:e.strikeThrough,Underline:e.underline,VerticalAlign:e.verticalAlign}},{prefix:"x:",map:{CharSet:e.charSet,Family:e.family}}]}}}},interior={getTemplate:function(t){var e=t.interior;return{name:"Interior",properties:{prefixedAttributes:[{prefix:"ss:",map:{Color:e.color,Pattern:e.pattern,PatternColor:e.patternColor}}]}}}},protection={getTemplate:function(t){return{name:"Protection",properties:{prefixedAttributes:[{prefix:"ss:",map:{Protected:t.protection.protected,HideFormula:t.protection.hideFormula}}]}}}},numberFormat={getTemplate:function(t){return{name:"NumberFormat",properties:{prefixedAttributes:[{prefix:"ss:",map:{Format:t.numberFormat.format}}]}}}},style={getTemplate:function(t){var e=t.id,n=t.name;return{name:"Style",properties:{prefixedAttributes:[{prefix:"ss:",map:{ID:e,Name:n||e}}]}}}},ExcelXmlFactory=function(){function t(){}return t.createExcel=function(t,e){var n=this.excelXmlHeader(),i=documentProperties.getTemplate(),o=excelWorkbook.getTemplate(),r=this.workbook(i,o,t,e);return""+n+ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.IUB.createXml(r,(function(t){return t?"1":"0"}))},t.workbook=function(t,e,n,i){var o=[t,e,this.stylesXmlElement(n)].concat(worksheet.getTemplate(i));return Object.assign({},workbook.getTemplate(),{children:o})},t.excelXmlHeader=function(){return'<?xml version="1.0" ?>\n        <?mso-application progid="Excel.Sheet" ?>\n        '},t.stylesXmlElement=function(t){var e=this;return{name:"Styles",children:t?t.map((function(t){return e.styleXmlElement(t)})):[]}},t.styleXmlElement=function(t){var e=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.compose(this.addProperty("alignment",t),this.addProperty("borders",t),this.addProperty("font",t),this.addProperty("interior",t),this.addProperty("protection",t),this.addProperty("numberFormat",t))([]);return Object.assign({},style.getTemplate(t),{children:e})},t.addProperty=function(t,e){return function(n){if(!e[t])return n;var i={alignment,borders,font,interior,numberFormat,protection};return n.concat(i[t].getTemplate(e))}},t.factoryMode=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.nPL.SINGLE_SHEET,t}(),INCH_TO_EMU=9525,numberFormatMap={0:1,"0.00":2,"#,##0":3,"#,##0.00":4,"0%":9,"0.00%":10,"0.00E+00":11,"# ?/?":12,"# ??/??":13,"mm-dd-yy":14,"d-mmm-yy":15,"d-mmm":16,"mmm-yy":17,"h:mm AM/PM":18,"h:mm:ss AM/PM":19,"h:mm":20,"h:mm:ss":21,"m/d/yy h:mm":22,"#,##0 ;(#,##0)":37,"#,##0 ;[Red](#,##0)":38,"#,##0.00;(#,##0.00)":39,"#,##0.00;[Red](#,##0.00)":40,"mm:ss":45,"[h]:mm:ss":46,"mmss.0":47,"##0.0E+0":48,"@":49},pixelsToPoint=function(t){return Math.round(72*t/96)},pointsToPixel=function(t){return Math.round(96*t/72)},pixelsToEMU=function(t){return Math.ceil(t*INCH_TO_EMU)},getFontFamilyId=function(t){if(void 0!==t){var e=["Automatic","Roman","Swiss","Modern","Script","Decorative"].indexOf(t||"Automatic");return Math.max(e,0)}},getHeightFromProperty=function(t,e){if(e){var n;if("number"==typeof e)n=e;else n=e({rowIndex:t});return pixelsToPoint(n)}},setExcelImageTotalWidth=function(t,e){var n=t.position,i=n.colSpan,o=n.column;if(t.width)if(i)for(var r=e.slice(o-1,o+i-1),s=0,a=0;a<r.length;a++){var l=r[a].getActualWidth();if(t.width<s+l){t.position.colSpan=a+1,t.totalWidth=t.width,t.width=t.totalWidth-s;break}s+=l}else t.totalWidth=t.width},setExcelImageTotalHeight=function(t,e){var n=t.position,i=n.rowSpan,o=n.row;if(t.height)if(i)for(var r=0,s=0,a=o;a<o+i;a++){var l=pointsToPixel(getHeightFromProperty(a,e)||20);if(t.height<r+l){t.position.rowSpan=s+1,t.totalHeight=t.height,t.height=t.totalHeight-r;break}r+=l,s++}else t.totalHeight=t.height},createXmlPart=function(t){return""+ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.IUB.createHeader({encoding:"UTF-8",standalone:"yes"})+ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.IUB.createXml(t)},getExcelColumnName=function(t){var e=String.fromCharCode,n=Math.floor(t/26),i=t%26;return n&&26!==t?i?n<26?e(65+n-1)+e(65+i-1):getExcelColumnName(n)+e(65+i-1):getExcelColumnName(n-1)+"Z":e(65+t-1)},__extends$2R=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__assign$M=function(){return __assign$M=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},__assign$M.apply(this,arguments)},__read$17=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},__spread$F=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$17(arguments[e]));return t},BaseExcelSerializingSession=function(t){function e(e){var n=t.call(this,e)||this;return n.mixedStyles={},n.mixedStyleCounter=0,n.rows=[],n.config=Object.assign({},e),n.stylesByIds={},n.config.baseExcelStyles.forEach((function(t){n.stylesByIds[t.id]=t})),n.excelStyles=__spread$F(n.config.baseExcelStyles),n}return __extends$2R(e,t),e.prototype.addCustomContent=function(t){var e=this;t.forEach((function(t){var n=e.rows.length+1,i={height:getHeightFromProperty(n,t.height||e.config.rowHeight),cells:(t.cells||[]).map((function(t,i){var o,r,s,a=e.addImage(n,e.columnsToExport[i],null===(o=t.data)||void 0===o?void 0:o.value),l=null;t.styleId&&(l="string"==typeof t.styleId?[t.styleId]:t.styleId);var c=e.getStyleId(l);if(a)return e.createCell(c,e.getDataTypeForValue(a.value),null==a.value?"":a.value);var u=null!==(s=null===(r=t.data)||void 0===r?void 0:r.value)&&void 0!==s?s:"",h=e.getDataTypeForValue(u);return t.mergeAcross?e.createMergedCell(c,h,u,t.mergeAcross):e.createCell(c,h,u)})),outlineLevel:t.outlineLevel||void 0};null!=t.collapsed&&(i.collapsed=t.collapsed),null!=t.hidden&&(i.hidden=t.hidden),e.rows.push(i)}))},e.prototype.onNewHeaderGroupingRow=function(){var t=this,e=[];return this.rows.push({cells:e,height:getHeightFromProperty(this.rows.length+1,this.config.headerRowHeight)}),{onColumn:function(n,i,o,r,s){var a=t.config.styleLinker({rowType:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.aCu.HEADER_GROUPING,rowIndex:1,value:"grouping-"+i,columnGroup:n});e.push(__assign$M(__assign$M({},t.createMergedCell(t.getStyleId(a),t.getDataTypeForValue("string"),i,r)),{collapsibleRanges:s}))}}},e.prototype.onNewHeaderRow=function(){return this.onNewRow(this.onNewHeaderColumn,this.config.headerRowHeight)},e.prototype.onNewBodyRow=function(){return this.onNewRow(this.onNewBodyColumn,this.config.rowHeight)},e.prototype.prepare=function(e){var n=this;t.prototype.prepare.call(this,e),this.columnsToExport=__spread$F(e),this.cols=e.map((function(t,e){return n.convertColumnToExcel(t,e)}))},e.prototype.parse=function(){for(var t=this.rows.reduce((function(t,e){return Math.max(t,e.cells.length)}),0);this.cols.length<t;)this.cols.push(this.convertColumnToExcel(null,this.cols.length+1));var e={name:this.config.sheetName,table:{columns:this.cols,rows:this.rows}};return this.createExcel(e)},e.prototype.isFormula=function(t){return null!=t&&(this.config.autoConvertFormulas&&t.toString().startsWith("="))},e.prototype.isNumerical=function(t){return isFinite(t)&&""!==t&&!isNaN(parseFloat(t))},e.prototype.getStyleById=function(t){return null==t?null:this.stylesByIds[t]||null},e.prototype.convertColumnToExcel=function(t,e){var n=this.config.columnWidth;if(n)return"number"==typeof n?{width:n}:{width:n({column:t,index:e})};if(t){return{width:Math.max(t.getActualWidth(),75)}}return{}},e.prototype.onNewHeaderColumn=function(t,e){var n=this;return function(i,o){var r=n.extractHeaderValue(i),s=n.config.styleLinker({rowType:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.aCu.HEADER,rowIndex:t,value:r,column:i});e.push(n.createCell(n.getStyleId(s),n.getDataTypeForValue("string"),r))}},e.prototype.onNewRow=function(t,e){var n=[];return this.rows.push({cells:n,height:getHeightFromProperty(this.rows.length+1,e)}),{onColumn:t.bind(this,this.rows.length,n)()}},e.prototype.onNewBodyColumn=function(t,e){var n=this,i=0;return function(o,r,s){if(i>0)i-=1;else{if(!n.config.gridOptionsService.is("groupHideOpenParents")&&null!=s.level){var a=s.footer?1:0;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(n.rows).outlineLevel=s.level+a}var l=n.extractRowCellValue(o,r,t,"excel",s),c=n.config.styleLinker({rowType:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.aCu.BODY,rowIndex:t,value:l,column:o,node:s}),u=n.getStyleId(c),h=o.getColSpan(s),d=n.addImage(t,o,l);d?e.push(n.createCell(u,n.getDataTypeForValue(d.value),null==d.value?"":d.value)):h>1?(i=h-1,e.push(n.createMergedCell(u,n.getDataTypeForValue(l),l,h-1))):e.push(n.createCell(u,n.getDataTypeForValue(l),l))}}},e.prototype.getStyleId=function(t){if(!t||!t.length)return null;if(1===t.length)return t[0];var e=t.join("-");return this.mixedStyles[e]||this.addNewMixedStyle(t),this.mixedStyles[e].excelID},e.prototype.addNewMixedStyle=function(t){var e=this;this.mixedStyleCounter+=1;var n="mixedStyle"+this.mixedStyleCounter,i={};t.forEach((function(t){e.excelStyles.forEach((function(e){e.id===t&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.mergeDeep(i,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.deepCloneObject(e))}))})),i.id=n,i.name=n;var o=t.join("-");this.mixedStyles[o]={excelID:n,key:o,result:i},this.excelStyles.push(i),this.stylesByIds[n]=i},e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.WKU),__extends$2Q=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ExcelXmlSerializingSession=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$2Q(e,t),e.prototype.createExcel=function(t){return ExcelXmlFactory.createExcel(this.excelStyles,t)},e.prototype.getDataTypeForValue=function(t){return this.isNumerical(t)?"Number":"String"},e.prototype.getType=function(t,e,n){if(this.isFormula(n))return"Formula";if(e&&e.dataType)switch(e.dataType.toLocaleLowerCase()){case"string":return"Formula";case"number":return"Number";case"datetime":return"DateTime";case"error":return"Error";case"boolean":return"Boolean";default:console.warn("AG Grid: Unrecognized data type for excel export ["+e.id+".dataType="+e.dataType+"]")}return t},e.prototype.addImage=function(){},e.prototype.createCell=function(t,e,n){var i=this.getStyleById(t),o=this.getType(e,i,n)||e;return{styleId:i?t:void 0,data:{type:o,value:this.getValueTransformed(o,n)}}},e.prototype.getValueTransformed=function(t,e){var n,i=this;switch(t){case"String":return function(t){if(i.config.suppressTextAsCDATA)return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.escapeString(t);var e="<![CDATA[",n="]]>",o=new RegExp(n,"g");return e+String(t).replace(o,"]]"+n+e+">")+n}(e);case"Number":return Number(e).valueOf()+"";case"Boolean":return(n=e)&&"0"!==n&&"false"!==n?"1":"0";default:return e}},e.prototype.createMergedCell=function(t,e,n,i){return{styleId:this.getStyleById(t)?t:void 0,data:{type:e,value:n},mergeAcross:i}},e}(BaseExcelSerializingSession),coreFactory={getTemplate:function(t){var e=(new Date).toJSON();return{name:"cp:coreProperties",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{cp:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",xsi:"http://www.w3.org/2001/XMLSchema-instance"}}]},children:[{name:"dc:creator",textNode:t},{name:"dc:title",textNode:"Workbook"},{name:"dcterms:created",properties:{rawMap:{"xsi:type":"dcterms:W3CDTF"}},textNode:e},{name:"dcterms:modified",properties:{rawMap:{"xsi:type":"dcterms:W3CDTF"}},textNode:e}]}}},contentTypeFactory={getTemplate:function(t){var e=t.name,n=t.ContentType;return{name:e,properties:{rawMap:{Extension:t.Extension,PartName:t.PartName,ContentType:n}}}}},__read$16=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},__spread$E=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$16(arguments[e]));return t},contentTypesFactory={getTemplate:function(t){var e=new Array(t).fill(void 0).map((function(t,e){return{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",PartName:"/xl/worksheets/sheet"+(e+1)+".xml"}})),n=ExcelXlsxFactory.worksheetImages.size,i={};ExcelXlsxFactory.workbookImageIds.forEach((function(t){i[t.type]=!0}));var o=new Array(n).fill(void 0).map((function(t,e){return{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.drawing+xml",PartName:"/xl/drawings/drawing"+(e+1)+".xml"}})),r=Object.keys(i).map((function(t){return{name:"Default",ContentType:"image/"+t,Extension:t}}));return{name:"Types",properties:{rawMap:{xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"}},children:__spread$E(r,[{name:"Default",Extension:"rels",ContentType:"application/vnd.openxmlformats-package.relationships+xml"},{name:"Default",ContentType:"application/xml",Extension:"xml"},{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",PartName:"/xl/workbook.xml"}],e,[{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.theme+xml",PartName:"/xl/theme/theme1.xml"},{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",PartName:"/xl/styles.xml"},{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",PartName:"/xl/sharedStrings.xml"}],o,[{name:"Override",ContentType:"application/vnd.openxmlformats-package.core-properties+xml",PartName:"/docProps/core.xml"}]).map((function(t){return contentTypeFactory.getTemplate(t)}))}}},getAnchor=function(t,e){return{name:"xdr:"+t,children:[{name:"xdr:col",textNode:e.col.toString()},{name:"xdr:colOff",textNode:e.offsetX.toString()},{name:"xdr:row",textNode:e.row.toString()},{name:"xdr:rowOff",textNode:e.offsetY.toString()}]}},getExt=function(t){var e=[{name:"a:ext",properties:{rawMap:{uri:"{FF2B5EF4-FFF2-40B4-BE49-F238E27FC236}"}},children:[{name:"a16:creationId",properties:{rawMap:{id:"{822E6D20-D7BC-2841-A643-D49A6EF008A2}","xmlns:a16":"http://schemas.microsoft.com/office/drawing/2014/main"}}}]}];switch(t.recolor&&t.recolor.toLowerCase()){case"grayscale":case"sepia":case"washout":e.push({name:"a:ext",properties:{rawMap:{uri:"{C183D7F6-B498-43B3-948B-1728B52AA6E4}"}},children:[{name:"adec:decorative",properties:{rawMap:{val:"0","xmlns:adec":"http://schemas.microsoft.com/office/drawing/2017/decorative"}}}]})}return{name:"a:extLst",children:e}},getNvPicPr=function(t,e){return{name:"xdr:nvPicPr",children:[{name:"xdr:cNvPr",properties:{rawMap:{id:e,name:t.id,descr:null!=t.altText?t.altText:void 0}},children:[getExt(t)]},{name:"xdr:cNvPicPr",properties:{rawMap:{preferRelativeResize:"0"}},children:[{name:"a:picLocks"}]}]}},getColorDetails=function(t){if(t.saturation||t.tint){var e=[];return t.saturation&&e.push({name:"a:satMod",properties:{rawMap:{val:1e3*t.saturation}}}),t.tint&&e.push({name:"a:tint",properties:{rawMap:{val:1e3*t.tint}}}),e}},getDuoTone=function(t,e){return{name:"a:duotone",children:[{name:"a:prstClr",properties:{rawMap:{val:t.color}},children:getColorDetails(t)},{name:"a:srgbClr",properties:{rawMap:{val:e.color}},children:getColorDetails(e)}]}},getBlipFill=function(t,e){var n;if(t.transparency){var i=Math.min(Math.max(t.transparency,0),100);n=[{name:"a:alphaModFix",properties:{rawMap:{amt:1e5-Math.round(1e3*i)}}}]}if(t.recolor)switch(n||(n=[]),t.recolor.toLocaleLowerCase()){case"grayscale":n.push({name:"a:grayscl"});break;case"sepia":n.push(getDuoTone({color:"black"},{color:"D9C3A5",tint:50,saturation:180}));break;case"washout":n.push({name:"a:lum",properties:{rawMap:{bright:"70000",contrast:"-70000"}}})}return{name:"xdr:blipFill",children:[{name:"a:blip",properties:{rawMap:{cstate:"print","r:embed":"rId"+e,"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships"}},children:n},{name:"a:stretch",children:[{name:"a:fillRect"}]}]}},getSpPr=function(t,e){var n={name:"a:xfrm",children:[{name:"a:off",properties:{rawMap:{x:0,y:0}}},{name:"a:ext",properties:{rawMap:{cx:e.width,cy:e.height}}}]};if(t.rotation){var i=t.rotation;n.properties={rawMap:{rot:6e4*Math.min(Math.max(i,0),360)}}}return{name:"xdr:spPr",children:[n,{name:"a:prstGeom",properties:{rawMap:{prst:"rect"}},children:[{name:"a:avLst"}]}]}},getImageBoxSize=function(t){t.fitCell=!!t.fitCell||!t.width||!t.height;var e=t.position,n=void 0===e?{}:e,i=t.fitCell,o=t.width,r=void 0===o?0:o,s=t.height,a=void 0===s?0:s,l=t.totalHeight,c=t.totalWidth,u=n.offsetX,h=void 0===u?0:u,d=n.offsetY,p=void 0===d?0:d,f=n.row,g=void 0===f?1:f,m=n.rowSpan,_=void 0===m?1:m,y=n.column,v=void 0===y?1:y,C=n.colSpan,b=void 0===C?1:C;return{from:{row:g-1,col:v-1,offsetX:pixelsToEMU(h),offsetY:pixelsToEMU(p)},to:{row:g-1+(i?1:_-1),col:v-1+(i?1:b-1),offsetX:pixelsToEMU(r+h),offsetY:pixelsToEMU(a+p)},height:pixelsToEMU(l||a),width:pixelsToEMU(c||r)}},getPicture=function(t,e,n,i){return{name:"xdr:pic",children:[getNvPicPr(t,e+1),getBlipFill(t,n+1),getSpPr(t,i)]}},drawingFactory={getTemplate:function(t){var e=t.sheetIndex,n=ExcelXlsxFactory.worksheetImages.get(e),i=ExcelXlsxFactory.worksheetImageIds.get(e);return{name:"xdr:wsDr",properties:{rawMap:{"xmlns:a":"http://schemas.openxmlformats.org/drawingml/2006/main","xmlns:xdr":"http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing"}},children:n.map((function(t,e){var n=getImageBoxSize(t);return{name:"xdr:twoCellAnchor",properties:{rawMap:{editAs:"absolute"}},children:[getAnchor("from",n.from),getAnchor("to",n.to),getPicture(t,e,i.get(t.id).index,n),{name:"xdr:clientData"}]}}))}}},__read$15=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},getColorChildren=function(t){var e=__read$15(t,4);return{name:"a:"+e[0],children:[{name:"a:"+e[1],properties:{rawMap:{val:e[2],lastClr:e[3]}}}]}},colorScheme={getTemplate:function(){return{name:"a:clrScheme",properties:{rawMap:{name:"Office"}},children:[getColorChildren(["dk1","sysClr","windowText","000000"]),getColorChildren(["lt1","sysClr","window","FFFFFF"]),getColorChildren(["dk2","srgbClr","44546A"]),getColorChildren(["lt2","srgbClr","E7E6E6"]),getColorChildren(["accent1","srgbClr","4472C4"]),getColorChildren(["accent2","srgbClr","ED7D31"]),getColorChildren(["accent3","srgbClr","A5A5A5"]),getColorChildren(["accent4","srgbClr","FFC000"]),getColorChildren(["accent5","srgbClr","5B9BD5"]),getColorChildren(["accent6","srgbClr","70AD47"]),getColorChildren(["hlink","srgbClr","0563C1"]),getColorChildren(["folHlink","srgbClr","954F72"])]}}},__read$14=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},getFont$1=function(t){var e=__read$14(t,4),n=e[0],i=e[1];return{name:"a:"+n,properties:{rawMap:{script:e[2],typeface:i,panose:e[3]}}}},fontScheme={getTemplate:function(){var t=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.utf8_encode;return{name:"a:fontScheme",properties:{rawMap:{name:"Office"}},children:[{name:"a:majorFont",children:[getFont$1(["latin","Calibri Light",void 0,"020F0302020204030204"]),getFont$1(["ea",""]),getFont$1(["cs",""]),getFont$1(["font",t(" Light"),"Jpan"]),getFont$1(["font",t(" "),"Hang"]),getFont$1(["font",t(" Light"),"Hans"]),getFont$1(["font",t(""),"Hant"]),getFont$1(["font","Times New Roman","Arab"]),getFont$1(["font","Times New Roman","Hebr"]),getFont$1(["font","Tahoma","Thai"]),getFont$1(["font","Nyala","Ethi"]),getFont$1(["font","Vrinda","Beng"]),getFont$1(["font","Shruti","Gujr"]),getFont$1(["font","MoolBoran","Khmr"]),getFont$1(["font","Tunga","Knda"]),getFont$1(["font","Raavi","Guru"]),getFont$1(["font","Euphemia","Cans"]),getFont$1(["font","Plantagenet Cherokee","Cher"]),getFont$1(["font","Microsoft Yi Baiti","Yiii"]),getFont$1(["font","Microsoft Himalaya","Tibt"]),getFont$1(["font","MV Boli","Thaa"]),getFont$1(["font","Mangal","Deva"]),getFont$1(["font","Gautami","Telu"]),getFont$1(["font","Latha","Taml"]),getFont$1(["font","Estrangelo Edessa","Syrc"]),getFont$1(["font","Kalinga","Orya"]),getFont$1(["font","Kartika","Mlym"]),getFont$1(["font","DokChampa","Laoo"]),getFont$1(["font","Iskoola Pota","Sinh"]),getFont$1(["font","Mongolian Baiti","Mong"]),getFont$1(["font","Times New Roman","Viet"]),getFont$1(["font","Microsoft Uighur","Uigh"]),getFont$1(["font","Sylfaen","Geor"]),getFont$1(["font","Arial","Armn"]),getFont$1(["font","Leelawadee UI","Bugi"]),getFont$1(["font","Microsoft JhengHei","Bopo"]),getFont$1(["font","Javanese Text","Java"]),getFont$1(["font","Segoe UI","Lisu"]),getFont$1(["font","Myanmar Text","Mymr"]),getFont$1(["font","Ebrima","Nkoo"]),getFont$1(["font","Nirmala UI","Olck"]),getFont$1(["font","Ebrima","Osma"]),getFont$1(["font","Phagspa","Phag"]),getFont$1(["font","Estrangelo Edessa","Syrn"]),getFont$1(["font","Estrangelo Edessa","Syrj"]),getFont$1(["font","Estrangelo Edessa","Syre"]),getFont$1(["font","Nirmala UI","Sora"]),getFont$1(["font","Microsoft Tai Le","Tale"]),getFont$1(["font","Microsoft New Tai Lue","Talu"]),getFont$1(["font","Ebrima","Tfng"])]},{name:"a:minorFont",children:[getFont$1(["latin","Calibri",void 0,"020F0502020204030204"]),getFont$1(["ea",""]),getFont$1(["cs",""]),getFont$1(["font",t(""),"Jpan"]),getFont$1(["font",t(" "),"Hang"]),getFont$1(["font",t(""),"Hans"]),getFont$1(["font",t(""),"Hant"]),getFont$1(["font","Arial","Arab"]),getFont$1(["font","Arial","Hebr"]),getFont$1(["font","Tahoma","Thai"]),getFont$1(["font","Nyala","Ethi"]),getFont$1(["font","Vrinda","Beng"]),getFont$1(["font","Shruti","Gujr"]),getFont$1(["font","DaunPenh","Khmr"]),getFont$1(["font","Tunga","Knda"]),getFont$1(["font","Raavi","Guru"]),getFont$1(["font","Euphemia","Cans"]),getFont$1(["font","Plantagenet Cherokee","Cher"]),getFont$1(["font","Microsoft Yi Baiti","Yiii"]),getFont$1(["font","Microsoft Himalaya","Tibt"]),getFont$1(["font","MV Boli","Thaa"]),getFont$1(["font","Mangal","Deva"]),getFont$1(["font","Gautami","Telu"]),getFont$1(["font","Latha","Taml"]),getFont$1(["font","Estrangelo Edessa","Syrc"]),getFont$1(["font","Kalinga","Orya"]),getFont$1(["font","Kartika","Mlym"]),getFont$1(["font","DokChampa","Laoo"]),getFont$1(["font","Iskoola Pota","Sinh"]),getFont$1(["font","Mongolian Baiti","Mong"]),getFont$1(["font","Arial","Viet"]),getFont$1(["font","Microsoft Uighur","Uigh"]),getFont$1(["font","Sylfaen","Geor"]),getFont$1(["font","Arial","Armn"]),getFont$1(["font","Leelawadee UI","Bugi"]),getFont$1(["font","Microsoft JhengHei","Bopo"]),getFont$1(["font","Javanese Text","Java"]),getFont$1(["font","Segoe UI","Lisu"]),getFont$1(["font","Myanmar Text","Mymr"]),getFont$1(["font","Ebrima","Nkoo"]),getFont$1(["font","Nirmala UI","Olck"]),getFont$1(["font","Ebrima","Osma"]),getFont$1(["font","Phagspa","Phag"]),getFont$1(["font","Estrangelo Edessa","Syrn"]),getFont$1(["font","Estrangelo Edessa","Syrj"]),getFont$1(["font","Estrangelo Edessa","Syre"]),getFont$1(["font","Nirmala UI","Sora"]),getFont$1(["font","Microsoft Tai Le","Tale"]),getFont$1(["font","Microsoft New Tai Lue","Talu"]),getFont$1(["font","Ebrima","Tfng"])]}]}}},__read$13=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},getPropertyVal=function(t,e,n){return{name:"a:"+t,properties:{rawMap:{val:e}},children:n}},getGs=function(t){var e=__read$13(t,6),n=e[0],i=e[1],o=e[2],r=e[3],s=e[4],a=e[5],l=[];return l.push(getPropertyVal("satMod",o)),r&&l.push(getPropertyVal("lumMod",r)),s&&l.push(getPropertyVal("tint",s)),a&&l.push(getPropertyVal("shade",a)),{name:"a:gs",properties:{rawMap:{pos:n}},children:[{name:"a:schemeClr",properties:{rawMap:{val:i}},children:l}]}},getSolidFill=function(t,e){return{name:"a:solidFill",children:[getPropertyVal("schemeClr",t,e)]}},getGradFill=function(t){var e=__read$13(t,5),n=e[0],i=e[1],o=e[2],r=e[3],s=e[4],a=__read$13(s,2),l=a[0],c=a[1];return{name:"a:gradFill",properties:{rawMap:{rotWithShape:n}},children:[{name:"a:gsLst",children:[getGs(i),getGs(o),getGs(r)]},{name:"a:lin",properties:{rawMap:{ang:l,scaled:c}}}]}},getLine=function(t){var e=__read$13(t,4);return{name:"a:ln",properties:{rawMap:{w:e[0],cap:e[1],cmpd:e[2],algn:e[3]}},children:[getSolidFill("phClr"),getPropertyVal("prstDash","solid"),{name:"a:miter",properties:{rawMap:{lim:"800000"}}}]}},getEffectStyle=function(t){var e=[];if(t){var n=__read$13(t,5),i=n[0],o=n[1],r=n[2],s=n[3],a=n[4];e.push({name:"a:outerShdw",properties:{rawMap:{blurRad:i,dist:o,dir:r,algn:s,rotWithShape:a}},children:[getPropertyVal("srgbClr","000000",[getPropertyVal("alpha","63000")])]})}return{name:"a:effectStyle",children:[Object.assign({},{name:"a:effectLst"},e.length?{children:e}:{})]}},getFillStyleList=function(){return{name:"a:fillStyleLst",children:[getSolidFill("phClr"),getGradFill(["1",["0","phClr","105000","110000","67000"],["50000","phClr","103000","105000","73000"],["100000","phClr","109000","105000","81000"],["5400000","0"]]),getGradFill(["1",["0","phClr","103000","102000","94000"],["50000","phClr","110000","100000",void 0,"100000"],["100000","phClr","120000","99000",void 0,"78000"],["5400000","0"]])]}},getLineStyleList=function(){return{name:"a:lnStyleLst",children:[getLine(["6350","flat","sng","ctr"]),getLine(["12700","flat","sng","ctr"]),getLine(["19050","flat","sng","ctr"])]}},getEffectStyleList=function(){return{name:"a:effectStyleLst",children:[getEffectStyle(),getEffectStyle(),getEffectStyle(["57150","19050","5400000","ctr","0"])]}},getBgFillStyleList=function(){return{name:"a:bgFillStyleLst",children:[getSolidFill("phClr"),getSolidFill("phClr",[getPropertyVal("tint","95000"),getPropertyVal("satMod","170000")]),getGradFill(["1",["0","phClr","150000","102000","93000","98000"],["50000","phClr","130000","103000","98000","90000"],["100000","phClr","120000",void 0,void 0,"63000"],["5400000","0"]])]}},formatScheme={getTemplate:function(){return{name:"a:fmtScheme",properties:{rawMap:{name:"Office"}},children:[getFillStyleList(),getLineStyleList(),getEffectStyleList(),getBgFillStyleList()]}}},themeElements={getTemplate:function(){return{name:"a:themeElements",children:[colorScheme.getTemplate(),fontScheme.getTemplate(),formatScheme.getTemplate()]}}},officeTheme={getTemplate:function(){return{name:"a:theme",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{a:"http://schemas.openxmlformats.org/drawingml/2006/main"}}],rawMap:{name:"Office Theme"}},children:[themeElements.getTemplate(),{name:"a:objectDefaults"},{name:"a:extraClrSchemeLst"}]}}},buildSharedString=function(t){var e=[];return t.forEach((function(t,n){var i=n.toString(),o={name:"t",textNode:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.utf8_encode(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.escapeString(i))};i.trim().length!==i.length&&(o.properties={rawMap:{"xml:space":"preserve"}}),e.push({name:"si",children:[o]})})),e},sharedStrings={getTemplate:function(t){return{name:"sst",properties:{rawMap:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main",count:t.size,uniqueCount:t.size}},children:buildSharedString(t)}}},numberFormatFactory={getTemplate:function(t){return{name:"numFmt",properties:{rawMap:{formatCode:t.formatCode,numFmtId:t.numFmtId}}}}},numberFormatsFactory={getTemplate:function(t){return{name:"numFmts",properties:{rawMap:{count:t.length}},children:t.map((function(t){return numberFormatFactory.getTemplate(t)}))}}},fontFactory={getTemplate:function(t){var e=t.size,n=t.colorTheme,i=t.color,o=void 0===i?"FF000000":i,r=t.fontName,s=void 0===r?"Calibri":r,a=t.family,l=t.scheme,c=t.italic,u=t.bold,h=t.strikeThrough,d=t.outline,p=t.shadow,f=t.underline,g=t.verticalAlign,m=[{name:"sz",properties:{rawMap:{val:e}}},{name:"color",properties:{rawMap:{theme:n,rgb:o}}},{name:"name",properties:{rawMap:{val:s}}}];return a&&m.push({name:"family",properties:{rawMap:{val:a}}}),l&&m.push({name:"scheme",properties:{rawMap:{val:l}}}),c&&m.push({name:"i"}),u&&m.push({name:"b"}),h&&m.push({name:"strike"}),d&&m.push({name:"outline"}),p&&m.push({name:"shadow"}),f&&m.push({name:"u",properties:{rawMap:{val:f}}}),g&&m.push({name:"vertAlign",properties:{rawMap:{val:g}}}),{name:"font",children:m}}},fontsFactory={getTemplate:function(t){return{name:"fonts",properties:{rawMap:{count:t.length}},children:t.map((function(t){return fontFactory.getTemplate(t)}))}}},fillFactory={getTemplate:function(t){var e=t.patternType,n=t.fgTheme,i=t.fgTint,o=t.fgRgb,r=t.bgRgb,s=t.bgIndexed,a={name:"patternFill",properties:{rawMap:{patternType:e}}};return(n||i||o)&&(a.children=[{name:"fgColor",properties:{rawMap:{theme:n,tint:i,rgb:o}}}]),(s||r)&&(a.children||(a.children=[]),a.children.push({name:"bgColor",properties:{rawMap:{indexed:s,rgb:r}}})),{name:"fill",children:[a]}}},fillsFactory={getTemplate:function(t){return{name:"fills",properties:{rawMap:{count:t.length}},children:t.map((function(t){return fillFactory.getTemplate(t)}))}}},getWeightName=function(t){switch(t){case 1:return"thin";case 2:return"medium";case 3:return"thick";default:return"hair"}},mappedBorderNames={None:"None",Dot:"Dotted",Dash:"Dashed",Double:"Double",DashDot:"DashDot",DashDotDot:"DashDotDot",SlantDashDot:"SlantDashDot"},mediumBorders=["Dashed","DashDot","DashDotDot"],colorMap={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinDiagStripe:"lightUp",ThinHorzCross:"lightGrid",ThinDiagCross:"lightTrellis",Gray125:"gray125",Gray0625:"gray0625"},horizontalAlignmentMap={Automatic:"general",Left:"left",Center:"center",Right:"right",Fill:"fill",Justify:"justify",CenterAcrossSelection:"centerContinuous",Distributed:"distributed",JustifyDistributed:"justify"},verticalAlignmentMap={Automatic:void 0,Top:"top",Bottom:"bottom",Center:"center",Justify:"justify",Distributed:"distributed",JustifyDistributed:"justify"},convertLegacyPattern=function(t){return t?colorMap[t]||t:"none"},convertLegacyColor=function(t){return null==t?t:("#"===t.charAt(0)&&(t=t.substr(1)),6===t.length?"FF"+t:t)},convertLegacyBorder=function(t,e){if(!t)return"thin";var n=getWeightName(e),i=mappedBorderNames[t];return"Continuous"===t?n:"medium"===n&&-1!==mediumBorders.indexOf(i)?"medium"+i:i.charAt(0).toLowerCase()+i.substr(1)},convertLegacyHorizontalAlignment=function(t){return horizontalAlignmentMap[t]||"general"},convertLegacyVerticalAlignment=function(t){return verticalAlignmentMap[t]||void 0},getBorderColor=function(t){return{name:"color",properties:{rawMap:{rgb:convertLegacyColor(t||"#000000")}}}},borderFactory$1={getTemplate:function(t){var e=t.left,n=t.right,i=t.top,o=t.bottom,r=t.diagonal,s=e?[getBorderColor(e.color)]:void 0,a=n?[getBorderColor(n.color)]:void 0,l=i?[getBorderColor(i.color)]:void 0,c=o?[getBorderColor(o.color)]:void 0,u=r?[getBorderColor(r.color)]:void 0;return{name:"border",children:[{name:"left",properties:{rawMap:{style:e&&e.style}},children:s},{name:"right",properties:{rawMap:{style:n&&n.style}},children:a},{name:"top",properties:{rawMap:{style:i&&i.style}},children:l},{name:"bottom",properties:{rawMap:{style:o&&o.style}},children:c},{name:"diagonal",properties:{rawMap:{style:r&&r.style}},children:u}]}}},bordersFactory={getTemplate:function(t){return{name:"borders",properties:{rawMap:{count:t.length}},children:t.map((function(t){return borderFactory$1.getTemplate(t)}))}}},getReadingOrderId=function(t){var e=["Context","LeftToRight","RightToLeft"].indexOf(t);return Math.max(e,0)},alignmentFactory={getTemplate:function(t){var e=t.horizontal,n=t.indent,i=t.readingOrder,o=t.rotate,r=t.shrinkToFit,s=t.vertical,a=t.wrapText;return{name:"alignment",properties:{rawMap:{horizontal:e&&convertLegacyHorizontalAlignment(e),indent:n,readingOrder:i&&getReadingOrderId(i),textRotation:o,shrinkToFit:r,vertical:s&&convertLegacyVerticalAlignment(s),wrapText:a}}}}},protectionFactory={getTemplate:function(t){var e=!1===t.protected?0:1;return{name:"protection",properties:{rawMap:{hidden:!0===t.hideFormula?1:0,locked:e}}}}},xfFactory={getTemplate:function(t){var e=t.alignment,n=t.borderId,i=t.fillId,o=t.fontId,r=t.numFmtId,s=t.protection,a=t.xfId,l=[];return e&&l.push(alignmentFactory.getTemplate(e)),s&&l.push(protectionFactory.getTemplate(s)),{name:"xf",properties:{rawMap:{applyAlignment:e?1:void 0,applyProtection:s?1:void 0,applyBorder:n?1:void 0,applyFill:i?1:void 0,borderId:n,fillId:i,applyFont:o?1:void 0,fontId:o,applyNumberFormat:r?1:void 0,numFmtId:r,xfId:a}},children:l.length?l:void 0}}},cellStylesXfsFactory={getTemplate:function(t){return{name:"cellStyleXfs",properties:{rawMap:{count:t.length}},children:t.map((function(t){return xfFactory.getTemplate(t)}))}}},cellXfsFactory={getTemplate:function(t){return{name:"cellXfs",properties:{rawMap:{count:t.length}},children:t.map((function(t){return xfFactory.getTemplate(t)}))}}},borderFactory={getTemplate:function(t){return{name:"cellStyle",properties:{rawMap:{builtinId:t.builtinId,name:t.name,xfId:t.xfId}}}}},cellStylesFactory={getTemplate:function(t){return{name:"cellStyles",properties:{rawMap:{count:t.length}},children:t.map((function(t){return borderFactory.getTemplate(t)}))}}},__assign$L=function(){return __assign$L=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},__assign$L.apply(this,arguments)},stylesMap,registeredNumberFmts,registeredFonts,registeredFills,registeredBorders,registeredCellStyleXfs,registeredCellXfs,registeredCellStyles,currentSheet,getStyleName=function(t,e){return-1!==t.indexOf("mixedStyle")&&e>1&&(t+="_"+e),t},resetStylesheetValues=function(){stylesMap={base:0},registeredNumberFmts=[],registeredFonts=[{fontName:"Calibri",colorTheme:"1",family:"2",scheme:"minor"}],registeredFills=[{patternType:"none"},{patternType:"gray125"}],registeredBorders=[{left:void 0,right:void 0,top:void 0,bottom:void 0,diagonal:void 0}],registeredCellStyleXfs=[{borderId:0,fillId:0,fontId:0,numFmtId:0}],registeredCellXfs=[{borderId:0,fillId:0,fontId:0,numFmtId:0,xfId:0}],registeredCellStyles=[{builtinId:0,name:"Normal",xfId:0}]},registerFill=function(t){var e=convertLegacyPattern(t.pattern),n=convertLegacyColor(t.color),i=convertLegacyColor(t.patternColor),o=registeredFills.findIndex((function(t){var o=t.patternType,r=t.fgRgb,s=t.bgRgb;return o==e&&r==n&&s==i}));return-1===o&&(o=registeredFills.length,registeredFills.push({patternType:e,fgRgb:n,bgRgb:i})),o},registerNumberFmt=function(t){if(t=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.utf8_encode(t),numberFormatMap[t])return numberFormatMap[t];var e=registeredNumberFmts.findIndex((function(e){return e.formatCode===t}));return-1===e?(e=registeredNumberFmts.length+164,registeredNumberFmts.push({formatCode:t,numFmtId:e})):e=registeredNumberFmts[e].numFmtId,e},registerBorders=function(t){var e,n,i,o,r,s,a,l,c=t.borderBottom,u=t.borderTop,h=t.borderLeft,d=t.borderRight;h&&(i=convertLegacyBorder(h.lineStyle,h.weight),a=convertLegacyColor(h.color)),d&&(o=convertLegacyBorder(d.lineStyle,d.weight),l=convertLegacyColor(d.color)),c&&(e=convertLegacyBorder(c.lineStyle,c.weight),r=convertLegacyColor(c.color)),u&&(n=convertLegacyBorder(u.lineStyle,u.weight),s=convertLegacyColor(u.color));var p=registeredBorders.findIndex((function(t){var c=t.left,u=t.right,h=t.top,d=t.bottom;if(!c&&(i||a))return!1;if(!u&&(o||l))return!1;if(!h&&(n||s))return!1;if(!d&&(e||r))return!1;var p=c||{},f=p.style,g=p.color,m=u||{},_=m.style,y=m.color,v=h||{},C=v.style,b=v.color,E=d||{},S=E.style,w=E.color;return f==i&&g==a&&(_==o&&y==l&&(C==n&&b==s&&(S==e&&w==r)))}));return-1===p&&(p=registeredBorders.length,registeredBorders.push({left:{style:i,color:a},right:{style:o,color:l},top:{style:n,color:s},bottom:{style:e,color:r},diagonal:{style:void 0,color:void 0}})),p},registerFont=function(t){var e=t.fontName,n=void 0===e?"Calibri":e,i=t.color,o=t.size,r=t.bold,s=t.italic,a=t.outline,l=t.shadow,c=t.strikeThrough,u=t.underline,h=t.family,d=t.verticalAlign,p=n?ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.utf8_encode(n):n,f=convertLegacyColor(i),g=getFontFamilyId(h),m=u?u.toLocaleLowerCase():void 0,_=d?d.toLocaleLowerCase():void 0,y=registeredFonts.findIndex((function(t){return t.fontName==p&&t.color==f&&t.size==o&&t.bold==r&&t.italic==s&&t.outline==a&&t.shadow==l&&t.strikeThrough==c&&t.underline==m&&t.verticalAlign==_&&t.family==g}));return-1===y&&(y=registeredFonts.length,registeredFonts.push({fontName:p,color:f,size:o,bold:r,italic:s,outline:a,shadow:l,strikeThrough:c,underline:m,verticalAlign:_,family:null!=g?g.toString():void 0})),y},registerStyle=function(t){var e=t.alignment,n=t.borders,i=t.font,o=t.interior,r=t.numberFormat,s=t.protection,a=t.id,l=0,c=0,u=0,h=0;a&&(a=getStyleName(a,currentSheet),null==stylesMap[a]&&(o&&(l=registerFill(o)),n&&(c=registerBorders(n)),i&&(u=registerFont(i)),r&&(h=registerNumberFmt(r.format)),stylesMap[a]=registeredCellXfs.length,registeredCellXfs.push({alignment:e,borderId:c||0,fillId:l||0,fontId:u||0,numFmtId:h||0,protection:s,xfId:0})))},stylesheetFactory={getTemplate:function(t){var e=numberFormatsFactory.getTemplate(registeredNumberFmts),n=fontsFactory.getTemplate(registeredFonts.map((function(e){return __assign$L(__assign$L({},e),{size:null!=e.size?e.size:t})}))),i=fillsFactory.getTemplate(registeredFills),o=bordersFactory.getTemplate(registeredBorders),r=cellStylesXfsFactory.getTemplate(registeredCellStyleXfs),s=cellXfsFactory.getTemplate(registeredCellXfs),a=cellStylesFactory.getTemplate(registeredCellStyles);return resetStylesheetValues(),{name:"styleSheet",properties:{rawMap:{"mc:Ignorable":"x14ac x16r2 xr",xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac","xmlns:x16r2":"http://schemas.microsoft.com/office/spreadsheetml/2015/02/main","xmlns:xr":"http://schemas.microsoft.com/office/spreadsheetml/2014/revision"}},children:[e,n,i,o,r,s,a,{name:"tableStyles",properties:{rawMap:{count:0,defaultPivotStyle:"PivotStyleLight16",defaultTableStyle:"TableStyleMedium2"}}}]}}},getStyleId=function(t,e){return stylesMap[getStyleName(t,e)]||0},registerStyles=function(t,e){1===(currentSheet=e)&&resetStylesheetValues(),t.forEach(registerStyle)},sheetFactory={getTemplate:function(t,e){var n=(e+1).toString();return{name:"sheet",properties:{rawMap:{name:t,sheetId:n,"r:id":"rId"+n}}}}},sheetsFactory={getTemplate:function(t){return{name:"sheets",children:t.map((function(t,e){return sheetFactory.getTemplate(t,e)}))}}},workbookFactory={getTemplate:function(t){return{name:"workbook",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships"}}],rawMap:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},children:[sheetsFactory.getTemplate(t)]}}},getExcelCellWidth=function(t){return Math.ceil((t-12)/7+1)},columnFactory={getTemplate:function(t){var e=t.min,n=t.max,i=t.outlineLevel,o=t.s,r=t.width,s=t.hidden,a=t.bestFit,l=1,c="0";return r>1&&(l=getExcelCellWidth(r),c="1"),{name:"col",properties:{rawMap:{min:e,max:n,outlineLevel:null!=i?i:void 0,width:l,style:o,hidden:s?"1":"0",bestFit:a?"1":"0",customWidth:c}}}}},convertLegacyType=function(t){var e=t.charAt(0).toLowerCase();return"s"===e?"inlineStr":e},cellFactory={getTemplate:function(t,e,n){var i=t.ref,o=t.data,r=t.styleId,s=o||{type:"empty",value:null},a=s.type,l=s.value,c=a;"f"===a?c="str":a.charAt(0)===a.charAt(0).toUpperCase()&&(c=convertLegacyType(a));var u,h={name:"c",properties:{rawMap:{r:i,t:"empty"===c?void 0:c,s:r?getStyleId(r,n):void 0}}};return"empty"===c?h:(u="str"===c&&"f"===a?[{name:"f",textNode:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.escapeString(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.utf8_encode(l))}]:"inlineStr"===c?[{name:"is",children:[{name:"t",textNode:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.escapeString(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.utf8_encode(l))}]}]:[{name:"v",textNode:l}],Object.assign({},h,{children:u}))}},__read$12=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},__spread$D=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$12(arguments[e]));return t},addEmptyCells=function(t,e){for(var n=[],i=0,o=0;o<t.length;o++){(s=t[o]).mergeAcross&&(n.push({pos:o,excelPos:i}),i+=s.mergeAcross),i++}if(n.length)for(o=n.length-1;o>=0;o--){for(var r=[],s=t[n[o].pos],a=1;a<=s.mergeAcross;a++)r.push({ref:""+getExcelColumnName(n[o].excelPos+1+a)+(e+1),styleId:s.styleId,data:{type:"empty",value:null}});r.length&&t.splice.apply(t,__spread$D([n[o].pos+1,0],r))}},shouldDisplayCell=function(t){var e;return""!==(null===(e=t.data)||void 0===e?void 0:e.value)||void 0!==t.styleId},rowFactory={getTemplate:function(t,e,n){var i=t.collapsed,o=t.hidden,r=t.height,s=t.outlineLevel,a=t.cells,l=void 0===a?[]:a;addEmptyCells(l,e);var c=l.filter(shouldDisplayCell).map((function(t,e){return cellFactory.getTemplate(t,e,n)}));return{name:"row",properties:{rawMap:{r:e+1,collapsed:i,hidden:o?"1":"0",ht:r,customHeight:null!=r?"1":"0",spans:"1:1",outlineLevel:s||void 0}},children:c}}},mergeCellFactory={getTemplate:function(t){return{name:"mergeCell",properties:{rawMap:{ref:t}}}}},getMergedCellsAndAddColumnGroups=function(t,e){var n=[],i=[];t.forEach((function(t,o){var r,s=t.cells,a=0;s.forEach((function(t,s){var l=s+a+1,c=getExcelColumnName(l),u=o+1;if(t.mergeAcross){a+=t.mergeAcross;var h=getExcelColumnName(s+a+1);n.push(""+c+u+":"+h+u)}e[l-1]||(e[l-1]={});var d=t.collapsibleRanges;d&&d.forEach((function(t){i.push([l+t[0],l+t[1]])})),(r=e[l-1]).min=l,r.max=l,t.ref=""+c+u}))})),i.sort((function(t,e){return t[0]!==e[0]?t[0]-e[0]:e[1]-t[1]}));var o=new Map,r=new Map;return i.filter((function(t){var e=t.toString();return!o.get(e)&&(o.set(e,!0),!0)})).forEach((function(t){var n=e.find((function(e){return e.min==t[0]&&e.max==t[1]})),i=r.get(t[0]);e.push({min:t[0],max:t[1],outlineLevel:i||1,width:(n||{width:100}).width}),r.set(t[0],(i||0)+1)})),n},getPageOrientation=function(t){return!t||"Portrait"!==t&&"Landscape"!==t?"portrait":t.toLocaleLowerCase()},getPageSize=function(t){if(null==t)return 1;var e=["Letter","Letter Small","Tabloid","Ledger","Legal","Statement","Executive","A3","A4","A4 Small","A5","A6","B4","B5","Folio","Envelope","Envelope DL","Envelope C5","Envelope B5","Envelope C3","Envelope C4","Envelope C6","Envelope Monarch","Japanese Postcard","Japanese Double Postcard"].indexOf(t);return-1===e?1:e+1},addColumns=function(t){return function(e){return t.length&&e.push({name:"cols",children:t.map((function(t){return columnFactory.getTemplate(t)}))}),e}},addSheetData=function(t,e){return function(n){return t.length&&n.push({name:"sheetData",children:t.map((function(t,n){return rowFactory.getTemplate(t,n,e)}))}),n}},addMergeCells=function(t){return function(e){return t.length&&e.push({name:"mergeCells",properties:{rawMap:{count:t.length}},children:t.map((function(t){return mergeCellFactory.getTemplate(t)}))}),e}},addPageMargins=function(t){return function(e){var n=t.top,i=void 0===n?.75:n,o=t.right,r=void 0===o?.7:o,s=t.bottom,a=void 0===s?.75:s,l=t.left,c=void 0===l?.7:l,u=t.header,h=void 0===u?.3:u,d=t.footer,p=void 0===d?.3:d;return e.push({name:"pageMargins",properties:{rawMap:{bottom:a,footer:p,header:h,left:c,right:r,top:i}}}),e}},addPageSetup=function(t){return function(e){return t&&e.push({name:"pageSetup",properties:{rawMap:{horizontalDpi:0,verticalDpi:0,orientation:getPageOrientation(t.orientation),paperSize:getPageSize(t.pageSize)}}}),e}},replaceHeaderFooterTokens=function(t){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.iterateObject({"&[Page]":"&P","&[Pages]":"&N","&[Date]":"&D","&[Time]":"&T","&[Tab]":"&A","&[Path]":"&Z","&[File]":"&F"},(function(e,n){t=t.replace(e,n)})),t},getHeaderPosition=function(t){return"Center"===t?"C":"Right"===t?"R":"L"},applyHeaderFontStyle=function(t,e){return e?(t+="&amp;&quot;",t+=e.fontName||"Calibri",e.bold!==e.italic?t+=e.bold?",Bold":",Italic":e.bold?t+=",Bold Italic":t+=",Regular",t+="&quot;",e.size&&(t+="&amp;"+e.size),e.strikeThrough&&(t+="&amp;S"),e.underline&&(t+="&amp;"+("Double"===e.underline?"E":"U")),e.color&&(t+="&amp;K"+e.color.replace("#","").toUpperCase()),t):t},processHeaderFooterContent=function(t){return t.reduce((function(t,e){var n=getHeaderPosition(e.position);return""+applyHeaderFontStyle(t+"&amp;"+n,e.font)+ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.escapeString(replaceHeaderFooterTokens(e.value))}),"")},buildHeaderFooter=function(t){var e=[];return["all","first","even"].forEach((function(n){var i=t[n],o="all"===n?"odd":n;i&&(i.header||i.footer)&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.iterateObject(i,(function(t,n){var i=""+t.charAt(0).toUpperCase()+t.slice(1);n&&e.push({name:""+o+i,properties:{rawMap:{"xml:space":"preserve"}},textNode:processHeaderFooterContent(n)})}))})),e},addHeaderFooter=function(t){return function(e){if(!t)return e;var n=null!=t.first?1:0,i=null!=t.even?1:0;return e.push({name:"headerFooter",properties:{rawMap:{differentFirst:n,differentOddEven:i}},children:buildHeaderFooter(t)}),e}},addDrawingRel=function(t){return function(e){return ExcelXlsxFactory.worksheetImages.get(t)&&e.push({name:"drawing",properties:{rawMap:{"r:id":"rId1"}}}),e}},addSheetPr=function(){return function(t){return t.push({name:"sheetPr",children:[{name:"outlinePr",properties:{rawMap:{summaryBelow:0}}}]}),t}},addSheetFormatPr=function(t){return function(e){var n=t.reduce((function(t,e){return e.outlineLevel&&e.outlineLevel>t?e.outlineLevel:t}),0);return e.push({name:"sheetFormatPr",properties:{rawMap:{baseColWidth:10,defaultRowHeight:16,outlineLevelRow:n||void 0}}}),e}},worksheetFactory={getTemplate:function(t){var e=t.worksheet,n=t.currentSheet,i=t.margins,o=void 0===i?{}:i,r=t.pageSetup,s=t.headerFooterConfig,a=e.table,l=a.rows,c=a.columns,u=c&&c.length?getMergedCellsAndAddColumnGroups(l,c):[];return{name:"worksheet",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships"}}],rawMap:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},children:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.compose(addSheetPr(),addSheetFormatPr(l),addColumns(c),addSheetData(l,n+1),addMergeCells(u),addPageMargins(o),addPageSetup(r),addHeaderFooter(s),addDrawingRel(n))([])}}},relationshipFactory={getTemplate:function(t){return{name:"Relationship",properties:{rawMap:{Id:t.Id,Type:t.Type,Target:t.Target}}}}},relationshipsFactory={getTemplate:function(t){return{name:"Relationships",properties:{rawMap:{xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"}},children:t.map((function(t){return relationshipFactory.getTemplate(t)}))}}},__read$11=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},__spread$C=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$11(arguments[e]));return t},ExcelXlsxFactory=function(){function t(){}return t.createExcel=function(t,e,n,i,o){return this.addSheetName(e),registerStyles(t,this.sheetNames.length),this.createWorksheet(e,n,i,o)},t.buildImageMap=function(t,e,n,i,o){var r=this.sheetNames.length,s=this.images.get(t.id);t.position&&t.position.row&&t.position.column||(t.position||(t.position={}),t.position=Object.assign({},t.position,{row:e,column:i.indexOf(n)+1}));var a=t;if(setExcelImageTotalWidth(a,i),setExcelImageTotalHeight(a,o),s){var l=s.find((function(t){return t.sheetId===r}));l?l.image.push(a):s.push({sheetId:r,image:[a]})}else this.images.set(a.id,[{sheetId:r,image:[a]}]),this.workbookImageIds.set(a.id,{type:a.imageType,index:this.workbookImageIds.size});this.buildSheetImageMap(r,a)},t.buildSheetImageMap=function(t,e){var n=this.worksheetImageIds.get(t);n||(n=new Map,this.worksheetImageIds.set(t,n));var i=this.worksheetImages.get(t);i?(i.push(e),n.get(e.id)||n.set(e.id,{index:n.size,type:e.imageType})):(this.worksheetImages.set(t,[e]),n.set(e.id,{index:0,type:e.imageType}))},t.addSheetName=function(t){for(var e=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.escapeString(t.name)||"",n="";-1!==this.sheetNames.indexOf(""+e+n);)if(""===n)n="_1";else{var i=parseInt(n.slice(1),10);n="_"+(i+1)}t.name=""+e+n,this.sheetNames.push(t.name)},t.getStringPosition=function(t){return this.sharedStrings.has(t)?this.sharedStrings.get(t):(this.sharedStrings.set(t,this.sharedStrings.size),this.sharedStrings.size-1)},t.resetFactory=function(){this.sharedStrings=new Map,this.images=new Map,this.worksheetImages=new Map,this.workbookImageIds=new Map,this.worksheetImageIds=new Map,this.sheetNames=[],this.factoryMode=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.nPL.SINGLE_SHEET},t.createWorkbook=function(){return createXmlPart(workbookFactory.getTemplate(this.sheetNames))},t.createStylesheet=function(t){return createXmlPart(stylesheetFactory.getTemplate(t))},t.createSharedStrings=function(){return createXmlPart(sharedStrings.getTemplate(this.sharedStrings))},t.createCore=function(t){return createXmlPart(coreFactory.getTemplate(t))},t.createContentTypes=function(t){return createXmlPart(contentTypesFactory.getTemplate(t))},t.createRels=function(){var t=relationshipsFactory.getTemplate([{Id:"rId1",Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",Target:"xl/workbook.xml"},{Id:"rId2",Type:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",Target:"docProps/core.xml"}]);return createXmlPart(t)},t.createTheme=function(){return createXmlPart(officeTheme.getTemplate())},t.createWorkbookRels=function(t){var e=new Array(t).fill(void 0).map((function(t,e){return{Id:"rId"+(e+1),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet",Target:"worksheets/sheet"+(e+1)+".xml"}})),n=relationshipsFactory.getTemplate(__spread$C(e,[{Id:"rId"+(t+1),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",Target:"theme/theme1.xml"},{Id:"rId"+(t+2),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",Target:"styles.xml"},{Id:"rId"+(t+3),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",Target:"sharedStrings.xml"}]));return createXmlPart(n)},t.createDrawing=function(t){return createXmlPart(drawingFactory.getTemplate({sheetIndex:t}))},t.createDrawingRel=function(t){var e=this,n=this.worksheetImageIds.get(t),i=[];return n.forEach((function(t,n){i.push({Id:"rId"+(t.index+1),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",Target:"../media/image"+(e.workbookImageIds.get(n).index+1)+"."+t.type})})),createXmlPart(relationshipsFactory.getTemplate(i))},t.createWorksheetDrawingRel=function(t){var e=relationshipsFactory.getTemplate([{Id:"rId1",Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",Target:"../drawings/drawing"+(t+1)+".xml"}]);return createXmlPart(e)},t.createWorksheet=function(t,e,n,i){return createXmlPart(worksheetFactory.getTemplate({worksheet:t,currentSheet:this.sheetNames.length-1,margins:e,pageSetup:n,headerFooterConfig:i}))},t.sharedStrings=new Map,t.sheetNames=[],t.images=new Map,t.worksheetImages=new Map,t.workbookImageIds=new Map,t.worksheetImageIds=new Map,t.factoryMode=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.nPL.SINGLE_SHEET,t}(),__extends$2P=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ExcelXlsxSerializingSession=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$2P(e,t),e.prototype.createExcel=function(t){var e=this.excelStyles,n=this.config,i=n.margins,o=n.pageSetup,r=n.headerFooterConfig;return ExcelXlsxFactory.createExcel(e,t,i,o,r)},e.prototype.getDataTypeForValue=function(t){return void 0===t?"empty":this.isNumerical(t)?"n":"s"},e.prototype.getType=function(t,e,n){if(this.isFormula(n))return"f";if(e&&e.dataType)switch(e.dataType.toLocaleLowerCase()){case"formula":return"f";case"string":return"s";case"number":return"n";case"datetime":return"d";case"error":return"e";case"boolean":return"b";default:console.warn("AG Grid: Unrecognized data type for excel export ["+e.id+".dataType="+e.dataType+"]")}return t},e.prototype.addImage=function(t,e,n){if(this.config.addImageToCell){var i=this.config.addImageToCell(t,e,n);if(i)return ExcelXlsxFactory.buildImageMap(i.image,t,e,this.columnsToExport,this.config.rowHeight),i}},e.prototype.createCell=function(t,e,n){var i=this.getStyleById(t),o=this.getType(e,i,n)||e;return{styleId:i?t:void 0,data:{type:o,value:this.getCellValue(o,n)}}},e.prototype.createMergedCell=function(t,e,n,i){var o=null==n?"":n;return{styleId:this.getStyleById(t)?t:void 0,data:{type:e,value:"s"===e?ExcelXlsxFactory.getStringPosition(o).toString():n},mergeAcross:i}},e.prototype.getCellValue=function(t,e){if(null==e)return ExcelXlsxFactory.getStringPosition("").toString();switch(t){case"s":return""===e?"":ExcelXlsxFactory.getStringPosition(e).toString();case"f":return e.slice(1);case"n":return Number(e).toString();default:return e}},e}(BaseExcelSerializingSession),__extends$2O=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__assign$K=function(){return __assign$K=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},__assign$K.apply(this,arguments)},__decorate$1$=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},getMultipleSheetsAsExcel=function(t){var e=t.data,n=t.fontSize,i=void 0===n?11:n,o=t.author,r=void 0===o?"AG Grid":o,s=ExcelXlsxFactory.images.size>0;if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.EHG.addFolders(["_rels/","docProps/","xl/","xl/theme/","xl/_rels/","xl/worksheets/"]),s){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.EHG.addFolders(["xl/worksheets/_rels","xl/drawings/","xl/drawings/_rels","xl/media/"]);var a=0;ExcelXlsxFactory.images.forEach((function(t){var e=t[0].image[0],n=e.imageType;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.EHG.addFile("xl/media/image"+ ++a+"."+n,e.base64,!0)}))}if(!e||0===e.length)return console.warn("AG Grid: Invalid params supplied to getMultipleSheetsAsExcel() - `ExcelExportParams.data` is empty."),void ExcelXlsxFactory.resetFactory();var l=e.length,c=0;e.forEach((function(t,e){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.EHG.addFile("xl/worksheets/sheet"+(e+1)+".xml",t),s&&ExcelXlsxFactory.worksheetImages.get(e)&&createImageRelationsForSheet(e,c++)})),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.EHG.addFile("xl/workbook.xml",ExcelXlsxFactory.createWorkbook()),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.EHG.addFile("xl/styles.xml",ExcelXlsxFactory.createStylesheet(i)),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.EHG.addFile("xl/sharedStrings.xml",ExcelXlsxFactory.createSharedStrings()),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.EHG.addFile("xl/theme/theme1.xml",ExcelXlsxFactory.createTheme()),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.EHG.addFile("xl/_rels/workbook.xml.rels",ExcelXlsxFactory.createWorkbookRels(l)),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.EHG.addFile("docProps/core.xml",ExcelXlsxFactory.createCore(r)),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.EHG.addFile("[Content_Types].xml",ExcelXlsxFactory.createContentTypes(l)),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.EHG.addFile("_rels/.rels",ExcelXlsxFactory.createRels()),ExcelXlsxFactory.resetFactory();var u=t.mimeType||"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet";return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.EHG.getContent(u)},exportMultipleSheetsAsExcel=function(t){var e=t.fileName,n=void 0===e?"export.xlsx":e,i=getMultipleSheetsAsExcel(t);i&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.aVm.download(n,i)},createImageRelationsForSheet=function(t,e){var n="xl/drawings",i=n+"/drawing"+(e+1)+".xml",o=n+"/_rels/drawing"+(e+1)+".xml.rels",r="xl/worksheets/_rels/sheet"+(t+1)+".xml.rels";ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.EHG.addFile(o,ExcelXlsxFactory.createDrawingRel(t)),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.EHG.addFile(i,ExcelXlsxFactory.createDrawing(t)),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.EHG.addFile(r,ExcelXlsxFactory.createWorksheetDrawingRel(e))},ExcelCreator=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.exportMode="xlsx",e}return __extends$2O(e,t),e.prototype.postConstruct=function(){this.setBeans({gridSerializer:this.gridSerializer,gridOptionsService:this.gridOptionsService})},e.prototype.getMergedParams=function(t){var e=this.gridOptionsService.get("defaultExcelExportParams");return Object.assign({},e,t)},e.prototype.getData=function(e){return this.setExportMode(e.exportMode||"xlsx"),t.prototype.getData.call(this,e)},e.prototype.export=function(t){if(this.isExportSuppressed())return console.warn("AG Grid: Export cancelled. Export is not allowed as per your configuration."),"";var e=this.getMergedParams(t),n=this.getData(e),i={data:[n],fontSize:e.fontSize,author:e.author,mimeType:e.mimeType},o=this.packageFile(i);return o&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.aVm.download(this.getFileName(e.fileName),o),n},e.prototype.exportDataAsExcel=function(t){return this.export(t)},e.prototype.getDataAsExcel=function(t){var e=this.getMergedParams(t),n=this.getData(e);if(t&&"xml"===t.exportMode)return n;var i={data:[n],fontSize:e.fontSize,author:e.author,mimeType:e.mimeType};return this.packageFile(i)},e.prototype.setFactoryMode=function(t,e){void 0===e&&(e="xlsx"),("xlsx"===e?ExcelXlsxFactory:ExcelXmlFactory).factoryMode=t},e.prototype.getFactoryMode=function(t){return("xlsx"===t?ExcelXlsxFactory:ExcelXmlFactory).factoryMode},e.prototype.getSheetDataForExcel=function(t){var e=this.getMergedParams(t);return this.getData(e)},e.prototype.getMultipleSheetsAsExcel=function(t){return getMultipleSheetsAsExcel(t)},e.prototype.exportMultipleSheetsAsExcel=function(t){return exportMultipleSheetsAsExcel(t)},e.prototype.getDefaultFileName=function(){return"export."+this.getExportMode()},e.prototype.getDefaultFileExtension=function(){return this.getExportMode()},e.prototype.createSerializingSession=function(t){var e=this,n=e.columnModel,i=e.valueService,o=e.gridOptionsService,r="xlsx"===this.getExportMode(),s="ag-grid";null!=t.sheetName&&(s=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.utf8_encode(t.sheetName.toString().substr(0,31)));var a=__assign$K(__assign$K({},t),{sheetName:s,columnModel:n,valueService:i,gridOptionsService:o,headerRowHeight:t.headerRowHeight||t.rowHeight,baseExcelStyles:this.gridOptionsService.get("excelStyles")||[],styleLinker:this.styleLinker.bind(this)});return new(r?ExcelXlsxSerializingSession:ExcelXmlSerializingSession)(a)},e.prototype.styleLinker=function(t){var e=t.rowType,n=t.rowIndex,i=t.value,o=t.column,r=t.columnGroup,s=t.node,a=e===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.aCu.HEADER,l=e===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.aCu.HEADER_GROUPING,c=a?o:r,u=[];if(a||l)return u.push("header"),l&&u.push("headerGroup"),c&&(u=u.concat(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fQL.getHeaderClassesFromColDef(c.getDefinition(),this.gridOptionsService,o||null,r||null))),u;var h=this.gridOptionsService.get("excelStyles"),d=["cell"];if(!h||!h.length)return d;var p=h.map((function(t){return t.id}));return this.stylingService.processAllCellClasses(o.getDefinition(),{value:i,data:s.data,node:s,colDef:o.getDefinition(),column:o,rowIndex:n,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context},(function(t){p.indexOf(t)>-1&&d.push(t)})),d.sort((function(t,e){return p.indexOf(t)<p.indexOf(e)?-1:1}))},e.prototype.isExportSuppressed=function(){return this.gridOptionsService.is("suppressExcelExport")},e.prototype.setExportMode=function(t){this.exportMode=t},e.prototype.getExportMode=function(){return this.exportMode},e.prototype.packageFile=function(t){if("xml"===this.getExportMode()){var e=t.mimeType||"application/vnd.ms-excel";return new Blob(["\ufeff",t.data[0]],{type:e})}return getMultipleSheetsAsExcel(t)},__decorate$1$([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$1$([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("valueService")],e.prototype,"valueService",void 0),__decorate$1$([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("stylingService")],e.prototype,"stylingService",void 0),__decorate$1$([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridSerializer")],e.prototype,"gridSerializer",void 0),__decorate$1$([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridOptionsService")],e.prototype,"gridOptionsService",void 0),__decorate$1$([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),e=__decorate$1$([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("excelCreator")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.z0n),VERSION$d="29.3.4",ExcelExportModule={version:VERSION$d,moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.ExcelExportModule,beans:[ExcelCreator,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.YaM,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.IFn],dependantModules:[ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jMC,EnterpriseCoreModule]},__extends$2N=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$1_=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},EXPAND_STATE;!function(t){t[t.EXPANDED=0]="EXPANDED",t[t.COLLAPSED=1]="COLLAPSED",t[t.INDETERMINATE=2]="INDETERMINATE"}(EXPAND_STATE||(EXPAND_STATE={}));var FiltersToolPanelHeaderPanel=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$2N(e,t),e.prototype.preConstruct=function(){this.setTemplate('<div class="ag-filter-toolpanel-search" role="presentation">\n                <div ref="eExpand" class="ag-filter-toolpanel-expand"></div>\n                <ag-input-text-field ref="eFilterTextField" class="ag-filter-toolpanel-search-input"></ag-input-text-field>\n            </div>')},e.prototype.postConstruct=function(){var t=this.localeService.getLocaleTextFunc();this.eFilterTextField.onValueChange(this.onSearchTextChanged.bind(this)),this.eFilterTextField.setInputAriaLabel(t("ariaFilterColumnsInput","Filter Columns Input")),this.createExpandIcons(),this.setExpandState(EXPAND_STATE.EXPANDED),this.addManagedListener(this.eExpand,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_NEW_COLUMNS_LOADED,this.showOrHideOptions.bind(this))},e.prototype.init=function(t){this.params=t,this.columnModel.isReady()&&this.showOrHideOptions()},e.prototype.createExpandIcons=function(){this.eExpand.appendChild(this.eExpandChecked=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("columnSelectOpen",this.gridOptionsService)),this.eExpand.appendChild(this.eExpandUnchecked=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("columnSelectClosed",this.gridOptionsService)),this.eExpand.appendChild(this.eExpandIndeterminate=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("columnSelectIndeterminate",this.gridOptionsService))},e.prototype.showOrHideOptions=function(){var t=!this.params.suppressFilterSearch,e=!this.params.suppressExpandAll,n=this.localeService.getLocaleTextFunc();this.eFilterTextField.setInputPlaceholder(n("searchOoo","Search..."));var i=this.columnModel.getAllGridColumns().some((function(t){return t.getOriginalParent()&&t.isFilterAllowed()}));ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eFilterTextField.getGui(),t),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eExpand,e&&i)},e.prototype.onSearchTextChanged=function(){var t=this;this.onSearchTextChangedDebounced||(this.onSearchTextChangedDebounced=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.debounce((function(){t.dispatchEvent({type:"searchChanged",searchText:t.eFilterTextField.getValue()})}),300)),this.onSearchTextChangedDebounced()},e.prototype.onExpandClicked=function(){var t=this.currentExpandState===EXPAND_STATE.EXPANDED?{type:"collapseAll"}:{type:"expandAll"};this.dispatchEvent(t)},e.prototype.setExpandState=function(t){this.currentExpandState=t,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eExpandChecked,this.currentExpandState===EXPAND_STATE.EXPANDED),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eExpandUnchecked,this.currentExpandState===EXPAND_STATE.COLLAPSED),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eExpandIndeterminate,this.currentExpandState===EXPAND_STATE.INDETERMINATE)},__decorate$1_([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$1_([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eExpand")],e.prototype,"eExpand",void 0),__decorate$1_([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eFilterTextField")],e.prototype,"eFilterTextField",void 0),__decorate$1_([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.$j7],e.prototype,"preConstruct",null),__decorate$1_([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$2M=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$1Z=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},ToolPanelFilterComp=function(t){function e(n){void 0===n&&(n=!1);var i=t.call(this,e.TEMPLATE)||this;return i.expanded=!1,i.hideHeader=n,i}return __extends$2M(e,t),e.prototype.postConstruct=function(){this.eExpandChecked=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("columnSelectOpen",this.gridOptionsService),this.eExpandUnchecked=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("columnSelectClosed",this.gridOptionsService),this.eExpand.appendChild(this.eExpandChecked),this.eExpand.appendChild(this.eExpandUnchecked)},e.prototype.setColumn=function(t){var e=this;this.column=t,this.eFilterName.innerText=this.columnModel.getDisplayNameForColumn(this.column,"filterToolPanel",!1)||"",this.addManagedListener(this.eFilterToolPanelHeader,"click",this.toggleExpanded.bind(this)),this.addManagedListener(this.eFilterToolPanelHeader,"keydown",(function(t){t.key===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.ENTER&&e.toggleExpanded()})),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_FILTER_OPENED,this.onFilterOpened.bind(this)),this.addInIcon("filter",this.eFilterIcon,this.column),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eFilterIcon,this.isFilterActive(),{skipAriaHidden:!0}),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eExpandChecked,!1),this.hideHeader?(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eFilterToolPanelHeader,!1),this.eFilterToolPanelHeader.removeAttribute("tabindex")):this.eFilterToolPanelHeader.setAttribute("tabindex","0"),this.addManagedListener(this.column,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sgG.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_FILTER_DESTROYED,this.onFilterDestroyed.bind(this))},e.prototype.getColumn=function(){return this.column},e.prototype.getColumnFilterName=function(){return this.columnModel.getDisplayNameForColumn(this.column,"filterToolPanel",!1)},e.prototype.addCssClassToTitleBar=function(t){this.eFilterToolPanelHeader.classList.add(t)},e.prototype.addInIcon=function(t,e,n){if(null!=e){var i=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan(t,this.gridOptionsService,n);e.appendChild(i)}},e.prototype.isFilterActive=function(){return this.filterManager.isFilterActive(this.column)},e.prototype.onFilterChanged=function(){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eFilterIcon,this.isFilterActive(),{skipAriaHidden:!0}),this.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sgG.EVENT_FILTER_CHANGED})},e.prototype.onFilterDestroyed=function(t){this.expanded&&"api"===t.source&&t.column.getId()===this.column.getId()&&this.columnModel.getPrimaryColumn(this.column)&&(this.removeFilterElement(),this.addFilterElement())},e.prototype.toggleExpanded=function(){this.expanded?this.collapse():this.expand()},e.prototype.expand=function(){this.expanded||(this.expanded=!0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaExpanded(this.eFilterToolPanelHeader,!0),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eExpandChecked,!0),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eExpandUnchecked,!1),this.addFilterElement())},e.prototype.addFilterElement=function(){var t=this,e=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.loadTemplate('<div class="ag-filter-toolpanel-instance-filter"></div>'),n=this.filterManager.getOrCreateFilterWrapper(this.column,"TOOLBAR");if(n){var i=n.filterPromise,o=n.guiPromise;null==i||i.then((function(n){t.underlyingFilter=n,n&&o.then((function(i){i&&e.appendChild(i),t.agFilterToolPanelBody.appendChild(e),n.afterGuiAttached&&n.afterGuiAttached({container:"toolPanel"})}))}))}},e.prototype.collapse=function(){var t,e;this.expanded&&(this.expanded=!1,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaExpanded(this.eFilterToolPanelHeader,!1),this.removeFilterElement(),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eExpandChecked,!1),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eExpandUnchecked,!0),null===(e=null===(t=this.underlyingFilter)||void 0===t?void 0:t.afterGuiDetached)||void 0===e||e.call(t))},e.prototype.removeFilterElement=function(){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.clearElement(this.agFilterToolPanelBody)},e.prototype.isExpanded=function(){return this.expanded},e.prototype.refreshFilter=function(t){var e;if(this.expanded){var n=this.underlyingFilter;n&&(t?"function"==typeof n.refreshVirtualList&&n.refreshVirtualList():null===(e=n.afterGuiDetached)||void 0===e||e.call(n))}},e.prototype.onFilterOpened=function(t){"COLUMN_MENU"===t.source&&t.column===this.column&&this.expanded&&this.collapse()},e.TEMPLATE='\n        <div class="ag-filter-toolpanel-instance">\n            <div class="ag-filter-toolpanel-header ag-filter-toolpanel-instance-header" ref="eFilterToolPanelHeader" role="button" aria-expanded="false">\n                <div ref="eExpand" class="ag-filter-toolpanel-expand"></div>\n                <span ref="eFilterName" class="ag-header-cell-text"></span>\n                <span ref="eFilterIcon" class="ag-header-icon ag-filter-icon ag-filter-toolpanel-instance-header-icon" aria-hidden="true"></span>\n            </div>\n            <div class="ag-filter-toolpanel-instance-body ag-filter" ref="agFilterToolPanelBody"></div>\n        </div>',__decorate$1Z([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eFilterToolPanelHeader")],e.prototype,"eFilterToolPanelHeader",void 0),__decorate$1Z([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eFilterName")],e.prototype,"eFilterName",void 0),__decorate$1Z([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("agFilterToolPanelBody")],e.prototype,"agFilterToolPanelBody",void 0),__decorate$1Z([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eFilterIcon")],e.prototype,"eFilterIcon",void 0),__decorate$1Z([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eExpand")],e.prototype,"eExpand",void 0),__decorate$1Z([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("filterManager")],e.prototype,"filterManager",void 0),__decorate$1Z([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$1Z([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$2L=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$1Y=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},ToolPanelFilterGroupComp=function(t){function e(e,n,i,o,r){var s=t.call(this)||this;return s.columnGroup=e,s.childFilterComps=n,s.depth=o,s.expandedCallback=i,s.showingColumn=r,s}return __extends$2L(e,t),e.prototype.preConstruct=function(){this.setTemplate(e.TEMPLATE,{filterGroupComp:{cssIdentifier:"filter-toolpanel",direction:"vertical"}})},e.prototype.init=function(){var t=this;this.setGroupTitle(),this.filterGroupComp.setAlignItems("stretch"),this.filterGroupComp.addCssClass("ag-filter-toolpanel-group-level-"+this.depth),this.filterGroupComp.addCssClassToTitleBar("ag-filter-toolpanel-group-level-"+this.depth+"-header"),this.childFilterComps.forEach((function(e){t.filterGroupComp.addItem(e),e.addCssClassToTitleBar("ag-filter-toolpanel-group-level-"+(t.depth+1)+"-header")})),this.refreshFilterClass(),this.addExpandCollapseListeners(),this.addFilterChangedListeners(),this.setupTooltip()},e.prototype.setupTooltip=function(){var t=this;if(this.showingColumn){var e=function(){var e=t.columnGroup.getColDef().headerTooltip;t.setTooltip(e)};e(),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_NEW_COLUMNS_LOADED,e)}},e.prototype.getTooltipParams=function(){var e=t.prototype.getTooltipParams.call(this);return e.location="filterToolPanelColumnGroup",e},e.prototype.addCssClassToTitleBar=function(t){this.filterGroupComp.addCssClassToTitleBar(t)},e.prototype.refreshFilters=function(t){this.childFilterComps.forEach((function(n){n instanceof e?n.refreshFilters(t):n.refreshFilter(t)}))},e.prototype.isColumnGroup=function(){return this.columnGroup instanceof ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KTm},e.prototype.isExpanded=function(){return this.filterGroupComp.isExpanded()},e.prototype.getChildren=function(){return this.childFilterComps},e.prototype.getFilterGroupName=function(){return this.filterGroupName?this.filterGroupName:""},e.prototype.getFilterGroupId=function(){return this.columnGroup.getId()},e.prototype.hideGroupItem=function(t,e){this.filterGroupComp.hideItem(t,e)},e.prototype.hideGroup=function(t){this.setDisplayed(!t)},e.prototype.forEachToolPanelFilterChild=function(t){this.childFilterComps.forEach((function(e){e instanceof ToolPanelFilterComp&&t(e)}))},e.prototype.addExpandCollapseListeners=function(){var t=this,e=this.isColumnGroup()?function(){return t.expandedCallback()}:function(){return t.forEachToolPanelFilterChild((function(t){return t.expand()}))},n=this.isColumnGroup()?function(){return t.expandedCallback()}:function(){return t.forEachToolPanelFilterChild((function(t){return t.collapse()}))};this.addManagedListener(this.filterGroupComp,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.H1u.EVENT_EXPANDED,e),this.addManagedListener(this.filterGroupComp,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.H1u.EVENT_COLLAPSED,n)},e.prototype.getColumns=function(){return this.columnGroup instanceof ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KTm?this.columnGroup.getLeafColumns():[this.columnGroup]},e.prototype.addFilterChangedListeners=function(){var t=this;this.getColumns().forEach((function(e){t.addManagedListener(e,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sgG.EVENT_FILTER_CHANGED,(function(){return t.refreshFilterClass()}))})),this.columnGroup instanceof ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KTm||this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_FILTER_OPENED,this.onFilterOpened.bind(this))},e.prototype.refreshFilterClass=function(){var t=this.getColumns();this.filterGroupComp.addOrRemoveCssClass("ag-has-filter",t.some((function(t){return t.isFilterActive()})))},e.prototype.onFilterOpened=function(t){"COLUMN_MENU"===t.source&&t.column===this.columnGroup&&this.isExpanded()&&this.collapse()},e.prototype.expand=function(){this.filterGroupComp.toggleGroupExpand(!0)},e.prototype.collapse=function(){this.filterGroupComp.toggleGroupExpand(!1)},e.prototype.setGroupTitle=function(){this.filterGroupName=this.columnGroup instanceof ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KTm?this.getColumnGroupName(this.columnGroup):this.getColumnName(this.columnGroup),this.filterGroupComp.setTitle(this.filterGroupName||"")},e.prototype.getColumnGroupName=function(t){return this.columnModel.getDisplayNameForProvidedColumnGroup(null,t,"filterToolPanel")},e.prototype.getColumnName=function(t){return this.columnModel.getDisplayNameForColumn(t,"filterToolPanel",!1)},e.prototype.destroyFilters=function(){this.childFilterComps=this.destroyBeans(this.childFilterComps),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.clearElement(this.getGui())},e.prototype.destroy=function(){this.destroyFilters(),t.prototype.destroy.call(this)},e.TEMPLATE='<div class="ag-filter-toolpanel-group-wrapper">\n            <ag-group-component ref="filterGroupComp"></ag-group-component>\n        </div>',__decorate$1Y([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("filterGroupComp")],e.prototype,"filterGroupComp",void 0),__decorate$1Y([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$1Y([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.$j7],e.prototype,"preConstruct",null),__decorate$1Y([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$2K=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$1X=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},FiltersToolPanelListPanel=function(t){function e(){var n=t.call(this,e.TEMPLATE)||this;return n.initialised=!1,n.filterGroupComps=[],n}return __extends$2K(e,t),e.prototype.init=function(t){var e=this;this.initialised=!0;var n={suppressExpandAll:!1,suppressFilterSearch:!1,suppressSyncLayoutWithGrid:!1,api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsService.context};ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.mergeDeep(n,t),this.params=n,this.params.suppressSyncLayoutWithGrid||this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_MOVED,(function(){return e.onColumnsChanged()})),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_NEW_COLUMNS_LOADED,(function(){return e.onColumnsChanged()})),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_INTERNAL_TOOL_PANEL_VISIBLE_CHANGED,(function(t){"filters"===t.key&&e.refreshFilters(t.visible)})),this.columnModel.isReady()&&this.onColumnsChanged()},e.prototype.onColumnsChanged=function(){var t=this.columnModel.isPivotMode();!this.params.suppressSyncLayoutWithGrid&&!t?this.syncFilterLayout():this.buildTreeFromProvidedColumnDefs()},e.prototype.syncFilterLayout=function(){this.toolPanelColDefService.syncLayoutWithGrid(this.setFiltersLayout.bind(this))},e.prototype.buildTreeFromProvidedColumnDefs=function(){var t=this.columnModel.getPrimaryColumnTree();this.recreateFilters(t)},e.prototype.setFiltersLayout=function(t){var e=this.toolPanelColDefService.createColumnTree(t);this.recreateFilters(e)},e.prototype.recreateFilters=function(t){var e=this,n=this.gridOptionsService.getDocument().activeElement,i=this.getExpansionState();this.destroyFilters(),this.filterGroupComps=this.recursivelyAddComps(t,0,i);var o=this.filterGroupComps.length;o&&(this.filterGroupComps.forEach((function(t){return e.appendChild(t)})),this.setFirstAndLastVisible(0,o-1)),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(this.searchFilterText)&&this.searchFilters(this.searchFilterText),this.fireExpandedEvent(),this.getGui().contains(n)&&n.focus()},e.prototype.recursivelyAddComps=function(t,e,n){var i=this;return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.flatten(t.map((function(t){if(t instanceof ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KTm)return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.flatten(i.recursivelyAddFilterGroupComps(t,e,n));var o=t;if(!i.shouldDisplayFilter(o))return[];var r=new ToolPanelFilterComp(0===e);if(i.createBean(r),r.setColumn(o),n.get(o.getId())&&r.expand(),e>0)return r;var s=i.createBean(new ToolPanelFilterGroupComp(o,[r],i.onGroupExpanded.bind(i),e,!0));return s.addCssClassToTitleBar("ag-filter-toolpanel-header"),n.get(s.getFilterGroupId())||s.collapse(),s})))},e.prototype.recursivelyAddFilterGroupComps=function(t,e,n){if(this.filtersExistInChildren(t.getChildren())){var i=t.getColGroupDef();if(i&&i.suppressFiltersToolPanel)return[];var o=t.isPadding()?e:e+1,r=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.flatten(this.recursivelyAddComps(t.getChildren(),o,n));if(t.isPadding())return r;var s=new ToolPanelFilterGroupComp(t,r,this.onGroupExpanded.bind(this),e,!1);return this.createBean(s),s.addCssClassToTitleBar("ag-filter-toolpanel-header"),!1===n.get(s.getFilterGroupId())&&s.collapse(),[s]}},e.prototype.filtersExistInChildren=function(t){var e=this;return t.some((function(t){return t instanceof ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.KTm?e.filtersExistInChildren(t.getChildren()):e.shouldDisplayFilter(t)}))},e.prototype.shouldDisplayFilter=function(t){var e=t.getColDef()&&t.getColDef().suppressFiltersToolPanel;return t.isFilterAllowed()&&!e},e.prototype.getExpansionState=function(){var t=new Map,e=function(n){t.set(n.getFilterGroupId(),n.isExpanded()),n.getChildren().forEach((function(n){n instanceof ToolPanelFilterGroupComp?e(n):t.set(n.getColumn().getId(),n.isExpanded())}))};return this.filterGroupComps.forEach(e),t},e.prototype.refresh=function(){},e.prototype.setVisible=function(e){t.prototype.setDisplayed.call(this,e),e&&!this.initialised&&this.init(this.params)},e.prototype.expandFilterGroups=function(t,e){var n=[],i=function(o){var r=o.getFilterGroupId();(!e||ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(e,r))&&(t&&o.isColumnGroup()?o.expand():o.collapse(),n.push(r)),o.getChildren().forEach((function(t){t instanceof ToolPanelFilterGroupComp&&i(t)}))};if(this.filterGroupComps.forEach(i),this.onGroupExpanded(),e){var o=e.filter((function(t){return n.indexOf(t)<0}));o.length>0&&console.warn("AG Grid: unable to find groups for these supplied groupIds:",o)}},e.prototype.expandFilters=function(t,e){var n=[],i=function(o){if(o instanceof ToolPanelFilterGroupComp){var r=!1;return o.getChildren().forEach((function(e){i(e)&&(t?(o.expand(),r=!0):o.isColumnGroup()||o.collapse())})),r}var s=o.getColumn().getColId(),a=!e||ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(e,s);return a&&(t?o.expand():o.collapse(),n.push(s)),a};if(this.filterGroupComps.forEach(i),this.onGroupExpanded(),e){var o=e.filter((function(t){return n.indexOf(t)<0}));o.length>0&&console.warn("AG Grid: unable to find columns for these supplied colIds:",o)}},e.prototype.onGroupExpanded=function(){this.fireExpandedEvent()},e.prototype.fireExpandedEvent=function(){var t,e=0,n=0,i=function(t){t.isColumnGroup()&&(t.isExpanded()?e++:n++,t.getChildren().forEach((function(t){t instanceof ToolPanelFilterGroupComp&&i(t)})))};this.filterGroupComps.forEach(i),t=e>0&&n>0?EXPAND_STATE.INDETERMINATE:n>0?EXPAND_STATE.COLLAPSED:EXPAND_STATE.EXPANDED,this.dispatchEvent({type:"groupExpanded",state:t})},e.prototype.performFilterSearch=function(t){this.searchFilterText=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(t)?t.toLowerCase():null,this.searchFilters(this.searchFilterText)},e.prototype.searchFilters=function(t){var e,n,i=function(e){return!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(t)||-1!==e.toLowerCase().indexOf(t)},o=function(t,e){if(!(t instanceof ToolPanelFilterGroupComp))return i(t.getColumnFilterName()||"");var n=t.getChildren(),r=i(t.getFilterGroupName()),s=e||r;if(s){t.hideGroup(!1);for(var a=0;a<n.length;a++)o(n[a],s),t.hideGroupItem(!1,a);return!0}var l=!1;return n.forEach((function(n,i){var r=o(n,e);t.hideGroupItem(!r,i),r&&(l=!0)})),t.hideGroup(!l),l};this.filterGroupComps.forEach((function(t,i){o(t,!1),void 0===e?t.containsCssClass("ag-hidden")||(e=i,n=i):t.containsCssClass("ag-hidden")||n===i||(n=i)})),this.setFirstAndLastVisible(e,n)},e.prototype.setFirstAndLastVisible=function(t,e){this.filterGroupComps.forEach((function(n,i){n.removeCssClass("ag-first-group-visible"),n.removeCssClass("ag-last-group-visible"),i===t&&n.addCssClass("ag-first-group-visible"),i===e&&n.addCssClass("ag-last-group-visible")}))},e.prototype.refreshFilters=function(t){this.filterGroupComps.forEach((function(e){return e.refreshFilters(t)}))},e.prototype.destroyFilters=function(){this.filterGroupComps=this.destroyBeans(this.filterGroupComps),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.clearElement(this.getGui())},e.prototype.destroy=function(){this.destroyFilters(),t.prototype.destroy.call(this)},e.TEMPLATE='<div class="ag-filter-list-panel"></div>',__decorate$1X([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],e.prototype,"gridApi",void 0),__decorate$1X([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnApi")],e.prototype,"columnApi",void 0),__decorate$1X([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("toolPanelColDefService")],e.prototype,"toolPanelColDefService",void 0),__decorate$1X([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$2J=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__assign$J=function(){return __assign$J=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},__assign$J.apply(this,arguments)},__decorate$1W=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},FiltersToolPanel=function(t){function e(){var n=t.call(this,e.TEMPLATE)||this;return n.initialised=!1,n.listenerDestroyFuncs=[],n}return __extends$2J(e,t),e.prototype.init=function(t){this.initialised&&(this.listenerDestroyFuncs.forEach((function(t){return t()})),this.listenerDestroyFuncs=[]),this.initialised=!0;var e={suppressExpandAll:!1,suppressFilterSearch:!1,suppressSyncLayoutWithGrid:!1,api:this.gridApi,columnApi:this.columnApi};this.params=__assign$J(__assign$J(__assign$J({},e),t),{context:this.gridOptionsService.context}),this.filtersToolPanelHeaderPanel.init(this.params),this.filtersToolPanelListPanel.init(this.params);var n=this.params.suppressExpandAll,i=this.params.suppressFilterSearch;n&&i&&this.filtersToolPanelHeaderPanel.setDisplayed(!1),this.listenerDestroyFuncs.push(this.addManagedListener(this.filtersToolPanelHeaderPanel,"expandAll",this.onExpandAll.bind(this)),this.addManagedListener(this.filtersToolPanelHeaderPanel,"collapseAll",this.onCollapseAll.bind(this)),this.addManagedListener(this.filtersToolPanelHeaderPanel,"searchChanged",this.onSearchChanged.bind(this)),this.addManagedListener(this.filtersToolPanelListPanel,"groupExpanded",this.onGroupExpanded.bind(this)))},e.prototype.setVisible=function(e){t.prototype.setDisplayed.call(this,e),e&&!this.initialised&&this.init(this.params)},e.prototype.onExpandAll=function(){this.filtersToolPanelListPanel.expandFilterGroups(!0)},e.prototype.onCollapseAll=function(){this.filtersToolPanelListPanel.expandFilterGroups(!1)},e.prototype.onSearchChanged=function(t){this.filtersToolPanelListPanel.performFilterSearch(t.searchText)},e.prototype.setFilterLayout=function(t){this.filtersToolPanelListPanel.setFiltersLayout(t)},e.prototype.onGroupExpanded=function(t){this.filtersToolPanelHeaderPanel.setExpandState(t.state)},e.prototype.expandFilterGroups=function(t){this.filtersToolPanelListPanel.expandFilterGroups(!0,t)},e.prototype.collapseFilterGroups=function(t){this.filtersToolPanelListPanel.expandFilterGroups(!1,t)},e.prototype.expandFilters=function(t){this.filtersToolPanelListPanel.expandFilters(!0,t)},e.prototype.collapseFilters=function(t){this.filtersToolPanelListPanel.expandFilters(!1,t)},e.prototype.syncLayoutWithGrid=function(){this.filtersToolPanelListPanel.syncFilterLayout()},e.prototype.refresh=function(){this.init(this.params)},e.prototype.destroy=function(){t.prototype.destroy.call(this)},e.TEMPLATE='<div class="ag-filter-toolpanel">\n            <ag-filters-tool-panel-header ref="filtersToolPanelHeaderPanel"></ag-filters-tool-panel-header>\n            <ag-filters-tool-panel-list ref="filtersToolPanelListPanel"></ag-filters-tool-panel-list>\n         </div>',__decorate$1W([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("filtersToolPanelHeaderPanel")],e.prototype,"filtersToolPanelHeaderPanel",void 0),__decorate$1W([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("filtersToolPanelListPanel")],e.prototype,"filtersToolPanelListPanel",void 0),__decorate$1W([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],e.prototype,"gridApi",void 0),__decorate$1W([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnApi")],e.prototype,"columnApi",void 0),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),VERSION$c="29.3.4",FiltersToolPanelModule={version:VERSION$c,moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.FiltersToolPanelModule,beans:[],agStackComponents:[{componentName:"AgFiltersToolPanelHeader",componentClass:FiltersToolPanelHeaderPanel},{componentName:"AgFiltersToolPanelList",componentClass:FiltersToolPanelListPanel}],userComponents:[{componentName:"agFiltersToolPanel",componentClass:FiltersToolPanel}],dependantModules:[SideBarModule,EnterpriseCoreModule]},__extends$2I=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),TimeInterval=function(){function t(t,e,n){this._encode=t,this._decode=e,this._rangeCallback=n}return t.prototype.floor=function(t){var e=new Date(t),n=this._encode(e);return this._decode(n)},t.prototype.ceil=function(t){var e=new Date(Number(t)-1),n=this._encode(e);return this._decode(n+1)},t.prototype.range=function(t,e,n){var i,o=null===(i=this._rangeCallback)||void 0===i?void 0:i.call(this,t,e),r=this._encode(n?this.floor(t):this.ceil(t)),s=this._encode(n?this.ceil(e):this.floor(e));if(s<r)return[];for(var a=[],l=r;l<=s;l++){var c=this._decode(l);a.push(c)}return null==o||o(),a},t}(),CountableTimeInterval=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$2I(e,t),e.prototype.getOffset=function(t,e){var n="number"==typeof t||t instanceof Date?this._encode(new Date(t)):0;return Math.floor(n)%e},e.prototype.every=function(t,e){var n,i=this,o=0,r=(null!=e?e:{}).snapTo,s=void 0===r?"start":r;if("string"==typeof s){var a=o;n=function(e,n){var r="start"===s?e:n;return o=i.getOffset(r,t),function(){return o=a}}}else"number"==typeof s?o=this.getOffset(new Date(s),t):s instanceof Date&&(o=this.getOffset(s,t));return new TimeInterval((function(e){var n=i._encode(e);return Math.floor((n-o)/t)}),(function(e){return i._decode(e*t+o)}),n)},e}(TimeInterval);function encode$b(t){return t.getTime()}function decode$b(t){return new Date(t)}var millisecond=new CountableTimeInterval(encode$b,decode$b);new Date(0).getFullYear();var durationSecond=1e3,durationMinute=60*durationSecond,durationHour=60*durationMinute,durationDay=24*durationHour,durationWeek=7*durationDay,durationMonth=30*durationDay,durationYear=365*durationDay,offset$2=(new Date).getTimezoneOffset()*durationMinute;function encode$a(t){return Math.floor((t.getTime()-offset$2)/durationSecond)}function decode$a(t){return new Date(offset$2+t*durationSecond)}var second=new CountableTimeInterval(encode$a,decode$a),offset$1=(new Date).getTimezoneOffset()*durationMinute;function encode$9(t){return Math.floor((t.getTime()-offset$1)/durationMinute)}function decode$9(t){return new Date(offset$1+t*durationMinute)}var minute=new CountableTimeInterval(encode$9,decode$9),offset=(new Date).getTimezoneOffset()*durationMinute;function encode$8(t){return Math.floor((t.getTime()-offset)/durationHour)}function decode$8(t){return new Date(offset+t*durationHour)}var hour=new CountableTimeInterval(encode$8,decode$8);function encode$7(t){var e=Date.UTC(t.getFullYear(),t.getMonth(),t.getDate());return Math.floor(e/durationDay)}function decode$7(t){var e=new Date(0);return e.setDate(e.getDate()+t),e.setHours(0,0,0,0),e}var day=new CountableTimeInterval(encode$7,decode$7),baseSunday=new Date(2023,0,1);function weekday(t){var e=Date.UTC(baseSunday.getFullYear(),baseSunday.getMonth(),baseSunday.getDate())+t*durationDay;return new CountableTimeInterval((function(t){var n=Date.UTC(t.getFullYear(),t.getMonth(),t.getDate());return Math.floor((n-e)/durationWeek)}),(function(t){var n=new Date(e);return n.setDate(n.getDate()+7*t),n}))}var sunday=weekday(0),monday=weekday(1),tuesday=weekday(2),wednesday=weekday(3),thursday=weekday(4),friday=weekday(5),saturday=weekday(6);function encode$6(t){return 12*t.getFullYear()+t.getMonth()}function decode$6(t){var e=Math.floor(t/12);return new Date(e,t-12*e,1)}var month=new CountableTimeInterval(encode$6,decode$6);function encode$5(t){return t.getFullYear()}function decode$5(t){var e=new Date;return e.setFullYear(t),e.setMonth(0,1),e.setHours(0,0,0,0),e}var year=new CountableTimeInterval(encode$5,decode$5);function encode$4(t){return Math.floor(t.getTime()/durationMinute)}function decode$4(t){return new Date(t*durationMinute)}var utcMinute=new CountableTimeInterval(encode$4,decode$4);function encode$3(t){return Math.floor(t.getTime()/durationHour)}function decode$3(t){return new Date(t*durationHour)}var utcHour=new CountableTimeInterval(encode$3,decode$3);function encode$2(t){return Math.floor(t.getTime()/durationDay)}function decode$2(t){var e=new Date(0);return e.setUTCDate(e.getUTCDate()+t),e.setUTCHours(0,0,0,0),e}var utcDay=new CountableTimeInterval(encode$2,decode$2);function encode$1(t){return 12*t.getUTCFullYear()+t.getUTCMonth()}function decode$1(t){var e=Math.floor(t/12),n=t-12*e;return new Date(Date.UTC(e,n,1))}var utcMonth=new CountableTimeInterval(encode$1,decode$1);function encode(t){return t.getUTCFullYear()}function decode(t){var e=new Date;return e.setUTCFullYear(t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0),e}var utcYear=new CountableTimeInterval(encode,decode),time=Object.freeze({__proto__:null,millisecond,second,minute,hour,day,sunday,monday,tuesday,wednesday,thursday,friday,saturday,month,year,utcMinute,utcHour,utcDay,utcMonth,utcYear}),MOBILE=[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i];function isDesktop(){var t=navigator.userAgent;return!MOBILE.some((function(e){return e.test(t)}))}var HdpiCanvas=function(){function t(t){var e=t.document,n=void 0===e?window.document:e,i=t.width,o=void 0===i?600:i,r=t.height,s=void 0===r?300:r,a=t.domLayer,l=void 0!==a&&a,c=t.zIndex,u=void 0===c?0:c,h=t.name,d=void 0===h?void 0:h,p=t.overrideDevicePixelRatio,f=void 0===p?void 0:p;this._container=void 0,this._enabled=!0,this._pixelRatio=NaN,this._width=0,this._height=0,this.document=n,this.element=n.createElement("canvas"),this.element.width=o,this.element.height=s,this.context=this.element.getContext("2d"),this.imageSource=this.context.canvas;var g=this.element.style;g.userSelect="none",g.display="block",l&&(g.position="absolute",g.zIndex=String(u),g.top="0",g.left="0",g.pointerEvents="none",g.opacity="1",d&&(this.element.id=d)),this.setPixelRatio(f),this.resize(o,s)}return Object.defineProperty(t.prototype,"container",{get:function(){return this._container},set:function(t){this._container!==t&&(this.remove(),t&&t.appendChild(this.element),this._container=t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return this._enabled},set:function(t){this.element.style.display=t?"block":"none",this._enabled=!!t},enumerable:!1,configurable:!0}),t.prototype.remove=function(){var t=this.element.parentNode;null!=t&&t.removeChild(this.element)},t.prototype.destroy=function(){this.element.remove(),this.element.width=0,this.element.height=0,this.context.clearRect(0,0,0,0),Object.freeze(this)},t.prototype.snapshot=function(){},t.prototype.clear=function(){this.context.save(),this.context.resetTransform(),this.context.clearRect(0,0,this.width,this.height),this.context.restore()},t.prototype.toImage=function(){var t=this.document.createElement("img");return t.src=this.getDataURL(),t},t.prototype.getDataURL=function(t){return this.element.toDataURL(t)},t.prototype.download=function(t,e){void 0===e&&(e="image/png"),t=(t||"").trim()||"image";var n=this.getDataURL(e),i=this.document,o=i.createElement("a");o.href=n,o.download=t,o.style.display="none",i.body.appendChild(o),o.click(),i.body.removeChild(o)},Object.defineProperty(t.prototype,"pixelRatio",{get:function(){return this._pixelRatio},enumerable:!1,configurable:!0}),t.prototype.setPixelRatio=function(e){var n=null!=e?e:window.devicePixelRatio;isDesktop()||(n=1),t.overrideScale(this.context,n),this._pixelRatio=n},Object.defineProperty(t.prototype,"pixelated",{get:function(){return"pixelated"===this.element.style.imageRendering},set:function(t){this.element.style.imageRendering=t?"pixelated":"auto"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),t.prototype.resize=function(t,e){if(t>0&&e>0){var n=this,i=n.element,o=n.context,r=n.pixelRatio;i.width=Math.round(t*r),i.height=Math.round(e*r),i.style.width=t+"px",i.style.height=e+"px",o.resetTransform(),this._width=t,this._height=e}},Object.defineProperty(t,"textMeasuringContext",{get:function(){if(this._textMeasuringContext)return this._textMeasuringContext;var t=document.createElement("canvas");return this._textMeasuringContext=t.getContext("2d"),this._textMeasuringContext},enumerable:!1,configurable:!0}),Object.defineProperty(t,"svgText",{get:function(){if(this._svgText)return this._svgText;var t="http://www.w3.org/2000/svg",e=document.createElementNS(t,"svg");e.setAttribute("width","100"),e.setAttribute("height","100"),e.classList?e.classList.add("text-measuring-svg"):e.setAttribute("class","text-measuring-svg"),e.style.position="absolute",e.style.top="-1000px",e.style.visibility="hidden";var n=document.createElementNS(t,"text");return n.setAttribute("x","0"),n.setAttribute("y","30"),n.setAttribute("text","black"),e.appendChild(n),document.body.appendChild(e),this._svgText=n,n},enumerable:!1,configurable:!0}),Object.defineProperty(t,"has",{get:function(){if(this._has)return this._has;var t=navigator.userAgent.indexOf("Chrome")>-1,e=navigator.userAgent.indexOf("Firefox")>-1,n=!t&&navigator.userAgent.indexOf("Safari")>-1;return this._has=Object.freeze({textMetrics:void 0!==this.textMeasuringContext.measureText("test").actualBoundingBoxDescent&&!e&&!n,getTransform:void 0!==this.textMeasuringContext.getTransform}),this._has},enumerable:!1,configurable:!0}),t.measureText=function(t,e,n,i){var o=this.textMeasuringContext;return o.font=e,o.textBaseline=n,o.textAlign=i,o.measureText(t)},t.getTextSize=function(t,e){if(this.has.textMetrics){var n=this.textMeasuringContext;n.font=e;var i=n.measureText(t);return{width:i.width,height:i.actualBoundingBoxAscent+i.actualBoundingBoxDescent}}return this.measureSvgText(t,e)},t.measureSvgText=function(t,e){var n=this.textSizeCache,i=n[e];if(i){var o=i[t];if(o)return o}else n[e]={};var r=this.svgText;r.style.font=e,r.textContent=t;var s=r.getBBox(),a={width:s.width,height:s.height};return n[e][t]=a,a},t.overrideScale=function(t,e){var n=0,i={save:function(){this.$save(),n++},restore:function(){if(!(n>0))throw new Error("AG Charts - Unable to restore() past depth 0");this.$restore(),n--},setTransform:function(t,n,i,o,r,s){"object"==typeof t?this.$setTransform(t):this.$setTransform(t*e,n*e,i*e,o*e,r*e,s*e)},resetTransform:function(){this.$setTransform(e,0,0,e,0,0)},verifyDepthZero:function(){if(0!==n)throw new Error("AG Charts - Save/restore depth is non-zero: "+n)}};for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t["$"+o]||(t["$"+o]=t[o]),t[o]=i[o])},t.textSizeCache={},t}(),__assign$I=function(){return __assign$I=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},__assign$I.apply(this,arguments)},__read$10=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},BBox=function(){function t(t,e,n,i){this.x=t,this.y=e,this.width=n,this.height=i}return t.prototype.clone=function(){var e=this;return new t(e.x,e.y,e.width,e.height)},t.prototype.equals=function(t){return this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height},t.prototype.containsPoint=function(t,e){return t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height},t.prototype.collidesBBox=function(t){return this.x<t.x+t.width&&this.x+this.width>t.x&&this.y<t.y+t.height&&this.y+this.height>t.y},t.prototype.isInfinite=function(){return Math.abs(this.x)===1/0||Math.abs(this.y)===1/0||Math.abs(this.width)===1/0||Math.abs(this.height)===1/0},t.prototype.shrink=function(t,e){var n=this,i=function(t,e){switch(t){case"top":n.y+=e;case"bottom":n.height-=e;break;case"left":n.x+=e;case"right":n.width-=e;break;case"vertical":n.y+=e,n.height-=2*e;break;case"horizontal":n.x+=e,n.width-=2*e;break;default:n.x+=e,n.width-=2*e,n.y+=e,n.height-=2*e}};return"number"==typeof t?i(e,t):Object.entries(t).forEach((function(t){var e=__read$10(t,2),n=e[0],o=e[1];return i(n,o)})),this},t.prototype.grow=function(t,e){if("number"==typeof t)this.shrink(-t,e);else{var n=__assign$I({},t);for(var i in n)n[i]*=-1;this.shrink(n)}return this},t.merge=function(e){var n=1/0,i=1/0,o=-1/0,r=-1/0;return e.forEach((function(t){t.x<n&&(n=t.x),t.y<i&&(i=t.y),t.x+t.width>o&&(o=t.x+t.width),t.y+t.height>r&&(r=t.y+t.height)})),new t(n,i,o-n,r-i)},t}(),__read$$=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},Matrix=function(){function t(t){void 0===t&&(t=[1,0,0,1,0,0]),this.elements=t}return t.prototype.setElements=function(t){var e=this.elements;return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],this},Object.defineProperty(t.prototype,"identity",{get:function(){var t=this.elements;return 1===t[0]&&0===t[1]&&0===t[2]&&1===t[3]&&0===t[4]&&0===t[5]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"a",{get:function(){return this.elements[0]},set:function(t){this.elements[0]=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"b",{get:function(){return this.elements[1]},set:function(t){this.elements[1]=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"c",{get:function(){return this.elements[2]},set:function(t){this.elements[2]=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"d",{get:function(){return this.elements[3]},set:function(t){this.elements[3]=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"e",{get:function(){return this.elements[4]},set:function(t){this.elements[4]=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"f",{get:function(){return this.elements[5]},set:function(t){this.elements[5]=t},enumerable:!1,configurable:!0}),t.prototype.AxB=function(t,e,n){var i=t[0]*e[0]+t[2]*e[1],o=t[1]*e[0]+t[3]*e[1],r=t[0]*e[2]+t[2]*e[3],s=t[1]*e[2]+t[3]*e[3],a=t[0]*e[4]+t[2]*e[5]+t[4],l=t[1]*e[4]+t[3]*e[5]+t[5];(n=n||t)[0]=i,n[1]=o,n[2]=r,n[3]=s,n[4]=a,n[5]=l},t.prototype.multiplySelf=function(t){return this.AxB(this.elements,t.elements),this},t.prototype.multiply=function(e){var n=new Array(6);return this.AxB(this.elements,e.elements,n),new t(n)},t.prototype.preMultiplySelf=function(t){return this.AxB(t.elements,this.elements,this.elements),this},t.prototype.inverse=function(){var e=this.elements,n=e[0],i=e[1],o=e[2],r=e[3],s=e[4],a=e[5],l=1/(n*r-i*o);return new t([r*=l,-(i*=l),-(o*=l),n*=l,o*a-r*s,i*s-n*a])},t.prototype.inverseTo=function(t){var e=this.elements,n=e[0],i=e[1],o=e[2],r=e[3],s=e[4],a=e[5],l=1/(n*r-i*o);return n*=l,i*=l,o*=l,r*=l,t.setElements([r,-i,-o,n,o*a-r*s,i*s-n*a]),this},t.prototype.invertSelf=function(){var t=this.elements,e=t[0],n=t[1],i=t[2],o=t[3],r=t[4],s=t[5],a=1/(e*o-n*i);return e*=a,n*=a,i*=a,o*=a,t[0]=o,t[1]=-n,t[2]=-i,t[3]=e,t[4]=i*s-o*r,t[5]=n*r-e*s,this},t.prototype.transformPoint=function(t,e){var n=this.elements;return{x:t*n[0]+e*n[2]+n[4],y:t*n[1]+e*n[3]+n[5]}},t.prototype.transformBBox=function(t,e){var n=this.elements,i=n[0],o=n[1],r=n[2],s=n[3],a=.5*t.width,l=.5*t.height,c=t.x+a,u=t.y+l,h=Math.abs(a*i)+Math.abs(l*r),d=Math.abs(a*o)+Math.abs(l*s);return e||(e=new BBox(0,0,0,0)),e.x=c*i+u*r+n[4]-h,e.y=c*o+u*s+n[5]-d,e.width=h+h,e.height=d+d,e},t.prototype.toContext=function(t){if(!this.identity){var e=this.elements;t.transform(e[0],e[1],e[2],e[3],e[4],e[5])}},t.flyweight=function(e){return t.instance.setElements(e.elements)},t.updateTransformMatrix=function(t,e,n,i,o,r,s){var a,l,c=__read$$([0,0],2),u=c[0],h=c[1],d=e,p=n;1===d&&1===p?(a=0,l=0):(a=null==(null==s?void 0:s.scalingCenterX)?u:null==s?void 0:s.scalingCenterX,l=null==(null==s?void 0:s.scalingCenterY)?h:null==s?void 0:s.scalingCenterY);var f,g,m=i,_=Math.cos(m),y=Math.sin(m);0===m?(f=0,g=0):(f=null==(null==s?void 0:s.rotationCenterX)?u:null==s?void 0:s.rotationCenterX,g=null==(null==s?void 0:s.rotationCenterY)?h:null==s?void 0:s.rotationCenterY);var v=o,C=r,b=a*(1-d)-f,E=l*(1-p)-g;return t.setElements([_*d,y*d,-y*p,_*p,_*b-y*E+f+v,y*b+_*E+g+C]),t},t.fromContext=function(e){var n=e.getTransform();return new t([n.a,n.b,n.c,n.d,n.e,n.f])},t.instance=new t,t}(),ID_MAP={},RedrawType;function createId$1(t){var e,n=t.constructor,i=Object.prototype.hasOwnProperty.call(n,"className")?n.className:n.name;if(!i)throw new Error("The "+n+" is missing the 'className' property.");var o=(null!==(e=ID_MAP[i])&&void 0!==e?e:0)+1;return ID_MAP[i]=o,i+"-"+o}function windowValue(t){var e="undefined"!=typeof window?window:void 0;return null==e?void 0:e[t]}function evalAvailable(){try{return eval(""),!0}catch(t){return!1}}!function(t){t[t.NONE=0]="NONE",t[t.TRIVIAL=1]="TRIVIAL",t[t.MINOR=2]="MINOR",t[t.MAJOR=3]="MAJOR"}(RedrawType||(RedrawType={}));var EVAL_USEABLE=evalAvailable();function SceneChangeDetection(opts){var _a=opts||{},_b=_a.redraw,redraw=void 0===_b?RedrawType.TRIVIAL:_b,_c=_a.type,type=void 0===_c?"normal":_c,changeCb=_a.changeCb,convertor=_a.convertor,_d=_a.checkDirtyOnAssignment,checkDirtyOnAssignment=void 0!==_d&&_d,debug=null!=windowValue("agChartsSceneChangeDetectionDebug");return function(target,key){var privateKey="__"+key;if(!target[key])if(EVAL_USEABLE){var setterJs="\n                "+(debug?"var setCount = 0;":"")+"\n                function set_"+key+"(value) {\n                    const oldValue = this."+privateKey+";\n                    "+(convertor?"value = convertor(value);":"")+"\n                    if (value !== oldValue) {\n                        this."+privateKey+" = value;\n                        "+(debug?"console.log({ t: this, property: '"+key+"', oldValue, value, stack: new Error().stack });":"")+"\n                        "+("normal"===type?"this.markDirty(this, "+redraw+");":"")+"\n                        "+("transform"===type?"this.markDirtyTransform("+redraw+");":"")+"\n                        "+("path"===type?"if (!this._dirtyPath) { this._dirtyPath = true; this.markDirty(this, "+redraw+"); }":"")+"\n                        "+("font"===type?"if (!this._dirtyFont) { this._dirtyFont = true; this.markDirty(this, "+redraw+"); }":"")+"\n                        "+(changeCb?"changeCb(this);":"")+"\n                    }\n                    "+(checkDirtyOnAssignment?"if (value != null && value._dirty > "+RedrawType.NONE+") { this.markDirty(value, value._dirty); }":"")+"\n                };\n                set_"+key+";\n            ",getterJs="\n                function get_"+key+"() {\n                    return this."+privateKey+";\n                };\n                get_"+key+";\n            ";Object.defineProperty(target,key,{set:eval(setterJs),get:eval(getterJs),enumerable:!0,configurable:!0})}else{var setter=function(t){var e=this[privateKey];(t=convertor?convertor(t):t)!==e&&(this[privateKey]=t,"normal"===type&&this.markDirty(this,redraw),"transform"===type&&this.markDirtyTransform(redraw),"path"!==type||this._dirtyPath||(this._dirtyPath=!0,this.markDirty(this,redraw)),"font"!==type||this._dirtyFont||(this._dirtyFont=!0,this.markDirty(this,redraw)),changeCb&&changeCb(this)),checkDirtyOnAssignment&&null!=t&&t._dirty>RedrawType.NONE&&this.markDirty(t,t._dirty)},getter=function(){return this[privateKey]};Object.defineProperty(target,key,{set:setter,get:getter,enumerable:!0,configurable:!0})}}}var ChangeDetectable=function(){function t(){this._dirty=RedrawType.MAJOR}return t.prototype.markDirty=function(t,e){void 0===e&&(e=RedrawType.TRIVIAL),this._dirty>e||(this._dirty=e)},t.prototype.markClean=function(t){this._dirty=RedrawType.NONE},t.prototype.isDirty=function(){return this._dirty>RedrawType.NONE},t}(),__extends$2H=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$1V=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},__values$B=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},__read$_=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},__spread$B=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$_(arguments[e]));return t},PointerEvents;!function(t){t[t.All=0]="All",t[t.None=1]="None"}(PointerEvents||(PointerEvents={}));var zIndexChangedCallback=function(t){t.parent&&(t.parent.dirtyZIndex=!0),t.zIndexChanged()},Node=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.serialNumber=e._nextSerialNumber++,n.id=createId$1(n),n.tag=NaN,n.isContainerNode=!1,n._children=[],n.childSet={},n.matrix=new Matrix,n.inverseMatrix=new Matrix,n._dirtyTransform=!1,n.scalingX=1,n.scalingY=1,n.scalingCenterX=null,n.scalingCenterY=null,n.rotationCenterX=null,n.rotationCenterY=null,n.rotation=0,n.translationX=0,n.translationY=0,n.visible=!0,n.dirtyZIndex=!1,n.zIndex=0,n.zIndexSubOrder=void 0,n.pointerEvents=PointerEvents.All,n}return __extends$2H(e,t),Object.defineProperty(e.prototype,"datum",{get:function(){var t;return void 0!==this._datum?this._datum:null===(t=this._parent)||void 0===t?void 0:t.datum},set:function(t){this._datum=t},enumerable:!1,configurable:!0}),e.prototype._setLayerManager=function(t){var e,n;this._layerManager=t,this._debug=null==t?void 0:t.debug;try{for(var i=__values$B(this.children),o=i.next();!o.done;o=i.next()){o.value._setLayerManager(t)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},Object.defineProperty(e.prototype,"layerManager",{get:function(){return this._layerManager},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this._parent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"children",{get:function(){return this._children},enumerable:!1,configurable:!0}),e.prototype.append=function(t){var e,n;Array.isArray(t)||(t=[t]);try{for(var i=__values$B(t),o=i.next();!o.done;o=i.next()){var r=o.value;if(r.parent)throw new Error(r+" already belongs to another parent: "+r.parent+".");if(r.layerManager)throw new Error(r+" already belongs to a scene: "+r.layerManager+".");if(this.childSet[r.id])throw new Error("Duplicate "+r.constructor.name+" node: "+r);this._children.push(r),this.childSet[r.id]=!0,r._parent=this,r._setLayerManager(this.layerManager)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}this.dirtyZIndex=!0,this.markDirty(this,RedrawType.MAJOR)},e.prototype.appendChild=function(t){return this.append(t),t},e.prototype.removeChild=function(t){if(t.parent===this){var e=this.children.indexOf(t);if(e>=0)return this._children.splice(e,1),delete this.childSet[t.id],t._parent=void 0,t._setLayerManager(),this.dirtyZIndex=!0,this.markDirty(t,RedrawType.MAJOR),t}throw new Error("The node to be removed is not a child of this node.")},e.prototype.insertBefore=function(t,e){var n=t.parent;if(t.parent&&t.parent.removeChild(t),e&&e.parent===this){var i=this.children.indexOf(e);if(!(i>=0))throw new Error(e+" has "+n+" as the parent, but is not in its list of children.");this._children.splice(i,0,t),this.childSet[t.id]=!0,t._parent=this,t._setLayerManager(this.layerManager),this.dirtyZIndex=!0,this.markDirty(t,RedrawType.MAJOR)}else this.append(t);return t},e.prototype.calculateCumulativeMatrix=function(){this.computeTransformMatrix();for(var t=Matrix.flyweight(this.matrix),e=this.parent;e;)e.computeTransformMatrix(),t.preMultiplySelf(e.matrix),e=e.parent;return t},e.prototype.transformPoint=function(t,e){return this.calculateCumulativeMatrix().invertSelf().transformPoint(t,e)},e.prototype.inverseTransformPoint=function(t,e){return this.calculateCumulativeMatrix().transformPoint(t,e)},e.prototype.transformBBox=function(t){return this.calculateCumulativeMatrix().invertSelf().transformBBox(t)},e.prototype.inverseTransformBBox=function(t){return this.calculateCumulativeMatrix().transformBBox(t)},e.prototype.markDirtyTransform=function(){this._dirtyTransform=!0,this.markDirty(this,RedrawType.MAJOR)},e.prototype.containsPoint=function(t,e){return!1},e.prototype.pickNode=function(t,e){var n;if(this.visible&&this.pointerEvents!==PointerEvents.None&&this.containsPoint(t,e)){var i=this.children;if(i.length>1e3)for(var o=i.length-1;o>=0;o--){if(r=(null===(n=i[o].computeBBox())||void 0===n?void 0:n.containsPoint(t,e))?i[o].pickNode(t,e):void 0)return r}else if(i.length)for(o=i.length-1;o>=0;o--){var r;if(r=i[o].pickNode(t,e))return r}else if(!this.isContainerNode)return this}},e.prototype.findNodes=function(t){var e,n,i=t(this)?[this]:[];try{for(var o=__values$B(this.children),r=o.next();!r.done;r=o.next()){var s=r.value.findNodes(t);s&&i.push.apply(i,__spread$B(s))}}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return i},e.prototype.computeBBox=function(){},e.prototype.computeTransformedBBox=function(){var t=this.computeBBox();if(t){this.computeTransformMatrix();for(var e=Matrix.flyweight(this.matrix),n=this.parent;n;)n.computeTransformMatrix(),e.preMultiplySelf(n.matrix),n=n.parent;return e.transformBBox(t,t),t}},e.prototype.computeTransformMatrix=function(){if(this._dirtyTransform){var t=this,e=t.matrix,n=t.scalingX,i=t.scalingY,o=t.rotation,r=t.translationX,s=t.translationY,a=t.scalingCenterX,l=t.scalingCenterY,c=t.rotationCenterX,u=t.rotationCenterY;Matrix.updateTransformMatrix(e,n,i,o,r,s,{scalingCenterX:a,scalingCenterY:l,rotationCenterX:c,rotationCenterY:u}),e.inverseTo(this.inverseMatrix),this._dirtyTransform=!1}},e.prototype.render=function(t){var e=t.stats;this._dirty=RedrawType.NONE,e&&e.nodesRendered++},e.prototype.clearBBox=function(t){var e=this.computeBBox();if(null!=e){var n=e.x,i=e.y,o=e.width,r=e.height,s=this.transformPoint(n,i),a=this.transformPoint(n+o,i+r);t.clearRect(s.x,s.y,a.x-s.x,a.y-s.y)}},e.prototype.markDirty=function(t,e,n){void 0===e&&(e=RedrawType.TRIVIAL),void 0===n&&(n=e),this._dirty>e||this._dirty===e&&e===n||(this._dirty=e,this.parent?this.parent.markDirty(this,n):this.layerManager&&this.layerManager.markDirty())},Object.defineProperty(e.prototype,"dirty",{get:function(){return this._dirty},enumerable:!1,configurable:!0}),e.prototype.markClean=function(t){var e,n,i=t||{},o=i.force,r=void 0!==o&&o,s=i.recursive,a=void 0===s||s;if((this._dirty!==RedrawType.NONE||r)&&(this._dirty=RedrawType.NONE,a))try{for(var l=__values$B(this.children),c=l.next();!c.done;c=l.next()){c.value.markClean()}}catch(t){e={error:t}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(e)throw e.error}}},e.prototype.visibilityChanged=function(){},Object.defineProperty(e.prototype,"nodeCount",{get:function(){var t,e,n=1,i=this._dirty>=RedrawType.NONE||this._dirtyTransform?1:0,o=this.visible?1:0;try{for(var r=__values$B(this._children),s=r.next();!s.done;s=r.next()){var a=s.value.nodeCount,l=a.count,c=a.visibleCount,u=a.dirtyCount;n+=l,o+=c,i+=u}}catch(e){t={error:e}}finally{try{s&&!s.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return{count:n,visibleCount:o,dirtyCount:i}},enumerable:!1,configurable:!0}),e.prototype.zIndexChanged=function(){},e._nextSerialNumber=0,__decorate$1V([SceneChangeDetection({type:"transform"})],e.prototype,"scalingX",void 0),__decorate$1V([SceneChangeDetection({type:"transform"})],e.prototype,"scalingY",void 0),__decorate$1V([SceneChangeDetection({type:"transform"})],e.prototype,"scalingCenterX",void 0),__decorate$1V([SceneChangeDetection({type:"transform"})],e.prototype,"scalingCenterY",void 0),__decorate$1V([SceneChangeDetection({type:"transform"})],e.prototype,"rotationCenterX",void 0),__decorate$1V([SceneChangeDetection({type:"transform"})],e.prototype,"rotationCenterY",void 0),__decorate$1V([SceneChangeDetection({type:"transform"})],e.prototype,"rotation",void 0),__decorate$1V([SceneChangeDetection({type:"transform"})],e.prototype,"translationX",void 0),__decorate$1V([SceneChangeDetection({type:"transform"})],e.prototype,"translationY",void 0),__decorate$1V([SceneChangeDetection({redraw:RedrawType.MAJOR,changeCb:function(t){return t.visibilityChanged()}})],e.prototype,"visible",void 0),__decorate$1V([SceneChangeDetection({redraw:RedrawType.TRIVIAL,changeCb:zIndexChangedCallback})],e.prototype,"zIndex",void 0),__decorate$1V([SceneChangeDetection({redraw:RedrawType.TRIVIAL,changeCb:zIndexChangedCallback})],e.prototype,"zIndexSubOrder",void 0),e}(ChangeDetectable);function ascendingStringNumberUndefined(t,e){var n=0;return"number"==typeof t&&"number"==typeof e?n=t-e:"string"==typeof t&&"string"==typeof e?n=t.localeCompare(e):null==t&&null==e||(n=null==t?-1:null==e?1:String(t).localeCompare(String(e))),n}function compoundAscending(t,e,n){var i=function(t){return"function"==typeof t?t():t};for(var o in t){var r=n(i(t[o]),i(e[o]));if(0!==r)return r}return 0}var doOnceFlags$1={};function doOnce$1(t,e){doOnceFlags$1[e]||(t(),doOnceFlags$1[e]=!0)}var __read$Z=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},__spread$A=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$Z(arguments[e]));return t},Logger={debug:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];console.log.apply(console,__spread$A(t))},warn:function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];console.warn.apply(console,__spread$A(["AG Charts - "+t],e))},error:function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];console.error.apply(console,__spread$A(["AG Charts - "+t],e))},warnOnce:function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];doOnce$1((function(){return Logger.warn.apply(Logger,__spread$A([t],e))}),"Logger.warn: "+t)},errorOnce:function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];doOnce$1((function(){return Logger.error.apply(Logger,__spread$A([t],e))}),"Logger.warn: "+t)}},__extends$2G=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__assign$H=function(){return __assign$H=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},__assign$H.apply(this,arguments)},__decorate$1U=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},__values$A=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},__read$Y=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},__spread$z=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$Y(arguments[e]));return t},Group=function(t){function e(e){var n,i=t.call(this)||this;i.opts=e,i.opacity=1,i.lastBBox=void 0;var o=e||{},r=o.zIndex,s=o.zIndexSubOrder;return i.isContainerNode=!0,void 0!==r&&(i.zIndex=r),void 0!==s&&(i.zIndexSubOrder=s),i.name=null===(n=i.opts)||void 0===n?void 0:n.name,i}return __extends$2G(e,t),e.prototype.zIndexChanged=function(){var t;this.layer&&(null===(t=this._layerManager)||void 0===t||t.moveLayer(this.layer,this.zIndex,this.zIndexSubOrder))},e.prototype.isLayer=function(){return null!=this.layer},e.prototype._setLayerManager=function(e){var n,i=this;if(this._layerManager&&this.layer&&(this._layerManager.removeLayer(this.layer),this.layer=void 0),this.layer)throw new Error("AG Charts - unable to deregister scene rendering layer!");if(t.prototype._setLayerManager.call(this,e),e&&(null===(n=this.opts)||void 0===n?void 0:n.layer)){var o=this.opts||{},r=o.zIndex,s=o.zIndexSubOrder,a=o.name;this.layer=e.addLayer({zIndex:r,zIndexSubOrder:s,name:a,getComputedOpacity:function(){return i.getComputedOpacity()},getVisibility:function(){return i.getVisibility()}})}},e.prototype.getComputedOpacity=function(){var t=1,n=this;do{n instanceof e&&(t*=n.opacity)}while(n=n.parent);return t},e.prototype.getVisibility=function(){for(var t=this,e=this.visible;t=t.parent;)t.visible||(e=t.visible);return e},e.prototype.visibilityChanged=function(){this.layer&&(this.layer.enabled=this.visible)},e.prototype.markDirty=function(e,n){void 0===n&&(n=RedrawType.TRIVIAL);var i=n<=RedrawType.MINOR?RedrawType.TRIVIAL:n;t.prototype.markDirty.call(this,e,n,i)},e.prototype.containsPoint=function(t,e){return!0},e.prototype.computeBBox=function(){return this.computeTransformMatrix(),e.computeBBox(this.children)},e.prototype.computeTransformedBBox=function(){return this.computeBBox()},e.prototype.render=function(e){var n,i,o,r,s=this.opts,a=(void 0===s?{}:s).name,l=void 0===a?void 0:a,c=this._debug,u=(void 0===c?{}:c).consoleLog,h=void 0!==u&&u,d=this,p=d.dirty,f=d.dirtyZIndex,g=d.layer,m=d.children,_=d.clipRect,y=e.ctx,v=e.forceRender,C=e.clipBBox,b=e.resized,E=e.stats,S=y.getTransform(),w=p>=RedrawType.MINOR||f||b,O=w||m.some((function(t){return t.dirty>=RedrawType.TRIVIAL}));if(l&&h&&Logger.debug({name:l,group:this,isDirty:w,isChildDirty:O,renderCtx:e,forceRender:v}),g){var x=this.computeBBox();void 0!==this.lastBBox&&this.lastBBox.equals(x)?x.isInfinite()||(v=!1):(v=!0,this.lastBBox=x)}if(!w&&!O&&!v){if(l&&h&&E){var P=this.nodeCount;Logger.debug({name:l,result:"skipping",renderCtx:e,counts:P,group:this})}return g&&E&&(E.layersSkipped++,E.nodesSkipped+=this.nodeCount.count),void this.markClean({recursive:!1})}var T=this.visible;if(g){if((y=g.context).save(),y.resetTransform(),v=!0,g.clear(),C){var M=C.width,D=C.height,R=C.x,A=C.y;h&&Logger.debug({name:l,clipBBox:C,ctxTransform:y.getTransform(),renderCtx:e,group:this}),this.clipCtx(y,R,A,M,D)}y.setTransform(S)}else y.globalAlpha*=this.opacity;if(this.computeTransformMatrix(),this.matrix.toContext(y),_){R=_.x,A=_.y,M=_.width,D=_.height;y.save(),h&&Logger.debug({name:l,clipRect:_,ctxTransform:y.getTransform(),renderCtx:e,group:this}),this.clipCtx(y,R,A,M,D),C=this.matrix.inverse().transformBBox(_)}f&&(this.sortChildren(),v=!0);var L=v!==e.forceRender||C!==e.clipBBox||y!==e.ctx?__assign$H(__assign$H({},e),{ctx:y,forceRender:v,clipBBox:C}):e,I=0;try{for(var k=__values$A(m),N=k.next();!N.done;N=k.next()){var F=N.value;F.visible&&T?v||F.dirty!==RedrawType.NONE?(y.save(),F.render(L),y.restore()):E&&(I+=F.nodeCount.count):(F.markClean(),E&&(I+=F.nodeCount.count))}}catch(t){n={error:t}}finally{try{N&&!N.done&&(i=k.return)&&i.call(k)}finally{if(n)throw n.error}}if(E&&(E.nodesSkipped+=I),t.prototype.render.call(this,e),_&&y.restore(),g&&(E&&E.layersRendered++,y.restore(),g.snapshot(),null===(r=(o=g.context).verifyDepthZero)||void 0===r||r.call(o)),l&&h&&E){P=this.nodeCount;Logger.debug({name:l,result:"rendered",skipped:I,renderCtx:e,counts:P,group:this})}},e.prototype.sortChildren=function(){this.dirtyZIndex=!1,this.children.sort((function(t,e){var n,i;return compoundAscending(__spread$z([t.zIndex],null!==(n=t.zIndexSubOrder)&&void 0!==n?n:[void 0,void 0],[t.serialNumber]),__spread$z([e.zIndex],null!==(i=e.zIndexSubOrder)&&void 0!==i?i:[void 0,void 0],[e.serialNumber]),ascendingStringNumberUndefined)}))},e.prototype.clipCtx=function(t,e,n,i,o){t.beginPath(),t.moveTo(e,n),t.lineTo(e+i,n),t.lineTo(e+i,n+o),t.lineTo(e,n+o),t.closePath(),t.clip()},e.computeBBox=function(t){var e=1/0,n=-1/0,i=1/0,o=-1/0;return t.forEach((function(t){if(t.visible){var r=t.computeTransformedBBox();if(r){var s=r.x,a=r.y;s<e&&(e=s),a<i&&(i=a),s+r.width>n&&(n=s+r.width),a+r.height>o&&(o=a+r.height)}}})),new BBox(e,i,n-e,o-i)},e.prototype.setClipRectInGroupCoordinateSpace=function(t){this.clipRect=t?this.transformBBox(t):void 0},e.className="Group",__decorate$1U([SceneChangeDetection({convertor:function(t){return Math.min(1,Math.max(0,t))}})],e.prototype,"opacity",void 0),e}(Node),HdpiOffscreenCanvas=function(){function t(t){var e=t.width,n=void 0===e?600:e,i=t.height,o=void 0===i?300:i,r=t.overrideDevicePixelRatio,s=void 0===r?void 0:r;this.enabled=!0,this._pixelRatio=NaN,this._width=0,this._height=0,this.canvas=new OffscreenCanvas(n,o),this.context=this.canvas.getContext("2d"),this.imageSource=this.canvas.transferToImageBitmap(),this.setPixelRatio(s),this.resize(n,o)}return t.isSupported=function(){return null!=window.OffscreenCanvas},t.prototype.snapshot=function(){this.imageSource.close(),this.imageSource=this.canvas.transferToImageBitmap()},t.prototype.destroy=function(){this.imageSource.close(),this.canvas.width=0,this.canvas.height=0,this.context.clearRect(0,0,0,0)},t.prototype.clear=function(){this.context.save(),this.context.resetTransform(),this.context.clearRect(0,0,this.width,this.height),this.context.restore()},Object.defineProperty(t.prototype,"pixelRatio",{get:function(){return this._pixelRatio},enumerable:!1,configurable:!0}),t.prototype.setPixelRatio=function(t){var e=null!=t?t:window.devicePixelRatio;isDesktop()||(e=1),HdpiCanvas.overrideScale(this.context,e),this._pixelRatio=e},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),t.prototype.resize=function(t,e){if(t>0&&e>0){var n=this,i=n.canvas,o=n.context,r=n.pixelRatio;i.width=Math.round(t*r),i.height=Math.round(e*r),o.resetTransform(),this._width=t,this._height=e}},t}(),__assign$G=function(){return __assign$G=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},__assign$G.apply(this,arguments)},__awaiter$f=function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function s(t){try{l(i.next(t))}catch(t){r(t)}}function a(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((i=i.apply(t,e||[])).next())}))},__generator$f=function(t,e){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(t){r=[6,t],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},__read$X=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},__spread$y=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$X(arguments[e]));return t},__values$z=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function buildSceneNodeHighlight(){var t,e=null!==(t=windowValue("agChartsSceneDebug"))&&void 0!==t?t:[];"string"==typeof e&&(e=[e]);var n=[];return e.forEach((function(t){"layout"===t?n.push("seriesRoot","legend","root",/.*Axis-\d+-axis.*/):n.push(t)})),n}var Scene=function(){function t(t){var e,n;this.id=createId$1(this),this.layers=[],this._nextZIndex=0,this._nextLayerId=0,this._dirty=!1,this._root=null,this.debug={dirtyTree:!1,stats:!1,renderBoundingBoxes:!1,consoleLog:!1,sceneNodeHighlight:[]};var i=t.document,o=void 0===i?window.document:i,r=t.mode,s=void 0===r?windowValue("agChartsSceneRenderModel")||"adv-composite":r,a=t.width,l=t.height,c=t.overrideDevicePixelRatio,u=void 0===c?void 0:c;this.overrideDevicePixelRatio=u,this.opts={document:o,mode:s},this.debug.consoleLog=!0===windowValue("agChartsDebug"),this.debug.stats=null!==(e=windowValue("agChartsSceneStats"))&&void 0!==e&&e,this.debug.dirtyTree=null!==(n=windowValue("agChartsSceneDirtyTree"))&&void 0!==n&&n,this.debug.sceneNodeHighlight=buildSceneNodeHighlight(),this.canvas=new HdpiCanvas({document:o,width:a,height:l,overrideDevicePixelRatio:u})}return Object.defineProperty(t.prototype,"container",{get:function(){return this.canvas.container},set:function(t){this.canvas.container=t},enumerable:!1,configurable:!0}),t.prototype.download=function(t,e){this.canvas.download(t,e)},t.prototype.getDataURL=function(t){return this.canvas.getDataURL(t)},Object.defineProperty(t.prototype,"width",{get:function(){return this.pendingSize?this.pendingSize[0]:this.canvas.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.pendingSize?this.pendingSize[1]:this.canvas.height},enumerable:!1,configurable:!0}),t.prototype.resize=function(t,e){t=Math.round(t),e=Math.round(e);var n=t<=0||e<=0,i=isNaN(t)||isNaN(e);return!(t===this.width&&e===this.height||i||n)&&(this.pendingSize=[t,e],this.markDirty(),!0)},t.prototype.addLayer=function(t){var e,n=this.opts.mode;if(["composite","dom-composite","adv-composite"].includes(n)){var i=t.zIndex,o=void 0===i?this._nextZIndex++:i,r=t.name,s=t.zIndexSubOrder,a=t.getComputedOpacity,l=t.getVisibility,c=this,u=c.width,h=c.height,d=c.overrideDevicePixelRatio,p="dom-composite"===n,f="adv-composite"===n&&HdpiOffscreenCanvas.isSupported()?new HdpiOffscreenCanvas({width:u,height:h,overrideDevicePixelRatio:d}):new HdpiCanvas({document:this.opts.document,width:u,height:h,domLayer:p,zIndex:o,name:r,overrideDevicePixelRatio:d}),g={id:this._nextLayerId++,name:r,zIndex:o,zIndexSubOrder:s,canvas:f,getComputedOpacity:a,getVisibility:l};if(o>=this._nextZIndex&&(this._nextZIndex=o+1),this.layers.push(g),this.sortLayers(),p){var m=this.layers.map((function(t){return t.canvas})).filter((function(t){return t instanceof HdpiCanvas})),_=m.findIndex((function(t){return t===f}));(null!==(e=m[_-1])&&void 0!==e?e:this.canvas).element.insertAdjacentElement("afterend",f.element)}return this.debug.consoleLog&&Logger.debug({layers:this.layers}),g.canvas}},t.prototype.removeLayer=function(t){var e=this.layers.findIndex((function(e){return e.canvas===t}));e>=0&&(this.layers.splice(e,1),t.destroy(),this.markDirty(),this.debug.consoleLog&&Logger.debug({layers:this.layers}))},t.prototype.moveLayer=function(t,e,n){var i=this.layers.find((function(e){return e.canvas===t}));i&&(i.zIndex=e,i.zIndexSubOrder=n,this.sortLayers(),this.markDirty(),this.debug.consoleLog&&Logger.debug({layers:this.layers}))},t.prototype.sortLayers=function(){this.layers.sort((function(t,e){var n,i;return compoundAscending(__spread$y([t.zIndex],null!==(n=t.zIndexSubOrder)&&void 0!==n?n:[void 0,void 0],[t.id]),__spread$y([e.zIndex],null!==(i=e.zIndexSubOrder)&&void 0!==i?i:[void 0,void 0],[e.id]),ascendingStringNumberUndefined)}))},t.prototype.markDirty=function(){this._dirty=!0},Object.defineProperty(t.prototype,"dirty",{get:function(){return this._dirty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this._root},set:function(t){t!==this._root&&(this._root&&this._root._setLayerManager(),this._root=t,t&&(null===t.parent&&t.layerManager&&t.layerManager!==this&&(t.layerManager.root=null),t._setLayerManager(this)),this.markDirty())},enumerable:!1,configurable:!0}),t.prototype.strip=function(){var t,e,n=this.layers;try{for(var i=__values$z(n),o=i.next();!o.done;o=i.next()){var r=o.value;r.canvas.destroy(),delete r.canvas}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}n.splice(0,n.length),this.root=null,this._dirty=!1,this.canvas.context.resetTransform()},t.prototype.destroy=function(){this.container=void 0,this.strip(),this.canvas.destroy(),Object.assign(this,{canvas:void 0,ctx:void 0})},t.prototype.render=function(t){var e;return __awaiter$f(this,void 0,void 0,(function(){var n,i,o,r,s,a,l,c,u,h,d,p,f,g,m,_,y,v;return __generator$f(this,(function(C){return i=(n=t||{}).debugSplitTimes,o=void 0===i?[performance.now()]:i,r=n.extraDebugStats,s=void 0===r?{}:r,l=(a=this).canvas,c=a.canvas.context,u=a.root,h=a.layers,d=a.pendingSize,p=a.opts.mode,d&&((v=this.canvas).resize.apply(v,__spread$y(d)),this.layers.forEach((function(t){var e;return(e=t.canvas).resize.apply(e,__spread$y(d))})),this.pendingSize=void 0),u&&!u.visible?(this._dirty=!1,[2]):u&&!this.dirty?(this.debug.consoleLog&&Logger.debug("no-op",{redrawType:RedrawType[u.dirty],tree:this.buildTree(u)}),this.debugStats(o,c,void 0,s),[2]):(f={ctx:c,forceRender:!0,resized:!!d,debugNodes:{}},"detailed"===this.debug.stats&&(f.stats={layersRendered:0,layersSkipped:0,nodesRendered:0,nodesSkipped:0}),g=!1,(!u||u.dirty>=RedrawType.TRIVIAL)&&(g=!0,l.clear()),u&&this.debug.dirtyTree&&(m=this.buildDirtyTree(u),_=m.dirtyTree,y=m.paths,Logger.debug({dirtyTree:_,paths:y})),u&&g&&(this.debug.consoleLog&&Logger.debug("before",{redrawType:RedrawType[u.dirty],canvasCleared:g,tree:this.buildTree(u)}),u.visible&&(c.save(),u.render(f),c.restore())),"dom-composite"!==p&&h.length>0&&g&&(this.sortLayers(),c.save(),c.setTransform(1/l.pixelRatio,0,0,1/l.pixelRatio,0,0),h.forEach((function(t){var e=t.canvas,n=e.imageSource,i=e.enabled,o=t.getComputedOpacity,r=t.getVisibility;i&&r()&&(c.globalAlpha=o(),c.drawImage(n,0,0))})),c.restore()),null===(e=c.verifyDepthZero)||void 0===e||e.call(c),this._dirty=!1,this.debugStats(o,c,f.stats,s),this.debugSceneNodeHighlight(c,this.debug.sceneNodeHighlight,f.debugNodes),u&&this.debug.consoleLog&&Logger.debug("after",{redrawType:RedrawType[u.dirty],canvasCleared:g,tree:this.buildTree(u)}),[2])}))}))},t.prototype.debugStats=function(t,e,n,i){var o,r;void 0===i&&(i={});var s=performance.now();if(this.debug.stats){var a=t[0];t.push(s);var l=function(t,e){var n=t+e;return t+" / "+n+" ("+Math.round(100*t/n)+"%)"},c=function(t,e){return Math.round(100*(e-t))/100+"ms"},u=null!=n?n:{},h=u.layersRendered,d=void 0===h?0:h,p=u.layersSkipped,f=void 0===p?0:p,g=u.nodesRendered,m=void 0===g?0:g,_=u.nodesSkipped,y=void 0===_?0:_,v=t.map((function(e,n){return n>0?c(t[n-1],e):null})).filter((function(t){return null!=t})).join(" + "),C=Object.entries(i).map((function(t){var e=__read$X(t,2);return e[0]+": "+e[1]})).join(" ; "),b=[c(a,s)+" ("+v+")",""+C,"detailed"===this.debug.stats?"Layers: "+l(d,f):null,"detailed"===this.debug.stats?"Nodes: "+l(m,y):null].filter((function(t){return null!=t}));e.save(),e.fillStyle="white",e.fillRect(0,0,200,10+15*b.length),e.fillStyle="black";var E=0;try{for(var S=__values$z(b),w=S.next();!w.done;w=S.next()){var O=w.value;e.fillText(O,2,10+15*E++)}}catch(t){o={error:t}}finally{try{w&&!w.done&&(r=S.return)&&r.call(S)}finally{if(o)throw o.error}}e.restore()}},t.prototype.debugSceneNodeHighlight=function(t,e,n){var i,o,r,s,a,l,c,u=function(t){return function(e){return!!t.test(e.id)||e instanceof Group&&null!=e.name&&t.test(e.name)}},h=function(t){return function(e){return t===e.id||e instanceof Group&&null!=e.name&&t===e.name}};try{for(var d=__values$z(e),p=d.next();!p.done;p=d.next()){var f=p.value;if("string"!=typeof f||null==n[f]){var g="string"==typeof f?h(f):u(f),m=null===(c=this.root)||void 0===c?void 0:c.findNodes(g);if(m&&0!==m.length)try{for(var _=(r=void 0,__values$z(m)),y=_.next();!y.done;y=_.next()){(b=y.value)instanceof Group&&b.name?n[b.name]=b:n[b.id]=b}}catch(t){r={error:t}}finally{try{y&&!y.done&&(s=_.return)&&s.call(_)}finally{if(r)throw r.error}}else Logger.debug("no debugging node with id ["+f+"] in scene graph.")}}}catch(t){i={error:t}}finally{try{p&&!p.done&&(o=d.return)&&o.call(d)}finally{if(i)throw i.error}}t.save();try{for(var v=__values$z(Object.entries(n)),C=v.next();!C.done;C=v.next()){var b,E=__read$X(C.value,2),S=E[0],w=(b=E[1]).computeTransformedBBox();w?(t.globalAlpha=.8,t.strokeStyle="red",t.lineWidth=1,t.strokeRect(w.x,w.y,w.width,w.height),t.fillStyle="red",t.strokeStyle="white",t.font="16px sans-serif",t.textBaseline="top",t.textAlign="left",t.lineWidth=2,t.strokeText(S,w.x,w.y,w.width),t.fillText(S,w.x,w.y,w.width)):Logger.debug("no bbox for debugged node ["+S+"].")}}catch(t){a={error:t}}finally{try{C&&!C.done&&(l=v.return)&&l.call(v)}finally{if(a)throw a.error}}t.restore()},t.prototype.buildTree=function(t){var e,n=this,i=null!==(e=t instanceof Group?t.name:null)&&void 0!==e?e:t.id;return __assign$G({name:i,node:t,dirty:RedrawType[t.dirty]},t.children.map((function(t){return n.buildTree(t)})).reduce((function(t,e){var n=e.name,i=e.node,o=i.visible,r=i.opacity,s=i.zIndex,a=i.zIndexSubOrder,l=e.node;return(!o||r<=0)&&(n="("+n+")"),l instanceof Group&&l.isLayer()&&(n="*"+n+"*"),t[[""+(null!=n?n:"<unknown>"),"z: "+s,a&&"zo: "+a.join(" / ")].filter((function(t){return!!t})).join(" ")]=e,t}),{}))},t.prototype.buildDirtyTree=function(t){var e,n=this;if(t.dirty===RedrawType.NONE)return{dirtyTree:{},paths:[]};var i=t.children.map((function(t){return n.buildDirtyTree(t)})).filter((function(t){return t.paths.length>0})),o=null!==(e=t instanceof Group?t.name:null)&&void 0!==e?e:t.id,r=0===i.length?[o]:i.map((function(t){return t.paths})).reduce((function(t,e){return t.concat(e)}),[]).map((function(t){return o+"."+t}));return{dirtyTree:__assign$G({name:o,node:t,dirty:RedrawType[t.dirty]},i.map((function(t){return t.dirtyTree})).filter((function(t){return void 0!==t.dirty})).reduce((function(t,e){return t[e.name||"<unknown>"]=e,t}),{})),paths:r}},t.className="Scene",t}(),Observable=function(){function t(){this.allEventListeners=new Map}return t.prototype.addEventListener=function(t,e){if("function"!=typeof e)throw new Error("AG Charts - listener must be a Function");var n=this.allEventListeners,i=n.get(t);i||(i=new Set,n.set(t,i)),i.has(e)||i.add(e)},t.prototype.removeEventListener=function(t,e){var n=this.allEventListeners,i=n.get(t);i&&(i.delete(e),0===i.size&&n.delete(t))},t.prototype.hasEventListener=function(t){return this.allEventListeners.has(t)},t.prototype.clearEventListeners=function(){this.allEventListeners.clear()},t.prototype.fireEvent=function(t){var e=this.allEventListeners.get(t.type);null==e||e.forEach((function(e){return e(t)}))},t}(),isString$1=function(t){return"string"==typeof t},isStringObject$1=function(t){return!!t&&Object.prototype.hasOwnProperty.call(t,"toString")&&isString$1(t.toString())},isDate$1=function(t){return t instanceof Date&&!isNaN(+t)};function isDiscrete(t){return isString$1(t)||isStringObject$1(t)}function isContinuous(t){var e;return isNumber$4(t)||!!(e=t)&&Object.prototype.hasOwnProperty.call(e,"valueOf")&&isNumber$4(e.valueOf())||function(t){return t instanceof Date&&!isNaN(+t)}(t)}function checkDatum(t,e){return e&&isContinuous(t)?t:e?void 0:isDiscrete(t)?t:String(t)}var isNumber$4=function(t){return"number"==typeof t&&Number.isFinite(t)},__values$y=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},BREAK_TRANSFORM_CHAIN=Symbol("BREAK"),CONFIG_KEY="__decorator_config";function initialiseConfig(t,e,n,i){null==Object.getOwnPropertyDescriptor(t,CONFIG_KEY)&&Object.defineProperty(t,CONFIG_KEY,{value:{}});var o=t[CONFIG_KEY];if(null!=o[n])return o[n];o[n]={setters:[],getters:[]};var r=Object.getOwnPropertyDescriptor(t,e),s=null==r?void 0:r.set,a=null==r?void 0:r.get;return Object.defineProperty(t,e,{set:function(t){var r,l,c,u,h,d=null!==(u=null===(c=o[n])||void 0===c?void 0:c.setters)&&void 0!==u?u:[];d.some((function(t){return t.length>2}))&&(h=a?a.call(this):this[i]);try{for(var p=__values$y(d),f=p.next();!f.done;f=p.next()){if((t=(0,f.value)(this,e,t,h))===BREAK_TRANSFORM_CHAIN)return}}catch(t){r={error:t}}finally{try{f&&!f.done&&(l=p.return)&&l.call(p)}finally{if(r)throw r.error}}s?s.call(this,t):this[i]=t},get:function(){var t,r,s,l,c=a?a.call(this):this[i];try{for(var u=__values$y(null!==(l=null===(s=o[n])||void 0===s?void 0:s.getters)&&void 0!==l?l:[]),h=u.next();!h.done;h=u.next()){if((c=(0,h.value)(this,e,c))===BREAK_TRANSFORM_CHAIN)return}}catch(e){t={error:e}}finally{try{h&&!h.done&&(r=u.return)&&r.call(u)}finally{if(t)throw t.error}}return c},enumerable:!0,configurable:!1}),o[n]}function addTransformToInstanceProperty(t,e){return function(n,i){var o=i.toString(),r=initialiseConfig(n,i,o,"__"+o),s=r.getters;r.setters.push(t),e&&s.splice(0,0,e)}}function createDeprecationWarning(){return function(t,e){var n=["Property ["+t+"] is deprecated.",e].filter((function(t){return null!=t})).join(" ");Logger.warnOnce(n)}}function Deprecated(t,e){var n=null==e?void 0:e.default,i=createDeprecationWarning();return addTransformToInstanceProperty((function(e,o,r){return r!==n&&i(o.toString(),t),r}))}function DeprecatedAndRenamedTo(t,e){var n=createDeprecationWarning();return addTransformToInstanceProperty((function(i,o,r){return r!==i[t]&&(n(o.toString(),"Use ["+t+"] instead."),i[t]=e?e(r):r),BREAK_TRANSFORM_CHAIN}),(function(e,i){return n(i.toString(),"Use ["+t+"] instead."),e[t]}))}var __read$W=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},Color=function(){function t(t,e,n,i){void 0===i&&(i=1),this.r=Math.min(1,Math.max(0,t||0)),this.g=Math.min(1,Math.max(0,e||0)),this.b=Math.min(1,Math.max(0,n||0)),this.a=Math.min(1,Math.max(0,i||0))}return t.validColorString=function(e){return e.indexOf("#")>=0?!!t.parseHex(e):e.indexOf("rgb")>=0?!!t.stringToRgba(e):!!t.nameToHex[e.toLowerCase()]},t.fromString=function(e){if(e.indexOf("#")>=0)return t.fromHexString(e);var n=t.nameToHex[e.toLowerCase()];if(n)return t.fromHexString(n);if(e.indexOf("rgb")>=0)return t.fromRgbaString(e);throw new Error("Invalid color string: '"+e+"'")},t.tryParseFromString=function(e){try{return t.fromString(e)}catch(n){return Logger.warnOnce("invalid color string: '"+e+"'."),t.fromArray([0,0,0])}},t.parseHex=function(t){var e;switch((t=t.replace(/ /g,"").slice(1)).length){case 6:case 8:e=[];for(var n=0;n<t.length;n+=2)e.push(parseInt(""+t[n]+t[n+1],16));break;case 3:case 4:e=t.split("").map((function(t){return parseInt(t,16)})).map((function(t){return t+16*t}))}if((null==e?void 0:e.length)>=3&&e.every((function(t){return t>=0})))return 3===e.length&&e.push(255),e},t.fromHexString=function(e){var n=t.parseHex(e);if(n){var i=__read$W(n,4);return new t(i[0]/255,i[1]/255,i[2]/255,i[3]/255)}throw new Error("Malformed hexadecimal color string: '"+e+"'")},t.stringToRgba=function(t){for(var e=__read$W([NaN,NaN],2),n=e[0],i=e[1],o=0;o<t.length;o++){var r=t[o];if(n||"("!==r){if(")"===r){i=o;break}}else n=o}var s=n&&i&&t.substring(n+1,i);if(s){var a=s.split(","),l=[];for(o=0;o<a.length;o++){var c=a[o],u=parseFloat(c);if(isNaN(u))return;c.indexOf("%")>=0?(u=Math.max(0,Math.min(100,u)),u/=100):3===o?u=Math.max(0,Math.min(1,u)):(u=Math.max(0,Math.min(255,u)),u/=255),l.push(u)}return l}},t.fromRgbaString=function(e){var n=t.stringToRgba(e);if(n){if(3===n.length)return new t(n[0],n[1],n[2]);if(4===n.length)return new t(n[0],n[1],n[2],n[3])}throw new Error("Malformed rgb/rgba color string: '"+e+"'")},t.fromArray=function(e){if(4===e.length)return new t(e[0],e[1],e[2],e[3]);if(3===e.length)return new t(e[0],e[1],e[2]);throw new Error("The given array should contain 3 or 4 color components (numbers).")},t.fromHSB=function(e,n,i,o){void 0===o&&(o=1);var r=t.HSBtoRGB(e,n,i);return new t(r[0],r[1],r[2],o)},t.padHex=function(t){return 1===t.length?"0"+t:t},t.prototype.toHexString=function(){var e="#"+t.padHex(Math.round(255*this.r).toString(16))+t.padHex(Math.round(255*this.g).toString(16))+t.padHex(Math.round(255*this.b).toString(16));return this.a<1&&(e+=t.padHex(Math.round(255*this.a).toString(16))),e},t.prototype.toRgbaString=function(t){void 0===t&&(t=3);var e=[Math.round(255*this.r),Math.round(255*this.g),Math.round(255*this.b)],n=Math.pow(10,t);return 1!==this.a?(e.push(Math.round(this.a*n)/n),"rgba("+e.join(", ")+")"):"rgb("+e.join(", ")+")"},t.prototype.toString=function(){return 1===this.a?this.toHexString():this.toRgbaString()},t.prototype.toHSB=function(){return t.RGBtoHSB(this.r,this.g,this.b)},t.RGBtoHSB=function(t,e,n){var i=Math.min(t,e,n),o=Math.max(t,e,n),r=NaN;if(i!==o){var s=o-i,a=(o-t)/s,l=(o-e)/s,c=(o-n)/s;r=t===o?c-l:e===o?2+a-c:4+l-a,(r/=6)<0&&(r+=1)}return[360*r,0!==o?(o-i)/o:0,o]},t.HSBtoRGB=function(t,e,n){isNaN(t)&&(t=0),t=(t%360+360)%360/360;var i=0,o=0,r=0;if(0===e)i=o=r=n;else{var s=6*(t-Math.floor(t)),a=s-Math.floor(s),l=n*(1-e),c=n*(1-e*a),u=n*(1-e*(1-a));switch(s>>0){case 0:i=n,o=u,r=l;break;case 1:i=c,o=n,r=l;break;case 2:i=l,o=n,r=u;break;case 3:i=l,o=c,r=n;break;case 4:i=u,o=l,r=n;break;case 5:i=n,o=l,r=c}}return[i,o,r]},t.prototype.derive=function(e,n,i,o){var r=t.RGBtoHSB(this.r,this.g,this.b),s=r[2];0==s&&i>1&&(s=.05);var a=((r[0]+e)%360+360)%360,l=Math.max(Math.min(r[1]*n,1),0);s=Math.max(Math.min(s*i,1),0);var c=Math.max(Math.min(this.a*o,1),0),u=t.HSBtoRGB(a,l,s);return u.push(c),t.fromArray(u)},t.prototype.brighter=function(){return this.derive(0,1,1/.7,1)},t.prototype.darker=function(){return this.derive(0,1,.7,1)},t.nameToHex=Object.freeze({aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",transparent:"#00000000",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"}),t}();function Validate(t){return addTransformToInstanceProperty((function(e,n,i){var o,r,s;if(t(i,{target:e}))return i;var a=n.toString().replace(/^_*/,""),l=null!==(r=null===(o=e.constructor)||void 0===o?void 0:o.className)&&void 0!==r?r:null===(s=e.constructor)||void 0===s?void 0:s.name;(null==l?void 0:l.length)<3&&(l=null);var c=l?"of ["+l+"] ":"";return t.message?Logger.warn("Property ["+a+"] "+c+"cannot be set to ["+JSON.stringify(i)+"]; "+t.message+", ignoring."):Logger.warn("Property ["+a+"] "+c+"cannot be set to ["+JSON.stringify(i)+"], ignoring."),BREAK_TRANSFORM_CHAIN}))}function predicateWithMessage(t,e){return t.message=e,t}var OPTIONAL=function(t,e,n){return void 0===t||n(t,e)},ARRAY=function(t,e){return predicateWithMessage((function(n,i){return Array.isArray(n)&&(!t||n.length===t)&&(!e||n.every((function(t){return e(t,i)})))}),"expecting an Array")},OPT_ARRAY=function(t){return predicateWithMessage((function(e,n){return OPTIONAL(e,n,ARRAY(t))}),"expecting an optional Array")},AND=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return predicateWithMessage((function(e,n){return t.every((function(t){return t(e,n)}))}),t.map((function(t){return t.message})).filter((function(t){return null!=t})).join(" AND "))},OR=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return predicateWithMessage((function(e,n){return t.some((function(t){return t(e,n)}))}),t.map((function(t){return t.message})).filter((function(t){return null!=t})).join(" OR "))},isComparable=function(t){return null!=t&&!isNaN(t)},LESS_THAN=function(t){return predicateWithMessage((function(e,n){return!isComparable(e)||!isComparable(n.target[t])||e<n.target[t]}),"expected to be less than "+t)},GREATER_THAN=function(t){return predicateWithMessage((function(e,n){return!isComparable(e)||!isComparable(n.target[t])||e>n.target[t]}),"expected to be greater than "+t)},FUNCTION=predicateWithMessage((function(t){return"function"==typeof t}),"expecting a Function"),OPT_FUNCTION=predicateWithMessage((function(t,e){return OPTIONAL(t,e,FUNCTION)}),"expecting an optional Function"),BOOLEAN=predicateWithMessage((function(t){return!0===t||!1===t}),"expecting a Boolean"),OPT_BOOLEAN=predicateWithMessage((function(t,e){return OPTIONAL(t,e,BOOLEAN)}),"expecting an optional Boolean"),STRING=predicateWithMessage((function(t){return"string"==typeof t}),"expecting a String"),OPT_STRING=predicateWithMessage((function(t,e){return OPTIONAL(t,e,STRING)}),"expecting an optional String"),DATE=predicateWithMessage((function(t){return t instanceof Date&&!isNaN(+t)}),"expecting a Date object"),OPT_DATE=predicateWithMessage((function(t,e){return OPTIONAL(t,e,DATE)}),"expecting an optional Date");predicateWithMessage(ARRAY(void 0,DATE),"expecting an Array of Date objects");var DATETIME_MS=NUMBER(0),OPT_DATETIME_MS=predicateWithMessage((function(t,e){return OPTIONAL(t,e,DATETIME_MS)}),"expecting an optional number"),OPT_DATE_OR_DATETIME_MS=OR(OPT_DATE,OPT_DATETIME_MS),colorMessage="A color string can be in one of the following formats to be valid: #rgb, #rrggbb, rgb(r, g, b), rgba(r, g, b, a) or a CSS color name such as 'white', 'orange', 'cyan', etc",COLOR_STRING=predicateWithMessage((function(t){return"string"==typeof t&&Color.validColorString(t)}),"expecting a color String. "+colorMessage),OPT_COLOR_STRING=predicateWithMessage((function(t,e){return OPTIONAL(t,e,COLOR_STRING)}),"expecting an optional color String. "+colorMessage),COLOR_STRING_ARRAY=predicateWithMessage(ARRAY(void 0,COLOR_STRING),"expecting an Array of color strings. "+colorMessage),OPT_COLOR_STRING_ARRAY=predicateWithMessage((function(t,e){return OPTIONAL(t,e,COLOR_STRING_ARRAY)}),"expecting an optional Array of color strings. "+colorMessage);function NUMBER(t,e){return predicateWithMessage((function(n){return"number"==typeof n&&Number.isFinite(n)&&(void 0===t||n>=t)&&(void 0===e||n<=e)}),"expecting a finite Number"+(void 0!==t?", more than or equal to "+t:"")+(void 0!==e?", less than or equal to "+e:""))}function OPT_NUMBER(t,e){return predicateWithMessage((function(n,i){return OPTIONAL(n,i,NUMBER(t,e))}),"expecting an optional finite Number"+(void 0!==t?", more than or equal to "+t:"")+(void 0!==e?", less than or equal to "+e:""))}function NUMBER_OR_NAN(t,e){return predicateWithMessage((function(n){return"number"==typeof n&&(isNaN(n)||Number.isFinite(n)&&(void 0===t||n>=t)&&(void 0===e||n<=e))}),"expecting a finite Number"+(void 0!==t?", more than or equal to "+t:"")+(void 0!==e?", less than or equal to "+e:""))}var NUMBER_ARRAY=predicateWithMessage(ARRAY(void 0,NUMBER()),"expecting an Array of numbers"),OPT_NUMBER_ARRAY=predicateWithMessage((function(t,e){return OPTIONAL(t,e,NUMBER_ARRAY)}),"expecting an optional Array of numbers"),STRING_ARRAY=predicateWithMessage(ARRAY(void 0,STRING),"expecting an Array of strings");function STRING_UNION(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return predicateWithMessage((function(e){return"string"==typeof e&&t.indexOf(e)>=0}),"expecting one of: "+t.join(", "))}predicateWithMessage((function(t,e){return OPTIONAL(t,e,STRING_ARRAY)}),"expecting an optional Array of strings");var BOOLEAN_ARRAY=predicateWithMessage(ARRAY(void 0,BOOLEAN),"expecting an Array of boolean values");predicateWithMessage((function(t,e){return OPTIONAL(t,e,BOOLEAN_ARRAY)}),"expecting an optional Array of boolean values");var FONT_WEIGHTS=["normal","bold","bolder","lighter","100","200","300","400","500","600","700","800","900"],FONT_STYLE=predicateWithMessage((function(t){return"normal"===t||"italic"===t||"oblique"===t}),"expecting a font style keyword such as 'normal', 'italic' or 'oblique'"),OPT_FONT_STYLE=predicateWithMessage((function(t,e){return OPTIONAL(t,e,FONT_STYLE)}),"expecting an optional font style keyword such as 'normal', 'italic' or 'oblique'"),FONT_WEIGHT=predicateWithMessage((function(t){return FONT_WEIGHTS.includes(t)}),"expecting a font weight keyword such as 'normal', 'bold' or 'bolder' or a numeric value such as 100, 300 or 600"),OPT_FONT_WEIGHT=predicateWithMessage((function(t,e){return OPTIONAL(t,e,FONT_WEIGHT)}),"expecting an optional font weight keyword such as 'normal', 'bold' or 'bolder' or a numeric value such as 100, 300 or 600"),LINE_DASH=predicateWithMessage(ARRAY(void 0,NUMBER(0)),"expecting an Array of numbers specifying the length in pixels of alternating dashes and gaps, for example, [6, 3] means dashes with a length of 6 pixels with gaps between of 3 pixels."),OPT_LINE_DASH=predicateWithMessage((function(t,e){return OPTIONAL(t,e,LINE_DASH)}),"expecting an optional Array of numbers specifying the length in pixels of alternating dashes and gaps, for example, [6, 3] means dashes with a length of 6 pixels with gaps between of 3 pixels."),LINE_CAPS=["butt","round","square"],LINE_CAP=predicateWithMessage((function(t){return LINE_CAPS.includes(t)}),"expecting a line cap keyword such as 'butt', 'round' or 'square'");predicateWithMessage((function(t,e){return OPTIONAL(t,e,LINE_CAP)}),"expecting an optional line cap keyword such as 'butt', 'round' or 'square'");var LINE_JOINS=["round","bevel","miter"],LINE_JOIN=predicateWithMessage((function(t){return LINE_JOINS.includes(t)}),"expecting a line join keyword such as 'round', 'bevel' or 'miter'");predicateWithMessage((function(t,e){return OPTIONAL(t,e,LINE_JOIN)}),"expecting an optional line join keyword such as 'round', 'bevel' or 'miter'");var POSITIONS=["top","right","bottom","left"],POSITION=predicateWithMessage((function(t){return POSITIONS.includes(t)}),"expecting a position keyword such as 'top', 'right', 'bottom' or 'left"),INTERACTION_RANGES=["exact","nearest"],INTERACTION_RANGE=predicateWithMessage((function(t){return"number"==typeof t&&Number.isFinite(t)||INTERACTION_RANGES.includes(t)}),"expecting an interaction range of 'exact', 'nearest' or a number"),Layers,ChartAxisDirection;!function(t){t[t.SERIES_BACKGROUND_ZINDEX=-10]="SERIES_BACKGROUND_ZINDEX",t[t.AXIS_GRID_ZINDEX=0]="AXIS_GRID_ZINDEX",t[t.AXIS_ZINDEX=20]="AXIS_ZINDEX",t[t.SERIES_CROSSLINE_RANGE_ZINDEX=30]="SERIES_CROSSLINE_RANGE_ZINDEX",t[t.SERIES_LAYER_ZINDEX=500]="SERIES_LAYER_ZINDEX",t[t.SERIES_CROSSHAIR_ZINDEX=1e3]="SERIES_CROSSHAIR_ZINDEX",t[t.SERIES_LABEL_ZINDEX=1500]="SERIES_LABEL_ZINDEX",t[t.SERIES_CROSSLINE_LINE_ZINDEX=2500]="SERIES_CROSSLINE_LINE_ZINDEX",t[t.LEGEND_ZINDEX=3e3]="LEGEND_ZINDEX"}(Layers||(Layers={})),function(t){t.X="x",t.Y="y"}(ChartAxisDirection||(ChartAxisDirection={}));var __decorate$1T=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},__values$x=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},DEFAULT_TOOLTIP_CLASS="ag-chart-tooltip",defaultTooltipCss$1="\n."+DEFAULT_TOOLTIP_CLASS+" {\n    transition: transform 0.1s ease;\n    display: table;\n    position: fixed;\n    left: 0px;\n    top: 0px;\n    white-space: nowrap;\n    z-index: 99999;\n    font: 12px Verdana, sans-serif;\n    color: black;\n    background: rgb(244, 244, 244);\n    border-radius: 5px;\n    box-shadow: 0 0 1px rgba(3, 3, 3, 0.7), 0.5vh 0.5vh 1vh rgba(3, 3, 3, 0.25);\n}\n\n."+DEFAULT_TOOLTIP_CLASS+"-no-interaction {\n    pointer-events: none;\n    user-select: none;\n}\n\n."+DEFAULT_TOOLTIP_CLASS+"-no-animation {\n    transition: none !important;\n}\n\n."+DEFAULT_TOOLTIP_CLASS+"-hidden {\n    visibility: hidden;\n}\n\n."+DEFAULT_TOOLTIP_CLASS+"-title {\n    font-weight: bold;\n    padding: 7px;\n    border-top-left-radius: 5px;\n    border-top-right-radius: 5px;\n    color: white;\n    background-color: #888888;\n    border-top-left-radius: 5px;\n    border-top-right-radius: 5px;\n}\n\n."+DEFAULT_TOOLTIP_CLASS+"-content {\n    padding: 7px;\n    line-height: 1.7em;\n    border-bottom-left-radius: 5px;\n    border-bottom-right-radius: 5px;\n    overflow: hidden;\n}\n\n."+DEFAULT_TOOLTIP_CLASS+"-content:empty {\n    padding: 0;\n    height: 7px;\n}\n\n."+DEFAULT_TOOLTIP_CLASS+'-arrow::before {\n    content: "";\n\n    position: absolute;\n    top: 100%;\n    left: 50%;\n    transform: translateX(-50%);\n\n    border: 6px solid #989898;\n\n    border-left-color: transparent;\n    border-right-color: transparent;\n    border-top-color: #989898;\n    border-bottom-color: transparent;\n\n    width: 0;\n    height: 0;\n\n    margin: 0 auto;\n}\n\n.'+DEFAULT_TOOLTIP_CLASS+'-arrow::after {\n    content: "";\n\n    position: absolute;\n    top: 100%;\n    left: 50%;\n    transform: translateX(-50%);\n\n    border: 5px solid black;\n\n    border-left-color: transparent;\n    border-right-color: transparent;\n    border-top-color: rgb(244, 244, 244);\n    border-bottom-color: transparent;\n\n    width: 0;\n    height: 0;\n\n    margin: 0 auto;\n}\n\n.ag-chart-wrapper {\n    box-sizing: border-box;\n    overflow: hidden;\n}\n';function toTooltipHtml$1(t,e){if("string"==typeof t)return t;e=e||{};var n=t.content,i=void 0===n?e.content||"":n,o=t.title,r=void 0===o?e.title||void 0:o,s=t.color,a=void 0===s?e.color||"white":s,l=t.backgroundColor,c=void 0===l?e.backgroundColor||"#888":l;return(r?'<div class="'+DEFAULT_TOOLTIP_CLASS+'-title"\n        style="color: '+a+"; background-color: "+c+'">'+r+"</div>":"")+'<div class="'+DEFAULT_TOOLTIP_CLASS+'-content">'+i+"</div>"}var POSITION_TYPES=["pointer","node"],POSITION_TYPE=predicateWithMessage((function(t){return POSITION_TYPES.includes(t)}),"expecting a position type keyword such as 'pointer' or 'node'"),TooltipPosition=function(){function t(){this.type="pointer",this.xOffset=0,this.yOffset=0}return __decorate$1T([Validate(POSITION_TYPE)],t.prototype,"type",void 0),__decorate$1T([Validate(NUMBER())],t.prototype,"xOffset",void 0),__decorate$1T([Validate(NUMBER())],t.prototype,"yOffset",void 0),t}(),Tooltip=function(){function t(e,n,i){var o=this;this.enableInteraction=!1,this.enabled=!0,this.class=void 0,this.lastClass=void 0,this.delay=0,this.range="nearest",this.position=new TooltipPosition,this.showTimeout=0,this.showArrow=!0,this.tooltipRoot=i;var r=n.createElement("div");if(this.element=this.tooltipRoot.appendChild(r),this.element.classList.add(DEFAULT_TOOLTIP_CLASS),this.canvasElement=e,window.IntersectionObserver){var s=new IntersectionObserver((function(t){var e,n;try{for(var i=__values$x(t),r=i.next();!r.done;r=i.next()){var s=r.value;s.target===o.canvasElement&&0===s.intersectionRatio&&o.toggle(!1)}}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}}),{root:this.tooltipRoot});s.observe(this.canvasElement),this.observer=s}if(t.tooltipDocuments.indexOf(n)<0){var a=n.createElement("style");a.innerHTML=defaultTooltipCss$1,n.head.insertBefore(a,n.head.querySelector("style")),t.tooltipDocuments.push(n)}}return t.prototype.destroy=function(){var t=this.element.parentNode;t&&t.removeChild(this.element),this.observer&&this.observer.unobserve(this.canvasElement)},t.prototype.isVisible=function(){return!this.element.classList.contains(DEFAULT_TOOLTIP_CLASS+"-hidden")},t.prototype.updateClass=function(t,e){var n=this,i=n.element,o=n.class,r=n.lastClass,s=n.enableInteraction,a=function(t,e){var n=DEFAULT_TOOLTIP_CLASS+"-"+t;e?i.classList.add(n):i.classList.remove(n)};a("no-animation",!this.isVisible()&&!!t),a("no-interaction",!s),a("hidden",!t),a("arrow",!!e),o!==r&&(r&&i.classList.remove(r),o&&i.classList.add(o),this.lastClass=o)},t.prototype.show=function(t,e,n){var i,o,r,s,a,l=this;void 0===n&&(n=!1);var c=this.element,u=this.canvasElement;if(void 0!==e)c.innerHTML=e;else if(!c.innerHTML)return;var h=function(t,e,n){return Math.max(Math.min(e,n),t)},d=null!==(o=null===(i=t.position)||void 0===i?void 0:i.xOffset)&&void 0!==o?o:0,p=null!==(s=null===(r=t.position)||void 0===r?void 0:r.yOffset)&&void 0!==s?s:0,f=u.getBoundingClientRect(),g=f.left+t.offsetX-c.clientWidth/2+d,m=f.top+t.offsetY-c.clientHeight-8+p,_=this.getWindowBoundingBox(),y=_.x+_.width-c.clientWidth-1,v=_.y+_.height-c.clientHeight,C=h(_.x,g,y),b=h(_.y,m,v),E=0!==d||0!==p,S=C!==g||b!==m;if(this.showArrow=!S&&!E,c.style.transform="translate("+Math.round(C)+"px, "+Math.round(b)+"px)",this.enableInteraction=null!==(a=t.enableInteraction)&&void 0!==a&&a,this.delay>0&&!n)return this.toggle(!1),void(this.showTimeout=window.setTimeout((function(){l.toggle(!0)}),this.delay));this.toggle(!0)},t.prototype.getWindowBoundingBox=function(){return new BBox(0,0,window.innerWidth,window.innerHeight)},t.prototype.toggle=function(t){t||window.clearTimeout(this.showTimeout),this.updateClass(t,this.showArrow)},t.prototype.pointerLeftOntoTooltip=function(t){var e;if(!this.enableInteraction)return!1;var n=null===(e=t.sourceEvent.relatedTarget)||void 0===e?void 0:e.classList,i=Boolean(["","-title","-content"].filter((function(t){return null==n?void 0:n.contains(""+DEFAULT_TOOLTIP_CLASS+t)})));return void 0!==n&&i},t.tooltipDocuments=[],__decorate$1T([Validate(BOOLEAN)],t.prototype,"enabled",void 0),__decorate$1T([Validate(OPT_STRING)],t.prototype,"class",void 0),__decorate$1T([Validate(NUMBER(0))],t.prototype,"delay",void 0),__decorate$1T([DeprecatedAndRenamedTo("range",(function(t){return t?"nearest":"exact"}))],t.prototype,"tracking",void 0),__decorate$1T([Validate(INTERACTION_RANGE)],t.prototype,"range",void 0),t}(),__extends$2F=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__assign$F=function(){return __assign$F=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},__assign$F.apply(this,arguments)},__decorate$1S=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},__values$w=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},__read$V=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},__spread$x=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$V(arguments[e]));return t},SeriesNodePickMode;!function(t){t[t.EXACT_SHAPE_MATCH=0]="EXACT_SHAPE_MATCH",t[t.NEAREST_BY_MAIN_AXIS_FIRST=1]="NEAREST_BY_MAIN_AXIS_FIRST",t[t.NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST=2]="NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST",t[t.NEAREST_NODE=3]="NEAREST_NODE"}(SeriesNodePickMode||(SeriesNodePickMode={}));var warnDeprecated=createDeprecationWarning(),warnSeriesDeprecated=function(){return warnDeprecated("series","Use seriesId to get the series ID")};function keyProperty(t,e,n){return void 0===n&&(n={}),__assign$F(__assign$F({},n),{property:t,type:"key",valueType:e?"range":"category",validation:function(t){return null!=checkDatum(t,e)}})}function valueProperty(t,e,n){return void 0===n&&(n={}),__assign$F(__assign$F({},n),{property:t,type:"value",valueType:e?"range":"category",validation:function(t){return null!=checkDatum(t,e)}})}function sumProperties(t){return{properties:t,type:"sum"}}var SeriesNodeBaseClickEvent=function(){function t(t,e,n){this.type="nodeClick",this.event=t,this.datum=e.datum,this.seriesId=n.id,this._series=n}return Object.defineProperty(t.prototype,"series",{get:function(){return warnSeriesDeprecated(),this._series},enumerable:!1,configurable:!0}),t}(),SeriesNodeClickEvent=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$2F(e,t),e}(SeriesNodeBaseClickEvent),SeriesNodeDoubleClickEvent=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="nodeDoubleClick",e}return __extends$2F(e,t),e}(SeriesNodeBaseClickEvent),SeriesItemHighlightStyle=function(){function t(){this.fill="yellow",this.fillOpacity=void 0,this.stroke=void 0,this.strokeWidth=void 0}return __decorate$1S([Validate(OPT_COLOR_STRING)],t.prototype,"fill",void 0),__decorate$1S([Validate(OPT_NUMBER(0,1))],t.prototype,"fillOpacity",void 0),__decorate$1S([Validate(OPT_COLOR_STRING)],t.prototype,"stroke",void 0),__decorate$1S([Validate(OPT_NUMBER(0))],t.prototype,"strokeWidth",void 0),t}(),SeriesHighlightStyle=function(){function t(){this.strokeWidth=void 0,this.dimOpacity=void 0,this.enabled=void 0}return __decorate$1S([Validate(OPT_NUMBER(0))],t.prototype,"strokeWidth",void 0),__decorate$1S([Validate(OPT_NUMBER(0,1))],t.prototype,"dimOpacity",void 0),__decorate$1S([Validate(OPT_BOOLEAN)],t.prototype,"enabled",void 0),t}(),TextHighlightStyle=function(){function t(){this.color="black"}return __decorate$1S([Validate(OPT_COLOR_STRING)],t.prototype,"color",void 0),t}(),HighlightStyle=function(){this.item=new SeriesItemHighlightStyle,this.series=new SeriesHighlightStyle,this.text=new TextHighlightStyle},SeriesTooltip=function(){function t(){this.enabled=!0,this.interaction=new SeriesTooltipInteraction,this.position=new TooltipPosition}return __decorate$1S([Validate(BOOLEAN)],t.prototype,"enabled",void 0),t}(),SeriesTooltipInteraction=function(){function t(){this.enabled=!1}return __decorate$1S([Validate(BOOLEAN)],t.prototype,"enabled",void 0),t}(),Series=function(t){function e(e){var n=void 0===e?{}:e,i=n.useSeriesGroupLayer,o=void 0===i||i,r=n.useLabelLayer,s=void 0!==r&&r,a=n.pickModes,l=void 0===a?[SeriesNodePickMode.NEAREST_BY_MAIN_AXIS_FIRST]:a,c=n.directionKeys,u=void 0===c?{}:c,h=t.call(this)||this;h.id=createId$1(h),h.rootGroup=new Group({name:"seriesRoot"}),h.directions=[ChartAxisDirection.X,ChartAxisDirection.Y],h.nodeDataRefresh=!0,h._data=void 0,h._visible=!0,h.showInLegend=!0,h.cursor="default",h.nodeClickRange="exact",h._declarationOrder=-1,h.highlightStyle=new HighlightStyle;var d=h.rootGroup;return h.directionKeys=u,h.contentGroup=d.appendChild(new Group({name:h.id+"-content",layer:o,zIndex:Layers.SERIES_LAYER_ZINDEX,zIndexSubOrder:[function(){return h._declarationOrder},0]})),h.highlightGroup=d.appendChild(new Group({name:h.id+"-highlight",layer:!0,zIndex:Layers.SERIES_LAYER_ZINDEX,zIndexSubOrder:[function(){return h._declarationOrder},15e3]})),h.highlightNode=h.highlightGroup.appendChild(new Group({name:"highlightNode"})),h.highlightLabel=h.highlightGroup.appendChild(new Group({name:"highlightLabel"})),h.highlightNode.zIndex=0,h.highlightLabel.zIndex=10,h.pickModes=l,s&&(h.labelGroup=d.appendChild(new Group({name:h.id+"-series-labels",layer:!0,zIndex:Layers.SERIES_LABEL_ZINDEX}))),h}return __extends$2F(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this.constructor.type||""},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return this._data},set:function(t){this._data=t,this.nodeDataRefresh=!0},enumerable:!1,configurable:!0}),e.prototype.hasData=function(){var t=this.data;return t&&(!Array.isArray(t)||t.length>0)},Object.defineProperty(e.prototype,"visible",{get:function(){return this._visible},set:function(t){this._visible=t,this.visibleChanged()},enumerable:!1,configurable:!0}),e.prototype.getBandScalePadding=function(){return{inner:1,outer:0}},e.prototype.destroy=function(){},Object.defineProperty(e.prototype,"grouped",{set:function(t){if(!0===t)throw new Error("AG Charts - grouped: true is unsupported for series of type: "+this.type)},enumerable:!1,configurable:!0}),e.prototype.getKeys=function(t){var e=this,n=this.directionKeys,i=this.resolveKeyDirection(t),o=n&&n[i],r=[],s=function(){for(var t,e,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];try{for(var o=__values$w(n),r=o.next();!r.done;r=o.next()){var s=r.value;a(s)}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}},a=function(t){Array.isArray(t)?s.apply(void 0,__spread$x(t)):r.push(t)};return o?(o.forEach((function(t){var n=e[t];n&&a(n)})),r):r},e.prototype.resolveKeyDirection=function(t){return t},e.prototype.markNodeDataDirty=function(){this.nodeDataRefresh=!0},e.prototype.visibleChanged=function(){},e.prototype.getOpacity=function(t){var e=this.highlightStyle.series,n=e.dimOpacity,i=void 0===n?1:n,o=e.enabled;if(!1===(void 0===o||o)||1===i)return 1;switch(this.isItemIdHighlighted(t)){case"no-highlight":case"highlighted":return 1;case"peer-highlighted":case"other-highlighted":return i}},e.prototype.getStrokeWidth=function(t,e){var n=this.highlightStyle.series,i=n.strokeWidth,o=n.enabled;if(!1===(void 0===o||o)||void 0===i)return t;switch(this.isItemIdHighlighted(e)){case"highlighted":return i;case"no-highlight":case"other-highlighted":case"peer-highlighted":return t}},e.prototype.isItemIdHighlighted=function(t){var e,n=null===(e=this.highlightManager)||void 0===e?void 0:e.getActiveHighlight(),i=null!=n?n:{},o=i.series,r=i.itemId;return null!=o?o!==this?"other-highlighted":void 0===r?"highlighted":t&&n!==t&&r!==t.itemId?"peer-highlighted":"highlighted":"no-highlight"},e.prototype.pickNode=function(t,e){var n,i,o=this,r=o.pickModes,s=o.visible,a=o.rootGroup;if(s&&a.visible)try{for(var l=__values$w(r),c=l.next();!c.done;c=l.next()){var u=c.value;if(!e||e.includes(u)){var h=void 0;switch(u){case SeriesNodePickMode.EXACT_SHAPE_MATCH:h=this.pickNodeExactShape(t);break;case SeriesNodePickMode.NEAREST_BY_MAIN_AXIS_FIRST:case SeriesNodePickMode.NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST:h=this.pickNodeMainAxisFirst(t,u===SeriesNodePickMode.NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST);break;case SeriesNodePickMode.NEAREST_NODE:h=this.pickNodeClosestDatum(t)}if(h)return{pickMode:u,match:h.datum,distance:h.distance}}}}catch(t){n={error:t}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(n)throw n.error}}},e.prototype.pickNodeExactShape=function(t){var e=this.contentGroup.pickNode(t.x,t.y);if(e)return{datum:e.datum,distance:0}},e.prototype.pickNodeClosestDatum=function(t){throw new Error("AG Charts - Series.pickNodeClosestDatum() not implemented")},e.prototype.pickNodeMainAxisFirst=function(t,e){throw new Error("AG Charts - Series.pickNodeMainAxisFirst() not implemented")},e.prototype.fireNodeClickEvent=function(t,e){var n=this.getNodeClickEvent(t,e);this.fireEvent(n)},e.prototype.fireNodeDoubleClickEvent=function(t,e){var n=this.getNodeDoubleClickEvent(t,e);this.fireEvent(n)},e.prototype.getNodeClickEvent=function(t,e){return new SeriesNodeClickEvent(t,e,this)},e.prototype.getNodeDoubleClickEvent=function(t,e){return new SeriesNodeDoubleClickEvent(t,e,this)},e.prototype.toggleSeriesItem=function(t,e){this.visible=e,this.nodeDataRefresh=!0},e.prototype.toggleOtherSeriesItems=function(t,e,n,i){},e.prototype.isEnabled=function(){return this.visible},e.prototype.fixNumericExtent=function(t,e){var n;if(void 0===t)return[];var i=__read$V(t,2),o=i[0],r=i[1];if(r=+r,0===(o=+o)&&0===r)return[0,1];if(o===1/0&&r===-1/0)return[];if(o===1/0&&(o=0),r===-1/0&&(r=0),o===r){var s=null!==(n=null==e?void 0:e.calculatePadding(o,r))&&void 0!==n?n:1;o-=s,r+=s}return isNumber$4(o)&&isNumber$4(r)?[o,r]:[]},e.highlightedZIndex=1e12,__decorate$1S([Validate(STRING)],e.prototype,"id",void 0),__decorate$1S([Validate(BOOLEAN)],e.prototype,"_visible",void 0),__decorate$1S([Validate(BOOLEAN)],e.prototype,"showInLegend",void 0),__decorate$1S([Validate(STRING)],e.prototype,"cursor",void 0),__decorate$1S([Validate(INTERACTION_RANGE)],e.prototype,"nodeClickRange",void 0),e}(Observable),__decorate$1R=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},Padding$1=function(){function t(t,e,n,i){void 0===t&&(t=0),void 0===e&&(e=t),void 0===n&&(n=t),void 0===i&&(i=e),this.top=t,this.right=e,this.bottom=n,this.left=i}return t.prototype.clear=function(){this.top=this.right=this.bottom=this.left=0},__decorate$1R([Validate(NUMBER(0))],t.prototype,"top",void 0),__decorate$1R([Validate(NUMBER(0))],t.prototype,"right",void 0),__decorate$1R([Validate(NUMBER(0))],t.prototype,"bottom",void 0),__decorate$1R([Validate(NUMBER(0))],t.prototype,"left",void 0),t}(),Selection=function(){function t(t,e){this._nodes=[],this._data=[],this._parent=t,this._factory=Object.prototype.isPrototypeOf.call(Node,e)?function(){return new e}:e}return t.select=function(e,n){return new t(e,n)},t.prototype.each=function(t){return this._nodes.forEach((function(e,n){return t(e,e.datum,n)})),this},t.prototype.update=function(t,e){var n=this,i=this._data,o=this._parent,r=this._factory;t.length>i.length?t.slice(i.length).forEach((function(t){var i=r(t);i.datum=t,e&&e(i),o.appendChild(i),n._nodes.push(i)})):t.length<i.length&&this._nodes.splice(t.length).forEach((function(t){o.removeChild(t)})),this._data=t.slice(0);for(var s=0;s<t.length;s++)this._nodes[s].datum=this._data[s];return this},t.prototype.clear=function(){return this.update([]),this},t.prototype.select=function(t){var e=[],n=function(i){t(i)&&e.push(i),i.children.forEach(n)};return n(this._parent),e},t.prototype.selectByClass=function(t){return this.select((function(e){return e instanceof t}))},t.prototype.selectByTag=function(t){return this.select((function(e){return e.tag===t}))},t.prototype.nodes=function(){return this._nodes},t}(),Gradient=function(){this.stops=[]},twoPi=2*Math.PI;function normalizeAngle360(t){return t%=twoPi,t+=twoPi,t%=twoPi}function normalizeAngle360Inclusive(t){return t%=twoPi,(t+=twoPi)!==twoPi&&(t%=twoPi),t}function normalizeAngle180(t){return(t%=twoPi)<-Math.PI?t+=twoPi:t>=Math.PI&&(t-=twoPi),t}function toRadians$1(t){return t/180*Math.PI}var __extends$2E=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),LinearGradient=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.angle=0,e}return __extends$2E(e,t),e.prototype.createGradient=function(t,e){var n=this.stops,i=normalizeAngle360(toRadians$1(this.angle+90)),o=Math.cos(i),r=Math.sin(i),s=e.width,a=e.height,l=e.x+.5*s,c=e.y+.5*a;if(s>0&&a>0){var u=Math.sqrt(a*a+s*s)/2,h=Math.atan2(a,s),d=void 0;d=i<Math.PI/2?i:i<Math.PI?Math.PI-i:i<3*Math.PI/2?i-Math.PI:2*Math.PI-i;var p=u*Math.abs(Math.cos(d-h)),f=t.createLinearGradient(l+o*p,c+r*p,l-o*p,c-r*p);return n.forEach((function(t){f.addColorStop(t.offset,t.color)})),f}return"black"},e}(Gradient),__extends$2D=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$1Q=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},LINEAR_GRADIENT_REGEXP=/^linear-gradient\((.*?)deg,\s*(.*?)\s*\)$/i,Shape=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.lastInstanceId=0,n.fillOpacity=1,n.strokeOpacity=1,n.fill=e.defaultStyles.fill,n.stroke=e.defaultStyles.stroke,n.strokeWidth=e.defaultStyles.strokeWidth,n.lineDash=e.defaultStyles.lineDash,n.lineDashOffset=e.defaultStyles.lineDashOffset,n.lineCap=e.defaultStyles.lineCap,n.lineJoin=e.defaultStyles.lineJoin,n.opacity=e.defaultStyles.opacity,n.fillShadow=e.defaultStyles.fillShadow,n}return __extends$2D(e,t),e.createInstance=function(t){var e=Object.create(t);return e._setParent(void 0),e.id=t.id+"-Instance-"+String(++t.lastInstanceId),e},e.prototype.restoreOwnStyles=function(){for(var t=this.constructor.defaultStyles,e=Object.getOwnPropertyNames(t),n=0,i=e.length;n<i;n++){var o=e[n];this[o]=t[o]}},e.prototype.restoreAllStyles=function(){var t=this.constructor.defaultStyles;for(var e in t)this[e]=t[e]},e.prototype.restoreOverriddenStyles=function(){var t=this.constructor.defaultStyles,e=Object.getPrototypeOf(t);for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&Object.prototype.hasOwnProperty.call(e,n)&&(this[n]=t[n])},e.prototype.updateGradient=function(){var t,e=this.fill;if((null==e?void 0:e.startsWith("linear-gradient"))&&(t=e.match(LINEAR_GRADIENT_REGEXP))){for(var n=parseFloat(t[1]),i=[],o=t[2],r=/(#[0-9a-f]+)|(rgba?\(.+?\))|([a-z]+)/gi,s=void 0;s=r.exec(o);)i.push(s[0]);this.gradient=new LinearGradient,this.gradient.angle=n,this.gradient.stops=i.map((function(t,e){return{offset:e/(i.length-1),color:t}}))}else this.gradient=void 0},e.prototype.align=function(t,e){var n,i,o,r=null!==(o=null===(i=null===(n=this.layerManager)||void 0===n?void 0:n.canvas)||void 0===i?void 0:i.pixelRatio)&&void 0!==o?o:1,s=Math.round(t*r)/r;return null==e?s:0===e?0:e<1?Math.ceil(e*r)/r:Math.round((e+t)*r)/r-s},e.prototype.fillStroke=function(t){this.renderFill(t),this.renderStroke(t)},e.prototype.renderFill=function(t){if(this.fill){var e=t.globalAlpha;this.applyFill(t),this.applyFillAlpha(t),this.applyShadow(t),t.fill(),t.globalAlpha=e}t.shadowColor="rgba(0, 0, 0, 0)"},e.prototype.applyFill=function(t){this.gradient?t.fillStyle=this.gradient.createGradient(t,this.computeBBox()):t.fillStyle=this.fill},e.prototype.applyFillAlpha=function(t){var e=t.globalAlpha;t.globalAlpha=e*this.opacity*this.fillOpacity},e.prototype.applyShadow=function(t){var e,n,i=null!==(n=null===(e=this.layerManager)||void 0===e?void 0:e.canvas.pixelRatio)&&void 0!==n?n:1,o=this.fillShadow;o&&o.enabled&&(t.shadowColor=o.color,t.shadowOffsetX=o.xOffset*i,t.shadowOffsetY=o.yOffset*i,t.shadowBlur=o.blur*i)},e.prototype.renderStroke=function(t){if(this.stroke&&this.strokeWidth){var e=t.globalAlpha;t.strokeStyle=this.stroke,t.globalAlpha=e*this.opacity*this.strokeOpacity,t.lineWidth=this.strokeWidth,this.lineDash&&t.setLineDash(this.lineDash),this.lineDashOffset&&(t.lineDashOffset=this.lineDashOffset),this.lineCap&&(t.lineCap=this.lineCap),this.lineJoin&&(t.lineJoin=this.lineJoin),t.stroke(),t.globalAlpha=e}},e.prototype.containsPoint=function(t,e){return this.isPointInPath(t,e)},e.defaultStyles=Object.assign({},{fill:"black",stroke:void 0,strokeWidth:0,lineDash:void 0,lineDashOffset:0,lineCap:void 0,lineJoin:void 0,opacity:1,fillShadow:void 0}),__decorate$1Q([SceneChangeDetection({redraw:RedrawType.MINOR})],e.prototype,"fillOpacity",void 0),__decorate$1Q([SceneChangeDetection({redraw:RedrawType.MINOR})],e.prototype,"strokeOpacity",void 0),__decorate$1Q([SceneChangeDetection({redraw:RedrawType.MINOR,changeCb:function(t){return t.updateGradient()}})],e.prototype,"fill",void 0),__decorate$1Q([SceneChangeDetection({redraw:RedrawType.MINOR})],e.prototype,"stroke",void 0),__decorate$1Q([SceneChangeDetection({redraw:RedrawType.MINOR})],e.prototype,"strokeWidth",void 0),__decorate$1Q([SceneChangeDetection({redraw:RedrawType.MINOR})],e.prototype,"lineDash",void 0),__decorate$1Q([SceneChangeDetection({redraw:RedrawType.MINOR})],e.prototype,"lineDashOffset",void 0),__decorate$1Q([SceneChangeDetection({redraw:RedrawType.MINOR})],e.prototype,"lineCap",void 0),__decorate$1Q([SceneChangeDetection({redraw:RedrawType.MINOR})],e.prototype,"lineJoin",void 0),__decorate$1Q([SceneChangeDetection({redraw:RedrawType.MINOR,convertor:function(t){return Math.min(1,Math.max(0,t))}})],e.prototype,"opacity",void 0),__decorate$1Q([SceneChangeDetection({redraw:RedrawType.MINOR,checkDirtyOnAssignment:!0})],e.prototype,"fillShadow",void 0),e}(Node),__extends$2C=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$1P=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};function SceneFontChangeDetection(t){var e=t||{},n=e.redraw;return SceneChangeDetection({redraw:void 0===n?RedrawType.MAJOR:n,type:"font",changeCb:e.changeCb})}var Text=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.x=0,n.y=0,n.lines=[],n.text="",n._dirtyFont=!0,n.fontSize=10,n.fontFamily="sans-serif",n.textAlign=e.defaultStyles.textAlign,n.textBaseline=e.defaultStyles.textBaseline,n.lineHeight=void 0,n}return __extends$2C(e,t),e.prototype._splitText=function(){this.lines="string"==typeof this.text?this.text.split(/\r?\n/g):[]},Object.defineProperty(e.prototype,"font",{get:function(){return this._dirtyFont&&(this._dirtyFont=!1,this._font=getFont(this.fontSize,this.fontFamily,this.fontStyle,this.fontWeight)),this._font},enumerable:!1,configurable:!0}),e.prototype.computeBBox=function(){return HdpiCanvas.has.textMetrics?this.getPreciseBBox():this.getApproximateBBox()},e.prototype.getPreciseBBox=function(){for(var t,e,n=0,i=0,o=0,r=0,s=0,a=0;a<this.lines.length;a++){var l=HdpiCanvas.measureText(this.lines[a],this.font,this.textBaseline,this.textAlign);n=Math.max(n,l.actualBoundingBoxLeft),o=Math.max(o,l.width),0==a?(i+=l.actualBoundingBoxAscent,r+=l.actualBoundingBoxAscent):s+=null!==(t=l.fontBoundingBoxAscent)&&void 0!==t?t:l.emHeightAscent,a==this.lines.length-1?r+=l.actualBoundingBoxDescent:s+=null!==(e=l.fontBoundingBoxDescent)&&void 0!==e?e:l.emHeightDescent}return void 0!==this.lineHeight&&(s=(this.lines.length-1)*this.lineHeight),r+=s,i+=s*this.getVerticalOffset(),new BBox(this.x-n,this.y-i,o,r)},e.prototype.getVerticalOffset=function(){switch(this.textBaseline){case"top":case"hanging":return 0;case"bottom":case"alphabetic":case"ideographic":return 1;case"middle":return.5}},e.prototype.getApproximateBBox=function(){var t,e=0,n=0,i=0;this.lines.length>0&&(e=(r=HdpiCanvas.getTextSize(this.lines[0],this.font)).width,n=r.height);for(var o=1;o<this.lines.length;o++){var r=HdpiCanvas.getTextSize(this.lines[o],this.font);e=Math.max(e,r.width),i+=null!==(t=this.lineHeight)&&void 0!==t?t:r.height}var s=this.x,a=this.y;switch(this.textAlign){case"end":case"right":s-=e;break;case"center":s-=e/2}switch(this.textBaseline){case"alphabetic":a-=.7*n+.5*i;break;case"middle":a-=.45*n+.5*i;break;case"ideographic":case"bottom":a-=n+i;break;case"hanging":a-=.2*n+.5*i}return new BBox(s,a,e,n+i)},e.prototype.getLineHeight=function(t){var e,n;if(this.lineHeight)return this.lineHeight;if(HdpiCanvas.has.textMetrics){var i=HdpiCanvas.measureText(t,this.font,this.textBaseline,this.textAlign);return(null!==(e=i.fontBoundingBoxAscent)&&void 0!==e?e:i.emHeightAscent)+(null!==(n=i.fontBoundingBoxDescent)&&void 0!==n?n:i.emHeightDescent)}return HdpiCanvas.getTextSize(t,this.font).height},e.prototype.isPointInPath=function(t,e){var n=this.transformPoint(t,e),i=this.computeBBox();return!!i&&i.containsPoint(n.x,n.y)},e.prototype.render=function(e){var n=e.ctx,i=e.forceRender,o=e.stats;if(this.dirty!==RedrawType.NONE||i)if(this.lines.length&&this.layerManager){this.computeTransformMatrix(),this.matrix.toContext(n);var r=this,s=r.fill,a=r.stroke,l=r.strokeWidth;n.font=this.font,n.textAlign=this.textAlign,n.textBaseline=this.textBaseline;var c=this.layerManager.canvas.pixelRatio||1,u=n.globalAlpha;if(s){n.fillStyle=s,n.globalAlpha=u*this.opacity*this.fillOpacity;var h=this.fillShadow;h&&h.enabled&&(n.shadowColor=h.color,n.shadowOffsetX=h.xOffset*c,n.shadowOffsetY=h.yOffset*c,n.shadowBlur=h.blur*c),this.renderLines((function(t,e,i){return n.fillText(t,e,i)}))}if(a&&l){n.strokeStyle=a,n.lineWidth=l,n.globalAlpha=u*this.opacity*this.strokeOpacity;var d=this,p=d.lineDash,f=d.lineDashOffset,g=d.lineCap,m=d.lineJoin;p&&n.setLineDash(p),f&&(n.lineDashOffset=f),g&&(n.lineCap=g),m&&(n.lineJoin=m),this.renderLines((function(t,e,i){return n.strokeText(t,e,i)}))}t.prototype.render.call(this,e)}else o&&(o.nodesSkipped+=this.nodeCount.count);else o&&(o.nodesSkipped+=this.nodeCount.count)},e.prototype.renderLines=function(t){for(var e=this,n=this,i=n.lines,o=n.x,r=n.y,s=this.lines.map((function(t){return e.getLineHeight(t)})),a=-(s.reduce((function(t,e){return t+e}),0)-s[0])*this.getVerticalOffset(),l=0;l<i.length;l++)t(i[l],o,r+a),a+=s[l]},e.className="Text",e.defaultStyles=Object.assign({},Shape.defaultStyles,{textAlign:"start",fontStyle:void 0,fontWeight:void 0,fontSize:10,fontFamily:"sans-serif",textBaseline:"alphabetic"}),__decorate$1P([SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"x",void 0),__decorate$1P([SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"y",void 0),__decorate$1P([SceneChangeDetection({redraw:RedrawType.MAJOR,changeCb:function(t){return t._splitText()}})],e.prototype,"text",void 0),__decorate$1P([SceneFontChangeDetection()],e.prototype,"fontStyle",void 0),__decorate$1P([SceneFontChangeDetection()],e.prototype,"fontWeight",void 0),__decorate$1P([SceneFontChangeDetection()],e.prototype,"fontSize",void 0),__decorate$1P([SceneFontChangeDetection()],e.prototype,"fontFamily",void 0),__decorate$1P([SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"textAlign",void 0),__decorate$1P([SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"textBaseline",void 0),__decorate$1P([SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"lineHeight",void 0),e}(Shape);function getFont(t,e,n,i){return[n||"",i||"",t+"px",e].join(" ").trim()}function linearRoot(t,e){var n=-e/t;return 0!==t&&n>=0&&n<=1?[n]:[]}function quadraticRoots(t,e,n){if(0===t)return linearRoot(e,n);var i=e*e-4*t*n,o=[];if(0===i){var r=-e/(2*t);r>=0&&r<=1&&o.push(r)}else if(i>0){var s=Math.sqrt(i),a=(-e-s)/(2*t),l=(-e+s)/(2*t);a>=0&&a<=1&&o.push(a),l>=0&&l<=1&&o.push(l)}return o}function cubicRoots(t,e,n,i){if(0===t)return quadraticRoots(e,n,i);var o=e/t,r=n/t,s=(3*r-o*o)/9,a=(9*o*r-27*(i/t)-2*o*o*o)/54,l=s*s*s+a*a,c=1/3,u=[];if(l>=0){var h=Math.sqrt(l),d=Math.sign(a+h)*Math.pow(Math.abs(a+h),c),p=Math.sign(a-h)*Math.pow(Math.abs(a-h),c),f=Math.abs(Math.sqrt(3)*(d-p)/2),g=-c*o+(d+p);if(g>=0&&g<=1&&u.push(g),0===f){var m=-c*o-(d+p)/2;m>=0&&m<=1&&u.push(m)}}else{var _=Math.acos(a/Math.sqrt(-s*s*s)),y=c*o,v=2*Math.sqrt(-s),C=v*Math.cos(c*_)-y,b=v*Math.cos(c*(_+2*Math.PI))-y,E=v*Math.cos(c*(_+4*Math.PI))-y;C>=0&&C<=1&&u.push(C),b>=0&&b<=1&&u.push(b),E>=0&&E<=1&&u.push(E)}return u}var __values$v=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function segmentIntersection(t,e,n,i,o,r,s,a){var l=(n-t)*(a-r)-(i-e)*(s-o);if(0===l)return null;var c=((s-o)*(e-r)-(t-o)*(a-r))/l,u=((n-t)*(e-r)-(i-e)*(t-o))/l;return c>=0&&c<=1&&u>=0&&u<=1?{x:t+c*(n-t),y:e+c*(i-e)}:null}function cubicSegmentIntersections(t,e,n,i,o,r,s,a,l,c,u,h){var d,p,f=[],g=c-h,m=u-l,_=l*(h-c)-c*(u-l),y=bezierCoefficients(t,n,o,s),v=bezierCoefficients(e,i,r,a),C=cubicRoots(g*y[0]+m*v[0],g*y[1]+m*v[1],g*y[2]+m*v[2],g*y[3]+m*v[3]+_);try{for(var b=__values$v(C),E=b.next();!E.done;E=b.next()){var S=E.value,w=S*S,O=S*w,x=y[0]*O+y[1]*w+y[2]*S+y[3],P=v[0]*O+v[1]*w+v[2]*S+v[3],T=void 0;(T=l!==u?(x-l)/(u-l):(P-c)/(h-c))>=0&&T<=1&&f.push({x,y:P})}}catch(t){d={error:t}}finally{try{E&&!E.done&&(p=b.return)&&p.call(b)}finally{if(d)throw d.error}}return f}function bezierCoefficients(t,e,n,i){return[3*e-t-3*n+i,3*t-6*e+3*n,-3*t+3*e,t]}function arcIntersections(t,e,n,i,o,r,s,a,l,c){var u=(c-a)/(l-s),h=a-u*s,d=Math.pow(u,2)+1,p=2*(u*(h-e)-t),f=Math.pow(t,2)+Math.pow(h-e,2)-Math.pow(n,2),g=Math.pow(p,2)-4*d*f;if(g<0)return[];var m=(-p+Math.sqrt(g))/2/d,_=(-p-Math.sqrt(g))/2/d,y=[];return[m,_].forEach((function(t){if(t>=Math.min(s,l)&&t<=Math.max(s,l)){var e=u*t,n=normalizeAngle360(r?o:i),a=normalizeAngle360(r?i:o),c=normalizeAngle360(Math.atan2(e,t));a<=n&&(a+=2*Math.PI),c<n&&(c+=2*Math.PI),c>=n&&c<=a&&y.push({x:t,y:e})}})),y}var __values$u=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Command;!function(t){t[t.Move=0]="Move",t[t.Line=1]="Line",t[t.Arc=2]="Arc",t[t.Curve=3]="Curve",t[t.ClosePath=4]="ClosePath"}(Command||(Command={}));var Path2D=function(){function t(){this.previousCommands=[],this.previousParams=[],this.previousClosedPath=!1,this.commands=[],this.params=[],this._closedPath=!1}return t.prototype.isDirty=function(){if(this._closedPath!==this.previousClosedPath)return!0;if(this.previousCommands.length!==this.commands.length)return!0;if(this.previousParams.length!==this.params.length)return!0;for(var t=0;t<this.commands.length;t++)if(this.commands[t]!==this.previousCommands[t])return!0;for(t=0;t<this.params.length;t++)if(this.params[t]!==this.previousParams[t])return!0;return!1},t.prototype.draw=function(t){var e,n,i=this.commands,o=this.params,r=0;t.beginPath();try{for(var s=__values$u(i),a=s.next();!a.done;a=s.next()){switch(a.value){case Command.Move:t.moveTo(o[r++],o[r++]);break;case Command.Line:t.lineTo(o[r++],o[r++]);break;case Command.Curve:t.bezierCurveTo(o[r++],o[r++],o[r++],o[r++],o[r++],o[r++]);break;case Command.Arc:t.arc(o[r++],o[r++],o[r++],o[r++],o[r++],1===o[r++]);break;case Command.ClosePath:t.closePath()}}}catch(t){e={error:t}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}0===i.length&&t.closePath()},t.prototype.moveTo=function(t,e){this.xy?(this.xy[0]=t,this.xy[1]=e):this.xy=[t,e],this.commands.push(Command.Move),this.params.push(t,e)},t.prototype.lineTo=function(t,e){this.xy?(this.commands.push(Command.Line),this.params.push(t,e),this.xy[0]=t,this.xy[1]=e):this.moveTo(t,e)},t.prototype.rect=function(t,e,n,i){this.moveTo(t,e),this.lineTo(t+n,e),this.lineTo(t+n,e+i),this.lineTo(t,e+i),this.closePath()},t.prototype.arc=function(t,e,n,i,o,r){void 0===r&&(r=!1);var s=t+n*Math.cos(o),a=e+n*Math.sin(o);this.xy?(this.xy[0]=s,this.xy[1]=a):this.xy=[s,a],this.commands.push(Command.Arc),this.params.push(t,e,n,i,o,r?1:0)},t.prototype.cubicCurveTo=function(t,e,n,i,o,r){this.xy||this.moveTo(t,e),this.commands.push(Command.Curve),this.params.push(t,e,n,i,o,r),this.xy[0]=o,this.xy[1]=r},Object.defineProperty(t.prototype,"closedPath",{get:function(){return this._closedPath},enumerable:!1,configurable:!0}),t.prototype.closePath=function(){this.xy&&(this.xy=void 0,this.commands.push(Command.ClosePath),this._closedPath=!0)},t.prototype.clear=function(t){(void 0===t?{trackChanges:!1}:t).trackChanges?(this.previousCommands=this.commands,this.previousParams=this.params,this.previousClosedPath=this._closedPath,this.commands=[],this.params=[]):(this.commands.length=0,this.params.length=0),this.xy=void 0,this._closedPath=!1},t.prototype.isPointInPath=function(t,e){for(var n=this.commands,i=this.params,o=n.length,r=-1e4,s=-1e4,a=NaN,l=NaN,c=0,u=0,h=0,d=0,p=0;d<o;d++)switch(n[d]){case Command.Move:isNaN(a)||segmentIntersection(a,l,c,u,r,s,t,e)&&h++,a=c=i[p++],l=u=i[p++];break;case Command.Line:segmentIntersection(c,u,i[p++],i[p++],r,s,t,e)&&h++,c=i[p-2],u=i[p-1];break;case Command.Curve:h+=cubicSegmentIntersections(c,u,i[p++],i[p++],i[p++],i[p++],i[p++],i[p++],r,s,t,e).length,c=i[p-2],u=i[p-1];break;case Command.Arc:h+=arcIntersections(i[p++],i[p++],i[p++],i[p++],i[p++],Boolean(i[p++]),r,s,t,e).length,c=i[p-2],u=i[p-1];break;case Command.ClosePath:isNaN(a)||segmentIntersection(a,l,c,u,r,s,t,e)&&h++}return h%2==1},t}(),__extends$2B=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$1O=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};function ScenePathChangeDetection(t){var e=t||{},n=e.redraw,i=void 0===n?RedrawType.MAJOR:n,o=e.changeCb;return SceneChangeDetection({redraw:i,type:"path",convertor:e.convertor,changeCb:o})}var Path=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.path=new Path2D,e._dirtyPath=!0,e}return __extends$2B(e,t),Object.defineProperty(e.prototype,"dirtyPath",{get:function(){return this._dirtyPath},set:function(t){this._dirtyPath!==t&&(this._dirtyPath=t,t&&this.markDirty(this,RedrawType.MAJOR))},enumerable:!1,configurable:!0}),e.prototype.checkPathDirty=function(){var t,e;this._dirtyPath||(this.dirtyPath=this.path.isDirty()||null!==(e=null===(t=this.fillShadow)||void 0===t?void 0:t.isDirty())&&void 0!==e&&e)},e.prototype.isPointInPath=function(t,e){var n=this.transformPoint(t,e);return this.path.closedPath&&this.path.isPointInPath(n.x,n.y)},e.prototype.isDirtyPath=function(){return!1},e.prototype.updatePath=function(){},e.prototype.render=function(e){var n,i,o=e.ctx,r=e.forceRender,s=e.stats;if(this.dirty!==RedrawType.NONE||r){if(this.computeTransformMatrix(),this.matrix.toContext(o),(this.dirtyPath||this.isDirtyPath())&&(this.updatePath(),this.dirtyPath=!1),this.clipPath){if(o.save(),"normal"===this.clipMode&&(this.clipPath.draw(o),o.clip()),this.path.draw(o),this.fillStroke(o),"punch-out"===this.clipMode){this.clipPath.draw(o),o.clip();var a=null!==(n=this.computeBBox())&&void 0!==n?n:{},l=a.x,c=void 0===l?-1e4:l,u=a.y,h=void 0===u?-1e4:u,d=a.width,p=void 0===d?2e4:d,f=a.height,g=void 0===f?2e4:f;o.clearRect(c,h,p,g)}o.restore()}else this.path.draw(o),this.fillStroke(o);null===(i=this.fillShadow)||void 0===i||i.markClean(),t.prototype.render.call(this,e)}else s&&(s.nodesSkipped+=this.nodeCount.count)},e.className="Path",__decorate$1O([ScenePathChangeDetection()],e.prototype,"clipPath",void 0),__decorate$1O([ScenePathChangeDetection()],e.prototype,"clipMode",void 0),e}(Shape),__extends$2A=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$1N=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},__values$t=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Marker=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.x=0,e.y=0,e.size=12,e}return __extends$2A(e,t),e.prototype.computeBBox=function(){var t=this,e=t.x,n=t.y,i=t.size,o=i/2;return new BBox(e-o,n-o,i,i)},e.prototype.applyPath=function(t,e){var n,i,o=this.path,r=this.x,s=this.y;o.clear();try{for(var a=__values$t(e),l=a.next();!l.done;l=a.next()){var c=l.value,u=c.x,h=c.y,d=c.t;r+=u*t,s+=h*t,"move"===d?o.moveTo(r,s):o.lineTo(r,s)}}catch(t){n={error:t}}finally{try{l&&!l.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}o.closePath()},__decorate$1N([ScenePathChangeDetection()],e.prototype,"x",void 0),__decorate$1N([ScenePathChangeDetection()],e.prototype,"y",void 0),__decorate$1N([ScenePathChangeDetection({convertor:Math.abs})],e.prototype,"size",void 0),e}(Path),__extends$2z=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Square=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$2z(e,t),e.prototype.updatePath=function(){var t=this,e=t.path,n=t.x,i=t.y,o=this.size/2;e.clear(),e.moveTo(this.align(n-o),this.align(i-o)),e.lineTo(this.align(n+o),this.align(i-o)),e.lineTo(this.align(n+o),this.align(i+o)),e.lineTo(this.align(n-o),this.align(i+o)),e.closePath()},e.className="Square",e}(Marker);function ProxyPropertyOnWrite(t,e){return addTransformToInstanceProperty((function(n,i,o){return n[t][null!=e?e:i]=o,o}))}function ActionOnSet(t){var e=t.newValue,n=t.oldValue,i=t.changeValue;return addTransformToInstanceProperty((function(t,o,r,s){return r!==s&&(void 0!==s&&(null==n||n.call(t,s)),void 0!==r&&(null==e||e.call(t,r)),null==i||i.call(t,r,s)),r}))}var __extends$2y=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$1M=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},MarkerLabel=function(t){function e(){var e=t.call(this,{name:"markerLabelGroup"})||this;e.label=new Text,e._marker=new Square,e._markerSize=15,e._spacing=8;var n=e.label;return n.textBaseline="middle",n.fontSize=12,n.fontFamily="Verdana, sans-serif",n.fill="black",n.y=HdpiCanvas.has.textMetrics?1:0,e.append([e.marker,n]),e.update(),e}return __extends$2y(e,t),Object.defineProperty(e.prototype,"marker",{get:function(){return this._marker},set:function(t){this._marker!==t&&(this.removeChild(this._marker),this._marker=t,this.appendChild(t),this.update())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"markerSize",{get:function(){return this._markerSize},set:function(t){this._markerSize!==t&&(this._markerSize=t,this.update())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"spacing",{get:function(){return this._spacing},set:function(t){this._spacing!==t&&(this._spacing=t,this.update())},enumerable:!1,configurable:!0}),e.prototype.update=function(){var t=this.marker,e=this.markerSize;t.size=e,this.label.x=e/2+this.spacing},e.prototype.render=function(e){this.marker.opacity=this.opacity,this.label.opacity=this.opacity,t.prototype.render.call(this,e)},e.className="MarkerLabel",__decorate$1M([ProxyPropertyOnWrite("label")],e.prototype,"text",void 0),__decorate$1M([ProxyPropertyOnWrite("label")],e.prototype,"fontStyle",void 0),__decorate$1M([ProxyPropertyOnWrite("label")],e.prototype,"fontWeight",void 0),__decorate$1M([ProxyPropertyOnWrite("label")],e.prototype,"fontSize",void 0),__decorate$1M([ProxyPropertyOnWrite("label")],e.prototype,"fontFamily",void 0),__decorate$1M([ProxyPropertyOnWrite("label","fill")],e.prototype,"color",void 0),__decorate$1M([ProxyPropertyOnWrite("marker","fill")],e.prototype,"markerFill",void 0),__decorate$1M([ProxyPropertyOnWrite("marker","stroke")],e.prototype,"markerStroke",void 0),__decorate$1M([ProxyPropertyOnWrite("marker","strokeWidth")],e.prototype,"markerStrokeWidth",void 0),__decorate$1M([ProxyPropertyOnWrite("marker","fillOpacity")],e.prototype,"markerFillOpacity",void 0),__decorate$1M([ProxyPropertyOnWrite("marker","strokeOpacity")],e.prototype,"markerStrokeOpacity",void 0),e}(Group),__extends$2x=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Circle=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$2x(e,t),e.prototype.updatePath=function(){var t=this,e=t.x,n=t.y,i=t.path,o=t.size/2;i.clear(),i.arc(e,n,o,0,2*Math.PI),i.closePath()},e.className="Circle",e}(Marker),__extends$2w=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Cross=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$2w(e,t),e.prototype.updatePath=function(){var n=this.size/4.2;t.prototype.applyPath.call(this,n,e.moves)},e.className="Cross",e.moves=[{x:-1,y:0,t:"move"},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1},{x:1,y:1},{x:-1,y:1},{x:-1,y:-1},{x:-1,y:1},{x:-1,y:-1}],e}(Marker),__extends$2v=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Diamond=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$2v(e,t),e.prototype.updatePath=function(){var n=this.size/2;t.prototype.applyPath.call(this,n,e.moves)},e.className="Diamond",e.moves=[{x:0,y:-1,t:"move"},{x:1,y:1},{x:-1,y:1},{x:-1,y:-1},{x:1,y:-1}],e}(Marker),__extends$2u=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Heart=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$2u(e,t),e.prototype.rad=function(t){return t/180*Math.PI},e.prototype.updatePath=function(){var t=this,e=t.x,n=t.path,i=t.size,o=t.rad,r=i/4,s=this.y+r/2;n.clear(),n.arc(e-r,s-r,r,o(130),o(330)),n.arc(e+r,s-r,r,o(220),o(50)),n.lineTo(e,s+r),n.closePath()},e.className="Heart",e}(Marker),__extends$2t=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Plus=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$2t(e,t),e.prototype.updatePath=function(){var n=this.size/3;t.prototype.applyPath.call(this,n,e.moves)},e.className="Plus",e.moves=[{x:-.5,y:-.5,t:"move"},{x:0,y:-1},{x:1,y:0},{x:0,y:1},{x:1,y:0},{x:0,y:1},{x:-1,y:0},{x:0,y:1},{x:-1,y:0},{x:0,y:-1},{x:-1,y:0},{x:0,y:-1}],e}(Marker),__extends$2s=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Triangle=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$2s(e,t),e.prototype.updatePath=function(){var n=1.1*this.size;t.prototype.applyPath.call(this,n,e.moves)},e.className="Triangle",e.moves=[{x:0,y:-.48,t:"move"},{x:.5,y:.87},{x:-1,y:0}],e}(Marker),ChartUpdateType;function getMarker$1(t){if(void 0===t&&(t=Square),"string"==typeof t)switch(t){case"circle":return Circle;case"cross":return Cross;case"diamond":return Diamond;case"heart":return Heart;case"plus":return Plus;case"triangle":return Triangle;default:return Square}return"function"==typeof t?t:Square}!function(t){t[t.FULL=0]="FULL",t[t.PROCESS_DATA=1]="PROCESS_DATA",t[t.PERFORM_LAYOUT=2]="PERFORM_LAYOUT",t[t.SERIES_UPDATE=3]="SERIES_UPDATE",t[t.TOOLTIP_RECALCULATION=4]="TOOLTIP_RECALCULATION",t[t.SCENE_RENDER=5]="SCENE_RENDER",t[t.NONE=6]="NONE"}(ChartUpdateType||(ChartUpdateType={}));var __values$s=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function gridLayout(t){for(var e=t.orientation,n=t.bboxes,i=t.maxHeight,o=t.maxWidth,r=t.itemPaddingY,s=void 0===r?0:r,a=t.itemPaddingX,l=void 0===a?0:a,c=t.forceResult,u=void 0!==c&&c,h="horizontal"===e,d={max:h?o:i,fn:h?function(t){return t.width}:function(t){return t.height},padding:h?l:s},p={max:h?i:o,fn:h?function(t){return t.height}:function(t){return t.width},padding:h?s:l},f=0,g=[];f<n.length;){var m=processBBoxes(n.slice(f),f,d,p,u);if(!m)return;f+=m.processedBBoxCount,g.push(m.pageIndices)}return buildPages(g,e,n,s,l)}function processBBoxes(t,e,n,i,o){var r=estimateStartingGuess(t,n);if(r<1){if(!o)return;r=1}for(var s=r;s>=1;s--){var a=calculatePage(t,e,s,n,i,o);if(null==a&&s<=1)return;if(null!=a){if("number"!=typeof a)return{processedBBoxCount:a.length*a[0].length,pageIndices:a};if(a<=1)return;s=a<s&&a>1?a:s}}}function calculatePage(t,e,n,i,o,r){for(var s,a=[],l=0,c=0,u=[],h=[],d=0;d<t.length;d++){var p=(d+n)%n;0===p&&(l+=c,c=0,u.length>0&&a.push(u),u=[]);var f=i.fn(t[d])+i.padding;h[p]=Math.max(null!==(s=h[p])&&void 0!==s?s:0,f);var g=l+(c=Math.max(c,o.fn(t[d])+o.padding)),m=!r||a.length>0;if(g>o.max&&m){u=[];break}if(h.reduce((function(t,e){return t+e}),0)>i.max&&!r)return h.length<n?h.length:void 0;u.push(d+e)}return u.length>0&&a.push(u),a.length>0?a:void 0}function buildPages(t,e,n,i,o){var r=0,s=0,a=t.map((function(t){"horizontal"===e&&(t=transpose(t));var a=0,l=t.map((function(t){var e=t.map((function(t){return a=Math.max(t,a),n[t]})),r=0,s=0;return e.forEach((function(t){r+=t.height+i,s=Math.max(s,t.width+o)})),{indices:t,bboxes:e,columnHeight:r,columnWidth:s}})),c=0,u=0;return l.forEach((function(t){c+=t.columnWidth,u=Math.max(u,t.columnHeight)})),r=Math.max(c,r),s=Math.max(u,s),{columns:l,startIndex:t[0][0],endIndex:a,pageWidth:c,pageHeight:u}}));return{pages:a,maxPageWidth:r,maxPageHeight:s}}function transpose(t){var e,n,i=[];try{for(var o=__values$s(t[0]),r=o.next();!r.done;r=o.next()){r.value;i.push([])}}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return t.forEach((function(t,e){t.forEach((function(t,n){i[n][e]=t}))})),i}function estimateStartingGuess(t,e){for(var n=t.length,i=0,o=0;o<n;o++){if((i+=e.fn(t[o])+e.padding)>e.max)return n/o<2?Math.ceil(n/2):o}return n}var __decorate$1L=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},PaginationLabel=function(){function t(){this.color="black",this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif"}return __decorate$1L([Validate(COLOR_STRING)],t.prototype,"color",void 0),__decorate$1L([Validate(OPT_FONT_STYLE)],t.prototype,"fontStyle",void 0),__decorate$1L([Validate(OPT_FONT_WEIGHT)],t.prototype,"fontWeight",void 0),__decorate$1L([Validate(NUMBER(0))],t.prototype,"fontSize",void 0),__decorate$1L([Validate(STRING)],t.prototype,"fontFamily",void 0),t}(),PaginationMarkerStyle=function(){function t(){this.size=15,this.fill=void 0,this.fillOpacity=void 0,this.stroke=void 0,this.strokeWidth=1,this.strokeOpacity=1}return __decorate$1L([Validate(NUMBER(0))],t.prototype,"size",void 0),__decorate$1L([Validate(OPT_COLOR_STRING)],t.prototype,"fill",void 0),__decorate$1L([Validate(OPT_NUMBER(0,1))],t.prototype,"fillOpacity",void 0),__decorate$1L([Validate(OPT_COLOR_STRING)],t.prototype,"stroke",void 0),__decorate$1L([Validate(NUMBER(0))],t.prototype,"strokeWidth",void 0),__decorate$1L([Validate(NUMBER(0,1))],t.prototype,"strokeOpacity",void 0),t}(),PaginationMarker=function(){function t(){this.size=15,this._shape=Triangle,this.padding=8}return Object.defineProperty(t.prototype,"shape",{get:function(){return this._shape},set:function(t){var e;this._shape=t,null===(e=this.parent)||void 0===e||e.onMarkerShapeChange()},enumerable:!1,configurable:!0}),__decorate$1L([Validate(NUMBER(0))],t.prototype,"size",void 0),__decorate$1L([Validate(NUMBER(0))],t.prototype,"padding",void 0),t}(),Pagination=function(){function t(t,e,n,i){var o=this;this.chartUpdateCallback=t,this.pageUpdateCallback=e,this.interactionManager=n,this.cursorManager=i,this.id=createId$1(this),this.group=new Group({name:"pagination"}),this.labelNode=new Text,this.marker=new PaginationMarker,this.activeStyle=new PaginationMarkerStyle,this.inactiveStyle=new PaginationMarkerStyle,this.highlightStyle=new PaginationMarkerStyle,this.label=new PaginationLabel,this.totalPages=0,this.currentPage=0,this.nextButtonDisabled=!1,this.previousButtonDisabled=!1,this._visible=!0,this._enabled=!0,this._orientation="vertical",this._nextButton=new Triangle,this._previousButton=new Triangle;var r=this.labelNode;r.textBaseline="middle",r.fontSize=12,r.fontFamily="Verdana, sans-serif",r.fill="black",r.y=HdpiCanvas.has.textMetrics?1:0,this.group.append([this.nextButton,this.previousButton,r]),this.interactionManager.addListener("click",(function(t){return o.onPaginationClick(t)})),this.interactionManager.addListener("hover",(function(t){return o.onPaginationMouseMove(t)})),this.marker.parent=this,this.update(),this.updateMarkers()}return Object.defineProperty(t.prototype,"visible",{get:function(){return this._visible},set:function(t){this._visible=t,this.updateGroupVisibility()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return this._enabled},set:function(t){this._enabled=t,this.updateGroupVisibility()},enumerable:!1,configurable:!0}),t.prototype.updateGroupVisibility=function(){this.group.visible=this.enabled&&this.visible},Object.defineProperty(t.prototype,"orientation",{get:function(){return this._orientation},set:function(t){if(this._orientation=t,"horizontal"===t)this.previousButton.rotation=-Math.PI/2,this.nextButton.rotation=Math.PI/2;else this.previousButton.rotation=0,this.nextButton.rotation=Math.PI},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"translationX",{get:function(){return this.group.translationX},set:function(t){this.group.translationX=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"translationY",{get:function(){return this.group.translationY},set:function(t){this.group.translationY=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextButton",{get:function(){return this._nextButton},set:function(t){this._nextButton!==t&&(this.group.removeChild(this._nextButton),this._nextButton=t,this.group.appendChild(t))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"previousButton",{get:function(){return this._previousButton},set:function(t){this._previousButton!==t&&(this.group.removeChild(this._previousButton),this._previousButton=t,this.group.appendChild(t))},enumerable:!1,configurable:!0}),t.prototype.update=function(){this.updateLabel(),this.updatePositions(),this.enableOrDisableButtons()},t.prototype.updatePositions=function(){this.updateLabelPosition(),this.updateNextButtonPosition()},t.prototype.updateLabelPosition=function(){var t=this.marker,e=t.size,n=t.padding;this.nextButton.size=e,this.previousButton.size=e,this.labelNode.x=e/2+n},t.prototype.updateNextButtonPosition=function(){var t=this.labelNode.computeBBox();this.nextButton.translationX=t.x+t.width+this.marker.size/2+this.marker.padding},t.prototype.updateLabel=function(){var t=this,e=t.currentPage,n=t.totalPages,i=t.labelNode,o=t.label,r=o.color,s=o.fontStyle,a=o.fontWeight,l=o.fontSize,c=o.fontFamily;i.text=e+1+" / "+n,i.fill=r,i.fontStyle=s,i.fontWeight=a,i.fontSize=l,i.fontFamily=c},t.prototype.updateMarkers=function(){var t=this,e=t.nextButton,n=t.previousButton,i=t.nextButtonDisabled,o=t.previousButtonDisabled,r=t.activeStyle,s=t.inactiveStyle,a=t.highlightStyle,l=t.highlightActive,c=function(t,e){return e?s:t===l?a:r};this.updateMarker(e,c("next",i)),this.updateMarker(n,c("previous",o))},t.prototype.updateMarker=function(t,e){var n,i=this.marker.size;t.size=i,t.fill=e.fill,t.fillOpacity=null!==(n=e.fillOpacity)&&void 0!==n?n:1,t.stroke=e.stroke,t.strokeWidth=e.strokeWidth,t.strokeOpacity=e.strokeOpacity},t.prototype.enableOrDisableButtons=function(){var t=this.currentPage,e=this.totalPages,n=0===e,i=t===e-1,o=0===t;this.nextButtonDisabled=i||n,this.previousButtonDisabled=o||n},t.prototype.nextButtonContainsPoint=function(t,e){return!this.nextButtonDisabled&&this.nextButton.containsPoint(t,e)},t.prototype.previousButtonContainsPoint=function(t,e){return!this.previousButtonDisabled&&this.previousButton.containsPoint(t,e)},t.prototype.onPaginationClick=function(t){var e=t.offsetX,n=t.offsetY;this.nextButtonContainsPoint(e,n)?(this.incrementPage(),this.onPaginationChanged(),t.consume()):this.previousButtonContainsPoint(e,n)&&(this.decrementPage(),this.onPaginationChanged(),t.consume())},t.prototype.onPaginationMouseMove=function(t){var e=t.offsetX,n=t.offsetY;this.nextButtonContainsPoint(e,n)?(this.cursorManager.updateCursor(this.id,"pointer"),this.highlightActive="next"):this.previousButtonContainsPoint(e,n)?(this.cursorManager.updateCursor(this.id,"pointer"),this.highlightActive="previous"):(this.cursorManager.updateCursor(this.id),this.highlightActive=void 0),this.updateMarkers(),this.chartUpdateCallback(ChartUpdateType.SCENE_RENDER)},t.prototype.onPaginationChanged=function(){this.pageUpdateCallback(this.currentPage)},t.prototype.incrementPage=function(){this.currentPage=Math.min(this.currentPage+1,this.totalPages-1)},t.prototype.decrementPage=function(){this.currentPage=Math.max(this.currentPage-1,0)},t.prototype.onMarkerShapeChange=function(){var t=getMarker$1(this.marker.shape||Triangle);this.previousButton=new t,this.nextButton=new t,this.updatePositions(),this.updateMarkers(),this.chartUpdateCallback(ChartUpdateType.SCENE_RENDER)},t.prototype.attachPagination=function(t){t.append(this.group)},t.prototype.computeBBox=function(){return this.group.computeBBox()},t.className="Pagination",t}(),__decorate$1K=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},__read$U=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},__spread$w=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$U(arguments[e]));return t},__values$r=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ORIENTATIONS=["horizontal","vertical"],OPT_ORIENTATION=predicateWithMessage((function(t,e){return OPTIONAL(t,e,(function(t){return ORIENTATIONS.includes(t)}))}),"expecting an orientation keyword such as 'horizontal' or 'vertical'"),LegendLabel=function(){function t(){this.maxLength=void 0,this.color="black",this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif",this.formatter=void 0}return t.prototype.getFont=function(){return getFont(this.fontSize,this.fontFamily,this.fontStyle,this.fontWeight)},__decorate$1K([Validate(OPT_NUMBER(0))],t.prototype,"maxLength",void 0),__decorate$1K([Validate(COLOR_STRING)],t.prototype,"color",void 0),__decorate$1K([Validate(OPT_FONT_STYLE)],t.prototype,"fontStyle",void 0),__decorate$1K([Validate(OPT_FONT_WEIGHT)],t.prototype,"fontWeight",void 0),__decorate$1K([Validate(NUMBER(0))],t.prototype,"fontSize",void 0),__decorate$1K([Validate(STRING)],t.prototype,"fontFamily",void 0),__decorate$1K([Validate(OPT_FUNCTION)],t.prototype,"formatter",void 0),t}(),LegendMarker=function(){function t(){this.size=15,this._shape=void 0,this.padding=8,this.strokeWidth=1}return Object.defineProperty(t.prototype,"shape",{get:function(){return this._shape},set:function(t){var e;this._shape=t,null===(e=this.parent)||void 0===e||e.onMarkerShapeChange()},enumerable:!1,configurable:!0}),__decorate$1K([Validate(NUMBER(0))],t.prototype,"size",void 0),__decorate$1K([Validate(NUMBER(0))],t.prototype,"padding",void 0),__decorate$1K([Validate(NUMBER(0))],t.prototype,"strokeWidth",void 0),t}(),LegendItem=function(){function t(){this.marker=new LegendMarker,this.label=new LegendLabel,this.maxWidth=void 0,this.paddingX=16,this.paddingY=8,this.toggleSeriesVisible=!0}return __decorate$1K([Validate(OPT_NUMBER(0))],t.prototype,"maxWidth",void 0),__decorate$1K([Validate(NUMBER(0))],t.prototype,"paddingX",void 0),__decorate$1K([Validate(NUMBER(0))],t.prototype,"paddingY",void 0),__decorate$1K([Validate(BOOLEAN)],t.prototype,"toggleSeriesVisible",void 0),t}(),LegendListeners=function(){function t(){this.legendItemClick=void 0,this.legendItemDoubleClick=void 0}return __decorate$1K([Validate(OPT_FUNCTION)],t.prototype,"legendItemClick",void 0),t}(),Legend=function(){function t(t,e,n,i,o,r){var s,a=this;this.chart=t,this.interactionManager=e,this.cursorManager=n,this.highlightManager=i,this.tooltipManager=o,this.layoutService=r,this.id=createId$1(this),this.group=new Group({name:"legend",layer:!0,zIndex:Layers.LEGEND_ZINDEX}),this.itemSelection=Selection.select(this.group,MarkerLabel),this.oldSize=[0,0],this.pages=[],this.maxPageSize=[0,0],this.paginationTrackingIndex=0,this.item=new LegendItem,this.listeners=new LegendListeners,this.truncatedItems=new Set,this._data=[],this._enabled=!0,this.position="right",this.maxWidth=void 0,this.maxHeight=void 0,this.reverseOrder=void 0,this.destroyFns=[],this.spacing=20,this.characterWidths=new Map,this.size=[0,0],this._visible=!0,this.item.marker.parent=this,this.pagination=new Pagination((function(t){return a.chart.update(t)}),(function(t){return a.updatePageNumber(t)}),this.interactionManager,this.cursorManager),this.pagination.attachPagination(this.group),this.item.marker.parent=this;var l=[this.interactionManager.addListener("click",(function(t){return a.checkLegendClick(t)})),this.interactionManager.addListener("dblclick",(function(t){return a.checkLegendDoubleClick(t)})),this.interactionManager.addListener("hover",(function(t){return a.handleLegendMouseMove(t)}))],c=[this.layoutService.addListener("start-layout",(function(t){return a.positionLegend(t.shrinkRect)}))];(s=this.destroyFns).push.apply(s,__spread$w(l.map((function(t){return function(){return a.interactionManager.removeListener(t)}})),c.map((function(t){return function(){return a.layoutService.removeListener(t)}}))))}return Object.defineProperty(t.prototype,"translationX",{get:function(){return this.group.translationX},set:function(t){this.group.translationX=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"translationY",{get:function(){return this.group.translationY},set:function(t){this.group.translationY=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this._data},set:function(t){this._data=t,this.updateGroupVisibility()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return this._enabled},set:function(t){this._enabled=t,this.updateGroupVisibility()},enumerable:!1,configurable:!0}),t.prototype.getOrientation=function(){if(void 0!==this.orientation)return this.orientation;switch(this.position){case"right":case"left":return"vertical";case"bottom":case"top":return"horizontal"}},t.prototype.destroy=function(){this.destroyFns.forEach((function(t){return t()}))},t.prototype.onMarkerShapeChange=function(){this.itemSelection.clear(),this.group.markDirty(this.group,RedrawType.MINOR)},t.prototype.getCharacterWidths=function(t){var e=this.characterWidths;if(e.has(t))return e.get(t);var n={"...":HdpiCanvas.getTextSize("...",t).width};return e.set(t,n),n},Object.defineProperty(t.prototype,"visible",{get:function(){return this._visible},set:function(t){this._visible=t,this.updateGroupVisibility()},enumerable:!1,configurable:!0}),t.prototype.updateGroupVisibility=function(){this.group.visible=this.enabled&&this.visible&&this.data.length>0},t.prototype.attachLegend=function(t){t.append(this.group)},t.prototype.performLayout=function(t,e){var n=this,i=this.item,o=i.paddingX,r=i.paddingY,s=i.label,a=i.maxWidth,l=i.marker,c=l.size,u=l.padding,h=l.shape,d=i.label,p=d.maxLength,f=void 0===p?1/0:p,g=d.fontStyle,m=d.fontWeight,_=d.fontSize,y=d.fontFamily,v=__spread$w(this.data);this.reverseOrder&&v.reverse(),this.itemSelection.update(v);var C=[],b=s.getFont(),E=null!=a?a:.8*t,S=c+u+o;if(this.itemSelection.each((function(t,e){var i,o=getMarker$1(h||e.marker.shape);t.marker&&t.marker instanceof o||(t.marker=new o),t.markerSize=c,t.spacing=u,t.fontStyle=g,t.fontWeight=m,t.fontSize=_,t.fontFamily=y;var r=e.itemId||e.id,s=(null!==(i=e.label.text)&&void 0!==i?i:"<unknown>").replace(/\r?\n/g," ");t.text=n.truncate(s,f,E,S,b,r),C.push(t.computeBBox())})),t=Math.max(1,t),e=Math.max(1,e),!isFinite(t))return!1;var w=this.size,O=this.oldSize;w[0]=t,w[1]=e,w[0]===O[0]&&w[1]===O[1]||(O[0]=w[0],O[1]=w[1]);var x=this.updatePagination(C,t,e),P=x.pages,T=x.maxPageHeight,M=x.maxPageWidth;this.pages=P,this.maxPageSize=[M-o,T-r];var D=this.pagination.currentPage,R=this.pages[D];this.pages.length<1||!R?this.visible=!1:(this.visible=!0,this.updatePositions(D),this.update())},t.prototype.truncate=function(t,e,n,i,o,r){var s,a,l=t.split(""),c=!1;if(t.length>e&&(t=""+t.substring(0,e),c=!0),Math.floor(i+HdpiCanvas.getTextSize(t,o).width)>n){var u="",h=this.getCharacterWidths(o),d=i+h["..."];try{for(var p=__values$r(l),f=p.next();!f.done;f=p.next()){var g=f.value;if(h[g]||(h[g]=HdpiCanvas.getTextSize(g,o).width),(d+=h[g])>n)break;u+=g}}catch(t){s={error:t}}finally{try{f&&!f.done&&(a=p.return)&&a.call(p)}finally{if(s)throw s.error}}t=u,c=!0}return c?(t+="...",this.truncatedItems.add(r)):this.truncatedItems.delete(r),t},t.prototype.updatePagination=function(t,e,n){var i=this.getOrientation(),o=Math.min(this.paginationTrackingIndex,t.length);this.pagination.orientation=i,this.pagination.translationX=0,this.pagination.translationY=0;var r=this.calculatePagination(t,e,n),s=r.pages,a=r.maxPageHeight,l=r.maxPageWidth,c=r.paginationBBox,u=r.paginationVertical,h=s.findIndex((function(t){return t.endIndex>=o}));this.pagination.currentPage=Math.min(Math.max(h,0),s.length-1);var d=this.item,p=l-d.paddingX,f=a-d.paddingY,g=0,m=-c.y-this.item.marker.size/2;return u?m+=f+8:(g+=-c.x+p+8,m+=(f-c.height)/2),this.pagination.translationX=g,this.pagination.translationY=m,this.pagination.update(),this.pagination.updateMarkers(),{maxPageHeight:a,maxPageWidth:l,pages:s}},t.prototype.calculatePagination=function(t,e,n){var i,o,r,s=this.item,a=s.paddingX,l=s.paddingY,c=this.getOrientation(),u=["left","right"].includes(this.position),h=this.pagination.computeBBox(),d=new BBox(0,0,0,0),p=[],f=0,g=0,m=0,_=function(t){var e=t.width,n=t.height;return e===h.width&&n===h.height},y=void 0!==this.maxWidth||void 0!==this.maxHeight;do{if(m++>10){Logger.warn("unable to find stable legend layout.");break}h=d;var v=e-(u?0:h.width),C=gridLayout({orientation:c,bboxes:t,maxHeight:n-(u?h.height:0),maxWidth:v,itemPaddingY:l,itemPaddingX:a,forceResult:y});p=null!==(i=null==C?void 0:C.pages)&&void 0!==i?i:[],f=null!==(o=null==C?void 0:C.maxPageWidth)&&void 0!==o?o:0,g=null!==(r=null==C?void 0:C.maxPageHeight)&&void 0!==r?r:0;var b=p.length;if(this.pagination.visible=b>1,this.pagination.totalPages=b,this.pagination.update(),d=this.pagination.computeBBox(),!this.pagination.visible)break}while(!_(d));return{maxPageWidth:f,maxPageHeight:g,pages:p,paginationBBox:h,paginationVertical:u}},t.prototype.updatePositions=function(t){void 0===t&&(t=0);var e=this,n=e.item.paddingY,i=e.itemSelection,o=e.pages;if(!(o.length<1)&&o[t]){var r=o[t],s=r.columns,a=r.startIndex,l=r.endIndex,c=0,u=0,h=s.length,d=s[0].indices.length,p="horizontal"===this.getOrientation(),f=s[0].bboxes[0].height+n,g=[];i.each((function(t,e,n){var i,o;if(n<a||n>l)t.visible=!1;else{var r=n-a,m=0,_=0;p?(m=r%h,_=Math.floor(r/h)):(m=Math.floor(r/d),_=r%d),t.visible=!0;var y=s[m];y&&(u=f*_,c=null!==(i=g[_])&&void 0!==i?i:0,g[_]=(null!==(o=g[_])&&void 0!==o?o:0)+y.columnWidth,t.translationX=Math.floor(c),t.translationY=Math.floor(u))}}))}},t.prototype.updatePageNumber=function(t){var e=this.pages,n=e[t],i=n.startIndex,o=n.endIndex;0===i?this.paginationTrackingIndex=0:t===e.length-1?this.paginationTrackingIndex=o:this.paginationTrackingIndex=Math.floor((i+o)/2),this.pagination.update(),this.pagination.updateMarkers(),this.updatePositions(t),this.chart.update(ChartUpdateType.SCENE_RENDER)},t.prototype.update=function(){var t=this.item,e=t.marker.strokeWidth,n=t.label.color;this.itemSelection.each((function(t,i){var o=i.marker;t.markerFill=o.fill,t.markerStroke=o.stroke,t.markerStrokeWidth=e,t.markerFillOpacity=o.fillOpacity,t.markerStrokeOpacity=o.strokeOpacity,t.opacity=i.enabled?1:.5,t.color=n}))},t.prototype.getDatumForPoint=function(t,e){var n,i,o=[],r={dist:1/0,datum:void 0};try{for(var s=__values$r(this.group.children),a=s.next();!a.done;a=s.next()){var l=a.value;if(l.visible&&l instanceof MarkerLabel){var c=l.computeBBox();if(c.grow(this.item.paddingX/2,"horizontal"),c.grow(this.item.paddingY/2,"vertical"),c.containsPoint(t,e))return l.datum;var u=t-c.x-this.item.paddingX/2,h=e-c.y-this.item.paddingY/2,d=Math.pow(u,2)+Math.pow(h,2);u>=0&&h>=0&&d<r.dist&&(r.dist=d,r.datum=l.datum),o.push(c)}}}catch(t){n={error:t}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}if(BBox.merge(o).containsPoint(t,e))return r.datum},t.prototype.computeBBox=function(){return this.group.computeBBox()},t.prototype.computePagedBBox=function(){var t=this.group.computeBBox();if(this.pages.length<=1)return t;var e=__read$U(this.maxPageSize,2),n=e[0],i=e[1];return t.height=Math.max(i,t.height),t.width=Math.max(n,t.width),t},t.prototype.checkLegendClick=function(t){var e=this,n=e.listeners.legendItemClick,i=e.chart,o=e.highlightManager,r=e.item.toggleSeriesVisible,s=this.getDatumForPoint(t.offsetX,t.offsetY);if(s){var a=s.id,l=s.itemId,c=s.enabled,u=i.series.find((function(t){return t.id===a}));if(u){t.consume();var h=c;r&&(h=!c,i.series.forEach((function(t){t.id===u.id?t.toggleSeriesItem(l,h):t.toggleOtherSeriesItems(u,s,h)}))),h?o.updateHighlight(this.id,{series:u,itemId:l,datum:void 0}):o.updateHighlight(this.id),this.chart.update(ChartUpdateType.PROCESS_DATA,{forceNodeDataRefresh:!0}),null==n||n({type:"click",enabled:h,itemId:l,seriesId:u.id})}}},t.prototype.checkLegendDoubleClick=function(t){var e,n,i=this,o=i.listeners.legendItemDoubleClick,r=i.chart,s=i.item.toggleSeriesVisible;if("integrated"!==r.mode){var a=this.getDatumForPoint(t.offsetX,t.offsetY);if(a){var l=a.id,c=a.itemId,u=a.seriesId,h=r.series.find((function(t){return t.id===l}));if(h){if(t.consume(),s){var d=r.series.reduce((function(t,e){return __spread$w(t,e.getLegendData())}),[]),p=d.filter((function(t){return t.enabled})).length,f=d.find((function(t){return t.itemId===c&&t.seriesId===u})),g=d.reduce((function(t,e){var n,i;return null!==(n=t[i=e.seriesId])&&void 0!==n||(t[i]=0),t[e.seriesId]++,t}),{}),m=d.reduce((function(t,e){var n,i;return e.enabled?(null!==(n=t[i=e.seriesId])&&void 0!==n||(t[i]=0),t[e.seriesId]++,t):t}),{}),_=0===Object.values(g).filter((function(t){return t>1})).length,y=0===Object.values(m).filter((function(t){return t>1})).length,v=1===p&&null!==(e=null==f?void 0:f.enabled)&&void 0!==e&&e,C=y&&null!==(n=null==f?void 0:f.enabled)&&void 0!==n&&n;r.series.forEach((function(t){t.getLegendData().forEach((function(e){var n=e.itemId===c&&e.seriesId===u||_&&v||!_&&C;t.toggleSeriesItem(e.itemId,n)})),t.id!==h.id&&t.toggleOtherSeriesItems(h,a,void 0,C)}))}this.chart.update(ChartUpdateType.PROCESS_DATA,{forceNodeDataRefresh:!0}),null==o||o({type:"dblclick",enabled:!0,itemId:c,seriesId:h.id})}}}},t.prototype.handleLegendMouseMove=function(t){var e=this,n=e.enabled,i=e.item.toggleSeriesVisible,o=e.listeners;if(n){var r=this.computeBBox(),s=t.pageX,a=t.pageY,l=t.offsetX,c=t.offsetY,u=this.group.visible&&r.containsPoint(l,c);if(!u)return this.cursorManager.updateCursor(this.id),this.highlightManager.updateHighlight(this.id),void this.tooltipManager.removeTooltip(this.id);t.consume();var h=this.getDatumForPoint(l,c);if(!(u&&void 0!==h))return this.cursorManager.updateCursor(this.id),void this.highlightManager.updateHighlight(this.id);var d=h?this.chart.series.find((function(t){return t.id===(null==h?void 0:h.id)})):void 0;h&&this.truncatedItems.has(h.itemId||h.id)?this.tooltipManager.updateTooltip(this.id,{pageX:s,pageY:a,offsetX:l,offsetY:c,event:t},toTooltipHtml$1({content:h.label.text})):this.tooltipManager.removeTooltip(this.id),(i||null!=o.legendItemClick)&&this.cursorManager.updateCursor(this.id,"pointer"),(null==h?void 0:h.enabled)&&d?this.highlightManager.updateHighlight(this.id,{series:d,itemId:null==h?void 0:h.itemId,datum:void 0}):this.highlightManager.updateHighlight(this.id)}},t.prototype.positionLegend=function(t){var e=this,n=t.clone();if(!this.enabled||!this.data.length)return{shrinkRect:n};var i=__read$U(this.calculateLegendDimensions(t),2),o=i[0],r=i[1],s=0,a=0;this.translationX=0,this.translationY=0,this.performLayout(o,r);var l=this.computePagedBBox(),c=function(){switch(e.position){case"top":case"left":return 0;case"bottom":return t.height-l.height;default:return t.width-l.width}};if(this.visible){switch(this.position){case"top":case"bottom":s=(t.width-l.width)/2,a=c(),n.shrink(l.height,this.position);break;default:s=c(),a=(t.height-l.height)/2,n.shrink(l.width,this.position)}this.translationX=Math.floor(-l.x+t.x+s),this.translationY=Math.floor(-l.y+t.y+a)}if(this.visible&&this.enabled&&this.data.length){var u=this.spacing;n.shrink(u,this.position);var h=l.clone();h.x+=this.translationX,h.y+=this.translationY,this.tooltipManager.updateExclusiveRect(this.id,h)}else this.tooltipManager.updateExclusiveRect(this.id);return{shrinkRect:n}},t.prototype.calculateLegendDimensions=function(t){var e=t.width,n=t.height,i=e/n,o=0,r=0;switch(this.position){case"top":case"bottom":var s=i<1?Math.min(.5,1/i*.2):.2;o=this.maxWidth?Math.min(this.maxWidth,e):e,r=this.maxHeight?Math.min(this.maxHeight,n):Math.round(n*s);break;default:var a=i>1?Math.min(.5,.25*i):.25;o=this.maxWidth?Math.min(this.maxWidth,e):Math.round(e*a),r=this.maxHeight?Math.min(this.maxHeight,n):n}return[o,r]},t.className="Legend",__decorate$1K([Validate(BOOLEAN)],t.prototype,"_enabled",void 0),__decorate$1K([Validate(POSITION)],t.prototype,"position",void 0),__decorate$1K([Validate(OPT_NUMBER(0))],t.prototype,"maxWidth",void 0),__decorate$1K([Validate(OPT_NUMBER(0))],t.prototype,"maxHeight",void 0),__decorate$1K([Validate(OPT_BOOLEAN)],t.prototype,"reverseOrder",void 0),__decorate$1K([Validate(OPT_ORIENTATION)],t.prototype,"orientation",void 0),__decorate$1K([Validate(NUMBER(0))],t.prototype,"spacing",void 0),t}(),__values$q=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},SizeMonitor=function(){function t(){}return t.init=function(){var t=this,e=window.ResizeObserver;if(e)this.resizeObserver=new e((function(e){var n,i;try{for(var o=__values$q(e),r=o.next();!r.done;r=o.next()){var s=r.value,a=s.contentRect,l=a.width,c=a.height;t.checkSize(t.elements.get(s.target),s.target,l,c)}}catch(t){n={error:t}}finally{try{r&&!r.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}}));else{window.setInterval((function(){t.elements.forEach((function(e,n){t.checkClientSize(n,e)}))}),100)}this.ready=!0},t.checkSize=function(t,e,n,i){t&&(t.size&&n===t.size.width&&i===t.size.height||(t.size={width:n,height:i},t.cb(t.size,e)))},t.observe=function(t,e){this.ready||this.init(),this.unobserve(t),this.resizeObserver&&this.resizeObserver.observe(t),this.elements.set(t,{cb:e}),this.checkClientSize(t,{cb:e})},t.unobserve=function(t){this.resizeObserver&&this.resizeObserver.unobserve(t),this.elements.delete(t)},t.checkClientSize=function(t,e){var n=t.clientWidth?t.clientWidth:0,i=t.clientHeight?t.clientHeight:0;this.checkSize(e,t,n,i)},t.elements=new Map,t.ready=!1,t}();function circleRectOverlap(t,e,n,i,o){var r=t.x<e?e:t.x>e+i?e+i:t.x,s=t.y<n?n:t.y>n+o?n+o:t.y,a=t.x-r,l=t.y-s;return Math.sqrt(a*a+l*l)<=.5*t.size}function rectRectOverlap(t,e,n,i,o){var r=t.x+t.width>e&&t.x<e+i,s=t.y+t.height>n&&t.y<n+o;return r&&s}function rectContainsRect(t,e,n,i,o){return e+i<t.x+t.width&&e>t.x&&n>t.y&&n+o<t.y+t.height}function isPointLabelDatum(t){return null!=t&&"object"==typeof t.point&&"object"==typeof t.label}function placeLabels(t,e,n){void 0===n&&(n=5);var i=[];t=t.map((function(t){return t.slice().sort((function(t,e){return e.point.size-t.point.size}))}));for(var o=0;o<t.length;o++){var r=i[o]=[],s=t[o];if(s&&s.length&&s[0].label)for(var a=function(o,a){var l=s[o],c=l.label,u=.5*l.point.size,h=l.point.x-.5*c.width,d=l.point.y-u-c.height-n,p=c.width,f=c.height;if(!(!e||rectContainsRect(e,h,d,p,f)))return"continue";var g=t.some((function(t){return t.some((function(t){return circleRectOverlap(t.point,h,d,p,f)}))}));if(g)return"continue";var m=i.some((function(t){return t.some((function(t){return rectRectOverlap(t,h,d,p,f)}))}));if(m)return"continue";r.push({index:o,text:c.text,x:h,y:d,width:p,height:f,datum:l})},l=0,c=s.length;l<c;l++)a(l)}return i}function axisLabelsOverlap(t,e){for(var n=[],i=function(i){var o=t[i],r=o.point,s=r.x,a=r.y,l=o.label.text,c=o.label,u=c.width,h=c.height;if(u+=null!=e?e:0,h+=null!=e?e:0,n.some((function(t){return rectRectOverlap(t,s,a,u,h)})))return{value:!0};n.push({index:i,text:l,x:s,y:a,width:u,height:h,datum:o})},o=0;o<t.length;o++){var r=i(o);if("object"==typeof r)return r.value}return!1}var __awaiter$e=function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function s(t){try{l(i.next(t))}catch(t){r(t)}}function a(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((i=i.apply(t,e||[])).next())}))},__generator$e=function(t,e){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(t){r=[6,t],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}};function debouncedAnimationFrame(t){return buildScheduler((function(t){return requestAnimationFrame(t)}),t)}function debouncedCallback(t){return buildScheduler((function(t){return setTimeout(t,0)}),t)}function buildScheduler(t,e){var n,i,o=0,r=!1,s=function(){return r},a=function(){r=!1,null==i||i(),i=void 0,n=void 0,o>0&&t(l)},l=function(){var t=o;o=0,r=!0;var n=e({count:t});n?n.then(a).catch(a):a()};return{schedule:function(){0!==o||s()||t(l),o++},await:function(){return __awaiter$e(this,void 0,void 0,(function(){return __generator$e(this,(function(t){switch(t.label){case 0:if(!s())return[2];n||(n=new Promise((function(t){i=t}))),t.label=1;case 1:return s()?[4,n]:[3,3];case 2:return t.sent(),[3,1];case 3:return[2]}}))}))}}}var __extends$2r=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$1J=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},MARKER_SHAPES=["circle","cross","diamond","heart","plus","square","triangle"],MARKER_SHAPE=predicateWithMessage((function(t){return MARKER_SHAPES.includes(t)||Object.getPrototypeOf(t)===Marker}),"expecting a marker shape keyword such as 'circle', 'diamond' or 'square' or an object extending the Marker class"),SeriesMarker=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.enabled=!0,e.shape=Circle,e.size=6,e.maxSize=30,e.domain=void 0,e.fill=void 0,e.stroke=void 0,e.strokeWidth=1,e.fillOpacity=void 0,e.strokeOpacity=void 0,e}return __extends$2r(e,t),__decorate$1J([Validate(BOOLEAN),SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"enabled",void 0),__decorate$1J([Validate(MARKER_SHAPE),SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"shape",void 0),__decorate$1J([Validate(NUMBER(0)),SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"size",void 0),__decorate$1J([Validate(NUMBER(0)),SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"maxSize",void 0),__decorate$1J([Validate(OPT_NUMBER_ARRAY),SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"domain",void 0),__decorate$1J([Validate(OPT_COLOR_STRING),SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"fill",void 0),__decorate$1J([Validate(OPT_COLOR_STRING),SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"stroke",void 0),__decorate$1J([Validate(OPT_NUMBER(0)),SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"strokeWidth",void 0),__decorate$1J([Validate(OPT_NUMBER(0,1)),SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"fillOpacity",void 0),__decorate$1J([Validate(OPT_NUMBER(0,1)),SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"strokeOpacity",void 0),e}(ChangeDetectable),__read$T=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},ContinuousScale=function(){function t(e,n){this.domain=e,this.range=n,this.nice=!1,this.tickCount=t.defaultTickCount,this.minTickCount=0,this.maxTickCount=1/0,this.niceDomain=null,this.strictClampByDefault=!1,this.cache=null,this.cacheProps=["domain","range","nice","tickCount","minTickCount","maxTickCount"]}return t.prototype.transform=function(t){return t},t.prototype.transformInvert=function(t){return t},t.prototype.fromDomain=function(t){return"number"==typeof t?t:t instanceof Date?t.getTime():NaN},t.prototype.getDomain=function(){return this.nice&&(this.refresh(),this.niceDomain)?this.niceDomain:this.domain},t.prototype.convert=function(t,e){var n,i=this;if(!this.domain||this.domain.length<2)return NaN;this.refresh();var o=null!==(n=null==e?void 0:e.strict)&&void 0!==n?n:this.strictClampByDefault,r=this.getDomain().map((function(t){return i.transform(t)})),s=__read$T(r,2),a=s[0],l=s[1],c=this.range,u=__read$T(c,2),h=u[0],d=u[1];return(t=this.transform(t))<a?o?NaN:h:t>l?o?NaN:d:a===l?(h+d)/2:t===a?h:t===l?d:h+(this.fromDomain(t)-this.fromDomain(a))/(this.fromDomain(l)-this.fromDomain(a))*(d-h)},t.prototype.invert=function(t){var e=this;this.refresh();var n,i=this.getDomain().map((function(t){return e.transform(t)})),o=__read$T(i,2),r=o[0],s=o[1],a=this.range,l=__read$T(a,2),c=l[0],u=l[1],h=c>u;return t<(h?u:c)?h?s:r:t>(h?c:u)?h?r:s:(n=c===u?this.toDomain((this.fromDomain(r)+this.fromDomain(s))/2):this.toDomain(this.fromDomain(r)+(t-c)/(u-c)*(this.fromDomain(s)-this.fromDomain(r))),this.transformInvert(n))},t.prototype.didChange=function(){var t=this,e=this.cache;return!(e&&!this.cacheProps.some((function(n){return t[n]!==e[n]})))&&(this.cache={},this.cacheProps.forEach((function(e){return t.cache[e]=t[e]})),!0)},t.prototype.refresh=function(){this.didChange()&&this.update()},t.prototype.isDenseInterval=function(t){var e=t.start,n=t.stop,i=t.interval,o=t.count,r=this.range,s=n-e,a=Math.min(r[0],r[1]);return null!=o||(o=s/("number"==typeof i?i:1)),o>=Math.max(r[0],r[1])-a&&(Logger.warn("the configured tick interval, "+JSON.stringify(i)+", results in more than 1 tick per pixel, ignoring. Supply a larger tick interval or omit this configuration."),!0)},t.defaultTickCount=5,t.defaultMaxTickCount=6,t}(),__read$S=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s};function clamp(t,e,n){return Math.max(e,Math.min(n,t))}var BandScale$5=function(){function t(){this.type="band",this.cache=null,this.cacheProps=["_domain","range","_paddingInner","_paddingOuter","round","interval"],this.index=new Map,this.ordinalRange=[],this._domain=[],this.range=[0,1],this._bandwidth=1,this._rawBandwidth=1,this._paddingInner=0,this._paddingOuter=0,this.round=!1}return t.prototype.didChange=function(){var t=this,e=this.cache;return!(e&&!this.cacheProps.some((function(n){return t[n]!==e[n]})))&&(this.cache={},this.cacheProps.forEach((function(e){return t.cache[e]=t[e]})),!0)},t.prototype.refresh=function(){this.didChange()&&this.update()},Object.defineProperty(t.prototype,"domain",{get:function(){return this._domain},set:function(t){var e=[];this.index=new Map;var n=this.index;t.forEach((function(t){void 0===n.get(t)&&n.set(t,e.push(t)-1)})),this._domain=e},enumerable:!1,configurable:!0}),t.prototype.ticks=function(){this.refresh();var t=this.interval,e=void 0===t?1:t,n=Math.abs(Math.round(e));return this._domain.filter((function(t,e){return e%n==0}))},t.prototype.convert=function(t){this.refresh();var e=this.index.get(t);if(void 0===e)return NaN;var n=this.ordinalRange[e];return void 0===n?NaN:n},t.prototype.invert=function(t){this.refresh();var e=this.ordinalRange.findIndex((function(e){return e===t}));return this.domain[e]},Object.defineProperty(t.prototype,"bandwidth",{get:function(){return this.refresh(),this._bandwidth},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rawBandwidth",{get:function(){return this.refresh(),this._rawBandwidth},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"padding",{get:function(){return this._paddingInner},set:function(t){t=clamp(t,0,1),this._paddingInner=t,this._paddingOuter=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"paddingInner",{get:function(){return this._paddingInner},set:function(t){this._paddingInner=clamp(t,0,1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"paddingOuter",{get:function(){return this._paddingOuter},set:function(t){this._paddingOuter=clamp(t,0,1)},enumerable:!1,configurable:!0}),t.prototype.update=function(){var t=this._domain.length;if(0!==t){for(var e=this.round,n=this._paddingInner,i=this._paddingOuter,o=__read$S(this.range,2),r=o[0],s=o[1]-r,a=s/Math.max(1,t+2*i-n),l=e?Math.floor(a):a,c=r+(s-l*(t-n))/2,u=e?Math.round(c):c,h=l*(1-n),d=e?Math.round(h):h,p=a*(1-n),f=[],g=0;g<t;g++)f.push(u+l*g);this._bandwidth=d,this._rawBandwidth=p,this.ordinalRange=f}},t}(),__extends$2q=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$1I=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},Line=function(t){function e(){var e=t.call(this)||this;return e.x1=0,e.y1=0,e.x2=0,e.y2=0,e.restoreOwnStyles(),e}return __extends$2q(e,t),e.prototype.computeBBox=function(){return new BBox(this.x1,this.y1,this.x2-this.x1,this.y2-this.y1)},e.prototype.isPointInPath=function(t,e){return!1},e.prototype.render=function(e){var n,i=e.ctx,o=e.forceRender,r=e.stats;if(this.dirty!==RedrawType.NONE||o){this.computeTransformMatrix(),this.matrix.toContext(i);var s=this.x1,a=this.y1,l=this.x2,c=this.y2;if(s===l){var u=Math.round(s)+Math.floor(this.strokeWidth)%2/2;s=u,l=u}else if(a===c){var h=Math.round(a)+Math.floor(this.strokeWidth)%2/2;a=h,c=h}i.beginPath(),i.moveTo(s,a),i.lineTo(l,c),this.fillStroke(i),null===(n=this.fillShadow)||void 0===n||n.markClean(),t.prototype.render.call(this,e)}else r&&(r.nodesSkipped+=this.nodeCount.count)},e.className="Line",e.defaultStyles=Object.assign({},Shape.defaultStyles,{fill:void 0,strokeWidth:1}),__decorate$1I([SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"x1",void 0),__decorate$1I([SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"y1",void 0),__decorate$1I([SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"x2",void 0),__decorate$1I([SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"y2",void 0),e}(Shape);function isEqual$2(t,e,n){return void 0===n&&(n=1e-10),Math.abs(t-e)<n}function toFixed(t,e){void 0===e&&(e=2);var n=Math.floor(Math.log(Math.abs(t))/Math.LN10);return n>=0||!isFinite(n)?t.toFixed(e):t.toFixed(Math.abs(n)-1+e)}function mod(t,e){return t>=0?Math.floor(t%e):Math.floor(t%e+e)}var __extends$2p=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$1H=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},ArcType;!function(t){t[t.Open=0]="Open",t[t.Chord=1]="Chord",t[t.Round=2]="Round"}(ArcType||(ArcType={}));var Arc=function(t){function e(){var e=t.call(this)||this;return e.centerX=0,e.centerY=0,e.radius=10,e.startAngle=0,e.endAngle=2*Math.PI,e.counterClockwise=!1,e.type=ArcType.Open,e.restoreOwnStyles(),e}return __extends$2p(e,t),Object.defineProperty(e.prototype,"fullPie",{get:function(){return isEqual$2(normalizeAngle360(this.startAngle),normalizeAngle360(this.endAngle))},enumerable:!1,configurable:!0}),e.prototype.updatePath=function(){var t=this.path;t.clear(),t.arc(this.centerX,this.centerY,this.radius,this.startAngle,this.endAngle,this.counterClockwise),this.type===ArcType.Chord?t.closePath():this.type!==ArcType.Round||this.fullPie||(t.lineTo(this.centerX,this.centerY),t.closePath())},e.prototype.computeBBox=function(){return new BBox(this.centerX-this.radius,this.centerY-this.radius,2*this.radius,2*this.radius)},e.prototype.isPointInPath=function(t,e){var n=this.transformPoint(t,e),i=this.computeBBox();return this.type!==ArcType.Open&&i.containsPoint(n.x,n.y)&&this.path.isPointInPath(n.x,n.y)},e.className="Arc",e.defaultStyles=Object.assign({},Shape.defaultStyles,{lineWidth:1,fillStyle:null}),__decorate$1H([ScenePathChangeDetection()],e.prototype,"centerX",void 0),__decorate$1H([ScenePathChangeDetection()],e.prototype,"centerY",void 0),__decorate$1H([ScenePathChangeDetection()],e.prototype,"radius",void 0),__decorate$1H([ScenePathChangeDetection()],e.prototype,"startAngle",void 0),__decorate$1H([ScenePathChangeDetection()],e.prototype,"endAngle",void 0),__decorate$1H([ScenePathChangeDetection()],e.prototype,"counterClockwise",void 0),__decorate$1H([ScenePathChangeDetection()],e.prototype,"type",void 0),e}(Path),__decorate$1G=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},Caption=function(){function t(){this.node=new Text,this.enabled=!1,this.text="",this.fontSize=10,this.fontFamily="sans-serif",this.spacing=t.PADDING,this._lineHeight=void 0;var e=this.node;e.textAlign="center",e.pointerEvents=PointerEvents.None}return Object.defineProperty(t.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(t){this._lineHeight=t,this.node.lineHeight=t},enumerable:!1,configurable:!0}),t.PADDING=10,__decorate$1G([Validate(BOOLEAN)],t.prototype,"enabled",void 0),__decorate$1G([Validate(STRING),ProxyPropertyOnWrite("node")],t.prototype,"text",void 0),__decorate$1G([Validate(OPT_FONT_STYLE),ProxyPropertyOnWrite("node")],t.prototype,"fontStyle",void 0),__decorate$1G([Validate(OPT_FONT_WEIGHT),ProxyPropertyOnWrite("node")],t.prototype,"fontWeight",void 0),__decorate$1G([Validate(NUMBER(0)),ProxyPropertyOnWrite("node")],t.prototype,"fontSize",void 0),__decorate$1G([Validate(STRING),ProxyPropertyOnWrite("node")],t.prototype,"fontFamily",void 0),__decorate$1G([Validate(OPT_COLOR_STRING),ProxyPropertyOnWrite("node","fill")],t.prototype,"color",void 0),__decorate$1G([Validate(OPT_NUMBER(0))],t.prototype,"spacing",void 0),__decorate$1G([Validate(OPT_NUMBER(0))],t.prototype,"_lineHeight",void 0),t}();function areArrayItemsStrictlyEqual(t,e){return t.length===e.length&&t.every((function(t,n){var i=e[n];return Array.isArray(t)&&Array.isArray(i)?areArrayItemsStrictlyEqual(t,i):t===i}))}function areArrayNumbersEqual(t,e){return t.length===e.length&&t.every((function(t,n){return Number(t)===Number(e[n])}))}var __extends$2o=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function ticks(t,e,n,i,o){if(n<2)return range(t,e,e-t);var r=tickStep(t,e,n,i,o);return isNaN(r)?new NumericTicks(0):range(t=Math.ceil(t/r)*r,e=Math.floor(e/r)*r,r)}var tickMultipliers=[1,2,5,10];function tickStep(t,e,n,i,o){void 0===i&&(i=0),void 0===o&&(o=1/0);var r=(e-t)/n,s=Math.floor(Math.log10(r)),a=Math.pow(10,s),l=tickMultipliers.map((function(r){var s=r*a,l=Math.ceil((e-t)/s);return{multiplier:r,isWithinBounds:l>=i&&l<=o,diffCount:Math.abs(l-n)}})).sort((function(t,e){return t.isWithinBounds!==e.isWithinBounds?t.isWithinBounds?-1:1:t.diffCount-e.diffCount}))[0].multiplier;return!l||isNaN(l)?NaN:l*a}function singleTickDomain(t,e){var n=Math.floor(Math.log10(e-t)),i=Math.pow(10,n);return tickMultipliers.map((function(n){var o=n*i,r=Math.floor(t/o)*o,s=Math.ceil(e/o)*o;return{error:1-(e-t)/(s-r),domain:[r,s]}})).sort((function(t,e){return t.error-e.error}))[0].domain}var NumericTicks=function(t){function e(e,n){var i=t.call(this)||this;if(n)for(var o=0,r=n.length;o<r;o++)i[o]=n[o];return i.fractionDigits=e,i}return __extends$2o(e,t),e}(Array);function range(t,e,n){for(var i=function(t){var e,n,i=t.split("e");return Math.max((null!==(n=null===(e=i[0].split(".")[1])||void 0===e?void 0:e.length)&&void 0!==n?n:0)-Number(i[1]),0)}((n%1).toExponential()),o=Math.pow(10,i),r=Math.ceil((e-t)/n),s=new NumericTicks(i),a=0;a<=r;a++){var l=t+n*a;s.push(Math.round(l*o)/o)}return s}var CONSTANTS={periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]};function dayOfYear(t,e){void 0===e&&(e=new Date(t.getFullYear(),0,1));var n=t.getTimezoneOffset()-e.getTimezoneOffset(),i=t.getTime()-e.getTime()+6e4*n;return Math.floor(i/864e5)}function weekOfYear(t,e){var n=(e-new Date(t.getFullYear(),0,1).getDay()+7)%7,i=new Date(t.getFullYear(),0,n+1);return i<=t?Math.floor(dayOfYear(t,i)/7)+1:0}var SUNDAY=0,MONDAY=1,THURSDAY=4;function isoWeekOfYear(t,e){void 0===e&&(e=t.getFullYear());var n=new Date(e,0,1).getDay(),i=new Date(e,0,(THURSDAY-n+7)%7-(THURSDAY-MONDAY)+1);return i<=t?Math.floor(dayOfYear(t,i)/7)+1:isoWeekOfYear(t,e-1)}function timezone(t){var e=t.getTimezoneOffset(),n=Math.abs(e);return""+(e>0?"-":"+")+pad(Math.floor(n/60),2,"0")+pad(Math.floor(n%60),2,"0")}var FORMATTERS={a:function(t){return CONSTANTS.shortDays[t.getDay()]},A:function(t){return CONSTANTS.days[t.getDay()]},b:function(t){return CONSTANTS.shortMonths[t.getMonth()]},B:function(t){return CONSTANTS.months[t.getMonth()]},c:"%x, %X",d:function(t,e){return pad(t.getDate(),2,null!=e?e:"0")},e:"%_d",f:function(t,e){return pad(1e3*t.getMilliseconds(),6,null!=e?e:"0")},H:function(t,e){return pad(t.getHours(),2,null!=e?e:"0")},I:function(t,e){var n=t.getHours()%12;return 0===n?"12":pad(n,2,null!=e?e:"0")},j:function(t,e){return pad(dayOfYear(t)+1,3,null!=e?e:"0")},m:function(t,e){return pad(t.getMonth()+1,2,null!=e?e:"0")},M:function(t,e){return pad(t.getMinutes(),2,null!=e?e:"0")},L:function(t,e){return pad(t.getMilliseconds(),3,null!=e?e:"0")},p:function(t){return t.getHours()<12?"AM":"PM"},Q:function(t){return String(t.getTime())},s:function(t){return String(Math.floor(t.getTime()/1e3))},S:function(t,e){return pad(t.getSeconds(),2,null!=e?e:"0")},u:function(t){var e=t.getDay();return e<1&&(e+=7),String(e%7)},U:function(t,e){return pad(weekOfYear(t,SUNDAY),2,null!=e?e:"0")},V:function(t,e){return pad(isoWeekOfYear(t),2,null!=e?e:"0")},w:function(t,e){return pad(t.getDay(),2,null!=e?e:"0")},W:function(t,e){return pad(weekOfYear(t,MONDAY),2,null!=e?e:"0")},x:"%-m/%-d/%Y",X:"%-I:%M:%S %p",y:function(t,e){return pad(t.getFullYear()%100,2,null!=e?e:"0")},Y:function(t,e){return pad(t.getFullYear(),4,null!=e?e:"0")},Z:function(t){return timezone(t)},"%":function(){return"%"}},PADS={_:" ",0:"0","-":""};function pad(t,e,n){var i=String(Math.floor(t));return i.length>=e?i:""+n.repeat(e-i.length)+i}function buildFormatter(t){for(var e=[];t.length>0;){var n=t.indexOf("%");if(0!==n){var i=n>0?t.substring(0,n):t;e.push(i)}if(n<0)break;var o=t[n+1],r=PADS[o];null!=r&&n++;var s=t[n+1],a=FORMATTERS[s];if("function"==typeof a)e.push([a,r]);else if("string"==typeof a){var l=buildFormatter(a);e.push([l,r])}else e.push(""+(null!=r?r:"")+s);t=t.substring(n+2)}return function(t){var n="number"==typeof t?new Date(t):t;return e.map((function(t){return"string"==typeof t?t:t[0](n,t[1])})).join("")}}var __extends$2n=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__values$p=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},__read$R=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},__spread$v=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$R(arguments[e]));return t},_a$2,DefaultTimeFormats;!function(t){t[t.MILLISECOND=0]="MILLISECOND",t[t.SECOND=1]="SECOND",t[t.MINUTE=2]="MINUTE",t[t.HOUR=3]="HOUR",t[t.WEEK_DAY=4]="WEEK_DAY",t[t.SHORT_MONTH=5]="SHORT_MONTH",t[t.MONTH=6]="MONTH",t[t.SHORT_YEAR=7]="SHORT_YEAR",t[t.YEAR=8]="YEAR"}(DefaultTimeFormats||(DefaultTimeFormats={}));var formatStrings=(_a$2={},_a$2[DefaultTimeFormats.MILLISECOND]=".%L",_a$2[DefaultTimeFormats.SECOND]=":%S",_a$2[DefaultTimeFormats.MINUTE]="%I:%M",_a$2[DefaultTimeFormats.HOUR]="%I %p",_a$2[DefaultTimeFormats.WEEK_DAY]="%a",_a$2[DefaultTimeFormats.SHORT_MONTH]="%b %d",_a$2[DefaultTimeFormats.MONTH]="%B",_a$2[DefaultTimeFormats.SHORT_YEAR]="%y",_a$2[DefaultTimeFormats.YEAR]="%Y",_a$2);function toNumber(t){return t instanceof Date?t.getTime():t}var TimeScale$1=function(t){function e(){var e=t.call(this,[new Date(2022,11,7),new Date(2022,11,8)],[0,1])||this;return e.type="time",e.cacheProps=["domain","range","nice","tickCount","interval","minTickCount","maxTickCount"],e.year=year,e.month=month,e.week=sunday,e.day=day,e.hour=hour,e.minute=minute,e.second=second,e.millisecond=millisecond,e.tickIntervals=[[e.second,1,durationSecond],[e.second,5,5*durationSecond],[e.second,15,15*durationSecond],[e.second,30,30*durationSecond],[e.minute,1,durationMinute],[e.minute,5,5*durationMinute],[e.minute,15,15*durationMinute],[e.minute,30,30*durationMinute],[e.hour,1,durationHour],[e.hour,3,3*durationHour],[e.hour,6,6*durationHour],[e.hour,12,12*durationHour],[e.day,1,durationDay],[e.day,2,2*durationDay],[e.week,1,durationWeek],[e.week,2,2*durationWeek],[e.week,3,3*durationWeek],[e.month,1,durationMonth],[e.month,2,2*durationMonth],[e.month,3,3*durationMonth],[e.month,4,4*durationMonth],[e.month,6,6*durationMonth],[e.year,1,durationYear]],e}return __extends$2n(e,t),e.prototype.toDomain=function(t){return new Date(t)},e.prototype.calculateDefaultTickFormat=function(t){var e,n;void 0===t&&(t=[]);var i=DefaultTimeFormats.YEAR,o=function(t){t<i&&(i=t)};try{for(var r=__values$p(t),s=r.next();!s.done;s=r.next()){var a=s.value;o(this.getLowestGranularityFormat(a))}}catch(t){e={error:t}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}var l=toNumber(t[0]),c=toNumber(t[t.length-1]),u=new Date(l).getFullYear(),h=new Date(c).getFullYear()-u>0;return this.buildFormatString(i,h)},e.prototype.buildFormatString=function(t,e){var n=[formatStrings[t]],i=0,o=this.getDomain(),r=Math.min.apply(Math,__spread$v(o.map(toNumber))),s=Math.max.apply(Math,__spread$v(o.map(toNumber)))-r;switch(t){case DefaultTimeFormats.SECOND:s/durationMinute>1&&n.push(formatStrings[DefaultTimeFormats.MINUTE]);case DefaultTimeFormats.MINUTE:s/durationHour>1&&n.push(formatStrings[DefaultTimeFormats.HOUR]);case DefaultTimeFormats.HOUR:i=n.length,s/durationDay>1&&n.push(formatStrings[DefaultTimeFormats.WEEK_DAY]);case DefaultTimeFormats.WEEK_DAY:if(s/durationWeek>1||e){var a=n.indexOf(formatStrings[DefaultTimeFormats.WEEK_DAY]);a>-1&&n.splice(a,1,formatStrings[DefaultTimeFormats.SHORT_MONTH])}case DefaultTimeFormats.SHORT_MONTH:case DefaultTimeFormats.MONTH:(s/durationYear>1||e)&&n.push(formatStrings[DefaultTimeFormats.YEAR])}return i<n.length&&(n=__spread$v(n.slice(0,i),[n.slice(i).join(" ")])),i>0&&i<(n=__spread$v(n.slice(0,i).reverse(),n.slice(i))).length&&n.splice(i,0," "),n.join("")},e.prototype.getLowestGranularityFormat=function(t){return this.second.floor(t)<t?DefaultTimeFormats.MILLISECOND:this.minute.floor(t)<t?DefaultTimeFormats.SECOND:this.hour.floor(t)<t?DefaultTimeFormats.MINUTE:this.day.floor(t)<t?DefaultTimeFormats.HOUR:this.month.floor(t)<t?this.week.floor(t)<t?DefaultTimeFormats.WEEK_DAY:DefaultTimeFormats.SHORT_MONTH:this.year.floor(t)<t?DefaultTimeFormats.MONTH:DefaultTimeFormats.YEAR},e.prototype.defaultTickFormat=function(t){var e=this.calculateDefaultTickFormat(t);return function(t){return buildFormatter(e)(t)}},e.prototype.getTickInterval=function(t){for(var e,n,i,o=t.start,r=t.stop,s=t.count,a=t.minCount,l=t.maxCount,c=this.tickIntervals,u=null!=s?s:ContinuousScale.defaultTickCount,h=Math.abs(r-o)/Math.max(u,1),d=0;d<c.length&&h>c[d][2];)d++;if(0===d)i=Math.max(tickStep(o,r,u,a,l),1),n=this.millisecond;else if(d===c.length){i=tickStep(o/durationYear,r/durationYear,u,a,l),n=this.year}else{var p=h-c[d-1][2],f=c[d][2]-h;n=(e=__read$R(c[p<f?d-1:d],2))[0],i=e[1]}return n.every(i)},e.prototype.invert=function(e){return new Date(t.prototype.invert.call(this,e))},e.prototype.ticks=function(){if(!this.domain||this.domain.length<2)return[];this.refresh();var t=__read$R(this.getDomain().map(toNumber),2),e=t[0],n=t[1];if(void 0!==this.interval)return this.getTicksForInterval({start:e,stop:n});if(this.nice){var i=this.tickCount;if(2===i)return this.niceDomain;if(1===i)return this.niceDomain.slice(0,1)}return this.getDefaultTicks({start:e,stop:n})},e.prototype.getDefaultTicks=function(t){var e=t.start,n=t.stop,i=this.getTickInterval({start:e,stop:n,count:this.tickCount,minCount:this.minTickCount,maxCount:this.maxTickCount});return i?i.range(new Date(e),new Date(n)):[]},e.prototype.getTicksForInterval=function(t){var e=t.start,n=t.stop,i=this.interval,o=this.tickIntervals;if(!i)return[];if(i instanceof TimeInterval){var r=i.range(new Date(e),new Date(n));return this.isDenseInterval({start:e,stop:n,interval:i,count:r.length})?this.getDefaultTicks({start:e,stop:n}):r}var s=Math.abs(i);if(this.isDenseInterval({start:e,stop:n,interval:s}))return this.getDefaultTicks({start:e,stop:n});var a=__spread$v(o);a.reverse();var l=a.find((function(t){return s%t[2]==0}));if(l)return l[0].every(s/(l[2]/l[1])).range(new Date(e),new Date(n));for(var c=new Date(e),u=new Date(n),h=[];c<=u;)h.push(c),(c=new Date(c)).setMilliseconds(c.getMilliseconds()+s);return h},e.prototype.tickFormat=function(t){var e=t.ticks,n=t.specifier;return null==n?this.defaultTickFormat(e):buildFormatter(n)},e.prototype.update=function(){!this.domain||this.domain.length<2||this.nice&&this.updateNiceDomain()},e.prototype.updateNiceDomain=function(){for(var t=__read$R(this.domain,2),e=t[0],n=t[1],i=0;i<4;i++){this.updateNiceDomainIteration(e,n);var o=__read$R(this.niceDomain,2),r=o[0],s=o[1];if(toNumber(e)===toNumber(r)&&toNumber(n)===toNumber(s))break;e=r,n=s}},e.prototype.updateNiceDomainIteration=function(t,e){var n,i=toNumber(t),o=toNumber(e),r=this.interval;if(r instanceof TimeInterval)n=r;else{var s="number"==typeof r?(o-i)/Math.max(r,1):this.tickCount;n=this.getTickInterval({start:i,stop:o,count:s,minCount:this.minTickCount,maxCount:this.maxTickCount})}if(n){var a=n.range(t,e,!0),l=a[0],c=a[a.length-1];this.niceDomain=[l,c]}},e}(ContinuousScale),__read$Q=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},__spread$u=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$Q(arguments[e]));return t},_a$1,group=function(t){return"("+t+")"},optionalGroup=function(t){return group(t)+"?"},nonCapturingGroup=function(t){return optionalGroup("?:"+t)},formatRegEx=new RegExp(["^",nonCapturingGroup(""+optionalGroup(".")+group("[<>=^]")),optionalGroup("[+\\-( ]"),optionalGroup("[$#]"),optionalGroup("0"),optionalGroup("\\d+"),optionalGroup(","),nonCapturingGroup("\\."+group("\\d+")),optionalGroup("~"),optionalGroup("[%a-z]"),"$"].join(""),"i"),surroundedRegEx=new RegExp(["^",group(".*?"),"#\\{"+group(".+?")+"\\}",group(".*?"),"$"].join(""));function parseFormatter(t){var e,n,i,o=t.match(surroundedRegEx);o&&(n=(e=__read$Q(o,4))[1],t=e[2],i=e[3]);var r=t.match(formatRegEx);if(!r)throw new Error("The number formatter is invalid: "+t);var s=__read$Q(r,11),a=s[1],l=s[2],c=s[3],u=s[4],h=s[5],d=s[6],p=s[7],f=s[8],g=s[9],m=s[10];return{fill:a,align:l,sign:c,symbol:u,zero:h,width:parseInt(d),comma:p,precision:parseInt(f),trim:Boolean(g),type:m,prefix:n,suffix:i}}function format(t){var e,n="string"==typeof t?parseFormatter(t):t,i=n.fill,o=n.align,r=n.sign,s=void 0===r?"-":r,a=n.symbol,l=n.zero,c=n.width,u=n.comma,h=n.type,d=n.prefix,p=void 0===d?"":d,f=n.suffix,g=void 0===f?"":f,m=n.precision,_=n.trim;if(h)if(h in decimalTypes&&h in integerTypes)e=isNaN(m)?integerTypes[h]:decimalTypes[h];else if(h in decimalTypes)e=decimalTypes[h];else{if(!(h in integerTypes))throw new Error("The number formatter type is invalid: "+h);e=integerTypes[h]}else e=decimalTypes.g,_=!0;return isNaN(m)&&(m=h?6:12),function(t){var n=e(t,m);return _&&(n=removeTrailingZeros(n)),u&&(n=insertSeparator(n,u)),n=addSign(t,n,s),a&&"#"!==a&&(n=""+a+n),"#"===a&&"x"===h&&(n="0x"+n),"s"===h&&(n=""+n+getSIPrefix(t)),"%"!==h&&"p"!==h||(n+="%"),isNaN(c)||(n=addPadding(n,c,i||l,o)),n=""+p+n+g}}var absFloor=function(t){return Math.floor(Math.abs(t))},integerTypes={b:function(t){return absFloor(t).toString(2)},c:function(t){return String.fromCharCode(t)},d:function(t){return Math.round(Math.abs(t)).toFixed(0)},o:function(t){return absFloor(t).toString(8)},x:function(t){return absFloor(t).toString(16)},X:function(t){return integerTypes.x(t).toUpperCase()},n:function(t){return integerTypes.d(t)},"%":function(t){return""+absFloor(100*t).toFixed(0)}},decimalTypes={e:function(t,e){return Math.abs(t).toExponential(e)},E:function(t,e){return decimalTypes.e(t,e).toUpperCase()},f:function(t,e){return Math.abs(t).toFixed(e)},F:function(t,e){return decimalTypes.f(t,e).toUpperCase()},g:function(t,e){if(0===t)return"0";var n=Math.abs(t),i=Math.floor(Math.log10(n));return i>=-4&&i<e?n.toFixed(e-1-i):n.toExponential(e-1)},G:function(t,e){return decimalTypes.g(t,e).toUpperCase()},n:function(t,e){return decimalTypes.g(t,e)},p:function(t,e){return decimalTypes.r(100*t,e)},r:function(t,e){if(0===t)return"0";var n=Math.abs(t),i=Math.floor(Math.log10(n))-(e-1);if(i<=0)return n.toFixed(-i);var o=Math.pow(10,i);return(Math.round(n/o)*o).toFixed()},s:function(t,e){var n=getSIPrefixPower(t);return decimalTypes.r(t/Math.pow(10,n),e)},"%":function(t,e){return decimalTypes.f(100*t,e)}};function removeTrailingZeros(t){return t.replace(/\.0+$/,"").replace(/(\.[1-9])0+$/,"$1")}function insertSeparator(t,e){var n=t.indexOf(".");n<0&&(n=t.length);for(var i=t.substring(0,n).split(""),o=t.substring(n),r=i.length-3;r>0;r-=3)i.splice(r,0,e);return""+i.join("")+o}function getSIPrefix(t){return siPrefixes[getSIPrefixPower(t)]}function getSIPrefixPower(t){var e=Math.log10(Math.abs(t)),n=3*Math.floor(e/3);return Math.max(minSIPrefix,Math.min(maxSIPrefix,n))}var minSIPrefix=-24,maxSIPrefix=24,siPrefixes=(_a$1={},_a$1[minSIPrefix]="y",_a$1[-21]="z",_a$1[-18]="a",_a$1[-15]="f",_a$1[-12]="p",_a$1[-9]="n",_a$1[-6]="",_a$1[-3]="m",_a$1[0]="",_a$1[3]="k",_a$1[6]="M",_a$1[9]="G",_a$1[12]="T",_a$1[15]="P",_a$1[18]="E",_a$1[21]="Z",_a$1[maxSIPrefix]="Y",_a$1),minusSign="";function addSign(t,e,n){return void 0===n&&(n=""),"("===n?t>=0?e:"("+e+")":""+(t>=0?"+"===n?"+":"":minusSign)+e}function addPadding(t,e,n,i){void 0===n&&(n=" "),void 0===i&&(i=">");var o=t;if(">"!==i&&i){if("<"===i)o=o.padEnd(e,n);else if("^"===i){var r=Math.max(0,e-o.length),s=Math.ceil(r/2),a=Math.floor(r/2);o=(o=o.padStart(s+o.length,n)).padEnd(a+o.length,n)}}else o=o.padStart(e,n);return o}function tickFormat(t,e){var n=parseFormatter(e||",f");isNaN(n.precision)&&("f"===n.type||"%"===n.type?n.precision=Math.max.apply(Math,__spread$u(t.map((function(t){if("number"!=typeof t||0===t)return 0;var e=Math.floor(Math.log10(Math.abs(t))),i=n.type?6:12,o=t.toExponential(i-1).replace(/\.?0+e/,"e"),r=o.indexOf(".");if(r<0)return e>=0?0:-e;var s=o.indexOf("e")-r;return Math.max(0,s-e-1)})))):n.type&&!(n.type in decimalTypes)||(n.precision=Math.max.apply(Math,__spread$u(t.map((function(t){if("number"!=typeof t)return 0;var e=t.toExponential((n.type?6:12)-1).replace(/\.?0+e/,"e");return e.substring(0,e.indexOf("e")).replace(".","").length}))))));var i=format(n);return function(t){return i(Number(t))}}var __extends$2m=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$1F=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},__read$P=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},__spread$t=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$P(arguments[e]));return t},identity=function(t){return t},LogScale=function(t){function e(){var e=t.call(this,[1,10],[0,1])||this;return e.type="log",e.base=10,e.cacheProps=["domain","range","nice","tickCount","base"],e.baseLog=identity,e.basePow=identity,e.log=function(t){return e.domain[0]>=0?e.baseLog(t):-e.baseLog(-t)},e.pow=function(t){return e.domain[0]>=0?e.basePow(t):-e.basePow(-t)},e}return __extends$2m(e,t),e.prototype.toDomain=function(t){return t},e.prototype.transform=function(t){return this.domain[0]>=0?Math.log(t):-Math.log(-t)},e.prototype.transformInvert=function(t){return this.domain[0]>=0?Math.exp(t):-Math.exp(-t)},e.prototype.update=function(){!this.domain||this.domain.length<2||(this.updateLogFn(),this.updatePowFn(),this.nice&&this.updateNiceDomain())},e.prototype.updateLogFn=function(){var t,e=this.base;if(10===e)t=Math.log10;else if(e===Math.E)t=Math.log;else if(2===e)t=Math.log2;else{var n=Math.log(e);t=function(t){return Math.log(t)/n}}this.baseLog=t},e.prototype.updatePowFn=function(){var t,n=this.base;t=10===n?e.pow10:n===Math.E?Math.exp:function(t){return Math.pow(n,t)},this.basePow=t},e.prototype.updateNiceDomain=function(){var t=__read$P(this.domain,2),e=t[0],n=t[1],i=this.pow(Math.floor(this.log(e))),o=this.pow(Math.ceil(this.log(n)));this.niceDomain=[i,o]},e.pow10=function(t){return t>=0?Math.pow(10,t):1/Math.pow(10,-t)},e.prototype.ticks=function(){var t,e=this,n=null!==(t=this.tickCount)&&void 0!==t?t:10;if(!this.domain||this.domain.length<2||n<1)return[];this.refresh();var i=this.base,o=__read$P(this.getDomain(),2),r=o[0],s=o[1],a=this.log(r),l=this.log(s);if(this.interval){var c=Math.abs(this.interval),u=Math.abs(l-a),h=range(a,l,Math.min(u,c)).map((function(t){return e.pow(t)})).filter((function(t){return t>=r&&t<=s}));if(!this.isDenseInterval({start:r,stop:s,interval:c,count:h.length}))return h}if(!(i%1==0)||l-a>=n)return ticks(a,l,Math.min(l-a,n)).map((function(t){return e.pow(t)}));var d=[],p=r>0;a=Math.floor(a)-1,l=Math.round(l)+1;for(var f=Math.min.apply(Math,__spread$t(this.range)),g=(Math.max.apply(Math,__spread$t(this.range))-f)/n,m=1/0,_=a;_<=l;_++)for(var y=this.convert(this.pow(_+1)),v=1;v<i;v++){var C=p?v:i-v+1,b=this.pow(_)*C,E=this.convert(b),S=Math.abs(m-E),w=Math.abs(E-y);b>=r&&b<=s&&(1===v||S>=g&&w>=g)&&(d.push(b),m=E)}return d},e.prototype.tickFormat=function(t){var e=t.count,n=t.ticks,i=t.specifier,o=this.base;return null==i&&(i=10===o?".0e":","),"function"!=typeof i&&(i=format(i)),e===1/0?i:(null==e&&(e=10),n=null!=n?n:this.ticks(),function(t){return i(t)})},__decorate$1F([Validate(NUMBER(0))],e.prototype,"base",void 0),e}(ContinuousScale);function Default(t,e){return void 0===e&&(e=[void 0]),addTransformToInstanceProperty((function(n,i,o){return e.includes(o)?t:o}))}function extent$4(t){var e=t.length;if(0!==e){for(var n=1/0,i=-1/0,o=0;o<e;o++){var r=t[o];r instanceof Date&&(r=r.getTime()),"number"==typeof r&&(r<n&&(n=r),r>i&&(i=r))}var s=[n,i];if(!s.some((function(t){return!isFinite(t)})))return s}}var __decorate$1E=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},Label$1=function(){function t(){this.enabled=!0,this.fontSize=12,this.fontFamily="Verdana, sans-serif",this.fontStyle=void 0,this.fontWeight=void 0,this.color="rgba(70, 70, 70, 1)"}return t.prototype.getFont=function(){return getFont(this.fontSize,this.fontFamily,this.fontStyle,this.fontWeight)},__decorate$1E([Validate(BOOLEAN)],t.prototype,"enabled",void 0),__decorate$1E([Validate(NUMBER(0))],t.prototype,"fontSize",void 0),__decorate$1E([Validate(STRING)],t.prototype,"fontFamily",void 0),__decorate$1E([Validate(OPT_FONT_STYLE)],t.prototype,"fontStyle",void 0),__decorate$1E([Validate(OPT_FONT_WEIGHT)],t.prototype,"fontWeight",void 0),__decorate$1E([Validate(COLOR_STRING)],t.prototype,"color",void 0),t}();function calculateLabelRotation(t){var e=t.parallelFlipRotation,n=void 0===e?0:e,i=t.regularFlipRotation,o=void 0===i?0:i,r=t.rotation?normalizeAngle360(toRadians$1(t.rotation)):0,s=!r&&n>=0&&n<=Math.PI?-1:1,a=!r&&o>=0&&o<=Math.PI?-1:1,l=0;return t.parallel?l=s*Math.PI/2:-1===a&&(l=Math.PI),{labelRotation:r,autoRotation:l,parallelFlipFlag:s,regularFlipFlag:a}}var __decorate$1D=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},__read$O=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},__spread$s=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$O(arguments[e]));return t},TICK_COUNT=predicateWithMessage((function(t,e){return NUMBER(0)(t,e)||t instanceof TimeInterval}),"expecting a tick count Number value or, for a time axis, a Time Interval such as 'agCharts.time.month'"),OPT_TICK_COUNT=predicateWithMessage((function(t,e){return OPTIONAL(t,e,TICK_COUNT)}),"expecting an optional tick count Number value or, for a time axis, a Time Interval such as 'agCharts.time.month'"),OPT_TICK_INTERVAL=predicateWithMessage((function(t,e){return OPTIONAL(t,e,(function(t,e){return 0!==t&&NUMBER(0)(t,e)||t instanceof TimeInterval}))}),"expecting an optional non-zero positive Number value or, for a time axis, a Time Interval such as 'agCharts.time.month'"),GRID_STYLE_KEYS=["stroke","lineDash"],GRID_STYLE=predicateWithMessage(ARRAY(void 0,(function(t){for(var e in t)if(!GRID_STYLE_KEYS.includes(e))return!1;return!0})),"expecting an Array of objects with gridline style properties such as 'stroke' and 'lineDash'"),Tags;!function(t){t[t.TickLine=0]="TickLine",t[t.TickLabel=1]="TickLabel",t[t.GridLine=2]="GridLine",t[t.GridArc=3]="GridArc",t[t.AxisLine=4]="AxisLine"}(Tags||(Tags={}));var AxisLine=function(){function t(){this.width=1,this.color="rgba(195, 195, 195, 1)"}return __decorate$1D([Validate(NUMBER(0))],t.prototype,"width",void 0),__decorate$1D([Validate(OPT_COLOR_STRING)],t.prototype,"color",void 0),t}(),AxisTick=function(){function t(){this.width=1,this.size=6,this.color="rgba(195, 195, 195, 1)",this.count=void 0,this.interval=void 0,this.values=void 0,this.minSpacing=NaN,this.maxSpacing=NaN}return __decorate$1D([Validate(NUMBER(0))],t.prototype,"width",void 0),__decorate$1D([Validate(NUMBER(0))],t.prototype,"size",void 0),__decorate$1D([Validate(OPT_COLOR_STRING)],t.prototype,"color",void 0),__decorate$1D([Validate(OPT_TICK_COUNT),Deprecated("Use tick.interval or tick.minSpacing and tick.maxSpacing instead")],t.prototype,"count",void 0),__decorate$1D([Validate(OPT_TICK_INTERVAL)],t.prototype,"interval",void 0),__decorate$1D([Validate(OPT_ARRAY())],t.prototype,"values",void 0),__decorate$1D([Validate(AND(NUMBER_OR_NAN(1),LESS_THAN("maxSpacing"))),Default(NaN)],t.prototype,"minSpacing",void 0),__decorate$1D([Validate(AND(NUMBER_OR_NAN(1),GREATER_THAN("minSpacing"))),Default(NaN)],t.prototype,"maxSpacing",void 0),t}(),AxisLabel=function(){function t(){this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif",this.padding=5,this.minSpacing=NaN,this.color="rgba(87, 87, 87, 1)",this.rotation=void 0,this.autoRotate=void 0,this.autoRotateAngle=335,this.avoidCollisions=!0,this.mirrored=!1,this.parallel=!1,this.formatter=void 0,this.format=void 0}return __decorate$1D([Validate(OPT_FONT_STYLE)],t.prototype,"fontStyle",void 0),__decorate$1D([Validate(OPT_FONT_WEIGHT)],t.prototype,"fontWeight",void 0),__decorate$1D([Validate(NUMBER(1))],t.prototype,"fontSize",void 0),__decorate$1D([Validate(STRING)],t.prototype,"fontFamily",void 0),__decorate$1D([Validate(NUMBER(0))],t.prototype,"padding",void 0),__decorate$1D([Validate(NUMBER_OR_NAN()),Default(NaN)],t.prototype,"minSpacing",void 0),__decorate$1D([Validate(OPT_COLOR_STRING)],t.prototype,"color",void 0),__decorate$1D([Validate(OPT_NUMBER(-360,360))],t.prototype,"rotation",void 0),__decorate$1D([Validate(OPT_BOOLEAN)],t.prototype,"autoRotate",void 0),__decorate$1D([Validate(NUMBER(-360,360))],t.prototype,"autoRotateAngle",void 0),__decorate$1D([Validate(BOOLEAN)],t.prototype,"avoidCollisions",void 0),__decorate$1D([Validate(BOOLEAN)],t.prototype,"mirrored",void 0),__decorate$1D([Validate(BOOLEAN)],t.prototype,"parallel",void 0),__decorate$1D([Validate(OPT_STRING)],t.prototype,"format",void 0),t}(),Axis=function(){function t(t){this.id=createId$1(this),this.nice=!0,this.dataDomain=[],this.axisGroup=new Group({name:this.id+"-axis",zIndex:Layers.AXIS_ZINDEX}),this.lineNode=this.axisGroup.appendChild(new Line),this.tickLineGroup=this.axisGroup.appendChild(new Group({name:this.id+"-Axis-tick-lines",zIndex:Layers.AXIS_ZINDEX})),this.tickLabelGroup=this.axisGroup.appendChild(new Group({name:this.id+"-Axis-tick-labels",zIndex:Layers.AXIS_ZINDEX})),this.crossLineGroup=new Group({name:this.id+"-CrossLines"}),this.gridGroup=new Group({name:this.id+"-Axis-grid"}),this.gridLineGroup=this.gridGroup.appendChild(new Group({name:this.id+"-gridLines",zIndex:Layers.AXIS_GRID_ZINDEX})),this.gridArcGroup=this.gridGroup.appendChild(new Group({name:this.id+"-gridArcs",zIndex:Layers.AXIS_GRID_ZINDEX})),this.tickLineGroupSelection=Selection.select(this.tickLineGroup,Line),this.tickLabelGroupSelection=Selection.select(this.tickLabelGroup,Text),this.gridLineGroupSelection=Selection.select(this.gridLineGroup,Line),this.gridArcGroupSelection=Selection.select(this.gridArcGroup,Arc),this._crossLines=[],this.line=new AxisLine,this.tick=new AxisTick,this.label=new AxisLabel,this.translation={x:0,y:0},this.rotation=0,this.layout={label:{align:"center",baseline:"middle",rotation:0,fractionDigits:0,padding:this.label.padding,format:this.label.format}},this.requestedRange=[0,1],this._visibleRange=[0,1],this._title=void 0,this._gridLength=0,this.gridStyle=[{stroke:"rgba(219, 219, 219, 1)",lineDash:[4,2]}],this._radialGrid=!1,this.fractionDigits=0,this.gridPadding=0,this.seriesAreaPadding=0,this.thickness=0,this._scale=t,this.refreshScale()}return Object.defineProperty(t.prototype,"scale",{get:function(){return this._scale},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"crossLines",{get:function(){return this._crossLines},set:function(t){var e,n,i=this;null===(e=this._crossLines)||void 0===e||e.forEach((function(t){return i.detachCrossLine(t)})),this._crossLines=t,null===(n=this._crossLines)||void 0===n||n.forEach((function(t){i.attachCrossLine(t),i.initCrossLine(t)}))},enumerable:!1,configurable:!0}),t.prototype.attachCrossLine=function(t){this.crossLineGroup.appendChild(t.group)},t.prototype.detachCrossLine=function(t){this.crossLineGroup.removeChild(t.group)},t.prototype.destroy=function(){},t.prototype.refreshScale=function(){var t,e=this;this.requestedRange=this.scale.range.slice(),null===(t=this.crossLines)||void 0===t||t.forEach((function(t){e.initCrossLine(t)}))},t.prototype.updateRange=function(){var t,e=this,n=e.requestedRange,i=e.visibleRange,o=e.scale,r=(n[1]-n[0])/(i[1]-i[0]),s=r*i[0],a=n[0]-s;o.range=[a,a+r],null===(t=this.crossLines)||void 0===t||t.forEach((function(t){t.clippedRange=[n[0],n[1]]}))},t.prototype.setCrossLinesVisible=function(t){this.crossLineGroup.visible=t},t.prototype.attachAxis=function(t,e){t.insertBefore(this.gridGroup,e),t.insertBefore(this.axisGroup,e),t.insertBefore(this.crossLineGroup,e)},t.prototype.detachAxis=function(t){t.removeChild(this.gridGroup),t.removeChild(this.axisGroup),t.removeChild(this.crossLineGroup)},t.prototype.inRange=function(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=0),0===this.inRangeEx(t,e,n)},t.prototype.inRangeEx=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=0);var i=this.range,o=Math.min(i[0],i[1]),r=Math.max(i[0],i[1]);return t+e<o-n?-1:t>r+n?1:0},Object.defineProperty(t.prototype,"range",{get:function(){return this.requestedRange},set:function(t){this.requestedRange=t.slice(),this.updateRange()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visibleRange",{get:function(){return this._visibleRange.slice()},set:function(t){if(t&&2===t.length){var e=__read$O(t,2),n=e[0],i=e[1];n=Math.max(0,n),i=Math.min(1,i),n=Math.min(n,i),i=Math.max(n,i),this._visibleRange=[n,i],this.updateRange()}},enumerable:!1,configurable:!0}),t.prototype.onLabelFormatChange=function(t,e){var n=this.scale,i=this.fractionDigits,o=!(n instanceof LogScale)&&i>0?function(t){return"number"==typeof t?t.toFixed(i):String(t)}:function(t){return String(t)};if(e&&n&&n.tickFormat)try{this.labelFormatter=n.tickFormat({ticks:t,specifier:e})}catch(t){this.labelFormatter=o,Logger.warnOnce("the axis label format string "+e+" is invalid. No formatting will be applied")}else this.labelFormatter=o},Object.defineProperty(t.prototype,"title",{get:function(){return this._title},set:function(t){var e=this._title;e!==t&&(e&&this.axisGroup.removeChild(e.node),t&&(t.node.rotation=-Math.PI/2,this.axisGroup.appendChild(t.node)),this._title=t,this.setTickCount(this.tick.count),this.setTickInterval(this.tick.interval),this.updateTitle({ticks:this.scale.ticks()}))},enumerable:!1,configurable:!0}),t.prototype.setDomain=function(){var t,e=this,n=e.scale,i=e.dataDomain,o=e.tick.values;if(o&&n instanceof ContinuousScale){var r=__read$O(null!==(t=extent$4(o))&&void 0!==t?t:[1/0,-1/0],2),s=r[0],a=r[1],l=Math.min(n.fromDomain(i[0]),s),c=Math.max(n.fromDomain(i[1]),a);n.domain=[n.toDomain(l),n.toDomain(c)]}else n.domain=i},t.prototype.setTickInterval=function(t){var e;this.scale.interval=null!==(e=this.tick.interval)&&void 0!==e?e:t},t.prototype.setTickCount=function(t,e,n){var i=this.scale;if(t&&i instanceof ContinuousScale)return"number"==typeof t?(i.tickCount=t,i.minTickCount=null!=e?e:0,void(i.maxTickCount=null!=n?n:1/0)):void(i instanceof TimeScale$1&&this.setTickInterval(t))},Object.defineProperty(t.prototype,"gridLength",{get:function(){return this._gridLength},set:function(t){var e,n=this;(this._gridLength&&!t||!this._gridLength&&t)&&(this.gridLineGroupSelection=this.gridLineGroupSelection.clear(),this.gridArcGroupSelection=this.gridArcGroupSelection.clear()),this._gridLength=t,null===(e=this.crossLines)||void 0===e||e.forEach((function(t){n.initCrossLine(t)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"radialGrid",{get:function(){return this._radialGrid},set:function(t){this._radialGrid!==t&&(this._radialGrid=t,this.gridLineGroupSelection=this.gridLineGroupSelection.clear(),this.gridArcGroupSelection=this.gridArcGroupSelection.clear())},enumerable:!1,configurable:!0}),t.prototype.update=function(t){var e,n;this.calculateDomain();var i=this,o=i.scale,r=i.gridLength,s=i.tick,a=i.label,l=a.parallel,c=a.mirrored,u=a.avoidCollisions,h=i.requestedRange,d=Math.min.apply(Math,__spread$s(h)),p=Math.max.apply(Math,__spread$s(h)),f=toRadians$1(this.rotation),g=this.isAnySeriesActive(),m=c?1:-1,_=normalizeAngle360(f),y=normalizeAngle360(f-Math.PI/2),v=this.nice;this.setDomain(),this.setTickInterval(this.tick.interval),o instanceof ContinuousScale&&(o.nice=v,this.setTickCount(this.tick.count),o.update());var C=(o.bandwidth||0)/2;this.updatePosition(),this.updateLine();for(var b=0,E=!0,S=[],w=this.estimateTickCount({minSpacing:this.tick.minSpacing,maxSpacing:this.tick.maxSpacing}),O=w.maxTickCount,x=w.minTickCount,P=w.defaultTickCount,T=o instanceof ContinuousScale,M=void 0!==t,D=u&&void 0===this.tick.interval&&void 0===this.tick.values,R=!isNaN(this.tick.minSpacing)||!isNaN(this.tick.maxSpacing),A=this.tick.count||!T||isNaN(O)?10:O;E;){for(var L=!0,I=function(){if(b>A)return"break";var n=S,i=Math.max(P-b,x),s=D&&!(T&&void 0===k.tick.count)&&(R||0!==b);if(k.tick.values?S=k.tick.values:0===O?S=[]:0!==b&&s||(k.setTickCount(null!==(e=k.tick.count)&&void 0!==e?e:i,x,O),S=o.ticks()),s){var a=R?Math.ceil(S.length/i):2;S=S.filter((function(t,e){return e%a==0}))}var l=void 0;M&&(l=k.updateSecondaryAxisTicks(t),S=l),k.updateSelections({halfBandwidth:C,gridLength:r,ticks:S}),!M&&S.length>0&&(t=S.length),L=!!D&&areArrayNumbersEqual(S,n),b++},k=this;L;){if("break"===I())break}if(L)break;this.onLabelFormatChange(S,this.label.format);var N=this.updateLabels({parallelFlipRotation:_,regularFlipRotation:y,sideFlag:m,tickLabelGroupSelection:this.tickLabelGroupSelection,ticks:S}),F=N.labelData,G=N.rotated,B=this.getLabelSpacing(G);E=!!D&&axisLabelsOverlap(F,B)}this.updateGridLines({gridLength:r,halfBandwidth:C,sideFlag:m});var j=!1,U=function(t){var e=Math.floor(d),n=Math.ceil(p);if(e!==n){t.translationY>=e-1&&t.translationY<e&&(t.translationY=e),t.translationY>n&&t.translationY<=n+1&&(t.translationY=n);var i=t.translationY>=e&&t.translationY<=n;i&&(j=!0),t.visible=i}else t.visible=!1},V=this,W=V.gridLineGroupSelection,H=V.gridArcGroupSelection,$=V.tickLineGroupSelection,z=V.tickLabelGroupSelection;return W.each(U),H.each(U),$.each(U),z.each(U),this.tickLineGroup.visible=j,this.tickLabelGroup.visible=j,this.gridLineGroup.visible=j,this.gridArcGroup.visible=j,null===(n=this.crossLines)||void 0===n||n.forEach((function(t){t.sideFlag=-m,t.direction=f===-Math.PI/2?ChartAxisDirection.X:ChartAxisDirection.Y,t.label.parallel=void 0!==t.label.parallel?t.label.parallel:l,t.parallelFlipRotation=_,t.regularFlipRotation=y,t.update(g)})),this.updateTitle({ticks:S}),$.each((function(t){t.strokeWidth=s.width,t.stroke=s.color,t.visible=j,t.x1=m*s.size,t.x2=0,t.y1=0,t.y2=0})),t},t.prototype.estimateTickCount=function(e){var n=e.minSpacing,i=e.maxSpacing,o=this.requestedRange,r=Math.min.apply(Math,__spread$s(o)),s=Math.max.apply(Math,__spread$s(o))-r,a=Math.max(t.defaultTickMinSpacing,s/ContinuousScale.defaultMaxTickCount);isNaN(n)&&isNaN(i)?(n=a)>(i=s)&&(i=n):isNaN(n)?(n=a)>i&&(n=i):isNaN(i)&&n>(i=s)&&(i=n);var l=Math.max(1,Math.floor(s/n)),c=Math.min(l,Math.ceil(s/i)),u=ContinuousScale.defaultTickCount;return u>l?u=l:u<c&&(u=c),{minTickCount:c,maxTickCount:l,defaultTickCount:u}},t.prototype.getLabelSpacing=function(t){var e=this.label;return isNaN(e.minSpacing)?t?0:10:e.minSpacing},t.prototype.calculateDomain=function(){},t.prototype.updatePosition=function(){var t=this,e=t.label,n=t.crossLineGroup,i=t.axisGroup,o=t.gridGroup,r=t.translation,s=t.gridLineGroupSelection,a=t.gridPadding,l=t.gridLength,c=toRadians$1(this.rotation),u=e.mirrored?1:-1,h=Math.floor(r.x),d=Math.floor(r.y);n.translationX=h,n.translationY=d,n.rotation=c,i.translationX=h,i.translationY=d,i.rotation=c,o.translationX=h,o.translationY=d,o.rotation=c,s.each((function(t){t.x1=a,t.x2=-u*l+a,t.y1=0,t.y2=0}))},t.prototype.updateSecondaryAxisTicks=function(t){throw new Error("AG Charts - unexpected call to updateSecondaryAxisTicks() - check axes configuration.")},t.prototype.updateSelections=function(t){var e=t.ticks,n=t.halfBandwidth,i=t.gridLength,o=this.scale,r=e.map((function(t){return{tick:t,translationY:o.convert(t)+n}})),s=this.radialGrid?this.gridLineGroupSelection:this.gridLineGroupSelection.update(i?r:[],(function(t){var e=new Line;e.tag=Tags.GridLine,t.append(e)})),a=this.radialGrid?this.gridArcGroupSelection.update(i?r:[],(function(t){var e=new Arc;e.tag=Tags.GridArc,t.append(e)})):this.gridArcGroupSelection,l=this.tickLineGroupSelection.update(r,(function(t){var e=new Line;e.tag=Tags.TickLine,t.appendChild(e)})),c=this.tickLabelGroupSelection.update(r,(function(t){var e=new Text;e.tag=Tags.TickLabel,t.appendChild(e)})),u=function(t){return t.translationY=Math.round(t.datum.translationY)};s.each(u),a.each(u),l.each(u),c.each(u),this.tickLineGroupSelection=l,this.tickLabelGroupSelection=c,this.gridLineGroupSelection=s,this.gridArcGroupSelection=a},t.prototype.updateGridLines=function(t){var e=t.gridLength,n=t.halfBandwidth,i=t.sideFlag,o=this,r=o.gridStyle,s=o.scale,a=o.tick,l=o.gridPadding;if(e&&r.length){var c=r.length,u=void 0;if(this.radialGrid){var h=normalizeAngle360Inclusive(toRadians$1(e));u=this.gridArcGroupSelection.each((function(t,e){var i=Math.round(s.convert(e)+n);t.centerX=0,t.centerY=s.range[0]-i,t.endAngle=h,t.radius=i}))}else u=this.gridLineGroupSelection.each((function(t){t.x1=l,t.x2=-i*e+l,t.y1=0,t.y2=0}));u.each((function(t,e,n){var i=r[n%c];t.stroke=i.stroke,t.strokeWidth=a.width,t.lineDash=i.lineDash,t.fill=void 0}))}},t.prototype.updateLabels=function(t){var e=this,n=t.ticks,i=t.tickLabelGroupSelection,o=t.sideFlag,r=t.parallelFlipRotation,s=t.regularFlipRotation,a=this,l=a.label,c=a.label,u=c.parallel,h=c.rotation,d=a.tick,p=0,f=calculateLabelRotation({rotation:h,parallel:u,regularFlipRotation:s,parallelFlipRotation:r}),g=f.autoRotation,m=f.labelRotation,_=f.parallelFlipFlag,y=f.regularFlipFlag;this.fractionDigits=n.fractionDigits>=0?n.fractionDigits:0;var v=new Map,C=o*(d.size+l.padding+this.seriesAreaPadding),b=new Matrix;Matrix.updateTransformMatrix(b,1,1,g,0,0);var E=[],S=i.each((function(t,n,i){var o=n.tick,r=n.translationY;t.fontStyle=l.fontStyle,t.fontWeight=l.fontWeight,t.fontSize=l.fontSize,t.fontFamily=l.fontFamily,t.fill=l.color,t.text=e.formatTickDatum(o,i);var s=""===t.text||null==t.text,a=t.computeBBox(),c=a.width,u=a.height,h=new BBox(C,r,0,0);b.transformBBox(h,a);var d=a.x,p=void 0===d?0:d,f=a.y,g=void 0===f?0:f;a.width=c,a.height=u,v.set(i,s?null:a),s||E.push({point:{x:p,y:g,size:0},label:{width:c,height:u,text:""}})})),w=this.getLabelSpacing(),O=axisLabelsOverlap(E,w);void 0===l.rotation&&!0===l.autoRotate&&O&&(p=normalizeAngle360(toRadians$1(l.autoRotateAngle)));var x="middle";u&&!m&&(x=o*_==-1?"hanging":"bottom");var P=m>0&&m<=Math.PI,T=p>0&&p<=Math.PI,M="start";u?m||p?o*(P||T?-1:1)==-1&&(M="end"):M="center":o*y==-1&&(M="end");var D=g+m+p;return D&&Matrix.updateTransformMatrix(b,1,1,D,0,0),E=[],S.each((function(t,e,n){if(""!==t.text&&null!=t.text){t.textBaseline=x,t.textAlign=M,t.x=C,t.rotationCenterX=C,t.rotation=D;var i=v.get(n);if(i){t.visible=!0;var o=i.width,r=void 0===o?0:o,s=i.height,a=void 0===s?0:s,l=e.translationY,c=new BBox(C,l,0,0);b.transformBBox(c,i);var u=i.x,h=void 0===u?0:u,d=i.y,p=void 0===d?0:d;E.push({point:{x:h,y:p,size:0},label:{width:r,height:a,text:t.text}})}}else t.visible=!1})),this.layout.label={align:M,baseline:x,rotation:D,fractionDigits:this.fractionDigits,padding:this.label.padding,format:this.label.format},{labelData:E,rotated:!(!m&&!p)}},t.prototype.updateLine=function(){var t=this.lineNode,e=this.requestedRange;t.x1=0,t.x2=0,t.y1=e[0],t.y2=e[1],t.strokeWidth=this.line.width,t.stroke=this.line.color,t.visible=!0},t.prototype.updateTitle=function(t){var e=t.ticks,n=this,i=n.label,o=n.rotation,r=n.title,s=n.lineNode,a=n.requestedRange,l=n.tickLineGroup,c=n.tickLabelGroup;if(r){var u=!1;if(r.enabled&&s.visible){u=!0;var h=i.mirrored?1:-1,d=normalizeAngle360(o),p=Caption.PADDING,f=r.node,g=-1===h&&d>Math.PI&&d<2*Math.PI?-1:1;f.rotation=g*h*Math.PI/2,f.x=Math.floor(g*h*(a[0]+a[1])/2);var m=0;if((null==e?void 0:e.length)>0){var _=Group.computeBBox([l,c]),y=0===o?_.width:_.height;Math.abs(y)<1/0&&(m+=y)}f.y=-1===h?Math.floor(g*(-p-m)):Math.floor(-p-m),f.textBaseline=1===g?"bottom":"top"}r.node.visible=u}},t.prototype.formatTickDatum=function(t,e){var n=this,i=n.label,o=n.labelFormatter,r=n.fractionDigits;return i.formatter?i.formatter({value:r>0?t:String(t),index:e,fractionDigits:r,formatter:o}):o?o(t):String(t)},t.prototype.formatDatum=function(t){return String(t)},t.prototype.computeBBox=function(){return this.axisGroup.computeBBox()},t.prototype.initCrossLine=function(t){t.scale=this.scale,t.gridLength=this.gridLength},t.prototype.isAnySeriesActive=function(){return!1},t.prototype.clipTickLines=function(t,e,n,i){this.tickLineGroup.setClipRectInGroupCoordinateSpace(new BBox(t,e,n,i))},t.prototype.clipGrid=function(t,e,n,i){this.gridGroup.setClipRectInGroupCoordinateSpace(new BBox(t,e,n,i))},t.prototype.calculatePadding=function(t,e){return Math.abs(.01*t)},t.defaultTickMinSpacing=50,__decorate$1D([Validate(BOOLEAN)],t.prototype,"nice",void 0),__decorate$1D([Validate(GRID_STYLE)],t.prototype,"gridStyle",void 0),__decorate$1D([Validate(NUMBER(0))],t.prototype,"thickness",void 0),t}(),__extends$2l=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__read$N=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},LinearScale$1=function(t){function e(){var e=t.call(this,[0,1],[0,1])||this;return e.type="linear",e}return __extends$2l(e,t),e.prototype.toDomain=function(t){return t},e.prototype.ticks=function(){var t,e=null!==(t=this.tickCount)&&void 0!==t?t:ContinuousScale.defaultTickCount;if(!this.domain||this.domain.length<2||e<1||this.domain.some((function(t){return!isFinite(t)})))return[];this.refresh();var n=__read$N(this.getDomain(),2),i=n[0],o=n[1],r=this.interval;if(r){var s=Math.abs(r);if(!this.isDenseInterval({start:i,stop:o,interval:s}))return range(i,o,s)}return ticks(i,o,e,this.minTickCount,this.maxTickCount)},e.prototype.update=function(){!this.domain||this.domain.length<2||this.nice&&this.updateNiceDomain()},e.prototype.updateNiceDomain=function(){var t,e,n=null!==(t=this.tickCount)&&void 0!==t?t:ContinuousScale.defaultTickCount,i=__read$N(this.domain,2),o=i[0],r=i[1];if(n<1)this.niceDomain=[o,r];else if(1!==n){for(var s=o,a=r,l=0;l<4;l++){var c=null!==(e=this.interval)&&void 0!==e?e:tickStep(o,r,n,this.minTickCount,this.maxTickCount),u=__read$N(this.domain,2),h=u[0],d=u[1];if(c>=1)o=Math.floor(h/c)*c,r=Math.ceil(d/c)*c;else{var p=1/c;o=Math.floor(h*p)/p,r=Math.ceil(d*p)/p}if(o===s&&r===a)break;s=o,a=r}this.niceDomain=[o,r]}else this.niceDomain=singleTickDomain(o,r)},e.prototype.tickFormat=function(t){var e=t.ticks,n=t.specifier;return tickFormat(e||this.ticks(),n)},e}(ContinuousScale),__extends$2k=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__assign$E=function(){return __assign$E=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},__assign$E.apply(this,arguments)},__decorate$1C=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},__read$M=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},__spread$r=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$M(arguments[e]));return t},__values$o=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function flipChartAxisDirection(t){return t===ChartAxisDirection.X?ChartAxisDirection.Y:ChartAxisDirection.X}var ChartAxis=function(t){function e(e,n){var i=t.call(this,n)||this;return i.moduleCtx=e,i.keys=[],i.direction=ChartAxisDirection.Y,i.boundSeries=[],i.includeInvisibleDomains=!1,i.modules={},i._position="left",i}return __extends$2k(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this.constructor.type||""},enumerable:!1,configurable:!0}),e.prototype.useCalculatedTickCount=function(){return this.scale instanceof LinearScale$1},Object.defineProperty(e.prototype,"position",{get:function(){return this._position},set:function(t){if(this._position!==t){switch(this._position=t,t){case"top":this.direction=ChartAxisDirection.X,this.rotation=-90,this.label.mirrored=!0,this.label.parallel=!0;break;case"right":this.direction=ChartAxisDirection.Y,this.rotation=0,this.label.mirrored=!0,this.label.parallel=!1;break;case"bottom":this.direction=ChartAxisDirection.X,this.rotation=-90,this.label.mirrored=!1,this.label.parallel=!0;break;case"left":this.direction=ChartAxisDirection.Y,this.rotation=0,this.label.mirrored=!1,this.label.parallel=!1}this.axisContext&&(this.axisContext.position=t,this.axisContext.direction=this.direction)}},enumerable:!1,configurable:!0}),e.prototype.calculateDomain=function(){var t,e=this,n=e.direction,i=e.boundSeries,o=e.includeInvisibleDomains;if(this.linkedTo)this.dataDomain=this.linkedTo.dataDomain;else{var r=[];i.filter((function(t){return o||t.isEnabled()})).forEach((function(t){r.push(t.getDomain(n))}));var s=(t=new Array).concat.apply(t,__spread$r(r));this.dataDomain=this.normaliseDataDomain(s)}},e.prototype.normaliseDataDomain=function(t){return t},e.prototype.isAnySeriesActive=function(){var t=this;return this.boundSeries.some((function(e){return t.includeInvisibleDomains||e.isEnabled()}))},e.prototype.getLayoutState=function(){return __assign$E({rect:this.computeBBox(),gridPadding:this.gridPadding,seriesAreaPadding:this.seriesAreaPadding,tickSize:this.tick.size},this.layout)},e.prototype.addModule=function(t){var e=this;if(null!=this.modules[t.optionsKey])throw new Error("AG Charts - module already initialised: "+t.optionsKey);if(null==this.axisContext){this.axisContext={axisId:this.id,position:this.position,direction:this.direction,continuous:this.scale instanceof ContinuousScale,keys:function(){return e.boundSeries.map((function(t){return t.getKeys(e.direction)})).reduce((function(t,e){return t.push.apply(t,__spread$r(e)),t}),[])},scaleValueFormatter:function(t){var n,i,o;return null!==(o=null===(i=(n=e.scale).tickFormat)||void 0===i?void 0:i.call(n,{specifier:t}))&&void 0!==o?o:void 0},scaleBandwidth:function(){var t;return null!==(t=e.scale.bandwidth)&&void 0!==t?t:0},scaleConvert:function(t){return e.scale.convert(t)},scaleInvert:function(t){var n,i,o;return null!==(o=null===(i=(n=e.scale).invert)||void 0===i?void 0:i.call(n,t))&&void 0!==o?o:void 0}}}var n=t.initialiseModule(__assign$E(__assign$E({},this.moduleCtx),{parent:this.axisContext}));this.modules[t.optionsKey]=n,this[t.optionsKey]=n.instance},e.prototype.removeModule=function(t){var e,n;null===(n=null===(e=this.modules[t.optionsKey])||void 0===e?void 0:e.instance)||void 0===n||n.destroy(),delete this.modules[t.optionsKey],delete this[t.optionsKey]},e.prototype.isModuleEnabled=function(t){return null!=this.modules[t.optionsKey]},e.prototype.destroy=function(){var e,n;t.prototype.destroy.call(this);try{for(var i=__values$o(Object.entries(this.modules)),o=i.next();!o.done;o=i.next()){var r=__read$M(o.value,2),s=r[0];r[1].instance.destroy(),delete this.modules[s],delete this[s]}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},__decorate$1C([Validate(STRING_ARRAY)],e.prototype,"keys",void 0),__decorate$1C([Validate(POSITION)],e.prototype,"_position",void 0),e}(Axis),__extends$2j=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$1B=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},__read$L=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},__spread$q=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$L(arguments[e]));return t},CategoryAxis=function(t){function e(e){var n=t.call(this,e,new BandScale$5)||this;return n._paddingOverrideEnabled=!1,n.groupPaddingInner=.1,n.includeInvisibleDomains=!0,n}return __extends$2j(e,t),Object.defineProperty(e.prototype,"paddingInner",{get:function(){return this._paddingOverrideEnabled=!0,this.scale.paddingInner},set:function(t){this._paddingOverrideEnabled=!0,this.scale.paddingInner=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"paddingOuter",{get:function(){return this.scale.paddingOuter},set:function(t){this.scale.paddingOuter=t},enumerable:!1,configurable:!0}),e.prototype.normaliseDataDomain=function(t){var e=new Set(t);return new(Array.bind.apply(Array,__spread$q([void 0],e.values())))},e.prototype.calculateDomain=function(){if(!this._paddingOverrideEnabled){var e=this.boundSeries.map((function(t){var e;return null===(e=t.getBandScalePadding)||void 0===e?void 0:e.call(t)})).filter((function(t){return null!=t}));e.length>0&&(this.scale.paddingInner=Math.min.apply(Math,__spread$q(e.map((function(t){return t.inner})))),this.scale.paddingOuter=Math.max.apply(Math,__spread$q(e.map((function(t){return t.outer})))))}return t.prototype.calculateDomain.call(this)},e.className="CategoryAxis",e.type="category",__decorate$1B([Validate(NUMBER(0,1))],e.prototype,"groupPaddingInner",void 0),e}(ChartAxis),__assign$D=function(){return __assign$D=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},__assign$D.apply(this,arguments)},__read$K=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},__spread$p=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$K(arguments[e]));return t},__values$n=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function jsonDiff(t,e){var n,i,o=classify(t),r=classify(e);if("array"===r){var s=e;return"array"!==o||t.length!==s.length||s.some((function(e,n){var i;return null!=jsonDiff(null===(i=t)||void 0===i?void 0:i[n],e)}))?__spread$p(s):null}if("primitive"===r)return"primitive"!==o?__assign$D({},e):t!==e?e:null;var a=t||{},l=e||{},c=new Set(__spread$p(Object.keys(a),Object.keys(l))),u=0,h={},d=function(t){if(a[t]===l[t])return"continue";var e=function(e){h[t]=e,u++},n=classify(a[t]),i=classify(l[t]);if(n!==i)return e(l[t]),"continue";if("primitive"===i||null===i)return e(l[t]),"continue";if("array"===i&&a[t].length!==l[t].length)return e(l[t]),"continue";if("class-instance"===i)return e(l[t]),"continue";if("function"===i&&a[t]!==l[t])return e(l[t]),"continue";var o=jsonDiff(a[t],l[t]);null!==o&&e(o)};try{for(var p=__values$n(c),f=p.next();!f.done;f=p.next()){d(f.value)}}catch(t){n={error:t}}finally{try{f&&!f.done&&(i=p.return)&&i.call(p)}finally{if(n)throw n.error}}return 0===u?null:h}var DELETE=Symbol("<delete-property>"),NOT_SPECIFIED=Symbol("<unspecified-property>");function jsonMerge(t,e){var n,i,o=(null==e?void 0:e.avoidDeepClone)||[];if(t.map((function(t){return classify(t)})).some((function(t){return"array"===t}))){var r=t[t.length-1];return r instanceof Array?r.map((function(t){var n=classify(t);return"array"===n?jsonMerge([[],t],e):"object"===n?jsonMerge([{},t],e):t})):r}var s={},a=new Set(t.map((function(t){return null!=t?Object.keys(t):[]})).reduce((function(t,e){return t.concat(e)}),[])),l=function(n){var i=t.map((function(t){return null!=t&&n in t?t[n]:NOT_SPECIFIED})).filter((function(t){return t!==NOT_SPECIFIED}));if(0===i.length)return"continue";var r=i[i.length-1];if(r===DELETE)return"continue";var a=i.map((function(t){return classify(t)})),l=a[0];if(a.some((function(t){return t!==l})))return s[n]=r,"continue";"array"!==l&&"object"!==l||o.includes(n)?s[n]="array"===l?__spread$p(r):r:s[n]=jsonMerge(i,e)};try{for(var c=__values$n(a),u=c.next();!u.done;u=c.next()){l(u.value)}}catch(t){n={error:t}}finally{try{u&&!u.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}return s}function jsonApply(t,e,n){var i;void 0===n&&(n={});var o=n.path,r=void 0===o?void 0:o,s=n.matcherPath,a=void 0===s?r?r.replace(/(\[[0-9+]+\])/i,"[]"):void 0:s,l=n.skip,c=void 0===l?[]:l,u=n.constructors,h=void 0===u?{}:u,d=n.allowedTypes,p=void 0===d?{}:d,f=n.idx;if(null==t)throw new Error("AG Charts - target is uninitialised: "+(r||"<root>"));if(null==e)return t;var g=t;null!=f&&"_declarationOrder"in g&&(g._declarationOrder=f);var m=classify(t),_=function(o){var s=(a?a+".":"")+o;if(c.indexOf(s)>=0)return"continue";var l=e[o],u=(r?r+".":"")+o,d=g.constructor,f=g[o],_=null!==(i=h[o])&&void 0!==i?i:h[s];try{var y=classify(f),v=classify(l);if("class-instance"===m&&!(o in t)&&!Object.prototype.hasOwnProperty.call(g,o))return Logger.warn("unable to set ["+u+"] in "+(null==d?void 0:d.name)+" - property is unknown"),"continue";var C=p[s]||[y];if("class-instance"===y&&"object"===v);else if(null!=y&&null!=v&&!C.includes(v))return Logger.warn("unable to set ["+u+"] in "+(null==d?void 0:d.name)+" - can't apply type of ["+v+"], allowed types are: ["+C+"]"),"continue";if("array"===v)if(null!=(_=null!=_?_:h[s+"[]"])){var b=l;g[o]=b.map((function(t,e){return jsonApply(new _,t,__assign$D(__assign$D({},n),{path:u,matcherPath:s+"[]",idx:e}))}))}else g[o]=l;else"class-instance"===v?g[o]=l:"object"===v?null!=f?jsonApply(f,l,__assign$D(__assign$D({},n),{path:u,matcherPath:s,idx:void 0})):g[o]=null!=_?jsonApply(new _,l,__assign$D(__assign$D({},n),{path:u,matcherPath:s,idx:void 0})):l:g[o]=l}catch(t){var E=t;return Logger.warn("unable to set ["+u+"] in ["+(null==d?void 0:d.name)+"]; nested error is: "+E.message),"continue"}};for(var y in e)_(y);return t}function jsonWalk(t,e,n){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var r=classify(t),s=n.skip||[];if("array"!==r){if("object"===r){e.apply(void 0,__spread$p([r,t],i));var a=function(o){if(s.indexOf(o)>=0)return"continue";var r=t[o],a=null==i?void 0:i.map((function(t){return null==t?void 0:t[o]})),l=classify(r);"object"!==l&&"array"!==l||jsonWalk.apply(void 0,__spread$p([r,e,n],a))};for(var l in t)a(l)}}else t.forEach((function(t,o){jsonWalk.apply(void 0,__spread$p([t,e,n],(null!=i?i:[]).map((function(t){return null==t?void 0:t[o]}))))}))}function classify(t){return null==t?null:t instanceof HTMLElement?"primitive":t instanceof Array?"array":t instanceof Date?"primitive":"object"==typeof t&&t.constructor===Object?"object":"function"==typeof t?"function":"object"==typeof t&&null!=t.constructor?"class-instance":"primitive"}var __extends$2i=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$1A=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},__awaiter$d=function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function s(t){try{l(i.next(t))}catch(t){r(t)}}function a(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((i=i.apply(t,e||[])).next())}))},__generator$d=function(t,e){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(t){r=[6,t],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},__read$J=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},__spread$o=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$J(arguments[e]));return t},__values$m=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},_a,DEFAULT_DIRECTION_KEYS=(_a={},_a[ChartAxisDirection.X]=["xKey"],_a[ChartAxisDirection.Y]=["yKey"],_a),CartesianSeriesNodeBaseClickEvent=function(t){function e(e,n,i,o,r){var s=t.call(this,i,o,r)||this;return s.xKey=e,s.yKey=n,s}return __extends$2i(e,t),e}(SeriesNodeBaseClickEvent),CartesianSeriesNodeClickEvent=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="nodeClick",e}return __extends$2i(e,t),e}(CartesianSeriesNodeBaseClickEvent),CartesianSeriesNodeDoubleClickEvent=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="nodeDoubleClick",e}return __extends$2i(e,t),e}(CartesianSeriesNodeBaseClickEvent),CartesianSeries=function(t){function e(e){var n;void 0===e&&(e={});var i=t.call(this,{useSeriesGroupLayer:!0,pickModes:e.pickModes,directionKeys:null!==(n=e.directionKeys)&&void 0!==n?n:DEFAULT_DIRECTION_KEYS})||this;i._contextNodeData=[],i.nodeDataDependencies={},i.highlightSelection=Selection.select(i.highlightNode,(function(){return i.opts.hasMarkers?i.markerFactory():i.nodeFactory()})),i.highlightLabelSelection=Selection.select(i.highlightLabel,Text),i.subGroups=[],i.subGroupId=0,i.seriesItemEnabled=new Map;var o=e.pathsPerSeries,r=void 0===o?1:o,s=e.hasMarkers,a=void 0!==s&&s,l=e.pathsZIndexSubOrderOffset,c=void 0===l?[]:l,u=e.renderLayerPerSubSeries,h=void 0===u||u;return i.opts={pathsPerSeries:r,hasMarkers:a,pathsZIndexSubOrderOffset:c,renderLayerPerSubSeries:h},i}return __extends$2i(e,t),Object.defineProperty(e.prototype,"contextNodeData",{get:function(){var t;return null===(t=this._contextNodeData)||void 0===t?void 0:t.slice()},enumerable:!1,configurable:!0}),e.prototype.destroy=function(){t.prototype.destroy.call(this),this._contextNodeData.splice(0,this._contextNodeData.length),this.subGroups.splice(0,this.subGroups.length)},e.prototype.checkDomainXY=function(t,e,n,i){return(n&&isContinuous(t)||!n&&isDiscrete(t))&&(i&&isContinuous(e)||!i&&isDiscrete(e))?[t,e]:void 0},e.prototype.checkRangeXY=function(t,e,n,i){return!isNaN(t)&&!isNaN(e)&&n.inRange(t)&&i.inRange(e)},e.prototype.update=function(t){var e,n,i=t.seriesRect;return __awaiter$d(this,void 0,void 0,(function(){var t,o,r,s,a,l,c;return __generator$d(this,(function(u){switch(u.label){case 0:return o=(t=this).seriesItemEnabled,r=t.visible,s=(null!==(n=null===(e=this.highlightManager)||void 0===e?void 0:e.getActiveHighlight())&&void 0!==n?n:{}).series,a=s?s===this:void 0,l=r&&0===o.size||__spread$o(o.values()).some((function(t){return!0===t})),c={seriesRectWidth:null==i?void 0:i.width,seriesRectHeight:null==i?void 0:i.height},null!=jsonDiff(this.nodeDataDependencies,c)&&(this.nodeDataDependencies=c,this.markNodeDataDirty()),[4,this.updateSelections(a,l)];case 1:return u.sent(),[4,this.updateNodes(a,l)];case 2:return u.sent(),[2]}}))}))},e.prototype.updateSelections=function(t,e){return __awaiter$d(this,void 0,void 0,(function(){var n,i=this;return __generator$d(this,(function(o){switch(o.label){case 0:return[4,this.updateHighlightSelection(t)];case 1:return o.sent(),e?this.nodeDataRefresh||this.isPathOrSelectionDirty()?this.nodeDataRefresh?(this.nodeDataRefresh=!1,n=this,[4,this.createNodeData()]):[3,4]:[2]:[2];case 2:return n._contextNodeData=o.sent(),[4,this.updateSeriesGroups()];case 3:o.sent(),o.label=4;case 4:return[4,Promise.all(this.subGroups.map((function(e,n){return i.updateSeriesGroupSelections(e,n,t)})))];case 5:return o.sent(),[2]}}))}))},e.prototype.updateSeriesGroupSelections=function(t,e,n){return __awaiter$d(this,void 0,void 0,(function(){var i,o,r,s,a,l,c,u,h,d,p;return __generator$d(this,(function(f){switch(f.label){case 0:return i=t.datumSelection,o=t.labelSelection,r=t.markerSelection,s=t.paths,a=this._contextNodeData[e],l=a.nodeData,c=a.labelData,u=a.itemId,[4,this.updatePaths({seriesHighlighted:n,itemId:u,contextData:a,paths:s,seriesIdx:e})];case 1:return f.sent(),h=t,[4,this.updateDatumSelection({nodeData:l,datumSelection:i,seriesIdx:e})];case 2:return h.datumSelection=f.sent(),d=t,[4,this.updateLabelSelection({labelData:c,labelSelection:o,seriesIdx:e})];case 3:return d.labelSelection=f.sent(),r?(p=t,[4,this.updateMarkerSelection({nodeData:l,markerSelection:r,seriesIdx:e})]):[3,5];case 4:p.markerSelection=f.sent(),f.label=5;case 5:return[2]}}))}))},e.prototype.nodeFactory=function(){return new Group},e.prototype.markerFactory=function(){return new(getMarker$1())},e.prototype.updateSeriesGroups=function(){var t;return __awaiter$d(this,void 0,void 0,(function(){var e,n,i,o,r,s,a,l,c,u,h,d,p,f,g,m,_,y,v,C=this;return __generator$d(this,(function(b){if(n=(e=this)._contextNodeData,i=e.contentGroup,o=e.subGroups,r=e.opts,s=r.pathsPerSeries,a=r.hasMarkers,l=r.pathsZIndexSubOrderOffset,c=r.renderLayerPerSubSeries,n.length===o.length)return[2];for(n.length<o.length&&o.splice(n.length).forEach((function(t){var e,n,o=t.dataNodeGroup,r=t.markerGroup,s=t.labelGroup,a=t.paths;i.removeChild(o),r&&i.removeChild(r),s&&i.removeChild(s);try{for(var l=__values$m(a),c=l.next();!c.done;c=l.next()){var u=c.value;i.removeChild(u)}}catch(t){e={error:t}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(e)throw e.error}}})),u=n.length;u>o.length;){for(h=c,d=this.subGroupId++,p=d,f=new Group({name:this.id+"-series-sub"+d+"-dataNodes",layer:h,zIndex:Layers.SERIES_LAYER_ZINDEX,zIndexSubOrder:[function(){return C._declarationOrder},p]}),g=a?new Group({name:this.id+"-series-sub"+this.subGroupId+++"-markers",layer:h,zIndex:Layers.SERIES_LAYER_ZINDEX,zIndexSubOrder:[function(){return C._declarationOrder},1e4+d]}):void 0,m=new Group({name:this.id+"-series-sub"+this.subGroupId+++"-labels",layer:h,zIndex:Layers.SERIES_LABEL_ZINDEX,zIndexSubOrder:[function(){return C._declarationOrder},d]}),i.appendChild(f),i.appendChild(m),g&&i.appendChild(g),_=c?f:i,y=[],v=0;v<s;v++)y[v]=new Path,y[v].zIndex=Layers.SERIES_LAYER_ZINDEX,y[v].zIndexSubOrder=[function(){return C._declarationOrder},(null!==(t=l[v])&&void 0!==t?t:0)+p],_.appendChild(y[v]);o.push({paths:y,dataNodeGroup:f,markerGroup:g,labelGroup:m,labelSelection:Selection.select(m,Text),datumSelection:Selection.select(f,(function(){return C.nodeFactory()})),markerSelection:g?Selection.select(g,(function(){return C.markerFactory()})):void 0})}return[2]}))}))},e.prototype.updateNodes=function(t,e){var n;return __awaiter$d(this,void 0,void 0,(function(){var i,o,r,s,a,l,c,u,h,d,p,f,g=this;return __generator$d(this,(function(m){switch(m.label){case 0:return o=(i=this).highlightSelection,r=i.highlightLabelSelection,s=i._contextNodeData,a=i.seriesItemEnabled,l=i.opts,c=l.hasMarkers,u=l.renderLayerPerSubSeries,h=this.visible&&(null===(n=this._contextNodeData)||void 0===n?void 0:n.length)>0&&e,this.rootGroup.visible=h,this.contentGroup.visible=h,this.highlightGroup.visible=h&&!!t,d=this.getOpacity(),p=this.subGroups.map((function(t,e){var n=s[e].itemId;return g.getOpacity({itemId:n})})),f=p.some((function(t){return t!==d})),this.contentGroup.opacity=f?1:d,c?[4,this.updateMarkerNodes({markerSelection:o,isHighlight:!0,seriesIdx:-1})]:[3,2];case 1:return m.sent(),[3,4];case 2:return[4,this.updateDatumNodes({datumSelection:o,isHighlight:!0,seriesIdx:-1})];case 3:m.sent(),m.label=4;case 4:return[4,this.updateLabelNodes({labelSelection:r,seriesIdx:-1})];case 5:return m.sent(),[4,Promise.all(this.subGroups.map((function(e,n){return __awaiter$d(g,void 0,void 0,(function(){var i,o,r,l,d,g,m,_,y,v,C,b,E,S,w,O;return __generator$d(this,(function(x){switch(x.label){case 0:i=e.dataNodeGroup,o=e.markerGroup,r=e.datumSelection,l=e.labelSelection,d=e.markerSelection,g=e.paths,m=e.labelGroup,_=s[n].itemId,y=h&&(null===(O=a.get(_))||void 0===O||O),v=f?p[n]:1,i.opacity=v,i.visible=y,m.visible=y,o&&(o.opacity=v,o.zIndex=i.zIndex>=Layers.SERIES_LAYER_ZINDEX?i.zIndex:i.zIndex+1,o.visible=y),m&&(m.opacity=v);try{for(C=__values$m(g),b=C.next();!b.done;b=C.next())E=b.value,u||(E.opacity=v,E.visible=y)}catch(t){S={error:t}}finally{try{b&&!b.done&&(w=C.return)&&w.call(C)}finally{if(S)throw S.error}}return i.visible?[4,this.updatePathNodes({seriesHighlighted:t,itemId:_,paths:g,seriesIdx:n})]:[2];case 1:return x.sent(),[4,this.updateDatumNodes({datumSelection:r,isHighlight:!1,seriesIdx:n})];case 2:return x.sent(),[4,this.updateLabelNodes({labelSelection:l,seriesIdx:n})];case 3:return x.sent(),c&&d?[4,this.updateMarkerNodes({markerSelection:d,isHighlight:!1,seriesIdx:n})]:[3,5];case 4:x.sent(),x.label=5;case 5:return[2]}}))}))})))];case 6:return m.sent(),[2]}}))}))},e.prototype.updateHighlightSelection=function(t){var e;return __awaiter$d(this,void 0,void 0,(function(){var n,i,o,r,s,a,l,c,u,h,d,p,f,g,m,_;return __generator$d(this,(function(y){switch(y.label){case 0:return i=(n=this).highlightSelection,o=n.highlightLabelSelection,r=n._contextNodeData,s=null===(e=this.highlightManager)||void 0===e?void 0:e.getActiveHighlight(),a=t&&(null==s?void 0:s.datum)?s:void 0,l=this,[4,this.updateHighlightSelectionItem({item:a,highlightSelection:i})];case 1:if(l.highlightSelection=y.sent(),this.isLabelEnabled()&&null!=a){u=a.itemId,h=void 0===u?void 0:u;try{for(d=__values$m(r),p=d.next();!p.done&&(f=p.value.labelData,null==(c=f.find((function(t){return t.datum===a.datum&&t.itemId===h}))));p=d.next());}catch(t){m={error:t}}finally{try{p&&!p.done&&(_=d.return)&&_.call(d)}finally{if(m)throw m.error}}}return g=this,[4,this.updateHighlightSelectionLabel({item:c,highlightLabelSelection:o})];case 2:return g.highlightLabelSelection=y.sent(),[2]}}))}))},e.prototype.pickNodeExactShape=function(e){var n,i,o=t.prototype.pickNodeExactShape.call(this,e);if(o)return o;var r=e.x,s=e.y,a=this.opts.hasMarkers;try{for(var l=__values$m(this.subGroups),c=l.next();!c.done;c=l.next()){var u=c.value,h=u.dataNodeGroup,d=u.markerGroup,p=h.pickNode(r,s);if(!p&&a&&(p=null==d?void 0:d.pickNode(r,s)),p)return{datum:p.datum,distance:0}}}catch(t){n={error:t}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(n)throw n.error}}},e.prototype.pickNodeClosestDatum=function(t){var e,n,i,o,r,s,a,l=t.x,c=t.y,u=this,h=u.xAxis,d=u.yAxis,p=u.rootGroup,f=u._contextNodeData,g=p.transformPoint(l,c),m=1/0;try{for(var _=__values$m(f),y=_.next();!y.done;y=_.next()){var v=y.value;try{for(var C=(i=void 0,__values$m(v.nodeData)),b=C.next();!b.done;b=C.next()){var E,S=b.value,w=S.point,O=void 0===w?{}:w,x=O.x,P=void 0===x?NaN:x,T=O.y,M=void 0===T?NaN:T;if(!isNaN(P)&&!isNaN(M))if((null==h?void 0:h.inRange(P))&&(null==d?void 0:d.inRange(M)))(E=Math.max(Math.pow(g.x-P,2)+Math.pow(g.y-M,2),0))<m&&(m=E,a=S)}}catch(t){i={error:t}}finally{try{b&&!b.done&&(o=C.return)&&o.call(C)}finally{if(i)throw i.error}}}}catch(t){e={error:t}}finally{try{y&&!y.done&&(n=_.return)&&n.call(_)}finally{if(e)throw e.error}}if(a)return{datum:a,distance:E=Math.max(Math.sqrt(m)-(null!==(s=null===(r=a.point)||void 0===r?void 0:r.size)&&void 0!==s?s:0),0)}},e.prototype.pickNodeMainAxisFirst=function(t,e){var n,i,o,r,s,a,l=t.x,c=t.y,u=this,h=u.xAxis,d=u.yAxis,p=u.rootGroup,f=u._contextNodeData,g=[h,d].filter((function(t){return t instanceof CategoryAxis})).map((function(t){return t.direction}));if(!e||0!==g.length){var m=__read$J(g,1)[0],_=void 0===m?ChartAxisDirection.X:m,y=p.transformPoint(l,c),v=_===ChartAxisDirection.X?[y.x,y.y]:[y.y,y.x],C=[1/0,1/0],b=void 0;try{for(var E=__values$m(f),S=E.next();!S.done;S=E.next()){var w=S.value;try{for(var O=(o=void 0,__values$m(w.nodeData)),x=O.next();!x.done;x=O.next()){var P=x.value,T=P.point,M=void 0===T?{}:T,D=M.x,R=void 0===D?NaN:D,A=M.y,L=void 0===A?NaN:A;if(!isNaN(R)&&!isNaN(L))if((null==h?void 0:h.inRange(R))&&(null==d?void 0:d.inRange(L))){for(var I=_===ChartAxisDirection.X?[R,L]:[L,R],k=!0,N=0;N<I.length;N++){var F=Math.abs(I[N]-v[N]);if(F>C[N]){k=!1;break}F<C[N]&&(C[N]=F,C.fill(1/0,N+1,C.length))}k&&(b=P)}}}catch(t){o={error:t}}finally{try{x&&!x.done&&(r=O.return)&&r.call(O)}finally{if(o)throw o.error}}}}catch(t){n={error:t}}finally{try{S&&!S.done&&(i=E.return)&&i.call(E)}finally{if(n)throw n.error}}if(b)return{datum:b,distance:Math.max(Math.sqrt(Math.pow(C[0],2)+Math.pow(C[1],2))-(null!==(a=null===(s=b.point)||void 0===s?void 0:s.size)&&void 0!==a?a:0),0)}}},e.prototype.toggleSeriesItem=function(e,n){this.seriesItemEnabled.size>0?(this.seriesItemEnabled.set(e,n),this.nodeDataRefresh=!0):t.prototype.toggleSeriesItem.call(this,e,n)},e.prototype.isEnabled=function(){var e,n;if(this.seriesItemEnabled.size>0){try{for(var i=__values$m(this.seriesItemEnabled),o=i.next();!o.done;o=i.next()){if(__read$J(o.value,2)[1])return!0}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return!1}return t.prototype.isEnabled.call(this)},e.prototype.isPathOrSelectionDirty=function(){return!1},e.prototype.getLabelData=function(){return[]},e.prototype.isAnySeriesVisible=function(){var t,e;try{for(var n=__values$m(this.seriesItemEnabled.values()),i=n.next();!i.done;i=n.next()){if(i.value)return!0}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}return!1},e.prototype.validateXYData=function(t,e,n,i,o,r,s,a){var l;if(void 0===a&&(a=1),"integrated"===(null===(l=this.chart)||void 0===l?void 0:l.mode))return!0;if(!i||!o||0===n.length||this.seriesItemEnabled.size>0&&!this.isAnySeriesVisible())return!0;var c=function(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=0),t.some(e===n?function(t){return isContinuous(t)}:function(t){return c(t,e+1,n)})},u=i.scale instanceof ContinuousScale,h=o.scale instanceof ContinuousScale,d=!0;return u&&!c(r)&&(Logger.warnOnce("the number axis has no numeric data supplied for xKey: ["+t+"]."),d=!1),h&&!c(s,0,a-1)&&(Logger.warnOnce("the number axis has no numeric data supplied for yKey: ["+e+"]."),d=!1),d},e.prototype.updatePaths=function(t){return __awaiter$d(this,void 0,void 0,(function(){return __generator$d(this,(function(e){return t.paths.forEach((function(t){return t.visible=!1})),[2]}))}))},e.prototype.updatePathNodes=function(t){return __awaiter$d(this,void 0,void 0,(function(){return __generator$d(this,(function(t){return[2]}))}))},e.prototype.updateHighlightSelectionItem=function(t){return __awaiter$d(this,void 0,void 0,(function(){var e,n,i,o,r;return __generator$d(this,(function(s){return e=this.opts.hasMarkers,n=t.item,i=t.highlightSelection,o=n?[n]:[],e?(r=i,[2,this.updateMarkerSelection({nodeData:o,markerSelection:r,seriesIdx:-1})]):[2,this.updateDatumSelection({nodeData:o,datumSelection:i,seriesIdx:-1})]}))}))},e.prototype.updateHighlightSelectionLabel=function(t){return __awaiter$d(this,void 0,void 0,(function(){var e,n,i;return __generator$d(this,(function(o){return e=t.item,n=t.highlightLabelSelection,i=e?[e]:[],[2,this.updateLabelSelection({labelData:i,labelSelection:n,seriesIdx:-1})]}))}))},e.prototype.updateDatumSelection=function(t){return __awaiter$d(this,void 0,void 0,(function(){return __generator$d(this,(function(e){return[2,t.datumSelection]}))}))},e.prototype.updateDatumNodes=function(t){return __awaiter$d(this,void 0,void 0,(function(){return __generator$d(this,(function(t){return[2]}))}))},e.prototype.updateMarkerSelection=function(t){return __awaiter$d(this,void 0,void 0,(function(){return __generator$d(this,(function(e){return[2,t.markerSelection]}))}))},e.prototype.updateMarkerNodes=function(t){return __awaiter$d(this,void 0,void 0,(function(){return __generator$d(this,(function(t){return[2]}))}))},e}(Series),CartesianSeriesMarker=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.formatter=void 0,e}return __extends$2i(e,t),__decorate$1A([Validate(OPT_FUNCTION),SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"formatter",void 0),e}(SeriesMarker);function sleep(t){return new Promise((function(e){setTimeout((function(){return e(void 0)}),t)}))}var __decorate$1z=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},Overlay=function(){function t(t,e){this.renderer=void 0,this.text=void 0,this.className=t,this.parentElement=e}return t.prototype.show=function(t){var e,n,i=this.element;if(this.element||((i=document.createElement("div")).className=this.className,this.element=i),i.style.position="absolute",i.style.left=t.x+"px",i.style.top=t.y+"px",i.style.width=t.width+"px",i.style.height=t.height+"px",this.renderer)this.element.innerHTML=this.renderer();else{var o=document.createElement("div");o.style.alignItems="center",o.style.boxSizing="border-box",o.style.display="flex",o.style.justifyContent="center",o.style.margin="8px",o.style.height="100%",o.style.font="12px Verdana, sans-serif",o.innerText=null!==(e=this.text)&&void 0!==e?e:"No data to display",i.append(o)}null===(n=this.parentElement)||void 0===n||n.append(i)},t.prototype.hide=function(){var t;null===(t=this.element)||void 0===t||t.remove(),this.element=void 0},__decorate$1z([Validate(OPT_FUNCTION)],t.prototype,"renderer",void 0),__decorate$1z([Validate(OPT_STRING)],t.prototype,"text",void 0),t}(),ChartOverlays=function(t){this.noData=new Overlay("ag-chart-no-data-overlay",t)},__read$I=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},__spread$n=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$I(arguments[e]));return t},__values$l=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Listeners=function(){function t(){this.registeredListeners={}}return t.prototype.addListener=function(t,e){var n,i=Symbol(t);return this.registeredListeners[t]||(this.registeredListeners[t]=[]),null===(n=this.registeredListeners[t])||void 0===n||n.push({symbol:i,handler:e}),i},t.prototype.dispatch=function(t){for(var e,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];return(null!==(e=this.registeredListeners[t])&&void 0!==e?e:[]).map((function(t){return t.handler.apply(t,__spread$n(n))}))},t.prototype.cancellableDispatch=function(t,e){for(var n,i,o,r=[],s=2;s<arguments.length;s++)r[s-2]=arguments[s];var a=null!==(o=this.registeredListeners[t])&&void 0!==o?o:[],l=[];try{for(var c=__values$l(a),u=c.next();!u.done;u=c.next()){var h=u.value;if(e())break;l.push(h.handler.apply(h,__spread$n(r)))}}catch(t){n={error:t}}finally{try{u&&!u.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}return l},t.prototype.reduceDispatch=function(t,e){for(var n,i,o,r=[],s=2;s<arguments.length;s++)r[s-2]=arguments[s];var a=null!==(o=this.registeredListeners[t])&&void 0!==o?o:[],l=void 0;try{for(var c=__values$l(a),u=c.next();!u.done;u=c.next()){var h=u.value;l=h.handler.apply(h,__spread$n(r)),r=e.apply(void 0,__spread$n([l],r))}}catch(t){n={error:t}}finally{try{u&&!u.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}return l},t.prototype.removeListener=function(t){for(var e in this.registeredListeners){var n=this.registeredListeners[e],i=null==n?void 0:n.findIndex((function(e){return e.symbol===t}));null!=i&&i>=0&&(null==n||n.splice(i,1)),null!=i&&0===(null==n?void 0:n.length)&&delete this.registeredListeners[e]}},t}(),BaseManager=function(){function t(){this.listeners=new Listeners}return t.prototype.addListener=function(t,e){return this.listeners.addListener(t,e)},t.prototype.removeListener=function(t){this.listeners.removeListener(t)},t}(),__extends$2h=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__assign$C=function(){return __assign$C=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},__assign$C.apply(this,arguments)},__awaiter$c=function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function s(t){try{l(i.next(t))}catch(t){r(t)}}function a(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((i=i.apply(t,e||[])).next())}))},__generator$c=function(t,e){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(t){r=[6,t],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},__values$k=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},WINDOW_EVENT_HANDLERS=["pagehide","mousemove","mouseup","wheel"],EVENT_HANDLERS=["click","dblclick","contextmenu","mousedown","mouseout","mouseenter","touchstart","touchmove","touchend","touchcancel"],CSS="\n.ag-chart-wrapper {\n    touch-action: none;\n}\n",InteractionManager=function(t){function e(n,i){var o,r,s,a;void 0===i&&(i=document);var l=t.call(this)||this;l.eventHandler=function(t){return l.processEvent(t)},l.mouseDown=!1,l.touchDown=!1,l.rootElement=i.body,l.element=n;try{for(var c=__values$k(EVENT_HANDLERS),u=c.next();!u.done;u=c.next()){(p=u.value).startsWith("touch")?n.addEventListener(p,l.eventHandler,{passive:!0}):n.addEventListener(p,l.eventHandler)}}catch(t){o={error:t}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(o)throw o.error}}try{for(var h=__values$k(WINDOW_EVENT_HANDLERS),d=h.next();!d.done;d=h.next()){var p=d.value;window.addEventListener(p,l.eventHandler)}}catch(t){s={error:t}}finally{try{d&&!d.done&&(a=h.return)&&a.call(h)}finally{if(s)throw s.error}}if(e.interactionDocuments.indexOf(i)<0){var f=document.createElement("style");f.innerHTML=CSS,document.head.insertBefore(f,document.head.querySelector("style")),e.interactionDocuments.push(i)}return l}return __extends$2h(e,t),e.prototype.destroy=function(){var t,e,n,i;try{for(var o=__values$k(WINDOW_EVENT_HANDLERS),r=o.next();!r.done;r=o.next()){var s=r.value;window.removeEventListener(s,this.eventHandler)}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}try{for(var a=__values$k(EVENT_HANDLERS),l=a.next();!l.done;l=a.next()){s=l.value;this.element.removeEventListener(s,this.eventHandler)}}catch(t){n={error:t}}finally{try{l&&!l.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}},e.prototype.processEvent=function(t){var e=this.decideInteractionEventTypes(t);e.length>0&&this.dispatchEvent(t,e)},e.prototype.dispatchEvent=function(t,e){return __awaiter$c(this,void 0,void 0,(function(){var n,i,o,r,s,a,l,c;return __generator$c(this,(function(u){if(null==(n=this.calculateCoordinates(t)))return[2];i=function(e){var i=o.buildEvent(__assign$C(__assign$C({event:t},n),{type:e}));o.listeners.cancellableDispatch(e,(function(){return i.consumed}),i)},o=this;try{for(r=__values$k(e),s=r.next();!s.done;s=r.next())a=s.value,i(a)}catch(t){l={error:t}}finally{try{s&&!s.done&&(c=r.return)&&c.call(r)}finally{if(l)throw l.error}}return[2]}))}))},e.prototype.decideInteractionEventTypes=function(t){switch(t.type){case"click":return["click"];case"dblclick":return["dblclick"];case"contextmenu":return["contextmenu"];case"mousedown":return this.mouseDown=!0,this.dragStartElement=t.target,["drag-start"];case"touchstart":return this.touchDown=!0,this.dragStartElement=t.target,["drag-start"];case"touchmove":case"mousemove":return this.mouseDown||this.touchDown||this.isEventOverElement(t)?this.mouseDown||this.touchDown?["drag"]:["hover"]:[];case"mouseup":return this.mouseDown||this.isEventOverElement(t)?(this.mouseDown=!1,this.dragStartElement=void 0,["drag-end"]):[];case"touchend":return this.touchDown||this.isEventOverElement(t)?(this.touchDown=!1,this.dragStartElement=void 0,["drag-end"]):[];case"mouseout":case"touchcancel":return["leave"];case"mouseenter":var e=t instanceof MouseEvent&&1==(1&t.buttons);return this.mouseDown!==e?(this.mouseDown=e,[e?"drag-start":"drag-end"]):[];case"pagehide":return["page-left"];case"wheel":return["wheel"]}return[]},e.prototype.isEventOverElement=function(t){var e;return t.target===this.element||(null===(e=t.target)||void 0===e?void 0:e.parentElement)===this.element},e.prototype.calculateCoordinates=function(t){var n;if(t instanceof MouseEvent){var i=t.clientX,o=t.clientY,r=t.pageX,s=t.pageY,a=t.offsetX,l=t.offsetY;return this.fixOffsets(t,{clientX:i,clientY:o,pageX:r,pageY:s,offsetX:a,offsetY:l})}if("undefined"!=typeof TouchEvent&&t instanceof TouchEvent){var c=null!==(n=t.touches[0])&&void 0!==n?n:t.changedTouches[0];i=c.clientX,o=c.clientY,r=c.pageX,s=c.pageY;return __assign$C(__assign$C({},e.NULL_COORDS),{clientX:i,clientY:o,pageX:r,pageY:s})}if(t instanceof PageTransitionEvent){if(t.persisted)return;return e.NULL_COORDS}},e.prototype.fixOffsets=function(t,e){var n=function(t){for(var e=0,n=0;t;)e+=t.offsetLeft,n+=t.offsetTop,t=t.offsetParent;return{x:e,y:n}};if(null!=this.dragStartElement&&t.target!==this.dragStartElement){var i=n(this.dragStartElement),o=n(t.target);e.offsetX-=i.x-o.x,e.offsetY-=i.y-o.y}return e},e.prototype.buildEvent=function(t){var e=t.type,n=t.event,i=t.clientX,o=t.clientY,r=t.offsetX,s=t.offsetY,a=t.pageX,l=t.pageY;if(!isNumber$4(r)||!isNumber$4(s)){var c=this.element.getBoundingClientRect();r=i-c.left,s=o-c.top}if(!isNumber$4(a)||!isNumber$4(l)){var u=this.rootElement.getBoundingClientRect();a=i-u.left,l=o-u.top}var h={type:e,offsetX:r,offsetY:s,pageX:a,pageY:l,sourceEvent:n,consumed:!1,consume:function(){return h.consumed=!0}};return h},e.interactionDocuments=[],e.NULL_COORDS={clientX:-1/0,clientY:-1/0,pageX:-1/0,pageY:-1/0,offsetX:-1/0,offsetY:-1/0},e}(BaseManager),__read$H=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},CursorManager=function(){function t(t){this.states={},this.element=t}return t.prototype.updateCursor=function(t,e){delete this.states[t],null!=e&&(this.states[t]={style:e}),this.applyStates()},t.prototype.applyStates=function(){var t="default";Object.entries(this.states).reverse().slice(0,1).forEach((function(e){var n=__read$H(e,2);n[0];var i=n[1].style;return t=i})),this.element.style.cursor=t},t}(),__extends$2g=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__read$G=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s};function isEqual$1(t,e){return t===e||(null==t?void 0:t.series)===(null==e?void 0:e.series)&&((null==t?void 0:t.itemId)===(null==e?void 0:e.itemId)&&(null==t?void 0:t.datum)===(null==e?void 0:e.datum))}var HighlightManager=function(t){function e(){var e=t.call(this)||this;return e.states={},e.activeHighlight=void 0,e}return __extends$2g(e,t),e.prototype.updateHighlight=function(t,e){delete this.states[t],null!=e&&(this.states[t]={highlightedDatum:e}),this.applyStates()},e.prototype.getActiveHighlight=function(){return this.activeHighlight},e.prototype.applyStates=function(){var t=this.activeHighlight,e=void 0;if(Object.entries(this.states).reverse().slice(0,1).forEach((function(t){var n=__read$G(t,2);n[0];var i=n[1].highlightedDatum;return e=i})),this.activeHighlight=e,!isEqual$1(t,this.activeHighlight)){var n={type:"highlight-change",previousHighlight:t,currentHighlight:this.activeHighlight};this.listeners.dispatch("highlight-change",n)}},e}(BaseManager),__values$j=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},__read$F=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},TooltipManager=function(){function t(t,e){var n=this;this.states={},this.exclusiveAreas={},this.destroyFns=[],this.tooltip=t;var i=e.addListener("hover",(function(t){return n.checkExclusiveRects(t)}));this.destroyFns.push((function(){return e.removeListener(i)}))}return t.prototype.updateTooltip=function(t,e,n){var i;null==n&&(n=null===(i=this.states[t])||void 0===i?void 0:i.content),this.states[t]={content:n,meta:e},this.applyStates()},t.prototype.updateExclusiveRect=function(t,e){e?this.exclusiveAreas[t]=e:delete this.exclusiveAreas[t]},t.prototype.removeTooltip=function(t){delete this.states[t],this.applyStates()},t.prototype.getTooltipMeta=function(t){var e;return null===(e=this.states[t])||void 0===e?void 0:e.meta},t.prototype.destroy=function(){var t,e;try{for(var n=__values$j(this.destroyFns),i=n.next();!i.done;i=n.next()){(0,i.value)()}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}},t.prototype.checkExclusiveRects=function(t){var e,n,i;try{for(var o=__values$j(Object.entries(this.exclusiveAreas)),r=o.next();!r.done;r=o.next()){var s=__read$F(r.value,2),a=s[0];if(s[1].containsPoint(t.offsetX,t.offsetY)){i=a;break}}}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}i!==this.appliedExclusiveArea&&(this.appliedExclusiveArea=i,this.applyStates())},t.prototype.applyStates=function(){var t,e=this,n=this.appliedExclusiveArea?[this.appliedExclusiveArea]:Object.keys(this.states),i=void 0,o=void 0;if(n.reverse().slice(0,1).forEach((function(t){var n,r=null!==(n=e.states[t])&&void 0!==n?n:{},s=r.content,a=r.meta;i=s,o=a})),void 0===o||void 0===i)return this.appliedState=void 0,void this.tooltip.toggle(!1);if((null===(t=this.appliedState)||void 0===t?void 0:t.content)===i){var r=this.tooltip.isVisible();this.tooltip.show(o,void 0,r)}else this.tooltip.show(o,i);this.appliedState={content:i,meta:o}},t}(),__extends$2f=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__assign$B=function(){return __assign$B=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},__assign$B.apply(this,arguments)},__values$i=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},__read$E=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s};function isEqual(t,e){var n,i,o,r,s,a,l,c;return t===e||(null===(n=null==t?void 0:t.x)||void 0===n?void 0:n.min)===(null===(i=null==e?void 0:e.x)||void 0===i?void 0:i.min)&&((null===(o=null==t?void 0:t.x)||void 0===o?void 0:o.max)===(null===(r=null==e?void 0:e.x)||void 0===r?void 0:r.max)&&((null===(s=null==t?void 0:t.y)||void 0===s?void 0:s.max)===(null===(a=null==e?void 0:e.y)||void 0===a?void 0:a.max)&&(null===(l=null==t?void 0:t.y)||void 0===l?void 0:l.min)===(null===(c=null==e?void 0:e.y)||void 0===c?void 0:c.min)))}var ZoomManager=function(t){function e(){var e=t.call(this)||this;return e.states={},e.currentZoom=void 0,e}return __extends$2f(e,t),e.prototype.updateZoom=function(t,e){delete this.states[t],null!=e&&(this.states[t]=__assign$B({},e)),this.applyStates()},e.prototype.getZoom=function(){return this.currentZoom},e.prototype.applyStates=function(){var t,e,n=this.currentZoom,i={};try{for(var o=__values$i(Object.entries(this.states)),r=o.next();!r.done;r=o.next()){var s=__read$E(r.value,2),a=(s[0],s[1]),l=a.x,c=a.y;i.x=null!=l?l:i.x,i.y=null!=c?c:i.y}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}if(this.currentZoom=null!=i.x||null!=i.y?i:void 0,!isEqual(n,this.currentZoom)){var u=__assign$B({type:"zoom-change"},null!=n?n:{});this.listeners.dispatch("zoom-change",u)}},e}(BaseManager),__assign$A=function(){return __assign$A=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},__assign$A.apply(this,arguments)};function isLayoutStage(t){return"layout-complete"!==t}function isLayoutComplete(t){return"layout-complete"===t}var LayoutService=function(){function t(){this.layoutProcessors=new Listeners,this.listeners=new Listeners}return t.prototype.addListener=function(t,e){if(isLayoutStage(t))return this.layoutProcessors.addListener(t,e);if(isLayoutComplete(t))return this.listeners.addListener(t,e);throw new Error("AG Charts - unsupported listener type: "+t)},t.prototype.removeListener=function(t){this.listeners.removeListener(t),this.layoutProcessors.removeListener(t)},t.prototype.dispatchPerformLayout=function(t,e){var n=this.layoutProcessors.reduceDispatch(t,(function(t,e){var n=t.shrinkRect;return[__assign$A(__assign$A({},e),{shrinkRect:n})]}),e);return null!=n?n:e},t.prototype.dispatchLayoutComplete=function(t){this.listeners.dispatch("layout-complete",t)},t}(),UpdateService=function(){function t(t){this.updateCallback=t}return t.prototype.update=function(t){void 0===t&&(t=ChartUpdateType.FULL),this.updateCallback(t)},t}(),__decorate$1y=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},ChartHighlight=function(){function t(){this.range="tooltip"}return __decorate$1y([Validate(STRING_UNION("tooltip","node"))],t.prototype,"range",void 0),t}(),__extends$2e=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__assign$z=function(){return __assign$z=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},__assign$z.apply(this,arguments)},__decorate$1x=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},__awaiter$b=function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function s(t){try{l(i.next(t))}catch(t){r(t)}}function a(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((i=i.apply(t,e||[])).next())}))},__generator$b=function(t,e){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(t){r=[6,t],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},__values$h=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},__read$D=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},__spread$m=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$D(arguments[e]));return t},Chart=function(t){function e(e,n,i){var o;void 0===e&&(e=window.document);var r=t.call(this)||this;r.id=createId$1(r),r.processedOptions={},r.userOptions={},r.queuedUserOptions=[],r.seriesRoot=new Group({name:r.id+"-Series-root"}),r.extraDebugStats={},r._container=void 0,r.data=[],r.padding=new Padding$1(20),r.seriesAreaPadding=new Padding$1(0),r.title=void 0,r.subtitle=void 0,r.footnote=void 0,r.mode="standalone",r._destroyed=!1,r.modules={},r._pendingFactoryUpdates=[],r._performUpdateNoRenderCount=0,r._performUpdateType=ChartUpdateType.NONE,r.seriesToUpdate=new Set,r.performUpdateTrigger=debouncedCallback((function(t){var e=t.count;return __awaiter$b(r,void 0,void 0,(function(){var t;return __generator$b(this,(function(n){switch(n.label){case 0:if(this._destroyed)return[2];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.performUpdate(e)];case 2:return n.sent(),[3,4];case 3:return t=n.sent(),this._lastPerformUpdateError=t,Logger.error("update error",t),[3,4];case 4:return[2]}}))}))})),r._axes=[],r._series=[],r.lastInteractionEvent=void 0,r.pointerScheduler=debouncedAnimationFrame((function(){r.lastInteractionEvent&&r.handlePointer(r.lastInteractionEvent),r.lastInteractionEvent=void 0})),r.onSeriesNodeClick=function(t){var e=__assign$z(__assign$z({},t),{type:"seriesNodeClick"});Object.defineProperty(e,"series",{enumerable:!1,get:function(){return t.series}}),r.fireEvent(e)},r.onSeriesNodeDoubleClick=function(t){var e=__assign$z(__assign$z({},t),{type:"seriesNodeDoubleClick"});r.fireEvent(e)};var s=null==i?void 0:i.scene,a=null!==(o=null==i?void 0:i.element)&&void 0!==o?o:e.createElement("div"),l=null==i?void 0:i.container,c=new Group({name:"root"});return c.visible=!1,c.append(r.seriesRoot),r.axisGroup=new Group({name:"Axes",layer:!0,zIndex:Layers.AXIS_ZINDEX}),c.appendChild(r.axisGroup),r.element=a,a.classList.add("ag-chart-wrapper"),a.style.position="relative",r.scene=null!=s?s:new Scene({document:e,overrideDevicePixelRatio:n}),r.debug=!1,r.scene.debug.consoleLog=!1,r.scene.root=c,r.scene.container=a,r.autoSize=!0,r.interactionManager=new InteractionManager(a),r.cursorManager=new CursorManager(a),r.highlightManager=new HighlightManager,r.zoomManager=new ZoomManager,r.layoutService=new LayoutService,r.updateService=new UpdateService((function(t){return void 0===t&&(t=ChartUpdateType.FULL),r.update(t)})),SizeMonitor.observe(r.element,(function(t){var e=t.width,n=t.height;r.autoSize&&(0===e&&0===n||e===r.width&&n===r.height||(r._lastAutoSize=[e,n],r.resize(e,n)))})),r.layoutService.addListener("start-layout",(function(t){return r.positionPadding(t.shrinkRect)})),r.layoutService.addListener("start-layout",(function(t){return r.positionCaptions(t.shrinkRect)})),r.tooltip=new Tooltip(r.scene.canvas.element,e,e.body),r.tooltipManager=new TooltipManager(r.tooltip,r.interactionManager),r.legend=new Legend(r,r.interactionManager,r.cursorManager,r.highlightManager,r.tooltipManager,r.layoutService),r.overlays=new ChartOverlays(r.element),r.highlight=new ChartHighlight,r.container=l,r.interactionManager.addListener("click",(function(t){return r.onClick(t)})),r.interactionManager.addListener("dblclick",(function(t){return r.onDoubleClick(t)})),r.interactionManager.addListener("hover",(function(t){return r.onMouseMove(t)})),r.interactionManager.addListener("leave",(function(t){return r.onLeave(t)})),r.interactionManager.addListener("page-left",(function(){return r.destroy()})),r.interactionManager.addListener("wheel",(function(){return r.disablePointer()})),r.zoomManager.addListener("zoom-change",(function(t){return r.update(ChartUpdateType.PROCESS_DATA,{forceNodeDataRefresh:!0})})),r.highlightManager.addListener("highlight-change",(function(t){return r.changeHighlightDatum(t)})),r}return __extends$2e(e,t),e.prototype.getOptions=function(){var t,e=this.queuedUserOptions;return jsonMerge([null!==(t=e[e.length-1])&&void 0!==t?t:this.userOptions])},Object.defineProperty(e.prototype,"container",{get:function(){return this._container},set:function(t){if(this._container!==t){var e=this.element.parentNode;null!=e&&e.removeChild(this.element),t&&!this.destroyed&&t.appendChild(this.element),this._container=t}},enumerable:!1,configurable:!0}),e.prototype.autoSizeChanged=function(t){var e=this.element.style;if(t){if(e.display="block",e.width="100%",e.height="100%",!this._lastAutoSize)return;this.resize(this._lastAutoSize[0],this._lastAutoSize[1])}else e.display="inline-block",e.width="auto",e.height="auto"},e.prototype.download=function(t,e){this.scene.download(t,e)},Object.defineProperty(e.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!1,configurable:!0}),e.prototype.addModule=function(t){if(null!=this.modules[t.optionsKey])throw new Error("AG Charts - module already initialised: "+t.optionsKey);var e=t.initialiseModule(this.getModuleContext());this.modules[t.optionsKey]=e,this[t.optionsKey]=e.instance},e.prototype.removeModule=function(t){var e,n;null===(n=null===(e=this.modules[t.optionsKey])||void 0===e?void 0:e.instance)||void 0===n||n.destroy(),delete this.modules[t.optionsKey],delete this[t.optionsKey]},e.prototype.isModuleEnabled=function(t){return null!=this.modules[t.optionsKey]},e.prototype.getModuleContext=function(){var t=this;return{scene:t.scene,interactionManager:t.interactionManager,zoomManager:t.zoomManager,cursorManager:t.cursorManager,highlightManager:t.highlightManager,tooltipManager:t.tooltipManager,layoutService:t.layoutService,updateService:t.updateService}},e.prototype.destroy=function(t){var e,n;if(!this._destroyed){var i=null==t?void 0:t.keepTransferableResources,o=void 0;this._performUpdateType=ChartUpdateType.NONE,this._pendingFactoryUpdates.splice(0),this.tooltipManager.destroy(),this.tooltip.destroy(),this.legend.destroy(),SizeMonitor.unobserve(this.element);try{for(var r=__values$h(Object.entries(this.modules)),s=r.next();!s.done;s=r.next()){var a=__read$D(s.value,2),l=a[0];a[1].instance.destroy(),delete this.modules[l],delete this[l]}}catch(t){e={error:t}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return this.interactionManager.destroy(),i?(this.scene.strip(),o={container:this.container,scene:this.scene,element:this.element}):(this.scene.destroy(),this.container=void 0),this.series.forEach((function(t){return t.destroy()})),this.series=[],this.axes.forEach((function(t){return t.destroy()})),this.axes=[],this._destroyed=!0,o}},e.prototype.log=function(t){this.debug&&Logger.debug(t)},e.prototype.disablePointer=function(t){void 0===t&&(t=!1),t||this.tooltipManager.removeTooltip(this.id),this.highlightManager.updateHighlight(this.id),this.lastInteractionEvent&&(this.lastInteractionEvent=void 0)},e.prototype.requestFactoryUpdate=function(t){var e=this._pendingFactoryUpdates,n=e.length;0===n?(e.push(t),this._processCallbacks()):e.splice(1,n-1,t)},e.prototype._processCallbacks=function(){return __awaiter$b(this,void 0,void 0,(function(){var t,e;return __generator$b(this,(function(n){switch(n.label){case 0:t=this._pendingFactoryUpdates,n.label=1;case 1:return t.length>0?this.updatePending?[4,sleep(1)]:[3,3]:[3,7];case 2:return n.sent(),[3,1];case 3:return n.trys.push([3,5,,6]),[4,t[0]()];case 4:return n.sent(),[3,6];case 5:return e=n.sent(),Logger.error("update error",e),[3,6];case 6:return t.shift(),[3,1];case 7:return[2]}}))}))},Object.defineProperty(e.prototype,"performUpdateType",{get:function(){return this._performUpdateType},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"updatePending",{get:function(){return this._performUpdateType!==ChartUpdateType.NONE||null!=this.lastInteractionEvent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastPerformUpdateError",{get:function(){return this._lastPerformUpdateError},enumerable:!1,configurable:!0}),e.prototype.awaitUpdateCompletion=function(){return __awaiter$b(this,void 0,void 0,(function(){return __generator$b(this,(function(t){switch(t.label){case 0:return[4,this.performUpdateTrigger.await()];case 1:return t.sent(),[2]}}))}))},e.prototype.update=function(t,e){var n,i;void 0===t&&(t=ChartUpdateType.FULL);var o=e||{},r=o.forceNodeDataRefresh,s=void 0!==r&&r,a=o.seriesToUpdate,l=void 0===a?this.series:a;s&&this.series.forEach((function(t){return t.markNodeDataDirty()}));try{for(var c=__values$h(l),u=c.next();!u.done;u=c.next()){var h=u.value;this.seriesToUpdate.add(h)}}catch(t){n={error:t}}finally{try{u&&!u.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}t<this._performUpdateType&&(this._performUpdateType=t,this.performUpdateTrigger.schedule())},e.prototype.performUpdate=function(t){var e;return __awaiter$b(this,void 0,void 0,(function(){var n,i,o,r,s,a,l,c;return __generator$b(this,(function(u){switch(u.label){case 0:switch(i=(n=this)._performUpdateType,o=n.extraDebugStats,r=[performance.now()],i){case ChartUpdateType.FULL:case ChartUpdateType.PROCESS_DATA:return[3,1];case ChartUpdateType.PERFORM_LAYOUT:return[3,3];case ChartUpdateType.SERIES_UPDATE:return[3,5];case ChartUpdateType.TOOLTIP_RECALCULATION:return[3,7];case ChartUpdateType.SCENE_RENDER:return[3,8];case ChartUpdateType.NONE:return[3,10]}return[3,11];case 1:return[4,this.processData()];case 2:u.sent(),this.disablePointer(!0),r.push(performance.now()),u.label=3;case 3:return this.autoSize&&!this._lastAutoSize&&this._performUpdateNoRenderCount++<5?(this._performUpdateType=ChartUpdateType.PERFORM_LAYOUT,this.performUpdateTrigger.schedule(),[3,11]):(this._performUpdateNoRenderCount=0,[4,this.performLayout()]);case 4:u.sent(),this.handleOverlays(),r.push(performance.now()),u.label=5;case 5:return s=this.seriesRect,a=__spread$m(this.seriesToUpdate).map((function(t){return t.update({seriesRect:s})})),this.seriesToUpdate.clear(),[4,Promise.all(a)];case 6:u.sent(),r.push(performance.now()),u.label=7;case 7:l=this.tooltipManager.getTooltipMeta(this.id),i<ChartUpdateType.SERIES_UPDATE&&"hover"===(null===(e=null==l?void 0:l.event)||void 0===e?void 0:e.type)&&this.handlePointer(l.event),u.label=8;case 8:return[4,this.scene.render({debugSplitTimes:r,extraDebugStats:o})];case 9:u.sent(),this.extraDebugStats={},u.label=10;case 10:this._performUpdateType=ChartUpdateType.NONE,u.label=11;case 11:return c=performance.now(),this.log({chart:this,durationMs:Math.round(100*(c-r[0]))/100,count:t,performUpdateType:ChartUpdateType[i]}),[2]}}))}))},Object.defineProperty(e.prototype,"axes",{get:function(){return this._axes},set:function(t){var e=this,n=new Set;this._axes.forEach((function(t){t.detachAxis(e.axisGroup),n.add(t)})),this._axes=t.filter((function(t){return!t.linkedTo})).concat(t.filter((function(t){return t.linkedTo}))),this._axes.forEach((function(t){t.attachAxis(e.axisGroup),n.delete(t)})),n.forEach((function(t){return t.destroy()}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"series",{get:function(){return this._series},set:function(t){var e=this;this.removeAllSeries(),t.forEach((function(t){return e.addSeries(t)}))},enumerable:!1,configurable:!0}),e.prototype.addSeries=function(t,e){var n=this.series,i=this.seriesRoot;if(n.indexOf(t)<0){var o=e?n.indexOf(e):-1;return o>=0?(n.splice(o,0,t),i.insertBefore(t.rootGroup,e.rootGroup)):(n.push(t),i.append(t.rootGroup)),this.initSeries(t),!0}return!1},e.prototype.initSeries=function(t){t.chart=this,t.highlightManager=this.highlightManager,t.data||(t.data=this.data),this.addSeriesListeners(t)},e.prototype.freeSeries=function(t){t.chart=void 0,t.removeEventListener("nodeClick",this.onSeriesNodeClick),t.removeEventListener("nodeDoubleClick",this.onSeriesNodeDoubleClick)},e.prototype.removeAllSeries=function(){var t=this;this.series.forEach((function(e){t.freeSeries(e),t.seriesRoot.removeChild(e.rootGroup)})),this._series=[]},e.prototype.addSeriesListeners=function(t){this.hasEventListener("seriesNodeClick")&&t.addEventListener("nodeClick",this.onSeriesNodeClick),this.hasEventListener("seriesNodeDoubleClick")&&t.addEventListener("nodeDoubleClick",this.onSeriesNodeDoubleClick)},e.prototype.updateAllSeriesListeners=function(){var t=this;this.series.forEach((function(e){e.removeEventListener("nodeClick",t.onSeriesNodeClick),e.removeEventListener("nodeDoubleClick",t.onSeriesNodeDoubleClick),t.addSeriesListeners(e)}))},e.prototype.assignSeriesToAxes=function(){var t=this;this.axes.forEach((function(e){e.boundSeries=t.series.filter((function(t){return(e.direction===ChartAxisDirection.X?t.xAxis:t.yAxis)===e}))}))},e.prototype.assignAxesToSeries=function(t){var e=this;void 0===t&&(t=!1);var n={};this.axes.forEach((function(t){var e=t.direction;(n[e]||(n[e]=[])).push(t)})),this.series.forEach((function(i){i.directions.forEach((function(o){if(!(o===ChartAxisDirection.X?i.xAxis:i.yAxis)||t){var r=n[o];if(r){var s=i.getKeys(o),a=e.findMatchingAxis(r,i.getKeys(o));a?o===ChartAxisDirection.X?i.xAxis=a:i.yAxis=a:Logger.warn("no matching axis for direction ["+o+"] and keys ["+s+"]; check series and axes configuration.")}else Logger.warn("no available axis for direction ["+o+"]; check series and axes configuration.")}}))}))},e.prototype.findMatchingAxis=function(t,e){var n,i,o,r;try{for(var s=__values$h(t),a=s.next();!a.done;a=s.next()){var l=a.value,c=l.keys;if(!c.length)return l;if(e)try{for(var u=(o=void 0,__values$h(e)),h=u.next();!h.done;h=u.next()){var d=h.value;if(c.indexOf(d)>=0)return l}}catch(t){o={error:t}}finally{try{h&&!h.done&&(r=u.return)&&r.call(u)}finally{if(o)throw o.error}}}}catch(t){n={error:t}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}},e.prototype.resize=function(t,e){t&&e&&Number.isFinite(t)&&Number.isFinite(e)&&this.scene.resize(t,e)&&(this.disablePointer(),this.update(ChartUpdateType.PERFORM_LAYOUT,{forceNodeDataRefresh:!0}))},e.prototype.processData=function(){return __awaiter$b(this,void 0,void 0,(function(){return __generator$b(this,(function(t){switch(t.label){case 0:return(this.axes.length>0||this.series.some((function(t){return t instanceof CartesianSeries})))&&(this.assignAxesToSeries(!0),this.assignSeriesToAxes()),[4,Promise.all(this.series.map((function(t){return t.processData()})))];case 1:return t.sent(),[4,this.updateLegend()];case 2:return t.sent(),[2]}}))}))},e.prototype.placeLabels=function(){var t,e,n=[],i=[];try{for(var o=__values$h(this.series),r=o.next();!r.done;r=o.next()){var s=r.value;if(s.visible){var a=s.getLabelData();a&&isPointLabelDatum(a[0])&&(i.push(a),n.push(s))}}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}var l=this.seriesRect,c=l&&i.length>0?placeLabels(i,{x:0,y:0,width:l.width,height:l.height}):[];return new Map(c.map((function(t,e){return[n[e],t]})))},e.prototype.updateLegend=function(){return __awaiter$b(this,void 0,void 0,(function(){var t,e;return __generator$b(this,(function(n){return t=[],this.series.filter((function(t){return t.showInLegend})).forEach((function(e){t.push.apply(t,__spread$m(e.getLegendData()))})),(e=this.legend.item.label.formatter)&&t.forEach((function(t){return t.label.text=e({get id(){return Logger.warnOnce("LegendLabelFormatterParams.id is deprecated, use seriesId instead"),t.seriesId},itemId:t.itemId,value:t.label.text,seriesId:t.seriesId})})),this.legend.data=t,[2]}))}))},e.prototype.performLayout=function(){return __awaiter$b(this,void 0,void 0,(function(){var t,e,n,i;return __generator$b(this,(function(o){return this.scene.root.visible=!0,t=this.scene,e=t.width,n=t.height,i=new BBox(0,0,e,n),i=this.layoutService.dispatchPerformLayout("start-layout",{shrinkRect:i}).shrinkRect,[2,i=this.layoutService.dispatchPerformLayout("before-series",{shrinkRect:i}).shrinkRect]}))}))},e.prototype.positionPadding=function(t){var e=this.padding;return t.shrink(e.left,"left"),t.shrink(e.top,"top"),t.shrink(e.right,"right"),t.shrink(e.bottom,"bottom"),{shrinkRect:t}},e.prototype.positionCaptions=function(t){var e=this,n=e.title,i=e.subtitle,o=e.footnote,r=t.clone(),s=function(t){var e,n=r.y;t.node.x=r.x+r.width/2,t.node.y=n,t.node.textBaseline="top";var i=t.node.computeBBox(),o=Math.ceil(i.y-n+i.height+(null!==(e=t.spacing)&&void 0!==e?e:0));r.shrink(o,"top")};return n&&(n.node.visible=n.enabled,n.node.visible&&s(n)),i&&(i.node.visible=void 0!==n&&n.enabled&&i.enabled,i.node.visible&&s(i)),o&&(o.node.visible=o.enabled,o.node.visible&&function(t){var e,n=r.y+r.height;t.node.x=r.x+r.width/2,t.node.y=n,t.node.textBaseline="bottom";var i=t.node.computeBBox(),o=Math.ceil(n-i.y+(null!==(e=t.spacing)&&void 0!==e?e:0));r.shrink(o,"bottom")}(o)),{shrinkRect:r}},e.prototype.getSeriesRect=function(){return this.seriesRect},e.prototype.pickSeriesNode=function(t,e,n){var i,o,r,s,a=performance.now(),l=e?[SeriesNodePickMode.EXACT_SHAPE_MATCH]:void 0,c=__spread$m(this.series).reverse(),u=void 0;try{for(var h=__values$h(c),d=h.next();!d.done;d=h.next()){var p=d.value;if(p.visible&&p.rootGroup.visible){var f=null!==(r=p.pickNode(t,l))&&void 0!==r?r:{},g=f.match,m=f.distance;if(g&&null!=m&&((!u||u.distance>m)&&m<=(null!=n?n:1/0)&&(u={series:p,distance:m,datum:g}),0===m))break}}}catch(t){i={error:t}}finally{try{d&&!d.done&&(o=h.return)&&o.call(h)}finally{if(i)throw i.error}}return this.extraDebugStats.pickSeriesNode=Math.round((null!==(s=this.extraDebugStats.pickSeriesNode)&&void 0!==s?s:0)+(performance.now()-a)),u},e.prototype.onMouseMove=function(t){this.lastInteractionEvent=t,this.pointerScheduler.schedule(),this.extraDebugStats.mouseX=t.offsetX,this.extraDebugStats.mouseY=t.offsetY,this.update(ChartUpdateType.SCENE_RENDER)},e.prototype.onLeave=function(t){this.tooltip.pointerLeftOntoTooltip(t)||this.disablePointer()},e.prototype.handlePointer=function(t){var e=this,n=this.lastPick,i=this.hoverRect,o=t.offsetX,r=t.offsetY,s=function(t){void 0===t&&(t=!1),n&&e.disablePointer(t)};(null==i?void 0:i.containsPoint(o,r))?(this.handlePointerTooltip(t,s),this.handlePointerNode(t)):s()},e.prototype.handlePointerTooltip=function(t,e){var n,i,o,r=this.lastPick,s=this.tooltip.range,a=t.pageX,l=t.pageY,c=t.offsetX,u=t.offsetY;"number"==typeof s&&Number.isFinite(s)&&(o=s);var h=this.pickSeriesNode({x:c,y:u},"exact"===s,o);if(!h)return this.tooltipManager.updateTooltip(this.id),void("tooltip"===this.highlight.range&&e(!0));var d,p="node"===this.highlight.range||!r||r.datum!==h.datum;p?(d=h.series.getTooltipHtml(h.datum),"tooltip"===this.highlight.range&&this.highlightManager.updateHighlight(this.id,h.datum)):r&&(r.event=t.sourceEvent);var f=null!=o,g=this.tooltip.enabled&&h.series.tooltip.enabled,m="exact"===s&&0===h.distance,_=g&&("nearest"===s||f||m)&&(!p||void 0!==d),y={xOffset:h.datum.series.tooltip.position.xOffset,yOffset:h.datum.series.tooltip.position.yOffset},v=this.mergePointerDatum({pageX:a,pageY:l,offsetX:c,offsetY:u,event:t,position:y},h.datum);v.enableInteraction=null!==(i=null===(n=h.series.tooltip.interaction)||void 0===n?void 0:n.enabled)&&void 0!==i&&i,_&&this.tooltipManager.updateTooltip(this.id,v,d)},e.prototype.handlePointerNode=function(t){var e=this;this.checkSeriesNodeRange(t,(function(t,n){(t.hasEventListener("nodeClick")||t.hasEventListener("nodeDoubleClick"))&&e.cursorManager.updateCursor("chart","pointer"),"node"===e.highlight.range&&e.highlightManager.updateHighlight(e.id,n)}))||(this.cursorManager.updateCursor("chart"),"node"===this.highlight.range&&this.highlightManager.updateHighlight(this.id))},e.prototype.onClick=function(t){this.checkSeriesNodeClick(t)?this.update(ChartUpdateType.SERIES_UPDATE):this.fireEvent({type:"click",event:t.sourceEvent})},e.prototype.onDoubleClick=function(t){this.checkSeriesNodeDoubleClick(t)?this.update(ChartUpdateType.SERIES_UPDATE):this.fireEvent({type:"doubleClick",event:t.sourceEvent})},e.prototype.checkSeriesNodeClick=function(t){return this.checkSeriesNodeRange(t,(function(e,n){return e.fireNodeClickEvent(t.sourceEvent,n)}))},e.prototype.checkSeriesNodeDoubleClick=function(t){return this.checkSeriesNodeRange(t,(function(e,n){return e.fireNodeDoubleClickEvent(t.sourceEvent,n)}))},e.prototype.checkSeriesNodeRange=function(t,e){var n,i=this.pickSeriesNode({x:t.offsetX,y:t.offsetY},!1),o=null==i?void 0:i.datum,r=null==o?void 0:o.series.nodeClickRange;if(o&&"nearest"===r)return e(o.series,o),!0;"number"==typeof r&&Number.isFinite(r)&&(n=r);var s=this.pickSeriesNode({x:t.offsetX,y:t.offsetY},"exact"===r,n);if(!s)return!1;var a=null!=n,l="exact"===r&&0===s.distance;return!(!a&&!l)&&(e(s.series,s.datum),!0)},e.prototype.mergePointerDatum=function(t,e){if("node"===e.series.tooltip.position.type&&e.nodeMidPoint){var n=e.nodeMidPoint,i=n.x,o=n.y,r=this.scene.canvas,s=e.series.rootGroup.inverseTransformPoint(i,o),a=r.element.getBoundingClientRect();return __assign$z(__assign$z({},t),{pageX:Math.round(a.left+window.scrollX+s.x),pageY:Math.round(a.top+window.scrollY+s.y),offsetX:Math.round(s.x),offsetY:Math.round(s.y)})}return t},e.prototype.changeHighlightDatum=function(t){var e=new Set,n=t.currentHighlight||{},i=n.series,o=void 0===i?void 0:i,r=n.datum,s=t.previousHighlight||{},a=s.series,l=void 0===a?void 0:a,c=s.datum;l&&e.add(l),o&&e.add(o),(null==l?void 0:l.cursor)&&c&&this.cursorManager.updateCursor(l.id),(null==o?void 0:o.cursor)&&r&&this.cursorManager.updateCursor(o.id,o.cursor),this.lastPick=t.currentHighlight?{datum:t.currentHighlight}:void 0,null==o||null==l?this.update(ChartUpdateType.SERIES_UPDATE):this.update(ChartUpdateType.SERIES_UPDATE,{seriesToUpdate:e})},e.prototype.waitForUpdate=function(t){return void 0===t&&(t=5e3),__awaiter$b(this,void 0,void 0,(function(){var e;return __generator$b(this,(function(n){switch(n.label){case 0:e=performance.now(),n.label=1;case 1:if(!(this._pendingFactoryUpdates.length>0||this.updatePending))return[3,3];if(performance.now()-e>t)throw new Error("waitForUpdate() timeout reached.");return[4,sleep(5)];case 2:return n.sent(),[3,1];case 3:return[4,this.awaitUpdateCompletion()];case 4:return n.sent(),[2]}}))}))},e.prototype.handleOverlays=function(){this.handleNoDataOverlay()},e.prototype.handleNoDataOverlay=function(){var t=!this.series.some((function(t){return t.hasData()})),e=this.getSeriesRect();t&&e?this.overlays.noData.show(e):this.overlays.noData.hide()},__decorate$1x([ActionOnSet({newValue:function(t){this.scene.debug.consoleLog=t}})],e.prototype,"debug",void 0),__decorate$1x([ActionOnSet({newValue:function(t){var e;null===(e=this.series)||void 0===e||e.forEach((function(e){return e.data=t}))}})],e.prototype,"data",void 0),__decorate$1x([ActionOnSet({newValue:function(t){this.autoSize=!1,this.resize(t,this.height)}})],e.prototype,"width",void 0),__decorate$1x([ActionOnSet({newValue:function(t){this.autoSize=!1,this.resize(this.width,t)}})],e.prototype,"height",void 0),__decorate$1x([ActionOnSet({changeValue:function(t){this.autoSizeChanged(t)}}),Validate(BOOLEAN)],e.prototype,"autoSize",void 0),__decorate$1x([ActionOnSet({newValue:function(t){var e;null===(e=this.scene.root)||void 0===e||e.appendChild(t.node)},oldValue:function(t){var e;null===(e=this.scene.root)||void 0===e||e.removeChild(t.node)}})],e.prototype,"title",void 0),__decorate$1x([ActionOnSet({newValue:function(t){var e;null===(e=this.scene.root)||void 0===e||e.appendChild(t.node)},oldValue:function(t){var e;null===(e=this.scene.root)||void 0===e||e.removeChild(t.node)}})],e.prototype,"subtitle",void 0),__decorate$1x([ActionOnSet({newValue:function(t){var e;null===(e=this.scene.root)||void 0===e||e.appendChild(t.node)},oldValue:function(t){var e;null===(e=this.scene.root)||void 0===e||e.removeChild(t.node)}})],e.prototype,"footnote",void 0),__decorate$1x([Validate(STRING_UNION("standalone","integrated"))],e.prototype,"mode",void 0),e}(Observable),TreeNode=function(){function t(t,e,n){void 0===t&&(t=""),void 0===n&&(n=0),this.x=0,this.y=0,this.subtreeLeft=NaN,this.subtreeRight=NaN,this.screenX=0,this.screenY=0,this.children=[],this.leafCount=0,this.prelim=0,this.mod=0,this.ancestor=this,this.change=0,this.shift=0,this.label=t,this.parent=e,this.depth=e?e.depth+1:0,this.number=n}return t.prototype.getLeftSibling=function(){return this.number>0&&this.parent?this.parent.children[this.number-1]:void 0},t.prototype.getLeftmostSibling=function(){return this.number>0&&this.parent?this.parent.children[0]:void 0},t.prototype.nextLeft=function(){return this.children?this.children[0]:this.thread},t.prototype.nextRight=function(){return this.children?this.children[this.children.length-1]:this.thread},t.prototype.getSiblings=function(){var t=this;return this.parent?this.parent.children.filter((function(e,n){return n!==t.number})):[]},t}();function ticksToTree(t,e){void 0===e&&(e=!0);var n=new TreeNode,i=0;return e&&t.forEach((function(t){return i=Math.max(i,t.labels.length)})),t.forEach((function(t){if(e)for(;t.labels.length<i;)t.labels.unshift("");insertTick(n,t)})),n}function insertTick(t,e){var n=e.labels.slice().reverse(),i=n.length-1;n.forEach((function(e,n){var o=t.children,r=o.find((function(t){return t.label===e})),s=n!==i;if(r&&s)t=r;else{var a=new TreeNode(e,t);a.number=o.length,o.push(a),s&&(t=a)}}))}function moveSubtree(t,e,n){var i=n/(e.number-t.number);e.change-=i,e.shift+=n,t.change+=i,e.prelim+=n,e.mod+=n}function ancestor(t,e,n){return e.getSiblings().indexOf(t.ancestor)>=0?t.ancestor:n}function executeShifts(t){var e=t.children;if(e)for(var n=0,i=0,o=e.length-1;o>=0;o--){var r=e[o];r.prelim+=n,r.mod+=n,i+=r.change,n+=r.shift+i}}function apportion(t,e,n){var i=t.getLeftSibling();if(i){for(var o=t,r=t,s=i,a=r.getLeftmostSibling(),l=r.mod,c=o.mod,u=s.mod,h=a.mod;s.nextRight()&&r.nextLeft();){s=s.nextRight(),r=r.nextLeft(),a=a.nextLeft(),(o=o.nextRight()).ancestor=t;var d=s.prelim+u-(r.prelim+l)+n;d>0&&(moveSubtree(ancestor(s,t,e),t,d),l+=d,c+=d),u+=s.mod,l+=r.mod,h+=a.mod,c+=o.mod}s.nextRight()&&!o.nextRight()?(o.thread=s.nextRight(),o.mod+=u-c):(r.nextLeft()&&!a.nextLeft()&&(a.thread=r.nextLeft(),a.mod+=l-h),e=t)}return e}function firstWalk(t,e){var n=t.children;if(n.length){var i=n[0];n.forEach((function(t){firstWalk(t,e),i=apportion(t,i,e)})),executeShifts(t);var o=(n[0].prelim+n[n.length-1].prelim)/2;(r=t.getLeftSibling())?(t.prelim=r.prelim+e,t.mod=t.prelim-o):t.prelim=o}else{var r=t.getLeftSibling();t.prelim=r?r.prelim+e:0}}var Dimensions=function(){function t(){this.top=1/0,this.right=-1/0,this.bottom=-1/0,this.left=1/0}return t.prototype.update=function(t,e){var n=e(t),i=n.x,o=n.y;i>this.right&&(this.right=i),i<this.left&&(this.left=i),o>this.bottom&&(this.bottom=o),o<this.top&&(this.top=o)},t}();function secondWalk(t,e,n){t.x=t.prelim+e,t.y=t.depth,n.update(t),t.children.forEach((function(i){return secondWalk(i,e+t.mod,n)}))}function thirdWalk(t){var e=t.children,n=0;e.forEach((function(t){thirdWalk(t),t.children.length?n+=t.leafCount:n++})),t.leafCount=n,e.length?(t.subtreeLeft=e[0].subtreeLeft,t.subtreeRight=e[t.children.length-1].subtreeRight,t.x=(t.subtreeLeft+t.subtreeRight)/2):(t.subtreeLeft=t.x,t.subtreeRight=t.x)}function treeLayout(t){var e=new TreeLayout;return firstWalk(t,1),secondWalk(t,-t.prelim,e),thirdWalk(t),e}var TreeLayout=function(){function t(){this.dimensions=new Dimensions,this.leafCount=0,this.nodes=[],this.leafNodes=[],this.nonLeafNodes=[],this.depth=0}return t.prototype.update=function(t){this.dimensions.update(t,(function(t){return{x:t.x,y:t.y}})),t.children.length?this.nonLeafNodes.push(t):(this.leafCount++,this.leafNodes.push(t)),t.depth>this.depth&&(this.depth=t.depth),this.nodes.push(t)},t.prototype.resize=function(t,e,n,i,o){void 0===n&&(n=0),void 0===i&&(i=0),void 0===o&&(o=!1);var r=this.leafCount-1,s=this.depth,a=this.dimensions,l=1,c=1;if(t>0&&r){var u=(a.right-a.left)/r;l=t/r/u,o&&(l=-l)}if(e>0&&s){var h=(a.bottom-a.top)/s;c=e/s/h}var d=new Dimensions;this.nodes.forEach((function(t){t.screenX=t.x*l,t.screenY=t.y*c,d.update(t,(function(t){return{x:t.screenX,y:t.screenY}}))}));var p=-d.left,f=-d.top;this.nodes.forEach((function(t){t.screenX+=p+n,t.screenY+=f+i}))},t}(),__extends$2d=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$1w=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},__read$C=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},__spread$l=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$C(arguments[e]));return t},GroupedCategoryAxisLabel=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.grid=!1,e}return __extends$2d(e,t),__decorate$1w([Validate(BOOLEAN)],e.prototype,"grid",void 0),e}(AxisLabel),GroupedCategoryAxis=function(t){function e(e){var n=t.call(this,e,new BandScale$5)||this;n.tickScale=new BandScale$5,n.translation={x:0,y:0},n.line=new AxisLine,n.label=new GroupedCategoryAxisLabel,n.labelColor="rgba(87, 87, 87, 1)",n.includeInvisibleDomains=!0;var i=n,o=i.tickLineGroup,r=i.tickLabelGroup,s=i.gridLineGroup,a=i.tickScale,l=i.scale;return l.paddingOuter=.1,l.paddingInner=2*l.paddingOuter,n.requestedRange=l.range.slice(),n.refreshScale(),a.paddingInner=1,a.paddingOuter=0,n.gridLineSelection=Selection.select(s,Line),n.axisLineSelection=Selection.select(o,Line),n.separatorSelection=Selection.select(o,Line),n.labelSelection=Selection.select(r,Text),n}return __extends$2d(e,t),Object.defineProperty(e.prototype,"range",{get:function(){return this.requestedRange.slice()},set:function(t){this.requestedRange=t.slice(),this.updateRange()},enumerable:!1,configurable:!0}),e.prototype.updateRange=function(){var t=this,e=t.requestedRange,n=t.visibleRange,i=t.scale,o=(e[1]-e[0])/(n[1]-n[0]),r=o*n[0],s=e[0]-r;this.tickScale.range=i.range=[s,s+o],this.resizeTickTree()},e.prototype.resizeTickTree=function(){var t=this.scale,e=t.domain.length?[t.convert(t.domain[0]),t.convert(t.domain[t.domain.length-1])]:t.range,n=this.tickTreeLayout,i=this.lineHeight;n&&n.resize(Math.abs(e[1]-e[0]),n.depth*i,(Math.min(e[0],e[1])||0)+(t.bandwidth||0)/2,-n.depth*i,e[1]-e[0]<0)},Object.defineProperty(e.prototype,"lineHeight",{get:function(){return 1.5*this.label.fontSize},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"gridLength",{get:function(){return this._gridLength},set:function(t){(this._gridLength&&!t||!this._gridLength&&t)&&(this.gridLineSelection.clear(),this.labelSelection.clear()),this._gridLength=t},enumerable:!1,configurable:!0}),e.prototype.calculateDomain=function(){var t,e=this.direction,n=this.boundSeries,i=[],o=void 0;n.filter((function(t){return t.visible})).forEach((function(t){if(e===ChartAxisDirection.X)if(void 0===o){var n=t.getDomain(e);i.push(n),o="number"==typeof n[0]}else o&&i.push(t.getDomain(e));else i.push(t.getDomain(e))}));var r=(t=new Array).concat.apply(t,__spread$l(i)),s=extent$4(r)||r;this.dataDomain=this.normaliseDataDomain(s)},e.prototype.normaliseDataDomain=function(t){var e=t.filter((function(t,e,n){return n.indexOf(t)===e})),n=ticksToTree(e);this.tickTreeLayout=treeLayout(n);var i=e.slice();return i.push(""),this.tickScale.domain=i,this.resizeTickTree(),e},e.prototype.update=function(t){var e=this;this.calculateDomain();var n=this,i=n.scale,o=n.label,r=n.label.parallel,s=n.tickScale,a=n.requestedRange;i.domain=this.dataDomain;var l=i.range[0],c=i.range[1],u=Math.abs(c-l)/i.domain.length||0,h=toRadians$1(this.rotation),d=Math.abs(Math.cos(h))<1e-8;this.updatePosition();var p=this.title;p&&(p.node.visible=!1);var f=this.lineHeight,g=this.tickTreeLayout,m=i.ticks(),_=g?g.nodes:[],y=!!g&&g.depth>1,v=s.ticks(),C=o.mirrored?1:-1,b=calculateLabelRotation({rotation:o.rotation,parallel:r,regularFlipRotation:normalizeAngle360(h-Math.PI/2),parallelFlipRotation:normalizeAngle360(h)}),E=b.autoRotation,S=b.labelRotation,w=b.parallelFlipFlag,O=this.gridLineSelection.update(this.gridLength?v:[]),x=this.labelSelection.update(_),P=o.formatter,T=new Map,M=0;x.each((function(t,e,n){t.fontStyle=o.fontStyle,t.fontWeight=o.fontWeight,t.fontSize=o.fontSize,t.fontFamily=o.fontFamily,t.fill=o.color,t.textBaseline=-1===w?"bottom":"hanging",t.textAlign="center",t.translationX=e.screenY-.25*o.fontSize,t.translationY=e.screenX,0===n?p&&p.enabled&&m.length>0?(t.visible=!0,t.text=p.text,t.fontSize=p.fontSize,t.fontStyle=p.fontStyle,t.fontWeight=p.fontWeight,t.fontFamily=p.fontFamily,t.textBaseline="hanging"):t.visible=!1:(t.text=P?P({value:String(e.label),index:n}):String(e.label),t.visible=e.screenX>=a[0]&&e.screenX<=a[1]);var i=t.computeBBox();T.set(t.id,i),i.width>M&&(M=i.width)}));var D=C*o.padding,R=this.label.grid,A=[];x.each((function(t,n,i){if(t.x=D,t.rotationCenterX=D,n.children.length){t.translationX-=M-f+e.label.padding;var o=n.leafCount*u;(r=T.get(t.id))&&r.width>o?t.visible=!1:t.rotation=d?E:-Math.PI/2}else{var r;t.rotation=S,t.textAlign="end",t.textBaseline="middle",(r=T.get(t.id))&&r.height>u&&(t.visible=!1)}if(n.parent&&y){var s=n.children.length?n.screenX-n.leafCount*u/2:n.screenX-u/2;if(n.children.length){var a=-M-2*e.label.padding+n.screenY;A.push({y:s,x1:a+f,x2:a,toString:function(){return String(i)}})}else(n.number!==n.children.length-1||R)&&A.push({y:s,x1:0,x2:-M-2*e.label.padding,toString:function(){return String(i)}})}}));var L=0;A.forEach((function(t){return L=Math.min(L,t.x2)})),A.push({y:Math.max(l,c),x1:0,x2:L,toString:function(){return String(A.length)}});var I=this.separatorSelection.update(A);I.each((function(t,n){t.x1=n.x1,t.x2=n.x2,t.y1=n.y,t.y2=n.y,t.visible=n.y>=a[0]-1e-7&&n.y<=a[1]+1e-7,t.stroke=e.tick.color,t.fill=void 0,t.strokeWidth=1})),this.gridLineSelection=O,this.labelSelection=x;for(var k=g?g.depth+1:1,N=[],F=0;F<k;F++)N.push(F);if(this.axisLineSelection.update(N).each((function(t,n,i){var o=i>0?-M-2*e.label.padding-(i-1)*f:0;t.x1=o,t.x2=o,t.y1=a[0],t.y2=a[1],t.strokeWidth=e.line.width,t.stroke=e.line.color,t.visible=m.length>0&&(0===i||R&&y)})),this.gridLength){var G=this.gridStyle,B=G.length;O.each((function(t,n,i){var o=Math.round(s.convert(n));t.x1=0,t.x2=-C*e.gridLength,t.y1=o,t.y2=o,t.visible=o>=a[0]&&o<=a[1];var r=G[i%B];t.stroke=r.stroke,t.strokeWidth=e.tick.width,t.lineDash=r.lineDash,t.fill=void 0}))}return t},e.className="GroupedCategoryAxis",e.type="groupedCategory",__decorate$1w([Validate(OPT_COLOR_STRING)],e.prototype,"labelColor",void 0),e}(ChartAxis),__extends$2c=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__assign$y=function(){return __assign$y=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},__assign$y.apply(this,arguments)},__awaiter$a=function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function s(t){try{l(i.next(t))}catch(t){r(t)}}function a(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((i=i.apply(t,e||[])).next())}))},__generator$a=function(t,e){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(t){r=[6,t],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},__values$g=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},__read$B=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},directions=["top","right","bottom","left"],CartesianChart=function(t){function e(e,n,i){void 0===e&&(e=window.document);var o=t.call(this,e,n,i)||this;o.paired=!0,o._lastAxisWidths={top:0,bottom:0,left:0,right:0},o._lastVisibility={crossLines:!0,series:!0};var r=o.scene.root;return o.legend.attachLegend(r),o}return __extends$2c(e,t),e.prototype.performLayout=function(){return __awaiter$a(this,void 0,void 0,(function(){var e,n,i,o,r,s,a,l,c,u;return __generator$a(this,(function(h){switch(h.label){case 0:return[4,t.prototype.performLayout.call(this)];case 1:return e=h.sent(),n=this.updateAxes(e),i=n.seriesRect,o=n.visibility,r=n.clipSeries,this.seriesRoot.visible=o.series,this.seriesRect=i,this.series.forEach((function(t){t.rootGroup.translationX=Math.floor(i.x),t.rootGroup.translationY=Math.floor(i.y)})),a=(s=this).seriesRoot,l=s.seriesAreaPadding,c=i.clone().grow(l),20,u=c.clone().grow(20),this.hoverRect=u,this.layoutService.dispatchLayoutComplete({type:"layout-complete",chart:{width:this.scene.width,height:this.scene.height},series:{rect:i,paddedRect:c,hoverRect:u,visible:o.series},axes:this.axes.map((function(t){return __assign$y({id:t.id},t.getLayoutState())}))}),r?a.setClipRectInGroupCoordinateSpace(c):a.setClipRectInGroupCoordinateSpace(),[2,e]}}))}))},e.prototype.updateAxes=function(t){var e,n,i,o=__assign$y({},this._lastAxisWidths),r=__assign$y({},this._lastVisibility),s=new Set(this._axes.map((function(t){return t.position})));try{for(var a=__values$g(Object.keys(o)),l=a.next();!l.done;l=a.next()){var c=l.value;s.has(c)||delete o[c]}}catch(t){e={error:t}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}var u,h=function(t,e){return!Object.keys(t).some((function(t){return null==o[t]}))&&(r.crossLines===e.crossLines&&r.series===e.series&&Object.entries(o).every((function(e){var n=__read$B(e,2),i=n[0],o=n[1],r=t[i];return null==o&&null==r||o===r})))},d={},p={},f=!1,g=null===(i=this.seriesRect)||void 0===i?void 0:i.clone(),m=0;do{Object.assign(o,d),Object.assign(r,p);var _=this.updateAxesPass(o,t.clone(),g);if(u=_.axisWidths,d=Object.entries(u).reduce((function(t,e){var n=__read$B(e,2),i=n[0],o=n[1];return o&&Math.abs(o)===1/0&&(o=0),t[i]=null!=o?Math.ceil(o):o,t}),{}),p=_.visibility,f=_.clipSeries,g=_.seriesRect,m++>10){Logger.warn("unable to find stable axis layout.");break}}while(!h(d,p));return this.axes.forEach((function(e){if(e.setCrossLinesVisible(r.crossLines),g)switch(e.clipGrid(g.x,g.y,g.width+5,g.height+5),e.position){case"left":case"right":e.clipTickLines(t.x,g.y,t.width+5,g.height+5);break;case"top":case"bottom":e.clipTickLines(g.x,t.y,g.width+5,t.height+5)}})),this._lastAxisWidths=o,this._lastVisibility=r,{seriesRect:g,visibility:r,clipSeries:f}},e.prototype.updateAxesPass=function(t,e,n){var i=this,o=this.axes,r={},s={},a={series:!0,crossLines:!0},l=!1,c={},u=this.applySeriesPadding(e),h=n?this.buildCrossLinePadding(n,t):{},d=this.buildAxisBound(u,t,h,a),p=this.buildSeriesRect(d,t);return o.forEach((function(e){var n,o,a=e.position,u=i.calculateAxisDimensions({axis:e,seriesRect:p,axisWidths:t,newAxisWidths:s,primaryTickCounts:c,clipSeries:l,addInterAxisPadding:(null!==(n=r[a])&&void 0!==n?n:0)>0}),h=u.clipSeries,f=u.axisThickness,g=u.axisOffset;r[a]=(null!==(o=r[a])&&void 0!==o?o:0)+1,l=l||h,i.positionAxis({axis:e,axisBound:d,axisOffset:g,axisThickness:f,axisWidths:t,primaryTickCounts:c,seriesRect:p})})),{clipSeries:l,seriesRect:p,axisWidths:s,visibility:a}},e.prototype.buildCrossLinePadding=function(t,e){var n,i,o,r={};this.axes.forEach((function(e){e.crossLines&&e.crossLines.forEach((function(e){e.calculatePadding(r,t)}))}));try{for(var s=__values$g(Object.entries(r)),a=s.next();!a.done;a=s.next()){var l=__read$B(a.value,2),c=l[0],u=l[1],h=void 0===u?0:u;r[c]=Math.max(h-(null!==(o=e[c])&&void 0!==o?o:0),0)}}catch(t){n={error:t}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return r},e.prototype.applySeriesPadding=function(t){var e=this,n=t.clone(),i=this.axes.slice().reverse();return directions.forEach((function(t){var o=e.seriesAreaPadding[t],r=i.find((function(e){return e.position===t}));r?r.seriesAreaPadding=o:n.shrink(o,t)})),n},e.prototype.buildAxisBound=function(t,e,n,i){var o,r,s,a,l=t.clone(),c=n.top,u=void 0===c?0:c,h=n.right,d=void 0===h?0:h,p=n.bottom,f=void 0===p?0:p,g=n.left,m=void 0===g?0:g,_=m+d,y=u+f,v=(null!==(o=e.left)&&void 0!==o?o:0)+(null!==(r=e.right)&&void 0!==r?r:0)+_,C=(null!==(s=e.top)&&void 0!==s?s:0)+(null!==(a=e.bottom)&&void 0!==a?a:0)+y;return l.width<=v||l.height<=C?(i.crossLines=!1,i.series=!1,l):(l.x+=m,l.y+=u,l.width-=_,l.height-=y,l)},e.prototype.buildSeriesRect=function(t,e){var n=t.clone(),i=e.top,o=e.bottom,r=e.left,s=e.right;return n.x+=null!=r?r:0,n.y+=null!=i?i:0,n.width-=(null!=r?r:0)+(null!=s?s:0),n.height-=(null!=i?i:0)+(null!=o?o:0),n.width=Math.max(0,n.width),n.height=Math.max(0,n.height),n},e.prototype.clampToOutsideSeriesRect=function(t,e,n,i){var o=t.x,r=t.y,s=[o,r,o+t.width,r+t.height];return(1===i?Math.min:Math.max)(e,s[("x"===n?0:1)+(1===i?0:2)])},e.prototype.calculateAxisDimensions=function(t){var e,n,i,o,r,s,a=t.axis,l=t.seriesRect,c=t.axisWidths,u=t.newAxisWidths,h=t.primaryTickCounts,d=t.addInterAxisPadding,p=t.clipSeries,f=a.position,g=a.direction;a.label.mirrored=["top","right"].includes(f);var m=null!==(e=u[f])&&void 0!==e?e:0;switch(f){case"top":case"bottom":a.range=[0,l.width],a.gridLength=l.height;break;case"right":case"left":a.range=function(t){return t instanceof CategoryAxis||t instanceof GroupedCategoryAxis?[0,l.height]:[l.height,0]}(a),a.gridLength=l.width}var _=null===(n=this.zoomManager.getZoom())||void 0===n?void 0:n[a.direction],y=null!=_?_:{},v=y.min,C=void 0===v?0:v,b=y.max,E=void 0===b?1:b;a.visibleRange=[C,E],!p&&(a.visibleRange[0]>0||a.visibleRange[1]<1)&&(p=!0);var S=a.nice?h[g]:void 0;S=a.update(S),h[g]=null!==(i=h[g])&&void 0!==i?i:S;var w=0;if(a.thickness)w=a.thickness;else{var O=a.computeBBox();w=g===ChartAxisDirection.X?O.height:O.width}return d&&(w+=15),w=Math.ceil(w),u[f]=(null!==(o=u[f])&&void 0!==o?o:0)+w,a.gridPadding=(null!==(r=c[f])&&void 0!==r?r:0)-(null!==(s=u[f])&&void 0!==s?s:0),{clipSeries:p,axisThickness:w,axisOffset:m}},e.prototype.positionAxis=function(t){var e,n,i,o,r=t.axis,s=t.axisBound,a=t.axisWidths,l=t.seriesRect,c=t.axisOffset,u=t.axisThickness;switch(r.position){case"top":r.translation.x=s.x+(null!==(e=a.left)&&void 0!==e?e:0),r.translation.y=this.clampToOutsideSeriesRect(l,s.y+1+c+u,"y",1);break;case"bottom":r.translation.x=s.x+(null!==(n=a.left)&&void 0!==n?n:0),r.translation.y=this.clampToOutsideSeriesRect(l,s.y+s.height+1-u-c,"y",-1);break;case"left":r.translation.y=s.y+(null!==(i=a.top)&&void 0!==i?i:0),r.translation.x=this.clampToOutsideSeriesRect(l,s.x+c+u,"x",1);break;case"right":r.translation.y=s.y+(null!==(o=a.top)&&void 0!==o?o:0),r.translation.x=this.clampToOutsideSeriesRect(l,s.x+s.width-u-c,"x",-1)}r.updatePosition()},e.className="CartesianChart",e.type="cartesian",e}(Chart),__extends$2b=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),PolarSeries=function(t){function e(e){var n,i=e.useLabelLayer,o=void 0!==i&&i,r=t.call(this,{useLabelLayer:o,pickModes:[SeriesNodePickMode.EXACT_SHAPE_MATCH],directionKeys:(n={},n[ChartAxisDirection.X]=["angleKey"],n[ChartAxisDirection.Y]=["radiusKey"],n)})||this;return r.centerX=0,r.centerY=0,r.radius=0,r}return __extends$2b(e,t),e.prototype.getLabelData=function(){return[]},e.prototype.computeLabelsBBox=function(t){return null},e}(Series),__extends$2a=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__awaiter$9=function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function s(t){try{l(i.next(t))}catch(t){r(t)}}function a(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((i=i.apply(t,e||[])).next())}))},__generator$9=function(t,e){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(t){r=[6,t],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},PolarChart=function(t){function e(e,n,i){void 0===e&&(e=window.document);var o=t.call(this,e,n,i)||this;o.padding=new Padding$1(40);var r=o.scene.root;return o.legend.attachLegend(r),o}return __extends$2a(e,t),e.prototype.performLayout=function(){return __awaiter$9(this,void 0,void 0,(function(){var e,n,i;return __generator$9(this,(function(o){switch(o.label){case 0:return[4,t.prototype.performLayout.call(this)];case 1:return e=o.sent(),n=e.clone(),this.computeSeriesRect(e),this.computeCircle(),20,i=e.clone().grow(20),this.hoverRect=i,this.layoutService.dispatchLayoutComplete({type:"layout-complete",chart:{width:this.scene.width,height:this.scene.height},series:{rect:n,paddedRect:e,hoverRect:i,visible:!0},axes:[]}),[2,e]}}))}))},e.prototype.computeSeriesRect=function(t){var e=this.seriesAreaPadding;t.shrink(e.left,"left"),t.shrink(e.top,"top"),t.shrink(e.right,"right"),t.shrink(e.bottom,"bottom"),this.seriesRect=t},e.prototype.computeCircle=function(){var t=this,e=this.seriesRect,n=this.series.filter((function(t){return t instanceof PolarSeries})),i=function(t,e,i){n.forEach((function(n){n.centerX=t,n.centerY=e,n.radius=i}))},o=e.x+e.width/2,r=e.y+e.height/2,s=Math.max(0,Math.min(e.width,e.height)/2),a=s;i(o,r,a);var l=function(e){var l=(void 0===e?{}:e).hideWhenNecessary,c=void 0!==l&&l,u=n.map((function(t){return t.computeLabelsBBox({hideWhenNecessary:c})})).filter((function(t){return null!=t}));if(0!==u.length){var h=BBox.merge(u),d=t.refineCircle(h,a);i(d.centerX,d.centerY,d.radius),d.radius!==a&&(a=d.radius)}else i(o,r,s)};l(),l(),l(),l({hideWhenNecessary:!0}),l({hideWhenNecessary:!0})},e.prototype.refineCircle=function(t,e){var n=this.seriesRect,i=-e,o=-e,r=e,s=e,a=Math.max(0,i-t.x),l=Math.max(0,o-t.y),c=Math.max(0,t.x+t.width-r),u=Math.max(0,t.y+t.height-s),h=n.width-a-c,d=n.height-l-u,p=Math.min(h,d)/2,f=.5*n.width/2,g=.5*n.height/2,m=Math.min(f,g);if(p<m){var _=a+c;if(2*(p=m)+(l+u)>n.height){var y=n.height-2*p;2*Math.min(l,u)>y?(l=y/2,u=y/2):l>u?l=y-u:u=y-l}if(2*p+_>n.width){var v=n.width-2*p;2*Math.min(a,c)>v?(a=v/2,c=v/2):a>c?a=v-c:c=v-a}}var C=a+2*p+c,b=l+2*p+u;return{centerX:n.x+(n.width-C)/2+a+p,centerY:n.y+(n.height-b)/2+l+p,radius:p}},e.className="PolarChart",e.type="polar",e}(Chart),__extends$29=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__awaiter$8=function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function s(t){try{l(i.next(t))}catch(t){r(t)}}function a(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((i=i.apply(t,e||[])).next())}))},__generator$8=function(t,e){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(t){r=[6,t],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},HierarchyChart=function(t){function e(e,n,i){void 0===e&&(e=window.document);var o=t.call(this,e,n,i)||this;o._data={};var r=o.scene.root;return o.legend.attachLegend(r),o}return __extends$29(e,t),e.prototype.performLayout=function(){return __awaiter$8(this,void 0,void 0,(function(){var e,n,i,o;return __generator$8(this,(function(r){switch(r.label){case 0:return[4,t.prototype.performLayout.call(this)];case 1:return e=r.sent(),n=this.seriesAreaPadding,i=e.clone(),e.shrink(n.left,"left"),e.shrink(n.top,"top"),e.shrink(n.right,"right"),e.shrink(n.bottom,"bottom"),this.seriesRect=e,20,o=e.clone().grow(20),this.hoverRect=o,this.series.forEach((function(t){t.rootGroup.translationX=Math.floor(e.x),t.rootGroup.translationY=Math.floor(e.y),t.update({seriesRect:e})})),this.seriesRoot.setClipRectInGroupCoordinateSpace(new BBox(e.x,e.y,e.width,e.height)),this.layoutService.dispatchLayoutComplete({type:"layout-complete",chart:{width:this.scene.width,height:this.scene.height},series:{rect:i,paddedRect:e,hoverRect:o,visible:!0},axes:[]}),[2,e]}}))}))},e.className="HierarchyChart",e.type="hierarchy",e}(Chart),__read$A=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},interpolatePattern=/(#\{(.*?)\})/g;function interpolate(t,e,n){return t.replace(interpolatePattern,(function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var o=t[2],r=__read$A(o.split(":"),2),s=r[0],a=r[1],l=e[s];if("number"==typeof l){var c;if(c=a&&n&&n[a]){var u=c,h=u.locales,d=u.options;return l.toLocaleString(h,d)}return String(l)}return l instanceof Date?"string"==typeof(c=a&&n&&n[a])?buildFormatter(c)(l):l.toDateString():"string"==typeof l||l&&l.toString?String(l):""}))}var element=null;function sanitizeHtml(t){return element=element||document.createElement("div"),t?(element.textContent=t,element.innerHTML):""}function calculateNiceSecondaryAxis(t,e){var n=Math.floor(t[0]),i=t[1],o=getTickStep(n=calculateNiceStart(n,i,e),i,e);return[[n,i=n+(e-1)*o],getTicks(n,o,e)]}function calculateNiceStart(t,e,n){var i=Math.abs(e-t)/(n-1),o=Math.floor(Math.log10(i)),r=Math.pow(10,o);return Math.floor(t/r)*r}function getTicks(t,e,n){for(var i=Math.floor(Math.log10(e)),o=e>0&&e<1?Math.abs(i):0,r=Math.pow(10,o),s=new NumericTicks(o),a=0;a<n;a++){var l=t+e*a;s[a]=Math.round(l*r)/r}return s}function getTickStep(t,e,n){return calculateNextNiceStep((e-t)/(n-1))}function calculateNextNiceStep(t){var e=Math.floor(Math.log10(t)),n=Math.pow(10,e),i=t/n*10;return i>0&&i<=1?n/10:i>1&&i<=2?2*n/10:i>1&&i<=5?5*n/10:i>5&&i<=10?10*n/10:i>10&&i<=20?20*n/10:i>20&&i<=40?40*n/10:i>40&&i<=50?50*n/10:i>50&&i<=100?100*n/10:i}var __extends$28=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$1v=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},__read$z=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},NumberAxis=function(t){function e(e,n){void 0===n&&(n=new LinearScale$1);var i=t.call(this,e,n)||this;return i.min=NaN,i.max=NaN,n.strictClampByDefault=!0,i}return __extends$28(e,t),e.prototype.normaliseDataDomain=function(t){var e=this.min,n=this.max;return t.length>2&&(t=extent$4(t)||[NaN,NaN]),isNaN(e)||(t=[e,t[1]]),isNaN(n)||(t=[t[0],n]),t[0]>t[1]&&(t=[]),t},e.prototype.formatDatum=function(t){return"number"==typeof t?t.toFixed(2):(Logger.warnOnce("data contains Date objects which are being plotted against a number axis, please only use a number axis for numbers."),String(t))},e.prototype.updateSecondaryAxisTicks=function(t){if(null==this.dataDomain)throw new Error("AG Charts - dataDomain not calculated, cannot perform tick calculation.");var e=__read$z(calculateNiceSecondaryAxis(this.dataDomain,null!=t?t:0),2),n=e[0],i=e[1];return this.scale.nice=!1,this.scale.domain=n,this.scale.update(),i},e.className="NumberAxis",e.type="number",__decorate$1v([Validate(AND(NUMBER_OR_NAN(),LESS_THAN("max"))),Default(NaN)],e.prototype,"min",void 0),__decorate$1v([Validate(AND(NUMBER_OR_NAN(),GREATER_THAN("min"))),Default(NaN)],e.prototype,"max",void 0),e}(ChartAxis),__extends$27=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$1u=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};function NON_ZERO_NUMBER(){return predicateWithMessage((function(t){return"number"==typeof t&&0!==t}),"expecting a non-zero Number")}var LogAxis=function(t){function e(e){var n=t.call(this,e,new LogScale)||this;return n.min=NaN,n.max=NaN,n.scale.strictClampByDefault=!0,n}return __extends$27(e,t),e.prototype.normaliseDataDomain=function(t){var e=this.min,n=this.max;t.length>2&&(t=extent$4(t)||[NaN,NaN]),isNaN(e)||(t=[e,t[1]]),isNaN(n)||(t=[t[0],n]);var i=t[0]>t[1],o=t[0]<0&&t[1]>0,r=0===t[0]&&0===t[1];return(i||o||r)&&(t=[],o?Logger.warn("the data domain crosses zero, the chart data cannot be rendered. See log axis documentation for more information."):r&&Logger.warn("the data domain has 0 extent, no data is rendered.")),0===t[0]&&(t[0]=1),0===t[1]&&(t[1]=-1),t},Object.defineProperty(e.prototype,"base",{get:function(){return this.scale.base},set:function(t){this.scale.base=t},enumerable:!1,configurable:!0}),e.className="LogAxis",e.type="log",__decorate$1u([Validate(AND(NUMBER_OR_NAN(),LESS_THAN("max"),NON_ZERO_NUMBER())),Default(NaN)],e.prototype,"min",void 0),__decorate$1u([Validate(AND(NUMBER_OR_NAN(),GREATER_THAN("min"),NON_ZERO_NUMBER())),Default(NaN)],e.prototype,"max",void 0),e}(NumberAxis),__assign$x=function(){return __assign$x=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},__assign$x.apply(this,arguments)},__values$f=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},__read$y=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},__spread$k=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$y(arguments[e]));return t};function extendDomain(t,e){var n,i;void 0===e&&(e=[1/0,-1/0]);try{for(var o=__values$f(t),r=o.next();!r.done;r=o.next()){var s=r.value;"number"==typeof s&&(s<e[0]&&(e[0]=s),s>e[1]&&(e[1]=s))}}catch(t){n={error:t}}finally{try{r&&!r.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return e}function sumValues(t,e){var n,i;void 0===e&&(e=[0,0]);try{for(var o=__values$f(t),r=o.next();!r.done;r=o.next()){var s=r.value;"number"==typeof s&&(s<0&&(e[0]+=s),s>0&&(e[1]+=s))}}catch(t){n={error:t}}finally{try{r&&!r.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return e}function toKeyString(t){return t.map((function(t){return null==t||"number"==typeof t||"string"==typeof t||"boolean"==typeof t?t:"object"==typeof t?JSON.stringify(t):t})).join("-")}var SMALLEST_KEY_INTERVAL={type:"reducer",property:"smallestKeyInterval",initialValue:1/0,reducer:function(){var t=NaN;return function(e,n){var i=n.keys[0],o=Math.abs(i-t);return t=i,!isNaN(o)&&o>0&&o<e?o:e}}},SUM_VALUE_EXTENT={type:"processor",property:"sumValueExtent",calculate:function(t){var e,n,i,o,r,s,a=__spread$k(null!==(o=null===(i=t.domain.sumValues)||void 0===i?void 0:i[0])&&void 0!==o?o:[0,0]);try{for(var l=__values$f(null!==(s=null===(r=t.domain.sumValues)||void 0===r?void 0:r.slice(1))&&void 0!==s?s:[]),c=l.next();!c.done;c=l.next()){var u=__read$y(c.value,2),h=u[0],d=u[1];h<a[0]&&(a[0]=h),d>a[1]&&(a[1]=d)}}catch(t){e={error:t}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(e)throw e.error}}return a}},INVALID_VALUE=Symbol("invalid"),DataModel=function(){function t(t){var e,n,i,o,r,s=this,a=t.props,l=!0;try{for(var c=__values$f(a),u=c.next();!u.done;u=c.next()){var h=u.value;if("key"===h.type&&!l)throw new Error("AG Charts - internal config error: keys must come before values.");"value"===h.type&&l&&(l=!1)}}catch(t){e={error:t}}finally{try{u&&!u.done&&(n=c.return)&&n.call(c)}finally{if(e)throw e.error}}this.opts=__assign$x({dataVisible:!0},t),this.keys=a.filter((function(t){return"key"===t.type})).map((function(t,e){return __assign$x(__assign$x({},t),{index:e,missing:!1})})),this.values=a.filter((function(t){return"value"===t.type})).map((function(t,e){return __assign$x(__assign$x({},t),{index:e,missing:!1})})),this.sums=a.filter((function(t){return"sum"===t.type})),this.reducers=a.filter((function(t){return"reducer"===t.type})),this.processors=a.filter((function(t){return"processor"===t.type}));try{for(var d=__values$f(null!==(r=this.sums)&&void 0!==r?r:[]),p=d.next();!p.done;p=d.next()){var f=p.value.properties;if(0!==f.length&&!f.some((function(t){return s.values.some((function(e){return e.property===t}))})))throw new Error("AG Charts - internal config error: sum properties must match defined properties ("+f+").")}}catch(t){i={error:t}}finally{try{p&&!p.done&&(o=d.return)&&o.call(d)}finally{if(i)throw i.error}}}return t.prototype.resolveProcessedDataIndex=function(t){var e=this.resolveProcessedDataDef(t);if("key"===(null==e?void 0:e.type)||"value"===(null==e?void 0:e.type))return{type:e.type,index:e.index}},t.prototype.resolveProcessedDataDef=function(t){var e=this.keys,n=this.values,i=__spread$k(e,n).find((function(e){return e.property===t}));if(i)return i},t.prototype.getDomain=function(t,e){var n=this.resolveProcessedDataIndex(t);return n?e.domain["key"===n.type?"keys":"values"][n.index]:[]},t.prototype.processData=function(t){var e,n,i,o,r=this,s=r.opts,a=s.groupByKeys,l=s.normaliseTo,c=r.sums,u=r.reducers,h=r.processors,d=performance.now();try{for(var p=__values$f(__spread$k(this.keys,this.values)),f=p.next();!f.done;f=p.next()){(y=f.value).missing=!1}}catch(t){e={error:t}}finally{try{f&&!f.done&&(n=p.return)&&n.call(p)}finally{if(e)throw e.error}}if(!a||0!==this.keys.length){var g=this.extractData(t);a&&(g=this.groupData(g)),c.length>0&&this.sumData(g),"number"==typeof l&&this.normaliseData(g),u.length>0&&this.reduceData(g),h.length>0&&this.postProcessData(g);try{for(var m=__values$f(__spread$k(this.keys,this.values)),_=m.next();!_.done;_=m.next()){var y;(y=_.value).missing&&Logger.warnOnce("the key '"+y.property+"' was not found in at least one data element.")}}catch(t){i={error:t}}finally{try{_&&!_.done&&(o=m.return)&&o.call(m)}finally{if(i)throw i.error}}var v=performance.now();return g.time=v-d,g}},t.prototype.extractData=function(t){var e,n,i,o,r,s,a=this,l=a.keys,c=a.values,u=a.opts.dataVisible,h=this.initDataDomainProcessor(),d=h.dataDomain,p=h.processValue,f=new Array(u?t.length:0),g=0;try{t:for(var m=__values$f(t),_=m.next();!_.done;_=m.next()){var y=_.value,v=u?new Array(l.length):void 0,C=0;try{for(var b=(i=void 0,__values$f(l)),E=b.next();!E.done;E=b.next()){var S=p(E.value,y);if(S===INVALID_VALUE)continue t;v&&(v[C++]=S)}}catch(t){i={error:t}}finally{try{E&&!E.done&&(o=b.return)&&o.call(b)}finally{if(i)throw i.error}}var w=u?new Array(c.length):void 0,O=0;try{for(var x=(r=void 0,__values$f(c)),P=x.next();!P.done;P=x.next()){var T=p(P.value,y);if(T===INVALID_VALUE)continue t;w&&(w[O++]=T)}}catch(t){r={error:t}}finally{try{P&&!P.done&&(s=x.return)&&s.call(x)}finally{if(r)throw r.error}}u&&(f[g++]={datum:y,keys:v,values:w})}}catch(t){e={error:t}}finally{try{_&&!_.done&&(n=m.return)&&n.call(m)}finally{if(e)throw e.error}}f.length=g;var M=function(t){var e=d.get(t.property).domain;return Array.isArray(e)&&e[0]>e[1]?[]:__spread$k(e)};return{type:"ungrouped",data:f,domain:{keys:l.map((function(t){return M(t)})),values:c.map((function(t){return M(t)}))},indices:{keys:l.reduce((function(t,e){var n=e.property,i=e.index;return t[n]=i,t}),{}),values:c.reduce((function(t,e){var n=e.property,i=e.index;return t[n]=i,t}),{})},defs:{keys:l,values:c},time:0}},t.prototype.groupData=function(t){var e,n,i,o,r=new Map;try{for(var s=__values$f(t.data),a=s.next();!a.done;a=s.next()){var l=a.value,c=l.keys,u=l.values,h=l.datum,d=toKeyString(c);if(r.has(d)){var p=r.get(d);p.values.push(u),p.datum.push(h)}else r.set(d,{keys:c,values:[u],datum:[h]})}}catch(t){e={error:t}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}var f=new Array(r.size),g=0;try{for(var m=__values$f(r.entries()),_=m.next();!_.done;_=m.next()){var y=__read$y(_.value,2)[1];c=y.keys,u=y.values,h=y.datum;f[g++]={keys:c,values:u,datum:h}}}catch(t){i={error:t}}finally{try{_&&!_.done&&(o=m.return)&&o.call(m)}finally{if(i)throw i.error}}return __assign$x(__assign$x({},t),{type:"grouped",data:f})},t.prototype.sumData=function(t){var e,n,i,o,r,s,a,l=this.values,c=this.sums;if(c){var u=c.map((function(){return[1/0,-1/0]})),h=c.map((function(t){return t.properties.map((function(t){return l.findIndex((function(e){return e.property===t}))}))}));try{for(var d=__values$f(t.data),p=d.next();!p.done;p=d.next()){var f=p.value,g=f.values;null!==(a=f.sumValues)&&void 0!==a||(f.sumValues=new Array(h.length)),"ungrouped"===t.type&&(g=[g]);var m=0;try{for(var _=(i=void 0,__values$f(h)),y=_.next();!y.done;y=_.next()){var v=y.value,C=extendDomain([]),b=function(t){var e=sumValues(v.map((function(e){return t[e]})));e&&extendDomain(e,C)};try{for(var E=(r=void 0,__values$f(g)),S=E.next();!S.done;S=E.next()){b(S.value)}}catch(t){r={error:t}}finally{try{S&&!S.done&&(s=E.return)&&s.call(E)}finally{if(r)throw r.error}}extendDomain(C,u[m]),f.sumValues[m++]=C}}catch(t){i={error:t}}finally{try{y&&!y.done&&(o=_.return)&&o.call(_)}finally{if(i)throw i.error}}}}catch(t){e={error:t}}finally{try{p&&!p.done&&(n=d.return)&&n.call(d)}finally{if(e)throw e.error}}t.domain.sumValues=u}},t.prototype.normaliseData=function(t){var e,n,i,o,r,s,a,l,c,u,h,d,p,f,g,m=this,_=m.sums,y=m.values,v=m.opts.normaliseTo;if(null!=v)for(var C=t.domain.sumValues,b=_.map((function(t){return t.properties.map((function(t){return y.findIndex((function(e){return e.property===t}))}))})),E=function(t,e){var n=t*v/e;return n>=0?Math.min(v,n):Math.max(-v,n)},S=0;S<_.length;S++){var w=null==C?void 0:C[S];if(null!=w){var O=-1/0;try{for(var x=(e=void 0,__values$f(w)),P=x.next();!P.done;P=x.next()){var T=P.value;O<(j=Math.abs(T))&&(O=j)}}catch(t){e={error:t}}finally{try{P&&!P.done&&(n=x.return)&&n.call(x)}finally{if(e)throw e.error}}var M=0;try{for(var D=(i=void 0,__values$f(w)),R=D.next();!R.done;R=D.next()){R.value;w[M]=E(w[M],O),M++}}catch(t){i={error:t}}finally{try{R&&!R.done&&(o=D.return)&&o.call(D)}finally{if(i)throw i.error}}try{for(var A=(r=void 0,__values$f(t.data)),L=A.next();!L.done;L=A.next()){var I=L.value,k=I.sumValues,N=I.values;"ungrouped"===t.type&&(N=[N]);var F=0;try{for(var G=(a=void 0,__values$f(null!==(g=null==k?void 0:k[S])&&void 0!==g?g:[])),B=G.next();!B.done;B=G.next()){var j;T=B.value;F<(j=Math.abs(T))&&(F=j)}}catch(t){a={error:t}}finally{try{B&&!B.done&&(l=G.return)&&l.call(G)}finally{if(a)throw a.error}}try{for(var U=(c=void 0,__values$f(N)),V=U.next();!V.done;V=U.next()){var W=V.value;try{for(var H=(h=void 0,__values$f(b[S])),$=H.next();!$.done;$=H.next()){var z=$.value;W[z]=E(W[z],F)}}catch(t){h={error:t}}finally{try{$&&!$.done&&(d=H.return)&&d.call(H)}finally{if(h)throw h.error}}}}catch(t){c={error:t}}finally{try{V&&!V.done&&(u=U.return)&&u.call(U)}finally{if(c)throw c.error}}if(null!=k){M=0;try{for(var K=(p=void 0,__values$f(k[S])),Y=K.next();!Y.done;Y=K.next()){Y.value;k[S][M]=E(k[S][M],F),M++}}catch(t){p={error:t}}finally{try{Y&&!Y.done&&(f=K.return)&&f.call(K)}finally{if(p)throw p.error}}}}}catch(t){r={error:t}}finally{try{L&&!L.done&&(s=A.return)&&s.call(A)}finally{if(r)throw r.error}}}}},t.prototype.reduceData=function(t){var e,n,i,o,r,s=this.reducers,a=s.map((function(t){return t.reducer()})),l=s.map((function(t){return t.initialValue}));try{for(var c=__values$f(t.data),u=c.next();!u.done;u=c.next()){var h=u.value,d=0;try{for(var p=(i=void 0,__values$f(a)),f=p.next();!f.done;f=p.next()){var g=f.value;l[d]=g(l[d],h),d++}}catch(t){i={error:t}}finally{try{f&&!f.done&&(o=p.return)&&o.call(p)}finally{if(i)throw i.error}}}}catch(t){e={error:t}}finally{try{u&&!u.done&&(n=c.return)&&n.call(c)}finally{if(e)throw e.error}}for(var m=0;m<l.length;m++)null!==(r=t.reduced)&&void 0!==r||(t.reduced={}),t.reduced[s[m].property]=l[m]},t.prototype.postProcessData=function(t){var e,n,i,o=this.processors;try{for(var r=__values$f(o),s=r.next();!s.done;s=r.next()){var a=s.value;null!==(i=t.reduced)&&void 0!==i||(t.reduced={}),t.reduced[a.property]=a.calculate(t)}}catch(t){e={error:t}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},t.prototype.initDataDomainProcessor=function(){var t=this.keys,e=this.values,n=new Map,i=function(t,e,n){"category"===e?n.set(t,{type:e,domain:new Set}):n.set(t,{type:e,domain:[1/0,-1/0]})},o=function(o){return void 0===o&&(o=n),t.forEach((function(t){return i(t.property,t.valueType,o)})),e.forEach((function(t){return i(t.property,t.valueType,o)})),o};o();return{dataDomain:n,processValue:function(t,e,i){var r,s;void 0===i&&(i=n);var a=t.property in e,l="missingValue"in t;t.missing||a||l||(t.missing=!0),i.has(t.property)||o(i);var c=a?e[t.property]:t.missingValue;if(a&&!(null===(s=null===(r=t.validation)||void 0===r?void 0:r.call(t,c))||void 0===s||s)){if(!("invalidValue"in t))return INVALID_VALUE;c=t.invalidValue}var u=i.get(t.property);return"category"===(null==u?void 0:u.type)?u.domain.add(c):"range"===(null==u?void 0:u.type)&&(u.domain[0]>c&&(u.domain[0]=c),u.domain[1]<c&&(u.domain[1]=c)),c},initDataDomain:o}},t}(),__extends$26=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$1t=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},TimeAxis=function(t){function e(e){var n=t.call(this,e,new TimeScale$1)||this;n.datumFormat="%m/%d/%y, %H:%M:%S",n.min=void 0,n.max=void 0;var i=n.scale;return i.strictClampByDefault=!0,n.refreshScale(),n.datumFormatter=i.tickFormat({specifier:n.datumFormat}),n}return __extends$26(e,t),e.prototype.normaliseDataDomain=function(t){var e=this.min,n=this.max;return"number"==typeof e&&(e=new Date(e)),"number"==typeof n&&(n=new Date(n)),t.length>2&&(t=(extent$4(t)||[0,1e3]).map((function(t){return new Date(t)}))),e instanceof Date&&(t=[e,t[1]]),n instanceof Date&&(t=[t[0],n]),t[0]>t[1]&&(t=[]),t},e.prototype.onLabelFormatChange=function(e,n){n?t.prototype.onLabelFormatChange.call(this,e,n):this.labelFormatter=this.scale.tickFormat({ticks:e})},e.prototype.formatDatum=function(t){return this.datumFormatter(t)},e.prototype.calculatePadding=function(t,e){return 1},e.className="TimeAxis",e.type="time",__decorate$1t([Validate(AND(OPT_DATE_OR_DATETIME_MS,LESS_THAN("max")))],e.prototype,"min",void 0),__decorate$1t([Validate(AND(OPT_DATE_OR_DATETIME_MS,GREATER_THAN("min")))],e.prototype,"max",void 0),e}(ChartAxis),__extends$25=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$1s=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},__awaiter$7=function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function s(t){try{l(i.next(t))}catch(t){r(t)}}function a(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((i=i.apply(t,e||[])).next())}))},__generator$7=function(t,e){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(t){r=[6,t],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},__read$x=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},__spread$j=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$x(arguments[e]));return t},__values$e=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},AreaSeriesLabel=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.formatter=void 0,e}return __extends$25(e,t),__decorate$1s([Validate(OPT_FUNCTION)],e.prototype,"formatter",void 0),e}(Label$1),AreaSeriesTooltip=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.renderer=void 0,e.format=void 0,e}return __extends$25(e,t),__decorate$1s([Validate(OPT_FUNCTION)],e.prototype,"renderer",void 0),__decorate$1s([Validate(OPT_STRING)],e.prototype,"format",void 0),e}(SeriesTooltip),AreaSeriesTag;!function(t){t[t.Fill=0]="Fill",t[t.Stroke=1]="Stroke",t[t.Marker=2]="Marker",t[t.Label=3]="Label"}(AreaSeriesTag||(AreaSeriesTag={}));var AreaSeries=function(t){function e(){var e=t.call(this,{pathsPerSeries:2,pathsZIndexSubOrderOffset:[0,1e3],hasMarkers:!0,renderLayerPerSubSeries:!1,directionKeys:{x:["xKey"],y:["yKeys"]}})||this;e.tooltip=new AreaSeriesTooltip,e.marker=new CartesianSeriesMarker,e.label=new AreaSeriesLabel,e.fills=["#c16068","#a2bf8a","#ebcc87","#80a0c3","#b58dae","#85c0d1"],e.strokes=["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"],e.fillOpacity=1,e.strokeOpacity=1,e.lineDash=[0],e.lineDashOffset=0,e._xKey="",e.xName="",e._yKeys=[],e._visibles=[],e.yNames=[],e.strokeWidth=2,e.shadow=void 0;var n=e,i=n.marker,o=n.label;return i.enabled=!1,o.enabled=!1,e}return __extends$25(e,t),Object.defineProperty(e.prototype,"xKey",{get:function(){return this._xKey},set:function(t){this._xKey=t,this.processedData=void 0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"yKeys",{get:function(){return this._yKeys},set:function(t){areArrayItemsStrictlyEqual(this._yKeys,t)||(this._yKeys=t,this.processedData=void 0,this.processSeriesItemEnabled())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"visibles",{get:function(){return this._visibles},set:function(t){this._visibles=t,this.processSeriesItemEnabled()},enumerable:!1,configurable:!0}),e.prototype.processSeriesItemEnabled=function(){var t=this.seriesItemEnabled,e=this._visibles,n=void 0===e?[]:e;t.clear(),this._yKeys.forEach((function(e,i){var o;return t.set(e,null===(o=n[i])||void 0===o||o)}))},Object.defineProperty(e.prototype,"normalizedTo",{get:function(){return this._normalizedTo},set:function(t){var e=t?Math.abs(t):void 0;this._normalizedTo!==e&&(this._normalizedTo=e)},enumerable:!1,configurable:!0}),e.prototype.processData=function(){return __awaiter$7(this,void 0,void 0,(function(){var t,e,n,i,o,r,s,a,l,c,u,h;return __generator$7(this,(function(d){return e=(t=this).xKey,n=t.yKeys,i=t.seriesItemEnabled,o=t.xAxis,r=t.yAxis,s=t.normalizedTo,a=e&&n.length&&this.data?this.data:[],l=(null==o?void 0:o.scale)instanceof ContinuousScale,c=(null==r?void 0:r.scale)instanceof ContinuousScale,u=__spread$j(i.entries()).filter((function(t){return __read$x(t,2)[1]})).map((function(t){return __read$x(t,1)[0]})),h=s&&isFinite(s)?s:void 0,this.dataModel=new DataModel({props:__spread$j([keyProperty(e,l)],u.map((function(t){return valueProperty(t,c,{missingValue:NaN,invalidValue:void 0})})),[sumProperties(u),SUM_VALUE_EXTENT]),groupByKeys:!0,dataVisible:this.visible&&u.length>0,normaliseTo:h}),this.processedData=this.dataModel.processData(a),[2]}))}))},e.prototype.getDomain=function(t){var e=this,n=e.processedData,i=e.xAxis,o=e.yAxis;if(!n)return[];var r=n,s=__read$x(r.defs.keys,1)[0],a=r.domain,l=__read$x(a.keys,1)[0],c=__read$x(a.values,1)[0],u=r.reduced,h=(void 0===u?{}:u)[SUM_VALUE_EXTENT.property];return t===ChartAxisDirection.X?"category"===s.valueType?l:this.fixNumericExtent(extent$4(l),i):o instanceof LogAxis||o instanceof TimeAxis?this.fixNumericExtent(c,o):this.fixNumericExtent(h,o)},e.prototype.createNodeData=function(){return __awaiter$7(this,void 0,void 0,(function(){var t,e,n,i,o,r,s,a,l,c,u,h,d,p,f,g,m,_,y,v,C,b,E,S,w=this;return __generator$7(this,(function(O){return e=(t=this).xAxis,n=t.yAxis,i=t.data,o=t.processedData,r=(void 0===o?{}:o).data,e&&n&&i?(s=[],l=(a=this).yKeys,c=a.xKey,u=a.marker,h=a.label,d=a.fills,p=a.strokes,f=a.id,g=e.scale,m=n.scale,_=m instanceof ContinuousScale,y=(g.bandwidth||0)/2,v=i.length,C=new Array(v).fill(null).map((function(){return{left:0,right:0}})),b=new Array(v).fill(0),E=function(t,e,n,i){var o=g.convert(t)+y,r=C[n][i],s=C[n][i]+e,a=m.convert(r,{strict:!1}),l=m.convert(s,{strict:!1});return C[n][i]=s,[{x:o,y:l,size:u.size},{x:o,y:a,size:u.size}]},S=function(t,e,n,i){var o,r=w.normalizedTo&&isFinite(w.normalizedTo),s=r&&_&&isContinuous(i);return(!r&&!isNaN(i)||s)&&(o=b[n]+=e),{x:g.convert(t)+y,y:m.convert(o,{strict:!1}),size:u.size}},l.forEach((function(t,e){var n,i=null===(n=w.dataModel)||void 0===n?void 0:n.resolveProcessedDataIndex(t),o=[],a=[],l={itemId:t,points:[],yValues:[]},g={itemId:t,points:[]};if(s[e]={itemId:t,fillSelectionData:g,labelData:o,nodeData:a,strokeSelectionData:l},i){var m=g.points,_=[],y=l.points,v=l.yValues,C=-1;null==r||r.forEach((function(n,s){var l=__read$x(n.keys,1)[0],g=n.datum,O=n.values;O.forEach((function(x,P){C++;var T,M=g[P],D=x[i.index],R=isNaN(D)?void 0:D,A=P<O.length-1,L=A?n:r[s+1],I=null==L?void 0:L.keys[0],k=A?P+1:0,N=null==L?void 0:L.values[k][i.index],F=isNaN(N)?void 0:N,G=S(l,+R,C,M[t]);u&&a.push({index:C,series:w,itemId:t,datum:M,nodeMidPoint:{x:G.x,y:G.y},cumulativeValue:b[C],yValue:R,yKey:t,xKey:c,point:G,fill:d[e%d.length],stroke:p[e%p.length]}),T=h.formatter?h.formatter({value:R,seriesId:f}):isNumber$4(R)?Number(R).toFixed(2):String(R),h&&o.push({index:C,itemId:t,point:G,label:T?{text:T,fontStyle:h.fontStyle,fontWeight:h.fontWeight,fontSize:h.fontSize,fontFamily:h.fontFamily,textAlign:"center",textBaseline:"bottom",fill:h.color}:void 0});var B=[l,I],j=[R,F];if(!B.some((function(t){return null==t}))){j.some((function(t){return null==t}))&&(j[0]=0,j[1]=0);var U=E(B[0],+j[0],C,"right");m.push(U[0]),_.push(U[1]);var V=E(B[1],+j[1],C,"left");m.push(V[0]),_.push(V[1]),y.push({x:NaN,y:NaN}),v.push(void 0),y.push(U[0]),v.push(R),void 0!==F&&(y.push(V[0]),v.push(R))}}))}));for(var O=_.length-1;O>=0;O--)m.push(_[O])}})),[2,s]):[2,[]]}))}))},e.prototype.isPathOrSelectionDirty=function(){return this.marker.isDirty()},e.prototype.updatePaths=function(t){return __awaiter$7(this,void 0,void 0,(function(){var e,n,i,o,r,s;return __generator$7(this,(function(a){return e=t.contextData,n=e.fillSelectionData,i=e.strokeSelectionData,o=__read$x(t.paths,2),r=o[0],s=o[1],r.datum=n,r.tag=AreaSeriesTag.Fill,r.lineJoin="round",r.stroke=void 0,r.pointerEvents=PointerEvents.None,s.datum=i,s.tag=AreaSeriesTag.Stroke,s.fill=void 0,s.lineJoin=s.lineCap="round",s.pointerEvents=PointerEvents.None,[2]}))}))},e.prototype.updatePathNodes=function(t){return __awaiter$7(this,void 0,void 0,(function(){var e,n,i,o,r,s,a,l,c,u,h,d,p,f,g,m,_,y,v,C,b,E,S,w,O,x,P;return __generator$7(this,(function(T){e=__read$x(t.paths,2),n=e[0],i=e[1],o=t.seriesIdx,r=t.itemId,a=(s=this).strokes,l=s.fills,c=s.fillOpacity,u=s.strokeOpacity,h=s.strokeWidth,d=s.shadow,m=n.datum.points,n.fill=l[o%l.length],n.fillOpacity=c,n.strokeOpacity=u,n.strokeWidth=h,n.lineDash=this.lineDash,n.lineDashOffset=this.lineDashOffset,n.fillShadow=d,(v=n.path).clear({trackChanges:!0}),C=0;try{for(p=__values$e(m),f=p.next();!f.done;f=p.next())S=f.value,C++>0?v.lineTo(S.x,S.y):v.moveTo(S.x,S.y)}catch(t){w={error:t}}finally{try{f&&!f.done&&(O=p.return)&&O.call(p)}finally{if(w)throw w.error}}v.closePath(),n.checkPathDirty(),g=i.datum,m=g.points,_=g.yValues,y=!0,i.stroke=a[o%a.length],i.strokeWidth=this.getStrokeWidth(this.strokeWidth,{itemId:r}),i.strokeOpacity=u,i.lineDash=this.lineDash,i.lineDashOffset=this.lineDashOffset,(v=i.path).clear({trackChanges:!0}),C=0;try{for(b=__values$e(m),E=b.next();!E.done;E=b.next())S=E.value,void 0===_[C++]?y=!0:y?(v.moveTo(S.x,S.y),y=!1):v.lineTo(S.x,S.y)}catch(t){x={error:t}}finally{try{E&&!E.done&&(P=b.return)&&P.call(b)}finally{if(x)throw x.error}}return i.checkPathDirty(),[2]}))}))},e.prototype.markerFactory=function(){return new(getMarker$1(this.marker.shape))},e.prototype.updateMarkerSelection=function(t){return __awaiter$7(this,void 0,void 0,(function(){var e,n,i,o;return __generator$7(this,(function(r){return e=t.nodeData,n=t.markerSelection,i=this.marker.enabled,o=i&&e?e:[],this.marker.isDirty()&&n.clear(),[2,n.update(o,(function(t){t.tag=AreaSeriesTag.Marker}))]}))}))},e.prototype.updateMarkerNodes=function(t){return __awaiter$7(this,void 0,void 0,(function(){var e,n,i,o,r,s,a,l,c,u,h,d,p,f,g,m,_,y,v,C,b,E,S,w;return __generator$7(this,(function(O){return e=t.markerSelection,n=t.isHighlight,o=(i=this).id,r=i.xKey,s=i.marker,a=i.seriesItemEnabled,l=i.yKeys,c=i.fills,u=i.strokes,h=i.fillOpacity,d=i.marker.fillOpacity,p=void 0===d?h:d,f=i.strokeOpacity,g=i.highlightStyle.item,m=g.fill,_=g.fillOpacity,y=void 0===_?p:_,v=g.stroke,C=g.strokeWidth,b=s.size,E=s.formatter,S=void 0!==s.strokeWidth?s.strokeWidth:this.strokeWidth,w="function"==typeof s.shape,e.each((function(t,e){var i,h,d=l.indexOf(e.yKey),g=n&&void 0!==m?m:s.fill||c[d%c.length],_=n?y:p,O=n&&void 0!==v?v:s.stroke||u[d%c.length],x=n&&void 0!==C?C:S,P=void 0;E&&(P=E({datum:e.datum,xKey:r,yKey:e.yKey,fill:g,stroke:O,strokeWidth:x,size:b,highlighted:n,seriesId:o})),t.fill=P&&P.fill||g,t.stroke=P&&P.stroke||O,t.strokeWidth=P&&void 0!==P.strokeWidth?P.strokeWidth:x,t.fillOpacity=null!=_?_:1,t.strokeOpacity=null!==(h=null!==(i=s.strokeOpacity)&&void 0!==i?i:f)&&void 0!==h?h:1,t.size=P&&void 0!==P.size?P.size:b,t.translationX=e.point.x,t.translationY=e.point.y,t.visible=t.size>0&&!!a.get(e.yKey)&&!isNaN(e.point.x)&&!isNaN(e.point.y),w&&!t.dirtyPath&&(t.path.clear({trackChanges:!0}),t.updatePath(),t.checkPathDirty())})),n||this.marker.markClean(),[2]}))}))},e.prototype.updateLabelSelection=function(t){return __awaiter$7(this,void 0,void 0,(function(){var e;return __generator$7(this,(function(n){return e=t.labelData,[2,t.labelSelection.update(e,(function(t){t.tag=AreaSeriesTag.Label}))]}))}))},e.prototype.updateLabelNodes=function(t){return __awaiter$7(this,void 0,void 0,(function(){var e,n,i,o,r,s,a,l;return __generator$7(this,(function(c){return e=t.labelSelection,n=this.label,i=n.enabled,o=n.fontStyle,r=n.fontWeight,s=n.fontSize,a=n.fontFamily,l=n.color,e.each((function(t,e){var n=e.point,c=e.label;c&&i?(t.fontStyle=o,t.fontWeight=r,t.fontSize=s,t.fontFamily=a,t.textAlign=c.textAlign,t.textBaseline=c.textBaseline,t.text=c.text,t.x=n.x,t.y=n.y-10,t.fill=l,t.visible=!0):t.visible=!1})),[2]}))}))},e.prototype.getNodeClickEvent=function(t,e){return new CartesianSeriesNodeClickEvent(this.xKey,e.yKey,t,e,this)},e.prototype.getNodeDoubleClickEvent=function(t,e){return new CartesianSeriesNodeDoubleClickEvent(this.xKey,e.yKey,t,e,this)},e.prototype.getTooltipHtml=function(t){var e,n,i,o=this.xKey,r=this.id,s=t.yKey,a=null===(e=this.dataModel)||void 0===e?void 0:e.resolveProcessedDataIndex(s);if(!o||!s||!a)return"";var l=t.datum,c=l[o],u=l[s],h=this,d=h.xAxis,p=h.yAxis,f=h.yKeys;if(!(d&&p&&isNumber$4(u)&&a))return"";var g=this,m=g.xName,_=g.yNames,y=g.fills,v=g.strokes,C=g.tooltip,b=g.marker,E=b.size,S=b.formatter,w=b.strokeWidth,O=b.fill,x=b.stroke,P=d.formatDatum(c),T=p.formatDatum(u),M=f.indexOf(s),D=null===(i=null===(n=this.processedData)||void 0===n?void 0:n.data[t.index])||void 0===i?void 0:i.values[0][null==a?void 0:a.index],R=_[M],A=sanitizeHtml(R),L=sanitizeHtml(P+": "+T),I=void 0!==w?w:this.strokeWidth,k=O||y[M%y.length],N=x||v[M%y.length],F=void 0;S&&(F=S({datum:l,xKey:o,yKey:s,fill:k,stroke:N,strokeWidth:I,size:E,highlighted:!1,seriesId:r}));var G=F&&F.fill||k,B={title:A,backgroundColor:G,content:L},j=C.renderer,U=C.format;if(U||j){var V={datum:l,xKey:o,xName:m,xValue:c,yKey:s,yValue:u,processedYValue:D,yName:R,color:G,title:A,seriesId:r};if(U)return toTooltipHtml$1({content:interpolate(U,V)},B);if(j)return toTooltipHtml$1(j(V),B)}return toTooltipHtml$1(B)},e.prototype.getLegendData=function(){var t,e,n=this,i=n.data,o=n.id,r=n.xKey,s=n.yKeys,a=n.yNames,l=n.seriesItemEnabled,c=n.marker,u=n.fills,h=n.strokes,d=n.fillOpacity,p=n.strokeOpacity;if(!(i&&i.length&&r&&s.length))return[];for(var f=[],g=s.length-1;g>=0;g--){var m=s[g];f.push({id:o,itemId:m,seriesId:o,enabled:l.get(m)||!1,label:{text:a[g]||s[g]},marker:{shape:c.shape,fill:c.fill||u[g%u.length],stroke:c.stroke||h[g%h.length],fillOpacity:null!==(t=c.fillOpacity)&&void 0!==t?t:d,strokeOpacity:null!==(e=c.strokeOpacity)&&void 0!==e?e:p}})}return f},e.prototype.isLabelEnabled=function(){return this.label.enabled},e.className="AreaSeries",e.type="area",__decorate$1s([Validate(COLOR_STRING_ARRAY)],e.prototype,"fills",void 0),__decorate$1s([Validate(COLOR_STRING_ARRAY)],e.prototype,"strokes",void 0),__decorate$1s([Validate(NUMBER(0,1))],e.prototype,"fillOpacity",void 0),__decorate$1s([Validate(NUMBER(0,1))],e.prototype,"strokeOpacity",void 0),__decorate$1s([Validate(OPT_LINE_DASH)],e.prototype,"lineDash",void 0),__decorate$1s([Validate(NUMBER(0))],e.prototype,"lineDashOffset",void 0),__decorate$1s([Validate(STRING)],e.prototype,"_xKey",void 0),__decorate$1s([Validate(STRING)],e.prototype,"xName",void 0),__decorate$1s([Validate(STRING_ARRAY)],e.prototype,"_yKeys",void 0),__decorate$1s([Validate(BOOLEAN_ARRAY)],e.prototype,"_visibles",void 0),__decorate$1s([Validate(STRING_ARRAY)],e.prototype,"yNames",void 0),__decorate$1s([Validate(OPT_NUMBER())],e.prototype,"_normalizedTo",void 0),__decorate$1s([Validate(NUMBER(0))],e.prototype,"strokeWidth",void 0),e}(CartesianSeries),__extends$24=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$1r=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},Rect=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.borderPath=new Path2D,e.x=0,e.y=0,e.width=10,e.height=10,e.radius=0,e.crisp=!1,e.lastUpdatePathStrokeWidth=Shape.defaultStyles.strokeWidth,e.effectiveStrokeWidth=Shape.defaultStyles.strokeWidth,e.microPixelEffectOpacity=1,e}return __extends$24(e,t),e.prototype.isDirtyPath=function(){var t;return this.lastUpdatePathStrokeWidth!==this.strokeWidth||!!(this.path.isDirty()||this.borderPath.isDirty()||(null===(t=this.clipPath)||void 0===t?void 0:t.isDirty()))},e.prototype.updatePath=function(){var t,e,n,i=this,o=i.path,r=i.borderPath,s=i.crisp,a=this,l=a.x,c=a.y,u=a.width,h=a.height,d=a.strokeWidth,p=1/(null!==(e=null===(t=this.layerManager)||void 0===t?void 0:t.canvas.pixelRatio)&&void 0!==e?e:1),f=1;if(o.clear({trackChanges:!0}),r.clear({trackChanges:!0}),s&&(u<=p&&(f*=u/p),h<=p&&(f*=h/p),u=this.align(l,u),h=this.align(c,h),l=this.align(l),c=this.align(c)),d)if(u<p){var g=l+p/2;r.moveTo(g,c),r.lineTo(g,c+h),d=p,this.borderClipPath=void 0}else if(h<p){var m=c+p/2;r.moveTo(l,m),r.lineTo(l+u,m),d=p,this.borderClipPath=void 0}else if(d<u&&d<h){var _=d/2;l+=_,c+=_,u-=d,h-=d,this.borderClipPath=void 0,o.rect(l,c,u,h),r.rect(l,c,u,h)}else this.borderClipPath=null!==(n=this.borderClipPath)&&void 0!==n?n:new Path2D,this.borderClipPath.clear({trackChanges:!0}),this.borderClipPath.rect(l,c,u,h),r.rect(l,c,u,h);else this.borderClipPath=void 0,o.rect(l,c,u,h);this.effectiveStrokeWidth=d,this.lastUpdatePathStrokeWidth=d,this.microPixelEffectOpacity=f},e.prototype.computeBBox=function(){var t=this,e=t.x,n=t.y,i=t.width,o=t.height;return new BBox(e,n,i,o)},e.prototype.isPointInPath=function(t,e){var n=this.transformPoint(t,e);return this.computeBBox().containsPoint(n.x,n.y)},e.prototype.applyFillAlpha=function(t){var e=this,n=e.fillOpacity,i=e.microPixelEffectOpacity,o=e.opacity;t.globalAlpha=o*n*i},e.prototype.renderStroke=function(t){var e=this,n=e.stroke,i=e.effectiveStrokeWidth,o=e.borderPath,r=e.borderClipPath,s=e.opacity,a=e.microPixelEffectOpacity;if(!!n&&!!i){var l=this,c=l.strokeOpacity,u=l.lineDash,h=l.lineDashOffset,d=l.lineCap,p=l.lineJoin;r&&(r.draw(t),t.clip()),o.draw(t);var f=t.globalAlpha;t.strokeStyle=n,t.globalAlpha=f*s*c*a,t.lineWidth=i,u&&t.setLineDash(u),h&&(t.lineDashOffset=h),d&&(t.lineCap=d),p&&(t.lineJoin=p),t.stroke(),t.globalAlpha=f}},e.className="Rect",__decorate$1r([ScenePathChangeDetection()],e.prototype,"x",void 0),__decorate$1r([ScenePathChangeDetection()],e.prototype,"y",void 0),__decorate$1r([ScenePathChangeDetection()],e.prototype,"width",void 0),__decorate$1r([ScenePathChangeDetection()],e.prototype,"height",void 0),__decorate$1r([ScenePathChangeDetection()],e.prototype,"radius",void 0),__decorate$1r([ScenePathChangeDetection()],e.prototype,"crisp",void 0),e}(Path),__extends$23=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$1q=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},__awaiter$6=function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function s(t){try{l(i.next(t))}catch(t){r(t)}}function a(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((i=i.apply(t,e||[])).next())}))},__generator$6=function(t,e){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(t){r=[6,t],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},__read$w=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},__spread$i=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$w(arguments[e]));return t},BAR_LABEL_PLACEMENTS=["inside","outside"],OPT_BAR_LABEL_PLACEMENT=function(t,e){return OPTIONAL(t,e,(function(t){return BAR_LABEL_PLACEMENTS.includes(t)}))},BarSeriesNodeTag;!function(t){t[t.Bar=0]="Bar",t[t.Label=1]="Label"}(BarSeriesNodeTag||(BarSeriesNodeTag={}));var BarSeriesLabel=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.formatter=void 0,e.placement="inside",e}return __extends$23(e,t),__decorate$1q([Validate(OPT_FUNCTION)],e.prototype,"formatter",void 0),__decorate$1q([Validate(OPT_BAR_LABEL_PLACEMENT)],e.prototype,"placement",void 0),e}(Label$1),BarSeriesTooltip=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.renderer=void 0,e}return __extends$23(e,t),__decorate$1q([Validate(OPT_FUNCTION)],e.prototype,"renderer",void 0),e}(SeriesTooltip);function is2dArray$1(t){return t.length>0&&Array.isArray(t[0])}var BarSeries=function(t){function e(){var e,n=t.call(this,{pickModes:[SeriesNodePickMode.EXACT_SHAPE_MATCH],pathsPerSeries:0,directionKeys:(e={},e[ChartAxisDirection.X]=["xKey"],e[ChartAxisDirection.Y]=["yKeys"],e)})||this;return n.label=new BarSeriesLabel,n.tooltip=new BarSeriesTooltip,n.flipXY=!1,n.fills=["#c16068","#a2bf8a","#ebcc87","#80a0c3","#b58dae","#85c0d1"],n.strokes=["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"],n.fillOpacity=1,n.strokeOpacity=1,n.lineDash=[0],n.lineDashOffset=0,n.formatter=void 0,n.groupScale=new BandScale$5,n._xKey="",n.xName="",n.cumYKeyCount=[],n.flatYKeys=void 0,n.hideInLegend=[],n.yKeys=[],n.yKeysCache=[],n.visibles=[],n._grouped=!1,n.stackGroups={},n.yNames={},n.strokeWidth=1,n.shadow=void 0,n.smallestDataInterval=void 0,n.label.enabled=!1,n}return __extends$23(e,t),e.prototype.resolveKeyDirection=function(t){return this.flipXY?flipChartAxisDirection(t):t},Object.defineProperty(e.prototype,"xKey",{get:function(){return this._xKey},set:function(t){this._xKey=t,this.processedData=void 0},enumerable:!1,configurable:!0}),e.prototype.processYKeys=function(){var t=this,e=this.yKeys,n=void 0;is2dArray$1(e)||(n=e,e=this.grouped?n.map((function(t){return[t]})):[n]);var i=Object.values(this.stackGroups);if(i.length>0){var o=function(t){return t.reduce((function(t,e){return t.concat(e)}),[])},r=o(e),s=new Set(o(i)),a=r.filter((function(t){return!s.has(t)}));e=i.map((function(t){return t})),a.length>0&&e.push(a);var l=o(e),c=l.reduce((function(t,e,n){return t.set(e,n)}),new Map),u=function(t){var e=Array.from({length:t.length});return t.forEach((function(t,n){var i=r[n],o=c.get(i);e[o]=t})),e};this.fills=u(this.fills),this.strokes=u(this.strokes),this.visibles=u(this.visibles)}if(!areArrayItemsStrictlyEqual(this.yKeysCache,e)){this.flatYKeys=n||void 0,this.yKeys=e;var h=0;this.cumYKeyCount=[];var d=[];e.forEach((function(e,n){e.length>0&&d.push(String(n)),t.cumYKeyCount.push(h),h+=e.length})),this.processSeriesItemEnabled(),this.groupScale.domain=d}this.yKeysCache=e},e.prototype.processSeriesItemEnabled=function(){var t=this.seriesItemEnabled,e=this.visibles.reduce((function(t,e){return t.concat.apply(t,__spread$i(Array.isArray(e)?e:[e]))}),[]);t.clear();var n=0;this.yKeys.forEach((function(i){i.forEach((function(i){var o;return t.set(i,null===(o=e[n++])||void 0===o||o)}))}))},Object.defineProperty(e.prototype,"grouped",{get:function(){return this._grouped},set:function(t){this._grouped=t},enumerable:!1,configurable:!0}),e.prototype.getStackGroup=function(t){var e,n=this.stackGroups;return null===(e=Object.entries(n).find((function(e){var n=__read$w(e,2);return n[0],n[1].includes(t)})))||void 0===e?void 0:e[0]},e.prototype.processYNames=function(){var t=this.yNames;if(Array.isArray(t)&&this.flatYKeys){var e={};this.flatYKeys.forEach((function(n,i){e[n]=t[i]})),this.yNames=e}},Object.defineProperty(e.prototype,"normalizedTo",{get:function(){return this._normalizedTo},set:function(t){var e=t?Math.abs(t):void 0;this._normalizedTo=e},enumerable:!1,configurable:!0}),e.prototype.processData=function(){var t,e,n,i,o;return __awaiter$6(this,void 0,void 0,(function(){var r,s,a,l,c,u,h,d,p,f,g;return __generator$6(this,(function(m){return this.processYKeys(),this.processYNames(),s=(r=this).xKey,a=r.seriesItemEnabled,l=r.normalizedTo,c=r.data,u=void 0===c?[]:c,h=(null===(t=this.getCategoryAxis())||void 0===t?void 0:t.scale)instanceof ContinuousScale,d=(null===(e=this.getValueAxis())||void 0===e?void 0:e.scale)instanceof ContinuousScale,p=__spread$i(a.entries()).filter((function(t){return __read$w(t,2)[1]})).map((function(t){return __read$w(t,1)[0]})),f=this.yKeys.map((function(t){return t.filter((function(t){return a.get(t)}))})).filter((function(t){return t.length>0})),g=l&&isFinite(l)?l:void 0,this.dataModel=new DataModel({props:__spread$i([keyProperty(s,h)],p.map((function(t){return valueProperty(t,d,{invalidValue:null})})),f.map((function(t){return sumProperties(t)})),h?[SMALLEST_KEY_INTERVAL]:[],[SUM_VALUE_EXTENT]),groupByKeys:!0,dataVisible:this.visible&&p.length>0,normaliseTo:g}),this.processedData=this.dataModel.processData(u),this.smallestDataInterval={x:null!==(o=null===(i=null===(n=this.processedData)||void 0===n?void 0:n.reduced)||void 0===i?void 0:i[SMALLEST_KEY_INTERVAL.property])&&void 0!==o?o:1/0,y:1/0},[2]}))}))},e.prototype.getDomain=function(t){var e=this.flipXY,n=this.processedData;if(!n)return[];e&&(t=flipChartAxisDirection(t));var i=n,o=__read$w(i.defs.keys,1)[0],r=i.domain,s=__read$w(r.keys,1)[0],a=__read$w(r.values,1)[0],l=i.reduced,c=void 0===l?{}:l,u=c[SMALLEST_KEY_INTERVAL.property],h=c[SUM_VALUE_EXTENT.property];if(t===ChartAxisDirection.X){if("category"===o.valueType)return s;var d=extent$4(s)||[NaN,NaN];return e?[d[0]+-u,d[1]]:[d[0],d[1]+u]}return this.getValueAxis()instanceof LogAxis?this.fixNumericExtent(a):this.fixNumericExtent(h)},e.prototype.getNodeClickEvent=function(t,e){return new CartesianSeriesNodeClickEvent(this.xKey,e.yKey,t,e,this)},e.prototype.getNodeDoubleClickEvent=function(t,e){return new CartesianSeriesNodeDoubleClickEvent(this.xKey,e.yKey,t,e,this)},e.prototype.getCategoryAxis=function(){return this.flipXY?this.yAxis:this.xAxis},e.prototype.getValueAxis=function(){return this.flipXY?this.xAxis:this.yAxis},e.prototype.calculateStep=function(t){var e,n=this.smallestDataInterval,i=this.getCategoryAxis();if(i){var o=(i.dataDomain[1]-i.dataDomain[0])/(null!==(e=null==n?void 0:n.x)&&void 0!==e?e:1)+1,r=Math.floor(t),s=Math.min(o,r);return t/Math.max(1,s)}},e.prototype.createNodeData=function(){return __awaiter$6(this,void 0,void 0,(function(){var t,e,n,i,o,r,s,a,l,c,u,h,d,p,f,g,m,_,y,v,C,b,E,S,w,O,x,P,T,M,D,R,A=this;return __generator$6(this,(function(L){return e=(t=this).data,n=t.visible,i=this.getCategoryAxis(),o=this.getValueAxis(),e&&n&&i&&o?(r=i.scale,s=o.scale,l=(a=this).groupScale,c=a.yKeys,u=a.xKey,h=a.cumYKeyCount,d=a.fills,p=a.strokes,f=a.strokeWidth,g=a.seriesItemEnabled,m=a.label,_=a.flipXY,y=a.id,v=a.processedData,C=m.fontStyle,b=m.fontWeight,E=m.fontSize,S=m.fontFamily,w=m.color,O=m.formatter,x=m.placement,P=r.bandwidth,r instanceof ContinuousScale&&(T=Math.max(i.range[0],i.range[1]),M=this.calculateStep(T),P=M),l.range=[0,P],l.padding=i instanceof CategoryAxis?i.groupPaddingInner:i instanceof GroupedCategoryAxis?.1:0,0===l.padding?l.round=!1:l.round=!0,D=l.bandwidth>=1?l.bandwidth:l.rawBandwidth,R=[],null==v||v.data.forEach((function(t,e){for(var n,o,a,m,P,T,M=t.keys,L=t.datum,I=t.values,k=r.convert(M[0]),N=0;N<(null!==(n=null==c?void 0:c.length)&&void 0!==n?n:0);N++){var F=null!==(o=null==c?void 0:c[N])&&void 0!==o?o:[];null!==(a=R[N])&&void 0!==a||(R[N]=[]);for(var G=0,B=0,j=0;j<F.length;j++){var U=F[j],V=null!==(m=null==v?void 0:v.indices.values[U])&&void 0!==m?m:-1;if(null!==(P=(T=R[N])[j])&&void 0!==P||(T[j]={itemId:U,nodeData:[],labelData:[]}),void 0!==V){var W=I[0][V],H=+W,$=k+l.convert(String(N));if(i.inRange($,D)&&!isNaN(H)){var z=H<0?G:B,K=s.convert(z+H,{strict:!1}),Y=s.convert(z,{strict:!1}),X=void 0;X=O?O({value:isNumber$4(W)?W:void 0,seriesId:y}):isNumber$4(W)?W.toFixed(2):"";var q=void 0,Z=void 0;_?(Z=$+D/2,q="inside"===x?K+(W>=0?-1:1)*Math.abs(Y-K)/2:K+4*(W>=0?1:-1)):(q=$+D/2,Z="inside"===x?K+(W>=0?1:-1)*Math.abs(Y-K)/2:K+(W>=0?-3:4));var J=void 0,Q=void 0;"inside"===x?(J="center",Q="middle"):(J=_?W>=0?"start":"end":"center",Q=_?"middle":W>=0?"bottom":"top");var tt=h[N]+j,et={x:_?Math.min(K,Y):$,y:_?$:Math.min(K,Y),width:_?Math.abs(Y-K):D,height:_?D:Math.abs(Y-K)},nt={x:et.x+et.width/2,y:et.y+et.height/2},it={index:e,series:A,itemId:U,datum:L[0],cumulativeValue:z+H,yValue:W,yKey:U,xKey:u,x:et.x,y:et.y,width:et.width,height:et.height,nodeMidPoint:nt,colorIndex:tt,fill:d[tt%d.length],stroke:p[tt%p.length],strokeWidth:f,label:g.get(U)&&X?{text:X,fontStyle:C,fontWeight:b,fontSize:E,fontFamily:S,textAlign:J,textBaseline:Q,fill:w,x:q,y:Z}:void 0};R[N][j].nodeData.push(it),R[N][j].labelData.push(it),H<0?G+=H:B+=H}}}}})),[2,R.reduce((function(t,e){return t.concat.apply(t,__spread$i(e))}),[])]):[2,[]]}))}))},e.prototype.nodeFactory=function(){return new Rect},e.prototype.updateDatumSelection=function(t){return __awaiter$6(this,void 0,void 0,(function(){var e;return __generator$6(this,(function(n){return e=t.nodeData,[2,t.datumSelection.update(e,(function(t){return t.tag=BarSeriesNodeTag.Bar}))]}))}))},e.prototype.updateDatumNodes=function(t){var e,n;return __awaiter$6(this,void 0,void 0,(function(){var i,o,r,s,a,l,c,u,h,d,p,f,g,m,_,y,v,C,b,E,S,w,O=this;return __generator$6(this,(function(x){return i=t.datumSelection,o=t.isHighlight,s=(r=this).fills,a=r.strokes,l=r.fillOpacity,c=r.strokeOpacity,u=r.shadow,h=r.formatter,d=r.xKey,p=r.flipXY,f=r.highlightStyle.item,g=f.fill,m=f.fillOpacity,_=void 0===m?l:m,y=f.stroke,v=f.strokeWidth,C=r.id,b=__read$w(null!==(n=null===(e=this.xAxis)||void 0===e?void 0:e.visibleRange)&&void 0!==n?n:[],2),E=b[0],S=b[1],w=!(0!==E||1!==S),i.each((function(t,e){var n=e.colorIndex,i=o&&void 0!==g?g:s[n%s.length],r=o&&void 0!==y?y:a[n%s.length],f=o&&void 0!==v?v:O.getStrokeWidth(O.strokeWidth,e),m=o?_:l,b=O.getStackGroup(e.yKey),E=void 0;h&&(E=h({datum:e.datum,fill:i,stroke:r,strokeWidth:f,highlighted:o,xKey:d,yKey:e.yKey,seriesId:C,stackGroup:b})),t.crisp=w,t.x=e.x,t.y=e.y,t.width=e.width,t.height=e.height,t.fill=E&&E.fill||i,t.stroke=E&&E.stroke||r,t.strokeWidth=E&&void 0!==E.strokeWidth?E.strokeWidth:f,t.fillOpacity=m,t.strokeOpacity=c,t.lineDash=O.lineDash,t.lineDashOffset=O.lineDashOffset,t.fillShadow=u,t.visible=p?e.width>0:e.height>0})),[2]}))}))},e.prototype.updateLabelSelection=function(t){return __awaiter$6(this,void 0,void 0,(function(){var e,n,i,o;return __generator$6(this,(function(r){return e=t.labelData,n=t.labelSelection,i=this.label.enabled,o=i?e:[],[2,n.update(o,(function(t){t.tag=BarSeriesNodeTag.Label,t.pointerEvents=PointerEvents.None}))]}))}))},e.prototype.updateLabelNodes=function(t){return __awaiter$6(this,void 0,void 0,(function(){var e,n,i,o,r,s,a,l;return __generator$6(this,(function(c){return e=t.labelSelection,n=this.label,i=n.enabled,o=n.fontStyle,r=n.fontWeight,s=n.fontSize,a=n.fontFamily,l=n.color,e.each((function(t,e){var n=e.label;n&&i?(t.fontStyle=o,t.fontWeight=r,t.fontSize=s,t.fontFamily=a,t.textAlign=n.textAlign,t.textBaseline=n.textBaseline,t.text=n.text,t.x=n.x,t.y=n.y,t.fill=l,t.visible=!0):t.visible=!1})),[2]}))}))},e.prototype.getTooltipHtml=function(t){var e=this,n=e.xKey,i=e.yKeys,o=e.processedData,r=this.getCategoryAxis(),s=this.getValueAxis(),a=t.yKey;if(!(o&&n&&a&&r&&s))return"";for(var l=0,c=0,u=0;u<i.length;u++){var h=i[u];if((c=h.indexOf(a))>=0){l+=c;break}l+=h.length}var d=this,p=d.xName,f=d.yNames,g=d.fills,m=d.strokes,_=d.tooltip,y=d.formatter,v=d.id,C=_.renderer,b=t.datum,E=f[a],S=this.getStackGroup(a),w=g[l%g.length],O=m[l%g.length],x=this.getStrokeWidth(this.strokeWidth),P=b[n],T=b[a],M=sanitizeHtml(r.formatDatum(P)),D=sanitizeHtml(s.formatDatum(T)),R=sanitizeHtml(E),A=M+": "+D,L=void 0;y&&(L=y({datum:b,fill:w,stroke:O,strokeWidth:x,highlighted:!1,xKey:n,yKey:a,seriesId:v,stackGroup:S}));var I=L&&L.fill||w,k={title:R,backgroundColor:I,content:A};return C?toTooltipHtml$1(C({datum:b,xKey:n,xValue:P,xName:p,yKey:a,yValue:T,yName:E,color:I,title:R,seriesId:v,stackGroup:S}),k):toTooltipHtml$1(k)},e.prototype.getLegendData=function(){var t=this,e=t.id,n=t.data,i=t.xKey,o=t.yKeys,r=t.yNames,s=t.cumYKeyCount,a=t.seriesItemEnabled,l=t.hideInLegend,c=t.fills,u=t.strokes,h=t.fillOpacity,d=t.strokeOpacity,p=t.flipXY;if(!(n&&n.length&&i&&o.length))return[];var f=[];return this.yKeys.forEach((function(t,n){for(var i=p?0:t.length-1,o=p?1:-1,g=i,m=0;m<t.length;g+=o,m++){var _=t[g];if(l.indexOf(_)>=0)return;var y=s[n]+g;f.push({id:e,itemId:_,seriesId:e,enabled:a.get(_)||!1,label:{text:r[_]||_},marker:{fill:c[y%c.length],stroke:u[y%u.length],fillOpacity:h,strokeOpacity:d}})}})),f},e.prototype.toggleSeriesItem=function(e,n){t.prototype.toggleSeriesItem.call(this,e,n);var i=this.yKeys.map((function(t){return t.slice()}));this.seriesItemEnabled.forEach((function(t,e){t||i.forEach((function(t){var n=t.indexOf(e);n>=0&&t.splice(n,1)}))}));var o=[];i.forEach((function(t,e){t.length>0&&o.push(String(e))})),this.groupScale.domain=o,this.nodeDataRefresh=!0},e.prototype.isLabelEnabled=function(){return this.label.enabled},e.prototype.getBandScalePadding=function(){return{inner:.2,outer:.3}},e.className="BarSeries",e.type="bar",__decorate$1q([Validate(BOOLEAN)],e.prototype,"flipXY",void 0),__decorate$1q([Validate(COLOR_STRING_ARRAY)],e.prototype,"fills",void 0),__decorate$1q([Validate(COLOR_STRING_ARRAY)],e.prototype,"strokes",void 0),__decorate$1q([Validate(NUMBER(0,1))],e.prototype,"fillOpacity",void 0),__decorate$1q([Validate(NUMBER(0,1))],e.prototype,"strokeOpacity",void 0),__decorate$1q([Validate(OPT_LINE_DASH)],e.prototype,"lineDash",void 0),__decorate$1q([Validate(NUMBER(0))],e.prototype,"lineDashOffset",void 0),__decorate$1q([Validate(OPT_FUNCTION)],e.prototype,"formatter",void 0),__decorate$1q([Validate(STRING)],e.prototype,"_xKey",void 0),__decorate$1q([Validate(STRING)],e.prototype,"xName",void 0),__decorate$1q([Validate(STRING_ARRAY)],e.prototype,"hideInLegend",void 0),__decorate$1q([Validate(BOOLEAN_ARRAY)],e.prototype,"visibles",void 0),__decorate$1q([Validate(BOOLEAN)],e.prototype,"_grouped",void 0),__decorate$1q([Validate(OPT_NUMBER())],e.prototype,"_normalizedTo",void 0),__decorate$1q([Validate(NUMBER(0))],e.prototype,"strokeWidth",void 0),e}(CartesianSeries),__extends$22=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$1p=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},__awaiter$5=function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function s(t){try{l(i.next(t))}catch(t){r(t)}}function a(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((i=i.apply(t,e||[])).next())}))},__generator$5=function(t,e){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(t){r=[6,t],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},__read$v=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},__spread$h=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$v(arguments[e]));return t},HISTOGRAM_AGGREGATIONS=["count","sum","mean"],HISTOGRAM_AGGREGATION=predicateWithMessage((function(t){return HISTOGRAM_AGGREGATIONS.includes(t)}),"expecting a histogram aggregation keyword such as 'count', 'sum' or 'mean"),HistogramSeriesNodeTag;!function(t){t[t.Bin=0]="Bin",t[t.Label=1]="Label"}(HistogramSeriesNodeTag||(HistogramSeriesNodeTag={}));var HistogramSeriesLabel=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.formatter=void 0,e}return __extends$22(e,t),__decorate$1p([Validate(OPT_FUNCTION)],e.prototype,"formatter",void 0),e}(Label$1),defaultBinCount=10,aggregationFunctions={count:function(t){return t.data.length},sum:function(t,e){return t.data.reduce((function(t,n){return t+n[e]}),0)},mean:function(t,e){return aggregationFunctions.sum(t,e)/aggregationFunctions.count(t,e)}},HistogramBin=function(){function t(t){var e=__read$v(t,2),n=e[0],i=e[1];this.data=[],this.aggregatedValue=0,this.frequency=0,this.domain=[n,i]}return t.prototype.addDatum=function(t){this.data.push(t),this.frequency++},Object.defineProperty(t.prototype,"domainWidth",{get:function(){var t=__read$v(this.domain,2),e=t[0];return t[1]-e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"relativeHeight",{get:function(){return this.aggregatedValue/this.domainWidth},enumerable:!1,configurable:!0}),t.prototype.calculateAggregatedValue=function(t,e){e||(t="count");var n=aggregationFunctions[t];this.aggregatedValue=n(this,e)},t.prototype.getY=function(t){return t?this.relativeHeight:this.aggregatedValue},t}(),HistogramSeriesTooltip=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.renderer=void 0,e}return __extends$22(e,t),__decorate$1p([Validate(OPT_FUNCTION)],e.prototype,"renderer",void 0),e}(SeriesTooltip),HistogramSeries=function(t){function e(){var e=t.call(this,{pickModes:[SeriesNodePickMode.EXACT_SHAPE_MATCH]})||this;return e.binnedData=[],e.xDomain=[],e.yDomain=[],e.label=new HistogramSeriesLabel,e.tooltip=new HistogramSeriesTooltip,e.fill=void 0,e.stroke=void 0,e.fillOpacity=1,e.strokeOpacity=1,e.lineDash=[0],e.lineDashOffset=0,e.xKey="",e.areaPlot=!1,e.bins=void 0,e.aggregation="count",e.binCount=void 0,e.xName="",e.yKey="",e.yName="",e.strokeWidth=1,e.shadow=void 0,e.label.enabled=!1,e}return __extends$22(e,t),e.prototype.deriveBins=function(){var t=this,e=this.bins;if(!this.data)return[];var n=this.data.map((function(e){return e[t.xKey]})),i=this.fixNumericExtent(extent$4(n));if(void 0===this.binCount){if(e)return e;var o=ticks(i[0],i[1],defaultBinCount),r=tickStep(i[0],i[1],defaultBinCount),s=o[0];return __spread$h([[s-r,s]],o.map((function(t){return[t,t+r]})))}return this.calculateNiceBins(i,this.binCount)},e.prototype.calculateNiceBins=function(t,e){var n=Math.floor(t[0]),i=t[1],o=e||1,r=this.calculateNiceStart(n,i,o),s=r.start,a=r.binSize;return this.getBins(s,i,a,o)},e.prototype.getBins=function(t,e,n,i){for(var o=[],r=0;r<i;r++){var s=Math.round(10*(t+r*n))/10,a=Math.round(10*(t+(r+1)*n))/10;r===i-1&&(a=Math.max(a,e)),o[r]=[s,a]}return o},e.prototype.calculateNiceStart=function(t,e,n){var i=Math.abs(e-t)/n,o=Math.floor(Math.log10(i)),r=Math.pow(10,o);return{start:Math.floor(t/r)*r,binSize:i}},e.prototype.placeDataInBins=function(t){var e=this,n=this.xKey,i=this.deriveBins();this.bins=i;for(var o=t.slice().sort((function(t,e){return t[n]<e[n]?-1:t[n]>e[n]?1:0})),r=[new HistogramBin(i[0])],s=0,a=0;a<o.length&&s<i.length;a++){for(var l=o[a];l[n]>i[s][1]&&s<i.length;)s++,r.push(new HistogramBin(i[s]));s<i.length&&r[s].addDatum(l)}return r.forEach((function(t){return t.calculateAggregatedValue(e.aggregation,e.yKey)})),r},Object.defineProperty(e.prototype,"xMax",{get:function(){var t=this;return this.data&&this.data.reduce((function(e,n){return Math.max(e,n[t.xKey])}),Number.NEGATIVE_INFINITY)},enumerable:!1,configurable:!0}),e.prototype.processData=function(){return __awaiter$5(this,void 0,void 0,(function(){var t,e,n,i,o,r,s,a,l,c=this;return __generator$5(this,(function(u){return e=(t=this).xKey,n=t.data,this.binnedData=this.placeDataInBins(e&&n?n:[]),i=this.binnedData.map((function(t){return t.getY(c.areaPlot)})),o=extent$4(i),this.yDomain=this.fixNumericExtent([0,o?o[1]:1]),r=this.binnedData[0],s=this.binnedData[this.binnedData.length-1],a=r.domain[0],l=s.domain[1],this.xDomain=[a,l],[2]}))}))},e.prototype.getDomain=function(t){return t===ChartAxisDirection.X?this.xDomain:this.yDomain},e.prototype.getNodeClickEvent=function(t,e){return new CartesianSeriesNodeClickEvent(this.xKey,this.yKey,t,e,this)},e.prototype.getNodeDoubleClickEvent=function(t,e){return new CartesianSeriesNodeDoubleClickEvent(this.xKey,this.yKey,t,e,this)},e.prototype.createNodeData=function(){return __awaiter$5(this,void 0,void 0,(function(){var t,e,n,i,o,r,s,a,l,c,u,h,d,p,f,g,m,_,y,v,C,b,E=this;return __generator$5(this,(function(S){return e=(t=this).xAxis,n=t.yAxis,this.seriesItemEnabled&&e&&n?(i=e.scale,o=n.scale,s=(r=this).fill,a=r.stroke,l=r.strokeWidth,c=r.id,u=r.yKey,h=r.xKey,d=[],p=function(t){return String(t.value)},f=this.label,g=f.formatter,m=void 0===g?p:g,_=f.fontStyle,y=f.fontWeight,v=f.fontSize,C=f.fontFamily,b=f.color,this.binnedData.forEach((function(t){var e=t.aggregatedValue,n=t.frequency,r=__read$v(t.domain,2),p=r[0],f=r[1],g=t.relativeHeight,S=i.convert(p),w=i.convert(f),O=E.areaPlot?g:u?e:n,x=o.convert(0),P=o.convert(O),T=w-S,M=Math.abs(P-x),D=0!==O?{text:m({value:t.aggregatedValue,seriesId:c}),fontStyle:_,fontWeight:y,fontSize:v,fontFamily:C,fill:b,x:S+T/2,y:P+M/2}:void 0,R={x:S+T/2,y:P+M/2};d.push({series:E,datum:t,aggregatedValue:t.aggregatedValue,domain:t.domain,yKey:u,xKey:h,x:S,y:P,width:T,height:M,nodeMidPoint:R,fill:s,stroke:a,strokeWidth:l,label:D})})),[2,[{itemId:this.yKey,nodeData:d,labelData:d}]]):[2,[]]}))}))},e.prototype.nodeFactory=function(){return new Rect},e.prototype.updateDatumSelection=function(t){return __awaiter$5(this,void 0,void 0,(function(){var e;return __generator$5(this,(function(n){return e=t.nodeData,[2,t.datumSelection.update(e,(function(t){t.tag=HistogramSeriesNodeTag.Bin,t.crisp=!0}))]}))}))},e.prototype.updateDatumNodes=function(t){return __awaiter$5(this,void 0,void 0,(function(){var e,n,i,o,r,s,a,l,c,u,h,d,p=this;return __generator$5(this,(function(f){return e=t.datumSelection,n=t.isHighlight,o=(i=this).fillOpacity,r=i.strokeOpacity,s=i.shadow,a=i.highlightStyle.item,l=a.fill,c=a.fillOpacity,u=void 0===c?o:c,h=a.stroke,d=a.strokeWidth,e.each((function(t,e,i){var a=n&&void 0!==d?d:e.strokeWidth,c=n?u:o;t.x=e.x,t.y=e.y,t.width=e.width,t.height=e.height,t.fill=n&&void 0!==l?l:e.fill,t.stroke=n&&void 0!==h?h:e.stroke,t.fillOpacity=c,t.strokeOpacity=r,t.strokeWidth=a,t.lineDash=p.lineDash,t.lineDashOffset=p.lineDashOffset,t.fillShadow=s,t.zIndex=n?Series.highlightedZIndex:i,t.visible=e.height>0})),[2]}))}))},e.prototype.updateLabelSelection=function(t){return __awaiter$5(this,void 0,void 0,(function(){var e;return __generator$5(this,(function(n){return e=t.labelData,[2,t.labelSelection.update(e,(function(t){t.tag=HistogramSeriesNodeTag.Label,t.pointerEvents=PointerEvents.None,t.textAlign="center",t.textBaseline="middle"}))]}))}))},e.prototype.updateLabelNodes=function(t){return __awaiter$5(this,void 0,void 0,(function(){var e,n;return __generator$5(this,(function(i){return e=t.labelSelection,n=this.label.enabled,e.each((function(t,e){var i=e.label;i&&n?(t.text=i.text,t.x=i.x,t.y=i.y,t.fontStyle=i.fontStyle,t.fontWeight=i.fontWeight,t.fontSize=i.fontSize,t.fontFamily=i.fontFamily,t.fill=i.fill,t.visible=!0):t.visible=!1})),[2]}))}))},e.prototype.getTooltipHtml=function(t){var e=this,n=e.xKey,i=e.yKey,o=e.xAxis,r=e.yAxis;if(!n||!o||!r)return"";var s=this,a=s.xName,l=s.yName,c=s.fill,u=s.tooltip,h=s.aggregation,d=s.id,p=u.renderer,f=t.datum,g=f.aggregatedValue,m=f.frequency,_=__read$v(f.domain,2),y=_[0],v=_[1],C=sanitizeHtml(a||n)+": "+o.formatDatum(y)+" - "+o.formatDatum(v),b=i?"<b>"+sanitizeHtml(l||i)+" ("+h+")</b>: "+r.formatDatum(g)+"<br>":"",E={title:C,backgroundColor:c,content:b+="<b>Frequency</b>: "+m};return p?toTooltipHtml$1(p({datum:f,xKey:n,xValue:f.domain,xName:a,yKey:i,yValue:f.aggregatedValue,yName:l,color:c,title:C,seriesId:d}),E):toTooltipHtml$1(E)},e.prototype.getLegendData=function(){var t=this,e=t.id,n=t.data,i=t.xKey,o=t.yName,r=t.visible,s=t.fill,a=t.stroke,l=t.fillOpacity,c=t.strokeOpacity;return n&&0!==n.length?[{id:e,itemId:i,seriesId:e,enabled:r,label:{text:o||i||"Frequency"},marker:{fill:s||"rgba(0, 0, 0, 0)",stroke:a||"rgba(0, 0, 0, 0)",fillOpacity:l,strokeOpacity:c}}]:[]},e.prototype.isLabelEnabled=function(){return this.label.enabled},e.className="HistogramSeries",e.type="histogram",__decorate$1p([Validate(OPT_COLOR_STRING)],e.prototype,"fill",void 0),__decorate$1p([Validate(OPT_COLOR_STRING)],e.prototype,"stroke",void 0),__decorate$1p([Validate(NUMBER(0,1))],e.prototype,"fillOpacity",void 0),__decorate$1p([Validate(NUMBER(0,1))],e.prototype,"strokeOpacity",void 0),__decorate$1p([Validate(OPT_LINE_DASH)],e.prototype,"lineDash",void 0),__decorate$1p([Validate(NUMBER(0))],e.prototype,"lineDashOffset",void 0),__decorate$1p([Validate(STRING)],e.prototype,"xKey",void 0),__decorate$1p([Validate(BOOLEAN)],e.prototype,"areaPlot",void 0),__decorate$1p([Validate(OPT_ARRAY())],e.prototype,"bins",void 0),__decorate$1p([Validate(HISTOGRAM_AGGREGATION)],e.prototype,"aggregation",void 0),__decorate$1p([Validate(OPT_NUMBER(0))],e.prototype,"binCount",void 0),__decorate$1p([Validate(STRING)],e.prototype,"xName",void 0),__decorate$1p([Validate(STRING)],e.prototype,"yKey",void 0),__decorate$1p([Validate(STRING)],e.prototype,"yName",void 0),__decorate$1p([Validate(NUMBER(0))],e.prototype,"strokeWidth",void 0),e}(CartesianSeries),__extends$21=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$1o=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},__awaiter$4=function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function s(t){try{l(i.next(t))}catch(t){r(t)}}function a(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((i=i.apply(t,e||[])).next())}))},__generator$4=function(t,e){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(t){r=[6,t],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},__values$d=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},__read$u=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},LineSeriesLabel=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.formatter=void 0,e}return __extends$21(e,t),__decorate$1o([Validate(OPT_FUNCTION)],e.prototype,"formatter",void 0),e}(Label$1),LineSeriesTooltip=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.renderer=void 0,e.format=void 0,e}return __extends$21(e,t),__decorate$1o([Validate(OPT_FUNCTION)],e.prototype,"renderer",void 0),__decorate$1o([Validate(OPT_STRING)],e.prototype,"format",void 0),e}(SeriesTooltip),LineSeries=function(t){function e(){var e=t.call(this,{hasMarkers:!0,pickModes:[SeriesNodePickMode.NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST,SeriesNodePickMode.NEAREST_NODE,SeriesNodePickMode.EXACT_SHAPE_MATCH]})||this;e.xDomain=[],e.yDomain=[],e.pointsData=[],e.marker=new CartesianSeriesMarker,e.label=new LineSeriesLabel,e.title=void 0,e.stroke="#874349",e.lineDash=[0],e.lineDashOffset=0,e.strokeWidth=2,e.strokeOpacity=1,e.tooltip=new LineSeriesTooltip,e._xKey="",e.xName="",e._yKey="",e.yName="";var n=e,i=n.marker,o=n.label;return i.fill="#c16068",i.stroke="#874349",o.enabled=!1,e}return __extends$21(e,t),Object.defineProperty(e.prototype,"xKey",{get:function(){return this._xKey},set:function(t){this._xKey=t,this.pointsData.splice(0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"yKey",{get:function(){return this._yKey},set:function(t){this._yKey=t,this.pointsData.splice(0)},enumerable:!1,configurable:!0}),e.prototype.getDomain=function(t){return t===ChartAxisDirection.X?this.xDomain:this.yDomain},e.prototype.processData=function(){return __awaiter$4(this,void 0,void 0,(function(){var t,e,n,i,o,r,s,a,l,c,u,h,d,p,f,g,m,_,y,v;return __generator$4(this,(function(C){if(e=(t=this).xAxis,n=t.yAxis,i=t.xKey,o=t.yKey,r=t.pointsData,s=i&&o&&this.data?this.data:[],!e||!n)return[2];a=e.scale instanceof ContinuousScale,l=n.scale instanceof ContinuousScale,c=[],u=[],r.splice(0);try{for(h=__values$d(s),d=h.next();!d.done;d=h.next())p=d.value,f=p[i],g=p[o],m=checkDatum(f,a),a&&void 0===m||(_=checkDatum(g,l),c.push(m),u.push(_),r.push({xDatum:m,yDatum:_,datum:p}))}catch(t){y={error:t}}finally{try{d&&!d.done&&(v=h.return)&&v.call(h)}finally{if(y)throw y.error}}return this.validateXYData(this.xKey,this.yKey,s,e,n,c,u,1),this.xDomain=a?this.fixNumericExtent(extent$4(c),e):c,this.yDomain=l?this.fixNumericExtent(extent$4(u),n):u,[2]}))}))},e.prototype.createNodeData=function(){var t;return __awaiter$4(this,void 0,void 0,(function(){var e,n,i,o,r,s,a,l,c,u,h,d,p,f,g,m,_,y,v,C,b,E,S,w,O,x,P,T,M,D,R,A,L,I,k;return __generator$4(this,(function(N){if(n=(e=this).data,i=e.xAxis,o=e.yAxis,r=e.marker,s=r.enabled,a=r.size,l=r.strokeWidth,!n||!i||!o)return[2,[]];for(u=(c=this).pointsData,h=c.label,d=c.yKey,p=c.xKey,f=c.id,g=i.scale,m=o.scale,_=(g.bandwidth||0)/2,y=(m.bandwidth||0)/2,v=new Array(n.length),C=s?a:0,b=!0,E=void 0,S=void 0,w=0,O=0;O<u.length;O++)if(void 0===(x=S||u[O]).yDatum)E=void 0,b=!0;else{if(P=x.xDatum,T=x.yDatum,M=x.datum,D=g.convert(P)+_,isNaN(D)){E=void 0,b=!0;continue}if(R=(g.bandwidth||.5*a+(l||0))+1,S=void 0===(null===(t=u[O+1])||void 0===t?void 0:t.yDatum)?void 0:u[O+1],A=i.inRangeEx(D,0,R),L=S&&i.inRangeEx(g.convert(S.xDatum)+_,0,R),-1===A&&-1===L){b=!0;continue}if(1===A&&1===E){b=!0;continue}E=A,I=m.convert(T)+y,k=void 0,k=h.formatter?h.formatter({value:T,seriesId:f}):"number"==typeof T&&isFinite(T)?T.toFixed(2):T?String(T):"",v[w++]={series:this,datum:M,yKey:d,xKey:p,point:{x:D,y:I,moveTo:b,size:C},nodeMidPoint:{x:D,y:I},label:k?{text:k,fontStyle:h.fontStyle,fontWeight:h.fontWeight,fontSize:h.fontSize,fontFamily:h.fontFamily,textAlign:"center",textBaseline:"bottom",fill:h.color}:void 0},b=!1}return v.length=w,[2,[{itemId:d,nodeData:v,labelData:v}]]}))}))},e.prototype.isPathOrSelectionDirty=function(){return this.marker.isDirty()},e.prototype.updatePaths=function(t){return __awaiter$4(this,void 0,void 0,(function(){var e,n,i,o,r,s,a,l,c;return __generator$4(this,(function(u){e=t.contextData.nodeData,n=__read$u(t.paths,1),i=n[0],o=i.path,i.fill=void 0,i.lineJoin="round",i.pointerEvents=PointerEvents.None,o.clear({trackChanges:!0});try{for(r=__values$d(e),s=r.next();!s.done;s=r.next())(a=s.value).point.moveTo?o.moveTo(a.point.x,a.point.y):o.lineTo(a.point.x,a.point.y)}catch(t){l={error:t}}finally{try{s&&!s.done&&(c=r.return)&&c.call(r)}finally{if(l)throw l.error}}return i.checkPathDirty(),[2]}))}))},e.prototype.updatePathNodes=function(t){return __awaiter$4(this,void 0,void 0,(function(){var e,n;return __generator$4(this,(function(i){return e=__read$u(t.paths,1),(n=e[0]).stroke=this.stroke,n.strokeWidth=this.getStrokeWidth(this.strokeWidth),n.strokeOpacity=this.strokeOpacity,n.lineDash=this.lineDash,n.lineDashOffset=this.lineDashOffset,[2]}))}))},e.prototype.markerFactory=function(){return new(getMarker$1(this.marker.shape))},e.prototype.updateMarkerSelection=function(t){return __awaiter$4(this,void 0,void 0,(function(){var e,n,i,o,r;return __generator$4(this,(function(s){return e=t.nodeData,n=t.markerSelection,i=this.marker,o=i.shape,r=i.enabled,e=o&&r?e:[],this.marker.isDirty()&&n.clear(),[2,n.update(e)]}))}))},e.prototype.updateMarkerNodes=function(t){return __awaiter$4(this,void 0,void 0,(function(){var e,n,i,o,r,s,a,l,c,u,h,d,p,f,g,m,_,y,v,C;return __generator$4(this,(function(b){return e=t.markerSelection,n=t.isHighlight,o=(i=this).marker,r=i.marker.fillOpacity,s=i.xKey,a=i.yKey,l=i.stroke,c=i.strokeOpacity,u=i.highlightStyle.item,h=u.fill,d=u.fillOpacity,p=void 0===d?r:d,f=u.stroke,g=u.strokeWidth,m=i.id,_=o.size,y=o.formatter,v=void 0!==o.strokeWidth?o.strokeWidth:this.strokeWidth,C="function"==typeof o.shape,e.each((function(t,e){var i,u,d=n&&void 0!==h?h:o.fill,b=n?p:r,E=n&&void 0!==f?f:o.stroke||l,S=n&&void 0!==g?g:v,w=void 0;y&&(w=y({datum:e.datum,xKey:s,yKey:a,fill:d,stroke:E,strokeWidth:S,size:_,highlighted:n,seriesId:m})),t.fill=w&&w.fill||d,t.stroke=w&&w.stroke||E,t.strokeWidth=w&&void 0!==w.strokeWidth?w.strokeWidth:S,t.fillOpacity=null!=b?b:1,t.strokeOpacity=null!==(u=null!==(i=o.strokeOpacity)&&void 0!==i?i:c)&&void 0!==u?u:1,t.size=w&&void 0!==w.size?w.size:_,t.translationX=e.point.x,t.translationY=e.point.y,t.visible=t.size>0&&!isNaN(e.point.x)&&!isNaN(e.point.y),C&&!t.dirtyPath&&(t.path.clear({trackChanges:!0}),t.updatePath(),t.checkPathDirty())})),n||this.marker.markClean(),[2]}))}))},e.prototype.updateLabelSelection=function(t){return __awaiter$4(this,void 0,void 0,(function(){var e,n,i,o,r;return __generator$4(this,(function(s){return e=t.labelData,n=t.labelSelection,i=this.marker,o=i.shape,r=i.enabled,e=o&&r?e:[],[2,n.update(e)]}))}))},e.prototype.updateLabelNodes=function(t){return __awaiter$4(this,void 0,void 0,(function(){var e,n,i,o,r,s,a,l;return __generator$4(this,(function(c){return e=t.labelSelection,n=this.label,i=n.enabled,o=n.fontStyle,r=n.fontWeight,s=n.fontSize,a=n.fontFamily,l=n.color,e.each((function(t,e){var n=e.point,c=e.label;e&&c&&i?(t.fontStyle=o,t.fontWeight=r,t.fontSize=s,t.fontFamily=a,t.textAlign=c.textAlign,t.textBaseline=c.textBaseline,t.text=c.text,t.x=n.x,t.y=n.y-10,t.fill=l,t.visible=!0):t.visible=!1})),[2]}))}))},e.prototype.getNodeClickEvent=function(t,e){return new CartesianSeriesNodeClickEvent(this.xKey,this.yKey,t,e,this)},e.prototype.getNodeDoubleClickEvent=function(t,e){return new CartesianSeriesNodeDoubleClickEvent(this.xKey,this.yKey,t,e,this)},e.prototype.getTooltipHtml=function(t){var e=this,n=e.xKey,i=e.yKey,o=e.xAxis,r=e.yAxis;if(!(n&&i&&o&&r))return"";var s=this,a=s.xName,l=s.yName,c=s.tooltip,u=s.marker,h=s.id,d=c.renderer,p=c.format,f=t.datum,g=f[n],m=f[i],_=o.formatDatum(g),y=r.formatDatum(m),v=sanitizeHtml(this.title||l),C=sanitizeHtml(_+": "+y),b=u.formatter,E=u.fill,S=u.stroke,w=u.strokeWidth,O=u.size,x=void 0!==w?w:this.strokeWidth,P=void 0;b&&(P=b({datum:f,xKey:n,yKey:i,fill:E,stroke:S,strokeWidth:x,size:O,highlighted:!1,seriesId:h}));var T=P&&P.fill||E,M={title:v,backgroundColor:T,content:C};if(p||d){var D={datum:f,xKey:n,xValue:g,xName:a,yKey:i,yValue:m,yName:l,title:v,color:T,seriesId:h};if(p)return toTooltipHtml$1({content:interpolate(p,D)},M);if(d)return toTooltipHtml$1(d(D),M)}return toTooltipHtml$1(M)},e.prototype.getLegendData=function(){var t,e,n,i=this,o=i.id,r=i.data,s=i.xKey,a=i.yKey,l=i.yName,c=i.visible,u=i.title,h=i.marker,d=i.stroke,p=i.strokeOpacity;return r&&r.length&&s&&a?[{id:o,itemId:a,seriesId:o,enabled:c,label:{text:u||l||a},marker:{shape:h.shape,fill:h.fill||"rgba(0, 0, 0, 0)",stroke:h.stroke||d||"rgba(0, 0, 0, 0)",fillOpacity:null!==(t=h.fillOpacity)&&void 0!==t?t:1,strokeOpacity:null!==(n=null!==(e=h.strokeOpacity)&&void 0!==e?e:p)&&void 0!==n?n:1}}]:[]},e.prototype.isLabelEnabled=function(){return this.label.enabled},e.className="LineSeries",e.type="line",__decorate$1o([Validate(OPT_STRING)],e.prototype,"title",void 0),__decorate$1o([Validate(OPT_COLOR_STRING)],e.prototype,"stroke",void 0),__decorate$1o([Validate(OPT_LINE_DASH)],e.prototype,"lineDash",void 0),__decorate$1o([Validate(NUMBER(0))],e.prototype,"lineDashOffset",void 0),__decorate$1o([Validate(NUMBER(0))],e.prototype,"strokeWidth",void 0),__decorate$1o([Validate(NUMBER(0,1))],e.prototype,"strokeOpacity",void 0),__decorate$1o([Validate(STRING)],e.prototype,"_xKey",void 0),__decorate$1o([Validate(STRING)],e.prototype,"xName",void 0),__decorate$1o([Validate(STRING)],e.prototype,"_yKey",void 0),__decorate$1o([Validate(STRING)],e.prototype,"yName",void 0),e}(CartesianSeries),__extends$20=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__assign$w=function(){return __assign$w=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},__assign$w.apply(this,arguments)},__decorate$1n=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},__awaiter$3=function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function s(t){try{l(i.next(t))}catch(t){r(t)}}function a(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((i=i.apply(t,e||[])).next())}))},__generator$3=function(t,e){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(t){r=[6,t],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},__read$t=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},__spread$g=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$t(arguments[e]));return t},__values$c=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ScatterSeriesNodeBaseClickEvent=function(t){function e(e,n,i,o,r,s){var a=t.call(this,n,i,o,r,s)||this;return a.sizeKey=e,a}return __extends$20(e,t),e}(CartesianSeriesNodeBaseClickEvent),ScatterSeriesNodeClickEvent=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="nodeClick",e}return __extends$20(e,t),e}(ScatterSeriesNodeBaseClickEvent),ScatterSeriesNodeDoubleClickEvent=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="nodeDoubleClick",e}return __extends$20(e,t),e}(ScatterSeriesNodeBaseClickEvent),ScatterSeriesTooltip=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.renderer=void 0,e}return __extends$20(e,t),__decorate$1n([Validate(OPT_FUNCTION)],e.prototype,"renderer",void 0),e}(SeriesTooltip),ScatterSeries=function(t){function e(){var e=t.call(this,{pickModes:[SeriesNodePickMode.NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST,SeriesNodePickMode.NEAREST_NODE,SeriesNodePickMode.EXACT_SHAPE_MATCH],pathsPerSeries:0,hasMarkers:!0})||this;return e.sizeScale=new LinearScale$1,e.marker=new CartesianSeriesMarker,e.label=new Label$1,e.title=void 0,e.labelKey=void 0,e.xName="",e.yName="",e.sizeName="Size",e.labelName="Label",e._xKey="",e._yKey="",e._sizeKey=void 0,e.tooltip=new ScatterSeriesTooltip,e.label.enabled=!1,e}return __extends$20(e,t),Object.defineProperty(e.prototype,"xKey",{get:function(){return this._xKey},set:function(t){this._xKey=t,this.processedData=void 0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"yKey",{get:function(){return this._yKey},set:function(t){this._yKey=t,this.processedData=void 0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sizeKey",{get:function(){return this._sizeKey},set:function(t){this._sizeKey=t,this.processedData=void 0},enumerable:!1,configurable:!0}),e.prototype.processData=function(){var t,e,n,i;return __awaiter$3(this,void 0,void 0,(function(){var o,r,s,a,l,c,u,h,d,p,f,g;return __generator$3(this,(function(m){return r=(o=this).xKey,s=o.yKey,a=o.sizeKey,l=o.xAxis,c=o.yAxis,u=o.marker,h=o.data,d=(null==l?void 0:l.scale)instanceof ContinuousScale,p=(null==c?void 0:c.scale)instanceof ContinuousScale,this.dataModel=new DataModel({props:__spread$g([valueProperty(r,d),valueProperty(s,p)],a?[valueProperty(a,!0)]:[]),dataVisible:this.visible}),this.processedData=this.dataModel.processData(null!=h?h:[]),a&&(f=null!==(e=null===(t=this.dataModel.resolveProcessedDataIndex(a))||void 0===t?void 0:t.index)&&void 0!==e?e:-1,g=null!==(i=null===(n=this.processedData)||void 0===n?void 0:n.domain.values[f])&&void 0!==i?i:[],this.sizeScale.domain=u.domain?u.domain:g),[2]}))}))},e.prototype.getDomain=function(t){var e,n,i,o,r,s,a=null===(e=this.dataModel)||void 0===e?void 0:e.resolveProcessedDataIndex(this.xKey),l=null===(n=this.dataModel)||void 0===n?void 0:n.resolveProcessedDataIndex(this.yKey);return a&&l?t===ChartAxisDirection.X?null!==(o=null===(i=this.processedData)||void 0===i?void 0:i.domain.values[0])&&void 0!==o?o:[]:null!==(s=null===(r=this.processedData)||void 0===r?void 0:r.domain.values[1])&&void 0!==s?s:[]:[]},e.prototype.getNodeClickEvent=function(t,e){return new ScatterSeriesNodeClickEvent(this.sizeKey,this.xKey,this.yKey,t,e,this)},e.prototype.getNodeDoubleClickEvent=function(t,e){return new ScatterSeriesNodeDoubleClickEvent(this.sizeKey,this.xKey,this.yKey,t,e,this)},e.prototype.createNodeData=function(){var t,e,n,i,o,r;return __awaiter$3(this,void 0,void 0,(function(){var s,a,l,c,u,h,d,p,f,g,m,_,y,v,C,b,E,S,w,O,x,P,T,M,D,R,A,L,I,k,N,F;return __generator$3(this,(function(G){if(a=(s=this).visible,l=s.xAxis,c=s.yAxis,u=s.yKey,h=s.xKey,d=s.label,p=s.labelKey,f=null===(t=this.dataModel)||void 0===t?void 0:t.resolveProcessedDataIndex(h),g=null===(e=this.dataModel)||void 0===e?void 0:e.resolveProcessedDataIndex(u),!(f&&g&&a&&l&&c))return[2,[]];m=l.scale,_=c.scale,y=(m.bandwidth||0)/2,v=(_.bandwidth||0)/2,b=(C=this).sizeScale,E=C.marker,S=new Array(null!==(i=null===(n=this.processedData)||void 0===n?void 0:n.data.length)&&void 0!==i?i:0),b.range=[E.size,E.maxSize],w=d.getFont(),O=0;try{for(x=__values$c(null!==(r=null===(o=this.processedData)||void 0===o?void 0:o.data)&&void 0!==r?r:[]),P=x.next();!P.done;P=x.next())T=P.value,M=T.values,D=T.datum,R=m.convert(M[f.index])+y,A=_.convert(M[g.index])+v,this.checkRangeXY(R,A,l,c)&&(L=p?String(D[p]):"",I=HdpiCanvas.getTextSize(L,w),k=M.length>2?b.convert(M[2]):E.size,S[O++]={series:this,itemId:u,yKey:u,xKey:h,datum:D,point:{x:R,y:A,size:k},nodeMidPoint:{x:R,y:A},label:__assign$w({text:L},I)})}catch(t){N={error:t}}finally{try{P&&!P.done&&(F=x.return)&&F.call(x)}finally{if(N)throw N.error}}return S.length=O,[2,[{itemId:this.yKey,nodeData:S,labelData:S}]]}))}))},e.prototype.isPathOrSelectionDirty=function(){return this.marker.isDirty()},e.prototype.getLabelData=function(){var t;return null===(t=this.contextNodeData)||void 0===t?void 0:t.reduce((function(t,e){return t.concat(e.labelData)}),[])},e.prototype.markerFactory=function(){return new(getMarker$1(this.marker.shape))},e.prototype.updateMarkerSelection=function(t){return __awaiter$3(this,void 0,void 0,(function(){var e,n,i,o;return __generator$3(this,(function(r){return e=t.nodeData,n=t.markerSelection,i=this.marker.enabled,this.marker.isDirty()&&n.clear(),o=i?e:[],[2,n.update(o)]}))}))},e.prototype.updateMarkerNodes=function(t){return __awaiter$3(this,void 0,void 0,(function(){var e,n,i,o,r,s,a,l,c,u,h,d,p,f,g,m,_,y,v,C;return __generator$3(this,(function(b){return e=t.markerSelection,n=t.isHighlight,o=(i=this).marker,r=i.xKey,s=i.yKey,a=i.sizeScale,l=i.marker,c=l.fillOpacity,u=l.strokeOpacity,h=l.strokeWidth,d=i.highlightStyle.item,p=d.fill,f=d.fillOpacity,g=void 0===f?c:f,m=d.stroke,_=d.strokeWidth,y=i.id,v=o.formatter,a.range=[o.size,o.maxSize],C="function"==typeof o.shape,e.each((function(t,e){var i,a,l,d,f,b,E,S=n&&void 0!==p?p:o.fill,w=n?g:c,O=n&&void 0!==m?m:o.stroke,x=u,P=n&&void 0!==_?_:null!=h?h:1,T=null!==(a=null===(i=e.point)||void 0===i?void 0:i.size)&&void 0!==a?a:0,M=void 0;v&&(M=v({datum:e.datum,xKey:r,yKey:s,fill:S,stroke:O,strokeWidth:P,size:T,highlighted:n,seriesId:y})),t.fill=M&&M.fill||S,t.stroke=M&&M.stroke||O,t.strokeWidth=null!==(l=null==M?void 0:M.strokeWidth)&&void 0!==l?l:P,t.size=M&&void 0!==M.size?M.size:T,t.fillOpacity=null!=w?w:1,t.strokeOpacity=null!=x?x:1,t.translationX=null!==(f=null===(d=e.point)||void 0===d?void 0:d.x)&&void 0!==f?f:0,t.translationY=null!==(E=null===(b=e.point)||void 0===b?void 0:b.y)&&void 0!==E?E:0,t.visible=t.size>0,C&&!t.dirtyPath&&(t.path.clear({trackChanges:!0}),t.updatePath(),t.checkPathDirty())})),n||this.marker.markClean(),[2]}))}))},e.prototype.updateLabelSelection=function(t){var e,n;return __awaiter$3(this,void 0,void 0,(function(){var i,o,r,s;return __generator$3(this,(function(a){return i=t.labelSelection,o=this.label.enabled,r=o&&null!==(n=null===(e=this.chart)||void 0===e?void 0:e.placeLabels().get(this))&&void 0!==n?n:[],s=r.map((function(t){return __assign$w(__assign$w({},t.datum),{point:{x:t.x,y:t.y,size:t.datum.point.size}})})),[2,i.update(s)]}))}))},e.prototype.updateLabelNodes=function(t){return __awaiter$3(this,void 0,void 0,(function(){var e,n;return __generator$3(this,(function(i){return e=t.labelSelection,n=this.label,e.each((function(t,e){var i,o,r,s;t.text=e.label.text,t.fill=n.color,t.x=null!==(o=null===(i=e.point)||void 0===i?void 0:i.x)&&void 0!==o?o:0,t.y=null!==(s=null===(r=e.point)||void 0===r?void 0:r.y)&&void 0!==s?s:0,t.fontStyle=n.fontStyle,t.fontWeight=n.fontWeight,t.fontSize=n.fontSize,t.fontFamily=n.fontFamily,t.textAlign="left",t.textBaseline="top"})),[2]}))}))},e.prototype.getTooltipHtml=function(t){var e,n,i,o=this,r=o.xKey,s=o.yKey,a=o.xAxis,l=o.yAxis;if(!(r&&s&&a&&l))return"";var c=this,u=c.marker,h=c.tooltip,d=c.xName,p=c.yName,f=c.sizeKey,g=c.sizeName,m=c.labelKey,_=c.labelName,y=c.id,v=u.fill,C=u.stroke,b=this.getStrokeWidth(null!==(e=u.strokeWidth)&&void 0!==e?e:1),E=this.marker.formatter,S=void 0;E&&(S=E({datum:t,xKey:r,yKey:s,fill:v,stroke:C,strokeWidth:b,size:null!==(i=null===(n=t.point)||void 0===n?void 0:n.size)&&void 0!==i?i:0,highlighted:!1,seriesId:y}));var w=S&&S.fill||v||"gray",O=this.title||p,x=t.datum,P=x[r],T=x[s],M=sanitizeHtml(a.formatDatum(P)),D=sanitizeHtml(l.formatDatum(T)),R="<b>"+sanitizeHtml(d||r)+"</b>: "+M+"<br><b>"+sanitizeHtml(p||s)+"</b>: "+D;f&&(R+="<br><b>"+sanitizeHtml(g||f)+"</b>: "+sanitizeHtml(x[f])),m&&(R="<b>"+sanitizeHtml(_||m)+"</b>: "+sanitizeHtml(x[m])+"<br>"+R);var A={title:O,backgroundColor:w,content:R},L=h.renderer;return L?toTooltipHtml$1(L({datum:x,xKey:r,xValue:P,xName:d,yKey:s,yValue:T,yName:p,sizeKey:f,sizeName:g,labelKey:m,labelName:_,title:O,color:w,seriesId:y}),A):toTooltipHtml$1(A)},e.prototype.getLegendData=function(){var t=this,e=t.id,n=t.data,i=t.xKey,o=t.yKey,r=t.yName,s=t.title,a=t.visible,l=t.marker,c=l.fill,u=l.stroke,h=l.fillOpacity,d=l.strokeOpacity;return n&&n.length&&i&&o?[{id:e,itemId:o,seriesId:e,enabled:a,label:{text:s||r||o},marker:{shape:l.shape,fill:l.fill||c||"rgba(0, 0, 0, 0)",stroke:l.stroke||u||"rgba(0, 0, 0, 0)",fillOpacity:null!=h?h:1,strokeOpacity:null!=d?d:1}}]:[]},e.prototype.isLabelEnabled=function(){return this.label.enabled},e.className="ScatterSeries",e.type="scatter",__decorate$1n([Validate(OPT_STRING)],e.prototype,"title",void 0),__decorate$1n([Validate(OPT_STRING)],e.prototype,"labelKey",void 0),__decorate$1n([Validate(STRING)],e.prototype,"xName",void 0),__decorate$1n([Validate(STRING)],e.prototype,"yName",void 0),__decorate$1n([Validate(OPT_STRING)],e.prototype,"sizeName",void 0),__decorate$1n([Validate(OPT_STRING)],e.prototype,"labelName",void 0),__decorate$1n([Validate(STRING)],e.prototype,"_xKey",void 0),__decorate$1n([Validate(STRING)],e.prototype,"_yKey",void 0),__decorate$1n([Validate(OPT_STRING)],e.prototype,"_sizeKey",void 0),e}(CartesianSeries);function isPointInSector(t,e,n){var i=Math.sqrt(Math.pow(t,2)+Math.pow(e,2)),o=n.innerRadius,r=n.outerRadius;if(i<Math.min(o,r)||i>Math.max(o,r))return!1;var s=Math.atan2(e,t);s<-Math.PI/2&&(s+=2*Math.PI);var a=n.startAngle,l=n.endAngle;return l===-Math.PI/2?s<a:a===3*Math.PI/2?s>l:s>=l&&s<=a}function lineCollidesSector(t,e){var n=e.startAngle,i=e.endAngle,o=e.innerRadius,r=e.outerRadius,s={x:r*Math.cos(n),y:r*Math.sin(n)},a={x:r*Math.cos(i),y:r*Math.sin(i)},l=0===o?{x:0,y:0}:{x:o*Math.cos(n),y:o*Math.sin(n)},c=0===o?{x:0,y:0}:{x:o*Math.cos(i),y:o*Math.sin(i)};return null!=segmentIntersection(t.start.x,t.start.y,t.end.x,t.end.y,s.x,s.y,l.x,l.y)||null!=segmentIntersection(t.start.x,t.start.y,t.end.x,t.end.y,a.x,a.y,c.x,c.y)||arcIntersections(0,0,r,n,i,!0,t.start.x,t.start.y,t.end.x,t.end.y).length>0}function boxCollidesSector(t,e){var n={x:t.x,y:t.y},i={x:t.x+t.width,y:t.y},o={x:t.x,y:t.y+t.height},r={x:t.x+t.width,y:t.y+t.height};return lineCollidesSector({start:n,end:i},e)||lineCollidesSector({start:o,end:r},e)}var __extends$1$=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$1m=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},Sector=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.centerX=0,e.centerY=0,e.innerRadius=10,e.outerRadius=20,e.startAngle=0,e.endAngle=2*Math.PI,e.angleOffset=0,e}return __extends$1$(e,t),e.prototype.computeBBox=function(){var t=this.outerRadius;return new BBox(this.centerX-t,this.centerY-t,2*t,2*t)},e.prototype.updatePath=function(){var t=this.path,e=this.angleOffset,n=Math.min(this.startAngle,this.endAngle)+e,i=Math.max(this.startAngle,this.endAngle)+e,o=Math.min(this.innerRadius,this.outerRadius),r=Math.max(this.innerRadius,this.outerRadius),s=isEqual$2(normalizeAngle360(this.startAngle),normalizeAngle360(this.endAngle)),a=this.centerX,l=this.centerY;t.clear(),s?(t.arc(a,l,r,n,i),o>0&&(t.moveTo(a+o*Math.cos(i),l+o*Math.sin(i)),t.arc(a,l,o,i,n,!0))):(t.moveTo(a+o*Math.cos(n),l+o*Math.sin(n)),t.arc(a,l,r,n,i),o>0?t.arc(a,l,o,i,n,!0):t.lineTo(a,l)),t.closePath(),this.dirtyPath=!1},e.prototype.isPointInPath=function(t,e){var n=this.angleOffset,i=this.startAngle+n,o=this.endAngle+n,r=Math.min(this.innerRadius,this.outerRadius),s=Math.max(this.innerRadius,this.outerRadius),a=this.transformPoint(t,e);return isPointInSector(a.x,a.y,{startAngle:i,endAngle:o,innerRadius:r,outerRadius:s})},e.className="Sector",__decorate$1m([ScenePathChangeDetection()],e.prototype,"centerX",void 0),__decorate$1m([ScenePathChangeDetection()],e.prototype,"centerY",void 0),__decorate$1m([ScenePathChangeDetection()],e.prototype,"innerRadius",void 0),__decorate$1m([ScenePathChangeDetection()],e.prototype,"outerRadius",void 0),__decorate$1m([ScenePathChangeDetection()],e.prototype,"startAngle",void 0),__decorate$1m([ScenePathChangeDetection()],e.prototype,"endAngle",void 0),__decorate$1m([ScenePathChangeDetection()],e.prototype,"angleOffset",void 0),e}(Path),__extends$1_=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__assign$v=function(){return __assign$v=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},__assign$v.apply(this,arguments)},__decorate$1l=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},__awaiter$2=function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function s(t){try{l(i.next(t))}catch(t){r(t)}}function a(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((i=i.apply(t,e||[])).next())}))},__generator$2=function(t,e){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(t){r=[6,t],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},__read$s=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},__spread$f=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$s(arguments[e]));return t},PieSeriesNodeBaseClickEvent=function(t){function e(e,n,i,o,r,s,a){var l=t.call(this,r,s,a)||this;return l.angleKey=e,l.calloutLabelKey=n,l.sectorLabelKey=i,l.radiusKey=o,l}return __extends$1_(e,t),__decorate$1l([DeprecatedAndRenamedTo("calloutLabelKey")],e.prototype,"labelKey",void 0),e}(SeriesNodeBaseClickEvent),PieSeriesNodeClickEvent=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="nodeClick",e}return __extends$1_(e,t),e}(PieSeriesNodeBaseClickEvent),PieSeriesNodeDoubleClickEvent=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="nodeDoubleClick",e}return __extends$1_(e,t),e}(PieSeriesNodeBaseClickEvent),PieNodeTag;!function(t){t[t.Sector=0]="Sector",t[t.Callout=1]="Callout",t[t.Label=2]="Label"}(PieNodeTag||(PieNodeTag={}));var PieSeriesCalloutLabel=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.offset=3,e.minAngle=0,e.formatter=void 0,e.minSpacing=4,e.maxCollisionOffset=50,e}return __extends$1_(e,t),__decorate$1l([Validate(NUMBER(0))],e.prototype,"offset",void 0),__decorate$1l([Validate(NUMBER(0))],e.prototype,"minAngle",void 0),__decorate$1l([Validate(OPT_FUNCTION)],e.prototype,"formatter",void 0),__decorate$1l([Validate(NUMBER(0))],e.prototype,"minSpacing",void 0),__decorate$1l([Validate(NUMBER(0))],e.prototype,"maxCollisionOffset",void 0),e}(Label$1),PieSeriesSectorLabel=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.positionOffset=0,e.positionRatio=.5,e.formatter=void 0,e}return __extends$1_(e,t),__decorate$1l([Validate(NUMBER())],e.prototype,"positionOffset",void 0),__decorate$1l([Validate(NUMBER(0,1))],e.prototype,"positionRatio",void 0),__decorate$1l([Validate(OPT_FUNCTION)],e.prototype,"formatter",void 0),e}(Label$1),PieSeriesCalloutLine=function(){function t(){this.colors=void 0,this.length=10,this.strokeWidth=1}return __decorate$1l([Validate(OPT_COLOR_STRING_ARRAY)],t.prototype,"colors",void 0),__decorate$1l([Validate(NUMBER(0))],t.prototype,"length",void 0),__decorate$1l([Validate(NUMBER(0))],t.prototype,"strokeWidth",void 0),t}(),PieSeriesTooltip=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.renderer=void 0,e}return __extends$1_(e,t),__decorate$1l([Validate(OPT_FUNCTION)],e.prototype,"renderer",void 0),e}(SeriesTooltip),PieTitle=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.showInLegend=!1,e}return __extends$1_(e,t),__decorate$1l([Validate(BOOLEAN)],e.prototype,"showInLegend",void 0),e}(Caption),DoughnutInnerLabel=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.text="",e.margin=2,e}return __extends$1_(e,t),__decorate$1l([Validate(STRING)],e.prototype,"text",void 0),__decorate$1l([Validate(NUMBER())],e.prototype,"margin",void 0),e}(Label$1),DoughnutInnerCircle=function(){function t(){this.fill="transparent",this.fillOpacity=1}return __decorate$1l([Validate(COLOR_STRING)],t.prototype,"fill",void 0),__decorate$1l([Validate(OPT_NUMBER(0,1))],t.prototype,"fillOpacity",void 0),t}(),PieSeries=function(t){function e(){var e,n=t.call(this,{useLabelLayer:!0})||this;n.radiusScale=new LinearScale$1,n.groupSelection=Selection.select(n.contentGroup,Group),n.highlightSelection=Selection.select(n.highlightGroup,Group),n.groupSelectionData=[],n.sectorFormatData=[],n.angleScale=((e=new LinearScale$1).domain=[0,1],e.range=[-Math.PI,Math.PI].map((function(t){return t+Math.PI/2})),e),n.seriesItemEnabled=[],n.calloutLabel=new PieSeriesCalloutLabel,n.label=n.calloutLabel,n.sectorLabel=new PieSeriesSectorLabel,n.calloutLine=new PieSeriesCalloutLine,n.callout=n.calloutLine,n.tooltip=new PieSeriesTooltip,n.angleKey="",n.angleName="",n.innerLabels=[],n.radiusKey=void 0,n.radiusName=void 0,n.radiusMin=void 0,n.radiusMax=void 0,n.calloutLabelKey=void 0,n.calloutLabelName=void 0,n.labelKey=void 0,n.labelName=void 0,n.sectorLabelKey=void 0,n.sectorLabelName=void 0,n.legendItemKey=void 0,n.fills=["#c16068","#a2bf8a","#ebcc87","#80a0c3","#b58dae","#85c0d1"],n.strokes=["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"],n.fillOpacity=1,n.strokeOpacity=1,n.lineDash=[0],n.lineDashOffset=0,n.formatter=void 0,n.rotation=0,n.outerRadiusOffset=0,n.outerRadiusRatio=1,n.innerRadiusOffset=0,n.innerRadiusRatio=1,n.strokeWidth=1,n.shadow=void 0,n.highlightStyle=new HighlightStyle,n.datumSectorRefs=new WeakMap,n.backgroundGroup=n.rootGroup.appendChild(new Group({name:n.id+"-background",layer:!0,zIndex:Layers.SERIES_BACKGROUND_ZINDEX}));var i=new Group({name:"pieCalloutLabels"}),o=new Group({name:"pieSectorLabels"}),r=new Group({name:"innerLabels"});return n.labelGroup.append(i),n.labelGroup.append(o),n.labelGroup.append(r),n.calloutLabelSelection=Selection.select(i,Group),n.sectorLabelSelection=Selection.select(o,Text),n.innerLabelsSelection=Selection.select(r,Text),n}return __extends$1_(e,t),Object.defineProperty(e.prototype,"title",{get:function(){return this._title},set:function(t){var e,n,i=this._title;i!==t&&(i&&(null===(e=this.labelGroup)||void 0===e||e.removeChild(i.node)),t&&(t.node.textBaseline="bottom",null===(n=this.labelGroup)||void 0===n||n.appendChild(t.node)),this._title=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return this._data},set:function(t){this._data=t,this.processSeriesItemEnabled()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"innerCircle",{get:function(){return this._innerCircleConfig},set:function(t){var e;if(this._innerCircleConfig!==t){var n=this._innerCircleNode,i=void 0;n&&this.backgroundGroup.removeChild(n),t&&((i=new Circle).fill=t.fill,i.fillOpacity=null!==(e=t.fillOpacity)&&void 0!==e?e:1,this.backgroundGroup.appendChild(i)),this._innerCircleConfig=t,this._innerCircleNode=i}},enumerable:!1,configurable:!0}),e.prototype.visibleChanged=function(){this.processSeriesItemEnabled()},e.prototype.processSeriesItemEnabled=function(){var t=this.data,e=this.visible;this.seriesItemEnabled=(null==t?void 0:t.map((function(){return e})))||[]},e.prototype.getDomain=function(t){return t===ChartAxisDirection.X?this.angleScale.domain:this.radiusScale.domain},e.prototype.processData=function(){return __awaiter$2(this,void 0,void 0,(function(){var t,e,n,i,o,r,s,a,l,c,u,h,d,p,f,g,m,_,y,v,C,b,E,S,w,O,x,P,T,M,D,R,A,L,I,k=this;return __generator$2(this,(function(N){var F;return e=(t=this).angleKey,n=t.radiusKey,i=t.seriesItemEnabled,o=t.angleScale,r=t.groupSelectionData,s=t.sectorFormatData,a=t.calloutLabel,l=t.sectorLabel,c=t.id,u=e&&this.data?this.data:[],h=u.map((function(t,n){return i[n]&&Math.abs(+t[e])||0})),d=h.reduce((function(t,e){return t+e}),0),F=0,p=h.map((function(t){return F+=t/d})),f=a.formatter,g=a.enabled?this.calloutLabelKey:void 0,m=l.enabled?this.sectorLabelKey:void 0,_=[],y=[],v=[],C=function(t){return{datum:t,angleKey:e,angleValue:t[e],angleName:k.angleName,radiusKey:n,radiusValue:n?t[n]:void 0,radiusName:k.radiusName,labelKey:g,labelValue:g?t[g]:void 0,labelName:k.calloutLabelName,calloutLabelKey:g,calloutLabelValue:g?t[g]:void 0,calloutLabelName:k.calloutLabelName,sectorLabelKey:m,sectorLabelValue:m?t[m]:void 0,sectorLabelName:k.sectorLabelName,seriesId:c}},g&&(f?(b=function(){return Logger.warnOnce("the use of { value } in the pie chart label formatter function is deprecated. Please use { datum, labelKey, ... } instead.")},_=u.map((function(t){var e=t[g],n=__assign$v(__assign$v({},C(t)),{get value(){return b(),e},set value(t){b(),e=t}});return f(n)}))):_=u.map((function(t){return String(t[g])}))),E=l.formatter,m&&(y=E?u.map((function(t){var e=C(t);return E(e)})):u.map((function(t){return String(t[m])}))),n&&(w=(S=this).radiusMin,O=S.radiusMax,x=u.map((function(t){return Math.abs(t[n])})),P=null!=w?w:0,T=O||Math.max.apply(Math,__spread$f(x)),M=T-P,v=x.map((function(t){return M?(t-P)/M:1}))),r.length=0,s.length=0,s.push.apply(s,__spread$f(u.map((function(t,e){return k.getSectorFormat(t,e,e,!1)})))),D=toRadians$1(this.rotation),R=Math.PI/2,A=0,L=[{textAlign:"center",textBaseline:"bottom"},{textAlign:"left",textBaseline:"middle"},{textAlign:"center",textBaseline:"hanging"},{textAlign:"right",textBaseline:"middle"}],I=0,p.forEach((function(t){if(!isNaN(t)){var e=n?v[A]:1,i=o.convert(t)+D,l=o.convert(I)+D,c=(i+l)/2,h=Math.abs(l-i),d=Math.cos(c),p=Math.sin(c),f=toRadians$1(a.minAngle),C=g&&h>f,b=normalizeAngle180(c)- -3*Math.PI/4,E=mod(Math.floor(b/R),L.length),S=L[E],w=S.textAlign,O=S.textBaseline,x=u[A],P=A;r.push({series:k,datum:x,itemId:P,index:A,radius:e,startAngle:i,endAngle:l,midAngle:c,midCos:d,midSin:p,calloutLabel:C?{text:_[A],textAlign:w,textBaseline:O,hidden:!1,collisionTextAlign:void 0,collisionOffsetY:0,box:void 0}:void 0,sectorLabel:m?{text:y[A]}:void 0,sectorFormat:s[A]}),A++,I=t}})),[2]}))}))},e.prototype.getSectorFormat=function(t,e,n,i){var o,r,s,a,l,c,u=this,h=u.angleKey,d=u.radiusKey,p=u.fills,f=u.strokes,g=u.fillOpacity,m=u.formatter,_=u.id,y=null===(o=this.highlightManager)||void 0===o?void 0:o.getActiveHighlight(),v=i&&(null==y?void 0:y.series)===this&&e===y.itemId,C=v?this.highlightStyle.item:null,b=(null==C?void 0:C.fill)||p[n%p.length],E=null!==(r=null==C?void 0:C.fillOpacity)&&void 0!==r?r:g,S=(null==C?void 0:C.stroke)||f[n%f.length],w=null!==(s=null==C?void 0:C.strokeWidth)&&void 0!==s?s:this.getStrokeWidth(this.strokeWidth);return m&&(c=m({datum:t,angleKey:h,radiusKey:d,fill:b,stroke:S,strokeWidth:w,highlighted:v,seriesId:_})),{fill:(null==c?void 0:c.fill)||b,fillOpacity:null!==(a=null==c?void 0:c.fillOpacity)&&void 0!==a?a:E,stroke:(null==c?void 0:c.stroke)||S,strokeWidth:null!==(l=null==c?void 0:c.strokeWidth)&&void 0!==l?l:w}},e.prototype.createNodeData=function(){return __awaiter$2(this,void 0,void 0,(function(){return __generator$2(this,(function(t){return[2,[]]}))}))},e.prototype.getInnerRadius=function(){var t=this,e=t.radius,n=t.innerRadiusRatio,i=t.innerRadiusOffset,o=e*(null!=n?n:1)+(i||0);return o===e||o<0?0:o},e.prototype.getOuterRadius=function(){var t=this,e=t.radius,n=t.outerRadiusRatio,i=t.outerRadiusOffset,o=e*(null!=n?n:1)+(i||0);return o<0?0:o},e.prototype.updateRadiusScale=function(){var t=this.getInnerRadius(),e=this.getOuterRadius();this.radiusScale.range=[t,e]},e.prototype.getTitleTranslationY=function(){var t,e,n=Math.max(0,this.radiusScale.range[1]);if(0===n)return NaN;var i=2+(null!==(e=null===(t=this.title)||void 0===t?void 0:t.spacing)&&void 0!==e?e:0),o=Math.min.apply(Math,__spread$f([0],this.groupSelectionData.map((function(t){var e,n;return(null===(n=null===(e=t.calloutLabel)||void 0===e?void 0:e.box)||void 0===n?void 0:n.y)||0}))));return-n-i-Math.max(0,-n-o)},e.prototype.update=function(){return __awaiter$2(this,void 0,void 0,(function(){var t,e;return __generator$2(this,(function(n){switch(n.label){case 0:return t=this.title,this.updateRadiusScale(),this.rootGroup.translationX=this.centerX,this.rootGroup.translationY=this.centerY,t&&(e=this.getTitleTranslationY(),isFinite(e)?(t.node.visible=t.enabled,t.node.translationY=e):t.node.visible=!1),this.updateNodeMidPoint(),[4,this.updateSelections()];case 1:return n.sent(),[4,this.updateNodes()];case 2:return n.sent(),[2]}}))}))},e.prototype.updateNodeMidPoint=function(){var t=this;this.groupSelectionData.forEach((function(e){var n=t.radiusScale.convert(e.radius);e.nodeMidPoint={x:e.midCos*Math.max(0,n/2),y:e.midSin*Math.max(0,n/2)}}))},e.prototype.updateSelections=function(){return __awaiter$2(this,void 0,void 0,(function(){return __generator$2(this,(function(t){switch(t.label){case 0:return[4,this.updateGroupSelection()];case 1:return t.sent(),[2]}}))}))},e.prototype.updateGroupSelection=function(){return __awaiter$2(this,void 0,void 0,(function(){var t,e,n,i,o,r,s,a=this;return __generator$2(this,(function(l){return e=(t=this).groupSelection,n=t.highlightSelection,i=t.calloutLabelSelection,o=t.sectorLabelSelection,r=t.innerLabelsSelection,s=function(t){return t.update(a.groupSelectionData,(function(t){var e=new Sector;e.tag=PieNodeTag.Sector,t.appendChild(e)}))},this.groupSelection=s(e),this.highlightSelection=s(n),i.update(this.groupSelectionData,(function(t){var e=new Line;e.tag=PieNodeTag.Callout,e.pointerEvents=PointerEvents.None,t.appendChild(e);var n=new Text;n.tag=PieNodeTag.Label,n.pointerEvents=PointerEvents.None,t.appendChild(n)})),o.update(this.groupSelectionData,(function(t){t.pointerEvents=PointerEvents.None})),r.update(this.innerLabels,(function(t){t.pointerEvents=PointerEvents.None})),[2]}))}))},e.prototype.updateNodes=function(){var t;return __awaiter$2(this,void 0,void 0,(function(){var e,n,i,o,r,s=this;return __generator$2(this,(function(a){return e=null===(t=this.highlightManager)||void 0===t?void 0:t.getActiveHighlight(),n=this.seriesItemEnabled.indexOf(!0)>=0,this.rootGroup.visible=n,this.backgroundGroup.visible=n,this.contentGroup.visible=n,this.highlightGroup.visible=n&&(null==e?void 0:e.series)===this,this.labelGroup.visible=n,this.contentGroup.opacity=this.getOpacity(),this.updateInnerCircle(),i=this.radiusScale,o=i.convert(0),r=function(t,e,n,r){var a=i.convert(e.radius),l=t.parent,c=null==l?void 0:l.parent;r&&l&&c&&(c.removeChild(l),c.appendChild(l)),t.innerRadius=Math.max(0,o),t.outerRadius=Math.max(0,a),t.startAngle=e.startAngle,t.endAngle=e.endAngle;var u=s.getSectorFormat(e.datum,e.itemId,n,r);t.fill=u.fill,t.stroke=u.stroke,t.strokeWidth=u.strokeWidth,t.fillOpacity=u.fillOpacity,t.strokeOpacity=s.strokeOpacity,t.lineDash=s.lineDash,t.lineDashOffset=s.lineDashOffset,t.fillShadow=s.shadow,t.lineJoin="round",t.visible=s.seriesItemEnabled[n],s.datumSectorRefs.set(e,t)},this.groupSelection.selectByTag(PieNodeTag.Sector).forEach((function(t,e){return r(t,t.datum,e,!1)})),this.highlightSelection.selectByTag(PieNodeTag.Sector).forEach((function(t,n){var i=(null==e?void 0:e.series)===s&&t.datum.itemId===e.itemId;t.visible=i,t.visible&&r(t,t.datum,n,i)})),this.updateCalloutLineNodes(),this.updateCalloutLabelNodes(),this.updateSectorLabelNodes(),this.updateInnerLabelNodes(),[2]}))}))},e.prototype.updateCalloutLineNodes=function(){var t=this.radiusScale,e=this.calloutLine,n=e.length,i=e.strokeWidth,o=e.colors||this.strokes,r=this.calloutLabel.offset;this.calloutLabelSelection.selectByTag(PieNodeTag.Callout).forEach((function(e,s){var a=e.datum,l=t.convert(a.radius),c=Math.max(0,l),u=a.calloutLabel;if(u&&u.text&&!u.hidden&&0!==c){e.visible=!0,e.strokeWidth=i,e.stroke=o[s%o.length],e.fill=void 0;var h=a.midCos*c,d=a.midSin*c,p=a.midCos*(c+n),f=a.midSin*(c+n);if(u.collisionTextAlign||0!==u.collisionOffsetY){var g=u.box,m=(p<g.x?g.x:p>g.x+g.width?g.x+g.width:p)-p,_=(f<g.y?g.y:f>g.y+g.height?g.y+g.height:f)-f,y=Math.sqrt(Math.pow(m,2)+Math.pow(_,2)),v=y-r;v>0&&(p+=m*v/y,f+=_*v/y)}e.x1=h,e.y1=d,e.x2=p,e.y2=f}else e.visible=!1}))},e.prototype.getLabelOverflow=function(t,e){var n=this.chart.getSeriesRect(),i=n.x-this.centerX,o=n.x+n.width-this.centerX,r=n.y-this.centerY,s=n.y+n.height-this.centerY,a=1;e.x+1<i?a=(e.x+e.width-i)/e.width:e.x+e.width-1>o&&(a=(o-e.x)/e.width);var l=e.y+1<r||e.y+e.height-1>s;return{visibleTextPart:a,textLength:Math.floor(t.length*a)-1,hasVerticalOverflow:l}},e.prototype.computeCalloutLabelCollisionOffsets=function(){var t=this,e=this,n=e.radiusScale,i=e.calloutLabel,o=e.calloutLine,r=i.offset,s=i.minSpacing,a=n.convert(0),l=this.groupSelectionData,c=this.groupSelectionData.filter((function(t){return i=(e=t).calloutLabel,o=n.convert(e.radius),r=Math.max(0,o),!(!i||0===r);var e,i,o,r}));if(c.forEach((function(t){var e=t.calloutLabel;e.hidden=!1,e.collisionTextAlign=void 0,e.collisionOffsetY=0})),!(c.length<=1)){var u=c.filter((function(t){return t.midCos<0})).sort((function(t,e){return t.midSin-e.midSin})),h=c.filter((function(t){return t.midCos>=0})).sort((function(t,e){return t.midSin-e.midSin})),d=c.filter((function(t){return t.midSin<0&&"center"===t.calloutLabel.textAlign})).sort((function(t,e){return t.midCos-e.midCos})),p=c.filter((function(t){return t.midSin>=0&&"center"===t.calloutLabel.textAlign})).sort((function(t,e){return t.midCos-e.midCos})),f=new Text,g=function(e){var i=e.calloutLabel,s=n.convert(e.radius),a=Math.max(0,s)+o.length+r,l=e.midCos*a,c=e.midSin*a+i.collisionOffsetY;return t.setTextDimensionalProps(f,l,c,t.calloutLabel,i),f.computeBBox()},m=function(t,e,n){var i=g(t).grow(s/2),o=g(e).grow(s/2);if(i.x<o.x+o.width&&i.x+i.width>o.x&&("to-top"===n?i.y<o.y+o.height:i.y+i.height>o.y)){var r="to-top"===n?i.y-o.y-o.height:i.y+i.height-o.y;e.calloutLabel.collisionOffsetY=r}},_=function(t){for(var e=t.slice().sort((function(t,e){return Math.abs(t.midSin)-Math.abs(e.midSin)}))[0],n=t.indexOf(e),i=n-1;i>=0;i--){var o=t[i+1],r=t[i];m(o,r,"to-top")}for(i=n+1;i<t.length;i++){o=t[i-1],r=t[i];m(o,r,"to-bottom")}},y=function(t){var e=c.some((function(t){return 0!==t.calloutLabel.collisionOffsetY})),i=t.map((function(t){return g(t)})),o=i.map((function(t){return t.clone().grow(s/2)})),r=!1;t:for(var u=0;u<o.length;u++)for(var h=o[u],d=u+1;d<t.length;d++){var p=o[d];if(h.collidesBBox(p)){r=!0;break t}}var f=l.map((function(t){var e=t.startAngle,i=t.endAngle,o=n.convert(t.radius),r=Math.max(0,o);return{startAngle:e,endAngle:i,innerRadius:a,outerRadius:r}})),m=i.some((function(t){return f.some((function(e){return boxCollidesSector(t,e)}))}));(r||e||m)&&t.filter((function(t){return"center"===t.calloutLabel.textAlign})).forEach((function(t){t.calloutLabel.collisionTextAlign=t.midCos<0?"right":t.midCos>0?"left":"center"}))};_(u),_(h),y(d),y(p)}},e.prototype.updateCalloutLabelNodes=function(){var t=this,e=this,n=e.radiusScale,i=e.calloutLabel,o=e.calloutLine.length,r=i.offset,s=i.color,a=new Text;this.calloutLabelSelection.selectByTag(PieNodeTag.Label).forEach((function(e){var i=e.datum,l=i.calloutLabel,c=n.convert(i.radius),u=Math.max(0,c);if(l&&l.text&&0!==u&&!l.hidden){var h=u+o+r,d=i.midCos*h,p=i.midSin*h+l.collisionOffsetY;t.setTextDimensionalProps(a,d,p,t.calloutLabel,l);var f=a.computeBBox(),g=t.getLabelOverflow(l.text,f),m=g.visibleTextPart,_=g.textLength,y=g.hasVerticalOverflow,v=1===m?l.text:l.text.substring(0,_)+"";t.setTextDimensionalProps(e,d,p,t.calloutLabel,__assign$v(__assign$v({},l),{text:v})),e.fill=s,e.visible=!y}else e.visible=!1}))},e.prototype.computeLabelsBBox=function(t){var e=this,n=this,i=n.radiusScale,o=n.calloutLabel,r=n.calloutLine.length,s=o.offset,a=o.maxCollisionOffset;this.updateRadiusScale(),this.computeCalloutLabelCollisionOffsets();var l=new Text,c=this.groupSelectionData.map((function(n){var o=n.calloutLabel,c=i.convert(n.radius),u=Math.max(0,c);if(!o||0===u)return null;var h=u+r+s,d=n.midCos*h,p=n.midSin*h+o.collisionOffsetY;e.setTextDimensionalProps(l,d,p,e.calloutLabel,o);var f=l.computeBBox();if(o.box=f,Math.abs(o.collisionOffsetY)>a)return o.hidden=!0,null;if(t.hideWhenNecessary){var g=e.getLabelOverflow(o.text,f),m=g.textLength,_=g.hasVerticalOverflow,y=o.text.length>2&&m<2;if(_||y)return o.hidden=!0,null}return o.hidden=!1,f})).filter((function(t){return null!=t}));if(this.title&&this.title.text){var u=this.getTitleTranslationY();if(isFinite(u)){this.setTextDimensionalProps(l,0,u,this.title,{text:this.title.text,textBaseline:"bottom",textAlign:"center",hidden:!1,collisionTextAlign:void 0,collisionOffsetY:0});var h=l.computeBBox();c.push(h)}}return 0===c.length?null:BBox.merge(c)},e.prototype.setTextDimensionalProps=function(t,e,n,i,o){var r=i.fontStyle,s=i.fontWeight,a=i.fontSize,l=i.fontFamily;t.fontStyle=r,t.fontWeight=s,t.fontSize=a,t.fontFamily=l,t.text=o.text,t.x=e,t.y=n,t.textAlign=o.collisionTextAlign||o.textAlign,t.textBaseline=o.textBaseline},e.prototype.updateSectorLabelNodes=function(){var t=this,e=this.radiusScale,n=e.convert(0),i=this.sectorLabel,o=i.fontSize,r=i.fontStyle,s=i.fontWeight,a=i.fontFamily,l=i.positionOffset,c=i.positionRatio,u=i.color,h=n>0,d=1===this.seriesItemEnabled.filter(Boolean).length;this.sectorLabelSelection.each((function(i,p){var f=p.sectorLabel,g=e.convert(p.radius),m=Math.max(0,g),_=!1;if(f&&0!==m){var y=n*(1-c)+g*c+l;if(i.fill=u,i.fontStyle=r,i.fontWeight=s,i.fontSize=o,i.fontFamily=a,i.text=f.text,!h&&d?(i.x=0,i.y=0):(i.x=p.midCos*y,i.y=p.midSin*y),i.textAlign="center",i.textBaseline="middle",t.datumSectorRefs.get(p)){var v=i.computeBBox(),C=[[v.x,v.y],[v.x+v.width,v.y],[v.x+v.width,v.y+v.height],[v.x,v.y+v.height]],b={startAngle:p.startAngle,endAngle:p.endAngle,innerRadius:n,outerRadius:m};C.every((function(t){var e=__read$s(t,2);return isPointInSector(e[0],e[1],b)}))&&(_=!0)}}i.visible=_}))},e.prototype.updateInnerCircle=function(){var t=this._innerCircleNode;if(t){var e=this.getInnerRadius();if(0===e)t.size=0;else{var n=Math.min(e,this.getOuterRadius());t.size=Math.ceil(2*n+1)}}},e.prototype.updateInnerLabelNodes=function(){var t=[],e=[];this.innerLabelsSelection.each((function(n,i){var o=i.fontStyle,r=i.fontWeight,s=i.fontSize,a=i.fontFamily,l=i.color;n.fontStyle=o,n.fontWeight=r,n.fontSize=s,n.fontFamily=a,n.text=i.text,n.x=0,n.y=0,n.fill=l,n.textAlign="center",n.textBaseline="alphabetic",t.push(n.computeBBox()),e.push(i.margin)}));for(var n=function(t){return 0===t?0:e[t]},i=function(t){return t===e.length-1?0:e[t]},o=t.reduce((function(t,e,o){return t+e.height+n(o)+i(o)}),0),r=Math.max.apply(Math,__spread$f(t.map((function(t){return t.width})))),s=this.getInnerRadius(),a=Math.sqrt(Math.pow(r/2,2)+Math.pow(o/2,2))<=(s>0?s:this.getOuterRadius()),l=[],c=0,u=-o/2;c<t.length;c++){var h=t[c].height+u+n(c);l.push(h),u=h+i(c)}this.innerLabelsSelection.each((function(t,e,n){t.y=l[n],t.visible=a}))},e.prototype.getNodeClickEvent=function(t,e){return new PieSeriesNodeClickEvent(this.angleKey,this.calloutLabelKey,this.sectorLabelKey,this.radiusKey,t,e,this)},e.prototype.getNodeDoubleClickEvent=function(t,e){return new PieSeriesNodeDoubleClickEvent(this.angleKey,this.calloutLabelKey,this.sectorLabelKey,this.radiusKey,t,e,this)},e.prototype.getTooltipHtml=function(t){var e=this.angleKey;if(!e)return"";var n=this,i=n.tooltip,o=n.angleName,r=n.radiusKey,s=n.radiusName,a=n.calloutLabelKey,l=n.sectorLabelKey,c=n.calloutLabelName,u=n.sectorLabelName,h=n.id,d=i.renderer,p=t.sectorFormat.fill,f=t.datum,g=a?f[a]+": ":"",m=f[e],_="number"==typeof m?toFixed(m):m.toString(),y=this.title?this.title.text:void 0,v={title:y,backgroundColor:p,content:g+_};return d?toTooltipHtml$1(d({datum:f,angleKey:e,angleValue:m,angleName:o,radiusKey:r,radiusValue:r?f[r]:void 0,radiusName:s,labelKey:a,labelName:c,calloutLabelKey:a,calloutLabelName:c,sectorLabelKey:l,sectorLabelName:u,title:y,color:p,seriesId:h}),v):toTooltipHtml$1(v)},e.prototype.getLegendData=function(){var t=this,e=this,n=e.calloutLabelKey,i=e.legendItemKey,o=e.data,r=e.id,s=e.sectorFormatData;if(!o||0===o.length||!i&&!n)return[];var a=this.title&&this.title.showInLegend&&this.title.text;return o.map((function(e,o){var l=[];return a&&l.push(a),i?l.push(String(e[i])):n&&l.push(String(e[n])),{id:r,itemId:o,seriesId:r,enabled:t.seriesItemEnabled[o],label:{text:l.join(" - ")},marker:{fill:s[o].fill,stroke:s[o].stroke,fillOpacity:t.fillOpacity,strokeOpacity:t.strokeOpacity}}}))},e.prototype.toggleSeriesItem=function(t,e){this.seriesItemEnabled[t]=e,this.nodeDataRefresh=!0},e.prototype.toggleOtherSeriesItems=function(t,e,n,i){var o,r,s=this,a=this.legendItemKey;if("pie"===t.type&&void 0!==a){var l=t,c=e&&l.legendItemKey&&(null===(o=l.data)||void 0===o?void 0:o.find((function(t,n){return n===e.itemId}))[l.legendItemKey]);c&&(null===(r=this.data)||void 0===r||r.forEach((function(t,e){void 0!==n&&t[a]===c?s.toggleSeriesItem(e,n):void 0!==i&&s.toggleSeriesItem(e,i||t[a]===c)})))}},e.className="PieSeries",e.type="pie",__decorate$1l([DeprecatedAndRenamedTo("calloutLabel")],e.prototype,"label",void 0),__decorate$1l([DeprecatedAndRenamedTo("calloutLine")],e.prototype,"callout",void 0),__decorate$1l([Validate(STRING)],e.prototype,"angleKey",void 0),__decorate$1l([Validate(STRING)],e.prototype,"angleName",void 0),__decorate$1l([Validate(OPT_STRING)],e.prototype,"radiusKey",void 0),__decorate$1l([Validate(OPT_STRING)],e.prototype,"radiusName",void 0),__decorate$1l([Validate(OPT_NUMBER(0))],e.prototype,"radiusMin",void 0),__decorate$1l([Validate(OPT_NUMBER(0))],e.prototype,"radiusMax",void 0),__decorate$1l([Validate(OPT_STRING)],e.prototype,"calloutLabelKey",void 0),__decorate$1l([Validate(OPT_STRING)],e.prototype,"calloutLabelName",void 0),__decorate$1l([DeprecatedAndRenamedTo("calloutLabelKey")],e.prototype,"labelKey",void 0),__decorate$1l([DeprecatedAndRenamedTo("calloutLabelName")],e.prototype,"labelName",void 0),__decorate$1l([Validate(OPT_STRING)],e.prototype,"sectorLabelKey",void 0),__decorate$1l([Validate(OPT_STRING)],e.prototype,"sectorLabelName",void 0),__decorate$1l([Validate(OPT_STRING)],e.prototype,"legendItemKey",void 0),__decorate$1l([Validate(COLOR_STRING_ARRAY)],e.prototype,"fills",void 0),__decorate$1l([Validate(COLOR_STRING_ARRAY)],e.prototype,"strokes",void 0),__decorate$1l([Validate(NUMBER(0,1))],e.prototype,"fillOpacity",void 0),__decorate$1l([Validate(NUMBER(0,1))],e.prototype,"strokeOpacity",void 0),__decorate$1l([Validate(OPT_LINE_DASH)],e.prototype,"lineDash",void 0),__decorate$1l([Validate(NUMBER(0))],e.prototype,"lineDashOffset",void 0),__decorate$1l([Validate(OPT_FUNCTION)],e.prototype,"formatter",void 0),__decorate$1l([Validate(NUMBER(-360,360))],e.prototype,"rotation",void 0),__decorate$1l([Validate(NUMBER())],e.prototype,"outerRadiusOffset",void 0),__decorate$1l([Validate(NUMBER(0))],e.prototype,"outerRadiusRatio",void 0),__decorate$1l([Validate(NUMBER())],e.prototype,"innerRadiusOffset",void 0),__decorate$1l([Validate(NUMBER(0))],e.prototype,"innerRadiusRatio",void 0),__decorate$1l([Validate(NUMBER(0))],e.prototype,"strokeWidth",void 0),e}(PolarSeries),__extends$1Z=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),HierarchySeries=function(t){function e(){return t.call(this,{pickModes:[SeriesNodePickMode.EXACT_SHAPE_MATCH]})||this}return __extends$1Z(e,t),e.prototype.getLabelData=function(){return[]},e}(Series),__extends$1Y=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$1k=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},DropShadow=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.enabled=!0,e.color="rgba(0, 0, 0, 0.5)",e.xOffset=0,e.yOffset=0,e.blur=5,e}return __extends$1Y(e,t),__decorate$1k([Validate(BOOLEAN),SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"enabled",void 0),__decorate$1k([Validate(COLOR_STRING),SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"color",void 0),__decorate$1k([Validate(NUMBER()),SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"xOffset",void 0),__decorate$1k([Validate(NUMBER()),SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"yOffset",void 0),__decorate$1k([Validate(NUMBER(0)),SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"blur",void 0),e}(ChangeDetectable);function number(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function interpolateColor(t,e){if("string"==typeof t)try{t=Color.fromString(t)}catch(e){t=Color.fromArray([0,0,0])}if("string"==typeof e)try{e=Color.fromString(e)}catch(t){e=Color.fromArray([0,0,0])}var n=number(t.r,e.r),i=number(t.g,e.g),o=number(t.b,e.b),r=number(t.a,e.a);return function(t){return Color.fromArray([n(t),i(t),o(t),r(t)]).toRgbaString()}}var ColorScale=function(){function t(){this.domain=[0,1],this._range=["red","green"],this.parsedRange=this._range.map((function(t){return Color.fromString(t)}))}return Object.defineProperty(t.prototype,"range",{get:function(){return this._range},set:function(t){this._range=t,this.parsedRange=t.map((function(t){return Color.fromString(t)}))},enumerable:!1,configurable:!0}),t.prototype.convert=function(t){var e,n,i=this,o=i.domain,r=i.range,s=i.parsedRange,a=o[0],l=o[o.length-1],c=r[0],u=r[r.length-1];if(t<=a)return c;if(t>=l)return u;if(2===o.length){var h=(t-a)/(l-a),d=1/(r.length-1);n=(h-(e=r.length<=2?0:Math.min(Math.floor(h*(r.length-1)),r.length-2))*d)/d}else{for(e=0;e<o.length-2&&!(t<o[e+1]);e++);var p=o[e];n=(t-p)/(o[e+1]-p)}return interpolateColor(s[e],s[e+1])(n)},t}(),__extends$1X=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__assign$u=function(){return __assign$u=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},__assign$u.apply(this,arguments)},__decorate$1j=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},__awaiter$1=function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function s(t){try{l(i.next(t))}catch(t){r(t)}}function a(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((i=i.apply(t,e||[])).next())}))},__generator$1=function(t,e){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(t){r=[6,t],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},TreemapSeriesTooltip=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.renderer=void 0,e}return __extends$1X(e,t),__decorate$1j([Validate(OPT_FUNCTION)],e.prototype,"renderer",void 0),e}(SeriesTooltip),TreemapSeriesNodeBaseClickEvent=function(t){function e(e,n,i,o,r,s){var a=t.call(this,o,r,s)||this;return a.labelKey=e,a.sizeKey=n,a.colorKey=i,a}return __extends$1X(e,t),e}(SeriesNodeBaseClickEvent),TreemapSeriesNodeClickEvent=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="nodeClick",e}return __extends$1X(e,t),e}(TreemapSeriesNodeBaseClickEvent),TreemapSeriesNodeDoubleClickEvent=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="nodeDoubleClick",e}return __extends$1X(e,t),e}(TreemapSeriesNodeBaseClickEvent),TreemapSeriesLabel=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.padding=10,e}return __extends$1X(e,t),__decorate$1j([Validate(NUMBER(0))],e.prototype,"padding",void 0),e}(Label$1),TreemapValueLabel=function(){function t(){var t;this.style=((t=new Label$1).color="white",t)}return __decorate$1j([Validate(OPT_STRING)],t.prototype,"key",void 0),__decorate$1j([Validate(OPT_STRING)],t.prototype,"name",void 0),__decorate$1j([Validate(OPT_FUNCTION)],t.prototype,"formatter",void 0),t}(),TextNodeTag;function getTextSize(t,e){return HdpiCanvas.getTextSize(t,[e.fontWeight,e.fontSize+"px",e.fontFamily].join(" "))}function validateColor(t){if("string"==typeof t&&!Color.validColorString(t)){return Logger.warnOnce('invalid Treemap tile colour string "'+t+'". Affected treemap tiles will be coloured black.'),"black"}return t}!function(t){t[t.Name=0]="Name",t[t.Value=1]="Value"}(TextNodeTag||(TextNodeTag={}));var TreemapTextHighlightStyle=function(){function t(){this.color="black"}return __decorate$1j([Validate(OPT_COLOR_STRING)],t.prototype,"color",void 0),t}(),TreemapHighlightStyle=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.text=new TreemapTextHighlightStyle,e}return __extends$1X(e,t),e}(HighlightStyle),TreemapSeries=function(t){function e(){var e,n=null!==t&&t.apply(this,arguments)||this;return n.groupSelection=Selection.select(n.contentGroup,Group),n.highlightSelection=Selection.select(n.highlightGroup,Group),n.title=((e=new TreemapSeriesLabel).color="white",e.fontWeight="bold",e.fontSize=12,e.fontFamily="Verdana, sans-serif",e.padding=15,e),n.subtitle=function(){var t=new TreemapSeriesLabel;return t.color="white",t.fontSize=9,t.fontFamily="Verdana, sans-serif",t.padding=13,t}(),n.labels={large:function(){var t=new Label$1;return t.color="white",t.fontWeight="bold",t.fontSize=18,t}(),medium:function(){var t=new Label$1;return t.color="white",t.fontWeight="bold",t.fontSize=14,t}(),small:function(){var t=new Label$1;return t.color="white",t.fontWeight="bold",t.fontSize=10,t}(),value:new TreemapValueLabel},n.nodePadding=2,n.labelKey="label",n.sizeKey="size",n.colorKey="color",n.colorDomain=[-5,5],n.colorRange=["#cb4b3f","#6acb64"],n.groupFill="#272931",n.groupStroke="black",n.groupStrokeWidth=1,n.tileStroke="black",n.tileStrokeWidth=1,n.gradient=!0,n.formatter=void 0,n.colorName="Change",n.rootName="Root",n.highlightGroups=!0,n.tileShadow=new DropShadow,n.labelShadow=new DropShadow,n.tooltip=new TreemapSeriesTooltip,n.highlightStyle=new TreemapHighlightStyle,n}return __extends$1X(e,t),e.prototype.getNodePaddingTop=function(t,e){var n=this,i=n.title,o=n.subtitle,r=n.nodePadding,s=t.label;if(t.isLeaf||!s||0===t.depth)return r;var a=t.depth>1?o:i,l=getTextSize(s,a);return a.fontSize>e.width/3||a.fontSize>e.height/3||l.height>=e.height?r:l.height+2*r},e.prototype.getNodePadding=function(t,e){var n=this.nodePadding;return{top:this.getNodePaddingTop(t,e),right:n,bottom:n,left:n}},e.prototype.squarify=function(t,e,n){void 0===n&&(n=new Map);var i=this.getNodePadding(t,e);n.set(t,e);var o=e.width-i.left-i.right,r=e.height-i.top-i.bottom;if(o<=0||r<=0||t.value<=0)return n;for(var s=0,a=0,l=1/0,c=t.value,u=t.children,h=new BBox(e.x+i.left,e.y+i.top,o,r),d=0;d<u.length;d++){var p=u[d].value,f=u[a].value,g=h.width<h.height;s+=p;var m=g?h.height:h.width,_=g?h.width:h.height,y=_*f/s,v=m*s/c,C=Math.max(y,v)/Math.min(y,v),b=Math.abs(1-C);if(b<l)l=b;else{v=m*(s-=p)/c;for(var E=g?h.x:h.y,S=a;S<d;S++){var w=u[S],O=g?E:h.x,x=g?h.y:E,P=_*w.value/s,T=new BBox(O,x,g?P:v,g?v:P);this.squarify(w,T,n),c-=w.value,E+=P}g?(h.y+=v,h.height-=v):(h.x+=v,h.width-=v),a=d,s=0,l=1/0,d--}}var M=h.width<h.height,D=M?h.x:h.y;for(d=a;d<u.length;d++){O=M?D:h.x,x=M?h.y:D;var R=u[d].value/c,A=h.width*(M?R:1),L=h.height*(M?1:R);T=new BBox(O,x,A,L);this.squarify(u[d],T,n),D+=M?A:L}return n},e.prototype.processData=function(){return __awaiter$1(this,void 0,void 0,(function(){var t,e,n,i,o,r,s,a,l,c,u=this;return __generator$1(this,(function(h){return this.data?(e=(t=this).data,n=t.sizeKey,i=t.labelKey,o=t.colorKey,r=t.colorDomain,s=t.colorRange,a=t.groupFill,(l=new ColorScale).domain=r,l.range=s,c=function(t,e,r){var s,h;void 0===e&&(e=0);var d=i&&t[i]||"",p=o&&null!==(s=t[o])&&void 0!==s?s:e;p=validateColor(p);var f=!t.children,g="string"==typeof p?p:f||!a?l.convert(p):a,m={datum:t,depth:e,parent:r,value:0,label:d,fill:g,series:u,isLeaf:f,children:[]};return f?m.value=n&&null!==(h=t[n])&&void 0!==h?h:1:(t.children.forEach((function(t){var n=c(t,e+1,m),i=n.value;!isNaN(i)&&isFinite(i)&&0!==i&&(m.value+=i,m.children.push(n))})),m.children.sort((function(t,e){return e.value-t.value}))),m},this.dataRoot=c(e),[2]):[2]}))}))},e.prototype.createNodeData=function(){return __awaiter$1(this,void 0,void 0,(function(){return __generator$1(this,(function(t){return[2,[]]}))}))},e.prototype.update=function(){return __awaiter$1(this,void 0,void 0,(function(){return __generator$1(this,(function(t){switch(t.label){case 0:return[4,this.updateSelections()];case 1:return t.sent(),[4,this.updateNodes()];case 2:return t.sent(),[2]}}))}))},e.prototype.updateSelections=function(){return __awaiter$1(this,void 0,void 0,(function(){var t,e,n,i,o,r,s,a,l;return __generator$1(this,(function(c){return this.nodeDataRefresh?(this.nodeDataRefresh=!1,e=(t=this).chart,n=t.dataRoot,e&&n&&e.getSeriesRect()?(i=[],o=function(t){var e;i.push(t),null===(e=t.children)||void 0===e||e.forEach(o)},o(this.dataRoot),s=(r=this).groupSelection,a=r.highlightSelection,l=function(t){return t.update(i,(function(t){var e=new Rect,n=new Text;n.tag=TextNodeTag.Name;var i=new Text;i.tag=TextNodeTag.Value,t.append([e,n,i])}))},this.groupSelection=l(s),this.highlightSelection=l(a),[2]):[2]):[2]}))}))},e.prototype.isDatumHighlighted=function(t){var e;return t===(null===(e=this.highlightManager)||void 0===e?void 0:e.getActiveHighlight())&&(t.isLeaf||this.highlightGroups)},e.prototype.getTileFormat=function(t,e){var n,i=this.formatter;if(!i)return{};var o=this,r=o.gradient,s=o.colorKey,a=o.labelKey,l=o.sizeKey,c=o.tileStroke,u=o.tileStrokeWidth,h=o.groupStroke,d=o.groupStrokeWidth,p=t.isLeaf?c:h,f=t.isLeaf?u:d;return i({seriesId:this.id,datum:t.datum,depth:t.depth,parent:null===(n=t.parent)||void 0===n?void 0:n.datum,colorKey:s,sizeKey:l,labelKey:a,fill:t.fill,stroke:p,strokeWidth:f,gradient:r,highlighted:e})},e.prototype.updateNodes=function(){return __awaiter$1(this,void 0,void 0,(function(){var t,e,n,i,o,r,s,a,l,c,u,h,d,p,f,g,m,_,y,v,C=this;return __generator$1(this,(function(b){return this.chart?(e=(t=this).gradient,n=t.highlightStyle,i=n.item,o=i.fill,r=i.fillOpacity,s=i.stroke,a=i.strokeWidth,l=n.text.color,c=t.tileStroke,u=t.tileStrokeWidth,h=t.groupStroke,d=t.groupStrokeWidth,p=t.tileShadow,f=t.labelShadow,g=this.chart.getSeriesRect(),m=this.squarify(this.dataRoot,new BBox(0,0,g.width,g.height)),_=this.buildLabelMeta(m),this.updateNodeMidPoint(m),y=function(t,n,i){var l,f,g,_,y,v,b=m.get(n);if(b){var E=i&&void 0!==o?o:n.fill,S=null!==(l=i?r:1)&&void 0!==l?l:1,w=i&&void 0!==s?s:n.isLeaf?c:h,O=i&&void 0!==a?a:n.isLeaf?u:d,x=C.getTileFormat(n,i),P=validateColor(null!==(f=null==x?void 0:x.fill)&&void 0!==f?f:E);if(null!==(g=null==x?void 0:x.gradient)&&void 0!==g?g:e){var T=Color.tryParseFromString(E).brighter().toString(),M=Color.tryParseFromString(E).darker().toString();t.fill="linear-gradient(180deg, "+T+", "+M+")"}else t.fill=P;if(t.fillOpacity=null!==(_=null==x?void 0:x.fillOpacity)&&void 0!==_?_:S,t.stroke=validateColor(null!==(y=null==x?void 0:x.stroke)&&void 0!==y?y:w),t.strokeWidth=null!==(v=null==x?void 0:x.strokeWidth)&&void 0!==v?v:O,t.fillShadow=p,t.crisp=!0,t.x=b.x,t.y=b.y,t.width=b.width,t.height=b.height,t.visible=!0,i&&!n.isLeaf){var D=C.getNodePadding(n,b),R=b.x+D.left,A=b.x+b.width-D.right,L=b.y+D.top,I=b.y+b.height-D.bottom;t.clipPath?t.clipPath.clear():t.clipPath=new Path2D,t.clipMode="punch-out",t.clipPath.moveTo(R,L),t.clipPath.lineTo(A,L),t.clipPath.lineTo(A,I),t.clipPath.lineTo(R,I),t.clipPath.lineTo(R,L),t.clipPath.closePath()}}else t.visible=!1},this.groupSelection.selectByClass(Rect).forEach((function(t){return y(t,t.datum,!1)})),this.highlightSelection.selectByClass(Rect).forEach((function(t){var e=C.isDatumHighlighted(t.datum);t.visible=e,t.visible&&y(t,t.datum,e)})),v=function(t,e,n,i){var o=_.get(e),r=null==o?void 0:o[i];r?(t.text=r.text,t.fontFamily=r.style.fontFamily,t.fontSize=r.style.fontSize,t.fontWeight=r.style.fontWeight,t.fill=n&&null!=l?l:r.style.color,t.fillShadow=n?void 0:f,t.textAlign=r.hAlign,t.textBaseline=r.vAlign,t.x=r.x,t.y=r.y,t.visible=!0):t.visible=!1},this.groupSelection.selectByTag(TextNodeTag.Name).forEach((function(t){return v(t,t.datum,!1,"label")})),this.highlightSelection.selectByTag(TextNodeTag.Name).forEach((function(t){var e=C.isDatumHighlighted(t.datum);t.visible=e,t.visible&&v(t,t.datum,e,"label")})),this.groupSelection.selectByTag(TextNodeTag.Value).forEach((function(t){return v(t,t.datum,!1,"value")})),this.highlightSelection.selectByTag(TextNodeTag.Value).forEach((function(t){var e=C.isDatumHighlighted(t.datum);t.visible=e,t.visible&&v(t,t.datum,e,"value")})),[2]):[2]}))}))},e.prototype.updateNodeMidPoint=function(t){t.forEach((function(t,e){e.nodeMidPoint={x:t.x+t.width/2,y:t.y}}))},e.prototype.buildLabelMeta=function(t){var e=this,n=e.labels,i=e.title,o=e.subtitle,r=e.nodePadding,s=e.labelKey,a=new Map;return t.forEach((function(t,e){if(s&&0!==e.depth){var l,c=e.isLeaf?e.label:e.label.toUpperCase();l=e.isLeaf?[n.large,n.medium,n.small].find((function(e){var n=getTextSize(c,e),i=n.width,o=n.height;return i<t.width&&o<t.height}))||n.small:1===e.depth?i:o;var u=getTextSize(c,l),h=t.width-2*r,d=t.height-2*r;if(!(l.fontSize>t.width/3||l.fontSize>t.height/3)){if(u.width>h){var p=Math.floor(c.length*h/u.width)-1;c=c.substring(0,p)+""}var f=n.value,g=f.style,m=(l.fontSize+g.fontSize)/8,_=String(e.isLeaf?f.formatter?f.formatter({datum:e.datum}):f.key?e.datum[f.key]:"":""),y=getTextSize(_,g),v=_&&y.width<h&&y.height+u.height+m<d;a.set(e,{label:__assign$u({text:c,style:l},e.isLeaf?{hAlign:"center",vAlign:"middle",x:t.x+t.width/2,y:t.y+t.height/2-(v?y.height/2+m/2:0)}:{hAlign:"left",vAlign:"top",x:t.x+r,y:t.y+r}),value:v?{text:_,style:g,hAlign:"center",vAlign:"middle",x:t.x+t.width/2,y:t.y+t.height/2+u.height/2+m/2}:void 0})}}})),a},e.prototype.getDomain=function(t){return[0,1]},e.prototype.getNodeClickEvent=function(t,e){return new TreemapSeriesNodeClickEvent(this.labelKey,this.sizeKey,this.colorKey,t,e,this)},e.prototype.getNodeDoubleClickEvent=function(t,e){return new TreemapSeriesNodeDoubleClickEvent(this.labelKey,this.sizeKey,this.colorKey,t,e,this)},e.prototype.getTooltipHtml=function(t){var e;if(!this.highlightGroups&&!t.isLeaf)return"";var n=this,i=n.tooltip,o=n.sizeKey,r=n.labelKey,s=n.colorKey,a=n.rootName,l=n.id,c=n.labels,u=t.datum,h=i.renderer,d=t.depth?u[r]:a||u[r],p="",f=this.getTileFormat(t,!1),g=(null==f?void 0:f.fill)||t.fill||"gray",m=c.value.key,_=c.value.formatter;if(m||_){var y="";if(_)y=_({datum:u});else{var v=u[m];"number"==typeof v&&isFinite(v)&&(y=toFixed(v))}y&&(c.value.name&&(p+="<b>"+c.value.name+":</b> "),p+=y)}var C={title:d,backgroundColor:g,content:p};return h?toTooltipHtml$1(h({datum:t.datum,parent:null===(e=t.parent)||void 0===e?void 0:e.datum,depth:t.depth,sizeKey:o,labelKey:r,colorKey:s,title:d,color:g,seriesId:l}),C):d||p?toTooltipHtml$1(C):""},e.prototype.getLegendData=function(){return[]},e.className="TreemapSeries",e.type="treemap",__decorate$1j([Validate(NUMBER(0))],e.prototype,"nodePadding",void 0),__decorate$1j([Validate(STRING)],e.prototype,"labelKey",void 0),__decorate$1j([Validate(OPT_STRING)],e.prototype,"sizeKey",void 0),__decorate$1j([Validate(OPT_STRING)],e.prototype,"colorKey",void 0),__decorate$1j([Validate(NUMBER_ARRAY)],e.prototype,"colorDomain",void 0),__decorate$1j([Validate(COLOR_STRING_ARRAY)],e.prototype,"colorRange",void 0),__decorate$1j([Validate(OPT_STRING)],e.prototype,"groupFill",void 0),__decorate$1j([Validate(OPT_COLOR_STRING)],e.prototype,"groupStroke",void 0),__decorate$1j([Validate(OPT_NUMBER(0))],e.prototype,"groupStrokeWidth",void 0),__decorate$1j([Validate(OPT_COLOR_STRING)],e.prototype,"tileStroke",void 0),__decorate$1j([Validate(OPT_NUMBER(0))],e.prototype,"tileStrokeWidth",void 0),__decorate$1j([Validate(BOOLEAN)],e.prototype,"gradient",void 0),__decorate$1j([Validate(OPT_FUNCTION)],e.prototype,"formatter",void 0),__decorate$1j([Validate(STRING)],e.prototype,"colorName",void 0),__decorate$1j([Validate(STRING)],e.prototype,"rootName",void 0),__decorate$1j([Validate(OPT_BOOLEAN)],e.prototype,"highlightGroups",void 0),e}(HierarchySeries),types$1={area:"cartesian",bar:"cartesian",column:"cartesian",histogram:"cartesian",line:"cartesian",scatter:"cartesian",treemap:"hierarchy",pie:"polar"},CHART_TYPES={add:function(t,e){types$1[t]=e},delete:function(t){delete types$1[t]},has:function(t){return Object.prototype.hasOwnProperty.call(types$1,t)},isCartesian:function(t){return"cartesian"===types$1[t]},isPolar:function(t){return"polar"===types$1[t]},isHierarchy:function(t){return"hierarchy"===types$1[t]},get seriesTypes(){return Object.keys(types$1)},get cartesianTypes(){var t=this;return this.seriesTypes.filter((function(e){return t.isCartesian(e)}))},get polarTypes(){var t=this;return this.seriesTypes.filter((function(e){return t.isPolar(e)}))},get hierarchyTypes(){var t=this;return this.seriesTypes.filter((function(e){return t.isHierarchy(e)}))}};function deepMerge$1(t,e){if(isPlainObject(t)&&isPlainObject(e)){var n={};return Object.keys(t).forEach((function(i){n[i]=i in e?deepMerge$1(t[i],e[i]):t[i]})),Object.keys(e).forEach((function(i){i in t||(n[i]=e[i])})),n}return Array.isArray(t)&&!Array.isArray(e)||isObject(t)&&!isObject(e)?t:e}function isObject(t){return t&&"object"==typeof t}function isPlainObject(t){return isObject(t)&&t.constructor===Object}var __assign$t=function(){return __assign$t=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},__assign$t.apply(this,arguments)},__read$r=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},palette$8={fills:["#f3622d","#fba71b","#57b757","#41a9c9","#4258c9","#9a42c8","#c84164","#888888"],strokes:["#aa4520","#b07513","#3d803d","#2d768d","#2e3e8d","#6c2e8c","#8c2d46","#5f5f5f"]},BOLD="bold",INSIDE="inside",RIGHT="right",ChartTheme=function(){function t(t){var e=(t=deepMerge$1({},t||{})).overrides,n=void 0===e?null:e,i=t.palette,o=void 0===i?null:i,r=this.createChartConfigPerChartType(this.getDefaults());if(n){var s=n.common,a=n.cartesian,l=n.polar,c=n.hierarchy,u=function(t,e,n){n&&(r[t]=deepMerge$1(r[t],n),e.forEach((function(t){var e=t;r[e]=deepMerge$1(r[e],n)})))};u("common",Object.keys(r),s),u("cartesian",CHART_TYPES.cartesianTypes,a),u("polar",CHART_TYPES.polarTypes,l),u("hierarchy",CHART_TYPES.hierarchyTypes,c),CHART_TYPES.seriesTypes.forEach((function(t){var e,i=t,o=n[i];o&&(o.series&&(o.series=((e={})[i]=o.series,e)),r[i]=deepMerge$1(r[i],o))}))}this.palette=null!=o?o:this.getPalette(),this.config=Object.freeze(r)}return t.prototype.getPalette=function(){return palette$8},t.getAxisDefaults=function(){return{top:{},right:{},bottom:{},left:{},thickness:0,title:{enabled:!1,text:"Axis Title",fontStyle:void 0,fontWeight:BOLD,fontSize:12,fontFamily:this.fontFamily,color:"rgb(70, 70, 70)"},label:{fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:this.fontFamily,padding:5,rotation:void 0,color:"rgb(87, 87, 87)",formatter:void 0,autoRotate:!1,avoidCollisions:!0},line:{width:1,color:"rgb(195, 195, 195)"},tick:{width:1,size:6,color:"rgb(195, 195, 195)"},gridStyle:[{stroke:"rgb(219, 219, 219)",lineDash:[4,2]}],crossLines:{enabled:!1,fill:"rgb(187,221,232)",stroke:"rgb(70,162,192)",strokeWidth:1,label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:this.fontFamily,padding:5,color:"rgb(87, 87, 87)",rotation:void 0}}}},t.getSeriesDefaults=function(){return{tooltip:{enabled:!0,renderer:void 0},visible:!0,showInLegend:!0,highlightStyle:{item:{fill:"yellow",fillOpacity:1},series:{dimOpacity:1},text:{color:"black"}},nodeClickRange:"exact"}},t.getBarSeriesDefaults=function(){return __assign$t(__assign$t({},this.getSeriesDefaults()),{flipXY:!1,fillOpacity:1,strokeOpacity:1,xKey:"",xName:"",normalizedTo:void 0,strokeWidth:1,lineDash:[0],lineDashOffset:0,label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:this.fontFamily,color:"rgb(70, 70, 70)",formatter:void 0,placement:INSIDE},shadow:{enabled:!1,color:"rgba(0, 0, 0, 0.5)",xOffset:3,yOffset:3,blur:5}})},t.getLineSeriesDefaults=function(){var t=this.getSeriesDefaults();return __assign$t(__assign$t({},t),{tooltip:__assign$t(__assign$t({},t.tooltip),{format:void 0,position:{type:"node"}})})},t.getAreaSeriesDefaults=function(){var t=this.getSeriesDefaults();return __assign$t(__assign$t({},t),{nodeClickRange:"nearest",tooltip:__assign$t(__assign$t({},t.tooltip),{position:{type:"node"}})})},t.getScatterSeriesDefaults=function(){var t=this.getSeriesDefaults();return __assign$t(__assign$t({},t),{tooltip:__assign$t(__assign$t({},t.tooltip),{position:{type:"node"}})})},t.getCartesianSeriesMarkerDefaults=function(){return{enabled:!0,shape:"circle",size:6,maxSize:30,strokeWidth:1,formatter:void 0}},t.getChartDefaults=function(){return{background:{visible:!0,fill:"white"},padding:{top:20,right:20,bottom:20,left:20},title:{enabled:!1,text:"Title",fontStyle:void 0,fontWeight:BOLD,fontSize:16,fontFamily:this.fontFamily,color:"rgb(70, 70, 70)"},subtitle:{enabled:!1,text:"Subtitle",fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:this.fontFamily,color:"rgb(140, 140, 140)"},footnote:{enabled:!1,text:"Footnote",fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:this.fontFamily,color:"rgb(140, 140, 140)",spacing:30},legend:{enabled:!0,position:RIGHT,spacing:20,listeners:{},item:{paddingX:16,paddingY:8,marker:{shape:void 0,size:15,strokeWidth:1,padding:8},label:{color:"black",fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:this.fontFamily,formatter:void 0}},reverseOrder:!1,pagination:{marker:{size:12},activeStyle:{fill:"rgb(70, 70, 70)"},inactiveStyle:{fill:"rgb(219, 219, 219)"},highlightStyle:{fill:"rgb(70, 70, 70)"},label:{color:"rgb(70, 70, 70)"}}},tooltip:{enabled:!0,range:"nearest",delay:0},listeners:{}}},t.prototype.createChartConfigPerChartType=function(t){var e={cartesian:CHART_TYPES.cartesianTypes,polar:CHART_TYPES.polarTypes,hierarchy:CHART_TYPES.hierarchyTypes,groupedCategory:[]};return Object.entries(e).forEach((function(e){var n=__read$r(e,2),i=n[0];n[1].forEach((function(e){t[e]||(t[e]=deepMerge$1({},t[i]))}))})),t},t.prototype.getDefaults=function(){var e=deepMerge$1({},t.defaults),n=function(e){var n={};return n.series=e.reduce((function(e,n){return Object.prototype.hasOwnProperty.call(t.seriesThemeOverrides,n)&&(e[n]=t.seriesThemeOverrides[n]({seriesDefaults:t.getSeriesDefaults(),defaultFontFamily:t.fontFamily})),e}),{}),n};return deepMerge$1(e,{cartesian:n(CHART_TYPES.cartesianTypes),groupedCategory:n(CHART_TYPES.cartesianTypes),polar:n(CHART_TYPES.polarTypes),hierarchy:n(CHART_TYPES.hierarchyTypes)})},t.prototype.mergeWithParentDefaults=function(t,e){return deepMerge$1(t,e)},t.fontFamily="Verdana, sans-serif",t.seriesThemeOverrides={},t.cartesianDefaults=__assign$t(__assign$t({},t.getChartDefaults()),{axes:{number:__assign$t({},t.getAxisDefaults()),log:__assign$t(__assign$t({},t.getAxisDefaults()),{base:10}),category:__assign$t(__assign$t({},t.getAxisDefaults()),{groupPaddingInner:.1,label:__assign$t(__assign$t({},t.getAxisDefaults().label),{autoRotate:!0})}),groupedCategory:__assign$t({},t.getAxisDefaults()),time:__assign$t({},t.getAxisDefaults())},series:{column:__assign$t(__assign$t({},t.getBarSeriesDefaults()),{flipXY:!1}),bar:__assign$t(__assign$t({},t.getBarSeriesDefaults()),{flipXY:!0}),line:__assign$t(__assign$t({},t.getLineSeriesDefaults()),{title:void 0,xKey:"",xName:"",yKey:"",yName:"",strokeWidth:2,strokeOpacity:1,lineDash:[0],lineDashOffset:0,marker:__assign$t(__assign$t({},t.getCartesianSeriesMarkerDefaults()),{fillOpacity:1,strokeOpacity:1}),label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:t.fontFamily,color:"rgb(70, 70, 70)",formatter:void 0}}),scatter:__assign$t(__assign$t({},t.getScatterSeriesDefaults()),{title:void 0,xKey:"",yKey:"",sizeKey:void 0,labelKey:void 0,xName:"",yName:"",sizeName:"Size",labelName:"Label",marker:__assign$t({},t.getCartesianSeriesMarkerDefaults()),label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:t.fontFamily,color:"rgb(70, 70, 70)"}}),area:__assign$t(__assign$t({},t.getAreaSeriesDefaults()),{xKey:"",xName:"",normalizedTo:void 0,fillOpacity:.8,strokeOpacity:1,strokeWidth:2,lineDash:[0],lineDashOffset:0,shadow:{enabled:!1,color:"rgba(0, 0, 0, 0.5)",xOffset:3,yOffset:3,blur:5},marker:__assign$t(__assign$t({},t.getCartesianSeriesMarkerDefaults()),{fillOpacity:1,strokeOpacity:1,enabled:!1}),label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:t.fontFamily,color:"rgb(70, 70, 70)",formatter:void 0}}),histogram:__assign$t(__assign$t({},t.getSeriesDefaults()),{xKey:"",yKey:"",xName:"",yName:"",strokeWidth:1,fillOpacity:1,strokeOpacity:1,lineDash:[0],lineDashOffset:0,areaPlot:!1,bins:void 0,aggregation:"sum",label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:t.fontFamily,color:"rgb(70, 70, 70)",formatter:void 0},shadow:{enabled:!0,color:"rgba(0, 0, 0, 0.5)",xOffset:0,yOffset:0,blur:5}})},navigator:{enabled:!1,height:30,mask:{fill:"#999999",stroke:"#999999",strokeWidth:1,fillOpacity:.2},minHandle:{fill:"#f2f2f2",stroke:"#999999",strokeWidth:1,width:8,height:16,gripLineGap:2,gripLineLength:8},maxHandle:{fill:"#f2f2f2",stroke:"#999999",strokeWidth:1,width:8,height:16,gripLineGap:2,gripLineLength:8}}}),t.polarDefaults=__assign$t(__assign$t({},t.getChartDefaults()),{series:{pie:__assign$t(__assign$t({},t.getSeriesDefaults()),{title:{enabled:!0,text:"",fontStyle:void 0,fontWeight:"bold",fontSize:14,fontFamily:t.fontFamily,color:"rgb(70, 70, 70)"},angleKey:"",angleName:"",radiusKey:void 0,radiusName:void 0,calloutLabelKey:void 0,calloutLabelName:void 0,sectorLabelKey:void 0,sectorLabelName:void 0,calloutLabel:{enabled:!0,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:t.fontFamily,color:"rgb(70, 70, 70)",offset:3,minAngle:0},sectorLabel:{enabled:!0,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:t.fontFamily,color:"rgb(70, 70, 70)",positionOffset:0,positionRatio:.5},calloutLine:{length:10,strokeWidth:2},fillOpacity:1,strokeOpacity:1,strokeWidth:1,lineDash:[0],lineDashOffset:0,rotation:0,outerRadiusOffset:0,innerRadiusOffset:0,shadow:{enabled:!1,color:"rgba(0, 0, 0, 0.5)",xOffset:3,yOffset:3,blur:5},innerLabels:{fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:t.fontFamily,color:"rgb(70, 70, 70)",margin:2}})}}),t.hierarchyDefaults=__assign$t(__assign$t({},t.getChartDefaults()),{series:{treemap:__assign$t(__assign$t({},t.getSeriesDefaults()),{showInLegend:!1,labelKey:"label",sizeKey:"size",colorKey:"color",colorDomain:[-5,5],colorRange:["#cb4b3f","#6acb64"],groupFill:"#272931",groupStroke:"black",groupStrokeWidth:1,tileStroke:"black",tileStrokeWidth:1,gradient:!0,tileShadow:{enabled:!1,color:"rgba(0, 0, 0, 0.5)",xOffset:3,yOffset:3,blur:5},labelShadow:{enabled:!0,color:"rgba(0, 0, 0, 0.4)",xOffset:1.5,yOffset:1.5,blur:5},highlightGroups:!0,nodePadding:2,title:{enabled:!0,color:"white",fontStyle:void 0,fontWeight:"bold",fontSize:12,fontFamily:"Verdana, sans-serif",padding:15},subtitle:{enabled:!0,color:"white",fontStyle:void 0,fontWeight:void 0,fontSize:9,fontFamily:"Verdana, sans-serif",padding:13},labels:{large:{enabled:!0,fontStyle:void 0,fontWeight:"bold",fontSize:18,fontFamily:"Verdana, sans-serif",color:"white"},medium:{enabled:!0,fontStyle:void 0,fontWeight:"bold",fontSize:14,fontFamily:"Verdana, sans-serif",color:"white"},small:{enabled:!0,fontStyle:void 0,fontWeight:"bold",fontSize:10,fontFamily:"Verdana, sans-serif",color:"white"},value:{style:{enabled:!0,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:"Verdana, sans-serif",color:"white"}}}})}}),t.defaults={cartesian:t.cartesianDefaults,groupedCategory:t.cartesianDefaults,polar:t.polarDefaults,hierarchy:t.hierarchyDefaults},t}(),__extends$1W=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__assign$s=function(){return __assign$s=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},__assign$s.apply(this,arguments)},DarkTheme=function(t){function e(e){return t.call(this,e)||this}return __extends$1W(e,t),e.prototype.getDefaults=function(){var n=e.fontColor,i=e.mutedFontColor,o={title:{color:n},label:{color:n},gridStyle:[{stroke:"rgb(88, 88, 88)",lineDash:[4,2]}]},r={label:{color:n}},s={axes:{number:__assign$s({},o),category:__assign$s({},o),time:__assign$s({},o)}},a={background:{fill:"rgb(34, 38, 41)"},title:{color:n},subtitle:{color:i},legend:{item:{label:{color:n}},pagination:{activeStyle:{fill:n},inactiveStyle:{fill:i},highlightStyle:{fill:n},label:{color:n}}}},l=function(t){return t.reduce((function(t,n){return Object.prototype.hasOwnProperty.call(e.seriesDarkThemeOverrides,n)&&(t[n]=e.seriesDarkThemeOverrides[n]({seriesLabelDefaults:e.seriesLabelDefaults})),t}),{})};return this.mergeWithParentDefaults(t.prototype.getDefaults.call(this),{cartesian:__assign$s(__assign$s(__assign$s({},a),s),{series:__assign$s({bar:__assign$s({},r),column:__assign$s({},r),histogram:__assign$s({},r)},l(CHART_TYPES.cartesianTypes))}),groupedCategory:__assign$s(__assign$s(__assign$s({},a),s),{series:__assign$s({bar:__assign$s({},r),column:__assign$s({},r),histogram:__assign$s({},r)},l(CHART_TYPES.cartesianTypes))}),polar:__assign$s(__assign$s({},a),{series:__assign$s({pie:{calloutLabel:{color:n},sectorLabel:{color:n},title:{color:n},innerLabels:{color:n}}},l(CHART_TYPES.polarTypes))}),hierarchy:__assign$s(__assign$s({},a),{series:__assign$s({treemap:{tileStroke:"white",groupStroke:"white",title:{color:n},subtitle:{color:i},labels:{large:{color:n},medium:{color:n},small:{color:n},value:{style:{color:n}}}}},l(CHART_TYPES.hierarchyTypes))})})},e.fontColor="rgb(200, 200, 200)",e.mutedFontColor="rgb(150, 150, 150)",e.seriesLabelDefaults={label:{color:e.fontColor}},e.seriesDarkThemeOverrides={},e}(ChartTheme),__values$b=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},BaseModuleInstance=function(){function t(){this.destroyFns=[]}return t.prototype.destroy=function(){var t,e;try{for(var n=__values$b(this.destroyFns),i=n.next();!i.done;i=n.next()){(0,i.value)()}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}},t}(),REGISTERED_MODULES=[];function registerModule(t){var e=REGISTERED_MODULES.find((function(e){return t.type===e.type&&t.optionsKey===e.optionsKey}));if(e){if("enterprise"===t.packageType&&"community"===e.packageType){var n=REGISTERED_MODULES.indexOf(e);REGISTERED_MODULES.splice(n,1,t)}}else REGISTERED_MODULES.push(t)}var __extends$1V=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$1i=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},RangeHandle$1=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._fill="#f2f2f2",e._stroke="#999999",e._strokeWidth=1,e._lineCap="square",e._centerX=0,e._centerY=0,e._width=8,e._gripLineGap=2,e._gripLineLength=8,e._height=16,e}return __extends$1V(e,t),Object.defineProperty(e.prototype,"centerX",{get:function(){return this._centerX},set:function(t){this._centerX!==t&&(this._centerX=t,this.dirtyPath=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"centerY",{get:function(){return this._centerY},set:function(t){this._centerY!==t&&(this._centerY=t,this.dirtyPath=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(t){this._width!==t&&(this._width=t,this.dirtyPath=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"gripLineGap",{get:function(){return this._gripLineGap},set:function(t){this._gripLineGap!==t&&(this._gripLineGap=t,this.dirtyPath=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"gripLineLength",{get:function(){return this._gripLineLength},set:function(t){this._gripLineLength!==t&&(this._gripLineLength=t,this.dirtyPath=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(t){this._height!==t&&(this._height=t,this.dirtyPath=!0)},enumerable:!1,configurable:!0}),e.prototype.computeBBox=function(){var t=this,e=t.centerX,n=t.centerY,i=t.width,o=t.height;return new BBox(e-i/2,n-o/2,i,o)},e.prototype.isPointInPath=function(t,e){var n=this.transformPoint(t,e);return this.computeBBox().containsPoint(n.x,n.y)},e.prototype.updatePath=function(){var t=this,e=t.path,n=t.centerX,i=t.centerY,o=t.width,r=t.height;e.clear();var s=n-o/2,a=i-r/2,l=this.align(s),c=this.align(a),u=l+this.align(s,o),h=c+this.align(a,r);e.moveTo(l,c),e.lineTo(u,c),e.lineTo(u,h),e.lineTo(l,h),e.lineTo(l,c);var d=this.gripLineGap/2,p=this.gripLineLength/2;e.moveTo(this.align(n-d),this.align(i-p)),e.lineTo(this.align(n-d),this.align(i+p)),e.moveTo(this.align(n+d),this.align(i-p)),e.lineTo(this.align(n+d),this.align(i+p))},e.className="RangeHandle",__decorate$1i([Validate(COLOR_STRING)],e.prototype,"_fill",void 0),__decorate$1i([Validate(COLOR_STRING)],e.prototype,"_stroke",void 0),__decorate$1i([Validate(NUMBER(0))],e.prototype,"_strokeWidth",void 0),__decorate$1i([Validate(LINE_CAP)],e.prototype,"_lineCap",void 0),__decorate$1i([Validate(NUMBER(0))],e.prototype,"_width",void 0),__decorate$1i([Validate(NUMBER(0))],e.prototype,"_gripLineGap",void 0),__decorate$1i([Validate(NUMBER(0))],e.prototype,"_gripLineLength",void 0),__decorate$1i([Validate(NUMBER(0))],e.prototype,"_height",void 0),e}(Path),__extends$1U=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$1h=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},RangeMask=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._stroke="#999999",e._strokeWidth=1,e._fill="#999999",e._fillOpacity=.2,e._lineCap="square",e._x=0,e._y=0,e._width=200,e._height=30,e.minRange=.05,e._min=0,e._max=1,e}return __extends$1U(e,t),Object.defineProperty(e.prototype,"x",{get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.dirtyPath=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.dirtyPath=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(t){this._width!==t&&(this._width=t,this.dirtyPath=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(t){this._height!==t&&(this._height=t,this.dirtyPath=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"min",{get:function(){return this._min},set:function(t){var e;t=Math.min(Math.max(t,0),this.max-this.minRange),isNaN(t)||this._min!==t&&(this._min=t,this.dirtyPath=!0,null===(e=this.onRangeChange)||void 0===e||e.call(this))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"max",{get:function(){return this._max},set:function(t){var e;t=Math.max(Math.min(t,1),this.min+this.minRange),isNaN(t)||this._max!==t&&(this._max=t,this.dirtyPath=!0,null===(e=this.onRangeChange)||void 0===e||e.call(this))},enumerable:!1,configurable:!0}),e.prototype.computeBBox=function(){var t=this,e=t.x,n=t.y,i=t.width,o=t.height;return new BBox(e,n,i,o)},e.prototype.computeVisibleRangeBBox=function(){var t=this,e=t.x,n=t.y,i=t.width,o=t.height,r=t.min,s=t.max,a=e+i*r;return new BBox(a,n,e+i*s-a,o)},e.prototype.updatePath=function(){var t=this,e=t.path,n=t.x,i=t.y,o=t.width,r=t.height,s=t.min,a=t.max;e.clear();var l=this.align(n),c=this.align(i),u=l+this.align(n,o),h=c+this.align(i,r);e.moveTo(l,c),e.lineTo(u,c),e.lineTo(u,h),e.lineTo(l,h),e.lineTo(l,c);var d=this.align(n+o*s),p=this.align(n+o*a);e.moveTo(d,c),e.lineTo(d,h),e.lineTo(p,h),e.lineTo(p,c),e.lineTo(d,c)},e.className="RangeMask",__decorate$1h([Validate(COLOR_STRING)],e.prototype,"_stroke",void 0),__decorate$1h([Validate(NUMBER(0))],e.prototype,"_strokeWidth",void 0),__decorate$1h([Validate(COLOR_STRING)],e.prototype,"_fill",void 0),__decorate$1h([Validate(NUMBER(0,1))],e.prototype,"_fillOpacity",void 0),__decorate$1h([Validate(LINE_CAP)],e.prototype,"_lineCap",void 0),__decorate$1h([Validate(NUMBER(0))],e.prototype,"_width",void 0),__decorate$1h([Validate(NUMBER(0))],e.prototype,"_height",void 0),__decorate$1h([Validate(NUMBER())],e.prototype,"_min",void 0),__decorate$1h([Validate(NUMBER())],e.prototype,"_max",void 0),e}(Path),__extends$1T=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__assign$r=function(){return __assign$r=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},__assign$r.apply(this,arguments)},RangeSelector=function(t){function e(){var n=t.call(this,{name:"rangeSelectorGroup"})||this;return n.minHandle=new RangeHandle$1,n.maxHandle=new RangeHandle$1,n.mask=function(){var t=e.defaults,i=t.x,o=t.y,r=t.width,s=t.height,a=t.min,l=t.max,c=new RangeMask;c.x=i,c.y=o,c.width=r,c.height=s,c.min=a,c.max=l;var u=n,h=u.minHandle,d=u.maxHandle;return h.centerX=i,d.centerX=i+r,h.centerY=d.centerY=o+s/2,n.append([c,h,d]),c.onRangeChange=function(){var t;n.updateHandles(),null===(t=n.onRangeChange)||void 0===t||t.call(n)},c}(),n._x=e.defaults.x,n._y=e.defaults.y,n._width=e.defaults.width,n._height=e.defaults.height,n._min=e.defaults.min,n._max=e.defaults.max,n.isContainerNode=!0,n}return __extends$1T(e,t),Object.defineProperty(e.prototype,"x",{get:function(){return this.mask.x},set:function(t){this.mask.x=t,this.updateHandles()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.mask.y},set:function(t){this.mask.y=t,this.updateHandles()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.mask.width},set:function(t){this.mask.width=t,this.updateHandles()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.mask.height},set:function(t){this.mask.height=t,this.updateHandles()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"min",{get:function(){return this.mask.min},set:function(t){this.mask.min=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"max",{get:function(){return this.mask.max},set:function(t){this.mask.max=t},enumerable:!1,configurable:!0}),e.prototype.updateHandles=function(){var t=this,e=t.minHandle,n=t.maxHandle,i=t.x,o=t.y,r=t.width,s=t.height,a=t.mask;e.centerX=i+r*a.min,n.centerX=i+r*a.max,e.centerY=n.centerY=o+s/2},e.prototype.computeBBox=function(){return this.mask.computeBBox()},e.prototype.computeVisibleRangeBBox=function(){return this.mask.computeVisibleRangeBBox()},e.prototype.render=function(t){var e=t.ctx,n=t.forceRender,i=t.stats;if(this.dirty!==RedrawType.NONE||n){this.computeTransformMatrix(),this.matrix.toContext(e);var o=this;[o.mask,o.minHandle,o.maxHandle].forEach((function(i){i.visible&&(n||i.dirty>RedrawType.NONE)&&(e.save(),i.render(__assign$r(__assign$r({},t),{ctx:e,forceRender:n})),e.restore())})),this.markClean({force:!0}),i&&i.nodesRendered++}else i&&i.nodesSkipped++},e.className="Range",e.defaults={x:0,y:0,width:200,height:30,min:0,max:1},e}(Group),NavigatorMask=function(){function t(t){this.rm=t}return Object.defineProperty(t.prototype,"fill",{get:function(){return this.rm.fill},set:function(t){this.rm.fill=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"stroke",{get:function(){return this.rm.stroke},set:function(t){this.rm.stroke=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"strokeWidth",{get:function(){return this.rm.strokeWidth},set:function(t){this.rm.strokeWidth=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fillOpacity",{get:function(){return this.rm.fillOpacity},set:function(t){this.rm.fillOpacity=t},enumerable:!1,configurable:!0}),t}(),NavigatorHandle=function(){function t(t){this.rh=t}return Object.defineProperty(t.prototype,"fill",{get:function(){return this.rh.fill},set:function(t){this.rh.fill=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"stroke",{get:function(){return this.rh.stroke},set:function(t){this.rh.stroke=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"strokeWidth",{get:function(){return this.rh.strokeWidth},set:function(t){this.rh.strokeWidth=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.rh.width},set:function(t){this.rh.width=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.rh.height},set:function(t){this.rh.height=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"gripLineGap",{get:function(){return this.rh.gripLineGap},set:function(t){this.rh.gripLineGap=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"gripLineLength",{get:function(){return this.rh.gripLineLength},set:function(t){this.rh.gripLineLength=t},enumerable:!1,configurable:!0}),t}(),__extends$1S=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$1g=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},Navigator=function(t){function e(e){var n=t.call(this)||this;return n.ctx=e,n.rs=new RangeSelector,n.mask=new NavigatorMask(n.rs.mask),n.minHandle=new NavigatorHandle(n.rs.minHandle),n.maxHandle=new NavigatorHandle(n.rs.maxHandle),n.minHandleDragging=!1,n.maxHandleDragging=!1,n.panHandleOffset=NaN,n._enabled=!1,n.margin=10,n._visible=!0,n.rs.onRangeChange=function(){return n.ctx.zoomManager.updateZoom("navigator",{x:{min:n.rs.min,max:n.rs.max}})},[e.interactionManager.addListener("drag-start",(function(t){return n.onDragStart(t)})),e.interactionManager.addListener("drag",(function(t){return n.onDrag(t)})),e.interactionManager.addListener("hover",(function(t){return n.onDrag(t)})),e.interactionManager.addListener("drag-end",(function(){return n.onDragStop()}))].forEach((function(t){return n.destroyFns.push((function(){return e.interactionManager.removeListener(t)}))})),[e.layoutService.addListener("before-series",(function(t){return n.layout(t)})),e.layoutService.addListener("layout-complete",(function(t){return n.layoutComplete(t)}))].forEach((function(t){return n.destroyFns.push((function(){return e.layoutService.removeListener(t)}))})),e.scene.root.appendChild(n.rs),n.destroyFns.push((function(){var t;return null===(t=e.scene.root)||void 0===t?void 0:t.removeChild(n.rs)})),n.updateGroupVisibility(),n}return __extends$1S(e,t),Object.defineProperty(e.prototype,"enabled",{get:function(){return this._enabled},set:function(t){this._enabled=t,this.updateGroupVisibility()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.rs.width},set:function(t){this.rs.width=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.rs.height},set:function(t){this.rs.height=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"min",{get:function(){return this.rs.min},set:function(t){this.rs.min=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"max",{get:function(){return this.rs.max},set:function(t){this.rs.max=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"visible",{get:function(){return this._visible},set:function(t){this._visible=t,this.updateGroupVisibility()},enumerable:!1,configurable:!0}),e.prototype.updateGroupVisibility=function(){this.rs.visible=this.enabled&&this.visible},e.prototype.layout=function(t){var e=t.shrinkRect;if(this.enabled){var n=this.rs.height+this.margin;e.shrink(n,"bottom"),this.rs.y=e.y+e.height+this.margin}return{shrinkRect:e}},e.prototype.layoutComplete=function(t){var e=t.series,n=e.rect,i=e.visible;this.enabled&&i&&(this.rs.x=n.x,this.rs.width=n.width),this.visible=i},e.prototype.update=function(){},e.prototype.onDragStart=function(t){if(this.enabled){var e=t.offsetX,n=t.offsetY,i=this.rs,o=i.minHandle,r=i.maxHandle,s=i.x,a=i.width,l=i.min,c=i.computeVisibleRangeBBox();this.minHandleDragging||this.maxHandleDragging||(o.containsPoint(e,n)?this.minHandleDragging=!0:r.containsPoint(e,n)?this.maxHandleDragging=!0:c.containsPoint(e,n)&&(this.panHandleOffset=(e-s)/a-l))}},e.prototype.onDrag=function(t){if(this.enabled){var e=this.rs,n=this.panHandleOffset,i=e.x,o=e.y,r=e.width,s=e.height,a=e.minHandle,l=e.maxHandle,c=t.offsetX,u=t.offsetY,h=i+r*e.min,d=i+r*e.max,p=new BBox(h,o,d-h,s),f=function(){return Math.min(Math.max((c-i)/r,0),1)};if(a.containsPoint(c,u)||l.containsPoint(c,u)?this.ctx.cursorManager.updateCursor("navigator","ew-resize"):p.containsPoint(c,u)?this.ctx.cursorManager.updateCursor("navigator","grab"):this.ctx.cursorManager.updateCursor("navigator"),this.minHandleDragging)e.min=f();else if(this.maxHandleDragging)e.max=f();else if(!isNaN(n)){var g=e.max-e.min,m=Math.min(f()-n,1-g);m<=e.min?(e.min=m,e.max=e.min+g):(e.max=m+g,e.min=e.max-g)}}},e.prototype.onDragStop=function(){this.stopHandleDragging()},e.prototype.stopHandleDragging=function(){this.minHandleDragging=this.maxHandleDragging=!1,this.panHandleOffset=NaN},__decorate$1g([Validate(BOOLEAN)],e.prototype,"_enabled",void 0),__decorate$1g([Validate(NUMBER(0))],e.prototype,"margin",void 0),e}(BaseModuleInstance),CHART_NAVIGATOR_MODULE={type:"root",optionsKey:"navigator",packageType:"community",chartTypes:["cartesian"],initialiseModule:function(t){return{instance:new Navigator(t)}}};registerModule(CHART_NAVIGATOR_MODULE);var __extends$1R=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$1f=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},Background=function(t){function e(e){var n,i=t.call(this)||this;i.onLayoutComplete=function(t){var e=t.chart,n=e.width,o=e.height;i.rectNode.width=n,i.rectNode.height=o},i.node=new Group({name:"background"}),i.node.zIndex=Layers.SERIES_BACKGROUND_ZINDEX,i.rectNode=new Rect,i.node.appendChild(i.rectNode),i.fill="white",i.visible=!0,null===(n=e.scene.root)||void 0===n||n.appendChild(i.node),i.destroyFns.push((function(){var t;return null===(t=e.scene.root)||void 0===t?void 0:t.removeChild(i.node)}));var o=e.layoutService.addListener("layout-complete",i.onLayoutComplete);return i.destroyFns.push((function(){return e.layoutService.removeListener(o)})),i}return __extends$1R(e,t),e.prototype.update=function(){},__decorate$1f([Validate(BOOLEAN),ProxyPropertyOnWrite("node","visible")],e.prototype,"visible",void 0),__decorate$1f([Validate(OPT_COLOR_STRING),ProxyPropertyOnWrite("rectNode","fill")],e.prototype,"fill",void 0),e}(BaseModuleInstance),CHART_BACKGROUND_MODULE={type:"root",optionsKey:"background",packageType:"community",chartTypes:["cartesian","polar","hierarchy"],initialiseModule:function(t){return{instance:new Background(t)}}};registerModule(CHART_BACKGROUND_MODULE);var builtinSeriesTypes={area:AreaSeries,bar:BarSeries,column:BarSeries,histogram:HistogramSeries,line:LineSeries,pie:PieSeries,scatter:ScatterSeries,treemap:TreemapSeries},extraSeriesFactories={},initialisedSeriesModules=new Map;function initialiseSeriesModules(){REGISTERED_MODULES.filter((function(t){return"series"===t.type})).filter((function(t){return!initialisedSeriesModules.has(t)})).forEach((function(t){return initialiseSeriesModule(t)}))}var seriesDefaults={};function initialiseSeriesModule(t){var e=t.optionsKey,n=t.initialiseModule({seriesFactory:{add:function(t){extraSeriesFactories[e]=t},delete:function(){delete extraSeriesFactories[e]}},defaults:{add:function(t){seriesDefaults[e]=t},delete:function(){delete seriesDefaults[e]}},themes:{chartTheme:{add:function(t){ChartTheme.seriesThemeOverrides[e]=t},delete:function(){delete ChartTheme.seriesThemeOverrides[e]}},darkTheme:{add:function(t){DarkTheme.seriesDarkThemeOverrides[e]=t},delete:function(){delete DarkTheme.seriesDarkThemeOverrides[e]}}}});initialisedSeriesModules.set(t,n);var i=t.chartTypes[0];CHART_TYPES.add(e,i)}function getSeries(t){if(Object.prototype.hasOwnProperty.call(extraSeriesFactories,t))return(0,extraSeriesFactories[t])();if(Object.prototype.hasOwnProperty.call(builtinSeriesTypes,t))return new(0,builtinSeriesTypes[t]);throw new Error("AG Charts - unknown series type: "+t)}var DEFAULT_CARTESIAN_CHART_OVERRIDES={axes:[{type:NumberAxis.type,position:"left"},{type:CategoryAxis.type,position:"bottom"}]},DEFAULT_BAR_CHART_OVERRIDES={axes:[{type:"number",position:"bottom"},{type:"category",position:"left"}]},DEFAULT_SCATTER_HISTOGRAM_CHART_OVERRIDES={axes:[{type:"number",position:"bottom"},{type:"number",position:"left"}]},__assign$q=function(){return __assign$q=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},__assign$q.apply(this,arguments)};function transform(t,e){var n={};for(var i in t){var o=e[i]||function(t){return t};n[i]=o(t[i],t)}return n}function is2dArray(t){return null!=t&&t instanceof Array&&t[0]instanceof Array}function yNamesMapping(t,e){if(null==t)return{};if(!(t instanceof Array))return t;var n=e.yKeys;if(null==n||is2dArray(n))throw new Error("AG Charts - yNames and yKeys mismatching configuration.");var i={};return n.forEach((function(e,n){i[e]=t[n]})),i}function yKeysMapping(t,e){return null==t?[[]]:is2dArray(t)?t:e.grouped?t.map((function(t){return[t]})):[t]}function barSeriesTransform(t){var e=__assign$q({},t);return delete e.yKey,delete e.yName,transform(e,{yNames:yNamesMapping,yKeys:yKeysMapping})}function identityTransform(t){return t}var SERIES_TRANSFORMS={area:identityTransform,bar:barSeriesTransform,column:barSeriesTransform,histogram:identityTransform,line:identityTransform,pie:identityTransform,scatter:identityTransform,treemap:identityTransform};function applySeriesTransform(t){var e=t.type||"line",n=SERIES_TRANSFORMS[e];return(null!=n?n:identityTransform)(t)}var __extends$1Q=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),palette$7={fills:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4caf50","#8bc34a","#cddc39","#ffeb3b","#ffc107","#ff9800","#ff5722"],strokes:["#ab2f26","#a31545","#6d1b7b","#482980","#2c397f","#1769aa","#0276ab","#008494","#00695f","#357a38","#618834","#909a28","#b3a429","#b38705","#b36a00","#b33d18"]},MaterialLight=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$1Q(e,t),e.prototype.getPalette=function(){return palette$7},e}(ChartTheme),__extends$1P=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),palette$6={fills:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4caf50","#8bc34a","#cddc39","#ffeb3b","#ffc107","#ff9800","#ff5722"],strokes:["#ab2f26","#a31545","#6d1b7b","#482980","#2c397f","#1769aa","#0276ab","#008494","#00695f","#357a38","#618834","#909a28","#b3a429","#b38705","#b36a00","#b33d18"]},MaterialDark=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$1P(e,t),e.prototype.getPalette=function(){return palette$6},e}(DarkTheme),__extends$1O=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),palette$5={fills:["#c16068","#a2bf8a","#ebcc87","#80a0c3","#b58dae","#85c0d1"],strokes:["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"]},PastelLight=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$1O(e,t),e.prototype.getPalette=function(){return palette$5},e}(ChartTheme),__extends$1N=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),palette$4={fills:["#c16068","#a2bf8a","#ebcc87","#80a0c3","#b58dae","#85c0d1"],strokes:["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"]},PastelDark=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$1N(e,t),e.prototype.getPalette=function(){return palette$4},e}(DarkTheme),__extends$1M=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),palette$3={fills:["#febe76","#ff7979","#badc58","#f9ca23","#f0932b","#eb4c4b","#6ab04c","#7ed6df","#e056fd","#686de0"],strokes:["#b28553","#b35555","#829a3e","#ae8d19","#a8671e","#a43535","#4a7b35","#58969c","#9d3cb1","#494c9d"]},SolarLight=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$1M(e,t),e.prototype.getPalette=function(){return palette$3},e}(ChartTheme),__extends$1L=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),palette$2={fills:["#febe76","#ff7979","#badc58","#f9ca23","#f0932b","#eb4c4b","#6ab04c","#7ed6df","#e056fd","#686de0"],strokes:["#b28553","#b35555","#829a3e","#ae8d19","#a8671e","#a43535","#4a7b35","#58969c","#9d3cb1","#494c9d"]},SolarDark=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$1L(e,t),e.prototype.getPalette=function(){return palette$2},e}(DarkTheme),__extends$1K=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),palette$1={fills:["#5BC0EB","#FDE74C","#9BC53D","#E55934","#FA7921","#fa3081"],strokes:["#4086a4","#b1a235","#6c8a2b","#a03e24","#af5517","#af225a"]},VividLight=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$1K(e,t),e.prototype.getPalette=function(){return palette$1},e}(ChartTheme),__extends$1J=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),palette={fills:["#5BC0EB","#FDE74C","#9BC53D","#E55934","#FA7921","#fa3081"],strokes:["#4086a4","#b1a235","#6c8a2b","#a03e24","#af5517","#af225a"]},VividDark=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$1J(e,t),e.prototype.getPalette=function(){return palette},e}(DarkTheme),__assign$p=function(){return __assign$p=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},__assign$p.apply(this,arguments)},lightTheme=function(){return new ChartTheme},darkTheme=function(){return new DarkTheme},lightThemes={undefined:lightTheme,null:lightTheme,"ag-default":lightTheme,"ag-material":function(){return new MaterialLight},"ag-pastel":function(){return new PastelLight},"ag-solar":function(){return new SolarLight},"ag-vivid":function(){return new VividLight}},darkThemes={undefined:darkTheme,null:darkTheme,"ag-default-dark":darkTheme,"ag-material-dark":function(){return new MaterialDark},"ag-pastel-dark":function(){return new PastelDark},"ag-solar-dark":function(){return new SolarDark},"ag-vivid-dark":function(){return new VividDark}},themes$1=__assign$p(__assign$p({},darkThemes),lightThemes);function getChartTheme(t){var e;if(t instanceof ChartTheme)return t;var n=themes$1[t];if(n)return n();for(var i,o=[];"object"==typeof t;)o.push(null!==(e=t.overrides)&&void 0!==e?e:{}),t.palette&&null==i&&(i=t.palette),t=t.baseTheme;o.reverse();var r=__assign$p({baseTheme:t,overrides:jsonMerge(o)},i?{palette:i}:{});return r.baseTheme||r.overrides?new(getChartTheme(r.baseTheme).constructor)(r):lightTheme()}var __assign$o=function(){return __assign$o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},__assign$o.apply(this,arguments)},__values$a=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},__read$q=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},__spread$e=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$q(arguments[e]));return t};function groupSeriesByType(t){var e,n,i={},o=[];try{for(var r=__values$a(t),s=r.next();!s.done;s=r.next()){var a=s.value;if("column"===a.type||"bar"===a.type||"area"===a.type&&!0===a.stacked){var l=a.type||"line",c=a.stacked?"stacked":"grouped",u=l+"-"+a.xKey+"-"+c;null==i[u]&&(i[u]=[],o.push(i[u])),i[u].push(a)}else o.push([a])}}catch(t){e={error:t}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return o}var FAIL=Symbol(),SKIP=Symbol(),ARRAY_REDUCER=function(t){return function(e,n){var i;return e.concat.apply(e,__spread$e(null!==(i=n[t])&&void 0!==i?i:[]))}},BOOLEAN_OR_REDUCER=function(t,e){return function(n,i){return"boolean"==typeof i[t]?null!=n&&n||i[t]:null!=n?n:e}},DEFAULTING_ARRAY_REDUCER=function(t,e){return function(n,i,o,r){var s,a=e===SKIP||e===FAIL,l=null!==(s=i[t])&&void 0!==s?s:e;if(l===FAIL)throw new Error("AG Charts - missing value for property ["+t+"] on series config.");if(l===SKIP)return n;if(0===n.length&&!a)for(;n.length<r;)n=n.concat(e);return a?n.concat(l):(n[o]=l,n)}},YKEYS_REDUCER=function(t,e){return function(n,i){return i[t]===e?n.concat.apply(n,__spread$e(i.yKey?[i.yKey]:i.yKeys)):n}},STACK_GROUPS_REDUCER=function(){return function(t,e){var n;return __assign$o(__assign$o({},t),((n={})[e.stackGroup]=__spread$e(t[e.stackGroup]||[],[e.yKey]),n))}},REDUCE_CONFIG={hideInChart:{outputProp:"hideInChart",reducer:ARRAY_REDUCER("hideInChart"),start:[]},hideInLegend:{outputProp:"hideInLegend",reducer:ARRAY_REDUCER("hideInLegend"),start:[]},yKey:{outputProp:"yKeys",reducer:DEFAULTING_ARRAY_REDUCER("yKey",SKIP),start:[]},fill:{outputProp:"fills",reducer:DEFAULTING_ARRAY_REDUCER("fill",SKIP),start:[]},stroke:{outputProp:"strokes",reducer:DEFAULTING_ARRAY_REDUCER("stroke",SKIP),start:[]},yName:{outputProp:"yNames",reducer:DEFAULTING_ARRAY_REDUCER("yName",SKIP),start:[]},visible:{outputProp:"visibles",reducer:DEFAULTING_ARRAY_REDUCER("visible",!0),start:[]},grouped:{outputProp:"grouped",reducer:BOOLEAN_OR_REDUCER("grouped"),seriesType:["bar","column"],start:void 0},showInLegend:{outputProp:"hideInLegend",reducer:YKEYS_REDUCER("showInLegend",!1),seriesType:["bar","column"],start:[]},stackGroup:{outputProp:"stackGroups",reducer:STACK_GROUPS_REDUCER(),seriesType:["bar","column"],start:{}}};function reduceSeries(t){var e={};return t.forEach((function(n,i){Object.keys(n).forEach((function(o){var r,s=REDUCE_CONFIG[o],a=function(){var t,i;e[o]=null!==(i=null!==(t=n[o])&&void 0!==t?t:e[o])&&void 0!==i?i:void 0};if(s){var l=s.outputProp,c=s.reducer,u=s.start,h=void 0===u?void 0:u,d=s.seriesType;if((void 0===d?[n.type]:d).includes(n.type)){var p=c(null!==(r=e[l])&&void 0!==r?r:h,n,i,t.length);void 0!==p&&(e[l]=p)}else a()}else a()}))})),e}function processSeriesOptions(t){var e,n,i=[],o=t.map((function(t){return"bar"!==t.type&&"column"!==t.type||null==t.yKey||t.stacked?t:__assign$o(__assign$o({},t),{grouped:null==t.grouped||t.grouped})}));try{for(var r=__values$a(groupSeriesByType(o)),s=r.next();!s.done;s=r.next()){var a=s.value;switch(a[0].type){case"column":case"bar":case"area":i.push(reduceSeries(a));break;default:a.length>1&&Logger.warn("unexpected grouping of series type: "+a[0].type),i.push(a[0])}}}catch(t){e={error:t}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return i}var types={number:"number",time:"time",log:"log",category:"category",groupedCategory:"groupedCategory"},CHART_AXES_TYPES={has:function(t){return Object.prototype.hasOwnProperty.call(types,t)},get axesTypes(){return Object.keys(types)}},__assign$n=function(){return __assign$n=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},__assign$n.apply(this,arguments)},__values$9=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},__read$p=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},__spread$d=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$p(arguments[e]));return t};function optionsType(t){var e,n,i,o;return null!==(o=null!==(e=t.type)&&void 0!==e?e:null===(i=null===(n=t.series)||void 0===n?void 0:n[0])||void 0===i?void 0:i.type)&&void 0!==o?o:"line"}function isAgCartesianChartOptions(t){var e=optionsType(t);return null==e||("cartesian"===e?(Logger.warnOnce("type '"+e+"' is deprecated, use a series type instead"),!0):CHART_TYPES.isCartesian(e))}function isAgHierarchyChartOptions(t){var e=optionsType(t);return null!=e&&("hierarchy"===e?(Logger.warnOnce("type '"+e+"' is deprecated, use a series type instead"),!0):CHART_TYPES.isHierarchy(e))}function isAgPolarChartOptions(t){var e=optionsType(t);return null!=e&&("polar"===e?(Logger.warnOnce("type '"+e+"' is deprecated, use a series type instead"),!0):CHART_TYPES.isPolar(e))}function isSeriesOptionType(t){return null!=t&&CHART_TYPES.has(t)}function isAxisOptionType(t){return null!=t&&CHART_AXES_TYPES.has(t)}function countArrayElements(t){var e,n,i=0;try{for(var o=__values$9(t),r=o.next();!r.done;r=o.next()){var s=r.value;s instanceof Array&&(i+=countArrayElements(s)),null!=s&&i++}}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return i}function takeColours(t,e,n){for(var i=[],o=0;o<n;o++)i.push(e[(o+t.colourIndex)%e.length]);return i}var noDataCloneMergeOptions={avoidDeepClone:["data"]};function prepareOptions(t,e,n){var i,o,r,s,a,l,c,u,h=jsonMerge([e,t],noDataCloneMergeOptions);sanityCheckOptions(h);var d=h.type,p=optionsType(h),f=(null===(a=h.tooltip)||void 0===a?void 0:a.position)||{},g=function(t){if(null!=t&&!isSeriesOptionType(t)&&!(null==n?void 0:n[t]))throw new Error("AG Charts - unknown series type: "+t+"; expected one of: "+CHART_TYPES.seriesTypes)};g(p);try{for(var m=__values$9(null!==(l=h.series)&&void 0!==l?l:[]),_=m.next();!_.done;_=m.next()){var y=_.value.type;null!=y&&g(y)}}catch(t){i={error:t}}finally{try{_&&!_.done&&(o=m.return)&&o.call(m)}finally{if(i)throw i.error}}h=__assign$n(__assign$n({},h),{type:p});var v="line";isAgCartesianChartOptions(h)?v="line":isAgHierarchyChartOptions(h)?v="treemap":isAgPolarChartOptions(h)&&(v="pie");var C={};n&&Object.prototype.hasOwnProperty.call(n,p)?C=n[p]:"bar"===p?C=DEFAULT_BAR_CHART_OVERRIDES:"scatter"===p||"histogram"===p?C=DEFAULT_SCATTER_HISTOGRAM_CHART_OVERRIDES:isAgCartesianChartOptions(h)&&(C=DEFAULT_CARTESIAN_CHART_OVERRIDES);var b=prepareMainOptions(C,h),E=b.context,S=b.mergedOptions,w=b.axesThemes,O=b.seriesThemes;S.series=processSeriesOptions((S.series||[]).map((function(t){var e=v;t.type?e=t.type:isSeriesOptionType(d)&&(e=d);var n=mergeSeriesOptions(t,e,O,f);return"pie"===e&&preparePieOptions(O.pie,t,n),n}))).map((function(t){return prepareSeries(E,t)}));var x=function(t){var e=isAxisOptionType(t);return e||Logger.warnOnce("AG Charts - unknown axis type: "+t+"; expected one of: "+CHART_AXES_TYPES.axesTypes+", ignoring."),e};if(isAgCartesianChartOptions(S)){var P=!0;try{for(var T=__values$9(null!==(c=S.axes)&&void 0!==c?c:[]),M=T.next();!M.done;M=T.next()){x(M.value.type)||(P=!1)}}catch(t){r={error:t}}finally{try{M&&!M.done&&(s=T.return)&&s.call(T)}finally{if(r)throw r.error}}S.axes=P?null===(u=S.axes)||void 0===u?void 0:u.map((function(t){var e=t.type;return prepareAxis(t,jsonMerge([w[e],w[e][t.position||"unknown"]||{}]))})):C.axes}return prepareEnabledOptions(h,S),S}function sanityCheckOptions(t){Object.entries({yKeys:"yKey",yNames:"yName"}).forEach((function(e){var n,i=__read$p(e,2),o=i[0],r=i[1];(null===(n=t.series)||void 0===n?void 0:n.some((function(t){return null!=t[o]})))&&Logger.warnOnce("property [series."+o+"] is deprecated, please use [series."+r+"] and multiple series instead.")}))}function mergeSeriesOptions(t,e,n,i){var o,r=jsonMerge([__assign$n({},i),null===(o=t.tooltip)||void 0===o?void 0:o.position],noDataCloneMergeOptions);return jsonMerge([n[e]||{},__assign$n(__assign$n({},t),{type:e,tooltip:__assign$n(__assign$n({},t.tooltip),{position:r})})],noDataCloneMergeOptions)}function prepareMainOptions(t,e){var n=prepareTheme(e),i=n.theme,o=n.cleanedTheme,r=n.axesThemes,s=n.seriesThemes;return{context:{colourIndex:0,palette:i.palette},mergedOptions:jsonMerge([t,o,e],noDataCloneMergeOptions),axesThemes:r,seriesThemes:s}}function prepareTheme(t){var e=getChartTheme(t.theme),n=e.config[optionsType(t)||"cartesian"],i=Object.entries(e.config).reduce((function(t,e){var n=__read$p(e,2),i=n[0],o=n[1].series;return t[i]=null==o?void 0:o[i],t}),{});return{theme:e,axesThemes:n.axes||{},seriesThemes:i,cleanedTheme:jsonMerge([n,{axes:DELETE,series:DELETE}])}}function prepareSeries(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var o=calculateSeriesPalette(t,e);return applySeriesTransform(jsonMerge(__spread$d(n,[o,e,{stacked:DELETE}]),noDataCloneMergeOptions))}function calculateSeriesPalette(t,e){var n={},i=t.palette,o=i.fills,r=i.strokes,s=countArrayElements(e.yKeys||[])||1;switch(e.type){case"pie":s=Math.max(o.length,r.length);case"area":case"bar":case"column":n.fills=takeColours(t,o,s),n.strokes=takeColours(t,r,s);break;case"histogram":n.fill=takeColours(t,o,1)[0],n.stroke=takeColours(t,r,1)[0];break;case"scatter":n.marker={stroke:takeColours(t,r,1)[0],fill:takeColours(t,o,1)[0]};break;case"line":n.stroke=takeColours(t,o,1)[0],n.marker={stroke:takeColours(t,r,1)[0],fill:takeColours(t,o,1)[0]}}return t.colourIndex+=s,n}function prepareAxis(t,e){var n={top:DELETE,bottom:DELETE,left:DELETE,right:DELETE};if(t.crossLines){Array.isArray(t.crossLines)||(Logger.warn("axis[].crossLines should be an array."),t.crossLines=[]);var i=e.crossLines;t.crossLines=t.crossLines.map((function(t){return jsonMerge([i,t])}))}return jsonMerge([e,{crossLines:DELETE},t,n],noDataCloneMergeOptions)}function prepareEnabledOptions(t,e){jsonWalk(t,(function(t,e,n){if(n){var i=n._enabledFromTheme;null!=i&&delete n._enabledFromTheme,"enabled"in n&&(i||null==e.enabled&&(n.enabled=!0))}}),{skip:["data","theme"]},e),jsonWalk(e,(function(t,e){null!=e._enabledFromTheme&&delete e._enabledFromTheme}),{skip:["data","theme"]})}function preparePieOptions(t,e,n){Array.isArray(e.innerLabels)?n.innerLabels=e.innerLabels.map((function(e){return jsonMerge([t.innerLabels,e])})):n.innerLabels=DELETE}var horizontalCrosslineTranslationDirections={top:{xTranslationDirection:0,yTranslationDirection:-1},bottom:{xTranslationDirection:0,yTranslationDirection:1},left:{xTranslationDirection:-1,yTranslationDirection:0},right:{xTranslationDirection:1,yTranslationDirection:0},topLeft:{xTranslationDirection:1,yTranslationDirection:-1},topRight:{xTranslationDirection:-1,yTranslationDirection:-1},bottomLeft:{xTranslationDirection:1,yTranslationDirection:1},bottomRight:{xTranslationDirection:-1,yTranslationDirection:1},inside:{xTranslationDirection:0,yTranslationDirection:0},insideLeft:{xTranslationDirection:1,yTranslationDirection:0},insideRight:{xTranslationDirection:-1,yTranslationDirection:0},insideTop:{xTranslationDirection:0,yTranslationDirection:1},insideBottom:{xTranslationDirection:0,yTranslationDirection:-1},insideTopLeft:{xTranslationDirection:1,yTranslationDirection:1},insideBottomLeft:{xTranslationDirection:1,yTranslationDirection:-1},insideTopRight:{xTranslationDirection:-1,yTranslationDirection:1},insideBottomRight:{xTranslationDirection:-1,yTranslationDirection:-1}},verticalCrossLineTranslationDirections={top:{xTranslationDirection:1,yTranslationDirection:0},bottom:{xTranslationDirection:-1,yTranslationDirection:0},left:{xTranslationDirection:0,yTranslationDirection:-1},right:{xTranslationDirection:0,yTranslationDirection:1},topLeft:{xTranslationDirection:-1,yTranslationDirection:-1},topRight:{xTranslationDirection:-1,yTranslationDirection:1},bottomLeft:{xTranslationDirection:1,yTranslationDirection:-1},bottomRight:{xTranslationDirection:1,yTranslationDirection:1},inside:{xTranslationDirection:0,yTranslationDirection:0},insideLeft:{xTranslationDirection:0,yTranslationDirection:1},insideRight:{xTranslationDirection:0,yTranslationDirection:-1},insideTop:{xTranslationDirection:-1,yTranslationDirection:0},insideBottom:{xTranslationDirection:1,yTranslationDirection:0},insideTopLeft:{xTranslationDirection:-1,yTranslationDirection:1},insideBottomLeft:{xTranslationDirection:1,yTranslationDirection:1},insideTopRight:{xTranslationDirection:-1,yTranslationDirection:-1},insideBottomRight:{xTranslationDirection:1,yTranslationDirection:-1}},calculateLabelTranslation=function(t){var e,n=t.yDirection,i=t.padding,o=void 0===i?0:i,r=t.position,s=t.bbox,a=n?horizontalCrosslineTranslationDirections:verticalCrossLineTranslationDirections,l=null!==(e=a[r])&&void 0!==e?e:a.top,c=l.xTranslationDirection,u=l.yTranslationDirection;return{xTranslation:c*(o+(n?s.width:s.height)/2),yTranslation:u*(o+(n?s.height:s.width)/2)}},POSITION_TOP_COORDINATES=function(t){var e=t.yDirection,n=t.xEnd,i=t.yStart,o=t.yEnd;return e?{x:n/2,y:i}:{x:n,y:isNaN(o)?i:(i+o)/2}},POSITION_LEFT_COORDINATES=function(t){var e=t.yDirection,n=t.xStart,i=t.xEnd,o=t.yStart,r=t.yEnd;return e?{x:n,y:isNaN(r)?o:(o+r)/2}:{x:i/2,y:o}},POSITION_RIGHT_COORDINATES=function(t){var e=t.yDirection,n=t.xEnd,i=t.yStart,o=t.yEnd;return e?{x:n,y:isNaN(o)?i:(i+o)/2}:{x:n/2,y:isNaN(o)?i:o}},POSITION_BOTTOM_COORDINATES=function(t){var e=t.yDirection,n=t.xStart,i=t.xEnd,o=t.yStart,r=t.yEnd;return e?{x:i/2,y:isNaN(r)?o:r}:{x:n,y:isNaN(r)?o:(o+r)/2}},POSITION_INSIDE_COORDINATES=function(t){var e=t.xEnd,n=t.yStart,i=t.yEnd;return{x:e/2,y:isNaN(i)?n:(n+i)/2}},POSITION_TOP_LEFT_COORDINATES=function(t){var e=t.yDirection,n=t.xStart,i=t.xEnd,o=t.yStart;return e?{x:n/2,y:o}:{x:i,y:o}},POSITION_BOTTOM_LEFT_COORDINATES=function(t){var e=t.yDirection,n=t.xStart,i=t.yStart,o=t.yEnd;return e?{x:n,y:isNaN(o)?i:o}:{x:n,y:i}},POSITION_TOP_RIGHT_COORDINATES=function(t){var e=t.yDirection,n=t.xEnd,i=t.yStart,o=t.yEnd;return e?{x:n,y:i}:{x:n,y:isNaN(o)?i:o}},POSITION_BOTTOM_RIGHT_COORDINATES=function(t){var e=t.yDirection,n=t.xStart,i=t.xEnd,o=t.yStart,r=t.yEnd;return e?{x:i,y:isNaN(r)?o:r}:{x:n,y:isNaN(r)?o:r}},labeldDirectionHandling={top:{c:POSITION_TOP_COORDINATES},bottom:{c:POSITION_BOTTOM_COORDINATES},left:{c:POSITION_LEFT_COORDINATES},right:{c:POSITION_RIGHT_COORDINATES},topLeft:{c:POSITION_TOP_LEFT_COORDINATES},topRight:{c:POSITION_TOP_RIGHT_COORDINATES},bottomLeft:{c:POSITION_BOTTOM_LEFT_COORDINATES},bottomRight:{c:POSITION_BOTTOM_RIGHT_COORDINATES},inside:{c:POSITION_INSIDE_COORDINATES},insideLeft:{c:POSITION_LEFT_COORDINATES},insideRight:{c:POSITION_RIGHT_COORDINATES},insideTop:{c:POSITION_TOP_COORDINATES},insideBottom:{c:POSITION_BOTTOM_COORDINATES},insideTopLeft:{c:POSITION_TOP_LEFT_COORDINATES},insideBottomLeft:{c:POSITION_BOTTOM_LEFT_COORDINATES},insideTopRight:{c:POSITION_TOP_RIGHT_COORDINATES},insideBottomRight:{c:POSITION_BOTTOM_RIGHT_COORDINATES}},__extends$1I=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__assign$m=function(){return __assign$m=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},__assign$m.apply(this,arguments)},__decorate$1e=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},Range=function(t){function e(){var e=t.call(this)||this;return e.x1=0,e.y1=0,e.x2=0,e.y2=0,e.startLine=!1,e.endLine=!1,e.isRange=!1,e.restoreOwnStyles(),e}return __extends$1I(e,t),e.prototype.computeBBox=function(){return new BBox(this.x1,this.y1,this.x2-this.x1,this.y2-this.y1)},e.prototype.isPointInPath=function(t,e){return!1},e.prototype.render=function(e){var n,i=e.ctx,o=e.forceRender,r=e.stats;if(this.dirty!==RedrawType.NONE||o){this.computeTransformMatrix(),this.matrix.toContext(i);var s=this,a=s.x1,l=s.y1,c=s.x2,u=s.y2;a=this.align(a),l=this.align(l),c=this.align(c),u=this.align(u);var h=this,d=h.fill,p=h.opacity;if(!(!h.isRange||!d)){var f=this.fillOpacity;i.fillStyle=d,i.globalAlpha=p*f,i.beginPath(),i.moveTo(a,l),i.lineTo(c,l),i.lineTo(c,u),i.lineTo(a,u),i.closePath(),i.fill()}var g=this,m=g.stroke,_=g.strokeWidth,y=g.startLine,v=g.endLine;if(!(!y&&!v||!m||!_)){var C=this,b=C.strokeOpacity,E=C.lineDash,S=C.lineDashOffset,w=C.lineCap,O=C.lineJoin;i.strokeStyle=m,i.globalAlpha=p*b,i.lineWidth=_,E&&i.setLineDash(E),S&&(i.lineDashOffset=S),w&&(i.lineCap=w),O&&(i.lineJoin=O),i.beginPath(),y&&(i.moveTo(a,l),i.lineTo(c,l)),v&&(i.moveTo(c,u),i.lineTo(a,u)),i.stroke()}null===(n=this.fillShadow)||void 0===n||n.markClean(),t.prototype.render.call(this,e)}else r&&(r.nodesSkipped+=this.nodeCount.count)},e.className="Range",e.defaultStyles=__assign$m(__assign$m({},Shape.defaultStyles),{strokeWidth:1}),__decorate$1e([SceneChangeDetection({redraw:RedrawType.MINOR})],e.prototype,"x1",void 0),__decorate$1e([SceneChangeDetection({redraw:RedrawType.MINOR})],e.prototype,"y1",void 0),__decorate$1e([SceneChangeDetection({redraw:RedrawType.MINOR})],e.prototype,"x2",void 0),__decorate$1e([SceneChangeDetection({redraw:RedrawType.MINOR})],e.prototype,"y2",void 0),__decorate$1e([SceneChangeDetection({redraw:RedrawType.MINOR})],e.prototype,"startLine",void 0),__decorate$1e([SceneChangeDetection({redraw:RedrawType.MINOR})],e.prototype,"endLine",void 0),__decorate$1e([SceneChangeDetection({redraw:RedrawType.MINOR})],e.prototype,"isRange",void 0),e}(Shape),__decorate$1d=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},__read$o=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},__spread$c=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$o(arguments[e]));return t},CROSSLINE_LABEL_POSITIONS=["top","left","right","bottom","topLeft","topRight","bottomLeft","bottomRight","inside","insideLeft","insideRight","insideTop","insideBottom","insideTopLeft","insideBottomLeft","insideTopRight","insideBottomRight"],OPT_CROSSLINE_LABEL_POSITION=predicateWithMessage((function(t,e){return OPTIONAL(t,e,(function(t){return CROSSLINE_LABEL_POSITIONS.includes(t)}))}),"expecting an optional crossLine label position keyword such as 'topLeft', 'topRight' or 'inside'"),OPT_CROSSLINE_TYPE=predicateWithMessage((function(t,e){return OPTIONAL(t,e,(function(t){return"range"===t||"line"===t}))}),"expecting a crossLine type keyword such as 'range' or 'line'"),CrossLineLabel=function(){function t(){this.enabled=void 0,this.text=void 0,this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=14,this.fontFamily="Verdana, sans-serif",this.padding=5,this.color="rgba(87, 87, 87, 1)",this.position=void 0,this.rotation=void 0,this.parallel=void 0}return __decorate$1d([Validate(OPT_BOOLEAN)],t.prototype,"enabled",void 0),__decorate$1d([Validate(OPT_STRING)],t.prototype,"text",void 0),__decorate$1d([Validate(OPT_FONT_STYLE)],t.prototype,"fontStyle",void 0),__decorate$1d([Validate(OPT_FONT_WEIGHT)],t.prototype,"fontWeight",void 0),__decorate$1d([Validate(NUMBER(0))],t.prototype,"fontSize",void 0),__decorate$1d([Validate(STRING)],t.prototype,"fontFamily",void 0),__decorate$1d([Validate(NUMBER(0))],t.prototype,"padding",void 0),__decorate$1d([Validate(OPT_COLOR_STRING)],t.prototype,"color",void 0),__decorate$1d([Validate(OPT_CROSSLINE_LABEL_POSITION)],t.prototype,"position",void 0),__decorate$1d([Validate(OPT_NUMBER(-360,360))],t.prototype,"rotation",void 0),__decorate$1d([Validate(OPT_BOOLEAN)],t.prototype,"parallel",void 0),t}(),CrossLine=function(){function t(){this.id=createId$1(this),this.enabled=void 0,this.type=void 0,this.range=void 0,this.value=void 0,this.fill=void 0,this.fillOpacity=void 0,this.stroke=void 0,this.strokeWidth=void 0,this.strokeOpacity=void 0,this.lineDash=void 0,this.label=new CrossLineLabel,this.scale=void 0,this.clippedRange=[-1/0,1/0],this.gridLength=0,this.sideFlag=-1,this.parallelFlipRotation=0,this.regularFlipRotation=0,this.direction=ChartAxisDirection.X,this.group=new Group({name:""+this.id,layer:!0,zIndex:t.LINE_LAYER_ZINDEX}),this.crossLineRange=new Range,this.crossLineLabel=new Text,this.labelPoint=void 0,this.data=[],this.startLine=!1,this.endLine=!1,this.isRange=!1;var e=this,n=e.group,i=e.crossLineRange,o=e.crossLineLabel;n.append([i,o]),i.pointerEvents=PointerEvents.None}return t.prototype.update=function(t){this.enabled&&(this.group.visible=t,t&&(this.createNodeData()?(this.updateNodes(),this.group.zIndex=this.getZIndex(this.isRange)):this.group.visible=!1))},t.prototype.updateNodes=function(){this.updateRangeNode(),this.label.enabled&&(this.updateLabel(),this.positionLabel())},t.prototype.createNodeData=function(){var t,e,n,i,o,r=this,s=r.scale,a=r.gridLength,l=r.sideFlag,c=r.direction,u=r.label.position,h=void 0===u?"top":u,d=r.clippedRange,p=r.strokeWidth,f=void 0===p?0:p;if(!s)return!1;var g=null!==(i=s.bandwidth)&&void 0!==i?i:0,m=function(t){return Math.max(Math.min.apply(Math,__spread$c(d)),Math.min(Math.max.apply(Math,__spread$c(d)),t))},_=__read$o([0,l*a],2),y=_[0],v=_[1],C=__read$o(this.getRange(),2),b=C[0],E=C[1],S=__read$o([Number(s.convert(b,{strict:!1})),s.convert(E,{strict:!1})+g],2),w=S[0],O=S[1];w=m(w),O=m(O),b=(t=__read$o([Number(s.convert(b)),s.convert(E)+g],2))[0],E=t[1];var x=!isNaN(w)&&!isNaN(O)&&(b===w||E===O||w!==O)&&Math.abs(O-w)>0;x&&(w!==Math.min(w,O)&&(w=(e=__read$o([Math.min(w,O),Math.max(w,O)],2))[0],O=e[1],b=(n=__read$o([E,b],2))[0],E=n[1]));if(this.isRange=x,this.startLine=!isNaN(b)&&f>0&&b===w,this.endLine=!isNaN(E)&&f>0&&E===O,!x&&!this.startLine&&!this.endLine)return!1;if(this.data=[w,O],this.label.enabled){var P=c===ChartAxisDirection.Y,T=(null!==(o=labeldDirectionHandling[h])&&void 0!==o?o:{}).c,M=(void 0===T?POSITION_TOP_COORDINATES:T)({yDirection:P,xStart:y,xEnd:v,yStart:w,yEnd:O}),D=M.x,R=M.y;this.labelPoint={x:D,y:R}}return!0},t.prototype.updateRangeNode=function(){var t,e=this,n=e.crossLineRange,i=e.sideFlag,o=e.gridLength,r=e.data,s=e.startLine,a=e.endLine,l=e.isRange,c=e.fill,u=e.fillOpacity,h=e.stroke,d=e.strokeWidth,p=e.lineDash;n.x1=0,n.x2=i*o,n.y1=r[0],n.y2=r[1],n.startLine=s,n.endLine=a,n.isRange=l,n.fill=c,n.fillOpacity=null!=u?u:1,n.stroke=h,n.strokeWidth=null!=d?d:1,n.strokeOpacity=null!==(t=this.strokeOpacity)&&void 0!==t?t:1,n.lineDash=p},t.prototype.updateLabel=function(){var t=this.crossLineLabel,e=this.label;e.text&&(t.fontStyle=e.fontStyle,t.fontWeight=e.fontWeight,t.fontSize=e.fontSize,t.fontFamily=e.fontFamily,t.fill=e.color,t.text=e.text)},t.prototype.positionLabel=function(){var t=this,e=t.crossLineLabel,n=t.labelPoint,i=void 0===n?{}:n,o=i.x,r=void 0===o?void 0:o,s=i.y,a=void 0===s?void 0:s,l=t.label,c=l.parallel,u=l.rotation,h=l.position,d=void 0===h?"top":h,p=l.padding,f=void 0===p?0:p,g=t.direction,m=t.parallelFlipRotation,_=t.regularFlipRotation;if(void 0!==r&&void 0!==a){var y=calculateLabelRotation({rotation:u,parallel:c,regularFlipRotation:_,parallelFlipRotation:m}),v=y.autoRotation,C=y.labelRotation;e.rotation=v+C,e.textBaseline="middle",e.textAlign="center";var b=this.computeLabelBBox();if(b){var E=g===ChartAxisDirection.Y,S=calculateLabelTranslation({yDirection:E,padding:f,position:d,bbox:b}),w=S.xTranslation,O=S.yTranslation;e.translationX=r+w,e.translationY=a+O}}},t.prototype.getZIndex=function(e){return void 0===e&&(e=!1),e?t.RANGE_LAYER_ZINDEX:t.LINE_LAYER_ZINDEX},t.prototype.getRange=function(){var t,e=this,n=e.value,i=e.range,o=e.scale instanceof ContinuousScale,r=__read$o(null!=i?i:[n,void 0],2),s=r[0],a=r[1];return o||void 0!==a||(a=s),s=(t=__read$o([checkDatum(s,o),checkDatum(a,o)],2))[0],a=t[1],o&&s===a&&(a=void 0),void 0===s&&void 0!==a&&(s=a,a=void 0),[s,a]},t.prototype.computeLabelBBox=function(){return this.crossLineLabel.computeTransformedBBox()},t.prototype.calculatePadding=function(t,e){var n,i,o,r,s,a,l=this,c=l.isRange,u=l.startLine,h=l.endLine;if(c||u||h){var d=this.computeLabelBBox(),p=null==d?void 0:d.x,f=null==d?void 0:d.y;if(null!=p&&null!=f){var g=null!==(n=null==d?void 0:d.width)&&void 0!==n?n:0,m=null!==(i=null==d?void 0:d.height)&&void 0!==i?i:0;if(!(g>e.width||m>e.height)){if(p+g>=e.x+e.width){var _=p+g-(e.x+e.width);t.right=(null!==(o=t.right)&&void 0!==o?o:0)>=_?t.right:_}else if(p<=e.x){var y=e.x-p;t.left=(null!==(r=t.left)&&void 0!==r?r:0)>=y?t.left:y}if(f+m>=e.y+e.height){var v=f+m-(e.y+e.height);t.bottom=(null!==(s=t.bottom)&&void 0!==s?s:0)>=v?t.bottom:v}else if(f<=e.y){var C=e.y-f;t.top=(null!==(a=t.top)&&void 0!==a?a:0)>=C?t.top:C}}}}},t.LINE_LAYER_ZINDEX=Layers.SERIES_CROSSLINE_LINE_ZINDEX,t.RANGE_LAYER_ZINDEX=Layers.SERIES_CROSSLINE_RANGE_ZINDEX,t.className="CrossLine",__decorate$1d([Validate(OPT_BOOLEAN)],t.prototype,"enabled",void 0),__decorate$1d([Validate(OPT_CROSSLINE_TYPE)],t.prototype,"type",void 0),__decorate$1d([Validate(OPT_ARRAY(2))],t.prototype,"range",void 0),__decorate$1d([Validate(OPT_COLOR_STRING)],t.prototype,"fill",void 0),__decorate$1d([Validate(OPT_NUMBER(0,1))],t.prototype,"fillOpacity",void 0),__decorate$1d([Validate(OPT_COLOR_STRING)],t.prototype,"stroke",void 0),__decorate$1d([Validate(OPT_NUMBER())],t.prototype,"strokeWidth",void 0),__decorate$1d([Validate(OPT_NUMBER(0,1))],t.prototype,"strokeOpacity",void 0),__decorate$1d([Validate(OPT_LINE_DASH)],t.prototype,"lineDash",void 0),t}(),__extends$1H=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$1c=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},Image=function(t){function e(e){var n=t.call(this)||this;return n.x=0,n.y=0,n.width=0,n.height=0,n.opacity=1,n.sourceImage=e,n}return __extends$1H(e,t),e.prototype.render=function(e){var n=e.ctx,i=e.forceRender,o=e.stats;if(this.dirty!==RedrawType.NONE||i){this.computeTransformMatrix(),this.matrix.toContext(n);var r=this.sourceImage;n.globalAlpha=this.opacity,n.drawImage(r,0,0,r.width,r.height,this.x,this.y,this.width,this.height),t.prototype.render.call(this,e)}else o&&o.nodesSkipped++},__decorate$1c([SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"x",void 0),__decorate$1c([SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"y",void 0),__decorate$1c([SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"width",void 0),__decorate$1c([SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"height",void 0),__decorate$1c([SceneChangeDetection({redraw:RedrawType.MAJOR})],e.prototype,"opacity",void 0),e}(Node),BackgroundImage=function(){function t(){var t=this;this._image=document.createElement("img"),this.loadedSynchronously=!0,this.left=void 0,this.top=void 0,this.right=void 0,this.bottom=void 0,this.width=void 0,this.height=void 0,this.opacity=1,this.containerWidth=0,this.containerHeight=0,this.onload=void 0,this.onImageLoad=function(){t.loadedSynchronously||(t.node.visible=!1,t.performLayout(t.containerWidth,t.containerHeight),t.onload&&t.onload())},this.node=new Image(this._image),this._image.onload=this.onImageLoad}return Object.defineProperty(t.prototype,"url",{get:function(){return this._image.src},set:function(t){this._image.src=t,this.loadedSynchronously=this.complete},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"complete",{get:function(){return this._image.width>0&&this._image.height>0},enumerable:!1,configurable:!0}),t.prototype.performLayout=function(t,e){if(this.containerWidth=t,this.containerHeight=e,this.complete){var n=this.calculatePosition(this._image.width,this._image.height);Object.assign(this.node,n),this.node.visible=!0,this.node.opacity=this.opacity}else this.node.visible=!1},t.prototype.calculatePosition=function(t,e){var n=this.left,i=this.right,o=this.width,r=this.top,s=this.bottom,a=this.height;return null!=n?null!=i?o=this.containerWidth-n-i:null!=o&&(i=this.containerWidth-n+o):null!=i&&null!=o&&(n=this.containerWidth-i-o),null!=r?null!=s?a=this.containerHeight-s-r:null!=a&&(s=this.containerHeight-r-a):null!=s&&null!=a&&(r=this.containerHeight-s-a),null==o?null==a?(o=t,a=e):o=Math.ceil(t*a/e):null==a&&(a=Math.ceil(e*o/t)),null==n&&(n=null==i?Math.floor((this.containerWidth-o)/2):this.containerWidth-i-o),null==r&&(r=null==s?Math.floor((this.containerHeight-a)/2):this.containerHeight-a-s),{x:n,y:r,width:o,height:a}},t}(),__assign$l=function(){return __assign$l=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},__assign$l.apply(this,arguments)},__awaiter=function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function s(t){try{l(i.next(t))}catch(t){r(t)}}function a(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((i=i.apply(t,e||[])).next())}))},__generator=function(t,e){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(t){r=[6,t],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},__read$n=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},__spread$b=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$n(arguments[e]));return t},__values$8=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function chartType(t){if(isAgCartesianChartOptions(t))return"cartesian";if(isAgPolarChartOptions(t))return"polar";if(isAgHierarchyChartOptions(t))return"hierarchy";throw new Error("AG Chart - unknown type of chart for options with type: "+t.type)}var AgChart=function(){function t(){}return t.create=function(t){return AgChartInternal.createOrUpdate(t)},t.update=function(t,e){if(!AgChartInstanceProxy.isInstance(t))throw new Error("AG Charts - invalid chart reference passed");AgChartInternal.createOrUpdate(e,t)},t.updateDelta=function(t,e){if(!AgChartInstanceProxy.isInstance(t))throw new Error("AG Charts - invalid chart reference passed");return AgChartInternal.updateUserDelta(t,e)},t.download=function(t,e){if(!(t instanceof AgChartInstanceProxy))throw new Error("AG Charts - invalid chart reference passed");return AgChartInternal.download(t,e)},t.getImageDataURL=function(t,e){if(!(t instanceof AgChartInstanceProxy))throw new Error("AG Charts - invalid chart reference passed");return AgChartInternal.getImageDataURL(t,e)},t}(),AgChartInstanceProxy=function(){function t(t){this.chart=t}return t.isInstance=function(e){var n,i;if(e instanceof t)return!0;if("AgChartInstanceProxy"===(null===(n=e.constructor)||void 0===n?void 0:n.name)&&null!=e.chart)return!0;var o=Object.keys(null===(i=e.constructor)||void 0===i?void 0:i.prototype);return!(!Object.keys(t.prototype).every((function(t){return o.includes(t)}))||null==e.chart)},t.prototype.getOptions=function(){return this.chart.getOptions()},t.prototype.destroy=function(){this.chart.destroy()},t}(),AgChartInternal=function(){function t(){}return t.createOrUpdate=function(e,n){var i=this;debug(">>> createOrUpdate() user options",e);var o={};!0===t.DEBUG()&&(o.debug=!0);var r=e.overrideDevicePixelRatio;delete e.overrideDevicePixelRatio,initialiseSeriesModules();var s=prepareOptions(e,o,seriesDefaults),a=null==n?void 0:n.chart;null!=a&&chartType(e)===chartType(a.processedOptions)||(a=t.createChartInstance(s,r,a)),null==n?n=new AgChartInstanceProxy(a):n.chart=a;var l=a;l.queuedUserOptions.push(e);var c=function(){var t=l.queuedUserOptions.indexOf(e);l.queuedUserOptions.splice(0,t)};return l.requestFactoryUpdate((function(){return __awaiter(i,void 0,void 0,(function(){var n;return __generator(this,(function(i){switch(i.label){case 0:return l.destroyed?[2]:null==(n=jsonDiff(l.processedOptions,s))?(c(),[2]):[4,t.updateDelta(l,n,e)];case 1:return i.sent(),c(),[2]}}))}))})),n},t.updateUserDelta=function(e,n){var i,o=e.chart,r=e.chart.queuedUserOptions,s=null!==(i=r[r.length-1])&&void 0!==i?i:o.userOptions,a=jsonMerge([s,n]);debug(">>> updateUserDelta() user delta",n),debug("base options",s),t.createOrUpdate(a,e)},t.download=function(e,n){__awaiter(this,void 0,void 0,(function(){var i;return __generator(this,(function(o){switch(o.label){case 0:return[4,t.prepareResizedChart(e,n)];case 1:return(i=o.sent()).chart.scene.download(null==n?void 0:n.fileName,null==n?void 0:n.fileFormat),i!==e&&i.destroy(),[2]}}))}))},t.getImageDataURL=function(e,n){return __awaiter(this,void 0,void 0,(function(){var i,o,r;return __generator(this,(function(s){switch(s.label){case 0:return[4,t.prepareResizedChart(e,n)];case 1:return i=s.sent(),o=i.chart,r=o.scene.canvas.getDataURL(null==n?void 0:n.fileFormat),i!==e&&i.destroy(),[2,r]}}))}))},t.prepareResizedChart=function(e,n){return __awaiter(this,void 0,void 0,(function(){var i,o,r,s,a,l,c,u;return __generator(this,(function(h){switch(h.label){case 0:return i=e.chart,r=(o=n||{}).width,s=o.height,a=i.width,l=i.height,void 0===r&&void 0===s||1===i.scene.canvas.pixelRatio&&a===r&&l===s?[2,e]:(r=null!=r?r:a,s=null!=s?s:l,c=__assign$l(__assign$l({},i.userOptions),{container:document.createElement("div"),width:r,height:s,autoSize:!1,overrideDevicePixelRatio:1}),[4,(u=t.createOrUpdate(c)).chart.waitForUpdate()]);case 1:return h.sent(),[2,u]}}))}))},t.createChartInstance=function(t,e,n){var i=null==n?void 0:n.destroy({keepTransferableResources:!0});if(isAgCartesianChartOptions(t))return new CartesianChart(document,e,i);if(isAgHierarchyChartOptions(t))return new HierarchyChart(document,e,i);if(isAgPolarChartOptions(t))return new PolarChart(document,e,i);throw new Error("AG Charts - couldn't apply configuration, check type of options: "+t.type)},t.updateDelta=function(t,e,n){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(i){switch(i.label){case 0:return null==e.type&&(e=__assign$l(__assign$l({},e),{type:t.processedOptions.type||optionsType(e)})),[4,t.awaitUpdateCompletion()];case 1:return i.sent(),t.destroyed?[2]:(debug("applying delta",e),applyChartOptions(t,e,n),[2])}}))}))},t.DEBUG=function(){var t;return null!==(t=windowValue("agChartsDebug"))&&void 0!==t&&t},t}();function debug(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];[!0,"opts"].includes(AgChartInternal.DEBUG())&&Logger.debug.apply(Logger,__spread$b([t],e))}function applyChartOptions(t,e,n){var i,o,r,s,a=jsonMerge([null!==(i=t.processedOptions)&&void 0!==i?i:{},e],noDataCloneMergeOptions),l=applyModules(t,a),c=["type","data","series","autoSize","listeners","theme","legend.listeners"];if(isAgCartesianChartOptions(e))c.push("axes");else if(!isAgPolarChartOptions(e)&&!isAgHierarchyChartOptions(e))throw new Error("AG Charts - couldn't apply configuration, check type of options and chart: "+e.type);e.listeners&&registerListeners(t,e.listeners),applyOptionValues(t,e,{skip:c});var u=!1;(e.series&&e.series.length>0&&(applySeries(t,e),u=!0),isAgCartesianChartOptions(e)&&e.axes)&&(applyAxes(t,e)&&(u=!0));var h=e.series,d=!!e.data||(null==h?void 0:h.some((function(t){return null!=t.data}))),p=e.legend||e.title||e.subtitle;u=u||d||!!p,e.data&&(t.data=e.data),null!=e.autoSize&&(t.autoSize=e.autoSize),(null===(o=e.legend)||void 0===o?void 0:o.listeners)&&Object.assign(t.legend.listeners,null!==(r=e.legend.listeners)&&void 0!==r?r:{}),e.listeners&&t.updateAllSeriesListeners(),t.processedOptions=a,t.userOptions=jsonMerge([null!==(s=t.userOptions)&&void 0!==s?s:{},n],noDataCloneMergeOptions);var f=u||l?ChartUpdateType.PROCESS_DATA:ChartUpdateType.PERFORM_LAYOUT;debug("chart update type",{updateType:ChartUpdateType[f]}),t.update(f,{forceNodeDataRefresh:u})}function applyModules(t,e){var n,i,o,r=!1,s=REGISTERED_MODULES.filter((function(t){return"root"===t.type}));try{for(var a=__values$8(s),l=a.next();!l.done;l=a.next()){var c=l.value,u=(o=c,(t instanceof CartesianChart&&o.chartTypes.includes("cartesian")||t instanceof PolarChart&&o.chartTypes.includes("polar")||t instanceof HierarchyChart&&o.chartTypes.includes("hierarchy"))&&null!=e[c.optionsKey]);u!==t.isModuleEnabled(c)&&(r=!0,u?t.addModule(c):t.removeModule(c))}}catch(t){n={error:t}}finally{try{l&&!l.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}return r}function applySeries(t,e){var n=e.series;if(n){var i=t.series.length===n.length&&t.series.every((function(t,e){var i;return t.type===(null===(i=n[e])||void 0===i?void 0:i.type)}));i?t.series.forEach((function(e,i){var o,r,s=jsonDiff((null===(r=null===(o=t.processedOptions)||void 0===o?void 0:o.series)||void 0===r?void 0:r[i])||{},n[i]||{});s&&(debug("applying series diff idx "+i,s),applySeriesValues(e,s,{path:"series["+i+"]",index:i}),e.markNodeDataDirty())})):t.series=createSeries(n)}}function applyAxes(t,e){var n=e.axes;if(!n)return!1;if(t.axes.length===n.length&&t.axes.every((function(t,e){return t.type===n[e].type}))){var i=t.processedOptions;if(isAgCartesianChartOptions(i))return t.axes.forEach((function(t,e){var o,r=jsonDiff((null===(o=i.axes)||void 0===o?void 0:o[e])||{},n[e]);debug("applying axis diff idx "+e,r);applyOptionValues(t,r,{path:"axes["+e+"]",skip:["axes[].type"]})})),!0}return t.axes=createAxis(t,n),!0}function createSeries(t){var e,n,i=[],o=0;try{for(var r=__values$8(t||[]),s=r.next();!s.done;s=r.next()){var a=s.value,l="series["+o+++"]",c=getSeries(a.type);applySeriesValues(c,a,{path:l,index:o}),i.push(c)}}catch(t){e={error:t}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return i}function createAxis(t,e){var n,i,o=[],r=["axes[].type"],s=t.getModuleContext(),a=0;try{for(var l=__values$8(e||[]),c=l.next();!c.done;c=l.next()){var u=c.value,h=void 0;switch(u.type){case"number":h=new NumberAxis(s);break;case LogAxis.type:h=new LogAxis(s);break;case CategoryAxis.type:h=new CategoryAxis(s);break;case GroupedCategoryAxis.type:h=new GroupedCategoryAxis(s);break;case TimeAxis.type:h=new TimeAxis(s);break;default:throw new Error("AG Charts - unknown axis type: "+u.type)}var d="axes["+a+++"]";applyAxisModules(h,u),applyOptionValues(h,u,{path:d,skip:r}),o.push(h)}}catch(t){n={error:t}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(n)throw n.error}}return o}function applyAxisModules(t,e){var n,i,o=!1,r=REGISTERED_MODULES.filter((function(t){return"axis"===t.type}));try{for(var s=__values$8(r),a=s.next();!a.done;a=s.next()){var l=a.value,c=null!=e[l.optionsKey];c!==t.isModuleEnabled(l)&&(o=!0,c?t.addModule(l):t.removeModule(l))}}catch(t){n={error:t}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return o}function registerListeners(t,e){for(var n in t.clearEventListeners(),e){var i=e[n];"function"==typeof i&&t.addEventListener(n,i)}}var JSON_APPLY_OPTIONS={constructors:{title:Caption,subtitle:Caption,footnote:Caption,shadow:DropShadow,innerCircle:DoughnutInnerCircle,"axes[].crossLines[]":CrossLine,"series[].innerLabels[]":DoughnutInnerLabel,"background.image":BackgroundImage},allowedTypes:{"legend.pagination.marker.shape":["primitive","function"],"series[].marker.shape":["primitive","function"],"axis[].tick.count":["primitive","class-instance"]}};function applyOptionValues(t,e,n){var i=void 0===n?{}:n,o=i.skip,r=i.path;return jsonApply(t,e,__assign$l(__assign$l(__assign$l({},JSON_APPLY_OPTIONS),{skip:o}),r?{path:r}:{}))}function applySeriesValues(t,e,n){var i=void 0===n?{}:n,o=i.path,r=i.index,s=(null==JSON_APPLY_OPTIONS?void 0:JSON_APPLY_OPTIONS.constructors)||{},a={constructors:__assign$l(__assign$l({},s),{title:"pie"===t.type?PieTitle:s.title})},l=jsonApply(t,e,__assign$l(__assign$l(__assign$l(__assign$l(__assign$l({},JSON_APPLY_OPTIONS),a),{skip:__spread$b(["series[].type"],["series[].listeners"]||[])}),o?{path:o}:{}),{idx:null!=r?r:-1})),c=null==e?void 0:e.listeners;return null!=c&&registerListeners(t,c),l}var VERSION$b="7.3.0",__read$m=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},themes=Object.entries(themes$1).reduce((function(t,e){var n=__read$m(e,2),i=n[0],o=n[1];return t[i]=o(),t}),{}),__extends$1G=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$1b=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},ChartDatasource=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$1G(e,t),e.prototype.getData=function(t){if(t.crossFiltering){if(t.grouping)return console.warn("AG Grid: crossing filtering with row grouping is not supported."),{chartData:[],columnNames:{}};if(!this.gridOptionsService.isRowModelType("clientSide"))return console.warn("AG Grid: crossing filtering is only supported in the client side row model."),{chartData:[],columnNames:{}}}this.gridOptionsService.isRowModelType("serverSide")&&t.pivoting&&this.updatePivotKeysForSSRM();var e=this.extractRowsFromGridRowModel(t);return e.chartData=this.aggregateRowsByDimension(t,e.chartData),e},e.prototype.extractRowsFromGridRowModel=function(t){var n,i=this,o=[],r={},s={},a={},l={},c=[];if(t.crossFiltering)l=this.getFilteredRowNodes(),n=(c=this.getAllRowNodes()).length;else{var u=this.gridRowModel.getRowCount()-1;n=(t.endRow>=0?Math.min(t.endRow,u):u)-t.startRow+1}for(var h=function(n){var u={},h=t.crossFiltering?c[n]:d.gridRowModel.getRow(n+t.startRow);t.dimensionCols.forEach((function(o){var r=o.colId,l=i.columnModel.getGridColumn(r);if(l){var c=i.valueService.getValue(l,h);if(t.grouping){var d=c&&c.toString?String(c.toString()):"",p=e.getGroupLabels(h,d);u[r]={labels:p,toString:function(){return this.labels.filter((function(t){return!!t})).reverse().join(" - ")}},h.group&&(s[p.toString()]=n);var f=p.slice(1,p.length).toString();f&&(a[f]=s[f])}else u[r]=c}else u[ChartDataModel.DEFAULT_CATEGORY]=n+1})),t.valueCols.forEach((function(e){var n=[],o=e.getColDef().pivotKeys;o&&(n=o.slice());var s=e.getColDef().headerName;s&&n.push(s),n.length>0&&(r[e.getId()]=n);var a=e.getColId();if(t.crossFiltering){var c=a+"-filtered-out",d=null!=(p=i.valueService.getValue(e,h))&&"function"==typeof p.toNumber?p.toNumber():p;l[h.id]?(u[a]=d,u[c]=t.aggFunc||t.isScatter?void 0:0):(u[a]=t.aggFunc||t.isScatter?void 0:0,u[c]=d)}else{var p;(p=i.valueService.getValue(e,h))&&p.hasOwnProperty("toString")&&(p=parseFloat(p.toString())),u[a]=null!=p&&"function"==typeof p.toNumber?p.toNumber():p}})),h.footer&&(u.footer=!0),o.push(u)},d=this,p=0;p<n;p++)h(p);if(t.grouping){var f=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.values(a);o=o.filter((function(t,e){return!t.footer&&!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(f,e)}))}return{chartData:o,columnNames:r}},e.prototype.aggregateRowsByDimension=function(t,e){var n=this,i=t.dimensionCols;if(!t.aggFunc||0===i.length)return e;var o=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(i),r=o&&o.colId,s={},a=[];return e.forEach((function(t){var e=s;i.forEach((function(n){var o=n.colId,s=t[o];if(o===r){var l=e[s];l||(l={__children:[]},i.forEach((function(e){var n=e.colId;l[n]=t[n]})),e[s]=l,a.push(l)),l.__children.push(t)}else e[s]||(e[s]={}),e=e[s]}))})),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.assertRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.RowGroupingModule,"Charting Aggregation")&&a.forEach((function(e){return t.valueCols.forEach((function(i){if(t.crossFiltering)t.valueCols.forEach((function(i){var o=i.getColId(),r=e.__children.filter((function(t){return void 0!==t[o]})).map((function(t){return t[o]})),s=n.aggregationStage.aggregateValues(r,t.aggFunc);e[i.getId()]=s&&void 0!==s.value?s.value:s;var a=o+"-filtered-out",l=e.__children.filter((function(t){return void 0!==t[a]})).map((function(t){return t[a]})),c=n.aggregationStage.aggregateValues(l,t.aggFunc);e[a]=c&&void 0!==c.value?c.value:c}));else{var o=e.__children.map((function(t){return t[i.getId()]})),r=0;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.assertRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.RowGroupingModule,"Charting Aggregation")&&(r=n.aggregationStage.aggregateValues(o,t.aggFunc)),e[i.getId()]=r&&void 0!==r.value?r.value:r}}))})),a},e.prototype.updatePivotKeysForSSRM=function(){var t=this.columnModel.getSecondaryColumns();if(t){var e=this.extractPivotKeySeparator(t);t.forEach((function(t){if(""===e)t.getColDef().pivotKeys=[];else{var n=t.getColId().split(e);t.getColDef().pivotKeys=n.slice(0,n.length-1)}}))}},e.prototype.extractPivotKeySeparator=function(t){if(0===t.length)return"";var e=function(t,n){var i=t.getGroupId();return t.getParent()?e(t.getParent(),i):n.split(i)[1][0]},n=t[0];return null==n.getParent()?"":e(n.getParent(),n.getColId())},e.getGroupLabels=function(t,e){for(var n=[e];t&&0!==t.level;)(t=t.parent)&&n.push(t.key);return n},e.prototype.getFilteredRowNodes=function(){var t={};return this.gridRowModel.forEachNodeAfterFilterAndSort((function(e){t[e.id]=e})),t},e.prototype.getAllRowNodes=function(){var t=[];return this.gridRowModel.forEachNode((function(e){t.push(e)})),this.sortRowNodes(t)},e.prototype.sortRowNodes=function(t){var e=this.sortController.getSortOptions();return!e||0==e.length?t:this.rowNodeSorter.doFullSort(t,e)},__decorate$1b([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowModel")],e.prototype,"gridRowModel",void 0),__decorate$1b([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("valueService")],e.prototype,"valueService",void 0),__decorate$1b([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$1b([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowNodeSorter")],e.prototype,"rowNodeSorter",void 0),__decorate$1b([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("sortController")],e.prototype,"sortController",void 0),__decorate$1b([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FiY)("aggregationStage")],e.prototype,"aggregationStage",void 0),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$1F=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$1a=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},__read$l=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},__spread$a=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$l(arguments[e]));return t},ChartDataModel=function(t){function e(e){var n=t.call(this)||this;return n.unlinked=!1,n.chartData=[],n.valueColState=[],n.dimensionColState=[],n.columnNames={},n.grouping=!1,n.crossFiltering=!1,n.suppressComboChartWarnings=!1,n.chartId=e.chartId,n.chartType=e.chartType,n.pivotChart=e.pivotChart,n.chartThemeName=e.chartThemeName,n.aggFunc=e.aggFunc,n.referenceCellRange=e.cellRange,n.suppliedCellRange=e.cellRange,n.suppressChartRanges=e.suppressChartRanges,n.unlinked=!!e.unlinkChart,n.crossFiltering=!!e.crossFiltering,n.seriesChartTypes=e.seriesChartTypes||[],n.initComboCharts(e),n}return __extends$1F(e,t),e.prototype.initComboCharts=function(t){var e=this.seriesChartTypes&&this.seriesChartTypes.length>0;("customCombo"===t.chartType||e)&&(this.chartType="customCombo",this.savedCustomSeriesChartTypes=this.seriesChartTypes||[])},e.prototype.init=function(){this.datasource=this.createManagedBean(new ChartDatasource),this.updateCellRanges()},e.prototype.updateCellRanges=function(t){this.valueCellRange&&(this.referenceCellRange=this.valueCellRange);var e=this.getAllChartColumns(),n=e.dimensionCols,i=e.valueCols,o=this.getAllColumnsFromRanges();t&&this.updateColumnState(t),this.setDimensionCellRange(n,o,t),this.setValueCellRange(i,o,t),t||(this.resetColumnState(),this.syncDimensionCellRange()),this.updateSeriesChartTypes(),this.updateData()},e.prototype.updateSeriesChartTypes=function(){this.isComboChart()&&(this.seriesChartTypes=this.seriesChartTypes.map((function(t){var e=["groupedColumn","stackedColumn","stackedArea"].includes(t.chartType);return t.secondaryAxis=!e&&t.secondaryAxis,t})),"customCombo"!==this.chartType?this.updateChartSeriesTypesForBuiltInCombos():this.updateSeriesChartTypesForCustomCombo())},e.prototype.updateSeriesChartTypesForCustomCombo=function(){var t=this;this.seriesChartTypes&&this.seriesChartTypes.length>0||this.suppressComboChartWarnings||console.warn("AG Grid: 'seriesChartTypes' are required when the 'customCombo' chart type is specified."),this.seriesChartTypes=this.seriesChartTypes.map((function(t){return e.SUPPORTED_COMBO_CHART_TYPES.includes(t.chartType)||(console.warn("AG Grid: invalid chartType '"+t.chartType+"' supplied in 'seriesChartTypes', converting to 'line' instead."),t.chartType="line"),t}));var n=this.valueColState.map((function(e){t.savedCustomSeriesChartTypes&&0!==t.savedCustomSeriesChartTypes.length||(t.savedCustomSeriesChartTypes=t.seriesChartTypes);var n=t.savedCustomSeriesChartTypes.find((function(t){return t.colId===e.colId}));return n||(e.selected&&!t.suppressComboChartWarnings&&console.warn("AG Grid: no 'seriesChartType' found for colId = '"+e.colId+"', defaulting to 'line'."),{colId:e.colId,chartType:"line",secondaryAxis:!1})}));this.seriesChartTypes=n,this.savedCustomSeriesChartTypes=n,this.suppressComboChartWarnings=!0},e.prototype.updateChartSeriesTypesForBuiltInCombos=function(){var t="columnLineCombo"===this.chartType?"groupedColumn":"stackedArea",e="columnLineCombo"===this.chartType?"line":"groupedColumn",n=this.valueColState.filter((function(t){return t.selected})),i=Math.ceil(n.length/2);this.seriesChartTypes=n.map((function(n,o){var r=o>=i?e:t;return{colId:n.colId,chartType:r,secondaryAxis:!1}}))},e.prototype.updateData=function(){var t=this.getRowIndexes(),e=t.startRow,n=t.endRow;this.pivotChart&&this.resetColumnState(),this.grouping=this.isGrouping();var i={aggFunc:this.aggFunc,dimensionCols:[this.getSelectedDimension()],grouping:this.grouping,pivoting:this.isPivotActive(),crossFiltering:this.crossFiltering,valueCols:this.getSelectedValueCols(),startRow:e,endRow:n,isScatter:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(["scatter","bubble"],this.chartType)},o=this.datasource.getData(i),r=o.chartData,s=o.columnNames;this.chartData=r,this.columnNames=s},e.prototype.isGrouping=function(){var t=this.gridOptionsService.isTreeData(),e=t?null:this.columnModel.getRowGroupColumns(),n=t||e&&e.length>0,i=this.getSelectedDimension().colId,o=this.columnModel.getGroupDisplayColumns().map((function(t){return t.getColId()})).some((function(t){return t===i}));return!!n&&o},e.prototype.getSelectedValueCols=function(){return this.valueColState.filter((function(t){return t.selected})).map((function(t){return t.column}))},e.prototype.getSelectedDimension=function(){return this.dimensionColState.filter((function(t){return t.selected}))[0]},e.prototype.getColDisplayName=function(t){return this.columnModel.getDisplayNameForColumn(t,"chart")},e.prototype.isPivotMode=function(){return this.columnModel.isPivotMode()},e.prototype.getChartDataType=function(t){var e=this.columnModel.getPrimaryColumn(t);return e?e.getColDef().chartDataType:void 0},e.prototype.isPivotActive=function(){return this.columnModel.isPivotActive()},e.prototype.createCellRange=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return{id:this.chartId,startRow:this.referenceCellRange.startRow,endRow:this.referenceCellRange.endRow,columns:e,startColumn:t===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.StC.DIMENSION?e[0]:this.referenceCellRange.startColumn,type:t}},e.prototype.getAllColumnsFromRanges=function(){if(this.pivotChart)return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.convertToSet(this.columnModel.getAllDisplayedColumns());var t=this.dimensionCellRange||this.valueCellRange?[]:this.referenceCellRange.columns;return this.dimensionCellRange&&t.push.apply(t,__spread$a(this.dimensionCellRange.columns)),this.valueCellRange&&t.push.apply(t,__spread$a(this.valueCellRange.columns)),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.convertToSet(t)},e.prototype.getRowIndexes=function(){var t=0,e=0,n=this.rangeService,i=this.valueCellRange;if(n&&i){t=n.getRangeStartRow(i).rowIndex;var o=n.getRangeEndRow(i);e="bottom"===o.rowPinned?-1:o.rowIndex}return{startRow:t,endRow:e}},e.prototype.getAllChartColumns=function(){var t=this,e=this.columnModel.getAllDisplayedColumns(),n=new Set,i=new Set;return e.forEach((function(e){var o=e.getColDef(),r=o.chartDataType;if(r)switch(r){case"category":case"time":return void n.add(e);case"series":return void i.add(e);case"excluded":return;default:console.warn("AG Grid: unexpected chartDataType value '"+r+"' supplied, instead use 'category', 'series' or 'excluded'")}"ag-Grid-AutoColumn"!==o.colId?e.isPrimary()?(t.isNumberCol(e)?i:n).add(e):i.add(e):n.add(e)})),{dimensionCols:n,valueCols:i}},e.prototype.isNumberCol=function(t){if("ag-Grid-AutoColumn"===t.getColId())return!1;var e=this.rowRenderer.getRowNode({rowIndex:0,rowPinned:null});if(!e)return!1;var n=this.valueService.getValue(t,e);return null==n&&(n=this.extractLeafData(e,t)),null!=n&&"function"==typeof n.toNumber&&(n=n.toNumber()),"number"==typeof n},e.prototype.extractLeafData=function(t,e){if(!t.allLeafChildren)return null;for(var n=0;n<t.allLeafChildren.length;n++){var i=t.allLeafChildren[n],o=this.valueService.getValue(e,i);if(null!=o)return o}return null},e.prototype.resetColumnState=function(){var t=this,n=this.getAllChartColumns(),i=n.dimensionCols,o=n.valueCols,r=this.getAllColumnsFromRanges(),s=this.valueColState.length<1;this.dimensionColState=[],this.valueColState=[];var a=!1,l=1,c=this.suppliedCellRange.columns[0];i.forEach((function(e){var n="ag-Grid-AutoColumn"===e.getColId(),i=!1;t.crossFiltering&&t.aggFunc?c.getColId()===e.getColId()&&(i=!0):i=!!n||!a&&r.has(e),t.dimensionColState.push({column:e,colId:e.getColId(),displayName:t.getColDisplayName(e),selected:i,order:l++}),i&&(a=!0)}));var u={colId:e.DEFAULT_CATEGORY,displayName:this.chartTranslationService.translate("defaultCategory"),selected:!a,order:0};this.dimensionColState.unshift(u);var h=this.referenceCellRange.columns.filter((function(t){return o.has(t)}));o.forEach((function(e){s&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(t.referenceCellRange.columns,e)&&(e=h.shift()),t.valueColState.push({column:e,colId:e.getColId(),displayName:t.getColDisplayName(e),selected:r.has(e),order:l++})}))},e.prototype.updateColumnState=function(t){var e=function(e){return e.colId===t.colId},n=this.dimensionColState,i=this.valueColState;n.filter(e).length>0?n.forEach((function(t){return t.selected=e(t)})):i.filter(e).forEach((function(e){return e.selected=t.selected}));var o=__spread$a(n,i),r=[];o.forEach((function(e,n){n===t.order&&r.push(t.colId),e.colId!==t.colId&&r.push(e.colId)})),o.forEach((function(t){var e=r.indexOf(t.colId);t.order=e>=0?r.indexOf(t.colId):o.length-1})),this.reorderColState()},e.prototype.reorderColState=function(){var t=function(t,e){return t.order-e.order};this.dimensionColState.sort(t),this.valueColState.sort(t)},e.prototype.setDimensionCellRange=function(t,n,i){var o=this;if(this.dimensionCellRange=void 0,i||this.dimensionColState.length){var r=i;if(this.crossFiltering&&this.aggFunc){var s=this.suppliedCellRange.columns[0];r=this.dimensionColState.filter((function(t){return t.colId===s.getColId()}))[0]}else r&&t.has(r.column)||(r=this.dimensionColState.filter((function(t){return t.selected}))[0]);r&&r.colId!==e.DEFAULT_CATEGORY&&(this.dimensionCellRange=this.createCellRange(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.StC.DIMENSION,r.column))}else t.forEach((function(t){!o.dimensionCellRange&&n.has(t)&&(o.dimensionCellRange=o.createCellRange(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.StC.DIMENSION,t))}))},e.prototype.setValueCellRange=function(t,e,n){this.valueCellRange=void 0;var i=[];if(t.forEach((function(t){n&&n.colId===t.getColId()?n.selected&&i.push(n.column):e.has(t)&&i.push(t)})),i.length>0){var o=[];this.valueColState.length>0?o=this.valueColState.map((function(t){return t.colId})):e.forEach((function(t){return o.push(t.getColId())})),i.sort((function(t,e){return o.indexOf(t.getColId())-o.indexOf(e.getColId())})),this.valueCellRange=this.createCellRange.apply(this,__spread$a([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.StC.VALUE],i))}},e.prototype.syncDimensionCellRange=function(){var t=this.getSelectedDimension();t&&t.column&&(this.dimensionCellRange=this.createCellRange(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.StC.DIMENSION,t.column))},e.prototype.isComboChart=function(){return["columnLineCombo","areaColumnCombo","customCombo"].includes(this.chartType)},e.DEFAULT_CATEGORY="AG-GRID-DEFAULT-CATEGORY",e.SUPPORTED_COMBO_CHART_TYPES=["line","groupedColumn","stackedColumn","area","stackedArea"],__decorate$1a([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$1a([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("valueService")],e.prototype,"valueService",void 0),__decorate$1a([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rangeService")],e.prototype,"rangeService",void 0),__decorate$1a([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowRenderer")],e.prototype,"rowRenderer",void 0),__decorate$1a([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],e.prototype,"chartTranslationService",void 0),__decorate$1a([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),VALID_SERIES_TYPES=["area","bar","column","histogram","line","pie","scatter"];function getSeriesType(t){switch(t){case"bar":case"groupedBar":case"stackedBar":case"normalizedBar":return"bar";case"column":case"groupedColumn":case"stackedColumn":case"normalizedColumn":return"column";case"line":return"line";case"area":case"stackedArea":case"normalizedArea":return"area";case"scatter":case"bubble":return"scatter";case"histogram":return"histogram";case"pie":case"doughnut":return"pie";default:return"cartesian"}}var ALL_AXIS_TYPES=["number","category","groupedCategory","log","time"];function getLegacyAxisType(t){switch(t){case"bar":case"stackedBar":case"normalizedBar":return["number","category"];case"groupedBar":return["number","groupedCategory"];case"column":case"stackedColumn":case"normalizedColumn":case"line":case"area":case"stackedArea":case"normalizedArea":case"histogram":return["category","number"];case"groupedColumn":return["groupedCategory","number"];case"scatter":case"bubble":return["number","number"];default:return}}var __assign$k=function(){return __assign$k=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},__assign$k.apply(this,arguments)};function createAgChartTheme(t,e){var n,i=t.chartOptionsToRestore,o=t.chartPaletteToRestore,r=t.chartThemeToRestore,s=getSelectedTheme(t),a=isStockTheme(s),l=a?{baseTheme:s}:null!==(n=lookupCustomChartTheme(t,s))&&void 0!==n?n:{},c=t.getGridOptionsChartThemeOverrides(),u=t.apiChartThemeOverrides,h="pie"===getSeriesType(t.chartType)?"polar":"cartesian",d=t.crossFiltering?createCrossFilterThemeOverrides(e,t,h):void 0,p=__assign$k({},null!=i?i:{}),f=[a?inbuiltStockThemeOverrides(t,function(){var t=function(t){return!!t&&Object.keys(t).some((function(e){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.get(t[e],"title.enabled",!1)}))};return t(c)||t(u)}()):void 0,d,c,u,p],g=f.filter((function(t){return!!t})).reduce((function(t,e){return{baseTheme:t,overrides:e}}),l);o&&s===r&&(isIdenticalPalette(o,getChartTheme(l).palette)||(g.palette=o));return g}function isIdenticalPalette(t,e){var n=function(t,e){return t.length===e.length&&t.every((function(t,n){return t===e[n]}))};return n(t.fills,e.fills)&&n(t.strokes,e.strokes)}function isStockTheme(t){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(Object.keys(themes),t)}function createCrossFilterThemeOverrides(t,e,n){var i,o={listeners:{legendItemClick:function(e){t.getChart().series.forEach((function(t){t.toggleSeriesItem(e.itemId,e.enabled),t.toggleSeriesItem(e.itemId+"-filtered-out",e.enabled)}))}}},r={};return"polar"===n&&(r.pie={tooltip:{renderer:function(t){var e=t.angleName,n=t.datum,i=t.calloutLabelKey,o=t.radiusKey,r=t.angleValue;return{title:e,content:n[i]+": "+r*n[o]}}}}),(i={})[n]={tooltip:{delay:500},legend:o,listeners:{click:function(t){return e.crossFilterCallback(t,!0)}},series:r},i}var STATIC_INBUILT_STOCK_THEME_AXES_OVERRIDES=ALL_AXIS_TYPES.reduce((function(t,e){var n;return __assign$k(__assign$k({},t),((n={})[e]={title:{_enabledFromTheme:!0}},n))}),{});function inbuiltStockThemeOverrides(t,e){var n=t.getExtraPaddingDirections();return{common:{axes:STATIC_INBUILT_STOCK_THEME_AXES_OVERRIDES,padding:{top:!e&&n.includes("top")?40:20,right:n.includes("right")?30:20,bottom:n.includes("bottom")?40:20,left:n.includes("left")?30:20}},pie:{series:{title:{_enabledFromTheme:!0},calloutLabel:{_enabledFromTheme:!0},sectorLabel:{enabled:!1,_enabledFromTheme:!0}}}}}function getSelectedTheme(t){var e=t.getChartThemeName(),n=t.getChartThemes();return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(n,e)||(e=n[0]),e}function lookupCustomChartTheme(t,e){var n=t.customChartThemes,i=n&&n[e];return i||console.warn("AG Grid: no stock theme exists with the name '"+e+"' and no custom chart theme with that name was supplied to 'customChartThemes'"),i}var __extends$1E=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$19=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},DEFAULT_THEMES=["ag-default","ag-material","ag-pastel","ag-vivid","ag-solar"],ChartController=function(t){function e(e){var n=t.call(this)||this;return n.model=e,n}return __extends$1E(e,t),e.prototype.init=function(){var t=this;this.setChartRange(),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_RANGE_SELECTION_CHANGED,(function(e){e.id&&e.id===t.model.chartId&&t.updateForRangeChange()})),this.model.unlinked&&this.rangeService&&this.rangeService.setCellRanges([]),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_MOVED,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PINNED,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_VISIBLE,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_ROW_GROUP_CHANGED,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_MODEL_UPDATED,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_CELL_VALUE_CHANGED,this.updateForDataChange.bind(this))},e.prototype.updateForGridChange=function(){this.model.unlinked||(this.model.updateCellRanges(),this.setChartRange())},e.prototype.updateForDataChange=function(){this.model.unlinked||(this.model.updateData(),this.raiseChartModelUpdateEvent())},e.prototype.updateForRangeChange=function(){this.updateForGridChange(),this.raiseChartRangeSelectionChangedEvent()},e.prototype.updateForPanelChange=function(t){this.model.updateCellRanges(t),this.setChartRange(),this.raiseChartRangeSelectionChangedEvent()},e.prototype.getChartUpdateParams=function(){var t=this.getSelectedValueColState().map((function(t){return{colId:t.colId,displayName:t.displayName}})),e=this.getChartData(),n=this.getSelectedDimension();return{data:e,grouping:this.isGrouping(),category:{id:n.colId,name:n.displayName,chartDataType:this.model.getChartDataType(n.colId)},fields:t,chartId:this.getChartId(),getCrossFilteringContext:function(){return{lastSelectedChartId:"xxx"}},seriesChartTypes:this.getSeriesChartTypes()}},e.prototype.getChartModel=function(){var t=this.model.pivotChart?"pivot":"range",e=this.isComboChart()?this.model.seriesChartTypes:void 0;return{modelType:t,chartId:this.model.chartId,chartType:this.model.chartType,chartThemeName:this.getChartThemeName(),chartOptions:this.chartProxy.getChartThemeOverrides(),chartPalette:this.chartProxy.getChartPalette(),cellRange:this.getCellRangeParams(),suppressChartRanges:this.model.suppressChartRanges,aggFunc:this.model.aggFunc,unlinkChart:this.model.unlinked,seriesChartTypes:e}},e.prototype.getChartId=function(){return this.model.chartId},e.prototype.getChartData=function(){return this.model.chartData},e.prototype.getChartType=function(){return this.model.chartType},e.prototype.setChartType=function(t){this.model.chartType=t,this.model.updateSeriesChartTypes(),this.raiseChartModelUpdateEvent(),this.raiseChartOptionsChangedEvent()},e.prototype.setChartThemeName=function(t){this.model.chartThemeName=t,this.raiseChartModelUpdateEvent(),this.raiseChartOptionsChangedEvent()},e.prototype.getChartThemeName=function(){return this.model.chartThemeName},e.prototype.isPivotChart=function(){return this.model.pivotChart},e.prototype.isPivotMode=function(){return this.model.isPivotMode()},e.prototype.isGrouping=function(){return this.model.isGrouping()},e.prototype.getThemes=function(){return this.gridOptionsService.get("chartThemes")||DEFAULT_THEMES},e.prototype.getPalettes=function(){var t=this;return this.getThemes().map((function(e){return getChartTheme(isStockTheme(e)?e:t.chartProxy.lookupCustomChartTheme(e)).palette}))},e.prototype.getValueColState=function(){return this.model.valueColState.map(this.displayNameMapper.bind(this))},e.prototype.getSelectedValueColState=function(){return this.getValueColState().filter((function(t){return t.selected}))},e.prototype.getDimensionColState=function(){return this.model.dimensionColState},e.prototype.getSelectedDimension=function(){return this.model.getSelectedDimension()},e.prototype.displayNameMapper=function(t){var e=this.model.columnNames[t.colId];return t.displayName=e?e.join(" - "):this.model.getColDisplayName(t.column),t},e.prototype.getColStateForMenu=function(){return{dimensionCols:this.model.dimensionColState,valueCols:this.getValueColState()}},e.prototype.isDefaultCategorySelected=function(){return this.model.getSelectedDimension().colId===ChartDataModel.DEFAULT_CATEGORY},e.prototype.setChartRange=function(t){void 0===t&&(t=!1),!this.rangeService||this.model.suppressChartRanges||this.model.unlinked||this.rangeService.setCellRanges(this.getCellRanges()),t||this.raiseChartModelUpdateEvent()},e.prototype.detachChartRange=function(){this.model.unlinked=!this.model.unlinked,this.model.unlinked?this.rangeService&&this.rangeService.setCellRanges([]):this.updateForGridChange()},e.prototype.setChartProxy=function(t){this.chartProxy=t},e.prototype.getChartProxy=function(){return this.chartProxy},e.prototype.isActiveXYChart=function(){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(["scatter","bubble"],this.getChartType())},e.prototype.isChartLinked=function(){return!this.model.unlinked},e.prototype.customComboExists=function(){return this.model.savedCustomSeriesChartTypes&&this.model.savedCustomSeriesChartTypes.length>0},e.prototype.getSeriesChartTypes=function(){return this.model.seriesChartTypes},e.prototype.isComboChart=function(){return this.model.isComboChart()},e.prototype.updateSeriesChartType=function(t,n,i){var o=this.model.seriesChartTypes.find((function(e){return e.colId===t}));if(o){var r="customCombo"!==this.model.chartType;r&&(this.model.chartType="customCombo");var s=o.chartType;null!=n&&(o.chartType=n),null!=i&&(o.secondaryAxis=i),this.model.savedCustomSeriesChartTypes=this.model.seriesChartTypes,this.model.updateSeriesChartTypes(),this.updateForDataChange(),r&&this.dispatchEvent({type:e.EVENT_CHART_TYPE_CHANGED}),s!==n&&this.dispatchEvent({type:e.EVENT_CHART_SERIES_CHART_TYPE_CHANGED}),this.raiseChartOptionsChangedEvent()}},e.prototype.getActiveSeriesChartTypes=function(){var t=this.getSelectedValueColState().map((function(t){return t.colId}));return this.getSeriesChartTypes().filter((function(e){return t.includes(e.colId)}))},e.prototype.getChartSeriesTypes=function(){return this.isComboChart()?["line","column","area"]:[getSeriesType(this.getChartType())]},e.prototype.getCellRanges=function(){return[this.model.dimensionCellRange,this.model.valueCellRange].filter((function(t){return t}))},e.prototype.getCellRangeParams=function(){var t=this.getCellRanges(),e=t[0],n=e&&e.startRow||null,i=e&&e.endRow||null;return{rowStartIndex:n&&n.rowIndex,rowStartPinned:n&&n.rowPinned,rowEndIndex:i&&i.rowIndex,rowEndPinned:i&&i.rowPinned,columns:t.reduce((function(t,e){return t.concat(e.columns.map((function(t){return t.getId()})))}),[])}},e.prototype.raiseChartModelUpdateEvent=function(){var t={type:e.EVENT_CHART_MODEL_UPDATE};this.dispatchEvent(t)},e.prototype.raiseChartUpdatedEvent=function(){var t={type:e.EVENT_CHART_UPDATED};this.dispatchEvent(t)},e.prototype.raiseChartOptionsChangedEvent=function(){var t=this.getChartModel(),e=t.chartId,n=t.chartType,i={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_CHART_OPTIONS_CHANGED,chartId:e,chartType:n,chartThemeName:this.getChartThemeName(),chartOptions:this.chartProxy.getChartThemeOverrides()};this.eventService.dispatchEvent(i)},e.prototype.raiseChartRangeSelectionChangedEvent=function(){var t={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_CHART_RANGE_SELECTION_CHANGED,id:this.model.chartId,chartId:this.model.chartId,cellRange:this.getCellRangeParams()};this.eventService.dispatchEvent(t)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.rangeService&&this.rangeService.setCellRanges([])},e.EVENT_CHART_UPDATED="chartUpdated",e.EVENT_CHART_MODEL_UPDATE="chartModelUpdate",e.EVENT_CHART_TYPE_CHANGED="chartTypeChanged",e.EVENT_CHART_SERIES_CHART_TYPE_CHANGED="chartSeriesChartTypeChanged",__decorate$19([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rangeService")],e.prototype,"rangeService",void 0),__decorate$19([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$1D=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$18=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},__read$k=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},__spread$9=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$k(arguments[e]));return t},__values$7=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},DefaultDataPanelDef={groups:[{type:"categories",isOpen:!0},{type:"series",isOpen:!0},{type:"seriesChartType",isOpen:!0}]},ChartDataPanel=function(t){function e(n,i){var o=t.call(this,e.TEMPLATE)||this;return o.chartController=n,o.chartOptionsService=i,o.columnComps=new Map,o}return __extends$1D(e,t),e.prototype.init=function(){this.updatePanels(),this.addManagedListener(this.chartController,ChartController.EVENT_CHART_MODEL_UPDATE,this.updatePanels.bind(this)),this.createAutoScrollService()},e.prototype.destroy=function(){this.clearComponents(),t.prototype.destroy.call(this)},e.prototype.updatePanels=function(){var t,e,n=this,i=this.chartType,o=this.chartController.getColStateForMenu(),r=o.dimensionCols,s=o.valueCols,a=r.map((function(t){return t.colId})).concat(s.map((function(t){return t.colId})));this.chartType=this.chartController.getChartType();var l=this.getGroupExpandedState();if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.areEqual(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.keys(this.columnComps),a)&&this.chartType===i){if(__spread$9(r,s).forEach((function(t){n.columnComps.get(t.colId).setValue(t.selected,!0)})),this.chartController.isActiveXYChart()){var c=this.generateGetSeriesLabel();s.forEach((function(t){n.columnComps.get(t.colId).setLabel(c(t))}))}ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromParent(this.getGui().querySelector("#seriesChartTypeGroup")),this.seriesChartTypeGroupComp=this.destroyBean(this.seriesChartTypeGroupComp);var u=null===(t=this.getDataPanelDef().groups)||void 0===t?void 0:t.reduce((function(t,e,n){return"seriesChartType"===e.type?n:t}),-1);-1!==u&&this.createSeriesChartTypeGroup(s,u)}else this.clearComponents(),null===(e=this.getDataPanelDef().groups)||void 0===e||e.forEach((function(t){var e=t.type;"categories"===e?n.createCategoriesGroup(r):"series"===e?n.createSeriesGroup(s):"seriesChartType"===e?n.createSeriesChartTypeGroup(s):console.warn("AG Grid: invalid charts data panel group name supplied: '"+e+"'")}));this.restoreGroupExpandedState(l)},e.prototype.getGroupExpandedState=function(){var t=this;return[{groupType:"categories",comp:this.categoriesGroupComp},{groupType:"series",comp:this.seriesGroupComp},{groupType:"seriesChartType",comp:this.seriesChartTypeGroupComp}].map((function(e){var n,i,o=e.groupType,r=e.comp,s=Boolean(null===(i=null===(n=t.getDataPanelDef().groups)||void 0===n?void 0:n.find((function(t){return t.type===o})))||void 0===i?void 0:i.isOpen);return r?r.isExpanded():s}))},e.prototype.restoreGroupExpandedState=function(t){[this.categoriesGroupComp,this.seriesGroupComp,this.seriesChartTypeGroupComp].forEach((function(e,n){e&&e.toggleGroupExpand(t[n])}))},e.prototype.createAutoScrollService=function(){var t=this.getGui();this.autoScrollService=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Cvn({scrollContainer:t,scrollAxis:"y",getVerticalPosition:function(){return t.scrollTop},setVerticalPosition:function(e){return t.scrollTop=e}})},e.prototype.createComponent=function(t,e){var n=document.createElement("div");return n.id=e,n.className="ag-chart-data-section",n.appendChild(t.getGui()),n},e.prototype.addComponent=function(t,e,n){var i=this.createComponent(e,n);t.appendChild(i)},e.prototype.addComponentAtIndex=function(t,e,n,i){var o=this.createComponent(e,n);t.insertBefore(o,t.children[i])},e.prototype.addChangeListener=function(t,e){var n=this;this.addManagedListener(t,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.J8Z.EVENT_CHANGED,(function(){e.selected=t.getValue(),n.chartController.updateForPanelChange(e)}))},e.prototype.createCategoriesGroup=function(t){var e=this;this.categoriesGroupComp=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.H1u({title:this.getCategoryGroupTitle(),enabled:!0,suppressEnabledCheckbox:!0,suppressOpenCloseIcons:!1,cssIdentifier:"charts-data"}));var n="chartDimension"+this.getCompId();t.forEach((function(t){var i=e.categoriesGroupComp.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.LQq);i.setLabel(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.escapeString(t.displayName)),i.setValue(t.selected),i.setInputName(n),e.addChangeListener(i,t),e.categoriesGroupComp.addItem(i),e.columnComps.set(t.colId,i)})),this.addComponent(this.getGui(),this.categoriesGroupComp,"categoriesGroup")},e.prototype.createSeriesGroup=function(t){var e=this;if(this.seriesGroupComp=this.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.H1u({title:this.getSeriesGroupTitle(),enabled:!0,suppressEnabledCheckbox:!0,suppressOpenCloseIcons:!1,cssIdentifier:"charts-data"})),this.chartController.isActiveXYChart()){var n=this.seriesGroupComp.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.nN0);n.setLabel(this.chartTranslationService.translate("paired")).setLabelAlignment("left").setLabelWidth("flex").setInputWidth(45).setValue(this.chartOptionsService.getPairedMode()).onValueChange((function(t){e.chartOptionsService.setPairedMode(!!t),e.chartController.updateForGridChange()})),this.seriesGroupComp.addItem(n)}var i=this.generateGetSeriesLabel();t.forEach((function(t){var n=e.seriesGroupComp.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jkc);n.addCssClass("ag-data-select-checkbox");var o=i(t);n.setLabel(o),n.setValue(t.selected),e.addChangeListener(n,t),e.seriesGroupComp.addItem(n),e.columnComps.set(t.colId,n),e.addDragHandle(n,t)}));var o=this.getGui(),r=this.seriesGroupComp.getGui();this.addComponent(o,this.seriesGroupComp,"seriesGroup");var s={getIconName:function(){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jUB.ICON_MOVE},getContainer:function(){return r},onDragging:function(t){return e.onDragging(t)},onDragLeave:function(){return e.onDragLeave()},isInterestedIn:this.isInterestedIn.bind(this),targetContainsSource:!0};this.dragAndDropService.addDropTarget(s),this.addDestroyFunc((function(){return e.dragAndDropService.removeDropTarget(s)}))},e.prototype.createSeriesChartTypeGroup=function(t,e){var n=this;if(this.chartController.isComboChart()){this.seriesChartTypeGroupComp=this.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.H1u({title:this.chartTranslationService.translate("seriesChartType"),enabled:!0,suppressEnabledCheckbox:!0,suppressOpenCloseIcons:!1,cssIdentifier:"charts-data"}));var i=this.chartController.getSeriesChartTypes();t.forEach((function(t){if(t.selected){var e=i.filter((function(e){return e.colId===t.colId}))[0];if(e){var o=n.seriesChartTypeGroupComp.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.H1u({title:t.displayName,enabled:!0,suppressEnabledCheckbox:!0,suppressOpenCloseIcons:!0,cssIdentifier:"charts-format-sub-level"})),r=n.seriesChartTypeGroupComp.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jkc).setLabel(n.chartTranslationService.translate("secondaryAxis")).setLabelWidth("flex").setDisabled(["groupedColumn","stackedColumn","stackedArea"].includes(e.chartType)).setValue(!!e.secondaryAxis).onValueChange((function(e){return n.chartController.updateSeriesChartType(t.colId,void 0,e)}));o.addItem(r);var s=function(t,e){return n.chartTranslationService.translate(t,e)},a=[{value:"line",text:s("line","Line")},{value:"area",text:s("area","Area")},{value:"stackedArea",text:s("stackedArea","StackedArea")},{value:"groupedColumn",text:s("groupedColumn","Grouped Column")},{value:"stackedColumn",text:s("stackedColumn","Stacked Column")}],l=o.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wGv);l.setLabelAlignment("left").setLabelWidth("flex").addOptions(a).setValue(e.chartType).onValueChange((function(e){return n.chartController.updateSeriesChartType(t.colId,e)})),o.addItem(l),n.seriesChartTypeGroupComp.addItem(o)}}})),void 0===e?this.addComponent(this.getGui(),this.seriesChartTypeGroupComp,"seriesChartTypeGroup"):this.addComponentAtIndex(this.getGui(),this.seriesChartTypeGroupComp,"seriesChartTypeGroup",e)}},e.prototype.addDragHandle=function(t,e){var n=this,i=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("columnDrag",this.gridOptionsService);i.classList.add("ag-drag-handle","ag-chart-data-column-drag-handle"),t.getGui().insertAdjacentElement("beforeend",i);var o={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.rvo.ChartPanel,eElement:i,dragItemName:e.displayName,getDragItem:function(){return{columns:[e.column]}},onDragStopped:function(){return n.onDragStop()}};this.dragAndDropService.addDragSource(o,!0),this.addDestroyFunc((function(){return n.dragAndDropService.removeDragSource(o)}))},e.prototype.generateGetSeriesLabel=function(){if(!this.chartController.isActiveXYChart())return function(t){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.escapeString(t.displayName)};var t="bubble"===this.chartType,e=this.isInPairedMode(),n=0,i=new Map;return i.set(0,"X"),i.set(1,"Y"),i.set(2,"size"),function(o){var r,s=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.escapeString(o.displayName);return o.selected?(r=e?i.get(n%(t?3:2)):0===n?"X":t&&n%2==0?"size":"Y",n++,s+" ("+r+")"):s}},e.prototype.getCategoryGroupTitle=function(){return this.chartTranslationService.translate(this.chartController.isActiveXYChart()?"labels":"categories")},e.prototype.getSeriesGroupTitle=function(){return this.chartTranslationService.translate(this.chartController.isActiveXYChart()?"xyValues":"series")},e.prototype.getDataPanelDef=function(){var t,e=null===(t=this.gridOptionsService.get("chartToolPanelsDef"))||void 0===t?void 0:t.dataPanel;return e||DefaultDataPanelDef},e.prototype.isInPairedMode=function(){return this.chartController.isActiveXYChart()&&this.chartOptionsService.getSeriesOption("paired","scatter")},e.prototype.clearComponents=function(){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.clearElement(this.getGui()),this.categoriesGroupComp=this.destroyBean(this.categoriesGroupComp),this.seriesGroupComp=this.destroyBean(this.seriesGroupComp),this.seriesChartTypeGroupComp=this.destroyBean(this.seriesChartTypeGroupComp),this.columnComps.clear()},e.prototype.onDragging=function(t){var e=this.checkHoveredItem(t);if(e){this.lastDraggedColumn=t.dragItem.columns[0];var n=e.comp,i=e.position,o=this.lastHoveredItem||{},r=o.comp,s=o.position;if(n!==r||i!==s)this.autoScrollService.check(t.event),this.clearHoveredItems(),this.lastHoveredItem={comp:n,position:i},n.getGui().classList.add("ag-list-item-hovered","ag-item-highlight-"+i)}},e.prototype.checkHoveredItem=function(t){var e,n;if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(t.vDirection))return null;var i=t.event;try{for(var o=__values$7(this.columnComps.values()),r=o.next();!r.done;r=o.next()){var s=r.value,a=s.getGui();if(a.querySelector(".ag-chart-data-column-drag-handle")){var l=a.getBoundingClientRect();if(i.clientY>=l.top&&i.clientY<=l.bottom){var c=a.clientHeight;return{comp:s,position:i.clientY>l.top+c/2?"bottom":"top"}}}}}catch(t){e={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return null},e.prototype.onDragLeave=function(){this.clearHoveredItems()},e.prototype.onDragStop=function(){var t=this;if(this.lastHoveredItem){var e=this.chartController.getColStateForMenu(),n=e.dimensionCols,i=e.valueCols,o=__spread$9(n,i).find((function(e){return e.column===t.lastDraggedColumn}));if(o){var r=Array.from(this.columnComps.values()).indexOf(this.lastHoveredItem.comp);"bottom"===this.lastHoveredItem.position&&r++,o.order=r,this.chartController.updateForPanelChange(o)}}this.clearHoveredItems(),this.lastDraggedColumn=void 0,this.autoScrollService.ensureCleared()},e.prototype.clearHoveredItems=function(){this.columnComps.forEach((function(t){t.getGui().classList.remove("ag-list-item-hovered","ag-item-highlight-top","ag-item-highlight-bottom")})),this.lastHoveredItem=void 0},e.prototype.isInterestedIn=function(t){return t===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.rvo.ChartPanel},e.TEMPLATE='<div class="ag-chart-data-wrapper ag-scrollable-container"></div>',__decorate$18([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("dragAndDropService")],e.prototype,"dragAndDropService",void 0),__decorate$18([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],e.prototype,"chartTranslationService",void 0),__decorate$18([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$1C=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$17=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},FontPanel=function(t){function e(e){var n=t.call(this)||this;return n.activeComps=[],n.params=e,n}return __extends$1C(e,t),e.prototype.init=function(){this.setTemplate(e.TEMPLATE,{fontGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0}}),this.initGroup(),this.initFontFamilySelect(),this.initFontWeightStyleSelect(),this.initFontSizeSelect(),this.initFontColorPicker()},e.prototype.addCompToPanel=function(t){this.fontGroup.addItem(t),this.activeComps.push(t)},e.prototype.setEnabled=function(t){this.fontGroup.setEnabled(t)},e.prototype.initGroup=function(){var t=this;this.fontGroup.setTitle(this.params.name||this.chartTranslationService.translate("font")).setEnabled(this.params.enabled).hideEnabledCheckbox(!!this.params.suppressEnabledCheckbox).hideOpenCloseIcons(!0).onEnableChange((function(e){t.params.setEnabled&&t.params.setEnabled(e)}))},e.prototype.initFontFamilySelect=function(){var t=this,e=["Arial, sans-serif","Aria Black, sans-serif","Book Antiqua,  serif","Charcoal, sans-serif","Comic Sans MS, cursive","Courier, monospace","Courier New, monospace","Gadget, sans-serif","Geneva, sans-serif","Helvetica, sans-serif","Impact, sans-serif","Lucida Console, monospace","Lucida Grande, sans-serif","Lucida Sans Unicode,  sans-serif","Monaco, monospace","Palatino Linotype, serif","Palatino, serif","Times New Roman, serif","Times, serif","Verdana, sans-serif"],n=this.params.initialFont.family,i=e[0];if(n){var o=e.map((function(t){return t.toLowerCase()})).indexOf(n.toLowerCase());if(o>=0)i=e[o];else{var r=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.capitalise(n);e.push(r),i=r}}var s=e.sort().map((function(t){return{value:t,text:t}}));this.familySelect.addOptions(s).setInputWidth("flex").setValue(""+i).onValueChange((function(e){return t.params.setFont({family:e})}))},e.prototype.initFontSizeSelect=function(){var t=this,e=[8,10,12,14,16,18,20,22,24,26,28,30,32,34,36],n=this.params.initialFont.size;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(e,n)||e.push(n);var i=e.sort((function(t,e){return t-e})).map((function(t){return{value:""+t,text:""+t}}));this.sizeSelect.addOptions(i).setInputWidth("flex").setValue(""+n).onValueChange((function(e){return t.params.setFont({size:parseInt(e,10)})})),this.sizeSelect.setLabel(this.chartTranslationService.translate("size"))},e.prototype.initFontWeightStyleSelect=function(){var t=this,e=this.params.initialFont,n=e.weight,i=void 0===n?"normal":n,o=e.style,r=void 0===o?"normal":o,s=[{name:"normal",weight:"normal",style:"normal"},{name:"bold",weight:"bold",style:"normal"},{name:"italic",weight:"normal",style:"italic"},{name:"boldItalic",weight:"bold",style:"italic"}],a=s.find((function(t){return t.weight===i&&t.style===r}));a||(a={name:"predefined",weight:i,style:r},s.unshift(a));var l=s.map((function(e){return{value:e.name,text:t.chartTranslationService.translate(e.name)}}));this.weightStyleSelect.addOptions(l).setInputWidth("flex").setValue(a.name).onValueChange((function(e){var n=s.find((function(t){return t.name===e}));t.params.setFont({weight:n.weight,style:n.style})}))},e.prototype.initFontColorPicker=function(){var t=this;this.colorPicker.setLabel(this.chartTranslationService.translate("color")).setInputWidth(45).setValue(""+this.params.initialFont.color).onValueChange((function(e){return t.params.setFont({color:e})}))},e.prototype.addItemToPanel=function(t){this.fontGroup.addItem(t),this.activeComps.push(t)},e.prototype.destroyActiveComps=function(){var t=this;this.activeComps.forEach((function(e){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromParent(e.getGui()),t.destroyBean(e)}))},e.prototype.destroy=function(){this.destroyActiveComps(),t.prototype.destroy.call(this)},e.TEMPLATE='<div class="ag-font-panel">\n            <ag-group-component ref="fontGroup">\n                <ag-select ref="familySelect"></ag-select>\n                <ag-select ref="weightStyleSelect"></ag-select>\n                <div class="ag-charts-font-size-color">\n                    <ag-select ref="sizeSelect"></ag-select>\n                    <ag-color-picker ref="colorPicker"></ag-color-picker>\n                </div>\n            </ag-group-component>\n        </div>',__decorate$17([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("fontGroup")],e.prototype,"fontGroup",void 0),__decorate$17([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("familySelect")],e.prototype,"familySelect",void 0),__decorate$17([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("weightStyleSelect")],e.prototype,"weightStyleSelect",void 0),__decorate$17([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("sizeSelect")],e.prototype,"sizeSelect",void 0),__decorate$17([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("colorPicker")],e.prototype,"colorPicker",void 0),__decorate$17([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],e.prototype,"chartTranslationService",void 0),__decorate$17([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$1B=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$16=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},LegendPanel=function(t){function e(e){var n=e.chartOptionsService,i=e.isExpandedOnInit,o=void 0!==i&&i,r=t.call(this)||this;return r.activePanels=[],r.chartOptionsService=n,r.isExpandedOnInit=o,r}return __extends$1B(e,t),e.prototype.init=function(){this.setTemplate(e.TEMPLATE,{legendGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.initLegendGroup(),this.initLegendPosition(),this.initLegendPadding(),this.initLegendItems(),this.initLabelPanel()},e.prototype.initLegendGroup=function(){var t=this;this.legendGroup.setTitle(this.chartTranslationService.translate("legend")).hideEnabledCheckbox(!1).setEnabled(this.chartOptionsService.getChartOption("legend.enabled")||!1).toggleGroupExpand(this.isExpandedOnInit).onEnableChange((function(e){t.chartOptionsService.setChartOption("legend.enabled",e),t.legendGroup.toggleGroupExpand(!0)}))},e.prototype.initLegendPosition=function(){var t=this;this.legendPositionSelect.setLabel(this.chartTranslationService.translate("position")).setLabelWidth("flex").setInputWidth(80).addOptions(["top","right","bottom","left"].map((function(e){return{value:e,text:t.chartTranslationService.translate(e)}}))).setValue(this.chartOptionsService.getChartOption("legend.position")).onValueChange((function(e){return t.chartOptionsService.setChartOption("legend.position",e)}))},e.prototype.initLegendPadding=function(){var t=this,e=this.chartOptionsService.getChartOption("legend.spacing");this.legendPaddingSlider.setLabel(this.chartTranslationService.translate("spacing")).setMaxValue(getMaxValue(e,200)).setValue(""+e).setTextFieldWidth(45).onValueChange((function(e){return t.chartOptionsService.setChartOption("legend.spacing",e)}))},e.prototype.initLegendItems=function(){var t=this,e=function(e,n,i,o){var r=t.chartOptionsService.getChartOption("legend."+e);i.setLabel(t.chartTranslationService.translate(n)).setMaxValue(getMaxValue(r,o)).setValue(""+r).setTextFieldWidth(45).onValueChange((function(n){t.chartOptionsService.setChartOption("legend."+e,n)}))};e("item.marker.size","markerSize",this.markerSizeSlider,40),e("item.marker.strokeWidth","markerStroke",this.markerStrokeSlider,10),e("item.marker.padding","itemSpacing",this.markerPaddingSlider,20),e("item.paddingX","layoutHorizontalSpacing",this.itemPaddingXSlider,50),e("item.paddingY","layoutVerticalSpacing",this.itemPaddingYSlider,50)},e.prototype.initLabelPanel=function(){var t=this,e=this.chartOptionsService,n={enabled:!0,suppressEnabledCheckbox:!0,initialFont:{family:e.getChartOption("legend.item.label.fontFamily"),style:e.getChartOption("legend.item.label.fontStyle"),weight:e.getChartOption("legend.item.label.fontWeight"),size:e.getChartOption("legend.item.label.fontSize"),color:e.getChartOption("legend.item.label.color")},setFont:function(e){var n=t.chartOptionsService;e.family&&n.setChartOption("legend.item.label.fontFamily",e.family),e.weight&&n.setChartOption("legend.item.label.fontWeight",e.weight),e.style&&n.setChartOption("legend.item.label.fontStyle",e.style),e.size&&n.setChartOption("legend.item.label.fontSize",e.size),e.color&&n.setChartOption("legend.item.label.color",e.color)}},i=this.createBean(new FontPanel(n));this.legendGroup.addItem(i),this.activePanels.push(i)},e.prototype.destroyActivePanels=function(){var t=this;this.activePanels.forEach((function(e){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromParent(e.getGui()),t.destroyBean(e)}))},e.prototype.destroy=function(){this.destroyActivePanels(),t.prototype.destroy.call(this)},e.TEMPLATE='<div>\n            <ag-group-component ref="legendGroup">\n                <ag-select ref="legendPositionSelect"></ag-select>\n                <ag-slider ref="legendPaddingSlider"></ag-slider>\n                <ag-slider ref="markerSizeSlider"></ag-slider>\n                <ag-slider ref="markerStrokeSlider"></ag-slider>\n                <ag-slider ref="markerPaddingSlider"></ag-slider>\n                <ag-slider ref="itemPaddingXSlider"></ag-slider>\n                <ag-slider ref="itemPaddingYSlider"></ag-slider>\n            </ag-group-component>\n        </div>',__decorate$16([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("legendGroup")],e.prototype,"legendGroup",void 0),__decorate$16([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("legendPositionSelect")],e.prototype,"legendPositionSelect",void 0),__decorate$16([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("legendPaddingSlider")],e.prototype,"legendPaddingSlider",void 0),__decorate$16([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("markerSizeSlider")],e.prototype,"markerSizeSlider",void 0),__decorate$16([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("markerStrokeSlider")],e.prototype,"markerStrokeSlider",void 0),__decorate$16([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("markerPaddingSlider")],e.prototype,"markerPaddingSlider",void 0),__decorate$16([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("itemPaddingXSlider")],e.prototype,"itemPaddingXSlider",void 0),__decorate$16([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("itemPaddingYSlider")],e.prototype,"itemPaddingYSlider",void 0),__decorate$16([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],e.prototype,"chartTranslationService",void 0),__decorate$16([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$1A=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$15=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},AxisTicksPanel=function(t){function e(e){var n=t.call(this)||this;return n.chartOptionsService=e,n}return __extends$1A(e,t),e.prototype.init=function(){this.setTemplate(e.TEMPLATE,{axisTicksGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0}}),this.initAxisTicks()},e.prototype.initAxisTicks=function(){var t=this;this.axisTicksGroup.setTitle(this.chartTranslationService.translate("ticks")).hideOpenCloseIcons(!0).hideEnabledCheckbox(!0),this.axisTicksColorPicker.setLabel(this.chartTranslationService.translate("color")).setLabelWidth("flex").setInputWidth(45).setValue(this.chartOptionsService.getAxisProperty("tick.color")).onValueChange((function(e){return t.chartOptionsService.setAxisProperty("tick.color",e)}));var e=function(e,n,i,o){var r=t.chartOptionsService.getAxisProperty(e);n.setLabel(i).setMaxValue(getMaxValue(r,o)).setValue(""+r).setTextFieldWidth(45).onValueChange((function(n){return t.chartOptionsService.setAxisProperty(e,n)}))};e("tick.width",this.axisTicksWidthSlider,this.chartTranslationService.translate("width"),10),e("tick.size",this.axisTicksSizeSlider,this.chartTranslationService.translate("length"),30)},e.TEMPLATE='<div>\n            <ag-group-component ref="axisTicksGroup">\n                <ag-color-picker ref="axisTicksColorPicker"></ag-color-picker>\n                <ag-slider ref="axisTicksWidthSlider"></ag-slider>\n                <ag-slider ref="axisTicksSizeSlider"></ag-slider>\n            </ag-group-component>\n        </div>',__decorate$15([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("axisTicksGroup")],e.prototype,"axisTicksGroup",void 0),__decorate$15([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("axisTicksColorPicker")],e.prototype,"axisTicksColorPicker",void 0),__decorate$15([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("axisTicksWidthSlider")],e.prototype,"axisTicksWidthSlider",void 0),__decorate$15([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("axisTicksSizeSlider")],e.prototype,"axisTicksSizeSlider",void 0),__decorate$15([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],e.prototype,"chartTranslationService",void 0),__decorate$15([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$1z=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$14=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},AgAngleSelect=function(t){function e(n){var i=t.call(this,n,e.TEMPLATE)||this;return i.radius=0,i.offsetX=0,i.offsetY=0,i}return __extends$1z(e,t),e.prototype.postConstruct=function(){var e=this;t.prototype.postConstruct.call(this),this.dragListener={eElement:this.eParentCircle,dragStartPixels:0,onDragStart:function(t){e.parentCircleRect=e.eParentCircle.getBoundingClientRect()},onDragging:function(t){return e.calculateAngleDrag(t)},onDragStop:function(){}},this.dragService.addDragSource(this.dragListener),this.eAngleValue.setLabel("").setLabelWidth(5).setInputWidth(45).setMin(0).setMax(360).setValue(""+this.degrees).onValueChange((function(t){null!=t&&""!==t||(t="0"),t=e.eAngleValue.normalizeValue(t);var n=parseFloat(t);n>180&&(n-=360),e.setValue(n)})),this.updateNumberInput(),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(this.getValue())&&this.eAngleValue.setValue(this.normalizeNegativeValue(this.getValue()).toString()),this.addManagedListener(this,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.J8Z.EVENT_CHANGED,(function(){var t=e.gridOptionsService.getDocument();e.eAngleValue.getInputElement().contains(t.activeElement)||e.updateNumberInput()}))},e.prototype.updateNumberInput=function(){var t=this.normalizeNegativeValue(this.getValue());this.eAngleValue.setValue(t.toString())},e.prototype.positionChildCircle=function(t){var e=this.parentCircleRect||{width:24,height:24},n=this.eChildCircle,i=e.width/2,o=e.height/2;n.style.left=i+8*Math.cos(t)+"px",n.style.top=o+8*Math.sin(t)+"px"},e.prototype.calculatePolar=function(){var t=this.offsetX,e=this.offsetY,n=Math.atan2(e,t);this.degrees=this.toDegrees(n),this.radius=Math.sqrt(t*t+e*e),this.positionChildCircle(n)},e.prototype.calculateCartesian=function(){var t=this.toRadians(this.getValue()),e=this.getRadius();this.setOffsetX(Math.cos(t)*e).setOffsetY(Math.sin(t)*e)},e.prototype.setOffsetX=function(t){return this.offsetX!==t&&(this.offsetX=t,this.calculatePolar()),this},e.prototype.setOffsetY=function(t){return this.offsetY!==t&&(this.offsetY=t,this.calculatePolar()),this},e.prototype.calculateAngleDrag=function(t){var e=this.parentCircleRect,n=e.width/2,i=e.height/2,o=t.clientX-e.left-n,r=t.clientY-e.top-i,s=Math.atan2(r,o);this.setValue(s,!0)},e.prototype.toDegrees=function(t){return t/Math.PI*180},e.prototype.toRadians=function(t){return t/180*Math.PI},e.prototype.normalizeNegativeValue=function(t){return t<0?360+t:t},e.prototype.normalizeAngle180=function(t){return(t%=2*Math.PI)<-Math.PI?t+=2*Math.PI:t>=Math.PI&&(t-=2*Math.PI),t},e.prototype.getRadius=function(){return this.radius},e.prototype.setRadius=function(t){return this.radius===t||(this.radius=t,this.calculateCartesian()),this},e.prototype.onValueChange=function(t){var e=this;return this.addManagedListener(this,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.J8Z.EVENT_CHANGED,(function(){t(e.degrees)})),this},e.prototype.getValue=function(t){return t?this.toRadians(this.degrees):this.degrees},e.prototype.setValue=function(t,e){var n;return n=e?t:this.normalizeAngle180(this.toRadians(t)),t=this.toDegrees(n),this.degrees!==t&&(this.degrees=Math.floor(t),this.calculateCartesian(),this.positionChildCircle(n),this.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.J8Z.EVENT_CHANGED})),this},e.prototype.setWidth=function(t){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setFixedWidth(this.getGui(),t),this},e.prototype.setDisabled=function(e){return t.prototype.setDisabled.call(this,e),this.eAngleValue.setDisabled(e),this},e.prototype.destroy=function(){this.dragService.removeDragSource(this.dragListener),t.prototype.destroy.call(this)},e.TEMPLATE='<div class="ag-angle-select">\n            <div ref="eLabel"></div>\n            <div class="ag-wrapper ag-angle-select-wrapper">\n                <div ref="eAngleSelectField" class="ag-angle-select-field">\n                    <div ref="eParentCircle" class="ag-angle-select-parent-circle">\n                        <div ref="eChildCircle" class="ag-angle-select-child-circle"></div>\n                    </div>\n                </div>\n                <ag-input-number-field ref="eAngleValue"></ag-input-number-field>\n            </div>\n        </div>',__decorate$14([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eLabel")],e.prototype,"eLabel",void 0),__decorate$14([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eParentCircle")],e.prototype,"eParentCircle",void 0),__decorate$14([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eChildCircle")],e.prototype,"eChildCircle",void 0),__decorate$14([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eAngleValue")],e.prototype,"eAngleValue",void 0),__decorate$14([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("dragService")],e.prototype,"dragService",void 0),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.ZST),__extends$1y=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$13=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},AxisPanel=function(t){function e(e){var n=e.chartController,i=e.chartOptionsService,o=e.isExpandedOnInit,r=void 0!==o&&o,s=t.call(this)||this;return s.activePanels=[],s.axisLabelUpdateFuncs=[],s.prevXRotation=0,s.prevYRotation=0,s.chartController=n,s.chartOptionsService=i,s.isExpandedOnInit=r,s}return __extends$1y(e,t),e.prototype.init=function(){var t=this;this.setTemplate(e.TEMPLATE,{axisGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.initAxis(),this.initAxisTicks(),this.initAxisLabels();this.addManagedListener(this.chartController,ChartController.EVENT_CHART_UPDATED,(function(){return t.axisLabelUpdateFuncs.forEach((function(t){return t()}))}))},e.prototype.initAxis=function(){var t=this;this.axisGroup.setTitle(this.translate("axis")).toggleGroupExpand(this.isExpandedOnInit).hideEnabledCheckbox(!0),this.axisColorInput.setLabel(this.translate("color")).setLabelWidth("flex").setInputWidth(45).setValue(this.chartOptionsService.getAxisProperty("line.color")).onValueChange((function(e){return t.chartOptionsService.setAxisProperty("line.color",e)}));var e=this.chartOptionsService.getAxisProperty("line.width");this.axisLineWidthSlider.setMaxValue(getMaxValue(e,10)).setLabel(this.translate("thickness")).setTextFieldWidth(45).setValue(""+e).onValueChange((function(e){return t.chartOptionsService.setAxisProperty("line.width",e)}))},e.prototype.initAxisTicks=function(){var t=this.createBean(new AxisTicksPanel(this.chartOptionsService));this.axisGroup.addItem(t),this.activePanels.push(t)},e.prototype.initAxisLabels=function(){var t=this,e={family:this.chartOptionsService.getAxisProperty("label.fontFamily"),style:this.chartOptionsService.getAxisProperty("label.fontStyle"),weight:this.chartOptionsService.getAxisProperty("label.fontWeight"),size:this.chartOptionsService.getAxisProperty("label.fontSize"),color:this.chartOptionsService.getAxisProperty("label.color")},n={name:this.translate("labels"),enabled:!0,suppressEnabledCheckbox:!0,initialFont:e,setFont:function(e){e.family&&t.chartOptionsService.setAxisProperty("label.fontFamily",e.family),e.weight&&t.chartOptionsService.setAxisProperty("label.fontWeight",e.weight),e.style&&t.chartOptionsService.setAxisProperty("label.fontStyle",e.style),e.size&&t.chartOptionsService.setAxisProperty("label.fontSize",e.size),e.color&&t.chartOptionsService.setAxisProperty("label.color",e.color)}},i=this.createBean(new FontPanel(n));this.axisGroup.addItem(i),this.activePanels.push(i),this.addAdditionalLabelComps(i)},e.prototype.addAdditionalLabelComps=function(t){this.addLabelPadding(t);var e=this.createRotationWidgets(),n=e.xRotationComp,i=e.yRotationComp,o=this.initLabelRotations(n,i);t.addCompToPanel(o),t.addCompToPanel(n),t.addCompToPanel(i)},e.prototype.initLabelRotations=function(t,e){var n,i,o=this,r=function(t){return o.chartOptionsService.getLabelRotation(t)},s=function(t,e){o.chartOptionsService.setLabelRotation(t,e)},a=(n=r("xAxis"),i=r("yAxis"),null==n&&null==i&&o.chartOptionsService.getAxisProperty("label.autoRotate")),l=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.jkc).setLabel(this.translate("autoRotate")).setValue(a).onValueChange((function(n){o.chartOptionsService.setAxisProperty("label.autoRotate",n),n?(o.prevXRotation=r("xAxis"),o.prevYRotation=r("yAxis"),s("xAxis",void 0),s("yAxis",void 0)):(s("xAxis",o.prevXRotation),s("yAxis",o.prevYRotation)),t.setDisabled(n),e.setDisabled(n)}));return t.setDisabled(a),e.setDisabled(a),l},e.prototype.createRotationWidgets=function(){var t=this,e=String.fromCharCode(176),n=function(n,i){var o=t.chartTranslationService.translate(n)+" "+e,r=t.chartOptionsService.getLabelRotation(i),s=(new AgAngleSelect).setLabel(o).setLabelWidth("flex").setValue(r||0).onValueChange((function(e){return t.chartOptionsService.setLabelRotation(i,e)}));return t.axisLabelUpdateFuncs.push((function(){var e=t.chartOptionsService.getLabelRotation(i);s.setValue(e||0)})),t.createBean(s)};return{xRotationComp:n("xRotation","xAxis"),yRotationComp:n("yRotation","yAxis")}},e.prototype.addLabelPadding=function(t){var e=this,n=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.h7_),i=this.chartOptionsService.getAxisProperty("label.padding");n.setLabel(this.chartTranslationService.translate("padding")).setMaxValue(getMaxValue(i,30)).setValue(""+i).setTextFieldWidth(45).onValueChange((function(t){return e.chartOptionsService.setAxisProperty("label.padding",t)})),t.addCompToPanel(n)},e.prototype.translate=function(t,e){return this.chartTranslationService.translate(t,e)},e.prototype.destroyActivePanels=function(){var t=this;this.activePanels.forEach((function(e){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromParent(e.getGui()),t.destroyBean(e)}))},e.prototype.destroy=function(){this.destroyActivePanels(),t.prototype.destroy.call(this)},e.TEMPLATE='<div>\n            <ag-group-component ref="axisGroup">\n                <ag-color-picker ref="axisColorInput"></ag-color-picker>\n                <ag-slider ref="axisLineWidthSlider"></ag-slider>\n            </ag-group-component>\n        </div>',__decorate$13([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("axisGroup")],e.prototype,"axisGroup",void 0),__decorate$13([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("axisColorInput")],e.prototype,"axisColorInput",void 0),__decorate$13([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("axisLineWidthSlider")],e.prototype,"axisLineWidthSlider",void 0),__decorate$13([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],e.prototype,"chartTranslationService",void 0),__decorate$13([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$1x=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$12=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},NavigatorPanel=function(t){function e(e){var n=e.chartOptionsService,i=e.isExpandedOnInit,o=void 0!==i&&i,r=t.call(this)||this;return r.chartOptionsService=n,r.isExpandedOnInit=o,r}return __extends$1x(e,t),e.prototype.init=function(){this.setTemplate(e.TEMPLATE,{navigatorGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.initNavigator()},e.prototype.initNavigator=function(){var t=this,e=this.chartTranslationService;this.navigatorGroup.setTitle(e.translate("navigator")).hideEnabledCheckbox(!1).setEnabled(this.chartOptionsService.getChartOption("navigator.enabled")||!1).onEnableChange((function(e){t.chartOptionsService.setChartOption("navigator.enabled",e),t.navigatorGroup.toggleGroupExpand(!0)})).toggleGroupExpand(this.isExpandedOnInit);var n=this.chartOptionsService.getChartOption("navigator.height");this.navigatorHeightSlider.setLabel(e.translate("height")).setMinValue(10).setMaxValue(getMaxValue(n,60)).setTextFieldWidth(45).setValue(""+(n||30)).onValueChange((function(e){return t.chartOptionsService.setChartOption("navigator.height",e)}))},e.prototype.destroy=function(){t.prototype.destroy.call(this)},e.TEMPLATE='<div>\n            <ag-group-component ref="navigatorGroup">\n                <ag-slider ref="navigatorHeightSlider"></ag-slider>\n            </ag-group-component>\n        </div>',__decorate$12([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("navigatorGroup")],e.prototype,"navigatorGroup",void 0),__decorate$12([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("navigatorHeightSlider")],e.prototype,"navigatorHeightSlider",void 0),__decorate$12([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],e.prototype,"chartTranslationService",void 0),__decorate$12([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$1w=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$11=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},PaddingPanel=function(t){function e(e,n){var i=t.call(this)||this;return i.chartOptionsService=e,i.chartController=n,i}return __extends$1w(e,t),e.prototype.init=function(){var t=this;this.setTemplate(e.TEMPLATE,{chartPaddingGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0}}),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_CHART_OPTIONS_CHANGED,(function(e){t.updateTopPadding(e.chartOptions)})),this.initGroup(),this.initChartPaddingItems()},e.prototype.initGroup=function(){this.chartPaddingGroup.setTitle(this.chartTranslationService.translate("padding")).hideOpenCloseIcons(!0).hideEnabledCheckbox(!0)},e.prototype.initChartPaddingItems=function(){var t=this,e=function(e,n){var i=t.chartOptionsService.getChartOption("padding."+e);n.setLabel(t.chartTranslationService.translate(e)).setMaxValue(getMaxValue(i,200)).setValue(""+i).setTextFieldWidth(45).onValueChange((function(n){return t.chartOptionsService.setChartOption("padding."+e,n)}))};e("top",this.paddingTopSlider),e("right",this.paddingRightSlider),e("bottom",this.paddingBottomSlider),e("left",this.paddingLeftSlider)},e.prototype.updateTopPadding=function(t){var e,n,i=null===(n=null===(e=t[this.chartController.getChartSeriesTypes()[0]])||void 0===e?void 0:e.padding)||void 0===n?void 0:n.top;null!=i&&this.paddingTopSlider.setValue(i)},e.TEMPLATE='<div>\n            <ag-group-component ref="chartPaddingGroup">\n                <ag-slider ref="paddingTopSlider"></ag-slider>\n                <ag-slider ref="paddingRightSlider"></ag-slider>\n                <ag-slider ref="paddingBottomSlider"></ag-slider>\n                <ag-slider ref="paddingLeftSlider"></ag-slider>\n            </ag-group-component>\n        <div>',__decorate$11([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("chartPaddingGroup")],e.prototype,"chartPaddingGroup",void 0),__decorate$11([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("paddingTopSlider")],e.prototype,"paddingTopSlider",void 0),__decorate$11([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("paddingRightSlider")],e.prototype,"paddingRightSlider",void 0),__decorate$11([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("paddingBottomSlider")],e.prototype,"paddingBottomSlider",void 0),__decorate$11([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("paddingLeftSlider")],e.prototype,"paddingLeftSlider",void 0),__decorate$11([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],e.prototype,"chartTranslationService",void 0),__decorate$11([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$1v=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$10=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},BackgroundPanel=function(t){function e(e){var n=t.call(this)||this;return n.chartOptionsService=e,n}return __extends$1v(e,t),e.prototype.init=function(){this.setTemplate(e.TEMPLATE,{chartBackgroundGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0}}),this.initGroup(),this.initColorPicker()},e.prototype.initGroup=function(){var t=this;this.group.setTitle(this.chartTranslationService.translate("background")).setEnabled(this.chartOptionsService.getChartOption("background.visible")).hideOpenCloseIcons(!0).hideEnabledCheckbox(!1).onEnableChange((function(e){return t.chartOptionsService.setChartOption("background.visible",e)}))},e.prototype.initColorPicker=function(){var t=this;this.colorPicker.setLabel(this.chartTranslationService.translate("color")).setLabelWidth("flex").setInputWidth(45).setValue(this.chartOptionsService.getChartOption("background.fill")).onValueChange((function(e){return t.chartOptionsService.setChartOption("background.fill",e)}))},e.TEMPLATE='<div>\n            <ag-group-component ref="chartBackgroundGroup">\n                <ag-color-picker ref="colorPicker"></ag-color-picker>\n            </ag-group-component>\n        <div>',__decorate$10([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("chartBackgroundGroup")],e.prototype,"group",void 0),__decorate$10([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("colorPicker")],e.prototype,"colorPicker",void 0),__decorate$10([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],e.prototype,"chartTranslationService",void 0),__decorate$10([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$1u=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$$=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},TitlePanel=function(t){function e(n){var i=t.call(this,e.TEMPLATE)||this;return i.chartOptionsService=n,i.activePanels=[],i}return __extends$1u(e,t),e.prototype.init=function(){this.initFontPanel(),this.titlePlaceholder=this.chartTranslationService.translate("titlePlaceholder")},e.prototype.hasTitle=function(){var t=this.getOption("title");return t&&t.enabled&&t.text&&t.text.length>0},e.prototype.initFontPanel=function(){var t=this,e=this.hasTitle(),n=function(e,n){e.family&&t.setOption("title.fontFamily",e.family,n),e.weight&&t.setOption("title.fontWeight",e.weight,n),e.style&&t.setOption("title.fontStyle",e.style,n),e.size&&t.setOption("title.fontSize",e.size,n),e.color&&t.setOption("title.color",e.color,n)},i={family:this.getOption("title.fontFamily"),style:this.getOption("title.fontStyle"),weight:this.getOption("title.fontWeight"),size:this.getOption("title.fontSize"),color:this.getOption("title.color")};e||n(i,!0);var o={name:this.chartTranslationService.translate("title"),enabled:e,suppressEnabledCheckbox:!1,initialFont:i,setFont:n,setEnabled:function(e){if(t.toolbarExists()){var n=t.getOption("padding.top");t.setOption("padding.top",e?n-20:n+20)}t.setOption("title.enabled",e);var i=t.getOption("title.text"),o="Title"===i||0===(null==i?void 0:i.trim().length);e&&o&&t.setOption("title.text",t.titlePlaceholder)}},r=this.createBean(new FontPanel(o));r.addItemToPanel(this.createSpacingSlicer()),this.getGui().appendChild(r.getGui()),this.activePanels.push(r),this.addManagedListener(this.eventService,"chartTitleEdit",(function(){r.setEnabled(t.hasTitle())}))},e.prototype.createSpacingSlicer=function(){var t=this,e=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.h7_),n=this.chartOptionsService.getChartOption("title.spacing");return e.setLabel(this.chartTranslationService.translate("spacing")).setMaxValue(Math.max(n,100)).setValue(""+n).setTextFieldWidth(45).onValueChange((function(e){return t.chartOptionsService.setChartOption("title.spacing",e)})),e},e.prototype.toolbarExists=function(){var t=this.gridOptionsService.getCallback("getChartToolbarItems");if(!t)return!0;var e={defaultItems:["chartUnlink","chartDownload"]};return["chartLink","chartUnlink","chartDownload"].some((function(n){var i;return null===(i=t&&t(e))||void 0===i?void 0:i.includes(n)}))},e.prototype.getOption=function(t){return this.chartOptionsService.getChartOption(t)},e.prototype.setOption=function(t,e,n){this.chartOptionsService.setChartOption(t,e,n)},e.prototype.destroyActivePanels=function(){var t=this;this.activePanels.forEach((function(e){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromParent(e.getGui()),t.destroyBean(e)}))},e.prototype.destroy=function(){this.destroyActivePanels(),t.prototype.destroy.call(this)},e.TEMPLATE="<div></div>",__decorate$$([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],e.prototype,"chartTranslationService",void 0),__decorate$$([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$1t=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$_=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},ChartPanel=function(t){function e(e){var n=e.chartController,i=e.chartOptionsService,o=e.isExpandedOnInit,r=void 0!==o&&o,s=t.call(this)||this;return s.activePanels=[],s.chartController=n,s.chartOptionsService=i,s.isExpandedOnInit=r,s}return __extends$1t(e,t),e.prototype.init=function(){this.setTemplate(e.TEMPLATE,{chartGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.initGroup(),this.initTitles(),this.initPaddingPanel(),this.initBackgroundPanel()},e.prototype.initGroup=function(){this.chartGroup.setTitle(this.chartTranslationService.translate("chart")).toggleGroupExpand(this.isExpandedOnInit).hideEnabledCheckbox(!0)},e.prototype.initTitles=function(){var t=this.createBean(new TitlePanel(this.chartOptionsService));this.chartGroup.addItem(t),this.activePanels.push(t)},e.prototype.initPaddingPanel=function(){var t=this.createBean(new PaddingPanel(this.chartOptionsService,this.chartController));this.chartGroup.addItem(t),this.activePanels.push(t)},e.prototype.initBackgroundPanel=function(){var t=this.createBean(new BackgroundPanel(this.chartOptionsService));this.chartGroup.addItem(t),this.activePanels.push(t)},e.prototype.destroyActivePanels=function(){var t=this;this.activePanels.forEach((function(e){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromParent(e.getGui()),t.destroyBean(e)}))},e.prototype.destroy=function(){this.destroyActivePanels(),t.prototype.destroy.call(this)},e.TEMPLATE='<div>\n            <ag-group-component ref="chartGroup"></ag-group-component>\n        </div>',__decorate$_([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("chartGroup")],e.prototype,"chartGroup",void 0),__decorate$_([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],e.prototype,"chartTranslationService",void 0),__decorate$_([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$1s=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$Z=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},ShadowPanel=function(t){function e(e,n){var i=t.call(this)||this;return i.chartOptionsService=e,i.getSelectedSeries=n,i}return __extends$1s(e,t),e.prototype.init=function(){this.setTemplate(e.TEMPLATE,{shadowGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0}}),this.shadowBlurSlider.setTextFieldWidth(45),this.shadowXOffsetSlider.setTextFieldWidth(45),this.shadowYOffsetSlider.setTextFieldWidth(45),this.initSeriesShadow()},e.prototype.initSeriesShadow=function(){var t=this;this.shadowGroup.setTitle(this.chartTranslationService.translate("shadow")).setEnabled(this.chartOptionsService.getSeriesOption("shadow.enabled",this.getSelectedSeries())).hideOpenCloseIcons(!0).hideEnabledCheckbox(!1).onEnableChange((function(e){return t.chartOptionsService.setSeriesOption("shadow.enabled",e,t.getSelectedSeries())})),this.shadowColorPicker.setLabel(this.chartTranslationService.translate("color")).setLabelWidth("flex").setInputWidth(45).setValue(this.chartOptionsService.getSeriesOption("shadow.color",this.getSelectedSeries())).onValueChange((function(e){return t.chartOptionsService.setSeriesOption("shadow.color",e,t.getSelectedSeries())}));var e=function(e,n,i,o){var r=t.chartOptionsService.getSeriesOption("shadow."+n,t.getSelectedSeries());e.setLabel(t.chartTranslationService.translate(n)).setMinValue(i).setMaxValue(getMaxValue(r,o)).setValue(""+r).onValueChange((function(e){return t.chartOptionsService.setSeriesOption("shadow."+n,e,t.getSelectedSeries())}))};e(this.shadowBlurSlider,"blur",0,20),e(this.shadowXOffsetSlider,"xOffset",-10,10),e(this.shadowYOffsetSlider,"yOffset",-10,10)},e.TEMPLATE='<div>\n            <ag-group-component ref="shadowGroup">\n                <ag-color-picker ref="shadowColorPicker"></ag-color-picker>\n                <ag-slider ref="shadowBlurSlider"></ag-slider>\n                <ag-slider ref="shadowXOffsetSlider"></ag-slider>\n                <ag-slider ref="shadowYOffsetSlider"></ag-slider>\n            </ag-group-component>\n        </div>',__decorate$Z([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("shadowGroup")],e.prototype,"shadowGroup",void 0),__decorate$Z([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("shadowColorPicker")],e.prototype,"shadowColorPicker",void 0),__decorate$Z([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("shadowBlurSlider")],e.prototype,"shadowBlurSlider",void 0),__decorate$Z([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("shadowXOffsetSlider")],e.prototype,"shadowXOffsetSlider",void 0),__decorate$Z([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("shadowYOffsetSlider")],e.prototype,"shadowYOffsetSlider",void 0),__decorate$Z([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],e.prototype,"chartTranslationService",void 0),__decorate$Z([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2);function initFontPanelParams(t){var e=t.labelName,n=t.chartOptionsService,i=t.getSelectedSeries,o=t.seriesOptionLabelProperty,r=function(t){return o+"."+t},s=function(t){var e=r(t);return n.getSeriesOption(e,i())},a=function(t,e){var o=r(t);n.setSeriesOption(o,e,i())},l={family:s("fontFamily"),style:s("fontStyle"),weight:s("fontWeight"),size:s("fontSize"),color:s("color")},c={name:e,enabled:s("enabled")||!1,setEnabled:function(t){return a("enabled",t)},suppressEnabledCheckbox:!1,initialFont:l,setFont:function(t){t.family&&a("fontFamily",t.family),t.weight&&a("fontWeight",t.weight),t.style&&a("fontStyle",t.style),t.size&&a("fontSize",t.size),t.color&&a("color",t.color)}};return c}var __extends$1r=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$Y=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},MarkersPanel=function(t){function e(e,n){var i=t.call(this)||this;return i.chartOptionsService=e,i.getSelectedSeries=n,i}return __extends$1r(e,t),e.prototype.init=function(){this.setTemplate(e.TEMPLATE,{seriesMarkersGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical"}}),this.initMarkers()},e.prototype.initMarkers=function(){var t=this;this.seriesMarkerShapeSelect.addOptions([{value:"square",text:"Square"},{value:"circle",text:"Circle"},{value:"cross",text:"Cross"},{value:"diamond",text:"Diamond"},{value:"plus",text:"Plus"},{value:"triangle",text:"Triangle"},{value:"heart",text:"Heart"}]).setLabel(this.chartTranslationService.translate("shape")).setValue(this.getSeriesOption("marker.shape")).onValueChange((function(e){return t.setSeriesOption("marker.shape",e)}));var e=this.chartOptionsService.getChartType(),n=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(["scatter","bubble"],e);this.seriesMarkersGroup.setTitle(this.chartTranslationService.translate("markers")).hideEnabledCheckbox(n).setEnabled(this.getSeriesOption("marker.enabled")||!1).hideOpenCloseIcons(!0).onEnableChange((function(e){return t.setSeriesOption("marker.enabled",e)}));var i=function(e,n,i,o){var r=t.getSeriesOption(e);n.setLabel(t.chartTranslationService.translate(i)).setMaxValue(getMaxValue(r,o)).setValue(""+r).setTextFieldWidth(45).onValueChange((function(n){return t.setSeriesOption(e,n)}))};"bubble"===e?(i("marker.maxSize",this.seriesMarkerMinSizeSlider,"maxSize",60),i("marker.size",this.seriesMarkerSizeSlider,"minSize",60)):(this.seriesMarkerMinSizeSlider.setDisplayed(!1),i("marker.size",this.seriesMarkerSizeSlider,"size",60)),i("marker.strokeWidth",this.seriesMarkerStrokeWidthSlider,"strokeWidth",10)},e.prototype.getSeriesOption=function(t){return this.chartOptionsService.getSeriesOption(t,this.getSelectedSeries())},e.prototype.setSeriesOption=function(t,e){this.chartOptionsService.setSeriesOption(t,e,this.getSelectedSeries())},e.TEMPLATE='<div>\n            <ag-group-component ref="seriesMarkersGroup">\n                <ag-select ref="seriesMarkerShapeSelect"></ag-select>\n                <ag-slider ref="seriesMarkerMinSizeSlider"></ag-slider>\n                <ag-slider ref="seriesMarkerSizeSlider"></ag-slider>\n                <ag-slider ref="seriesMarkerStrokeWidthSlider"></ag-slider>\n            </ag-group-component>\n        </div>',__decorate$Y([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("seriesMarkersGroup")],e.prototype,"seriesMarkersGroup",void 0),__decorate$Y([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("seriesMarkerShapeSelect")],e.prototype,"seriesMarkerShapeSelect",void 0),__decorate$Y([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("seriesMarkerSizeSlider")],e.prototype,"seriesMarkerSizeSlider",void 0),__decorate$Y([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("seriesMarkerMinSizeSlider")],e.prototype,"seriesMarkerMinSizeSlider",void 0),__decorate$Y([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("seriesMarkerStrokeWidthSlider")],e.prototype,"seriesMarkerStrokeWidthSlider",void 0),__decorate$Y([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],e.prototype,"chartTranslationService",void 0),__decorate$Y([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$1q=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$X=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},CalloutPanel=function(t){function e(e,n){var i=t.call(this)||this;return i.chartOptionsService=e,i.getSelectedSeries=n,i}return __extends$1q(e,t),e.prototype.init=function(){this.setTemplate(e.TEMPLATE,{calloutGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical"}}),this.initCalloutOptions()},e.prototype.initCalloutOptions=function(){var t=this;this.calloutGroup.setTitle(this.chartTranslationService.translate("callout")).setEnabled(!0).hideOpenCloseIcons(!0).hideEnabledCheckbox(!0);var e=function(e,n,i,o){var r=t.chartOptionsService.getSeriesOption(e,t.getSelectedSeries());n.setLabel(t.chartTranslationService.translate(i)).setMaxValue(getMaxValue(r,o)).setValue(""+r).setTextFieldWidth(45).onValueChange((function(n){return t.chartOptionsService.setSeriesOption(e,n,t.getSelectedSeries())}))};e("calloutLine.length",this.calloutLengthSlider,"length",40),e("calloutLine.strokeWidth",this.calloutStrokeWidthSlider,"strokeWidth",10),e("calloutLabel.offset",this.labelOffsetSlider,"offset",30)},e.TEMPLATE='<div>\n            <ag-group-component ref="calloutGroup">\n                <ag-slider ref="calloutLengthSlider"></ag-slider>\n                <ag-slider ref="calloutStrokeWidthSlider"></ag-slider>\n                <ag-slider ref="labelOffsetSlider"></ag-slider>\n            </ag-group-component>\n        </div>',__decorate$X([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("calloutGroup")],e.prototype,"calloutGroup",void 0),__decorate$X([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("calloutLengthSlider")],e.prototype,"calloutLengthSlider",void 0),__decorate$X([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("calloutStrokeWidthSlider")],e.prototype,"calloutStrokeWidthSlider",void 0),__decorate$X([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("labelOffsetSlider")],e.prototype,"labelOffsetSlider",void 0),__decorate$X([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],e.prototype,"chartTranslationService",void 0),__decorate$X([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$1p=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$W=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},SeriesPanel=function(t){function e(e){var n=e.chartController,i=e.chartOptionsService,o=e.seriesType,r=e.isExpandedOnInit,s=void 0!==r&&r,a=t.call(this)||this;return a.activePanels=[],a.widgetFuncs={lineWidth:function(){return a.initLineWidth()},strokeWidth:function(){return a.initStrokeWidth()},lineDash:function(){return a.initLineDash()},lineOpacity:function(){return a.initLineOpacity()},fillOpacity:function(){return a.initFillOpacity()},markers:function(){return a.initMarkers()},labels:function(){return a.initLabels()},shadow:function(){return a.initShadow()},tooltips:function(){return a.initTooltips()},bins:function(){return a.initBins()}},a.seriesWidgetMappings={area:["tooltips","lineWidth","lineDash","lineOpacity","fillOpacity","markers","labels","shadow"],bar:["tooltips","strokeWidth","lineDash","lineOpacity","fillOpacity","labels","shadow"],column:["tooltips","strokeWidth","lineDash","lineOpacity","fillOpacity","labels","shadow"],line:["tooltips","lineWidth","lineDash","lineOpacity","markers","labels"],histogram:["tooltips","bins","strokeWidth","lineDash","lineOpacity","fillOpacity","labels","shadow"],scatter:["tooltips","markers","labels"],pie:["tooltips","strokeWidth","lineOpacity","fillOpacity","labels","shadow"]},a.chartController=n,a.chartOptionsService=i,a.seriesType=o||a.getChartSeriesType(),a.isExpandedOnInit=s,a}return __extends$1p(e,t),e.prototype.init=function(){this.setTemplate(e.TEMPLATE,{seriesGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.seriesGroup.setTitle(this.translate("series")).toggleGroupExpand(this.isExpandedOnInit).hideEnabledCheckbox(!0),this.addManagedListener(this.chartController,ChartController.EVENT_CHART_SERIES_CHART_TYPE_CHANGED,this.refreshWidgets.bind(this)),this.refreshWidgets()},e.prototype.refreshWidgets=function(){var t=this;this.destroyActivePanels(),this.chartController.getChartProxy().getChart().waitForUpdate().then((function(){t.chartController.isComboChart()&&(t.updateSeriesType(),t.initSeriesSelect()),t.seriesWidgetMappings[t.seriesType].forEach((function(e){return t.widgetFuncs[e]()}))}))},e.prototype.initSeriesSelect=function(){var t=this,e=this.seriesGroup.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wGv);e.setLabel(this.translate("seriesType")).setLabelAlignment("left").setLabelWidth("flex").setInputWidth(100).addOptions(this.getSeriesSelectOptions()).setValue(""+this.seriesType).onValueChange((function(e){t.seriesType=e,t.refreshWidgets()})),this.seriesGroup.addItem(e),this.activePanels.push(e)},e.prototype.initTooltips=function(){var t=this,e=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.nN0);e.setLabel(this.translate("tooltips")).setLabelAlignment("left").setLabelWidth("flex").setInputWidth(45).setValue(this.getSeriesOption("tooltip.enabled")||!1).onValueChange((function(e){return t.setSeriesOption("tooltip.enabled",e)})),this.addWidget(e)},e.prototype.initStrokeWidth=function(){var t=this,e=this.getSeriesOption("strokeWidth"),n=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.h7_);n.setLabel(this.translate("strokeWidth")).setMaxValue(getMaxValue(e,10)).setTextFieldWidth(45).setValue(""+e).onValueChange((function(e){return t.setSeriesOption("strokeWidth",e)})),this.addWidget(n)},e.prototype.initLineWidth=function(){var t=this,e=this.getSeriesOption("strokeWidth"),n=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.h7_);n.setLabel(this.translate("lineWidth")).setMaxValue(getMaxValue(e,10)).setTextFieldWidth(45).setValue(""+e).onValueChange((function(e){return t.setSeriesOption("strokeWidth",e)})),this.addWidget(n)},e.prototype.initLineDash=function(){var t=this,e=this.getSeriesOption("lineDash"),n=e?e[0]:0,i=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.h7_);i.setLabel(this.translate("lineDash")).setMaxValue(getMaxValue(n,30)).setTextFieldWidth(45).setValue(""+n).onValueChange((function(e){return t.setSeriesOption("lineDash",[e])})),this.addWidget(i)},e.prototype.initLineOpacity=function(){var t=this,e=this.getSeriesOption("strokeOpacity"),n=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.h7_);n.setLabel(this.translate("strokeOpacity")).setStep(.05).setMaxValue(getMaxValue(e,1)).setTextFieldWidth(45).setValue(""+e).onValueChange((function(e){return t.setSeriesOption("strokeOpacity",e)})),this.addWidget(n)},e.prototype.initFillOpacity=function(){var t=this,e=this.getSeriesOption("fillOpacity"),n=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.h7_);n.setLabel(this.translate("fillOpacity")).setStep(.05).setMaxValue(getMaxValue(e,1)).setTextFieldWidth(45).setValue(""+e).onValueChange((function(e){return t.setSeriesOption("fillOpacity",e)})),this.addWidget(n)},e.prototype.initLabels=function(){var t=this,e="pie"===this.seriesType?"calloutLabel":"label",n=initFontPanelParams({labelName:"pie"===this.seriesType?this.chartTranslationService.translate("calloutLabels"):this.chartTranslationService.translate("labels"),chartOptionsService:this.chartOptionsService,getSelectedSeries:function(){return t.seriesType},seriesOptionLabelProperty:e}),i=this.createBean(new FontPanel(n));if("pie"===this.seriesType){var o=this.createBean(new CalloutPanel(this.chartOptionsService,(function(){return t.seriesType})));i.addCompToPanel(o),this.activePanels.push(o)}if(this.addWidget(i),"pie"===this.seriesType){var r=initFontPanelParams({labelName:this.chartTranslationService.translate("sectorLabels"),chartOptionsService:this.chartOptionsService,getSelectedSeries:function(){return t.seriesType},seriesOptionLabelProperty:"sectorLabel"}),s=this.createBean(new FontPanel(r)),a=this.getSectorLabelPositionRatio();s.addCompToPanel(a),this.addWidget(s)}},e.prototype.getSectorLabelPositionRatio=function(){var t=this,e="sectorLabel.positionRatio",n=this.chartOptionsService.getSeriesOption(e,this.seriesType);return this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.h7_).setLabel(this.translate("positionRatio")).setStep(.05).setMaxValue(getMaxValue(n,1)).setTextFieldWidth(45).setValue(""+n).onValueChange((function(n){return t.chartOptionsService.setSeriesOption(e,n,t.seriesType)}))},e.prototype.initShadow=function(){var t=this,e=this.createBean(new ShadowPanel(this.chartOptionsService,(function(){return t.seriesType})));this.addWidget(e)},e.prototype.initMarkers=function(){var t=this,e=this.createBean(new MarkersPanel(this.chartOptionsService,(function(){return t.seriesType})));this.addWidget(e)},e.prototype.initBins=function(){var t=this,e=this.getSeriesOption("bins").length,n=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.h7_);n.setLabel(this.translate("histogramBinCount")).setMinValue(0).setMaxValue(getMaxValue(e,20)).setTextFieldWidth(45).setValue(""+e).onValueChange((function(e){return t.setSeriesOption("binCount",e)})),this.addWidget(n)},e.prototype.addWidget=function(t){this.seriesGroup.addItem(t),this.activePanels.push(t)},e.prototype.getSeriesOption=function(t){return this.chartOptionsService.getSeriesOption(t,this.seriesType)},e.prototype.setSeriesOption=function(t,e){this.chartOptionsService.setSeriesOption(t,e,this.seriesType)},e.prototype.getChartSeriesType=function(){if(0===this.chartController.getSeriesChartTypes().length)return"column";var t=this.chartController.getSeriesChartTypes()[0].chartType;return"columnLineCombo"===t?"column":"areaColumnCombo"===t?"area":getSeriesType(t)},e.prototype.getSeriesSelectOptions=function(){var t=this;this.seriesSelectOptions||(this.seriesSelectOptions=new Map([["area",{value:"area",text:this.translate("area","Area")}],["bar",{value:"bar",text:this.translate("bar","Bar")}],["column",{value:"column",text:this.translate("column","Column")}],["line",{value:"line",text:this.translate("line","Line")}],["scatter",{value:"scatter",text:this.translate("scatter","Scatter")}],["histogram",{value:"histogram",text:this.translate("histogram","Histogram")}],["pie",{value:"pie",text:this.translate("pie","Pie")}]]));var e=new Set;return this.chartController.getActiveSeriesChartTypes().forEach((function(n){var i=getSeriesType(n.chartType);e.add(t.seriesSelectOptions.get(i))})),Array.from(e)},e.prototype.updateSeriesType=function(){var t=this.chartController.getActiveSeriesChartTypes().map((function(t){return getSeriesType(t.chartType)}));!t.includes(this.seriesType)&&t.length>0&&(this.seriesType=t[0])},e.prototype.translate=function(t,e){return this.chartTranslationService.translate(t,e)},e.prototype.destroyActivePanels=function(){var t=this;this.activePanels.forEach((function(e){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromParent(e.getGui()),t.destroyBean(e)}))},e.prototype.destroy=function(){this.destroyActivePanels(),t.prototype.destroy.call(this)},e.TEMPLATE='<div>\n            <ag-group-component ref="seriesGroup">\n            </ag-group-component>\n        </div>',__decorate$W([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("seriesGroup")],e.prototype,"seriesGroup",void 0),__decorate$W([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],e.prototype,"chartTranslationService",void 0),__decorate$W([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$1o=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$V=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};function getMaxValue(t,e){return Math.max(t,e)}var DefaultFormatPanelDef={groups:[{type:"chart"},{type:"legend"},{type:"series"},{type:"axis"},{type:"navigator"}]},FormatPanel=function(t){function e(n,i){var o=t.call(this,e.TEMPLATE)||this;return o.chartController=n,o.chartOptionsService=i,o.panels=[],o.isGroupPanelShownInSeries=function(t,e){if(["chart","legend","series"].includes(t))return!0;return!(!["axis","navigator"].includes(t)||!["bar","column","line","area","scatter","histogram","cartesian"].includes(e))},o}return __extends$1o(e,t),e.prototype.init=function(){this.createPanels(),this.addManagedListener(this.chartController,ChartController.EVENT_CHART_UPDATED,this.createPanels.bind(this))},e.prototype.createPanels=function(){var t,e=this,n=this.chartController.getChartType(),i=this.chartController.isGrouping(),o=getSeriesType(n);n===this.chartType&&i===this.isGrouping||(this.destroyPanels(),null===(t=this.getFormatPanelDef().groups)||void 0===t||t.forEach((function(t){var n=t.type;if(e.isGroupPanelShownInSeries(n,o)){var i={chartController:e.chartController,chartOptionsService:e.chartOptionsService,isExpandedOnInit:t.isOpen,seriesType:o};"chart"===n?e.addComponent(new ChartPanel(i)):"legend"===n?e.addComponent(new LegendPanel(i)):"axis"===n?e.addComponent(new AxisPanel(i)):"series"===n?e.addComponent(new SeriesPanel(i)):"navigator"===n?e.addComponent(new NavigatorPanel(i)):console.warn("AG Grid: invalid charts format panel group name supplied: '"+t.type+"'")}})),this.chartType=n,this.isGrouping=i)},e.prototype.getFormatPanelDef=function(){var t,e=null===(t=this.gridOptionsService.get("chartToolPanelsDef"))||void 0===t?void 0:t.formatPanel;return e||DefaultFormatPanelDef},e.prototype.addComponent=function(t){this.createBean(t),this.panels.push(t),t.addCssClass("ag-chart-format-section"),this.getGui().appendChild(t.getGui())},e.prototype.destroyPanels=function(){var t=this;this.panels.forEach((function(e){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromParent(e.getGui()),t.destroyBean(e)}))},e.prototype.destroy=function(){this.destroyPanels(),t.prototype.destroy.call(this)},e.TEMPLATE='<div class="ag-chart-format-wrapper"></div>',__decorate$V([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$1n=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$U=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},MiniChart=function(t){function e(e,n){var i=t.call(this)||this;i.size=58,i.padding=5,i.root=new Group;var o=new Scene({document:window.document,width:i.size,height:i.size});return o.canvas.element.classList.add("ag-chart-mini-thumbnail-canvas"),o.root=i.root,o.container=e,i.scene=o,i.tooltipName=n,i}return __extends$1n(e,t),e.prototype.init=function(){this.scene.canvas.element.title=this.chartTranslationService.translate(this.tooltipName),this.scene.render()},__decorate$U([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],e.prototype,"chartTranslationService",void 0),__decorate$U([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$1m=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$T=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},MiniChartWithAxes=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.stroke="gray",i.axisOvershoot=3,i}return __extends$1m(e,t),e.prototype.addAxes=function(){var t=this.size,e=this.padding,n=new Line;n.x1=e,n.y1=e,n.x2=e,n.y2=t-e+this.axisOvershoot,n.stroke=this.stroke;var i=new Line;i.x1=e-this.axisOvershoot+1,i.y1=t-e,i.x2=t-e+1,i.y2=t-e,i.stroke=this.stroke;var o=this.root;o.append(n),o.append(i)},__decorate$T([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"addAxes",null),e}(MiniChart);function createColumnRects(t){var e=t.stacked,n=t.size,i=t.padding,o=t.xScalePadding,r=t.xScaleDomain,s=t.yScaleDomain,a=new BandScale$5;a.domain=r,a.range=[i,n-i],a.paddingInner=o,a.paddingOuter=o;var l=new LinearScale$1;l.domain=s,l.range=[n-i,i];var c=function(t,e,n){return t.map((function(t,i){var o=n.convert(t),r=new Rect;return r.x=e.convert(i),r.y=o,r.width=e.bandwidth,r.height=n.convert(0)-o,r.strokeWidth=1,r.crisp=!0,r}))};return e?t.data.map((function(t){return c(t,a,l)})):c(t.data,a,l)}function createLinePaths(t,e,n,i){var o=new LinearScale$1;o.domain=[0,4],o.range=[i,n-i];var r=new LinearScale$1;r.domain=[0,10],r.range=[n-i,i];var s=e.map((function(t){var e=new Path;return e.strokeWidth=3,e.lineCap="round",e.fill=void 0,t.forEach((function(t,n){e.path[n>0?"lineTo":"moveTo"](o.convert(n),r.convert(t))})),e})),a=new Group;return a.setClipRectInGroupCoordinateSpace(new BBox(i,i,n-2*i,n-2*i)),a.append(s),t.append(a),s}var __extends$1l=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),MiniColumn=function(t){function e(e,n,i){var o=t.call(this,e,"groupedColumnTooltip")||this;o.columnData=[2,3,4];var r=o,s=r.root,a=r.columnData,l=r.size,c=r.padding;return o.columns=createColumnRects({stacked:!1,root:s,data:a,size:l,padding:c,xScaleDomain:[0,1,2],yScaleDomain:[0,4],xScalePadding:.3}),s.append(o.columns),o.updateColors(n,i),o}return __extends$1l(e,t),e.prototype.updateColors=function(t,e){this.columns.forEach((function(n,i){n.fill=t[i],n.stroke=e[i]}))},e.chartType="groupedColumn",e}(MiniChartWithAxes),__extends$1k=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),MiniStackedColumn=function(t){function e(n,i,o,r,s,a){void 0===r&&(r=e.data),void 0===s&&(s=[0,16]),void 0===a&&(a="stackedColumnTooltip");var l=t.call(this,n,a)||this,c=l,u=c.root,h=c.size,d=c.padding;return l.stackedColumns=createColumnRects({stacked:!0,root:u,data:r,size:h,padding:d,xScaleDomain:[0,1,2],yScaleDomain:s,xScalePadding:.3}),u.append([].concat.apply([],l.stackedColumns)),l.updateColors(i,o),l}return __extends$1k(e,t),e.prototype.updateColors=function(t,e){this.stackedColumns.forEach((function(n,i){return n.forEach((function(n){n.fill=t[i],n.stroke=e[i]}))}))},e.chartType="stackedColumn",e.data=[[8,12,16],[6,9,12],[2,3,4]],e}(MiniChartWithAxes),__extends$1j=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),MiniNormalizedColumn=function(t){function e(n,i,o){return t.call(this,n,i,o,e.data,[0,10],"normalizedColumnTooltip")||this}return __extends$1j(e,t),e.chartType="normalizedColumn",e.data=[[10,10,10],[6,7,8],[2,4,6]],e}(MiniStackedColumn),__extends$1i=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),MiniBar=function(t){function e(e,n,i){var o=t.call(this,e,"groupedBarTooltip")||this,r=o.padding,s=o.size,a=new BandScale$5;a.domain=[0,1,2],a.range=[r,s-r],a.paddingInner=.3,a.paddingOuter=.3;var l=new LinearScale$1;l.domain=[0,4],l.range=[s-r,r];var c=l.convert(0),u=a.bandwidth;return o.bars=[2,3,4].map((function(t,e){var n=new Rect;return n.x=r,n.y=a.convert(e),n.width=c-l.convert(t),n.height=u,n.strokeWidth=1,n.crisp=!0,n})),o.updateColors(n,i),o.root.append(o.bars),o}return __extends$1i(e,t),e.prototype.updateColors=function(t,e){this.bars.forEach((function(n,i){n.fill=t[i],n.stroke=e[i]}))},e.chartType="groupedBar",e}(MiniChartWithAxes),__extends$1h=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),MiniStackedBar=function(t){function e(n,i,o,r,s,a){void 0===r&&(r=e.data),void 0===s&&(s=[0,16]),void 0===a&&(a="stackedBarTooltip");var l=t.call(this,n,a)||this,c=l.size,u=l.padding,h=new BandScale$5;h.domain=[0,1,2],h.range=[u,c-u],h.paddingInner=.3,h.paddingOuter=.3;var d=new LinearScale$1;d.domain=s,d.range=[c-u,u];var p=d.convert(0),f=h.bandwidth;return l.bars=r.map((function(t){return t.map((function(t,e){var n=new Rect;return n.x=u,n.y=h.convert(e),n.width=p-d.convert(t),n.height=f,n.strokeWidth=1,n.crisp=!0,n}))})),l.updateColors(i,o),l.root.append([].concat.apply([],l.bars)),l}return __extends$1h(e,t),e.prototype.updateColors=function(t,e){this.bars.forEach((function(n,i){return n.forEach((function(n){n.fill=t[i],n.stroke=e[i]}))}))},e.chartType="stackedBar",e.data=[[8,12,16],[6,9,12],[2,3,4]],e}(MiniChartWithAxes),__extends$1g=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),MiniNormalizedBar=function(t){function e(n,i,o){return t.call(this,n,i,o,e.data,[0,10],"normalizedBarTooltip")||this}return __extends$1g(e,t),e.chartType="normalizedBar",e.data=[[10,10,10],[6,7,8],[2,4,6]],e}(MiniStackedBar),__extends$1f=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__read$j=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},toRadians=toRadians$1,MiniDoughnut=function(t){function e(e,n,i,o,r){void 0===o&&(o=.6),void 0===r&&(r="doughnutTooltip");var s=t.call(this,e,r)||this,a=(s.size-2*s.padding)/2,l=a+s.padding,c=[[toRadians(-90),toRadians(30)],[toRadians(30),toRadians(120)],[toRadians(120),toRadians(180)],[toRadians(180),toRadians(210)],[toRadians(210),toRadians(240)],[toRadians(240),toRadians(270)]];return s.sectors=c.map((function(t){var e=__read$j(t,2),n=e[0],i=e[1],r=new Sector;return r.centerX=l,r.centerY=l,r.innerRadius=a*o,r.outerRadius=a,r.startAngle=n,r.endAngle=i,r.stroke=void 0,r.strokeWidth=1,r})),s.updateColors(n,i),s.root.append(s.sectors),s}return __extends$1f(e,t),e.prototype.updateColors=function(t,e){this.sectors.forEach((function(n,i){n.fill=t[i%t.length],n.stroke=e[i%e.length]}))},e.chartType="doughnut",e}(MiniChart),__extends$1e=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),MiniPie=function(t){function e(e,n,i){return t.call(this,e,n,i,0,"pieTooltip")||this}return __extends$1e(e,t),e.chartType="pie",e}(MiniDoughnut),__extends$1d=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),MiniLine=function(t){function e(e,n,i){var o=t.call(this,e,"lineTooltip")||this;return o.data=[[9,7,8,5,6],[5,6,3,4,1],[1,3,4,8,7]],o.lines=createLinePaths(o.root,o.data,o.size,o.padding),o.updateColors(n,i),o}return __extends$1d(e,t),e.prototype.updateColors=function(t,e){this.lines.forEach((function(e,n){e.stroke=t[n]}))},e.chartType="line",e}(MiniChartWithAxes),__extends$1c=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__read$i=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},MiniScatter=function(t){function e(e,n,i){var o=t.call(this,e,"scatterTooltip")||this,r=o.size,s=o.padding,a=new LinearScale$1;a.domain=[-.5,4],a.range=[2*s,r-s];var l=new LinearScale$1;l.domain=[-.5,3.5],l.range=[r-s,s];var c=[];[[[.3,3],[1.1,.9],[2,.4],[3.4,2.4]],[[0,.3],[1,2],[2.4,1.4],[3,0]]].forEach((function(t){t.forEach((function(t){var e=__read$i(t,2),n=e[0],i=e[1],o=new Arc;o.strokeWidth=1,o.centerX=a.convert(n),o.centerY=l.convert(i),o.radius=2.5,c.push(o)}))})),o.points=c,o.updateColors(n,i);var u=new Group;return u.setClipRectInGroupCoordinateSpace(new BBox(s,s,r-2*s,r-2*s)),u.append(o.points),o.root.append(u),o}return __extends$1c(e,t),e.prototype.updateColors=function(t,e){this.points.forEach((function(n,i){n.stroke=e[i%e.length],n.fill=t[i%t.length]}))},e.chartType="scatter",e}(MiniChartWithAxes),__extends$1b=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__read$h=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},MiniBubble=function(t){function e(e,n,i){var o=t.call(this,e,"bubbleTooltip")||this,r=o.size,s=o.padding,a=new LinearScale$1;a.domain=[0,1],a.range=[2*s,r-s];var l=new LinearScale$1;l.domain=[0,1],l.range=[r-s,s];var c=[];[[[.1,.3,5],[.5,.4,7],[.2,.8,7]],[[.8,.7,5],[.7,.3,9]]].forEach((function(t){t.forEach((function(t){var e=__read$h(t,3),n=e[0],i=e[1],o=e[2],r=new Arc;r.strokeWidth=1,r.centerX=a.convert(n),r.centerY=l.convert(i),r.radius=o,r.fillOpacity=.7,c.push(r)}))})),o.points=c,o.updateColors(n,i);var u=new Group;return u.setClipRectInGroupCoordinateSpace(new BBox(s,s,r-2*s,r-2*s)),u.append(o.points),o.root.append(u),o}return __extends$1b(e,t),e.prototype.updateColors=function(t,e){this.points.forEach((function(n,i){n.stroke=e[i%e.length],n.fill=t[i%t.length]}))},e.chartType="bubble",e}(MiniChartWithAxes),__extends$1a=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),MiniArea=function(t){function e(n,i,o,r){void 0===r&&(r=e.data);var s=t.call(this,n,"groupedAreaTooltip")||this,a=s.size,l=s.padding,c=new BandScale$5;c.domain=[0,1,2],c.paddingInner=1,c.paddingOuter=0,c.range=[l+.5,a-l-.5];var u=new LinearScale$1;u.domain=[0,6],u.range=[a-l+.5,l];var h=2*r.length-1,d=[],p=u.convert(0);return r.forEach((function(t,e){var n=c.convert(e);t.forEach((function(t,i){var o=u.convert(t),r=d[i]||(d[i]=[]);r[e]={x:n,y:o},r[h-e]={x:n,y:p}}))})),s.areas=d.reverse().map((function(t){var e=new Path;e.strokeWidth=1,e.fillOpacity=.7;var n=e.path;return n.clear(),t.forEach((function(t,e){return n[e>0?"lineTo":"moveTo"](t.x,t.y)})),n.closePath(),e})),s.updateColors(i,o),s.root.append(s.areas),s}return __extends$1a(e,t),e.prototype.updateColors=function(t,e){this.areas.forEach((function(n,i){n.fill=t[i],n.stroke=e[i]}))},e.chartType="area",e.data=[[1,3,5],[2,6,4],[5,3,1]],e}(MiniChartWithAxes),__extends$19=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),MiniStackedArea=function(t){function e(n,i,o,r,s){void 0===r&&(r=e.data),void 0===s&&(s="stackedAreaTooltip");var a=t.call(this,n,s)||this,l=a.size,c=a.padding,u=new BandScale$5;u.domain=[0,1,2],u.paddingInner=1,u.paddingOuter=0,u.range=[c+.5,l-c-.5];var h=new LinearScale$1;h.domain=[0,16],h.range=[l-c+.5,c+.5];var d=2*r.length-1,p=[];return r.forEach((function(t,e){var n=u.convert(e),i=0;t.forEach((function(t,o){var r=h.convert(i+t),s=p[o]||(p[o]=[]);s[e]={x:n,y:r},s[d-e]={x:n,y:h.convert(i)},i+=t}))})),a.areas=p.map((function(t){var e=new Path;e.strokeWidth=1;var n=e.path;return n.clear(),t.forEach((function(t,e){return n[e>0?"lineTo":"moveTo"](t.x,t.y)})),n.closePath(),e})),a.updateColors(i,o),a.root.append(a.areas),a}return __extends$19(e,t),e.prototype.updateColors=function(t,e){this.areas.forEach((function(n,i){n.fill=t[i],n.stroke=e[i]}))},e.chartType="stackedArea",e.data=[[2,3,2],[3,6,5],[6,2,2]],e}(MiniChartWithAxes),__extends$18=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),MiniNormalizedArea=function(t){function e(n,i,o,r){return void 0===r&&(r=e.data),t.call(this,n,i,o,r,"normalizedAreaTooltip")||this}return __extends$18(e,t),e.chartType="normalizedArea",e.data=MiniStackedArea.data.map((function(t){var e=t.reduce((function(t,e){return t+e}),0);return t.map((function(t){return t/e*16}))})),e}(MiniStackedArea),__extends$17=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__read$g=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},MiniHistogram=function(t){function e(e,n,i){var o=t.call(this,e,"histogramTooltip")||this,r=o.padding,s=o.size,a=[2,5,11,13,10,6,1],l=new LinearScale$1;l.domain=[0,a.length],l.range=[r,s-r];var c=new LinearScale$1;c.domain=[0,a.reduce((function(t,e){return Math.max(t,e)}),0)],c.range=[s-r,r];var u=c.convert(0);return o.bars=a.map((function(t,e){var n=c.convert(t),i=l.convert(e),o=l.convert(e+1),r=new Rect;return r.x=i,r.y=n,r.width=o-i,r.height=u-n,r.strokeWidth=1,r.crisp=!0,r})),o.updateColors(n,i),o.root.append(o.bars),o}return __extends$17(e,t),e.prototype.updateColors=function(t,e){var n=__read$g(t,1)[0],i=__read$g(e,1)[0];this.bars.forEach((function(t){t.fill=n,t.stroke=i}))},e.chartType="histogram",e}(MiniChartWithAxes),__extends$16=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),MiniColumnLineCombo=function(t){function e(e,n,i){var o=t.call(this,e,"columnLineComboTooltip")||this;o.columnData=[3,4],o.lineData=[[5,4,6,5,4]];var r=o,s=r.root,a=r.columnData,l=r.lineData,c=r.size,u=r.padding;return o.columns=createColumnRects({stacked:!1,root:s,data:a,size:c,padding:u,xScaleDomain:[0,1],yScaleDomain:[0,4],xScalePadding:.5}),s.append(o.columns),o.lines=createLinePaths(s,l,c,u),o.updateColors(n,i),o}return __extends$16(e,t),e.prototype.updateColors=function(t,e){this.columns.forEach((function(n,i){n.fill=t[i],n.stroke=e[i]})),this.lines.forEach((function(e,n){e.stroke=t[n+2]}))},e.chartType="columnLineCombo",e}(MiniChartWithAxes),__extends$15=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),MiniAreaColumnCombo=function(t){function e(e,n,i){var o=t.call(this,e,"areaColumnComboTooltip")||this;o.columnData=[3,4.5],o.areaData=[[5,4,6,5,4]];var r=o,s=r.root,a=r.columnData,l=r.areaData,c=r.size,u=r.padding;o.columns=createColumnRects({stacked:!1,root:s,data:a,size:c,padding:u,xScaleDomain:[0,1],yScaleDomain:[0,6],xScalePadding:.5});var h=new BandScale$5;h.range=[u,c-u],h.domain=[0,1,2,3,4],h.paddingInner=1,h.paddingOuter=0;var d=new LinearScale$1;d.range=[c-u,u],d.domain=[0,6];var p=[],f=d.convert(0),g=h.convert(0);return l.forEach((function(t,e){var n=p[e]||(p[e]=[]);t.forEach((function(t,e){var i=t,o=e,r=h.convert(o),s=d.convert(i);n[e]={x:r,y:s}}));var i=h.convert(t.length-1);p[e].push({x:i,y:f},{x:g,y:f})})),o.areas=p.map((function(t){var e=new Path;e.strokeWidth=1,e.fillOpacity=.8;var n=e.path;return t.forEach((function(t,e){return n[e>0?"lineTo":"moveTo"](t.x,t.y)})),e})),s.append(o.areas),s.append([].concat.apply([],o.columns)),o.updateColors(n,i),o}return __extends$15(e,t),e.prototype.updateColors=function(t,e){this.areas.forEach((function(n,i){n.fill=t[i],n.stroke=e[i]})),this.columns.forEach((function(n,i){n.fill=t[i+1],n.stroke=e[i+1]}))},e.chartType="areaColumnCombo",e}(MiniChartWithAxes),__extends$14=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),MiniCustomCombo=function(t){function e(e,n,i){var o=t.call(this,e,"customComboTooltip")||this;o.columnData=[3,4],o.lineData=[[5,4,6,5,4]];var r=o,s=r.root,a=r.columnData,l=r.lineData,c=r.size,u=r.padding;o.columns=createColumnRects({stacked:!1,root:s,data:a,size:c,padding:u,xScaleDomain:[0,1],yScaleDomain:[0,4],xScalePadding:.5}),s.append(o.columns),o.lines=createLinePaths(s,l,c,u);var h="grey",d=new Line;d.x1=u,d.y1=u,d.x2=u,d.y2=c-u+3,d.stroke=h;var p=new Line;p.x1=u-3+1,p.y1=c-u,p.x2=c-u+1,p.y2=c-u,p.stroke=h;var f=new Path;return o.buildPenIconPath(f),f.fill="whitesmoke",f.stroke="darkslategrey",f.strokeWidth=1,s.append([p,d,f]),o.updateColors(n,i),o}return __extends$14(e,t),e.prototype.updateColors=function(t,e){this.columns.forEach((function(n,i){n.fill=t[i],n.stroke=e[i]})),this.lines.forEach((function(e,n){e.stroke=t[n+2]}))},e.prototype.buildPenIconPath=function(t){var e=t.path;e.moveTo(25.76,43.46),e.lineTo(31.27,48.53),e.moveTo(49.86,22),e.lineTo(49.86,22),e.cubicCurveTo(49.01994659053345,21.317514933510974,47.89593834348529,21.09645997825817,46.86,21.41),e.lineTo(46.86,21.41),e.cubicCurveTo(45.55460035985361,21.77260167850787,44.38777081121966,22.517979360321792,43.51,23.55),e.lineTo(25.51,43.8),e.lineTo(25.43,43.89),e.lineTo(23.01,51.89),e.lineTo(22.83,52.46),e.lineTo(31.02,48.86),e.lineTo(49.02,28.52),e.lineTo(49.02,28.52),e.cubicCurveTo(49.940716461596224,27.521914221246085,50.54302631059587,26.2720342455763,50.75,24.93),e.lineTo(50.75,24.93),e.cubicCurveTo(50.95363374988308,23.866379846512814,50.62080640232334,22.77066734274871,49.86,22),e.closePath(),e.moveTo(41.76,25.5),e.lineTo(47.34,30.5),e.moveTo(40.74,26.65),e.lineTo(46.25,31.71)},e.chartType="customCombo",e}(MiniChart),__extends$13=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__assign$j=function(){return __assign$j=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},__assign$j.apply(this,arguments)},__decorate$S=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},miniChartMapping={columnGroup:{column:MiniColumn,stackedColumn:MiniStackedColumn,normalizedColumn:MiniNormalizedColumn},barGroup:{bar:MiniBar,stackedBar:MiniStackedBar,normalizedBar:MiniNormalizedBar},pieGroup:{pie:MiniPie,doughnut:MiniDoughnut},lineGroup:{line:MiniLine},scatterGroup:{scatter:MiniScatter,bubble:MiniBubble},areaGroup:{area:MiniArea,stackedArea:MiniStackedArea,normalizedArea:MiniNormalizedArea},histogramGroup:{histogram:MiniHistogram},combinationGroup:{columnLineCombo:MiniColumnLineCombo,areaColumnCombo:MiniAreaColumnCombo,customCombo:MiniCustomCombo}},MiniChartsContainer=function(t){function e(n,i,o,r){void 0===r&&(r=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.hhW);var s=t.call(this,e.TEMPLATE)||this;return s.wrappers={},s.chartController=n,s.fills=i,s.strokes=o,s.chartGroups=__assign$j({},r),s}return __extends$13(e,t),e.prototype.init=function(){var t=this;!this.chartController.customComboExists()&&this.chartGroups.combinationGroup&&(this.chartGroups.combinationGroup=this.chartGroups.combinationGroup.filter((function(t){return"customCombo"!==t})));var e=this.getGui();Object.keys(this.chartGroups).forEach((function(n){var i=t.chartGroups[n],o=t.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.H1u({title:t.chartTranslationService.translate(n),suppressEnabledCheckbox:!0,enabled:!0,suppressOpenCloseIcons:!0,cssIdentifier:"charts-settings",direction:"horizontal"}));i.forEach((function(e){var i,r=null===(i=miniChartMapping[n])||void 0===i?void 0:i[e];if(r){var s=document.createElement("div");s.classList.add("ag-chart-mini-thumbnail");var a=r.chartType;t.addManagedListener(s,"click",(function(){t.chartController.setChartType(a),t.updateSelectedMiniChart()})),t.wrappers[a]=s,t.createBean(new r(s,t.fills,t.strokes)),o.addItem(s)}else miniChartMapping[n]?ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce((function(){return console.warn("AG Grid - invalid chartGroupsDef config '"+n+"."+e+"'")}),"invalid_chartGroupsDef"+e+"_"+n):ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce((function(){return console.warn("AG Grid - invalid chartGroupsDef config '"+n+"'")}),"invalid_chartGroupsDef"+n)})),e.appendChild(o.getGui())})),this.updateSelectedMiniChart()},e.prototype.updateSelectedMiniChart=function(){var t=this.chartController.getChartType();for(var e in this.wrappers){var n=e===t;this.wrappers[e].classList.toggle("ag-selected",n)}},e.TEMPLATE='<div class="ag-chart-settings-mini-wrapper"></div>',__decorate$S([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],e.prototype,"chartTranslationService",void 0),__decorate$S([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$12=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$R=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},ChartSettingsPanel=function(t){function e(n){var i=t.call(this,e.TEMPLATE)||this;return i.miniChartsContainers=[],i.cardItems=[],i.activePaletteIndex=0,i.palettes=[],i.themes=[],i.chartController=n,i}return __extends$12(e,t),e.prototype.postConstruct=function(){var t=this;this.resetPalettes(),this.ePrevBtn.insertAdjacentElement("afterbegin",ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("previous",this.gridOptionsService)),this.eNextBtn.insertAdjacentElement("afterbegin",ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("next",this.gridOptionsService)),this.addManagedListener(this.ePrevBtn,"click",(function(){return t.setActivePalette(t.getPrev(),"left")})),this.addManagedListener(this.eNextBtn,"click",(function(){return t.setActivePalette(t.getNext(),"right")})),this.addManagedListener(this.chartController,ChartController.EVENT_CHART_TYPE_CHANGED,(function(){return t.resetPalettes(!0)})),this.scrollSelectedIntoView()},e.prototype.scrollSelectedIntoView=function(){var t=this;setTimeout((function(){var e=t.miniChartsContainers.find((function(t){return!t.getGui().classList.contains("ag-hidden")})).getGui().querySelector(".ag-selected");if(e){var n=e.offsetParent;n&&t.eMiniChartsContainer.scrollTo(0,n.offsetTop)}}),250)},e.prototype.resetPalettes=function(t){var e,n,i=this,o=this.chartController.getPalettes(),r=null===(n=null===(e=this.gridOptionsService.get("chartToolPanelsDef"))||void 0===e?void 0:e.settingsPanel)||void 0===n?void 0:n.chartGroupsDef;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.shallowCompare(o,this.palettes)&&!t||this.isAnimating||(this.palettes=o,this.themes=this.chartController.getThemes(),this.activePaletteIndex=this.themes.findIndex((function(t){return t===i.chartController.getChartThemeName()})),this.cardItems=[],ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.clearElement(this.eCardSelector),this.destroyMiniCharts(),this.palettes.forEach((function(t,e){var n=i.activePaletteIndex===e,o=t.fills,s=t.strokes,a=i.createBean(new MiniChartsContainer(i.chartController,o,s,r));i.miniChartsContainers.push(a),i.eMiniChartsContainer.appendChild(a.getGui()),i.addCardLink(e),n?a.updateSelectedMiniChart():a.setDisplayed(!1)})),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eNavBar,this.palettes.length>1),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.radioCssClass(this.cardItems[this.activePaletteIndex],"ag-selected","ag-not-selected"))},e.prototype.addCardLink=function(t){var e=this,n=document.createElement("div");n.classList.add("ag-chart-settings-card-item"),this.addManagedListener(n,"click",(function(){e.setActivePalette(t,t<e.activePaletteIndex?"left":"right")})),this.eCardSelector.appendChild(n),this.cardItems.push(n)},e.prototype.getPrev=function(){var t=this.activePaletteIndex-1;return t<0&&(t=this.palettes.length-1),t},e.prototype.getNext=function(){var t=this.activePaletteIndex+1;return t>=this.palettes.length&&(t=0),t},e.prototype.setActivePalette=function(t,e){var n=this;if(!this.isAnimating&&this.activePaletteIndex!==t){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.radioCssClass(this.cardItems[t],"ag-selected","ag-not-selected");var i=this.miniChartsContainers[this.activePaletteIndex],o=i.getGui(),r=this.miniChartsContainers[t],s=r.getGui();i.updateSelectedMiniChart(),r.updateSelectedMiniChart();var a="left"===e?-1:1,l=s.style.left=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.getAbsoluteWidth(this.getGui())*a+"px";this.activePaletteIndex=t,this.isAnimating=!0;var c="ag-animating";r.setDisplayed(!0),i.addCssClass(c),r.addCssClass(c),this.chartController.setChartThemeName(this.themes[t]),window.setTimeout((function(){o.style.left=-parseFloat(l)+"px",s.style.left="0px"}),0),window.setTimeout((function(){n.isAnimating=!1,i.removeCssClass(c),r.removeCssClass(c),i.setDisplayed(!1)}),300)}},e.prototype.destroyMiniCharts=function(){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.clearElement(this.eMiniChartsContainer),this.miniChartsContainers=this.destroyBeans(this.miniChartsContainers)},e.prototype.destroy=function(){this.destroyMiniCharts(),t.prototype.destroy.call(this)},e.TEMPLATE='<div class="ag-chart-settings-wrapper">\n            <div ref="eMiniChartsContainer" class="ag-chart-settings-mini-charts-container ag-scrollable-container"></div>\n            <div ref="eNavBar" class="ag-chart-settings-nav-bar">\n                <div ref="ePrevBtn" class="ag-chart-settings-prev">\n                    <button type="button" class="ag-chart-settings-prev-button"></button>\n                </div>\n                <div ref="eCardSelector" class="ag-chart-settings-card-selector"></div>\n                <div ref="eNextBtn" class="ag-chart-settings-next">\n                    <button type="button" class="ag-chart-settings-next-button"></button>\n                </div>\n            </div>\n        </div>',__decorate$R([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("resizeObserverService")],e.prototype,"resizeObserverService",void 0),__decorate$R([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eMiniChartsContainer")],e.prototype,"eMiniChartsContainer",void 0),__decorate$R([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eNavBar")],e.prototype,"eNavBar",void 0),__decorate$R([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eCardSelector")],e.prototype,"eCardSelector",void 0),__decorate$R([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("ePrevBtn")],e.prototype,"ePrevBtn",void 0),__decorate$R([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eNextBtn")],e.prototype,"eNextBtn",void 0),__decorate$R([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$11=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$Q=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},TabbedChartMenu=function(t){function e(e){var n=t.call(this)||this;n.tabs=[];var i=e.controller,o=e.panels,r=e.chartOptionsService;return n.chartController=i,n.chartOptionsService=r,n.panels=o,n}return __extends$11(e,t),e.prototype.init=function(){var t=this;this.panels.forEach((function(e){var n=e.replace("chart","").toLowerCase(),i=t.createTab(e,n,t.getPanelClass(n)),o=i.comp,r=i.tab;t.tabs.push(r),t.addDestroyFunc((function(){return t.destroyBean(o)}))})),this.tabbedLayout=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.WD6({items:this.tabs,cssClass:"ag-chart-tabbed-menu",keepScrollPosition:!0}),this.getContext().createBean(this.tabbedLayout)},e.prototype.createTab=function(t,e,n){var i=document.createElement("div");i.classList.add("ag-chart-tab","ag-chart-"+e);var o=new n(this.chartController,this.chartOptionsService);this.getContext().createBean(o),i.appendChild(o.getGui());var r=document.createElement("div"),s=this.chartTranslationService.translate(e);return r.innerText=s,{comp:o,tab:{title:r,titleLabel:s,bodyPromise:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S.resolve(i),getScrollableContainer:function(){return i.querySelector(".ag-scrollable-container")||i},name:t}}},e.prototype.showTab=function(t){var e=this.tabs[t];this.tabbedLayout.showItem(e)},e.prototype.getGui=function(){return this.tabbedLayout&&this.tabbedLayout.getGui()},e.prototype.destroy=function(){this.parentComponent&&this.parentComponent.isAlive()&&this.destroyBean(this.parentComponent),t.prototype.destroy.call(this)},e.prototype.getPanelClass=function(t){switch(t){case e.TAB_DATA:return ChartDataPanel;case e.TAB_FORMAT:return FormatPanel;default:return ChartSettingsPanel}},e.TAB_DATA="data",e.TAB_FORMAT="format",__decorate$Q([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],e.prototype,"chartTranslationService",void 0),__decorate$Q([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$10=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$P=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},__read$f=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},__spread$8=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$f(arguments[e]));return t},ChartMenu=function(t){function e(n,i,o,r){var s=t.call(this,e.TEMPLATE)||this;return s.eChartContainer=n,s.eMenuPanelContainer=i,s.chartController=o,s.chartOptionsService=r,s.buttons={chartSettings:["menu",function(){return s.showMenu(s.defaultPanel)}],chartData:["menu",function(){return s.showMenu("chartData")}],chartFormat:["menu",function(){return s.showMenu("chartFormat")}],chartLink:["linked",function(t){return s.toggleDetached(t)}],chartUnlink:["unlinked",function(t){return s.toggleDetached(t)}],chartDownload:["save",function(){return s.saveChart()}]},s.panels=[],s.menuVisible=!1,s}return __extends$10(e,t),e.prototype.postConstruct=function(){var t=this;this.createButtons(),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_CHART_CREATED,(function(e){var n;e.chartId===t.chartController.getChartId()&&(Boolean(null===(n=t.gridOptionsService.get("chartToolPanelsDef"))||void 0===n?void 0:n.defaultToolPanel)&&t.showMenu(t.defaultPanel,!1))})),this.refreshMenuClasses(),!this.gridOptionsService.is("suppressChartToolPanelsButton")&&this.panels.length>0&&(this.getGui().classList.add("ag-chart-tool-panel-button-enable"),this.addManagedListener(this.eHideButton,"click",this.toggleMenu.bind(this)))},e.prototype.isVisible=function(){return this.menuVisible},e.prototype.getExtraPaddingDirections=function(){var t=this,e=[];return["chartLink","chartUnlink","chartDownload"].some((function(e){return t.chartToolbarOptions.includes(e)}))&&e.push("top"),["chartSettings","chartData","chartFormat"].some((function(e){return t.chartToolbarOptions.includes(e)}))&&e.push(this.gridOptionsService.is("enableRtl")?"left":"right"),e},e.prototype.getToolbarOptions=function(){var t,e,n,i=this;if(Boolean(this.gridOptionsService.get("chartToolPanelsDef"))){var o=[this.chartController.isChartLinked()?"chartLink":"chartUnlink","chartDownload"],r={defaultItems:o},s=(c=this.gridOptionsService.getCallback("getChartToolbarItems"))?c(r).filter((function(t){if(!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.WU2.includes(t)){var e=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sO1.includes(t)?"AG Grid: '"+t+"' is a Chart Tool Panel option and will be ignored since 'chartToolPanelsDef' is used. Please use 'chartToolPanelsDef.panels' grid option instead":"AG Grid: '"+t+"' is not a valid Chart Toolbar Option";return console.warn(e),!1}return!0})):o,a=null===(e=null===(t=this.gridOptionsService.get("chartToolPanelsDef"))||void 0===t?void 0:t.panels)||void 0===e?void 0:e.map((function(t){var e=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.d2Z[t];return e||console.warn("AG Grid - invalid panel in chartToolPanelsDef.panels: '"+t+"'"),e})).filter((function(t){return Boolean(t)}));this.panels=a||Object.values(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.d2Z),this.chartController.isPivotChart()&&(this.panels=this.panels.filter((function(t){return"chartData"!==t})));var l=null===(n=this.gridOptionsService.get("chartToolPanelsDef"))||void 0===n?void 0:n.defaultToolPanel;return this.defaultPanel=l&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.d2Z[l]||this.panels[0],this.panels.length>0?__spread$8([this.panels[0]],s):s}var c,u=["chartSettings","chartData","chartFormat",this.chartController.isChartLinked()?"chartLink":"chartUnlink","chartDownload"];if(c=this.gridOptionsService.getCallback("getChartToolbarItems")){var h=this.gridOptionsService.is("suppressChartToolPanelsButton");u=c(r={defaultItems:h?u:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.WU2}).filter((function(t){if(!i.buttons[t])return console.warn("AG Grid: '"+t+"' is not a valid Chart Toolbar Option"),!1;if(!h&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sO1.includes(t)){var e="AG Grid: '"+t+"' is a Chart Tool Panel option and will be ignored. Please use 'chartToolPanelsDef.panels' grid option instead";return console.warn(e),!1}return!0})),h||(u=u.concat(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sO1))}this.chartController.isPivotChart()&&(u=u.filter((function(t){return"chartData"!==t})));var d=["chartUnlink","chartLink","chartDownload"];return this.panels=u.filter((function(t){return-1===d.indexOf(t)})),this.defaultPanel=this.panels[0],u.filter((function(t){return-1!==d.indexOf(t)||i.panels.length&&t===i.panels[0]}))},e.prototype.toggleDetached=function(t){var e=t.target,n=e.classList.contains("ag-icon-linked");e.classList.toggle("ag-icon-linked",!n),e.classList.toggle("ag-icon-unlinked",n);var i=n?"chartUnlinkToolbarTooltip":"chartLinkToolbarTooltip",o=this.chartTranslationService.translate(i);o&&(e.title=o),this.chartController.detachChartRange()},e.prototype.createButtons=function(){var t=this;this.chartToolbarOptions=this.getToolbarOptions();var e=this.eMenu;this.chartToolbarOptions.forEach((function(n){var i=t.buttons[n],o=__read$f(i,2),r=o[0],s=o[1],a=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan(r,t.gridOptionsService,void 0,!0);a.classList.add("ag-chart-menu-icon");var l=t.chartTranslationService.translate(n+"ToolbarTooltip");l&&a instanceof HTMLElement&&(a.title=l),t.addManagedListener(a,"click",s),e.appendChild(a)}))},e.prototype.saveChart=function(){var t={type:e.EVENT_DOWNLOAD_CHART};this.dispatchEvent(t)},e.prototype.createMenuPanel=function(t){var e=this,n=this.environment.chartMenuPanelWidth(),i=this.menuPanel=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wSp({minWidth:n,width:n,height:"100%",closable:!0,hideTitleBar:!0,cssIdentifier:"chart-menu"}));return i.setParentComponent(this),this.eMenuPanelContainer.appendChild(i.getGui()),this.tabbedMenu=this.createBean(new TabbedChartMenu({controller:this.chartController,type:this.chartController.getChartType(),panels:this.panels,chartOptionsService:this.chartOptionsService})),this.addManagedListener(i,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2.EVENT_DESTROYED,(function(){return e.destroyBean(e.tabbedMenu)})),new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S((function(n){window.setTimeout((function(){i.setBodyComponent(e.tabbedMenu),e.tabbedMenu.showTab(t),n(i),e.addManagedListener(e.eChartContainer,"click",(function(t){e.getGui().contains(t.target)||e.menuVisible&&e.hideMenu()}))}),100)}))},e.prototype.showContainer=function(){this.menuPanel&&(this.menuVisible=!0,this.showParent(this.menuPanel.getWidth()),this.refreshMenuClasses())},e.prototype.toggleMenu=function(){this.menuVisible?this.hideMenu():this.showMenu()},e.prototype.showMenu=function(t,e){var n=this;if(void 0===e&&(e=!0),e||this.eMenuPanelContainer.classList.add("ag-no-transition"),this.menuPanel&&!t)this.showContainer();else{var i=t||this.defaultPanel,o=this.panels.indexOf(i);o<0&&(console.warn("AG Grid: '"+t+"' is not a valid Chart Tool Panel name"),o=this.panels.indexOf(this.defaultPanel)),this.menuPanel?(this.tabbedMenu.showTab(o),this.showContainer()):this.createMenuPanel(o).then(this.showContainer.bind(this))}e||setTimeout((function(){n.isAlive()&&n.eMenuPanelContainer.classList.remove("ag-no-transition")}),500)},e.prototype.hideMenu=function(){var t=this;this.hideParent(),window.setTimeout((function(){t.menuVisible=!1,t.refreshMenuClasses()}),500)},e.prototype.refreshMenuClasses=function(){this.eChartContainer.classList.toggle("ag-chart-menu-visible",this.menuVisible),this.eChartContainer.classList.toggle("ag-chart-menu-hidden",!this.menuVisible),this.gridOptionsService.is("suppressChartToolPanelsButton")||(this.eHideButtonIcon.classList.toggle("ag-icon-contracted",this.menuVisible),this.eHideButtonIcon.classList.toggle("ag-icon-expanded",!this.menuVisible))},e.prototype.showParent=function(t){this.eMenuPanelContainer.style.minWidth=t+"px"},e.prototype.hideParent=function(){this.eMenuPanelContainer.style.minWidth="0"},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.menuPanel&&this.menuPanel.isAlive()&&this.destroyBean(this.menuPanel),this.tabbedMenu&&this.tabbedMenu.isAlive()&&this.destroyBean(this.tabbedMenu)},e.EVENT_DOWNLOAD_CHART="downloadChart",e.TEMPLATE='<div>\n        <div class="ag-chart-menu" ref="eMenu"></div>\n        <button class="ag-chart-menu-close" ref="eHideButton">\n            <span class="ag-icon ag-icon-contracted" ref="eHideButtonIcon"></span>\n        </button>\n    </div>',__decorate$P([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],e.prototype,"chartTranslationService",void 0),__decorate$P([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eMenu")],e.prototype,"eMenu",void 0),__decorate$P([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eHideButton")],e.prototype,"eHideButton",void 0),__decorate$P([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eHideButtonIcon")],e.prototype,"eHideButtonIcon",void 0),__decorate$P([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$$=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__assign$i=function(){return __assign$i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},__assign$i.apply(this,arguments)},__decorate$O=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},__values$6=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},TitleEdit=function(t){function e(n){var i=t.call(this,e.TEMPLATE)||this;return i.chartMenu=n,i.destroyableChartListeners=[],i.editing=!1,i}return __extends$$(e,t),e.prototype.init=function(){var t=this;this.addManagedListener(this.getGui(),"keypress",(function(e){t.editing&&"Enter"===e.key&&!e.shiftKey&&(t.handleEndEditing(),e.preventDefault())})),this.addManagedListener(this.getGui(),"input",(function(){t.editing&&t.updateHeight()})),this.addManagedListener(this.getGui(),"blur",(function(){return t.endEditing()}))},e.prototype.refreshTitle=function(t,e){var n,i,o=this;this.chartController=t,this.chartOptionsService=e;try{for(var r=__values$6(this.destroyableChartListeners),s=r.next();!s.done;s=r.next()){(0,s.value)()}}catch(t){n={error:t}}finally{try{s&&!s.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}this.destroyableChartListeners=[];var a=this.chartController.getChartProxy().getChart(),l=a.scene.canvas.element,c=this.addManagedListener(l,"dblclick",(function(t){var e=a.title;if(e&&e.node.containsPoint(t.offsetX,t.offsetY)){var n=e.node.computeBBox(),i=e.node.inverseTransformPoint(n.x,n.y);o.startEditing(__assign$i(__assign$i({},n),i),l.width)}})),u=!1,h=this.addManagedListener(l,"mousemove",(function(t){var e=a.title,n=!!(e&&e.enabled&&e.node.containsPoint(t.offsetX,t.offsetY));u!==n&&(l.style.cursor=n?"pointer":""),u=n}));this.destroyableChartListeners=[c,h]},e.prototype.startEditing=function(t,e){if(!(this.chartMenu&&this.chartMenu.isVisible()||this.editing)){this.editing=!0;var n=Math.max(Math.min(t.width+20,e),300),i=this.getGui();i.classList.add("currently-editing");var o=i.style;o.fontFamily=this.chartOptionsService.getChartOption("title.fontFamily"),o.fontWeight=this.chartOptionsService.getChartOption("title.fontWeight"),o.fontStyle=this.chartOptionsService.getChartOption("title.fontStyle"),o.fontSize=this.chartOptionsService.getChartOption("title.fontSize")+"px",o.color=this.chartOptionsService.getChartOption("title.color");var r=this.chartOptionsService.getChartOption("title.text"),s=r===this.chartTranslationService.translate("titlePlaceholder");i.value=s?"":r;var a=r.split(/\r?\n/g).length;o.left=Math.round(t.x+t.width/2-n/2-1)+"px",o.top=Math.round(t.y+t.height/2-a*this.getLineHeight()/2-2)+"px",o.width=Math.round(n)+"px",o.lineHeight=this.getLineHeight()+"px",this.updateHeight(),i.focus()}},e.prototype.updateHeight=function(){var t=this.getGui(),e=this.chartOptionsService.getChartOption("title.text").split(/\r?\n/g).length,n=t.value.split(/\r?\n/g).length;t.style.height=Math.round(Math.max(e,n)*this.getLineHeight())+4+"px"},e.prototype.getLineHeight=function(){var t=this.chartOptionsService.getChartOption("title.lineHeight");return t?parseInt(t):Math.round(1.2*parseInt(this.chartOptionsService.getChartOption("title.fontSize")))},e.prototype.handleEndEditing=function(){var t=this,e=this.chartOptionsService.getChartOption("title.color");this.chartOptionsService.setChartOption("title.color","rgba(0, 0, 0, 0)"),this.chartOptionsService.awaitChartOptionUpdate((function(){return t.endEditing()})),this.chartOptionsService.awaitChartOptionUpdate((function(){t.chartOptionsService.setChartOption("title.color",e)}))},e.prototype.endEditing=function(){var t=this;if(this.editing){this.editing=!1;var e=this.getGui().value;e&&""!==e.trim()?(this.chartOptionsService.setChartOption("title.text",e),this.chartOptionsService.setChartOption("title.enabled",!0)):(this.chartOptionsService.setChartOption("title.text",""),this.chartOptionsService.setChartOption("title.enabled",!1)),this.getGui().classList.remove("currently-editing"),this.chartOptionsService.awaitChartOptionUpdate((function(){t.eventService.dispatchEvent({type:"chartTitleEdit"})}))}},e.TEMPLATE='<textarea\n             class="ag-chart-title-edit"\n             style="padding:0; border:none; border-radius: 0; min-height: 0; text-align: center; resize: none;" />\n        ',__decorate$O([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],e.prototype,"chartTranslationService",void 0),__decorate$O([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2);function deproxy(t){return null!=t.chart?t.chart:t}var __assign$h=function(){return __assign$h=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},__assign$h.apply(this,arguments)},ChartProxy=function(){function t(t){this.chartProxyParams=t,this.clearThemeOverrides=!1,this.chart=t.chartInstance,this.chartType=t.chartType,this.crossFiltering=t.crossFiltering,this.crossFilterCallback=t.crossFilterCallback,this.standaloneChartType=getSeriesType(this.chartType),null==this.chart?this.chart=AgChart.create(this.getCommonChartOptions()):this.clearThemeOverrides=!0}return t.prototype.getChart=function(){return deproxy(this.chart)},t.prototype.getChartRef=function(){return this.chart},t.prototype.downloadChart=function(t,e,n){var i=this.chart,o=deproxy(i),r=e||(o.title?o.title.text:"chart"),s=t||{},a=s.width,l=s.height;AgChart.download(i,{width:a,height:l,fileName:r,fileFormat:n})},t.prototype.getChartImageDataURL=function(t){return this.getChart().scene.getDataURL(t)},t.prototype.getChartOptions=function(){return this.chart.getOptions()},t.prototype.getChartThemeOverrides=function(){var t;return null!==(t=this.getChartOptions().theme.overrides)&&void 0!==t?t:{}},t.prototype.getChartPalette=function(){return getChartTheme(this.getChartOptions().theme).palette},t.prototype.setPaired=function(t){var e,n=getSeriesType(this.chartProxyParams.chartType);AgChart.updateDelta(this.chart,{theme:{overrides:(e={},e[n]={paired:t},e)}})},t.prototype.isPaired=function(){var t=getSeriesType(this.chartProxyParams.chartType);return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.get(this.getChartThemeOverrides(),t+".paired",!0)},t.prototype.lookupCustomChartTheme=function(t){return lookupCustomChartTheme(this.chartProxyParams,t)},t.prototype.transformData=function(t,e,n){return n?t.map((function(t,n){var i=t[e],o=i&&i.toString?i.toString():"",r=__assign$h({},t);return r[e]={id:n,value:i,toString:function(){return o}},r})):t},t.prototype.getCommonChartOptions=function(){var t,e,n=this.clearThemeOverrides?{}:null!==(e=null===(t=this.chart)||void 0===t?void 0:t.getOptions())&&void 0!==e?e:{},i=null!=this.chart?{overrides:this.getActiveFormattingPanelOverrides()}:{};return this.clearThemeOverrides=!1,__assign$h(__assign$h({},n),{theme:__assign$h(__assign$h({},createAgChartTheme(this.chartProxyParams,this)),i),container:this.chartProxyParams.parentElement,mode:"integrated"})},t.prototype.getActiveFormattingPanelOverrides=function(){var t,e;if(this.clearThemeOverrides)return{};var n=null===(t=this.chart)||void 0===t?void 0:t.getOptions().theme;return null!==(e=null==n?void 0:n.overrides)&&void 0!==e?e:{}},t.prototype.destroy=function(t){var e=(void 0===t?{}:t).keepChartInstance;if(void 0!==e&&e)return this.chart;this.destroyChart()},t.prototype.destroyChart=function(){this.chart&&(this.chart.destroy(),this.chart=void 0)},t}(),__extends$_=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__assign$g=function(){return __assign$g=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},__assign$g.apply(this,arguments)},CartesianChartProxy=function(t){function e(e){var n=t.call(this,e)||this;return n.crossFilteringAllPoints=new Set,n.crossFilteringSelectedPoints=[],n}return __extends$_(e,t),e.prototype.update=function(t){var e=this.getAxes(t),n=__assign$g(__assign$g({},this.getCommonChartOptions()),{data:this.getData(t,e),axes:e,series:this.getSeries(t)});AgChart.update(this.getChartRef(),n)},e.prototype.getData=function(t,e){var n,i=["area","line"].includes(this.standaloneChartType),o="bar"===this.standaloneChartType?"left":"bottom",r="category"===(null===(n=e.find((function(t){return t.position===o})))||void 0===n?void 0:n.type);return this.crossFiltering&&i?this.getCrossFilterData(t):this.getDataTransformedData(t,r)},e.prototype.getDataTransformedData=function(t,e){return this.transformData(t.data,t.category.id,e)},e.prototype.getXAxisType=function(t){return t.grouping?"groupedCategory":e.isTimeAxis(t)?"time":"category"},e.isTimeAxis=function(t){if(t.category&&t.category.chartDataType)return"time"===t.category.chartDataType;var e=t.data[0];return(e&&e[t.category.id])instanceof Date},e.prototype.crossFilteringReset=function(){this.crossFilteringSelectedPoints=[],this.crossFilteringAllPoints.clear()},e.prototype.crossFilteringPointSelected=function(t){return 0==this.crossFilteringSelectedPoints.length||this.crossFilteringSelectedPoints.includes(t)},e.prototype.crossFilteringDeselectedPoints=function(){return this.crossFilteringSelectedPoints.length>0&&this.crossFilteringAllPoints.size!==this.crossFilteringSelectedPoints.length},e.prototype.extractLineAreaCrossFilterSeries=function(t,e){var n=this;return t.map((function(t){var i;return t.yKey=(i=t.yKey,"area"===n.standaloneChartType?e.getCrossFilteringContext().lastSelectedChartId===e.chartId?i+"-total":i:i+"-total"),t.listeners={nodeClick:function(e){var i=e.datum[t.xKey],o=e.event.metaKey||e.event.ctrlKey;n.crossFilteringAddSelectedPoint(o,i),n.crossFilterCallback(e)}},t.marker={formatter:function(t){var i=t.datum[e.category.id];return{fill:t.highlighted?"yellow":t.fill,size:t.highlighted?14:n.crossFilteringPointSelected(i)?8:0}}},"area"===n.standaloneChartType&&(t.fillOpacity=n.crossFilteringDeselectedPoints()?.3:1),"line"===n.standaloneChartType&&(t.strokeOpacity=n.crossFilteringDeselectedPoints()?.3:1),t}))},e.prototype.getCrossFilterData=function(t){var e=this;this.crossFilteringAllPoints.clear();var n=t.fields[0].colId,i=n+"-filtered-out",o=t.getCrossFilteringContext().lastSelectedChartId;return t.data.map((function(r){var s=r[t.category.id];e.crossFilteringAllPoints.add(s);var a=e.crossFilteringPointSelected(s);return"area"===e.standaloneChartType&&o===t.chartId&&(r[n+"-total"]=a?r[n]:r[n]+r[i]),"line"===e.standaloneChartType&&(r[n+"-total"]=a?r[n]:r[n]+r[i]),r}))},e.prototype.crossFilteringAddSelectedPoint=function(t,e){t?this.crossFilteringSelectedPoints.push(e):this.crossFilteringSelectedPoints=[e]},e}(ChartProxy);function emptyTarget(t){return Array.isArray(t)?[]:{}}function cloneUnlessOtherwiseSpecified(t,e){return!1!==e.clone&&e.isMergeableObject(t)?deepMerge(emptyTarget(t),t,e):t}function defaultArrayMerge(t,e,n){return t.concat(e).map((function(t){return cloneUnlessOtherwiseSpecified(t,n)}))}function getMergeFunction(t,e){if(!e.customMerge)return deepMerge;var n=e.customMerge(t);return"function"==typeof n?n:deepMerge}function getEnumerableOwnPropertySymbols(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter((function(e){return t.propertyIsEnumerable(e)})):[]}function getKeys(t){return Object.keys(t).concat(getEnumerableOwnPropertySymbols(t))}function propertyIsOnObject(t,e){try{return e in t}catch(t){return!1}}function propertyIsUnsafe(t,e){return propertyIsOnObject(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))}function mergeObject(t,e,n){void 0===t&&(t={}),void 0===e&&(e={});var i={};return n.isMergeableObject(t)&&getKeys(t).forEach((function(e){i[e]=cloneUnlessOtherwiseSpecified(t[e],n)})),getKeys(e).forEach((function(o){propertyIsUnsafe(t,o)||(propertyIsOnObject(t,o)&&n.isMergeableObject(e[o])?i[o]=getMergeFunction(o,n)(t[o],e[o],n):i[o]=cloneUnlessOtherwiseSpecified(e[o],n))})),i}function defaultIsMergeableObject(t){return isNonNullObject(t)&&!isSpecial(t)}function isNonNullObject(t){return!!t&&"object"==typeof t}function isSpecial(t){var e=Object.prototype.toString.call(t);return"[object RegExp]"===e||"[object Date]"===e}function deepMerge(t,e,n){(n=n||{}).arrayMerge=n.arrayMerge||defaultArrayMerge,n.isMergeableObject=n.isMergeableObject||defaultIsMergeableObject,n.cloneUnlessOtherwiseSpecified=cloneUnlessOtherwiseSpecified;var i=Array.isArray(e);return i===Array.isArray(t)?i?n.arrayMerge(t,e,n):mergeObject(t,e,n):cloneUnlessOtherwiseSpecified(e,n)}function hexToRGBA(t,e){var n=parseInt(t.slice(1,3),16),i=parseInt(t.slice(3,5),16),o=parseInt(t.slice(5,7),16);return e?"rgba("+n+", "+i+", "+o+", "+e+")":"rgba("+n+", "+i+", "+o+")"}function changeOpacity(t,e){return t.map((function(t){var n=Color.fromString(t);return new Color(n.r,n.g,n.b,e).toHexString()}))}var __extends$Z=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__assign$f=function(){return __assign$f=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},__assign$f.apply(this,arguments)},BarChartProxy=function(t){function e(e){return t.call(this,e)||this}return __extends$Z(e,t),e.prototype.getAxes=function(t){var e="bar"===this.standaloneChartType,n=[{type:this.getXAxisType(t),position:e?"left":"bottom"},{type:"number",position:e?"bottom":"left"}];if(this.isNormalised()){var i=n[1];i.label=__assign$f(__assign$f({},i.label),{formatter:function(t){return Math.round(t.value)+"%"}})}return n},e.prototype.getSeries=function(t){var e=this,n=!this.crossFiltering&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(["groupedColumn","groupedBar"],this.chartType),i=t.fields.map((function(i){return{type:e.standaloneChartType,grouped:n,normalizedTo:e.isNormalised()?100:void 0,xKey:t.category.id,xName:t.category.name,yKey:i.colId,yName:i.displayName}}));return this.crossFiltering?this.extractCrossFilterSeries(i):i},e.prototype.extractCrossFilterSeries=function(t){for(var e,n,i=this,o=this.getChartPalette(),r=function(t){var e=t.yKey+"-filtered-out";return __assign$f(__assign$f({},deepMerge({},t)),{yKey:e,fill:hexToRGBA(t.fill,"0.3"),stroke:hexToRGBA(t.stroke,"0.3"),hideInLegend:[e]})},s=[],a=0;a<t.length;a++){var l=(e=t[a],n=a,__assign$f(__assign$f({},e),{highlightStyle:{item:{fill:void 0}},fill:null==o?void 0:o.fills[n],stroke:null==o?void 0:o.strokes[n],listeners:{nodeClick:i.crossFilterCallback}}));s.push(l),s.push(r(l))}return s},e.prototype.isNormalised=function(){return!this.crossFiltering&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(["normalizedColumn","normalizedBar"],this.chartType)},e}(CartesianChartProxy),__extends$Y=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__assign$e=function(){return __assign$e=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},__assign$e.apply(this,arguments)},AreaChartProxy=function(t){function e(e){return t.call(this,e)||this}return __extends$Y(e,t),e.prototype.getAxes=function(t){var e=[{type:this.getXAxisType(t),position:"bottom"},{type:"number",position:"left"}];if(this.isNormalised()){var n=e[1];n.label=__assign$e(__assign$e({},n.label),{formatter:function(t){return Math.round(t.value)+"%"}})}return e},e.prototype.getSeries=function(t){var e=this,n=t.fields.map((function(n){return{type:e.standaloneChartType,xKey:t.category.id,xName:t.category.name,yKey:n.colId,yName:n.displayName,normalizedTo:"normalizedArea"===e.chartType?100:void 0,stacked:["normalizedArea","stackedArea"].includes(e.chartType)}}));return this.crossFiltering?this.extractLineAreaCrossFilterSeries(n,t):n},e.prototype.isNormalised=function(){return!this.crossFiltering&&"normalizedArea"===this.chartType},e}(CartesianChartProxy),__extends$X=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),LineChartProxy=function(t){function e(e){return t.call(this,e)||this}return __extends$X(e,t),e.prototype.getAxes=function(t){return[{type:this.getXAxisType(t),position:"bottom"},{type:"number",position:"left"}]},e.prototype.getSeries=function(t){var e=this,n=t.fields.map((function(n){return{type:e.standaloneChartType,xKey:t.category.id,xName:t.category.name,yKey:n.colId,yName:n.displayName}}));return this.crossFiltering?this.extractLineAreaCrossFilterSeries(n,t):n},e}(CartesianChartProxy),__extends$W=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__assign$d=function(){return __assign$d=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},__assign$d.apply(this,arguments)},PieChartProxy=function(t){function e(e){return t.call(this,e)||this}return __extends$W(e,t),e.prototype.update=function(t){var e=t.data,n=t.category,i=__assign$d(__assign$d({},this.getCommonChartOptions()),{data:this.crossFiltering?this.getCrossFilterData(t):this.transformData(e,n.id),series:this.getSeries(t)});AgChart.update(this.getChartRef(),i)},e.prototype.getSeries=function(t){var n=this,i=t.fields.length,o={currentOffset:0,offsetAmount:i>1?20:40},r=this.getFields(t).map((function(r){var s,a={type:n.standaloneChartType,angleKey:r.colId,angleName:r.displayName,sectorLabelKey:r.colId,calloutLabelKey:t.category.id,calloutLabelName:t.category.name};if("doughnut"===n.chartType){var l=e.calculateOffsets(o),c=l.outerRadiusOffset,u=l.innerRadiusOffset,h=r.displayName?{title:{text:r.displayName,showInLegend:i>1}}:void 0;return __assign$d(__assign$d(__assign$d(__assign$d({},a),{outerRadiusOffset:c,innerRadiusOffset:u}),h),{calloutLine:{colors:null===(s=n.getChartPalette())||void 0===s?void 0:s.strokes}})}return a}));return this.crossFiltering?this.extractCrossFilterSeries(r):r},e.prototype.getCrossFilterData=function(t){var e=t.fields[0].colId,n=e+"-filtered-out";return t.data.map((function(t){var i=t[e]+t[n];return t[e+"-total"]=i,t[n]=1,t[e]=t[e]/i,t}))},e.prototype.extractCrossFilterSeries=function(t){var e,n=this,i=this.getChartPalette(),o=t[0],r=o.angleKey,s=__assign$d(__assign$d({},e=o),{calloutLabel:{enabled:!1},highlightStyle:{item:{fill:void 0}},radiusKey:e.angleKey,angleKey:e.angleKey+"-total",radiusMin:0,radiusMax:1,listeners:{nodeClick:n.crossFilterCallback}});return[function(t,e){var n,o;return __assign$d(__assign$d({},deepMerge({},s)),{radiusKey:e+"-filtered-out",fills:changeOpacity(null!==(n=t.fills)&&void 0!==n?n:i.fills,.3),strokes:changeOpacity(null!==(o=t.strokes)&&void 0!==o?o:i.strokes,.3),showInLegend:!1})}(o,r),s]},e.calculateOffsets=function(t){var e=t.currentOffset;t.currentOffset-=t.offsetAmount;var n=t.currentOffset;return t.currentOffset-=t.offsetAmount,{outerRadiusOffset:e,innerRadiusOffset:n}},e.prototype.getFields=function(t){return"pie"===this.chartType?t.fields.slice(0,1):t.fields},e.prototype.crossFilteringReset=function(){},e}(ChartProxy),__extends$V=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__assign$c=function(){return __assign$c=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},__assign$c.apply(this,arguments)},__values$5=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},__read$e=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},__spread$7=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$e(arguments[e]));return t},ScatterChartProxy=function(t){function e(e){return t.call(this,e)||this}return __extends$V(e,t),e.prototype.getAxes=function(t){return[{type:"number",position:"bottom"},{type:"number",position:"left"}]},e.prototype.getSeries=function(t){var e=this,n=this.isPaired(),i=this.getSeriesDefinitions(t.fields,n),o=t.category.id===ChartDataModel.DEFAULT_CATEGORY?void 0:t.category,r=i.map((function(t){return{type:e.standaloneChartType,xKey:t.xField.colId,xName:t.xField.displayName,yKey:t.yField.colId,yName:t.yField.displayName,title:t.yField.displayName+" vs "+t.xField.displayName,sizeKey:t.sizeField?t.sizeField.colId:void 0,sizeName:t.sizeField?t.sizeField.displayName:void 0,labelKey:o?o.id:t.yField.colId,labelName:o?o.name:void 0}}));return this.crossFiltering?this.extractCrossFilterSeries(r,t):r},e.prototype.extractCrossFilterSeries=function(t,e){var n=this,i=e.data,o=this.getChartPalette(),r=function(t){return t+"-filtered-out"},s=t.map((function(t,e){var s=t.sizeKey,a=null==o?void 0:o.fills[e],l=null==o?void 0:o.strokes[e],c=function(t,e){var n,i,o,s=[1/0,-1/0];if(null!=e)try{for(var a=__values$5(t),l=a.next();!l.done;l=a.next()){var c=l.value,u=null!==(o=c[e])&&void 0!==o?o:c[r(e)];u<s[0]&&(s[0]=u),u>s[1]&&(s[1]=u)}}catch(t){n={error:t}}finally{try{l&&!l.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}if(s[0]<=s[1])return s}(i,s),u=__assign$c(__assign$c({},t.marker),{fill:a,stroke:l,domain:c});return __assign$c(__assign$c({},t),{marker:u,highlightStyle:{item:{fill:"yellow"}},listeners:__assign$c(__assign$c({},t.listeners),{nodeClick:n.crossFilterCallback})})}));return __spread$7(s,s.map((function(t){var e=t.sizeKey,i=t.yKey,o=t.xKey;return null!=e&&(e=r(e)),__assign$c(__assign$c({},t),{yKey:r(i),xKey:r(o),marker:__assign$c(__assign$c({},t.marker),{fillOpacity:.3,strokeOpacity:.3}),sizeKey:e,showInLegend:!1,listeners:__assign$c(__assign$c({},t.listeners),{nodeClick:function(t){var e,i=t.datum[r(o)],s=__assign$c(__assign$c({},t),{xKey:o,datum:__assign$c(__assign$c({},t.datum),(e={},e[o]=i,e))});n.crossFilterCallback(s)}})})})))},e.prototype.getSeriesDefinitions=function(t,e){if(t.length<2)return[];var n="bubble"===this.chartType;if(e)return n?t.map((function(e,n){return n%3==0?{xField:e,yField:t[n+1],sizeField:t[n+2]}:null})).filter((function(t){return t&&t.yField&&t.sizeField})):t.map((function(e,n){return n%2==0?{xField:e,yField:t[n+1]}:null})).filter((function(t){return t&&t.yField}));var i=t[0];return n?t.map((function(e,n){return n%2==1?{xField:i,yField:e,sizeField:t[n+1]}:null})).filter((function(t){return t&&t.sizeField})):t.filter((function(t,e){return e>0})).map((function(t){return{xField:i,yField:t}}))},e}(CartesianChartProxy),__extends$U=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),HistogramChartProxy=function(t){function e(e){return t.call(this,e)||this}return __extends$U(e,t),e.prototype.getSeries=function(t){var e=t.fields[0];return[{type:this.standaloneChartType,xKey:e.colId,xName:e.displayName,yName:this.chartProxyParams.translate("histogramFrequency"),areaPlot:!1}]},e.prototype.getAxes=function(t){return[{type:"number",position:"bottom"},{type:"number",position:"left"}]},e}(CartesianChartProxy),__extends$T=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ChartOptionsService=function(t){function e(e){var n=t.call(this)||this;return n.chartController=e,n}return __extends$T(e,t),e.prototype.getChartOption=function(t){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.get(this.getChart(),t,void 0)},e.prototype.setChartOption=function(t,e,n){var i=this,o=this.chartController.getChartSeriesTypes();this.chartController.isComboChart()&&o.push("cartesian");var r={};o.forEach((function(n){r=deepMerge(r,i.createChartOptions({seriesType:n,expression:t,value:e}))})),this.updateChart(r),n||this.raiseChartOptionsChangedEvent()},e.prototype.awaitChartOptionUpdate=function(t){this.chartController.getChartProxy().getChart().waitForUpdate().then((function(){return t()}))},e.prototype.getAxisProperty=function(t){var e;return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.get(null===(e=this.getChart().axes)||void 0===e?void 0:e[0],t,void 0)},e.prototype.setAxisProperty=function(t,e){var n,i=this,o=this.getChart(),r={};null===(n=o.axes)||void 0===n||n.forEach((function(n){r=deepMerge(r,i.getUpdateAxisOptions(n,t,e))})),this.updateChart(r),this.raiseChartOptionsChangedEvent()},e.prototype.getLabelRotation=function(t){var e=this.getAxis(t);return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.get(e,"label.rotation",void 0)},e.prototype.setLabelRotation=function(t,e){var n=this.getAxis(t);if(n){var i=this.getUpdateAxisOptions(n,"label.rotation",e);this.updateChart(i),this.raiseChartOptionsChangedEvent()}},e.prototype.getSeriesOption=function(t,n){var i=this.getChart().series.find((function(t){return e.isMatchingSeries(n,t)}));return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.get(i,t,void 0)},e.prototype.setSeriesOption=function(t,e,n){var i=this.createChartOptions({seriesType:n,expression:"series."+t,value:e});this.updateChart(i),this.raiseChartOptionsChangedEvent()},e.prototype.getPairedMode=function(){return this.chartController.getChartProxy().isPaired()},e.prototype.setPairedMode=function(t){this.chartController.getChartProxy().setPaired(t)},e.prototype.getAxis=function(t){var e=this.getChart();if(e.axes&&!(e.axes.length<1))return"xAxis"===t?e.axes&&"x"===e.axes[0].direction?e.axes[0]:e.axes[1]:e.axes&&"y"===e.axes[1].direction?e.axes[1]:e.axes[0]},e.prototype.getUpdateAxisOptions=function(t,e,n){var i=getSeriesType(this.getChartType());return["number","category","time","groupedCategory"].includes(t.type)?this.createChartOptions({seriesType:i,expression:"axes."+t.type+"."+e,value:n}):{}},e.prototype.getChartType=function(){return this.chartController.getChartType()},e.prototype.getChart=function(){return this.chartController.getChartProxy().getChart()},e.prototype.updateChart=function(t){var e=this.chartController.getChartProxy().getChartRef();AgChart.updateDelta(e,t)},e.prototype.createChartOptions=function(t){var e=t.seriesType,n=t.expression,i=t.value,o={},r={theme:{overrides:o}};return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.set(o,e+"."+n,i),r},e.prototype.raiseChartOptionsChangedEvent=function(){var t=this.chartController.getChartModel(),e={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_CHART_OPTIONS_CHANGED,chartId:t.chartId,chartType:t.chartType,chartThemeName:this.chartController.getChartThemeName(),chartOptions:t.chartOptions};this.eventService.dispatchEvent(e)},e.isMatchingSeries=function(t,e){var n;return VALID_SERIES_TYPES.includes(t)&&e.type===("column"===(n=t)?"bar":n)},e.prototype.destroy=function(){t.prototype.destroy.call(this)},e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$S=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ComboChartProxy=function(t){function e(e){return t.call(this,e)||this}return __extends$S(e,t),e.prototype.getAxes=function(t){var e=t?t.fields:[],n=new Map(e.map((function(t){return[t.colId,t]}))),i=this.getYKeys(e,t.seriesChartTypes),o=i.primaryYKeys,r=i.secondaryYKeys,s=[{type:this.getXAxisType(t),position:"bottom",gridStyle:[{stroke:void 0}]}];return o.length>0&&s.push({type:"number",keys:o,position:"left",title:{text:o.map((function(t){var e=n.get(t);return e?e.displayName:t})).join(" / ")}}),r.length>0&&r.forEach((function(t,e){var i=n.get(t);if(i&&i.colId===t){var a={type:"number",keys:[t],position:"right",title:{text:i?i.displayName:t}},l=o.some((function(t){return!!n.get(t)})),c=e===r.length-1;!l&&c||(a.gridStyle=[{stroke:void 0}]),s.push(a)}})),s},e.prototype.getSeries=function(t){var e=t.fields,n=t.category,i=t.seriesChartTypes;return e.map((function(t){var e=i.find((function(e){return e.colId===t.colId}));if(e){var o=e.chartType;return{type:getSeriesType(o),xKey:n.id,yKey:t.colId,yName:t.displayName,grouped:["groupedColumn","groupedBar","groupedArea"].includes(o),stacked:["stackedArea","stackedColumn"].includes(o)}}}))},e.prototype.getYKeys=function(t,e){var n=[],i=[];return t.forEach((function(t){var o=t.colId,r=e.find((function(t){return t.colId===o}));r&&(r.secondaryAxis?i.push(o):n.push(o))})),{primaryYKeys:n,secondaryYKeys:i}},e}(CartesianChartProxy),__extends$R=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$N=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},GridChartComp=function(t){function e(n){var i=t.call(this,e.TEMPLATE)||this;return i.params=n,i}return __extends$R(e,t),e.prototype.init=function(){var t=this,e=this.gridOptionsService.get("chartThemes")||DEFAULT_THEMES;if(e.length<1)throw new Error("Cannot create chart: no chart themes are available to be used.");var n=this.params.chartThemeName;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(e,n)||(n=e[0]);var i={chartId:this.params.chartId,pivotChart:this.params.pivotChart,chartType:this.params.chartType,chartThemeName:n,aggFunc:this.params.aggFunc,cellRange:this.params.cellRange,suppressChartRanges:this.params.suppressChartRanges,unlinkChart:this.params.unlinkChart,crossFiltering:this.params.crossFiltering,seriesChartTypes:this.params.seriesChartTypes},o=this.gridOptionsService.is("enableRtl");this.addCssClass(o?"ag-rtl":"ag-ltr");var r=this.createBean(new ChartDataModel(i));this.chartController=this.createManagedBean(new ChartController(r)),this.validateCustomThemes(),this.createChart(),this.params.insideDialog&&this.addDialog(),this.addMenu(),this.addTitleEditComp(),this.addManagedListener(this.getGui(),"focusin",this.setActiveChartCellRange.bind(this)),this.addManagedListener(this.chartController,ChartController.EVENT_CHART_MODEL_UPDATE,this.update.bind(this)),this.chartMenu&&this.addManagedListener(this.chartMenu,ChartMenu.EVENT_DOWNLOAD_CHART,(function(){return t.downloadChart()})),this.update(),this.raiseChartCreatedEvent()},e.prototype.validateCustomThemes=function(){var t=this.getChartThemes(),e=this.gridOptionsService.get("customChartThemes");e&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.getAllKeysInObjects([e]).forEach((function(e){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(t,e)||console.warn("AG Grid: a custom chart theme with the name '"+e+"' has been supplied but not added to the 'chartThemes' list")}))},e.prototype.createChart=function(){var t=this,n=void 0;this.chartProxy&&(n=this.chartProxy.destroy({keepChartInstance:!0}));var i=this.chartController.getChartType(),o={chartType:i,chartInstance:n,getChartThemeName:this.getChartThemeName.bind(this),getChartThemes:this.getChartThemes.bind(this),customChartThemes:this.gridOptionsService.get("customChartThemes"),getGridOptionsChartThemeOverrides:function(){return t.getGridOptionsChartThemeOverrides()},getExtraPaddingDirections:function(){var e,n;return null!==(n=null===(e=t.chartMenu)||void 0===e?void 0:e.getExtraPaddingDirections())&&void 0!==n?n:[]},apiChartThemeOverrides:this.params.chartThemeOverrides,crossFiltering:this.params.crossFiltering,crossFilterCallback:function(e,n){t.params.crossFilteringContext.lastSelectedChartId=n?"":t.chartController.getChartId(),n&&t.params.crossFilteringResetCallback(),t.crossFilterService.filter(e,n)},parentElement:this.eChart,grouping:this.chartController.isGrouping(),chartThemeToRestore:this.params.chartThemeName,chartOptionsToRestore:this.params.chartOptionsToRestore,chartPaletteToRestore:this.params.chartPaletteToRestore,seriesChartTypes:this.chartController.getSeriesChartTypes(),translate:function(e,n){return t.chartTranslationService.translate(e,n)}};if(this.params.chartOptionsToRestore=void 0,this.chartType=i,this.chartThemeName=this.chartController.getChartThemeName(),this.chartProxy=e.createChartProxy(o),this.chartProxy){var r=this.eChart.querySelector("canvas");r&&r.classList.add("ag-charts-canvas"),this.chartController.setChartProxy(this.chartProxy),this.chartOptionsService=this.createBean(new ChartOptionsService(this.chartController)),this.titleEdit&&this.titleEdit.refreshTitle(this.chartController,this.chartOptionsService)}else console.warn("AG Grid: invalid chart type supplied: ",o.chartType)},e.prototype.getChartThemeName=function(){return this.chartController.getChartThemeName()},e.prototype.getChartThemes=function(){return this.chartController.getThemes()},e.prototype.getGridOptionsChartThemeOverrides=function(){return this.gridOptionsService.get("chartThemeOverrides")},e.createChartProxy=function(t){switch(t.chartType){case"column":case"bar":case"groupedColumn":case"stackedColumn":case"normalizedColumn":case"groupedBar":case"stackedBar":case"normalizedBar":return new BarChartProxy(t);case"pie":case"doughnut":return new PieChartProxy(t);case"area":case"stackedArea":case"normalizedArea":return new AreaChartProxy(t);case"line":return new LineChartProxy(t);case"scatter":case"bubble":return new ScatterChartProxy(t);case"histogram":return new HistogramChartProxy(t);case"columnLineCombo":case"areaColumnCombo":case"customCombo":return new ComboChartProxy(t);default:throw"AG Grid: Unable to create chart as an invalid chartType = '"+t.chartType+"' was supplied."}},e.prototype.addDialog=function(){var t=this,e=this.chartTranslationService.translate(this.params.pivotChart?"pivotChartTitle":"rangeChartTitle"),n=this.getBestDialogSize(),i=n.width,o=n.height;this.chartDialog=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.$zI({resizable:!0,movable:!0,maximizable:!0,title:e,width:i,height:o,component:this,centered:!0,closable:!0}),this.getContext().createBean(this.chartDialog),this.chartDialog.addEventListener(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.$zI.EVENT_DESTROYED,(function(){return t.destroy()}))},e.prototype.getBestDialogSize=function(){var t=this.popupService.getPopupParent(),e=.75*ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.getAbsoluteWidth(t),n=.75*ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.getAbsoluteHeight(t),i=this.chartProxy.getChart(),o=this.params.insideDialog?850:i.width,r=this.params.insideDialog?470:i.height;return(o>e||r>n)&&(o=Math.min(o,e),(r=Math.round(.553*o))>n&&(r=n,o=Math.min(o,Math.round(r/.553)))),{width:o,height:r}},e.prototype.addMenu=function(){this.params.crossFiltering||(this.chartMenu=this.createBean(new ChartMenu(this.eChartContainer,this.eMenuContainer,this.chartController,this.chartOptionsService)),this.eChartContainer.appendChild(this.chartMenu.getGui()))},e.prototype.addTitleEditComp=function(){this.titleEdit=this.createBean(new TitleEdit(this.chartMenu)),this.eTitleEditContainer.appendChild(this.titleEdit.getGui()),this.chartProxy&&this.titleEdit.refreshTitle(this.chartController,this.chartOptionsService)},e.prototype.update=function(){this.shouldRecreateChart()&&this.createChart(),this.updateChart()},e.prototype.shouldRecreateChart=function(){return this.chartType!==this.chartController.getChartType()||this.chartThemeName!==this.chartController.getChartThemeName()},e.prototype.getCurrentChartType=function(){return this.chartType},e.prototype.getChartModel=function(){return this.chartController.getChartModel()},e.prototype.getChartImageDataURL=function(t){return this.chartProxy.getChartImageDataURL(t)},e.prototype.updateChart=function(){var t=this,e=this.chartProxy,n=this.chartController.getSelectedValueColState().map((function(t){return{colId:t.colId,displayName:t.displayName}})),i=this.chartController.getChartData();if(!this.handleEmptyChart(i,n)){var o=this.chartController.getChartUpdateParams();e.update(o),this.chartProxy.getChart().waitForUpdate().then((function(){t.chartController.raiseChartUpdatedEvent()})),this.titleEdit.refreshTitle(this.chartController,this.chartOptionsService)}},e.prototype.handleEmptyChart=function(t,e){var n=this.chartController.isPivotChart()&&!this.chartController.isPivotMode(),i=1;this.chartController.isActiveXYChart()&&(i="bubble"===this.chartController.getChartType()?3:2);var o=e.length<i||0===t.length;if(this.eChart){var r=n||o;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eChart,!r),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eEmpty,r)}return n?(this.eEmpty.innerText=this.chartTranslationService.translate("pivotChartRequiresPivotMode"),!0):!!o&&(this.eEmpty.innerText=this.chartTranslationService.translate("noDataToChart"),!0)},e.prototype.downloadChart=function(t,e,n){this.chartProxy.downloadChart(t,e,n)},e.prototype.openChartToolPanel=function(t){var e=t?ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.d2Z[t]:t;this.chartMenu.showMenu(e)},e.prototype.closeChartToolPanel=function(){this.chartMenu.hideMenu()},e.prototype.getChartId=function(){return this.chartController.getChartId()},e.prototype.getUnderlyingChart=function(){return this.chartProxy.getChartRef()},e.prototype.crossFilteringReset=function(){this.chartProxy.crossFilteringReset()},e.prototype.setActiveChartCellRange=function(t){this.getGui().contains(t.relatedTarget)||(this.chartController.setChartRange(!0),this.gridApi.focusService.clearFocusedCell())},e.prototype.raiseChartCreatedEvent=function(){var t=this,e={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_CHART_CREATED,chartId:this.chartController.getChartId()};this.chartProxy.getChart().waitForUpdate().then((function(){t.eventService.dispatchEvent(e)}))},e.prototype.raiseChartDestroyedEvent=function(){var t={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_CHART_DESTROYED,chartId:this.chartController.getChartId()};this.eventService.dispatchEvent(t)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.chartProxy&&this.chartProxy.destroy(),this.destroyBean(this.chartMenu),this.destroyBean(this.titleEdit),this.chartDialog&&this.chartDialog.isAlive()&&this.destroyBean(this.chartDialog);var e=this.getGui();ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.clearElement(e),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromParent(e),this.raiseChartDestroyedEvent()},e.TEMPLATE='<div class="ag-chart" tabindex="-1">\n            <div ref="eChartContainer" tabindex="-1" class="ag-chart-components-wrapper">\n                <div ref="eChart" class="ag-chart-canvas-wrapper"></div>\n                <div ref="eEmpty" class="ag-chart-empty-text ag-unselectable"></div>\n            </div>\n            <div ref="eTitleEditContainer"></div>\n            <div ref="eMenuContainer" class="ag-chart-docked-container"></div>\n        </div>',__decorate$N([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eChart")],e.prototype,"eChart",void 0),__decorate$N([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eChartContainer")],e.prototype,"eChartContainer",void 0),__decorate$N([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eMenuContainer")],e.prototype,"eMenuContainer",void 0),__decorate$N([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eEmpty")],e.prototype,"eEmpty",void 0),__decorate$N([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eTitleEditContainer")],e.prototype,"eTitleEditContainer",void 0),__decorate$N([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartCrossFilterService")],e.prototype,"crossFilterService",void 0),__decorate$N([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartTranslationService")],e.prototype,"chartTranslationService",void 0),__decorate$N([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],e.prototype,"gridApi",void 0),__decorate$N([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("popupService")],e.prototype,"popupService",void 0),__decorate$N([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),VERSION$a="29.3.4",__assign$b=function(){return __assign$b=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},__assign$b.apply(this,arguments)},__rest=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(n[i[o]]=t[i[o]])}return n},__read$d=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},__values$4=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function upgradeChartModel(t){return t.version,null==t.version&&(t.version=heuristicVersionDetection(t)),t=migrateIfBefore("23.0.0",t,migrateV23),t=migrateIfBefore("24.0.0",t,migrateV24),t=migrateIfBefore("25.1.0",t,migrateV25_1),t=migrateIfBefore("26.0.0",t,migrateV26),t=migrateIfBefore("26.1.0",t,migrateV26_1),t=migrateIfBefore("26.2.0",t,migrateV26_2),t=migrateIfBefore("28.0.0",t,migrateV28),t=migrateIfBefore("28.2.0",t,migrateV28_2),t=cleanup(t=migrateIfBefore("29.0.0",t,migrateV29)),t=migrateIfBefore(VERSION$a,t,(function(t){return t}))}function migrateV23(t){return t=jsonRename("chartOptions.legend.item.marker.type","shape",t),t=jsonRename("chartOptions.seriesDefaults.marker.type","shape",t),t=jsonRename("chartOptions.legend.padding","spacing",t)}function migrateV24(t){var e,n=t=jsonDelete("chartOptions.seriesDefaults.marker.minSize",t),i=n.chartType,o=n.chartPalette,r=n.chartOptions,s=r.xAxis,a=r.yAxis,l=__rest(r,["xAxis","yAxis"]),c=__rest(n,["chartType","chartPalette","chartOptions"]),u=getLegacyAxisType(i),h=null==u?void 0:u.map((function(t,e){return __assign$b({type:t},0===e?s:a)}));return __assign$b({chartType:i,chartThemeName:null!==(e=LEGACY_PALETTES[o])&&void 0!==e?e:"ag-default",chartOptions:__assign$b(__assign$b({},l),{axes:h,xAxis:s,yAxis:a})},c)}function migrateV25_1(t){return t=jsonRename("chartOptions.seriesDefaults.label.minRequiredAngle","minAngle",t)}function migrateV26(t){return t=jsonMutate("chartOptions.seriesDefaults.highlightStyle",t,(function(t){var e=t.dimOpacity,n=__rest(t,["dimOpacity"]);return __assign$b(__assign$b({},n),null!=e?{series:{dimOpacity:e}}:{})})),t=jsonDelete("chart",t),t=jsonDelete("chartOptions.seriesDefaults.tooltipClass",t),t=jsonDeleteDefault("chartOptions.axes[].label.rotation",0,t=jsonDelete("chartOptions.seriesDefaults.tooltipTracking",t)),t=jsonDeleteDefault("chartOptions.axes[].label.rotation",335,t)}function migrateV26_1(t){var e=function(t){var e=t.item,n=t.series,i=__rest(t,["item","series"]);return __assign$b({item:__assign$b(__assign$b({},i),e)},n?{series:n}:{})};return t=jsonMutate("chartOptions.seriesDefaults.highlightStyle",t,e),t=jsonMutate("chartOptions.series[].highlightStyle",t,e)}function migrateV26_2(t){t=jsonMove("chartOptions.seriesDefaults.fill.opacity","chartOptions.seriesDefaults.fillOpacity",t),t=jsonMove("chartOptions.seriesDefaults.stroke.opacity","chartOptions.seriesDefaults.strokeOpacity",t),t=jsonDelete("chartOptions.seriesDefaults.fill",t=jsonMove("chartOptions.seriesDefaults.stroke.width","chartOptions.seriesDefaults.strokeWidth",t)),t=jsonDelete("chartOptions.seriesDefaults.stroke",t),t=jsonDelete("chartOptions.seriesDefaults.callout.colors",t),t=jsonDelete("chartOptions.xAxis",t);var e=t=jsonDelete("chartOptions.yAxis",t),n=e.chartType,i=e.chartOptions,o=i.axes;i.series;var r=i.seriesDefaults,s=__rest(i,["axes","series","seriesDefaults"]),a=__rest(e,["chartType","chartOptions"]),l=[getSeriesType(n)],c={};if(!l.includes("pie")){var u={top:{},bottom:{},left:{},right:{}},h=o.map((function(t){var e,n=t.type,i=__rest(t,["type"]);return(e={})[n]=__assign$b(__assign$b({},u),i),e})).reduce(merge,{});ALL_AXIS_TYPES.filter((function(t){return null==h[t]})).forEach((function(t){h[t]=__assign$b({},u)})),c.axes=h}var d=l.map((function(t){var e;return(e={})[t]=__assign$b(__assign$b(__assign$b({},c),{series:r}),s),e})).reduce(merge,{});return t=__assign$b(__assign$b({},a),{chartType:n,chartOptions:d})}function migrateV28(t){return t=jsonDelete("chartOptions.*.title.padding",t),t=jsonDelete("chartOptions.*.subtitle.padding",t),t=jsonBackfill("chartOptions.*.axes.*.title.enabled",!1,t=jsonDelete("chartOptions.*.axes.*.title.padding",t))}function migrateV28_2(t){return t=jsonRename("chartOptions.pie.series.callout","calloutLine",t),t=jsonRename("chartOptions.pie.series.label","calloutLabel",t)}function migrateV29(t){return t=jsonMoveIfMissing("chartOptions.scatter.series.fill","chartOptions.scatter.series.marker.fill",t),t=jsonMoveIfMissing("chartOptions.scatter.series.fillOpacity","chartOptions.scatter.series.marker.fillOpacity",t),t=jsonMoveIfMissing("chartOptions.scatter.series.stroke","chartOptions.scatter.series.marker.stroke",t),t=jsonMoveIfMissing("chartOptions.scatter.series.strokeOpacity","chartOptions.scatter.series.marker.strokeOpacity",t),t=jsonMove("chartOptions.scatter.series.paired","chartOptions.scatter.paired",t=jsonMoveIfMissing("chartOptions.scatter.series.strokeWidth","chartOptions.scatter.series.marker.strokeWidth",t))}function cleanup(t){return t=jsonDelete("chartOptions.*.width",t),t=jsonBackfill("chartOptions.*.axes.category.label.autoRotate",!0,t=jsonDelete("chartOptions.*.height",t))}function heuristicVersionDetection(t){var e,n,i=t;if(null!=t.version)return t.version;var o=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return Object.keys(t||{}).some((function(t){return e.includes(t)}))},r=i.chartOptions,s=o(r,"seriesDefaults")?null==r?void 0:r.seriesDefaults:null==r?void 0:r[Object.keys(r)[0]],a={"27.0.0":o(i,"seriesChartTypes"),"26.2.0":!o(r,"seriesDefaults"),"26.1.0":o(null==s?void 0:s.highlightStyle,"item"),"26.0.0":o(null==s?void 0:s.highlightStyle,"series"),"25.1.0":o(null==s?void 0:s.label,"minAngle"),"25.0.0":o(i,"modelType","aggFunc","unlinkChart","suppressChartRanges")||o(s,"lineDash","lineDashOffset"),"24.0.0":o(i,"chartThemeName","chart")||o(r,"series"),"23.2.0":o(r,"navigator"),"23.0.0":o(null===(n=null===(e=null==r?void 0:r.legend)||void 0===e?void 0:e.item)||void 0===n?void 0:n.marker,"shape"),"22.1.0":o(i,"chartPalette","chartType")},l=Object.entries(a).filter((function(t){var e=__read$d(t,2);return e[0],e[1]})),c=__read$d(l[0],1)[0];return void 0===c?"27.1.0":c}function migrateIfBefore(t,e,n){if(versionNumber(t)>versionNumber(e.version)){var i=n(e);return i.version=t,i}return e}function versionParts(t){var e="string"==typeof t?t.split(".").map((function(t){return Number(t)})):[];if(3!==e.length||e.some((function(t){return isNaN(t)})))throw new Error("AG Grid - Illegal version string: "+t);return{major:e[0],minor:e[1],patch:e[2]}}function versionNumber(t){var e=versionParts(t);return 1e4*e.major+100*e.minor+e.patch}function jsonDeleteDefault(t,e,n){return jsonMutateProperty(t,!0,n,(function(t,n){t[n]===e&&delete t[n]}))}function jsonBackfill(t,e,n){return jsonMutateProperty(t,!1,n,(function(t,n){null==t[n]&&(t[n]=e)}))}function jsonMove(t,e,n){var i=void 0,o=!1;return n=jsonMutateProperty(t,!0,n,(function(t,e){o=!0,i=t[e],delete t[e]})),o?jsonMutateProperty(e,!1,n,(function(t,e){t[e]=i})):n}function jsonMoveIfMissing(t,e,n){var i=void 0,o=!1;return n=jsonMutateProperty(t,!0,n,(function(t,e){o=!0,i=t[e],delete t[e]})),o?jsonMutateProperty(e,!1,n,(function(t,e){void 0===t[e]&&(t[e]=i)})):n}function jsonRename(t,e,n){return jsonMutateProperty(t,!0,n,(function(t,n){t[e]=t[n],delete t[n]}))}function jsonDelete(t,e){return jsonMutateProperty(t,!0,e,(function(t,e){return delete t[e]}))}function jsonMutateProperty(t,e,n,i){var o=t instanceof Array?t:t.split("."),r=o.slice(0,o.length-1),s=o[o.length-1];return jsonMutate(r,n,(function(t){var n=Object.keys(t).includes(s);if(e&&!n)return t;var o=__assign$b({},t);return i(o,s),o}))}function jsonMutate(t,e,n){var i,o,r=t instanceof Array?t:t.split(".");if(e=__assign$b({},e),0===r.length)return n(e);if(r[0].startsWith("{")){var s=r[0].substring(1,r[0].lastIndexOf("}")).split(",");try{for(var a=__values$4(s),l=a.next();!l.done;l=a.next()){var c=l.value;null!=e[c]&&(e[c]=jsonMutate(r.slice(1),e[c],n))}}catch(t){i={error:t}}finally{try{l&&!l.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}}else if(r[0].endsWith("[]")){var u=r[0].substring(0,t[0].indexOf("["));e[u]instanceof Array&&(e[u]=e[u].map((function(t){return jsonMutate(r.slice(1),t,n)})))}else if("*"===r[0])for(var h in e)e[h]=jsonMutate(r.slice(1),e[h],n);else null!=e[r[0]]&&(e[r[0]]=jsonMutate(r.slice(1),e[r[0]],n));return e}var merge=function(t,e){return __assign$b(__assign$b({},t),e)},LEGACY_PALETTES={borneo:"ag-default",material:"ag-material",pastel:"ag-pastel",bright:"ag-vivid",flat:"ag-solar"},__extends$Q=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__assign$a=function(){return __assign$a=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},__assign$a.apply(this,arguments)},__decorate$M=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},ChartService=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.activeCharts=new Set,e.activeChartComps=new Set,e.crossFilteringContext={lastSelectedChartId:""},e}return __extends$Q(e,t),e.prototype.getChartModels=function(){var t=[];return this.activeChartComps.forEach((function(e){return t.push(function(t){return __assign$a(__assign$a({},t),{version:VERSION$a})}(e.getChartModel()))})),t},e.prototype.getChartRef=function(t){var e;return this.activeCharts.forEach((function(n){n.chartId===t&&(e=n)})),e},e.prototype.getChartImageDataURL=function(t){var e;return this.activeChartComps.forEach((function(n){n.getChartId()===t.chartId&&(e=n.getChartImageDataURL(t.fileFormat))})),e},e.prototype.downloadChart=function(t){var e=Array.from(this.activeChartComps).find((function(e){return e.getChartId()===t.chartId}));null==e||e.downloadChart(t.dimensions,t.fileName,t.fileFormat)},e.prototype.openChartToolPanel=function(t){var e=Array.from(this.activeChartComps).find((function(e){return e.getChartId()===t.chartId}));null==e||e.openChartToolPanel(t.panel)},e.prototype.closeChartToolPanel=function(t){var e=Array.from(this.activeChartComps).find((function(e){return e.getChartId()===t}));null==e||e.closeChartToolPanel()},e.prototype.createChartFromCurrentRange=function(t){void 0===t&&(t="groupedColumn");var e=this.getSelectedRange();return this.createChart(e,t)},e.prototype.restoreChart=function(t,e){var n=this;if(t){t.version!==VERSION$a&&(t=upgradeChartModel(t));var i={cellRange:t.cellRange,chartType:t.chartType,chartThemeName:t.chartThemeName,chartContainer:e,suppressChartRanges:t.suppressChartRanges,aggFunc:t.aggFunc,unlinkChart:t.unlinkChart,seriesChartTypes:t.seriesChartTypes},o=function(t){return n.rangeService?n.rangeService.createCellRangeFromCellRangeParams(t):void 0};if("pivot"===t.modelType){this.columnModel.isPivotMode()||this.columnModel.setPivotMode(!0,"pivotChart");var r=o({rowStartIndex:null,rowStartPinned:void 0,rowEndIndex:null,rowEndPinned:void 0,columns:this.columnModel.getAllDisplayedColumns().map((function(t){return t.getColId()}))});return r?this.createChart(r,i.chartType,i.chartThemeName,!0,!0,i.chartContainer,void 0,void 0,i.unlinkChart,!1,t.chartOptions):void console.warn("AG Grid - unable to create chart as there are no columns in the grid.")}var s=o(i.cellRange);if(s)return this.createChart(s,i.chartType,i.chartThemeName,!1,i.suppressChartRanges,i.chartContainer,i.aggFunc,void 0,i.unlinkChart,!1,t.chartOptions,t.chartPalette,i.seriesChartTypes);console.warn("AG Grid - unable to create chart as no range is selected")}else console.warn("AG Grid - unable to restore chart as no chart model is provided")},e.prototype.createRangeChart=function(t){var e=this.rangeService?this.rangeService.createCellRangeFromCellRangeParams(t.cellRange):void 0;if(e)return this.createChart(e,t.chartType,t.chartThemeName,!1,t.suppressChartRanges,t.chartContainer,t.aggFunc,t.chartThemeOverrides,t.unlinkChart,void 0,void 0,void 0,t.seriesChartTypes);console.warn("AG Grid - unable to create chart as no range is selected")},e.prototype.createPivotChart=function(t){this.columnModel.isPivotMode()||this.columnModel.setPivotMode(!0,"pivotChart");var e={rowStartIndex:null,rowStartPinned:void 0,rowEndIndex:null,rowEndPinned:void 0,columns:this.columnModel.getAllDisplayedColumns().map((function(t){return t.getColId()}))},n=this.rangeService?this.rangeService.createCellRangeFromCellRangeParams(e):void 0;if(n)return this.createChart(n,t.chartType,t.chartThemeName,!0,!0,t.chartContainer,void 0,t.chartThemeOverrides,t.unlinkChart);console.warn("AG Grid - unable to create chart as there are no columns in the grid.")},e.prototype.createCrossFilterChart=function(t){var e=this.rangeService?this.rangeService.createCellRangeFromCellRangeParams(t.cellRange):void 0;if(e){var n=!(void 0!==t.suppressChartRanges&&null!==t.suppressChartRanges)||t.suppressChartRanges;return this.createChart(e,t.chartType,t.chartThemeName,!1,n,t.chartContainer,t.aggFunc,t.chartThemeOverrides,t.unlinkChart,!0)}console.warn("AG Grid - unable to create chart as no range is selected")},e.prototype.createChart=function(t,e,n,i,o,r,s,a,l,c,u,h,d){var p=this;void 0===i&&(i=!1),void 0===o&&(o=!1),void 0===l&&(l=!1),void 0===c&&(c=!1);var f=this.gridOptionsService.getCallback("createChartContainer"),g={chartId:this.generateId(),pivotChart:i,cellRange:t,chartType:e,chartThemeName:n,insideDialog:!(r||f),suppressChartRanges:o,aggFunc:s,chartThemeOverrides:a,unlinkChart:l,crossFiltering:c,crossFilteringContext:this.crossFilteringContext,chartOptionsToRestore:u,chartPaletteToRestore:h,seriesChartTypes:d,crossFilteringResetCallback:function(){return p.activeChartComps.forEach((function(t){return t.crossFilteringReset()}))}},m=new GridChartComp(g);this.context.createBean(m);var _=this.createChartRef(m);if(r){r.appendChild(m.getGui());var y=this.environment.getTheme();y.el&&!y.el.contains(r)&&r.classList.add(y.theme)}else f?f(_):m.addEventListener(GridChartComp.EVENT_DESTROYED,(function(){p.activeChartComps.delete(m),p.activeCharts.delete(_)}));return _},e.prototype.createChartRef=function(t){var e=this,n={destroyChart:function(){e.activeCharts.has(n)&&(e.context.destroyBean(t),e.activeChartComps.delete(t),e.activeCharts.delete(n))},chartElement:t.getGui(),chart:t.getUnderlyingChart(),chartId:t.getChartModel().chartId};return this.activeCharts.add(n),this.activeChartComps.add(t),n},e.prototype.getSelectedRange=function(){var t=this.rangeService.getCellRanges();return t.length>0?t[0]:{}},e.prototype.generateId=function(){return"id-"+Math.random().toString(36).substr(2,16)},e.prototype.destroyAllActiveCharts=function(){this.activeCharts.forEach((function(t){return t.destroyChart()}))},e.CHARTS_VERSION=VERSION$b,__decorate$M([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FiY)("rangeService")],e.prototype,"rangeService",void 0),__decorate$M([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$M([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FXL],e.prototype,"destroyAllActiveCharts",null),e=__decorate$M([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("chartService")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$P=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$L=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},ChartTranslationService=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var n;return __extends$P(e,t),n=e,e.prototype.translate=function(t,e){return this.localeService.getLocaleTextFunc()(t,n.DEFAULT_TRANSLATIONS[t]||e)},e.DEFAULT_TRANSLATIONS={pivotChartTitle:"Pivot Chart",rangeChartTitle:"Range Chart",settings:"Settings",data:"Data",format:"Format",categories:"Categories",defaultCategory:"(None)",series:"Series",xyValues:"X Y Values",paired:"Paired Mode",axis:"Axis",navigator:"Navigator",color:"Color",thickness:"Thickness",xType:"X Type",automatic:"Automatic",category:"Category",number:"Number",time:"Time",autoRotate:"Auto Rotate",xRotation:"X Rotation",yRotation:"Y Rotation",ticks:"Ticks",width:"Width",height:"Height",length:"Length",padding:"Padding",spacing:"Spacing",chart:"Chart",title:"Title",titlePlaceholder:"Chart title - double click to edit",background:"Background",font:"Font",top:"Top",right:"Right",bottom:"Bottom",left:"Left",labels:"Labels",calloutLabels:"Callout Labels",sectorLabels:"Sector Labels",positionRatio:"Position Ratio",size:"Size",shape:"Shape",minSize:"Minimum Size",maxSize:"Maximum Size",legend:"Legend",position:"Position",markerSize:"Marker Size",markerStroke:"Marker Stroke",markerPadding:"Marker Padding",itemSpacing:"Item Spacing",itemPaddingX:"Item Padding X",itemPaddingY:"Item Padding Y",layoutHorizontalSpacing:"Horizontal Spacing",layoutVerticalSpacing:"Vertical Spacing",strokeWidth:"Stroke Width",offset:"Offset",offsets:"Offsets",tooltips:"Tooltips",callout:"Callout",markers:"Markers",shadow:"Shadow",blur:"Blur",xOffset:"X Offset",yOffset:"Y Offset",lineWidth:"Line Width",lineDash:"Line Dash",normal:"Normal",bold:"Bold",italic:"Italic",boldItalic:"Bold Italic",predefined:"Predefined",fillOpacity:"Fill Opacity",strokeOpacity:"Line Opacity",histogramBinCount:"Bin count",columnGroup:"Column",barGroup:"Bar",pieGroup:"Pie",lineGroup:"Line",scatterGroup:"X Y (Scatter)",areaGroup:"Area",histogramGroup:"Histogram",combinationGroup:"Combination",groupedColumnTooltip:"Grouped",stackedColumnTooltip:"Stacked",normalizedColumnTooltip:"100% Stacked",groupedBarTooltip:"Grouped",stackedBarTooltip:"Stacked",normalizedBarTooltip:"100% Stacked",pieTooltip:"Pie",doughnutTooltip:"Doughnut",lineTooltip:"Line",groupedAreaTooltip:"Area",stackedAreaTooltip:"Stacked",normalizedAreaTooltip:"100% Stacked",scatterTooltip:"Scatter",bubbleTooltip:"Bubble",histogramTooltip:"Histogram",columnLineComboTooltip:"Column & Line",areaColumnComboTooltip:"Area & Column",customComboTooltip:"Custom Combination",noDataToChart:"No data available to be charted.",pivotChartRequiresPivotMode:"Pivot Chart requires Pivot Mode enabled.",chartSettingsToolbarTooltip:"Menu",chartLinkToolbarTooltip:"Linked to Grid",chartUnlinkToolbarTooltip:"Unlinked from Grid",chartDownloadToolbarTooltip:"Download Chart",histogramFrequency:"Frequency",seriesChartType:"Series Chart Type",seriesType:"Series Type",secondaryAxis:"Secondary Axis"},e=n=__decorate$L([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("chartTranslationService")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$O=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$K=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},ChartCrossFilterService=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var n;return __extends$O(e,t),n=e,e.prototype.filter=function(t,e){void 0===e&&(e=!1);var i=this.gridApi.getFilterModel();if(e)this.resetFilters(i);else{var o=n.extractFilterColId(t);this.isValidColumnFilter(o)?this.updateFilters(i,t,o):console.warn("AG Grid: cross filtering requires a 'agSetColumnFilter' or 'agMultiColumnFilter' to be defined on the column with id: '"+o+"'")}},e.prototype.resetFilters=function(t){Object.keys(t).length>0&&(this.gridApi.setFilterModel(null),this.gridApi.onFilterChanged())},e.prototype.updateFilters=function(t,e,i){var o,r=n.extractFilterColId(e),s=e.datum[r];if(void 0!==s){var a=s.toString();if(e.event.metaKey||e.event.ctrlKey){var l=this.getCurrentGridValuesForCategory(i),c=void 0;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(l,a)?c=l.filter((function(t){return t!==a})):(c=l).push(a),t[i]=this.getUpdatedFilterModel(i,c)}else{c=[a];(o={})[i]=this.getUpdatedFilterModel(i,c),t=o}this.gridApi.setFilterModel(t)}},e.prototype.getUpdatedFilterModel=function(t,e){return"agMultiColumnFilter"===this.getColumnFilterType(t)?{filterType:"multi",filterModels:[null,{filterType:"set",values:e}]}:{filterType:"set",values:e}},e.prototype.getCurrentGridValuesForCategory=function(t){var e=this,n=[],i=this.getColumnById(t);return this.gridApi.forEachNodeAfterFilter((function(t){if(i&&!t.group){var o=e.valueService.getValue(i,t)+"";n.includes(o)||n.push(o)}})),n},e.extractFilterColId=function(t){return t.xKey||t.calloutLabelKey},e.prototype.isValidColumnFilter=function(t){t.indexOf("-filtered-out")&&(t=t.replace("-filtered-out",""));var e=this.getColumnFilterType(t);return"boolean"==typeof e?e:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(["agSetColumnFilter","agMultiColumnFilter"],e)},e.prototype.getColumnFilterType=function(t){var e=this.getColumnById(t);if(e){var n=e.getColDef();return null!=n.filter?n.filter:n.filterFramework}},e.prototype.getColumnById=function(t){return this.columnModel.getGridColumn(t)},__decorate$K([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],e.prototype,"gridApi",void 0),__decorate$K([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$K([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("valueService")],e.prototype,"valueService",void 0),e=n=__decorate$K([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("chartCrossFilterService")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$N=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__assign$9=function(){return __assign$9=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},__assign$9.apply(this,arguments)},__decorate$J=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},__read$c=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},__spread$6=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$c(arguments[e]));return t},__values$3=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},RangeService=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cellRanges=[],e.bodyScrollListener=e.onBodyScroll.bind(e),e.dragging=!1,e.intersectionRange=!1,e}return __extends$N(e,t),e.prototype.init=function(){var t=this;this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_NEW_COLUMNS_LOADED,(function(){return t.onColumnsChanged()})),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_VISIBLE,this.onColumnsChanged.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_VALUE_CHANGED,this.onColumnsChanged.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PIVOT_MODE_CHANGED,(function(){return t.removeAllCellRanges()})),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_ROW_GROUP_CHANGED,(function(){return t.removeAllCellRanges()})),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PIVOT_CHANGED,(function(){return t.removeAllCellRanges()})),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_GROUP_OPENED,this.refreshLastRangeStart.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_MOVED,this.refreshLastRangeStart.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PINNED,this.refreshLastRangeStart.bind(this)),this.ctrlsService.whenReady((function(){var e=t.ctrlsService.getGridBodyCtrl();t.autoScrollService=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Cvn({scrollContainer:e.getBodyViewportElement(),scrollAxis:"xy",getVerticalPosition:function(){return e.getScrollFeature().getVScrollPosition().top},setVerticalPosition:function(t){return e.getScrollFeature().setVerticalScrollPosition(t)},getHorizontalPosition:function(){return e.getScrollFeature().getHScrollPosition().left},setHorizontalPosition:function(t){return e.getScrollFeature().setHorizontalScrollPosition(t)},shouldSkipVerticalScroll:function(){return!t.gridOptionsService.isDomLayout("normal")},shouldSkipHorizontalScroll:function(){return!e.getScrollFeature().isHorizontalScrollShowing()}})}))},e.prototype.onColumnsChanged=function(){var t=this;this.refreshLastRangeStart();var e=this.columnModel.getAllDisplayedColumns();this.cellRanges.forEach((function(n){var i=n.columns;n.columns=n.columns.filter((function(t){return t.isVisible()&&-1!==e.indexOf(t)})),!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.areEqual(i,n.columns)&&t.dispatchChangedEvent(!1,!0,n.id)}));var n=this.cellRanges.length;this.cellRanges=this.cellRanges.filter((function(t){return t.columns.length>0})),n>this.cellRanges.length&&this.dispatchChangedEvent(!1,!0)},e.prototype.refreshLastRangeStart=function(){var t=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(this.cellRanges);t&&this.refreshRangeStart(t)},e.prototype.isContiguousRange=function(t){var e=t.columns;if(!e.length)return!1;var n=this.columnModel.getAllDisplayedColumns(),i=e.map((function(t){return n.indexOf(t)})).sort((function(t,e){return t-e}));return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(i)-i[0]+1===e.length},e.prototype.getRangeStartRow=function(t){return t.startRow&&t.endRow?this.rowPositionUtils.before(t.startRow,t.endRow)?t.startRow:t.endRow:{rowIndex:0,rowPinned:this.pinnedRowModel.getPinnedTopRowCount()>0?"top":null}},e.prototype.getRangeEndRow=function(t){if(t.startRow&&t.endRow)return this.rowPositionUtils.before(t.startRow,t.endRow)?t.endRow:t.startRow;var e=this.pinnedRowModel.getPinnedBottomRowCount();return e>0?{rowIndex:e-1,rowPinned:"bottom"}:{rowIndex:this.rowModel.getRowCount()-1,rowPinned:null}},e.prototype.setRangeToCell=function(t,e){if(void 0===e&&(e=!1),this.gridOptionsService.isEnableRangeSelection()){var n=this.calculateColumnsBetween(t.column,t.column);if(n){(this.gridOptionsService.is("suppressMultiRangeSelection")||!e||ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(this.cellRanges))&&this.removeAllCellRanges(!0);var i={rowIndex:t.rowIndex,rowPinned:t.rowPinned},o={startRow:i,endRow:i,columns:n,startColumn:t.column};this.cellRanges.push(o),this.setNewestRangeStartCell(t),this.onDragStop(),this.dispatchChangedEvent(!0,!0)}}},e.prototype.extendLatestRangeToCell=function(t){if(!this.isEmpty()&&this.newestRangeStartCell){var e=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(this.cellRanges);this.updateRangeEnd(e,t)}},e.prototype.updateRangeEnd=function(t,e,n){void 0===n&&(n=!1);var i=e.column,o=this.calculateColumnsBetween(t.startColumn,i);o&&!this.isLastCellOfRange(t,e)&&(t.columns=o,t.endRow={rowIndex:e.rowIndex,rowPinned:e.rowPinned},n||this.dispatchChangedEvent(!0,!0,t.id))},e.prototype.refreshRangeStart=function(t){var e=t.startColumn,n=t.columns,i=function(e,n){var i=t.columns.filter((function(t){return t!==e}));e?(t.startColumn=e,t.columns=n?__spread$6([e],i):__spread$6(i,[e])):t.columns=i},o=this.getRangeEdgeColumns(t),r=o.left,s=o.right;e===n[0]&&e!==r?i(r,!0):e===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(n)&&e===s&&i(s,!1)},e.prototype.getRangeEdgeColumns=function(t){var e=this.columnModel.getAllDisplayedColumns(),n=t.columns.map((function(t){return e.indexOf(t)})).filter((function(t){return t>-1})).sort((function(t,e){return t-e}));return{left:e[n[0]],right:e[ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(n)]}},e.prototype.extendLatestRangeInDirection=function(t){if(!this.isEmpty()&&this.newestRangeStartCell){var e=t.key,n=t.ctrlKey||t.metaKey,i=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(this.cellRanges),o=this.newestRangeStartCell,r=i.columns[0],s=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(i.columns),a=i.endRow.rowIndex,l=i.endRow.rowPinned,c={column:o.column===r?s:r,rowIndex:a,rowPinned:l},u=this.cellNavigationService.getNextCellToFocus(e,c,n);if(u)return this.setCellRange({rowStartIndex:o.rowIndex,rowStartPinned:o.rowPinned,rowEndIndex:u.rowIndex,rowEndPinned:u.rowPinned,columnStart:o.column,columnEnd:u.column}),u}},e.prototype.setCellRange=function(t){this.gridOptionsService.isEnableRangeSelection()&&(this.removeAllCellRanges(!0),this.addCellRange(t))},e.prototype.setCellRanges=function(t){var e=this;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.shallowCompare(this.cellRanges,t)||(this.removeAllCellRanges(!0),t.forEach((function(t){t.columns&&t.startRow&&e.setNewestRangeStartCell({rowIndex:t.startRow.rowIndex,rowPinned:t.startRow.rowPinned,column:t.columns[0]}),e.cellRanges.push(t)})),this.dispatchChangedEvent(!1,!0))},e.prototype.setNewestRangeStartCell=function(t){this.newestRangeStartCell=t},e.prototype.clearCellRangeCellValues=function(t,e){var n=this;void 0===e&&(e="rangeService"),t||(t=this.cellRanges),t.forEach((function(t){n.forEachRowInRange(t,(function(i){var o=n.rowPositionUtils.getRowNode(i);if(o)for(var r=0;r<t.columns.length;r++){var s=n.columnModel.getGridColumn(t.columns[r]);if(!s||!s.isCellEditable(o))return;o.setDataValue(s,null,e)}}))}))},e.prototype.createCellRangeFromCellRangeParams=function(t){var e,n=this,i=!1;if(t.columns)e=t.columns.map((function(t){return n.columnModel.getColumnWithValidation(t)})).filter((function(t){return t}));else{var o=this.columnModel.getColumnWithValidation(t.columnStart),r=this.columnModel.getColumnWithValidation(t.columnEnd);if(!o||!r)return;(e=this.calculateColumnsBetween(o,r))&&e.length&&(i=e[0]!==o)}if(e)return{startRow:null!=t.rowStartIndex?{rowIndex:t.rowStartIndex,rowPinned:t.rowStartPinned||null}:void 0,endRow:null!=t.rowEndIndex?{rowIndex:t.rowEndIndex,rowPinned:t.rowEndPinned||null}:void 0,columns:e,startColumn:i?ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(e):e[0]}},e.prototype.addCellRange=function(t){if(this.gridOptionsService.isEnableRangeSelection()){var e=this.createCellRangeFromCellRangeParams(t);e&&(e.startRow&&this.setNewestRangeStartCell({rowIndex:e.startRow.rowIndex,rowPinned:e.startRow.rowPinned,column:e.startColumn}),this.cellRanges.push(e),this.dispatchChangedEvent(!1,!0,e.id))}},e.prototype.getCellRanges=function(){return this.cellRanges},e.prototype.isEmpty=function(){return 0===this.cellRanges.length},e.prototype.isMoreThanOneCell=function(){var t=this.cellRanges.length;if(0===t)return!1;if(t>1)return!0;var e=this.cellRanges[0],n=this.getRangeStartRow(e),i=this.getRangeEndRow(e);return n.rowPinned!==i.rowPinned||n.rowIndex!==i.rowIndex||1!==e.columns.length},e.prototype.areAllRangesAbleToMerge=function(){var t,e,n,i=this,o=new Map;if(this.cellRanges.length<=1)return!0;this.cellRanges.forEach((function(t){i.forEachRowInRange(t,(function(e){var n=(e.rowPinned||"normal")+"_"+e.rowIndex,i=o.get(n),r=t.columns.map((function(t){return t.getId()}));if(i){var s=r.filter((function(t){return-1===i.indexOf(t)}));i.push.apply(i,__spread$6(s))}else o.set(n,r)}))}));try{for(var r=__values$3(o.values()),s=r.next();!s.done;s=r.next()){var a=s.value.sort().join();if(void 0!==n){if(n!==a)return!1}else n=a}}catch(e){t={error:e}}finally{try{s&&!s.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return!0},e.prototype.forEachRowInRange=function(t,e){for(var n=this.getRangeStartRow(t),i=this.getRangeEndRow(t),o=n;o&&(e(o),!this.rowPositionUtils.sameRow(o,i));)o=this.cellNavigationService.getRowBelow(o)},e.prototype.removeAllCellRanges=function(t){this.isEmpty()||(this.onDragStop(),this.cellRanges.length=0,t||this.dispatchChangedEvent(!1,!0))},e.prototype.onBodyScroll=function(){this.dragging&&this.lastMouseEvent&&this.onDragging(this.lastMouseEvent)},e.prototype.isCellInAnyRange=function(t){return this.getCellRangeCount(t)>0},e.prototype.isCellInSpecificRange=function(t,e){var n=null!==e.columns&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(e.columns,t.column),i=this.isRowInRange(t.rowIndex,t.rowPinned,e);return n&&i},e.prototype.isLastCellOfRange=function(t,e){var n=t.startRow,i=t.endRow,o=this.rowPositionUtils.before(n,i)?i:n,r=e.rowIndex===o.rowIndex&&e.rowPinned===o.rowPinned,s=t.columns[0],a=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(t.columns),l=t.startColumn===s?a:s;return e.column===l&&r},e.prototype.isBottomRightCell=function(t,e){var n=this.columnModel.getAllDisplayedColumns(),i=t.columns.map((function(t){return n.indexOf(t)})).sort((function(t,e){return t-e})),o=t.startRow,r=t.endRow,s=this.rowPositionUtils.before(o,r)?r:o,a=n.indexOf(e.column)===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(i),l=e.rowIndex===s.rowIndex&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.makeNull(e.rowPinned)===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.makeNull(s.rowPinned);return a&&l},e.prototype.getCellRangeCount=function(t){var e=this;return this.isEmpty()?0:this.cellRanges.filter((function(n){return e.isCellInSpecificRange(t,n)})).length},e.prototype.isRowInRange=function(t,e,n){var i=this.getRangeStartRow(n),o=this.getRangeEndRow(n),r={rowIndex:t,rowPinned:e||null},s=r.rowIndex===i.rowIndex&&r.rowPinned==i.rowPinned,a=r.rowIndex===o.rowIndex&&r.rowPinned==o.rowPinned;if(s||a)return!0;var l=!this.rowPositionUtils.before(r,i),c=this.rowPositionUtils.before(r,o);return l&&c},e.prototype.getDraggingRange=function(){return this.draggingRange},e.prototype.onDragStart=function(t){if(this.gridOptionsService.isEnableRangeSelection()){var e=t.ctrlKey,n=t.metaKey,i=t.shiftKey,o=e||n,r=!!!this.gridOptionsService.is("suppressMultiRangeSelection")&&o,s=i&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.existsAndNotEmpty(this.cellRanges);r||s&&!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(this.cellRanges).type)||this.removeAllCellRanges(!0);var a=this.dragService.getStartTarget();if(a&&this.updateValuesOnMove(a),this.lastCellHovered){if(this.dragging=!0,this.lastMouseEvent=t,this.intersectionRange=r&&this.getCellRangeCount(this.lastCellHovered)>1,s||this.setNewestRangeStartCell(this.lastCellHovered),this.cellRanges.length>0)this.draggingRange=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(this.cellRanges);else{var l={rowIndex:this.lastCellHovered.rowIndex,rowPinned:this.lastCellHovered.rowPinned};this.draggingRange={startRow:l,endRow:l,columns:[this.lastCellHovered.column],startColumn:this.newestRangeStartCell.column},this.cellRanges.push(this.draggingRange)}this.ctrlsService.getGridBodyCtrl().addScrollEventListener(this.bodyScrollListener),this.dispatchChangedEvent(!0,!1,this.draggingRange.id)}}},e.prototype.intersectLastRange=function(t){var e=this;if(!(t&&this.dragging||this.gridOptionsService.is("suppressMultiRangeSelection")||this.isEmpty())){var n=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(this.cellRanges),i=this.getRangeStartRow(n),o=this.getRangeEndRow(n),r=[];this.cellRanges.slice(0,-1).forEach((function(t){var s=e.getRangeStartRow(t),a=e.getRangeEndRow(t),l=t.columns,c=l.filter((function(t){return-1===n.columns.indexOf(t)}));if(c.length!==l.length)if(e.rowPositionUtils.before(o,s)||e.rowPositionUtils.before(a,i))r.push(t);else{var u=r.length;if(e.rowPositionUtils.before(s,i)){var h={columns:__spread$6(l),startColumn:n.startColumn,startRow:__assign$9({},s),endRow:e.cellNavigationService.getRowAbove(i)};r.push(h)}if(c.length>0){var d={columns:c,startColumn:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.includes(c,n.startColumn)?n.startColumn:c[0],startRow:e.rowPositionUtils.rowMax([__assign$9({},i),__assign$9({},s)]),endRow:e.rowPositionUtils.rowMin([__assign$9({},o),__assign$9({},a)])};r.push(d)}e.rowPositionUtils.before(o,a)&&r.push({columns:__spread$6(l),startColumn:n.startColumn,startRow:e.cellNavigationService.getRowBelow(o),endRow:__assign$9({},a)}),r.length-u==1&&(r[r.length-1].id=t.id)}else r.push(t)})),this.cellRanges=r,t&&this.dispatchChangedEvent(!1,!0)}},e.prototype.updateValuesOnMove=function(t){var e=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.getCtrlForEventTarget(this.gridOptionsService,t,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Ekq.DOM_DATA_KEY_CELL_CTRL),n=null==e?void 0:e.getCellPosition();this.cellHasChanged=!1,!n||this.lastCellHovered&&this.cellPositionUtils.equals(n,this.lastCellHovered)||(this.lastCellHovered&&(this.cellHasChanged=!0),this.lastCellHovered=n)},e.prototype.onDragging=function(t){var e=this;if(this.dragging&&t){this.updateValuesOnMove(t.target),this.lastMouseEvent=t;var n=this.lastCellHovered,i=function(t){return n&&n.rowPinned===t&&e.newestRangeStartCell.rowPinned===t},o=i("top")||i("bottom");if(this.autoScrollService.check(t,o),this.cellHasChanged){var r=this.calculateColumnsBetween(this.newestRangeStartCell.column,n.column);r&&(this.draggingRange.endRow={rowIndex:n.rowIndex,rowPinned:n.rowPinned},this.draggingRange.columns=r,this.dispatchChangedEvent(!1,!1,this.draggingRange.id))}}},e.prototype.onDragStop=function(){if(this.dragging){var t=this.draggingRange.id;this.autoScrollService.ensureCleared(),this.ctrlsService.getGridBodyCtrl().removeScrollEventListener(this.bodyScrollListener),this.lastMouseEvent=null,this.dragging=!1,this.draggingRange=void 0,this.lastCellHovered=void 0,this.intersectionRange&&(this.intersectionRange=!1,this.intersectLastRange()),this.dispatchChangedEvent(!1,!0,t)}},e.prototype.dispatchChangedEvent=function(t,e,n){var i={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_RANGE_SELECTION_CHANGED,started:t,finished:e,id:n};this.eventService.dispatchEvent(i)},e.prototype.calculateColumnsBetween=function(t,e){var n=this.columnModel.getAllDisplayedColumns(),i=t===e,o=n.indexOf(t);if(o<0)console.warn("AG Grid: column "+t.getId()+" is not visible");else{var r=i?o:n.indexOf(e);if(!(r<0)){if(i)return[t];for(var s=Math.min(o,r),a=s===o?r:o,l=[],c=s;c<=a;c++)l.push(n[c]);return l}console.warn("AG Grid: column "+e.getId()+" is not visible")}},__decorate$J([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowModel")],e.prototype,"rowModel",void 0),__decorate$J([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("dragService")],e.prototype,"dragService",void 0),__decorate$J([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$J([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("cellNavigationService")],e.prototype,"cellNavigationService",void 0),__decorate$J([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),__decorate$J([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowPositionUtils")],e.prototype,"rowPositionUtils",void 0),__decorate$J([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("cellPositionUtils")],e.prototype,"cellPositionUtils",void 0),__decorate$J([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ctrlsService")],e.prototype,"ctrlsService",void 0),__decorate$J([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e=__decorate$J([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("rangeService")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$M=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$I=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},AbstractSelectionHandle=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.changedCalculatedValues=!1,e.dragging=!1,e.shouldDestroyOnEndDragging=!1,e}return __extends$M(e,t),e.prototype.init=function(){var t=this;this.dragService.addDragSource({dragStartPixels:0,eElement:this.getGui(),onDragStart:this.onDragStart.bind(this),onDragging:function(e){t.dragging=!0,t.rangeService.autoScrollService.check(e),t.changedCalculatedValues&&(t.onDrag(e),t.changedCalculatedValues=!1)},onDragStop:function(e){t.dragging=!1,t.onDragEnd(e),t.clearValues(),t.rangeService.autoScrollService.ensureCleared(),document.body.classList.remove(t.getDraggingCssClass()),t.shouldDestroyOnEndDragging&&t.destroy()}}),this.addManagedListener(this.getGui(),"mousedown",this.preventRangeExtension.bind(this))},e.prototype.isDragging=function(){return this.dragging},e.prototype.getCellCtrl=function(){return this.cellCtrl},e.prototype.setCellCtrl=function(t){this.cellCtrl=t},e.prototype.getCellRange=function(){return this.cellRange},e.prototype.setCellRange=function(t){this.cellRange=t},e.prototype.getRangeStartRow=function(){return this.rangeStartRow},e.prototype.setRangeStartRow=function(t){this.rangeStartRow=t},e.prototype.getRangeEndRow=function(){return this.rangeEndRow},e.prototype.setRangeEndRow=function(t){this.rangeEndRow=t},e.prototype.getLastCellHovered=function(){return this.lastCellHovered},e.prototype.preventRangeExtension=function(t){t.stopPropagation()},e.prototype.onDragStart=function(t){this.cellHoverListener=this.addManagedListener(this.ctrlsService.getGridCtrl().getGui(),"mousemove",this.updateValuesOnMove.bind(this)),document.body.classList.add(this.getDraggingCssClass())},e.prototype.getDraggingCssClass=function(){return"ag-dragging-"+(this.type===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Lm6.FILL?"fill":"range")+"-handle"},e.prototype.updateValuesOnMove=function(t){var e=this.mouseEventService.getCellPositionForEvent(t);!e||this.lastCellHovered&&this.cellPositionUtils.equals(e,this.lastCellHovered)||(this.lastCellHovered=e,this.changedCalculatedValues=!0)},e.prototype.getType=function(){return this.type},e.prototype.refresh=function(t){var e=this.getCellCtrl(),n=this.getGui(),i=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(this.rangeService.getCellRanges()),o=i.startRow,r=i.endRow;o&&r&&(this.rowPositionUtils.before(r,o)?(this.setRangeStartRow(r),this.setRangeEndRow(o)):(this.setRangeStartRow(o),this.setRangeEndRow(r)));if(e!==t||!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.isVisible(n)){this.setCellCtrl(t);var s=t.getComp().getParentOfValue();s&&s.appendChild(n)}this.setCellRange(i)},e.prototype.clearValues=function(){this.lastCellHovered=void 0,this.removeListeners()},e.prototype.removeListeners=function(){this.cellHoverListener&&(this.cellHoverListener(),this.cellHoverListener=void 0)},e.prototype.destroy=function(){if(!this.shouldDestroyOnEndDragging&&this.isDragging())return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.getGui(),!1),void(this.shouldDestroyOnEndDragging=!0);this.shouldDestroyOnEndDragging=!1,t.prototype.destroy.call(this),this.removeListeners();var e=this.getGui();e.parentElement&&e.parentElement.removeChild(e)},__decorate$I([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowRenderer")],e.prototype,"rowRenderer",void 0),__decorate$I([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("dragService")],e.prototype,"dragService",void 0),__decorate$I([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rangeService")],e.prototype,"rangeService",void 0),__decorate$I([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("mouseEventService")],e.prototype,"mouseEventService",void 0),__decorate$I([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$I([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("cellNavigationService")],e.prototype,"cellNavigationService",void 0),__decorate$I([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("navigationService")],e.prototype,"navigationService",void 0),__decorate$I([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowPositionUtils")],e.prototype,"rowPositionUtils",void 0),__decorate$I([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("cellPositionUtils")],e.prototype,"cellPositionUtils",void 0),__decorate$I([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ctrlsService")],e.prototype,"ctrlsService",void 0),__decorate$I([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2);function findLineByLeastSquares(t){var e=t.length,n=0;if(e<=1)return t;for(var i=0;i<t.length;i++){var o=t[i],r=o.toString().split("e-");r.length>1?n=Math.max(n,parseInt(r[1],10)):Math.floor(o)!==o&&(n=Math.max(n,o.toString().split(".")[1].length))}for(var s=0,a=0,l=0,c=0,u=0,h=0;h<e;h++)s+=h,a+=u=t[h],c+=h*h,l+=h*u;var d=(e*l-s*a)/(e*c-s*s),p=a/e-d*s/e,f=[];for(h=0;h<=e;h++)f.push(parseFloat((h*d+p).toFixed(n)));return f}var __extends$L=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__assign$8=function(){return __assign$8=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},__assign$8.apply(this,arguments)},__decorate$H=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},__read$b=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},__spread$5=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$b(arguments[e]));return t},FillHandle=function(t){function e(){var n=t.call(this,e.TEMPLATE)||this;return n.markedCells=[],n.cellValues=[],n.isUp=!1,n.isLeft=!1,n.isReduce=!1,n.type=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Lm6.FILL,n}return __extends$L(e,t),e.prototype.updateValuesOnMove=function(e){t.prototype.updateValuesOnMove.call(this,e),this.initialXY||(this.initialXY=this.mouseEventService.getNormalisedPosition(e));var n,i=this.initialXY,o=i.x,r=i.y,s=this.mouseEventService.getNormalisedPosition(e),a=s.x,l=s.y,c=Math.abs(o-a),u=Math.abs(r-l),h=this.getFillHandleDirection();(n="xy"===h?c>u?"x":"y":h)!==this.dragAxis&&(this.dragAxis=n,this.changedCalculatedValues=!0)},e.prototype.onDrag=function(t){if(!this.initialPosition){var e=this.getCellCtrl();if(!e)return;this.initialPosition=e.getCellPosition()}var n=this.getLastCellHovered();n&&this.markPathFrom(this.initialPosition,n)},e.prototype.onDragEnd=function(t){if(this.initialXY=null,this.markedCells.length){var e,n="x"===this.dragAxis,i=this.getCellRange(),o=i.columns.length,r=this.getRangeStartRow(),s=this.getRangeEndRow();if(this.isUp||this.isLeft){var a=n?r:this.lastCellMarked;e=this.rangeService.createCellRangeFromCellRangeParams({rowStartIndex:a.rowIndex,rowStartPinned:a.rowPinned,columnStart:n?this.lastCellMarked.column:i.columns[0],rowEndIndex:s.rowIndex,rowEndPinned:s.rowPinned,columnEnd:i.columns[o-1]})}else e=this.rangeService.createCellRangeFromCellRangeParams({rowStartIndex:r.rowIndex,rowStartPinned:r.rowPinned,columnStart:i.columns[0],rowEndIndex:n?s.rowIndex:this.lastCellMarked.rowIndex,rowEndPinned:n?s.rowPinned:this.lastCellMarked.rowPinned,columnEnd:n?this.lastCellMarked.column:i.columns[o-1]});e&&(this.raiseFillStartEvent(),this.handleValueChanged(i,e,t),this.rangeService.setCellRanges([e]),this.raiseFillEndEvent(i,e))}},e.prototype.getFillHandleDirection=function(){var t=this.gridOptionsService.get("fillHandleDirection");return t?"x"!==t&&"y"!==t&&"xy"!==t?(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce((function(){return console.warn("AG Grid: valid values for fillHandleDirection are 'x', 'y' and 'xy'. Default to 'xy'.")}),"warn invalid fill direction"),"xy"):t:"xy"},e.prototype.raiseFillStartEvent=function(){var t={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_FILL_START};this.eventService.dispatchEvent(t)},e.prototype.raiseFillEndEvent=function(t,e){var n={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_FILL_END,initialRange:t,finalRange:e};this.eventService.dispatchEvent(n)},e.prototype.handleValueChanged=function(t,e,n){var i=this,o=this.rangeService.getRangeEndRow(t),r=this.rangeService.getRangeStartRow(t),s=this.rangeService.getRangeEndRow(e),a=this.rangeService.getRangeStartRow(e),l="y"===this.dragAxis;if(!this.isReduce||this.gridOptionsService.is("suppressClearOnFillReduction")){var c=!0,u=[],h=[],d=0,p=function(){u.length=0,h.length=0,d=0},f=function(e,n){var h=i.isUp?o:r,d=!1;l&&(c=!0,p());for(var f=function(){var f=i.rowPositionUtils.getRowNode(h);if(!f)return"break";l&&e?g(u,e,f,(function(){return!i.rowPositionUtils.sameRow(h,i.isUp?r:o)})):n&&(c=!0,p(),n.forEach((function(e){return g(u,e,f,(function(){return e!==(i.isLeft?t.columns[0]:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(t.columns))}))}))),d=i.rowPositionUtils.sameRow(h,i.isUp?a:s),h=i.isUp?i.cellNavigationService.getRowAbove(h):i.cellNavigationService.getRowBelow(h)};!d&&h;){if("break"===f())break}},g=function(t,e,o,r){var s,a=!1;if(c)s=i.valueService.getValue(e,o),h.push(s),c=r();else{var l=i.processValues(n,t,h,e,o,d++),u=l.value,p=l.fromUserFunction;if(s=u,e.isCellEditable(o)){var f=i.valueService.getValue(e,o);p&&f===s?a=!0:o.setDataValue(e,s,"rangeService")}}a||t.push(s)};if(l)t.columns.forEach((function(t){f(t)}));else{m=this.isLeft?__spread$5(e.columns).reverse():e.columns;f(void 0,m)}}else{var m=l?t.columns:t.columns.filter((function(t){return e.columns.indexOf(t)<0})),_=l?this.cellNavigationService.getRowBelow(s):a;_&&this.clearCellsInRange(_,o,m)}},e.prototype.clearCellsInRange=function(t,e,n){var i={startRow:t,endRow:e,columns:n,startColumn:n[0]};this.rangeService.clearCellRangeCellValues([i])},e.prototype.processValues=function(t,e,n,i,o,r){var s,a=this.gridOptionsService.getCallback("fillOperation");if(s="y"===this.dragAxis?this.isUp?"up":"down":this.isLeft?"left":"right",a){var l=a({event:t,values:e,initialValues:n,currentIndex:r,currentCellValue:this.valueService.getValue(i,o),direction:s,column:i,rowNode:o});if(!1!==l)return{value:l,fromUserFunction:!0}}var c=!e.some((function(t){var e=parseFloat(t);return isNaN(e)||e.toString()!==t.toString()}));if(t.altKey||!c){if(c&&1===n.length){var u=this.isUp||this.isLeft?-1:1;return{value:parseFloat(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(e))+1*u,fromUserFunction:!1}}return{value:e[r%e.length],fromUserFunction:!1}}return{value:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(findLineByLeastSquares(e.map(Number))),fromUserFunction:!1}},e.prototype.clearValues=function(){this.clearMarkedPath(),this.clearCellValues(),this.lastCellMarked=void 0,t.prototype.clearValues.call(this)},e.prototype.clearMarkedPath=function(){this.markedCells.forEach((function(t){if(t.isAlive()){var e=t.getComp();e.addOrRemoveCssClass("ag-selection-fill-top",!1),e.addOrRemoveCssClass("ag-selection-fill-right",!1),e.addOrRemoveCssClass("ag-selection-fill-bottom",!1),e.addOrRemoveCssClass("ag-selection-fill-left",!1)}})),this.markedCells.length=0,this.isUp=!1,this.isLeft=!1,this.isReduce=!1},e.prototype.clearCellValues=function(){this.cellValues.length=0},e.prototype.markPathFrom=function(t,e){if(this.clearMarkedPath(),this.clearCellValues(),"y"===this.dragAxis){if(this.rowPositionUtils.sameRow(e,t))return;var n=this.rowPositionUtils.before(e,t),i=this.getRangeStartRow(),o=this.getRangeEndRow();n&&(e.rowPinned==i.rowPinned&&e.rowIndex>=i.rowIndex||i.rowPinned!=o.rowPinned&&e.rowPinned==o.rowPinned&&e.rowIndex<=o.rowIndex)?(this.reduceVertical(t,e),this.isReduce=!0):(this.extendVertical(t,e,n),this.isReduce=!1)}else{var r=t.column,s=e.column;if(r===s)return;var a=this.columnModel.getAllDisplayedColumns(),l=a.indexOf(r),c=a.indexOf(s);c<=l&&c>=a.indexOf(this.getCellRange().columns[0])?(this.reduceHorizontal(t,e),this.isReduce=!0):(this.extendHorizontal(t,e,c<l),this.isReduce=!1)}this.lastCellMarked=e},e.prototype.extendVertical=function(t,e,n){var i=this.navigationService,o=this.rangeService,r=t;do{for(var s=this.getCellRange(),a=s.columns.length,l=0;l<a;l++){var c=s.columns[l],u={rowIndex:r.rowIndex,rowPinned:r.rowPinned},h=__assign$8(__assign$8({},u),{column:c}),d=o.isCellInSpecificRange(h,s),p=this.rowPositionUtils.sameRow(r,t);if(n&&(this.isUp=!0),!p){var f=i.getCellByPosition(h);if(f){this.markedCells.push(f);var g=f.getComp();d||(g.addOrRemoveCssClass("ag-selection-fill-left",0===l),g.addOrRemoveCssClass("ag-selection-fill-right",l===a-1)),g.addOrRemoveCssClass(n?"ag-selection-fill-top":"ag-selection-fill-bottom",this.rowPositionUtils.sameRow(r,e))}}}if(this.rowPositionUtils.sameRow(r,e))break}while(r=n?this.cellNavigationService.getRowAbove(r):this.cellNavigationService.getRowBelow(r))},e.prototype.reduceVertical=function(t,e){var n=t;do{for(var i=this.getCellRange(),o=i.columns.length,r=this.rowPositionUtils.sameRow(n,e),s=0;s<o;s++){var a={rowIndex:n.rowIndex,rowPinned:n.rowPinned},l=__assign$8(__assign$8({},a),{column:i.columns[s]}),c=this.navigationService.getCellByPosition(l);if(c)this.markedCells.push(c),c.getComp().addOrRemoveCssClass("ag-selection-fill-bottom",this.rowPositionUtils.sameRow(n,e))}if(r)break}while(n=this.cellNavigationService.getRowAbove(n))},e.prototype.extendHorizontal=function(t,e,n){var i=this,o=this.columnModel.getAllDisplayedColumns(),r=o.indexOf(n?e.column:t.column),s=o.indexOf(n?this.getCellRange().columns[0]:e.column),a=n?0:1,l=o.slice(r+a,s+a),c=this.getRangeStartRow(),u=this.getRangeEndRow();l.forEach((function(t){var e=c,o=!1;do{o=i.rowPositionUtils.sameRow(e,u);var r=i.navigationService.getCellByPosition({rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:t});if(r){i.markedCells.push(r);var s=r.getComp();s.addOrRemoveCssClass("ag-selection-fill-top",i.rowPositionUtils.sameRow(e,c)),s.addOrRemoveCssClass("ag-selection-fill-bottom",i.rowPositionUtils.sameRow(e,u)),n?(i.isLeft=!0,s.addOrRemoveCssClass("ag-selection-fill-left",t===l[0])):s.addOrRemoveCssClass("ag-selection-fill-right",t===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(l))}e=i.cellNavigationService.getRowBelow(e)}while(!o)}))},e.prototype.reduceHorizontal=function(t,e){var n=this,i=this.columnModel.getAllDisplayedColumns(),o=i.indexOf(e.column),r=i.indexOf(t.column),s=i.slice(o,r),a=this.getRangeStartRow(),l=this.getRangeEndRow();s.forEach((function(t){var e=a,i=!1;do{i=n.rowPositionUtils.sameRow(e,l);var o=n.navigationService.getCellByPosition({rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:t});if(o)n.markedCells.push(o),o.getComp().addOrRemoveCssClass("ag-selection-fill-right",t===s[0]);e=n.cellNavigationService.getRowBelow(e)}while(!i)}))},e.prototype.refresh=function(e){var n=this.rangeService.getCellRanges()[0];n.startRow&&n.endRow?t.prototype.refresh.call(this,e):this.destroy()},e.TEMPLATE='<div class="ag-fill-handle"></div>',__decorate$H([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("valueService")],e.prototype,"valueService",void 0),e}(AbstractSelectionHandle),__extends$K=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__assign$7=function(){return __assign$7=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},__assign$7.apply(this,arguments)},RangeHandle=function(t){function e(){var n=t.call(this,e.TEMPLATE)||this;return n.type=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Lm6.RANGE,n.rangeFixed=!1,n}return __extends$K(e,t),e.prototype.onDrag=function(t){var e=this.getLastCellHovered();if(e){var n=this.rangeService.getCellRanges(),i=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(n);if(this.rangeFixed||(this.fixRangeStartEnd(i),this.rangeFixed=!0),this.endPosition={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column},2===n.length&&n[0].type===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.StC.DIMENSION&&i.type===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.StC.VALUE)!this.rowPositionUtils.sameRow(this.endPosition,this.rangeService.getRangeEndRow(i))&&this.rangeService.updateRangeEnd(n[0],__assign$7(__assign$7({},this.endPosition),{column:n[0].columns[0]}),!0);this.rangeService.extendLatestRangeToCell(this.endPosition)}},e.prototype.onDragEnd=function(t){var e=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(this.rangeService.getCellRanges());this.fixRangeStartEnd(e),this.rangeFixed=!1},e.prototype.fixRangeStartEnd=function(t){var e=this.rangeService.getRangeStartRow(t),n=this.rangeService.getRangeEndRow(t),i=t.columns[0];t.startRow=e,t.endRow=n,t.startColumn=i},e.TEMPLATE='<div class="ag-range-handle"></div>',e}(AbstractSelectionHandle),__extends$J=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$G=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},SelectionHandleFactory=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$J(e,t),e.prototype.createSelectionHandle=function(t){return this.createBean(t===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Lm6.RANGE?new RangeHandle:new FillHandle)},e=__decorate$G([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("selectionHandleFactory")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),VERSION$9="29.3.4",RangeSelectionModule={version:VERSION$9,moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.RangeSelectionModule,beans:[RangeService,SelectionHandleFactory],agStackComponents:[{componentName:"AgFillHandle",componentClass:FillHandle},{componentName:"AgRangeHandle",componentClass:RangeHandle}],dependantModules:[EnterpriseCoreModule]},__extends$I=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$F=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},__read$a=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},AgColorPanel=function(t){function e(n){var i=t.call(this,e.TEMPLATE)||this;return i.H=1,i.S=1,i.B=1,i.A=1,i.isSpectrumDragging=!1,i.isSpectrumHueDragging=!1,i.isSpectrumAlphaDragging=!1,i.colorChanged=!1,i.picker=n.picker,i}return __extends$I(e,t),e.prototype.postConstruct=function(){var t=this.getGui();this.initRecentColors(),this.addManagedListener(this.spectrumVal,"mousedown",this.onSpectrumDraggerDown.bind(this)),this.addManagedListener(t,"mousemove",this.onSpectrumDraggerMove.bind(this)),this.addManagedListener(this.spectrumHue,"mousedown",this.onSpectrumHueDown.bind(this)),this.addManagedListener(t,"mousemove",this.onSpectrumHueMove.bind(this)),this.addManagedListener(this.spectrumAlpha,"mousedown",this.onSpectrumAlphaDown.bind(this)),this.addManagedListener(t,"mousemove",this.onSpectrumAlphaMove.bind(this)),this.addManagedListener(document,"mouseup",this.onMouseUp.bind(this)),this.addManagedListener(this.recentColors,"click",this.onRecentColorClick.bind(this))},e.prototype.refreshSpectrumRect=function(){return this.spectrumValRect=this.spectrumVal.getBoundingClientRect()},e.prototype.refreshHueRect=function(){return this.spectrumHueRect=this.spectrumHue.getBoundingClientRect()},e.prototype.refreshAlphaRect=function(){return this.spectrumAlphaRect=this.spectrumAlpha.getBoundingClientRect()},e.prototype.onSpectrumDraggerDown=function(t){this.refreshSpectrumRect(),this.isSpectrumDragging=!0,this.moveDragger(t)},e.prototype.onSpectrumDraggerMove=function(t){this.isSpectrumDragging&&this.moveDragger(t)},e.prototype.onSpectrumHueDown=function(t){this.refreshHueRect(),this.isSpectrumHueDragging=!0,this.moveHueSlider(t)},e.prototype.onSpectrumHueMove=function(t){this.isSpectrumHueDragging&&this.moveHueSlider(t)},e.prototype.onSpectrumAlphaDown=function(t){this.refreshAlphaRect(),this.isSpectrumAlphaDragging=!0,this.moveAlphaSlider(t)},e.prototype.onSpectrumAlphaMove=function(t){this.isSpectrumAlphaDragging&&this.moveAlphaSlider(t)},e.prototype.onMouseUp=function(){this.isSpectrumDragging=!1,this.isSpectrumHueDragging=!1,this.isSpectrumAlphaDragging=!1},e.prototype.moveDragger=function(t){var e=this.spectrumValRect;if(e){var n=t.clientX-e.left,i=t.clientY-e.top;n=Math.max(n,0),n=Math.min(n,e.width),i=Math.max(i,0),i=Math.min(i,e.height),this.setSpectrumValue(n/e.width,1-i/e.height)}},e.prototype.moveHueSlider=function(t){var e=this.spectrumHueRect;if(e){var n=this.spectrumHueSlider,i=n.getBoundingClientRect(),o=t.clientX-e.left;o=Math.max(o,0),o=Math.min(o,e.width),this.H=1-o/e.width,n.style.left=o+i.width/2+"px",this.update()}},e.prototype.moveAlphaSlider=function(t){var e=this.spectrumAlphaRect;if(e){var n=this.spectrumAlphaSlider,i=n.getBoundingClientRect(),o=t.clientX-e.left;o=Math.max(o,0),o=Math.min(o,e.width),this.A=o/e.width,n.style.left=o+i.width/2+"px",this.update()}},e.prototype.update=function(){var t=Color.fromHSB(360*this.H,this.S,this.B,this.A),e=Color.fromHSB(360*this.H,1,1),n=t.toRgbaString(),i=this.picker;Color.fromString(i.getValue()).toRgbaString()!==n&&(this.colorChanged=!0),i.setValue(n),this.spectrumColor.style.backgroundColor=e.toRgbaString(),this.spectrumDragger.style.backgroundColor=n},e.prototype.setSpectrumValue=function(t,e){var n=this.spectrumValRect||this.refreshSpectrumRect();if(n){var i=this.spectrumDragger,o=i.getBoundingClientRect();t=Math.max(0,t),t=Math.min(1,t),e=Math.max(0,e),e=Math.min(1,e),this.S=t,this.B=e,i.style.left=t*n.width-o.width/2+"px",i.style.top=(1-e)*n.height-o.height/2+"px",this.update()}},e.prototype.initRecentColors=function(){var t=e.recentColors.map((function(t,e){return'<div class="ag-recent-color" id='+e+' style="background-color: '+t+'; width: 15px; height: 15px;" recent-color="'+t+'"></div>'}));this.recentColors.innerHTML=t.join("")},e.prototype.setValue=function(t){var e=Color.fromString(t),n=__read$a(e.toHSB(),3),i=n[0],o=n[1],r=n[2];this.H=(isNaN(i)?0:i)/360,this.A=e.a;var s=this.spectrumHueRect||this.refreshHueRect(),a=this.spectrumAlphaRect||this.refreshAlphaRect();this.spectrumHueSlider.style.left=(this.H-1)*-s.width+"px",this.spectrumAlphaSlider.style.left=this.A*a.width+"px",this.setSpectrumValue(o,r)},e.prototype.onRecentColorClick=function(t){var n=t.target;if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(n.id)){var i=parseInt(n.id,10);this.setValue(e.recentColors[i]),this.destroy()}},e.prototype.addRecentColor=function(){var t=Color.fromHSB(360*this.H,this.S,this.B,this.A).toRgbaString(),n=e.recentColors;this.colorChanged&&n[0]!==t&&(n=n.filter((function(e){return e!=t})),(n=[t].concat(n)).length>e.maxRecentColors&&(n=n.slice(0,e.maxRecentColors)),e.recentColors=n)},e.prototype.destroy=function(){this.addRecentColor(),t.prototype.destroy.call(this)},e.maxRecentColors=8,e.recentColors=[],e.TEMPLATE='<div class="ag-color-panel">\n            <div ref="spectrumColor" class="ag-spectrum-color">\n                <div class="ag-spectrum-sat ag-spectrum-fill">\n                    <div ref="spectrumVal" class="ag-spectrum-val ag-spectrum-fill">\n                        <div ref="spectrumDragger" class="ag-spectrum-dragger"></div>\n                    </div>\n                </div>\n            </div>\n            <div class="ag-spectrum-tools">\n                <div ref="spectrumHue" class="ag-spectrum-hue ag-spectrum-tool">\n                    <div class="ag-spectrum-hue-background"></div>\n                    <div ref="spectrumHueSlider" class="ag-spectrum-slider"></div>\n                </div>\n                <div ref="spectrumAlpha" class="ag-spectrum-alpha ag-spectrum-tool">\n                    <div class="ag-spectrum-alpha-background"></div>\n                    <div ref="spectrumAlphaSlider" class="ag-spectrum-slider"></div>\n                </div>\n                <div ref="recentColors" class="ag-recent-colors"></div>\n            </div>\n        </div>',__decorate$F([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("spectrumColor")],e.prototype,"spectrumColor",void 0),__decorate$F([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("spectrumVal")],e.prototype,"spectrumVal",void 0),__decorate$F([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("spectrumDragger")],e.prototype,"spectrumDragger",void 0),__decorate$F([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("spectrumHue")],e.prototype,"spectrumHue",void 0),__decorate$F([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("spectrumHueSlider")],e.prototype,"spectrumHueSlider",void 0),__decorate$F([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("spectrumAlpha")],e.prototype,"spectrumAlpha",void 0),__decorate$F([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("spectrumAlphaSlider")],e.prototype,"spectrumAlphaSlider",void 0),__decorate$F([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("recentColors")],e.prototype,"recentColors",void 0),__decorate$F([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$H=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),AgColorPicker=function(t){function e(e){var n=t.call(this,e,"ag-color-picker","colorPicker")||this;return e&&e.color&&(n.value=e.color),n}return __extends$H(e,t),e.prototype.postConstruct=function(){t.prototype.postConstruct.call(this),this.value&&this.setValue(this.value)},e.prototype.showPicker=function(){var t=this,e=this.getGui().getBoundingClientRect(),n=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.$zI({closable:!1,modal:!0,hideTitleBar:!0,minWidth:190,width:190,height:250,x:e.right-190,y:e.top-250}));this.isPickerDisplayed=!0,n.addCssClass("ag-color-dialog"),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaExpanded(this.eWrapper,!0);var i=this.createBean(new AgColorPanel({picker:this}));return i.addDestroyFunc((function(){n.isAlive()&&t.destroyBean(n)})),n.setParentComponent(this),n.setBodyComponent(i),i.setValue(this.getValue()),n.addDestroyFunc((function(){t.isDestroyingPicker?t.isDestroyingPicker=!1:(t.isDestroyingPicker=!0,i.isAlive()&&t.destroyBean(i)),t.isAlive()&&(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaExpanded(t.eWrapper,!1),t.getFocusableElement().focus()),t.isPickerDisplayed=!1})),n},e.prototype.setValue=function(e){return this.value===e?this:(this.eDisplayField.style.backgroundColor=e,t.prototype.setValue.call(this,e))},e.prototype.getValue=function(){return this.value},e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.MQo),__read$9=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},VERSION_CHECKING_FIRST_GRID_MAJOR_VERSION=28,VERSION_CHECKING_FIRST_CHARTS_MAJOR_VERSION=6;function isValidVersion(t){return t&&t.match(/\d+\.\d+\.\d+/)}function isValidMajorVersion(t){var e=t.gridMajorVersion,n=t.chartsMajorVersion,i=parseInt(e,10),o=parseInt(n,10),r=i-VERSION_CHECKING_FIRST_GRID_MAJOR_VERSION;return r===o-VERSION_CHECKING_FIRST_CHARTS_MAJOR_VERSION&&r>=0}function gridChartVersion(t){if(t&&isValidVersion(t)){var e=__read$9(t.split(".")||[],2),n=e[0],i=e[1],o=n+"."+i+".x",r=parseInt(n,10)-VERSION_CHECKING_FIRST_GRID_MAJOR_VERSION+VERSION_CHECKING_FIRST_CHARTS_MAJOR_VERSION;if(!(r<0))return{gridMajorMinor:o,chartsMajorMinor:r+"."+i+".x"}}}function validGridChartsVersionErrorMessage(t){var e=t.type,n=t.gridVersion,i=t.chartsVersion,o="AG Grid: AG Grid version is incompatible. Please see https://www.ag-grid.com/javascript-data-grid/modules/ for more information.";if(!n)return o;var r=gridChartVersion(n);if(!r)return o;var s=r.gridMajorMinor,a=r.chartsMajorMinor;return"incompatible"===e?"AG Grid version "+n+" and AG Charts version "+i+" is not supported. AG Grid version "+s+" should be used with AG Chart "+a+". Please see https://www.ag-grid.com/javascript-data-grid/modules/ for more information.":"invalidCharts"===e?"AG Grid version "+s+" should be used with AG Chart "+a+". Please see https://www.ag-grid.com/javascript-data-grid/modules/ for more information.":o}function validGridChartsVersion(t){var e=t.gridVersion,n=t.chartsVersion;if(!isValidVersion(n))return{isValid:!1,message:validGridChartsVersionErrorMessage({type:"invalidCharts",gridVersion:e,chartsVersion:n})};if(!isValidVersion(e))return{isValid:!1,message:validGridChartsVersionErrorMessage({type:"invalidGrid",gridVersion:e,chartsVersion:n})};var i=__read$9(e.split(".")||[],2),o=i[0],r=i[1],s=__read$9(n.split(".")||[],2),a=s[0],l=s[1],c=isValidMajorVersion({gridMajorVersion:o,chartsMajorVersion:a});return c&&r===l?{isValid:!0}:c&&r===l?{isValid:!1,message:validGridChartsVersionErrorMessage({type:"invalid",gridVersion:e,chartsVersion:n})}:{isValid:!1,message:validGridChartsVersionErrorMessage({type:"incompatible",gridVersion:e,chartsVersion:n})}}var GridChartsModule={version:VERSION$a,validate:function(){return validGridChartsVersion({gridVersion:VERSION$a,chartsVersion:ChartService.CHARTS_VERSION})},moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.GridChartsModule,beans:[ChartService,ChartTranslationService,ChartCrossFilterService],agStackComponents:[{componentName:"AgColorPicker",componentClass:AgColorPicker},{componentName:"AgAngleSelect",componentClass:AgAngleSelect}],dependantModules:[RangeSelectionModule,EnterpriseCoreModule]},__FORCE_MODULE_DETECTION_AG_GRID_CORE_EXT=0,agCharts={time,AgChart},__extends$G=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__assign$6=function(){return __assign$6=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},__assign$6.apply(this,arguments)},__decorate$E=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},DetailCellRendererCtrl=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.loadRowDataVersion=0,e.needRefresh=!1,e}return __extends$G(e,t),e.prototype.init=function(t,e){var n=this;this.params=e,this.comp=t,null!=e.pinned||(this.setAutoHeightClasses(),this.setupRefreshStrategy(),this.addThemeToDetailGrid(),this.createDetailGrid(),this.loadRowData(),this.addManagedListener(e.node.parent,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Fxk.EVENT_DATA_CHANGED,(function(){n.needRefresh=!0})),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_FULL_WIDTH_ROW_FOCUSED,this.onFullWidthRowFocused.bind(this)))},e.prototype.onFullWidthRowFocused=function(t){var e=this.params,n={rowIndex:e.node.rowIndex,rowPinned:e.node.rowPinned},i={rowIndex:t.rowIndex,rowPinned:t.rowPinned};this.rowPositionUtils.sameRow(n,i)&&this.focusService.focusInto(this.comp.getGui(),t.fromBelow)},e.prototype.setAutoHeightClasses=function(){var t=this.gridOptionsService.is("detailRowAutoHeight"),e=t?"ag-details-row-auto-height":"ag-details-row-fixed-height",n=t?"ag-details-grid-auto-height":"ag-details-grid-fixed-height";this.comp.addOrRemoveCssClass(e,!0),this.comp.addOrRemoveDetailGridCssClass(n,!0)},e.prototype.setupRefreshStrategy=function(){var t=this.params.refreshStrategy;"everything"==t||"nothing"==t||"rows"==t?this.refreshStrategy=t:(null!=t&&console.warn("AG Grid: invalid cellRendererParams.refreshStrategy = '"+t+"' supplied, defaulting to refreshStrategy = 'rows'."),this.refreshStrategy="rows")},e.prototype.addThemeToDetailGrid=function(){var t=this.environment.getTheme().theme;t&&this.comp.addOrRemoveDetailGridCssClass(t,!0)},e.prototype.createDetailGrid=function(){if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(this.params.detailGridOptions))console.warn("AG Grid: could not find detail grid options for master detail, please set gridOptions.detailCellRendererParams.detailGridOptions");else{var t=this.gridOptionsService.is("detailRowAutoHeight"),e=__assign$6({},this.params.detailGridOptions);t&&(e.domLayout="autoHeight"),this.comp.setDetailGrid(e)}},e.prototype.registerDetailWithMaster=function(t,e){var n=this.params.node.id,i=this.params.api,o={id:n,api:t,columnApi:e},r=this.params.node;i.addDetailGridInfo(n,o),r.detailGridInfo=o,this.addDestroyFunc((function(){r.detailGridInfo===o&&(i.removeDetailGridInfo(n),r.detailGridInfo=null)}))},e.prototype.loadRowData=function(){var t=this;this.loadRowDataVersion++;var e=this.loadRowDataVersion,n=this.params.getDetailRowData;if(n){n({node:this.params.node,data:this.params.node.data,successCallback:function(n){t.loadRowDataVersion===e&&t.comp.setRowData(n)},context:this.gridOptionsService.context})}else console.warn("AG Grid: could not find getDetailRowData for master / detail, please set gridOptions.detailCellRendererParams.getDetailRowData")},e.prototype.refresh=function(){return!this.needRefresh||"nothing"===this.refreshStrategy||(this.needRefresh=!1,"everything"!==this.refreshStrategy&&(this.loadRowData(),true))},__decorate$E([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowPositionUtils")],e.prototype,"rowPositionUtils",void 0),__decorate$E([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("focusService")],e.prototype,"focusService",void 0),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$F=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$D=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},DetailCellRenderer=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$F(e,t),e.prototype.init=function(t){var e=this;this.params=t,this.selectAndSetTemplate();var n={addOrRemoveCssClass:function(t,n){return e.addOrRemoveCssClass(t,n)},addOrRemoveDetailGridCssClass:function(t,n){return e.eDetailGrid.classList.toggle(t,n)},setDetailGrid:function(t){return e.setDetailGrid(t)},setRowData:function(t){return e.setRowData(t)},getGui:function(){return e.eDetailGrid}};this.ctrl=this.createManagedBean(new DetailCellRendererCtrl),this.ctrl.init(n,t)},e.prototype.refresh=function(){return this.ctrl&&this.ctrl.refresh()},e.prototype.destroy=function(){t.prototype.destroy.call(this)},e.prototype.selectAndSetTemplate=function(){var t=this;if(this.params.pinned)this.setTemplate('<div class="ag-details-row"></div>');else{var n=function(){t.setTemplate(e.TEMPLATE)};if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(this.params.template))n();else if("string"==typeof this.params.template)this.setTemplate(this.params.template);else if("function"==typeof this.params.template){var i=(0,this.params.template)(this.params);this.setTemplate(i)}else console.warn("AG Grid: detailCellRendererParams.template should be function or string"),n();null==this.eDetailGrid&&console.warn('AG Grid: reference to eDetailGrid was missing from the details template. Please add ref="eDetailGrid" to the template.')}},e.prototype.setDetailGrid=function(t){if(this.eDetailGrid){var e=this.context.getBean("agGridReact"),n=e?ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.cloneObject(e):void 0,i=this.context.getBean("frameworkComponentWrapper"),o=this.getFrameworkOverrides();new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.rjZ(this.eDetailGrid,t,{frameworkOverrides:o,providedBeanInstances:{agGridReact:n,frameworkComponentWrapper:i}}),this.detailApi=t.api,this.ctrl.registerDetailWithMaster(t.api,t.columnApi),this.addDestroyFunc((function(){t.api&&t.api.destroy()}))}},e.prototype.setRowData=function(t){this.detailApi&&this.detailApi.setRowData(t)},e.TEMPLATE='<div class="ag-details-row" role="gridcell">\n            <div ref="eDetailGrid" class="ag-details-grid" role="presentation"></div>\n        </div>',__decorate$D([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eDetailGrid")],e.prototype,"eDetailGrid",void 0),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),VERSION$8="29.3.4",MasterDetailModule={version:VERSION$8,moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.MasterDetailModule,beans:[],userComponents:[{componentName:"agDetailCellRenderer",componentClass:DetailCellRenderer}],controllers:[{controllerName:"detailCellRenderer",controllerClass:DetailCellRendererCtrl}],dependantModules:[EnterpriseCoreModule]},__extends$E=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$C=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},EnterpriseMenuFactory=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$E(e,t),e.prototype.hideActiveMenu=function(){this.destroyBean(this.activeMenu)},e.prototype.showMenuAfterMouseEvent=function(t,e,n){var i=this;this.showMenu(t,(function(o){var r=o.getGui();i.popupService.positionPopupUnderMouseEvent({type:"columnMenu",column:t,mouseEvent:e,ePopup:r}),n&&o.showTab(n)}),"columnMenu",n,void 0,e.target)},e.prototype.showMenuAfterButtonClick=function(t,e,n,i,o){var r=this,s=-1,a="left";this.gridOptionsService.is("enableRtl")&&(s=1,a="right"),this.showMenu(t,(function(o){var l=o.getGui();r.popupService.positionPopupByComponent({type:n,column:t,eventSource:e,ePopup:l,alignSide:a,nudgeX:9*s,nudgeY:-23,position:"under",keepWithinBounds:!0}),i&&o.showTab(i)}),n,i,o,e)},e.prototype.showMenu=function(t,e,n,i,o,r){var s=this,a=this.getMenuParams(t,o,r),l=a.menu,c=a.eMenuGui,u=a.currentHeaderPosition,h=a.currentColumnIndex,d=a.anchorToElement,p=[];p.push(this.getClosedCallback(t,l,u,h,r));var f=this.localeService.getLocaleTextFunc(),g=this.popupService.addPopup({modal:!0,eChild:c,closeOnEsc:!0,closedCallback:function(t){p.forEach((function(e){return e(t)}))},afterGuiAttached:function(t){return l.afterGuiAttached(Object.assign({},{container:n},t))},positionCallback:i?function(){return e(l)}:void 0,anchorToElement:d,ariaLabel:f("ariaLabelColumnMenu","Column Menu")});this.addStopAnchoring(null==g?void 0:g.stopAnchoringPromise,t,p),i||(l.showTabBasedOnPreviousSelection(),e(l)),l.addEventListener(EnterpriseMenu.EVENT_TAB_SELECTED,(function(t){s.lastSelectedTab=t.key})),t.setMenuVisible(!0,"contextMenu"),this.activeMenu=l,l.addEventListener(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9.EVENT_DESTROYED,(function(){s.activeMenu===l&&(s.activeMenu=null)}))},e.prototype.getClosedCallback=function(t,e,n,i,o){var r=this;return function(s){if(r.destroyBean(e),t.setMenuVisible(!1,"contextMenu"),s instanceof KeyboardEvent&&o)if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.isVisible(o)){var a=r.focusService.findTabbableParent(o);a&&(t&&r.headerNavigationService.scrollToColumn(t),a.focus())}else if(n&&-1!==i){var l=r.columnModel.getAllDisplayedColumns(),c=l[i]||ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(l);c&&r.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:n.headerRowIndex,column:c}})}}},e.prototype.addStopAnchoring=function(t,e,n){t&&t.then((function(t){e.addEventListener("leftChanged",t),e.addEventListener("visibleChanged",t),n.push((function(){e.removeEventListener("leftChanged",t),e.removeEventListener("visibleChanged",t)}))}))},e.prototype.getMenuParams=function(t,e,n){var i=this.createBean(new EnterpriseMenu(t,this.lastSelectedTab,e));return{menu:i,eMenuGui:i.getGui(),currentHeaderPosition:this.focusService.getFocusedHeader(),currentColumnIndex:this.columnModel.getAllDisplayedColumns().indexOf(t),anchorToElement:n||this.ctrlsService.getGridBodyCtrl().getGui()}},e.prototype.isMenuEnabled=function(t){return t.getMenuTabs(EnterpriseMenu.TABS_DEFAULT).length>0},__decorate$C([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("popupService")],e.prototype,"popupService",void 0),__decorate$C([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("focusService")],e.prototype,"focusService",void 0),__decorate$C([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("headerNavigationService")],e.prototype,"headerNavigationService",void 0),__decorate$C([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ctrlsService")],e.prototype,"ctrlsService",void 0),__decorate$C([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),e=__decorate$C([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("menuFactory")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),EnterpriseMenu=function(t){function e(n,i,o){var r=t.call(this)||this;return r.tabFactories={},r.includeChecks={},r.column=n,r.initialSelection=i,r.tabFactories[e.TAB_GENERAL]=r.createMainPanel.bind(r),r.tabFactories[e.TAB_FILTER]=r.createFilterPanel.bind(r),r.tabFactories[e.TAB_COLUMNS]=r.createColumnsPanel.bind(r),r.includeChecks[e.TAB_GENERAL]=function(){return!0},r.includeChecks[e.TAB_FILTER]=function(){return r.filterManager.isFilterAllowed(n)},r.includeChecks[e.TAB_COLUMNS]=function(){return!0},r.restrictTo=o,r}return __extends$E(e,t),e.prototype.init=function(){var t=this,e=this.getTabsToCreate().map((function(e){return t.createTab(e)}));this.tabbedLayout=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.WD6({items:e,cssClass:"ag-menu",onActiveItemClicked:this.onHidePopup.bind(this),onItemClicked:this.onTabItemClicked.bind(this)}),this.createBean(this.tabbedLayout),this.mainMenuList&&this.mainMenuList.setParentComponent(this.tabbedLayout),this.addDestroyFunc((function(){return t.destroyBean(t.tabbedLayout)}))},e.prototype.getTabsToCreate=function(){var t=this;return this.restrictTo?this.restrictTo:this.column.getMenuTabs(e.TABS_DEFAULT).filter((function(e){return t.isValidMenuTabItem(e)})).filter((function(e){return t.isNotSuppressed(e)})).filter((function(e){return t.isModuleLoaded(e)}))},e.prototype.isModuleLoaded=function(t){return t!==e.TAB_COLUMNS||ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.isRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.ColumnsToolPanelModule)},e.prototype.isValidMenuTabItem=function(t){var n=!0,i=e.TABS_DEFAULT;return null!=this.restrictTo&&(n=this.restrictTo.indexOf(t)>-1,i=this.restrictTo),(n=n&&e.TABS_DEFAULT.indexOf(t)>-1)||console.warn("AG Grid: Trying to render an invalid menu item '"+t+"'. Check that your 'menuTabs' contains one of ["+i+"]"),n},e.prototype.isNotSuppressed=function(t){return this.includeChecks[t]()},e.prototype.createTab=function(t){return this.tabFactories[t]()},e.prototype.showTabBasedOnPreviousSelection=function(){this.showTab(this.initialSelection)},e.prototype.showTab=function(t){this.tabItemColumns&&t===e.TAB_COLUMNS?this.tabbedLayout.showItem(this.tabItemColumns):this.tabItemFilter&&t===e.TAB_FILTER?this.tabbedLayout.showItem(this.tabItemFilter):this.tabItemGeneral&&t===e.TAB_GENERAL?this.tabbedLayout.showItem(this.tabItemGeneral):this.tabbedLayout.showFirstItem()},e.prototype.onTabItemClicked=function(t){var n=null;switch(t.item){case this.tabItemColumns:n=e.TAB_COLUMNS;break;case this.tabItemFilter:n=e.TAB_FILTER;break;case this.tabItemGeneral:n=e.TAB_GENERAL}n&&this.activateTab(n)},e.prototype.activateTab=function(t){var n={type:e.EVENT_TAB_SELECTED,key:t};this.dispatchEvent(n)},e.prototype.getMenuItems=function(){var t,n=this.getDefaultMenuOptions(),i=this.gridOptionsService.getCallback("getMainMenuItems");return t=i?i({column:this.column,defaultItems:n}):n,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeRepeatsFromArray(t,e.MENU_ITEM_SEPARATOR),t},e.prototype.getDefaultMenuOptions=function(){var t=[],n=!this.column.getColDef().lockPinned,i=this.columnModel.getRowGroupColumns().length,o=i>0,r=this.columnModel.getRowGroupColumns().indexOf(this.column)>=0,s=this.column.isAllowValue(),a=this.column.isAllowRowGroup(),l=this.column.isPrimary(),c=this.columnModel.isPivotMode(),u="clientSide"===this.rowModel.getType(),h=this.gridOptionsService.isTreeData(),d=l&&o&&s||!l;return n&&t.push("pinSubMenu"),d&&t.push("valueAggSubMenu"),(n||d)&&t.push(e.MENU_ITEM_SEPARATOR),t.push("autoSizeThis"),t.push("autoSizeAll"),t.push(e.MENU_ITEM_SEPARATOR),a&&this.column.isPrimary()&&(r?t.push("rowUnGroup"):t.push("rowGroup")),t.push(e.MENU_ITEM_SEPARATOR),t.push("resetColumns"),u&&(h||i>(c?1:0))&&(t.push("expandAll"),t.push("contractAll")),t},e.prototype.createMainPanel=function(){this.mainMenuList=this.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O_3);var t=this.getMenuItems(),n=this.menuItemMapper.mapWithStockItems(t,this.column);return this.mainMenuList.addMenuItems(n),this.mainMenuList.addEventListener(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sJC.EVENT_MENU_ITEM_SELECTED,this.onHidePopup.bind(this)),this.tabItemGeneral={title:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("menu",this.gridOptionsService,this.column),titleLabel:e.TAB_GENERAL.replace("MenuTab",""),bodyPromise:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S.resolve(this.mainMenuList.getGui()),name:e.TAB_GENERAL},this.tabItemGeneral},e.prototype.onHidePopup=function(t){var e;t&&t.event&&t.event instanceof KeyboardEvent&&(e=t.event),this.hidePopupFunc(e&&{keyboardEvent:e});var n=this.focusService.getFocusedCell(),i=this.gridOptionsService.getDocument();if(i.activeElement===i.body&&n){var o=n.rowIndex,r=n.rowPinned,s=n.column;this.focusService.setFocusedCell({rowIndex:o,column:s,rowPinned:r,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}},e.prototype.createFilterPanel=function(){var t=this.filterManager.getOrCreateFilterWrapper(this.column,"COLUMN_MENU");if(!t)throw new Error("AG Grid - Unable to instantiate filter");return this.tabItemFilter={title:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("filter",this.gridOptionsService,this.column),titleLabel:e.TAB_FILTER.replace("MenuTab",""),bodyPromise:null==t?void 0:t.guiPromise,afterAttachedCallback:function(e){(null==t?void 0:t.filterPromise)&&t.filterPromise.then((function(t){t&&t.afterGuiAttached&&t.afterGuiAttached(e)}))},afterDetachedCallback:function(){var e;return null===(e=null==t?void 0:t.filterPromise)||void 0===e?void 0:e.then((function(t){var e;return null===(e=null==t?void 0:t.afterGuiDetached)||void 0===e?void 0:e.call(t)}))},name:e.TAB_FILTER},this.tabItemFilter},e.prototype.createColumnsPanel=function(){var t=document.createElement("div");t.classList.add("ag-menu-column-select-wrapper");var n=this.createManagedBean(new PrimaryColsPanel),i=this.column.getColDef().columnsMenuParams;i||(i={});var o=i.contractColumnSelection,r=i.suppressColumnExpandAll,s=i.suppressColumnFilter,a=i.suppressColumnSelectAll,l=i.suppressSyncLayoutWithGrid,c=i.columnLayout;n.init(!1,{suppressColumnMove:!1,suppressValues:!1,suppressPivots:!1,suppressRowGroups:!1,suppressPivotMode:!1,contractColumnSelection:!!o,suppressColumnExpandAll:!!r,suppressColumnFilter:!!s,suppressColumnSelectAll:!!a,suppressSyncLayoutWithGrid:!!c||!!l,api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsService.context},"columnMenu"),c&&n.setColumnLayout(c);var u=n.getGui();return u.classList.add("ag-menu-column-select"),t.appendChild(u),this.tabItemColumns={title:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("columns",this.gridOptionsService,this.column),titleLabel:e.TAB_COLUMNS.replace("MenuTab",""),bodyPromise:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S.resolve(t),name:e.TAB_COLUMNS},this.tabItemColumns},e.prototype.afterGuiAttached=function(t){var e=t.container,n=t.hidePopup;this.tabbedLayout.setAfterAttachedParams({container:e,hidePopup:n}),n&&(this.hidePopupFunc=n,this.addDestroyFunc(n))},e.prototype.getGui=function(){return this.tabbedLayout.getGui()},e.EVENT_TAB_SELECTED="tabSelected",e.TAB_FILTER="filterMenuTab",e.TAB_GENERAL="generalMenuTab",e.TAB_COLUMNS="columnsMenuTab",e.TABS_DEFAULT=[e.TAB_GENERAL,e.TAB_FILTER,e.TAB_COLUMNS],e.MENU_ITEM_SEPARATOR="separator",__decorate$C([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$C([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("filterManager")],e.prototype,"filterManager",void 0),__decorate$C([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],e.prototype,"gridApi",void 0),__decorate$C([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnApi")],e.prototype,"columnApi",void 0),__decorate$C([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("menuItemMapper")],e.prototype,"menuItemMapper",void 0),__decorate$C([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowModel")],e.prototype,"rowModel",void 0),__decorate$C([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("focusService")],e.prototype,"focusService",void 0),__decorate$C([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$D=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__assign$5=function(){return __assign$5=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},__assign$5.apply(this,arguments)},__decorate$B=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},CSS_MENU="ag-menu",CSS_CONTEXT_MENU_OPEN="ag-context-menu-open",ContextMenuFactory=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$D(e,t),e.prototype.hideActiveMenu=function(){this.destroyBean(this.activeMenu)},e.prototype.getMenuItems=function(t,e,n){var i=[];if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(t)&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.isRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.ClipboardModule)&&e&&(this.gridOptionsService.is("suppressCutToClipboard")||i.push("cut"),i.push("copy","copyWithHeaders","copyWithGroupHeaders","paste","separator")),this.gridOptionsService.is("enableCharts")&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.isRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.GridChartsModule)&&(this.columnModel.isPivotMode()&&i.push("pivotChart"),this.rangeService&&!this.rangeService.isEmpty()&&i.push("chartRange")),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(t)){var o=!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.isRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.CsvExportModule),r=!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.isRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.ExcelExportModule),s=this.gridOptionsService.is("suppressExcelExport")||r,a=this.gridOptionsService.is("suppressCsvExport")||o;!(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.isIOSUserAgent()||s&&a)&&i.push("export")}var l=this.gridOptionsService.getCallback("getContextMenuItems");return l?l({node:t,column:e,value:n,defaultItems:i.length?i:void 0}):i},e.prototype.onContextMenu=function(t,e,n,i,o,r){if((this.gridOptionsService.is("allowContextMenuWithControlKey")||!t||!t.ctrlKey&&!t.metaKey)&&(t&&this.blockMiddleClickScrollsIfNeeded(t),!this.gridOptionsService.is("suppressContextMenu"))){var s=t||e.touches[0];if(this.showMenu(n,i,o,s,r))(t||e).preventDefault()}},e.prototype.blockMiddleClickScrollsIfNeeded=function(t){var e=this.gridOptionsService,n=t.which;e.is("suppressMiddleClickScrolls")&&2===n&&t.preventDefault()},e.prototype.showMenu=function(t,e,n,i,o){var r=this,s=this.getMenuItems(t,e,n),a=this.ctrlsService.getGridBodyCtrl().getGui();if(void 0===s||ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missingOrEmpty(s))return!1;var l=new ContextMenu(s);this.createBean(l);var c=l.getGui(),u={column:e,rowNode:t,type:"contextMenu",mouseEvent:i,ePopup:c,nudgeY:1},h=this.localeService.getLocaleTextFunc(),d=this.popupService.addPopup({modal:!0,eChild:c,closeOnEsc:!0,closedCallback:function(){a.classList.remove(CSS_CONTEXT_MENU_OPEN),r.destroyBean(l)},click:i,positionCallback:function(){var t=r.gridOptionsService.is("enableRtl");r.popupService.positionPopupUnderMouseEvent(__assign$5(__assign$5({},u),{nudgeX:t?-1*(c.offsetWidth+1):1}))},anchorToElement:o,ariaLabel:h("ariaLabelContextMenu","Context Menu")});return d&&(a.classList.add(CSS_CONTEXT_MENU_OPEN),l.afterGuiAttached({container:"contextMenu",hidePopup:d.hideFunc})),this.activeMenu&&this.hideActiveMenu(),this.activeMenu=l,l.addEventListener(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9.EVENT_DESTROYED,(function(){r.activeMenu===l&&(r.activeMenu=null)})),d&&l.addEventListener(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sJC.EVENT_MENU_ITEM_SELECTED,d.hideFunc),!0},__decorate$B([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("popupService")],e.prototype,"popupService",void 0),__decorate$B([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FiY)("rangeService")],e.prototype,"rangeService",void 0),__decorate$B([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ctrlsService")],e.prototype,"ctrlsService",void 0),__decorate$B([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),e=__decorate$B([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("contextMenuFactory")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),ContextMenu=function(t){function e(e){var n=t.call(this,'<div class="'+CSS_MENU+'" role="presentation"></div>')||this;return n.menuList=null,n.focusedCell=null,n.menuItems=e,n}return __extends$D(e,t),e.prototype.addMenuItems=function(){var t=this,e=this.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O_3),n=this.menuItemMapper.mapWithStockItems(this.menuItems,null);e.addMenuItems(n),this.appendChild(e),this.menuList=e,e.addEventListener(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sJC.EVENT_MENU_ITEM_SELECTED,(function(e){return t.dispatchEvent(e)}))},e.prototype.afterGuiAttached=function(t){t.hidePopup&&this.addDestroyFunc(t.hidePopup),this.focusedCell=this.focusService.getFocusedCell(),this.menuList&&this.focusService.focusInto(this.menuList.getGui())},e.prototype.restoreFocusedCell=function(){var t=this.focusService.getFocusedCell();if(t&&this.focusedCell&&this.cellPositionUtils.equals(t,this.focusedCell)){var e=this.focusedCell,n=e.rowIndex,i=e.rowPinned,o=e.column,r=this.gridOptionsService.getDocument();r.activeElement===r.body&&this.focusService.setFocusedCell({rowIndex:n,column:o,rowPinned:i,forceBrowserFocus:!0})}},e.prototype.destroy=function(){this.restoreFocusedCell(),t.prototype.destroy.call(this)},__decorate$B([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("menuItemMapper")],e.prototype,"menuItemMapper",void 0),__decorate$B([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("focusService")],e.prototype,"focusService",void 0),__decorate$B([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("cellPositionUtils")],e.prototype,"cellPositionUtils",void 0),__decorate$B([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"addMenuItems",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$C=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__assign$4=function(){return __assign$4=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},__assign$4.apply(this,arguments)},__decorate$A=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},MenuItemMapper=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$C(e,t),e.prototype.mapWithStockItems=function(t,e){var n=this;if(!t)return[];var i=[];return t.forEach((function(t){var o;if(o="string"==typeof t?n.getStockMenuItem(t,e):__assign$4({},t)){var r=o,s=r.subMenu;s&&s instanceof Array&&(r.subMenu=n.mapWithStockItems(s,e)),null!=o&&i.push(o)}})),i},e.prototype.getStockMenuItem=function(t,e){var n,i=this,o=this.localeService.getLocaleTextFunc(),r=this.gridOptionsService.is("skipHeaderOnAutoSize");switch(t){case"pinSubMenu":return{name:o("pinColumn","Pin Column"),icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("menuPin",this.gridOptionsService,null),subMenu:["clearPinned","pinLeft","pinRight"]};case"pinLeft":return{name:o("pinLeft","Pin Left"),action:function(){return i.columnModel.setColumnPinned(e,"left","contextMenu")},checked:!!e&&e.isPinnedLeft()};case"pinRight":return{name:o("pinRight","Pin Right"),action:function(){return i.columnModel.setColumnPinned(e,"right","contextMenu")},checked:!!e&&e.isPinnedRight()};case"clearPinned":return{name:o("noPin","No Pin"),action:function(){return i.columnModel.setColumnPinned(e,null,"contextMenu")},checked:!!e&&!e.isPinned()};case"valueAggSubMenu":return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.assertRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.RowGroupingModule,"Aggregation from Menu")&&((null==e?void 0:e.isPrimary())||(null==e?void 0:e.getColDef().pivotValueColumn))?{name:o("valueAggregation","Value Aggregation"),icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("menuValue",this.gridOptionsService,null),subMenu:this.createAggregationSubMenu(e)}:null;case"autoSizeThis":return{name:o("autosizeThiscolumn","Autosize This Column"),action:function(){return i.columnModel.autoSizeColumn(e,r,"contextMenu")}};case"autoSizeAll":return{name:o("autosizeAllColumns","Autosize All Columns"),action:function(){return i.columnModel.autoSizeAllColumns(r,"contextMenu")}};case"rowGroup":return{name:o("groupBy","Group by")+" "+ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.escapeString(this.columnModel.getDisplayNameForColumn(e,"header")),action:function(){return i.columnModel.addRowGroupColumn(e,"contextMenu")},icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("menuAddRowGroup",this.gridOptionsService,null)};case"rowUnGroup":return{name:o("ungroupBy","Un-Group by")+" "+ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.escapeString(this.columnModel.getDisplayNameForColumn(e,"header")),action:function(){return i.columnModel.removeRowGroupColumn(e,"contextMenu")},icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("menuRemoveRowGroup",this.gridOptionsService,null)};case"resetColumns":return{name:o("resetColumns","Reset Columns"),action:function(){return i.columnModel.resetColumnState("contextMenu")}};case"expandAll":return{name:o("expandAll","Expand All"),action:function(){return i.gridApi.expandAll()}};case"contractAll":return{name:o("collapseAll","Collapse All"),action:function(){return i.gridApi.collapseAll()}};case"copy":return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.assertRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.ClipboardModule,"Copy from Menu")?{name:o("copy","Copy"),shortcut:o("ctrlC","Ctrl+C"),icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("clipboardCopy",this.gridOptionsService,null),action:function(){return i.clipboardService.copyToClipboard()}}:null;case"copyWithHeaders":return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.assertRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.ClipboardModule,"Copy with Headers from Menu")?{name:o("copyWithHeaders","Copy with Headers"),icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("clipboardCopy",this.gridOptionsService,null),action:function(){return i.clipboardService.copyToClipboard({includeHeaders:!0})}}:null;case"copyWithGroupHeaders":return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.assertRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.ClipboardModule,"Copy with Group Headers from Menu")?{name:o("copyWithGroupHeaders","Copy with Group Headers"),icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("clipboardCopy",this.gridOptionsService,null),action:function(){return i.clipboardService.copyToClipboard({includeHeaders:!0,includeGroupHeaders:!0})}}:null;case"cut":if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.assertRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.ClipboardModule,"Cut from Menu")){var s=this.focusService.getFocusedCell(),a=s?this.rowPositionUtils.getRowNode(s):null,l=!!a&&(null==s?void 0:s.column.isCellEditable(a));return{name:o("cut","Cut"),shortcut:o("ctrlX","Ctrl+X"),icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("clipboardCut",this.gridOptionsService,null),disabled:!l||this.gridOptionsService.is("suppressCutToClipboard"),action:function(){return i.clipboardService.cutToClipboard()}}}return null;case"paste":return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.assertRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.ClipboardModule,"Paste from Clipboard")?{name:o("paste","Paste"),shortcut:o("ctrlV","Ctrl+V"),disabled:!0,icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("clipboardPaste",this.gridOptionsService,null),action:function(){return i.clipboardService.pasteFromClipboard()}}:null;case"export":var c=[],u=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.isRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.CsvExportModule),h=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.isRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.ExcelExportModule);return!this.gridOptionsService.is("suppressCsvExport")&&u&&c.push("csvExport"),!this.gridOptionsService.is("suppressExcelExport")&&h&&c.push("excelExport"),{name:o("export","Export"),subMenu:c,icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("save",this.gridOptionsService,null)};case"csvExport":return{name:o("csvExport","CSV Export"),icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("csvExport",this.gridOptionsService,null),action:function(){return i.gridApi.exportDataAsCsv({})}};case"excelExport":return{name:o("excelExport","Excel Export"),icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("excelExport",this.gridOptionsService,null),action:function(){return i.gridApi.exportDataAsExcel()}};case"separator":return"separator";case"pivotChart":case"chartRange":return null!==(n=this.chartMenuItemMapper.getChartItems(t))&&void 0!==n?n:null;default:return console.warn("AG Grid: unknown menu item type "+t),null}},e.prototype.createAggregationSubMenu=function(t){var e,n=this,i=this.localeService.getLocaleTextFunc();if(t.isPrimary())e=t;else{var o=t.getColDef().pivotValueColumn;e=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(o)?o:void 0}var r=[];if(e){var s=e.isValueActive(),a=this.aggFuncService.getFuncNames(e);r.push({name:i("noAggregation","None"),action:function(){n.columnModel.removeValueColumn(e,"contextMenu"),n.columnModel.setColumnAggFunc(e,void 0,"contextMenu")},checked:!s}),a.forEach((function(t){r.push({name:i(t,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.capitalise(t)),action:function(){n.columnModel.setColumnAggFunc(e,t,"contextMenu"),n.columnModel.addValueColumn(e,"contextMenu")},checked:s&&e.getAggFunc()===t})}))}return r},__decorate$A([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$A([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],e.prototype,"gridApi",void 0),__decorate$A([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FiY)("clipboardService")],e.prototype,"clipboardService",void 0),__decorate$A([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FiY)("aggFuncService")],e.prototype,"aggFuncService",void 0),__decorate$A([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("focusService")],e.prototype,"focusService",void 0),__decorate$A([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowPositionUtils")],e.prototype,"rowPositionUtils",void 0),__decorate$A([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("chartMenuItemMapper")],e.prototype,"chartMenuItemMapper",void 0),e=__decorate$A([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("menuItemMapper")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),VERSION$7="29.3.4",__extends$B=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__assign$3=function(){return __assign$3=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},__assign$3.apply(this,arguments)},__decorate$z=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},__read$8=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},ChartMenuItemMapper=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var n;return __extends$B(e,t),n=e,e.prototype.getChartItems=function(t){var e,i;if(this.chartService){var o="pivotChart"===t?new PivotMenuItemMapper(this.gridOptionsService,this.chartService,this.localeService):new RangeMenuItemMapper(this.gridOptionsService,this.chartService,this.localeService),r=o.getMenuItem(),s=null===(i=null===(e=this.gridOptionsService.get("chartToolPanelsDef"))||void 0===e?void 0:e.settingsPanel)||void 0===i?void 0:i.chartGroupsDef;return s&&(r=n.filterAndOrderChartMenu(r,s,o.getConfigLookup())),this.cleanInternals(r)}ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.assertRegistered(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.GridChartsModule,'the Context Menu key "'+t+'"')},e.prototype.cleanInternals=function(t){if(!t)return t;var e=function(t){var n;return null==t||delete t._key,null===(n=null==t?void 0:t.subMenu)||void 0===n||n.forEach((function(t){return e(t)})),t};return e(t)},e.buildLookup=function(t){var e={},n=function(t){e[t._key]=t,t.subMenu&&t.subMenu.forEach((function(t){return n(t)}))};return n(t),e},e.filterAndOrderChartMenu=function(t,e,n){var i,o=this.buildLookup(t),r=__assign$3(__assign$3({},t),{subMenu:[]});if(Object.entries(e).forEach((function(t){var e,i,s=__read$8(t,2),a=s[0],l=s[1],c=n[a];if(null!=c){var u=o[c._key];if(u)if(u.subMenu){var h=l.map((function(t){var e=c[t];if(null!=e)return o[e];ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce((function(){return console.warn("AG Grid - invalid chartGroupsDef config '"+a+"."+t+"'")}),"invalid_chartGroupsDef"+t+"_"+a)})).filter((function(t){return void 0!==t}));h.length>0&&(u.subMenu=h,null===(e=r.subMenu)||void 0===e||e.push(u))}else null===(i=r.subMenu)||void 0===i||i.push(u)}else ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce((function(){return console.warn("AG Grid - invalid chartGroupsDef config '"+a+"'")}),"invalid_chartGroupsDef"+a)})),0!=(null===(i=r.subMenu)||void 0===i?void 0:i.length))return r},__decorate$z([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FiY)("chartService")],e.prototype,"chartService",void 0),e=n=__decorate$z([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("chartMenuItemMapper")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),PivotMenuItemMapper=function(){function t(t,e,n){this.gridOptionsService=t,this.chartService=e,this.localeService=n}return t.prototype.getMenuItem=function(){var t=this,e=this.localeService.getLocaleTextFunc(),n=function(n,i,o,r){return{name:e(n,i),action:function(){return t.chartService.createPivotChart({chartType:o})},_key:r}};return{name:e("pivotChart","Pivot Chart"),_key:"pivotChart",subMenu:[{_key:"pivotColumnChart",name:e("columnChart","Column"),subMenu:[n("groupedColumn","Grouped&lrm;","groupedColumn","pivotGroupedColumn"),n("stackedColumn","Stacked&lrm;","stackedColumn","pivotStackedColumn"),n("normalizedColumn","100% Stacked&lrm;","normalizedColumn","pivotNormalizedColumn")]},{_key:"pivotBarChart",name:e("barChart","Bar"),subMenu:[n("groupedBar","Grouped&lrm;","groupedBar","pivotGroupedBar"),n("stackedBar","Stacked&lrm;","stackedBar","pivotStackedBar"),n("normalizedBar","100% Stacked&lrm;","normalizedBar","pivotNormalizedBar")]},{_key:"pivotPieChart",name:e("pieChart","Pie"),subMenu:[n("pie","Pie&lrm;","pie","pivotPie"),n("doughnut","Doughnut&lrm;","doughnut","pivotDoughnut")]},n("line","Line&lrm;","line","pivotLineChart"),{_key:"pivotXYChart",name:e("xyChart","X Y (Scatter)"),subMenu:[n("scatter","Scatter&lrm;","scatter","pivotScatter"),n("bubble","Bubble&lrm;","bubble","pivotBubble")]},{_key:"pivotAreaChart",name:e("areaChart","Area"),subMenu:[n("area","Area&lrm;","area","pivotArea"),n("stackedArea","Stacked&lrm;","stackedArea","pivotStackedArea"),n("normalizedArea","100% Stacked&lrm;","normalizedArea","pivotNormalizedArea")]},n("histogramChart","Histogram&lrm;","histogram","pivotHistogramChart"),{_key:"pivotCombinationChart",name:e("combinationChart","Combination"),subMenu:[n("columnLineCombo","Column & Line&lrm;","columnLineCombo","pivotColumnLineCombo"),n("AreaColumnCombo","Area & Column&lrm;","areaColumnCombo","pivotAreaColumnCombo")]}],icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("chart",this.gridOptionsService,void 0)}},t.prototype.getConfigLookup=function(){return{columnGroup:{_key:"pivotColumnChart",column:"pivotGroupedColumn",stackedColumn:"pivotStackedColumn",normalizedColumn:"pivotNormalizedColumn"},barGroup:{_key:"pivotBarChart",bar:"pivotGroupedBar",stackedBar:"pivotStackedBar",normalizedBar:"pivotNormalizedBar"},pieGroup:{_key:"pivotPieChart",pie:"pivotPie",doughnut:"pivotDoughnut"},lineGroup:{_key:"pivotLineChart",line:"pivotLineChart"},scatterGroup:{_key:"pivotXYChart",bubble:"pivotBubble",scatter:"pivotScatter"},areaGroup:{_key:"pivotAreaChart",area:"pivotArea",stackedArea:"pivotStackedArea",normalizedArea:"pivotNormalizedArea"},histogramGroup:{_key:"pivotHistogramChart",histogram:"pivotHistogramChart"},combinationGroup:{_key:"pivotCombinationChart",columnLineCombo:"pivotColumnLineCombo",areaColumnCombo:"pivotAreaColumnCombo",customCombo:""}}},t}(),RangeMenuItemMapper=function(){function t(t,e,n){this.gridOptionsService=t,this.chartService=e,this.localeService=n}return t.prototype.getMenuItem=function(){var t=this,e=this.localeService.getLocaleTextFunc(),n=function(n,i,o,r){return{name:e(n,i),action:function(){return t.chartService.createChartFromCurrentRange(o)},_key:r}};return{name:e("chartRange","Chart Range"),_key:"chartRange",subMenu:[{name:e("columnChart","Column"),subMenu:[n("groupedColumn","Grouped&lrm;","groupedColumn","rangeGroupedColumn"),n("stackedColumn","Stacked&lrm;","stackedColumn","rangeStackedColumn"),n("normalizedColumn","100% Stacked&lrm;","normalizedColumn","rangeNormalizedColumn")],_key:"rangeColumnChart"},{name:e("barChart","Bar"),subMenu:[n("groupedBar","Grouped&lrm;","groupedBar","rangeGroupedBar"),n("stackedBar","Stacked&lrm;","stackedBar","rangeStackedBar"),n("normalizedBar","100% Stacked&lrm;","normalizedBar","rangeNormalizedBar")],_key:"rangeBarChart"},{name:e("pieChart","Pie"),subMenu:[n("pie","Pie&lrm;","pie","rangePie"),n("doughnut","Doughnut&lrm;","doughnut","rangeDoughnut")],_key:"rangePieChart"},n("line","Line&lrm;","line","rangeLineChart"),{name:e("xyChart","X Y (Scatter)"),subMenu:[n("scatter","Scatter&lrm;","scatter","rangeScatter"),n("bubble","Bubble&lrm;","bubble","rangeBubble")],_key:"rangeXYChart"},{name:e("areaChart","Area"),subMenu:[n("area","Area&lrm;","area","rangeArea"),n("stackedArea","Stacked&lrm;","stackedArea","rangeStackedArea"),n("normalizedArea","100% Stacked&lrm;","normalizedArea","rangeNormalizedArea")],_key:"rangeAreaChart"},n("histogramChart","Histogram&lrm;","histogram","rangeHistogramChart"),{name:e("combinationChart","Combination"),subMenu:[n("columnLineCombo","Column & Line&lrm;","columnLineCombo","rangeColumnLineCombo"),n("AreaColumnCombo","Area & Column&lrm;","areaColumnCombo","rangeAreaColumnCombo")],_key:"rangeCombinationChart"}],icon:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("chart",this.gridOptionsService,void 0)}},t.prototype.getConfigLookup=function(){return{columnGroup:{_key:"rangeColumnChart",column:"rangeGroupedColumn",stackedColumn:"rangeStackedColumn",normalizedColumn:"rangeNormalizedColumn"},barGroup:{_key:"rangeBarChart",bar:"rangeGroupedBar",stackedBar:"rangeStackedBar",normalizedBar:"rangeNormalizedBar"},pieGroup:{_key:"rangePieChart",pie:"rangePie",doughnut:"rangeDoughnut"},lineGroup:{_key:"rangeLineChart",line:"rangeLineChart"},scatterGroup:{_key:"rangeXYChart",bubble:"rangeBubble",scatter:"rangeScatter"},areaGroup:{_key:"rangeAreaChart",area:"rangeArea",stackedArea:"rangeStackedArea",normalizedArea:"rangeNormalizedArea"},histogramGroup:{_key:"rangeHistogramChart",histogram:"rangeHistogramChart"},combinationGroup:{_key:"rangeCombinationChart",columnLineCombo:"rangeColumnLineCombo",areaColumnCombo:"rangeAreaColumnCombo",customCombo:""}}},t}(),MenuModule={version:VERSION$7,moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.MenuModule,beans:[EnterpriseMenuFactory,ContextMenuFactory,MenuItemMapper,ChartMenuItemMapper],dependantModules:[EnterpriseCoreModule]},__extends$A=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__assign$2=function(){return __assign$2=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},__assign$2.apply(this,arguments)},__decorate$y=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},MultiFilter=function(t){function e(){var e=t.call(this,'<div class="ag-multi-filter ag-menu-list-compact"></div>')||this;return e.filterDefs=[],e.filters=[],e.guiDestroyFuncs=[],e.activeFilterIndices=[],e.lastActivatedMenuItem=null,e.afterFiltersReadyFuncs=[],e}return __extends$A(e,t),e.prototype.postConstruct=function(){var t=this;this.initialiseTabGuard({onFocusIn:function(e){return t.onFocusIn(e)}})},e.getFilterDefs=function(t){var e=t.filters;return e&&e.length>0?e:[{filter:"agTextColumnFilter"},{filter:"agSetColumnFilter"}]},e.prototype.init=function(t){var n=this;this.params=t,this.filterDefs=e.getFilterDefs(t);var i=t.column,o=t.filterChangedCallback;this.column=i,this.filterChangedCallback=o;var r=[];return this.filterDefs.forEach((function(t,e){var i=n.createFilter(t,e);null!=i&&r.push(i)})),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S.all(r).then((function(t){n.filters=t,n.refreshGui("columnMenu"),n.afterFiltersReadyFuncs.forEach((function(t){return t()})),n.afterFiltersReadyFuncs.length=0}))},e.prototype.refreshGui=function(t){var e=this;t!==this.lastOpenedInContainer&&(this.removeAllChildrenExceptTabGuards(),this.destroyChildren(),this.filters.forEach((function(n,i){i>0&&e.appendChild(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.loadTemplate('<div class="ag-filter-separator"></div>'));var o,r=e.filterDefs[i],s=e.getFilterTitle(n,r);if("subMenu"===r.display&&"toolPanel"!==t)o=e.insertFilterMenu(n,s).getGui();else if("subMenu"===r.display||"accordion"===r.display){o=e.insertFilterGroup(n,s).getGui()}else o=n.getGui();e.appendChild(o)})),this.lastOpenedInContainer=t)},e.prototype.getFilterTitle=function(t,e){if(null!=e.title)return e.title;var n=t;return"function"==typeof n.getFilterTitle?n.getFilterTitle():"Filter"},e.prototype.destroyChildren=function(){this.guiDestroyFuncs.forEach((function(t){return t()})),this.guiDestroyFuncs.length=0},e.prototype.insertFilterMenu=function(t,e){var n=this,i=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sJC({name:e,subMenu:t,cssClasses:["ag-multi-filter-menu-item"],isCompact:!0,isAnotherSubMenuOpen:function(){return!1}}));return i.setParentComponent(this),this.guiDestroyFuncs.push((function(){return n.destroyBean(i)})),this.addManagedListener(i,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.sJC.EVENT_MENU_ITEM_ACTIVATED,(function(t){n.lastActivatedMenuItem&&n.lastActivatedMenuItem!==t.menuItem&&n.lastActivatedMenuItem.deactivate(),n.lastActivatedMenuItem=t.menuItem})),i.addGuiEventListener("focusin",(function(){return i.activate()})),i.addGuiEventListener("focusout",(function(){i.isSubMenuOpen()||i.deactivate()})),i},e.prototype.insertFilterGroup=function(t,e){var n=this,i=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.H1u({title:e,cssIdentifier:"multi-filter"}));if(this.guiDestroyFuncs.push((function(){return n.destroyBean(i)})),i.addItem(t.getGui()),i.toggleGroupExpand(!1),t.afterGuiAttached){var o={container:this.lastOpenedInContainer,suppressFocus:!0};i.addManagedListener(i,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.H1u.EVENT_EXPANDED,(function(){return t.afterGuiAttached(o)}))}return i},e.prototype.isFilterActive=function(){return this.filters.some((function(t){return t.isFilterActive()}))},e.prototype.getLastActiveFilterIndex=function(){return this.activeFilterIndices.length>0?this.activeFilterIndices[this.activeFilterIndices.length-1]:null},e.prototype.doesFilterPass=function(t,e){var n=!0;return this.filters.forEach((function(i){n&&i!==e&&i.isFilterActive()&&(n=i.doesFilterPass(t))})),n},e.prototype.getFilterType=function(){return"multi"},e.prototype.getModelFromUi=function(){return{filterType:this.getFilterType(),filterModels:this.filters.map((function(t){var e=t;return"function"==typeof e.getModelFromUi?e.getModelFromUi():null}))}},e.prototype.getModel=function(){return this.isFilterActive()?{filterType:this.getFilterType(),filterModels:this.filters.map((function(t){return t.isFilterActive()?t.getModel():null}))}:null},e.prototype.setModel=function(t){var e=this,n=function(t,e){return new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S((function(n){var i=t.setModel(e);i?i.then((function(){return n()})):n()}))},i=[];return null==t?i=this.filters.map((function(t,i){return n(t,null).then((function(){e.updateActiveList(i)}))})):this.filters.forEach((function(o,r){var s=t.filterModels.length>r?t.filterModels[r]:null,a=n(o,s).then((function(){e.updateActiveList(r)}));i.push(a)})),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S.all(i).then((function(){}))},e.prototype.applyModel=function(t){void 0===t&&(t="api");var e=!1;return this.filters.forEach((function(n){n instanceof ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AGU&&(e=n.applyModel(t)||e)})),e},e.prototype.getChildFilterInstance=function(t){return this.filters[t]},e.prototype.afterGuiAttached=function(t){t&&this.refreshGui(t.container);var e=this.params.filters,n=e&&e.some((function(t){return t.display&&"inline"!==t.display}));this.executeFunctionIfExists("afterGuiAttached",__assign$2(__assign$2({},t||{}),{suppressFocus:n}));var i=this.gridOptionsService.getDocument(),o=i.activeElement;n&&(o===i.body||this.getGui().contains(o))&&this.forceFocusOutOfContainer(!0)},e.prototype.afterGuiDetached=function(){this.executeFunctionIfExists("afterGuiDetached")},e.prototype.onAnyFilterChanged=function(){this.executeFunctionIfExists("onAnyFilterChanged")},e.prototype.onNewRowsLoaded=function(){this.executeFunctionIfExists("onNewRowsLoaded")},e.prototype.destroy=function(){var e=this;this.filters.forEach((function(t){t.setModel(null),e.destroyBean(t)})),this.filters.length=0,this.destroyChildren(),t.prototype.destroy.call(this)},e.prototype.executeFunctionIfExists=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.forEachReverse(this.filters,(function(n){var i=n[t];"function"==typeof i&&i.apply(n,e)}))},e.prototype.createFilter=function(t,e){var n,i=this,o=this.params,r=o.filterModifiedCallback,s=o.doesRowPassOtherFilter,a=__assign$2(__assign$2({},this.filterManager.createFilterParams(this.column,this.column.getColDef())),{filterModifiedCallback:r,filterChangedCallback:function(t){i.executeWhenAllFiltersReady((function(){return i.filterChanged(e,t)}))},doesRowPassOtherFilter:function(t){return s(t)&&i.doesFilterPass({node:t,data:t.data},n)}}),l=this.userComponentFactory.getFilterDetails(t,a,"agTextColumnFilter");if(!l)return null;var c=l.newAgStackInstance();return c&&c.then((function(t){return n=t})),c},e.prototype.executeWhenAllFiltersReady=function(t){this.filters&&this.filters.length>0?t():this.afterFiltersReadyFuncs.push(t)},e.prototype.updateActiveList=function(t){var e=this.filters[t];ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromArray(this.activeFilterIndices,t),e.isFilterActive()&&this.activeFilterIndices.push(t)},e.prototype.filterChanged=function(t,e){this.updateActiveList(t),this.filterChangedCallback(e);var n=this.filters[t];this.filters.forEach((function(t){t!==n&&"function"==typeof t.onAnyFilterChanged&&t.onAnyFilterChanged()}))},e.prototype.onFocusIn=function(t){return null==this.lastActivatedMenuItem||this.lastActivatedMenuItem.getGui().contains(t.target)||(this.lastActivatedMenuItem.deactivate(),this.lastActivatedMenuItem=null),!0},e.prototype.getModelAsString=function(t){var e,n,i,o;if(!this.filters||!(null===(e=null==t?void 0:t.filterModels)||void 0===e?void 0:e.length))return"";var r=null!==(n=this.getLastActiveFilterIndex())&&void 0!==n?n:0,s=this.filters[r];return null!==(o=null===(i=s.getModelAsString)||void 0===i?void 0:i.call(s,t.filterModels[r]))&&void 0!==o?o:""},__decorate$y([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("filterManager")],e.prototype,"filterManager",void 0),__decorate$y([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("userComponentFactory")],e.prototype,"userComponentFactory",void 0),__decorate$y([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.BxR),__extends$z=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__assign$1=function(){return __assign$1=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},__assign$1.apply(this,arguments)},__decorate$x=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},MultiFloatingFilterComp=function(t){function e(){var e=t.call(this,'<div class="ag-multi-floating-filter ag-floating-filter-input"></div>')||this;return e.floatingFilters=[],e}return __extends$z(e,t),e.prototype.init=function(t){var e=this;this.params=t;var n=t.filterParams,i=[];return MultiFilter.getFilterDefs(n).forEach((function(n,o){var r=__assign$1(__assign$1({},t),{parentFilterInstance:function(t){e.parentMultiFilterInstance((function(e){var n=e.getChildFilterInstance(o);null!=n&&t(n)}))}});ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.mergeDeep(r.filterParams,n.filterParams);var s=e.createFloatingFilter(n,r);null!=s&&i.push(s)})),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S.all(i).then((function(t){t.forEach((function(t,n){e.floatingFilters.push(t);var i=t.getGui();e.appendChild(i),n>0&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(i,!1)}))}))},e.prototype.onParentModelChanged=function(t,e){var n=this;e&&e.afterFloatingFilter||this.parentMultiFilterInstance((function(i){if(null==t)n.floatingFilters.forEach((function(t,n){t.onParentModelChanged(null,e),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(t.getGui(),0===n)}));else{var o=i.getLastActiveFilterIndex();n.floatingFilters.forEach((function(n,i){var r=t.filterModels.length>i?t.filterModels[i]:null;n.onParentModelChanged(r,e);var s=null==o?0===i:i===o;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(n.getGui(),s)}))}}))},e.prototype.destroy=function(){this.destroyBeans(this.floatingFilters),this.floatingFilters.length=0,t.prototype.destroy.call(this)},e.prototype.createFloatingFilter=function(t,e){var n,i=null!==(n=this.userComponentFactory.getDefaultFloatingFilterType(t))&&void 0!==n?n:"agReadOnlyFloatingFilter",o=this.userComponentFactory.getFloatingFilterCompDetails(t,e,i);return o?o.newAgStackInstance():null},e.prototype.parentMultiFilterInstance=function(t){this.params.parentFilterInstance((function(e){if(!(e instanceof MultiFilter))throw new Error("AG Grid - MultiFloatingFilterComp expects MultiFilter as its parent");t(e)}))},__decorate$x([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("userComponentFactory")],e.prototype,"userComponentFactory",void 0),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),VERSION$6="29.3.4",MultiFilterModule={version:VERSION$6,moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.MultiFilterModule,beans:[],userComponents:[{componentName:"agMultiColumnFilter",componentClass:MultiFilter},{componentName:"agMultiColumnFloatingFilter",componentClass:MultiFloatingFilterComp}],dependantModules:[EnterpriseCoreModule]};function bindCellRendererToHtmlElement(t,e){t.then((function(t){var n=t.getGui();null!=n&&("object"==typeof n?e.appendChild(n):e.innerHTML=n)}))}var __extends$y=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$w=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},RichSelectRow=function(t){function e(e){var n=t.call(this,'<div class="ag-rich-select-row" role="presentation"></div>')||this;return n.params=e,n}return __extends$y(e,t),e.prototype.setState=function(t,e,n){this.populateWithRenderer(t,e)||this.populateWithoutRenderer(t,e),this.updateSelected(n)},e.prototype.updateSelected=function(t){this.addOrRemoveCssClass("ag-rich-select-row-selected",t)},e.prototype.populateWithoutRenderer=function(t,e){var n=null!=e?e:t;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(n)&&""!==n?this.getGui().textContent=n.toString():this.getGui().innerHTML="&nbsp;"},e.prototype.populateWithRenderer=function(t,e){var n=this,i={value:t,valueFormatted:e,api:this.gridOptionsService.api},o=this.userComponentFactory.getCellRendererDetails(this.params,i),r=o?o.newAgStackInstance():void 0;return null!=r?bindCellRendererToHtmlElement(r,this.getGui()):this.getGui().innerText=null!=i.valueFormatted?i.valueFormatted:i.value,!!r&&(r.then((function(t){n.addDestroyFunc((function(){n.getContext().destroyBean(t)}))})),!0)},__decorate$w([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("userComponentFactory")],e.prototype,"userComponentFactory",void 0),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$x=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$v=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},RichSelectCellEditor=function(t){function e(){var n=t.call(this,e.TEMPLATE)||this;return n.selectionConfirmed=!1,n.searchString="",n}return __extends$x(e,t),e.prototype.init=function(t){this.params=t,this.selectedValue=t.value,this.originalSelectedValue=t.value,this.focusAfterAttached=t.cellStartedEdit;var e=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIconNoSpan("smallDown",this.gridOptionsService);if(e.classList.add("ag-rich-select-value-icon"),this.eValue.appendChild(e),this.virtualList=this.createManagedBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.CPJ("rich-select")),this.virtualList.setComponentCreator(this.createRowComponent.bind(this)),this.eList.appendChild(this.virtualList.getGui()),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(this.params.cellHeight)&&this.virtualList.setRowHeight(this.params.cellHeight),this.renderSelectedValue(),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(t.values))console.warn("AG Grid: richSelectCellEditor requires values for it to work");else{var n=t.values;this.virtualList.setModel({getRowCount:function(){return n.length},getRow:function(t){return n[t]}}),this.addGuiEventListener("keydown",this.onKeyDown.bind(this));var i=this.virtualList.getGui();this.addManagedListener(i,"click",this.onClick.bind(this)),this.addManagedListener(i,"mousemove",this.onMouseMove.bind(this));var o=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(t.searchDebounceDelay)?t.searchDebounceDelay:300;this.clearSearchString=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.debounce(this.clearSearchString,o),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(t.charPress)&&this.searchText(t.charPress)}},e.prototype.onKeyDown=function(t){var e=t.key;switch(t.preventDefault(),e){case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.ENTER:this.onEnterKeyDown();break;case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.TAB:this.confirmSelection();break;case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.DOWN:case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.UP:this.onNavigationKeyPressed(t,e);break;default:this.searchText(t)}},e.prototype.confirmSelection=function(){this.selectionConfirmed=!0},e.prototype.onEnterKeyDown=function(){this.confirmSelection(),this.params.stopEditing()},e.prototype.onNavigationKeyPressed=function(t,e){t.preventDefault();var n=this.params.values.indexOf(this.selectedValue),i=e===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.UP?n-1:n+1;if(i>=0&&i<this.params.values.length){var o=this.params.values[i];this.setSelectedValue(o)}},e.prototype.searchText=function(t){if("string"==typeof t)this.searchString+=t,this.runSearch(),this.clearSearchString();else{var e=t.key;if(e===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.BACKSPACE)this.searchString=this.searchString.slice(0,-1),e="";else if(!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.isEventFromPrintableCharacter(t))return;this.searchText(e)}},e.prototype.runSearch=function(){var t,e=this,n=this.params.values;if("number"!=typeof n[0]&&"string"!=typeof n[0]||(t=n.map((function(t){return e.params.formatValue(t)}))),"object"==typeof n[0]&&this.params.colDef.keyCreator&&(t=n.map((function(t){var n={value:t,colDef:e.params.colDef,column:e.params.column,node:e.params.node,data:e.params.data,api:e.gridOptionsService.api,columnApi:e.gridOptionsService.columnApi,context:e.gridOptionsService.context};return e.params.colDef.keyCreator(n)}))),t){var i=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.fuzzySuggestions(this.searchString,t,!0)[0];if(i){var o=n[t.indexOf(i)];this.setSelectedValue(o)}}},e.prototype.clearSearchString=function(){this.searchString=""},e.prototype.renderSelectedValue=function(){var t=this,e=this.params.formatValue(this.selectedValue),n=this.eValue,i={value:this.selectedValue,valueFormatted:e,api:this.gridOptionsService.api},o=this.userComponentFactory.getCellRendererDetails(this.params,i),r=o?o.newAgStackInstance():void 0;r?(bindCellRendererToHtmlElement(r,n),r.then((function(e){t.addDestroyFunc((function(){return t.getContext().destroyBean(e)}))}))):ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(this.selectedValue)?n.innerText=e:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.clearElement(n)},e.prototype.setSelectedValue=function(t){if(this.selectedValue!==t){var e=this.params.values.indexOf(t);-1!==e&&(this.selectedValue=t,this.virtualList.ensureIndexVisible(e),this.virtualList.forEachRenderedRow((function(t,n){t.updateSelected(e===n)})),this.virtualList.focusRow(e))}},e.prototype.createRowComponent=function(t){var e=this.params.formatValue(t),n=new RichSelectRow(this.params);return this.getContext().createBean(n),n.setState(t,e,t===this.selectedValue),n},e.prototype.onMouseMove=function(t){var e=this.virtualList.getGui().getBoundingClientRect(),n=this.virtualList.getScrollTop(),i=t.clientY-e.top+n,o=Math.floor(i/this.virtualList.getRowHeight()),r=this.params.values[o];void 0!==r&&this.setSelectedValue(r)},e.prototype.onClick=function(){this.confirmSelection(),this.params.stopEditing()},e.prototype.afterGuiAttached=function(){var t=this.params.values.indexOf(this.selectedValue);if(this.virtualList.refresh(),t>=0&&this.virtualList.ensureIndexVisible(t),this.virtualList.refresh(),this.focusAfterAttached){var e=-1!==t?t:0;this.params.values.length?this.virtualList.focusRow(e):this.getGui().focus()}},e.prototype.getValue=function(){return this.selectionConfirmed?this.selectedValue:this.originalSelectedValue},e.TEMPLATE='<div class="ag-rich-select" tabindex="-1">\n            <div ref="eValue" class="ag-rich-select-value"></div>\n            <div ref="eList" class="ag-rich-select-list"></div>\n        </div>',__decorate$v([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("userComponentFactory")],e.prototype,"userComponentFactory",void 0),__decorate$v([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eValue")],e.prototype,"eValue",void 0),__decorate$v([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eList")],e.prototype,"eList",void 0),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.RXH),VERSION$5="29.3.4",RichSelectModule={version:VERSION$5,moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.RichSelectModule,beans:[],userComponents:[{componentName:"agRichSelect",componentClass:RichSelectCellEditor},{componentName:"agRichSelectCellEditor",componentClass:RichSelectCellEditor}],dependantModules:[EnterpriseCoreModule]},__extends$w=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$u=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},FullStore=function(t){function e(e,n,i){var o=t.call(this,0)||this;return o.nodeIdSequence=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.at1,o.info={},o.ssrmParams=e,o.parentRowNode=i,o.level=i.level+1,o.groupLevel=e.rowGroupCols?o.level<e.rowGroupCols.length:void 0,o.leafGroup=!!e.rowGroupCols&&o.level===e.rowGroupCols.length-1,o}return __extends$w(e,t),e.prototype.postConstruct=function(){var t=this;if(this.usingTreeData=this.gridOptionsService.isTreeData(),this.nodeIdPrefix=this.blockUtils.createNodeIdPrefix(this.parentRowNode),!this.usingTreeData&&this.groupLevel){var e=this.ssrmParams.rowGroupCols[this.level];this.groupField=e.field,this.rowGroupColumn=this.columnModel.getRowGroupColumns()[this.level]}var n=1,i=-1===this.parentRowNode.level,o=this.storeUtils.getServerSideInitialRowCount();i&&void 0!==o&&(n=o),this.initialiseRowNodes(n),this.rowNodeBlockLoader.addBlock(this),this.addDestroyFunc((function(){return t.rowNodeBlockLoader.removeBlock(t)}))},e.prototype.destroyRowNodes=function(){this.blockUtils.destroyRowNodes(this.allRowNodes),this.allRowNodes=[],this.nodesAfterSort=[],this.nodesAfterFilter=[],this.allNodesMap={}},e.prototype.initialiseRowNodes=function(t,e){void 0===e&&(e=!1),this.destroyRowNodes();for(var n=0;n<t;n++){var i=this.blockUtils.createRowNode({field:this.groupField,group:this.groupLevel,leafGroup:this.leafGroup,level:this.level,parent:this.parentRowNode,rowGroupColumn:this.rowGroupColumn});e&&(i.failedLoad=!0),this.allRowNodes.push(i),this.nodesAfterFilter.push(i),this.nodesAfterSort.push(i)}},e.prototype.getBlockStateJson=function(){return{id:this.nodeIdPrefix?this.nodeIdPrefix:"",state:this.getState()}},e.prototype.loadFromDatasource=function(){this.storeUtils.loadFromDatasource({startRow:void 0,endRow:void 0,parentBlock:this,parentNode:this.parentRowNode,storeParams:this.ssrmParams,successCallback:this.pageLoaded.bind(this,this.getVersion()),success:this.success.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),fail:this.pageLoadFailed.bind(this,this.getVersion())})},e.prototype.getStartRow=function(){return 0},e.prototype.getEndRow=function(){return this.nodesAfterSort.length},e.prototype.createDataNode=function(t,e){var n=this.blockUtils.createRowNode({field:this.groupField,group:this.groupLevel,leafGroup:this.leafGroup,level:this.level,parent:this.parentRowNode,rowGroupColumn:this.rowGroupColumn});null!=e?ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.insertIntoArray(this.allRowNodes,n,e):this.allRowNodes.push(n);var i=this.prefixId(this.nodeIdSequence.next());return this.blockUtils.setDataIntoRowNode(n,t,i,void 0),this.nodeManager.addRowNode(n),this.blockUtils.checkOpenByDefault(n),this.allNodesMap[n.id]=n,n},e.prototype.prefixId=function(t){return this.nodeIdPrefix?this.nodeIdPrefix+"-"+t:t.toString()},e.prototype.processServerFail=function(){this.initialiseRowNodes(1,!0),this.fireStoreUpdatedEvent(),this.flushAsyncTransactions()},e.prototype.processServerResult=function(t){if(this.isAlive()){var e=t.storeInfo||t.groupLevelInfo;e&&Object.assign(this.info,e);var n=this.allRowNodes.length>0?this.allNodesMap:void 0;if(this.allRowNodes=[],this.nodesAfterSort=[],this.nodesAfterFilter=[],this.allNodesMap={},!t.rowData){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce((function(){return console.warn('AG Grid: "params.data" is missing from Server-Side Row Model success() callback. Please use the "data" attribute. If no data is returned, set an empty list.',t)}),"FullStore.noData")}this.createOrRecycleNodes(n,t.rowData),n&&this.blockUtils.destroyRowNodes(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.getAllValuesInObject(n)),this.filterAndSortNodes(),this.fireStoreUpdatedEvent(),this.flushAsyncTransactions()}},e.prototype.createOrRecycleNodes=function(t,e){var n=this;if(e){e.forEach((function(e){var i=function(e){if(t){var i=n.gridOptionsService.getRowIdFunc();if(i){var o=n.parentRowNode.getGroupKeys(),r=n.level,s=i({data:e,parentKeys:o.length>0?o:void 0,level:r}),a=t[s];if(a)return delete t[s],a}}}(e);i?function(t,e){n.allNodesMap[t.id]=t,n.blockUtils.updateDataIntoRowNode(t,e),n.allRowNodes.push(t)}(i,e):n.createDataNode(e)}))}},e.prototype.flushAsyncTransactions=function(){var t=this;window.setTimeout((function(){return t.transactionManager.flushAsyncTransactions()}),0)},e.prototype.filterAndSortNodes=function(){this.filterRowNodes(),this.sortRowNodes()},e.prototype.sortRowNodes=function(){var t=this.storeUtils.isServerSideSortAllLevels()||this.storeUtils.isServerSideSortOnServer(),e=this.sortController.getSortOptions(),n=!e||0==e.length;this.nodesAfterSort=t||n?this.nodesAfterFilter:this.rowNodeSorter.doFullSort(this.nodesAfterFilter,e)},e.prototype.filterRowNodes=function(){var t=this,e=this.storeUtils.isServerSideFilterAllLevels()||this.storeUtils.isServerSideFilterOnServer(),n=this.groupLevel;this.nodesAfterFilter=e||n?this.allRowNodes:this.allRowNodes.filter((function(e){return t.filterManager.doesRowPassFilter({rowNode:e})}))},e.prototype.clearDisplayIndexes=function(){var t=this;this.displayIndexStart=void 0,this.displayIndexEnd=void 0,this.allRowNodes.forEach((function(e){return t.blockUtils.clearDisplayIndex(e)}))},e.prototype.getDisplayIndexEnd=function(){return this.displayIndexEnd},e.prototype.isDisplayIndexInStore=function(t){return 0!==this.getRowCount()&&(t>=this.displayIndexStart&&t<this.displayIndexEnd)},e.prototype.setDisplayIndexes=function(t,e){var n=this;this.displayIndexStart=t.peek(),this.topPx=e.value;var i={};this.nodesAfterSort.forEach((function(o){n.blockUtils.setDisplayIndex(o,t,e),i[o.id]=!0})),this.allRowNodes.forEach((function(t){i[t.id]||n.blockUtils.clearDisplayIndex(t)})),this.displayIndexEnd=t.peek(),this.heightPx=e.value-this.topPx},e.prototype.forEachStoreDeep=function(t,e){void 0===e&&(e=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.at1),t(this,e.next()),this.allRowNodes.forEach((function(n){var i=n.childStore;i&&i.forEachStoreDeep(t,e)}))},e.prototype.forEachNodeDeep=function(t,e){void 0===e&&(e=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.at1),this.allRowNodes.forEach((function(n){t(n,e.next());var i=n.childStore;i&&i.forEachNodeDeep(t,e)}))},e.prototype.forEachNodeDeepAfterFilterAndSort=function(t,e){void 0===e&&(e=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.at1),this.nodesAfterSort.forEach((function(n){t(n,e.next());var i=n.childStore;i&&i.forEachNodeDeepAfterFilterAndSort(t,e)}))},e.prototype.getRowUsingDisplayIndex=function(t){if(this.isDisplayIndexInStore(t))return this.blockUtils.binarySearchForDisplayIndex(t,this.nodesAfterSort)},e.prototype.getRowBounds=function(t){for(var e=0;e<this.nodesAfterSort.length;e++){var n=this.nodesAfterSort[e],i=this.blockUtils.extractRowBounds(n,t);if(i)return i}return null},e.prototype.isPixelInRange=function(t){return t>=this.topPx&&t<this.topPx+this.heightPx},e.prototype.getRowIndexAtPixel=function(t){var e=this;if(t<=this.topPx)return this.nodesAfterSort[0].rowIndex;if(t>=this.topPx+this.heightPx){var n=this.nodesAfterSort[this.nodesAfterSort.length-1],i=n.rowTop+n.rowHeight;if(t>=i&&n.expanded){if(n.childStore&&n.childStore.getRowCount()>0)return n.childStore.getRowIndexAtPixel(t);if(n.detailNode)return n.detailNode.rowIndex}return n.rowIndex}var o=null;return this.nodesAfterSort.forEach((function(n){var i=e.blockUtils.getIndexAtPixel(n,t);null!=i&&(o=i)})),null==o?this.displayIndexEnd-1:o},e.prototype.getChildStore=function(t){var e=this;return this.storeUtils.getChildStore(t,this,(function(t){return e.allRowNodes.find((function(e){return e.key==t}))}))},e.prototype.forEachChildStoreShallow=function(t){this.allRowNodes.forEach((function(e){var n=e.childStore;n&&t(n)}))},e.prototype.refreshAfterFilter=function(t){var e=this.storeUtils.isServerSideFilterOnServer(),n=this.storeUtils.isServerRefreshNeeded(this.parentRowNode,this.ssrmParams.rowGroupCols,t);if(this.storeUtils.isServerSideFilterAllLevels()||e&&n)return this.refreshStore(!0),void this.sortRowNodes();this.filterRowNodes(),this.sortRowNodes(),this.forEachChildStoreShallow((function(e){return e.refreshAfterFilter(t)}))},e.prototype.refreshAfterSort=function(t){var e=this.storeUtils.isServerSideSortOnServer(),n=this.storeUtils.isServerRefreshNeeded(this.parentRowNode,this.ssrmParams.rowGroupCols,t);if(this.storeUtils.isServerSideSortAllLevels()||e&&n)return this.refreshStore(!0),void this.filterRowNodes();this.filterRowNodes(),this.sortRowNodes(),this.forEachChildStoreShallow((function(e){return e.refreshAfterSort(t)}))},e.prototype.applyTransaction=function(t){switch(this.getState()){case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NlK.STATE_FAILED:return{status:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Qk6.StoreLoadingFailed};case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NlK.STATE_LOADING:return{status:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Qk6.StoreLoading};case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NlK.STATE_WAITING_TO_LOAD:return{status:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Qk6.StoreWaitingToLoad}}var e=this.gridOptionsService.getCallback("isApplyServerSideTransaction");if(e&&!e({transaction:t,parentNode:this.parentRowNode,storeInfo:this.info,groupLevelInfo:this.info}))return{status:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Qk6.Cancelled};var n={status:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Qk6.Applied,remove:[],update:[],add:[]},i=[];return this.executeAdd(t,n),this.executeRemove(t,n,i),this.executeUpdate(t,n,i),this.filterAndSortNodes(),this.updateSelection(i),n},e.prototype.updateSelection=function(t){if(t.length>0){t.forEach((function(t){t.setSelected(!1,!1,!0,"rowDataChanged")}));var e={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_SELECTION_CHANGED,source:"rowDataChanged"};this.eventService.dispatchEvent(e)}},e.prototype.executeAdd=function(t,e){var n=this,i=t.add,o=t.addIndex;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missingOrEmpty(i)||("number"==typeof o&&o>=0?i.reverse().forEach((function(t){var i=n.createDataNode(t,o);e.add.push(i)})):i.forEach((function(t){var i=n.createDataNode(t);e.add.push(i)})))},e.prototype.executeRemove=function(t,e,n){var i=this,o=t.remove;if(null!=o){var r={};o.forEach((function(t){var o=i.lookupRowNode(t);o&&(o.isSelected()&&n.push(o),o.clearRowTopAndRowIndex(),r[o.id]=!0,delete i.allNodesMap[o.id],e.remove.push(o),i.nodeManager.removeNode(o))})),this.allRowNodes=this.allRowNodes.filter((function(t){return!r[t.id]}))}},e.prototype.executeUpdate=function(t,e,n){var i=this,o=t.update;null!=o&&o.forEach((function(t){var o=i.lookupRowNode(t);o&&(i.blockUtils.updateDataIntoRowNode(o,t),!o.selectable&&o.isSelected()&&n.push(o),e.update.push(o))}))},e.prototype.lookupRowNode=function(t){var e,n=this.gridOptionsService.getRowIdFunc();if(null!=n){var i=this.level,o=this.parentRowNode.getGroupKeys(),r=n({data:t,parentKeys:o.length>0?o:void 0,level:i});if(!(e=this.allNodesMap[r]))return console.error("AG Grid: could not find row id="+r+", data item was not found for this id"),null}else if(!(e=this.allRowNodes.find((function(e){return e.data===t}))))return console.error("AG Grid: could not find data item as object was not found",t),null;return e},e.prototype.addStoreStates=function(t){t.push({suppressInfiniteScroll:!0,route:this.parentRowNode.getGroupKeys(),rowCount:this.allRowNodes.length,info:this.info}),this.forEachChildStoreShallow((function(e){return e.addStoreStates(t)}))},e.prototype.refreshStore=function(t){if(t){var e=this.nodesAfterSort?this.nodesAfterSort.length:1;this.initialiseRowNodes(e)}this.scheduleLoad(),this.fireStoreUpdatedEvent()},e.prototype.retryLoads=function(){this.getState()===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NlK.STATE_FAILED&&(this.initialiseRowNodes(1),this.scheduleLoad()),this.forEachChildStoreShallow((function(t){return t.retryLoads()}))},e.prototype.scheduleLoad=function(){this.setStateWaitingToLoad(),this.rowNodeBlockLoader.checkBlockToLoad()},e.prototype.fireStoreUpdatedEvent=function(){var t={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_STORE_UPDATED};this.eventService.dispatchEvent(t)},e.prototype.getRowCount=function(){return this.nodesAfterSort.length},e.prototype.getTopLevelRowDisplayedIndex=function(t){return this.nodesAfterSort[t].rowIndex},e.prototype.isLastRowIndexKnown=function(){return this.getState()==ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NlK.STATE_LOADED},e.prototype.getRowNodesInRange=function(t,e){var n=[],i=!1;return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(t)&&(i=!0),this.nodesAfterSort.forEach((function(o){var r=o===t||o===e;(i||r)&&n.push(o),r&&(i=!i)})),i?[]:n},e.prototype.getStoreBounds=function(){return{topPx:this.topPx,heightPx:this.heightPx}},__decorate$u([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ssrmStoreUtils")],e.prototype,"storeUtils",void 0),__decorate$u([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ssrmBlockUtils")],e.prototype,"blockUtils",void 0),__decorate$u([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$u([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowNodeBlockLoader")],e.prototype,"rowNodeBlockLoader",void 0),__decorate$u([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowNodeSorter")],e.prototype,"rowNodeSorter",void 0),__decorate$u([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("sortController")],e.prototype,"sortController",void 0),__decorate$u([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ssrmNodeManager")],e.prototype,"nodeManager",void 0),__decorate$u([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("filterManager")],e.prototype,"filterManager",void 0),__decorate$u([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ssrmTransactionManager")],e.prototype,"transactionManager",void 0),__decorate$u([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),__decorate$u([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FXL],e.prototype,"destroyRowNodes",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NlK),__extends$v=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$t=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},__read$7=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},LazyBlockLoader=function(t){function e(e,n,i){var o=t.call(this)||this;return o.loadingNodes=new Set,o.checkForLoadQueued=!1,o.loaderTimeout=void 0,o.nextBlockToLoad=void 0,o.parentNode=n,o.cache=e,o.storeParams=i,o}return __extends$v(e,t),e.prototype.init=function(){var t=this;this.addManagedListener(this.rowNodeBlockLoader,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fKL.BLOCK_LOADED_EVENT,(function(){return t.queueLoadAction()}))},e.prototype.isRowLoading=function(t){return this.loadingNodes.has(t)},e.prototype.getBlockToLoad=function(){for(var t,e=this.api.getFirstDisplayedRow(),n=this.api.getLastDisplayedRow(),i=e;i<=n;i++){var o=this.cache.getNodeCachedByDisplayIndex(i);if(o){var r=this.cache.getNodes().getBy("node",o);if(r&&!this.isRowLoading(r.index)&&(o.__needsRefreshWhenVisible||o.stub&&!o.failedLoad))return this.getBlockStartIndexForIndex(r.index)}}var s=this.cache.getNodesToRefresh(),a=null,l=Number.MAX_SAFE_INTEGER;s.forEach((function(t){if(null!=t.rowIndex){var i=Math.abs(e-t.rowIndex),o=Math.abs(t.rowIndex-n);i<l&&(a=t,l=i),o<l&&(a=t,l=o)}else a=t}));var c=null===(t=this.cache.getNodes().getBy("node",a))||void 0===t?void 0:t.index;return null==c?void 0:this.getBlockStartIndexForIndex(c)},e.prototype.reset=function(){this.loadingNodes.clear(),clearTimeout(this.loaderTimeout),this.loaderTimeout=void 0},e.prototype.executeLoad=function(t,e){var n,i=this,o=this.cache.getSsrmParams(),r={startRow:t,endRow:e,rowGroupCols:o.rowGroupCols,valueCols:o.valueCols,pivotCols:o.pivotCols,pivotMode:o.pivotMode,groupKeys:this.parentNode.getGroupKeys(),filterModel:o.filterModel,sortModel:o.sortModel},s=function(){for(var n=0;n<e-t;n++)i.loadingNodes.delete(t+n)},a=function(n){i.rowNodeBlockLoader.loadComplete(),i.cache.onLoadSuccess(t,e-t,n),s(),i.queueLoadAction()},l=function(){i.rowNodeBlockLoader.loadComplete(),i.cache.onLoadFailed(t,e-t),s(),i.queueLoadAction()},c={request:r,successCallback:function(t,e){return a({rowData:t,rowCount:e})},success:a,failCallback:l,fail:l,parentNode:this.parentNode,api:this.api,columnApi:this.columnApi,context:this.gridOptionsService.context};!function(){for(var n=0;n<e-t;n++)i.loadingNodes.add(t+n)}(),null===(n=this.cache.getSsrmParams().datasource)||void 0===n||n.getRows(c)},e.prototype.getNextBlockToLoad=function(){var t=this.getBlockToLoad();return null!=t&&t<0&&this.getBlockToLoad(),null!=t?[String(t),t+this.getBlockSize()]:null},e.prototype.queueLoadCheck=function(){var t=this;this.checkForLoadQueued||(this.checkForLoadQueued=!0,window.queueMicrotask((function(){t.checkForLoadQueued=!1,t.queueLoadAction()})))},e.prototype.queueLoadAction=function(){var t,e=this,n=this.getNextBlockToLoad();if(!n)return window.clearTimeout(this.loaderTimeout),this.loaderTimeout=void 0,void(this.nextBlockToLoad=void 0);if(!this.nextBlockToLoad||this.nextBlockToLoad[0]!==n[0]&&this.nextBlockToLoad[1]!==n[1]){this.nextBlockToLoad=n,window.clearTimeout(this.loaderTimeout);var i=__read$7(this.nextBlockToLoad,2),o=i[0],r=i[1],s=Number(o);this.loaderTimeout=window.setTimeout((function(){e.cache.isAlive()&&(e.loaderTimeout=void 0,e.attemptLoad(s,r),e.nextBlockToLoad=void 0)}),null!==(t=this.gridOptionsService.getNum("blockLoadDebounceMillis"))&&void 0!==t?t:0)}},e.prototype.attemptLoad=function(t,e){var n=this.rowNodeBlockLoader.getAvailableLoadingCount();null!=n&&0===n||(this.rowNodeBlockLoader.registerLoads(1),this.executeLoad(t,e),this.queueLoadAction())},e.prototype.getBlockSize=function(){return this.storeParams.cacheBlockSize||e.DEFAULT_BLOCK_SIZE},e.prototype.getBlockStartIndexForIndex=function(t){return t-t%this.getBlockSize()},e.prototype.getBlockBoundsForIndex=function(t){var e=this.getBlockStartIndexForIndex(t);return[e,e+this.getBlockSize()]},e.DEFAULT_BLOCK_SIZE=100,__decorate$t([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],e.prototype,"api",void 0),__decorate$t([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnApi")],e.prototype,"columnApi",void 0),__decorate$t([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowNodeBlockLoader")],e.prototype,"rowNodeBlockLoader",void 0),__decorate$t([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),MultiIndexMap=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length<1)throw new Error("AG Grid: At least one index must be provided.");this.indexes=t,this.maps=new Map(this.indexes.map((function(t){return[t,new Map]})))}return t.prototype.getBy=function(t,e){var n=this.maps.get(t);if(!n)throw new Error("AG Grid: "+String(t)+" not found");return n.get(e)},t.prototype.set=function(t){var e=this;this.indexes.forEach((function(n){var i=e.maps.get(n);if(!i)throw new Error("AG Grid: "+String(n)+" not found");i.set(t[n],t)}))},t.prototype.delete=function(t){var e=this;this.indexes.forEach((function(n){var i=e.maps.get(n);if(!i)throw new Error("AG Grid: "+String(n)+" not found");i.delete(t[n])}))},t.prototype.clear=function(){this.maps.forEach((function(t){return t.clear()}))},t.prototype.getIterator=function(t){var e=this.maps.get(t);if(!e)throw new Error("AG Grid: "+String(t)+" not found");return e.values()},t.prototype.forEach=function(t){for(var e,n=this.getIterator(this.indexes[0]);(e=n.next())&&!e.done;)t(e.value)},t.prototype.find=function(t){for(var e,n=this.getIterator(this.indexes[0]);(e=n.next())&&!e.done;)if(t(e.value))return e.value},t.prototype.filter=function(t){for(var e,n=this.getIterator(this.indexes[0]),i=[];(e=n.next())&&!e.done;)t(e.value)&&i.push(e.value);return i},t}(),__extends$u=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$s=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},__read$6=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},__spread$4=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$6(arguments[e]));return t},LazyCache=function(t){function e(e,n,i){var o=t.call(this)||this;return o.live=!0,o.store=e,o.numberOfRows=n,o.isLastRowKnown=!1,o.storeParams=i,o}return __extends$u(e,t),e.prototype.init=function(){this.nodeMap=new MultiIndexMap("index","id","node"),this.nodeDisplayIndexMap=new Map,this.nodesToRefresh=new Set,this.defaultNodeIdPrefix=this.blockUtils.createNodeIdPrefix(this.store.getParentNode()),this.rowLoader=this.createManagedBean(new LazyBlockLoader(this,this.store.getParentNode(),this.storeParams)),this.getRowIdFunc=this.gridOptionsService.getRowIdFunc(),this.isMasterDetail=this.gridOptionsService.isMasterDetail()},e.prototype.destroyRowNodes=function(){var t=this;this.numberOfRows=0,this.nodeMap.forEach((function(e){return t.blockUtils.destroyRowNode(e.node)})),this.nodeMap.clear(),this.nodeDisplayIndexMap.clear(),this.nodesToRefresh.clear(),this.live=!1},e.prototype.getRowByDisplayIndex=function(t){var e,n,i,o;if(this.store.isDisplayIndexInStore(t)){var r=this.nodeDisplayIndexMap.get(t);if(r)return(r.stub||r.__needsRefreshWhenVisible)&&this.rowLoader.queueLoadCheck(),r;if(t===this.store.getDisplayIndexStart())return this.createStubNode(0,t);var s=this.nodeDisplayIndexMap.get(t-1);if(s){if(this.isMasterDetail&&s.master&&s.expanded)return s.detailNode;if(s.expanded&&(null===(e=s.childStore)||void 0===e?void 0:e.isDisplayIndexInStore(t)))return null===(n=s.childStore)||void 0===n?void 0:n.getRowUsingDisplayIndex(t);var a=this.nodeMap.getBy("node",s);return this.createStubNode(a.index+1,t)}var l=this.getSurroundingNodesByDisplayIndex(t);if(null==l){var c=this.store.getRowCount()-(this.store.getDisplayIndexEnd()-t);return this.createStubNode(c,t)}var u=l.previousNode,h=l.nextNode;if(u&&u.expanded&&(null===(i=u.childStore)||void 0===i?void 0:i.isDisplayIndexInStore(t)))return null===(o=u.childStore)||void 0===o?void 0:o.getRowUsingDisplayIndex(t);if(h){var d=this.nodeMap.getBy("node",h),p=h.rowIndex-t,f=d.index-p;return this.createStubNode(f,t)}var g=this.store.getRowCount()-(this.store.getDisplayIndexEnd()-t);return this.createStubNode(g,t)}},e.prototype.createStubNode=function(t,e){var n=this,i=this.store.getRowBounds(e),o=this.createRowAtIndex(t,null,(function(t){t.setRowIndex(e),t.setRowTop(i.rowTop),n.nodeDisplayIndexMap.set(e,t)}));return this.rowLoader.queueLoadCheck(),o},e.prototype.getRowByStoreIndex=function(t){var e;return null===(e=this.nodeMap.getBy("index",t))||void 0===e?void 0:e.node},e.prototype.skipDisplayIndexes=function(t,e,n){if(0!==t){var i=this.gridOptionsService.getRowHeightAsNumber();this.skippedDisplayIndexes.push({from:e.peek(),to:e.peek()+t}),e.skip(t),n.value+=t*i}},e.prototype.setDisplayIndexes=function(t,e){this.nodeDisplayIndexMap.clear(),this.skippedDisplayIndexes=[];var n={};this.nodeMap.forEach((function(t){n[t.index]=t.node}));var i=-1;for(var o in n){var r=n[o],s=Number(o),a=s-1-i;this.skipDisplayIndexes(a,t,e),this.blockUtils.setDisplayIndex(r,t,e),this.nodeDisplayIndexMap.set(r.rowIndex,r),t.peek()-r.rowIndex>1&&this.skippedDisplayIndexes.push({from:r.rowIndex+1,to:t.peek()}),i=s}var l=this.numberOfRows-1-i;this.skipDisplayIndexes(l,t,e),this.purgeExcessRows()},e.prototype.getRowCount=function(){return this.numberOfRows},e.prototype.setRowCount=function(t,e){if(t<0)throw new Error("AG Grid: setRowCount can only accept a positive row count.");this.numberOfRows=t,null!=e&&(this.isLastRowKnown=e,!1===e&&(this.numberOfRows+=1)),this.fireStoreUpdatedEvent()},e.prototype.getNodes=function(){return this.nodeMap},e.prototype.getNodeCachedByDisplayIndex=function(t){var e;return null!==(e=this.nodeDisplayIndexMap.get(t))&&void 0!==e?e:null},e.prototype.getNodesToRefresh=function(){return this.nodesToRefresh},e.prototype.getSurroundingNodesByDisplayIndex=function(t){for(var e in this.skippedDisplayIndexes){var n=this.skippedDisplayIndexes[e];if(n.from<=t&&n.to>=t)return{previousNode:this.nodeDisplayIndexMap.get(n.from-1),nextNode:this.nodeDisplayIndexMap.get(n.to+1)}}return null},e.prototype.getDisplayIndexFromStoreIndex=function(t){var e,n,i,o,r=this.nodeMap.getBy("index",t);return r?r.node.rowIndex:(this.nodeMap.forEach((function(e){t>e.index?(null==o||o.index<e.index)&&(o=e):(null==i||i.index>e.index)&&(i=e)})),i?o?null!==(n=null===(e=o.node.childStore)||void 0===e?void 0:e.getDisplayIndexEnd())&&void 0!==n?n:o.node.rowIndex+1:this.store.getDisplayIndexStart()+t:this.store.getDisplayIndexEnd()-(this.numberOfRows-t))},e.prototype.createRowAtIndex=function(t,e,n){var i=this.nodeMap.getBy("index",t);if(i){var o=i.node;if(this.nodesToRefresh.delete(o),o.__needsRefreshWhenVisible=!1,this.doesNodeMatch(e,o))return this.blockUtils.updateDataIntoRowNode(o,e),o;if(null==this.getRowIdFunc&&o.group&&o.expanded)return o;this.destroyRowAtIndex(t)}if(e&&null!=this.getRowIdFunc){var r=this.getRowId(e),s=this.nodeMap.getBy("id",r);if(s){this.nodeMap.delete(s);o=s.node;var a=s.index;return this.blockUtils.updateDataIntoRowNode(o,e),this.nodeMap.set({id:o.id,node:o,index:t}),this.markBlockForVerify(a),o}}var l=this.blockUtils.createRowNode(this.store.getRowDetails());if(null!=e){var c=this.getPrefixedId(this.store.getIdSequence().next());this.blockUtils.setDataIntoRowNode(l,e,c,void 0),this.blockUtils.checkOpenByDefault(l),this.nodeManager.addRowNode(l)}return this.nodeMap.set({id:l.id,node:l,index:t}),n&&n(l),l},e.prototype.getBlockStates=function(){var t=this,e={},n={},i=new Set;this.nodeMap.forEach((function(o){var r,s=o.node,a=o.index,l=t.rowLoader.getBlockStartIndexForIndex(a);s.stub||s.failedLoad||(e[l]=(null!==(r=e[l])&&void 0!==r?r:0)+1);var c="loaded";s.failedLoad?c="failed":t.rowLoader.isRowLoading(l)?c="loading":t.nodesToRefresh.has(s)&&(c="needsLoading"),(s.__needsRefreshWhenVisible||s.stub)&&i.add(l),n[l]||(n[l]=new Set),n[l].add(c)}));var o={loading:4,failed:3,needsLoading:2,loaded:1},r=this.blockUtils.createNodeIdPrefix(this.store.getParentNode()),s={};return Object.entries(n).forEach((function(n){var i,a=__read$6(n,2),l=a[0],c=a[1],u=__spread$4(c).sort((function(t,e){var n,i;return(null!==(n=o[t])&&void 0!==n?n:0)-(null!==(i=o[e])&&void 0!==i?i:0)})),h=u[0],d=Number(l)/t.rowLoader.getBlockSize(),p=r?r+"-"+d:String(d);s[p]={blockNumber:d,startRow:Number(l),endRow:Number(l)+t.rowLoader.getBlockSize(),pageStatus:h,loadedRowCount:null!==(i=e[l])&&void 0!==i?i:0}})),s},e.prototype.destroyRowAtIndex=function(t){var e=this.nodeMap.getBy("index",t);e&&(this.nodeMap.delete(e),this.nodeDisplayIndexMap.delete(e.node.rowIndex),this.nodesToRefresh.delete(e.node),this.blockUtils.destroyRowNode(e.node))},e.prototype.getSsrmParams=function(){return this.store.getSsrmParams()},e.prototype.getPrefixedId=function(t){return this.defaultNodeIdPrefix?this.defaultNodeIdPrefix+"-"+t:t.toString()},e.prototype.markBlockForVerify=function(t){var e=__read$6(this.rowLoader.getBlockBoundsForIndex(t),2),n=e[0],i=e[1];this.nodeMap.filter((function(t){return t.index>=n&&t.index<i})).forEach((function(t){t.node.__needsRefreshWhenVisible=!0}))},e.prototype.doesNodeMatch=function(t,e){if(e.stub)return!1;if(null!=this.getRowIdFunc){var n=this.getRowId(t);return e.id===n}return e.data===t},e.prototype.purgeStubsOutsideOfViewport=function(){var t=this,e=this.api.getFirstDisplayedRow(),n=this.api.getLastDisplayedRow(),i=this.rowLoader.getBlockStartIndexForIndex(e),o=__read$6(this.rowLoader.getBlockBoundsForIndex(n),2);o[0];var r=o[1];this.nodeMap.forEach((function(e){t.rowLoader.isRowLoading(e.index)||e.node.stub&&(e.index<i||e.index>r)&&t.destroyRowAtIndex(e.index)}))},e.prototype.getNumberOfRowsToRetain=function(t,e){var n=this.storeParams.maxBlocksInCache;if(null==n)return null;var i=this.rowLoader.getBlockSize(),o=Math.ceil((e-t)/i);return Math.max(n,o)*i},e.prototype.getBlocksDistanceFromRow=function(t,e){var n=this,i={};return t.forEach((function(t){var o=t.node,r=t.index,s=__read$6(n.rowLoader.getBlockBoundsForIndex(r),2),a=s[0],l=s[1];if(!(a in i)){var c,u=Math.abs(o.rowIndex-e),h=n.nodeMap.getBy("index",[l-1]);h&&(c=Math.abs(h.node.rowIndex-e));var d=null==c||u<c?u:c;i[a]=d}})),Object.entries(i)},e.prototype.purgeExcessRows=function(){var t=this;this.purgeStubsOutsideOfViewport();var e=this.api.getFirstDisplayedRow(),n=this.api.getLastDisplayedRow(),i=this.rowLoader.getBlockStartIndexForIndex(e),o=__read$6(this.rowLoader.getBlockBoundsForIndex(n),2);o[0];var r=o[1],s=this.getNumberOfRowsToRetain(i,r);if(null!=this.store.getDisplayIndexEnd()&&null!=s){var a=this.nodeMap.filter((function(e){var n=e.node;return!n.stub&&!t.isNodeCached(n)}));if(!(a.length<=s)){var l=a.filter((function(t){var e=t.node.rowIndex;if(null==e||-1===e)return!0;if(i<=e&&e<r)return!1;var n=e+h;return!(i<=n&&n<r)&&!(e<i&&n>=r)}));if(s-=a.length-l.length,l.length){var c=e+(n-e)/2,u=this.getBlocksDistanceFromRow(l,c),h=this.rowLoader.getBlockSize(),d=Math.ceil(s/h);if(!(u.length<=d)){u.sort((function(t,e){return Math.sign(e[1]-t[1])}));for(var p=u.length-Math.max(d,0),f=0;f<p;f++)for(var g=Number(u[f][0]),m=g;m<g+h;m++){var _=this.nodeMap.getBy("index",m);_&&!this.isNodeCached(_.node)&&this.destroyRowAtIndex(m)}}}}}},e.prototype.isNodeFocused=function(t){var e=this.focusService.getFocusCellToUseAfterRefresh();return!!e&&(null==e.rowPinned&&e.rowIndex===t.rowIndex)},e.prototype.isNodeCached=function(t){return!!t.group&&t.expanded||this.isNodeFocused(t)},e.prototype.extractDuplicateIds=function(t){var e=this;if(null==!this.getRowIdFunc)return[];var n=new Set,i=new Set;return t.forEach((function(t){var o=e.getRowId(t);n.has(o)?i.add(o):n.add(o)})),__spread$4(i)},e.prototype.onLoadSuccess=function(t,e,n){var i=this;if(this.live){if(null!=this.getRowIdFunc){var o=this.extractDuplicateIds(n.rowData);if(o.length>0){var r=o.join(", ");return console.warn("AG Grid: Unable to display rows as duplicate row ids ("+r+") were returned by the getRowId callback. Please modify the getRowId callback to provide unique ids."),void this.onLoadFailed(t,e)}}var s=this.nodesToRefresh.size>0;n.rowData.forEach((function(e,n){var o,r=t+n,s=i.nodeMap.getBy("index",r);if(!(null===(o=null==s?void 0:s.node)||void 0===o?void 0:o.stub))return s&&i.doesNodeMatch(e,s.node)?(i.blockUtils.updateDataIntoRowNode(s.node,e),i.nodesToRefresh.delete(s.node),void(s.node.__needsRefreshWhenVisible=!1)):void i.createRowAtIndex(r,e);i.createRowAtIndex(r,e)}));var a=0===this.nodesToRefresh.size;if(s&&a&&this.fireRefreshFinishedEvent(),null!=n.rowCount&&-1!==n.rowCount)this.numberOfRows=n.rowCount,this.isLastRowKnown=!0;else if(e>n.rowData.length)this.numberOfRows=t+n.rowData.length,this.isLastRowKnown=!0;else if(!this.isLastRowKnown){var l=t+n.rowData.length+1;l>this.numberOfRows&&(this.numberOfRows=l)}if(this.isLastRowKnown)this.nodeMap.filter((function(t){return t.index>=i.numberOfRows})).forEach((function(t){return i.destroyRowAtIndex(t.index)}));this.fireStoreUpdatedEvent()}},e.prototype.fireRefreshFinishedEvent=function(){0===this.nodesToRefresh.size&&this.store.fireRefreshFinishedEvent()},e.prototype.isLastRowIndexKnown=function(){return this.isLastRowKnown},e.prototype.onLoadFailed=function(t,e){this.live&&(this.nodeMap.filter((function(n){return n.index>=t&&n.index<t+e})).forEach((function(t){return t.node.failedLoad=!0})),this.fireStoreUpdatedEvent())},e.prototype.markNodesForRefresh=function(){var t=this;this.nodeMap.forEach((function(e){e.node.stub||t.nodesToRefresh.add(e.node)})),this.rowLoader.queueLoadCheck(),this.isLastRowKnown&&0===this.numberOfRows&&(this.numberOfRows=1,this.isLastRowKnown=!1,this.fireStoreUpdatedEvent())},e.prototype.isNodeInCache=function(t){return!!this.nodeMap.getBy("id",t)},e.prototype.fireStoreUpdatedEvent=function(){this.live&&this.store.fireStoreUpdatedEvent()},e.prototype.getRowId=function(t){if(null==this.getRowIdFunc)return null;var e=this.store.getRowDetails().level,n=this.store.getParentNode().getGroupKeys(),i=this.getRowIdFunc({data:t,parentKeys:n.length>0?n:void 0,level:e});return String(i)},e.prototype.updateRowNodes=function(t){var e=this;if(null==this.getRowIdFunc)throw new Error("AG Grid: Insert transactions can only be applied when row ids are supplied.");var n=[];return t.forEach((function(t){var i=e.getRowId(t),o=e.nodeMap.getBy("id",i);o&&(e.blockUtils.updateDataIntoRowNode(o.node,t),n.push(o.node))})),n},e.prototype.insertRowNodes=function(t,e){var n=this,i=null==e&&this.isLastRowKnown?this.store.getRowCount():e;if(null==i||this.store.getRowCount()<i)return[];if(null==this.getRowIdFunc)throw new Error("AG Grid: Insert transactions can only be applied when row ids are supplied.");var o={};t.forEach((function(t){var e=n.getRowId(t);e&&n.isNodeInCache(e)||(o[e]=t)}));var r=Object.values(o),s=r.length;if(0===s)return[];var a=this.nodeMap.filter((function(t){return t.index>=i}));return a.forEach((function(t){return n.nodeMap.delete(t)})),a.forEach((function(t){n.nodeMap.set({node:t.node,index:t.index+s,id:t.id})})),this.numberOfRows+=s,r.map((function(t,e){return n.createRowAtIndex(i+e,t)}))},e.prototype.getOrderedNodeMap=function(){var t={};return this.nodeMap.forEach((function(e){return t[e.index]=e})),t},e.prototype.clearDisplayIndexes=function(){this.nodeDisplayIndexMap.clear()},e.prototype.removeRowNodes=function(t){if(null==this.getRowIdFunc)throw new Error("AG Grid: Insert transactions can only be applied when row ids are supplied.");var e=[],n=[],i=0,o=__spread$4(t),r=this.getOrderedNodeMap(),s=-1,a=function(t){s+=1;var a=r[t],c=o.findIndex((function(t){return t===a.id}));if(-1!==c)return o.splice(c,1),l.destroyRowAtIndex(Number(t)),e.push(a.node),i+=1,"continue";if(0===i)return"continue";var u=Number(t);s!==u&&n.push(a.node),l.nodeMap.delete(r[t]),l.nodeMap.set({id:a.id,node:a.node,index:u-i})},l=this;for(var c in r)a(c);return this.numberOfRows-=this.isLastRowIndexKnown()?t.length:i,o.length>0&&n.length>0&&(n.forEach((function(t){return t.__needsRefreshWhenVisible=!0})),this.rowLoader.queueLoadCheck()),e},__decorate$s([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],e.prototype,"api",void 0),__decorate$s([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ssrmBlockUtils")],e.prototype,"blockUtils",void 0),__decorate$s([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("focusService")],e.prototype,"focusService",void 0),__decorate$s([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ssrmNodeManager")],e.prototype,"nodeManager",void 0),__decorate$s([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),__decorate$s([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FXL],e.prototype,"destroyRowNodes",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$t=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$r=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},__read$5=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},__spread$3=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$5(arguments[e]));return t},LazyStore=function(t){function e(e,n,i){var o=t.call(this)||this;return o.idSequence=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.at1,o.ssrmParams=e,o.parentRowNode=i,o.storeParams=n,o.level=i.level+1,o.group=!!e.rowGroupCols&&o.level<e.rowGroupCols.length,o.leafGroup=!!e.rowGroupCols&&o.level===e.rowGroupCols.length-1,o}return __extends$t(e,t),e.prototype.init=function(){var t=1;if(0===this.level&&(t=this.storeUtils.getServerSideInitialRowCount()),this.cache=this.createManagedBean(new LazyCache(this,t,this.storeParams)),!this.gridOptionsService.isTreeData()&&this.group){var e=this.ssrmParams.rowGroupCols[this.level];this.groupField=e.field,this.rowGroupColumn=this.columnModel.getRowGroupColumns()[this.level]}},e.prototype.destroyRowNodes=function(){this.displayIndexStart=void 0,this.displayIndexEnd=void 0,this.destroyBean(this.cache)},e.prototype.applyTransaction=function(t){var e,n,i,o=this,r=this.gridOptionsService.getRowIdFunc();if(!r)return console.warn("AG Grid: getRowId callback must be implemented for transactions to work. Transaction was ignored."),{status:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Qk6.Cancelled};var s=this.gridOptionsService.getCallback("isApplyServerSideTransaction");if(s&&!s({transaction:t,parentNode:this.parentRowNode,storeInfo:this.info,groupLevelInfo:this.info}))return{status:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Qk6.Cancelled};var a=void 0;(null===(e=t.update)||void 0===e?void 0:e.length)&&(a=this.cache.updateRowNodes(t.update));var l=void 0;if(null===(n=t.add)||void 0===n?void 0:n.length){var c=t.addIndex;null!=c&&c<0&&(c=void 0),l=this.cache.insertRowNodes(t.add,c)}var u=void 0;if(null===(i=t.remove)||void 0===i?void 0:i.length){var h=t.remove.map((function(t){return r({level:o.level,parentKeys:o.parentRowNode.getGroupKeys(),data:t})})),d=__spread$3(new Set(h));u=this.cache.removeRowNodes(d)}return this.updateSelectionAfterTransaction(a,u),{status:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Qk6.Applied,update:a,add:l,remove:u}},e.prototype.updateSelectionAfterTransaction=function(t,e){var n=!1;if(null==t||t.forEach((function(t){t.isSelected()&&!t.selectable&&(t.setSelected(!1,!1,!0,"rowDataChanged"),n=!0)})),null==e||e.forEach((function(t){t.isSelected()&&(t.setSelected(!1,!1,!0,"rowDataChanged"),n=!0)})),n){var i={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_SELECTION_CHANGED,source:"rowDataChanged"};this.eventService.dispatchEvent(i)}},e.prototype.clearDisplayIndexes=function(){var t=this;this.displayIndexStart=void 0,this.displayIndexEnd=void 0,this.cache.getNodes().forEach((function(e){return t.blockUtils.clearDisplayIndex(e.node)})),this.cache.clearDisplayIndexes()},e.prototype.getDisplayIndexStart=function(){return this.displayIndexStart},e.prototype.getDisplayIndexEnd=function(){return this.displayIndexEnd},e.prototype.getRowCount=function(){return this.cache.getRowCount()},e.prototype.setRowCount=function(t,e){this.cache.setRowCount(t,e)},e.prototype.isDisplayIndexInStore=function(t){return 0!==this.cache.getRowCount()&&(this.displayIndexStart<=t&&t<this.getDisplayIndexEnd())},e.prototype.setDisplayIndexes=function(t,e){this.displayIndexStart=t.peek(),this.topPx=e.value,this.cache.setDisplayIndexes(t,e),this.displayIndexEnd=t.peek(),this.heightPx=e.value-this.topPx},e.prototype.forEachStoreDeep=function(t,e){void 0===e&&(e=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.at1),t(this,e.next()),this.cache.getNodes().forEach((function(n){var i=n.node.childStore;i&&i.forEachStoreDeep(t,e)}))},e.prototype.forEachNodeDeep=function(t,e){void 0===e&&(e=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.at1),this.cache.getNodes().forEach((function(n){t(n.node,e.next());var i=n.node.childStore;i&&i.forEachNodeDeep(t,e)}))},e.prototype.forEachNodeDeepAfterFilterAndSort=function(t,e){void 0===e&&(e=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.at1);var n=this.cache.getOrderedNodeMap();for(var i in n){var o=n[i];t(o.node,e.next());var r=o.node.childStore;r&&r.forEachNodeDeepAfterFilterAndSort(t,e)}},e.prototype.retryLoads=function(){this.cache.getNodes().forEach((function(t){var e=t.node;e.failedLoad&&(e.failedLoad=!1,e.__needsRefreshWhenVisible=!0,e.stub=!0)})),this.forEachChildStoreShallow((function(t){return t.retryLoads()})),this.fireStoreUpdatedEvent()},e.prototype.getRowUsingDisplayIndex=function(t){return this.cache.getRowByDisplayIndex(t)},e.prototype.getRowBounds=function(t){var e;if(!this.isDisplayIndexInStore(t))return null;var n=this.cache.getNodeCachedByDisplayIndex(t);if(n&&(i=this.blockUtils.extractRowBounds(n,t)))return i;var i,o=null!==(e=this.cache.getSurroundingNodesByDisplayIndex(t))&&void 0!==e?e:{},r=o.previousNode,s=o.nextNode;if(r&&null!=(i=this.blockUtils.extractRowBounds(r,t)))return i;var a=this.gridOptionsService.getRowHeightAsNumber();if(s){var l=Math.floor((s.rowIndex-t)*a);return{rowTop:s.rowTop-l,rowHeight:a}}return{rowTop:this.topPx+this.heightPx-Math.floor((this.getDisplayIndexEnd()-t)*a),rowHeight:a}},e.prototype.isPixelInRange=function(t){return t>=this.topPx&&t<this.topPx+this.heightPx},e.prototype.getRowIndexAtPixel=function(t){if(t<this.topPx)return this.getDisplayIndexStart();if(t>=this.topPx+this.heightPx)return this.getDisplayIndexEnd()-1;var e=Number.MAX_SAFE_INTEGER,n=null,i=Number.MAX_SAFE_INTEGER,o=null;if(this.cache.getNodes().forEach((function(r){var s=r.node,a=Math.abs(t-s.rowTop);s.rowTop<t?a<e&&(e=a,n=s):a<i&&(i=a,o=s)})),n){var r=this.blockUtils.getIndexAtPixel(n,t);if(null!=r)return r}var s=this.gridOptionsService.getRowHeightAsNumber();if(o){var a=o.rowTop,l=Math.ceil((a-t)/s);return o.rowIndex-l}var c=this.topPx+this.heightPx,u=Math.floor((c-t)/s);return this.getDisplayIndexEnd()-u},e.prototype.getChildStore=function(t){var e=this;return this.storeUtils.getChildStore(t,this,(function(t){var n=e.cache.getNodes().find((function(e){return e.node.key==t}));return n?n.node:null}))},e.prototype.forEachChildStoreShallow=function(t){this.cache.getNodes().forEach((function(e){var n=e.node;n.childStore&&t(n.childStore)}))},e.prototype.refreshAfterSort=function(t){if(this.storeUtils.isServerSideSortAllLevels()||this.storeUtils.isServerRefreshNeeded(this.parentRowNode,this.ssrmParams.rowGroupCols,t)){var e=this.cache.getRowCount();return this.destroyBean(this.cache),this.cache=this.createManagedBean(new LazyCache(this,e,this.storeParams)),void this.fireStoreUpdatedEvent()}this.forEachChildStoreShallow((function(e){return e.refreshAfterSort(t)}))},e.prototype.refreshAfterFilter=function(t){this.storeUtils.isServerSideFilterAllLevels()||this.storeUtils.isServerRefreshNeeded(this.parentRowNode,this.ssrmParams.rowGroupCols,t)?this.refreshStore(!0):this.forEachChildStoreShallow((function(e){return e.refreshAfterFilter(t)}))},e.prototype.refreshStore=function(t){if(t)return this.destroyBean(this.cache),this.cache=this.createManagedBean(new LazyCache(this,1,this.storeParams)),void this.fireStoreUpdatedEvent();this.cache.markNodesForRefresh()},e.prototype.getTopLevelRowDisplayedIndex=function(t){var e=this.cache.getDisplayIndexFromStoreIndex(t);return null!=e?e:t},e.prototype.isLastRowIndexKnown=function(){return this.cache.isLastRowIndexKnown()},e.prototype.getRowNodesInRange=function(t,e){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(t),this.cache.getNodes().filter((function(n){var i=n.node;return i.rowIndex>=t.rowIndex&&i.rowIndex<=e.rowIndex})).map((function(t){return t.node}))},e.prototype.addStoreStates=function(t){t.push({suppressInfiniteScroll:!1,route:this.parentRowNode.getGroupKeys(),rowCount:this.getRowCount(),lastRowIndexKnown:this.isLastRowIndexKnown(),info:this.info,maxBlocksInCache:this.storeParams.maxBlocksInCache,cacheBlockSize:this.storeParams.cacheBlockSize}),this.forEachChildStoreShallow((function(e){return e.addStoreStates(t)}))},e.prototype.getIdSequence=function(){return this.idSequence},e.prototype.getParentNode=function(){return this.parentRowNode},e.prototype.getRowDetails=function(){return{field:this.groupField,group:this.group,leafGroup:this.leafGroup,level:this.level,parent:this.parentRowNode,rowGroupColumn:this.rowGroupColumn}},e.prototype.getSsrmParams=function(){return this.ssrmParams},e.prototype.setStoreInfo=function(t){this.info=t},e.prototype.fireStoreUpdatedEvent=function(){var t={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_STORE_UPDATED};this.eventService.dispatchEvent(t)},e.prototype.fireRefreshFinishedEvent=function(){var t={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_STORE_REFRESHED,route:this.parentRowNode.getRoute()};this.eventService.dispatchEvent(t)},e.prototype.getBlockStates=function(){return this.cache.getBlockStates()},e.prototype.getStoreBounds=function(){return{topPx:this.topPx,heightPx:this.heightPx}},__decorate$r([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ssrmBlockUtils")],e.prototype,"blockUtils",void 0),__decorate$r([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ssrmStoreUtils")],e.prototype,"storeUtils",void 0),__decorate$r([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$r([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),__decorate$r([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FXL],e.prototype,"destroyRowNodes",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$s=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$q=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},__read$4=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},ServerSideRowModel=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.onRowHeightChanged_debounced=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.debounce(e.onRowHeightChanged.bind(e),100),e.pauseStoreUpdateListening=!1,e.started=!1,e}return __extends$s(e,t),e.prototype.ensureRowHeightsValid=function(){return!1},e.prototype.start=function(){this.started=!0;var t=this.gridOptionsService.get("serverSideDatasource");t&&this.setDatasource(t)},e.prototype.destroyDatasource=function(){this.datasource&&(this.datasource.destroy&&this.datasource.destroy(),this.rowRenderer.datasourceChanged(),this.datasource=void 0)},e.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverything.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_STORE_UPDATED,this.onStoreUpdated.bind(this));var t=this.resetRootStore.bind(this);this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_VALUE_CHANGED,t),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PIVOT_CHANGED,t),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_ROW_GROUP_CHANGED,t),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_PIVOT_MODE_CHANGED,t),this.verifyProps()},e.prototype.verifyProps=function(){if(this.gridOptionsService.exists("initialGroupOrderComparator")||this.gridOptionsService.exists("defaultGroupOrderComparator")){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce((function(){return console.warn("AG Grid: initialGroupOrderComparator cannot be used with Server Side Row Model. If using Full Store, then provide the rows to the grid in the desired sort order. If using Infinite Scroll, then sorting is done on the server side, nothing to do with the client.")}),"SSRM.InitialGroupOrderComparator")}if(this.gridOptionsService.isRowSelection()&&!this.gridOptionsService.exists("getRowId")){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce((function(){return console.warn("AG Grid: getRowId callback must be provided for Server Side Row Model selection to work correctly.")}),"SSRM.SelectionNeedsRowNodeIdFunc")}},e.prototype.setDatasource=function(t){this.started&&(this.destroyDatasource(),this.datasource=t,this.resetRootStore())},e.prototype.isLastRowIndexKnown=function(){var t=this.getRootStore();return!!t&&t.isLastRowIndexKnown()},e.prototype.onColumnEverything=function(){if(this.storeParams){var t=this.columnsToValueObjects(this.columnModel.getRowGroupColumns()),e=this.columnsToValueObjects(this.columnModel.getValueColumns()),n=this.columnsToValueObjects(this.columnModel.getPivotColumns()),i=function(t){var e={};t.oldCols.forEach((function(t){return e[t.id]=t}));var n=t.newCols.every((function(t){var n=e[t.id];return n&&delete e[t.id],n&&n.field===t.field&&n.aggFunc===t.aggFunc})),i=!t.allowRemovedColumns&&!!Object.values(e).length;return n&&!i},o=!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.jsonEquals(this.storeParams.sortModel,this.sortListener.extractSortModel()),r=!i({oldCols:this.storeParams.rowGroupCols,newCols:t}),s=!i({oldCols:this.storeParams.pivotCols,newCols:n}),a=!!(null==t?void 0:t.length)&&!i({oldCols:this.storeParams.valueCols,newCols:e,allowRemovedColumns:!0});if(o||r||s||a)this.resetRootStore();else{var l=this.createStoreParams();this.storeParams.rowGroupCols=l.rowGroupCols,this.storeParams.pivotCols=l.pivotCols,this.storeParams.valueCols=l.valueCols}}else this.resetRootStore()},e.prototype.destroyRootStore=function(){this.rootNode&&this.rootNode.childStore&&(this.rootNode.childStore=this.destroyBean(this.rootNode.childStore),this.nodeManager.clear())},e.prototype.refreshAfterSort=function(t,e){this.storeParams&&(this.storeParams.sortModel=t);var n=this.getRootStore();n&&(n.refreshAfterSort(e),this.onStoreUpdated())},e.prototype.resetRootStore=function(){this.destroyRootStore(),this.rootNode=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Fxk(this.beans),this.rootNode.group=!0,this.rootNode.level=-1,this.datasource&&(this.storeParams=this.createStoreParams(),this.rootNode.childStore=this.createBean(this.storeFactory.createStore(this.storeParams,this.rootNode)),this.updateRowIndexesAndBounds());var t={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_ROW_DATA_UPDATED};this.eventService.dispatchEvent(t),this.dispatchModelUpdated(!0)},e.prototype.columnsToValueObjects=function(t){var e=this;return t.map((function(t){return{id:t.getId(),aggFunc:t.getAggFunc(),displayName:e.columnModel.getDisplayNameForColumn(t,"model"),field:t.getColDef().field}}))},e.prototype.createStoreParams=function(){var t=this.columnsToValueObjects(this.columnModel.getRowGroupColumns()),e=this.columnsToValueObjects(this.columnModel.getValueColumns()),n=this.columnsToValueObjects(this.columnModel.getPivotColumns()),i=this.gridOptionsService.isGetRowHeightFunction();return{valueCols:e,rowGroupCols:t,pivotCols:n,pivotMode:this.columnModel.isPivotMode(),filterModel:this.filterManager.getFilterModel(),sortModel:this.sortListener.extractSortModel(),datasource:this.datasource,lastAccessedSequence:new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.at1,dynamicRowHeight:i}},e.prototype.getParams=function(){return this.storeParams},e.prototype.dispatchModelUpdated=function(t){void 0===t&&(t=!1);var e={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_MODEL_UPDATED,animate:!t,keepRenderedRows:!t,newPage:!1,newData:!1};this.eventService.dispatchEvent(e)},e.prototype.onStoreUpdated=function(){this.pauseStoreUpdateListening||(this.updateRowIndexesAndBounds(),this.dispatchModelUpdated())},e.prototype.onRowHeightChangedDebounced=function(){this.onRowHeightChanged_debounced()},e.prototype.onRowHeightChanged=function(){this.updateRowIndexesAndBounds(),this.dispatchModelUpdated()},e.prototype.updateRowIndexesAndBounds=function(){var t=this.getRootStore();t&&t.setDisplayIndexes(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.at1,{value:0})},e.prototype.retryLoads=function(){var t=this.getRootStore();t&&(t.retryLoads(),this.onStoreUpdated())},e.prototype.getRow=function(t){var e=this.getRootStore();if(e)return e.getRowUsingDisplayIndex(t)},e.prototype.expandAll=function(t){this.pauseStoreUpdateListening=!0,this.forEachNode((function(e){e.stub||e.hasChildren()&&e.setExpanded(t)})),this.pauseStoreUpdateListening=!1,this.onStoreUpdated()},e.prototype.refreshAfterFilter=function(t,e){this.storeParams&&(this.storeParams.filterModel=t);var n=this.getRootStore();n&&(n.refreshAfterFilter(e),this.onStoreUpdated())},e.prototype.getRootStore=function(){if(this.rootNode&&this.rootNode.childStore)return this.rootNode.childStore},e.prototype.getRowCount=function(){var t=this.getRootStore();return t?t.getDisplayIndexEnd():0},e.prototype.getTopLevelRowCount=function(){var t=this.getRootStore();return t?t.getRowCount():1},e.prototype.getTopLevelRowDisplayedIndex=function(t){var e=this.getRootStore();return e?e.getTopLevelRowDisplayedIndex(t):t},e.prototype.getRowBounds=function(t){var e=this.getRootStore();return e?e.getRowBounds(t):{rowTop:0,rowHeight:this.gridOptionsService.getRowHeightAsNumber()}},e.prototype.getBlockStates=function(){var t=this.getRootStore();if(t){var e={};return t.forEachStoreDeep((function(t){if(t instanceof FullStore){var n=t.getBlockStateJson(),i=n.id,o=n.state;e[i]=o}else{if(!(t instanceof LazyStore))throw new Error("AG Grid: Unsupported store type");Object.entries(t.getBlockStates()).forEach((function(t){var n=__read$4(t,2),i=n[0],o=n[1];e[i]=o}))}})),e}},e.prototype.getRowIndexAtPixel=function(t){var e=this.getRootStore();return t<=0||!e?0:e.getRowIndexAtPixel(t)},e.prototype.isEmpty=function(){return!1},e.prototype.isRowsToRender=function(){return null!=this.getRootStore()&&this.getRowCount()>0},e.prototype.getType=function(){return"serverSide"},e.prototype.forEachNode=function(t){var e=this.getRootStore();e&&e.forEachNodeDeep(t)},e.prototype.forEachNodeAfterFilterAndSort=function(t){var e=this.getRootStore();e&&e.forEachNodeDeepAfterFilterAndSort(t)},e.prototype.executeOnStore=function(t,e){var n=this.getRootStore();if(n){var i=n.getChildStore(t);i&&e(i)}},e.prototype.refreshStore=function(t){void 0===t&&(t={});var e=t.route?t.route:[];this.executeOnStore(e,(function(e){return e.refreshStore(1==t.purge)}))},e.prototype.getStoreState=function(){var t=[],e=this.getRootStore();return e&&e.addStoreStates(t),t},e.prototype.getNodesInRangeForSelection=function(t,e){if(!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(t))return[];if(!e)return[t];var n=t.rowIndex,i=e.rowIndex;if(null===n||null===i)return[t];var o=[],r=__read$4([n,i].sort((function(t,e){return t-e})),2),s=r[0],a=r[1];return this.forEachNode((function(t){var e=t.rowIndex;null==e||t.stub||e>=s&&e<=a&&o.push(t)})),o.every((function(t,e,n){return 0===e?t.rowIndex===s:n[e-1].rowIndex===t.rowIndex-1}))&&o.length===a-s+1?o:[t]},e.prototype.getRowNode=function(t){var e;return this.forEachNode((function(n){n.id===t&&(e=n),n.detailNode&&n.detailNode.id===t&&(e=n.detailNode)})),e},e.prototype.isRowPresent=function(t){return!!this.getRowNode(t.id)},e.prototype.setRowCount=function(t,e){var n=this.getRootStore();if(n){if(n instanceof LazyStore)return void n.setRowCount(t,e);console.error("AG Grid: Infinite scrolling must be enabled in order to set the row count.")}},__decorate$q([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$q([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("filterManager")],e.prototype,"filterManager",void 0),__decorate$q([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowRenderer")],e.prototype,"rowRenderer",void 0),__decorate$q([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ssrmSortService")],e.prototype,"sortListener",void 0),__decorate$q([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ssrmNodeManager")],e.prototype,"nodeManager",void 0),__decorate$q([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ssrmStoreFactory")],e.prototype,"storeFactory",void 0),__decorate$q([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("beans")],e.prototype,"beans",void 0),__decorate$q([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FXL],e.prototype,"destroyDatasource",null),__decorate$q([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"addEventListeners",null),__decorate$q([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FXL],e.prototype,"destroyRootStore",null),e=__decorate$q([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("rowModel")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$r=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$p=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},StoreUtils=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$r(e,t),e.prototype.loadFromDatasource=function(t){var e=t.storeParams,n=t.parentBlock,i=t.parentNode.getGroupKeys();if(e.datasource){var o={startRow:t.startRow,endRow:t.endRow,rowGroupCols:e.rowGroupCols,valueCols:e.valueCols,pivotCols:e.pivotCols,pivotMode:e.pivotMode,groupKeys:i,filterModel:e.filterModel,sortModel:e.sortModel},r={successCallback:t.successCallback,success:t.success,failCallback:t.failCallback,fail:t.fail,request:o,parentNode:t.parentNode,api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsService.context};window.setTimeout((function(){e.datasource&&n.isAlive()?e.datasource.getRows(r):t.failCallback()}),0)}},e.prototype.getChildStore=function(t,e,n){if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missingOrEmpty(t))return e;var i=n(t[0]);if(i){var o=t.slice(1,t.length),r=i.childStore;return r?r.getChildStore(o):null}return null},e.prototype.isServerRefreshNeeded=function(t,e,n){if(n.valueColChanged||n.secondaryColChanged)return!0;var i=t.level+1;if(!(i<e.length))return!0;var o=e[i].id;if(n.changedColumns.indexOf(o)>-1)return!0;var r=this.columnModel.getAllGridColumns().filter((function(t){return t.getColDef().showRowGroup&&n.changedColumns.includes(t.getId())})).map((function(t){return t.getColDef().showRowGroup})).some((function(t){return!0===t||t===o}));return r},e.prototype.getServerSideInitialRowCount=function(){var t=this.gridOptionsService.getNum("serverSideInitialRowCount");return"number"==typeof t&&t>0?t:1},e.prototype.assertRowModelIsServerSide=function(t){return!!this.gridOptionsService.isRowModelType("serverSide")||(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce((function(){return console.warn("AG Grid: The '"+t+"' property can only be used with the Server Side Row Model.")}),t),!1)},e.prototype.assertNotTreeData=function(t){return!this.gridOptionsService.is("treeData")||(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce((function(){return console.warn("AG Grid: The '"+t+"' property cannot be used while using tree data.")}),t+"_TreeData"),!1)},e.prototype.isServerSideSortAllLevels=function(){return this.gridOptionsService.is("serverSideSortAllLevels")&&this.assertRowModelIsServerSide("serverSideSortAllLevels")},e.prototype.isServerSideFilterAllLevels=function(){return this.gridOptionsService.is("serverSideFilterAllLevels")&&this.assertRowModelIsServerSide("serverSideFilterAllLevels")},e.prototype.isServerSideSortOnServer=function(){return this.gridOptionsService.is("serverSideSortOnServer")&&this.assertRowModelIsServerSide("serverSideSortOnServer")&&this.assertNotTreeData("serverSideSortOnServer")},e.prototype.isServerSideFilterOnServer=function(){return this.gridOptionsService.is("serverSideFilterOnServer")&&this.assertRowModelIsServerSide("serverSideFilterOnServer")&&this.assertNotTreeData("serverSideFilterOnServer")},__decorate$p([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnApi")],e.prototype,"columnApi",void 0),__decorate$p([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$p([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],e.prototype,"gridApi",void 0),e=__decorate$p([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("ssrmStoreUtils")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$q=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$o=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},GROUP_MISSING_KEY_ID="ag-Grid-MissingKey",BlockUtils=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$q(e,t),e.prototype.postConstruct=function(){this.rowHeight=this.gridOptionsService.getRowHeightAsNumber(),this.usingTreeData=this.gridOptionsService.isTreeData(),this.usingMasterDetail=this.gridOptionsService.isMasterDetail()},e.prototype.createRowNode=function(t){var e=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Fxk(this.beans),n=null!=t.rowHeight?t.rowHeight:this.rowHeight;return e.setRowHeight(n),e.group=t.group,e.leafGroup=t.leafGroup,e.level=t.level,e.uiLevel=t.level,e.parent=t.parent,e.stub=!0,e.__needsRefreshWhenVisible=!1,e.group&&(e.expanded=!1,e.field=t.field,e.rowGroupColumn=t.rowGroupColumn),e},e.prototype.destroyRowNodes=function(t){var e=this;t&&t.forEach((function(t){return e.destroyRowNode(t)}))},e.prototype.destroyRowNode=function(t,e){void 0===e&&(e=!1),t.childStore&&!e&&(this.destroyBean(t.childStore),t.childStore=null),t.clearRowTopAndRowIndex(),null!=t.id&&this.nodeManager.removeNode(t)},e.prototype.setTreeGroupInfo=function(t){t.updateHasChildren();var e=this.gridOptionsService.get("getServerSideGroupKey");t.hasChildren()&&null!=e&&(t.key=e(t.data)),t.hasChildren()||null==t.childStore||(this.destroyBean(t.childStore),t.childStore=null,t.expanded=!1)},e.prototype.setRowGroupInfo=function(t){t.key=this.valueService.getValue(t.rowGroupColumn,t),null!==t.key&&void 0!==t.key||ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce((function(){console.warn("AG Grid: null and undefined values are not allowed for server side row model keys"),t.rowGroupColumn&&console.warn("column = "+t.rowGroupColumn.getId()),console.warn("data is ",t.data)}),"ServerSideBlock-CannotHaveNullOrUndefinedForKey")},e.prototype.setMasterDetailInfo=function(t){var e=this.gridOptionsService.get("isRowMaster");t.master=null==e||e(t.data)},e.prototype.updateDataIntoRowNode=function(t,e){t.updateData(e),this.usingTreeData?(this.setTreeGroupInfo(t),this.setChildCountIntoRowNode(t)):t.group?this.setChildCountIntoRowNode(t):this.usingMasterDetail},e.prototype.setDataIntoRowNode=function(t,e,n,i){t.stub=!1,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(e)?(t.setDataAndId(e,n),this.usingTreeData?this.setTreeGroupInfo(t):t.group?this.setRowGroupInfo(t):this.usingMasterDetail&&this.setMasterDetailInfo(t)):(t.setDataAndId(void 0,void 0),t.key=null),(this.usingTreeData||t.group)&&(this.setGroupDataIntoRowNode(t),this.setChildCountIntoRowNode(t)),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(e)&&t.setRowHeight(this.gridOptionsService.getRowHeightForNode(t,!1,i).height)},e.prototype.setChildCountIntoRowNode=function(t){var e=this.gridOptionsService.get("getChildCount");e&&t.setAllChildrenCount(e(t.data))},e.prototype.setGroupDataIntoRowNode=function(t){var e=this,n=this.columnModel.getGroupDisplayColumns(),i=this.gridOptionsService.isTreeData();n.forEach((function(n){if(null==t.groupData&&(t.groupData={}),i)t.groupData[n.getColId()]=t.key;else if(n.isRowGroupDisplayed(t.rowGroupColumn.getId())){var o=e.valueService.getValue(t.rowGroupColumn,t);t.groupData[n.getColId()]=o}}))},e.prototype.clearDisplayIndex=function(t){(t.clearRowTopAndRowIndex(),t.hasChildren()&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(t.childStore))&&t.childStore.clearDisplayIndexes();t.master&&t.detailNode&&t.detailNode.clearRowTopAndRowIndex()},e.prototype.setDisplayIndex=function(t,e,n){if(t.setRowIndex(e.next()),t.setRowTop(n.value),n.value+=t.rowHeight,t.master&&(t.expanded&&t.detailNode?(t.detailNode.setRowIndex(e.next()),t.detailNode.setRowTop(n.value),n.value+=t.detailNode.rowHeight):t.detailNode&&t.detailNode.clearRowTopAndRowIndex()),t.hasChildren()&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(t.childStore)){var i=t.childStore;t.expanded?i.setDisplayIndexes(e,n):i.clearDisplayIndexes()}},e.prototype.binarySearchForDisplayIndex=function(t,e){var n=0,i=e.length-1;if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(i)||ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(n))console.warn("AG Grid: error: topPointer = "+i+", bottomPointer = "+n);else for(;;){var o=Math.floor((n+i)/2),r=e[o];if(r.rowIndex===t)return r;var s=r.master&&r.expanded,a=r.detailNode;if(s&&a&&a.rowIndex===t)return r.detailNode;var l=r.childStore;if(r.expanded&&l&&l.isDisplayIndexInStore(t))return l.getRowUsingDisplayIndex(t);if(r.rowIndex<t)n=o+1;else{if(!(r.rowIndex>t))return void console.warn("AG Grid: error: unable to locate rowIndex = "+t+" in cache");i=o-1}}},e.prototype.extractRowBounds=function(t,e){var n=function(t){return{rowHeight:t.rowHeight,rowTop:t.rowTop}};if(t.rowIndex===e)return n(t);if(t.hasChildren()&&t.expanded&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(t.childStore)){var i=t.childStore;if(i.isDisplayIndexInStore(e))return i.getRowBounds(e)}else if(t.master&&t.expanded&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(t.detailNode)&&t.detailNode.rowIndex===e)return n(t.detailNode)},e.prototype.getIndexAtPixel=function(t,e){if(t.isPixelInRange(e))return t.rowIndex;var n=t.master&&t.expanded,i=t.detailNode;if(n&&i&&i.isPixelInRange(e))return t.detailNode.rowIndex;if(t.hasChildren()&&t.expanded&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(t.childStore)){var o=t.childStore;if(o.isPixelInRange(e))return o.getRowIndexAtPixel(e)}return null},e.prototype.createNodeIdPrefix=function(t){for(var e=[],n=t;n&&n.level>=0;)""===n.key?e.push(GROUP_MISSING_KEY_ID):e.push(n.key),n=n.parent;if(e.length>0)return e.reverse().join("-")},e.prototype.checkOpenByDefault=function(t){if(t.isExpandable()){var e=this.gridOptionsService.getCallback("isServerSideGroupOpenByDefault");if(e)e({data:t.data,rowNode:t})&&window.setTimeout((function(){return t.setExpanded(!0)}),0)}},__decorate$o([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("valueService")],e.prototype,"valueService",void 0),__decorate$o([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$o([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ssrmNodeManager")],e.prototype,"nodeManager",void 0),__decorate$o([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("beans")],e.prototype,"beans",void 0),__decorate$o([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),e=__decorate$o([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("ssrmBlockUtils")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__decorate$n=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},NodeManager=function(){function t(){this.rowNodes={}}return t.prototype.addRowNode=function(t){var e=t.id;this.rowNodes[e]&&(console.warn("AG Grid: Duplicate node id "+t.id+". Row ID's are provided via the getRowId() callback. Please modify the getRowId() callback code to provide unique row id values."),console.warn("first instance",this.rowNodes[e].data),console.warn("second instance",t.data)),this.rowNodes[e]=t},t.prototype.removeNode=function(t){var e=t.id;this.rowNodes[e]&&(this.rowNodes[e]=void 0)},t.prototype.clear=function(){this.rowNodes={}},__decorate$n([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FXL],t.prototype,"clear",null),t=__decorate$n([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("ssrmNodeManager")],t)}(),__extends$p=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$m=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},TransactionManager=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.asyncTransactions=[],e}return __extends$p(e,t),e.prototype.postConstruct=function(){this.gridOptionsService.isRowModelType("serverSide")},e.prototype.applyTransactionAsync=function(t,e){null==this.asyncTransactionsTimeout&&this.scheduleExecuteAsync(),this.asyncTransactions.push({transaction:t,callback:e})},e.prototype.scheduleExecuteAsync=function(){var t=this,e=this.gridOptionsService.getAsyncTransactionWaitMillis();this.asyncTransactionsTimeout=window.setTimeout((function(){t.executeAsyncTransactions()}),e)},e.prototype.executeAsyncTransactions=function(){var t=this;if(this.asyncTransactions){var e=[],n=[],i=[],o=!1;if(this.asyncTransactions.forEach((function(r){var s;t.serverSideRowModel.executeOnStore(r.transaction.route,(function(t){s=t.applyTransaction(r.transaction)})),null==s&&(s={status:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Qk6.StoreNotFound}),n.push(s),s.status==ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Qk6.StoreLoading?i.push(r):(r.callback&&e.push((function(){return r.callback(s)})),s.status===ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Qk6.Applied&&(o=!0))})),e.length>0&&window.setTimeout((function(){e.forEach((function(t){return t()}))}),0),this.asyncTransactionsTimeout=void 0,this.asyncTransactions=i,o&&(this.valueCache.onDataChanged(),this.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_STORE_UPDATED})),n.length>0){var r={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_ASYNC_TRANSACTIONS_FLUSHED,results:n};this.eventService.dispatchEvent(r)}}},e.prototype.flushAsyncTransactions=function(){null!=this.asyncTransactionsTimeout&&clearTimeout(this.asyncTransactionsTimeout),this.executeAsyncTransactions()},e.prototype.applyTransaction=function(t){var e;if(this.serverSideRowModel.executeOnStore(t.route,(function(n){e=n.applyTransaction(t)})),e){if(this.valueCache.onDataChanged(),e.remove){var n=e.remove.map((function(t){return t.id}));this.selectionService.deleteSelectionStateFromParent(t.route||[],n)}return this.eventService.dispatchEvent({type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_STORE_UPDATED}),e}return{status:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Qk6.StoreNotFound}},__decorate$m([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowNodeBlockLoader")],e.prototype,"rowNodeBlockLoader",void 0),__decorate$m([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("valueCache")],e.prototype,"valueCache",void 0),__decorate$m([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowModel")],e.prototype,"serverSideRowModel",void 0),__decorate$m([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowRenderer")],e.prototype,"rowRenderer",void 0),__decorate$m([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("selectionService")],e.prototype,"selectionService",void 0),__decorate$m([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),e=__decorate$m([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("ssrmTransactionManager")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$o=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$l=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},ExpandListener=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$o(e,t),e.prototype.postConstruct=function(){this.gridOptionsService.isRowModelType("serverSide")&&this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_ROW_GROUP_OPENED,this.onRowGroupOpened.bind(this))},e.prototype.onRowGroupOpened=function(t){var e=t.node;if(e.expanded){if(e.master)this.createDetailNode(e);else if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(e.childStore)){var n=this.serverSideRowModel.getParams();e.childStore=this.createBean(this.storeFactory.createStore(n,e))}}else this.gridOptionsService.is("purgeClosedRowNodes")&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(e.childStore)&&(e.childStore=this.destroyBean(e.childStore));var i={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_STORE_UPDATED};this.eventService.dispatchEvent(i)},e.prototype.createDetailNode=function(t){if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(t.detailNode))return t.detailNode;var e=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Fxk(this.beans);e.detail=!0,e.selectable=!1,e.parent=t,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(t.id)&&(e.id="detail_"+t.id),e.data=t.data,e.level=t.level+1;var n=this.gridOptionsService.getRowHeightForNode(e).height;return e.rowHeight=n||200,t.detailNode=e,e},__decorate$l([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowModel")],e.prototype,"serverSideRowModel",void 0),__decorate$l([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ssrmStoreFactory")],e.prototype,"storeFactory",void 0),__decorate$l([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("beans")],e.prototype,"beans",void 0),__decorate$l([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),e=__decorate$l([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("ssrmExpandListener")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$n=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$k=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},SortListener=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$n(e,t),e.prototype.postConstruct=function(){this.gridOptionsService.isRowModelType("serverSide")&&this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_SORT_CHANGED,this.onSortChanged.bind(this))},e.prototype.extractSortModel=function(){var t=this.sortController.getSortModel();return this.gridOptionsService.isTreeData()||(this.replaceAutoGroupColumnWithActualRowGroupColumns(t),this.removeMultiColumnPrefixOnColumnIds(t)),t},e.prototype.removeMultiColumnPrefixOnColumnIds=function(t){if(this.gridOptionsService.isGroupMultiAutoColumn())for(var e=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.eHy+"-",n=0;n<t.length;++n)t[n].colId.indexOf(e)>-1&&(t[n].colId=t[n].colId.substr(e.length))},e.prototype.replaceAutoGroupColumnWithActualRowGroupColumns=function(t){var e=t.find((function(t){return t.colId==ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.eHy}));if(e){var n=t.indexOf(e);ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.removeFromArray(t,e);var i=this.columnModel.getRowGroupColumns().filter((function(e){return 0==t.filter((function(t){return t.colId===e.getColId()})).length})).map((function(t){return{colId:t.getId(),sort:e.sort}}));ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.insertArrayIntoArray(t,i,n)}},e.prototype.onSortChanged=function(){var t=this.serverSideRowModel.getParams();if(t){var e=this.extractSortModel(),n=t.sortModel,i=this.findChangedColumnsInSort(e,n),o={valueColChanged:this.listenerUtils.isSortingWithValueColumn(i),secondaryColChanged:this.listenerUtils.isSortingWithSecondaryColumn(i),changedColumns:i};this.serverSideRowModel.refreshAfterSort(e,o)}},e.prototype.findChangedColumnsInSort=function(t,e){var n=[];[t,e].forEach((function(t){if(t){var e=t.map((function(t){return t.colId}));n=n.concat(e)}}));return n.filter((function(n){var i=e.find((function(t){return t.colId===n})),o=t.find((function(t){return t.colId===n}));return function(t,e){return(t?t.sort:null)!==(e?e.sort:null)}(i,o)||function(n,i){return(n?e.indexOf(n):-1)!==(i?t.indexOf(i):-1)}(i,o)}))},__decorate$k([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("sortController")],e.prototype,"sortController",void 0),__decorate$k([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$k([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowModel")],e.prototype,"serverSideRowModel",void 0),__decorate$k([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ssrmListenerUtils")],e.prototype,"listenerUtils",void 0),__decorate$k([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),e=__decorate$k([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("ssrmSortService")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$m=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$j=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},FilterListener=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$m(e,t),e.prototype.postConstruct=function(){this.gridOptionsService.isRowModelType("serverSide")&&this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this))},e.prototype.onFilterChanged=function(){var t=this.serverSideRowModel.getParams();if(t){var e=this.filterManager.getFilterModel(),n=t?t.filterModel:{},i=this.findChangedColumns(e,n),o={valueColChanged:this.listenerUtils.isSortingWithValueColumn(i),secondaryColChanged:this.listenerUtils.isSortingWithSecondaryColumn(i),changedColumns:i};this.serverSideRowModel.refreshAfterFilter(e,o)}},e.prototype.findChangedColumns=function(t,e){var n={};Object.keys(t).forEach((function(t){return n[t]=!0})),Object.keys(e).forEach((function(t){return n[t]=!0}));var i=[];return Object.keys(n).forEach((function(n){JSON.stringify(t[n])!=JSON.stringify(e[n])&&i.push(n)})),i},__decorate$j([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowModel")],e.prototype,"serverSideRowModel",void 0),__decorate$j([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("filterManager")],e.prototype,"filterManager",void 0),__decorate$j([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("ssrmListenerUtils")],e.prototype,"listenerUtils",void 0),__decorate$j([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),e=__decorate$j([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("ssrmFilterListener")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__decorate$i=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},StoreFactory=function(){function t(){}return t.prototype.createStore=function(t,e){var n=this.getStoreParams(t,e);return new(n.suppressInfiniteScroll?FullStore:LazyStore)(t,n,e)},t.prototype.getStoreParams=function(t,e){var n=this.getLevelSpecificParams(e),i=this.isInfiniteScroll(n);return{suppressInfiniteScroll:!i,cacheBlockSize:this.getBlockSize(i,n),maxBlocksInCache:this.getMaxBlocksInCache(i,t,n)}},t.prototype.getMaxBlocksInCache=function(t,e,n){if(t){var i=n&&null!=n.maxBlocksInCache?n.maxBlocksInCache:this.gridOptionsService.getNum("maxBlocksInCache");if(null!=i&&i>=0)if(e.dynamicRowHeight){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce((function(){return console.warn("AG Grid: Server Side Row Model does not support Dynamic Row Height and Cache Purging. Either a) remove getRowHeight() callback or b) remove maxBlocksInCache property. Purging has been disabled.")}),"storeFactory.maxBlocksInCache.dynamicRowHeight")}else{if(!this.columnModel.isAutoRowHeightActive())return i;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce((function(){return console.warn("AG Grid: Server Side Row Model does not support Auto Row Height and Cache Purging. Either a) remove colDef.autoHeight or b) remove maxBlocksInCache property. Purging has been disabled.")}),"storeFactory.maxBlocksInCache.autoRowHeightActive")}}},t.prototype.getBlockSize=function(t,e){if(t){var n=e&&null!=e.cacheBlockSize?e.cacheBlockSize:this.gridOptionsService.getNum("cacheBlockSize");return null!=n&&n>0?n:100}},t.prototype.getLevelSpecificParams=function(t){var e=this.gridOptionsService.getCallback("getServerSideGroupLevelParams");if(e){var n=e({level:t.level+1,parentRowNode:t.level>=0?t:void 0,rowGroupColumns:this.columnModel.getRowGroupColumns(),pivotColumns:this.columnModel.getPivotColumns(),pivotMode:this.columnModel.isPivotMode()});return null!=n.storeType&&(n.suppressInfiniteScroll="partial"!==n.storeType),n}},t.prototype.isInfiniteScroll=function(t){return!(t&&null!=t.suppressInfiniteScroll?t.suppressInfiniteScroll:this.isSuppressServerSideInfiniteScroll())},t.prototype.isSuppressServerSideInfiniteScroll=function(){return this.gridOptionsService.is("suppressServerSideInfiniteScroll")},__decorate$i([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridOptionsService")],t.prototype,"gridOptionsService",void 0),__decorate$i([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],t.prototype,"columnModel",void 0),t=__decorate$i([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("ssrmStoreFactory")],t)}(),__decorate$h=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},ListenerUtils=function(){function t(){}return t.prototype.isSortingWithValueColumn=function(t){for(var e=this.columnModel.getValueColumns().map((function(t){return t.getColId()})),n=0;n<t.length;n++)if(e.indexOf(t[n])>-1)return!0;return!1},t.prototype.isSortingWithSecondaryColumn=function(t){if(!this.columnModel.getSecondaryColumns())return!1;for(var e=this.columnModel.getSecondaryColumns().map((function(t){return t.getColId()})),n=0;n<t.length;n++)if(e.indexOf(t[n])>-1)return!0;return!1},__decorate$h([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],t.prototype,"columnModel",void 0),t=__decorate$h([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("ssrmListenerUtils")],t)}(),__extends$l=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$g=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},__read$3=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},__spread$2=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$3(arguments[e]));return t},DefaultStrategy=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.selectedState={selectAll:!1,toggledNodes:new Set},e.lastSelected=null,e.selectAllUsed=!1,e.selectedNodes={},e}return __extends$l(e,t),e.prototype.init=function(){var t=this;this.rowSelection=this.gridOptionsService.get("rowSelection"),this.addManagedPropertyListener("rowSelection",(function(e){t.rowSelection=e.currentValue}))},e.prototype.getSelectedState=function(){return{selectAll:this.selectedState.selectAll,toggledNodes:__spread$2(this.selectedState.toggledNodes)}},e.prototype.setSelectedState=function(t){var e={selectAll:!1,toggledNodes:new Set};"object"==typeof t?"selectAll"in t&&"boolean"==typeof t.selectAll?(e.selectAll=t.selectAll,"toggledNodes"in t&&Array.isArray(t.toggledNodes)?(t.toggledNodes.forEach((function(t){"string"==typeof t?e.toggledNodes.add(t):console.warn("AG Grid: Provided ids must be of string type. Invalid id provided: "+t)})),this.selectedState=e):console.error("AG Grid: `toggledNodes` must be an array of string ids.")):console.error("AG Grid: Select all status should be of boolean type."):console.error("AG Grid: The provided selection state should be an object.")},e.prototype.deleteSelectionStateFromParent=function(t,e){var n=this;if(0===this.selectedState.toggledNodes.size)return!1;var i=!1;return e.forEach((function(t){n.selectedState.toggledNodes.delete(t)&&(i=!0)})),i},e.prototype.setNodeSelected=function(t){var e,n=this,i=t.clearSelection&&t.newValue&&!t.rangeSelect;if("multiple"!==this.rowSelection||i)return t.newValue?(this.selectedNodes=((e={})[t.node.id]=t.node,e),this.selectedState={selectAll:!1,toggledNodes:new Set([t.node.id])}):(this.selectedNodes={},this.selectedState={selectAll:!1,toggledNodes:new Set}),this.lastSelected=t.node.id,1;var o=function(e){t.newValue?n.selectedNodes[e.id]=e:delete n.selectedNodes[e.id],t.newValue===n.selectedState.selectAll?n.selectedState.toggledNodes.delete(e.id):n.selectedState.toggledNodes.add(e.id)};if(t.rangeSelect&&this.lastSelected){var r=this.rowModel.getRowNode(this.lastSelected);return this.rowModel.getNodesInRangeForSelection(t.node,null!=r?r:null).forEach(o),this.lastSelected=t.node.id,1}return o(t.node),this.lastSelected=t.node.id,1},e.prototype.processNewRow=function(t){this.selectedNodes[t.id]&&(this.selectedNodes[t.id]=t)},e.prototype.isNodeSelected=function(t){var e=this.selectedState.toggledNodes.has(t.id);return this.selectedState.selectAll?!e:e},e.prototype.getSelectedNodes=function(){return this.selectAllUsed&&console.warn("AG Grid: getSelectedNodes and getSelectedRows functions cannot be used with select all functionality with the server-side row model.\n                Use `api.getServerSideSelectionState()` instead."),Object.values(this.selectedNodes)},e.prototype.getSelectedRows=function(){return this.getSelectedNodes().map((function(t){return t.data}))},e.prototype.getSelectionCount=function(){return this.selectedState.selectAll?-1:this.selectedState.toggledNodes.size},e.prototype.clearOtherNodes=function(t,e){var n=this.selectedState.selectAll?1:this.selectedState.toggledNodes.size-1;this.selectedState={selectAll:!1,toggledNodes:new Set([t.id])},this.rowModel.forEachNode((function(n){n!==t&&n.selectThisNode(!1,void 0,e)}));var i={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_SELECTION_CHANGED,source:e};return this.eventService.dispatchEvent(i),n},e.prototype.isEmpty=function(){var t;return!this.selectedState.selectAll&&!(null===(t=this.selectedState.toggledNodes)||void 0===t?void 0:t.size)},e.prototype.selectAllRowNodes=function(t){this.selectedState={selectAll:!0,toggledNodes:new Set},this.selectedNodes={},this.selectAllUsed=!0},e.prototype.deselectAllRowNodes=function(t){this.selectedState={selectAll:!1,toggledNodes:new Set},this.selectedNodes={}},e.prototype.getSelectAllState=function(t,e){return this.selectedState.selectAll?!(this.selectedState.toggledNodes.size>0)||null:this.selectedState.toggledNodes.size>0&&null},__decorate$g([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowModel")],e.prototype,"rowModel",void 0),__decorate$g([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$k=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$f=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},__read$2=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},__spread$1=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$2(arguments[e]));return t},GroupSelectsChildrenStrategy=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.selectedState={selectAllChildren:!1,toggledNodes:new Map},e.lastSelected=null,e}return __extends$k(e,t),e.prototype.init=function(){var t=this;this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_MODEL_UPDATED,(function(){return t.removeRedundantState()})),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_COLUMN_ROW_GROUP_CHANGED,(function(){return t.selectionService.reset()}))},e.prototype.getSelectedState=function(){var t=this,e=function(n,i,o){var r={nodeId:o};if(i<=t.columnModel.getRowGroupColumns().length&&(r.selectAllChildren=n.selectAllChildren),n.toggledNodes.size){var s=[];n.toggledNodes.forEach((function(t,n){var o=e(t,i+1,n);s.push(o)})),r.toggledNodes=s}return r};return e(this.selectedState,0)},e.prototype.setSelectedState=function(t){var e=function(t,n){var i,o;if("object"!=typeof t)throw new Error("AG Grid: Each provided state object must be an object.");if("selectAllChildren"in t&&"boolean"!=typeof t.selectAllChildren)throw new Error("AG Grid: `selectAllChildren` must be a boolean value or undefined.");if("toggledNodes"in t){if(!Array.isArray(t.toggledNodes))throw new Error("AG Grid: `toggledNodes` must be an array.");if(!t.toggledNodes.every((function(t){return"object"==typeof t&&"nodeId"in t&&"string"==typeof t.nodeId})))throw new Error("AG Grid: Every `toggledNode` requires an associated string id.")}var r=null!==(i=t.selectAllChildren)&&void 0!==i?i:!n,s=null===(o=t.toggledNodes)||void 0===o?void 0:o.map((function(t){return[t.nodeId,e(t,r)]})),a=null==s?void 0:s.some((function(t){var e=__read$2(t,2);e[0];var n=e[1];return r===n.selectAllChildren&&0===n.toggledNodes.size}));if(a)throw new Error("\n                    AG Grid: AG Grid: Row selection state could not be parsed due to invalid data. Ensure all child state has toggledNodes or does not conform with the parent rule.\n                    Please rebuild the selection state and reapply it.\n                ");return{selectAllChildren:r,toggledNodes:new Map(s)}};try{this.selectedState=e(t,!!t.selectAllChildren)}catch(t){console.error(t.message)}},e.prototype.deleteSelectionStateFromParent=function(t,e){for(var n=this.selectedState,i=__spread$1(t);n&&i.length;)n=n.toggledNodes.get(i.pop());if(!n)return!1;var o=!1;return e.forEach((function(t){(null==n?void 0:n.toggledNodes.delete(t))&&(o=!0)})),o&&this.removeRedundantState(),o},e.prototype.setNodeSelected=function(t){var e=this;if(t.rangeSelect){var n=this.rowModel.getNodesInRangeForSelection(t.node,this.lastSelected).map(this.getRouteToNode).sort((function(t,e){return e.length-t.length})),i=new Set;return n.forEach((function(n){i.has(n[n.length-1])||(n.forEach((function(t){return i.add(t)})),e.recursivelySelectNode(n,e.selectedState,t))})),this.removeRedundantState(),this.lastSelected=t.node,1}var o=this.getRouteToNode(t.node);return this.recursivelySelectNode(o,this.selectedState,t),this.removeRedundantState(),this.lastSelected=t.node,1},e.prototype.isNodeSelected=function(t){var e=this.getRouteToNode(t);return this.isNodePathSelected(e,this.selectedState)},e.prototype.isNodePathSelected=function(t,e){var n=__read$2(t),i=n[0],o=n.slice(1);if(0===o.length){var r=e.toggledNodes.has(i.id);if(i.hasChildren()){var s=e.toggledNodes.get(i.id);if(s&&s.toggledNodes.size)return}return e.selectAllChildren?!r:r}if(e.toggledNodes.has(i.id)){var a=e.toggledNodes.get(i.id);if(a)return this.isNodePathSelected(o,a)}return!!e.selectAllChildren},e.prototype.getRouteToNode=function(t){for(var e=[],n=t;n.parent;)e.push(n),n=n.parent;return e.reverse()},e.prototype.removeRedundantState=function(){var t=this;if(!this.filterManager.isAnyFilterPresent()){var e=function(n,i,o){void 0===n&&(n=t.selectedState),void 0===i&&(i=t.serverSideRowModel.getRootStore());var r=!0,s=!0;return n.toggledNodes.forEach((function(i,o){var a=t.rowModel.getRowNode(o);a||(r=!1);var l=null==a?void 0:a.childStore;l?(e(i,l,a)&&n.selectAllChildren===i.selectAllChildren&&n.toggledNodes.delete(o),i.toggledNodes.size>0&&(s=!1)):i.toggledNodes.size>0&&(s=!1)})),!(!i||!i.isLastRowIndexKnown()||i.getRowCount()!==n.toggledNodes.size)&&(!(!s||!r)&&(n.toggledNodes.clear(),n.selectAllChildren=!n.selectAllChildren,o&&(null==o?void 0:o.isSelected())!==n.selectAllChildren&&o.selectThisNode(n.selectAllChildren,void 0,"api"),!0))};e()}},e.prototype.recursivelySelectNode=function(t,e,n){var i=__read$2(t),o=i[0],r=i.slice(1);if(o)if(!r.length){if(e.selectAllChildren===n.newValue)return void e.toggledNodes.delete(o.id);var s={selectAllChildren:n.newValue,toggledNodes:new Map};e.toggledNodes.set(o.id,s)}else{var a=e.toggledNodes.has(o.id),l=a?e.toggledNodes.get(o.id):{selectAllChildren:e.selectAllChildren,toggledNodes:new Map};a||e.toggledNodes.set(o.id,l),this.recursivelySelectNode(r,l,n),e.selectAllChildren===l.selectAllChildren&&0===l.toggledNodes.size&&e.toggledNodes.delete(o.id)}},e.prototype.getSelectedNodes=function(){console.warn("AG Grid: `getSelectedNodes` and `getSelectedRows` functions cannot be used with `groupSelectsChildren` and the server-side row model.\n            Use `api.getServerSideSelectionState()` instead.");var t=[];return this.rowModel.forEachNode((function(e){e.isSelected()&&t.push(e)})),t},e.prototype.processNewRow=function(t){},e.prototype.getSelectedRows=function(){return this.getSelectedNodes().map((function(t){return t.data}))},e.prototype.getSelectionCount=function(){return-1},e.prototype.isEmpty=function(){var t;return!this.selectedState.selectAllChildren&&!(null===(t=this.selectedState.toggledNodes)||void 0===t?void 0:t.size)},e.prototype.selectAllRowNodes=function(t){this.selectedState={selectAllChildren:!0,toggledNodes:new Map}},e.prototype.deselectAllRowNodes=function(t){this.selectedState={selectAllChildren:!1,toggledNodes:new Map}},e.prototype.getSelectAllState=function(t,e){return this.selectedState.selectAllChildren?!(this.selectedState.toggledNodes.size>0)||null:this.selectedState.toggledNodes.size>0&&null},__decorate$f([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowModel")],e.prototype,"rowModel",void 0),__decorate$f([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$f([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("filterManager")],e.prototype,"filterManager",void 0),__decorate$f([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowModel")],e.prototype,"serverSideRowModel",void 0),__decorate$f([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("selectionService")],e.prototype,"selectionService",void 0),__decorate$f([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$j=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$e=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},ServerSideSelectionService=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$j(e,t),e.prototype.init=function(){var t=this,e=this.gridOptionsService.is("groupSelectsChildren");this.addManagedPropertyListener("groupSelectsChildren",(function(e){t.destroyBean(t.selectionStrategy);var n=e.currentValue?GroupSelectsChildrenStrategy:DefaultStrategy;t.selectionStrategy=t.createManagedBean(new n),t.shotgunResetNodeSelectionState();var i={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_SELECTION_CHANGED,source:"api"};t.eventService.dispatchEvent(i)}));var n=e?GroupSelectsChildrenStrategy:DefaultStrategy;this.selectionStrategy=this.createManagedBean(new n)},e.prototype.getServerSideSelectionState=function(){return this.selectionStrategy.getSelectedState()},e.prototype.setServerSideSelectionState=function(t){this.selectionStrategy.setSelectedState(t),this.shotgunResetNodeSelectionState();var e={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_SELECTION_CHANGED,source:"api"};this.eventService.dispatchEvent(e)},e.prototype.setNodeSelected=function(t){var e=this.selectionStrategy.setNodeSelected(t);this.shotgunResetNodeSelectionState(t.source);var n={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_SELECTION_CHANGED,source:t.source};return this.eventService.dispatchEvent(n),e},e.prototype.deleteSelectionStateFromParent=function(t,e){if(this.selectionStrategy.deleteSelectionStateFromParent(t,e)){this.shotgunResetNodeSelectionState();var n={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_SELECTION_CHANGED,source:"api"};this.eventService.dispatchEvent(n)}},e.prototype.shotgunResetNodeSelectionState=function(t){var e=this;this.rowModel.forEachNode((function(n){if(!n.stub){var i=e.selectionStrategy.isNodeSelected(n);i!==n.isSelected()&&n.selectThisNode(i,void 0,t)}}))},e.prototype.getSelectedNodes=function(){return this.selectionStrategy.getSelectedNodes()},e.prototype.getSelectedRows=function(){return this.selectionStrategy.getSelectedRows()},e.prototype.getSelectionCount=function(){return this.selectionStrategy.getSelectionCount()},e.prototype.syncInRowNode=function(t,e){this.selectionStrategy.processNewRow(t);var n=this.selectionStrategy.isNodeSelected(t);t.setSelectedInitialValue(n)},e.prototype.reset=function(){this.selectionStrategy.deselectAllRowNodes({source:"api"})},e.prototype.isEmpty=function(){return this.selectionStrategy.isEmpty()},e.prototype.selectAllRowNodes=function(t){(t.justCurrentPage||t.justFiltered)&&console.warn("AG Grid: selecting just filtered only works when gridOptions.rowModelType='clientSide'"),this.selectionStrategy.selectAllRowNodes(t),this.rowModel.forEachNode((function(e){e.stub||e.selectThisNode(!0,void 0,t.source)}));var e={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_SELECTION_CHANGED,source:t.source};this.eventService.dispatchEvent(e)},e.prototype.deselectAllRowNodes=function(t){(t.justCurrentPage||t.justFiltered)&&console.warn("AG Grid: selecting just filtered only works when gridOptions.rowModelType='clientSide'"),this.selectionStrategy.deselectAllRowNodes(t),this.rowModel.forEachNode((function(e){e.stub||e.selectThisNode(!1,void 0,t.source)}));var e={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_SELECTION_CHANGED,source:t.source};this.eventService.dispatchEvent(e)},e.prototype.getSelectAllState=function(t,e){return this.selectionStrategy.getSelectAllState(t,e)},e.prototype.updateGroupsFromChildrenSelections=function(t,e){return!1},e.prototype.getBestCostNodeSelection=function(){console.warn("AG Grid: calling gridApi.getBestCostNodeSelection() is only possible when using rowModelType=`clientSide`.")},e.prototype.filterFromSelection=function(){},__decorate$e([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowModel")],e.prototype,"rowModel",void 0),__decorate$e([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e=__decorate$e([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("selectionService")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),VERSION$4="29.3.4",ServerSideRowModelModule={version:VERSION$4,moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.ServerSideRowModelModule,rowModel:"serverSide",beans:[ServerSideRowModel,ExpandListener,SortListener,StoreUtils,BlockUtils,NodeManager,TransactionManager,FilterListener,StoreFactory,ListenerUtils,ServerSideSelectionService],dependantModules:[EnterpriseCoreModule]},ClientSideValuesExtractor=function(){function t(t,e,n,i,o,r,s,a,l){this.rowModel=t,this.filterParams=e,this.createKey=n,this.caseFormat=i,this.columnModel=o,this.valueService=r,this.treeDataOrGrouping=s,this.treeData=a,this.getDataPath=l}return t.prototype.extractUniqueValues=function(t,e){var n=this,i=new Map,o=this.extractExistingFormattedKeys(e),r=new Set,s=this.treeData&&!!this.getDataPath,a=this.columnModel.getRowGroupColumns(),l=function(t,s){var a=n.caseFormat(t);if(!r.has(a)){r.add(a);var l=t,c=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.makeNull(s),u=null==o?void 0:o.get(a);null!=u&&(l=u,c=e.get(u)),i.set(l,c)}};return this.rowModel.forEachLeafNode((function(e){if(e.data&&t(e))if(n.treeDataOrGrouping)n.addValueForTreeDataOrGrouping(e,s,a,l);else{var i=n.getValue(e);n.filterParams.convertValuesToStrings?n.addValueForConvertValuesToString(e,i,l):null!=i&&Array.isArray(i)?(i.forEach((function(t){l(n.createKey(t,e),t)})),0===i.length&&l(null,null)):l(n.createKey(i,e),i)}})),i},t.prototype.addValueForConvertValuesToString=function(t,e,n){var i=this.createKey(e,t);null!=i&&Array.isArray(i)?(i.forEach((function(t){var e=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.toStringOrNull(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.makeNull(t));n(e,e)})),0===i.length&&n(null,null)):n(i,i)},t.prototype.addValueForTreeDataOrGrouping=function(t,e,n,i){var o,r,s=this;if(e){if(null===(o=t.childrenAfterGroup)||void 0===o?void 0:o.length)return;r=this.getDataPath(t.data)}else(r=n.map((function(e){return s.valueService.getKeyForNode(e,t)}))).push(this.getValue(t));r&&(r=r.map((function(t){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.toStringOrNull(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.makeNull(t))}))),(null==r?void 0:r.some((function(t){return null==t})))&&(r=null),i(this.createKey(r),r)},t.prototype.getValue=function(t){var e=this.filterParams,n=e.api,i=e.colDef,o=e.column,r=e.columnApi,s=e.context;return this.filterParams.valueGetter({api:n,colDef:i,column:o,columnApi:r,context:s,data:t.data,getValue:function(e){return t.data[e]},node:t})},t.prototype.extractExistingFormattedKeys=function(t){var e=this;if(!t)return null;var n=new Map;return t.forEach((function(t,i){n.set(e.caseFormat(i),i)})),n},t}(),SetFilterDisplayValue=function(){function t(){}return t.SELECT_ALL="__AG_SELECT_ALL__",t}(),__values$2=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},FlatSetDisplayValueModel=function(){function t(t,e,n,i){this.valueFormatterService=t,this.valueFormatter=e,this.formatter=n,this.column=i,this.displayedKeys=[]}return t.prototype.updateDisplayedValuesToAllAvailable=function(t,e,n){this.displayedKeys=Array.from(n)},t.prototype.updateDisplayedValuesToMatchMiniFilter=function(t,e,n,i,o){var r,s;this.displayedKeys=[];try{for(var a=__values$2(n),l=a.next();!l.done;l=a.next()){var c=l.value;if(null==c)o&&this.displayedKeys.push(c);else{var u=t(c),h=this.valueFormatterService.formatValue(this.column,null,u,this.valueFormatter,!1);i(this.formatter(h))&&this.displayedKeys.push(c)}}}catch(t){r={error:t}}finally{try{l&&!l.done&&(s=a.return)&&s.call(a)}finally{if(r)throw r.error}}},t.prototype.getDisplayedValueCount=function(){return this.displayedKeys.length},t.prototype.getDisplayedItem=function(t){return this.displayedKeys[t]},t.prototype.getSelectAllItem=function(){return SetFilterDisplayValue.SELECT_ALL},t.prototype.getDisplayedKeys=function(){return this.displayedKeys},t.prototype.forEachDisplayedKey=function(t){this.displayedKeys.forEach(t)},t.prototype.someDisplayedKey=function(t){return this.displayedKeys.some(t)},t.prototype.hasGroups=function(){return!1},t.prototype.refresh=function(){},t}(),__read$1=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},__spread=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read$1(arguments[e]));return t},__values$1=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},TreeSetDisplayValueModel=function(){function t(t,e,n,i){this.formatter=t,this.treeListPathGetter=e,this.treeListFormatter=n,this.treeDataOrGrouping=i,this.allDisplayedItemsTree=[],this.activeDisplayedItemsFlat=[],this.selectAllItem={depth:0,filterPasses:!0,available:!0,treeKey:SetFilterDisplayValue.SELECT_ALL,children:this.allDisplayedItemsTree,expanded:!0,key:SetFilterDisplayValue.SELECT_ALL,parentTreeKeys:[]}}return t.prototype.updateDisplayedValuesToAllAvailable=function(t,e,n,i){"reload"===i?this.generateItemTree(t,e,n):"otherFilter"===i?(this.updateAvailable(n),this.updateExpandAll()):"miniFilter"===i&&(this.resetFilter(),this.updateExpandAll()),this.flattenItems()},t.prototype.updateDisplayedValuesToMatchMiniFilter=function(t,e,n,i,o,r){"reload"===r?this.generateItemTree(t,e,n):"otherFilter"===r&&this.updateAvailable(n),this.updateFilter(i,o),this.updateExpandAll(),this.flattenItems()},t.prototype.generateItemTree=function(t,e,n){var i,o,r;this.allDisplayedItemsTree=[],this.groupsExist=!1;var s=this.getTreeListPathGetter(t,n),a=function(e){var i=t(e),o=null!==(r=s(i))&&void 0!==r?r:[null];o.length>1&&(l.groupsExist=!0);var a,c=n.has(e),u=l.allDisplayedItemsTree,h=[];o.forEach((function(t,n){u||(u=[],a.children=u),a=u.find((function(e){var n;return(null===(n=e.treeKey)||void 0===n?void 0:n.toUpperCase())===(null==t?void 0:t.toUpperCase())})),a||(a={treeKey:t,depth:n,filterPasses:!0,expanded:!1,available:c,parentTreeKeys:h},n===o.length-1&&(a.key=e),u.push(a)),u=a.children,h=__spread(h,[t])}))},l=this;try{for(var c=__values$1(e),u=c.next();!u.done;u=c.next()){a(u.value)}}catch(t){i={error:t}}finally{try{u&&!u.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}this.updateAvailable(n),this.selectAllItem.children=this.allDisplayedItemsTree,this.selectAllItem.expanded=!1},t.prototype.getTreeListPathGetter=function(e,n){var i,o;if(this.treeListPathGetter)return this.treeListPathGetter;if(this.treeDataOrGrouping)return function(t){return t};var r=!1;try{for(var s=__values$1(n),a=s.next();!a.done;a=s.next()){var l=e(a.value);if(l instanceof Date){r=!0;break}if(null!=l)break}}catch(t){i={error:t}}finally{try{a&&!a.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}return r?t.DATE_TREE_LIST_PATH_GETTER:(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce((function(){return console.warn("AG Grid: property treeList=true for Set Filter params, but you did not provide a treeListPathGetter or values of type Date.")}),"getTreeListPathGetter"),function(t){return[String(t)]})},t.prototype.flattenItems=function(){var t=this;this.activeDisplayedItemsFlat=[];var e=function(n){n.forEach((function(n){n.filterPasses&&n.available&&(t.activeDisplayedItemsFlat.push(n),n.children&&n.expanded&&e(n.children))}))};e(this.allDisplayedItemsTree)},t.prototype.resetFilter=function(){var t=function(e){e.children&&e.children.forEach((function(e){t(e)})),e.filterPasses=!0};this.allDisplayedItemsTree.forEach((function(e){return t(e)}))},t.prototype.updateFilter=function(t,e){var n=this,i=function(i){return!!i.available&&(null==i.treeKey?e:t(n.formatter(n.treeListFormatter?n.treeListFormatter(i.treeKey,i.depth,i.parentTreeKeys):i.treeKey)))};this.allDisplayedItemsTree.forEach((function(t){return n.recursiveItemCheck(t,!1,i,"filterPasses")}))},t.prototype.getDisplayedValueCount=function(){return this.activeDisplayedItemsFlat.length},t.prototype.getDisplayedItem=function(t){return this.activeDisplayedItemsFlat[t]},t.prototype.getSelectAllItem=function(){return this.selectAllItem},t.prototype.getDisplayedKeys=function(){var t=[];return this.forEachDisplayedKey((function(e){return t.push(e)})),t},t.prototype.forEachDisplayedKey=function(t){var e=function(n,i){n.children?n.expanded&&i||n.children.forEach((function(t){t.filterPasses&&e(t,!1)})):t(n.key)};this.activeDisplayedItemsFlat.forEach((function(t){return e(t,!0)}))},t.prototype.someDisplayedKey=function(t){var e=function(n,i){return n.children?(!n.expanded||!i)&&n.children.some((function(t){return!!t.filterPasses&&e(t,!1)})):t(n.key)};return this.activeDisplayedItemsFlat.some((function(t){return e(t,!0)}))},t.prototype.hasGroups=function(){return this.groupsExist},t.prototype.refresh=function(){this.updateExpandAll(),this.flattenItems()},t.prototype.updateExpandAll=function(){var t=function(e,n,i){var o,r;try{for(var s=__values$1(e),a=s.next();!a.done;a=s.next()){var l=a.value;if(l.filterPasses&&l.available&&l.children){if(n=n||!!l.expanded,i=i||!l.expanded,n&&i)return;var c=t(l.children,n,i);if(void 0===c)return;c?n=!0:i=!0}}}catch(t){o={error:t}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(o)throw o.error}}return n&&i?void 0:n},e=this.getSelectAllItem();e.expanded=t(e.children,!1,!1)},t.prototype.recursiveItemCheck=function(t,e,n,i){var o=this,r=!1;t.children&&t.children.forEach((function(s){var a=o.recursiveItemCheck(s,e||n(t),n,i);r=r||a}));var s=e||r||n(t);return t[i]=s,s},t.prototype.updateAvailable=function(t){var e=this,n=function(e){return t.has(e.key)};this.allDisplayedItemsTree.forEach((function(t){return e.recursiveItemCheck(t,!1,n,"available")}))},t.DATE_TREE_LIST_PATH_GETTER=function(t){return t?[String(t.getFullYear()),String(t.getMonth()+1),String(t.getDate())]:null},t}(),__read=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},SetFilterModelValuesType;!function(t){t[t.PROVIDED_LIST=0]="PROVIDED_LIST",t[t.PROVIDED_CALLBACK=1]="PROVIDED_CALLBACK",t[t.TAKEN_FROM_GRID_VALUES=2]="TAKEN_FROM_GRID_VALUES"}(SetFilterModelValuesType||(SetFilterModelValuesType={}));var SetValueModel=function(){function t(t){var e,n=this;this.localEventService=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.POd,this.miniFilterText=null,this.providedValues=null,this.allValues=new Map,this.availableKeys=new Set,this.selectedKeys=new Set,this.initialised=!1;var i=t.usingComplexObjects,o=t.columnModel,r=t.valueService,s=t.treeDataTreeList,a=t.groupingTreeList,l=t.filterParams,c=t.gridOptionsService,u=t.valueFormatterService,h=t.valueFormatter,d=l.column,p=l.colDef,f=l.textFormatter,g=l.doesRowPassOtherFilter,m=l.suppressSorting,_=l.comparator,y=l.rowModel,v=l.values,C=l.caseSensitive,b=l.convertValuesToStrings,E=l.treeList,S=l.treeListPathGetter,w=l.treeListFormatter;this.filterParams=l,this.setIsLoading=t.setIsLoading,this.translate=t.translate,this.caseFormat=t.caseFormat,this.createKey=t.createKey,this.usingComplexObjects=!!t.usingComplexObjects,this.formatter=f||ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.QVL.DEFAULT_FORMATTER,this.doesRowPassOtherFilters=g,this.suppressSorting=m||!1,this.convertValuesToStrings=!!b;var O=null!=_?_:p.comparator,x=!!s||!!a;this.compareByValue=!!(i&&O||x||E&&!S),this.entryComparator=x&&!O?this.createTreeDataOrGroupingComparator():!E||S||O?function(t,e){var n=__read(t,2);n[0];var i=n[1],o=__read(e,2);o[0];var r=o[1];return O(i,r)}:function(t,e){var n=__read(t,2);n[0];var i=n[1],o=__read(e,2);o[0];var r=o[1];return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.defaultComparator(i,r)},this.keyComparator=null!==(e=O)&&void 0!==e?e:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.defaultComparator,this.caseSensitive=!!C;var P=c.get("getDataPath");"clientSide"===y.getType()&&(this.clientSideValuesExtractor=new ClientSideValuesExtractor(y,this.filterParams,this.createKey,this.caseFormat,o,r,x,!!s,P)),null==v?this.valuesType=SetFilterModelValuesType.TAKEN_FROM_GRID_VALUES:(this.valuesType=Array.isArray(v)?SetFilterModelValuesType.PROVIDED_LIST:SetFilterModelValuesType.PROVIDED_CALLBACK,this.providedValues=v),this.displayValueModel=E?new TreeSetDisplayValueModel(this.formatter,S,w,s||a):new FlatSetDisplayValueModel(u,h,this.formatter,d),this.updateAllValues().then((function(t){return n.resetSelectionState(t||[])}))}return t.prototype.addEventListener=function(t,e,n){this.localEventService.addEventListener(t,e,n)},t.prototype.removeEventListener=function(t,e,n){this.localEventService.removeEventListener(t,e,n)},t.prototype.refreshValues=function(){var t=this.getModel();return this.updateAllValues(),this.setModel(t)},t.prototype.overrideValues=function(t){var e=this;return new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S((function(n){e.allValuesPromise.then((function(){e.valuesType=SetFilterModelValuesType.PROVIDED_LIST,e.providedValues=t,e.refreshValues().then((function(){return n()}))}))}))},t.prototype.refreshAfterAnyFilterChanged=function(){var t=this;return this.showAvailableOnly()?this.allValuesPromise.then((function(e){return t.updateAvailableKeys(null!=e?e:[],"otherFilter"),!0})):ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S.resolve(!1)},t.prototype.isInitialised=function(){return this.initialised},t.prototype.updateAllValues=function(){var t=this;return this.allValuesPromise=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S((function(e){switch(t.valuesType){case SetFilterModelValuesType.TAKEN_FROM_GRID_VALUES:case SetFilterModelValuesType.PROVIDED_LIST:e(t.processAllKeys(t.valuesType===SetFilterModelValuesType.TAKEN_FROM_GRID_VALUES,t.providedValues));break;case SetFilterModelValuesType.PROVIDED_CALLBACK:t.setIsLoading(!0);var n=t.providedValues,i=t.filterParams,o=i.columnApi,r=i.api,s=i.context,a=i.column,l={success:function(n){t.setIsLoading(!1),e(t.processAllKeys(!1,n))},colDef:i.colDef,column:a,columnApi:o,api:r,context:s};window.setTimeout((function(){return n(l)}),0);break;default:throw new Error("Unrecognised valuesType")}})),this.allValuesPromise.then((function(e){return t.updateAvailableKeys(e||[],"reload")})).then((function(){return t.initialised=!0})),this.allValuesPromise},t.prototype.processAllKeys=function(t,e){var n=t?this.getValuesFromRows(!1):this.uniqueValues(this.validateProvidedValues(e)),i=this.sortKeys(n);return this.allValues=null!=n?n:new Map,i},t.prototype.validateProvidedValues=function(t){if(this.usingComplexObjects&&(null==t?void 0:t.length)){var e=t[0];if(e&&"object"!=typeof e&&"function"!=typeof e)null==this.createKey(e)?ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce((function(){return console.warn("Set Filter Key Creator is returning null for provided values and provided values are primitives. Please provide complex objects or set convertValuesToStrings=true in the filterParams. See https://www.ag-grid.com/javascript-data-grid/filter-set-filter-list/#filter-value-types")}),"setFilterComplexObjectsProvidedNull"):ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce((function(){return console.warn("AG Grid: Set Filter has a Key Creator, but provided values are primitives. Did you mean to provide complex objects or enable convertValuesToStrings?")}),"setFilterComplexObjectsProvidedPrimitive")}return t},t.prototype.setValuesType=function(t){this.valuesType=t},t.prototype.getValuesType=function(){return this.valuesType},t.prototype.isKeyAvailable=function(t){return this.availableKeys.has(t)},t.prototype.showAvailableOnly=function(){return this.valuesType===SetFilterModelValuesType.TAKEN_FROM_GRID_VALUES},t.prototype.updateAvailableKeys=function(e,n){var i=this.showAvailableOnly()?this.sortKeys(this.getValuesFromRows(!0)):e;this.availableKeys=new Set(i),this.localEventService.dispatchEvent({type:t.EVENT_AVAILABLE_VALUES_CHANGED}),this.updateDisplayedValues(n,e)},t.prototype.sortKeys=function(t){var e,n=null!=t?t:new Map;return this.suppressSorting?Array.from(n.keys()):(e=this.compareByValue?Array.from(n.entries()).sort(this.entryComparator).map((function(t){return __read(t,1)[0]})):Array.from(n.keys()).sort(this.keyComparator),this.filterParams.excelMode&&n.has(null)&&(e=e.filter((function(t){return null!=t}))).push(null),e)},t.prototype.getValuesFromRows=function(t){var e=this;if(void 0===t&&(t=!1),!this.clientSideValuesExtractor)return console.error("AG Grid: Set Filter cannot initialise because you are using a row model that does not contain all rows in the browser. Either use a different filter type, or configure Set Filter such that you provide it with values"),null;return this.clientSideValuesExtractor.extractUniqueValues((function(n){return!t||e.doesRowPassOtherFilters(n)}),t&&!this.caseSensitive?this.allValues:void 0)},t.prototype.setMiniFilter=function(t){return t=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.makeNull(t),this.miniFilterText!==t&&(this.miniFilterText=t,this.updateDisplayedValues("miniFilter"),!0)},t.prototype.getMiniFilter=function(){return this.miniFilterText},t.prototype.updateDisplayedValues=function(t,e){var n=this;if("expansion"!==t)if(null!=this.miniFilterText){var i=this.caseFormat(this.formatter(this.miniFilterText)||""),o=function(t){return null!=t&&n.caseFormat(t).indexOf(i)>=0},r=!!this.filterParams.excelMode&&o(this.translate("blanks"));this.displayValueModel.updateDisplayedValuesToMatchMiniFilter((function(t){return n.getValue(t)}),e,this.availableKeys,o,r,t)}else this.displayValueModel.updateDisplayedValuesToAllAvailable((function(t){return n.getValue(t)}),e,this.availableKeys,t);else this.displayValueModel.refresh()},t.prototype.getDisplayedValueCount=function(){return this.displayValueModel.getDisplayedValueCount()},t.prototype.getDisplayedItem=function(t){return this.displayValueModel.getDisplayedItem(t)},t.prototype.getSelectAllItem=function(){return this.displayValueModel.getSelectAllItem()},t.prototype.hasSelections=function(){return this.filterParams.defaultToNothingSelected?this.selectedKeys.size>0:this.allValues.size!==this.selectedKeys.size},t.prototype.getKeys=function(){return Array.from(this.allValues.keys())},t.prototype.getValues=function(){return Array.from(this.allValues.values())},t.prototype.getValue=function(t){return this.allValues.get(t)},t.prototype.selectAllMatchingMiniFilter=function(t){var e=this;void 0===t&&(t=!1),null==this.miniFilterText?this.selectedKeys=new Set(this.allValues.keys()):(t&&this.selectedKeys.clear(),this.displayValueModel.forEachDisplayedKey((function(t){return e.selectedKeys.add(t)})))},t.prototype.deselectAllMatchingMiniFilter=function(){var t=this;null==this.miniFilterText?this.selectedKeys.clear():this.displayValueModel.forEachDisplayedKey((function(e){return t.selectedKeys.delete(e)}))},t.prototype.selectKey=function(t){this.selectedKeys.add(t)},t.prototype.deselectKey=function(t){this.filterParams.excelMode&&this.isEverythingVisibleSelected()&&this.resetSelectionState(this.displayValueModel.getDisplayedKeys()),this.selectedKeys.delete(t)},t.prototype.isKeySelected=function(t){return this.selectedKeys.has(t)},t.prototype.isEverythingVisibleSelected=function(){var t=this;return!this.displayValueModel.someDisplayedKey((function(e){return!t.isKeySelected(e)}))},t.prototype.isNothingVisibleSelected=function(){var t=this;return!this.displayValueModel.someDisplayedKey((function(e){return t.isKeySelected(e)}))},t.prototype.getModel=function(){return this.hasSelections()?Array.from(this.selectedKeys):null},t.prototype.setModel=function(t){var e=this;return this.allValuesPromise.then((function(n){if(null==t)e.resetSelectionState(null!=n?n:[]);else{e.selectedKeys.clear();var i=new Map;e.allValues.forEach((function(t,n){i.set(e.caseFormat(n),n)})),t.forEach((function(t){var n=e.caseFormat(t),o=i.get(n);void 0!==o&&e.selectKey(o)}))}}))},t.prototype.uniqueValues=function(t){var e=this,n=new Map,i=new Set;return(null!=t?t:[]).forEach((function(t){var o=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.makeNull(t),r=e.convertAndGetKey(o),s=e.caseFormat(r);i.has(s)||(i.add(s),n.set(r,o))})),n},t.prototype.convertAndGetKey=function(t){return this.convertValuesToStrings?t:this.createKey(t)},t.prototype.resetSelectionState=function(t){this.filterParams.defaultToNothingSelected?this.selectedKeys.clear():this.selectedKeys=new Set(t)},t.prototype.hasGroups=function(){return this.displayValueModel.hasGroups()},t.prototype.createTreeDataOrGroupingComparator=function(){return function(t,e){var n=__read(t,2);n[0];var i=n[1],o=__read(e,2);o[0];var r=o[1];if(null==i)return null==r?0:-1;if(null==r)return 1;for(var s=0;s<i.length;s++){if(s>=r.length)return 1;var a=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.defaultComparator(i[s],r[s]);if(0!==a)return a}return 0}},t.EVENT_AVAILABLE_VALUES_CHANGED="availableValuesChanged",t}(),__extends$i=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$d=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},SetFilterListItem=function(t){function e(n){var i,o=t.call(this,n.isGroup?e.GROUP_TEMPLATE:e.TEMPLATE)||this;return o.focusWrapper=n.focusWrapper,o.value=n.value,o.params=n.params,o.translate=n.translate,o.valueFormatter=n.valueFormatter,o.item=n.item,o.isSelected=n.isSelected,o.isTree=n.isTree,o.depth=null!==(i=n.depth)&&void 0!==i?i:0,o.isGroup=n.isGroup,o.groupsExist=n.groupsExist,o.isExpanded=n.isExpanded,o.hasIndeterminateExpandState=n.hasIndeterminateExpandState,o}return __extends$i(e,t),e.prototype.init=function(){var t=this;this.render(),this.eCheckbox.setLabelEllipsis(!0),this.eCheckbox.setValue(this.isSelected,!0),this.eCheckbox.setDisabled(!!this.params.readOnly),this.eCheckbox.getInputElement().setAttribute("tabindex","-1"),this.refreshVariableAriaLabels(),this.isTree&&(this.depth>0&&this.addCssClass("ag-set-filter-indent-"+this.depth),this.isGroup?this.setupExpansion():this.groupsExist&&this.addCssClass("ag-set-filter-add-group-indent"),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaLevel(this.focusWrapper,this.depth+1)),this.params.readOnly||this.eCheckbox.onValueChange((function(e){return t.onCheckboxChanged(!!e)}))},e.prototype.setupExpansion=function(){this.eGroupClosedIcon.appendChild(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIcon("setFilterGroupClosed",this.gridOptionsService,null)),this.eGroupOpenedIcon.appendChild(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIcon("setFilterGroupOpen",this.gridOptionsService,null)),this.addManagedListener(this.eGroupClosedIcon,"click",this.onExpandOrContractClicked.bind(this)),this.addManagedListener(this.eGroupOpenedIcon,"click",this.onExpandOrContractClicked.bind(this)),this.hasIndeterminateExpandState&&(this.eGroupIndeterminateIcon.appendChild(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.createIcon("setFilterGroupIndeterminate",this.gridOptionsService,null)),this.addManagedListener(this.eGroupIndeterminateIcon,"click",this.onExpandOrContractClicked.bind(this))),this.setExpandedIcons(),this.refreshAriaExpanded()},e.prototype.onExpandOrContractClicked=function(){this.setExpanded(!this.isExpanded)},e.prototype.setExpanded=function(t,n){if(this.isGroup&&t!==this.isExpanded){this.isExpanded=t;var i={type:e.EVENT_EXPANDED_CHANGED,isExpanded:!!t,item:this.item};n||this.dispatchEvent(i),this.setExpandedIcons(),this.refreshAriaExpanded()}},e.prototype.refreshAriaExpanded=function(){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaExpanded(this.focusWrapper,!!this.isExpanded)},e.prototype.setExpandedIcons=function(){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eGroupClosedIcon,this.hasIndeterminateExpandState?!1===this.isExpanded:!this.isExpanded),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eGroupOpenedIcon,!0===this.isExpanded),this.hasIndeterminateExpandState&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eGroupIndeterminateIcon,void 0===this.isExpanded)},e.prototype.onCheckboxChanged=function(t){this.isSelected=t;var n={type:e.EVENT_SELECTION_CHANGED,isSelected:t,item:this.item};this.dispatchEvent(n),this.refreshVariableAriaLabels()},e.prototype.toggleSelected=function(){this.params.readOnly||this.setSelected(!this.isSelected)},e.prototype.setSelected=function(t,e){this.isSelected=t,this.eCheckbox.setValue(this.isSelected,e)},e.prototype.refreshVariableAriaLabels=function(){if(this.isTree){var t=this.localeService.getLocaleTextFunc(),e=this.eCheckbox.getValue(),n=void 0===e?t("ariaIndeterminate","indeterminate"):e?t("ariaVisible","visible"):t("ariaHidden","hidden"),i=t("ariaToggleVisibility","Press SPACE to toggle visibility");ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaLabelledBy(this.eCheckbox.getInputElement(),void 0),this.eCheckbox.setInputAriaLabel(i+" ("+n+")")}},e.prototype.setupFixedAriaLabels=function(t){if(this.isTree){var e=this.localeService.getLocaleTextFunc()("ariaFilterValue","Filter Value");ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaLabel(this.focusWrapper,t+" "+e),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setAriaDescribedBy(this.focusWrapper,this.eCheckbox.getInputElement().id)}},e.prototype.refresh=function(t,e,n){var i,o;if(this.item=t,e!==this.isSelected&&this.setSelected(e,!0),this.setExpanded(n,!0),this.valueFunction){var r=this.valueFunction();this.setTooltipAndCellRendererParams(r,r),this.cellRendererComponent||this.renderCellWithoutCellRenderer()}null===(o=null===(i=this.cellRendererComponent)||void 0===i?void 0:i.refresh)||void 0===o||o.call(i,this.cellRendererParams)},e.prototype.render=function(){var t=this.params.column,e=this.value,n=null;"function"==typeof e?(this.valueFunction=e,e=n=this.valueFunction()):n=this.isTree?ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.toStringOrNull(e):this.getFormattedValue(t,e),this.setTooltipAndCellRendererParams(e,n),this.renderCell()},e.prototype.setTooltipAndCellRendererParams=function(t,e){if(this.params.showTooltips){var n=null!=e?e:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.toStringOrNull(t);this.setTooltip(n)}this.cellRendererParams={value:t,valueFormatted:e,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,colDef:this.params.colDef,column:this.params.column}},e.prototype.getTooltipParams=function(){var e=t.prototype.getTooltipParams.call(this);return e.location="setFilterValue",e.colDef=this.getComponentHolder(),this.isTree&&(e.level=this.depth),e},e.prototype.getFormattedValue=function(t,e){return this.valueFormatterService.formatValue(t,null,e,this.valueFormatter,!1)},e.prototype.renderCell=function(){var t=this,e=this.userComponentFactory.getSetFilterCellRendererDetails(this.params,this.cellRendererParams),n=e?e.newAgStackInstance():void 0;null!=n?n.then((function(e){e&&(t.cellRendererComponent=e,t.eCheckbox.setLabel(e.getGui()),t.addDestroyFunc((function(){return t.destroyBean(e)})))})):this.renderCellWithoutCellRenderer()},e.prototype.renderCellWithoutCellRenderer=function(){var t,e=null!==(t=null==this.cellRendererParams.valueFormatted?this.cellRendererParams.value:this.cellRendererParams.valueFormatted)&&void 0!==t?t:this.translate("blanks");"string"!=typeof e&&(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce((function(){return console.warn("AG Grid: Set Filter Value Formatter must return string values. Please ensure the Set Filter Value Formatter returns string values for complex objects, or set convertValuesToStrings=true in the filterParams. See https://www.ag-grid.com/javascript-data-grid/filter-set-filter-list/#filter-value-types")}),"setFilterComplexObjectsValueFormatter"),e=""),this.eCheckbox.setLabel(e),this.setupFixedAriaLabels(e)},e.prototype.getComponentHolder=function(){return this.params.column.getColDef()},e.EVENT_SELECTION_CHANGED="selectionChanged",e.EVENT_EXPANDED_CHANGED="expandedChanged",e.GROUP_TEMPLATE='\n        <div class="ag-set-filter-item" aria-hidden="true">\n            <span class="ag-set-filter-group-icons">\n                <span class="ag-set-filter-group-closed-icon" ref="eGroupClosedIcon"></span>\n                <span class="ag-set-filter-group-opened-icon" ref="eGroupOpenedIcon"></span>\n                <span class="ag-set-filter-group-indeterminate-icon" ref="eGroupIndeterminateIcon"></span>\n            </span>\n            <ag-checkbox ref="eCheckbox" class="ag-set-filter-item-checkbox"></ag-checkbox>\n        </div>',e.TEMPLATE='\n        <div class="ag-set-filter-item">\n            <ag-checkbox ref="eCheckbox" class="ag-set-filter-item-checkbox"></ag-checkbox>\n        </div>',__decorate$d([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("valueFormatterService")],e.prototype,"valueFormatterService",void 0),__decorate$d([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("userComponentFactory")],e.prototype,"userComponentFactory",void 0),__decorate$d([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eCheckbox")],e.prototype,"eCheckbox",void 0),__decorate$d([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eGroupOpenedIcon")],e.prototype,"eGroupOpenedIcon",void 0),__decorate$d([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eGroupClosedIcon")],e.prototype,"eGroupClosedIcon",void 0),__decorate$d([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eGroupIndeterminateIcon")],e.prototype,"eGroupIndeterminateIcon",void 0),__decorate$d([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),DEFAULT_LOCALE_TEXT={loadingOoo:"Loading...",blanks:"(Blanks)",searchOoo:"Search...",selectAll:"(Select All)",selectAllSearchResults:"(Select All Search Results)",noMatches:"No matches."},SetFilterModelFormatter=function(){function t(){}return t.prototype.getModelAsString=function(t,e){var n=(t||e.getModel()||{}).values,i=e.getValueModel();if(null==n||null==i)return"";var o=n.filter((function(t){return i.isKeyAvailable(t)})),r=o.length;return"("+r+") "+o.slice(0,10).map((function(t){return e.getFormattedValue(t)})).join(",")+(r>10?",...":"")},t}(),__extends$h=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$c=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},SetFilter=function(t){function e(){var e=t.call(this,"setFilter")||this;return e.valueModel=null,e.setFilterParams=null,e.virtualList=null,e.caseSensitive=!1,e.convertValuesToStrings=!1,e.treeDataTreeList=!1,e.groupingTreeList=!1,e.hardRefreshVirtualList=!1,e.noValueFormatterSupplied=!1,e.appliedModelKeys=null,e.noAppliedModelKeys=!1,e.filterModelFormatter=new SetFilterModelFormatter,e}return __extends$h(e,t),e.prototype.postConstruct=function(){t.prototype.postConstruct.call(this)},e.prototype.updateUiVisibility=function(){},e.prototype.createBodyTemplate=function(){return'\n            <div class="ag-set-filter">\n                <div ref="eFilterLoading" class="ag-filter-loading ag-hidden">'+this.translateForSetFilter("loadingOoo")+'</div>\n                <ag-input-text-field class="ag-mini-filter" ref="eMiniFilter"></ag-input-text-field>\n                <div ref="eFilterNoMatches" class="ag-filter-no-matches ag-hidden">'+this.translateForSetFilter("noMatches")+'</div>\n                <div ref="eSetFilterList" class="ag-set-filter-list" role="presentation"></div>\n            </div>'},e.prototype.handleKeyDown=function(e){if(t.prototype.handleKeyDown.call(this,e),!e.defaultPrevented)switch(e.key){case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.SPACE:this.handleKeySpace(e);break;case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.ENTER:this.handleKeyEnter(e);break;case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.LEFT:this.handleKeyLeft(e);break;case ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.RIGHT:this.handleKeyRight(e)}},e.prototype.handleKeySpace=function(t){var e;null===(e=this.getComponentForKeyEvent(t))||void 0===e||e.toggleSelected()},e.prototype.handleKeyEnter=function(t){if(this.setFilterParams){var e=this.setFilterParams||{},n=e.excelMode,i=e.readOnly;n&&!i&&(t.preventDefault(),this.onBtApply(!1,!1,t),"mac"===this.setFilterParams.excelMode&&this.eMiniFilter.getInputElement().select())}},e.prototype.handleKeyLeft=function(t){var e;null===(e=this.getComponentForKeyEvent(t))||void 0===e||e.setExpanded(!1)},e.prototype.handleKeyRight=function(t){var e;null===(e=this.getComponentForKeyEvent(t))||void 0===e||e.setExpanded(!0)},e.prototype.getComponentForKeyEvent=function(t){var e,n=this.gridOptionsService.getDocument();if(this.eSetFilterList.contains(n.activeElement)&&this.virtualList){var i=this.virtualList.getLastFocusedRow();if(null!=i){var o=this.virtualList.getComponentAt(i);if(null!=o)if(t.preventDefault(),!(null!==(e=this.setFilterParams)&&void 0!==e?e:{}).readOnly)return o}}},e.prototype.getCssIdentifier=function(){return"set-filter"},e.prototype.setModel=function(e){var n;return null==e&&null==(null===(n=this.valueModel)||void 0===n?void 0:n.getModel())?(this.setMiniFilter(null),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S.resolve()):t.prototype.setModel.call(this,e)},e.prototype.setModelAndRefresh=function(t){var e=this;return this.valueModel?this.valueModel.setModel(t).then((function(){return e.refresh()})):ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S.resolve()},e.prototype.resetUiToDefaults=function(){return this.setMiniFilter(null),this.setModelAndRefresh(null)},e.prototype.setModelIntoUi=function(t){this.setMiniFilter(null);var e=null==t?null:t.values;return this.setModelAndRefresh(e)},e.prototype.getModelFromUi=function(){if(!this.valueModel)throw new Error("Value model has not been created.");var t=this.valueModel.getModel();return t?{values:t,filterType:this.getFilterType()}:null},e.prototype.getFilterType=function(){return"set"},e.prototype.getValueModel=function(){return this.valueModel},e.prototype.areModelsEqual=function(t,e){return null==t&&null==e||null!=t&&null!=e&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.areEqual(t.values,e.values)},e.prototype.setParams=function(e){var n,i=this;this.applyExcelModeOptions(e),t.prototype.setParams.call(this,e),this.setFilterParams=e,this.convertValuesToStrings=!!e.convertValuesToStrings,this.caseSensitive=!!e.caseSensitive;var o=null!==(n=e.keyCreator)&&void 0!==n?n:e.colDef.keyCreator;this.setValueFormatter(e.valueFormatter,o,this.convertValuesToStrings,!!e.treeList,!!e.colDef.refData);var r=e.column.getId().startsWith(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.eHy);this.treeDataTreeList=this.gridOptionsService.is("treeData")&&!!e.treeList&&r,this.getDataPath=this.gridOptionsService.get("getDataPath"),this.groupingTreeList=!!this.columnModel.getRowGroupColumns().length&&!!e.treeList&&r,this.createKey=this.generateCreateKey(o,this.convertValuesToStrings,this.treeDataTreeList||this.groupingTreeList),this.valueModel=new SetValueModel({filterParams:e,setIsLoading:function(t){return i.setIsLoading(t)},valueFormatterService:this.valueFormatterService,translate:function(t){return i.translateForSetFilter(t)},caseFormat:function(t){return i.caseFormat(t)},createKey:this.createKey,valueFormatter:this.valueFormatter,usingComplexObjects:!!o,gridOptionsService:this.gridOptionsService,columnModel:this.columnModel,valueService:this.valueService,treeDataTreeList:this.treeDataTreeList,groupingTreeList:this.groupingTreeList}),this.initialiseFilterBodyUi(),this.addEventListenersForDataChanges()},e.prototype.setValueFormatter=function(t,e,n,i,o){var r=t;if(!r){if(e&&!n&&!i)throw new Error("AG Grid: Must supply a Value Formatter in Set Filter params when using a Key Creator unless convertValuesToStrings is enabled");this.noValueFormatterSupplied=!0,o||(r=function(t){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.toStringOrNull(t.value)})}this.valueFormatter=r},e.prototype.generateCreateKey=function(t,e,n){var i=this;if(n&&!t)throw new Error("AG Grid: Must supply a Key Creator in Set Filter params when `treeList = true` on a group column, and Tree Data or Row Grouping is enabled.");return t?function(e,n){void 0===n&&(n=null);var o=i.getKeyCreatorParams(e,n);return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.makeNull(t(o))}:e?function(t){return Array.isArray(t)?t:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.makeNull(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.toStringOrNull(t))}:function(t){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.makeNull(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.toStringOrNull(t))}},e.prototype.getFormattedValue=function(t){var e,n=this.valueModel.getValue(t);this.noValueFormatterSupplied&&(this.treeDataTreeList||this.groupingTreeList)&&Array.isArray(n)&&(n=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.last(n));var i=this.valueFormatterService.formatValue(this.setFilterParams.column,null,n,this.valueFormatter,!1);return null!==(e=null==i?ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.toStringOrNull(n):i)&&void 0!==e?e:this.translateForSetFilter("blanks")},e.prototype.applyExcelModeOptions=function(t){"windows"===t.excelMode?(t.buttons||(t.buttons=["apply","cancel"]),null==t.closeOnApply&&(t.closeOnApply=!0)):"mac"===t.excelMode&&(t.buttons||(t.buttons=["reset"]),null==t.applyMiniFilterWhileTyping&&(t.applyMiniFilterWhileTyping=!0),null==t.debounceMs&&(t.debounceMs=500)),t.excelMode&&t.defaultToNothingSelected&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.doOnce((function(){return console.warn('AG Grid: The Set Filter Parameter "defaultToNothingSelected" does not work with "excelMode".')}),"setFilterExcelModeDefaultToNothingSelect")},e.prototype.addEventListenersForDataChanges=function(){var t=this;this.isValuesTakenFromGrid()&&this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_CELL_VALUE_CHANGED,(function(e){t.setFilterParams&&e.column===t.setFilterParams.column&&t.syncAfterDataChange()}))},e.prototype.syncAfterDataChange=function(){var t=this;if(!this.valueModel)throw new Error("Value model has not been created.");return this.valueModel.refreshValues().then((function(){t.refresh(),t.onBtApply(!1,!0)}))},e.prototype.setIsLoading=function(t){ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eFilterLoading,t),t||(this.hardRefreshVirtualList=!0)},e.prototype.initialiseFilterBodyUi=function(){this.initVirtualList(),this.initMiniFilter()},e.prototype.initVirtualList=function(){var t=this;if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");var e=this.localeService.getLocaleTextFunc()("ariaFilterList","Filter List"),n=!!this.setFilterParams.treeList,i=this.virtualList=this.createBean(new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.CPJ("filter",n?"tree":"listbox",e)),o=this.getRefElement("eSetFilterList");n&&o.classList.add("ag-set-filter-tree-list"),o&&o.appendChild(i.getGui());var r=this.setFilterParams.cellHeight;null!=r&&i.setRowHeight(r);i.setComponentCreator((function(e,i){return t.createSetListItem(e,n,i)}));var s;i.setComponentUpdater((function(e,n){return t.updateSetListItem(e,n)})),s=this.setFilterParams.suppressSelectAll?new ModelWrapper(this.valueModel):new ModelWrapperWithSelectAll(this.valueModel,(function(){return t.isSelectAllSelected()})),n&&(s=new TreeModelWrapper(s)),i.setModel(s)},e.prototype.getSelectAllLabel=function(){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");var t=null!=this.valueModel.getMiniFilter()&&this.setFilterParams.excelMode?"selectAllSearchResults":"selectAll";return this.translateForSetFilter(t)},e.prototype.createSetListItem=function(t,e,n){var i,o,r,s,a,l,c=this;if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");var u,h,d,p,f,g,m=this.valueModel.hasGroups();this.isSetFilterModelTreeItem(t)?(h=t.depth,t.key===SetFilterDisplayValue.SELECT_ALL?(u=function(){return c.getSelectAllLabel()},d=m,p=!0,f=function(t){return c.onSelectAll(t.isSelected)},g=function(t){return c.onExpandAll(t.item,t.isExpanded)}):t.children?(u=null!==(r=null===(o=(i=this.setFilterParams).treeListFormatter)||void 0===o?void 0:o.call(i,t.treeKey,t.depth,t.parentTreeKeys))&&void 0!==r?r:t.treeKey,d=!0,f=function(t){return c.onGroupItemSelected(t.item,t.isSelected)},g=function(t){return c.onExpandedChanged(t.item,t.isExpanded)}):(u=null!==(l=null===(a=(s=this.setFilterParams).treeListFormatter)||void 0===a?void 0:a.call(s,t.treeKey,t.depth,t.parentTreeKeys))&&void 0!==l?l:t.treeKey,f=function(t){return c.onItemSelected(t.item.key,t.isSelected)})):t===SetFilterDisplayValue.SELECT_ALL?(u=function(){return c.getSelectAllLabel()},f=function(t){return c.onSelectAll(t.isSelected)}):(u=this.valueModel.getValue(t),f=function(t){return c.onItemSelected(t.item,t.isSelected)});var _=this.isSelectedExpanded(t),y=_.isSelected,v=_.isExpanded,C={focusWrapper:n,value:u,params:this.setFilterParams,translate:function(t){return c.translateForSetFilter(t)},valueFormatter:this.valueFormatter,item:t,isSelected:y,isTree:e,depth:h,groupsExist:m,isGroup:d,isExpanded:v,hasIndeterminateExpandState:p},b=this.createBean(new SetFilterListItem(C));return b.addEventListener(SetFilterListItem.EVENT_SELECTION_CHANGED,f),g&&b.addEventListener(SetFilterListItem.EVENT_EXPANDED_CHANGED,g),b},e.prototype.updateSetListItem=function(t,e){var n=this.isSelectedExpanded(t),i=n.isSelected,o=n.isExpanded;e.refresh(t,i,o)},e.prototype.isSelectedExpanded=function(t){var e,n;return this.isSetFilterModelTreeItem(t)?(n=t.expanded,e=t.key===SetFilterDisplayValue.SELECT_ALL?this.isSelectAllSelected():t.children?this.areAllChildrenSelected(t):this.valueModel.isKeySelected(t.key)):e=t===SetFilterDisplayValue.SELECT_ALL?this.isSelectAllSelected():this.valueModel.isKeySelected(t),{isSelected:e,isExpanded:n}},e.prototype.isSetFilterModelTreeItem=function(t){return void 0!==(null==t?void 0:t.treeKey)},e.prototype.initMiniFilter=function(){var t=this;if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");var e=this.eMiniFilter,n=this.localeService.getLocaleTextFunc();e.setDisplayed(!this.setFilterParams.suppressMiniFilter),e.setValue(this.valueModel.getMiniFilter()),e.onValueChange((function(){return t.onMiniFilterInput()})),e.setInputAriaLabel(n("ariaSearchFilterValues","Search filter values")),this.addManagedListener(e.getInputElement(),"keypress",(function(e){return t.onMiniFilterKeyPress(e)}))},e.prototype.afterGuiAttached=function(e){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");t.prototype.afterGuiAttached.call(this,e),this.resetExpansion(),this.refreshVirtualList();var n=this.eMiniFilter;n.setInputPlaceholder(this.translateForSetFilter("searchOoo")),e&&e.suppressFocus||n.getFocusableElement().focus()},e.prototype.afterGuiDetached=function(){var e,n;t.prototype.afterGuiDetached.call(this),(null===(e=this.setFilterParams)||void 0===e?void 0:e.excelMode)&&this.resetMiniFilter();var i=this.getModel();!(null===(n=this.setFilterParams)||void 0===n?void 0:n.excelMode)&&this.areModelsEqual(i,this.getModelFromUi())||(this.resetUiToActiveModel(i),this.showOrHideResults())},e.prototype.applyModel=function(e){var n=this;if(void 0===e&&(e="api"),!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");this.setFilterParams.excelMode&&"rowDataUpdated"!==e&&this.valueModel.isEverythingVisibleSelected()&&this.valueModel.selectAllMatchingMiniFilter();var i=t.prototype.applyModel.call(this,e),o=this.getModel();return o?(this.appliedModelKeys=new Set,o.values.forEach((function(t){n.appliedModelKeys.add(n.caseFormat(t))}))):this.appliedModelKeys=null,this.noAppliedModelKeys=0===(null==o?void 0:o.values.length),i},e.prototype.isModelValid=function(t){return!this.setFilterParams||!this.setFilterParams.excelMode||(null==t||t.values.length>0)},e.prototype.doesFilterPass=function(t){var e=this;if(!this.setFilterParams||!this.valueModel||!this.appliedModelKeys)return!0;if(this.noAppliedModelKeys)return!1;var n=t.node,i=t.data;if(this.treeDataTreeList)return this.doesFilterPassForTreeData(n,i);if(this.groupingTreeList)return this.doesFilterPassForGrouping(n,i);var o=this.getValueFromNode(n,i);return this.convertValuesToStrings?this.doesFilterPassForConvertValuesToString(n,o):null!=o&&Array.isArray(o)?0===o.length?this.appliedModelKeys.has(null):o.some((function(t){return e.isInAppliedModel(e.createKey(t,n))})):this.isInAppliedModel(this.createKey(o,n))},e.prototype.doesFilterPassForConvertValuesToString=function(t,e){var n=this,i=this.createKey(e,t);return null!=i&&Array.isArray(i)?0===i.length?this.appliedModelKeys.has(null):i.some((function(t){return n.isInAppliedModel(t)})):this.isInAppliedModel(i)},e.prototype.doesFilterPassForTreeData=function(t,e){var n;return!(null===(n=t.childrenAfterGroup)||void 0===n?void 0:n.length)&&this.isInAppliedModel(this.createKey(this.checkMakeNullDataPath(this.getDataPath(e))))},e.prototype.doesFilterPassForGrouping=function(t,e){var n=this,i=this.columnModel.getRowGroupColumns().map((function(e){return n.valueService.getKeyForNode(e,t)}));return i.push(this.getValueFromNode(t,e)),this.isInAppliedModel(this.createKey(this.checkMakeNullDataPath(i)))},e.prototype.checkMakeNullDataPath=function(t){return t&&(t=t.map((function(t){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.toStringOrNull(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.makeNull(t))}))),(null==t?void 0:t.some((function(t){return null==t})))?null:t},e.prototype.isInAppliedModel=function(t){return this.appliedModelKeys.has(this.caseFormat(t))},e.prototype.getValueFromNode=function(t,e){var n=this.setFilterParams;return(0,n.valueGetter)({api:n.api,colDef:n.colDef,column:n.column,columnApi:n.columnApi,context:n.context,data:e,getValue:function(t){return e[t]},node:t})},e.prototype.getKeyCreatorParams=function(t,e){return void 0===e&&(e=null),{value:t,colDef:this.setFilterParams.colDef,column:this.setFilterParams.column,node:e,data:null==e?void 0:e.data,api:this.setFilterParams.api,columnApi:this.setFilterParams.columnApi,context:this.setFilterParams.context}},e.prototype.onNewRowsLoaded=function(){this.isValuesTakenFromGrid()&&this.syncAfterDataChange()},e.prototype.isValuesTakenFromGrid=function(){return!!this.valueModel&&this.valueModel.getValuesType()===SetFilterModelValuesType.TAKEN_FROM_GRID_VALUES},e.prototype.setFilterValues=function(t){var e=this;if(!this.valueModel)throw new Error("Value model has not been created.");this.valueModel.overrideValues(t).then((function(){e.refresh(),e.onUiChanged()}))},e.prototype.resetFilterValues=function(){if(!this.valueModel)throw new Error("Value model has not been created.");this.valueModel.setValuesType(SetFilterModelValuesType.TAKEN_FROM_GRID_VALUES),this.syncAfterDataChange()},e.prototype.refreshFilterValues=function(){var t=this;if(!this.valueModel)throw new Error("Value model has not been created.");this.valueModel.isInitialised()&&this.valueModel.refreshValues().then((function(){t.refresh(),t.onUiChanged()}))},e.prototype.onAnyFilterChanged=function(){var t=this;setTimeout((function(){if(t.isAlive()){if(!t.valueModel)throw new Error("Value model has not been created.");t.valueModel.refreshAfterAnyFilterChanged().then((function(e){e&&(t.refresh(),t.showOrHideResults())}))}}),0)},e.prototype.onMiniFilterInput=function(){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");if(this.valueModel.setMiniFilter(this.eMiniFilter.getValue())){var t=this.setFilterParams||{},e=t.applyMiniFilterWhileTyping;!t.readOnly&&e?this.filterOnAllVisibleValues(!1):this.updateUiAfterMiniFilterChange()}},e.prototype.updateUiAfterMiniFilterChange=function(){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");var t=this.setFilterParams||{},e=t.excelMode,n=t.readOnly;null==e||n?this.refresh():null==this.valueModel.getMiniFilter()?this.resetUiToActiveModel(this.getModel()):(this.valueModel.selectAllMatchingMiniFilter(!0),this.refresh(),this.onUiChanged()),this.showOrHideResults()},e.prototype.showOrHideResults=function(){if(!this.valueModel)throw new Error("Value model has not been created.");var t=null!=this.valueModel.getMiniFilter()&&this.valueModel.getDisplayedValueCount()<1;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eNoMatches,t),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.setDisplayed(this.eSetFilterList,!t)},e.prototype.resetMiniFilter=function(){var t;this.eMiniFilter.setValue(null,!0),null===(t=this.valueModel)||void 0===t||t.setMiniFilter(null)},e.prototype.resetUiToActiveModel=function(t,e){var n=this;this.setModelAndRefresh(null==t?null:t.values).then((function(){n.onUiChanged(!1,"prevent"),null==e||e()}))},e.prototype.handleCancelEnd=function(e){this.setMiniFilter(null),t.prototype.handleCancelEnd.call(this,e)},e.prototype.onMiniFilterKeyPress=function(t){var e=this.setFilterParams||{},n=e.excelMode,i=e.readOnly;t.key!==ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.VDZ.ENTER||n||i||this.filterOnAllVisibleValues()},e.prototype.filterOnAllVisibleValues=function(t){void 0===t&&(t=!0);var e=(this.setFilterParams||{}).readOnly;if(!this.valueModel)throw new Error("Value model has not been created.");if(e)throw new Error("Unable to filter in readOnly mode.");this.valueModel.selectAllMatchingMiniFilter(!0),this.refresh(),this.onUiChanged(!1,t?"immediately":"debounce"),this.showOrHideResults()},e.prototype.focusRowIfAlive=function(t){var e=this;null!=t&&window.setTimeout((function(){if(!e.virtualList)throw new Error("Virtual list has not been created.");e.isAlive()&&e.virtualList.focusRow(t)}),0)},e.prototype.onSelectAll=function(t){if(!this.valueModel)throw new Error("Value model has not been created.");if(!this.virtualList)throw new Error("Virtual list has not been created.");t?this.valueModel.selectAllMatchingMiniFilter():this.valueModel.deselectAllMatchingMiniFilter(),this.refreshAfterSelection()},e.prototype.onGroupItemSelected=function(t,e){var n=this,i=function(t){t.children?t.children.forEach((function(t){return i(t)})):n.selectItem(t.key,e)};i(t),this.refreshAfterSelection()},e.prototype.onItemSelected=function(t,e){if(!this.valueModel)throw new Error("Value model has not been created.");if(!this.virtualList)throw new Error("Virtual list has not been created.");this.selectItem(t,e),this.refreshAfterSelection()},e.prototype.selectItem=function(t,e){e?this.valueModel.selectKey(t):this.valueModel.deselectKey(t)},e.prototype.onExpandAll=function(t,e){var n=function(t){t.filterPasses&&t.available&&t.children&&(t.children.forEach((function(t){return n(t)})),t.expanded=e)};n(t),this.refreshAfterExpansion()},e.prototype.onExpandedChanged=function(t,e){t.expanded=e,this.refreshAfterExpansion()},e.prototype.refreshAfterExpansion=function(){var t=this.virtualList.getLastFocusedRow();this.valueModel.updateDisplayedValues("expansion"),this.refresh(),this.focusRowIfAlive(t)},e.prototype.refreshAfterSelection=function(){var t=this.virtualList.getLastFocusedRow();this.refresh(),this.onUiChanged(),this.focusRowIfAlive(t)},e.prototype.setMiniFilter=function(t){this.eMiniFilter.setValue(t),this.onMiniFilterInput()},e.prototype.getMiniFilter=function(){return this.valueModel?this.valueModel.getMiniFilter():null},e.prototype.refresh=function(){if(!this.virtualList)throw new Error("Virtual list has not been created.");this.virtualList.refresh(!this.hardRefreshVirtualList),this.hardRefreshVirtualList&&(this.hardRefreshVirtualList=!1)},e.prototype.getFilterKeys=function(){return this.valueModel?this.valueModel.getKeys():[]},e.prototype.getFilterValues=function(){return this.valueModel?this.valueModel.getValues():[]},e.prototype.getValues=function(){return this.getFilterKeys()},e.prototype.refreshVirtualList=function(){this.setFilterParams&&this.setFilterParams.refreshValuesOnOpen?this.refreshFilterValues():this.refresh()},e.prototype.translateForSetFilter=function(t){return this.localeService.getLocaleTextFunc()(t,DEFAULT_LOCALE_TEXT[t])},e.prototype.isSelectAllSelected=function(){if(!this.setFilterParams||!this.valueModel)return!1;if(this.setFilterParams.defaultToNothingSelected){if(this.valueModel.hasSelections()&&this.valueModel.isEverythingVisibleSelected())return!0;if(this.valueModel.isNothingVisibleSelected())return!1}else{if(this.valueModel.hasSelections()&&this.valueModel.isNothingVisibleSelected())return!1;if(this.valueModel.isEverythingVisibleSelected())return!0}},e.prototype.areAllChildrenSelected=function(t){var e=this,n=function(t){if(t.children){var i=!1,o=!1;return t.children.some((function(t){if(!t.filterPasses||!t.available)return!1;var e=n(t);return void 0===e||(e?i=!0:o=!0,i&&o)}))?void 0:i}return e.valueModel.isKeySelected(t.key)};return this.setFilterParams.defaultToNothingSelected?this.valueModel.hasSelections()&&n(t):n(t)},e.prototype.destroy=function(){null!=this.virtualList&&(this.virtualList.destroy(),this.virtualList=null),t.prototype.destroy.call(this)},e.prototype.caseFormat=function(t){return null==t||"string"!=typeof t||this.caseSensitive?t:t.toUpperCase()},e.prototype.resetExpansion=function(){var t,e;if(null===(t=this.setFilterParams)||void 0===t?void 0:t.treeList){var n=null===(e=this.valueModel)||void 0===e?void 0:e.getSelectAllItem();if(this.isSetFilterModelTreeItem(n)){var i=function(t){t.children&&(t.children.forEach((function(t){return i(t)})),t.expanded=!1)};i(n),this.valueModel.updateDisplayedValues("expansion")}}},e.prototype.getModelAsString=function(t){return this.filterModelFormatter.getModelAsString(t,this)},e.prototype.getPositionableElement=function(){return this.eSetFilterList},__decorate$c([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eMiniFilter")],e.prototype,"eMiniFilter",void 0),__decorate$c([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eFilterLoading")],e.prototype,"eFilterLoading",void 0),__decorate$c([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eSetFilterList")],e.prototype,"eSetFilterList",void 0),__decorate$c([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eFilterNoMatches")],e.prototype,"eNoMatches",void 0),__decorate$c([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("valueFormatterService")],e.prototype,"valueFormatterService",void 0),__decorate$c([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),__decorate$c([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("valueService")],e.prototype,"valueService",void 0),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AGU),ModelWrapper=function(){function t(t){this.model=t}return t.prototype.getRowCount=function(){return this.model.getDisplayedValueCount()},t.prototype.getRow=function(t){return this.model.getDisplayedItem(t)},t.prototype.isRowSelected=function(t){return this.model.isKeySelected(this.getRow(t))},t.prototype.areRowsEqual=function(t,e){return t===e},t}(),ModelWrapperWithSelectAll=function(){function t(t,e){this.model=t,this.isSelectAllSelected=e}return t.prototype.getRowCount=function(){return this.model.getDisplayedValueCount()+1},t.prototype.getRow=function(t){return 0===t?this.model.getSelectAllItem():this.model.getDisplayedItem(t-1)},t.prototype.isRowSelected=function(t){return 0===t?this.isSelectAllSelected():this.model.isKeySelected(this.getRow(t))},t.prototype.areRowsEqual=function(t,e){return t===e},t}(),TreeModelWrapper=function(){function t(t){this.model=t}return t.prototype.getRowCount=function(){return this.model.getRowCount()},t.prototype.getRow=function(t){return this.model.getRow(t)},t.prototype.areRowsEqual=function(t,e){return null==t&&null==e||null!=t&&null!=e&&t.treeKey===e.treeKey&&t.depth===e.depth},t}(),__extends$g=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$b=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},SetFloatingFilterComp=function(t){function e(){var e=t.call(this,'\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eFloatingFilterText"></ag-input-text-field>\n            </div>')||this;return e.availableValuesListenerAdded=!1,e.filterModelFormatter=new SetFilterModelFormatter,e}return __extends$g(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this)},e.prototype.init=function(t){var e=this.columnModel.getDisplayNameForColumn(t.column,"header",!0),n=this.localeService.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(e+" "+n("ariaFilterInput","Filter Input")).addGuiEventListener("click",(function(){return t.showParentFilter()})),this.params=t},e.prototype.onParentModelChanged=function(t){this.updateFloatingFilterText(t)},e.prototype.parentSetFilterInstance=function(t){this.params.parentFilterInstance((function(e){if(!(e instanceof SetFilter))throw new Error("AG Grid - SetFloatingFilter expects SetFilter as its parent");t(e)}))},e.prototype.addAvailableValuesListener=function(){var t=this;this.parentSetFilterInstance((function(e){var n=e.getValueModel();n&&t.addManagedListener(n,SetValueModel.EVENT_AVAILABLE_VALUES_CHANGED,(function(){return t.updateFloatingFilterText()}))})),this.availableValuesListenerAdded=!0},e.prototype.updateFloatingFilterText=function(t){var e=this;this.availableValuesListenerAdded||this.addAvailableValuesListener(),this.parentSetFilterInstance((function(n){e.eFloatingFilterText.setValue(e.filterModelFormatter.getModelAsString(t,n))}))},__decorate$b([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eFloatingFilterText")],e.prototype,"eFloatingFilterText",void 0),__decorate$b([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("columnModel")],e.prototype,"columnModel",void 0),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),VERSION$3="29.3.4",SetFilterModule={version:VERSION$3,moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.SetFilterModule,beans:[],userComponents:[{componentName:"agSetColumnFilter",componentClass:SetFilter},{componentName:"agSetColumnFloatingFilter",componentClass:SetFloatingFilterComp}],dependantModules:[EnterpriseCoreModule]},__extends$f=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$a=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},StatusBarService=function(t){function e(){var e=t.call(this)||this;return e.allComponents={},e}return __extends$f(e,t),e.prototype.registerStatusPanel=function(t,e){this.allComponents[t]=e},e.prototype.getStatusPanel=function(t){return this.allComponents[t]},e=__decorate$a([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("statusBarService")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),__extends$e=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$9=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},StatusBar=function(t){function e(){return t.call(this,e.TEMPLATE)||this}return __extends$e(e,t),e.prototype.postConstruct=function(){var t,e=null===(t=this.gridOptionsService.get("statusBar"))||void 0===t?void 0:t.statusPanels;if(e){var n=e.filter((function(t){return"left"===t.align}));this.createAndRenderComponents(n,this.eStatusBarLeft);var i=e.filter((function(t){return"center"===t.align}));this.createAndRenderComponents(i,this.eStatusBarCenter);var o=e.filter((function(t){return!t.align||"right"===t.align}));this.createAndRenderComponents(o,this.eStatusBarRight)}else this.setDisplayed(!1)},e.prototype.createAndRenderComponents=function(t,e){var n=this,i=[];t.forEach((function(t){var e=n.userComponentFactory.getStatusPanelCompDetails(t,{}).newAgStackInstance();e&&i.push({key:t.key||t.statusPanel,promise:e})})),ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.j_S.all(i.map((function(t){return t.promise}))).then((function(){i.forEach((function(t){t.promise.then((function(i){var o=function(){n.getContext().destroyBean(i)};n.isAlive()?(n.statusBarService.registerStatusPanel(t.key,i),e.appendChild(i.getGui()),n.addDestroyFunc(o)):o()}))}))}))},e.TEMPLATE='<div class="ag-status-bar">\n            <div ref="eStatusBarLeft" class="ag-status-bar-left" role="status"></div>\n            <div ref="eStatusBarCenter" class="ag-status-bar-center" role="status"></div>\n            <div ref="eStatusBarRight" class="ag-status-bar-right" role="status"></div>\n        </div>',__decorate$9([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("userComponentFactory")],e.prototype,"userComponentFactory",void 0),__decorate$9([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("statusBarService")],e.prototype,"statusBarService",void 0),__decorate$9([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eStatusBarLeft")],e.prototype,"eStatusBarLeft",void 0),__decorate$9([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eStatusBarCenter")],e.prototype,"eStatusBarCenter",void 0),__decorate$9([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eStatusBarRight")],e.prototype,"eStatusBarRight",void 0),__decorate$9([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$d=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$8=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},NameValueComp=function(t){function e(){return t.call(this,e.TEMPLATE)||this}return __extends$d(e,t),e.prototype.setLabel=function(t,e){this.setDisplayed(!1);var n=this.localeService.getLocaleTextFunc();this.eLabel.innerHTML=n(t,e)},e.prototype.setValue=function(t){this.eValue.innerHTML=t},e.TEMPLATE='<div class="ag-status-name-value">\n            <span ref="eLabel"></span>:&nbsp;\n            <span ref="eValue" class="ag-status-name-value-value"></span>\n        </div>',__decorate$8([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eLabel")],e.prototype,"eLabel",void 0),__decorate$8([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eValue")],e.prototype,"eValue",void 0),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends$c=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$7=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},TotalAndFilteredRowsComp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$c(e,t),e.prototype.postConstruct=function(){"clientSide"===this.gridApi.getModel().getType()?(this.setLabel("totalAndFilteredRows","Rows"),this.addCssClass("ag-status-panel"),this.addCssClass("ag-status-panel-total-and-filtered-row-count"),this.setDisplayed(!0),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_MODEL_UPDATED,this.onDataChanged.bind(this)),this.onDataChanged()):console.warn("AG Grid: agTotalAndFilteredRowCountComponent should only be used with the client side row model.")},e.prototype.onDataChanged=function(){var t=this.localeService.getLocaleTextFunc(),e=t("thousandSeparator",","),n=t("decimalSeparator","."),i=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.formatNumberCommas(this.getFilteredRowCountValue(),e,n),o=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.formatNumberCommas(this.getTotalRowCount(),e,n);if(i===o)this.setValue(i);else{var r=this.localeService.getLocaleTextFunc();this.setValue(i+" "+r("of","of")+" "+o)}},e.prototype.getFilteredRowCountValue=function(){var t=0;return this.gridApi.forEachNodeAfterFilter((function(e){e.group||t++})),t},e.prototype.getTotalRowCount=function(){var t=0;return this.gridApi.forEachNode((function(e){e.group||t++})),t},e.prototype.init=function(){},e.prototype.destroy=function(){t.prototype.destroy.call(this)},__decorate$7([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],e.prototype,"gridApi",void 0),__decorate$7([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),e}(NameValueComp),__extends$b=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$6=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},FilteredRowsComp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$b(e,t),e.prototype.postConstruct=function(){if(this.setLabel("filteredRows","Filtered"),"clientSide"===this.gridApi.getModel().getType()){this.addCssClass("ag-status-panel"),this.addCssClass("ag-status-panel-filtered-row-count"),this.setDisplayed(!0);var t=this.onDataChanged.bind(this);this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_MODEL_UPDATED,t),t()}else console.warn("AG Grid: agFilteredRowCountComponent should only be used with the client side row model.")},e.prototype.onDataChanged=function(){var t=this.getTotalRowCountValue(),e=this.getFilteredRowCountValue(),n=this.localeService.getLocaleTextFunc(),i=n("thousandSeparator",","),o=n("decimalSeparator",".");this.setValue(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.formatNumberCommas(e,i,o)),this.setDisplayed(t!==e)},e.prototype.getTotalRowCountValue=function(){var t=0;return this.gridApi.forEachNode((function(e){return t+=1})),t},e.prototype.getFilteredRowCountValue=function(){var t=0;return this.gridApi.forEachNodeAfterFilter((function(e){e.group||(t+=1)})),t},e.prototype.init=function(){},e.prototype.destroy=function(){t.prototype.destroy.call(this)},__decorate$6([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],e.prototype,"gridApi",void 0),__decorate$6([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),e}(NameValueComp),__extends$a=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$5=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},TotalRowsComp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$a(e,t),e.prototype.postConstruct=function(){this.setLabel("totalRows","Total Rows"),"clientSide"===this.gridApi.getModel().getType()?(this.addCssClass("ag-status-panel"),this.addCssClass("ag-status-panel-total-row-count"),this.setDisplayed(!0),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_MODEL_UPDATED,this.onDataChanged.bind(this)),this.onDataChanged()):console.warn("AG Grid: agTotalRowCountComponent should only be used with the client side row model.")},e.prototype.onDataChanged=function(){var t=this.localeService.getLocaleTextFunc(),e=t("thousandSeparator",","),n=t("decimalSeparator",".");this.setValue(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.formatNumberCommas(this.getRowCountValue(),e,n))},e.prototype.getRowCountValue=function(){var t=0;return this.gridApi.forEachLeafNode((function(e){return t+=1})),t},e.prototype.init=function(){},e.prototype.destroy=function(){t.prototype.destroy.call(this)},__decorate$5([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],e.prototype,"gridApi",void 0),__decorate$5([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),e}(NameValueComp),__extends$9=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$4=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},SelectedRowsComp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$9(e,t),e.prototype.postConstruct=function(){if(this.isValidRowModel()){this.setLabel("selectedRows","Selected"),this.addCssClass("ag-status-panel"),this.addCssClass("ag-status-panel-selected-row-count"),this.onRowSelectionChanged();var t=this.onRowSelectionChanged.bind(this);this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_MODEL_UPDATED,t),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_SELECTION_CHANGED,t)}else console.warn("AG Grid: agSelectedRowCountComponent should only be used with the client and server side row model.")},e.prototype.isValidRowModel=function(){var t=this.gridApi.getModel().getType();return"clientSide"===t||"serverSide"===t},e.prototype.onRowSelectionChanged=function(){var t=this.selectionService.getSelectionCount();if(t<0)return this.setValue("?"),void this.setDisplayed(!0);var e=this.localeService.getLocaleTextFunc(),n=e("thousandSeparator",","),i=e("decimalSeparator",".");this.setValue(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.formatNumberCommas(t,n,i)),this.setDisplayed(t>0)},e.prototype.init=function(){},e.prototype.destroy=function(){t.prototype.destroy.call(this)},__decorate$4([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],e.prototype,"gridApi",void 0),__decorate$4([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("selectionService")],e.prototype,"selectionService",void 0),__decorate$4([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),e}(NameValueComp),__extends$8=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$3=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},AggregationComp=function(t){function e(){return t.call(this,e.TEMPLATE)||this}return __extends$8(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this)},e.prototype.postConstruct=function(){this.isValidRowModel()?(this.avgAggregationComp.setLabel("avg","Average"),this.countAggregationComp.setLabel("count","Count"),this.minAggregationComp.setLabel("min","Min"),this.maxAggregationComp.setLabel("max","Max"),this.sumAggregationComp.setLabel("sum","Sum"),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_RANGE_SELECTION_CHANGED,this.onRangeSelectionChanged.bind(this)),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_MODEL_UPDATED,this.onRangeSelectionChanged.bind(this))):console.warn("AG Grid: agAggregationComponent should only be used with the client and server side row model.")},e.prototype.isValidRowModel=function(){var t=this.gridApi.getModel().getType();return"clientSide"===t||"serverSide"===t},e.prototype.init=function(){},e.prototype.setAggregationComponentValue=function(t,e,n){var i=this.getAggregationValueComponent(t);if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(i)&&i){var o=this.localeService.getLocaleTextFunc(),r=o("thousandSeparator",","),s=o("decimalSeparator",".");i.setValue(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.formatNumberTwoDecimalPlacesAndCommas(e,r,s)),i.setDisplayed(n)}},e.prototype.getAggregationValueComponent=function(t){var e=t+"AggregationComp",n=null,i=this.gridOptionsService.get("statusBar"),o=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(i)&&i?i.statusPanels.find((function(t){return"agAggregationComponent"===t.statusPanel})):null;return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(o)&&o?(!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(o.statusPanelParams)||ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(o.statusPanelParams)&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(o.statusPanelParams.aggFuncs)&&ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.exists(o.statusPanelParams.aggFuncs.find((function(e){return e===t}))))&&(n=this[e]):n=this[e],n},e.prototype.onRangeSelectionChanged=function(){var t=this,e=this.rangeService?this.rangeService.getCellRanges():void 0,n=0,i=0,o=0,r=null,s=null,a={};e&&!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missingOrEmpty(e)&&e.forEach((function(e){for(var l=t.rangeService.getRangeStartRow(e),c=t.rangeService.getRangeEndRow(e);;){if(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(l)||!l||t.rowPositionUtils.before(c,l)||!l||!e.columns)break;e.columns.forEach((function(e){if(null!==l){var c=t.cellPositionUtils.createId({rowPinned:l.rowPinned,column:e,rowIndex:l.rowIndex});if(!a[c]){a[c]=!0;var u=t.rowRenderer.getRowNode(l);if(!ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(u)){var h=t.valueService.getValue(e,u);ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(h)||""===h||("object"==typeof h&&"value"in h&&(h=h.value),"string"==typeof h&&(h=Number(h)),"number"!=typeof h||isNaN(h)||(n+=h,(null===s||h>s)&&(s=h),(null===r||h<r)&&(r=h),o++),i++)}}}})),l=t.cellNavigationService.getRowBelow(l)}}));var l=i>1,c=o>1;this.setAggregationComponentValue("count",i,l),this.setAggregationComponentValue("sum",n,c),this.setAggregationComponentValue("min",r,c),this.setAggregationComponentValue("max",s,c),this.setAggregationComponentValue("avg",n/o,c)},e.TEMPLATE='<div class="ag-status-panel ag-status-panel-aggregations">\n            <ag-name-value ref="avgAggregationComp"></ag-name-value>\n            <ag-name-value ref="countAggregationComp"></ag-name-value>\n            <ag-name-value ref="minAggregationComp"></ag-name-value>\n            <ag-name-value ref="maxAggregationComp"></ag-name-value>\n            <ag-name-value ref="sumAggregationComp"></ag-name-value>\n        </div>',__decorate$3([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FiY)("rangeService")],e.prototype,"rangeService",void 0),__decorate$3([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("valueService")],e.prototype,"valueService",void 0),__decorate$3([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("cellNavigationService")],e.prototype,"cellNavigationService",void 0),__decorate$3([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowRenderer")],e.prototype,"rowRenderer",void 0),__decorate$3([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("gridApi")],e.prototype,"gridApi",void 0),__decorate$3([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("cellPositionUtils")],e.prototype,"cellPositionUtils",void 0),__decorate$3([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowPositionUtils")],e.prototype,"rowPositionUtils",void 0),__decorate$3([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("sumAggregationComp")],e.prototype,"sumAggregationComp",void 0),__decorate$3([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("countAggregationComp")],e.prototype,"countAggregationComp",void 0),__decorate$3([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("minAggregationComp")],e.prototype,"minAggregationComp",void 0),__decorate$3([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("maxAggregationComp")],e.prototype,"maxAggregationComp",void 0),__decorate$3([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("avgAggregationComp")],e.prototype,"avgAggregationComp",void 0),__decorate$3([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),VERSION$2="29.3.4",StatusBarModule={version:VERSION$2,moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.StatusBarModule,beans:[StatusBarService],agStackComponents:[{componentName:"AgStatusBar",componentClass:StatusBar},{componentName:"AgNameValue",componentClass:NameValueComp}],userComponents:[{componentName:"agAggregationComponent",componentClass:AggregationComp},{componentName:"agSelectedRowCountComponent",componentClass:SelectedRowsComp},{componentName:"agTotalRowCountComponent",componentClass:TotalRowsComp},{componentName:"agFilteredRowCountComponent",componentClass:FilteredRowsComp},{componentName:"agTotalAndFilteredRowCountComponent",componentClass:TotalAndFilteredRowsComp}],dependantModules:[EnterpriseCoreModule]},VERSION$1="29.3.4",__extends$7=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate$2=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},DEFAULT_VIEWPORT_ROW_MODEL_PAGE_SIZE=5,DEFAULT_VIEWPORT_ROW_MODEL_BUFFER_SIZE=5,ViewportRowModel=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.firstRow=-1,e.lastRow=-1,e.rowCount=-1,e.rowNodesByIndex={},e}return __extends$7(e,t),e.prototype.ensureRowHeightsValid=function(t,e,n,i){return!1},e.prototype.init=function(){this.rowHeight=this.gridOptionsService.getRowHeightAsNumber(),this.addManagedListener(this.eventService,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_VIEWPORT_CHANGED,this.onViewportChanged.bind(this))},e.prototype.start=function(){this.gridOptionsService.get("viewportDatasource")&&this.setViewportDatasource(this.gridOptionsService.get("viewportDatasource"))},e.prototype.isLastRowIndexKnown=function(){return!0},e.prototype.destroyDatasource=function(){this.viewportDatasource&&(this.viewportDatasource.destroy&&this.viewportDatasource.destroy(),this.rowRenderer.datasourceChanged(),this.firstRow=-1,this.lastRow=-1)},e.prototype.getViewportRowModelPageSize=function(){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.oneOrGreater(this.gridOptionsService.getNum("viewportRowModelPageSize"),DEFAULT_VIEWPORT_ROW_MODEL_PAGE_SIZE)},e.prototype.getViewportRowModelBufferSize=function(){return ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.zeroOrGreater(this.gridOptionsService.getNum("viewportRowModelBufferSize"),DEFAULT_VIEWPORT_ROW_MODEL_BUFFER_SIZE)},e.prototype.calculateFirstRow=function(t){var e=this.getViewportRowModelBufferSize(),n=this.getViewportRowModelPageSize(),i=t-e;return i<0?0:Math.floor(i/n)*n},e.prototype.calculateLastRow=function(t){if(-1===t)return t;var e=this.getViewportRowModelBufferSize(),n=this.getViewportRowModelPageSize(),i=t+e,o=Math.ceil(i/n)*n,r=this.rowCount-1;return Math.min(o,r)},e.prototype.onViewportChanged=function(t){var e=this.calculateFirstRow(t.firstRow),n=this.calculateLastRow(t.lastRow);this.firstRow===e&&this.lastRow===n||(this.firstRow=e,this.lastRow=n,this.purgeRowsNotInViewport(),this.viewportDatasource&&this.viewportDatasource.setViewportRange(this.firstRow,this.lastRow))},e.prototype.purgeRowsNotInViewport=function(){var t=this;Object.keys(this.rowNodesByIndex).forEach((function(e){var n=parseInt(e,10);if(n<t.firstRow||n>t.lastRow){if(t.isRowFocused(n))return;delete t.rowNodesByIndex[n]}}))},e.prototype.isRowFocused=function(t){var e=this.focusService.getFocusCellToUseAfterRefresh();return!!e&&(null==e.rowPinned&&e.rowIndex===t)},e.prototype.setViewportDatasource=function(t){this.destroyDatasource(),this.viewportDatasource=t,this.rowCount=-1,t.init?t.init({setRowCount:this.setRowCount.bind(this),setRowData:this.setRowData.bind(this),getRow:this.getRow.bind(this)}):console.warn("AG Grid: viewport is missing init method.")},e.prototype.getType=function(){return"viewport"},e.prototype.getRow=function(t){return this.rowNodesByIndex[t]||(this.rowNodesByIndex[t]=this.createBlankRowNode(t)),this.rowNodesByIndex[t]},e.prototype.getRowNode=function(t){var e;return this.forEachNode((function(n){n.id===t&&(e=n)})),e},e.prototype.getRowCount=function(){return-1===this.rowCount?0:this.rowCount},e.prototype.getRowIndexAtPixel=function(t){return 0!==this.rowHeight?Math.floor(t/this.rowHeight):0},e.prototype.getRowBounds=function(t){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*t}},e.prototype.getTopLevelRowCount=function(){return this.getRowCount()},e.prototype.getTopLevelRowDisplayedIndex=function(t){return t},e.prototype.isEmpty=function(){return this.rowCount>0},e.prototype.isRowsToRender=function(){return this.rowCount>0},e.prototype.getNodesInRangeForSelection=function(t,e){var n=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(t)?0:t.rowIndex,i=e.rowIndex,o=n<this.firstRow||n>this.lastRow,r=i<this.firstRow||i>this.lastRow;if(o||r)return[];for(var s=[],a=n<=i?i:n,l=n<=i?n:i;l<=a;l++)s.push(this.rowNodesByIndex[l]);return s},e.prototype.forEachNode=function(t){var e=this,n=0;Object.keys(this.rowNodesByIndex).forEach((function(i){var o=parseInt(i,10),r=e.rowNodesByIndex[o];t(r,n),n++}))},e.prototype.setRowData=function(t){var e=this;ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.iterateObject(t,(function(t,n){var i=parseInt(t,10);if(i>=e.firstRow&&i<=e.lastRow){var o=e.rowNodesByIndex[i];ag_grid_community__WEBPACK_IMPORTED_MODULE_0__._.missing(o)&&(o=e.createBlankRowNode(i),e.rowNodesByIndex[i]=o),o.setDataAndId(n,i.toString())}}))},e.prototype.createBlankRowNode=function(t){var e=new ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Fxk(this.beans);return e.setRowHeight(this.rowHeight),e.setRowTop(this.rowHeight*t),e.setRowIndex(t),e},e.prototype.setRowCount=function(t,e){if(void 0===e&&(e=!1),t!==this.rowCount){this.rowCount=t;var n={type:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.zW2.EVENT_MODEL_UPDATED,newData:!1,newPage:!1,keepRenderedRows:e,animate:!1};this.eventService.dispatchEvent(n)}},e.prototype.isRowPresent=function(t){return!!this.getRowNode(t.id)},__decorate$2([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("rowRenderer")],e.prototype,"rowRenderer",void 0),__decorate$2([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("focusService")],e.prototype,"focusService",void 0),__decorate$2([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("beans")],e.prototype,"beans",void 0),__decorate$2([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"init",null),__decorate$2([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FXL],e.prototype,"destroyDatasource",null),e=__decorate$2([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("rowModel")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),ViewportRowModelModule={version:VERSION$1,moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.ViewportRowModelModule,rowModel:"viewport",beans:[ViewportRowModel],dependantModules:[EnterpriseCoreModule]},defaultTooltipCss="\n.ag-sparkline-tooltip-wrapper {\n    position: absolute;\n    user-select: none;\n    pointer-events: none;\n}\n\n.ag-sparkline-tooltip {\n    position: relative;\n    font: 12px arial,sans-serif;\n    border-radius: 2px;\n    box-shadow: 0 1px 3px rgb(0 0 0 / 20%), 0 1px 1px rgb(0 0 0 / 14%);\n    line-height: 1.7em;\n    overflow: hidden;\n    white-space: nowrap;\n    z-index: 99999;\n    background-color: rgb(255, 255, 255);\n    color: rgba(0,0,0, 0.67);\n}\n\n.ag-sparkline-tooltip-content {\n    padding: 0 7px;\n    opacity: 1;\n}\n\n.ag-sparkline-tooltip-title {\n    padding-left: 7px;\n    opacity: 1;\n}\n\n.ag-sparkline-tooltip-wrapper-hidden {\n    top: -10000px !important;\n}\n\n.ag-sparkline-wrapper {\n    box-sizing: border-box;\n    overflow: hidden;\n}\n",__values=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},extent$3=extent$4,isNumber$3=isNumber$4,isString=isString$1,isStringObject=isStringObject$1,isDate=isDate$1,createId=createId$1,Padding=Padding$1,LinearScale=LinearScale$1,BandScale$4=BandScale$5,TimeScale=TimeScale$1,ZINDICIES;!function(t){t[t.SERIES_FILL_ZINDEX=50]="SERIES_FILL_ZINDEX",t[t.AXIS_LINE_ZINDEX=500]="AXIS_LINE_ZINDEX",t[t.SERIES_STROKE_ZINDEX=1e3]="SERIES_STROKE_ZINDEX",t[t.SERIES_LABEL_ZINDEX=1500]="SERIES_LABEL_ZINDEX",t[t.CROSSHAIR_ZINDEX=2e3]="CROSSHAIR_ZINDEX",t[t.SERIES_MARKERS_ZINDEX=2500]="SERIES_MARKERS_ZINDEX"}(ZINDICIES||(ZINDICIES={}));var SparklineAxis=function(){this.type="category",this.stroke="rgb(204, 214, 235)",this.strokeWidth=1},Sparkline=function(){function t(){this.id=createId(this),this.seriesRect={x:0,y:0,width:0,height:0},this._context=void 0,this._container=void 0,this._data=void 0,this.padding=new Padding(3),this.xKey="x",this.yKey="y",this.dataType=void 0,this.xData=[],this.yData=[],this.min=void 0,this.max=void 0,this.yScale=new LinearScale,this.axis=new SparklineAxis,this.highlightStyle={size:6,fill:"yellow",stroke:"silver",strokeWidth:1},this._width=100,this._height=100,this.smallestInterval=void 0,this.layoutId=0,this.defaultDateFormatter=new Intl.DateTimeFormat("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}),this._onMouseMove=this.onMouseMove.bind(this),this._onMouseOut=this.onMouseOut.bind(this);var e=new Group;this.rootGroup=e;var n=document.createElement("div");n.setAttribute("class","ag-sparkline-wrapper");var i=new Scene({document});if(this.scene=i,this.canvasElement=i.canvas.element,i.root=e,i.container=n,i.resize(this.width,this.height),this.seriesRect.width=this.width,this.seriesRect.height=this.height,-1===t.tooltipDocuments.indexOf(document)){var o=document.createElement("style");o.innerHTML=defaultTooltipCss,document.head.insertBefore(o,document.head.querySelector("style")),t.tooltipDocuments.push(document)}this.setupDomEventListeners(this.scene.canvas.element)}return Object.defineProperty(t.prototype,"context",{get:function(){return this._context},set:function(t){this._context!==t&&(this._context=t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"container",{get:function(){return this._container},set:function(t){if(this._container!==t){var e=this.canvasElement.parentNode;null!=e&&e.removeChild(this.canvasElement),t&&t.appendChild(this.canvasElement),this._container=t}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this._data},set:function(t){this._data!==t&&(this._data=t,this.processData(),this.mouseMoveEvent&&this.highlightedDatum&&this.updateHitPoint(this.mouseMoveEvent))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(t){this._width!==t&&(this._width=t,this.scene.resize(t,this.height),this.scheduleLayout())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(t){this._height!==t&&(this._height=t,this.scene.resize(this.width,t),this.scheduleLayout())},enumerable:!1,configurable:!0}),t.prototype.update=function(){},t.prototype.updateYScale=function(){this.updateYScaleRange(),this.updateYScaleDomain()},t.prototype.updateYScaleDomain=function(){},t.prototype.updateYScaleRange=function(){var t=this.yScale,e=this.seriesRect;t.range=[e.height,0]},t.prototype.updateXScale=function(){var t=this.axis.type;this.xScale=this.getXScale(t),this.updateXScaleRange(),this.updateXScaleDomain()},t.prototype.updateXScaleRange=function(){this.xScale.range=[0,this.seriesRect.width]},t.prototype.updateXScaleDomain=function(){var t,e=this.xData,n=this.xScale;(n instanceof LinearScale||n instanceof TimeScale)&&(t=extent$3(e)),this.xScale.domain=t?t.slice():e},t.prototype.getXScale=function(t){switch(void 0===t&&(t="category"),t){case"number":return new LinearScale;case"time":return new TimeScale;default:return new BandScale$4}},t.prototype.updateAxisLine=function(){},t.prototype.updateAxes=function(){this.updateYScale(),this.updateXScale(),this.updateAxisLine()},t.prototype.updateCrosshairs=function(){this.updateXCrosshairLine(),this.updateYCrosshairLine()},t.prototype.generateNodeData=function(){return[]},t.prototype.getNodeData=function(){return[]},t.prototype.updateNodes=function(){},t.prototype.updateXCrosshairLine=function(){},t.prototype.updateYCrosshairLine=function(){},t.prototype.highlightDatum=function(t){this.updateNodes()},t.prototype.dehighlightDatum=function(){this.highlightedDatum=void 0,this.updateNodes(),this.updateCrosshairs()},t.prototype.onMouseMove=function(t){this.mouseMoveEvent=t,this.updateHitPoint(t)},t.prototype.updateHitPoint=function(t){var e,n,i,o=this.pickClosestSeriesNodeDatum(t.offsetX,t.offsetY);if(o){var r=this.highlightedDatum;this.highlightedDatum=o,(this.highlightedDatum&&!r||this.highlightedDatum&&r&&this.highlightedDatum!==r)&&(this.highlightDatum(o),this.updateCrosshairs(),this.scene.render()),(null===(i=null===(n=null===(e=this.processedOptions)||void 0===e?void 0:e.tooltip)||void 0===n?void 0:n.enabled)||void 0===i||i)&&this.handleTooltip(t,o)}},t.prototype.onMouseOut=function(t){this.dehighlightDatum(),this.tooltip.toggle(!1),this.scene.render()},t.prototype.processData=function(){var t=this,e=this,n=e.data,i=e.yData,o=e.xData;if(n&&!this.invalidData(this.data)){i.length=0,o.length=0;var r=n.length,s=this.getDataType(n);this.dataType=s;var a,l=this.axis.type,c="number"!==l&&"time"!==l?"category":l,u="number"===c||"time"===c,h=function(e,n){null==t.smallestInterval&&(t.smallestInterval={x:1/0,y:1/0});var i=t.smallestInterval.x,o=Math.abs(e-n);o>0&&o<i&&(t.smallestInterval.x=o)};if("number"===s)for(var d=0;d<r;d++){var p=d,f=n[d],g=this.getDatum(p,c),m=this.getDatum(f,"number");u&&h(g,a),o.push(g),i.push(m),a=g}else if("array"===s)for(d=0;d<r;d++){var _=n[d];if(Array.isArray(_)){p=_[0],f=_[1],g=this.getDatum(p,c),m=this.getDatum(f,"number");if(null==g)continue;u&&h(g,a),o.push(g),i.push(m),a=g}}else if("object"===s){var y=this.yKey,v=this.xKey;for(d=0;d<r;d++){if("object"==typeof(_=n[d])&&!Array.isArray(_)){p=_[v],f=_[y],g=this.getDatum(p,c),m=this.getDatum(f,"number");if(null==g)continue;u&&h(g,a),o.push(g),i.push(m),a=g}}}this.updateAxes(),this.update(),this.scene.render()}},t.prototype.getDataType=function(t){var e,n;try{for(var i=__values(t),o=i.next();!o.done;o=i.next()){var r=o.value;if(null!=r){if(isNumber$3(r))return"number";if(Array.isArray(r))return"array";if("object"==typeof r)return"object"}}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.getDatum=function(t,e){if("number"===e&&isNumber$3(t)||"time"===e&&(isNumber$3(t)||isDate(t)))return t;if("category"===e){if(isString(t)||isDate(t)||isNumber$3(t))return{toString:function(){return String(t)}};if(isStringObject(t))return t}},Object.defineProperty(t.prototype,"layoutScheduled",{get:function(){return!!this.layoutId},enumerable:!1,configurable:!0}),t.prototype.scheduleLayout=function(){var t=this;this.layoutId&&cancelAnimationFrame(this.layoutId),this.layoutId=requestAnimationFrame((function(){t.setSparklineDimensions(),t.invalidData(t.data)||(t.updateXScaleRange(),t.updateYScaleRange(),t.updateAxisLine(),t.update(),t.scene.render(),t.layoutId=0)}))},t.prototype.setSparklineDimensions=function(){var t=this,e=t.width,n=t.height,i=t.padding,o=t.seriesRect,r=t.rootGroup,s=e-i.left-i.right,a=n-i.top-i.bottom;o.width=s,o.height=a,o.x=i.left,o.y=i.top,r.translationX=o.x,r.translationY=o.y},t.prototype.pickClosestSeriesNodeDatum=function(t,e){for(var n,i=1/0,o=this.rootGroup.transformPoint(t,e),r=this.getNodeData(),s=0;s<r.length;s++){var a=r[s];if(!a.point)return;var l=this.getDistance(o,a.point);l<=i&&(i=l,n=a)}return n},t.prototype.getDistance=function(t,e){return Math.abs(t.x-e.x)},t.prototype.handleTooltip=function(t,e){var n,i,o=e.seriesDatum,r=this.canvasElement,s=t.clientX,a=t.clientY,l=null===(n=this.processedOptions)||void 0===n?void 0:n.tooltip,c={pageX:s,pageY:a,position:{xOffset:null==l?void 0:l.xOffset,yOffset:null==l?void 0:l.yOffset},container:null==l?void 0:l.container};null==c.container&&(c.container=r);var u=o.y,h=o.x,d=null===(i=null==l?void 0:l.enabled)||void 0===i||i,p=null==l?void 0:l.renderer;if(p){var f=p({context:this.context,datum:o,yValue:u,xValue:h});d="string"!=typeof f&&void 0!==f.enabled?f.enabled:d}var g=d&&void 0!==o.y&&this.getTooltipHtml(e);g&&this.tooltip.show(c,g)},t.prototype.formatNumericDatum=function(t){return String(Math.round(10*t)/10)},t.prototype.formatDatum=function(t){var e=this.axis.type||"category";return"number"===e&&"number"==typeof t?this.formatNumericDatum(t):"time"===e&&(t instanceof Date||isNumber$3(t))?this.defaultDateFormatter.format(t):String(t)},t.prototype.setupDomEventListeners=function(t){t.addEventListener("mousemove",this._onMouseMove),t.addEventListener("mouseout",this._onMouseOut)},t.prototype.cleanupDomEventListeners=function(t){t.removeEventListener("mousemove",this._onMouseMove),t.removeEventListener("mouseout",this._onMouseOut)},t.prototype.invalidData=function(t){return!t||!Array.isArray(t)||0===t.length},t.prototype.destroy=function(){this.scene.container=void 0,this.container=void 0,this.cleanupDomEventListeners(this.scene.canvas.element)},t.tooltipDocuments=[],t}();function toTooltipHtml(t,e){if("string"==typeof t)return t;e=e||{};var n,i,o=t.content,r=void 0===o?e.content||"":o,s=t.title,a=void 0===s?e.title||void 0:s,l=t.color,c=void 0===l?e.color:l,u=t.backgroundColor,h=void 0===u?e.backgroundColor:u,d=t.opacity,p=void 0===d?e.opacity||1:d;c?(n=a?'<span class="'+SparklineTooltip.class+'-title"; style="color: '+c+'">'+a+"</span>":"",i='<span class="'+SparklineTooltip.class+'-content" style="color: '+c+'">'+r+"</span>"):(n=a?'<span class="'+SparklineTooltip.class+'-title">'+a+"</span>":"",i='<span class="'+SparklineTooltip.class+'-content">'+r+"</span>");var f="opacity: "+p;return h&&(f+="; background-color: "+h.toLowerCase()),'<div class="'+SparklineTooltip.class+'" style="'+f+'">\n                '+n+"\n                "+i+"\n            </div>"}var SparklineTooltip=function(){function t(){this.element=document.createElement("div"),document.body.appendChild(this.element)}return t.prototype.isVisible=function(){var e=this.element;if(e.classList)return!e.classList.contains(t.class+"-wrapper-hidden");var n=e.getAttribute("class");return!!n&&n.split(" ").indexOf(t.class+"-wrapper-hidden")<0},t.prototype.updateClass=function(e){var n=[t.class+"-wrapper"];!0!==e&&n.push(t.class+"-wrapper-hidden"),this.element.setAttribute("class",n.join(" "))},t.prototype.show=function(t,e){var n,i,o,r;this.toggle(!1);var s=this.element;if(void 0!==e)s.innerHTML=e;else if(!s.innerHTML)return;var a=null!==(i=null===(n=t.position)||void 0===n?void 0:n.xOffset)&&void 0!==i?i:10,l=null!==(r=null===(o=t.position)||void 0===o?void 0:o.yOffset)&&void 0!==r?r:0,c=t.pageX+a,u=t.pageY+l,h=s.getBoundingClientRect(),d=window.innerWidth-h.width;if(t.container){var p=t.container.getBoundingClientRect();d=p.left+(p.width-h.width)}c>d&&(c=t.pageX-s.clientWidth-a),"undefined"!=typeof scrollX&&(c+=scrollX),"undefined"!=typeof scrollY&&(u+=scrollY),s.style.left=Math.round(c)+"px",s.style.top=Math.round(u)+"px",this.toggle(!0)},t.prototype.toggle=function(t){this.updateClass(t)},t.prototype.destroy=function(){var t=this.element.parentNode;t&&t.removeChild(this.element)},t.class="ag-sparkline-tooltip",t}();function getMarker(t){switch(t){case"circle":default:return Circle;case"square":return Square;case"diamond":return Diamond}}function getLineDash(t,e){void 0===e&&(e="solid");var n={solid:[],dash:[4,3],dot:[1,3],dashDot:[4,3,1,3],dashDotDot:[4,3,1,3,1,3],shortDot:[1,1],shortDash:[3,1],shortDashDot:[3,1,1,1],shortDashDotDot:[3,1,1,1,1,1],longDash:[8,3],longDashDot:[8,3,1,3],longDashDotDot:[8,3,1,3,1,3]},i={solid:[],dash:[3,3],dot:[0,3],dashDot:[3,3,0,3],dashDotDot:[3,3,0,3,0,3],shortDot:[0,2],shortDash:[2,2],shortDashDot:[2,2,0,2],shortDashDotDot:[2,2,0,2,0,2],longDash:[7,3],longDashDot:[7,3,0,3],longDashDotDot:[7,3,0,3,0,3]};return"round"===t||"square"===t?null==i[e]?(console.warn("'"+e+"' is not a valid 'lineDash' option."),i.solid):i[e]:null==n[e]?(console.warn("'"+e+"' is not a valid 'lineDash' option."),n.solid):n[e]}var __extends$6=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),extent$2=extent$4,BandScale$3=BandScale$5,SparklineMarker$1=function(){this.enabled=!0,this.shape="circle",this.size=0,this.fill="rgb(124, 181, 236)",this.stroke="rgb(124, 181, 236)",this.strokeWidth=1,this.formatter=void 0},SparklineLine$1=function(){this.stroke="rgb(124, 181, 236)",this.strokeWidth=1},SparklineCrosshairs$1=function(){this.xLine={enabled:!0,stroke:"rgba(0,0,0, 0.54)",strokeWidth:1,lineDash:"solid",lineCap:void 0},this.yLine={enabled:!1,stroke:"rgba(0,0,0, 0.54)",strokeWidth:1,lineDash:"solid",lineCap:void 0}},AreaSparkline=function(t){function e(){var e=t.call(this)||this;return e.fill="rgba(124, 181, 236, 0.25)",e.strokePath=new Path,e.fillPath=new Path,e.xCrosshairLine=new Line,e.yCrosshairLine=new Line,e.areaSparklineGroup=new Group,e.xAxisLine=new Line,e.markers=new Group,e.markerSelection=Selection.select(e.markers,(function(){return e.markerFactory()})),e.markerSelectionData=[],e.marker=new SparklineMarker$1,e.line=new SparklineLine$1,e.crosshairs=new SparklineCrosshairs$1,e.rootGroup.append(e.areaSparklineGroup),e.xAxisLine.zIndex=ZINDICIES.AXIS_LINE_ZINDEX,e.fillPath.zIndex=ZINDICIES.SERIES_FILL_ZINDEX,e.strokePath.zIndex=ZINDICIES.SERIES_STROKE_ZINDEX,e.xCrosshairLine.zIndex=ZINDICIES.CROSSHAIR_ZINDEX,e.yCrosshairLine.zIndex=ZINDICIES.CROSSHAIR_ZINDEX,e.markers.zIndex=ZINDICIES.SERIES_MARKERS_ZINDEX,e.areaSparklineGroup.append([e.fillPath,e.xAxisLine,e.strokePath,e.xCrosshairLine,e.yCrosshairLine,e.markers]),e}return __extends$6(e,t),e.prototype.markerFactory=function(){return new(getMarker(this.marker.shape))},e.prototype.getNodeData=function(){return this.markerSelectionData},e.prototype.update=function(){var t=this.generateNodeData();if(t){var e=t.nodeData,n=t.fillData,i=t.strokeData;this.markerSelectionData=e,this.updateSelection(e),this.updateNodes(),this.updateStroke(i),this.updateFill(n)}},e.prototype.updateYScaleDomain=function(){var t=this.yData,e=this.yScale,n=extent$2(t),i=0,o=1;void 0!==n&&(i=this.min=n[0],o=this.max=n[1]),i=i<0?i:0,o=o<0?0:o,e.domain=[i,o]},e.prototype.generateNodeData=function(){var t=this,e=t.data,n=t.yData,i=t.xData,o=t.xScale,r=t.yScale;if(e){for(var s,a,l,c,u=!(o instanceof BandScale$3),h=u?0:o.bandwidth/2,d=n.length,p=[],f=[],g=[],m=r.convert(0),_=0;_<d;_++){var y=n[_],v=i[_],C=o.convert(u?o.toDomain(v):v)+h,b=void 0===y?NaN:r.convert(y);_+1<d&&(c=o.convert(u?o.toDomain(i[_+1]):i[_+1])+h),g.push({seriesDatum:{x:v,y},point:{x:C,y:b}}),void 0===y&&void 0!==l?(f.push({seriesDatum:void 0,point:{x:l,y:m}}),void 0!==c&&f.push({seriesDatum:void 0,point:{x:c,y:m}})):void 0!==y&&(f.push({seriesDatum:{x:v,y},point:{x:C,y:b}}),p.push({seriesDatum:{x:v,y},point:{x:C,y:b}}),s=void 0!==s?s:C,a=C),l=C}return f.push({seriesDatum:void 0,point:{x:a,y:m}},{seriesDatum:void 0,point:{x:s,y:m}}),{nodeData:p,fillData:f,strokeData:g}}},e.prototype.updateAxisLine=function(){var t=this,e=t.xScale,n=t.yScale,i=t.axis,o=t.xAxisLine;o.x1=e.range[0],o.x2=e.range[1],o.y1=o.y2=0,o.stroke=i.stroke,o.strokeWidth=i.strokeWidth;var r=n.convert(0);o.translationY=r},e.prototype.updateSelection=function(t){this.markerSelection.update(t)},e.prototype.updateNodes=function(){var t=this,e=this,n=e.highlightedDatum,i=e.highlightStyle,o=e.marker,r=i.size,s=i.fill,a=i.stroke,l=i.strokeWidth,c=o.formatter;this.markerSelection.each((function(e,i,u){var h=i.point,d=i.seriesDatum;if(h){var p,f=i===n,g=f&&void 0!==s?s:o.fill,m=f&&void 0!==a?a:o.stroke,_=f&&void 0!==l?l:o.strokeWidth,y=f&&void 0!==r?r:o.size;if(c){var v=0===u,C=u===t.markerSelectionData.length-1,b=d.y===t.min,E=d.y===t.max;p=c({datum:i,xValue:d.x,yValue:d.y,min:b,max:E,first:v,last:C,fill:g,stroke:m,strokeWidth:_,size:y,highlighted:f})}e.size=p&&null!=p.size?p.size:y,e.fill=p&&null!=p.fill?p.fill:g,e.stroke=p&&null!=p.stroke?p.stroke:m,e.strokeWidth=p&&null!=p.strokeWidth?p.strokeWidth:_,e.translationX=h.x,e.translationY=h.y,e.visible=p&&null!=p.enabled?p.enabled:o.enabled&&e.size>0}}))},e.prototype.updateStroke=function(t){var e=this,n=e.strokePath,i=e.yData,o=e.line;if(!(i.length<2)){var r=n.path,s=t.length,a=!0;r.clear();for(var l=0;l<s;l++){var c=t[l],u=c.point,h=c.seriesDatum,d=u.x,p=u.y;null==h.y?a=!0:a?(r.moveTo(d,p),a=!1):r.lineTo(d,p)}n.lineJoin=n.lineCap="round",n.fill=void 0,n.stroke=o.stroke,n.strokeWidth=o.strokeWidth}},e.prototype.updateFill=function(t){var e=this,n=e.fillPath,i=e.yData,o=e.fill,r=n.path,s=t.length;if(r.clear(),!(i.length<2)){for(var a=0;a<s;a++){var l=t[a].point,c=l.x,u=l.y;a>0?r.lineTo(c,u):r.moveTo(c,u)}r.closePath(),n.lineJoin="round",n.stroke=void 0,n.fill=o}},e.prototype.updateXCrosshairLine=function(){var t=this,e=t.yScale,n=t.xCrosshairLine,i=t.highlightedDatum,o=t.crosshairs.xLine;if(o.enabled&&null!=i){n.y1=e.range[0],n.y2=e.range[1],n.x1=n.x2=0,n.stroke=o.stroke,n.strokeWidth=o.strokeWidth||1,n.lineCap="round"===o.lineCap||"square"===o.lineCap?o.lineCap:void 0;var r=o.lineDash;n.lineDash=Array.isArray(r)?r:getLineDash(n.lineCap,o.lineDash),n.translationX=i.point.x}else n.strokeWidth=0},e.prototype.updateYCrosshairLine=function(){var t=this,e=t.xScale,n=t.yCrosshairLine,i=t.highlightedDatum,o=t.crosshairs.yLine;if(o.enabled&&null!=i){n.x1=e.range[0],n.x2=e.range[1],n.y1=n.y2=0,n.stroke=o.stroke,n.strokeWidth=o.strokeWidth||1,n.lineCap="round"===o.lineCap||"square"===o.lineCap?o.lineCap:void 0;var r=o.lineDash;n.lineDash=Array.isArray(r)?r:getLineDash(n.lineCap,o.lineDash),n.translationY=i.point.y}else n.strokeWidth=0},e.prototype.getTooltipHtml=function(t){var e,n,i=this.dataType,o=t.seriesDatum,r=o.y,s=o.x,a={content:this.formatNumericDatum(r),title:"array"===i||"object"===i?this.formatDatum(s):void 0},l=null===(n=null===(e=this.processedOptions)||void 0===e?void 0:e.tooltip)||void 0===n?void 0:n.renderer;return l?toTooltipHtml(l({context:this.context,datum:o,yValue:r,xValue:s}),a):toTooltipHtml(a)},e.className="AreaSparkline",e}(Sparkline),__extends$5=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),extent$1=extent$4,BandScale$2=BandScale$5,SparklineMarker=function(){this.enabled=!0,this.shape="circle",this.size=0,this.fill="rgb(124, 181, 236)",this.stroke="rgb(124, 181, 236)",this.strokeWidth=1,this.formatter=void 0},SparklineLine=function(){this.stroke="rgb(124, 181, 236)",this.strokeWidth=1},SparklineCrosshairs=function(){this.xLine={enabled:!0,stroke:"rgba(0,0,0, 0.54)",strokeWidth:1,lineDash:"solid",lineCap:void 0},this.yLine={enabled:!1,stroke:"rgba(0,0,0, 0.54)",strokeWidth:1,lineDash:"solid",lineCap:void 0}},LineSparkline=function(t){function e(){var e=t.call(this)||this;return e.linePath=new Path,e.xCrosshairLine=new Line,e.yCrosshairLine=new Line,e.lineSparklineGroup=new Group,e.markers=new Group,e.markerSelection=Selection.select(e.markers,(function(){return e.markerFactory()})),e.markerSelectionData=[],e.marker=new SparklineMarker,e.line=new SparklineLine,e.crosshairs=new SparklineCrosshairs,e.rootGroup.append(e.lineSparklineGroup),e.linePath.zIndex=ZINDICIES.SERIES_STROKE_ZINDEX,e.xCrosshairLine.zIndex=ZINDICIES.CROSSHAIR_ZINDEX,e.yCrosshairLine.zIndex=ZINDICIES.CROSSHAIR_ZINDEX,e.markers.zIndex=ZINDICIES.SERIES_MARKERS_ZINDEX,e.lineSparklineGroup.append([e.linePath,e.xCrosshairLine,e.yCrosshairLine,e.markers]),e}return __extends$5(e,t),e.prototype.getNodeData=function(){return this.markerSelectionData},e.prototype.markerFactory=function(){return new(getMarker(this.marker.shape))},e.prototype.onMarkerShapeChange=function(){this.markerSelection=this.markerSelection.clear(),this.scheduleLayout()},e.prototype.update=function(){var t=this.generateNodeData();t&&(this.markerSelectionData=t,this.updateSelection(t),this.updateNodes(),this.updateLine())},e.prototype.updateYScaleDomain=function(){var t=this.yData,e=this.yScale,n=extent$1(t),i=0,o=1;if(void 0!==n&&(i=this.min=n[0],o=this.max=n[1]),i===o){var r=Math.abs(.01*i);i-=r,o+=r}e.domain=[i,o]},e.prototype.generateNodeData=function(){var t=this,e=t.data,n=t.yData,i=t.xData,o=t.xScale,r=t.yScale;if(e){for(var s=!(o instanceof BandScale$2),a=s?0:o.bandwidth/2,l=[],c=0;c<n.length;c++){var u=n[c],h=i[c];if(null!=u){var d=o.convert(s?o.toDomain(h):h)+a,p=void 0===u?NaN:r.convert(u);l.push({seriesDatum:{x:h,y:u},point:{x:d,y:p}})}}return l}},e.prototype.updateSelection=function(t){this.markerSelection.update(t)},e.prototype.updateNodes=function(){var t=this,e=this,n=e.highlightedDatum,i=e.highlightStyle,o=e.marker,r=i.size,s=i.fill,a=i.stroke,l=i.strokeWidth,c=o.formatter;this.markerSelection.each((function(e,i,u){var h,d=i===n,p=d&&void 0!==s?s:o.fill,f=d&&void 0!==a?a:o.stroke,g=d&&void 0!==l?l:o.strokeWidth,m=d&&void 0!==r?r:o.size,_=i.seriesDatum,y=i.point;if(c){var v=0===u,C=u===t.markerSelectionData.length-1,b=_.y===t.min,E=_.y===t.max;h=c({datum:i,xValue:_.x,yValue:_.y,min:b,max:E,first:v,last:C,fill:p,stroke:f,strokeWidth:g,size:m,highlighted:d})}e.size=h&&null!=h.size?h.size:m,e.fill=h&&null!=h.fill?h.fill:p,e.stroke=h&&null!=h.stroke?h.stroke:f,e.strokeWidth=h&&null!=h.strokeWidth?h.strokeWidth:g,e.translationX=y.x,e.translationY=y.y,e.visible=h&&null!=h.enabled?h.enabled:o.enabled&&e.size>0}))},e.prototype.updateLine=function(){var t=this,e=t.linePath,n=t.yData,i=t.xData,o=t.xScale,r=t.yScale,s=t.line;if(!(n.length<2)){var a=!(o instanceof BandScale$2),l=e.path,c=n.length,u=a?0:o.bandwidth/2,h=!0;l.clear();for(var d=0;d<c;d++){var p=i[d],f=n[d],g=o.convert(a?o.toDomain(p):p)+u,m=void 0===f?NaN:r.convert(f);null==f?h=!0:h?(l.moveTo(g,m),h=!1):l.lineTo(g,m)}e.fill=void 0,e.stroke=s.stroke,e.strokeWidth=s.strokeWidth}},e.prototype.updateXCrosshairLine=function(){var t=this,e=t.yScale,n=t.xCrosshairLine,i=t.highlightedDatum,o=t.crosshairs.xLine;if(o.enabled&&null!=i){n.y1=e.range[0],n.y2=e.range[1],n.x1=n.x2=0,n.stroke=o.stroke,n.strokeWidth=o.strokeWidth||1,n.lineCap="round"===o.lineCap||"square"===o.lineCap?o.lineCap:void 0;var r=o.lineDash;n.lineDash=Array.isArray(r)?r:getLineDash(n.lineCap,o.lineDash),n.translationX=i.point.x}else n.strokeWidth=0},e.prototype.updateYCrosshairLine=function(){var t=this,e=t.xScale,n=t.yCrosshairLine,i=t.highlightedDatum,o=t.crosshairs.yLine;if(o.enabled&&null!=i){n.x1=e.range[0],n.x2=e.range[1],n.y1=n.y2=0,n.stroke=o.stroke,n.strokeWidth=o.strokeWidth||1,n.lineCap="round"===o.lineCap||"square"===o.lineCap?o.lineCap:void 0;var r=o.lineDash;n.lineDash=Array.isArray(r)?r:getLineDash(n.lineCap,o.lineDash),n.translationY=i.point.y}else n.strokeWidth=0},e.prototype.getTooltipHtml=function(t){var e,n,i=this.dataType,o=t.seriesDatum,r=o.y,s=o.x,a={content:this.formatNumericDatum(r),title:"array"===i||"object"===i?this.formatDatum(s):void 0},l=null===(n=null===(e=this.processedOptions)||void 0===e?void 0:e.tooltip)||void 0===n?void 0:n.renderer;return l?toTooltipHtml(l({context:this.context,datum:o,yValue:r,xValue:s}),a):toTooltipHtml(a)},e.className="LineSparkline",e}(Sparkline),Label=function(){this.enabled=!0,this.fontSize=8,this.fontFamily="Verdana, sans-serif",this.fontStyle=void 0,this.fontWeight=void 0,this.color="rgba(70, 70, 70, 1)"},__extends$4=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),extent=extent$4,BarColumnNodeTag,BarColumnLabelPlacement;!function(t){t[t.Rect=0]="Rect",t[t.Label=1]="Label"}(BarColumnNodeTag||(BarColumnNodeTag={})),function(t){t.InsideBase="insideBase",t.InsideEnd="insideEnd",t.Center="center",t.OutsideEnd="outsideEnd"}(BarColumnLabelPlacement||(BarColumnLabelPlacement={}));var BarColumnLabel=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.formatter=void 0,e.placement=BarColumnLabelPlacement.InsideEnd,e}return __extends$4(e,t),e}(Label),BarColumnSparkline=function(t){function e(){var e=t.call(this)||this;return e.fill="rgb(124, 181, 236)",e.stroke="silver",e.strokeWidth=0,e.paddingInner=.1,e.paddingOuter=.2,e.valueAxisDomain=void 0,e.formatter=void 0,e.axisLine=new Line,e.bandWidth=0,e.sparklineGroup=new Group,e.rectGroup=new Group,e.labelGroup=new Group,e.rectSelection=Selection.select(e.rectGroup,Rect),e.labelSelection=Selection.select(e.labelGroup,Text),e.nodeSelectionData=[],e.label=new BarColumnLabel,e.rootGroup.append(e.sparklineGroup),e.rectGroup.zIndex=ZINDICIES.SERIES_FILL_ZINDEX,e.axisLine.zIndex=ZINDICIES.AXIS_LINE_ZINDEX,e.labelGroup.zIndex=ZINDICIES.SERIES_LABEL_ZINDEX,e.sparklineGroup.append([e.rectGroup,e.axisLine,e.labelGroup]),e.axisLine.lineCap="round",e.label.enabled=!1,e}return __extends$4(e,t),e.prototype.getNodeData=function(){return this.nodeSelectionData},e.prototype.update=function(){this.updateSelections(),this.updateNodes()},e.prototype.updateSelections=function(){var t=this.generateNodeData();t&&(this.nodeSelectionData=t,this.updateRectSelection(t),this.updateLabelSelection(t))},e.prototype.updateNodes=function(){this.updateRectNodes(),this.updateLabelNodes()},e.prototype.calculateStep=function(t){var e,n=this,i=n.xScale,o=n.paddingInner,r=n.paddingOuter,s=n.smallestInterval,a=(i.domain[1]-i.domain[0])/(null!==(e=null==s?void 0:s.x)&&void 0!==e?e:1)+1,l=Math.min(a,50),c=l-1;return t/Math.max(1,2*r+c*o+l)},e.prototype.updateYScaleDomain=function(){var t=this,e=t.yScale,n=t.yData,i=t.valueAxisDomain,o=extent(n),r=0,s=1;void 0!==o&&(r=this.min=o[0],s=this.max=o[1]),r=r<0?r:0,s=s<0?0:s,i&&(i[1]<s&&(i[1]=s),i[0]>r&&(i[0]=r)),e.domain=i||[r,s]},e.prototype.updateRectSelection=function(t){this.rectSelection.update(t)},e.prototype.updateRectNodes=function(){var t=this,e=this,n=e.highlightedDatum,i=e.formatter,o=e.fill,r=e.stroke,s=e.strokeWidth,a=this.highlightStyle,l=a.fill,c=a.stroke,u=a.strokeWidth;this.rectSelection.each((function(e,a,h){var d,p=a===n,f=p&&void 0!==l?l:o,g=p&&void 0!==c?c:r,m=p&&void 0!==u?u:s,_=a.x,y=a.y,v=a.width,C=a.height,b=a.seriesDatum;if(i){var E=0===h,S=h===t.nodeSelectionData.length-1,w=b.y===t.min,O=b.y===t.max;d=i({datum:a,xValue:b.x,yValue:b.y,width:v,height:C,min:w,max:O,first:E,last:S,fill:f,stroke:g,strokeWidth:m,highlighted:p})}e.fill=d&&d.fill||f,e.stroke=d&&d.stroke||g,e.strokeWidth=d&&d.strokeWidth||m,e.x=e.y=0,e.width=v,e.height=C,e.visible=e.height>0,e.translationX=_,e.translationY=y}))},e.prototype.updateLabelSelection=function(t){this.labelSelection.update(t,(function(t){t.tag=BarColumnNodeTag.Label,t.pointerEvents=PointerEvents.None}))},e.prototype.updateLabelNodes=function(){var t=this.label,e=t.enabled,n=t.fontStyle,i=t.fontWeight,o=t.fontSize,r=t.fontFamily,s=t.color;this.labelSelection.each((function(t,a){var l=a.label;l&&e?(t.fontStyle=n,t.fontWeight=i,t.fontSize=o,t.fontFamily=r,t.textAlign=l.textAlign,t.textBaseline=l.textBaseline,t.text=l.text,t.x=l.x,t.y=l.y,t.fill=s,t.visible=!0):t.visible=!1}))},e.prototype.getTooltipHtml=function(t){var e,n,i=this.dataType,o=t.seriesDatum,r=o.y,s=o.x,a={content:this.formatNumericDatum(r),title:"array"===i||"object"===i?this.formatDatum(s):void 0},l=null===(n=null===(e=this.processedOptions)||void 0===e?void 0:e.tooltip)||void 0===n?void 0:n.renderer;return l?toTooltipHtml(l({context:this.context,datum:o,yValue:r,xValue:s}),a):toTooltipHtml(a)},e.prototype.formatLabelValue=function(t){return t%1!=0?t.toFixed(1):t.toFixed(0)},e}(Sparkline),__extends$3=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),isNumber$2=isNumber$4,BandScale$1=BandScale$5,BarSparkline=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$3(e,t),e.prototype.updateYScaleRange=function(){var t=this.seriesRect;this.yScale.range=[0,t.width]},e.prototype.updateXScaleRange=function(){var t=this,e=t.xScale,n=t.seriesRect,i=t.paddingOuter,o=t.paddingInner;if(e instanceof BandScale$1)e.range=[0,n.height],e.paddingInner=o,e.paddingOuter=i;else{var r=this.calculateStep(n.height),s=r*i;this.bandWidth=r*(1-o),e.range=[s,n.height-s-this.bandWidth]}},e.prototype.updateAxisLine=function(){var t=this,e=t.yScale,n=t.axis,i=t.axisLine,o=t.seriesRect,r=n.strokeWidth;i.x1=0,i.x2=0,i.y1=0,i.y2=o.height,i.stroke=n.stroke,i.strokeWidth=r+(r%2==1?1:0);var s=e.convert(0);i.translationX=s},e.prototype.generateNodeData=function(){var t=this,e=t.data,n=t.yData,i=t.xData,o=t.xScale,r=t.yScale,s=t.fill,a=t.stroke,l=t.strokeWidth,c=t.label;if(e){for(var u=c.fontStyle,h=c.fontWeight,d=c.fontSize,p=c.fontFamily,f=c.color,g=c.formatter,m=c.placement,_=[],y=r.convert(0),v=!(o instanceof BandScale$1),C=0,b=n.length;C<b;C++){var E=n[C],S=i[C],w=void 0===E;w&&(E=0);var O=o.convert(v?o.toDomain(S):S),x=Math.min(void 0===E?NaN:r.convert(E),y),P=Math.max(void 0===E?NaN:r.convert(E),y),T=v?this.bandWidth:o.bandwidth,M=P-x,D={x:y,y:O},R=void 0;R=g?g({value:E}):void 0!==E&&isNumber$2(E)?this.formatLabelValue(E):"";var A=O+T/2,L=void 0,I=void 0,k=void 0!==E&&E>=0;if(m===BarColumnLabelPlacement.Center)L=x+M/2,I="center";else if(m===BarColumnLabelPlacement.OutsideEnd)L=x+(k?M+4:-4),I=k?"start":"end";else if(m===BarColumnLabelPlacement.InsideEnd){L=x+(k?M-4:4),I=k?"end":"start";var N=HdpiCanvas.getTextSize(R,p).width||20;(k&&L<y+N||!k&&L>y-N)&&(L=y+4*(k?1:-1),I=k?"start":"end")}else L=y+4*(k?1:-1),I=k?"start":"end";_.push({x,y:O,width:M,height:T,fill:s,stroke:a,strokeWidth:l,seriesDatum:{x:S,y:w?void 0:E},point:D,label:{x:L,y:A,text:R,fontStyle:u,fontWeight:h,fontSize:d,fontFamily:p,textAlign:I,textBaseline:"middle",fill:f}})}return _}},e.prototype.getDistance=function(t,e){return Math.abs(t.y-e.y)},e.className="BarSparkline",e}(BarColumnSparkline),__extends$2=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),isNumber$1=isNumber$4,BandScale=BandScale$5,ColumnSparkline=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends$2(e,t),e.prototype.updateYScaleRange=function(){var t=this.seriesRect;this.yScale.range=[t.height,0]},e.prototype.updateXScaleRange=function(){var t=this,e=t.xScale,n=t.seriesRect,i=t.paddingOuter,o=t.paddingInner;if(e instanceof BandScale)e.range=[0,n.width],e.paddingInner=o,e.paddingOuter=i;else{var r=this.calculateStep(n.width),s=r*i;this.bandWidth=r*(1-o),e.range=[s,n.width-s-this.bandWidth]}},e.prototype.updateAxisLine=function(){var t=this,e=t.yScale,n=t.axis,i=t.axisLine,o=t.seriesRect,r=n.strokeWidth;i.x1=0,i.x2=o.width,i.y1=0,i.y2=0,i.stroke=n.stroke,i.strokeWidth=r+(r%2==1?1:0);var s=e.convert(0);i.translationY=s},e.prototype.generateNodeData=function(){var t=this,e=t.data,n=t.yData,i=t.xData,o=t.xScale,r=t.yScale,s=t.fill,a=t.stroke,l=t.strokeWidth,c=t.label;if(e){for(var u=c.fontStyle,h=c.fontWeight,d=c.fontSize,p=c.fontFamily,f=c.color,g=c.formatter,m=c.placement,_=[],y=r.convert(0),v=!(o instanceof BandScale),C=0,b=n.length;C<b;C++){var E=n[C],S=i[C],w=void 0===E;w&&(E=0);var O=Math.min(void 0===E?NaN:r.convert(E),y),x=o.convert(v?o.toDomain(S):S),P=Math.max(void 0===E?NaN:r.convert(E),y),T=v?this.bandWidth:o.bandwidth,M=P-O,D={x:x+T/2,y},R=void 0;R=g?g({value:E}):void 0!==E&&isNumber$1(E)?this.formatLabelValue(E):"";var A=x+T/2,L=void 0,I=void 0,k=void 0!==E&&E>=0;if(m===BarColumnLabelPlacement.Center)L=O+M/2,I="middle";else if(m===BarColumnLabelPlacement.OutsideEnd)L=O+(k?-2:M+2),I=k?"bottom":"top";else if(m===BarColumnLabelPlacement.InsideEnd){L=O+(k?2:M-2),I=k?"top":"bottom";var N=HdpiCanvas.getTextSize(R,p).height||10;(k&&L>y-N||!k&&L<y+N)&&(L=y+2*(k?-1:1),I=k?"bottom":"top")}else L=y+2*(k?-1:1),I=k?"bottom":"top";_.push({x,y:O,width:T,height:M,fill:s,stroke:a,strokeWidth:l,seriesDatum:{x:S,y:w?void 0:E},point:D,label:{x:A,y:L,text:R,fontStyle:u,fontWeight:h,fontSize:d,fontFamily:p,textAlign:"center",textBaseline:I,fill:f}})}return _}},e.className="ColumnSparkline",e}(BarColumnSparkline),isNumber=isNumber$4,AgSparkline=function(){function t(){}return t.create=function(t,e){var n=getSparklineInstance((t=jsonMerge([t])).type);return e&&(n.tooltip=e),initSparkline(n,t),initSparklineByType(n,t),t.data&&(n.data=t.data),n.processedOptions=t,n},t}();function getSparklineInstance(t){switch(void 0===t&&(t="line"),t){case"column":return new ColumnSparkline;case"bar":return new BarSparkline;case"area":return new AreaSparkline;default:return new LineSparkline}}function initSparklineByType(t,e){switch(e.type){case"bar":case"column":initBarColumnSparkline(t,e);break;case"area":initAreaSparkline(t,e);break;default:initLineSparkline(t,e)}}function initSparkline(t,e){setValueIfPropertyExists(t,"context",e.context,e),setValueIfPropertyExists(t,"width",e.width,e),setValueIfPropertyExists(t,"height",e.height,e),setValueIfPropertyExists(t,"container",e.container,e),setValueIfPropertyExists(t,"xKey",e.xKey,e),setValueIfPropertyExists(t,"yKey",e.yKey,e),e.padding&&initPaddingOptions(t.padding,e.padding),e.axis&&initAxisOptions(t.axis,e.axis),e.highlightStyle&&initHighlightStyleOptions(t.highlightStyle,e.highlightStyle)}function initLineSparkline(t,e){e.marker&&initMarkerOptions(t.marker,e.marker),e.line&&initLineOptions(t.line,e.line),e.crosshairs&&initCrosshairsOptions(t.crosshairs,e.crosshairs)}function initAreaSparkline(t,e){setValueIfPropertyExists(t,"fill",e.fill,e),e.marker&&initMarkerOptions(t.marker,e.marker),e.line&&initLineOptions(t.line,e.line),e.crosshairs&&initCrosshairsOptions(t.crosshairs,e.crosshairs)}function initBarColumnSparkline(t,e){setValueIfPropertyExists(t,"valueAxisDomain",e.valueAxisDomain,e),setValueIfPropertyExists(t,"fill",e.fill,e),setValueIfPropertyExists(t,"stroke",e.stroke,e),setValueIfPropertyExists(t,"strokeWidth",e.strokeWidth,e),setValueIfPropertyExists(t,"paddingInner",e.paddingInner,e),setValueIfPropertyExists(t,"paddingOuter",e.paddingOuter,e),setValueIfPropertyExists(t,"formatter",e.formatter,e),e.label&&initLabelOptions(t.label,e.label)}function initPaddingOptions(t,e){setValueIfPropertyExists(t,"top",e.top,e),setValueIfPropertyExists(t,"right",e.right,e),setValueIfPropertyExists(t,"bottom",e.bottom,e),setValueIfPropertyExists(t,"left",e.left,e)}function initMarkerOptions(t,e){setValueIfPropertyExists(t,"enabled",e.enabled,e),setValueIfPropertyExists(t,"size",e.size,e),setValueIfPropertyExists(t,"shape",e.shape,e),setValueIfPropertyExists(t,"fill",e.fill,e),setValueIfPropertyExists(t,"stroke",e.stroke,e),setValueIfPropertyExists(t,"strokeWidth",e.strokeWidth,e),setValueIfPropertyExists(t,"formatter",e.formatter,e)}function initLabelOptions(t,e){setValueIfPropertyExists(t,"enabled",e.enabled,e),setValueIfPropertyExists(t,"fontStyle",e.fontStyle,e),setValueIfPropertyExists(t,"fontWeight",e.fontWeight,e),setValueIfPropertyExists(t,"fontSize",e.fontSize,e),setValueIfPropertyExists(t,"fontFamily",e.fontFamily,e),setValueIfPropertyExists(t,"textAlign",e.textAlign,e),setValueIfPropertyExists(t,"textBaseline",e.textBaseline,e),setValueIfPropertyExists(t,"color",e.color,e),setValueIfPropertyExists(t,"formatter",e.formatter,e),setValueIfPropertyExists(t,"placement",e.placement,e)}function initLineOptions(t,e){setValueIfPropertyExists(t,"stroke",e.stroke,e),setValueIfPropertyExists(t,"strokeWidth",e.strokeWidth,e)}function initAxisOptions(t,e){setValueIfPropertyExists(t,"type",e.type,e),setValueIfPropertyExists(t,"stroke",e.stroke,e),setValueIfPropertyExists(t,"strokeWidth",e.strokeWidth,e)}function initHighlightStyleOptions(t,e){setValueIfPropertyExists(t,"fill",e.fill,e),setValueIfPropertyExists(t,"size",e.size,e),setValueIfPropertyExists(t,"stroke",e.stroke,e),setValueIfPropertyExists(t,"strokeWidth",e.strokeWidth,e)}function initCrosshairsOptions(t,e){t.xLine&&e.xLine&&initCrosshairLineOptions(t.xLine,e.xLine),t.yLine&&e.yLine&&initCrosshairLineOptions(t.yLine,e.yLine)}function initCrosshairLineOptions(t,e){setValueIfPropertyExists(t,"enabled",e.enabled,e),setValueIfPropertyExists(t,"stroke",e.stroke,e),setValueIfPropertyExists(t,"strokeWidth",e.strokeWidth,e),setValueIfPropertyExists(t,"lineDash",e.lineDash,e),setValueIfPropertyExists(t,"lineCap",e.lineCap,e)}var doOnceFlags={};function doOnce(t,e){doOnceFlags[e]||(t(),doOnceFlags[e]=!0)}var offsetValidator=function(t,e,n){if(isNumber(e))return!0;var i="AG Charts: "+t+" must be a number, the value you provided is not a valid number. Using the default of "+n+"px.";return doOnce((function(){return console.warn(i)}),t+" not a number"),!1},validators={xOffset:offsetValidator,yOffset:offsetValidator};function setValueIfPropertyExists(t,e,n,i){if(e in i)if(e in t){var o=validators[e];(!o||o(e,n,t[e]))&&t[e]!==n&&(t[e]=n)}else console.warn("Property "+e+" does not exist on the target object.")}var __extends$1=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__assign=function(){return __assign=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},__assign.apply(this,arguments)},__decorate$1=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},SparklineCellRenderer=function(t){function e(){return t.call(this,e.TEMPLATE)||this}return __extends$1(e,t),e.prototype.init=function(t){var e=this,n=!0,i=this.resizeObserverService.observeResize(this.getGui(),(function(){var i=e.getGui(),o=i.clientWidth,r=i.clientHeight;if(0!==o&&0!==r)if(n){var s=__assign({data:t.value,width:o,height:r,context:{data:t.data}},t.sparklineOptions);e.sparkline=AgSparkline.create(s,e.sparklineTooltipSingleton.getSparklineTooltip()),e.eSparkline.appendChild(e.sparkline.canvasElement),n=!1}else e.sparkline.width=o,e.sparkline.height=r}));this.addDestroyFunc((function(){return i()}))},e.prototype.refresh=function(t){return!!this.sparkline&&(this.sparkline.data=t.value,!0)},e.prototype.destroy=function(){this.sparkline&&this.sparkline.destroy(),t.prototype.destroy.call(this)},e.TEMPLATE='<div class="ag-sparkline-wrapper">\n            <span ref="eSparkline"></span>\n        </div>',__decorate$1([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.cqo)("eSparkline")],e.prototype,"eSparkline",void 0),__decorate$1([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("resizeObserverService")],e.prototype,"resizeObserverService",void 0),__decorate$1([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.fsG)("sparklineTooltipSingleton")],e.prototype,"sparklineTooltipSingleton",void 0),e}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.wA2),__extends=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__decorate=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},SparklineTooltipSingleton=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.postConstruct=function(){this.tooltip=new SparklineTooltip},e.prototype.getSparklineTooltip=function(){return this.tooltip},e.prototype.destroyTooltip=function(){this.tooltip&&this.tooltip.destroy()},__decorate([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.NqP],e.prototype,"postConstruct",null),__decorate([ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.FXL],e.prototype,"destroyTooltip",null),e=__decorate([(0,ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.Vu6)("sparklineTooltipSingleton")],e)}(ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.AS9),VERSION="29.3.4",SparklinesModule={version:VERSION,moduleName:ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.GXE.SparklinesModule,beans:[SparklineTooltipSingleton],userComponents:[{componentName:"agSparklineCellRenderer",componentClass:SparklineCellRenderer}],dependantModules:[EnterpriseCoreModule]},AllEnterpriseModules=[ClipboardModule,ColumnsToolPanelModule,ExcelExportModule,FiltersToolPanelModule,GridChartsModule,MasterDetailModule,MenuModule,MultiFilterModule,RangeSelectionModule,RichSelectModule,RowGroupingModule,ServerSideRowModelModule,SetFilterModule,SideBarModule,StatusBarModule,ViewportRowModelModule,SparklinesModule],AllModules=ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.F$j.concat(AllEnterpriseModules);ag_grid_community__WEBPACK_IMPORTED_MODULE_0__.O3h.registerModules(AllEnterpriseModules)},7e3:(t,e,n)=>{"use strict";n.d(e,{n:()=>g});var i=n(6252),o=n(2262),r=n(1731),s=n(9963);class a{static getComponentDefinition(t,e){let n;return n="string"==typeof t?this.searchForComponentInstance(e,t):{extends:(0,i.aZ)(Object.assign({},t))},n||console.error(`Could not find component with name of ${t}. Is it in Vue.components?`),n.extends?(n.extends.setup&&(n.setup=n.extends.setup),n.extends.props=this.addParamsToProps(n.extends.props)):n.props=this.addParamsToProps(n.props),n}static addParamsToProps(t){return!t||Array.isArray(t)&&-1===t.indexOf("params")?t=["params",...t||[]]:"object"!=typeof t||t.params||(t.params={type:Object}),t}static createAndMountComponent(t,e,n,i){const o=a.getComponentDefinition(t,n);if(!o)return;const{vNode:r,destroy:s,el:l}=this.mount(o,{params:Object.freeze(e)},n,i||{});return{componentInstance:r.component.proxy,element:l,destroy:s}}static mount(t,e,n,o){let r=(0,i.Wm)(t,e);r.appContext=n.$.appContext,r.appContext.provides=Object.assign(Object.assign(Object.assign({},o),r.appContext.provides?r.appContext.provides:{}),n.$parent.$options.provide?n.$parent.$options.provide:{});let a=document.createElement("div");(0,s.render)(r,a);return{vNode:r,destroy:()=>{a&&(0,s.render)(null,a),a=null,r=null},el:a}}static searchForComponentInstance(t,e,n=10,i=!1){let o=null,r=t.$parent,s=0;for(;!o&&r&&r.$options&&++s<n;){const t=r;o=t.$options&&t.$options.components?t.$options.components[e]:null,r=r.$parent}if(!o){const n=t.$.appContext.components;n&&n[e]&&(o=n[e])}return o||i?o:(console.error(`Could not find component with name of ${e}. Is it in Vue.components?`),null)}}class l extends r.Nk3{constructor(t,e){super(),this.parent=t,l.provides||(l.provides=e)}createWrapper(t){const e=this;const n=new class extends c{init(t){super.init(t)}hasMethod(t){return null!=n.getFrameworkComponentInstance()[t]}callMethod(t,e){const i=this.getFrameworkComponentInstance();return n.getFrameworkComponentInstance()[t].apply(i,e)}addMethod(t,e){n[t]=e}overrideProcessing(t){return e.parent.autoParamsRefresh&&"refresh"===t}processMethod(t,e){return"refresh"===t&&(this.getFrameworkComponentInstance().params=e[0]),this.hasMethod(t)?this.callMethod(t,e):"refresh"===t}createComponent(n){return e.createComponent(t,n)}};return n}createComponent(t,e){return a.createAndMountComponent(t,e,this.parent,l.provides)}createMethodProxy(t,e,n){return function(){return t.overrideProcessing(e)?t.processMethod(e,arguments):t.hasMethod(e)?t.callMethod(e,arguments):(n&&console.warn("AG Grid: Framework component is missing the method "+e+"()"),null)}}destroy(){this.parent=null}}class c{getGui(){return this.element}destroy(){this.getFrameworkComponentInstance()&&"function"==typeof this.getFrameworkComponentInstance().destroy&&this.getFrameworkComponentInstance().destroy(),this.unmount()}getFrameworkComponentInstance(){return this.componentInstance}init(t){const{componentInstance:e,element:n,destroy:i}=this.createComponent(t);this.componentInstance=e,this.unmount=i,this.element=n.firstElementChild}}class u extends r.vA3{constructor(t){super(),this.parent=t}frameworkComponent(t,e){let n=a.searchForComponentInstance(this.parent,t,10,!0)?t:null;if(!n&&e&&e[t]){const i=e[t];n=a.searchForComponentInstance(this.parent,i,10,!0)?i:null}return n}isFrameworkComponent(t){return"object"==typeof t}}const h=["rowDataChanged","rowDataUpdated","cellValueChanged","rowValueChanged"],d="onUpdate:modelValue",[p,f]=(()=>{const t={};r.plv.PUBLIC_EVENTS.map((t=>{return`on${(e=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()).charAt(0).toUpperCase()}${e.substring(1,e.length)}`;var e})).forEach((e=>t[e]=void 0));const e={};return r.plv.ALL_PROPERTIES.filter((t=>"gridOptions"!=t)).forEach((n=>{t[n]={},e[n]={handler(t,e){this.processChanges(n,t,e)},deep:"popupParent"!==n&&"context"!==n}})),[t,e]})(),g=(0,i.aZ)({render:()=>(0,i.h)("div"),props:Object.assign({gridOptions:{type:Object,default:()=>({})},autoParamsRefresh:{type:Boolean,default:()=>!1},componentDependencies:{type:Array,default:()=>[]},plugins:[],modules:{type:Array,default:()=>[]},modelValue:{type:Array,default:void 0,required:!1}},p),data:()=>({gridCreated:!1,isDestroyed:!1,gridReadyFired:!1,emitRowModel:void 0}),watch:Object.assign({modelValue:{handler(t,e){this.processChanges("rowData",t,e)},deep:!0}},f),methods:{globalEventListener(t,e){this.isDestroyed||("gridReady"===t&&(this.gridReadyFired=!0),this.updateModelIfUsed(t))},processChanges(t,e,n){if(this.gridCreated){if(this.skipChange(t,e,n))return;const i={};i[t]={currentValue:"rowData"===t?Object.isFrozen(e)?e:(0,o.Xl)((0,o.IU)(e)):e,previousValue:n},r.plv.processOnChange(i,this.gridOptions.api)}},checkForBindingConflicts(){(this.rowData||this.gridOptions.rowData)&&this.modelValue&&console.warn("AG Grid: Using both rowData and v-model. rowData will be ignored.")},getRowData(){const t=[];return this.gridOptions.api.forEachNode((e=>{t.push(e.data)})),t},updateModelIfUsed(t){this.gridReadyFired&&this.$attrs[d]&&-1!==h.indexOf(t)&&this.emitRowModel&&this.emitRowModel()},getRowDataBasedOnBindings(){const t=this,e=t.modelValue;return e||(t.rowData?t.rowData:t.gridOptions.rowData)},getProvides(){let t=(0,i.FN)(),e={};for(;t;)t&&t.provides&&(e=Object.assign(Object.assign({},e),t.provides)),t=t.parent;return e},skipChange(t,e,n){if(this.gridReadyFired&&"rowData"===t&&this.$attrs[d]){if(e===n)return!0;if(e&&n){const t=e,i=n;if(t.length===i.length){for(let e=0;e<t.length;e++)if(t[e]!==i[e])return!1;return!0}}}return!1},debounce(t,e){let n;return()=>{window.clearTimeout(n),n=window.setTimeout((function(){t()}),e)}}},mounted(){this.emitRowModel=this.debounce((()=>{this.$emit("update:modelValue",Object.freeze(this.getRowData()))}),20);const t=this.getProvides(),e=new l(this,t),n=(0,o.Xl)(r.plv.copyAttributesToGridOptions((0,o.IU)(this.gridOptions),this,!0));this.checkForBindingConflicts();const i=this.getRowDataBasedOnBindings();n.rowData=i?Object.isFrozen(i)?i:(0,o.Xl)((0,o.IU)(i)):i;const s={globalEventListener:this.globalEventListener.bind(this),frameworkOverrides:new u(this),providedBeanInstances:{frameworkComponentWrapper:e},modules:this.modules};new r.rjZ(this.$el,n,s),this.gridCreated=!0},unmounted(){this.gridCreated&&(this.gridOptions.api&&this.gridOptions.api.destroy(),this.isDestroyed=!0)}})},1924:(t,e,n)=>{"use strict";var i=n(7141),o=n(5559),r=o(i("String.prototype.indexOf"));t.exports=function(t,e){var n=i(t,!!e);return"function"==typeof n&&r(t,".prototype.")>-1?o(n):n}},5559:(t,e,n)=>{"use strict";var i=n(8612),o=n(7141),r=o("%Function.prototype.apply%"),s=o("%Function.prototype.call%"),a=o("%Reflect.apply%",!0)||i.call(s,r),l=o("%Object.getOwnPropertyDescriptor%",!0),c=o("%Object.defineProperty%",!0),u=o("%Math.max%");if(c)try{c({},"a",{value:1})}catch(t){c=null}t.exports=function(t){var e=a(i,s,arguments);l&&c&&(l(e,"length").configurable&&c(e,"length",{value:1+u(0,t.length-(arguments.length-1))}));return e};var h=function(){return a(i,r,arguments)};c?c(t.exports,"apply",{value:h}):t.exports.apply=h},8168:(t,e,n)=>{const i=n(8874),o={};for(const t of Object.keys(i))o[i[t]]=t;const r={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};t.exports=r;for(const t of Object.keys(r)){if(!("channels"in r[t]))throw new Error("missing channels property: "+t);if(!("labels"in r[t]))throw new Error("missing channel labels property: "+t);if(r[t].labels.length!==r[t].channels)throw new Error("channel and label counts mismatch: "+t);const{channels:e,labels:n}=r[t];delete r[t].channels,delete r[t].labels,Object.defineProperty(r[t],"channels",{value:e}),Object.defineProperty(r[t],"labels",{value:n})}r.rgb.hsl=function(t){const e=t[0]/255,n=t[1]/255,i=t[2]/255,o=Math.min(e,n,i),r=Math.max(e,n,i),s=r-o;let a,l;r===o?a=0:e===r?a=(n-i)/s:n===r?a=2+(i-e)/s:i===r&&(a=4+(e-n)/s),a=Math.min(60*a,360),a<0&&(a+=360);const c=(o+r)/2;return l=r===o?0:c<=.5?s/(r+o):s/(2-r-o),[a,100*l,100*c]},r.rgb.hsv=function(t){let e,n,i,o,r;const s=t[0]/255,a=t[1]/255,l=t[2]/255,c=Math.max(s,a,l),u=c-Math.min(s,a,l),h=function(t){return(c-t)/6/u+.5};return 0===u?(o=0,r=0):(r=u/c,e=h(s),n=h(a),i=h(l),s===c?o=i-n:a===c?o=1/3+e-i:l===c&&(o=2/3+n-e),o<0?o+=1:o>1&&(o-=1)),[360*o,100*r,100*c]},r.rgb.hwb=function(t){const e=t[0],n=t[1];let i=t[2];const o=r.rgb.hsl(t)[0],s=1/255*Math.min(e,Math.min(n,i));return i=1-1/255*Math.max(e,Math.max(n,i)),[o,100*s,100*i]},r.rgb.cmyk=function(t){const e=t[0]/255,n=t[1]/255,i=t[2]/255,o=Math.min(1-e,1-n,1-i);return[100*((1-e-o)/(1-o)||0),100*((1-n-o)/(1-o)||0),100*((1-i-o)/(1-o)||0),100*o]},r.rgb.keyword=function(t){const e=o[t];if(e)return e;let n,r=1/0;for(const e of Object.keys(i)){const o=i[e],l=(a=o,((s=t)[0]-a[0])**2+(s[1]-a[1])**2+(s[2]-a[2])**2);l<r&&(r=l,n=e)}var s,a;return n},r.keyword.rgb=function(t){return i[t]},r.rgb.xyz=function(t){let e=t[0]/255,n=t[1]/255,i=t[2]/255;e=e>.04045?((e+.055)/1.055)**2.4:e/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92,i=i>.04045?((i+.055)/1.055)**2.4:i/12.92;return[100*(.4124*e+.3576*n+.1805*i),100*(.2126*e+.7152*n+.0722*i),100*(.0193*e+.1192*n+.9505*i)]},r.rgb.lab=function(t){const e=r.rgb.xyz(t);let n=e[0],i=e[1],o=e[2];n/=95.047,i/=100,o/=108.883,n=n>.008856?n**(1/3):7.787*n+16/116,i=i>.008856?i**(1/3):7.787*i+16/116,o=o>.008856?o**(1/3):7.787*o+16/116;return[116*i-16,500*(n-i),200*(i-o)]},r.hsl.rgb=function(t){const e=t[0]/360,n=t[1]/100,i=t[2]/100;let o,r,s;if(0===n)return s=255*i,[s,s,s];o=i<.5?i*(1+n):i+n-i*n;const a=2*i-o,l=[0,0,0];for(let t=0;t<3;t++)r=e+1/3*-(t-1),r<0&&r++,r>1&&r--,s=6*r<1?a+6*(o-a)*r:2*r<1?o:3*r<2?a+(o-a)*(2/3-r)*6:a,l[t]=255*s;return l},r.hsl.hsv=function(t){const e=t[0];let n=t[1]/100,i=t[2]/100,o=n;const r=Math.max(i,.01);i*=2,n*=i<=1?i:2-i,o*=r<=1?r:2-r;return[e,100*(0===i?2*o/(r+o):2*n/(i+n)),100*((i+n)/2)]},r.hsv.rgb=function(t){const e=t[0]/60,n=t[1]/100;let i=t[2]/100;const o=Math.floor(e)%6,r=e-Math.floor(e),s=255*i*(1-n),a=255*i*(1-n*r),l=255*i*(1-n*(1-r));switch(i*=255,o){case 0:return[i,l,s];case 1:return[a,i,s];case 2:return[s,i,l];case 3:return[s,a,i];case 4:return[l,s,i];case 5:return[i,s,a]}},r.hsv.hsl=function(t){const e=t[0],n=t[1]/100,i=t[2]/100,o=Math.max(i,.01);let r,s;s=(2-n)*i;const a=(2-n)*o;return r=n*o,r/=a<=1?a:2-a,r=r||0,s/=2,[e,100*r,100*s]},r.hwb.rgb=function(t){const e=t[0]/360;let n=t[1]/100,i=t[2]/100;const o=n+i;let r;o>1&&(n/=o,i/=o);const s=Math.floor(6*e),a=1-i;r=6*e-s,0!=(1&s)&&(r=1-r);const l=n+r*(a-n);let c,u,h;switch(s){default:case 6:case 0:c=a,u=l,h=n;break;case 1:c=l,u=a,h=n;break;case 2:c=n,u=a,h=l;break;case 3:c=n,u=l,h=a;break;case 4:c=l,u=n,h=a;break;case 5:c=a,u=n,h=l}return[255*c,255*u,255*h]},r.cmyk.rgb=function(t){const e=t[0]/100,n=t[1]/100,i=t[2]/100,o=t[3]/100;return[255*(1-Math.min(1,e*(1-o)+o)),255*(1-Math.min(1,n*(1-o)+o)),255*(1-Math.min(1,i*(1-o)+o))]},r.xyz.rgb=function(t){const e=t[0]/100,n=t[1]/100,i=t[2]/100;let o,r,s;return o=3.2406*e+-1.5372*n+-.4986*i,r=-.9689*e+1.8758*n+.0415*i,s=.0557*e+-.204*n+1.057*i,o=o>.0031308?1.055*o**(1/2.4)-.055:12.92*o,r=r>.0031308?1.055*r**(1/2.4)-.055:12.92*r,s=s>.0031308?1.055*s**(1/2.4)-.055:12.92*s,o=Math.min(Math.max(0,o),1),r=Math.min(Math.max(0,r),1),s=Math.min(Math.max(0,s),1),[255*o,255*r,255*s]},r.xyz.lab=function(t){let e=t[0],n=t[1],i=t[2];e/=95.047,n/=100,i/=108.883,e=e>.008856?e**(1/3):7.787*e+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,i=i>.008856?i**(1/3):7.787*i+16/116;return[116*n-16,500*(e-n),200*(n-i)]},r.lab.xyz=function(t){let e,n,i;n=(t[0]+16)/116,e=t[1]/500+n,i=n-t[2]/200;const o=n**3,r=e**3,s=i**3;return n=o>.008856?o:(n-16/116)/7.787,e=r>.008856?r:(e-16/116)/7.787,i=s>.008856?s:(i-16/116)/7.787,e*=95.047,n*=100,i*=108.883,[e,n,i]},r.lab.lch=function(t){const e=t[0],n=t[1],i=t[2];let o;o=360*Math.atan2(i,n)/2/Math.PI,o<0&&(o+=360);return[e,Math.sqrt(n*n+i*i),o]},r.lch.lab=function(t){const e=t[0],n=t[1],i=t[2]/360*2*Math.PI;return[e,n*Math.cos(i),n*Math.sin(i)]},r.rgb.ansi16=function(t,e=null){const[n,i,o]=t;let s=null===e?r.rgb.hsv(t)[2]:e;if(s=Math.round(s/50),0===s)return 30;let a=30+(Math.round(o/255)<<2|Math.round(i/255)<<1|Math.round(n/255));return 2===s&&(a+=60),a},r.hsv.ansi16=function(t){return r.rgb.ansi16(r.hsv.rgb(t),t[2])},r.rgb.ansi256=function(t){const e=t[0],n=t[1],i=t[2];if(e===n&&n===i)return e<8?16:e>248?231:Math.round((e-8)/247*24)+232;return 16+36*Math.round(e/255*5)+6*Math.round(n/255*5)+Math.round(i/255*5)},r.ansi16.rgb=function(t){let e=t%10;if(0===e||7===e)return t>50&&(e+=3.5),e=e/10.5*255,[e,e,e];const n=.5*(1+~~(t>50));return[(1&e)*n*255,(e>>1&1)*n*255,(e>>2&1)*n*255]},r.ansi256.rgb=function(t){if(t>=232){const e=10*(t-232)+8;return[e,e,e]}let e;t-=16;return[Math.floor(t/36)/5*255,Math.floor((e=t%36)/6)/5*255,e%6/5*255]},r.rgb.hex=function(t){const e=(((255&Math.round(t[0]))<<16)+((255&Math.round(t[1]))<<8)+(255&Math.round(t[2]))).toString(16).toUpperCase();return"000000".substring(e.length)+e},r.hex.rgb=function(t){const e=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];let n=e[0];3===e[0].length&&(n=n.split("").map((t=>t+t)).join(""));const i=parseInt(n,16);return[i>>16&255,i>>8&255,255&i]},r.rgb.hcg=function(t){const e=t[0]/255,n=t[1]/255,i=t[2]/255,o=Math.max(Math.max(e,n),i),r=Math.min(Math.min(e,n),i),s=o-r;let a,l;return a=s<1?r/(1-s):0,l=s<=0?0:o===e?(n-i)/s%6:o===n?2+(i-e)/s:4+(e-n)/s,l/=6,l%=1,[360*l,100*s,100*a]},r.hsl.hcg=function(t){const e=t[1]/100,n=t[2]/100,i=n<.5?2*e*n:2*e*(1-n);let o=0;return i<1&&(o=(n-.5*i)/(1-i)),[t[0],100*i,100*o]},r.hsv.hcg=function(t){const e=t[1]/100,n=t[2]/100,i=e*n;let o=0;return i<1&&(o=(n-i)/(1-i)),[t[0],100*i,100*o]},r.hcg.rgb=function(t){const e=t[0]/360,n=t[1]/100,i=t[2]/100;if(0===n)return[255*i,255*i,255*i];const o=[0,0,0],r=e%1*6,s=r%1,a=1-s;let l=0;switch(Math.floor(r)){case 0:o[0]=1,o[1]=s,o[2]=0;break;case 1:o[0]=a,o[1]=1,o[2]=0;break;case 2:o[0]=0,o[1]=1,o[2]=s;break;case 3:o[0]=0,o[1]=a,o[2]=1;break;case 4:o[0]=s,o[1]=0,o[2]=1;break;default:o[0]=1,o[1]=0,o[2]=a}return l=(1-n)*i,[255*(n*o[0]+l),255*(n*o[1]+l),255*(n*o[2]+l)]},r.hcg.hsv=function(t){const e=t[1]/100,n=e+t[2]/100*(1-e);let i=0;return n>0&&(i=e/n),[t[0],100*i,100*n]},r.hcg.hsl=function(t){const e=t[1]/100,n=t[2]/100*(1-e)+.5*e;let i=0;return n>0&&n<.5?i=e/(2*n):n>=.5&&n<1&&(i=e/(2*(1-n))),[t[0],100*i,100*n]},r.hcg.hwb=function(t){const e=t[1]/100,n=e+t[2]/100*(1-e);return[t[0],100*(n-e),100*(1-n)]},r.hwb.hcg=function(t){const e=t[1]/100,n=1-t[2]/100,i=n-e;let o=0;return i<1&&(o=(n-i)/(1-i)),[t[0],100*i,100*o]},r.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]},r.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]},r.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]},r.gray.hsl=function(t){return[0,0,t[0]]},r.gray.hsv=r.gray.hsl,r.gray.hwb=function(t){return[0,100,t[0]]},r.gray.cmyk=function(t){return[0,0,0,t[0]]},r.gray.lab=function(t){return[t[0],0,0]},r.gray.hex=function(t){const e=255&Math.round(t[0]/100*255),n=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".substring(n.length)+n},r.rgb.gray=function(t){return[(t[0]+t[1]+t[2])/3/255*100]}},2085:(t,e,n)=>{const i=n(8168),o=n(4111),r={};Object.keys(i).forEach((t=>{r[t]={},Object.defineProperty(r[t],"channels",{value:i[t].channels}),Object.defineProperty(r[t],"labels",{value:i[t].labels});const e=o(t);Object.keys(e).forEach((n=>{const i=e[n];r[t][n]=function(t){const e=function(...e){const n=e[0];if(null==n)return n;n.length>1&&(e=n);const i=t(e);if("object"==typeof i)for(let t=i.length,e=0;e<t;e++)i[e]=Math.round(i[e]);return i};return"conversion"in t&&(e.conversion=t.conversion),e}(i),r[t][n].raw=function(t){const e=function(...e){const n=e[0];return null==n?n:(n.length>1&&(e=n),t(e))};return"conversion"in t&&(e.conversion=t.conversion),e}(i)}))})),t.exports=r},4111:(t,e,n)=>{const i=n(8168);function o(t){const e=function(){const t={},e=Object.keys(i);for(let n=e.length,i=0;i<n;i++)t[e[i]]={distance:-1,parent:null};return t}(),n=[t];for(e[t].distance=0;n.length;){const t=n.pop(),o=Object.keys(i[t]);for(let i=o.length,r=0;r<i;r++){const i=o[r],s=e[i];-1===s.distance&&(s.distance=e[t].distance+1,s.parent=t,n.unshift(i))}}return e}function r(t,e){return function(n){return e(t(n))}}function s(t,e){const n=[e[t].parent,t];let o=i[e[t].parent][t],s=e[t].parent;for(;e[s].parent;)n.unshift(e[s].parent),o=r(i[e[s].parent][s],o),s=e[s].parent;return o.conversion=n,o}t.exports=function(t){const e=o(t),n={},i=Object.keys(e);for(let t=i.length,o=0;o<t;o++){const t=i[o];null!==e[t].parent&&(n[t]=s(t,e))}return n}},8874:t=>{"use strict";t.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},9818:(t,e,n)=>{var i=n(8874),o=n(6851),r=Object.hasOwnProperty,s=Object.create(null);for(var a in i)r.call(i,a)&&(s[i[a]]=a);var l=t.exports={to:{},get:{}};function c(t,e,n){return Math.min(Math.max(e,t),n)}function u(t){var e=Math.round(t).toString(16).toUpperCase();return e.length<2?"0"+e:e}l.get=function(t){var e,n;switch(t.substring(0,3).toLowerCase()){case"hsl":e=l.get.hsl(t),n="hsl";break;case"hwb":e=l.get.hwb(t),n="hwb";break;default:e=l.get.rgb(t),n="rgb"}return e?{model:n,value:e}:null},l.get.rgb=function(t){if(!t)return null;var e,n,o,s=[0,0,0,1];if(e=t.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(o=e[2],e=e[1],n=0;n<3;n++){var a=2*n;s[n]=parseInt(e.slice(a,a+2),16)}o&&(s[3]=parseInt(o,16)/255)}else if(e=t.match(/^#([a-f0-9]{3,4})$/i)){for(o=(e=e[1])[3],n=0;n<3;n++)s[n]=parseInt(e[n]+e[n],16);o&&(s[3]=parseInt(o+o,16)/255)}else if(e=t.match(/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)){for(n=0;n<3;n++)s[n]=parseInt(e[n+1],0);e[4]&&(e[5]?s[3]=.01*parseFloat(e[4]):s[3]=parseFloat(e[4]))}else{if(!(e=t.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)))return(e=t.match(/^(\w+)$/))?"transparent"===e[1]?[0,0,0,0]:r.call(i,e[1])?((s=i[e[1]])[3]=1,s):null:null;for(n=0;n<3;n++)s[n]=Math.round(2.55*parseFloat(e[n+1]));e[4]&&(e[5]?s[3]=.01*parseFloat(e[4]):s[3]=parseFloat(e[4]))}for(n=0;n<3;n++)s[n]=c(s[n],0,255);return s[3]=c(s[3],0,1),s},l.get.hsl=function(t){if(!t)return null;var e=t.match(/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(e){var n=parseFloat(e[4]);return[(parseFloat(e[1])%360+360)%360,c(parseFloat(e[2]),0,100),c(parseFloat(e[3]),0,100),c(isNaN(n)?1:n,0,1)]}return null},l.get.hwb=function(t){if(!t)return null;var e=t.match(/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(e){var n=parseFloat(e[4]);return[(parseFloat(e[1])%360+360)%360,c(parseFloat(e[2]),0,100),c(parseFloat(e[3]),0,100),c(isNaN(n)?1:n,0,1)]}return null},l.to.hex=function(){var t=o(arguments);return"#"+u(t[0])+u(t[1])+u(t[2])+(t[3]<1?u(Math.round(255*t[3])):"")},l.to.rgb=function(){var t=o(arguments);return t.length<4||1===t[3]?"rgb("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+")":"rgba("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+", "+t[3]+")"},l.to.rgb.percent=function(){var t=o(arguments),e=Math.round(t[0]/255*100),n=Math.round(t[1]/255*100),i=Math.round(t[2]/255*100);return t.length<4||1===t[3]?"rgb("+e+"%, "+n+"%, "+i+"%)":"rgba("+e+"%, "+n+"%, "+i+"%, "+t[3]+")"},l.to.hsl=function(){var t=o(arguments);return t.length<4||1===t[3]?"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)":"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+t[3]+")"},l.to.hwb=function(){var t=o(arguments),e="";return t.length>=4&&1!==t[3]&&(e=", "+t[3]),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+e+")"},l.to.keyword=function(t){return s[t.slice(0,3)]}},6767:(t,e,n)=>{const i=n(9818),o=n(2085),r=["keyword","gray","hex"],s={};for(const t of Object.keys(o))s[[...o[t].labels].sort().join("")]=t;const a={};function l(t,e){if(!(this instanceof l))return new l(t,e);if(e&&e in r&&(e=null),e&&!(e in o))throw new Error("Unknown model: "+e);let n,c;if(null==t)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(t instanceof l)this.model=t.model,this.color=[...t.color],this.valpha=t.valpha;else if("string"==typeof t){const e=i.get(t);if(null===e)throw new Error("Unable to parse color from string: "+t);this.model=e.model,c=o[this.model].channels,this.color=e.value.slice(0,c),this.valpha="number"==typeof e.value[c]?e.value[c]:1}else if(t.length>0){this.model=e||"rgb",c=o[this.model].channels;const n=Array.prototype.slice.call(t,0,c);this.color=d(n,c),this.valpha="number"==typeof t[c]?t[c]:1}else if("number"==typeof t)this.model="rgb",this.color=[t>>16&255,t>>8&255,255&t],this.valpha=1;else{this.valpha=1;const e=Object.keys(t);"alpha"in t&&(e.splice(e.indexOf("alpha"),1),this.valpha="number"==typeof t.alpha?t.alpha:0);const i=e.sort().join("");if(!(i in s))throw new Error("Unable to parse color from object: "+JSON.stringify(t));this.model=s[i];const{labels:r}=o[this.model],a=[];for(n=0;n<r.length;n++)a.push(t[r[n]]);this.color=d(a)}if(a[this.model])for(c=o[this.model].channels,n=0;n<c;n++){const t=a[this.model][n];t&&(this.color[n]=t(this.color[n]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}l.prototype={toString(){return this.string()},toJSON(){return this[this.model]()},string(t){let e=this.model in i.to?this:this.rgb();e=e.round("number"==typeof t?t:1);const n=1===e.valpha?e.color:[...e.color,this.valpha];return i.to[e.model](n)},percentString(t){const e=this.rgb().round("number"==typeof t?t:1),n=1===e.valpha?e.color:[...e.color,this.valpha];return i.to.rgb.percent(n)},array(){return 1===this.valpha?[...this.color]:[...this.color,this.valpha]},object(){const t={},{channels:e}=o[this.model],{labels:n}=o[this.model];for(let i=0;i<e;i++)t[n[i]]=this.color[i];return 1!==this.valpha&&(t.alpha=this.valpha),t},unitArray(){const t=this.rgb().color;return t[0]/=255,t[1]/=255,t[2]/=255,1!==this.valpha&&t.push(this.valpha),t},unitObject(){const t=this.rgb().object();return t.r/=255,t.g/=255,t.b/=255,1!==this.valpha&&(t.alpha=this.valpha),t},round(t){return t=Math.max(t||0,0),new l([...this.color.map(c(t)),this.valpha],this.model)},alpha(t){return void 0!==t?new l([...this.color,Math.max(0,Math.min(1,t))],this.model):this.valpha},red:u("rgb",0,h(255)),green:u("rgb",1,h(255)),blue:u("rgb",2,h(255)),hue:u(["hsl","hsv","hsl","hwb","hcg"],0,(t=>(t%360+360)%360)),saturationl:u("hsl",1,h(100)),lightness:u("hsl",2,h(100)),saturationv:u("hsv",1,h(100)),value:u("hsv",2,h(100)),chroma:u("hcg",1,h(100)),gray:u("hcg",2,h(100)),white:u("hwb",1,h(100)),wblack:u("hwb",2,h(100)),cyan:u("cmyk",0,h(100)),magenta:u("cmyk",1,h(100)),yellow:u("cmyk",2,h(100)),black:u("cmyk",3,h(100)),x:u("xyz",0,h(95.047)),y:u("xyz",1,h(100)),z:u("xyz",2,h(108.833)),l:u("lab",0,h(100)),a:u("lab",1),b:u("lab",2),keyword(t){return void 0!==t?new l(t):o[this.model].keyword(this.color)},hex(t){return void 0!==t?new l(t):i.to.hex(this.rgb().round().color)},hexa(t){if(void 0!==t)return new l(t);const e=this.rgb().round().color;let n=Math.round(255*this.valpha).toString(16).toUpperCase();return 1===n.length&&(n="0"+n),i.to.hex(e)+n},rgbNumber(){const t=this.rgb().color;return(255&t[0])<<16|(255&t[1])<<8|255&t[2]},luminosity(){const t=this.rgb().color,e=[];for(const[n,i]of t.entries()){const t=i/255;e[n]=t<=.04045?t/12.92:((t+.055)/1.055)**2.4}return.2126*e[0]+.7152*e[1]+.0722*e[2]},contrast(t){const e=this.luminosity(),n=t.luminosity();return e>n?(e+.05)/(n+.05):(n+.05)/(e+.05)},level(t){const e=this.contrast(t);return e>=7?"AAA":e>=4.5?"AA":""},isDark(){const t=this.rgb().color;return(2126*t[0]+7152*t[1]+722*t[2])/1e4<128},isLight(){return!this.isDark()},negate(){const t=this.rgb();for(let e=0;e<3;e++)t.color[e]=255-t.color[e];return t},lighten(t){const e=this.hsl();return e.color[2]+=e.color[2]*t,e},darken(t){const e=this.hsl();return e.color[2]-=e.color[2]*t,e},saturate(t){const e=this.hsl();return e.color[1]+=e.color[1]*t,e},desaturate(t){const e=this.hsl();return e.color[1]-=e.color[1]*t,e},whiten(t){const e=this.hwb();return e.color[1]+=e.color[1]*t,e},blacken(t){const e=this.hwb();return e.color[2]+=e.color[2]*t,e},grayscale(){const t=this.rgb().color,e=.3*t[0]+.59*t[1]+.11*t[2];return l.rgb(e,e,e)},fade(t){return this.alpha(this.valpha-this.valpha*t)},opaquer(t){return this.alpha(this.valpha+this.valpha*t)},rotate(t){const e=this.hsl();let n=e.color[0];return n=(n+t)%360,n=n<0?360+n:n,e.color[0]=n,e},mix(t,e){if(!t||!t.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof t);const n=t.rgb(),i=this.rgb(),o=void 0===e?.5:e,r=2*o-1,s=n.alpha()-i.alpha(),a=((r*s==-1?r:(r+s)/(1+r*s))+1)/2,c=1-a;return l.rgb(a*n.red()+c*i.red(),a*n.green()+c*i.green(),a*n.blue()+c*i.blue(),n.alpha()*o+i.alpha()*(1-o))}};for(const t of Object.keys(o)){if(r.includes(t))continue;const{channels:e}=o[t];l.prototype[t]=function(...e){return this.model===t?new l(this):e.length>0?new l(e,t):new l([...(n=o[this.model][t].raw(this.color),Array.isArray(n)?n:[n]),this.valpha],t);var n},l[t]=function(...n){let i=n[0];return"number"==typeof i&&(i=d(n,e)),new l(i,t)}}function c(t){return function(e){return function(t,e){return Number(t.toFixed(e))}(e,t)}}function u(t,e,n){t=Array.isArray(t)?t:[t];for(const i of t)(a[i]||(a[i]=[]))[e]=n;return t=t[0],function(i){let o;return void 0!==i?(n&&(i=n(i)),o=this[t](),o.color[e]=i,o):(o=this[t]().color[e],n&&(o=n(o)),o)}}function h(t){return function(e){return Math.max(0,Math.min(t,e))}}function d(t,e){for(let n=0;n<e;n++)"number"!=typeof t[n]&&(t[n]=0);return t}t.exports=l},9662:(t,e,n)=>{var i=n(614),o=n(6330),r=TypeError;t.exports=function(t){if(i(t))return t;throw r(o(t)+" is not a function")}},6077:(t,e,n)=>{var i=n(614),o=String,r=TypeError;t.exports=function(t){if("object"==typeof t||i(t))return t;throw r("Can't set "+o(t)+" as a prototype")}},9670:(t,e,n)=>{var i=n(111),o=String,r=TypeError;t.exports=function(t){if(i(t))return t;throw r(o(t)+" is not an object")}},1318:(t,e,n)=>{var i=n(5656),o=n(1400),r=n(6244),s=function(t){return function(e,n,s){var a,l=i(e),c=r(l),u=o(s,c);if(t&&n!=n){for(;c>u;)if((a=l[u++])!=a)return!0}else for(;c>u;u++)if((t||u in l)&&l[u]===n)return t||u||0;return!t&&-1}};t.exports={includes:s(!0),indexOf:s(!1)}},3658:(t,e,n)=>{"use strict";var i=n(9781),o=n(3157),r=TypeError,s=Object.getOwnPropertyDescriptor,a=i&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}();t.exports=a?function(t,e){if(o(t)&&!s(t,"length").writable)throw r("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e}},206:(t,e,n)=>{var i=n(1702);t.exports=i([].slice)},4326:(t,e,n)=>{var i=n(1702),o=i({}.toString),r=i("".slice);t.exports=function(t){return r(o(t),8,-1)}},648:(t,e,n)=>{var i=n(1694),o=n(614),r=n(4326),s=n(5112)("toStringTag"),a=Object,l="Arguments"==r(function(){return arguments}());t.exports=i?r:function(t){var e,n,i;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=a(t),s))?n:l?r(e):"Object"==(i=r(e))&&o(e.callee)?"Arguments":i}},9920:(t,e,n)=>{var i=n(2597),o=n(3887),r=n(1236),s=n(3070);t.exports=function(t,e,n){for(var a=o(e),l=s.f,c=r.f,u=0;u<a.length;u++){var h=a[u];i(t,h)||n&&i(n,h)||l(t,h,c(e,h))}}},8880:(t,e,n)=>{var i=n(9781),o=n(3070),r=n(9114);t.exports=i?function(t,e,n){return o.f(t,e,r(1,n))}:function(t,e,n){return t[e]=n,t}},9114:t=>{t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},8052:(t,e,n)=>{var i=n(614),o=n(3070),r=n(6339),s=n(3072);t.exports=function(t,e,n,a){a||(a={});var l=a.enumerable,c=void 0!==a.name?a.name:e;if(i(n)&&r(n,c,a),a.global)l?t[e]=n:s(e,n);else{try{a.unsafe?t[e]&&(l=!0):delete t[e]}catch(t){}l?t[e]=n:o.f(t,e,{value:n,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})}return t}},3072:(t,e,n)=>{var i=n(7854),o=Object.defineProperty;t.exports=function(t,e){try{o(i,t,{value:e,configurable:!0,writable:!0})}catch(n){i[t]=e}return e}},9781:(t,e,n)=>{var i=n(7293);t.exports=!i((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},4154:t=>{var e="object"==typeof document&&document.all,n=void 0===e&&void 0!==e;t.exports={all:e,IS_HTMLDDA:n}},317:(t,e,n)=>{var i=n(7854),o=n(111),r=i.document,s=o(r)&&o(r.createElement);t.exports=function(t){return s?r.createElement(t):{}}},7207:t=>{var e=TypeError;t.exports=function(t){if(t>9007199254740991)throw e("Maximum allowed index exceeded");return t}},9363:t=>{t.exports="function"==typeof Bun&&Bun&&"string"==typeof Bun.version},6833:(t,e,n)=>{var i=n(8113);t.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(i)},5268:(t,e,n)=>{var i=n(4326);t.exports="undefined"!=typeof process&&"process"==i(process)},8113:t=>{t.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},7392:(t,e,n)=>{var i,o,r=n(7854),s=n(8113),a=r.process,l=r.Deno,c=a&&a.versions||l&&l.version,u=c&&c.v8;u&&(o=(i=u.split("."))[0]>0&&i[0]<4?1:+(i[0]+i[1])),!o&&s&&(!(i=s.match(/Edge\/(\d+)/))||i[1]>=74)&&(i=s.match(/Chrome\/(\d+)/))&&(o=+i[1]),t.exports=o},748:t=>{t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},1060:(t,e,n)=>{var i=n(1702),o=Error,r=i("".replace),s=String(o("zxcasd").stack),a=/\n\s*at [^:]*:[^\n]*/,l=a.test(s);t.exports=function(t,e){if(l&&"string"==typeof t&&!o.prepareStackTrace)for(;e--;)t=r(t,a,"");return t}},5392:(t,e,n)=>{var i=n(8880),o=n(1060),r=n(2914),s=Error.captureStackTrace;t.exports=function(t,e,n,a){r&&(s?s(t,e):i(t,"stack",o(n,a)))}},2914:(t,e,n)=>{var i=n(7293),o=n(9114);t.exports=!i((function(){var t=Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",o(1,7)),7!==t.stack)}))},2109:(t,e,n)=>{var i=n(7854),o=n(1236).f,r=n(8880),s=n(8052),a=n(3072),l=n(9920),c=n(4705);t.exports=function(t,e){var n,u,h,d,p,f=t.target,g=t.global,m=t.stat;if(n=g?i:m?i[f]||a(f,{}):(i[f]||{}).prototype)for(u in e){if(d=e[u],h=t.dontCallGetSet?(p=o(n,u))&&p.value:n[u],!c(g?u:f+(m?".":"#")+u,t.forced)&&void 0!==h){if(typeof d==typeof h)continue;l(d,h)}(t.sham||h&&h.sham)&&r(d,"sham",!0),s(n,u,d,t)}}},7293:t=>{t.exports=function(t){try{return!!t()}catch(t){return!0}}},2104:(t,e,n)=>{var i=n(4374),o=Function.prototype,r=o.apply,s=o.call;t.exports="object"==typeof Reflect&&Reflect.apply||(i?s.bind(r):function(){return s.apply(r,arguments)})},9974:(t,e,n)=>{var i=n(1470),o=n(9662),r=n(4374),s=i(i.bind);t.exports=function(t,e){return o(t),void 0===e?t:r?s(t,e):function(){return t.apply(e,arguments)}}},4374:(t,e,n)=>{var i=n(7293);t.exports=!i((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},6916:(t,e,n)=>{var i=n(4374),o=Function.prototype.call;t.exports=i?o.bind(o):function(){return o.apply(o,arguments)}},6530:(t,e,n)=>{var i=n(9781),o=n(2597),r=Function.prototype,s=i&&Object.getOwnPropertyDescriptor,a=o(r,"name"),l=a&&"something"===function(){}.name,c=a&&(!i||i&&s(r,"name").configurable);t.exports={EXISTS:a,PROPER:l,CONFIGURABLE:c}},5668:(t,e,n)=>{var i=n(1702),o=n(9662);t.exports=function(t,e,n){try{return i(o(Object.getOwnPropertyDescriptor(t,e)[n]))}catch(t){}}},1470:(t,e,n)=>{var i=n(4326),o=n(1702);t.exports=function(t){if("Function"===i(t))return o(t)}},1702:(t,e,n)=>{var i=n(4374),o=Function.prototype,r=o.call,s=i&&o.bind.bind(r,r);t.exports=i?s:function(t){return function(){return r.apply(t,arguments)}}},5005:(t,e,n)=>{var i=n(7854),o=n(614);t.exports=function(t,e){return arguments.length<2?(n=i[t],o(n)?n:void 0):i[t]&&i[t][e];var n}},8173:(t,e,n)=>{var i=n(9662),o=n(8554);t.exports=function(t,e){var n=t[e];return o(n)?void 0:i(n)}},7854:(t,e,n)=>{var i=function(t){return t&&t.Math==Math&&t};t.exports=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},2597:(t,e,n)=>{var i=n(1702),o=n(7908),r=i({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return r(o(t),e)}},3501:t=>{t.exports={}},490:(t,e,n)=>{var i=n(5005);t.exports=i("document","documentElement")},4664:(t,e,n)=>{var i=n(9781),o=n(7293),r=n(317);t.exports=!i&&!o((function(){return 7!=Object.defineProperty(r("div"),"a",{get:function(){return 7}}).a}))},8361:(t,e,n)=>{var i=n(1702),o=n(7293),r=n(4326),s=Object,a=i("".split);t.exports=o((function(){return!s("z").propertyIsEnumerable(0)}))?function(t){return"String"==r(t)?a(t,""):s(t)}:s},9587:(t,e,n)=>{var i=n(614),o=n(111),r=n(7674);t.exports=function(t,e,n){var s,a;return r&&i(s=e.constructor)&&s!==n&&o(a=s.prototype)&&a!==n.prototype&&r(t,a),t}},2788:(t,e,n)=>{var i=n(1702),o=n(614),r=n(5465),s=i(Function.toString);o(r.inspectSource)||(r.inspectSource=function(t){return s(t)}),t.exports=r.inspectSource},8340:(t,e,n)=>{var i=n(111),o=n(8880);t.exports=function(t,e){i(e)&&"cause"in e&&o(t,"cause",e.cause)}},9909:(t,e,n)=>{var i,o,r,s=n(4811),a=n(7854),l=n(111),c=n(8880),u=n(2597),h=n(5465),d=n(6200),p=n(3501),f="Object already initialized",g=a.TypeError,m=a.WeakMap;if(s||h.state){var _=h.state||(h.state=new m);_.get=_.get,_.has=_.has,_.set=_.set,i=function(t,e){if(_.has(t))throw g(f);return e.facade=t,_.set(t,e),e},o=function(t){return _.get(t)||{}},r=function(t){return _.has(t)}}else{var y=d("state");p[y]=!0,i=function(t,e){if(u(t,y))throw g(f);return e.facade=t,c(t,y,e),e},o=function(t){return u(t,y)?t[y]:{}},r=function(t){return u(t,y)}}t.exports={set:i,get:o,has:r,enforce:function(t){return r(t)?o(t):i(t,{})},getterFor:function(t){return function(e){var n;if(!l(e)||(n=o(e)).type!==t)throw g("Incompatible receiver, "+t+" required");return n}}}},3157:(t,e,n)=>{var i=n(4326);t.exports=Array.isArray||function(t){return"Array"==i(t)}},614:(t,e,n)=>{var i=n(4154),o=i.all;t.exports=i.IS_HTMLDDA?function(t){return"function"==typeof t||t===o}:function(t){return"function"==typeof t}},4705:(t,e,n)=>{var i=n(7293),o=n(614),r=/#|\.prototype\./,s=function(t,e){var n=l[a(t)];return n==u||n!=c&&(o(e)?i(e):!!e)},a=s.normalize=function(t){return String(t).replace(r,".").toLowerCase()},l=s.data={},c=s.NATIVE="N",u=s.POLYFILL="P";t.exports=s},8554:t=>{t.exports=function(t){return null==t}},111:(t,e,n)=>{var i=n(614),o=n(4154),r=o.all;t.exports=o.IS_HTMLDDA?function(t){return"object"==typeof t?null!==t:i(t)||t===r}:function(t){return"object"==typeof t?null!==t:i(t)}},5564:t=>{t.exports=!1},2190:(t,e,n)=>{var i=n(5005),o=n(614),r=n(7976),s=n(3307),a=Object;t.exports=s?function(t){return"symbol"==typeof t}:function(t){var e=i("Symbol");return o(e)&&r(e.prototype,a(t))}},6244:(t,e,n)=>{var i=n(7466);t.exports=function(t){return i(t.length)}},6339:(t,e,n)=>{var i=n(1702),o=n(7293),r=n(614),s=n(2597),a=n(9781),l=n(6530).CONFIGURABLE,c=n(2788),u=n(9909),h=u.enforce,d=u.get,p=String,f=Object.defineProperty,g=i("".slice),m=i("".replace),_=i([].join),y=a&&!o((function(){return 8!==f((function(){}),"length",{value:8}).length})),v=String(String).split("String"),C=t.exports=function(t,e,n){"Symbol("===g(p(e),0,7)&&(e="["+m(p(e),/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(e="get "+e),n&&n.setter&&(e="set "+e),(!s(t,"name")||l&&t.name!==e)&&(a?f(t,"name",{value:e,configurable:!0}):t.name=e),y&&n&&s(n,"arity")&&t.length!==n.arity&&f(t,"length",{value:n.arity});try{n&&s(n,"constructor")&&n.constructor?a&&f(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}var i=h(t);return s(i,"source")||(i.source=_(v,"string"==typeof e?e:"")),t};Function.prototype.toString=C((function(){return r(this)&&d(this).source||c(this)}),"toString")},4758:t=>{var e=Math.ceil,n=Math.floor;t.exports=Math.trunc||function(t){var i=+t;return(i>0?n:e)(i)}},6277:(t,e,n)=>{var i=n(1340);t.exports=function(t,e){return void 0===t?arguments.length<2?"":e:i(t)}},3070:(t,e,n)=>{var i=n(9781),o=n(4664),r=n(3353),s=n(9670),a=n(4948),l=TypeError,c=Object.defineProperty,u=Object.getOwnPropertyDescriptor,h="enumerable",d="configurable",p="writable";e.f=i?r?function(t,e,n){if(s(t),e=a(e),s(n),"function"==typeof t&&"prototype"===e&&"value"in n&&p in n&&!n[p]){var i=u(t,e);i&&i[p]&&(t[e]=n.value,n={configurable:d in n?n[d]:i[d],enumerable:h in n?n[h]:i[h],writable:!1})}return c(t,e,n)}:c:function(t,e,n){if(s(t),e=a(e),s(n),o)try{return c(t,e,n)}catch(t){}if("get"in n||"set"in n)throw l("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},1236:(t,e,n)=>{var i=n(9781),o=n(6916),r=n(5296),s=n(9114),a=n(5656),l=n(4948),c=n(2597),u=n(4664),h=Object.getOwnPropertyDescriptor;e.f=i?h:function(t,e){if(t=a(t),e=l(e),u)try{return h(t,e)}catch(t){}if(c(t,e))return s(!o(r.f,t,e),t[e])}},8006:(t,e,n)=>{var i=n(6324),o=n(748).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,o)}},5181:(t,e)=>{e.f=Object.getOwnPropertySymbols},7976:(t,e,n)=>{var i=n(1702);t.exports=i({}.isPrototypeOf)},6324:(t,e,n)=>{var i=n(1702),o=n(2597),r=n(5656),s=n(1318).indexOf,a=n(3501),l=i([].push);t.exports=function(t,e){var n,i=r(t),c=0,u=[];for(n in i)!o(a,n)&&o(i,n)&&l(u,n);for(;e.length>c;)o(i,n=e[c++])&&(~s(u,n)||l(u,n));return u}},5296:(t,e)=>{"use strict";var n={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!n.call({1:2},1);e.f=o?function(t){var e=i(this,t);return!!e&&e.enumerable}:n},7674:(t,e,n)=>{var i=n(5668),o=n(9670),r=n(6077);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=i(Object.prototype,"__proto__","set"))(n,[]),e=n instanceof Array}catch(t){}return function(n,i){return o(n),r(i),e?t(n,i):n.__proto__=i,n}}():void 0)},2140:(t,e,n)=>{var i=n(6916),o=n(614),r=n(111),s=TypeError;t.exports=function(t,e){var n,a;if("string"===e&&o(n=t.toString)&&!r(a=i(n,t)))return a;if(o(n=t.valueOf)&&!r(a=i(n,t)))return a;if("string"!==e&&o(n=t.toString)&&!r(a=i(n,t)))return a;throw s("Can't convert object to primitive value")}},3887:(t,e,n)=>{var i=n(5005),o=n(1702),r=n(8006),s=n(5181),a=n(9670),l=o([].concat);t.exports=i("Reflect","ownKeys")||function(t){var e=r.f(a(t)),n=s.f;return n?l(e,n(t)):e}},2626:(t,e,n)=>{var i=n(3070).f;t.exports=function(t,e,n){n in t||i(t,n,{configurable:!0,get:function(){return e[n]},set:function(t){e[n]=t}})}},4488:(t,e,n)=>{var i=n(8554),o=TypeError;t.exports=function(t){if(i(t))throw o("Can't call method on "+t);return t}},7152:(t,e,n)=>{"use strict";var i=n(7854),o=n(2104),r=n(614),s=n(9363),a=n(8113),l=n(206),c=n(8053),u=i.Function,h=/MSIE .\./.test(a)||s&&function(){var t=i.Bun.version.split(".");return t.length<3||0==t[0]&&(t[1]<3||3==t[1]&&0==t[2])}();t.exports=function(t,e){var n=e?2:1;return h?function(i,s){var a=c(arguments.length,1)>n,h=r(i)?i:u(i),d=a?l(arguments,n):[],p=a?function(){o(h,this,d)}:h;return e?t(p,s):t(p)}:t}},6200:(t,e,n)=>{var i=n(2309),o=n(9711),r=i("keys");t.exports=function(t){return r[t]||(r[t]=o(t))}},5465:(t,e,n)=>{var i=n(7854),o=n(3072),r="__core-js_shared__",s=i[r]||o(r,{});t.exports=s},2309:(t,e,n)=>{var i=n(5564),o=n(5465);(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.30.1",mode:i?"pure":"global",copyright:" 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.30.1/LICENSE",source:"https://github.com/zloirock/core-js"})},6293:(t,e,n)=>{var i=n(7392),o=n(7293);t.exports=!!Object.getOwnPropertySymbols&&!o((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&i&&i<41}))},261:(t,e,n)=>{var i,o,r,s,a=n(7854),l=n(2104),c=n(9974),u=n(614),h=n(2597),d=n(7293),p=n(490),f=n(206),g=n(317),m=n(8053),_=n(6833),y=n(5268),v=a.setImmediate,C=a.clearImmediate,b=a.process,E=a.Dispatch,S=a.Function,w=a.MessageChannel,O=a.String,x=0,P={},T="onreadystatechange";d((function(){i=a.location}));var M=function(t){if(h(P,t)){var e=P[t];delete P[t],e()}},D=function(t){return function(){M(t)}},R=function(t){M(t.data)},A=function(t){a.postMessage(O(t),i.protocol+"//"+i.host)};v&&C||(v=function(t){m(arguments.length,1);var e=u(t)?t:S(t),n=f(arguments,1);return P[++x]=function(){l(e,void 0,n)},o(x),x},C=function(t){delete P[t]},y?o=function(t){b.nextTick(D(t))}:E&&E.now?o=function(t){E.now(D(t))}:w&&!_?(s=(r=new w).port2,r.port1.onmessage=R,o=c(s.postMessage,s)):a.addEventListener&&u(a.postMessage)&&!a.importScripts&&i&&"file:"!==i.protocol&&!d(A)?(o=A,a.addEventListener("message",R,!1)):o=T in g("script")?function(t){p.appendChild(g("script"))[T]=function(){p.removeChild(this),M(t)}}:function(t){setTimeout(D(t),0)}),t.exports={set:v,clear:C}},1400:(t,e,n)=>{var i=n(9303),o=Math.max,r=Math.min;t.exports=function(t,e){var n=i(t);return n<0?o(n+e,0):r(n,e)}},5656:(t,e,n)=>{var i=n(8361),o=n(4488);t.exports=function(t){return i(o(t))}},9303:(t,e,n)=>{var i=n(4758);t.exports=function(t){var e=+t;return e!=e||0===e?0:i(e)}},7466:(t,e,n)=>{var i=n(9303),o=Math.min;t.exports=function(t){return t>0?o(i(t),9007199254740991):0}},7908:(t,e,n)=>{var i=n(4488),o=Object;t.exports=function(t){return o(i(t))}},7593:(t,e,n)=>{var i=n(6916),o=n(111),r=n(2190),s=n(8173),a=n(2140),l=n(5112),c=TypeError,u=l("toPrimitive");t.exports=function(t,e){if(!o(t)||r(t))return t;var n,l=s(t,u);if(l){if(void 0===e&&(e="default"),n=i(l,t,e),!o(n)||r(n))return n;throw c("Can't convert object to primitive value")}return void 0===e&&(e="number"),a(t,e)}},4948:(t,e,n)=>{var i=n(7593),o=n(2190);t.exports=function(t){var e=i(t,"string");return o(e)?e:e+""}},1694:(t,e,n)=>{var i={};i[n(5112)("toStringTag")]="z",t.exports="[object z]"===String(i)},1340:(t,e,n)=>{var i=n(648),o=String;t.exports=function(t){if("Symbol"===i(t))throw TypeError("Cannot convert a Symbol value to a string");return o(t)}},6330:t=>{var e=String;t.exports=function(t){try{return e(t)}catch(t){return"Object"}}},9711:(t,e,n)=>{var i=n(1702),o=0,r=Math.random(),s=i(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+s(++o+r,36)}},3307:(t,e,n)=>{var i=n(6293);t.exports=i&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},3353:(t,e,n)=>{var i=n(9781),o=n(7293);t.exports=i&&o((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},8053:t=>{var e=TypeError;t.exports=function(t,n){if(t<n)throw e("Not enough arguments");return t}},4811:(t,e,n)=>{var i=n(7854),o=n(614),r=i.WeakMap;t.exports=o(r)&&/native code/.test(String(r))},5112:(t,e,n)=>{var i=n(7854),o=n(2309),r=n(2597),s=n(9711),a=n(6293),l=n(3307),c=i.Symbol,u=o("wks"),h=l?c.for||c:c&&c.withoutSetter||s;t.exports=function(t){return r(u,t)||(u[t]=a&&r(c,t)?c[t]:h("Symbol."+t)),u[t]}},9191:(t,e,n)=>{"use strict";var i=n(5005),o=n(2597),r=n(8880),s=n(7976),a=n(7674),l=n(9920),c=n(2626),u=n(9587),h=n(6277),d=n(8340),p=n(5392),f=n(9781),g=n(5564);t.exports=function(t,e,n,m){var _="stackTraceLimit",y=m?2:1,v=t.split("."),C=v[v.length-1],b=i.apply(null,v);if(b){var E=b.prototype;if(!g&&o(E,"cause")&&delete E.cause,!n)return b;var S=i("Error"),w=e((function(t,e){var n=h(m?e:t,void 0),i=m?new b(t):new b;return void 0!==n&&r(i,"message",n),p(i,w,i.stack,2),this&&s(E,this)&&u(i,this,w),arguments.length>y&&d(i,arguments[y]),i}));if(w.prototype=E,"Error"!==C?a?a(w,S):l(w,S,{name:!0}):f&&_ in b&&(c(w,b,_),c(w,b,"prepareStackTrace")),l(w,b),!g)try{E.name!==C&&r(E,"name",C),E.constructor=w}catch(t){}return w}}},7658:(t,e,n)=>{"use strict";var i=n(2109),o=n(7908),r=n(6244),s=n(3658),a=n(7207);i({target:"Array",proto:!0,arity:1,forced:n(7293)((function(){return 4294967297!==[].push.call({length:4294967296},1)}))||!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}}()},{push:function(t){var e=o(this),n=r(e),i=arguments.length;a(n+i);for(var l=0;l<i;l++)e[n]=arguments[l],n++;return s(e,n),n}})},1703:(t,e,n)=>{var i=n(2109),o=n(7854),r=n(2104),s=n(9191),a="WebAssembly",l=o[a],c=7!==Error("e",{cause:7}).cause,u=function(t,e){var n={};n[t]=s(t,e,c),i({global:!0,constructor:!0,arity:1,forced:c},n)},h=function(t,e){if(l&&l[t]){var n={};n[t]=s(a+"."+t,e,c),i({target:a,stat:!0,constructor:!0,arity:1,forced:c},n)}};u("Error",(function(t){return function(e){return r(t,this,arguments)}})),u("EvalError",(function(t){return function(e){return r(t,this,arguments)}})),u("RangeError",(function(t){return function(e){return r(t,this,arguments)}})),u("ReferenceError",(function(t){return function(e){return r(t,this,arguments)}})),u("SyntaxError",(function(t){return function(e){return r(t,this,arguments)}})),u("TypeError",(function(t){return function(e){return r(t,this,arguments)}})),u("URIError",(function(t){return function(e){return r(t,this,arguments)}})),h("CompileError",(function(t){return function(e){return r(t,this,arguments)}})),h("LinkError",(function(t){return function(e){return r(t,this,arguments)}})),h("RuntimeError",(function(t){return function(e){return r(t,this,arguments)}}))},1091:(t,e,n)=>{var i=n(2109),o=n(7854),r=n(261).clear;i({global:!0,bind:!0,enumerable:!0,forced:o.clearImmediate!==r},{clearImmediate:r})},4633:(t,e,n)=>{n(1091),n(2986)},2986:(t,e,n)=>{var i=n(2109),o=n(7854),r=n(261).set,s=n(7152),a=o.setImmediate?s(r,!1):r;i({global:!0,bind:!0,enumerable:!0,forced:o.setImmediate!==a},{setImmediate:a})},7484:function(t){t.exports=function(){"use strict";var t=1e3,e=6e4,n=36e5,i="millisecond",o="second",r="minute",s="hour",a="day",l="week",c="month",u="quarter",h="year",d="date",p="Invalid Date",f=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,g=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,m={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(t){var e=["th","st","nd","rd"],n=t%100;return"["+t+(e[(n-20)%10]||e[n]||e[0])+"]"}},_=function(t,e,n){var i=String(t);return!i||i.length>=e?t:""+Array(e+1-i.length).join(n)+t},y={s:_,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),i=Math.floor(n/60),o=n%60;return(e<=0?"+":"-")+_(i,2,"0")+":"+_(o,2,"0")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var i=12*(n.year()-e.year())+(n.month()-e.month()),o=e.clone().add(i,c),r=n-o<0,s=e.clone().add(i+(r?-1:1),c);return+(-(i+(n-o)/(r?o-s:s-o))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:c,y:h,w:l,d:a,D:d,h:s,m:r,s:o,ms:i,Q:u}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},v="en",C={};C[v]=m;var b=function(t){return t instanceof O},E=function t(e,n,i){var o;if(!e)return v;if("string"==typeof e){var r=e.toLowerCase();C[r]&&(o=r),n&&(C[r]=n,o=r);var s=e.split("-");if(!o&&s.length>1)return t(s[0])}else{var a=e.name;C[a]=e,o=a}return!i&&o&&(v=o),o||!i&&v},S=function(t,e){if(b(t))return t.clone();var n="object"==typeof e?e:{};return n.date=t,n.args=arguments,new O(n)},w=y;w.l=E,w.i=b,w.w=function(t,e){return S(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var O=function(){function m(t){this.$L=E(t.locale,null,!0),this.parse(t)}var _=m.prototype;return _.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(w.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var i=e.match(f);if(i){var o=i[2]-1||0,r=(i[7]||"0").substring(0,3);return n?new Date(Date.UTC(i[1],o,i[3]||1,i[4]||0,i[5]||0,i[6]||0,r)):new Date(i[1],o,i[3]||1,i[4]||0,i[5]||0,i[6]||0,r)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},_.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},_.$utils=function(){return w},_.isValid=function(){return!(this.$d.toString()===p)},_.isSame=function(t,e){var n=S(t);return this.startOf(e)<=n&&n<=this.endOf(e)},_.isAfter=function(t,e){return S(t)<this.startOf(e)},_.isBefore=function(t,e){return this.endOf(e)<S(t)},_.$g=function(t,e,n){return w.u(t)?this[e]:this.set(n,t)},_.unix=function(){return Math.floor(this.valueOf()/1e3)},_.valueOf=function(){return this.$d.getTime()},_.startOf=function(t,e){var n=this,i=!!w.u(e)||e,u=w.p(t),p=function(t,e){var o=w.w(n.$u?Date.UTC(n.$y,e,t):new Date(n.$y,e,t),n);return i?o:o.endOf(a)},f=function(t,e){return w.w(n.toDate()[t].apply(n.toDate("s"),(i?[0,0,0,0]:[23,59,59,999]).slice(e)),n)},g=this.$W,m=this.$M,_=this.$D,y="set"+(this.$u?"UTC":"");switch(u){case h:return i?p(1,0):p(31,11);case c:return i?p(1,m):p(0,m+1);case l:var v=this.$locale().weekStart||0,C=(g<v?g+7:g)-v;return p(i?_-C:_+(6-C),m);case a:case d:return f(y+"Hours",0);case s:return f(y+"Minutes",1);case r:return f(y+"Seconds",2);case o:return f(y+"Milliseconds",3);default:return this.clone()}},_.endOf=function(t){return this.startOf(t,!1)},_.$set=function(t,e){var n,l=w.p(t),u="set"+(this.$u?"UTC":""),p=(n={},n[a]=u+"Date",n[d]=u+"Date",n[c]=u+"Month",n[h]=u+"FullYear",n[s]=u+"Hours",n[r]=u+"Minutes",n[o]=u+"Seconds",n[i]=u+"Milliseconds",n)[l],f=l===a?this.$D+(e-this.$W):e;if(l===c||l===h){var g=this.clone().set(d,1);g.$d[p](f),g.init(),this.$d=g.set(d,Math.min(this.$D,g.daysInMonth())).$d}else p&&this.$d[p](f);return this.init(),this},_.set=function(t,e){return this.clone().$set(t,e)},_.get=function(t){return this[w.p(t)]()},_.add=function(i,u){var d,p=this;i=Number(i);var f=w.p(u),g=function(t){var e=S(p);return w.w(e.date(e.date()+Math.round(t*i)),p)};if(f===c)return this.set(c,this.$M+i);if(f===h)return this.set(h,this.$y+i);if(f===a)return g(1);if(f===l)return g(7);var m=(d={},d[r]=e,d[s]=n,d[o]=t,d)[f]||1,_=this.$d.getTime()+i*m;return w.w(_,this)},_.subtract=function(t,e){return this.add(-1*t,e)},_.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return n.invalidDate||p;var i=t||"YYYY-MM-DDTHH:mm:ssZ",o=w.z(this),r=this.$H,s=this.$m,a=this.$M,l=n.weekdays,c=n.months,u=function(t,n,o,r){return t&&(t[n]||t(e,i))||o[n].slice(0,r)},h=function(t){return w.s(r%12||12,t,"0")},d=n.meridiem||function(t,e,n){var i=t<12?"AM":"PM";return n?i.toLowerCase():i},f={YY:String(this.$y).slice(-2),YYYY:this.$y,M:a+1,MM:w.s(a+1,2,"0"),MMM:u(n.monthsShort,a,c,3),MMMM:u(c,a),D:this.$D,DD:w.s(this.$D,2,"0"),d:String(this.$W),dd:u(n.weekdaysMin,this.$W,l,2),ddd:u(n.weekdaysShort,this.$W,l,3),dddd:l[this.$W],H:String(r),HH:w.s(r,2,"0"),h:h(1),hh:h(2),a:d(r,s,!0),A:d(r,s,!1),m:String(s),mm:w.s(s,2,"0"),s:String(this.$s),ss:w.s(this.$s,2,"0"),SSS:w.s(this.$ms,3,"0"),Z:o};return i.replace(g,(function(t,e){return e||f[t]||o.replace(":","")}))},_.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},_.diff=function(i,d,p){var f,g=w.p(d),m=S(i),_=(m.utcOffset()-this.utcOffset())*e,y=this-m,v=w.m(this,m);return v=(f={},f[h]=v/12,f[c]=v,f[u]=v/3,f[l]=(y-_)/6048e5,f[a]=(y-_)/864e5,f[s]=y/n,f[r]=y/e,f[o]=y/t,f)[g]||y,p?v:w.a(v)},_.daysInMonth=function(){return this.endOf(c).$D},_.$locale=function(){return C[this.$L]},_.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),i=E(t,e,!0);return i&&(n.$L=i),n},_.clone=function(){return w.w(this.$d,this)},_.toDate=function(){return new Date(this.valueOf())},_.toJSON=function(){return this.isValid()?this.toISOString():null},_.toISOString=function(){return this.$d.toISOString()},_.toString=function(){return this.$d.toUTCString()},m}(),x=O.prototype;return S.prototype=x,[["$ms",i],["$s",o],["$m",r],["$H",s],["$W",a],["$M",c],["$y",h],["$D",d]].forEach((function(t){x[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),S.extend=function(t,e){return t.$i||(t(e,O,S),t.$i=!0),S},S.locale=E,S.isDayjs=b,S.unix=function(t){return S(1e3*t)},S.en=C[v],S.Ls=C,S.p={},S}()},600:function(t,e,n){t.exports=function(t){"use strict";function e(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var n=e(t),i="___________".split("_"),o="___________".split("_"),r="._._._.____._._._._.".split("_"),s="._.__.____._._._._.".split("_"),a=/D[oD]?(\[[^[\]]*\]|\s)+MMMM?/;function l(t,e,n){var i,o;return"m"===n?e?"":"":t+" "+(i=+t,o={mm:e?"__":"__",hh:"__",dd:"__",MM:"__",yy:"__"}[n].split("_"),i%10==1&&i%100!=11?o[0]:i%10>=2&&i%10<=4&&(i%100<10||i%100>=20)?o[1]:o[2])}var c=function(t,e){return a.test(e)?i[t.month()]:o[t.month()]};c.s=o,c.f=i;var u=function(t,e){return a.test(e)?r[t.month()]:s[t.month()]};u.s=s,u.f=r;var h={name:"ru",weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),months:c,monthsShort:u,weekStart:1,yearStart:4,formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., H:mm",LLLL:"dddd, D MMMM YYYY ., H:mm"},relativeTime:{future:" %s",past:"%s ",s:" ",m:l,mm:l,h:"",hh:l,d:"",dd:l,M:"",MM:l,y:"",yy:l},ordinal:function(t){return t},meridiem:function(t){return t<4?"":t<12?"":t<17?"":""}};return n.default.locale(h,null,!0),h}(n(7484))},178:function(t){t.exports=function(){"use strict";var t="minute",e=/[+-]\d\d(?::?\d\d)?/g,n=/([+-]|\d\d)/g;return function(i,o,r){var s=o.prototype;r.utc=function(t){return new o({date:t,utc:!0,args:arguments})},s.utc=function(e){var n=r(this.toDate(),{locale:this.$L,utc:!0});return e?n.add(this.utcOffset(),t):n},s.local=function(){return r(this.toDate(),{locale:this.$L,utc:!1})};var a=s.parse;s.parse=function(t){t.utc&&(this.$u=!0),this.$utils().u(t.$offset)||(this.$offset=t.$offset),a.call(this,t)};var l=s.init;s.init=function(){if(this.$u){var t=this.$d;this.$y=t.getUTCFullYear(),this.$M=t.getUTCMonth(),this.$D=t.getUTCDate(),this.$W=t.getUTCDay(),this.$H=t.getUTCHours(),this.$m=t.getUTCMinutes(),this.$s=t.getUTCSeconds(),this.$ms=t.getUTCMilliseconds()}else l.call(this)};var c=s.utcOffset;s.utcOffset=function(i,o){var r=this.$utils().u;if(r(i))return this.$u?0:r(this.$offset)?c.call(this):this.$offset;if("string"==typeof i&&(i=function(t){void 0===t&&(t="");var i=t.match(e);if(!i)return null;var o=(""+i[0]).match(n)||["-",0,0],r=o[0],s=60*+o[1]+ +o[2];return 0===s?0:"+"===r?s:-s}(i),null===i))return this;var s=Math.abs(i)<=16?60*i:i,a=this;if(o)return a.$offset=s,a.$u=0===i,a;if(0!==i){var l=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(a=this.local().add(s+l,t)).$offset=s,a.$x.$localOffset=l}else a=this.utc();return a};var u=s.format;s.format=function(t){var e=t||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return u.call(this,e)},s.valueOf=function(){var t=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*t},s.isUTC=function(){return!!this.$u},s.toISOString=function(){return this.toDate().toISOString()},s.toString=function(){return this.toDate().toUTCString()};var h=s.toDate;s.toDate=function(t){return"s"===t&&this.$offset?r(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():h.call(this)};var d=s.diff;s.diff=function(t,e,n){if(t&&this.$u===t.$u)return d.call(this,t,e,n);var i=this.local(),o=r(t).local();return d.call(i,o,e,n)}}}()},7648:t=>{"use strict";var e=Array.prototype.slice,n=Object.prototype.toString;t.exports=function(t){var i=this;if("function"!=typeof i||"[object Function]"!==n.call(i))throw new TypeError("Function.prototype.bind called on incompatible "+i);for(var o,r=e.call(arguments,1),s=Math.max(0,i.length-r.length),a=[],l=0;l<s;l++)a.push("$"+l);if(o=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof o){var n=i.apply(this,r.concat(e.call(arguments)));return Object(n)===n?n:this}return i.apply(t,r.concat(e.call(arguments)))})),i.prototype){var c=function(){};c.prototype=i.prototype,o.prototype=new c,c.prototype=null}return o}},8612:(t,e,n)=>{"use strict";var i=n(7648);t.exports=Function.prototype.bind||i},7141:(t,e,n)=>{"use strict";var i,o=SyntaxError,r=Function,s=TypeError,a=function(t){try{return r('"use strict"; return ('+t+").constructor;")()}catch(t){}},l=Object.getOwnPropertyDescriptor;if(l)try{l({},"")}catch(t){l=null}var c=function(){throw new s},u=l?function(){try{return c}catch(t){try{return l(arguments,"callee").get}catch(t){return c}}}():c,h=n(1405)(),d=Object.getPrototypeOf||function(t){return t.__proto__},p={},f="undefined"==typeof Uint8Array?i:d(Uint8Array),g={"%AggregateError%":"undefined"==typeof AggregateError?i:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?i:ArrayBuffer,"%ArrayIteratorPrototype%":h?d([][Symbol.iterator]()):i,"%AsyncFromSyncIteratorPrototype%":i,"%AsyncFunction%":p,"%AsyncGenerator%":p,"%AsyncGeneratorFunction%":p,"%AsyncIteratorPrototype%":p,"%Atomics%":"undefined"==typeof Atomics?i:Atomics,"%BigInt%":"undefined"==typeof BigInt?i:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?i:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?i:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?i:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?i:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?i:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?i:FinalizationRegistry,"%Function%":r,"%GeneratorFunction%":p,"%Int8Array%":"undefined"==typeof Int8Array?i:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?i:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?i:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":h?d(d([][Symbol.iterator]())):i,"%JSON%":"object"==typeof JSON?JSON:i,"%Map%":"undefined"==typeof Map?i:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&h?d((new Map)[Symbol.iterator]()):i,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?i:Promise,"%Proxy%":"undefined"==typeof Proxy?i:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?i:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?i:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&h?d((new Set)[Symbol.iterator]()):i,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?i:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":h?d(""[Symbol.iterator]()):i,"%Symbol%":h?Symbol:i,"%SyntaxError%":o,"%ThrowTypeError%":u,"%TypedArray%":f,"%TypeError%":s,"%Uint8Array%":"undefined"==typeof Uint8Array?i:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?i:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?i:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?i:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?i:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?i:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?i:WeakSet};try{null.error}catch(t){var m=d(d(t));g["%Error.prototype%"]=m}var _=function t(e){var n;if("%AsyncFunction%"===e)n=a("async function () {}");else if("%GeneratorFunction%"===e)n=a("function* () {}");else if("%AsyncGeneratorFunction%"===e)n=a("async function* () {}");else if("%AsyncGenerator%"===e){var i=t("%AsyncGeneratorFunction%");i&&(n=i.prototype)}else if("%AsyncIteratorPrototype%"===e){var o=t("%AsyncGenerator%");o&&(n=d(o.prototype))}return g[e]=n,n},y={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},v=n(8612),C=n(7642),b=v.call(Function.call,Array.prototype.concat),E=v.call(Function.apply,Array.prototype.splice),S=v.call(Function.call,String.prototype.replace),w=v.call(Function.call,String.prototype.slice),O=v.call(Function.call,RegExp.prototype.exec),x=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,P=/\\(\\)?/g,T=function(t,e){var n,i=t;if(C(y,i)&&(i="%"+(n=y[i])[0]+"%"),C(g,i)){var r=g[i];if(r===p&&(r=_(i)),void 0===r&&!e)throw new s("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:n,name:i,value:r}}throw new o("intrinsic "+t+" does not exist!")};t.exports=function(t,e){if("string"!=typeof t||0===t.length)throw new s("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof e)throw new s('"allowMissing" argument must be a boolean');if(null===O(/^%?[^%]*%?$/,t))throw new o("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=function(t){var e=w(t,0,1),n=w(t,-1);if("%"===e&&"%"!==n)throw new o("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==e)throw new o("invalid intrinsic syntax, expected opening `%`");var i=[];return S(t,x,(function(t,e,n,o){i[i.length]=n?S(o,P,"$1"):e||t})),i}(t),i=n.length>0?n[0]:"",r=T("%"+i+"%",e),a=r.name,c=r.value,u=!1,h=r.alias;h&&(i=h[0],E(n,b([0,1],h)));for(var d=1,p=!0;d<n.length;d+=1){var f=n[d],m=w(f,0,1),_=w(f,-1);if(('"'===m||"'"===m||"`"===m||'"'===_||"'"===_||"`"===_)&&m!==_)throw new o("property names with quotes must have matching quotes");if("constructor"!==f&&p||(u=!0),C(g,a="%"+(i+="."+f)+"%"))c=g[a];else if(null!=c){if(!(f in c)){if(!e)throw new s("base intrinsic for "+t+" exists, but the property is not available.");return}if(l&&d+1>=n.length){var y=l(c,f);c=(p=!!y)&&"get"in y&&!("originalValue"in y.get)?y.get:c[f]}else p=C(c,f),c=c[f];p&&!u&&(g[a]=c)}}return c}},1405:(t,e,n)=>{"use strict";var i="undefined"!=typeof Symbol&&Symbol,o=n(5419);t.exports=function(){return"function"==typeof i&&("function"==typeof Symbol&&("symbol"==typeof i("foo")&&("symbol"==typeof Symbol("bar")&&o())))}},5419:t=>{"use strict";t.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var t={},e=Symbol("test"),n=Object(e);if("string"==typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(e in t[e]=42,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var i=Object.getOwnPropertySymbols(t);if(1!==i.length||i[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(t,e);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},7642:(t,e,n)=>{"use strict";var i=n(8612);t.exports=i.call(Function.call,Object.prototype.hasOwnProperty)},5130:(t,e,n)=>{window,t.exports=function(t,e){return i=[function(e,n){e.exports=t},function(t,n){t.exports=e},function(t,e,n){"use strict";n.r(e),n.d(e,"Chart",(function(){return p})),n.d(e,"default",(function(){return f})),e=n(0);var i=n.n(e);function o(t,e){return function t(e,n,o){function r(r,s){!i.a.isObject(r,!o)||i.a.isClass(r)||i.a.isDOMElement(r)?e[s]=n[s]:e[s]=t(e[s]||i.a.isArray(r)?[]:{},r,o)}return i.a.isArray(n)?n.forEach(r):i.a.objectEach(n,r),e}({},t,e)}var r=n(1);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t){return function(t){if(Array.isArray(t))return l(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){var n;if(t)return"string"==typeof t?l(t,e):"Map"===(n="Object"===(n=Object.prototype.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(t,e):void 0}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function c(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)),i}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){var i,o;i=t,o=n[e],(e=function(t){return t=function(t,e){if("object"!==s(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===e?String:Number)(t);if("object"!==s(n=n.call(t,e||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string"),"symbol"===s(t)?t:String(t)}(e))in i?Object.defineProperty(i,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[e]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var h={template:'<div ref="chart"></div>',props:{constructorType:{type:String,default:"chart"},options:{type:Object,required:!0},callback:Function,updateArgs:{type:Array,default:function(){return[!0,!0]}},highcharts:{type:Object},deepCopyOnUpdate:{type:Boolean,default:!0}}},d=function(t,e){return e.split(".")[0]<3?u(u({},h),{},{render:function(t){return t("div",{ref:"chart"})},beforeDestroy:function(){this.chart&&this.chart.destroy()},watch:{options:{handler:function(t){var e;(e=this.chart).update.apply(e,[o(t,this.deepCopyOnUpdate)].concat(a(this.updateArgs)))},deep:!0}},mounted:function(){var e=this.highcharts||t;this.options&&e[this.constructorType]?this.chart=e[this.constructorType](this.$refs.chart,o(this.options,!0),this.callback||null):this.options?console.warn("'".concat(this.constructorType,"' constructor-type is incorrect. Sometimes this error is caused by the fact, that the corresponding module wasn't imported.")):console.warn('The "options" parameter was not passed.')}}):u(u({},h),{},{render:function(){return Object(r.h)("div",{ref:"chart"})},setup:function(e){var n,i=Object(r.ref)(null);return Object(r.onMounted)((function(){var r=e.highcharts||t;e.options&&r[e.constructorType]?n=r[e.constructorType](i.value,o(e.options,!0),e.callback||null):e.options?console.warn("'".concat(e.constructorType,"' constructor-type is incorrect. Sometimes this error is caused by the fact, that the corresponding module wasn't imported.")):console.warn('The "options" parameter was not passed.')})),Object(r.watch)((function(){return e.options}),(function(t,i){n.update.apply(n,[o(t,e.deepCopyOnUpdate)].concat(a(e.updateArgs)))}),{deep:!0}),Object(r.onBeforeUnmount)((function(){n&&n.destroy()})),{chart:i,props:e}}})},p=d(i.a,r.version||n.n(r).a.version);function f(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};t.component(e.tagName||"highcharts",d(e.highcharts||i.a,t.version))}}],o={},n.m=i,n.c=o,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=2);function n(t){var e;return(o[t]||(e=o[t]={i:t,l:!1,exports:{}},i[t].call(e.exports,e,e.exports,n),e.l=!0,e)).exports}var i,o}(n(8840),n(6765))},8840:function(t,e,n){"use strict";var i,o,r;o="undefined"!=typeof window?window:this,r=function(t){function e(e,n,i,o){e.hasOwnProperty(n)||(e[n]=o.apply(null,i),"function"==typeof CustomEvent&&t.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:n,module:e[n]}})))}var n={};return e(n,"Core/Globals.js",[],(function(){var e;return function(e){e.SVG_NS="http://www.w3.org/2000/svg",e.product="Highcharts",e.version="11.0.1",e.win=void 0!==t?t:{},e.doc=e.win.document,e.svg=e.doc&&e.doc.createElementNS&&!!e.doc.createElementNS(e.SVG_NS,"svg").createSVGRect,e.userAgent=e.win.navigator&&e.win.navigator.userAgent||"",e.isChrome=-1!==e.userAgent.indexOf("Chrome"),e.isFirefox=-1!==e.userAgent.indexOf("Firefox"),e.isMS=/(edge|msie|trident)/i.test(e.userAgent)&&!e.win.opera,e.isSafari=!e.isChrome&&-1!==e.userAgent.indexOf("Safari"),e.isTouchDevice=/(Mobile|Android|Windows Phone)/.test(e.userAgent),e.isWebKit=-1!==e.userAgent.indexOf("AppleWebKit"),e.deg2rad=2*Math.PI/360,e.hasBidiBug=e.isFirefox&&4>parseInt(e.userAgent.split("Firefox/")[1],10),e.hasTouch=!!e.win.TouchEvent,e.marginNames=["plotTop","marginRight","marginBottom","plotLeft"],e.noop=function(){},e.supportsPassiveEvents=function(){let t=!1;if(!e.isMS){const n=Object.defineProperty({},"passive",{get:function(){t=!0}});e.win.addEventListener&&e.win.removeEventListener&&(e.win.addEventListener("testPassive",e.noop,n),e.win.removeEventListener("testPassive",e.noop,n))}return t}(),e.charts=[],e.dateFormats={},e.seriesTypes={},e.symbolSizes={},e.chartCount=0}(e||(e={})),e})),e(n,"Core/Utilities.js",[n["Core/Globals.js"]],(function(t){function e(n,i,o,r){const s=i?"Highcharts error":"Highcharts warning";32===n&&(n=`${s}: Deprecated member`);const a=l(n);let c=a?`${s} #${n}: www.highcharts.com/errors/${n}/`:n.toString();if(void 0!==r){let t="";a&&(c+="?"),m(r,(function(e,n){t+=`\n - ${n}: ${e}`,a&&(c+=encodeURI(n)+"="+encodeURI(e))})),c+=t}y(t,"displayError",{chart:o,code:n,message:c,params:r},(function(){if(i)throw Error(c);b.console&&-1===e.messages.indexOf(c)&&console.warn(c)})),e.messages.push(c)}function n(t,e){return parseInt(t,e||10)}function i(t){return"string"==typeof t}function o(t){return"[object Array]"===(t=Object.prototype.toString.call(t))||"[object Array Iterator]"===t}function r(t,e){return!(!t||"object"!=typeof t||e&&o(t))}function s(t){return r(t)&&"number"==typeof t.nodeType}function a(t){const e=t&&t.constructor;return!(!r(t,!0)||s(t)||!e||!e.name||"Object"===e.name)}function l(t){return"number"==typeof t&&!isNaN(t)&&1/0>t&&-1/0<t}function c(t){return null!=t}function u(t,e,n){const o=i(e)&&!c(n);let r;const s=(e,n)=>{c(e)?t.setAttribute(n,e):o?(r=t.getAttribute(n))||"class"!==n||(r=t.getAttribute(n+"Name")):t.removeAttribute(n)};return i(e)?s(n,e):m(e,s),r}function h(t,e){let n;for(n in t||(t={}),e)t[n]=e[n];return t}function d(){const t=arguments,e=t.length;for(let n=0;n<e;n++){const e=t[n];if(null!=e)return e}}function p(e,n){t.isMS&&!t.svg&&n&&c(n.opacity)&&(n.filter=`alpha(opacity=${100*n.opacity})`),h(e.style,n)}function f(t){return Math.pow(10,Math.floor(Math.log(t)/Math.LN10))}function g(t,e){return 1e14<t?t:parseFloat(t.toPrecision(e||14))}function m(t,e,n){for(const i in t)Object.hasOwnProperty.call(t,i)&&e.call(n||t[i],t[i],i,t)}function _(t,e,n){function i(e,n){const i=t.removeEventListener;i&&i.call(t,e,n,!1)}function o(n){let o,r;t.nodeName&&(e?(o={},o[e]=!0):o=n,m(o,(function(t,e){if(n[e])for(r=n[e].length;r--;)i(e,n[e][r].fn)})))}var r="function"==typeof t&&t.prototype||t;if(Object.hasOwnProperty.call(r,"hcEvents")){const t=r.hcEvents;e?(r=t[e]||[],n?(t[e]=r.filter((function(t){return n!==t.fn})),i(e,n)):(o(t),t[e]=[])):(o(t),delete r.hcEvents)}}function y(e,n,i,o){if(i=i||{},C.createEvent&&(e.dispatchEvent||e.fireEvent&&e!==t)){var r=C.createEvent("Events");r.initEvent(n,!0,!0),i=h(r,i),e.dispatchEvent?e.dispatchEvent(i):e.fireEvent(n,i)}else if(e.hcEvents){i.target||h(i,{preventDefault:function(){i.defaultPrevented=!0},target:e,type:n}),r=[];let t=e,o=!1;for(;t.hcEvents;)Object.hasOwnProperty.call(t,"hcEvents")&&t.hcEvents[n]&&(r.length&&(o=!0),r.unshift.apply(r,t.hcEvents[n])),t=Object.getPrototypeOf(t);o&&r.sort(((t,e)=>t.order-e.order)),r.forEach((t=>{!1===t.fn.call(e,i)&&i.preventDefault()}))}o&&!i.defaultPrevented&&o.call(e,i)}const{charts:v,doc:C,win:b}=t;(e||(e={})).messages=[],Math.easeInOutSine=function(t){return-.5*(Math.cos(Math.PI*t)-1)};var E=Array.prototype.find?function(t,e){return t.find(e)}:function(t,e){let n;const i=t.length;for(n=0;n<i;n++)if(e(t[n],n))return t[n]};let S;m({map:"map",each:"forEach",grep:"filter",reduce:"reduce",some:"some"},(function(n,i){t[i]=function(t){return e(32,!1,void 0,{[`Highcharts.${i}`]:`use Array.${n}`}),Array.prototype[n].apply(t,[].slice.call(arguments,1))}}));const w=function(){const t=Math.random().toString(36).substring(2,9)+"-";let e=0;return function(){return"highcharts-"+(S?"":t)+e++}}();return b.jQuery&&(b.jQuery.fn.highcharts=function(){const e=[].slice.call(arguments);if(this[0])return e[0]?(new(t[i(e[0])?e.shift():"Chart"])(this[0],e[0],e[1]),this):v[u(this[0],"data-highcharts-chart")]}),E={addEvent:function(e,n,i,o={}){var r="function"==typeof e&&e.prototype||e;Object.hasOwnProperty.call(r,"hcEvents")||(r.hcEvents={}),r=r.hcEvents,t.Point&&e instanceof t.Point&&e.series&&e.series.chart&&(e.series.chart.runTrackerClick=!0);const s=e.addEventListener;return s&&s.call(e,n,i,!!t.supportsPassiveEvents&&{passive:void 0===o.passive?-1!==n.indexOf("touch"):o.passive,capture:!1}),r[n]||(r[n]=[]),r[n].push({fn:i,order:"number"==typeof o.order?o.order:1/0}),r[n].sort(((t,e)=>t.order-e.order)),function(){_(e,n,i)}},arrayMax:function(t){let e=t.length,n=t[0];for(;e--;)t[e]>n&&(n=t[e]);return n},arrayMin:function(t){let e=t.length,n=t[0];for(;e--;)t[e]<n&&(n=t[e]);return n},attr:u,clamp:function(t,e,n){return t>e?t<n?t:n:e},cleanRecursively:function t(e,n){const i={};return m(e,(function(o,s){r(e[s],!0)&&!e.nodeType&&n[s]?(o=t(e[s],n[s]),Object.keys(o).length&&(i[s]=o)):(r(e[s])||e[s]!==n[s]||s in e&&!(s in n))&&(i[s]=e[s])})),i},clearTimeout:function(t){c(t)&&clearTimeout(t)},correctFloat:g,createElement:function(t,e,n,i,o){return t=C.createElement(t),e&&h(t,e),o&&p(t,{padding:"0",border:"none",margin:"0"}),n&&p(t,n),i&&i.appendChild(t),t},css:p,defined:c,destroyObjectProperties:function(t,e){m(t,(function(n,i){n&&n!==e&&n.destroy&&n.destroy(),delete t[i]}))},discardElement:function(t){t&&t.parentElement&&t.parentElement.removeChild(t)},erase:function(t,e){let n=t.length;for(;n--;)if(t[n]===e){t.splice(n,1);break}},error:e,extend:h,extendClass:function(t,e){const n=function(){};return h(n.prototype=new t,e),n},find:E,fireEvent:y,getMagnitude:f,getNestedProperty:function(t,e){for(t=t.split(".");t.length&&c(e);){const n=t.shift();if(void 0===n||"__proto__"===n)return;if(!c(e=e[n])||"function"==typeof e||"number"==typeof e.nodeType||e===b)return}return e},getStyle:function t(e,i,o){let r;return"width"===i?(i=Math.min(e.offsetWidth,e.scrollWidth),(o=e.getBoundingClientRect&&e.getBoundingClientRect().width)<i&&o>=i-1&&(i=Math.floor(o)),Math.max(0,i-(t(e,"padding-left",!0)||0)-(t(e,"padding-right",!0)||0))):"height"===i?Math.max(0,Math.min(e.offsetHeight,e.scrollHeight)-(t(e,"padding-top",!0)||0)-(t(e,"padding-bottom",!0)||0)):((e=b.getComputedStyle(e,void 0))&&(r=e.getPropertyValue(i),d(o,"opacity"!==i)&&(r=n(r))),r)},inArray:function(t,n,i){return e(32,!1,void 0,{"Highcharts.inArray":"use Array.indexOf"}),n.indexOf(t,i)},isArray:o,isClass:a,isDOMElement:s,isFunction:function(t){return"function"==typeof t},isNumber:l,isObject:r,isString:i,keys:function(t){return e(32,!1,void 0,{"Highcharts.keys":"use Object.keys"}),Object.keys(t)},merge:function(){let t,e=arguments,n={};const i=function(t,e){return"object"!=typeof t&&(t={}),m(e,(function(n,o){"__proto__"!==o&&"constructor"!==o&&(!r(n,!0)||a(n)||s(n)?t[o]=e[o]:t[o]=i(t[o]||{},n))})),t};!0===e[0]&&(n=e[1],e=Array.prototype.slice.call(e,2));const o=e.length;for(t=0;t<o;t++)n=i(n,e[t]);return n},normalizeTickInterval:function(t,e,n,i,o){let r=t;const s=t/(n=d(n,f(t)));for(e||(e=o?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],!1===i&&(1===n?e=e.filter((function(t){return 0==t%1})):.1>=n&&(e=[1/n]))),i=0;i<e.length&&(r=e[i],!(o&&r*n>=t||!o&&s<=(e[i]+(e[i+1]||e[i]))/2));i++);return g(r*n,-Math.round(Math.log(.001)/Math.LN10))},objectEach:m,offset:function(t){const e=C.documentElement;return{top:(t=t.parentElement||t.parentNode?t.getBoundingClientRect():{top:0,left:0,width:0,height:0}).top+(b.pageYOffset||e.scrollTop)-(e.clientTop||0),left:t.left+(b.pageXOffset||e.scrollLeft)-(e.clientLeft||0),width:t.width,height:t.height}},pad:function(t,e,n){return Array((e||2)+1-String(t).replace("-","").length).join(n||"0")+t},pick:d,pInt:n,pushUnique:function(t,e){return 0>t.indexOf(e)&&!!t.push(e)},relativeLength:function(t,e,n){return/%$/.test(t)?e*parseFloat(t)/100+(n||0):parseFloat(t)},removeEvent:_,splat:function(t){return o(t)?t:[t]},stableSort:function(t,e){const n=t.length;let i,o;for(o=0;o<n;o++)t[o].safeI=o;for(t.sort((function(t,n){return i=e(t,n),0===i?t.safeI-n.safeI:i})),o=0;o<n;o++)delete t[o].safeI},syncTimeout:function(t,e,n){return 0<e?setTimeout(t,e,n):(t.call(0,n),-1)},timeUnits:{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},uniqueKey:w,useSerialIds:function(t){return S=d(t,S)},wrap:function(t,e,n){const i=t[e];t[e]=function(){const t=arguments,e=this;return n.apply(this,[function(){return i.apply(e,arguments.length?arguments:t)}].concat([].slice.call(arguments)))}}},E})),e(n,"Core/Chart/ChartDefaults.js",[],(function(){return{alignThresholds:!1,panning:{enabled:!1,type:"x"},styledMode:!1,borderRadius:0,colorCount:10,allowMutatingData:!0,ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}},reflow:!0,type:"line",zoomBySingleTouch:!1,zooming:{singleTouch:!1,resetButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}}},width:null,height:null,borderColor:"#334eff",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"}})),e(n,"Core/Color/Color.js",[n["Core/Globals.js"],n["Core/Utilities.js"]],(function(t,e){const{isNumber:n,merge:i,pInt:o}=e;class r{static parse(t){return t?new r(t):r.None}constructor(e){this.rgba=[NaN,NaN,NaN,NaN],this.input=e;const n=t.Color;if(n&&n!==r)return new n(e);this.init(e)}init(t){let e,n;if("object"==typeof t&&void 0!==t.stops)this.stops=t.stops.map((t=>new r(t[1])));else if("string"==typeof t){if(this.input=t=r.names[t.toLowerCase()]||t,"#"===t.charAt(0)){var i=t.length,o=parseInt(t.substr(1),16);7===i?e=[(16711680&o)>>16,(65280&o)>>8,255&o,1]:4===i&&(e=[(3840&o)>>4|(3840&o)>>8,(240&o)>>4|240&o,(15&o)<<4|15&o,1])}if(!e)for(o=r.parsers.length;o--&&!e;)n=r.parsers[o],(i=n.regex.exec(t))&&(e=n.parse(i))}e&&(this.rgba=e)}get(t){const e=this.input,o=this.rgba;if("object"==typeof e&&void 0!==this.stops){const n=i(e);return n.stops=[].slice.call(n.stops),this.stops.forEach(((e,i)=>{n.stops[i]=[n.stops[i][0],e.get(t)]})),n}return o&&n(o[0])?"rgb"===t||!t&&1===o[3]?"rgb("+o[0]+","+o[1]+","+o[2]+")":"a"===t?`${o[3]}`:"rgba("+o.join(",")+")":e}brighten(t){const e=this.rgba;if(this.stops)this.stops.forEach((function(e){e.brighten(t)}));else if(n(t)&&0!==t)for(let n=0;3>n;n++)e[n]+=o(255*t),0>e[n]&&(e[n]=0),255<e[n]&&(e[n]=255);return this}setOpacity(t){return this.rgba[3]=t,this}tweenTo(t,e){const i=this.rgba,o=t.rgba;return n(i[0])&&n(o[0])?((t=1!==o[3]||1!==i[3])?"rgba(":"rgb(")+Math.round(o[0]+(i[0]-o[0])*(1-e))+","+Math.round(o[1]+(i[1]-o[1])*(1-e))+","+Math.round(o[2]+(i[2]-o[2])*(1-e))+(t?","+(o[3]+(i[3]-o[3])*(1-e)):"")+")":t.input||"none"}}return r.names={white:"#ffffff",black:"#000000"},r.parsers=[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function(t){return[o(t[1]),o(t[2]),o(t[3]),parseFloat(t[4],10)]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(t){return[o(t[1]),o(t[2]),o(t[3]),1]}}],r.None=new r(""),r})),e(n,"Core/Color/Palettes.js",[],(function(){return{colors:"#2caffe #544fc5 #00e272 #fe6a35 #6b8abc #d568fb #2ee0ca #fa4b42 #feb56a #91e8e1".split(" ")}})),e(n,"Core/Time.js",[n["Core/Globals.js"],n["Core/Utilities.js"]],(function(t,e){const{win:n}=t,{defined:i,error:o,extend:r,isObject:s,merge:a,objectEach:l,pad:c,pick:u,splat:h,timeUnits:d}=e,p=t.isSafari&&n.Intl&&n.Intl.DateTimeFormat.prototype.formatRange,f=t.isSafari&&n.Intl&&!n.Intl.DateTimeFormat.prototype.formatRange;return class{constructor(t){this.options={},this.variableTimezone=this.useUTC=!1,this.Date=n.Date,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.update(t)}get(t,e){if(this.variableTimezone||this.timezoneOffset){const n=e.getTime(),i=n-this.getTimezoneOffset(e);return e.setTime(i),t=e["getUTC"+t](),e.setTime(n),t}return this.useUTC?e["getUTC"+t]():e["get"+t]()}set(t,e,n){if(this.variableTimezone||this.timezoneOffset){if("Milliseconds"===t||"Seconds"===t||"Minutes"===t&&0==this.getTimezoneOffset(e)%36e5)return e["setUTC"+t](n);var i=this.getTimezoneOffset(e);return i=e.getTime()-i,e.setTime(i),e["setUTC"+t](n),t=this.getTimezoneOffset(e),i=e.getTime()+t,e.setTime(i)}return this.useUTC||p&&"FullYear"===t?e["setUTC"+t](n):e["set"+t](n)}update(t={}){const e=u(t.useUTC,!0);this.options=t=a(!0,this.options,t),this.Date=t.Date||n.Date||Date,this.timezoneOffset=(this.useUTC=e)&&t.timezoneOffset||void 0,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.variableTimezone=e&&!(!t.getTimezoneOffset&&!t.timezone)}makeTime(t,e,n,i,o,r){let s,a,l;return this.useUTC?(s=this.Date.UTC.apply(0,arguments),a=this.getTimezoneOffset(s),s+=a,l=this.getTimezoneOffset(s),a!==l?s+=l-a:a-36e5!==this.getTimezoneOffset(s-36e5)||f||(s-=36e5)):s=new this.Date(t,e,u(n,1),u(i,0),u(o,0),u(r,0)).getTime(),s}timezoneOffsetFunction(){const t=this,e=this.options,i=e.getTimezoneOffset,r=e.moment||n.moment;if(!this.useUTC)return function(t){return 6e4*new Date(t.toString()).getTimezoneOffset()};if(e.timezone){if(r)return function(t){return 6e4*-r.tz(t,e.timezone).utcOffset()};o(25)}return this.useUTC&&i?function(t){return 6e4*i(t.valueOf())}:function(){return 6e4*(t.timezoneOffset||0)}}dateFormat(e,n,o){if(!i(n)||isNaN(n))return t.defaultOptions.lang&&t.defaultOptions.lang.invalidDate||"";e=u(e,"%Y-%m-%d %H:%M:%S");const s=this;var a=new this.Date(n);const h=this.get("Hours",a),d=this.get("Day",a),p=this.get("Date",a),f=this.get("Month",a),g=this.get("FullYear",a),m=t.defaultOptions.lang,_=m&&m.weekdays,y=m&&m.shortWeekdays;return a=r({a:y?y[d]:_[d].substr(0,3),A:_[d],d:c(p),e:c(p,2," "),w:d,b:m.shortMonths[f],B:m.months[f],m:c(f+1),o:f+1,y:g.toString().substr(2,2),Y:g,H:c(h),k:h,I:c(h%12||12),l:h%12||12,M:c(this.get("Minutes",a)),p:12>h?"AM":"PM",P:12>h?"am":"pm",S:c(a.getSeconds()),L:c(Math.floor(n%1e3),3)},t.dateFormats),l(a,(function(t,i){for(;-1!==e.indexOf("%"+i);)e=e.replace("%"+i,"function"==typeof t?t.call(s,n):t)})),o?e.substr(0,1).toUpperCase()+e.substr(1):e}resolveDTLFormat(t){return s(t,!0)?t:{main:(t=h(t))[0],from:t[1],to:t[2]}}getTimeTicks(t,e,n,o){const s=this,a=[],l={};var c=new s.Date(e);const h=t.unitRange,p=t.count||1;let f;if(o=u(o,1),i(e)){if(s.set("Milliseconds",c,h>=d.second?0:p*Math.floor(s.get("Milliseconds",c)/p)),h>=d.second&&s.set("Seconds",c,h>=d.minute?0:p*Math.floor(s.get("Seconds",c)/p)),h>=d.minute&&s.set("Minutes",c,h>=d.hour?0:p*Math.floor(s.get("Minutes",c)/p)),h>=d.hour&&s.set("Hours",c,h>=d.day?0:p*Math.floor(s.get("Hours",c)/p)),h>=d.day&&s.set("Date",c,h>=d.month?1:Math.max(1,p*Math.floor(s.get("Date",c)/p))),h>=d.month){s.set("Month",c,h>=d.year?0:p*Math.floor(s.get("Month",c)/p));var g=s.get("FullYear",c)}h>=d.year&&s.set("FullYear",c,g-g%p),h===d.week&&(g=s.get("Day",c),s.set("Date",c,s.get("Date",c)-g+o+(g<o?-7:0))),g=s.get("FullYear",c),o=s.get("Month",c);const t=s.get("Date",c),r=s.get("Hours",c);for(e=c.getTime(),!s.variableTimezone&&s.useUTC||!i(n)||(f=n-e>4*d.month||s.getTimezoneOffset(e)!==s.getTimezoneOffset(n)),e=c.getTime(),c=1;e<n;)a.push(e),e=h===d.year?s.makeTime(g+c*p,0):h===d.month?s.makeTime(g,o+c*p):!f||h!==d.day&&h!==d.week?f&&h===d.hour&&1<p?s.makeTime(g,o,t,r+c*p):e+h*p:s.makeTime(g,o,t+c*p*(h===d.day?1:7)),c++;a.push(e),h<=d.hour&&1e4>a.length&&a.forEach((function(t){0==t%18e5&&"000000000"===s.dateFormat("%H%M%S%L",t)&&(l[t]="day")}))}return a.info=r(t,{higherRanks:l,totalRange:h*p}),a}getDateFormat(t,e,n,i){const o=this.dateFormat("%m-%d %H:%M:%S.%L",e),r={millisecond:15,second:12,minute:9,hour:6,day:3};let s,a="millisecond";for(s in d){if(t===d.week&&+this.dateFormat("%w",e)===n&&"00:00:00.000"===o.substr(6)){s="week";break}if(d[s]>t){s=a;break}if(r[s]&&o.substr(r[s])!=="01-01 00:00:00.000".substr(r[s]))break;"week"!==s&&(a=s)}return this.resolveDTLFormat(i[s]).main}}})),e(n,"Core/Defaults.js",[n["Core/Chart/ChartDefaults.js"],n["Core/Color/Color.js"],n["Core/Globals.js"],n["Core/Color/Palettes.js"],n["Core/Time.js"],n["Core/Utilities.js"]],(function(t,e,n,i,o,r){const{isTouchDevice:s,svg:a}=n,{merge:l}=r,c={colors:i.colors,symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),decimalPoint:".",numericSymbols:"kMGTPE".split(""),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{},time:{Date:void 0,getTimezoneOffset:void 0,timezone:void 0,timezoneOffset:0,useUTC:!0},chart:t,title:{text:"Chart title",align:"center",margin:15,widthAdjust:-44},subtitle:{text:"",align:"center",widthAdjust:-44},caption:{margin:15,text:"",align:"left",verticalAlign:"bottom"},plotOptions:{},legend:{enabled:!0,align:"center",alignColumns:!0,className:"highcharts-no-tooltip",layout:"horizontal",itemMarginBottom:2,itemMarginTop:2,labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{style:{fontSize:"0.8em"},activeColor:"#0022ff",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",cursor:"pointer",fontSize:"0.8em",textDecoration:"none",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#666666",textDecoration:"line-through"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontSize:"0.8em",fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:a,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %e %b, %H:%M:%S.%L",second:"%A, %e %b, %H:%M:%S",minute:"%A, %e %b, %H:%M",hour:"%A, %e %b, %H:%M",day:"%A, %e %b %Y",week:"Week from %A, %e %b %Y",month:"%B %Y",year:"%Y"},footerFormat:"",headerShape:"callout",hideDelay:500,padding:8,shape:"callout",shared:!1,snap:s?25:10,headerFormat:'<span style="font-size: 0.8em">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}"></span> {series.name}: <b>{point.y}</b><br/>',backgroundColor:"#ffffff",borderWidth:void 0,shadow:!0,stickOnContact:!1,style:{color:"#333333",cursor:"default",fontSize:"0.8em"},useHTML:!1},credits:{enabled:!0,href:"https://www.highcharts.com?credits",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"0.6em"},text:"Highcharts.com"}};c.chart.styledMode=!1;const u=new o(c.time);return t={defaultOptions:c,defaultTime:u,getOptions:function(){return c},setOptions:function(t){return l(!0,c,t),(t.time||t.global)&&(n.time?n.time.update(l(c.global,c.time,t.global,t.time)):n.time=u),c}}})),e(n,"Core/Animation/Fx.js",[n["Core/Color/Color.js"],n["Core/Globals.js"],n["Core/Utilities.js"]],(function(t,e,n){const{parse:i}=t,{win:o}=e,{isNumber:r,objectEach:s}=n;class a{constructor(t,e,n){this.pos=NaN,this.options=e,this.elem=t,this.prop=n}dSetter(){var t=this.paths;const e=t&&t[0];t=t&&t[1];const n=this.now||0;let i=[];if(1!==n&&e&&t)if(e.length===t.length&&1>n)for(let o=0;o<t.length;o++){const s=e[o],a=t[o],l=[];for(let t=0;t<a.length;t++){const e=s[t],i=a[t];r(e)&&r(i)&&("A"!==a[0]||4!==t&&5!==t)?l[t]=e+n*(i-e):l[t]=i}i.push(l)}else i=t;else i=this.toD||[];this.elem.attr("d",i,void 0,!0)}update(){const t=this.elem,e=this.prop,n=this.now,i=this.options.step;this[e+"Setter"]?this[e+"Setter"]():t.attr?t.element&&t.attr(e,n,null,!0):t.style[e]=n+this.unit,i&&i.call(t,n,this)}run(t,e,n){const i=this,r=i.options,s=function(t){return!s.stopped&&i.step(t)},l=o.requestAnimationFrame||function(t){setTimeout(t,13)},c=function(){for(let t=0;t<a.timers.length;t++)a.timers[t]()||a.timers.splice(t--,1);a.timers.length&&l(c)};t!==e||this.elem["forceAnimate:"+this.prop]?(this.startTime=+new Date,this.start=t,this.end=e,this.unit=n,this.now=this.start,this.pos=0,s.elem=this.elem,s.prop=this.prop,s()&&1===a.timers.push(s)&&l(c)):(delete r.curAnim[this.prop],r.complete&&0===Object.keys(r.curAnim).length&&r.complete.call(this.elem))}step(t){const e=+new Date,n=this.options,i=this.elem,o=n.complete,r=n.duration,a=n.curAnim;let l;return i.attr&&!i.element?t=!1:t||e>=r+this.startTime?(this.now=this.end,this.pos=1,this.update(),l=a[this.prop]=!0,s(a,(function(t){!0!==t&&(l=!1)})),l&&o&&o.call(i),t=!1):(this.pos=n.easing((e-this.startTime)/r),this.now=this.start+(this.end-this.start)*this.pos,this.update(),t=!0),t}initPath(t,e,n){function i(t,e){for(;t.length<h;){var n=t[0];const i=e[h-t.length];i&&"M"===n[0]&&(t[0]="C"===i[0]?["C",n[1],n[2],n[1],n[2],n[1],n[2]]:["L",n[1],n[2]]),t.unshift(n),l&&(n=t.pop(),t.push(t[t.length-1],n))}}function o(t,e){for(;t.length<h;)if("C"===(e=t[Math.floor(t.length/c)-1].slice())[0]&&(e[1]=e[5],e[2]=e[6]),l){const n=t[Math.floor(t.length/c)].slice();t.splice(t.length/2,0,e,n)}else t.push(e)}const s=t.startX,a=t.endX;n=n.slice();const l=t.isArea,c=l?2:1;let u,h,d;if(!(e=e&&e.slice()))return[n,n];if(s&&a&&a.length){for(t=0;t<s.length;t++){if(s[t]===a[0]){u=t;break}if(s[0]===a[a.length-s.length+t]){u=t,d=!0;break}if(s[s.length-1]===a[a.length-s.length+t]){u=s.length-t;break}}void 0===u&&(e=[])}return e.length&&r(u)&&(h=n.length+u*c,d?(i(e,n),o(n,e)):(i(n,e),o(e,n))),[e,n]}fillSetter(){a.prototype.strokeSetter.apply(this,arguments)}strokeSetter(){this.elem.attr(this.prop,i(this.start).tweenTo(i(this.end),this.pos),void 0,!0)}}return a.timers=[],a})),e(n,"Core/Animation/AnimationUtilities.js",[n["Core/Animation/Fx.js"],n["Core/Utilities.js"]],(function(t,e){function n(t){return l(t)?c({duration:500,defer:0},t):{duration:t?500:0,defer:0}}function i(e,n){let i=t.timers.length;for(;i--;)t.timers[i].elem!==e||n&&n!==t.timers[i].prop||(t.timers[i].stopped=!0)}const{defined:o,getStyle:r,isArray:s,isNumber:a,isObject:l,merge:c,objectEach:u,pick:h}=e;return{animate:function(e,n,o){let h,d,p,f,g="";l(o)||(f=arguments,o={duration:f[2],easing:f[3],complete:f[4]}),a(o.duration)||(o.duration=400),o.easing="function"==typeof o.easing?o.easing:Math[o.easing]||Math.easeInOutSine,o.curAnim=c(n),u(n,(function(a,l){i(e,l),p=new t(e,o,l),d=void 0,"d"===l&&s(n.d)?(p.paths=p.initPath(e,e.pathArray,n.d),p.toD=n.d,h=0,d=1):e.attr?h=e.attr(l):(h=parseFloat(r(e,l))||0,"opacity"!==l&&(g="px")),d||(d=a),"string"==typeof d&&d.match("px")&&(d=d.replace(/px/g,"")),p.run(h,d,g)}))},animObject:n,getDeferredAnimation:function(t,e,i){const r=n(e);let s=0,a=0;return(i?[i]:t.series).forEach((t=>{t=n(t.options.animation),s=e&&o(e.defer)?r.defer:Math.max(s,t.duration+t.defer),a=Math.min(r.duration,t.duration)})),t.renderer.forExport&&(s=0),{defer:Math.max(0,s-a),duration:Math.min(s,a)}},setAnimation:function(t,e){e.renderer.globalAnimation=h(t,e.options.chart.animation,!0)},stop:i}})),e(n,"Core/Renderer/HTML/AST.js",[n["Core/Globals.js"],n["Core/Utilities.js"]],(function(t,e){const{SVG_NS:n,win:i}=t,{attr:o,createElement:r,css:s,error:a,isFunction:l,isString:c,objectEach:u,splat:h}=e;({trustedTypes:e}=i);const d=e&&l(e.createPolicy)&&e.createPolicy("highcharts",{createHTML:t=>t});e=d?d.createHTML(""):"";try{var p=!!(new DOMParser).parseFromString(e,"text/html")}catch(t){p=!1}const f=p;class g{static filterUserAttributes(t){return u(t,((e,n)=>{let i=!0;-1===g.allowedAttributes.indexOf(n)&&(i=!1),-1!==["background","dynsrc","href","lowsrc","src"].indexOf(n)&&(i=c(e)&&g.allowedReferences.some((t=>0===e.indexOf(t)))),i||(a(33,!1,void 0,{"Invalid attribute in config":`${n}`}),delete t[n]),c(e)&&t[n]&&(t[n]=e.replace(/</g,"&lt;"))})),t}static parseStyle(t){return t.split(";").reduce(((t,e)=>{const n=(e=e.split(":").map((t=>t.trim()))).shift();return n&&e.length&&(t[n.replace(/-([a-z])/g,(t=>t[1].toUpperCase()))]=e.join(":")),t}),{})}static setElementHTML(t,e){t.innerHTML=g.emptyHTML,e&&new g(e).addToDOM(t)}constructor(t){this.nodes="string"==typeof t?this.parseMarkup(t):t}addToDOM(e){return function e(i,r){let l;return h(i).forEach((function(i){var c=i.tagName;const h=i.textContent?t.doc.createTextNode(i.textContent):void 0,d=g.bypassHTMLFiltering;let p;if(c)if("#text"===c)p=h;else if(-1!==g.allowedTags.indexOf(c)||d){c=t.doc.createElementNS("svg"===c?n:r.namespaceURI||n,c);const a=i.attributes||{};u(i,(function(t,e){"tagName"!==e&&"attributes"!==e&&"children"!==e&&"style"!==e&&"textContent"!==e&&(a[e]=t)})),o(c,d?a:g.filterUserAttributes(a)),i.style&&s(c,i.style),h&&c.appendChild(h),e(i.children||[],c),p=c}else a(33,!1,void 0,{"Invalid tagName in config":c});p&&r.appendChild(p),l=p})),l}(this.nodes,e)}parseMarkup(t){const e=[];if(t=t.trim().replace(/ style=(["'])/g," data-style=$1"),f)t=(new DOMParser).parseFromString(d?d.createHTML(t):t,"text/html");else{const e=r("div");e.innerHTML=t,t={body:e}}const n=(t,e)=>{var i=t.nodeName.toLowerCase();const o={tagName:i};if("#text"===i&&(o.textContent=t.textContent||""),i=t.attributes){const t={};[].forEach.call(i,(e=>{"data-style"===e.name?o.style=g.parseStyle(e.value):t[e.name]=e.value})),o.attributes=t}if(t.childNodes.length){const e=[];[].forEach.call(t.childNodes,(t=>{n(t,e)})),e.length&&(o.children=e)}e.push(o)};return[].forEach.call(t.body.childNodes,(t=>n(t,e))),e}}return g.allowedAttributes="alt aria-controls aria-describedby aria-expanded aria-haspopup aria-hidden aria-label aria-labelledby aria-live aria-pressed aria-readonly aria-roledescription aria-selected class clip-path color colspan cx cy d dx dy disabled fill flood-color flood-opacity height href id in markerHeight markerWidth offset opacity orient padding paddingLeft paddingRight patternUnits r refX refY role scope slope src startOffset stdDeviation stroke stroke-linecap stroke-width style tableValues result rowspan summary target tabindex text-align text-anchor textAnchor textLength title type valign width x x1 x2 xlink:href y y1 y2 zIndex".split(" "),g.allowedReferences="https:// http:// mailto: / ../ ./ #".split(" "),g.allowedTags="a abbr b br button caption circle clipPath code dd defs div dl dt em feComponentTransfer feDropShadow feFuncA feFuncB feFuncG feFuncR feGaussianBlur feOffset feMerge feMergeNode filter h1 h2 h3 h4 h5 h6 hr i img li linearGradient marker ol p path pattern pre rect small span stop strong style sub sup svg table text textPath thead title tbody tspan td th tr u ul #text".split(" "),g.emptyHTML=e,g.bypassHTMLFiltering=!1,g})),e(n,"Core/FormatUtilities.js",[n["Core/Defaults.js"],n["Core/Utilities.js"]],(function(t,e){function n(t,e,n,o){t=+t||0,e=+e;const r=i.lang;var c=(t.toString().split(".")[1]||"").split("e")[0].length;const u=t.toString().split("e"),h=e;if(-1===e)e=Math.min(c,20);else if(s(e)){if(e&&u[1]&&0>u[1]){var d=e+ +u[1];0<=d?(u[0]=(+u[0]).toExponential(d).split("e")[0],e=d):(u[0]=u[0].split(".")[0]||0,t=20>e?(u[0]*Math.pow(10,u[1])).toFixed(e):0,u[1]=0)}}else e=2;d=(Math.abs(u[1]?u[0]:t)+Math.pow(10,-Math.max(e,c)-1)).toFixed(e);const p=3<(c=String(l(d))).length?c.length%3:0;return n=a(n,r.decimalPoint),o=a(o,r.thousandsSep),t=(0>t?"-":"")+(p?c.substr(0,p)+o:""),t=0>+u[1]&&!h?"0":t+c.substr(p).replace(/(\d{3})(?=\d)/g,"$1"+o),e&&(t+=n+d.slice(-e)),u[1]&&0!=+t&&(t+="e"+u[1]),t}const{defaultOptions:i,defaultTime:o}=t,{getNestedProperty:r,isNumber:s,pick:a,pInt:l}=e;return{dateFormat:function(t,e,n){return o.dateFormat(t,e,n)},format:function(t,e,s){var a="{";let l,c=!1;const u=/f$/,h=/\.([0-9])/,d=i.lang,p=s&&s.time||o;s=s&&s.numberFormatter||n;const f=[];for(;t&&(l=t.indexOf(a),-1!==l);){var g=t.slice(0,l);if(c){if(g=g.split(":"),a=r(g.shift()||"",e),g.length&&"number"==typeof a)if(g=g.join(":"),u.test(g)){const t=parseInt((g.match(h)||["","-1"])[1],10);null!==a&&(a=s(a,t,d.decimalPoint,-1<g.indexOf(",")?d.thousandsSep:""))}else a=p.dateFormat(g,a);f.push(a)}else f.push(g);t=t.slice(l+1),a=(c=!c)?"}":"{"}return f.push(t),f.join("")},numberFormat:n}})),e(n,"Core/Renderer/RendererUtilities.js",[n["Core/Utilities.js"]],(function(t){const{clamp:e,pick:n,stableSort:i}=t;var o;return function(t){t.distribute=function t(o,r,s){const a=o;var l=a.reducedLen||r,c=(t,e)=>(e.rank||0)-(t.rank||0);const u=(t,e)=>t.target-e.target;let h,d=!0,p=[],f=0;for(h=o.length;h--;)f+=o[h].size;if(f>l){for(i(o,c),f=h=0;f<=l;)f+=o[h].size,h++;p=o.splice(h-1,o.length)}for(i(o,u),o=o.map((t=>({size:t.size,targets:[t.target],align:n(t.align,.5)})));d;){for(h=o.length;h--;)l=o[h],c=(Math.min.apply(0,l.targets)+Math.max.apply(0,l.targets))/2,l.pos=e(c-l.size*l.align,0,r-l.size);for(h=o.length,d=!1;h--;)0<h&&o[h-1].pos+o[h-1].size>o[h].pos&&(o[h-1].size+=o[h].size,o[h-1].targets=o[h-1].targets.concat(o[h].targets),o[h-1].align=.5,o[h-1].pos+o[h-1].size>r&&(o[h-1].pos=r-o[h-1].size),o.splice(h,1),d=!0)}return a.push.apply(a,p),h=0,o.some((e=>{let n=0;return(e.targets||[]).some((()=>(a[h].pos=e.pos+n,void 0!==s&&Math.abs(a[h].pos-a[h].target)>s?(a.slice(0,h+1).forEach((t=>delete t.pos)),a.reducedLen=(a.reducedLen||r)-.1*r,a.reducedLen>.1*r&&t(a,r,s),!0):(n+=a[h].size,h++,!1))))})),i(a,u),a}}(o||(o={})),o})),e(n,"Core/Renderer/SVG/SVGElement.js",[n["Core/Animation/AnimationUtilities.js"],n["Core/Color/Color.js"],n["Core/Globals.js"],n["Core/Utilities.js"]],(function(t,e,n,i){const{animate:o,animObject:r,stop:s}=t,{deg2rad:a,doc:l,svg:c,SVG_NS:u,win:h}=n,{addEvent:d,attr:p,createElement:f,css:g,defined:m,erase:_,extend:y,fireEvent:v,isArray:C,isFunction:b,isObject:E,isString:S,merge:w,objectEach:O,pick:x,pInt:P,syncTimeout:T,uniqueKey:M}=i;class D{constructor(){this.element=void 0,this.onEvents={},this.opacity=1,this.renderer=void 0,this.SVG_NS=u}_defaultGetter(t){return t=x(this[t+"Value"],this[t],this.element?this.element.getAttribute(t):null,0),/^[\-0-9\.]+$/.test(t)&&(t=parseFloat(t)),t}_defaultSetter(t,e,n){n.setAttribute(e,t)}add(t){const e=this.renderer,n=this.element;let i;return t&&(this.parentGroup=t),void 0!==this.textStr&&"text"===this.element.nodeName&&e.buildText(this),this.added=!0,(!t||t.handleZ||this.zIndex)&&(i=this.zIndexSetter()),i||(t?t.element:e.box).appendChild(n),this.onAdd&&this.onAdd(),this}addClass(t,e){const n=e?"":this.attr("class")||"";return t=(t||"").split(/ /g).reduce((function(t,e){return-1===n.indexOf(e)&&t.push(e),t}),n?[n]:[]).join(" "),t!==n&&this.attr("class",t),this}afterSetters(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)}align(t,e,n){const i={};var o,r=this.renderer,s=r.alignedObjects;let a,l;t?(this.alignOptions=t,this.alignByTranslate=e,(!n||S(n))&&(this.alignTo=o=n||"renderer",_(s,this),s.push(this),n=void 0)):(t=this.alignOptions,e=this.alignByTranslate,o=this.alignTo),n=x(n,r[o],"scrollablePlotBox"===o?r.plotBox:void 0,r),o=t.align;const c=t.verticalAlign;return r=(n.x||0)+(t.x||0),s=(n.y||0)+(t.y||0),"right"===o?a=1:"center"===o&&(a=2),a&&(r+=(n.width-(t.width||0))/a),i[e?"translateX":"x"]=Math.round(r),"bottom"===c?l=1:"middle"===c&&(l=2),l&&(s+=(n.height-(t.height||0))/l),i[e?"translateY":"y"]=Math.round(s),this[this.placed?"animate":"attr"](i),this.placed=!0,this.alignAttr=i,this}alignSetter(t){const e={left:"start",center:"middle",right:"end"};e[t]&&(this.alignValue=t,this.element.setAttribute("text-anchor",e[t]))}animate(t,e,n){const i=r(x(e,this.renderer.globalAnimation,!0));return e=i.defer,l.hidden&&(i.duration=0),0!==i.duration?(n&&(i.complete=n),T((()=>{this.element&&o(this,t,i)}),e)):(this.attr(t,void 0,n||i.complete),O(t,(function(t,e){i.step&&i.step.call(this,t,{prop:e,pos:1,elem:this})}),this)),this}applyTextOutline(t){const e=this.element;-1!==t.indexOf("contrast")&&(t=t.replace(/contrast/g,this.renderer.getContrast(e.style.fill)));var i=t.split(" ");if(t=i[i.length-1],(i=i[0])&&"none"!==i&&n.svg){this.fakeTS=!0,i=i.replace(/(^[\d\.]+)(.*?)$/g,(function(t,e,n){return 2*Number(e)+n})),this.removeTextOutline();const n=l.createElementNS(u,"tspan");p(n,{class:"highcharts-text-outline",fill:t,stroke:t,"stroke-width":i,"stroke-linejoin":"round"}),t=e.querySelector("textPath")||e,[].forEach.call(t.childNodes,(t=>{const e=t.cloneNode(!0);e.removeAttribute&&["fill","stroke","stroke-width","stroke"].forEach((t=>e.removeAttribute(t))),n.appendChild(e)}));let o=0;[].forEach.call(t.querySelectorAll("text tspan"),(t=>{o+=Number(t.getAttribute("dy"))})),(i=l.createElementNS(u,"tspan")).textContent="",p(i,{x:Number(e.getAttribute("x")),dy:-o}),n.appendChild(i),t.insertBefore(n,t.firstChild)}}attr(t,e,n,i){const o=this.element,r=D.symbolCustomAttribs;let a,l,c,u,h=this;return"string"==typeof t&&void 0!==e&&(a=t,(t={})[a]=e),"string"==typeof t?h=(this[t+"Getter"]||this._defaultGetter).call(this,t,o):(O(t,(function(e,n){c=!1,i||s(this,n),this.symbolName&&-1!==r.indexOf(n)&&(l||(this.symbolAttr(t),l=!0),c=!0),!this.rotation||"x"!==n&&"y"!==n||(this.doTransform=!0),c||(u=this[n+"Setter"]||this._defaultSetter,u.call(this,e,n,o))}),this),this.afterSetters()),n&&n.call(this),h}clip(t){return this.attr("clip-path",t?"url("+this.renderer.url+"#"+t.id+")":"none")}crisp(t,e){e=e||t.strokeWidth||0;const n=Math.round(e)%2/2;return t.x=Math.floor(t.x||this.x||0)+n,t.y=Math.floor(t.y||this.y||0)+n,t.width=Math.floor((t.width||this.width||0)-2*n),t.height=Math.floor((t.height||this.height||0)-2*n),m(t.strokeWidth)&&(t.strokeWidth=e),t}complexColor(t,n,i){const o=this.renderer;let r,s,a,l,c,u,h,d,p,f,g,_=[];v(this.renderer,"complexColor",{args:arguments},(function(){if(t.radialGradient?s="radialGradient":t.linearGradient&&(s="linearGradient"),s){if(a=t[s],c=o.gradients,u=t.stops,p=i.radialReference,C(a)&&(t[s]=a={x1:a[0],y1:a[1],x2:a[2],y2:a[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===s&&p&&!m(a.gradientUnits)&&(l=a,a=w(a,o.getRadialAttr(p,l),{gradientUnits:"userSpaceOnUse"})),O(a,(function(t,e){"id"!==e&&_.push(e,t)})),O(u,(function(t){_.push(t)})),_=_.join(","),c[_])f=c[_].attr("id");else{a.id=f=M();const t=c[_]=o.createElement(s).attr(a).add(o.defs);t.radAttr=l,t.stops=[],u.forEach((function(n){0===n[1].indexOf("rgba")?(r=e.parse(n[1]),h=r.get("rgb"),d=r.get("a")):(h=n[1],d=1),n=o.createElement("stop").attr({offset:n[0],"stop-color":h,"stop-opacity":d}).add(t),t.stops.push(n)}))}g="url("+o.url+"#"+f+")",i.setAttribute(n,g),i.gradient=_,t.toString=function(){return g}}}))}css(t){const e=this.styles,n={},i=this.element;let o,r=!e;if(t.color&&(t.fill=t.color),e&&O(t,(function(t,i){e&&e[i]!==t&&(n[i]=t,r=!0)})),r){e&&(t=y(e,n)),null===t.width||"auto"===t.width?delete this.textWidth:"text"===i.nodeName.toLowerCase()&&t.width&&(o=this.textWidth=P(t.width)),this.styles=t,o&&!c&&this.renderer.forExport&&delete t.width;const r=w(t);i.namespaceURI===this.SVG_NS&&["textOutline","textOverflow","width"].forEach((t=>r&&delete r[t])),g(i,r)}return this.added&&("text"===this.element.nodeName&&this.renderer.buildText(this),t.textOutline&&this.applyTextOutline(t.textOutline)),this}dashstyleSetter(t){let e=this["stroke-width"];if("inherit"===e&&(e=1),t=t&&t.toLowerCase()){const n=t.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(t=n.length;t--;)n[t]=""+P(n[t])*x(e,NaN);t=n.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",t)}}destroy(){const t=this;var e=t.element||{};const n=t.renderer;var i=e.ownerSVGElement;let o="SPAN"===e.nodeName&&t.parentGroup||void 0;if(e.onclick=e.onmouseout=e.onmouseover=e.onmousemove=e.point=null,s(t),t.clipPath&&i){const e=t.clipPath;[].forEach.call(i.querySelectorAll("[clip-path],[CLIP-PATH]"),(function(t){-1<t.getAttribute("clip-path").indexOf(e.element.id)&&t.removeAttribute("clip-path")})),t.clipPath=e.destroy()}if(t.stops){for(i=0;i<t.stops.length;i++)t.stops[i].destroy();t.stops.length=0,t.stops=void 0}for(t.safeRemoveChild(e);o&&o.div&&0===o.div.childNodes.length;)e=o.parentGroup,t.safeRemoveChild(o.div),delete o.div,o=e;t.alignTo&&_(n.alignedObjects,t),O(t,(function(e,n){t[n]&&t[n].parentGroup===t&&t[n].destroy&&t[n].destroy(),delete t[n]}))}dSetter(t,e,n){C(t)&&("string"==typeof t[0]&&(t=this.renderer.pathToSegments(t)),this.pathArray=t,t=t.reduce(((t,e,n)=>e&&e.join?(n?t+" ":"")+e.join(" "):(e||"").toString()),"")),/(NaN| {2}|^$)/.test(t)&&(t="M 0 0"),this[e]!==t&&(n.setAttribute(e,t),this[e]=t)}fadeOut(t){const e=this;e.animate({opacity:0},{duration:x(t,150),complete:function(){e.hide()}})}fillSetter(t,e,n){"string"==typeof t?n.setAttribute(e,t):t&&this.complexColor(t,e,n)}getBBox(t,e){const{alignValue:n,element:i,renderer:o,styles:r,textStr:s}=this,{cache:l,cacheKeys:c}=o;var u=i.namespaceURI===this.SVG_NS;e=x(e,this.rotation,0);var h=o.styledMode?i&&D.prototype.getStyle.call(i,"font-size"):r&&r.fontSize;let d,p;if(m(s)&&(p=s.toString(),-1===p.indexOf("<")&&(p=p.replace(/[0-9]/g,"0")),p+=["",o.rootFontSize,h,e,this.textWidth,n,r&&r.textOverflow,r&&r.fontWeight].join()),p&&!t&&(d=l[p]),!d){if(u||o.forExport){try{var f=this.fakeTS&&function(t){const e=i.querySelector(".highcharts-text-outline");e&&g(e,{display:t})};b(f)&&f("none"),d=i.getBBox?y({},i.getBBox()):{width:i.offsetWidth,height:i.offsetHeight,x:0,y:0},b(f)&&f("")}catch(t){}(!d||0>d.width)&&(d={x:0,y:0,width:0,height:0})}else d=this.htmlGetBBox();if(f=d.width,t=d.height,u&&(d.height=t={"11px,17":14,"13px,20":16}[`${h||""},${Math.round(t)}`]||t),e){u=Number(i.getAttribute("y")||0)-d.y,h={right:1,center:.5}[n||0]||0;var _=e*a,v=(e-90)*a,C=f*Math.cos(_);e=f*Math.sin(_);var E=Math.cos(v);_=Math.sin(v),C=(E=(v=(f=d.x+h*(f-C)+u*E)+C)-t*E)-C,e=(t=(h=(u=d.y+u-h*e+u*_)+e)-t*_)-e,d.x=Math.min(f,v,E,C),d.y=Math.min(u,h,t,e),d.width=Math.max(f,v,E,C)-d.x,d.height=Math.max(u,h,t,e)-d.y}}if(p&&(""===s||0<d.height)){for(;250<c.length;)delete l[c.shift()];l[p]||c.push(p),l[p]=d}return d}getStyle(t){return h.getComputedStyle(this.element||this,"").getPropertyValue(t)}hasClass(t){return-1!==(""+this.attr("class")).split(" ").indexOf(t)}hide(){return this.attr({visibility:"hidden"})}htmlGetBBox(){return{height:0,width:0,x:0,y:0}}init(t,e){this.element="span"===e?f(e):l.createElementNS(this.SVG_NS,e),this.renderer=t,v(this,"afterInit")}on(t,e){const{onEvents:n}=this;return n[t]&&n[t](),n[t]=d(this.element,t,e),this}opacitySetter(t,e,n){this.opacity=t=Number(Number(t).toFixed(3)),n.setAttribute(e,t)}removeClass(t){return this.attr("class",(""+this.attr("class")).replace(S(t)?new RegExp(`(^| )${t}( |$)`):t," ").replace(/ +/g," ").trim())}removeTextOutline(){const t=this.element.querySelector("tspan.highcharts-text-outline");t&&this.safeRemoveChild(t)}safeRemoveChild(t){const e=t.parentNode;e&&e.removeChild(t)}setRadialReference(t){const e=this.element.gradient&&this.renderer.gradients[this.element.gradient];return this.element.radialReference=t,e&&e.radAttr&&e.animate(this.renderer.getRadialAttr(t,e.radAttr)),this}setTextPath(t,e){e=w(!0,{enabled:!0,attributes:{dy:-5,startOffset:"50%",textAnchor:"middle"}},e);const n=this.renderer.url,i=this.text||this,o=i.textPath,{attributes:r,enabled:s}=e;return t=t||o&&o.path,o&&o.undo(),t&&s?(e=d(i,"afterModifyTree",(e=>{if(t&&s){let s=t.attr("id");s||t.attr("id",s=M());var o={x:0,y:0};m(r.dx)&&(o.dx=r.dx,delete r.dx),m(r.dy)&&(o.dy=r.dy,delete r.dy),i.attr(o),this.attr({transform:""}),this.box&&(this.box=this.box.destroy()),o=e.nodes.slice(0),e.nodes.length=0,e.nodes[0]={tagName:"textPath",attributes:y(r,{"text-anchor":r.textAnchor,href:`${n}#${s}`}),children:o}}})),i.textPath={path:t,undo:e}):(i.attr({dx:0,dy:0}),delete i.textPath),this.added&&(i.textCache="",this.renderer.buildText(i)),this}shadow(t){var e;const{renderer:n}=this,i=w(90===(null===(e=this.parentGroup)||void 0===e?void 0:e.rotation)?{offsetX:-1,offsetY:-1}:{},E(t)?t:{});return e=n.shadowDefinition(i),this.attr({filter:t?`url(${n.url}#${e})`:"none"})}show(t=!0){return this.attr({visibility:t?"inherit":"visible"})}"stroke-widthSetter"(t,e,n){this[e]=t,n.setAttribute(e,t)}strokeWidth(){if(!this.renderer.styledMode)return this["stroke-width"]||0;const t=this.getStyle("stroke-width");let e,n=0;return t.indexOf("px")===t.length-2?n=P(t):""!==t&&(e=l.createElementNS(u,"rect"),p(e,{width:t,"stroke-width":0}),this.element.parentNode.appendChild(e),n=e.getBBox().width,e.parentNode.removeChild(e)),n}symbolAttr(t){const e=this;D.symbolCustomAttribs.forEach((function(n){e[n]=x(t[n],e[n])})),e.attr({d:e.renderer.symbols[e.symbolName](e.x,e.y,e.width,e.height,e)})}textSetter(t){t!==this.textStr&&(delete this.textPxLength,this.textStr=t,this.added&&this.renderer.buildText(this))}titleSetter(t){const e=this.element,n=e.getElementsByTagName("title")[0]||l.createElementNS(this.SVG_NS,"title");e.insertBefore?e.insertBefore(n,e.firstChild):e.appendChild(n),n.textContent=String(x(t,"")).replace(/<[^>]*>/g,"").replace(/&lt;/g,"<").replace(/&gt;/g,">")}toFront(){const t=this.element;return t.parentNode.appendChild(t),this}translate(t,e){return this.attr({translateX:t,translateY:e})}updateTransform(){const{element:t,matrix:e,rotation:n=0,scaleX:i,scaleY:o,translateX:r=0,translateY:s=0}=this,a=["translate("+r+","+s+")"];m(e)&&a.push("matrix("+e.join(",")+")"),n&&a.push("rotate("+n+" "+x(this.rotationOriginX,t.getAttribute("x"),0)+" "+x(this.rotationOriginY,t.getAttribute("y")||0)+")"),(m(i)||m(o))&&a.push("scale("+x(i,1)+" "+x(o,1)+")"),a.length&&!(this.text||this).textPath&&t.setAttribute("transform",a.join(" "))}visibilitySetter(t,e,n){"inherit"===t?n.removeAttribute(e):this[e]!==t&&n.setAttribute(e,t),this[e]=t}xGetter(t){return"circle"===this.element.nodeName&&("x"===t?t="cx":"y"===t&&(t="cy")),this._defaultGetter(t)}zIndexSetter(t,e){var n=this.renderer,i=this.parentGroup;const o=(i||n).element||n.box,r=this.element;n=o===n.box;let s,a=!1;var l=this.added;let c;if(m(t)?(r.setAttribute("data-z-index",t),t=+t,this[e]===t&&(l=!1)):m(this[e])&&r.removeAttribute("data-z-index"),this[e]=t,l){for((t=this.zIndex)&&i&&(i.handleZ=!0),c=(e=o.childNodes).length-1;0<=c&&!a;c--)l=(i=e[c]).getAttribute("data-z-index"),s=!m(l),i!==r&&(0>t&&s&&!n&&!c?(o.insertBefore(r,e[c]),a=!0):(P(l)<=t||s&&(!m(t)||0<=t))&&(o.insertBefore(r,e[c+1]),a=!0));a||(o.insertBefore(r,e[n?3:0]),a=!0)}return a}}return D.symbolCustomAttribs="anchorX anchorY clockwise end height innerR r start width x y".split(" "),D.prototype.strokeSetter=D.prototype.fillSetter,D.prototype.yGetter=D.prototype.xGetter,D.prototype.matrixSetter=D.prototype.rotationOriginXSetter=D.prototype.rotationOriginYSetter=D.prototype.rotationSetter=D.prototype.scaleXSetter=D.prototype.scaleYSetter=D.prototype.translateXSetter=D.prototype.translateYSetter=D.prototype.verticalAlignSetter=function(t,e){this[e]=t,this.doTransform=!0},D})),e(n,"Core/Renderer/RendererRegistry.js",[n["Core/Globals.js"]],(function(t){var e;return function(e){let n;e.rendererTypes={},e.getRendererType=function(t=n){return e.rendererTypes[t]||e.rendererTypes[n]},e.registerRendererType=function(i,o,r){e.rendererTypes[i]=o,n&&!r||(n=i,t.Renderer=o)}}(e||(e={})),e})),e(n,"Core/Renderer/SVG/SVGLabel.js",[n["Core/Renderer/SVG/SVGElement.js"],n["Core/Utilities.js"]],(function(t,e){const{defined:n,extend:i,isNumber:o,merge:r,pick:s,removeEvent:a}=e;class l extends t{constructor(t,e,n,i,o,r,s,a,c,u){let h;super(),this.paddingRightSetter=this.paddingLeftSetter=this.paddingSetter,this.init(t,"g"),this.textStr=e,this.x=n,this.y=i,this.anchorX=r,this.anchorY=s,this.baseline=c,this.className=u,this.addClass("button"===u?"highcharts-no-tooltip":"highcharts-label"),u&&this.addClass("highcharts-"+u),this.text=t.text(void 0,0,0,a).attr({zIndex:1}),"string"==typeof o&&((h=/^url\((.*?)\)$/.test(o))||this.renderer.symbols[o])&&(this.symbolKey=o),this.bBox=l.emptyBBox,this.padding=3,this.baselineOffset=0,this.needsBox=t.styledMode||h,this.deferredAttr={},this.alignFactor=0}alignSetter(t){(t={left:0,center:.5,right:1}[t])!==this.alignFactor&&(this.alignFactor=t,this.bBox&&o(this.xSetting)&&this.attr({x:this.xSetting}))}anchorXSetter(t,e){this.anchorX=t,this.boxAttr(e,Math.round(t)-this.getCrispAdjust()-this.xSetting)}anchorYSetter(t,e){this.anchorY=t,this.boxAttr(e,t-this.ySetting)}boxAttr(t,e){this.box?this.box.attr(t,e):this.deferredAttr[t]=e}css(e){if(e){const t={};e=r(e),l.textProps.forEach((n=>{void 0!==e[n]&&(t[n]=e[n],delete e[n])})),this.text.css(t),"fontSize"in t||"fontWeight"in t?this.updateTextPadding():("width"in t||"textOverflow"in t)&&this.updateBoxSize()}return t.prototype.css.call(this,e)}destroy(){a(this.element,"mouseenter"),a(this.element,"mouseleave"),this.text&&this.text.destroy(),this.box&&(this.box=this.box.destroy()),t.prototype.destroy.call(this)}fillSetter(t,e){t&&(this.needsBox=!0),this.fill=t,this.boxAttr(e,t)}getBBox(){this.textStr&&0===this.bBox.width&&0===this.bBox.height&&this.updateBoxSize();const t=this.padding,e=s(this.paddingLeft,t);return{width:this.width,height:this.height,x:this.bBox.x-e,y:this.bBox.y-t}}getCrispAdjust(){return this.renderer.styledMode&&this.box?this.box.strokeWidth()%2/2:(this["stroke-width"]?parseInt(this["stroke-width"],10):0)%2/2}heightSetter(t){this.heightSetting=t}onAdd(){this.text.add(this),this.attr({text:s(this.textStr,""),x:this.x||0,y:this.y||0}),this.box&&n(this.anchorX)&&this.attr({anchorX:this.anchorX,anchorY:this.anchorY})}paddingSetter(t,e){o(t)?t!==this[e]&&(this[e]=t,this.updateTextPadding()):this[e]=void 0}rSetter(t,e){this.boxAttr(e,t)}strokeSetter(t,e){this.stroke=t,this.boxAttr(e,t)}"stroke-widthSetter"(t,e){t&&(this.needsBox=!0),this["stroke-width"]=t,this.boxAttr(e,t)}"text-alignSetter"(t){this.textAlign=t}textSetter(t){void 0!==t&&this.text.attr({text:t}),this.updateTextPadding()}updateBoxSize(){var t=this.text;const e={},r=this.padding,s=this.bBox=o(this.widthSetting)&&o(this.heightSetting)&&!this.textAlign||!n(t.textStr)?l.emptyBBox:t.getBBox();this.width=this.getPaddedWidth(),this.height=(this.heightSetting||s.height||0)+2*r;const a=this.renderer.fontMetrics(t);this.baselineOffset=r+Math.min((this.text.firstLineMetrics||a).b,s.height||1/0),this.heightSetting&&(this.baselineOffset+=(this.heightSetting-a.h)/2),this.needsBox&&!t.textPath&&(this.box||((t=this.box=this.symbolKey?this.renderer.symbol(this.symbolKey):this.renderer.rect()).addClass(("button"===this.className?"":"highcharts-label-box")+(this.className?" highcharts-"+this.className+"-box":"")),t.add(this)),t=this.getCrispAdjust(),e.x=t,e.y=(this.baseline?-this.baselineOffset:0)+t,e.width=Math.round(this.width),e.height=Math.round(this.height),this.box.attr(i(e,this.deferredAttr)),this.deferredAttr={})}updateTextPadding(){const t=this.text;if(!t.textPath){this.updateBoxSize();const e=this.baseline?0:this.baselineOffset;let i=s(this.paddingLeft,this.padding);n(this.widthSetting)&&this.bBox&&("center"===this.textAlign||"right"===this.textAlign)&&(i+={center:.5,right:1}[this.textAlign]*(this.widthSetting-this.bBox.width)),i===t.x&&e===t.y||(t.attr("x",i),t.hasBoxWidthChanged&&(this.bBox=t.getBBox(!0)),void 0!==e&&t.attr("y",e)),t.x=i,t.y=e}}widthSetter(t){this.widthSetting=o(t)?t:void 0}getPaddedWidth(){var t=this.padding;const e=s(this.paddingLeft,t);return t=s(this.paddingRight,t),(this.widthSetting||this.bBox.width||0)+e+t}xSetter(t){this.x=t,this.alignFactor&&(t-=this.alignFactor*this.getPaddedWidth(),this["forceAnimate:x"]=!0),this.xSetting=Math.round(t),this.attr("translateX",this.xSetting)}ySetter(t){this.ySetting=this.y=Math.round(t),this.attr("translateY",this.ySetting)}}return l.emptyBBox={width:0,height:0,x:0,y:0},l.textProps="color direction fontFamily fontSize fontStyle fontWeight lineHeight textAlign textDecoration textOutline textOverflow whiteSpace width".split(" "),l})),e(n,"Core/Renderer/SVG/Symbols.js",[n["Core/Utilities.js"]],(function(t){function e(t,e,n,i,r){const a=[];if(r){const l=r.start||0,c=s(r.r,n);n=s(r.r,i||n),i=(r.end||0)-.001;const u=r.innerR,h=s(r.open,.001>Math.abs((r.end||0)-l-2*Math.PI)),d=Math.cos(l),p=Math.sin(l),f=Math.cos(i),g=Math.sin(i),m=s(r.longArc,.001>i-l-Math.PI?0:1);let _=["A",c,n,0,m,s(r.clockwise,1),t+c*f,e+n*g];_.params={start:l,end:i,cx:t,cy:e},a.push(["M",t+c*d,e+n*p],_),o(u)&&(_=["A",u,u,0,m,o(r.clockwise)?1-r.clockwise:0,t+u*d,e+u*p],_.params={start:i,end:l,cx:t,cy:e},a.push(h?["M",t+u*f,e+u*g]:["L",t+u*f,e+u*g],_)),h||a.push(["Z"])}return a}function n(t,e,n,o,r){return r&&r.r?i(t,e,n,o,r):[["M",t,e],["L",t+n,e],["L",t+n,e+o],["L",t,e+o],["Z"]]}function i(t,e,n,i,o){return[["M",t+(o=(null==o?void 0:o.r)||0),e],["L",t+n-o,e],["A",o,o,0,0,1,t+n,e+o],["L",t+n,e+i-o],["A",o,o,0,0,1,t+n-o,e+i],["L",t+o,e+i],["A",o,o,0,0,1,t,e+i-o],["L",t,e+o],["A",o,o,0,0,1,t+o,e],["Z"]]}const{defined:o,isNumber:r,pick:s}=t;return{arc:e,callout:function(t,e,n,o,s){const a=Math.min(s&&s.r||0,n,o),l=a+6,c=s&&s.anchorX;s=s&&s.anchorY||0;const u=i(t,e,n,o,{r:a});return r(c)?(t+c>=n?s>e+l&&s<e+o-l?u.splice(3,1,["L",t+n,s-6],["L",t+n+6,s],["L",t+n,s+6],["L",t+n,e+o-a]):u.splice(3,1,["L",t+n,o/2],["L",c,s],["L",t+n,o/2],["L",t+n,e+o-a]):0>=t+c?s>e+l&&s<e+o-l?u.splice(7,1,["L",t,s+6],["L",t-6,s],["L",t,s-6],["L",t,e+a]):u.splice(7,1,["L",t,o/2],["L",c,s],["L",t,o/2],["L",t,e+a]):s&&s>o&&c>t+l&&c<t+n-l?u.splice(5,1,["L",c+6,e+o],["L",c,e+o+6],["L",c-6,e+o],["L",t+a,e+o]):s&&0>s&&c>t+l&&c<t+n-l&&u.splice(1,1,["L",c-6,e],["L",c,e-6],["L",c+6,e],["L",n-a,e]),u):u},circle:function(t,n,i,o){return e(t+i/2,n+o/2,i/2,o/2,{start:.5*Math.PI,end:2.5*Math.PI,open:!1})},diamond:function(t,e,n,i){return[["M",t+n/2,e],["L",t+n,e+i/2],["L",t+n/2,e+i],["L",t,e+i/2],["Z"]]},rect:n,roundedRect:i,square:n,triangle:function(t,e,n,i){return[["M",t+n/2,e],["L",t+n,e+i],["L",t,e+i],["Z"]]},"triangle-down":function(t,e,n,i){return[["M",t,e],["L",t+n,e],["L",t+n/2,e+i],["Z"]]}}})),e(n,"Core/Renderer/SVG/TextBuilder.js",[n["Core/Renderer/HTML/AST.js"],n["Core/Globals.js"],n["Core/Utilities.js"]],(function(t,e,n){const{doc:i,SVG_NS:o,win:r}=e,{attr:s,extend:a,fireEvent:l,isString:c,objectEach:u,pick:h}=n;return class{constructor(t){const e=t.styles;this.renderer=t.renderer,this.svgElement=t,this.width=t.textWidth,this.textLineHeight=e&&e.lineHeight,this.textOutline=e&&e.textOutline,this.ellipsis=!(!e||"ellipsis"!==e.textOverflow),this.noWrap=!(!e||"nowrap"!==e.whiteSpace)}buildSVG(){const e=this.svgElement,n=e.element;var o=e.renderer,r=h(e.textStr,"").toString();const s=-1!==r.indexOf("<"),a=n.childNodes;o=!e.added&&o.box;const l=/<br.*?>/g;var u=[r,this.ellipsis,this.noWrap,this.textLineHeight,this.textOutline,e.getStyle("font-size"),this.width].join();if(u!==e.textCache){for(e.textCache=u,delete e.actualWidth,u=a.length;u--;)n.removeChild(a[u]);s||this.ellipsis||this.width||e.textPath||-1!==r.indexOf(" ")&&(!this.noWrap||l.test(r))?""!==r&&(o&&o.appendChild(n),r=new t(r),this.modifyTree(r.nodes),r.addToDOM(n),this.modifyDOM(),this.ellipsis&&-1!==(n.textContent||"").indexOf("")&&e.attr("title",this.unescapeEntities(e.textStr||"",["&lt;","&gt;"])),o&&o.removeChild(n)):n.appendChild(i.createTextNode(this.unescapeEntities(r))),c(this.textOutline)&&e.applyTextOutline&&e.applyTextOutline(this.textOutline)}}modifyDOM(){const t=this.svgElement,e=s(t.element,"x");let n;for(t.firstLineMetrics=void 0;(n=t.element.firstChild)&&/^[\s\u200B]*$/.test(n.textContent||" ");)t.element.removeChild(n);[].forEach.call(t.element.querySelectorAll("tspan.highcharts-br"),((n,i)=>{n.nextSibling&&n.previousSibling&&(0===i&&1===n.previousSibling.nodeType&&(t.firstLineMetrics=t.renderer.fontMetrics(n.previousSibling)),s(n,{dy:this.getLineHeight(n.nextSibling),x:e}))}));const a=this.width||0;if(a){var l=(n,r)=>{var l=n.textContent||"";const c=l.replace(/([^\^])-/g,"$1- ").split(" ");var u=!this.noWrap&&(1<c.length||1<t.element.childNodes.length);const h=this.getLineHeight(r);let d=0,p=t.actualWidth;if(this.ellipsis)l&&this.truncate(n,l,void 0,0,Math.max(0,a-.8*h),((t,e)=>t.substring(0,e)+""));else if(u){for(l=[],u=[];r.firstChild&&r.firstChild!==n;)u.push(r.firstChild),r.removeChild(r.firstChild);for(;c.length;)c.length&&!this.noWrap&&0<d&&(l.push(n.textContent||""),n.textContent=c.join(" ").replace(/- /g,"-")),this.truncate(n,void 0,c,0===d&&p||0,a,((t,e)=>c.slice(0,e).join(" ").replace(/- /g,"-"))),p=t.actualWidth,d++;u.forEach((t=>{r.insertBefore(t,n)})),l.forEach((t=>{r.insertBefore(i.createTextNode(t),n),(t=i.createElementNS(o,"tspan")).textContent="",s(t,{dy:h,x:e}),r.insertBefore(t,n)}))}},c=e=>{[].slice.call(e.childNodes).forEach((n=>{n.nodeType===r.Node.TEXT_NODE?l(n,e):(-1!==n.className.baseVal.indexOf("highcharts-br")&&(t.actualWidth=0),c(n))}))};c(t.element)}}getLineHeight(t){return t=t.nodeType===r.Node.TEXT_NODE?t.parentElement:t,this.textLineHeight?parseInt(this.textLineHeight.toString(),10):this.renderer.fontMetrics(t||this.svgElement.element).h}modifyTree(t){const e=(n,i)=>{const{attributes:o={},children:r,style:s={},tagName:l}=n,c=this.renderer.styledMode;"b"===l||"strong"===l?c?o.class="highcharts-strong":s.fontWeight="bold":"i"!==l&&"em"!==l||(c?o.class="highcharts-emphasized":s.fontStyle="italic"),s&&s.color&&(s.fill=s.color),"br"===l?(o.class="highcharts-br",n.textContent="",(i=t[i+1])&&i.textContent&&(i.textContent=i.textContent.replace(/^ +/gm,""))):"a"===l&&r&&r.some((t=>"#text"===t.tagName))&&(n.children=[{children:r,tagName:"tspan"}]),"#text"!==l&&"a"!==l&&(n.tagName="tspan"),a(n,{attributes:o,style:s}),r&&r.filter((t=>"#text"!==t.tagName)).forEach(e)};t.forEach(e),l(this.svgElement,"afterModifyTree",{nodes:t})}truncate(t,e,n,i,o,r){const s=this.svgElement,{rotation:a}=s,l=[];let c,u,h=n?1:0,d=(e||n||"").length,p=d;const f=function(e,o){if(e=o||e,(o=t.parentNode)&&void 0===l[e]&&o.getSubStringLength)try{l[e]=i+o.getSubStringLength(0,n?e+1:e)}catch(t){}return l[e]};if(s.rotation=0,u=f(t.textContent.length),i+u>o){for(;h<=d;)p=Math.ceil((h+d)/2),n&&(c=r(n,p)),u=f(p,c&&c.length-1),h===d?h=d+1:u>o?d=p-1:h=p;0===d?t.textContent="":e&&d===e.length-1||(t.textContent=c||r(e||n,p))}n&&n.splice(0,p),s.actualWidth=u,s.rotation=a}unescapeEntities(t,e){return u(this.renderer.escapes,(function(n,i){e&&-1!==e.indexOf(n)||(t=t.toString().replace(new RegExp(n,"g"),i))})),t}}})),e(n,"Core/Renderer/SVG/SVGRenderer.js",[n["Core/Renderer/HTML/AST.js"],n["Core/Color/Color.js"],n["Core/Globals.js"],n["Core/Renderer/RendererRegistry.js"],n["Core/Renderer/SVG/SVGElement.js"],n["Core/Renderer/SVG/SVGLabel.js"],n["Core/Renderer/SVG/Symbols.js"],n["Core/Renderer/SVG/TextBuilder.js"],n["Core/Utilities.js"]],(function(t,e,n,i,o,r,s,a,l){const{charts:c,deg2rad:u,doc:h,isFirefox:d,isMS:p,isWebKit:f,noop:g,SVG_NS:m,symbolSizes:_,win:y}=n,{addEvent:v,attr:C,createElement:b,css:E,defined:S,destroyObjectProperties:w,extend:O,isArray:x,isNumber:P,isObject:T,isString:M,merge:D,pick:R,pInt:A,uniqueKey:L}=l;let I;class k{constructor(t,e,n,i,o,r,s){this.width=this.url=this.style=this.imgCount=this.height=this.gradients=this.globalAnimation=this.defs=this.chartIndex=this.cacheKeys=this.cache=this.boxWrapper=this.box=this.alignedObjects=void 0,this.init(t,e,n,i,o,r,s)}init(t,e,n,i,o,r,s){const a=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"}),l=a.element;let c;s||a.css(this.getStyle(i)),t.appendChild(l),C(t,"dir","ltr"),-1===t.innerHTML.indexOf("xmlns")&&C(l,"xmlns",this.SVG_NS),this.box=l,this.boxWrapper=a,this.alignedObjects=[],this.url=this.getReferenceURL(),this.createElement("desc").add().element.appendChild(h.createTextNode("Created with Highcharts 11.0.1")),this.defs=this.createElement("defs").add(),this.allowHTML=r,this.forExport=o,this.styledMode=s,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.rootFontSize=a.getStyle("font-size"),this.setSize(e,n,!1),d&&t.getBoundingClientRect&&((e=function(){E(t,{left:0,top:0}),c=t.getBoundingClientRect(),E(t,{left:Math.ceil(c.left)-c.left+"px",top:Math.ceil(c.top)-c.top+"px"})})(),this.unSubPixelFix=v(y,"resize",e))}definition(e){return new t([e]).addToDOM(this.defs.element)}getReferenceURL(){if((d||f)&&h.getElementsByTagName("base").length){if(!S(I)){var e=L();e=new t([{tagName:"svg",attributes:{width:8,height:8},children:[{tagName:"defs",children:[{tagName:"clipPath",attributes:{id:e},children:[{tagName:"rect",attributes:{width:4,height:4}}]}]},{tagName:"rect",attributes:{id:"hitme",width:8,height:8,"clip-path":`url(#${e})`,fill:"rgba(0,0,0,0.001)"}}]}]).addToDOM(h.body),E(e,{position:"fixed",top:0,left:0,zIndex:9e5});const n=h.elementFromPoint(6,6);I="hitme"===(n&&n.id),h.body.removeChild(e)}if(I)return y.location.href.split("#")[0].replace(/<[^>]*>/g,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20")}return""}getStyle(t){return this.style=O({fontFamily:"Helvetica, Arial, sans-serif",fontSize:"1rem"},t)}setStyle(t){this.boxWrapper.css(this.getStyle(t))}isHidden(){return!this.boxWrapper.getBBox().width}destroy(){const t=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),w(this.gradients||{}),this.gradients=null,this.defs=t.destroy(),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null}createElement(t){const e=new this.Element;return e.init(this,t),e}getRadialAttr(t,e){return{cx:t[0]-t[2]/2+(e.cx||0)*t[2],cy:t[1]-t[2]/2+(e.cy||0)*t[2],r:(e.r||0)*t[2]}}shadowDefinition(t){const e=[`highcharts-drop-shadow-${this.chartIndex}`,...Object.keys(t).map((e=>t[e]))].join("-").replace(/[^a-z0-9\-]/g,""),n=D({color:"#000000",offsetX:1,offsetY:1,opacity:.15,width:5},t);return this.defs.element.querySelector(`#${e}`)||this.definition({tagName:"filter",attributes:{id:e},children:[{tagName:"feDropShadow",attributes:{dx:n.offsetX,dy:n.offsetY,"flood-color":n.color,"flood-opacity":Math.min(5*n.opacity,1),stdDeviation:n.width/2}}]}),e}buildText(t){new a(t).buildSVG()}getContrast(t){return 1.05/(.05+(t=.2126*(t=e.parse(t).rgba.map((t=>.03928>=(t/=255)?t/12.92:Math.pow((t+.055)/1.055,2.4))))[0]+.7152*t[1]+.0722*t[2]))>(t+.05)/.05?"#FFFFFF":"#000000"}button(e,n,i,o,r={},s,a,l,c,u){const h=this.label(e,n,i,c,void 0,void 0,u,void 0,"button"),d=this.styledMode;e=r.states||{};let f=0;delete(r=D(r)).states;const g=D({color:"#333333",cursor:"pointer",fontSize:"0.8em",fontWeight:"normal"},r.style);delete r.style;let m,_,y,C=t.filterUserAttributes(r);return h.attr(D({padding:8,r:2},C)),d||(C=D({fill:"#f7f7f7",stroke:"#cccccc","stroke-width":1},C),s=D(C,{fill:"#e6e6e6"},t.filterUserAttributes(s||e.hover||{})),m=s.style,delete s.style,a=D(C,{fill:"#e6e9ff",style:{color:"#000000",fontWeight:"bold"}},t.filterUserAttributes(a||e.select||{})),_=a.style,delete a.style,l=D(C,{style:{color:"#cccccc"}},t.filterUserAttributes(l||e.disabled||{})),y=l.style,delete l.style),v(h.element,p?"mouseover":"mouseenter",(function(){3!==f&&h.setState(1)})),v(h.element,p?"mouseout":"mouseleave",(function(){3!==f&&h.setState(f)})),h.setState=function(t){1!==t&&(h.state=f=t),h.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][t||0]),d||(h.attr([C,s,a,l][t||0]),T(t=[g,m,_,y][t||0])&&h.css(t))},d||(h.attr(C).css(O({cursor:"default"},g)),u&&h.text.css({pointerEvents:"none"})),h.on("touchstart",(t=>t.stopPropagation())).on("click",(function(t){3!==f&&o.call(h,t)}))}crispLine(t,e,n="round"){const i=t[0],o=t[1];return S(i[1])&&i[1]===o[1]&&(i[1]=o[1]=Math[n](i[1])-e%2/2),S(i[2])&&i[2]===o[2]&&(i[2]=o[2]=Math[n](i[2])+e%2/2),t}path(t){const e=this.styledMode?{}:{fill:"none"};return x(t)?e.d=t:T(t)&&O(e,t),this.createElement("path").attr(e)}circle(t,e,n){return t=T(t)?t:void 0===t?{}:{x:t,y:e,r:n},(e=this.createElement("circle")).xSetter=e.ySetter=function(t,e,n){n.setAttribute("c"+e,t)},e.attr(t)}arc(t,e,n,i,o,r){return T(t)?(e=(i=t).y,n=i.r,t=i.x):i={innerR:i,start:o,end:r},(t=this.symbol("arc",t,e,n,n,i)).r=n,t}rect(t,e,n,i,o,r){t=T(t)?t:void 0===t?{}:{x:t,y:e,r:o,width:Math.max(n||0,0),height:Math.max(i||0,0)};const s=this.createElement("rect");return this.styledMode||(void 0!==r&&(t["stroke-width"]=r,O(t,s.crisp(t))),t.fill="none"),s.rSetter=function(t,e,n){s.r=t,C(n,{rx:t,ry:t})},s.rGetter=function(){return s.r||0},s.attr(t)}roundedRect(t){return this.symbol("roundedRect").attr(t)}setSize(t,e,n){this.width=t,this.height=e,this.boxWrapper.animate({width:t,height:e},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:R(n,!0)?void 0:0}),this.alignElements()}g(t){const e=this.createElement("g");return t?e.attr({class:"highcharts-"+t}):e}image(t,e,n,i,o,r){const s={preserveAspectRatio:"none"},a=function(t,e){t.setAttributeNS?t.setAttributeNS("http://www.w3.org/1999/xlink","href",e):t.setAttribute("hc-svg-href",e)};P(e)&&(s.x=e),P(n)&&(s.y=n),P(i)&&(s.width=i),P(o)&&(s.height=o);const l=this.createElement("image").attr(s);return e=function(e){a(l.element,t),r.call(l,e)},r?(a(l.element,"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),n=new y.Image,v(n,"load",e),n.src=t,n.complete&&e({})):a(l.element,t),l}symbol(t,e,n,i,o,r){const s=this,a=/^url\((.*?)\)$/,l=a.test(t),u=!l&&(this.symbols[t]?t:"circle"),d=u&&this.symbols[u];let p,f,g,m;if(d)"number"==typeof e&&(f=d.call(this.symbols,Math.round(e||0),Math.round(n||0),i||0,o||0,r)),p=this.path(f),s.styledMode||p.attr("fill","none"),O(p,{symbolName:u||void 0,x:e,y:n,width:i,height:o}),r&&O(p,r);else if(l){g=t.match(a)[1];const i=p=this.image(g);i.imgwidth=R(r&&r.width,_[g]&&_[g].width),i.imgheight=R(r&&r.height,_[g]&&_[g].height),m=t=>t.attr({width:t.width,height:t.height}),["width","height"].forEach((function(t){i[t+"Setter"]=function(t,e){this[e]=t;const{alignByTranslate:n,element:i,width:o,height:s,imgwidth:a,imgheight:l}=this;if(t=this["img"+e],S(t)){let c=1;r&&"within"===r.backgroundSize&&o&&s?(c=Math.min(o/a,s/l),C(i,{width:Math.round(a*c),height:Math.round(l*c)})):i&&i.setAttribute(e,t),n||this.translate(((o||0)-a*c)/2,((s||0)-l*c)/2)}}})),S(e)&&i.attr({x:e,y:n}),i.isImg=!0,S(i.imgwidth)&&S(i.imgheight)?m(i):(i.attr({width:0,height:0}),b("img",{onload:function(){const t=c[s.chartIndex];0===this.width&&(E(this,{position:"absolute",top:"-999em"}),h.body.appendChild(this)),_[g]={width:this.width,height:this.height},i.imgwidth=this.width,i.imgheight=this.height,i.element&&m(i),this.parentNode&&this.parentNode.removeChild(this),s.imgCount--,s.imgCount||!t||t.hasLoaded||t.onload()},src:g}),this.imgCount++)}return p}clipRect(t,e,n,i){const o=L()+"-",r=this.createElement("clipPath").attr({id:o}).add(this.defs);return(t=this.rect(t,e,n,i,0).add(r)).id=o,t.clipPath=r,t.count=0,t}text(t,e,n,i){const o={};return!i||!this.allowHTML&&this.forExport?(o.x=Math.round(e||0),n&&(o.y=Math.round(n)),S(t)&&(o.text=t),t=this.createElement("text").attr(o),(!i||this.forExport&&!this.allowHTML)&&(t.xSetter=function(t,e,n){const i=n.getElementsByTagName("tspan"),o=n.getAttribute(e);for(let n,r=0;r<i.length;r++)n=i[r],n.getAttribute(e)===o&&n.setAttribute(e,t);n.setAttribute(e,t)}),t):this.html(t,e,n)}fontMetrics(t){const e=24>(t=A(o.prototype.getStyle.call(t,"font-size")||0))?t+3:Math.round(1.2*t);return{h:e,b:Math.round(.8*e),f:t}}rotCorr(t,e,n){let i=t;return e&&n&&(i=Math.max(i*Math.cos(e*u),4)),{x:-t/3*Math.sin(e*u),y:i}}pathToSegments(t){const e=[],n=[],i={A:8,C:7,H:2,L:3,M:3,Q:5,S:5,T:3,V:2};for(let o=0;o<t.length;o++)M(n[0])&&P(t[o])&&n.length===i[n[0].toUpperCase()]&&t.splice(o,0,n[0].replace("M","L").replace("m","l")),"string"==typeof t[o]&&(n.length&&e.push(n.slice(0)),n.length=0),n.push(t[o]);return e.push(n.slice(0)),e}label(t,e,n,i,o,s,a,l,c){return new r(this,t,e,n,i,o,s,a,l,c)}alignElements(){this.alignedObjects.forEach((t=>t.align()))}}return O(k.prototype,{Element:o,SVG_NS:m,escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},symbols:s,draw:g}),i.registerRendererType("svg",k,!0),k})),e(n,"Core/Renderer/HTML/HTMLElement.js",[n["Core/Globals.js"],n["Core/Renderer/SVG/SVGElement.js"],n["Core/Utilities.js"]],(function(t,e,n){const{isFirefox:i,isMS:o,isWebKit:r,win:s}=t,{css:a,defined:l,extend:c,pick:u,pInt:h}=n,d=[];class p extends e{static compose(t){if(n.pushUnique(d,t)){const e=p.prototype,n=t.prototype;n.getSpanCorrection=e.getSpanCorrection,n.htmlCss=e.htmlCss,n.htmlGetBBox=e.htmlGetBBox,n.htmlUpdateTransform=e.htmlUpdateTransform,n.setSpanRotation=e.setSpanRotation}return t}getSpanCorrection(t,e,n){this.xCorr=-t*n,this.yCorr=-e}htmlCss(t){const e="SPAN"===this.element.tagName&&t&&"width"in t,n=u(e&&t.width,void 0);let i;return e&&(delete t.width,this.textWidth=n,i=!0),t&&"ellipsis"===t.textOverflow&&(t.whiteSpace="nowrap",t.overflow="hidden"),this.styles=c(this.styles,t),a(this.element,t),i&&this.htmlUpdateTransform(),this}htmlGetBBox(){const t=this.element;return{x:t.offsetLeft,y:t.offsetTop,width:t.offsetWidth,height:t.offsetHeight}}htmlUpdateTransform(){if(this.added){var t=this.renderer,e=this.element,n=this.x||0,i=this.y||0,o=this.textAlign||"left",r={left:0,center:.5,right:1}[o],s=this.styles,c=s&&s.whiteSpace;if(a(e,{marginLeft:this.translateX||0,marginTop:this.translateY||0}),"SPAN"===e.tagName){s=this.rotation;const d=this.textWidth&&h(this.textWidth),p=[s,o,e.innerHTML,this.textWidth,this.textAlign].join();let f=!1;if(d!==this.oldTextWidth){if(this.textPxLength)var u=this.textPxLength;else a(e,{width:"",whiteSpace:c||"nowrap"}),u=e.offsetWidth;(d>this.oldTextWidth||u>d)&&(/[ \-]/.test(e.textContent||e.innerText)||"ellipsis"===e.style.textOverflow)&&(a(e,{width:u>d||s?d+"px":"auto",display:"block",whiteSpace:c||"normal"}),this.oldTextWidth=d,f=!0)}this.hasBoxWidthChanged=f,p!==this.cTT&&(t=t.fontMetrics(e).b,!l(s)||s===(this.oldRotation||0)&&o===this.oldAlign||this.setSpanRotation(s,r,t),this.getSpanCorrection(!l(s)&&this.textPxLength||e.offsetWidth,t,r,s,o)),a(e,{left:n+(this.xCorr||0)+"px",top:i+(this.yCorr||0)+"px"}),this.cTT=p,this.oldRotation=s,this.oldAlign=o}}else this.alignOnAdd=!0}setSpanRotation(t,e,n){const l={},c=o&&!/Edge/.test(s.navigator.userAgent)?"-ms-transform":r?"-webkit-transform":i?"MozTransform":s.opera?"-o-transform":void 0;c&&(l[c]=l.transform="rotate("+t+"deg)",l[c+(i?"Origin":"-origin")]=l.transformOrigin=100*e+"% "+n+"px",a(this.element,l))}}return p})),e(n,"Core/Renderer/HTML/HTMLRenderer.js",[n["Core/Renderer/HTML/AST.js"],n["Core/Renderer/SVG/SVGElement.js"],n["Core/Renderer/SVG/SVGRenderer.js"],n["Core/Utilities.js"]],(function(t,e,n,i){const{attr:o,createElement:r,extend:s,pick:a}=i,l=[];class c extends n{static compose(t){return i.pushUnique(l,t)&&(t.prototype.html=c.prototype.html),t}html(n,i,l){const c=this.createElement("span"),u=c.element,h=c.renderer,d=function(t,n){["opacity","visibility"].forEach((function(i){t[i+"Setter"]=function(o,r,s){const a=t.div?t.div.style:n;e.prototype[i+"Setter"].call(this,o,r,s),a&&(a[r]=o)}})),t.addedSetters=!0};return c.textSetter=function(e){e!==this.textStr&&(delete this.bBox,delete this.oldTextWidth,t.setElementHTML(this.element,a(e,"")),this.textStr=e,c.doTransform=!0)},d(c,c.element.style),c.xSetter=c.ySetter=c.alignSetter=c.rotationSetter=function(t,e){"align"===e?c.alignValue=c.textAlign=t:c[e]=t,c.doTransform=!0},c.afterSetters=function(){this.doTransform&&(this.htmlUpdateTransform(),this.doTransform=!1)},c.attr({text:n,x:Math.round(i),y:Math.round(l)}).css({position:"absolute"}),h.styledMode||c.css({fontFamily:this.style.fontFamily,fontSize:this.style.fontSize}),u.style.whiteSpace="nowrap",c.css=c.htmlCss,c.add=function(t){const e=h.box.parentNode,n=[];let i;if(this.parentGroup=t){if(i=t.div,!i){for(;t;)n.push(t),t=t.parentGroup;n.reverse().forEach((function(t){function a(e,n){t[n]=e,"translateX"===n?h.left=e+"px":h.top=e+"px",t.doTransform=!0}const l=o(t.element,"class"),u=t.styles||{};i=t.div=t.div||r("div",l?{className:l}:void 0,{position:"absolute",left:(t.translateX||0)+"px",top:(t.translateY||0)+"px",display:t.display,opacity:t.opacity,visibility:t.visibility},i||e);const h=i.style;s(t,{classSetter:function(t){return function(e){this.element.setAttribute("class",e),t.className=e}}(i),css:function(e){return c.css.call(t,e),["cursor","pointerEvents"].forEach((t=>{e[t]&&(h[t]=e[t])})),t},on:function(){return n[0].div&&c.on.apply({element:n[0].div,onEvents:t.onEvents},arguments),t},translateXSetter:a,translateYSetter:a}),t.addedSetters||d(t),t.css(u)}))}}else i=e;return i.appendChild(u),c.added=!0,c.alignOnAdd&&c.htmlUpdateTransform(),c},c}}return c})),e(n,"Core/Axis/AxisDefaults.js",[],(function(){var t;return function(t){t.defaultXAxisOptions={alignTicks:!0,allowDecimals:void 0,panningEnabled:!0,zIndex:2,zoomEnabled:!0,dateTimeLabelFormats:{millisecond:{main:"%H:%M:%S.%L",range:!1},second:{main:"%H:%M:%S",range:!1},minute:{main:"%H:%M",range:!1},hour:{main:"%H:%M",range:!1},day:{main:"%e %b"},week:{main:"%e %b"},month:{main:"%b '%y"},year:{main:"%Y"}},endOnTick:!1,gridLineDashStyle:"Solid",gridZIndex:1,labels:{autoRotation:void 0,autoRotationLimit:80,distance:15,enabled:!0,indentation:10,overflow:"justify",padding:5,reserveSpace:void 0,rotation:void 0,staggerLines:0,step:0,useHTML:!1,zIndex:7,style:{color:"#333333",cursor:"default",fontSize:"0.8em"}},maxPadding:.01,minorGridLineDashStyle:"Solid",minorTickLength:2,minorTickPosition:"outside",minorTicksPerMajor:5,minPadding:.01,offset:void 0,opposite:!1,reversed:void 0,reversedStacks:!1,showEmpty:!0,showFirstLabel:!0,showLastLabel:!0,startOfWeek:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickmarkPlacement:"between",tickPosition:"outside",title:{align:"middle",rotation:0,useHTML:!1,x:0,y:0,style:{color:"#666666",fontSize:"0.8em"}},type:"linear",uniqueNames:!0,visible:!0,minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#333333",lineWidth:1,gridLineColor:"#e6e6e6",gridLineWidth:void 0,tickColor:"#333333"},t.defaultYAxisOptions={reversedStacks:!0,endOnTick:!0,maxPadding:.05,minPadding:.05,tickPixelInterval:72,showLastLabel:!0,labels:{x:void 0},startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{animation:{},allowOverlap:!1,enabled:!1,crop:!0,overflow:"justify",formatter:function(){const{numberFormatter:t}=this.axis.chart;return t(this.total||0,-1)},style:{color:"#000000",fontSize:"0.7em",fontWeight:"bold",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0},t.defaultLeftAxisOptions={title:{rotation:270}},t.defaultRightAxisOptions={title:{rotation:90}},t.defaultBottomAxisOptions={labels:{autoRotation:[-45]},margin:15,title:{rotation:0}},t.defaultTopAxisOptions={labels:{autoRotation:[-45]},margin:15,title:{rotation:0}}}(t||(t={})),t})),e(n,"Core/Foundation.js",[n["Core/Utilities.js"]],(function(t){const{addEvent:e,isFunction:n,objectEach:i,removeEvent:o}=t;var r;return function(t){t.registerEventOptions=function(t,r){t.eventOptions=t.eventOptions||{},i(r.events,(function(i,r){t.eventOptions[r]!==i&&(t.eventOptions[r]&&(o(t,r,t.eventOptions[r]),delete t.eventOptions[r]),n(i)&&(t.eventOptions[r]=i,e(t,r,i,{order:0})))}))}}(r||(r={})),r})),e(n,"Core/Axis/Tick.js",[n["Core/FormatUtilities.js"],n["Core/Globals.js"],n["Core/Utilities.js"]],(function(t,e,n){const{deg2rad:i}=e,{clamp:o,correctFloat:r,defined:s,destroyObjectProperties:a,extend:l,fireEvent:c,isNumber:u,merge:h,objectEach:d,pick:p}=n;return class{constructor(t,e,n,i,o){this.isNewLabel=this.isNew=!0,this.axis=t,this.pos=e,this.type=n||"",this.parameters=o||{},this.tickmarkOffset=this.parameters.tickmarkOffset,this.options=this.parameters.options,c(this,"init"),n||i||this.addLabel()}addLabel(){const e=this,n=e.axis;var i=n.options;const o=n.chart;var a=n.categories;const h=n.logarithmic,d=n.names,f=e.pos,g=p(e.options&&e.options.labels,i.labels);var m=n.tickPositions;const _=f===m[0],y=f===m[m.length-1],v=(!g.step||1===g.step)&&1===n.tickInterval;m=m.info;let C,b,E,S=e.label;a=this.parameters.category||(a?p(a[f],d[f],f):f),h&&u(a)&&(a=r(h.lin2log(a))),n.dateTime&&(m?(b=o.time.resolveDTLFormat(i.dateTimeLabelFormats[!i.grid&&m.higherRanks[f]||m.unitName]),C=b.main):u(a)&&(C=n.dateTime.getXDateFormat(a,i.dateTimeLabelFormats||{}))),e.isFirst=_,e.isLast=y;const w={axis:n,chart:o,dateTimeLabelFormat:C,isFirst:_,isLast:y,pos:f,tick:e,tickPositionInfo:m,value:a};c(this,"labelFormat",w);const O=e=>g.formatter?g.formatter.call(e,e):g.format?(e.text=n.defaultLabelFormatter.call(e,e),t.format(g.format,e,o)):n.defaultLabelFormatter.call(e,e);i=O.call(w,w);const x=b&&b.list;e.shortenLabel=x?function(){for(E=0;E<x.length;E++)if(l(w,{dateTimeLabelFormat:x[E]}),S.attr({text:O.call(w,w)}),S.getBBox().width<n.getSlotWidth(e)-2*g.padding)return;S.attr({text:""})}:void 0,v&&n._addedPlotLB&&e.moveLabel(i,g),s(S)||e.movedLabel?S&&S.textStr!==i&&!v&&(!S.textWidth||g.style.width||S.styles.width||S.css({width:null}),S.attr({text:i}),S.textPxLength=S.getBBox().width):(e.label=S=e.createLabel({x:0,y:0},i,g),e.rotation=0)}createLabel(t,e,n){const i=this.axis,o=i.chart;return(t=s(e)&&n.enabled?o.renderer.text(e,t.x,t.y,n.useHTML).add(i.labelGroup):null)&&(o.styledMode||t.css(h(n.style)),t.textPxLength=t.getBBox().width),t}destroy(){a(this,this.axis)}getPosition(t,e,n,i){const s=this.axis,a=s.chart,l=i&&a.oldChartHeight||a.chartHeight;return(t={x:t?r(s.translate(e+n,void 0,void 0,i)+s.transB):s.left+s.offset+(s.opposite?(i&&a.oldChartWidth||a.chartWidth)-s.right-s.left:0),y:t?l-s.bottom+s.offset-(s.opposite?s.height:0):r(l-s.translate(e+n,void 0,void 0,i)-s.transB)}).y=o(t.y,-1e5,1e5),c(this,"afterGetPosition",{pos:t}),t}getLabelPosition(t,e,n,o,r,a,l,u){const h=this.axis,d=h.transA,f=h.isLinked&&h.linkedParent?h.linkedParent.reversed:h.reversed,g=h.staggerLines,m=h.tickRotCorr||{x:0,y:0},_=o||h.reserveSpaceDefault?0:-h.labelOffset*("center"===h.labelAlign?.5:1),y=r.distance,v={};return n=0===h.side?n.rotation?-y:-n.getBBox().height:2===h.side?m.y+y:Math.cos(n.rotation*i)*(m.y-n.getBBox(!1,0).height/2),s(r.y)&&(n=0===h.side&&h.horiz?r.y+n:r.y),t=t+p(r.x,[0,1,0,-1][h.side]*y)+_+m.x-(a&&o?a*d*(f?-1:1):0),e=e+n-(a&&!o?a*d*(f?1:-1):0),g&&(o=l/(u||1)%g,h.opposite&&(o=g-o-1),e+=h.labelOffset/g*o),v.x=t,v.y=Math.round(e),c(this,"afterGetLabelPosition",{pos:v,tickmarkOffset:a,index:l}),v}getLabelSize(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0}getMarkPath(t,e,n,i,o,r){return r.crispLine([["M",t,e],["L",t+(o?0:-n),e+(o?n:0)]],i)}handleOverflow(t){const e=this.axis,n=e.options.labels,o=t.x;var r=e.chart.chartWidth,s=e.chart.spacing;const a=p(e.labelLeft,Math.min(e.pos,s[3]));s=p(e.labelRight,Math.max(e.isRadial?0:e.pos+e.len,r-s[1]));const l=this.label,c=this.rotation,u={left:0,center:.5,right:1}[e.labelAlign||l.attr("align")],h=l.getBBox().width,d=e.getSlotWidth(this),f={};let g,m=d,_=1;c||"justify"!==n.overflow?0>c&&o-u*h<a?g=Math.round(o/Math.cos(c*i)-a):0<c&&o+u*h>s&&(g=Math.round((r-o)/Math.cos(c*i))):(r=o+(1-u)*h,o-u*h<a?m=t.x+m*(1-u)-a:r>s&&(m=s-t.x+m*u,_=-1),m=Math.min(d,m),m<d&&"center"===e.labelAlign&&(t.x+=_*(d-m-u*(d-Math.min(h,m)))),(h>m||e.autoRotation&&(l.styles||{}).width)&&(g=m)),g&&(this.shortenLabel?this.shortenLabel():(f.width=Math.floor(g)+"px",(n.style||{}).textOverflow||(f.textOverflow="ellipsis"),l.css(f)))}moveLabel(t,e){const n=this;var i=n.label;const o=n.axis;let r=!1;i&&i.textStr===t?(n.movedLabel=i,r=!0,delete n.label):d(o.ticks,(function(e){r||e.isNew||e===n||!e.label||e.label.textStr!==t||(n.movedLabel=e.label,r=!0,e.labelPos=n.movedLabel.xy,delete e.label)})),r||!n.labelPos&&!i||(i=n.labelPos||i.xy,n.movedLabel=n.createLabel(i,t,e),n.movedLabel&&n.movedLabel.attr({opacity:0}))}render(t,e,n){var i=this.axis,o=i.horiz,r=this.pos,s=p(this.tickmarkOffset,i.tickmarkOffset);s=(r=this.getPosition(o,r,s,e)).x;const a=r.y;i=o&&s===i.pos+i.len||!o&&a===i.pos?-1:1,o=p(n,this.label&&this.label.newOpacity,1),n=p(n,1),this.isActive=!0,this.renderGridLine(e,n,i),this.renderMark(r,n,i),this.renderLabel(r,e,o,t),this.isNew=!1,c(this,"afterRender")}renderGridLine(t,e,n){const i=this.axis,o=i.options,r={},s=this.pos,a=this.type,l=p(this.tickmarkOffset,i.tickmarkOffset),c=i.chart.renderer;let u=this.gridLine,h=o.gridLineWidth,d=o.gridLineColor,f=o.gridLineDashStyle;"minor"===this.type&&(h=o.minorGridLineWidth,d=o.minorGridLineColor,f=o.minorGridLineDashStyle),u||(i.chart.styledMode||(r.stroke=d,r["stroke-width"]=h||0,r.dashstyle=f),a||(r.zIndex=1),t&&(e=0),this.gridLine=u=c.path().attr(r).addClass("highcharts-"+(a?a+"-":"")+"grid-line").add(i.gridGroup)),u&&(n=i.getPlotLinePath({value:s+l,lineWidth:u.strokeWidth()*n,force:"pass",old:t,acrossPanes:!1}))&&u[t||this.isNew?"attr":"animate"]({d:n,opacity:e})}renderMark(t,e,n){const i=this.axis;var o=i.options;const r=i.chart.renderer,s=this.type,a=i.tickSize(s?s+"Tick":"tick"),l=t.x;t=t.y;const c=p(o["minor"!==s?"tickWidth":"minorTickWidth"],!s&&i.isXAxis?1:0);o=o["minor"!==s?"tickColor":"minorTickColor"];let u=this.mark;const h=!u;a&&(i.opposite&&(a[0]=-a[0]),u||(this.mark=u=r.path().addClass("highcharts-"+(s?s+"-":"")+"tick").add(i.axisGroup),i.chart.styledMode||u.attr({stroke:o,"stroke-width":c})),u[h?"attr":"animate"]({d:this.getMarkPath(l,t,a[0],u.strokeWidth()*n,i.horiz,r),opacity:e}))}renderLabel(t,e,n,i){var o=this.axis;const r=o.horiz,s=o.options,a=this.label,l=s.labels,c=l.step;o=p(this.tickmarkOffset,o.tickmarkOffset);const h=t.x;t=t.y;let d=!0;a&&u(h)&&(a.xy=t=this.getLabelPosition(h,t,a,r,l,o,i,c),this.isFirst&&!this.isLast&&!s.showFirstLabel||this.isLast&&!this.isFirst&&!s.showLastLabel?d=!1:!r||l.step||l.rotation||e||0===n||this.handleOverflow(t),c&&i%c&&(d=!1),d&&u(t.y)?(t.opacity=n,a[this.isNewLabel?"attr":"animate"](t).show(!0),this.isNewLabel=!1):(a.hide(),this.isNewLabel=!0))}replaceMovedLabel(){const t=this.label,e=this.axis;t&&!this.isNew&&(t.animate({opacity:0},void 0,t.destroy),delete this.label),e.isDirty=!0,this.label=this.movedLabel,delete this.movedLabel}}})),e(n,"Core/Axis/Axis.js",[n["Core/Animation/AnimationUtilities.js"],n["Core/Axis/AxisDefaults.js"],n["Core/Color/Color.js"],n["Core/Defaults.js"],n["Core/Foundation.js"],n["Core/Globals.js"],n["Core/Axis/Tick.js"],n["Core/Utilities.js"]],(function(t,e,n,i,o,r,s,a){const{animObject:l}=t,{defaultOptions:c}=i,{registerEventOptions:u}=o,{deg2rad:h}=r,{arrayMax:d,arrayMin:p,clamp:f,correctFloat:g,defined:m,destroyObjectProperties:_,erase:y,error:v,extend:C,fireEvent:b,isArray:E,isNumber:S,isString:w,merge:O,normalizeTickInterval:x,objectEach:P,pick:T,relativeLength:M,removeEvent:D,splat:R,syncTimeout:A}=a,L=(t,e)=>x(e,void 0,void 0,T(t.options.allowDecimals,.5>e||void 0!==t.tickAmount),!!t.tickAmount);class I{constructor(t,e){this.zoomEnabled=this.width=this.visible=this.userOptions=this.translationSlope=this.transB=this.transA=this.top=this.ticks=this.tickRotCorr=this.tickPositions=this.tickmarkOffset=this.tickInterval=this.tickAmount=this.side=this.series=this.right=this.positiveValuesOnly=this.pos=this.pointRangePadding=this.pointRange=this.plotLinesAndBandsGroups=this.plotLinesAndBands=this.paddedTicks=this.overlap=this.options=this.offset=this.names=this.minPixelPadding=this.minorTicks=this.minorTickInterval=this.min=this.maxLabelLength=this.max=this.len=this.left=this.labelFormatter=this.labelEdge=this.isLinked=this.height=this.hasVisibleSeries=this.hasNames=this.eventOptions=this.coll=this.closestPointRange=this.chart=this.bottom=this.alternateBands=void 0,this.init(t,e)}init(t,e){const n=e.isX;this.chart=t,this.horiz=t.inverted&&!this.isZAxis?!n:n,this.isXAxis=n,this.coll=this.coll||(n?"xAxis":"yAxis"),b(this,"init",{userOptions:e}),this.opposite=T(e.opposite,this.opposite),this.side=T(e.side,this.side,this.horiz?this.opposite?0:2:this.opposite?1:3),this.setOptions(e);const i=this.options,o=i.labels,r=i.type;this.userOptions=e,this.minPixelPadding=0,this.reversed=T(i.reversed,this.reversed),this.visible=i.visible,this.zoomEnabled=i.zoomEnabled,this.hasNames="category"===r||!0===i.categories,this.categories=i.categories||(this.hasNames?[]:void 0),this.names||(this.names=[],this.names.keys={}),this.plotLinesAndBandsGroups={},this.positiveValuesOnly=!!this.logarithmic,this.isLinked=m(i.linkedTo),this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len=0,this.minRange=this.userMinRange=i.minRange||i.maxZoom,this.range=i.range,this.offset=i.offset||0,this.min=this.max=null,e=T(i.crosshair,R(t.options.tooltip.crosshairs)[n?0:1]),this.crosshair=!0===e?{}:e,-1===t.axes.indexOf(this)&&(n?t.axes.splice(t.xAxis.length,0,this):t.axes.push(this),t[this.coll].push(this)),this.series=this.series||[],t.inverted&&!this.isZAxis&&n&&void 0===this.reversed&&(this.reversed=!0),this.labelRotation=S(o.rotation)?o.rotation:void 0,u(this,i),b(this,"afterInit")}setOptions(t){this.options=O(e.defaultXAxisOptions,"yAxis"===this.coll&&e.defaultYAxisOptions,[e.defaultTopAxisOptions,e.defaultRightAxisOptions,e.defaultBottomAxisOptions,e.defaultLeftAxisOptions][this.side],O(c[this.coll],t)),b(this,"afterSetOptions",{userOptions:t})}defaultLabelFormatter(t){var e=this.axis;({numberFormatter:t}=this.chart);const n=S(this.value)?this.value:NaN,i=e.chart.time,o=this.dateTimeLabelFormat;var r=c.lang;const s=r.numericSymbols;r=r.numericSymbolMagnitude||1e3;const a=e.logarithmic?Math.abs(n):e.tickInterval;let l,u=s&&s.length;if(e.categories)l=`${this.value}`;else if(o)l=i.dateFormat(o,n);else if(u&&1e3<=a)for(;u--&&void 0===l;)a>=(e=Math.pow(r,u+1))&&0==10*n%e&&null!==s[u]&&0!==n&&(l=t(n/e,-1)+s[u]);return void 0===l&&(l=1e4<=Math.abs(n)?t(n,-1):t(n,-1,void 0,"")),l}getSeriesExtremes(){const t=this,e=t.chart;let n;b(this,"getSeriesExtremes",null,(function(){t.hasVisibleSeries=!1,t.dataMin=t.dataMax=t.threshold=null,t.softThreshold=!t.isXAxis,t.series.forEach((function(i){if(i.visible||!e.options.chart.ignoreHiddenSeries){var o=i.options;let e,r,s=o.threshold;t.hasVisibleSeries=!0,t.positiveValuesOnly&&0>=s&&(s=null),t.isXAxis?(o=i.xData)&&o.length&&(o=t.logarithmic?o.filter((t=>0<t)):o,n=i.getXExtremes(o),e=n.min,r=n.max,S(e)||e instanceof Date||(o=o.filter(S),n=i.getXExtremes(o),e=n.min,r=n.max),o.length&&(t.dataMin=Math.min(T(t.dataMin,e),e),t.dataMax=Math.max(T(t.dataMax,r),r))):(i=i.applyExtremes(),S(i.dataMin)&&(e=i.dataMin,t.dataMin=Math.min(T(t.dataMin,e),e)),S(i.dataMax)&&(r=i.dataMax,t.dataMax=Math.max(T(t.dataMax,r),r)),m(s)&&(t.threshold=s),(!o.softThreshold||t.positiveValuesOnly)&&(t.softThreshold=!1))}}))})),b(this,"afterGetSeriesExtremes")}translate(t,e,n,i,o,r){const s=this.linkedParent||this,a=i&&s.old?s.old.min:s.min;if(!S(a))return NaN;const l=s.minPixelPadding;o=(s.isOrdinal||s.brokenAxis&&s.brokenAxis.hasBreaks||s.logarithmic&&o)&&s.lin2val;let c=1,u=0;return(i=i&&s.old?s.old.transA:s.transA)||(i=s.transA),n&&(c*=-1,u=s.len),s.reversed&&(c*=-1,u-=c*(s.sector||s.len)),e?(r=(t*c+u-l)/i+a,o&&(r=s.lin2val(r))):(o&&(t=s.val2lin(t)),t=c*(t-a)*i,r=(s.isRadial?t:g(t))+u+c*l+(S(r)?i*r:0)),r}toPixels(t,e){return this.translate(t,!1,!this.horiz,void 0,!0)+(e?0:this.pos)}toValue(t,e){return this.translate(t-(e?0:this.pos),!0,!this.horiz,void 0,!0)}getPlotLinePath(t){function e(t,e,n){return"pass"!==v&&(t<e||t>n)&&(v?t=f(t,e,n):_=!0),t}const n=this,i=n.chart,o=n.left,r=n.top,s=t.old,a=t.value,l=t.lineWidth,c=s&&i.oldChartHeight||i.chartHeight,u=s&&i.oldChartWidth||i.chartWidth,h=n.transB;let d,p,g,m,_,y=t.translatedValue,v=t.force;return t={value:a,lineWidth:l,old:s,force:v,acrossPanes:t.acrossPanes,translatedValue:y},b(this,"getPlotLinePath",t,(function(t){y=T(y,n.translate(a,void 0,void 0,s)),y=f(y,-1e5,1e5),d=g=Math.round(y+h),p=m=Math.round(c-y-h),S(y)?n.horiz?(p=r,m=c-n.bottom,d=g=e(d,o,o+n.width)):(d=o,g=u-n.right,p=m=e(p,r,r+n.height)):(_=!0,v=!1),t.path=_&&!v?null:i.renderer.crispLine([["M",d,p],["L",g,m]],l||1)})),t.path}getLinearTickPositions(t,e,n){const i=g(Math.floor(e/t)*t);n=g(Math.ceil(n/t)*t);const o=[];let r,s;if(g(i+t)===i&&(s=20),this.single)return[e];for(e=i;e<=n&&(o.push(e),(e=g(e+t,s))!==r);)r=e;return o}getMinorTickInterval(){const t=this.options;return!0===t.minorTicks?T(t.minorTickInterval,"auto"):!1===t.minorTicks?null:t.minorTickInterval}getMinorTickPositions(){var t=this.options;const e=this.tickPositions,n=this.minorTickInterval;var i=this.pointRangePadding||0;const o=this.min-i,r=(i=this.max+i)-o;let s=[];if(r&&r/n<this.len/3){const r=this.logarithmic;if(r)this.paddedTicks.forEach((function(t,e,i){e&&s.push.apply(s,r.getLogTickPositions(n,i[e-1],i[e],!0))}));else if(this.dateTime&&"auto"===this.getMinorTickInterval())s=s.concat(this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(n),o,i,t.startOfWeek));else for(t=o+(e[0]-o)%n;t<=i&&t!==s[0];t+=n)s.push(t)}return 0!==s.length&&this.trimTicks(s),s}adjustForMinRange(){const t=this.options,e=this.logarithmic;let n=this.min;var i=this.max;let o,r,s,a,l,c,u=0;if(this.isXAxis&&void 0===this.minRange&&!e&&(m(t.min)||m(t.max)||m(t.floor)||m(t.ceiling)?this.minRange=null:(this.series.forEach((function(t){if(a=t.xData,l=t.xIncrement?1:a.length-1,1<a.length)for(r=l;0<r;r--)s=a[r]-a[r-1],(!u||s<u)&&(u=s)})),this.minRange=Math.min(5*u,this.dataMax-this.dataMin))),i-n<this.minRange){o=this.dataMax-this.dataMin>=this.minRange,c=this.minRange;var h=(c-i+n)/2;h=[n-h,T(t.min,n-h)],o&&(h[2]=this.logarithmic?this.logarithmic.log2lin(this.dataMin):this.dataMin),n=d(h),i=[n+c,T(t.max,n+c)],o&&(i[2]=e?e.log2lin(this.dataMax):this.dataMax),(i=p(i))-n<c&&(h[0]=i-c,h[1]=T(t.min,i-c),n=d(h))}this.min=n,this.max=i}getClosest(){let t;return this.categories?t=1:this.series.forEach((function(e){const n=e.closestPointRange,i=e.visible||!e.chart.options.chart.ignoreHiddenSeries;!e.noSharedTooltip&&m(n)&&i&&(t=m(t)?Math.min(t,n):n)})),t}nameToX(t){const e=E(this.options.categories),n=e?this.categories:this.names;let i,o=t.options.x;return t.series.requireSorting=!1,m(o)||(o=this.options.uniqueNames&&n?e?n.indexOf(t.name):T(n.keys[t.name],-1):t.series.autoIncrement()),-1===o?!e&&n&&(i=n.length):i=o,void 0!==i?(this.names[i]=t.name,this.names.keys[t.name]=i):t.x&&(i=t.x),i}updateNames(){const t=this,e=this.names;0<e.length&&(Object.keys(e.keys).forEach((function(t){delete e.keys[t]})),e.length=0,this.minRange=this.userMinRange,(this.series||[]).forEach((function(e){e.xIncrement=null,e.points&&!e.isDirtyData||(t.max=Math.max(t.max,e.xData.length-1),e.processData(),e.generatePoints()),e.data.forEach((function(n,i){let o;n&&n.options&&void 0!==n.name&&(o=t.nameToX(n),void 0!==o&&o!==n.x&&(n.x=o,e.xData[i]=o))}))})))}setAxisTranslation(){const t=this,e=t.max-t.min;var n=t.linkedParent;const i=!!t.categories,o=t.isXAxis;let r,s=t.axisPointRange||0,a=0,l=0,c=t.transA;(o||i||s)&&(r=t.getClosest(),n?(a=n.minPointOffset,l=n.pointRangePadding):t.series.forEach((function(e){const n=i?1:o?T(e.options.pointRange,r,0):t.axisPointRange||0,c=e.options.pointPlacement;s=Math.max(s,n),t.single&&!i||(e=e.is("xrange")?!o:o,a=Math.max(a,e&&w(c)?0:n/2),l=Math.max(l,e&&"on"===c?0:n))})),n=t.ordinal&&t.ordinal.slope&&r?t.ordinal.slope/r:1,t.minPointOffset=a*=n,t.pointRangePadding=l*=n,t.pointRange=Math.min(s,t.single&&i?1:e),o&&(t.closestPointRange=r)),t.translationSlope=t.transA=c=t.staticScale||t.len/(e+l||1),t.transB=t.horiz?t.left:t.bottom,t.minPixelPadding=c*a,b(this,"afterSetAxisTranslation")}minFromRange(){return this.max-this.range}setTickInterval(t){var e=this.chart;const n=this.logarithmic,i=this.options,o=this.isXAxis,r=this.isLinked,s=i.tickPixelInterval,a=this.categories,l=this.softThreshold;let c,u,h,d=i.maxPadding,p=i.minPadding,f=S(i.tickInterval)&&0<=i.tickInterval?i.tickInterval:void 0,_=S(this.threshold)?this.threshold:null;if(this.dateTime||a||r||this.getTickAmount(),u=T(this.userMin,i.min),h=T(this.userMax,i.max),r){this.linkedParent=e[this.coll][i.linkedTo];var y=this.linkedParent.getExtremes();this.min=T(y.min,y.dataMin),this.max=T(y.max,y.dataMax),i.type!==this.linkedParent.options.type&&v(11,1,e)}else l&&m(_)&&(this.dataMin>=_?(y=_,p=0):this.dataMax<=_&&(c=_,d=0)),this.min=T(u,y,this.dataMin),this.max=T(h,c,this.dataMax);if(n&&(this.positiveValuesOnly&&!t&&0>=Math.min(this.min,T(this.dataMin,this.min))&&v(10,1,e),this.min=g(n.log2lin(this.min),16),this.max=g(n.log2lin(this.max),16)),this.range&&m(this.max)&&(this.userMin=this.min=u=Math.max(this.dataMin,this.minFromRange()),this.userMax=h=this.max,this.range=null),b(this,"foundExtremes"),this.beforePadding&&this.beforePadding(),this.adjustForMinRange(),!(a||this.axisPointRange||this.stacking&&this.stacking.usePercentage||r)&&m(this.min)&&m(this.max)&&(e=this.max-this.min)&&(!m(u)&&p&&(this.min-=e*p),!m(h)&&d&&(this.max+=e*d)),S(this.userMin)||(S(i.softMin)&&i.softMin<this.min&&(this.min=u=i.softMin),S(i.floor)&&(this.min=Math.max(this.min,i.floor))),S(this.userMax)||(S(i.softMax)&&i.softMax>this.max&&(this.max=h=i.softMax),S(i.ceiling)&&(this.max=Math.min(this.max,i.ceiling))),l&&m(this.dataMin)&&(_=_||0,!m(u)&&this.min<_&&this.dataMin>=_?this.min=this.options.minRange?Math.min(_,this.max-this.minRange):_:!m(h)&&this.max>_&&this.dataMax<=_&&(this.max=this.options.minRange?Math.max(_,this.min+this.minRange):_)),S(this.min)&&S(this.max)&&!this.chart.polar&&this.min>this.max&&(m(this.options.min)?this.max=this.min:m(this.options.max)&&(this.min=this.max)),this.tickInterval=this.min===this.max||void 0===this.min||void 0===this.max?1:r&&this.linkedParent&&!f&&s===this.linkedParent.options.tickPixelInterval?f=this.linkedParent.tickInterval:T(f,this.tickAmount?(this.max-this.min)/Math.max(this.tickAmount-1,1):void 0,a?1:(this.max-this.min)*s/Math.max(this.len,s)),o&&!t){const t=this.min!==(this.old&&this.old.min)||this.max!==(this.old&&this.old.max);this.series.forEach((function(e){e.forceCrop=e.forceCropping&&e.forceCropping(),e.processData(t)})),b(this,"postProcessData",{hasExtremesChanged:t})}this.setAxisTranslation(),b(this,"initialAxisTranslation"),this.pointRange&&!f&&(this.tickInterval=Math.max(this.pointRange,this.tickInterval)),t=T(i.minTickInterval,this.dateTime&&!this.series.some((t=>t.noSharedTooltip))?this.closestPointRange:0),!f&&this.tickInterval<t&&(this.tickInterval=t),this.dateTime||this.logarithmic||f||(this.tickInterval=L(this,this.tickInterval)),this.tickAmount||(this.tickInterval=this.unsquish()),this.setTickPositions()}setTickPositions(){var t=this.options;const e=t.tickPositions,n=t.tickPositioner;var i=this.getMinorTickInterval(),o=this.hasVerticalPanning(),r="colorAxis"===this.coll;const s=(r||!o)&&t.startOnTick;let a;if(o=(r||!o)&&t.endOnTick,r=[],this.tickmarkOffset=this.categories&&"between"===t.tickmarkPlacement&&1===this.tickInterval?.5:0,this.minorTickInterval="auto"===i&&this.tickInterval?this.tickInterval/t.minorTicksPerMajor:i,this.single=this.min===this.max&&m(this.min)&&!this.tickAmount&&(parseInt(this.min,10)===this.min||!1!==t.allowDecimals),e)r=e.slice();else if(S(this.min)&&S(this.max)){if(this.ordinal&&this.ordinal.positions||!((this.max-this.min)/this.tickInterval>Math.max(2*this.len,200)))if(this.dateTime)r=this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(this.tickInterval,t.units),this.min,this.max,t.startOfWeek,this.ordinal&&this.ordinal.positions,this.closestPointRange,!0);else if(this.logarithmic)r=this.logarithmic.getLogTickPositions(this.tickInterval,this.min,this.max);else for(i=t=this.tickInterval;i<=2*t&&(r=this.getLinearTickPositions(this.tickInterval,this.min,this.max),this.tickAmount&&r.length>this.tickAmount);)this.tickInterval=L(this,i*=1.1);else r=[this.min,this.max],v(19,!1,this.chart);r.length>this.len&&(r=[r[0],r[r.length-1]])[0]===r[1]&&(r.length=1),n&&(this.tickPositions=r,(a=n.apply(this,[this.min,this.max]))&&(r=a))}this.tickPositions=r,this.paddedTicks=r.slice(0),this.trimTicks(r,s,o),!this.isLinked&&S(this.min)&&S(this.max)&&(this.single&&2>r.length&&!this.categories&&!this.series.some((t=>t.is("heatmap")&&"between"===t.options.pointPlacement))&&(this.min-=.5,this.max+=.5),e||a||this.adjustTickAmount()),b(this,"afterSetTickPositions")}trimTicks(t,e,n){const i=t[0],o=t[t.length-1],r=!this.isOrdinal&&this.minPointOffset||0;if(b(this,"trimTicks"),!this.isLinked){if(e&&-1/0!==i)this.min=i;else for(;this.min-r>t[0];)t.shift();if(n)this.max=o;else for(;this.max+r<t[t.length-1];)t.pop();0===t.length&&m(i)&&!this.options.tickPositions&&t.push((o+i)/2)}}alignToOthers(){const t=this,e=[this],n=t.options,i="yAxis"===this.coll&&this.chart.options.chart.alignThresholds,o=[];let r;if(t.thresholdAlignment=void 0,(!1!==this.chart.options.chart.alignTicks&&n.alignTicks||i)&&!1!==n.startOnTick&&!1!==n.endOnTick&&!t.logarithmic){const n=t=>{const{horiz:e,options:n}=t;return[e?n.left:n.top,n.width,n.height,n.pane].join()},i=n(this);this.chart[this.coll].forEach((function(o){const{series:s}=o;s.length&&s.some((t=>t.visible))&&o!==t&&n(o)===i&&(r=!0,e.push(o))}))}if(r&&i){e.forEach((e=>{e=e.getThresholdAlignment(t),S(e)&&o.push(e)}));const n=1<o.length?o.reduce(((t,e)=>t+e),0)/o.length:void 0;e.forEach((t=>{t.thresholdAlignment=n}))}return r}getThresholdAlignment(t){if((!S(this.dataMin)||this!==t&&this.series.some((t=>t.isDirty||t.isDirtyData)))&&this.getSeriesExtremes(),S(this.threshold))return t=f((this.threshold-(this.dataMin||0))/((this.dataMax||0)-(this.dataMin||0)),0,1),this.options.reversed&&(t=1-t),t}getTickAmount(){const t=this.options,e=t.tickPixelInterval;let n=t.tickAmount;!m(t.tickInterval)&&!n&&this.len<e&&!this.isRadial&&!this.logarithmic&&t.startOnTick&&t.endOnTick&&(n=2),!n&&this.alignToOthers()&&(n=Math.ceil(this.len/e)+1),4>n&&(this.finalTickAmt=n,n=5),this.tickAmount=n}adjustTickAmount(){const t=this,{finalTickAmt:e,max:n,min:i,options:o,tickPositions:r,tickAmount:s,thresholdAlignment:a}=t,l=r&&r.length;var c=T(t.threshold,t.softThreshold?0:null),u=t.tickInterval;let h;if(S(a)&&(h=.5>a?Math.ceil(a*(s-1)):Math.floor(a*(s-1)),o.reversed&&(h=s-1-h)),t.hasData()&&S(i)&&S(n)){const a=()=>{t.transA*=(l-1)/(s-1),t.min=o.startOnTick?r[0]:Math.min(i,r[0]),t.max=o.endOnTick?r[r.length-1]:Math.max(n,r[r.length-1])};if(S(h)&&S(t.threshold)){for(;r[h]!==c||r.length!==s||r[0]>i||r[r.length-1]<n;){for(r.length=0,r.push(t.threshold);r.length<s;)void 0===r[h]||r[h]>t.threshold?r.unshift(g(r[0]-u)):r.push(g(r[r.length-1]+u));if(u>8*t.tickInterval)break;u*=2}a()}else if(l<s){for(;r.length<s;)r.length%2||i===c?r.push(g(r[r.length-1]+u)):r.unshift(g(r[0]-u));a()}if(m(e)){for(u=c=r.length;u--;)(3===e&&1==u%2||2>=e&&0<u&&u<c-1)&&r.splice(u,1);t.finalTickAmt=void 0}}}setScale(){let t=!1,e=!1;this.series.forEach((function(n){t=t||n.isDirtyData||n.isDirty,e=e||n.xAxis&&n.xAxis.isDirty||!1})),this.setAxisSize();const n=this.len!==(this.old&&this.old.len);n||t||e||this.isLinked||this.forceRedraw||this.userMin!==(this.old&&this.old.userMin)||this.userMax!==(this.old&&this.old.userMax)||this.alignToOthers()?(this.stacking&&(this.stacking.resetStacks(),this.stacking.buildStacks()),this.forceRedraw=!1,this.userMinRange||(this.minRange=void 0),this.getSeriesExtremes(),this.setTickInterval(),this.isDirty||(this.isDirty=n||this.min!==(this.old&&this.old.min)||this.max!==(this.old&&this.old.max))):this.stacking&&this.stacking.cleanStacks(),t&&this.panningState&&(this.panningState.isDirty=!0),b(this,"afterSetScale")}setExtremes(t,e,n,i,o){const r=this,s=r.chart;n=T(n,!0),r.series.forEach((function(t){delete t.kdTree})),o=C(o,{min:t,max:e}),b(r,"setExtremes",o,(function(){r.userMin=t,r.userMax=e,r.eventArgs=o,n&&s.redraw(i)}))}zoom(t,e){const n=this,i=this.dataMin,o=this.dataMax,r=this.options,s=Math.min(i,T(r.min,i)),a=Math.max(o,T(r.max,o));return b(this,"zoom",t={newMin:t,newMax:e},(function(t){let e=t.newMin,r=t.newMax;e===n.min&&r===n.max||(n.allowZoomOutside||(m(i)&&(e<s&&(e=s),e>a&&(e=a)),m(o)&&(r<s&&(r=s),r>a&&(r=a))),n.displayBtn=void 0!==e||void 0!==r,n.setExtremes(e,r,!1,void 0,{trigger:"zoom"})),t.zoomed=!0})),t.zoomed}setAxisSize(){const t=this.chart;var e=this.options;const n=e.offsets||[0,0,0,0],i=this.horiz,o=this.width=Math.round(M(T(e.width,t.plotWidth-n[3]+n[1]),t.plotWidth)),r=this.height=Math.round(M(T(e.height,t.plotHeight-n[0]+n[2]),t.plotHeight)),s=this.top=Math.round(M(T(e.top,t.plotTop+n[0]),t.plotHeight,t.plotTop));e=this.left=Math.round(M(T(e.left,t.plotLeft+n[3]),t.plotWidth,t.plotLeft)),this.bottom=t.chartHeight-r-s,this.right=t.chartWidth-o-e,this.len=Math.max(i?o:r,0),this.pos=i?e:s}getExtremes(){const t=this.logarithmic;return{min:t?g(t.lin2log(this.min)):this.min,max:t?g(t.lin2log(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}}getThreshold(t){var e=this.logarithmic;const n=e?e.lin2log(this.min):this.min;return e=e?e.lin2log(this.max):this.max,null===t||-1/0===t?t=n:1/0===t?t=e:n>t?t=n:e<t&&(t=e),this.translate(t,0,1,0,1)}autoLabelAlign(t){const e=(T(t,0)-90*this.side+720)%360;return b(this,"autoLabelAlign",t={align:"center"},(function(t){15<e&&165>e?t.align="right":195<e&&345>e&&(t.align="left")})),t.align}tickSize(t){const e=this.options,n=T(e["tick"===t?"tickWidth":"minorTickWidth"],"tick"===t&&this.isXAxis&&!this.categories?1:0);let i,o=e["tick"===t?"tickLength":"minorTickLength"];return n&&o&&("inside"===e[t+"Position"]&&(o=-o),i=[o,n]),b(this,"afterTickSize",t={tickSize:i}),t.tickSize}labelMetrics(){const t=this.chart.renderer;var e=this.ticks;return e=e[Object.keys(e)[0]]||{},this.chart.renderer.fontMetrics(e.label||e.movedLabel||t.box)}unsquish(){const t=this.options.labels;var e=this.horiz;const n=this.tickInterval,i=this.len/(((this.categories?1:0)+this.max-this.min)/n),o=t.rotation,r=.75*this.labelMetrics().h,s=Math.max(this.max-this.min,0),a=function(t){let e=t/(i||1);return e=1<e?Math.ceil(e):1,e*n>s&&1/0!==t&&1/0!==i&&s&&(e=Math.ceil(s/n)),g(e*n)};let l,c,u=n,d=Number.MAX_VALUE;if(e){if(t.staggerLines||(S(o)?c=[o]:i<t.autoRotationLimit&&(c=t.autoRotation)),c){let t;for(const n of c)(n===o||n&&-90<=n&&90>=n)&&(t=(e=a(Math.abs(r/Math.sin(h*n))))+Math.abs(n/360),t<d&&(d=t,l=n,u=e))}}else u=a(r);return this.autoRotation=c,this.labelRotation=T(l,S(o)?o:0),t.step?n:u}getSlotWidth(t){const e=this.chart,n=this.horiz,i=this.options.labels,o=Math.max(this.tickPositions.length-(this.categories?0:1),1),r=e.margin[3];if(t&&S(t.slotWidth))return t.slotWidth;if(n&&2>i.step)return i.rotation?0:(this.staggerLines||1)*this.len/o;if(!n){if(void 0!==(t=i.style.width))return parseInt(String(t),10);if(r)return r-e.spacing[3]}return.33*e.chartWidth}renderUnsquish(){const t=this.chart,e=t.renderer,n=this.tickPositions,i=this.ticks,o=this.options.labels,r=o.style,s=this.horiz,a=this.getSlotWidth();var l=Math.max(1,Math.round(a-2*o.padding));const c={},u=this.labelMetrics(),h=r.textOverflow;let d,p,f=0;if(w(o.rotation)||(c.rotation=o.rotation||0),n.forEach((function(t){(t=i[t]).movedLabel&&t.replaceMovedLabel(),t&&t.label&&t.label.textPxLength>f&&(f=t.label.textPxLength)})),this.maxLabelLength=f,this.autoRotation)f>l&&f>u.h?c.rotation=this.labelRotation:this.labelRotation=0;else if(a&&(d=l,!h))for(p="clip",l=n.length;!s&&l--;){var g=n[l];(g=i[g].label)&&(g.styles&&"ellipsis"===g.styles.textOverflow?g.css({textOverflow:"clip"}):g.textPxLength>a&&g.css({width:a+"px"}),g.getBBox().height>this.len/n.length-(u.h-u.f)&&(g.specificTextOverflow="ellipsis"))}c.rotation&&(d=f>.5*t.chartHeight?.33*t.chartHeight:f,h||(p="ellipsis")),(this.labelAlign=o.align||this.autoLabelAlign(this.labelRotation))&&(c.align=this.labelAlign),n.forEach((function(t){const e=(t=i[t])&&t.label,n=r.width,o={};e&&(e.attr(c),t.shortenLabel?t.shortenLabel():d&&!n&&"nowrap"!==r.whiteSpace&&(d<e.textPxLength||"SPAN"===e.element.tagName)?(o.width=d+"px",h||(o.textOverflow=e.specificTextOverflow||p),e.css(o)):e.styles&&e.styles.width&&!o.width&&!n&&e.css({width:null}),delete e.specificTextOverflow,t.rotation=c.rotation)}),this),this.tickRotCorr=e.rotCorr(u.b,this.labelRotation||0,0!==this.side)}hasData(){return this.series.some((function(t){return t.hasData()}))||this.options.showEmpty&&m(this.min)&&m(this.max)}addTitle(t){const e=this.chart.renderer,n=this.horiz,i=this.opposite,o=this.options.title,r=this.chart.styledMode;let s;this.axisTitle||((s=o.textAlign)||(s=(n?{low:"left",middle:"center",high:"right"}:{low:i?"right":"left",middle:"center",high:i?"left":"right"})[o.align]),this.axisTitle=e.text(o.text||"",0,0,o.useHTML).attr({zIndex:7,rotation:o.rotation,align:s}).addClass("highcharts-axis-title"),r||this.axisTitle.css(O(o.style)),this.axisTitle.add(this.axisGroup),this.axisTitle.isNew=!0),r||o.style.width||this.isRadial||this.axisTitle.css({width:this.len+"px"}),this.axisTitle[t?"show":"hide"](t)}generateTick(t){const e=this.ticks;e[t]?e[t].addLabel():e[t]=new s(this,t)}getOffset(){const t=this,{chart:e,horiz:n,options:i,side:o,ticks:r,tickPositions:s,coll:a,axisParent:l}=t,c=e.renderer,u=e.inverted&&!t.isZAxis?[1,0,3,2][o]:o;var h=t.hasData();const d=i.title;var p=i.labels;const f=S(i.crossing);var g=e.axisOffset;const _=e.clipOffset,y=[-1,1,1,-1][o],v=i.className;let C,E,w=0;var O=0;let x=0;if(t.showAxis=C=h||i.showEmpty,t.staggerLines=t.horiz&&p.staggerLines||void 0,!t.axisGroup){const e=(t,e,n)=>c.g(t).attr({zIndex:n}).addClass(`highcharts-${a.toLowerCase()}${e} `+(this.isRadial?`highcharts-radial-axis${e} `:"")+(v||"")).add(l);t.gridGroup=e("grid","-grid",i.gridZIndex),t.axisGroup=e("axis","",i.zIndex),t.labelGroup=e("axis-labels","-labels",p.zIndex)}h||t.isLinked?(s.forEach((function(e){t.generateTick(e)})),t.renderUnsquish(),t.reserveSpaceDefault=0===o||2===o||{1:"left",3:"right"}[o]===t.labelAlign,T(p.reserveSpace,!f&&null,"center"===t.labelAlign||null,t.reserveSpaceDefault)&&s.forEach((function(t){x=Math.max(r[t].getLabelSize(),x)})),t.staggerLines&&(x*=t.staggerLines),t.labelOffset=x*(t.opposite?-1:1)):P(r,(function(t,e){t.destroy(),delete r[e]})),d&&d.text&&!1!==d.enabled&&(t.addTitle(C),C&&!f&&!1!==d.reserveSpace&&(t.titleOffset=w=t.axisTitle.getBBox()[n?"height":"width"],E=d.offset,O=m(E)?0:T(d.margin,n?5:10))),t.renderLine(),t.offset=y*T(i.offset,g[o]?g[o]+(i.margin||0):0),t.tickRotCorr=t.tickRotCorr||{x:0,y:0},h=0===o?-t.labelMetrics().h:2===o?t.tickRotCorr.y:0,O=Math.abs(x)+O,x&&(O=O-h+y*(n?T(p.y,t.tickRotCorr.y+y*p.distance):T(p.x,y*p.distance))),t.axisTitleMargin=T(E,O),t.getMaxLabelDimensions&&(t.maxLabelDimensions=t.getMaxLabelDimensions(r,s)),"colorAxis"!==a&&(p=this.tickSize("tick"),g[o]=Math.max(g[o],(t.axisTitleMargin||0)+w+y*t.offset,O,s&&s.length&&p?p[0]+y*t.offset:0),g=!t.axisLine||i.offset?0:2*Math.floor(t.axisLine.strokeWidth()/2),_[u]=Math.max(_[u],g)),b(this,"afterGetOffset")}getLinePath(t){const e=this.chart,n=this.opposite;var i=this.offset;const o=this.horiz,r=this.left+(n?this.width:0)+i;return i=e.chartHeight-this.bottom-(n?this.height:0)+i,n&&(t*=-1),e.renderer.crispLine([["M",o?this.left:r,o?i:this.top],["L",o?e.chartWidth-this.right:r,o?i:e.chartHeight-this.bottom]],t)}renderLine(){this.axisLine||(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.chart.styledMode||this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))}getTitlePosition(t){var e=this.horiz,n=this.left;const i=this.top;var o=this.len;const r=this.options.title,s=e?n:i,a=this.opposite,l=this.offset,c=r.x,u=r.y,h=this.chart.renderer.fontMetrics(t);return t=t?Math.max(t.getBBox(!1,0).height-h.h-1,0):0,o={low:s+(e?0:o),middle:s+o/2,high:s+(e?o:0)}[r.align],n=(e?i+this.height:n)+(e?1:-1)*(a?-1:1)*(this.axisTitleMargin||0)+[-t,t,h.f,-t][this.side],e={x:e?o+c:n+(a?this.width:0)+l+c,y:e?n+u-(a?this.height:0)+l:o+u},b(this,"afterGetTitlePosition",{titlePosition:e}),e}renderMinorTick(t,e){const n=this.minorTicks;n[t]||(n[t]=new s(this,t,"minor")),e&&n[t].isNew&&n[t].render(null,!0),n[t].render(null,!1,1)}renderTick(t,e,n){const i=this.ticks;(!this.isLinked||t>=this.min&&t<=this.max||this.grid&&this.grid.isColumn)&&(i[t]||(i[t]=new s(this,t)),n&&i[t].isNew&&i[t].render(e,!0,-1),i[t].render(e))}render(){const t=this,e=t.chart,n=t.logarithmic,i=t.options,o=t.isLinked,a=t.tickPositions,c=t.axisTitle,u=t.ticks,h=t.minorTicks,d=t.alternateBands,p=i.stackLabels,f=i.alternateGridColor,g=i.crossing,m=t.tickmarkOffset,_=t.axisLine,y=t.showAxis,v=l(e.renderer.globalAnimation);let C,E;if(t.labelEdge.length=0,t.overlap=!1,[u,h,d].forEach((function(t){P(t,(function(t){t.isActive=!1}))})),S(g)){const t=this.isXAxis?e.yAxis[0]:e.xAxis[0],n=[1,-1,-1,1][this.side];t&&(this.offset=n*t.toPixels(g,!0))}if(t.hasData()||o){const o=t.chart.hasRendered&&t.old&&S(t.old.min);t.minorTickInterval&&!t.categories&&t.getMinorTickPositions().forEach((function(e){t.renderMinorTick(e,o)})),a.length&&(a.forEach((function(e,n){t.renderTick(e,n,o)})),m&&(0===t.min||t.single)&&(u[-1]||(u[-1]=new s(t,-1,null,!0)),u[-1].render(-1))),f&&a.forEach((function(i,o){E=void 0!==a[o+1]?a[o+1]+m:t.max-m,0==o%2&&i<t.max&&E<=t.max+(e.polar?-m:m)&&(d[i]||(d[i]=new r.PlotLineOrBand(t)),C=i+m,d[i].options={from:n?n.lin2log(C):C,to:n?n.lin2log(E):E,color:f,className:"highcharts-alternate-grid"},d[i].render(),d[i].isActive=!0)})),t._addedPlotLB||(t._addedPlotLB=!0,(i.plotLines||[]).concat(i.plotBands||[]).forEach((function(e){t.addPlotBandOrLine(e)})))}[u,h,d].forEach((function(t){const n=[],i=v.duration;P(t,(function(t,e){t.isActive||(t.render(e,!1,0),t.isActive=!1,n.push(e))})),A((function(){let e=n.length;for(;e--;)t[n[e]]&&!t[n[e]].isActive&&(t[n[e]].destroy(),delete t[n[e]])}),t!==d&&e.hasRendered&&i?i:0)})),_&&(_[_.isPlaced?"animate":"attr"]({d:this.getLinePath(_.strokeWidth())}),_.isPlaced=!0,_[y?"show":"hide"](y)),c&&y&&(c[c.isNew?"attr":"animate"](t.getTitlePosition(c)),c.isNew=!1),p&&p.enabled&&t.stacking&&t.stacking.renderStackTotals(),t.old={len:t.len,max:t.max,min:t.min,transA:t.transA,userMax:t.userMax,userMin:t.userMin},t.isDirty=!1,b(this,"afterRender")}redraw(){this.visible&&(this.render(),this.plotLinesAndBands.forEach((function(t){t.render()}))),this.series.forEach((function(t){t.isDirty=!0}))}getKeepProps(){return this.keepProps||I.keepProps}destroy(t){const e=this,n=e.plotLinesAndBands,i=this.eventOptions;if(b(this,"destroy",{keepEvents:t}),t||D(e),[e.ticks,e.minorTicks,e.alternateBands].forEach((function(t){_(t)})),n)for(t=n.length;t--;)n[t].destroy();"axisLine axisTitle axisGroup gridGroup labelGroup cross scrollbar".split(" ").forEach((function(t){e[t]&&(e[t]=e[t].destroy())}));for(const t in e.plotLinesAndBandsGroups)e.plotLinesAndBandsGroups[t]=e.plotLinesAndBandsGroups[t].destroy();P(e,(function(t,n){-1===e.getKeepProps().indexOf(n)&&delete e[n]})),this.eventOptions=i}drawCrosshair(t,e){const i=this.crosshair;var o=T(i&&i.snap,!0);const r=this.chart;let s,a=this.cross;if(b(this,"drawCrosshair",{e:t,point:e}),t||(t=this.cross&&this.cross.e),i&&!1!==(m(e)||!o)){if(o?m(e)&&(s=T("colorAxis"!==this.coll?e.crosshairPos:null,this.isXAxis?e.plotX:this.len-e.plotY)):s=t&&(this.horiz?t.chartX-this.pos:this.len-t.chartY+this.pos),m(s)){var l={value:e&&(this.isXAxis?e.x:T(e.stackY,e.y)),translatedValue:s};r.polar&&C(l,{isCrosshair:!0,chartX:t&&t.chartX,chartY:t&&t.chartY,point:e}),l=this.getPlotLinePath(l)||null}if(!m(l))return void this.hideCrosshair();o=this.categories&&!this.isRadial,a||(this.cross=a=r.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(o?"category ":"thin ")+(i.className||"")).attr({zIndex:T(i.zIndex,2)}).add(),r.styledMode||(a.attr({stroke:i.color||(o?n.parse("#ccd3ff").setOpacity(.25).get():"#cccccc"),"stroke-width":T(i.width,1)}).css({"pointer-events":"none"}),i.dashStyle&&a.attr({dashstyle:i.dashStyle}))),a.show().attr({d:l}),o&&!i.width&&a.attr({"stroke-width":this.transA}),this.cross.e=t}else this.hideCrosshair();b(this,"afterDrawCrosshair",{e:t,point:e})}hideCrosshair(){this.cross&&this.cross.hide(),b(this,"afterHideCrosshair")}hasVerticalPanning(){const t=this.chart.options.chart.panning;return!!(t&&t.enabled&&/y/.test(t.type))}update(t,e){const n=this.chart;t=O(this.userOptions,t),this.destroy(!0),this.init(n,t),n.isDirtyBox=!0,T(e,!0)&&n.redraw()}remove(t){const e=this.chart,n=this.coll,i=this.series;let o=i.length;for(;o--;)i[o]&&i[o].remove(!1);y(e.axes,this),y(e[n],this),e[n].forEach((function(t,e){t.options.index=t.userOptions.index=e})),this.destroy(),e.isDirtyBox=!0,T(t,!0)&&e.redraw()}setTitle(t,e){this.update({title:t},e)}setCategories(t,e){this.update({categories:t},e)}}return I.defaultOptions=e.defaultXAxisOptions,I.keepProps="extKey hcEvents names series userMax userMin".split(" "),I})),e(n,"Core/Axis/DateTimeAxis.js",[n["Core/Utilities.js"]],(function(t){const{addEvent:e,getMagnitude:n,normalizeTickInterval:i,timeUnits:o}=t;var r;return function(r){function s(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)}function a(t){"datetime"!==t.userOptions.type?this.dateTime=void 0:this.dateTime||(this.dateTime=new c(this))}const l=[];r.compose=function(n){return t.pushUnique(l,n)&&(n.keepProps.push("dateTime"),n.prototype.getTimeTicks=s,e(n,"init",a)),n};class c{constructor(t){this.axis=t}normalizeTimeTickInterval(t,e){const r=e||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]];e=r[r.length-1];let s,a=o[e[0]],l=e[1];for(s=0;s<r.length&&(e=r[s],a=o[e[0]],l=e[1],!(r[s+1]&&t<=(a*l[l.length-1]+o[r[s+1][0]])/2));s++);return a===o.year&&t<5*a&&(l=[1,2,5]),{unitRange:a,count:t=i(t/a,l,"year"===e[0]?Math.max(n(t/a),1):1),unitName:e[0]}}getXDateFormat(t,e){const{axis:n}=this,i=n.chart.time;return n.closestPointRange?i.getDateFormat(n.closestPointRange,t,n.options.startOfWeek,e)||i.resolveDTLFormat(e.year).main:i.resolveDTLFormat(e.day).main}}r.Additions=c}(r||(r={})),r})),e(n,"Core/Axis/LogarithmicAxis.js",[n["Core/Utilities.js"]],(function(t){const{addEvent:e,normalizeTickInterval:n,pick:i}=t;var o;return function(o){function r(t){let e=this.logarithmic;"logarithmic"!==t.userOptions.type?this.logarithmic=void 0:e||(this.logarithmic=new l(this))}function s(){const t=this.logarithmic;t&&(this.lin2val=function(e){return t.lin2log(e)},this.val2lin=function(e){return t.log2lin(e)})}const a=[];o.compose=function(n){return t.pushUnique(a,n)&&(n.keepProps.push("logarithmic"),e(n,"init",r),e(n,"afterInit",s)),n};class l{constructor(t){this.axis=t}getLogTickPositions(t,e,o,r){const s=this.axis;var a=s.len,l=s.options;let c=[];if(r||(this.minorAutoInterval=void 0),.5<=t)t=Math.round(t),c=s.getLinearTickPositions(t,e,o);else if(.08<=t){let n,i,s,u,h;for(l=Math.floor(e),a=.3<t?[1,2,4]:.15<t?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];l<o+1&&!h;l++)for(i=a.length,n=0;n<i&&!h;n++)s=this.log2lin(this.lin2log(l)*a[n]),s>e&&(!r||u<=o)&&void 0!==u&&c.push(u),u>o&&(h=!0),u=s}else e=this.lin2log(e),o=this.lin2log(o),t=r?s.getMinorTickInterval():l.tickInterval,t=i("auto"===t?null:t,this.minorAutoInterval,l.tickPixelInterval/(r?5:1)*(o-e)/((r?a/s.tickPositions.length:a)||1)),t=n(t),c=s.getLinearTickPositions(t,e,o).map(this.log2lin),r||(this.minorAutoInterval=t/5);return r||(s.tickInterval=t),c}lin2log(t){return Math.pow(10,t)}log2lin(t){return Math.log(t)/Math.LN10}}o.Additions=l}(o||(o={})),o})),e(n,"Core/Axis/PlotLineOrBand/PlotLineOrBandAxis.js",[n["Core/Utilities.js"]],(function(t){const{erase:e,extend:n,isNumber:i}=t;var o;return function(o){function r(t){return this.addPlotBandOrLine(t,"plotBands")}function s(t,e){const n=this.userOptions;let i=new p(this,t);if(this.visible&&(i=i.render()),i){if(this._addedPlotLB||(this._addedPlotLB=!0,(n.plotLines||[]).concat(n.plotBands||[]).forEach((t=>{this.addPlotBandOrLine(t)}))),e){const i=n[e]||[];i.push(t),n[e]=i}this.plotLinesAndBands.push(i)}return i}function a(t){return this.addPlotBandOrLine(t,"plotLines")}function l(t,e,n=this.options){const o=this.getPlotLinePath({value:e,force:!0,acrossPanes:n.acrossPanes}),r=[],s=this.horiz;let a;if(e=!i(this.min)||!i(this.max)||t<this.min&&e<this.min||t>this.max&&e>this.max,t=this.getPlotLinePath({value:t,force:!0,acrossPanes:n.acrossPanes}),n=1,t&&o)for(e&&(a=t.toString()===o.toString(),n=0),e=0;e<t.length;e+=2){const i=t[e],l=t[e+1],c=o[e],u=o[e+1];"M"!==i[0]&&"L"!==i[0]||"M"!==l[0]&&"L"!==l[0]||"M"!==c[0]&&"L"!==c[0]||"M"!==u[0]&&"L"!==u[0]||(s&&c[1]===i[1]?(c[1]+=n,u[1]+=n):s||c[2]!==i[2]||(c[2]+=n,u[2]+=n),r.push(["M",i[1],i[2]],["L",l[1],l[2]],["L",u[1],u[2]],["L",c[1],c[2]],["Z"])),r.isFlat=a}return r}function c(t){this.removePlotBandOrLine(t)}function u(t){const n=this.plotLinesAndBands,i=this.options,o=this.userOptions;if(n){let r=n.length;for(;r--;)n[r].id===t&&n[r].destroy();[i.plotLines||[],o.plotLines||[],i.plotBands||[],o.plotBands||[]].forEach((function(n){for(r=n.length;r--;)(n[r]||{}).id===t&&e(n,n[r])}))}}function h(t){this.removePlotBandOrLine(t)}const d=[];let p;o.compose=function(e,i){return p||(p=e),t.pushUnique(d,i)&&n(i.prototype,{addPlotBand:r,addPlotLine:a,addPlotBandOrLine:s,getPlotBandPath:l,removePlotBand:c,removePlotLine:h,removePlotBandOrLine:u}),i}}(o||(o={})),o})),e(n,"Core/Axis/PlotLineOrBand/PlotLineOrBand.js",[n["Core/Axis/PlotLineOrBand/PlotLineOrBandAxis.js"],n["Core/Utilities.js"]],(function(t,e){const{arrayMax:n,arrayMin:i,defined:o,destroyObjectProperties:r,erase:s,fireEvent:a,merge:l,objectEach:c,pick:u}=e;class h{static compose(e){return t.compose(h,e)}constructor(t,e){this.axis=t,e&&(this.options=e,this.id=e.id)}render(){a(this,"render");const t=this,e=t.axis,n=e.horiz;var i=e.logarithmic;const r=t.options,s=r.color,h=u(r.zIndex,0),d=r.events,p={},f=e.chart.renderer;let g=r.label,m=t.label,_=r.to,y=r.from,v=r.value,C=t.svgElem;var b=[];const E=o(y)&&o(_);b=o(v);const S=!C,w={class:"highcharts-plot-"+(E?"band ":"line ")+(r.className||"")};let O=E?"bands":"lines";if(i&&(y=i.log2lin(y),_=i.log2lin(_),v=i.log2lin(v)),e.chart.styledMode||(b?(w.stroke=s||"#999999",w["stroke-width"]=u(r.width,1),r.dashStyle&&(w.dashstyle=r.dashStyle)):E&&(w.fill=s||"#e6e9ff",r.borderWidth&&(w.stroke=r.borderColor,w["stroke-width"]=r.borderWidth))),p.zIndex=h,O+="-"+h,(i=e.plotLinesAndBandsGroups[O])||(e.plotLinesAndBandsGroups[O]=i=f.g("plot-"+O).attr(p).add()),S&&(t.svgElem=C=f.path().attr(w).add(i)),b)b=e.getPlotLinePath({value:v,lineWidth:C.strokeWidth(),acrossPanes:r.acrossPanes});else{if(!E)return;b=e.getPlotBandPath(y,_,r)}return!t.eventsAdded&&d&&(c(d,(function(e,n){C.on(n,(function(e){d[n].apply(t,[e])}))})),t.eventsAdded=!0),(S||!C.d)&&b&&b.length?C.attr({d:b}):C&&(b?(C.show(),C.animate({d:b})):C.d&&(C.hide(),m&&(t.label=m=m.destroy()))),g&&(o(g.text)||o(g.formatter))&&b&&b.length&&0<e.width&&0<e.height&&!b.isFlat?(g=l({align:n&&E&&"center",x:n?!E&&4:10,verticalAlign:!n&&E&&"middle",y:n?E?16:10:E?6:-4,rotation:n&&!E&&90},g),this.renderLabel(g,b,E,h)):m&&m.hide(),t}renderLabel(t,e,o,r){const s=this.axis;var a=s.chart.renderer;let c=this.label;c||(this.label=c=a.text(this.getLabelText(t),0,0,t.useHTML).attr({align:t.textAlign||t.align,rotation:t.rotation,class:"highcharts-plot-"+(o?"band":"line")+"-label "+(t.className||""),zIndex:r}).add(),s.chart.styledMode||c.css(l({fontSize:"0.8em",textOverflow:"ellipsis"},t.style))),r=e.xBounds||[e[0][1],e[1][1],o?e[2][1]:e[0][1]],e=e.yBounds||[e[0][2],e[1][2],o?e[2][2]:e[0][2]],o=i(r),a=i(e),c.align(t,!1,{x:o,y:a,width:n(r)-o,height:n(e)-a}),c.alignValue&&"left"!==c.alignValue||(t=t.clip?s.width:s.chart.chartWidth,c.css({width:(90===c.rotation?s.height-(c.alignAttr.y-s.top):t-(c.alignAttr.x-s.left))+"px"})),c.show(!0)}getLabelText(t){return o(t.formatter)?t.formatter.call(this):t.text}destroy(){s(this.axis.plotLinesAndBands,this),delete this.axis,r(this)}}return h})),e(n,"Core/Tooltip.js",[n["Core/FormatUtilities.js"],n["Core/Globals.js"],n["Core/Renderer/RendererUtilities.js"],n["Core/Renderer/RendererRegistry.js"],n["Core/Utilities.js"]],(function(t,e,n,i,o){const{format:r}=t,{doc:s,isSafari:a}=e,{distribute:l}=n,{addEvent:c,clamp:u,css:h,discardElement:d,extend:p,fireEvent:f,isArray:g,isNumber:m,isString:_,merge:y,pick:v,splat:C,syncTimeout:b}=o;class E{constructor(t,e){this.allowShared=!0,this.container=void 0,this.crosshairs=[],this.distance=0,this.isHidden=!0,this.isSticky=!1,this.now={},this.options={},this.outside=!1,this.chart=t,this.init(t,e)}bodyFormatter(t){return t.map((function(t){const e=t.series.tooltipOptions;return(e[(t.point.formatPrefix||"point")+"Formatter"]||t.point.tooltipFormatter).call(t.point,e[(t.point.formatPrefix||"point")+"Format"]||"")}))}cleanSplit(t){this.chart.series.forEach((function(e){const n=e&&e.tt;n&&(!n.isActive||t?e.tt=n.destroy():n.isActive=!1)}))}defaultFormatter(t){const e=this.points||C(this);let n;return n=[t.tooltipFooterHeaderFormatter(e[0])],n=n.concat(t.bodyFormatter(e)),n.push(t.tooltipFooterHeaderFormatter(e[0],!0)),n}destroy(){this.label&&(this.label=this.label.destroy()),this.split&&(this.cleanSplit(!0),this.tt&&(this.tt=this.tt.destroy())),this.renderer&&(this.renderer=this.renderer.destroy(),d(this.container)),o.clearTimeout(this.hideTimer),o.clearTimeout(this.tooltipTimeout)}getAnchor(t,e){var n=this.chart;const i=n.pointer,o=n.inverted,r=n.plotTop;if(n=n.plotLeft,(t=C(t))[0].series&&t[0].series.yAxis&&!t[0].series.yAxis.options.reversedStacks&&(t=t.slice().reverse()),this.followPointer&&e)void 0===e.chartX&&(e=i.normalize(e)),t=[e.chartX-n,e.chartY-r];else if(t[0].tooltipPos)t=t[0].tooltipPos;else{let i=0,s=0;t.forEach((function(t){(t=t.pos(!0))&&(i+=t[0],s+=t[1])})),i/=t.length,s/=t.length,this.shared&&1<t.length&&e&&(o?i=e.chartX:s=e.chartY),t=[i-n,s-r]}return t.map(Math.round)}getClassName(t,e,n){const i=t.series,o=i.options;return[this.options.className,"highcharts-label",n&&"highcharts-tooltip-header",e?"highcharts-tooltip-box":"highcharts-tooltip",!n&&"highcharts-color-"+v(t.colorIndex,i.colorIndex),o&&o.className].filter(_).join(" ")}getLabel(){const t=this,n=this.chart.styledMode,o=this.options,r=this.split&&this.allowShared,s=o.style.pointerEvents||(this.shouldStickOnContact()?"auto":"none");let a,l=this.chart.renderer;if(this.label){var c=!this.label.hasClass("highcharts-label");(!r&&c||r&&!c)&&this.destroy()}if(!this.label){if(this.outside){c=this.chart.options.chart.style;const t=i.getRendererType();this.container=a=e.doc.createElement("div"),a.className="highcharts-tooltip-container",h(a,{position:"absolute",top:"1px",pointerEvents:s,zIndex:Math.max(this.options.style.zIndex||0,(c&&c.zIndex||0)+3)}),e.doc.body.appendChild(a),this.renderer=l=new t(a,0,0,c,void 0,void 0,l.styledMode)}if(r?this.label=l.g("tooltip"):(this.label=l.label("",0,0,o.shape,void 0,void 0,o.useHTML,void 0,"tooltip").attr({padding:o.padding,r:o.borderRadius}),n||this.label.attr({fill:o.backgroundColor,"stroke-width":o.borderWidth||0}).css(o.style).css({pointerEvents:s})),t.outside){const e=this.label,{xSetter:n,ySetter:i}=e;e.xSetter=function(i){n.call(e,t.distance),a.style.left=i+"px"},e.ySetter=function(n){i.call(e,t.distance),a.style.top=n+"px"}}this.label.attr({zIndex:8}).shadow(o.shadow).add()}return this.label}getPlayingField(){const{body:t,documentElement:e}=s,{chart:n,distance:i,outside:o}=this;return{width:o?Math.max(t.scrollWidth,e.scrollWidth,t.offsetWidth,e.offsetWidth,e.clientWidth)-2*i:n.chartWidth,height:o?Math.max(t.scrollHeight,e.scrollHeight,t.offsetHeight,e.offsetHeight,e.clientHeight):n.chartHeight}}getPosition(t,e,n){const i=this.chart,o=this.distance,r={},s=i.inverted&&n.h||0,a=this.outside;var l=this.getPlayingField();const c=l.width,u=l.height,h=i.pointer.getChartPosition();l=r=>{const s="x"===r;return[r,s?c:u,s?t:e].concat(a?[s?t*h.scaleX:e*h.scaleY,s?h.left-o+(n.plotX+i.plotLeft)*h.scaleX:h.top-o+(n.plotY+i.plotTop)*h.scaleY,0,s?c:u]:[s?t:e,s?n.plotX+i.plotLeft:n.plotY+i.plotTop,s?i.plotLeft:i.plotTop,s?i.plotLeft+i.plotWidth:i.plotTop+i.plotHeight])};let d,p=l("y"),f=l("x");l=!!n.negative,!i.polar&&i.hoverSeries&&i.hoverSeries.yAxis&&i.hoverSeries.yAxis.reversed&&(l=!l);const g=!this.followPointer&&v(n.ttBelow,!i.inverted===l),m=function(t,e,n,i,l,c,u){const d=a?"y"===t?o*h.scaleY:o*h.scaleX:o,p=(n-i)/2,f=i<l-o,m=l+o+i<e,_=l-d-n+p;if(l=l+d-p,g&&m)r[t]=l;else if(!g&&f)r[t]=_;else if(f)r[t]=Math.min(u-i,0>_-s?_:_-s);else{if(!m)return!1;r[t]=Math.max(c,l+s+n>e?l:l+s)}},_=function(t,e,n,i,s){let a;return s<o||s>e-o?a=!1:r[t]=s<n/2?1:s>e-i/2?e-i-2:s-n/2,a},y=function(t){const e=p;p=f,f=e,d=t},C=function(){!1!==m.apply(0,p)?!1!==_.apply(0,f)||d||(y(!0),C()):d?r.x=r.y=0:(y(!0),C())};return(i.inverted||1<this.len)&&y(),C(),r}hide(t){const e=this;o.clearTimeout(this.hideTimer),t=v(t,this.options.hideDelay),this.isHidden||(this.hideTimer=b((function(){e.getLabel().fadeOut(t?void 0:t),e.isHidden=!0}),t))}init(t,e){this.chart=t,this.options=e,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.split=e.split&&!t.inverted&&!t.polar,this.shared=e.shared||this.split,this.outside=v(e.outside,!(!t.scrollablePixelsX&&!t.scrollablePixelsY))}shouldStickOnContact(t){return!(this.followPointer||!this.options.stickOnContact||t&&!this.chart.pointer.inClass(t.target,"highcharts-tooltip"))}move(t,e,n,i){const r=this,s=r.now,a=!1!==r.options.animation&&!r.isHidden&&(1<Math.abs(t-s.x)||1<Math.abs(e-s.y)),l=r.followPointer||1<r.len;p(s,{x:a?(2*s.x+t)/3:t,y:a?(s.y+e)/2:e,anchorX:l?void 0:a?(2*s.anchorX+n)/3:n,anchorY:l?void 0:a?(s.anchorY+i)/2:i}),r.getLabel().attr(s),r.drawTracker(),a&&(o.clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout((function(){r&&r.move(t,e,n,i)}),32))}refresh(t,e){const n=this.chart,i=this.options,r=n.pointer,s=C(t),a=s[0],l=[];var c=i.formatter||this.defaultFormatter,u=this.shared;const h=n.styledMode;let d={};if(i.enabled&&a.series){o.clearTimeout(this.hideTimer),this.allowShared=!(!g(t)&&t.series&&t.series.noSharedTooltip),this.followPointer=!this.split&&a.series.tooltipOptions.followPointer;var p=(t=this.getAnchor(t,e))[0],m=t[1];if(u&&this.allowShared?(r.applyInactiveState(s),s.forEach((function(t){t.setState("hover"),l.push(t.getLabelConfig())})),d={x:a.category,y:a.y},d.points=l):d=a.getLabelConfig(),this.len=l.length,c=c.call(d,this),u=a.series,this.distance=v(u.tooltipOptions.distance,16),!1===c)this.hide();else{if(this.split&&this.allowShared)this.renderSplit(c,s);else{let o=p,l=m;if(e&&r.isDirectTouch&&(o=e.chartX-n.plotLeft,l=e.chartY-n.plotTop),!n.polar&&!1!==u.options.clip&&!s.some((t=>r.isDirectTouch||t.series.shouldShowTooltip(o,l))))return void this.hide();e=this.getLabel(),i.style.width&&!h||e.css({width:(this.outside?this.getPlayingField():n.spacingBox).width+"px"}),e.attr({text:c&&c.join?c.join(""):c}),e.addClass(this.getClassName(a),!0),h||e.attr({stroke:i.borderColor||a.color||u.color||"#666666"}),this.updatePosition({plotX:p,plotY:m,negative:a.negative,ttBelow:a.ttBelow,h:t[2]||0})}this.isHidden&&this.label&&this.label.attr({opacity:1}).show(),this.isHidden=!1}f(this,"refresh")}}renderSplit(t,e){function n(t,e,n,o,r=!0){return n?(e=M?0:I,t=u(t-o/2,x.left,x.right-o-(i.outside?D:0))):(e-=A,t=u(t=r?t-o-S:t+S,r?t:x.left,x.right)),{x:t,y:e}}const i=this,{chart:o,chart:{chartWidth:r,chartHeight:c,plotHeight:h,plotLeft:d,plotTop:f,pointer:g,scrollablePixelsY:m=0,scrollablePixelsX:y,scrollingContainer:{scrollLeft:C,scrollTop:b}={scrollLeft:0,scrollTop:0},styledMode:E},distance:S,options:w,options:{positioner:O}}=i,x=i.outside&&"number"!=typeof y?s.documentElement.getBoundingClientRect():{left:C,right:C+r,top:b,bottom:b+c},P=i.getLabel(),T=this.renderer||o.renderer,M=!(!o.xAxis[0]||!o.xAxis[0].opposite),{left:D,top:R}=g.getChartPosition();let A=f+b,L=0,I=h-m;_(t)&&(t=[!1,t]),t=t.slice(0,e.length+1).reduce((function(t,o,r){if(!1!==o&&""!==o){const g=(r=e[r-1]||{isHeader:!0,plotX:e[0].plotX,plotY:h,series:{}}).isHeader;var s,a=g?i:r.series;{var l=r;o=o.toString();var c=a.tt;const{isHeader:t,series:e}=l;c||(c={padding:w.padding,r:w.borderRadius},E||(c.fill=w.backgroundColor,c["stroke-width"]=null!==(s=w.borderWidth)&&void 0!==s?s:1),c=T.label("",0,0,w[t?"headerShape":"shape"],void 0,void 0,w.useHTML).addClass(i.getClassName(l,!0,t)).attr(c).add(P)),c.isActive=!0,c.attr({text:o}),E||c.css(w.style).attr({stroke:w.borderColor||l.color||e.color||"#333333"}),s=c}s=a.tt=s,a=(l=s.getBBox()).width+s.strokeWidth(),g&&(L=l.height,I+=L,M&&(A-=L));{const{isHeader:t,plotX:e=0,plotY:n=0,series:i}=r;if(t){o=d+e;var p=f+h/2}else{const{xAxis:t,yAxis:r}=i;o=t.pos+u(e,-S,t.len+S),i.shouldShowTooltip(0,r.pos-f+n,{ignoreX:!0})&&(p=r.pos+n)}p={anchorX:o=u(o,x.left-S,x.right+S),anchorY:p}}const{anchorX:m,anchorY:_}=p;"number"==typeof _?(p=l.height+1,l=O?O.call(i,a,p,r):n(m,_,g,a),t.push({align:O?0:void 0,anchorX:m,anchorY:_,boxWidth:a,point:r,rank:v(l.rank,g?1:0),size:p,target:l.y,tt:s,x:l.x})):s.isActive=!1}return t}),[]),!O&&t.some((t=>{var{outside:e}=i;return(e=(e?D:0)+t.anchorX)<x.left&&e+t.boxWidth<x.right||e<D-x.left+t.boxWidth&&x.right-e>e}))&&(t=t.map((t=>{const{x:e,y:i}=n(t.anchorX,t.anchorY,t.point.isHeader,t.boxWidth,!1);return p(t,{target:i,x:e})}))),i.cleanSplit(),l(t,I);var k=D,N=D;t.forEach((function(t){const{x:e,boxWidth:n,isHeader:o}=t;o||(i.outside&&D+e<k&&(k=D+e),!o&&i.outside&&k+n>N&&(N=D+e))})),t.forEach((function(t){const{x:e,anchorX:n,anchorY:o,pos:r,point:{isHeader:s}}=t,a={visibility:void 0===r?"hidden":"inherit",x:e,y:(r||0)+A,anchorX:n,anchorY:o};if(i.outside&&e<n){const t=D-k;0<t&&(s||(a.x=e+t,a.anchorX=n+t),s&&(a.x=(N-k)/2,a.anchorX=n+t))}t.tt.attr(a)}));const{container:F,outside:G,renderer:B}=i;if(G&&F&&B){const{width:t,height:e,x:n,y:i}=P.getBBox();B.setSize(t+n,e+i,!1),F.style.left=k+"px",F.style.top=R+"px"}a&&P.attr({opacity:1===P.opacity?.999:1})}drawTracker(){if(this.shouldStickOnContact()){var t=this.chart,e=this.label,n=this.shared?t.hoverPoints:t.hoverPoint;if(e&&n){var i={x:0,y:0,width:0,height:0};n=this.getAnchor(n);var o=e.getBBox();n[0]+=t.plotLeft-e.translateX,n[1]+=t.plotTop-e.translateY,i.x=Math.min(0,n[0]),i.y=Math.min(0,n[1]),i.width=0>n[0]?Math.max(Math.abs(n[0]),o.width-n[0]):Math.max(Math.abs(n[0]),o.width),i.height=0>n[1]?Math.max(Math.abs(n[1]),o.height-Math.abs(n[1])):Math.max(Math.abs(n[1]),o.height),this.tracker?this.tracker.attr(i):(this.tracker=e.renderer.rect(i).addClass("highcharts-tracker").add(e),t.styledMode||this.tracker.attr({fill:"rgba(0,0,0,0)"}))}}else this.tracker&&(this.tracker=this.tracker.destroy())}styledModeFormat(t){return t.replace('style="font-size: 0.8em"','class="highcharts-header"').replace(/style="color:{(point|series)\.color}"/g,'class="highcharts-color-{$1.colorIndex} {series.options.className} {point.options.className}"')}tooltipFooterHeaderFormatter(t,e){const n=t.series,i=n.tooltipOptions;var o=n.xAxis;const s=o&&o.dateTime;o={isFooter:e,labelConfig:t};let a=i.xDateFormat,l=i[e?"footerFormat":"headerFormat"];return f(this,"headerFormatter",o,(function(e){s&&!a&&m(t.key)&&(a=s.getXDateFormat(t.key,i.dateTimeLabelFormats)),s&&a&&(t.point&&t.point.tooltipDateKeys||["key"]).forEach((function(t){l=l.replace("{point."+t+"}","{point."+t+":"+a+"}")})),n.chart.styledMode&&(l=this.styledModeFormat(l)),e.text=r(l,{point:t,series:n},this.chart)})),o.text}update(t){this.destroy(),y(!0,this.chart.options.tooltip.userOptions,t),this.init(this.chart,y(!0,this.options,t))}updatePosition(t){const{chart:e,distance:n,options:i}=this;var o=e.pointer;const r=this.getLabel(),{left:s,top:a,scaleX:l,scaleY:c}=o.getChartPosition();o=(i.positioner||this.getPosition).call(this,r.width,r.height,t);let u,d=(t.plotX||0)+e.plotLeft;t=(t.plotY||0)+e.plotTop,this.outside&&(i.positioner&&(o.x+=s-n,o.y+=a-n),u=(i.borderWidth||0)+2*n,this.renderer.setSize(r.width+u,r.height+u,!1),1===l&&1===c||(h(this.container,{transform:`scale(${l}, ${c})`}),d*=l,t*=c),d+=s-o.x,t+=a-o.y),this.move(Math.round(o.x),Math.round(o.y||0),d,t)}}return function(t){const e=[];t.compose=function(n){o.pushUnique(e,n)&&c(n,"afterInit",(function(){const e=this.chart;e.options.tooltip&&(e.tooltip=new t(e,e.options.tooltip))}))}}(E||(E={})),E})),e(n,"Core/Series/Point.js",[n["Core/Renderer/HTML/AST.js"],n["Core/Animation/AnimationUtilities.js"],n["Core/Defaults.js"],n["Core/FormatUtilities.js"],n["Core/Utilities.js"]],(function(t,e,n,i,o){const{animObject:r}=e,{defaultOptions:s}=n,{format:a}=i,{addEvent:l,defined:c,erase:u,extend:h,fireEvent:d,getNestedProperty:p,isArray:f,isFunction:g,isNumber:m,isObject:_,merge:y,objectEach:v,pick:C,syncTimeout:b,removeEvent:E,uniqueKey:S}=o;class w{constructor(){this.category=void 0,this.destroyed=!1,this.formatPrefix="point",this.id=void 0,this.isNull=!1,this.percentage=this.options=this.name=void 0,this.selected=!1,this.total=this.shapeArgs=this.series=void 0,this.visible=!0,this.x=void 0}animateBeforeDestroy(){const t=this,e={x:t.startXPos,opacity:0},n=t.getGraphicalProps();n.singular.forEach((function(n){t[n]=t[n].animate("dataLabel"===n?{x:t[n].startXPos,y:t[n].startYPos,opacity:0}:e)})),n.plural.forEach((function(e){t[e].forEach((function(e){e.element&&e.animate(h({x:t.startXPos},e.startYPos?{x:e.startXPos,y:e.startYPos}:{}))}))}))}applyOptions(t,e){const n=this.series,i=n.options.pointValKey||n.pointValKey;return t=w.prototype.optionsToObject.call(this,t),h(this,t),this.options=this.options?h(this.options,t):t,t.group&&delete this.group,t.dataLabels&&delete this.dataLabels,i&&(this.y=w.prototype.getNestedProperty.call(this,i)),this.formatPrefix=(this.isNull=this.isValid&&!this.isValid())?"null":"point",this.selected&&(this.state="select"),"name"in this&&void 0===e&&n.xAxis&&n.xAxis.hasNames&&(this.x=n.xAxis.nameToX(this)),void 0===this.x&&n?this.x=void 0===e?n.autoIncrement():e:m(t.x)&&n.options.relativeXValue&&(this.x=n.autoIncrement(t.x)),this}destroy(){if(!this.destroyed){const e=this;var t=e.series;const n=t.chart;t=t.options.dataSorting;const i=n.hoverPoints,o=r(e.series.chart.renderer.globalAnimation),s=()=>{(e.graphic||e.graphics||e.dataLabel||e.dataLabels)&&(E(e),e.destroyElements());for(const t in e)delete e[t]};e.legendItem&&n.legend.destroyItem(e),i&&(e.setState(),u(i,e),i.length||(n.hoverPoints=null)),e===n.hoverPoint&&e.onMouseOut(),t&&t.enabled?(this.animateBeforeDestroy(),b(s,o.duration)):s(),n.pointCount--}this.destroyed=!0}destroyElements(t){const e=this;(t=e.getGraphicalProps(t)).singular.forEach((function(t){e[t]=e[t].destroy()})),t.plural.forEach((function(t){e[t].forEach((function(t){t&&t.element&&t.destroy()})),delete e[t]}))}firePointEvent(t,e,n){const i=this,o=this.series.options;(o.point.events[t]||i.options&&i.options.events&&i.options.events[t])&&i.importEvents(),"click"===t&&o.allowPointSelect&&(n=function(t){i.select&&i.select(null,t.ctrlKey||t.metaKey||t.shiftKey)}),d(i,t,e,n)}getClassName(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(void 0!==this.colorIndex?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+(this.zone&&this.zone.className?" "+this.zone.className.replace("highcharts-negative",""):"")}getGraphicalProps(t){const e=this,n=[],i={singular:[],plural:[]};let o,r;for((t=t||{graphic:1,dataLabel:1}).graphic&&n.push("graphic"),t.dataLabel&&n.push("dataLabel","dataLabelPath","dataLabelUpper","connector"),r=n.length;r--;)o=n[r],e[o]&&i.singular.push(o);return["graphic","dataLabel","connector"].forEach((function(n){const o=n+"s";t[n]&&e[o]&&i.plural.push(o)})),i}getLabelConfig(){return{x:this.category,y:this.y,color:this.color,colorIndex:this.colorIndex,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}}getNestedProperty(t){if(t)return 0===t.indexOf("custom.")?p(t,this.options):this[t]}getZone(){var t=this.series;const e=t.zones;t=t.zoneAxis||"y";let n,i=0;for(n=e[i];this[t]>=n.value;)n=e[++i];return this.nonZonedColor||(this.nonZonedColor=this.color),this.color=n&&n.color&&!this.options.color?n.color:this.nonZonedColor,n}hasNewShapeType(){return(this.graphic&&(this.graphic.symbolName||this.graphic.element.nodeName))!==this.shapeType}init(t,e,n){return this.series=t,this.applyOptions(e,n),this.id=c(this.id)?this.id:S(),this.resolveColor(),t.chart.pointCount++,d(this,"afterInit"),this}isValid(){return null!==this.x&&m(this.y)}optionsToObject(t){var e=this.series;const n=e.options.keys,i=n||e.pointArrayMap||["y"],o=i.length;let r={},s=0,a=0;if(m(t)||null===t)r[i[0]]=t;else if(f(t))for(!n&&t.length>o&&("string"==(e=typeof t[0])?r.name=t[0]:"number"===e&&(r.x=t[0]),s++);a<o;)n&&void 0===t[s]||(0<i[a].indexOf(".")?w.prototype.setNestedProperty(r,t[s],i[a]):r[i[a]]=t[s]),s++,a++;else"object"==typeof t&&(r=t,t.dataLabels&&(e._hasPointLabels=!0),t.marker&&(e._hasPointMarkers=!0));return r}pos(t,e=this.plotY){if(!this.destroyed){const{plotX:n,series:i}=this,{chart:o,xAxis:r,yAxis:s}=i;let a=0,l=0;if(m(n)&&m(e))return t&&(a=r?r.pos:o.plotLeft,l=s?s.pos:o.plotTop),o.inverted&&r&&s?[s.len-e+l,r.len-n+a]:[n+a,e+l]}}resolveColor(){const t=this.series;var e=t.chart.styledMode;let n;var i=t.chart.options.chart.colorCount;delete this.nonZonedColor,t.options.colorByPoint?(e||(n=(i=t.options.colors||t.chart.options.colors)[t.colorCounter],i=i.length),e=t.colorCounter,t.colorCounter++,t.colorCounter===i&&(t.colorCounter=0)):(e||(n=t.color),e=t.colorIndex),this.colorIndex=C(this.options.colorIndex,e),this.color=C(this.options.color,n)}setNestedProperty(t,e,n){return n.split(".").reduce((function(t,n,i,o){return t[n]=o.length-1===i?e:_(t[n],!0)?t[n]:{},t[n]}),t),t}shouldDraw(){return!this.isNull}tooltipFormatter(t){const e=this.series,n=e.tooltipOptions,i=C(n.valueDecimals,""),o=n.valuePrefix||"",r=n.valueSuffix||"";return e.chart.styledMode&&(t=e.chart.tooltip.styledModeFormat(t)),(e.pointArrayMap||["y"]).forEach((function(e){e="{point."+e,(o||r)&&(t=t.replace(RegExp(e+"}","g"),o+e+"}"+r)),t=t.replace(RegExp(e+"}","g"),e+":,."+i+"f}")})),a(t,{point:this,series:this.series},e.chart)}update(t,e,n,i){function o(){r.applyOptions(t);var i=a&&r.hasMockGraphic;i=null===r.y?!i:i,a&&i&&(r.graphic=a.destroy(),delete r.hasMockGraphic),_(t,!0)&&(a&&a.element&&t&&t.marker&&void 0!==t.marker.symbol&&(r.graphic=a.destroy()),t&&t.dataLabels&&r.dataLabel&&(r.dataLabel=r.dataLabel.destroy()),r.connector&&(r.connector=r.connector.destroy())),u=r.index,s.updateParallelArrays(r,u),c.data[u]=_(c.data[u],!0)||_(t,!0)?r.options:C(t,c.data[u]),s.isDirty=s.isDirtyData=!0,!s.fixedBox&&s.hasCartesianSeries&&(l.isDirtyBox=!0),"point"===c.legendType&&(l.isDirtyLegend=!0),e&&l.redraw(n)}const r=this,s=r.series,a=r.graphic,l=s.chart,c=s.options;let u;e=C(e,!0),!1===i?o():r.firePointEvent("update",{options:t},o)}remove(t,e){this.series.removePoint(this.series.data.indexOf(this),t,e)}select(t,e){const n=this,i=n.series,o=i.chart;this.selectedStaging=t=C(t,!n.selected),n.firePointEvent(t?"select":"unselect",{accumulate:e},(function(){n.selected=n.options.selected=t,i.options.data[i.data.indexOf(n)]=n.options,n.setState(t&&"select"),e||o.getSelectedPoints().forEach((function(t){const e=t.series;t.selected&&t!==n&&(t.selected=t.options.selected=!1,e.options.data[e.data.indexOf(t)]=t.options,t.setState(o.hoverPoints&&e.options.inactiveOtherPoints?"inactive":""),t.firePointEvent("unselect"))}))})),delete this.selectedStaging}onMouseOver(t){const e=this.series.chart,n=e.pointer;t=t?n.normalize(t):n.getChartCoordinatesFromPoint(this,e.inverted),n.runPointActions(t,this)}onMouseOut(){const t=this.series.chart;this.firePointEvent("mouseOut"),this.series.options.inactiveOtherPoints||(t.hoverPoints||[]).forEach((function(t){t.setState()})),t.hoverPoints=t.hoverPoint=null}importEvents(){if(!this.hasImportedEvents){const t=this,e=y(t.series.options.point,t.options).events;t.events=e,v(e,(function(e,n){g(e)&&l(t,n,e)})),this.hasImportedEvents=!0}}setState(e,n){const i=this.series;var o=this.state,r=i.options.states[e||"normal"]||{},a=s.plotOptions[i.type].marker&&i.options.marker;const l=a&&!1===a.enabled,c=a&&a.states&&a.states[e||"normal"]||{},u=!1===c.enabled,p=this.marker||{},f=i.chart,g=a&&i.markerAttribs;let _=i.halo;var y;let v;var b=i.stateMarkerGraphic;if(!((e=e||"")===this.state&&!n||this.selected&&"select"!==e||!1===r.enabled||e&&(u||l&&!1===c.enabled)||e&&p.states&&p.states[e]&&!1===p.states[e].enabled)){if(this.state=e,g&&(y=i.markerAttribs(this,e)),this.graphic&&!this.hasMockGraphic){if(o&&this.graphic.removeClass("highcharts-point-"+o),e&&this.graphic.addClass("highcharts-point-"+e),!f.styledMode){o=i.pointAttribs(this,e),v=C(f.options.chart.animation,r.animation);const t=o.opacity;i.options.inactiveOtherPoints&&m(t)&&((this.dataLabels||[]).forEach((function(e){e&&!e.hasClass("highcharts-data-label-hidden")&&e.animate({opacity:t},v)})),this.connector&&this.connector.animate({opacity:t},v)),this.graphic.animate(o,v)}y&&this.graphic.animate(y,C(f.options.chart.animation,c.animation,a.animation)),b&&b.hide()}else e&&c&&(a=p.symbol||i.symbol,b&&b.currentSymbol!==a&&(b=b.destroy()),y&&(b?b[n?"animate":"attr"]({x:y.x,y:y.y}):a&&(i.stateMarkerGraphic=b=f.renderer.symbol(a,y.x,y.y,y.width,y.height).add(i.markerGroup),b.currentSymbol=a)),!f.styledMode&&b&&"inactive"!==this.state&&b.attr(i.pointAttribs(this,e))),b&&(b[e&&this.isInside?"show":"hide"](),b.element.point=this,b.addClass(this.getClassName(),!0));r=r.halo,y=(b=this.graphic||b)&&b.visibility||"inherit",r&&r.size&&b&&"hidden"!==y&&!this.isCluster?(_||(i.halo=_=f.renderer.path().add(b.parentGroup)),_.show()[n?"animate":"attr"]({d:this.haloPath(r.size)}),_.attr({class:"highcharts-halo highcharts-color-"+C(this.colorIndex,i.colorIndex)+(this.className?" "+this.className:""),visibility:y,zIndex:-1}),_.point=this,f.styledMode||_.attr(h({fill:this.color||i.color,"fill-opacity":r.opacity},t.filterUserAttributes(r.attributes||{})))):_&&_.point&&_.point.haloPath&&_.animate({d:_.point.haloPath(0)},null,_.hide),d(this,"afterSetState",{state:e})}}haloPath(t){const e=this.pos();return e?this.series.chart.renderer.symbols.circle(Math.floor(e[0])-t,e[1]-t,2*t,2*t):[]}}return w})),e(n,"Core/Pointer.js",[n["Core/Color/Color.js"],n["Core/Globals.js"],n["Core/Utilities.js"]],(function(t,e,n){const{parse:i}=t,{charts:o,noop:r}=e,{addEvent:s,attr:a,css:l,defined:c,extend:u,find:h,fireEvent:d,isNumber:p,isObject:f,objectEach:g,offset:m,pick:_,splat:y}=n;class v{constructor(t,e){this.lastValidTouch={},this.pinchDown=[],this.runChartClick=!1,this.eventsToUnbind=[],this.chart=t,this.hasDragged=!1,this.options=e,this.init(t,e)}applyInactiveState(t){let e,n=[];(t||[]).forEach((function(t){e=t.series,n.push(e),e.linkedParent&&n.push(e.linkedParent),e.linkedSeries&&(n=n.concat(e.linkedSeries)),e.navigatorSeries&&n.push(e.navigatorSeries)})),this.chart.series.forEach((function(t){-1===n.indexOf(t)?t.setState("inactive",!0):t.options.inactiveOtherPoints&&t.setAllPointsToState("inactive")}))}destroy(){const t=this;this.eventsToUnbind.forEach((t=>t())),this.eventsToUnbind=[],e.chartCount||(v.unbindDocumentMouseUp&&(v.unbindDocumentMouseUp=v.unbindDocumentMouseUp()),v.unbindDocumentTouchEnd&&(v.unbindDocumentTouchEnd=v.unbindDocumentTouchEnd())),clearInterval(t.tooltipTimeout),g(t,(function(e,n){t[n]=void 0}))}getSelectionMarkerAttrs(t,e){const n={args:{chartX:t,chartY:e},attrs:{},shapeType:"rect"};return d(this,"getSelectionMarkerAttrs",n,(n=>{const{chart:i,mouseDownX:o=0,mouseDownY:r=0,zoomHor:s,zoomVert:a}=this;let l;(n=n.attrs).x=i.plotLeft,n.y=i.plotTop,n.width=s?1:i.plotWidth,n.height=a?1:i.plotHeight,s&&(l=t-o,n.width=Math.abs(l),n.x=(0<l?0:l)+o),a&&(l=e-r,n.height=Math.abs(l),n.y=(0<l?0:l)+r)})),n}drag(t){const e=this.chart,n=e.options.chart;var o=e.plotLeft;const r=e.plotTop,s=e.plotWidth,a=e.plotHeight,l=this.mouseDownX||0,c=this.mouseDownY||0,u=f(n.panning)?n.panning&&n.panning.enabled:n.panning,h=n.panKey&&t[n.panKey+"Key"];let d=t.chartX,p=t.chartY,g=this.selectionMarker;if((!g||!g.touch)&&(d<o?d=o:d>o+s&&(d=o+s),p<r?p=r:p>r+a&&(p=r+a),this.hasDragged=Math.sqrt(Math.pow(l-d,2)+Math.pow(c-p,2)),10<this.hasDragged)){o=e.isInsidePlot(l-o,c-r,{visiblePlotOnly:!0});const{shapeType:s,attrs:a}=this.getSelectionMarkerAttrs(d,p);!e.hasCartesianSeries&&!e.mapView||!this.zoomX&&!this.zoomY||!o||h||g||(this.selectionMarker=g=e.renderer[s](),g.attr({class:"highcharts-selection-marker",zIndex:7}).add(),e.styledMode||g.attr({fill:n.selectionMarkerFill||i("#334eff").setOpacity(.25).get()})),g&&g.attr(a),o&&!g&&u&&e.pan(t,n.panning)}}dragStart(t){const e=this.chart;e.mouseIsDown=t.type,e.cancelClick=!1,e.mouseDownX=this.mouseDownX=t.chartX,e.mouseDownY=this.mouseDownY=t.chartY}getSelectionBox(t){const e={args:{marker:t},result:{}};return d(this,"getSelectionBox",e,(e=>{e.result={x:t.attr?+t.attr("x"):t.x,y:t.attr?+t.attr("y"):t.y,width:t.attr?t.attr("width"):t.width,height:t.attr?t.attr("height"):t.height}})),e.result}drop(t){const e=this,n=this.chart,i=this.hasPinched;if(this.selectionMarker){const{x:o,y:r,width:s,height:a}=this.getSelectionBox(this.selectionMarker),l={originalEvent:t,xAxis:[],yAxis:[],x:o,y:r,width:s,height:a};let h=!!n.mapView;(this.hasDragged||i)&&(n.axes.forEach((function(n){if(n.zoomEnabled&&c(n.min)&&(i||e[{xAxis:"zoomX",yAxis:"zoomY"}[n.coll]])&&p(o)&&p(r)&&p(s)&&p(a)){var u=n.horiz;const e="touchend"===t.type?n.minPixelPadding:0,i=n.toValue((u?o:r)+e);u=n.toValue((u?o+s:r+a)-e),l[n.coll].push({axis:n,min:Math.min(i,u),max:Math.max(i,u)}),h=!0}})),h&&d(n,"selection",l,(function(t){n.zoom(u(t,i?{animation:!1}:null))}))),p(n.index)&&(this.selectionMarker=this.selectionMarker.destroy()),i&&this.scaleGroups()}n&&p(n.index)&&(l(n.container,{cursor:n._cursor}),n.cancelClick=10<this.hasDragged,n.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])}findNearestKDPoint(t,e,n){let i;return t.forEach((function(t){var o=!(t.noSharedTooltip&&e)&&0>t.options.findNearestPointBy.indexOf("y");if(t=t.searchPoint(n,o),(o=f(t,!0)&&t.series)&&!(o=!f(i,!0))){{o=i.distX-t.distX;const n=i.dist-t.dist,r=(t.series.group&&t.series.group.zIndex)-(i.series.group&&i.series.group.zIndex);o=0!==o&&e?o:0!==n?n:0!==r?r:i.series.index>t.series.index?-1:1}o=0<o}o&&(i=t)})),i}getChartCoordinatesFromPoint(t,e){var n=t.series;const i=n.xAxis;n=n.yAxis;const o=t.shapeArgs;if(i&&n){let r=_(t.clientX,t.plotX),s=t.plotY||0;return t.isNode&&o&&p(o.x)&&p(o.y)&&(r=o.x,s=o.y),e?{chartX:n.len+n.pos-s,chartY:i.len+i.pos-r}:{chartX:r+i.pos,chartY:s+n.pos}}if(o&&o.x&&o.y)return{chartX:o.x,chartY:o.y}}getChartPosition(){if(this.chartPosition)return this.chartPosition;var{container:t}=this.chart;const e=m(t);this.chartPosition={left:e.left,top:e.top,scaleX:1,scaleY:1};const n=t.offsetWidth;return t=t.offsetHeight,2<n&&2<t&&(this.chartPosition.scaleX=e.width/n,this.chartPosition.scaleY=e.height/t),this.chartPosition}getCoordinates(t){const e={xAxis:[],yAxis:[]};return this.chart.axes.forEach((function(n){e[n.isXAxis?"xAxis":"yAxis"].push({axis:n,value:n.toValue(t[n.horiz?"chartX":"chartY"])})})),e}getHoverData(t,e,n,i,o,r){const s=[];i=!(!i||!t);const a=function(t){return t.visible&&!(!o&&t.directTouch)&&_(t.options.enableMouseTracking,!0)};let l,c={chartX:r?r.chartX:void 0,chartY:r?r.chartY:void 0,shared:o};d(this,"beforeGetHoverData",c),l=e&&!e.stickyTracking?[e]:n.filter((t=>t.stickyTracking&&(c.filter||a)(t)));const u=i||!r?t:this.findNearestKDPoint(l,o,r);return e=u&&u.series,u&&(o&&!e.noSharedTooltip?(l=n.filter((function(t){return c.filter?c.filter(t):a(t)&&!t.noSharedTooltip})),l.forEach((function(t){let e=h(t.points,(function(t){return t.x===u.x&&!t.isNull}));f(e)&&(t.boosted&&t.boost&&(e=t.boost.getPoint(e)),s.push(e))}))):s.push(u)),c={hoverPoint:u},d(this,"afterGetHoverData",c),{hoverPoint:c.hoverPoint,hoverSeries:e,hoverPoints:s}}getPointFromEvent(t){let e;for(t=t.target;t&&!e;)e=t.point,t=t.parentNode;return e}onTrackerMouseOut(t){t=t.relatedTarget;const e=this.chart.hoverSeries;this.isDirectTouch=!1,!e||!t||e.stickyTracking||this.inClass(t,"highcharts-tooltip")||this.inClass(t,"highcharts-series-"+e.index)&&this.inClass(t,"highcharts-tracker")||e.onMouseOut()}inClass(t,e){let n;for(;t;){if(n=a(t,"class")){if(-1!==n.indexOf(e))return!0;if(-1!==n.indexOf("highcharts-container"))return!1}t=t.parentElement}}init(t,e){this.options=e,this.chart=t,this.runChartClick=!(!e.chart.events||!e.chart.events.click),this.pinchDown=[],this.lastValidTouch={},this.setDOMEvents(),d(this,"afterInit")}normalize(t,e){var n=t.touches,i=n?n.length?n.item(0):_(n.changedTouches,t.changedTouches)[0]:t;return e||(e=this.getChartPosition()),n=i.pageX-e.left,i=i.pageY-e.top,n/=e.scaleX,i/=e.scaleY,u(t,{chartX:Math.round(n),chartY:Math.round(i)})}onContainerClick(t){const e=this.chart,n=e.hoverPoint;t=this.normalize(t);const i=e.plotLeft,o=e.plotTop;e.cancelClick||(n&&this.inClass(t.target,"highcharts-tracker")?(d(n.series,"click",u(t,{point:n})),e.hoverPoint&&n.firePointEvent("click",t)):(u(t,this.getCoordinates(t)),e.isInsidePlot(t.chartX-i,t.chartY-o,{visiblePlotOnly:!0})&&d(e,"click",t)))}onContainerMouseDown(t){const n=1==(1&(t.buttons||t.button));t=this.normalize(t),e.isFirefox&&0!==t.button&&this.onContainerMouseMove(t),(void 0===t.button||n)&&(this.zoomOption(t),n&&t.preventDefault&&t.preventDefault(),this.dragStart(t))}onContainerMouseLeave(t){const e=o[_(v.hoverChartIndex,-1)];t=this.normalize(t),e&&t.relatedTarget&&!this.inClass(t.relatedTarget,"highcharts-tooltip")&&(e.pointer.reset(),e.pointer.chartPosition=void 0)}onContainerMouseEnter(t){delete this.chartPosition}onContainerMouseMove(t){const e=this.chart,n=e.tooltip;t=this.normalize(t),this.setHoverChartIndex(),("mousedown"===e.mouseIsDown||this.touchSelect(t))&&this.drag(t),e.openMenu||!this.inClass(t.target,"highcharts-tracker")&&!e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop,{visiblePlotOnly:!0})||n&&n.shouldStickOnContact(t)||(this.inClass(t.target,"highcharts-no-tooltip")?this.reset(!1,0):this.runPointActions(t))}onDocumentTouchEnd(t){const e=o[_(v.hoverChartIndex,-1)];e&&e.pointer.drop(t)}onContainerTouchMove(t){this.touchSelect(t)?this.onContainerMouseMove(t):this.touch(t)}onContainerTouchStart(t){this.touchSelect(t)?this.onContainerMouseDown(t):(this.zoomOption(t),this.touch(t,!0))}onDocumentMouseMove(t){const e=this.chart,n=e.tooltip,i=this.chartPosition;t=this.normalize(t,i),!i||e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop,{visiblePlotOnly:!0})||n&&n.shouldStickOnContact(t)||this.inClass(t.target,"highcharts-tracker")||this.reset()}onDocumentMouseUp(t){const e=o[_(v.hoverChartIndex,-1)];e&&e.pointer.drop(t)}pinch(t){const e=this,n=e.chart,i=e.pinchDown,o=t.touches||[],s=o.length,a=e.lastValidTouch,l=e.hasZoom,c={},h=1===s&&(e.inClass(t.target,"highcharts-tracker")&&n.runTrackerClick||e.runChartClick),p={};var f=e.chart.tooltip;f=1===s&&_(f&&f.options.followTouchMove,!0);let g=e.selectionMarker;1<s?e.initiated=!0:f&&(e.initiated=!1),l&&e.initiated&&!h&&!1!==t.cancelable&&t.preventDefault(),[].map.call(o,(function(t){return e.normalize(t)})),"touchstart"===t.type?([].forEach.call(o,(function(t,e){i[e]={chartX:t.chartX,chartY:t.chartY}})),a.x=[i[0].chartX,i[1]&&i[1].chartX],a.y=[i[0].chartY,i[1]&&i[1].chartY],n.axes.forEach((function(t){if(t.zoomEnabled){const e=n.bounds[t.horiz?"h":"v"],i=t.minPixelPadding,o=t.toPixels(Math.min(_(t.options.min,t.dataMin),t.dataMin)),r=t.toPixels(Math.max(_(t.options.max,t.dataMax),t.dataMax)),s=Math.max(o,r);e.min=Math.min(t.pos,Math.min(o,r)-i),e.max=Math.max(t.pos+t.len,s+i)}})),e.res=!0):f?this.runPointActions(e.normalize(t)):i.length&&(d(n,"touchpan",{originalEvent:t},(()=>{g||(e.selectionMarker=g=u({destroy:r,touch:!0},n.plotBox)),e.pinchTranslate(i,o,c,g,p,a),e.hasPinched=l,e.scaleGroups(c,p)})),e.res&&(e.res=!1,this.reset(!1,0)))}pinchTranslate(t,e,n,i,o,r){this.zoomHor&&this.pinchTranslateDirection(!0,t,e,n,i,o,r),this.zoomVert&&this.pinchTranslateDirection(!1,t,e,n,i,o,r)}pinchTranslateDirection(t,e,n,i,o,r,s,a){const l=this.chart,c=t?"x":"y",u=t?"X":"Y",h="chart"+u,d=t?"width":"height",p=l["plot"+(t?"Left":"Top")],f=l.inverted,g=l.bounds[t?"h":"v"],m=1===e.length,_=e[0][h],y=!m&&e[1][h];e=function(){"number"==typeof w&&20<Math.abs(_-y)&&(E=a||Math.abs(S-w)/Math.abs(_-y)),C=(p-S)/E+_,v=l["plot"+(t?"Width":"Height")]/E};let v,C,b,E=a||1,S=n[0][h],w=!m&&n[1][h];e(),(n=C)<g.min?(n=g.min,b=!0):n+v>g.max&&(n=g.max-v,b=!0),b?(S-=.8*(S-s[c][0]),"number"==typeof w&&(w-=.8*(w-s[c][1])),e()):s[c]=[S,w],f||(r[c]=C-p,r[d]=v),r=f?1/E:E,o[d]=v,o[c]=n,i[f?t?"scaleY":"scaleX":"scale"+u]=E,i["translate"+u]=r*p+(S-r*_)}reset(t,e){const n=this.chart,i=n.hoverSeries,o=n.hoverPoint,r=n.hoverPoints,s=n.tooltip,a=s&&s.shared?r:o;t&&a&&y(a).forEach((function(e){e.series.isCartesian&&void 0===e.plotX&&(t=!1)})),t?s&&a&&y(a).length&&(s.refresh(a),s.shared&&r?r.forEach((function(t){t.setState(t.state,!0),t.series.isCartesian&&(t.series.xAxis.crosshair&&t.series.xAxis.drawCrosshair(null,t),t.series.yAxis.crosshair&&t.series.yAxis.drawCrosshair(null,t))})):o&&(o.setState(o.state,!0),n.axes.forEach((function(t){t.crosshair&&o.series[t.coll]===t&&t.drawCrosshair(null,o)})))):(o&&o.onMouseOut(),r&&r.forEach((function(t){t.setState()})),i&&i.onMouseOut(),s&&s.hide(e),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),n.axes.forEach((function(t){t.hideCrosshair()})),this.hoverX=n.hoverPoints=n.hoverPoint=null)}runPointActions(t,e,n){const i=this.chart,r=i.tooltip&&i.tooltip.options.enabled?i.tooltip:void 0,a=!!r&&r.shared;let l=e||i.hoverPoint,c=l&&l.series||i.hoverSeries;e=this.getHoverData(l,c,i.series,(!t||"touchmove"!==t.type)&&(!!e||c&&c.directTouch&&this.isDirectTouch),a,t),l=e.hoverPoint,c=e.hoverSeries;const u=e.hoverPoints;e=c&&c.tooltipOptions.followPointer&&!c.tooltipOptions.split;const d=a&&c&&!c.noSharedTooltip;if(l&&(n||l!==i.hoverPoint||r&&r.isHidden)){if((i.hoverPoints||[]).forEach((function(t){-1===u.indexOf(t)&&t.setState()})),i.hoverSeries!==c&&c.onMouseOver(),this.applyInactiveState(u),(u||[]).forEach((function(t){t.setState("hover")})),i.hoverPoint&&i.hoverPoint.firePointEvent("mouseOut"),!l.series)return;i.hoverPoints=u,i.hoverPoint=l,l.firePointEvent("mouseOver",void 0,(()=>{r&&l&&r.refresh(d?u:l,t)}))}else e&&r&&!r.isHidden&&(n=r.getAnchor([{}],t),i.isInsidePlot(n[0],n[1],{visiblePlotOnly:!0})&&r.updatePosition({plotX:n[0],plotY:n[1]}));this.unDocMouseMove||(this.unDocMouseMove=s(i.container.ownerDocument,"mousemove",(function(t){const e=o[v.hoverChartIndex];e&&e.pointer.onDocumentMouseMove(t)})),this.eventsToUnbind.push(this.unDocMouseMove)),i.axes.forEach((function(e){const n=_((e.crosshair||{}).snap,!0);let o;n&&((o=i.hoverPoint)&&o.series[e.coll]===e||(o=h(u,(t=>t.series&&t.series[e.coll]===e)))),o||!n?e.drawCrosshair(t,o):e.hideCrosshair()}))}scaleGroups(t,e){const n=this.chart;n.series.forEach((function(i){const o=t||i.getPlotBox();i.group&&(i.xAxis&&i.xAxis.zoomEnabled||n.mapView)&&(i.group.attr(o),i.markerGroup&&(i.markerGroup.attr(o),i.markerGroup.clip(e?n.clipRect:null)),i.dataLabelsGroup&&i.dataLabelsGroup.attr(o))})),n.clipRect.attr(e||n.clipBox)}setDOMEvents(){const t=this.chart.container,n=t.ownerDocument;t.onmousedown=this.onContainerMouseDown.bind(this),t.onmousemove=this.onContainerMouseMove.bind(this),t.onclick=this.onContainerClick.bind(this),this.eventsToUnbind.push(s(t,"mouseenter",this.onContainerMouseEnter.bind(this))),this.eventsToUnbind.push(s(t,"mouseleave",this.onContainerMouseLeave.bind(this))),v.unbindDocumentMouseUp||(v.unbindDocumentMouseUp=s(n,"mouseup",this.onDocumentMouseUp.bind(this)));let i=this.chart.renderTo.parentElement;for(;i&&"BODY"!==i.tagName;)this.eventsToUnbind.push(s(i,"scroll",(()=>{delete this.chartPosition}))),i=i.parentElement;e.hasTouch&&(this.eventsToUnbind.push(s(t,"touchstart",this.onContainerTouchStart.bind(this),{passive:!1})),this.eventsToUnbind.push(s(t,"touchmove",this.onContainerTouchMove.bind(this),{passive:!1})),v.unbindDocumentTouchEnd||(v.unbindDocumentTouchEnd=s(n,"touchend",this.onDocumentTouchEnd.bind(this),{passive:!1})))}setHoverChartIndex(){const t=this.chart,n=e.charts[_(v.hoverChartIndex,-1)];n&&n!==t&&n.pointer.onContainerMouseLeave({relatedTarget:t.container}),n&&n.mouseIsDown||(v.hoverChartIndex=t.index)}touch(t,e){const n=this.chart;let i,o;this.setHoverChartIndex(),1===t.touches.length?(t=this.normalize(t),(o=n.isInsidePlot(t.chartX-n.plotLeft,t.chartY-n.plotTop,{visiblePlotOnly:!0}))&&!n.openMenu?(e&&this.runPointActions(t),"touchmove"===t.type&&(i=!!(e=this.pinchDown)[0]&&4<=Math.sqrt(Math.pow(e[0].chartX-t.chartX,2)+Math.pow(e[0].chartY-t.chartY,2))),_(i,!0)&&this.pinch(t)):e&&this.reset()):2===t.touches.length&&this.pinch(t)}touchSelect(t){return!(!this.chart.options.chart.zooming.singleTouch||!t.touches||1!==t.touches.length)}zoomOption(t){var e=this.chart,n=e.options.chart;e=e.inverted;let i=n.zooming.type||"";/touch/.test(t.type)&&(i=_(n.zooming.pinchType,i)),this.zoomX=t=/x/.test(i),this.zoomY=n=/y/.test(i),this.zoomHor=t&&!e||n&&e,this.zoomVert=n&&!e||t&&e,this.hasZoom=t||n}}return function(t){const e=[],i=[];t.compose=function(e){n.pushUnique(i,e)&&s(e,"beforeRender",(function(){this.pointer=new t(this,this.options)}))},t.dissolve=function(){for(let t=0,n=e.length;t<n;++t)e[t]();e.length=0}}(v||(v={})),v})),e(n,"Core/Legend/Legend.js",[n["Core/Animation/AnimationUtilities.js"],n["Core/FormatUtilities.js"],n["Core/Globals.js"],n["Core/Series/Point.js"],n["Core/Renderer/RendererUtilities.js"],n["Core/Utilities.js"]],(function(t,e,n,i,o,r){const{animObject:s,setAnimation:a}=t,{format:l}=e,{marginNames:c}=n,{distribute:u}=o,{addEvent:h,createElement:d,css:p,defined:f,discardElement:g,find:m,fireEvent:_,isNumber:y,merge:v,pick:C,relativeLength:b,stableSort:E,syncTimeout:S}=r;class w{constructor(t,e){this.allItems=[],this.contentGroup=this.box=void 0,this.display=!1,this.group=void 0,this.offsetWidth=this.maxLegendWidth=this.maxItemWidth=this.legendWidth=this.legendHeight=this.lastLineHeight=this.lastItemY=this.itemY=this.itemX=this.itemMarginTop=this.itemMarginBottom=this.itemHeight=this.initialItemY=0,this.options=void 0,this.padding=0,this.pages=[],this.proximate=!1,this.scrollGroup=void 0,this.widthOption=this.totalItemWidth=this.titleHeight=this.symbolWidth=this.symbolHeight=0,this.chart=t,this.init(t,e)}init(t,e){this.chart=t,this.setOptions(e),e.enabled&&(this.render(),h(this.chart,"endResize",(function(){this.legend.positionCheckboxes()})),h(this.chart,"render",(()=>{this.proximate&&(this.proximatePositions(),this.positionItems())})))}setOptions(t){const e=C(t.padding,8);this.options=t,this.chart.styledMode||(this.itemStyle=t.itemStyle,this.itemHiddenStyle=v(this.itemStyle,t.itemHiddenStyle)),this.itemMarginTop=t.itemMarginTop,this.itemMarginBottom=t.itemMarginBottom,this.padding=e,this.initialItemY=e-5,this.symbolWidth=C(t.symbolWidth,16),this.pages=[],this.proximate="proximate"===t.layout&&!this.chart.inverted,this.baseline=void 0}update(t,e){const n=this.chart;this.setOptions(v(!0,this.options,t)),this.destroy(),n.isDirtyLegend=n.isDirtyBox=!0,C(e,!0)&&n.redraw(),_(this,"afterUpdate")}colorizeItem(t,e){const{group:n,label:i,line:o,symbol:r}=t.legendItem||{};if(n&&n[e?"removeClass":"addClass"]("highcharts-legend-item-hidden"),!this.chart.styledMode){var s=this.options;const n=this.itemHiddenStyle.color;s=e?s.itemStyle.color:n;const a=e&&t.color||n,l=t.options&&t.options.marker;let c={fill:a};i&&i.css({fill:s}),o&&o.attr({stroke:a}),r&&(l&&r.isMarker&&(c=t.pointAttribs(),e||(c.stroke=c.fill=n)),r.attr(c))}_(this,"afterColorizeItem",{item:t,visible:e})}positionItems(){this.allItems.forEach(this.positionItem,this),this.chart.isResizing||this.positionCheckboxes()}positionItem(t){const{group:e,x:n=0,y:i=0}=t.legendItem||{};var o=this.options,r=o.symbolPadding;const s=!o.rtl;o=t.checkbox,e&&e.element&&(r={translateX:s?n:this.legendWidth-n-2*r-4,translateY:i},e[f(e.translateY)?"animate":"attr"](r,void 0,(()=>{_(this,"afterPositionItem",{item:t})}))),o&&(o.x=n,o.y=i)}destroyItem(t){const e=t.checkbox,n=t.legendItem||{};for(const t of["group","label","line","symbol"])n[t]&&(n[t]=n[t].destroy());e&&g(e),t.legendItem=void 0}destroy(){for(const t of this.getAllItems())this.destroyItem(t);for(const t of"clipRect up down pager nav box title group".split(" "))this[t]&&(this[t]=this[t].destroy());this.display=null}positionCheckboxes(){const t=this.group&&this.group.alignAttr,e=this.clipHeight||this.legendHeight,n=this.titleHeight;let i;t&&(i=t.translateY,this.allItems.forEach((function(o){const r=o.checkbox;let s;r&&(s=i+n+r.y+(this.scrollOffset||0)+3,p(r,{left:t.translateX+o.checkboxOffset+r.x-20+"px",top:s+"px",display:this.proximate||s>i-6&&s<i+e-6?"":"none"}))}),this))}renderTitle(){var t=this.options;const e=this.padding,n=t.title;let i=0;n.text&&(this.title||(this.title=this.chart.renderer.label(n.text,e-3,e-4,void 0,void 0,void 0,t.useHTML,void 0,"legend-title").attr({zIndex:1}),this.chart.styledMode||this.title.css(n.style),this.title.add(this.group)),n.width||this.title.css({width:this.maxLegendWidth+"px"}),i=(t=this.title.getBBox()).height,this.offsetWidth=t.width,this.contentGroup.attr({translateY:i})),this.titleHeight=i}setText(t){const e=this.options;t.legendItem.label.attr({text:e.labelFormat?l(e.labelFormat,t,this.chart):e.labelFormatter.call(t)})}renderItem(t){const e=t.legendItem=t.legendItem||{};var n=this.chart,i=n.renderer;const o=this.options,r=this.symbolWidth,s=o.symbolPadding||0,a=this.itemStyle,l=this.itemHiddenStyle,c="horizontal"===o.layout?C(o.itemDistance,20):0,u=!o.rtl,h=!t.series,d=!h&&t.series.drawLegendSymbol?t.series:t;var p=d.options;const f=this.createCheckboxForItem&&p&&p.showCheckbox,g=o.useHTML,m=t.options.className;let _=e.label;p=r+s+c+(f?20:0),_||(e.group=i.g("legend-item").addClass("highcharts-"+d.type+"-series highcharts-color-"+t.colorIndex+(m?" "+m:"")+(h?" highcharts-series-"+t.index:"")).attr({zIndex:1}).add(this.scrollGroup),e.label=_=i.text("",u?r+s:-s,this.baseline||0,g),n.styledMode||_.css(v(t.visible?a:l)),_.attr({align:u?"left":"right",zIndex:2}).add(e.group),this.baseline||(this.fontMetrics=i.fontMetrics(_),this.baseline=this.fontMetrics.f+3+this.itemMarginTop,_.attr("y",this.baseline),this.symbolHeight=C(o.symbolHeight,this.fontMetrics.f),o.squareSymbol&&(this.symbolWidth=C(o.symbolWidth,Math.max(this.symbolHeight,16)),p=this.symbolWidth+s+c+(f?20:0),u&&_.attr("x",this.symbolWidth+s))),d.drawLegendSymbol(this,t),this.setItemEvents&&this.setItemEvents(t,_,g)),f&&!t.checkbox&&this.createCheckboxForItem&&this.createCheckboxForItem(t),this.colorizeItem(t,t.visible),!n.styledMode&&a.width||_.css({width:(o.itemWidth||this.widthOption||n.spacingBox.width)-p+"px"}),this.setText(t),n=_.getBBox(),i=this.fontMetrics&&this.fontMetrics.h||0,t.itemWidth=t.checkboxOffset=o.itemWidth||e.labelWidth||n.width+p,this.maxItemWidth=Math.max(this.maxItemWidth,t.itemWidth),this.totalItemWidth+=t.itemWidth,this.itemHeight=t.itemHeight=Math.round(e.labelHeight||(n.height>1.5*i?n.height:i))}layoutItem(t){var e=this.options;const n=this.padding,i="horizontal"===e.layout,o=t.itemHeight,r=this.itemMarginBottom,s=this.itemMarginTop,a=i?C(e.itemDistance,20):0,l=this.maxLegendWidth;e=e.alignColumns&&this.totalItemWidth>l?this.maxItemWidth:t.itemWidth;const c=t.legendItem||{};i&&this.itemX-n+e>l&&(this.itemX=n,this.lastLineHeight&&(this.itemY+=s+this.lastLineHeight+r),this.lastLineHeight=0),this.lastItemY=s+this.itemY+r,this.lastLineHeight=Math.max(o,this.lastLineHeight),c.x=this.itemX,c.y=this.itemY,i?this.itemX+=e:(this.itemY+=s+o+r,this.lastLineHeight=o),this.offsetWidth=this.widthOption||Math.max((i?this.itemX-n-(t.checkbox?0:a):e)+n,this.offsetWidth)}getAllItems(){let t=[];return this.chart.series.forEach((function(e){const n=e&&e.options;e&&C(n.showInLegend,!f(n.linkedTo)&&void 0,!0)&&(t=t.concat((e.legendItem||{}).labels||("point"===n.legendType?e.data:e)))})),_(this,"afterGetAllItems",{allItems:t}),t}getAlignment(){const t=this.options;return this.proximate?t.align.charAt(0)+"tv":t.floating?"":t.align.charAt(0)+t.verticalAlign.charAt(0)+t.layout.charAt(0)}adjustMargins(t,e){const n=this.chart,i=this.options,o=this.getAlignment();o&&[/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/].forEach((function(r,s){r.test(o)&&!f(t[s])&&(n[c[s]]=Math.max(n[c[s]],n.legend[(s+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][s]*i[s%2?"x":"y"]+C(i.margin,12)+e[s]+(n.titleOffset[s]||0)))}))}proximatePositions(){const t=this.chart,e=[],n="left"===this.options.align;let i;this.allItems.forEach((function(i){var o,r=n;let s;i.yAxis&&(i.xAxis.options.reversed&&(r=!r),i.points&&(o=m(r?i.points:i.points.slice(0).reverse(),(function(t){return y(t.plotY)}))),r=this.itemMarginTop+i.legendItem.label.getBBox().height+this.itemMarginBottom,s=i.yAxis.top-t.plotTop,i.visible?(o=o?o.plotY:i.yAxis.height,o+=s-.3*r):o=s+i.yAxis.height,e.push({target:o,size:r,item:i}))}),this);for(const n of u(e,t.plotHeight))i=n.item.legendItem||{},y(n.pos)&&(i.y=t.plotTop-t.spacing[0]+n.pos)}render(){const t=this.chart,e=t.renderer,n=this.options,i=this.padding;var o=this.getAllItems();let r,s=this.group,a=this.box;this.itemX=i,this.itemY=this.initialItemY,this.lastItemY=this.offsetWidth=0,this.widthOption=b(n.width,t.spacingBox.width-i);var l=t.spacingBox.width-2*i-n.x;-1<["rm","lm"].indexOf(this.getAlignment().substring(0,2))&&(l/=2),this.maxLegendWidth=this.widthOption||l,s||(this.group=s=e.g("legend").addClass(n.className||"").attr({zIndex:7}).add(),this.contentGroup=e.g().attr({zIndex:1}).add(s),this.scrollGroup=e.g().add(this.contentGroup)),this.renderTitle(),E(o,((t,e)=>(t.options&&t.options.legendIndex||0)-(e.options&&e.options.legendIndex||0))),n.reversed&&o.reverse(),this.allItems=o,this.display=l=!!o.length,this.itemHeight=this.totalItemWidth=this.maxItemWidth=this.lastLineHeight=0,o.forEach(this.renderItem,this),o.forEach(this.layoutItem,this),o=(this.widthOption||this.offsetWidth)+i,r=this.lastItemY+this.lastLineHeight+this.titleHeight,r=this.handleOverflow(r),r+=i,a||(this.box=a=e.rect().addClass("highcharts-legend-box").attr({r:n.borderRadius}).add(s)),t.styledMode||a.attr({stroke:n.borderColor,"stroke-width":n.borderWidth||0,fill:n.backgroundColor||"none"}).shadow(n.shadow),0<o&&0<r&&a[a.placed?"animate":"attr"](a.crisp.call({},{x:0,y:0,width:o,height:r},a.strokeWidth())),s[l?"show":"hide"](),t.styledMode&&"none"===s.getStyle("display")&&(o=r=0),this.legendWidth=o,this.legendHeight=r,l&&this.align(),this.proximate||this.positionItems(),_(this,"afterRender")}align(t=this.chart.spacingBox){const e=this.chart,n=this.options;let i=t.y;/(lth|ct|rth)/.test(this.getAlignment())&&0<e.titleOffset[0]?i+=e.titleOffset[0]:/(lbh|cb|rbh)/.test(this.getAlignment())&&0<e.titleOffset[2]&&(i-=e.titleOffset[2]),i!==t.y&&(t=v(t,{y:i})),e.hasRendered||(this.group.placed=!1),this.group.align(v(n,{width:this.legendWidth,height:this.legendHeight,verticalAlign:this.proximate?"top":n.verticalAlign}),!0,t)}handleOverflow(t){const e=this,n=this.chart,i=n.renderer,o=this.options;var r=o.y;const s="top"===o.verticalAlign,a=this.padding,l=o.maxHeight,c=o.navigation,u=C(c.animation,!0),h=c.arrowSize||12,d=this.pages,p=this.allItems,f=function(t){"number"==typeof t?b.attr({height:t}):b&&(e.clipRect=b.destroy(),e.contentGroup.clip()),e.contentGroup.div&&(e.contentGroup.div.style.clip=t?"rect("+a+"px,9999px,"+(a+t)+"px,0)":"auto")},g=function(t){return e[t]=i.circle(0,0,1.3*h).translate(h/2,h/2).add(v),n.styledMode||e[t].attr("fill","rgba(0,0,0,0.0001)"),e[t]};let m,_,y;r=n.spacingBox.height+(s?-r:r)-a;let v=this.nav,b=this.clipRect;return"horizontal"!==o.layout||"middle"===o.verticalAlign||o.floating||(r/=2),l&&(r=Math.min(r,l)),d.length=0,t&&0<r&&t>r&&!1!==c.enabled?(this.clipHeight=m=Math.max(r-20-this.titleHeight-a,0),this.currentPage=C(this.currentPage,1),this.fullHeight=t,p.forEach(((t,e)=>{y=t.legendItem||{},t=y.y||0;const n=Math.round(y.label.getBBox().height);let i=d.length;(!i||t-d[i-1]>m&&(_||t)!==d[i-1])&&(d.push(_||t),i++),y.pageIx=i-1,_&&((p[e-1].legendItem||{}).pageIx=i-1),e===p.length-1&&t+n-d[i-1]>m&&t>d[i-1]&&(d.push(t),y.pageIx=i),t!==_&&(_=t)})),b||(b=e.clipRect=i.clipRect(0,a-2,9999,0),e.contentGroup.clip(b)),f(m),v||(this.nav=v=i.g().attr({zIndex:1}).add(this.group),this.up=i.symbol("triangle",0,0,h,h).add(v),g("upTracker").on("click",(function(){e.scroll(-1,u)})),this.pager=i.text("",15,10).addClass("highcharts-legend-navigation"),!n.styledMode&&c.style&&this.pager.css(c.style),this.pager.add(v),this.down=i.symbol("triangle-down",0,0,h,h).add(v),g("downTracker").on("click",(function(){e.scroll(1,u)}))),e.scroll(0),t=r):v&&(f(),this.nav=v.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),t}scroll(t,e){const n=this.chart,i=this.pages,o=i.length,r=this.clipHeight,l=this.options.navigation,c=this.pager,u=this.padding;let h=this.currentPage+t;h>o&&(h=o),0<h&&(void 0!==e&&a(e,n),this.nav.attr({translateX:u,translateY:r+this.padding+7+this.titleHeight,visibility:"inherit"}),[this.up,this.upTracker].forEach((function(t){t.attr({class:1===h?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})})),c.attr({text:h+"/"+o}),[this.down,this.downTracker].forEach((function(t){t.attr({x:18+this.pager.getBBox().width,class:h===o?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})}),this),n.styledMode||(this.up.attr({fill:1===h?l.inactiveColor:l.activeColor}),this.upTracker.css({cursor:1===h?"default":"pointer"}),this.down.attr({fill:h===o?l.inactiveColor:l.activeColor}),this.downTracker.css({cursor:h===o?"default":"pointer"})),this.scrollOffset=-i[h-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=h,this.positionCheckboxes(),t=s(C(e,n.renderer.globalAnimation,!0)),S((()=>{_(this,"afterScroll",{currentPage:h})}),t.duration))}setItemEvents(t,e,n){const o=this,r=t.legendItem||{},s=o.chart.renderer.boxWrapper,a=t instanceof i,l="highcharts-legend-"+(a?"point":"series")+"-active",c=o.chart.styledMode;n=n?[e,r.symbol]:[r.group];const u=e=>{o.allItems.forEach((n=>{t!==n&&[n].concat(n.linkedSeries||[]).forEach((t=>{t.setState(e,!a)}))}))};for(const i of n)i&&i.on("mouseover",(function(){t.visible&&u("inactive"),t.setState("hover"),t.visible&&s.addClass(l),c||e.css(o.options.itemHoverStyle)})).on("mouseout",(function(){o.chart.styledMode||e.css(v(t.visible?o.itemStyle:o.itemHiddenStyle)),u(""),s.removeClass(l),t.setState()})).on("click",(function(e){const n=function(){t.setVisible&&t.setVisible(),u(t.visible?"inactive":"")};s.removeClass(l),e={browserEvent:e},t.firePointEvent?t.firePointEvent("legendItemClick",e,n):_(t,"legendItemClick",e,n)}))}createCheckboxForItem(t){t.checkbox=d("input",{type:"checkbox",className:"highcharts-legend-checkbox",checked:t.selected,defaultChecked:t.selected},this.options.itemCheckboxStyle,this.chart.container),h(t.checkbox,"click",(function(e){_(t.series||t,"checkboxClick",{checked:e.target.checked,item:t},(function(){t.select()}))}))}}return function(t){const e=[];t.compose=function(n){r.pushUnique(e,n)&&h(n,"beforeMargins",(function(){this.legend=new t(this,this.options.legend)}))}}(w||(w={})),w})),e(n,"Core/Series/SeriesRegistry.js",[n["Core/Globals.js"],n["Core/Defaults.js"],n["Core/Series/Point.js"],n["Core/Utilities.js"]],(function(t,e,n,i){const{defaultOptions:o}=e,{extendClass:r,merge:s}=i;var a;return function(e){function i(t,i){const r=o.plotOptions||{},s=i.defaultOptions,a=i.prototype;a.type=t,a.pointClass||(a.pointClass=n),s&&(r[t]=s),e.seriesTypes[t]=i}e.seriesTypes=t.seriesTypes,e.registerSeriesType=i,e.seriesType=function(t,a,l,c,u){const h=o.plotOptions||{};return a=a||"",h[t]=s(h[a],l),i(t,r(e.seriesTypes[a]||function(){},c)),e.seriesTypes[t].prototype.type=t,u&&(e.seriesTypes[t].prototype.pointClass=r(n,u)),e.seriesTypes[t]}}(a||(a={})),a})),e(n,"Core/Chart/Chart.js",[n["Core/Animation/AnimationUtilities.js"],n["Core/Axis/Axis.js"],n["Core/Defaults.js"],n["Core/FormatUtilities.js"],n["Core/Foundation.js"],n["Core/Globals.js"],n["Core/Renderer/RendererRegistry.js"],n["Core/Series/SeriesRegistry.js"],n["Core/Renderer/SVG/SVGRenderer.js"],n["Core/Time.js"],n["Core/Utilities.js"],n["Core/Renderer/HTML/AST.js"]],(function(t,e,n,i,o,r,s,a,l,c,u,h){const{animate:d,animObject:p,setAnimation:f}=t,{defaultOptions:g,defaultTime:m}=n,{numberFormat:_}=i,{registerEventOptions:y}=o,{charts:v,doc:C,marginNames:b,svg:E,win:S}=r,{seriesTypes:w}=a,{addEvent:O,attr:x,cleanRecursively:P,createElement:T,css:M,defined:D,discardElement:R,erase:A,error:L,extend:I,find:k,fireEvent:N,getStyle:F,isArray:G,isNumber:B,isObject:j,isString:U,merge:V,objectEach:W,pick:H,pInt:$,relativeLength:z,removeEvent:K,splat:Y,syncTimeout:X,uniqueKey:q}=u;class Z{static chart(t,e,n){return new Z(t,e,n)}constructor(t,e,n){this.series=this.renderTo=this.renderer=this.pointer=this.pointCount=this.plotWidth=this.plotTop=this.plotLeft=this.plotHeight=this.plotBox=this.options=this.numberFormatter=this.margin=this.labelCollectors=this.isResizing=this.index=this.eventOptions=this.container=this.colorCounter=this.clipBox=this.chartWidth=this.chartHeight=this.bounds=this.axisOffset=this.axes=void 0,this.sharedClips={},this.yAxis=this.xAxis=this.userOptions=this.titleOffset=this.time=this.symbolCounter=this.spacingBox=this.spacing=void 0,this.getArgs(t,e,n)}getArgs(t,e,n){U(t)||t.nodeName?(this.renderTo=t,this.init(e,n)):this.init(t,e)}init(t,e){const n=t.plotOptions||{};N(this,"init",{args:arguments},(function(){const i=V(g,t),o=i.chart;W(i.plotOptions,(function(t,e){j(t)&&(t.tooltip=n[e]&&V(n[e].tooltip)||void 0)})),i.tooltip.userOptions=t.chart&&t.chart.forExport&&t.tooltip.userOptions||t.tooltip,this.userOptions=t,this.margin=[],this.spacing=[],this.bounds={h:{},v:{}},this.labelCollectors=[],this.callback=e,this.isResizing=0;const s=o.zooming=o.zooming||{};t.chart&&!t.chart.zooming&&(s.resetButton=o.resetZoomButton),s.key=H(s.key,o.zoomKey),s.pinchType=H(s.pinchType,o.pinchType),s.singleTouch=H(s.singleTouch,o.zoomBySingleTouch),s.type=H(s.type,o.zoomType),this.options=i,this.axes=[],this.series=[],this.time=t.time&&Object.keys(t.time).length?new c(t.time):r.time,this.numberFormatter=o.numberFormatter||_,this.styledMode=o.styledMode,this.hasCartesianSeries=o.showAxes,this.index=v.length,v.push(this),r.chartCount++,y(this,o),this.xAxis=[],this.yAxis=[],this.pointCount=this.colorCounter=this.symbolCounter=0,N(this,"afterInit"),this.firstRender()}))}initSeries(t){var e=this.options.chart;e=t.type||e.type;const n=w[e];return n||L(17,!0,this,{missingModuleFor:e}),"function"==typeof(e=new n).init&&e.init(this,t),e}setSeriesData(){this.getSeriesOrderByLinks().forEach((function(t){t.points||t.data||!t.enabledDataSorting||t.setData(t.options.data,!1)}))}getSeriesOrderByLinks(){return this.series.concat().sort((function(t,e){return t.linkedSeries.length||e.linkedSeries.length?e.linkedSeries.length-t.linkedSeries.length:0}))}orderSeries(t){const e=this.series;for(let n=t||0,i=e.length;n<i;++n)e[n]&&(e[n].index=n,e[n].name=e[n].getName())}isInsidePlot(t,e,n={}){const{inverted:i,plotBox:o,plotLeft:r,plotTop:s,scrollablePlotBox:a}=this;var l=0;let c=0;n.visiblePlotOnly&&this.scrollingContainer&&({scrollLeft:l,scrollTop:c}=this.scrollingContainer);const u=n.series,h=n.visiblePlotOnly&&a||o;var d=n.inverted?e:t;if(t={x:d,y:e=n.inverted?t:e,isInsidePlot:!0,options:n},!n.ignoreX){const e=u&&(i&&!this.polar?u.yAxis:u.xAxis)||{pos:r,len:1/0};(d=n.paneCoordinates?e.pos+d:r+d)>=Math.max(l+r,e.pos)&&d<=Math.min(l+r+h.width,e.pos+e.len)||(t.isInsidePlot=!1)}return!n.ignoreY&&t.isInsidePlot&&(l=!i&&n.axis&&!n.axis.isXAxis&&n.axis||u&&(i?u.xAxis:u.yAxis)||{pos:s,len:1/0},(n=n.paneCoordinates?l.pos+e:s+e)>=Math.max(c+s,l.pos)&&n<=Math.min(c+s+h.height,l.pos+l.len)||(t.isInsidePlot=!1)),N(this,"afterIsInsidePlot",t),t.isInsidePlot}redraw(t){N(this,"beforeRedraw");const e=this.hasCartesianSeries?this.axes:this.colorAxis||[],n=this.series,i=this.pointer,o=this.legend,r=this.userOptions.legend,s=this.renderer,a=s.isHidden(),l=[];let c,u,h,d=this.isDirtyBox,p=this.isDirtyLegend;for(s.rootFontSize=s.boxWrapper.getStyle("font-size"),this.setResponsive&&this.setResponsive(!1),f(!!this.hasRendered&&t,this),a&&this.temporaryDisplay(),this.layOutTitles(),t=n.length;t--;)if(h=n[t],(h.options.stacking||h.options.centerInCategory)&&(u=!0,h.isDirty)){c=!0;break}if(c)for(t=n.length;t--;)h=n[t],h.options.stacking&&(h.isDirty=!0);n.forEach((function(t){t.isDirty&&("point"===t.options.legendType?("function"==typeof t.updateTotals&&t.updateTotals(),p=!0):r&&(r.labelFormatter||r.labelFormat)&&(p=!0)),t.isDirtyData&&N(t,"updatedData")})),p&&o&&o.options.enabled&&(o.render(),this.isDirtyLegend=!1),u&&this.getStacks(),e.forEach((function(t){t.updateNames(),t.setScale()})),this.getMargins(),e.forEach((function(t){t.isDirty&&(d=!0)})),e.forEach((function(t){const e=t.min+","+t.max;t.extKey!==e&&(t.extKey=e,l.push((function(){N(t,"afterSetExtremes",I(t.eventArgs,t.getExtremes())),delete t.eventArgs}))),(d||u)&&t.redraw()})),d&&this.drawChartBox(),N(this,"predraw"),n.forEach((function(t){(d||t.isDirty)&&t.visible&&t.redraw(),t.isDirtyData=!1})),i&&i.reset(!0),s.draw(),N(this,"redraw"),N(this,"render"),a&&this.temporaryDisplay(!0),l.forEach((function(t){t.call()}))}get(t){function e(e){return e.id===t||e.options&&e.options.id===t}const n=this.series;let i=k(this.axes,e)||k(this.series,e);for(let t=0;!i&&t<n.length;t++)i=k(n[t].points||[],e);return i}getAxes(){const t=this;var n=this.options;const i=n.xAxis=Y(n.xAxis||{});n=n.yAxis=Y(n.yAxis||{}),N(this,"getAxes"),i.forEach((function(t,e){t.index=e,t.isX=!0})),n.forEach((function(t,e){t.index=e})),i.concat(n).forEach((function(n){new e(t,n)})),N(this,"afterGetAxes")}getSelectedPoints(){return this.series.reduce(((t,e)=>(e.getPointsCollection().forEach((e=>{H(e.selectedStaging,e.selected)&&t.push(e)})),t)),[])}getSelectedSeries(){return this.series.filter((function(t){return t.selected}))}setTitle(t,e,n){this.applyDescription("title",t),this.applyDescription("subtitle",e),this.applyDescription("caption",void 0),this.layOutTitles(n)}applyDescription(t,e){const n=this;var i="title"===t?{color:"#333333",fontSize:this.options.isStock?"1em":"1.2em",fontWeight:"bold"}:{color:"#666666",fontSize:"0.8em"};i=this.options[t]=V(!this.styledMode&&{style:i},this.options[t],e);let o=this[t];o&&e&&(this[t]=o=o.destroy()),i&&!o&&(o=this.renderer.text(i.text,0,0,i.useHTML).attr({align:i.align,class:"highcharts-"+t,zIndex:i.zIndex||4}).add(),o.update=function(e){n[{title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"}[t]](e)},this.styledMode||o.css(i.style),this[t]=o)}layOutTitles(t){const e=[0,0,0],n=this.renderer,i=this.spacingBox;["title","subtitle","caption"].forEach((function(t){const o=this[t],r=this.options[t],s=r.verticalAlign||"top";if(t="title"===t?"top"===s?-3:0:"top"===s?e[0]+2:0,o){o.css({width:(r.width||i.width+(r.widthAdjust||0))+"px"});const a=n.fontMetrics(o).b,l=Math.round(o.getBBox(r.useHTML).height);o.align(I({y:"bottom"===s?a:t+a,height:l},r),!1,"spacingBox"),r.floating||("top"===s?e[0]=Math.ceil(e[0]+l):"bottom"===s&&(e[2]=Math.ceil(e[2]+l)))}}),this),e[0]&&"top"===(this.options.title.verticalAlign||"top")&&(e[0]+=this.options.title.margin),e[2]&&"bottom"===this.options.caption.verticalAlign&&(e[2]+=this.options.caption.margin);const o=!this.titleOffset||this.titleOffset.join(",")!==e.join(",");this.titleOffset=e,N(this,"afterLayOutTitles"),!this.isDirtyBox&&o&&(this.isDirtyBox=this.isDirtyLegend=o,this.hasRendered&&H(t,!0)&&this.isDirtyBox&&this.redraw())}getContainerBox(){return{width:F(this.renderTo,"width",!0)||0,height:F(this.renderTo,"height",!0)||0}}getChartSize(){var t=this.options.chart;const e=t.width;t=t.height;const n=this.getContainerBox();this.chartWidth=Math.max(0,e||n.width||600),this.chartHeight=Math.max(0,z(t,this.chartWidth)||(1<n.height?n.height:400)),this.containerBox=n}temporaryDisplay(t){let e=this.renderTo;if(t)for(;e&&e.style;)e.hcOrigStyle&&(M(e,e.hcOrigStyle),delete e.hcOrigStyle),e.hcOrigDetached&&(C.body.removeChild(e),e.hcOrigDetached=!1),e=e.parentNode;else for(;e&&e.style&&(C.body.contains(e)||e.parentNode||(e.hcOrigDetached=!0,C.body.appendChild(e)),("none"===F(e,"display",!1)||e.hcOricDetached)&&(e.hcOrigStyle={display:e.style.display,height:e.style.height,overflow:e.style.overflow},t={display:"block",overflow:"hidden"},e!==this.renderTo&&(t.height=0),M(e,t),e.offsetWidth||e.style.setProperty("display","block","important")),e=e.parentNode,e!==C.body););}setClassName(t){this.container.className="highcharts-container "+(t||"")}getContainer(){const t=this.options,e=t.chart;var n=q();let i,o=this.renderTo;o||(this.renderTo=o=e.renderTo),U(o)&&(this.renderTo=o=C.getElementById(o)),o||L(13,!0,this);var r=$(x(o,"data-highcharts-chart"));B(r)&&v[r]&&v[r].hasRendered&&v[r].destroy(),x(o,"data-highcharts-chart",this.index),o.innerHTML=h.emptyHTML,e.skipClone||o.offsetWidth||this.temporaryDisplay(),this.getChartSize(),r=this.chartWidth;const a=this.chartHeight;if(M(o,{overflow:"hidden"}),this.styledMode||(i=I({position:"relative",overflow:"hidden",width:r+"px",height:a+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)",userSelect:"none","touch-action":"manipulation",outline:"none"},e.style||{})),this.container=n=T("div",{id:n},i,o),this._cursor=n.style.cursor,this.renderer=new(e.renderer||!E?s.getRendererType(e.renderer):l)(n,r,a,void 0,e.forExport,t.exporting&&t.exporting.allowHTML,this.styledMode),this.containerBox=this.getContainerBox(),f(void 0,this),this.setClassName(e.className),this.styledMode)for(const e in t.defs)this.renderer.definition(t.defs[e]);else this.renderer.setStyle(e.style);this.renderer.chartIndex=this.index,N(this,"afterGetContainer")}getMargins(t){const{spacing:e,margin:n,titleOffset:i}=this;this.resetMargins(),i[0]&&!D(n[0])&&(this.plotTop=Math.max(this.plotTop,i[0]+e[0])),i[2]&&!D(n[2])&&(this.marginBottom=Math.max(this.marginBottom,i[2]+e[2])),this.legend&&this.legend.display&&this.legend.adjustMargins(n,e),N(this,"getMargins"),t||this.getAxisMargins()}getAxisMargins(){const t=this,e=t.axisOffset=[0,0,0,0],n=t.colorAxis,i=t.margin,o=function(t){t.forEach((function(t){t.visible&&t.getOffset()}))};t.hasCartesianSeries?o(t.axes):n&&n.length&&o(n),b.forEach((function(n,o){D(i[o])||(t[n]+=e[o])})),t.setChartSize()}reflow(t){const e=this;var n=e.options.chart;n=D(n.width)&&D(n.height);const i=e.containerBox,o=e.getContainerBox();delete e.pointer.chartPosition,!n&&!e.isPrinting&&i&&o.width&&(o.width===i.width&&o.height===i.height||(u.clearTimeout(e.reflowTimeout),e.reflowTimeout=X((function(){e.container&&e.setSize(void 0,void 0,!1)}),t?100:0)),e.containerBox=o)}setReflow(){const t=this;var e=e=>{var n;null!==(n=t.options)&&void 0!==n&&n.chart.reflow&&t.hasLoaded&&t.reflow(e)};"function"==typeof ResizeObserver?new ResizeObserver(e).observe(t.renderTo):(e=O(S,"resize",e),O(this,"destroy",e))}setSize(t,e,n){const i=this,o=i.renderer;i.isResizing+=1,f(n,i),n=o.globalAnimation,i.oldChartHeight=i.chartHeight,i.oldChartWidth=i.chartWidth,void 0!==t&&(i.options.chart.width=t),void 0!==e&&(i.options.chart.height=e),i.getChartSize(),i.styledMode||(n?d:M)(i.container,{width:i.chartWidth+"px",height:i.chartHeight+"px"},n),i.setChartSize(!0),o.setSize(i.chartWidth,i.chartHeight,n),i.axes.forEach((function(t){t.isDirty=!0,t.setScale()})),i.isDirtyLegend=!0,i.isDirtyBox=!0,i.layOutTitles(),i.getMargins(),i.redraw(n),i.oldChartHeight=null,N(i,"resize"),X((function(){i&&N(i,"endResize",null,(function(){--i.isResizing}))}),p(n).duration)}setChartSize(t){var e=this.inverted;const n=this.renderer;var i=this.chartWidth,o=this.chartHeight;const r=this.options.chart,s=this.spacing,a=this.clipOffset;let l,c,u,h;this.plotLeft=l=Math.round(this.plotLeft),this.plotTop=c=Math.round(this.plotTop),this.plotWidth=u=Math.max(0,Math.round(i-l-this.marginRight)),this.plotHeight=h=Math.max(0,Math.round(o-c-this.marginBottom)),this.plotSizeX=e?h:u,this.plotSizeY=e?u:h,this.plotBorderWidth=r.plotBorderWidth||0,this.spacingBox=n.spacingBox={x:s[3],y:s[0],width:i-s[3]-s[1],height:o-s[0]-s[2]},this.plotBox=n.plotBox={x:l,y:c,width:u,height:h},e=2*Math.floor(this.plotBorderWidth/2),i=Math.ceil(Math.max(e,a[3])/2),o=Math.ceil(Math.max(e,a[0])/2),this.clipBox={x:i,y:o,width:Math.floor(this.plotSizeX-Math.max(e,a[1])/2-i),height:Math.max(0,Math.floor(this.plotSizeY-Math.max(e,a[2])/2-o))},t||(this.axes.forEach((function(t){t.setAxisSize(),t.setAxisTranslation()})),n.alignElements()),N(this,"afterSetChartSize",{skipAxes:t})}resetMargins(){N(this,"resetMargins");const t=this,e=t.options.chart;["margin","spacing"].forEach((function(n){const i=e[n],o=j(i)?i:[i,i,i,i];["Top","Right","Bottom","Left"].forEach((function(i,r){t[n][r]=H(e[n+i],o[r])}))})),b.forEach((function(e,n){t[e]=H(t.margin[n],t.spacing[n])})),t.axisOffset=[0,0,0,0],t.clipOffset=[0,0,0,0]}drawChartBox(){const t=this.options.chart,e=this.renderer,n=this.chartWidth,i=this.chartHeight,o=this.styledMode,r=this.plotBGImage;var s=t.backgroundColor;const a=t.plotBackgroundColor,l=t.plotBackgroundImage,c=this.plotLeft,u=this.plotTop,h=this.plotWidth,d=this.plotHeight,p=this.plotBox,f=this.clipRect,g=this.clipBox;let m,_,y=this.chartBackground,v=this.plotBackground,C=this.plotBorder,b="animate";y||(this.chartBackground=y=e.rect().addClass("highcharts-background").add(),b="attr"),o?m=_=y.strokeWidth():(m=t.borderWidth||0,_=m+(t.shadow?8:0),s={fill:s||"none"},(m||y["stroke-width"])&&(s.stroke=t.borderColor,s["stroke-width"]=m),y.attr(s).shadow(t.shadow)),y[b]({x:_/2,y:_/2,width:n-_-m%2,height:i-_-m%2,r:t.borderRadius}),b="animate",v||(b="attr",this.plotBackground=v=e.rect().addClass("highcharts-plot-background").add()),v[b](p),o||(v.attr({fill:a||"none"}).shadow(t.plotShadow),l&&(r?(l!==r.attr("href")&&r.attr("href",l),r.animate(p)):this.plotBGImage=e.image(l,c,u,h,d).add())),f?f.animate({width:g.width,height:g.height}):this.clipRect=e.clipRect(g),b="animate",C||(b="attr",this.plotBorder=C=e.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),o||C.attr({stroke:t.plotBorderColor,"stroke-width":t.plotBorderWidth||0,fill:"none"}),C[b](C.crisp({x:c,y:u,width:h,height:d},-C.strokeWidth())),this.isDirtyBox=!1,N(this,"afterDrawChartBox")}propFromSeries(){const t=this,e=t.options.chart,n=t.options.series;let i,o,r;["inverted","angular","polar"].forEach((function(s){for(o=w[e.type],r=e[s]||o&&o.prototype[s],i=n&&n.length;!r&&i--;)(o=w[n[i].type])&&o.prototype[s]&&(r=!0);t[s]=r}))}linkSeries(t){const e=this,n=e.series;n.forEach((function(t){t.linkedSeries.length=0})),n.forEach((function(t){let n=t.options.linkedTo;U(n)&&(n=":previous"===n?e.series[t.index-1]:e.get(n))&&n.linkedParent!==t&&(n.linkedSeries.push(t),t.linkedParent=n,n.enabledDataSorting&&t.setDataSortingOptions(),t.visible=H(t.options.visible,n.options.visible,t.visible))})),N(this,"afterLinkSeries",{isUpdating:t})}renderSeries(){this.series.forEach((function(t){t.translate(),t.render()}))}render(){const t=this.axes,e=this.colorAxis,n=this.renderer,i=function(t){t.forEach((function(t){t.visible&&t.render()}))};let o=0;this.setTitle(),N(this,"beforeMargins"),this.getStacks&&this.getStacks(),this.getMargins(!0),this.setChartSize();const r=this.plotWidth;t.some((function(t){if(t.horiz&&t.visible&&t.options.labels.enabled&&t.series.length)return o=21,!0}));const s=this.plotHeight=Math.max(this.plotHeight-o,0);t.forEach((function(t){t.setScale()})),this.getAxisMargins();const a=1.1<r/this.plotWidth,l=1.05<s/this.plotHeight;(a||l)&&(t.forEach((function(t){(t.horiz&&a||!t.horiz&&l)&&t.setTickInterval(!0)})),this.getMargins()),this.drawChartBox(),this.hasCartesianSeries?i(t):e&&e.length&&i(e),this.seriesGroup||(this.seriesGroup=n.g("series-group").attr({zIndex:3}).shadow(this.options.chart.seriesGroupShadow).add()),this.renderSeries(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0}addCredits(t){const e=this,n=V(!0,this.options.credits,t);n.enabled&&!this.credits&&(this.credits=this.renderer.text(n.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",(function(){n.href&&(S.location.href=n.href)})).attr({align:n.position.align,zIndex:8}),e.styledMode||this.credits.css(n.style),this.credits.add().align(n.position),this.credits.update=function(t){e.credits=e.credits.destroy(),e.addCredits(t)})}destroy(){const t=this,e=t.axes,n=t.series,i=t.container,o=i&&i.parentNode;let s;for(N(t,"destroy"),t.renderer.forExport?A(v,t):v[t.index]=void 0,r.chartCount--,t.renderTo.removeAttribute("data-highcharts-chart"),K(t),s=e.length;s--;)e[s]=e[s].destroy();for(this.scroller&&this.scroller.destroy&&this.scroller.destroy(),s=n.length;s--;)n[s]=n[s].destroy();"title subtitle chartBackground plotBackground plotBGImage plotBorder seriesGroup clipRect credits pointer rangeSelector legend resetZoomButton tooltip renderer".split(" ").forEach((function(e){const n=t[e];n&&n.destroy&&(t[e]=n.destroy())})),i&&(i.innerHTML=h.emptyHTML,K(i),o&&R(i)),W(t,(function(e,n){delete t[n]}))}firstRender(){const t=this,e=t.options;t.getContainer(),t.resetMargins(),t.setChartSize(),t.propFromSeries(),t.getAxes(),(G(e.series)?e.series:[]).forEach((function(e){t.initSeries(e)})),t.linkSeries(),t.setSeriesData(),N(t,"beforeRender"),t.render(),t.pointer.getChartPosition(),t.renderer.imgCount||t.hasLoaded||t.onload(),t.temporaryDisplay(!0)}onload(){this.callbacks.concat([this.callback]).forEach((function(t){t&&void 0!==this.index&&t.apply(this,[this])}),this),N(this,"load"),N(this,"render"),D(this.index)&&this.setReflow(),this.warnIfA11yModuleNotLoaded(),this.hasLoaded=!0}warnIfA11yModuleNotLoaded(){const{options:t,title:e}=this;t&&!this.accessibility&&(this.renderer.boxWrapper.attr({role:"img","aria-label":(e&&e.element.textContent||"").replace(/</g,"&lt;")}),t.accessibility&&!1===t.accessibility.enabled||L('Highcharts warning: Consider including the "accessibility.js" module to make your chart more usable for people with disabilities. Set the "accessibility.enabled" option to false to remove this warning. See https://www.highcharts.com/docs/accessibility/accessibility-module.',!1,this))}addSeries(t,e,n){const i=this;let o;return t&&(e=H(e,!0),N(i,"addSeries",{options:t},(function(){o=i.initSeries(t),i.isDirtyLegend=!0,i.linkSeries(),o.enabledDataSorting&&o.setData(t.data,!1),N(i,"afterAddSeries",{series:o}),e&&i.redraw(n)}))),o}addAxis(t,e,n,i){return this.createAxis(e?"xAxis":"yAxis",{axis:t,redraw:n,animation:i})}addColorAxis(t,e,n){return this.createAxis("colorAxis",{axis:t,redraw:e,animation:n})}createAxis(t,n){return t=new e(this,V(n.axis,{index:this[t].length,isX:"xAxis"===t})),H(n.redraw,!0)&&this.redraw(n.animation),t}showLoading(t){const e=this,n=e.options,i=n.loading,o=function(){r&&M(r,{left:e.plotLeft+"px",top:e.plotTop+"px",width:e.plotWidth+"px",height:e.plotHeight+"px"})};let r=e.loadingDiv,s=e.loadingSpan;r||(e.loadingDiv=r=T("div",{className:"highcharts-loading highcharts-loading-hidden"},null,e.container)),s||(e.loadingSpan=s=T("span",{className:"highcharts-loading-inner"},null,r),O(e,"redraw",o)),r.className="highcharts-loading",h.setElementHTML(s,H(t,n.lang.loading,"")),e.styledMode||(M(r,I(i.style,{zIndex:10})),M(s,i.labelStyle),e.loadingShown||(M(r,{opacity:0,display:""}),d(r,{opacity:i.style.opacity||.5},{duration:i.showDuration||0}))),e.loadingShown=!0,o()}hideLoading(){const t=this.options,e=this.loadingDiv;e&&(e.className="highcharts-loading highcharts-loading-hidden",this.styledMode||d(e,{opacity:0},{duration:t.loading.hideDuration||100,complete:function(){M(e,{display:"none"})}})),this.loadingShown=!1}update(t,e,n,i){const o=this,r={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"},s=t.isResponsiveOptions,a=[];let l,u;N(o,"update",{options:t}),s||o.setResponsive(!1,!0),t=P(t,o.options),o.userOptions=V(o.userOptions,t);var h=t.chart;if(h){if(V(!0,o.options.chart,h),"className"in h&&o.setClassName(h.className),"inverted"in h||"polar"in h||"type"in h){o.propFromSeries();var d=!0}"alignTicks"in h&&(d=!0),"events"in h&&y(this,h),W(h,(function(t,e){-1!==o.propsRequireUpdateSeries.indexOf("chart."+e)&&(l=!0),-1!==o.propsRequireDirtyBox.indexOf(e)&&(o.isDirtyBox=!0),-1!==o.propsRequireReflow.indexOf(e)&&(s?o.isDirtyBox=!0:u=!0)})),!o.styledMode&&h.style&&o.renderer.setStyle(o.options.chart.style||{})}!o.styledMode&&t.colors&&(this.options.colors=t.colors),t.time&&(this.time===m&&(this.time=new c(t.time)),V(!0,o.options.time,t.time)),W(t,(function(e,n){o[n]&&"function"==typeof o[n].update?o[n].update(e,!1):"function"==typeof o[r[n]]?o[r[n]](e):"colors"!==n&&-1===o.collectionsWithUpdate.indexOf(n)&&V(!0,o.options[n],t[n]),"chart"!==n&&-1!==o.propsRequireUpdateSeries.indexOf(n)&&(l=!0)})),this.collectionsWithUpdate.forEach((function(e){let i;t[e]&&(i=[],o[e].forEach((function(t,e){t.options.isInternal||i.push(H(t.options.index,e))})),Y(t[e]).forEach((function(t,r){const s=D(t.id);let a;s&&(a=o.get(t.id)),!a&&o[e]&&(a=o[e][i?i[r]:r])&&s&&D(a.options.id)&&(a=void 0),a&&a.coll===e&&(a.update(t,!1),n&&(a.touched=!0)),!a&&n&&o.collectionsWithInit[e]&&(o.collectionsWithInit[e][0].apply(o,[t].concat(o.collectionsWithInit[e][1]||[]).concat([!1])).touched=!0)})),n&&o[e].forEach((function(t){t.touched||t.options.isInternal?delete t.touched:a.push(t)})))})),a.forEach((function(t){t.chart&&t.remove&&t.remove(!1)})),d&&o.axes.forEach((function(t){t.update({},!1)})),l&&o.getSeriesOrderByLinks().forEach((function(t){t.chart&&t.update({},!1)}),this),d=h&&h.width,h=h&&(U(h.height)?z(h.height,d||o.chartWidth):h.height),u||B(d)&&d!==o.chartWidth||B(h)&&h!==o.chartHeight?o.setSize(d,h,i):H(e,!0)&&o.redraw(i),N(o,"afterUpdate",{options:t,redraw:e,animation:i})}setSubtitle(t,e){this.applyDescription("subtitle",t),this.layOutTitles(e)}setCaption(t,e){this.applyDescription("caption",t),this.layOutTitles(e)}showResetZoom(){function t(){e.zoomOut()}const e=this,n=g.lang,i=e.options.chart.zooming.resetButton,o=i.theme,r="chart"===i.relativeTo||"spacingBox"===i.relativeTo?null:"scrollablePlotBox";N(this,"beforeShowResetZoom",null,(function(){e.resetZoomButton=e.renderer.button(n.resetZoom,null,null,t,o).attr({align:i.position.align,title:n.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(i.position,!1,r)})),N(this,"afterShowResetZoom")}zoomOut(){N(this,"selection",{resetSelection:!0},this.zoom)}zoom(t){const e=this,n=e.pointer;let i,o=!1;!t||t.resetSelection?(e.axes.forEach((function(t){i=t.zoom()})),n.initiated=!1):t.xAxis.concat(t.yAxis).forEach((function(t){const r=t.axis;(n[r.isXAxis?"zoomX":"zoomY"]&&D(n.mouseDownX)&&D(n.mouseDownY)&&e.isInsidePlot(n.mouseDownX-e.plotLeft,n.mouseDownY-e.plotTop,{axis:r})||!D(e.inverted?n.mouseDownX:n.mouseDownY))&&(i=r.zoom(t.min,t.max),r.displayBtn&&(o=!0))}));const r=e.resetZoomButton;o&&!r?e.showResetZoom():!o&&j(r)&&(e.resetZoomButton=r.destroy()),i&&e.redraw(H(e.options.chart.animation,t&&t.animation,100>e.pointCount))}pan(t,e){const n=this,i=n.hoverPoints;e="object"==typeof e?e:{enabled:e,type:"x"};const o=n.options.chart;o&&o.panning&&(o.panning=e);const r=e.type;let s;N(this,"pan",{originalEvent:t},(function(){i&&i.forEach((function(t){t.setState()}));let e=n.xAxis;"xy"===r?e=e.concat(n.yAxis):"y"===r&&(e=n.yAxis);const o={};e.forEach((function(e){if(e.options.panningEnabled&&!e.options.isInternal){var i=e.horiz,a=t[i?"chartX":"chartY"],l=n[i=i?"mouseDownX":"mouseDownY"],c=e.minPointOffset||0,u=e.reversed&&!n.inverted||!e.reversed&&n.inverted?-1:1,h=e.getExtremes(),d=e.toValue(l-a,!0)+c*u,p=e.toValue(l+e.len-a,!0)-(c*u||e.isXAxis&&e.pointRangePadding||0),f=p<d;u=e.hasVerticalPanning(),l=f?p:d,d=f?d:p;var g=e.panningState;!u||e.isXAxis||g&&!g.isDirty||e.series.forEach((function(t){var e=t.getProcessedData(!0);e=t.getExtremes(e.yData,!0),g||(g={startMin:Number.MAX_VALUE,startMax:-Number.MAX_VALUE}),B(e.dataMin)&&B(e.dataMax)&&(g.startMin=Math.min(H(t.options.threshold,1/0),e.dataMin,g.startMin),g.startMax=Math.max(H(t.options.threshold,-1/0),e.dataMax,g.startMax))})),u=Math.min(H(g&&g.startMin,h.dataMin),c?h.min:e.toValue(e.toPixels(h.min)-e.minPixelPadding)),p=Math.max(H(g&&g.startMax,h.dataMax),c?h.max:e.toValue(e.toPixels(h.max)+e.minPixelPadding)),e.panningState=g,e.isOrdinal||(0<(c=u-l)&&(d+=c,l=u),0<(c=d-p)&&(d=p,l-=c),e.series.length&&l!==h.min&&d!==h.max&&l>=u&&d<=p&&(e.setExtremes(l,d,!1,!1,{trigger:"pan"}),!n.resetZoomButton&&l!==u&&d!==p&&r.match("y")&&(n.showResetZoom(),e.displayBtn=!1),s=!0),o[i]=a)}})),W(o,((t,e)=>{n[e]=t})),s&&n.redraw(!1),M(n.container,{cursor:"move"})}))}}return I(Z.prototype,{callbacks:[],collectionsWithInit:{xAxis:[Z.prototype.addAxis,[!0]],yAxis:[Z.prototype.addAxis,[!1]],series:[Z.prototype.addSeries]},collectionsWithUpdate:["xAxis","yAxis","series"],propsRequireDirtyBox:"backgroundColor borderColor borderWidth borderRadius plotBackgroundColor plotBackgroundImage plotBorderColor plotBorderWidth plotShadow shadow".split(" "),propsRequireReflow:"margin marginTop marginRight marginBottom marginLeft spacing spacingTop spacingRight spacingBottom spacingLeft".split(" "),propsRequireUpdateSeries:"chart.inverted chart.polar chart.ignoreHiddenSeries chart.type colors plotOptions time tooltip".split(" ")}),Z})),e(n,"Core/Legend/LegendSymbol.js",[n["Core/Utilities.js"]],(function(t){const{extend:e,merge:n,pick:i}=t;var o;return function(t){t.lineMarker=function(t,o){o=this.legendItem=this.legendItem||{};var r=this.options;const s=t.symbolWidth,a=t.symbolHeight,l=a/2,c=this.chart.renderer,u=o.group;t=t.baseline-Math.round(.3*t.fontMetrics.b);let h={},d=r.marker,p=0;this.chart.styledMode||(h={"stroke-width":Math.min(r.lineWidth||0,24)},r.dashStyle?h.dashstyle=r.dashStyle:"square"!==r.linecap&&(h["stroke-linecap"]="round")),o.line=c.path().addClass("highcharts-graph").attr(h).add(u),h["stroke-linecap"]&&(p=Math.min(o.line.strokeWidth(),s)/2),s&&o.line.attr({d:[["M",p,t],["L",s-p,t]]}),d&&!1!==d.enabled&&s&&(r=Math.min(i(d.radius,l),l),0===this.symbol.indexOf("url")&&(d=n(d,{width:a,height:a}),r=0),o.symbol=o=c.symbol(this.symbol,s/2-r,t-r,2*r,2*r,e({context:"legend"},d)).addClass("highcharts-point").add(u),o.isMarker=!0)},t.rectangle=function(t,e){e=e.legendItem||{};const n=t.symbolHeight,o=t.options.squareSymbol;e.symbol=this.chart.renderer.rect(o?(t.symbolWidth-n)/2:0,t.baseline-n+1,o?n:t.symbolWidth,n,i(t.options.symbolRadius,n/2)).addClass("highcharts-point").attr({zIndex:3}).add(e.group)}}(o||(o={})),o})),e(n,"Core/Series/SeriesDefaults.js",[],(function(){return{lineWidth:1,allowPointSelect:!1,crisp:!0,showCheckbox:!1,animation:{duration:1e3},events:{},marker:{enabledThreshold:2,lineColor:"#ffffff",lineWidth:0,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:150},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{animation:{},align:"center",borderWidth:0,defer:!0,formatter:function(){const{numberFormatter:t}=this.series.chart;return"number"!=typeof this.y?"":t(this.y,-1)},padding:5,style:{fontSize:"0.7em",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0},cropThreshold:300,opacity:1,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:150},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{animation:{duration:0}},inactive:{animation:{duration:150},opacity:.2}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"}})),e(n,"Core/Series/Series.js",[n["Core/Animation/AnimationUtilities.js"],n["Core/Defaults.js"],n["Core/Foundation.js"],n["Core/Globals.js"],n["Core/Legend/LegendSymbol.js"],n["Core/Series/Point.js"],n["Core/Series/SeriesDefaults.js"],n["Core/Series/SeriesRegistry.js"],n["Core/Renderer/SVG/SVGElement.js"],n["Core/Utilities.js"]],(function(t,e,n,i,o,r,s,a,l,c){const{animObject:u,setAnimation:h}=t,{defaultOptions:d}=e,{registerEventOptions:p}=n,{hasTouch:f,svg:g,win:m}=i,{seriesTypes:_}=a,{arrayMax:y,arrayMin:v,clamp:C,cleanRecursively:b,correctFloat:E,defined:S,erase:w,error:O,extend:x,find:P,fireEvent:T,getNestedProperty:M,isArray:D,isNumber:R,isString:A,merge:L,objectEach:I,pick:k,removeEvent:N,splat:F,syncTimeout:G}=c;class B{constructor(){this.zones=this.yAxis=this.xAxis=this.userOptions=this.tooltipOptions=this.processedYData=this.processedXData=this.points=this.options=this.linkedSeries=this.index=this.eventsToUnbind=this.eventOptions=this.data=this.chart=this._i=void 0}init(t,e){T(this,"init",{options:e});const n=this,i=t.series;this.eventsToUnbind=[],n.chart=t,n.options=n.setOptions(e),e=n.options,n.linkedSeries=[],n.bindAxes(),x(n,{name:e.name,state:"",visible:!1!==e.visible,selected:!0===e.selected}),p(this,e);const o=e.events;let r;(o&&o.click||e.point&&e.point.events&&e.point.events.click||e.allowPointSelect)&&(t.runTrackerClick=!0),n.getColor(),n.getSymbol(),n.parallelArrays.forEach((function(t){n[t+"Data"]||(n[t+"Data"]=[])})),n.isCartesian&&(t.hasCartesianSeries=!0),i.length&&(r=i[i.length-1]),n._i=k(r&&r._i,-1)+1,n.opacity=n.options.opacity,t.orderSeries(this.insert(i)),e.dataSorting&&e.dataSorting.enabled?n.setDataSortingOptions():n.points||n.data||n.setData(e.data,!1),T(this,"afterInit")}is(t){return _[t]&&this instanceof _[t]}insert(t){const e=this.options.index;let n;if(R(e)){for(n=t.length;n--;)if(e>=k(t[n].options.index,t[n]._i)){t.splice(n+1,0,this);break}-1===n&&t.unshift(this),n+=1}else t.push(this);return k(n,t.length-1)}bindAxes(){const t=this,e=t.options,n=t.chart;let i;T(this,"bindAxes",null,(function(){(t.axisTypes||[]).forEach((function(o){let r=0;n[o].forEach((function(n){i=n.options,(e[o]===r&&!i.isInternal||void 0!==e[o]&&e[o]===i.id||void 0===e[o]&&0===i.index)&&(t.insert(n.series),t[o]=n,n.isDirty=!0),i.isInternal||r++})),t[o]||t.optionalAxis===o||O(18,!0,n)}))})),T(this,"afterBindAxes")}updateParallelArrays(t,e,n){const i=t.series,o=R(e)?function(n){const o="y"===n&&i.toYData?i.toYData(t):t[n];i[n+"Data"][e]=o}:function(t){Array.prototype[e].apply(i[t+"Data"],n)};i.parallelArrays.forEach(o)}hasData(){return this.visible&&void 0!==this.dataMax&&void 0!==this.dataMin||this.visible&&this.yData&&0<this.yData.length}autoIncrement(t){var e=this.options;const n=e.pointIntervalUnit,i=e.relativeXValue,o=this.chart.time;let r,s=this.xIncrement;return s=k(s,e.pointStart,0),this.pointInterval=r=k(this.pointInterval,e.pointInterval,1),i&&R(t)&&(r*=t),n&&(e=new o.Date(s),"day"===n?o.set("Date",e,o.get("Date",e)+r):"month"===n?o.set("Month",e,o.get("Month",e)+r):"year"===n&&o.set("FullYear",e,o.get("FullYear",e)+r),r=e.getTime()-s),i&&R(t)?s+r:(this.xIncrement=s+r,s)}setDataSortingOptions(){const t=this.options;x(this,{requireSorting:!1,sorted:!1,enabledDataSorting:!0,allowDG:!1}),S(t.pointRange)||(t.pointRange=1)}setOptions(t){var e=this.chart,n=e.options,i=n.plotOptions,o=e.userOptions||{};t=L(t),e=e.styledMode;const r={plotOptions:i,userOptions:t};T(this,"setOptions",r);const s=r.plotOptions[this.type],a=o.plotOptions||{};return this.userOptions=r.userOptions,o=L(s,i.series,o.plotOptions&&o.plotOptions[this.type],t),this.tooltipOptions=L(d.tooltip,d.plotOptions.series&&d.plotOptions.series.tooltip,d.plotOptions[this.type].tooltip,n.tooltip.userOptions,i.series&&i.series.tooltip,i[this.type].tooltip,t.tooltip),this.stickyTracking=k(t.stickyTracking,a[this.type]&&a[this.type].stickyTracking,a.series&&a.series.stickyTracking,!(!this.tooltipOptions.shared||this.noSharedTooltip)||o.stickyTracking),null===s.marker&&delete o.marker,this.zoneAxis=o.zoneAxis,i=this.zones=(o.zones||[]).slice(),!o.negativeColor&&!o.negativeFillColor||o.zones||(n={value:o[this.zoneAxis+"Threshold"]||o.threshold||0,className:"highcharts-negative"},e||(n.color=o.negativeColor,n.fillColor=o.negativeFillColor),i.push(n)),i.length&&S(i[i.length-1].value)&&i.push(e?{}:{color:this.color,fillColor:this.fillColor}),T(this,"afterSetOptions",{options:o}),o}getName(){return k(this.options.name,"Series "+(this.index+1))}getCyclic(t,e,n){const i=this.chart,o=this.userOptions,r=t+"Index",s=t+"Counter",a=n?n.length:k(i.options.chart[t+"Count"],i[t+"Count"]);if(!e){var l=k(o[r],o["_"+r]);S(l)||(i.series.length||(i[s]=0),o["_"+r]=l=i[s]%a,i[s]+=1),n&&(e=n[l])}void 0!==l&&(this[r]=l),this[t]=e}getColor(){this.chart.styledMode?this.getCyclic("color"):this.options.colorByPoint?this.color="#cccccc":this.getCyclic("color",this.options.color||d.plotOptions[this.type].color,this.chart.options.colors)}getPointsCollection(){return(this.hasGroupedData?this.points:this.data)||[]}getSymbol(){this.getCyclic("symbol",this.options.marker.symbol,this.chart.options.symbols)}findPointIndex(t,e){const n=t.id,i=t.x,o=this.points;var s,a=this.options.dataSorting;let l,c;if(n)(a=this.chart.get(n))instanceof r&&(s=a);else if((this.linkedParent||this.enabledDataSorting||this.options.relativeXValue)&&(s=e=>!e.touched&&e.index===t.index,a&&a.matchByName?s=e=>!e.touched&&e.name===t.name:this.options.relativeXValue&&(s=e=>!e.touched&&e.options.x===t.x),!(s=P(o,s))))return;return s&&(c=s&&s.index,void 0!==c&&(l=!0)),void 0===c&&R(i)&&(c=this.xData.indexOf(i,e)),-1!==c&&void 0!==c&&this.cropped&&(c=c>=this.cropStart?c-this.cropStart:c),!l&&R(c)&&o[c]&&o[c].touched&&(c=void 0),c}updateData(t,e){const n=this.options,i=n.dataSorting,o=this.points,r=[],s=this.requireSorting,a=t.length===o.length;let l,c,u,h=!0;if(this.xIncrement=null,t.forEach((function(t,e){var c=S(t)&&this.pointClass.prototype.optionsToObject.call({series:this},t)||{};const h=c.x;c.id||R(h)?(-1===(c=this.findPointIndex(c,u))||void 0===c?r.push(t):o[c]&&t!==n.data[c]?(o[c].update(t,!1,null,!1),o[c].touched=!0,s&&(u=c+1)):o[c]&&(o[c].touched=!0),(!a||e!==c||i&&i.enabled||this.hasDerivedData)&&(l=!0)):r.push(t)}),this),l)for(t=o.length;t--;)(c=o[t])&&!c.touched&&c.remove&&c.remove(!1,e);else!a||i&&i.enabled?h=!1:(t.forEach((function(t,e){t===o[e].y||o[e].destroyed||o[e].update(t,!1,null,!1)})),r.length=0);return o.forEach((function(t){t&&(t.touched=!1)})),!!h&&(r.forEach((function(t){this.addPoint(t,!1,null,null,!1)}),this),null===this.xIncrement&&this.xData&&this.xData.length&&(this.xIncrement=y(this.xData),this.autoIncrement()),!0)}setData(t,e=!0,n,i){var o;const r=this,s=r.points,a=s&&s.length||0,l=r.options,c=r.chart,u=l.dataSorting,h=r.xAxis,d=l.turboThreshold,p=this.xData,f=this.yData;var g=r.pointArrayMap;g=g&&g.length;const m=l.keys;let _,y=0,v=1,C=null;if(!c.options.chart.allowMutatingData){l.data&&delete r.options.data,r.userOptions.data&&delete r.userOptions.data;var b=L(!0,t)}if(b=(t=b||t||[]).length,u&&u.enabled&&(t=this.sortData(t)),c.options.chart.allowMutatingData&&!1!==i&&b&&a&&!r.cropped&&!r.hasGroupedData&&r.visible&&!r.boosted&&(_=this.updateData(t,n)),!_){if(r.xIncrement=null,r.colorCounter=0,this.parallelArrays.forEach((function(t){r[t+"Data"].length=0})),d&&b>d)if(C=r.getFirstValidPoint(t),R(C))for(n=0;n<b;n++)p[n]=this.autoIncrement(),f[n]=t[n];else if(D(C))if(g)if(C.length===g)for(n=0;n<b;n++)p[n]=this.autoIncrement(),f[n]=t[n];else for(n=0;n<b;n++)i=t[n],p[n]=i[0],f[n]=i.slice(1,g+1);else if(m&&(y=m.indexOf("x"),v=m.indexOf("y"),y=0<=y?y:0,v=0<=v?v:1),1===C.length&&(v=0),y===v)for(n=0;n<b;n++)p[n]=this.autoIncrement(),f[n]=t[n][v];else for(n=0;n<b;n++)i=t[n],p[n]=i[y],f[n]=i[v];else O(12,!1,c);else for(n=0;n<b;n++)i={series:r},r.pointClass.prototype.applyOptions.apply(i,[t[n]]),r.updateParallelArrays(i,n);for(f&&A(f[0])&&O(14,!0,c),r.data=[],r.options.data=r.userOptions.data=t,n=a;n--;)null===(o=s[n])||void 0===o||o.destroy();h&&(h.minRange=h.userMinRange),r.isDirty=c.isDirtyBox=!0,r.isDirtyData=!!s,n=!1}"point"===l.legendType&&(this.processData(),this.generatePoints()),e&&c.redraw(n)}sortData(t){const e=this,n=e.options.dataSorting.sortKey||"y",i=function(t,e){return S(e)&&t.pointClass.prototype.optionsToObject.call({series:t},e)||{}};return t.forEach((function(n,o){t[o]=i(e,n),t[o].index=o}),this),t.concat().sort(((t,e)=>(t=M(n,t),(e=M(n,e))<t?-1:e>t?1:0))).forEach((function(t,e){t.x=e}),this),e.linkedSeries&&e.linkedSeries.forEach((function(e){const n=e.options,o=n.data;n.dataSorting&&n.dataSorting.enabled||!o||(o.forEach((function(n,r){o[r]=i(e,n),t[r]&&(o[r].x=t[r].x,o[r].index=r)})),e.setData(o,!1))})),t}getProcessedData(t){var e=this.xAxis,n=this.options,i=n.cropThreshold;const o=t||this.getExtremesFromAll||n.getExtremesFromAll,r=this.isCartesian;t=e&&e.val2lin,n=!(!e||!e.logarithmic);let s,a,l,c=0,u=this.xData,h=this.yData,d=this.requireSorting;var p=!1;const f=u.length;if(e&&(a=(p=e.getExtremes()).min,l=p.max,p=!(!e.categories||e.names.length)),r&&this.sorted&&!o&&(!i||f>i||this.forceCrop))if(u[f-1]<a||u[0]>l)u=[],h=[];else if(this.yData&&(u[0]<a||u[f-1]>l)){var g=this.cropData(this.xData,this.yData,a,l);u=g.xData,h=g.yData,c=g.start,g=!0}for(i=u.length||1;--i;)0<(e=n?t(u[i])-t(u[i-1]):u[i]-u[i-1])&&(void 0===s||e<s)?s=e:0>e&&d&&!p&&(O(15,!1,this.chart),d=!1);return{xData:u,yData:h,cropped:g,cropStart:c,closestPointRange:s}}processData(t){const e=this.xAxis;if(this.isCartesian&&!this.isDirty&&!e.isDirty&&!this.yAxis.isDirty&&!t)return!1;t=this.getProcessedData(),this.cropped=t.cropped,this.cropStart=t.cropStart,this.processedXData=t.xData,this.processedYData=t.yData,this.closestPointRange=this.basePointRange=t.closestPointRange,T(this,"afterProcessData")}cropData(t,e,n,i,o){const r=t.length;let s,a=0,l=r;for(o=k(o,this.cropShoulder),s=0;s<r;s++)if(t[s]>=n){a=Math.max(0,s-o);break}for(n=s;n<r;n++)if(t[n]>i){l=n+o;break}return{xData:t.slice(a,l),yData:e.slice(a,l),start:a,end:l}}generatePoints(){var t=this.options;const e=this.processedData||t.data,n=this.processedXData,i=this.processedYData,o=this.pointClass,r=n.length,s=this.cropStart||0,a=this.hasGroupedData,l=t.keys,c=[];let u;t=t.dataGrouping&&t.dataGrouping.groupAll?s:0;let h,d,p=this.data;if(!p&&!a){var f=[];f.length=e.length,p=this.data=f}for(l&&a&&(this.options.keys=!1),d=0;d<r;d++)f=s+d,a?(h=(new o).init(this,[n[d]].concat(F(i[d]))),h.dataGroup=this.groupMap[t+d],h.dataGroup.options&&(h.options=h.dataGroup.options,x(h,h.dataGroup.options),delete h.dataLabels)):(h=p[f])||void 0===e[f]||(p[f]=h=(new o).init(this,e[f],n[d])),h&&(h.index=a?t+d:f,c[d]=h);if(this.options.keys=l,p&&(r!==(u=p.length)||a))for(d=0;d<u;d++)d!==s||a||(d+=r),p[d]&&(p[d].destroyElements(),p[d].plotX=void 0);this.data=p,this.points=c,T(this,"afterGeneratePoints")}getXExtremes(t){return{min:v(t),max:y(t)}}getExtremes(t,e){const n=this.xAxis;var i=this.yAxis;const o=this.processedXData||this.xData,r=[],s=this.requireSorting?this.cropShoulder:0;i=!!i&&i.positiveValuesOnly;let a,l=0,c=0,u=0;const h=(t=t||this.stackedYData||this.processedYData||[]).length;if(n){var d=n.getExtremes();l=d.min,c=d.max}for(a=0;a<h;a++){var p=o[a];d=t[a];var f=(R(d)||D(d))&&(d.length||0<d||!i);if(p=e||this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||!n||(o[a+s]||p)>=l&&(o[a-s]||p)<=c,f&&p)if(f=d.length)for(;f--;)R(d[f])&&(r[u++]=d[f]);else r[u++]=d}return t={activeYData:r,dataMin:v(r),dataMax:y(r)},T(this,"afterGetExtremes",{dataExtremes:t}),t}applyExtremes(){const t=this.getExtremes();return this.dataMin=t.dataMin,this.dataMax=t.dataMax,t}getFirstValidPoint(t){const e=t.length;let n=0,i=null;for(;null===i&&n<e;)i=t[n],n++;return i}translate(){var t;this.processedXData||this.processData(),this.generatePoints();const e=this.options,n=e.stacking,i=this.xAxis,o=i.categories,r=this.enabledDataSorting,s=this.yAxis,a=this.points,l=a.length,c=this.pointPlacementToXValue(),u=!!c,h=e.threshold,d=e.startFromThreshold?h:0,p=this.zoneAxis||"y";let f,g,m,_,y=Number.MAX_VALUE;for(f=0;f<l;f++){const l=a[f],v=l.x;let b,w,O=l.y,x=l.low;const P=n&&(null===(t=s.stacking)||void 0===t?void 0:t.stacks[(this.negStacks&&O<(d?0:h)?"-":"")+this.stackKey]);let T;g=i.translate(v,!1,!1,!1,!0,c),l.plotX=R(g)?E(C(g,-1e5,1e5)):void 0,n&&this.visible&&P&&P[v]&&(_=this.getStackIndicator(_,v,this.index),!l.isNull&&_.key&&(b=P[v],w=b.points[_.key]),b&&D(w)&&(x=w[0],O=w[1],x===d&&_.key===P[v].base&&(x=k(R(h)?h:s.min)),s.positiveValuesOnly&&S(x)&&0>=x&&(x=void 0),l.total=l.stackTotal=k(b.total),l.percentage=S(l.y)&&b.total?l.y/b.total*100:void 0,l.stackY=O,this.irregularWidths||b.setOffset(this.pointXOffset||0,this.barW||0,void 0,void 0,void 0,this.xAxis))),l.yBottom=S(x)?C(s.translate(x,!1,!0,!1,!0),-1e5,1e5):void 0,this.dataModify&&(O=this.dataModify.modifyValue(O,f)),R(O)&&void 0!==l.plotX&&(T=s.translate(O,!1,!0,!1,!0),T=R(T)?C(T,-1e5,1e5):void 0),l.plotY=T,l.isInside=this.isPointInside(l),l.clientX=u?E(i.translate(v,!1,!1,!1,!0,c)):g,l.negative=l[p]<(e[p+"Threshold"]||h||0),l.category=k(o&&o[l.x],l.x),l.isNull||!1===l.visible||(void 0!==m&&(y=Math.min(y,Math.abs(g-m))),m=g),l.zone=this.zones.length?l.getZone():void 0,!l.graphic&&this.group&&r&&(l.isNew=!0)}this.closestPointRangePx=y,T(this,"afterTranslate")}getValidPoints(t,e,n){const i=this.chart;return(t||this.points||[]).filter((function(t){const{plotX:o,plotY:r}=t;return!(!(n||!t.isNull&&R(r))||e&&!i.isInsidePlot(o,r,{inverted:i.inverted}))&&!1!==t.visible}))}getClipBox(){const{chart:t,xAxis:e,yAxis:n}=this,i=L(t.clipBox);return e&&e.len!==t.plotSizeX&&(i.width=e.len),n&&n.len!==t.plotSizeY&&(i.height=n.len),i}getSharedClipKey(){return this.sharedClipKey=(this.options.xAxis||0)+","+(this.options.yAxis||0)}setClip(){const{chart:t,group:e,markerGroup:n}=this,i=t.sharedClips,o=t.renderer,r=this.getClipBox(),s=this.getSharedClipKey();let a=i[s];a?a.animate(r):i[s]=a=o.clipRect(r),e&&e.clip(!1===this.options.clip?void 0:a),n&&n.clip()}animate(t){const{chart:e,group:n,markerGroup:i}=this,o=e.inverted;var r=u(this.options.animation),s=[this.getSharedClipKey(),r.duration,r.easing,r.defer].join();let a=e.sharedClips[s],l=e.sharedClips[s+"m"];if(t&&n)r=this.getClipBox(),a?a.attr("height",r.height):(r.width=0,o&&(r.x=e.plotHeight),a=e.renderer.clipRect(r),e.sharedClips[s]=a,l=e.renderer.clipRect({x:-99,y:-99,width:o?e.plotWidth+199:99,height:o?99:e.plotHeight+199}),e.sharedClips[s+"m"]=l),n.clip(a),i&&i.clip(l);else if(a&&!a.hasClass("highcharts-animating")){s=this.getClipBox();const t=r.step;i&&i.element.childNodes.length&&(r.step=function(e,n){t&&t.apply(n,arguments),"width"===n.prop&&l&&l.element&&l.attr(o?"height":"width",e+99)}),a.addClass("highcharts-animating").animate(s,r)}}afterAnimate(){this.setClip(),I(this.chart.sharedClips,((t,e,n)=>{t&&!this.chart.container.querySelector(`[clip-path="url(#${t.id})"]`)&&(t.destroy(),delete n[e])})),this.finishedAnimating=!0,T(this,"afterAnimate")}drawPoints(t=this.points){const e=this.chart,n=e.styledMode,{colorAxis:i,options:o}=this,r=o.marker,s=this[this.specialGroup||"markerGroup"],a=this.xAxis,l=k(r.enabled,!(a&&!a.isRadial)||null,this.closestPointRangePx>=r.enabledThreshold*r.radius);let c,u,h,d,p,f;if(!1!==r.enabled||this._hasPointMarkers)for(c=0;c<t.length;c++){u=t[c],d=(h=u.graphic)?"animate":"attr";var g=u.marker||{};if(p=!!u.marker,(l&&void 0===g.enabled||g.enabled)&&!u.isNull&&!1!==u.visible){const t=k(g.symbol,this.symbol,"rect");f=this.markerAttribs(u,u.selected&&"select"),this.enabledDataSorting&&(u.startXPos=a.reversed?-(f.width||0):a.width);const o=!1!==u.isInside;!h&&o&&(0<(f.width||0)||u.hasImage)&&(u.graphic=h=e.renderer.symbol(t,f.x,f.y,f.width,f.height,p?g:r).add(s),this.enabledDataSorting&&e.hasRendered&&(h.attr({x:u.startXPos}),d="animate")),h&&"animate"===d&&h[o?"show":"hide"](o).animate(f),h&&(g=this.pointAttribs(u,n||!u.selected?void 0:"select"),n?i&&h.css({fill:g.fill}):h[d](g)),h&&h.addClass(u.getClassName(),!0)}else h&&(u.graphic=h.destroy())}}markerAttribs(t,e){const n=this.options;var i=n.marker;const o=t.marker||{},r=o.symbol||i.symbol,s={};let a=k(o.radius,i&&i.radius);return e&&(i=i.states[e],e=o.states&&o.states[e],a=k(e&&e.radius,i&&i.radius,a&&a+(i&&i.radiusPlus||0))),t.hasImage=r&&0===r.indexOf("url"),t.hasImage&&(a=0),t=t.pos(),R(a)&&t&&(s.x=t[0]-a,s.y=t[1]-a,n.crisp&&(s.x=Math.floor(s.x))),a&&(s.width=s.height=2*a),s}pointAttribs(t,e){var n=this.options.marker,i=t&&t.options;const o=i&&i.marker||{};var r=i&&i.color,s=t&&t.color;const a=t&&t.zone&&t.zone.color;let l=this.color;return t=k(o.lineWidth,n.lineWidth),i=1,l=r||a||s||l,r=o.fillColor||n.fillColor||l,s=o.lineColor||n.lineColor||l,e=e||"normal",n=n.states[e]||{},e=o.states&&o.states[e]||{},t=k(e.lineWidth,n.lineWidth,t+k(e.lineWidthPlus,n.lineWidthPlus,0)),r=e.fillColor||n.fillColor||r,{stroke:s=e.lineColor||n.lineColor||s,"stroke-width":t,fill:r,opacity:i=k(e.opacity,n.opacity,i)}}destroy(t){const e=this,n=e.chart,i=/AppleWebKit\/533/.test(m.navigator.userAgent),o=e.data||[];let r,s,a,u;for(T(e,"destroy",{keepEventsForUpdate:t}),this.removeEvents(t),(e.axisTypes||[]).forEach((function(t){(u=e[t])&&u.series&&(w(u.series,e),u.isDirty=u.forceRedraw=!0)})),e.legendItem&&e.chart.legend.destroyItem(e),s=o.length;s--;)(a=o[s])&&a.destroy&&a.destroy();e.clips&&e.clips.forEach((t=>t.destroy())),c.clearTimeout(e.animationTimeout),I(e,(function(t,e){t instanceof l&&!t.survive&&(r=i&&"group"===e?"hide":"destroy",t[r]())})),n.hoverSeries===e&&(n.hoverSeries=void 0),w(n.series,e),n.orderSeries(),I(e,(function(n,i){t&&"hcEvents"===i||delete e[i]}))}applyZones(){const t=this,e=this.chart,n=e.renderer,i=this.zones,o=this.clips||[],r=this.graph,s=this.area,a=Math.max(e.plotWidth,e.plotHeight),l=this[(this.zoneAxis||"y")+"Axis"],c=e.inverted;let u,h,d,p,f,g,m,_,y,v,b,E=!1;i.length&&(r||s)&&l&&void 0!==l.min?(f=l.reversed,g=l.horiz,r&&!this.showLine&&r.hide(),s&&s.hide(),p=l.getExtremes(),i.forEach((function(i,S){u=f?g?e.plotWidth:0:g?0:l.toPixels(p.min)||0,u=C(k(h,u),0,a),h=C(Math.round(l.toPixels(k(i.value,p.max),!0)||0),0,a),E&&(u=h=l.toPixels(p.max)),m=Math.abs(u-h),_=Math.min(u,h),y=Math.max(u,h),l.isXAxis?(d={x:c?y:_,y:0,width:m,height:a},g||(d.x=e.plotHeight-d.x)):(d={x:0,y:c?y:_,width:a,height:m},g&&(d.y=e.plotWidth-d.y)),o[S]?o[S].animate(d):o[S]=n.clipRect(d),v=t["zone-area-"+S],b=t["zone-graph-"+S],r&&b&&b.clip(o[S]),s&&v&&v.clip(o[S]),E=i.value>p.max,t.resetZones&&0===h&&(h=void 0)})),this.clips=o):t.visible&&(r&&r.show(),s&&s.show())}plotGroup(t,e,n,i,o){let r=this[t];const s=!r;return n={visibility:n,zIndex:i||.1},void 0===this.opacity||this.chart.styledMode||"inactive"===this.state||(n.opacity=this.opacity),s&&(this[t]=r=this.chart.renderer.g().add(o)),r.addClass("highcharts-"+e+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(S(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(r.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),r.attr(n)[s?"attr":"animate"](this.getPlotBox(e)),r}getPlotBox(t){let e=this.xAxis,n=this.yAxis;const i=this.chart;return t=i.inverted&&!i.polar&&e&&!1!==this.invertible&&"series"===t,i.inverted&&(e=n,n=this.xAxis),{translateX:e?e.left:i.plotLeft,translateY:n?n.top:i.plotTop,rotation:t?90:0,rotationOriginX:t?(e.len-n.len)/2:0,rotationOriginY:t?(e.len+n.len)/2:0,scaleX:t?-1:1,scaleY:1}}removeEvents(t){t||N(this),this.eventsToUnbind.length&&(this.eventsToUnbind.forEach((function(t){t()})),this.eventsToUnbind.length=0)}render(){const t=this;var e=t.chart;const n=t.options,i=u(n.animation),o=t.visible?"inherit":"hidden",r=n.zIndex,s=t.hasRendered;e=e.seriesGroup;let a=t.finishedAnimating?0:i.duration;T(this,"render"),t.plotGroup("group","series",o,r,e),t.markerGroup=t.plotGroup("markerGroup","markers",o,r,e),!1!==n.clip&&t.setClip(),t.animate&&a&&t.animate(!0),t.drawGraph&&(t.drawGraph(),t.applyZones()),t.visible&&t.drawPoints(),t.drawDataLabels&&t.drawDataLabels(),t.redrawPoints&&t.redrawPoints(),t.drawTracker&&!1!==t.options.enableMouseTracking&&t.drawTracker(),t.animate&&a&&t.animate(),s||(a&&i.defer&&(a+=i.defer),t.animationTimeout=G((function(){t.afterAnimate()}),a||0)),t.isDirty=!1,t.hasRendered=!0,T(t,"afterRender")}redraw(){const t=this.isDirty||this.isDirtyData;this.translate(),this.render(),t&&delete this.kdTree}searchPoint(t,e){const n=this.xAxis,i=this.yAxis,o=this.chart.inverted;return this.searchKDTree({clientX:o?n.len-t.chartY+n.pos:t.chartX-n.pos,plotY:o?i.len-t.chartX+i.pos:t.chartY-i.pos},e,t)}buildKDTree(t){function e(t,i,o){var r=t&&t.length;let s;if(r)return s=n.kdAxisArray[i%o],t.sort((function(t,e){return t[s]-e[s]})),{point:t[r=Math.floor(r/2)],left:e(t.slice(0,r),i+1,o),right:e(t.slice(r+1),i+1,o)}}this.buildingKdTree=!0;const n=this,i=-1<n.options.findNearestPointBy.indexOf("y")?2:1;delete n.kdTree,G((function(){n.kdTree=e(n.getValidPoints(null,!n.directTouch),i,i),n.buildingKdTree=!1}),n.options.kdNow||t&&"touchstart"===t.type?0:1)}searchKDTree(t,e,n){const i=this,o=this.kdAxisArray[0],r=this.kdAxisArray[1],s=e?"distX":"dist";if(e=-1<i.options.findNearestPointBy.indexOf("y")?2:1,this.kdTree||this.buildingKdTree||this.buildKDTree(n),this.kdTree)return function t(e,n,a,l){const c=n.point;var u=i.kdAxisArray[a%l];let h=c;var d=S(e[o])&&S(c[o])?Math.pow(e[o]-c[o],2):null,p=S(e[r])&&S(c[r])?Math.pow(e[r]-c[r],2):null;return p=(d||0)+(p||0),c.dist=S(p)?Math.sqrt(p):Number.MAX_VALUE,c.distX=S(d)?Math.sqrt(d):Number.MAX_VALUE,d=0>(u=e[u]-c[u])?"right":"left",n[p=0>u?"left":"right"]&&(h=(p=t(e,n[p],a+1,l))[s]<h[s]?p:c),n[d]&&Math.sqrt(u*u)<h[s]&&(h=(e=t(e,n[d],a+1,l))[s]<h[s]?e:h),h}(t,this.kdTree,e,e)}pointPlacementToXValue(){const{options:{pointPlacement:t,pointRange:e},xAxis:n}=this;let i=t;return"between"===i&&(i=n.reversed?-.5:.5),R(i)?i*(e||n.pointRange):0}isPointInside(t){const{chart:e,xAxis:n,yAxis:i}=this;return void 0!==t.plotY&&void 0!==t.plotX&&0<=t.plotY&&t.plotY<=(i?i.len:e.plotHeight)&&0<=t.plotX&&t.plotX<=(n?n.len:e.plotWidth)}drawTracker(){const t=this,e=t.options,n=e.trackByArea,i=[].concat(n?t.areaPath:t.graphPath),o=t.chart,r=o.pointer,s=o.renderer,a=o.options.tooltip.snap,l=t.tracker,c=function(e){o.hoverSeries!==t&&t.onMouseOver()},u="rgba(192,192,192,"+(g?1e-4:.002)+")";l?l.attr({d:i}):t.graph&&(t.tracker=s.path(i).attr({visibility:t.visible?"inherit":"hidden",zIndex:2}).addClass(n?"highcharts-tracker-area":"highcharts-tracker-line").add(t.group),o.styledMode||t.tracker.attr({"stroke-linecap":"round","stroke-linejoin":"round",stroke:u,fill:n?u:"none","stroke-width":t.graph.strokeWidth()+(n?0:2*a)}),[t.tracker,t.markerGroup,t.dataLabelsGroup].forEach((function(t){t&&(t.addClass("highcharts-tracker").on("mouseover",c).on("mouseout",(function(t){r.onTrackerMouseOut(t)})),e.cursor&&!o.styledMode&&t.css({cursor:e.cursor}),f)&&t.on("touchstart",c)}))),T(this,"afterDrawTracker")}addPoint(t,e,n,i,o){const r=this.options,s=this.data,a=this.chart;var l=this.xAxis;l=l&&l.hasNames&&l.names;const c=r.data,u=this.xData;let h,d;e=k(e,!0);const p={series:this};this.pointClass.prototype.applyOptions.apply(p,[t]);const f=p.x;if(d=u.length,this.requireSorting&&f<u[d-1])for(h=!0;d&&u[d-1]>f;)d--;this.updateParallelArrays(p,"splice",[d,0,0]),this.updateParallelArrays(p,d),l&&p.name&&(l[f]=p.name),c.splice(d,0,t),(h||this.processedData)&&(this.data.splice(d,0,null),this.processData()),"point"===r.legendType&&this.generatePoints(),n&&(s[0]&&s[0].remove?s[0].remove(!1):(s.shift(),this.updateParallelArrays(p,"shift"),c.shift())),!1!==o&&T(this,"addPoint",{point:p}),this.isDirtyData=this.isDirty=!0,e&&a.redraw(i)}removePoint(t,e,n){const i=this,o=i.data,r=o[t],s=i.points,a=i.chart,l=function(){s&&s.length===o.length&&s.splice(t,1),o.splice(t,1),i.options.data.splice(t,1),i.updateParallelArrays(r||{series:i},"splice",[t,1]),r&&r.destroy(),i.isDirty=!0,i.isDirtyData=!0,e&&a.redraw()};h(n,a),e=k(e,!0),r?r.firePointEvent("remove",null,l):l()}remove(t,e,n,i){function o(){r.destroy(i),s.isDirtyLegend=s.isDirtyBox=!0,s.linkSeries(i),k(t,!0)&&s.redraw(e)}const r=this,s=r.chart;!1!==n?T(r,"remove",null,o):o()}update(t,e){t=b(t,this.userOptions),T(this,"update",{options:t});const n=this,i=n.chart;var o=n.userOptions;const r=n.initialType||n.type;var s=i.options.plotOptions;const a=_[r].prototype;var l=n.finishedAnimating&&{animation:!1};const c={};let u,h=["eventOptions","navigatorSeries","baseSeries"],d=t.type||o.type||i.options.chart.type;const p=!(this.hasDerivedData||d&&d!==this.type||void 0!==t.pointStart||void 0!==t.pointInterval||void 0!==t.relativeXValue||t.joinBy||t.mapData||n.hasOptionChanged("dataGrouping")||n.hasOptionChanged("pointStart")||n.hasOptionChanged("pointInterval")||n.hasOptionChanged("pointIntervalUnit")||n.hasOptionChanged("keys"));if(d=d||r,p&&(h.push("data","isDirtyData","points","processedData","processedXData","processedYData","xIncrement","cropped","_hasPointMarkers","_hasPointLabels","clips","nodes","layout","level","mapMap","mapData","minY","maxY","minX","maxX"),!1!==t.visible&&h.push("area","graph"),n.parallelArrays.forEach((function(t){h.push(t+"Data")})),t.data&&(t.dataSorting&&x(n.options.dataSorting,t.dataSorting),this.setData(t.data,!1))),t=L(o,l,{index:void 0===o.index?n.index:o.index,pointStart:k(s&&s.series&&s.series.pointStart,o.pointStart,n.xData[0])},!p&&{data:n.options.data},t),p&&t.data&&(t.data=n.options.data),h=["group","markerGroup","dataLabelsGroup","transformGroup"].concat(h),h.forEach((function(t){h[t]=n[t],delete n[t]})),s=!1,_[d]){if(s=d!==n.type,n.remove(!1,!1,!1,!0),s)if(Object.setPrototypeOf)Object.setPrototypeOf(n,_[d].prototype);else{for(u in l=Object.hasOwnProperty.call(n,"hcEvents")&&n.hcEvents,a)n[u]=void 0;x(n,_[d].prototype),l?n.hcEvents=l:delete n.hcEvents}}else O(17,!0,i,{missingModuleFor:d});if(h.forEach((function(t){n[t]=h[t]})),n.init(i,t),p&&this.points){if(!1===(t=n.options).visible)c.graphic=1,c.dataLabel=1;else if(!n._hasPointLabels){const{marker:e,dataLabels:n}=t;o=o.marker||{},!e||!1!==e.enabled&&o.symbol===e.symbol&&o.height===e.height&&o.width===e.width||(c.graphic=1),n&&!1===n.enabled&&(c.dataLabel=1)}for(const e of this.points)e&&e.series&&(e.resolveColor(),Object.keys(c).length&&e.destroyElements(c),!1===t.showInLegend&&e.legendItem&&i.legend.destroyItem(e))}n.initialType=r,i.linkSeries(),s&&n.linkedSeries.length&&(n.isDirtyData=!0),T(this,"afterUpdate"),k(e,!0)&&i.redraw(!!p&&void 0)}setName(t){this.name=this.options.name=this.userOptions.name=t,this.chart.isDirtyLegend=!0}hasOptionChanged(t){const e=this.options[t],n=this.chart.options.plotOptions,i=this.userOptions[t];return i?e!==i:e!==k(n&&n[this.type]&&n[this.type][t],n&&n.series&&n.series[t],e)}onMouseOver(){const t=this.chart,e=t.hoverSeries;t.pointer.setHoverChartIndex(),e&&e!==this&&e.onMouseOut(),this.options.events.mouseOver&&T(this,"mouseOver"),this.setState("hover"),t.hoverSeries=this}onMouseOut(){const t=this.options,e=this.chart,n=e.tooltip,i=e.hoverPoint;e.hoverSeries=null,i&&i.onMouseOut(),this&&t.events.mouseOut&&T(this,"mouseOut"),!n||this.stickyTracking||n.shared&&!this.noSharedTooltip||n.hide(),e.series.forEach((function(t){t.setState("",!0)}))}setState(t,e){const n=this;var i=n.options;const o=n.graph,r=i.inactiveOtherPoints,s=i.states,a=k(s[t||"normal"]&&s[t||"normal"].animation,n.chart.options.chart.animation);let l=i.lineWidth,c=0,u=i.opacity;if(t=t||"",n.state!==t&&([n.group,n.markerGroup,n.dataLabelsGroup].forEach((function(e){e&&(n.state&&e.removeClass("highcharts-series-"+n.state),t&&e.addClass("highcharts-series-"+t))})),n.state=t,!n.chart.styledMode)){if(s[t]&&!1===s[t].enabled)return;if(t&&(l=s[t].lineWidth||l+(s[t].lineWidthPlus||0),u=k(s[t].opacity,u)),o&&!o.dashstyle&&R(l))for(i={"stroke-width":l},o.animate(i,a);n["zone-graph-"+c];)n["zone-graph-"+c].animate(i,a),c+=1;r||[n.group,n.markerGroup,n.dataLabelsGroup,n.labelBySeries].forEach((function(t){t&&t.animate({opacity:u},a)}))}e&&r&&n.points&&n.setAllPointsToState(t||void 0)}setAllPointsToState(t){this.points.forEach((function(e){e.setState&&e.setState(t)}))}setVisible(t,e){const n=this,i=n.chart,o=i.options.chart.ignoreHiddenSeries,r=n.visible,s=(n.visible=t=n.options.visible=n.userOptions.visible=void 0===t?!r:t)?"show":"hide";["group","dataLabelsGroup","markerGroup","tracker","tt"].forEach((function(t){n[t]&&n[t][s]()})),i.hoverSeries!==n&&(i.hoverPoint&&i.hoverPoint.series)!==n||n.onMouseOut(),n.legendItem&&i.legend.colorizeItem(n,t),n.isDirty=!0,n.options.stacking&&i.series.forEach((function(t){t.options.stacking&&t.visible&&(t.isDirty=!0)})),n.linkedSeries.forEach((function(e){e.setVisible(t,!1)})),o&&(i.isDirtyBox=!0),T(n,s),!1!==e&&i.redraw()}show(){this.setVisible(!0)}hide(){this.setVisible(!1)}select(t){this.selected=t=this.options.selected=void 0===t?!this.selected:t,this.checkbox&&(this.checkbox.checked=t),T(this,t?"select":"unselect")}shouldShowTooltip(t,e,n={}){return n.series=this,n.visiblePlotOnly=!0,this.chart.isInsidePlot(t,e,n)}drawLegendSymbol(t,e){var n;null===(n=o[this.options.legendSymbol||"rectangle"])||void 0===n||n.call(this,t,e)}}return B.defaultOptions=s,B.types=a.seriesTypes,B.registerType=a.registerSeriesType,x(B.prototype,{axisTypes:["xAxis","yAxis"],coll:"series",colorCounter:0,cropShoulder:1,directTouch:!1,isCartesian:!0,kdAxisArray:["clientX","plotY"],parallelArrays:["x","y"],pointClass:r,requireSorting:!0,sorted:!0}),a.series=B,B})),e(n,"Extensions/ScrollablePlotArea.js",[n["Core/Animation/AnimationUtilities.js"],n["Core/Axis/Axis.js"],n["Core/Chart/Chart.js"],n["Core/Series/Series.js"],n["Core/Renderer/RendererRegistry.js"],n["Core/Utilities.js"]],(function(t,e,n,i,o,r){const{stop:s}=t,{addEvent:a,createElement:l,defined:c,merge:u,pick:h}=r;a(n,"afterSetChartSize",(function(t){var n=this.options.chart.scrollablePlotArea,i=n&&n.minWidth;let o;n=n&&n.minHeight,this.renderer.forExport||(i?(this.scrollablePixelsX=i=Math.max(0,i-this.chartWidth))&&(this.scrollablePlotBox=this.renderer.scrollablePlotBox=u(this.plotBox),this.plotBox.width=this.plotWidth+=i,this.inverted?this.clipBox.height+=i:this.clipBox.width+=i,o={1:{name:"right",value:i}}):n&&(this.scrollablePixelsY=i=Math.max(0,n-this.chartHeight),c(i)&&(this.scrollablePlotBox=this.renderer.scrollablePlotBox=u(this.plotBox),this.plotBox.height=this.plotHeight+=i,this.inverted?this.clipBox.width+=i:this.clipBox.height+=i,o={2:{name:"bottom",value:i}})),o&&!t.skipAxes&&this.axes.forEach((function(t){o[t.side]?t.getPlotLinePath=function(){let n,i=o[t.side].name,r=this[i];return this[i]=r-o[t.side].value,n=e.prototype.getPlotLinePath.apply(this,arguments),this[i]=r,n}:(t.setAxisSize(),t.setAxisTranslation())})))})),a(n,"render",(function(){this.scrollablePixelsX||this.scrollablePixelsY?(this.setUpScrolling&&this.setUpScrolling(),this.applyFixed()):this.fixedDiv&&this.applyFixed()})),n.prototype.setUpScrolling=function(){const t={WebkitOverflowScrolling:"touch",overflowX:"hidden",overflowY:"hidden"};let e;this.scrollablePixelsX&&(t.overflowX="auto"),this.scrollablePixelsY&&(t.overflowY="auto"),this.scrollingParent=l("div",{className:"highcharts-scrolling-parent"},{position:"relative"},this.renderTo),this.scrollingContainer=l("div",{className:"highcharts-scrolling"},t,this.scrollingParent),a(this.scrollingContainer,"scroll",(()=>{this.pointer&&(delete this.pointer.chartPosition,this.hoverPoint&&(e=this.hoverPoint),this.pointer.runPointActions(void 0,e,!0))})),this.innerContainer=l("div",{className:"highcharts-inner-container"},null,this.scrollingContainer),this.innerContainer.appendChild(this.container),this.setUpScrolling=null},n.prototype.moveFixedElements=function(){let t,e=this.container,n=this.fixedRenderer,i=".highcharts-breadcrumbs-group .highcharts-contextbutton .highcharts-credits .highcharts-legend .highcharts-legend-checkbox .highcharts-navigator-series .highcharts-navigator-xaxis .highcharts-navigator-yaxis .highcharts-navigator .highcharts-reset-zoom .highcharts-drillup-button .highcharts-scrollbar .highcharts-subtitle .highcharts-title".split(" ");this.scrollablePixelsX&&!this.inverted?t=".highcharts-yaxis":this.scrollablePixelsX&&this.inverted||this.scrollablePixelsY&&!this.inverted?t=".highcharts-xaxis":this.scrollablePixelsY&&this.inverted&&(t=".highcharts-yaxis"),t&&i.push(`${t}:not(.highcharts-radial-axis)`,`${t}-labels:not(.highcharts-radial-axis-labels)`),i.forEach((function(t){[].forEach.call(e.querySelectorAll(t),(function(t){(t.namespaceURI===n.SVG_NS?n.box:n.box.parentNode).appendChild(t),t.style.pointerEvents="auto"}))}))},n.prototype.applyFixed=function(){var t=!this.fixedDiv,e=this.options.chart,n=e.scrollablePlotArea,i=o.getRendererType();t?(this.fixedDiv=l("div",{className:"highcharts-fixed"},{position:"absolute",overflow:"hidden",pointerEvents:"none",zIndex:(e.style&&e.style.zIndex||0)+2,top:0},null,!0),this.scrollingContainer&&this.scrollingContainer.parentNode.insertBefore(this.fixedDiv,this.scrollingContainer),this.renderTo.style.overflow="visible",this.fixedRenderer=e=new i(this.fixedDiv,this.chartWidth,this.chartHeight,this.options.chart.style),this.scrollableMask=e.path().attr({fill:this.options.chart.backgroundColor||"#fff","fill-opacity":h(n.opacity,.85),zIndex:-1}).addClass("highcharts-scrollable-mask").add(),a(this,"afterShowResetZoom",this.moveFixedElements),a(this,"afterApplyDrilldown",this.moveFixedElements),a(this,"afterLayOutTitles",this.moveFixedElements)):this.fixedRenderer.setSize(this.chartWidth,this.chartHeight),(this.scrollableDirty||t)&&(this.scrollableDirty=!1,this.moveFixedElements()),e=this.chartWidth+(this.scrollablePixelsX||0),i=this.chartHeight+(this.scrollablePixelsY||0),s(this.container),this.container.style.width=e+"px",this.container.style.height=i+"px",this.renderer.boxWrapper.attr({width:e,height:i,viewBox:[0,0,e,i].join(" ")}),this.chartBackground.attr({width:e,height:i}),this.scrollingContainer.style.height=this.chartHeight+"px",t&&(n.scrollPositionX&&(this.scrollingContainer.scrollLeft=this.scrollablePixelsX*n.scrollPositionX),n.scrollPositionY&&(this.scrollingContainer.scrollTop=this.scrollablePixelsY*n.scrollPositionY)),i=this.axisOffset,t=this.plotTop-i[0]-1,n=this.plotLeft-i[3]-1,e=this.plotTop+this.plotHeight+i[2]+1,i=this.plotLeft+this.plotWidth+i[1]+1;let r=this.plotLeft+this.plotWidth-(this.scrollablePixelsX||0),c=this.plotTop+this.plotHeight-(this.scrollablePixelsY||0);t=this.scrollablePixelsX?[["M",0,t],["L",this.plotLeft-1,t],["L",this.plotLeft-1,e],["L",0,e],["Z"],["M",r,t],["L",this.chartWidth,t],["L",this.chartWidth,e],["L",r,e],["Z"]]:this.scrollablePixelsY?[["M",n,0],["L",n,this.plotTop-1],["L",i,this.plotTop-1],["L",i,0],["Z"],["M",n,c],["L",n,this.chartHeight],["L",i,this.chartHeight],["L",i,c],["Z"]]:[["M",0,0]],"adjustHeight"!==this.redrawTrigger&&this.scrollableMask.attr({d:t})},a(e,"afterInit",(function(){this.chart.scrollableDirty=!0})),a(i,"show",(function(){this.chart.scrollableDirty=!0}))})),e(n,"Core/Axis/Stacking/StackItem.js",[n["Core/FormatUtilities.js"],n["Core/Series/SeriesRegistry.js"],n["Core/Utilities.js"]],(function(t,e,n){const{format:i}=t,{series:o}=e,{destroyObjectProperties:r,fireEvent:s,isNumber:a,pick:l}=n;return class{constructor(t,e,n,i,o){const r=t.chart.inverted,s=t.reversed;this.axis=t,t=this.isNegative=!!n!=!!s,this.options=e=e||{},this.x=i,this.cumulative=this.total=null,this.points={},this.hasValidPoints=!1,this.stack=o,this.rightCliff=this.leftCliff=0,this.alignOptions={align:e.align||(r?t?"left":"right":"center"),verticalAlign:e.verticalAlign||(r?"middle":t?"bottom":"top"),y:e.y,x:e.x},this.textAlign=e.textAlign||(r?t?"right":"left":"center")}destroy(){r(this,this.axis)}render(t){const e=this.axis.chart,n=this.options;var o=n.format;o=o?i(o,this,e):n.formatter.call(this),this.label?this.label.attr({text:o,visibility:"hidden"}):(this.label=e.renderer.label(o,null,void 0,n.shape,void 0,void 0,n.useHTML,!1,"stack-labels"),o={r:n.borderRadius||0,text:o,padding:l(n.padding,5),visibility:"hidden"},e.styledMode||(o.fill=n.backgroundColor,o.stroke=n.borderColor,o["stroke-width"]=n.borderWidth,this.label.css(n.style||{})),this.label.attr(o),this.label.added||this.label.add(t)),this.label.labelrank=e.plotSizeY,s(this,"afterRender")}setOffset(t,e,n,i,r,c){const{alignOptions:u,axis:h,label:d,options:p,textAlign:f}=this,g=h.chart;n=this.getStackBox({xOffset:t,width:e,boxBottom:n,boxTop:i,defaultX:r,xAxis:c});var{verticalAlign:m}=u;if(d&&n){i=d.getBBox(),r=d.padding,c="justify"===l(p.overflow,"justify"),u.x=p.x||0,u.y=p.y||0;const{x:t,y:e}=this.adjustStackPosition({labelBox:i,verticalAlign:m,textAlign:f});n.x-=t,n.y-=e,d.align(u,!1,n),(m=g.isInsidePlot(d.alignAttr.x+u.x+t,d.alignAttr.y+u.y+e))||(c=!1),c&&o.prototype.justifyDataLabel.call(h,d,u,d.alignAttr,i,n),d.attr({x:d.alignAttr.x,y:d.alignAttr.y,rotation:p.rotation,rotationOriginX:i.width/2,rotationOriginY:i.height/2}),l(!c&&p.crop,!0)&&(m=a(d.x)&&a(d.y)&&g.isInsidePlot(d.x-r+d.width,d.y)&&g.isInsidePlot(d.x+r,d.y)),d[m?"show":"hide"]()}s(this,"afterSetOffset",{xOffset:t,width:e})}adjustStackPosition({labelBox:t,verticalAlign:e,textAlign:n}){const i={bottom:0,middle:1,top:2,right:1,center:0,left:-1};return{x:t.width/2+t.width/2*i[n],y:t.height/2*i[e]}}getStackBox(t){var e=this.axis;const n=e.chart,{boxTop:i,defaultX:o,xOffset:r,width:s,boxBottom:c}=t;var u=e.stacking.usePercentage?100:l(i,this.total,0);u=e.toPixels(u),t=t.xAxis||n.xAxis[0];const h=l(o,t.translate(this.x))+r;e=e.toPixels(c||a(e.min)&&e.logarithmic&&e.logarithmic.lin2log(e.min)||0),e=Math.abs(u-e);const d=this.isNegative;return n.inverted?{x:(d?u:u-e)-n.plotLeft,y:t.height-h-s,width:e,height:s}:{x:h+t.transB-n.plotLeft,y:(d?u-e:u)-n.plotTop,width:s,height:e}}}})),e(n,"Core/Axis/Stacking/StackingAxis.js",[n["Core/Animation/AnimationUtilities.js"],n["Core/Axis/Axis.js"],n["Core/Series/SeriesRegistry.js"],n["Core/Axis/Stacking/StackItem.js"],n["Core/Utilities.js"]],(function(t,e,n,i,o){function r(){const t=this,e=t.inverted;t.yAxis.forEach((t=>{t.stacking&&t.stacking.stacks&&t.hasVisibleSeries&&(t.stacking.oldStacks=t.stacking.stacks)})),t.series.forEach((n=>{const i=n.xAxis&&n.xAxis.options||{};!n.options.stacking||!0!==n.visible&&!1!==t.options.chart.ignoreHiddenSeries||(n.stackKey=[n.type,S(n.options.stack,""),e?i.top:i.left,e?i.height:i.width].join())}))}function s(){const t=this.stacking;if(t){var e=t.stacks;E(e,(function(t,n){y(t),e[n]=null})),t&&t.stackTotalGroup&&t.stackTotalGroup.destroy()}}function a(){"yAxis"!==this.coll||this.stacking||(this.stacking=new w(this))}function l(t,e,n,i){return!_(t)||t.x!==e||i&&t.stackKey!==i?t={x:e,index:0,key:i,stackKey:i}:t.index++,t.key=[n,e,t.index].join(),t}function c(){const t=this,e=t.stackKey,n=t.yAxis.stacking.stacks,i=t.processedXData,o=t[t.options.stacking+"Stacker"];let r;o&&[e,"-"+e].forEach((e=>{let s,a=i.length;for(;a--;){var l=i[a];r=t.getStackIndicator(r,l,t.index,e),(s=(l=n[e]&&n[e][l])&&l.points[r.key])&&o.call(t,s,l,a)}}))}function u(t,e,n){e=e.total?100/e.total:0,t[0]=m(t[0]*e),t[1]=m(t[1]*e),this.stackedYData[n]=t[1]}function h(){const t=this.yAxis.stacking;this.options.centerInCategory&&(this.is("column")||this.is("columnrange"))&&!this.options.stacking&&1<this.chart.series.length?f.setStackedPoints.call(this,"group"):t&&E(t.stacks,((e,n)=>{"group"===n.slice(-5)&&(E(e,(t=>t.destroy())),delete t.stacks[n])}))}function d(t){var e=this.chart;const n=t||this.options.stacking;if(n&&(!0===this.visible||!1===e.options.chart.ignoreHiddenSeries)){var o=this.processedXData,r=this.processedYData,s=[],a=r.length,l=this.options,c=l.threshold,u=S(l.startFromThreshold&&c,0);l=l.stack;var h,d,p="-"+(t=t?`${this.type},${n}`:this.stackKey),f=this.negStacks,g=(e="group"===n?e.yAxis[0]:this.yAxis).stacking.stacks,y=e.stacking.oldStacks;for(e.stacking.stacksTouched+=1,d=0;d<a;d++){var v=o[d],b=r[d],E=this.getStackIndicator(E,v,this.index),w=E.key,O=(h=f&&b<(u?0:c))?p:t;g[O]||(g[O]={}),g[O][v]||(y[O]&&y[O][v]?(g[O][v]=y[O][v],g[O][v].total=null):g[O][v]=new i(e,e.options.stackLabels,!!h,v,l)),O=g[O][v],null!==b?(O.points[w]=O.points[this.index]=[S(O.cumulative,u)],_(O.cumulative)||(O.base=w),O.touched=e.stacking.stacksTouched,0<E.index&&!1===this.singleStacks&&(O.points[w][0]=O.points[this.index+","+v+",0"][0])):O.points[w]=O.points[this.index]=null,"percent"===n?(h=h?t:p,f&&g[h]&&g[h][v]?(h=g[h][v],O.total=h.total=Math.max(h.total,O.total)+Math.abs(b)||0):O.total=m(O.total+(Math.abs(b)||0))):"group"===n?(C(b)&&(b=b[0]),null!==b&&(O.total=(O.total||0)+1)):O.total=m(O.total+(b||0)),O.cumulative="group"===n?(O.total||1)-1:m(S(O.cumulative,u)+(b||0)),null!==b&&(O.points[w].push(O.cumulative),s[d]=O.cumulative,O.hasValidPoints=!0)}"percent"===n&&(e.stacking.usePercentage=!0),"group"!==n&&(this.stackedYData=s),e.stacking.oldStacks={}}}const{getDeferredAnimation:p}=t,{series:{prototype:f}}=n,{addEvent:g,correctFloat:m,defined:_,destroyObjectProperties:y,fireEvent:v,isArray:C,isNumber:b,objectEach:E,pick:S}=o;class w{constructor(t){this.oldStacks={},this.stacks={},this.stacksTouched=0,this.axis=t}buildStacks(){const t=this.axis,e=t.series,n=t.options.reversedStacks,i=e.length;let o,r;for(this.usePercentage=!1,r=i;r--;)o=e[n?r:i-r-1],o.setStackedPoints(),o.setGroupedPoints();for(r=0;r<i;r++)e[r].modifyStacks();v(t,"afterBuildStacks")}cleanStacks(){let t;this.oldStacks&&(t=this.stacks=this.oldStacks),E(t,(function(t){E(t,(function(t){t.cumulative=t.total}))}))}resetStacks(){E(this.stacks,(t=>{E(t,((e,n)=>{b(e.touched)&&e.touched<this.stacksTouched?(e.destroy(),delete t[n]):(e.total=null,e.cumulative=null)}))}))}renderStackTotals(){var t=this.axis;const e=t.chart,n=e.renderer,i=this.stacks;t=p(e,t.options.stackLabels&&t.options.stackLabels.animation||!1);const o=this.stackTotalGroup=this.stackTotalGroup||n.g("stack-labels").attr({zIndex:6,opacity:0}).add();o.translate(e.plotLeft,e.plotTop),E(i,(function(t){E(t,(function(t){t.render(o)}))})),o.animate({opacity:1},t)}}var O;return function(t){const e=[];t.compose=function(t,n,i){o.pushUnique(e,t)&&(g(t,"init",a),g(t,"destroy",s)),o.pushUnique(e,n)&&(n.prototype.getStacks=r),o.pushUnique(e,i)&&((t=i.prototype).getStackIndicator=l,t.modifyStacks=c,t.percentStacker=u,t.setGroupedPoints=h,t.setStackedPoints=d)}}(O||(O={})),O})),e(n,"Series/Line/LineSeries.js",[n["Core/Series/Series.js"],n["Core/Series/SeriesRegistry.js"],n["Core/Utilities.js"]],(function(t,e,n){const{defined:i,merge:o}=n;class r extends t{constructor(){super(...arguments),this.points=this.options=this.data=void 0}drawGraph(){const t=this,e=this.options,n=(this.gappedPath||this.getGraphPath).call(this),i=this.chart.styledMode;let o=[["graph","highcharts-graph"]];i||o[0].push(e.lineColor||this.color||"#cccccc",e.dashStyle),o=t.getZonesGraphs(o),o.forEach((function(o,r){var s=o[0];let a=t[s];const l=a?"animate":"attr";a?(a.endX=t.preventGraphAnimation?null:n.xMap,a.animate({d:n})):n.length&&(t[s]=a=t.chart.renderer.path(n).addClass(o[1]).attr({zIndex:1}).add(t.group)),a&&!i&&(s={stroke:o[2],"stroke-width":e.lineWidth||0,fill:t.fillGraph&&t.color||"none"},o[3]?s.dashstyle=o[3]:"square"!==e.linecap&&(s["stroke-linecap"]=s["stroke-linejoin"]="round"),a[l](s).shadow(2>r&&e.shadow)),a&&(a.startX=n.xMap,a.isArea=n.isArea)}))}getGraphPath(t,e,n){const o=this,r=o.options,s=[],a=[];let l,c=r.step;const u=(t=t||o.points).reversed;return u&&t.reverse(),(c={right:1,center:2}[c]||c&&3)&&u&&(c=4-c),(t=this.getValidPoints(t,!1,!(r.connectNulls&&!e&&!n))).forEach((function(u,h){const d=u.plotX,p=u.plotY,f=t[h-1],g=u.isNull||"number"!=typeof p;(u.leftCliff||f&&f.rightCliff)&&!n&&(l=!0),g&&!i(e)&&0<h?l=!r.connectNulls:g&&!e?l=!0:(0===h||l?h=[["M",u.plotX,u.plotY]]:o.getPointSpline?h=[o.getPointSpline(t,u,h)]:c?(h=1===c?[["L",f.plotX,p]]:2===c?[["L",(f.plotX+d)/2,f.plotY],["L",(f.plotX+d)/2,p]]:[["L",d,f.plotY]]).push(["L",d,p]):h=[["L",d,p]],a.push(u.x),c&&(a.push(u.x),2===c&&a.push(u.x)),s.push.apply(s,h),l=!1)})),s.xMap=a,o.graphPath=s}getZonesGraphs(t){return this.zones.forEach((function(e,n){n=["zone-graph-"+n,"highcharts-graph highcharts-zone-graph-"+n+" "+(e.className||"")],this.chart.styledMode||n.push(e.color||this.color,e.dashStyle||this.options.dashStyle),t.push(n)}),this),t}}return r.defaultOptions=o(t.defaultOptions,{legendSymbol:"lineMarker"}),e.registerSeriesType("line",r),r})),e(n,"Series/Area/AreaSeries.js",[n["Core/Color/Color.js"],n["Core/Series/SeriesRegistry.js"],n["Core/Utilities.js"]],(function(t,e,n){const{parse:i}=t,{seriesTypes:{line:o}}=e,{extend:r,merge:s,objectEach:a,pick:l}=n;class c extends o{constructor(){super(...arguments),this.points=this.options=this.data=void 0}drawGraph(){this.areaPath=[],super.drawGraph.apply(this);const t=this,e=this.areaPath,n=this.options,o=[["area","highcharts-area",this.color,n.fillColor]];this.zones.forEach((function(e,i){o.push(["zone-area-"+i,"highcharts-area highcharts-zone-area-"+i+" "+e.className,e.color||t.color,e.fillColor||n.fillColor])})),o.forEach((function(o){const r=o[0],s={};let a=t[r];const c=a?"animate":"attr";a?(a.endX=t.preventGraphAnimation?null:e.xMap,a.animate({d:e})):(s.zIndex=0,a=t[r]=t.chart.renderer.path(e).addClass(o[1]).add(t.group),a.isArea=!0),t.chart.styledMode||(s.fill=l(o[3],i(o[2]).setOpacity(l(n.fillOpacity,.75)).get())),a[c](s),a.startX=e.xMap,a.shiftUnit=n.step?2:1}))}getGraphPath(t){var e=o.prototype.getGraphPath,n=this.options;const i=n.stacking,r=this.yAxis,s=[],a=[],c=this.index,u=r.stacking.stacks[this.stackKey],h=n.threshold,d=Math.round(r.getThreshold(n.threshold));n=l(n.connectNulls,"percent"===i);var p=function(e,n,o){var l=t[e];e=i&&u[l.x].points[c];const p=l[o+"Null"]||0;let g,m;o=l[o+"Cliff"]||0,l=!0,o||p?(g=(p?e[0]:e[1])+o,m=e[0]+o,l=!!p):!i&&t[n]&&t[n].isNull&&(g=m=h),void 0!==g&&(a.push({plotX:f,plotY:null===g?d:r.getThreshold(g),isNull:l,isCliff:!0}),s.push({plotX:f,plotY:null===m?d:r.getThreshold(m),doCurve:!1}))};let f;t=t||this.points,i&&(t=this.getStackPoints(t));for(let e=0,o=t.length;e<o;++e){i||(t[e].leftCliff=t[e].rightCliff=t[e].leftNull=t[e].rightNull=void 0);var g=t[e].isNull;f=l(t[e].rectPlotX,t[e].plotX);var m=i?l(t[e].yBottom,d):d;g&&!n||(n||p(e,e-1,"left"),g&&!i&&n||(a.push(t[e]),s.push({x:e,plotX:f,plotY:m})),n||p(e,e+1,"right"))}return p=e.call(this,a,!0,!0),s.reversed=!0,(m=(g=e.call(this,s,!0,!0))[0])&&"M"===m[0]&&(g[0]=["L",m[1],m[2]]),(g=p.concat(g)).length&&g.push(["Z"]),e=e.call(this,a,!1,n),g.xMap=p.xMap,this.areaPath=g,e}getStackPoints(t){const e=this,n=[],i=[],o=this.xAxis,r=this.yAxis,s=r.stacking.stacks[this.stackKey],c={},u=r.series,h=u.length,d=r.options.reversedStacks?1:-1,p=u.indexOf(e);if(t=t||this.points,this.options.stacking){for(let e=0;e<t.length;e++)t[e].leftNull=t[e].rightNull=void 0,c[t[e].x]=t[e];a(s,(function(t,e){null!==t.total&&i.push(e)})),i.sort((function(t,e){return t-e}));const f=u.map((t=>t.visible));i.forEach((function(t,a){let g,m,_=0;if(c[t]&&!c[t].isNull)n.push(c[t]),[-1,1].forEach((function(n){const o=1===n?"rightNull":"leftNull",r=s[i[a+n]];let l=0;if(r){let n=p;for(;0<=n&&n<h;){const i=u[n].index;g=r.points[i],g||(i===e.index?c[t][o]=!0:f[n]&&(m=s[t].points[i])&&(l-=m[1]-m[0])),n+=d}}c[t][1===n?"rightCliff":"leftCliff"]=l}));else{let e=p;for(;0<=e&&e<h;){if(g=s[t].points[u[e].index]){_=g[1];break}e+=d}_=l(_,0),_=r.translate(_,0,1,0,1),n.push({isNull:!0,plotX:o.translate(t,0,0,0,1),x:t,plotY:_,yBottom:_})}}))}return n}}return c.defaultOptions=s(o.defaultOptions,{threshold:0,legendSymbol:"rectangle"}),r(c.prototype,{singleStacks:!1}),e.registerSeriesType("area",c),c})),e(n,"Series/Spline/SplineSeries.js",[n["Core/Series/SeriesRegistry.js"],n["Core/Utilities.js"]],(function(t,e){const{line:n}=t.seriesTypes,{merge:i,pick:o}=e;class r extends n{constructor(){super(...arguments),this.points=this.options=this.data=void 0}getPointSpline(t,e,n){const i=e.plotX||0,r=e.plotY||0,s=t[n-1];let a,l,c;if(n=t[n+1],s&&!s.isNull&&!1!==s.doCurve&&!e.isCliff&&n&&!n.isNull&&!1!==n.doCurve&&!e.isCliff){t=s.plotY||0;var u=n.plotX||0;n=n.plotY||0;let o=0;a=(1.5*i+(s.plotX||0))/2.5,l=(1.5*r+t)/2.5,c=(1.5*r+n)/2.5,(u=(1.5*i+u)/2.5)!==a&&(o=(c-l)*(u-i)/(u-a)+r-c),l+=o,c+=o,l>t&&l>r?(l=Math.max(t,r),c=2*r-l):l<t&&l<r&&(l=Math.min(t,r),c=2*r-l),c>n&&c>r?(c=Math.max(n,r),l=2*r-c):c<n&&c<r&&(c=Math.min(n,r),l=2*r-c),e.rightContX=u,e.rightContY=c}return e=["C",o(s.rightContX,s.plotX,0),o(s.rightContY,s.plotY,0),o(a,i,0),o(l,r,0),i,r],s.rightContX=s.rightContY=void 0,e}}return r.defaultOptions=i(n.defaultOptions),t.registerSeriesType("spline",r),r})),e(n,"Series/AreaSpline/AreaSplineSeries.js",[n["Series/Spline/SplineSeries.js"],n["Core/Series/SeriesRegistry.js"],n["Core/Utilities.js"]],(function(t,e,n){const{area:i,area:{prototype:o}}=e.seriesTypes,{extend:r,merge:s}=n;class a extends t{constructor(){super(...arguments),this.options=this.points=this.data=void 0}}return a.defaultOptions=s(t.defaultOptions,i.defaultOptions),r(a.prototype,{getGraphPath:o.getGraphPath,getStackPoints:o.getStackPoints,drawGraph:o.drawGraph}),e.registerSeriesType("areaspline",a),a})),e(n,"Series/Column/ColumnSeriesDefaults.js",[],(function(){return{borderRadius:3,centerInCategory:!1,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:void 0,verticalAlign:void 0,y:void 0},startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"}})),e(n,"Series/Column/ColumnSeries.js",[n["Core/Animation/AnimationUtilities.js"],n["Core/Color/Color.js"],n["Series/Column/ColumnSeriesDefaults.js"],n["Core/Globals.js"],n["Core/Series/Series.js"],n["Core/Series/SeriesRegistry.js"],n["Core/Utilities.js"]],(function(t,e,n,i,o,r,s){const{animObject:a}=t,{parse:l}=e,{hasTouch:c,noop:u}=i,{clamp:h,defined:d,extend:p,fireEvent:f,isArray:g,isNumber:m,merge:_,pick:y,objectEach:v}=s;class C extends o{constructor(){super(...arguments),this.points=this.options=this.group=this.data=this.borderWidth=void 0}animate(t){const e=this,n=this.yAxis,i=n.pos,o=e.options,r=this.chart.inverted,s={},l=r?"translateX":"translateY";let c;t?(s.scaleY=.001,t=h(n.toPixels(o.threshold),i,i+n.len),r?s.translateX=t-n.len:s.translateY=t,e.clipBox&&e.setClip(),e.group.attr(s)):(c=Number(e.group.attr(l)),e.group.animate({scaleY:1},p(a(e.options.animation),{step:function(t,n){e.group&&(s[l]=c+n.pos*(i-c),e.group.attr(s))}})))}init(t,e){super.init.apply(this,arguments);const n=this;(t=n.chart).hasRendered&&t.series.forEach((function(t){t.type===n.type&&(t.isDirty=!0)}))}getColumnMetrics(){const t=this;var e=t.options;const n=t.xAxis,i=t.yAxis;var o=n.options.reversedStacks;o=n.reversed&&!o||!n.reversed&&o;const r={};let s,a=0;!1===e.grouping?a=1:t.chart.series.forEach((function(e){const n=e.yAxis,o=e.options;let l;e.type!==t.type||!e.visible&&t.chart.options.chart.ignoreHiddenSeries||i.len!==n.len||i.pos!==n.pos||(o.stacking&&"group"!==o.stacking?(s=e.stackKey,void 0===r[s]&&(r[s]=a++),l=r[s]):!1!==o.grouping&&(l=a++),e.columnIndex=l)}));const l=Math.min(Math.abs(n.transA)*(n.ordinal&&n.ordinal.slope||e.pointRange||n.closestPointRange||n.tickInterval||1),n.len),c=l*e.groupPadding,u=(l-2*c)/(a||1);return e=Math.min(e.maxPointWidth||n.len,y(e.pointWidth,u*(1-2*e.pointPadding))),t.columnMetrics={width:e,offset:(u-e)/2+(c+((t.columnIndex||0)+(o?1:0))*u-l/2)*(o?-1:1),paddedWidth:u,columnCount:a},t.columnMetrics}crispCol(t,e,n,i){var o=this.borderWidth,r=-(o%2?.5:0);return o=o%2?.5:1,this.options.crisp&&(n=Math.round(t+n)+r,n-=t=Math.round(t)+r),i=Math.round(e+i)+o,r=.5>=Math.abs(e)&&.5<i,i-=e=Math.round(e)+o,r&&i&&(--e,i+=1),{x:t,y:e,width:n,height:i}}adjustForMissingColumns(t,e,n,i){const o=this.options.stacking;if(!n.isNull&&1<i.columnCount){const r=this.yAxis.options.reversedStacks;let s=0,a=r?0:-i.columnCount;v(this.yAxis.stacking&&this.yAxis.stacking.stacks,(t=>{if("number"==typeof n.x){const e=t[n.x.toString()];e&&(t=e.points[this.index],o?(t&&(s=a),e.hasValidPoints&&(r?a++:a--)):g(t)&&(t=Object.keys(e.points).filter((t=>!t.match(",")&&e.points[t]&&1<e.points[t].length)).map(parseFloat).sort(((t,e)=>e-t)),s=t.indexOf(this.index),a=t.length))}})),t=(n.plotX||0)+((a-1)*i.paddedWidth+e)/2-e-s*i.paddedWidth}return t}translate(){const t=this,e=t.chart,n=t.options;var i=t.dense=2>t.closestPointRange*t.xAxis.transA;i=t.borderWidth=y(n.borderWidth,i?0:1);const r=t.xAxis,s=t.yAxis,a=n.threshold,l=y(n.minPointLength,5),c=t.getColumnMetrics(),u=c.width,p=t.pointXOffset=c.offset,g=t.dataMin,_=t.dataMax;let v=t.barW=Math.max(u,1+2*i),C=t.translatedThreshold=s.getThreshold(a);e.inverted&&(C-=.5),n.pointPadding&&(v=Math.ceil(v)),o.prototype.translate.apply(t),t.points.forEach((function(i){const o=y(i.yBottom,C);var f=999+Math.abs(o),b=i.plotX||0;f=h(i.plotY,-f,s.len+f);let E=Math.min(f,o),S=Math.max(f,o)-E,w=u,O=b+p,x=v;l&&Math.abs(S)<l&&(S=l,b=!s.reversed&&!i.negative||s.reversed&&i.negative,m(a)&&m(_)&&i.y===a&&_<=a&&(s.min||0)<a&&(g!==_||(s.max||0)<=a)&&(b=!b),E=Math.abs(E-C)>l?o-l:C-(b?l:0)),d(i.options.pointWidth)&&(w=x=Math.ceil(i.options.pointWidth),O-=Math.round((w-u)/2)),n.centerInCategory&&(O=t.adjustForMissingColumns(O,w,i,c)),i.barX=O,i.pointWidth=w,i.tooltipPos=e.inverted?[h(s.len+s.pos-e.plotLeft-f,s.pos-e.plotLeft,s.len+s.pos-e.plotLeft),r.len+r.pos-e.plotTop-O-x/2,S]:[r.left-e.plotLeft+O+x/2,h(f+s.pos-e.plotTop,s.pos-e.plotTop,s.len+s.pos-e.plotTop),S],i.shapeType=t.pointClass.prototype.shapeType||"roundedRect",i.shapeArgs=t.crispCol(O,i.isNull?C:E,x,i.isNull?0:S)})),f(this,"afterColumnTranslate")}drawGraph(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")}pointAttribs(t,e){const n=this.options;var i=this.pointAttrToOptions||{},o=i.stroke||"borderColor";const r=i["stroke-width"]||"borderWidth";let s,a=t&&t.color||this.color,c=t&&t[o]||n[o]||a;i=t&&t.options.dashStyle||n.dashStyle;let u=t&&t[r]||n[r]||this[r]||0,h=y(t&&t.opacity,n.opacity,1);return t&&this.zones.length&&(s=t.getZone(),a=t.options.color||s&&(s.color||t.nonZonedColor)||this.color,s&&(c=s.borderColor||c,i=s.dashStyle||i,u=s.borderWidth||u)),e&&t&&(e=(t=_(n.states[e],t.options.states&&t.options.states[e]||{})).brightness,a=t.color||void 0!==e&&l(a).brighten(t.brightness).get()||a,c=t[o]||c,u=t[r]||u,i=t.dashStyle||i,h=y(t.opacity,h)),o={fill:a,stroke:c,"stroke-width":u,opacity:h},i&&(o.dashstyle=i),o}drawPoints(t=this.points){const e=this,n=this.chart,i=e.options,o=n.renderer,r=i.animationLimit||250;let s;t.forEach((function(t){let a=t.graphic,l=!!a,c=a&&n.pointCount<r?"animate":"attr";m(t.plotY)&&null!==t.y?(s=t.shapeArgs,a&&t.hasNewShapeType()&&(a=a.destroy()),e.enabledDataSorting&&(t.startXPos=e.xAxis.reversed?-(s&&s.width||0):e.xAxis.width),a||(t.graphic=a=o[t.shapeType](s).add(t.group||e.group))&&e.enabledDataSorting&&n.hasRendered&&n.pointCount<r&&(a.attr({x:t.startXPos}),l=!0,c="animate"),a&&l&&a[c](_(s)),n.styledMode||a[c](e.pointAttribs(t,t.selected&&"select")).shadow(!1!==t.allowShadow&&i.shadow),a&&(a.addClass(t.getClassName(),!0),a.attr({visibility:t.visible?"inherit":"hidden"}))):a&&(t.graphic=a.destroy())}))}drawTracker(t=this.points){const e=this,n=e.chart,i=n.pointer,o=function(t){const e=i.getPointFromEvent(t);void 0!==e&&(i.isDirectTouch=!0,e.onMouseOver(t))};let r;t.forEach((function(t){r=g(t.dataLabels)?t.dataLabels:t.dataLabel?[t.dataLabel]:[],t.graphic&&(t.graphic.element.point=t),r.forEach((function(e){e.div?e.div.point=t:e.element.point=t}))})),e._hasTracking||(e.trackerGroups.forEach((function(t){e[t]&&(e[t].addClass("highcharts-tracker").on("mouseover",o).on("mouseout",(function(t){i.onTrackerMouseOut(t)})),c&&e[t].on("touchstart",o),!n.styledMode&&e.options.cursor&&e[t].css({cursor:e.options.cursor}))})),e._hasTracking=!0),f(this,"afterDrawTracker")}remove(){const t=this,e=t.chart;e.hasRendered&&e.series.forEach((function(e){e.type===t.type&&(e.isDirty=!0)})),o.prototype.remove.apply(t,arguments)}}return C.defaultOptions=_(o.defaultOptions,n),p(C.prototype,{cropShoulder:0,directTouch:!0,getSymbol:u,negStacks:!0,trackerGroups:["group","dataLabelsGroup"]}),r.registerSeriesType("column",C),C})),e(n,"Core/Series/DataLabel.js",[n["Core/Animation/AnimationUtilities.js"],n["Core/FormatUtilities.js"],n["Core/Utilities.js"]],(function(t,e,n){const{getDeferredAnimation:i}=t,{format:o}=e,{defined:r,extend:s,fireEvent:a,isArray:l,isString:c,merge:u,objectEach:h,pick:d,splat:p}=n;var f;return function(t){function e(t,e,n,i,o){const a=this.chart;var l=this.isCartesian&&a.inverted;const c=this.enabledDataSorting;var u=t.plotX,h=t.plotY;const p=n.rotation;var f=n.align;h=r(u)&&r(h)&&a.isInsidePlot(u,Math.round(h),{inverted:l,paneCoordinates:!0,series:this});let g="justify"===d(n.overflow,c?"none":"justify");if(l=this.visible&&!1!==t.visible&&r(u)&&(t.series.forceDL||c&&!g||h||d(n.inside,!!this.options.stacking)&&i&&a.isInsidePlot(u,l?i.x+1:i.y+i.height-1,{inverted:l,paneCoordinates:!0,series:this})),u=t.pos(),l&&u){p&&e.attr({align:f}),f=e.getBBox(!0);var m=[0,0],_=a.renderer.fontMetrics(e).b;if(i=s({x:u[0],y:Math.round(u[1]),width:0,height:0},i),s(n,{width:f.width,height:f.height}),p?(g=!1,m=a.renderer.rotCorr(_,p),_={x:i.x+(n.x||0)+i.width/2+m.x,y:i.y+(n.y||0)+{top:0,middle:.5,bottom:1}[n.verticalAlign]*i.height},m=[f.x-Number(e.attr("x")),f.y-Number(e.attr("y"))],c&&this.xAxis&&!g&&this.setDataLabelStartPos(t,e,o,h,_),e[o?"attr":"animate"](_)):(c&&this.xAxis&&!g&&this.setDataLabelStartPos(t,e,o,h,i),e.align(n,void 0,i),_=e.alignAttr),g&&0<=i.height)this.justifyDataLabel(e,n,_,f,i,o);else if(d(n.crop,!0)){let{x:t,y:e}=_;t+=m[0],e+=m[1],l=a.isInsidePlot(t,e,{paneCoordinates:!0,series:this})&&a.isInsidePlot(t+f.width,e+f.height,{paneCoordinates:!0,series:this})}n.shape&&!p&&e[o?"attr":"animate"]({anchorX:u[0],anchorY:u[1]})}o&&c&&(e.placed=!1),l||c&&!g?e.show():(e.hide(),e.placed=!1)}function f(){return this.plotGroup("dataLabelsGroup","data-labels",this.hasRendered?"inherit":"hidden",this.options.dataLabels.zIndex||6)}function g(t){const e=this.hasRendered||0,n=this.initDataLabelsGroup().attr({opacity:+e});return!e&&n&&(this.visible&&n.show(),this.options.animation?n.animate({opacity:1},t):n.attr({opacity:1})),n}function m(t=this.points){const e=this,n=e.chart,s=e.options,u=n.renderer,{backgroundColor:f,plotBackgroundColor:g}=n.options.chart,m=u.getContrast(c(g)&&g||c(f)&&f||"#000000");let _,v,C=s.dataLabels;var b=p(C)[0];const E=b.animation;b=b.defer?i(n,E,e):{defer:0,duration:0},C=y(y(n.options.plotOptions&&n.options.plotOptions.series&&n.options.plotOptions.series.dataLabels,n.options.plotOptions&&n.options.plotOptions[e.type]&&n.options.plotOptions[e.type].dataLabels),C),a(this,"drawDataLabels"),(l(C)||C.enabled||e._hasPointLabels)&&(v=this.initDataLabels(b),t.forEach((t=>{_=p(y(C,t.dlOptions||t.options&&t.options.dataLabels)),_.forEach(((i,a)=>{const l=i.enabled&&(!t.isNull||t.dataLabelOnNull)&&function(t,e){var n=e.filter;return!n||(e=n.operator,t=t[n.property],n=n.value,">"===e&&t>n||"<"===e&&t<n||">="===e&&t>=n||"<="===e&&t<=n||"=="===e&&t==n||"==="===e&&t===n)}(t,i),c=t.connectors?t.connectors[a]:t.connector;let p,f,g=t.dataLabels?t.dataLabels[a]:t.dataLabel,_=!g;const y=d(i.distance,t.labelDistance);if(l){var C=t.getLabelConfig(),b=d(i[t.formatPrefix+"Format"],i.format);if(C=r(b)?o(b,C,n):(i[t.formatPrefix+"Formatter"]||i.formatter).call(C,i),b=i.style,p=i.rotation,n.styledMode||(b.color=d(i.color,b.color,e.color,"#000000"),"contrast"===b.color?(t.contrastColor=u.getContrast(t.color||e.color),b.color=!r(y)&&i.inside||0>y||s.stacking?t.contrastColor:m):delete t.contrastColor,s.cursor&&(b.cursor=s.cursor)),f={r:i.borderRadius||0,rotation:p,padding:i.padding,zIndex:1},!n.styledMode){const{backgroundColor:e,borderColor:n}=i;f.fill="auto"===e?t.color:e,f.stroke="auto"===n?t.color:n,f["stroke-width"]=i.borderWidth}h(f,(function(t,e){void 0===t&&delete f[e]}))}!g||l&&r(C)&&!!g.div==!!i.useHTML&&(g.rotation&&i.rotation||g.rotation===i.rotation)||(_=!0,t.dataLabel=g=t.dataLabel&&t.dataLabel.destroy(),t.dataLabels&&(1===t.dataLabels.length?delete t.dataLabels:delete t.dataLabels[a]),a||delete t.dataLabel,c&&(t.connector=t.connector.destroy(),t.connectors&&(1===t.connectors.length?delete t.connectors:delete t.connectors[a]))),l&&r(C)?(g?f.text=C:(t.dataLabels=t.dataLabels||[],g=t.dataLabels[a]=p?u.text(C,0,0,i.useHTML).addClass("highcharts-data-label"):u.label(C,0,0,i.shape,null,null,i.useHTML,null,"data-label"),a||(t.dataLabel=g),g.addClass(" highcharts-data-label-color-"+t.colorIndex+" "+(i.className||"")+(i.useHTML?" highcharts-tracker":""))),g.options=i,g.attr(f),n.styledMode||g.css(b).shadow(i.shadow),(a=i[t.formatPrefix+"TextPath"]||i.textPath)&&!i.useHTML&&(g.setTextPath(t.getDataLabelPath&&t.getDataLabelPath(g)||t.graphic,a),t.dataLabelPath&&!a.enabled&&(t.dataLabelPath=t.dataLabelPath.destroy())),g.added||g.add(v),e.alignDataLabel(t,g,i,null,_)):g&&g.hide()}))}))),a(this,"afterDrawDataLabels")}function _(t,e,n,i,o,r){const s=this.chart,a=e.align,l=e.verticalAlign,c=t.box?0:t.padding||0;let u,h,{x:d=0,y:p=0}=e;return u=(n.x||0)+c,0>u&&("right"===a&&0<=d?(e.align="left",e.inside=!0):d-=u,h=!0),u=(n.x||0)+i.width-c,u>s.plotWidth&&("left"===a&&0>=d?(e.align="right",e.inside=!0):d+=s.plotWidth-u,h=!0),u=n.y+c,0>u&&("bottom"===l&&0<=p?(e.verticalAlign="top",e.inside=!0):p-=u,h=!0),u=(n.y||0)+i.height-c,u>s.plotHeight&&("top"===l&&0>=p?(e.verticalAlign="bottom",e.inside=!0):p+=s.plotHeight-u,h=!0),h&&(e.x=d,e.y=p,t.placed=!r,t.align(e,void 0,o)),h}function y(t,e){let n,i=[];if(l(t)&&!l(e))i=t.map((function(t){return u(t,e)}));else if(l(e)&&!l(t))i=e.map((function(e){return u(t,e)}));else if(l(t)||l(e))for(n=Math.max(t.length,e.length);n--;)i[n]=u(t[n],e[n]);else i=u(t,e);return i}function v(t,e,n,i,o){const r=this.chart,s=r.inverted,a=this.xAxis,l=a.reversed,c=s?e.height/2:e.width/2;t=(t=t.pointWidth)?t/2:0,e.startXPos=s?o.x:l?-c-t:a.width-c+t,e.startYPos=s?l?this.yAxis.height-c+t:-c-t:o.y,i?"hidden"===e.visibility&&(e.show(),e.attr({opacity:0}).animate({opacity:1})):e.attr({opacity:1}).animate({opacity:0},void 0,e.hide),r.hasRendered&&(n&&e.attr({x:e.startXPos,y:e.startYPos}),e.placed=!0)}const C=[];t.compose=function(t){n.pushUnique(C,t)&&((t=t.prototype).initDataLabelsGroup=f,t.initDataLabels=g,t.alignDataLabel=e,t.drawDataLabels=m,t.justifyDataLabel=_,t.setDataLabelStartPos=v)}}(f||(f={})),f})),e(n,"Series/Column/ColumnDataLabel.js",[n["Core/Series/DataLabel.js"],n["Core/Series/SeriesRegistry.js"],n["Core/Utilities.js"]],(function(t,e,n){const{series:i}=e,{merge:o,pick:r}=n;var s;return function(e){function s(t,e,n,s,a){let l=this.chart.inverted;var c=t.series;let u=(c.xAxis?c.xAxis.len:this.chart.plotSizeX)||0;c=(c.yAxis?c.yAxis.len:this.chart.plotSizeY)||0;var h=t.dlBox||t.shapeArgs;let d=r(t.below,t.plotY>r(this.translatedThreshold,c)),p=r(n.inside,!!this.options.stacking);h&&(0>(s=o(h)).y&&(s.height+=s.y,s.y=0),0<(h=s.y+s.height-c)&&h<s.height&&(s.height-=h),l&&(s={x:c-s.y-s.height,y:u-s.x-s.width,width:s.height,height:s.width}),p||(l?(s.x+=d?0:s.width,s.width=0):(s.y+=d?s.height:0,s.height=0))),n.align=r(n.align,!l||p?"center":d?"right":"left"),n.verticalAlign=r(n.verticalAlign,l||p?"middle":d?"top":"bottom"),i.prototype.alignDataLabel.call(this,t,e,n,s,a),n.inside&&t.contrastColor&&e.css({color:t.contrastColor})}const a=[];e.compose=function(e){t.compose(i),n.pushUnique(a,e)&&(e.prototype.alignDataLabel=s)}}(s||(s={})),s})),e(n,"Series/Bar/BarSeries.js",[n["Series/Column/ColumnSeries.js"],n["Core/Series/SeriesRegistry.js"],n["Core/Utilities.js"]],(function(t,e,n){const{extend:i,merge:o}=n;class r extends t{constructor(){super(...arguments),this.points=this.options=this.data=void 0}}return r.defaultOptions=o(t.defaultOptions,{}),i(r.prototype,{inverted:!0}),e.registerSeriesType("bar",r),r})),e(n,"Series/Scatter/ScatterSeriesDefaults.js",[],(function(){return{lineWidth:0,findNearestPointBy:"xy",jitter:{x:0,y:0},marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}"></span> <span style="font-size: 0.8em"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}}})),e(n,"Series/Scatter/ScatterSeries.js",[n["Series/Scatter/ScatterSeriesDefaults.js"],n["Core/Series/SeriesRegistry.js"],n["Core/Utilities.js"]],(function(t,e,n){const{column:i,line:o}=e.seriesTypes,{addEvent:r,extend:s,merge:a}=n;class l extends o{constructor(){super(...arguments),this.points=this.options=this.data=void 0}applyJitter(){const t=this,e=this.options.jitter,n=this.points.length;e&&this.points.forEach((function(i,o){["x","y"].forEach((function(r,s){let a,l,c="plot"+r.toUpperCase();if(e[r]&&!i.isNull){var u=t[r+"Axis"];l=e[r]*u.transA,u&&!u.isLog&&(a=Math.max(0,i[c]-l),u=Math.min(u.len,i[c]+l),s=1e4*Math.sin(o+s*n),s-=Math.floor(s),i[c]=a+(u-a)*s,"x"===r&&(i.clientX=i.plotX))}}))}))}drawGraph(){this.options.lineWidth?super.drawGraph():this.graph&&(this.graph=this.graph.destroy())}}return l.defaultOptions=a(o.defaultOptions,t),s(l.prototype,{drawTracker:i.prototype.drawTracker,sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1}),r(l,"afterTranslate",(function(){this.applyJitter()})),e.registerSeriesType("scatter",l),l})),e(n,"Series/CenteredUtilities.js",[n["Core/Globals.js"],n["Core/Series/Series.js"],n["Core/Utilities.js"]],(function(t,e,n){const{deg2rad:i}=t,{fireEvent:o,isNumber:r,pick:s,relativeLength:a}=n;var l;return function(t){t.getCenter=function(){var t=this.options,n=this.chart;const i=2*(t.slicedOffset||0),l=n.plotWidth-2*i,c=n.plotHeight-2*i;var u=t.center;const h=Math.min(l,c),d=t.thickness;var p=t.size;let f=t.innerSize||0;for("string"==typeof p&&(p=parseFloat(p)),"string"==typeof f&&(f=parseFloat(f)),t=[s(u[0],"50%"),s(u[1],"50%"),s(p&&0>p?void 0:t.size,"100%"),s(f&&0>f?void 0:t.innerSize||0,"0%")],!n.angular||this instanceof e||(t[3]=0),u=0;4>u;++u)p=t[u],n=2>u||2===u&&/%$/.test(p),t[u]=a(p,[l,c,h,t[2]][u])+(n?i:0);return t[3]>t[2]&&(t[3]=t[2]),r(d)&&2*d<t[2]&&0<d&&(t[3]=t[2]-2*d),o(this,"afterGetCenter",{positions:t}),t},t.getStartAndEndRadians=function(t,e){return t=r(t)?t:0,e=r(e)&&e>t&&360>e-t?e:t+360,{start:i*(t+-90),end:i*(e+-90)}}}(l||(l={})),l})),e(n,"Series/Pie/PiePoint.js",[n["Core/Animation/AnimationUtilities.js"],n["Core/Series/Point.js"],n["Core/Utilities.js"]],(function(t,e,n){const{setAnimation:i}=t,{addEvent:o,defined:r,extend:s,isNumber:a,pick:l,relativeLength:c}=n;class u extends e{constructor(){super(...arguments),this.series=this.options=this.labelDistance=void 0}getConnectorPath(){const t=this.labelPosition,e=this.series.options.dataLabels,n=this.connectorShapes;let i=e.connectorShape;return n[i]&&(i=n[i]),i.call(this,{x:t.computed.x,y:t.computed.y,alignment:t.alignment},t.connectorPosition,e)}getTranslate(){return this.sliced?this.slicedTranslation:{translateX:0,translateY:0}}haloPath(t){const e=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(e.x,e.y,e.r+t,e.r+t,{innerR:e.r-1,start:e.start,end:e.end,borderRadius:e.borderRadius})}init(){super.init.apply(this,arguments),this.name=l(this.name,"Slice");const t=t=>{this.slice("select"===t.type)};return o(this,"select",t),o(this,"unselect",t),this}isValid(){return a(this.y)&&0<=this.y}setVisible(t,e){const n=this.series,i=n.chart,o=n.options.ignoreHiddenPoint;e=l(e,o),t!==this.visible&&(this.visible=this.options.visible=t=void 0===t?!this.visible:t,n.options.data[n.data.indexOf(this)]=this.options,["graphic","dataLabel","connector"].forEach((e=>{this[e]&&this[e][t?"show":"hide"](t)})),this.legendItem&&i.legend.colorizeItem(this,t),t||"hover"!==this.state||this.setState(""),o&&(n.isDirty=!0),e&&i.redraw())}slice(t,e,n){const o=this.series;i(n,o.chart),l(e,!0),this.sliced=this.options.sliced=r(t)?t:!this.sliced,o.options.data[o.data.indexOf(this)]=this.options,this.graphic&&this.graphic.animate(this.getTranslate())}}return s(u.prototype,{connectorShapes:{fixedOffset:function(t,e,n){const i=e.breakAt;return e=e.touchingSliceAt,[["M",t.x,t.y],n.softConnector?["C",t.x+("left"===t.alignment?-5:5),t.y,2*i.x-e.x,2*i.y-e.y,i.x,i.y]:["L",i.x,i.y],["L",e.x,e.y]]},straight:function(t,e){return e=e.touchingSliceAt,[["M",t.x,t.y],["L",e.x,e.y]]},crookedLine:function(t,e,n){const{breakAt:i,touchingSliceAt:o}=e;({series:e}=this);const[r,s,a]=e.center,l=a/2,u=e.chart.plotWidth,h=e.chart.plotLeft;e="left"===t.alignment;const{x:d,y:p}=t;return n.crookDistance?(t=c(n.crookDistance,1),t=e?r+l+(u+h-r-l)*(1-t):h+(r-l)*t):t=r+(s-p)*Math.tan((this.angle||0)-Math.PI/2),n=[["M",d,p]],(e?t<=d&&t>=i.x:t>=d&&t<=i.x)&&n.push(["L",t,p]),n.push(["L",i.x,i.y],["L",o.x,o.y]),n}}}),u})),e(n,"Series/Pie/PieSeriesDefaults.js",[],(function(){return{borderRadius:3,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{allowOverlap:!0,connectorPadding:5,connectorShape:"crookedLine",crookDistance:void 0,distance:30,enabled:!0,formatter:function(){return this.point.isNull?void 0:this.point.name},softConnector:!0,x:0},fillColor:void 0,ignoreHiddenPoint:!0,inactiveOtherPoints:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,lineWidth:void 0,states:{hover:{brightness:.1}}}})),e(n,"Series/Pie/PieSeries.js",[n["Series/CenteredUtilities.js"],n["Series/Column/ColumnSeries.js"],n["Core/Globals.js"],n["Series/Pie/PiePoint.js"],n["Series/Pie/PieSeriesDefaults.js"],n["Core/Series/Series.js"],n["Core/Series/SeriesRegistry.js"],n["Core/Renderer/SVG/Symbols.js"],n["Core/Utilities.js"]],(function(t,e,n,i,o,r,s,a,l){const{getStartAndEndRadians:c}=t;({noop:n}=n);const{clamp:u,extend:h,fireEvent:d,merge:p,pick:f,relativeLength:g}=l;class m extends r{constructor(){super(...arguments),this.points=this.options=this.maxLabelDistance=this.data=this.center=void 0}animate(t){const e=this,n=e.points,i=e.startAngleRad;t||n.forEach((function(t){const n=t.graphic,o=t.shapeArgs;n&&o&&(n.attr({r:f(t.startR,e.center&&e.center[3]/2),start:i,end:i}),n.animate({r:o.r,start:o.start,end:o.end},e.options.animation))}))}drawEmpty(){const t=this.startAngleRad,e=this.endAngleRad,n=this.options;let i,o;0===this.total&&this.center?(i=this.center[0],o=this.center[1],this.graph||(this.graph=this.chart.renderer.arc(i,o,this.center[1]/2,0,t,e).addClass("highcharts-empty-series").add(this.group)),this.graph.attr({d:a.arc(i,o,this.center[2]/2,0,{start:t,end:e,innerR:this.center[3]/2})}),this.chart.styledMode||this.graph.attr({"stroke-width":n.borderWidth,fill:n.fillColor||"none",stroke:n.color||"#cccccc"})):this.graph&&(this.graph=this.graph.destroy())}drawPoints(){const t=this.chart.renderer;this.points.forEach((function(e){e.graphic&&e.hasNewShapeType()&&(e.graphic=e.graphic.destroy()),e.graphic||(e.graphic=t[e.shapeType](e.shapeArgs).add(e.series.group),e.delayedRendering=!0)}))}generatePoints(){super.generatePoints(),this.updateTotals()}getX(t,e,n){const i=this.center,o=this.radii?this.radii[n.index]||0:i[2]/2;return t=Math.asin(u((t-i[1])/(o+n.labelDistance),-1,1)),i[0]+(e?-1:1)*Math.cos(t)*(o+n.labelDistance)+(0<n.labelDistance?(e?-1:1)*this.options.dataLabels.padding:0)}hasData(){return!!this.processedXData.length}redrawPoints(){const t=this,e=t.chart;let n,i,o,r;this.drawEmpty(),t.group&&!e.styledMode&&t.group.shadow(t.options.shadow),t.points.forEach((function(s){const a={};i=s.graphic,!s.isNull&&i?(r=s.shapeArgs,n=s.getTranslate(),e.styledMode||(o=t.pointAttribs(s,s.selected&&"select")),s.delayedRendering?(i.setRadialReference(t.center).attr(r).attr(n),e.styledMode||i.attr(o).attr({"stroke-linejoin":"round"}),s.delayedRendering=!1):(i.setRadialReference(t.center),e.styledMode||p(!0,a,o),p(!0,a,r,n),i.animate(a)),i.attr({visibility:s.visible?"inherit":"hidden"}),i.addClass(s.getClassName(),!0)):i&&(s.graphic=i.destroy())}))}sortByAngle(t,e){t.sort((function(t,n){return void 0!==t.angle&&(n.angle-t.angle)*e}))}translate(t){d(this,"translate"),this.generatePoints();var e=this.options;const n=e.slicedOffset,i=n+(e.borderWidth||0);var o=c(e.startAngle,e.endAngle);const r=this.startAngleRad=o.start;o=(this.endAngleRad=o.end)-r;const s=this.points,a=e.dataLabels.distance;e=e.ignoreHiddenPoint;const l=s.length;let u,h,p,m=0;for(t||(this.center=t=this.getCenter()),h=0;h<l;h++){p=s[h];var _=r+m*o;!p.isValid()||e&&!p.visible||(m+=p.percentage/100);var y=r+m*o,v={x:t[0],y:t[1],r:t[2]/2,innerR:t[3]/2,start:Math.round(1e3*_)/1e3,end:Math.round(1e3*y)/1e3};p.shapeType="arc",p.shapeArgs=v,p.labelDistance=f(p.options.dataLabels&&p.options.dataLabels.distance,a),p.labelDistance=g(p.labelDistance,v.r),this.maxLabelDistance=Math.max(this.maxLabelDistance||0,p.labelDistance),(y=(y+_)/2)>1.5*Math.PI?y-=2*Math.PI:y<-Math.PI/2&&(y+=2*Math.PI),p.slicedTranslation={translateX:Math.round(Math.cos(y)*n),translateY:Math.round(Math.sin(y)*n)},v=Math.cos(y)*t[2]/2,u=Math.sin(y)*t[2]/2,p.tooltipPos=[t[0]+.7*v,t[1]+.7*u],p.half=y<-Math.PI/2||y>Math.PI/2?1:0,p.angle=y,_=Math.min(i,p.labelDistance/5),p.labelPosition={natural:{x:t[0]+v+Math.cos(y)*p.labelDistance,y:t[1]+u+Math.sin(y)*p.labelDistance},computed:{},alignment:0>p.labelDistance?"center":p.half?"right":"left",connectorPosition:{breakAt:{x:t[0]+v+Math.cos(y)*_,y:t[1]+u+Math.sin(y)*_},touchingSliceAt:{x:t[0]+v,y:t[1]+u}}}}d(this,"afterTranslate")}updateTotals(){const t=this.points,e=t.length,n=this.options.ignoreHiddenPoint;let i,o,r=0;for(i=0;i<e;i++)o=t[i],!o.isValid()||n&&!o.visible||(r+=o.y);for(this.total=r,i=0;i<e;i++)o=t[i],o.percentage=0<r&&(o.visible||!n)?o.y/r*100:0,o.total=r}}return m.defaultOptions=p(r.defaultOptions,o),h(m.prototype,{axisTypes:[],directTouch:!0,drawGraph:void 0,drawTracker:e.prototype.drawTracker,getCenter:t.getCenter,getSymbol:n,isCartesian:!1,noSharedTooltip:!0,pointAttribs:e.prototype.pointAttribs,pointClass:i,requireSorting:!1,searchPoint:n,trackerGroups:["group","dataLabelsGroup"]}),s.registerSeriesType("pie",m),m})),e(n,"Series/Pie/PieDataLabel.js",[n["Core/Series/DataLabel.js"],n["Core/Globals.js"],n["Core/Renderer/RendererUtilities.js"],n["Core/Series/SeriesRegistry.js"],n["Core/Utilities.js"]],(function(t,e,n,i,o){const{noop:r}=e,{distribute:s}=n,{series:a}=i,{arrayMax:l,clamp:c,defined:u,merge:h,pick:d,relativeLength:p}=o;var f;return function(e){function n(){const t=this,e=t.data,n=t.chart,i=t.options.dataLabels||{},o=i.connectorPadding,r=n.plotWidth,c=n.plotHeight,p=n.plotLeft,f=Math.round(n.chartWidth/3),g=t.center,m=g[2]/2,_=g[1],y=[[],[]],v=[0,0,0,0],C=t.dataLabelPositioners;let b,E,S,w,O,x,P,T,M,D,R,A;t.visible&&(i.enabled||t._hasPointLabels)&&(e.forEach((function(t){t.dataLabel&&t.visible&&t.dataLabel.shortened&&(t.dataLabel.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),t.dataLabel.shortened=!1)})),a.prototype.drawDataLabels.apply(t),e.forEach((function(t){t.dataLabel&&(t.visible?(y[t.half].push(t),t.dataLabel._pos=null,!u(i.style.width)&&!u(t.options.dataLabels&&t.options.dataLabels.style&&t.options.dataLabels.style.width)&&t.dataLabel.getBBox().width>f&&(t.dataLabel.css({width:Math.round(.7*f)+"px"}),t.dataLabel.shortened=!0)):(t.dataLabel=t.dataLabel.destroy(),t.dataLabels&&1===t.dataLabels.length&&delete t.dataLabels))})),y.forEach(((e,a)=>{const l=e.length,h=[];let f,y=0;if(l){if(t.sortByAngle(e,a-.5),0<t.maxLabelDistance){var E=Math.max(0,_-m-t.maxLabelDistance);f=Math.min(_+m+t.maxLabelDistance,n.plotHeight),e.forEach((function(t){0<t.labelDistance&&t.dataLabel&&(t.top=Math.max(0,_-m-t.labelDistance),t.bottom=Math.min(_+m+t.labelDistance,n.plotHeight),y=t.dataLabel.getBBox().height||21,t.distributeBox={target:t.labelPosition.natural.y-t.top+y/2,size:y,rank:t.y},h.push(t.distributeBox))})),s(h,E=f+y-E,E/5)}for(R=0;R<l;R++){if(b=e[R],x=b.labelPosition,w=b.dataLabel,D=!1===b.visible?"hidden":"inherit",M=E=x.natural.y,h&&u(b.distributeBox)&&(void 0===b.distributeBox.pos?D="hidden":(P=b.distributeBox.size,M=C.radialDistributionY(b))),delete b.positionIndex,i.justify)T=C.justify(b,m,g);else switch(i.alignTo){case"connectors":T=C.alignToConnectors(e,a,r,p);break;case"plotEdges":T=C.alignToPlotEdges(w,a,r,p);break;default:T=C.radialDistributionX(t,b,M,E)}w._attr={visibility:D,align:x.alignment},A=b.options.dataLabels||{},w._pos={x:T+d(A.x,i.x)+({left:o,right:-o}[x.alignment]||0),y:M+d(A.y,i.y)-w.getBBox().height/2},x&&(x.computed.x=T,x.computed.y=M),d(i.crop,!0)&&(O=w.getBBox().width,E=null,T-O<o&&1===a?(E=Math.round(O-T+o),v[3]=Math.max(E,v[3])):T+O>r-o&&0===a&&(E=Math.round(T+O-r+o),v[1]=Math.max(E,v[1])),0>M-P/2?v[0]=Math.max(Math.round(P/2-M),v[0]):M+P/2>c&&(v[2]=Math.max(Math.round(M+P/2-c),v[2])),w.sideOverflow=E)}}})),0===l(v)||this.verifyDataLabelOverflow(v))&&(this.placeDataLabels(),this.points.forEach((function(e){if(A=h(i,e.options.dataLabels),E=d(A.connectorWidth,1)){let i;S=e.connector,(w=e.dataLabel)&&w._pos&&e.visible&&0<e.labelDistance?(D=w._attr.visibility,(i=!S)&&(e.connector=S=n.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+e.colorIndex+(e.className?" "+e.className:"")).add(t.dataLabelsGroup),n.styledMode||S.attr({"stroke-width":E,stroke:A.connectorColor||e.color||"#666666"})),S[i?"attr":"animate"]({d:e.getConnectorPath()}),S.attr("visibility",D)):S&&(e.connector=S.destroy())}})))}function i(){this.points.forEach((function(t){let e,n=t.dataLabel;n&&t.visible&&((e=n._pos)?(n.sideOverflow&&(n._attr.width=Math.max(n.getBBox().width-n.sideOverflow,0),n.css({width:n._attr.width+"px",textOverflow:(this.options.dataLabels.style||{}).textOverflow||"ellipsis"}),n.shortened=!0),n.attr(n._attr),n[n.moved?"animate":"attr"](e),n.moved=!0):n&&n.attr({y:-9999})),delete t.distributeBox}),this)}function f(t){let e,n=this.center,i=this.options,o=i.center,r=i.minSize||80,s=null!==i.size;return s||(null!==o[0]?e=Math.max(n[2]-Math.max(t[1],t[3]),r):(e=Math.max(n[2]-t[1]-t[3],r),n[0]+=(t[3]-t[1])/2),null!==o[1]?e=c(e,r,n[2]-Math.max(t[0],t[2])):(e=c(e,r,n[2]-t[0]-t[2]),n[1]+=(t[0]-t[2])/2),e<n[2]?(n[2]=e,n[3]=Math.min(i.thickness?Math.max(0,e-2*i.thickness):Math.max(0,p(i.innerSize||0,e)),e),this.translate(n),this.drawDataLabels&&this.drawDataLabels()):s=!0),s}const g=[],m={radialDistributionY:function(t){return t.top+t.distributeBox.pos},radialDistributionX:function(t,e,n,i){return t.getX(n<e.top+2||n>e.bottom-2?i:n,e.half,e)},justify:function(t,e,n){return n[0]+(t.half?-1:1)*(e+t.labelDistance)},alignToPlotEdges:function(t,e,n,i){return t=t.getBBox().width,e?t+i:n-t-i},alignToConnectors:function(t,e,n,i){let o,r=0;return t.forEach((function(t){o=t.dataLabel.getBBox().width,o>r&&(r=o)})),e?r+i:n-r-i}};e.compose=function(e){t.compose(a),o.pushUnique(g,e)&&((e=e.prototype).dataLabelPositioners=m,e.alignDataLabel=r,e.drawDataLabels=n,e.placeDataLabels=i,e.verifyDataLabelOverflow=f)}}(f||(f={})),f})),e(n,"Extensions/OverlappingDataLabels.js",[n["Core/Chart/Chart.js"],n["Core/Utilities.js"]],(function(t,e){function n(t,e){let n,i=!1;return t&&(n=t.newOpacity,t.oldOpacity!==n&&(t.alignAttr&&t.placed?(t[n?"removeClass":"addClass"]("highcharts-data-label-hidden"),i=!0,t.alignAttr.opacity=n,t[t.isOld?"animate":"attr"](t.alignAttr,null,(function(){e.styledMode||t.css({pointerEvents:n?"auto":"none"})})),o(e,"afterHideOverlappingLabel")):t.attr({opacity:n})),t.isOld=!0),i}const{addEvent:i,fireEvent:o,isArray:r,isNumber:s,objectEach:a,pick:l}=e;i(t,"render",(function(){let t=this,e=[];(this.labelCollectors||[]).forEach((function(t){e=e.concat(t())})),(this.yAxis||[]).forEach((function(t){t.stacking&&t.options.stackLabels&&!t.options.stackLabels.allowOverlap&&a(t.stacking.stacks,(function(t){a(t,(function(t){t.label&&e.push(t.label)}))}))})),(this.series||[]).forEach((function(i){var o=i.options.dataLabels;i.visible&&(!1!==o.enabled||i._hasPointLabels)&&((o=i=>i.forEach((i=>{i.visible&&(r(i.dataLabels)?i.dataLabels:i.dataLabel?[i.dataLabel]:[]).forEach((function(o){const r=o.options;o.labelrank=l(r.labelrank,i.labelrank,i.shapeArgs&&i.shapeArgs.height),r.allowOverlap?(o.oldOpacity=o.opacity,o.newOpacity=1,n(o,t)):e.push(o)}))})))(i.nodes||[]),o(i.points))})),this.hideOverlappingLabels(e)})),t.prototype.hideOverlappingLabels=function(t){let e=this,i=t.length,r=e.renderer;var a;let l,c,u,h,d=!1;var p=function(t){let e,n;var i;let o,a,l=t.box?0:t.padding||0,c=i=0;if(t&&(!t.alignAttr||t.placed))return e=t.alignAttr||{x:t.attr("x"),y:t.attr("y")},n=t.parentGroup,t.width||(i=t.getBBox(),t.width=i.width,t.height=i.height,i=r.fontMetrics(t.element).h),o=t.width-2*l,(a={left:"0",center:"0.5",right:"1"}[t.alignValue])?c=+a*o:s(t.x)&&Math.round(t.x)!==t.translateX&&(c=t.x-t.translateX),{x:e.x+(n.translateX||0)+l-(c||0),y:e.y+(n.translateY||0)+l-i,width:t.width-2*l,height:t.height-2*l}};for(l=0;l<i;l++)(a=t[l])&&(a.oldOpacity=a.opacity,a.newOpacity=1,a.absoluteBox=p(a));for(t.sort((function(t,e){return(e.labelrank||0)-(t.labelrank||0)})),l=0;l<i;l++)for(u=(p=t[l])&&p.absoluteBox,a=l+1;a<i;++a)h=(c=t[a])&&c.absoluteBox,!u||!h||p===c||0===p.newOpacity||0===c.newOpacity||"hidden"===p.visibility||"hidden"===c.visibility||h.x>=u.x+u.width||h.x+h.width<=u.x||h.y>=u.y+u.height||h.y+h.height<=u.y||((p.labelrank<c.labelrank?p:c).newOpacity=0);t.forEach((function(t){n(t,e)&&(d=!0)})),d&&o(e,"afterHideAllOverlappingLabels")}})),e(n,"Extensions/BorderRadius.js",[n["Core/Defaults.js"],n["Core/Series/Series.js"],n["Core/Series/SeriesRegistry.js"],n["Core/Renderer/SVG/SVGElement.js"],n["Core/Renderer/SVG/SVGRenderer.js"],n["Core/Utilities.js"]],(function(t,e,n,i,o,r){const{defaultOptions:s}=t;({seriesTypes:t}=n);const{addEvent:a,extend:l,isObject:c,merge:u,relativeLength:h}=r,d={radius:0,scope:"stack",where:void 0},p=(t,e)=>(c(t)||(t={radius:t||0}),u(d,e,t));if(-1===i.symbolCustomAttribs.indexOf("borderRadius")){i.symbolCustomAttribs.push("borderRadius","brBoxHeight","brBoxY");const n=o.prototype.symbols.arc;o.prototype.symbols.arc=function(t,e,i,o,r={}){t=n(t,e,i,o,r);const{innerR:s=0,r:a=i,start:l=0,end:c=0}=r;if(r.open||!r.borderRadius)return t;for(i=c-l,e=Math.sin(i/2),r=Math.max(Math.min(h(r.borderRadius||0,a-s),(a-s)/2,a*e/(1+e)),0),i=Math.min(r,i/Math.PI*2*s),e=t.length-1;e--;){let n,s,a;var u=e,d=1<e?i:r,p=(o=t)[u],f=o[u+1];if("Z"===f[0]&&(f=o[0]),"M"!==p[0]&&"L"!==p[0]||"A"!==f[0]?"A"!==p[0]||"M"!==f[0]&&"L"!==f[0]||(a=f,s=p):(a=p,s=f,n=!0),a&&s&&s.params){p=s[1];var g=s[5];f=s.params;const{start:t,end:e,cx:i,cy:r}=f;var m=g?p-d:p+d;const l=m?Math.asin(d/m):0;g=g?l:-l,m*=Math.cos(l),n?(f.start=t+g,a[1]=i+m*Math.cos(t),a[2]=r+m*Math.sin(t),o.splice(u+1,0,["A",d,d,0,0,1,i+p*Math.cos(f.start),r+p*Math.sin(f.start)])):(f.end=e-g,s[6]=i+p*Math.cos(f.end),s[7]=r+p*Math.sin(f.end),o.splice(u+1,0,["A",d,d,0,0,1,i+m*Math.cos(e),r+m*Math.sin(e)])),s[4]=Math.abs(f.end-f.start)<Math.PI?0:1}}return t};const r=o.prototype.symbols.roundedRect;o.prototype.symbols.roundedRect=function(t,e,n,i,o={}){const s=r(t,e,n,i,o),{r:a=0,brBoxHeight:l=i,brBoxY:c=e}=o;var u=e-c,h=c+l-(e+i);o=-.1<u-a?0:a;const d=-.1<h-a?0:a;var p=Math.max(o&&u,0);const f=Math.max(d&&h,0);h=[t+o,e],u=[t+n-o,e];const g=[t+n,e+o],m=[t+n,e+i-d],_=[t+n-d,e+i],y=[t+d,e+i],v=[t,e+i-d],C=[t,e+o];if(p){const t=Math.sqrt(Math.pow(o,2)-Math.pow(o-p,2));h[0]-=t,u[0]+=t,g[1]=C[1]=e+o-p}return i<o-p&&(p=Math.sqrt(Math.pow(o,2)-Math.pow(o-p-i,2)),g[0]=m[0]=t+n-o+p,_[0]=Math.min(g[0],_[0]),y[0]=Math.max(m[0],y[0]),v[0]=C[0]=t+o-p,g[1]=C[1]=e+i),f&&(p=Math.sqrt(Math.pow(d,2)-Math.pow(d-f,2)),_[0]+=p,y[0]-=p,m[1]=v[1]=e+i-d+f),i<d-f&&(i=Math.sqrt(Math.pow(d,2)-Math.pow(d-f-i,2)),g[0]=m[0]=t+n-d+i,u[0]=Math.min(g[0],u[0]),h[0]=Math.max(m[0],h[0]),v[0]=C[0]=t+d-i,m[1]=v[1]=e),s.length=0,s.push(["M",...h],["L",...u],["A",o,o,0,0,1,...g],["L",...m],["A",d,d,0,0,1,..._],["L",...y],["A",d,d,0,0,1,...v],["L",...C],["A",o,o,0,0,1,...h],["Z"]),s},a(t.pie,"afterTranslate",(function(){const t=p(this.options.borderRadius);for(const e of this.points){const n=e.shapeArgs;n&&(n.borderRadius=h(t.radius,(n.r||0)-(n.innerR||0)))}})),a(e,"afterColumnTranslate",(function(){var t,e;if(this.options.borderRadius&&(!this.chart.is3d||!this.chart.is3d())){const{options:r,yAxis:a}=this,u="percent"===r.stacking;var n=null===(e=null===(t=s.plotOptions)||void 0===t?void 0:t[this.type])||void 0===e?void 0:e.borderRadius;t=p(r.borderRadius,c(n)?n:{}),e=a.options.reversed;for(const s of this.points)if(({shapeArgs:n}=s),"roundedRect"===s.shapeType&&n){const{width:c=0,height:d=0,y:p=0}=n;var i=p,o=d;"stack"===t.scope&&s.stackTotal&&(i=a.translate(u?100:s.stackTotal,!1,!0,!1,!0),o=a.translate(r.threshold||0,!1,!0,!1,!0),i=(o=this.crispCol(0,Math.min(i,o),0,Math.abs(i-o))).y,o=o.height);const f=-1==(s.negative?-1:1)*(e?-1:1);let g=t.where;!g&&this.is("waterfall")&&Math.abs((s.yBottom||0)-(this.translatedThreshold||0))>this.borderWidth&&(g="all"),g||(g="end");const m=Math.min(h(t.radius,c),c/2,"all"===g?d/2:1/0)||0;"end"===g&&(f&&(i-=m),o+=m),l(n,{brBoxHeight:o,brBoxY:i,r:m})}}}),{order:9})}return e={optionsToObject:p}})),e(n,"Core/Responsive.js",[n["Core/Utilities.js"]],(function(t){const{extend:e,find:n,isArray:i,isObject:o,merge:r,objectEach:s,pick:a,splat:l,uniqueKey:c}=t;var u;return function(u){function h(t){const e=this,n={};return function t(n,r,a,c){let u;s(n,(function(n,s){if(!c&&-1<e.collectionsWithUpdate.indexOf(s)&&r[s])for(n=l(n),a[s]=[],u=0;u<Math.max(n.length,r[s].length);u++)r[s][u]&&(void 0===n[u]?a[s][u]=r[s][u]:(a[s][u]={},t(n[u],r[s][u],a[s][u],c+1)));else o(n)?(a[s]=i(n)?[]:{},t(n,r[s]||{},a[s],c+1)):a[s]=void 0===r[s]?null:r[s]}))}(t,this.options,n,0),n}function d(t,e){const n=t.condition;(n.callback||function(){return this.chartWidth<=a(n.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=a(n.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=a(n.minWidth,0)&&this.chartHeight>=a(n.minHeight,0)}).call(this)&&e.push(t._id)}function p(t,e){const i=this.options.responsive;var o=this.currentResponsive;let s=[];!e&&i&&i.rules&&i.rules.forEach((t=>{void 0===t._id&&(t._id=c()),this.matchResponsiveRule(t,s)}),this),e=r(...s.map((t=>n((i||{}).rules||[],(e=>e._id===t)))).map((t=>t&&t.chartOptions))),e.isResponsiveOptions=!0,s=s.toString()||void 0,s!==(o&&o.ruleIds)&&(o&&this.update(o.undoOptions,t,!0),s?((o=this.currentOptions(e)).isResponsiveOptions=!0,this.currentResponsive={ruleIds:s,mergedOptions:e,undoOptions:o},this.update(e,t,!0)):this.currentResponsive=void 0)}const f=[];u.compose=function(n){return t.pushUnique(f,n)&&e(n.prototype,{currentOptions:h,matchResponsiveRule:d,setResponsive:p}),n}}(u||(u={})),u})),e(n,"masters/highcharts.src.js",[n["Core/Globals.js"],n["Core/Utilities.js"],n["Core/Defaults.js"],n["Core/Animation/Fx.js"],n["Core/Animation/AnimationUtilities.js"],n["Core/Renderer/HTML/AST.js"],n["Core/FormatUtilities.js"],n["Core/Renderer/RendererUtilities.js"],n["Core/Renderer/SVG/SVGElement.js"],n["Core/Renderer/SVG/SVGRenderer.js"],n["Core/Renderer/HTML/HTMLElement.js"],n["Core/Renderer/HTML/HTMLRenderer.js"],n["Core/Axis/Axis.js"],n["Core/Axis/DateTimeAxis.js"],n["Core/Axis/LogarithmicAxis.js"],n["Core/Axis/PlotLineOrBand/PlotLineOrBand.js"],n["Core/Axis/Tick.js"],n["Core/Tooltip.js"],n["Core/Series/Point.js"],n["Core/Pointer.js"],n["Core/Legend/Legend.js"],n["Core/Chart/Chart.js"],n["Core/Axis/Stacking/StackingAxis.js"],n["Core/Axis/Stacking/StackItem.js"],n["Core/Series/Series.js"],n["Core/Series/SeriesRegistry.js"],n["Series/Column/ColumnSeries.js"],n["Series/Column/ColumnDataLabel.js"],n["Series/Pie/PieSeries.js"],n["Series/Pie/PieDataLabel.js"],n["Core/Series/DataLabel.js"],n["Core/Responsive.js"],n["Core/Color/Color.js"],n["Core/Time.js"]],(function(t,e,n,i,o,r,s,a,l,c,u,h,d,p,f,g,m,_,y,v,C,b,E,S,w,O,x,P,T,M,D,R,A,L){return t.animate=o.animate,t.animObject=o.animObject,t.getDeferredAnimation=o.getDeferredAnimation,t.setAnimation=o.setAnimation,t.stop=o.stop,t.timers=i.timers,t.AST=r,t.Axis=d,t.Chart=b,t.chart=b.chart,t.Fx=i,t.Legend=C,t.PlotLineOrBand=g,t.Point=y,t.Pointer=v,t.Series=w,t.StackItem=S,t.SVGElement=l,t.SVGRenderer=c,t.Tick=m,t.Time=L,t.Tooltip=_,t.Color=A,t.color=A.parse,h.compose(c),u.compose(l),v.compose(b),C.compose(b),t.defaultOptions=n.defaultOptions,t.getOptions=n.getOptions,t.time=n.defaultTime,t.setOptions=n.setOptions,t.dateFormat=s.dateFormat,t.format=s.format,t.numberFormat=s.numberFormat,t.addEvent=e.addEvent,t.arrayMax=e.arrayMax,t.arrayMin=e.arrayMin,t.attr=e.attr,t.clearTimeout=e.clearTimeout,t.correctFloat=e.correctFloat,t.createElement=e.createElement,t.css=e.css,t.defined=e.defined,t.destroyObjectProperties=e.destroyObjectProperties,t.discardElement=e.discardElement,t.distribute=a.distribute,t.erase=e.erase,t.error=e.error,t.extend=e.extend,t.extendClass=e.extendClass,t.find=e.find,t.fireEvent=e.fireEvent,t.getMagnitude=e.getMagnitude,t.getStyle=e.getStyle,t.inArray=e.inArray,t.isArray=e.isArray,t.isClass=e.isClass,t.isDOMElement=e.isDOMElement,t.isFunction=e.isFunction,t.isNumber=e.isNumber,t.isObject=e.isObject,t.isString=e.isString,t.keys=e.keys,t.merge=e.merge,t.normalizeTickInterval=e.normalizeTickInterval,t.objectEach=e.objectEach,t.offset=e.offset,t.pad=e.pad,t.pick=e.pick,t.pInt=e.pInt,t.relativeLength=e.relativeLength,t.removeEvent=e.removeEvent,t.seriesType=O.seriesType,t.splat=e.splat,t.stableSort=e.stableSort,t.syncTimeout=e.syncTimeout,t.timeUnits=e.timeUnits,t.uniqueKey=e.uniqueKey,t.useSerialIds=e.useSerialIds,t.wrap=e.wrap,P.compose(x),D.compose(w),p.compose(d),f.compose(d),M.compose(T),g.compose(d),R.compose(b),E.compose(d,b,w),_.compose(v),t})),n["masters/highcharts.src.js"]._modules=n,n["masters/highcharts.src.js"]},t.exports?(r.default=r,t.exports=o.document?r(o):r):void 0===(i=function(){return r(o)}.call(e,n,e,t))||(t.exports=i)},1913:(t,e,n)=>{"use strict";var i,o,r;r=function(t){function e(t,e,n,i){t.hasOwnProperty(e)||(t[e]=i.apply(null,n),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:e,module:t[e]}})))}e(t=t?t._modules:{},"Core/Axis/NavigatorAxisComposition.js",[t["Core/Globals.js"],t["Core/Utilities.js"]],(function(t,e){function n(){this.navigatorAxis||(this.navigatorAxis=new h(this))}function i(t){var e=this.chart.options,n=e.navigator;const i=this.navigatorAxis,r=e.chart.zooming.pinchType,s=e.rangeSelector;e=e.chart.zooming.type,this.isXAxis&&(n&&n.enabled||s&&s.enabled)&&("y"===e?t.zoomed=!1:(!o&&"xy"===e||o&&"xy"===r)&&this.options.range&&(n=i.previousZoom,a(t.newMin)?i.previousZoom=[this.min,this.max]:n&&(t.newMin=n[0],t.newMax=n[1],i.previousZoom=void 0))),void 0!==t.zoomed&&t.preventDefault()}const{isTouchDevice:o}=t,{addEvent:r,correctFloat:s,defined:a,isNumber:l,pick:c}=e,u=[];class h{static compose(t){e.pushUnique(u,t)&&(t.keepProps.push("navigatorAxis"),r(t,"init",n),r(t,"zoom",i))}constructor(t){this.axis=t}destroy(){this.axis=void 0}toFixedRange(t,e,n,i){var o=this.axis,r=o.chart;t=c(n,o.translate(t,!0,!o.horiz)),e=c(i,o.translate(e,!0,!o.horiz)),r=r&&r.fixedRange,o=(o.pointRange||0)/2;const u=r&&(e-t)/r;return a(n)||(t=s(t+o)),a(i)||(e=s(e-o)),.7<u&&1.3>u&&(i?t=e-r:e=t+r),l(t)&&l(e)||(t=e=void 0),{min:t,max:e}}}return h})),e(t,"Stock/Navigator/NavigatorDefaults.js",[t["Core/Color/Color.js"],t["Core/Series/SeriesRegistry.js"]],(function(t,e){return({parse:t}=t),({seriesTypes:e}=e),e={height:40,margin:25,maskInside:!0,handles:{width:7,height:15,symbols:["navigator-handle","navigator-handle"],enabled:!0,lineWidth:1,backgroundColor:"#f2f2f2",borderColor:"#999999"},maskFill:t("#667aff").setOpacity(.3).get(),outlineColor:"#999999",outlineWidth:1,series:{type:void 0===e.areaspline?"line":"areaspline",fillOpacity:.05,lineWidth:1,compare:null,sonification:{enabled:!1},dataGrouping:{approximation:"average",enabled:!0,groupPixelWidth:2,firstAnchor:"firstPoint",anchor:"middle",lastAnchor:"lastPoint",units:[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2,3,4]],["week",[1,2,3]],["month",[1,3,6]],["year",null]]},dataLabels:{enabled:!1,zIndex:2},id:"highcharts-navigator-series",className:"highcharts-navigator-series",lineColor:null,marker:{enabled:!1},threshold:null},xAxis:{overscroll:0,className:"highcharts-navigator-xaxis",tickLength:0,lineWidth:0,gridLineColor:"#e6e6e6",gridLineWidth:1,tickPixelInterval:200,labels:{align:"left",style:{color:"#000000",fontSize:"0.7em",opacity:.6,textOutline:"2px contrast"},x:3,y:-4},crosshair:!1},yAxis:{className:"highcharts-navigator-yaxis",gridLineWidth:0,startOnTick:!1,endOnTick:!1,minPadding:.1,maxPadding:.1,labels:{enabled:!1},crosshair:!1,title:{text:null},tickLength:0,tickWidth:0}}})),e(t,"Stock/Navigator/NavigatorSymbols.js",[],(function(){return{"navigator-handle":function(t,e,n,i,o={}){return t=o.width?o.width/2:n,e=Math.round(t/3)+.5,[["M",-t-1,.5],["L",t,.5],["L",t,(i=o.height||i)+.5],["L",-t-1,i+.5],["L",-t-1,.5],["M",-e,4],["L",-e,i-3],["M",e-1,4],["L",e-1,i-3]]}}})),e(t,"Stock/Navigator/NavigatorComposition.js",[t["Core/Defaults.js"],t["Core/Globals.js"],t["Core/Axis/NavigatorAxisComposition.js"],t["Stock/Navigator/NavigatorDefaults.js"],t["Stock/Navigator/NavigatorSymbols.js"],t["Core/Renderer/RendererRegistry.js"],t["Core/Utilities.js"]],(function(t,e,n,i,o,r,s){function a(){this.navigator&&this.navigator.setBaseSeries(null,!1)}function l(){var t;const e=this.legend,n=this.navigator;let i,o,r;if(n){i=e&&e.options,o=n.xAxis,r=n.yAxis;const{scrollbarHeight:s,scrollButtonSize:a}=n;this.inverted?(n.left=n.opposite?this.chartWidth-s-n.height:this.spacing[3]+s,n.top=this.plotTop+a):(n.left=E(o.left,this.plotLeft+a),n.top=n.navigatorOptions.top||this.chartHeight-n.height-s-((null===(t=this.scrollbar)||void 0===t?void 0:t.options.margin)||0)-this.spacing[2]-(this.rangeSelector&&this.extraBottomMargin?this.rangeSelector.getHeight():0)-(i&&"bottom"===i.verticalAlign&&"proximate"!==i.layout&&i.enabled&&!i.floating?e.legendHeight+E(i.margin,10):0)-(this.titleOffset?this.titleOffset[2]:0)),o&&r&&(this.inverted?o.options.left=r.options.left=n.left:o.options.top=r.options.top=n.top,o.setAxisSize(),r.setAxisSize())}}function c(t){this.navigator||this.scroller||!this.options.navigator.enabled&&!this.options.scrollbar.enabled||(this.scroller=this.navigator=new w(this),E(t.redraw,!0)&&this.redraw(t.animation))}function u(){const t=this.options;(t.navigator.enabled||t.scrollbar.enabled)&&(this.scroller=this.navigator=new w(this))}function h(){const t=this.options,e=t.navigator,n=t.rangeSelector;if((e&&e.enabled||n&&n.enabled)&&(!_&&"x"===t.chart.zooming.type||_&&"x"===t.chart.zooming.pinchType))return!1}function d(t){const e=t.navigator;e&&t.xAxis[0]&&(t=t.xAxis[0].getExtremes(),e.render(t.min,t.max))}function p(t){const e=t.options.navigator||{},n=t.options.scrollbar||{};this.navigator||this.scroller||!e.enabled&&!n.enabled||(b(!0,this.options.navigator,e),b(!0,this.options.scrollbar,n),delete t.options.navigator,delete t.options.scrollbar)}function f(){this.chart.navigator&&!this.options.isInternal&&this.chart.navigator.setBaseSeries(null,!1)}const{defaultOptions:g,setOptions:m}=t,{isTouchDevice:_}=e,{getRendererType:y}=r,{addEvent:v,extend:C,merge:b,pick:E}=s,S=[];let w;return{compose:function(t,e,r,_){n.compose(t),w=r,s.pushUnique(S,e)&&(e.prototype.callbacks.push(d),v(e,"afterAddSeries",a),v(e,"afterSetChartSize",l),v(e,"afterUpdate",c),v(e,"beforeRender",u),v(e,"beforeShowResetZoom",h),v(e,"update",p)),s.pushUnique(S,_)&&v(_,"afterUpdate",f),s.pushUnique(S,y)&&C(y().prototype.symbols,o),s.pushUnique(S,m)&&C(g,{navigator:i})}}})),e(t,"Core/Axis/ScrollbarAxis.js",[t["Core/Utilities.js"]],(function(t){const{addEvent:e,defined:n,pick:i}=t,o=[];return class{static compose(r,s){if(!t.pushUnique(o,r))return r;const a=t=>{const e=i(t.options&&t.options.min,t.min),o=i(t.options&&t.options.max,t.max);return{axisMin:e,axisMax:o,scrollMin:n(t.dataMin)?Math.min(e,t.min,t.dataMin,i(t.threshold,1/0)):e,scrollMax:n(t.dataMax)?Math.max(o,t.max,t.dataMax,i(t.threshold,-1/0)):o}};return e(r,"afterInit",(function(){const t=this;t.options&&t.options.scrollbar&&t.options.scrollbar.enabled&&(t.options.scrollbar.vertical=!t.horiz,t.options.startOnTick=t.options.endOnTick=!1,t.scrollbar=new s(t.chart.renderer,t.options.scrollbar,t.chart),e(t.scrollbar,"changed",(function(e){let{axisMin:i,axisMax:o,scrollMin:r,scrollMax:s}=a(t);var l=s-r;let c;n(i)&&n(o)&&(t.horiz&&!t.reversed||!t.horiz&&t.reversed?(c=r+l*this.to,l=r+l*this.from):(c=r+l*(1-this.from),l=r+l*(1-this.to)),this.shouldUpdateExtremes(e.DOMType)?t.setExtremes(l,c,!0,"mousemove"!==e.DOMType&&"touchmove"!==e.DOMType&&void 0,e):this.setRange(this.from,this.to))})))})),e(r,"afterRender",(function(){let{scrollMin:t,scrollMax:e}=a(this),i=this.scrollbar;var o=this.axisTitleMargin+(this.titleOffset||0),r=this.chart.scrollbarsOffsets;let s=this.options.margin||0;i&&(this.horiz?(this.opposite||(r[1]+=o),i.position(this.left,this.top+this.height+2+r[1]-(this.opposite?s:0),this.width,this.height),this.opposite||(r[1]+=s),o=1):(this.opposite&&(r[0]+=o),i.position(i.options.opposite?this.left+this.width+2+r[0]-(this.opposite?0:s):this.opposite?0:s,this.top,this.width,this.height),this.opposite&&(r[0]+=s),o=0),r[o]+=i.size+(i.options.margin||0),isNaN(t)||isNaN(e)||!n(this.min)||!n(this.max)||this.min===this.max?i.setRange(0,1):(r=(this.min-t)/(e-t),o=(this.max-t)/(e-t),this.horiz&&!this.reversed||!this.horiz&&this.reversed?i.setRange(r,o):i.setRange(1-o,1-r)))})),e(r,"afterGetOffset",(function(){const t=this.scrollbar;var e=t&&!t.options.opposite;e=this.horiz?2:e?3:1,t&&(this.chart.scrollbarsOffsets=[0,0],this.chart.axisOffset[e]+=t.size+(t.options.margin||0))})),r}}})),e(t,"Stock/Scrollbar/ScrollbarDefaults.js",[t["Core/Globals.js"]],(function(t){return{height:10,barBorderRadius:5,buttonBorderRadius:0,buttonsEnabled:!1,liveRedraw:void 0,margin:void 0,minWidth:6,opposite:!0,step:.2,zIndex:3,barBackgroundColor:"#cccccc",barBorderWidth:0,barBorderColor:"#cccccc",buttonArrowColor:"#333333",buttonBackgroundColor:"#e6e6e6",buttonBorderColor:"#cccccc",buttonBorderWidth:1,rifleColor:"none",trackBackgroundColor:"rgba(255, 255, 255, 0.001)",trackBorderColor:"#cccccc",trackBorderRadius:5,trackBorderWidth:1}})),e(t,"Stock/Scrollbar/Scrollbar.js",[t["Core/Defaults.js"],t["Core/Globals.js"],t["Core/Axis/ScrollbarAxis.js"],t["Stock/Scrollbar/ScrollbarDefaults.js"],t["Core/Utilities.js"]],(function(t,e,n,i,o){const{defaultOptions:r}=t,{addEvent:s,correctFloat:a,defined:l,destroyObjectProperties:c,fireEvent:u,merge:h,pick:d,removeEvent:p}=o;class f{static compose(t){n.compose(t,f)}static swapXY(t,e){return e&&t.forEach((t=>{const e=t.length;let n;for(let i=0;i<e;i+=2)n=t[i+1],"number"==typeof n&&(t[i+1]=t[i+2],t[i+2]=n)})),t}constructor(t,e,n){this._events=[],this.chart=void 0,this.from=this.chartY=this.chartX=0,this.scrollbar=this.renderer=this.options=this.group=void 0,this.scrollbarButtons=[],this.scrollbarGroup=void 0,this.scrollbarLeft=0,this.scrollbarRifles=void 0,this.scrollbarStrokeWidth=1,this.to=this.size=this.scrollbarTop=0,this.track=void 0,this.trackBorderWidth=1,this.userOptions=void 0,this.y=this.x=0,this.init(t,e,n)}addEvents(){var t=this.options.inverted?[1,0]:[0,1];const n=this.scrollbarButtons,i=this.scrollbarGroup.element,o=this.track.element,r=this.mouseDownHandler.bind(this),a=this.mouseMoveHandler.bind(this),l=this.mouseUpHandler.bind(this);t=[[n[t[0]].element,"click",this.buttonToMinClick.bind(this)],[n[t[1]].element,"click",this.buttonToMaxClick.bind(this)],[o,"click",this.trackClick.bind(this)],[i,"mousedown",r],[i.ownerDocument,"mousemove",a],[i.ownerDocument,"mouseup",l]],e.hasTouch&&t.push([i,"touchstart",r],[i.ownerDocument,"touchmove",a],[i.ownerDocument,"touchend",l]),t.forEach((function(t){s.apply(null,t)})),this._events=t}buttonToMaxClick(t){const e=(this.to-this.from)*d(this.options.step,.2);this.updatePosition(this.from+e,this.to+e),u(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:t})}buttonToMinClick(t){const e=a(this.to-this.from)*d(this.options.step,.2);this.updatePosition(a(this.from-e),a(this.to-e)),u(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:t})}cursorToScrollbarPosition(t){var e=this.options;return e=e.minWidth>this.calculatedWidth?e.minWidth:0,{chartX:(t.chartX-this.x-this.xOffset)/(this.barWidth-e),chartY:(t.chartY-this.y-this.yOffset)/(this.barWidth-e)}}destroy(){const t=this,e=t.chart.scroller;t.removeEvents(),["track","scrollbarRifles","scrollbar","scrollbarGroup","group"].forEach((function(e){t[e]&&t[e].destroy&&(t[e]=t[e].destroy())})),e&&t===e.scrollbar&&(e.scrollbar=null,c(e.scrollbarButtons))}drawScrollbarButton(t){const e=this.renderer,n=this.scrollbarButtons,i=this.options,o=this.size;var r=e.g().add(this.group);n.push(r),i.buttonsEnabled&&(r=e.rect().addClass("highcharts-scrollbar-button").add(r),this.chart.styledMode||r.attr({stroke:i.buttonBorderColor,"stroke-width":i.buttonBorderWidth,fill:i.buttonBackgroundColor}),r.attr(r.crisp({x:-.5,y:-.5,width:o+1,height:o+1,r:i.buttonBorderRadius},r.strokeWidth())),t=e.path(f.swapXY([["M",o/2+(t?-1:1),o/2-3],["L",o/2+(t?-1:1),o/2+3],["L",o/2+(t?2:-2),o/2]],i.vertical)).addClass("highcharts-scrollbar-arrow").add(n[t]),this.chart.styledMode||t.attr({fill:i.buttonArrowColor}))}init(t,e,n){this.scrollbarButtons=[],this.renderer=t,this.userOptions=e,this.options=h(i,r.scrollbar,e),this.options.margin=d(this.options.margin,10),this.chart=n,this.size=d(this.options.size,this.options.height),e.enabled&&(this.render(),this.addEvents())}mouseDownHandler(t){t=this.chart.pointer.normalize(t),t=this.cursorToScrollbarPosition(t),this.chartX=t.chartX,this.chartY=t.chartY,this.initPositions=[this.from,this.to],this.grabbedCenter=!0}mouseMoveHandler(t){var e=this.chart.pointer.normalize(t),n=this.options.vertical?"chartY":"chartX";const i=this.initPositions||[];!this.grabbedCenter||t.touches&&0===t.touches[0][n]||(n=(e=this.cursorToScrollbarPosition(e)[n])-(n=this[n]),this.hasDragged=!0,this.updatePosition(i[0]+n,i[1]+n),this.hasDragged&&u(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMType:t.type,DOMEvent:t}))}mouseUpHandler(t){this.hasDragged&&u(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMType:t.type,DOMEvent:t}),this.grabbedCenter=this.hasDragged=this.chartX=this.chartY=null}position(t,e,n,i){const{buttonsEnabled:o,margin:r=0,vertical:s}=this.options,a=this.rendered?"animate":"attr";let l=i,c=0;this.group.show(),this.x=t,this.y=e+this.trackBorderWidth,this.width=n,this.height=i,this.xOffset=l,this.yOffset=c,s?(this.width=this.yOffset=n=this.size,this.xOffset=l=0,this.yOffset=c=o?this.size:0,this.barWidth=i-(o?2*n:0),this.x=t+=r):(this.height=i=this.size,this.xOffset=l=o?this.size:0,this.barWidth=n-(o?2*i:0),this.y+=r),this.group[a]({translateX:t,translateY:this.y}),this.track[a]({width:n,height:i}),this.scrollbarButtons[1][a]({translateX:s?0:n-l,translateY:s?i-c:0})}removeEvents(){this._events.forEach((function(t){p.apply(null,t)})),this._events.length=0}render(){const t=this.renderer,e=this.options,n=this.size,i=this.chart.styledMode,o=t.g("scrollbar").attr({zIndex:e.zIndex}).hide().add();this.group=o,this.track=t.rect().addClass("highcharts-scrollbar-track").attr({r:e.trackBorderRadius||0,height:n,width:n}).add(o),i||this.track.attr({fill:e.trackBackgroundColor,stroke:e.trackBorderColor,"stroke-width":e.trackBorderWidth});const r=this.trackBorderWidth=this.track.strokeWidth();this.track.attr({x:-r%2/2,y:-r%2/2}),this.scrollbarGroup=t.g().add(o),this.scrollbar=t.rect().addClass("highcharts-scrollbar-thumb").attr({height:n-r,width:n-r,r:e.barBorderRadius||0}).add(this.scrollbarGroup),this.scrollbarRifles=t.path(f.swapXY([["M",-3,n/4],["L",-3,2*n/3],["M",0,n/4],["L",0,2*n/3],["M",3,n/4],["L",3,2*n/3]],e.vertical)).addClass("highcharts-scrollbar-rifles").add(this.scrollbarGroup),i||(this.scrollbar.attr({fill:e.barBackgroundColor,stroke:e.barBorderColor,"stroke-width":e.barBorderWidth}),this.scrollbarRifles.attr({stroke:e.rifleColor,"stroke-width":1})),this.scrollbarStrokeWidth=this.scrollbar.strokeWidth(),this.scrollbarGroup.translate(-this.scrollbarStrokeWidth%2/2,-this.scrollbarStrokeWidth%2/2),this.drawScrollbarButton(0),this.drawScrollbarButton(1)}setRange(t,e){const n=this.options,i=n.vertical;var o=n.minWidth,r=this.barWidth;const s=!this.rendered||this.hasDragged||this.chart.navigator&&this.chart.navigator.hasDragged?"attr":"animate";if(l(r)){var c=r*Math.min(e,1);t=Math.max(t,0);var u=Math.ceil(r*t);this.calculatedWidth=c=a(c-u),c<o&&(u=(r-o+c)*t,c=o),o=Math.floor(u+this.xOffset+this.yOffset),r=c/2-.5,this.from=t,this.to=e,i?(this.scrollbarGroup[s]({translateY:o}),this.scrollbar[s]({height:c}),this.scrollbarRifles[s]({translateY:r}),this.scrollbarTop=o,this.scrollbarLeft=0):(this.scrollbarGroup[s]({translateX:o}),this.scrollbar[s]({width:c}),this.scrollbarRifles[s]({translateX:r}),this.scrollbarLeft=o,this.scrollbarTop=0),12>=c?this.scrollbarRifles.hide():this.scrollbarRifles.show(),!1===n.showFull&&(0>=t&&1<=e?this.group.hide():this.group.show()),this.rendered=!0}}shouldUpdateExtremes(t){return d(this.options.liveRedraw,e.svg&&!e.isTouchDevice&&!this.chart.boosted)||"mouseup"===t||"touchend"===t||!l(t)}trackClick(t){const e=this.chart.pointer.normalize(t),n=this.to-this.from,i=this.y+this.scrollbarTop,o=this.x+this.scrollbarLeft;this.options.vertical&&e.chartY>i||!this.options.vertical&&e.chartX>o?this.updatePosition(this.from+n,this.to+n):this.updatePosition(this.from-n,this.to-n),u(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:t})}update(t){this.destroy(),this.init(this.chart.renderer,h(!0,this.options,t),this.chart)}updatePosition(t,e){1<e&&(t=a(1-a(e-t)),e=1),0>t&&(e=a(e-t),t=0),this.from=t,this.to=e}}return f.defaultOptions=i,r.scrollbar=h(!0,f.defaultOptions,r.scrollbar),f})),e(t,"Stock/Navigator/Navigator.js",[t["Core/Axis/Axis.js"],t["Core/Defaults.js"],t["Core/Globals.js"],t["Core/Axis/NavigatorAxisComposition.js"],t["Stock/Navigator/NavigatorComposition.js"],t["Stock/Scrollbar/Scrollbar.js"],t["Core/Utilities.js"]],(function(t,e,n,i,o,r,s){function a(t,...e){if((e=[].filter.call(e,C)).length)return Math[t].apply(0,e)}const{defaultOptions:l}=e,{hasTouch:c,isTouchDevice:u}=n,{addEvent:h,clamp:d,correctFloat:p,defined:f,destroyObjectProperties:g,erase:m,extend:_,find:y,isArray:v,isNumber:C,merge:b,pick:E,removeEvent:S,splat:w}=s;class O{static compose(t,e,n){o.compose(t,e,O,n)}constructor(t){this.rendered=this.range=this.outline=this.opposite=this.navigatorSize=this.navigatorSeries=this.navigatorOptions=this.navigatorGroup=this.navigatorEnabled=this.left=this.height=this.handles=this.chart=this.baseSeries=void 0,this.scrollbarHeight=0,this.zoomedMin=this.zoomedMax=this.yAxis=this.xAxis=this.top=this.size=this.shades=this.scrollButtonSize=void 0,this.init(t)}drawHandle(t,e,n,i){const o=this.navigatorOptions.handles.height;this.handles[e][i](n?{translateX:Math.round(this.left+this.height/2),translateY:Math.round(this.top+parseInt(t,10)+.5-o)}:{translateX:Math.round(this.left+parseInt(t,10)),translateY:Math.round(this.top+this.height/2-o/2-1)})}drawOutline(t,e,n,i){const o=this.navigatorOptions.maskInside;var r=this.outline.strokeWidth();const s=r/2;var a=r%2/2;const l=this.scrollButtonSize,c=this.size,u=this.top,h=u-s,d=u+(r=this.height);let p=this.left;n?(a=[["M",p+r,u-l-a],["L",p+r,n=u+e+a],["L",p,n],["M",p,e=u+t+a],["L",p+r,e],["L",p+r,u+c+l]],o&&a.push(["M",p+r,n-s],["L",p+r,e+s])):(p-=l,a=[["M",p,h],["L",t+=p+l-a,h],["L",t,d],["M",e+=p+l-a,d],["L",e,h],["L",p+c+2*l,u+s]],o&&a.push(["M",t-s,h],["L",e+s,h])),this.outline[i]({d:a})}drawMasks(t,e,n,i){const o=this.left,r=this.top,s=this.height;let a,l,c,u;n?(c=[o,o,o],u=[r,r+t,r+e],l=[s,s,s],a=[t,e-t,this.size-e]):(c=[o,o+t,o+e],u=[r,r,r],l=[t,e-t,this.size-e],a=[s,s,s]),this.shades.forEach(((t,e)=>{t[i]({x:c[e],y:u[e],width:l[e],height:a[e]})}))}renderElements(){const t=this,e=t.navigatorOptions,n=e.maskInside,i=t.chart,o=i.renderer,r={cursor:i.inverted?"ns-resize":"ew-resize"},s=t.navigatorGroup=o.g("navigator").attr({zIndex:8,visibility:"hidden"}).add();if([!n,n,!n].forEach(((n,a)=>{const l=o.rect().addClass("highcharts-navigator-mask"+(1===a?"-inside":"-outside")).add(s);i.styledMode||(l.attr({fill:n?e.maskFill:"rgba(0,0,0,0)"}),1===a&&l.css(r)),t.shades[a]=l})),t.outline=o.path().addClass("highcharts-navigator-outline").add(s),i.styledMode||t.outline.attr({"stroke-width":e.outlineWidth,stroke:e.outlineColor}),e.handles&&e.handles.enabled){const n=e.handles,{height:a,width:l}=n;[0,1].forEach((e=>{t.handles[e]=o.symbol(n.symbols[e],-l/2-1,0,l,a,n),i.inverted&&t.handles[e].attr({rotation:90,rotationOriginX:Math.floor(-l/2),rotationOriginY:(a+l)/2}),t.handles[e].attr({zIndex:7-e}).addClass("highcharts-navigator-handle highcharts-navigator-handle-"+["left","right"][e]).add(s),i.styledMode||t.handles[e].attr({fill:n.backgroundColor,stroke:n.borderColor,"stroke-width":n.lineWidth}).css(r)}))}}update(t){(this.series||[]).forEach((t=>{t.baseSeries&&delete t.baseSeries.navigatorSeries})),this.destroy(),b(!0,this.chart.options.navigator,t),this.init(this.chart)}render(t,e,n,i){var o=this.chart;const r=this.xAxis,s=r.pointRange||0;var a=r.navigatorAxis.fake?o.xAxis[0]:r;const l=this.navigatorEnabled;var c=this.rendered,u=o.inverted;const h=o.xAxis[0].minRange,g=o.xAxis[0].options.maxRange,m=this.scrollButtonSize;let _,y=this.scrollbarHeight;if(!this.hasDragged||f(n)){if(t=p(t-s/2),e=p(e+s/2),!C(t)||!C(e)){if(!c)return;n=0,i=E(r.width,a.width)}this.left=E(r.left,o.plotLeft+m+(u?o.plotWidth:0));var v=this.size=_=E(r.len,(u?o.plotHeight:o.plotWidth)-2*m);o=u?y:_+2*m,n=E(n,r.toPixels(t,!0)),i=E(i,r.toPixels(e,!0)),C(n)&&1/0!==Math.abs(n)||(n=0,i=o),t=r.toValue(n,!0),e=r.toValue(i,!0);var b=Math.abs(p(e-t));b<h?this.grabbedLeft?n=r.toPixels(e-h-s,!0):this.grabbedRight&&(i=r.toPixels(t+h+s,!0)):f(g)&&p(b-s)>g&&(this.grabbedLeft?n=r.toPixels(e-g-s,!0):this.grabbedRight&&(i=r.toPixels(t+g+s,!0))),this.zoomedMax=d(Math.max(n,i),0,v),this.zoomedMin=d(this.fixedWidth?this.zoomedMax-this.fixedWidth:Math.min(n,i),0,v),this.range=this.zoomedMax-this.zoomedMin,v=Math.round(this.zoomedMax),n=Math.round(this.zoomedMin),l&&(this.navigatorGroup.attr({visibility:"inherit"}),c=c&&!this.hasDragged?"animate":"attr",this.drawMasks(n,v,u,c),this.drawOutline(n,v,u,c),this.navigatorOptions.handles.enabled&&(this.drawHandle(n,0,u,c),this.drawHandle(v,1,u,c))),this.scrollbar&&(u?(u=this.top-m,a=this.left-y+(l||!a.opposite?0:(a.titleOffset||0)+a.axisTitleMargin),y=_+2*m):(u=this.top+(l?this.height:-y),a=this.left-m),this.scrollbar.position(a,u,o,y),this.scrollbar.setRange(this.zoomedMin/(_||1),this.zoomedMax/(_||1))),this.rendered=!0}}addMouseEvents(){const t=this,e=t.chart,n=e.container;let i,o,r=[];t.mouseMoveHandler=i=function(e){t.onMouseMove(e)},t.mouseUpHandler=o=function(e){t.onMouseUp(e)},r=t.getPartsEvents("mousedown"),r.push(h(e.renderTo,"mousemove",i),h(n.ownerDocument,"mouseup",o)),c&&(r.push(h(e.renderTo,"touchmove",i),h(n.ownerDocument,"touchend",o)),r.concat(t.getPartsEvents("touchstart"))),t.eventsToUnbind=r,t.series&&t.series[0]&&r.push(h(t.series[0].xAxis,"foundExtremes",(function(){e.navigator.modifyNavigatorAxisExtremes()})))}getPartsEvents(t){const e=this,n=[];return["shades","handles"].forEach((function(i){e[i].forEach((function(o,r){n.push(h(o.element,t,(function(t){e[i+"Mousedown"](t,r)})))}))})),n}shadesMousedown(t,e){t=this.chart.pointer.normalize(t);const n=this.chart,i=this.xAxis,o=this.zoomedMin,r=this.size,s=this.range;let a,l,c=this.left,u=t.chartX;n.inverted&&(u=t.chartY,c=this.top),1===e?(this.grabbedCenter=u,this.fixedWidth=s,this.dragOffset=u-o):(t=u-c-s/2,0===e?t=Math.max(0,t):2===e&&t+s>=r&&(t=r-s,this.reversedExtremes?(t-=s,l=this.getUnionExtremes().dataMin):a=this.getUnionExtremes().dataMax),t!==o&&(this.fixedWidth=s,e=i.navigatorAxis.toFixedRange(t,t+s,l,a),f(e.min)&&n.xAxis[0].setExtremes(Math.min(e.min,e.max),Math.max(e.min,e.max),!0,null,{trigger:"navigator"})))}handlesMousedown(t,e){this.chart.pointer.normalize(t);const n=(t=this.chart).xAxis[0],i=this.reversedExtremes;0===e?(this.grabbedLeft=!0,this.otherHandlePos=this.zoomedMax,this.fixedExtreme=i?n.min:n.max):(this.grabbedRight=!0,this.otherHandlePos=this.zoomedMin,this.fixedExtreme=i?n.max:n.min),t.fixedRange=null}onMouseMove(t){const e=this;var n=e.chart;const i=e.navigatorSize,o=e.range,r=e.dragOffset,s=n.inverted;let a=e.left;t.touches&&0===t.touches[0].pageX||(t=n.pointer.normalize(t),n=t.chartX,s&&(a=e.top,n=t.chartY),e.grabbedLeft?(e.hasDragged=!0,e.render(0,0,n-a,e.otherHandlePos)):e.grabbedRight?(e.hasDragged=!0,e.render(0,0,e.otherHandlePos,n-a)):e.grabbedCenter&&(e.hasDragged=!0,n<r?n=r:n>i+r-o&&(n=i+r-o),e.render(0,0,n-r,n-r+o)),e.hasDragged&&e.scrollbar&&E(e.scrollbar.options.liveRedraw,!u&&!this.chart.boosted)&&(t.DOMType=t.type,setTimeout((function(){e.onMouseUp(t)}),0)))}onMouseUp(t){var e=this.chart,n=this.xAxis,i=this.scrollbar;const o=t.DOMEvent||t,r=e.inverted,s=this.rendered&&!this.hasDragged?"animate":"attr";let a,l;(!this.hasDragged||i&&i.hasDragged)&&"scrollbar"!==t.trigger||(i=this.getUnionExtremes(),this.zoomedMin===this.otherHandlePos?a=this.fixedExtreme:this.zoomedMax===this.otherHandlePos&&(l=this.fixedExtreme),this.zoomedMax===this.size&&(l=this.reversedExtremes?i.dataMin:i.dataMax),0===this.zoomedMin&&(a=this.reversedExtremes?i.dataMax:i.dataMin),n=n.navigatorAxis.toFixedRange(this.zoomedMin,this.zoomedMax,a,l),f(n.min)&&e.xAxis[0].setExtremes(Math.min(n.min,n.max),Math.max(n.min,n.max),!0,!this.hasDragged&&null,{trigger:"navigator",triggerOp:"navigator-drag",DOMEvent:o})),"mousemove"!==t.DOMType&&"touchmove"!==t.DOMType&&(this.grabbedLeft=this.grabbedRight=this.grabbedCenter=this.fixedWidth=this.fixedExtreme=this.otherHandlePos=this.hasDragged=this.dragOffset=null),this.navigatorEnabled&&C(this.zoomedMin)&&C(this.zoomedMax)&&(e=Math.round(this.zoomedMin),t=Math.round(this.zoomedMax),this.shades&&this.drawMasks(e,t,r,s),this.outline&&this.drawOutline(e,t,r,s),this.navigatorOptions.handles.enabled&&Object.keys(this.handles).length===this.handles.length&&(this.drawHandle(e,0,r,s),this.drawHandle(t,1,r,s)))}removeEvents(){this.eventsToUnbind&&(this.eventsToUnbind.forEach((function(t){t()})),this.eventsToUnbind=void 0),this.removeBaseSeriesEvents()}removeBaseSeriesEvents(){const t=this.baseSeries||[];this.navigatorEnabled&&t[0]&&(!1!==this.navigatorOptions.adaptToUpdatedData&&t.forEach((function(t){S(t,"updatedData",this.updatedDataHandler)}),this),t[0].xAxis&&S(t[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes))}init(e){var n=e.options,o=n.navigator||{},s=o.enabled,l=n.scrollbar||{},c=l.enabled;n=s&&o.height||0;var u=c&&l.height||0;const d=l.buttonsEnabled&&u||0;this.handles=[],this.shades=[],this.chart=e,this.setBaseSeries(),this.height=n,this.scrollbarHeight=u,this.scrollButtonSize=d,this.scrollbarEnabled=c,this.navigatorEnabled=s,this.navigatorOptions=o,this.scrollbarOptions=l,this.opposite=E(o.opposite,!(s||!e.inverted));const p=this;s=p.baseSeries,l=e.xAxis.length,c=e.yAxis.length,u=s&&s[0]&&s[0].xAxis||e.xAxis[0]||{options:{}},e.isDirtyBox=!0,p.navigatorEnabled?(p.xAxis=new t(e,b({breaks:u.options.breaks,ordinal:u.options.ordinal},o.xAxis,{id:"navigator-x-axis",yAxis:"navigator-y-axis",isX:!0,type:"datetime",index:l,isInternal:!0,offset:0,keepOrdinalPadding:!0,startOnTick:!1,endOnTick:!1,minPadding:0,maxPadding:0,zoomEnabled:!1},e.inverted?{offsets:[d,0,-d,0],width:n}:{offsets:[0,-d,0,d],height:n})),p.yAxis=new t(e,b(o.yAxis,{id:"navigator-y-axis",alignTicks:!1,offset:0,index:c,isInternal:!0,reversed:E(o.yAxis&&o.yAxis.reversed,e.yAxis[0]&&e.yAxis[0].reversed,!1),zoomEnabled:!1},e.inverted?{width:n}:{height:n})),s||o.series.data?p.updateNavigatorSeries(!1):0===e.series.length&&(p.unbindRedraw=h(e,"beforeRedraw",(function(){0<e.series.length&&!p.series&&(p.setBaseSeries(),p.unbindRedraw())}))),p.reversedExtremes=e.inverted&&!p.xAxis.reversed||!e.inverted&&p.xAxis.reversed,p.renderElements(),p.addMouseEvents()):(p.xAxis={chart:e,navigatorAxis:{fake:!0},translate:function(t,n){var i=e.xAxis[0];const o=i.getExtremes(),r=i.len-2*d,s=a("min",i.options.min,o.dataMin);return i=a("max",i.options.max,o.dataMax)-s,n?t*i/r+s:r*(t-s)/i},toPixels:function(t){return this.translate(t)},toValue:function(t){return this.translate(t,!0)}},p.xAxis.navigatorAxis.axis=p.xAxis,p.xAxis.navigatorAxis.toFixedRange=i.prototype.toFixedRange.bind(p.xAxis.navigatorAxis)),e.options.scrollbar.enabled&&(o=b(e.options.scrollbar,{vertical:e.inverted}),!C(o.margin)&&p.navigatorEnabled&&(o.margin=e.inverted?-3:3),e.scrollbar=p.scrollbar=new r(e.renderer,o,e),h(p.scrollbar,"changed",(function(t){var e=p.size;const n=e*this.to;e*=this.from,p.hasDragged=p.scrollbar.hasDragged,p.render(0,0,e,n),this.shouldUpdateExtremes(t.DOMType)&&setTimeout((function(){p.onMouseUp(t)}))}))),p.addBaseSeriesEvents(),p.addChartEvents()}getUnionExtremes(t){const e=this.chart.xAxis[0],n=this.xAxis,i=n.options,o=e.options;let r;return t&&null===e.dataMin||(r={dataMin:E(i&&i.min,a("min",o.min,e.dataMin,n.dataMin,n.min)),dataMax:E(i&&i.max,a("max",o.max,e.dataMax,n.dataMax,n.max))}),r}setBaseSeries(t,e){const n=this.chart,i=this.baseSeries=[];t=t||n.options&&n.options.navigator.baseSeries||(n.series.length?y(n.series,(t=>!t.options.isInternal)).index:0),(n.series||[]).forEach(((e,n)=>{e.options.isInternal||!e.options.showInNavigator&&(n!==t&&e.options.id!==t||!1===e.options.showInNavigator)||i.push(e)})),this.xAxis&&!this.xAxis.navigatorAxis.fake&&this.updateNavigatorSeries(!0,e)}updateNavigatorSeries(t,e){const n=this,i=n.chart,o=n.baseSeries,r={enableMouseTracking:!1,index:null,linkedTo:null,group:"nav",padXAxis:!1,xAxis:"navigator-x-axis",yAxis:"navigator-y-axis",showInLegend:!1,stacking:void 0,isInternal:!0,states:{inactive:{opacity:1}}},s=n.series=(n.series||[]).filter((t=>{const e=t.baseSeries;return!(0>o.indexOf(e)&&(e&&(S(e,"updatedData",n.updatedDataHandler),delete e.navigatorSeries),t.chart&&t.destroy(),1))}));let a,c,u,h=n.navigatorOptions.series;o&&o.length&&o.forEach((t=>{const d=t.navigatorSeries;var p=_({color:t.color,visible:t.visible},v(h)?l.navigator.series:h);d&&!1===n.navigatorOptions.adaptToUpdatedData||(r.name="Navigator "+o.length,a=t.options||{},u=a.navigatorOptions||{},p.dataLabels=w(p.dataLabels),c=b(a,r,p,u),c.pointRange=E(p.pointRange,u.pointRange,l.plotOptions[c.type||"line"].pointRange),p=u.data||p.data,n.hasNavigatorData=n.hasNavigatorData||!!p,c.data=p||a.data&&a.data.slice(0),d&&d.options?d.update(c,e):(t.navigatorSeries=i.initSeries(c),t.navigatorSeries.baseSeries=t,s.push(t.navigatorSeries)))})),(!h.data||o&&o.length)&&!v(h)||(n.hasNavigatorData=!1,h=w(h),h.forEach(((t,e)=>{r.name="Navigator "+(s.length+1),c=b(l.navigator.series,{color:i.series[e]&&!i.series[e].options.isInternal&&i.series[e].color||i.options.colors[e]||i.options.colors[0]},r,t),c.data=t.data,c.data&&(n.hasNavigatorData=!0,s.push(i.initSeries(c)))}))),t&&this.addBaseSeriesEvents()}addBaseSeriesEvents(){const t=this,e=t.baseSeries||[];e[0]&&e[0].xAxis&&e[0].eventsToUnbind.push(h(e[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes)),e.forEach((e=>{e.eventsToUnbind.push(h(e,"show",(function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!0,!1)}))),e.eventsToUnbind.push(h(e,"hide",(function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!1,!1)}))),!1!==this.navigatorOptions.adaptToUpdatedData&&e.xAxis&&e.eventsToUnbind.push(h(e,"updatedData",this.updatedDataHandler)),e.eventsToUnbind.push(h(e,"remove",(function(){this.navigatorSeries&&(m(t.series,this.navigatorSeries),f(this.navigatorSeries.options)&&this.navigatorSeries.remove(!1),delete this.navigatorSeries)})))}))}getBaseSeriesMin(t){return this.baseSeries.reduce((function(t,e){return Math.min(t,e.xData&&e.xData.length?e.xData[0]:t)}),t)}modifyNavigatorAxisExtremes(){const t=this.xAxis;if(void 0!==t.getExtremes){const e=this.getUnionExtremes(!0);!e||e.dataMin===t.min&&e.dataMax===t.max||(t.min=e.dataMin,t.max=e.dataMax)}}modifyBaseAxisExtremes(){const t=this.chart.navigator;var e=this.getExtremes();const n=e.dataMin,i=e.dataMax;e=e.max-e.min;const o=t.stickToMin,r=t.stickToMax,s=E(this.options.overscroll,0),a=t.series&&t.series[0],l=!!this.setExtremes;let c,u;this.eventArgs&&"rangeSelectorButton"===this.eventArgs.trigger||(o&&(u=n,c=u+e),r&&(c=i+s,o||(u=Math.max(n,c-e,t.getBaseSeriesMin(a&&a.xData?a.xData[0]:-Number.MAX_VALUE)))),l&&(o||r)&&C(u)&&(this.min=this.userMin=u,this.max=this.userMax=c)),t.stickToMin=t.stickToMax=null}updatedDataHandler(){const t=this.chart.navigator,e=this.navigatorSeries;t.stickToMax=E(this.chart.options.navigator&&this.chart.options.navigator.stickToMax,t.reversedExtremes?0===Math.round(t.zoomedMin):Math.round(t.zoomedMax)>=Math.round(t.size)),t.stickToMin=t.shouldStickToMin(this,t),e&&!t.hasNavigatorData&&(e.options.pointStart=this.xData[0],e.setData(this.options.data,!1,null,!1))}shouldStickToMin(t,e){e=e.getBaseSeriesMin(t.xData[0]);var n=t.xAxis;t=n.max;const i=n.min;return n=n.options.range,!(!C(t)||!C(i))&&(n&&0<t-e?t-e<n:i<=e)}addChartEvents(){this.eventsToUnbind||(this.eventsToUnbind=[]),this.eventsToUnbind.push(h(this.chart,"redraw",(function(){const t=this.navigator,e=t&&(t.baseSeries&&t.baseSeries[0]&&t.baseSeries[0].xAxis||this.xAxis[0]);e&&t.render(e.min,e.max)})),h(this.chart,"getMargins",(function(){let t=this.navigator,e=t.opposite?"plotTop":"marginBottom";this.inverted&&(e=t.opposite?"marginRight":"plotLeft"),this[e]=(this[e]||0)+(t.navigatorEnabled||!this.inverted?t.height+t.scrollbarHeight:0)+t.navigatorOptions.margin})))}destroy(){this.removeEvents(),this.xAxis&&(m(this.chart.xAxis,this.xAxis),m(this.chart.axes,this.xAxis)),this.yAxis&&(m(this.chart.yAxis,this.yAxis),m(this.chart.axes,this.yAxis)),(this.series||[]).forEach((t=>{t.destroy&&t.destroy()})),"series xAxis yAxis shades outline scrollbarTrack scrollbarRifles scrollbarGroup scrollbar navigatorGroup rendered".split(" ").forEach((t=>{this[t]&&this[t].destroy&&this[t].destroy(),this[t]=null})),[this.handles].forEach((t=>{g(t)}))}}return O})),e(t,"Stock/RangeSelector/RangeSelectorDefaults.js",[],(function(){return{lang:{rangeSelectorZoom:"Zoom",rangeSelectorFrom:"",rangeSelectorTo:""},rangeSelector:{allButtonsEnabled:!1,buttons:void 0,buttonSpacing:5,dropdown:"responsive",enabled:void 0,verticalAlign:"top",buttonTheme:{width:28,height:18,padding:2,zIndex:7},floating:!1,x:0,y:0,height:void 0,inputBoxBorderColor:"none",inputBoxHeight:17,inputBoxWidth:void 0,inputDateFormat:"%e %b %Y",inputDateParser:void 0,inputEditDateFormat:"%Y-%m-%d",inputEnabled:!0,inputPosition:{align:"right",x:0,y:0},inputSpacing:5,selected:void 0,buttonPosition:{align:"left",x:0,y:0},inputStyle:{color:"#334eff",cursor:"pointer",fontSize:"0.8em"},labelStyle:{color:"#666666",fontSize:"0.8em"}}}})),e(t,"Stock/RangeSelector/RangeSelectorComposition.js",[t["Core/Defaults.js"],t["Stock/RangeSelector/RangeSelectorDefaults.js"],t["Core/Utilities.js"]],(function(t,e,n){function i(){const t=this.range,e=t.type,n=this.max,i=this.chart.time,o=function(t,n){const o="year"===e?"FullYear":"Month",r=new i.Date(t),s=i.get(o,r);return i.set(o,r,s+n),s===i.get(o,r)&&i.set("Date",r,0),r.getTime()-t};let r,s;_(t)?(r=n-t,s=t):t&&(r=n+o(n,-(t.count||1)),this.chart&&(this.chart.fixedRange=n-r));const a=v(this.dataMin,Number.MIN_VALUE);return _(r)||(r=a),r<=a&&(r=a,void 0===s&&(s=o(r,t.count)),this.newMax=Math.min(r+s,v(this.dataMax,Number.MAX_VALUE))),_(n)?!_(t)&&t&&t._offsetMin&&(r+=t._offsetMin):r=void 0,r}function o(){this.options.rangeSelector&&this.options.rangeSelector.enabled&&(this.rangeSelector=new E(this))}function r(){var t=this.axes;const e=this.rangeSelector;e&&(_(e.deferredYTDClick)&&(e.clickButton(e.deferredYTDClick),delete e.deferredYTDClick),t.forEach((t=>{t.updateNames(),t.setScale()})),this.getAxisMargins(),e.render(),t=e.options.verticalAlign,e.options.floating||("bottom"===t?this.extraBottomMargin=!0:"middle"!==t&&(this.extraTopMargin=!0)))}function s(t){let e,n,i,o;const r=t.rangeSelector,s=()=>{r&&(e=t.xAxis[0].getExtremes(),n=t.legend,o=r&&r.options.verticalAlign,_(e.min)&&r.render(e.min,e.max),n.display&&"top"===o&&o===n.options.verticalAlign&&(i=y(t.spacingBox),i.y="vertical"===n.options.layout?t.plotTop:i.y+r.getHeight(),n.group.placed=!1,n.align(i)))};r&&(m(C,(e=>e[0]===t))||C.push([t,[p(t.xAxis[0],"afterSetExtremes",(function(t){r&&r.render(t.min,t.max)})),p(t,"redraw",s)]]),s())}function a(){for(let t=0,e=C.length;t<e;++t){const e=C[t];if(e[0]===this){e[1].forEach((t=>t())),C.splice(t,1);break}}}function l(){var t=this.rangeSelector;t&&(t=t.getHeight(),this.extraTopMargin&&(this.plotTop+=t),this.extraBottomMargin&&(this.marginBottom+=t))}function c(){var t=this.rangeSelector;t&&!t.options.floating&&(t.render(),"bottom"===(t=t.options.verticalAlign)?this.extraBottomMargin=!0:"middle"!==t&&(this.extraTopMargin=!0))}function u(t){var e=t.options.rangeSelector;t=this.extraBottomMargin;const n=this.extraTopMargin;let i=this.rangeSelector;e&&e.enabled&&!f(i)&&this.options.rangeSelector&&(this.options.rangeSelector.enabled=!0,this.rangeSelector=i=new E(this)),this.extraTopMargin=this.extraBottomMargin=!1,i&&(s(this),e=e&&e.verticalAlign||i.options&&i.options.verticalAlign,i.options.floating||("bottom"===e?this.extraBottomMargin=!0:"middle"!==e&&(this.extraTopMargin=!0)),this.extraBottomMargin!==t||this.extraTopMargin!==n)&&(this.isDirtyBox=!0)}const{defaultOptions:h,setOptions:d}=t,{addEvent:p,defined:f,extend:g,find:m,isNumber:_,merge:y,pick:v}=n,C=[],b=[];let E;return{compose:function(t,f,m){E=m,n.pushUnique(b,t)&&(t.prototype.minFromRange=i),n.pushUnique(b,f)&&(p(f,"afterGetContainer",o),p(f,"beforeRender",r),p(f,"destroy",a),p(f,"getMargins",l),p(f,"render",c),p(f,"update",u),f.prototype.callbacks.push(s)),n.pushUnique(b,d)&&(g(h,{rangeSelector:e.rangeSelector}),g(h.lang,e.lang))}}})),e(t,"Stock/RangeSelector/RangeSelector.js",[t["Core/Axis/Axis.js"],t["Core/Defaults.js"],t["Core/Globals.js"],t["Stock/RangeSelector/RangeSelectorComposition.js"],t["Core/Renderer/SVG/SVGElement.js"],t["Core/Utilities.js"]],(function(t,e,n,i,o,r){const{defaultOptions:s}=e,{addEvent:a,createElement:l,css:c,defined:u,destroyObjectProperties:h,discardElement:d,extend:p,fireEvent:f,isNumber:g,merge:m,objectEach:_,pad:y,pick:v,pInt:C,splat:b}=r;class E{static compose(t,e){i.compose(t,e,E)}constructor(t){this.buttons=void 0,this.buttonOptions=E.prototype.defaultButtons,this.initialButtonGroupWidth=0,this.options=void 0,this.chart=t,this.init(t)}clickButton(e,n){const i=this.chart,o=this.buttonOptions[e],r=i.xAxis[0];var s=i.scroller&&i.scroller.getUnionExtremes()||r||{},l=o.type;const c=o.dataGrouping;let h,d,p=s.dataMin,m=s.dataMax,_=r&&Math.round(Math.min(r.max,v(m,r.max)));s=o._range;let y,C,E,S=!0;if(null!==p&&null!==m){if(i.fixedRange=s,this.setSelected(e),c&&(this.forcedDataGrouping=!0,t.prototype.setDataGrouping.call(r||{chart:this.chart},c,!1),this.frozenStates=o.preserveDataGrouping),"month"===l||"year"===l)r?(l={range:o,max:_,chart:i,dataMin:p,dataMax:m},h=r.minFromRange.call(l),g(l.newMax)&&(_=l.newMax),S=!1):s=o;else if(s)h=Math.max(_-s,p),_=Math.min(h+s,m),S=!1;else if("ytd"===l){if(!r)return void(this.deferredYTDClick=e);void 0!==m&&void 0!==p||(p=Number.MAX_VALUE,m=Number.MIN_VALUE,i.series.forEach((t=>{(t=t.xData)&&(p=Math.min(t[0],p),m=Math.max(t[t.length-1],m))})),n=!1),h=y=(l=this.getYTDExtremes(m,p,i.time.useUTC)).min,_=l.max}else"all"===l&&r&&(i.navigator&&i.navigator.baseSeries[0]&&(i.navigator.baseSeries[0].xAxis.options.range=void 0),h=p,_=m);S&&o._offsetMin&&u(h)&&(h+=o._offsetMin),o._offsetMax&&u(_)&&(_+=o._offsetMax),this.dropdown&&(this.dropdown.selectedIndex=e+1),r?r.setExtremes(h,_,v(n,!0),void 0,{trigger:"rangeSelectorButton",rangeSelectorButton:o}):(d=b(i.options.xAxis)[0],E=d.range,d.range=s,C=d.min,d.min=y,a(i,"load",(function(){d.range=E,d.min=C}))),f(this,"afterBtnClick")}}setSelected(t){this.selected=this.options.selected=t}init(t){const e=this,n=t.options.rangeSelector,i=n.buttons||e.defaultButtons.slice(),o=n.selected,r=function(){const t=e.minInput,n=e.maxInput;t&&t.blur&&f(t,"blur"),n&&n.blur&&f(n,"blur")};e.chart=t,e.options=n,e.buttons=[],e.buttonOptions=i,this.eventsToUnbind=[],this.eventsToUnbind.push(a(t.container,"mousedown",r)),this.eventsToUnbind.push(a(t,"resize",r)),i.forEach(e.computeButtonRange),void 0!==o&&i[o]&&this.clickButton(o,!1),this.eventsToUnbind.push(a(t,"load",(function(){t.xAxis&&t.xAxis[0]&&a(t.xAxis[0],"setExtremes",(function(n){this.max-this.min!==t.fixedRange&&"rangeSelectorButton"!==n.trigger&&"updatedData"!==n.trigger&&e.forcedDataGrouping&&!e.frozenStates&&this.setDataGrouping(!1,!1)}))})))}updateButtonStates(){const t=this;var e=this.chart;const n=this.dropdown,i=e.xAxis[0],o=Math.round(i.max-i.min),r=!i.hasVisibleSeries,s=e.scroller&&e.scroller.getUnionExtremes()||i,a=s.dataMin,l=s.dataMax,c=(e=t.getYTDExtremes(l,a,e.time.useUTC)).min,u=e.max,h=t.selected,d=t.options.allButtonsEnabled,p=t.buttons;let f=g(h);t.buttonOptions.forEach(((e,s)=>{var g=e._range,m=e.type,_=e.count||1;const y=p[s],v=e._offsetMax-e._offsetMin,C=s===h,b=g>l-a,E=g<i.minRange;e=0;let S=!1,w=!1;g=g===o,("month"===m||"year"===m)&&o+36e5>=864e5*{month:28,year:365}[m]*_-v&&o-36e5<=864e5*{month:31,year:366}[m]*_+v?g=!0:"ytd"===m?(g=u-c+v===o,S=!C):"all"===m&&(g=i.max-i.min>=l-a,w=!C&&f&&g),m=!d&&(b||E||w||r),_=C&&g||g&&!f&&!S||C&&t.frozenStates,m?e=3:_&&(f=!0,e=2),y.state!==e&&(y.setState(e),n&&(n.options[s+1].disabled=m,2===e&&(n.selectedIndex=s+1)),0===e&&h===s&&t.setSelected())}))}computeButtonRange(t){const e=t.type,n=t.count||1,i={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5};i[e]?t._range=i[e]*n:"month"!==e&&"year"!==e||(t._range=864e5*{month:30,year:365}[e]*n),t._offsetMin=v(t.offsetMin,0),t._offsetMax=v(t.offsetMax,0),t._range+=t._offsetMax-t._offsetMin}getInputValue(t){t="min"===t?this.minInput:this.maxInput;const e=this.chart.options.rangeSelector,n=this.chart.time;return t?("text"===t.type&&e.inputDateParser||this.defaultInputDateParser)(t.value,n.useUTC,n):0}setInputValue(t,e){const n=this.options,i=this.chart.time,o="min"===t?this.minInput:this.maxInput;if(t="min"===t?this.minDateBox:this.maxDateBox,o){var r=o.getAttribute("data-hc-time");r=u(r)?Number(r):void 0,u(e)&&(u(r)&&o.setAttribute("data-hc-time-previous",r),o.setAttribute("data-hc-time",e),r=e),o.value=i.dateFormat(this.inputTypeFormats[o.type]||n.inputEditDateFormat,r),t&&t.attr({text:i.dateFormat(n.inputDateFormat,r)})}}setInputExtremes(t,e,n){if(t="min"===t?this.minInput:this.maxInput){const i=this.inputTypeFormats[t.type],o=this.chart.time;i&&(e=o.dateFormat(i,e),t.min!==e&&(t.min=e),n=o.dateFormat(i,n),t.max!==n&&(t.max=n))}}showInput(t){const e="min"===t?this.minDateBox:this.maxDateBox;if((t="min"===t?this.minInput:this.maxInput)&&e&&this.inputGroup){const n="text"===t.type,{translateX:i,translateY:o}=this.inputGroup,{inputBoxWidth:r}=this.options;c(t,{width:n?e.width+(r?-2:20)+"px":"auto",height:e.height-2+"px",border:"2px solid silver"}),c(t,n&&r?{left:i+e.x+"px",top:o+"px"}:{left:Math.min(Math.round(e.x+i-(t.offsetWidth-e.width)/2),this.chart.chartWidth-t.offsetWidth)+"px",top:o-(t.offsetHeight-e.height)/2+"px"})}}hideInput(t){(t="min"===t?this.minInput:this.maxInput)&&c(t,{top:"-9999em",border:0,width:"1px",height:"1px"})}defaultInputDateParser(t,e,i){var o,r=t.split("/").join("-").split(" ").join("T");return-1===r.indexOf("T")&&(r+="T00:00"),e?r+="Z":((o=n.isSafari)&&(o=!(6<(o=r).length&&(o.lastIndexOf("-")===o.length-6||o.lastIndexOf("+")===o.length-6))),o&&(r+=0>=(o=new Date(r).getTimezoneOffset()/60)?`+${y(-o)}:00`:`-${y(o)}:00`)),r=Date.parse(r),g(r)||(t=t.split("-"),r=Date.UTC(C(t[0]),C(t[1])-1,C(t[2]))),i&&e&&g(r)&&(r+=i.getTimezoneOffset(r)),r}drawInput(t){function e(){const{maxInput:e,minInput:n}=a,o=i.xAxis[0];var r=i.scroller&&i.scroller.xAxis?i.scroller.xAxis:o;const s=r.dataMin;r=r.dataMax;let l=a.getInputValue(t);l!==Number(y.getAttribute("data-hc-time-previous"))&&g(l)&&(y.setAttribute("data-hc-time-previous",l),f&&e&&g(s)?l>Number(e.getAttribute("data-hc-time"))?l=void 0:l<s&&(l=s):n&&g(r)&&(l<Number(n.getAttribute("data-hc-time"))?l=void 0:l>r&&(l=r)),void 0!==l&&o.setExtremes(f?l:o.min,f?o.max:l,void 0,void 0,{trigger:"rangeSelectorInput"}))}const{chart:i,div:o,inputGroup:r}=this,a=this,u=i.renderer.style||{};var h=i.renderer;const d=i.options.rangeSelector,f="min"===t;var _=s.lang[f?"rangeSelectorFrom":"rangeSelectorTo"]||"";_=h.label(_,0).addClass("highcharts-range-label").attr({padding:_?2:0,height:_?d.inputBoxHeight:0}).add(r),h=h.label("",0).addClass("highcharts-range-input").attr({padding:2,width:d.inputBoxWidth,height:d.inputBoxHeight,"text-align":"center"}).on("click",(function(){a.showInput(t),a[t+"Input"].focus()})),i.styledMode||h.attr({stroke:d.inputBoxBorderColor,"stroke-width":1}),h.add(r);const y=l("input",{name:t,className:"highcharts-range-selector"},void 0,o);y.setAttribute("type",function(t){if(-1!==t.indexOf("%L"))return"text";const e="aAdewbBmoyY".split("").some((e=>-1!==t.indexOf("%"+e))),n="HkIlMS".split("").some((e=>-1!==t.indexOf("%"+e)));return e&&n?"datetime-local":e?"date":n?"time":"text"}(d.inputDateFormat||"%e %b %Y")),i.styledMode||(_.css(m(u,d.labelStyle)),h.css(m({color:"#333333"},u,d.inputStyle)),c(y,p({position:"absolute",border:0,boxShadow:"0 0 15px rgba(0,0,0,0.3)",width:"1px",height:"1px",padding:0,textAlign:"center",fontSize:u.fontSize,fontFamily:u.fontFamily,top:"-9999em"},d.inputStyle))),y.onfocus=()=>{a.showInput(t)},y.onblur=()=>{y===n.doc.activeElement&&e(),a.hideInput(t),a.setInputValue(t),y.blur()};let v=!1;return y.onchange=()=>{v||(e(),a.hideInput(t),y.blur())},y.onkeypress=t=>{13===t.keyCode&&e()},y.onkeydown=t=>{v=!0,38!==t.keyCode&&40!==t.keyCode||e()},y.onkeyup=()=>{v=!1},{dateBox:h,input:y,label:_}}getPosition(){var t=this.chart;const e=t.options.rangeSelector;return{buttonTop:(t="top"===e.verticalAlign?t.plotTop-t.axisOffset[0]:0)+e.buttonPosition.y,inputTop:t+e.inputPosition.y-10}}getYTDExtremes(t,e,n){const i=this.chart.time;var o=new i.Date(t);const r=i.get("FullYear",o);return n=n?i.Date.UTC(r,0,1):+new i.Date(r,0,1),e=Math.max(e,n),o=o.getTime(),{max:Math.min(t||o,o),min:e}}render(t,e){var n=this.chart,i=n.renderer;const o=n.container;var r=n.options;const s=r.rangeSelector,a=v(r.chart.style&&r.chart.style.zIndex,0)+1;if(r=s.inputEnabled,!1!==s.enabled){if(this.rendered||(this.group=i.g("range-selector-group").attr({zIndex:7}).add(),this.div=l("div",void 0,{position:"relative",height:0,zIndex:a}),this.buttonOptions.length&&this.renderButtons(),o.parentNode&&o.parentNode.insertBefore(this.div,o),r&&(this.inputGroup=i.g("input-group").add(this.group),i=this.drawInput("min"),this.minDateBox=i.dateBox,this.minLabel=i.label,this.minInput=i.input,i=this.drawInput("max"),this.maxDateBox=i.dateBox,this.maxLabel=i.label,this.maxInput=i.input)),r&&(this.setInputValue("min",t),this.setInputValue("max",e),t=n.scroller&&n.scroller.getUnionExtremes()||n.xAxis[0]||{},u(t.dataMin)&&u(t.dataMax)&&(n=n.xAxis[0].minRange||0,this.setInputExtremes("min",t.dataMin,Math.min(t.dataMax,this.getInputValue("max"))-n),this.setInputExtremes("max",Math.max(t.dataMin,this.getInputValue("min"))+n,t.dataMax)),this.inputGroup)){let t=0;[this.minLabel,this.minDateBox,this.maxLabel,this.maxDateBox].forEach((e=>{if(e){const{width:n}=e.getBBox();n&&(e.attr({x:t}),t+=n+s.inputSpacing)}}))}this.alignElements(),this.rendered=!0}}renderButtons(){const{buttons:t,chart:e,options:i}=this,o=s.lang,r=e.renderer,c=m(i.buttonTheme),u=c&&c.states,h=c.width||28;delete c.width,delete c.states,this.buttonGroup=r.g("range-selector-buttons").add(this.group);const d=this.dropdown=l("select",void 0,{position:"absolute",width:"1px",height:"1px",padding:0,border:0,top:"-9999em",cursor:"pointer",opacity:1e-4},this.div);a(d,"touchstart",(()=>{d.style.fontSize="16px"})),[[n.isMS?"mouseover":"mouseenter"],[n.isMS?"mouseout":"mouseleave"],["change","click"]].forEach((([e,n])=>{a(d,e,(()=>{const i=t[this.currentButtonIndex()];i&&f(i.element,n||e)}))})),this.zoomText=r.label(o&&o.rangeSelectorZoom||"",0).attr({padding:i.buttonTheme.padding,height:i.buttonTheme.height,paddingLeft:0,paddingRight:0}).add(this.buttonGroup),this.chart.styledMode||(this.zoomText.css(i.labelStyle),c["stroke-width"]=v(c["stroke-width"],0)),l("option",{textContent:this.zoomText.textStr,disabled:!0},void 0,d),this.buttonOptions.forEach(((e,n)=>{l("option",{textContent:e.title||e.text},void 0,d),t[n]=r.button(e.text,0,0,(t=>{const i=e.events&&e.events.click;let o;i&&(o=i.call(e,t)),!1!==o&&this.clickButton(n),this.isActive=!0}),c,u&&u.hover,u&&u.select,u&&u.disabled).attr({"text-align":"center",width:h}).add(this.buttonGroup),e.title&&t[n].attr("title",e.title)}))}alignElements(){const{buttonGroup:t,buttons:e,chart:n,group:i,inputGroup:o,options:r,zoomText:s}=this;var a=n.options;const l=a.exporting&&!1!==a.exporting.enabled&&a.navigation&&a.navigation.buttonOptions,{buttonPosition:c,inputPosition:u,verticalAlign:h}=r;a=(t,e)=>l&&this.titleCollision(n)&&"top"===h&&"right"===e.align&&e.y-t.getBBox().height-12<(l.y||0)+(l.height||0)+n.spacing[0]?-40:0;var d=n.plotLeft;if(i&&c&&u){var p=c.x-n.spacing[3];if(t){if(this.positionButtons(),!this.initialButtonGroupWidth){let t=0;s&&(t+=s.getBBox().width+5),e.forEach(((n,i)=>{t+=n.width,i!==e.length-1&&(t+=r.buttonSpacing)})),this.initialButtonGroupWidth=t}d-=n.spacing[3],this.updateButtonStates();var f=a(t,c);this.alignButtonGroup(f),i.placed=t.placed=n.hasLoaded}f=0,o&&(f=a(o,u),"left"===u.align?p=d:"right"===u.align&&(p=-Math.max(n.axisOffset[1],-f)),o.align({y:u.y,width:o.getBBox().width,align:u.align,x:u.x+p-2},!0,n.spacingBox),o.placed=n.hasLoaded),this.handleCollision(f),i.align({verticalAlign:h},!0,n.spacingBox),a=i.alignAttr.translateY,d=i.getBBox().height+20,p=0,"bottom"===h&&(p=a-(d=d+(p=(p=n.legend&&n.legend.options)&&"bottom"===p.verticalAlign&&p.enabled&&!p.floating?n.legend.legendHeight+v(p.margin,10):0)-20)-(r.floating?0:r.y)-(n.titleOffset?n.titleOffset[2]:0)-10),"top"===h?(r.floating&&(p=0),n.titleOffset&&n.titleOffset[0]&&(p=n.titleOffset[0]),p+=n.margin[0]-n.spacing[0]||0):"middle"===h&&(u.y===c.y?p=a:(u.y||c.y)&&(p=0>u.y||0>c.y?p-Math.min(u.y,c.y):a-d)),i.translate(r.x,r.y+Math.floor(p));const{minInput:l,maxInput:g,dropdown:m}=this;r.inputEnabled&&l&&g&&(l.style.marginTop=i.translateY+"px",g.style.marginTop=i.translateY+"px"),m&&(m.style.marginTop=i.translateY+"px")}}alignButtonGroup(t,e){const{chart:n,options:i,buttonGroup:o}=this,{buttonPosition:r}=i,s=n.plotLeft-n.spacing[3];let a=r.x-n.spacing[3];"right"===r.align?a+=t-s:"center"===r.align&&(a-=s/2),o&&o.align({y:r.y,width:v(e,this.initialButtonGroupWidth),align:r.align,x:a},!0,n.spacingBox)}positionButtons(){const{buttons:t,chart:e,options:n,zoomText:i}=this,o=e.hasLoaded?"animate":"attr",{buttonPosition:r}=n,s=e.plotLeft;let a=s;i&&"hidden"!==i.visibility&&(i[o]({x:v(s+r.x,s)}),a+=r.x+i.getBBox().width+5);for(let e=0,i=this.buttonOptions.length;e<i;++e)"hidden"!==t[e].visibility?(t[e][o]({x:a}),a+=t[e].width+n.buttonSpacing):t[e][o]({x:s})}handleCollision(t){const{chart:e,buttonGroup:n,inputGroup:i}=this,{buttonPosition:o,dropdown:r,inputPosition:s}=this.options,a=()=>{let t=0;return this.buttons.forEach((e=>{(e=e.getBBox()).width>t&&(t=e.width)})),t},l=e=>{if(i&&n){const r=i.alignAttr.translateX+i.alignOptions.x-t+i.getBBox().x+2,a=i.alignOptions.width,l=n.alignAttr.translateX+n.getBBox().x;return l+e>r&&r+a>l&&o.y<s.y+i.getBBox().height}return!1},c=()=>{i&&n&&i.attr({translateX:i.alignAttr.translateX+(e.axisOffset[1]>=-t?0:-t),translateY:i.alignAttr.translateY+n.getBBox().height+10})};if(n){if("always"===r)return this.collapseButtons(t),void(l(a())&&c());"never"===r&&this.expandButtons()}i&&n?s.align===o.align||l(this.initialButtonGroupWidth+20)?"responsive"===r?(this.collapseButtons(t),l(a())&&c()):c():"responsive"===r&&this.expandButtons():n&&"responsive"===r&&(this.initialButtonGroupWidth>e.plotWidth?this.collapseButtons(t):this.expandButtons())}collapseButtons(t){const{buttons:e,buttonOptions:n,chart:i,dropdown:o,options:r,zoomText:s}=this,a=i.userOptions.rangeSelector&&i.userOptions.rangeSelector.buttonTheme||{},l=t=>({text:t?`${t} `:"",width:"auto",paddingLeft:v(r.buttonTheme.paddingLeft,a.padding,8),paddingRight:v(r.buttonTheme.paddingRight,a.padding,8)});s&&s.hide();let c=!1;n.forEach(((t,n)=>{2!==(n=e[n]).state?n.hide():(n.show(),n.attr(l(t.text)),c=!0)})),c||(o&&(o.selectedIndex=0),e[0].show(),e[0].attr(l(this.zoomText&&this.zoomText.textStr)));const{align:u}=r.buttonPosition;this.positionButtons(),"right"!==u&&"center"!==u||this.alignButtonGroup(t,e[this.currentButtonIndex()].getBBox().width),this.showDropdown()}expandButtons(){const{buttons:t,buttonOptions:e,options:n,zoomText:i}=this;this.hideDropdown(),i&&i.show(),e.forEach(((e,i)=>{(i=t[i]).show(),i.attr({text:e.text,width:n.buttonTheme.width||28,paddingLeft:v(n.buttonTheme.paddingLeft,"unset"),paddingRight:v(n.buttonTheme.paddingRight,"unset")}),2>i.state&&i.setState(0)})),this.positionButtons()}currentButtonIndex(){const{dropdown:t}=this;return t&&0<t.selectedIndex?t.selectedIndex-1:0}showDropdown(){const{buttonGroup:t,buttons:e,chart:n,dropdown:i}=this;if(t&&i){const{translateX:o,translateY:r}=t,s=e[this.currentButtonIndex()].getBBox();c(i,{left:n.plotLeft+o+"px",top:r+.5+"px",width:s.width+"px",height:s.height+"px"}),this.hasVisibleDropdown=!0}}hideDropdown(){const{dropdown:t}=this;t&&(c(t,{top:"-9999em",width:"1px",height:"1px"}),this.hasVisibleDropdown=!1)}getHeight(){var t=this.options,e=this.group;const n=t.y,i=t.buttonPosition.y,o=t.inputPosition.y;return t.height?t.height:(this.alignElements(),t=e?e.getBBox(!0).height+13+n:0,e=Math.min(o,i),(0>o&&0>i||0<o&&0<i)&&(t+=Math.abs(e)),t)}titleCollision(t){return!(t.options.title.text||t.options.subtitle.text)}update(t){const e=this.chart;m(!0,e.options.rangeSelector,t),this.destroy(),this.init(e),this.render()}destroy(){const t=this,e=t.minInput,n=t.maxInput;t.eventsToUnbind&&(t.eventsToUnbind.forEach((t=>t())),t.eventsToUnbind=void 0),h(t.buttons),e&&(e.onfocus=e.onblur=e.onchange=null),n&&(n.onfocus=n.onblur=n.onchange=null),_(t,(function(e,n){e&&"chart"!==n&&(e instanceof o?e.destroy():e instanceof window.HTMLElement&&d(e)),e!==E.prototype[n]&&(t[n]=null)}),this)}}return p(E.prototype,{defaultButtons:[{type:"month",count:1,text:"1m",title:"View 1 month"},{type:"month",count:3,text:"3m",title:"View 3 months"},{type:"month",count:6,text:"6m",title:"View 6 months"},{type:"ytd",text:"YTD",title:"View year to date"},{type:"year",count:1,text:"1y",title:"View 1 year"},{type:"all",text:"All",title:"View all"}],inputTypeFormats:{"datetime-local":"%Y-%m-%dT%H:%M:%S",date:"%Y-%m-%d",time:"%H:%M:%S"}}),E})),e(t,"Series/XRange/XRangeSeriesDefaults.js",[t["Core/Utilities.js"]],(function(t){const{correctFloat:e,isNumber:n,isObject:i}=t;return{colorByPoint:!0,dataLabels:{formatter:function(){let t=this.point.partialFill;if(i(t)&&(t=t.amount),n(t)&&0<t)return e(100*t)+"%"},inside:!0,verticalAlign:"middle"},tooltip:{headerFormat:'<span style="font-size: 0.8em">{point.x} - {point.x2}</span><br/>',pointFormat:'<span style="color:{point.color}"></span> {series.name}: <b>{point.yCategory}</b><br/>'},borderRadius:3,pointRange:0}})),e(t,"Series/XRange/XRangePoint.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],(function(t,e){const{series:{prototype:{pointClass:{prototype:n}}},seriesTypes:{column:{prototype:{pointClass:i}}}}=t;({extend:t}=e);class o extends i{constructor(){super(...arguments),this.series=this.options=void 0}static getColorByCategory(t,e){const n=t.options.colors||t.chart.options.colors;return{colorIndex:t=e.y%(n?n.length:t.chart.options.chart.colorCount),color:n&&n[t]}}resolveColor(){const t=this.series;if(t.options.colorByPoint&&!this.options.color){const e=o.getColorByCategory(t,this);t.chart.styledMode||(this.color=e.color),this.options.colorIndex||(this.colorIndex=e.colorIndex)}else this.color||(this.color=t.color)}init(){return n.init.apply(this,arguments),this.y||(this.y=0),this}setState(){n.setState.apply(this,arguments),this.series.drawPoint(this,this.series.getAnimationVerb())}getLabelConfig(){const t=n.getLabelConfig.call(this),e=this.series.yAxis.categories;return t.x2=this.x2,t.yCategory=this.yCategory=e&&e[this.y],t}isValid(){return"number"==typeof this.x&&"number"==typeof this.x2}}return t(o.prototype,{ttBelow:!1,tooltipDateKeys:["x","x2"]}),o})),e(t,"Series/XRange/XRangeSeries.js",[t["Core/Globals.js"],t["Core/Color/Color.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"],t["Series/XRange/XRangeSeriesDefaults.js"],t["Series/XRange/XRangePoint.js"]],(function(t,e,n,i,o,r){function s(){let t,e;if(this.isXAxis){t=y(this.dataMax,-Number.MAX_VALUE);for(const n of this.series)if(n.x2Data)for(const i of n.x2Data)i&&i>t&&(t=i,e=!0);e&&(this.dataMax=t)}}({noop:t}=t);const{parse:a}=e,{series:{prototype:l},seriesTypes:{column:c}}=n,{addEvent:u,clamp:h,defined:d,extend:p,find:f,isNumber:g,isObject:m,merge:_,pick:y}=i,v=[];class C extends c{constructor(){super(...arguments),this.points=this.options=this.data=void 0}static compose(t){i.pushUnique(v,t)&&u(t,"afterGetSeriesExtremes",s)}init(){super.init.apply(this,arguments),this.options.stacking=void 0}getColumnMetrics(){const t=()=>{for(const t of this.chart.series){const e=t.xAxis;t.xAxis=t.yAxis,t.yAxis=e}};t();const e=super.getColumnMetrics();return t(),e}cropData(t,e,n,i){return(e=l.cropData.call(this,this.x2Data,e,n,i)).xData=t.slice(e.start,e.end),e}findPointIndex(t){const{cropStart:e,points:n}=this,{id:i}=t;if(i)var o=(o=f(n,(t=>t.id===i)))?o.index:void 0;return void 0===o&&(o=(o=f(n,(e=>e.x===t.x&&e.x2===t.x2&&!e.touched)))?o.index:void 0),this.cropped&&g(o)&&g(e)&&o>=e&&(o-=e),o}alignDataLabel(t){const e=t.plotX;t.plotX=y(t.dlBox&&t.dlBox.centerX,t.plotX),super.alignDataLabel.apply(this,arguments),t.plotX=e}translatePoint(t){const e=this.xAxis;var n=this.yAxis,i=this.columnMetrics,o=this.options,{borderRadius:r}=o,s=o.minPointLength||0,a=(t.shapeArgs&&t.shapeArgs.width||0)/2,l=this.pointXOffset=i.offset,c=y(t.x2,t.x+(t.len||0));let u=t.plotX;var p=e.translate(c,0,0,0,1);c=Math.abs(p-u);const f=this.chart.inverted,v=y(o.borderWidth,1)%2/2;let C=i.offset,b=Math.round(i.width);s&&(0>(s-=c)&&(s=0),u-=s/2,p+=s/2),u=Math.max(u,-10),p=h(p,-10,e.len+10),d(t.options.pointWidth)&&(C-=(Math.ceil(t.options.pointWidth)-b)/2,b=Math.ceil(t.options.pointWidth)),o.pointPlacement&&g(t.plotY)&&n.categories&&(t.plotY=n.translate(t.y,0,1,0,1,o.pointPlacement)),o={x:o=Math.floor(Math.min(u,p))+v,y:Math.floor(t.plotY+C)+v,width:Math.floor(Math.max(u,p))+v-o,height:b},t.shapeArgs=o,g(r)&&(t.shapeArgs.r=r),f?t.tooltipPos[1]+=l+a:t.tooltipPos[0]-=a+l-o.width/2,l=(a=o.x)+o.width,0>a||l>e.len?(a=h(a,0,e.len),p=(l=h(l,0,e.len))-a,t.dlBox=_(o,{x:a,width:l-a,centerX:p?p/2:null})):t.dlBox=null,a=t.tooltipPos,l=f?1:0,p=f?0:1,i=this.columnMetrics?this.columnMetrics.offset:-i.width/2,a[l]=f?a[l]+o.width/2:h(a[l]+(e.reversed?-1:0)*o.width,0,e.len-1),a[p]=h(a[p]+(f?-1:1)*i,0,n.len-1),(n=t.partialFill)&&(m(n)&&(n=n.amount),g(n)||(n=0),g(r)&&(t.partShapeArgs=_(o,{r})),r=Math.max(Math.round(c*n+t.plotX-u),0),t.clipRectArgs={x:e.reversed?o.x+c-r:o.x,y:o.y,width:r,height:o.height})}translate(){super.translate.apply(this,arguments);for(const t of this.points)this.translatePoint(t)}drawPoint(t,e){const n=this.options,i=this.chart.renderer,o=t.shapeType,r=t.shapeArgs,s=t.partShapeArgs,l=t.clipRectArgs;var c=t.state,u=n.states[c||"normal"]||{};const h=void 0===c?"attr":e;c=this.pointAttribs(t,c),u=y(this.chart.options.chart.animation,u.animation);let d=t.graphic,p=t.partialFill;t.isNull||!1===t.visible?d&&(t.graphic=d.destroy()):(d?d.rect[e](r):(t.graphic=d=i.g("point").addClass(t.getClassName()).add(t.group||this.group),d.rect=i[o](_(r)).addClass(t.getClassName()).addClass("highcharts-partfill-original").add(d)),s&&(d.partRect?(d.partRect[e](_(s)),d.partialClipRect[e](_(l))):(d.partialClipRect=i.clipRect(l.x,l.y,l.width,l.height),d.partRect=i[o](s).addClass("highcharts-partfill-overlay").add(d).clip(d.partialClipRect))),this.chart.styledMode||(d.rect[e](c,u).shadow(n.shadow),s&&(m(p)||(p={}),m(n.partialFill)&&(p=_(n.partialFill,p)),t=p.fill||a(c.fill).brighten(-.3).get()||a(t.color||this.color).brighten(-.3).get(),c.fill=t,d.partRect[h](c,u).shadow(n.shadow))))}drawPoints(){const t=this.getAnimationVerb();for(const e of this.points)this.drawPoint(e,t)}getAnimationVerb(){return this.chart.pointCount<(this.options.animationLimit||250)?"animate":"attr"}isPointInside(t){const e=t.shapeArgs,n=t.plotX,i=t.plotY;return e?void 0!==n&&void 0!==i&&0<=i&&i<=this.yAxis.len&&0<=(e.x||0)+(e.width||0)&&n<=this.xAxis.len:super.isPointInside.apply(this,arguments)}}return C.defaultOptions=_(c.defaultOptions,o),p(C.prototype,{pointClass:r,cropShoulder:1,getExtremesFromAll:!0,parallelArrays:["x","x2","y"],requireSorting:!1,type:"xrange",animate:l.animate,autoIncrement:t,buildKDTree:t}),n.registerSeriesType("xrange",C),C})),e(t,"Series/Gantt/GanttPoint.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],(function(t,e){({seriesTypes:{xrange:{prototype:{pointClass:t}}}}=t);const{pick:n}=e;class i extends t{constructor(){super(...arguments),this.series=this.options=void 0}static setGanttPointAliases(t){function e(e,n){void 0!==n&&(t[e]=n)}e("x",n(t.start,t.x)),e("x2",n(t.end,t.x2)),e("partialFill",n(t.completed,t.partialFill))}applyOptions(t,e){return t=super.applyOptions.call(this,t,e),i.setGanttPointAliases(t),t}isValid(){return("number"==typeof this.start||"number"==typeof this.x)&&("number"==typeof this.end||"number"==typeof this.x2||this.milestone)}}return i})),e(t,"Core/Axis/BrokenAxis.js",[t["Core/Axis/Stacking/StackItem.js"],t["Core/Utilities.js"]],(function(t,e){const{addEvent:n,find:i,fireEvent:o,isArray:r,isNumber:s,pick:a}=e;var l;return function(l){function c(){void 0!==this.brokenAxis&&this.brokenAxis.setBreaks(this.options.breaks,!1)}function u(){this.brokenAxis&&this.brokenAxis.hasBreaks&&(this.options.ordinal=!1)}function h(){const t=this.brokenAxis;if(t&&t.hasBreaks){const e=this.tickPositions,n=this.tickPositions.info,i=[];for(let n=0;n<e.length;n++)t.isInAnyBreak(e[n])||i.push(e[n]);this.tickPositions=i,this.tickPositions.info=n}}function d(){this.brokenAxis||(this.brokenAxis=new y(this))}function p(){const{isDirty:t,options:{connectNulls:e},points:n,xAxis:i,yAxis:o}=this;if(t){let t=n.length;for(;t--;){const r=n[t],s=!(null===r.y&&!1===e)&&(i&&i.brokenAxis&&i.brokenAxis.isInAnyBreak(r.x,!0)||o&&o.brokenAxis&&o.brokenAxis.isInAnyBreak(r.y,!0));r.visible=!s&&!1!==r.options.visible}}}function f(){this.drawBreaks(this.xAxis,["x"]),this.drawBreaks(this.yAxis,a(this.pointArrayMap,["y"]))}function g(t,e){const n=this,i=n.points;let r,l,c,u;if(t&&t.brokenAxis&&t.brokenAxis.hasBreaks){const h=t.brokenAxis;e.forEach((function(e){r=h&&h.breakArray||[],l=t.isXAxis?t.min:a(n.options.threshold,t.min),i.forEach((function(n){u=a(n["stack"+e.toUpperCase()],n[e]),r.forEach((function(e){s(l)&&s(u)&&(c=!1,l<e.from&&u>e.to||l>e.from&&u<e.from?c="pointBreak":(l<e.from&&u>e.from&&u<e.to||l>e.from&&u>e.to&&u<e.from)&&(c="pointInBreak"),c&&o(t,c,{point:n,brk:e}))}))}))}))}}function m(){var e=this.currentDataGrouping,n=e&&e.gapSize;e=this.points.slice();const i=this.yAxis;let o=this.options.gapSize,r=e.length-1;var s;if(o&&0<r)for("value"!==this.options.gapUnit&&(o*=this.basePointRange),n&&n>o&&n>=this.basePointRange&&(o=n);r--;)s&&!1!==s.visible||(s=e[r+1]),n=e[r],!1!==s.visible&&!1!==n.visible&&(s.x-n.x>o&&(s=(n.x+s.x)/2,e.splice(r+1,0,{isNull:!0,x:s}),i.stacking&&this.options.stacking&&((s=i.stacking.stacks[this.stackKey][s]=new t(i,i.options.stackLabels,!1,s,this.stack)).total=0)),s=n);return this.getGraphPath(e)}const _=[];l.compose=function(t,i){if(e.pushUnique(_,t)&&(t.keepProps.push("brokenAxis"),n(t,"init",d),n(t,"afterInit",c),n(t,"afterSetTickPositions",h),n(t,"afterSetOptions",u)),e.pushUnique(_,i)){const t=i.prototype;t.drawBreaks=g,t.gappedPath=m,n(i,"afterGeneratePoints",p),n(i,"afterRender",f)}return t};class y{static isInBreak(t,e){const n=t.repeat||1/0,i=t.from,o=t.to-t.from;return e=e>=i?(e-i)%n:n-(i-e)%n,t.inclusive?e<=o:e<o&&0!==e}static lin2Val(t){var e=this.brokenAxis;if(!(e=e&&e.breakArray)||!s(t))return t;let n,i;for(i=0;i<e.length&&(n=e[i],!(n.from>=t));i++)(n.to<t||y.isInBreak(n,t))&&(t+=n.len);return t}static val2Lin(t){var e=this.brokenAxis;if(!(e=e&&e.breakArray)||!s(t))return t;let n,i,o=t;for(i=0;i<e.length;i++)if(n=e[i],n.to<=t)o-=n.len;else{if(n.from>=t)break;if(y.isInBreak(n,t)){o-=t-n.from;break}}return o}constructor(t){this.hasBreaks=!1,this.axis=t}findBreakAt(t,e){return i(e,(function(e){return e.from<t&&t<e.to}))}isInAnyBreak(t,e){const n=this.axis,i=n.options.breaks||[];let o,r,l,c=i.length;if(c&&s(t)){for(;c--;)y.isInBreak(i[c],t)&&(o=!0,r||(r=a(i[c].showPoints,!n.isXAxis)));l=o&&e?o&&!r:o}return l}setBreaks(t,e){const n=this,i=n.axis,l=r(t)&&!!t.length;i.isDirty=n.hasBreaks!==l,n.hasBreaks=l,i.options.breaks=i.userOptions.breaks=t,i.forceRedraw=!0,i.series.forEach((function(t){t.isDirty=!0})),l||i.val2lin!==y.val2Lin||(delete i.val2lin,delete i.lin2val),l&&(i.userOptions.ordinal=!1,i.lin2val=y.lin2Val,i.val2lin=y.val2Lin,i.setExtremes=function(t,e,o,r,s){if(n.hasBreaks){const i=this.options.breaks||[];let o;for(;o=n.findBreakAt(t,i);)t=o.to;for(;o=n.findBreakAt(e,i);)e=o.from;e<t&&(e=t)}i.constructor.prototype.setExtremes.call(this,t,e,o,r,s)},i.setAxisTranslation=function(){if(i.constructor.prototype.setAxisTranslation.call(this),n.unitLength=void 0,n.hasBreaks){const t=i.options.breaks||[],e=[],r=[],l=a(i.pointRangePadding,0);let c,u,h,d,p=0,f=i.userMin||i.min,g=i.userMax||i.max;t.forEach((function(t){u=t.repeat||1/0,s(f)&&s(g)&&(y.isInBreak(t,f)&&(f+=t.to%u-f%u),y.isInBreak(t,g)&&(g-=g%u-t.from%u))})),t.forEach((function(t){if(h=t.from,u=t.repeat||1/0,s(f)&&s(g)){for(;h-u>f;)h-=u;for(;h<f;)h+=u;for(d=h;d<g;d+=u)e.push({value:d,move:"in"}),e.push({value:d+t.to-t.from,move:"out",size:t.breakSize})}})),e.sort((function(t,e){return t.value===e.value?("in"===t.move?0:1)-("in"===e.move?0:1):t.value-e.value})),c=0,h=f,e.forEach((function(t){c+="in"===t.move?1:-1,1===c&&"in"===t.move&&(h=t.value),0===c&&s(h)&&(r.push({from:h,to:t.value,len:t.value-h-(t.size||0)}),p+=t.value-h-(t.size||0))})),n.breakArray=r,s(f)&&s(g)&&s(i.min)&&(n.unitLength=g-f-p+l,o(i,"afterBreaks"),i.staticScale?i.transA=i.staticScale:n.unitLength&&(i.transA*=(g-i.min+l)/n.unitLength),l&&(i.minPixelPadding=i.transA*(i.minPointOffset||0)),i.min=f,i.max=g)}}),a(e,!0)&&i.chart.redraw()}}l.Additions=y}(l||(l={})),l})),e(t,"Core/Axis/GridAxis.js",[t["Core/Axis/Axis.js"],t["Core/Globals.js"],t["Core/Utilities.js"]],(function(t,e,n){function i(t,e){const i={width:0,height:0};return e.forEach((function(e){let o,r;e=t[e],n.isObject(e,!0)&&(r=n.isObject(e.label,!0)?e.label:{},e=r.getBBox?r.getBBox().height:0,r.textStr&&!x(r.textPxLength)&&(r.textPxLength=r.getBBox().width),o=x(r.textPxLength)?Math.round(r.textPxLength):0,r.textStr&&(o=Math.round(r.getBBox().width)),i.height=Math.max(e,i.height),i.width=Math.max(o,i.width))})),"treegrid"===this.options.type&&this.treeGrid&&this.treeGrid.mapOfPosToGridNode&&(i.width+=this.options.labels.indentation*((this.treeGrid.mapOfPosToGridNode[-1].height||0)-1)),i}function o(){const{grid:t}=this;(t&&t.columns||[]).forEach((function(t){t.getOffset()}))}function r(t){if(!0===(this.options.grid||{}).enabled){const{axisTitle:n,height:i,horiz:o,left:r,offset:s,opposite:a,options:l,top:c,width:u}=this;var e=this.tickSize();const h=n&&n.getBBox().width,d=l.title.x,p=l.title.y,f=T(l.title.margin,o?5:10),g=n?this.chart.renderer.fontMetrics(n).f:0;e=(o?c+i:r)+(o?1:-1)*(a?-1:1)*(e?e[0]/2:0)+(this.side===R.bottom?g:0),t.titlePosition.x=o?r-(h||0)/2-f+d:e+(a?u:0)+s+d,t.titlePosition.y=o?e-(a?i:0)+(a?g:-g)/2+s+p:c-f+p}}function s(){const{chart:e,options:{grid:n={}},userOptions:i}=this;if(n.enabled){var o=this.options;o.labels.align=T(o.labels.align,"center"),this.categories||(o.showLastLabel=!1),this.labelRotation=0,o.labels.rotation=0}if(n.columns){o=this.grid.columns=[];let s=this.grid.columnIndex=0;for(;++s<n.columns.length;){var r=P(i,n.columns[n.columns.length-s-1],{linkedTo:0,type:"category",scrollbar:{enabled:!1}});delete r.grid.columns,(r=new t(this.chart,r)).grid.isColumn=!0,r.grid.columnIndex=s,S(e.axes,r),S(e[this.coll],r),o.push(r)}}}function a(){var t=this.grid,e=this.options;if(!0===(e.grid||{}).enabled){var n=this.min||0;const a=this.max||0;if(this.maxLabelDimensions=this.getMaxLabelDimensions(this.ticks,this.tickPositions),this.rightWall&&this.rightWall.destroy(),this.grid&&this.grid.isOuterAxis()&&this.axisLine){var i=e.lineWidth;if(i){var o=(i=this.getLinePath(i))[0],r=i[1],s=((this.tickSize("tick")||[1])[0]-1)*(this.side===R.top||this.side===R.left?-1:1);"M"===o[0]&&"L"===r[0]&&(this.horiz?(o[2]+=s,r[2]+=s):(o[1]+=s,r[1]+=s)),!this.horiz&&this.chart.marginRight&&(o=[o,["L",this.left,o[2]||0]],s=["L",this.chart.chartWidth-this.chart.marginRight,this.toPixels(a+this.tickmarkOffset)],r=[["M",r[1]||0,this.toPixels(a+this.tickmarkOffset)],s],this.grid.upperBorder||0==n%1||(this.grid.upperBorder=this.grid.renderBorder(o)),this.grid.upperBorder&&(this.grid.upperBorder.attr({stroke:e.lineColor,"stroke-width":e.lineWidth}),this.grid.upperBorder.animate({d:o})),this.grid.lowerBorder||0==a%1||(this.grid.lowerBorder=this.grid.renderBorder(r)),this.grid.lowerBorder&&(this.grid.lowerBorder.attr({stroke:e.lineColor,"stroke-width":e.lineWidth}),this.grid.lowerBorder.animate({d:r}))),this.grid.axisLineExtra?(this.grid.axisLineExtra.attr({stroke:e.lineColor,"stroke-width":e.lineWidth}),this.grid.axisLineExtra.animate({d:i})):this.grid.axisLineExtra=this.grid.renderBorder(i),this.axisLine[this.showAxis?"show":"hide"]()}}if((t&&t.columns||[]).forEach((t=>t.render())),!this.horiz&&this.chart.hasRendered&&(this.scrollbar||this.linkedParent&&this.linkedParent.scrollbar)){let o,r;for(t=this.tickmarkOffset,e=this.tickPositions[this.tickPositions.length-1],i=this.tickPositions[0];(o=this.hiddenLabels.pop())&&o.element;)o.show();for(;(r=this.hiddenMarks.pop())&&r.element;)r.show();(o=this.ticks[i].label)&&(n-i>t?this.hiddenLabels.push(o.hide()):o.show()),(o=this.ticks[e].label)&&(e-a>t?this.hiddenLabels.push(o.hide()):o.show()),(n=this.ticks[e].mark)&&e-a<t&&0<e-a&&this.ticks[e].isLast&&this.hiddenMarks.push(n.hide())}}}function l(){const t=this.tickPositions&&this.tickPositions.info,e=this.options,n=this.userOptions.labels||{};(e.grid||{}).enabled&&(this.horiz?(this.series.forEach((t=>{t.options.pointRange=0})),t&&e.dateTimeLabelFormats&&e.labels&&!E(n.align)&&(!1===e.dateTimeLabelFormats[t.unitName].range||1<t.count)&&(e.labels.align="left",E(n.x)||(e.labels.x=3))):"treegrid"!==this.options.type&&this.grid&&this.grid.columns&&(this.minPointOffset=this.tickInterval))}function c(t){const e=this.options;t=t.userOptions;const i=e&&n.isObject(e.grid,!0)?e.grid:{};let o;!0===i.enabled&&(o=P(!0,{className:"highcharts-grid-axis "+(t.className||""),dateTimeLabelFormats:{hour:{list:["%H:%M","%H"]},day:{list:["%A, %e. %B","%a, %e. %b","%E"]},week:{list:["Week %W","W%W"]},month:{list:["%B","%b","%o"]}},grid:{borderWidth:1},labels:{padding:2,style:{fontSize:"0.9em"}},margin:0,title:{text:null,reserveSpace:!1,rotation:0},units:[["millisecond",[1,10,100]],["second",[1,10]],["minute",[1,5,15]],["hour",[1,6]],["day",[1]],["week",[1]],["month",[1]],["year",null]]},t),"xAxis"===this.coll&&(E(t.linkedTo)&&!E(t.tickPixelInterval)&&(o.tickPixelInterval=350),E(t.tickPixelInterval)||!E(t.linkedTo)||E(t.tickPositioner)||E(t.tickInterval)||(o.tickPositioner=function(t,e){var n=this.linkedParent&&this.linkedParent.tickPositions&&this.linkedParent.tickPositions.info;if(n){var i=o.units||[];let s;var r=1;let a="year";for(let t=0;t<i.length;t++){const e=i[t];if(e&&e[0]===n.unitName){s=t;break}}return(i=x(s)&&i[s+1])?(a=i[0]||"year",r=(r=i[1])&&r[0]||1):"year"===n.unitName&&(r=10*n.count),n=M[a],this.tickInterval=n*r,this.chart.time.getTimeTicks({unitRange:n,count:r,unitName:a},t,e,this.options.startOfWeek)}})),P(!0,this.options,o),this.horiz&&(e.minPadding=T(t.minPadding,0),e.maxPadding=T(t.maxPadding,0)),x(e.grid.borderWidth)&&(e.tickWidth=e.lineWidth=i.borderWidth))}function u(t){const e=(t=(t=t.userOptions)&&t.grid||{}).columns;t.enabled&&e&&P(!0,this.options,e[e.length-1])}function h(){(this.grid.columns||[]).forEach((t=>t.setScale()))}function d(t){const{horiz:e,maxLabelDimensions:n,options:{grid:i={}}}=this;if(i.enabled&&n){var o=2*this.options.labels.distance;o=e?i.cellHeight||o+n.height:o+n.width,O(t.tickSize)?t.tickSize[0]=o:t.tickSize=[o,0]}}function p(){this.axes.forEach((t=>{(t.grid&&t.grid.columns||[]).forEach((t=>{t.setAxisSize(),t.setAxisTranslation()}))}))}function f(t){const{grid:e}=this;(e.columns||[]).forEach((e=>e.destroy(t.keepEvents))),e.columns=void 0}function g(t){const e=(t=t.userOptions||{}).grid||{};e.enabled&&E(e.borderColor)&&(t.tickColor=t.lineColor=e.borderColor),this.grid||(this.grid=new L(this)),this.hiddenLabels=[],this.hiddenMarks=[]}function m(t){var e=this.label;const n=this.axis;var i=n.reversed,o=n.chart,r=n.options.grid||{};const s=n.options.labels,a=s.align;var l=R[n.side],c=t.tickmarkOffset,u=n.tickPositions;const h=this.pos-c;u=x(u[t.index+1])?u[t.index+1]-c:(n.max||0)+c;var d=n.tickSize("tick");if(c=d?d[0]:0,d=d?d[1]/2:0,!0===r.enabled){let p;"top"===l?p=(r=n.top+n.offset)-c:"bottom"===l?(p=o.chartHeight-n.bottom+n.offset,r=p+c):(r=n.top+n.len-(n.translate(i?u:h)||0),p=n.top+n.len-(n.translate(i?h:u)||0)),"right"===l?i=(l=o.chartWidth-n.right+n.offset)+c:"left"===l?l=(i=n.left+n.offset)-c:(l=Math.round(n.left+(n.translate(i?u:h)||0))-d,i=Math.min(Math.round(n.left+(n.translate(i?h:u)||0))-d,n.left+n.len)),this.slotWidth=i-l,t.pos.x="left"===a?l:"right"===a?i:l+(i-l)/2,t.pos.y=p+(r-p)/2,e&&(o=o.renderer.fontMetrics(e),e=e.getBBox().height,t.pos.y=s.useHTML?t.pos.y+(o.b+-e/2):t.pos.y+((o.b-(o.h-o.f))/2+-(Math.round(e/o.h)-1)*o.h/2)),t.pos.x+=n.horiz&&s.x||0}}function _(t){const{axis:n,value:i}=t;if(n.options.grid&&n.options.grid.enabled){var o=n.tickPositions;const r=(n.linkedParent||n).series[0],s=i===o[0];o=i===o[o.length-1];const a=r&&w(r.options.data,(function(t){return t[n.isXAxis?"x":"y"]===i}));let l;a&&r.is("gantt")&&(l=P(a),e.seriesTypes.gantt.prototype.pointClass.setGanttPointAliases(l)),t.isFirst=s,t.isLast=o,t.point=l}}function y(){const t=this.options,e=this.categories,n=this.tickPositions,i=n[0],o=n[n.length-1],r=this.linkedParent&&this.linkedParent.min||this.min,s=this.linkedParent&&this.linkedParent.max||this.max,a=this.tickInterval;!0!==(t.grid||{}).enabled||e||!this.horiz&&!this.isLinked||(i<r&&i+a>r&&!t.startOnTick&&(n[0]=r),o>s&&o-a<s&&!t.endOnTick&&(n[n.length-1]=s))}function v(t){const{options:{grid:e={}}}=this;return!0===e.enabled&&this.categories?this.tickInterval:t.apply(this,Array.prototype.slice.call(arguments,1))}const{dateFormats:C}=e,{addEvent:b,defined:E,erase:S,find:w,isArray:O,isNumber:x,merge:P,pick:T,timeUnits:M,wrap:D}=n;var R;!function(t){t[t.top=0]="top",t[t.right=1]="right",t[t.bottom=2]="bottom",t[t.left=3]="left"}(R||(R={}));const A=[];class L{constructor(t){this.axis=t}isOuterAxis(){const t=this.axis,e=t.grid.columnIndex,n=t.linkedParent&&t.linkedParent.grid.columns||t.grid.columns,i=e?t.linkedParent:t;let o=-1,r=0;return(t.chart[t.coll]||[]).forEach(((e,n)=>{e.side!==t.side||e.options.isInternal||(r=n,e===i&&(o=n))})),r===o&&(!x(e)||n.length===e)}renderBorder(t){const e=this.axis,n=e.chart.renderer,i=e.options;return t=n.path(t).addClass("highcharts-axis-line").add(e.axisBorder),n.styledMode||t.attr({stroke:i.lineColor,"stroke-width":i.lineWidth,zIndex:7}),t}}return C.E=function(t){return this.dateFormat("%a",t,!0).charAt(0)},C.W=function(t){const e=this,n=new this.Date(t);["Hours","Milliseconds","Minutes","Seconds"].forEach((function(t){e.set(t,n,0)}));var i=(this.get("Day",n)+6)%7;return t=new this.Date(n.valueOf()),this.set("Date",t,this.get("Date",n)-i+3),i=new this.Date(this.get("FullYear",t),0,1),4!==this.get("Day",i)&&(this.set("Month",n,0),this.set("Date",n,1+(11-this.get("Day",i))%7)),(1+Math.floor((t.valueOf()-i.valueOf())/6048e5)).toString()},{compose:function(t,e,C){return n.pushUnique(A,t)&&(t.keepProps.push("grid"),t.prototype.getMaxLabelDimensions=i,D(t.prototype,"unsquish",v),b(t,"init",g),b(t,"afterGetOffset",o),b(t,"afterGetTitlePosition",r),b(t,"afterInit",s),b(t,"afterRender",a),b(t,"afterSetAxisTranslation",l),b(t,"afterSetOptions",c),b(t,"afterSetOptions",u),b(t,"afterSetScale",h),b(t,"afterTickSize",d),b(t,"trimTicks",y),b(t,"destroy",f)),n.pushUnique(A,e)&&b(e,"afterSetChartSize",p),n.pushUnique(A,C)&&(b(C,"afterGetLabelPosition",m),b(C,"labelFormat",_)),t}}})),e(t,"Gantt/Tree.js",[t["Core/Utilities.js"]],(function(t){const{extend:e,isNumber:n,pick:i}=t,o=function(t,e){const n=t.reduce((function(t,e){const n=i(e.parent,"");return void 0===t[n]&&(t[n]=[]),t[n].push(e),t}),{});return Object.keys(n).forEach((function(t,i){const o=n[t];""!==t&&-1===e.indexOf(t)&&(o.forEach((function(t){i[""].push(t)})),delete i[t])})),n},r=function(t,o,s,a,l,c){let u=0,h=0,d=c&&c.after;var p=c&&c.before;let f,g;return o={data:a,depth:s-1,id:t,level:s,parent:o},"function"==typeof p&&p(o,c),p=(l[t]||[]).map((function(e){const i=r(e.id,t,s+1,e,l,c),o=e.start;return e=!0===e.milestone?o:e.end,f=!n(f)||o<f?o:f,g=!n(g)||e>g?e:g,u=u+1+i.descendants,h=Math.max(i.height+1,h),i})),a&&(a.start=i(a.start,f),a.end=i(a.end,g)),e(o,{children:p,descendants:u,height:h}),"function"==typeof d&&d(o,c),o};return{getListOfParents:o,getNode:r,getTree:function(t,e){const n=t.map((function(t){return t.id}));return t=o(t,n),r("",null,1,null,t,e)}}})),e(t,"Core/Axis/TreeGrid/TreeGridTick.js",[t["Core/Utilities.js"]],(function(t){function e(){this.treeGrid||(this.treeGrid=new h(this))}function n(t,e){const n=!(t=t.treeGrid).labelIcon,i=e.renderer;var o=e.xy;const r=e.options,s=r.width||0,c=r.height||0;var u=o.x-s/2-(r.padding||0);o=o.y-c/2;const h=e.collapsed?90:180,d=e.show&&a(o);let p=t.labelIcon;p||(t.labelIcon=p=i.path(i.symbols[r.type](r.x||0,r.y||0,s,c)).addClass("highcharts-label-icon").add(e.group)),p[d?"show":"hide"](),i.styledMode||p.attr({cursor:"pointer",fill:l(e.color,"#666666"),"stroke-width":1,stroke:r.lineColor,strokeWidth:r.lineWidth||0}),p[n?"attr":"animate"]({translateX:u,translateY:o,rotation:h})}function i(t,e,n,i,o,r,c,u,h){var d=l(this.options&&this.options.labels,r);r=this.pos;var p=this.axis;const f="treegrid"===p.options.type;return t=t.apply(this,[e,n,i,o,d,c,u,h]),f&&(e=d&&s(d.symbol,!0)?d.symbol:{},d=d&&a(d.indentation)?d.indentation:0,r=(r=(p=p.treeGrid.mapOfPosToGridNode)&&p[r])&&r.depth||1,t.x+=(e.width||0)+2*(e.padding||0)+(r-1)*d),t}function o(t){const e=this;var i=e.pos,o=e.axis;const a=e.label;var c=o.treeGrid.mapOfPosToGridNode,u=o.options;const h=l(e.options&&e.options.labels,u&&u.labels);var d=h&&s(h.symbol,!0)?h.symbol:{};const p=(c=c&&c[i])&&c.depth;u="treegrid"===u.type;const f=-1<o.tickPositions.indexOf(i);i=o.chart.styledMode,u&&c&&a&&a.element&&a.addClass("highcharts-treegrid-node-level-"+p),t.apply(e,Array.prototype.slice.call(arguments,1)),u&&a&&a.element&&c&&c.descendants&&0<c.descendants&&(o=o.treeGrid.isCollapsed(c),n(e,{color:!i&&a.styles&&a.styles.color||"",collapsed:o,group:a.parentGroup,options:d,renderer:a.renderer,show:f,xy:a.xy}),d="highcharts-treegrid-node-"+(o?"expanded":"collapsed"),a.addClass("highcharts-treegrid-node-"+(o?"collapsed":"expanded")).removeClass(d),i||a.css({cursor:"pointer"}),[a,e.treeGrid.labelIcon].forEach((t=>{t&&!t.attachedTreeGridEvents&&(r(t.element,"mouseover",(function(){a.addClass("highcharts-treegrid-node-active"),a.renderer.styledMode||a.css({textDecoration:"underline"})})),r(t.element,"mouseout",(function(){{const t=s(h.style)?h.style:{};a.removeClass("highcharts-treegrid-node-active"),a.renderer.styledMode||a.css({textDecoration:t.textDecoration})}})),r(t.element,"click",(function(){e.treeGrid.toggleCollapse()})),t.attachedTreeGridEvents=!0)})))}const{addEvent:r,isObject:s,isNumber:a,pick:l,wrap:c}=t,u=[];class h{static compose(n){t.pushUnique(u,n)&&(r(n,"init",e),c(n.prototype,"getLabelPosition",i),c(n.prototype,"renderLabel",o),n.prototype.collapse=function(t){this.treeGrid.collapse(t)},n.prototype.expand=function(t){this.treeGrid.expand(t)},n.prototype.toggleCollapse=function(t){this.treeGrid.toggleCollapse(t)})}constructor(t){this.tick=t}collapse(t){var e=this.tick;const n=e.axis,i=n.brokenAxis;i&&n.treeGrid.mapOfPosToGridNode&&(e=n.treeGrid.collapse(n.treeGrid.mapOfPosToGridNode[e.pos]),i.setBreaks(e,l(t,!0)))}destroy(){this.labelIcon&&this.labelIcon.destroy()}expand(t){var e=this.tick;const n=e.axis,i=n.brokenAxis;i&&n.treeGrid.mapOfPosToGridNode&&(e=n.treeGrid.expand(n.treeGrid.mapOfPosToGridNode[e.pos]),i.setBreaks(e,l(t,!0)))}toggleCollapse(t){var e=this.tick;const n=e.axis,i=n.brokenAxis;i&&n.treeGrid.mapOfPosToGridNode&&(e=n.treeGrid.toggleCollapse(n.treeGrid.mapOfPosToGridNode[e.pos]),i.setBreaks(e,l(t,!0)))}}return h})),e(t,"Series/TreeUtilities.js",[t["Core/Color/Color.js"],t["Core/Utilities.js"]],(function(t,e){const{extend:n,isArray:i,isNumber:o,isObject:r,merge:s,pick:a}=e;return{getColor:function(e,n){const i=n.index;var o=n.mapOptionsToLevel;const r=n.parentColor,s=n.parentColorIndex,l=n.series;var c=n.colors;const u=n.siblings;var h=l.points,d=l.chart.options.chart;let p;var f;let g;if(e){if(h=h[e.i],e=o[e.level]||{},o=h&&e.colorByPoint){p=h.index%(c?c.length:d.colorCount);var m=c&&c[p]}l.chart.styledMode||(c=h&&h.options.color,d=e&&e.color,(f=r)&&(f=(f=e&&e.colorVariation)&&"brightness"===f.key&&i&&u?t.parse(r).brighten(i/u*f.to).get():r),f=a(c,d,m,f,l.color)),g=a(h&&h.options.colorIndex,e&&e.colorIndex,p,s,n.colorIndex)}return{color:f,colorIndex:g}},getLevelOptions:function(t){let e,n,l,c={};if(r(t)){l=o(t.from)?t.from:1;var u=t.levels;for(n={},e=r(t.defaults)?t.defaults:{},i(u)&&(n=u.reduce(((t,n)=>{let i,c;return r(n)&&o(n.level)&&(c=s({},n),i=a(c.levelIsConstant,e.levelIsConstant),delete c.levelIsConstant,delete c.level,n=n.level+(i?0:l-1),r(t[n])?s(!0,t[n],c):t[n]=c),t}),{})),u=o(t.to)?t.to:1,t=0;t<=u;t++)c[t]=s({},e,r(n[t])?n[t]:{})}return c},setTreeValues:function t(e,i){var o=i.before;const r=i.idRoot,s=i.mapIdToNode[r],l=i.points[e.i],c=l&&l.options||{},u=[];let h=0;return e.levelDynamic=e.level-(!1!==i.levelIsConstant?0:s.level),e.name=a(l&&l.name,""),e.visible=r===e.id||!0===i.visible,"function"==typeof o&&(e=o(e,i)),e.children.forEach(((o,r)=>{const s=n({},i);n(s,{index:r,siblings:e.children.length,visible:e.visible}),o=t(o,s),u.push(o),o.visible&&(h+=o.val)})),o=a(c.value,h),e.visible=0<=o&&(0<h||e.visible),e.children=u,e.childrenTotal=h,e.isLeaf=e.visible&&!h,e.val=o,e},updateRootId:function(t){if(r(t)){var e=r(t.options)?t.options:{};e=a(t.rootNode,e.rootId,""),r(t.userOptions)&&(t.userOptions.rootId=e),t.rootNode=e}return e}}})),e(t,"Core/Axis/TreeGrid/TreeGridAxis.js",[t["Core/Axis/BrokenAxis.js"],t["Core/Axis/GridAxis.js"],t["Gantt/Tree.js"],t["Core/Axis/TreeGrid/TreeGridTick.js"],t["Series/TreeUtilities.js"],t["Core/Utilities.js"]],(function(t,e,n,i,o,r){function s(t,e){const n=t.collapseEnd||0;return t=t.collapseStart||0,n>=e&&(t-=.5),{from:t,to:n,showPoints:!1}}function a(t,e,i){const o=[],r=[],s={},a="boolean"==typeof e&&e;let l={},c=-1;return t=n.getTree(t,{after:function(t){t=l[t.pos];let e=0,n=0;t.children.forEach((function(t){n+=(t.descendants||0)+1,e=Math.max((t.height||0)+1,e)})),t.descendants=n,t.height=e,t.collapsed&&r.push(t)},before:function(t){const e=_(t.data,!0)?t.data:{},n=y(e.name)?e.name:"";var i=s[t.parent];i=_(i,!0)?l[i.pos]:null;var r=function(t){return t.name===n};let u;a&&_(i,!0)&&(u=f(i.children,r))?(r=u.pos,u.nodes.push(t)):r=c++,l[r]||(l[r]=u={depth:i?i.depth+1:0,name:n,id:e.id,nodes:[t],children:[],pos:r},-1!==r&&o.push(n),_(i,!0)&&i.children.push(u)),y(t.id)&&(s[t.id]=t),u&&!0===e.collapsed&&(u.collapsed=!0),t.pos=r}}),l=function(t,e){const n=function(t,i,o){let r=i+(-1===i?0:e-1);const s=(r-i)/2,a=i+s;return t.nodes.forEach((function(t){const e=t.data;_(e,!0)&&(e.y=i+(e.seriesIndex||0),delete e.seriesIndex),t.pos=a})),o[a]=t,t.pos=a,t.tickmarkOffset=s+.5,t.collapseStart=r+.5,t.children.forEach((function(t){n(t,r+1,o),r=(t.collapseEnd||0)-.5})),t.collapseEnd=r+.5,o};return n(t[-1],-1,{})}(l,i),{categories:o,mapOfIdToNode:s,mapOfPosToGridNode:l,collapsedNodes:r,tree:t}}function l(t){t.target.axes.filter((function(t){return"treegrid"===t.options.type})).forEach((function(e){var n=e.options||{};const i=n.labels,o=n.uniqueNames;n=n.max;let r,s=0;if(!e.treeGrid.mapOfPosToGridNode||e.series.some((function(t){return!t.hasRendered||t.isDirtyData||t.isDirty}))){if(r=e.series.reduce((function(t,e){return e.visible&&((e.options.data||[]).forEach((function(n){e.options.keys&&e.options.keys.length&&(n=e.pointClass.prototype.optionsToObject.call({series:e},n),e.pointClass.setGanttPointAliases(n)),_(n,!0)&&(n.seriesIndex=s,t.push(n))})),!0===o&&s++),t}),[]),n&&r.length<n)for(let t=r.length;t<=n;t++)r.push({name:t+""});n=a(r,o||!1,!0===o?s:1),e.categories=n.categories,e.treeGrid.mapOfPosToGridNode=n.mapOfPosToGridNode,e.hasNames=!0,e.treeGrid.tree=n.tree,e.series.forEach((function(t){const e=(t.options.data||[]).map((function(e){return m(e)&&t.options.keys&&t.options.keys.length&&r.forEach((function(t){0<=e.indexOf(t.x)&&0<=e.indexOf(t.x2)&&(e=t)})),_(e,!0)?v(e):e}));t.visible&&t.setData(e,!1)})),e.treeGrid.mapOptionsToLevel=d({defaults:i,from:1,levels:i&&i.levels,to:e.treeGrid.tree&&e.treeGrid.tree.height}),"beforeRender"===t.type&&(e.treeGrid.collapsedNodes=n.collapsedNodes)}}))}function c(t,e){var n=this.treeGrid.mapOptionsToLevel||{};const i=this.ticks;let o,r,s=i[e];"treegrid"===this.options.type&&this.treeGrid.mapOfPosToGridNode?(r=this.treeGrid.mapOfPosToGridNode[e],(n=n[r.depth])&&(o={labels:n}),!s&&S?i[e]=new S(this,e,void 0,void 0,{category:r.name,tickmarkOffset:r.tickmarkOffset,options:o}):(s.parameters.category=r.name,s.options=o,s.addLabel())):t.apply(this,Array.prototype.slice.call(arguments,1))}function u(t,e,n){const i=this,o="treegrid"===n.type;i.treeGrid||(i.treeGrid=new w(i)),o&&(p(e,"beforeRender",l),p(e,"beforeRedraw",l),p(e,"addSeries",(function(t){t.options.data&&(t=a(t.options.data,n.uniqueNames||!1,1),i.treeGrid.collapsedNodes=(i.treeGrid.collapsedNodes||[]).concat(t.collapsedNodes))})),p(i,"foundExtremes",(function(){i.treeGrid.collapsedNodes&&i.treeGrid.collapsedNodes.forEach((function(t){const e=i.treeGrid.collapse(t);i.brokenAxis&&(i.brokenAxis.setBreaks(e,!1),i.treeGrid.collapsedNodes&&(i.treeGrid.collapsedNodes=i.treeGrid.collapsedNodes.filter((e=>t.collapseStart!==e.collapseStart||t.collapseEnd!==e.collapseEnd))))}))})),p(i,"afterBreaks",(function(){"yAxis"===i.coll&&!i.staticScale&&i.chart.options.chart.height&&(i.isDirty=!0)})),n=v({grid:{enabled:!0},labels:{align:"left",levels:[{level:void 0},{level:1,style:{fontWeight:"bold"}}],symbol:{type:"triangle",x:-5,y:-5,height:10,width:10,padding:5}},uniqueNames:!1},n,{reversed:!0,grid:{columns:void 0}})),t.apply(i,[e,n]),o&&(i.hasNames=!0,i.options.showLastLabel=!0)}function h(t){const e=this.options;"treegrid"===e.type?(this.min=C(this.userMin,e.min,this.dataMin),this.max=C(this.userMax,e.max,this.dataMax),g(this,"foundExtremes"),this.setAxisTranslation(),this.tickmarkOffset=.5,this.tickInterval=1,this.tickPositions=this.treeGrid.mapOfPosToGridNode?this.treeGrid.getTickPositions():[]):t.apply(this,Array.prototype.slice.call(arguments,1))}const{getLevelOptions:d}=o,{addEvent:p,find:f,fireEvent:g,isArray:m,isObject:_,isString:y,merge:v,pick:C,wrap:b}=r,E=[];let S;class w{static compose(o,s,a,l){if(r.pushUnique(E,o)){-1===o.keepProps.indexOf("treeGrid")&&o.keepProps.push("treeGrid");const t=o.prototype;b(t,"generateTick",c),b(t,"init",u),b(t,"setTickInterval",h),t.utils={getNode:n.getNode}}return r.pushUnique(E,l)&&(S||(S=l)),e.compose(o,s,l),t.compose(o,a),i.compose(l),o}constructor(t){this.axis=t}setCollapsedStatus(t){const e=this.axis,n=e.chart;e.series.forEach((function(e){const i=e.options.data;if(t.id&&i){const o=n.get(t.id);e=i[e.data.indexOf(o)],o&&e&&(o.collapsed=t.collapsed,e.collapsed=t.collapsed)}}))}collapse(t){const e=this.axis,n=e.options.breaks||[],i=s(t,e.max);return n.push(i),t.collapsed=!0,e.treeGrid.setCollapsedStatus(t),n}expand(t){const e=this.axis,n=e.options.breaks||[],i=s(t,e.max);return t.collapsed=!1,e.treeGrid.setCollapsedStatus(t),n.reduce((function(t,e){return e.to===i.to&&e.from===i.from||t.push(e),t}),[])}getTickPositions(){const t=this.axis,e=Math.floor(t.min/t.tickInterval)*t.tickInterval,n=Math.ceil(t.max/t.tickInterval)*t.tickInterval;return Object.keys(t.treeGrid.mapOfPosToGridNode||{}).reduce((function(i,o){return!((o=+o)>=e&&o<=n)||t.brokenAxis&&t.brokenAxis.isInAnyBreak(o)||i.push(o),i}),[])}isCollapsed(t){const e=this.axis,n=e.options.breaks||[],i=s(t,e.max);return n.some((function(t){return t.from===i.from&&t.to===i.to}))}toggleCollapse(t){return this.isCollapsed(t)?this.expand(t):this.collapse(t)}}return w})),e(t,"Extensions/StaticScale.js",[t["Core/Axis/Axis.js"],t["Core/Chart/Chart.js"],t["Core/Utilities.js"]],(function(t,e,n){const{addEvent:i,defined:o,isNumber:r,pick:s}=n;i(t,"afterSetOptions",(function(){const t=this.chart.options.chart;!this.horiz&&r(this.options.staticScale)&&(!t.height||t.scrollablePlotArea&&t.scrollablePlotArea.minHeight)&&(this.staticScale=this.options.staticScale)})),e.prototype.adjustHeight=function(){"adjustHeight"!==this.redrawTrigger&&((this.axes||[]).forEach((function(t){let e=t.chart,n=!!e.initiatedScale&&e.options.animation;var i=t.options.staticScale;let r;t.staticScale&&o(t.min)&&(r=s(t.brokenAxis&&t.brokenAxis.unitLength,t.max+t.tickInterval-t.min)*i,r=Math.max(r,i),i=r-e.plotHeight,!e.scrollablePixelsY&&1<=Math.abs(i)&&(e.plotHeight=r,e.redrawTrigger="adjustHeight",e.setSize(void 0,e.chartHeight+i,n)),t.series.forEach((function(t){(t=t.sharedClipKey&&e.sharedClips[t.sharedClipKey])&&t.attr(e.inverted?{width:e.plotHeight}:{height:e.plotHeight})})))})),this.initiatedScale=!0),this.redrawTrigger=null},i(e,"render",e.prototype.adjustHeight)})),e(t,"Gantt/Connection.js",[t["Core/Defaults.js"],t["Core/Globals.js"],t["Core/Series/Point.js"],t["Core/Utilities.js"]],(function(t,e,n,i){function o(t){var e=t.shapeArgs;return e?{xMin:e.x||0,xMax:(e.x||0)+(e.width||0),yMin:e.y||0,yMax:(e.y||0)+(e.height||0)}:(e=t.graphic&&t.graphic.getBBox())?{xMin:t.plotX-e.width/2,xMax:t.plotX+e.width/2,yMin:t.plotY-e.height/2,yMax:t.plotY+e.height/2}:null}({defaultOptions:t}=t);const{defined:r,error:s,extend:a,merge:l,objectEach:c}=i,u=e.deg2rad,h=Math.max,d=Math.min;a(t,{connectors:{type:"straight",lineWidth:1,marker:{enabled:!1,align:"center",verticalAlign:"middle",inside:!1,lineWidth:1},startMarker:{symbol:"diamond"},endMarker:{symbol:"arrow-filled"}}});class p{constructor(t,e,n){this.toPoint=this.pathfinder=this.graphics=this.fromPoint=this.chart=void 0,this.init(t,e,n)}init(t,e,n){this.fromPoint=t,this.toPoint=e,this.options=n,this.chart=t.series.chart,this.pathfinder=this.chart.pathfinder}renderPath(t,e,n){let i=this.chart,o=i.styledMode,r=i.pathfinder,s=!i.options.chart.forExport&&!1!==n,a=this.graphics&&this.graphics.path;r.group||(r.group=i.renderer.g().addClass("highcharts-pathfinder-group").attr({zIndex:-1}).add(i.seriesGroup)),r.group.translate(i.plotLeft,i.plotTop),a&&a.renderer||(a=i.renderer.path().add(r.group),o||a.attr({opacity:0})),a.attr(e),t={d:t},o||(t.opacity=1),a[s?"animate":"attr"](t,n),this.graphics=this.graphics||{},this.graphics.path=a}addMarker(t,e,n){var i=this.fromPoint.series.chart;let o=i.pathfinder;i=i.renderer;let r="start"===t?this.fromPoint:this.toPoint;var s=r.getPathfinderAnchorPoint(e);let a,l;e.enabled&&((n="start"===t?n[1]:n[n.length-2])&&"M"===n[0]||"L"===n[0])&&(n={x:n[1],y:n[2]},n=r.getRadiansToVector(n,s),s=r.getMarkerVector(n,e.radius,s),n=-n/u,e.width&&e.height?(a=e.width,l=e.height):a=l=2*e.radius,this.graphics=this.graphics||{},s={x:s.x-a/2,y:s.y-l/2,width:a,height:l,rotation:n,rotationOriginX:s.x,rotationOriginY:s.y},this.graphics[t]?this.graphics[t].animate(s):(this.graphics[t]=i.symbol(e.symbol).addClass("highcharts-point-connecting-path-"+t+"-marker").attr(s).add(o.group),i.styledMode||this.graphics[t].attr({fill:e.color||this.fromPoint.color,stroke:e.lineColor,"stroke-width":e.lineWidth,opacity:0}).animate({opacity:1},r.series.options.animation)))}getPath(t){let e=this.pathfinder,n=this.chart,i=e.algorithms[t.type],o=e.chartObstacles;return"function"!=typeof i?(s('"'+t.type+'" is not a Pathfinder algorithm.'),{path:[],obstacles:[]}):(i.requiresObstacles&&!o&&(o=e.chartObstacles=e.getChartObstacles(t),n.options.connectors.algorithmMargin=t.algorithmMargin,e.chartObstacleMetrics=e.getObstacleMetrics(o)),i(this.fromPoint.getPathfinderAnchorPoint(t.startMarker),this.toPoint.getPathfinderAnchorPoint(t.endMarker),l({chartObstacles:o,lineObstacles:e.lineObstacles||[],obstacleMetrics:e.chartObstacleMetrics,hardBounds:{xMin:0,xMax:n.plotWidth,yMin:0,yMax:n.plotHeight},obstacleOptions:{margin:t.algorithmMargin},startDirectionX:e.getAlgorithmStartDirection(t.startMarker)},t)))}render(){var t=this.fromPoint;let e=t.series;var n=e.chart;let i=n.pathfinder,o=l(n.options.connectors,e.options.connectors,t.options.connectors,this.options),s={};n.styledMode||(s.stroke=o.lineColor||t.color,s["stroke-width"]=o.lineWidth,o.dashStyle&&(s.dashstyle=o.dashStyle)),s.class="highcharts-point-connecting-path highcharts-color-"+t.colorIndex,o=l(s,o),r(o.marker.radius)||(o.marker.radius=d(h(Math.ceil((o.algorithmMargin||8)/2)-1,1),5)),n=(t=this.getPath(o)).path,t.obstacles&&(i.lineObstacles=i.lineObstacles||[],i.lineObstacles=i.lineObstacles.concat(t.obstacles)),this.renderPath(n,s,e.options.animation),this.addMarker("start",l(o.marker,o.startMarker),n),this.addMarker("end",l(o.marker,o.endMarker),n)}destroy(){this.graphics&&(c(this.graphics,(function(t){t.destroy()})),delete this.graphics)}}return e.Connection=p,a(n.prototype,{getPathfinderAnchorPoint:function(t){let e,n,i=o(this);switch(t.align){case"right":e="xMax";break;case"left":e="xMin"}switch(t.verticalAlign){case"top":n="yMin";break;case"bottom":n="yMax"}return{x:e?i[e]:(i.xMin+i.xMax)/2,y:n?i[n]:(i.yMin+i.yMax)/2}},getRadiansToVector:function(t,e){let n;return r(e)||(n=o(this))&&(e={x:(n.xMin+n.xMax)/2,y:(n.yMin+n.yMax)/2}),Math.atan2(e.y-t.y,t.x-e.x)},getMarkerVector:function(t,e,n){var i=2*Math.PI,r=o(this),s=r.xMax-r.xMin;let a=r.yMax-r.yMin,l=Math.atan2(a,s),c=!1;s/=2;let u=a/2,h=r.xMin+s;var d=h,p=r=r.yMin+u;let f=1,g=1;for(;t<-Math.PI;)t+=i;for(;t>Math.PI;)t-=i;return i=Math.tan(t),t>-l&&t<=l?(g=-1,c=!0):t>l&&t<=Math.PI-l?g=-1:t>Math.PI-l||t<=-(Math.PI-l)?(f=-1,c=!0):f=-1,c?(d+=f*s,p+=g*s*i):(d+=a/(2*i)*f,p+=g*u),n.x!==h&&(d=n.x),n.y!==r&&(p=n.y),{x:d+e*Math.cos(t),y:p-e*Math.sin(t)}}}),p})),e(t,"Gantt/PathfinderAlgorithms.js",[t["Core/Utilities.js"]],(function(t){function e(t,e,n){n=n||0;let i,o,r=t.length-1;for(e-=1e-7;n<=r;)if(i=r+n>>1,o=e-t[i].xMin,0<o)n=i+1;else{if(!(0>o))return i;r=i-1}return 0<n?n-1:0}function n(t,n){let i=e(t,n.x+1)+1;for(;i--;){var o;if((o=t[i].xMax>=n.x)&&(o=t[i],o=n.x<=o.xMax&&n.x>=o.xMin&&n.y<=o.yMax&&n.y>=o.yMin),o)return i}return-1}function i(t){const e=[];if(t.length){e.push(["M",t[0].start.x,t[0].start.y]);for(let n=0;n<t.length;++n)e.push(["L",t[n].end.x,t[n].end.y])}return e}function o(t,e){t.yMin=a(t.yMin,e.yMin),t.yMax=s(t.yMax,e.yMax),t.xMin=a(t.xMin,e.xMin),t.xMax=s(t.xMax,e.xMax)}const{pick:r}=t,{min:s,max:a,abs:l}=Math;t=function(t,e,o){function s(t,e,n,i,o){return(t={x:t.x,y:t.y})[e]=n[i||e]+(o||0),t}function a(t,e,n){const i=l(e[n]-t[n+"Min"])>l(e[n]-t[n+"Max"]);return s(e,n,t,n+(i?"Max":"Min"),i?1:-1)}let c=[];var u=r(o.startDirectionX,l(e.x-t.x)>l(e.y-t.y))?"x":"y",h=o.chartObstacles;let d,p=n(h,t);if(-1<(o=n(h,e))){var f=h[o];f={start:o=a(f,e,u),end:e},d=o}else d=e;return-1<p&&(o=a(h=h[p],t,u),c.push({start:t,end:o}),o[u]>=t[u]==o[u]>=d[u]&&(e=t[u="y"===u?"x":"y"]<e[u],c.push({start:o,end:s(o,u,h,u+(e?"Max":"Min"),e?1:-1)}),u="y"===u?"x":"y")),o=s(t=c.length?c[c.length-1].end:t,u,d),c.push({start:t,end:o}),u=s(o,"y"===u?"x":"y",d),c.push({start:o,end:u}),c.push(f),{path:i(c),obstacles:c}},t.requiresObstacles=!0;const c=function(t,c,u){function h(t,n,i){let o,r,a,l,c,u=t.x<n.x?1:-1;for(t.x<n.x?(o=t,r=n):(o=n,r=t),t.y<n.y?(l=t,a=n):(l=n,a=t),c=0>u?s(e(S,r.x),S.length-1):0;S[c]&&(0<u&&S[c].xMin<=r.x||0>u&&S[c].xMax>=o.x);){if(S[c].xMin<=r.x&&S[c].xMax>=o.x&&S[c].yMin<=a.y&&S[c].yMax>=l.y)return i?{y:t.y,x:t.x<n.x?S[c].xMin-1:S[c].xMax+1,obstacle:S[c]}:{x:t.x,y:t.y<n.y?S[c].yMin-1:S[c].yMax+1,obstacle:S[c]};c+=u}return n}function d(t,e,n,i,o){var r=o.soft,s=o.hard;let a=i?"x":"y",c={x:e.x,y:e.y},u={x:e.x,y:e.y};o=t[a+"Max"]>=r[a+"Max"],r=t[a+"Min"]<=r[a+"Min"];let d=t[a+"Max"]>=s[a+"Max"];s=t[a+"Min"]<=s[a+"Min"];let p=l(t[a+"Min"]-e[a]),f=l(t[a+"Max"]-e[a]);return n=10>l(p-f)?e[a]<n[a]:f<p,u[a]=t[a+"Min"],c[a]=t[a+"Max"],t=h(e,u,i)[a]!==u[a],e=h(e,c,i)[a]!==c[a],n=t?!e||n:!e&&n,n=r?!o||n:!o&&n,s?!d||n:!d&&n}let p,f=r(u.startDirectionX,l(c.x-t.x)>l(c.y-t.y)),g=f?"x":"y",m=[],_=!1;var y=u.obstacleMetrics;let v=s(t.x,c.x)-y.maxWidth-10,C=a(t.x,c.x)+y.maxWidth+10,b=s(t.y,c.y)-y.maxHeight-10,E=a(t.y,c.y)+y.maxHeight+10,S=u.chartObstacles;var w=e(S,v);for(y=e(S,C),S=S.slice(w,y+1),-1<(y=n(S,c))&&(p=function(t,e,n){const i=s(t.xMax-e.x,e.x-t.xMin)<s(t.yMax-e.y,e.y-t.yMin);return n=d(t,e,n,i,{soft:u.hardBounds,hard:u.hardBounds}),i?{y:e.y,x:t[n?"xMax":"xMin"]+(n?1:-1)}:{x:e.x,y:t[n?"yMax":"yMin"]+(n?1:-1)}}(S[y],c,t),m.push({end:c,start:p}),c=p);-1<(y=n(S,c));)w=0>c[g]-t[g],p={x:c.x,y:c.y},p[g]=S[y][w?g+"Max":g+"Min"]+(w?1:-1),m.push({end:c,start:p}),c=p;return t=function t(e,i,r){if(e.x===i.x&&e.y===i.y)return[];var l=r?"x":"y";let c,p,f,g=u.obstacleOptions.margin;var m={soft:{xMin:v,xMax:C,yMin:b,yMax:E},hard:u.hardBounds};return c=n(S,e),-1<c?(c=S[c],m=d(c,e,i,r,m),o(c,u.hardBounds),f=r?{y:e.y,x:c[m?"xMax":"xMin"]+(m?1:-1)}:{x:e.x,y:c[m?"yMax":"yMin"]+(m?1:-1)},p=n(S,f),-1<p&&(p=S[p],o(p,u.hardBounds),f[l]=m?a(c[l+"Max"]-g+1,(p[l+"Min"]+c[l+"Max"])/2):s(c[l+"Min"]+g-1,(p[l+"Max"]+c[l+"Min"])/2),e.x===f.x&&e.y===f.y?(_&&(f[l]=m?a(c[l+"Max"],p[l+"Max"])+1:s(c[l+"Min"],p[l+"Min"])-1),_=!_):_=!1),e=[{start:e,end:f}]):(e=[{start:e,end:{x:(l=h(e,{x:r?i.x:e.x,y:r?e.y:i.y},r)).x,y:l.y}}],l[r?"x":"y"]!==i[r?"x":"y"]&&(m=d(l.obstacle,l,i,!r,m),o(l.obstacle,u.hardBounds),m={x:r?l.x:l.obstacle[m?"xMax":"xMin"]+(m?1:-1),y:r?l.obstacle[m?"yMax":"yMin"]+(m?1:-1):l.y},r=!r,e=e.concat(t({x:l.x,y:l.y},m,r)))),e.concat(t(e[e.length-1].end,i,!r))}(t,c,f),{path:i(t=t.concat(m.reverse())),obstacles:t}};return c.requiresObstacles=!0,{fastAvoid:c,straight:function(t,e){return{path:[["M",t.x,t.y],["L",e.x,e.y]],obstacles:[{start:t,end:e}]}},simpleConnect:t}})),e(t,"Gantt/Pathfinder.js",[t["Gantt/Connection.js"],t["Core/Chart/Chart.js"],t["Core/Defaults.js"],t["Core/Globals.js"],t["Core/Series/Point.js"],t["Core/Utilities.js"],t["Gantt/PathfinderAlgorithms.js"]],(function(t,e,n,i,o,r,s){function a(t){var e=t.shapeArgs;return e?{xMin:e.x||0,xMax:(e.x||0)+(e.width||0),yMin:e.y||0,yMax:(e.y||0)+(e.height||0)}:(e=t.graphic&&t.graphic.getBBox())?{xMin:t.plotX-e.width/2,xMax:t.plotX+e.width/2,yMin:t.plotY-e.height/2,yMax:t.plotY+e.height/2}:null}({defaultOptions:n}=n);const{addEvent:l,defined:c,error:u,extend:h,merge:d,pick:p,splat:f}=r,g=Math.max,m=Math.min;h(n,{connectors:{type:"straight",lineWidth:1,marker:{enabled:!1,align:"center",verticalAlign:"middle",inside:!1,lineWidth:1},startMarker:{symbol:"diamond"},endMarker:{symbol:"arrow-filled"}}});class _{constructor(t){this.lineObstacles=this.group=this.connections=this.chartObstacleMetrics=this.chartObstacles=this.chart=void 0,this.init(t)}init(t){this.chart=t,this.connections=[],l(t,"redraw",(function(){this.pathfinder.update()}))}update(e){const n=this.chart,i=this,r=i.connections;i.connections=[],n.series.forEach((function(e){e.visible&&!e.options.isInternal&&e.points.forEach((function(e){var r=e.options;let s;r&&r.dependency&&(r.connect=r.dependency),r=e.options&&e.options.connect&&f(e.options.connect),e.visible&&!1!==e.isInside&&r&&r.forEach((function(r){s=n.get("string"==typeof r?r:r.to),s instanceof o&&s.series.visible&&s.visible&&!1!==s.isInside&&i.connections.push(new t(e,s,"string"==typeof r?{}:r))}))}))}));for(let t,e,n=0,o=r.length,s=i.connections.length;n<o;++n){e=!1;const o=r[n];for(t=0;t<s;++t){const n=i.connections[t];if((o.options&&o.options.type)===(n.options&&n.options.type)&&o.fromPoint===n.fromPoint&&o.toPoint===n.toPoint){n.graphics=o.graphics,e=!0;break}}e||o.destroy()}delete this.chartObstacles,delete this.lineObstacles,i.renderConnections(e)}renderConnections(t){t?this.chart.series.forEach((function(t){const e=function(){const e=t.chart.pathfinder;(e&&e.connections||[]).forEach((function(e){e.fromPoint&&e.fromPoint.series===t&&e.render()})),t.pathfinderRemoveRenderEvent&&(t.pathfinderRemoveRenderEvent(),delete t.pathfinderRemoveRenderEvent)};!1===t.options.animation?e():t.pathfinderRemoveRenderEvent=l(t,"afterAnimate",e)})):this.connections.forEach((function(t){t.render()}))}getChartObstacles(t){let e,n=[],i=this.chart.series,o=p(t.algorithmMargin,0);for(let t=0,e=i.length;t<e;++t)if(i[t].visible&&!i[t].options.isInternal)for(let e,r,s=0,l=i[t].points.length;s<l;++s)r=i[t].points[s],r.visible&&(e=a(r))&&n.push({xMin:e.xMin-o,xMax:e.xMax+o,yMin:e.yMin-o,yMax:e.yMax+o});return n=n.sort((function(t,e){return t.xMin-e.xMin})),c(t.algorithmMargin)||(e=t.algorithmMargin=function(t){let e,n,i=t.length,o=0,r=[],s=function(t,e,n){n=p(n,10);const i=t.yMax+n>e.yMin-n&&t.yMin-n<e.yMax+n,o=t.xMax+n>e.xMin-n&&t.xMin-n<e.xMax+n,r=i?t.xMin>e.xMax?t.xMin-e.xMax:e.xMin-t.xMax:1/0,a=o?t.yMin>e.yMax?t.yMin-e.yMax:e.yMin-t.yMax:1/0;return o&&i?n?s(t,e,Math.floor(n/2)):1/0:m(r,a)};for(;o<i;++o)for(e=o+1;e<i;++e)n=s(t[o],t[e]),80>n&&r.push(n);return r.push(80),g(Math.floor(r.sort((function(t,e){return t-e}))[Math.floor(r.length/10)]/2-1),1)}(n),n.forEach((function(t){t.xMin-=e,t.xMax+=e,t.yMin-=e,t.yMax+=e}))),n}getObstacleMetrics(t){let e,n,i=0,o=0,r=t.length;for(;r--;)e=t[r].xMax-t[r].xMin,n=t[r].yMax-t[r].yMin,i<e&&(i=e),o<n&&(o=n);return{maxHeight:o,maxWidth:i}}getAlgorithmStartDirection(t){let e="top"!==t.verticalAlign&&"bottom"!==t.verticalAlign;return"left"!==t.align&&"right"!==t.align?!!e&&void 0:!!e||void 0}}return _.prototype.algorithms=s,i.Pathfinder=_,h(o.prototype,{getPathfinderAnchorPoint:function(t){let e,n,i=a(this);switch(t.align){case"right":e="xMax";break;case"left":e="xMin"}switch(t.verticalAlign){case"top":n="yMin";break;case"bottom":n="yMax"}return{x:e?i[e]:(i.xMin+i.xMax)/2,y:n?i[n]:(i.yMin+i.yMax)/2}},getRadiansToVector:function(t,e){let n;return c(e)||(n=a(this))&&(e={x:(n.xMin+n.xMax)/2,y:(n.yMin+n.yMax)/2}),Math.atan2(e.y-t.y,t.x-e.x)},getMarkerVector:function(t,e,n){var i=2*Math.PI,o=a(this),r=o.xMax-o.xMin;let s=o.yMax-o.yMin,l=Math.atan2(s,r),c=!1;r/=2;let u=s/2,h=o.xMin+r;var d=h,p=o=o.yMin+u;let f=1,g=1;for(;t<-Math.PI;)t+=i;for(;t>Math.PI;)t-=i;return i=Math.tan(t),t>-l&&t<=l?(g=-1,c=!0):t>l&&t<=Math.PI-l?g=-1:t>Math.PI-l||t<=-(Math.PI-l)?(f=-1,c=!0):f=-1,c?(d+=f*r,p+=g*r*i):(d+=s/(2*i)*f,p+=g*u),n.x!==h&&(d=n.x),n.y!==o&&(p=n.y),{x:d+e*Math.cos(t),y:p-e*Math.sin(t)}}}),e.prototype.callbacks.push((function(t){!1!==t.options.connectors.enabled&&(function(t){(t.options.pathfinder||t.series.reduce((function(t,e){return e.options&&d(!0,e.options.connectors=e.options.connectors||{},e.options.pathfinder),t||e.options&&e.options.pathfinder}),!1))&&(d(!0,t.options.connectors=t.options.connectors||{},t.options.pathfinder),u('WARNING: Pathfinder options have been renamed. Use "chart.connectors" or "series.connectors" instead.'))}(t),this.pathfinder=new _(this),this.pathfinder.update(!0))})),_})),e(t,"Series/Gantt/GanttSeries.js",[t["Core/Axis/Axis.js"],t["Core/Chart/Chart.js"],t["Series/Gantt/GanttPoint.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Axis/Tick.js"],t["Core/Utilities.js"],t["Core/Axis/TreeGrid/TreeGridAxis.js"]],(function(t,e,n,i,o,r,s){const{series:a,seriesTypes:{xrange:l}}=i,{extend:c,isNumber:u,merge:h}=r;s.compose(t,e,a,o);class d extends l{constructor(){super(...arguments),this.points=this.options=this.data=void 0}drawPoint(t,e){let n=this.options,i=this.chart.renderer;var o=t.shapeArgs;let r=t.plotY,s=t.graphic,a=t.selected&&"select",c=n.stacking&&!n.borderRadius;t.options.milestone?u(r)&&null!==t.y&&!1!==t.visible?(o=i.symbols.diamond(o.x||0,o.y||0,o.width||0,o.height||0),s?s[e]({d:o}):t.graphic=i.path(o).addClass(t.getClassName(),!0).add(t.group||this.group),this.chart.styledMode||t.graphic.attr(this.pointAttribs(t,a)).shadow(n.shadow,null,c)):s&&(t.graphic=s.destroy()):l.prototype.drawPoint.call(this,t,e)}translatePoint(t){let e,n;l.prototype.translatePoint.call(this,t),t.options.milestone&&(e=t.shapeArgs,n=e.height||0,t.shapeArgs={x:(e.x||0)-n/2,y:e.y,width:n,height:n})}}return d.defaultOptions=h(l.defaultOptions,{grouping:!1,dataLabels:{enabled:!0},tooltip:{headerFormat:'<span style="font-size: 0.8em">{series.name}</span><br/>',pointFormat:null,pointFormatter:function(){var t=this.series,e=t.xAxis;let n=t.tooltipOptions.dateTimeLabelFormats,i=e.options.startOfWeek,o=t.tooltipOptions,r=o.xDateFormat,s=this.options.milestone,a="<b>"+(this.name||this.yCategory)+"</b>";return o.pointFormat?this.tooltipFormatter(o.pointFormat):(!r&&u(this.start)&&(r=t.chart.time.getDateFormat(e.closestPointRange,this.start,i,n||{})),e=t.chart.time.dateFormat(r,this.start),t=t.chart.time.dateFormat(r,this.end),a+="<br/>",s?a+(e+"<br/>"):a+"Start: "+e+"<br/>End: "+t+"<br/>")}},connectors:{type:"simpleConnect",animation:{reversed:!0},startMarker:{enabled:!0,symbol:"arrow-filled",radius:4,fill:"#fa0",align:"left"},endMarker:{enabled:!1,align:"right"}}}),c(d.prototype,{pointArrayMap:["start","end","y"],pointClass:n,setData:a.prototype.setData}),i.registerSeriesType("gantt",d),d})),e(t,"Core/Chart/GanttChart.js",[t["Core/Chart/Chart.js"],t["Core/Defaults.js"],t["Core/Utilities.js"]],(function(t,e,n){const{getOptions:i}=e,{isArray:o,merge:r,splat:s}=n;class a extends t{init(t,e){const n=i(),a=t.xAxis,l=t.yAxis;let c;t.xAxis=t.yAxis=void 0;const u=r(!0,{chart:{type:"gantt"},title:{text:null},legend:{enabled:!1},navigator:{series:{type:"gantt"},yAxis:{type:"category"}}},t,{isGantt:!0});t.xAxis=a,t.yAxis=l,u.xAxis=(o(t.xAxis)?t.xAxis:[t.xAxis||{},{}]).map((function(t,e){return 1===e&&(c=0),r(n.xAxis,{grid:{enabled:!0},opposite:!0,linkedTo:c},t,{type:"datetime"})})),u.yAxis=s(t.yAxis||{}).map((function(t){return r(n.yAxis,{grid:{enabled:!0},staticScale:50,reversed:!0,type:t.categories?t.type:"treegrid"},t)})),super.init(u,e)}}return function(t){t.ganttChart=function(e,n,i){return new t(e,n,i)}}(a||(a={})),a})),e(t,"Extensions/ArrowSymbols.js",[t["Core/Utilities.js"]],(function(t){function e(t,e,n,i){return[["M",t,e+i/2],["L",t+n,e],["L",t,e+i/2],["L",t+n,e+i]]}function n(t,n,i,o){return e(t,n,i/2,o)}function i(t,e,n,i){return[["M",t+n,e],["L",t,e+i/2],["L",t+n,e+i],["Z"]]}function o(t,e,n,o){return i(t,e,n/2,o)}const r=[];return{compose:function(s){t.pushUnique(r,s)&&((s=s.prototype.symbols).arrow=e,s["arrow-filled"]=i,s["arrow-filled-half"]=o,s["arrow-half"]=n,s["triangle-left"]=i,s["triangle-left-half"]=o)}}})),e(t,"Extensions/CurrentDateIndication.js",[t["Core/Utilities.js"]],(function(t){function e(){const t=this.options;var e=t.currentDateIndicator;e&&((e="object"==typeof e?r(l,e):r(l)).value=Date.now(),e.className="highcharts-current-date-indicator",t.plotLines||(t.plotLines=[]),t.plotLines.push(e))}function n(){this.label&&this.label.attr({text:this.getLabelText(this.options.label)})}function i(t,e){const n=this.options;return n&&n.className&&-1!==n.className.indexOf("highcharts-current-date-indicator")&&n.label&&"function"==typeof n.label.formatter?(n.value=Date.now(),n.label.formatter.call(this,n.value,n.label.format)):t.call(this,e)}const{addEvent:o,merge:r,wrap:s}=t,a=[],l={color:"#ccd3ff",width:2,label:{format:"%a, %b %d %Y, %H:%M",formatter:function(t,e){return this.axis.chart.time.dateFormat(e||"",t)},rotation:0,style:{fontSize:"0.7em"}}};return{compose:function(r,l){t.pushUnique(a,r)&&o(r,"afterSetOptions",e),t.pushUnique(a,l)&&(o(l,"render",n),s(l.prototype,"getLabelText",i))}}})),e(t,"masters/modules/gantt.src.js",[t["Core/Globals.js"],t["Stock/Navigator/Navigator.js"],t["Stock/Scrollbar/Scrollbar.js"],t["Stock/RangeSelector/RangeSelector.js"],t["Series/XRange/XRangeSeries.js"],t["Core/Chart/GanttChart.js"],t["Extensions/ArrowSymbols.js"],t["Extensions/CurrentDateIndication.js"]],(function(t,e,n,i,o,r,s,a){t.GanttChart=r,t.ganttChart=r.ganttChart,t.Navigator=e,t.RangeSelector=i,t.Scrollbar=n,s.compose(t.SVGRenderer),a.compose(t.Axis,t.PlotLineOrBand),e.compose(t.Axis,t.Chart,t.Series),i.compose(t.Axis,t.Chart),n.compose(t.Axis),o.compose(t.Axis)}))},t.exports?(r.default=r,t.exports=r):(i=[n(8840)],void 0===(o=function(t){return r(t),r.Highcharts=t,r}.apply(e,i))||(t.exports=o))},5171:t=>{t.exports=function(t){return!(!t||"string"==typeof t)&&(t instanceof Array||Array.isArray(t)||t.length>=0&&(t.splice instanceof Function||Object.getOwnPropertyDescriptor(t,t.length-1)&&"String"!==t.constructor.name))}},9367:t=>{"use strict";const e=new Set(["ENOTFOUND","ENETUNREACH","UNABLE_TO_GET_ISSUER_CERT","UNABLE_TO_GET_CRL","UNABLE_TO_DECRYPT_CERT_SIGNATURE","UNABLE_TO_DECRYPT_CRL_SIGNATURE","UNABLE_TO_DECODE_ISSUER_PUBLIC_KEY","CERT_SIGNATURE_FAILURE","CRL_SIGNATURE_FAILURE","CERT_NOT_YET_VALID","CERT_HAS_EXPIRED","CRL_NOT_YET_VALID","CRL_HAS_EXPIRED","ERROR_IN_CERT_NOT_BEFORE_FIELD","ERROR_IN_CERT_NOT_AFTER_FIELD","ERROR_IN_CRL_LAST_UPDATE_FIELD","ERROR_IN_CRL_NEXT_UPDATE_FIELD","OUT_OF_MEM","DEPTH_ZERO_SELF_SIGNED_CERT","SELF_SIGNED_CERT_IN_CHAIN","UNABLE_TO_GET_ISSUER_CERT_LOCALLY","UNABLE_TO_VERIFY_LEAF_SIGNATURE","CERT_CHAIN_TOO_LONG","CERT_REVOKED","INVALID_CA","PATH_LENGTH_EXCEEDED","INVALID_PURPOSE","CERT_UNTRUSTED","CERT_REJECTED","HOSTNAME_MISMATCH"]);t.exports=t=>!e.has(t&&t.code)},6745:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Animation=void 0;const i=n(4417),o=n(8588);var r=i.glob.performance&&i.glob.performance.now?function(){return i.glob.performance.now()}:function(){return(new Date).getTime()};class s{constructor(t,e){this.id=s.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:r(),frameRate:0},this.func=t,this.setLayers(e)}setLayers(t){var e=[];return e=t?t.length>0?t:[t]:[],this.layers=e,this}getLayers(){return this.layers}addLayer(t){var e,n=this.layers,i=n.length;for(e=0;e<i;e++)if(n[e]._id===t._id)return!1;return this.layers.push(t),!0}isRunning(){var t,e=s.animations,n=e.length;for(t=0;t<n;t++)if(e[t].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=r(),s._addAnimation(this),this}stop(){return s._removeAnimation(this),this}_updateFrameObject(t){this.frame.timeDiff=t-this.frame.lastTime,this.frame.lastTime=t,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(t){this.animations.push(t),this._handleAnimation()}static _removeAnimation(t){var e,n=t.id,i=this.animations,o=i.length;for(e=0;e<o;e++)if(i[e].id===n){this.animations.splice(e,1);break}}static _runFrames(){var t,e,n,i,o,s,a,l,c={},u=this.animations;for(i=0;i<u.length;i++)if(e=(t=u[i]).layers,n=t.func,t._updateFrameObject(r()),s=e.length,!n||!1!==n.call(t,t.frame))for(o=0;o<s;o++)void 0!==(a=e[o])._id&&(c[a._id]=a);for(l in c)c.hasOwnProperty(l)&&c[l].batchDraw()}static _animationLoop(){var t=s;t.animations.length?(t._runFrames(),o.Util.requestAnimFrame(t._animationLoop)):t.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,o.Util.requestAnimFrame(this._animationLoop))}}s.animations=[],s.animIdCounter=0,s.animRunning=!1,e.Animation=s},4135:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.t2length=e.getQuadraticArcLength=e.getCubicArcLength=e.binomialCoefficients=e.cValues=e.tValues=void 0,e.tValues=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],e.cValues=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],e.binomialCoefficients=[[1],[1,1],[1,2,1],[1,3,3,1]];e.getCubicArcLength=(t,i,o)=>{let r,s,a;r=o/2,s=0;for(let o=0;o<20;o++)a=r*e.tValues[20][o]+r,s+=e.cValues[20][o]*n(t,i,a);return r*s};function n(t,e,n){const o=i(1,n,t),r=i(1,n,e),s=o*o+r*r;return Math.sqrt(s)}e.getQuadraticArcLength=(t,e,n)=>{void 0===n&&(n=1);const i=t[0]-2*t[1]+t[2],o=e[0]-2*e[1]+e[2],r=2*t[1]-2*t[0],s=2*e[1]-2*e[0],a=4*(i*i+o*o),l=4*(i*r+o*s),c=r*r+s*s;if(0===a)return n*Math.sqrt(Math.pow(t[2]-t[0],2)+Math.pow(e[2]-e[0],2));const u=l/(2*a),h=n+u,d=c/a-u*u,p=h*h+d>0?Math.sqrt(h*h+d):0,f=u*u+d>0?Math.sqrt(u*u+d):0,g=u+Math.sqrt(u*u+d)!==0?d*Math.log(Math.abs((h+p)/(u+f))):0;return Math.sqrt(a)/2*(h*p-u*f+g)};const i=(t,n,o)=>{const r=o.length-1;let s,a;if(0===r)return 0;if(0===t){a=0;for(let t=0;t<=r;t++)a+=e.binomialCoefficients[r][t]*Math.pow(1-n,r-t)*Math.pow(n,t)*o[t];return a}s=new Array(r);for(let t=0;t<r;t++)s[t]=r*(o[t+1]-o[t]);return i(t-1,n,s)};e.t2length=(t,e,n)=>{let i=1,o=t/e,r=(t-n(o))/e,s=0;for(;i>.001;){const a=n(o+r),l=Math.abs(t-a)/e;if(l<i)i=l,o+=r;else{const s=n(o-r),a=Math.abs(t-s)/e;a<i?(i=a,o-=r):r/=2}if(s++,s>500)break}return o}},4842:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HitCanvas=e.SceneCanvas=e.Canvas=void 0;const i=n(8588),o=n(3442),r=n(4417),s=n(1455),a=n(3774);var l;class c{constructor(t){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;var e=(t||{}).pixelRatio||r.Konva.pixelRatio||function(){if(l)return l;var t=i.Util.createCanvasElement(),e=t.getContext("2d");return l=(r.Konva._global.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1),i.Util.releaseCanvas(t),l}();this.pixelRatio=e,this._canvas=i.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(t){var e=this.pixelRatio;this.pixelRatio=t,this.setSize(this.getWidth()/e,this.getHeight()/e)}setWidth(t){this.width=this._canvas.width=t*this.pixelRatio,this._canvas.style.width=t+"px";var e=this.pixelRatio;this.getContext()._context.scale(e,e)}setHeight(t){this.height=this._canvas.height=t*this.pixelRatio,this._canvas.style.height=t+"px";var e=this.pixelRatio;this.getContext()._context.scale(e,e)}getWidth(){return this.width}getHeight(){return this.height}setSize(t,e){this.setWidth(t||0),this.setHeight(e||0)}toDataURL(t,e){try{return this._canvas.toDataURL(t,e)}catch(t){try{return this._canvas.toDataURL()}catch(t){return i.Util.error("Unable to get data URL. "+t.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}}e.Canvas=c,s.Factory.addGetterSetter(c,"pixelRatio",void 0,(0,a.getNumberValidator)());e.SceneCanvas=class extends c{constructor(t={width:0,height:0,willReadFrequently:!1}){super(t),this.context=new o.SceneContext(this,{willReadFrequently:t.willReadFrequently}),this.setSize(t.width,t.height)}};e.HitCanvas=class extends c{constructor(t={width:0,height:0}){super(t),this.hitCanvas=!0,this.context=new o.HitContext(this),this.setSize(t.width,t.height)}}},8783:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Container=void 0;const i=n(1455),o=n(7939),r=n(3774);class s extends o.Node{constructor(){super(...arguments),this.children=[]}getChildren(t){if(!t)return this.children||[];const e=this.children||[];var n=[];return e.forEach((function(e){t(e)&&n.push(e)})),n}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach((t=>{t.parent=null,t.index=0,t.remove()})),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach((t=>{t.parent=null,t.index=0,t.destroy()})),this.children=[],this._requestDraw(),this}add(...t){if(0===t.length)return this;if(t.length>1){for(var e=0;e<t.length;e++)this.add(t[e]);return this}const n=t[0];return n.getParent()?(n.moveTo(this),this):(this._validateAdd(n),n.index=this.getChildren().length,n.parent=this,n._clearCaches(),this.getChildren().push(n),this._fire("add",{child:n}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(t){return this._generalFind(t,!1)}findOne(t){var e=this._generalFind(t,!0);return e.length>0?e[0]:void 0}_generalFind(t,e){var n=[];return this._descendants((i=>{const o=i._isMatch(t);return o&&n.push(i),!(!o||!e)})),n}_descendants(t){let e=!1;const n=this.getChildren();for(const i of n){if(e=t(i),e)return!0;if(i.hasChildren()&&(e=i._descendants(t),e))return!0}return!1}toObject(){var t=o.Node.prototype.toObject.call(this);return t.children=[],this.getChildren().forEach((e=>{t.children.push(e.toObject())})),t}isAncestorOf(t){for(var e=t.getParent();e;){if(e._id===this._id)return!0;e=e.getParent()}return!1}clone(t){var e=o.Node.prototype.clone.call(this,t);return this.getChildren().forEach((function(t){e.add(t.clone())})),e}getAllIntersections(t){var e=[];return this.find("Shape").forEach((function(n){n.isVisible()&&n.intersects(t)&&e.push(n)})),e}_clearSelfAndDescendantCache(t){var e;super._clearSelfAndDescendantCache(t),this.isCached()||null===(e=this.children)||void 0===e||e.forEach((function(e){e._clearSelfAndDescendantCache(t)}))}_setChildrenIndices(){var t;null===(t=this.children)||void 0===t||t.forEach((function(t,e){t.index=e})),this._requestDraw()}drawScene(t,e){var n=this.getLayer(),i=t||n&&n.getCanvas(),o=i&&i.getContext(),r=this._getCanvasCache(),s=r&&r.scene,a=i&&i.isCache;if(!this.isVisible()&&!a)return this;if(s){o.save();var l=this.getAbsoluteTransform(e).getMatrix();o.transform(l[0],l[1],l[2],l[3],l[4],l[5]),this._drawCachedSceneCanvas(o),o.restore()}else this._drawChildren("drawScene",i,e);return this}drawHit(t,e){if(!this.shouldDrawHit(e))return this;var n=this.getLayer(),i=t||n&&n.hitCanvas,o=i&&i.getContext(),r=this._getCanvasCache();if(r&&r.hit){o.save();var s=this.getAbsoluteTransform(e).getMatrix();o.transform(s[0],s[1],s[2],s[3],s[4],s[5]),this._drawCachedHitCanvas(o),o.restore()}else this._drawChildren("drawHit",i,e);return this}_drawChildren(t,e,n){var i,o=e&&e.getContext(),r=this.clipWidth(),s=this.clipHeight(),a=this.clipFunc(),l=r&&s||a;const c=n===this;if(l){o.save();var u=this.getAbsoluteTransform(n),h=u.getMatrix();if(o.transform(h[0],h[1],h[2],h[3],h[4],h[5]),o.beginPath(),a)a.call(this,o,this);else{var d=this.clipX(),p=this.clipY();o.rect(d,p,r,s)}o.clip(),h=u.copy().invert().getMatrix(),o.transform(h[0],h[1],h[2],h[3],h[4],h[5])}var f=!c&&"source-over"!==this.globalCompositeOperation()&&"drawScene"===t;f&&(o.save(),o._applyGlobalCompositeOperation(this)),null===(i=this.children)||void 0===i||i.forEach((function(i){i[t](e,n)})),f&&o.restore(),l&&o.restore()}getClientRect(t){var e,n,i,o,r,s=(t=t||{}).skipTransform,a=t.relativeTo,l={x:1/0,y:1/0,width:0,height:0},c=this;null===(e=this.children)||void 0===e||e.forEach((function(e){if(e.visible()){var s=e.getClientRect({relativeTo:c,skipShadow:t.skipShadow,skipStroke:t.skipStroke});0===s.width&&0===s.height||(void 0===n?(n=s.x,i=s.y,o=s.x+s.width,r=s.y+s.height):(n=Math.min(n,s.x),i=Math.min(i,s.y),o=Math.max(o,s.x+s.width),r=Math.max(r,s.y+s.height)))}}));for(var u=this.find("Shape"),h=!1,d=0;d<u.length;d++){if(u[d]._isVisible(this)){h=!0;break}}return l=h&&void 0!==n?{x:n,y:i,width:o-n,height:r-i}:{x:0,y:0,width:0,height:0},s?l:this._transformedRect(l,a)}}e.Container=s,i.Factory.addComponentsGetterSetter(s,"clip",["x","y","width","height"]),i.Factory.addGetterSetter(s,"clipX",void 0,(0,r.getNumberValidator)()),i.Factory.addGetterSetter(s,"clipY",void 0,(0,r.getNumberValidator)()),i.Factory.addGetterSetter(s,"clipWidth",void 0,(0,r.getNumberValidator)()),i.Factory.addGetterSetter(s,"clipHeight",void 0,(0,r.getNumberValidator)()),i.Factory.addGetterSetter(s,"clipFunc")},3442:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HitContext=e.SceneContext=e.Context=void 0;const i=n(8588),o=n(4417);var r=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"];class s{constructor(t){this.canvas=t,o.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(t){t.fillEnabled()&&this._fill(t)}_fill(t){}strokeShape(t){t.hasStroke()&&this._stroke(t)}_stroke(t){}fillStrokeShape(t){t.attrs.fillAfterStrokeEnabled?(this.strokeShape(t),this.fillShape(t)):(this.fillShape(t),this.strokeShape(t))}getTrace(t,e){var n,o,r,s,a=this.traceArr,l=a.length,c="";for(n=0;n<l;n++)(r=(o=a[n]).method)?(s=o.args,c+=r,t?c+="()":i.Util._isArray(s[0])?c+="(["+s.join(",")+"])":(e&&(s=s.map((t=>"number"==typeof t?Math.floor(t):t))),c+="("+s.join(",")+")")):(c+=o.property,t||(c+="="+o.val)),c+=";";return c}clearTrace(){this.traceArr=[]}_trace(t){var e=this.traceArr;e.push(t),e.length>=100&&e.shift()}reset(){var t=this.getCanvas().getPixelRatio();this.setTransform(1*t,0,0,1*t,0,0)}getCanvas(){return this.canvas}clear(t){var e=this.getCanvas();t?this.clearRect(t.x||0,t.y||0,t.width||0,t.height||0):this.clearRect(0,0,e.getWidth()/e.pixelRatio,e.getHeight()/e.pixelRatio)}_applyLineCap(t){const e=t.attrs.lineCap;e&&this.setAttr("lineCap",e)}_applyOpacity(t){var e=t.getAbsoluteOpacity();1!==e&&this.setAttr("globalAlpha",e)}_applyLineJoin(t){const e=t.attrs.lineJoin;e&&this.setAttr("lineJoin",e)}setAttr(t,e){this._context[t]=e}arc(t,e,n,i,o,r){this._context.arc(t,e,n,i,o,r)}arcTo(t,e,n,i,o){this._context.arcTo(t,e,n,i,o)}beginPath(){this._context.beginPath()}bezierCurveTo(t,e,n,i,o,r){this._context.bezierCurveTo(t,e,n,i,o,r)}clearRect(t,e,n,i){this._context.clearRect(t,e,n,i)}clip(){this._context.clip()}closePath(){this._context.closePath()}createImageData(t,e){var n=arguments;return 2===n.length?this._context.createImageData(t,e):1===n.length?this._context.createImageData(t):void 0}createLinearGradient(t,e,n,i){return this._context.createLinearGradient(t,e,n,i)}createPattern(t,e){return this._context.createPattern(t,e)}createRadialGradient(t,e,n,i,o,r){return this._context.createRadialGradient(t,e,n,i,o,r)}drawImage(t,e,n,i,o,r,s,a,l){var c=arguments,u=this._context;3===c.length?u.drawImage(t,e,n):5===c.length?u.drawImage(t,e,n,i,o):9===c.length&&u.drawImage(t,e,n,i,o,r,s,a,l)}ellipse(t,e,n,i,o,r,s,a){this._context.ellipse(t,e,n,i,o,r,s,a)}isPointInPath(t,e,n,i){return n?this._context.isPointInPath(n,t,e,i):this._context.isPointInPath(t,e,i)}fill(t){t?this._context.fill(t):this._context.fill()}fillRect(t,e,n,i){this._context.fillRect(t,e,n,i)}strokeRect(t,e,n,i){this._context.strokeRect(t,e,n,i)}fillText(t,e,n,i){i?this._context.fillText(t,e,n,i):this._context.fillText(t,e,n)}measureText(t){return this._context.measureText(t)}getImageData(t,e,n,i){return this._context.getImageData(t,e,n,i)}lineTo(t,e){this._context.lineTo(t,e)}moveTo(t,e){this._context.moveTo(t,e)}rect(t,e,n,i){this._context.rect(t,e,n,i)}putImageData(t,e,n){this._context.putImageData(t,e,n)}quadraticCurveTo(t,e,n,i){this._context.quadraticCurveTo(t,e,n,i)}restore(){this._context.restore()}rotate(t){this._context.rotate(t)}save(){this._context.save()}scale(t,e){this._context.scale(t,e)}setLineDash(t){this._context.setLineDash?this._context.setLineDash(t):"mozDash"in this._context?this._context.mozDash=t:"webkitLineDash"in this._context&&(this._context.webkitLineDash=t)}getLineDash(){return this._context.getLineDash()}setTransform(t,e,n,i,o,r){this._context.setTransform(t,e,n,i,o,r)}stroke(t){t?this._context.stroke(t):this._context.stroke()}strokeText(t,e,n,i){this._context.strokeText(t,e,n,i)}transform(t,e,n,i,o,r){this._context.transform(t,e,n,i,o,r)}translate(t,e){this._context.translate(t,e)}_enableTrace(){var t,e,n=this,o=r.length,s=this.setAttr,a=function(t){var o,r=n[t];n[t]=function(){return e=function(t){var e,n,o=[],r=t.length,s=i.Util;for(e=0;e<r;e++)n=t[e],s._isNumber(n)?n=Math.round(1e3*n)/1e3:s._isString(n)||(n+=""),o.push(n);return o}(Array.prototype.slice.call(arguments,0)),o=r.apply(n,arguments),n._trace({method:t,args:e}),o}};for(t=0;t<o;t++)a(r[t]);n.setAttr=function(){s.apply(n,arguments);var t=arguments[0],e=arguments[1];"shadowOffsetX"!==t&&"shadowOffsetY"!==t&&"shadowBlur"!==t||(e/=this.canvas.getPixelRatio()),n._trace({property:t,val:e})}}_applyGlobalCompositeOperation(t){const e=t.attrs.globalCompositeOperation;!e||"source-over"===e||this.setAttr("globalCompositeOperation",e)}}e.Context=s,["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"].forEach((function(t){Object.defineProperty(s.prototype,t,{get(){return this._context[t]},set(e){this._context[t]=e}})}));e.SceneContext=class extends s{constructor(t,{willReadFrequently:e=!1}={}){super(t),this._context=t._canvas.getContext("2d",{willReadFrequently:e})}_fillColor(t){var e=t.fill();this.setAttr("fillStyle",e),t._fillFunc(this)}_fillPattern(t){this.setAttr("fillStyle",t._getFillPattern()),t._fillFunc(this)}_fillLinearGradient(t){var e=t._getLinearGradient();e&&(this.setAttr("fillStyle",e),t._fillFunc(this))}_fillRadialGradient(t){const e=t._getRadialGradient();e&&(this.setAttr("fillStyle",e),t._fillFunc(this))}_fill(t){const e=t.fill(),n=t.getFillPriority();if(e&&"color"===n)return void this._fillColor(t);const i=t.getFillPatternImage();if(i&&"pattern"===n)return void this._fillPattern(t);const o=t.getFillLinearGradientColorStops();if(o&&"linear-gradient"===n)return void this._fillLinearGradient(t);const r=t.getFillRadialGradientColorStops();r&&"radial-gradient"===n?this._fillRadialGradient(t):e?this._fillColor(t):i?this._fillPattern(t):o?this._fillLinearGradient(t):r&&this._fillRadialGradient(t)}_strokeLinearGradient(t){const e=t.getStrokeLinearGradientStartPoint(),n=t.getStrokeLinearGradientEndPoint(),i=t.getStrokeLinearGradientColorStops(),o=this.createLinearGradient(e.x,e.y,n.x,n.y);if(i){for(var r=0;r<i.length;r+=2)o.addColorStop(i[r],i[r+1]);this.setAttr("strokeStyle",o)}}_stroke(t){var e=t.dash(),n=t.getStrokeScaleEnabled();if(t.hasStroke()){if(!n){this.save();var i=this.getCanvas().getPixelRatio();this.setTransform(i,0,0,i,0,0)}this._applyLineCap(t),e&&t.dashEnabled()&&(this.setLineDash(e),this.setAttr("lineDashOffset",t.dashOffset())),this.setAttr("lineWidth",t.strokeWidth()),t.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),t.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(t):this.setAttr("strokeStyle",t.stroke()),t._strokeFunc(this),n||this.restore()}}_applyShadow(t){var e,n,i,o=null!==(e=t.getShadowRGBA())&&void 0!==e?e:"black",r=null!==(n=t.getShadowBlur())&&void 0!==n?n:5,s=null!==(i=t.getShadowOffset())&&void 0!==i?i:{x:0,y:0},a=t.getAbsoluteScale(),l=this.canvas.getPixelRatio(),c=a.x*l,u=a.y*l;this.setAttr("shadowColor",o),this.setAttr("shadowBlur",r*Math.min(Math.abs(c),Math.abs(u))),this.setAttr("shadowOffsetX",s.x*c),this.setAttr("shadowOffsetY",s.y*u)}};e.HitContext=class extends s{constructor(t){super(t),this._context=t._canvas.getContext("2d",{willReadFrequently:!0})}_fill(t){this.save(),this.setAttr("fillStyle",t.colorKey),t._fillFuncHit(this),this.restore()}strokeShape(t){t.hasHitStroke()&&this._stroke(t)}_stroke(t){if(t.hasHitStroke()){const o=t.getStrokeScaleEnabled();if(!o){this.save();var e=this.getCanvas().getPixelRatio();this.setTransform(e,0,0,e,0,0)}this._applyLineCap(t);var n=t.hitStrokeWidth(),i="auto"===n?t.strokeWidth():n;this.setAttr("lineWidth",i),this.setAttr("strokeStyle",t.colorKey),t._strokeFuncHit(this),o||this.restore()}}}},210:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DD=void 0;const i=n(4417),o=n(8588);e.DD={get isDragging(){var t=!1;return e.DD._dragElements.forEach((e=>{"dragging"===e.dragStatus&&(t=!0)})),t},justDragged:!1,get node(){var t;return e.DD._dragElements.forEach((e=>{t=e.node})),t},_dragElements:new Map,_drag(t){const n=[];e.DD._dragElements.forEach(((e,i)=>{const{node:r}=e,s=r.getStage();s.setPointersPositions(t),void 0===e.pointerId&&(e.pointerId=o.Util._getFirstPointerId(t));const a=s._changedPointerPositions.find((t=>t.id===e.pointerId));if(a){if("dragging"!==e.dragStatus){var l=r.dragDistance();if(Math.max(Math.abs(a.x-e.startPointerPos.x),Math.abs(a.y-e.startPointerPos.y))<l)return;if(r.startDrag({evt:t}),!r.isDragging())return}r._setDragPosition(t,e),n.push(r)}})),n.forEach((e=>{e.fire("dragmove",{type:"dragmove",target:e,evt:t},!0)}))},_endDragBefore(t){const n=[];e.DD._dragElements.forEach((o=>{const{node:r}=o,s=r.getStage();t&&s.setPointersPositions(t);if(!s._changedPointerPositions.find((t=>t.id===o.pointerId)))return;"dragging"!==o.dragStatus&&"stopped"!==o.dragStatus||(e.DD.justDragged=!0,i.Konva._mouseListenClick=!1,i.Konva._touchListenClick=!1,i.Konva._pointerListenClick=!1,o.dragStatus="stopped");const a=o.node.getLayer()||o.node instanceof i.Konva.Stage&&o.node;a&&-1===n.indexOf(a)&&n.push(a)})),n.forEach((t=>{t.draw()}))},_endDragAfter(t){e.DD._dragElements.forEach(((n,i)=>{"stopped"===n.dragStatus&&n.node.fire("dragend",{type:"dragend",target:n.node,evt:t},!0),"dragging"!==n.dragStatus&&e.DD._dragElements.delete(i)}))}},i.Konva.isBrowser&&(window.addEventListener("mouseup",e.DD._endDragBefore,!0),window.addEventListener("touchend",e.DD._endDragBefore,!0),window.addEventListener("mousemove",e.DD._drag),window.addEventListener("touchmove",e.DD._drag),window.addEventListener("mouseup",e.DD._endDragAfter,!1),window.addEventListener("touchend",e.DD._endDragAfter,!1))},1455:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Factory=void 0;const i=n(8588),o=n(3774);var r="get",s="set";e.Factory={addGetterSetter(t,n,i,o,r){e.Factory.addGetter(t,n,i),e.Factory.addSetter(t,n,o,r),e.Factory.addOverloadedGetterSetter(t,n)},addGetter(t,e,n){var o=r+i.Util._capitalize(e);t.prototype[o]=t.prototype[o]||function(){var t=this.attrs[e];return void 0===t?n:t}},addSetter(t,n,o,r){var a=s+i.Util._capitalize(n);t.prototype[a]||e.Factory.overWriteSetter(t,n,o,r)},overWriteSetter(t,e,n,o){var r=s+i.Util._capitalize(e);t.prototype[r]=function(t){return n&&null!=t&&(t=n.call(this,t,e)),this._setAttr(e,t),o&&o.call(this),this}},addComponentsGetterSetter(t,n,a,l,c){var u,h,d=a.length,p=i.Util._capitalize,f=r+p(n),g=s+p(n);t.prototype[f]=function(){var t={};for(u=0;u<d;u++)t[h=a[u]]=this.getAttr(n+p(h));return t};var m=(0,o.getComponentValidator)(a);t.prototype[g]=function(t){var e,i=this.attrs[n];for(e in l&&(t=l.call(this,t)),m&&m.call(this,t,n),t)t.hasOwnProperty(e)&&this._setAttr(n+p(e),t[e]);return t||a.forEach((t=>{this._setAttr(n+p(t),void 0)})),this._fireChangeEvent(n,i,t),c&&c.call(this),this},e.Factory.addOverloadedGetterSetter(t,n)},addOverloadedGetterSetter(t,e){var n=i.Util._capitalize(e),o=s+n,a=r+n;t.prototype[e]=function(){return arguments.length?(this[o](arguments[0]),this):this[a]()}},addDeprecatedGetterSetter(t,n,o,s){i.Util.error("Adding deprecated "+n);var a=r+i.Util._capitalize(n),l=n+" property is deprecated and will be removed soon. Look at Konva change log for more information.";t.prototype[a]=function(){i.Util.error(l);var t=this.attrs[n];return void 0===t?o:t},e.Factory.addSetter(t,n,s,(function(){i.Util.error(l)})),e.Factory.addOverloadedGetterSetter(t,n)},backCompat(t,e){i.Util.each(e,(function(e,n){var o=t.prototype[n],a=r+i.Util._capitalize(e),l=s+i.Util._capitalize(e);function c(){o.apply(this,arguments),i.Util.error('"'+e+'" method is deprecated and will be removed soon. Use ""'+n+'" instead.')}t.prototype[e]=c,t.prototype[a]=c,t.prototype[l]=c}))},afterSetFilter(){this._filterUpToDate=!1}}},3980:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FastLayer=void 0;const i=n(8588),o=n(4415),r=n(4417);class s extends o.Layer{constructor(t){super(t),this.listening(!1),i.Util.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}}e.FastLayer=s,s.prototype.nodeType="FastLayer",(0,r._registerNode)(s)},4417:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e._registerNode=e.Konva=e.glob=void 0;var i=Math.PI/180;e.glob=void 0!==n.g?n.g:"undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope?self:{},e.Konva={_global:e.glob,version:"9.0.1",isBrowser:"undefined"!=typeof window&&("[object Window]"==={}.toString.call(window)||"[object global]"==={}.toString.call(window)),isUnminified:/param/.test(function(t){}.toString()),dblClickWindow:400,getAngle:t=>e.Konva.angleDeg?t*i:t,enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,pixelRatio:"undefined"!=typeof window&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging:()=>e.Konva.DD.isDragging,isDragReady:()=>!!e.Konva.DD.node,releaseCanvasOnDestroy:!0,document:e.glob.document,_injectGlobal(t){e.glob.Konva=t}};e._registerNode=t=>{e.Konva[t.prototype.getClassName()]=t},e.Konva._injectGlobal(e.Konva)},8985:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Group=void 0;const i=n(8588),o=n(8783),r=n(4417);class s extends o.Container{_validateAdd(t){var e=t.getType();"Group"!==e&&"Shape"!==e&&i.Util.throw("You may only add groups and shapes to groups.")}}e.Group=s,s.prototype.nodeType="Group",(0,r._registerNode)(s)},4415:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Layer=void 0;const i=n(8588),o=n(8783),r=n(7939),s=n(1455),a=n(4842),l=n(3774),c=n(7955),u=n(4417);var h=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],d=h.length;class p extends o.Container{constructor(t){super(t),this.canvas=new a.SceneCanvas,this.hitCanvas=new a.HitCanvas({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(t){return this.getContext().clear(t),this.getHitCanvas().getContext().clear(t),this}setZIndex(t){super.setZIndex(t);var e=this.getStage();return e&&e.content&&(e.content.removeChild(this.getNativeCanvasElement()),t<e.children.length-1?e.content.insertBefore(this.getNativeCanvasElement(),e.children[t+1].getCanvas()._canvas):e.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){r.Node.prototype.moveToTop.call(this);var t=this.getStage();return t&&t.content&&(t.content.removeChild(this.getNativeCanvasElement()),t.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!r.Node.prototype.moveUp.call(this))return!1;var t=this.getStage();return!(!t||!t.content)&&(t.content.removeChild(this.getNativeCanvasElement()),this.index<t.children.length-1?t.content.insertBefore(this.getNativeCanvasElement(),t.children[this.index+1].getCanvas()._canvas):t.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(r.Node.prototype.moveDown.call(this)){var t=this.getStage();if(t){var e=t.children;t.content&&(t.content.removeChild(this.getNativeCanvasElement()),t.content.insertBefore(this.getNativeCanvasElement(),e[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(r.Node.prototype.moveToBottom.call(this)){var t=this.getStage();if(t){var e=t.children;t.content&&(t.content.removeChild(this.getNativeCanvasElement()),t.content.insertBefore(this.getNativeCanvasElement(),e[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){var t=this.getNativeCanvasElement();return r.Node.prototype.remove.call(this),t&&t.parentNode&&i.Util._isInDocument(t)&&t.parentNode.removeChild(t),this}getStage(){return this.parent}setSize({width:t,height:e}){return this.canvas.setSize(t,e),this.hitCanvas.setSize(t,e),this._setSmoothEnabled(),this}_validateAdd(t){var e=t.getType();"Group"!==e&&"Shape"!==e&&i.Util.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(t){return(t=t||{}).width=t.width||this.getWidth(),t.height=t.height||this.getHeight(),t.x=void 0!==t.x?t.x:this.x(),t.y=void 0!==t.y?t.y:this.y(),r.Node.prototype._toKonvaCanvas.call(this,t)}_checkVisibility(){const t=this.visible();this.canvas._canvas.style.display=t?"block":"none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){i.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){i.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,i.Util.requestAnimFrame((()=>{this.draw(),this._waitingForDraw=!1}))),this}getIntersection(t){if(!this.isListening()||!this.isVisible())return null;for(var e=1,n=!1;;){for(let i=0;i<d;i++){const o=h[i],r=this._getIntersection({x:t.x+o.x*e,y:t.y+o.y*e}),s=r.shape;if(s)return s;if(n=!!r.antialiased,!r.antialiased)break}if(!n)return null;e+=1}}_getIntersection(t){const e=this.hitCanvas.pixelRatio,n=this.hitCanvas.context.getImageData(Math.round(t.x*e),Math.round(t.y*e),1,1).data,o=n[3];if(255===o){const t=i.Util._rgbToHex(n[0],n[1],n[2]),e=c.shapes["#"+t];return e?{shape:e}:{antialiased:!0}}return o>0?{antialiased:!0}:{}}drawScene(t,e){var n=this.getLayer(),i=t||n&&n.getCanvas();return this._fire("beforeDraw",{node:this}),this.clearBeforeDraw()&&i.getContext().clear(),o.Container.prototype.drawScene.call(this,i,e),this._fire("draw",{node:this}),this}drawHit(t,e){var n=this.getLayer(),i=t||n&&n.hitCanvas;return n&&n.clearBeforeDraw()&&n.getHitCanvas().getContext().clear(),o.Container.prototype.drawHit.call(this,i,e),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(t){i.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(t)}getHitGraphEnabled(t){return i.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(this.parent&&this.parent.content){var t=this.parent;!!this.hitCanvas._canvas.parentNode?t.content.removeChild(this.hitCanvas._canvas):t.content.appendChild(this.hitCanvas._canvas)}}destroy(){return i.Util.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}}e.Layer=p,p.prototype.nodeType="Layer",(0,u._registerNode)(p),s.Factory.addGetterSetter(p,"imageSmoothingEnabled",!0),s.Factory.addGetterSetter(p,"clearBeforeDraw",!0),s.Factory.addGetterSetter(p,"hitGraphEnabled",!0,(0,l.getBooleanValidator)())},7939:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Node=void 0;const i=n(8588),o=n(1455),r=n(4842),s=n(4417),a=n(210),l=n(3774);var c="absoluteOpacity",u="allEventListeners",h="absoluteTransform",d="absoluteScale",p="canvas",f="listening",g="mouseenter",m="mouseleave",_="Shape",y=" ",v="stage",C="transform",b="visible",E=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(y);let S=1;class w{constructor(t){this._id=S++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(t),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(t){t!==C&&t!==h||!this._cache.get(t)?t?this._cache.delete(t):this._cache.clear():this._cache.get(t).dirty=!0}_getCache(t,e){var n=this._cache.get(t);return(void 0===n||(t===C||t===h)&&!0===n.dirty)&&(n=e.call(this),this._cache.set(t,n)),n}_calculate(t,e,n){if(!this._attachedDepsListeners.get(t)){const n=e.map((t=>t+"Change.konva")).join(y);this.on(n,(()=>{this._clearCache(t)})),this._attachedDepsListeners.set(t,!0)}return this._getCache(t,n)}_getCanvasCache(){return this._cache.get(p)}_clearSelfAndDescendantCache(t){this._clearCache(t),t===h&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(p)){const{scene:t,filter:e,hit:n}=this._cache.get(p);i.Util.releaseCanvas(t,e,n),this._cache.delete(p)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(t){var e=t||{},n={};void 0!==e.x&&void 0!==e.y&&void 0!==e.width&&void 0!==e.height||(n=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()}));var o=Math.ceil(e.width||n.width),s=Math.ceil(e.height||n.height),a=e.pixelRatio,l=void 0===e.x?Math.floor(n.x):e.x,u=void 0===e.y?Math.floor(n.y):e.y,h=e.offset||0,f=e.drawBorder||!1,g=e.hitCanvasPixelRatio||1;if(o&&s){o+=2*h+1,s+=2*h+1,l-=h,u-=h;var m=new r.SceneCanvas({pixelRatio:a,width:o,height:s}),_=new r.SceneCanvas({pixelRatio:a,width:0,height:0,willReadFrequently:!0}),y=new r.HitCanvas({pixelRatio:g,width:o,height:s}),v=m.getContext(),C=y.getContext();return y.isCache=!0,m.isCache=!0,this._cache.delete(p),this._filterUpToDate=!1,!1===e.imageSmoothingEnabled&&(m.getContext()._context.imageSmoothingEnabled=!1,_.getContext()._context.imageSmoothingEnabled=!1),v.save(),C.save(),v.translate(-l,-u),C.translate(-l,-u),this._isUnderCache=!0,this._clearSelfAndDescendantCache(c),this._clearSelfAndDescendantCache(d),this.drawScene(m,this),this.drawHit(y,this),this._isUnderCache=!1,v.restore(),C.restore(),f&&(v.save(),v.beginPath(),v.rect(0,0,o,s),v.closePath(),v.setAttr("strokeStyle","red"),v.setAttr("lineWidth",5),v.stroke(),v.restore()),this._cache.set(p,{scene:m,filter:_,hit:y,x:l,y:u}),this._requestDraw(),this}i.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.")}isCached(){return this._cache.has(p)}getClientRect(t){throw new Error('abstract "getClientRect" method call')}_transformedRect(t,e){var n,i,o,r,s=[{x:t.x,y:t.y},{x:t.x+t.width,y:t.y},{x:t.x+t.width,y:t.y+t.height},{x:t.x,y:t.y+t.height}],a=this.getAbsoluteTransform(e);return s.forEach((function(t){var e=a.point(t);void 0===n&&(n=o=e.x,i=r=e.y),n=Math.min(n,e.x),i=Math.min(i,e.y),o=Math.max(o,e.x),r=Math.max(r,e.y)})),{x:n,y:i,width:o-n,height:r-i}}_drawCachedSceneCanvas(t){t.save(),t._applyOpacity(this),t._applyGlobalCompositeOperation(this);const e=this._getCanvasCache();t.translate(e.x,e.y);var n=this._getCachedSceneCanvas(),i=n.pixelRatio;t.drawImage(n._canvas,0,0,n.width/i,n.height/i),t.restore()}_drawCachedHitCanvas(t){var e=this._getCanvasCache(),n=e.hit;t.save(),t.translate(e.x,e.y),t.drawImage(n._canvas,0,0,n.width/n.pixelRatio,n.height/n.pixelRatio),t.restore()}_getCachedSceneCanvas(){var t,e,n,o,r=this.filters(),s=this._getCanvasCache(),a=s.scene,l=s.filter,c=l.getContext();if(r){if(!this._filterUpToDate){var u=a.pixelRatio;l.setSize(a.width/a.pixelRatio,a.height/a.pixelRatio);try{for(t=r.length,c.clear(),c.drawImage(a._canvas,0,0,a.getWidth()/u,a.getHeight()/u),e=c.getImageData(0,0,l.getWidth(),l.getHeight()),n=0;n<t;n++)"function"==typeof(o=r[n])?(o.call(this,e),c.putImageData(e,0,0)):i.Util.error("Filter should be type of function, but got "+typeof o+" instead. Please check correct filters")}catch(t){i.Util.error("Unable to apply filter. "+t.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return l}return a}on(t,e){if(this._cache&&this._cache.delete(u),3===arguments.length)return this._delegate.apply(this,arguments);var n,i,o,r,s=t.split(y),a=s.length;for(n=0;n<a;n++)o=(i=s[n].split("."))[0],r=i[1]||"",this.eventListeners[o]||(this.eventListeners[o]=[]),this.eventListeners[o].push({name:r,handler:e});return this}off(t,e){var n,i,o,r,s,a=(t||"").split(y),l=a.length;if(this._cache&&this._cache.delete(u),!t)for(i in this.eventListeners)this._off(i);for(n=0;n<l;n++)if(r=(o=a[n].split("."))[0],s=o[1],r)this.eventListeners[r]&&this._off(r,s,e);else for(i in this.eventListeners)this._off(i,s,e);return this}dispatchEvent(t){var e={target:this,type:t.type,evt:t};return this.fire(t.type,e),this}addEventListener(t,e){return this.on(t,(function(t){e.call(this,t.evt)})),this}removeEventListener(t){return this.off(t),this}_delegate(t,e,n){var o=this;this.on(t,(function(t){for(var r=t.target.findAncestors(e,!0,o),s=0;s<r.length;s++)(t=i.Util.cloneObject(t)).currentTarget=r[s],n.call(r[s],t)}))}remove(){return this.isDragging()&&this.stopDrag(),a.DD._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(h),this._clearSelfAndDescendantCache(c),this._clearSelfAndDescendantCache(d),this._clearSelfAndDescendantCache(v),this._clearSelfAndDescendantCache(b),this._clearSelfAndDescendantCache(f)}_remove(){this._clearCaches();var t=this.getParent();t&&t.children&&(t.children.splice(this.index,1),t._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(t){var e="get"+i.Util._capitalize(t);return i.Util._isFunction(this[e])?this[e]():this.attrs[t]}getAncestors(){for(var t=this.getParent(),e=[];t;)e.push(t),t=t.getParent();return e}getAttrs(){return this.attrs||{}}setAttrs(t){return this._batchTransformChanges((()=>{var e,n;if(!t)return this;for(e in t)"children"!==e&&(n="set"+i.Util._capitalize(e),i.Util._isFunction(this[n])?this[n](t[e]):this._setAttr(e,t[e]))})),this}isListening(){return this._getCache(f,this._isListening)}_isListening(t){if(!this.listening())return!1;const e=this.getParent();return!e||e===t||this===t||e._isListening(t)}isVisible(){return this._getCache(b,this._isVisible)}_isVisible(t){if(!this.visible())return!1;const e=this.getParent();return!e||e===t||this===t||e._isVisible(t)}shouldDrawHit(t,e=!1){if(t)return this._isVisible(t)&&this._isListening(t);var n=this.getLayer(),i=!1;a.DD._dragElements.forEach((t=>{"dragging"===t.dragStatus&&("Stage"===t.node.nodeType||t.node.getLayer()===n)&&(i=!0)}));var o=!e&&!s.Konva.hitOnDragEnabled&&i;return this.isListening()&&this.isVisible()&&!o}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){var t,e,n,i,o=this.getDepth(),r=this,s=0;return"Stage"!==r.nodeType&&function a(l){for(t=[],e=l.length,n=0;n<e;n++)i=l[n],s++,i.nodeType!==_&&(t=t.concat(i.getChildren().slice())),i._id===r._id&&(n=e);t.length>0&&t[0].getDepth()<=o&&a(t)}(r.getStage().getChildren()),s}getDepth(){for(var t=0,e=this.parent;e;)t++,e=e.parent;return t}_batchTransformChanges(t){this._batchingTransformChange=!0,t(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(C),this._clearSelfAndDescendantCache(h)),this._needClearTransformCache=!1}setPosition(t){return this._batchTransformChanges((()=>{this.x(t.x),this.y(t.y)})),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){if(!this.getStage())return null;var t=this.getStage().getPointerPosition();if(!t)return null;var e=this.getAbsoluteTransform().copy();return e.invert(),e.point(t)}getAbsolutePosition(t){let e=!1,n=this.parent;for(;n;){if(n.isCached()){e=!0;break}n=n.parent}e&&!t&&(t=!0);var o=this.getAbsoluteTransform(t).getMatrix(),r=new i.Transform,s=this.offset();return r.m=o.slice(),r.translate(s.x,s.y),r.getTranslation()}setAbsolutePosition(t){var e=this._clearTransform();this.attrs.x=e.x,this.attrs.y=e.y,delete e.x,delete e.y,this._clearCache(C);var n=this._getAbsoluteTransform().copy();return n.invert(),n.translate(t.x,t.y),t={x:this.attrs.x+n.getTranslation().x,y:this.attrs.y+n.getTranslation().y},this._setTransform(e),this.setPosition({x:t.x,y:t.y}),this._clearCache(C),this._clearSelfAndDescendantCache(h),this}_setTransform(t){var e;for(e in t)this.attrs[e]=t[e]}_clearTransform(){var t={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,t}move(t){var e=t.x,n=t.y,i=this.x(),o=this.y();return void 0!==e&&(i+=e),void 0!==n&&(o+=n),this.setPosition({x:i,y:o}),this}_eachAncestorReverse(t,e){var n,i,o=[],r=this.getParent();if(!e||e._id!==this._id){for(o.unshift(this);r&&(!e||r._id!==e._id);)o.unshift(r),r=r.parent;for(n=o.length,i=0;i<n;i++)t(o[i])}}rotate(t){return this.rotation(this.rotation()+t),this}moveToTop(){if(!this.parent)return i.Util.warn("Node has no parent. moveToTop function is ignored."),!1;var t=this.index;return t<this.parent.getChildren().length-1&&(this.parent.children.splice(t,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0)}moveUp(){if(!this.parent)return i.Util.warn("Node has no parent. moveUp function is ignored."),!1;var t=this.index;return t<this.parent.getChildren().length-1&&(this.parent.children.splice(t,1),this.parent.children.splice(t+1,0,this),this.parent._setChildrenIndices(),!0)}moveDown(){if(!this.parent)return i.Util.warn("Node has no parent. moveDown function is ignored."),!1;var t=this.index;return t>0&&(this.parent.children.splice(t,1),this.parent.children.splice(t-1,0,this),this.parent._setChildrenIndices(),!0)}moveToBottom(){if(!this.parent)return i.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;var t=this.index;return t>0&&(this.parent.children.splice(t,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0)}setZIndex(t){if(!this.parent)return i.Util.warn("Node has no parent. zIndex parameter is ignored."),this;(t<0||t>=this.parent.children.length)&&i.Util.warn("Unexpected value "+t+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");var e=this.index;return this.parent.children.splice(e,1),this.parent.children.splice(t,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(c,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){var t=this.opacity(),e=this.getParent();return e&&!e._isUnderCache&&(t*=e.getAbsoluteOpacity()),t}moveTo(t){return this.getParent()!==t&&(this._remove(),t.add(this)),this}toObject(){var t,e,n,o,r={},s=this.getAttrs();for(t in r.attrs={},s)e=s[t],i.Util.isObject(e)&&!i.Util._isPlainObject(e)&&!i.Util._isArray(e)||(n="function"==typeof this[t]&&this[t],delete s[t],o=n?n.call(this):null,s[t]=e,o!==e&&(r.attrs[t]=e));return r.className=this.getClassName(),i.Util._prepareToStringify(r)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(t,e,n){var i=[];e&&this._isMatch(t)&&i.push(this);for(var o=this.parent;o;){if(o===n)return i;o._isMatch(t)&&i.push(o),o=o.parent}return i}isAncestorOf(t){return!1}findAncestor(t,e,n){return this.findAncestors(t,e,n)[0]}_isMatch(t){if(!t)return!1;if("function"==typeof t)return t(this);var e,n,o=t.replace(/ /g,"").split(","),r=o.length;for(e=0;e<r;e++)if(n=o[e],i.Util.isValidSelector(n)||(i.Util.warn('Selector "'+n+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),i.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),i.Util.warn("Konva is awesome, right?")),"#"===n.charAt(0)){if(this.id()===n.slice(1))return!0}else if("."===n.charAt(0)){if(this.hasName(n.slice(1)))return!0}else if(this.className===n||this.nodeType===n)return!0;return!1}getLayer(){var t=this.getParent();return t?t.getLayer():null}getStage(){return this._getCache(v,this._getStage)}_getStage(){var t=this.getParent();return t?t.getStage():void 0}fire(t,e={},n){return e.target=e.target||this,n?this._fireAndBubble(t,e):this._fire(t,e),this}getAbsoluteTransform(t){return t?this._getAbsoluteTransform(t):this._getCache(h,this._getAbsoluteTransform)}_getAbsoluteTransform(t){var e;if(t)return e=new i.Transform,this._eachAncestorReverse((function(t){var n=t.transformsEnabled();"all"===n?e.multiply(t.getTransform()):"position"===n&&e.translate(t.x()-t.offsetX(),t.y()-t.offsetY())}),t),e;e=this._cache.get(h)||new i.Transform,this.parent?this.parent.getAbsoluteTransform().copyInto(e):e.reset();var n=this.transformsEnabled();if("all"===n)e.multiply(this.getTransform());else if("position"===n){const t=this.attrs.x||0,n=this.attrs.y||0,i=this.attrs.offsetX||0,o=this.attrs.offsetY||0;e.translate(t-i,n-o)}return e.dirty=!1,e}getAbsoluteScale(t){for(var e=this;e;)e._isUnderCache&&(t=e),e=e.getParent();const n=this.getAbsoluteTransform(t).decompose();return{x:n.scaleX,y:n.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(C,this._getTransform)}_getTransform(){var t,e,n=this._cache.get(C)||new i.Transform;n.reset();var o=this.x(),r=this.y(),a=s.Konva.getAngle(this.rotation()),l=null!==(t=this.attrs.scaleX)&&void 0!==t?t:1,c=null!==(e=this.attrs.scaleY)&&void 0!==e?e:1,u=this.attrs.skewX||0,h=this.attrs.skewY||0,d=this.attrs.offsetX||0,p=this.attrs.offsetY||0;return 0===o&&0===r||n.translate(o,r),0!==a&&n.rotate(a),0===u&&0===h||n.skew(u,h),1===l&&1===c||n.scale(l,c),0===d&&0===p||n.translate(-1*d,-1*p),n.dirty=!1,n}clone(t){var e,n,o,r,s,a=i.Util.cloneObject(this.attrs);for(e in t)a[e]=t[e];var l=new this.constructor(a);for(e in this.eventListeners)for(o=(n=this.eventListeners[e]).length,r=0;r<o;r++)(s=n[r]).name.indexOf("konva")<0&&(l.eventListeners[e]||(l.eventListeners[e]=[]),l.eventListeners[e].push(s));return l}_toKonvaCanvas(t){t=t||{};var e=this.getClientRect(),n=this.getStage(),i=void 0!==t.x?t.x:Math.floor(e.x),o=void 0!==t.y?t.y:Math.floor(e.y),s=t.pixelRatio||1,a=new r.SceneCanvas({width:t.width||Math.ceil(e.width)||(n?n.width():0),height:t.height||Math.ceil(e.height)||(n?n.height():0),pixelRatio:s}),l=a.getContext();return!1===t.imageSmoothingEnabled&&(l._context.imageSmoothingEnabled=!1),l.save(),(i||o)&&l.translate(-1*i,-1*o),this.drawScene(a),l.restore(),a}toCanvas(t){return this._toKonvaCanvas(t)._canvas}toDataURL(t){var e=(t=t||{}).mimeType||null,n=t.quality||null,i=this._toKonvaCanvas(t).toDataURL(e,n);return t.callback&&t.callback(i),i}toImage(t){return new Promise(((e,n)=>{try{const n=null==t?void 0:t.callback;n&&delete t.callback,i.Util._urlToImage(this.toDataURL(t),(function(t){e(t),null==n||n(t)}))}catch(t){n(t)}}))}toBlob(t){return new Promise(((e,n)=>{try{const n=null==t?void 0:t.callback;n&&delete t.callback,this.toCanvas(t).toBlob((t=>{e(t),null==n||n(t)}))}catch(t){n(t)}}))}setSize(t){return this.width(t.width),this.height(t.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return void 0!==this.attrs.dragDistance?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():s.Konva.dragDistance}_off(t,e,n){var i,o,r,s=this.eventListeners[t];for(i=0;i<s.length;i++)if(o=s[i].name,r=s[i].handler,!("konva"===o&&"konva"!==e||e&&o!==e||n&&n!==r)){if(s.splice(i,1),0===s.length){delete this.eventListeners[t];break}i--}}_fireChangeEvent(t,e,n){this._fire(t+"Change",{oldVal:e,newVal:n})}addName(t){if(!this.hasName(t)){var e=this.name(),n=e?e+" "+t:t;this.name(n)}return this}hasName(t){if(!t)return!1;const e=this.name();return!!e&&-1!==(e||"").split(/\s/g).indexOf(t)}removeName(t){var e=(this.name()||"").split(/\s/g),n=e.indexOf(t);return-1!==n&&(e.splice(n,1),this.name(e.join(" "))),this}setAttr(t,e){var n=this["set"+i.Util._capitalize(t)];return i.Util._isFunction(n)?n.call(this,e):this._setAttr(t,e),this}_requestDraw(){if(s.Konva.autoDrawEnabled){const t=this.getLayer()||this.getStage();null==t||t.batchDraw()}}_setAttr(t,e){var n=this.attrs[t];(n!==e||i.Util.isObject(e))&&(null==e?delete this.attrs[t]:this.attrs[t]=e,this._shouldFireChangeEvents&&this._fireChangeEvent(t,n,e),this._requestDraw())}_setComponentAttr(t,e,n){var i;void 0!==n&&((i=this.attrs[t])||(this.attrs[t]=this.getAttr(t)),this.attrs[t][e]=n,this._fireChangeEvent(t,i,n))}_fireAndBubble(t,e,n){if(e&&this.nodeType===_&&(e.target=this),!((t===g||t===m)&&(n&&(this===n||this.isAncestorOf&&this.isAncestorOf(n))||"Stage"===this.nodeType&&!n))){this._fire(t,e);var i=(t===g||t===m)&&n&&n.isAncestorOf&&n.isAncestorOf(this)&&!n.isAncestorOf(this.parent);(e&&!e.cancelBubble||!e)&&this.parent&&this.parent.isListening()&&!i&&(n&&n.parent?this._fireAndBubble.call(this.parent,t,e,n):this._fireAndBubble.call(this.parent,t,e))}}_getProtoListeners(t){var e,n,i;const o=null!==(e=this._cache.get(u))&&void 0!==e?e:{};let r=null==o?void 0:o[t];if(void 0===r){r=[];let e=Object.getPrototypeOf(this);for(;e;){const o=null!==(i=null===(n=e.eventListeners)||void 0===n?void 0:n[t])&&void 0!==i?i:[];r.push(...o),e=Object.getPrototypeOf(e)}o[t]=r,this._cache.set(u,o)}return r}_fire(t,e){(e=e||{}).currentTarget=this,e.type=t;const n=this._getProtoListeners(t);if(n)for(var i=0;i<n.length;i++)n[i].handler.call(this,e);const o=this.eventListeners[t];if(o)for(i=0;i<o.length;i++)o[i].handler.call(this,e)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(t){var e=t?t.pointerId:void 0,n=this.getStage(),i=this.getAbsolutePosition(),o=n._getPointerById(e)||n._changedPointerPositions[0]||i;a.DD._dragElements.set(this._id,{node:this,startPointerPos:o,offset:{x:o.x-i.x,y:o.y-i.y},dragStatus:"ready",pointerId:e})}startDrag(t,e=!0){a.DD._dragElements.has(this._id)||this._createDragElement(t);a.DD._dragElements.get(this._id).dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:t&&t.evt},e)}_setDragPosition(t,e){const n=this.getStage()._getPointerById(e.pointerId);if(n){var o={x:n.x-e.offset.x,y:n.y-e.offset.y},r=this.dragBoundFunc();if(void 0!==r){const e=r.call(this,o,t);e?o=e:i.Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}this._lastPos&&this._lastPos.x===o.x&&this._lastPos.y===o.y||(this.setAbsolutePosition(o),this._requestDraw()),this._lastPos=o}}stopDrag(t){const e=a.DD._dragElements.get(this._id);e&&(e.dragStatus="stopped"),a.DD._endDragBefore(t),a.DD._endDragAfter(t)}setDraggable(t){this._setAttr("draggable",t),this._dragChange()}isDragging(){const t=a.DD._dragElements.get(this._id);return!!t&&"dragging"===t.dragStatus}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",(function(t){if((!(void 0!==t.evt.button)||s.Konva.dragButtons.indexOf(t.evt.button)>=0)&&!this.isDragging()){var e=!1;a.DD._dragElements.forEach((t=>{this.isAncestorOf(t.node)&&(e=!0)})),e||this._createDragElement(t)}}))}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;const t=a.DD._dragElements.get(this._id),e=t&&"dragging"===t.dragStatus,n=t&&"ready"===t.dragStatus;e?this.stopDrag():n&&a.DD._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(t={x:0,y:0}){const e=this.getStage();if(!e)return!1;const n={x:-t.x,y:-t.y,width:e.width()+2*t.x,height:e.height()+2*t.y};return i.Util.haveIntersection(n,this.getClientRect())}static create(t,e){return i.Util._isString(t)&&(t=JSON.parse(t)),this._createNode(t,e)}static _createNode(t,e){var n,o,r,a=w.prototype.getClassName.call(t),l=t.children;e&&(t.attrs.container=e),s.Konva[a]||(i.Util.warn('Can not find a node with class name "'+a+'". Fallback to "Shape".'),a="Shape");if(n=new(0,s.Konva[a])(t.attrs),l)for(o=l.length,r=0;r<o;r++)n.add(w._createNode(l[r]));return n}}e.Node=w,w.prototype.nodeType="Node",w.prototype._attrsAffectingSize=[],w.prototype.eventListeners={},w.prototype.on.call(w.prototype,E,(function(){this._batchingTransformChange?this._needClearTransformCache=!0:(this._clearCache(C),this._clearSelfAndDescendantCache(h))})),w.prototype.on.call(w.prototype,"visibleChange.konva",(function(){this._clearSelfAndDescendantCache(b)})),w.prototype.on.call(w.prototype,"listeningChange.konva",(function(){this._clearSelfAndDescendantCache(f)})),w.prototype.on.call(w.prototype,"opacityChange.konva",(function(){this._clearSelfAndDescendantCache(c)}));const O=o.Factory.addGetterSetter;O(w,"zIndex"),O(w,"absolutePosition"),O(w,"position"),O(w,"x",0,(0,l.getNumberValidator)()),O(w,"y",0,(0,l.getNumberValidator)()),O(w,"globalCompositeOperation","source-over",(0,l.getStringValidator)()),O(w,"opacity",1,(0,l.getNumberValidator)()),O(w,"name","",(0,l.getStringValidator)()),O(w,"id","",(0,l.getStringValidator)()),O(w,"rotation",0,(0,l.getNumberValidator)()),o.Factory.addComponentsGetterSetter(w,"scale",["x","y"]),O(w,"scaleX",1,(0,l.getNumberValidator)()),O(w,"scaleY",1,(0,l.getNumberValidator)()),o.Factory.addComponentsGetterSetter(w,"skew",["x","y"]),O(w,"skewX",0,(0,l.getNumberValidator)()),O(w,"skewY",0,(0,l.getNumberValidator)()),o.Factory.addComponentsGetterSetter(w,"offset",["x","y"]),O(w,"offsetX",0,(0,l.getNumberValidator)()),O(w,"offsetY",0,(0,l.getNumberValidator)()),O(w,"dragDistance",null,(0,l.getNumberValidator)()),O(w,"width",0,(0,l.getNumberValidator)()),O(w,"height",0,(0,l.getNumberValidator)()),O(w,"listening",!0,(0,l.getBooleanValidator)()),O(w,"preventDefault",!0,(0,l.getBooleanValidator)()),O(w,"filters",null,(function(t){return this._filterUpToDate=!1,t})),O(w,"visible",!0,(0,l.getBooleanValidator)()),O(w,"transformsEnabled","all",(0,l.getStringValidator)()),O(w,"size"),O(w,"dragBoundFunc"),O(w,"draggable",!1,(0,l.getBooleanValidator)()),o.Factory.backCompat(w,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"})},8479:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.releaseCapture=e.setPointerCapture=e.hasPointerCapture=e.createEvent=e.getCapturedShape=void 0;const i=n(4417),o=new Map,r=void 0!==i.Konva._global.PointerEvent;function s(t){return{evt:t,pointerId:t.pointerId}}function a(t,e){const n=o.get(t);if(!n)return;const i=n.getStage();i&&i.content,o.delete(t),r&&n._fire("lostpointercapture",s(new PointerEvent("lostpointercapture")))}e.getCapturedShape=function(t){return o.get(t)},e.createEvent=s,e.hasPointerCapture=function(t,e){return o.get(t)===e},e.setPointerCapture=function(t,e){a(t),e.getStage()&&(o.set(t,e),r&&e._fire("gotpointercapture",s(new PointerEvent("gotpointercapture"))))},e.releaseCapture=a},7955:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Shape=e.shapes=void 0;const i=n(4417),o=n(8588),r=n(1455),s=n(7939),a=n(3774),l=n(4417),c=n(8479);var u="hasShadow",h="shadowRGBA",d="patternImage",p="linearGradient",f="radialGradient";let g;function m(){return g||(g=o.Util.createCanvasElement().getContext("2d"),g)}e.shapes={};class _ extends s.Node{constructor(t){let n;for(super(t);n=o.Util.getRandomColor(),!n||n in e.shapes;);this.colorKey=n,e.shapes[n]=this}getContext(){return o.Util.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return o.Util.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(u,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&0!==this.shadowOpacity()&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(d,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){const t=m().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(t&&t.setTransform){const e=new o.Transform;e.translate(this.fillPatternX(),this.fillPatternY()),e.rotate(i.Konva.getAngle(this.fillPatternRotation())),e.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),e.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const n=e.getMatrix(),r="undefined"==typeof DOMMatrix?{a:n[0],b:n[1],c:n[2],d:n[3],e:n[4],f:n[5]}:new DOMMatrix(n);t.setTransform(r)}return t}}_getLinearGradient(){return this._getCache(p,this.__getLinearGradient)}__getLinearGradient(){var t=this.fillLinearGradientColorStops();if(t){for(var e=m(),n=this.fillLinearGradientStartPoint(),i=this.fillLinearGradientEndPoint(),o=e.createLinearGradient(n.x,n.y,i.x,i.y),r=0;r<t.length;r+=2)o.addColorStop(t[r],t[r+1]);return o}}_getRadialGradient(){return this._getCache(f,this.__getRadialGradient)}__getRadialGradient(){var t=this.fillRadialGradientColorStops();if(t){for(var e=m(),n=this.fillRadialGradientStartPoint(),i=this.fillRadialGradientEndPoint(),o=e.createRadialGradient(n.x,n.y,this.fillRadialGradientStartRadius(),i.x,i.y,this.fillRadialGradientEndRadius()),r=0;r<t.length;r+=2)o.addColorStop(t[r],t[r+1]);return o}}getShadowRGBA(){return this._getCache(h,this._getShadowRGBA)}_getShadowRGBA(){if(this.hasShadow()){var t=o.Util.colorToRGBA(this.shadowColor());return t?"rgba("+t.r+","+t.g+","+t.b+","+t.a*(this.shadowOpacity()||1)+")":void 0}}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],(()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops())))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],(()=>this.strokeEnabled()&&this.strokeWidth()&&!(!this.stroke()&&!this.strokeLinearGradientColorStops())))}hasHitStroke(){const t=this.hitStrokeWidth();return"auto"===t?this.hasStroke():this.strokeEnabled()&&!!t}intersects(t){var e=this.getStage().bufferHitCanvas;return e.getContext().clear(),this.drawHit(e,null,!0),e.context.getImageData(Math.round(t.x),Math.round(t.y),1,1).data[3]>0}destroy(){return s.Node.prototype.destroy.call(this),delete e.shapes[this.colorKey],delete this.colorKey,this}_useBufferCanvas(t){var e;if(!this.getStage())return!1;if(!(null===(e=this.attrs.perfectDrawEnabled)||void 0===e||e))return!1;const n=t||this.hasFill(),i=this.hasStroke(),o=1!==this.getAbsoluteOpacity();if(n&&i&&o)return!0;const r=this.hasShadow(),s=this.shadowForStrokeEnabled();return!!(n&&i&&r&&s)}setStrokeHitEnabled(t){o.Util.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),t?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return 0!==this.hitStrokeWidth()}getSelfRect(){var t=this.size();return{x:this._centroid?-t.width/2:0,y:this._centroid?-t.height/2:0,width:t.width,height:t.height}}getClientRect(t={}){const e=t.skipTransform,n=t.relativeTo,i=this.getSelfRect(),o=!t.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,r=i.width+o,s=i.height+o,a=!t.skipShadow&&this.hasShadow(),l=a?this.shadowOffsetX():0,c=a?this.shadowOffsetY():0,u=r+Math.abs(l),h=s+Math.abs(c),d=a&&this.shadowBlur()||0,p={width:u+2*d,height:h+2*d,x:-(o/2+d)+Math.min(l,0)+i.x,y:-(o/2+d)+Math.min(c,0)+i.y};return e?p:this._transformedRect(p,n)}drawScene(t,e){var n,i,o=this.getLayer(),r=t||o.getCanvas(),s=r.getContext(),a=this._getCanvasCache(),l=this.getSceneFunc(),c=this.hasShadow(),u=r.isCache,h=e===this;if(!this.isVisible()&&!h)return this;if(a){s.save();var d=this.getAbsoluteTransform(e).getMatrix();return s.transform(d[0],d[1],d[2],d[3],d[4],d[5]),this._drawCachedSceneCanvas(s),s.restore(),this}if(!l)return this;if(s.save(),this._useBufferCanvas()&&!u){(i=(n=this.getStage().bufferCanvas).getContext()).clear(),i.save(),i._applyLineJoin(this);var p=this.getAbsoluteTransform(e).getMatrix();i.transform(p[0],p[1],p[2],p[3],p[4],p[5]),l.call(this,i,this),i.restore();var f=n.pixelRatio;c&&s._applyShadow(this),s._applyOpacity(this),s._applyGlobalCompositeOperation(this),s.drawImage(n._canvas,0,0,n.width/f,n.height/f)}else{if(s._applyLineJoin(this),!h){p=this.getAbsoluteTransform(e).getMatrix();s.transform(p[0],p[1],p[2],p[3],p[4],p[5]),s._applyOpacity(this),s._applyGlobalCompositeOperation(this)}c&&s._applyShadow(this),l.call(this,s,this)}return s.restore(),this}drawHit(t,e,n=!1){if(!this.shouldDrawHit(e,n))return this;var i=this.getLayer(),r=t||i.hitCanvas,s=r&&r.getContext(),a=this.hitFunc()||this.sceneFunc(),l=this._getCanvasCache(),c=l&&l.hit;if(this.colorKey||o.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),c){s.save();var u=this.getAbsoluteTransform(e).getMatrix();return s.transform(u[0],u[1],u[2],u[3],u[4],u[5]),this._drawCachedHitCanvas(s),s.restore(),this}if(!a)return this;s.save(),s._applyLineJoin(this);if(!(this===e)){var h=this.getAbsoluteTransform(e).getMatrix();s.transform(h[0],h[1],h[2],h[3],h[4],h[5])}return a.call(this,s,this),s.restore(),this}drawHitFromCache(t=0){var e,n,i,r,s,a=this._getCanvasCache(),l=this._getCachedSceneCanvas(),c=a.hit,u=c.getContext(),h=c.getWidth(),d=c.getHeight();u.clear(),u.drawImage(l._canvas,0,0,h,d);try{for(i=(n=(e=u.getImageData(0,0,h,d)).data).length,r=o.Util._hexToRgb(this.colorKey),s=0;s<i;s+=4)n[s+3]>t?(n[s]=r.r,n[s+1]=r.g,n[s+2]=r.b,n[s+3]=255):n[s+3]=0;u.putImageData(e,0,0)}catch(t){o.Util.error("Unable to draw hit graph from cached scene canvas. "+t.message)}return this}hasPointerCapture(t){return c.hasPointerCapture(t,this)}setPointerCapture(t){c.setPointerCapture(t,this)}releaseCapture(t){c.releaseCapture(t,this)}}e.Shape=_,_.prototype._fillFunc=function(t){t.fill()},_.prototype._strokeFunc=function(t){t.stroke()},_.prototype._fillFuncHit=function(t){t.fill()},_.prototype._strokeFuncHit=function(t){t.stroke()},_.prototype._centroid=!1,_.prototype.nodeType="Shape",(0,l._registerNode)(_),_.prototype.eventListeners={},_.prototype.on.call(_.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",(function(){this._clearCache(u)})),_.prototype.on.call(_.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",(function(){this._clearCache(h)})),_.prototype.on.call(_.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",(function(){this._clearCache(d)})),_.prototype.on.call(_.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",(function(){this._clearCache(p)})),_.prototype.on.call(_.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",(function(){this._clearCache(f)})),r.Factory.addGetterSetter(_,"stroke",void 0,(0,a.getStringOrGradientValidator)()),r.Factory.addGetterSetter(_,"strokeWidth",2,(0,a.getNumberValidator)()),r.Factory.addGetterSetter(_,"fillAfterStrokeEnabled",!1),r.Factory.addGetterSetter(_,"hitStrokeWidth","auto",(0,a.getNumberOrAutoValidator)()),r.Factory.addGetterSetter(_,"strokeHitEnabled",!0,(0,a.getBooleanValidator)()),r.Factory.addGetterSetter(_,"perfectDrawEnabled",!0,(0,a.getBooleanValidator)()),r.Factory.addGetterSetter(_,"shadowForStrokeEnabled",!0,(0,a.getBooleanValidator)()),r.Factory.addGetterSetter(_,"lineJoin"),r.Factory.addGetterSetter(_,"lineCap"),r.Factory.addGetterSetter(_,"sceneFunc"),r.Factory.addGetterSetter(_,"hitFunc"),r.Factory.addGetterSetter(_,"dash"),r.Factory.addGetterSetter(_,"dashOffset",0,(0,a.getNumberValidator)()),r.Factory.addGetterSetter(_,"shadowColor",void 0,(0,a.getStringValidator)()),r.Factory.addGetterSetter(_,"shadowBlur",0,(0,a.getNumberValidator)()),r.Factory.addGetterSetter(_,"shadowOpacity",1,(0,a.getNumberValidator)()),r.Factory.addComponentsGetterSetter(_,"shadowOffset",["x","y"]),r.Factory.addGetterSetter(_,"shadowOffsetX",0,(0,a.getNumberValidator)()),r.Factory.addGetterSetter(_,"shadowOffsetY",0,(0,a.getNumberValidator)()),r.Factory.addGetterSetter(_,"fillPatternImage"),r.Factory.addGetterSetter(_,"fill",void 0,(0,a.getStringOrGradientValidator)()),r.Factory.addGetterSetter(_,"fillPatternX",0,(0,a.getNumberValidator)()),r.Factory.addGetterSetter(_,"fillPatternY",0,(0,a.getNumberValidator)()),r.Factory.addGetterSetter(_,"fillLinearGradientColorStops"),r.Factory.addGetterSetter(_,"strokeLinearGradientColorStops"),r.Factory.addGetterSetter(_,"fillRadialGradientStartRadius",0),r.Factory.addGetterSetter(_,"fillRadialGradientEndRadius",0),r.Factory.addGetterSetter(_,"fillRadialGradientColorStops"),r.Factory.addGetterSetter(_,"fillPatternRepeat","repeat"),r.Factory.addGetterSetter(_,"fillEnabled",!0),r.Factory.addGetterSetter(_,"strokeEnabled",!0),r.Factory.addGetterSetter(_,"shadowEnabled",!0),r.Factory.addGetterSetter(_,"dashEnabled",!0),r.Factory.addGetterSetter(_,"strokeScaleEnabled",!0),r.Factory.addGetterSetter(_,"fillPriority","color"),r.Factory.addComponentsGetterSetter(_,"fillPatternOffset",["x","y"]),r.Factory.addGetterSetter(_,"fillPatternOffsetX",0,(0,a.getNumberValidator)()),r.Factory.addGetterSetter(_,"fillPatternOffsetY",0,(0,a.getNumberValidator)()),r.Factory.addComponentsGetterSetter(_,"fillPatternScale",["x","y"]),r.Factory.addGetterSetter(_,"fillPatternScaleX",1,(0,a.getNumberValidator)()),r.Factory.addGetterSetter(_,"fillPatternScaleY",1,(0,a.getNumberValidator)()),r.Factory.addComponentsGetterSetter(_,"fillLinearGradientStartPoint",["x","y"]),r.Factory.addComponentsGetterSetter(_,"strokeLinearGradientStartPoint",["x","y"]),r.Factory.addGetterSetter(_,"fillLinearGradientStartPointX",0),r.Factory.addGetterSetter(_,"strokeLinearGradientStartPointX",0),r.Factory.addGetterSetter(_,"fillLinearGradientStartPointY",0),r.Factory.addGetterSetter(_,"strokeLinearGradientStartPointY",0),r.Factory.addComponentsGetterSetter(_,"fillLinearGradientEndPoint",["x","y"]),r.Factory.addComponentsGetterSetter(_,"strokeLinearGradientEndPoint",["x","y"]),r.Factory.addGetterSetter(_,"fillLinearGradientEndPointX",0),r.Factory.addGetterSetter(_,"strokeLinearGradientEndPointX",0),r.Factory.addGetterSetter(_,"fillLinearGradientEndPointY",0),r.Factory.addGetterSetter(_,"strokeLinearGradientEndPointY",0),r.Factory.addComponentsGetterSetter(_,"fillRadialGradientStartPoint",["x","y"]),r.Factory.addGetterSetter(_,"fillRadialGradientStartPointX",0),r.Factory.addGetterSetter(_,"fillRadialGradientStartPointY",0),r.Factory.addComponentsGetterSetter(_,"fillRadialGradientEndPoint",["x","y"]),r.Factory.addGetterSetter(_,"fillRadialGradientEndPointX",0),r.Factory.addGetterSetter(_,"fillRadialGradientEndPointY",0),r.Factory.addGetterSetter(_,"fillPatternRotation",0),r.Factory.backCompat(_,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"})},8342:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Stage=e.stages=void 0;const i=n(8588),o=n(1455),r=n(8783),s=n(4417),a=n(4842),l=n(210),c=n(4417),u=n(8479);var h="mouseleave",d="mouseover",p="mouseenter",f="mousemove",g="mousedown",m="mouseup",_="pointermove",y="pointerdown",v="pointerup",C="pointercancel",b="pointerout",E="pointerleave",S="pointerover",w="pointerenter",O="contextmenu",x="touchstart",P="touchend",T="touchmove",M="touchcancel",D="wheel",R=[[p,"_pointerenter"],[g,"_pointerdown"],[f,"_pointermove"],[m,"_pointerup"],[h,"_pointerleave"],[x,"_pointerdown"],[T,"_pointermove"],[P,"_pointerup"],[M,"_pointercancel"],[d,"_pointerover"],[D,"_wheel"],[O,"_contextmenu"],[y,"_pointerdown"],[_,"_pointermove"],[v,"_pointerup"],[C,"_pointercancel"],["lostpointercapture","_lostpointercapture"]];const A={mouse:{[b]:"mouseout",[E]:h,[S]:d,[w]:p,[_]:f,[y]:g,[v]:m,[C]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[b]:"touchout",[E]:"touchleave",[S]:"touchover",[w]:"touchenter",[_]:T,[y]:x,[v]:P,[C]:M,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[b]:b,[E]:E,[S]:S,[w]:w,[_]:_,[y]:y,[v]:v,[C]:C,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},L=t=>t.indexOf("pointer")>=0?"pointer":t.indexOf("touch")>=0?"touch":"mouse",I=t=>{const e=L(t);return"pointer"===e?s.Konva.pointerEventsEnabled&&A.pointer:"touch"===e?A.touch:"mouse"===e?A.mouse:void 0};function k(t={}){return(t.clipFunc||t.clipWidth||t.clipHeight)&&i.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),t}e.stages=[];class N extends r.Container{constructor(t){super(k(t)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),e.stages.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",(()=>{k(this.attrs)})),this._checkVisibility()}_validateAdd(t){const e="Layer"===t.getType(),n="FastLayer"===t.getType();e||n||i.Util.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const t=this.visible()?"":"none";this.content.style.display=t}setContainer(t){if("string"==typeof t){if("."===t.charAt(0)){var e=t.slice(1);t=document.getElementsByClassName(e)[0]}else{var n;n="#"!==t.charAt(0)?t:t.slice(1),t=document.getElementById(n)}if(!t)throw"Can not find container in document with id "+n}return this._setAttr("container",t),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),t.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){var t,e=this.children,n=e.length;for(t=0;t<n;t++)e[t].clear();return this}clone(t){return t||(t={}),t.container="undefined"!=typeof document&&document.createElement("div"),r.Container.prototype.clone.call(this,t)}destroy(){super.destroy();var t=this.content;t&&i.Util._isInDocument(t)&&this.container().removeChild(t);var n=e.stages.indexOf(this);return n>-1&&e.stages.splice(n,1),i.Util.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const t=this._pointerPositions[0]||this._changedPointerPositions[0];return t?{x:t.x,y:t.y}:(i.Util.warn("Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);"),null)}_getPointerById(t){return this._pointerPositions.find((e=>e.id===t))}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(t){(t=t||{}).x=t.x||0,t.y=t.y||0,t.width=t.width||this.width(),t.height=t.height||this.height();var e=new a.SceneCanvas({width:t.width,height:t.height,pixelRatio:t.pixelRatio||1}),n=e.getContext()._context,i=this.children;return(t.x||t.y)&&n.translate(-1*t.x,-1*t.y),i.forEach((function(e){if(e.isVisible()){var i=e._toKonvaCanvas(t);n.drawImage(i._canvas,t.x,t.y,i.getWidth()/i.getPixelRatio(),i.getHeight()/i.getPixelRatio())}})),e}getIntersection(t){if(!t)return null;var e,n=this.children;for(e=n.length-1;e>=0;e--){const i=n[e].getIntersection(t);if(i)return i}return null}_resizeDOM(){var t=this.width(),e=this.height();this.content&&(this.content.style.width=t+"px",this.content.style.height=e+"px"),this.bufferCanvas.setSize(t,e),this.bufferHitCanvas.setSize(t,e),this.children.forEach((n=>{n.setSize({width:t,height:e}),n.draw()}))}add(t,...e){if(arguments.length>1){for(var n=0;n<arguments.length;n++)this.add(arguments[n]);return this}super.add(t);var o=this.children.length;return o>5&&i.Util.warn("The stage has "+o+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),t.setSize({width:this.width(),height:this.height()}),t.draw(),s.Konva.isBrowser&&this.content.appendChild(t.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(t){return u.hasPointerCapture(t,this)}setPointerCapture(t){u.setPointerCapture(t,this)}releaseCapture(t){u.releaseCapture(t,this)}getLayers(){return this.children}_bindContentEvents(){s.Konva.isBrowser&&R.forEach((([t,e])=>{this.content.addEventListener(t,(t=>{this[e](t)}),{passive:!1})}))}_pointerenter(t){this.setPointersPositions(t);const e=I(t.type);this._fire(e.pointerenter,{evt:t,target:this,currentTarget:this})}_pointerover(t){this.setPointersPositions(t);const e=I(t.type);this._fire(e.pointerover,{evt:t,target:this,currentTarget:this})}_getTargetShape(t){let e=this[t+"targetShape"];return e&&!e.getStage()&&(e=null),e}_pointerleave(t){const e=I(t.type),n=L(t.type);if(e){this.setPointersPositions(t);var i=this._getTargetShape(n),o=!l.DD.isDragging||s.Konva.hitOnDragEnabled;i&&o?(i._fireAndBubble(e.pointerout,{evt:t}),i._fireAndBubble(e.pointerleave,{evt:t}),this._fire(e.pointerleave,{evt:t,target:this,currentTarget:this}),this[n+"targetShape"]=null):o&&(this._fire(e.pointerleave,{evt:t,target:this,currentTarget:this}),this._fire(e.pointerout,{evt:t,target:this,currentTarget:this})),this.pointerPos=void 0,this._pointerPositions=[]}}_pointerdown(t){const e=I(t.type),n=L(t.type);if(e){this.setPointersPositions(t);var i=!1;this._changedPointerPositions.forEach((o=>{var r=this.getIntersection(o);l.DD.justDragged=!1,s.Konva["_"+n+"ListenClick"]=!0;if(!(r&&r.isListening()))return;s.Konva.capturePointerEventsEnabled&&r.setPointerCapture(o.id),this[n+"ClickStartShape"]=r,r._fireAndBubble(e.pointerdown,{evt:t,pointerId:o.id}),i=!0;const a=t.type.indexOf("touch")>=0;r.preventDefault()&&t.cancelable&&a&&t.preventDefault()})),i||this._fire(e.pointerdown,{evt:t,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}}_pointermove(t){const e=I(t.type),n=L(t.type);if(!e)return;if(l.DD.isDragging&&l.DD.node.preventDefault()&&t.cancelable&&t.preventDefault(),this.setPointersPositions(t),!(!l.DD.isDragging||s.Konva.hitOnDragEnabled))return;var i={};let o=!1;var r=this._getTargetShape(n);this._changedPointerPositions.forEach((s=>{const a=u.getCapturedShape(s.id)||this.getIntersection(s),l=s.id,c={evt:t,pointerId:l};var h=r!==a;if(h&&r&&(r._fireAndBubble(e.pointerout,Object.assign({},c),a),r._fireAndBubble(e.pointerleave,Object.assign({},c),a)),a){if(i[a._id])return;i[a._id]=!0}a&&a.isListening()?(o=!0,h&&(a._fireAndBubble(e.pointerover,Object.assign({},c),r),a._fireAndBubble(e.pointerenter,Object.assign({},c),r),this[n+"targetShape"]=a),a._fireAndBubble(e.pointermove,Object.assign({},c))):r&&(this._fire(e.pointerover,{evt:t,target:this,currentTarget:this,pointerId:l}),this[n+"targetShape"]=null)})),o||this._fire(e.pointermove,{evt:t,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(t){const e=I(t.type),n=L(t.type);if(!e)return;this.setPointersPositions(t);const i=this[n+"ClickStartShape"],o=this[n+"ClickEndShape"];var r={};let a=!1;this._changedPointerPositions.forEach((c=>{const h=u.getCapturedShape(c.id)||this.getIntersection(c);if(h){if(h.releaseCapture(c.id),r[h._id])return;r[h._id]=!0}const d=c.id,p={evt:t,pointerId:d};let f=!1;s.Konva["_"+n+"InDblClickWindow"]?(f=!0,clearTimeout(this[n+"DblTimeout"])):l.DD.justDragged||(s.Konva["_"+n+"InDblClickWindow"]=!0,clearTimeout(this[n+"DblTimeout"])),this[n+"DblTimeout"]=setTimeout((function(){s.Konva["_"+n+"InDblClickWindow"]=!1}),s.Konva.dblClickWindow),h&&h.isListening()?(a=!0,this[n+"ClickEndShape"]=h,h._fireAndBubble(e.pointerup,Object.assign({},p)),s.Konva["_"+n+"ListenClick"]&&i&&i===h&&(h._fireAndBubble(e.pointerclick,Object.assign({},p)),f&&o&&o===h&&h._fireAndBubble(e.pointerdblclick,Object.assign({},p)))):(this[n+"ClickEndShape"]=null,s.Konva["_"+n+"ListenClick"]&&this._fire(e.pointerclick,{evt:t,target:this,currentTarget:this,pointerId:d}),f&&this._fire(e.pointerdblclick,{evt:t,target:this,currentTarget:this,pointerId:d}))})),a||this._fire(e.pointerup,{evt:t,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),s.Konva["_"+n+"ListenClick"]=!1,t.cancelable&&"touch"!==n&&t.preventDefault()}_contextmenu(t){this.setPointersPositions(t);var e=this.getIntersection(this.getPointerPosition());e&&e.isListening()?e._fireAndBubble(O,{evt:t}):this._fire(O,{evt:t,target:this,currentTarget:this})}_wheel(t){this.setPointersPositions(t);var e=this.getIntersection(this.getPointerPosition());e&&e.isListening()?e._fireAndBubble(D,{evt:t}):this._fire(D,{evt:t,target:this,currentTarget:this})}_pointercancel(t){this.setPointersPositions(t);const e=u.getCapturedShape(t.pointerId)||this.getIntersection(this.getPointerPosition());e&&e._fireAndBubble(v,u.createEvent(t)),u.releaseCapture(t.pointerId)}_lostpointercapture(t){u.releaseCapture(t.pointerId)}setPointersPositions(t){var e=this._getContentPosition(),n=null,o=null;void 0!==(t=t||window.event).touches?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(t.touches,(t=>{this._pointerPositions.push({id:t.identifier,x:(t.clientX-e.left)/e.scaleX,y:(t.clientY-e.top)/e.scaleY})})),Array.prototype.forEach.call(t.changedTouches||t.touches,(t=>{this._changedPointerPositions.push({id:t.identifier,x:(t.clientX-e.left)/e.scaleX,y:(t.clientY-e.top)/e.scaleY})}))):(n=(t.clientX-e.left)/e.scaleX,o=(t.clientY-e.top)/e.scaleY,this.pointerPos={x:n,y:o},this._pointerPositions=[{x:n,y:o,id:i.Util._getFirstPointerId(t)}],this._changedPointerPositions=[{x:n,y:o,id:i.Util._getFirstPointerId(t)}])}_setPointerPosition(t){i.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(t)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};var t=this.content.getBoundingClientRect();return{top:t.top,left:t.left,scaleX:t.width/this.content.clientWidth||1,scaleY:t.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new a.SceneCanvas({width:this.width(),height:this.height()}),this.bufferHitCanvas=new a.HitCanvas({pixelRatio:1,width:this.width(),height:this.height()}),s.Konva.isBrowser){var t=this.container();if(!t)throw"Stage has no container. A container is required.";t.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),t.appendChild(this.content),this._resizeDOM()}}cache(){return i.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach((function(t){t.batchDraw()})),this}}e.Stage=N,N.prototype.nodeType="Stage",(0,c._registerNode)(N),o.Factory.addGetterSetter(N,"container")},8017:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Easings=e.Tween=void 0;const i=n(8588),o=n(6745),r=n(7939),s=n(4417);var a={node:1,duration:1,easing:1,onFinish:1,yoyo:1},l=0,c=["fill","stroke","shadowColor"];class u{constructor(t,e,n,i,o,r,s){this.prop=t,this.propFunc=e,this.begin=i,this._pos=i,this.duration=r,this._change=0,this.prevPos=0,this.yoyo=s,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=n,this._change=o-this.begin,this.pause()}fire(t){var e=this[t];e&&e()}setTime(t){t>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():t<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=t,this.update())}getTime(){return this._time}setPosition(t){this.prevPos=this._pos,this.propFunc(t),this._pos=t}getPosition(t){return void 0===t&&(t=this._time),this.func(t,this.begin,this._change,this.duration)}play(){this.state=2,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=3,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(t){this.pause(),this._time=t,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){var t=this.getTimer()-this._startTime;2===this.state?this.setTime(t):3===this.state&&this.setTime(this.duration-t)}pause(){this.state=1,this.fire("onPause")}getTimer(){return(new Date).getTime()}}class h{constructor(t){var n,r,c=this,d=t.node,p=d._id,f=t.easing||e.Easings.Linear,g=!!t.yoyo;n=void 0===t.duration?.3:0===t.duration?.001:t.duration,this.node=d,this._id=l++;var m=d.getLayer()||(d instanceof s.Konva.Stage?d.getLayers():null);for(r in m||i.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new o.Animation((function(){c.tween.onEnterFrame()}),m),this.tween=new u(r,(function(t){c._tweenFunc(t)}),f,0,1,1e3*n,g),this._addListeners(),h.attrs[p]||(h.attrs[p]={}),h.attrs[p][this._id]||(h.attrs[p][this._id]={}),h.tweens[p]||(h.tweens[p]={}),t)void 0===a[r]&&this._addAttr(r,t[r]);this.reset(),this.onFinish=t.onFinish,this.onReset=t.onReset,this.onUpdate=t.onUpdate}_addAttr(t,e){var n,o,r,s,a,l,u,d,p=this.node,f=p._id;if((r=h.tweens[f][t])&&delete h.attrs[f][r][t],n=p.getAttr(t),i.Util._isArray(e))if(o=[],a=Math.max(e.length,n.length),"points"===t&&e.length!==n.length&&(e.length>n.length?(u=n,n=i.Util._prepareArrayForTween(n,e,p.closed())):(l=e,e=i.Util._prepareArrayForTween(e,n,p.closed()))),0===t.indexOf("fill"))for(s=0;s<a;s++)if(s%2==0)o.push(e[s]-n[s]);else{var g=i.Util.colorToRGBA(n[s]);d=i.Util.colorToRGBA(e[s]),n[s]=g,o.push({r:d.r-g.r,g:d.g-g.g,b:d.b-g.b,a:d.a-g.a})}else for(s=0;s<a;s++)o.push(e[s]-n[s]);else-1!==c.indexOf(t)?(n=i.Util.colorToRGBA(n),o={r:(d=i.Util.colorToRGBA(e)).r-n.r,g:d.g-n.g,b:d.b-n.b,a:d.a-n.a}):o=e-n;h.attrs[f][this._id][t]={start:n,diff:o,end:e,trueEnd:l,trueStart:u},h.tweens[f][t]=this._id}_tweenFunc(t){var e,n,o,r,s,a,l,u,d=this.node,p=h.attrs[d._id][this._id];for(e in p){if(o=(n=p[e]).start,r=n.diff,u=n.end,i.Util._isArray(o))if(s=[],l=Math.max(o.length,u.length),0===e.indexOf("fill"))for(a=0;a<l;a++)a%2==0?s.push((o[a]||0)+r[a]*t):s.push("rgba("+Math.round(o[a].r+r[a].r*t)+","+Math.round(o[a].g+r[a].g*t)+","+Math.round(o[a].b+r[a].b*t)+","+(o[a].a+r[a].a*t)+")");else for(a=0;a<l;a++)s.push((o[a]||0)+r[a]*t);else s=-1!==c.indexOf(e)?"rgba("+Math.round(o.r+r.r*t)+","+Math.round(o.g+r.g*t)+","+Math.round(o.b+r.b*t)+","+(o.a+r.a*t)+")":o+r*t;d.setAttr(e,s)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{var t=this.node,e=h.attrs[t._id][this._id];e.points&&e.points.trueEnd&&t.setAttr("points",e.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{var t=this.node,e=h.attrs[t._id][this._id];e.points&&e.points.trueStart&&t.points(e.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(t){return this.tween.seek(1e3*t),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){var t,e=this.node._id,n=this._id,i=h.tweens[e];for(t in this.pause(),i)delete h.tweens[e][t];delete h.attrs[e][n]}}h.attrs={},h.tweens={},e.Tween=h,r.Node.prototype.to=function(t){var e=t.onFinish;t.node=this,t.onFinish=function(){this.destroy(),e&&e()},new h(t).play()},e.Easings={BackEaseIn(t,e,n,i){var o=1.70158;return n*(t/=i)*t*((o+1)*t-o)+e},BackEaseOut(t,e,n,i){var o=1.70158;return n*((t=t/i-1)*t*((o+1)*t+o)+1)+e},BackEaseInOut(t,e,n,i){var o=1.70158;return(t/=i/2)<1?n/2*(t*t*((1+(o*=1.525))*t-o))+e:n/2*((t-=2)*t*((1+(o*=1.525))*t+o)+2)+e},ElasticEaseIn(t,e,n,i,o,r){var s=0;return 0===t?e:1==(t/=i)?e+n:(r||(r=.3*i),!o||o<Math.abs(n)?(o=n,s=r/4):s=r/(2*Math.PI)*Math.asin(n/o),-o*Math.pow(2,10*(t-=1))*Math.sin((t*i-s)*(2*Math.PI)/r)+e)},ElasticEaseOut(t,e,n,i,o,r){var s=0;return 0===t?e:1==(t/=i)?e+n:(r||(r=.3*i),!o||o<Math.abs(n)?(o=n,s=r/4):s=r/(2*Math.PI)*Math.asin(n/o),o*Math.pow(2,-10*t)*Math.sin((t*i-s)*(2*Math.PI)/r)+n+e)},ElasticEaseInOut(t,e,n,i,o,r){var s=0;return 0===t?e:2==(t/=i/2)?e+n:(r||(r=i*(.3*1.5)),!o||o<Math.abs(n)?(o=n,s=r/4):s=r/(2*Math.PI)*Math.asin(n/o),t<1?o*Math.pow(2,10*(t-=1))*Math.sin((t*i-s)*(2*Math.PI)/r)*-.5+e:o*Math.pow(2,-10*(t-=1))*Math.sin((t*i-s)*(2*Math.PI)/r)*.5+n+e)},BounceEaseOut:(t,e,n,i)=>(t/=i)<1/2.75?n*(7.5625*t*t)+e:t<2/2.75?n*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?n*(7.5625*(t-=2.25/2.75)*t+.9375)+e:n*(7.5625*(t-=2.625/2.75)*t+.984375)+e,BounceEaseIn:(t,n,i,o)=>i-e.Easings.BounceEaseOut(o-t,0,i,o)+n,BounceEaseInOut:(t,n,i,o)=>t<o/2?.5*e.Easings.BounceEaseIn(2*t,0,i,o)+n:.5*e.Easings.BounceEaseOut(2*t-o,0,i,o)+.5*i+n,EaseIn:(t,e,n,i)=>n*(t/=i)*t+e,EaseOut:(t,e,n,i)=>-n*(t/=i)*(t-2)+e,EaseInOut:(t,e,n,i)=>(t/=i/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e,StrongEaseIn:(t,e,n,i)=>n*(t/=i)*t*t*t*t+e,StrongEaseOut:(t,e,n,i)=>n*((t=t/i-1)*t*t*t*t+1)+e,StrongEaseInOut:(t,e,n,i)=>(t/=i/2)<1?n/2*t*t*t*t*t+e:n/2*((t-=2)*t*t*t*t+2)+e,Linear:(t,e,n,i)=>n*t/i+e}},8588:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Util=e.Transform=void 0;const i=n(4417);class o{constructor(t=[1,0,0,1,0,0]){this.dirty=!1,this.m=t&&t.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new o(this.m)}copyInto(t){t.m[0]=this.m[0],t.m[1]=this.m[1],t.m[2]=this.m[2],t.m[3]=this.m[3],t.m[4]=this.m[4],t.m[5]=this.m[5]}point(t){var e=this.m;return{x:e[0]*t.x+e[2]*t.y+e[4],y:e[1]*t.x+e[3]*t.y+e[5]}}translate(t,e){return this.m[4]+=this.m[0]*t+this.m[2]*e,this.m[5]+=this.m[1]*t+this.m[3]*e,this}scale(t,e){return this.m[0]*=t,this.m[1]*=t,this.m[2]*=e,this.m[3]*=e,this}rotate(t){var e=Math.cos(t),n=Math.sin(t),i=this.m[0]*e+this.m[2]*n,o=this.m[1]*e+this.m[3]*n,r=this.m[0]*-n+this.m[2]*e,s=this.m[1]*-n+this.m[3]*e;return this.m[0]=i,this.m[1]=o,this.m[2]=r,this.m[3]=s,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(t,e){var n=this.m[0]+this.m[2]*e,i=this.m[1]+this.m[3]*e,o=this.m[2]+this.m[0]*t,r=this.m[3]+this.m[1]*t;return this.m[0]=n,this.m[1]=i,this.m[2]=o,this.m[3]=r,this}multiply(t){var e=this.m[0]*t.m[0]+this.m[2]*t.m[1],n=this.m[1]*t.m[0]+this.m[3]*t.m[1],i=this.m[0]*t.m[2]+this.m[2]*t.m[3],o=this.m[1]*t.m[2]+this.m[3]*t.m[3],r=this.m[0]*t.m[4]+this.m[2]*t.m[5]+this.m[4],s=this.m[1]*t.m[4]+this.m[3]*t.m[5]+this.m[5];return this.m[0]=e,this.m[1]=n,this.m[2]=i,this.m[3]=o,this.m[4]=r,this.m[5]=s,this}invert(){var t=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),e=this.m[3]*t,n=-this.m[1]*t,i=-this.m[2]*t,o=this.m[0]*t,r=t*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),s=t*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=e,this.m[1]=n,this.m[2]=i,this.m[3]=o,this.m[4]=r,this.m[5]=s,this}getMatrix(){return this.m}decompose(){var t=this.m[0],n=this.m[1],i=this.m[2],o=this.m[3],r=t*o-n*i;let s={x:this.m[4],y:this.m[5],rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(0!=t||0!=n){var a=Math.sqrt(t*t+n*n);s.rotation=n>0?Math.acos(t/a):-Math.acos(t/a),s.scaleX=a,s.scaleY=r/a,s.skewX=(t*i+n*o)/r,s.skewY=0}else if(0!=i||0!=o){var l=Math.sqrt(i*i+o*o);s.rotation=Math.PI/2-(o>0?Math.acos(-i/l):-Math.acos(i/l)),s.scaleX=r/l,s.scaleY=l,s.skewX=0,s.skewY=(t*i+n*o)/r}return s.rotation=e.Util._getRotation(s.rotation),s}}e.Transform=o;var r=Math.PI/180,s=180/Math.PI,a="Konva error: ",l={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},c=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/,u=[];const h="undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||function(t){setTimeout(t,60)};e.Util={_isElement:t=>!(!t||1!=t.nodeType),_isFunction:t=>!!(t&&t.constructor&&t.call&&t.apply),_isPlainObject:t=>!!t&&t.constructor===Object,_isArray:t=>"[object Array]"===Object.prototype.toString.call(t),_isNumber:t=>"[object Number]"===Object.prototype.toString.call(t)&&!isNaN(t)&&isFinite(t),_isString:t=>"[object String]"===Object.prototype.toString.call(t),_isBoolean:t=>"[object Boolean]"===Object.prototype.toString.call(t),isObject:t=>t instanceof Object,isValidSelector(t){if("string"!=typeof t)return!1;var e=t[0];return"#"===e||"."===e||e===e.toUpperCase()},_sign:t=>0===t||t>0?1:-1,requestAnimFrame(t){u.push(t),1===u.length&&h((function(){const t=u;u=[],t.forEach((function(t){t()}))}))},createCanvasElement(){var t=document.createElement("canvas");try{t.style=t.style||{}}catch(t){}return t},createImageElement:()=>document.createElement("img"),_isInDocument(t){for(;t=t.parentNode;)if(t==document)return!0;return!1},_urlToImage(t,n){var i=e.Util.createImageElement();i.onload=function(){n(i)},i.src=t},_rgbToHex:(t,e,n)=>((1<<24)+(t<<16)+(e<<8)+n).toString(16).slice(1),_hexToRgb(t){t=t.replace("#","");var e=parseInt(t,16);return{r:e>>16&255,g:e>>8&255,b:255&e}},getRandomColor(){for(var t=(16777215*Math.random()<<0).toString(16);t.length<6;)t="0"+t;return"#"+t},getRGB(t){var e;return t in l?{r:(e=l[t])[0],g:e[1],b:e[2]}:"#"===t[0]?this._hexToRgb(t.substring(1)):"rgb("===t.substr(0,4)?(e=c.exec(t.replace(/ /g,"")),{r:parseInt(e[1],10),g:parseInt(e[2],10),b:parseInt(e[3],10)}):{r:0,g:0,b:0}},colorToRGBA:t=>(t=t||"black",e.Util._namedColorToRBA(t)||e.Util._hex3ColorToRGBA(t)||e.Util._hex4ColorToRGBA(t)||e.Util._hex6ColorToRGBA(t)||e.Util._hex8ColorToRGBA(t)||e.Util._rgbColorToRGBA(t)||e.Util._rgbaColorToRGBA(t)||e.Util._hslColorToRGBA(t)),_namedColorToRBA(t){var e=l[t.toLowerCase()];return e?{r:e[0],g:e[1],b:e[2],a:1}:null},_rgbColorToRGBA(t){if(0===t.indexOf("rgb(")){var e=(t=t.match(/rgb\(([^)]+)\)/)[1]).split(/ *, */).map(Number);return{r:e[0],g:e[1],b:e[2],a:1}}},_rgbaColorToRGBA(t){if(0===t.indexOf("rgba(")){var e=(t=t.match(/rgba\(([^)]+)\)/)[1]).split(/ *, */).map(((t,e)=>"%"===t.slice(-1)?3===e?parseInt(t)/100:parseInt(t)/100*255:Number(t)));return{r:e[0],g:e[1],b:e[2],a:e[3]}}},_hex8ColorToRGBA(t){if("#"===t[0]&&9===t.length)return{r:parseInt(t.slice(1,3),16),g:parseInt(t.slice(3,5),16),b:parseInt(t.slice(5,7),16),a:parseInt(t.slice(7,9),16)/255}},_hex6ColorToRGBA(t){if("#"===t[0]&&7===t.length)return{r:parseInt(t.slice(1,3),16),g:parseInt(t.slice(3,5),16),b:parseInt(t.slice(5,7),16),a:1}},_hex4ColorToRGBA(t){if("#"===t[0]&&5===t.length)return{r:parseInt(t[1]+t[1],16),g:parseInt(t[2]+t[2],16),b:parseInt(t[3]+t[3],16),a:parseInt(t[4]+t[4],16)/255}},_hex3ColorToRGBA(t){if("#"===t[0]&&4===t.length)return{r:parseInt(t[1]+t[1],16),g:parseInt(t[2]+t[2],16),b:parseInt(t[3]+t[3],16),a:1}},_hslColorToRGBA(t){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(t)){const[e,...n]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(t),i=Number(n[0])/360,o=Number(n[1])/100,r=Number(n[2])/100;let s,a,l;if(0===o)return l=255*r,{r:Math.round(l),g:Math.round(l),b:Math.round(l),a:1};s=r<.5?r*(1+o):r+o-r*o;const c=2*r-s,u=[0,0,0];for(let t=0;t<3;t++)a=i+1/3*-(t-1),a<0&&a++,a>1&&a--,l=6*a<1?c+6*(s-c)*a:2*a<1?s:3*a<2?c+(s-c)*(2/3-a)*6:c,u[t]=255*l;return{r:Math.round(u[0]),g:Math.round(u[1]),b:Math.round(u[2]),a:1}}},haveIntersection:(t,e)=>!(e.x>t.x+t.width||e.x+e.width<t.x||e.y>t.y+t.height||e.y+e.height<t.y),cloneObject(t){var e={};for(var n in t)this._isPlainObject(t[n])?e[n]=this.cloneObject(t[n]):this._isArray(t[n])?e[n]=this.cloneArray(t[n]):e[n]=t[n];return e},cloneArray:t=>t.slice(0),degToRad:t=>t*r,radToDeg:t=>t*s,_degToRad:t=>(e.Util.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),e.Util.degToRad(t)),_radToDeg:t=>(e.Util.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),e.Util.radToDeg(t)),_getRotation:t=>i.Konva.angleDeg?e.Util.radToDeg(t):t,_capitalize:t=>t.charAt(0).toUpperCase()+t.slice(1),throw(t){throw new Error(a+t)},error(t){console.error(a+t)},warn(t){i.Konva.showWarnings&&console.warn("Konva warning: "+t)},each(t,e){for(var n in t)e(n,t[n])},_inRange:(t,e,n)=>e<=t&&t<n,_getProjectionToSegment(t,e,n,i,o,r){var s,a,l,c=(t-n)*(t-n)+(e-i)*(e-i);if(0==c)s=t,a=e,l=(o-n)*(o-n)+(r-i)*(r-i);else{var u=((o-t)*(n-t)+(r-e)*(i-e))/c;u<0?(s=t,a=e,l=(t-o)*(t-o)+(e-r)*(e-r)):u>1?(s=n,a=i,l=(n-o)*(n-o)+(i-r)*(i-r)):l=((s=t+u*(n-t))-o)*(s-o)+((a=e+u*(i-e))-r)*(a-r)}return[s,a,l]},_getProjectionToLine(t,n,i){var o=e.Util.cloneObject(t),r=Number.MAX_VALUE;return n.forEach((function(s,a){if(i||a!==n.length-1){var l=n[(a+1)%n.length],c=e.Util._getProjectionToSegment(s.x,s.y,l.x,l.y,t.x,t.y),u=c[0],h=c[1],d=c[2];d<r&&(o.x=u,o.y=h,r=d)}})),o},_prepareArrayForTween(t,n,i){var o,r=[],s=[];if(t.length>n.length){var a=n;n=t,t=a}for(o=0;o<t.length;o+=2)r.push({x:t[o],y:t[o+1]});for(o=0;o<n.length;o+=2)s.push({x:n[o],y:n[o+1]});var l=[];return s.forEach((function(t){var n=e.Util._getProjectionToLine(t,r,i);l.push(n.x),l.push(n.y)})),l},_prepareToStringify(t){var n;for(var i in t.visitedByCircularReferenceRemoval=!0,t)if(t.hasOwnProperty(i)&&t[i]&&"object"==typeof t[i])if(n=Object.getOwnPropertyDescriptor(t,i),t[i].visitedByCircularReferenceRemoval||e.Util._isElement(t[i])){if(!n.configurable)return null;delete t[i]}else if(null===e.Util._prepareToStringify(t[i])){if(!n.configurable)return null;delete t[i]}return delete t.visitedByCircularReferenceRemoval,t},_assign(t,e){for(var n in e)t[n]=e[n];return t},_getFirstPointerId:t=>t.touches?t.changedTouches[0].identifier:t.pointerId||999,releaseCanvas(...t){i.Konva.releaseCanvasOnDestroy&&t.forEach((t=>{t.width=0,t.height=0}))},drawRoundedRectPath(t,e,n,i){let o=0,r=0,s=0,a=0;"number"==typeof i?o=r=s=a=Math.min(i,e/2,n/2):(o=Math.min(i[0]||0,e/2,n/2),r=Math.min(i[1]||0,e/2,n/2),a=Math.min(i[2]||0,e/2,n/2),s=Math.min(i[3]||0,e/2,n/2)),t.moveTo(o,0),t.lineTo(e-r,0),t.arc(e-r,r,r,3*Math.PI/2,0,!1),t.lineTo(e,n-a),t.arc(e-a,n-a,a,0,Math.PI/2,!1),t.lineTo(s,n),t.arc(s,n-s,s,Math.PI/2,Math.PI,!1),t.lineTo(0,o),t.arc(o,o,o,Math.PI,3*Math.PI/2,!1)}}},3774:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getComponentValidator=e.getBooleanValidator=e.getNumberArrayValidator=e.getFunctionValidator=e.getStringOrGradientValidator=e.getStringValidator=e.getNumberOrAutoValidator=e.getNumberOrArrayOfNumbersValidator=e.getNumberValidator=e.alphaComponent=e.RGBComponent=void 0;const i=n(4417),o=n(8588);function r(t){return o.Util._isString(t)?'"'+t+'"':"[object Number]"===Object.prototype.toString.call(t)||o.Util._isBoolean(t)?t:Object.prototype.toString.call(t)}e.RGBComponent=function(t){return t>255?255:t<0?0:Math.round(t)},e.alphaComponent=function(t){return t>1?1:t<1e-4?1e-4:t},e.getNumberValidator=function(){if(i.Konva.isUnminified)return function(t,e){return o.Util._isNumber(t)||o.Util.warn(r(t)+' is a not valid value for "'+e+'" attribute. The value should be a number.'),t}},e.getNumberOrArrayOfNumbersValidator=function(t){if(i.Konva.isUnminified)return function(e,n){let i=o.Util._isNumber(e),s=o.Util._isArray(e)&&e.length==t;return i||s||o.Util.warn(r(e)+' is a not valid value for "'+n+'" attribute. The value should be a number or Array<number>('+t+")"),e}},e.getNumberOrAutoValidator=function(){if(i.Konva.isUnminified)return function(t,e){return o.Util._isNumber(t)||"auto"===t||o.Util.warn(r(t)+' is a not valid value for "'+e+'" attribute. The value should be a number or "auto".'),t}},e.getStringValidator=function(){if(i.Konva.isUnminified)return function(t,e){return o.Util._isString(t)||o.Util.warn(r(t)+' is a not valid value for "'+e+'" attribute. The value should be a string.'),t}},e.getStringOrGradientValidator=function(){if(i.Konva.isUnminified)return function(t,e){const n=o.Util._isString(t),i="[object CanvasGradient]"===Object.prototype.toString.call(t)||t&&t.addColorStop;return n||i||o.Util.warn(r(t)+' is a not valid value for "'+e+'" attribute. The value should be a string or a native gradient.'),t}},e.getFunctionValidator=function(){if(i.Konva.isUnminified)return function(t,e){return o.Util._isFunction(t)||o.Util.warn(r(t)+' is a not valid value for "'+e+'" attribute. The value should be a function.'),t}},e.getNumberArrayValidator=function(){if(i.Konva.isUnminified)return function(t,e){const n=Int8Array?Object.getPrototypeOf(Int8Array):null;return n&&t instanceof n||(o.Util._isArray(t)?t.forEach((function(t){o.Util._isNumber(t)||o.Util.warn('"'+e+'" attribute has non numeric element '+t+". Make sure that all elements are numbers.")})):o.Util.warn(r(t)+' is a not valid value for "'+e+'" attribute. The value should be a array of numbers.')),t}},e.getBooleanValidator=function(){if(i.Konva.isUnminified)return function(t,e){return!0===t||!1===t||o.Util.warn(r(t)+' is a not valid value for "'+e+'" attribute. The value should be a boolean.'),t}},e.getComponentValidator=function(t){if(i.Konva.isUnminified)return function(e,n){return null==e||o.Util.isObject(e)||o.Util.warn(r(e)+' is a not valid value for "'+n+'" attribute. The value should be an object with properties '+t),e}}},3986:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Konva=void 0;const i=n(4417),o=n(8588),r=n(7939),s=n(8783),a=n(8342),l=n(4415),c=n(3980),u=n(8985),h=n(210),d=n(7955),p=n(6745),f=n(8017),g=n(3442),m=n(4842);e.Konva=o.Util._assign(i.Konva,{Util:o.Util,Transform:o.Transform,Node:r.Node,Container:s.Container,Stage:a.Stage,stages:a.stages,Layer:l.Layer,FastLayer:c.FastLayer,Group:u.Group,DD:h.DD,Shape:d.Shape,shapes:d.shapes,Animation:p.Animation,Tween:f.Tween,Easings:f.Easings,Context:g.Context,Canvas:m.Canvas}),e.default=e.Konva},2076:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Konva=void 0;const i=n(3986),o=n(119),r=n(2064),s=n(7643),a=n(535),l=n(1298),c=n(6067),u=n(7149),h=n(7339),d=n(5244),p=n(1785),f=n(657),g=n(8986),m=n(1964),_=n(3787),y=n(2831),v=n(9516),C=n(9846),b=n(2527),E=n(6672),S=n(5309),w=n(1695),O=n(9621),x=n(1179),P=n(7194),T=n(3925),M=n(5751),D=n(6588),R=n(3565),A=n(5929),L=n(7233),I=n(8590),k=n(8280),N=n(3438),F=n(6703),G=n(1665),B=n(1863);e.Konva=i.Konva.Util._assign(i.Konva,{Arc:o.Arc,Arrow:r.Arrow,Circle:s.Circle,Ellipse:a.Ellipse,Image:l.Image,Label:c.Label,Tag:c.Tag,Line:u.Line,Path:h.Path,Rect:d.Rect,RegularPolygon:p.RegularPolygon,Ring:f.Ring,Sprite:g.Sprite,Star:m.Star,Text:_.Text,TextPath:y.TextPath,Transformer:v.Transformer,Wedge:C.Wedge,Filters:{Blur:b.Blur,Brighten:E.Brighten,Contrast:S.Contrast,Emboss:w.Emboss,Enhance:O.Enhance,Grayscale:x.Grayscale,HSL:P.HSL,HSV:T.HSV,Invert:M.Invert,Kaleidoscope:D.Kaleidoscope,Mask:R.Mask,Noise:A.Noise,Pixelate:L.Pixelate,Posterize:I.Posterize,RGB:k.RGB,RGBA:N.RGBA,Sepia:F.Sepia,Solarize:G.Solarize,Threshold:B.Threshold}})},2527:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Blur=void 0;const i=n(1455),o=n(7939),r=n(3774);function s(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}var a=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],l=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];e.Blur=function(t){var e=Math.round(this.blurRadius());e>0&&function(t,e){var n,i,o,r,c,u,h,d,p,f,g,m,_,y,v,C,b,E,S,w,O,x,P,T,M=t.data,D=t.width,R=t.height,A=e+e+1,L=D-1,I=R-1,k=e+1,N=k*(k+1)/2,F=new s,G=null,B=F,j=null,U=null,V=a[e],W=l[e];for(o=1;o<A;o++)B=B.next=new s,o===k&&(G=B);for(B.next=F,h=u=0,i=0;i<R;i++){for(C=b=E=S=d=p=f=g=0,m=k*(w=M[u]),_=k*(O=M[u+1]),y=k*(x=M[u+2]),v=k*(P=M[u+3]),d+=N*w,p+=N*O,f+=N*x,g+=N*P,B=F,o=0;o<k;o++)B.r=w,B.g=O,B.b=x,B.a=P,B=B.next;for(o=1;o<k;o++)r=u+((L<o?L:o)<<2),d+=(B.r=w=M[r])*(T=k-o),p+=(B.g=O=M[r+1])*T,f+=(B.b=x=M[r+2])*T,g+=(B.a=P=M[r+3])*T,C+=w,b+=O,E+=x,S+=P,B=B.next;for(j=F,U=G,n=0;n<D;n++)M[u+3]=P=g*V>>W,0!==P?(P=255/P,M[u]=(d*V>>W)*P,M[u+1]=(p*V>>W)*P,M[u+2]=(f*V>>W)*P):M[u]=M[u+1]=M[u+2]=0,d-=m,p-=_,f-=y,g-=v,m-=j.r,_-=j.g,y-=j.b,v-=j.a,r=h+((r=n+e+1)<L?r:L)<<2,d+=C+=j.r=M[r],p+=b+=j.g=M[r+1],f+=E+=j.b=M[r+2],g+=S+=j.a=M[r+3],j=j.next,m+=w=U.r,_+=O=U.g,y+=x=U.b,v+=P=U.a,C-=w,b-=O,E-=x,S-=P,U=U.next,u+=4;h+=D}for(n=0;n<D;n++){for(b=E=S=C=p=f=g=d=0,m=k*(w=M[u=n<<2]),_=k*(O=M[u+1]),y=k*(x=M[u+2]),v=k*(P=M[u+3]),d+=N*w,p+=N*O,f+=N*x,g+=N*P,B=F,o=0;o<k;o++)B.r=w,B.g=O,B.b=x,B.a=P,B=B.next;for(c=D,o=1;o<=e;o++)u=c+n<<2,d+=(B.r=w=M[u])*(T=k-o),p+=(B.g=O=M[u+1])*T,f+=(B.b=x=M[u+2])*T,g+=(B.a=P=M[u+3])*T,C+=w,b+=O,E+=x,S+=P,B=B.next,o<I&&(c+=D);for(u=n,j=F,U=G,i=0;i<R;i++)M[3+(r=u<<2)]=P=g*V>>W,P>0?(P=255/P,M[r]=(d*V>>W)*P,M[r+1]=(p*V>>W)*P,M[r+2]=(f*V>>W)*P):M[r]=M[r+1]=M[r+2]=0,d-=m,p-=_,f-=y,g-=v,m-=j.r,_-=j.g,y-=j.b,v-=j.a,r=n+((r=i+k)<I?r:I)*D<<2,d+=C+=j.r=M[r],p+=b+=j.g=M[r+1],f+=E+=j.b=M[r+2],g+=S+=j.a=M[r+3],j=j.next,m+=w=U.r,_+=O=U.g,y+=x=U.b,v+=P=U.a,C-=w,b-=O,E-=x,S-=P,U=U.next,u+=D}}(t,e)},i.Factory.addGetterSetter(o.Node,"blurRadius",0,(0,r.getNumberValidator)(),i.Factory.afterSetFilter)},6672:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Brighten=void 0;const i=n(1455),o=n(7939),r=n(3774);e.Brighten=function(t){var e,n=255*this.brightness(),i=t.data,o=i.length;for(e=0;e<o;e+=4)i[e]+=n,i[e+1]+=n,i[e+2]+=n},i.Factory.addGetterSetter(o.Node,"brightness",0,(0,r.getNumberValidator)(),i.Factory.afterSetFilter)},5309:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Contrast=void 0;const i=n(1455),o=n(7939),r=n(3774);e.Contrast=function(t){var e,n=Math.pow((this.contrast()+100)/100,2),i=t.data,o=i.length,r=150,s=150,a=150;for(e=0;e<o;e+=4)r=i[e],s=i[e+1],a=i[e+2],r/=255,r-=.5,r*=n,r+=.5,s/=255,s-=.5,s*=n,s+=.5,a/=255,a-=.5,a*=n,a+=.5,r=(r*=255)<0?0:r>255?255:r,s=(s*=255)<0?0:s>255?255:s,a=(a*=255)<0?0:a>255?255:a,i[e]=r,i[e+1]=s,i[e+2]=a},i.Factory.addGetterSetter(o.Node,"contrast",0,(0,r.getNumberValidator)(),i.Factory.afterSetFilter)},1695:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Emboss=void 0;const i=n(1455),o=n(7939),r=n(8588),s=n(3774);e.Emboss=function(t){var e=10*this.embossStrength(),n=255*this.embossWhiteLevel(),i=this.embossDirection(),o=this.embossBlend(),s=0,a=0,l=t.data,c=t.width,u=t.height,h=4*c,d=u;switch(i){case"top-left":s=-1,a=-1;break;case"top":s=-1,a=0;break;case"top-right":s=-1,a=1;break;case"right":s=0,a=1;break;case"bottom-right":s=1,a=1;break;case"bottom":s=1,a=0;break;case"bottom-left":s=1,a=-1;break;case"left":s=0,a=-1;break;default:r.Util.error("Unknown emboss direction: "+i)}do{var p=(d-1)*h,f=s;d+f<1&&(f=0),d+f>u&&(f=0);var g=(d-1+f)*c*4,m=c;do{var _=p+4*(m-1),y=a;m+y<1&&(y=0),m+y>c&&(y=0);var v=g+4*(m-1+y),C=l[_]-l[v],b=l[_+1]-l[v+1],E=l[_+2]-l[v+2],S=C,w=S>0?S:-S;if((b>0?b:-b)>w&&(S=b),(E>0?E:-E)>w&&(S=E),S*=e,o){var O=l[_]+S,x=l[_+1]+S,P=l[_+2]+S;l[_]=O>255?255:O<0?0:O,l[_+1]=x>255?255:x<0?0:x,l[_+2]=P>255?255:P<0?0:P}else{var T=n-S;T<0?T=0:T>255&&(T=255),l[_]=l[_+1]=l[_+2]=T}}while(--m)}while(--d)},i.Factory.addGetterSetter(o.Node,"embossStrength",.5,(0,s.getNumberValidator)(),i.Factory.afterSetFilter),i.Factory.addGetterSetter(o.Node,"embossWhiteLevel",.5,(0,s.getNumberValidator)(),i.Factory.afterSetFilter),i.Factory.addGetterSetter(o.Node,"embossDirection","top-left",null,i.Factory.afterSetFilter),i.Factory.addGetterSetter(o.Node,"embossBlend",!1,null,i.Factory.afterSetFilter)},9621:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Enhance=void 0;const i=n(1455),o=n(7939),r=n(3774);function s(t,e,n,i,o){var r=n-e,s=o-i;return 0===r?i+s/2:0===s?i:s*((t-e)/r)+i}e.Enhance=function(t){var e,n,i,o,r=t.data,a=r.length,l=r[0],c=l,u=r[1],h=u,d=r[2],p=d,f=this.enhance();if(0!==f){for(o=0;o<a;o+=4)(e=r[o+0])<l?l=e:e>c&&(c=e),(n=r[o+1])<u?u=n:n>h&&(h=n),(i=r[o+2])<d?d=i:i>p&&(p=i);var g,m,_,y,v,C,b,E,S;for(c===l&&(c=255,l=0),h===u&&(h=255,u=0),p===d&&(p=255,d=0),f>0?(m=c+f*(255-c),_=l-f*(l-0),v=h+f*(255-h),C=u-f*(u-0),E=p+f*(255-p),S=d-f*(d-0)):(m=c+f*(c-(g=.5*(c+l))),_=l+f*(l-g),v=h+f*(h-(y=.5*(h+u))),C=u+f*(u-y),E=p+f*(p-(b=.5*(p+d))),S=d+f*(d-b)),o=0;o<a;o+=4)r[o+0]=s(r[o+0],l,c,_,m),r[o+1]=s(r[o+1],u,h,C,v),r[o+2]=s(r[o+2],d,p,S,E)}},i.Factory.addGetterSetter(o.Node,"enhance",0,(0,r.getNumberValidator)(),i.Factory.afterSetFilter)},1179:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Grayscale=void 0;e.Grayscale=function(t){var e,n,i=t.data,o=i.length;for(e=0;e<o;e+=4)n=.34*i[e]+.5*i[e+1]+.16*i[e+2],i[e]=n,i[e+1]=n,i[e+2]=n}},7194:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HSL=void 0;const i=n(1455),o=n(7939),r=n(3774);i.Factory.addGetterSetter(o.Node,"hue",0,(0,r.getNumberValidator)(),i.Factory.afterSetFilter),i.Factory.addGetterSetter(o.Node,"saturation",0,(0,r.getNumberValidator)(),i.Factory.afterSetFilter),i.Factory.addGetterSetter(o.Node,"luminance",0,(0,r.getNumberValidator)(),i.Factory.afterSetFilter);e.HSL=function(t){var e,n,i,o,r,s=t.data,a=s.length,l=Math.pow(2,this.saturation()),c=Math.abs(this.hue()+360)%360,u=127*this.luminance(),h=1*l*Math.cos(c*Math.PI/180),d=1*l*Math.sin(c*Math.PI/180),p=.299+.701*h+.167*d,f=.587-.587*h+.33*d,g=.114-.114*h-.497*d,m=.299-.299*h-.328*d,_=.587+.413*h+.035*d,y=.114-.114*h+.293*d,v=.299-.3*h+1.25*d,C=.587-.586*h-1.05*d,b=.114+.886*h-.2*d;for(e=0;e<a;e+=4)n=s[e+0],i=s[e+1],o=s[e+2],r=s[e+3],s[e+0]=p*n+f*i+g*o+u,s[e+1]=m*n+_*i+y*o+u,s[e+2]=v*n+C*i+b*o+u,s[e+3]=r}},3925:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HSV=void 0;const i=n(1455),o=n(7939),r=n(3774);e.HSV=function(t){var e,n,i,o,r,s=t.data,a=s.length,l=Math.pow(2,this.value()),c=Math.pow(2,this.saturation()),u=Math.abs(this.hue()+360)%360,h=l*c*Math.cos(u*Math.PI/180),d=l*c*Math.sin(u*Math.PI/180),p=.299*l+.701*h+.167*d,f=.587*l-.587*h+.33*d,g=.114*l-.114*h-.497*d,m=.299*l-.299*h-.328*d,_=.587*l+.413*h+.035*d,y=.114*l-.114*h+.293*d,v=.299*l-.3*h+1.25*d,C=.587*l-.586*h-1.05*d,b=.114*l+.886*h-.2*d;for(e=0;e<a;e+=4)n=s[e+0],i=s[e+1],o=s[e+2],r=s[e+3],s[e+0]=p*n+f*i+g*o,s[e+1]=m*n+_*i+y*o,s[e+2]=v*n+C*i+b*o,s[e+3]=r},i.Factory.addGetterSetter(o.Node,"hue",0,(0,r.getNumberValidator)(),i.Factory.afterSetFilter),i.Factory.addGetterSetter(o.Node,"saturation",0,(0,r.getNumberValidator)(),i.Factory.afterSetFilter),i.Factory.addGetterSetter(o.Node,"value",0,(0,r.getNumberValidator)(),i.Factory.afterSetFilter)},5751:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Invert=void 0;e.Invert=function(t){var e,n=t.data,i=n.length;for(e=0;e<i;e+=4)n[e]=255-n[e],n[e+1]=255-n[e+1],n[e+2]=255-n[e+2]}},6588:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Kaleidoscope=void 0;const i=n(1455),o=n(7939),r=n(8588),s=n(3774);e.Kaleidoscope=function(t){var e,n,i,o,s,a,l,c,u,h=t.width,d=t.height,p=Math.round(this.kaleidoscopePower()),f=Math.round(this.kaleidoscopeAngle()),g=Math.floor(h*(f%360)/360);if(!(p<1)){var m=r.Util.createCanvasElement();m.width=h,m.height=d;var _=m.getContext("2d").getImageData(0,0,h,d);r.Util.releaseCanvas(m),function(t,e,n){var i,o,r,s,a=t.data,l=e.data,c=t.width,u=t.height,h=n.polarCenterX||c/2,d=n.polarCenterY||u/2,p=0,f=0,g=0,m=0,_=Math.sqrt(h*h+d*d);o=c-h,r=u-d,_=(s=Math.sqrt(o*o+r*r))>_?s:_;var y,v,C,b,E=u,S=c,w=360/S*Math.PI/180;for(v=0;v<S;v+=1)for(C=Math.sin(v*w),b=Math.cos(v*w),y=0;y<E;y+=1)o=Math.floor(h+_*y/E*b),p=a[0+(i=4*((r=Math.floor(d+_*y/E*C))*c+o))],f=a[i+1],g=a[i+2],m=a[i+3],l[0+(i=4*(v+y*c))]=p,l[i+1]=f,l[i+2]=g,l[i+3]=m}(t,_,{polarCenterX:h/2,polarCenterY:d/2});for(var y=h/Math.pow(2,p);y<=8;)y*=2,p-=1;var v=y=Math.ceil(y),C=0,b=v,E=1;for(g+y>h&&(C=v,b=0,E=-1),n=0;n<d;n+=1)for(e=C;e!==b;e+=E)c=4*(h*n+Math.round(e+g)%h),o=_.data[c+0],s=_.data[c+1],a=_.data[c+2],l=_.data[c+3],u=4*(h*n+e),_.data[u+0]=o,_.data[u+1]=s,_.data[u+2]=a,_.data[u+3]=l;for(n=0;n<d;n+=1)for(v=Math.floor(y),i=0;i<p;i+=1){for(e=0;e<v+1;e+=1)c=4*(h*n+e),o=_.data[c+0],s=_.data[c+1],a=_.data[c+2],l=_.data[c+3],u=4*(h*n+2*v-e-1),_.data[u+0]=o,_.data[u+1]=s,_.data[u+2]=a,_.data[u+3]=l;v*=2}!function(t,e,n){var i,o,r,s,a,l,c=t.data,u=e.data,h=t.width,d=t.height,p=n.polarCenterX||h/2,f=n.polarCenterY||d/2,g=0,m=0,_=0,y=0,v=Math.sqrt(p*p+f*f);o=h-p,r=d-f,v=(l=Math.sqrt(o*o+r*r))>v?l:v;var C,b,E,S=d,w=h,O=n.polarRotation||0;for(o=0;o<h;o+=1)for(r=0;r<d;r+=1)s=o-p,a=r-f,C=Math.sqrt(s*s+a*a)*S/v,b=(b=(180*Math.atan2(a,s)/Math.PI+360+O)%360)*w/360,E=Math.floor(b),g=c[0+(i=4*(Math.floor(C)*h+E))],m=c[i+1],_=c[i+2],y=c[i+3],u[0+(i=4*(r*h+o))]=g,u[i+1]=m,u[i+2]=_,u[i+3]=y}(_,t,{polarRotation:0})}},i.Factory.addGetterSetter(o.Node,"kaleidoscopePower",2,(0,s.getNumberValidator)(),i.Factory.afterSetFilter),i.Factory.addGetterSetter(o.Node,"kaleidoscopeAngle",0,(0,s.getNumberValidator)(),i.Factory.afterSetFilter)},3565:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Mask=void 0;const i=n(1455),o=n(7939),r=n(3774);function s(t,e,n){var i=4*(n*t.width+e),o=[];return o.push(t.data[i++],t.data[i++],t.data[i++],t.data[i++]),o}function a(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)+Math.pow(t[2]-e[2],2))}e.Mask=function(t){var e=function(t,e){var n=s(t,0,0),i=s(t,t.width-1,0),o=s(t,0,t.height-1),r=s(t,t.width-1,t.height-1),l=e||10;if(a(n,i)<l&&a(i,r)<l&&a(r,o)<l&&a(o,n)<l){for(var c=function(t){for(var e=[0,0,0],n=0;n<t.length;n++)e[0]+=t[n][0],e[1]+=t[n][1],e[2]+=t[n][2];return e[0]/=t.length,e[1]/=t.length,e[2]/=t.length,e}([i,n,r,o]),u=[],h=0;h<t.width*t.height;h++){var d=a(c,[t.data[4*h],t.data[4*h+1],t.data[4*h+2]]);u[h]=d<l?0:255}return u}}(t,this.threshold());return e&&function(t,e){for(var n=0;n<t.width*t.height;n++)t.data[4*n+3]=e[n]}(t,e=function(t,e,n){for(var i=[1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9],o=Math.round(Math.sqrt(i.length)),r=Math.floor(o/2),s=[],a=0;a<n;a++)for(var l=0;l<e;l++){for(var c=a*e+l,u=0,h=0;h<o;h++)for(var d=0;d<o;d++){var p=a+h-r,f=l+d-r;if(p>=0&&p<n&&f>=0&&f<e){var g=i[h*o+d];u+=t[p*e+f]*g}}s[c]=u}return s}(e=function(t,e,n){for(var i=[1,1,1,1,1,1,1,1,1],o=Math.round(Math.sqrt(i.length)),r=Math.floor(o/2),s=[],a=0;a<n;a++)for(var l=0;l<e;l++){for(var c=a*e+l,u=0,h=0;h<o;h++)for(var d=0;d<o;d++){var p=a+h-r,f=l+d-r;if(p>=0&&p<n&&f>=0&&f<e){var g=i[h*o+d];u+=t[p*e+f]*g}}s[c]=u>=1020?255:0}return s}(e=function(t,e,n){for(var i=[1,1,1,1,0,1,1,1,1],o=Math.round(Math.sqrt(i.length)),r=Math.floor(o/2),s=[],a=0;a<n;a++)for(var l=0;l<e;l++){for(var c=a*e+l,u=0,h=0;h<o;h++)for(var d=0;d<o;d++){var p=a+h-r,f=l+d-r;if(p>=0&&p<n&&f>=0&&f<e){var g=i[h*o+d];u+=t[p*e+f]*g}}s[c]=2040===u?255:0}return s}(e,t.width,t.height),t.width,t.height),t.width,t.height)),t},i.Factory.addGetterSetter(o.Node,"threshold",0,(0,r.getNumberValidator)(),i.Factory.afterSetFilter)},5929:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Noise=void 0;const i=n(1455),o=n(7939),r=n(3774);e.Noise=function(t){var e,n=255*this.noise(),i=t.data,o=i.length,r=n/2;for(e=0;e<o;e+=4)i[e+0]+=r-2*r*Math.random(),i[e+1]+=r-2*r*Math.random(),i[e+2]+=r-2*r*Math.random()},i.Factory.addGetterSetter(o.Node,"noise",.2,(0,r.getNumberValidator)(),i.Factory.afterSetFilter)},7233:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Pixelate=void 0;const i=n(1455),o=n(8588),r=n(7939),s=n(3774);e.Pixelate=function(t){var e,n,i,r,s,a,l,c,u,h,d,p,f,g,m=Math.ceil(this.pixelSize()),_=t.width,y=t.height,v=Math.ceil(_/m),C=Math.ceil(y/m),b=t.data;if(m<=0)o.Util.error("pixelSize value can not be <= 0");else for(p=0;p<v;p+=1)for(f=0;f<C;f+=1){for(r=0,s=0,a=0,l=0,u=(c=p*m)+m,d=(h=f*m)+m,g=0,e=c;e<u;e+=1)if(!(e>=_))for(n=h;n<d;n+=1)n>=y||(r+=b[(i=4*(_*n+e))+0],s+=b[i+1],a+=b[i+2],l+=b[i+3],g+=1);for(r/=g,s/=g,a/=g,l/=g,e=c;e<u;e+=1)if(!(e>=_))for(n=h;n<d;n+=1)n>=y||(b[(i=4*(_*n+e))+0]=r,b[i+1]=s,b[i+2]=a,b[i+3]=l)}},i.Factory.addGetterSetter(r.Node,"pixelSize",8,(0,s.getNumberValidator)(),i.Factory.afterSetFilter)},8590:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Posterize=void 0;const i=n(1455),o=n(7939),r=n(3774);e.Posterize=function(t){var e,n=Math.round(254*this.levels())+1,i=t.data,o=i.length,r=255/n;for(e=0;e<o;e+=1)i[e]=Math.floor(i[e]/r)*r},i.Factory.addGetterSetter(o.Node,"levels",.5,(0,r.getNumberValidator)(),i.Factory.afterSetFilter)},8280:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RGB=void 0;const i=n(1455),o=n(7939),r=n(3774);e.RGB=function(t){var e,n,i=t.data,o=i.length,r=this.red(),s=this.green(),a=this.blue();for(e=0;e<o;e+=4)n=(.34*i[e]+.5*i[e+1]+.16*i[e+2])/255,i[e]=n*r,i[e+1]=n*s,i[e+2]=n*a,i[e+3]=i[e+3]},i.Factory.addGetterSetter(o.Node,"red",0,(function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)})),i.Factory.addGetterSetter(o.Node,"green",0,(function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)})),i.Factory.addGetterSetter(o.Node,"blue",0,r.RGBComponent,i.Factory.afterSetFilter)},3438:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RGBA=void 0;const i=n(1455),o=n(7939),r=n(3774);e.RGBA=function(t){var e,n,i=t.data,o=i.length,r=this.red(),s=this.green(),a=this.blue(),l=this.alpha();for(e=0;e<o;e+=4)n=1-l,i[e]=r*l+i[e]*n,i[e+1]=s*l+i[e+1]*n,i[e+2]=a*l+i[e+2]*n},i.Factory.addGetterSetter(o.Node,"red",0,(function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)})),i.Factory.addGetterSetter(o.Node,"green",0,(function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)})),i.Factory.addGetterSetter(o.Node,"blue",0,r.RGBComponent,i.Factory.afterSetFilter),i.Factory.addGetterSetter(o.Node,"alpha",1,(function(t){return this._filterUpToDate=!1,t>1?1:t<0?0:t}))},6703:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Sepia=void 0;e.Sepia=function(t){var e,n,i,o,r=t.data,s=r.length;for(e=0;e<s;e+=4)n=r[e+0],i=r[e+1],o=r[e+2],r[e+0]=Math.min(255,.393*n+.769*i+.189*o),r[e+1]=Math.min(255,.349*n+.686*i+.168*o),r[e+2]=Math.min(255,.272*n+.534*i+.131*o)}},1665:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Solarize=void 0;e.Solarize=function(t){var e=t.data,n=t.width,i=4*n,o=t.height;do{var r=(o-1)*i,s=n;do{var a=r+4*(s-1),l=e[a],c=e[a+1],u=e[a+2];l>127&&(l=255-l),c>127&&(c=255-c),u>127&&(u=255-u),e[a]=l,e[a+1]=c,e[a+2]=u}while(--s)}while(--o)}},1863:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Threshold=void 0;const i=n(1455),o=n(7939),r=n(3774);e.Threshold=function(t){var e,n=255*this.threshold(),i=t.data,o=i.length;for(e=0;e<o;e+=1)i[e]=i[e]<n?0:255},i.Factory.addGetterSetter(o.Node,"threshold",.5,(0,r.getNumberValidator)(),i.Factory.afterSetFilter)},185:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=n(2076);t.exports=i.Konva},119:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Arc=void 0;const i=n(1455),o=n(7955),r=n(4417),s=n(3774),a=n(4417);class l extends o.Shape{_sceneFunc(t){var e=r.Konva.getAngle(this.angle()),n=this.clockwise();t.beginPath(),t.arc(0,0,this.outerRadius(),0,e,n),t.arc(0,0,this.innerRadius(),e,0,!n),t.closePath(),t.fillStrokeShape(this)}getWidth(){return 2*this.outerRadius()}getHeight(){return 2*this.outerRadius()}setWidth(t){this.outerRadius(t/2)}setHeight(t){this.outerRadius(t/2)}getSelfRect(){const t=this.innerRadius(),e=this.outerRadius(),n=this.clockwise(),i=r.Konva.getAngle(n?360-this.angle():this.angle()),o=Math.cos(Math.min(i,Math.PI)),s=Math.sin(Math.min(Math.max(Math.PI,i),3*Math.PI/2)),a=Math.sin(Math.min(i,Math.PI/2)),l=o*(o>0?t:e),c=s*(s>0?t:e),u=a*(a>0?e:t);return{x:l,y:n?-1*u:c,width:1*e-l,height:u-c}}}e.Arc=l,l.prototype._centroid=!0,l.prototype.className="Arc",l.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,a._registerNode)(l),i.Factory.addGetterSetter(l,"innerRadius",0,(0,s.getNumberValidator)()),i.Factory.addGetterSetter(l,"outerRadius",0,(0,s.getNumberValidator)()),i.Factory.addGetterSetter(l,"angle",0,(0,s.getNumberValidator)()),i.Factory.addGetterSetter(l,"clockwise",!1,(0,s.getBooleanValidator)())},2064:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Arrow=void 0;const i=n(1455),o=n(7149),r=n(3774),s=n(4417),a=n(7339);class l extends o.Line{_sceneFunc(t){super._sceneFunc(t);var e=2*Math.PI,n=this.points(),i=n,o=0!==this.tension()&&n.length>4;o&&(i=this.getTensionPoints());var r,s,l=this.pointerLength(),c=n.length;if(o){const t=[i[i.length-4],i[i.length-3],i[i.length-2],i[i.length-1],n[c-2],n[c-1]],e=a.Path.calcLength(i[i.length-4],i[i.length-3],"C",t),o=a.Path.getPointOnQuadraticBezier(Math.min(1,1-l/e),t[0],t[1],t[2],t[3],t[4],t[5]);r=n[c-2]-o.x,s=n[c-1]-o.y}else r=n[c-2]-n[c-4],s=n[c-1]-n[c-3];var u=(Math.atan2(s,r)+e)%e,h=this.pointerWidth();this.pointerAtEnding()&&(t.save(),t.beginPath(),t.translate(n[c-2],n[c-1]),t.rotate(u),t.moveTo(0,0),t.lineTo(-l,h/2),t.lineTo(-l,-h/2),t.closePath(),t.restore(),this.__fillStroke(t)),this.pointerAtBeginning()&&(t.save(),t.beginPath(),t.translate(n[0],n[1]),o?(r=(i[0]+i[2])/2-n[0],s=(i[1]+i[3])/2-n[1]):(r=n[2]-n[0],s=n[3]-n[1]),t.rotate((Math.atan2(-s,-r)+e)%e),t.moveTo(0,0),t.lineTo(-l,h/2),t.lineTo(-l,-h/2),t.closePath(),t.restore(),this.__fillStroke(t))}__fillStroke(t){var e=this.dashEnabled();e&&(this.attrs.dashEnabled=!1,t.setLineDash([])),t.fillStrokeShape(this),e&&(this.attrs.dashEnabled=!0)}getSelfRect(){const t=super.getSelfRect(),e=this.pointerWidth()/2;return{x:t.x-e,y:t.y-e,width:t.width+2*e,height:t.height+2*e}}}e.Arrow=l,l.prototype.className="Arrow",(0,s._registerNode)(l),i.Factory.addGetterSetter(l,"pointerLength",10,(0,r.getNumberValidator)()),i.Factory.addGetterSetter(l,"pointerWidth",10,(0,r.getNumberValidator)()),i.Factory.addGetterSetter(l,"pointerAtBeginning",!1),i.Factory.addGetterSetter(l,"pointerAtEnding",!0)},7643:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Circle=void 0;const i=n(1455),o=n(7955),r=n(3774),s=n(4417);class a extends o.Shape{_sceneFunc(t){t.beginPath(),t.arc(0,0,this.attrs.radius||0,0,2*Math.PI,!1),t.closePath(),t.fillStrokeShape(this)}getWidth(){return 2*this.radius()}getHeight(){return 2*this.radius()}setWidth(t){this.radius()!==t/2&&this.radius(t/2)}setHeight(t){this.radius()!==t/2&&this.radius(t/2)}}e.Circle=a,a.prototype._centroid=!0,a.prototype.className="Circle",a.prototype._attrsAffectingSize=["radius"],(0,s._registerNode)(a),i.Factory.addGetterSetter(a,"radius",0,(0,r.getNumberValidator)())},535:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Ellipse=void 0;const i=n(1455),o=n(7955),r=n(3774),s=n(4417);class a extends o.Shape{_sceneFunc(t){var e=this.radiusX(),n=this.radiusY();t.beginPath(),t.save(),e!==n&&t.scale(1,n/e),t.arc(0,0,e,0,2*Math.PI,!1),t.restore(),t.closePath(),t.fillStrokeShape(this)}getWidth(){return 2*this.radiusX()}getHeight(){return 2*this.radiusY()}setWidth(t){this.radiusX(t/2)}setHeight(t){this.radiusY(t/2)}}e.Ellipse=a,a.prototype.className="Ellipse",a.prototype._centroid=!0,a.prototype._attrsAffectingSize=["radiusX","radiusY"],(0,s._registerNode)(a),i.Factory.addComponentsGetterSetter(a,"radius",["x","y"]),i.Factory.addGetterSetter(a,"radiusX",0,(0,r.getNumberValidator)()),i.Factory.addGetterSetter(a,"radiusY",0,(0,r.getNumberValidator)())},1298:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Image=void 0;const i=n(8588),o=n(1455),r=n(7955),s=n(4417),a=n(3774);class l extends r.Shape{constructor(t){super(t),this.on("imageChange.konva",(()=>{this._setImageLoad()})),this._setImageLoad()}_setImageLoad(){const t=this.image();t&&t.complete||t&&4===t.readyState||t&&t.addEventListener&&t.addEventListener("load",(()=>{this._requestDraw()}))}_useBufferCanvas(){return super._useBufferCanvas(!0)}_sceneFunc(t){const e=this.getWidth(),n=this.getHeight(),o=this.cornerRadius(),r=this.attrs.image;let s;if(r){const t=this.attrs.cropWidth,i=this.attrs.cropHeight;s=t&&i?[r,this.cropX(),this.cropY(),t,i,0,0,e,n]:[r,0,0,e,n]}(this.hasFill()||this.hasStroke()||o)&&(t.beginPath(),o?i.Util.drawRoundedRectPath(t,e,n,o):t.rect(0,0,e,n),t.closePath(),t.fillStrokeShape(this)),r&&(o&&t.clip(),t.drawImage.apply(t,s))}_hitFunc(t){var e=this.width(),n=this.height(),o=this.cornerRadius();t.beginPath(),o?i.Util.drawRoundedRectPath(t,e,n,o):t.rect(0,0,e,n),t.closePath(),t.fillStrokeShape(this)}getWidth(){var t,e;return null!==(t=this.attrs.width)&&void 0!==t?t:null===(e=this.image())||void 0===e?void 0:e.width}getHeight(){var t,e;return null!==(t=this.attrs.height)&&void 0!==t?t:null===(e=this.image())||void 0===e?void 0:e.height}static fromURL(t,e,n=null){var o=i.Util.createImageElement();o.onload=function(){var t=new l({image:o});e(t)},o.onerror=n,o.crossOrigin="Anonymous",o.src=t}}e.Image=l,l.prototype.className="Image",(0,s._registerNode)(l),o.Factory.addGetterSetter(l,"cornerRadius",0,(0,a.getNumberOrArrayOfNumbersValidator)(4)),o.Factory.addGetterSetter(l,"image"),o.Factory.addComponentsGetterSetter(l,"crop",["x","y","width","height"]),o.Factory.addGetterSetter(l,"cropX",0,(0,a.getNumberValidator)()),o.Factory.addGetterSetter(l,"cropY",0,(0,a.getNumberValidator)()),o.Factory.addGetterSetter(l,"cropWidth",0,(0,a.getNumberValidator)()),o.Factory.addGetterSetter(l,"cropHeight",0,(0,a.getNumberValidator)())},6067:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Tag=e.Label=void 0;const i=n(1455),o=n(7955),r=n(8985),s=n(3774),a=n(4417);var l=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],c="up",u="right",h="down",d="left",p=l.length;class f extends r.Group{constructor(t){super(t),this.on("add.konva",(function(t){this._addListeners(t.child),this._sync()}))}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(t){var e,n=this,i=function(){n._sync()};for(e=0;e<p;e++)t.on(l[e]+"Change.konva",i)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){var t,e,n,i,o,r,s,a=this.getText(),l=this.getTag();if(a&&l){switch(t=a.width(),e=a.height(),n=l.pointerDirection(),i=l.pointerWidth(),s=l.pointerHeight(),o=0,r=0,n){case c:o=t/2,r=-1*s;break;case u:o=t+i,r=e/2;break;case h:o=t/2,r=e+s;break;case d:o=-1*i,r=e/2}l.setAttrs({x:-1*o,y:-1*r,width:t,height:e}),a.setAttrs({x:-1*o,y:-1*r})}}}e.Label=f,f.prototype.className="Label",(0,a._registerNode)(f);class g extends o.Shape{_sceneFunc(t){var e=this.width(),n=this.height(),i=this.pointerDirection(),o=this.pointerWidth(),r=this.pointerHeight(),s=this.cornerRadius();let a=0,l=0,p=0,f=0;"number"==typeof s?a=l=p=f=Math.min(s,e/2,n/2):(a=Math.min(s[0]||0,e/2,n/2),l=Math.min(s[1]||0,e/2,n/2),f=Math.min(s[2]||0,e/2,n/2),p=Math.min(s[3]||0,e/2,n/2)),t.beginPath(),t.moveTo(a,0),i===c&&(t.lineTo((e-o)/2,0),t.lineTo(e/2,-1*r),t.lineTo((e+o)/2,0)),t.lineTo(e-l,0),t.arc(e-l,l,l,3*Math.PI/2,0,!1),i===u&&(t.lineTo(e,(n-r)/2),t.lineTo(e+o,n/2),t.lineTo(e,(n+r)/2)),t.lineTo(e,n-f),t.arc(e-f,n-f,f,0,Math.PI/2,!1),i===h&&(t.lineTo((e+o)/2,n),t.lineTo(e/2,n+r),t.lineTo((e-o)/2,n)),t.lineTo(p,n),t.arc(p,n-p,p,Math.PI/2,Math.PI,!1),i===d&&(t.lineTo(0,(n+r)/2),t.lineTo(-1*o,n/2),t.lineTo(0,(n-r)/2)),t.lineTo(0,a),t.arc(a,a,a,Math.PI,3*Math.PI/2,!1),t.closePath(),t.fillStrokeShape(this)}getSelfRect(){var t=0,e=0,n=this.pointerWidth(),i=this.pointerHeight(),o=this.pointerDirection(),r=this.width(),s=this.height();return o===c?(e-=i,s+=i):o===h?s+=i:o===d?(t-=1.5*n,r+=n):o===u&&(r+=1.5*n),{x:t,y:e,width:r,height:s}}}e.Tag=g,g.prototype.className="Tag",(0,a._registerNode)(g),i.Factory.addGetterSetter(g,"pointerDirection","none"),i.Factory.addGetterSetter(g,"pointerWidth",0,(0,s.getNumberValidator)()),i.Factory.addGetterSetter(g,"pointerHeight",0,(0,s.getNumberValidator)()),i.Factory.addGetterSetter(g,"cornerRadius",0,(0,s.getNumberOrArrayOfNumbersValidator)(4))},7149:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Line=void 0;const i=n(1455),o=n(7955),r=n(3774),s=n(4417);function a(t,e,n,i,o,r,s){var a=Math.sqrt(Math.pow(n-t,2)+Math.pow(i-e,2)),l=Math.sqrt(Math.pow(o-n,2)+Math.pow(r-i,2)),c=s*a/(a+l),u=s*l/(a+l);return[n-c*(o-t),i-c*(r-e),n+u*(o-t),i+u*(r-e)]}function l(t,e){var n,i,o=t.length,r=[];for(n=2;n<o-2;n+=2)i=a(t[n-2],t[n-1],t[n],t[n+1],t[n+2],t[n+3],e),isNaN(i[0])||(r.push(i[0]),r.push(i[1]),r.push(t[n]),r.push(t[n+1]),r.push(i[2]),r.push(i[3]));return r}class c extends o.Shape{constructor(t){super(t),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",(function(){this._clearCache("tensionPoints")}))}_sceneFunc(t){var e,n,i,o=this.points(),r=o.length,s=this.tension(),a=this.closed(),l=this.bezier();if(r){if(t.beginPath(),t.moveTo(o[0],o[1]),0!==s&&r>4){for(n=(e=this.getTensionPoints()).length,i=a?0:4,a||t.quadraticCurveTo(e[0],e[1],e[2],e[3]);i<n-2;)t.bezierCurveTo(e[i++],e[i++],e[i++],e[i++],e[i++],e[i++]);a||t.quadraticCurveTo(e[n-2],e[n-1],o[r-2],o[r-1])}else if(l)for(i=2;i<r;)t.bezierCurveTo(o[i++],o[i++],o[i++],o[i++],o[i++],o[i++]);else for(i=2;i<r;i+=2)t.lineTo(o[i],o[i+1]);a?(t.closePath(),t.fillStrokeShape(this)):t.strokeShape(this)}}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():l(this.points(),this.tension())}_getTensionPointsClosed(){var t=this.points(),e=t.length,n=this.tension(),i=a(t[e-2],t[e-1],t[0],t[1],t[2],t[3],n),o=a(t[e-4],t[e-3],t[e-2],t[e-1],t[0],t[1],n),r=l(t,n);return[i[2],i[3]].concat(r).concat([o[0],o[1],t[e-2],t[e-1],o[2],o[3],i[0],i[1],t[0],t[1]])}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){var t=this.points();if(t.length<4)return{x:t[0]||0,y:t[1]||0,width:0,height:0};for(var e,n,i=(t=0!==this.tension()?[t[0],t[1],...this._getTensionPoints(),t[t.length-2],t[t.length-1]]:this.points())[0],o=t[0],r=t[1],s=t[1],a=0;a<t.length/2;a++)e=t[2*a],n=t[2*a+1],i=Math.min(i,e),o=Math.max(o,e),r=Math.min(r,n),s=Math.max(s,n);return{x:i,y:r,width:o-i,height:s-r}}}e.Line=c,c.prototype.className="Line",c.prototype._attrsAffectingSize=["points","bezier","tension"],(0,s._registerNode)(c),i.Factory.addGetterSetter(c,"closed",!1),i.Factory.addGetterSetter(c,"bezier",!1),i.Factory.addGetterSetter(c,"tension",0,(0,r.getNumberValidator)()),i.Factory.addGetterSetter(c,"points",[],(0,r.getNumberArrayValidator)())},7339:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Path=void 0;const i=n(1455),o=n(7955),r=n(4417),s=n(4135);class a extends o.Shape{constructor(t){super(t),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",(function(){this._readDataAttribute()}))}_readDataAttribute(){this.dataArray=a.parsePathData(this.data()),this.pathLength=a.getPathLength(this.dataArray)}_sceneFunc(t){var e=this.dataArray;t.beginPath();for(var n=!1,i=0;i<e.length;i++){var o=e[i].command,r=e[i].points;switch(o){case"L":t.lineTo(r[0],r[1]);break;case"M":t.moveTo(r[0],r[1]);break;case"C":t.bezierCurveTo(r[0],r[1],r[2],r[3],r[4],r[5]);break;case"Q":t.quadraticCurveTo(r[0],r[1],r[2],r[3]);break;case"A":var s=r[0],a=r[1],l=r[2],c=r[3],u=r[4],h=r[5],d=r[6],p=r[7],f=l>c?l:c,g=l>c?1:l/c,m=l>c?c/l:1;t.translate(s,a),t.rotate(d),t.scale(g,m),t.arc(0,0,f,u,u+h,1-p),t.scale(1/g,1/m),t.rotate(-d),t.translate(-s,-a);break;case"z":n=!0,t.closePath()}}n||this.hasFill()?t.fillStrokeShape(this):t.strokeShape(this)}getSelfRect(){var t=[];this.dataArray.forEach((function(e){if("A"===e.command){var n=e.points[4],i=e.points[5],o=e.points[4]+i,r=Math.PI/180;if(Math.abs(n-o)<r&&(r=Math.abs(n-o)),i<0)for(let i=n-r;i>o;i-=r){const n=a.getPointOnEllipticalArc(e.points[0],e.points[1],e.points[2],e.points[3],i,0);t.push(n.x,n.y)}else for(let i=n+r;i<o;i+=r){const n=a.getPointOnEllipticalArc(e.points[0],e.points[1],e.points[2],e.points[3],i,0);t.push(n.x,n.y)}}else if("C"===e.command)for(let n=0;n<=1;n+=.01){const i=a.getPointOnCubicBezier(n,e.start.x,e.start.y,e.points[0],e.points[1],e.points[2],e.points[3],e.points[4],e.points[5]);t.push(i.x,i.y)}else t=t.concat(e.points)}));for(var e,n,i=t[0],o=t[0],r=t[1],s=t[1],l=0;l<t.length/2;l++)e=t[2*l],n=t[2*l+1],isNaN(e)||(i=Math.min(i,e),o=Math.max(o,e)),isNaN(n)||(r=Math.min(r,n),s=Math.max(s,n));return{x:i,y:r,width:o-i,height:s-r}}getLength(){return this.pathLength}getPointAtLength(t){return a.getPointAtLengthOfDataArray(t,this.dataArray)}static getLineLength(t,e,n,i){return Math.sqrt((n-t)*(n-t)+(i-e)*(i-e))}static getPathLength(t){let e=0;for(var n=0;n<t.length;++n)e+=t[n].pathLength;return e}static getPointAtLengthOfDataArray(t,e){var n,i=0,o=e.length;if(!o)return null;for(;i<o&&t>e[i].pathLength;)t-=e[i].pathLength,++i;if(i===o)return{x:(n=e[i-1].points.slice(-2))[0],y:n[1]};if(t<.01)return{x:(n=e[i].points.slice(0,2))[0],y:n[1]};var r=e[i],l=r.points;switch(r.command){case"L":return a.getPointOnLine(t,r.start.x,r.start.y,l[0],l[1]);case"C":return a.getPointOnCubicBezier((0,s.t2length)(t,a.getPathLength(e),(t=>(0,s.getCubicArcLength)([r.start.x,l[0],l[2],l[4]],[r.start.y,l[1],l[3],l[5]],t))),r.start.x,r.start.y,l[0],l[1],l[2],l[3],l[4],l[5]);case"Q":return a.getPointOnQuadraticBezier((0,s.t2length)(t,a.getPathLength(e),(t=>(0,s.getQuadraticArcLength)([r.start.x,l[0],l[2]],[r.start.y,l[1],l[3]],t))),r.start.x,r.start.y,l[0],l[1],l[2],l[3]);case"A":var c=l[0],u=l[1],h=l[2],d=l[3],p=l[4],f=l[5],g=l[6];return p+=f*t/r.pathLength,a.getPointOnEllipticalArc(c,u,h,d,p,g)}return null}static getPointOnLine(t,e,n,i,o,r,s){void 0===r&&(r=e),void 0===s&&(s=n);var a=(o-n)/(i-e+1e-8),l=Math.sqrt(t*t/(1+a*a));i<e&&(l*=-1);var c,u=a*l;if(i===e)c={x:r,y:s+u};else if((s-n)/(r-e+1e-8)===a)c={x:r+l,y:s+u};else{var h,d,p=this.getLineLength(e,n,i,o),f=(r-e)*(i-e)+(s-n)*(o-n);h=e+(f/=p*p)*(i-e),d=n+f*(o-n);var g=this.getLineLength(r,s,h,d),m=Math.sqrt(t*t-g*g);l=Math.sqrt(m*m/(1+a*a)),i<e&&(l*=-1),c={x:h+l,y:d+(u=a*l)}}return c}static getPointOnCubicBezier(t,e,n,i,o,r,s,a,l){function c(t){return t*t*t}function u(t){return 3*t*t*(1-t)}function h(t){return 3*t*(1-t)*(1-t)}function d(t){return(1-t)*(1-t)*(1-t)}return{x:a*c(t)+r*u(t)+i*h(t)+e*d(t),y:l*c(t)+s*u(t)+o*h(t)+n*d(t)}}static getPointOnQuadraticBezier(t,e,n,i,o,r,s){function a(t){return t*t}function l(t){return 2*t*(1-t)}function c(t){return(1-t)*(1-t)}return{x:r*a(t)+i*l(t)+e*c(t),y:s*a(t)+o*l(t)+n*c(t)}}static getPointOnEllipticalArc(t,e,n,i,o,r){var s=Math.cos(r),a=Math.sin(r),l=n*Math.cos(o),c=i*Math.sin(o);return{x:t+(l*s-c*a),y:e+(l*a+c*s)}}static parsePathData(t){if(!t)return[];var e=t,n=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];e=e.replace(new RegExp(" ","g"),",");for(var i=0;i<n.length;i++)e=e.replace(new RegExp(n[i],"g"),"|"+n[i]);var o,r=e.split("|"),s=[],a=[],l=0,c=0,u=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;for(i=1;i<r.length;i++){var h=r[i],d=h.charAt(0);for(h=h.slice(1),a.length=0;o=u.exec(h);)a.push(o[0]);for(var p=[],f=0,g=a.length;f<g;f++)if("00"!==a[f]){var m=parseFloat(a[f]);isNaN(m)?p.push(0):p.push(m)}else p.push(0,0);for(;p.length>0&&!isNaN(p[0]);){var _,y,v,C,b,E,S,w,O,x,P=null,T=[],M=l,D=c;switch(d){case"l":l+=p.shift(),c+=p.shift(),P="L",T.push(l,c);break;case"L":l=p.shift(),c=p.shift(),T.push(l,c);break;case"m":var R=p.shift(),A=p.shift();if(l+=R,c+=A,P="M",s.length>2&&"z"===s[s.length-1].command)for(var L=s.length-2;L>=0;L--)if("M"===s[L].command){l=s[L].points[0]+R,c=s[L].points[1]+A;break}T.push(l,c),d="l";break;case"M":l=p.shift(),c=p.shift(),P="M",T.push(l,c),d="L";break;case"h":l+=p.shift(),P="L",T.push(l,c);break;case"H":l=p.shift(),P="L",T.push(l,c);break;case"v":c+=p.shift(),P="L",T.push(l,c);break;case"V":c=p.shift(),P="L",T.push(l,c);break;case"C":T.push(p.shift(),p.shift(),p.shift(),p.shift()),l=p.shift(),c=p.shift(),T.push(l,c);break;case"c":T.push(l+p.shift(),c+p.shift(),l+p.shift(),c+p.shift()),l+=p.shift(),c+=p.shift(),P="C",T.push(l,c);break;case"S":y=l,v=c,"C"===(_=s[s.length-1]).command&&(y=l+(l-_.points[2]),v=c+(c-_.points[3])),T.push(y,v,p.shift(),p.shift()),l=p.shift(),c=p.shift(),P="C",T.push(l,c);break;case"s":y=l,v=c,"C"===(_=s[s.length-1]).command&&(y=l+(l-_.points[2]),v=c+(c-_.points[3])),T.push(y,v,l+p.shift(),c+p.shift()),l+=p.shift(),c+=p.shift(),P="C",T.push(l,c);break;case"Q":T.push(p.shift(),p.shift()),l=p.shift(),c=p.shift(),T.push(l,c);break;case"q":T.push(l+p.shift(),c+p.shift()),l+=p.shift(),c+=p.shift(),P="Q",T.push(l,c);break;case"T":y=l,v=c,"Q"===(_=s[s.length-1]).command&&(y=l+(l-_.points[0]),v=c+(c-_.points[1])),l=p.shift(),c=p.shift(),P="Q",T.push(y,v,l,c);break;case"t":y=l,v=c,"Q"===(_=s[s.length-1]).command&&(y=l+(l-_.points[0]),v=c+(c-_.points[1])),l+=p.shift(),c+=p.shift(),P="Q",T.push(y,v,l,c);break;case"A":C=p.shift(),b=p.shift(),E=p.shift(),S=p.shift(),w=p.shift(),O=l,x=c,l=p.shift(),c=p.shift(),P="A",T=this.convertEndpointToCenterParameterization(O,x,l,c,S,w,C,b,E);break;case"a":C=p.shift(),b=p.shift(),E=p.shift(),S=p.shift(),w=p.shift(),O=l,x=c,l+=p.shift(),c+=p.shift(),P="A",T=this.convertEndpointToCenterParameterization(O,x,l,c,S,w,C,b,E)}s.push({command:P||d,points:T,start:{x:M,y:D},pathLength:this.calcLength(M,D,P||d,T)})}"z"!==d&&"Z"!==d||s.push({command:"z",points:[],start:void 0,pathLength:0})}return s}static calcLength(t,e,n,i){var o,r,l,c,u=a;switch(n){case"L":return u.getLineLength(t,e,i[0],i[1]);case"C":return(0,s.getCubicArcLength)([t,i[0],i[2],i[4]],[e,i[1],i[3],i[5]],1);case"Q":return(0,s.getQuadraticArcLength)([t,i[0],i[2]],[e,i[1],i[3]],1);case"A":o=0;var h=i[4],d=i[5],p=i[4]+d,f=Math.PI/180;if(Math.abs(h-p)<f&&(f=Math.abs(h-p)),r=u.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],h,0),d<0)for(c=h-f;c>p;c-=f)l=u.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],c,0),o+=u.getLineLength(r.x,r.y,l.x,l.y),r=l;else for(c=h+f;c<p;c+=f)l=u.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],c,0),o+=u.getLineLength(r.x,r.y,l.x,l.y),r=l;return l=u.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],p,0),o+=u.getLineLength(r.x,r.y,l.x,l.y)}return 0}static convertEndpointToCenterParameterization(t,e,n,i,o,r,s,a,l){var c=l*(Math.PI/180),u=Math.cos(c)*(t-n)/2+Math.sin(c)*(e-i)/2,h=-1*Math.sin(c)*(t-n)/2+Math.cos(c)*(e-i)/2,d=u*u/(s*s)+h*h/(a*a);d>1&&(s*=Math.sqrt(d),a*=Math.sqrt(d));var p=Math.sqrt((s*s*(a*a)-s*s*(h*h)-a*a*(u*u))/(s*s*(h*h)+a*a*(u*u)));o===r&&(p*=-1),isNaN(p)&&(p=0);var f=p*s*h/a,g=p*-a*u/s,m=(t+n)/2+Math.cos(c)*f-Math.sin(c)*g,_=(e+i)/2+Math.sin(c)*f+Math.cos(c)*g,y=function(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])},v=function(t,e){return(t[0]*e[0]+t[1]*e[1])/(y(t)*y(e))},C=function(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(v(t,e))},b=C([1,0],[(u-f)/s,(h-g)/a]),E=[(u-f)/s,(h-g)/a],S=[(-1*u-f)/s,(-1*h-g)/a],w=C(E,S);return v(E,S)<=-1&&(w=Math.PI),v(E,S)>=1&&(w=0),0===r&&w>0&&(w-=2*Math.PI),1===r&&w<0&&(w+=2*Math.PI),[m,_,s,a,b,w,c,r]}}e.Path=a,a.prototype.className="Path",a.prototype._attrsAffectingSize=["data"],(0,r._registerNode)(a),i.Factory.addGetterSetter(a,"data")},5244:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Rect=void 0;const i=n(1455),o=n(7955),r=n(4417),s=n(8588),a=n(3774);class l extends o.Shape{_sceneFunc(t){var e=this.cornerRadius(),n=this.width(),i=this.height();t.beginPath(),e?s.Util.drawRoundedRectPath(t,n,i,e):t.rect(0,0,n,i),t.closePath(),t.fillStrokeShape(this)}}e.Rect=l,l.prototype.className="Rect",(0,r._registerNode)(l),i.Factory.addGetterSetter(l,"cornerRadius",0,(0,a.getNumberOrArrayOfNumbersValidator)(4))},1785:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RegularPolygon=void 0;const i=n(1455),o=n(7955),r=n(3774),s=n(4417);class a extends o.Shape{_sceneFunc(t){const e=this._getPoints();t.beginPath(),t.moveTo(e[0].x,e[0].y);for(var n=1;n<e.length;n++)t.lineTo(e[n].x,e[n].y);t.closePath(),t.fillStrokeShape(this)}_getPoints(){const t=this.attrs.sides,e=this.attrs.radius||0,n=[];for(var i=0;i<t;i++)n.push({x:e*Math.sin(2*i*Math.PI/t),y:-1*e*Math.cos(2*i*Math.PI/t)});return n}getSelfRect(){const t=this._getPoints();var e=t[0].x,n=t[0].y,i=t[0].x,o=t[0].y;return t.forEach((t=>{e=Math.min(e,t.x),n=Math.max(n,t.x),i=Math.min(i,t.y),o=Math.max(o,t.y)})),{x:e,y:i,width:n-e,height:o-i}}getWidth(){return 2*this.radius()}getHeight(){return 2*this.radius()}setWidth(t){this.radius(t/2)}setHeight(t){this.radius(t/2)}}e.RegularPolygon=a,a.prototype.className="RegularPolygon",a.prototype._centroid=!0,a.prototype._attrsAffectingSize=["radius"],(0,s._registerNode)(a),i.Factory.addGetterSetter(a,"radius",0,(0,r.getNumberValidator)()),i.Factory.addGetterSetter(a,"sides",0,(0,r.getNumberValidator)())},657:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Ring=void 0;const i=n(1455),o=n(7955),r=n(3774),s=n(4417);var a=2*Math.PI;class l extends o.Shape{_sceneFunc(t){t.beginPath(),t.arc(0,0,this.innerRadius(),0,a,!1),t.moveTo(this.outerRadius(),0),t.arc(0,0,this.outerRadius(),a,0,!0),t.closePath(),t.fillStrokeShape(this)}getWidth(){return 2*this.outerRadius()}getHeight(){return 2*this.outerRadius()}setWidth(t){this.outerRadius(t/2)}setHeight(t){this.outerRadius(t/2)}}e.Ring=l,l.prototype.className="Ring",l.prototype._centroid=!0,l.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,s._registerNode)(l),i.Factory.addGetterSetter(l,"innerRadius",0,(0,r.getNumberValidator)()),i.Factory.addGetterSetter(l,"outerRadius",0,(0,r.getNumberValidator)())},8986:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Sprite=void 0;const i=n(1455),o=n(7955),r=n(6745),s=n(3774),a=n(4417);class l extends o.Shape{constructor(t){super(t),this._updated=!0,this.anim=new r.Animation((()=>{var t=this._updated;return this._updated=!1,t})),this.on("animationChange.konva",(function(){this.frameIndex(0)})),this.on("frameIndexChange.konva",(function(){this._updated=!0})),this.on("frameRateChange.konva",(function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())}))}_sceneFunc(t){var e=this.animation(),n=this.frameIndex(),i=4*n,o=this.animations()[e],r=this.frameOffsets(),s=o[i+0],a=o[i+1],l=o[i+2],c=o[i+3],u=this.image();if((this.hasFill()||this.hasStroke())&&(t.beginPath(),t.rect(0,0,l,c),t.closePath(),t.fillStrokeShape(this)),u)if(r){var h=r[e],d=2*n;t.drawImage(u,s,a,l,c,h[d+0],h[d+1],l,c)}else t.drawImage(u,s,a,l,c,0,0,l,c)}_hitFunc(t){var e=this.animation(),n=this.frameIndex(),i=4*n,o=this.animations()[e],r=this.frameOffsets(),s=o[i+2],a=o[i+3];if(t.beginPath(),r){var l=r[e],c=2*n;t.rect(l[c+0],l[c+1],s,a)}else t.rect(0,0,s,a);t.closePath(),t.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){var t=this;this.interval=setInterval((function(){t._updateIndex()}),1e3/this.frameRate())}start(){if(!this.isRunning()){var t=this.getLayer();this.anim.setLayers(t),this._setInterval(),this.anim.start()}}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){var t=this.frameIndex(),e=this.animation();t<this.animations()[e].length/4-1?this.frameIndex(t+1):this.frameIndex(0)}}e.Sprite=l,l.prototype.className="Sprite",(0,a._registerNode)(l),i.Factory.addGetterSetter(l,"animation"),i.Factory.addGetterSetter(l,"animations"),i.Factory.addGetterSetter(l,"frameOffsets"),i.Factory.addGetterSetter(l,"image"),i.Factory.addGetterSetter(l,"frameIndex",0,(0,s.getNumberValidator)()),i.Factory.addGetterSetter(l,"frameRate",17,(0,s.getNumberValidator)()),i.Factory.backCompat(l,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"})},1964:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Star=void 0;const i=n(1455),o=n(7955),r=n(3774),s=n(4417);class a extends o.Shape{_sceneFunc(t){var e=this.innerRadius(),n=this.outerRadius(),i=this.numPoints();t.beginPath(),t.moveTo(0,0-n);for(var o=1;o<2*i;o++){var r=o%2==0?n:e,s=r*Math.sin(o*Math.PI/i),a=-1*r*Math.cos(o*Math.PI/i);t.lineTo(s,a)}t.closePath(),t.fillStrokeShape(this)}getWidth(){return 2*this.outerRadius()}getHeight(){return 2*this.outerRadius()}setWidth(t){this.outerRadius(t/2)}setHeight(t){this.outerRadius(t/2)}}e.Star=a,a.prototype.className="Star",a.prototype._centroid=!0,a.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,s._registerNode)(a),i.Factory.addGetterSetter(a,"numPoints",5,(0,r.getNumberValidator)()),i.Factory.addGetterSetter(a,"innerRadius",0,(0,r.getNumberValidator)()),i.Factory.addGetterSetter(a,"outerRadius",0,(0,r.getNumberValidator)())},3787:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Text=e.stringToArray=void 0;const i=n(8588),o=n(1455),r=n(7955),s=n(3774),a=n(4417);function l(t){return Array.from(t)}e.stringToArray=l;var c,u="auto",h="justify",d="left",p="middle",f="normal",g=" ",m="none",_=["fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],y=_.length;function v(){return c||(c=i.Util.createCanvasElement().getContext("2d"))}class C extends r.Shape{constructor(t){super(function(t){return(t=t||{}).fillLinearGradientColorStops||t.fillRadialGradientColorStops||t.fillPatternImage||(t.fill=t.fill||"black"),t}(t)),this._partialTextX=0,this._partialTextY=0;for(var e=0;e<y;e++)this.on(_[e]+"Change.konva",this._setTextData);this._setTextData()}_sceneFunc(t){var e=this.textArr,n=e.length;if(this.text()){var i,o=this.padding(),r=this.fontSize(),s=this.lineHeight()*r,a=this.verticalAlign(),c=0,u=this.align(),f=this.getWidth(),g=this.letterSpacing(),m=this.fill(),_=this.textDecoration(),y=-1!==_.indexOf("underline"),v=-1!==_.indexOf("line-through"),C=0,b=(C=s/2,0),E=0;for(t.setAttr("font",this._getContextFont()),t.setAttr("textBaseline",p),t.setAttr("textAlign",d),a===p?c=(this.getHeight()-n*s-2*o)/2:"bottom"===a&&(c=this.getHeight()-n*s-2*o),t.translate(o,c+o),i=0;i<n;i++){b=0,E=0;var S,w,O,x=e[i],P=x.text,T=x.width,M=x.lastInParagraph;if(t.save(),"right"===u?b+=f-T-2*o:"center"===u&&(b+=(f-T-2*o)/2),y){t.save(),t.beginPath(),t.moveTo(b,C+E+Math.round(r/2)),w=0===(S=P.split(" ").length-1),O=u!==h||M?T:f-2*o,t.lineTo(b+Math.round(O),C+E+Math.round(r/2)),t.lineWidth=r/15;const e=this._getLinearGradient();t.strokeStyle=e||m,t.stroke(),t.restore()}if(v){t.save(),t.beginPath(),t.moveTo(b,C+E),w=0===(S=P.split(" ").length-1),O=u===h&&M&&!w?f-2*o:T,t.lineTo(b+Math.round(O),C+E),t.lineWidth=r/15;const e=this._getLinearGradient();t.strokeStyle=e||m,t.stroke(),t.restore()}if(0!==g||u===h){S=P.split(" ").length-1;for(var D=l(P),R=0;R<D.length;R++){var A=D[R];" "!==A||M||u!==h||(b+=(f-2*o-T)/S),this._partialTextX=b,this._partialTextY=C+E,this._partialText=A,t.fillStrokeShape(this),b+=this.measureSize(A).width+g}}else this._partialTextX=b,this._partialTextY=C+E,this._partialText=P,t.fillStrokeShape(this);t.restore(),n>1&&(C+=s)}}}_hitFunc(t){var e=this.getWidth(),n=this.getHeight();t.beginPath(),t.rect(0,0,e,n),t.closePath(),t.fillStrokeShape(this)}setText(t){var e=i.Util._isString(t)?t:null==t?"":t+"";return this._setAttr("text",e),this}getWidth(){return this.attrs.width===u||void 0===this.attrs.width?this.getTextWidth()+2*this.padding():this.attrs.width}getHeight(){return this.attrs.height===u||void 0===this.attrs.height?this.fontSize()*this.textArr.length*this.lineHeight()+2*this.padding():this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return i.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(t){var e,n=v(),i=this.fontSize();return n.save(),n.font=this._getContextFont(),e=n.measureText(t),n.restore(),{width:e.width,height:i}}_getContextFont(){return this.fontStyle()+g+this.fontVariant()+g+(this.fontSize()+"px ")+this.fontFamily().split(",").map((t=>{const e=(t=t.trim()).indexOf(" ")>=0,n=t.indexOf('"')>=0||t.indexOf("'")>=0;return e&&!n&&(t=`"${t}"`),t})).join(", ")}_addTextLine(t){this.align()===h&&(t=t.trim());var e=this._getTextWidth(t);return this.textArr.push({text:t,width:e,lastInParagraph:!1})}_getTextWidth(t){var e=this.letterSpacing(),n=t.length;return v().measureText(t).width+(n?e*(n-1):0)}_setTextData(){var t=this.text().split("\n"),e=+this.fontSize(),n=0,i=this.lineHeight()*e,o=this.attrs.width,r=this.attrs.height,s=o!==u&&void 0!==o,a=r!==u&&void 0!==r,l=this.padding(),c=o-2*l,h=r-2*l,d=0,p=this.wrap(),f="char"!==p&&p!==m,_=this.ellipsis();this.textArr=[],v().font=this._getContextFont();for(var y=_?this._getTextWidth(""):0,C=0,b=t.length;C<b;++C){var E=t[C],S=this._getTextWidth(E);if(s&&S>c)for(;E.length>0;){for(var w=0,O=E.length,x="",P=0;w<O;){var T=w+O>>>1,M=E.slice(0,T+1),D=this._getTextWidth(M)+y;D<=c?(w=T+1,x=M,P=D):O=T}if(!x)break;if(f){var R,A=E[x.length];(R=(A===g||"-"===A)&&P<=c?x.length:Math.max(x.lastIndexOf(g),x.lastIndexOf("-"))+1)>0&&(w=R,x=x.slice(0,w),P=this._getTextWidth(x))}if(x=x.trimRight(),this._addTextLine(x),n=Math.max(n,P),d+=i,this._shouldHandleEllipsis(d)){this._tryToAddEllipsisToLastLine();break}if((E=(E=E.slice(w)).trimLeft()).length>0&&(S=this._getTextWidth(E))<=c){this._addTextLine(E),d+=i,n=Math.max(n,S);break}}else this._addTextLine(E),d+=i,n=Math.max(n,S),this._shouldHandleEllipsis(d)&&C<b-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),a&&d+i>h)break}this.textHeight=e,this.textWidth=n}_shouldHandleEllipsis(t){var e=+this.fontSize(),n=this.lineHeight()*e,i=this.attrs.height,o=i!==u&&void 0!==i,r=i-2*this.padding();return!(this.wrap()!==m)||o&&t+n>r}_tryToAddEllipsisToLastLine(){var t=this.attrs.width,e=t!==u&&void 0!==t,n=t-2*this.padding(),i=this.ellipsis(),o=this.textArr[this.textArr.length-1];if(o&&i){if(e)this._getTextWidth(o.text+"")<n||(o.text=o.text.slice(0,o.text.length-3));this.textArr.splice(this.textArr.length-1,1),this._addTextLine(o.text+"")}}getStrokeScaleEnabled(){return!0}}e.Text=C,C.prototype._fillFunc=function(t){t.fillText(this._partialText,this._partialTextX,this._partialTextY)},C.prototype._strokeFunc=function(t){t.strokeText(this._partialText,this._partialTextX,this._partialTextY)},C.prototype.className="Text",C.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"],(0,a._registerNode)(C),o.Factory.overWriteSetter(C,"width",(0,s.getNumberOrAutoValidator)()),o.Factory.overWriteSetter(C,"height",(0,s.getNumberOrAutoValidator)()),o.Factory.addGetterSetter(C,"fontFamily","Arial"),o.Factory.addGetterSetter(C,"fontSize",12,(0,s.getNumberValidator)()),o.Factory.addGetterSetter(C,"fontStyle",f),o.Factory.addGetterSetter(C,"fontVariant",f),o.Factory.addGetterSetter(C,"padding",0,(0,s.getNumberValidator)()),o.Factory.addGetterSetter(C,"align",d),o.Factory.addGetterSetter(C,"verticalAlign","top"),o.Factory.addGetterSetter(C,"lineHeight",1,(0,s.getNumberValidator)()),o.Factory.addGetterSetter(C,"wrap","word"),o.Factory.addGetterSetter(C,"ellipsis",!1,(0,s.getBooleanValidator)()),o.Factory.addGetterSetter(C,"letterSpacing",0,(0,s.getNumberValidator)()),o.Factory.addGetterSetter(C,"text","",(0,s.getStringValidator)()),o.Factory.addGetterSetter(C,"textDecoration","")},2831:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextPath=void 0;const i=n(8588),o=n(1455),r=n(7955),s=n(7339),a=n(3787),l=n(3774),c=n(4417);var u="normal";function h(t){t.fillText(this.partialText,0,0)}function d(t){t.strokeText(this.partialText,0,0)}class p extends r.Shape{constructor(t){super(t),this.dummyCanvas=i.Util.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",(function(){this._readDataAttribute(),this._setTextData()})),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return s.Path.getPathLength(this.dataArray)}_getPointAtLength(t){if(!this.attrs.data)return null;return t-1>this.pathLength?null:s.Path.getPointAtLengthOfDataArray(t,this.dataArray)}_readDataAttribute(){this.dataArray=s.Path.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(t){t.setAttr("font",this._getContextFont()),t.setAttr("textBaseline",this.textBaseline()),t.setAttr("textAlign","left"),t.save();var e=this.textDecoration(),n=this.fill(),i=this.fontSize(),o=this.glyphInfo;"underline"===e&&t.beginPath();for(var r=0;r<o.length;r++){t.save();var s=o[r].p0;t.translate(s.x,s.y),t.rotate(o[r].rotation),this.partialText=o[r].text,t.fillStrokeShape(this),"underline"===e&&(0===r&&t.moveTo(0,i/2+1),t.lineTo(i,i/2+1)),t.restore()}"underline"===e&&(t.strokeStyle=n,t.lineWidth=i/20,t.stroke()),t.restore()}_hitFunc(t){t.beginPath();var e=this.glyphInfo;if(e.length>=1){var n=e[0].p0;t.moveTo(n.x,n.y)}for(var i=0;i<e.length;i++){var o=e[i].p1;t.lineTo(o.x,o.y)}t.setAttr("lineWidth",this.fontSize()),t.setAttr("strokeStyle",this.colorKey),t.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return i.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(t){return a.Text.prototype.setText.call(this,t)}_getContextFont(){return a.Text.prototype._getContextFont.call(this)}_getTextSize(t){var e=this.dummyCanvas.getContext("2d");e.save(),e.font=this._getContextFont();var n=e.measureText(t);return e.restore(),{width:n.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const{width:t,height:e}=this._getTextSize(this.attrs.text);if(this.textWidth=t,this.textHeight=e,this.glyphInfo=[],!this.attrs.data)return null;const n=this.letterSpacing(),i=this.align(),o=this.kerningFunc(),r=Math.max(this.textWidth+((this.attrs.text||"").length-1)*n,0);let l=0;"center"===i&&(l=Math.max(0,this.pathLength/2-r/2)),"right"===i&&(l=Math.max(0,this.pathLength-r));const c=(0,a.stringToArray)(this.text());let u=l;for(var h=0;h<c.length;h++){const t=this._getPointAtLength(u);if(!t)return;let e=this._getTextSize(c[h]).width+n;if(" "===c[h]&&"justify"===i){const t=this.text().split(" ").length-1;e+=(this.pathLength-r)/t}const a=this._getPointAtLength(u+e);if(!a)return;const l=s.Path.getLineLength(t.x,t.y,a.x,a.y);let d=0;if(o)try{d=o(c[h-1],c[h])*this.fontSize()}catch(t){d=0}t.x+=d,a.x+=d,this.textWidth+=d;const p=s.Path.getPointOnLine(d+l/2,t.x,t.y,a.x,a.y),f=Math.atan2(a.y-t.y,a.x-t.x);this.glyphInfo.push({transposeX:p.x,transposeY:p.y,text:c[h],rotation:f,p0:t,p1:a}),u+=e}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};var t=[];this.glyphInfo.forEach((function(e){t.push(e.p0.x),t.push(e.p0.y),t.push(e.p1.x),t.push(e.p1.y)}));for(var e,n,i=t[0]||0,o=t[0]||0,r=t[1]||0,s=t[1]||0,a=0;a<t.length/2;a++)e=t[2*a],n=t[2*a+1],i=Math.min(i,e),o=Math.max(o,e),r=Math.min(r,n),s=Math.max(s,n);var l=this.fontSize();return{x:i-l/2,y:r-l/2,width:o-i+l,height:s-r+l}}destroy(){return i.Util.releaseCanvas(this.dummyCanvas),super.destroy()}}e.TextPath=p,p.prototype._fillFunc=h,p.prototype._strokeFunc=d,p.prototype._fillFuncHit=h,p.prototype._strokeFuncHit=d,p.prototype.className="TextPath",p.prototype._attrsAffectingSize=["text","fontSize","data"],(0,c._registerNode)(p),o.Factory.addGetterSetter(p,"data"),o.Factory.addGetterSetter(p,"fontFamily","Arial"),o.Factory.addGetterSetter(p,"fontSize",12,(0,l.getNumberValidator)()),o.Factory.addGetterSetter(p,"fontStyle",u),o.Factory.addGetterSetter(p,"align","left"),o.Factory.addGetterSetter(p,"letterSpacing",0,(0,l.getNumberValidator)()),o.Factory.addGetterSetter(p,"textBaseline","middle"),o.Factory.addGetterSetter(p,"fontVariant",u),o.Factory.addGetterSetter(p,"text",""),o.Factory.addGetterSetter(p,"textDecoration",null),o.Factory.addGetterSetter(p,"kerningFunc",null)},9516:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Transformer=void 0;const i=n(8588),o=n(1455),r=n(7939),s=n(7955),a=n(5244),l=n(8985),c=n(4417),u=n(3774),h=n(4417);var d="tr-konva",p=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange"].map((t=>t+`.${d}`)).join(" "),f="nodesRect",g=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],m={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135};const _="ontouchstart"in c.Konva._global;var y=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"];function v(t,e,n){const i=n.x+(t.x-n.x)*Math.cos(e)-(t.y-n.y)*Math.sin(e),o=n.y+(t.x-n.x)*Math.sin(e)+(t.y-n.y)*Math.cos(e);return Object.assign(Object.assign({},t),{rotation:t.rotation+e,x:i,y:o})}function C(t,e){const n=function(t){return{x:t.x+t.width/2*Math.cos(t.rotation)+t.height/2*Math.sin(-t.rotation),y:t.y+t.height/2*Math.cos(t.rotation)+t.width/2*Math.sin(t.rotation)}}(t);return v(t,e,n)}class b extends l.Group{constructor(t){super(t),this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(p,this.update),this.getNode()&&this.update()}attachTo(t){return this.setNode(t),this}setNode(t){return i.Util.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([t])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return d+this._id}setNodes(t=[]){this._nodes&&this._nodes.length&&this.detach();const e=t.filter((t=>!t.isAncestorOf(this)||(i.Util.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1)));return this._nodes=t=e,1===t.length&&this.useSingleNodeRotation()?this.rotation(t[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach((t=>{const e=()=>{1===this.nodes().length&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),this._transforming||this.isDragging()||this.update()},n=t._attrsAffectingSize.map((t=>t+"Change."+this._getEventNamespace())).join(" ");t.on(n,e),t.on(g.map((t=>t+`.${this._getEventNamespace()}`)).join(" "),e),t.on(`absoluteTransformChange.${this._getEventNamespace()}`,e),this._proxyDrag(t)})),this._resetTransformCache(),!!this.findOne(".top-left")&&this.update(),this}_proxyDrag(t){let e;t.on(`dragstart.${this._getEventNamespace()}`,(n=>{e=t.getAbsolutePosition(),this.isDragging()||t===this.findOne(".back")||this.startDrag(n,!1)})),t.on(`dragmove.${this._getEventNamespace()}`,(n=>{if(!e)return;const i=t.getAbsolutePosition(),o=i.x-e.x,r=i.y-e.y;this.nodes().forEach((e=>{if(e===t)return;if(e.isDragging())return;const i=e.getAbsolutePosition();e.setAbsolutePosition({x:i.x+o,y:i.y+r}),e.startDrag(n)})),e=null}))}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach((t=>{t.off("."+this._getEventNamespace())})),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(f),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(f,this.__getNodeRect)}__getNodeShape(t,e=this.rotation(),n){var i=t.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),o=t.getAbsoluteScale(n),r=t.getAbsolutePosition(n),s=i.x*o.x-t.offsetX()*o.x,a=i.y*o.y-t.offsetY()*o.y;const l=(c.Konva.getAngle(t.getAbsoluteRotation())+2*Math.PI)%(2*Math.PI);return v({x:r.x+s*Math.cos(l)+a*Math.sin(-l),y:r.y+a*Math.cos(l)+s*Math.sin(l),width:i.width*o.x,height:i.height*o.y,rotation:l},-c.Konva.getAngle(e),{x:0,y:0})}__getNodeRect(){if(!this.getNode())return{x:-1e8,y:-1e8,width:0,height:0,rotation:0};const t=[];this.nodes().map((e=>{const n=e.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()});var i=[{x:n.x,y:n.y},{x:n.x+n.width,y:n.y},{x:n.x+n.width,y:n.y+n.height},{x:n.x,y:n.y+n.height}],o=e.getAbsoluteTransform();i.forEach((function(e){var n=o.point(e);t.push(n)}))}));const e=new i.Transform;var n,o,r,s;e.rotate(-c.Konva.getAngle(this.rotation())),t.forEach((function(t){var i=e.point(t);void 0===n&&(n=r=i.x,o=s=i.y),n=Math.min(n,i.x),o=Math.min(o,i.y),r=Math.max(r,i.x),s=Math.max(s,i.y)})),e.invert();const a=e.point({x:n,y:o});return{x:a.x,y:a.y,width:r-n,height:s-o,rotation:c.Konva.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),y.forEach(function(t){this._createAnchor(t)}.bind(this)),this._createAnchor("rotater")}_createAnchor(t){var e=new a.Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:t+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:_?10:"auto"}),n=this;e.on("mousedown touchstart",(function(t){n._handleMouseDown(t)})),e.on("dragstart",(t=>{e.stopDrag(),t.cancelBubble=!0})),e.on("dragend",(t=>{t.cancelBubble=!0})),e.on("mouseenter",(()=>{var n=c.Konva.getAngle(this.rotation()),o=function(t,e){if("rotater"===t)return"crosshair";e+=i.Util.degToRad(m[t]||0);var n=(i.Util.radToDeg(e)%360+360)%360;return i.Util._inRange(n,337.5,360)||i.Util._inRange(n,0,22.5)?"ns-resize":i.Util._inRange(n,22.5,67.5)?"nesw-resize":i.Util._inRange(n,67.5,112.5)?"ew-resize":i.Util._inRange(n,112.5,157.5)?"nwse-resize":i.Util._inRange(n,157.5,202.5)?"ns-resize":i.Util._inRange(n,202.5,247.5)?"nesw-resize":i.Util._inRange(n,247.5,292.5)?"ew-resize":i.Util._inRange(n,292.5,337.5)?"nwse-resize":(i.Util.error("Transformer has unknown angle for cursor detection: "+n),"pointer")}(t,n);e.getStage().content&&(e.getStage().content.style.cursor=o),this._cursorChange=!0})),e.on("mouseout",(()=>{e.getStage().content&&(e.getStage().content.style.cursor=""),this._cursorChange=!1})),this.add(e)}_createBack(){var t=new s.Shape({name:"back",width:0,height:0,draggable:!0,sceneFunc(t){var e=this.getParent(),n=e.padding();t.beginPath(),t.rect(-n,-n,this.width()+2*n,this.height()+2*n),t.moveTo(this.width()/2,-n),e.rotateEnabled()&&t.lineTo(this.width()/2,-e.rotateAnchorOffset()*i.Util._sign(this.height())-n),t.fillStrokeShape(this)},hitFunc:(t,e)=>{if(this.shouldOverdrawWholeArea()){var n=this.padding();t.beginPath(),t.rect(-n,-n,e.width()+2*n,e.height()+2*n),t.fillStrokeShape(e)}}});this.add(t),this._proxyDrag(t),t.on("dragstart",(t=>{t.cancelBubble=!0})),t.on("dragmove",(t=>{t.cancelBubble=!0})),t.on("dragend",(t=>{t.cancelBubble=!0})),this.on("dragmove",(t=>{this.update()}))}_handleMouseDown(t){this._movingAnchorName=t.target.name().split(" ")[0];var e=this._getNodeRect(),n=e.width,i=e.height,o=Math.sqrt(Math.pow(n,2)+Math.pow(i,2));this.sin=Math.abs(i/o),this.cos=Math.abs(n/o),"undefined"!=typeof window&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;var r=t.target.getAbsolutePosition(),s=t.target.getStage().getPointerPosition();this._anchorDragOffset={x:s.x-r.x,y:s.y-r.y},this._fire("transformstart",{evt:t.evt,target:this.getNode()}),this._nodes.forEach((e=>{e._fire("transformstart",{evt:t.evt,target:e})}))}_handleMouseMove(t){var e,n,i,o=this.findOne("."+this._movingAnchorName),r=o.getStage();r.setPointersPositions(t);const s=r.getPointerPosition();let a={x:s.x-this._anchorDragOffset.x,y:s.y-this._anchorDragOffset.y};const l=o.getAbsolutePosition();this.anchorDragBoundFunc()&&(a=this.anchorDragBoundFunc()(l,a,t)),o.setAbsolutePosition(a);const u=o.getAbsolutePosition();if(l.x!==u.x||l.y!==u.y)if("rotater"!==this._movingAnchorName){var h,d=this.shiftBehavior();h="inverted"===d?this.keepRatio()&&!t.shiftKey:"none"===d?this.keepRatio():this.keepRatio()||t.shiftKey;var p=this.centeredScaling()||t.altKey;if("top-left"===this._movingAnchorName){if(h){var f=p?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};i=Math.sqrt(Math.pow(f.x-o.x(),2)+Math.pow(f.y-o.y(),2));var g=this.findOne(".top-left").x()>f.x?-1:1,m=this.findOne(".top-left").y()>f.y?-1:1;e=i*this.cos*g,n=i*this.sin*m,this.findOne(".top-left").x(f.x-e),this.findOne(".top-left").y(f.y-n)}}else if("top-center"===this._movingAnchorName)this.findOne(".top-left").y(o.y());else if("top-right"===this._movingAnchorName){if(h){f=p?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};i=Math.sqrt(Math.pow(o.x()-f.x,2)+Math.pow(f.y-o.y(),2));g=this.findOne(".top-right").x()<f.x?-1:1,m=this.findOne(".top-right").y()>f.y?-1:1;e=i*this.cos*g,n=i*this.sin*m,this.findOne(".top-right").x(f.x+e),this.findOne(".top-right").y(f.y-n)}var _=o.position();this.findOne(".top-left").y(_.y),this.findOne(".bottom-right").x(_.x)}else if("middle-left"===this._movingAnchorName)this.findOne(".top-left").x(o.x());else if("middle-right"===this._movingAnchorName)this.findOne(".bottom-right").x(o.x());else if("bottom-left"===this._movingAnchorName){if(h){f=p?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};i=Math.sqrt(Math.pow(f.x-o.x(),2)+Math.pow(o.y()-f.y,2));g=f.x<o.x()?-1:1,m=o.y()<f.y?-1:1;e=i*this.cos*g,n=i*this.sin*m,o.x(f.x-e),o.y(f.y+n)}_=o.position(),this.findOne(".top-left").x(_.x),this.findOne(".bottom-right").y(_.y)}else if("bottom-center"===this._movingAnchorName)this.findOne(".bottom-right").y(o.y());else if("bottom-right"===this._movingAnchorName){if(h){f=p?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};i=Math.sqrt(Math.pow(o.x()-f.x,2)+Math.pow(o.y()-f.y,2));g=this.findOne(".bottom-right").x()<f.x?-1:1,m=this.findOne(".bottom-right").y()<f.y?-1:1;e=i*this.cos*g,n=i*this.sin*m,this.findOne(".bottom-right").x(f.x+e),this.findOne(".bottom-right").y(f.y+n)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));if(p=this.centeredScaling()||t.altKey){var y=this.findOne(".top-left"),v=this.findOne(".bottom-right"),b=y.x(),E=y.y(),S=this.getWidth()-v.x(),w=this.getHeight()-v.y();v.move({x:-b,y:-E}),y.move({x:S,y:w})}var O=this.findOne(".top-left").getAbsolutePosition();e=O.x,n=O.y;var x=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),P=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:e,y:n,width:x,height:P,rotation:c.Konva.getAngle(this.rotation())},t)}else{var T=this._getNodeRect();e=o.x()-T.width/2,n=-o.y()+T.height/2;let i=Math.atan2(-n,e)+Math.PI/2;T.height<0&&(i-=Math.PI);const r=c.Konva.getAngle(this.rotation())+i,s=c.Konva.getAngle(this.rotationSnapTolerance()),a=C(T,function(t,e,n){let i=e;for(let o=0;o<t.length;o++){const r=c.Konva.getAngle(t[o]),s=Math.abs(r-e)%(2*Math.PI);Math.min(s,2*Math.PI-s)<n&&(i=r)}return i}(this.rotationSnaps(),r,s)-T.rotation);this._fitNodesInto(a,t)}}_handleMouseUp(t){this._removeEvents(t)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(t){if(this._transforming){this._transforming=!1,"undefined"!=typeof window&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));var e=this.getNode();this._fire("transformend",{evt:t,target:e}),e&&this._nodes.forEach((e=>{e._fire("transformend",{evt:t,target:e})})),this._movingAnchorName=null}}_fitNodesInto(t,e){var n=this._getNodeRect();if(i.Util._inRange(t.width,2*-this.padding()-1,1))return void this.update();if(i.Util._inRange(t.height,2*-this.padding()-1,1))return void this.update();const o=this.flipEnabled();var r=new i.Transform;if(r.rotate(c.Konva.getAngle(this.rotation())),this._movingAnchorName&&t.width<0&&this._movingAnchorName.indexOf("left")>=0){const e=r.point({x:2*-this.padding(),y:0});if(t.x+=e.x,t.y+=e.y,t.width+=2*this.padding(),this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=e.x,this._anchorDragOffset.y-=e.y,!o)return void this.update()}else if(this._movingAnchorName&&t.width<0&&this._movingAnchorName.indexOf("right")>=0){const e=r.point({x:2*this.padding(),y:0});if(this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=e.x,this._anchorDragOffset.y-=e.y,t.width+=2*this.padding(),!o)return void this.update()}if(this._movingAnchorName&&t.height<0&&this._movingAnchorName.indexOf("top")>=0){const e=r.point({x:0,y:2*-this.padding()});if(t.x+=e.x,t.y+=e.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=e.x,this._anchorDragOffset.y-=e.y,t.height+=2*this.padding(),!o)return void this.update()}else if(this._movingAnchorName&&t.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const e=r.point({x:0,y:2*this.padding()});if(this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=e.x,this._anchorDragOffset.y-=e.y,t.height+=2*this.padding(),!o)return void this.update()}if(this.boundBoxFunc()){const e=this.boundBoxFunc()(n,t);e?t=e:i.Util.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const s=1e7,a=new i.Transform;a.translate(n.x,n.y),a.rotate(n.rotation),a.scale(n.width/s,n.height/s);const l=new i.Transform;l.translate(t.x,t.y),l.rotate(t.rotation),l.scale(t.width/s,t.height/s);const u=l.multiply(a.invert());this._nodes.forEach((t=>{var n;const o=t.getParent().getAbsoluteTransform(),r=t.getTransform().copy();r.translate(t.offsetX(),t.offsetY());const s=new i.Transform;s.multiply(o.copy().invert()).multiply(u).multiply(o).multiply(r);const a=s.decompose();t.setAttrs(a),this._fire("transform",{evt:e,target:t}),t._fire("transform",{evt:e,target:t}),null===(n=t.getLayer())||void 0===n||n.batchDraw()})),this.rotation(i.Util._getRotation(t.rotation)),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(t,e){this.findOne(t).setAttrs(e)}update(){var t,e=this._getNodeRect();this.rotation(i.Util._getRotation(e.rotation));var n=e.width,o=e.height,r=this.enabledAnchors(),s=this.resizeEnabled(),a=this.padding(),l=this.anchorSize();this.find("._anchor").forEach((t=>{t.setAttrs({width:l,height:l,offsetX:l/2,offsetY:l/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})})),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:l/2+a,offsetY:l/2+a,visible:s&&r.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:n/2,y:0,offsetY:l/2+a,visible:s&&r.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:n,y:0,offsetX:l/2-a,offsetY:l/2+a,visible:s&&r.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:o/2,offsetX:l/2+a,visible:s&&r.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:n,y:o/2,offsetX:l/2-a,visible:s&&r.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:o,offsetX:l/2+a,offsetY:l/2-a,visible:s&&r.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:n/2,y:o,offsetY:l/2-a,visible:s&&r.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:n,y:o,offsetX:l/2-a,offsetY:l/2-a,visible:s&&r.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:n/2,y:-this.rotateAnchorOffset()*i.Util._sign(o)-a,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:n,height:o,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0}),null===(t=this.getLayer())||void 0===t||t.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();var t=this.findOne("."+this._movingAnchorName);t&&t.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),l.Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return r.Node.prototype.toObject.call(this)}clone(t){return r.Node.prototype.clone.call(this,t)}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}}e.Transformer=b,b.prototype.className="Transformer",(0,h._registerNode)(b),o.Factory.addGetterSetter(b,"enabledAnchors",y,(function(t){return t instanceof Array||i.Util.warn("enabledAnchors value should be an array"),t instanceof Array&&t.forEach((function(t){-1===y.indexOf(t)&&i.Util.warn("Unknown anchor name: "+t+". Available names are: "+y.join(", "))})),t||[]})),o.Factory.addGetterSetter(b,"flipEnabled",!0,(0,u.getBooleanValidator)()),o.Factory.addGetterSetter(b,"resizeEnabled",!0),o.Factory.addGetterSetter(b,"anchorSize",10,(0,u.getNumberValidator)()),o.Factory.addGetterSetter(b,"rotateEnabled",!0),o.Factory.addGetterSetter(b,"rotationSnaps",[]),o.Factory.addGetterSetter(b,"rotateAnchorOffset",50,(0,u.getNumberValidator)()),o.Factory.addGetterSetter(b,"rotationSnapTolerance",5,(0,u.getNumberValidator)()),o.Factory.addGetterSetter(b,"borderEnabled",!0),o.Factory.addGetterSetter(b,"anchorStroke","rgb(0, 161, 255)"),o.Factory.addGetterSetter(b,"anchorStrokeWidth",1,(0,u.getNumberValidator)()),o.Factory.addGetterSetter(b,"anchorFill","white"),o.Factory.addGetterSetter(b,"anchorCornerRadius",0,(0,u.getNumberValidator)()),o.Factory.addGetterSetter(b,"borderStroke","rgb(0, 161, 255)"),o.Factory.addGetterSetter(b,"borderStrokeWidth",1,(0,u.getNumberValidator)()),o.Factory.addGetterSetter(b,"borderDash"),o.Factory.addGetterSetter(b,"keepRatio",!0),o.Factory.addGetterSetter(b,"shiftBehavior","default"),o.Factory.addGetterSetter(b,"centeredScaling",!1),o.Factory.addGetterSetter(b,"ignoreStroke",!1),o.Factory.addGetterSetter(b,"padding",0,(0,u.getNumberValidator)()),o.Factory.addGetterSetter(b,"node"),o.Factory.addGetterSetter(b,"nodes"),o.Factory.addGetterSetter(b,"boundBoxFunc"),o.Factory.addGetterSetter(b,"anchorDragBoundFunc"),o.Factory.addGetterSetter(b,"shouldOverdrawWholeArea",!1),o.Factory.addGetterSetter(b,"useSingleNodeRotation",!0),o.Factory.backCompat(b,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"})},9846:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Wedge=void 0;const i=n(1455),o=n(7955),r=n(4417),s=n(3774),a=n(4417);class l extends o.Shape{_sceneFunc(t){t.beginPath(),t.arc(0,0,this.radius(),0,r.Konva.getAngle(this.angle()),this.clockwise()),t.lineTo(0,0),t.closePath(),t.fillStrokeShape(this)}getWidth(){return 2*this.radius()}getHeight(){return 2*this.radius()}setWidth(t){this.radius(t/2)}setHeight(t){this.radius(t/2)}}e.Wedge=l,l.prototype.className="Wedge",l.prototype._centroid=!0,l.prototype._attrsAffectingSize=["radius"],(0,a._registerNode)(l),i.Factory.addGetterSetter(l,"radius",0,(0,s.getNumberValidator)()),i.Factory.addGetterSetter(l,"angle",0,(0,s.getNumberValidator)()),i.Factory.addGetterSetter(l,"clockwise",!1),i.Factory.backCompat(l,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"})},6633:(t,e,n)=>{"use strict";n.r(e),n.d(e,{Bounds:()=>F,Browser:()=>Ft,CRS:()=>H,Canvas:()=>Ti,Circle:()=>$n,CircleMarker:()=>Wn,Class:()=>D,Control:()=>Je,DivIcon:()=>Ci,DivOverlay:()=>gi,DomEvent:()=>Ye,DomUtil:()=>De,Draggable:()=>cn,Evented:()=>A,FeatureGroup:()=>In,GeoJSON:()=>Zn,GridLayer:()=>Ei,Handler:()=>rn,Icon:()=>Nn,ImageOverlay:()=>ci,LatLng:()=>U,LatLngBounds:()=>B,Layer:()=>Rn,LayerGroup:()=>An,LineUtil:()=>bn,Map:()=>qe,Marker:()=>jn,Mixin:()=>an,Path:()=>Vn,Point:()=>I,PolyUtil:()=>wn,Polygon:()=>Xn,Polyline:()=>Kn,Popup:()=>mi,PosAnimation:()=>Xe,Projection:()=>Pn,Rectangle:()=>ki,Renderer:()=>Pi,SVG:()=>Li,SVGOverlay:()=>pi,TileLayer:()=>wi,Tooltip:()=>yi,Transformation:()=>Y,Util:()=>M,VideoOverlay:()=>hi,bind:()=>s,bounds:()=>G,canvas:()=>Mi,circle:()=>zn,circleMarker:()=>Hn,control:()=>Qe,divIcon:()=>bi,extend:()=>o,featureGroup:()=>kn,geoJSON:()=>ai,geoJson:()=>li,gridLayer:()=>Si,icon:()=>Fn,imageOverlay:()=>ui,latLng:()=>V,latLngBounds:()=>j,layerGroup:()=>Ln,map:()=>Ze,marker:()=>Un,point:()=>N,polygon:()=>qn,polyline:()=>Yn,popup:()=>_i,rectangle:()=>Ni,setOptions:()=>g,stamp:()=>l,svg:()=>Ii,svgOverlay:()=>fi,tileLayer:()=>Oi,tooltip:()=>vi,transformation:()=>X,version:()=>i,videoOverlay:()=>di});var i="1.9.3";function o(t){var e,n,i,o;for(n=1,i=arguments.length;n<i;n++)for(e in o=arguments[n])t[e]=o[e];return t}var r=Object.create||function(){function t(){}return function(e){return t.prototype=e,new t}}();function s(t,e){var n=Array.prototype.slice;if(t.bind)return t.bind.apply(t,n.call(arguments,1));var i=n.call(arguments,2);return function(){return t.apply(e,i.length?i.concat(n.call(arguments)):arguments)}}var a=0;function l(t){return"_leaflet_id"in t||(t._leaflet_id=++a),t._leaflet_id}function c(t,e,n){var i,o,r,s;return s=function(){i=!1,o&&(r.apply(n,o),o=!1)},r=function(){i?o=arguments:(t.apply(n,arguments),setTimeout(s,e),i=!0)},r}function u(t,e,n){var i=e[1],o=e[0],r=i-o;return t===i&&n?t:((t-o)%r+r)%r+o}function h(){return!1}function d(t,e){if(!1===e)return t;var n=Math.pow(10,void 0===e?6:e);return Math.round(t*n)/n}function p(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function f(t){return p(t).split(/\s+/)}function g(t,e){for(var n in Object.prototype.hasOwnProperty.call(t,"options")||(t.options=t.options?r(t.options):{}),e)t.options[n]=e[n];return t.options}function m(t,e,n){var i=[];for(var o in t)i.push(encodeURIComponent(n?o.toUpperCase():o)+"="+encodeURIComponent(t[o]));return(e&&-1!==e.indexOf("?")?"&":"?")+i.join("&")}var _=/\{ *([\w_ -]+) *\}/g;function y(t,e){return t.replace(_,(function(t,n){var i=e[n];if(void 0===i)throw new Error("No value provided for variable "+t);return"function"==typeof i&&(i=i(e)),i}))}var v=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function C(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1}var b="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function E(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var S=0;function w(t){var e=+new Date,n=Math.max(0,16-(e-S));return S=e+n,window.setTimeout(t,n)}var O=window.requestAnimationFrame||E("RequestAnimationFrame")||w,x=window.cancelAnimationFrame||E("CancelAnimationFrame")||E("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function P(t,e,n){if(!n||O!==w)return O.call(window,s(t,e));t.call(e)}function T(t){t&&x.call(window,t)}var M={__proto__:null,extend:o,create:r,bind:s,get lastId(){return a},stamp:l,throttle:c,wrapNum:u,falseFn:h,formatNum:d,trim:p,splitWords:f,setOptions:g,getParamString:m,template:y,isArray:v,indexOf:C,emptyImageUrl:b,requestFn:O,cancelFn:x,requestAnimFrame:P,cancelAnimFrame:T};function D(){}D.extend=function(t){var e=function(){g(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},n=e.__super__=this.prototype,i=r(n);for(var s in i.constructor=e,e.prototype=i,this)Object.prototype.hasOwnProperty.call(this,s)&&"prototype"!==s&&"__super__"!==s&&(e[s]=this[s]);return t.statics&&o(e,t.statics),t.includes&&(!function(t){if("undefined"==typeof L||!L||!L.Mixin)return;t=v(t)?t:[t];for(var e=0;e<t.length;e++)t[e]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}(t.includes),o.apply(null,[i].concat(t.includes))),o(i,t),delete i.statics,delete i.includes,i.options&&(i.options=n.options?r(n.options):{},o(i.options,t.options)),i._initHooks=[],i.callInitHooks=function(){if(!this._initHooksCalled){n.callInitHooks&&n.callInitHooks.call(this),this._initHooksCalled=!0;for(var t=0,e=i._initHooks.length;t<e;t++)i._initHooks[t].call(this)}},e},D.include=function(t){var e=this.prototype.options;return o(this.prototype,t),t.options&&(this.prototype.options=e,this.mergeOptions(t.options)),this},D.mergeOptions=function(t){return o(this.prototype.options,t),this},D.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),n="function"==typeof t?t:function(){this[t].apply(this,e)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n),this};var R={on:function(t,e,n){if("object"==typeof t)for(var i in t)this._on(i,t[i],e);else for(var o=0,r=(t=f(t)).length;o<r;o++)this._on(t[o],e,n);return this},off:function(t,e,n){if(arguments.length)if("object"==typeof t)for(var i in t)this._off(i,t[i],e);else{t=f(t);for(var o=1===arguments.length,r=0,s=t.length;r<s;r++)o?this._off(t[r]):this._off(t[r],e,n)}else delete this._events;return this},_on:function(t,e,n,i){if("function"==typeof e){if(!1===this._listens(t,e,n)){n===this&&(n=void 0);var o={fn:e,ctx:n};i&&(o.once=!0),this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(o)}}else console.warn("wrong listener type: "+typeof e)},_off:function(t,e,n){var i,o,r;if(this._events&&(i=this._events[t]))if(1!==arguments.length)if("function"==typeof e){var s=this._listens(t,e,n);if(!1!==s){var a=i[s];this._firingCount&&(a.fn=h,this._events[t]=i=i.slice()),i.splice(s,1)}}else console.warn("wrong listener type: "+typeof e);else{if(this._firingCount)for(o=0,r=i.length;o<r;o++)i[o].fn=h;delete this._events[t]}},fire:function(t,e,n){if(!this.listens(t,n))return this;var i=o({},e,{type:t,target:this,sourceTarget:e&&e.sourceTarget||this});if(this._events){var r=this._events[t];if(r){this._firingCount=this._firingCount+1||1;for(var s=0,a=r.length;s<a;s++){var l=r[s],c=l.fn;l.once&&this.off(t,c,l.ctx),c.call(l.ctx||this,i)}this._firingCount--}}return n&&this._propagateEvent(i),this},listens:function(t,e,n,i){"string"!=typeof t&&console.warn('"string" type argument expected');var o=e;"function"!=typeof e&&(i=!!e,o=void 0,n=void 0);var r=this._events&&this._events[t];if(r&&r.length&&!1!==this._listens(t,o,n))return!0;if(i)for(var s in this._eventParents)if(this._eventParents[s].listens(t,e,n,i))return!0;return!1},_listens:function(t,e,n){if(!this._events)return!1;var i=this._events[t]||[];if(!e)return!!i.length;n===this&&(n=void 0);for(var o=0,r=i.length;o<r;o++)if(i[o].fn===e&&i[o].ctx===n)return o;return!1},once:function(t,e,n){if("object"==typeof t)for(var i in t)this._on(i,t[i],e,!0);else for(var o=0,r=(t=f(t)).length;o<r;o++)this._on(t[o],e,n,!0);return this},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[l(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[l(t)],this},_propagateEvent:function(t){for(var e in this._eventParents)this._eventParents[e].fire(t.type,o({layer:t.target,propagatedFrom:t.target},t),!0)}};R.addEventListener=R.on,R.removeEventListener=R.clearAllEventListeners=R.off,R.addOneTimeEventListener=R.once,R.fireEvent=R.fire,R.hasEventListeners=R.listens;var A=D.extend(R);function I(t,e,n){this.x=n?Math.round(t):t,this.y=n?Math.round(e):e}var k=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};function N(t,e,n){return t instanceof I?t:v(t)?new I(t[0],t[1]):null==t?t:"object"==typeof t&&"x"in t&&"y"in t?new I(t.x,t.y):new I(t,e,n)}function F(t,e){if(t)for(var n=e?[t,e]:t,i=0,o=n.length;i<o;i++)this.extend(n[i])}function G(t,e){return!t||t instanceof F?t:new F(t,e)}function B(t,e){if(t)for(var n=e?[t,e]:t,i=0,o=n.length;i<o;i++)this.extend(n[i])}function j(t,e){return t instanceof B?t:new B(t,e)}function U(t,e,n){if(isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=+t,this.lng=+e,void 0!==n&&(this.alt=+n)}function V(t,e,n){return t instanceof U?t:v(t)&&"object"!=typeof t[0]?3===t.length?new U(t[0],t[1],t[2]):2===t.length?new U(t[0],t[1]):null:null==t?t:"object"==typeof t&&"lat"in t?new U(t.lat,"lng"in t?t.lng:t.lon,t.alt):void 0===e?null:new U(t,e,n)}I.prototype={clone:function(){return new I(this.x,this.y)},add:function(t){return this.clone()._add(N(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(N(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new I(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new I(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=k(this.x),this.y=k(this.y),this},distanceTo:function(t){var e=(t=N(t)).x-this.x,n=t.y-this.y;return Math.sqrt(e*e+n*n)},equals:function(t){return(t=N(t)).x===this.x&&t.y===this.y},contains:function(t){return t=N(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+d(this.x)+", "+d(this.y)+")"}},F.prototype={extend:function(t){var e,n;if(!t)return this;if(t instanceof I||"number"==typeof t[0]||"x"in t)e=n=N(t);else if(e=(t=G(t)).min,n=t.max,!e||!n)return this;return this.min||this.max?(this.min.x=Math.min(e.x,this.min.x),this.max.x=Math.max(n.x,this.max.x),this.min.y=Math.min(e.y,this.min.y),this.max.y=Math.max(n.y,this.max.y)):(this.min=e.clone(),this.max=n.clone()),this},getCenter:function(t){return N((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return N(this.min.x,this.max.y)},getTopRight:function(){return N(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,n;return(t="number"==typeof t[0]||t instanceof I?N(t):G(t))instanceof F?(e=t.min,n=t.max):e=n=t,e.x>=this.min.x&&n.x<=this.max.x&&e.y>=this.min.y&&n.y<=this.max.y},intersects:function(t){t=G(t);var e=this.min,n=this.max,i=t.min,o=t.max,r=o.x>=e.x&&i.x<=n.x,s=o.y>=e.y&&i.y<=n.y;return r&&s},overlaps:function(t){t=G(t);var e=this.min,n=this.max,i=t.min,o=t.max,r=o.x>e.x&&i.x<n.x,s=o.y>e.y&&i.y<n.y;return r&&s},isValid:function(){return!(!this.min||!this.max)},pad:function(t){var e=this.min,n=this.max,i=Math.abs(e.x-n.x)*t,o=Math.abs(e.y-n.y)*t;return G(N(e.x-i,e.y-o),N(n.x+i,n.y+o))},equals:function(t){return!!t&&(t=G(t),this.min.equals(t.getTopLeft())&&this.max.equals(t.getBottomRight()))}},B.prototype={extend:function(t){var e,n,i=this._southWest,o=this._northEast;if(t instanceof U)e=t,n=t;else{if(!(t instanceof B))return t?this.extend(V(t)||j(t)):this;if(e=t._southWest,n=t._northEast,!e||!n)return this}return i||o?(i.lat=Math.min(e.lat,i.lat),i.lng=Math.min(e.lng,i.lng),o.lat=Math.max(n.lat,o.lat),o.lng=Math.max(n.lng,o.lng)):(this._southWest=new U(e.lat,e.lng),this._northEast=new U(n.lat,n.lng)),this},pad:function(t){var e=this._southWest,n=this._northEast,i=Math.abs(e.lat-n.lat)*t,o=Math.abs(e.lng-n.lng)*t;return new B(new U(e.lat-i,e.lng-o),new U(n.lat+i,n.lng+o))},getCenter:function(){return new U((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new U(this.getNorth(),this.getWest())},getSouthEast:function(){return new U(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){t="number"==typeof t[0]||t instanceof U||"lat"in t?V(t):j(t);var e,n,i=this._southWest,o=this._northEast;return t instanceof B?(e=t.getSouthWest(),n=t.getNorthEast()):e=n=t,e.lat>=i.lat&&n.lat<=o.lat&&e.lng>=i.lng&&n.lng<=o.lng},intersects:function(t){t=j(t);var e=this._southWest,n=this._northEast,i=t.getSouthWest(),o=t.getNorthEast(),r=o.lat>=e.lat&&i.lat<=n.lat,s=o.lng>=e.lng&&i.lng<=n.lng;return r&&s},overlaps:function(t){t=j(t);var e=this._southWest,n=this._northEast,i=t.getSouthWest(),o=t.getNorthEast(),r=o.lat>e.lat&&i.lat<n.lat,s=o.lng>e.lng&&i.lng<n.lng;return r&&s},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,e){return!!t&&(t=j(t),this._southWest.equals(t.getSouthWest(),e)&&this._northEast.equals(t.getNorthEast(),e))},isValid:function(){return!(!this._southWest||!this._northEast)}},U.prototype={equals:function(t,e){return!!t&&(t=V(t),Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng))<=(void 0===e?1e-9:e))},toString:function(t){return"LatLng("+d(this.lat,t)+", "+d(this.lng,t)+")"},distanceTo:function(t){return $.distance(this,V(t))},wrap:function(){return $.wrapLatLng(this)},toBounds:function(t){var e=180*t/40075017,n=e/Math.cos(Math.PI/180*this.lat);return j([this.lat-e,this.lng-n],[this.lat+e,this.lng+n])},clone:function(){return new U(this.lat,this.lng,this.alt)}};var W,H={latLngToPoint:function(t,e){var n=this.projection.project(t),i=this.scale(e);return this.transformation._transform(n,i)},pointToLatLng:function(t,e){var n=this.scale(e),i=this.transformation.untransform(t,n);return this.projection.unproject(i)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var e=this.projection.bounds,n=this.scale(t);return new F(this.transformation.transform(e.min,n),this.transformation.transform(e.max,n))},infinite:!1,wrapLatLng:function(t){var e=this.wrapLng?u(t.lng,this.wrapLng,!0):t.lng;return new U(this.wrapLat?u(t.lat,this.wrapLat,!0):t.lat,e,t.alt)},wrapLatLngBounds:function(t){var e=t.getCenter(),n=this.wrapLatLng(e),i=e.lat-n.lat,o=e.lng-n.lng;if(0===i&&0===o)return t;var r=t.getSouthWest(),s=t.getNorthEast();return new B(new U(r.lat-i,r.lng-o),new U(s.lat-i,s.lng-o))}},$=o({},H,{wrapLng:[-180,180],R:6371e3,distance:function(t,e){var n=Math.PI/180,i=t.lat*n,o=e.lat*n,r=Math.sin((e.lat-t.lat)*n/2),s=Math.sin((e.lng-t.lng)*n/2),a=r*r+Math.cos(i)*Math.cos(o)*s*s,l=2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a));return this.R*l}}),z=6378137,K={R:z,MAX_LATITUDE:85.0511287798,project:function(t){var e=Math.PI/180,n=this.MAX_LATITUDE,i=Math.max(Math.min(n,t.lat),-n),o=Math.sin(i*e);return new I(this.R*t.lng*e,this.R*Math.log((1+o)/(1-o))/2)},unproject:function(t){var e=180/Math.PI;return new U((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*e,t.x*e/this.R)},bounds:(W=z*Math.PI,new F([-W,-W],[W,W]))};function Y(t,e,n,i){if(v(t))return this._a=t[0],this._b=t[1],this._c=t[2],void(this._d=t[3]);this._a=t,this._b=e,this._c=n,this._d=i}function X(t,e,n,i){return new Y(t,e,n,i)}Y.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return e=e||1,new I((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}};var q=o({},$,{code:"EPSG:3857",projection:K,transformation:function(){var t=.5/(Math.PI*K.R);return X(t,.5,-t,.5)}()}),Z=o({},q,{code:"EPSG:900913"});function J(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function Q(t,e){var n,i,o,r,s,a,l="";for(n=0,o=t.length;n<o;n++){for(i=0,r=(s=t[n]).length;i<r;i++)l+=(i?"L":"M")+(a=s[i]).x+" "+a.y;l+=e?Ft.svg?"z":"x":""}return l||"M0 0"}var tt,et=document.documentElement.style,nt="ActiveXObject"in window,it=nt&&!document.addEventListener,ot="msLaunchUri"in navigator&&!("documentMode"in document),rt=Nt("webkit"),st=Nt("android"),at=Nt("android 2")||Nt("android 3"),lt=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),ct=st&&Nt("Google")&&lt<537&&!("AudioNode"in window),ut=!!window.opera,ht=!ot&&Nt("chrome"),dt=Nt("gecko")&&!rt&&!ut&&!nt,pt=!ht&&Nt("safari"),ft=Nt("phantom"),gt="OTransition"in et,mt=0===navigator.platform.indexOf("Win"),_t=nt&&"transition"in et,yt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!at,vt="MozPerspective"in et,Ct=!window.L_DISABLE_3D&&(_t||yt||vt)&&!gt&&!ft,bt="undefined"!=typeof orientation||Nt("mobile"),Et=bt&&rt,St=bt&&yt,wt=!window.PointerEvent&&window.MSPointerEvent,Ot=!(!window.PointerEvent&&!wt),xt="ontouchstart"in window||!!window.TouchEvent,Pt=!window.L_NO_TOUCH&&(xt||Ot),Tt=bt&&ut,Mt=bt&&dt,Dt=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Rt=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",h,e),window.removeEventListener("testPassiveEventSupport",h,e)}catch(t){}return t}(),At=!!document.createElement("canvas").getContext,Lt=!(!document.createElementNS||!J("svg").createSVGRect),It=!!Lt&&((tt=document.createElement("div")).innerHTML="<svg/>","http://www.w3.org/2000/svg"===(tt.firstChild&&tt.firstChild.namespaceURI)),kt=!Lt&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var e=t.firstChild;return e.style.behavior="url(#default#VML)",e&&"object"==typeof e.adj}catch(t){return!1}}();function Nt(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var Ft={ie:nt,ielt9:it,edge:ot,webkit:rt,android:st,android23:at,androidStock:ct,opera:ut,chrome:ht,gecko:dt,safari:pt,phantom:ft,opera12:gt,win:mt,ie3d:_t,webkit3d:yt,gecko3d:vt,any3d:Ct,mobile:bt,mobileWebkit:Et,mobileWebkit3d:St,msPointer:wt,pointer:Ot,touch:Pt,touchNative:xt,mobileOpera:Tt,mobileGecko:Mt,retina:Dt,passiveEvents:Rt,canvas:At,svg:Lt,vml:kt,inlineSvg:It,mac:0===navigator.platform.indexOf("Mac"),linux:0===navigator.platform.indexOf("Linux")},Gt=Ft.msPointer?"MSPointerDown":"pointerdown",Bt=Ft.msPointer?"MSPointerMove":"pointermove",jt=Ft.msPointer?"MSPointerUp":"pointerup",Ut=Ft.msPointer?"MSPointerCancel":"pointercancel",Vt={touchstart:Gt,touchmove:Bt,touchend:jt,touchcancel:Ut},Wt={touchstart:function(t,e){e.MSPOINTER_TYPE_TOUCH&&e.pointerType===e.MSPOINTER_TYPE_TOUCH&&Ue(e);qt(t,e)},touchmove:qt,touchend:qt,touchcancel:qt},Ht={},$t=!1;function zt(t,e,n){return"touchstart"===e&&($t||(document.addEventListener(Gt,Kt,!0),document.addEventListener(Bt,Yt,!0),document.addEventListener(jt,Xt,!0),document.addEventListener(Ut,Xt,!0),$t=!0)),Wt[e]?(n=Wt[e].bind(this,n),t.addEventListener(Vt[e],n,!1),n):(console.warn("wrong event specified:",e),h)}function Kt(t){Ht[t.pointerId]=t}function Yt(t){Ht[t.pointerId]&&(Ht[t.pointerId]=t)}function Xt(t){delete Ht[t.pointerId]}function qt(t,e){if(e.pointerType!==(e.MSPOINTER_TYPE_MOUSE||"mouse")){for(var n in e.touches=[],Ht)e.touches.push(Ht[n]);e.changedTouches=[e],t(e)}}var Zt=200;var Jt,Qt,te,ee,ne,ie=ve(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),oe=ve(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),re="webkitTransition"===oe||"OTransition"===oe?oe+"End":"transitionend";function se(t){return"string"==typeof t?document.getElementById(t):t}function ae(t,e){var n=t.style[e]||t.currentStyle&&t.currentStyle[e];if((!n||"auto"===n)&&document.defaultView){var i=document.defaultView.getComputedStyle(t,null);n=i?i[e]:null}return"auto"===n?null:n}function le(t,e,n){var i=document.createElement(t);return i.className=e||"",n&&n.appendChild(i),i}function ce(t){var e=t.parentNode;e&&e.removeChild(t)}function ue(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function he(t){var e=t.parentNode;e&&e.lastChild!==t&&e.appendChild(t)}function de(t){var e=t.parentNode;e&&e.firstChild!==t&&e.insertBefore(t,e.firstChild)}function pe(t,e){if(void 0!==t.classList)return t.classList.contains(e);var n=_e(t);return n.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(n)}function fe(t,e){if(void 0!==t.classList)for(var n=f(e),i=0,o=n.length;i<o;i++)t.classList.add(n[i]);else if(!pe(t,e)){var r=_e(t);me(t,(r?r+" ":"")+e)}}function ge(t,e){void 0!==t.classList?t.classList.remove(e):me(t,p((" "+_e(t)+" ").replace(" "+e+" "," ")))}function me(t,e){void 0===t.className.baseVal?t.className=e:t.className.baseVal=e}function _e(t){return t.correspondingElement&&(t=t.correspondingElement),void 0===t.className.baseVal?t.className:t.className.baseVal}function ye(t,e){"opacity"in t.style?t.style.opacity=e:"filter"in t.style&&function(t,e){var n=!1,i="DXImageTransform.Microsoft.Alpha";try{n=t.filters.item(i)}catch(t){if(1===e)return}e=Math.round(100*e),n?(n.Enabled=100!==e,n.Opacity=e):t.style.filter+=" progid:"+i+"(opacity="+e+")"}(t,e)}function ve(t){for(var e=document.documentElement.style,n=0;n<t.length;n++)if(t[n]in e)return t[n];return!1}function Ce(t,e,n){var i=e||new I(0,0);t.style[ie]=(Ft.ie3d?"translate("+i.x+"px,"+i.y+"px)":"translate3d("+i.x+"px,"+i.y+"px,0)")+(n?" scale("+n+")":"")}function be(t,e){t._leaflet_pos=e,Ft.any3d?Ce(t,e):(t.style.left=e.x+"px",t.style.top=e.y+"px")}function Ee(t){return t._leaflet_pos||new I(0,0)}if("onselectstart"in document)Jt=function(){Re(window,"selectstart",Ue)},Qt=function(){Le(window,"selectstart",Ue)};else{var Se=ve(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Jt=function(){if(Se){var t=document.documentElement.style;te=t[Se],t[Se]="none"}},Qt=function(){Se&&(document.documentElement.style[Se]=te,te=void 0)}}function we(){Re(window,"dragstart",Ue)}function Oe(){Le(window,"dragstart",Ue)}function xe(t){for(;-1===t.tabIndex;)t=t.parentNode;t.style&&(Pe(),ee=t,ne=t.style.outline,t.style.outline="none",Re(window,"keydown",Pe))}function Pe(){ee&&(ee.style.outline=ne,ee=void 0,ne=void 0,Le(window,"keydown",Pe))}function Te(t){do{t=t.parentNode}while(!(t.offsetWidth&&t.offsetHeight||t===document.body));return t}function Me(t){var e=t.getBoundingClientRect();return{x:e.width/t.offsetWidth||1,y:e.height/t.offsetHeight||1,boundingClientRect:e}}var De={__proto__:null,TRANSFORM:ie,TRANSITION:oe,TRANSITION_END:re,get:se,getStyle:ae,create:le,remove:ce,empty:ue,toFront:he,toBack:de,hasClass:pe,addClass:fe,removeClass:ge,setClass:me,getClass:_e,setOpacity:ye,testProp:ve,setTransform:Ce,setPosition:be,getPosition:Ee,get disableTextSelection(){return Jt},get enableTextSelection(){return Qt},disableImageDrag:we,enableImageDrag:Oe,preventOutline:xe,restoreOutline:Pe,getSizedParentNode:Te,getScale:Me};function Re(t,e,n,i){if(e&&"object"==typeof e)for(var o in e)Ne(t,o,e[o],n);else for(var r=0,s=(e=f(e)).length;r<s;r++)Ne(t,e[r],n,i);return this}var Ae="_leaflet_events";function Le(t,e,n,i){if(1===arguments.length)Ie(t),delete t[Ae];else if(e&&"object"==typeof e)for(var o in e)Fe(t,o,e[o],n);else if(e=f(e),2===arguments.length)Ie(t,(function(t){return-1!==C(e,t)}));else for(var r=0,s=e.length;r<s;r++)Fe(t,e[r],n,i);return this}function Ie(t,e){for(var n in t[Ae]){var i=n.split(/\d/)[0];e&&!e(i)||Fe(t,i,null,null,n)}}var ke={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Ne(t,e,n,i){var o=e+l(n)+(i?"_"+l(i):"");if(t[Ae]&&t[Ae][o])return this;var r=function(e){return n.call(i||t,e||window.event)},s=r;!Ft.touchNative&&Ft.pointer&&0===e.indexOf("touch")?r=zt(t,e,r):Ft.touch&&"dblclick"===e?r=function(t,e){t.addEventListener("dblclick",e);var n,i=0;function o(t){if(1===t.detail){if("mouse"!==t.pointerType&&(!t.sourceCapabilities||t.sourceCapabilities.firesTouchEvents)){var o=We(t);if(!o.some((function(t){return t instanceof HTMLLabelElement&&t.attributes.for}))||o.some((function(t){return t instanceof HTMLInputElement||t instanceof HTMLSelectElement}))){var r=Date.now();r-i<=Zt?2==++n&&e(function(t){var e,n,i={};for(n in t)e=t[n],i[n]=e&&e.bind?e.bind(t):e;return t=i,i.type="dblclick",i.detail=2,i.isTrusted=!1,i._simulated=!0,i}(t)):n=1,i=r}}}else n=t.detail}return t.addEventListener("click",o),{dblclick:e,simDblclick:o}}(t,r):"addEventListener"in t?"touchstart"===e||"touchmove"===e||"wheel"===e||"mousewheel"===e?t.addEventListener(ke[e]||e,r,!!Ft.passiveEvents&&{passive:!1}):"mouseenter"===e||"mouseleave"===e?(r=function(e){e=e||window.event,Ke(t,e)&&s(e)},t.addEventListener(ke[e],r,!1)):t.addEventListener(e,s,!1):t.attachEvent("on"+e,r),t[Ae]=t[Ae]||{},t[Ae][o]=r}function Fe(t,e,n,i,o){o=o||e+l(n)+(i?"_"+l(i):"");var r=t[Ae]&&t[Ae][o];if(!r)return this;!Ft.touchNative&&Ft.pointer&&0===e.indexOf("touch")?function(t,e,n){Vt[e]?t.removeEventListener(Vt[e],n,!1):console.warn("wrong event specified:",e)}(t,e,r):Ft.touch&&"dblclick"===e?function(t,e){t.removeEventListener("dblclick",e.dblclick),t.removeEventListener("click",e.simDblclick)}(t,r):"removeEventListener"in t?t.removeEventListener(ke[e]||e,r,!1):t.detachEvent("on"+e,r),t[Ae][o]=null}function Ge(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,this}function Be(t){return Ne(t,"wheel",Ge),this}function je(t){return Re(t,"mousedown touchstart dblclick contextmenu",Ge),t._leaflet_disable_click=!0,this}function Ue(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function Ve(t){return Ue(t),Ge(t),this}function We(t){if(t.composedPath)return t.composedPath();for(var e=[],n=t.target;n;)e.push(n),n=n.parentNode;return e}function He(t,e){if(!e)return new I(t.clientX,t.clientY);var n=Me(e),i=n.boundingClientRect;return new I((t.clientX-i.left)/n.x-e.clientLeft,(t.clientY-i.top)/n.y-e.clientTop)}var $e=Ft.linux&&Ft.chrome?window.devicePixelRatio:Ft.mac?3*window.devicePixelRatio:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function ze(t){return Ft.edge?t.wheelDeltaY/2:t.deltaY&&0===t.deltaMode?-t.deltaY/$e:t.deltaY&&1===t.deltaMode?20*-t.deltaY:t.deltaY&&2===t.deltaMode?60*-t.deltaY:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?20*-t.detail:t.detail?t.detail/-32765*60:0}function Ke(t,e){var n=e.relatedTarget;if(!n)return!0;try{for(;n&&n!==t;)n=n.parentNode}catch(t){return!1}return n!==t}var Ye={__proto__:null,on:Re,off:Le,stopPropagation:Ge,disableScrollPropagation:Be,disableClickPropagation:je,preventDefault:Ue,stop:Ve,getPropagationPath:We,getMousePosition:He,getWheelDelta:ze,isExternalTarget:Ke,addListener:Re,removeListener:Le},Xe=A.extend({run:function(t,e,n,i){this.stop(),this._el=t,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(i||.5,.2),this._startPos=Ee(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=P(this._animate,this),this._step()},_step:function(t){var e=+new Date-this._startTime,n=1e3*this._duration;e<n?this._runFrame(this._easeOut(e/n),t):(this._runFrame(1),this._complete())},_runFrame:function(t,e){var n=this._startPos.add(this._offset.multiplyBy(t));e&&n._round(),be(this._el,n),this.fire("step")},_complete:function(){T(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),qe=A.extend({options:{crs:q,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,e){e=g(this,e),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=s(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),void 0!==e.zoom&&(this._zoom=this._limitZoom(e.zoom)),e.center&&void 0!==e.zoom&&this.setView(V(e.center),e.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=oe&&Ft.any3d&&!Ft.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Re(this._proxy,re,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,e,n){if((e=void 0===e?this._zoom:this._limitZoom(e),t=this._limitCenter(V(t),e,this.options.maxBounds),n=n||{},this._stop(),this._loaded&&!n.reset&&!0!==n)&&(void 0!==n.animate&&(n.zoom=o({animate:n.animate},n.zoom),n.pan=o({animate:n.animate,duration:n.duration},n.pan)),this._zoom!==e?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,e,n.zoom):this._tryAnimatedPan(t,n.pan)))return clearTimeout(this._sizeTimer),this;return this._resetView(t,e,n.pan&&n.pan.noMoveStart),this},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=t,this)},zoomIn:function(t,e){return t=t||(Ft.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+t,e)},zoomOut:function(t,e){return t=t||(Ft.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-t,e)},setZoomAround:function(t,e,n){var i=this.getZoomScale(e),o=this.getSize().divideBy(2),r=(t instanceof I?t:this.latLngToContainerPoint(t)).subtract(o).multiplyBy(1-1/i),s=this.containerPointToLatLng(o.add(r));return this.setView(s,e,{zoom:n})},_getBoundsCenterZoom:function(t,e){e=e||{},t=t.getBounds?t.getBounds():j(t);var n=N(e.paddingTopLeft||e.padding||[0,0]),i=N(e.paddingBottomRight||e.padding||[0,0]),o=this.getBoundsZoom(t,!1,n.add(i));if((o="number"==typeof e.maxZoom?Math.min(e.maxZoom,o):o)===1/0)return{center:t.getCenter(),zoom:o};var r=i.subtract(n).divideBy(2),s=this.project(t.getSouthWest(),o),a=this.project(t.getNorthEast(),o);return{center:this.unproject(s.add(a).divideBy(2).add(r),o),zoom:o}},fitBounds:function(t,e){if(!(t=j(t)).isValid())throw new Error("Bounds are not valid.");var n=this._getBoundsCenterZoom(t,e);return this.setView(n.center,n.zoom,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t,e){if(e=e||{},!(t=N(t).round()).x&&!t.y)return this.fire("moveend");if(!0!==e.animate&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Xe,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),!1!==e.animate){fe(this._mapPane,"leaflet-pan-anim");var n=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,n,e.duration||.25,e.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,e,n){if(!1===(n=n||{}).animate||!Ft.any3d)return this.setView(t,e,n);this._stop();var i=this.project(this.getCenter()),o=this.project(t),r=this.getSize(),s=this._zoom;t=V(t),e=void 0===e?s:e;var a=Math.max(r.x,r.y),l=a*this.getZoomScale(s,e),c=o.distanceTo(i)||1,u=1.42,h=u*u;function d(t){var e=(l*l-a*a+(t?-1:1)*h*h*c*c)/(2*(t?l:a)*h*c),n=Math.sqrt(e*e+1)-e;return n<1e-9?-18:Math.log(n)}function p(t){return(Math.exp(t)-Math.exp(-t))/2}function f(t){return(Math.exp(t)+Math.exp(-t))/2}var g=d(0);function m(t){return a*(f(g)*(p(e=g+u*t)/f(e))-p(g))/h;var e}var _=Date.now(),y=(d(1)-g)/u,v=n.duration?1e3*n.duration:1e3*y*.8;return this._moveStart(!0,n.noMoveStart),function n(){var r=(Date.now()-_)/v,l=function(t){return 1-Math.pow(1-t,1.5)}(r)*y;r<=1?(this._flyToFrame=P(n,this),this._move(this.unproject(i.add(o.subtract(i).multiplyBy(m(l)/c)),s),this.getScaleZoom(a/function(t){return a*(f(g)/f(g+u*t))}(l),s),{flyTo:!0})):this._move(t,e)._moveEnd(!0)}.call(this),this},flyToBounds:function(t,e){var n=this._getBoundsCenterZoom(t,e);return this.flyTo(n.center,n.zoom,e)},setMaxBounds:function(t){return t=j(t),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),t.isValid()?(this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(t){var e=this.options.minZoom;return this.options.minZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var e=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,e){this._enforcingBounds=!0;var n=this.getCenter(),i=this._limitCenter(n,this._zoom,j(t));return n.equals(i)||this.panTo(i,e),this._enforcingBounds=!1,this},panInside:function(t,e){var n=N((e=e||{}).paddingTopLeft||e.padding||[0,0]),i=N(e.paddingBottomRight||e.padding||[0,0]),o=this.project(this.getCenter()),r=this.project(t),s=this.getPixelBounds(),a=G([s.min.add(n),s.max.subtract(i)]),l=a.getSize();if(!a.contains(r)){this._enforcingBounds=!0;var c=r.subtract(a.getCenter()),u=a.extend(r).getSize().subtract(l);o.x+=c.x<0?-u.x:u.x,o.y+=c.y<0?-u.y:u.y,this.panTo(this.unproject(o),e),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=o({animate:!1,pan:!0},!0===t?{animate:!0}:t);var e=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var n=this.getSize(),i=e.divideBy(2).round(),r=n.divideBy(2).round(),a=i.subtract(r);return a.x||a.y?(t.animate&&t.pan?this.panBy(a):(t.pan&&this._rawPanBy(a),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(s(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:e,newSize:n})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=o({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var e=s(this._handleGeolocationResponse,this),n=s(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(e,n,t):navigator.geolocation.getCurrentPosition(e,n,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){if(this._container._leaflet_id){var e=t.code,n=t.message||(1===e?"permission denied":2===e?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+n+"."})}},_handleGeolocationResponse:function(t){if(this._container._leaflet_id){var e=new U(t.coords.latitude,t.coords.longitude),n=e.toBounds(2*t.coords.accuracy),i=this._locateOptions;if(i.setView){var o=this.getBoundsZoom(n);this.setView(e,i.maxZoom?Math.min(o,i.maxZoom):o)}var r={latlng:e,bounds:n,timestamp:t.timestamp};for(var s in t.coords)"number"==typeof t.coords[s]&&(r[s]=t.coords[s]);this.fire("locationfound",r)}},addHandler:function(t,e){if(!e)return this;var n=this[t]=new e(this);return this._handlers.push(n),this.options[t]&&n.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(t){this._container._leaflet_id=void 0,this._containerId=void 0}var t;for(t in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),ce(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(T(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[t].remove();for(t in this._panes)ce(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,e){var n=le("div","leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),e||this._mapPane);return t&&(this._panes[t]=n),n},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds();return new B(this.unproject(t.getBottomLeft()),this.unproject(t.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,n){t=j(t),n=N(n||[0,0]);var i=this.getZoom()||0,o=this.getMinZoom(),r=this.getMaxZoom(),s=t.getNorthWest(),a=t.getSouthEast(),l=this.getSize().subtract(n),c=G(this.project(a,i),this.project(s,i)).getSize(),u=Ft.any3d?this.options.zoomSnap:1,h=l.x/c.x,d=l.y/c.y,p=e?Math.max(h,d):Math.min(h,d);return i=this.getScaleZoom(p,i),u&&(i=Math.round(i/(u/100))*(u/100),i=e?Math.ceil(i/u)*u:Math.floor(i/u)*u),Math.max(o,Math.min(r,i))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new I(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,e){var n=this._getTopLeftPoint(t,e);return new F(n,n.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(void 0===t?this.getZoom():t)},getPane:function(t){return"string"==typeof t?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,e){var n=this.options.crs;return e=void 0===e?this._zoom:e,n.scale(t)/n.scale(e)},getScaleZoom:function(t,e){var n=this.options.crs;e=void 0===e?this._zoom:e;var i=n.zoom(t*n.scale(e));return isNaN(i)?1/0:i},project:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.latLngToPoint(V(t),e)},unproject:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.pointToLatLng(N(t),e)},layerPointToLatLng:function(t){var e=N(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){return this.project(V(t))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(V(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(j(t))},distance:function(t,e){return this.options.crs.distance(V(t),V(e))},containerPointToLayerPoint:function(t){return N(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return N(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(N(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(V(t)))},mouseEventToContainerPoint:function(t){return He(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=se(t);if(!e)throw new Error("Map container not found.");if(e._leaflet_id)throw new Error("Map container is already initialized.");Re(e,"scroll",this._onScroll,this),this._containerId=l(e)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ft.any3d,fe(t,"leaflet-container"+(Ft.touch?" leaflet-touch":"")+(Ft.retina?" leaflet-retina":"")+(Ft.ielt9?" leaflet-oldie":"")+(Ft.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var e=ae(t,"position");"absolute"!==e&&"relative"!==e&&"fixed"!==e&&"sticky"!==e&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),be(this._mapPane,new I(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(fe(t.markerPane,"leaflet-zoom-hide"),fe(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,e,n){be(this._mapPane,new I(0,0));var i=!this._loaded;this._loaded=!0,e=this._limitZoom(e),this.fire("viewprereset");var o=this._zoom!==e;this._moveStart(o,n)._move(t,e)._moveEnd(o),this.fire("viewreset"),i&&this.fire("load")},_moveStart:function(t,e){return t&&this.fire("zoomstart"),e||this.fire("movestart"),this},_move:function(t,e,n,i){void 0===e&&(e=this._zoom);var o=this._zoom!==e;return this._zoom=e,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),i?n&&n.pinch&&this.fire("zoom",n):((o||n&&n.pinch)&&this.fire("zoom",n),this.fire("move",n)),this},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return T(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){be(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[l(this._container)]=this;var e=t?Le:Re;e(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&e(window,"resize",this._onResize,this),Ft.any3d&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){T(this._resizeRequest),this._resizeRequest=P((function(){this.invalidateSize({debounceMoveend:!0})}),this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,e){for(var n,i=[],o="mouseout"===e||"mouseover"===e,r=t.target||t.srcElement,s=!1;r;){if((n=this._targets[l(r)])&&("click"===e||"preclick"===e)&&this._draggableMoved(n)){s=!0;break}if(n&&n.listens(e,!0)){if(o&&!Ke(r,t))break;if(i.push(n),o)break}if(r===this._container)break;r=r.parentNode}return i.length||s||o||!this.listens(e,!0)||(i=[this]),i},_isClickDisabled:function(t){for(;t&&t!==this._container;){if(t._leaflet_disable_click)return!0;t=t.parentNode}},_handleDOMEvent:function(t){var e=t.target||t.srcElement;if(!(!this._loaded||e._leaflet_disable_events||"click"===t.type&&this._isClickDisabled(e))){var n=t.type;"mousedown"===n&&xe(e),this._fireDOMEvent(t,n)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,e,n){if("click"===t.type){var i=o({},t);i.type="preclick",this._fireDOMEvent(i,i.type,n)}var r=this._findEventTargets(t,e);if(n){for(var s=[],a=0;a<n.length;a++)n[a].listens(e,!0)&&s.push(n[a]);r=s.concat(r)}if(r.length){"contextmenu"===e&&Ue(t);var l=r[0],c={originalEvent:t};if("keypress"!==t.type&&"keydown"!==t.type&&"keyup"!==t.type){var u=l.getLatLng&&(!l._radius||l._radius<=10);c.containerPoint=u?this.latLngToContainerPoint(l.getLatLng()):this.mouseEventToContainerPoint(t),c.layerPoint=this.containerPointToLayerPoint(c.containerPoint),c.latlng=u?l.getLatLng():this.layerPointToLatLng(c.layerPoint)}for(a=0;a<r.length;a++)if(r[a].fire(e,c,!0),c.originalEvent._stopped||!1===r[a].options.bubblingMouseEvents&&-1!==C(this._mouseEvents,e))return}},_draggableMoved:function(t){return(t=t.dragging&&t.dragging.enabled()?t:this).dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,e=this._handlers.length;t<e;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,{target:this}):this.on("load",t,e),this},_getMapPanePos:function(){return Ee(this._mapPane)||new I(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,e){return(t&&void 0!==e?this._getNewPixelOrigin(t,e):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,e){var n=this.getSize()._divideBy(2);return this.project(t,e)._subtract(n)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,e,n){var i=this._getNewPixelOrigin(n,e);return this.project(t,e)._subtract(i)},_latLngBoundsToNewLayerBounds:function(t,e,n){var i=this._getNewPixelOrigin(n,e);return G([this.project(t.getSouthWest(),e)._subtract(i),this.project(t.getNorthWest(),e)._subtract(i),this.project(t.getSouthEast(),e)._subtract(i),this.project(t.getNorthEast(),e)._subtract(i)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,n){if(!n)return t;var i=this.project(t,e),o=this.getSize().divideBy(2),r=new F(i.subtract(o),i.add(o)),s=this._getBoundsOffset(r,n,e);return Math.abs(s.x)<=1&&Math.abs(s.y)<=1?t:this.unproject(i.add(s),e)},_limitOffset:function(t,e){if(!e)return t;var n=this.getPixelBounds(),i=new F(n.min.add(t),n.max.add(t));return t.add(this._getBoundsOffset(i,e))},_getBoundsOffset:function(t,e,n){var i=G(this.project(e.getNorthEast(),n),this.project(e.getSouthWest(),n)),o=i.min.subtract(t.min),r=i.max.subtract(t.max);return new I(this._rebound(o.x,-r.x),this._rebound(o.y,-r.y))},_rebound:function(t,e){return t+e>0?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),n=this.getMaxZoom(),i=Ft.any3d?this.options.zoomSnap:1;return i&&(t=Math.round(t/i)*i),Math.max(e,Math.min(n,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ge(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){var n=this._getCenterOffset(t)._trunc();return!(!0!==(e&&e.animate)&&!this.getSize().contains(n))&&(this.panBy(n,e),!0)},_createAnimProxy:function(){var t=this._proxy=le("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",(function(t){var e=ie,n=this._proxy.style[e];Ce(this._proxy,this.project(t.center,t.zoom),this.getZoomScale(t.zoom,1)),n===this._proxy.style[e]&&this._animatingZoom&&this._onZoomTransitionEnd()}),this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ce(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),e=this.getZoom();Ce(this._proxy,this.project(t,e),this.getZoomScale(e,1))},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,n){if(this._animatingZoom)return!0;if(n=n||{},!this._zoomAnimated||!1===n.animate||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var i=this.getZoomScale(e),o=this._getCenterOffset(t)._divideBy(1-1/i);return!(!0!==n.animate&&!this.getSize().contains(o))&&(P((function(){this._moveStart(!0,!1)._animateZoom(t,e,!0)}),this),!0)},_animateZoom:function(t,e,n,i){this._mapPane&&(n&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=e,fe(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:e,noUpdate:i}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(s(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&ge(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Ze(t,e){return new qe(t,e)}var Je=D.extend({options:{position:"topright"},initialize:function(t){g(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var e=this._container=this.onAdd(t),n=this.getPosition(),i=t._controlCorners[n];return fe(e,"leaflet-control"),-1!==n.indexOf("bottom")?i.insertBefore(e,i.firstChild):i.appendChild(e),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ce(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),Qe=function(t){return new Je(t)};qe.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},e="leaflet-",n=this._controlContainer=le("div",e+"control-container",this._container);function i(i,o){var r=e+i+" "+e+o;t[i+o]=le("div",r,n)}i("top","left"),i("top","right"),i("bottom","left"),i("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)ce(this._controlCorners[t]);ce(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var tn=Je.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,e,n,i){return n<i?-1:i<n?1:0}},initialize:function(t,e,n){for(var i in g(this,n),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,t)this._addLayer(t[i],i);for(i in e)this._addLayer(e[i],i,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return Je.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._map?this._update():this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var e=this._getLayer(l(t));return e&&this._layers.splice(this._layers.indexOf(e),1),this._map?this._update():this},expand:function(){fe(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(fe(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):ge(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return ge(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=le("div",t),n=this.options.collapsed;e.setAttribute("aria-haspopup",!0),je(e),Be(e);var i=this._section=le("section",t+"-list");n&&(this._map.on("click",this.collapse,this),Re(e,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var o=this._layersLink=le("a",t+"-toggle",e);o.href="#",o.title="Layers",o.setAttribute("role","button"),Re(o,{keydown:function(t){13===t.keyCode&&this._expandSafely()},click:function(t){Ue(t),this._expandSafely()}},this),n||this.expand(),this._baseLayersList=le("div",t+"-base",i),this._separator=le("div",t+"-separator",i),this._overlaysList=le("div",t+"-overlays",i),e.appendChild(i)},_getLayer:function(t){for(var e=0;e<this._layers.length;e++)if(this._layers[e]&&l(this._layers[e].layer)===t)return this._layers[e]},_addLayer:function(t,e,n){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:e,overlay:n}),this.options.sortLayers&&this._layers.sort(s((function(t,e){return this.options.sortFunction(t.layer,e.layer,t.name,e.name)}),this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ue(this._baseLayersList),ue(this._overlaysList),this._layerControlInputs=[];var t,e,n,i,o=0;for(n=0;n<this._layers.length;n++)i=this._layers[n],this._addItem(i),e=e||i.overlay,t=t||!i.overlay,o+=i.overlay?0:1;return this.options.hideSingleBase&&(t=t&&o>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=e&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var e=this._getLayer(l(t.target)),n=e.overlay?"add"===t.type?"overlayadd":"overlayremove":"add"===t.type?"baselayerchange":null;n&&this._map.fire(n,e)},_createRadioElement:function(t,e){var n='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(e?' checked="checked"':"")+"/>",i=document.createElement("div");return i.innerHTML=n,i.firstChild},_addItem:function(t){var e,n=document.createElement("label"),i=this._map.hasLayer(t.layer);t.overlay?((e=document.createElement("input")).type="checkbox",e.className="leaflet-control-layers-selector",e.defaultChecked=i):e=this._createRadioElement("leaflet-base-layers_"+l(this),i),this._layerControlInputs.push(e),e.layerId=l(t.layer),Re(e,"click",this._onInputClick,this);var o=document.createElement("span");o.innerHTML=" "+t.name;var r=document.createElement("span");return n.appendChild(r),r.appendChild(e),r.appendChild(o),(t.overlay?this._overlaysList:this._baseLayersList).appendChild(n),this._checkDisabledLayers(),n},_onInputClick:function(){var t,e,n=this._layerControlInputs,i=[],o=[];this._handlingClick=!0;for(var r=n.length-1;r>=0;r--)t=n[r],e=this._getLayer(t.layerId).layer,t.checked?i.push(e):t.checked||o.push(e);for(r=0;r<o.length;r++)this._map.hasLayer(o[r])&&this._map.removeLayer(o[r]);for(r=0;r<i.length;r++)this._map.hasLayer(i[r])||this._map.addLayer(i[r]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var t,e,n=this._layerControlInputs,i=this._map.getZoom(),o=n.length-1;o>=0;o--)t=n[o],e=this._getLayer(t.layerId).layer,t.disabled=void 0!==e.options.minZoom&&i<e.options.minZoom||void 0!==e.options.maxZoom&&i>e.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var t=this._section;Re(t,"click",Ue),this.expand(),setTimeout((function(){Le(t,"click",Ue)}))}}),en=Je.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",n=le("div",e+" leaflet-bar"),i=this.options;return this._zoomInButton=this._createButton(i.zoomInText,i.zoomInTitle,e+"-in",n,this._zoomIn),this._zoomOutButton=this._createButton(i.zoomOutText,i.zoomOutTitle,e+"-out",n,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),n},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,e,n,i,o){var r=le("a",n,i);return r.innerHTML=t,r.href="#",r.title=e,r.setAttribute("role","button"),r.setAttribute("aria-label",e),je(r),Re(r,"click",Ve),Re(r,"click",o,this),Re(r,"click",this._refocusOnMap,this),r},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";ge(this._zoomInButton,e),ge(this._zoomOutButton,e),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||t._zoom===t.getMinZoom())&&(fe(this._zoomOutButton,e),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||t._zoom===t.getMaxZoom())&&(fe(this._zoomInButton,e),this._zoomInButton.setAttribute("aria-disabled","true"))}});qe.mergeOptions({zoomControl:!0}),qe.addInitHook((function(){this.options.zoomControl&&(this.zoomControl=new en,this.addControl(this.zoomControl))}));var nn=Je.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var e="leaflet-control-scale",n=le("div",e),i=this.options;return this._addScales(i,e+"-line",n),t.on(i.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),n},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,n){t.metric&&(this._mScale=le("div",e,n)),t.imperial&&(this._iScale=le("div",e,n))},_update:function(){var t=this._map,e=t.getSize().y/2,n=t.distance(t.containerPointToLatLng([0,e]),t.containerPointToLatLng([this.options.maxWidth,e]));this._updateScales(n)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var e=this._getRoundNum(t),n=e<1e3?e+" m":e/1e3+" km";this._updateScale(this._mScale,n,e/t)},_updateImperial:function(t){var e,n,i,o=3.2808399*t;o>5280?(e=o/5280,n=this._getRoundNum(e),this._updateScale(this._iScale,n+" mi",n/e)):(i=this._getRoundNum(o),this._updateScale(this._iScale,i+" ft",i/o))},_updateScale:function(t,e,n){t.style.width=Math.round(this.options.maxWidth*n)+"px",t.innerHTML=e},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),n=t/e;return e*(n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1)}}),on=Je.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ft.inlineSvg?'<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg> ':"")+"Leaflet</a>"},initialize:function(t){g(this,t),this._attributions={}},onAdd:function(t){for(var e in t.attributionControl=this,this._container=le("div","leaflet-control-attribution"),je(this._container),t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return this._update(),t.on("layeradd",this._addAttribution,this),this._container},onRemove:function(t){t.off("layeradd",this._addAttribution,this)},_addAttribution:function(t){t.layer.getAttribution&&(this.addAttribution(t.layer.getAttribution()),t.layer.once("remove",(function(){this.removeAttribution(t.layer.getAttribution())}),this))},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions[e]&&t.push(e);var n=[];this.options.prefix&&n.push(this.options.prefix),t.length&&n.push(t.join(", ")),this._container.innerHTML=n.join(' <span aria-hidden="true">|</span> ')}}});qe.mergeOptions({attributionControl:!0}),qe.addInitHook((function(){this.options.attributionControl&&(new on).addTo(this)}));Je.Layers=tn,Je.Zoom=en,Je.Scale=nn,Je.Attribution=on,Qe.layers=function(t,e,n){return new tn(t,e,n)},Qe.zoom=function(t){return new en(t)},Qe.scale=function(t){return new nn(t)},Qe.attribution=function(t){return new on(t)};var rn=D.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});rn.addTo=function(t,e){return t.addHandler(e,this),this};var sn,an={Events:R},ln=Ft.touch?"touchstart mousedown":"mousedown",cn=A.extend({options:{clickTolerance:3},initialize:function(t,e,n,i){g(this,i),this._element=t,this._dragStartTarget=e||t,this._preventOutline=n},enable:function(){this._enabled||(Re(this._dragStartTarget,ln,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(cn._dragging===this&&this.finishDrag(!0),Le(this._dragStartTarget,ln,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(this._enabled&&(this._moved=!1,!pe(this._element,"leaflet-zoom-anim")))if(t.touches&&1!==t.touches.length)cn._dragging===this&&this.finishDrag();else if(!(cn._dragging||t.shiftKey||1!==t.which&&1!==t.button&&!t.touches||(cn._dragging=this,this._preventOutline&&xe(this._element),we(),Jt(),this._moving))){this.fire("down");var e=t.touches?t.touches[0]:t,n=Te(this._element);this._startPoint=new I(e.clientX,e.clientY),this._startPos=Ee(this._element),this._parentScale=Me(n);var i="mousedown"===t.type;Re(document,i?"mousemove":"touchmove",this._onMove,this),Re(document,i?"mouseup":"touchend touchcancel",this._onUp,this)}},_onMove:function(t){if(this._enabled)if(t.touches&&t.touches.length>1)this._moved=!0;else{var e=t.touches&&1===t.touches.length?t.touches[0]:t,n=new I(e.clientX,e.clientY)._subtract(this._startPoint);(n.x||n.y)&&(Math.abs(n.x)+Math.abs(n.y)<this.options.clickTolerance||(n.x/=this._parentScale.x,n.y/=this._parentScale.y,Ue(t),this._moved||(this.fire("dragstart"),this._moved=!0,fe(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),fe(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(n),this._moving=!0,this._lastEvent=t,this._updatePosition()))}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),be(this._element,this._newPos),this.fire("drag",t)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(t){ge(document.body,"leaflet-dragging"),this._lastTarget&&(ge(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Le(document,"mousemove touchmove",this._onMove,this),Le(document,"mouseup touchend touchcancel",this._onUp,this),Oe(),Qt(),this._moved&&this._moving&&this.fire("dragend",{noInertia:t,distance:this._newPos.distanceTo(this._startPos)}),this._moving=!1,cn._dragging=!1}});function un(t,e){if(!e||!t.length)return t.slice();var n=e*e;return t=function(t,e){for(var n=[t[0]],i=1,o=0,r=t.length;i<r;i++)mn(t[i],t[o])>e&&(n.push(t[i]),o=i);o<r-1&&n.push(t[r-1]);return n}(t,n),t=function(t,e){var n=t.length,i=new(typeof Uint8Array!=void 0+""?Uint8Array:Array)(n);i[0]=i[n-1]=1,dn(t,i,e,0,n-1);var o,r=[];for(o=0;o<n;o++)i[o]&&r.push(t[o]);return r}(t,n),t}function hn(t,e,n){return Math.sqrt(_n(t,e,n,!0))}function dn(t,e,n,i,o){var r,s,a,l=0;for(s=i+1;s<=o-1;s++)(a=_n(t[s],t[i],t[o],!0))>l&&(r=s,l=a);l>n&&(e[r]=1,dn(t,e,n,i,r),dn(t,e,n,r,o))}function pn(t,e,n,i,o){var r,s,a,l=i?sn:gn(t,n),c=gn(e,n);for(sn=c;;){if(!(l|c))return[t,e];if(l&c)return!1;a=gn(s=fn(t,e,r=l||c,n,o),n),r===l?(t=s,l=a):(e=s,c=a)}}function fn(t,e,n,i,o){var r,s,a=e.x-t.x,l=e.y-t.y,c=i.min,u=i.max;return 8&n?(r=t.x+a*(u.y-t.y)/l,s=u.y):4&n?(r=t.x+a*(c.y-t.y)/l,s=c.y):2&n?(r=u.x,s=t.y+l*(u.x-t.x)/a):1&n&&(r=c.x,s=t.y+l*(c.x-t.x)/a),new I(r,s,o)}function gn(t,e){var n=0;return t.x<e.min.x?n|=1:t.x>e.max.x&&(n|=2),t.y<e.min.y?n|=4:t.y>e.max.y&&(n|=8),n}function mn(t,e){var n=e.x-t.x,i=e.y-t.y;return n*n+i*i}function _n(t,e,n,i){var o,r=e.x,s=e.y,a=n.x-r,l=n.y-s,c=a*a+l*l;return c>0&&((o=((t.x-r)*a+(t.y-s)*l)/c)>1?(r=n.x,s=n.y):o>0&&(r+=a*o,s+=l*o)),a=t.x-r,l=t.y-s,i?a*a+l*l:new I(r,s)}function yn(t){return!v(t[0])||"object"!=typeof t[0][0]&&void 0!==t[0][0]}function vn(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),yn(t)}function Cn(t,e){var n,i,o,r,s,a,l,c;if(!t||0===t.length)throw new Error("latlngs not passed");yn(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var u=[];for(var h in t)u.push(e.project(V(t[h])));var d=u.length;for(n=0,i=0;n<d-1;n++)i+=u[n].distanceTo(u[n+1])/2;if(0===i)c=u[0];else for(n=0,r=0;n<d-1;n++)if(s=u[n],a=u[n+1],(r+=o=s.distanceTo(a))>i){l=(r-i)/o,c=[a.x-l*(a.x-s.x),a.y-l*(a.y-s.y)];break}return e.unproject(N(c))}var bn={__proto__:null,simplify:un,pointToSegmentDistance:hn,closestPointOnSegment:function(t,e,n){return _n(t,e,n)},clipSegment:pn,_getEdgeIntersection:fn,_getBitCode:gn,_sqClosestPointOnSegment:_n,isFlat:yn,_flat:vn,polylineCenter:Cn};function En(t,e,n){var i,o,r,s,a,l,c,u,h,d=[1,4,2,8];for(o=0,c=t.length;o<c;o++)t[o]._code=gn(t[o],e);for(s=0;s<4;s++){for(u=d[s],i=[],o=0,r=(c=t.length)-1;o<c;r=o++)a=t[o],l=t[r],a._code&u?l._code&u||((h=fn(l,a,u,e,n))._code=gn(h,e),i.push(h)):(l._code&u&&((h=fn(l,a,u,e,n))._code=gn(h,e),i.push(h)),i.push(a));t=i}return t}function Sn(t,e){var n,i,o,r,s,a,l,c,u;if(!t||0===t.length)throw new Error("latlngs not passed");yn(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var h=[];for(var d in t)h.push(e.project(V(t[d])));var p=h.length;for(a=l=c=0,n=0,i=p-1;n<p;i=n++)o=h[n],r=h[i],s=o.y*r.x-r.y*o.x,l+=(o.x+r.x)*s,c+=(o.y+r.y)*s,a+=3*s;return u=0===a?h[0]:[l/a,c/a],e.unproject(N(u))}var wn={__proto__:null,clipPolygon:En,polygonCenter:Sn},On={project:function(t){return new I(t.lng,t.lat)},unproject:function(t){return new U(t.y,t.x)},bounds:new F([-180,-90],[180,90])},xn={R:6378137,R_MINOR:6356752.314245179,bounds:new F([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(t){var e=Math.PI/180,n=this.R,i=t.lat*e,o=this.R_MINOR/n,r=Math.sqrt(1-o*o),s=r*Math.sin(i),a=Math.tan(Math.PI/4-i/2)/Math.pow((1-s)/(1+s),r/2);return i=-n*Math.log(Math.max(a,1e-10)),new I(t.lng*e*n,i)},unproject:function(t){for(var e,n=180/Math.PI,i=this.R,o=this.R_MINOR/i,r=Math.sqrt(1-o*o),s=Math.exp(-t.y/i),a=Math.PI/2-2*Math.atan(s),l=0,c=.1;l<15&&Math.abs(c)>1e-7;l++)e=r*Math.sin(a),e=Math.pow((1-e)/(1+e),r/2),a+=c=Math.PI/2-2*Math.atan(s*e)-a;return new U(a*n,t.x*n/i)}},Pn={__proto__:null,LonLat:On,Mercator:xn,SphericalMercator:K},Tn=o({},$,{code:"EPSG:3395",projection:xn,transformation:function(){var t=.5/(Math.PI*xn.R);return X(t,.5,-t,.5)}()}),Mn=o({},$,{code:"EPSG:4326",projection:On,transformation:X(1/180,1,-1/180,.5)}),Dn=o({},H,{projection:On,transformation:X(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,e){var n=e.lng-t.lng,i=e.lat-t.lat;return Math.sqrt(n*n+i*i)},infinite:!0});H.Earth=$,H.EPSG3395=Tn,H.EPSG3857=q,H.EPSG900913=Z,H.EPSG4326=Mn,H.Simple=Dn;var Rn=A.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[l(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[l(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var e=t.target;if(e.hasLayer(this)){if(this._map=e,this._zoomAnimated=e._zoomAnimated,this.getEvents){var n=this.getEvents();e.on(n,this),this.once("remove",(function(){e.off(n,this)}),this)}this.onAdd(e),this.fire("add"),e.fire("layeradd",{layer:this})}}});qe.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var e=l(t);return this._layers[e]||(this._layers[e]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t)),this},removeLayer:function(t){var e=l(t);return this._layers[e]?(this._loaded&&t.onRemove(this),delete this._layers[e],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return l(t)in this._layers},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},_addLayers:function(t){for(var e=0,n=(t=t?v(t)?t:[t]:[]).length;e<n;e++)this.addLayer(t[e])},_addZoomLimit:function(t){isNaN(t.options.maxZoom)&&isNaN(t.options.minZoom)||(this._zoomBoundLayers[l(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var e=l(t);this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,e=-1/0,n=this._getZoomSpan();for(var i in this._zoomBoundLayers){var o=this._zoomBoundLayers[i].options;t=void 0===o.minZoom?t:Math.min(t,o.minZoom),e=void 0===o.maxZoom?e:Math.max(e,o.maxZoom)}this._layersMaxZoom=e===-1/0?void 0:e,this._layersMinZoom=t===1/0?void 0:t,n!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var An=Rn.extend({initialize:function(t,e){var n,i;if(g(this,e),this._layers={},t)for(n=0,i=t.length;n<i;n++)this.addLayer(t[n])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(t){return("number"==typeof t?t:this.getLayerId(t))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var e,n,i=Array.prototype.slice.call(arguments,1);for(e in this._layers)(n=this._layers[e])[t]&&n[t].apply(n,i);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return l(t)}}),Ln=function(t,e){return new An(t,e)},In=An.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),An.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),An.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new B;for(var e in this._layers){var n=this._layers[e];t.extend(n.getBounds?n.getBounds():n.getLatLng())}return t}}),kn=function(t,e){return new In(t,e)},Nn=D.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(t){g(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var n=this._getIconUrl(t);if(!n){if("icon"===t)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var i=this._createImg(n,e&&"IMG"===e.tagName?e:null);return this._setIconStyles(i,t),(this.options.crossOrigin||""===this.options.crossOrigin)&&(i.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),i},_setIconStyles:function(t,e){var n=this.options,i=n[e+"Size"];"number"==typeof i&&(i=[i,i]);var o=N(i),r=N("shadow"===e&&n.shadowAnchor||n.iconAnchor||o&&o.divideBy(2,!0));t.className="leaflet-marker-"+e+" "+(n.className||""),r&&(t.style.marginLeft=-r.x+"px",t.style.marginTop=-r.y+"px"),o&&(t.style.width=o.x+"px",t.style.height=o.y+"px")},_createImg:function(t,e){return(e=e||document.createElement("img")).src=t,e},_getIconUrl:function(t){return Ft.retina&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}});function Fn(t){return new Nn(t)}var Gn=Nn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return"string"!=typeof Gn.imagePath&&(Gn.imagePath=this._detectIconPath()),(this.options.imagePath||Gn.imagePath)+Nn.prototype._getIconUrl.call(this,t)},_stripUrl:function(t){var e=function(t,e,n){var i=e.exec(t);return i&&i[n]};return(t=e(t,/^url\((['"])?(.+)\1\)$/,2))&&e(t,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var t=le("div","leaflet-default-icon-path",document.body),e=ae(t,"background-image")||ae(t,"backgroundImage");if(document.body.removeChild(t),e=this._stripUrl(e))return e;var n=document.querySelector('link[href$="leaflet.css"]');return n?n.href.substring(0,n.href.length-11-1):""}}),Bn=rn.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new cn(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),fe(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&ge(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var e=this._marker,n=e._map,i=this._marker.options.autoPanSpeed,o=this._marker.options.autoPanPadding,r=Ee(e._icon),s=n.getPixelBounds(),a=n.getPixelOrigin(),l=G(s.min._subtract(a).add(o),s.max._subtract(a).subtract(o));if(!l.contains(r)){var c=N((Math.max(l.max.x,r.x)-l.max.x)/(s.max.x-l.max.x)-(Math.min(l.min.x,r.x)-l.min.x)/(s.min.x-l.min.x),(Math.max(l.max.y,r.y)-l.max.y)/(s.max.y-l.max.y)-(Math.min(l.min.y,r.y)-l.min.y)/(s.min.y-l.min.y)).multiplyBy(i);n.panBy(c,{animate:!1}),this._draggable._newPos._add(c),this._draggable._startPos._add(c),be(e._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=P(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(T(this._panRequest),this._panRequest=P(this._adjustPan.bind(this,t)))},_onDrag:function(t){var e=this._marker,n=e._shadow,i=Ee(e._icon),o=e._map.layerPointToLatLng(i);n&&be(n,i),e._latlng=o,t.latlng=o,t.oldLatLng=this._oldLatLng,e.fire("move",t).fire("drag",t)},_onDragEnd:function(t){T(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),jn=Rn.extend({options:{icon:new Gn,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,e){g(this,e),this._latlng=V(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var e=this._latlng;return this._latlng=V(t),this.update(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,e="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),n=t.icon.createIcon(this._icon),i=!1;n!==this._icon&&(this._icon&&this._removeIcon(),i=!0,t.title&&(n.title=t.title),"IMG"===n.tagName&&(n.alt=t.alt||"")),fe(n,e),t.keyboard&&(n.tabIndex="0",n.setAttribute("role","button")),this._icon=n,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Re(n,"focus",this._panOnFocus,this);var o=t.icon.createShadow(this._shadow),r=!1;o!==this._shadow&&(this._removeShadow(),r=!0),o&&(fe(o,e),o.alt=""),this._shadow=o,t.opacity<1&&this._updateOpacity(),i&&this.getPane().appendChild(this._icon),this._initInteraction(),o&&r&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Le(this._icon,"focus",this._panOnFocus,this),ce(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ce(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&be(this._icon,t),this._shadow&&be(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(this.options.interactive&&(fe(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Bn)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Bn(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&ye(this._icon,t),this._shadow&&ye(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var t=this._map;if(t){var e=this.options.icon.options,n=e.iconSize?N(e.iconSize):N(0,0),i=e.iconAnchor?N(e.iconAnchor):N(0,0);t.panInside(this._latlng,{paddingTopLeft:i,paddingBottomRight:n.subtract(i)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Un(t,e){return new jn(t,e)}var Vn=Rn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return g(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&Object.prototype.hasOwnProperty.call(t,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Wn=Vn.extend({options:{fill:!0,radius:10},initialize:function(t,e){g(this,e),this._latlng=V(t),this._radius=this.options.radius},setLatLng:function(t){var e=this._latlng;return this._latlng=V(t),this.redraw(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var e=t&&t.radius||this._radius;return Vn.prototype.setStyle.call(this,t),this.setRadius(e),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,e=this._radiusY||t,n=this._clickTolerance(),i=[t+n,e+n];this._pxBounds=new F(this._point.subtract(i),this._point.add(i))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Hn(t,e){return new Wn(t,e)}var $n=Wn.extend({initialize:function(t,e,n){if("number"==typeof e&&(e=o({},n,{radius:e})),g(this,e),this._latlng=V(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new B(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:Vn.prototype.setStyle,_project:function(){var t=this._latlng.lng,e=this._latlng.lat,n=this._map,i=n.options.crs;if(i.distance===$.distance){var o=Math.PI/180,r=this._mRadius/$.R/o,s=n.project([e+r,t]),a=n.project([e-r,t]),l=s.add(a).divideBy(2),c=n.unproject(l).lat,u=Math.acos((Math.cos(r*o)-Math.sin(e*o)*Math.sin(c*o))/(Math.cos(e*o)*Math.cos(c*o)))/o;(isNaN(u)||0===u)&&(u=r/Math.cos(Math.PI/180*e)),this._point=l.subtract(n.getPixelOrigin()),this._radius=isNaN(u)?0:l.x-n.project([c,t-u]).x,this._radiusY=l.y-s.y}else{var h=i.unproject(i.project(this._latlng).subtract([this._mRadius,0]));this._point=n.latLngToLayerPoint(this._latlng),this._radius=this._point.x-n.latLngToLayerPoint(h).x}this._updateBounds()}});function zn(t,e,n){return new $n(t,e,n)}var Kn=Vn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,e){g(this,e),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var e,n,i=1/0,o=null,r=_n,s=0,a=this._parts.length;s<a;s++)for(var l=this._parts[s],c=1,u=l.length;c<u;c++){var h=r(t,e=l[c-1],n=l[c],!0);h<i&&(i=h,o=r(t,e,n))}return o&&(o.distance=Math.sqrt(i)),o},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Cn(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(t,e){return e=e||this._defaultShape(),t=V(t),e.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new B,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return yn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var e=[],n=yn(t),i=0,o=t.length;i<o;i++)n?(e[i]=V(t[i]),this._bounds.extend(e[i])):e[i]=this._convertLatLngs(t[i]);return e},_project:function(){var t=new F;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),e=new I(t,t);this._rawPxBounds&&(this._pxBounds=new F([this._rawPxBounds.min.subtract(e),this._rawPxBounds.max.add(e)]))},_projectLatlngs:function(t,e,n){var i,o,r=t[0]instanceof U,s=t.length;if(r){for(o=[],i=0;i<s;i++)o[i]=this._map.latLngToLayerPoint(t[i]),n.extend(o[i]);e.push(o)}else for(i=0;i<s;i++)this._projectLatlngs(t[i],e,n)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else{var e,n,i,o,r,s,a,l=this._parts;for(e=0,i=0,o=this._rings.length;e<o;e++)for(n=0,r=(a=this._rings[e]).length;n<r-1;n++)(s=pn(a[n],a[n+1],t,n,!0))&&(l[i]=l[i]||[],l[i].push(s[0]),s[1]===a[n+1]&&n!==r-2||(l[i].push(s[1]),i++))}},_simplifyPoints:function(){for(var t=this._parts,e=this.options.smoothFactor,n=0,i=t.length;n<i;n++)t[n]=un(t[n],e)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,e){var n,i,o,r,s,a,l=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(n=0,r=this._parts.length;n<r;n++)for(i=0,o=(s=(a=this._parts[n]).length)-1;i<s;o=i++)if((e||0!==i)&&hn(t,a[o],a[i])<=l)return!0;return!1}});function Yn(t,e){return new Kn(t,e)}Kn._flat=vn;var Xn=Kn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Sn(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(t){var e=Kn.prototype._convertLatLngs.call(this,t),n=e.length;return n>=2&&e[0]instanceof U&&e[0].equals(e[n-1])&&e.pop(),e},_setLatLngs:function(t){Kn.prototype._setLatLngs.call(this,t),yn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return yn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,e=this.options.weight,n=new I(e,e);if(t=new F(t.min.subtract(n),t.max.add(n)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else for(var i,o=0,r=this._rings.length;o<r;o++)(i=En(this._rings[o],t,!0)).length&&this._parts.push(i)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var e,n,i,o,r,s,a,l,c=!1;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(o=0,a=this._parts.length;o<a;o++)for(r=0,s=(l=(e=this._parts[o]).length)-1;r<l;s=r++)n=e[r],i=e[s],n.y>t.y!=i.y>t.y&&t.x<(i.x-n.x)*(t.y-n.y)/(i.y-n.y)+n.x&&(c=!c);return c||Kn.prototype._containsPoint.call(this,t,!0)}});function qn(t,e){return new Xn(t,e)}var Zn=In.extend({initialize:function(t,e){g(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e,n,i,o=v(t)?t:t.features;if(o){for(e=0,n=o.length;e<n;e++)((i=o[e]).geometries||i.geometry||i.features||i.coordinates)&&this.addData(i);return this}var r=this.options;if(r.filter&&!r.filter(t))return this;var s=Jn(t,r);return s?(s.feature=ri(t),s.defaultOptions=s.options,this.resetStyle(s),r.onEachFeature&&r.onEachFeature(t,s),this.addLayer(s)):this},resetStyle:function(t){return void 0===t?this.eachLayer(this.resetStyle,this):(t.options=o({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(t){return this.eachLayer((function(e){this._setLayerStyle(e,t)}),this)},_setLayerStyle:function(t,e){t.setStyle&&("function"==typeof e&&(e=e(t.feature)),t.setStyle(e))}});function Jn(t,e){var n,i,o,r,s="Feature"===t.type?t.geometry:t,a=s?s.coordinates:null,l=[],c=e&&e.pointToLayer,u=e&&e.coordsToLatLng||ti;if(!a&&!s)return null;switch(s.type){case"Point":return Qn(c,t,n=u(a),e);case"MultiPoint":for(o=0,r=a.length;o<r;o++)n=u(a[o]),l.push(Qn(c,t,n,e));return new In(l);case"LineString":case"MultiLineString":return i=ei(a,"LineString"===s.type?0:1,u),new Kn(i,e);case"Polygon":case"MultiPolygon":return i=ei(a,"Polygon"===s.type?1:2,u),new Xn(i,e);case"GeometryCollection":for(o=0,r=s.geometries.length;o<r;o++){var h=Jn({geometry:s.geometries[o],type:"Feature",properties:t.properties},e);h&&l.push(h)}return new In(l);case"FeatureCollection":for(o=0,r=s.features.length;o<r;o++){var d=Jn(s.features[o],e);d&&l.push(d)}return new In(l);default:throw new Error("Invalid GeoJSON object.")}}function Qn(t,e,n,i){return t?t(e,n):new jn(n,i&&i.markersInheritOptions&&i)}function ti(t){return new U(t[1],t[0],t[2])}function ei(t,e,n){for(var i,o=[],r=0,s=t.length;r<s;r++)i=e?ei(t[r],e-1,n):(n||ti)(t[r]),o.push(i);return o}function ni(t,e){return void 0!==(t=V(t)).alt?[d(t.lng,e),d(t.lat,e),d(t.alt,e)]:[d(t.lng,e),d(t.lat,e)]}function ii(t,e,n,i){for(var o=[],r=0,s=t.length;r<s;r++)o.push(e?ii(t[r],yn(t[r])?0:e-1,n,i):ni(t[r],i));return!e&&n&&o.push(o[0].slice()),o}function oi(t,e){return t.feature?o({},t.feature,{geometry:e}):ri(e)}function ri(t){return"Feature"===t.type||"FeatureCollection"===t.type?t:{type:"Feature",properties:{},geometry:t}}var si={toGeoJSON:function(t){return oi(this,{type:"Point",coordinates:ni(this.getLatLng(),t)})}};function ai(t,e){return new Zn(t,e)}jn.include(si),$n.include(si),Wn.include(si),Kn.include({toGeoJSON:function(t){var e=!yn(this._latlngs);return oi(this,{type:(e?"Multi":"")+"LineString",coordinates:ii(this._latlngs,e?1:0,!1,t)})}}),Xn.include({toGeoJSON:function(t){var e=!yn(this._latlngs),n=e&&!yn(this._latlngs[0]),i=ii(this._latlngs,n?2:e?1:0,!0,t);return e||(i=[i]),oi(this,{type:(n?"Multi":"")+"Polygon",coordinates:i})}}),An.include({toMultiPoint:function(t){var e=[];return this.eachLayer((function(n){e.push(n.toGeoJSON(t).geometry.coordinates)})),oi(this,{type:"MultiPoint",coordinates:e})},toGeoJSON:function(t){var e=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===e)return this.toMultiPoint(t);var n="GeometryCollection"===e,i=[];return this.eachLayer((function(e){if(e.toGeoJSON){var o=e.toGeoJSON(t);if(n)i.push(o.geometry);else{var r=ri(o);"FeatureCollection"===r.type?i.push.apply(i,r.features):i.push(r)}}})),n?oi(this,{geometries:i,type:"GeometryCollection"}):{type:"FeatureCollection",features:i}}});var li=ai,ci=Rn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,e,n){this._url=t,this._bounds=j(e),g(this,n)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(fe(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ce(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&he(this._image),this},bringToBack:function(){return this._map&&de(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=j(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t="IMG"===this._url.tagName,e=this._image=t?this._url:le("img");fe(e,"leaflet-image-layer"),this._zoomAnimated&&fe(e,"leaflet-zoom-animated"),this.options.className&&fe(e,this.options.className),e.onselectstart=h,e.onmousemove=h,e.onload=s(this.fire,this,"load"),e.onerror=s(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(e.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t?this._url=e.src:(e.src=this._url,e.alt=this.options.alt)},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),n=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;Ce(this._image,n,e)},_reset:function(){var t=this._image,e=new F(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),n=e.getSize();be(t,e.min),t.style.width=n.x+"px",t.style.height=n.y+"px"},_updateOpacity:function(){ye(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)},getCenter:function(){return this._bounds.getCenter()}}),ui=function(t,e,n){return new ci(t,e,n)},hi=ci.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var t="VIDEO"===this._url.tagName,e=this._image=t?this._url:le("video");if(fe(e,"leaflet-image-layer"),this._zoomAnimated&&fe(e,"leaflet-zoom-animated"),this.options.className&&fe(e,this.options.className),e.onselectstart=h,e.onmousemove=h,e.onloadeddata=s(this.fire,this,"load"),t){for(var n=e.getElementsByTagName("source"),i=[],o=0;o<n.length;o++)i.push(n[o].src);this._url=n.length>0?i:[e.src]}else{v(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(e.style,"objectFit")&&(e.style.objectFit="fill"),e.autoplay=!!this.options.autoplay,e.loop=!!this.options.loop,e.muted=!!this.options.muted,e.playsInline=!!this.options.playsInline;for(var r=0;r<this._url.length;r++){var a=le("source");a.src=this._url[r],e.appendChild(a)}}}});function di(t,e,n){return new hi(t,e,n)}var pi=ci.extend({_initImage:function(){var t=this._image=this._url;fe(t,"leaflet-image-layer"),this._zoomAnimated&&fe(t,"leaflet-zoom-animated"),this.options.className&&fe(t,this.options.className),t.onselectstart=h,t.onmousemove=h}});function fi(t,e,n){return new pi(t,e,n)}var gi=Rn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(t,e){t&&(t instanceof U||v(t))?(this._latlng=V(t),g(this,e)):(g(this,t),this._source=e),this.options.content&&(this._content=this.options.content)},openOn:function(t){return(t=arguments.length?t:this._source._map).hasLayer(this)||t.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(t){return this._map?this.close():(arguments.length?this._source=t:t=this._source,this._prepareOpen(),this.openOn(t._map)),this},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&ye(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&ye(this._container,1),this.bringToFront(),this.options.interactive&&(fe(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(t){t._fadeAnimated?(ye(this._container,0),this._removeTimeout=setTimeout(s(ce,void 0,this._container),200)):ce(this._container),this.options.interactive&&(ge(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=V(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&he(this._container),this},bringToBack:function(){return this._map&&de(this._container),this},_prepareOpen:function(t){var e=this._source;if(!e._map)return!1;if(e instanceof In){e=null;var n=this._source._layers;for(var i in n)if(n[i]._map){e=n[i];break}if(!e)return!1;this._source=e}if(!t)if(e.getCenter)t=e.getCenter();else if(e.getLatLng)t=e.getLatLng();else{if(!e.getBounds)throw new Error("Unable to get source layer LatLng.");t=e.getBounds().getCenter()}return this.setLatLng(t),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var t=this._contentNode,e="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof e)t.innerHTML=e;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(e)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=N(this.options.offset),n=this._getAnchor();this._zoomAnimated?be(this._container,t.add(n)):e=e.add(t).add(n);var i=this._containerBottom=-e.y,o=this._containerLeft=-Math.round(this._containerWidth/2)+e.x;this._container.style.bottom=i+"px",this._container.style.left=o+"px"}},_getAnchor:function(){return[0,0]}});qe.include({_initOverlay:function(t,e,n,i){var o=e;return o instanceof t||(o=new t(i).setContent(e)),n&&o.setLatLng(n),o}}),Rn.include({_initOverlay:function(t,e,n,i){var o=n;return o instanceof t?(g(o,i),o._source=this):(o=e&&!i?e:new t(i,this)).setContent(n),o}});var mi=gi.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return!(t=arguments.length?t:this._source._map).hasLayer(this)&&t._popup&&t._popup.options.autoClose&&t.removeLayer(t._popup),t._popup=this,gi.prototype.openOn.call(this,t)},onAdd:function(t){gi.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Vn||this._source.on("preclick",Ge))},onRemove:function(t){gi.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Vn||this._source.off("preclick",Ge))},getEvents:function(){var t=gi.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this.close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_initLayout:function(){var t="leaflet-popup",e=this._container=le("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),n=this._wrapper=le("div",t+"-content-wrapper",e);if(this._contentNode=le("div",t+"-content",n),je(e),Be(this._contentNode),Re(e,"contextmenu",Ge),this._tipContainer=le("div",t+"-tip-container",e),this._tip=le("div",t+"-tip",this._tipContainer),this.options.closeButton){var i=this._closeButton=le("a",t+"-close-button",e);i.setAttribute("role","button"),i.setAttribute("aria-label","Close popup"),i.href="#close",i.innerHTML='<span aria-hidden="true">&#215;</span>',Re(i,"click",(function(t){Ue(t),this.close()}),this)}},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var n=t.offsetWidth;n=Math.min(n,this.options.maxWidth),n=Math.max(n,this.options.minWidth),e.width=n+1+"px",e.whiteSpace="",e.height="";var i=t.offsetHeight,o=this.options.maxHeight,r="leaflet-popup-scrolled";o&&i>o?(e.height=o+"px",fe(t,r)):ge(t,r),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),n=this._getAnchor();be(this._container,e.add(n))},_adjustPan:function(){if(this.options.autoPan)if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning)this._autopanning=!1;else{var t=this._map,e=parseInt(ae(this._container,"marginBottom"),10)||0,n=this._container.offsetHeight+e,i=this._containerWidth,o=new I(this._containerLeft,-n-this._containerBottom);o._add(Ee(this._container));var r=t.layerPointToContainerPoint(o),s=N(this.options.autoPanPadding),a=N(this.options.autoPanPaddingTopLeft||s),l=N(this.options.autoPanPaddingBottomRight||s),c=t.getSize(),u=0,h=0;r.x+i+l.x>c.x&&(u=r.x+i-c.x+l.x),r.x-u-a.x<0&&(u=r.x-a.x),r.y+n+l.y>c.y&&(h=r.y+n-c.y+l.y),r.y-h-a.y<0&&(h=r.y-a.y),(u||h)&&(this.options.keepInView&&(this._autopanning=!0),t.fire("autopanstart").panBy([u,h]))}},_getAnchor:function(){return N(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),_i=function(t,e){return new mi(t,e)};qe.mergeOptions({closePopupOnClick:!0}),qe.include({openPopup:function(t,e,n){return this._initOverlay(mi,t,e,n).openOn(this),this},closePopup:function(t){return(t=arguments.length?t:this._popup)&&t.close(),this}}),Rn.include({bindPopup:function(t,e){return this._popup=this._initOverlay(mi,this._popup,t,e),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t){return this._popup&&(this instanceof In||(this._popup._source=this),this._popup._prepareOpen(t||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){if(this._popup&&this._map){Ve(t);var e=t.layer||t.target;this._popup._source!==e||e instanceof Vn?(this._popup._source=e,this.openPopup(t.latlng)):this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(t.latlng)}},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){13===t.originalEvent.keyCode&&this._openPopup(t)}});var yi=gi.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(t){gi.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(t){gi.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var t=gi.prototype.getEvents.call(this);return this.options.permanent||(t.preclick=this.close),t},_initLayout:function(){var t="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=le("div",t),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+l(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var e,n,i=this._map,o=this._container,r=i.latLngToContainerPoint(i.getCenter()),s=i.layerPointToContainerPoint(t),a=this.options.direction,l=o.offsetWidth,c=o.offsetHeight,u=N(this.options.offset),h=this._getAnchor();"top"===a?(e=l/2,n=c):"bottom"===a?(e=l/2,n=0):"center"===a?(e=l/2,n=c/2):"right"===a?(e=0,n=c/2):"left"===a?(e=l,n=c/2):s.x<r.x?(a="right",e=0,n=c/2):(a="left",e=l+2*(u.x+h.x),n=c/2),t=t.subtract(N(e,n,!0)).add(u).add(h),ge(o,"leaflet-tooltip-right"),ge(o,"leaflet-tooltip-left"),ge(o,"leaflet-tooltip-top"),ge(o,"leaflet-tooltip-bottom"),fe(o,"leaflet-tooltip-"+a),be(o,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&ye(this._container,t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(e)},_getAnchor:function(){return N(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),vi=function(t,e){return new yi(t,e)};qe.include({openTooltip:function(t,e,n){return this._initOverlay(yi,t,e,n).openOn(this),this},closeTooltip:function(t){return t.close(),this}}),Rn.include({bindTooltip:function(t,e){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(yi,this._tooltip,t,e),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(t||!this._tooltipHandlersAdded){var e=t?"off":"on",n={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?n.add=this._openTooltip:(n.mouseover=this._openTooltip,n.mouseout=this.closeTooltip,n.click=this._openTooltip,this._map?this._addFocusListeners():n.add=this._addFocusListeners),this._tooltip.options.sticky&&(n.mousemove=this._moveTooltip),this[e](n),this._tooltipHandlersAdded=!t}},openTooltip:function(t){return this._tooltip&&(this instanceof In||(this._tooltip._source=this),this._tooltip._prepareOpen(t)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(t){var e=t.getElement();e&&(Re(e,"focus",(function(){this._tooltip._source=t,this.openTooltip()}),this),Re(e,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(t){var e=t.getElement();e&&e.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(t){!this._tooltip||!this._map||this._map.dragging&&this._map.dragging.moving()||(this._tooltip._source=t.layer||t.target,this.openTooltip(this._tooltip.options.sticky?t.latlng:void 0))},_moveTooltip:function(t){var e,n,i=t.latlng;this._tooltip.options.sticky&&t.originalEvent&&(e=this._map.mouseEventToContainerPoint(t.originalEvent),n=this._map.containerPointToLayerPoint(e),i=this._map.layerPointToLatLng(n)),this._tooltip.setLatLng(i)}});var Ci=Nn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var e=t&&"DIV"===t.tagName?t:document.createElement("div"),n=this.options;if(n.html instanceof Element?(ue(e),e.appendChild(n.html)):e.innerHTML=!1!==n.html?n.html:"",n.bgPos){var i=N(n.bgPos);e.style.backgroundPosition=-i.x+"px "+-i.y+"px"}return this._setIconStyles(e,"icon"),e},createShadow:function(){return null}});function bi(t){return new Ci(t)}Nn.Default=Gn;var Ei=Rn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ft.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){g(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),ce(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(he(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(de(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var t=this._clampZoom(this._map.getZoom());t!==this._tileZoom&&(this._tileZoom=t,this._updateLevels()),this._update()}return this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=c(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof I?t:new I(t,t)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var e,n=this.getPane().children,i=-t(-1/0,1/0),o=0,r=n.length;o<r;o++)e=n[o].style.zIndex,n[o]!==this._container&&e&&(i=t(i,+e));isFinite(i)&&(this.options.zIndex=i+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ft.ielt9){ye(this._container,this.options.opacity);var t=+new Date,e=!1,n=!1;for(var i in this._tiles){var o=this._tiles[i];if(o.current&&o.loaded){var r=Math.min(1,(t-o.loaded)/200);ye(o.el,r),r<1?e=!0:(o.active?n=!0:this._onOpaqueTile(o),o.active=!0)}}n&&!this._noPrune&&this._pruneTiles(),e&&(T(this._fadeFrame),this._fadeFrame=P(this._updateOpacity,this))}},_onOpaqueTile:h,_initContainer:function(){this._container||(this._container=le("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,e=this.options.maxZoom;if(void 0!==t){for(var n in this._levels)n=Number(n),this._levels[n].el.children.length||n===t?(this._levels[n].el.style.zIndex=e-Math.abs(t-n),this._onUpdateLevel(n)):(ce(this._levels[n].el),this._removeTilesAtZoom(n),this._onRemoveLevel(n),delete this._levels[n]);var i=this._levels[t],o=this._map;return i||((i=this._levels[t]={}).el=le("div","leaflet-tile-container leaflet-zoom-animated",this._container),i.el.style.zIndex=e,i.origin=o.project(o.unproject(o.getPixelOrigin()),t).round(),i.zoom=t,this._setZoomTransform(i,o.getCenter(),o.getZoom()),i.el.offsetWidth,this._onCreateLevel(i)),this._level=i,i}},_onUpdateLevel:h,_onRemoveLevel:h,_onCreateLevel:h,_pruneTiles:function(){if(this._map){var t,e,n=this._map.getZoom();if(n>this.options.maxZoom||n<this.options.minZoom)this._removeAllTiles();else{for(t in this._tiles)(e=this._tiles[t]).retain=e.current;for(t in this._tiles)if((e=this._tiles[t]).current&&!e.active){var i=e.coords;this._retainParent(i.x,i.y,i.z,i.z-5)||this._retainChildren(i.x,i.y,i.z,i.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}}},_removeTilesAtZoom:function(t){for(var e in this._tiles)this._tiles[e].coords.z===t&&this._removeTile(e)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)ce(this._levels[t].el),this._onRemoveLevel(Number(t)),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,e,n,i){var o=Math.floor(t/2),r=Math.floor(e/2),s=n-1,a=new I(+o,+r);a.z=+s;var l=this._tileCoordsToKey(a),c=this._tiles[l];return c&&c.active?(c.retain=!0,!0):(c&&c.loaded&&(c.retain=!0),s>i&&this._retainParent(o,r,s,i))},_retainChildren:function(t,e,n,i){for(var o=2*t;o<2*t+2;o++)for(var r=2*e;r<2*e+2;r++){var s=new I(o,r);s.z=n+1;var a=this._tileCoordsToKey(s),l=this._tiles[a];l&&l.active?l.retain=!0:(l&&l.loaded&&(l.retain=!0),n+1<i&&this._retainChildren(o,r,n+1,i))}},_resetView:function(t){var e=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),e,e)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var e=this.options;return void 0!==e.minNativeZoom&&t<e.minNativeZoom?e.minNativeZoom:void 0!==e.maxNativeZoom&&e.maxNativeZoom<t?e.maxNativeZoom:t},_setView:function(t,e,n,i){var o=Math.round(e);o=void 0!==this.options.maxZoom&&o>this.options.maxZoom||void 0!==this.options.minZoom&&o<this.options.minZoom?void 0:this._clampZoom(o);var r=this.options.updateWhenZooming&&o!==this._tileZoom;i&&!r||(this._tileZoom=o,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==o&&this._update(t),n||this._pruneTiles(),this._noPrune=!!n),this._setZoomTransforms(t,e)},_setZoomTransforms:function(t,e){for(var n in this._levels)this._setZoomTransform(this._levels[n],t,e)},_setZoomTransform:function(t,e,n){var i=this._map.getZoomScale(n,t.zoom),o=t.origin.multiplyBy(i).subtract(this._map._getNewPixelOrigin(e,n)).round();Ft.any3d?Ce(t.el,o,i):be(t.el,o)},_resetGrid:function(){var t=this._map,e=t.options.crs,n=this._tileSize=this.getTileSize(),i=this._tileZoom,o=this._map.getPixelWorldBounds(this._tileZoom);o&&(this._globalTileRange=this._pxBoundsToTileRange(o)),this._wrapX=e.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,e.wrapLng[0]],i).x/n.x),Math.ceil(t.project([0,e.wrapLng[1]],i).x/n.y)],this._wrapY=e.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([e.wrapLat[0],0],i).y/n.x),Math.ceil(t.project([e.wrapLat[1],0],i).y/n.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(t){var e=this._map,n=e._animatingZoom?Math.max(e._animateToZoom,e.getZoom()):e.getZoom(),i=e.getZoomScale(n,this._tileZoom),o=e.project(t,this._tileZoom).floor(),r=e.getSize().divideBy(2*i);return new F(o.subtract(r),o.add(r))},_update:function(t){var e=this._map;if(e){var n=this._clampZoom(e.getZoom());if(void 0===t&&(t=e.getCenter()),void 0!==this._tileZoom){var i=this._getTiledPixelBounds(t),o=this._pxBoundsToTileRange(i),r=o.getCenter(),s=[],a=this.options.keepBuffer,l=new F(o.getBottomLeft().subtract([a,-a]),o.getTopRight().add([a,-a]));if(!(isFinite(o.min.x)&&isFinite(o.min.y)&&isFinite(o.max.x)&&isFinite(o.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var c in this._tiles){var u=this._tiles[c].coords;u.z===this._tileZoom&&l.contains(new I(u.x,u.y))||(this._tiles[c].current=!1)}if(Math.abs(n-this._tileZoom)>1)this._setView(t,n);else{for(var h=o.min.y;h<=o.max.y;h++)for(var d=o.min.x;d<=o.max.x;d++){var p=new I(d,h);if(p.z=this._tileZoom,this._isValidTile(p)){var f=this._tiles[this._tileCoordsToKey(p)];f?f.current=!0:s.push(p)}}if(s.sort((function(t,e){return t.distanceTo(r)-e.distanceTo(r)})),0!==s.length){this._loading||(this._loading=!0,this.fire("loading"));var g=document.createDocumentFragment();for(d=0;d<s.length;d++)this._addTile(s[d],g);this._level.el.appendChild(g)}}}}},_isValidTile:function(t){var e=this._map.options.crs;if(!e.infinite){var n=this._globalTileRange;if(!e.wrapLng&&(t.x<n.min.x||t.x>n.max.x)||!e.wrapLat&&(t.y<n.min.y||t.y>n.max.y))return!1}if(!this.options.bounds)return!0;var i=this._tileCoordsToBounds(t);return j(this.options.bounds).overlaps(i)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var e=this._map,n=this.getTileSize(),i=t.scaleBy(n),o=i.add(n);return[e.unproject(i,t.z),e.unproject(o,t.z)]},_tileCoordsToBounds:function(t){var e=this._tileCoordsToNwSe(t),n=new B(e[0],e[1]);return this.options.noWrap||(n=this._map.wrapLatLngBounds(n)),n},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var e=t.split(":"),n=new I(+e[0],+e[1]);return n.z=+e[2],n},_removeTile:function(t){var e=this._tiles[t];e&&(ce(e.el),delete this._tiles[t],this.fire("tileunload",{tile:e.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){fe(t,"leaflet-tile");var e=this.getTileSize();t.style.width=e.x+"px",t.style.height=e.y+"px",t.onselectstart=h,t.onmousemove=h,Ft.ielt9&&this.options.opacity<1&&ye(t,this.options.opacity)},_addTile:function(t,e){var n=this._getTilePos(t),i=this._tileCoordsToKey(t),o=this.createTile(this._wrapCoords(t),s(this._tileReady,this,t));this._initTile(o),this.createTile.length<2&&P(s(this._tileReady,this,t,null,o)),be(o,n),this._tiles[i]={el:o,coords:t,current:!0},e.appendChild(o),this.fire("tileloadstart",{tile:o,coords:t})},_tileReady:function(t,e,n){e&&this.fire("tileerror",{error:e,tile:n,coords:t});var i=this._tileCoordsToKey(t);(n=this._tiles[i])&&(n.loaded=+new Date,this._map._fadeAnimated?(ye(n.el,0),T(this._fadeFrame),this._fadeFrame=P(this._updateOpacity,this)):(n.active=!0,this._pruneTiles()),e||(fe(n.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:n.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ft.ielt9||!this._map._fadeAnimated?P(this._pruneTiles,this):setTimeout(s(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var e=new I(this._wrapX?u(t.x,this._wrapX):t.x,this._wrapY?u(t.y,this._wrapY):t.y);return e.z=t.z,e},_pxBoundsToTileRange:function(t){var e=this.getTileSize();return new F(t.min.unscaleBy(e).floor(),t.max.unscaleBy(e).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}});function Si(t){return new Ei(t)}var wi=Ei.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(t,e){this._url=t,(e=g(this,e)).detectRetina&&Ft.retina&&e.maxZoom>0?(e.tileSize=Math.floor(e.tileSize/2),e.zoomReverse?(e.zoomOffset--,e.minZoom=Math.min(e.maxZoom,e.minZoom+1)):(e.zoomOffset++,e.maxZoom=Math.max(e.minZoom,e.maxZoom-1)),e.minZoom=Math.max(0,e.minZoom)):e.zoomReverse?e.minZoom=Math.min(e.maxZoom,e.minZoom):e.maxZoom=Math.max(e.minZoom,e.maxZoom),"string"==typeof e.subdomains&&(e.subdomains=e.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(t,e){return this._url===t&&void 0===e&&(e=!0),this._url=t,e||this.redraw(),this},createTile:function(t,e){var n=document.createElement("img");return Re(n,"load",s(this._tileOnLoad,this,e,n)),Re(n,"error",s(this._tileOnError,this,e,n)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(n.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),"string"==typeof this.options.referrerPolicy&&(n.referrerPolicy=this.options.referrerPolicy),n.alt="",n.src=this.getTileUrl(t),n},getTileUrl:function(t){var e={r:Ft.retina?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var n=this._globalTileRange.max.y-t.y;this.options.tms&&(e.y=n),e["-y"]=n}return y(this._url,o(e,this.options))},_tileOnLoad:function(t,e){Ft.ielt9?setTimeout(s(t,this,null,e),0):t(null,e)},_tileOnError:function(t,e,n){var i=this.options.errorTileUrl;i&&e.getAttribute("src")!==i&&(e.src=i),t(n,e)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,e=this.options.maxZoom;return this.options.zoomReverse&&(t=e-t),t+this.options.zoomOffset},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_abortLoading:function(){var t,e;for(t in this._tiles)if(this._tiles[t].coords.z!==this._tileZoom&&((e=this._tiles[t].el).onload=h,e.onerror=h,!e.complete)){e.src=b;var n=this._tiles[t].coords;ce(e),delete this._tiles[t],this.fire("tileabort",{tile:e,coords:n})}},_removeTile:function(t){var e=this._tiles[t];if(e)return e.el.setAttribute("src",b),Ei.prototype._removeTile.call(this,t)},_tileReady:function(t,e,n){if(this._map&&(!n||n.getAttribute("src")!==b))return Ei.prototype._tileReady.call(this,t,e,n)}});function Oi(t,e){return new wi(t,e)}var xi=wi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,e){this._url=t;var n=o({},this.defaultWmsParams);for(var i in e)i in this.options||(n[i]=e[i]);var r=(e=g(this,e)).detectRetina&&Ft.retina?2:1,s=this.getTileSize();n.width=s.x*r,n.height=s.y*r,this.wmsParams=n},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var e=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[e]=this._crs.code,wi.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._tileCoordsToNwSe(t),n=this._crs,i=G(n.project(e[0]),n.project(e[1])),o=i.min,r=i.max,s=(this._wmsVersion>=1.3&&this._crs===Mn?[o.y,o.x,r.y,r.x]:[o.x,o.y,r.x,r.y]).join(","),a=wi.prototype.getTileUrl.call(this,t);return a+m(this.wmsParams,a,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+s},setParams:function(t,e){return o(this.wmsParams,t),e||this.redraw(),this}});wi.WMS=xi,Oi.wms=function(t,e){return new xi(t,e)};var Pi=Rn.extend({options:{padding:.1},initialize:function(t){g(this,t),l(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&fe(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,e){var n=this._map.getZoomScale(e,this._zoom),i=this._map.getSize().multiplyBy(.5+this.options.padding),o=this._map.project(this._center,e),r=i.multiplyBy(-n).add(o).subtract(this._map._getNewPixelOrigin(t,e));Ft.any3d?Ce(this._container,r,n):be(this._container,r)},_reset:function(){for(var t in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,e=this._map.getSize(),n=this._map.containerPointToLayerPoint(e.multiplyBy(-t)).round();this._bounds=new F(n,n.add(e.multiplyBy(1+2*t)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Ti=Pi.extend({options:{tolerance:0},getEvents:function(){var t=Pi.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Pi.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");Re(t,"mousemove",this._onMouseMove,this),Re(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Re(t,"mouseout",this._handleMouseOut,this),t._leaflet_disable_events=!0,this._ctx=t.getContext("2d")},_destroyContainer:function(){T(this._redrawRequest),delete this._ctx,ce(this._container),Le(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var t in this._redrawBounds=null,this._layers)this._layers[t]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){Pi.prototype._update.call(this);var t=this._bounds,e=this._container,n=t.getSize(),i=Ft.retina?2:1;be(e,t.min),e.width=i*n.x,e.height=i*n.y,e.style.width=n.x+"px",e.style.height=n.y+"px",Ft.retina&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){Pi.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[l(t)]=t;var e=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=e),this._drawLast=e,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var e=t._order,n=e.next,i=e.prev;n?n.prev=i:this._drawLast=i,i?i.next=n:this._drawFirst=n,delete t._order,delete this._layers[l(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if("string"==typeof t.options.dashArray){var e,n,i=t.options.dashArray.split(/[, ]+/),o=[];for(n=0;n<i.length;n++){if(e=Number(i[n]),isNaN(e))return;o.push(e)}t.options._dashArray=o}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||P(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var e=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new F,this._redrawBounds.extend(t._pxBounds.min.subtract([e,e])),this._redrawBounds.extend(t._pxBounds.max.add([e,e]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var e=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,e.x,e.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var t,e=this._redrawBounds;if(this._ctx.save(),e){var n=e.getSize();this._ctx.beginPath(),this._ctx.rect(e.min.x,e.min.y,n.x,n.y),this._ctx.clip()}this._drawing=!0;for(var i=this._drawFirst;i;i=i.next)t=i.layer,(!e||t._pxBounds&&t._pxBounds.intersects(e))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,e){if(this._drawing){var n,i,o,r,s=t._parts,a=s.length,l=this._ctx;if(a){for(l.beginPath(),n=0;n<a;n++){for(i=0,o=s[n].length;i<o;i++)r=s[n][i],l[i?"lineTo":"moveTo"](r.x,r.y);e&&l.closePath()}this._fillStroke(l,t)}}},_updateCircle:function(t){if(this._drawing&&!t._empty()){var e=t._point,n=this._ctx,i=Math.max(Math.round(t._radius),1),o=(Math.max(Math.round(t._radiusY),1)||i)/i;1!==o&&(n.save(),n.scale(1,o)),n.beginPath(),n.arc(e.x,e.y/o,i,0,2*Math.PI,!1),1!==o&&n.restore(),this._fillStroke(n,t)}},_fillStroke:function(t,e){var n=e.options;n.fill&&(t.globalAlpha=n.fillOpacity,t.fillStyle=n.fillColor||n.color,t.fill(n.fillRule||"evenodd")),n.stroke&&0!==n.weight&&(t.setLineDash&&t.setLineDash(e.options&&e.options._dashArray||[]),t.globalAlpha=n.opacity,t.lineWidth=n.weight,t.strokeStyle=n.color,t.lineCap=n.lineCap,t.lineJoin=n.lineJoin,t.stroke())},_onClick:function(t){for(var e,n,i=this._map.mouseEventToLayerPoint(t),o=this._drawFirst;o;o=o.next)(e=o.layer).options.interactive&&e._containsPoint(i)&&("click"!==t.type&&"preclick"!==t.type||!this._map._draggableMoved(e))&&(n=e);this._fireEvent(!!n&&[n],t)},_onMouseMove:function(t){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var e=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,e)}},_handleMouseOut:function(t){var e=this._hoveredLayer;e&&(ge(this._container,"leaflet-interactive"),this._fireEvent([e],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,e){if(!this._mouseHoverThrottled){for(var n,i,o=this._drawFirst;o;o=o.next)(n=o.layer).options.interactive&&n._containsPoint(e)&&(i=n);i!==this._hoveredLayer&&(this._handleMouseOut(t),i&&(fe(this._container,"leaflet-interactive"),this._fireEvent([i],t,"mouseover"),this._hoveredLayer=i)),this._fireEvent(!!this._hoveredLayer&&[this._hoveredLayer],t),this._mouseHoverThrottled=!0,setTimeout(s((function(){this._mouseHoverThrottled=!1}),this),32)}},_fireEvent:function(t,e,n){this._map._fireDOMEvent(e,n||e.type,t)},_bringToFront:function(t){var e=t._order;if(e){var n=e.next,i=e.prev;n&&(n.prev=i,i?i.next=n:n&&(this._drawFirst=n),e.prev=this._drawLast,this._drawLast.next=e,e.next=null,this._drawLast=e,this._requestRedraw(t))}},_bringToBack:function(t){var e=t._order;if(e){var n=e.next,i=e.prev;i&&(i.next=n,n?n.prev=i:i&&(this._drawLast=i),e.prev=null,e.next=this._drawFirst,this._drawFirst.prev=e,this._drawFirst=e,this._requestRedraw(t))}}});function Mi(t){return Ft.canvas?new Ti(t):null}var Di=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch(t){}return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Ri={_initContainer:function(){this._container=le("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Pi.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var e=t._container=Di("shape");fe(e,"leaflet-vml-shape "+(this.options.className||"")),e.coordsize="1 1",t._path=Di("path"),e.appendChild(t._path),this._updateStyle(t),this._layers[l(t)]=t},_addPath:function(t){var e=t._container;this._container.appendChild(e),t.options.interactive&&t.addInteractiveTarget(e)},_removePath:function(t){var e=t._container;ce(e),t.removeInteractiveTarget(e),delete this._layers[l(t)]},_updateStyle:function(t){var e=t._stroke,n=t._fill,i=t.options,o=t._container;o.stroked=!!i.stroke,o.filled=!!i.fill,i.stroke?(e||(e=t._stroke=Di("stroke")),o.appendChild(e),e.weight=i.weight+"px",e.color=i.color,e.opacity=i.opacity,i.dashArray?e.dashStyle=v(i.dashArray)?i.dashArray.join(" "):i.dashArray.replace(/( *, *)/g," "):e.dashStyle="",e.endcap=i.lineCap.replace("butt","flat"),e.joinstyle=i.lineJoin):e&&(o.removeChild(e),t._stroke=null),i.fill?(n||(n=t._fill=Di("fill")),o.appendChild(n),n.color=i.fillColor||i.color,n.opacity=i.fillOpacity):n&&(o.removeChild(n),t._fill=null)},_updateCircle:function(t){var e=t._point.round(),n=Math.round(t._radius),i=Math.round(t._radiusY||n);this._setPath(t,t._empty()?"M0 0":"AL "+e.x+","+e.y+" "+n+","+i+" 0,23592600")},_setPath:function(t,e){t._path.v=e},_bringToFront:function(t){he(t._container)},_bringToBack:function(t){de(t._container)}},Ai=Ft.vml?Di:J,Li=Pi.extend({_initContainer:function(){this._container=Ai("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Ai("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ce(this._container),Le(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!this._map._animatingZoom||!this._bounds){Pi.prototype._update.call(this);var t=this._bounds,e=t.getSize(),n=this._container;this._svgSize&&this._svgSize.equals(e)||(this._svgSize=e,n.setAttribute("width",e.x),n.setAttribute("height",e.y)),be(n,t.min),n.setAttribute("viewBox",[t.min.x,t.min.y,e.x,e.y].join(" ")),this.fire("update")}},_initPath:function(t){var e=t._path=Ai("path");t.options.className&&fe(e,t.options.className),t.options.interactive&&fe(e,"leaflet-interactive"),this._updateStyle(t),this._layers[l(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){ce(t._path),t.removeInteractiveTarget(t._path),delete this._layers[l(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var e=t._path,n=t.options;e&&(n.stroke?(e.setAttribute("stroke",n.color),e.setAttribute("stroke-opacity",n.opacity),e.setAttribute("stroke-width",n.weight),e.setAttribute("stroke-linecap",n.lineCap),e.setAttribute("stroke-linejoin",n.lineJoin),n.dashArray?e.setAttribute("stroke-dasharray",n.dashArray):e.removeAttribute("stroke-dasharray"),n.dashOffset?e.setAttribute("stroke-dashoffset",n.dashOffset):e.removeAttribute("stroke-dashoffset")):e.setAttribute("stroke","none"),n.fill?(e.setAttribute("fill",n.fillColor||n.color),e.setAttribute("fill-opacity",n.fillOpacity),e.setAttribute("fill-rule",n.fillRule||"evenodd")):e.setAttribute("fill","none"))},_updatePoly:function(t,e){this._setPath(t,Q(t._parts,e))},_updateCircle:function(t){var e=t._point,n=Math.max(Math.round(t._radius),1),i="a"+n+","+(Math.max(Math.round(t._radiusY),1)||n)+" 0 1,0 ",o=t._empty()?"M0 0":"M"+(e.x-n)+","+e.y+i+2*n+",0 "+i+2*-n+",0 ";this._setPath(t,o)},_setPath:function(t,e){t._path.setAttribute("d",e)},_bringToFront:function(t){he(t._path)},_bringToBack:function(t){de(t._path)}});function Ii(t){return Ft.svg||Ft.vml?new Li(t):null}Ft.vml&&Li.include(Ri),qe.include({getRenderer:function(t){var e=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return e||(e=this._renderer=this._createRenderer()),this.hasLayer(e)||this.addLayer(e),e},_getPaneRenderer:function(t){if("overlayPane"===t||void 0===t)return!1;var e=this._paneRenderers[t];return void 0===e&&(e=this._createRenderer({pane:t}),this._paneRenderers[t]=e),e},_createRenderer:function(t){return this.options.preferCanvas&&Mi(t)||Ii(t)}});var ki=Xn.extend({initialize:function(t,e){Xn.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return[(t=j(t)).getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});function Ni(t,e){return new ki(t,e)}Li.create=Ai,Li.pointsToPath=Q,Zn.geometryToLayer=Jn,Zn.coordsToLatLng=ti,Zn.coordsToLatLngs=ei,Zn.latLngToCoords=ni,Zn.latLngsToCoords=ii,Zn.getFeature=oi,Zn.asFeature=ri,qe.mergeOptions({boxZoom:!0});var Fi=rn.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){Re(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Le(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ce(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||1!==t.which&&1!==t.button)return!1;this._clearDeferredResetState(),this._resetState(),Jt(),we(),this._startPoint=this._map.mouseEventToContainerPoint(t),Re(document,{contextmenu:Ve,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=le("div","leaflet-zoom-box",this._container),fe(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var e=new F(this._point,this._startPoint),n=e.getSize();be(this._box,e.min),this._box.style.width=n.x+"px",this._box.style.height=n.y+"px"},_finish:function(){this._moved&&(ce(this._box),ge(this._container,"leaflet-crosshair")),Qt(),Oe(),Le(document,{contextmenu:Ve,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if((1===t.which||1===t.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(s(this._resetState,this),0);var e=new B(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(e).fire("boxzoomend",{boxZoomBounds:e})}},_onKeyDown:function(t){27===t.keyCode&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});qe.addInitHook("addHandler","boxZoom",Fi),qe.mergeOptions({doubleClickZoom:!0});var Gi=rn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,n=e.getZoom(),i=e.options.zoomDelta,o=t.originalEvent.shiftKey?n-i:n+i;"center"===e.options.doubleClickZoom?e.setZoom(o):e.setZoomAround(t.containerPoint,o)}});qe.addInitHook("addHandler","doubleClickZoom",Gi),qe.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Bi=rn.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new cn(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}fe(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){ge(this._map._container,"leaflet-grab"),ge(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var e=j(this._map.options.maxBounds);this._offsetLimit=G(this._map.latLngToContainerPoint(e.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(e.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var e=this._lastTime=+new Date,n=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(n),this._times.push(e),this._prunePositions(e)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,e){return t-(t-e)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var t=this._draggable._newPos.subtract(this._draggable._startPos),e=this._offsetLimit;t.x<e.min.x&&(t.x=this._viscousLimit(t.x,e.min.x)),t.y<e.min.y&&(t.y=this._viscousLimit(t.y,e.min.y)),t.x>e.max.x&&(t.x=this._viscousLimit(t.x,e.max.x)),t.y>e.max.y&&(t.y=this._viscousLimit(t.y,e.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,e=Math.round(t/2),n=this._initialWorldOffset,i=this._draggable._newPos.x,o=(i-e+n)%t+e-n,r=(i+e+n)%t-e-n,s=Math.abs(o+n)<Math.abs(r+n)?o:r;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=s},_onDragEnd:function(t){var e=this._map,n=e.options,i=!n.inertia||t.noInertia||this._times.length<2;if(e.fire("dragend",t),i)e.fire("moveend");else{this._prunePositions(+new Date);var o=this._lastPos.subtract(this._positions[0]),r=(this._lastTime-this._times[0])/1e3,s=n.easeLinearity,a=o.multiplyBy(s/r),l=a.distanceTo([0,0]),c=Math.min(n.inertiaMaxSpeed,l),u=a.multiplyBy(c/l),h=c/(n.inertiaDeceleration*s),d=u.multiplyBy(-h/2).round();d.x||d.y?(d=e._limitOffset(d,e.options.maxBounds),P((function(){e.panBy(d,{duration:h,easeLinearity:s,noMoveStart:!0,animate:!0})}))):e.fire("moveend")}}});qe.addInitHook("addHandler","dragging",Bi),qe.mergeOptions({keyboard:!0,keyboardPanDelta:80});var ji=rn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),Re(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Le(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,e=document.documentElement,n=t.scrollTop||e.scrollTop,i=t.scrollLeft||e.scrollLeft;this._map._container.focus(),window.scrollTo(i,n)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var e,n,i=this._panKeys={},o=this.keyCodes;for(e=0,n=o.left.length;e<n;e++)i[o.left[e]]=[-1*t,0];for(e=0,n=o.right.length;e<n;e++)i[o.right[e]]=[t,0];for(e=0,n=o.down.length;e<n;e++)i[o.down[e]]=[0,t];for(e=0,n=o.up.length;e<n;e++)i[o.up[e]]=[0,-1*t]},_setZoomDelta:function(t){var e,n,i=this._zoomKeys={},o=this.keyCodes;for(e=0,n=o.zoomIn.length;e<n;e++)i[o.zoomIn[e]]=t;for(e=0,n=o.zoomOut.length;e<n;e++)i[o.zoomOut[e]]=-t},_addHooks:function(){Re(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Le(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e,n=t.keyCode,i=this._map;if(n in this._panKeys){if(!i._panAnim||!i._panAnim._inProgress)if(e=this._panKeys[n],t.shiftKey&&(e=N(e).multiplyBy(3)),i.options.maxBounds&&(e=i._limitOffset(N(e),i.options.maxBounds)),i.options.worldCopyJump){var o=i.wrapLatLng(i.unproject(i.project(i.getCenter()).add(e)));i.panTo(o)}else i.panBy(e)}else if(n in this._zoomKeys)i.setZoom(i.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[n]);else{if(27!==n||!i._popup||!i._popup.options.closeOnEscapeKey)return;i.closePopup()}Ve(t)}}});qe.addInitHook("addHandler","keyboard",ji),qe.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Ui=rn.extend({addHooks:function(){Re(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Le(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var e=ze(t),n=this._map.options.wheelDebounceTime;this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var i=Math.max(n-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(s(this._performZoom,this),i),Ve(t)},_performZoom:function(){var t=this._map,e=t.getZoom(),n=this._map.options.zoomSnap||0;t._stop();var i=this._delta/(4*this._map.options.wheelPxPerZoomLevel),o=4*Math.log(2/(1+Math.exp(-Math.abs(i))))/Math.LN2,r=n?Math.ceil(o/n)*n:o,s=t._limitZoom(e+(this._delta>0?r:-r))-e;this._delta=0,this._startTime=null,s&&("center"===t.options.scrollWheelZoom?t.setZoom(e+s):t.setZoomAround(this._lastMousePos,e+s))}});qe.addInitHook("addHandler","scrollWheelZoom",Ui);qe.mergeOptions({tapHold:Ft.touchNative&&Ft.safari&&Ft.mobile,tapTolerance:15});var Vi=rn.extend({addHooks:function(){Re(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Le(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(clearTimeout(this._holdTimeout),1===t.touches.length){var e=t.touches[0];this._startPos=this._newPos=new I(e.clientX,e.clientY),this._holdTimeout=setTimeout(s((function(){this._cancel(),this._isTapValid()&&(Re(document,"touchend",Ue),Re(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",e))}),this),600),Re(document,"touchend touchcancel contextmenu",this._cancel,this),Re(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function t(){Le(document,"touchend",Ue),Le(document,"touchend touchcancel",t)},_cancel:function(){clearTimeout(this._holdTimeout),Le(document,"touchend touchcancel contextmenu",this._cancel,this),Le(document,"touchmove",this._onMove,this)},_onMove:function(t){var e=t.touches[0];this._newPos=new I(e.clientX,e.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(t,e){var n=new MouseEvent(t,{bubbles:!0,cancelable:!0,view:window,screenX:e.screenX,screenY:e.screenY,clientX:e.clientX,clientY:e.clientY});n._simulated=!0,e.target.dispatchEvent(n)}});qe.addInitHook("addHandler","tapHold",Vi),qe.mergeOptions({touchZoom:Ft.touch,bounceAtZoomLimits:!0});var Wi=rn.extend({addHooks:function(){fe(this._map._container,"leaflet-touch-zoom"),Re(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ge(this._map._container,"leaflet-touch-zoom"),Le(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var e=this._map;if(t.touches&&2===t.touches.length&&!e._animatingZoom&&!this._zooming){var n=e.mouseEventToContainerPoint(t.touches[0]),i=e.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=e.getSize()._divideBy(2),this._startLatLng=e.containerPointToLatLng(this._centerPoint),"center"!==e.options.touchZoom&&(this._pinchStartLatLng=e.containerPointToLatLng(n.add(i)._divideBy(2))),this._startDist=n.distanceTo(i),this._startZoom=e.getZoom(),this._moved=!1,this._zooming=!0,e._stop(),Re(document,"touchmove",this._onTouchMove,this),Re(document,"touchend touchcancel",this._onTouchEnd,this),Ue(t)}},_onTouchMove:function(t){if(t.touches&&2===t.touches.length&&this._zooming){var e=this._map,n=e.mouseEventToContainerPoint(t.touches[0]),i=e.mouseEventToContainerPoint(t.touches[1]),o=n.distanceTo(i)/this._startDist;if(this._zoom=e.getScaleZoom(o,this._startZoom),!e.options.bounceAtZoomLimits&&(this._zoom<e.getMinZoom()&&o<1||this._zoom>e.getMaxZoom()&&o>1)&&(this._zoom=e._limitZoom(this._zoom)),"center"===e.options.touchZoom){if(this._center=this._startLatLng,1===o)return}else{var r=n._add(i)._divideBy(2)._subtract(this._centerPoint);if(1===o&&0===r.x&&0===r.y)return;this._center=e.unproject(e.project(this._pinchStartLatLng,this._zoom).subtract(r),this._zoom)}this._moved||(e._moveStart(!0,!1),this._moved=!0),T(this._animRequest);var a=s(e._move,e,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=P(a,this,!0),Ue(t)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,T(this._animRequest),Le(document,"touchmove",this._onTouchMove,this),Le(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});qe.addInitHook("addHandler","touchZoom",Wi),qe.BoxZoom=Fi,qe.DoubleClickZoom=Gi,qe.Drag=Bi,qe.Keyboard=ji,qe.ScrollWheelZoom=Ui,qe.TapHold=Vi,qe.TouchZoom=Wi},5243:function(t,e){!function(t){"use strict";var e="1.9.3";function n(t){var e,n,i,o;for(n=1,i=arguments.length;n<i;n++)for(e in o=arguments[n])t[e]=o[e];return t}var i=Object.create||function(){function t(){}return function(e){return t.prototype=e,new t}}();function o(t,e){var n=Array.prototype.slice;if(t.bind)return t.bind.apply(t,n.call(arguments,1));var i=n.call(arguments,2);return function(){return t.apply(e,i.length?i.concat(n.call(arguments)):arguments)}}var r=0;function s(t){return"_leaflet_id"in t||(t._leaflet_id=++r),t._leaflet_id}function a(t,e,n){var i,o,r,s;return s=function(){i=!1,o&&(r.apply(n,o),o=!1)},r=function(){i?o=arguments:(t.apply(n,arguments),setTimeout(s,e),i=!0)},r}function l(t,e,n){var i=e[1],o=e[0],r=i-o;return t===i&&n?t:((t-o)%r+r)%r+o}function c(){return!1}function u(t,e){if(!1===e)return t;var n=Math.pow(10,void 0===e?6:e);return Math.round(t*n)/n}function h(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function d(t){return h(t).split(/\s+/)}function p(t,e){for(var n in Object.prototype.hasOwnProperty.call(t,"options")||(t.options=t.options?i(t.options):{}),e)t.options[n]=e[n];return t.options}function f(t,e,n){var i=[];for(var o in t)i.push(encodeURIComponent(n?o.toUpperCase():o)+"="+encodeURIComponent(t[o]));return(e&&-1!==e.indexOf("?")?"&":"?")+i.join("&")}var g=/\{ *([\w_ -]+) *\}/g;function m(t,e){return t.replace(g,(function(t,n){var i=e[n];if(void 0===i)throw new Error("No value provided for variable "+t);return"function"==typeof i&&(i=i(e)),i}))}var _=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function y(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1}var v="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function C(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var b=0;function E(t){var e=+new Date,n=Math.max(0,16-(e-b));return b=e+n,window.setTimeout(t,n)}var S=window.requestAnimationFrame||C("RequestAnimationFrame")||E,w=window.cancelAnimationFrame||C("CancelAnimationFrame")||C("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function O(t,e,n){if(!n||S!==E)return S.call(window,o(t,e));t.call(e)}function x(t){t&&w.call(window,t)}var P={__proto__:null,extend:n,create:i,bind:o,get lastId(){return r},stamp:s,throttle:a,wrapNum:l,falseFn:c,formatNum:u,trim:h,splitWords:d,setOptions:p,getParamString:f,template:m,isArray:_,indexOf:y,emptyImageUrl:v,requestFn:S,cancelFn:w,requestAnimFrame:O,cancelAnimFrame:x};function T(){}function M(t){if("undefined"!=typeof L&&L&&L.Mixin){t=_(t)?t:[t];for(var e=0;e<t.length;e++)t[e]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}T.extend=function(t){var e=function(){p(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},o=e.__super__=this.prototype,r=i(o);for(var s in r.constructor=e,e.prototype=r,this)Object.prototype.hasOwnProperty.call(this,s)&&"prototype"!==s&&"__super__"!==s&&(e[s]=this[s]);return t.statics&&n(e,t.statics),t.includes&&(M(t.includes),n.apply(null,[r].concat(t.includes))),n(r,t),delete r.statics,delete r.includes,r.options&&(r.options=o.options?i(o.options):{},n(r.options,t.options)),r._initHooks=[],r.callInitHooks=function(){if(!this._initHooksCalled){o.callInitHooks&&o.callInitHooks.call(this),this._initHooksCalled=!0;for(var t=0,e=r._initHooks.length;t<e;t++)r._initHooks[t].call(this)}},e},T.include=function(t){var e=this.prototype.options;return n(this.prototype,t),t.options&&(this.prototype.options=e,this.mergeOptions(t.options)),this},T.mergeOptions=function(t){return n(this.prototype.options,t),this},T.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),n="function"==typeof t?t:function(){this[t].apply(this,e)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n),this};var D={on:function(t,e,n){if("object"==typeof t)for(var i in t)this._on(i,t[i],e);else for(var o=0,r=(t=d(t)).length;o<r;o++)this._on(t[o],e,n);return this},off:function(t,e,n){if(arguments.length)if("object"==typeof t)for(var i in t)this._off(i,t[i],e);else{t=d(t);for(var o=1===arguments.length,r=0,s=t.length;r<s;r++)o?this._off(t[r]):this._off(t[r],e,n)}else delete this._events;return this},_on:function(t,e,n,i){if("function"==typeof e){if(!1===this._listens(t,e,n)){n===this&&(n=void 0);var o={fn:e,ctx:n};i&&(o.once=!0),this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(o)}}else console.warn("wrong listener type: "+typeof e)},_off:function(t,e,n){var i,o,r;if(this._events&&(i=this._events[t]))if(1!==arguments.length)if("function"==typeof e){var s=this._listens(t,e,n);if(!1!==s){var a=i[s];this._firingCount&&(a.fn=c,this._events[t]=i=i.slice()),i.splice(s,1)}}else console.warn("wrong listener type: "+typeof e);else{if(this._firingCount)for(o=0,r=i.length;o<r;o++)i[o].fn=c;delete this._events[t]}},fire:function(t,e,i){if(!this.listens(t,i))return this;var o=n({},e,{type:t,target:this,sourceTarget:e&&e.sourceTarget||this});if(this._events){var r=this._events[t];if(r){this._firingCount=this._firingCount+1||1;for(var s=0,a=r.length;s<a;s++){var l=r[s],c=l.fn;l.once&&this.off(t,c,l.ctx),c.call(l.ctx||this,o)}this._firingCount--}}return i&&this._propagateEvent(o),this},listens:function(t,e,n,i){"string"!=typeof t&&console.warn('"string" type argument expected');var o=e;"function"!=typeof e&&(i=!!e,o=void 0,n=void 0);var r=this._events&&this._events[t];if(r&&r.length&&!1!==this._listens(t,o,n))return!0;if(i)for(var s in this._eventParents)if(this._eventParents[s].listens(t,e,n,i))return!0;return!1},_listens:function(t,e,n){if(!this._events)return!1;var i=this._events[t]||[];if(!e)return!!i.length;n===this&&(n=void 0);for(var o=0,r=i.length;o<r;o++)if(i[o].fn===e&&i[o].ctx===n)return o;return!1},once:function(t,e,n){if("object"==typeof t)for(var i in t)this._on(i,t[i],e,!0);else for(var o=0,r=(t=d(t)).length;o<r;o++)this._on(t[o],e,n,!0);return this},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[s(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[s(t)],this},_propagateEvent:function(t){for(var e in this._eventParents)this._eventParents[e].fire(t.type,n({layer:t.target,propagatedFrom:t.target},t),!0)}};D.addEventListener=D.on,D.removeEventListener=D.clearAllEventListeners=D.off,D.addOneTimeEventListener=D.once,D.fireEvent=D.fire,D.hasEventListeners=D.listens;var R=T.extend(D);function A(t,e,n){this.x=n?Math.round(t):t,this.y=n?Math.round(e):e}var I=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};function k(t,e,n){return t instanceof A?t:_(t)?new A(t[0],t[1]):null==t?t:"object"==typeof t&&"x"in t&&"y"in t?new A(t.x,t.y):new A(t,e,n)}function N(t,e){if(t)for(var n=e?[t,e]:t,i=0,o=n.length;i<o;i++)this.extend(n[i])}function F(t,e){return!t||t instanceof N?t:new N(t,e)}function G(t,e){if(t)for(var n=e?[t,e]:t,i=0,o=n.length;i<o;i++)this.extend(n[i])}function B(t,e){return t instanceof G?t:new G(t,e)}function j(t,e,n){if(isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=+t,this.lng=+e,void 0!==n&&(this.alt=+n)}function U(t,e,n){return t instanceof j?t:_(t)&&"object"!=typeof t[0]?3===t.length?new j(t[0],t[1],t[2]):2===t.length?new j(t[0],t[1]):null:null==t?t:"object"==typeof t&&"lat"in t?new j(t.lat,"lng"in t?t.lng:t.lon,t.alt):void 0===e?null:new j(t,e,n)}A.prototype={clone:function(){return new A(this.x,this.y)},add:function(t){return this.clone()._add(k(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(k(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new A(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new A(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=I(this.x),this.y=I(this.y),this},distanceTo:function(t){var e=(t=k(t)).x-this.x,n=t.y-this.y;return Math.sqrt(e*e+n*n)},equals:function(t){return(t=k(t)).x===this.x&&t.y===this.y},contains:function(t){return t=k(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+u(this.x)+", "+u(this.y)+")"}},N.prototype={extend:function(t){var e,n;if(!t)return this;if(t instanceof A||"number"==typeof t[0]||"x"in t)e=n=k(t);else if(e=(t=F(t)).min,n=t.max,!e||!n)return this;return this.min||this.max?(this.min.x=Math.min(e.x,this.min.x),this.max.x=Math.max(n.x,this.max.x),this.min.y=Math.min(e.y,this.min.y),this.max.y=Math.max(n.y,this.max.y)):(this.min=e.clone(),this.max=n.clone()),this},getCenter:function(t){return k((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return k(this.min.x,this.max.y)},getTopRight:function(){return k(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,n;return(t="number"==typeof t[0]||t instanceof A?k(t):F(t))instanceof N?(e=t.min,n=t.max):e=n=t,e.x>=this.min.x&&n.x<=this.max.x&&e.y>=this.min.y&&n.y<=this.max.y},intersects:function(t){t=F(t);var e=this.min,n=this.max,i=t.min,o=t.max,r=o.x>=e.x&&i.x<=n.x,s=o.y>=e.y&&i.y<=n.y;return r&&s},overlaps:function(t){t=F(t);var e=this.min,n=this.max,i=t.min,o=t.max,r=o.x>e.x&&i.x<n.x,s=o.y>e.y&&i.y<n.y;return r&&s},isValid:function(){return!(!this.min||!this.max)},pad:function(t){var e=this.min,n=this.max,i=Math.abs(e.x-n.x)*t,o=Math.abs(e.y-n.y)*t;return F(k(e.x-i,e.y-o),k(n.x+i,n.y+o))},equals:function(t){return!!t&&(t=F(t),this.min.equals(t.getTopLeft())&&this.max.equals(t.getBottomRight()))}},G.prototype={extend:function(t){var e,n,i=this._southWest,o=this._northEast;if(t instanceof j)e=t,n=t;else{if(!(t instanceof G))return t?this.extend(U(t)||B(t)):this;if(e=t._southWest,n=t._northEast,!e||!n)return this}return i||o?(i.lat=Math.min(e.lat,i.lat),i.lng=Math.min(e.lng,i.lng),o.lat=Math.max(n.lat,o.lat),o.lng=Math.max(n.lng,o.lng)):(this._southWest=new j(e.lat,e.lng),this._northEast=new j(n.lat,n.lng)),this},pad:function(t){var e=this._southWest,n=this._northEast,i=Math.abs(e.lat-n.lat)*t,o=Math.abs(e.lng-n.lng)*t;return new G(new j(e.lat-i,e.lng-o),new j(n.lat+i,n.lng+o))},getCenter:function(){return new j((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new j(this.getNorth(),this.getWest())},getSouthEast:function(){return new j(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){t="number"==typeof t[0]||t instanceof j||"lat"in t?U(t):B(t);var e,n,i=this._southWest,o=this._northEast;return t instanceof G?(e=t.getSouthWest(),n=t.getNorthEast()):e=n=t,e.lat>=i.lat&&n.lat<=o.lat&&e.lng>=i.lng&&n.lng<=o.lng},intersects:function(t){t=B(t);var e=this._southWest,n=this._northEast,i=t.getSouthWest(),o=t.getNorthEast(),r=o.lat>=e.lat&&i.lat<=n.lat,s=o.lng>=e.lng&&i.lng<=n.lng;return r&&s},overlaps:function(t){t=B(t);var e=this._southWest,n=this._northEast,i=t.getSouthWest(),o=t.getNorthEast(),r=o.lat>e.lat&&i.lat<n.lat,s=o.lng>e.lng&&i.lng<n.lng;return r&&s},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,e){return!!t&&(t=B(t),this._southWest.equals(t.getSouthWest(),e)&&this._northEast.equals(t.getNorthEast(),e))},isValid:function(){return!(!this._southWest||!this._northEast)}},j.prototype={equals:function(t,e){return!!t&&(t=U(t),Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng))<=(void 0===e?1e-9:e))},toString:function(t){return"LatLng("+u(this.lat,t)+", "+u(this.lng,t)+")"},distanceTo:function(t){return H.distance(this,U(t))},wrap:function(){return H.wrapLatLng(this)},toBounds:function(t){var e=180*t/40075017,n=e/Math.cos(Math.PI/180*this.lat);return B([this.lat-e,this.lng-n],[this.lat+e,this.lng+n])},clone:function(){return new j(this.lat,this.lng,this.alt)}};var V,W={latLngToPoint:function(t,e){var n=this.projection.project(t),i=this.scale(e);return this.transformation._transform(n,i)},pointToLatLng:function(t,e){var n=this.scale(e),i=this.transformation.untransform(t,n);return this.projection.unproject(i)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var e=this.projection.bounds,n=this.scale(t);return new N(this.transformation.transform(e.min,n),this.transformation.transform(e.max,n))},infinite:!1,wrapLatLng:function(t){var e=this.wrapLng?l(t.lng,this.wrapLng,!0):t.lng;return new j(this.wrapLat?l(t.lat,this.wrapLat,!0):t.lat,e,t.alt)},wrapLatLngBounds:function(t){var e=t.getCenter(),n=this.wrapLatLng(e),i=e.lat-n.lat,o=e.lng-n.lng;if(0===i&&0===o)return t;var r=t.getSouthWest(),s=t.getNorthEast();return new G(new j(r.lat-i,r.lng-o),new j(s.lat-i,s.lng-o))}},H=n({},W,{wrapLng:[-180,180],R:6371e3,distance:function(t,e){var n=Math.PI/180,i=t.lat*n,o=e.lat*n,r=Math.sin((e.lat-t.lat)*n/2),s=Math.sin((e.lng-t.lng)*n/2),a=r*r+Math.cos(i)*Math.cos(o)*s*s,l=2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a));return this.R*l}}),$=6378137,z={R:$,MAX_LATITUDE:85.0511287798,project:function(t){var e=Math.PI/180,n=this.MAX_LATITUDE,i=Math.max(Math.min(n,t.lat),-n),o=Math.sin(i*e);return new A(this.R*t.lng*e,this.R*Math.log((1+o)/(1-o))/2)},unproject:function(t){var e=180/Math.PI;return new j((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*e,t.x*e/this.R)},bounds:(V=$*Math.PI,new N([-V,-V],[V,V]))};function K(t,e,n,i){if(_(t))return this._a=t[0],this._b=t[1],this._c=t[2],void(this._d=t[3]);this._a=t,this._b=e,this._c=n,this._d=i}function Y(t,e,n,i){return new K(t,e,n,i)}K.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return e=e||1,new A((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}};var X=n({},H,{code:"EPSG:3857",projection:z,transformation:function(){var t=.5/(Math.PI*z.R);return Y(t,.5,-t,.5)}()}),q=n({},X,{code:"EPSG:900913"});function Z(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function J(t,e){var n,i,o,r,s,a,l="";for(n=0,o=t.length;n<o;n++){for(i=0,r=(s=t[n]).length;i<r;i++)l+=(i?"L":"M")+(a=s[i]).x+" "+a.y;l+=e?Gt.svg?"z":"x":""}return l||"M0 0"}var Q,tt=document.documentElement.style,et="ActiveXObject"in window,nt=et&&!document.addEventListener,it="msLaunchUri"in navigator&&!("documentMode"in document),ot=Ft("webkit"),rt=Ft("android"),st=Ft("android 2")||Ft("android 3"),at=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),lt=rt&&Ft("Google")&&at<537&&!("AudioNode"in window),ct=!!window.opera,ut=!it&&Ft("chrome"),ht=Ft("gecko")&&!ot&&!ct&&!et,dt=!ut&&Ft("safari"),pt=Ft("phantom"),ft="OTransition"in tt,gt=0===navigator.platform.indexOf("Win"),mt=et&&"transition"in tt,_t="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!st,yt="MozPerspective"in tt,vt=!window.L_DISABLE_3D&&(mt||_t||yt)&&!ft&&!pt,Ct="undefined"!=typeof orientation||Ft("mobile"),bt=Ct&&ot,Et=Ct&&_t,St=!window.PointerEvent&&window.MSPointerEvent,wt=!(!window.PointerEvent&&!St),Ot="ontouchstart"in window||!!window.TouchEvent,xt=!window.L_NO_TOUCH&&(Ot||wt),Pt=Ct&&ct,Tt=Ct&&ht,Mt=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Dt=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",c,e),window.removeEventListener("testPassiveEventSupport",c,e)}catch(t){}return t}(),Rt=!!document.createElement("canvas").getContext,At=!(!document.createElementNS||!Z("svg").createSVGRect),Lt=!!At&&((Q=document.createElement("div")).innerHTML="<svg/>","http://www.w3.org/2000/svg"===(Q.firstChild&&Q.firstChild.namespaceURI)),It=!At&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var e=t.firstChild;return e.style.behavior="url(#default#VML)",e&&"object"==typeof e.adj}catch(t){return!1}}(),kt=0===navigator.platform.indexOf("Mac"),Nt=0===navigator.platform.indexOf("Linux");function Ft(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var Gt={ie:et,ielt9:nt,edge:it,webkit:ot,android:rt,android23:st,androidStock:lt,opera:ct,chrome:ut,gecko:ht,safari:dt,phantom:pt,opera12:ft,win:gt,ie3d:mt,webkit3d:_t,gecko3d:yt,any3d:vt,mobile:Ct,mobileWebkit:bt,mobileWebkit3d:Et,msPointer:St,pointer:wt,touch:xt,touchNative:Ot,mobileOpera:Pt,mobileGecko:Tt,retina:Mt,passiveEvents:Dt,canvas:Rt,svg:At,vml:It,inlineSvg:Lt,mac:kt,linux:Nt},Bt=Gt.msPointer?"MSPointerDown":"pointerdown",jt=Gt.msPointer?"MSPointerMove":"pointermove",Ut=Gt.msPointer?"MSPointerUp":"pointerup",Vt=Gt.msPointer?"MSPointerCancel":"pointercancel",Wt={touchstart:Bt,touchmove:jt,touchend:Ut,touchcancel:Vt},Ht={touchstart:te,touchmove:Qt,touchend:Qt,touchcancel:Qt},$t={},zt=!1;function Kt(t,e,n){return"touchstart"===e&&Jt(),Ht[e]?(n=Ht[e].bind(this,n),t.addEventListener(Wt[e],n,!1),n):(console.warn("wrong event specified:",e),c)}function Yt(t,e,n){Wt[e]?t.removeEventListener(Wt[e],n,!1):console.warn("wrong event specified:",e)}function Xt(t){$t[t.pointerId]=t}function qt(t){$t[t.pointerId]&&($t[t.pointerId]=t)}function Zt(t){delete $t[t.pointerId]}function Jt(){zt||(document.addEventListener(Bt,Xt,!0),document.addEventListener(jt,qt,!0),document.addEventListener(Ut,Zt,!0),document.addEventListener(Vt,Zt,!0),zt=!0)}function Qt(t,e){if(e.pointerType!==(e.MSPOINTER_TYPE_MOUSE||"mouse")){for(var n in e.touches=[],$t)e.touches.push($t[n]);e.changedTouches=[e],t(e)}}function te(t,e){e.MSPOINTER_TYPE_TOUCH&&e.pointerType===e.MSPOINTER_TYPE_TOUCH&&Xe(e),Qt(t,e)}function ee(t){var e,n,i={};for(n in t)e=t[n],i[n]=e&&e.bind?e.bind(t):e;return t=i,i.type="dblclick",i.detail=2,i.isTrusted=!1,i._simulated=!0,i}var ne=200;function ie(t,e){t.addEventListener("dblclick",e);var n,i=0;function o(t){if(1===t.detail){if("mouse"!==t.pointerType&&(!t.sourceCapabilities||t.sourceCapabilities.firesTouchEvents)){var o=Ze(t);if(!o.some((function(t){return t instanceof HTMLLabelElement&&t.attributes.for}))||o.some((function(t){return t instanceof HTMLInputElement||t instanceof HTMLSelectElement}))){var r=Date.now();r-i<=ne?2==++n&&e(ee(t)):n=1,i=r}}}else n=t.detail}return t.addEventListener("click",o),{dblclick:e,simDblclick:o}}function oe(t,e){t.removeEventListener("dblclick",e.dblclick),t.removeEventListener("click",e.simDblclick)}var re,se,ae,le,ce,ue=Pe(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),he=Pe(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),de="webkitTransition"===he||"OTransition"===he?he+"End":"transitionend";function pe(t){return"string"==typeof t?document.getElementById(t):t}function fe(t,e){var n=t.style[e]||t.currentStyle&&t.currentStyle[e];if((!n||"auto"===n)&&document.defaultView){var i=document.defaultView.getComputedStyle(t,null);n=i?i[e]:null}return"auto"===n?null:n}function ge(t,e,n){var i=document.createElement(t);return i.className=e||"",n&&n.appendChild(i),i}function me(t){var e=t.parentNode;e&&e.removeChild(t)}function _e(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function ye(t){var e=t.parentNode;e&&e.lastChild!==t&&e.appendChild(t)}function ve(t){var e=t.parentNode;e&&e.firstChild!==t&&e.insertBefore(t,e.firstChild)}function Ce(t,e){if(void 0!==t.classList)return t.classList.contains(e);var n=we(t);return n.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(n)}function be(t,e){if(void 0!==t.classList)for(var n=d(e),i=0,o=n.length;i<o;i++)t.classList.add(n[i]);else if(!Ce(t,e)){var r=we(t);Se(t,(r?r+" ":"")+e)}}function Ee(t,e){void 0!==t.classList?t.classList.remove(e):Se(t,h((" "+we(t)+" ").replace(" "+e+" "," ")))}function Se(t,e){void 0===t.className.baseVal?t.className=e:t.className.baseVal=e}function we(t){return t.correspondingElement&&(t=t.correspondingElement),void 0===t.className.baseVal?t.className:t.className.baseVal}function Oe(t,e){"opacity"in t.style?t.style.opacity=e:"filter"in t.style&&xe(t,e)}function xe(t,e){var n=!1,i="DXImageTransform.Microsoft.Alpha";try{n=t.filters.item(i)}catch(t){if(1===e)return}e=Math.round(100*e),n?(n.Enabled=100!==e,n.Opacity=e):t.style.filter+=" progid:"+i+"(opacity="+e+")"}function Pe(t){for(var e=document.documentElement.style,n=0;n<t.length;n++)if(t[n]in e)return t[n];return!1}function Te(t,e,n){var i=e||new A(0,0);t.style[ue]=(Gt.ie3d?"translate("+i.x+"px,"+i.y+"px)":"translate3d("+i.x+"px,"+i.y+"px,0)")+(n?" scale("+n+")":"")}function Me(t,e){t._leaflet_pos=e,Gt.any3d?Te(t,e):(t.style.left=e.x+"px",t.style.top=e.y+"px")}function De(t){return t._leaflet_pos||new A(0,0)}if("onselectstart"in document)re=function(){Be(window,"selectstart",Xe)},se=function(){Ue(window,"selectstart",Xe)};else{var Re=Pe(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);re=function(){if(Re){var t=document.documentElement.style;ae=t[Re],t[Re]="none"}},se=function(){Re&&(document.documentElement.style[Re]=ae,ae=void 0)}}function Ae(){Be(window,"dragstart",Xe)}function Le(){Ue(window,"dragstart",Xe)}function Ie(t){for(;-1===t.tabIndex;)t=t.parentNode;t.style&&(ke(),le=t,ce=t.style.outline,t.style.outline="none",Be(window,"keydown",ke))}function ke(){le&&(le.style.outline=ce,le=void 0,ce=void 0,Ue(window,"keydown",ke))}function Ne(t){do{t=t.parentNode}while(!(t.offsetWidth&&t.offsetHeight||t===document.body));return t}function Fe(t){var e=t.getBoundingClientRect();return{x:e.width/t.offsetWidth||1,y:e.height/t.offsetHeight||1,boundingClientRect:e}}var Ge={__proto__:null,TRANSFORM:ue,TRANSITION:he,TRANSITION_END:de,get:pe,getStyle:fe,create:ge,remove:me,empty:_e,toFront:ye,toBack:ve,hasClass:Ce,addClass:be,removeClass:Ee,setClass:Se,getClass:we,setOpacity:Oe,testProp:Pe,setTransform:Te,setPosition:Me,getPosition:De,get disableTextSelection(){return re},get enableTextSelection(){return se},disableImageDrag:Ae,enableImageDrag:Le,preventOutline:Ie,restoreOutline:ke,getSizedParentNode:Ne,getScale:Fe};function Be(t,e,n,i){if(e&&"object"==typeof e)for(var o in e)He(t,o,e[o],n);else for(var r=0,s=(e=d(e)).length;r<s;r++)He(t,e[r],n,i);return this}var je="_leaflet_events";function Ue(t,e,n,i){if(1===arguments.length)Ve(t),delete t[je];else if(e&&"object"==typeof e)for(var o in e)$e(t,o,e[o],n);else if(e=d(e),2===arguments.length)Ve(t,(function(t){return-1!==y(e,t)}));else for(var r=0,s=e.length;r<s;r++)$e(t,e[r],n,i);return this}function Ve(t,e){for(var n in t[je]){var i=n.split(/\d/)[0];e&&!e(i)||$e(t,i,null,null,n)}}var We={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function He(t,e,n,i){var o=e+s(n)+(i?"_"+s(i):"");if(t[je]&&t[je][o])return this;var r=function(e){return n.call(i||t,e||window.event)},a=r;!Gt.touchNative&&Gt.pointer&&0===e.indexOf("touch")?r=Kt(t,e,r):Gt.touch&&"dblclick"===e?r=ie(t,r):"addEventListener"in t?"touchstart"===e||"touchmove"===e||"wheel"===e||"mousewheel"===e?t.addEventListener(We[e]||e,r,!!Gt.passiveEvents&&{passive:!1}):"mouseenter"===e||"mouseleave"===e?(r=function(e){e=e||window.event,en(t,e)&&a(e)},t.addEventListener(We[e],r,!1)):t.addEventListener(e,a,!1):t.attachEvent("on"+e,r),t[je]=t[je]||{},t[je][o]=r}function $e(t,e,n,i,o){o=o||e+s(n)+(i?"_"+s(i):"");var r=t[je]&&t[je][o];if(!r)return this;!Gt.touchNative&&Gt.pointer&&0===e.indexOf("touch")?Yt(t,e,r):Gt.touch&&"dblclick"===e?oe(t,r):"removeEventListener"in t?t.removeEventListener(We[e]||e,r,!1):t.detachEvent("on"+e,r),t[je][o]=null}function ze(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,this}function Ke(t){return He(t,"wheel",ze),this}function Ye(t){return Be(t,"mousedown touchstart dblclick contextmenu",ze),t._leaflet_disable_click=!0,this}function Xe(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function qe(t){return Xe(t),ze(t),this}function Ze(t){if(t.composedPath)return t.composedPath();for(var e=[],n=t.target;n;)e.push(n),n=n.parentNode;return e}function Je(t,e){if(!e)return new A(t.clientX,t.clientY);var n=Fe(e),i=n.boundingClientRect;return new A((t.clientX-i.left)/n.x-e.clientLeft,(t.clientY-i.top)/n.y-e.clientTop)}var Qe=Gt.linux&&Gt.chrome?window.devicePixelRatio:Gt.mac?3*window.devicePixelRatio:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function tn(t){return Gt.edge?t.wheelDeltaY/2:t.deltaY&&0===t.deltaMode?-t.deltaY/Qe:t.deltaY&&1===t.deltaMode?20*-t.deltaY:t.deltaY&&2===t.deltaMode?60*-t.deltaY:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?20*-t.detail:t.detail?t.detail/-32765*60:0}function en(t,e){var n=e.relatedTarget;if(!n)return!0;try{for(;n&&n!==t;)n=n.parentNode}catch(t){return!1}return n!==t}var nn={__proto__:null,on:Be,off:Ue,stopPropagation:ze,disableScrollPropagation:Ke,disableClickPropagation:Ye,preventDefault:Xe,stop:qe,getPropagationPath:Ze,getMousePosition:Je,getWheelDelta:tn,isExternalTarget:en,addListener:Be,removeListener:Ue},on=R.extend({run:function(t,e,n,i){this.stop(),this._el=t,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(i||.5,.2),this._startPos=De(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=O(this._animate,this),this._step()},_step:function(t){var e=+new Date-this._startTime,n=1e3*this._duration;e<n?this._runFrame(this._easeOut(e/n),t):(this._runFrame(1),this._complete())},_runFrame:function(t,e){var n=this._startPos.add(this._offset.multiplyBy(t));e&&n._round(),Me(this._el,n),this.fire("step")},_complete:function(){x(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),rn=R.extend({options:{crs:X,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,e){e=p(this,e),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=o(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),void 0!==e.zoom&&(this._zoom=this._limitZoom(e.zoom)),e.center&&void 0!==e.zoom&&this.setView(U(e.center),e.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=he&&Gt.any3d&&!Gt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Be(this._proxy,de,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,e,i){return e=void 0===e?this._zoom:this._limitZoom(e),t=this._limitCenter(U(t),e,this.options.maxBounds),i=i||{},this._stop(),this._loaded&&!i.reset&&!0!==i&&(void 0!==i.animate&&(i.zoom=n({animate:i.animate},i.zoom),i.pan=n({animate:i.animate,duration:i.duration},i.pan)),this._zoom!==e?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,e,i.zoom):this._tryAnimatedPan(t,i.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(t,e,i.pan&&i.pan.noMoveStart),this)},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=t,this)},zoomIn:function(t,e){return t=t||(Gt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+t,e)},zoomOut:function(t,e){return t=t||(Gt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-t,e)},setZoomAround:function(t,e,n){var i=this.getZoomScale(e),o=this.getSize().divideBy(2),r=(t instanceof A?t:this.latLngToContainerPoint(t)).subtract(o).multiplyBy(1-1/i),s=this.containerPointToLatLng(o.add(r));return this.setView(s,e,{zoom:n})},_getBoundsCenterZoom:function(t,e){e=e||{},t=t.getBounds?t.getBounds():B(t);var n=k(e.paddingTopLeft||e.padding||[0,0]),i=k(e.paddingBottomRight||e.padding||[0,0]),o=this.getBoundsZoom(t,!1,n.add(i));if((o="number"==typeof e.maxZoom?Math.min(e.maxZoom,o):o)===1/0)return{center:t.getCenter(),zoom:o};var r=i.subtract(n).divideBy(2),s=this.project(t.getSouthWest(),o),a=this.project(t.getNorthEast(),o);return{center:this.unproject(s.add(a).divideBy(2).add(r),o),zoom:o}},fitBounds:function(t,e){if(!(t=B(t)).isValid())throw new Error("Bounds are not valid.");var n=this._getBoundsCenterZoom(t,e);return this.setView(n.center,n.zoom,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t,e){if(e=e||{},!(t=k(t).round()).x&&!t.y)return this.fire("moveend");if(!0!==e.animate&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new on,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),!1!==e.animate){be(this._mapPane,"leaflet-pan-anim");var n=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,n,e.duration||.25,e.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,e,n){if(!1===(n=n||{}).animate||!Gt.any3d)return this.setView(t,e,n);this._stop();var i=this.project(this.getCenter()),o=this.project(t),r=this.getSize(),s=this._zoom;t=U(t),e=void 0===e?s:e;var a=Math.max(r.x,r.y),l=a*this.getZoomScale(s,e),c=o.distanceTo(i)||1,u=1.42,h=u*u;function d(t){var e=(l*l-a*a+(t?-1:1)*h*h*c*c)/(2*(t?l:a)*h*c),n=Math.sqrt(e*e+1)-e;return n<1e-9?-18:Math.log(n)}function p(t){return(Math.exp(t)-Math.exp(-t))/2}function f(t){return(Math.exp(t)+Math.exp(-t))/2}function g(t){return p(t)/f(t)}var m=d(0);function _(t){return a*(f(m)/f(m+u*t))}function y(t){return a*(f(m)*g(m+u*t)-p(m))/h}function v(t){return 1-Math.pow(1-t,1.5)}var C=Date.now(),b=(d(1)-m)/u,E=n.duration?1e3*n.duration:1e3*b*.8;function S(){var n=(Date.now()-C)/E,r=v(n)*b;n<=1?(this._flyToFrame=O(S,this),this._move(this.unproject(i.add(o.subtract(i).multiplyBy(y(r)/c)),s),this.getScaleZoom(a/_(r),s),{flyTo:!0})):this._move(t,e)._moveEnd(!0)}return this._moveStart(!0,n.noMoveStart),S.call(this),this},flyToBounds:function(t,e){var n=this._getBoundsCenterZoom(t,e);return this.flyTo(n.center,n.zoom,e)},setMaxBounds:function(t){return t=B(t),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),t.isValid()?(this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(t){var e=this.options.minZoom;return this.options.minZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var e=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,e){this._enforcingBounds=!0;var n=this.getCenter(),i=this._limitCenter(n,this._zoom,B(t));return n.equals(i)||this.panTo(i,e),this._enforcingBounds=!1,this},panInside:function(t,e){var n=k((e=e||{}).paddingTopLeft||e.padding||[0,0]),i=k(e.paddingBottomRight||e.padding||[0,0]),o=this.project(this.getCenter()),r=this.project(t),s=this.getPixelBounds(),a=F([s.min.add(n),s.max.subtract(i)]),l=a.getSize();if(!a.contains(r)){this._enforcingBounds=!0;var c=r.subtract(a.getCenter()),u=a.extend(r).getSize().subtract(l);o.x+=c.x<0?-u.x:u.x,o.y+=c.y<0?-u.y:u.y,this.panTo(this.unproject(o),e),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=n({animate:!1,pan:!0},!0===t?{animate:!0}:t);var e=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var i=this.getSize(),r=e.divideBy(2).round(),s=i.divideBy(2).round(),a=r.subtract(s);return a.x||a.y?(t.animate&&t.pan?this.panBy(a):(t.pan&&this._rawPanBy(a),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:e,newSize:i})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=n({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var e=o(this._handleGeolocationResponse,this),i=o(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(e,i,t):navigator.geolocation.getCurrentPosition(e,i,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){if(this._container._leaflet_id){var e=t.code,n=t.message||(1===e?"permission denied":2===e?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+n+"."})}},_handleGeolocationResponse:function(t){if(this._container._leaflet_id){var e=new j(t.coords.latitude,t.coords.longitude),n=e.toBounds(2*t.coords.accuracy),i=this._locateOptions;if(i.setView){var o=this.getBoundsZoom(n);this.setView(e,i.maxZoom?Math.min(o,i.maxZoom):o)}var r={latlng:e,bounds:n,timestamp:t.timestamp};for(var s in t.coords)"number"==typeof t.coords[s]&&(r[s]=t.coords[s]);this.fire("locationfound",r)}},addHandler:function(t,e){if(!e)return this;var n=this[t]=new e(this);return this._handlers.push(n),this.options[t]&&n.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(t){this._container._leaflet_id=void 0,this._containerId=void 0}var t;for(t in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),me(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(x(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[t].remove();for(t in this._panes)me(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,e){var n=ge("div","leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),e||this._mapPane);return t&&(this._panes[t]=n),n},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds();return new G(this.unproject(t.getBottomLeft()),this.unproject(t.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,n){t=B(t),n=k(n||[0,0]);var i=this.getZoom()||0,o=this.getMinZoom(),r=this.getMaxZoom(),s=t.getNorthWest(),a=t.getSouthEast(),l=this.getSize().subtract(n),c=F(this.project(a,i),this.project(s,i)).getSize(),u=Gt.any3d?this.options.zoomSnap:1,h=l.x/c.x,d=l.y/c.y,p=e?Math.max(h,d):Math.min(h,d);return i=this.getScaleZoom(p,i),u&&(i=Math.round(i/(u/100))*(u/100),i=e?Math.ceil(i/u)*u:Math.floor(i/u)*u),Math.max(o,Math.min(r,i))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new A(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,e){var n=this._getTopLeftPoint(t,e);return new N(n,n.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(void 0===t?this.getZoom():t)},getPane:function(t){return"string"==typeof t?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,e){var n=this.options.crs;return e=void 0===e?this._zoom:e,n.scale(t)/n.scale(e)},getScaleZoom:function(t,e){var n=this.options.crs;e=void 0===e?this._zoom:e;var i=n.zoom(t*n.scale(e));return isNaN(i)?1/0:i},project:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.latLngToPoint(U(t),e)},unproject:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.pointToLatLng(k(t),e)},layerPointToLatLng:function(t){var e=k(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){return this.project(U(t))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(U(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(B(t))},distance:function(t,e){return this.options.crs.distance(U(t),U(e))},containerPointToLayerPoint:function(t){return k(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return k(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(k(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(U(t)))},mouseEventToContainerPoint:function(t){return Je(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=pe(t);if(!e)throw new Error("Map container not found.");if(e._leaflet_id)throw new Error("Map container is already initialized.");Be(e,"scroll",this._onScroll,this),this._containerId=s(e)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&Gt.any3d,be(t,"leaflet-container"+(Gt.touch?" leaflet-touch":"")+(Gt.retina?" leaflet-retina":"")+(Gt.ielt9?" leaflet-oldie":"")+(Gt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var e=fe(t,"position");"absolute"!==e&&"relative"!==e&&"fixed"!==e&&"sticky"!==e&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Me(this._mapPane,new A(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(be(t.markerPane,"leaflet-zoom-hide"),be(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,e,n){Me(this._mapPane,new A(0,0));var i=!this._loaded;this._loaded=!0,e=this._limitZoom(e),this.fire("viewprereset");var o=this._zoom!==e;this._moveStart(o,n)._move(t,e)._moveEnd(o),this.fire("viewreset"),i&&this.fire("load")},_moveStart:function(t,e){return t&&this.fire("zoomstart"),e||this.fire("movestart"),this},_move:function(t,e,n,i){void 0===e&&(e=this._zoom);var o=this._zoom!==e;return this._zoom=e,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),i?n&&n.pinch&&this.fire("zoom",n):((o||n&&n.pinch)&&this.fire("zoom",n),this.fire("move",n)),this},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return x(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){Me(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[s(this._container)]=this;var e=t?Ue:Be;e(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&e(window,"resize",this._onResize,this),Gt.any3d&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){x(this._resizeRequest),this._resizeRequest=O((function(){this.invalidateSize({debounceMoveend:!0})}),this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,e){for(var n,i=[],o="mouseout"===e||"mouseover"===e,r=t.target||t.srcElement,a=!1;r;){if((n=this._targets[s(r)])&&("click"===e||"preclick"===e)&&this._draggableMoved(n)){a=!0;break}if(n&&n.listens(e,!0)){if(o&&!en(r,t))break;if(i.push(n),o)break}if(r===this._container)break;r=r.parentNode}return i.length||a||o||!this.listens(e,!0)||(i=[this]),i},_isClickDisabled:function(t){for(;t&&t!==this._container;){if(t._leaflet_disable_click)return!0;t=t.parentNode}},_handleDOMEvent:function(t){var e=t.target||t.srcElement;if(!(!this._loaded||e._leaflet_disable_events||"click"===t.type&&this._isClickDisabled(e))){var n=t.type;"mousedown"===n&&Ie(e),this._fireDOMEvent(t,n)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,e,i){if("click"===t.type){var o=n({},t);o.type="preclick",this._fireDOMEvent(o,o.type,i)}var r=this._findEventTargets(t,e);if(i){for(var s=[],a=0;a<i.length;a++)i[a].listens(e,!0)&&s.push(i[a]);r=s.concat(r)}if(r.length){"contextmenu"===e&&Xe(t);var l=r[0],c={originalEvent:t};if("keypress"!==t.type&&"keydown"!==t.type&&"keyup"!==t.type){var u=l.getLatLng&&(!l._radius||l._radius<=10);c.containerPoint=u?this.latLngToContainerPoint(l.getLatLng()):this.mouseEventToContainerPoint(t),c.layerPoint=this.containerPointToLayerPoint(c.containerPoint),c.latlng=u?l.getLatLng():this.layerPointToLatLng(c.layerPoint)}for(a=0;a<r.length;a++)if(r[a].fire(e,c,!0),c.originalEvent._stopped||!1===r[a].options.bubblingMouseEvents&&-1!==y(this._mouseEvents,e))return}},_draggableMoved:function(t){return(t=t.dragging&&t.dragging.enabled()?t:this).dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,e=this._handlers.length;t<e;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,{target:this}):this.on("load",t,e),this},_getMapPanePos:function(){return De(this._mapPane)||new A(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,e){return(t&&void 0!==e?this._getNewPixelOrigin(t,e):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,e){var n=this.getSize()._divideBy(2);return this.project(t,e)._subtract(n)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,e,n){var i=this._getNewPixelOrigin(n,e);return this.project(t,e)._subtract(i)},_latLngBoundsToNewLayerBounds:function(t,e,n){var i=this._getNewPixelOrigin(n,e);return F([this.project(t.getSouthWest(),e)._subtract(i),this.project(t.getNorthWest(),e)._subtract(i),this.project(t.getSouthEast(),e)._subtract(i),this.project(t.getNorthEast(),e)._subtract(i)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,n){if(!n)return t;var i=this.project(t,e),o=this.getSize().divideBy(2),r=new N(i.subtract(o),i.add(o)),s=this._getBoundsOffset(r,n,e);return Math.abs(s.x)<=1&&Math.abs(s.y)<=1?t:this.unproject(i.add(s),e)},_limitOffset:function(t,e){if(!e)return t;var n=this.getPixelBounds(),i=new N(n.min.add(t),n.max.add(t));return t.add(this._getBoundsOffset(i,e))},_getBoundsOffset:function(t,e,n){var i=F(this.project(e.getNorthEast(),n),this.project(e.getSouthWest(),n)),o=i.min.subtract(t.min),r=i.max.subtract(t.max);return new A(this._rebound(o.x,-r.x),this._rebound(o.y,-r.y))},_rebound:function(t,e){return t+e>0?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),n=this.getMaxZoom(),i=Gt.any3d?this.options.zoomSnap:1;return i&&(t=Math.round(t/i)*i),Math.max(e,Math.min(n,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Ee(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){var n=this._getCenterOffset(t)._trunc();return!(!0!==(e&&e.animate)&&!this.getSize().contains(n)||(this.panBy(n,e),0))},_createAnimProxy:function(){var t=this._proxy=ge("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",(function(t){var e=ue,n=this._proxy.style[e];Te(this._proxy,this.project(t.center,t.zoom),this.getZoomScale(t.zoom,1)),n===this._proxy.style[e]&&this._animatingZoom&&this._onZoomTransitionEnd()}),this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){me(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),e=this.getZoom();Te(this._proxy,this.project(t,e),this.getZoomScale(e,1))},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,n){if(this._animatingZoom)return!0;if(n=n||{},!this._zoomAnimated||!1===n.animate||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var i=this.getZoomScale(e),o=this._getCenterOffset(t)._divideBy(1-1/i);return!(!0!==n.animate&&!this.getSize().contains(o)||(O((function(){this._moveStart(!0,!1)._animateZoom(t,e,!0)}),this),0))},_animateZoom:function(t,e,n,i){this._mapPane&&(n&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=e,be(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:e,noUpdate:i}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(o(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Ee(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function sn(t,e){return new rn(t,e)}var an=T.extend({options:{position:"topright"},initialize:function(t){p(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var e=this._container=this.onAdd(t),n=this.getPosition(),i=t._controlCorners[n];return be(e,"leaflet-control"),-1!==n.indexOf("bottom")?i.insertBefore(e,i.firstChild):i.appendChild(e),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(me(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),ln=function(t){return new an(t)};rn.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},e="leaflet-",n=this._controlContainer=ge("div",e+"control-container",this._container);function i(i,o){var r=e+i+" "+e+o;t[i+o]=ge("div",r,n)}i("top","left"),i("top","right"),i("bottom","left"),i("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)me(this._controlCorners[t]);me(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var cn=an.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,e,n,i){return n<i?-1:i<n?1:0}},initialize:function(t,e,n){for(var i in p(this,n),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,t)this._addLayer(t[i],i);for(i in e)this._addLayer(e[i],i,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return an.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._map?this._update():this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var e=this._getLayer(s(t));return e&&this._layers.splice(this._layers.indexOf(e),1),this._map?this._update():this},expand:function(){be(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(be(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):Ee(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Ee(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=ge("div",t),n=this.options.collapsed;e.setAttribute("aria-haspopup",!0),Ye(e),Ke(e);var i=this._section=ge("section",t+"-list");n&&(this._map.on("click",this.collapse,this),Be(e,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var o=this._layersLink=ge("a",t+"-toggle",e);o.href="#",o.title="Layers",o.setAttribute("role","button"),Be(o,{keydown:function(t){13===t.keyCode&&this._expandSafely()},click:function(t){Xe(t),this._expandSafely()}},this),n||this.expand(),this._baseLayersList=ge("div",t+"-base",i),this._separator=ge("div",t+"-separator",i),this._overlaysList=ge("div",t+"-overlays",i),e.appendChild(i)},_getLayer:function(t){for(var e=0;e<this._layers.length;e++)if(this._layers[e]&&s(this._layers[e].layer)===t)return this._layers[e]},_addLayer:function(t,e,n){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:e,overlay:n}),this.options.sortLayers&&this._layers.sort(o((function(t,e){return this.options.sortFunction(t.layer,e.layer,t.name,e.name)}),this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;_e(this._baseLayersList),_e(this._overlaysList),this._layerControlInputs=[];var t,e,n,i,o=0;for(n=0;n<this._layers.length;n++)i=this._layers[n],this._addItem(i),e=e||i.overlay,t=t||!i.overlay,o+=i.overlay?0:1;return this.options.hideSingleBase&&(t=t&&o>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=e&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var e=this._getLayer(s(t.target)),n=e.overlay?"add"===t.type?"overlayadd":"overlayremove":"add"===t.type?"baselayerchange":null;n&&this._map.fire(n,e)},_createRadioElement:function(t,e){var n='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(e?' checked="checked"':"")+"/>",i=document.createElement("div");return i.innerHTML=n,i.firstChild},_addItem:function(t){var e,n=document.createElement("label"),i=this._map.hasLayer(t.layer);t.overlay?((e=document.createElement("input")).type="checkbox",e.className="leaflet-control-layers-selector",e.defaultChecked=i):e=this._createRadioElement("leaflet-base-layers_"+s(this),i),this._layerControlInputs.push(e),e.layerId=s(t.layer),Be(e,"click",this._onInputClick,this);var o=document.createElement("span");o.innerHTML=" "+t.name;var r=document.createElement("span");return n.appendChild(r),r.appendChild(e),r.appendChild(o),(t.overlay?this._overlaysList:this._baseLayersList).appendChild(n),this._checkDisabledLayers(),n},_onInputClick:function(){var t,e,n=this._layerControlInputs,i=[],o=[];this._handlingClick=!0;for(var r=n.length-1;r>=0;r--)t=n[r],e=this._getLayer(t.layerId).layer,t.checked?i.push(e):t.checked||o.push(e);for(r=0;r<o.length;r++)this._map.hasLayer(o[r])&&this._map.removeLayer(o[r]);for(r=0;r<i.length;r++)this._map.hasLayer(i[r])||this._map.addLayer(i[r]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var t,e,n=this._layerControlInputs,i=this._map.getZoom(),o=n.length-1;o>=0;o--)t=n[o],e=this._getLayer(t.layerId).layer,t.disabled=void 0!==e.options.minZoom&&i<e.options.minZoom||void 0!==e.options.maxZoom&&i>e.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var t=this._section;Be(t,"click",Xe),this.expand(),setTimeout((function(){Ue(t,"click",Xe)}))}}),un=function(t,e,n){return new cn(t,e,n)},hn=an.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",n=ge("div",e+" leaflet-bar"),i=this.options;return this._zoomInButton=this._createButton(i.zoomInText,i.zoomInTitle,e+"-in",n,this._zoomIn),this._zoomOutButton=this._createButton(i.zoomOutText,i.zoomOutTitle,e+"-out",n,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),n},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,e,n,i,o){var r=ge("a",n,i);return r.innerHTML=t,r.href="#",r.title=e,r.setAttribute("role","button"),r.setAttribute("aria-label",e),Ye(r),Be(r,"click",qe),Be(r,"click",o,this),Be(r,"click",this._refocusOnMap,this),r},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";Ee(this._zoomInButton,e),Ee(this._zoomOutButton,e),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||t._zoom===t.getMinZoom())&&(be(this._zoomOutButton,e),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||t._zoom===t.getMaxZoom())&&(be(this._zoomInButton,e),this._zoomInButton.setAttribute("aria-disabled","true"))}});rn.mergeOptions({zoomControl:!0}),rn.addInitHook((function(){this.options.zoomControl&&(this.zoomControl=new hn,this.addControl(this.zoomControl))}));var dn=function(t){return new hn(t)},pn=an.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var e="leaflet-control-scale",n=ge("div",e),i=this.options;return this._addScales(i,e+"-line",n),t.on(i.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),n},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,n){t.metric&&(this._mScale=ge("div",e,n)),t.imperial&&(this._iScale=ge("div",e,n))},_update:function(){var t=this._map,e=t.getSize().y/2,n=t.distance(t.containerPointToLatLng([0,e]),t.containerPointToLatLng([this.options.maxWidth,e]));this._updateScales(n)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var e=this._getRoundNum(t),n=e<1e3?e+" m":e/1e3+" km";this._updateScale(this._mScale,n,e/t)},_updateImperial:function(t){var e,n,i,o=3.2808399*t;o>5280?(e=o/5280,n=this._getRoundNum(e),this._updateScale(this._iScale,n+" mi",n/e)):(i=this._getRoundNum(o),this._updateScale(this._iScale,i+" ft",i/o))},_updateScale:function(t,e,n){t.style.width=Math.round(this.options.maxWidth*n)+"px",t.innerHTML=e},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),n=t/e;return e*(n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1)}}),fn=function(t){return new pn(t)},gn='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',mn=an.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Gt.inlineSvg?gn+" ":"")+"Leaflet</a>"},initialize:function(t){p(this,t),this._attributions={}},onAdd:function(t){for(var e in t.attributionControl=this,this._container=ge("div","leaflet-control-attribution"),Ye(this._container),t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return this._update(),t.on("layeradd",this._addAttribution,this),this._container},onRemove:function(t){t.off("layeradd",this._addAttribution,this)},_addAttribution:function(t){t.layer.getAttribution&&(this.addAttribution(t.layer.getAttribution()),t.layer.once("remove",(function(){this.removeAttribution(t.layer.getAttribution())}),this))},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions[e]&&t.push(e);var n=[];this.options.prefix&&n.push(this.options.prefix),t.length&&n.push(t.join(", ")),this._container.innerHTML=n.join(' <span aria-hidden="true">|</span> ')}}});rn.mergeOptions({attributionControl:!0}),rn.addInitHook((function(){this.options.attributionControl&&(new mn).addTo(this)}));var _n=function(t){return new mn(t)};an.Layers=cn,an.Zoom=hn,an.Scale=pn,an.Attribution=mn,ln.layers=un,ln.zoom=dn,ln.scale=fn,ln.attribution=_n;var yn=T.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});yn.addTo=function(t,e){return t.addHandler(e,this),this};var vn,Cn={Events:D},bn=Gt.touch?"touchstart mousedown":"mousedown",En=R.extend({options:{clickTolerance:3},initialize:function(t,e,n,i){p(this,i),this._element=t,this._dragStartTarget=e||t,this._preventOutline=n},enable:function(){this._enabled||(Be(this._dragStartTarget,bn,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(En._dragging===this&&this.finishDrag(!0),Ue(this._dragStartTarget,bn,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(this._enabled&&(this._moved=!1,!Ce(this._element,"leaflet-zoom-anim")))if(t.touches&&1!==t.touches.length)En._dragging===this&&this.finishDrag();else if(!(En._dragging||t.shiftKey||1!==t.which&&1!==t.button&&!t.touches||(En._dragging=this,this._preventOutline&&Ie(this._element),Ae(),re(),this._moving))){this.fire("down");var e=t.touches?t.touches[0]:t,n=Ne(this._element);this._startPoint=new A(e.clientX,e.clientY),this._startPos=De(this._element),this._parentScale=Fe(n);var i="mousedown"===t.type;Be(document,i?"mousemove":"touchmove",this._onMove,this),Be(document,i?"mouseup":"touchend touchcancel",this._onUp,this)}},_onMove:function(t){if(this._enabled)if(t.touches&&t.touches.length>1)this._moved=!0;else{var e=t.touches&&1===t.touches.length?t.touches[0]:t,n=new A(e.clientX,e.clientY)._subtract(this._startPoint);(n.x||n.y)&&(Math.abs(n.x)+Math.abs(n.y)<this.options.clickTolerance||(n.x/=this._parentScale.x,n.y/=this._parentScale.y,Xe(t),this._moved||(this.fire("dragstart"),this._moved=!0,be(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),be(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(n),this._moving=!0,this._lastEvent=t,this._updatePosition()))}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),Me(this._element,this._newPos),this.fire("drag",t)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(t){Ee(document.body,"leaflet-dragging"),this._lastTarget&&(Ee(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Ue(document,"mousemove touchmove",this._onMove,this),Ue(document,"mouseup touchend touchcancel",this._onUp,this),Le(),se(),this._moved&&this._moving&&this.fire("dragend",{noInertia:t,distance:this._newPos.distanceTo(this._startPos)}),this._moving=!1,En._dragging=!1}});function Sn(t,e){if(!e||!t.length)return t.slice();var n=e*e;return t=xn(t=Tn(t,n),n)}function wn(t,e,n){return Math.sqrt(Ln(t,e,n,!0))}function On(t,e,n){return Ln(t,e,n)}function xn(t,e){var n=t.length,i=new(typeof Uint8Array!=void 0+""?Uint8Array:Array)(n);i[0]=i[n-1]=1,Pn(t,i,e,0,n-1);var o,r=[];for(o=0;o<n;o++)i[o]&&r.push(t[o]);return r}function Pn(t,e,n,i,o){var r,s,a,l=0;for(s=i+1;s<=o-1;s++)(a=Ln(t[s],t[i],t[o],!0))>l&&(r=s,l=a);l>n&&(e[r]=1,Pn(t,e,n,i,r),Pn(t,e,n,r,o))}function Tn(t,e){for(var n=[t[0]],i=1,o=0,r=t.length;i<r;i++)An(t[i],t[o])>e&&(n.push(t[i]),o=i);return o<r-1&&n.push(t[r-1]),n}function Mn(t,e,n,i,o){var r,s,a,l=i?vn:Rn(t,n),c=Rn(e,n);for(vn=c;;){if(!(l|c))return[t,e];if(l&c)return!1;a=Rn(s=Dn(t,e,r=l||c,n,o),n),r===l?(t=s,l=a):(e=s,c=a)}}function Dn(t,e,n,i,o){var r,s,a=e.x-t.x,l=e.y-t.y,c=i.min,u=i.max;return 8&n?(r=t.x+a*(u.y-t.y)/l,s=u.y):4&n?(r=t.x+a*(c.y-t.y)/l,s=c.y):2&n?(r=u.x,s=t.y+l*(u.x-t.x)/a):1&n&&(r=c.x,s=t.y+l*(c.x-t.x)/a),new A(r,s,o)}function Rn(t,e){var n=0;return t.x<e.min.x?n|=1:t.x>e.max.x&&(n|=2),t.y<e.min.y?n|=4:t.y>e.max.y&&(n|=8),n}function An(t,e){var n=e.x-t.x,i=e.y-t.y;return n*n+i*i}function Ln(t,e,n,i){var o,r=e.x,s=e.y,a=n.x-r,l=n.y-s,c=a*a+l*l;return c>0&&((o=((t.x-r)*a+(t.y-s)*l)/c)>1?(r=n.x,s=n.y):o>0&&(r+=a*o,s+=l*o)),a=t.x-r,l=t.y-s,i?a*a+l*l:new A(r,s)}function In(t){return!_(t[0])||"object"!=typeof t[0][0]&&void 0!==t[0][0]}function kn(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),In(t)}function Nn(t,e){var n,i,o,r,s,a,l,c;if(!t||0===t.length)throw new Error("latlngs not passed");In(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var u=[];for(var h in t)u.push(e.project(U(t[h])));var d=u.length;for(n=0,i=0;n<d-1;n++)i+=u[n].distanceTo(u[n+1])/2;if(0===i)c=u[0];else for(n=0,r=0;n<d-1;n++)if(s=u[n],a=u[n+1],(r+=o=s.distanceTo(a))>i){l=(r-i)/o,c=[a.x-l*(a.x-s.x),a.y-l*(a.y-s.y)];break}return e.unproject(k(c))}var Fn={__proto__:null,simplify:Sn,pointToSegmentDistance:wn,closestPointOnSegment:On,clipSegment:Mn,_getEdgeIntersection:Dn,_getBitCode:Rn,_sqClosestPointOnSegment:Ln,isFlat:In,_flat:kn,polylineCenter:Nn};function Gn(t,e,n){var i,o,r,s,a,l,c,u,h,d=[1,4,2,8];for(o=0,c=t.length;o<c;o++)t[o]._code=Rn(t[o],e);for(s=0;s<4;s++){for(u=d[s],i=[],o=0,r=(c=t.length)-1;o<c;r=o++)a=t[o],l=t[r],a._code&u?l._code&u||((h=Dn(l,a,u,e,n))._code=Rn(h,e),i.push(h)):(l._code&u&&((h=Dn(l,a,u,e,n))._code=Rn(h,e),i.push(h)),i.push(a));t=i}return t}function Bn(t,e){var n,i,o,r,s,a,l,c,u;if(!t||0===t.length)throw new Error("latlngs not passed");In(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var h=[];for(var d in t)h.push(e.project(U(t[d])));var p=h.length;for(a=l=c=0,n=0,i=p-1;n<p;i=n++)o=h[n],r=h[i],s=o.y*r.x-r.y*o.x,l+=(o.x+r.x)*s,c+=(o.y+r.y)*s,a+=3*s;return u=0===a?h[0]:[l/a,c/a],e.unproject(k(u))}var jn={__proto__:null,clipPolygon:Gn,polygonCenter:Bn},Un={project:function(t){return new A(t.lng,t.lat)},unproject:function(t){return new j(t.y,t.x)},bounds:new N([-180,-90],[180,90])},Vn={R:6378137,R_MINOR:6356752.314245179,bounds:new N([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(t){var e=Math.PI/180,n=this.R,i=t.lat*e,o=this.R_MINOR/n,r=Math.sqrt(1-o*o),s=r*Math.sin(i),a=Math.tan(Math.PI/4-i/2)/Math.pow((1-s)/(1+s),r/2);return i=-n*Math.log(Math.max(a,1e-10)),new A(t.lng*e*n,i)},unproject:function(t){for(var e,n=180/Math.PI,i=this.R,o=this.R_MINOR/i,r=Math.sqrt(1-o*o),s=Math.exp(-t.y/i),a=Math.PI/2-2*Math.atan(s),l=0,c=.1;l<15&&Math.abs(c)>1e-7;l++)e=r*Math.sin(a),e=Math.pow((1-e)/(1+e),r/2),a+=c=Math.PI/2-2*Math.atan(s*e)-a;return new j(a*n,t.x*n/i)}},Wn={__proto__:null,LonLat:Un,Mercator:Vn,SphericalMercator:z},Hn=n({},H,{code:"EPSG:3395",projection:Vn,transformation:function(){var t=.5/(Math.PI*Vn.R);return Y(t,.5,-t,.5)}()}),$n=n({},H,{code:"EPSG:4326",projection:Un,transformation:Y(1/180,1,-1/180,.5)}),zn=n({},W,{projection:Un,transformation:Y(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,e){var n=e.lng-t.lng,i=e.lat-t.lat;return Math.sqrt(n*n+i*i)},infinite:!0});W.Earth=H,W.EPSG3395=Hn,W.EPSG3857=X,W.EPSG900913=q,W.EPSG4326=$n,W.Simple=zn;var Kn=R.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[s(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[s(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var e=t.target;if(e.hasLayer(this)){if(this._map=e,this._zoomAnimated=e._zoomAnimated,this.getEvents){var n=this.getEvents();e.on(n,this),this.once("remove",(function(){e.off(n,this)}),this)}this.onAdd(e),this.fire("add"),e.fire("layeradd",{layer:this})}}});rn.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var e=s(t);return this._layers[e]||(this._layers[e]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t)),this},removeLayer:function(t){var e=s(t);return this._layers[e]?(this._loaded&&t.onRemove(this),delete this._layers[e],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return s(t)in this._layers},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},_addLayers:function(t){for(var e=0,n=(t=t?_(t)?t:[t]:[]).length;e<n;e++)this.addLayer(t[e])},_addZoomLimit:function(t){isNaN(t.options.maxZoom)&&isNaN(t.options.minZoom)||(this._zoomBoundLayers[s(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var e=s(t);this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,e=-1/0,n=this._getZoomSpan();for(var i in this._zoomBoundLayers){var o=this._zoomBoundLayers[i].options;t=void 0===o.minZoom?t:Math.min(t,o.minZoom),e=void 0===o.maxZoom?e:Math.max(e,o.maxZoom)}this._layersMaxZoom=e===-1/0?void 0:e,this._layersMinZoom=t===1/0?void 0:t,n!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Yn=Kn.extend({initialize:function(t,e){var n,i;if(p(this,e),this._layers={},t)for(n=0,i=t.length;n<i;n++)this.addLayer(t[n])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(t){return("number"==typeof t?t:this.getLayerId(t))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var e,n,i=Array.prototype.slice.call(arguments,1);for(e in this._layers)(n=this._layers[e])[t]&&n[t].apply(n,i);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return s(t)}}),Xn=function(t,e){return new Yn(t,e)},qn=Yn.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),Yn.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),Yn.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new G;for(var e in this._layers){var n=this._layers[e];t.extend(n.getBounds?n.getBounds():n.getLatLng())}return t}}),Zn=function(t,e){return new qn(t,e)},Jn=T.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(t){p(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var n=this._getIconUrl(t);if(!n){if("icon"===t)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var i=this._createImg(n,e&&"IMG"===e.tagName?e:null);return this._setIconStyles(i,t),(this.options.crossOrigin||""===this.options.crossOrigin)&&(i.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),i},_setIconStyles:function(t,e){var n=this.options,i=n[e+"Size"];"number"==typeof i&&(i=[i,i]);var o=k(i),r=k("shadow"===e&&n.shadowAnchor||n.iconAnchor||o&&o.divideBy(2,!0));t.className="leaflet-marker-"+e+" "+(n.className||""),r&&(t.style.marginLeft=-r.x+"px",t.style.marginTop=-r.y+"px"),o&&(t.style.width=o.x+"px",t.style.height=o.y+"px")},_createImg:function(t,e){return(e=e||document.createElement("img")).src=t,e},_getIconUrl:function(t){return Gt.retina&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}});function Qn(t){return new Jn(t)}var ti=Jn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return"string"!=typeof ti.imagePath&&(ti.imagePath=this._detectIconPath()),(this.options.imagePath||ti.imagePath)+Jn.prototype._getIconUrl.call(this,t)},_stripUrl:function(t){var e=function(t,e,n){var i=e.exec(t);return i&&i[n]};return(t=e(t,/^url\((['"])?(.+)\1\)$/,2))&&e(t,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var t=ge("div","leaflet-default-icon-path",document.body),e=fe(t,"background-image")||fe(t,"backgroundImage");if(document.body.removeChild(t),e=this._stripUrl(e))return e;var n=document.querySelector('link[href$="leaflet.css"]');return n?n.href.substring(0,n.href.length-11-1):""}}),ei=yn.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new En(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),be(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Ee(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var e=this._marker,n=e._map,i=this._marker.options.autoPanSpeed,o=this._marker.options.autoPanPadding,r=De(e._icon),s=n.getPixelBounds(),a=n.getPixelOrigin(),l=F(s.min._subtract(a).add(o),s.max._subtract(a).subtract(o));if(!l.contains(r)){var c=k((Math.max(l.max.x,r.x)-l.max.x)/(s.max.x-l.max.x)-(Math.min(l.min.x,r.x)-l.min.x)/(s.min.x-l.min.x),(Math.max(l.max.y,r.y)-l.max.y)/(s.max.y-l.max.y)-(Math.min(l.min.y,r.y)-l.min.y)/(s.min.y-l.min.y)).multiplyBy(i);n.panBy(c,{animate:!1}),this._draggable._newPos._add(c),this._draggable._startPos._add(c),Me(e._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=O(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(x(this._panRequest),this._panRequest=O(this._adjustPan.bind(this,t)))},_onDrag:function(t){var e=this._marker,n=e._shadow,i=De(e._icon),o=e._map.layerPointToLatLng(i);n&&Me(n,i),e._latlng=o,t.latlng=o,t.oldLatLng=this._oldLatLng,e.fire("move",t).fire("drag",t)},_onDragEnd:function(t){x(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),ni=Kn.extend({options:{icon:new ti,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,e){p(this,e),this._latlng=U(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var e=this._latlng;return this._latlng=U(t),this.update(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,e="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),n=t.icon.createIcon(this._icon),i=!1;n!==this._icon&&(this._icon&&this._removeIcon(),i=!0,t.title&&(n.title=t.title),"IMG"===n.tagName&&(n.alt=t.alt||"")),be(n,e),t.keyboard&&(n.tabIndex="0",n.setAttribute("role","button")),this._icon=n,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Be(n,"focus",this._panOnFocus,this);var o=t.icon.createShadow(this._shadow),r=!1;o!==this._shadow&&(this._removeShadow(),r=!0),o&&(be(o,e),o.alt=""),this._shadow=o,t.opacity<1&&this._updateOpacity(),i&&this.getPane().appendChild(this._icon),this._initInteraction(),o&&r&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ue(this._icon,"focus",this._panOnFocus,this),me(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&me(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&Me(this._icon,t),this._shadow&&Me(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(this.options.interactive&&(be(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),ei)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new ei(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&Oe(this._icon,t),this._shadow&&Oe(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var t=this._map;if(t){var e=this.options.icon.options,n=e.iconSize?k(e.iconSize):k(0,0),i=e.iconAnchor?k(e.iconAnchor):k(0,0);t.panInside(this._latlng,{paddingTopLeft:i,paddingBottomRight:n.subtract(i)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function ii(t,e){return new ni(t,e)}var oi=Kn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return p(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&Object.prototype.hasOwnProperty.call(t,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),ri=oi.extend({options:{fill:!0,radius:10},initialize:function(t,e){p(this,e),this._latlng=U(t),this._radius=this.options.radius},setLatLng:function(t){var e=this._latlng;return this._latlng=U(t),this.redraw(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var e=t&&t.radius||this._radius;return oi.prototype.setStyle.call(this,t),this.setRadius(e),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,e=this._radiusY||t,n=this._clickTolerance(),i=[t+n,e+n];this._pxBounds=new N(this._point.subtract(i),this._point.add(i))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function si(t,e){return new ri(t,e)}var ai=ri.extend({initialize:function(t,e,i){if("number"==typeof e&&(e=n({},i,{radius:e})),p(this,e),this._latlng=U(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new G(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:oi.prototype.setStyle,_project:function(){var t=this._latlng.lng,e=this._latlng.lat,n=this._map,i=n.options.crs;if(i.distance===H.distance){var o=Math.PI/180,r=this._mRadius/H.R/o,s=n.project([e+r,t]),a=n.project([e-r,t]),l=s.add(a).divideBy(2),c=n.unproject(l).lat,u=Math.acos((Math.cos(r*o)-Math.sin(e*o)*Math.sin(c*o))/(Math.cos(e*o)*Math.cos(c*o)))/o;(isNaN(u)||0===u)&&(u=r/Math.cos(Math.PI/180*e)),this._point=l.subtract(n.getPixelOrigin()),this._radius=isNaN(u)?0:l.x-n.project([c,t-u]).x,this._radiusY=l.y-s.y}else{var h=i.unproject(i.project(this._latlng).subtract([this._mRadius,0]));this._point=n.latLngToLayerPoint(this._latlng),this._radius=this._point.x-n.latLngToLayerPoint(h).x}this._updateBounds()}});function li(t,e,n){return new ai(t,e,n)}var ci=oi.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,e){p(this,e),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var e,n,i=1/0,o=null,r=Ln,s=0,a=this._parts.length;s<a;s++)for(var l=this._parts[s],c=1,u=l.length;c<u;c++){var h=r(t,e=l[c-1],n=l[c],!0);h<i&&(i=h,o=r(t,e,n))}return o&&(o.distance=Math.sqrt(i)),o},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Nn(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(t,e){return e=e||this._defaultShape(),t=U(t),e.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new G,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return In(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var e=[],n=In(t),i=0,o=t.length;i<o;i++)n?(e[i]=U(t[i]),this._bounds.extend(e[i])):e[i]=this._convertLatLngs(t[i]);return e},_project:function(){var t=new N;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),e=new A(t,t);this._rawPxBounds&&(this._pxBounds=new N([this._rawPxBounds.min.subtract(e),this._rawPxBounds.max.add(e)]))},_projectLatlngs:function(t,e,n){var i,o,r=t[0]instanceof j,s=t.length;if(r){for(o=[],i=0;i<s;i++)o[i]=this._map.latLngToLayerPoint(t[i]),n.extend(o[i]);e.push(o)}else for(i=0;i<s;i++)this._projectLatlngs(t[i],e,n)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else{var e,n,i,o,r,s,a,l=this._parts;for(e=0,i=0,o=this._rings.length;e<o;e++)for(n=0,r=(a=this._rings[e]).length;n<r-1;n++)(s=Mn(a[n],a[n+1],t,n,!0))&&(l[i]=l[i]||[],l[i].push(s[0]),s[1]===a[n+1]&&n!==r-2||(l[i].push(s[1]),i++))}},_simplifyPoints:function(){for(var t=this._parts,e=this.options.smoothFactor,n=0,i=t.length;n<i;n++)t[n]=Sn(t[n],e)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,e){var n,i,o,r,s,a,l=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(n=0,r=this._parts.length;n<r;n++)for(i=0,o=(s=(a=this._parts[n]).length)-1;i<s;o=i++)if((e||0!==i)&&wn(t,a[o],a[i])<=l)return!0;return!1}});function ui(t,e){return new ci(t,e)}ci._flat=kn;var hi=ci.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Bn(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(t){var e=ci.prototype._convertLatLngs.call(this,t),n=e.length;return n>=2&&e[0]instanceof j&&e[0].equals(e[n-1])&&e.pop(),e},_setLatLngs:function(t){ci.prototype._setLatLngs.call(this,t),In(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return In(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,e=this.options.weight,n=new A(e,e);if(t=new N(t.min.subtract(n),t.max.add(n)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else for(var i,o=0,r=this._rings.length;o<r;o++)(i=Gn(this._rings[o],t,!0)).length&&this._parts.push(i)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var e,n,i,o,r,s,a,l,c=!1;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(o=0,a=this._parts.length;o<a;o++)for(r=0,s=(l=(e=this._parts[o]).length)-1;r<l;s=r++)n=e[r],i=e[s],n.y>t.y!=i.y>t.y&&t.x<(i.x-n.x)*(t.y-n.y)/(i.y-n.y)+n.x&&(c=!c);return c||ci.prototype._containsPoint.call(this,t,!0)}});function di(t,e){return new hi(t,e)}var pi=qn.extend({initialize:function(t,e){p(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e,n,i,o=_(t)?t:t.features;if(o){for(e=0,n=o.length;e<n;e++)((i=o[e]).geometries||i.geometry||i.features||i.coordinates)&&this.addData(i);return this}var r=this.options;if(r.filter&&!r.filter(t))return this;var s=fi(t,r);return s?(s.feature=bi(t),s.defaultOptions=s.options,this.resetStyle(s),r.onEachFeature&&r.onEachFeature(t,s),this.addLayer(s)):this},resetStyle:function(t){return void 0===t?this.eachLayer(this.resetStyle,this):(t.options=n({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(t){return this.eachLayer((function(e){this._setLayerStyle(e,t)}),this)},_setLayerStyle:function(t,e){t.setStyle&&("function"==typeof e&&(e=e(t.feature)),t.setStyle(e))}});function fi(t,e){var n,i,o,r,s="Feature"===t.type?t.geometry:t,a=s?s.coordinates:null,l=[],c=e&&e.pointToLayer,u=e&&e.coordsToLatLng||mi;if(!a&&!s)return null;switch(s.type){case"Point":return gi(c,t,n=u(a),e);case"MultiPoint":for(o=0,r=a.length;o<r;o++)n=u(a[o]),l.push(gi(c,t,n,e));return new qn(l);case"LineString":case"MultiLineString":return i=_i(a,"LineString"===s.type?0:1,u),new ci(i,e);case"Polygon":case"MultiPolygon":return i=_i(a,"Polygon"===s.type?1:2,u),new hi(i,e);case"GeometryCollection":for(o=0,r=s.geometries.length;o<r;o++){var h=fi({geometry:s.geometries[o],type:"Feature",properties:t.properties},e);h&&l.push(h)}return new qn(l);case"FeatureCollection":for(o=0,r=s.features.length;o<r;o++){var d=fi(s.features[o],e);d&&l.push(d)}return new qn(l);default:throw new Error("Invalid GeoJSON object.")}}function gi(t,e,n,i){return t?t(e,n):new ni(n,i&&i.markersInheritOptions&&i)}function mi(t){return new j(t[1],t[0],t[2])}function _i(t,e,n){for(var i,o=[],r=0,s=t.length;r<s;r++)i=e?_i(t[r],e-1,n):(n||mi)(t[r]),o.push(i);return o}function yi(t,e){return void 0!==(t=U(t)).alt?[u(t.lng,e),u(t.lat,e),u(t.alt,e)]:[u(t.lng,e),u(t.lat,e)]}function vi(t,e,n,i){for(var o=[],r=0,s=t.length;r<s;r++)o.push(e?vi(t[r],In(t[r])?0:e-1,n,i):yi(t[r],i));return!e&&n&&o.push(o[0].slice()),o}function Ci(t,e){return t.feature?n({},t.feature,{geometry:e}):bi(e)}function bi(t){return"Feature"===t.type||"FeatureCollection"===t.type?t:{type:"Feature",properties:{},geometry:t}}var Ei={toGeoJSON:function(t){return Ci(this,{type:"Point",coordinates:yi(this.getLatLng(),t)})}};function Si(t,e){return new pi(t,e)}ni.include(Ei),ai.include(Ei),ri.include(Ei),ci.include({toGeoJSON:function(t){var e=!In(this._latlngs);return Ci(this,{type:(e?"Multi":"")+"LineString",coordinates:vi(this._latlngs,e?1:0,!1,t)})}}),hi.include({toGeoJSON:function(t){var e=!In(this._latlngs),n=e&&!In(this._latlngs[0]),i=vi(this._latlngs,n?2:e?1:0,!0,t);return e||(i=[i]),Ci(this,{type:(n?"Multi":"")+"Polygon",coordinates:i})}}),Yn.include({toMultiPoint:function(t){var e=[];return this.eachLayer((function(n){e.push(n.toGeoJSON(t).geometry.coordinates)})),Ci(this,{type:"MultiPoint",coordinates:e})},toGeoJSON:function(t){var e=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===e)return this.toMultiPoint(t);var n="GeometryCollection"===e,i=[];return this.eachLayer((function(e){if(e.toGeoJSON){var o=e.toGeoJSON(t);if(n)i.push(o.geometry);else{var r=bi(o);"FeatureCollection"===r.type?i.push.apply(i,r.features):i.push(r)}}})),n?Ci(this,{geometries:i,type:"GeometryCollection"}):{type:"FeatureCollection",features:i}}});var wi=Si,Oi=Kn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,e,n){this._url=t,this._bounds=B(e),p(this,n)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(be(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){me(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&ye(this._image),this},bringToBack:function(){return this._map&&ve(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=B(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t="IMG"===this._url.tagName,e=this._image=t?this._url:ge("img");be(e,"leaflet-image-layer"),this._zoomAnimated&&be(e,"leaflet-zoom-animated"),this.options.className&&be(e,this.options.className),e.onselectstart=c,e.onmousemove=c,e.onload=o(this.fire,this,"load"),e.onerror=o(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(e.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t?this._url=e.src:(e.src=this._url,e.alt=this.options.alt)},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),n=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;Te(this._image,n,e)},_reset:function(){var t=this._image,e=new N(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),n=e.getSize();Me(t,e.min),t.style.width=n.x+"px",t.style.height=n.y+"px"},_updateOpacity:function(){Oe(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)},getCenter:function(){return this._bounds.getCenter()}}),xi=function(t,e,n){return new Oi(t,e,n)},Pi=Oi.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var t="VIDEO"===this._url.tagName,e=this._image=t?this._url:ge("video");if(be(e,"leaflet-image-layer"),this._zoomAnimated&&be(e,"leaflet-zoom-animated"),this.options.className&&be(e,this.options.className),e.onselectstart=c,e.onmousemove=c,e.onloadeddata=o(this.fire,this,"load"),t){for(var n=e.getElementsByTagName("source"),i=[],r=0;r<n.length;r++)i.push(n[r].src);this._url=n.length>0?i:[e.src]}else{_(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(e.style,"objectFit")&&(e.style.objectFit="fill"),e.autoplay=!!this.options.autoplay,e.loop=!!this.options.loop,e.muted=!!this.options.muted,e.playsInline=!!this.options.playsInline;for(var s=0;s<this._url.length;s++){var a=ge("source");a.src=this._url[s],e.appendChild(a)}}}});function Ti(t,e,n){return new Pi(t,e,n)}var Mi=Oi.extend({_initImage:function(){var t=this._image=this._url;be(t,"leaflet-image-layer"),this._zoomAnimated&&be(t,"leaflet-zoom-animated"),this.options.className&&be(t,this.options.className),t.onselectstart=c,t.onmousemove=c}});function Di(t,e,n){return new Mi(t,e,n)}var Ri=Kn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(t,e){t&&(t instanceof j||_(t))?(this._latlng=U(t),p(this,e)):(p(this,t),this._source=e),this.options.content&&(this._content=this.options.content)},openOn:function(t){return(t=arguments.length?t:this._source._map).hasLayer(this)||t.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(t){return this._map?this.close():(arguments.length?this._source=t:t=this._source,this._prepareOpen(),this.openOn(t._map)),this},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&Oe(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&Oe(this._container,1),this.bringToFront(),this.options.interactive&&(be(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(t){t._fadeAnimated?(Oe(this._container,0),this._removeTimeout=setTimeout(o(me,void 0,this._container),200)):me(this._container),this.options.interactive&&(Ee(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=U(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&ye(this._container),this},bringToBack:function(){return this._map&&ve(this._container),this},_prepareOpen:function(t){var e=this._source;if(!e._map)return!1;if(e instanceof qn){e=null;var n=this._source._layers;for(var i in n)if(n[i]._map){e=n[i];break}if(!e)return!1;this._source=e}if(!t)if(e.getCenter)t=e.getCenter();else if(e.getLatLng)t=e.getLatLng();else{if(!e.getBounds)throw new Error("Unable to get source layer LatLng.");t=e.getBounds().getCenter()}return this.setLatLng(t),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var t=this._contentNode,e="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof e)t.innerHTML=e;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(e)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=k(this.options.offset),n=this._getAnchor();this._zoomAnimated?Me(this._container,t.add(n)):e=e.add(t).add(n);var i=this._containerBottom=-e.y,o=this._containerLeft=-Math.round(this._containerWidth/2)+e.x;this._container.style.bottom=i+"px",this._container.style.left=o+"px"}},_getAnchor:function(){return[0,0]}});rn.include({_initOverlay:function(t,e,n,i){var o=e;return o instanceof t||(o=new t(i).setContent(e)),n&&o.setLatLng(n),o}}),Kn.include({_initOverlay:function(t,e,n,i){var o=n;return o instanceof t?(p(o,i),o._source=this):(o=e&&!i?e:new t(i,this)).setContent(n),o}});var Ai=Ri.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return!(t=arguments.length?t:this._source._map).hasLayer(this)&&t._popup&&t._popup.options.autoClose&&t.removeLayer(t._popup),t._popup=this,Ri.prototype.openOn.call(this,t)},onAdd:function(t){Ri.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof oi||this._source.on("preclick",ze))},onRemove:function(t){Ri.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof oi||this._source.off("preclick",ze))},getEvents:function(){var t=Ri.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this.close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_initLayout:function(){var t="leaflet-popup",e=this._container=ge("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),n=this._wrapper=ge("div",t+"-content-wrapper",e);if(this._contentNode=ge("div",t+"-content",n),Ye(e),Ke(this._contentNode),Be(e,"contextmenu",ze),this._tipContainer=ge("div",t+"-tip-container",e),this._tip=ge("div",t+"-tip",this._tipContainer),this.options.closeButton){var i=this._closeButton=ge("a",t+"-close-button",e);i.setAttribute("role","button"),i.setAttribute("aria-label","Close popup"),i.href="#close",i.innerHTML='<span aria-hidden="true">&#215;</span>',Be(i,"click",(function(t){Xe(t),this.close()}),this)}},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var n=t.offsetWidth;n=Math.min(n,this.options.maxWidth),n=Math.max(n,this.options.minWidth),e.width=n+1+"px",e.whiteSpace="",e.height="";var i=t.offsetHeight,o=this.options.maxHeight,r="leaflet-popup-scrolled";o&&i>o?(e.height=o+"px",be(t,r)):Ee(t,r),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),n=this._getAnchor();Me(this._container,e.add(n))},_adjustPan:function(){if(this.options.autoPan)if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning)this._autopanning=!1;else{var t=this._map,e=parseInt(fe(this._container,"marginBottom"),10)||0,n=this._container.offsetHeight+e,i=this._containerWidth,o=new A(this._containerLeft,-n-this._containerBottom);o._add(De(this._container));var r=t.layerPointToContainerPoint(o),s=k(this.options.autoPanPadding),a=k(this.options.autoPanPaddingTopLeft||s),l=k(this.options.autoPanPaddingBottomRight||s),c=t.getSize(),u=0,h=0;r.x+i+l.x>c.x&&(u=r.x+i-c.x+l.x),r.x-u-a.x<0&&(u=r.x-a.x),r.y+n+l.y>c.y&&(h=r.y+n-c.y+l.y),r.y-h-a.y<0&&(h=r.y-a.y),(u||h)&&(this.options.keepInView&&(this._autopanning=!0),t.fire("autopanstart").panBy([u,h]))}},_getAnchor:function(){return k(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Li=function(t,e){return new Ai(t,e)};rn.mergeOptions({closePopupOnClick:!0}),rn.include({openPopup:function(t,e,n){return this._initOverlay(Ai,t,e,n).openOn(this),this},closePopup:function(t){return(t=arguments.length?t:this._popup)&&t.close(),this}}),Kn.include({bindPopup:function(t,e){return this._popup=this._initOverlay(Ai,this._popup,t,e),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t){return this._popup&&(this instanceof qn||(this._popup._source=this),this._popup._prepareOpen(t||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){if(this._popup&&this._map){qe(t);var e=t.layer||t.target;this._popup._source!==e||e instanceof oi?(this._popup._source=e,this.openPopup(t.latlng)):this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(t.latlng)}},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){13===t.originalEvent.keyCode&&this._openPopup(t)}});var Ii=Ri.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(t){Ri.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(t){Ri.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var t=Ri.prototype.getEvents.call(this);return this.options.permanent||(t.preclick=this.close),t},_initLayout:function(){var t="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ge("div",t),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+s(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var e,n,i=this._map,o=this._container,r=i.latLngToContainerPoint(i.getCenter()),s=i.layerPointToContainerPoint(t),a=this.options.direction,l=o.offsetWidth,c=o.offsetHeight,u=k(this.options.offset),h=this._getAnchor();"top"===a?(e=l/2,n=c):"bottom"===a?(e=l/2,n=0):"center"===a?(e=l/2,n=c/2):"right"===a?(e=0,n=c/2):"left"===a?(e=l,n=c/2):s.x<r.x?(a="right",e=0,n=c/2):(a="left",e=l+2*(u.x+h.x),n=c/2),t=t.subtract(k(e,n,!0)).add(u).add(h),Ee(o,"leaflet-tooltip-right"),Ee(o,"leaflet-tooltip-left"),Ee(o,"leaflet-tooltip-top"),Ee(o,"leaflet-tooltip-bottom"),be(o,"leaflet-tooltip-"+a),Me(o,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&Oe(this._container,t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(e)},_getAnchor:function(){return k(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),ki=function(t,e){return new Ii(t,e)};rn.include({openTooltip:function(t,e,n){return this._initOverlay(Ii,t,e,n).openOn(this),this},closeTooltip:function(t){return t.close(),this}}),Kn.include({bindTooltip:function(t,e){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Ii,this._tooltip,t,e),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(t||!this._tooltipHandlersAdded){var e=t?"off":"on",n={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?n.add=this._openTooltip:(n.mouseover=this._openTooltip,n.mouseout=this.closeTooltip,n.click=this._openTooltip,this._map?this._addFocusListeners():n.add=this._addFocusListeners),this._tooltip.options.sticky&&(n.mousemove=this._moveTooltip),this[e](n),this._tooltipHandlersAdded=!t}},openTooltip:function(t){return this._tooltip&&(this instanceof qn||(this._tooltip._source=this),this._tooltip._prepareOpen(t)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(t){var e=t.getElement();e&&(Be(e,"focus",(function(){this._tooltip._source=t,this.openTooltip()}),this),Be(e,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(t){var e=t.getElement();e&&e.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(t){!this._tooltip||!this._map||this._map.dragging&&this._map.dragging.moving()||(this._tooltip._source=t.layer||t.target,this.openTooltip(this._tooltip.options.sticky?t.latlng:void 0))},_moveTooltip:function(t){var e,n,i=t.latlng;this._tooltip.options.sticky&&t.originalEvent&&(e=this._map.mouseEventToContainerPoint(t.originalEvent),n=this._map.containerPointToLayerPoint(e),i=this._map.layerPointToLatLng(n)),this._tooltip.setLatLng(i)}});var Ni=Jn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var e=t&&"DIV"===t.tagName?t:document.createElement("div"),n=this.options;if(n.html instanceof Element?(_e(e),e.appendChild(n.html)):e.innerHTML=!1!==n.html?n.html:"",n.bgPos){var i=k(n.bgPos);e.style.backgroundPosition=-i.x+"px "+-i.y+"px"}return this._setIconStyles(e,"icon"),e},createShadow:function(){return null}});function Fi(t){return new Ni(t)}Jn.Default=ti;var Gi=Kn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Gt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){p(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),me(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(ye(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ve(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var t=this._clampZoom(this._map.getZoom());t!==this._tileZoom&&(this._tileZoom=t,this._updateLevels()),this._update()}return this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=a(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof A?t:new A(t,t)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var e,n=this.getPane().children,i=-t(-1/0,1/0),o=0,r=n.length;o<r;o++)e=n[o].style.zIndex,n[o]!==this._container&&e&&(i=t(i,+e));isFinite(i)&&(this.options.zIndex=i+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Gt.ielt9){Oe(this._container,this.options.opacity);var t=+new Date,e=!1,n=!1;for(var i in this._tiles){var o=this._tiles[i];if(o.current&&o.loaded){var r=Math.min(1,(t-o.loaded)/200);Oe(o.el,r),r<1?e=!0:(o.active?n=!0:this._onOpaqueTile(o),o.active=!0)}}n&&!this._noPrune&&this._pruneTiles(),e&&(x(this._fadeFrame),this._fadeFrame=O(this._updateOpacity,this))}},_onOpaqueTile:c,_initContainer:function(){this._container||(this._container=ge("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,e=this.options.maxZoom;if(void 0!==t){for(var n in this._levels)n=Number(n),this._levels[n].el.children.length||n===t?(this._levels[n].el.style.zIndex=e-Math.abs(t-n),this._onUpdateLevel(n)):(me(this._levels[n].el),this._removeTilesAtZoom(n),this._onRemoveLevel(n),delete this._levels[n]);var i=this._levels[t],o=this._map;return i||((i=this._levels[t]={}).el=ge("div","leaflet-tile-container leaflet-zoom-animated",this._container),i.el.style.zIndex=e,i.origin=o.project(o.unproject(o.getPixelOrigin()),t).round(),i.zoom=t,this._setZoomTransform(i,o.getCenter(),o.getZoom()),c(i.el.offsetWidth),this._onCreateLevel(i)),this._level=i,i}},_onUpdateLevel:c,_onRemoveLevel:c,_onCreateLevel:c,_pruneTiles:function(){if(this._map){var t,e,n=this._map.getZoom();if(n>this.options.maxZoom||n<this.options.minZoom)this._removeAllTiles();else{for(t in this._tiles)(e=this._tiles[t]).retain=e.current;for(t in this._tiles)if((e=this._tiles[t]).current&&!e.active){var i=e.coords;this._retainParent(i.x,i.y,i.z,i.z-5)||this._retainChildren(i.x,i.y,i.z,i.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}}},_removeTilesAtZoom:function(t){for(var e in this._tiles)this._tiles[e].coords.z===t&&this._removeTile(e)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)me(this._levels[t].el),this._onRemoveLevel(Number(t)),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,e,n,i){var o=Math.floor(t/2),r=Math.floor(e/2),s=n-1,a=new A(+o,+r);a.z=+s;var l=this._tileCoordsToKey(a),c=this._tiles[l];return c&&c.active?(c.retain=!0,!0):(c&&c.loaded&&(c.retain=!0),s>i&&this._retainParent(o,r,s,i))},_retainChildren:function(t,e,n,i){for(var o=2*t;o<2*t+2;o++)for(var r=2*e;r<2*e+2;r++){var s=new A(o,r);s.z=n+1;var a=this._tileCoordsToKey(s),l=this._tiles[a];l&&l.active?l.retain=!0:(l&&l.loaded&&(l.retain=!0),n+1<i&&this._retainChildren(o,r,n+1,i))}},_resetView:function(t){var e=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),e,e)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var e=this.options;return void 0!==e.minNativeZoom&&t<e.minNativeZoom?e.minNativeZoom:void 0!==e.maxNativeZoom&&e.maxNativeZoom<t?e.maxNativeZoom:t},_setView:function(t,e,n,i){var o=Math.round(e);o=void 0!==this.options.maxZoom&&o>this.options.maxZoom||void 0!==this.options.minZoom&&o<this.options.minZoom?void 0:this._clampZoom(o);var r=this.options.updateWhenZooming&&o!==this._tileZoom;i&&!r||(this._tileZoom=o,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==o&&this._update(t),n||this._pruneTiles(),this._noPrune=!!n),this._setZoomTransforms(t,e)},_setZoomTransforms:function(t,e){for(var n in this._levels)this._setZoomTransform(this._levels[n],t,e)},_setZoomTransform:function(t,e,n){var i=this._map.getZoomScale(n,t.zoom),o=t.origin.multiplyBy(i).subtract(this._map._getNewPixelOrigin(e,n)).round();Gt.any3d?Te(t.el,o,i):Me(t.el,o)},_resetGrid:function(){var t=this._map,e=t.options.crs,n=this._tileSize=this.getTileSize(),i=this._tileZoom,o=this._map.getPixelWorldBounds(this._tileZoom);o&&(this._globalTileRange=this._pxBoundsToTileRange(o)),this._wrapX=e.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,e.wrapLng[0]],i).x/n.x),Math.ceil(t.project([0,e.wrapLng[1]],i).x/n.y)],this._wrapY=e.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([e.wrapLat[0],0],i).y/n.x),Math.ceil(t.project([e.wrapLat[1],0],i).y/n.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(t){var e=this._map,n=e._animatingZoom?Math.max(e._animateToZoom,e.getZoom()):e.getZoom(),i=e.getZoomScale(n,this._tileZoom),o=e.project(t,this._tileZoom).floor(),r=e.getSize().divideBy(2*i);return new N(o.subtract(r),o.add(r))},_update:function(t){var e=this._map;if(e){var n=this._clampZoom(e.getZoom());if(void 0===t&&(t=e.getCenter()),void 0!==this._tileZoom){var i=this._getTiledPixelBounds(t),o=this._pxBoundsToTileRange(i),r=o.getCenter(),s=[],a=this.options.keepBuffer,l=new N(o.getBottomLeft().subtract([a,-a]),o.getTopRight().add([a,-a]));if(!(isFinite(o.min.x)&&isFinite(o.min.y)&&isFinite(o.max.x)&&isFinite(o.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var c in this._tiles){var u=this._tiles[c].coords;u.z===this._tileZoom&&l.contains(new A(u.x,u.y))||(this._tiles[c].current=!1)}if(Math.abs(n-this._tileZoom)>1)this._setView(t,n);else{for(var h=o.min.y;h<=o.max.y;h++)for(var d=o.min.x;d<=o.max.x;d++){var p=new A(d,h);if(p.z=this._tileZoom,this._isValidTile(p)){var f=this._tiles[this._tileCoordsToKey(p)];f?f.current=!0:s.push(p)}}if(s.sort((function(t,e){return t.distanceTo(r)-e.distanceTo(r)})),0!==s.length){this._loading||(this._loading=!0,this.fire("loading"));var g=document.createDocumentFragment();for(d=0;d<s.length;d++)this._addTile(s[d],g);this._level.el.appendChild(g)}}}}},_isValidTile:function(t){var e=this._map.options.crs;if(!e.infinite){var n=this._globalTileRange;if(!e.wrapLng&&(t.x<n.min.x||t.x>n.max.x)||!e.wrapLat&&(t.y<n.min.y||t.y>n.max.y))return!1}if(!this.options.bounds)return!0;var i=this._tileCoordsToBounds(t);return B(this.options.bounds).overlaps(i)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var e=this._map,n=this.getTileSize(),i=t.scaleBy(n),o=i.add(n);return[e.unproject(i,t.z),e.unproject(o,t.z)]},_tileCoordsToBounds:function(t){var e=this._tileCoordsToNwSe(t),n=new G(e[0],e[1]);return this.options.noWrap||(n=this._map.wrapLatLngBounds(n)),n},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var e=t.split(":"),n=new A(+e[0],+e[1]);return n.z=+e[2],n},_removeTile:function(t){var e=this._tiles[t];e&&(me(e.el),delete this._tiles[t],this.fire("tileunload",{tile:e.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){be(t,"leaflet-tile");var e=this.getTileSize();t.style.width=e.x+"px",t.style.height=e.y+"px",t.onselectstart=c,t.onmousemove=c,Gt.ielt9&&this.options.opacity<1&&Oe(t,this.options.opacity)},_addTile:function(t,e){var n=this._getTilePos(t),i=this._tileCoordsToKey(t),r=this.createTile(this._wrapCoords(t),o(this._tileReady,this,t));this._initTile(r),this.createTile.length<2&&O(o(this._tileReady,this,t,null,r)),Me(r,n),this._tiles[i]={el:r,coords:t,current:!0},e.appendChild(r),this.fire("tileloadstart",{tile:r,coords:t})},_tileReady:function(t,e,n){e&&this.fire("tileerror",{error:e,tile:n,coords:t});var i=this._tileCoordsToKey(t);(n=this._tiles[i])&&(n.loaded=+new Date,this._map._fadeAnimated?(Oe(n.el,0),x(this._fadeFrame),this._fadeFrame=O(this._updateOpacity,this)):(n.active=!0,this._pruneTiles()),e||(be(n.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:n.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Gt.ielt9||!this._map._fadeAnimated?O(this._pruneTiles,this):setTimeout(o(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var e=new A(this._wrapX?l(t.x,this._wrapX):t.x,this._wrapY?l(t.y,this._wrapY):t.y);return e.z=t.z,e},_pxBoundsToTileRange:function(t){var e=this.getTileSize();return new N(t.min.unscaleBy(e).floor(),t.max.unscaleBy(e).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}});function Bi(t){return new Gi(t)}var ji=Gi.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(t,e){this._url=t,(e=p(this,e)).detectRetina&&Gt.retina&&e.maxZoom>0?(e.tileSize=Math.floor(e.tileSize/2),e.zoomReverse?(e.zoomOffset--,e.minZoom=Math.min(e.maxZoom,e.minZoom+1)):(e.zoomOffset++,e.maxZoom=Math.max(e.minZoom,e.maxZoom-1)),e.minZoom=Math.max(0,e.minZoom)):e.zoomReverse?e.minZoom=Math.min(e.maxZoom,e.minZoom):e.maxZoom=Math.max(e.minZoom,e.maxZoom),"string"==typeof e.subdomains&&(e.subdomains=e.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(t,e){return this._url===t&&void 0===e&&(e=!0),this._url=t,e||this.redraw(),this},createTile:function(t,e){var n=document.createElement("img");return Be(n,"load",o(this._tileOnLoad,this,e,n)),Be(n,"error",o(this._tileOnError,this,e,n)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(n.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),"string"==typeof this.options.referrerPolicy&&(n.referrerPolicy=this.options.referrerPolicy),n.alt="",n.src=this.getTileUrl(t),n},getTileUrl:function(t){var e={r:Gt.retina?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var i=this._globalTileRange.max.y-t.y;this.options.tms&&(e.y=i),e["-y"]=i}return m(this._url,n(e,this.options))},_tileOnLoad:function(t,e){Gt.ielt9?setTimeout(o(t,this,null,e),0):t(null,e)},_tileOnError:function(t,e,n){var i=this.options.errorTileUrl;i&&e.getAttribute("src")!==i&&(e.src=i),t(n,e)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,e=this.options.maxZoom;return this.options.zoomReverse&&(t=e-t),t+this.options.zoomOffset},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_abortLoading:function(){var t,e;for(t in this._tiles)if(this._tiles[t].coords.z!==this._tileZoom&&((e=this._tiles[t].el).onload=c,e.onerror=c,!e.complete)){e.src=v;var n=this._tiles[t].coords;me(e),delete this._tiles[t],this.fire("tileabort",{tile:e,coords:n})}},_removeTile:function(t){var e=this._tiles[t];if(e)return e.el.setAttribute("src",v),Gi.prototype._removeTile.call(this,t)},_tileReady:function(t,e,n){if(this._map&&(!n||n.getAttribute("src")!==v))return Gi.prototype._tileReady.call(this,t,e,n)}});function Ui(t,e){return new ji(t,e)}var Vi=ji.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,e){this._url=t;var i=n({},this.defaultWmsParams);for(var o in e)o in this.options||(i[o]=e[o]);var r=(e=p(this,e)).detectRetina&&Gt.retina?2:1,s=this.getTileSize();i.width=s.x*r,i.height=s.y*r,this.wmsParams=i},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var e=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[e]=this._crs.code,ji.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._tileCoordsToNwSe(t),n=this._crs,i=F(n.project(e[0]),n.project(e[1])),o=i.min,r=i.max,s=(this._wmsVersion>=1.3&&this._crs===$n?[o.y,o.x,r.y,r.x]:[o.x,o.y,r.x,r.y]).join(","),a=ji.prototype.getTileUrl.call(this,t);return a+f(this.wmsParams,a,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+s},setParams:function(t,e){return n(this.wmsParams,t),e||this.redraw(),this}});function Wi(t,e){return new Vi(t,e)}ji.WMS=Vi,Ui.wms=Wi;var Hi=Kn.extend({options:{padding:.1},initialize:function(t){p(this,t),s(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&be(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,e){var n=this._map.getZoomScale(e,this._zoom),i=this._map.getSize().multiplyBy(.5+this.options.padding),o=this._map.project(this._center,e),r=i.multiplyBy(-n).add(o).subtract(this._map._getNewPixelOrigin(t,e));Gt.any3d?Te(this._container,r,n):Me(this._container,r)},_reset:function(){for(var t in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,e=this._map.getSize(),n=this._map.containerPointToLayerPoint(e.multiplyBy(-t)).round();this._bounds=new N(n,n.add(e.multiplyBy(1+2*t)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),$i=Hi.extend({options:{tolerance:0},getEvents:function(){var t=Hi.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Hi.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");Be(t,"mousemove",this._onMouseMove,this),Be(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Be(t,"mouseout",this._handleMouseOut,this),t._leaflet_disable_events=!0,this._ctx=t.getContext("2d")},_destroyContainer:function(){x(this._redrawRequest),delete this._ctx,me(this._container),Ue(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var t in this._redrawBounds=null,this._layers)this._layers[t]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){Hi.prototype._update.call(this);var t=this._bounds,e=this._container,n=t.getSize(),i=Gt.retina?2:1;Me(e,t.min),e.width=i*n.x,e.height=i*n.y,e.style.width=n.x+"px",e.style.height=n.y+"px",Gt.retina&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){Hi.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[s(t)]=t;var e=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=e),this._drawLast=e,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var e=t._order,n=e.next,i=e.prev;n?n.prev=i:this._drawLast=i,i?i.next=n:this._drawFirst=n,delete t._order,delete this._layers[s(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if("string"==typeof t.options.dashArray){var e,n,i=t.options.dashArray.split(/[, ]+/),o=[];for(n=0;n<i.length;n++){if(e=Number(i[n]),isNaN(e))return;o.push(e)}t.options._dashArray=o}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||O(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var e=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new N,this._redrawBounds.extend(t._pxBounds.min.subtract([e,e])),this._redrawBounds.extend(t._pxBounds.max.add([e,e]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var e=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,e.x,e.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var t,e=this._redrawBounds;if(this._ctx.save(),e){var n=e.getSize();this._ctx.beginPath(),this._ctx.rect(e.min.x,e.min.y,n.x,n.y),this._ctx.clip()}this._drawing=!0;for(var i=this._drawFirst;i;i=i.next)t=i.layer,(!e||t._pxBounds&&t._pxBounds.intersects(e))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,e){if(this._drawing){var n,i,o,r,s=t._parts,a=s.length,l=this._ctx;if(a){for(l.beginPath(),n=0;n<a;n++){for(i=0,o=s[n].length;i<o;i++)r=s[n][i],l[i?"lineTo":"moveTo"](r.x,r.y);e&&l.closePath()}this._fillStroke(l,t)}}},_updateCircle:function(t){if(this._drawing&&!t._empty()){var e=t._point,n=this._ctx,i=Math.max(Math.round(t._radius),1),o=(Math.max(Math.round(t._radiusY),1)||i)/i;1!==o&&(n.save(),n.scale(1,o)),n.beginPath(),n.arc(e.x,e.y/o,i,0,2*Math.PI,!1),1!==o&&n.restore(),this._fillStroke(n,t)}},_fillStroke:function(t,e){var n=e.options;n.fill&&(t.globalAlpha=n.fillOpacity,t.fillStyle=n.fillColor||n.color,t.fill(n.fillRule||"evenodd")),n.stroke&&0!==n.weight&&(t.setLineDash&&t.setLineDash(e.options&&e.options._dashArray||[]),t.globalAlpha=n.opacity,t.lineWidth=n.weight,t.strokeStyle=n.color,t.lineCap=n.lineCap,t.lineJoin=n.lineJoin,t.stroke())},_onClick:function(t){for(var e,n,i=this._map.mouseEventToLayerPoint(t),o=this._drawFirst;o;o=o.next)(e=o.layer).options.interactive&&e._containsPoint(i)&&("click"!==t.type&&"preclick"!==t.type||!this._map._draggableMoved(e))&&(n=e);this._fireEvent(!!n&&[n],t)},_onMouseMove:function(t){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var e=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,e)}},_handleMouseOut:function(t){var e=this._hoveredLayer;e&&(Ee(this._container,"leaflet-interactive"),this._fireEvent([e],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,e){if(!this._mouseHoverThrottled){for(var n,i,r=this._drawFirst;r;r=r.next)(n=r.layer).options.interactive&&n._containsPoint(e)&&(i=n);i!==this._hoveredLayer&&(this._handleMouseOut(t),i&&(be(this._container,"leaflet-interactive"),this._fireEvent([i],t,"mouseover"),this._hoveredLayer=i)),this._fireEvent(!!this._hoveredLayer&&[this._hoveredLayer],t),this._mouseHoverThrottled=!0,setTimeout(o((function(){this._mouseHoverThrottled=!1}),this),32)}},_fireEvent:function(t,e,n){this._map._fireDOMEvent(e,n||e.type,t)},_bringToFront:function(t){var e=t._order;if(e){var n=e.next,i=e.prev;n&&(n.prev=i,i?i.next=n:n&&(this._drawFirst=n),e.prev=this._drawLast,this._drawLast.next=e,e.next=null,this._drawLast=e,this._requestRedraw(t))}},_bringToBack:function(t){var e=t._order;if(e){var n=e.next,i=e.prev;i&&(i.next=n,n?n.prev=i:i&&(this._drawLast=i),e.prev=null,e.next=this._drawFirst,this._drawFirst.prev=e,this._drawFirst=e,this._requestRedraw(t))}}});function zi(t){return Gt.canvas?new $i(t):null}var Ki=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch(t){}return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Yi={_initContainer:function(){this._container=ge("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Hi.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var e=t._container=Ki("shape");be(e,"leaflet-vml-shape "+(this.options.className||"")),e.coordsize="1 1",t._path=Ki("path"),e.appendChild(t._path),this._updateStyle(t),this._layers[s(t)]=t},_addPath:function(t){var e=t._container;this._container.appendChild(e),t.options.interactive&&t.addInteractiveTarget(e)},_removePath:function(t){var e=t._container;me(e),t.removeInteractiveTarget(e),delete this._layers[s(t)]},_updateStyle:function(t){var e=t._stroke,n=t._fill,i=t.options,o=t._container;o.stroked=!!i.stroke,o.filled=!!i.fill,i.stroke?(e||(e=t._stroke=Ki("stroke")),o.appendChild(e),e.weight=i.weight+"px",e.color=i.color,e.opacity=i.opacity,i.dashArray?e.dashStyle=_(i.dashArray)?i.dashArray.join(" "):i.dashArray.replace(/( *, *)/g," "):e.dashStyle="",e.endcap=i.lineCap.replace("butt","flat"),e.joinstyle=i.lineJoin):e&&(o.removeChild(e),t._stroke=null),i.fill?(n||(n=t._fill=Ki("fill")),o.appendChild(n),n.color=i.fillColor||i.color,n.opacity=i.fillOpacity):n&&(o.removeChild(n),t._fill=null)},_updateCircle:function(t){var e=t._point.round(),n=Math.round(t._radius),i=Math.round(t._radiusY||n);this._setPath(t,t._empty()?"M0 0":"AL "+e.x+","+e.y+" "+n+","+i+" 0,23592600")},_setPath:function(t,e){t._path.v=e},_bringToFront:function(t){ye(t._container)},_bringToBack:function(t){ve(t._container)}},Xi=Gt.vml?Ki:Z,qi=Hi.extend({_initContainer:function(){this._container=Xi("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Xi("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){me(this._container),Ue(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!this._map._animatingZoom||!this._bounds){Hi.prototype._update.call(this);var t=this._bounds,e=t.getSize(),n=this._container;this._svgSize&&this._svgSize.equals(e)||(this._svgSize=e,n.setAttribute("width",e.x),n.setAttribute("height",e.y)),Me(n,t.min),n.setAttribute("viewBox",[t.min.x,t.min.y,e.x,e.y].join(" ")),this.fire("update")}},_initPath:function(t){var e=t._path=Xi("path");t.options.className&&be(e,t.options.className),t.options.interactive&&be(e,"leaflet-interactive"),this._updateStyle(t),this._layers[s(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){me(t._path),t.removeInteractiveTarget(t._path),delete this._layers[s(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var e=t._path,n=t.options;e&&(n.stroke?(e.setAttribute("stroke",n.color),e.setAttribute("stroke-opacity",n.opacity),e.setAttribute("stroke-width",n.weight),e.setAttribute("stroke-linecap",n.lineCap),e.setAttribute("stroke-linejoin",n.lineJoin),n.dashArray?e.setAttribute("stroke-dasharray",n.dashArray):e.removeAttribute("stroke-dasharray"),n.dashOffset?e.setAttribute("stroke-dashoffset",n.dashOffset):e.removeAttribute("stroke-dashoffset")):e.setAttribute("stroke","none"),n.fill?(e.setAttribute("fill",n.fillColor||n.color),e.setAttribute("fill-opacity",n.fillOpacity),e.setAttribute("fill-rule",n.fillRule||"evenodd")):e.setAttribute("fill","none"))},_updatePoly:function(t,e){this._setPath(t,J(t._parts,e))},_updateCircle:function(t){var e=t._point,n=Math.max(Math.round(t._radius),1),i="a"+n+","+(Math.max(Math.round(t._radiusY),1)||n)+" 0 1,0 ",o=t._empty()?"M0 0":"M"+(e.x-n)+","+e.y+i+2*n+",0 "+i+2*-n+",0 ";this._setPath(t,o)},_setPath:function(t,e){t._path.setAttribute("d",e)},_bringToFront:function(t){ye(t._path)},_bringToBack:function(t){ve(t._path)}});function Zi(t){return Gt.svg||Gt.vml?new qi(t):null}Gt.vml&&qi.include(Yi),rn.include({getRenderer:function(t){var e=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return e||(e=this._renderer=this._createRenderer()),this.hasLayer(e)||this.addLayer(e),e},_getPaneRenderer:function(t){if("overlayPane"===t||void 0===t)return!1;var e=this._paneRenderers[t];return void 0===e&&(e=this._createRenderer({pane:t}),this._paneRenderers[t]=e),e},_createRenderer:function(t){return this.options.preferCanvas&&zi(t)||Zi(t)}});var Ji=hi.extend({initialize:function(t,e){hi.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return[(t=B(t)).getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});function Qi(t,e){return new Ji(t,e)}qi.create=Xi,qi.pointsToPath=J,pi.geometryToLayer=fi,pi.coordsToLatLng=mi,pi.coordsToLatLngs=_i,pi.latLngToCoords=yi,pi.latLngsToCoords=vi,pi.getFeature=Ci,pi.asFeature=bi,rn.mergeOptions({boxZoom:!0});var to=yn.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){Be(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Ue(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){me(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||1!==t.which&&1!==t.button)return!1;this._clearDeferredResetState(),this._resetState(),re(),Ae(),this._startPoint=this._map.mouseEventToContainerPoint(t),Be(document,{contextmenu:qe,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=ge("div","leaflet-zoom-box",this._container),be(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var e=new N(this._point,this._startPoint),n=e.getSize();Me(this._box,e.min),this._box.style.width=n.x+"px",this._box.style.height=n.y+"px"},_finish:function(){this._moved&&(me(this._box),Ee(this._container,"leaflet-crosshair")),se(),Le(),Ue(document,{contextmenu:qe,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if((1===t.which||1===t.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(o(this._resetState,this),0);var e=new G(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(e).fire("boxzoomend",{boxZoomBounds:e})}},_onKeyDown:function(t){27===t.keyCode&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});rn.addInitHook("addHandler","boxZoom",to),rn.mergeOptions({doubleClickZoom:!0});var eo=yn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,n=e.getZoom(),i=e.options.zoomDelta,o=t.originalEvent.shiftKey?n-i:n+i;"center"===e.options.doubleClickZoom?e.setZoom(o):e.setZoomAround(t.containerPoint,o)}});rn.addInitHook("addHandler","doubleClickZoom",eo),rn.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var no=yn.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new En(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}be(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Ee(this._map._container,"leaflet-grab"),Ee(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var e=B(this._map.options.maxBounds);this._offsetLimit=F(this._map.latLngToContainerPoint(e.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(e.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var e=this._lastTime=+new Date,n=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(n),this._times.push(e),this._prunePositions(e)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,e){return t-(t-e)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var t=this._draggable._newPos.subtract(this._draggable._startPos),e=this._offsetLimit;t.x<e.min.x&&(t.x=this._viscousLimit(t.x,e.min.x)),t.y<e.min.y&&(t.y=this._viscousLimit(t.y,e.min.y)),t.x>e.max.x&&(t.x=this._viscousLimit(t.x,e.max.x)),t.y>e.max.y&&(t.y=this._viscousLimit(t.y,e.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,e=Math.round(t/2),n=this._initialWorldOffset,i=this._draggable._newPos.x,o=(i-e+n)%t+e-n,r=(i+e+n)%t-e-n,s=Math.abs(o+n)<Math.abs(r+n)?o:r;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=s},_onDragEnd:function(t){var e=this._map,n=e.options,i=!n.inertia||t.noInertia||this._times.length<2;if(e.fire("dragend",t),i)e.fire("moveend");else{this._prunePositions(+new Date);var o=this._lastPos.subtract(this._positions[0]),r=(this._lastTime-this._times[0])/1e3,s=n.easeLinearity,a=o.multiplyBy(s/r),l=a.distanceTo([0,0]),c=Math.min(n.inertiaMaxSpeed,l),u=a.multiplyBy(c/l),h=c/(n.inertiaDeceleration*s),d=u.multiplyBy(-h/2).round();d.x||d.y?(d=e._limitOffset(d,e.options.maxBounds),O((function(){e.panBy(d,{duration:h,easeLinearity:s,noMoveStart:!0,animate:!0})}))):e.fire("moveend")}}});rn.addInitHook("addHandler","dragging",no),rn.mergeOptions({keyboard:!0,keyboardPanDelta:80});var io=yn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),Be(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Ue(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,e=document.documentElement,n=t.scrollTop||e.scrollTop,i=t.scrollLeft||e.scrollLeft;this._map._container.focus(),window.scrollTo(i,n)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var e,n,i=this._panKeys={},o=this.keyCodes;for(e=0,n=o.left.length;e<n;e++)i[o.left[e]]=[-1*t,0];for(e=0,n=o.right.length;e<n;e++)i[o.right[e]]=[t,0];for(e=0,n=o.down.length;e<n;e++)i[o.down[e]]=[0,t];for(e=0,n=o.up.length;e<n;e++)i[o.up[e]]=[0,-1*t]},_setZoomDelta:function(t){var e,n,i=this._zoomKeys={},o=this.keyCodes;for(e=0,n=o.zoomIn.length;e<n;e++)i[o.zoomIn[e]]=t;for(e=0,n=o.zoomOut.length;e<n;e++)i[o.zoomOut[e]]=-t},_addHooks:function(){Be(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Ue(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e,n=t.keyCode,i=this._map;if(n in this._panKeys){if(!i._panAnim||!i._panAnim._inProgress)if(e=this._panKeys[n],t.shiftKey&&(e=k(e).multiplyBy(3)),i.options.maxBounds&&(e=i._limitOffset(k(e),i.options.maxBounds)),i.options.worldCopyJump){var o=i.wrapLatLng(i.unproject(i.project(i.getCenter()).add(e)));i.panTo(o)}else i.panBy(e)}else if(n in this._zoomKeys)i.setZoom(i.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[n]);else{if(27!==n||!i._popup||!i._popup.options.closeOnEscapeKey)return;i.closePopup()}qe(t)}}});rn.addInitHook("addHandler","keyboard",io),rn.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var oo=yn.extend({addHooks:function(){Be(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Ue(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var e=tn(t),n=this._map.options.wheelDebounceTime;this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var i=Math.max(n-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o(this._performZoom,this),i),qe(t)},_performZoom:function(){var t=this._map,e=t.getZoom(),n=this._map.options.zoomSnap||0;t._stop();var i=this._delta/(4*this._map.options.wheelPxPerZoomLevel),o=4*Math.log(2/(1+Math.exp(-Math.abs(i))))/Math.LN2,r=n?Math.ceil(o/n)*n:o,s=t._limitZoom(e+(this._delta>0?r:-r))-e;this._delta=0,this._startTime=null,s&&("center"===t.options.scrollWheelZoom?t.setZoom(e+s):t.setZoomAround(this._lastMousePos,e+s))}});rn.addInitHook("addHandler","scrollWheelZoom",oo);var ro=600;rn.mergeOptions({tapHold:Gt.touchNative&&Gt.safari&&Gt.mobile,tapTolerance:15});var so=yn.extend({addHooks:function(){Be(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Ue(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(clearTimeout(this._holdTimeout),1===t.touches.length){var e=t.touches[0];this._startPos=this._newPos=new A(e.clientX,e.clientY),this._holdTimeout=setTimeout(o((function(){this._cancel(),this._isTapValid()&&(Be(document,"touchend",Xe),Be(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",e))}),this),ro),Be(document,"touchend touchcancel contextmenu",this._cancel,this),Be(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function t(){Ue(document,"touchend",Xe),Ue(document,"touchend touchcancel",t)},_cancel:function(){clearTimeout(this._holdTimeout),Ue(document,"touchend touchcancel contextmenu",this._cancel,this),Ue(document,"touchmove",this._onMove,this)},_onMove:function(t){var e=t.touches[0];this._newPos=new A(e.clientX,e.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(t,e){var n=new MouseEvent(t,{bubbles:!0,cancelable:!0,view:window,screenX:e.screenX,screenY:e.screenY,clientX:e.clientX,clientY:e.clientY});n._simulated=!0,e.target.dispatchEvent(n)}});rn.addInitHook("addHandler","tapHold",so),rn.mergeOptions({touchZoom:Gt.touch,bounceAtZoomLimits:!0});var ao=yn.extend({addHooks:function(){be(this._map._container,"leaflet-touch-zoom"),Be(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Ee(this._map._container,"leaflet-touch-zoom"),Ue(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var e=this._map;if(t.touches&&2===t.touches.length&&!e._animatingZoom&&!this._zooming){var n=e.mouseEventToContainerPoint(t.touches[0]),i=e.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=e.getSize()._divideBy(2),this._startLatLng=e.containerPointToLatLng(this._centerPoint),"center"!==e.options.touchZoom&&(this._pinchStartLatLng=e.containerPointToLatLng(n.add(i)._divideBy(2))),this._startDist=n.distanceTo(i),this._startZoom=e.getZoom(),this._moved=!1,this._zooming=!0,e._stop(),Be(document,"touchmove",this._onTouchMove,this),Be(document,"touchend touchcancel",this._onTouchEnd,this),Xe(t)}},_onTouchMove:function(t){if(t.touches&&2===t.touches.length&&this._zooming){var e=this._map,n=e.mouseEventToContainerPoint(t.touches[0]),i=e.mouseEventToContainerPoint(t.touches[1]),r=n.distanceTo(i)/this._startDist;if(this._zoom=e.getScaleZoom(r,this._startZoom),!e.options.bounceAtZoomLimits&&(this._zoom<e.getMinZoom()&&r<1||this._zoom>e.getMaxZoom()&&r>1)&&(this._zoom=e._limitZoom(this._zoom)),"center"===e.options.touchZoom){if(this._center=this._startLatLng,1===r)return}else{var s=n._add(i)._divideBy(2)._subtract(this._centerPoint);if(1===r&&0===s.x&&0===s.y)return;this._center=e.unproject(e.project(this._pinchStartLatLng,this._zoom).subtract(s),this._zoom)}this._moved||(e._moveStart(!0,!1),this._moved=!0),x(this._animRequest);var a=o(e._move,e,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=O(a,this,!0),Xe(t)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,x(this._animRequest),Ue(document,"touchmove",this._onTouchMove,this),Ue(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});rn.addInitHook("addHandler","touchZoom",ao),rn.BoxZoom=to,rn.DoubleClickZoom=eo,rn.Drag=no,rn.Keyboard=io,rn.ScrollWheelZoom=oo,rn.TapHold=so,rn.TouchZoom=ao,t.Bounds=N,t.Browser=Gt,t.CRS=W,t.Canvas=$i,t.Circle=ai,t.CircleMarker=ri,t.Class=T,t.Control=an,t.DivIcon=Ni,t.DivOverlay=Ri,t.DomEvent=nn,t.DomUtil=Ge,t.Draggable=En,t.Evented=R,t.FeatureGroup=qn,t.GeoJSON=pi,t.GridLayer=Gi,t.Handler=yn,t.Icon=Jn,t.ImageOverlay=Oi,t.LatLng=j,t.LatLngBounds=G,t.Layer=Kn,t.LayerGroup=Yn,t.LineUtil=Fn,t.Map=rn,t.Marker=ni,t.Mixin=Cn,t.Path=oi,t.Point=A,t.PolyUtil=jn,t.Polygon=hi,t.Polyline=ci,t.Popup=Ai,t.PosAnimation=on,t.Projection=Wn,t.Rectangle=Ji,t.Renderer=Hi,t.SVG=qi,t.SVGOverlay=Mi,t.TileLayer=ji,t.Tooltip=Ii,t.Transformation=K,t.Util=P,t.VideoOverlay=Pi,t.bind=o,t.bounds=F,t.canvas=zi,t.circle=li,t.circleMarker=si,t.control=ln,t.divIcon=Fi,t.extend=n,t.featureGroup=Zn,t.geoJSON=Si,t.geoJson=wi,t.gridLayer=Bi,t.icon=Qn,t.imageOverlay=xi,t.latLng=U,t.latLngBounds=B,t.layerGroup=Xn,t.map=sn,t.marker=ii,t.point=k,t.polygon=di,t.polyline=ui,t.popup=Li,t.rectangle=Qi,t.setOptions=p,t.stamp=s,t.svg=Zi,t.svgOverlay=Di,t.tileLayer=Ui,t.tooltip=ki,t.transformation=Y,t.version=e,t.videoOverlay=Ti;var lo=window.L;t.noConflict=function(){return window.L=lo,this},window.L=t}(e)},6486:function(t,e,n){var i;t=n.nmd(t),function(){var o,r="Expected a function",s="__lodash_hash_undefined__",a="__lodash_placeholder__",l=16,c=32,u=64,h=128,d=256,p=1/0,f=9007199254740991,g=NaN,m=4294967295,_=[["ary",h],["bind",1],["bindKey",2],["curry",8],["curryRight",l],["flip",512],["partial",c],["partialRight",u],["rearg",d]],y="[object Arguments]",v="[object Array]",C="[object Boolean]",b="[object Date]",E="[object Error]",S="[object Function]",w="[object GeneratorFunction]",O="[object Map]",x="[object Number]",P="[object Object]",T="[object Promise]",M="[object RegExp]",D="[object Set]",R="[object String]",A="[object Symbol]",L="[object WeakMap]",I="[object ArrayBuffer]",k="[object DataView]",N="[object Float32Array]",F="[object Float64Array]",G="[object Int8Array]",B="[object Int16Array]",j="[object Int32Array]",U="[object Uint8Array]",V="[object Uint8ClampedArray]",W="[object Uint16Array]",H="[object Uint32Array]",$=/\b__p \+= '';/g,z=/\b(__p \+=) '' \+/g,K=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Y=/&(?:amp|lt|gt|quot|#39);/g,X=/[&<>"']/g,q=RegExp(Y.source),Z=RegExp(X.source),J=/<%-([\s\S]+?)%>/g,Q=/<%([\s\S]+?)%>/g,tt=/<%=([\s\S]+?)%>/g,et=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,nt=/^\w*$/,it=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ot=/[\\^$.*+?()[\]{}|]/g,rt=RegExp(ot.source),st=/^\s+/,at=/\s/,lt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ct=/\{\n\/\* \[wrapped with (.+)\] \*/,ut=/,? & /,ht=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,dt=/[()=,{}\[\]\/\s]/,pt=/\\(\\)?/g,ft=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,gt=/\w*$/,mt=/^[-+]0x[0-9a-f]+$/i,_t=/^0b[01]+$/i,yt=/^\[object .+?Constructor\]$/,vt=/^0o[0-7]+$/i,Ct=/^(?:0|[1-9]\d*)$/,bt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Et=/($^)/,St=/['\n\r\u2028\u2029\\]/g,wt="\\ud800-\\udfff",Ot="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",xt="\\u2700-\\u27bf",Pt="a-z\\xdf-\\xf6\\xf8-\\xff",Tt="A-Z\\xc0-\\xd6\\xd8-\\xde",Mt="\\ufe0e\\ufe0f",Dt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Rt="[']",At="["+wt+"]",Lt="["+Dt+"]",It="["+Ot+"]",kt="\\d+",Nt="["+xt+"]",Ft="["+Pt+"]",Gt="[^"+wt+Dt+kt+xt+Pt+Tt+"]",Bt="\\ud83c[\\udffb-\\udfff]",jt="[^"+wt+"]",Ut="(?:\\ud83c[\\udde6-\\uddff]){2}",Vt="[\\ud800-\\udbff][\\udc00-\\udfff]",Wt="["+Tt+"]",Ht="\\u200d",$t="(?:"+Ft+"|"+Gt+")",zt="(?:"+Wt+"|"+Gt+")",Kt="(?:['](?:d|ll|m|re|s|t|ve))?",Yt="(?:['](?:D|LL|M|RE|S|T|VE))?",Xt="(?:"+It+"|"+Bt+")"+"?",qt="["+Mt+"]?",Zt=qt+Xt+("(?:"+Ht+"(?:"+[jt,Ut,Vt].join("|")+")"+qt+Xt+")*"),Jt="(?:"+[Nt,Ut,Vt].join("|")+")"+Zt,Qt="(?:"+[jt+It+"?",It,Ut,Vt,At].join("|")+")",te=RegExp(Rt,"g"),ee=RegExp(It,"g"),ne=RegExp(Bt+"(?="+Bt+")|"+Qt+Zt,"g"),ie=RegExp([Wt+"?"+Ft+"+"+Kt+"(?="+[Lt,Wt,"$"].join("|")+")",zt+"+"+Yt+"(?="+[Lt,Wt+$t,"$"].join("|")+")",Wt+"?"+$t+"+"+Kt,Wt+"+"+Yt,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",kt,Jt].join("|"),"g"),oe=RegExp("["+Ht+wt+Ot+Mt+"]"),re=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,se=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ae=-1,le={};le[N]=le[F]=le[G]=le[B]=le[j]=le[U]=le[V]=le[W]=le[H]=!0,le[y]=le[v]=le[I]=le[C]=le[k]=le[b]=le[E]=le[S]=le[O]=le[x]=le[P]=le[M]=le[D]=le[R]=le[L]=!1;var ce={};ce[y]=ce[v]=ce[I]=ce[k]=ce[C]=ce[b]=ce[N]=ce[F]=ce[G]=ce[B]=ce[j]=ce[O]=ce[x]=ce[P]=ce[M]=ce[D]=ce[R]=ce[A]=ce[U]=ce[V]=ce[W]=ce[H]=!0,ce[E]=ce[S]=ce[L]=!1;var ue={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},he=parseFloat,de=parseInt,pe="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,fe="object"==typeof self&&self&&self.Object===Object&&self,ge=pe||fe||Function("return this")(),me=e&&!e.nodeType&&e,_e=me&&t&&!t.nodeType&&t,ye=_e&&_e.exports===me,ve=ye&&pe.process,Ce=function(){try{var t=_e&&_e.require&&_e.require("util").types;return t||ve&&ve.binding&&ve.binding("util")}catch(t){}}(),be=Ce&&Ce.isArrayBuffer,Ee=Ce&&Ce.isDate,Se=Ce&&Ce.isMap,we=Ce&&Ce.isRegExp,Oe=Ce&&Ce.isSet,xe=Ce&&Ce.isTypedArray;function Pe(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function Te(t,e,n,i){for(var o=-1,r=null==t?0:t.length;++o<r;){var s=t[o];e(i,s,n(s),t)}return i}function Me(t,e){for(var n=-1,i=null==t?0:t.length;++n<i&&!1!==e(t[n],n,t););return t}function De(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function Re(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(!e(t[n],n,t))return!1;return!0}function Ae(t,e){for(var n=-1,i=null==t?0:t.length,o=0,r=[];++n<i;){var s=t[n];e(s,n,t)&&(r[o++]=s)}return r}function Le(t,e){return!!(null==t?0:t.length)&&We(t,e,0)>-1}function Ie(t,e,n){for(var i=-1,o=null==t?0:t.length;++i<o;)if(n(e,t[i]))return!0;return!1}function ke(t,e){for(var n=-1,i=null==t?0:t.length,o=Array(i);++n<i;)o[n]=e(t[n],n,t);return o}function Ne(t,e){for(var n=-1,i=e.length,o=t.length;++n<i;)t[o+n]=e[n];return t}function Fe(t,e,n,i){var o=-1,r=null==t?0:t.length;for(i&&r&&(n=t[++o]);++o<r;)n=e(n,t[o],o,t);return n}function Ge(t,e,n,i){var o=null==t?0:t.length;for(i&&o&&(n=t[--o]);o--;)n=e(n,t[o],o,t);return n}function Be(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}var je=Ke("length");function Ue(t,e,n){var i;return n(t,(function(t,n,o){if(e(t,n,o))return i=n,!1})),i}function Ve(t,e,n,i){for(var o=t.length,r=n+(i?1:-1);i?r--:++r<o;)if(e(t[r],r,t))return r;return-1}function We(t,e,n){return e==e?function(t,e,n){var i=n-1,o=t.length;for(;++i<o;)if(t[i]===e)return i;return-1}(t,e,n):Ve(t,$e,n)}function He(t,e,n,i){for(var o=n-1,r=t.length;++o<r;)if(i(t[o],e))return o;return-1}function $e(t){return t!=t}function ze(t,e){var n=null==t?0:t.length;return n?qe(t,e)/n:g}function Ke(t){return function(e){return null==e?o:e[t]}}function Ye(t){return function(e){return null==t?o:t[e]}}function Xe(t,e,n,i,o){return o(t,(function(t,o,r){n=i?(i=!1,t):e(n,t,o,r)})),n}function qe(t,e){for(var n,i=-1,r=t.length;++i<r;){var s=e(t[i]);s!==o&&(n=n===o?s:n+s)}return n}function Ze(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}function Je(t){return t?t.slice(0,mn(t)+1).replace(st,""):t}function Qe(t){return function(e){return t(e)}}function tn(t,e){return ke(e,(function(e){return t[e]}))}function en(t,e){return t.has(e)}function nn(t,e){for(var n=-1,i=t.length;++n<i&&We(e,t[n],0)>-1;);return n}function on(t,e){for(var n=t.length;n--&&We(e,t[n],0)>-1;);return n}var rn=Ye({:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"}),sn=Ye({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function an(t){return"\\"+ue[t]}function ln(t){return oe.test(t)}function cn(t){var e=-1,n=Array(t.size);return t.forEach((function(t,i){n[++e]=[i,t]})),n}function un(t,e){return function(n){return t(e(n))}}function hn(t,e){for(var n=-1,i=t.length,o=0,r=[];++n<i;){var s=t[n];s!==e&&s!==a||(t[n]=a,r[o++]=n)}return r}function dn(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}function pn(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=[t,t]})),n}function fn(t){return ln(t)?function(t){var e=ne.lastIndex=0;for(;ne.test(t);)++e;return e}(t):je(t)}function gn(t){return ln(t)?function(t){return t.match(ne)||[]}(t):function(t){return t.split("")}(t)}function mn(t){for(var e=t.length;e--&&at.test(t.charAt(e)););return e}var _n=Ye({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var yn=function t(e){var n,i=(e=null==e?ge:yn.defaults(ge.Object(),e,yn.pick(ge,se))).Array,at=e.Date,wt=e.Error,Ot=e.Function,xt=e.Math,Pt=e.Object,Tt=e.RegExp,Mt=e.String,Dt=e.TypeError,Rt=i.prototype,At=Ot.prototype,Lt=Pt.prototype,It=e["__core-js_shared__"],kt=At.toString,Nt=Lt.hasOwnProperty,Ft=0,Gt=(n=/[^.]+$/.exec(It&&It.keys&&It.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Bt=Lt.toString,jt=kt.call(Pt),Ut=ge._,Vt=Tt("^"+kt.call(Nt).replace(ot,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Wt=ye?e.Buffer:o,Ht=e.Symbol,$t=e.Uint8Array,zt=Wt?Wt.allocUnsafe:o,Kt=un(Pt.getPrototypeOf,Pt),Yt=Pt.create,Xt=Lt.propertyIsEnumerable,qt=Rt.splice,Zt=Ht?Ht.isConcatSpreadable:o,Jt=Ht?Ht.iterator:o,Qt=Ht?Ht.toStringTag:o,ne=function(){try{var t=pr(Pt,"defineProperty");return t({},"",{}),t}catch(t){}}(),oe=e.clearTimeout!==ge.clearTimeout&&e.clearTimeout,ue=at&&at.now!==ge.Date.now&&at.now,pe=e.setTimeout!==ge.setTimeout&&e.setTimeout,fe=xt.ceil,me=xt.floor,_e=Pt.getOwnPropertySymbols,ve=Wt?Wt.isBuffer:o,Ce=e.isFinite,je=Rt.join,Ye=un(Pt.keys,Pt),vn=xt.max,Cn=xt.min,bn=at.now,En=e.parseInt,Sn=xt.random,wn=Rt.reverse,On=pr(e,"DataView"),xn=pr(e,"Map"),Pn=pr(e,"Promise"),Tn=pr(e,"Set"),Mn=pr(e,"WeakMap"),Dn=pr(Pt,"create"),Rn=Mn&&new Mn,An={},Ln=Br(On),In=Br(xn),kn=Br(Pn),Nn=Br(Tn),Fn=Br(Mn),Gn=Ht?Ht.prototype:o,Bn=Gn?Gn.valueOf:o,jn=Gn?Gn.toString:o;function Un(t){if(na(t)&&!$s(t)&&!(t instanceof $n)){if(t instanceof Hn)return t;if(Nt.call(t,"__wrapped__"))return jr(t)}return new Hn(t)}var Vn=function(){function t(){}return function(e){if(!ea(e))return{};if(Yt)return Yt(e);t.prototype=e;var n=new t;return t.prototype=o,n}}();function Wn(){}function Hn(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=o}function $n(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=m,this.__views__=[]}function zn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function Kn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function Yn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function Xn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Yn;++e<n;)this.add(t[e])}function qn(t){var e=this.__data__=new Kn(t);this.size=e.size}function Zn(t,e){var n=$s(t),i=!n&&Hs(t),o=!n&&!i&&Xs(t),r=!n&&!i&&!o&&ua(t),s=n||i||o||r,a=s?Ze(t.length,Mt):[],l=a.length;for(var c in t)!e&&!Nt.call(t,c)||s&&("length"==c||o&&("offset"==c||"parent"==c)||r&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Cr(c,l))||a.push(c);return a}function Jn(t){var e=t.length;return e?t[Xi(0,e-1)]:o}function Qn(t,e){return Nr(Ro(t),li(e,0,t.length))}function ti(t){return Nr(Ro(t))}function ei(t,e,n){(n!==o&&!Us(t[e],n)||n===o&&!(e in t))&&si(t,e,n)}function ni(t,e,n){var i=t[e];Nt.call(t,e)&&Us(i,n)&&(n!==o||e in t)||si(t,e,n)}function ii(t,e){for(var n=t.length;n--;)if(Us(t[n][0],e))return n;return-1}function oi(t,e,n,i){return pi(t,(function(t,o,r){e(i,t,n(t),r)})),i}function ri(t,e){return t&&Ao(e,Aa(e),t)}function si(t,e,n){"__proto__"==e&&ne?ne(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function ai(t,e){for(var n=-1,r=e.length,s=i(r),a=null==t;++n<r;)s[n]=a?o:Pa(t,e[n]);return s}function li(t,e,n){return t==t&&(n!==o&&(t=t<=n?t:n),e!==o&&(t=t>=e?t:e)),t}function ci(t,e,n,i,r,s){var a,l=1&e,c=2&e,u=4&e;if(n&&(a=r?n(t,i,r,s):n(t)),a!==o)return a;if(!ea(t))return t;var h=$s(t);if(h){if(a=function(t){var e=t.length,n=new t.constructor(e);e&&"string"==typeof t[0]&&Nt.call(t,"index")&&(n.index=t.index,n.input=t.input);return n}(t),!l)return Ro(t,a)}else{var d=mr(t),p=d==S||d==w;if(Xs(t))return Oo(t,l);if(d==P||d==y||p&&!r){if(a=c||p?{}:yr(t),!l)return c?function(t,e){return Ao(t,gr(t),e)}(t,function(t,e){return t&&Ao(e,La(e),t)}(a,t)):function(t,e){return Ao(t,fr(t),e)}(t,ri(a,t))}else{if(!ce[d])return r?t:{};a=function(t,e,n){var i=t.constructor;switch(e){case I:return xo(t);case C:case b:return new i(+t);case k:return function(t,e){var n=e?xo(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case N:case F:case G:case B:case j:case U:case V:case W:case H:return Po(t,n);case O:return new i;case x:case R:return new i(t);case M:return function(t){var e=new t.constructor(t.source,gt.exec(t));return e.lastIndex=t.lastIndex,e}(t);case D:return new i;case A:return o=t,Bn?Pt(Bn.call(o)):{}}var o}(t,d,l)}}s||(s=new qn);var f=s.get(t);if(f)return f;s.set(t,a),aa(t)?t.forEach((function(i){a.add(ci(i,e,n,i,t,s))})):ia(t)&&t.forEach((function(i,o){a.set(o,ci(i,e,n,o,t,s))}));var g=h?o:(u?c?sr:rr:c?La:Aa)(t);return Me(g||t,(function(i,o){g&&(i=t[o=i]),ni(a,o,ci(i,e,n,o,t,s))})),a}function ui(t,e,n){var i=n.length;if(null==t)return!i;for(t=Pt(t);i--;){var r=n[i],s=e[r],a=t[r];if(a===o&&!(r in t)||!s(a))return!1}return!0}function hi(t,e,n){if("function"!=typeof t)throw new Dt(r);return Ar((function(){t.apply(o,n)}),e)}function di(t,e,n,i){var o=-1,r=Le,s=!0,a=t.length,l=[],c=e.length;if(!a)return l;n&&(e=ke(e,Qe(n))),i?(r=Ie,s=!1):e.length>=200&&(r=en,s=!1,e=new Xn(e));t:for(;++o<a;){var u=t[o],h=null==n?u:n(u);if(u=i||0!==u?u:0,s&&h==h){for(var d=c;d--;)if(e[d]===h)continue t;l.push(u)}else r(e,h,i)||l.push(u)}return l}Un.templateSettings={escape:J,evaluate:Q,interpolate:tt,variable:"",imports:{_:Un}},Un.prototype=Wn.prototype,Un.prototype.constructor=Un,Hn.prototype=Vn(Wn.prototype),Hn.prototype.constructor=Hn,$n.prototype=Vn(Wn.prototype),$n.prototype.constructor=$n,zn.prototype.clear=function(){this.__data__=Dn?Dn(null):{},this.size=0},zn.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},zn.prototype.get=function(t){var e=this.__data__;if(Dn){var n=e[t];return n===s?o:n}return Nt.call(e,t)?e[t]:o},zn.prototype.has=function(t){var e=this.__data__;return Dn?e[t]!==o:Nt.call(e,t)},zn.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Dn&&e===o?s:e,this},Kn.prototype.clear=function(){this.__data__=[],this.size=0},Kn.prototype.delete=function(t){var e=this.__data__,n=ii(e,t);return!(n<0)&&(n==e.length-1?e.pop():qt.call(e,n,1),--this.size,!0)},Kn.prototype.get=function(t){var e=this.__data__,n=ii(e,t);return n<0?o:e[n][1]},Kn.prototype.has=function(t){return ii(this.__data__,t)>-1},Kn.prototype.set=function(t,e){var n=this.__data__,i=ii(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this},Yn.prototype.clear=function(){this.size=0,this.__data__={hash:new zn,map:new(xn||Kn),string:new zn}},Yn.prototype.delete=function(t){var e=hr(this,t).delete(t);return this.size-=e?1:0,e},Yn.prototype.get=function(t){return hr(this,t).get(t)},Yn.prototype.has=function(t){return hr(this,t).has(t)},Yn.prototype.set=function(t,e){var n=hr(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this},Xn.prototype.add=Xn.prototype.push=function(t){return this.__data__.set(t,s),this},Xn.prototype.has=function(t){return this.__data__.has(t)},qn.prototype.clear=function(){this.__data__=new Kn,this.size=0},qn.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},qn.prototype.get=function(t){return this.__data__.get(t)},qn.prototype.has=function(t){return this.__data__.has(t)},qn.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Kn){var i=n.__data__;if(!xn||i.length<199)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new Yn(i)}return n.set(t,e),this.size=n.size,this};var pi=ko(bi),fi=ko(Ei,!0);function gi(t,e){var n=!0;return pi(t,(function(t,i,o){return n=!!e(t,i,o)})),n}function mi(t,e,n){for(var i=-1,r=t.length;++i<r;){var s=t[i],a=e(s);if(null!=a&&(l===o?a==a&&!ca(a):n(a,l)))var l=a,c=s}return c}function _i(t,e){var n=[];return pi(t,(function(t,i,o){e(t,i,o)&&n.push(t)})),n}function yi(t,e,n,i,o){var r=-1,s=t.length;for(n||(n=vr),o||(o=[]);++r<s;){var a=t[r];e>0&&n(a)?e>1?yi(a,e-1,n,i,o):Ne(o,a):i||(o[o.length]=a)}return o}var vi=No(),Ci=No(!0);function bi(t,e){return t&&vi(t,e,Aa)}function Ei(t,e){return t&&Ci(t,e,Aa)}function Si(t,e){return Ae(e,(function(e){return Js(t[e])}))}function wi(t,e){for(var n=0,i=(e=bo(e,t)).length;null!=t&&n<i;)t=t[Gr(e[n++])];return n&&n==i?t:o}function Oi(t,e,n){var i=e(t);return $s(t)?i:Ne(i,n(t))}function xi(t){return null==t?t===o?"[object Undefined]":"[object Null]":Qt&&Qt in Pt(t)?function(t){var e=Nt.call(t,Qt),n=t[Qt];try{t[Qt]=o;var i=!0}catch(t){}var r=Bt.call(t);i&&(e?t[Qt]=n:delete t[Qt]);return r}(t):function(t){return Bt.call(t)}(t)}function Pi(t,e){return t>e}function Ti(t,e){return null!=t&&Nt.call(t,e)}function Mi(t,e){return null!=t&&e in Pt(t)}function Di(t,e,n){for(var r=n?Ie:Le,s=t[0].length,a=t.length,l=a,c=i(a),u=1/0,h=[];l--;){var d=t[l];l&&e&&(d=ke(d,Qe(e))),u=Cn(d.length,u),c[l]=!n&&(e||s>=120&&d.length>=120)?new Xn(l&&d):o}d=t[0];var p=-1,f=c[0];t:for(;++p<s&&h.length<u;){var g=d[p],m=e?e(g):g;if(g=n||0!==g?g:0,!(f?en(f,m):r(h,m,n))){for(l=a;--l;){var _=c[l];if(!(_?en(_,m):r(t[l],m,n)))continue t}f&&f.push(m),h.push(g)}}return h}function Ri(t,e,n){var i=null==(t=Mr(t,e=bo(e,t)))?t:t[Gr(Zr(e))];return null==i?o:Pe(i,t,n)}function Ai(t){return na(t)&&xi(t)==y}function Li(t,e,n,i,r){return t===e||(null==t||null==e||!na(t)&&!na(e)?t!=t&&e!=e:function(t,e,n,i,r,s){var a=$s(t),l=$s(e),c=a?v:mr(t),u=l?v:mr(e),h=(c=c==y?P:c)==P,d=(u=u==y?P:u)==P,p=c==u;if(p&&Xs(t)){if(!Xs(e))return!1;a=!0,h=!1}if(p&&!h)return s||(s=new qn),a||ua(t)?ir(t,e,n,i,r,s):function(t,e,n,i,o,r,s){switch(n){case k:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case I:return!(t.byteLength!=e.byteLength||!r(new $t(t),new $t(e)));case C:case b:case x:return Us(+t,+e);case E:return t.name==e.name&&t.message==e.message;case M:case R:return t==e+"";case O:var a=cn;case D:var l=1&i;if(a||(a=dn),t.size!=e.size&&!l)return!1;var c=s.get(t);if(c)return c==e;i|=2,s.set(t,e);var u=ir(a(t),a(e),i,o,r,s);return s.delete(t),u;case A:if(Bn)return Bn.call(t)==Bn.call(e)}return!1}(t,e,c,n,i,r,s);if(!(1&n)){var f=h&&Nt.call(t,"__wrapped__"),g=d&&Nt.call(e,"__wrapped__");if(f||g){var m=f?t.value():t,_=g?e.value():e;return s||(s=new qn),r(m,_,n,i,s)}}if(!p)return!1;return s||(s=new qn),function(t,e,n,i,r,s){var a=1&n,l=rr(t),c=l.length,u=rr(e),h=u.length;if(c!=h&&!a)return!1;var d=c;for(;d--;){var p=l[d];if(!(a?p in e:Nt.call(e,p)))return!1}var f=s.get(t),g=s.get(e);if(f&&g)return f==e&&g==t;var m=!0;s.set(t,e),s.set(e,t);var _=a;for(;++d<c;){var y=t[p=l[d]],v=e[p];if(i)var C=a?i(v,y,p,e,t,s):i(y,v,p,t,e,s);if(!(C===o?y===v||r(y,v,n,i,s):C)){m=!1;break}_||(_="constructor"==p)}if(m&&!_){var b=t.constructor,E=e.constructor;b==E||!("constructor"in t)||!("constructor"in e)||"function"==typeof b&&b instanceof b&&"function"==typeof E&&E instanceof E||(m=!1)}return s.delete(t),s.delete(e),m}(t,e,n,i,r,s)}(t,e,n,i,Li,r))}function Ii(t,e,n,i){var r=n.length,s=r,a=!i;if(null==t)return!s;for(t=Pt(t);r--;){var l=n[r];if(a&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++r<s;){var c=(l=n[r])[0],u=t[c],h=l[1];if(a&&l[2]){if(u===o&&!(c in t))return!1}else{var d=new qn;if(i)var p=i(u,h,c,t,e,d);if(!(p===o?Li(h,u,3,i,d):p))return!1}}return!0}function ki(t){return!(!ea(t)||(e=t,Gt&&Gt in e))&&(Js(t)?Vt:yt).test(Br(t));var e}function Ni(t){return"function"==typeof t?t:null==t?ol:"object"==typeof t?$s(t)?Vi(t[0],t[1]):Ui(t):pl(t)}function Fi(t){if(!Or(t))return Ye(t);var e=[];for(var n in Pt(t))Nt.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Gi(t){if(!ea(t))return function(t){var e=[];if(null!=t)for(var n in Pt(t))e.push(n);return e}(t);var e=Or(t),n=[];for(var i in t)("constructor"!=i||!e&&Nt.call(t,i))&&n.push(i);return n}function Bi(t,e){return t<e}function ji(t,e){var n=-1,o=Ks(t)?i(t.length):[];return pi(t,(function(t,i,r){o[++n]=e(t,i,r)})),o}function Ui(t){var e=dr(t);return 1==e.length&&e[0][2]?Pr(e[0][0],e[0][1]):function(n){return n===t||Ii(n,t,e)}}function Vi(t,e){return Er(t)&&xr(e)?Pr(Gr(t),e):function(n){var i=Pa(n,t);return i===o&&i===e?Ta(n,t):Li(e,i,3)}}function Wi(t,e,n,i,r){t!==e&&vi(e,(function(s,a){if(r||(r=new qn),ea(s))!function(t,e,n,i,r,s,a){var l=Dr(t,n),c=Dr(e,n),u=a.get(c);if(u)return void ei(t,n,u);var h=s?s(l,c,n+"",t,e,a):o,d=h===o;if(d){var p=$s(c),f=!p&&Xs(c),g=!p&&!f&&ua(c);h=c,p||f||g?$s(l)?h=l:Ys(l)?h=Ro(l):f?(d=!1,h=Oo(c,!0)):g?(d=!1,h=Po(c,!0)):h=[]:ra(c)||Hs(c)?(h=l,Hs(l)?h=ya(l):ea(l)&&!Js(l)||(h=yr(c))):d=!1}d&&(a.set(c,h),r(h,c,i,s,a),a.delete(c));ei(t,n,h)}(t,e,a,n,Wi,i,r);else{var l=i?i(Dr(t,a),s,a+"",t,e,r):o;l===o&&(l=s),ei(t,a,l)}}),La)}function Hi(t,e){var n=t.length;if(n)return Cr(e+=e<0?n:0,n)?t[e]:o}function $i(t,e,n){e=e.length?ke(e,(function(t){return $s(t)?function(e){return wi(e,1===t.length?t[0]:t)}:t})):[ol];var i=-1;e=ke(e,Qe(ur()));var o=ji(t,(function(t,n,o){var r=ke(e,(function(e){return e(t)}));return{criteria:r,index:++i,value:t}}));return function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(o,(function(t,e){return function(t,e,n){var i=-1,o=t.criteria,r=e.criteria,s=o.length,a=n.length;for(;++i<s;){var l=To(o[i],r[i]);if(l)return i>=a?l:l*("desc"==n[i]?-1:1)}return t.index-e.index}(t,e,n)}))}function zi(t,e,n){for(var i=-1,o=e.length,r={};++i<o;){var s=e[i],a=wi(t,s);n(a,s)&&to(r,bo(s,t),a)}return r}function Ki(t,e,n,i){var o=i?He:We,r=-1,s=e.length,a=t;for(t===e&&(e=Ro(e)),n&&(a=ke(t,Qe(n)));++r<s;)for(var l=0,c=e[r],u=n?n(c):c;(l=o(a,u,l,i))>-1;)a!==t&&qt.call(a,l,1),qt.call(t,l,1);return t}function Yi(t,e){for(var n=t?e.length:0,i=n-1;n--;){var o=e[n];if(n==i||o!==r){var r=o;Cr(o)?qt.call(t,o,1):po(t,o)}}return t}function Xi(t,e){return t+me(Sn()*(e-t+1))}function qi(t,e){var n="";if(!t||e<1||e>f)return n;do{e%2&&(n+=t),(e=me(e/2))&&(t+=t)}while(e);return n}function Zi(t,e){return Lr(Tr(t,e,ol),t+"")}function Ji(t){return Jn(Ua(t))}function Qi(t,e){var n=Ua(t);return Nr(n,li(e,0,n.length))}function to(t,e,n,i){if(!ea(t))return t;for(var r=-1,s=(e=bo(e,t)).length,a=s-1,l=t;null!=l&&++r<s;){var c=Gr(e[r]),u=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return t;if(r!=a){var h=l[c];(u=i?i(h,c,l):o)===o&&(u=ea(h)?h:Cr(e[r+1])?[]:{})}ni(l,c,u),l=l[c]}return t}var eo=Rn?function(t,e){return Rn.set(t,e),t}:ol,no=ne?function(t,e){return ne(t,"toString",{configurable:!0,enumerable:!1,value:el(e),writable:!0})}:ol;function io(t){return Nr(Ua(t))}function oo(t,e,n){var o=-1,r=t.length;e<0&&(e=-e>r?0:r+e),(n=n>r?r:n)<0&&(n+=r),r=e>n?0:n-e>>>0,e>>>=0;for(var s=i(r);++o<r;)s[o]=t[o+e];return s}function ro(t,e){var n;return pi(t,(function(t,i,o){return!(n=e(t,i,o))})),!!n}function so(t,e,n){var i=0,o=null==t?i:t.length;if("number"==typeof e&&e==e&&o<=2147483647){for(;i<o;){var r=i+o>>>1,s=t[r];null!==s&&!ca(s)&&(n?s<=e:s<e)?i=r+1:o=r}return o}return ao(t,e,ol,n)}function ao(t,e,n,i){var r=0,s=null==t?0:t.length;if(0===s)return 0;for(var a=(e=n(e))!=e,l=null===e,c=ca(e),u=e===o;r<s;){var h=me((r+s)/2),d=n(t[h]),p=d!==o,f=null===d,g=d==d,m=ca(d);if(a)var _=i||g;else _=u?g&&(i||p):l?g&&p&&(i||!f):c?g&&p&&!f&&(i||!m):!f&&!m&&(i?d<=e:d<e);_?r=h+1:s=h}return Cn(s,4294967294)}function lo(t,e){for(var n=-1,i=t.length,o=0,r=[];++n<i;){var s=t[n],a=e?e(s):s;if(!n||!Us(a,l)){var l=a;r[o++]=0===s?0:s}}return r}function co(t){return"number"==typeof t?t:ca(t)?g:+t}function uo(t){if("string"==typeof t)return t;if($s(t))return ke(t,uo)+"";if(ca(t))return jn?jn.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function ho(t,e,n){var i=-1,o=Le,r=t.length,s=!0,a=[],l=a;if(n)s=!1,o=Ie;else if(r>=200){var c=e?null:Zo(t);if(c)return dn(c);s=!1,o=en,l=new Xn}else l=e?[]:a;t:for(;++i<r;){var u=t[i],h=e?e(u):u;if(u=n||0!==u?u:0,s&&h==h){for(var d=l.length;d--;)if(l[d]===h)continue t;e&&l.push(h),a.push(u)}else o(l,h,n)||(l!==a&&l.push(h),a.push(u))}return a}function po(t,e){return null==(t=Mr(t,e=bo(e,t)))||delete t[Gr(Zr(e))]}function fo(t,e,n,i){return to(t,e,n(wi(t,e)),i)}function go(t,e,n,i){for(var o=t.length,r=i?o:-1;(i?r--:++r<o)&&e(t[r],r,t););return n?oo(t,i?0:r,i?r+1:o):oo(t,i?r+1:0,i?o:r)}function mo(t,e){var n=t;return n instanceof $n&&(n=n.value()),Fe(e,(function(t,e){return e.func.apply(e.thisArg,Ne([t],e.args))}),n)}function _o(t,e,n){var o=t.length;if(o<2)return o?ho(t[0]):[];for(var r=-1,s=i(o);++r<o;)for(var a=t[r],l=-1;++l<o;)l!=r&&(s[r]=di(s[r]||a,t[l],e,n));return ho(yi(s,1),e,n)}function yo(t,e,n){for(var i=-1,r=t.length,s=e.length,a={};++i<r;){var l=i<s?e[i]:o;n(a,t[i],l)}return a}function vo(t){return Ys(t)?t:[]}function Co(t){return"function"==typeof t?t:ol}function bo(t,e){return $s(t)?t:Er(t,e)?[t]:Fr(va(t))}var Eo=Zi;function So(t,e,n){var i=t.length;return n=n===o?i:n,!e&&n>=i?t:oo(t,e,n)}var wo=oe||function(t){return ge.clearTimeout(t)};function Oo(t,e){if(e)return t.slice();var n=t.length,i=zt?zt(n):new t.constructor(n);return t.copy(i),i}function xo(t){var e=new t.constructor(t.byteLength);return new $t(e).set(new $t(t)),e}function Po(t,e){var n=e?xo(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function To(t,e){if(t!==e){var n=t!==o,i=null===t,r=t==t,s=ca(t),a=e!==o,l=null===e,c=e==e,u=ca(e);if(!l&&!u&&!s&&t>e||s&&a&&c&&!l&&!u||i&&a&&c||!n&&c||!r)return 1;if(!i&&!s&&!u&&t<e||u&&n&&r&&!i&&!s||l&&n&&r||!a&&r||!c)return-1}return 0}function Mo(t,e,n,o){for(var r=-1,s=t.length,a=n.length,l=-1,c=e.length,u=vn(s-a,0),h=i(c+u),d=!o;++l<c;)h[l]=e[l];for(;++r<a;)(d||r<s)&&(h[n[r]]=t[r]);for(;u--;)h[l++]=t[r++];return h}function Do(t,e,n,o){for(var r=-1,s=t.length,a=-1,l=n.length,c=-1,u=e.length,h=vn(s-l,0),d=i(h+u),p=!o;++r<h;)d[r]=t[r];for(var f=r;++c<u;)d[f+c]=e[c];for(;++a<l;)(p||r<s)&&(d[f+n[a]]=t[r++]);return d}function Ro(t,e){var n=-1,o=t.length;for(e||(e=i(o));++n<o;)e[n]=t[n];return e}function Ao(t,e,n,i){var r=!n;n||(n={});for(var s=-1,a=e.length;++s<a;){var l=e[s],c=i?i(n[l],t[l],l,n,t):o;c===o&&(c=t[l]),r?si(n,l,c):ni(n,l,c)}return n}function Lo(t,e){return function(n,i){var o=$s(n)?Te:oi,r=e?e():{};return o(n,t,ur(i,2),r)}}function Io(t){return Zi((function(e,n){var i=-1,r=n.length,s=r>1?n[r-1]:o,a=r>2?n[2]:o;for(s=t.length>3&&"function"==typeof s?(r--,s):o,a&&br(n[0],n[1],a)&&(s=r<3?o:s,r=1),e=Pt(e);++i<r;){var l=n[i];l&&t(e,l,i,s)}return e}))}function ko(t,e){return function(n,i){if(null==n)return n;if(!Ks(n))return t(n,i);for(var o=n.length,r=e?o:-1,s=Pt(n);(e?r--:++r<o)&&!1!==i(s[r],r,s););return n}}function No(t){return function(e,n,i){for(var o=-1,r=Pt(e),s=i(e),a=s.length;a--;){var l=s[t?a:++o];if(!1===n(r[l],l,r))break}return e}}function Fo(t){return function(e){var n=ln(e=va(e))?gn(e):o,i=n?n[0]:e.charAt(0),r=n?So(n,1).join(""):e.slice(1);return i[t]()+r}}function Go(t){return function(e){return Fe(Ja(Ha(e).replace(te,"")),t,"")}}function Bo(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=Vn(t.prototype),i=t.apply(n,e);return ea(i)?i:n}}function jo(t){return function(e,n,i){var r=Pt(e);if(!Ks(e)){var s=ur(n,3);e=Aa(e),n=function(t){return s(r[t],t,r)}}var a=t(e,n,i);return a>-1?r[s?e[a]:a]:o}}function Uo(t){return or((function(e){var n=e.length,i=n,s=Hn.prototype.thru;for(t&&e.reverse();i--;){var a=e[i];if("function"!=typeof a)throw new Dt(r);if(s&&!l&&"wrapper"==lr(a))var l=new Hn([],!0)}for(i=l?i:n;++i<n;){var c=lr(a=e[i]),u="wrapper"==c?ar(a):o;l=u&&Sr(u[0])&&424==u[1]&&!u[4].length&&1==u[9]?l[lr(u[0])].apply(l,u[3]):1==a.length&&Sr(a)?l[c]():l.thru(a)}return function(){var t=arguments,i=t[0];if(l&&1==t.length&&$s(i))return l.plant(i).value();for(var o=0,r=n?e[o].apply(this,t):i;++o<n;)r=e[o].call(this,r);return r}}))}function Vo(t,e,n,r,s,a,l,c,u,d){var p=e&h,f=1&e,g=2&e,m=24&e,_=512&e,y=g?o:Bo(t);return function h(){for(var v=arguments.length,C=i(v),b=v;b--;)C[b]=arguments[b];if(m)var E=cr(h),S=function(t,e){for(var n=t.length,i=0;n--;)t[n]===e&&++i;return i}(C,E);if(r&&(C=Mo(C,r,s,m)),a&&(C=Do(C,a,l,m)),v-=S,m&&v<d){var w=hn(C,E);return Xo(t,e,Vo,h.placeholder,n,C,w,c,u,d-v)}var O=f?n:this,x=g?O[t]:t;return v=C.length,c?C=function(t,e){var n=t.length,i=Cn(e.length,n),r=Ro(t);for(;i--;){var s=e[i];t[i]=Cr(s,n)?r[s]:o}return t}(C,c):_&&v>1&&C.reverse(),p&&u<v&&(C.length=u),this&&this!==ge&&this instanceof h&&(x=y||Bo(x)),x.apply(O,C)}}function Wo(t,e){return function(n,i){return function(t,e,n,i){return bi(t,(function(t,o,r){e(i,n(t),o,r)})),i}(n,t,e(i),{})}}function Ho(t,e){return function(n,i){var r;if(n===o&&i===o)return e;if(n!==o&&(r=n),i!==o){if(r===o)return i;"string"==typeof n||"string"==typeof i?(n=uo(n),i=uo(i)):(n=co(n),i=co(i)),r=t(n,i)}return r}}function $o(t){return or((function(e){return e=ke(e,Qe(ur())),Zi((function(n){var i=this;return t(e,(function(t){return Pe(t,i,n)}))}))}))}function zo(t,e){var n=(e=e===o?" ":uo(e)).length;if(n<2)return n?qi(e,t):e;var i=qi(e,fe(t/fn(e)));return ln(e)?So(gn(i),0,t).join(""):i.slice(0,t)}function Ko(t){return function(e,n,r){return r&&"number"!=typeof r&&br(e,n,r)&&(n=r=o),e=fa(e),n===o?(n=e,e=0):n=fa(n),function(t,e,n,o){for(var r=-1,s=vn(fe((e-t)/(n||1)),0),a=i(s);s--;)a[o?s:++r]=t,t+=n;return a}(e,n,r=r===o?e<n?1:-1:fa(r),t)}}function Yo(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=_a(e),n=_a(n)),t(e,n)}}function Xo(t,e,n,i,r,s,a,l,h,d){var p=8&e;e|=p?c:u,4&(e&=~(p?u:c))||(e&=-4);var f=[t,e,r,p?s:o,p?a:o,p?o:s,p?o:a,l,h,d],g=n.apply(o,f);return Sr(t)&&Rr(g,f),g.placeholder=i,Ir(g,t,e)}function qo(t){var e=xt[t];return function(t,n){if(t=_a(t),(n=null==n?0:Cn(ga(n),292))&&Ce(t)){var i=(va(t)+"e").split("e");return+((i=(va(e(i[0]+"e"+(+i[1]+n)))+"e").split("e"))[0]+"e"+(+i[1]-n))}return e(t)}}var Zo=Tn&&1/dn(new Tn([,-0]))[1]==p?function(t){return new Tn(t)}:cl;function Jo(t){return function(e){var n=mr(e);return n==O?cn(e):n==D?pn(e):function(t,e){return ke(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function Qo(t,e,n,s,p,f,g,m){var _=2&e;if(!_&&"function"!=typeof t)throw new Dt(r);var y=s?s.length:0;if(y||(e&=-97,s=p=o),g=g===o?g:vn(ga(g),0),m=m===o?m:ga(m),y-=p?p.length:0,e&u){var v=s,C=p;s=p=o}var b=_?o:ar(t),E=[t,e,n,s,p,v,C,f,g,m];if(b&&function(t,e){var n=t[1],i=e[1],o=n|i,r=o<131,s=i==h&&8==n||i==h&&n==d&&t[7].length<=e[8]||384==i&&e[7].length<=e[8]&&8==n;if(!r&&!s)return t;1&i&&(t[2]=e[2],o|=1&n?0:4);var l=e[3];if(l){var c=t[3];t[3]=c?Mo(c,l,e[4]):l,t[4]=c?hn(t[3],a):e[4]}(l=e[5])&&(c=t[5],t[5]=c?Do(c,l,e[6]):l,t[6]=c?hn(t[5],a):e[6]);(l=e[7])&&(t[7]=l);i&h&&(t[8]=null==t[8]?e[8]:Cn(t[8],e[8]));null==t[9]&&(t[9]=e[9]);t[0]=e[0],t[1]=o}(E,b),t=E[0],e=E[1],n=E[2],s=E[3],p=E[4],!(m=E[9]=E[9]===o?_?0:t.length:vn(E[9]-y,0))&&24&e&&(e&=-25),e&&1!=e)S=8==e||e==l?function(t,e,n){var r=Bo(t);return function s(){for(var a=arguments.length,l=i(a),c=a,u=cr(s);c--;)l[c]=arguments[c];var h=a<3&&l[0]!==u&&l[a-1]!==u?[]:hn(l,u);return(a-=h.length)<n?Xo(t,e,Vo,s.placeholder,o,l,h,o,o,n-a):Pe(this&&this!==ge&&this instanceof s?r:t,this,l)}}(t,e,m):e!=c&&33!=e||p.length?Vo.apply(o,E):function(t,e,n,o){var r=1&e,s=Bo(t);return function e(){for(var a=-1,l=arguments.length,c=-1,u=o.length,h=i(u+l),d=this&&this!==ge&&this instanceof e?s:t;++c<u;)h[c]=o[c];for(;l--;)h[c++]=arguments[++a];return Pe(d,r?n:this,h)}}(t,e,n,s);else var S=function(t,e,n){var i=1&e,o=Bo(t);return function e(){return(this&&this!==ge&&this instanceof e?o:t).apply(i?n:this,arguments)}}(t,e,n);return Ir((b?eo:Rr)(S,E),t,e)}function tr(t,e,n,i){return t===o||Us(t,Lt[n])&&!Nt.call(i,n)?e:t}function er(t,e,n,i,r,s){return ea(t)&&ea(e)&&(s.set(e,t),Wi(t,e,o,er,s),s.delete(e)),t}function nr(t){return ra(t)?o:t}function ir(t,e,n,i,r,s){var a=1&n,l=t.length,c=e.length;if(l!=c&&!(a&&c>l))return!1;var u=s.get(t),h=s.get(e);if(u&&h)return u==e&&h==t;var d=-1,p=!0,f=2&n?new Xn:o;for(s.set(t,e),s.set(e,t);++d<l;){var g=t[d],m=e[d];if(i)var _=a?i(m,g,d,e,t,s):i(g,m,d,t,e,s);if(_!==o){if(_)continue;p=!1;break}if(f){if(!Be(e,(function(t,e){if(!en(f,e)&&(g===t||r(g,t,n,i,s)))return f.push(e)}))){p=!1;break}}else if(g!==m&&!r(g,m,n,i,s)){p=!1;break}}return s.delete(t),s.delete(e),p}function or(t){return Lr(Tr(t,o,zr),t+"")}function rr(t){return Oi(t,Aa,fr)}function sr(t){return Oi(t,La,gr)}var ar=Rn?function(t){return Rn.get(t)}:cl;function lr(t){for(var e=t.name+"",n=An[e],i=Nt.call(An,e)?n.length:0;i--;){var o=n[i],r=o.func;if(null==r||r==t)return o.name}return e}function cr(t){return(Nt.call(Un,"placeholder")?Un:t).placeholder}function ur(){var t=Un.iteratee||rl;return t=t===rl?Ni:t,arguments.length?t(arguments[0],arguments[1]):t}function hr(t,e){var n,i,o=t.__data__;return("string"==(i=typeof(n=e))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?o["string"==typeof e?"string":"hash"]:o.map}function dr(t){for(var e=Aa(t),n=e.length;n--;){var i=e[n],o=t[i];e[n]=[i,o,xr(o)]}return e}function pr(t,e){var n=function(t,e){return null==t?o:t[e]}(t,e);return ki(n)?n:o}var fr=_e?function(t){return null==t?[]:(t=Pt(t),Ae(_e(t),(function(e){return Xt.call(t,e)})))}:ml,gr=_e?function(t){for(var e=[];t;)Ne(e,fr(t)),t=Kt(t);return e}:ml,mr=xi;function _r(t,e,n){for(var i=-1,o=(e=bo(e,t)).length,r=!1;++i<o;){var s=Gr(e[i]);if(!(r=null!=t&&n(t,s)))break;t=t[s]}return r||++i!=o?r:!!(o=null==t?0:t.length)&&ta(o)&&Cr(s,o)&&($s(t)||Hs(t))}function yr(t){return"function"!=typeof t.constructor||Or(t)?{}:Vn(Kt(t))}function vr(t){return $s(t)||Hs(t)||!!(Zt&&t&&t[Zt])}function Cr(t,e){var n=typeof t;return!!(e=null==e?f:e)&&("number"==n||"symbol"!=n&&Ct.test(t))&&t>-1&&t%1==0&&t<e}function br(t,e,n){if(!ea(n))return!1;var i=typeof e;return!!("number"==i?Ks(n)&&Cr(e,n.length):"string"==i&&e in n)&&Us(n[e],t)}function Er(t,e){if($s(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!ca(t))||(nt.test(t)||!et.test(t)||null!=e&&t in Pt(e))}function Sr(t){var e=lr(t),n=Un[e];if("function"!=typeof n||!(e in $n.prototype))return!1;if(t===n)return!0;var i=ar(n);return!!i&&t===i[0]}(On&&mr(new On(new ArrayBuffer(1)))!=k||xn&&mr(new xn)!=O||Pn&&mr(Pn.resolve())!=T||Tn&&mr(new Tn)!=D||Mn&&mr(new Mn)!=L)&&(mr=function(t){var e=xi(t),n=e==P?t.constructor:o,i=n?Br(n):"";if(i)switch(i){case Ln:return k;case In:return O;case kn:return T;case Nn:return D;case Fn:return L}return e});var wr=It?Js:_l;function Or(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Lt)}function xr(t){return t==t&&!ea(t)}function Pr(t,e){return function(n){return null!=n&&(n[t]===e&&(e!==o||t in Pt(n)))}}function Tr(t,e,n){return e=vn(e===o?t.length-1:e,0),function(){for(var o=arguments,r=-1,s=vn(o.length-e,0),a=i(s);++r<s;)a[r]=o[e+r];r=-1;for(var l=i(e+1);++r<e;)l[r]=o[r];return l[e]=n(a),Pe(t,this,l)}}function Mr(t,e){return e.length<2?t:wi(t,oo(e,0,-1))}function Dr(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var Rr=kr(eo),Ar=pe||function(t,e){return ge.setTimeout(t,e)},Lr=kr(no);function Ir(t,e,n){var i=e+"";return Lr(t,function(t,e){var n=e.length;if(!n)return t;var i=n-1;return e[i]=(n>1?"& ":"")+e[i],e=e.join(n>2?", ":" "),t.replace(lt,"{\n/* [wrapped with "+e+"] */\n")}(i,function(t,e){return Me(_,(function(n){var i="_."+n[0];e&n[1]&&!Le(t,i)&&t.push(i)})),t.sort()}(function(t){var e=t.match(ct);return e?e[1].split(ut):[]}(i),n)))}function kr(t){var e=0,n=0;return function(){var i=bn(),r=16-(i-n);if(n=i,r>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(o,arguments)}}function Nr(t,e){var n=-1,i=t.length,r=i-1;for(e=e===o?i:e;++n<e;){var s=Xi(n,r),a=t[s];t[s]=t[n],t[n]=a}return t.length=e,t}var Fr=function(t){var e=ks(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(it,(function(t,n,i,o){e.push(i?o.replace(pt,"$1"):n||t)})),e}));function Gr(t){if("string"==typeof t||ca(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Br(t){if(null!=t){try{return kt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function jr(t){if(t instanceof $n)return t.clone();var e=new Hn(t.__wrapped__,t.__chain__);return e.__actions__=Ro(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var Ur=Zi((function(t,e){return Ys(t)?di(t,yi(e,1,Ys,!0)):[]})),Vr=Zi((function(t,e){var n=Zr(e);return Ys(n)&&(n=o),Ys(t)?di(t,yi(e,1,Ys,!0),ur(n,2)):[]})),Wr=Zi((function(t,e){var n=Zr(e);return Ys(n)&&(n=o),Ys(t)?di(t,yi(e,1,Ys,!0),o,n):[]}));function Hr(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var o=null==n?0:ga(n);return o<0&&(o=vn(i+o,0)),Ve(t,ur(e,3),o)}function $r(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=i-1;return n!==o&&(r=ga(n),r=n<0?vn(i+r,0):Cn(r,i-1)),Ve(t,ur(e,3),r,!0)}function zr(t){return(null==t?0:t.length)?yi(t,1):[]}function Kr(t){return t&&t.length?t[0]:o}var Yr=Zi((function(t){var e=ke(t,vo);return e.length&&e[0]===t[0]?Di(e):[]})),Xr=Zi((function(t){var e=Zr(t),n=ke(t,vo);return e===Zr(n)?e=o:n.pop(),n.length&&n[0]===t[0]?Di(n,ur(e,2)):[]})),qr=Zi((function(t){var e=Zr(t),n=ke(t,vo);return(e="function"==typeof e?e:o)&&n.pop(),n.length&&n[0]===t[0]?Di(n,o,e):[]}));function Zr(t){var e=null==t?0:t.length;return e?t[e-1]:o}var Jr=Zi(Qr);function Qr(t,e){return t&&t.length&&e&&e.length?Ki(t,e):t}var ts=or((function(t,e){var n=null==t?0:t.length,i=ai(t,e);return Yi(t,ke(e,(function(t){return Cr(t,n)?+t:t})).sort(To)),i}));function es(t){return null==t?t:wn.call(t)}var ns=Zi((function(t){return ho(yi(t,1,Ys,!0))})),is=Zi((function(t){var e=Zr(t);return Ys(e)&&(e=o),ho(yi(t,1,Ys,!0),ur(e,2))})),os=Zi((function(t){var e=Zr(t);return e="function"==typeof e?e:o,ho(yi(t,1,Ys,!0),o,e)}));function rs(t){if(!t||!t.length)return[];var e=0;return t=Ae(t,(function(t){if(Ys(t))return e=vn(t.length,e),!0})),Ze(e,(function(e){return ke(t,Ke(e))}))}function ss(t,e){if(!t||!t.length)return[];var n=rs(t);return null==e?n:ke(n,(function(t){return Pe(e,o,t)}))}var as=Zi((function(t,e){return Ys(t)?di(t,e):[]})),ls=Zi((function(t){return _o(Ae(t,Ys))})),cs=Zi((function(t){var e=Zr(t);return Ys(e)&&(e=o),_o(Ae(t,Ys),ur(e,2))})),us=Zi((function(t){var e=Zr(t);return e="function"==typeof e?e:o,_o(Ae(t,Ys),o,e)})),hs=Zi(rs);var ds=Zi((function(t){var e=t.length,n=e>1?t[e-1]:o;return n="function"==typeof n?(t.pop(),n):o,ss(t,n)}));function ps(t){var e=Un(t);return e.__chain__=!0,e}function fs(t,e){return e(t)}var gs=or((function(t){var e=t.length,n=e?t[0]:0,i=this.__wrapped__,r=function(e){return ai(e,t)};return!(e>1||this.__actions__.length)&&i instanceof $n&&Cr(n)?((i=i.slice(n,+n+(e?1:0))).__actions__.push({func:fs,args:[r],thisArg:o}),new Hn(i,this.__chain__).thru((function(t){return e&&!t.length&&t.push(o),t}))):this.thru(r)}));var ms=Lo((function(t,e,n){Nt.call(t,n)?++t[n]:si(t,n,1)}));var _s=jo(Hr),ys=jo($r);function vs(t,e){return($s(t)?Me:pi)(t,ur(e,3))}function Cs(t,e){return($s(t)?De:fi)(t,ur(e,3))}var bs=Lo((function(t,e,n){Nt.call(t,n)?t[n].push(e):si(t,n,[e])}));var Es=Zi((function(t,e,n){var o=-1,r="function"==typeof e,s=Ks(t)?i(t.length):[];return pi(t,(function(t){s[++o]=r?Pe(e,t,n):Ri(t,e,n)})),s})),Ss=Lo((function(t,e,n){si(t,n,e)}));function ws(t,e){return($s(t)?ke:ji)(t,ur(e,3))}var Os=Lo((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]}));var xs=Zi((function(t,e){if(null==t)return[];var n=e.length;return n>1&&br(t,e[0],e[1])?e=[]:n>2&&br(e[0],e[1],e[2])&&(e=[e[0]]),$i(t,yi(e,1),[])})),Ps=ue||function(){return ge.Date.now()};function Ts(t,e,n){return e=n?o:e,e=t&&null==e?t.length:e,Qo(t,h,o,o,o,o,e)}function Ms(t,e){var n;if("function"!=typeof e)throw new Dt(r);return t=ga(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=o),n}}var Ds=Zi((function(t,e,n){var i=1;if(n.length){var o=hn(n,cr(Ds));i|=c}return Qo(t,i,e,n,o)})),Rs=Zi((function(t,e,n){var i=3;if(n.length){var o=hn(n,cr(Rs));i|=c}return Qo(e,i,t,n,o)}));function As(t,e,n){var i,s,a,l,c,u,h=0,d=!1,p=!1,f=!0;if("function"!=typeof t)throw new Dt(r);function g(e){var n=i,r=s;return i=s=o,h=e,l=t.apply(r,n)}function m(t){var n=t-u;return u===o||n>=e||n<0||p&&t-h>=a}function _(){var t=Ps();if(m(t))return y(t);c=Ar(_,function(t){var n=e-(t-u);return p?Cn(n,a-(t-h)):n}(t))}function y(t){return c=o,f&&i?g(t):(i=s=o,l)}function v(){var t=Ps(),n=m(t);if(i=arguments,s=this,u=t,n){if(c===o)return function(t){return h=t,c=Ar(_,e),d?g(t):l}(u);if(p)return wo(c),c=Ar(_,e),g(u)}return c===o&&(c=Ar(_,e)),l}return e=_a(e)||0,ea(n)&&(d=!!n.leading,a=(p="maxWait"in n)?vn(_a(n.maxWait)||0,e):a,f="trailing"in n?!!n.trailing:f),v.cancel=function(){c!==o&&wo(c),h=0,i=u=s=c=o},v.flush=function(){return c===o?l:y(Ps())},v}var Ls=Zi((function(t,e){return hi(t,1,e)})),Is=Zi((function(t,e,n){return hi(t,_a(e)||0,n)}));function ks(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new Dt(r);var n=function(){var i=arguments,o=e?e.apply(this,i):i[0],r=n.cache;if(r.has(o))return r.get(o);var s=t.apply(this,i);return n.cache=r.set(o,s)||r,s};return n.cache=new(ks.Cache||Yn),n}function Ns(t){if("function"!=typeof t)throw new Dt(r);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}ks.Cache=Yn;var Fs=Eo((function(t,e){var n=(e=1==e.length&&$s(e[0])?ke(e[0],Qe(ur())):ke(yi(e,1),Qe(ur()))).length;return Zi((function(i){for(var o=-1,r=Cn(i.length,n);++o<r;)i[o]=e[o].call(this,i[o]);return Pe(t,this,i)}))})),Gs=Zi((function(t,e){var n=hn(e,cr(Gs));return Qo(t,c,o,e,n)})),Bs=Zi((function(t,e){var n=hn(e,cr(Bs));return Qo(t,u,o,e,n)})),js=or((function(t,e){return Qo(t,d,o,o,o,e)}));function Us(t,e){return t===e||t!=t&&e!=e}var Vs=Yo(Pi),Ws=Yo((function(t,e){return t>=e})),Hs=Ai(function(){return arguments}())?Ai:function(t){return na(t)&&Nt.call(t,"callee")&&!Xt.call(t,"callee")},$s=i.isArray,zs=be?Qe(be):function(t){return na(t)&&xi(t)==I};function Ks(t){return null!=t&&ta(t.length)&&!Js(t)}function Ys(t){return na(t)&&Ks(t)}var Xs=ve||_l,qs=Ee?Qe(Ee):function(t){return na(t)&&xi(t)==b};function Zs(t){if(!na(t))return!1;var e=xi(t);return e==E||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!ra(t)}function Js(t){if(!ea(t))return!1;var e=xi(t);return e==S||e==w||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Qs(t){return"number"==typeof t&&t==ga(t)}function ta(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=f}function ea(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function na(t){return null!=t&&"object"==typeof t}var ia=Se?Qe(Se):function(t){return na(t)&&mr(t)==O};function oa(t){return"number"==typeof t||na(t)&&xi(t)==x}function ra(t){if(!na(t)||xi(t)!=P)return!1;var e=Kt(t);if(null===e)return!0;var n=Nt.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&kt.call(n)==jt}var sa=we?Qe(we):function(t){return na(t)&&xi(t)==M};var aa=Oe?Qe(Oe):function(t){return na(t)&&mr(t)==D};function la(t){return"string"==typeof t||!$s(t)&&na(t)&&xi(t)==R}function ca(t){return"symbol"==typeof t||na(t)&&xi(t)==A}var ua=xe?Qe(xe):function(t){return na(t)&&ta(t.length)&&!!le[xi(t)]};var ha=Yo(Bi),da=Yo((function(t,e){return t<=e}));function pa(t){if(!t)return[];if(Ks(t))return la(t)?gn(t):Ro(t);if(Jt&&t[Jt])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[Jt]());var e=mr(t);return(e==O?cn:e==D?dn:Ua)(t)}function fa(t){return t?(t=_a(t))===p||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function ga(t){var e=fa(t),n=e%1;return e==e?n?e-n:e:0}function ma(t){return t?li(ga(t),0,m):0}function _a(t){if("number"==typeof t)return t;if(ca(t))return g;if(ea(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=ea(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=Je(t);var n=_t.test(t);return n||vt.test(t)?de(t.slice(2),n?2:8):mt.test(t)?g:+t}function ya(t){return Ao(t,La(t))}function va(t){return null==t?"":uo(t)}var Ca=Io((function(t,e){if(Or(e)||Ks(e))Ao(e,Aa(e),t);else for(var n in e)Nt.call(e,n)&&ni(t,n,e[n])})),ba=Io((function(t,e){Ao(e,La(e),t)})),Ea=Io((function(t,e,n,i){Ao(e,La(e),t,i)})),Sa=Io((function(t,e,n,i){Ao(e,Aa(e),t,i)})),wa=or(ai);var Oa=Zi((function(t,e){t=Pt(t);var n=-1,i=e.length,r=i>2?e[2]:o;for(r&&br(e[0],e[1],r)&&(i=1);++n<i;)for(var s=e[n],a=La(s),l=-1,c=a.length;++l<c;){var u=a[l],h=t[u];(h===o||Us(h,Lt[u])&&!Nt.call(t,u))&&(t[u]=s[u])}return t})),xa=Zi((function(t){return t.push(o,er),Pe(ka,o,t)}));function Pa(t,e,n){var i=null==t?o:wi(t,e);return i===o?n:i}function Ta(t,e){return null!=t&&_r(t,e,Mi)}var Ma=Wo((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Bt.call(e)),t[e]=n}),el(ol)),Da=Wo((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Bt.call(e)),Nt.call(t,e)?t[e].push(n):t[e]=[n]}),ur),Ra=Zi(Ri);function Aa(t){return Ks(t)?Zn(t):Fi(t)}function La(t){return Ks(t)?Zn(t,!0):Gi(t)}var Ia=Io((function(t,e,n){Wi(t,e,n)})),ka=Io((function(t,e,n,i){Wi(t,e,n,i)})),Na=or((function(t,e){var n={};if(null==t)return n;var i=!1;e=ke(e,(function(e){return e=bo(e,t),i||(i=e.length>1),e})),Ao(t,sr(t),n),i&&(n=ci(n,7,nr));for(var o=e.length;o--;)po(n,e[o]);return n}));var Fa=or((function(t,e){return null==t?{}:function(t,e){return zi(t,e,(function(e,n){return Ta(t,n)}))}(t,e)}));function Ga(t,e){if(null==t)return{};var n=ke(sr(t),(function(t){return[t]}));return e=ur(e),zi(t,n,(function(t,n){return e(t,n[0])}))}var Ba=Jo(Aa),ja=Jo(La);function Ua(t){return null==t?[]:tn(t,Aa(t))}var Va=Go((function(t,e,n){return e=e.toLowerCase(),t+(n?Wa(e):e)}));function Wa(t){return Za(va(t).toLowerCase())}function Ha(t){return(t=va(t))&&t.replace(bt,rn).replace(ee,"")}var $a=Go((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()})),za=Go((function(t,e,n){return t+(n?" ":"")+e.toLowerCase()})),Ka=Fo("toLowerCase");var Ya=Go((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}));var Xa=Go((function(t,e,n){return t+(n?" ":"")+Za(e)}));var qa=Go((function(t,e,n){return t+(n?" ":"")+e.toUpperCase()})),Za=Fo("toUpperCase");function Ja(t,e,n){return t=va(t),(e=n?o:e)===o?function(t){return re.test(t)}(t)?function(t){return t.match(ie)||[]}(t):function(t){return t.match(ht)||[]}(t):t.match(e)||[]}var Qa=Zi((function(t,e){try{return Pe(t,o,e)}catch(t){return Zs(t)?t:new wt(t)}})),tl=or((function(t,e){return Me(e,(function(e){e=Gr(e),si(t,e,Ds(t[e],t))})),t}));function el(t){return function(){return t}}var nl=Uo(),il=Uo(!0);function ol(t){return t}function rl(t){return Ni("function"==typeof t?t:ci(t,1))}var sl=Zi((function(t,e){return function(n){return Ri(n,t,e)}})),al=Zi((function(t,e){return function(n){return Ri(t,n,e)}}));function ll(t,e,n){var i=Aa(e),o=Si(e,i);null!=n||ea(e)&&(o.length||!i.length)||(n=e,e=t,t=this,o=Si(e,Aa(e)));var r=!(ea(n)&&"chain"in n&&!n.chain),s=Js(t);return Me(o,(function(n){var i=e[n];t[n]=i,s&&(t.prototype[n]=function(){var e=this.__chain__;if(r||e){var n=t(this.__wrapped__);return(n.__actions__=Ro(this.__actions__)).push({func:i,args:arguments,thisArg:t}),n.__chain__=e,n}return i.apply(t,Ne([this.value()],arguments))})})),t}function cl(){}var ul=$o(ke),hl=$o(Re),dl=$o(Be);function pl(t){return Er(t)?Ke(Gr(t)):function(t){return function(e){return wi(e,t)}}(t)}var fl=Ko(),gl=Ko(!0);function ml(){return[]}function _l(){return!1}var yl=Ho((function(t,e){return t+e}),0),vl=qo("ceil"),Cl=Ho((function(t,e){return t/e}),1),bl=qo("floor");var El,Sl=Ho((function(t,e){return t*e}),1),wl=qo("round"),Ol=Ho((function(t,e){return t-e}),0);return Un.after=function(t,e){if("function"!=typeof e)throw new Dt(r);return t=ga(t),function(){if(--t<1)return e.apply(this,arguments)}},Un.ary=Ts,Un.assign=Ca,Un.assignIn=ba,Un.assignInWith=Ea,Un.assignWith=Sa,Un.at=wa,Un.before=Ms,Un.bind=Ds,Un.bindAll=tl,Un.bindKey=Rs,Un.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return $s(t)?t:[t]},Un.chain=ps,Un.chunk=function(t,e,n){e=(n?br(t,e,n):e===o)?1:vn(ga(e),0);var r=null==t?0:t.length;if(!r||e<1)return[];for(var s=0,a=0,l=i(fe(r/e));s<r;)l[a++]=oo(t,s,s+=e);return l},Un.compact=function(t){for(var e=-1,n=null==t?0:t.length,i=0,o=[];++e<n;){var r=t[e];r&&(o[i++]=r)}return o},Un.concat=function(){var t=arguments.length;if(!t)return[];for(var e=i(t-1),n=arguments[0],o=t;o--;)e[o-1]=arguments[o];return Ne($s(n)?Ro(n):[n],yi(e,1))},Un.cond=function(t){var e=null==t?0:t.length,n=ur();return t=e?ke(t,(function(t){if("function"!=typeof t[1])throw new Dt(r);return[n(t[0]),t[1]]})):[],Zi((function(n){for(var i=-1;++i<e;){var o=t[i];if(Pe(o[0],this,n))return Pe(o[1],this,n)}}))},Un.conforms=function(t){return function(t){var e=Aa(t);return function(n){return ui(n,t,e)}}(ci(t,1))},Un.constant=el,Un.countBy=ms,Un.create=function(t,e){var n=Vn(t);return null==e?n:ri(n,e)},Un.curry=function t(e,n,i){var r=Qo(e,8,o,o,o,o,o,n=i?o:n);return r.placeholder=t.placeholder,r},Un.curryRight=function t(e,n,i){var r=Qo(e,l,o,o,o,o,o,n=i?o:n);return r.placeholder=t.placeholder,r},Un.debounce=As,Un.defaults=Oa,Un.defaultsDeep=xa,Un.defer=Ls,Un.delay=Is,Un.difference=Ur,Un.differenceBy=Vr,Un.differenceWith=Wr,Un.drop=function(t,e,n){var i=null==t?0:t.length;return i?oo(t,(e=n||e===o?1:ga(e))<0?0:e,i):[]},Un.dropRight=function(t,e,n){var i=null==t?0:t.length;return i?oo(t,0,(e=i-(e=n||e===o?1:ga(e)))<0?0:e):[]},Un.dropRightWhile=function(t,e){return t&&t.length?go(t,ur(e,3),!0,!0):[]},Un.dropWhile=function(t,e){return t&&t.length?go(t,ur(e,3),!0):[]},Un.fill=function(t,e,n,i){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&br(t,e,n)&&(n=0,i=r),function(t,e,n,i){var r=t.length;for((n=ga(n))<0&&(n=-n>r?0:r+n),(i=i===o||i>r?r:ga(i))<0&&(i+=r),i=n>i?0:ma(i);n<i;)t[n++]=e;return t}(t,e,n,i)):[]},Un.filter=function(t,e){return($s(t)?Ae:_i)(t,ur(e,3))},Un.flatMap=function(t,e){return yi(ws(t,e),1)},Un.flatMapDeep=function(t,e){return yi(ws(t,e),p)},Un.flatMapDepth=function(t,e,n){return n=n===o?1:ga(n),yi(ws(t,e),n)},Un.flatten=zr,Un.flattenDeep=function(t){return(null==t?0:t.length)?yi(t,p):[]},Un.flattenDepth=function(t,e){return(null==t?0:t.length)?yi(t,e=e===o?1:ga(e)):[]},Un.flip=function(t){return Qo(t,512)},Un.flow=nl,Un.flowRight=il,Un.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,i={};++e<n;){var o=t[e];i[o[0]]=o[1]}return i},Un.functions=function(t){return null==t?[]:Si(t,Aa(t))},Un.functionsIn=function(t){return null==t?[]:Si(t,La(t))},Un.groupBy=bs,Un.initial=function(t){return(null==t?0:t.length)?oo(t,0,-1):[]},Un.intersection=Yr,Un.intersectionBy=Xr,Un.intersectionWith=qr,Un.invert=Ma,Un.invertBy=Da,Un.invokeMap=Es,Un.iteratee=rl,Un.keyBy=Ss,Un.keys=Aa,Un.keysIn=La,Un.map=ws,Un.mapKeys=function(t,e){var n={};return e=ur(e,3),bi(t,(function(t,i,o){si(n,e(t,i,o),t)})),n},Un.mapValues=function(t,e){var n={};return e=ur(e,3),bi(t,(function(t,i,o){si(n,i,e(t,i,o))})),n},Un.matches=function(t){return Ui(ci(t,1))},Un.matchesProperty=function(t,e){return Vi(t,ci(e,1))},Un.memoize=ks,Un.merge=Ia,Un.mergeWith=ka,Un.method=sl,Un.methodOf=al,Un.mixin=ll,Un.negate=Ns,Un.nthArg=function(t){return t=ga(t),Zi((function(e){return Hi(e,t)}))},Un.omit=Na,Un.omitBy=function(t,e){return Ga(t,Ns(ur(e)))},Un.once=function(t){return Ms(2,t)},Un.orderBy=function(t,e,n,i){return null==t?[]:($s(e)||(e=null==e?[]:[e]),$s(n=i?o:n)||(n=null==n?[]:[n]),$i(t,e,n))},Un.over=ul,Un.overArgs=Fs,Un.overEvery=hl,Un.overSome=dl,Un.partial=Gs,Un.partialRight=Bs,Un.partition=Os,Un.pick=Fa,Un.pickBy=Ga,Un.property=pl,Un.propertyOf=function(t){return function(e){return null==t?o:wi(t,e)}},Un.pull=Jr,Un.pullAll=Qr,Un.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?Ki(t,e,ur(n,2)):t},Un.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?Ki(t,e,o,n):t},Un.pullAt=ts,Un.range=fl,Un.rangeRight=gl,Un.rearg=js,Un.reject=function(t,e){return($s(t)?Ae:_i)(t,Ns(ur(e,3)))},Un.remove=function(t,e){var n=[];if(!t||!t.length)return n;var i=-1,o=[],r=t.length;for(e=ur(e,3);++i<r;){var s=t[i];e(s,i,t)&&(n.push(s),o.push(i))}return Yi(t,o),n},Un.rest=function(t,e){if("function"!=typeof t)throw new Dt(r);return Zi(t,e=e===o?e:ga(e))},Un.reverse=es,Un.sampleSize=function(t,e,n){return e=(n?br(t,e,n):e===o)?1:ga(e),($s(t)?Qn:Qi)(t,e)},Un.set=function(t,e,n){return null==t?t:to(t,e,n)},Un.setWith=function(t,e,n,i){return i="function"==typeof i?i:o,null==t?t:to(t,e,n,i)},Un.shuffle=function(t){return($s(t)?ti:io)(t)},Un.slice=function(t,e,n){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&br(t,e,n)?(e=0,n=i):(e=null==e?0:ga(e),n=n===o?i:ga(n)),oo(t,e,n)):[]},Un.sortBy=xs,Un.sortedUniq=function(t){return t&&t.length?lo(t):[]},Un.sortedUniqBy=function(t,e){return t&&t.length?lo(t,ur(e,2)):[]},Un.split=function(t,e,n){return n&&"number"!=typeof n&&br(t,e,n)&&(e=n=o),(n=n===o?m:n>>>0)?(t=va(t))&&("string"==typeof e||null!=e&&!sa(e))&&!(e=uo(e))&&ln(t)?So(gn(t),0,n):t.split(e,n):[]},Un.spread=function(t,e){if("function"!=typeof t)throw new Dt(r);return e=null==e?0:vn(ga(e),0),Zi((function(n){var i=n[e],o=So(n,0,e);return i&&Ne(o,i),Pe(t,this,o)}))},Un.tail=function(t){var e=null==t?0:t.length;return e?oo(t,1,e):[]},Un.take=function(t,e,n){return t&&t.length?oo(t,0,(e=n||e===o?1:ga(e))<0?0:e):[]},Un.takeRight=function(t,e,n){var i=null==t?0:t.length;return i?oo(t,(e=i-(e=n||e===o?1:ga(e)))<0?0:e,i):[]},Un.takeRightWhile=function(t,e){return t&&t.length?go(t,ur(e,3),!1,!0):[]},Un.takeWhile=function(t,e){return t&&t.length?go(t,ur(e,3)):[]},Un.tap=function(t,e){return e(t),t},Un.throttle=function(t,e,n){var i=!0,o=!0;if("function"!=typeof t)throw new Dt(r);return ea(n)&&(i="leading"in n?!!n.leading:i,o="trailing"in n?!!n.trailing:o),As(t,e,{leading:i,maxWait:e,trailing:o})},Un.thru=fs,Un.toArray=pa,Un.toPairs=Ba,Un.toPairsIn=ja,Un.toPath=function(t){return $s(t)?ke(t,Gr):ca(t)?[t]:Ro(Fr(va(t)))},Un.toPlainObject=ya,Un.transform=function(t,e,n){var i=$s(t),o=i||Xs(t)||ua(t);if(e=ur(e,4),null==n){var r=t&&t.constructor;n=o?i?new r:[]:ea(t)&&Js(r)?Vn(Kt(t)):{}}return(o?Me:bi)(t,(function(t,i,o){return e(n,t,i,o)})),n},Un.unary=function(t){return Ts(t,1)},Un.union=ns,Un.unionBy=is,Un.unionWith=os,Un.uniq=function(t){return t&&t.length?ho(t):[]},Un.uniqBy=function(t,e){return t&&t.length?ho(t,ur(e,2)):[]},Un.uniqWith=function(t,e){return e="function"==typeof e?e:o,t&&t.length?ho(t,o,e):[]},Un.unset=function(t,e){return null==t||po(t,e)},Un.unzip=rs,Un.unzipWith=ss,Un.update=function(t,e,n){return null==t?t:fo(t,e,Co(n))},Un.updateWith=function(t,e,n,i){return i="function"==typeof i?i:o,null==t?t:fo(t,e,Co(n),i)},Un.values=Ua,Un.valuesIn=function(t){return null==t?[]:tn(t,La(t))},Un.without=as,Un.words=Ja,Un.wrap=function(t,e){return Gs(Co(e),t)},Un.xor=ls,Un.xorBy=cs,Un.xorWith=us,Un.zip=hs,Un.zipObject=function(t,e){return yo(t||[],e||[],ni)},Un.zipObjectDeep=function(t,e){return yo(t||[],e||[],to)},Un.zipWith=ds,Un.entries=Ba,Un.entriesIn=ja,Un.extend=ba,Un.extendWith=Ea,ll(Un,Un),Un.add=yl,Un.attempt=Qa,Un.camelCase=Va,Un.capitalize=Wa,Un.ceil=vl,Un.clamp=function(t,e,n){return n===o&&(n=e,e=o),n!==o&&(n=(n=_a(n))==n?n:0),e!==o&&(e=(e=_a(e))==e?e:0),li(_a(t),e,n)},Un.clone=function(t){return ci(t,4)},Un.cloneDeep=function(t){return ci(t,5)},Un.cloneDeepWith=function(t,e){return ci(t,5,e="function"==typeof e?e:o)},Un.cloneWith=function(t,e){return ci(t,4,e="function"==typeof e?e:o)},Un.conformsTo=function(t,e){return null==e||ui(t,e,Aa(e))},Un.deburr=Ha,Un.defaultTo=function(t,e){return null==t||t!=t?e:t},Un.divide=Cl,Un.endsWith=function(t,e,n){t=va(t),e=uo(e);var i=t.length,r=n=n===o?i:li(ga(n),0,i);return(n-=e.length)>=0&&t.slice(n,r)==e},Un.eq=Us,Un.escape=function(t){return(t=va(t))&&Z.test(t)?t.replace(X,sn):t},Un.escapeRegExp=function(t){return(t=va(t))&&rt.test(t)?t.replace(ot,"\\$&"):t},Un.every=function(t,e,n){var i=$s(t)?Re:gi;return n&&br(t,e,n)&&(e=o),i(t,ur(e,3))},Un.find=_s,Un.findIndex=Hr,Un.findKey=function(t,e){return Ue(t,ur(e,3),bi)},Un.findLast=ys,Un.findLastIndex=$r,Un.findLastKey=function(t,e){return Ue(t,ur(e,3),Ei)},Un.floor=bl,Un.forEach=vs,Un.forEachRight=Cs,Un.forIn=function(t,e){return null==t?t:vi(t,ur(e,3),La)},Un.forInRight=function(t,e){return null==t?t:Ci(t,ur(e,3),La)},Un.forOwn=function(t,e){return t&&bi(t,ur(e,3))},Un.forOwnRight=function(t,e){return t&&Ei(t,ur(e,3))},Un.get=Pa,Un.gt=Vs,Un.gte=Ws,Un.has=function(t,e){return null!=t&&_r(t,e,Ti)},Un.hasIn=Ta,Un.head=Kr,Un.identity=ol,Un.includes=function(t,e,n,i){t=Ks(t)?t:Ua(t),n=n&&!i?ga(n):0;var o=t.length;return n<0&&(n=vn(o+n,0)),la(t)?n<=o&&t.indexOf(e,n)>-1:!!o&&We(t,e,n)>-1},Un.indexOf=function(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var o=null==n?0:ga(n);return o<0&&(o=vn(i+o,0)),We(t,e,o)},Un.inRange=function(t,e,n){return e=fa(e),n===o?(n=e,e=0):n=fa(n),function(t,e,n){return t>=Cn(e,n)&&t<vn(e,n)}(t=_a(t),e,n)},Un.invoke=Ra,Un.isArguments=Hs,Un.isArray=$s,Un.isArrayBuffer=zs,Un.isArrayLike=Ks,Un.isArrayLikeObject=Ys,Un.isBoolean=function(t){return!0===t||!1===t||na(t)&&xi(t)==C},Un.isBuffer=Xs,Un.isDate=qs,Un.isElement=function(t){return na(t)&&1===t.nodeType&&!ra(t)},Un.isEmpty=function(t){if(null==t)return!0;if(Ks(t)&&($s(t)||"string"==typeof t||"function"==typeof t.splice||Xs(t)||ua(t)||Hs(t)))return!t.length;var e=mr(t);if(e==O||e==D)return!t.size;if(Or(t))return!Fi(t).length;for(var n in t)if(Nt.call(t,n))return!1;return!0},Un.isEqual=function(t,e){return Li(t,e)},Un.isEqualWith=function(t,e,n){var i=(n="function"==typeof n?n:o)?n(t,e):o;return i===o?Li(t,e,o,n):!!i},Un.isError=Zs,Un.isFinite=function(t){return"number"==typeof t&&Ce(t)},Un.isFunction=Js,Un.isInteger=Qs,Un.isLength=ta,Un.isMap=ia,Un.isMatch=function(t,e){return t===e||Ii(t,e,dr(e))},Un.isMatchWith=function(t,e,n){return n="function"==typeof n?n:o,Ii(t,e,dr(e),n)},Un.isNaN=function(t){return oa(t)&&t!=+t},Un.isNative=function(t){if(wr(t))throw new wt("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return ki(t)},Un.isNil=function(t){return null==t},Un.isNull=function(t){return null===t},Un.isNumber=oa,Un.isObject=ea,Un.isObjectLike=na,Un.isPlainObject=ra,Un.isRegExp=sa,Un.isSafeInteger=function(t){return Qs(t)&&t>=-9007199254740991&&t<=f},Un.isSet=aa,Un.isString=la,Un.isSymbol=ca,Un.isTypedArray=ua,Un.isUndefined=function(t){return t===o},Un.isWeakMap=function(t){return na(t)&&mr(t)==L},Un.isWeakSet=function(t){return na(t)&&"[object WeakSet]"==xi(t)},Un.join=function(t,e){return null==t?"":je.call(t,e)},Un.kebabCase=$a,Un.last=Zr,Un.lastIndexOf=function(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=i;return n!==o&&(r=(r=ga(n))<0?vn(i+r,0):Cn(r,i-1)),e==e?function(t,e,n){for(var i=n+1;i--;)if(t[i]===e)return i;return i}(t,e,r):Ve(t,$e,r,!0)},Un.lowerCase=za,Un.lowerFirst=Ka,Un.lt=ha,Un.lte=da,Un.max=function(t){return t&&t.length?mi(t,ol,Pi):o},Un.maxBy=function(t,e){return t&&t.length?mi(t,ur(e,2),Pi):o},Un.mean=function(t){return ze(t,ol)},Un.meanBy=function(t,e){return ze(t,ur(e,2))},Un.min=function(t){return t&&t.length?mi(t,ol,Bi):o},Un.minBy=function(t,e){return t&&t.length?mi(t,ur(e,2),Bi):o},Un.stubArray=ml,Un.stubFalse=_l,Un.stubObject=function(){return{}},Un.stubString=function(){return""},Un.stubTrue=function(){return!0},Un.multiply=Sl,Un.nth=function(t,e){return t&&t.length?Hi(t,ga(e)):o},Un.noConflict=function(){return ge._===this&&(ge._=Ut),this},Un.noop=cl,Un.now=Ps,Un.pad=function(t,e,n){t=va(t);var i=(e=ga(e))?fn(t):0;if(!e||i>=e)return t;var o=(e-i)/2;return zo(me(o),n)+t+zo(fe(o),n)},Un.padEnd=function(t,e,n){t=va(t);var i=(e=ga(e))?fn(t):0;return e&&i<e?t+zo(e-i,n):t},Un.padStart=function(t,e,n){t=va(t);var i=(e=ga(e))?fn(t):0;return e&&i<e?zo(e-i,n)+t:t},Un.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),En(va(t).replace(st,""),e||0)},Un.random=function(t,e,n){if(n&&"boolean"!=typeof n&&br(t,e,n)&&(e=n=o),n===o&&("boolean"==typeof e?(n=e,e=o):"boolean"==typeof t&&(n=t,t=o)),t===o&&e===o?(t=0,e=1):(t=fa(t),e===o?(e=t,t=0):e=fa(e)),t>e){var i=t;t=e,e=i}if(n||t%1||e%1){var r=Sn();return Cn(t+r*(e-t+he("1e-"+((r+"").length-1))),e)}return Xi(t,e)},Un.reduce=function(t,e,n){var i=$s(t)?Fe:Xe,o=arguments.length<3;return i(t,ur(e,4),n,o,pi)},Un.reduceRight=function(t,e,n){var i=$s(t)?Ge:Xe,o=arguments.length<3;return i(t,ur(e,4),n,o,fi)},Un.repeat=function(t,e,n){return e=(n?br(t,e,n):e===o)?1:ga(e),qi(va(t),e)},Un.replace=function(){var t=arguments,e=va(t[0]);return t.length<3?e:e.replace(t[1],t[2])},Un.result=function(t,e,n){var i=-1,r=(e=bo(e,t)).length;for(r||(r=1,t=o);++i<r;){var s=null==t?o:t[Gr(e[i])];s===o&&(i=r,s=n),t=Js(s)?s.call(t):s}return t},Un.round=wl,Un.runInContext=t,Un.sample=function(t){return($s(t)?Jn:Ji)(t)},Un.size=function(t){if(null==t)return 0;if(Ks(t))return la(t)?fn(t):t.length;var e=mr(t);return e==O||e==D?t.size:Fi(t).length},Un.snakeCase=Ya,Un.some=function(t,e,n){var i=$s(t)?Be:ro;return n&&br(t,e,n)&&(e=o),i(t,ur(e,3))},Un.sortedIndex=function(t,e){return so(t,e)},Un.sortedIndexBy=function(t,e,n){return ao(t,e,ur(n,2))},Un.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var i=so(t,e);if(i<n&&Us(t[i],e))return i}return-1},Un.sortedLastIndex=function(t,e){return so(t,e,!0)},Un.sortedLastIndexBy=function(t,e,n){return ao(t,e,ur(n,2),!0)},Un.sortedLastIndexOf=function(t,e){if(null==t?0:t.length){var n=so(t,e,!0)-1;if(Us(t[n],e))return n}return-1},Un.startCase=Xa,Un.startsWith=function(t,e,n){return t=va(t),n=null==n?0:li(ga(n),0,t.length),e=uo(e),t.slice(n,n+e.length)==e},Un.subtract=Ol,Un.sum=function(t){return t&&t.length?qe(t,ol):0},Un.sumBy=function(t,e){return t&&t.length?qe(t,ur(e,2)):0},Un.template=function(t,e,n){var i=Un.templateSettings;n&&br(t,e,n)&&(e=o),t=va(t),e=Ea({},e,i,tr);var r,s,a=Ea({},e.imports,i.imports,tr),l=Aa(a),c=tn(a,l),u=0,h=e.interpolate||Et,d="__p += '",p=Tt((e.escape||Et).source+"|"+h.source+"|"+(h===tt?ft:Et).source+"|"+(e.evaluate||Et).source+"|$","g"),f="//# sourceURL="+(Nt.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ae+"]")+"\n";t.replace(p,(function(e,n,i,o,a,l){return i||(i=o),d+=t.slice(u,l).replace(St,an),n&&(r=!0,d+="' +\n__e("+n+") +\n'"),a&&(s=!0,d+="';\n"+a+";\n__p += '"),i&&(d+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),u=l+e.length,e})),d+="';\n";var g=Nt.call(e,"variable")&&e.variable;if(g){if(dt.test(g))throw new wt("Invalid `variable` option passed into `_.template`")}else d="with (obj) {\n"+d+"\n}\n";d=(s?d.replace($,""):d).replace(z,"$1").replace(K,"$1;"),d="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(r?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var m=Qa((function(){return Ot(l,f+"return "+d).apply(o,c)}));if(m.source=d,Zs(m))throw m;return m},Un.times=function(t,e){if((t=ga(t))<1||t>f)return[];var n=m,i=Cn(t,m);e=ur(e),t-=m;for(var o=Ze(i,e);++n<t;)e(n);return o},Un.toFinite=fa,Un.toInteger=ga,Un.toLength=ma,Un.toLower=function(t){return va(t).toLowerCase()},Un.toNumber=_a,Un.toSafeInteger=function(t){return t?li(ga(t),-9007199254740991,f):0===t?t:0},Un.toString=va,Un.toUpper=function(t){return va(t).toUpperCase()},Un.trim=function(t,e,n){if((t=va(t))&&(n||e===o))return Je(t);if(!t||!(e=uo(e)))return t;var i=gn(t),r=gn(e);return So(i,nn(i,r),on(i,r)+1).join("")},Un.trimEnd=function(t,e,n){if((t=va(t))&&(n||e===o))return t.slice(0,mn(t)+1);if(!t||!(e=uo(e)))return t;var i=gn(t);return So(i,0,on(i,gn(e))+1).join("")},Un.trimStart=function(t,e,n){if((t=va(t))&&(n||e===o))return t.replace(st,"");if(!t||!(e=uo(e)))return t;var i=gn(t);return So(i,nn(i,gn(e))).join("")},Un.truncate=function(t,e){var n=30,i="...";if(ea(e)){var r="separator"in e?e.separator:r;n="length"in e?ga(e.length):n,i="omission"in e?uo(e.omission):i}var s=(t=va(t)).length;if(ln(t)){var a=gn(t);s=a.length}if(n>=s)return t;var l=n-fn(i);if(l<1)return i;var c=a?So(a,0,l).join(""):t.slice(0,l);if(r===o)return c+i;if(a&&(l+=c.length-l),sa(r)){if(t.slice(l).search(r)){var u,h=c;for(r.global||(r=Tt(r.source,va(gt.exec(r))+"g")),r.lastIndex=0;u=r.exec(h);)var d=u.index;c=c.slice(0,d===o?l:d)}}else if(t.indexOf(uo(r),l)!=l){var p=c.lastIndexOf(r);p>-1&&(c=c.slice(0,p))}return c+i},Un.unescape=function(t){return(t=va(t))&&q.test(t)?t.replace(Y,_n):t},Un.uniqueId=function(t){var e=++Ft;return va(t)+e},Un.upperCase=qa,Un.upperFirst=Za,Un.each=vs,Un.eachRight=Cs,Un.first=Kr,ll(Un,(El={},bi(Un,(function(t,e){Nt.call(Un.prototype,e)||(El[e]=t)})),El),{chain:!1}),Un.VERSION="4.17.21",Me(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){Un[t].placeholder=Un})),Me(["drop","take"],(function(t,e){$n.prototype[t]=function(n){n=n===o?1:vn(ga(n),0);var i=this.__filtered__&&!e?new $n(this):this.clone();return i.__filtered__?i.__takeCount__=Cn(n,i.__takeCount__):i.__views__.push({size:Cn(n,m),type:t+(i.__dir__<0?"Right":"")}),i},$n.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),Me(["filter","map","takeWhile"],(function(t,e){var n=e+1,i=1==n||3==n;$n.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:ur(t,3),type:n}),e.__filtered__=e.__filtered__||i,e}})),Me(["head","last"],(function(t,e){var n="take"+(e?"Right":"");$n.prototype[t]=function(){return this[n](1).value()[0]}})),Me(["initial","tail"],(function(t,e){var n="drop"+(e?"":"Right");$n.prototype[t]=function(){return this.__filtered__?new $n(this):this[n](1)}})),$n.prototype.compact=function(){return this.filter(ol)},$n.prototype.find=function(t){return this.filter(t).head()},$n.prototype.findLast=function(t){return this.reverse().find(t)},$n.prototype.invokeMap=Zi((function(t,e){return"function"==typeof t?new $n(this):this.map((function(n){return Ri(n,t,e)}))})),$n.prototype.reject=function(t){return this.filter(Ns(ur(t)))},$n.prototype.slice=function(t,e){t=ga(t);var n=this;return n.__filtered__&&(t>0||e<0)?new $n(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==o&&(n=(e=ga(e))<0?n.dropRight(-e):n.take(e-t)),n)},$n.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},$n.prototype.toArray=function(){return this.take(m)},bi($n.prototype,(function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),i=/^(?:head|last)$/.test(e),r=Un[i?"take"+("last"==e?"Right":""):e],s=i||/^find/.test(e);r&&(Un.prototype[e]=function(){var e=this.__wrapped__,a=i?[1]:arguments,l=e instanceof $n,c=a[0],u=l||$s(e),h=function(t){var e=r.apply(Un,Ne([t],a));return i&&d?e[0]:e};u&&n&&"function"==typeof c&&1!=c.length&&(l=u=!1);var d=this.__chain__,p=!!this.__actions__.length,f=s&&!d,g=l&&!p;if(!s&&u){e=g?e:new $n(this);var m=t.apply(e,a);return m.__actions__.push({func:fs,args:[h],thisArg:o}),new Hn(m,d)}return f&&g?t.apply(this,a):(m=this.thru(h),f?i?m.value()[0]:m.value():m)})})),Me(["pop","push","shift","sort","splice","unshift"],(function(t){var e=Rt[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:pop|shift)$/.test(t);Un.prototype[t]=function(){var t=arguments;if(i&&!this.__chain__){var o=this.value();return e.apply($s(o)?o:[],t)}return this[n]((function(n){return e.apply($s(n)?n:[],t)}))}})),bi($n.prototype,(function(t,e){var n=Un[e];if(n){var i=n.name+"";Nt.call(An,i)||(An[i]=[]),An[i].push({name:e,func:n})}})),An[Vo(o,2).name]=[{name:"wrapper",func:o}],$n.prototype.clone=function(){var t=new $n(this.__wrapped__);return t.__actions__=Ro(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Ro(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Ro(this.__views__),t},$n.prototype.reverse=function(){if(this.__filtered__){var t=new $n(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},$n.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=$s(t),i=e<0,o=n?t.length:0,r=function(t,e,n){var i=-1,o=n.length;for(;++i<o;){var r=n[i],s=r.size;switch(r.type){case"drop":t+=s;break;case"dropRight":e-=s;break;case"take":e=Cn(e,t+s);break;case"takeRight":t=vn(t,e-s)}}return{start:t,end:e}}(0,o,this.__views__),s=r.start,a=r.end,l=a-s,c=i?a:s-1,u=this.__iteratees__,h=u.length,d=0,p=Cn(l,this.__takeCount__);if(!n||!i&&o==l&&p==l)return mo(t,this.__actions__);var f=[];t:for(;l--&&d<p;){for(var g=-1,m=t[c+=e];++g<h;){var _=u[g],y=_.iteratee,v=_.type,C=y(m);if(2==v)m=C;else if(!C){if(1==v)continue t;break t}}f[d++]=m}return f},Un.prototype.at=gs,Un.prototype.chain=function(){return ps(this)},Un.prototype.commit=function(){return new Hn(this.value(),this.__chain__)},Un.prototype.next=function(){this.__values__===o&&(this.__values__=pa(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?o:this.__values__[this.__index__++]}},Un.prototype.plant=function(t){for(var e,n=this;n instanceof Wn;){var i=jr(n);i.__index__=0,i.__values__=o,e?r.__wrapped__=i:e=i;var r=i;n=n.__wrapped__}return r.__wrapped__=t,e},Un.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof $n){var e=t;return this.__actions__.length&&(e=new $n(this)),(e=e.reverse()).__actions__.push({func:fs,args:[es],thisArg:o}),new Hn(e,this.__chain__)}return this.thru(es)},Un.prototype.toJSON=Un.prototype.valueOf=Un.prototype.value=function(){return mo(this.__wrapped__,this.__actions__)},Un.prototype.first=Un.prototype.head,Jt&&(Un.prototype[Jt]=function(){return this}),Un}();ge._=yn,(i=function(){return yn}.call(e,n,e,t))===o||(t.exports=i)}.call(this)},4748:()=>{},631:(t,e,n)=>{var i="function"==typeof Map&&Map.prototype,o=Object.getOwnPropertyDescriptor&&i?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,r=i&&o&&"function"==typeof o.get?o.get:null,s=i&&Map.prototype.forEach,a="function"==typeof Set&&Set.prototype,l=Object.getOwnPropertyDescriptor&&a?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,c=a&&l&&"function"==typeof l.get?l.get:null,u=a&&Set.prototype.forEach,h="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,d="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,p="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,f=Boolean.prototype.valueOf,g=Object.prototype.toString,m=Function.prototype.toString,_=String.prototype.match,y=String.prototype.slice,v=String.prototype.replace,C=String.prototype.toUpperCase,b=String.prototype.toLowerCase,E=RegExp.prototype.test,S=Array.prototype.concat,w=Array.prototype.join,O=Array.prototype.slice,x=Math.floor,P="function"==typeof BigInt?BigInt.prototype.valueOf:null,T=Object.getOwnPropertySymbols,M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,D="function"==typeof Symbol&&"object"==typeof Symbol.iterator,R="function"==typeof Symbol&&Symbol.toStringTag&&(typeof Symbol.toStringTag===D||"symbol")?Symbol.toStringTag:null,A=Object.prototype.propertyIsEnumerable,L=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function I(t,e){if(t===1/0||t===-1/0||t!=t||t&&t>-1e3&&t<1e3||E.call(/e/,e))return e;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof t){var i=t<0?-x(-t):x(t);if(i!==t){var o=String(i),r=y.call(e,o.length+1);return v.call(o,n,"$&_")+"."+v.call(v.call(r,/([0-9]{3})/g,"$&_"),/_$/,"")}}return v.call(e,n,"$&_")}var k=n(4654),N=k.custom,F=V(N)?N:null;function G(t,e,n){var i="double"===(n.quoteStyle||e)?'"':"'";return i+t+i}function B(t){return v.call(String(t),/"/g,"&quot;")}function j(t){return!("[object Array]"!==$(t)||R&&"object"==typeof t&&R in t)}function U(t){return!("[object RegExp]"!==$(t)||R&&"object"==typeof t&&R in t)}function V(t){if(D)return t&&"object"==typeof t&&t instanceof Symbol;if("symbol"==typeof t)return!0;if(!t||"object"!=typeof t||!M)return!1;try{return M.call(t),!0}catch(t){}return!1}t.exports=function t(e,n,i,o){var a=n||{};if(H(a,"quoteStyle")&&"single"!==a.quoteStyle&&"double"!==a.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(H(a,"maxStringLength")&&("number"==typeof a.maxStringLength?a.maxStringLength<0&&a.maxStringLength!==1/0:null!==a.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var l=!H(a,"customInspect")||a.customInspect;if("boolean"!=typeof l&&"symbol"!==l)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(H(a,"indent")&&null!==a.indent&&"\t"!==a.indent&&!(parseInt(a.indent,10)===a.indent&&a.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(H(a,"numericSeparator")&&"boolean"!=typeof a.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var g=a.numericSeparator;if(void 0===e)return"undefined";if(null===e)return"null";if("boolean"==typeof e)return e?"true":"false";if("string"==typeof e)return K(e,a);if("number"==typeof e){if(0===e)return 1/0/e>0?"0":"-0";var C=String(e);return g?I(e,C):C}if("bigint"==typeof e){var E=String(e)+"n";return g?I(e,E):E}var x=void 0===a.depth?5:a.depth;if(void 0===i&&(i=0),i>=x&&x>0&&"object"==typeof e)return j(e)?"[Array]":"[Object]";var T=function(t,e){var n;if("\t"===t.indent)n="\t";else{if(!("number"==typeof t.indent&&t.indent>0))return null;n=w.call(Array(t.indent+1)," ")}return{base:n,prev:w.call(Array(e+1),n)}}(a,i);if(void 0===o)o=[];else if(z(o,e)>=0)return"[Circular]";function N(e,n,r){if(n&&(o=O.call(o)).push(n),r){var s={depth:a.depth};return H(a,"quoteStyle")&&(s.quoteStyle=a.quoteStyle),t(e,s,i+1,o)}return t(e,a,i+1,o)}if("function"==typeof e&&!U(e)){var W=function(t){if(t.name)return t.name;var e=_.call(m.call(t),/^function\s*([\w$]+)/);if(e)return e[1];return null}(e),Y=Q(e,N);return"[Function"+(W?": "+W:" (anonymous)")+"]"+(Y.length>0?" { "+w.call(Y,", ")+" }":"")}if(V(e)){var tt=D?v.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):M.call(e);return"object"!=typeof e||D?tt:X(tt)}if(function(t){if(!t||"object"!=typeof t)return!1;if("undefined"!=typeof HTMLElement&&t instanceof HTMLElement)return!0;return"string"==typeof t.nodeName&&"function"==typeof t.getAttribute}(e)){for(var et="<"+b.call(String(e.nodeName)),nt=e.attributes||[],it=0;it<nt.length;it++)et+=" "+nt[it].name+"="+G(B(nt[it].value),"double",a);return et+=">",e.childNodes&&e.childNodes.length&&(et+="..."),et+="</"+b.call(String(e.nodeName))+">"}if(j(e)){if(0===e.length)return"[]";var ot=Q(e,N);return T&&!function(t){for(var e=0;e<t.length;e++)if(z(t[e],"\n")>=0)return!1;return!0}(ot)?"["+J(ot,T)+"]":"[ "+w.call(ot,", ")+" ]"}if(function(t){return!("[object Error]"!==$(t)||R&&"object"==typeof t&&R in t)}(e)){var rt=Q(e,N);return"cause"in Error.prototype||!("cause"in e)||A.call(e,"cause")?0===rt.length?"["+String(e)+"]":"{ ["+String(e)+"] "+w.call(rt,", ")+" }":"{ ["+String(e)+"] "+w.call(S.call("[cause]: "+N(e.cause),rt),", ")+" }"}if("object"==typeof e&&l){if(F&&"function"==typeof e[F]&&k)return k(e,{depth:x-i});if("symbol"!==l&&"function"==typeof e.inspect)return e.inspect()}if(function(t){if(!r||!t||"object"!=typeof t)return!1;try{r.call(t);try{c.call(t)}catch(t){return!0}return t instanceof Map}catch(t){}return!1}(e)){var st=[];return s&&s.call(e,(function(t,n){st.push(N(n,e,!0)+" => "+N(t,e))})),Z("Map",r.call(e),st,T)}if(function(t){if(!c||!t||"object"!=typeof t)return!1;try{c.call(t);try{r.call(t)}catch(t){return!0}return t instanceof Set}catch(t){}return!1}(e)){var at=[];return u&&u.call(e,(function(t){at.push(N(t,e))})),Z("Set",c.call(e),at,T)}if(function(t){if(!h||!t||"object"!=typeof t)return!1;try{h.call(t,h);try{d.call(t,d)}catch(t){return!0}return t instanceof WeakMap}catch(t){}return!1}(e))return q("WeakMap");if(function(t){if(!d||!t||"object"!=typeof t)return!1;try{d.call(t,d);try{h.call(t,h)}catch(t){return!0}return t instanceof WeakSet}catch(t){}return!1}(e))return q("WeakSet");if(function(t){if(!p||!t||"object"!=typeof t)return!1;try{return p.call(t),!0}catch(t){}return!1}(e))return q("WeakRef");if(function(t){return!("[object Number]"!==$(t)||R&&"object"==typeof t&&R in t)}(e))return X(N(Number(e)));if(function(t){if(!t||"object"!=typeof t||!P)return!1;try{return P.call(t),!0}catch(t){}return!1}(e))return X(N(P.call(e)));if(function(t){return!("[object Boolean]"!==$(t)||R&&"object"==typeof t&&R in t)}(e))return X(f.call(e));if(function(t){return!("[object String]"!==$(t)||R&&"object"==typeof t&&R in t)}(e))return X(N(String(e)));if(!function(t){return!("[object Date]"!==$(t)||R&&"object"==typeof t&&R in t)}(e)&&!U(e)){var lt=Q(e,N),ct=L?L(e)===Object.prototype:e instanceof Object||e.constructor===Object,ut=e instanceof Object?"":"null prototype",ht=!ct&&R&&Object(e)===e&&R in e?y.call($(e),8,-1):ut?"Object":"",dt=(ct||"function"!=typeof e.constructor?"":e.constructor.name?e.constructor.name+" ":"")+(ht||ut?"["+w.call(S.call([],ht||[],ut||[]),": ")+"] ":"");return 0===lt.length?dt+"{}":T?dt+"{"+J(lt,T)+"}":dt+"{ "+w.call(lt,", ")+" }"}return String(e)};var W=Object.prototype.hasOwnProperty||function(t){return t in this};function H(t,e){return W.call(t,e)}function $(t){return g.call(t)}function z(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1}function K(t,e){if(t.length>e.maxStringLength){var n=t.length-e.maxStringLength,i="... "+n+" more character"+(n>1?"s":"");return K(y.call(t,0,e.maxStringLength),e)+i}return G(v.call(v.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Y),"single",e)}function Y(t){var e=t.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return n?"\\"+n:"\\x"+(e<16?"0":"")+C.call(e.toString(16))}function X(t){return"Object("+t+")"}function q(t){return t+" { ? }"}function Z(t,e,n,i){return t+" ("+e+") {"+(i?J(n,i):w.call(n,", "))+"}"}function J(t,e){if(0===t.length)return"";var n="\n"+e.prev+e.base;return n+w.call(t,","+n)+"\n"+e.prev}function Q(t,e){var n=j(t),i=[];if(n){i.length=t.length;for(var o=0;o<t.length;o++)i[o]=H(t,o)?e(t[o],t):""}var r,s="function"==typeof T?T(t):[];if(D){r={};for(var a=0;a<s.length;a++)r["$"+s[a]]=s[a]}for(var l in t)H(t,l)&&(n&&String(Number(l))===l&&l<t.length||D&&r["$"+l]instanceof Symbol||(E.call(/[^\w$]/,l)?i.push(e(l,t)+": "+e(t[l],t)):i.push(l+": "+e(t[l],t))));if("function"==typeof T)for(var c=0;c<s.length;c++)A.call(t,s[c])&&i.push("["+e(s[c])+"]: "+e(t[s[c]],t));return i}},5798:t=>{"use strict";var e=String.prototype.replace,n=/%20/g,i="RFC1738",o="RFC3986";t.exports={default:o,formatters:{RFC1738:function(t){return e.call(t,n,"+")},RFC3986:function(t){return String(t)}},RFC1738:i,RFC3986:o}},129:(t,e,n)=>{"use strict";var i=n(8261),o=n(5235),r=n(5798);t.exports={formats:r,parse:o,stringify:i}},5235:(t,e,n)=>{"use strict";var i=n(2769),o=Object.prototype.hasOwnProperty,r=Array.isArray,s={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:i.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},a=function(t){return t.replace(/&#(\d+);/g,(function(t,e){return String.fromCharCode(parseInt(e,10))}))},l=function(t,e){return t&&"string"==typeof t&&e.comma&&t.indexOf(",")>-1?t.split(","):t},c=function(t,e,n,i){if(t){var r=n.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,s=/(\[[^[\]]*])/g,a=n.depth>0&&/(\[[^[\]]*])/.exec(r),c=a?r.slice(0,a.index):r,u=[];if(c){if(!n.plainObjects&&o.call(Object.prototype,c)&&!n.allowPrototypes)return;u.push(c)}for(var h=0;n.depth>0&&null!==(a=s.exec(r))&&h<n.depth;){if(h+=1,!n.plainObjects&&o.call(Object.prototype,a[1].slice(1,-1))&&!n.allowPrototypes)return;u.push(a[1])}return a&&u.push("["+r.slice(a.index)+"]"),function(t,e,n,i){for(var o=i?e:l(e,n),r=t.length-1;r>=0;--r){var s,a=t[r];if("[]"===a&&n.parseArrays)s=[].concat(o);else{s=n.plainObjects?Object.create(null):{};var c="["===a.charAt(0)&&"]"===a.charAt(a.length-1)?a.slice(1,-1):a,u=parseInt(c,10);n.parseArrays||""!==c?!isNaN(u)&&a!==c&&String(u)===c&&u>=0&&n.parseArrays&&u<=n.arrayLimit?(s=[])[u]=o:"__proto__"!==c&&(s[c]=o):s={0:o}}o=s}return o}(u,e,n,i)}};t.exports=function(t,e){var n=function(t){if(!t)return s;if(null!==t.decoder&&void 0!==t.decoder&&"function"!=typeof t.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var e=void 0===t.charset?s.charset:t.charset;return{allowDots:void 0===t.allowDots?s.allowDots:!!t.allowDots,allowPrototypes:"boolean"==typeof t.allowPrototypes?t.allowPrototypes:s.allowPrototypes,allowSparse:"boolean"==typeof t.allowSparse?t.allowSparse:s.allowSparse,arrayLimit:"number"==typeof t.arrayLimit?t.arrayLimit:s.arrayLimit,charset:e,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:s.charsetSentinel,comma:"boolean"==typeof t.comma?t.comma:s.comma,decoder:"function"==typeof t.decoder?t.decoder:s.decoder,delimiter:"string"==typeof t.delimiter||i.isRegExp(t.delimiter)?t.delimiter:s.delimiter,depth:"number"==typeof t.depth||!1===t.depth?+t.depth:s.depth,ignoreQueryPrefix:!0===t.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof t.interpretNumericEntities?t.interpretNumericEntities:s.interpretNumericEntities,parameterLimit:"number"==typeof t.parameterLimit?t.parameterLimit:s.parameterLimit,parseArrays:!1!==t.parseArrays,plainObjects:"boolean"==typeof t.plainObjects?t.plainObjects:s.plainObjects,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:s.strictNullHandling}}(e);if(""===t||null==t)return n.plainObjects?Object.create(null):{};for(var u="string"==typeof t?function(t,e){var n,c={__proto__:null},u=e.ignoreQueryPrefix?t.replace(/^\?/,""):t,h=e.parameterLimit===1/0?void 0:e.parameterLimit,d=u.split(e.delimiter,h),p=-1,f=e.charset;if(e.charsetSentinel)for(n=0;n<d.length;++n)0===d[n].indexOf("utf8=")&&("utf8=%E2%9C%93"===d[n]?f="utf-8":"utf8=%26%2310003%3B"===d[n]&&(f="iso-8859-1"),p=n,n=d.length);for(n=0;n<d.length;++n)if(n!==p){var g,m,_=d[n],y=_.indexOf("]="),v=-1===y?_.indexOf("="):y+1;-1===v?(g=e.decoder(_,s.decoder,f,"key"),m=e.strictNullHandling?null:""):(g=e.decoder(_.slice(0,v),s.decoder,f,"key"),m=i.maybeMap(l(_.slice(v+1),e),(function(t){return e.decoder(t,s.decoder,f,"value")}))),m&&e.interpretNumericEntities&&"iso-8859-1"===f&&(m=a(m)),_.indexOf("[]=")>-1&&(m=r(m)?[m]:m),o.call(c,g)?c[g]=i.combine(c[g],m):c[g]=m}return c}(t,n):t,h=n.plainObjects?Object.create(null):{},d=Object.keys(u),p=0;p<d.length;++p){var f=d[p],g=c(f,u[f],n,"string"==typeof t);h=i.merge(h,g,n)}return!0===n.allowSparse?h:i.compact(h)}},8261:(t,e,n)=>{"use strict";var i=n(7478),o=n(2769),r=n(5798),s=Object.prototype.hasOwnProperty,a={brackets:function(t){return t+"[]"},comma:"comma",indices:function(t,e){return t+"["+e+"]"},repeat:function(t){return t}},l=Array.isArray,c=Array.prototype.push,u=function(t,e){c.apply(t,l(e)?e:[e])},h=Date.prototype.toISOString,d=r.default,p={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:o.encode,encodeValuesOnly:!1,format:d,formatter:r.formatters[d],indices:!1,serializeDate:function(t){return h.call(t)},skipNulls:!1,strictNullHandling:!1},f={},g=function t(e,n,r,s,a,c,h,d,g,m,_,y,v,C,b,E){for(var S,w=e,O=E,x=0,P=!1;void 0!==(O=O.get(f))&&!P;){var T=O.get(e);if(x+=1,void 0!==T){if(T===x)throw new RangeError("Cyclic object value");P=!0}void 0===O.get(f)&&(x=0)}if("function"==typeof d?w=d(n,w):w instanceof Date?w=_(w):"comma"===r&&l(w)&&(w=o.maybeMap(w,(function(t){return t instanceof Date?_(t):t}))),null===w){if(a)return h&&!C?h(n,p.encoder,b,"key",y):n;w=""}if("string"==typeof(S=w)||"number"==typeof S||"boolean"==typeof S||"symbol"==typeof S||"bigint"==typeof S||o.isBuffer(w))return h?[v(C?n:h(n,p.encoder,b,"key",y))+"="+v(h(w,p.encoder,b,"value",y))]:[v(n)+"="+v(String(w))];var M,D=[];if(void 0===w)return D;if("comma"===r&&l(w))C&&h&&(w=o.maybeMap(w,h)),M=[{value:w.length>0?w.join(",")||null:void 0}];else if(l(d))M=d;else{var R=Object.keys(w);M=g?R.sort(g):R}for(var A=s&&l(w)&&1===w.length?n+"[]":n,L=0;L<M.length;++L){var I=M[L],k="object"==typeof I&&void 0!==I.value?I.value:w[I];if(!c||null!==k){var N=l(w)?"function"==typeof r?r(A,I):A:A+(m?"."+I:"["+I+"]");E.set(e,x);var F=i();F.set(f,E),u(D,t(k,N,r,s,a,c,"comma"===r&&C&&l(w)?null:h,d,g,m,_,y,v,C,b,F))}}return D};t.exports=function(t,e){var n,o=t,c=function(t){if(!t)return p;if(null!==t.encoder&&void 0!==t.encoder&&"function"!=typeof t.encoder)throw new TypeError("Encoder has to be a function.");var e=t.charset||p.charset;if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=r.default;if(void 0!==t.format){if(!s.call(r.formatters,t.format))throw new TypeError("Unknown format option provided.");n=t.format}var i=r.formatters[n],o=p.filter;return("function"==typeof t.filter||l(t.filter))&&(o=t.filter),{addQueryPrefix:"boolean"==typeof t.addQueryPrefix?t.addQueryPrefix:p.addQueryPrefix,allowDots:void 0===t.allowDots?p.allowDots:!!t.allowDots,charset:e,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:p.charsetSentinel,delimiter:void 0===t.delimiter?p.delimiter:t.delimiter,encode:"boolean"==typeof t.encode?t.encode:p.encode,encoder:"function"==typeof t.encoder?t.encoder:p.encoder,encodeValuesOnly:"boolean"==typeof t.encodeValuesOnly?t.encodeValuesOnly:p.encodeValuesOnly,filter:o,format:n,formatter:i,serializeDate:"function"==typeof t.serializeDate?t.serializeDate:p.serializeDate,skipNulls:"boolean"==typeof t.skipNulls?t.skipNulls:p.skipNulls,sort:"function"==typeof t.sort?t.sort:null,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:p.strictNullHandling}}(e);"function"==typeof c.filter?o=(0,c.filter)("",o):l(c.filter)&&(n=c.filter);var h,d=[];if("object"!=typeof o||null===o)return"";h=e&&e.arrayFormat in a?e.arrayFormat:e&&"indices"in e?e.indices?"indices":"repeat":"indices";var f=a[h];if(e&&"commaRoundTrip"in e&&"boolean"!=typeof e.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var m="comma"===f&&e&&e.commaRoundTrip;n||(n=Object.keys(o)),c.sort&&n.sort(c.sort);for(var _=i(),y=0;y<n.length;++y){var v=n[y];c.skipNulls&&null===o[v]||u(d,g(o[v],v,f,m,c.strictNullHandling,c.skipNulls,c.encode?c.encoder:null,c.filter,c.sort,c.allowDots,c.serializeDate,c.format,c.formatter,c.encodeValuesOnly,c.charset,_))}var C=d.join(c.delimiter),b=!0===c.addQueryPrefix?"?":"";return c.charsetSentinel&&("iso-8859-1"===c.charset?b+="utf8=%26%2310003%3B&":b+="utf8=%E2%9C%93&"),C.length>0?b+C:""}},2769:(t,e,n)=>{"use strict";var i=n(5798),o=Object.prototype.hasOwnProperty,r=Array.isArray,s=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),a=function(t,e){for(var n=e&&e.plainObjects?Object.create(null):{},i=0;i<t.length;++i)void 0!==t[i]&&(n[i]=t[i]);return n};t.exports={arrayToObject:a,assign:function(t,e){return Object.keys(e).reduce((function(t,n){return t[n]=e[n],t}),t)},combine:function(t,e){return[].concat(t,e)},compact:function(t){for(var e=[{obj:{o:t},prop:"o"}],n=[],i=0;i<e.length;++i)for(var o=e[i],s=o.obj[o.prop],a=Object.keys(s),l=0;l<a.length;++l){var c=a[l],u=s[c];"object"==typeof u&&null!==u&&-1===n.indexOf(u)&&(e.push({obj:s,prop:c}),n.push(u))}return function(t){for(;t.length>1;){var e=t.pop(),n=e.obj[e.prop];if(r(n)){for(var i=[],o=0;o<n.length;++o)void 0!==n[o]&&i.push(n[o]);e.obj[e.prop]=i}}}(e),t},decode:function(t,e,n){var i=t.replace(/\+/g," ");if("iso-8859-1"===n)return i.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(i)}catch(t){return i}},encode:function(t,e,n,o,r){if(0===t.length)return t;var a=t;if("symbol"==typeof t?a=Symbol.prototype.toString.call(t):"string"!=typeof t&&(a=String(t)),"iso-8859-1"===n)return escape(a).replace(/%u[0-9a-f]{4}/gi,(function(t){return"%26%23"+parseInt(t.slice(2),16)+"%3B"}));for(var l="",c=0;c<a.length;++c){var u=a.charCodeAt(c);45===u||46===u||95===u||126===u||u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122||r===i.RFC1738&&(40===u||41===u)?l+=a.charAt(c):u<128?l+=s[u]:u<2048?l+=s[192|u>>6]+s[128|63&u]:u<55296||u>=57344?l+=s[224|u>>12]+s[128|u>>6&63]+s[128|63&u]:(c+=1,u=65536+((1023&u)<<10|1023&a.charCodeAt(c)),l+=s[240|u>>18]+s[128|u>>12&63]+s[128|u>>6&63]+s[128|63&u])}return l},isBuffer:function(t){return!(!t||"object"!=typeof t)&&!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))},isRegExp:function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},maybeMap:function(t,e){if(r(t)){for(var n=[],i=0;i<t.length;i+=1)n.push(e(t[i]));return n}return e(t)},merge:function t(e,n,i){if(!n)return e;if("object"!=typeof n){if(r(e))e.push(n);else{if(!e||"object"!=typeof e)return[e,n];(i&&(i.plainObjects||i.allowPrototypes)||!o.call(Object.prototype,n))&&(e[n]=!0)}return e}if(!e||"object"!=typeof e)return[e].concat(n);var s=e;return r(e)&&!r(n)&&(s=a(e,i)),r(e)&&r(n)?(n.forEach((function(n,r){if(o.call(e,r)){var s=e[r];s&&"object"==typeof s&&n&&"object"==typeof n?e[r]=t(s,n,i):e.push(n)}else e[r]=n})),e):Object.keys(n).reduce((function(e,r){var s=n[r];return o.call(e,r)?e[r]=t(e[r],s,i):e[r]=s,e}),s)}}},7478:(t,e,n)=>{"use strict";var i=n(7141),o=n(1924),r=n(631),s=i("%TypeError%"),a=i("%WeakMap%",!0),l=i("%Map%",!0),c=o("WeakMap.prototype.get",!0),u=o("WeakMap.prototype.set",!0),h=o("WeakMap.prototype.has",!0),d=o("Map.prototype.get",!0),p=o("Map.prototype.set",!0),f=o("Map.prototype.has",!0),g=function(t,e){for(var n,i=t;null!==(n=i.next);i=n)if(n.key===e)return i.next=n.next,n.next=t.next,t.next=n,n};t.exports=function(){var t,e,n,i={assert:function(t){if(!i.has(t))throw new s("Side channel does not contain "+r(t))},get:function(i){if(a&&i&&("object"==typeof i||"function"==typeof i)){if(t)return c(t,i)}else if(l){if(e)return d(e,i)}else if(n)return function(t,e){var n=g(t,e);return n&&n.value}(n,i)},has:function(i){if(a&&i&&("object"==typeof i||"function"==typeof i)){if(t)return h(t,i)}else if(l){if(e)return f(e,i)}else if(n)return function(t,e){return!!g(t,e)}(n,i);return!1},set:function(i,o){a&&i&&("object"==typeof i||"function"==typeof i)?(t||(t=new a),u(t,i,o)):l?(e||(e=new l),p(e,i,o)):(n||(n={key:{},next:null}),function(t,e,n){var i=g(t,e);i?i.value=n:t.next={key:e,next:t.next,value:n}}(n,i,o))}};return i}},6851:(t,e,n)=>{"use strict";var i=n(5171),o=Array.prototype.concat,r=Array.prototype.slice,s=t.exports=function(t){for(var e=[],n=0,s=t.length;n<s;n++){var a=t[n];i(a)?e=o.call(e,r.call(a)):e.push(a)}return e};s.wrap=function(t){return function(){return t(s(arguments))}}},1860:function(t){!function(e,n){var i={version:"2.14.2",areas:{},apis:{},nsdelim:".",inherit:function(t,e){for(var n in t)e.hasOwnProperty(n)||Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n));return e},stringify:function(t,e){return void 0===t||"function"==typeof t?t+"":JSON.stringify(t,e||i.replace)},parse:function(t,e){try{return JSON.parse(t,e||i.revive)}catch(e){return t}},fn:function(t,e){for(var n in i.storeAPI[t]=e,i.apis)i.apis[n][t]=e},get:function(t,e){return t.getItem(e)},set:function(t,e,n){t.setItem(e,n)},remove:function(t,e){t.removeItem(e)},key:function(t,e){return t.key(e)},length:function(t){return t.length},clear:function(t){t.clear()},Store:function(t,e,n){var o=i.inherit(i.storeAPI,(function(t,e,n){return 0===arguments.length?o.getAll():"function"==typeof e?o.transact(t,e,n):void 0!==e?o.set(t,e,n):"string"==typeof t||"number"==typeof t?o.get(t):"function"==typeof t?o.each(t):t?o.setAll(t,e):o.clear()}));o._id=t;try{var r="__store2_test";e.setItem(r,"ok"),o._area=e,e.removeItem(r)}catch(t){o._area=i.storage("fake")}return o._ns=n||"",i.areas[t]||(i.areas[t]=o._area),i.apis[o._ns+o._id]||(i.apis[o._ns+o._id]=o),o},storeAPI:{area:function(t,e){var n=this[t];return n&&n.area||(n=i.Store(t,e,this._ns),this[t]||(this[t]=n)),n},namespace:function(t,e,n){if(n=n||this._delim||i.nsdelim,!t)return this._ns?this._ns.substring(0,this._ns.length-n.length):"";var o=t,r=this[o];if(!(r&&r.namespace||((r=i.Store(this._id,this._area,this._ns+o+n))._delim=n,this[o]||(this[o]=r),e)))for(var s in i.areas)r.area(s,i.areas[s]);return r},isFake:function(t){return t?(this._real=this._area,this._area=i.storage("fake")):!1===t&&(this._area=this._real||this._area),"fake"===this._area.name},toString:function(){return"store"+(this._ns?"."+this.namespace():"")+"["+this._id+"]"},has:function(t){return this._area.has?this._area.has(this._in(t)):!!(this._in(t)in this._area)},size:function(){return this.keys().length},each:function(t,e){for(var n=0,o=i.length(this._area);n<o;n++){var r=this._out(i.key(this._area,n));if(void 0!==r&&!1===t.call(this,r,this.get(r),e))break;o>i.length(this._area)&&(o--,n--)}return e||this},keys:function(t){return this.each((function(t,e,n){n.push(t)}),t||[])},get:function(t,e){var n,o=i.get(this._area,this._in(t));return"function"==typeof e&&(n=e,e=null),null!==o?i.parse(o,n):null!=e?e:o},getAll:function(t){return this.each((function(t,e,n){n[t]=e}),t||{})},transact:function(t,e,n){var i=this.get(t,n),o=e(i);return this.set(t,void 0===o?i:o),this},set:function(t,e,n){var o,r=this.get(t);return null!=r&&!1===n?e:("function"==typeof n&&(o=n,n=void 0),i.set(this._area,this._in(t),i.stringify(e,o),n)||r)},setAll:function(t,e){var n,i;for(var o in t)i=t[o],this.set(o,i,e)!==i&&(n=!0);return n},add:function(t,e,n){var o=this.get(t);if(o instanceof Array)e=o.concat(e);else if(null!==o){var r=typeof o;if(r===typeof e&&"object"===r){for(var s in e)o[s]=e[s];e=o}else e=o+e}return i.set(this._area,this._in(t),i.stringify(e,n)),e},remove:function(t,e){var n=this.get(t,e);return i.remove(this._area,this._in(t)),n},clear:function(){return this._ns?this.each((function(t){i.remove(this._area,this._in(t))}),1):i.clear(this._area),this},clearAll:function(){var t=this._area;for(var e in i.areas)i.areas.hasOwnProperty(e)&&(this._area=i.areas[e],this.clear());return this._area=t,this},_in:function(t){return"string"!=typeof t&&(t=i.stringify(t)),this._ns?this._ns+t:t},_out:function(t){return this._ns?t&&0===t.indexOf(this._ns)?t.substring(this._ns.length):void 0:t}},storage:function(t){return i.inherit(i.storageAPI,{items:{},name:t})},storageAPI:{length:0,has:function(t){return this.items.hasOwnProperty(t)},key:function(t){var e=0;for(var n in this.items)if(this.has(n)&&t===e++)return n},setItem:function(t,e){this.has(t)||this.length++,this.items[t]=e},removeItem:function(t){this.has(t)&&(delete this.items[t],this.length--)},getItem:function(t){return this.has(t)?this.items[t]:null},clear:function(){for(var t in this.items)this.removeItem(t)}}},o=i.Store("local",function(){try{return localStorage}catch(t){}}());o.local=o,o._=i,o.area("session",function(){try{return sessionStorage}catch(t){}}()),o.area("page",i.storage("page")),"function"==typeof n&&void 0!==n.amd?n("store2",[],(function(){return o})):t.exports?t.exports=o:(e.store&&(i.conflict=e.store),e.store=o)}(this,this&&this.define)},6168:function(t,e,n){var i;i=function(t,e){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=2)}([function(e,n){e.exports=t},function(t,n){t.exports=e},function(t,e,n){t.exports=n(3)},function(t,e,n){"use strict";n.r(e);var i=n(0),o=n(1),r=n.n(o);function s(t){if(!r.a.autoDrawEnabled){var e=t.getLayer()||t.getStage();e&&e.batchDraw()}}var a={key:!0,style:!0,elm:!0,isRootInsert:!0},l=".vue-konva-event";function c(t,e,n,i){void 0===e&&(e={}),void 0===n&&(n={});var o=t.__konvaNode,r={},c=!1;for(var u in n)if(!a[u]){var h="on"===u.slice(0,2),d=n[u]!==e[u];if(h&&d){var p=u.substr(2).toLowerCase();"content"===p.substr(0,7)&&(p="content"+p.substr(7,1).toUpperCase()+p.substr(8)),o.off(p+l,n[u])}!e.hasOwnProperty(u)&&o.setAttr(u,void 0)}for(var f in e)if(!a[f]){var g="on"===f.slice(0,2),m=n[f]!==e[f];if(g&&m){var _=f.substr(2).toLowerCase();"content"===_.substr(0,7)&&(_="content"+_.substr(7,1).toUpperCase()+_.substr(8)),e[f]&&(o.off(_+l),o.on(_+l,e[f]))}!g&&(e[f]!==n[f]||i&&e[f]!==o.getAttr(f))&&(c=!0,r[f]=e[f])}c&&(o.setAttrs(r),s(o))}function u(t){if(null==t?void 0:t.component)return t.component.__konvaNode||u(t.component.subTree)}function h(t){var e=t.el,n=t.component,i=u(t);if((null==e?void 0:e.tagName)&&n&&!i){var o=e&&e.tagName.toLowerCase();return console.error('vue-konva error: You are trying to render "'+o+'" inside your component tree. Looks like it is not a Konva node. You can render only Konva components inside the Stage.'),null}return i}function d(t,e){var n,i,o=(i=[],(n=t).children&&n.children.forEach((function(t){!t.component&&Array.isArray(t.children)&&t.children.forEach((function(t){!t.component&&Array.isArray(t.children)?i.push.apply(i,t.children):i.push(t)})),t.component&&i.push(t)})),i),r=[];o.forEach((function(t){var e=h(t);e&&r.push(e)}));var a=!1;r.forEach((function(t,e){t.getZIndex()!==e&&(t.setZIndex(e),a=!0)})),a&&s(e)}function p(){return p=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},p.apply(this,arguments)}var f={props:{config:{type:Object,default:function(){return{}}},__useStrictMode:{type:Boolean}},inheritAttrs:!1,setup:function(t,e){var n=e.attrs,o=e.slots,r=e.expose,s=(e.emits,Object(i.getCurrentInstance)()),a=Object(i.reactive)({}),l=Object(i.ref)(null),u=new window.Konva.Stage({width:t.config.width,height:t.config.height,container:document.createElement("div")});function h(){var e=a||{},i=p({},n,t.config);c(s,i,e,t.__useStrictMode),Object.assign(a,i)}return s.__konvaNode=u,h(),Object(i.onMounted)((function(){l.value.innerHTML="",u.container(l.value),h()})),Object(i.onUpdated)((function(){h(),d(s.subTree,u)})),Object(i.onBeforeUnmount)((function(){u.destroy()})),Object(i.watch)((function(){return t.config}),h,{deep:!0}),r({getStage:function(){return s.__konvaNode},getNode:function(){return s.__konvaNode}}),function(){var t;return Object(i.h)("div",{ref:l},null===(t=o.default)||void 0===t?void 0:t.call(o))}}};function g(){return g=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},g.apply(this,arguments)}var m={Group:!0,Layer:!0,FastLayer:!0,Label:!0},_=function(t){return{props:{config:{type:Object,default:function(){return{}}},__useStrictMode:{type:Boolean}},setup:function(e,n){var o=n.attrs,r=n.slots,a=n.expose,l=Object(i.getCurrentInstance)(),u=Object(i.reactive)({}),h=window.Konva[t];if(h){var p=new h;return l.__konvaNode=p,l.vnode.__konvaNode=p,f(),Object(i.onMounted)((function(){var t=function(t){return function t(e){return e.__konvaNode?e:e.parent?t(e.parent):(console.error("vue-konva error: Can not find parent node"),{})}(t.parent)}(l).__konvaNode;t.add(p),s(p)})),Object(i.onUnmounted)((function(){s(p),p.destroy(),p.off(".vue-konva-event")})),Object(i.onUpdated)((function(){f(),d(l.subTree,p)})),Object(i.watch)((function(){return e.config}),f,{deep:!0}),a({getStage:function(){return l.__konvaNode},getNode:function(){return l.__konvaNode}}),m[t]?function(){var t;return Object(i.h)("template",{},null===(t=r.default)||void 0===t?void 0:t.call(r))}:function(){return null}}function f(){var t={};for(var n in l.vnode.props)"on"===n.slice(0,2)&&(t[n]=l.vnode.props[n]);var i=u||{},r=g({},o,e.config,t);c(l,r,i,e.__useStrictMode),Object.assign(u,r)}console.error("vue-konva error: Can not find node "+t)}}};"undefined"==typeof window||window.Konva||n(1);var y=[{name:"Stage",component:f}].concat(["Layer","FastLayer","Group","Label","Rect","Circle","Ellipse","Wedge","Line","Sprite","Image","Text","TextPath","Star","Ring","Arc","Tag","Path","RegularPolygon","Arrow","Shape","Transformer"].map((function(t){return{name:t,component:_(t)}}))),v={install:function(t,e){var n="v";e&&e.prefix&&(n=e.prefix),y.forEach((function(e){t.component(""+n+e.name,e.component)}))}};e.default=v}]).default},t.exports=i(n(6765),n(185))},3744:(t,e)=>{"use strict";e.Z=(t,e)=>{const n=t.__vccOpts||t;for(const[t,i]of e)n[t]=i;return n}},2450:(t,e,n)=>{"use strict";n.d(e,{o:()=>r});var i=n(2262),o=n(6252);const r=(0,o.aZ)({name:"Promised",props:{promise:{},pendingDelay:{type:[Number,String],default:200}},setup(t,{slots:e}){const n=(0,i.BK)(t),r=(0,i.qj)(function(t,e=200){const n=(0,i.iH)(!1),r=(0,i.iH)(!1),s=(0,o.Fl)((()=>!n.value&&!r.value)),a=(0,i.iH)(!1),l=(0,i.iH)(),c=(0,i.iH)();let u;return(0,o.YP)((()=>(0,i.SU)(t)),(o=>{if(n.value=!1,r.value=!1,l.value=null,!o)return c.value=null,u&&clearTimeout(u),void(u=null);(0,i.SU)(e)>0?(a.value=!1,u&&clearTimeout(u),u=setTimeout((()=>{a.value=!0}),Number((0,i.SU)(e)))):a.value=!0,o.then((e=>{o===(0,i.SU)(t)&&(c.value=e,r.value=!0)})).catch((e=>{o===(0,i.SU)(t)&&(l.value=e,n.value=!0)}))}),{immediate:!0}),{isPending:s,isRejected:n,isResolved:r,isDelayElapsed:a,error:l,data:c}}(n.promise,n.pendingDelay));return()=>{if("combined"in e)return e.combined(r);const[t,n]=r.isRejected?["rejected",r.error]:r.isPending?r.isDelayElapsed?["pending",r.data]:[null]:["default",r.data];return t&&e[t](n)}}})},4812:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(5003),o=n(9963),r=n(3577);function s(t){var e=Object.create(null);if(t)for(var n in t)e[n]=t[n];return e.default=t,Object.freeze(e)}var a=s(o);const l=Object.create(null);function c(t,e){if(!r.isString(t)){if(!t.nodeType)return r.NOOP;t=t.innerHTML}const n=t,o=l[n];if(o)return o;if("#"===t[0]){const e=document.querySelector(t);t=e?e.innerHTML:""}const s=r.extend({hoistStatic:!0,onError:void 0,onWarn:r.NOOP},e);s.isCustomElement||"undefined"==typeof customElements||(s.isCustomElement=t=>!!customElements.get(t));const{code:c}=i.compile(t,s),u=new Function("Vue",c)(a);return u._rc=!0,l[n]=u}o.registerRuntimeCompiler(c),e.compile=c,Object.keys(o).forEach((function(t){"default"!==t&&(e[t]=o[t])}))},6765:(t,e,n)=>{"use strict";t.exports=n(4812)},7852:t=>{"use strict";t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABSCAMAAAAhFXfZAAAC91BMVEVMaXEzeak2f7I4g7g3g7cua5gzeKg8hJo3grY4g7c3grU0gLI2frE0daAubJc2gbQwd6QzeKk2gLMtd5sxdKIua5g1frA2f7IydaM0e6w2fq41fK01eqo3grgubJgta5cxdKI1f7AydaQydaMxc6EubJgvbJkwcZ4ubZkwcJwubZgubJcydqUydKIxapgubJctbJcubZcubJcvbJYubJcvbZkubJctbJctbZcubJg2f7AubJcrbZcubJcubJcua5g3grY0fq8ubJcubJdEkdEwhsw6i88vhswuhcsuhMtBjMgthMsrg8srgss6is8qgcs8i9A9iMYtg8spgcoogMo7hcMngMonf8olfso4gr8kfck5iM8jfMk4iM8he8k1fro7itAgesk2hs8eecgzfLcofssdeMg0hc4cd8g2hcsxeLQbdsgZdcgxeLImfcszhM0vda4xgckzhM4xg84wf8Yxgs4udKsvfcQucqhUndROmdM1fK0wcZ8vb5w0eqpQm9MzeKhXoNVcpdYydKNWn9VZotVKltJFjsIwcJ1Rms9OlslLmtH///8+kc9epdYzd6dbo9VHkMM2f7FHmNBClM8ydqVcpNY9hro3gLM9hLczealQmcw3fa46f7A8gLMxc6I3eagyc6FIldJMl9JSnNRSntNNl9JPnNJFi75UnM9ZodVKksg8kM45jc09e6ZHltFBk883gbRBh7pDk9EwcaBzn784g7dKkcY2i81Om9M7j85Llc81is09g7Q4grY/j9A0eqxKmdFFltBEjcXf6fFImdBCiLxJl9FGlNFBi78yiMxVndEvbpo6js74+vx+psPP3+o/ks5HkcpGmNCjwdZCkNDM3ehYoNJEls+lxNkxh8xHks0+jdC1zd5Lg6r+/v/H2ufz9/o3jM3t8/edvdM/k89Th61OiLBSjbZklbaTt9BfptdjmL1AicBHj8hGk9FAgK1dkLNTjLRekrdClc/k7fM0icy0y9tgp9c4jc2NtM9Dlc8zicxeXZn3AAAAQ3RSTlMAHDdTb4yPA+LtnEQmC4L2EmHqB7XA0d0sr478x4/Yd5i1zOfyPkf1sLVq4Nh3FvjxopQ2/STNuFzUwFIwxKaejILpIBEV9wAABhVJREFUeF6s1NdyFEcYBeBeoQIhRAkLlRDGrhIgY3BJL8CVeKzuyXFzzjkn5ZxzzuScg3PO8cKzu70JkO0LfxdTU//pM9vTu7Xgf6KqOVTb9X7toRrVEfBf1HTVjZccrT/2by1VV928Yty9ZbVuucdz90frG8DBjl9pVApbOstvmMuvVgaNXSfAAd6pGxpy6yxf5ph43pS/4f3uoaGm2rdu72S9xzOvMymkZFq/ptDrk90mhW7e4zl7HLzhxGWPR20xmSxJ/VqldG5m9XhaVOA1DadsNh3Pu5L2N6QtPO/32JpqQBVVk20oy/Pi2s23WEvyfHbe1thadVQttvm7Llf65gGmXK67XtupyoM7HQhmXdLS8oGWJNeOJ3C5fG5XCEJnkez3/oFdsvgJ4l2ANZwhrJKk/7OSXa+3Vw2WJMlKnGkobouYk6T0TyX30klOUnTD9HJ5qpckL3EW/w4XF3Xd0FGywXUrstrclVsqz5Pd/sXFYyDnPdrLcQODmGOK47IZb4CmibmMn+MYRzFZ5jg33ZL/EJrWcszHmANy3ARBK/IXtciJy8VsitPSdE3uuHxzougojcUdr8/32atnz/ev3f/K5wtpxUTpcaI45zusVDpYtZi+jg0oU9b3x74h7+n9ABvYEZeKaVq0sh0AtLKsFtqNBdeT0MrSzwwlq9+x6xAO4tgOtSzbCjrNQQiNvQUbUEubvzBUeGw26yDCsRHCoLkTHDa7IdOLIThs/gHvChszh2CimE8peRs47cxANI0lYNB5y1DljpOF0IhzBDPOZnDOqYYbeGKECbPzWnXludPphw5c2YBq5zlwXphIbO4VDCZ0gnPfUO1TwZoYwAs2ExPCedAu9DAjfQUjzITQb3jNj0KG2Sgt6BHaQUdYzWz+XmBktOHwanXjaSTcwwziBcuMOtwBmqPrTOxFQR/DRKKPqyur0aiW6cULYsx6tBm0jXpR/AUWR6HRq9WVW6MRhIq5jLyjbaCTDCijyYJNpCajdyobP/eTw0iexBAKkJ3gA5KcQb2zBXsIBckn+xVv8jkZSaEFHE+jFEleAEfayRU0MouNoBmB/L50Ai/HSLIHxcrpCvnhSQAuakKp2C/YbCylJjXRVy/z3+Kv/RrNcCo+WUzlVEhzKffnTQnxeN9fWF88fiNCUdSTsaufaChKWInHeysygfpIqagoakW+vV20J8uyl6TyNKEZWV4oRSPyCkWpgOLSbkCObT8o2r6tlG58HQquf6O0v50tB7JM7F4EORd2dx/K0w/KHsVkLPaoYrwgP/y7krr3SSMA4zj+OBgmjYkxcdIJQyQRKgg2viX9Hddi9UBb29LrKR7CVVEEEXWojUkXNyfTNDE14W9gbHJNuhjDettN3ZvbOvdOqCD3Jp/9l+/wJE+9PkYGjx/fqkys3S2rMozM/o2106rfMUINo6hVqz+eu/hd1c4xTg0TAfy5kV+4UG6+IthHTU9woWmxuKNbTfuCSfovBCxq7EtHqvYL4Sm6F8GVxsSXHMQ07TOi1DKtZxjWaaIyi4CXWjxPccUw8WVbMYY5wxC1mzEyXMJWkllpRloi+Kkoq69sxBTlElF6aAxYUbjXNlhlDZilDnM4U5SlN5biRsRHnbx3mbeWjEh4mEyiuJDl5XcWVmX5GvNkFgLWZM5qwsop4/AWfLhU1cR7k1VVvcYCWRkOI6Xy5gmnphCYIkvzuNYzHzosq2oNk2RtSs8khfUOfHIDgR6ysYBaMpl4uEgk2U/oJTs9AaTSwma7dT69geAE2ZpEjUsn2ieJNHeKfrI3EcAGJ2ZaNgVuC8EBctCLc57P5u5led6IOBkIYkuQMrmmjChs4VkfOerHqSBkPzZlhe06RslZ3zMjk2sscqKwY0RcjKK+LWbzd7KiHhkncs/siFJ+V5eXxD34B8nVuJEpGJNmxN2gH3vSvp7J70tF+D1Ej8qUJD1TkErAND2GZwTFg/LubvmgiBG3SOvdlsqFQrkEzJCL1rstlnVFROixZoDDSuXQFHESwVGlcuQcMb/b42NgjLowh5MTDFE3vNB5qStRIErdCQEh6pLPR92anSUb/wAIhldAaDMpGgAAAABJRU5ErkJggg=="},8586:t=>{"use strict";t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII="},3498:t=>{"use strict";t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC"},5762:(t,e,n)=>{"use strict";n.d(e,{sgm:()=>c});var i=n(2262),o=n(6121);Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;function r(t){return!!(0,i.nZ)()&&((0,i.EB)(t),!0)}Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;const s="undefined"!=typeof window;Object.prototype.toString;o.$B,o.$B,o.$B;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;const a=s?window:void 0;s&&window.document,s&&window.navigator,s&&window.location;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;function l(t,e={}){const{immediate:n=!0,window:o=a}=e,s=(0,i.iH)(!1);let l=0,c=null;function u(e){if(!s.value||!o)return;t({delta:e-l,timestamp:e}),l=e,c=o.requestAnimationFrame(u)}function h(){!s.value&&o&&(s.value=!0,c=o.requestAnimationFrame(u))}function d(){s.value=!1,null!=c&&o&&(o.cancelAnimationFrame(c),c=null)}return n&&h(),r(d),{isActive:(0,i.OT)(s),pause:d,resume:h}}Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;function c(t){var e;const n=(0,i.iH)(0);if("undefined"==typeof performance)return n;const o=null!=(e=null==t?void 0:t.every)?e:10;let r=performance.now(),s=0;return l((()=>{if(s+=1,s>=o){const t=performance.now(),e=t-r;n.value=Math.round(1e3/(e/s)),r=t,s=0}})),n}Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable},8662:(t,e,n)=>{"use strict";n.d(e,{ZP:()=>v});var i=n(9367);function o(t,e,n,i,o,r,s){try{var a=t[r](s),l=a.value}catch(t){return void n(t)}a.done?e(l):Promise.resolve(l).then(i,o)}function r(t){return function(){var e=this,n=arguments;return new Promise((function(i,r){var s=t.apply(e,n);function a(t){o(s,i,r,a,l,"next",t)}function l(t){o(s,i,r,a,l,"throw",t)}a(void 0)}))}}function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){l(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var c="axios-retry";function u(t){return!t.response&&Boolean(t.code)&&"ECONNABORTED"!==t.code&&i(t)}var h=["get","head","options"],d=h.concat(["put","delete"]);function p(t){return"ECONNABORTED"!==t.code&&(!t.response||t.response.status>=500&&t.response.status<=599)}function f(t){return!!t.config&&(p(t)&&-1!==d.indexOf(t.config.method))}function g(t){return u(t)||f(t)}function m(){return 0}function _(t){var e=t[c]||{};return e.retryCount=e.retryCount||0,t[c]=e,e}function y(){return(y=r((function*(t,e,n,i){var o=n.retryCount<t&&e(i);if("object"==typeof o)try{return!1!==(yield o)}catch(t){return!1}return o}))).apply(this,arguments)}function v(t,e){t.interceptors.request.use((t=>(_(t).lastRequestTime=Date.now(),t))),t.interceptors.response.use(null,function(){var n=r((function*(n){var{config:i}=n;if(!i)return Promise.reject(n);var{retries:o=3,retryCondition:r=g,retryDelay:s=m,shouldResetTimeout:l=!1,onRetry:u=(()=>{})}=function(t,e){return a(a({},e),t[c])}(i,e),h=_(i);if(yield function(t,e,n,i){return y.apply(this,arguments)}(o,r,h,n)){h.retryCount+=1;var d=s(h.retryCount,n);if(function(t,e){t.defaults.agent===e.agent&&delete e.agent,t.defaults.httpAgent===e.httpAgent&&delete e.httpAgent,t.defaults.httpsAgent===e.httpsAgent&&delete e.httpsAgent}(t,i),!l&&i.timeout&&h.lastRequestTime){var p=Date.now()-h.lastRequestTime,f=i.timeout-p-d;if(f<=0)return Promise.reject(n);i.timeout=f}return i.transformRequest=[t=>t],u(h.retryCount,n,i),new Promise((e=>setTimeout((()=>e(t(i))),d)))}return Promise.reject(n)}));return function(t){return n.apply(this,arguments)}}())}v.isNetworkError=u,v.isSafeRequestError=function(t){return!!t.config&&(p(t)&&-1!==h.indexOf(t.config.method))},v.isIdempotentRequestError=f,v.isNetworkOrIdempotentRequestError=g,v.exponentialDelay=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=100*Math.pow(2,t);return e+.2*e*Math.random()},v.isRetryableError=p},2861:(t,e,n)=>{"use strict";function i(t,e){return function(){return t.apply(e,arguments)}}n.d(e,{Z:()=>Vt});const{toString:o}=Object.prototype,{getPrototypeOf:r}=Object,s=(a=Object.create(null),t=>{const e=o.call(t);return a[e]||(a[e]=e.slice(8,-1).toLowerCase())});var a;const l=t=>(t=t.toLowerCase(),e=>s(e)===t),c=t=>e=>typeof e===t,{isArray:u}=Array,h=c("undefined");const d=l("ArrayBuffer");const p=c("string"),f=c("function"),g=c("number"),m=t=>null!==t&&"object"==typeof t,_=t=>{if("object"!==s(t))return!1;const e=r(t);return!(null!==e&&e!==Object.prototype&&null!==Object.getPrototypeOf(e)||Symbol.toStringTag in t||Symbol.iterator in t)},y=l("Date"),v=l("File"),C=l("Blob"),b=l("FileList"),E=l("URLSearchParams");function S(t,e,{allOwnKeys:n=!1}={}){if(null==t)return;let i,o;if("object"!=typeof t&&(t=[t]),u(t))for(i=0,o=t.length;i<o;i++)e.call(null,t[i],i,t);else{const o=n?Object.getOwnPropertyNames(t):Object.keys(t),r=o.length;let s;for(i=0;i<r;i++)s=o[i],e.call(null,t[s],s,t)}}function w(t,e){e=e.toLowerCase();const n=Object.keys(t);let i,o=n.length;for(;o-- >0;)if(i=n[o],e===i.toLowerCase())return i;return null}const O="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,x=t=>!h(t)&&t!==O;const P=(T="undefined"!=typeof Uint8Array&&r(Uint8Array),t=>T&&t instanceof T);var T;const M=l("HTMLFormElement"),D=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),R=l("RegExp"),A=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),i={};S(n,((n,o)=>{!1!==e(n,o,t)&&(i[o]=n)})),Object.defineProperties(t,i)},L="abcdefghijklmnopqrstuvwxyz",I="0123456789",k={DIGIT:I,ALPHA:L,ALPHA_DIGIT:L+L.toUpperCase()+I};const N=l("AsyncFunction"),F={isArray:u,isArrayBuffer:d,isBuffer:function(t){return null!==t&&!h(t)&&null!==t.constructor&&!h(t.constructor)&&f(t.constructor.isBuffer)&&t.constructor.isBuffer(t)},isFormData:t=>{let e;return t&&("function"==typeof FormData&&t instanceof FormData||f(t.append)&&("formdata"===(e=s(t))||"object"===e&&f(t.toString)&&"[object FormData]"===t.toString()))},isArrayBufferView:function(t){let e;return e="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&d(t.buffer),e},isString:p,isNumber:g,isBoolean:t=>!0===t||!1===t,isObject:m,isPlainObject:_,isUndefined:h,isDate:y,isFile:v,isBlob:C,isRegExp:R,isFunction:f,isStream:t=>m(t)&&f(t.pipe),isURLSearchParams:E,isTypedArray:P,isFileList:b,forEach:S,merge:function t(){const{caseless:e}=x(this)&&this||{},n={},i=(i,o)=>{const r=e&&w(n,o)||o;_(n[r])&&_(i)?n[r]=t(n[r],i):_(i)?n[r]=t({},i):u(i)?n[r]=i.slice():n[r]=i};for(let t=0,e=arguments.length;t<e;t++)arguments[t]&&S(arguments[t],i);return n},extend:(t,e,n,{allOwnKeys:o}={})=>(S(e,((e,o)=>{n&&f(e)?t[o]=i(e,n):t[o]=e}),{allOwnKeys:o}),t),trim:t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:t=>(65279===t.charCodeAt(0)&&(t=t.slice(1)),t),inherits:(t,e,n,i)=>{t.prototype=Object.create(e.prototype,i),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},toFlatObject:(t,e,n,i)=>{let o,s,a;const l={};if(e=e||{},null==t)return e;do{for(o=Object.getOwnPropertyNames(t),s=o.length;s-- >0;)a=o[s],i&&!i(a,t,e)||l[a]||(e[a]=t[a],l[a]=!0);t=!1!==n&&r(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},kindOf:s,kindOfTest:l,endsWith:(t,e,n)=>{t=String(t),(void 0===n||n>t.length)&&(n=t.length),n-=e.length;const i=t.indexOf(e,n);return-1!==i&&i===n},toArray:t=>{if(!t)return null;if(u(t))return t;let e=t.length;if(!g(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},forEachEntry:(t,e)=>{const n=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=n.next())&&!i.done;){const n=i.value;e.call(t,n[0],n[1])}},matchAll:(t,e)=>{let n;const i=[];for(;null!==(n=t.exec(e));)i.push(n);return i},isHTMLForm:M,hasOwnProperty:D,hasOwnProp:D,reduceDescriptors:A,freezeMethods:t=>{A(t,((e,n)=>{if(f(t)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const i=t[n];f(i)&&(e.enumerable=!1,"writable"in e?e.writable=!1:e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(t,e)=>{const n={},i=t=>{t.forEach((t=>{n[t]=!0}))};return u(t)?i(t):i(String(t).split(e)),n},toCamelCase:t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(t,e,n){return e.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(t,e)=>(t=+t,Number.isFinite(t)?t:e),findKey:w,global:O,isContextDefined:x,ALPHABET:k,generateString:(t=16,e=k.ALPHA_DIGIT)=>{let n="";const{length:i}=e;for(;t--;)n+=e[Math.random()*i|0];return n},isSpecCompliantForm:function(t){return!!(t&&f(t.append)&&"FormData"===t[Symbol.toStringTag]&&t[Symbol.iterator])},toJSONObject:t=>{const e=new Array(10),n=(t,i)=>{if(m(t)){if(e.indexOf(t)>=0)return;if(!("toJSON"in t)){e[i]=t;const o=u(t)?[]:{};return S(t,((t,e)=>{const r=n(t,i+1);!h(r)&&(o[e]=r)})),e[i]=void 0,o}}return t};return n(t,0)},isAsyncFn:N,isThenable:t=>t&&(m(t)||f(t))&&f(t.then)&&f(t.catch)};function G(t,e,n,i,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),i&&(this.request=i),o&&(this.response=o)}F.inherits(G,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:F.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const B=G.prototype,j={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((t=>{j[t]={value:t}})),Object.defineProperties(G,j),Object.defineProperty(B,"isAxiosError",{value:!0}),G.from=(t,e,n,i,o,r)=>{const s=Object.create(B);return F.toFlatObject(t,s,(function(t){return t!==Error.prototype}),(t=>"isAxiosError"!==t)),G.call(s,t.message,e,n,i,o),s.cause=t,s.name=t.name,r&&Object.assign(s,r),s};const U=G,V=null;function W(t){return F.isPlainObject(t)||F.isArray(t)}function H(t){return F.endsWith(t,"[]")?t.slice(0,-2):t}function $(t,e,n){return t?t.concat(e).map((function(t,e){return t=H(t),!n&&e?"["+t+"]":t})).join(n?".":""):e}const z=F.toFlatObject(F,{},null,(function(t){return/^is[A-Z]/.test(t)}));const K=function(t,e,n){if(!F.isObject(t))throw new TypeError("target must be an object");e=e||new(V||FormData);const i=(n=F.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(t,e){return!F.isUndefined(e[t])}))).metaTokens,o=n.visitor||c,r=n.dots,s=n.indexes,a=(n.Blob||"undefined"!=typeof Blob&&Blob)&&F.isSpecCompliantForm(e);if(!F.isFunction(o))throw new TypeError("visitor must be a function");function l(t){if(null===t)return"";if(F.isDate(t))return t.toISOString();if(!a&&F.isBlob(t))throw new U("Blob is not supported. Use a Buffer instead.");return F.isArrayBuffer(t)||F.isTypedArray(t)?a&&"function"==typeof Blob?new Blob([t]):Buffer.from(t):t}function c(t,n,o){let a=t;if(t&&!o&&"object"==typeof t)if(F.endsWith(n,"{}"))n=i?n:n.slice(0,-2),t=JSON.stringify(t);else if(F.isArray(t)&&function(t){return F.isArray(t)&&!t.some(W)}(t)||(F.isFileList(t)||F.endsWith(n,"[]"))&&(a=F.toArray(t)))return n=H(n),a.forEach((function(t,i){!F.isUndefined(t)&&null!==t&&e.append(!0===s?$([n],i,r):null===s?n:n+"[]",l(t))})),!1;return!!W(t)||(e.append($(o,n,r),l(t)),!1)}const u=[],h=Object.assign(z,{defaultVisitor:c,convertValue:l,isVisitable:W});if(!F.isObject(t))throw new TypeError("data must be an object");return function t(n,i){if(!F.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+i.join("."));u.push(n),F.forEach(n,(function(n,r){!0===(!(F.isUndefined(n)||null===n)&&o.call(e,n,F.isString(r)?r.trim():r,i,h))&&t(n,i?i.concat(r):[r])})),u.pop()}}(t),e};function Y(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,(function(t){return e[t]}))}function X(t,e){this._pairs=[],t&&K(t,this,e)}const q=X.prototype;q.append=function(t,e){this._pairs.push([t,e])},q.toString=function(t){const e=t?function(e){return t.call(this,e,Y)}:Y;return this._pairs.map((function(t){return e(t[0])+"="+e(t[1])}),"").join("&")};const Z=X;function J(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Q(t,e,n){if(!e)return t;const i=n&&n.encode||J,o=n&&n.serialize;let r;if(r=o?o(e,n):F.isURLSearchParams(e)?e.toString():new Z(e,n).toString(i),r){const e=t.indexOf("#");-1!==e&&(t=t.slice(0,e)),t+=(-1===t.indexOf("?")?"?":"&")+r}return t}const tt=class{constructor(){this.handlers=[]}use(t,e,n){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){F.forEach(this.handlers,(function(e){null!==e&&t(e)}))}},et={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},nt={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:Z,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},isStandardBrowserEnv:(()=>{let t;return("undefined"==typeof navigator||"ReactNative"!==(t=navigator.product)&&"NativeScript"!==t&&"NS"!==t)&&("undefined"!=typeof window&&"undefined"!=typeof document)})(),isStandardBrowserWebWorkerEnv:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,protocols:["http","https","file","blob","url","data"]};const it=function(t){function e(t,n,i,o){let r=t[o++];const s=Number.isFinite(+r),a=o>=t.length;if(r=!r&&F.isArray(i)?i.length:r,a)return F.hasOwnProp(i,r)?i[r]=[i[r],n]:i[r]=n,!s;i[r]&&F.isObject(i[r])||(i[r]=[]);return e(t,n,i[r],o)&&F.isArray(i[r])&&(i[r]=function(t){const e={},n=Object.keys(t);let i;const o=n.length;let r;for(i=0;i<o;i++)r=n[i],e[r]=t[r];return e}(i[r])),!s}if(F.isFormData(t)&&F.isFunction(t.entries)){const n={};return F.forEachEntry(t,((t,i)=>{e(function(t){return F.matchAll(/\w+|\[(\w*)]/g,t).map((t=>"[]"===t[0]?"":t[1]||t[0]))}(t),i,n,0)})),n}return null},ot={"Content-Type":void 0};const rt={transitional:et,adapter:["xhr","http"],transformRequest:[function(t,e){const n=e.getContentType()||"",i=n.indexOf("application/json")>-1,o=F.isObject(t);o&&F.isHTMLForm(t)&&(t=new FormData(t));if(F.isFormData(t))return i&&i?JSON.stringify(it(t)):t;if(F.isArrayBuffer(t)||F.isBuffer(t)||F.isStream(t)||F.isFile(t)||F.isBlob(t))return t;if(F.isArrayBufferView(t))return t.buffer;if(F.isURLSearchParams(t))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let r;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(t,e){return K(t,new nt.classes.URLSearchParams,Object.assign({visitor:function(t,e,n,i){return nt.isNode&&F.isBuffer(t)?(this.append(e,t.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}(t,this.formSerializer).toString();if((r=F.isFileList(t))||n.indexOf("multipart/form-data")>-1){const e=this.env&&this.env.FormData;return K(r?{"files[]":t}:t,e&&new e,this.formSerializer)}}return o||i?(e.setContentType("application/json",!1),function(t,e,n){if(F.isString(t))try{return(e||JSON.parse)(t),F.trim(t)}catch(t){if("SyntaxError"!==t.name)throw t}return(n||JSON.stringify)(t)}(t)):t}],transformResponse:[function(t){const e=this.transitional||rt.transitional,n=e&&e.forcedJSONParsing,i="json"===this.responseType;if(t&&F.isString(t)&&(n&&!this.responseType||i)){const n=!(e&&e.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(t){if(n){if("SyntaxError"===t.name)throw U.from(t,U.ERR_BAD_RESPONSE,this,null,this.response);throw t}}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:nt.classes.FormData,Blob:nt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};F.forEach(["delete","get","head"],(function(t){rt.headers[t]={}})),F.forEach(["post","put","patch"],(function(t){rt.headers[t]=F.merge(ot)}));const st=rt,at=F.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),lt=Symbol("internals");function ct(t){return t&&String(t).trim().toLowerCase()}function ut(t){return!1===t||null==t?t:F.isArray(t)?t.map(ut):String(t)}function ht(t,e,n,i,o){return F.isFunction(i)?i.call(this,e,n):(o&&(e=n),F.isString(e)?F.isString(i)?-1!==e.indexOf(i):F.isRegExp(i)?i.test(e):void 0:void 0)}class dt{constructor(t){t&&this.set(t)}set(t,e,n){const i=this;function o(t,e,n){const o=ct(e);if(!o)throw new Error("header name must be a non-empty string");const r=F.findKey(i,o);(!r||void 0===i[r]||!0===n||void 0===n&&!1!==i[r])&&(i[r||e]=ut(t))}const r=(t,e)=>F.forEach(t,((t,n)=>o(t,n,e)));return F.isPlainObject(t)||t instanceof this.constructor?r(t,e):F.isString(t)&&(t=t.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim())?r((t=>{const e={};let n,i,o;return t&&t.split("\n").forEach((function(t){o=t.indexOf(":"),n=t.substring(0,o).trim().toLowerCase(),i=t.substring(o+1).trim(),!n||e[n]&&at[n]||("set-cookie"===n?e[n]?e[n].push(i):e[n]=[i]:e[n]=e[n]?e[n]+", "+i:i)})),e})(t),e):null!=t&&o(e,t,n),this}get(t,e){if(t=ct(t)){const n=F.findKey(this,t);if(n){const t=this[n];if(!e)return t;if(!0===e)return function(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(t);)e[i[1]]=i[2];return e}(t);if(F.isFunction(e))return e.call(this,t,n);if(F.isRegExp(e))return e.exec(t);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,e){if(t=ct(t)){const n=F.findKey(this,t);return!(!n||void 0===this[n]||e&&!ht(0,this[n],n,e))}return!1}delete(t,e){const n=this;let i=!1;function o(t){if(t=ct(t)){const o=F.findKey(n,t);!o||e&&!ht(0,n[o],o,e)||(delete n[o],i=!0)}}return F.isArray(t)?t.forEach(o):o(t),i}clear(t){const e=Object.keys(this);let n=e.length,i=!1;for(;n--;){const o=e[n];t&&!ht(0,this[o],o,t,!0)||(delete this[o],i=!0)}return i}normalize(t){const e=this,n={};return F.forEach(this,((i,o)=>{const r=F.findKey(n,o);if(r)return e[r]=ut(i),void delete e[o];const s=t?function(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((t,e,n)=>e.toUpperCase()+n))}(o):String(o).trim();s!==o&&delete e[o],e[s]=ut(i),n[s]=!0})),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const e=Object.create(null);return F.forEach(this,((n,i)=>{null!=n&&!1!==n&&(e[i]=t&&F.isArray(n)?n.join(", "):n)})),e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([t,e])=>t+": "+e)).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...e){const n=new this(t);return e.forEach((t=>n.set(t))),n}static accessor(t){const e=(this[lt]=this[lt]={accessors:{}}).accessors,n=this.prototype;function i(t){const i=ct(t);e[i]||(!function(t,e){const n=F.toCamelCase(" "+e);["get","set","has"].forEach((i=>{Object.defineProperty(t,i+n,{value:function(t,n,o){return this[i].call(this,e,t,n,o)},configurable:!0})}))}(n,t),e[i]=!0)}return F.isArray(t)?t.forEach(i):i(t),this}}dt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),F.freezeMethods(dt.prototype),F.freezeMethods(dt);const pt=dt;function ft(t,e){const n=this||st,i=e||n,o=pt.from(i.headers);let r=i.data;return F.forEach(t,(function(t){r=t.call(n,r,o.normalize(),e?e.status:void 0)})),o.normalize(),r}function gt(t){return!(!t||!t.__CANCEL__)}function mt(t,e,n){U.call(this,null==t?"canceled":t,U.ERR_CANCELED,e,n),this.name="CanceledError"}F.inherits(mt,U,{__CANCEL__:!0});const _t=mt;const yt=nt.isStandardBrowserEnv?{write:function(t,e,n,i,o,r){const s=[];s.push(t+"="+encodeURIComponent(e)),F.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),F.isString(i)&&s.push("path="+i),F.isString(o)&&s.push("domain="+o),!0===r&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};function vt(t,e){return t&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)?function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}(t,e):e}const Ct=nt.isStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),e=document.createElement("a");let n;function i(n){let i=n;return t&&(e.setAttribute("href",i),i=e.href),e.setAttribute("href",i),{href:e.href,protocol:e.protocol?e.protocol.replace(/:$/,""):"",host:e.host,search:e.search?e.search.replace(/^\?/,""):"",hash:e.hash?e.hash.replace(/^#/,""):"",hostname:e.hostname,port:e.port,pathname:"/"===e.pathname.charAt(0)?e.pathname:"/"+e.pathname}}return n=i(window.location.href),function(t){const e=F.isString(t)?i(t):t;return e.protocol===n.protocol&&e.host===n.host}}():function(){return!0};const bt=function(t,e){t=t||10;const n=new Array(t),i=new Array(t);let o,r=0,s=0;return e=void 0!==e?e:1e3,function(a){const l=Date.now(),c=i[s];o||(o=l),n[r]=a,i[r]=l;let u=s,h=0;for(;u!==r;)h+=n[u++],u%=t;if(r=(r+1)%t,r===s&&(s=(s+1)%t),l-o<e)return;const d=c&&l-c;return d?Math.round(1e3*h/d):void 0}};function Et(t,e){let n=0;const i=bt(50,250);return o=>{const r=o.loaded,s=o.lengthComputable?o.total:void 0,a=r-n,l=i(a);n=r;const c={loaded:r,total:s,progress:s?r/s:void 0,bytes:a,rate:l||void 0,estimated:l&&s&&r<=s?(s-r)/l:void 0,event:o};c[e?"download":"upload"]=!0,t(c)}}const St="undefined"!=typeof XMLHttpRequest,wt={http:V,xhr:St&&function(t){return new Promise((function(e,n){let i=t.data;const o=pt.from(t.headers).normalize(),r=t.responseType;let s;function a(){t.cancelToken&&t.cancelToken.unsubscribe(s),t.signal&&t.signal.removeEventListener("abort",s)}F.isFormData(i)&&(nt.isStandardBrowserEnv||nt.isStandardBrowserWebWorkerEnv?o.setContentType(!1):o.setContentType("multipart/form-data;",!1));let l=new XMLHttpRequest;if(t.auth){const e=t.auth.username||"",n=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";o.set("Authorization","Basic "+btoa(e+":"+n))}const c=vt(t.baseURL,t.url);function u(){if(!l)return;const i=pt.from("getAllResponseHeaders"in l&&l.getAllResponseHeaders());!function(t,e,n){const i=n.config.validateStatus;n.status&&i&&!i(n.status)?e(new U("Request failed with status code "+n.status,[U.ERR_BAD_REQUEST,U.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):t(n)}((function(t){e(t),a()}),(function(t){n(t),a()}),{data:r&&"text"!==r&&"json"!==r?l.response:l.responseText,status:l.status,statusText:l.statusText,headers:i,config:t,request:l}),l=null}if(l.open(t.method.toUpperCase(),Q(c,t.params,t.paramsSerializer),!0),l.timeout=t.timeout,"onloadend"in l?l.onloadend=u:l.onreadystatechange=function(){l&&4===l.readyState&&(0!==l.status||l.responseURL&&0===l.responseURL.indexOf("file:"))&&setTimeout(u)},l.onabort=function(){l&&(n(new U("Request aborted",U.ECONNABORTED,t,l)),l=null)},l.onerror=function(){n(new U("Network Error",U.ERR_NETWORK,t,l)),l=null},l.ontimeout=function(){let e=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const i=t.transitional||et;t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),n(new U(e,i.clarifyTimeoutError?U.ETIMEDOUT:U.ECONNABORTED,t,l)),l=null},nt.isStandardBrowserEnv){const e=(t.withCredentials||Ct(c))&&t.xsrfCookieName&&yt.read(t.xsrfCookieName);e&&o.set(t.xsrfHeaderName,e)}void 0===i&&o.setContentType(null),"setRequestHeader"in l&&F.forEach(o.toJSON(),(function(t,e){l.setRequestHeader(e,t)})),F.isUndefined(t.withCredentials)||(l.withCredentials=!!t.withCredentials),r&&"json"!==r&&(l.responseType=t.responseType),"function"==typeof t.onDownloadProgress&&l.addEventListener("progress",Et(t.onDownloadProgress,!0)),"function"==typeof t.onUploadProgress&&l.upload&&l.upload.addEventListener("progress",Et(t.onUploadProgress)),(t.cancelToken||t.signal)&&(s=e=>{l&&(n(!e||e.type?new _t(null,t,l):e),l.abort(),l=null)},t.cancelToken&&t.cancelToken.subscribe(s),t.signal&&(t.signal.aborted?s():t.signal.addEventListener("abort",s)));const h=function(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}(c);h&&-1===nt.protocols.indexOf(h)?n(new U("Unsupported protocol "+h+":",U.ERR_BAD_REQUEST,t)):l.send(i||null)}))}};F.forEach(wt,((t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch(t){}Object.defineProperty(t,"adapterName",{value:e})}}));const Ot=t=>{t=F.isArray(t)?t:[t];const{length:e}=t;let n,i;for(let o=0;o<e&&(n=t[o],!(i=F.isString(n)?wt[n.toLowerCase()]:n));o++);if(!i){if(!1===i)throw new U(`Adapter ${n} is not supported by the environment`,"ERR_NOT_SUPPORT");throw new Error(F.hasOwnProp(wt,n)?`Adapter '${n}' is not available in the build`:`Unknown adapter '${n}'`)}if(!F.isFunction(i))throw new TypeError("adapter is not a function");return i};function xt(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new _t(null,t)}function Pt(t){xt(t),t.headers=pt.from(t.headers),t.data=ft.call(t,t.transformRequest),-1!==["post","put","patch"].indexOf(t.method)&&t.headers.setContentType("application/x-www-form-urlencoded",!1);return Ot(t.adapter||st.adapter)(t).then((function(e){return xt(t),e.data=ft.call(t,t.transformResponse,e),e.headers=pt.from(e.headers),e}),(function(e){return gt(e)||(xt(t),e&&e.response&&(e.response.data=ft.call(t,t.transformResponse,e.response),e.response.headers=pt.from(e.response.headers))),Promise.reject(e)}))}const Tt=t=>t instanceof pt?t.toJSON():t;function Mt(t,e){e=e||{};const n={};function i(t,e,n){return F.isPlainObject(t)&&F.isPlainObject(e)?F.merge.call({caseless:n},t,e):F.isPlainObject(e)?F.merge({},e):F.isArray(e)?e.slice():e}function o(t,e,n){return F.isUndefined(e)?F.isUndefined(t)?void 0:i(void 0,t,n):i(t,e,n)}function r(t,e){if(!F.isUndefined(e))return i(void 0,e)}function s(t,e){return F.isUndefined(e)?F.isUndefined(t)?void 0:i(void 0,t):i(void 0,e)}function a(n,o,r){return r in e?i(n,o):r in t?i(void 0,n):void 0}const l={url:r,method:r,data:r,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(t,e)=>o(Tt(t),Tt(e),!0)};return F.forEach(Object.keys(Object.assign({},t,e)),(function(i){const r=l[i]||o,s=r(t[i],e[i],i);F.isUndefined(s)&&r!==a||(n[i]=s)})),n}const Dt="1.4.0",Rt={};["object","boolean","number","function","string","symbol"].forEach(((t,e)=>{Rt[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}}));const At={};Rt.transitional=function(t,e,n){function i(t,e){return"[Axios v1.4.0] Transitional option '"+t+"'"+e+(n?". "+n:"")}return(n,o,r)=>{if(!1===t)throw new U(i(o," has been removed"+(e?" in "+e:"")),U.ERR_DEPRECATED);return e&&!At[o]&&(At[o]=!0,console.warn(i(o," has been deprecated since v"+e+" and will be removed in the near future"))),!t||t(n,o,r)}};const Lt={assertOptions:function(t,e,n){if("object"!=typeof t)throw new U("options must be an object",U.ERR_BAD_OPTION_VALUE);const i=Object.keys(t);let o=i.length;for(;o-- >0;){const r=i[o],s=e[r];if(s){const e=t[r],n=void 0===e||s(e,r,t);if(!0!==n)throw new U("option "+r+" must be "+n,U.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new U("Unknown option "+r,U.ERR_BAD_OPTION)}},validators:Rt},It=Lt.validators;class kt{constructor(t){this.defaults=t,this.interceptors={request:new tt,response:new tt}}request(t,e){"string"==typeof t?(e=e||{}).url=t:e=t||{},e=Mt(this.defaults,e);const{transitional:n,paramsSerializer:i,headers:o}=e;let r;void 0!==n&&Lt.assertOptions(n,{silentJSONParsing:It.transitional(It.boolean),forcedJSONParsing:It.transitional(It.boolean),clarifyTimeoutError:It.transitional(It.boolean)},!1),null!=i&&(F.isFunction(i)?e.paramsSerializer={serialize:i}:Lt.assertOptions(i,{encode:It.function,serialize:It.function},!0)),e.method=(e.method||this.defaults.method||"get").toLowerCase(),r=o&&F.merge(o.common,o[e.method]),r&&F.forEach(["delete","get","head","post","put","patch","common"],(t=>{delete o[t]})),e.headers=pt.concat(r,o);const s=[];let a=!0;this.interceptors.request.forEach((function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(a=a&&t.synchronous,s.unshift(t.fulfilled,t.rejected))}));const l=[];let c;this.interceptors.response.forEach((function(t){l.push(t.fulfilled,t.rejected)}));let u,h=0;if(!a){const t=[Pt.bind(this),void 0];for(t.unshift.apply(t,s),t.push.apply(t,l),u=t.length,c=Promise.resolve(e);h<u;)c=c.then(t[h++],t[h++]);return c}u=s.length;let d=e;for(h=0;h<u;){const t=s[h++],e=s[h++];try{d=t(d)}catch(t){e.call(this,t);break}}try{c=Pt.call(this,d)}catch(t){return Promise.reject(t)}for(h=0,u=l.length;h<u;)c=c.then(l[h++],l[h++]);return c}getUri(t){return Q(vt((t=Mt(this.defaults,t)).baseURL,t.url),t.params,t.paramsSerializer)}}F.forEach(["delete","get","head","options"],(function(t){kt.prototype[t]=function(e,n){return this.request(Mt(n||{},{method:t,url:e,data:(n||{}).data}))}})),F.forEach(["post","put","patch"],(function(t){function e(e){return function(n,i,o){return this.request(Mt(o||{},{method:t,headers:e?{"Content-Type":"multipart/form-data"}:{},url:n,data:i}))}}kt.prototype[t]=e(),kt.prototype[t+"Form"]=e(!0)}));const Nt=kt;class Ft{constructor(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");let e;this.promise=new Promise((function(t){e=t}));const n=this;this.promise.then((t=>{if(!n._listeners)return;let e=n._listeners.length;for(;e-- >0;)n._listeners[e](t);n._listeners=null})),this.promise.then=t=>{let e;const i=new Promise((t=>{n.subscribe(t),e=t})).then(t);return i.cancel=function(){n.unsubscribe(e)},i},t((function(t,i,o){n.reason||(n.reason=new _t(t,i,o),e(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){this.reason?t(this.reason):this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const e=this._listeners.indexOf(t);-1!==e&&this._listeners.splice(e,1)}static source(){let t;return{token:new Ft((function(e){t=e})),cancel:t}}}const Gt=Ft;const Bt={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Bt).forEach((([t,e])=>{Bt[e]=t}));const jt=Bt;const Ut=function t(e){const n=new Nt(e),o=i(Nt.prototype.request,n);return F.extend(o,Nt.prototype,n,{allOwnKeys:!0}),F.extend(o,n,null,{allOwnKeys:!0}),o.create=function(n){return t(Mt(e,n))},o}(st);Ut.Axios=Nt,Ut.CanceledError=_t,Ut.CancelToken=Gt,Ut.isCancel=gt,Ut.VERSION=Dt,Ut.toFormData=K,Ut.AxiosError=U,Ut.Cancel=Ut.CanceledError,Ut.all=function(t){return Promise.all(t)},Ut.spread=function(t){return function(e){return t.apply(null,e)}},Ut.isAxiosError=function(t){return F.isObject(t)&&!0===t.isAxiosError},Ut.mergeConfig=Mt,Ut.AxiosHeaders=pt,Ut.formToJSON=t=>it(F.isHTMLForm(t)?new FormData(t):t),Ut.HttpStatusCode=jt,Ut.default=Ut;const Vt=Ut},830:(t,e,n)=>{"use strict";n.d(e,{WB:()=>Z,Q_:()=>st});var i=n(2262),o=n(6252),r=n(6121);function s(){return"undefined"!=typeof navigator&&"undefined"!=typeof window?window:void 0!==n.g?n.g:{}}const a="function"==typeof Proxy,l="devtools-plugin:setup";let c,u,h;function d(){return void 0!==c||("undefined"!=typeof window&&window.performance?(c=!0,u=window.performance):void 0!==n.g&&(null===(t=n.g.perf_hooks)||void 0===t?void 0:t.performance)?(c=!0,u=n.g.perf_hooks.performance):c=!1),c?u.now():Date.now();var t}class p{constructor(t,e){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=t,this.hook=e;const n={};if(t.settings)for(const e in t.settings){const i=t.settings[e];n[e]=i.defaultValue}const i=`__vue-devtools-plugin-settings__${t.id}`;let o=Object.assign({},n);try{const t=localStorage.getItem(i),e=JSON.parse(t);Object.assign(o,e)}catch(t){}this.fallbacks={getSettings:()=>o,setSettings(t){try{localStorage.setItem(i,JSON.stringify(t))}catch(t){}o=t},now:()=>d()},e&&e.on("plugin:settings:set",((t,e)=>{t===this.plugin.id&&this.fallbacks.setSettings(e)})),this.proxiedOn=new Proxy({},{get:(t,e)=>this.target?this.target.on[e]:(...t)=>{this.onQueue.push({method:e,args:t})}}),this.proxiedTarget=new Proxy({},{get:(t,e)=>this.target?this.target[e]:"on"===e?this.proxiedOn:Object.keys(this.fallbacks).includes(e)?(...t)=>(this.targetQueue.push({method:e,args:t,resolve:()=>{}}),this.fallbacks[e](...t)):(...t)=>new Promise((n=>{this.targetQueue.push({method:e,args:t,resolve:n})}))})}async setRealTarget(t){this.target=t;for(const t of this.onQueue)this.target.on[t.method](...t.args);for(const t of this.targetQueue)t.resolve(await this.target[t.method](...t.args))}}function f(t,e){const n=t,i=s(),o=s().__VUE_DEVTOOLS_GLOBAL_HOOK__,r=a&&n.enableEarlyProxy;if(!o||!i.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__&&r){const t=r?new p(n,o):null;(i.__VUE_DEVTOOLS_PLUGINS__=i.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:e,proxy:t}),t&&e(t.proxiedTarget)}else o.emit(l,t,e)}const g=t=>h=t,m=Symbol();function _(t){return t&&"object"==typeof t&&"[object Object]"===Object.prototype.toString.call(t)&&"function"!=typeof t.toJSON}var y;!function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"}(y||(y={}));const v="undefined"!=typeof window,C=!1,b=(()=>"object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:"object"==typeof globalThis?globalThis:{HTMLElement:null})();function E(t,e,n){const i=new XMLHttpRequest;i.open("GET",t),i.responseType="blob",i.onload=function(){P(i.response,e,n)},i.onerror=function(){console.error("could not download file")},i.send()}function S(t){const e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(t){}return e.status>=200&&e.status<=299}function w(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(e){const n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(n)}}const O="object"==typeof navigator?navigator:{userAgent:""},x=(()=>/Macintosh/.test(O.userAgent)&&/AppleWebKit/.test(O.userAgent)&&!/Safari/.test(O.userAgent))(),P=v?"undefined"!=typeof HTMLAnchorElement&&"download"in HTMLAnchorElement.prototype&&!x?function(t,e="download",n){const i=document.createElement("a");i.download=e,i.rel="noopener","string"==typeof t?(i.href=t,i.origin!==location.origin?S(i.href)?E(t,e,n):(i.target="_blank",w(i)):w(i)):(i.href=URL.createObjectURL(t),setTimeout((function(){URL.revokeObjectURL(i.href)}),4e4),setTimeout((function(){w(i)}),0))}:"msSaveOrOpenBlob"in O?function(t,e="download",n){if("string"==typeof t)if(S(t))E(t,e,n);else{const e=document.createElement("a");e.href=t,e.target="_blank",setTimeout((function(){w(e)}))}else navigator.msSaveOrOpenBlob(function(t,{autoBom:e=!1}={}){return e&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob([String.fromCharCode(65279),t],{type:t.type}):t}(t,n),e)}:function(t,e,n,i){(i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading...");if("string"==typeof t)return E(t,e,n);const o="application/octet-stream"===t.type,r=/constructor/i.test(String(b.HTMLElement))||"safari"in b,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||o&&r||x)&&"undefined"!=typeof FileReader){const e=new FileReader;e.onloadend=function(){let t=e.result;if("string"!=typeof t)throw i=null,new Error("Wrong reader.result type");t=s?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=t:location.assign(t),i=null},e.readAsDataURL(t)}else{const e=URL.createObjectURL(t);i?i.location.assign(e):location.href=e,i=null,setTimeout((function(){URL.revokeObjectURL(e)}),4e4)}}:()=>{};function T(t,e){const n=" "+t;"function"==typeof __VUE_DEVTOOLS_TOAST__?__VUE_DEVTOOLS_TOAST__(n,e):"error"===e?console.error(n):"warn"===e?console.warn(n):console.log(n)}function M(t){return"_a"in t&&"install"in t}function D(){if(!("clipboard"in navigator))return T("Your browser doesn't support the Clipboard API","error"),!0}function R(t){return!!(t instanceof Error&&t.message.toLowerCase().includes("document is not focused"))&&(T('You need to activate the "Emulate a focused page" setting in the "Rendering" panel of devtools.',"warn"),!0)}let A;async function L(t){try{const e=await(A||(A=document.createElement("input"),A.type="file",A.accept=".json"),function(){return new Promise(((t,e)=>{A.onchange=async()=>{const e=A.files;if(!e)return t(null);const n=e.item(0);return t(n?{text:await n.text(),file:n}:null)},A.oncancel=()=>t(null),A.onerror=e,A.click()}))}),n=await e();if(!n)return;const{text:i,file:o}=n;t.state.value=JSON.parse(i),T(`Global state imported from "${o.name}".`)}catch(t){T("Failed to export the state as JSON. Check the console for more details.","error"),console.error(t)}}function I(t){return{_custom:{display:t}}}const k=" Pinia (root)",N="_root";function F(t){return M(t)?{id:N,label:k}:{id:t.$id,label:t.$id}}function G(t){return t?Array.isArray(t)?t.reduce(((t,e)=>(t.keys.push(e.key),t.operations.push(e.type),t.oldValue[e.key]=e.oldValue,t.newValue[e.key]=e.newValue,t)),{oldValue:{},keys:[],operations:[],newValue:{}}):{operation:I(t.type),key:I(t.key),oldValue:t.oldValue,newValue:t.newValue}:{}}function B(t){switch(t){case y.direct:return"mutation";case y.patchFunction:case y.patchObject:return"$patch";default:return"unknown"}}let j=!0;const U=[],V="pinia:mutations",W="pinia",{assign:H}=Object,$=t=>" "+t;function z(t,e){f({id:"dev.esm.pinia",label:"Pinia ",logo:"https://pinia.vuejs.org/logo.svg",packageName:"pinia",homepage:"https://pinia.vuejs.org",componentStateTypes:U,app:t},(n=>{"function"!=typeof n.now&&T("You seem to be using an outdated version of Vue Devtools. Are you still using the Beta release instead of the stable one? You can find the links at https://devtools.vuejs.org/guide/installation.html."),n.addTimelineLayer({id:V,label:"Pinia ",color:15064968}),n.addInspector({id:W,label:"Pinia ",icon:"storage",treeFilterPlaceholder:"Search stores",actions:[{icon:"content_copy",action:()=>{!async function(t){if(!D())try{await navigator.clipboard.writeText(JSON.stringify(t.state.value)),T("Global state copied to clipboard.")}catch(t){if(R(t))return;T("Failed to serialize the state. Check the console for more details.","error"),console.error(t)}}(e)},tooltip:"Serialize and copy the state"},{icon:"content_paste",action:async()=>{await async function(t){if(!D())try{t.state.value=JSON.parse(await navigator.clipboard.readText()),T("Global state pasted from clipboard.")}catch(t){if(R(t))return;T("Failed to deserialize the state from clipboard. Check the console for more details.","error"),console.error(t)}}(e),n.sendInspectorTree(W),n.sendInspectorState(W)},tooltip:"Replace the state with the content of your clipboard"},{icon:"save",action:()=>{!async function(t){try{P(new Blob([JSON.stringify(t.state.value)],{type:"text/plain;charset=utf-8"}),"pinia-state.json")}catch(t){T("Failed to export the state as JSON. Check the console for more details.","error"),console.error(t)}}(e)},tooltip:"Save the state as a JSON file"},{icon:"folder_open",action:async()=>{await L(e),n.sendInspectorTree(W),n.sendInspectorState(W)},tooltip:"Import the state from a JSON file"}],nodeActions:[{icon:"restore",tooltip:"Reset the state (option store only)",action:t=>{const n=e._s.get(t);n?n._isOptionsAPI?(n.$reset(),T(`Store "${t}" reset.`)):T(`Cannot reset "${t}" store because it's a setup store.`,"warn"):T(`Cannot reset "${t}" store because it wasn't found.`,"warn")}}]}),n.on.inspectComponent(((t,e)=>{const n=t.componentInstance&&t.componentInstance.proxy;if(n&&n._pStores){const e=t.componentInstance.proxy._pStores;Object.values(e).forEach((e=>{t.instanceData.state.push({type:$(e.$id),key:"state",editable:!0,value:e._isOptionsAPI?{_custom:{value:(0,i.IU)(e.$state),actions:[{icon:"restore",tooltip:"Reset the state of this store",action:()=>e.$reset()}]}}:Object.keys(e.$state).reduce(((t,n)=>(t[n]=e.$state[n],t)),{})}),e._getters&&e._getters.length&&t.instanceData.state.push({type:$(e.$id),key:"getters",editable:!1,value:e._getters.reduce(((t,n)=>{try{t[n]=e[n]}catch(e){t[n]=e}return t}),{})})}))}})),n.on.getInspectorTree((n=>{if(n.app===t&&n.inspectorId===W){let t=[e];t=t.concat(Array.from(e._s.values())),n.rootNodes=(n.filter?t.filter((t=>"$id"in t?t.$id.toLowerCase().includes(n.filter.toLowerCase()):k.toLowerCase().includes(n.filter.toLowerCase()))):t).map(F)}})),n.on.getInspectorState((n=>{if(n.app===t&&n.inspectorId===W){const t=n.nodeId===N?e:e._s.get(n.nodeId);if(!t)return;t&&(n.state=function(t){if(M(t)){const e=Array.from(t._s.keys()),n=t._s,i={state:e.map((e=>({editable:!0,key:e,value:t.state.value[e]}))),getters:e.filter((t=>n.get(t)._getters)).map((t=>{const e=n.get(t);return{editable:!1,key:t,value:e._getters.reduce(((t,n)=>(t[n]=e[n],t)),{})}}))};return i}const e={state:Object.keys(t.$state).map((e=>({editable:!0,key:e,value:t.$state[e]})))};return t._getters&&t._getters.length&&(e.getters=t._getters.map((e=>({editable:!1,key:e,value:t[e]})))),t._customProperties.size&&(e.customProperties=Array.from(t._customProperties).map((e=>({editable:!0,key:e,value:t[e]})))),e}(t))}})),n.on.editInspectorState(((n,i)=>{if(n.app===t&&n.inspectorId===W){const t=n.nodeId===N?e:e._s.get(n.nodeId);if(!t)return T(`store "${n.nodeId}" not found`,"error");const{path:i}=n;M(t)?i.unshift("state"):1===i.length&&t._customProperties.has(i[0])&&!(i[0]in t.$state)||i.unshift("$state"),j=!1,n.set(t,i,n.state.value),j=!0}})),n.on.editComponentState((t=>{if(t.type.startsWith("")){const n=t.type.replace(/^\s*/,""),i=e._s.get(n);if(!i)return T(`store "${n}" not found`,"error");const{path:o}=t;if("state"!==o[0])return T(`Invalid path for store "${n}":\n${o}\nOnly state can be modified.`);o[0]="$state",j=!1,t.set(i,o,t.state.value),j=!0}}))}))}let K,Y=0;function X(t,e){const n=e.reduce(((e,n)=>(e[n]=(0,i.IU)(t)[n],e)),{});for(const e in n)t[e]=function(){const i=Y,o=new Proxy(t,{get:(...t)=>(K=i,Reflect.get(...t)),set:(...t)=>(K=i,Reflect.set(...t))});return n[e].apply(o,arguments)}}function q({app:t,store:e,options:n}){if(!e.$id.startsWith("__hot:")){if(n.state&&(e._isOptionsAPI=!0),"function"==typeof n.state){X(e,Object.keys(n.actions));const t=e._hotUpdate;(0,i.IU)(e)._hotUpdate=function(n){t.apply(this,arguments),X(e,Object.keys(n._hmrPayload.actions))}}!function(t,e){U.includes($(e.$id))||U.push($(e.$id)),f({id:"dev.esm.pinia",label:"Pinia ",logo:"https://pinia.vuejs.org/logo.svg",packageName:"pinia",homepage:"https://pinia.vuejs.org",componentStateTypes:U,app:t,settings:{logStoreChanges:{label:"Notify about new/deleted stores",type:"boolean",defaultValue:!0}}},(t=>{const n="function"==typeof t.now?t.now.bind(t):Date.now;e.$onAction((({after:i,onError:o,name:r,args:s})=>{const a=Y++;t.addTimelineEvent({layerId:V,event:{time:n(),title:" "+r,subtitle:"start",data:{store:I(e.$id),action:I(r),args:s},groupId:a}}),i((i=>{K=void 0,t.addTimelineEvent({layerId:V,event:{time:n(),title:" "+r,subtitle:"end",data:{store:I(e.$id),action:I(r),args:s,result:i},groupId:a}})})),o((i=>{K=void 0,t.addTimelineEvent({layerId:V,event:{time:n(),logType:"error",title:" "+r,subtitle:"end",data:{store:I(e.$id),action:I(r),args:s,error:i},groupId:a}})}))}),!0),e._customProperties.forEach((r=>{(0,o.YP)((()=>(0,i.SU)(e[r])),((e,i)=>{t.notifyComponentUpdate(),t.sendInspectorState(W),j&&t.addTimelineEvent({layerId:V,event:{time:n(),title:"Change",subtitle:r,data:{newValue:e,oldValue:i},groupId:K}})}),{deep:!0})})),e.$subscribe((({events:i,type:o},r)=>{if(t.notifyComponentUpdate(),t.sendInspectorState(W),!j)return;const s={time:n(),title:B(o),data:H({store:I(e.$id)},G(i)),groupId:K};K=void 0,o===y.patchFunction?s.subtitle="":o===y.patchObject?s.subtitle="":i&&!Array.isArray(i)&&(s.subtitle=i.type),i&&(s.data["rawEvent(s)"]={_custom:{display:"DebuggerEvent",type:"object",tooltip:"raw DebuggerEvent[]",value:i}}),t.addTimelineEvent({layerId:V,event:s})}),{detached:!0,flush:"sync"});const r=e._hotUpdate;e._hotUpdate=(0,i.Xl)((i=>{r(i),t.addTimelineEvent({layerId:V,event:{time:n(),title:" "+e.$id,subtitle:"HMR update",data:{store:I(e.$id),info:I("HMR update")}}}),t.notifyComponentUpdate(),t.sendInspectorTree(W),t.sendInspectorState(W)}));const{$dispose:s}=e;e.$dispose=()=>{s(),t.notifyComponentUpdate(),t.sendInspectorTree(W),t.sendInspectorState(W),t.getSettings().logStoreChanges&&T(`Disposed "${e.$id}" store `)},t.notifyComponentUpdate(),t.sendInspectorTree(W),t.sendInspectorState(W),t.getSettings().logStoreChanges&&T(`"${e.$id}" store installed `)}))}(t,e)}}function Z(){const t=(0,i.B)(!0),e=t.run((()=>(0,i.iH)({})));let n=[],o=[];const s=(0,i.Xl)({install(t){g(s),r.$Q||(s._a=t,t.provide(m,s),t.config.globalProperties.$pinia=s,C&&z(t,s),o.forEach((t=>n.push(t))),o=[])},use(t){return this._a||r.$Q?n.push(t):o.push(t),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return C&&"undefined"!=typeof Proxy&&s.use(q),s}const J=()=>{};function Q(t,e,n,o=J){t.push(e);const r=()=>{const n=t.indexOf(e);n>-1&&(t.splice(n,1),o())};return!n&&(0,i.nZ)()&&(0,i.EB)(r),r}function tt(t,...e){t.slice().forEach((t=>{t(...e)}))}function et(t,e){t instanceof Map&&e instanceof Map&&e.forEach(((e,n)=>t.set(n,e))),t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const o=e[n],r=t[n];_(r)&&_(o)&&t.hasOwnProperty(n)&&!(0,i.dq)(o)&&!(0,i.PG)(o)?t[n]=et(r,o):t[n]=o}return t}const nt=Symbol(),it=new WeakMap;const{assign:ot}=Object;function rt(t,e,n={},s,a,l){let c;const u=ot({actions:{}},n);const h={deep:!0};let d,p;let f,m=(0,i.Xl)([]),v=(0,i.Xl)([]);const b=s.state.value[t];l||b||(r.$Q?(0,r.t8)(s.state.value,t,{}):s.state.value[t]={});const E=(0,i.iH)({});let S;function w(e){let n;d=p=!1,"function"==typeof e?(e(s.state.value[t]),n={type:y.patchFunction,storeId:t,events:f}):(et(s.state.value[t],e),n={type:y.patchObject,payload:e,storeId:t,events:f});const i=S=Symbol();(0,o.Y3)().then((()=>{S===i&&(d=!0)})),p=!0,tt(m,n,s.state.value[t])}const O=l?function(){const{state:t}=n,e=t?t():{};this.$patch((t=>{ot(t,e)}))}:J;function x(e,n){return function(){g(s);const i=Array.from(arguments),o=[],r=[];let a;tt(v,{args:i,name:e,store:M,after:function(t){o.push(t)},onError:function(t){r.push(t)}});try{a=n.apply(this&&this.$id===t?this:M,i)}catch(t){throw tt(r,t),t}return a instanceof Promise?a.then((t=>(tt(o,t),t))).catch((t=>(tt(r,t),Promise.reject(t)))):(tt(o,a),a)}}const P=(0,i.Xl)({actions:{},getters:{},state:[],hotState:E}),T={_p:s,$id:t,$onAction:Q.bind(null,v),$patch:w,$reset:O,$subscribe(e,n={}){const i=Q(m,e,n.detached,(()=>r())),r=c.run((()=>(0,o.YP)((()=>s.state.value[t]),(i=>{("sync"===n.flush?p:d)&&e({storeId:t,type:y.direct,events:f},i)}),ot({},h,n))));return i},$dispose:function(){c.stop(),m=[],v=[],s._s.delete(t)}};r.$Q&&(T._r=!1);const M=(0,i.qj)(C?ot({_hmrPayload:P,_customProperties:(0,i.Xl)(new Set)},T):T);s._s.set(t,M);const D=s._e.run((()=>(c=(0,i.B)(),c.run((()=>e())))));for(const e in D){const n=D[e];if((0,i.dq)(n)&&(A=n,!(0,i.dq)(A)||!A.effect)||(0,i.PG)(n))l||(!b||(R=n,r.$Q?it.has(R):_(R)&&R.hasOwnProperty(nt))||((0,i.dq)(n)?n.value=b[e]:et(n,b[e])),r.$Q?(0,r.t8)(s.state.value[t],e,n):s.state.value[t][e]=n);else if("function"==typeof n){const t=x(e,n);r.$Q?(0,r.t8)(D,e,t):D[e]=t,u.actions[e]=n}else 0}var R,A;if(r.$Q?Object.keys(D).forEach((t=>{(0,r.t8)(M,t,D[t])})):(ot(M,D),ot((0,i.IU)(M),D)),Object.defineProperty(M,"$state",{get:()=>s.state.value[t],set:t=>{w((e=>{ot(e,t)}))}}),C){const t={writable:!0,configurable:!0,enumerable:!1};["_p","_hmrPayload","_getters","_customProperties"].forEach((e=>{Object.defineProperty(M,e,ot({value:M[e]},t))}))}return r.$Q&&(M._r=!0),s._p.forEach((t=>{if(C){const e=c.run((()=>t({store:M,app:s._a,pinia:s,options:u})));Object.keys(e||{}).forEach((t=>M._customProperties.add(t))),ot(M,e)}else ot(M,c.run((()=>t({store:M,app:s._a,pinia:s,options:u}))))})),b&&l&&n.hydrate&&n.hydrate(M.$state,b),d=!0,p=!0,M}function st(t,e,n){let s,a;const l="function"==typeof e;function c(t,n){const c=(0,o.FN)();(t=t||c&&(0,o.f3)(m,null))&&g(t),(t=h)._s.has(s)||(l?rt(s,e,a,t):function(t,e,n,s){const{state:a,actions:l,getters:c}=e,u=n.state.value[t];let h;h=rt(t,(function(){u||(r.$Q?(0,r.t8)(n.state.value,t,a?a():{}):n.state.value[t]=a?a():{});const e=(0,i.BK)(n.state.value[t]);return ot(e,l,Object.keys(c||{}).reduce(((e,s)=>(e[s]=(0,i.Xl)((0,o.Fl)((()=>{g(n);const e=n._s.get(t);if(!r.$Q||e._r)return c[s].call(e,e)}))),e)),{}))}),e,n,0,!0)}(s,a,t));return t._s.get(s)}return"string"==typeof t?(s=t,a=l?n:e):(a=t,s=t.id),c.$id=s,c}},6121:(t,e,n)=>{"use strict";n.d(e,{$B:()=>o,$Q:()=>i,t8:()=>r});var i=!1,o=!0;function r(t,e,n){return Array.isArray(t)?(t.length=Math.max(t.length,e),t.splice(e,1,n),n):(t[e]=n,n)}},2201:(t,e,n)=>{"use strict";n.d(e,{p7:()=>Nt,r5:()=>A,yj:()=>Gt});var i=n(6252),o=n(2262);const r="undefined"!=typeof window;function s(t){return t.__esModule||"Module"===t[Symbol.toStringTag]}const a=Object.assign;function l(t,e){const n={};for(const i in e){const o=e[i];n[i]=u(o)?o.map(t):t(o)}return n}const c=()=>{},u=Array.isArray;const h=/\/$/,d=t=>t.replace(h,"");function p(t,e,n="/"){let i,o={},r="",s="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(i=e.slice(0,l),r=e.slice(l+1,a>-1?a:e.length),o=t(r)),a>-1&&(i=i||e.slice(0,a),s=e.slice(a,e.length)),i=function(t,e){if(t.startsWith("/"))return t;0;if(!t)return e;const n=e.split("/"),i=t.split("/");let o,r,s=n.length-1;for(o=0;o<i.length;o++)if(r=i[o],"."!==r){if(".."!==r)break;s>1&&s--}return n.slice(0,s).join("/")+"/"+i.slice(o-(o===i.length?1:0)).join("/")}(null!=i?i:e,n),{fullPath:i+(r&&"?")+r+s,path:i,query:o,hash:s}}function f(t,e){return e&&t.toLowerCase().startsWith(e.toLowerCase())?t.slice(e.length)||"/":t}function g(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function m(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!_(t[n],e[n]))return!1;return!0}function _(t,e){return u(t)?y(t,e):u(e)?y(e,t):t===e}function y(t,e){return u(e)?t.length===e.length&&t.every(((t,n)=>t===e[n])):1===t.length&&t[0]===e}var v,C;!function(t){t.pop="pop",t.push="push"}(v||(v={})),function(t){t.back="back",t.forward="forward",t.unknown=""}(C||(C={}));function b(t){if(!t)if(r){const e=document.querySelector("base");t=(t=e&&e.getAttribute("href")||"/").replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return"/"!==t[0]&&"#"!==t[0]&&(t="/"+t),d(t)}const E=/^[^#]+#/;function S(t,e){return t.replace(E,"#")+e}const w=()=>({left:window.pageXOffset,top:window.pageYOffset});function O(t){let e;if("el"in t){const n=t.el,i="string"==typeof n&&n.startsWith("#");0;const o="string"==typeof n?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!o)return;e=function(t,e){const n=document.documentElement.getBoundingClientRect(),i=t.getBoundingClientRect();return{behavior:e.behavior,left:i.left-n.left-(e.left||0),top:i.top-n.top-(e.top||0)}}(o,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(null!=e.left?e.left:window.pageXOffset,null!=e.top?e.top:window.pageYOffset)}function x(t,e){return(history.state?history.state.position-e:-1)+t}const P=new Map;let T=()=>location.protocol+"//"+location.host;function M(t,e){const{pathname:n,search:i,hash:o}=e,r=t.indexOf("#");if(r>-1){let e=o.includes(t.slice(r))?t.slice(r).length:1,n=o.slice(e);return"/"!==n[0]&&(n="/"+n),f(n,"")}return f(n,t)+i+o}function D(t,e,n,i=!1,o=!1){return{back:t,current:e,forward:n,replaced:i,position:window.history.length,scroll:o?w():null}}function R(t){const e=function(t){const{history:e,location:n}=window,i={value:M(t,n)},o={value:e.state};function r(i,r,s){const a=t.indexOf("#"),l=a>-1?(n.host&&document.querySelector("base")?t:t.slice(a))+i:T()+t+i;try{e[s?"replaceState":"pushState"](r,"",l),o.value=r}catch(t){console.error(t),n[s?"replace":"assign"](l)}}return o.value||r(i.value,{back:null,current:i.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0),{location:i,state:o,push:function(t,n){const s=a({},o.value,e.state,{forward:t,scroll:w()});r(s.current,s,!0),r(t,a({},D(i.value,t,null),{position:s.position+1},n),!1),i.value=t},replace:function(t,n){r(t,a({},e.state,D(o.value.back,t,o.value.forward,!0),n,{position:o.value.position}),!0),i.value=t}}}(t=b(t)),n=function(t,e,n,i){let o=[],r=[],s=null;const l=({state:r})=>{const a=M(t,location),l=n.value,c=e.value;let u=0;if(r){if(n.value=a,e.value=r,s&&s===l)return void(s=null);u=c?r.position-c.position:0}else i(a);o.forEach((t=>{t(n.value,l,{delta:u,type:v.pop,direction:u?u>0?C.forward:C.back:C.unknown})}))};function c(){const{history:t}=window;t.state&&t.replaceState(a({},t.state,{scroll:w()}),"")}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",c),{pauseListeners:function(){s=n.value},listen:function(t){o.push(t);const e=()=>{const e=o.indexOf(t);e>-1&&o.splice(e,1)};return r.push(e),e},destroy:function(){for(const t of r)t();r=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",c)}}}(t,e.state,e.location,e.replace);const i=a({location:"",base:t,go:function(t,e=!0){e||n.pauseListeners(),history.go(t)},createHref:S.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function A(t){return(t=location.host?t||location.pathname+location.search:"").includes("#")||(t+="#"),R(t)}function L(t){return"string"==typeof t||"symbol"==typeof t}const I={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},k=Symbol("");var N;!function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"}(N||(N={}));function F(t,e){return a(new Error,{type:t,[k]:!0},e)}function G(t,e){return t instanceof Error&&k in t&&(null==e||!!(t.type&e))}const B="[^/]+?",j={sensitive:!1,strict:!1,start:!0,end:!0},U=/[.+*?^${}()[\]/\\]/g;function V(t,e){let n=0;for(;n<t.length&&n<e.length;){const i=e[n]-t[n];if(i)return i;n++}return t.length<e.length?1===t.length&&80===t[0]?-1:1:t.length>e.length?1===e.length&&80===e[0]?1:-1:0}function W(t,e){let n=0;const i=t.score,o=e.score;for(;n<i.length&&n<o.length;){const t=V(i[n],o[n]);if(t)return t;n++}if(1===Math.abs(o.length-i.length)){if(H(i))return 1;if(H(o))return-1}return o.length-i.length}function H(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const $={type:0,value:""},z=/[a-zA-Z0-9_]/;function K(t,e,n){const i=function(t,e){const n=a({},j,e),i=[];let o=n.start?"^":"";const r=[];for(const e of t){const t=e.length?[]:[90];n.strict&&!e.length&&(o+="/");for(let i=0;i<e.length;i++){const s=e[i];let a=40+(n.sensitive?.25:0);if(0===s.type)i||(o+="/"),o+=s.value.replace(U,"\\$&"),a+=40;else if(1===s.type){const{value:t,repeatable:n,optional:l,regexp:c}=s;r.push({name:t,repeatable:n,optional:l});const u=c||B;if(u!==B){a+=10;try{new RegExp(`(${u})`)}catch(e){throw new Error(`Invalid custom RegExp for param "${t}" (${u}): `+e.message)}}let h=n?`((?:${u})(?:/(?:${u}))*)`:`(${u})`;i||(h=l&&e.length<2?`(?:/${h})`:"/"+h),l&&(h+="?"),o+=h,a+=20,l&&(a+=-8),n&&(a+=-20),".*"===u&&(a+=-50)}t.push(a)}i.push(t)}if(n.strict&&n.end){const t=i.length-1;i[t][i[t].length-1]+=.7000000000000001}n.strict||(o+="/?"),n.end?o+="$":n.strict&&(o+="(?:/|$)");const s=new RegExp(o,n.sensitive?"":"i");return{re:s,score:i,keys:r,parse:function(t){const e=t.match(s),n={};if(!e)return null;for(let t=1;t<e.length;t++){const i=e[t]||"",o=r[t-1];n[o.name]=i&&o.repeatable?i.split("/"):i}return n},stringify:function(e){let n="",i=!1;for(const o of t){i&&n.endsWith("/")||(n+="/"),i=!1;for(const t of o)if(0===t.type)n+=t.value;else if(1===t.type){const{value:r,repeatable:s,optional:a}=t,l=r in e?e[r]:"";if(u(l)&&!s)throw new Error(`Provided param "${r}" is an array but it is not repeatable (* or + modifiers)`);const c=u(l)?l.join("/"):l;if(!c){if(!a)throw new Error(`Missing required param "${r}"`);o.length<2&&(n.endsWith("/")?n=n.slice(0,-1):i=!0)}n+=c}}return n||"/"}}}(function(t){if(!t)return[[]];if("/"===t)return[[$]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(t){throw new Error(`ERR (${n})/"${c}": ${t}`)}let n=0,i=n;const o=[];let r;function s(){r&&o.push(r),r=[]}let a,l=0,c="",u="";function h(){c&&(0===n?r.push({type:0,value:c}):1===n||2===n||3===n?(r.length>1&&("*"===a||"+"===a)&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:c,regexp:u,repeatable:"*"===a||"+"===a,optional:"*"===a||"?"===a})):e("Invalid state to consume buffer"),c="")}function d(){c+=a}for(;l<t.length;)if(a=t[l++],"\\"!==a||2===n)switch(n){case 0:"/"===a?(c&&h(),s()):":"===a?(h(),n=1):d();break;case 4:d(),n=i;break;case 1:"("===a?n=2:z.test(a)?d():(h(),n=0,"*"!==a&&"?"!==a&&"+"!==a&&l--);break;case 2:")"===a?"\\"==u[u.length-1]?u=u.slice(0,-1)+a:n=3:u+=a;break;case 3:h(),n=0,"*"!==a&&"?"!==a&&"+"!==a&&l--,u="";break;default:e("Unknown state")}else i=n,n=4;return 2===n&&e(`Unfinished custom RegExp for param "${c}"`),h(),s(),o}(t.path),n);const o=a(i,{record:t,parent:e,children:[],alias:[]});return e&&!o.record.aliasOf==!e.record.aliasOf&&e.children.push(o),o}function Y(t,e){const n=[],i=new Map;function o(t,n,i){const l=!i,u=function(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:q(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}(t);u.aliasOf=i&&i.record;const h=Q(e,t),d=[u];if("alias"in t){const e="string"==typeof t.alias?[t.alias]:t.alias;for(const t of e)d.push(a({},u,{components:i?i.record.components:u.components,path:t,aliasOf:i?i.record:u}))}let p,f;for(const e of d){const{path:a}=e;if(n&&"/"!==a[0]){const t=n.record.path,i="/"===t[t.length-1]?"":"/";e.path=n.record.path+(a&&i+a)}if(p=K(e,n,h),i?i.alias.push(p):(f=f||p,f!==p&&f.alias.push(p),l&&t.name&&!Z(p)&&r(t.name)),u.children){const t=u.children;for(let e=0;e<t.length;e++)o(t[e],p,i&&i.children[e])}i=i||p,(p.record.components&&Object.keys(p.record.components).length||p.record.name||p.record.redirect)&&s(p)}return f?()=>{r(f)}:c}function r(t){if(L(t)){const e=i.get(t);e&&(i.delete(t),n.splice(n.indexOf(e),1),e.children.forEach(r),e.alias.forEach(r))}else{const e=n.indexOf(t);e>-1&&(n.splice(e,1),t.record.name&&i.delete(t.record.name),t.children.forEach(r),t.alias.forEach(r))}}function s(t){let e=0;for(;e<n.length&&W(t,n[e])>=0&&(t.record.path!==n[e].record.path||!tt(t,n[e]));)e++;n.splice(e,0,t),t.record.name&&!Z(t)&&i.set(t.record.name,t)}return e=Q({strict:!1,end:!0,sensitive:!1},e),t.forEach((t=>o(t))),{addRoute:o,resolve:function(t,e){let o,r,s,l={};if("name"in t&&t.name){if(o=i.get(t.name),!o)throw F(1,{location:t});0,s=o.record.name,l=a(X(e.params,o.keys.filter((t=>!t.optional)).map((t=>t.name))),t.params&&X(t.params,o.keys.map((t=>t.name)))),r=o.stringify(l)}else if("path"in t)r=t.path,o=n.find((t=>t.re.test(r))),o&&(l=o.parse(r),s=o.record.name);else{if(o=e.name?i.get(e.name):n.find((t=>t.re.test(e.path))),!o)throw F(1,{location:t,currentLocation:e});s=o.record.name,l=a({},e.params,t.params),r=o.stringify(l)}const c=[];let u=o;for(;u;)c.unshift(u.record),u=u.parent;return{name:s,path:r,params:l,matched:c,meta:J(c)}},removeRoute:r,getRoutes:function(){return n},getRecordMatcher:function(t){return i.get(t)}}}function X(t,e){const n={};for(const i of e)i in t&&(n[i]=t[i]);return n}function q(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const i in t.components)e[i]="boolean"==typeof n?n:n[i];return e}function Z(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function J(t){return t.reduce(((t,e)=>a(t,e.meta)),{})}function Q(t,e){const n={};for(const i in t)n[i]=i in e?e[i]:t[i];return n}function tt(t,e){return e.children.some((e=>e===t||tt(t,e)))}const et=/#/g,nt=/&/g,it=/\//g,ot=/=/g,rt=/\?/g,st=/\+/g,at=/%5B/g,lt=/%5D/g,ct=/%5E/g,ut=/%60/g,ht=/%7B/g,dt=/%7C/g,pt=/%7D/g,ft=/%20/g;function gt(t){return encodeURI(""+t).replace(dt,"|").replace(at,"[").replace(lt,"]")}function mt(t){return gt(t).replace(st,"%2B").replace(ft,"+").replace(et,"%23").replace(nt,"%26").replace(ut,"`").replace(ht,"{").replace(pt,"}").replace(ct,"^")}function _t(t){return null==t?"":function(t){return gt(t).replace(et,"%23").replace(rt,"%3F")}(t).replace(it,"%2F")}function yt(t){try{return decodeURIComponent(""+t)}catch(t){}return""+t}function vt(t){const e={};if(""===t||"?"===t)return e;const n=("?"===t[0]?t.slice(1):t).split("&");for(let t=0;t<n.length;++t){const i=n[t].replace(st," "),o=i.indexOf("="),r=yt(o<0?i:i.slice(0,o)),s=o<0?null:yt(i.slice(o+1));if(r in e){let t=e[r];u(t)||(t=e[r]=[t]),t.push(s)}else e[r]=s}return e}function Ct(t){let e="";for(let n in t){const i=t[n];if(n=mt(n).replace(ot,"%3D"),null==i){void 0!==i&&(e+=(e.length?"&":"")+n);continue}(u(i)?i.map((t=>t&&mt(t))):[i&&mt(i)]).forEach((t=>{void 0!==t&&(e+=(e.length?"&":"")+n,null!=t&&(e+="="+t))}))}return e}function bt(t){const e={};for(const n in t){const i=t[n];void 0!==i&&(e[n]=u(i)?i.map((t=>null==t?null:""+t)):null==i?i:""+i)}return e}const Et=Symbol(""),St=Symbol(""),wt=Symbol(""),Ot=Symbol(""),xt=Symbol("");function Pt(){let t=[];return{add:function(e){return t.push(e),()=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)}},list:()=>t,reset:function(){t=[]}}}function Tt(t,e,n,i,o){const r=i&&(i.enterCallbacks[o]=i.enterCallbacks[o]||[]);return()=>new Promise(((s,a)=>{const l=t=>{var l;!1===t?a(F(4,{from:n,to:e})):t instanceof Error?a(t):"string"==typeof(l=t)||l&&"object"==typeof l?a(F(2,{from:e,to:t})):(r&&i.enterCallbacks[o]===r&&"function"==typeof t&&r.push(t),s())},c=t.call(i&&i.instances[o],e,n,l);let u=Promise.resolve(c);t.length<3&&(u=u.then(l)),u.catch((t=>a(t)))}))}function Mt(t,e,n,i){const o=[];for(const a of t){0;for(const t in a.components){let l=a.components[t];if("beforeRouteEnter"===e||a.instances[t])if("object"==typeof(r=l)||"displayName"in r||"props"in r||"__vccOpts"in r){const r=(l.__vccOpts||l)[e];r&&o.push(Tt(r,n,i,a,t))}else{let r=l();0,o.push((()=>r.then((o=>{if(!o)return Promise.reject(new Error(`Couldn't resolve component "${t}" at "${a.path}"`));const r=s(o)?o.default:o;a.components[t]=r;const l=(r.__vccOpts||r)[e];return l&&Tt(l,n,i,a,t)()}))))}}}var r;return o}function Dt(t){const e=(0,i.f3)(wt),n=(0,i.f3)(Ot),r=(0,i.Fl)((()=>e.resolve((0,o.SU)(t.to)))),s=(0,i.Fl)((()=>{const{matched:t}=r.value,{length:e}=t,i=t[e-1],o=n.matched;if(!i||!o.length)return-1;const s=o.findIndex(g.bind(null,i));if(s>-1)return s;const a=At(t[e-2]);return e>1&&At(i)===a&&o[o.length-1].path!==a?o.findIndex(g.bind(null,t[e-2])):s})),a=(0,i.Fl)((()=>s.value>-1&&function(t,e){for(const n in e){const i=e[n],o=t[n];if("string"==typeof i){if(i!==o)return!1}else if(!u(o)||o.length!==i.length||i.some(((t,e)=>t!==o[e])))return!1}return!0}(n.params,r.value.params))),l=(0,i.Fl)((()=>s.value>-1&&s.value===n.matched.length-1&&m(n.params,r.value.params)));return{route:r,href:(0,i.Fl)((()=>r.value.href)),isActive:a,isExactActive:l,navigate:function(n={}){return function(t){if(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)return;if(t.defaultPrevented)return;if(void 0!==t.button&&0!==t.button)return;if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}t.preventDefault&&t.preventDefault();return!0}(n)?e[(0,o.SU)(t.replace)?"replace":"push"]((0,o.SU)(t.to)).catch(c):Promise.resolve()}}}const Rt=(0,i.aZ)({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Dt,setup(t,{slots:e}){const n=(0,o.qj)(Dt(t)),{options:r}=(0,i.f3)(wt),s=(0,i.Fl)((()=>({[Lt(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[Lt(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive})));return()=>{const o=e.default&&e.default(n);return t.custom?o:(0,i.h)("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},o)}}});function At(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Lt=(t,e,n)=>null!=t?t:null!=e?e:n;function It(t,e){if(!t)return null;const n=t(e);return 1===n.length?n[0]:n}const kt=(0,i.aZ)({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=(0,i.f3)(xt),s=(0,i.Fl)((()=>t.route||r.value)),l=(0,i.f3)(St,0),c=(0,i.Fl)((()=>{let t=(0,o.SU)(l);const{matched:e}=s.value;let n;for(;(n=e[t])&&!n.components;)t++;return t})),u=(0,i.Fl)((()=>s.value.matched[c.value]));(0,i.JJ)(St,(0,i.Fl)((()=>c.value+1))),(0,i.JJ)(Et,u),(0,i.JJ)(xt,s);const h=(0,o.iH)();return(0,i.YP)((()=>[h.value,u.value,t.name]),(([t,e,n],[i,o,r])=>{e&&(e.instances[n]=t,o&&o!==e&&t&&t===i&&(e.leaveGuards.size||(e.leaveGuards=o.leaveGuards),e.updateGuards.size||(e.updateGuards=o.updateGuards))),!t||!e||o&&g(e,o)&&i||(e.enterCallbacks[n]||[]).forEach((e=>e(t)))}),{flush:"post"}),()=>{const o=s.value,r=t.name,l=u.value,c=l&&l.components[r];if(!c)return It(n.default,{Component:c,route:o});const d=l.props[r],p=d?!0===d?o.params:"function"==typeof d?d(o):d:null,f=(0,i.h)(c,a({},p,e,{onVnodeUnmounted:t=>{t.component.isUnmounted&&(l.instances[r]=null)},ref:h}));return It(n.default,{Component:f,route:o})||f}}});function Nt(t){const e=Y(t.routes,t),n=t.parseQuery||vt,s=t.stringifyQuery||Ct,h=t.history;const d=Pt(),f=Pt(),_=Pt(),y=(0,o.XI)(I);let C=I;r&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const b=l.bind(null,(t=>""+t)),E=l.bind(null,_t),S=l.bind(null,yt);function T(t,i){if(i=a({},i||y.value),"string"==typeof t){const o=p(n,t,i.path),r=e.resolve({path:o.path},i),s=h.createHref(o.fullPath);return a(o,r,{params:S(r.params),hash:yt(o.hash),redirectedFrom:void 0,href:s})}let o;if("path"in t)o=a({},t,{path:p(n,t.path,i.path).path});else{const e=a({},t.params);for(const t in e)null==e[t]&&delete e[t];o=a({},t,{params:E(t.params)}),i.params=E(i.params)}const r=e.resolve(o,i),l=t.hash||"";r.params=b(S(r.params));const c=function(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}(s,a({},t,{hash:(u=l,gt(u).replace(ht,"{").replace(pt,"}").replace(ct,"^")),path:r.path}));var u;const d=h.createHref(c);return a({fullPath:c,hash:l,query:s===Ct?bt(t.query):t.query||{}},r,{redirectedFrom:void 0,href:d})}function M(t){return"string"==typeof t?p(n,t,y.value.path):a({},t)}function D(t,e){if(C!==t)return F(8,{from:e,to:t})}function R(t){return k(t)}function A(t){const e=t.matched[t.matched.length-1];if(e&&e.redirect){const{redirect:n}=e;let i="function"==typeof n?n(t):n;return"string"==typeof i&&(i=i.includes("?")||i.includes("#")?i=M(i):{path:i},i.params={}),a({query:t.query,hash:t.hash,params:"path"in i?{}:t.params},i)}}function k(t,e){const n=C=T(t),i=y.value,o=t.state,r=t.force,l=!0===t.replace,c=A(n);if(c)return k(a(M(c),{state:"object"==typeof c?a({},o,c.state):o,force:r,replace:l}),e||n);const u=n;let h;return u.redirectedFrom=e,!r&&function(t,e,n){const i=e.matched.length-1,o=n.matched.length-1;return i>-1&&i===o&&g(e.matched[i],n.matched[o])&&m(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}(s,i,n)&&(h=F(16,{to:u,from:i}),q(i,i,!0,!1)),(h?Promise.resolve(h):B(u,i)).catch((t=>G(t)?G(t,2)?t:X(t):K(t,u,i))).then((t=>{if(t){if(G(t,2))return k(a({replace:l},M(t.to),{state:"object"==typeof t.to?a({},o,t.to.state):o,force:r}),e||u)}else t=U(u,i,!0,l,o);return j(u,i,t),t}))}function N(t,e){const n=D(t,e);return n?Promise.reject(n):Promise.resolve()}function B(t,e){let n;const[i,o,r]=function(t,e){const n=[],i=[],o=[],r=Math.max(e.matched.length,t.matched.length);for(let s=0;s<r;s++){const r=e.matched[s];r&&(t.matched.find((t=>g(t,r)))?i.push(r):n.push(r));const a=t.matched[s];a&&(e.matched.find((t=>g(t,a)))||o.push(a))}return[n,i,o]}(t,e);n=Mt(i.reverse(),"beforeRouteLeave",t,e);for(const o of i)o.leaveGuards.forEach((i=>{n.push(Tt(i,t,e))}));const s=N.bind(null,t,e);return n.push(s),Ft(n).then((()=>{n=[];for(const i of d.list())n.push(Tt(i,t,e));return n.push(s),Ft(n)})).then((()=>{n=Mt(o,"beforeRouteUpdate",t,e);for(const i of o)i.updateGuards.forEach((i=>{n.push(Tt(i,t,e))}));return n.push(s),Ft(n)})).then((()=>{n=[];for(const i of t.matched)if(i.beforeEnter&&!e.matched.includes(i))if(u(i.beforeEnter))for(const o of i.beforeEnter)n.push(Tt(o,t,e));else n.push(Tt(i.beforeEnter,t,e));return n.push(s),Ft(n)})).then((()=>(t.matched.forEach((t=>t.enterCallbacks={})),n=Mt(r,"beforeRouteEnter",t,e),n.push(s),Ft(n)))).then((()=>{n=[];for(const i of f.list())n.push(Tt(i,t,e));return n.push(s),Ft(n)})).catch((t=>G(t,8)?t:Promise.reject(t)))}function j(t,e,n){for(const i of _.list())i(t,e,n)}function U(t,e,n,i,o){const s=D(t,e);if(s)return s;const l=e===I,c=r?history.state:{};n&&(i||l?h.replace(t.fullPath,a({scroll:l&&c&&c.scroll},o)):h.push(t.fullPath,o)),y.value=t,q(t,e,n,l),X()}let V;function W(){V||(V=h.listen(((t,e,n)=>{if(!tt.listening)return;const i=T(t),o=A(i);if(o)return void k(a(o,{replace:!0}),i).catch(c);C=i;const s=y.value;var l,u;r&&(l=x(s.fullPath,n.delta),u=w(),P.set(l,u)),B(i,s).catch((t=>G(t,12)?t:G(t,2)?(k(t.to,i).then((t=>{G(t,20)&&!n.delta&&n.type===v.pop&&h.go(-1,!1)})).catch(c),Promise.reject()):(n.delta&&h.go(-n.delta,!1),K(t,i,s)))).then((t=>{(t=t||U(i,s,!1))&&(n.delta&&!G(t,8)?h.go(-n.delta,!1):n.type===v.pop&&G(t,20)&&h.go(-1,!1)),j(i,s,t)})).catch(c)})))}let H,$=Pt(),z=Pt();function K(t,e,n){X(t);const i=z.list();return i.length?i.forEach((i=>i(t,e,n))):console.error(t),Promise.reject(t)}function X(t){return H||(H=!t,W(),$.list().forEach((([e,n])=>t?n(t):e())),$.reset()),t}function q(e,n,o,s){const{scrollBehavior:a}=t;if(!r||!a)return Promise.resolve();const l=!o&&function(t){const e=P.get(t);return P.delete(t),e}(x(e.fullPath,0))||(s||!o)&&history.state&&history.state.scroll||null;return(0,i.Y3)().then((()=>a(e,n,l))).then((t=>t&&O(t))).catch((t=>K(t,e,n)))}const Z=t=>h.go(t);let J;const Q=new Set,tt={currentRoute:y,listening:!0,addRoute:function(t,n){let i,o;return L(t)?(i=e.getRecordMatcher(t),o=n):o=t,e.addRoute(o,i)},removeRoute:function(t){const n=e.getRecordMatcher(t);n&&e.removeRoute(n)},hasRoute:function(t){return!!e.getRecordMatcher(t)},getRoutes:function(){return e.getRoutes().map((t=>t.record))},resolve:T,options:t,push:R,replace:function(t){return R(a(M(t),{replace:!0}))},go:Z,back:()=>Z(-1),forward:()=>Z(1),beforeEach:d.add,beforeResolve:f.add,afterEach:_.add,onError:z.add,isReady:function(){return H&&y.value!==I?Promise.resolve():new Promise(((t,e)=>{$.add([t,e])}))},install(t){t.component("RouterLink",Rt),t.component("RouterView",kt),t.config.globalProperties.$router=this,Object.defineProperty(t.config.globalProperties,"$route",{enumerable:!0,get:()=>(0,o.SU)(y)}),r&&!J&&y.value===I&&(J=!0,R(h.location).catch((t=>{0})));const e={};for(const t in I)e[t]=(0,i.Fl)((()=>y.value[t]));t.provide(wt,this),t.provide(Ot,(0,o.qj)(e)),t.provide(xt,y);const n=t.unmount;Q.add(t),t.unmount=function(){Q.delete(t),Q.size<1&&(C=I,V&&V(),V=null,y.value=I,J=!1,H=!1),n()}}};return tt}function Ft(t){return t.reduce(((t,e)=>t.then((()=>e()))),Promise.resolve())}function Gt(){return(0,i.f3)(Ot)}},3002:(t,e,n)=>{"use strict";n.d(e,{NO:()=>Et});var i,o=n(6252),r=n(9963),s=n(2262),a=n(3577),l=Object.defineProperty,c=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable,d=(t,e,n)=>e in t?l(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,p=(t,e)=>{for(var n in e||(e={}))u.call(e,n)&&d(t,n,e[n]);if(c)for(var n of c(e))h.call(e,n)&&d(t,n,e[n]);return t},f=t=>"function"==typeof t,g=t=>"string"==typeof t,m=t=>g(t)&&t.trim().length>0,_=t=>void 0===t,y=t=>"object"==typeof t&&null!==t,v=t=>window.TouchEvent&&t instanceof TouchEvent,C=t=>S(t,"component")&&b(t.component),b=t=>{return!_(t)&&(g(t)||(f(e=t)||y(e))||C(t));var e},E=t=>y(t)&&["height","width","right","left","top","bottom"].every((e=>"number"==typeof t[e])),S=(t,e)=>(y(t)||f(t))&&e in t,w=(i=0,()=>i++);function O(t){return v(t)?t.targetTouches[0].clientX:t.clientX}function x(t){return v(t)?t.targetTouches[0].clientY:t.clientY}var P,T,M,D,R,A,L=t=>C(t)?L(t.component):(t=>S(t,"tag")&&m(t.tag))(t)?(0,o.aZ)({render:()=>t}):"string"==typeof t?t:(0,s.IU)((0,s.SU)(t)),I=()=>"undefined"!=typeof window,k=class{constructor(){this.allHandlers={}}getHandlers(t){return this.allHandlers[t]||[]}on(t,e){const n=this.getHandlers(t);n.push(e),this.allHandlers[t]=n}off(t,e){const n=this.getHandlers(t);n.splice(n.indexOf(e)>>>0,1)}emit(t,e){this.getHandlers(t).forEach((t=>t(e)))}},N=t=>["on","off","emit"].every((e=>S(t,e)&&f(t[e])));(T=P||(P={})).SUCCESS="success",T.ERROR="error",T.WARNING="warning",T.INFO="info",T.DEFAULT="default",(D=M||(M={})).TOP_LEFT="top-left",D.TOP_CENTER="top-center",D.TOP_RIGHT="top-right",D.BOTTOM_LEFT="bottom-left",D.BOTTOM_CENTER="bottom-center",D.BOTTOM_RIGHT="bottom-right",(A=R||(R={})).ADD="add",A.DISMISS="dismiss",A.UPDATE="update",A.CLEAR="clear",A.UPDATE_DEFAULTS="update_defaults";var F="Vue-Toastification",G={type:{type:String,default:P.DEFAULT},classNames:{type:[String,Array],default:()=>[]},trueBoolean:{type:Boolean,default:!0}},B={type:G.type,customIcon:{type:[String,Boolean,Object,Function],default:!0}},j={component:{type:[String,Object,Function,Boolean],default:"button"},classNames:G.classNames,showOnHover:{type:Boolean,default:!1},ariaLabel:{type:String,default:"close"}},U={timeout:{type:[Number,Boolean],default:5e3},hideProgressBar:{type:Boolean,default:!1},isRunning:{type:Boolean,default:!1}},V={transition:{type:[Object,String],default:`${F}__bounce`}},W={CORE_TOAST:{position:{type:String,default:M.TOP_RIGHT},draggable:G.trueBoolean,draggablePercent:{type:Number,default:.6},pauseOnFocusLoss:G.trueBoolean,pauseOnHover:G.trueBoolean,closeOnClick:G.trueBoolean,timeout:U.timeout,hideProgressBar:U.hideProgressBar,toastClassName:G.classNames,bodyClassName:G.classNames,icon:B.customIcon,closeButton:j.component,closeButtonClassName:j.classNames,showCloseButtonOnHover:j.showOnHover,accessibility:{type:Object,default:()=>({toastRole:"alert",closeButtonLabel:"close"})},rtl:{type:Boolean,default:!1},eventBus:{type:Object,required:!1,default:()=>new k}},TOAST:{id:{type:[String,Number],required:!0,default:0},type:G.type,content:{type:[String,Object,Function],required:!0,default:""},onClick:{type:Function,default:void 0},onClose:{type:Function,default:void 0}},CONTAINER:{container:{type:[Object,Function],default:()=>document.body},newestOnTop:G.trueBoolean,maxToasts:{type:Number,default:20},transition:V.transition,toastDefaults:Object,filterBeforeCreate:{type:Function,default:t=>t},filterToasts:{type:Function,default:t=>t},containerClassName:G.classNames,onMounted:Function,shareAppContext:[Boolean,Object]},PROGRESS_BAR:U,ICON:B,TRANSITION:V,CLOSE_BUTTON:j},H=(0,o.aZ)({name:"VtProgressBar",props:W.PROGRESS_BAR,data:()=>({hasClass:!0}),computed:{style(){return{animationDuration:`${this.timeout}ms`,animationPlayState:this.isRunning?"running":"paused",opacity:this.hideProgressBar?0:1}},cpClass(){return this.hasClass?`${F}__progress-bar`:""}},watch:{timeout(){this.hasClass=!1,this.$nextTick((()=>this.hasClass=!0))}},mounted(){this.$el.addEventListener("animationend",this.animationEnded)},beforeUnmount(){this.$el.removeEventListener("animationend",this.animationEnded)},methods:{animationEnded(){this.$emit("close-toast")}}});H.render=function(t,e){return(0,o.wg)(),(0,o.iD)("div",{style:(0,a.normalizeStyle)(t.style),class:(0,a.normalizeClass)(t.cpClass)},null,6)};var $=H,z=(0,o.aZ)({name:"VtCloseButton",props:W.CLOSE_BUTTON,computed:{buttonComponent(){return!1!==this.component?L(this.component):"button"},classes(){const t=[`${F}__close-button`];return this.showOnHover&&t.push("show-on-hover"),t.concat(this.classNames)}}}),K=(0,o.Uk)("  ");z.render=function(t,e){return(0,o.wg)(),(0,o.j4)((0,o.LL)(t.buttonComponent),(0,o.dG)({"aria-label":t.ariaLabel,class:t.classes},t.$attrs),{default:(0,o.w5)((()=>[K])),_:1},16,["aria-label","class"])};var Y=z,X={},q={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"check-circle",class:"svg-inline--fa fa-check-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},Z=[(0,o._)("path",{fill:"currentColor",d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},null,-1)];X.render=function(t,e){return(0,o.wg)(),(0,o.iD)("svg",q,Z)};var J=X,Q={},tt={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"info-circle",class:"svg-inline--fa fa-info-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},et=[(0,o._)("path",{fill:"currentColor",d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},null,-1)];Q.render=function(t,e){return(0,o.wg)(),(0,o.iD)("svg",tt,et)};var nt=Q,it={},ot={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"exclamation-circle",class:"svg-inline--fa fa-exclamation-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},rt=[(0,o._)("path",{fill:"currentColor",d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},null,-1)];it.render=function(t,e){return(0,o.wg)(),(0,o.iD)("svg",ot,rt)};var st=it,at={},lt={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"exclamation-triangle",class:"svg-inline--fa fa-exclamation-triangle fa-w-18",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512"},ct=[(0,o._)("path",{fill:"currentColor",d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},null,-1)];at.render=function(t,e){return(0,o.wg)(),(0,o.iD)("svg",lt,ct)};var ut=at,ht=(0,o.aZ)({name:"VtIcon",props:W.ICON,computed:{customIconChildren(){return S(this.customIcon,"iconChildren")?this.trimValue(this.customIcon.iconChildren):""},customIconClass(){return g(this.customIcon)?this.trimValue(this.customIcon):S(this.customIcon,"iconClass")?this.trimValue(this.customIcon.iconClass):""},customIconTag(){return S(this.customIcon,"iconTag")?this.trimValue(this.customIcon.iconTag,"i"):"i"},hasCustomIcon(){return this.customIconClass.length>0},component(){return this.hasCustomIcon?this.customIconTag:b(this.customIcon)?L(this.customIcon):this.iconTypeComponent},iconTypeComponent(){return{[P.DEFAULT]:nt,[P.INFO]:nt,[P.SUCCESS]:J,[P.ERROR]:ut,[P.WARNING]:st}[this.type]},iconClasses(){const t=[`${F}__icon`];return this.hasCustomIcon?t.concat(this.customIconClass):t}},methods:{trimValue:(t,e="")=>m(t)?t.trim():e}});ht.render=function(t,e){return(0,o.wg)(),(0,o.j4)((0,o.LL)(t.component),{class:(0,a.normalizeClass)(t.iconClasses)},{default:(0,o.w5)((()=>[(0,o.Uk)((0,a.toDisplayString)(t.customIconChildren),1)])),_:1},8,["class"])};var dt=ht,pt=(0,o.aZ)({name:"VtToast",components:{ProgressBar:$,CloseButton:Y,Icon:dt},inheritAttrs:!1,props:Object.assign({},W.CORE_TOAST,W.TOAST),data:()=>({isRunning:!0,disableTransitions:!1,beingDragged:!1,dragStart:0,dragPos:{x:0,y:0},dragRect:{}}),computed:{classes(){const t=[`${F}__toast`,`${F}__toast--${this.type}`,`${this.position}`].concat(this.toastClassName);return this.disableTransitions&&t.push("disable-transition"),this.rtl&&t.push(`${F}__toast--rtl`),t},bodyClasses(){return[`${F}__toast-${g(this.content)?"body":"component-body"}`].concat(this.bodyClassName)},draggableStyle(){return this.dragStart===this.dragPos.x?{}:this.beingDragged?{transform:`translateX(${this.dragDelta}px)`,opacity:1-Math.abs(this.dragDelta/this.removalDistance)}:{transition:"transform 0.2s, opacity 0.2s",transform:"translateX(0)",opacity:1}},dragDelta(){return this.beingDragged?this.dragPos.x-this.dragStart:0},removalDistance(){return E(this.dragRect)?(this.dragRect.right-this.dragRect.left)*this.draggablePercent:0}},mounted(){this.draggable&&this.draggableSetup(),this.pauseOnFocusLoss&&this.focusSetup()},beforeUnmount(){this.draggable&&this.draggableCleanup(),this.pauseOnFocusLoss&&this.focusCleanup()},methods:{hasProp:S,getVueComponentFromObj:L,closeToast(){this.eventBus.emit(R.DISMISS,this.id)},clickHandler(){this.onClick&&this.onClick(this.closeToast),this.closeOnClick&&(this.beingDragged&&this.dragStart!==this.dragPos.x||this.closeToast())},timeoutHandler(){this.closeToast()},hoverPause(){this.pauseOnHover&&(this.isRunning=!1)},hoverPlay(){this.pauseOnHover&&(this.isRunning=!0)},focusPause(){this.isRunning=!1},focusPlay(){this.isRunning=!0},focusSetup(){addEventListener("blur",this.focusPause),addEventListener("focus",this.focusPlay)},focusCleanup(){removeEventListener("blur",this.focusPause),removeEventListener("focus",this.focusPlay)},draggableSetup(){const t=this.$el;t.addEventListener("touchstart",this.onDragStart,{passive:!0}),t.addEventListener("mousedown",this.onDragStart),addEventListener("touchmove",this.onDragMove,{passive:!1}),addEventListener("mousemove",this.onDragMove),addEventListener("touchend",this.onDragEnd),addEventListener("mouseup",this.onDragEnd)},draggableCleanup(){const t=this.$el;t.removeEventListener("touchstart",this.onDragStart),t.removeEventListener("mousedown",this.onDragStart),removeEventListener("touchmove",this.onDragMove),removeEventListener("mousemove",this.onDragMove),removeEventListener("touchend",this.onDragEnd),removeEventListener("mouseup",this.onDragEnd)},onDragStart(t){this.beingDragged=!0,this.dragPos={x:O(t),y:x(t)},this.dragStart=O(t),this.dragRect=this.$el.getBoundingClientRect()},onDragMove(t){this.beingDragged&&(t.preventDefault(),this.isRunning&&(this.isRunning=!1),this.dragPos={x:O(t),y:x(t)})},onDragEnd(){this.beingDragged&&(Math.abs(this.dragDelta)>=this.removalDistance?(this.disableTransitions=!0,this.$nextTick((()=>this.closeToast()))):setTimeout((()=>{this.beingDragged=!1,E(this.dragRect)&&this.pauseOnHover&&this.dragRect.bottom>=this.dragPos.y&&this.dragPos.y>=this.dragRect.top&&this.dragRect.left<=this.dragPos.x&&this.dragPos.x<=this.dragRect.right?this.isRunning=!1:this.isRunning=!0})))}}}),ft=["role"];pt.render=function(t,e){const n=(0,o.up)("Icon"),i=(0,o.up)("CloseButton"),s=(0,o.up)("ProgressBar");return(0,o.wg)(),(0,o.iD)("div",{class:(0,a.normalizeClass)(t.classes),style:(0,a.normalizeStyle)(t.draggableStyle),onClick:e[0]||(e[0]=(...e)=>t.clickHandler&&t.clickHandler(...e)),onMouseenter:e[1]||(e[1]=(...e)=>t.hoverPause&&t.hoverPause(...e)),onMouseleave:e[2]||(e[2]=(...e)=>t.hoverPlay&&t.hoverPlay(...e))},[t.icon?((0,o.wg)(),(0,o.j4)(n,{key:0,"custom-icon":t.icon,type:t.type},null,8,["custom-icon","type"])):(0,o.kq)("v-if",!0),(0,o._)("div",{role:t.accessibility.toastRole||"alert",class:(0,a.normalizeClass)(t.bodyClasses)},["string"==typeof t.content?((0,o.wg)(),(0,o.iD)(o.HY,{key:0},[(0,o.Uk)((0,a.toDisplayString)(t.content),1)],2112)):((0,o.wg)(),(0,o.j4)((0,o.LL)(t.getVueComponentFromObj(t.content)),(0,o.dG)({key:1,"toast-id":t.id},t.hasProp(t.content,"props")?t.content.props:{},(0,o.mx)(t.hasProp(t.content,"listeners")?t.content.listeners:{}),{onCloseToast:t.closeToast}),null,16,["toast-id","onCloseToast"]))],10,ft),t.closeButton?((0,o.wg)(),(0,o.j4)(i,{key:1,component:t.closeButton,"class-names":t.closeButtonClassName,"show-on-hover":t.showCloseButtonOnHover,"aria-label":t.accessibility.closeButtonLabel,onClick:(0,r.withModifiers)(t.closeToast,["stop"])},null,8,["component","class-names","show-on-hover","aria-label","onClick"])):(0,o.kq)("v-if",!0),t.timeout?((0,o.wg)(),(0,o.j4)(s,{key:2,"is-running":t.isRunning,"hide-progress-bar":t.hideProgressBar,timeout:t.timeout,onCloseToast:t.timeoutHandler},null,8,["is-running","hide-progress-bar","timeout","onCloseToast"])):(0,o.kq)("v-if",!0)],38)};var gt=pt,mt=(0,o.aZ)({name:"VtTransition",props:W.TRANSITION,emits:["leave"],methods:{hasProp:S,leave(t){t instanceof HTMLElement&&(t.style.left=t.offsetLeft+"px",t.style.top=t.offsetTop+"px",t.style.width=getComputedStyle(t).width,t.style.position="absolute")}}});mt.render=function(t,e){return(0,o.wg)(),(0,o.j4)(r.TransitionGroup,{tag:"div","enter-active-class":t.transition.enter?t.transition.enter:`${t.transition}-enter-active`,"move-class":t.transition.move?t.transition.move:`${t.transition}-move`,"leave-active-class":t.transition.leave?t.transition.leave:`${t.transition}-leave-active`,onLeave:t.leave},{default:(0,o.w5)((()=>[(0,o.WI)(t.$slots,"default")])),_:3},8,["enter-active-class","move-class","leave-active-class","onLeave"])};var _t=mt,yt=(0,o.aZ)({name:"VueToastification",devtools:{hide:!0},components:{Toast:gt,VtTransition:_t},props:Object.assign({},W.CORE_TOAST,W.CONTAINER,W.TRANSITION),data:()=>({count:0,positions:Object.values(M),toasts:{},defaults:{}}),computed:{toastArray(){return Object.values(this.toasts)},filteredToasts(){return this.defaults.filterToasts(this.toastArray)}},beforeMount(){const t=this.eventBus;t.on(R.ADD,this.addToast),t.on(R.CLEAR,this.clearToasts),t.on(R.DISMISS,this.dismissToast),t.on(R.UPDATE,this.updateToast),t.on(R.UPDATE_DEFAULTS,this.updateDefaults),this.defaults=this.$props},mounted(){this.setup(this.container)},methods:{async setup(t){var e;f(t)&&(t=await t()),e=this.$el,_(e.remove)?e.parentNode&&e.parentNode.removeChild(e):e.remove(),t.appendChild(this.$el)},setToast(t){_(t.id)||(this.toasts[t.id]=t)},addToast(t){t.content=(t=>{if("string"==typeof t)return t;const e=S(t,"props")&&y(t.props)?t.props:{},n=S(t,"listeners")&&y(t.listeners)?t.listeners:{};return{component:L(t),props:e,listeners:n}})(t.content);const e=Object.assign({},this.defaults,t.type&&this.defaults.toastDefaults&&this.defaults.toastDefaults[t.type],t),n=this.defaults.filterBeforeCreate(e,this.toastArray);n&&this.setToast(n)},dismissToast(t){const e=this.toasts[t];_(e)||_(e.onClose)||e.onClose(),delete this.toasts[t]},clearToasts(){Object.keys(this.toasts).forEach((t=>{this.dismissToast(t)}))},getPositionToasts(t){const e=this.filteredToasts.filter((e=>e.position===t)).slice(0,this.defaults.maxToasts);return this.defaults.newestOnTop?e.reverse():e},updateDefaults(t){_(t.container)||this.setup(t.container),this.defaults=Object.assign({},this.defaults,t)},updateToast({id:t,options:e,create:n}){this.toasts[t]?(e.timeout&&e.timeout===this.toasts[t].timeout&&e.timeout++,this.setToast(Object.assign({},this.toasts[t],e))):n&&this.addToast(Object.assign({},{id:t},e))},getClasses(t){return[`${F}__container`,t].concat(this.defaults.containerClassName)}}});yt.render=function(t,e){const n=(0,o.up)("Toast"),i=(0,o.up)("VtTransition");return(0,o.wg)(),(0,o.iD)("div",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.positions,(e=>((0,o.wg)(),(0,o.iD)("div",{key:e},[(0,o.Wm)(i,{transition:t.defaults.transition,class:(0,a.normalizeClass)(t.getClasses(e))},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.getPositionToasts(e),(t=>((0,o.wg)(),(0,o.j4)(n,(0,o.dG)({key:t.id},t),null,16)))),128))])),_:2},1032,["transition","class"])])))),128))])};var vt=yt,Ct=(t={},e=!0)=>{const n=t.eventBus=t.eventBus||new k;e&&(0,o.Y3)((()=>{const e=(0,r.createApp)(vt,p({},t)),n=e.mount(document.createElement("div")),i=t.onMounted;if(_(i)||i(n,e),t.shareAppContext){const n=t.shareAppContext;!0===n?console.warn(`[${F}] App to share context with was not provided.`):(e._context.components=n._context.components,e._context.directives=n._context.directives,e._context.mixins=n._context.mixins,e._context.provides=n._context.provides,e.config.globalProperties=n.config.globalProperties)}}));const i=(t,e)=>{const i=Object.assign({},{id:w(),type:P.DEFAULT},e,{content:t});return n.emit(R.ADD,i),i.id};return i.clear=()=>n.emit(R.CLEAR,void 0),i.updateDefaults=t=>{n.emit(R.UPDATE_DEFAULTS,t)},i.dismiss=t=>{n.emit(R.DISMISS,t)},i.update=function(t,{content:e,options:i},o=!1){const r=Object.assign({},i,{content:e});n.emit(R.UPDATE,{id:t,options:r,create:o})},i.success=(t,e)=>i(t,Object.assign({},e,{type:P.SUCCESS})),i.info=(t,e)=>i(t,Object.assign({},e,{type:P.INFO})),i.error=(t,e)=>i(t,Object.assign({},e,{type:P.ERROR})),i.warning=(t,e)=>i(t,Object.assign({},e,{type:P.WARNING})),i},bt=()=>{const t=()=>console.warn(`[${F}] This plugin does not support SSR!`);return new Proxy(t,{get:()=>t})};function Et(t){return I()?N(t)?Ct({eventBus:t},!1):Ct(t,!0):bt()}Symbol("VueToastification"),new k}}]);
//# sourceMappingURL=fbb74ae.js.map