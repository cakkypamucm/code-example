{"version":3,"file":"js/ba3f0d0.chunk.js","mappings":"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","sources":["webpack://code-example/./src/modules/toast/index.js","webpack://code-example/./src/components/button.vue?fcf4","webpack://code-example/./src/components/button.vue?7ebe","webpack://code-example/./src/components/button.vue?4646","webpack://code-example/./src/components/fragment.vue","webpack://code-example/./src/components/fragment.vue?d71d","webpack://code-example/./src/components/preloader.vue?663c","webpack://code-example/./src/components/preloader.vue?65ca","webpack://code-example/./src/components/preloader.vue?d175","webpack://code-example/./src/layouts/page-default.vue?0e5d","webpack://code-example/./src/layouts/page-default.vue?f1f1","webpack://code-example/./src/layouts/page-default.vue?5595","webpack://code-example/./src/plugins/directives/auto-focus.js","webpack://code-example/./src/pages/login.vue?d106","webpack://code-example/./src/pages/login.vue?1763","webpack://code-example/./src/pages/login.vue?bfb2"],"sourcesContent":["import { createToastInterface } from \"vue-toastification\";\r\nimport helper from \"@/helpers/frontend\";\r\n\r\nimport \"vue-toastification/dist/index.css\";\r\nimport \"./scss/index\";\r\n\r\nclass Toast {\r\n    constructor() {\r\n        this.toast = createToastInterface({\r\n            position: \"top-right\",\r\n            transition: \"none\",\r\n            timeout: 5000,\r\n            maxToasts: 5,\r\n            pauseOnFocusLoss: false,\r\n            pauseOnHover: false,\r\n            draggable: true,\r\n            draggablePercent: 0.25,\r\n            hideProgressBar: true\r\n        });\r\n    }\r\n\r\n    showError(message) {\r\n        this.toast.error(helper.formatter.toUniqueSpaces(message));\r\n    }\r\n\r\n    showInfo(message, { timeout }) {\r\n        this.toast.info(helper.formatter.toUniqueSpaces(message), { timeout });\r\n    }\r\n\r\n    clear() {\r\n        this.toast.clear();\r\n    }\r\n}\r\n\r\nexport default new Toast();\r\n","import { renderSlot as _renderSlot, mergeProps as _mergeProps, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-30cbe47a\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = [\"type\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"button\", _mergeProps({\n    type: $props.type\n  }, _ctx.$attrs), [_renderSlot(_ctx.$slots, \"default\", {}, undefined, true)], 16, _hoisted_1);\n}","export default {\n  inheritAttrs: false,\n  props: {\n    type: {\n      type: String,\n      default: \"button\"\n    }\n  }\n};","/* unplugin-vue-components disabled */import { render } from \"./button.vue?vue&type=template&id=30cbe47a&scoped=true\"\nimport script from \"./button.vue?vue&type=script&lang=js\"\nexport * from \"./button.vue?vue&type=script&lang=js\"\n\nimport \"./button.vue?vue&type=style&index=0&id=30cbe47a&lang=scss&scoped=true\"\n\nimport exportComponent from \"D:\\\\Projects\\\\code-example\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-30cbe47a\"]])\n\nexport default __exports__","import { h } from \"vue\";\n\n// @see https://github.com/vuejs/rfcs/discussions/448\nfunction AppFragment(_ref, _ref2) {\n  let {\n    wrapTag\n  } = _ref;\n  let {\n    attrs,\n    slots\n  } = _ref2;\n  return wrapTag !== \"\" ? h(wrapTag, attrs, slots.default()) : slots.default();\n}\nAppFragment.inheritAttrs = false;\nAppFragment.props = {\n  wrapTag: {\n    type: String,\n    default: \"\"\n  }\n};\nexport default AppFragment;","/* unplugin-vue-components disabled */import script from \"./fragment.vue?vue&type=script&lang=js\"\nexport * from \"./fragment.vue?vue&type=script&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, normalizeStyle as _normalizeStyle, createElementVNode as _createElementVNode, normalizeClass as _normalizeClass, resolveComponent as _resolveComponent, withCtx as _withCtx, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-044483c0\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"ball-pulse\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_app_fragment = _resolveComponent(\"app-fragment\");\n  return _openBlock(), _createBlock(_component_app_fragment, {\n    \"wrap-tag\": $props.addWrapper ? 'div' : '',\n    class: _normalizeClass({\n      wrapper: $props.addWrapper\n    })\n  }, {\n    default: _withCtx(() => [_createElementVNode(\"div\", {\n      class: _normalizeClass([\"ball-container\", {\n        'h-100': !$props.addWrapper\n      }])\n    }, [_createElementVNode(\"div\", _hoisted_1, [(_openBlock(), _createElementBlock(_Fragment, null, _renderList(3, i => {\n      return _createElementVNode(\"div\", {\n        key: i,\n        style: _normalizeStyle({\n          'background-color': $data.ballColor\n        })\n      }, null, 4);\n    }), 64))])], 2)]),\n    _: 1\n  }, 8, [\"wrap-tag\", \"class\"]);\n}","export default {\n  props: {\n    addWrapper: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data() {\n    return {\n      ballColor: \"black\"\n    };\n  }\n};","/* unplugin-vue-components disabled */import { render } from \"./preloader.vue?vue&type=template&id=044483c0&scoped=true\"\nimport script from \"./preloader.vue?vue&type=script&lang=js\"\nexport * from \"./preloader.vue?vue&type=script&lang=js\"\n\nimport \"./preloader.vue?vue&type=style&index=0&id=044483c0&lang=scss&scoped=true\"\n\nimport exportComponent from \"D:\\\\Projects\\\\code-example\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-044483c0\"]])\n\nexport default __exports__","import { renderSlot as _renderSlot, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, vShow as _vShow, withDirectives as _withDirectives, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-aeb90b02\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"wrapper-page\"\n};\nconst _hoisted_2 = {\n  key: 0,\n  class: \"main-header\"\n};\nconst _hoisted_3 = {\n  key: 1,\n  class: \"main\"\n};\nconst _hoisted_4 = {\n  key: 2,\n  class: \"main-footer\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _withDirectives((_openBlock(), _createElementBlock(\"div\", _hoisted_1, [_ctx.$slots.header ? (_openBlock(), _createElementBlock(\"header\", _hoisted_2, [_renderSlot(_ctx.$slots, \"header\", {}, undefined, true)])) : _createCommentVNode(\"\", true), _ctx.$slots.default ? (_openBlock(), _createElementBlock(\"main\", _hoisted_3, [_renderSlot(_ctx.$slots, \"default\", {}, undefined, true)])) : _createCommentVNode(\"\", true), _ctx.$slots.footer ? (_openBlock(), _createElementBlock(\"footer\", _hoisted_4, [_renderSlot(_ctx.$slots, \"footer\", {}, undefined, true)])) : _createCommentVNode(\"\", true)], 512)), [[_vShow, $props.show]]);\n}","export default {\n  props: {\n    show: {\n      type: Boolean,\n      default: true\n    }\n  }\n};","/* unplugin-vue-components disabled */import { render } from \"./page-default.vue?vue&type=template&id=aeb90b02&scoped=true\"\nimport script from \"./page-default.vue?vue&type=script&lang=js\"\nexport * from \"./page-default.vue?vue&type=script&lang=js\"\n\nimport \"./page-default.vue?vue&type=style&index=0&id=aeb90b02&lang=scss&scoped=true\"\n\nimport exportComponent from \"D:\\\\Projects\\\\code-example\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-aeb90b02\"]])\n\nexport default __exports__","// предотвращает возможную потерю фокуса\r\nconst focus = (el) => setImmediate(() => el.focus());\r\n\r\nexport default {\r\n    mounted(el, binding) {\r\n        if (binding.value === true) {\r\n            focus(el);\r\n        }\r\n    },\r\n    updated(el, binding) {\r\n        if (binding.value === true && binding.oldValue === false) {\r\n            focus(el);\r\n        }\r\n    }\r\n};\r\n","import { openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, resolveComponent as _resolveComponent, createBlock as _createBlock, createTextVNode as _createTextVNode, resolveDirective as _resolveDirective, withCtx as _withCtx, withDirectives as _withDirectives, withModifiers as _withModifiers, createElementVNode as _createElementVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-6d559575\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"text-center\"\n};\nconst _hoisted_2 = {\n  key: 0,\n  class: \"login-header help-text\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_app_preloader = _resolveComponent(\"app-preloader\");\n  const _component_app_button = _resolveComponent(\"app-button\");\n  const _component_app_layout_page_default = _resolveComponent(\"app-layout-page-default\");\n  const _directive_app_auto_focus = _resolveDirective(\"app-auto-focus\");\n  return _openBlock(), _createBlock(_component_app_layout_page_default, null, {\n    default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_1, [$data.isUserNew ? (_openBlock(), _createElementBlock(\"h4\", _hoisted_2, \"Типа форма входа\")) : _createCommentVNode(\"\", true), _createElementVNode(\"form\", {\n      class: \"login-form\",\n      onSubmit: _cache[0] || (_cache[0] = _withModifiers(function () {\n        return $options.login && $options.login(...arguments);\n      }, [\"prevent\"]))\n    }, [_withDirectives((_openBlock(), _createBlock(_component_app_button, {\n      type: \"submit\",\n      class: \"sign-in\",\n      disabled: $data.dataLoading\n    }, {\n      default: _withCtx(() => [_createTextVNode(_toDisplayString(!$data.dataLoading ? \"Войти\" : \"\") + \" \", 1), $data.dataLoading ? (_openBlock(), _createBlock(_component_app_preloader, {\n        key: 0\n      })) : _createCommentVNode(\"\", true)]),\n      _: 1\n    }, 8, [\"disabled\"])), [[_directive_app_auto_focus, $data.focusSignin]])], 32)])]),\n    _: 1\n  });\n}","import Auth from \"@/modules/auth/index\";\nimport toast from \"@/modules/toast/index\";\nexport default {\n  data() {\n    return {\n      auth: new Auth(this.$router),\n      dataLoading: false,\n      error: null,\n      focusSignin: true,\n      isUserNew: null\n    };\n  },\n  watch: {\n    error(val) {\n      if (val) {\n        toast.showError(\"Ошибка при входе. Попробуйте еще раз\");\n      }\n    }\n  },\n  async created() {\n    this.isUserNew = await this.auth.isUserNew();\n  },\n  beforeUnmount() {\n    toast.clear();\n  },\n  methods: {\n    async login() {\n      this.dataLoading = true;\n      this.error = null;\n      try {\n        await this.auth.login();\n      } catch (error) {\n        this.dataLoading = false;\n        this.error = error;\n        this.focusSignin = false;\n        await this.$nextTick();\n        this.focusSignin = true;\n      }\n    }\n  }\n};","/* unplugin-vue-components disabled */import { render } from \"./login.vue?vue&type=template&id=6d559575&scoped=true\"\nimport script from \"./login.vue?vue&type=script&lang=js\"\nexport * from \"./login.vue?vue&type=script&lang=js\"\n\nimport \"./login.vue?vue&type=style&index=0&id=6d559575&lang=scss&scoped=true\"\n\nimport exportComponent from \"D:\\\\Projects\\\\code-example\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-6d559575\"]])\n\nexport default __exports__"],"names":["constructor","this","toast","createToastInterface","position","transition","timeout","maxToasts","pauseOnFocusLoss","pauseOnHover","draggable","draggablePercent","hideProgressBar","showError","message","error","helper","showInfo","_ref","info","clear","_hoisted_1","inheritAttrs","props","type","String","default","_ctx","_cache","$props","$setup","$data","$options","$attrs","$slots","undefined","AppFragment","_ref2","wrapTag","attrs","slots","h","class","addWrapper","Boolean","data","ballColor","_component_app_fragment","wrapper","_","i","key","style","_hoisted_2","_hoisted_3","_hoisted_4","show","header","footer","focus","el","setImmediate","mounted","binding","value","updated","oldValue","auth","$router","dataLoading","focusSignin","isUserNew","watch","val","async","beforeUnmount","methods","login","$nextTick","_component_app_preloader","_component_app_button","_component_app_layout_page_default","_directive_app_auto_focus","onSubmit","arguments","disabled"],"sourceRoot":""}